var Yp=Object.freeze,Zp=Object.defineProperty;var Bv=(ts,ns,rs)=>ns in ts?Zp(ts,ns,{enumerable:!0,configurable:!0,writable:!0,value:rs}):ts[ns]=rs;var vu=(ts,ns,rs)=>(Bv(ts,typeof ns!="symbol"?ns+"":ns,rs),rs);var zl=(ts,ns)=>Yp(Zp(ts,"raw",{value:Yp(ns||ts.slice())}));(function(){try{var ts=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ns=new Error().stack;ns&&(ts._sentryDebugIds=ts._sentryDebugIds||{},ts._sentryDebugIds[ns]="455e8e62-b25b-497e-a099-9b391c084a0f",ts._sentryDebugIdIdentifier="sentry-dbid-455e8e62-b25b-497e-a099-9b391c084a0f")}catch{}})();function _mergeNamespaces(ts,ns){for(var rs=0;rs<ns.length;rs++){const is=ns[rs];if(typeof is!="string"&&!Array.isArray(is)){for(const os in is)if(os!=="default"&&!(os in ts)){const ss=Object.getOwnPropertyDescriptor(is,os);ss&&Object.defineProperty(ts,os,ss.get?ss:{enumerable:!0,get:()=>is[os]})}}}return Object.freeze(Object.defineProperty(ts,Symbol.toStringTag,{value:"Module"}))}(function(){const ns=document.createElement("link").relList;if(ns&&ns.supports&&ns.supports("modulepreload"))return;for(const os of document.querySelectorAll('link[rel="modulepreload"]'))is(os);new MutationObserver(os=>{for(const ss of os)if(ss.type==="childList")for(const as of ss.addedNodes)as.tagName==="LINK"&&as.rel==="modulepreload"&&is(as)}).observe(document,{childList:!0,subtree:!0});function rs(os){const ss={};return os.integrity&&(ss.integrity=os.integrity),os.referrerPolicy&&(ss.referrerPolicy=os.referrerPolicy),os.crossOrigin==="use-credentials"?ss.credentials="include":os.crossOrigin==="anonymous"?ss.credentials="omit":ss.credentials="same-origin",ss}function is(os){if(os.ep)return;os.ep=!0;const ss=rs(os);fetch(os.href,ss)}})();var _global=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};_global.SENTRY_RELEASE={id:"f48e90bd117ad08820cb953cd86884578d91b7e2"};var commonjsGlobal$1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(ts){return ts&&ts.__esModule&&Object.prototype.hasOwnProperty.call(ts,"default")?ts.default:ts}function getAugmentedNamespace(ts){if(ts.__esModule)return ts;var ns=ts.default;if(typeof ns=="function"){var rs=function is(){return this instanceof is?Reflect.construct(ns,arguments,this.constructor):ns.apply(this,arguments)};rs.prototype=ns.prototype}else rs={};return Object.defineProperty(rs,"__esModule",{value:!0}),Object.keys(ts).forEach(function(is){var os=Object.getOwnPropertyDescriptor(ts,is);Object.defineProperty(rs,is,os.get?os:{enumerable:!0,get:function(){return ts[is]}})}),rs}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$7=Symbol.for("react.element"),n$8=Symbol.for("react.portal"),p$9=Symbol.for("react.fragment"),q$8=Symbol.for("react.strict_mode"),r$7=Symbol.for("react.profiler"),t$7=Symbol.for("react.provider"),u$5=Symbol.for("react.context"),v$7=Symbol.for("react.forward_ref"),w$4=Symbol.for("react.suspense"),x$3=Symbol.for("react.memo"),y$3=Symbol.for("react.lazy"),z$4=Symbol.iterator;function A$3(ts){return ts===null||typeof ts!="object"?null:(ts=z$4&&ts[z$4]||ts["@@iterator"],typeof ts=="function"?ts:null)}var B$3={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$3=Object.assign,D$3={};function E$3(ts,ns,rs){this.props=ts,this.context=ns,this.refs=D$3,this.updater=rs||B$3}E$3.prototype.isReactComponent={};E$3.prototype.setState=function(ts,ns){if(typeof ts!="object"&&typeof ts!="function"&&ts!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ts,ns,"setState")};E$3.prototype.forceUpdate=function(ts){this.updater.enqueueForceUpdate(this,ts,"forceUpdate")};function F$2(){}F$2.prototype=E$3.prototype;function G$3(ts,ns,rs){this.props=ts,this.context=ns,this.refs=D$3,this.updater=rs||B$3}var H$3=G$3.prototype=new F$2;H$3.constructor=G$3;C$3(H$3,E$3.prototype);H$3.isPureReactComponent=!0;var I$3=Array.isArray,J$2=Object.prototype.hasOwnProperty,K$3={current:null},L$3={key:!0,ref:!0,__self:!0,__source:!0};function M$3(ts,ns,rs){var is,os={},ss=null,as=null;if(ns!=null)for(is in ns.ref!==void 0&&(as=ns.ref),ns.key!==void 0&&(ss=""+ns.key),ns)J$2.call(ns,is)&&!L$3.hasOwnProperty(is)&&(os[is]=ns[is]);var ls=arguments.length-2;if(ls===1)os.children=rs;else if(1<ls){for(var cs=Array(ls),us=0;us<ls;us++)cs[us]=arguments[us+2];os.children=cs}if(ts&&ts.defaultProps)for(is in ls=ts.defaultProps,ls)os[is]===void 0&&(os[is]=ls[is]);return{$$typeof:l$7,type:ts,key:ss,ref:as,props:os,_owner:K$3.current}}function N$3(ts,ns){return{$$typeof:l$7,type:ts.type,key:ns,ref:ts.ref,props:ts.props,_owner:ts._owner}}function O$2(ts){return typeof ts=="object"&&ts!==null&&ts.$$typeof===l$7}function escape$1(ts){var ns={"=":"=0",":":"=2"};return"$"+ts.replace(/[=:]/g,function(rs){return ns[rs]})}var P$3=/\/+/g;function Q$3(ts,ns){return typeof ts=="object"&&ts!==null&&ts.key!=null?escape$1(""+ts.key):ns.toString(36)}function R$2(ts,ns,rs,is,os){var ss=typeof ts;(ss==="undefined"||ss==="boolean")&&(ts=null);var as=!1;if(ts===null)as=!0;else switch(ss){case"string":case"number":as=!0;break;case"object":switch(ts.$$typeof){case l$7:case n$8:as=!0}}if(as)return as=ts,os=os(as),ts=is===""?"."+Q$3(as,0):is,I$3(os)?(rs="",ts!=null&&(rs=ts.replace(P$3,"$&/")+"/"),R$2(os,ns,rs,"",function(us){return us})):os!=null&&(O$2(os)&&(os=N$3(os,rs+(!os.key||as&&as.key===os.key?"":(""+os.key).replace(P$3,"$&/")+"/")+ts)),ns.push(os)),1;if(as=0,is=is===""?".":is+":",I$3(ts))for(var ls=0;ls<ts.length;ls++){ss=ts[ls];var cs=is+Q$3(ss,ls);as+=R$2(ss,ns,rs,cs,os)}else if(cs=A$3(ts),typeof cs=="function")for(ts=cs.call(ts),ls=0;!(ss=ts.next()).done;)ss=ss.value,cs=is+Q$3(ss,ls++),as+=R$2(ss,ns,rs,cs,os);else if(ss==="object")throw ns=String(ts),Error("Objects are not valid as a React child (found: "+(ns==="[object Object]"?"object with keys {"+Object.keys(ts).join(", ")+"}":ns)+"). If you meant to render a collection of children, use an array instead.");return as}function S$3(ts,ns,rs){if(ts==null)return ts;var is=[],os=0;return R$2(ts,is,"","",function(ss){return ns.call(rs,ss,os++)}),is}function T$3(ts){if(ts._status===-1){var ns=ts._result;ns=ns(),ns.then(function(rs){(ts._status===0||ts._status===-1)&&(ts._status=1,ts._result=rs)},function(rs){(ts._status===0||ts._status===-1)&&(ts._status=2,ts._result=rs)}),ts._status===-1&&(ts._status=0,ts._result=ns)}if(ts._status===1)return ts._result.default;throw ts._result}var U$3={current:null},V$3={transition:null},W$3={ReactCurrentDispatcher:U$3,ReactCurrentBatchConfig:V$3,ReactCurrentOwner:K$3};function X$3(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$3,forEach:function(ts,ns,rs){S$3(ts,function(){ns.apply(this,arguments)},rs)},count:function(ts){var ns=0;return S$3(ts,function(){ns++}),ns},toArray:function(ts){return S$3(ts,function(ns){return ns})||[]},only:function(ts){if(!O$2(ts))throw Error("React.Children.only expected to receive a single React element child.");return ts}};react_production_min.Component=E$3;react_production_min.Fragment=p$9;react_production_min.Profiler=r$7;react_production_min.PureComponent=G$3;react_production_min.StrictMode=q$8;react_production_min.Suspense=w$4;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$3;react_production_min.act=X$3;react_production_min.cloneElement=function(ts,ns,rs){if(ts==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+ts+".");var is=C$3({},ts.props),os=ts.key,ss=ts.ref,as=ts._owner;if(ns!=null){if(ns.ref!==void 0&&(ss=ns.ref,as=K$3.current),ns.key!==void 0&&(os=""+ns.key),ts.type&&ts.type.defaultProps)var ls=ts.type.defaultProps;for(cs in ns)J$2.call(ns,cs)&&!L$3.hasOwnProperty(cs)&&(is[cs]=ns[cs]===void 0&&ls!==void 0?ls[cs]:ns[cs])}var cs=arguments.length-2;if(cs===1)is.children=rs;else if(1<cs){ls=Array(cs);for(var us=0;us<cs;us++)ls[us]=arguments[us+2];is.children=ls}return{$$typeof:l$7,type:ts.type,key:os,ref:ss,props:is,_owner:as}};react_production_min.createContext=function(ts){return ts={$$typeof:u$5,_currentValue:ts,_currentValue2:ts,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},ts.Provider={$$typeof:t$7,_context:ts},ts.Consumer=ts};react_production_min.createElement=M$3;react_production_min.createFactory=function(ts){var ns=M$3.bind(null,ts);return ns.type=ts,ns};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(ts){return{$$typeof:v$7,render:ts}};react_production_min.isValidElement=O$2;react_production_min.lazy=function(ts){return{$$typeof:y$3,_payload:{_status:-1,_result:ts},_init:T$3}};react_production_min.memo=function(ts,ns){return{$$typeof:x$3,type:ts,compare:ns===void 0?null:ns}};react_production_min.startTransition=function(ts){var ns=V$3.transition;V$3.transition={};try{ts()}finally{V$3.transition=ns}};react_production_min.unstable_act=X$3;react_production_min.useCallback=function(ts,ns){return U$3.current.useCallback(ts,ns)};react_production_min.useContext=function(ts){return U$3.current.useContext(ts)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(ts){return U$3.current.useDeferredValue(ts)};react_production_min.useEffect=function(ts,ns){return U$3.current.useEffect(ts,ns)};react_production_min.useId=function(){return U$3.current.useId()};react_production_min.useImperativeHandle=function(ts,ns,rs){return U$3.current.useImperativeHandle(ts,ns,rs)};react_production_min.useInsertionEffect=function(ts,ns){return U$3.current.useInsertionEffect(ts,ns)};react_production_min.useLayoutEffect=function(ts,ns){return U$3.current.useLayoutEffect(ts,ns)};react_production_min.useMemo=function(ts,ns){return U$3.current.useMemo(ts,ns)};react_production_min.useReducer=function(ts,ns,rs){return U$3.current.useReducer(ts,ns,rs)};react_production_min.useRef=function(ts){return U$3.current.useRef(ts)};react_production_min.useState=function(ts){return U$3.current.useState(ts)};react_production_min.useSyncExternalStore=function(ts,ns,rs){return U$3.current.useSyncExternalStore(ts,ns,rs)};react_production_min.useTransition=function(){return U$3.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;const React$1=getDefaultExportFromCjs(reactExports),React$2=_mergeNamespaces({__proto__:null,default:React$1},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$5=reactExports,k$6=Symbol.for("react.element"),l$6=Symbol.for("react.fragment"),m$7=Object.prototype.hasOwnProperty,n$7=f$5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$8={key:!0,ref:!0,__self:!0,__source:!0};function q$7(ts,ns,rs){var is,os={},ss=null,as=null;rs!==void 0&&(ss=""+rs),ns.key!==void 0&&(ss=""+ns.key),ns.ref!==void 0&&(as=ns.ref);for(is in ns)m$7.call(ns,is)&&!p$8.hasOwnProperty(is)&&(os[is]=ns[is]);if(ts&&ts.defaultProps)for(is in ns=ts.defaultProps,ns)os[is]===void 0&&(os[is]=ns[is]);return{$$typeof:k$6,type:ts,key:ss,ref:as,props:os,_owner:n$7.current}}reactJsxRuntime_production_min.Fragment=l$6;reactJsxRuntime_production_min.jsx=q$7;reactJsxRuntime_production_min.jsxs=q$7;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics$1=function(ts,ns){return extendStatics$1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(rs,is){rs.__proto__=is}||function(rs,is){for(var os in is)Object.prototype.hasOwnProperty.call(is,os)&&(rs[os]=is[os])},extendStatics$1(ts,ns)};function __extends$2(ts,ns){if(typeof ns!="function"&&ns!==null)throw new TypeError("Class extends value "+String(ns)+" is not a constructor or null");extendStatics$1(ts,ns);function rs(){this.constructor=ts}ts.prototype=ns===null?Object.create(ns):(rs.prototype=ns.prototype,new rs)}var __assign$1=function(){return __assign$1=Object.assign||function(ns){for(var rs,is=1,os=arguments.length;is<os;is++){rs=arguments[is];for(var ss in rs)Object.prototype.hasOwnProperty.call(rs,ss)&&(ns[ss]=rs[ss])}return ns},__assign$1.apply(this,arguments)};function __rest$5(ts,ns){var rs={};for(var is in ts)Object.prototype.hasOwnProperty.call(ts,is)&&ns.indexOf(is)<0&&(rs[is]=ts[is]);if(ts!=null&&typeof Object.getOwnPropertySymbols=="function")for(var os=0,is=Object.getOwnPropertySymbols(ts);os<is.length;os++)ns.indexOf(is[os])<0&&Object.prototype.propertyIsEnumerable.call(ts,is[os])&&(rs[is[os]]=ts[is[os]]);return rs}function __awaiter$1a(ts,ns,rs,is){function os(ss){return ss instanceof rs?ss:new rs(function(as){as(ss)})}return new(rs||(rs=Promise))(function(ss,as){function ls(ds){try{us(is.next(ds))}catch(ps){as(ps)}}function cs(ds){try{us(is.throw(ds))}catch(ps){as(ps)}}function us(ds){ds.done?ss(ds.value):os(ds.value).then(ls,cs)}us((is=is.apply(ts,ns||[])).next())})}function __generator$2(ts,ns){var rs={label:0,sent:function(){if(ss[0]&1)throw ss[1];return ss[1]},trys:[],ops:[]},is,os,ss,as;return as={next:ls(0),throw:ls(1),return:ls(2)},typeof Symbol=="function"&&(as[Symbol.iterator]=function(){return this}),as;function ls(us){return function(ds){return cs([us,ds])}}function cs(us){if(is)throw new TypeError("Generator is already executing.");for(;rs;)try{if(is=1,os&&(ss=us[0]&2?os.return:us[0]?os.throw||((ss=os.return)&&ss.call(os),0):os.next)&&!(ss=ss.call(os,us[1])).done)return ss;switch(os=0,ss&&(us=[us[0]&2,ss.value]),us[0]){case 0:case 1:ss=us;break;case 4:return rs.label++,{value:us[1],done:!1};case 5:rs.label++,os=us[1],us=[0];continue;case 7:us=rs.ops.pop(),rs.trys.pop();continue;default:if(ss=rs.trys,!(ss=ss.length>0&&ss[ss.length-1])&&(us[0]===6||us[0]===2)){rs=0;continue}if(us[0]===3&&(!ss||us[1]>ss[0]&&us[1]<ss[3])){rs.label=us[1];break}if(us[0]===6&&rs.label<ss[1]){rs.label=ss[1],ss=us;break}if(ss&&rs.label<ss[2]){rs.label=ss[2],rs.ops.push(us);break}ss[2]&&rs.ops.pop(),rs.trys.pop();continue}us=ns.call(ts,rs)}catch(ds){us=[6,ds],os=0}finally{is=ss=0}if(us[0]&5)throw us[1];return{value:us[0]?us[1]:void 0,done:!0}}}var e$6=function(ts,ns){return e$6=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(rs,is){rs.__proto__=is}||function(rs,is){for(var os in is)Object.prototype.hasOwnProperty.call(is,os)&&(rs[os]=is[os])},e$6(ts,ns)};function t$6(ts,ns){if(typeof ns!="function"&&ns!==null)throw new TypeError("Class extends value "+String(ns)+" is not a constructor or null");function rs(){this.constructor=ts}e$6(ts,ns),ts.prototype=ns===null?Object.create(ns):(rs.prototype=ns.prototype,new rs)}var n$6=function(){return n$6=Object.assign||function(ts){for(var ns,rs=1,is=arguments.length;rs<is;rs++)for(var os in ns=arguments[rs])Object.prototype.hasOwnProperty.call(ns,os)&&(ts[os]=ns[os]);return ts},n$6.apply(this,arguments)};function r$6(ts,ns){var rs={};for(var is in ts)Object.prototype.hasOwnProperty.call(ts,is)&&ns.indexOf(is)<0&&(rs[is]=ts[is]);if(ts!=null&&typeof Object.getOwnPropertySymbols=="function"){var os=0;for(is=Object.getOwnPropertySymbols(ts);os<is.length;os++)ns.indexOf(is[os])<0&&Object.prototype.propertyIsEnumerable.call(ts,is[os])&&(rs[is[os]]=ts[is[os]])}return rs}function o$2(ts,ns,rs,is){return new(rs||(rs=Promise))(function(os,ss){function as(us){try{cs(is.next(us))}catch(ds){ss(ds)}}function ls(us){try{cs(is.throw(us))}catch(ds){ss(ds)}}function cs(us){var ds;us.done?os(us.value):(ds=us.value,ds instanceof rs?ds:new rs(function(ps){ps(ds)})).then(as,ls)}cs((is=is.apply(ts,ns||[])).next())})}function i$3(ts,ns){var rs,is,os,ss,as={label:0,sent:function(){if(1&os[0])throw os[1];return os[1]},trys:[],ops:[]};return ss={next:ls(0),throw:ls(1),return:ls(2)},typeof Symbol=="function"&&(ss[Symbol.iterator]=function(){return this}),ss;function ls(cs){return function(us){return function(ds){if(rs)throw new TypeError("Generator is already executing.");for(;as;)try{if(rs=1,is&&(os=2&ds[0]?is.return:ds[0]?is.throw||((os=is.return)&&os.call(is),0):is.next)&&!(os=os.call(is,ds[1])).done)return os;switch(is=0,os&&(ds=[2&ds[0],os.value]),ds[0]){case 0:case 1:os=ds;break;case 4:return as.label++,{value:ds[1],done:!1};case 5:as.label++,is=ds[1],ds=[0];continue;case 7:ds=as.ops.pop(),as.trys.pop();continue;default:if(os=as.trys,!((os=os.length>0&&os[os.length-1])||ds[0]!==6&&ds[0]!==2)){as=0;continue}if(ds[0]===3&&(!os||ds[1]>os[0]&&ds[1]<os[3])){as.label=ds[1];break}if(ds[0]===6&&as.label<os[1]){as.label=os[1],os=ds;break}if(os&&as.label<os[2]){as.label=os[2],as.ops.push(ds);break}os[2]&&as.ops.pop(),as.trys.pop();continue}ds=ns.call(ts,as)}catch(ps){ds=[6,ps],is=0}finally{rs=os=0}if(5&ds[0])throw ds[1];return{value:ds[0]?ds[1]:void 0,done:!0}}([cs,us])}}}function c$3(ts,ns){var rs=typeof Symbol=="function"&&ts[Symbol.iterator];if(!rs)return ts;var is,os,ss=rs.call(ts),as=[];try{for(;(ns===void 0||ns-- >0)&&!(is=ss.next()).done;)as.push(is.value)}catch(ls){os={error:ls}}finally{try{is&&!is.done&&(rs=ss.return)&&rs.call(ss)}finally{if(os)throw os.error}}return as}function a$1(ts,ns,rs){if(rs||arguments.length===2)for(var is,os=0,ss=ns.length;os<ss;os++)!is&&os in ns||(is||(is=Array.prototype.slice.call(ns,0,os)),is[os]=ns[os]);return ts.concat(is||Array.prototype.slice.call(ns))}var s$2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function u$4(ts){return ts&&ts.__esModule&&Object.prototype.hasOwnProperty.call(ts,"default")?ts.default:ts}function l$5(ts,ns){return ts(ns={exports:{}},ns.exports),ns.exports}var f$4,d$3,h$5=function(ts){return ts&&ts.Math==Math&&ts},p$7=h$5(typeof globalThis=="object"&&globalThis)||h$5(typeof window=="object"&&window)||h$5(typeof self=="object"&&self)||h$5(typeof s$2=="object"&&s$2)||function(){return this}()||Function("return this")(),y$2=function(ts){try{return!!ts()}catch{return!0}},v$6=!y$2(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),m$6=!y$2(function(){var ts=(function(){}).bind();return typeof ts!="function"||ts.hasOwnProperty("prototype")}),b$4=Function.prototype.call,g$4=m$6?b$4.bind(b$4):function(){return b$4.apply(b$4,arguments)},w$3={}.propertyIsEnumerable,S$2=Object.getOwnPropertyDescriptor,k$5=S$2&&!w$3.call({1:2},1)?function(ts){var ns=S$2(this,ts);return!!ns&&ns.enumerable}:w$3,_$5={f:k$5},I$2=function(ts,ns){return{enumerable:!(1&ts),configurable:!(2&ts),writable:!(4&ts),value:ns}},O$1=Function,x$2=O$1.prototype,T$2=x$2.bind,C$2=x$2.call,j$2=m$6&&T$2.bind(C$2,C$2),L$2=function(ts){return ts instanceof O$1?m$6?j$2(ts):function(){return C$2.apply(ts,arguments)}:void 0},R$1=L$2({}.toString),W$2=L$2("".slice),Z$2=function(ts){return W$2(R$1(ts),8,-1)},E$2=Object,G$2=L$2("".split),A$2=y$2(function(){return!E$2("z").propertyIsEnumerable(0)})?function(ts){return Z$2(ts)=="String"?G$2(ts,""):E$2(ts)}:E$2,P$2=function(ts){return ts==null},X$2=TypeError,F$1=function(ts){if(P$2(ts))throw X$2("Can't call method on "+ts);return ts},K$2=function(ts){return A$2(F$1(ts))},N$2=typeof document=="object"&&document.all,U$2={all:N$2,IS_HTMLDDA:N$2===void 0&&N$2!==void 0},D$2=U$2.all,H$2=U$2.IS_HTMLDDA?function(ts){return typeof ts=="function"||ts===D$2}:function(ts){return typeof ts=="function"},Y$2=U$2.all,J$1=U$2.IS_HTMLDDA?function(ts){return typeof ts=="object"?ts!==null:H$2(ts)||ts===Y$2}:function(ts){return typeof ts=="object"?ts!==null:H$2(ts)},V$2=function(ts){return H$2(ts)?ts:void 0},z$3=function(ts,ns){return arguments.length<2?V$2(p$7[ts]):p$7[ts]&&p$7[ts][ns]},M$2=L$2({}.isPrototypeOf),B$2=z$3("navigator","userAgent")||"",Q$2=p$7.process,q$6=p$7.Deno,$$1=Q$2&&Q$2.versions||q$6&&q$6.version,ee$2=$$1&&$$1.v8;ee$2&&(d$3=(f$4=ee$2.split("."))[0]>0&&f$4[0]<4?1:+(f$4[0]+f$4[1])),!d$3&&B$2&&(!(f$4=B$2.match(/Edge\/(\d+)/))||f$4[1]>=74)&&(f$4=B$2.match(/Chrome\/(\d+)/))&&(d$3=+f$4[1]);var te$2=d$3,ne$2=!!Object.getOwnPropertySymbols&&!y$2(function(){var ts=Symbol();return!String(ts)||!(Object(ts)instanceof Symbol)||!Symbol.sham&&te$2&&te$2<41}),re$3=ne$2&&!Symbol.sham&&typeof Symbol.iterator=="symbol",oe$2=Object,ie$2=re$3?function(ts){return typeof ts=="symbol"}:function(ts){var ns=z$3("Symbol");return H$2(ns)&&M$2(ns.prototype,oe$2(ts))},ce$2=String,ae$2=function(ts){try{return ce$2(ts)}catch{return"Object"}},se$2=TypeError,ue$1=function(ts){if(H$2(ts))return ts;throw se$2(ae$2(ts)+" is not a function")},le$2=function(ts,ns){var rs=ts[ns];return P$2(rs)?void 0:ue$1(rs)},fe$2=TypeError,de$2=Object.defineProperty,he$2=function(ts,ns){try{de$2(p$7,ts,{value:ns,configurable:!0,writable:!0})}catch{p$7[ts]=ns}return ns},pe$2=p$7["__core-js_shared__"]||he$2("__core-js_shared__",{}),ye$2=l$5(function(ts){(ts.exports=function(ns,rs){return pe$2[ns]||(pe$2[ns]=rs!==void 0?rs:{})})("versions",[]).push({version:"3.25.4",mode:"global",copyright:"Â© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.25.4/LICENSE",source:"https://github.com/zloirock/core-js"})}),ve$2=Object,me$1=function(ts){return ve$2(F$1(ts))},be$2=L$2({}.hasOwnProperty),ge$2=Object.hasOwn||function(ts,ns){return be$2(me$1(ts),ns)},we$2=0,Se$2=Math.random(),ke$2=L$2(1 .toString),_e$1=function(ts){return"Symbol("+(ts===void 0?"":ts)+")_"+ke$2(++we$2+Se$2,36)},Ie$1=ye$2("wks"),Oe$2=p$7.Symbol,xe$2=Oe$2&&Oe$2.for,Te$2=re$3?Oe$2:Oe$2&&Oe$2.withoutSetter||_e$1,Ce$1=function(ts){if(!ge$2(Ie$1,ts)||!ne$2&&typeof Ie$1[ts]!="string"){var ns="Symbol."+ts;ne$2&&ge$2(Oe$2,ts)?Ie$1[ts]=Oe$2[ts]:Ie$1[ts]=re$3&&xe$2?xe$2(ns):Te$2(ns)}return Ie$1[ts]},je$2=TypeError,Le$2=Ce$1("toPrimitive"),Re$2=function(ts,ns){if(!J$1(ts)||ie$2(ts))return ts;var rs,is=le$2(ts,Le$2);if(is){if(ns===void 0&&(ns="default"),rs=g$4(is,ts,ns),!J$1(rs)||ie$2(rs))return rs;throw je$2("Can't convert object to primitive value")}return ns===void 0&&(ns="number"),function(os,ss){var as,ls;if(ss==="string"&&H$2(as=os.toString)&&!J$1(ls=g$4(as,os))||H$2(as=os.valueOf)&&!J$1(ls=g$4(as,os))||ss!=="string"&&H$2(as=os.toString)&&!J$1(ls=g$4(as,os)))return ls;throw fe$2("Can't convert object to primitive value")}(ts,ns)},We$2=function(ts){var ns=Re$2(ts,"string");return ie$2(ns)?ns:ns+""},Ze$1=p$7.document,Ee$2=J$1(Ze$1)&&J$1(Ze$1.createElement),Ge$1=function(ts){return Ee$2?Ze$1.createElement(ts):{}},Ae$2=!v$6&&!y$2(function(){return Object.defineProperty(Ge$1("div"),"a",{get:function(){return 7}}).a!=7}),Pe$1=Object.getOwnPropertyDescriptor,Xe$1={f:v$6?Pe$1:function(ts,ns){if(ts=K$2(ts),ns=We$2(ns),Ae$2)try{return Pe$1(ts,ns)}catch{}if(ge$2(ts,ns))return I$2(!g$4(_$5.f,ts,ns),ts[ns])}},Fe$2=v$6&&y$2(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42}),Ke$1=String,Ne$2=TypeError,Ue$1=function(ts){if(J$1(ts))return ts;throw Ne$2(Ke$1(ts)+" is not an object")},De$2=TypeError,He$2=Object.defineProperty,Ye$2=Object.getOwnPropertyDescriptor,Je$1={f:v$6?Fe$2?function(ts,ns,rs){if(Ue$1(ts),ns=We$2(ns),Ue$1(rs),typeof ts=="function"&&ns==="prototype"&&"value"in rs&&"writable"in rs&&!rs.writable){var is=Ye$2(ts,ns);is&&is.writable&&(ts[ns]=rs.value,rs={configurable:"configurable"in rs?rs.configurable:is.configurable,enumerable:"enumerable"in rs?rs.enumerable:is.enumerable,writable:!1})}return He$2(ts,ns,rs)}:He$2:function(ts,ns,rs){if(Ue$1(ts),ns=We$2(ns),Ue$1(rs),Ae$2)try{return He$2(ts,ns,rs)}catch{}if("get"in rs||"set"in rs)throw De$2("Accessors not supported");return"value"in rs&&(ts[ns]=rs.value),ts}},Ve$2=v$6?function(ts,ns,rs){return Je$1.f(ts,ns,I$2(1,rs))}:function(ts,ns,rs){return ts[ns]=rs,ts},ze$2=Function.prototype,Me$2=v$6&&Object.getOwnPropertyDescriptor,Be$2=ge$2(ze$2,"name"),Qe$1={EXISTS:Be$2,PROPER:Be$2&&(function(){}).name==="something",CONFIGURABLE:Be$2&&(!v$6||v$6&&Me$2(ze$2,"name").configurable)},qe$2=L$2(Function.toString);H$2(pe$2.inspectSource)||(pe$2.inspectSource=function(ts){return qe$2(ts)});var $e$2,et,tt,nt=pe$2.inspectSource,rt=p$7.WeakMap,ot=H$2(rt)&&/native code/.test(String(rt)),it=ye$2("keys"),ct=function(ts){return it[ts]||(it[ts]=_e$1(ts))},at={},st=p$7.TypeError,ut=p$7.WeakMap;if(ot||pe$2.state){var lt=pe$2.state||(pe$2.state=new ut),ft=L$2(lt.get),dt=L$2(lt.has),ht=L$2(lt.set);$e$2=function(ts,ns){if(dt(lt,ts))throw st("Object already initialized");return ns.facade=ts,ht(lt,ts,ns),ns},et=function(ts){return ft(lt,ts)||{}},tt=function(ts){return dt(lt,ts)}}else{var pt=ct("state");at[pt]=!0,$e$2=function(ts,ns){if(ge$2(ts,pt))throw st("Object already initialized");return ns.facade=ts,Ve$2(ts,pt,ns),ns},et=function(ts){return ge$2(ts,pt)?ts[pt]:{}},tt=function(ts){return ge$2(ts,pt)}}var yt={set:$e$2,get:et,has:tt,enforce:function(ts){return tt(ts)?et(ts):$e$2(ts,{})},getterFor:function(ts){return function(ns){var rs;if(!J$1(ns)||(rs=et(ns)).type!==ts)throw st("Incompatible receiver, "+ts+" required");return rs}}},vt=l$5(function(ts){var ns=Qe$1.CONFIGURABLE,rs=yt.enforce,is=yt.get,os=Object.defineProperty,ss=v$6&&!y$2(function(){return os(function(){},"length",{value:8}).length!==8}),as=String(String).split("String"),ls=ts.exports=function(cs,us,ds){String(us).slice(0,7)==="Symbol("&&(us="["+String(us).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),ds&&ds.getter&&(us="get "+us),ds&&ds.setter&&(us="set "+us),(!ge$2(cs,"name")||ns&&cs.name!==us)&&(v$6?os(cs,"name",{value:us,configurable:!0}):cs.name=us),ss&&ds&&ge$2(ds,"arity")&&cs.length!==ds.arity&&os(cs,"length",{value:ds.arity});try{ds&&ge$2(ds,"constructor")&&ds.constructor?v$6&&os(cs,"prototype",{writable:!1}):cs.prototype&&(cs.prototype=void 0)}catch{}var ps=rs(cs);return ge$2(ps,"source")||(ps.source=as.join(typeof us=="string"?us:"")),cs};Function.prototype.toString=ls(function(){return H$2(this)&&is(this).source||nt(this)},"toString")}),mt=function(ts,ns,rs,is){is||(is={});var os=is.enumerable,ss=is.name!==void 0?is.name:ns;if(H$2(rs)&&vt(rs,ss,is),is.global)os?ts[ns]=rs:he$2(ns,rs);else{try{is.unsafe?ts[ns]&&(os=!0):delete ts[ns]}catch{}os?ts[ns]=rs:Je$1.f(ts,ns,{value:rs,enumerable:!1,configurable:!is.nonConfigurable,writable:!is.nonWritable})}return ts},bt=Math.ceil,gt=Math.floor,wt=Math.trunc||function(ts){var ns=+ts;return(ns>0?gt:bt)(ns)},St=function(ts){var ns=+ts;return ns!=ns||ns===0?0:wt(ns)},kt=Math.max,_t$4=Math.min,It=function(ts,ns){var rs=St(ts);return rs<0?kt(rs+ns,0):_t$4(rs,ns)},Ot=Math.min,xt=function(ts){return ts>0?Ot(St(ts),9007199254740991):0},Tt=function(ts){return xt(ts.length)},Ct=function(ts){return function(ns,rs,is){var os,ss=K$2(ns),as=Tt(ss),ls=It(is,as);if(ts&&rs!=rs){for(;as>ls;)if((os=ss[ls++])!=os)return!0}else for(;as>ls;ls++)if((ts||ls in ss)&&ss[ls]===rs)return ts||ls||0;return!ts&&-1}},jt={includes:Ct(!0),indexOf:Ct(!1)},Lt=jt.indexOf,Rt=L$2([].push),Wt=function(ts,ns){var rs,is=K$2(ts),os=0,ss=[];for(rs in is)!ge$2(at,rs)&&ge$2(is,rs)&&Rt(ss,rs);for(;ns.length>os;)ge$2(is,rs=ns[os++])&&(~Lt(ss,rs)||Rt(ss,rs));return ss},Zt=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Et=Zt.concat("length","prototype"),Gt={f:Object.getOwnPropertyNames||function(ts){return Wt(ts,Et)}},At={f:Object.getOwnPropertySymbols},Pt=L$2([].concat),Xt=z$3("Reflect","ownKeys")||function(ts){var ns=Gt.f(Ue$1(ts)),rs=At.f;return rs?Pt(ns,rs(ts)):ns},Ft=function(ts,ns,rs){for(var is=Xt(ns),os=Je$1.f,ss=Xe$1.f,as=0;as<is.length;as++){var ls=is[as];ge$2(ts,ls)||rs&&ge$2(rs,ls)||os(ts,ls,ss(ns,ls))}},Kt=/#|\.prototype\./,Nt=function(ts,ns){var rs=Dt[Ut(ts)];return rs==Yt||rs!=Ht&&(H$2(ns)?y$2(ns):!!ns)},Ut=Nt.normalize=function(ts){return String(ts).replace(Kt,".").toLowerCase()},Dt=Nt.data={},Ht=Nt.NATIVE="N",Yt=Nt.POLYFILL="P",Jt=Nt,Vt=Xe$1.f,zt=function(ts,ns){var rs,is,os,ss,as,ls=ts.target,cs=ts.global,us=ts.stat;if(rs=cs?p$7:us?p$7[ls]||he$2(ls,{}):(p$7[ls]||{}).prototype)for(is in ns){if(ss=ns[is],os=ts.dontCallGetSet?(as=Vt(rs,is))&&as.value:rs[is],!Jt(cs?is:ls+(us?".":"#")+is,ts.forced)&&os!==void 0){if(typeof ss==typeof os)continue;Ft(ss,os)}(ts.sham||os&&os.sham)&&Ve$2(ss,"sham",!0),mt(rs,is,ss,ts)}},Mt={};Mt[Ce$1("toStringTag")]="z";var Bt,Qt=String(Mt)==="[object z]",qt=Ce$1("toStringTag"),$t=Object,en=Z$2(function(){return arguments}())=="Arguments",tn=Qt?Z$2:function(ts){var ns,rs,is;return ts===void 0?"Undefined":ts===null?"Null":typeof(rs=function(os,ss){try{return os[ss]}catch{}}(ns=$t(ts),qt))=="string"?rs:en?Z$2(ns):(is=Z$2(ns))=="Object"&&H$2(ns.callee)?"Arguments":is},nn=String,rn=function(ts){if(tn(ts)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return nn(ts)},on$2=Ce$1("match"),cn=TypeError,an=function(ts){if(function(ns){var rs;return J$1(ns)&&((rs=ns[on$2])!==void 0?!!rs:Z$2(ns)=="RegExp")}(ts))throw cn("The method doesn't accept regular expressions");return ts},sn=Ce$1("match"),un=function(ts){var ns=/./;try{"/./"[ts](ns)}catch{try{return ns[sn]=!1,"/./"[ts](ns)}catch{}}return!1},ln=Xe$1.f,fn=L$2("".startsWith),dn=L$2("".slice),hn=Math.min,pn=un("startsWith"),yn=!(pn||(Bt=ln(String.prototype,"startsWith"),!Bt||Bt.writable));zt({target:"String",proto:!0,forced:!yn&&!pn},{startsWith:function(ts){var ns=rn(F$1(this));an(ts);var rs=xt(hn(arguments.length>1?arguments[1]:void 0,ns.length)),is=rn(ts);return fn?fn(ns,is,rs):dn(ns,rs,rs+is.length)===is}});var vn=function(ts,ns){return L$2(p$7[ts].prototype[ns])};vn("String","startsWith");var mn=Array.isArray||function(ts){return Z$2(ts)=="Array"},bn=TypeError,gn=function(ts){if(ts>9007199254740991)throw bn("Maximum allowed index exceeded");return ts},wn=function(ts,ns,rs){var is=We$2(ns);is in ts?Je$1.f(ts,is,I$2(0,rs)):ts[is]=rs},Sn=function(){},kn=[],_n=z$3("Reflect","construct"),In=/^\s*(?:class|function)\b/,On=L$2(In.exec),xn=!In.exec(Sn),Tn=function(ts){if(!H$2(ts))return!1;try{return _n(Sn,kn,ts),!0}catch{return!1}},Cn=function(ts){if(!H$2(ts))return!1;switch(tn(ts)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return xn||!!On(In,nt(ts))}catch{return!0}};Cn.sham=!0;var jn,Ln=!_n||y$2(function(){var ts;return Tn(Tn.call)||!Tn(Object)||!Tn(function(){ts=!0})||ts})?Cn:Tn,Rn=Ce$1("species"),Wn=Array,Zn=function(ts,ns){return new(function(rs){var is;return mn(rs)&&(is=rs.constructor,(Ln(is)&&(is===Wn||mn(is.prototype))||J$1(is)&&(is=is[Rn])===null)&&(is=void 0)),is===void 0?Wn:is}(ts))(ns===0?0:ns)},En=Ce$1("species"),Gn=Ce$1("isConcatSpreadable"),An=te$2>=51||!y$2(function(){var ts=[];return ts[Gn]=!1,ts.concat()[0]!==ts}),Pn=(jn="concat",te$2>=51||!y$2(function(){var ts=[];return(ts.constructor={})[En]=function(){return{foo:1}},ts[jn](Boolean).foo!==1})),Xn=function(ts){if(!J$1(ts))return!1;var ns=ts[Gn];return ns!==void 0?!!ns:mn(ts)};zt({target:"Array",proto:!0,arity:1,forced:!An||!Pn},{concat:function(ts){var ns,rs,is,os,ss,as=me$1(this),ls=Zn(as,0),cs=0;for(ns=-1,is=arguments.length;ns<is;ns++)if(Xn(ss=ns===-1?as:arguments[ns]))for(os=Tt(ss),gn(cs+os),rs=0;rs<os;rs++,cs++)rs in ss&&wn(ls,cs,ss[rs]);else gn(cs+1),wn(ls,cs++,ss);return ls.length=cs,ls}});var Fn=Qt?{}.toString:function(){return"[object "+tn(this)+"]"};Qt||mt(Object.prototype,"toString",Fn,{unsafe:!0});var Kn,Nn=Object.keys||function(ts){return Wt(ts,Zt)},Un=v$6&&!Fe$2?Object.defineProperties:function(ts,ns){Ue$1(ts);for(var rs,is=K$2(ns),os=Nn(ns),ss=os.length,as=0;ss>as;)Je$1.f(ts,rs=os[as++],is[rs]);return ts},Dn={f:Un},Hn=z$3("document","documentElement"),Yn=ct("IE_PROTO"),Jn=function(){},Vn=function(ts){return"<script>"+ts+"<\/script>"},zn=function(ts){ts.write(Vn("")),ts.close();var ns=ts.parentWindow.Object;return ts=null,ns},Mn=function(){try{Kn=new ActiveXObject("htmlfile")}catch{}var ts,ns;Mn=typeof document<"u"?document.domain&&Kn?zn(Kn):((ns=Ge$1("iframe")).style.display="none",Hn.appendChild(ns),ns.src="javascript:",(ts=ns.contentWindow.document).open(),ts.write(Vn("document.F=Object")),ts.close(),ts.F):zn(Kn);for(var rs=Zt.length;rs--;)delete Mn.prototype[Zt[rs]];return Mn()};at[Yn]=!0;var Bn=Object.create||function(ts,ns){var rs;return ts!==null?(Jn.prototype=Ue$1(ts),rs=new Jn,Jn.prototype=null,rs[Yn]=ts):rs=Mn(),ns===void 0?rs:Dn.f(rs,ns)},Qn=Array,qn=Math.max,$n=Gt.f,er=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],tr=function(ts){try{return $n(ts)}catch{return function(rs,is,os){for(var ss=Tt(rs),as=It(is,ss),ls=It(os===void 0?ss:os,ss),cs=Qn(qn(ls-as,0)),us=0;as<ls;as++,us++)wn(cs,us,rs[as]);return cs.length=us,cs}(er)}},nr={f:function(ts){return er&&Z$2(ts)=="Window"?tr(ts):$n(K$2(ts))}},rr={f:Ce$1},or=p$7,ir=Je$1.f,cr=function(ts){var ns=or.Symbol||(or.Symbol={});ge$2(ns,ts)||ir(ns,ts,{value:rr.f(ts)})},ar=function(){var ts=z$3("Symbol"),ns=ts&&ts.prototype,rs=ns&&ns.valueOf,is=Ce$1("toPrimitive");ns&&!ns[is]&&mt(ns,is,function(os){return g$4(rs,this)},{arity:1})},sr=Je$1.f,ur=Ce$1("toStringTag"),lr=function(ts,ns,rs){ts&&!rs&&(ts=ts.prototype),ts&&!ge$2(ts,ur)&&sr(ts,ur,{configurable:!0,value:ns})},fr=L$2(L$2.bind),dr=function(ts,ns){return ue$1(ts),ns===void 0?ts:m$6?fr(ts,ns):function(){return ts.apply(ns,arguments)}},hr=L$2([].push),pr=function(ts){var ns=ts==1,rs=ts==2,is=ts==3,os=ts==4,ss=ts==6,as=ts==7,ls=ts==5||ss;return function(cs,us,ds,ps){for(var hs,ms,gs=me$1(cs),ys=A$2(gs),vs=dr(us,ds),bs=Tt(ys),Ss=0,$s=ps||Zn,Cs=ns?$s(cs,bs):rs||as?$s(cs,0):void 0;bs>Ss;Ss++)if((ls||Ss in ys)&&(ms=vs(hs=ys[Ss],Ss,gs),ts))if(ns)Cs[Ss]=ms;else if(ms)switch(ts){case 3:return!0;case 5:return hs;case 6:return Ss;case 2:hr(Cs,hs)}else switch(ts){case 4:return!1;case 7:hr(Cs,hs)}return ss?-1:is||os?os:Cs}},yr={forEach:pr(0),map:pr(1),filter:pr(2),some:pr(3),every:pr(4),find:pr(5),findIndex:pr(6),filterReject:pr(7)}.forEach,vr=ct("hidden"),mr=yt.set,br=yt.getterFor("Symbol"),gr=Object.prototype,wr=p$7.Symbol,Sr=wr&&wr.prototype,kr=p$7.TypeError,_r=p$7.QObject,Ir=Xe$1.f,Or=Je$1.f,xr=nr.f,Tr=_$5.f,Cr=L$2([].push),jr=ye$2("symbols"),Lr=ye$2("op-symbols"),Rr=ye$2("wks"),Wr=!_r||!_r.prototype||!_r.prototype.findChild,Zr=v$6&&y$2(function(){return Bn(Or({},"a",{get:function(){return Or(this,"a",{value:7}).a}})).a!=7})?function(ts,ns,rs){var is=Ir(gr,ns);is&&delete gr[ns],Or(ts,ns,rs),is&&ts!==gr&&Or(gr,ns,is)}:Or,Er=function(ts,ns){var rs=jr[ts]=Bn(Sr);return mr(rs,{type:"Symbol",tag:ts,description:ns}),v$6||(rs.description=ns),rs},Gr=function(ts,ns,rs){ts===gr&&Gr(Lr,ns,rs),Ue$1(ts);var is=We$2(ns);return Ue$1(rs),ge$2(jr,is)?(rs.enumerable?(ge$2(ts,vr)&&ts[vr][is]&&(ts[vr][is]=!1),rs=Bn(rs,{enumerable:I$2(0,!1)})):(ge$2(ts,vr)||Or(ts,vr,I$2(1,{})),ts[vr][is]=!0),Zr(ts,is,rs)):Or(ts,is,rs)},Ar=function(ts,ns){Ue$1(ts);var rs=K$2(ns),is=Nn(rs).concat(Kr(rs));return yr(is,function(os){v$6&&!g$4(Pr,rs,os)||Gr(ts,os,rs[os])}),ts},Pr=function(ts){var ns=We$2(ts),rs=g$4(Tr,this,ns);return!(this===gr&&ge$2(jr,ns)&&!ge$2(Lr,ns))&&(!(rs||!ge$2(this,ns)||!ge$2(jr,ns)||ge$2(this,vr)&&this[vr][ns])||rs)},Xr=function(ts,ns){var rs=K$2(ts),is=We$2(ns);if(rs!==gr||!ge$2(jr,is)||ge$2(Lr,is)){var os=Ir(rs,is);return!os||!ge$2(jr,is)||ge$2(rs,vr)&&rs[vr][is]||(os.enumerable=!0),os}},Fr=function(ts){var ns=xr(K$2(ts)),rs=[];return yr(ns,function(is){ge$2(jr,is)||ge$2(at,is)||Cr(rs,is)}),rs},Kr=function(ts){var ns=ts===gr,rs=xr(ns?Lr:K$2(ts)),is=[];return yr(rs,function(os){!ge$2(jr,os)||ns&&!ge$2(gr,os)||Cr(is,jr[os])}),is};ne$2||(Sr=(wr=function(){if(M$2(Sr,this))throw kr("Symbol is not a constructor");var ts=arguments.length&&arguments[0]!==void 0?rn(arguments[0]):void 0,ns=_e$1(ts),rs=function(is){this===gr&&g$4(rs,Lr,is),ge$2(this,vr)&&ge$2(this[vr],ns)&&(this[vr][ns]=!1),Zr(this,ns,I$2(1,is))};return v$6&&Wr&&Zr(gr,ns,{configurable:!0,set:rs}),Er(ns,ts)}).prototype,mt(Sr,"toString",function(){return br(this).tag}),mt(wr,"withoutSetter",function(ts){return Er(_e$1(ts),ts)}),_$5.f=Pr,Je$1.f=Gr,Dn.f=Ar,Xe$1.f=Xr,Gt.f=nr.f=Fr,At.f=Kr,rr.f=function(ts){return Er(Ce$1(ts),ts)},v$6&&(Or(Sr,"description",{configurable:!0,get:function(){return br(this).description}}),mt(gr,"propertyIsEnumerable",Pr,{unsafe:!0}))),zt({global:!0,constructor:!0,wrap:!0,forced:!ne$2,sham:!ne$2},{Symbol:wr}),yr(Nn(Rr),function(ts){cr(ts)}),zt({target:"Symbol",stat:!0,forced:!ne$2},{useSetter:function(){Wr=!0},useSimple:function(){Wr=!1}}),zt({target:"Object",stat:!0,forced:!ne$2,sham:!v$6},{create:function(ts,ns){return ns===void 0?Bn(ts):Ar(Bn(ts),ns)},defineProperty:Gr,defineProperties:Ar,getOwnPropertyDescriptor:Xr}),zt({target:"Object",stat:!0,forced:!ne$2},{getOwnPropertyNames:Fr}),ar(),lr(wr,"Symbol"),at[vr]=!0;var Nr=ne$2&&!!Symbol.for&&!!Symbol.keyFor,Ur=ye$2("string-to-symbol-registry"),Dr=ye$2("symbol-to-string-registry");zt({target:"Symbol",stat:!0,forced:!Nr},{for:function(ts){var ns=rn(ts);if(ge$2(Ur,ns))return Ur[ns];var rs=z$3("Symbol")(ns);return Ur[ns]=rs,Dr[rs]=ns,rs}});var Hr=ye$2("symbol-to-string-registry");zt({target:"Symbol",stat:!0,forced:!Nr},{keyFor:function(ts){if(!ie$2(ts))throw TypeError(ae$2(ts)+" is not a symbol");if(ge$2(Hr,ts))return Hr[ts]}});var Yr=Function.prototype,Jr=Yr.apply,Vr=Yr.call,zr=typeof Reflect=="object"&&Reflect.apply||(m$6?Vr.bind(Jr):function(){return Vr.apply(Jr,arguments)}),Mr=L$2([].slice),Br=z$3("JSON","stringify"),Qr=L$2(/./.exec),qr=L$2("".charAt),$r=L$2("".charCodeAt),eo=L$2("".replace),to=L$2(1 .toString),no=/[\uD800-\uDFFF]/g,ro=/^[\uD800-\uDBFF]$/,oo=/^[\uDC00-\uDFFF]$/,io=!ne$2||y$2(function(){var ts=z$3("Symbol")();return Br([ts])!="[null]"||Br({a:ts})!="{}"||Br(Object(ts))!="{}"}),co=y$2(function(){return Br("\uDF06\uD834")!=='"\\udf06\\ud834"'||Br("\uDEAD")!=='"\\udead"'}),ao=function(ts,ns){var rs=Mr(arguments),is=ns;if((J$1(ns)||ts!==void 0)&&!ie$2(ts))return mn(ns)||(ns=function(os,ss){if(H$2(is)&&(ss=g$4(is,this,os,ss)),!ie$2(ss))return ss}),rs[1]=ns,zr(Br,null,rs)},so=function(ts,ns,rs){var is=qr(rs,ns-1),os=qr(rs,ns+1);return Qr(ro,ts)&&!Qr(oo,os)||Qr(oo,ts)&&!Qr(ro,is)?"\\u"+to($r(ts,0),16):ts};Br&&zt({target:"JSON",stat:!0,arity:3,forced:io||co},{stringify:function(ts,ns,rs){var is=Mr(arguments),os=zr(io?ao:Br,null,is);return co&&typeof os=="string"?eo(os,no,so):os}});var uo=!ne$2||y$2(function(){At.f(1)});zt({target:"Object",stat:!0,forced:uo},{getOwnPropertySymbols:function(ts){var ns=At.f;return ns?ns(me$1(ts)):[]}}),cr("asyncIterator");var lo=Je$1.f,fo=p$7.Symbol,ho=fo&&fo.prototype;if(v$6&&H$2(fo)&&(!("description"in ho)||fo().description!==void 0)){var po$1={},yo=function(){var ts=arguments.length<1||arguments[0]===void 0?void 0:rn(arguments[0]),ns=M$2(ho,this)?new fo(ts):ts===void 0?fo():fo(ts);return ts===""&&(po$1[ns]=!0),ns};Ft(yo,fo),yo.prototype=ho,ho.constructor=yo;var vo=String(fo("test"))=="Symbol(test)",mo=L$2(ho.valueOf),bo=L$2(ho.toString),go=/^Symbol\((.*)\)[^)]+$/,wo=L$2("".replace),So=L$2("".slice);lo(ho,"description",{configurable:!0,get:function(){var ts=mo(this);if(ge$2(po$1,ts))return"";var ns=bo(ts),rs=vo?So(ns,7,-1):wo(ns,go,"$1");return rs===""?void 0:rs}}),zt({global:!0,constructor:!0,forced:!0},{Symbol:yo})}cr("hasInstance"),cr("isConcatSpreadable"),cr("iterator"),cr("match"),cr("matchAll"),cr("replace"),cr("search"),cr("species"),cr("split"),cr("toPrimitive"),ar(),cr("toStringTag"),lr(z$3("Symbol"),"Symbol"),cr("unscopables"),lr(p$7.JSON,"JSON",!0),lr(Math,"Math",!0),zt({global:!0},{Reflect:{}}),lr(p$7.Reflect,"Reflect",!0),or.Symbol;var ko,_o$1,Io,Oo=L$2("".charAt),xo=L$2("".charCodeAt),To=L$2("".slice),Co=function(ts){return function(ns,rs){var is,os,ss=rn(F$1(ns)),as=St(rs),ls=ss.length;return as<0||as>=ls?ts?"":void 0:(is=xo(ss,as))<55296||is>56319||as+1===ls||(os=xo(ss,as+1))<56320||os>57343?ts?Oo(ss,as):is:ts?To(ss,as,as+2):os-56320+(is-55296<<10)+65536}},jo={codeAt:Co(!1),charAt:Co(!0)},Lo=!y$2(function(){function ts(){}return ts.prototype.constructor=null,Object.getPrototypeOf(new ts)!==ts.prototype}),Ro=ct("IE_PROTO"),Wo=Object,Zo=Wo.prototype,Eo=Lo?Wo.getPrototypeOf:function(ts){var ns=me$1(ts);if(ge$2(ns,Ro))return ns[Ro];var rs=ns.constructor;return H$2(rs)&&ns instanceof rs?rs.prototype:ns instanceof Wo?Zo:null},Go=Ce$1("iterator"),Ao=!1;[].keys&&("next"in(Io=[].keys())?(_o$1=Eo(Eo(Io)))!==Object.prototype&&(ko=_o$1):Ao=!0);var Po=!J$1(ko)||y$2(function(){var ts={};return ko[Go].call(ts)!==ts});Po&&(ko={}),H$2(ko[Go])||mt(ko,Go,function(){return this});var Xo={IteratorPrototype:ko,BUGGY_SAFARI_ITERATORS:Ao},Fo={},Ko=Xo.IteratorPrototype,No=function(){return this},Uo=String,Do=TypeError,Ho=Object.setPrototypeOf||("__proto__"in{}?function(){var ts,ns=!1,rs={};try{(ts=L$2(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(rs,[]),ns=rs instanceof Array}catch{}return function(is,os){return Ue$1(is),function(ss){if(typeof ss=="object"||H$2(ss))return ss;throw Do("Can't set "+Uo(ss)+" as a prototype")}(os),ns?ts(is,os):is.__proto__=os,is}}():void 0),Yo=Qe$1.PROPER,Jo=Qe$1.CONFIGURABLE,Vo=Xo.IteratorPrototype,zo=Xo.BUGGY_SAFARI_ITERATORS,Mo=Ce$1("iterator"),Bo=function(){return this},Qo=function(ts,ns,rs,is,os,ss,as){(function(bs,Ss,$s,Cs){var Es=Ss+" Iterator";bs.prototype=Bn(Ko,{next:I$2(+!Cs,$s)}),lr(bs,Es,!1),Fo[Es]=No})(rs,ns,is);var ls,cs,us,ds=function(bs){if(bs===os&&ys)return ys;if(!zo&&bs in ms)return ms[bs];switch(bs){case"keys":case"values":case"entries":return function(){return new rs(this,bs)}}return function(){return new rs(this)}},ps=ns+" Iterator",hs=!1,ms=ts.prototype,gs=ms[Mo]||ms["@@iterator"]||os&&ms[os],ys=!zo&&gs||ds(os),vs=ns=="Array"&&ms.entries||gs;if(vs&&(ls=Eo(vs.call(new ts)))!==Object.prototype&&ls.next&&(Eo(ls)!==Vo&&(Ho?Ho(ls,Vo):H$2(ls[Mo])||mt(ls,Mo,Bo)),lr(ls,ps,!0)),Yo&&os=="values"&&gs&&gs.name!=="values"&&(Jo?Ve$2(ms,"name","values"):(hs=!0,ys=function(){return g$4(gs,this)})),os)if(cs={values:ds("values"),keys:ss?ys:ds("keys"),entries:ds("entries")},as)for(us in cs)(zo||hs||!(us in ms))&&mt(ms,us,cs[us]);else zt({target:ns,proto:!0,forced:zo||hs},cs);return ms[Mo]!==ys&&mt(ms,Mo,ys,{name:os}),Fo[ns]=ys,cs},qo=function(ts,ns){return{value:ts,done:ns}},$o=jo.charAt,ei$1=yt.set,ti$1=yt.getterFor("String Iterator");Qo(String,"String",function(ts){ei$1(this,{type:"String Iterator",string:rn(ts),index:0})},function(){var ts,ns=ti$1(this),rs=ns.string,is=ns.index;return is>=rs.length?qo(void 0,!0):(ts=$o(rs,is),ns.index+=ts.length,qo(ts,!1))});var ni$1=function(ts,ns,rs){var is,os;Ue$1(ts);try{if(!(is=le$2(ts,"return"))){if(ns==="throw")throw rs;return rs}is=g$4(is,ts)}catch(ss){os=!0,is=ss}if(ns==="throw")throw rs;if(os)throw is;return Ue$1(is),rs},ri$1=function(ts,ns,rs,is){try{return is?ns(Ue$1(rs)[0],rs[1]):ns(rs)}catch(os){ni$1(ts,"throw",os)}},oi$1=Ce$1("iterator"),ii$1=Array.prototype,ci$1=function(ts){return ts!==void 0&&(Fo.Array===ts||ii$1[oi$1]===ts)},ai$1=Ce$1("iterator"),si$1=function(ts){if(!P$2(ts))return le$2(ts,ai$1)||le$2(ts,"@@iterator")||Fo[tn(ts)]},ui$1=TypeError,li$1=function(ts,ns){var rs=arguments.length<2?si$1(ts):ns;if(ue$1(rs))return Ue$1(g$4(rs,ts));throw ui$1(ae$2(ts)+" is not iterable")},fi$1=Array,di$1=Ce$1("iterator"),hi$1=!1;try{var pi$1=0,yi$1={next:function(){return{done:!!pi$1++}},return:function(){hi$1=!0}};yi$1[di$1]=function(){return this},Array.from(yi$1,function(){throw 2})}catch{}var vi$1=function(ts,ns){if(!ns&&!hi$1)return!1;var rs=!1;try{var is={};is[di$1]=function(){return{next:function(){return{done:rs=!0}}}},ts(is)}catch{}return rs},mi$1=!vi$1(function(ts){Array.from(ts)});zt({target:"Array",stat:!0,forced:mi$1},{from:function(ts){var ns=me$1(ts),rs=Ln(this),is=arguments.length,os=is>1?arguments[1]:void 0,ss=os!==void 0;ss&&(os=dr(os,is>2?arguments[2]:void 0));var as,ls,cs,us,ds,ps,hs=si$1(ns),ms=0;if(!hs||this===fi$1&&ci$1(hs))for(as=Tt(ns),ls=rs?new this(as):fi$1(as);as>ms;ms++)ps=ss?os(ns[ms],ms):ns[ms],wn(ls,ms,ps);else for(ds=(us=li$1(ns,hs)).next,ls=rs?new this:[];!(cs=g$4(ds,us)).done;ms++)ps=ss?ri$1(us,os,[cs.value,ms],!0):cs.value,wn(ls,ms,ps);return ls.length=ms,ls}}),or.Array.from;var bi$1,gi$1,wi$1,Si$1=typeof ArrayBuffer<"u"&&typeof DataView<"u",ki$1=Je$1.f,_i=yt.enforce,Ii$1=yt.get,Oi$1=p$7.Int8Array,xi$1=Oi$1&&Oi$1.prototype,Ti$1=p$7.Uint8ClampedArray,Ci$1=Ti$1&&Ti$1.prototype,ji$1=Oi$1&&Eo(Oi$1),Li$1=xi$1&&Eo(xi$1),Ri$1=Object.prototype,Wi$1=p$7.TypeError,Zi$1=Ce$1("toStringTag"),Ei$1=_e$1("TYPED_ARRAY_TAG"),Gi$1=Si$1&&!!Ho&&tn(p$7.opera)!=="Opera",Ai$1=!1,Pi$1={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},Xi$1={BigInt64Array:8,BigUint64Array:8},Fi$1=function(ts){var ns=Eo(ts);if(J$1(ns)){var rs=Ii$1(ns);return rs&&ge$2(rs,"TypedArrayConstructor")?rs.TypedArrayConstructor:Fi$1(ns)}},Ki$1=function(ts){if(!J$1(ts))return!1;var ns=tn(ts);return ge$2(Pi$1,ns)||ge$2(Xi$1,ns)};for(bi$1 in Pi$1)(wi$1=(gi$1=p$7[bi$1])&&gi$1.prototype)?_i(wi$1).TypedArrayConstructor=gi$1:Gi$1=!1;for(bi$1 in Xi$1)(wi$1=(gi$1=p$7[bi$1])&&gi$1.prototype)&&(_i(wi$1).TypedArrayConstructor=gi$1);if((!Gi$1||!H$2(ji$1)||ji$1===Function.prototype)&&(ji$1=function(){throw Wi$1("Incorrect invocation")},Gi$1))for(bi$1 in Pi$1)p$7[bi$1]&&Ho(p$7[bi$1],ji$1);if((!Gi$1||!Li$1||Li$1===Ri$1)&&(Li$1=ji$1.prototype,Gi$1))for(bi$1 in Pi$1)p$7[bi$1]&&Ho(p$7[bi$1].prototype,Li$1);if(Gi$1&&Eo(Ci$1)!==Li$1&&Ho(Ci$1,Li$1),v$6&&!ge$2(Li$1,Zi$1))for(bi$1 in Ai$1=!0,ki$1(Li$1,Zi$1,{get:function(){return J$1(this)?this[Ei$1]:void 0}}),Pi$1)p$7[bi$1]&&Ve$2(p$7[bi$1],Ei$1,bi$1);var Ni$1={NATIVE_ARRAY_BUFFER_VIEWS:Gi$1,TYPED_ARRAY_TAG:Ai$1&&Ei$1,aTypedArray:function(ts){if(Ki$1(ts))return ts;throw Wi$1("Target is not a typed array")},aTypedArrayConstructor:function(ts){if(H$2(ts)&&(!Ho||M$2(ji$1,ts)))return ts;throw Wi$1(ae$2(ts)+" is not a typed array constructor")},exportTypedArrayMethod:function(ts,ns,rs,is){if(v$6){if(rs)for(var os in Pi$1){var ss=p$7[os];if(ss&&ge$2(ss.prototype,ts))try{delete ss.prototype[ts]}catch{try{ss.prototype[ts]=ns}catch{}}}Li$1[ts]&&!rs||mt(Li$1,ts,rs?ns:Gi$1&&xi$1[ts]||ns,is)}},exportTypedArrayStaticMethod:function(ts,ns,rs){var is,os;if(v$6){if(Ho){if(rs){for(is in Pi$1)if((os=p$7[is])&&ge$2(os,ts))try{delete os[ts]}catch{}}if(ji$1[ts]&&!rs)return;try{return mt(ji$1,ts,rs?ns:Gi$1&&ji$1[ts]||ns)}catch{}}for(is in Pi$1)!(os=p$7[is])||os[ts]&&!rs||mt(os,ts,ns)}},getTypedArrayConstructor:Fi$1,isView:function(ts){if(!J$1(ts))return!1;var ns=tn(ts);return ns==="DataView"||ge$2(Pi$1,ns)||ge$2(Xi$1,ns)},isTypedArray:Ki$1,TypedArray:ji$1,TypedArrayPrototype:Li$1},Ui$1=TypeError,Di$1=Ce$1("species"),Hi$1=function(ts,ns){var rs,is=Ue$1(ts).constructor;return is===void 0||P$2(rs=Ue$1(is)[Di$1])?ns:function(os){if(Ln(os))return os;throw Ui$1(ae$2(os)+" is not a constructor")}(rs)},Yi$1=Ni$1.aTypedArrayConstructor,Ji$1=Ni$1.getTypedArrayConstructor,Vi$1=Ni$1.aTypedArray;(0,Ni$1.exportTypedArrayMethod)("slice",function(ts,ns){for(var rs,is=Mr(Vi$1(this),ts,ns),os=Yi$1(Hi$1(rs=this,Ji$1(rs))),ss=0,as=is.length,ls=new os(as);as>ss;)ls[ss]=is[ss++];return ls},y$2(function(){new Int8Array(1).slice()}));var zi$1=Je$1.f,Mi$1=Ce$1("unscopables"),Bi$1=Array.prototype;Bi$1[Mi$1]==null&&zi$1(Bi$1,Mi$1,{configurable:!0,value:Bn(null)});var Qi$1=function(ts){Bi$1[Mi$1][ts]=!0},qi$1=jt.includes,$i$1=y$2(function(){return!Array(1).includes()});zt({target:"Array",proto:!0,forced:$i$1},{includes:function(ts){return qi$1(this,ts,arguments.length>1?arguments[1]:void 0)}}),Qi$1("includes"),vn("Array","includes");var ec$1=L$2("".indexOf);zt({target:"String",proto:!0,forced:!un("includes")},{includes:function(ts){return!!~ec$1(rn(F$1(this)),rn(an(ts)),arguments.length>1?arguments[1]:void 0)}}),vn("String","includes");var tc$1=Je$1.f,nc$1=yt.set,rc$1=yt.getterFor("Array Iterator");Qo(Array,"Array",function(ts,ns){nc$1(this,{type:"Array Iterator",target:K$2(ts),index:0,kind:ns})},function(){var ts=rc$1(this),ns=ts.target,rs=ts.kind,is=ts.index++;return!ns||is>=ns.length?(ts.target=void 0,qo(void 0,!0)):qo(rs=="keys"?is:rs=="values"?ns[is]:[is,ns[is]],!1)},"values");var oc$1=Fo.Arguments=Fo.Array;if(Qi$1("keys"),Qi$1("values"),Qi$1("entries"),v$6&&oc$1.name!=="values")try{tc$1(oc$1,"name",{value:"values"})}catch{}var ic$1=y$2(function(){if(typeof ArrayBuffer=="function"){var ts=new ArrayBuffer(8);Object.isExtensible(ts)&&Object.defineProperty(ts,"a",{value:8})}}),cc$1=Object.isExtensible,ac$1=y$2(function(){cc$1(1)})||ic$1?function(ts){return!!J$1(ts)&&(!ic$1||Z$2(ts)!="ArrayBuffer")&&(!cc$1||cc$1(ts))}:cc$1,sc$1=!y$2(function(){return Object.isExtensible(Object.preventExtensions({}))}),uc$1=l$5(function(ts){var ns=Je$1.f,rs=!1,is=_e$1("meta"),os=0,ss=function(ls){ns(ls,is,{value:{objectID:"O"+os++,weakData:{}}})},as=ts.exports={enable:function(){as.enable=function(){},rs=!0;var ls=Gt.f,cs=L$2([].splice),us={};us[is]=1,ls(us).length&&(Gt.f=function(ds){for(var ps=ls(ds),hs=0,ms=ps.length;hs<ms;hs++)if(ps[hs]===is){cs(ps,hs,1);break}return ps},zt({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:nr.f}))},fastKey:function(ls,cs){if(!J$1(ls))return typeof ls=="symbol"?ls:(typeof ls=="string"?"S":"P")+ls;if(!ge$2(ls,is)){if(!ac$1(ls))return"F";if(!cs)return"E";ss(ls)}return ls[is].objectID},getWeakData:function(ls,cs){if(!ge$2(ls,is)){if(!ac$1(ls))return!0;if(!cs)return!1;ss(ls)}return ls[is].weakData},onFreeze:function(ls){return sc$1&&rs&&ac$1(ls)&&!ge$2(ls,is)&&ss(ls),ls}};at[is]=!0});uc$1.enable,uc$1.fastKey,uc$1.getWeakData,uc$1.onFreeze;var lc$1=TypeError,fc$1=function(ts,ns){this.stopped=ts,this.result=ns},dc$1=fc$1.prototype,hc$1=function(ts,ns,rs){var is,os,ss,as,ls,cs,us,ds=rs&&rs.that,ps=!(!rs||!rs.AS_ENTRIES),hs=!(!rs||!rs.IS_RECORD),ms=!(!rs||!rs.IS_ITERATOR),gs=!(!rs||!rs.INTERRUPTED),ys=dr(ns,ds),vs=function(Ss){return is&&ni$1(is,"normal",Ss),new fc$1(!0,Ss)},bs=function(Ss){return ps?(Ue$1(Ss),gs?ys(Ss[0],Ss[1],vs):ys(Ss[0],Ss[1])):gs?ys(Ss,vs):ys(Ss)};if(hs)is=ts.iterator;else if(ms)is=ts;else{if(!(os=si$1(ts)))throw lc$1(ae$2(ts)+" is not iterable");if(ci$1(os)){for(ss=0,as=Tt(ts);as>ss;ss++)if((ls=bs(ts[ss]))&&M$2(dc$1,ls))return ls;return new fc$1(!1)}is=li$1(ts,os)}for(cs=hs?ts.next:is.next;!(us=g$4(cs,is)).done;){try{ls=bs(us.value)}catch(Ss){ni$1(is,"throw",Ss)}if(typeof ls=="object"&&ls&&M$2(dc$1,ls))return ls}return new fc$1(!1)},pc$1=TypeError,yc$1=function(ts,ns){if(M$2(ns,ts))return ts;throw pc$1("Incorrect invocation")},vc$1=function(ts,ns,rs){for(var is in ns)mt(ts,is,ns[is],rs);return ts},mc$1=Ce$1("species"),bc$1=Je$1.f,gc$1=uc$1.fastKey,wc$1=yt.set,Sc$1=yt.getterFor,kc$1={getConstructor:function(ts,ns,rs,is){var os=ts(function(us,ds){yc$1(us,ss),wc$1(us,{type:ns,index:Bn(null),first:void 0,last:void 0,size:0}),v$6||(us.size=0),P$2(ds)||hc$1(ds,us[is],{that:us,AS_ENTRIES:rs})}),ss=os.prototype,as=Sc$1(ns),ls=function(us,ds,ps){var hs,ms,gs=as(us),ys=cs(us,ds);return ys?ys.value=ps:(gs.last=ys={index:ms=gc$1(ds,!0),key:ds,value:ps,previous:hs=gs.last,next:void 0,removed:!1},gs.first||(gs.first=ys),hs&&(hs.next=ys),v$6?gs.size++:us.size++,ms!=="F"&&(gs.index[ms]=ys)),us},cs=function(us,ds){var ps,hs=as(us),ms=gc$1(ds);if(ms!=="F")return hs.index[ms];for(ps=hs.first;ps;ps=ps.next)if(ps.key==ds)return ps};return vc$1(ss,{clear:function(){for(var us=as(this),ds=us.index,ps=us.first;ps;)ps.removed=!0,ps.previous&&(ps.previous=ps.previous.next=void 0),delete ds[ps.index],ps=ps.next;us.first=us.last=void 0,v$6?us.size=0:this.size=0},delete:function(us){var ds=this,ps=as(ds),hs=cs(ds,us);if(hs){var ms=hs.next,gs=hs.previous;delete ps.index[hs.index],hs.removed=!0,gs&&(gs.next=ms),ms&&(ms.previous=gs),ps.first==hs&&(ps.first=ms),ps.last==hs&&(ps.last=gs),v$6?ps.size--:ds.size--}return!!hs},forEach:function(us){for(var ds,ps=as(this),hs=dr(us,arguments.length>1?arguments[1]:void 0);ds=ds?ds.next:ps.first;)for(hs(ds.value,ds.key,this);ds&&ds.removed;)ds=ds.previous},has:function(us){return!!cs(this,us)}}),vc$1(ss,rs?{get:function(us){var ds=cs(this,us);return ds&&ds.value},set:function(us,ds){return ls(this,us===0?0:us,ds)}}:{add:function(us){return ls(this,us=us===0?0:us,us)}}),v$6&&bc$1(ss,"size",{get:function(){return as(this).size}}),os},setStrong:function(ts,ns,rs){var is=ns+" Iterator",os=Sc$1(ns),ss=Sc$1(is);Qo(ts,ns,function(as,ls){wc$1(this,{type:is,target:as,state:os(as),kind:ls,last:void 0})},function(){for(var as=ss(this),ls=as.kind,cs=as.last;cs&&cs.removed;)cs=cs.previous;return as.target&&(as.last=cs=cs?cs.next:as.state.first)?qo(ls=="keys"?cs.key:ls=="values"?cs.value:[cs.key,cs.value],!1):(as.target=void 0,qo(void 0,!0))},rs?"entries":"values",!rs,!0),function(as){var ls=z$3(as),cs=Je$1.f;v$6&&ls&&!ls[mc$1]&&cs(ls,mc$1,{configurable:!0,get:function(){return this}})}(ns)}};function _c(ts){var ns=this.constructor;return this.then(function(rs){return ns.resolve(ts()).then(function(){return rs})},function(rs){return ns.resolve(ts()).then(function(){return ns.reject(rs)})})}function Ic$1(ts){return new this(function(ns,rs){if(!ts||ts.length===void 0)return rs(new TypeError(typeof ts+" "+ts+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var is=Array.prototype.slice.call(ts);if(is.length===0)return ns([]);var os=is.length;function ss(ls,cs){if(cs&&(typeof cs=="object"||typeof cs=="function")){var us=cs.then;if(typeof us=="function")return void us.call(cs,function(ds){ss(ls,ds)},function(ds){is[ls]={status:"rejected",reason:ds},--os==0&&ns(is)})}is[ls]={status:"fulfilled",value:cs},--os==0&&ns(is)}for(var as=0;as<is.length;as++)ss(as,is[as])})}(function(ts,ns,rs){var is=ts.indexOf("Map")!==-1,os=ts.indexOf("Weak")!==-1,ss=is?"set":"add",as=p$7[ts],ls=as&&as.prototype,cs=as,us={},ds=function(vs){var bs=L$2(ls[vs]);mt(ls,vs,vs=="add"?function(Ss){return bs(this,Ss===0?0:Ss),this}:vs=="delete"?function(Ss){return!(os&&!J$1(Ss))&&bs(this,Ss===0?0:Ss)}:vs=="get"?function(Ss){return os&&!J$1(Ss)?void 0:bs(this,Ss===0?0:Ss)}:vs=="has"?function(Ss){return!(os&&!J$1(Ss))&&bs(this,Ss===0?0:Ss)}:function(Ss,$s){return bs(this,Ss===0?0:Ss,$s),this})};if(Jt(ts,!H$2(as)||!(os||ls.forEach&&!y$2(function(){new as().entries().next()}))))cs=rs.getConstructor(ns,ts,is,ss),uc$1.enable();else if(Jt(ts,!0)){var ps=new cs,hs=ps[ss](os?{}:-0,1)!=ps,ms=y$2(function(){ps.has(1)}),gs=vi$1(function(vs){new as(vs)}),ys=!os&&y$2(function(){for(var vs=new as,bs=5;bs--;)vs[ss](bs,bs);return!vs.has(-0)});gs||((cs=ns(function(vs,bs){yc$1(vs,ls);var Ss=function($s,Cs,Es){var xs,ws;return Ho&&H$2(xs=Cs.constructor)&&xs!==Es&&J$1(ws=xs.prototype)&&ws!==Es.prototype&&Ho($s,ws),$s}(new as,vs,cs);return P$2(bs)||hc$1(bs,Ss[ss],{that:Ss,AS_ENTRIES:is}),Ss})).prototype=ls,ls.constructor=cs),(ms||ys)&&(ds("delete"),ds("has"),is&&ds("get")),(ys||hs)&&ds(ss),os&&ls.clear&&delete ls.clear}us[ts]=cs,zt({global:!0,constructor:!0,forced:cs!=as},us),lr(cs,ts),os||rs.setStrong(cs,ts,is)})("Set",function(ts){return function(){return ts(this,arguments.length?arguments[0]:void 0)}},kc$1),or.Set;var Oc$1=setTimeout;function xc$1(ts){return!!(ts&&ts.length!==void 0)}function Tc$1(){}function Cc$1(ts){if(!(this instanceof Cc$1))throw new TypeError("Promises must be constructed via new");if(typeof ts!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],Ec$1(ts,this)}function jc$1(ts,ns){for(;ts._state===3;)ts=ts._value;ts._state!==0?(ts._handled=!0,Cc$1._immediateFn(function(){var rs=ts._state===1?ns.onFulfilled:ns.onRejected;if(rs!==null){var is;try{is=rs(ts._value)}catch(os){return void Rc$1(ns.promise,os)}Lc$1(ns.promise,is)}else(ts._state===1?Lc$1:Rc$1)(ns.promise,ts._value)})):ts._deferreds.push(ns)}function Lc$1(ts,ns){try{if(ns===ts)throw new TypeError("A promise cannot be resolved with itself.");if(ns&&(typeof ns=="object"||typeof ns=="function")){var rs=ns.then;if(ns instanceof Cc$1)return ts._state=3,ts._value=ns,void Wc$1(ts);if(typeof rs=="function")return void Ec$1((is=rs,os=ns,function(){is.apply(os,arguments)}),ts)}ts._state=1,ts._value=ns,Wc$1(ts)}catch(ss){Rc$1(ts,ss)}var is,os}function Rc$1(ts,ns){ts._state=2,ts._value=ns,Wc$1(ts)}function Wc$1(ts){ts._state===2&&ts._deferreds.length===0&&Cc$1._immediateFn(function(){ts._handled||Cc$1._unhandledRejectionFn(ts._value)});for(var ns=0,rs=ts._deferreds.length;ns<rs;ns++)jc$1(ts,ts._deferreds[ns]);ts._deferreds=null}function Zc$1(ts,ns,rs){this.onFulfilled=typeof ts=="function"?ts:null,this.onRejected=typeof ns=="function"?ns:null,this.promise=rs}function Ec$1(ts,ns){var rs=!1;try{ts(function(is){rs||(rs=!0,Lc$1(ns,is))},function(is){rs||(rs=!0,Rc$1(ns,is))})}catch(is){if(rs)return;rs=!0,Rc$1(ns,is)}}Cc$1.prototype.catch=function(ts){return this.then(null,ts)},Cc$1.prototype.then=function(ts,ns){var rs=new this.constructor(Tc$1);return jc$1(this,new Zc$1(ts,ns,rs)),rs},Cc$1.prototype.finally=_c,Cc$1.all=function(ts){return new Cc$1(function(ns,rs){if(!xc$1(ts))return rs(new TypeError("Promise.all accepts an array"));var is=Array.prototype.slice.call(ts);if(is.length===0)return ns([]);var os=is.length;function ss(ls,cs){try{if(cs&&(typeof cs=="object"||typeof cs=="function")){var us=cs.then;if(typeof us=="function")return void us.call(cs,function(ds){ss(ls,ds)},rs)}is[ls]=cs,--os==0&&ns(is)}catch(ds){rs(ds)}}for(var as=0;as<is.length;as++)ss(as,is[as])})},Cc$1.allSettled=Ic$1,Cc$1.resolve=function(ts){return ts&&typeof ts=="object"&&ts.constructor===Cc$1?ts:new Cc$1(function(ns){ns(ts)})},Cc$1.reject=function(ts){return new Cc$1(function(ns,rs){rs(ts)})},Cc$1.race=function(ts){return new Cc$1(function(ns,rs){if(!xc$1(ts))return rs(new TypeError("Promise.race accepts an array"));for(var is=0,os=ts.length;is<os;is++)Cc$1.resolve(ts[is]).then(ns,rs)})},Cc$1._immediateFn=typeof setImmediate=="function"&&function(ts){setImmediate(ts)}||function(ts){Oc$1(ts,0)},Cc$1._unhandledRejectionFn=function(ts){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",ts)};var Gc$1=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}();typeof Gc$1.Promise!="function"?Gc$1.Promise=Cc$1:(Gc$1.Promise.prototype.finally||(Gc$1.Promise.prototype.finally=_c),Gc$1.Promise.allSettled||(Gc$1.Promise.allSettled=Ic$1)),function(ts){function ns(ms){for(var gs=0,ys=Math.min(65536,ms.length+1),vs=new Uint16Array(ys),bs=[],Ss=0;;){var $s=gs<ms.length;if(!$s||Ss>=ys-1){var Cs=vs.subarray(0,Ss);if(bs.push(String.fromCharCode.apply(null,Cs)),!$s)return bs.join("");ms=ms.subarray(gs),gs=0,Ss=0}var Es=ms[gs++];if(!(128&Es))vs[Ss++]=Es;else if((224&Es)==192){var xs=63&ms[gs++];vs[Ss++]=(31&Es)<<6|xs}else if((240&Es)==224){xs=63&ms[gs++];var ws=63&ms[gs++];vs[Ss++]=(31&Es)<<12|xs<<6|ws}else if((248&Es)==240){var ks=(7&Es)<<18|(xs=63&ms[gs++])<<12|(ws=63&ms[gs++])<<6|63&ms[gs++];ks>65535&&(ks-=65536,vs[Ss++]=ks>>>10&1023|55296,ks=56320|1023&ks),vs[Ss++]=ks}}}var rs="Failed to ",is=function(ms,gs,ys){if(ms)throw new Error("".concat(rs).concat(gs,": the '").concat(ys,"' option is unsupported."))},os=typeof Buffer=="function"&&Buffer.from,ss=os?function(ms){return Buffer.from(ms)}:function(ms){for(var gs=0,ys=ms.length,vs=0,bs=Math.max(32,ys+(ys>>>1)+7),Ss=new Uint8Array(bs>>>3<<3);gs<ys;){var $s=ms.charCodeAt(gs++);if($s>=55296&&$s<=56319){if(gs<ys){var Cs=ms.charCodeAt(gs);(64512&Cs)==56320&&(++gs,$s=((1023&$s)<<10)+(1023&Cs)+65536)}if($s>=55296&&$s<=56319)continue}if(vs+4>Ss.length){bs+=8,bs=(bs*=1+gs/ms.length*2)>>>3<<3;var Es=new Uint8Array(bs);Es.set(Ss),Ss=Es}if(4294967168&$s){if(!(4294965248&$s))Ss[vs++]=$s>>>6&31|192;else if(!(4294901760&$s))Ss[vs++]=$s>>>12&15|224,Ss[vs++]=$s>>>6&63|128;else{if(4292870144&$s)continue;Ss[vs++]=$s>>>18&7|240,Ss[vs++]=$s>>>12&63|128,Ss[vs++]=$s>>>6&63|128}Ss[vs++]=63&$s|128}else Ss[vs++]=$s}return Ss.slice?Ss.slice(0,vs):Ss.subarray(0,vs)};function as(){this.encoding="utf-8"}as.prototype.encode=function(ms,gs){return is(gs&&gs.stream,"encode","stream"),ss(ms)};var ls=!os&&typeof Blob=="function"&&typeof URL=="function"&&typeof URL.createObjectURL=="function",cs=["utf-8","utf8","unicode-1-1-utf-8"],us=ns;os?us=function(ms,gs){return(ms instanceof Buffer?ms:Buffer.from(ms.buffer,ms.byteOffset,ms.byteLength)).toString(gs)}:ls&&(us=function(ms){try{return function(gs){var ys;try{var vs=new Blob([gs],{type:"text/plain;charset=UTF-8"});ys=URL.createObjectURL(vs);var bs=new XMLHttpRequest;return bs.open("GET",ys,!1),bs.send(),bs.responseText}finally{ys&&URL.revokeObjectURL(ys)}}(ms)}catch{return ns(ms)}});var ds="construct 'TextDecoder'",ps="".concat(rs," ").concat(ds,": the ");function hs(ms,gs){if(is(gs&&gs.fatal,ds,"fatal"),ms=ms||"utf-8",!(os?Buffer.isEncoding(ms):cs.indexOf(ms.toLowerCase())!==-1))throw new RangeError("".concat(ps," encoding label provided ('").concat(ms,"') is invalid."));this.encoding=ms,this.fatal=!1,this.ignoreBOM=!1}hs.prototype.decode=function(ms,gs){var ys;return is(gs&&gs.stream,"decode","stream"),ys=ms instanceof Uint8Array?ms:ms.buffer instanceof ArrayBuffer?new Uint8Array(ms.buffer):new Uint8Array(ms),us(ys,this.encoding)},ts.TextEncoder=ts.TextEncoder||as,ts.TextDecoder=ts.TextDecoder||hs}(typeof window<"u"?window:s$2),function(){function ts(vs,bs){if(!(vs instanceof bs))throw new TypeError("Cannot call a class as a function")}function ns(vs,bs){for(var Ss=0;Ss<bs.length;Ss++){var $s=bs[Ss];$s.enumerable=$s.enumerable||!1,$s.configurable=!0,"value"in $s&&($s.writable=!0),Object.defineProperty(vs,$s.key,$s)}}function rs(vs,bs,Ss){return bs&&ns(vs.prototype,bs),Ss&&ns(vs,Ss),vs}function is(vs,bs){if(typeof bs!="function"&&bs!==null)throw new TypeError("Super expression must either be null or a function");vs.prototype=Object.create(bs&&bs.prototype,{constructor:{value:vs,writable:!0,configurable:!0}}),bs&&ss(vs,bs)}function os(vs){return os=Object.setPrototypeOf?Object.getPrototypeOf:function(bs){return bs.__proto__||Object.getPrototypeOf(bs)},os(vs)}function ss(vs,bs){return ss=Object.setPrototypeOf||function(Ss,$s){return Ss.__proto__=$s,Ss},ss(vs,bs)}function as(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ls(vs){if(vs===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return vs}function cs(vs,bs){return!bs||typeof bs!="object"&&typeof bs!="function"?ls(vs):bs}function us(vs){var bs=as();return function(){var Ss,$s=os(vs);if(bs){var Cs=os(this).constructor;Ss=Reflect.construct($s,arguments,Cs)}else Ss=$s.apply(this,arguments);return cs(this,Ss)}}function ds(vs,bs){for(;!Object.prototype.hasOwnProperty.call(vs,bs)&&(vs=os(vs))!==null;);return vs}function ps(vs,bs,Ss){return ps=typeof Reflect<"u"&&Reflect.get?Reflect.get:function($s,Cs,Es){var xs=ds($s,Cs);if(xs){var ws=Object.getOwnPropertyDescriptor(xs,Cs);return ws.get?ws.get.call(Es):ws.value}},ps(vs,bs,Ss||vs)}var hs=function(){function vs(){ts(this,vs),Object.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return rs(vs,[{key:"addEventListener",value:function(bs,Ss,$s){bs in this.listeners||(this.listeners[bs]=[]),this.listeners[bs].push({callback:Ss,options:$s})}},{key:"removeEventListener",value:function(bs,Ss){if(bs in this.listeners){for(var $s=this.listeners[bs],Cs=0,Es=$s.length;Cs<Es;Cs++)if($s[Cs].callback===Ss)return void $s.splice(Cs,1)}}},{key:"dispatchEvent",value:function(bs){if(bs.type in this.listeners){for(var Ss=this.listeners[bs.type].slice(),$s=0,Cs=Ss.length;$s<Cs;$s++){var Es=Ss[$s];try{Es.callback.call(this,bs)}catch(xs){Promise.resolve().then(function(){throw xs})}Es.options&&Es.options.once&&this.removeEventListener(bs.type,Es.callback)}return!bs.defaultPrevented}}}]),vs}(),ms=function(vs){is(Ss,vs);var bs=us(Ss);function Ss(){var $s;return ts(this,Ss),($s=bs.call(this)).listeners||hs.call(ls($s)),Object.defineProperty(ls($s),"aborted",{value:!1,writable:!0,configurable:!0}),Object.defineProperty(ls($s),"onabort",{value:null,writable:!0,configurable:!0}),$s}return rs(Ss,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function($s){$s.type==="abort"&&(this.aborted=!0,typeof this.onabort=="function"&&this.onabort.call(this,$s)),ps(os(Ss.prototype),"dispatchEvent",this).call(this,$s)}}]),Ss}(hs),gs=function(){function vs(){ts(this,vs),Object.defineProperty(this,"signal",{value:new ms,writable:!0,configurable:!0})}return rs(vs,[{key:"abort",value:function(){var bs;try{bs=new Event("abort")}catch{typeof document<"u"?document.createEvent?(bs=document.createEvent("Event")).initEvent("abort",!1,!1):(bs=document.createEventObject()).type="abort":bs={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(bs)}},{key:"toString",value:function(){return"[object AbortController]"}}]),vs}();function ys(vs){return vs.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL?(console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill"),!0):typeof vs.Request=="function"&&!vs.Request.prototype.hasOwnProperty("signal")||!vs.AbortController}typeof Symbol<"u"&&Symbol.toStringTag&&(gs.prototype[Symbol.toStringTag]="AbortController",ms.prototype[Symbol.toStringTag]="AbortSignal"),function(vs){ys(vs)&&(vs.AbortController=gs,vs.AbortSignal=ms)}(typeof self<"u"?self:s$2)}();var Ac$1=l$5(function(ts,ns){Object.defineProperty(ns,"__esModule",{value:!0});var rs=function(){function is(){var os=this;this.locked=new Map,this.addToLocked=function(ss,as){var ls=os.locked.get(ss);ls===void 0?as===void 0?os.locked.set(ss,[]):os.locked.set(ss,[as]):as!==void 0&&(ls.unshift(as),os.locked.set(ss,ls))},this.isLocked=function(ss){return os.locked.has(ss)},this.lock=function(ss){return new Promise(function(as,ls){os.isLocked(ss)?os.addToLocked(ss,as):(os.addToLocked(ss),as())})},this.unlock=function(ss){var as=os.locked.get(ss);if(as!==void 0&&as.length!==0){var ls=as.pop();os.locked.set(ss,as),ls!==void 0&&setTimeout(ls,0)}else os.locked.delete(ss)}}return is.getInstance=function(){return is.instance===void 0&&(is.instance=new is),is.instance},is}();ns.default=function(){return rs.getInstance()}});u$4(Ac$1);var Pc$1=l$5(function(ts,ns){var rs=s$2&&s$2.__awaiter||function(cs,us,ds,ps){return new(ds||(ds=Promise))(function(hs,ms){function gs(bs){try{vs(ps.next(bs))}catch(Ss){ms(Ss)}}function ys(bs){try{vs(ps.throw(bs))}catch(Ss){ms(Ss)}}function vs(bs){bs.done?hs(bs.value):new ds(function(Ss){Ss(bs.value)}).then(gs,ys)}vs((ps=ps.apply(cs,us||[])).next())})},is=s$2&&s$2.__generator||function(cs,us){var ds,ps,hs,ms,gs={label:0,sent:function(){if(1&hs[0])throw hs[1];return hs[1]},trys:[],ops:[]};return ms={next:ys(0),throw:ys(1),return:ys(2)},typeof Symbol=="function"&&(ms[Symbol.iterator]=function(){return this}),ms;function ys(vs){return function(bs){return function(Ss){if(ds)throw new TypeError("Generator is already executing.");for(;gs;)try{if(ds=1,ps&&(hs=2&Ss[0]?ps.return:Ss[0]?ps.throw||((hs=ps.return)&&hs.call(ps),0):ps.next)&&!(hs=hs.call(ps,Ss[1])).done)return hs;switch(ps=0,hs&&(Ss=[2&Ss[0],hs.value]),Ss[0]){case 0:case 1:hs=Ss;break;case 4:return gs.label++,{value:Ss[1],done:!1};case 5:gs.label++,ps=Ss[1],Ss=[0];continue;case 7:Ss=gs.ops.pop(),gs.trys.pop();continue;default:if(hs=gs.trys,!((hs=hs.length>0&&hs[hs.length-1])||Ss[0]!==6&&Ss[0]!==2)){gs=0;continue}if(Ss[0]===3&&(!hs||Ss[1]>hs[0]&&Ss[1]<hs[3])){gs.label=Ss[1];break}if(Ss[0]===6&&gs.label<hs[1]){gs.label=hs[1],hs=Ss;break}if(hs&&gs.label<hs[2]){gs.label=hs[2],gs.ops.push(Ss);break}hs[2]&&gs.ops.pop(),gs.trys.pop();continue}Ss=us.call(cs,gs)}catch($s){Ss=[6,$s],ps=0}finally{ds=hs=0}if(5&Ss[0])throw Ss[1];return{value:Ss[0]?Ss[1]:void 0,done:!0}}([vs,bs])}}};Object.defineProperty(ns,"__esModule",{value:!0});var os="browser-tabs-lock-key";function ss(cs){return new Promise(function(us){return setTimeout(us,cs)})}function as(cs){for(var us="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",ds="",ps=0;ps<cs;ps++)ds+=us[Math.floor(Math.random()*us.length)];return ds}var ls=function(){function cs(){this.acquiredIatSet=new Set,this.id=Date.now().toString()+as(15),this.acquireLock=this.acquireLock.bind(this),this.releaseLock=this.releaseLock.bind(this),this.releaseLock__private__=this.releaseLock__private__.bind(this),this.waitForSomethingToChange=this.waitForSomethingToChange.bind(this),this.refreshLockWhileAcquired=this.refreshLockWhileAcquired.bind(this),cs.waiters===void 0&&(cs.waiters=[])}return cs.prototype.acquireLock=function(us,ds){return ds===void 0&&(ds=5e3),rs(this,void 0,void 0,function(){var ps,hs,ms,gs,ys,vs;return is(this,function(bs){switch(bs.label){case 0:ps=Date.now()+as(4),hs=Date.now()+ds,ms=os+"-"+us,gs=window.localStorage,bs.label=1;case 1:return Date.now()<hs?[4,ss(30)]:[3,8];case 2:return bs.sent(),gs.getItem(ms)!==null?[3,5]:(ys=this.id+"-"+us+"-"+ps,[4,ss(Math.floor(25*Math.random()))]);case 3:return bs.sent(),gs.setItem(ms,JSON.stringify({id:this.id,iat:ps,timeoutKey:ys,timeAcquired:Date.now(),timeRefreshed:Date.now()})),[4,ss(30)];case 4:return bs.sent(),(vs=gs.getItem(ms))!==null&&(vs=JSON.parse(vs)).id===this.id&&vs.iat===ps?(this.acquiredIatSet.add(ps),this.refreshLockWhileAcquired(ms,ps),[2,!0]):[3,7];case 5:return cs.lockCorrector(),[4,this.waitForSomethingToChange(hs)];case 6:bs.sent(),bs.label=7;case 7:return ps=Date.now()+as(4),[3,1];case 8:return[2,!1]}})})},cs.prototype.refreshLockWhileAcquired=function(us,ds){return rs(this,void 0,void 0,function(){var ps=this;return is(this,function(hs){return setTimeout(function(){return rs(ps,void 0,void 0,function(){var ms,gs;return is(this,function(ys){switch(ys.label){case 0:return[4,Ac$1.default().lock(ds)];case 1:return ys.sent(),this.acquiredIatSet.has(ds)?(ms=window.localStorage,(gs=ms.getItem(us))===null?(Ac$1.default().unlock(ds),[2]):((gs=JSON.parse(gs)).timeRefreshed=Date.now(),ms.setItem(us,JSON.stringify(gs)),Ac$1.default().unlock(ds),this.refreshLockWhileAcquired(us,ds),[2])):(Ac$1.default().unlock(ds),[2])}})})},1e3),[2]})})},cs.prototype.waitForSomethingToChange=function(us){return rs(this,void 0,void 0,function(){return is(this,function(ds){switch(ds.label){case 0:return[4,new Promise(function(ps){var hs=!1,ms=Date.now(),gs=!1;function ys(){if(gs||(window.removeEventListener("storage",ys),cs.removeFromWaiting(ys),clearTimeout(vs),gs=!0),!hs){hs=!0;var bs=50-(Date.now()-ms);bs>0?setTimeout(ps,bs):ps()}}window.addEventListener("storage",ys),cs.addToWaiting(ys);var vs=setTimeout(ys,Math.max(0,us-Date.now()))})];case 1:return ds.sent(),[2]}})})},cs.addToWaiting=function(us){this.removeFromWaiting(us),cs.waiters!==void 0&&cs.waiters.push(us)},cs.removeFromWaiting=function(us){cs.waiters!==void 0&&(cs.waiters=cs.waiters.filter(function(ds){return ds!==us}))},cs.notifyWaiters=function(){cs.waiters!==void 0&&cs.waiters.slice().forEach(function(us){return us()})},cs.prototype.releaseLock=function(us){return rs(this,void 0,void 0,function(){return is(this,function(ds){switch(ds.label){case 0:return[4,this.releaseLock__private__(us)];case 1:return[2,ds.sent()]}})})},cs.prototype.releaseLock__private__=function(us){return rs(this,void 0,void 0,function(){var ds,ps,hs;return is(this,function(ms){switch(ms.label){case 0:return ds=window.localStorage,ps=os+"-"+us,(hs=ds.getItem(ps))===null?[2]:(hs=JSON.parse(hs)).id!==this.id?[3,2]:[4,Ac$1.default().lock(hs.iat)];case 1:ms.sent(),this.acquiredIatSet.delete(hs.iat),ds.removeItem(ps),Ac$1.default().unlock(hs.iat),cs.notifyWaiters(),ms.label=2;case 2:return[2]}})})},cs.lockCorrector=function(){for(var us=Date.now()-5e3,ds=window.localStorage,ps=Object.keys(ds),hs=!1,ms=0;ms<ps.length;ms++){var gs=ps[ms];if(gs.includes(os)){var ys=ds.getItem(gs);ys!==null&&((ys=JSON.parse(ys)).timeRefreshed===void 0&&ys.timeAcquired<us||ys.timeRefreshed!==void 0&&ys.timeRefreshed<us)&&(ds.removeItem(gs),hs=!0)}}hs&&cs.notifyWaiters()},cs.waiters=void 0,cs}();ns.default=ls}),Xc$1=u$4(Pc$1),Fc$1={timeoutInSeconds:60},Kc$1=["login_required","consent_required","interaction_required","account_selection_required","access_denied"],Nc$1={name:"auth0-spa-js",version:"1.22.6"},Uc$1=function(){return Date.now()},Dc$1=function(ts){function ns(rs,is){var os=ts.call(this,is)||this;return os.error=rs,os.error_description=is,Object.setPrototypeOf(os,ns.prototype),os}return t$6(ns,ts),ns.fromPayload=function(rs){return new ns(rs.error,rs.error_description)},ns}(Error),Hc$1=function(ts){function ns(rs,is,os,ss){ss===void 0&&(ss=null);var as=ts.call(this,rs,is)||this;return as.state=os,as.appState=ss,Object.setPrototypeOf(as,ns.prototype),as}return t$6(ns,ts),ns}(Dc$1),Yc$1=function(ts){function ns(){var rs=ts.call(this,"timeout","Timeout")||this;return Object.setPrototypeOf(rs,ns.prototype),rs}return t$6(ns,ts),ns}(Dc$1),Jc$1=function(ts){function ns(rs){var is=ts.call(this)||this;return is.popup=rs,Object.setPrototypeOf(is,ns.prototype),is}return t$6(ns,ts),ns}(Yc$1),Vc$1=function(ts){function ns(rs){var is=ts.call(this,"cancelled","Popup closed")||this;return is.popup=rs,Object.setPrototypeOf(is,ns.prototype),is}return t$6(ns,ts),ns}(Dc$1),zc$1=function(ts){function ns(rs,is,os){var ss=ts.call(this,rs,is)||this;return ss.mfa_token=os,Object.setPrototypeOf(ss,ns.prototype),ss}return t$6(ns,ts),ns}(Dc$1),Mc$1=function(ts){function ns(rs,is){var os=ts.call(this,"missing_refresh_token","Missing Refresh Token (audience: '".concat(ia$1(rs,["default"]),"', scope: '").concat(ia$1(is),"')"))||this;return os.audience=rs,os.scope=is,Object.setPrototypeOf(os,ns.prototype),os}return t$6(ns,ts),ns}(Dc$1),Bc$1=function(ts){return new Promise(function(ns,rs){var is,os=setInterval(function(){ts.popup&&ts.popup.closed&&(clearInterval(os),clearTimeout(ss),window.removeEventListener("message",is,!1),rs(new Vc$1(ts.popup)))},1e3),ss=setTimeout(function(){clearInterval(os),rs(new Jc$1(ts.popup)),window.removeEventListener("message",is,!1)},1e3*(ts.timeoutInSeconds||60));is=function(as){if(as.data&&as.data.type==="authorization_response"){if(clearTimeout(ss),clearInterval(os),window.removeEventListener("message",is,!1),ts.popup.close(),as.data.response.error)return rs(Dc$1.fromPayload(as.data.response));ns(as.data.response)}},window.addEventListener("message",is)})},Qc$1=function(){return window.crypto||window.msCrypto},qc$1=function(){var ts=Qc$1();return ts.subtle||ts.webkitSubtle},$c$1=function(){var ts="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_~.",ns="";return Array.from(Qc$1().getRandomValues(new Uint8Array(43))).forEach(function(rs){return ns+=ts[rs%ts.length]}),ns},ea$1=function(ts){return btoa(ts)},ta$1=function(ts){return Object.keys(ts).filter(function(ns){return ts[ns]!==void 0}).map(function(ns){return encodeURIComponent(ns)+"="+encodeURIComponent(ts[ns])}).join("&")},na=function(ts){return o$2(void 0,void 0,void 0,function(){var ns;return i$3(this,function(rs){switch(rs.label){case 0:return ns=qc$1().digest({name:"SHA-256"},new TextEncoder().encode(ts)),window.msCrypto?[2,new Promise(function(is,os){ns.oncomplete=function(ss){is(ss.target.result)},ns.onerror=function(ss){os(ss.error)},ns.onabort=function(){os("The digest operation was aborted")}})]:[4,ns];case 1:return[2,rs.sent()]}})})},ra$1=function(ts){return function(ns){return decodeURIComponent(atob(ns).split("").map(function(rs){return"%"+("00"+rs.charCodeAt(0).toString(16)).slice(-2)}).join(""))}(ts.replace(/_/g,"/").replace(/-/g,"+"))},oa$1=function(ts){var ns=new Uint8Array(ts);return function(rs){var is={"+":"-","/":"_","=":""};return rs.replace(/[+/=]/g,function(os){return is[os]})}(window.btoa(String.fromCharCode.apply(String,a$1([],c$3(Array.from(ns)),!1))))};function ia$1(ts,ns){return ns===void 0&&(ns=[]),ts&&!ns.includes(ts)?ts:""}var ca$1=function(ts,ns){return o$2(void 0,void 0,void 0,function(){var rs,is;return i$3(this,function(os){switch(os.label){case 0:return[4,(ss=ts,as=ns,as=as||{},new Promise(function(ls,cs){var us=new XMLHttpRequest,ds=[],ps=[],hs={},ms=function(){return{ok:(us.status/100|0)==2,statusText:us.statusText,status:us.status,url:us.responseURL,text:function(){return Promise.resolve(us.responseText)},json:function(){return Promise.resolve(us.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([us.response]))},clone:ms,headers:{keys:function(){return ds},entries:function(){return ps},get:function(ys){return hs[ys.toLowerCase()]},has:function(ys){return ys.toLowerCase()in hs}}}};for(var gs in us.open(as.method||"get",ss,!0),us.onload=function(){us.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(ys,vs,bs){ds.push(vs=vs.toLowerCase()),ps.push([vs,bs]),hs[vs]=hs[vs]?hs[vs]+","+bs:bs}),ls(ms())},us.onerror=cs,us.withCredentials=as.credentials=="include",as.headers)us.setRequestHeader(gs,as.headers[gs]);us.send(as.body||null)}))];case 1:return rs=os.sent(),is={ok:rs.ok},[4,rs.json()];case 2:return[2,(is.json=os.sent(),is)]}var ss,as})})},aa$1=function(ts,ns,rs){return o$2(void 0,void 0,void 0,function(){var is,os;return i$3(this,function(ss){return is=new AbortController,ns.signal=is.signal,[2,Promise.race([ca$1(ts,ns),new Promise(function(as,ls){os=setTimeout(function(){is.abort(),ls(new Error("Timeout when executing 'fetch'"))},rs)})]).finally(function(){clearTimeout(os)})]})})},sa$1=function(ts,ns,rs,is,os,ss,as){return o$2(void 0,void 0,void 0,function(){return i$3(this,function(ls){return[2,(cs={auth:{audience:ns,scope:rs},timeout:os,fetchUrl:ts,fetchOptions:is,useFormData:as},us=ss,new Promise(function(ds,ps){var hs=new MessageChannel;hs.port1.onmessage=function(ms){ms.data.error?ps(new Error(ms.data.error)):ds(ms.data),hs.port1.close()},us.postMessage(cs,[hs.port2])}))];var cs,us})})},ua$1=function(ts,ns,rs,is,os,ss,as){return as===void 0&&(as=1e4),o$2(void 0,void 0,void 0,function(){return i$3(this,function(ls){return os?[2,sa$1(ts,ns,rs,is,as,os,ss)]:[2,aa$1(ts,is,as)]})})};function la$1(ts,ns,rs,is,os,ss,as){return o$2(this,void 0,void 0,function(){var ls,cs,us,ds,ps,hs,ms,gs,ys;return i$3(this,function(vs){switch(vs.label){case 0:ls=null,us=0,vs.label=1;case 1:if(!(us<3))return[3,6];vs.label=2;case 2:return vs.trys.push([2,4,,5]),[4,ua$1(ts,rs,is,os,ss,as,ns)];case 3:return cs=vs.sent(),ls=null,[3,6];case 4:return ds=vs.sent(),ls=ds,[3,5];case 5:return us++,[3,1];case 6:if(ls)throw ls.message=ls.message||"Failed to fetch",ls;if(ps=cs.json,hs=ps.error,ms=ps.error_description,gs=r$6(ps,["error","error_description"]),!cs.ok)throw ys=ms||"HTTP error. Unable to fetch ".concat(ts),hs==="mfa_required"?new zc$1(hs,ys,gs.mfa_token):new Dc$1(hs||"request_error",ys);return[2,gs]}})})}function fa$1(ts,ns){var rs=ts.baseUrl,is=ts.timeout,os=ts.audience,ss=ts.scope,as=ts.auth0Client,ls=ts.useFormData,cs=r$6(ts,["baseUrl","timeout","audience","scope","auth0Client","useFormData"]);return o$2(this,void 0,void 0,function(){var us;return i$3(this,function(ds){switch(ds.label){case 0:return us=ls?ta$1(cs):JSON.stringify(cs),[4,la$1("".concat(rs,"/oauth/token"),is,os||"default",ss,{method:"POST",body:us,headers:{"Content-Type":ls?"application/x-www-form-urlencoded":"application/json","Auth0-Client":btoa(JSON.stringify(as||Nc$1))}},ns,ls)];case 1:return[2,ds.sent()]}})})}var da$1=function(ts){return Array.from(new Set(ts))},ha$1=function(){for(var ts=[],ns=0;ns<arguments.length;ns++)ts[ns]=arguments[ns];return da$1(ts.join(" ").trim().split(/\s+/)).join(" ")},pa$1=function(){function ts(ns,rs){rs===void 0&&(rs="@@auth0spajs@@"),this.prefix=rs,this.client_id=ns.client_id,this.scope=ns.scope,this.audience=ns.audience}return ts.prototype.toKey=function(){return"".concat(this.prefix,"::").concat(this.client_id,"::").concat(this.audience,"::").concat(this.scope)},ts.fromKey=function(ns){var rs=c$3(ns.split("::"),4),is=rs[0],os=rs[1],ss=rs[2];return new ts({client_id:os,scope:rs[3],audience:ss},is)},ts.fromCacheEntry=function(ns){return new ts({scope:ns.scope,audience:ns.audience,client_id:ns.client_id})},ts}(),ya$1=function(){function ts(){}return ts.prototype.set=function(ns,rs){localStorage.setItem(ns,JSON.stringify(rs))},ts.prototype.get=function(ns){var rs=window.localStorage.getItem(ns);if(rs)try{return JSON.parse(rs)}catch{return}},ts.prototype.remove=function(ns){localStorage.removeItem(ns)},ts.prototype.allKeys=function(){return Object.keys(window.localStorage).filter(function(ns){return ns.startsWith("@@auth0spajs@@")})},ts}(),va$1=function(){var ts;this.enclosedCache=(ts={},{set:function(ns,rs){ts[ns]=rs},get:function(ns){var rs=ts[ns];if(rs)return rs},remove:function(ns){delete ts[ns]},allKeys:function(){return Object.keys(ts)}})},ma$1=function(){function ts(ns,rs,is){this.cache=ns,this.keyManifest=rs,this.nowProvider=is,this.nowProvider=this.nowProvider||Uc$1}return ts.prototype.get=function(ns,rs){var is;return rs===void 0&&(rs=0),o$2(this,void 0,void 0,function(){var os,ss,as,ls,cs;return i$3(this,function(us){switch(us.label){case 0:return[4,this.cache.get(ns.toKey())];case 1:return(os=us.sent())?[3,4]:[4,this.getCacheKeys()];case 2:return(ss=us.sent())?(as=this.matchExistingCacheKey(ns,ss))?[4,this.cache.get(as)]:[3,4]:[2];case 3:os=us.sent(),us.label=4;case 4:return os?[4,this.nowProvider()]:[2];case 5:return ls=us.sent(),cs=Math.floor(ls/1e3),os.expiresAt-rs<cs?os.body.refresh_token?(os.body={refresh_token:os.body.refresh_token},[4,this.cache.set(ns.toKey(),os)]):[3,7]:[3,10];case 6:return us.sent(),[2,os.body];case 7:return[4,this.cache.remove(ns.toKey())];case 8:return us.sent(),[4,(is=this.keyManifest)===null||is===void 0?void 0:is.remove(ns.toKey())];case 9:return us.sent(),[2];case 10:return[2,os.body]}})})},ts.prototype.set=function(ns){var rs;return o$2(this,void 0,void 0,function(){var is,os;return i$3(this,function(ss){switch(ss.label){case 0:return is=new pa$1({client_id:ns.client_id,scope:ns.scope,audience:ns.audience}),[4,this.wrapCacheEntry(ns)];case 1:return os=ss.sent(),[4,this.cache.set(is.toKey(),os)];case 2:return ss.sent(),[4,(rs=this.keyManifest)===null||rs===void 0?void 0:rs.add(is.toKey())];case 3:return ss.sent(),[2]}})})},ts.prototype.clear=function(ns){var rs;return o$2(this,void 0,void 0,function(){var is,os=this;return i$3(this,function(ss){switch(ss.label){case 0:return[4,this.getCacheKeys()];case 1:return(is=ss.sent())?[4,is.filter(function(as){return!ns||as.includes(ns)}).reduce(function(as,ls){return o$2(os,void 0,void 0,function(){return i$3(this,function(cs){switch(cs.label){case 0:return[4,as];case 1:return cs.sent(),[4,this.cache.remove(ls)];case 2:return cs.sent(),[2]}})})},Promise.resolve())]:[2];case 2:return ss.sent(),[4,(rs=this.keyManifest)===null||rs===void 0?void 0:rs.clear()];case 3:return ss.sent(),[2]}})})},ts.prototype.clearSync=function(ns){var rs=this,is=this.cache.allKeys();is&&is.filter(function(os){return!ns||os.includes(ns)}).forEach(function(os){rs.cache.remove(os)})},ts.prototype.wrapCacheEntry=function(ns){return o$2(this,void 0,void 0,function(){var rs,is,os;return i$3(this,function(ss){switch(ss.label){case 0:return[4,this.nowProvider()];case 1:return rs=ss.sent(),is=Math.floor(rs/1e3)+ns.expires_in,os=Math.min(is,ns.decodedToken.claims.exp),[2,{body:ns,expiresAt:os}]}})})},ts.prototype.getCacheKeys=function(){var ns;return o$2(this,void 0,void 0,function(){var rs;return i$3(this,function(is){switch(is.label){case 0:return this.keyManifest?[4,this.keyManifest.get()]:[3,2];case 1:return rs=(ns=is.sent())===null||ns===void 0?void 0:ns.keys,[3,4];case 2:return[4,this.cache.allKeys()];case 3:rs=is.sent(),is.label=4;case 4:return[2,rs]}})})},ts.prototype.matchExistingCacheKey=function(ns,rs){return rs.filter(function(is){var os=pa$1.fromKey(is),ss=new Set(os.scope&&os.scope.split(" ")),as=ns.scope.split(" "),ls=os.scope&&as.reduce(function(cs,us){return cs&&ss.has(us)},!0);return os.prefix==="@@auth0spajs@@"&&os.client_id===ns.client_id&&os.audience===ns.audience&&ls})[0]},ts}(),ba=function(){function ts(ns,rs){this.storage=ns,this.clientId=rs,this.storageKey="".concat("a0.spajs.txs",".").concat(this.clientId),this.transaction=this.storage.get(this.storageKey)}return ts.prototype.create=function(ns){this.transaction=ns,this.storage.save(this.storageKey,ns,{daysUntilExpire:1})},ts.prototype.get=function(){return this.transaction},ts.prototype.remove=function(){delete this.transaction,this.storage.remove(this.storageKey)},ts}(),ga=function(ts){return typeof ts=="number"},wa$1=["iss","aud","exp","nbf","iat","jti","azp","nonce","auth_time","at_hash","c_hash","acr","amr","sub_jwk","cnf","sip_from_tag","sip_date","sip_callid","sip_cseq_num","sip_via_branch","orig","dest","mky","events","toe","txn","rph","sid","vot","vtm"],Sa$1=function(ts){if(!ts.id_token)throw new Error("ID token is required but missing");var ns=function(ls){var cs=ls.split("."),us=c$3(cs,3),ds=us[0],ps=us[1],hs=us[2];if(cs.length!==3||!ds||!ps||!hs)throw new Error("ID token could not be decoded");var ms=JSON.parse(ra$1(ps)),gs={__raw:ls},ys={};return Object.keys(ms).forEach(function(vs){gs[vs]=ms[vs],wa$1.includes(vs)||(ys[vs]=ms[vs])}),{encoded:{header:ds,payload:ps,signature:hs},header:JSON.parse(ra$1(ds)),claims:gs,user:ys}}(ts.id_token);if(!ns.claims.iss)throw new Error("Issuer (iss) claim must be a string present in the ID token");if(ns.claims.iss!==ts.iss)throw new Error('Issuer (iss) claim mismatch in the ID token; expected "'.concat(ts.iss,'", found "').concat(ns.claims.iss,'"'));if(!ns.user.sub)throw new Error("Subject (sub) claim must be a string present in the ID token");if(ns.header.alg!=="RS256")throw new Error('Signature algorithm of "'.concat(ns.header.alg,'" is not supported. Expected the ID token to be signed with "RS256".'));if(!ns.claims.aud||typeof ns.claims.aud!="string"&&!Array.isArray(ns.claims.aud))throw new Error("Audience (aud) claim must be a string or array of strings present in the ID token");if(Array.isArray(ns.claims.aud)){if(!ns.claims.aud.includes(ts.aud))throw new Error('Audience (aud) claim mismatch in the ID token; expected "'.concat(ts.aud,'" but was not one of "').concat(ns.claims.aud.join(", "),'"'));if(ns.claims.aud.length>1){if(!ns.claims.azp)throw new Error("Authorized Party (azp) claim must be a string present in the ID token when Audience (aud) claim has multiple values");if(ns.claims.azp!==ts.aud)throw new Error('Authorized Party (azp) claim mismatch in the ID token; expected "'.concat(ts.aud,'", found "').concat(ns.claims.azp,'"'))}}else if(ns.claims.aud!==ts.aud)throw new Error('Audience (aud) claim mismatch in the ID token; expected "'.concat(ts.aud,'" but found "').concat(ns.claims.aud,'"'));if(ts.nonce){if(!ns.claims.nonce)throw new Error("Nonce (nonce) claim must be a string present in the ID token");if(ns.claims.nonce!==ts.nonce)throw new Error('Nonce (nonce) claim mismatch in the ID token; expected "'.concat(ts.nonce,'", found "').concat(ns.claims.nonce,'"'))}if(ts.max_age&&!ga(ns.claims.auth_time))throw new Error("Authentication Time (auth_time) claim must be a number present in the ID token when Max Age (max_age) is specified");if(!ga(ns.claims.exp))throw new Error("Expiration Time (exp) claim must be a number present in the ID token");if(!ga(ns.claims.iat))throw new Error("Issued At (iat) claim must be a number present in the ID token");var rs=ts.leeway||60,is=new Date(ts.now||Date.now()),os=new Date(0),ss=new Date(0),as=new Date(0);if(as.setUTCSeconds(parseInt(ns.claims.auth_time)+ts.max_age+rs),os.setUTCSeconds(ns.claims.exp+rs),ss.setUTCSeconds(ns.claims.nbf-rs),is>os)throw new Error("Expiration Time (exp) claim error in the ID token; current time (".concat(is,") is after expiration time (").concat(os,")"));if(ga(ns.claims.nbf)&&is<ss)throw new Error("Not Before time (nbf) claim in the ID token indicates that this token can't be used just yet. Currrent time (".concat(is,") is before ").concat(ss));if(ga(ns.claims.auth_time)&&is>as)throw new Error("Authentication Time (auth_time) claim in the ID token indicates that too much time has passed since the last end-user authentication. Currrent time (".concat(is,") is after last auth at ").concat(as));if(ts.organizationId){if(!ns.claims.org_id)throw new Error("Organization ID (org_id) claim must be a string present in the ID token");if(ts.organizationId!==ns.claims.org_id)throw new Error('Organization ID (org_id) claim mismatch in the ID token; expected "'.concat(ts.organizationId,'", found "').concat(ns.claims.org_id,'"'))}return ns},ka$1=l$5(function(ts,ns){var rs=s$2&&s$2.__assign||function(){return rs=Object.assign||function(cs){for(var us,ds=1,ps=arguments.length;ds<ps;ds++)for(var hs in us=arguments[ds])Object.prototype.hasOwnProperty.call(us,hs)&&(cs[hs]=us[hs]);return cs},rs.apply(this,arguments)};function is(cs,us){if(!us)return"";var ds="; "+cs;return us===!0?ds:ds+"="+us}function os(cs,us,ds){return encodeURIComponent(cs).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/\(/g,"%28").replace(/\)/g,"%29")+"="+encodeURIComponent(us).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent)+function(ps){if(typeof ps.expires=="number"){var hs=new Date;hs.setMilliseconds(hs.getMilliseconds()+864e5*ps.expires),ps.expires=hs}return is("Expires",ps.expires?ps.expires.toUTCString():"")+is("Domain",ps.domain)+is("Path",ps.path)+is("Secure",ps.secure)+is("SameSite",ps.sameSite)}(ds)}function ss(cs){for(var us={},ds=cs?cs.split("; "):[],ps=/(%[\dA-F]{2})+/gi,hs=0;hs<ds.length;hs++){var ms=ds[hs].split("="),gs=ms.slice(1).join("=");gs.charAt(0)==='"'&&(gs=gs.slice(1,-1));try{us[ms[0].replace(ps,decodeURIComponent)]=gs.replace(ps,decodeURIComponent)}catch{}}return us}function as(){return ss(document.cookie)}function ls(cs,us,ds){document.cookie=os(cs,us,rs({path:"/"},ds))}ns.__esModule=!0,ns.encode=os,ns.parse=ss,ns.getAll=as,ns.get=function(cs){return as()[cs]},ns.set=ls,ns.remove=function(cs,us){ls(cs,"",rs(rs({},us),{expires:-1}))}});u$4(ka$1),ka$1.encode,ka$1.parse,ka$1.getAll;var _a$1=ka$1.get,Ia$1=ka$1.set,Oa$1=ka$1.remove,xa={get:function(ts){var ns=_a$1(ts);if(ns!==void 0)return JSON.parse(ns)},save:function(ts,ns,rs){var is={};window.location.protocol==="https:"&&(is={secure:!0,sameSite:"none"}),rs!=null&&rs.daysUntilExpire&&(is.expires=rs.daysUntilExpire),rs!=null&&rs.cookieDomain&&(is.domain=rs.cookieDomain),Ia$1(ts,JSON.stringify(ns),is)},remove:function(ts,ns){var rs={};ns!=null&&ns.cookieDomain&&(rs.domain=ns.cookieDomain),Oa$1(ts,rs)}},Ta$1={get:function(ts){var ns=xa.get(ts);return ns||xa.get("".concat("_legacy_").concat(ts))},save:function(ts,ns,rs){var is={};window.location.protocol==="https:"&&(is={secure:!0}),rs!=null&&rs.daysUntilExpire&&(is.expires=rs.daysUntilExpire),Ia$1("".concat("_legacy_").concat(ts),JSON.stringify(ns),is),xa.save(ts,ns,rs)},remove:function(ts,ns){var rs={};ns!=null&&ns.cookieDomain&&(rs.domain=ns.cookieDomain),Oa$1(ts,rs),xa.remove(ts,ns),xa.remove("".concat("_legacy_").concat(ts),ns)}},Ca$1={get:function(ts){if(typeof sessionStorage<"u"){var ns=sessionStorage.getItem(ts);if(ns!==void 0)return JSON.parse(ns)}},save:function(ts,ns){sessionStorage.setItem(ts,JSON.stringify(ns))},remove:function(ts){sessionStorage.removeItem(ts)}};function ja$1(ts,ns,rs){var is=ns===void 0?null:ns,os=function(cs,us){var ds=atob(cs);if(us){for(var ps=new Uint8Array(ds.length),hs=0,ms=ds.length;hs<ms;++hs)ps[hs]=ds.charCodeAt(hs);return String.fromCharCode.apply(null,new Uint16Array(ps.buffer))}return ds}(ts,rs!==void 0&&rs),ss=os.indexOf("\n",10)+1,as=os.substring(ss)+(is?"//# sourceMappingURL="+is:""),ls=new Blob([as],{type:"application/javascript"});return URL.createObjectURL(ls)}var La$1,Ra$1,Wa$1,Za$1,Ea$1=(La$1="Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwohZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7dmFyIHQ9ZnVuY3Rpb24oZSxyKXtyZXR1cm4gdD1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24odCxlKXt0Ll9fcHJvdG9fXz1lfXx8ZnVuY3Rpb24odCxlKXtmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSl9LHQoZSxyKX07ZnVuY3Rpb24gZShlLHIpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiByJiZudWxsIT09cil0aHJvdyBuZXcgVHlwZUVycm9yKCJDbGFzcyBleHRlbmRzIHZhbHVlICIrU3RyaW5nKHIpKyIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbCIpO2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPWV9dChlLHIpLGUucHJvdG90eXBlPW51bGw9PT1yP09iamVjdC5jcmVhdGUocik6KG4ucHJvdG90eXBlPXIucHJvdG90eXBlLG5ldyBuKX12YXIgcj1mdW5jdGlvbigpe3JldHVybiByPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKHQpe2Zvcih2YXIgZSxyPTEsbj1hcmd1bWVudHMubGVuZ3RoO3I8bjtyKyspZm9yKHZhciBvIGluIGU9YXJndW1lbnRzW3JdKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLG8pJiYodFtvXT1lW29dKTtyZXR1cm4gdH0sci5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O2Z1bmN0aW9uIG4odCxlLHIsbil7cmV0dXJuIG5ldyhyfHwocj1Qcm9taXNlKSkoKGZ1bmN0aW9uKG8sYyl7ZnVuY3Rpb24gaSh0KXt0cnl7cyhuLm5leHQodCkpfWNhdGNoKHQpe2ModCl9fWZ1bmN0aW9uIGEodCl7dHJ5e3Mobi50aHJvdyh0KSl9Y2F0Y2godCl7Yyh0KX19ZnVuY3Rpb24gcyh0KXt2YXIgZTt0LmRvbmU/byh0LnZhbHVlKTooZT10LnZhbHVlLGUgaW5zdGFuY2VvZiByP2U6bmV3IHIoKGZ1bmN0aW9uKHQpe3QoZSl9KSkpLnRoZW4oaSxhKX1zKChuPW4uYXBwbHkodCxlfHxbXSkpLm5leHQoKSl9KSl9ZnVuY3Rpb24gbyh0LGUpe3ZhciByLG4sbyxjLGk9e2xhYmVsOjAsc2VudDpmdW5jdGlvbigpe2lmKDEmb1swXSl0aHJvdyBvWzFdO3JldHVybiBvWzFdfSx0cnlzOltdLG9wczpbXX07cmV0dXJuIGM9e25leHQ6YSgwKSx0aHJvdzphKDEpLHJldHVybjphKDIpfSwiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYoY1tTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSxjO2Z1bmN0aW9uIGEoYyl7cmV0dXJuIGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihjKXtpZihyKXRocm93IG5ldyBUeXBlRXJyb3IoIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy4iKTtmb3IoO2k7KXRyeXtpZihyPTEsbiYmKG89MiZjWzBdP24ucmV0dXJuOmNbMF0/bi50aHJvd3x8KChvPW4ucmV0dXJuKSYmby5jYWxsKG4pLDApOm4ubmV4dCkmJiEobz1vLmNhbGwobixjWzFdKSkuZG9uZSlyZXR1cm4gbztzd2l0Y2gobj0wLG8mJihjPVsyJmNbMF0sby52YWx1ZV0pLGNbMF0pe2Nhc2UgMDpjYXNlIDE6bz1jO2JyZWFrO2Nhc2UgNDpyZXR1cm4gaS5sYWJlbCsrLHt2YWx1ZTpjWzFdLGRvbmU6ITF9O2Nhc2UgNTppLmxhYmVsKyssbj1jWzFdLGM9WzBdO2NvbnRpbnVlO2Nhc2UgNzpjPWkub3BzLnBvcCgpLGkudHJ5cy5wb3AoKTtjb250aW51ZTtkZWZhdWx0OmlmKCEobz1pLnRyeXMsKG89by5sZW5ndGg+MCYmb1tvLmxlbmd0aC0xXSl8fDYhPT1jWzBdJiYyIT09Y1swXSkpe2k9MDtjb250aW51ZX1pZigzPT09Y1swXSYmKCFvfHxjWzFdPm9bMF0mJmNbMV08b1szXSkpe2kubGFiZWw9Y1sxXTticmVha31pZig2PT09Y1swXSYmaS5sYWJlbDxvWzFdKXtpLmxhYmVsPW9bMV0sbz1jO2JyZWFrfWlmKG8mJmkubGFiZWw8b1syXSl7aS5sYWJlbD1vWzJdLGkub3BzLnB1c2goYyk7YnJlYWt9b1syXSYmaS5vcHMucG9wKCksaS50cnlzLnBvcCgpO2NvbnRpbnVlfWM9ZS5jYWxsKHQsaSl9Y2F0Y2godCl7Yz1bNix0XSxuPTB9ZmluYWxseXtyPW89MH1pZig1JmNbMF0pdGhyb3cgY1sxXTtyZXR1cm57dmFsdWU6Y1swXT9jWzFdOnZvaWQgMCxkb25lOiEwfX0oW2MsYV0pfX19ZnVuY3Rpb24gYyh0LGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT1bXSksdCYmIWUuaW5jbHVkZXModCk/dDoiIn12YXIgaT1mdW5jdGlvbih0KXtmdW5jdGlvbiByKGUsbil7dmFyIG89dC5jYWxsKHRoaXMsbil8fHRoaXM7cmV0dXJuIG8uZXJyb3I9ZSxvLmVycm9yX2Rlc2NyaXB0aW9uPW4sT2JqZWN0LnNldFByb3RvdHlwZU9mKG8sci5wcm90b3R5cGUpLG99cmV0dXJuIGUocix0KSxyLmZyb21QYXlsb2FkPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgcih0LmVycm9yLHQuZXJyb3JfZGVzY3JpcHRpb24pfSxyfShFcnJvcik7IWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIHIoZSxuLG8sYyl7dm9pZCAwPT09YyYmKGM9bnVsbCk7dmFyIGk9dC5jYWxsKHRoaXMsZSxuKXx8dGhpcztyZXR1cm4gaS5zdGF0ZT1vLGkuYXBwU3RhdGU9YyxPYmplY3Quc2V0UHJvdG90eXBlT2YoaSxyLnByb3RvdHlwZSksaX1lKHIsdCl9KGkpLGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIHIoZSl7dmFyIG49dC5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBuLnBvcHVwPWUsT2JqZWN0LnNldFByb3RvdHlwZU9mKG4sci5wcm90b3R5cGUpLG59ZShyLHQpfShmdW5jdGlvbih0KXtmdW5jdGlvbiByKCl7dmFyIGU9dC5jYWxsKHRoaXMsInRpbWVvdXQiLCJUaW1lb3V0Iil8fHRoaXM7cmV0dXJuIE9iamVjdC5zZXRQcm90b3R5cGVPZihlLHIucHJvdG90eXBlKSxlfXJldHVybiBlKHIsdCkscn0oaSkpLGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIHIoZSl7dmFyIG49dC5jYWxsKHRoaXMsImNhbmNlbGxlZCIsIlBvcHVwIGNsb3NlZCIpfHx0aGlzO3JldHVybiBuLnBvcHVwPWUsT2JqZWN0LnNldFByb3RvdHlwZU9mKG4sci5wcm90b3R5cGUpLG59ZShyLHQpfShpKSxmdW5jdGlvbih0KXtmdW5jdGlvbiByKGUsbixvKXt2YXIgYz10LmNhbGwodGhpcyxlLG4pfHx0aGlzO3JldHVybiBjLm1mYV90b2tlbj1vLE9iamVjdC5zZXRQcm90b3R5cGVPZihjLHIucHJvdG90eXBlKSxjfWUocix0KX0oaSk7dmFyIGE9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gcihlLG4pe3ZhciBvPXQuY2FsbCh0aGlzLCJtaXNzaW5nX3JlZnJlc2hfdG9rZW4iLCJNaXNzaW5nIFJlZnJlc2ggVG9rZW4gKGF1ZGllbmNlOiAnIi5jb25jYXQoYyhlLFsiZGVmYXVsdCJdKSwiJywgc2NvcGU6ICciKS5jb25jYXQoYyhuKSwiJykiKSl8fHRoaXM7cmV0dXJuIG8uYXVkaWVuY2U9ZSxvLnNjb3BlPW4sT2JqZWN0LnNldFByb3RvdHlwZU9mKG8sci5wcm90b3R5cGUpLG99cmV0dXJuIGUocix0KSxyfShpKSxzPXt9LHU9ZnVuY3Rpb24odCxlKXtyZXR1cm4iIi5jb25jYXQodCwifCIpLmNvbmNhdChlKX07YWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsKGZ1bmN0aW9uKHQpe3ZhciBlPXQuZGF0YSxjPWUudGltZW91dCxpPWUuYXV0aCxmPWUuZmV0Y2hVcmwsbD1lLmZldGNoT3B0aW9ucyxwPWUudXNlRm9ybURhdGEsaD1mdW5jdGlvbih0LGUpe3ZhciByPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJnRbU3ltYm9sLml0ZXJhdG9yXTtpZighcilyZXR1cm4gdDt2YXIgbixvLGM9ci5jYWxsKHQpLGk9W107dHJ5e2Zvcig7KHZvaWQgMD09PWV8fGUtLSA+MCkmJiEobj1jLm5leHQoKSkuZG9uZTspaS5wdXNoKG4udmFsdWUpfWNhdGNoKHQpe289e2Vycm9yOnR9fWZpbmFsbHl7dHJ5e24mJiFuLmRvbmUmJihyPWMucmV0dXJuKSYmci5jYWxsKGMpfWZpbmFsbHl7aWYobyl0aHJvdyBvLmVycm9yfX1yZXR1cm4gaX0odC5wb3J0cywxKVswXTtyZXR1cm4gbih2b2lkIDAsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgdCxlLG4seSx2LGIsZCx3LE8sXztyZXR1cm4gbyh0aGlzLChmdW5jdGlvbihvKXtzd2l0Y2goby5sYWJlbCl7Y2FzZSAwOm49KGU9aXx8e30pLmF1ZGllbmNlLHk9ZS5zY29wZSxvLmxhYmVsPTE7Y2FzZSAxOmlmKG8udHJ5cy5wdXNoKFsxLDcsLDhdKSwhKHY9cD8obT1sLmJvZHksaz1uZXcgVVJMU2VhcmNoUGFyYW1zKG0pLFA9e30say5mb3JFYWNoKChmdW5jdGlvbih0LGUpe1BbZV09dH0pKSxQKTpKU09OLnBhcnNlKGwuYm9keSkpLnJlZnJlc2hfdG9rZW4mJiJyZWZyZXNoX3Rva2VuIj09PXYuZ3JhbnRfdHlwZSl7aWYoYj1mdW5jdGlvbih0LGUpe3JldHVybiBzW3UodCxlKV19KG4seSksIWIpdGhyb3cgbmV3IGEobix5KTtsLmJvZHk9cD9uZXcgVVJMU2VhcmNoUGFyYW1zKHIocih7fSx2KSx7cmVmcmVzaF90b2tlbjpifSkpLnRvU3RyaW5nKCk6SlNPTi5zdHJpbmdpZnkocihyKHt9LHYpLHtyZWZyZXNoX3Rva2VuOmJ9KSl9ZD12b2lkIDAsImZ1bmN0aW9uIj09dHlwZW9mIEFib3J0Q29udHJvbGxlciYmKGQ9bmV3IEFib3J0Q29udHJvbGxlcixsLnNpZ25hbD1kLnNpZ25hbCksdz12b2lkIDAsby5sYWJlbD0yO2Nhc2UgMjpyZXR1cm4gby50cnlzLnB1c2goWzIsNCwsNV0pLFs0LFByb21pc2UucmFjZShbKGc9YyxuZXcgUHJvbWlzZSgoZnVuY3Rpb24odCl7cmV0dXJuIHNldFRpbWVvdXQodCxnKX0pKSksZmV0Y2goZixyKHt9LGwpKV0pXTtjYXNlIDM6cmV0dXJuIHc9by5zZW50KCksWzMsNV07Y2FzZSA0OnJldHVybiBPPW8uc2VudCgpLGgucG9zdE1lc3NhZ2Uoe2Vycm9yOk8ubWVzc2FnZX0pLFsyXTtjYXNlIDU6cmV0dXJuIHc/WzQsdy5qc29uKCldOihkJiZkLmFib3J0KCksaC5wb3N0TWVzc2FnZSh7ZXJyb3I6IlRpbWVvdXQgd2hlbiBleGVjdXRpbmcgJ2ZldGNoJyJ9KSxbMl0pO2Nhc2UgNjpyZXR1cm4odD1vLnNlbnQoKSkucmVmcmVzaF90b2tlbj8oZnVuY3Rpb24odCxlLHIpe3NbdShlLHIpXT10fSh0LnJlZnJlc2hfdG9rZW4sbix5KSxkZWxldGUgdC5yZWZyZXNoX3Rva2VuKTpmdW5jdGlvbih0LGUpe2RlbGV0ZSBzW3UodCxlKV19KG4seSksaC5wb3N0TWVzc2FnZSh7b2s6dy5vayxqc29uOnR9KSxbMyw4XTtjYXNlIDc6cmV0dXJuIF89by5zZW50KCksaC5wb3N0TWVzc2FnZSh7b2s6ITEsanNvbjp7ZXJyb3JfZGVzY3JpcHRpb246Xy5tZXNzYWdlfX0pLFszLDhdO2Nhc2UgODpyZXR1cm5bMl19dmFyIGcsbSxrLFB9KSl9KSl9KSl9KCk7Cgo=",Ra$1=null,Wa$1=!1,function(ts){return Za$1=Za$1||ja$1(La$1,Ra$1,Wa$1),new Worker(Za$1,ts)}),Ga$1={},Aa$1=function(){function ts(ns,rs){this.cache=ns,this.clientId=rs,this.manifestKey=this.createManifestKeyFrom(this.clientId)}return ts.prototype.add=function(ns){var rs;return o$2(this,void 0,void 0,function(){var is,os;return i$3(this,function(ss){switch(ss.label){case 0:return os=Set.bind,[4,this.cache.get(this.manifestKey)];case 1:return(is=new(os.apply(Set,[void 0,((rs=ss.sent())===null||rs===void 0?void 0:rs.keys)||[]]))).add(ns),[4,this.cache.set(this.manifestKey,{keys:a$1([],c$3(is),!1)})];case 2:return ss.sent(),[2]}})})},ts.prototype.remove=function(ns){return o$2(this,void 0,void 0,function(){var rs,is;return i$3(this,function(os){switch(os.label){case 0:return[4,this.cache.get(this.manifestKey)];case 1:return(rs=os.sent())?((is=new Set(rs.keys)).delete(ns),is.size>0?[4,this.cache.set(this.manifestKey,{keys:a$1([],c$3(is),!1)})]:[3,3]):[3,5];case 2:case 4:return[2,os.sent()];case 3:return[4,this.cache.remove(this.manifestKey)];case 5:return[2]}})})},ts.prototype.get=function(){return this.cache.get(this.manifestKey)},ts.prototype.clear=function(){return this.cache.remove(this.manifestKey)},ts.prototype.createManifestKeyFrom=function(ns){return"".concat("@@auth0spajs@@","::").concat(ns)},ts}(),Pa$1=new Xc$1,Xa$1={memory:function(){return new va$1().enclosedCache},localstorage:function(){return new ya$1}},Fa$1=function(ts){return Xa$1[ts]},Ka$1=function(){return!/Trident.*rv:11\.0/.test(navigator.userAgent)},Na$1=function(){function ts(ns){var rs,is,os,ss,as=this;if(this.options=ns,this._releaseLockOnPageHide=function(){return o$2(as,void 0,void 0,function(){return i$3(this,function(us){switch(us.label){case 0:return[4,Pa$1.releaseLock("auth0.lock.getTokenSilently")];case 1:return us.sent(),window.removeEventListener("pagehide",this._releaseLockOnPageHide),[2]}})})},typeof window<"u"&&function(){if(!Qc$1())throw new Error("For security reasons, `window.crypto` is required to run `auth0-spa-js`.");if(qc$1()===void 0)throw new Error("\n      auth0-spa-js must run on a secure origin. See https://github.com/auth0/auth0-spa-js/blob/master/FAQ.md#why-do-i-get-auth0-spa-js-must-run-on-a-secure-origin for more information.\n    ")}(),ns.cache&&ns.cacheLocation&&console.warn("Both `cache` and `cacheLocation` options have been specified in the Auth0Client configuration; ignoring `cacheLocation` and using `cache`."),ns.cache)os=ns.cache;else{if(this.cacheLocation=ns.cacheLocation||"memory",!Fa$1(this.cacheLocation))throw new Error('Invalid cache location "'.concat(this.cacheLocation,'"'));os=Fa$1(this.cacheLocation)()}this.httpTimeoutMs=ns.httpTimeoutInSeconds?1e3*ns.httpTimeoutInSeconds:1e4,this.cookieStorage=ns.legacySameSiteCookie===!1?xa:Ta$1,this.orgHintCookieName=(ss=this.options.client_id,"auth0.".concat(ss,".organization_hint")),this.isAuthenticatedCookieName=function(us){return"auth0.".concat(us,".is.authenticated")}(this.options.client_id),this.sessionCheckExpiryDays=ns.sessionCheckExpiryDays||1;var ls,cs=ns.useCookiesForTransactions?this.cookieStorage:Ca$1;this.scope=this.options.scope,this.transactionManager=new ba(cs,this.options.client_id),this.nowProvider=this.options.nowProvider||Uc$1,this.cacheManager=new ma$1(os,os.allKeys?null:new Aa$1(os,this.options.client_id),this.nowProvider),this.domainUrl=(ls=this.options.domain,/^https?:\/\//.test(ls)?ls:"https://".concat(ls)),this.tokenIssuer=function(us,ds){return us?us.startsWith("https://")?us:"https://".concat(us,"/"):"".concat(ds,"/")}(this.options.issuer,this.domainUrl),this.defaultScope=ha$1("openid",((is=(rs=this.options)===null||rs===void 0?void 0:rs.advancedOptions)===null||is===void 0?void 0:is.defaultScope)!==void 0?this.options.advancedOptions.defaultScope:"openid profile email"),this.options.useRefreshTokens&&(this.scope=ha$1(this.scope,"offline_access")),typeof window<"u"&&window.Worker&&this.options.useRefreshTokens&&this.cacheLocation==="memory"&&Ka$1()&&(this.worker=new Ea$1),this.customOptions=function(us){return us.advancedOptions,us.audience,us.auth0Client,us.authorizeTimeoutInSeconds,us.cacheLocation,us.cache,us.client_id,us.domain,us.issuer,us.leeway,us.max_age,us.nowProvider,us.redirect_uri,us.scope,us.useRefreshTokens,us.useRefreshTokensFallback,us.useCookiesForTransactions,us.useFormData,r$6(us,["advancedOptions","audience","auth0Client","authorizeTimeoutInSeconds","cacheLocation","cache","client_id","domain","issuer","leeway","max_age","nowProvider","redirect_uri","scope","useRefreshTokens","useRefreshTokensFallback","useCookiesForTransactions","useFormData"])}(ns),this.useRefreshTokensFallback=this.options.useRefreshTokensFallback!==!1}return ts.prototype._url=function(ns){var rs=encodeURIComponent(btoa(JSON.stringify(this.options.auth0Client||Nc$1)));return"".concat(this.domainUrl).concat(ns,"&auth0Client=").concat(rs)},ts.prototype._getParams=function(ns,rs,is,os,ss){var as=this.options;as.useRefreshTokens,as.useCookiesForTransactions,as.useFormData,as.auth0Client,as.cacheLocation,as.advancedOptions,as.detailedResponse,as.nowProvider,as.authorizeTimeoutInSeconds,as.legacySameSiteCookie,as.sessionCheckExpiryDays,as.domain,as.leeway,as.httpTimeoutInSeconds;var ls=r$6(as,["useRefreshTokens","useCookiesForTransactions","useFormData","auth0Client","cacheLocation","advancedOptions","detailedResponse","nowProvider","authorizeTimeoutInSeconds","legacySameSiteCookie","sessionCheckExpiryDays","domain","leeway","httpTimeoutInSeconds"]);return n$6(n$6(n$6({},ls),ns),{scope:ha$1(this.defaultScope,this.scope,ns.scope),response_type:"code",response_mode:"query",state:rs,nonce:is,redirect_uri:ss||this.options.redirect_uri,code_challenge:os,code_challenge_method:"S256"})},ts.prototype._authorizeUrl=function(ns){return this._url("/authorize?".concat(ta$1(ns)))},ts.prototype._verifyIdToken=function(ns,rs,is){return o$2(this,void 0,void 0,function(){var os;return i$3(this,function(ss){switch(ss.label){case 0:return[4,this.nowProvider()];case 1:return os=ss.sent(),[2,Sa$1({iss:this.tokenIssuer,aud:this.options.client_id,id_token:ns,nonce:rs,organizationId:is,leeway:this.options.leeway,max_age:this._parseNumber(this.options.max_age),now:os})]}})})},ts.prototype._parseNumber=function(ns){return typeof ns!="string"?ns:parseInt(ns,10)||void 0},ts.prototype._processOrgIdHint=function(ns){ns?this.cookieStorage.save(this.orgHintCookieName,ns,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}):this.cookieStorage.remove(this.orgHintCookieName,{cookieDomain:this.options.cookieDomain})},ts.prototype.buildAuthorizeUrl=function(ns){return ns===void 0&&(ns={}),o$2(this,void 0,void 0,function(){var rs,is,os,ss,as,ls,cs,us,ds,ps,hs,ms;return i$3(this,function(gs){switch(gs.label){case 0:return rs=ns.redirect_uri,is=ns.appState,os=r$6(ns,["redirect_uri","appState"]),ss=ea$1($c$1()),as=ea$1($c$1()),ls=$c$1(),[4,na(ls)];case 1:return cs=gs.sent(),us=oa$1(cs),ds=ns.fragment?"#".concat(ns.fragment):"",ps=this._getParams(os,ss,as,us,rs),hs=this._authorizeUrl(ps),ms=ns.organization||this.options.organization,this.transactionManager.create(n$6({nonce:as,code_verifier:ls,appState:is,scope:ps.scope,audience:ps.audience||"default",redirect_uri:ps.redirect_uri,state:ss},ms&&{organizationId:ms})),[2,hs+ds]}})})},ts.prototype.loginWithPopup=function(ns,rs){return o$2(this,void 0,void 0,function(){var is,os,ss,as,ls,cs,us,ds,ps,hs,ms,gs,ys;return i$3(this,function(vs){switch(vs.label){case 0:if(ns=ns||{},!(rs=rs||{}).popup&&(rs.popup=function(bs){var Ss=window.screenX+(window.innerWidth-400)/2,$s=window.screenY+(window.innerHeight-600)/2;return window.open(bs,"auth0:authorize:popup","left=".concat(Ss,",top=").concat($s,",width=").concat(400,",height=").concat(600,",resizable,scrollbars=yes,status=1"))}(""),!rs.popup))throw new Error("Unable to open a popup for loginWithPopup - window.open returned `null`");return is=r$6(ns,[]),os=ea$1($c$1()),ss=ea$1($c$1()),as=$c$1(),[4,na(as)];case 1:return ls=vs.sent(),cs=oa$1(ls),us=this._getParams(is,os,ss,cs,this.options.redirect_uri||window.location.origin),ds=this._authorizeUrl(n$6(n$6({},us),{response_mode:"web_message"})),rs.popup.location.href=ds,[4,Bc$1(n$6(n$6({},rs),{timeoutInSeconds:rs.timeoutInSeconds||this.options.authorizeTimeoutInSeconds||60}))];case 2:if(ps=vs.sent(),os!==ps.state)throw new Error("Invalid state");return[4,fa$1({audience:us.audience,scope:us.scope,baseUrl:this.domainUrl,client_id:this.options.client_id,code_verifier:as,code:ps.code,grant_type:"authorization_code",redirect_uri:us.redirect_uri,auth0Client:this.options.auth0Client,useFormData:this.options.useFormData,timeout:this.httpTimeoutMs},this.worker)];case 3:return hs=vs.sent(),ms=ns.organization||this.options.organization,[4,this._verifyIdToken(hs.id_token,ss,ms)];case 4:return gs=vs.sent(),ys=n$6(n$6({},hs),{decodedToken:gs,scope:us.scope,audience:us.audience||"default",client_id:this.options.client_id}),[4,this.cacheManager.set(ys)];case 5:return vs.sent(),this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}),this._processOrgIdHint(gs.claims.org_id),[2]}})})},ts.prototype.getUser=function(ns){return ns===void 0&&(ns={}),o$2(this,void 0,void 0,function(){var rs,is,os;return i$3(this,function(ss){switch(ss.label){case 0:return rs=ns.audience||this.options.audience||"default",is=ha$1(this.defaultScope,this.scope,ns.scope),[4,this.cacheManager.get(new pa$1({client_id:this.options.client_id,audience:rs,scope:is}))];case 1:return[2,(os=ss.sent())&&os.decodedToken&&os.decodedToken.user]}})})},ts.prototype.getIdTokenClaims=function(ns){return ns===void 0&&(ns={}),o$2(this,void 0,void 0,function(){var rs,is,os;return i$3(this,function(ss){switch(ss.label){case 0:return rs=ns.audience||this.options.audience||"default",is=ha$1(this.defaultScope,this.scope,ns.scope),[4,this.cacheManager.get(new pa$1({client_id:this.options.client_id,audience:rs,scope:is}))];case 1:return[2,(os=ss.sent())&&os.decodedToken&&os.decodedToken.claims]}})})},ts.prototype.loginWithRedirect=function(ns){return ns===void 0&&(ns={}),o$2(this,void 0,void 0,function(){var rs,is,os;return i$3(this,function(ss){switch(ss.label){case 0:return rs=ns.redirectMethod,is=r$6(ns,["redirectMethod"]),[4,this.buildAuthorizeUrl(is)];case 1:return os=ss.sent(),window.location[rs||"assign"](os),[2]}})})},ts.prototype.handleRedirectCallback=function(ns){return ns===void 0&&(ns=window.location.href),o$2(this,void 0,void 0,function(){var rs,is,os,ss,as,ls,cs,us,ds,ps;return i$3(this,function(hs){switch(hs.label){case 0:if((rs=ns.split("?").slice(1)).length===0)throw new Error("There are no query params available for parsing.");if(is=function(ms){ms.indexOf("#")>-1&&(ms=ms.substr(0,ms.indexOf("#")));var gs=ms.split("&"),ys={};return gs.forEach(function(vs){var bs=c$3(vs.split("="),2),Ss=bs[0],$s=bs[1];ys[Ss]=decodeURIComponent($s)}),ys.expires_in&&(ys.expires_in=parseInt(ys.expires_in)),ys}(rs.join("")),os=is.state,ss=is.code,as=is.error,ls=is.error_description,!(cs=this.transactionManager.get()))throw new Error("Invalid state");if(this.transactionManager.remove(),as)throw new Hc$1(as,ls,os,cs.appState);if(!cs.code_verifier||cs.state&&cs.state!==os)throw new Error("Invalid state");return us={audience:cs.audience,scope:cs.scope,baseUrl:this.domainUrl,client_id:this.options.client_id,code_verifier:cs.code_verifier,grant_type:"authorization_code",code:ss,auth0Client:this.options.auth0Client,useFormData:this.options.useFormData,timeout:this.httpTimeoutMs},cs.redirect_uri!==void 0&&(us.redirect_uri=cs.redirect_uri),[4,fa$1(us,this.worker)];case 1:return ds=hs.sent(),[4,this._verifyIdToken(ds.id_token,cs.nonce,cs.organizationId)];case 2:return ps=hs.sent(),[4,this.cacheManager.set(n$6(n$6(n$6(n$6({},ds),{decodedToken:ps,audience:cs.audience,scope:cs.scope}),ds.scope?{oauthTokenScope:ds.scope}:null),{client_id:this.options.client_id}))];case 3:return hs.sent(),this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}),this._processOrgIdHint(ps.claims.org_id),[2,{appState:cs.appState}]}})})},ts.prototype.checkSession=function(ns){return o$2(this,void 0,void 0,function(){var rs;return i$3(this,function(is){switch(is.label){case 0:if(!this.cookieStorage.get(this.isAuthenticatedCookieName)){if(!this.cookieStorage.get("auth0.is.authenticated"))return[2];this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}),this.cookieStorage.remove("auth0.is.authenticated")}is.label=1;case 1:return is.trys.push([1,3,,4]),[4,this.getTokenSilently(ns)];case 2:return is.sent(),[3,4];case 3:if(rs=is.sent(),!Kc$1.includes(rs.error))throw rs;return[3,4];case 4:return[2]}})})},ts.prototype.getTokenSilently=function(ns){return ns===void 0&&(ns={}),o$2(this,void 0,void 0,function(){var rs,is,os,ss,as=this;return i$3(this,function(ls){switch(ls.label){case 0:return rs=n$6(n$6({audience:this.options.audience,ignoreCache:!1},ns),{scope:ha$1(this.defaultScope,this.scope,ns.scope)}),is=rs.ignoreCache,os=r$6(rs,["ignoreCache"]),[4,(cs=function(){return as._getTokenSilently(n$6({ignoreCache:is},os))},us="".concat(this.options.client_id,"::").concat(os.audience,"::").concat(os.scope),ds=Ga$1[us],ds||(ds=cs().finally(function(){delete Ga$1[us],ds=null}),Ga$1[us]=ds),ds)];case 1:return ss=ls.sent(),[2,ns.detailedResponse?ss:ss.access_token]}var cs,us,ds})})},ts.prototype._getTokenSilently=function(ns){return ns===void 0&&(ns={}),o$2(this,void 0,void 0,function(){var rs,is,os,ss,as,ls,cs,us,ds;return i$3(this,function(ps){switch(ps.label){case 0:return rs=ns.ignoreCache,is=r$6(ns,["ignoreCache"]),rs?[3,2]:[4,this._getEntryFromCache({scope:is.scope,audience:is.audience||"default",client_id:this.options.client_id})];case 1:if(os=ps.sent())return[2,os];ps.label=2;case 2:return[4,(hs=function(){return Pa$1.acquireLock("auth0.lock.getTokenSilently",5e3)},ms=10,ms===void 0&&(ms=3),o$2(void 0,void 0,void 0,function(){var gs;return i$3(this,function(ys){switch(ys.label){case 0:gs=0,ys.label=1;case 1:return gs<ms?[4,hs()]:[3,4];case 2:if(ys.sent())return[2,!0];ys.label=3;case 3:return gs++,[3,1];case 4:return[2,!1]}})}))];case 3:if(!ps.sent())return[3,15];ps.label=4;case 4:return ps.trys.push([4,,12,14]),window.addEventListener("pagehide",this._releaseLockOnPageHide),rs?[3,6]:[4,this._getEntryFromCache({scope:is.scope,audience:is.audience||"default",client_id:this.options.client_id})];case 5:if(os=ps.sent())return[2,os];ps.label=6;case 6:return this.options.useRefreshTokens?[4,this._getTokenUsingRefreshToken(is)]:[3,8];case 7:return as=ps.sent(),[3,10];case 8:return[4,this._getTokenFromIFrame(is)];case 9:as=ps.sent(),ps.label=10;case 10:return ss=as,[4,this.cacheManager.set(n$6({client_id:this.options.client_id},ss))];case 11:return ps.sent(),this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}),ls=ss.id_token,cs=ss.access_token,us=ss.oauthTokenScope,ds=ss.expires_in,[2,n$6(n$6({id_token:ls,access_token:cs},us?{scope:us}:null),{expires_in:ds})];case 12:return[4,Pa$1.releaseLock("auth0.lock.getTokenSilently")];case 13:return ps.sent(),window.removeEventListener("pagehide",this._releaseLockOnPageHide),[7];case 14:return[3,16];case 15:throw new Yc$1;case 16:return[2]}var hs,ms})})},ts.prototype.getTokenWithPopup=function(ns,rs){return ns===void 0&&(ns={}),rs===void 0&&(rs={}),o$2(this,void 0,void 0,function(){return i$3(this,function(is){switch(is.label){case 0:return ns.audience=ns.audience||this.options.audience,ns.scope=ha$1(this.defaultScope,this.scope,ns.scope),rs=n$6(n$6({},Fc$1),rs),[4,this.loginWithPopup(ns,rs)];case 1:return is.sent(),[4,this.cacheManager.get(new pa$1({scope:ns.scope,audience:ns.audience||"default",client_id:this.options.client_id}))];case 2:return[2,is.sent().access_token]}})})},ts.prototype.isAuthenticated=function(){return o$2(this,void 0,void 0,function(){return i$3(this,function(ns){switch(ns.label){case 0:return[4,this.getUser()];case 1:return[2,!!ns.sent()]}})})},ts.prototype.buildLogoutUrl=function(ns){ns===void 0&&(ns={}),ns.client_id!==null?ns.client_id=ns.client_id||this.options.client_id:delete ns.client_id;var rs=ns.federated,is=r$6(ns,["federated"]),os=rs?"&federated":"";return this._url("/v2/logout?".concat(ta$1(is)))+os},ts.prototype.logout=function(ns){var rs=this;ns===void 0&&(ns={});var is=ns.localOnly,os=r$6(ns,["localOnly"]);if(is&&os.federated)throw new Error("It is invalid to set both the `federated` and `localOnly` options to `true`");var ss=function(){if(rs.cookieStorage.remove(rs.orgHintCookieName,{cookieDomain:rs.options.cookieDomain}),rs.cookieStorage.remove(rs.isAuthenticatedCookieName,{cookieDomain:rs.options.cookieDomain}),!is){var as=rs.buildLogoutUrl(os);window.location.assign(as)}};if(this.options.cache)return this.cacheManager.clear().then(function(){return ss()});this.cacheManager.clearSync(),ss()},ts.prototype._getTokenFromIFrame=function(ns){return o$2(this,void 0,void 0,function(){var rs,is,os,ss,as,ls,cs,us,ds,ps,hs,ms,gs,ys,vs,bs,Ss;return i$3(this,function($s){switch($s.label){case 0:return rs=ea$1($c$1()),is=ea$1($c$1()),os=$c$1(),[4,na(os)];case 1:ss=$s.sent(),as=oa$1(ss),ls=r$6(ns,["detailedResponse"]),cs=this._getParams(ls,rs,is,as,ns.redirect_uri||this.options.redirect_uri||window.location.origin),(us=this.cookieStorage.get(this.orgHintCookieName))&&!cs.organization&&(cs.organization=us),ds=this._authorizeUrl(n$6(n$6({},cs),{prompt:"none",response_mode:"web_message"})),$s.label=2;case 2:if($s.trys.push([2,6,,7]),window.crossOriginIsolated)throw new Dc$1("login_required","The application is running in a Cross-Origin Isolated context, silently retrieving a token without refresh token is not possible.");return ps=ns.timeoutInSeconds||this.options.authorizeTimeoutInSeconds,[4,(Cs=ds,Es=this.domainUrl,xs=ps,xs===void 0&&(xs=60),new Promise(function(ws,ks){var Is=window.document.createElement("iframe");Is.setAttribute("width","0"),Is.setAttribute("height","0"),Is.style.display="none";var Ts,Rs=function(){window.document.body.contains(Is)&&(window.document.body.removeChild(Is),window.removeEventListener("message",Ts,!1))},As=setTimeout(function(){ks(new Yc$1),Rs()},1e3*xs);Ts=function(Ms){if(Ms.origin==Es&&Ms.data&&Ms.data.type==="authorization_response"){var Ls=Ms.source;Ls&&Ls.close(),Ms.data.response.error?ks(Dc$1.fromPayload(Ms.data.response)):ws(Ms.data.response),clearTimeout(As),window.removeEventListener("message",Ts,!1),setTimeout(Rs,2e3)}},window.addEventListener("message",Ts,!1),window.document.body.appendChild(Is),Is.setAttribute("src",Cs)}))];case 3:if(hs=$s.sent(),rs!==hs.state)throw new Error("Invalid state");return ms=ns.scope,gs=ns.audience,ys=r$6(ns,["scope","audience","redirect_uri","ignoreCache","timeoutInSeconds","detailedResponse"]),[4,fa$1(n$6(n$6(n$6({},this.customOptions),ys),{scope:ms,audience:gs,baseUrl:this.domainUrl,client_id:this.options.client_id,code_verifier:os,code:hs.code,grant_type:"authorization_code",redirect_uri:cs.redirect_uri,auth0Client:this.options.auth0Client,useFormData:this.options.useFormData,timeout:ys.timeout||this.httpTimeoutMs}),this.worker)];case 4:return vs=$s.sent(),[4,this._verifyIdToken(vs.id_token,is)];case 5:return bs=$s.sent(),this._processOrgIdHint(bs.claims.org_id),[2,n$6(n$6({},vs),{decodedToken:bs,scope:cs.scope,oauthTokenScope:vs.scope,audience:cs.audience||"default"})];case 6:throw(Ss=$s.sent()).error==="login_required"&&this.logout({localOnly:!0}),Ss;case 7:return[2]}var Cs,Es,xs})})},ts.prototype._getTokenUsingRefreshToken=function(ns){return o$2(this,void 0,void 0,function(){var rs,is,os,ss,as,ls,cs,us,ds;return i$3(this,function(ps){switch(ps.label){case 0:return ns.scope=ha$1(this.defaultScope,this.options.scope,ns.scope),[4,this.cacheManager.get(new pa$1({scope:ns.scope,audience:ns.audience||"default",client_id:this.options.client_id}))];case 1:return(rs=ps.sent())&&rs.refresh_token||this.worker?[3,4]:this.useRefreshTokensFallback?[4,this._getTokenFromIFrame(ns)]:[3,3];case 2:return[2,ps.sent()];case 3:throw new Mc$1(ns.audience||"default",ns.scope);case 4:is=ns.redirect_uri||this.options.redirect_uri||window.location.origin,ss=ns.scope,as=ns.audience,ls=r$6(ns,["scope","audience","ignoreCache","timeoutInSeconds","detailedResponse"]),cs=typeof ns.timeoutInSeconds=="number"?1e3*ns.timeoutInSeconds:null,ps.label=5;case 5:return ps.trys.push([5,7,,10]),[4,fa$1(n$6(n$6(n$6(n$6(n$6({},this.customOptions),ls),{audience:as,scope:ss,baseUrl:this.domainUrl,client_id:this.options.client_id,grant_type:"refresh_token",refresh_token:rs&&rs.refresh_token,redirect_uri:is}),cs&&{timeout:cs}),{auth0Client:this.options.auth0Client,useFormData:this.options.useFormData,timeout:this.httpTimeoutMs}),this.worker)];case 6:return os=ps.sent(),[3,10];case 7:return((us=ps.sent()).message.indexOf("Missing Refresh Token")>-1||us.message&&us.message.indexOf("invalid refresh token")>-1)&&this.useRefreshTokensFallback?[4,this._getTokenFromIFrame(ns)]:[3,9];case 8:return[2,ps.sent()];case 9:throw us;case 10:return[4,this._verifyIdToken(os.id_token)];case 11:return ds=ps.sent(),[2,n$6(n$6({},os),{decodedToken:ds,scope:ns.scope,oauthTokenScope:os.scope,audience:ns.audience||"default"})]}})})},ts.prototype._getEntryFromCache=function(ns){var rs=ns.scope,is=ns.audience,os=ns.client_id;return o$2(this,void 0,void 0,function(){var ss,as,ls,cs,us;return i$3(this,function(ds){switch(ds.label){case 0:return[4,this.cacheManager.get(new pa$1({scope:rs,audience:is,client_id:os}),60)];case 1:return(ss=ds.sent())&&ss.access_token?(as=ss.id_token,ls=ss.access_token,cs=ss.oauthTokenScope,us=ss.expires_in,[2,n$6(n$6({id_token:as,access_token:ls},cs?{scope:cs}:null),{expires_in:us})]):[2]}})})},ts}(),initialAuthState={isAuthenticated:!1,isLoading:!0},stub=function(){throw new Error("You forgot to wrap your component in <Auth0Provider>.")},initialContext=__assign$1(__assign$1({},initialAuthState),{buildAuthorizeUrl:stub,buildLogoutUrl:stub,getAccessTokenSilently:stub,getAccessTokenWithPopup:stub,getIdTokenClaims:stub,loginWithRedirect:stub,loginWithPopup:stub,logout:stub,handleRedirectCallback:stub}),Auth0Context=reactExports.createContext(initialContext),OAuthError=function(ts){__extends$2(ns,ts);function ns(rs,is){var os=ts.call(this,is||rs)||this;return os.error=rs,os.error_description=is,Object.setPrototypeOf(os,ns.prototype),os}return ns}(Error),CODE_RE=/[?&]code=[^&]+/,STATE_RE=/[?&]state=[^&]+/,ERROR_RE=/[?&]error=[^&]+/,hasAuthParams=function(ts){return ts===void 0&&(ts=window.location.search),(CODE_RE.test(ts)||ERROR_RE.test(ts))&&STATE_RE.test(ts)},normalizeErrorFn=function(ts){return function(ns){return"error"in ns?new OAuthError(ns.error,ns.error_description):ns instanceof Error?ns:new Error(ts)}},loginError=normalizeErrorFn("Login failed"),tokenError=normalizeErrorFn("Get access token failed"),reducer$3=function(ts,ns){var rs,is;switch(ns.type){case"LOGIN_POPUP_STARTED":return __assign$1(__assign$1({},ts),{isLoading:!0});case"LOGIN_POPUP_COMPLETE":case"INITIALISED":return __assign$1(__assign$1({},ts),{isAuthenticated:!!ns.user,user:ns.user,isLoading:!1,error:void 0});case"HANDLE_REDIRECT_COMPLETE":case"GET_ACCESS_TOKEN_COMPLETE":return((rs=ts.user)===null||rs===void 0?void 0:rs.updated_at)===((is=ns.user)===null||is===void 0?void 0:is.updated_at)?ts:__assign$1(__assign$1({},ts),{isAuthenticated:!!ns.user,user:ns.user});case"LOGOUT":return __assign$1(__assign$1({},ts),{isAuthenticated:!1,user:void 0});case"ERROR":return __assign$1(__assign$1({},ts),{isLoading:!1,error:ns.error})}},toAuth0ClientOptions=function(ts){var ns=ts.clientId,rs=ts.redirectUri,is=ts.maxAge,os=__rest$5(ts,["clientId","redirectUri","maxAge"]);return __assign$1(__assign$1({},os),{client_id:ns,redirect_uri:rs,max_age:is,auth0Client:{name:"auth0-react",version:"1.12.1"}})},toAuth0LoginRedirectOptions=function(ts){if(ts){var ns=ts.redirectUri,rs=__rest$5(ts,["redirectUri"]);return __assign$1(__assign$1({},rs),{redirect_uri:ns})}},defaultOnRedirectCallback=function(ts){window.history.replaceState({},document.title,(ts==null?void 0:ts.returnTo)||window.location.pathname)},Auth0Provider=function(ts){var ns=ts.children,rs=ts.skipRedirectCallback,is=ts.onRedirectCallback,os=is===void 0?defaultOnRedirectCallback:is,ss=ts.context,as=ss===void 0?Auth0Context:ss,ls=__rest$5(ts,["children","skipRedirectCallback","onRedirectCallback","context"]),cs=reactExports.useState(function(){return new Na$1(toAuth0ClientOptions(ls))})[0],us=reactExports.useReducer(reducer$3,initialAuthState),ds=us[0],ps=us[1],hs=reactExports.useRef(!1);reactExports.useEffect(function(){hs.current||(hs.current=!0,function(){return __awaiter$1a(void 0,void 0,void 0,function(){var ws,ks,Is;return __generator$2(this,function(Ts){switch(Ts.label){case 0:return Ts.trys.push([0,7,,8]),ws=void 0,hasAuthParams()&&!rs?[4,cs.handleRedirectCallback()]:[3,3];case 1:return ks=Ts.sent().appState,[4,cs.getUser()];case 2:return ws=Ts.sent(),os(ks,ws),[3,6];case 3:return[4,cs.checkSession()];case 4:return Ts.sent(),[4,cs.getUser()];case 5:ws=Ts.sent(),Ts.label=6;case 6:return ps({type:"INITIALISED",user:ws}),[3,8];case 7:return Is=Ts.sent(),ps({type:"ERROR",error:loginError(Is)}),[3,8];case 8:return[2]}})})}())},[cs,os,rs]);var ms=reactExports.useCallback(function(ws){return cs.buildAuthorizeUrl(toAuth0LoginRedirectOptions(ws))},[cs]),gs=reactExports.useCallback(function(ws){return cs.buildLogoutUrl(ws)},[cs]),ys=reactExports.useCallback(function(ws){return cs.loginWithRedirect(toAuth0LoginRedirectOptions(ws))},[cs]),vs=reactExports.useCallback(function(ws,ks){return __awaiter$1a(void 0,void 0,void 0,function(){var Is,Ts;return __generator$2(this,function(Rs){switch(Rs.label){case 0:ps({type:"LOGIN_POPUP_STARTED"}),Rs.label=1;case 1:return Rs.trys.push([1,3,,4]),[4,cs.loginWithPopup(ws,ks)];case 2:return Rs.sent(),[3,4];case 3:return Is=Rs.sent(),ps({type:"ERROR",error:loginError(Is)}),[2];case 4:return[4,cs.getUser()];case 5:return Ts=Rs.sent(),ps({type:"LOGIN_POPUP_COMPLETE",user:Ts}),[2]}})})},[cs]),bs=reactExports.useCallback(function(ws){ws===void 0&&(ws={});var ks=cs.logout(ws);if(ws.localOnly){if(ks&&typeof ks.then=="function")return ks.then(function(){return ps({type:"LOGOUT"})});ps({type:"LOGOUT"})}return ks},[cs]),Ss=reactExports.useCallback(function(ws){return __awaiter$1a(void 0,void 0,void 0,function(){var ks,Is,Ts,Rs;return __generator$2(this,function(As){switch(As.label){case 0:return As.trys.push([0,2,3,5]),[4,cs.getTokenSilently(ws)];case 1:return ks=As.sent(),[3,5];case 2:throw Is=As.sent(),tokenError(Is);case 3:return Ts=ps,Rs={type:"GET_ACCESS_TOKEN_COMPLETE"},[4,cs.getUser()];case 4:return Ts.apply(void 0,[(Rs.user=As.sent(),Rs)]),[7];case 5:return[2,ks]}})})},[cs]),$s=reactExports.useCallback(function(ws,ks){return __awaiter$1a(void 0,void 0,void 0,function(){var Is,Ts,Rs,As;return __generator$2(this,function(Ms){switch(Ms.label){case 0:return Ms.trys.push([0,2,3,5]),[4,cs.getTokenWithPopup(ws,ks)];case 1:return Is=Ms.sent(),[3,5];case 2:throw Ts=Ms.sent(),tokenError(Ts);case 3:return Rs=ps,As={type:"GET_ACCESS_TOKEN_COMPLETE"},[4,cs.getUser()];case 4:return Rs.apply(void 0,[(As.user=Ms.sent(),As)]),[7];case 5:return[2,Is]}})})},[cs]),Cs=reactExports.useCallback(function(ws){return cs.getIdTokenClaims(ws)},[cs]),Es=reactExports.useCallback(function(ws){return __awaiter$1a(void 0,void 0,void 0,function(){var ks,Is,Ts;return __generator$2(this,function(Rs){switch(Rs.label){case 0:return Rs.trys.push([0,2,3,5]),[4,cs.handleRedirectCallback(ws)];case 1:return[2,Rs.sent()];case 2:throw ks=Rs.sent(),tokenError(ks);case 3:return Is=ps,Ts={type:"HANDLE_REDIRECT_COMPLETE"},[4,cs.getUser()];case 4:return Is.apply(void 0,[(Ts.user=Rs.sent(),Ts)]),[7];case 5:return[2]}})})},[cs]),xs=reactExports.useMemo(function(){return __assign$1(__assign$1({},ds),{buildAuthorizeUrl:ms,buildLogoutUrl:gs,getAccessTokenSilently:Ss,getAccessTokenWithPopup:$s,getIdTokenClaims:Cs,loginWithRedirect:ys,loginWithPopup:vs,logout:bs,handleRedirectCallback:Es})},[ds,ms,gs,Ss,$s,Cs,ys,vs,bs,Es]);return React$1.createElement(as.Provider,{value:xs},ns)},useAuth0=function(ts){return ts===void 0&&(ts=Auth0Context),reactExports.useContext(ts)},client$4={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(ts){function ns(Bs,Ws){var Os=Bs.length;Bs.push(Ws);e:for(;0<Os;){var Nl=Os-1>>>1,$a=Bs[Nl];if(0<os($a,Ws))Bs[Nl]=Ws,Bs[Os]=$a,Os=Nl;else break e}}function rs(Bs){return Bs.length===0?null:Bs[0]}function is(Bs){if(Bs.length===0)return null;var Ws=Bs[0],Os=Bs.pop();if(Os!==Ws){Bs[0]=Os;e:for(var Nl=0,$a=Bs.length,Ps=$a>>>1;Nl<Ps;){var Ys=2*(Nl+1)-1,Zs=Bs[Ys],Us=Ys+1,Ol=Bs[Us];if(0>os(Zs,Os))Us<$a&&0>os(Ol,Zs)?(Bs[Nl]=Ol,Bs[Us]=Os,Nl=Us):(Bs[Nl]=Zs,Bs[Ys]=Os,Nl=Ys);else if(Us<$a&&0>os(Ol,Os))Bs[Nl]=Ol,Bs[Us]=Os,Nl=Us;else break e}}return Ws}function os(Bs,Ws){var Os=Bs.sortIndex-Ws.sortIndex;return Os!==0?Os:Bs.id-Ws.id}if(typeof performance=="object"&&typeof performance.now=="function"){var ss=performance;ts.unstable_now=function(){return ss.now()}}else{var as=Date,ls=as.now();ts.unstable_now=function(){return as.now()-ls}}var cs=[],us=[],ds=1,ps=null,hs=3,ms=!1,gs=!1,ys=!1,vs=typeof setTimeout=="function"?setTimeout:null,bs=typeof clearTimeout=="function"?clearTimeout:null,Ss=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function $s(Bs){for(var Ws=rs(us);Ws!==null;){if(Ws.callback===null)is(us);else if(Ws.startTime<=Bs)is(us),Ws.sortIndex=Ws.expirationTime,ns(cs,Ws);else break;Ws=rs(us)}}function Cs(Bs){if(ys=!1,$s(Bs),!gs)if(rs(cs)!==null)gs=!0,Fs(Es);else{var Ws=rs(us);Ws!==null&&Vs(Cs,Ws.startTime-Bs)}}function Es(Bs,Ws){gs=!1,ys&&(ys=!1,bs(ks),ks=-1),ms=!0;var Os=hs;try{for($s(Ws),ps=rs(cs);ps!==null&&(!(ps.expirationTime>Ws)||Bs&&!Rs());){var Nl=ps.callback;if(typeof Nl=="function"){ps.callback=null,hs=ps.priorityLevel;var $a=Nl(ps.expirationTime<=Ws);Ws=ts.unstable_now(),typeof $a=="function"?ps.callback=$a:ps===rs(cs)&&is(cs),$s(Ws)}else is(cs);ps=rs(cs)}if(ps!==null)var Ps=!0;else{var Ys=rs(us);Ys!==null&&Vs(Cs,Ys.startTime-Ws),Ps=!1}return Ps}finally{ps=null,hs=Os,ms=!1}}var xs=!1,ws=null,ks=-1,Is=5,Ts=-1;function Rs(){return!(ts.unstable_now()-Ts<Is)}function As(){if(ws!==null){var Bs=ts.unstable_now();Ts=Bs;var Ws=!0;try{Ws=ws(!0,Bs)}finally{Ws?Ms():(xs=!1,ws=null)}}else xs=!1}var Ms;if(typeof Ss=="function")Ms=function(){Ss(As)};else if(typeof MessageChannel<"u"){var Ls=new MessageChannel,Ds=Ls.port2;Ls.port1.onmessage=As,Ms=function(){Ds.postMessage(null)}}else Ms=function(){vs(As,0)};function Fs(Bs){ws=Bs,xs||(xs=!0,Ms())}function Vs(Bs,Ws){ks=vs(function(){Bs(ts.unstable_now())},Ws)}ts.unstable_IdlePriority=5,ts.unstable_ImmediatePriority=1,ts.unstable_LowPriority=4,ts.unstable_NormalPriority=3,ts.unstable_Profiling=null,ts.unstable_UserBlockingPriority=2,ts.unstable_cancelCallback=function(Bs){Bs.callback=null},ts.unstable_continueExecution=function(){gs||ms||(gs=!0,Fs(Es))},ts.unstable_forceFrameRate=function(Bs){0>Bs||125<Bs?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Is=0<Bs?Math.floor(1e3/Bs):5},ts.unstable_getCurrentPriorityLevel=function(){return hs},ts.unstable_getFirstCallbackNode=function(){return rs(cs)},ts.unstable_next=function(Bs){switch(hs){case 1:case 2:case 3:var Ws=3;break;default:Ws=hs}var Os=hs;hs=Ws;try{return Bs()}finally{hs=Os}},ts.unstable_pauseExecution=function(){},ts.unstable_requestPaint=function(){},ts.unstable_runWithPriority=function(Bs,Ws){switch(Bs){case 1:case 2:case 3:case 4:case 5:break;default:Bs=3}var Os=hs;hs=Bs;try{return Ws()}finally{hs=Os}},ts.unstable_scheduleCallback=function(Bs,Ws,Os){var Nl=ts.unstable_now();switch(typeof Os=="object"&&Os!==null?(Os=Os.delay,Os=typeof Os=="number"&&0<Os?Nl+Os:Nl):Os=Nl,Bs){case 1:var $a=-1;break;case 2:$a=250;break;case 5:$a=1073741823;break;case 4:$a=1e4;break;default:$a=5e3}return $a=Os+$a,Bs={id:ds++,callback:Ws,priorityLevel:Bs,startTime:Os,expirationTime:$a,sortIndex:-1},Os>Nl?(Bs.sortIndex=Os,ns(us,Bs),rs(cs)===null&&Bs===rs(us)&&(ys?(bs(ks),ks=-1):ys=!0,Vs(Cs,Os-Nl))):(Bs.sortIndex=$a,ns(cs,Bs),gs||ms||(gs=!0,Fs(Es))),Bs},ts.unstable_shouldYield=Rs,ts.unstable_wrapCallback=function(Bs){var Ws=hs;return function(){var Os=hs;hs=Ws;try{return Bs.apply(this,arguments)}finally{hs=Os}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p$6(ts){for(var ns="https://reactjs.org/docs/error-decoder.html?invariant="+ts,rs=1;rs<arguments.length;rs++)ns+="&args[]="+encodeURIComponent(arguments[rs]);return"Minified React error #"+ts+"; visit "+ns+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(ts,ns){ha(ts,ns),ha(ts+"Capture",ns)}function ha(ts,ns){for(ea[ts]=ns,ts=0;ts<ns.length;ts++)da.add(ns[ts])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(ts){return ja.call(ma,ts)?!0:ja.call(la,ts)?!1:ka.test(ts)?ma[ts]=!0:(la[ts]=!0,!1)}function pa(ts,ns,rs,is){if(rs!==null&&rs.type===0)return!1;switch(typeof ns){case"function":case"symbol":return!0;case"boolean":return is?!1:rs!==null?!rs.acceptsBooleans:(ts=ts.toLowerCase().slice(0,5),ts!=="data-"&&ts!=="aria-");default:return!1}}function qa(ts,ns,rs,is){if(ns===null||typeof ns>"u"||pa(ts,ns,rs,is))return!0;if(is)return!1;if(rs!==null)switch(rs.type){case 3:return!ns;case 4:return ns===!1;case 5:return isNaN(ns);case 6:return isNaN(ns)||1>ns}return!1}function v$5(ts,ns,rs,is,os,ss,as){this.acceptsBooleans=ns===2||ns===3||ns===4,this.attributeName=is,this.attributeNamespace=os,this.mustUseProperty=rs,this.propertyName=ts,this.type=ns,this.sanitizeURL=ss,this.removeEmptyString=as}var z$2={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(ts){z$2[ts]=new v$5(ts,0,!1,ts,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(ts){var ns=ts[0];z$2[ns]=new v$5(ns,1,!1,ts[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(ts){z$2[ts]=new v$5(ts,2,!1,ts.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(ts){z$2[ts]=new v$5(ts,2,!1,ts,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(ts){z$2[ts]=new v$5(ts,3,!1,ts.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(ts){z$2[ts]=new v$5(ts,3,!0,ts,null,!1,!1)});["capture","download"].forEach(function(ts){z$2[ts]=new v$5(ts,4,!1,ts,null,!1,!1)});["cols","rows","size","span"].forEach(function(ts){z$2[ts]=new v$5(ts,6,!1,ts,null,!1,!1)});["rowSpan","start"].forEach(function(ts){z$2[ts]=new v$5(ts,5,!1,ts.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(ts){return ts[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(ts){var ns=ts.replace(ra,sa);z$2[ns]=new v$5(ns,1,!1,ts,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(ts){var ns=ts.replace(ra,sa);z$2[ns]=new v$5(ns,1,!1,ts,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(ts){var ns=ts.replace(ra,sa);z$2[ns]=new v$5(ns,1,!1,ts,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(ts){z$2[ts]=new v$5(ts,1,!1,ts.toLowerCase(),null,!1,!1)});z$2.xlinkHref=new v$5("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(ts){z$2[ts]=new v$5(ts,1,!1,ts.toLowerCase(),null,!0,!0)});function ta(ts,ns,rs,is){var os=z$2.hasOwnProperty(ns)?z$2[ns]:null;(os!==null?os.type!==0:is||!(2<ns.length)||ns[0]!=="o"&&ns[0]!=="O"||ns[1]!=="n"&&ns[1]!=="N")&&(qa(ns,rs,os,is)&&(rs=null),is||os===null?oa(ns)&&(rs===null?ts.removeAttribute(ns):ts.setAttribute(ns,""+rs)):os.mustUseProperty?ts[os.propertyName]=rs===null?os.type===3?!1:"":rs:(ns=os.attributeName,is=os.attributeNamespace,rs===null?ts.removeAttribute(ns):(os=os.type,rs=os===3||os===4&&rs===!0?"":""+rs,is?ts.setAttributeNS(is,ns,rs):ts.setAttribute(ns,rs))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(ts){return ts===null||typeof ts!="object"?null:(ts=Ja&&ts[Ja]||ts["@@iterator"],typeof ts=="function"?ts:null)}var A$1=Object.assign,La;function Ma(ts){if(La===void 0)try{throw Error()}catch(rs){var ns=rs.stack.trim().match(/\n( *(at )?)/);La=ns&&ns[1]||""}return"\n"+La+ts}var Na=!1;function Oa(ts,ns){if(!ts||Na)return"";Na=!0;var rs=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(ns)if(ns=function(){throw Error()},Object.defineProperty(ns.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ns,[])}catch(us){var is=us}Reflect.construct(ts,[],ns)}else{try{ns.call()}catch(us){is=us}ts.call(ns.prototype)}else{try{throw Error()}catch(us){is=us}ts()}}catch(us){if(us&&is&&typeof us.stack=="string"){for(var os=us.stack.split("\n"),ss=is.stack.split("\n"),as=os.length-1,ls=ss.length-1;1<=as&&0<=ls&&os[as]!==ss[ls];)ls--;for(;1<=as&&0<=ls;as--,ls--)if(os[as]!==ss[ls]){if(as!==1||ls!==1)do if(as--,ls--,0>ls||os[as]!==ss[ls]){var cs="\n"+os[as].replace(" at new "," at ");return ts.displayName&&cs.includes("<anonymous>")&&(cs=cs.replace("<anonymous>",ts.displayName)),cs}while(1<=as&&0<=ls);break}}}finally{Na=!1,Error.prepareStackTrace=rs}return(ts=ts?ts.displayName||ts.name:"")?Ma(ts):""}function Pa(ts){switch(ts.tag){case 5:return Ma(ts.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return ts=Oa(ts.type,!1),ts;case 11:return ts=Oa(ts.type.render,!1),ts;case 1:return ts=Oa(ts.type,!0),ts;default:return""}}function Qa(ts){if(ts==null)return null;if(typeof ts=="function")return ts.displayName||ts.name||null;if(typeof ts=="string")return ts;switch(ts){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof ts=="object")switch(ts.$$typeof){case Ca:return(ts.displayName||"Context")+".Consumer";case Ba:return(ts._context.displayName||"Context")+".Provider";case Da:var ns=ts.render;return ts=ts.displayName,ts||(ts=ns.displayName||ns.name||"",ts=ts!==""?"ForwardRef("+ts+")":"ForwardRef"),ts;case Ga:return ns=ts.displayName||null,ns!==null?ns:Qa(ts.type)||"Memo";case Ha:ns=ts._payload,ts=ts._init;try{return Qa(ts(ns))}catch{}}return null}function Ra(ts){var ns=ts.type;switch(ts.tag){case 24:return"Cache";case 9:return(ns.displayName||"Context")+".Consumer";case 10:return(ns._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return ts=ns.render,ts=ts.displayName||ts.name||"",ns.displayName||(ts!==""?"ForwardRef("+ts+")":"ForwardRef");case 7:return"Fragment";case 5:return ns;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(ns);case 8:return ns===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof ns=="function")return ns.displayName||ns.name||null;if(typeof ns=="string")return ns}return null}function Sa(ts){switch(typeof ts){case"boolean":case"number":case"string":case"undefined":return ts;case"object":return ts;default:return""}}function Ta(ts){var ns=ts.type;return(ts=ts.nodeName)&&ts.toLowerCase()==="input"&&(ns==="checkbox"||ns==="radio")}function Ua(ts){var ns=Ta(ts)?"checked":"value",rs=Object.getOwnPropertyDescriptor(ts.constructor.prototype,ns),is=""+ts[ns];if(!ts.hasOwnProperty(ns)&&typeof rs<"u"&&typeof rs.get=="function"&&typeof rs.set=="function"){var os=rs.get,ss=rs.set;return Object.defineProperty(ts,ns,{configurable:!0,get:function(){return os.call(this)},set:function(as){is=""+as,ss.call(this,as)}}),Object.defineProperty(ts,ns,{enumerable:rs.enumerable}),{getValue:function(){return is},setValue:function(as){is=""+as},stopTracking:function(){ts._valueTracker=null,delete ts[ns]}}}}function Va(ts){ts._valueTracker||(ts._valueTracker=Ua(ts))}function Wa(ts){if(!ts)return!1;var ns=ts._valueTracker;if(!ns)return!0;var rs=ns.getValue(),is="";return ts&&(is=Ta(ts)?ts.checked?"true":"false":ts.value),ts=is,ts!==rs?(ns.setValue(ts),!0):!1}function Xa(ts){if(ts=ts||(typeof document<"u"?document:void 0),typeof ts>"u")return null;try{return ts.activeElement||ts.body}catch{return ts.body}}function Ya(ts,ns){var rs=ns.checked;return A$1({},ns,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:rs!=null?rs:ts._wrapperState.initialChecked})}function Za(ts,ns){var rs=ns.defaultValue==null?"":ns.defaultValue,is=ns.checked!=null?ns.checked:ns.defaultChecked;rs=Sa(ns.value!=null?ns.value:rs),ts._wrapperState={initialChecked:is,initialValue:rs,controlled:ns.type==="checkbox"||ns.type==="radio"?ns.checked!=null:ns.value!=null}}function ab(ts,ns){ns=ns.checked,ns!=null&&ta(ts,"checked",ns,!1)}function bb(ts,ns){ab(ts,ns);var rs=Sa(ns.value),is=ns.type;if(rs!=null)is==="number"?(rs===0&&ts.value===""||ts.value!=rs)&&(ts.value=""+rs):ts.value!==""+rs&&(ts.value=""+rs);else if(is==="submit"||is==="reset"){ts.removeAttribute("value");return}ns.hasOwnProperty("value")?cb(ts,ns.type,rs):ns.hasOwnProperty("defaultValue")&&cb(ts,ns.type,Sa(ns.defaultValue)),ns.checked==null&&ns.defaultChecked!=null&&(ts.defaultChecked=!!ns.defaultChecked)}function db(ts,ns,rs){if(ns.hasOwnProperty("value")||ns.hasOwnProperty("defaultValue")){var is=ns.type;if(!(is!=="submit"&&is!=="reset"||ns.value!==void 0&&ns.value!==null))return;ns=""+ts._wrapperState.initialValue,rs||ns===ts.value||(ts.value=ns),ts.defaultValue=ns}rs=ts.name,rs!==""&&(ts.name=""),ts.defaultChecked=!!ts._wrapperState.initialChecked,rs!==""&&(ts.name=rs)}function cb(ts,ns,rs){(ns!=="number"||Xa(ts.ownerDocument)!==ts)&&(rs==null?ts.defaultValue=""+ts._wrapperState.initialValue:ts.defaultValue!==""+rs&&(ts.defaultValue=""+rs))}var eb=Array.isArray;function fb(ts,ns,rs,is){if(ts=ts.options,ns){ns={};for(var os=0;os<rs.length;os++)ns["$"+rs[os]]=!0;for(rs=0;rs<ts.length;rs++)os=ns.hasOwnProperty("$"+ts[rs].value),ts[rs].selected!==os&&(ts[rs].selected=os),os&&is&&(ts[rs].defaultSelected=!0)}else{for(rs=""+Sa(rs),ns=null,os=0;os<ts.length;os++){if(ts[os].value===rs){ts[os].selected=!0,is&&(ts[os].defaultSelected=!0);return}ns!==null||ts[os].disabled||(ns=ts[os])}ns!==null&&(ns.selected=!0)}}function gb(ts,ns){if(ns.dangerouslySetInnerHTML!=null)throw Error(p$6(91));return A$1({},ns,{value:void 0,defaultValue:void 0,children:""+ts._wrapperState.initialValue})}function hb(ts,ns){var rs=ns.value;if(rs==null){if(rs=ns.children,ns=ns.defaultValue,rs!=null){if(ns!=null)throw Error(p$6(92));if(eb(rs)){if(1<rs.length)throw Error(p$6(93));rs=rs[0]}ns=rs}ns==null&&(ns=""),rs=ns}ts._wrapperState={initialValue:Sa(rs)}}function ib(ts,ns){var rs=Sa(ns.value),is=Sa(ns.defaultValue);rs!=null&&(rs=""+rs,rs!==ts.value&&(ts.value=rs),ns.defaultValue==null&&ts.defaultValue!==rs&&(ts.defaultValue=rs)),is!=null&&(ts.defaultValue=""+is)}function jb(ts){var ns=ts.textContent;ns===ts._wrapperState.initialValue&&ns!==""&&ns!==null&&(ts.value=ns)}function kb(ts){switch(ts){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(ts,ns){return ts==null||ts==="http://www.w3.org/1999/xhtml"?kb(ns):ts==="http://www.w3.org/2000/svg"&&ns==="foreignObject"?"http://www.w3.org/1999/xhtml":ts}var mb,nb=function(ts){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(ns,rs,is,os){MSApp.execUnsafeLocalFunction(function(){return ts(ns,rs,is,os)})}:ts}(function(ts,ns){if(ts.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in ts)ts.innerHTML=ns;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+ns.valueOf().toString()+"</svg>",ns=mb.firstChild;ts.firstChild;)ts.removeChild(ts.firstChild);for(;ns.firstChild;)ts.appendChild(ns.firstChild)}});function ob(ts,ns){if(ns){var rs=ts.firstChild;if(rs&&rs===ts.lastChild&&rs.nodeType===3){rs.nodeValue=ns;return}}ts.textContent=ns}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(ts){qb.forEach(function(ns){ns=ns+ts.charAt(0).toUpperCase()+ts.substring(1),pb[ns]=pb[ts]})});function rb(ts,ns,rs){return ns==null||typeof ns=="boolean"||ns===""?"":rs||typeof ns!="number"||ns===0||pb.hasOwnProperty(ts)&&pb[ts]?(""+ns).trim():ns+"px"}function sb(ts,ns){ts=ts.style;for(var rs in ns)if(ns.hasOwnProperty(rs)){var is=rs.indexOf("--")===0,os=rb(rs,ns[rs],is);rs==="float"&&(rs="cssFloat"),is?ts.setProperty(rs,os):ts[rs]=os}}var tb=A$1({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(ts,ns){if(ns){if(tb[ts]&&(ns.children!=null||ns.dangerouslySetInnerHTML!=null))throw Error(p$6(137,ts));if(ns.dangerouslySetInnerHTML!=null){if(ns.children!=null)throw Error(p$6(60));if(typeof ns.dangerouslySetInnerHTML!="object"||!("__html"in ns.dangerouslySetInnerHTML))throw Error(p$6(61))}if(ns.style!=null&&typeof ns.style!="object")throw Error(p$6(62))}}function vb(ts,ns){if(ts.indexOf("-")===-1)return typeof ns.is=="string";switch(ts){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(ts){return ts=ts.target||ts.srcElement||window,ts.correspondingUseElement&&(ts=ts.correspondingUseElement),ts.nodeType===3?ts.parentNode:ts}var yb=null,zb=null,Ab=null;function Bb(ts){if(ts=Cb(ts)){if(typeof yb!="function")throw Error(p$6(280));var ns=ts.stateNode;ns&&(ns=Db(ns),yb(ts.stateNode,ts.type,ns))}}function Eb(ts){zb?Ab?Ab.push(ts):Ab=[ts]:zb=ts}function Fb(){if(zb){var ts=zb,ns=Ab;if(Ab=zb=null,Bb(ts),ns)for(ts=0;ts<ns.length;ts++)Bb(ns[ts])}}function Gb(ts,ns){return ts(ns)}function Hb(){}var Ib=!1;function Jb(ts,ns,rs){if(Ib)return ts(ns,rs);Ib=!0;try{return Gb(ts,ns,rs)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(ts,ns){var rs=ts.stateNode;if(rs===null)return null;var is=Db(rs);if(is===null)return null;rs=is[ns];e:switch(ns){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(is=!is.disabled)||(ts=ts.type,is=!(ts==="button"||ts==="input"||ts==="select"||ts==="textarea")),ts=!is;break e;default:ts=!1}if(ts)return null;if(rs&&typeof rs!="function")throw Error(p$6(231,ns,typeof rs));return rs}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(ts,ns,rs,is,os,ss,as,ls,cs){var us=Array.prototype.slice.call(arguments,3);try{ns.apply(rs,us)}catch(ds){this.onError(ds)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(ts){Ob=!0,Pb=ts}};function Tb(ts,ns,rs,is,os,ss,as,ls,cs){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(ts,ns,rs,is,os,ss,as,ls,cs){if(Tb.apply(this,arguments),Ob){if(Ob){var us=Pb;Ob=!1,Pb=null}else throw Error(p$6(198));Qb||(Qb=!0,Rb=us)}}function Vb(ts){var ns=ts,rs=ts;if(ts.alternate)for(;ns.return;)ns=ns.return;else{ts=ns;do ns=ts,ns.flags&4098&&(rs=ns.return),ts=ns.return;while(ts)}return ns.tag===3?rs:null}function Wb(ts){if(ts.tag===13){var ns=ts.memoizedState;if(ns===null&&(ts=ts.alternate,ts!==null&&(ns=ts.memoizedState)),ns!==null)return ns.dehydrated}return null}function Xb(ts){if(Vb(ts)!==ts)throw Error(p$6(188))}function Yb(ts){var ns=ts.alternate;if(!ns){if(ns=Vb(ts),ns===null)throw Error(p$6(188));return ns!==ts?null:ts}for(var rs=ts,is=ns;;){var os=rs.return;if(os===null)break;var ss=os.alternate;if(ss===null){if(is=os.return,is!==null){rs=is;continue}break}if(os.child===ss.child){for(ss=os.child;ss;){if(ss===rs)return Xb(os),ts;if(ss===is)return Xb(os),ns;ss=ss.sibling}throw Error(p$6(188))}if(rs.return!==is.return)rs=os,is=ss;else{for(var as=!1,ls=os.child;ls;){if(ls===rs){as=!0,rs=os,is=ss;break}if(ls===is){as=!0,is=os,rs=ss;break}ls=ls.sibling}if(!as){for(ls=ss.child;ls;){if(ls===rs){as=!0,rs=ss,is=os;break}if(ls===is){as=!0,is=ss,rs=os;break}ls=ls.sibling}if(!as)throw Error(p$6(189))}}if(rs.alternate!==is)throw Error(p$6(190))}if(rs.tag!==3)throw Error(p$6(188));return rs.stateNode.current===rs?ts:ns}function Zb(ts){return ts=Yb(ts),ts!==null?$b(ts):null}function $b(ts){if(ts.tag===5||ts.tag===6)return ts;for(ts=ts.child;ts!==null;){var ns=$b(ts);if(ns!==null)return ns;ts=ts.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B$1=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(ts){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,ts,void 0,(ts.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(ts){return ts>>>=0,ts===0?32:31-(pc(ts)/qc|0)|0}var rc=64,sc=4194304;function tc(ts){switch(ts&-ts){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return ts&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return ts&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return ts}}function uc(ts,ns){var rs=ts.pendingLanes;if(rs===0)return 0;var is=0,os=ts.suspendedLanes,ss=ts.pingedLanes,as=rs&268435455;if(as!==0){var ls=as&~os;ls!==0?is=tc(ls):(ss&=as,ss!==0&&(is=tc(ss)))}else as=rs&~os,as!==0?is=tc(as):ss!==0&&(is=tc(ss));if(is===0)return 0;if(ns!==0&&ns!==is&&!(ns&os)&&(os=is&-is,ss=ns&-ns,os>=ss||os===16&&(ss&4194240)!==0))return ns;if(is&4&&(is|=rs&16),ns=ts.entangledLanes,ns!==0)for(ts=ts.entanglements,ns&=is;0<ns;)rs=31-oc(ns),os=1<<rs,is|=ts[rs],ns&=~os;return is}function vc(ts,ns){switch(ts){case 1:case 2:case 4:return ns+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return ns+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(ts,ns){for(var rs=ts.suspendedLanes,is=ts.pingedLanes,os=ts.expirationTimes,ss=ts.pendingLanes;0<ss;){var as=31-oc(ss),ls=1<<as,cs=os[as];cs===-1?(!(ls&rs)||ls&is)&&(os[as]=vc(ls,ns)):cs<=ns&&(ts.expiredLanes|=ls),ss&=~ls}}function xc(ts){return ts=ts.pendingLanes&-1073741825,ts!==0?ts:ts&1073741824?1073741824:0}function yc(){var ts=rc;return rc<<=1,!(rc&4194240)&&(rc=64),ts}function zc(ts){for(var ns=[],rs=0;31>rs;rs++)ns.push(ts);return ns}function Ac(ts,ns,rs){ts.pendingLanes|=ns,ns!==536870912&&(ts.suspendedLanes=0,ts.pingedLanes=0),ts=ts.eventTimes,ns=31-oc(ns),ts[ns]=rs}function Bc(ts,ns){var rs=ts.pendingLanes&~ns;ts.pendingLanes=ns,ts.suspendedLanes=0,ts.pingedLanes=0,ts.expiredLanes&=ns,ts.mutableReadLanes&=ns,ts.entangledLanes&=ns,ns=ts.entanglements;var is=ts.eventTimes;for(ts=ts.expirationTimes;0<rs;){var os=31-oc(rs),ss=1<<os;ns[os]=0,is[os]=-1,ts[os]=-1,rs&=~ss}}function Cc(ts,ns){var rs=ts.entangledLanes|=ns;for(ts=ts.entanglements;rs;){var is=31-oc(rs),os=1<<is;os&ns|ts[is]&ns&&(ts[is]|=ns),rs&=~os}}var C$1=0;function Dc(ts){return ts&=-ts,1<ts?4<ts?ts&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(ts,ns){switch(ts){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(ns.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(ns.pointerId)}}function Tc(ts,ns,rs,is,os,ss){return ts===null||ts.nativeEvent!==ss?(ts={blockedOn:ns,domEventName:rs,eventSystemFlags:is,nativeEvent:ss,targetContainers:[os]},ns!==null&&(ns=Cb(ns),ns!==null&&Fc(ns)),ts):(ts.eventSystemFlags|=is,ns=ts.targetContainers,os!==null&&ns.indexOf(os)===-1&&ns.push(os),ts)}function Uc(ts,ns,rs,is,os){switch(ns){case"focusin":return Lc=Tc(Lc,ts,ns,rs,is,os),!0;case"dragenter":return Mc=Tc(Mc,ts,ns,rs,is,os),!0;case"mouseover":return Nc=Tc(Nc,ts,ns,rs,is,os),!0;case"pointerover":var ss=os.pointerId;return Oc.set(ss,Tc(Oc.get(ss)||null,ts,ns,rs,is,os)),!0;case"gotpointercapture":return ss=os.pointerId,Pc.set(ss,Tc(Pc.get(ss)||null,ts,ns,rs,is,os)),!0}return!1}function Vc(ts){var ns=Wc(ts.target);if(ns!==null){var rs=Vb(ns);if(rs!==null){if(ns=rs.tag,ns===13){if(ns=Wb(rs),ns!==null){ts.blockedOn=ns,Ic(ts.priority,function(){Gc(rs)});return}}else if(ns===3&&rs.stateNode.current.memoizedState.isDehydrated){ts.blockedOn=rs.tag===3?rs.stateNode.containerInfo:null;return}}}ts.blockedOn=null}function Xc(ts){if(ts.blockedOn!==null)return!1;for(var ns=ts.targetContainers;0<ns.length;){var rs=Yc(ts.domEventName,ts.eventSystemFlags,ns[0],ts.nativeEvent);if(rs===null){rs=ts.nativeEvent;var is=new rs.constructor(rs.type,rs);wb=is,rs.target.dispatchEvent(is),wb=null}else return ns=Cb(rs),ns!==null&&Fc(ns),ts.blockedOn=rs,!1;ns.shift()}return!0}function Zc(ts,ns,rs){Xc(ts)&&rs.delete(ns)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(ts,ns){ts.blockedOn===ns&&(ts.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(ts){function ns(os){return ad(os,ts)}if(0<Kc.length){ad(Kc[0],ts);for(var rs=1;rs<Kc.length;rs++){var is=Kc[rs];is.blockedOn===ts&&(is.blockedOn=null)}}for(Lc!==null&&ad(Lc,ts),Mc!==null&&ad(Mc,ts),Nc!==null&&ad(Nc,ts),Oc.forEach(ns),Pc.forEach(ns),rs=0;rs<Qc.length;rs++)is=Qc[rs],is.blockedOn===ts&&(is.blockedOn=null);for(;0<Qc.length&&(rs=Qc[0],rs.blockedOn===null);)Vc(rs),rs.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(ts,ns,rs,is){var os=C$1,ss=cd.transition;cd.transition=null;try{C$1=1,fd(ts,ns,rs,is)}finally{C$1=os,cd.transition=ss}}function gd(ts,ns,rs,is){var os=C$1,ss=cd.transition;cd.transition=null;try{C$1=4,fd(ts,ns,rs,is)}finally{C$1=os,cd.transition=ss}}function fd(ts,ns,rs,is){if(dd){var os=Yc(ts,ns,rs,is);if(os===null)hd(ts,ns,is,id,rs),Sc(ts,is);else if(Uc(os,ts,ns,rs,is))is.stopPropagation();else if(Sc(ts,is),ns&4&&-1<Rc.indexOf(ts)){for(;os!==null;){var ss=Cb(os);if(ss!==null&&Ec(ss),ss=Yc(ts,ns,rs,is),ss===null&&hd(ts,ns,is,id,rs),ss===os)break;os=ss}os!==null&&is.stopPropagation()}else hd(ts,ns,is,null,rs)}}var id=null;function Yc(ts,ns,rs,is){if(id=null,ts=xb(is),ts=Wc(ts),ts!==null)if(ns=Vb(ts),ns===null)ts=null;else if(rs=ns.tag,rs===13){if(ts=Wb(ns),ts!==null)return ts;ts=null}else if(rs===3){if(ns.stateNode.current.memoizedState.isDehydrated)return ns.tag===3?ns.stateNode.containerInfo:null;ts=null}else ns!==ts&&(ts=null);return id=ts,null}function jd(ts){switch(ts){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var ts,ns=ld,rs=ns.length,is,os="value"in kd?kd.value:kd.textContent,ss=os.length;for(ts=0;ts<rs&&ns[ts]===os[ts];ts++);var as=rs-ts;for(is=1;is<=as&&ns[rs-is]===os[ss-is];is++);return md=os.slice(ts,1<is?1-is:void 0)}function od(ts){var ns=ts.keyCode;return"charCode"in ts?(ts=ts.charCode,ts===0&&ns===13&&(ts=13)):ts=ns,ts===10&&(ts=13),32<=ts||ts===13?ts:0}function pd(){return!0}function qd(){return!1}function rd(ts){function ns(rs,is,os,ss,as){this._reactName=rs,this._targetInst=os,this.type=is,this.nativeEvent=ss,this.target=as,this.currentTarget=null;for(var ls in ts)ts.hasOwnProperty(ls)&&(rs=ts[ls],this[ls]=rs?rs(ss):ss[ls]);return this.isDefaultPrevented=(ss.defaultPrevented!=null?ss.defaultPrevented:ss.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$1(ns.prototype,{preventDefault:function(){this.defaultPrevented=!0;var rs=this.nativeEvent;rs&&(rs.preventDefault?rs.preventDefault():typeof rs.returnValue!="unknown"&&(rs.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var rs=this.nativeEvent;rs&&(rs.stopPropagation?rs.stopPropagation():typeof rs.cancelBubble!="unknown"&&(rs.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),ns}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(ts){return ts.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$1({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$1({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(ts){return ts.relatedTarget===void 0?ts.fromElement===ts.srcElement?ts.toElement:ts.fromElement:ts.relatedTarget},movementX:function(ts){return"movementX"in ts?ts.movementX:(ts!==yd&&(yd&&ts.type==="mousemove"?(wd=ts.screenX-yd.screenX,xd=ts.screenY-yd.screenY):xd=wd=0,yd=ts),wd)},movementY:function(ts){return"movementY"in ts?ts.movementY:xd}}),Bd=rd(Ad),Cd=A$1({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$1({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$1({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$1({},sd,{clipboardData:function(ts){return"clipboardData"in ts?ts.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$1({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(ts){var ns=this.nativeEvent;return ns.getModifierState?ns.getModifierState(ts):(ts=Od[ts])?!!ns[ts]:!1}function zd(){return Pd}var Qd=A$1({},ud,{key:function(ts){if(ts.key){var ns=Md[ts.key]||ts.key;if(ns!=="Unidentified")return ns}return ts.type==="keypress"?(ts=od(ts),ts===13?"Enter":String.fromCharCode(ts)):ts.type==="keydown"||ts.type==="keyup"?Nd[ts.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(ts){return ts.type==="keypress"?od(ts):0},keyCode:function(ts){return ts.type==="keydown"||ts.type==="keyup"?ts.keyCode:0},which:function(ts){return ts.type==="keypress"?od(ts):ts.type==="keydown"||ts.type==="keyup"?ts.keyCode:0}}),Rd=rd(Qd),Sd=A$1({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$1({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$1({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$1({},Ad,{deltaX:function(ts){return"deltaX"in ts?ts.deltaX:"wheelDeltaX"in ts?-ts.wheelDeltaX:0},deltaY:function(ts){return"deltaY"in ts?ts.deltaY:"wheelDeltaY"in ts?-ts.wheelDeltaY:"wheelDelta"in ts?-ts.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae$1=ia&&"CompositionEvent"in window,be$1=null;ia&&"documentMode"in document&&(be$1=document.documentMode);var ce$1=ia&&"TextEvent"in window&&!be$1,de$1=ia&&(!ae$1||be$1&&8<be$1&&11>=be$1),ee$1=String.fromCharCode(32),fe$1=!1;function ge$1(ts,ns){switch(ts){case"keyup":return $d.indexOf(ns.keyCode)!==-1;case"keydown":return ns.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he$1(ts){return ts=ts.detail,typeof ts=="object"&&"data"in ts?ts.data:null}var ie$1=!1;function je$1(ts,ns){switch(ts){case"compositionend":return he$1(ns);case"keypress":return ns.which!==32?null:(fe$1=!0,ee$1);case"textInput":return ts=ns.data,ts===ee$1&&fe$1?null:ts;default:return null}}function ke$1(ts,ns){if(ie$1)return ts==="compositionend"||!ae$1&&ge$1(ts,ns)?(ts=nd(),md=ld=kd=null,ie$1=!1,ts):null;switch(ts){case"paste":return null;case"keypress":if(!(ns.ctrlKey||ns.altKey||ns.metaKey)||ns.ctrlKey&&ns.altKey){if(ns.char&&1<ns.char.length)return ns.char;if(ns.which)return String.fromCharCode(ns.which)}return null;case"compositionend":return de$1&&ns.locale!=="ko"?null:ns.data;default:return null}}var le$1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(ts){var ns=ts&&ts.nodeName&&ts.nodeName.toLowerCase();return ns==="input"?!!le$1[ts.type]:ns==="textarea"}function ne$1(ts,ns,rs,is){Eb(is),ns=oe$1(ns,"onChange"),0<ns.length&&(rs=new td("onChange","change",null,rs,is),ts.push({event:rs,listeners:ns}))}var pe$1=null,qe$1=null;function re$2(ts){se$1(ts,0)}function te$1(ts){var ns=ue(ts);if(Wa(ns))return ts}function ve$1(ts,ns){if(ts==="change")return ns}var we$1=!1;if(ia){var xe$1;if(ia){var ye$1="oninput"in document;if(!ye$1){var ze$1=document.createElement("div");ze$1.setAttribute("oninput","return;"),ye$1=typeof ze$1.oninput=="function"}xe$1=ye$1}else xe$1=!1;we$1=xe$1&&(!document.documentMode||9<document.documentMode)}function Ae$1(){pe$1&&(pe$1.detachEvent("onpropertychange",Be$1),qe$1=pe$1=null)}function Be$1(ts){if(ts.propertyName==="value"&&te$1(qe$1)){var ns=[];ne$1(ns,qe$1,ts,xb(ts)),Jb(re$2,ns)}}function Ce(ts,ns,rs){ts==="focusin"?(Ae$1(),pe$1=ns,qe$1=rs,pe$1.attachEvent("onpropertychange",Be$1)):ts==="focusout"&&Ae$1()}function De$1(ts){if(ts==="selectionchange"||ts==="keyup"||ts==="keydown")return te$1(qe$1)}function Ee$1(ts,ns){if(ts==="click")return te$1(ns)}function Fe$1(ts,ns){if(ts==="input"||ts==="change")return te$1(ns)}function Ge(ts,ns){return ts===ns&&(ts!==0||1/ts===1/ns)||ts!==ts&&ns!==ns}var He$1=typeof Object.is=="function"?Object.is:Ge;function Ie(ts,ns){if(He$1(ts,ns))return!0;if(typeof ts!="object"||ts===null||typeof ns!="object"||ns===null)return!1;var rs=Object.keys(ts),is=Object.keys(ns);if(rs.length!==is.length)return!1;for(is=0;is<rs.length;is++){var os=rs[is];if(!ja.call(ns,os)||!He$1(ts[os],ns[os]))return!1}return!0}function Je(ts){for(;ts&&ts.firstChild;)ts=ts.firstChild;return ts}function Ke(ts,ns){var rs=Je(ts);ts=0;for(var is;rs;){if(rs.nodeType===3){if(is=ts+rs.textContent.length,ts<=ns&&is>=ns)return{node:rs,offset:ns-ts};ts=is}e:{for(;rs;){if(rs.nextSibling){rs=rs.nextSibling;break e}rs=rs.parentNode}rs=void 0}rs=Je(rs)}}function Le$1(ts,ns){return ts&&ns?ts===ns?!0:ts&&ts.nodeType===3?!1:ns&&ns.nodeType===3?Le$1(ts,ns.parentNode):"contains"in ts?ts.contains(ns):ts.compareDocumentPosition?!!(ts.compareDocumentPosition(ns)&16):!1:!1}function Me$1(){for(var ts=window,ns=Xa();ns instanceof ts.HTMLIFrameElement;){try{var rs=typeof ns.contentWindow.location.href=="string"}catch{rs=!1}if(rs)ts=ns.contentWindow;else break;ns=Xa(ts.document)}return ns}function Ne$1(ts){var ns=ts&&ts.nodeName&&ts.nodeName.toLowerCase();return ns&&(ns==="input"&&(ts.type==="text"||ts.type==="search"||ts.type==="tel"||ts.type==="url"||ts.type==="password")||ns==="textarea"||ts.contentEditable==="true")}function Oe$1(ts){var ns=Me$1(),rs=ts.focusedElem,is=ts.selectionRange;if(ns!==rs&&rs&&rs.ownerDocument&&Le$1(rs.ownerDocument.documentElement,rs)){if(is!==null&&Ne$1(rs)){if(ns=is.start,ts=is.end,ts===void 0&&(ts=ns),"selectionStart"in rs)rs.selectionStart=ns,rs.selectionEnd=Math.min(ts,rs.value.length);else if(ts=(ns=rs.ownerDocument||document)&&ns.defaultView||window,ts.getSelection){ts=ts.getSelection();var os=rs.textContent.length,ss=Math.min(is.start,os);is=is.end===void 0?ss:Math.min(is.end,os),!ts.extend&&ss>is&&(os=is,is=ss,ss=os),os=Ke(rs,ss);var as=Ke(rs,is);os&&as&&(ts.rangeCount!==1||ts.anchorNode!==os.node||ts.anchorOffset!==os.offset||ts.focusNode!==as.node||ts.focusOffset!==as.offset)&&(ns=ns.createRange(),ns.setStart(os.node,os.offset),ts.removeAllRanges(),ss>is?(ts.addRange(ns),ts.extend(as.node,as.offset)):(ns.setEnd(as.node,as.offset),ts.addRange(ns)))}}for(ns=[],ts=rs;ts=ts.parentNode;)ts.nodeType===1&&ns.push({element:ts,left:ts.scrollLeft,top:ts.scrollTop});for(typeof rs.focus=="function"&&rs.focus(),rs=0;rs<ns.length;rs++)ts=ns[rs],ts.element.scrollLeft=ts.left,ts.element.scrollTop=ts.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re$1=null,Se$1=null,Te$1=!1;function Ue(ts,ns,rs){var is=rs.window===rs?rs.document:rs.nodeType===9?rs:rs.ownerDocument;Te$1||Qe==null||Qe!==Xa(is)||(is=Qe,"selectionStart"in is&&Ne$1(is)?is={start:is.selectionStart,end:is.selectionEnd}:(is=(is.ownerDocument&&is.ownerDocument.defaultView||window).getSelection(),is={anchorNode:is.anchorNode,anchorOffset:is.anchorOffset,focusNode:is.focusNode,focusOffset:is.focusOffset}),Se$1&&Ie(Se$1,is)||(Se$1=is,is=oe$1(Re$1,"onSelect"),0<is.length&&(ns=new td("onSelect","select",null,ns,rs),ts.push({event:ns,listeners:is}),ns.target=Qe)))}function Ve$1(ts,ns){var rs={};return rs[ts.toLowerCase()]=ns.toLowerCase(),rs["Webkit"+ts]="webkit"+ns,rs["Moz"+ts]="moz"+ns,rs}var We$1={animationend:Ve$1("Animation","AnimationEnd"),animationiteration:Ve$1("Animation","AnimationIteration"),animationstart:Ve$1("Animation","AnimationStart"),transitionend:Ve$1("Transition","TransitionEnd")},Xe={},Ye$1={};ia&&(Ye$1=document.createElement("div").style,"AnimationEvent"in window||(delete We$1.animationend.animation,delete We$1.animationiteration.animation,delete We$1.animationstart.animation),"TransitionEvent"in window||delete We$1.transitionend.transition);function Ze(ts){if(Xe[ts])return Xe[ts];if(!We$1[ts])return ts;var ns=We$1[ts],rs;for(rs in ns)if(ns.hasOwnProperty(rs)&&rs in Ye$1)return Xe[ts]=ns[rs];return ts}var $e$1=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(ts,ns){df.set(ts,ns),fa(ns,[ts])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e$1,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(ts,ns,rs){var is=ts.type||"unknown-event";ts.currentTarget=rs,Ub(is,ns,void 0,ts),ts.currentTarget=null}function se$1(ts,ns){ns=(ns&4)!==0;for(var rs=0;rs<ts.length;rs++){var is=ts[rs],os=is.event;is=is.listeners;e:{var ss=void 0;if(ns)for(var as=is.length-1;0<=as;as--){var ls=is[as],cs=ls.instance,us=ls.currentTarget;if(ls=ls.listener,cs!==ss&&os.isPropagationStopped())break e;nf(os,ls,us),ss=cs}else for(as=0;as<is.length;as++){if(ls=is[as],cs=ls.instance,us=ls.currentTarget,ls=ls.listener,cs!==ss&&os.isPropagationStopped())break e;nf(os,ls,us),ss=cs}}}if(Qb)throw ts=Rb,Qb=!1,Rb=null,ts}function D$1(ts,ns){var rs=ns[of];rs===void 0&&(rs=ns[of]=new Set);var is=ts+"__bubble";rs.has(is)||(pf(ns,ts,2,!1),rs.add(is))}function qf(ts,ns,rs){var is=0;ns&&(is|=4),pf(rs,ts,is,ns)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(ts){if(!ts[rf]){ts[rf]=!0,da.forEach(function(rs){rs!=="selectionchange"&&(mf.has(rs)||qf(rs,!1,ts),qf(rs,!0,ts))});var ns=ts.nodeType===9?ts:ts.ownerDocument;ns===null||ns[rf]||(ns[rf]=!0,qf("selectionchange",!1,ns))}}function pf(ts,ns,rs,is){switch(jd(ns)){case 1:var os=ed;break;case 4:os=gd;break;default:os=fd}rs=os.bind(null,ns,rs,ts),os=void 0,!Lb||ns!=="touchstart"&&ns!=="touchmove"&&ns!=="wheel"||(os=!0),is?os!==void 0?ts.addEventListener(ns,rs,{capture:!0,passive:os}):ts.addEventListener(ns,rs,!0):os!==void 0?ts.addEventListener(ns,rs,{passive:os}):ts.addEventListener(ns,rs,!1)}function hd(ts,ns,rs,is,os){var ss=is;if(!(ns&1)&&!(ns&2)&&is!==null)e:for(;;){if(is===null)return;var as=is.tag;if(as===3||as===4){var ls=is.stateNode.containerInfo;if(ls===os||ls.nodeType===8&&ls.parentNode===os)break;if(as===4)for(as=is.return;as!==null;){var cs=as.tag;if((cs===3||cs===4)&&(cs=as.stateNode.containerInfo,cs===os||cs.nodeType===8&&cs.parentNode===os))return;as=as.return}for(;ls!==null;){if(as=Wc(ls),as===null)return;if(cs=as.tag,cs===5||cs===6){is=ss=as;continue e}ls=ls.parentNode}}is=is.return}Jb(function(){var us=ss,ds=xb(rs),ps=[];e:{var hs=df.get(ts);if(hs!==void 0){var ms=td,gs=ts;switch(ts){case"keypress":if(od(rs)===0)break e;case"keydown":case"keyup":ms=Rd;break;case"focusin":gs="focus",ms=Fd;break;case"focusout":gs="blur",ms=Fd;break;case"beforeblur":case"afterblur":ms=Fd;break;case"click":if(rs.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ms=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ms=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ms=Vd;break;case $e$1:case af:case bf:ms=Hd;break;case cf:ms=Xd;break;case"scroll":ms=vd;break;case"wheel":ms=Zd;break;case"copy":case"cut":case"paste":ms=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ms=Td}var ys=(ns&4)!==0,vs=!ys&&ts==="scroll",bs=ys?hs!==null?hs+"Capture":null:hs;ys=[];for(var Ss=us,$s;Ss!==null;){$s=Ss;var Cs=$s.stateNode;if($s.tag===5&&Cs!==null&&($s=Cs,bs!==null&&(Cs=Kb(Ss,bs),Cs!=null&&ys.push(tf(Ss,Cs,$s)))),vs)break;Ss=Ss.return}0<ys.length&&(hs=new ms(hs,gs,null,rs,ds),ps.push({event:hs,listeners:ys}))}}if(!(ns&7)){e:{if(hs=ts==="mouseover"||ts==="pointerover",ms=ts==="mouseout"||ts==="pointerout",hs&&rs!==wb&&(gs=rs.relatedTarget||rs.fromElement)&&(Wc(gs)||gs[uf]))break e;if((ms||hs)&&(hs=ds.window===ds?ds:(hs=ds.ownerDocument)?hs.defaultView||hs.parentWindow:window,ms?(gs=rs.relatedTarget||rs.toElement,ms=us,gs=gs?Wc(gs):null,gs!==null&&(vs=Vb(gs),gs!==vs||gs.tag!==5&&gs.tag!==6)&&(gs=null)):(ms=null,gs=us),ms!==gs)){if(ys=Bd,Cs="onMouseLeave",bs="onMouseEnter",Ss="mouse",(ts==="pointerout"||ts==="pointerover")&&(ys=Td,Cs="onPointerLeave",bs="onPointerEnter",Ss="pointer"),vs=ms==null?hs:ue(ms),$s=gs==null?hs:ue(gs),hs=new ys(Cs,Ss+"leave",ms,rs,ds),hs.target=vs,hs.relatedTarget=$s,Cs=null,Wc(ds)===us&&(ys=new ys(bs,Ss+"enter",gs,rs,ds),ys.target=$s,ys.relatedTarget=vs,Cs=ys),vs=Cs,ms&&gs)t:{for(ys=ms,bs=gs,Ss=0,$s=ys;$s;$s=vf($s))Ss++;for($s=0,Cs=bs;Cs;Cs=vf(Cs))$s++;for(;0<Ss-$s;)ys=vf(ys),Ss--;for(;0<$s-Ss;)bs=vf(bs),$s--;for(;Ss--;){if(ys===bs||bs!==null&&ys===bs.alternate)break t;ys=vf(ys),bs=vf(bs)}ys=null}else ys=null;ms!==null&&wf(ps,hs,ms,ys,!1),gs!==null&&vs!==null&&wf(ps,vs,gs,ys,!0)}}e:{if(hs=us?ue(us):window,ms=hs.nodeName&&hs.nodeName.toLowerCase(),ms==="select"||ms==="input"&&hs.type==="file")var Es=ve$1;else if(me(hs))if(we$1)Es=Fe$1;else{Es=De$1;var xs=Ce}else(ms=hs.nodeName)&&ms.toLowerCase()==="input"&&(hs.type==="checkbox"||hs.type==="radio")&&(Es=Ee$1);if(Es&&(Es=Es(ts,us))){ne$1(ps,Es,rs,ds);break e}xs&&xs(ts,hs,us),ts==="focusout"&&(xs=hs._wrapperState)&&xs.controlled&&hs.type==="number"&&cb(hs,"number",hs.value)}switch(xs=us?ue(us):window,ts){case"focusin":(me(xs)||xs.contentEditable==="true")&&(Qe=xs,Re$1=us,Se$1=null);break;case"focusout":Se$1=Re$1=Qe=null;break;case"mousedown":Te$1=!0;break;case"contextmenu":case"mouseup":case"dragend":Te$1=!1,Ue(ps,rs,ds);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(ps,rs,ds)}var ws;if(ae$1)e:{switch(ts){case"compositionstart":var ks="onCompositionStart";break e;case"compositionend":ks="onCompositionEnd";break e;case"compositionupdate":ks="onCompositionUpdate";break e}ks=void 0}else ie$1?ge$1(ts,rs)&&(ks="onCompositionEnd"):ts==="keydown"&&rs.keyCode===229&&(ks="onCompositionStart");ks&&(de$1&&rs.locale!=="ko"&&(ie$1||ks!=="onCompositionStart"?ks==="onCompositionEnd"&&ie$1&&(ws=nd()):(kd=ds,ld="value"in kd?kd.value:kd.textContent,ie$1=!0)),xs=oe$1(us,ks),0<xs.length&&(ks=new Ld(ks,ts,null,rs,ds),ps.push({event:ks,listeners:xs}),ws?ks.data=ws:(ws=he$1(rs),ws!==null&&(ks.data=ws)))),(ws=ce$1?je$1(ts,rs):ke$1(ts,rs))&&(us=oe$1(us,"onBeforeInput"),0<us.length&&(ds=new Ld("onBeforeInput","beforeinput",null,rs,ds),ps.push({event:ds,listeners:us}),ds.data=ws))}se$1(ps,ns)})}function tf(ts,ns,rs){return{instance:ts,listener:ns,currentTarget:rs}}function oe$1(ts,ns){for(var rs=ns+"Capture",is=[];ts!==null;){var os=ts,ss=os.stateNode;os.tag===5&&ss!==null&&(os=ss,ss=Kb(ts,rs),ss!=null&&is.unshift(tf(ts,ss,os)),ss=Kb(ts,ns),ss!=null&&is.push(tf(ts,ss,os))),ts=ts.return}return is}function vf(ts){if(ts===null)return null;do ts=ts.return;while(ts&&ts.tag!==5);return ts||null}function wf(ts,ns,rs,is,os){for(var ss=ns._reactName,as=[];rs!==null&&rs!==is;){var ls=rs,cs=ls.alternate,us=ls.stateNode;if(cs!==null&&cs===is)break;ls.tag===5&&us!==null&&(ls=us,os?(cs=Kb(rs,ss),cs!=null&&as.unshift(tf(rs,cs,ls))):os||(cs=Kb(rs,ss),cs!=null&&as.push(tf(rs,cs,ls)))),rs=rs.return}as.length!==0&&ts.push({event:ns,listeners:as})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(ts){return(typeof ts=="string"?ts:""+ts).replace(xf,"\n").replace(yf,"")}function Af(ts,ns,rs){if(ns=zf(ns),zf(ts)!==ns&&rs)throw Error(p$6(425))}function Bf(){}var Cf=null,Df=null;function Ef(ts,ns){return ts==="textarea"||ts==="noscript"||typeof ns.children=="string"||typeof ns.children=="number"||typeof ns.dangerouslySetInnerHTML=="object"&&ns.dangerouslySetInnerHTML!==null&&ns.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(ts){return Hf.resolve(null).then(ts).catch(If)}:Ff;function If(ts){setTimeout(function(){throw ts})}function Kf(ts,ns){var rs=ns,is=0;do{var os=rs.nextSibling;if(ts.removeChild(rs),os&&os.nodeType===8)if(rs=os.data,rs==="/$"){if(is===0){ts.removeChild(os),bd(ns);return}is--}else rs!=="$"&&rs!=="$?"&&rs!=="$!"||is++;rs=os}while(rs);bd(ns)}function Lf(ts){for(;ts!=null;ts=ts.nextSibling){var ns=ts.nodeType;if(ns===1||ns===3)break;if(ns===8){if(ns=ts.data,ns==="$"||ns==="$!"||ns==="$?")break;if(ns==="/$")return null}}return ts}function Mf(ts){ts=ts.previousSibling;for(var ns=0;ts;){if(ts.nodeType===8){var rs=ts.data;if(rs==="$"||rs==="$!"||rs==="$?"){if(ns===0)return ts;ns--}else rs==="/$"&&ns++}ts=ts.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(ts){var ns=ts[Of];if(ns)return ns;for(var rs=ts.parentNode;rs;){if(ns=rs[uf]||rs[Of]){if(rs=ns.alternate,ns.child!==null||rs!==null&&rs.child!==null)for(ts=Mf(ts);ts!==null;){if(rs=ts[Of])return rs;ts=Mf(ts)}return ns}ts=rs,rs=ts.parentNode}return null}function Cb(ts){return ts=ts[Of]||ts[uf],!ts||ts.tag!==5&&ts.tag!==6&&ts.tag!==13&&ts.tag!==3?null:ts}function ue(ts){if(ts.tag===5||ts.tag===6)return ts.stateNode;throw Error(p$6(33))}function Db(ts){return ts[Pf]||null}var Sf=[],Tf=-1;function Uf(ts){return{current:ts}}function E$1(ts){0>Tf||(ts.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G$1(ts,ns){Tf++,Sf[Tf]=ts.current,ts.current=ns}var Vf={},H$1=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(ts,ns){var rs=ts.type.contextTypes;if(!rs)return Vf;var is=ts.stateNode;if(is&&is.__reactInternalMemoizedUnmaskedChildContext===ns)return is.__reactInternalMemoizedMaskedChildContext;var os={},ss;for(ss in rs)os[ss]=ns[ss];return is&&(ts=ts.stateNode,ts.__reactInternalMemoizedUnmaskedChildContext=ns,ts.__reactInternalMemoizedMaskedChildContext=os),os}function Zf(ts){return ts=ts.childContextTypes,ts!=null}function $f(){E$1(Wf),E$1(H$1)}function ag(ts,ns,rs){if(H$1.current!==Vf)throw Error(p$6(168));G$1(H$1,ns),G$1(Wf,rs)}function bg(ts,ns,rs){var is=ts.stateNode;if(ns=ns.childContextTypes,typeof is.getChildContext!="function")return rs;is=is.getChildContext();for(var os in is)if(!(os in ns))throw Error(p$6(108,Ra(ts)||"Unknown",os));return A$1({},rs,is)}function cg(ts){return ts=(ts=ts.stateNode)&&ts.__reactInternalMemoizedMergedChildContext||Vf,Xf=H$1.current,G$1(H$1,ts),G$1(Wf,Wf.current),!0}function dg(ts,ns,rs){var is=ts.stateNode;if(!is)throw Error(p$6(169));rs?(ts=bg(ts,ns,Xf),is.__reactInternalMemoizedMergedChildContext=ts,E$1(Wf),E$1(H$1),G$1(H$1,ts)):E$1(Wf),G$1(Wf,rs)}var eg=null,fg=!1,gg=!1;function hg(ts){eg===null?eg=[ts]:eg.push(ts)}function ig(ts){fg=!0,hg(ts)}function jg(){if(!gg&&eg!==null){gg=!0;var ts=0,ns=C$1;try{var rs=eg;for(C$1=1;ts<rs.length;ts++){var is=rs[ts];do is=is(!0);while(is!==null)}eg=null,fg=!1}catch(os){throw eg!==null&&(eg=eg.slice(ts+1)),ac(fc,jg),os}finally{C$1=ns,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(ts,ns){kg[lg++]=ng,kg[lg++]=mg,mg=ts,ng=ns}function ug(ts,ns,rs){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=ts;var is=rg;ts=sg;var os=32-oc(is)-1;is&=~(1<<os),rs+=1;var ss=32-oc(ns)+os;if(30<ss){var as=os-os%5;ss=(is&(1<<as)-1).toString(32),is>>=as,os-=as,rg=1<<32-oc(ns)+os|rs<<os|is,sg=ss+ts}else rg=1<<ss|rs<<os|is,sg=ts}function vg(ts){ts.return!==null&&(tg(ts,1),ug(ts,1,0))}function wg(ts){for(;ts===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;ts===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I$1=!1,zg=null;function Ag(ts,ns){var rs=Bg(5,null,null,0);rs.elementType="DELETED",rs.stateNode=ns,rs.return=ts,ns=ts.deletions,ns===null?(ts.deletions=[rs],ts.flags|=16):ns.push(rs)}function Cg(ts,ns){switch(ts.tag){case 5:var rs=ts.type;return ns=ns.nodeType!==1||rs.toLowerCase()!==ns.nodeName.toLowerCase()?null:ns,ns!==null?(ts.stateNode=ns,xg=ts,yg=Lf(ns.firstChild),!0):!1;case 6:return ns=ts.pendingProps===""||ns.nodeType!==3?null:ns,ns!==null?(ts.stateNode=ns,xg=ts,yg=null,!0):!1;case 13:return ns=ns.nodeType!==8?null:ns,ns!==null?(rs=qg!==null?{id:rg,overflow:sg}:null,ts.memoizedState={dehydrated:ns,treeContext:rs,retryLane:1073741824},rs=Bg(18,null,null,0),rs.stateNode=ns,rs.return=ts,ts.child=rs,xg=ts,yg=null,!0):!1;default:return!1}}function Dg(ts){return(ts.mode&1)!==0&&(ts.flags&128)===0}function Eg(ts){if(I$1){var ns=yg;if(ns){var rs=ns;if(!Cg(ts,ns)){if(Dg(ts))throw Error(p$6(418));ns=Lf(rs.nextSibling);var is=xg;ns&&Cg(ts,ns)?Ag(is,rs):(ts.flags=ts.flags&-4097|2,I$1=!1,xg=ts)}}else{if(Dg(ts))throw Error(p$6(418));ts.flags=ts.flags&-4097|2,I$1=!1,xg=ts}}}function Fg(ts){for(ts=ts.return;ts!==null&&ts.tag!==5&&ts.tag!==3&&ts.tag!==13;)ts=ts.return;xg=ts}function Gg(ts){if(ts!==xg)return!1;if(!I$1)return Fg(ts),I$1=!0,!1;var ns;if((ns=ts.tag!==3)&&!(ns=ts.tag!==5)&&(ns=ts.type,ns=ns!=="head"&&ns!=="body"&&!Ef(ts.type,ts.memoizedProps)),ns&&(ns=yg)){if(Dg(ts))throw Hg(),Error(p$6(418));for(;ns;)Ag(ts,ns),ns=Lf(ns.nextSibling)}if(Fg(ts),ts.tag===13){if(ts=ts.memoizedState,ts=ts!==null?ts.dehydrated:null,!ts)throw Error(p$6(317));e:{for(ts=ts.nextSibling,ns=0;ts;){if(ts.nodeType===8){var rs=ts.data;if(rs==="/$"){if(ns===0){yg=Lf(ts.nextSibling);break e}ns--}else rs!=="$"&&rs!=="$!"&&rs!=="$?"||ns++}ts=ts.nextSibling}yg=null}}else yg=xg?Lf(ts.stateNode.nextSibling):null;return!0}function Hg(){for(var ts=yg;ts;)ts=Lf(ts.nextSibling)}function Ig(){yg=xg=null,I$1=!1}function Jg(ts){zg===null?zg=[ts]:zg.push(ts)}var Kg=ua.ReactCurrentBatchConfig;function Lg(ts,ns,rs){if(ts=rs.ref,ts!==null&&typeof ts!="function"&&typeof ts!="object"){if(rs._owner){if(rs=rs._owner,rs){if(rs.tag!==1)throw Error(p$6(309));var is=rs.stateNode}if(!is)throw Error(p$6(147,ts));var os=is,ss=""+ts;return ns!==null&&ns.ref!==null&&typeof ns.ref=="function"&&ns.ref._stringRef===ss?ns.ref:(ns=function(as){var ls=os.refs;as===null?delete ls[ss]:ls[ss]=as},ns._stringRef=ss,ns)}if(typeof ts!="string")throw Error(p$6(284));if(!rs._owner)throw Error(p$6(290,ts))}return ts}function Mg(ts,ns){throw ts=Object.prototype.toString.call(ns),Error(p$6(31,ts==="[object Object]"?"object with keys {"+Object.keys(ns).join(", ")+"}":ts))}function Ng(ts){var ns=ts._init;return ns(ts._payload)}function Og(ts){function ns(bs,Ss){if(ts){var $s=bs.deletions;$s===null?(bs.deletions=[Ss],bs.flags|=16):$s.push(Ss)}}function rs(bs,Ss){if(!ts)return null;for(;Ss!==null;)ns(bs,Ss),Ss=Ss.sibling;return null}function is(bs,Ss){for(bs=new Map;Ss!==null;)Ss.key!==null?bs.set(Ss.key,Ss):bs.set(Ss.index,Ss),Ss=Ss.sibling;return bs}function os(bs,Ss){return bs=Pg(bs,Ss),bs.index=0,bs.sibling=null,bs}function ss(bs,Ss,$s){return bs.index=$s,ts?($s=bs.alternate,$s!==null?($s=$s.index,$s<Ss?(bs.flags|=2,Ss):$s):(bs.flags|=2,Ss)):(bs.flags|=1048576,Ss)}function as(bs){return ts&&bs.alternate===null&&(bs.flags|=2),bs}function ls(bs,Ss,$s,Cs){return Ss===null||Ss.tag!==6?(Ss=Qg($s,bs.mode,Cs),Ss.return=bs,Ss):(Ss=os(Ss,$s),Ss.return=bs,Ss)}function cs(bs,Ss,$s,Cs){var Es=$s.type;return Es===ya?ds(bs,Ss,$s.props.children,Cs,$s.key):Ss!==null&&(Ss.elementType===Es||typeof Es=="object"&&Es!==null&&Es.$$typeof===Ha&&Ng(Es)===Ss.type)?(Cs=os(Ss,$s.props),Cs.ref=Lg(bs,Ss,$s),Cs.return=bs,Cs):(Cs=Rg($s.type,$s.key,$s.props,null,bs.mode,Cs),Cs.ref=Lg(bs,Ss,$s),Cs.return=bs,Cs)}function us(bs,Ss,$s,Cs){return Ss===null||Ss.tag!==4||Ss.stateNode.containerInfo!==$s.containerInfo||Ss.stateNode.implementation!==$s.implementation?(Ss=Sg($s,bs.mode,Cs),Ss.return=bs,Ss):(Ss=os(Ss,$s.children||[]),Ss.return=bs,Ss)}function ds(bs,Ss,$s,Cs,Es){return Ss===null||Ss.tag!==7?(Ss=Tg($s,bs.mode,Cs,Es),Ss.return=bs,Ss):(Ss=os(Ss,$s),Ss.return=bs,Ss)}function ps(bs,Ss,$s){if(typeof Ss=="string"&&Ss!==""||typeof Ss=="number")return Ss=Qg(""+Ss,bs.mode,$s),Ss.return=bs,Ss;if(typeof Ss=="object"&&Ss!==null){switch(Ss.$$typeof){case va:return $s=Rg(Ss.type,Ss.key,Ss.props,null,bs.mode,$s),$s.ref=Lg(bs,null,Ss),$s.return=bs,$s;case wa:return Ss=Sg(Ss,bs.mode,$s),Ss.return=bs,Ss;case Ha:var Cs=Ss._init;return ps(bs,Cs(Ss._payload),$s)}if(eb(Ss)||Ka(Ss))return Ss=Tg(Ss,bs.mode,$s,null),Ss.return=bs,Ss;Mg(bs,Ss)}return null}function hs(bs,Ss,$s,Cs){var Es=Ss!==null?Ss.key:null;if(typeof $s=="string"&&$s!==""||typeof $s=="number")return Es!==null?null:ls(bs,Ss,""+$s,Cs);if(typeof $s=="object"&&$s!==null){switch($s.$$typeof){case va:return $s.key===Es?cs(bs,Ss,$s,Cs):null;case wa:return $s.key===Es?us(bs,Ss,$s,Cs):null;case Ha:return Es=$s._init,hs(bs,Ss,Es($s._payload),Cs)}if(eb($s)||Ka($s))return Es!==null?null:ds(bs,Ss,$s,Cs,null);Mg(bs,$s)}return null}function ms(bs,Ss,$s,Cs,Es){if(typeof Cs=="string"&&Cs!==""||typeof Cs=="number")return bs=bs.get($s)||null,ls(Ss,bs,""+Cs,Es);if(typeof Cs=="object"&&Cs!==null){switch(Cs.$$typeof){case va:return bs=bs.get(Cs.key===null?$s:Cs.key)||null,cs(Ss,bs,Cs,Es);case wa:return bs=bs.get(Cs.key===null?$s:Cs.key)||null,us(Ss,bs,Cs,Es);case Ha:var xs=Cs._init;return ms(bs,Ss,$s,xs(Cs._payload),Es)}if(eb(Cs)||Ka(Cs))return bs=bs.get($s)||null,ds(Ss,bs,Cs,Es,null);Mg(Ss,Cs)}return null}function gs(bs,Ss,$s,Cs){for(var Es=null,xs=null,ws=Ss,ks=Ss=0,Is=null;ws!==null&&ks<$s.length;ks++){ws.index>ks?(Is=ws,ws=null):Is=ws.sibling;var Ts=hs(bs,ws,$s[ks],Cs);if(Ts===null){ws===null&&(ws=Is);break}ts&&ws&&Ts.alternate===null&&ns(bs,ws),Ss=ss(Ts,Ss,ks),xs===null?Es=Ts:xs.sibling=Ts,xs=Ts,ws=Is}if(ks===$s.length)return rs(bs,ws),I$1&&tg(bs,ks),Es;if(ws===null){for(;ks<$s.length;ks++)ws=ps(bs,$s[ks],Cs),ws!==null&&(Ss=ss(ws,Ss,ks),xs===null?Es=ws:xs.sibling=ws,xs=ws);return I$1&&tg(bs,ks),Es}for(ws=is(bs,ws);ks<$s.length;ks++)Is=ms(ws,bs,ks,$s[ks],Cs),Is!==null&&(ts&&Is.alternate!==null&&ws.delete(Is.key===null?ks:Is.key),Ss=ss(Is,Ss,ks),xs===null?Es=Is:xs.sibling=Is,xs=Is);return ts&&ws.forEach(function(Rs){return ns(bs,Rs)}),I$1&&tg(bs,ks),Es}function ys(bs,Ss,$s,Cs){var Es=Ka($s);if(typeof Es!="function")throw Error(p$6(150));if($s=Es.call($s),$s==null)throw Error(p$6(151));for(var xs=Es=null,ws=Ss,ks=Ss=0,Is=null,Ts=$s.next();ws!==null&&!Ts.done;ks++,Ts=$s.next()){ws.index>ks?(Is=ws,ws=null):Is=ws.sibling;var Rs=hs(bs,ws,Ts.value,Cs);if(Rs===null){ws===null&&(ws=Is);break}ts&&ws&&Rs.alternate===null&&ns(bs,ws),Ss=ss(Rs,Ss,ks),xs===null?Es=Rs:xs.sibling=Rs,xs=Rs,ws=Is}if(Ts.done)return rs(bs,ws),I$1&&tg(bs,ks),Es;if(ws===null){for(;!Ts.done;ks++,Ts=$s.next())Ts=ps(bs,Ts.value,Cs),Ts!==null&&(Ss=ss(Ts,Ss,ks),xs===null?Es=Ts:xs.sibling=Ts,xs=Ts);return I$1&&tg(bs,ks),Es}for(ws=is(bs,ws);!Ts.done;ks++,Ts=$s.next())Ts=ms(ws,bs,ks,Ts.value,Cs),Ts!==null&&(ts&&Ts.alternate!==null&&ws.delete(Ts.key===null?ks:Ts.key),Ss=ss(Ts,Ss,ks),xs===null?Es=Ts:xs.sibling=Ts,xs=Ts);return ts&&ws.forEach(function(As){return ns(bs,As)}),I$1&&tg(bs,ks),Es}function vs(bs,Ss,$s,Cs){if(typeof $s=="object"&&$s!==null&&$s.type===ya&&$s.key===null&&($s=$s.props.children),typeof $s=="object"&&$s!==null){switch($s.$$typeof){case va:e:{for(var Es=$s.key,xs=Ss;xs!==null;){if(xs.key===Es){if(Es=$s.type,Es===ya){if(xs.tag===7){rs(bs,xs.sibling),Ss=os(xs,$s.props.children),Ss.return=bs,bs=Ss;break e}}else if(xs.elementType===Es||typeof Es=="object"&&Es!==null&&Es.$$typeof===Ha&&Ng(Es)===xs.type){rs(bs,xs.sibling),Ss=os(xs,$s.props),Ss.ref=Lg(bs,xs,$s),Ss.return=bs,bs=Ss;break e}rs(bs,xs);break}else ns(bs,xs);xs=xs.sibling}$s.type===ya?(Ss=Tg($s.props.children,bs.mode,Cs,$s.key),Ss.return=bs,bs=Ss):(Cs=Rg($s.type,$s.key,$s.props,null,bs.mode,Cs),Cs.ref=Lg(bs,Ss,$s),Cs.return=bs,bs=Cs)}return as(bs);case wa:e:{for(xs=$s.key;Ss!==null;){if(Ss.key===xs)if(Ss.tag===4&&Ss.stateNode.containerInfo===$s.containerInfo&&Ss.stateNode.implementation===$s.implementation){rs(bs,Ss.sibling),Ss=os(Ss,$s.children||[]),Ss.return=bs,bs=Ss;break e}else{rs(bs,Ss);break}else ns(bs,Ss);Ss=Ss.sibling}Ss=Sg($s,bs.mode,Cs),Ss.return=bs,bs=Ss}return as(bs);case Ha:return xs=$s._init,vs(bs,Ss,xs($s._payload),Cs)}if(eb($s))return gs(bs,Ss,$s,Cs);if(Ka($s))return ys(bs,Ss,$s,Cs);Mg(bs,$s)}return typeof $s=="string"&&$s!==""||typeof $s=="number"?($s=""+$s,Ss!==null&&Ss.tag===6?(rs(bs,Ss.sibling),Ss=os(Ss,$s),Ss.return=bs,bs=Ss):(rs(bs,Ss),Ss=Qg($s,bs.mode,Cs),Ss.return=bs,bs=Ss),as(bs)):rs(bs,Ss)}return vs}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(ts){var ns=Wg.current;E$1(Wg),ts._currentValue=ns}function bh(ts,ns,rs){for(;ts!==null;){var is=ts.alternate;if((ts.childLanes&ns)!==ns?(ts.childLanes|=ns,is!==null&&(is.childLanes|=ns)):is!==null&&(is.childLanes&ns)!==ns&&(is.childLanes|=ns),ts===rs)break;ts=ts.return}}function ch(ts,ns){Xg=ts,Zg=Yg=null,ts=ts.dependencies,ts!==null&&ts.firstContext!==null&&(ts.lanes&ns&&(dh=!0),ts.firstContext=null)}function eh(ts){var ns=ts._currentValue;if(Zg!==ts)if(ts={context:ts,memoizedValue:ns,next:null},Yg===null){if(Xg===null)throw Error(p$6(308));Yg=ts,Xg.dependencies={lanes:0,firstContext:ts}}else Yg=Yg.next=ts;return ns}var fh=null;function gh(ts){fh===null?fh=[ts]:fh.push(ts)}function hh(ts,ns,rs,is){var os=ns.interleaved;return os===null?(rs.next=rs,gh(ns)):(rs.next=os.next,os.next=rs),ns.interleaved=rs,ih(ts,is)}function ih(ts,ns){ts.lanes|=ns;var rs=ts.alternate;for(rs!==null&&(rs.lanes|=ns),rs=ts,ts=ts.return;ts!==null;)ts.childLanes|=ns,rs=ts.alternate,rs!==null&&(rs.childLanes|=ns),rs=ts,ts=ts.return;return rs.tag===3?rs.stateNode:null}var jh=!1;function kh(ts){ts.updateQueue={baseState:ts.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(ts,ns){ts=ts.updateQueue,ns.updateQueue===ts&&(ns.updateQueue={baseState:ts.baseState,firstBaseUpdate:ts.firstBaseUpdate,lastBaseUpdate:ts.lastBaseUpdate,shared:ts.shared,effects:ts.effects})}function mh(ts,ns){return{eventTime:ts,lane:ns,tag:0,payload:null,callback:null,next:null}}function nh(ts,ns,rs){var is=ts.updateQueue;if(is===null)return null;if(is=is.shared,K$1&2){var os=is.pending;return os===null?ns.next=ns:(ns.next=os.next,os.next=ns),is.pending=ns,ih(ts,rs)}return os=is.interleaved,os===null?(ns.next=ns,gh(is)):(ns.next=os.next,os.next=ns),is.interleaved=ns,ih(ts,rs)}function oh(ts,ns,rs){if(ns=ns.updateQueue,ns!==null&&(ns=ns.shared,(rs&4194240)!==0)){var is=ns.lanes;is&=ts.pendingLanes,rs|=is,ns.lanes=rs,Cc(ts,rs)}}function ph(ts,ns){var rs=ts.updateQueue,is=ts.alternate;if(is!==null&&(is=is.updateQueue,rs===is)){var os=null,ss=null;if(rs=rs.firstBaseUpdate,rs!==null){do{var as={eventTime:rs.eventTime,lane:rs.lane,tag:rs.tag,payload:rs.payload,callback:rs.callback,next:null};ss===null?os=ss=as:ss=ss.next=as,rs=rs.next}while(rs!==null);ss===null?os=ss=ns:ss=ss.next=ns}else os=ss=ns;rs={baseState:is.baseState,firstBaseUpdate:os,lastBaseUpdate:ss,shared:is.shared,effects:is.effects},ts.updateQueue=rs;return}ts=rs.lastBaseUpdate,ts===null?rs.firstBaseUpdate=ns:ts.next=ns,rs.lastBaseUpdate=ns}function qh(ts,ns,rs,is){var os=ts.updateQueue;jh=!1;var ss=os.firstBaseUpdate,as=os.lastBaseUpdate,ls=os.shared.pending;if(ls!==null){os.shared.pending=null;var cs=ls,us=cs.next;cs.next=null,as===null?ss=us:as.next=us,as=cs;var ds=ts.alternate;ds!==null&&(ds=ds.updateQueue,ls=ds.lastBaseUpdate,ls!==as&&(ls===null?ds.firstBaseUpdate=us:ls.next=us,ds.lastBaseUpdate=cs))}if(ss!==null){var ps=os.baseState;as=0,ds=us=cs=null,ls=ss;do{var hs=ls.lane,ms=ls.eventTime;if((is&hs)===hs){ds!==null&&(ds=ds.next={eventTime:ms,lane:0,tag:ls.tag,payload:ls.payload,callback:ls.callback,next:null});e:{var gs=ts,ys=ls;switch(hs=ns,ms=rs,ys.tag){case 1:if(gs=ys.payload,typeof gs=="function"){ps=gs.call(ms,ps,hs);break e}ps=gs;break e;case 3:gs.flags=gs.flags&-65537|128;case 0:if(gs=ys.payload,hs=typeof gs=="function"?gs.call(ms,ps,hs):gs,hs==null)break e;ps=A$1({},ps,hs);break e;case 2:jh=!0}}ls.callback!==null&&ls.lane!==0&&(ts.flags|=64,hs=os.effects,hs===null?os.effects=[ls]:hs.push(ls))}else ms={eventTime:ms,lane:hs,tag:ls.tag,payload:ls.payload,callback:ls.callback,next:null},ds===null?(us=ds=ms,cs=ps):ds=ds.next=ms,as|=hs;if(ls=ls.next,ls===null){if(ls=os.shared.pending,ls===null)break;hs=ls,ls=hs.next,hs.next=null,os.lastBaseUpdate=hs,os.shared.pending=null}}while(1);if(ds===null&&(cs=ps),os.baseState=cs,os.firstBaseUpdate=us,os.lastBaseUpdate=ds,ns=os.shared.interleaved,ns!==null){os=ns;do as|=os.lane,os=os.next;while(os!==ns)}else ss===null&&(os.shared.lanes=0);rh|=as,ts.lanes=as,ts.memoizedState=ps}}function sh(ts,ns,rs){if(ts=ns.effects,ns.effects=null,ts!==null)for(ns=0;ns<ts.length;ns++){var is=ts[ns],os=is.callback;if(os!==null){if(is.callback=null,is=rs,typeof os!="function")throw Error(p$6(191,os));os.call(is)}}}var th={},uh=Uf(th),vh=Uf(th),wh=Uf(th);function xh(ts){if(ts===th)throw Error(p$6(174));return ts}function yh(ts,ns){switch(G$1(wh,ns),G$1(vh,ts),G$1(uh,th),ts=ns.nodeType,ts){case 9:case 11:ns=(ns=ns.documentElement)?ns.namespaceURI:lb(null,"");break;default:ts=ts===8?ns.parentNode:ns,ns=ts.namespaceURI||null,ts=ts.tagName,ns=lb(ns,ts)}E$1(uh),G$1(uh,ns)}function zh(){E$1(uh),E$1(vh),E$1(wh)}function Ah(ts){xh(wh.current);var ns=xh(uh.current),rs=lb(ns,ts.type);ns!==rs&&(G$1(vh,ts),G$1(uh,rs))}function Bh(ts){vh.current===ts&&(E$1(uh),E$1(vh))}var L$1=Uf(0);function Ch(ts){for(var ns=ts;ns!==null;){if(ns.tag===13){var rs=ns.memoizedState;if(rs!==null&&(rs=rs.dehydrated,rs===null||rs.data==="$?"||rs.data==="$!"))return ns}else if(ns.tag===19&&ns.memoizedProps.revealOrder!==void 0){if(ns.flags&128)return ns}else if(ns.child!==null){ns.child.return=ns,ns=ns.child;continue}if(ns===ts)break;for(;ns.sibling===null;){if(ns.return===null||ns.return===ts)return null;ns=ns.return}ns.sibling.return=ns.return,ns=ns.sibling}return null}var Dh=[];function Eh(){for(var ts=0;ts<Dh.length;ts++)Dh[ts]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M$1=null,N$1=null,O=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P$1(){throw Error(p$6(321))}function Mh(ts,ns){if(ns===null)return!1;for(var rs=0;rs<ns.length&&rs<ts.length;rs++)if(!He$1(ts[rs],ns[rs]))return!1;return!0}function Nh(ts,ns,rs,is,os,ss){if(Hh=ss,M$1=ns,ns.memoizedState=null,ns.updateQueue=null,ns.lanes=0,Fh.current=ts===null||ts.memoizedState===null?Oh:Ph,ts=rs(is,os),Jh){ss=0;do{if(Jh=!1,Kh=0,25<=ss)throw Error(p$6(301));ss+=1,O=N$1=null,ns.updateQueue=null,Fh.current=Qh,ts=rs(is,os)}while(Jh)}if(Fh.current=Rh,ns=N$1!==null&&N$1.next!==null,Hh=0,O=N$1=M$1=null,Ih=!1,ns)throw Error(p$6(300));return ts}function Sh(){var ts=Kh!==0;return Kh=0,ts}function Th(){var ts={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O===null?M$1.memoizedState=O=ts:O=O.next=ts,O}function Uh(){if(N$1===null){var ts=M$1.alternate;ts=ts!==null?ts.memoizedState:null}else ts=N$1.next;var ns=O===null?M$1.memoizedState:O.next;if(ns!==null)O=ns,N$1=ts;else{if(ts===null)throw Error(p$6(310));N$1=ts,ts={memoizedState:N$1.memoizedState,baseState:N$1.baseState,baseQueue:N$1.baseQueue,queue:N$1.queue,next:null},O===null?M$1.memoizedState=O=ts:O=O.next=ts}return O}function Vh(ts,ns){return typeof ns=="function"?ns(ts):ns}function Wh(ts){var ns=Uh(),rs=ns.queue;if(rs===null)throw Error(p$6(311));rs.lastRenderedReducer=ts;var is=N$1,os=is.baseQueue,ss=rs.pending;if(ss!==null){if(os!==null){var as=os.next;os.next=ss.next,ss.next=as}is.baseQueue=os=ss,rs.pending=null}if(os!==null){ss=os.next,is=is.baseState;var ls=as=null,cs=null,us=ss;do{var ds=us.lane;if((Hh&ds)===ds)cs!==null&&(cs=cs.next={lane:0,action:us.action,hasEagerState:us.hasEagerState,eagerState:us.eagerState,next:null}),is=us.hasEagerState?us.eagerState:ts(is,us.action);else{var ps={lane:ds,action:us.action,hasEagerState:us.hasEagerState,eagerState:us.eagerState,next:null};cs===null?(ls=cs=ps,as=is):cs=cs.next=ps,M$1.lanes|=ds,rh|=ds}us=us.next}while(us!==null&&us!==ss);cs===null?as=is:cs.next=ls,He$1(is,ns.memoizedState)||(dh=!0),ns.memoizedState=is,ns.baseState=as,ns.baseQueue=cs,rs.lastRenderedState=is}if(ts=rs.interleaved,ts!==null){os=ts;do ss=os.lane,M$1.lanes|=ss,rh|=ss,os=os.next;while(os!==ts)}else os===null&&(rs.lanes=0);return[ns.memoizedState,rs.dispatch]}function Xh(ts){var ns=Uh(),rs=ns.queue;if(rs===null)throw Error(p$6(311));rs.lastRenderedReducer=ts;var is=rs.dispatch,os=rs.pending,ss=ns.memoizedState;if(os!==null){rs.pending=null;var as=os=os.next;do ss=ts(ss,as.action),as=as.next;while(as!==os);He$1(ss,ns.memoizedState)||(dh=!0),ns.memoizedState=ss,ns.baseQueue===null&&(ns.baseState=ss),rs.lastRenderedState=ss}return[ss,is]}function Yh(){}function Zh(ts,ns){var rs=M$1,is=Uh(),os=ns(),ss=!He$1(is.memoizedState,os);if(ss&&(is.memoizedState=os,dh=!0),is=is.queue,$h(ai.bind(null,rs,is,ts),[ts]),is.getSnapshot!==ns||ss||O!==null&&O.memoizedState.tag&1){if(rs.flags|=2048,bi(9,ci.bind(null,rs,is,os,ns),void 0,null),Q$1===null)throw Error(p$6(349));Hh&30||di(rs,ns,os)}return os}function di(ts,ns,rs){ts.flags|=16384,ts={getSnapshot:ns,value:rs},ns=M$1.updateQueue,ns===null?(ns={lastEffect:null,stores:null},M$1.updateQueue=ns,ns.stores=[ts]):(rs=ns.stores,rs===null?ns.stores=[ts]:rs.push(ts))}function ci(ts,ns,rs,is){ns.value=rs,ns.getSnapshot=is,ei(ns)&&fi(ts)}function ai(ts,ns,rs){return rs(function(){ei(ns)&&fi(ts)})}function ei(ts){var ns=ts.getSnapshot;ts=ts.value;try{var rs=ns();return!He$1(ts,rs)}catch{return!0}}function fi(ts){var ns=ih(ts,1);ns!==null&&gi(ns,ts,1,-1)}function hi(ts){var ns=Th();return typeof ts=="function"&&(ts=ts()),ns.memoizedState=ns.baseState=ts,ts={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:ts},ns.queue=ts,ts=ts.dispatch=ii.bind(null,M$1,ts),[ns.memoizedState,ts]}function bi(ts,ns,rs,is){return ts={tag:ts,create:ns,destroy:rs,deps:is,next:null},ns=M$1.updateQueue,ns===null?(ns={lastEffect:null,stores:null},M$1.updateQueue=ns,ns.lastEffect=ts.next=ts):(rs=ns.lastEffect,rs===null?ns.lastEffect=ts.next=ts:(is=rs.next,rs.next=ts,ts.next=is,ns.lastEffect=ts)),ts}function ji(){return Uh().memoizedState}function ki(ts,ns,rs,is){var os=Th();M$1.flags|=ts,os.memoizedState=bi(1|ns,rs,void 0,is===void 0?null:is)}function li(ts,ns,rs,is){var os=Uh();is=is===void 0?null:is;var ss=void 0;if(N$1!==null){var as=N$1.memoizedState;if(ss=as.destroy,is!==null&&Mh(is,as.deps)){os.memoizedState=bi(ns,rs,ss,is);return}}M$1.flags|=ts,os.memoizedState=bi(1|ns,rs,ss,is)}function mi(ts,ns){return ki(8390656,8,ts,ns)}function $h(ts,ns){return li(2048,8,ts,ns)}function ni(ts,ns){return li(4,2,ts,ns)}function oi(ts,ns){return li(4,4,ts,ns)}function pi(ts,ns){if(typeof ns=="function")return ts=ts(),ns(ts),function(){ns(null)};if(ns!=null)return ts=ts(),ns.current=ts,function(){ns.current=null}}function qi(ts,ns,rs){return rs=rs!=null?rs.concat([ts]):null,li(4,4,pi.bind(null,ns,ts),rs)}function ri(){}function si(ts,ns){var rs=Uh();ns=ns===void 0?null:ns;var is=rs.memoizedState;return is!==null&&ns!==null&&Mh(ns,is[1])?is[0]:(rs.memoizedState=[ts,ns],ts)}function ti(ts,ns){var rs=Uh();ns=ns===void 0?null:ns;var is=rs.memoizedState;return is!==null&&ns!==null&&Mh(ns,is[1])?is[0]:(ts=ts(),rs.memoizedState=[ts,ns],ts)}function ui(ts,ns,rs){return Hh&21?(He$1(rs,ns)||(rs=yc(),M$1.lanes|=rs,rh|=rs,ts.baseState=!0),ns):(ts.baseState&&(ts.baseState=!1,dh=!0),ts.memoizedState=rs)}function vi(ts,ns){var rs=C$1;C$1=rs!==0&&4>rs?rs:4,ts(!0);var is=Gh.transition;Gh.transition={};try{ts(!1),ns()}finally{C$1=rs,Gh.transition=is}}function wi(){return Uh().memoizedState}function xi(ts,ns,rs){var is=yi(ts);if(rs={lane:is,action:rs,hasEagerState:!1,eagerState:null,next:null},zi(ts))Ai(ns,rs);else if(rs=hh(ts,ns,rs,is),rs!==null){var os=R();gi(rs,ts,is,os),Bi(rs,ns,is)}}function ii(ts,ns,rs){var is=yi(ts),os={lane:is,action:rs,hasEagerState:!1,eagerState:null,next:null};if(zi(ts))Ai(ns,os);else{var ss=ts.alternate;if(ts.lanes===0&&(ss===null||ss.lanes===0)&&(ss=ns.lastRenderedReducer,ss!==null))try{var as=ns.lastRenderedState,ls=ss(as,rs);if(os.hasEagerState=!0,os.eagerState=ls,He$1(ls,as)){var cs=ns.interleaved;cs===null?(os.next=os,gh(ns)):(os.next=cs.next,cs.next=os),ns.interleaved=os;return}}catch{}finally{}rs=hh(ts,ns,os,is),rs!==null&&(os=R(),gi(rs,ts,is,os),Bi(rs,ns,is))}}function zi(ts){var ns=ts.alternate;return ts===M$1||ns!==null&&ns===M$1}function Ai(ts,ns){Jh=Ih=!0;var rs=ts.pending;rs===null?ns.next=ns:(ns.next=rs.next,rs.next=ns),ts.pending=ns}function Bi(ts,ns,rs){if(rs&4194240){var is=ns.lanes;is&=ts.pendingLanes,rs|=is,ns.lanes=rs,Cc(ts,rs)}}var Rh={readContext:eh,useCallback:P$1,useContext:P$1,useEffect:P$1,useImperativeHandle:P$1,useInsertionEffect:P$1,useLayoutEffect:P$1,useMemo:P$1,useReducer:P$1,useRef:P$1,useState:P$1,useDebugValue:P$1,useDeferredValue:P$1,useTransition:P$1,useMutableSource:P$1,useSyncExternalStore:P$1,useId:P$1,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(ts,ns){return Th().memoizedState=[ts,ns===void 0?null:ns],ts},useContext:eh,useEffect:mi,useImperativeHandle:function(ts,ns,rs){return rs=rs!=null?rs.concat([ts]):null,ki(4194308,4,pi.bind(null,ns,ts),rs)},useLayoutEffect:function(ts,ns){return ki(4194308,4,ts,ns)},useInsertionEffect:function(ts,ns){return ki(4,2,ts,ns)},useMemo:function(ts,ns){var rs=Th();return ns=ns===void 0?null:ns,ts=ts(),rs.memoizedState=[ts,ns],ts},useReducer:function(ts,ns,rs){var is=Th();return ns=rs!==void 0?rs(ns):ns,is.memoizedState=is.baseState=ns,ts={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ts,lastRenderedState:ns},is.queue=ts,ts=ts.dispatch=xi.bind(null,M$1,ts),[is.memoizedState,ts]},useRef:function(ts){var ns=Th();return ts={current:ts},ns.memoizedState=ts},useState:hi,useDebugValue:ri,useDeferredValue:function(ts){return Th().memoizedState=ts},useTransition:function(){var ts=hi(!1),ns=ts[0];return ts=vi.bind(null,ts[1]),Th().memoizedState=ts,[ns,ts]},useMutableSource:function(){},useSyncExternalStore:function(ts,ns,rs){var is=M$1,os=Th();if(I$1){if(rs===void 0)throw Error(p$6(407));rs=rs()}else{if(rs=ns(),Q$1===null)throw Error(p$6(349));Hh&30||di(is,ns,rs)}os.memoizedState=rs;var ss={value:rs,getSnapshot:ns};return os.queue=ss,mi(ai.bind(null,is,ss,ts),[ts]),is.flags|=2048,bi(9,ci.bind(null,is,ss,rs,ns),void 0,null),rs},useId:function(){var ts=Th(),ns=Q$1.identifierPrefix;if(I$1){var rs=sg,is=rg;rs=(is&~(1<<32-oc(is)-1)).toString(32)+rs,ns=":"+ns+"R"+rs,rs=Kh++,0<rs&&(ns+="H"+rs.toString(32)),ns+=":"}else rs=Lh++,ns=":"+ns+"r"+rs.toString(32)+":";return ts.memoizedState=ns},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function(ts){var ns=Uh();return ui(ns,N$1.memoizedState,ts)},useTransition:function(){var ts=Wh(Vh)[0],ns=Uh().memoizedState;return[ts,ns]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(ts){var ns=Uh();return N$1===null?ns.memoizedState=ts:ui(ns,N$1.memoizedState,ts)},useTransition:function(){var ts=Xh(Vh)[0],ns=Uh().memoizedState;return[ts,ns]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(ts,ns){if(ts&&ts.defaultProps){ns=A$1({},ns),ts=ts.defaultProps;for(var rs in ts)ns[rs]===void 0&&(ns[rs]=ts[rs]);return ns}return ns}function Di(ts,ns,rs,is){ns=ts.memoizedState,rs=rs(is,ns),rs=rs==null?ns:A$1({},ns,rs),ts.memoizedState=rs,ts.lanes===0&&(ts.updateQueue.baseState=rs)}var Ei={isMounted:function(ts){return(ts=ts._reactInternals)?Vb(ts)===ts:!1},enqueueSetState:function(ts,ns,rs){ts=ts._reactInternals;var is=R(),os=yi(ts),ss=mh(is,os);ss.payload=ns,rs!=null&&(ss.callback=rs),ns=nh(ts,ss,os),ns!==null&&(gi(ns,ts,os,is),oh(ns,ts,os))},enqueueReplaceState:function(ts,ns,rs){ts=ts._reactInternals;var is=R(),os=yi(ts),ss=mh(is,os);ss.tag=1,ss.payload=ns,rs!=null&&(ss.callback=rs),ns=nh(ts,ss,os),ns!==null&&(gi(ns,ts,os,is),oh(ns,ts,os))},enqueueForceUpdate:function(ts,ns){ts=ts._reactInternals;var rs=R(),is=yi(ts),os=mh(rs,is);os.tag=2,ns!=null&&(os.callback=ns),ns=nh(ts,os,is),ns!==null&&(gi(ns,ts,is,rs),oh(ns,ts,is))}};function Fi(ts,ns,rs,is,os,ss,as){return ts=ts.stateNode,typeof ts.shouldComponentUpdate=="function"?ts.shouldComponentUpdate(is,ss,as):ns.prototype&&ns.prototype.isPureReactComponent?!Ie(rs,is)||!Ie(os,ss):!0}function Gi(ts,ns,rs){var is=!1,os=Vf,ss=ns.contextType;return typeof ss=="object"&&ss!==null?ss=eh(ss):(os=Zf(ns)?Xf:H$1.current,is=ns.contextTypes,ss=(is=is!=null)?Yf(ts,os):Vf),ns=new ns(rs,ss),ts.memoizedState=ns.state!==null&&ns.state!==void 0?ns.state:null,ns.updater=Ei,ts.stateNode=ns,ns._reactInternals=ts,is&&(ts=ts.stateNode,ts.__reactInternalMemoizedUnmaskedChildContext=os,ts.__reactInternalMemoizedMaskedChildContext=ss),ns}function Hi(ts,ns,rs,is){ts=ns.state,typeof ns.componentWillReceiveProps=="function"&&ns.componentWillReceiveProps(rs,is),typeof ns.UNSAFE_componentWillReceiveProps=="function"&&ns.UNSAFE_componentWillReceiveProps(rs,is),ns.state!==ts&&Ei.enqueueReplaceState(ns,ns.state,null)}function Ii(ts,ns,rs,is){var os=ts.stateNode;os.props=rs,os.state=ts.memoizedState,os.refs={},kh(ts);var ss=ns.contextType;typeof ss=="object"&&ss!==null?os.context=eh(ss):(ss=Zf(ns)?Xf:H$1.current,os.context=Yf(ts,ss)),os.state=ts.memoizedState,ss=ns.getDerivedStateFromProps,typeof ss=="function"&&(Di(ts,ns,ss,rs),os.state=ts.memoizedState),typeof ns.getDerivedStateFromProps=="function"||typeof os.getSnapshotBeforeUpdate=="function"||typeof os.UNSAFE_componentWillMount!="function"&&typeof os.componentWillMount!="function"||(ns=os.state,typeof os.componentWillMount=="function"&&os.componentWillMount(),typeof os.UNSAFE_componentWillMount=="function"&&os.UNSAFE_componentWillMount(),ns!==os.state&&Ei.enqueueReplaceState(os,os.state,null),qh(ts,rs,os,is),os.state=ts.memoizedState),typeof os.componentDidMount=="function"&&(ts.flags|=4194308)}function Ji(ts,ns){try{var rs="",is=ns;do rs+=Pa(is),is=is.return;while(is);var os=rs}catch(ss){os="\nError generating stack: "+ss.message+"\n"+ss.stack}return{value:ts,source:ns,stack:os,digest:null}}function Ki(ts,ns,rs){return{value:ts,source:null,stack:rs!=null?rs:null,digest:ns!=null?ns:null}}function Li(ts,ns){try{console.error(ns.value)}catch(rs){setTimeout(function(){throw rs})}}var Mi=typeof WeakMap=="function"?WeakMap:Map;function Ni(ts,ns,rs){rs=mh(-1,rs),rs.tag=3,rs.payload={element:null};var is=ns.value;return rs.callback=function(){Oi||(Oi=!0,Pi=is),Li(ts,ns)},rs}function Qi(ts,ns,rs){rs=mh(-1,rs),rs.tag=3;var is=ts.type.getDerivedStateFromError;if(typeof is=="function"){var os=ns.value;rs.payload=function(){return is(os)},rs.callback=function(){Li(ts,ns)}}var ss=ts.stateNode;return ss!==null&&typeof ss.componentDidCatch=="function"&&(rs.callback=function(){Li(ts,ns),typeof is!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var as=ns.stack;this.componentDidCatch(ns.value,{componentStack:as!==null?as:""})}),rs}function Si(ts,ns,rs){var is=ts.pingCache;if(is===null){is=ts.pingCache=new Mi;var os=new Set;is.set(ns,os)}else os=is.get(ns),os===void 0&&(os=new Set,is.set(ns,os));os.has(rs)||(os.add(rs),ts=Ti.bind(null,ts,ns,rs),ns.then(ts,ts))}function Ui(ts){do{var ns;if((ns=ts.tag===13)&&(ns=ts.memoizedState,ns=ns!==null?ns.dehydrated!==null:!0),ns)return ts;ts=ts.return}while(ts!==null);return null}function Vi(ts,ns,rs,is,os){return ts.mode&1?(ts.flags|=65536,ts.lanes=os,ts):(ts===ns?ts.flags|=65536:(ts.flags|=128,rs.flags|=131072,rs.flags&=-52805,rs.tag===1&&(rs.alternate===null?rs.tag=17:(ns=mh(-1,1),ns.tag=2,nh(rs,ns,1))),rs.lanes|=1),ts)}var Wi=ua.ReactCurrentOwner,dh=!1;function Xi(ts,ns,rs,is){ns.child=ts===null?Vg(ns,null,rs,is):Ug(ns,ts.child,rs,is)}function Yi(ts,ns,rs,is,os){rs=rs.render;var ss=ns.ref;return ch(ns,os),is=Nh(ts,ns,rs,is,ss,os),rs=Sh(),ts!==null&&!dh?(ns.updateQueue=ts.updateQueue,ns.flags&=-2053,ts.lanes&=~os,Zi(ts,ns,os)):(I$1&&rs&&vg(ns),ns.flags|=1,Xi(ts,ns,is,os),ns.child)}function $i(ts,ns,rs,is,os){if(ts===null){var ss=rs.type;return typeof ss=="function"&&!aj(ss)&&ss.defaultProps===void 0&&rs.compare===null&&rs.defaultProps===void 0?(ns.tag=15,ns.type=ss,bj(ts,ns,ss,is,os)):(ts=Rg(rs.type,null,is,ns,ns.mode,os),ts.ref=ns.ref,ts.return=ns,ns.child=ts)}if(ss=ts.child,!(ts.lanes&os)){var as=ss.memoizedProps;if(rs=rs.compare,rs=rs!==null?rs:Ie,rs(as,is)&&ts.ref===ns.ref)return Zi(ts,ns,os)}return ns.flags|=1,ts=Pg(ss,is),ts.ref=ns.ref,ts.return=ns,ns.child=ts}function bj(ts,ns,rs,is,os){if(ts!==null){var ss=ts.memoizedProps;if(Ie(ss,is)&&ts.ref===ns.ref)if(dh=!1,ns.pendingProps=is=ss,(ts.lanes&os)!==0)ts.flags&131072&&(dh=!0);else return ns.lanes=ts.lanes,Zi(ts,ns,os)}return cj(ts,ns,rs,is,os)}function dj(ts,ns,rs){var is=ns.pendingProps,os=is.children,ss=ts!==null?ts.memoizedState:null;if(is.mode==="hidden")if(!(ns.mode&1))ns.memoizedState={baseLanes:0,cachePool:null,transitions:null},G$1(ej,fj),fj|=rs;else{if(!(rs&1073741824))return ts=ss!==null?ss.baseLanes|rs:rs,ns.lanes=ns.childLanes=1073741824,ns.memoizedState={baseLanes:ts,cachePool:null,transitions:null},ns.updateQueue=null,G$1(ej,fj),fj|=ts,null;ns.memoizedState={baseLanes:0,cachePool:null,transitions:null},is=ss!==null?ss.baseLanes:rs,G$1(ej,fj),fj|=is}else ss!==null?(is=ss.baseLanes|rs,ns.memoizedState=null):is=rs,G$1(ej,fj),fj|=is;return Xi(ts,ns,os,rs),ns.child}function gj(ts,ns){var rs=ns.ref;(ts===null&&rs!==null||ts!==null&&ts.ref!==rs)&&(ns.flags|=512,ns.flags|=2097152)}function cj(ts,ns,rs,is,os){var ss=Zf(rs)?Xf:H$1.current;return ss=Yf(ns,ss),ch(ns,os),rs=Nh(ts,ns,rs,is,ss,os),is=Sh(),ts!==null&&!dh?(ns.updateQueue=ts.updateQueue,ns.flags&=-2053,ts.lanes&=~os,Zi(ts,ns,os)):(I$1&&is&&vg(ns),ns.flags|=1,Xi(ts,ns,rs,os),ns.child)}function hj(ts,ns,rs,is,os){if(Zf(rs)){var ss=!0;cg(ns)}else ss=!1;if(ch(ns,os),ns.stateNode===null)ij(ts,ns),Gi(ns,rs,is),Ii(ns,rs,is,os),is=!0;else if(ts===null){var as=ns.stateNode,ls=ns.memoizedProps;as.props=ls;var cs=as.context,us=rs.contextType;typeof us=="object"&&us!==null?us=eh(us):(us=Zf(rs)?Xf:H$1.current,us=Yf(ns,us));var ds=rs.getDerivedStateFromProps,ps=typeof ds=="function"||typeof as.getSnapshotBeforeUpdate=="function";ps||typeof as.UNSAFE_componentWillReceiveProps!="function"&&typeof as.componentWillReceiveProps!="function"||(ls!==is||cs!==us)&&Hi(ns,as,is,us),jh=!1;var hs=ns.memoizedState;as.state=hs,qh(ns,is,as,os),cs=ns.memoizedState,ls!==is||hs!==cs||Wf.current||jh?(typeof ds=="function"&&(Di(ns,rs,ds,is),cs=ns.memoizedState),(ls=jh||Fi(ns,rs,ls,is,hs,cs,us))?(ps||typeof as.UNSAFE_componentWillMount!="function"&&typeof as.componentWillMount!="function"||(typeof as.componentWillMount=="function"&&as.componentWillMount(),typeof as.UNSAFE_componentWillMount=="function"&&as.UNSAFE_componentWillMount()),typeof as.componentDidMount=="function"&&(ns.flags|=4194308)):(typeof as.componentDidMount=="function"&&(ns.flags|=4194308),ns.memoizedProps=is,ns.memoizedState=cs),as.props=is,as.state=cs,as.context=us,is=ls):(typeof as.componentDidMount=="function"&&(ns.flags|=4194308),is=!1)}else{as=ns.stateNode,lh(ts,ns),ls=ns.memoizedProps,us=ns.type===ns.elementType?ls:Ci(ns.type,ls),as.props=us,ps=ns.pendingProps,hs=as.context,cs=rs.contextType,typeof cs=="object"&&cs!==null?cs=eh(cs):(cs=Zf(rs)?Xf:H$1.current,cs=Yf(ns,cs));var ms=rs.getDerivedStateFromProps;(ds=typeof ms=="function"||typeof as.getSnapshotBeforeUpdate=="function")||typeof as.UNSAFE_componentWillReceiveProps!="function"&&typeof as.componentWillReceiveProps!="function"||(ls!==ps||hs!==cs)&&Hi(ns,as,is,cs),jh=!1,hs=ns.memoizedState,as.state=hs,qh(ns,is,as,os);var gs=ns.memoizedState;ls!==ps||hs!==gs||Wf.current||jh?(typeof ms=="function"&&(Di(ns,rs,ms,is),gs=ns.memoizedState),(us=jh||Fi(ns,rs,us,is,hs,gs,cs)||!1)?(ds||typeof as.UNSAFE_componentWillUpdate!="function"&&typeof as.componentWillUpdate!="function"||(typeof as.componentWillUpdate=="function"&&as.componentWillUpdate(is,gs,cs),typeof as.UNSAFE_componentWillUpdate=="function"&&as.UNSAFE_componentWillUpdate(is,gs,cs)),typeof as.componentDidUpdate=="function"&&(ns.flags|=4),typeof as.getSnapshotBeforeUpdate=="function"&&(ns.flags|=1024)):(typeof as.componentDidUpdate!="function"||ls===ts.memoizedProps&&hs===ts.memoizedState||(ns.flags|=4),typeof as.getSnapshotBeforeUpdate!="function"||ls===ts.memoizedProps&&hs===ts.memoizedState||(ns.flags|=1024),ns.memoizedProps=is,ns.memoizedState=gs),as.props=is,as.state=gs,as.context=cs,is=us):(typeof as.componentDidUpdate!="function"||ls===ts.memoizedProps&&hs===ts.memoizedState||(ns.flags|=4),typeof as.getSnapshotBeforeUpdate!="function"||ls===ts.memoizedProps&&hs===ts.memoizedState||(ns.flags|=1024),is=!1)}return jj(ts,ns,rs,is,ss,os)}function jj(ts,ns,rs,is,os,ss){gj(ts,ns);var as=(ns.flags&128)!==0;if(!is&&!as)return os&&dg(ns,rs,!1),Zi(ts,ns,ss);is=ns.stateNode,Wi.current=ns;var ls=as&&typeof rs.getDerivedStateFromError!="function"?null:is.render();return ns.flags|=1,ts!==null&&as?(ns.child=Ug(ns,ts.child,null,ss),ns.child=Ug(ns,null,ls,ss)):Xi(ts,ns,ls,ss),ns.memoizedState=is.state,os&&dg(ns,rs,!0),ns.child}function kj(ts){var ns=ts.stateNode;ns.pendingContext?ag(ts,ns.pendingContext,ns.pendingContext!==ns.context):ns.context&&ag(ts,ns.context,!1),yh(ts,ns.containerInfo)}function lj(ts,ns,rs,is,os){return Ig(),Jg(os),ns.flags|=256,Xi(ts,ns,rs,is),ns.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(ts){return{baseLanes:ts,cachePool:null,transitions:null}}function oj(ts,ns,rs){var is=ns.pendingProps,os=L$1.current,ss=!1,as=(ns.flags&128)!==0,ls;if((ls=as)||(ls=ts!==null&&ts.memoizedState===null?!1:(os&2)!==0),ls?(ss=!0,ns.flags&=-129):(ts===null||ts.memoizedState!==null)&&(os|=1),G$1(L$1,os&1),ts===null)return Eg(ns),ts=ns.memoizedState,ts!==null&&(ts=ts.dehydrated,ts!==null)?(ns.mode&1?ts.data==="$!"?ns.lanes=8:ns.lanes=1073741824:ns.lanes=1,null):(as=is.children,ts=is.fallback,ss?(is=ns.mode,ss=ns.child,as={mode:"hidden",children:as},!(is&1)&&ss!==null?(ss.childLanes=0,ss.pendingProps=as):ss=pj(as,is,0,null),ts=Tg(ts,is,rs,null),ss.return=ns,ts.return=ns,ss.sibling=ts,ns.child=ss,ns.child.memoizedState=nj(rs),ns.memoizedState=mj,ts):qj(ns,as));if(os=ts.memoizedState,os!==null&&(ls=os.dehydrated,ls!==null))return rj(ts,ns,as,is,ls,os,rs);if(ss){ss=is.fallback,as=ns.mode,os=ts.child,ls=os.sibling;var cs={mode:"hidden",children:is.children};return!(as&1)&&ns.child!==os?(is=ns.child,is.childLanes=0,is.pendingProps=cs,ns.deletions=null):(is=Pg(os,cs),is.subtreeFlags=os.subtreeFlags&14680064),ls!==null?ss=Pg(ls,ss):(ss=Tg(ss,as,rs,null),ss.flags|=2),ss.return=ns,is.return=ns,is.sibling=ss,ns.child=is,is=ss,ss=ns.child,as=ts.child.memoizedState,as=as===null?nj(rs):{baseLanes:as.baseLanes|rs,cachePool:null,transitions:as.transitions},ss.memoizedState=as,ss.childLanes=ts.childLanes&~rs,ns.memoizedState=mj,is}return ss=ts.child,ts=ss.sibling,is=Pg(ss,{mode:"visible",children:is.children}),!(ns.mode&1)&&(is.lanes=rs),is.return=ns,is.sibling=null,ts!==null&&(rs=ns.deletions,rs===null?(ns.deletions=[ts],ns.flags|=16):rs.push(ts)),ns.child=is,ns.memoizedState=null,is}function qj(ts,ns){return ns=pj({mode:"visible",children:ns},ts.mode,0,null),ns.return=ts,ts.child=ns}function sj(ts,ns,rs,is){return is!==null&&Jg(is),Ug(ns,ts.child,null,rs),ts=qj(ns,ns.pendingProps.children),ts.flags|=2,ns.memoizedState=null,ts}function rj(ts,ns,rs,is,os,ss,as){if(rs)return ns.flags&256?(ns.flags&=-257,is=Ki(Error(p$6(422))),sj(ts,ns,as,is)):ns.memoizedState!==null?(ns.child=ts.child,ns.flags|=128,null):(ss=is.fallback,os=ns.mode,is=pj({mode:"visible",children:is.children},os,0,null),ss=Tg(ss,os,as,null),ss.flags|=2,is.return=ns,ss.return=ns,is.sibling=ss,ns.child=is,ns.mode&1&&Ug(ns,ts.child,null,as),ns.child.memoizedState=nj(as),ns.memoizedState=mj,ss);if(!(ns.mode&1))return sj(ts,ns,as,null);if(os.data==="$!"){if(is=os.nextSibling&&os.nextSibling.dataset,is)var ls=is.dgst;return is=ls,ss=Error(p$6(419)),is=Ki(ss,is,void 0),sj(ts,ns,as,is)}if(ls=(as&ts.childLanes)!==0,dh||ls){if(is=Q$1,is!==null){switch(as&-as){case 4:os=2;break;case 16:os=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:os=32;break;case 536870912:os=268435456;break;default:os=0}os=os&(is.suspendedLanes|as)?0:os,os!==0&&os!==ss.retryLane&&(ss.retryLane=os,ih(ts,os),gi(is,ts,os,-1))}return tj(),is=Ki(Error(p$6(421))),sj(ts,ns,as,is)}return os.data==="$?"?(ns.flags|=128,ns.child=ts.child,ns=uj.bind(null,ts),os._reactRetry=ns,null):(ts=ss.treeContext,yg=Lf(os.nextSibling),xg=ns,I$1=!0,zg=null,ts!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=ts.id,sg=ts.overflow,qg=ns),ns=qj(ns,is.children),ns.flags|=4096,ns)}function vj(ts,ns,rs){ts.lanes|=ns;var is=ts.alternate;is!==null&&(is.lanes|=ns),bh(ts.return,ns,rs)}function wj(ts,ns,rs,is,os){var ss=ts.memoizedState;ss===null?ts.memoizedState={isBackwards:ns,rendering:null,renderingStartTime:0,last:is,tail:rs,tailMode:os}:(ss.isBackwards=ns,ss.rendering=null,ss.renderingStartTime=0,ss.last=is,ss.tail=rs,ss.tailMode=os)}function xj(ts,ns,rs){var is=ns.pendingProps,os=is.revealOrder,ss=is.tail;if(Xi(ts,ns,is.children,rs),is=L$1.current,is&2)is=is&1|2,ns.flags|=128;else{if(ts!==null&&ts.flags&128)e:for(ts=ns.child;ts!==null;){if(ts.tag===13)ts.memoizedState!==null&&vj(ts,rs,ns);else if(ts.tag===19)vj(ts,rs,ns);else if(ts.child!==null){ts.child.return=ts,ts=ts.child;continue}if(ts===ns)break e;for(;ts.sibling===null;){if(ts.return===null||ts.return===ns)break e;ts=ts.return}ts.sibling.return=ts.return,ts=ts.sibling}is&=1}if(G$1(L$1,is),!(ns.mode&1))ns.memoizedState=null;else switch(os){case"forwards":for(rs=ns.child,os=null;rs!==null;)ts=rs.alternate,ts!==null&&Ch(ts)===null&&(os=rs),rs=rs.sibling;rs=os,rs===null?(os=ns.child,ns.child=null):(os=rs.sibling,rs.sibling=null),wj(ns,!1,os,rs,ss);break;case"backwards":for(rs=null,os=ns.child,ns.child=null;os!==null;){if(ts=os.alternate,ts!==null&&Ch(ts)===null){ns.child=os;break}ts=os.sibling,os.sibling=rs,rs=os,os=ts}wj(ns,!0,rs,null,ss);break;case"together":wj(ns,!1,null,null,void 0);break;default:ns.memoizedState=null}return ns.child}function ij(ts,ns){!(ns.mode&1)&&ts!==null&&(ts.alternate=null,ns.alternate=null,ns.flags|=2)}function Zi(ts,ns,rs){if(ts!==null&&(ns.dependencies=ts.dependencies),rh|=ns.lanes,!(rs&ns.childLanes))return null;if(ts!==null&&ns.child!==ts.child)throw Error(p$6(153));if(ns.child!==null){for(ts=ns.child,rs=Pg(ts,ts.pendingProps),ns.child=rs,rs.return=ns;ts.sibling!==null;)ts=ts.sibling,rs=rs.sibling=Pg(ts,ts.pendingProps),rs.return=ns;rs.sibling=null}return ns.child}function yj(ts,ns,rs){switch(ns.tag){case 3:kj(ns),Ig();break;case 5:Ah(ns);break;case 1:Zf(ns.type)&&cg(ns);break;case 4:yh(ns,ns.stateNode.containerInfo);break;case 10:var is=ns.type._context,os=ns.memoizedProps.value;G$1(Wg,is._currentValue),is._currentValue=os;break;case 13:if(is=ns.memoizedState,is!==null)return is.dehydrated!==null?(G$1(L$1,L$1.current&1),ns.flags|=128,null):rs&ns.child.childLanes?oj(ts,ns,rs):(G$1(L$1,L$1.current&1),ts=Zi(ts,ns,rs),ts!==null?ts.sibling:null);G$1(L$1,L$1.current&1);break;case 19:if(is=(rs&ns.childLanes)!==0,ts.flags&128){if(is)return xj(ts,ns,rs);ns.flags|=128}if(os=ns.memoizedState,os!==null&&(os.rendering=null,os.tail=null,os.lastEffect=null),G$1(L$1,L$1.current),is)break;return null;case 22:case 23:return ns.lanes=0,dj(ts,ns,rs)}return Zi(ts,ns,rs)}var zj,Aj,Bj,Cj;zj=function(ts,ns){for(var rs=ns.child;rs!==null;){if(rs.tag===5||rs.tag===6)ts.appendChild(rs.stateNode);else if(rs.tag!==4&&rs.child!==null){rs.child.return=rs,rs=rs.child;continue}if(rs===ns)break;for(;rs.sibling===null;){if(rs.return===null||rs.return===ns)return;rs=rs.return}rs.sibling.return=rs.return,rs=rs.sibling}};Aj=function(){};Bj=function(ts,ns,rs,is){var os=ts.memoizedProps;if(os!==is){ts=ns.stateNode,xh(uh.current);var ss=null;switch(rs){case"input":os=Ya(ts,os),is=Ya(ts,is),ss=[];break;case"select":os=A$1({},os,{value:void 0}),is=A$1({},is,{value:void 0}),ss=[];break;case"textarea":os=gb(ts,os),is=gb(ts,is),ss=[];break;default:typeof os.onClick!="function"&&typeof is.onClick=="function"&&(ts.onclick=Bf)}ub(rs,is);var as;rs=null;for(us in os)if(!is.hasOwnProperty(us)&&os.hasOwnProperty(us)&&os[us]!=null)if(us==="style"){var ls=os[us];for(as in ls)ls.hasOwnProperty(as)&&(rs||(rs={}),rs[as]="")}else us!=="dangerouslySetInnerHTML"&&us!=="children"&&us!=="suppressContentEditableWarning"&&us!=="suppressHydrationWarning"&&us!=="autoFocus"&&(ea.hasOwnProperty(us)?ss||(ss=[]):(ss=ss||[]).push(us,null));for(us in is){var cs=is[us];if(ls=os!=null?os[us]:void 0,is.hasOwnProperty(us)&&cs!==ls&&(cs!=null||ls!=null))if(us==="style")if(ls){for(as in ls)!ls.hasOwnProperty(as)||cs&&cs.hasOwnProperty(as)||(rs||(rs={}),rs[as]="");for(as in cs)cs.hasOwnProperty(as)&&ls[as]!==cs[as]&&(rs||(rs={}),rs[as]=cs[as])}else rs||(ss||(ss=[]),ss.push(us,rs)),rs=cs;else us==="dangerouslySetInnerHTML"?(cs=cs?cs.__html:void 0,ls=ls?ls.__html:void 0,cs!=null&&ls!==cs&&(ss=ss||[]).push(us,cs)):us==="children"?typeof cs!="string"&&typeof cs!="number"||(ss=ss||[]).push(us,""+cs):us!=="suppressContentEditableWarning"&&us!=="suppressHydrationWarning"&&(ea.hasOwnProperty(us)?(cs!=null&&us==="onScroll"&&D$1("scroll",ts),ss||ls===cs||(ss=[])):(ss=ss||[]).push(us,cs))}rs&&(ss=ss||[]).push("style",rs);var us=ss;(ns.updateQueue=us)&&(ns.flags|=4)}};Cj=function(ts,ns,rs,is){rs!==is&&(ns.flags|=4)};function Dj(ts,ns){if(!I$1)switch(ts.tailMode){case"hidden":ns=ts.tail;for(var rs=null;ns!==null;)ns.alternate!==null&&(rs=ns),ns=ns.sibling;rs===null?ts.tail=null:rs.sibling=null;break;case"collapsed":rs=ts.tail;for(var is=null;rs!==null;)rs.alternate!==null&&(is=rs),rs=rs.sibling;is===null?ns||ts.tail===null?ts.tail=null:ts.tail.sibling=null:is.sibling=null}}function S$1(ts){var ns=ts.alternate!==null&&ts.alternate.child===ts.child,rs=0,is=0;if(ns)for(var os=ts.child;os!==null;)rs|=os.lanes|os.childLanes,is|=os.subtreeFlags&14680064,is|=os.flags&14680064,os.return=ts,os=os.sibling;else for(os=ts.child;os!==null;)rs|=os.lanes|os.childLanes,is|=os.subtreeFlags,is|=os.flags,os.return=ts,os=os.sibling;return ts.subtreeFlags|=is,ts.childLanes=rs,ns}function Ej(ts,ns,rs){var is=ns.pendingProps;switch(wg(ns),ns.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$1(ns),null;case 1:return Zf(ns.type)&&$f(),S$1(ns),null;case 3:return is=ns.stateNode,zh(),E$1(Wf),E$1(H$1),Eh(),is.pendingContext&&(is.context=is.pendingContext,is.pendingContext=null),(ts===null||ts.child===null)&&(Gg(ns)?ns.flags|=4:ts===null||ts.memoizedState.isDehydrated&&!(ns.flags&256)||(ns.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(ts,ns),S$1(ns),null;case 5:Bh(ns);var os=xh(wh.current);if(rs=ns.type,ts!==null&&ns.stateNode!=null)Bj(ts,ns,rs,is,os),ts.ref!==ns.ref&&(ns.flags|=512,ns.flags|=2097152);else{if(!is){if(ns.stateNode===null)throw Error(p$6(166));return S$1(ns),null}if(ts=xh(uh.current),Gg(ns)){is=ns.stateNode,rs=ns.type;var ss=ns.memoizedProps;switch(is[Of]=ns,is[Pf]=ss,ts=(ns.mode&1)!==0,rs){case"dialog":D$1("cancel",is),D$1("close",is);break;case"iframe":case"object":case"embed":D$1("load",is);break;case"video":case"audio":for(os=0;os<lf.length;os++)D$1(lf[os],is);break;case"source":D$1("error",is);break;case"img":case"image":case"link":D$1("error",is),D$1("load",is);break;case"details":D$1("toggle",is);break;case"input":Za(is,ss),D$1("invalid",is);break;case"select":is._wrapperState={wasMultiple:!!ss.multiple},D$1("invalid",is);break;case"textarea":hb(is,ss),D$1("invalid",is)}ub(rs,ss),os=null;for(var as in ss)if(ss.hasOwnProperty(as)){var ls=ss[as];as==="children"?typeof ls=="string"?is.textContent!==ls&&(ss.suppressHydrationWarning!==!0&&Af(is.textContent,ls,ts),os=["children",ls]):typeof ls=="number"&&is.textContent!==""+ls&&(ss.suppressHydrationWarning!==!0&&Af(is.textContent,ls,ts),os=["children",""+ls]):ea.hasOwnProperty(as)&&ls!=null&&as==="onScroll"&&D$1("scroll",is)}switch(rs){case"input":Va(is),db(is,ss,!0);break;case"textarea":Va(is),jb(is);break;case"select":case"option":break;default:typeof ss.onClick=="function"&&(is.onclick=Bf)}is=os,ns.updateQueue=is,is!==null&&(ns.flags|=4)}else{as=os.nodeType===9?os:os.ownerDocument,ts==="http://www.w3.org/1999/xhtml"&&(ts=kb(rs)),ts==="http://www.w3.org/1999/xhtml"?rs==="script"?(ts=as.createElement("div"),ts.innerHTML="<script><\/script>",ts=ts.removeChild(ts.firstChild)):typeof is.is=="string"?ts=as.createElement(rs,{is:is.is}):(ts=as.createElement(rs),rs==="select"&&(as=ts,is.multiple?as.multiple=!0:is.size&&(as.size=is.size))):ts=as.createElementNS(ts,rs),ts[Of]=ns,ts[Pf]=is,zj(ts,ns,!1,!1),ns.stateNode=ts;e:{switch(as=vb(rs,is),rs){case"dialog":D$1("cancel",ts),D$1("close",ts),os=is;break;case"iframe":case"object":case"embed":D$1("load",ts),os=is;break;case"video":case"audio":for(os=0;os<lf.length;os++)D$1(lf[os],ts);os=is;break;case"source":D$1("error",ts),os=is;break;case"img":case"image":case"link":D$1("error",ts),D$1("load",ts),os=is;break;case"details":D$1("toggle",ts),os=is;break;case"input":Za(ts,is),os=Ya(ts,is),D$1("invalid",ts);break;case"option":os=is;break;case"select":ts._wrapperState={wasMultiple:!!is.multiple},os=A$1({},is,{value:void 0}),D$1("invalid",ts);break;case"textarea":hb(ts,is),os=gb(ts,is),D$1("invalid",ts);break;default:os=is}ub(rs,os),ls=os;for(ss in ls)if(ls.hasOwnProperty(ss)){var cs=ls[ss];ss==="style"?sb(ts,cs):ss==="dangerouslySetInnerHTML"?(cs=cs?cs.__html:void 0,cs!=null&&nb(ts,cs)):ss==="children"?typeof cs=="string"?(rs!=="textarea"||cs!=="")&&ob(ts,cs):typeof cs=="number"&&ob(ts,""+cs):ss!=="suppressContentEditableWarning"&&ss!=="suppressHydrationWarning"&&ss!=="autoFocus"&&(ea.hasOwnProperty(ss)?cs!=null&&ss==="onScroll"&&D$1("scroll",ts):cs!=null&&ta(ts,ss,cs,as))}switch(rs){case"input":Va(ts),db(ts,is,!1);break;case"textarea":Va(ts),jb(ts);break;case"option":is.value!=null&&ts.setAttribute("value",""+Sa(is.value));break;case"select":ts.multiple=!!is.multiple,ss=is.value,ss!=null?fb(ts,!!is.multiple,ss,!1):is.defaultValue!=null&&fb(ts,!!is.multiple,is.defaultValue,!0);break;default:typeof os.onClick=="function"&&(ts.onclick=Bf)}switch(rs){case"button":case"input":case"select":case"textarea":is=!!is.autoFocus;break e;case"img":is=!0;break e;default:is=!1}}is&&(ns.flags|=4)}ns.ref!==null&&(ns.flags|=512,ns.flags|=2097152)}return S$1(ns),null;case 6:if(ts&&ns.stateNode!=null)Cj(ts,ns,ts.memoizedProps,is);else{if(typeof is!="string"&&ns.stateNode===null)throw Error(p$6(166));if(rs=xh(wh.current),xh(uh.current),Gg(ns)){if(is=ns.stateNode,rs=ns.memoizedProps,is[Of]=ns,(ss=is.nodeValue!==rs)&&(ts=xg,ts!==null))switch(ts.tag){case 3:Af(is.nodeValue,rs,(ts.mode&1)!==0);break;case 5:ts.memoizedProps.suppressHydrationWarning!==!0&&Af(is.nodeValue,rs,(ts.mode&1)!==0)}ss&&(ns.flags|=4)}else is=(rs.nodeType===9?rs:rs.ownerDocument).createTextNode(is),is[Of]=ns,ns.stateNode=is}return S$1(ns),null;case 13:if(E$1(L$1),is=ns.memoizedState,ts===null||ts.memoizedState!==null&&ts.memoizedState.dehydrated!==null){if(I$1&&yg!==null&&ns.mode&1&&!(ns.flags&128))Hg(),Ig(),ns.flags|=98560,ss=!1;else if(ss=Gg(ns),is!==null&&is.dehydrated!==null){if(ts===null){if(!ss)throw Error(p$6(318));if(ss=ns.memoizedState,ss=ss!==null?ss.dehydrated:null,!ss)throw Error(p$6(317));ss[Of]=ns}else Ig(),!(ns.flags&128)&&(ns.memoizedState=null),ns.flags|=4;S$1(ns),ss=!1}else zg!==null&&(Fj(zg),zg=null),ss=!0;if(!ss)return ns.flags&65536?ns:null}return ns.flags&128?(ns.lanes=rs,ns):(is=is!==null,is!==(ts!==null&&ts.memoizedState!==null)&&is&&(ns.child.flags|=8192,ns.mode&1&&(ts===null||L$1.current&1?T$1===0&&(T$1=3):tj())),ns.updateQueue!==null&&(ns.flags|=4),S$1(ns),null);case 4:return zh(),Aj(ts,ns),ts===null&&sf(ns.stateNode.containerInfo),S$1(ns),null;case 10:return ah(ns.type._context),S$1(ns),null;case 17:return Zf(ns.type)&&$f(),S$1(ns),null;case 19:if(E$1(L$1),ss=ns.memoizedState,ss===null)return S$1(ns),null;if(is=(ns.flags&128)!==0,as=ss.rendering,as===null)if(is)Dj(ss,!1);else{if(T$1!==0||ts!==null&&ts.flags&128)for(ts=ns.child;ts!==null;){if(as=Ch(ts),as!==null){for(ns.flags|=128,Dj(ss,!1),is=as.updateQueue,is!==null&&(ns.updateQueue=is,ns.flags|=4),ns.subtreeFlags=0,is=rs,rs=ns.child;rs!==null;)ss=rs,ts=is,ss.flags&=14680066,as=ss.alternate,as===null?(ss.childLanes=0,ss.lanes=ts,ss.child=null,ss.subtreeFlags=0,ss.memoizedProps=null,ss.memoizedState=null,ss.updateQueue=null,ss.dependencies=null,ss.stateNode=null):(ss.childLanes=as.childLanes,ss.lanes=as.lanes,ss.child=as.child,ss.subtreeFlags=0,ss.deletions=null,ss.memoizedProps=as.memoizedProps,ss.memoizedState=as.memoizedState,ss.updateQueue=as.updateQueue,ss.type=as.type,ts=as.dependencies,ss.dependencies=ts===null?null:{lanes:ts.lanes,firstContext:ts.firstContext}),rs=rs.sibling;return G$1(L$1,L$1.current&1|2),ns.child}ts=ts.sibling}ss.tail!==null&&B$1()>Gj&&(ns.flags|=128,is=!0,Dj(ss,!1),ns.lanes=4194304)}else{if(!is)if(ts=Ch(as),ts!==null){if(ns.flags|=128,is=!0,rs=ts.updateQueue,rs!==null&&(ns.updateQueue=rs,ns.flags|=4),Dj(ss,!0),ss.tail===null&&ss.tailMode==="hidden"&&!as.alternate&&!I$1)return S$1(ns),null}else 2*B$1()-ss.renderingStartTime>Gj&&rs!==1073741824&&(ns.flags|=128,is=!0,Dj(ss,!1),ns.lanes=4194304);ss.isBackwards?(as.sibling=ns.child,ns.child=as):(rs=ss.last,rs!==null?rs.sibling=as:ns.child=as,ss.last=as)}return ss.tail!==null?(ns=ss.tail,ss.rendering=ns,ss.tail=ns.sibling,ss.renderingStartTime=B$1(),ns.sibling=null,rs=L$1.current,G$1(L$1,is?rs&1|2:rs&1),ns):(S$1(ns),null);case 22:case 23:return Hj(),is=ns.memoizedState!==null,ts!==null&&ts.memoizedState!==null!==is&&(ns.flags|=8192),is&&ns.mode&1?fj&1073741824&&(S$1(ns),ns.subtreeFlags&6&&(ns.flags|=8192)):S$1(ns),null;case 24:return null;case 25:return null}throw Error(p$6(156,ns.tag))}function Ij(ts,ns){switch(wg(ns),ns.tag){case 1:return Zf(ns.type)&&$f(),ts=ns.flags,ts&65536?(ns.flags=ts&-65537|128,ns):null;case 3:return zh(),E$1(Wf),E$1(H$1),Eh(),ts=ns.flags,ts&65536&&!(ts&128)?(ns.flags=ts&-65537|128,ns):null;case 5:return Bh(ns),null;case 13:if(E$1(L$1),ts=ns.memoizedState,ts!==null&&ts.dehydrated!==null){if(ns.alternate===null)throw Error(p$6(340));Ig()}return ts=ns.flags,ts&65536?(ns.flags=ts&-65537|128,ns):null;case 19:return E$1(L$1),null;case 4:return zh(),null;case 10:return ah(ns.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U$1=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V$1=null;function Lj(ts,ns){var rs=ts.ref;if(rs!==null)if(typeof rs=="function")try{rs(null)}catch(is){W$1(ts,ns,is)}else rs.current=null}function Mj(ts,ns,rs){try{rs()}catch(is){W$1(ts,ns,is)}}var Nj=!1;function Oj(ts,ns){if(Cf=dd,ts=Me$1(),Ne$1(ts)){if("selectionStart"in ts)var rs={start:ts.selectionStart,end:ts.selectionEnd};else e:{rs=(rs=ts.ownerDocument)&&rs.defaultView||window;var is=rs.getSelection&&rs.getSelection();if(is&&is.rangeCount!==0){rs=is.anchorNode;var os=is.anchorOffset,ss=is.focusNode;is=is.focusOffset;try{rs.nodeType,ss.nodeType}catch{rs=null;break e}var as=0,ls=-1,cs=-1,us=0,ds=0,ps=ts,hs=null;t:for(;;){for(var ms;ps!==rs||os!==0&&ps.nodeType!==3||(ls=as+os),ps!==ss||is!==0&&ps.nodeType!==3||(cs=as+is),ps.nodeType===3&&(as+=ps.nodeValue.length),(ms=ps.firstChild)!==null;)hs=ps,ps=ms;for(;;){if(ps===ts)break t;if(hs===rs&&++us===os&&(ls=as),hs===ss&&++ds===is&&(cs=as),(ms=ps.nextSibling)!==null)break;ps=hs,hs=ps.parentNode}ps=ms}rs=ls===-1||cs===-1?null:{start:ls,end:cs}}else rs=null}rs=rs||{start:0,end:0}}else rs=null;for(Df={focusedElem:ts,selectionRange:rs},dd=!1,V$1=ns;V$1!==null;)if(ns=V$1,ts=ns.child,(ns.subtreeFlags&1028)!==0&&ts!==null)ts.return=ns,V$1=ts;else for(;V$1!==null;){ns=V$1;try{var gs=ns.alternate;if(ns.flags&1024)switch(ns.tag){case 0:case 11:case 15:break;case 1:if(gs!==null){var ys=gs.memoizedProps,vs=gs.memoizedState,bs=ns.stateNode,Ss=bs.getSnapshotBeforeUpdate(ns.elementType===ns.type?ys:Ci(ns.type,ys),vs);bs.__reactInternalSnapshotBeforeUpdate=Ss}break;case 3:var $s=ns.stateNode.containerInfo;$s.nodeType===1?$s.textContent="":$s.nodeType===9&&$s.documentElement&&$s.removeChild($s.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$6(163))}}catch(Cs){W$1(ns,ns.return,Cs)}if(ts=ns.sibling,ts!==null){ts.return=ns.return,V$1=ts;break}V$1=ns.return}return gs=Nj,Nj=!1,gs}function Pj(ts,ns,rs){var is=ns.updateQueue;if(is=is!==null?is.lastEffect:null,is!==null){var os=is=is.next;do{if((os.tag&ts)===ts){var ss=os.destroy;os.destroy=void 0,ss!==void 0&&Mj(ns,rs,ss)}os=os.next}while(os!==is)}}function Qj(ts,ns){if(ns=ns.updateQueue,ns=ns!==null?ns.lastEffect:null,ns!==null){var rs=ns=ns.next;do{if((rs.tag&ts)===ts){var is=rs.create;rs.destroy=is()}rs=rs.next}while(rs!==ns)}}function Rj(ts){var ns=ts.ref;if(ns!==null){var rs=ts.stateNode;switch(ts.tag){case 5:ts=rs;break;default:ts=rs}typeof ns=="function"?ns(ts):ns.current=ts}}function Sj(ts){var ns=ts.alternate;ns!==null&&(ts.alternate=null,Sj(ns)),ts.child=null,ts.deletions=null,ts.sibling=null,ts.tag===5&&(ns=ts.stateNode,ns!==null&&(delete ns[Of],delete ns[Pf],delete ns[of],delete ns[Qf],delete ns[Rf])),ts.stateNode=null,ts.return=null,ts.dependencies=null,ts.memoizedProps=null,ts.memoizedState=null,ts.pendingProps=null,ts.stateNode=null,ts.updateQueue=null}function Tj(ts){return ts.tag===5||ts.tag===3||ts.tag===4}function Uj(ts){e:for(;;){for(;ts.sibling===null;){if(ts.return===null||Tj(ts.return))return null;ts=ts.return}for(ts.sibling.return=ts.return,ts=ts.sibling;ts.tag!==5&&ts.tag!==6&&ts.tag!==18;){if(ts.flags&2||ts.child===null||ts.tag===4)continue e;ts.child.return=ts,ts=ts.child}if(!(ts.flags&2))return ts.stateNode}}function Vj(ts,ns,rs){var is=ts.tag;if(is===5||is===6)ts=ts.stateNode,ns?rs.nodeType===8?rs.parentNode.insertBefore(ts,ns):rs.insertBefore(ts,ns):(rs.nodeType===8?(ns=rs.parentNode,ns.insertBefore(ts,rs)):(ns=rs,ns.appendChild(ts)),rs=rs._reactRootContainer,rs!=null||ns.onclick!==null||(ns.onclick=Bf));else if(is!==4&&(ts=ts.child,ts!==null))for(Vj(ts,ns,rs),ts=ts.sibling;ts!==null;)Vj(ts,ns,rs),ts=ts.sibling}function Wj(ts,ns,rs){var is=ts.tag;if(is===5||is===6)ts=ts.stateNode,ns?rs.insertBefore(ts,ns):rs.appendChild(ts);else if(is!==4&&(ts=ts.child,ts!==null))for(Wj(ts,ns,rs),ts=ts.sibling;ts!==null;)Wj(ts,ns,rs),ts=ts.sibling}var X$1=null,Xj=!1;function Yj(ts,ns,rs){for(rs=rs.child;rs!==null;)Zj(ts,ns,rs),rs=rs.sibling}function Zj(ts,ns,rs){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,rs)}catch{}switch(rs.tag){case 5:U$1||Lj(rs,ns);case 6:var is=X$1,os=Xj;X$1=null,Yj(ts,ns,rs),X$1=is,Xj=os,X$1!==null&&(Xj?(ts=X$1,rs=rs.stateNode,ts.nodeType===8?ts.parentNode.removeChild(rs):ts.removeChild(rs)):X$1.removeChild(rs.stateNode));break;case 18:X$1!==null&&(Xj?(ts=X$1,rs=rs.stateNode,ts.nodeType===8?Kf(ts.parentNode,rs):ts.nodeType===1&&Kf(ts,rs),bd(ts)):Kf(X$1,rs.stateNode));break;case 4:is=X$1,os=Xj,X$1=rs.stateNode.containerInfo,Xj=!0,Yj(ts,ns,rs),X$1=is,Xj=os;break;case 0:case 11:case 14:case 15:if(!U$1&&(is=rs.updateQueue,is!==null&&(is=is.lastEffect,is!==null))){os=is=is.next;do{var ss=os,as=ss.destroy;ss=ss.tag,as!==void 0&&(ss&2||ss&4)&&Mj(rs,ns,as),os=os.next}while(os!==is)}Yj(ts,ns,rs);break;case 1:if(!U$1&&(Lj(rs,ns),is=rs.stateNode,typeof is.componentWillUnmount=="function"))try{is.props=rs.memoizedProps,is.state=rs.memoizedState,is.componentWillUnmount()}catch(ls){W$1(rs,ns,ls)}Yj(ts,ns,rs);break;case 21:Yj(ts,ns,rs);break;case 22:rs.mode&1?(U$1=(is=U$1)||rs.memoizedState!==null,Yj(ts,ns,rs),U$1=is):Yj(ts,ns,rs);break;default:Yj(ts,ns,rs)}}function ak(ts){var ns=ts.updateQueue;if(ns!==null){ts.updateQueue=null;var rs=ts.stateNode;rs===null&&(rs=ts.stateNode=new Kj),ns.forEach(function(is){var os=bk.bind(null,ts,is);rs.has(is)||(rs.add(is),is.then(os,os))})}}function ck(ts,ns){var rs=ns.deletions;if(rs!==null)for(var is=0;is<rs.length;is++){var os=rs[is];try{var ss=ts,as=ns,ls=as;e:for(;ls!==null;){switch(ls.tag){case 5:X$1=ls.stateNode,Xj=!1;break e;case 3:X$1=ls.stateNode.containerInfo,Xj=!0;break e;case 4:X$1=ls.stateNode.containerInfo,Xj=!0;break e}ls=ls.return}if(X$1===null)throw Error(p$6(160));Zj(ss,as,os),X$1=null,Xj=!1;var cs=os.alternate;cs!==null&&(cs.return=null),os.return=null}catch(us){W$1(os,ns,us)}}if(ns.subtreeFlags&12854)for(ns=ns.child;ns!==null;)dk(ns,ts),ns=ns.sibling}function dk(ts,ns){var rs=ts.alternate,is=ts.flags;switch(ts.tag){case 0:case 11:case 14:case 15:if(ck(ns,ts),ek(ts),is&4){try{Pj(3,ts,ts.return),Qj(3,ts)}catch(ys){W$1(ts,ts.return,ys)}try{Pj(5,ts,ts.return)}catch(ys){W$1(ts,ts.return,ys)}}break;case 1:ck(ns,ts),ek(ts),is&512&&rs!==null&&Lj(rs,rs.return);break;case 5:if(ck(ns,ts),ek(ts),is&512&&rs!==null&&Lj(rs,rs.return),ts.flags&32){var os=ts.stateNode;try{ob(os,"")}catch(ys){W$1(ts,ts.return,ys)}}if(is&4&&(os=ts.stateNode,os!=null)){var ss=ts.memoizedProps,as=rs!==null?rs.memoizedProps:ss,ls=ts.type,cs=ts.updateQueue;if(ts.updateQueue=null,cs!==null)try{ls==="input"&&ss.type==="radio"&&ss.name!=null&&ab(os,ss),vb(ls,as);var us=vb(ls,ss);for(as=0;as<cs.length;as+=2){var ds=cs[as],ps=cs[as+1];ds==="style"?sb(os,ps):ds==="dangerouslySetInnerHTML"?nb(os,ps):ds==="children"?ob(os,ps):ta(os,ds,ps,us)}switch(ls){case"input":bb(os,ss);break;case"textarea":ib(os,ss);break;case"select":var hs=os._wrapperState.wasMultiple;os._wrapperState.wasMultiple=!!ss.multiple;var ms=ss.value;ms!=null?fb(os,!!ss.multiple,ms,!1):hs!==!!ss.multiple&&(ss.defaultValue!=null?fb(os,!!ss.multiple,ss.defaultValue,!0):fb(os,!!ss.multiple,ss.multiple?[]:"",!1))}os[Pf]=ss}catch(ys){W$1(ts,ts.return,ys)}}break;case 6:if(ck(ns,ts),ek(ts),is&4){if(ts.stateNode===null)throw Error(p$6(162));os=ts.stateNode,ss=ts.memoizedProps;try{os.nodeValue=ss}catch(ys){W$1(ts,ts.return,ys)}}break;case 3:if(ck(ns,ts),ek(ts),is&4&&rs!==null&&rs.memoizedState.isDehydrated)try{bd(ns.containerInfo)}catch(ys){W$1(ts,ts.return,ys)}break;case 4:ck(ns,ts),ek(ts);break;case 13:ck(ns,ts),ek(ts),os=ts.child,os.flags&8192&&(ss=os.memoizedState!==null,os.stateNode.isHidden=ss,!ss||os.alternate!==null&&os.alternate.memoizedState!==null||(fk=B$1())),is&4&&ak(ts);break;case 22:if(ds=rs!==null&&rs.memoizedState!==null,ts.mode&1?(U$1=(us=U$1)||ds,ck(ns,ts),U$1=us):ck(ns,ts),ek(ts),is&8192){if(us=ts.memoizedState!==null,(ts.stateNode.isHidden=us)&&!ds&&ts.mode&1)for(V$1=ts,ds=ts.child;ds!==null;){for(ps=V$1=ds;V$1!==null;){switch(hs=V$1,ms=hs.child,hs.tag){case 0:case 11:case 14:case 15:Pj(4,hs,hs.return);break;case 1:Lj(hs,hs.return);var gs=hs.stateNode;if(typeof gs.componentWillUnmount=="function"){is=hs,rs=hs.return;try{ns=is,gs.props=ns.memoizedProps,gs.state=ns.memoizedState,gs.componentWillUnmount()}catch(ys){W$1(is,rs,ys)}}break;case 5:Lj(hs,hs.return);break;case 22:if(hs.memoizedState!==null){gk(ps);continue}}ms!==null?(ms.return=hs,V$1=ms):gk(ps)}ds=ds.sibling}e:for(ds=null,ps=ts;;){if(ps.tag===5){if(ds===null){ds=ps;try{os=ps.stateNode,us?(ss=os.style,typeof ss.setProperty=="function"?ss.setProperty("display","none","important"):ss.display="none"):(ls=ps.stateNode,cs=ps.memoizedProps.style,as=cs!=null&&cs.hasOwnProperty("display")?cs.display:null,ls.style.display=rb("display",as))}catch(ys){W$1(ts,ts.return,ys)}}}else if(ps.tag===6){if(ds===null)try{ps.stateNode.nodeValue=us?"":ps.memoizedProps}catch(ys){W$1(ts,ts.return,ys)}}else if((ps.tag!==22&&ps.tag!==23||ps.memoizedState===null||ps===ts)&&ps.child!==null){ps.child.return=ps,ps=ps.child;continue}if(ps===ts)break e;for(;ps.sibling===null;){if(ps.return===null||ps.return===ts)break e;ds===ps&&(ds=null),ps=ps.return}ds===ps&&(ds=null),ps.sibling.return=ps.return,ps=ps.sibling}}break;case 19:ck(ns,ts),ek(ts),is&4&&ak(ts);break;case 21:break;default:ck(ns,ts),ek(ts)}}function ek(ts){var ns=ts.flags;if(ns&2){try{e:{for(var rs=ts.return;rs!==null;){if(Tj(rs)){var is=rs;break e}rs=rs.return}throw Error(p$6(160))}switch(is.tag){case 5:var os=is.stateNode;is.flags&32&&(ob(os,""),is.flags&=-33);var ss=Uj(ts);Wj(ts,ss,os);break;case 3:case 4:var as=is.stateNode.containerInfo,ls=Uj(ts);Vj(ts,ls,as);break;default:throw Error(p$6(161))}}catch(cs){W$1(ts,ts.return,cs)}ts.flags&=-3}ns&4096&&(ts.flags&=-4097)}function hk(ts,ns,rs){V$1=ts,ik(ts)}function ik(ts,ns,rs){for(var is=(ts.mode&1)!==0;V$1!==null;){var os=V$1,ss=os.child;if(os.tag===22&&is){var as=os.memoizedState!==null||Jj;if(!as){var ls=os.alternate,cs=ls!==null&&ls.memoizedState!==null||U$1;ls=Jj;var us=U$1;if(Jj=as,(U$1=cs)&&!us)for(V$1=os;V$1!==null;)as=V$1,cs=as.child,as.tag===22&&as.memoizedState!==null?jk(os):cs!==null?(cs.return=as,V$1=cs):jk(os);for(;ss!==null;)V$1=ss,ik(ss),ss=ss.sibling;V$1=os,Jj=ls,U$1=us}kk(ts)}else os.subtreeFlags&8772&&ss!==null?(ss.return=os,V$1=ss):kk(ts)}}function kk(ts){for(;V$1!==null;){var ns=V$1;if(ns.flags&8772){var rs=ns.alternate;try{if(ns.flags&8772)switch(ns.tag){case 0:case 11:case 15:U$1||Qj(5,ns);break;case 1:var is=ns.stateNode;if(ns.flags&4&&!U$1)if(rs===null)is.componentDidMount();else{var os=ns.elementType===ns.type?rs.memoizedProps:Ci(ns.type,rs.memoizedProps);is.componentDidUpdate(os,rs.memoizedState,is.__reactInternalSnapshotBeforeUpdate)}var ss=ns.updateQueue;ss!==null&&sh(ns,ss,is);break;case 3:var as=ns.updateQueue;if(as!==null){if(rs=null,ns.child!==null)switch(ns.child.tag){case 5:rs=ns.child.stateNode;break;case 1:rs=ns.child.stateNode}sh(ns,as,rs)}break;case 5:var ls=ns.stateNode;if(rs===null&&ns.flags&4){rs=ls;var cs=ns.memoizedProps;switch(ns.type){case"button":case"input":case"select":case"textarea":cs.autoFocus&&rs.focus();break;case"img":cs.src&&(rs.src=cs.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(ns.memoizedState===null){var us=ns.alternate;if(us!==null){var ds=us.memoizedState;if(ds!==null){var ps=ds.dehydrated;ps!==null&&bd(ps)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$6(163))}U$1||ns.flags&512&&Rj(ns)}catch(hs){W$1(ns,ns.return,hs)}}if(ns===ts){V$1=null;break}if(rs=ns.sibling,rs!==null){rs.return=ns.return,V$1=rs;break}V$1=ns.return}}function gk(ts){for(;V$1!==null;){var ns=V$1;if(ns===ts){V$1=null;break}var rs=ns.sibling;if(rs!==null){rs.return=ns.return,V$1=rs;break}V$1=ns.return}}function jk(ts){for(;V$1!==null;){var ns=V$1;try{switch(ns.tag){case 0:case 11:case 15:var rs=ns.return;try{Qj(4,ns)}catch(cs){W$1(ns,rs,cs)}break;case 1:var is=ns.stateNode;if(typeof is.componentDidMount=="function"){var os=ns.return;try{is.componentDidMount()}catch(cs){W$1(ns,os,cs)}}var ss=ns.return;try{Rj(ns)}catch(cs){W$1(ns,ss,cs)}break;case 5:var as=ns.return;try{Rj(ns)}catch(cs){W$1(ns,as,cs)}}}catch(cs){W$1(ns,ns.return,cs)}if(ns===ts){V$1=null;break}var ls=ns.sibling;if(ls!==null){ls.return=ns.return,V$1=ls;break}V$1=ns.return}}var lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok$2=ua.ReactCurrentBatchConfig,K$1=0,Q$1=null,Y$1=null,Z$1=0,fj=0,ej=Uf(0),T$1=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R(){return K$1&6?B$1():Ak!==-1?Ak:Ak=B$1()}function yi(ts){return ts.mode&1?K$1&2&&Z$1!==0?Z$1&-Z$1:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(ts=C$1,ts!==0||(ts=window.event,ts=ts===void 0?16:jd(ts.type)),ts):1}function gi(ts,ns,rs,is){if(50<yk)throw yk=0,zk=null,Error(p$6(185));Ac(ts,rs,is),(!(K$1&2)||ts!==Q$1)&&(ts===Q$1&&(!(K$1&2)&&(qk|=rs),T$1===4&&Ck(ts,Z$1)),Dk(ts,is),rs===1&&K$1===0&&!(ns.mode&1)&&(Gj=B$1()+500,fg&&jg()))}function Dk(ts,ns){var rs=ts.callbackNode;wc(ts,ns);var is=uc(ts,ts===Q$1?Z$1:0);if(is===0)rs!==null&&bc(rs),ts.callbackNode=null,ts.callbackPriority=0;else if(ns=is&-is,ts.callbackPriority!==ns){if(rs!=null&&bc(rs),ns===1)ts.tag===0?ig(Ek.bind(null,ts)):hg(Ek.bind(null,ts)),Jf(function(){!(K$1&6)&&jg()}),rs=null;else{switch(Dc(is)){case 1:rs=fc;break;case 4:rs=gc;break;case 16:rs=hc;break;case 536870912:rs=jc;break;default:rs=hc}rs=Fk(rs,Gk.bind(null,ts))}ts.callbackPriority=ns,ts.callbackNode=rs}}function Gk(ts,ns){if(Ak=-1,Bk=0,K$1&6)throw Error(p$6(327));var rs=ts.callbackNode;if(Hk()&&ts.callbackNode!==rs)return null;var is=uc(ts,ts===Q$1?Z$1:0);if(is===0)return null;if(is&30||is&ts.expiredLanes||ns)ns=Ik(ts,is);else{ns=is;var os=K$1;K$1|=2;var ss=Jk();(Q$1!==ts||Z$1!==ns)&&(uk=null,Gj=B$1()+500,Kk(ts,ns));do try{Lk();break}catch(ls){Mk(ts,ls)}while(1);$g(),mk.current=ss,K$1=os,Y$1!==null?ns=0:(Q$1=null,Z$1=0,ns=T$1)}if(ns!==0){if(ns===2&&(os=xc(ts),os!==0&&(is=os,ns=Nk(ts,os))),ns===1)throw rs=pk,Kk(ts,0),Ck(ts,is),Dk(ts,B$1()),rs;if(ns===6)Ck(ts,is);else{if(os=ts.current.alternate,!(is&30)&&!Ok(os)&&(ns=Ik(ts,is),ns===2&&(ss=xc(ts),ss!==0&&(is=ss,ns=Nk(ts,ss))),ns===1))throw rs=pk,Kk(ts,0),Ck(ts,is),Dk(ts,B$1()),rs;switch(ts.finishedWork=os,ts.finishedLanes=is,ns){case 0:case 1:throw Error(p$6(345));case 2:Pk(ts,tk,uk);break;case 3:if(Ck(ts,is),(is&130023424)===is&&(ns=fk+500-B$1(),10<ns)){if(uc(ts,0)!==0)break;if(os=ts.suspendedLanes,(os&is)!==is){R(),ts.pingedLanes|=ts.suspendedLanes&os;break}ts.timeoutHandle=Ff(Pk.bind(null,ts,tk,uk),ns);break}Pk(ts,tk,uk);break;case 4:if(Ck(ts,is),(is&4194240)===is)break;for(ns=ts.eventTimes,os=-1;0<is;){var as=31-oc(is);ss=1<<as,as=ns[as],as>os&&(os=as),is&=~ss}if(is=os,is=B$1()-is,is=(120>is?120:480>is?480:1080>is?1080:1920>is?1920:3e3>is?3e3:4320>is?4320:1960*lk(is/1960))-is,10<is){ts.timeoutHandle=Ff(Pk.bind(null,ts,tk,uk),is);break}Pk(ts,tk,uk);break;case 5:Pk(ts,tk,uk);break;default:throw Error(p$6(329))}}}return Dk(ts,B$1()),ts.callbackNode===rs?Gk.bind(null,ts):null}function Nk(ts,ns){var rs=sk;return ts.current.memoizedState.isDehydrated&&(Kk(ts,ns).flags|=256),ts=Ik(ts,ns),ts!==2&&(ns=tk,tk=rs,ns!==null&&Fj(ns)),ts}function Fj(ts){tk===null?tk=ts:tk.push.apply(tk,ts)}function Ok(ts){for(var ns=ts;;){if(ns.flags&16384){var rs=ns.updateQueue;if(rs!==null&&(rs=rs.stores,rs!==null))for(var is=0;is<rs.length;is++){var os=rs[is],ss=os.getSnapshot;os=os.value;try{if(!He$1(ss(),os))return!1}catch{return!1}}}if(rs=ns.child,ns.subtreeFlags&16384&&rs!==null)rs.return=ns,ns=rs;else{if(ns===ts)break;for(;ns.sibling===null;){if(ns.return===null||ns.return===ts)return!0;ns=ns.return}ns.sibling.return=ns.return,ns=ns.sibling}}return!0}function Ck(ts,ns){for(ns&=~rk,ns&=~qk,ts.suspendedLanes|=ns,ts.pingedLanes&=~ns,ts=ts.expirationTimes;0<ns;){var rs=31-oc(ns),is=1<<rs;ts[rs]=-1,ns&=~is}}function Ek(ts){if(K$1&6)throw Error(p$6(327));Hk();var ns=uc(ts,0);if(!(ns&1))return Dk(ts,B$1()),null;var rs=Ik(ts,ns);if(ts.tag!==0&&rs===2){var is=xc(ts);is!==0&&(ns=is,rs=Nk(ts,is))}if(rs===1)throw rs=pk,Kk(ts,0),Ck(ts,ns),Dk(ts,B$1()),rs;if(rs===6)throw Error(p$6(345));return ts.finishedWork=ts.current.alternate,ts.finishedLanes=ns,Pk(ts,tk,uk),Dk(ts,B$1()),null}function Qk(ts,ns){var rs=K$1;K$1|=1;try{return ts(ns)}finally{K$1=rs,K$1===0&&(Gj=B$1()+500,fg&&jg())}}function Rk(ts){wk!==null&&wk.tag===0&&!(K$1&6)&&Hk();var ns=K$1;K$1|=1;var rs=ok$2.transition,is=C$1;try{if(ok$2.transition=null,C$1=1,ts)return ts()}finally{C$1=is,ok$2.transition=rs,K$1=ns,!(K$1&6)&&jg()}}function Hj(){fj=ej.current,E$1(ej)}function Kk(ts,ns){ts.finishedWork=null,ts.finishedLanes=0;var rs=ts.timeoutHandle;if(rs!==-1&&(ts.timeoutHandle=-1,Gf(rs)),Y$1!==null)for(rs=Y$1.return;rs!==null;){var is=rs;switch(wg(is),is.tag){case 1:is=is.type.childContextTypes,is!=null&&$f();break;case 3:zh(),E$1(Wf),E$1(H$1),Eh();break;case 5:Bh(is);break;case 4:zh();break;case 13:E$1(L$1);break;case 19:E$1(L$1);break;case 10:ah(is.type._context);break;case 22:case 23:Hj()}rs=rs.return}if(Q$1=ts,Y$1=ts=Pg(ts.current,null),Z$1=fj=ns,T$1=0,pk=null,rk=qk=rh=0,tk=sk=null,fh!==null){for(ns=0;ns<fh.length;ns++)if(rs=fh[ns],is=rs.interleaved,is!==null){rs.interleaved=null;var os=is.next,ss=rs.pending;if(ss!==null){var as=ss.next;ss.next=os,is.next=as}rs.pending=is}fh=null}return ts}function Mk(ts,ns){do{var rs=Y$1;try{if($g(),Fh.current=Rh,Ih){for(var is=M$1.memoizedState;is!==null;){var os=is.queue;os!==null&&(os.pending=null),is=is.next}Ih=!1}if(Hh=0,O=N$1=M$1=null,Jh=!1,Kh=0,nk.current=null,rs===null||rs.return===null){T$1=1,pk=ns,Y$1=null;break}e:{var ss=ts,as=rs.return,ls=rs,cs=ns;if(ns=Z$1,ls.flags|=32768,cs!==null&&typeof cs=="object"&&typeof cs.then=="function"){var us=cs,ds=ls,ps=ds.tag;if(!(ds.mode&1)&&(ps===0||ps===11||ps===15)){var hs=ds.alternate;hs?(ds.updateQueue=hs.updateQueue,ds.memoizedState=hs.memoizedState,ds.lanes=hs.lanes):(ds.updateQueue=null,ds.memoizedState=null)}var ms=Ui(as);if(ms!==null){ms.flags&=-257,Vi(ms,as,ls,ss,ns),ms.mode&1&&Si(ss,us,ns),ns=ms,cs=us;var gs=ns.updateQueue;if(gs===null){var ys=new Set;ys.add(cs),ns.updateQueue=ys}else gs.add(cs);break e}else{if(!(ns&1)){Si(ss,us,ns),tj();break e}cs=Error(p$6(426))}}else if(I$1&&ls.mode&1){var vs=Ui(as);if(vs!==null){!(vs.flags&65536)&&(vs.flags|=256),Vi(vs,as,ls,ss,ns),Jg(Ji(cs,ls));break e}}ss=cs=Ji(cs,ls),T$1!==4&&(T$1=2),sk===null?sk=[ss]:sk.push(ss),ss=as;do{switch(ss.tag){case 3:ss.flags|=65536,ns&=-ns,ss.lanes|=ns;var bs=Ni(ss,cs,ns);ph(ss,bs);break e;case 1:ls=cs;var Ss=ss.type,$s=ss.stateNode;if(!(ss.flags&128)&&(typeof Ss.getDerivedStateFromError=="function"||$s!==null&&typeof $s.componentDidCatch=="function"&&(Ri===null||!Ri.has($s)))){ss.flags|=65536,ns&=-ns,ss.lanes|=ns;var Cs=Qi(ss,ls,ns);ph(ss,Cs);break e}}ss=ss.return}while(ss!==null)}Sk(rs)}catch(Es){ns=Es,Y$1===rs&&rs!==null&&(Y$1=rs=rs.return);continue}break}while(1)}function Jk(){var ts=mk.current;return mk.current=Rh,ts===null?Rh:ts}function tj(){(T$1===0||T$1===3||T$1===2)&&(T$1=4),Q$1===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q$1,Z$1)}function Ik(ts,ns){var rs=K$1;K$1|=2;var is=Jk();(Q$1!==ts||Z$1!==ns)&&(uk=null,Kk(ts,ns));do try{Tk();break}catch(os){Mk(ts,os)}while(1);if($g(),K$1=rs,mk.current=is,Y$1!==null)throw Error(p$6(261));return Q$1=null,Z$1=0,T$1}function Tk(){for(;Y$1!==null;)Uk(Y$1)}function Lk(){for(;Y$1!==null&&!cc();)Uk(Y$1)}function Uk(ts){var ns=Vk(ts.alternate,ts,fj);ts.memoizedProps=ts.pendingProps,ns===null?Sk(ts):Y$1=ns,nk.current=null}function Sk(ts){var ns=ts;do{var rs=ns.alternate;if(ts=ns.return,ns.flags&32768){if(rs=Ij(rs,ns),rs!==null){rs.flags&=32767,Y$1=rs;return}if(ts!==null)ts.flags|=32768,ts.subtreeFlags=0,ts.deletions=null;else{T$1=6,Y$1=null;return}}else if(rs=Ej(rs,ns,fj),rs!==null){Y$1=rs;return}if(ns=ns.sibling,ns!==null){Y$1=ns;return}Y$1=ns=ts}while(ns!==null);T$1===0&&(T$1=5)}function Pk(ts,ns,rs){var is=C$1,os=ok$2.transition;try{ok$2.transition=null,C$1=1,Wk(ts,ns,rs,is)}finally{ok$2.transition=os,C$1=is}return null}function Wk(ts,ns,rs,is){do Hk();while(wk!==null);if(K$1&6)throw Error(p$6(327));rs=ts.finishedWork;var os=ts.finishedLanes;if(rs===null)return null;if(ts.finishedWork=null,ts.finishedLanes=0,rs===ts.current)throw Error(p$6(177));ts.callbackNode=null,ts.callbackPriority=0;var ss=rs.lanes|rs.childLanes;if(Bc(ts,ss),ts===Q$1&&(Y$1=Q$1=null,Z$1=0),!(rs.subtreeFlags&2064)&&!(rs.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),ss=(rs.flags&15990)!==0,rs.subtreeFlags&15990||ss){ss=ok$2.transition,ok$2.transition=null;var as=C$1;C$1=1;var ls=K$1;K$1|=4,nk.current=null,Oj(ts,rs),dk(rs,ts),Oe$1(Df),dd=!!Cf,Df=Cf=null,ts.current=rs,hk(rs),dc(),K$1=ls,C$1=as,ok$2.transition=ss}else ts.current=rs;if(vk&&(vk=!1,wk=ts,xk=os),ss=ts.pendingLanes,ss===0&&(Ri=null),mc(rs.stateNode),Dk(ts,B$1()),ns!==null)for(is=ts.onRecoverableError,rs=0;rs<ns.length;rs++)os=ns[rs],is(os.value,{componentStack:os.stack,digest:os.digest});if(Oi)throw Oi=!1,ts=Pi,Pi=null,ts;return xk&1&&ts.tag!==0&&Hk(),ss=ts.pendingLanes,ss&1?ts===zk?yk++:(yk=0,zk=ts):yk=0,jg(),null}function Hk(){if(wk!==null){var ts=Dc(xk),ns=ok$2.transition,rs=C$1;try{if(ok$2.transition=null,C$1=16>ts?16:ts,wk===null)var is=!1;else{if(ts=wk,wk=null,xk=0,K$1&6)throw Error(p$6(331));var os=K$1;for(K$1|=4,V$1=ts.current;V$1!==null;){var ss=V$1,as=ss.child;if(V$1.flags&16){var ls=ss.deletions;if(ls!==null){for(var cs=0;cs<ls.length;cs++){var us=ls[cs];for(V$1=us;V$1!==null;){var ds=V$1;switch(ds.tag){case 0:case 11:case 15:Pj(8,ds,ss)}var ps=ds.child;if(ps!==null)ps.return=ds,V$1=ps;else for(;V$1!==null;){ds=V$1;var hs=ds.sibling,ms=ds.return;if(Sj(ds),ds===us){V$1=null;break}if(hs!==null){hs.return=ms,V$1=hs;break}V$1=ms}}}var gs=ss.alternate;if(gs!==null){var ys=gs.child;if(ys!==null){gs.child=null;do{var vs=ys.sibling;ys.sibling=null,ys=vs}while(ys!==null)}}V$1=ss}}if(ss.subtreeFlags&2064&&as!==null)as.return=ss,V$1=as;else e:for(;V$1!==null;){if(ss=V$1,ss.flags&2048)switch(ss.tag){case 0:case 11:case 15:Pj(9,ss,ss.return)}var bs=ss.sibling;if(bs!==null){bs.return=ss.return,V$1=bs;break e}V$1=ss.return}}var Ss=ts.current;for(V$1=Ss;V$1!==null;){as=V$1;var $s=as.child;if(as.subtreeFlags&2064&&$s!==null)$s.return=as,V$1=$s;else e:for(as=Ss;V$1!==null;){if(ls=V$1,ls.flags&2048)try{switch(ls.tag){case 0:case 11:case 15:Qj(9,ls)}}catch(Es){W$1(ls,ls.return,Es)}if(ls===as){V$1=null;break e}var Cs=ls.sibling;if(Cs!==null){Cs.return=ls.return,V$1=Cs;break e}V$1=ls.return}}if(K$1=os,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,ts)}catch{}is=!0}return is}finally{C$1=rs,ok$2.transition=ns}}return!1}function Xk(ts,ns,rs){ns=Ji(rs,ns),ns=Ni(ts,ns,1),ts=nh(ts,ns,1),ns=R(),ts!==null&&(Ac(ts,1,ns),Dk(ts,ns))}function W$1(ts,ns,rs){if(ts.tag===3)Xk(ts,ts,rs);else for(;ns!==null;){if(ns.tag===3){Xk(ns,ts,rs);break}else if(ns.tag===1){var is=ns.stateNode;if(typeof ns.type.getDerivedStateFromError=="function"||typeof is.componentDidCatch=="function"&&(Ri===null||!Ri.has(is))){ts=Ji(rs,ts),ts=Qi(ns,ts,1),ns=nh(ns,ts,1),ts=R(),ns!==null&&(Ac(ns,1,ts),Dk(ns,ts));break}}ns=ns.return}}function Ti(ts,ns,rs){var is=ts.pingCache;is!==null&&is.delete(ns),ns=R(),ts.pingedLanes|=ts.suspendedLanes&rs,Q$1===ts&&(Z$1&rs)===rs&&(T$1===4||T$1===3&&(Z$1&130023424)===Z$1&&500>B$1()-fk?Kk(ts,0):rk|=rs),Dk(ts,ns)}function Yk(ts,ns){ns===0&&(ts.mode&1?(ns=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):ns=1);var rs=R();ts=ih(ts,ns),ts!==null&&(Ac(ts,ns,rs),Dk(ts,rs))}function uj(ts){var ns=ts.memoizedState,rs=0;ns!==null&&(rs=ns.retryLane),Yk(ts,rs)}function bk(ts,ns){var rs=0;switch(ts.tag){case 13:var is=ts.stateNode,os=ts.memoizedState;os!==null&&(rs=os.retryLane);break;case 19:is=ts.stateNode;break;default:throw Error(p$6(314))}is!==null&&is.delete(ns),Yk(ts,rs)}var Vk;Vk=function(ts,ns,rs){if(ts!==null)if(ts.memoizedProps!==ns.pendingProps||Wf.current)dh=!0;else{if(!(ts.lanes&rs)&&!(ns.flags&128))return dh=!1,yj(ts,ns,rs);dh=!!(ts.flags&131072)}else dh=!1,I$1&&ns.flags&1048576&&ug(ns,ng,ns.index);switch(ns.lanes=0,ns.tag){case 2:var is=ns.type;ij(ts,ns),ts=ns.pendingProps;var os=Yf(ns,H$1.current);ch(ns,rs),os=Nh(null,ns,is,ts,os,rs);var ss=Sh();return ns.flags|=1,typeof os=="object"&&os!==null&&typeof os.render=="function"&&os.$$typeof===void 0?(ns.tag=1,ns.memoizedState=null,ns.updateQueue=null,Zf(is)?(ss=!0,cg(ns)):ss=!1,ns.memoizedState=os.state!==null&&os.state!==void 0?os.state:null,kh(ns),os.updater=Ei,ns.stateNode=os,os._reactInternals=ns,Ii(ns,is,ts,rs),ns=jj(null,ns,is,!0,ss,rs)):(ns.tag=0,I$1&&ss&&vg(ns),Xi(null,ns,os,rs),ns=ns.child),ns;case 16:is=ns.elementType;e:{switch(ij(ts,ns),ts=ns.pendingProps,os=is._init,is=os(is._payload),ns.type=is,os=ns.tag=Zk(is),ts=Ci(is,ts),os){case 0:ns=cj(null,ns,is,ts,rs);break e;case 1:ns=hj(null,ns,is,ts,rs);break e;case 11:ns=Yi(null,ns,is,ts,rs);break e;case 14:ns=$i(null,ns,is,Ci(is.type,ts),rs);break e}throw Error(p$6(306,is,""))}return ns;case 0:return is=ns.type,os=ns.pendingProps,os=ns.elementType===is?os:Ci(is,os),cj(ts,ns,is,os,rs);case 1:return is=ns.type,os=ns.pendingProps,os=ns.elementType===is?os:Ci(is,os),hj(ts,ns,is,os,rs);case 3:e:{if(kj(ns),ts===null)throw Error(p$6(387));is=ns.pendingProps,ss=ns.memoizedState,os=ss.element,lh(ts,ns),qh(ns,is,null,rs);var as=ns.memoizedState;if(is=as.element,ss.isDehydrated)if(ss={element:is,isDehydrated:!1,cache:as.cache,pendingSuspenseBoundaries:as.pendingSuspenseBoundaries,transitions:as.transitions},ns.updateQueue.baseState=ss,ns.memoizedState=ss,ns.flags&256){os=Ji(Error(p$6(423)),ns),ns=lj(ts,ns,is,rs,os);break e}else if(is!==os){os=Ji(Error(p$6(424)),ns),ns=lj(ts,ns,is,rs,os);break e}else for(yg=Lf(ns.stateNode.containerInfo.firstChild),xg=ns,I$1=!0,zg=null,rs=Vg(ns,null,is,rs),ns.child=rs;rs;)rs.flags=rs.flags&-3|4096,rs=rs.sibling;else{if(Ig(),is===os){ns=Zi(ts,ns,rs);break e}Xi(ts,ns,is,rs)}ns=ns.child}return ns;case 5:return Ah(ns),ts===null&&Eg(ns),is=ns.type,os=ns.pendingProps,ss=ts!==null?ts.memoizedProps:null,as=os.children,Ef(is,os)?as=null:ss!==null&&Ef(is,ss)&&(ns.flags|=32),gj(ts,ns),Xi(ts,ns,as,rs),ns.child;case 6:return ts===null&&Eg(ns),null;case 13:return oj(ts,ns,rs);case 4:return yh(ns,ns.stateNode.containerInfo),is=ns.pendingProps,ts===null?ns.child=Ug(ns,null,is,rs):Xi(ts,ns,is,rs),ns.child;case 11:return is=ns.type,os=ns.pendingProps,os=ns.elementType===is?os:Ci(is,os),Yi(ts,ns,is,os,rs);case 7:return Xi(ts,ns,ns.pendingProps,rs),ns.child;case 8:return Xi(ts,ns,ns.pendingProps.children,rs),ns.child;case 12:return Xi(ts,ns,ns.pendingProps.children,rs),ns.child;case 10:e:{if(is=ns.type._context,os=ns.pendingProps,ss=ns.memoizedProps,as=os.value,G$1(Wg,is._currentValue),is._currentValue=as,ss!==null)if(He$1(ss.value,as)){if(ss.children===os.children&&!Wf.current){ns=Zi(ts,ns,rs);break e}}else for(ss=ns.child,ss!==null&&(ss.return=ns);ss!==null;){var ls=ss.dependencies;if(ls!==null){as=ss.child;for(var cs=ls.firstContext;cs!==null;){if(cs.context===is){if(ss.tag===1){cs=mh(-1,rs&-rs),cs.tag=2;var us=ss.updateQueue;if(us!==null){us=us.shared;var ds=us.pending;ds===null?cs.next=cs:(cs.next=ds.next,ds.next=cs),us.pending=cs}}ss.lanes|=rs,cs=ss.alternate,cs!==null&&(cs.lanes|=rs),bh(ss.return,rs,ns),ls.lanes|=rs;break}cs=cs.next}}else if(ss.tag===10)as=ss.type===ns.type?null:ss.child;else if(ss.tag===18){if(as=ss.return,as===null)throw Error(p$6(341));as.lanes|=rs,ls=as.alternate,ls!==null&&(ls.lanes|=rs),bh(as,rs,ns),as=ss.sibling}else as=ss.child;if(as!==null)as.return=ss;else for(as=ss;as!==null;){if(as===ns){as=null;break}if(ss=as.sibling,ss!==null){ss.return=as.return,as=ss;break}as=as.return}ss=as}Xi(ts,ns,os.children,rs),ns=ns.child}return ns;case 9:return os=ns.type,is=ns.pendingProps.children,ch(ns,rs),os=eh(os),is=is(os),ns.flags|=1,Xi(ts,ns,is,rs),ns.child;case 14:return is=ns.type,os=Ci(is,ns.pendingProps),os=Ci(is.type,os),$i(ts,ns,is,os,rs);case 15:return bj(ts,ns,ns.type,ns.pendingProps,rs);case 17:return is=ns.type,os=ns.pendingProps,os=ns.elementType===is?os:Ci(is,os),ij(ts,ns),ns.tag=1,Zf(is)?(ts=!0,cg(ns)):ts=!1,ch(ns,rs),Gi(ns,is,os),Ii(ns,is,os,rs),jj(null,ns,is,!0,ts,rs);case 19:return xj(ts,ns,rs);case 22:return dj(ts,ns,rs)}throw Error(p$6(156,ns.tag))};function Fk(ts,ns){return ac(ts,ns)}function $k(ts,ns,rs,is){this.tag=ts,this.key=rs,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=ns,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=is,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(ts,ns,rs,is){return new $k(ts,ns,rs,is)}function aj(ts){return ts=ts.prototype,!(!ts||!ts.isReactComponent)}function Zk(ts){if(typeof ts=="function")return aj(ts)?1:0;if(ts!=null){if(ts=ts.$$typeof,ts===Da)return 11;if(ts===Ga)return 14}return 2}function Pg(ts,ns){var rs=ts.alternate;return rs===null?(rs=Bg(ts.tag,ns,ts.key,ts.mode),rs.elementType=ts.elementType,rs.type=ts.type,rs.stateNode=ts.stateNode,rs.alternate=ts,ts.alternate=rs):(rs.pendingProps=ns,rs.type=ts.type,rs.flags=0,rs.subtreeFlags=0,rs.deletions=null),rs.flags=ts.flags&14680064,rs.childLanes=ts.childLanes,rs.lanes=ts.lanes,rs.child=ts.child,rs.memoizedProps=ts.memoizedProps,rs.memoizedState=ts.memoizedState,rs.updateQueue=ts.updateQueue,ns=ts.dependencies,rs.dependencies=ns===null?null:{lanes:ns.lanes,firstContext:ns.firstContext},rs.sibling=ts.sibling,rs.index=ts.index,rs.ref=ts.ref,rs}function Rg(ts,ns,rs,is,os,ss){var as=2;if(is=ts,typeof ts=="function")aj(ts)&&(as=1);else if(typeof ts=="string")as=5;else e:switch(ts){case ya:return Tg(rs.children,os,ss,ns);case za:as=8,os|=8;break;case Aa:return ts=Bg(12,rs,ns,os|2),ts.elementType=Aa,ts.lanes=ss,ts;case Ea:return ts=Bg(13,rs,ns,os),ts.elementType=Ea,ts.lanes=ss,ts;case Fa:return ts=Bg(19,rs,ns,os),ts.elementType=Fa,ts.lanes=ss,ts;case Ia:return pj(rs,os,ss,ns);default:if(typeof ts=="object"&&ts!==null)switch(ts.$$typeof){case Ba:as=10;break e;case Ca:as=9;break e;case Da:as=11;break e;case Ga:as=14;break e;case Ha:as=16,is=null;break e}throw Error(p$6(130,ts==null?ts:typeof ts,""))}return ns=Bg(as,rs,ns,os),ns.elementType=ts,ns.type=is,ns.lanes=ss,ns}function Tg(ts,ns,rs,is){return ts=Bg(7,ts,is,ns),ts.lanes=rs,ts}function pj(ts,ns,rs,is){return ts=Bg(22,ts,is,ns),ts.elementType=Ia,ts.lanes=rs,ts.stateNode={isHidden:!1},ts}function Qg(ts,ns,rs){return ts=Bg(6,ts,null,ns),ts.lanes=rs,ts}function Sg(ts,ns,rs){return ns=Bg(4,ts.children!==null?ts.children:[],ts.key,ns),ns.lanes=rs,ns.stateNode={containerInfo:ts.containerInfo,pendingChildren:null,implementation:ts.implementation},ns}function al(ts,ns,rs,is,os){this.tag=ns,this.containerInfo=ts,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=is,this.onRecoverableError=os,this.mutableSourceEagerHydrationData=null}function bl(ts,ns,rs,is,os,ss,as,ls,cs){return ts=new al(ts,ns,rs,ls,cs),ns===1?(ns=1,ss===!0&&(ns|=8)):ns=0,ss=Bg(3,null,null,ns),ts.current=ss,ss.stateNode=ts,ss.memoizedState={element:is,isDehydrated:rs,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(ss),ts}function cl(ts,ns,rs){var is=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:is==null?null:""+is,children:ts,containerInfo:ns,implementation:rs}}function dl(ts){if(!ts)return Vf;ts=ts._reactInternals;e:{if(Vb(ts)!==ts||ts.tag!==1)throw Error(p$6(170));var ns=ts;do{switch(ns.tag){case 3:ns=ns.stateNode.context;break e;case 1:if(Zf(ns.type)){ns=ns.stateNode.__reactInternalMemoizedMergedChildContext;break e}}ns=ns.return}while(ns!==null);throw Error(p$6(171))}if(ts.tag===1){var rs=ts.type;if(Zf(rs))return bg(ts,rs,ns)}return ns}function el(ts,ns,rs,is,os,ss,as,ls,cs){return ts=bl(rs,is,!0,ts,os,ss,as,ls,cs),ts.context=dl(null),rs=ts.current,is=R(),os=yi(rs),ss=mh(is,os),ss.callback=ns!=null?ns:null,nh(rs,ss,os),ts.current.lanes=os,Ac(ts,os,is),Dk(ts,is),ts}function fl(ts,ns,rs,is){var os=ns.current,ss=R(),as=yi(os);return rs=dl(rs),ns.context===null?ns.context=rs:ns.pendingContext=rs,ns=mh(ss,as),ns.payload={element:ts},is=is===void 0?null:is,is!==null&&(ns.callback=is),ts=nh(os,ns,as),ts!==null&&(gi(ts,os,as,ss),oh(ts,os,as)),as}function gl(ts){if(ts=ts.current,!ts.child)return null;switch(ts.child.tag){case 5:return ts.child.stateNode;default:return ts.child.stateNode}}function hl(ts,ns){if(ts=ts.memoizedState,ts!==null&&ts.dehydrated!==null){var rs=ts.retryLane;ts.retryLane=rs!==0&&rs<ns?rs:ns}}function il(ts,ns){hl(ts,ns),(ts=ts.alternate)&&hl(ts,ns)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(ts){console.error(ts)};function ll(ts){this._internalRoot=ts}ml.prototype.render=ll.prototype.render=function(ts){var ns=this._internalRoot;if(ns===null)throw Error(p$6(409));fl(ts,ns,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var ts=this._internalRoot;if(ts!==null){this._internalRoot=null;var ns=ts.containerInfo;Rk(function(){fl(null,ts,null,null)}),ns[uf]=null}};function ml(ts){this._internalRoot=ts}ml.prototype.unstable_scheduleHydration=function(ts){if(ts){var ns=Hc();ts={blockedOn:null,target:ts,priority:ns};for(var rs=0;rs<Qc.length&&ns!==0&&ns<Qc[rs].priority;rs++);Qc.splice(rs,0,ts),rs===0&&Vc(ts)}};function nl(ts){return!(!ts||ts.nodeType!==1&&ts.nodeType!==9&&ts.nodeType!==11)}function ol(ts){return!(!ts||ts.nodeType!==1&&ts.nodeType!==9&&ts.nodeType!==11&&(ts.nodeType!==8||ts.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(ts,ns,rs,is,os){if(os){if(typeof is=="function"){var ss=is;is=function(){var us=gl(as);ss.call(us)}}var as=el(ns,is,ts,0,null,!1,!1,"",pl);return ts._reactRootContainer=as,ts[uf]=as.current,sf(ts.nodeType===8?ts.parentNode:ts),Rk(),as}for(;os=ts.lastChild;)ts.removeChild(os);if(typeof is=="function"){var ls=is;is=function(){var us=gl(cs);ls.call(us)}}var cs=bl(ts,0,!1,null,null,!1,!1,"",pl);return ts._reactRootContainer=cs,ts[uf]=cs.current,sf(ts.nodeType===8?ts.parentNode:ts),Rk(function(){fl(ns,cs,rs,is)}),cs}function rl(ts,ns,rs,is,os){var ss=rs._reactRootContainer;if(ss){var as=ss;if(typeof os=="function"){var ls=os;os=function(){var cs=gl(as);ls.call(cs)}}fl(ns,as,ts,os)}else as=ql(rs,ns,ts,os,is);return gl(as)}Ec=function(ts){switch(ts.tag){case 3:var ns=ts.stateNode;if(ns.current.memoizedState.isDehydrated){var rs=tc(ns.pendingLanes);rs!==0&&(Cc(ns,rs|1),Dk(ns,B$1()),!(K$1&6)&&(Gj=B$1()+500,jg()))}break;case 13:Rk(function(){var is=ih(ts,1);if(is!==null){var os=R();gi(is,ts,1,os)}}),il(ts,1)}};Fc=function(ts){if(ts.tag===13){var ns=ih(ts,134217728);if(ns!==null){var rs=R();gi(ns,ts,134217728,rs)}il(ts,134217728)}};Gc=function(ts){if(ts.tag===13){var ns=yi(ts),rs=ih(ts,ns);if(rs!==null){var is=R();gi(rs,ts,ns,is)}il(ts,ns)}};Hc=function(){return C$1};Ic=function(ts,ns){var rs=C$1;try{return C$1=ts,ns()}finally{C$1=rs}};yb=function(ts,ns,rs){switch(ns){case"input":if(bb(ts,rs),ns=rs.name,rs.type==="radio"&&ns!=null){for(rs=ts;rs.parentNode;)rs=rs.parentNode;for(rs=rs.querySelectorAll("input[name="+JSON.stringify(""+ns)+'][type="radio"]'),ns=0;ns<rs.length;ns++){var is=rs[ns];if(is!==ts&&is.form===ts.form){var os=Db(is);if(!os)throw Error(p$6(90));Wa(is),bb(is,os)}}}break;case"textarea":ib(ts,rs);break;case"select":ns=rs.value,ns!=null&&fb(ts,!!rs.multiple,ns,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(ts){return ts=Zb(ts),ts===null?null:ts.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function(ts,ns){var rs=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl(ns))throw Error(p$6(200));return cl(ts,ns,null,rs)};reactDom_production_min.createRoot=function(ts,ns){if(!nl(ts))throw Error(p$6(299));var rs=!1,is="",os=kl;return ns!=null&&(ns.unstable_strictMode===!0&&(rs=!0),ns.identifierPrefix!==void 0&&(is=ns.identifierPrefix),ns.onRecoverableError!==void 0&&(os=ns.onRecoverableError)),ns=bl(ts,1,!1,null,null,rs,!1,is,os),ts[uf]=ns.current,sf(ts.nodeType===8?ts.parentNode:ts),new ll(ns)};reactDom_production_min.findDOMNode=function(ts){if(ts==null)return null;if(ts.nodeType===1)return ts;var ns=ts._reactInternals;if(ns===void 0)throw typeof ts.render=="function"?Error(p$6(188)):(ts=Object.keys(ts).join(","),Error(p$6(268,ts)));return ts=Zb(ns),ts=ts===null?null:ts.stateNode,ts};reactDom_production_min.flushSync=function(ts){return Rk(ts)};reactDom_production_min.hydrate=function(ts,ns,rs){if(!ol(ns))throw Error(p$6(200));return rl(null,ts,ns,!0,rs)};reactDom_production_min.hydrateRoot=function(ts,ns,rs){if(!nl(ts))throw Error(p$6(405));var is=rs!=null&&rs.hydratedSources||null,os=!1,ss="",as=kl;if(rs!=null&&(rs.unstable_strictMode===!0&&(os=!0),rs.identifierPrefix!==void 0&&(ss=rs.identifierPrefix),rs.onRecoverableError!==void 0&&(as=rs.onRecoverableError)),ns=el(ns,null,ts,1,rs!=null?rs:null,os,!1,ss,as),ts[uf]=ns.current,sf(ts),is)for(ts=0;ts<is.length;ts++)rs=is[ts],os=rs._getVersion,os=os(rs._source),ns.mutableSourceEagerHydrationData==null?ns.mutableSourceEagerHydrationData=[rs,os]:ns.mutableSourceEagerHydrationData.push(rs,os);return new ml(ns)};reactDom_production_min.render=function(ts,ns,rs){if(!ol(ns))throw Error(p$6(200));return rl(null,ts,ns,!1,rs)};reactDom_production_min.unmountComponentAtNode=function(ts){if(!ol(ts))throw Error(p$6(40));return ts._reactRootContainer?(Rk(function(){rl(null,null,ts,!1,function(){ts._reactRootContainer=null,ts[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(ts,ns,rs,is){if(!ol(rs))throw Error(p$6(200));if(ts==null||ts._reactInternals===void 0)throw Error(p$6(38));return rl(ts,ns,rs,!1,is)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(ts){console.error(ts)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports;const ReactDOM__default=getDefaultExportFromCjs(reactDomExports);var m$5=reactDomExports;client$4.createRoot=m$5.createRoot,client$4.hydrateRoot=m$5.hydrateRoot;const main$4="";function _setPrototypeOf(ts,ns){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(rs,is){return rs.__proto__=is,rs},_setPrototypeOf(ts,ns)}function _inheritsLoose(ts,ns){ts.prototype=Object.create(ns.prototype),ts.prototype.constructor=ts,_setPrototypeOf(ts,ns)}var Subscribable=function(){function ts(){this.listeners=[]}var ns=ts.prototype;return ns.subscribe=function(is){var os=this,ss=is||function(){};return this.listeners.push(ss),this.onSubscribe(),function(){os.listeners=os.listeners.filter(function(as){return as!==ss}),os.onUnsubscribe()}},ns.hasListeners=function(){return this.listeners.length>0},ns.onSubscribe=function(){},ns.onUnsubscribe=function(){},ts}();function _extends$a(){return _extends$a=Object.assign?Object.assign.bind():function(ts){for(var ns=1;ns<arguments.length;ns++){var rs=arguments[ns];for(var is in rs)({}).hasOwnProperty.call(rs,is)&&(ts[is]=rs[is])}return ts},_extends$a.apply(null,arguments)}var isServer=typeof window>"u";function noop$4(){}function functionalUpdate(ts,ns){return typeof ts=="function"?ts(ns):ts}function isValidTimeout(ts){return typeof ts=="number"&&ts>=0&&ts!==1/0}function ensureQueryKeyArray(ts){return Array.isArray(ts)?ts:[ts]}function timeUntilStale(ts,ns){return Math.max(ts+(ns||0)-Date.now(),0)}function parseQueryArgs(ts,ns,rs){return isQueryKey(ts)?typeof ns=="function"?_extends$a({},rs,{queryKey:ts,queryFn:ns}):_extends$a({},ns,{queryKey:ts}):ts}function parseMutationArgs(ts,ns,rs){return isQueryKey(ts)?typeof ns=="function"?_extends$a({},rs,{mutationKey:ts,mutationFn:ns}):_extends$a({},ns,{mutationKey:ts}):typeof ts=="function"?_extends$a({},ns,{mutationFn:ts}):_extends$a({},ts)}function parseFilterArgs(ts,ns,rs){return isQueryKey(ts)?[_extends$a({},ns,{queryKey:ts}),rs]:[ts||{},ns]}function mapQueryStatusFilter(ts,ns){if(ts===!0&&ns===!0||ts==null&&ns==null)return"all";if(ts===!1&&ns===!1)return"none";var rs=ts!=null?ts:!ns;return rs?"active":"inactive"}function matchQuery(ts,ns){var rs=ts.active,is=ts.exact,os=ts.fetching,ss=ts.inactive,as=ts.predicate,ls=ts.queryKey,cs=ts.stale;if(isQueryKey(ls)){if(is){if(ns.queryHash!==hashQueryKeyByOptions(ls,ns.options))return!1}else if(!partialMatchKey(ns.queryKey,ls))return!1}var us=mapQueryStatusFilter(rs,ss);if(us==="none")return!1;if(us!=="all"){var ds=ns.isActive();if(us==="active"&&!ds||us==="inactive"&&ds)return!1}return!(typeof cs=="boolean"&&ns.isStale()!==cs||typeof os=="boolean"&&ns.isFetching()!==os||as&&!as(ns))}function matchMutation(ts,ns){var rs=ts.exact,is=ts.fetching,os=ts.predicate,ss=ts.mutationKey;if(isQueryKey(ss)){if(!ns.options.mutationKey)return!1;if(rs){if(hashQueryKey(ns.options.mutationKey)!==hashQueryKey(ss))return!1}else if(!partialMatchKey(ns.options.mutationKey,ss))return!1}return!(typeof is=="boolean"&&ns.state.status==="loading"!==is||os&&!os(ns))}function hashQueryKeyByOptions(ts,ns){var rs=(ns==null?void 0:ns.queryKeyHashFn)||hashQueryKey;return rs(ts)}function hashQueryKey(ts){var ns=ensureQueryKeyArray(ts);return stableValueHash(ns)}function stableValueHash(ts){return JSON.stringify(ts,function(ns,rs){return isPlainObject$6(rs)?Object.keys(rs).sort().reduce(function(is,os){return is[os]=rs[os],is},{}):rs})}function partialMatchKey(ts,ns){return partialDeepEqual(ensureQueryKeyArray(ts),ensureQueryKeyArray(ns))}function partialDeepEqual(ts,ns){return ts===ns?!0:typeof ts!=typeof ns?!1:ts&&ns&&typeof ts=="object"&&typeof ns=="object"?!Object.keys(ns).some(function(rs){return!partialDeepEqual(ts[rs],ns[rs])}):!1}function replaceEqualDeep(ts,ns){if(ts===ns)return ts;var rs=Array.isArray(ts)&&Array.isArray(ns);if(rs||isPlainObject$6(ts)&&isPlainObject$6(ns)){for(var is=rs?ts.length:Object.keys(ts).length,os=rs?ns:Object.keys(ns),ss=os.length,as=rs?[]:{},ls=0,cs=0;cs<ss;cs++){var us=rs?cs:os[cs];as[us]=replaceEqualDeep(ts[us],ns[us]),as[us]===ts[us]&&ls++}return is===ss&&ls===is?ts:as}return ns}function shallowEqualObjects(ts,ns){if(ts&&!ns||ns&&!ts)return!1;for(var rs in ts)if(ts[rs]!==ns[rs])return!1;return!0}function isPlainObject$6(ts){if(!hasObjectPrototype(ts))return!1;var ns=ts.constructor;if(typeof ns>"u")return!0;var rs=ns.prototype;return!(!hasObjectPrototype(rs)||!rs.hasOwnProperty("isPrototypeOf"))}function hasObjectPrototype(ts){return Object.prototype.toString.call(ts)==="[object Object]"}function isQueryKey(ts){return typeof ts=="string"||Array.isArray(ts)}function sleep(ts){return new Promise(function(ns){setTimeout(ns,ts)})}function scheduleMicrotask(ts){Promise.resolve().then(ts).catch(function(ns){return setTimeout(function(){throw ns})})}function getAbortController(){if(typeof AbortController=="function")return new AbortController}var FocusManager=function(ts){_inheritsLoose(ns,ts);function ns(){var is;return is=ts.call(this)||this,is.setup=function(os){var ss;if(!isServer&&((ss=window)!=null&&ss.addEventListener)){var as=function(){return os()};return window.addEventListener("visibilitychange",as,!1),window.addEventListener("focus",as,!1),function(){window.removeEventListener("visibilitychange",as),window.removeEventListener("focus",as)}}},is}var rs=ns.prototype;return rs.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},rs.onUnsubscribe=function(){if(!this.hasListeners()){var os;(os=this.cleanup)==null||os.call(this),this.cleanup=void 0}},rs.setEventListener=function(os){var ss,as=this;this.setup=os,(ss=this.cleanup)==null||ss.call(this),this.cleanup=os(function(ls){typeof ls=="boolean"?as.setFocused(ls):as.onFocus()})},rs.setFocused=function(os){this.focused=os,os&&this.onFocus()},rs.onFocus=function(){this.listeners.forEach(function(os){os()})},rs.isFocused=function(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)},ns}(Subscribable),focusManager=new FocusManager,OnlineManager=function(ts){_inheritsLoose(ns,ts);function ns(){var is;return is=ts.call(this)||this,is.setup=function(os){var ss;if(!isServer&&((ss=window)!=null&&ss.addEventListener)){var as=function(){return os()};return window.addEventListener("online",as,!1),window.addEventListener("offline",as,!1),function(){window.removeEventListener("online",as),window.removeEventListener("offline",as)}}},is}var rs=ns.prototype;return rs.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},rs.onUnsubscribe=function(){if(!this.hasListeners()){var os;(os=this.cleanup)==null||os.call(this),this.cleanup=void 0}},rs.setEventListener=function(os){var ss,as=this;this.setup=os,(ss=this.cleanup)==null||ss.call(this),this.cleanup=os(function(ls){typeof ls=="boolean"?as.setOnline(ls):as.onOnline()})},rs.setOnline=function(os){this.online=os,os&&this.onOnline()},rs.onOnline=function(){this.listeners.forEach(function(os){os()})},rs.isOnline=function(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine},ns}(Subscribable),onlineManager=new OnlineManager;function defaultRetryDelay(ts){return Math.min(1e3*Math.pow(2,ts),3e4)}function isCancelable(ts){return typeof(ts==null?void 0:ts.cancel)=="function"}var CancelledError=function(ns){this.revert=ns==null?void 0:ns.revert,this.silent=ns==null?void 0:ns.silent};function isCancelledError(ts){return ts instanceof CancelledError}var Retryer=function(ns){var rs=this,is=!1,os,ss,as,ls;this.abort=ns.abort,this.cancel=function(hs){return os==null?void 0:os(hs)},this.cancelRetry=function(){is=!0},this.continueRetry=function(){is=!1},this.continue=function(){return ss==null?void 0:ss()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise(function(hs,ms){as=hs,ls=ms});var cs=function(ms){rs.isResolved||(rs.isResolved=!0,ns.onSuccess==null||ns.onSuccess(ms),ss==null||ss(),as(ms))},us=function(ms){rs.isResolved||(rs.isResolved=!0,ns.onError==null||ns.onError(ms),ss==null||ss(),ls(ms))},ds=function(){return new Promise(function(ms){ss=ms,rs.isPaused=!0,ns.onPause==null||ns.onPause()}).then(function(){ss=void 0,rs.isPaused=!1,ns.onContinue==null||ns.onContinue()})},ps=function hs(){if(!rs.isResolved){var ms;try{ms=ns.fn()}catch(gs){ms=Promise.reject(gs)}os=function(ys){if(!rs.isResolved&&(us(new CancelledError(ys)),rs.abort==null||rs.abort(),isCancelable(ms)))try{ms.cancel()}catch{}},rs.isTransportCancelable=isCancelable(ms),Promise.resolve(ms).then(cs).catch(function(gs){var ys,vs;if(!rs.isResolved){var bs=(ys=ns.retry)!=null?ys:3,Ss=(vs=ns.retryDelay)!=null?vs:defaultRetryDelay,$s=typeof Ss=="function"?Ss(rs.failureCount,gs):Ss,Cs=bs===!0||typeof bs=="number"&&rs.failureCount<bs||typeof bs=="function"&&bs(rs.failureCount,gs);if(is||!Cs){us(gs);return}rs.failureCount++,ns.onFail==null||ns.onFail(rs.failureCount,gs),sleep($s).then(function(){if(!focusManager.isFocused()||!onlineManager.isOnline())return ds()}).then(function(){is?us(gs):hs()})}})}};ps()},NotifyManager=function(){function ts(){this.queue=[],this.transactions=0,this.notifyFn=function(rs){rs()},this.batchNotifyFn=function(rs){rs()}}var ns=ts.prototype;return ns.batch=function(is){var os;this.transactions++;try{os=is()}finally{this.transactions--,this.transactions||this.flush()}return os},ns.schedule=function(is){var os=this;this.transactions?this.queue.push(is):scheduleMicrotask(function(){os.notifyFn(is)})},ns.batchCalls=function(is){var os=this;return function(){for(var ss=arguments.length,as=new Array(ss),ls=0;ls<ss;ls++)as[ls]=arguments[ls];os.schedule(function(){is.apply(void 0,as)})}},ns.flush=function(){var is=this,os=this.queue;this.queue=[],os.length&&scheduleMicrotask(function(){is.batchNotifyFn(function(){os.forEach(function(ss){is.notifyFn(ss)})})})},ns.setNotifyFunction=function(is){this.notifyFn=is},ns.setBatchNotifyFunction=function(is){this.batchNotifyFn=is},ts}(),notifyManager=new NotifyManager,logger$7=console;function getLogger(){return logger$7}function setLogger(ts){logger$7=ts}var Query=function(){function ts(rs){this.abortSignalConsumed=!1,this.hadObservers=!1,this.defaultOptions=rs.defaultOptions,this.setOptions(rs.options),this.observers=[],this.cache=rs.cache,this.queryKey=rs.queryKey,this.queryHash=rs.queryHash,this.initialState=rs.state||this.getDefaultState(this.options),this.state=this.initialState,this.meta=rs.meta,this.scheduleGc()}var ns=ts.prototype;return ns.setOptions=function(is){var os;this.options=_extends$a({},this.defaultOptions,is),this.meta=is==null?void 0:is.meta,this.cacheTime=Math.max(this.cacheTime||0,(os=this.options.cacheTime)!=null?os:5*60*1e3)},ns.setDefaultOptions=function(is){this.defaultOptions=is},ns.scheduleGc=function(){var is=this;this.clearGcTimeout(),isValidTimeout(this.cacheTime)&&(this.gcTimeout=setTimeout(function(){is.optionalRemove()},this.cacheTime))},ns.clearGcTimeout=function(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)},ns.optionalRemove=function(){this.observers.length||(this.state.isFetching?this.hadObservers&&this.scheduleGc():this.cache.remove(this))},ns.setData=function(is,os){var ss,as,ls=this.state.data,cs=functionalUpdate(is,ls);return(ss=(as=this.options).isDataEqual)!=null&&ss.call(as,ls,cs)?cs=ls:this.options.structuralSharing!==!1&&(cs=replaceEqualDeep(ls,cs)),this.dispatch({data:cs,type:"success",dataUpdatedAt:os==null?void 0:os.updatedAt}),cs},ns.setState=function(is,os){this.dispatch({type:"setState",state:is,setStateOptions:os})},ns.cancel=function(is){var os,ss=this.promise;return(os=this.retryer)==null||os.cancel(is),ss?ss.then(noop$4).catch(noop$4):Promise.resolve()},ns.destroy=function(){this.clearGcTimeout(),this.cancel({silent:!0})},ns.reset=function(){this.destroy(),this.setState(this.initialState)},ns.isActive=function(){return this.observers.some(function(is){return is.options.enabled!==!1})},ns.isFetching=function(){return this.state.isFetching},ns.isStale=function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(function(is){return is.getCurrentResult().isStale})},ns.isStaleByTime=function(is){return is===void 0&&(is=0),this.state.isInvalidated||!this.state.dataUpdatedAt||!timeUntilStale(this.state.dataUpdatedAt,is)},ns.onFocus=function(){var is,os=this.observers.find(function(ss){return ss.shouldFetchOnWindowFocus()});os&&os.refetch(),(is=this.retryer)==null||is.continue()},ns.onOnline=function(){var is,os=this.observers.find(function(ss){return ss.shouldFetchOnReconnect()});os&&os.refetch(),(is=this.retryer)==null||is.continue()},ns.addObserver=function(is){this.observers.indexOf(is)===-1&&(this.observers.push(is),this.hadObservers=!0,this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:is}))},ns.removeObserver=function(is){this.observers.indexOf(is)!==-1&&(this.observers=this.observers.filter(function(os){return os!==is}),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable||this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:is}))},ns.getObserversCount=function(){return this.observers.length},ns.invalidate=function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})},ns.fetch=function(is,os){var ss=this,as,ls,cs;if(this.state.isFetching){if(this.state.dataUpdatedAt&&(os!=null&&os.cancelRefetch))this.cancel({silent:!0});else if(this.promise){var us;return(us=this.retryer)==null||us.continueRetry(),this.promise}}if(is&&this.setOptions(is),!this.options.queryFn){var ds=this.observers.find(function(Ss){return Ss.options.queryFn});ds&&this.setOptions(ds.options)}var ps=ensureQueryKeyArray(this.queryKey),hs=getAbortController(),ms={queryKey:ps,pageParam:void 0,meta:this.meta};Object.defineProperty(ms,"signal",{enumerable:!0,get:function(){if(hs)return ss.abortSignalConsumed=!0,hs.signal}});var gs=function(){return ss.options.queryFn?(ss.abortSignalConsumed=!1,ss.options.queryFn(ms)):Promise.reject("Missing queryFn")},ys={fetchOptions:os,options:this.options,queryKey:ps,state:this.state,fetchFn:gs,meta:this.meta};if((as=this.options.behavior)!=null&&as.onFetch){var vs;(vs=this.options.behavior)==null||vs.onFetch(ys)}if(this.revertState=this.state,!this.state.isFetching||this.state.fetchMeta!==((ls=ys.fetchOptions)==null?void 0:ls.meta)){var bs;this.dispatch({type:"fetch",meta:(bs=ys.fetchOptions)==null?void 0:bs.meta})}return this.retryer=new Retryer({fn:ys.fetchFn,abort:hs==null||(cs=hs.abort)==null?void 0:cs.bind(hs),onSuccess:function($s){ss.setData($s),ss.cache.config.onSuccess==null||ss.cache.config.onSuccess($s,ss),ss.cacheTime===0&&ss.optionalRemove()},onError:function($s){isCancelledError($s)&&$s.silent||ss.dispatch({type:"error",error:$s}),isCancelledError($s)||(ss.cache.config.onError==null||ss.cache.config.onError($s,ss),getLogger().error($s)),ss.cacheTime===0&&ss.optionalRemove()},onFail:function(){ss.dispatch({type:"failed"})},onPause:function(){ss.dispatch({type:"pause"})},onContinue:function(){ss.dispatch({type:"continue"})},retry:ys.options.retry,retryDelay:ys.options.retryDelay}),this.promise=this.retryer.promise,this.promise},ns.dispatch=function(is){var os=this;this.state=this.reducer(this.state,is),notifyManager.batch(function(){os.observers.forEach(function(ss){ss.onQueryUpdate(is)}),os.cache.notify({query:os,type:"queryUpdated",action:is})})},ns.getDefaultState=function(is){var os=typeof is.initialData=="function"?is.initialData():is.initialData,ss=typeof is.initialData<"u",as=ss?typeof is.initialDataUpdatedAt=="function"?is.initialDataUpdatedAt():is.initialDataUpdatedAt:0,ls=typeof os<"u";return{data:os,dataUpdateCount:0,dataUpdatedAt:ls?as!=null?as:Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:ls?"success":"idle"}},ns.reducer=function(is,os){var ss,as;switch(os.type){case"failed":return _extends$a({},is,{fetchFailureCount:is.fetchFailureCount+1});case"pause":return _extends$a({},is,{isPaused:!0});case"continue":return _extends$a({},is,{isPaused:!1});case"fetch":return _extends$a({},is,{fetchFailureCount:0,fetchMeta:(ss=os.meta)!=null?ss:null,isFetching:!0,isPaused:!1},!is.dataUpdatedAt&&{error:null,status:"loading"});case"success":return _extends$a({},is,{data:os.data,dataUpdateCount:is.dataUpdateCount+1,dataUpdatedAt:(as=os.dataUpdatedAt)!=null?as:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":var ls=os.error;return isCancelledError(ls)&&ls.revert&&this.revertState?_extends$a({},this.revertState):_extends$a({},is,{error:ls,errorUpdateCount:is.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:is.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return _extends$a({},is,{isInvalidated:!0});case"setState":return _extends$a({},is,os.state);default:return is}},ts}(),QueryCache=function(ts){_inheritsLoose(ns,ts);function ns(is){var os;return os=ts.call(this)||this,os.config=is||{},os.queries=[],os.queriesMap={},os}var rs=ns.prototype;return rs.build=function(os,ss,as){var ls,cs=ss.queryKey,us=(ls=ss.queryHash)!=null?ls:hashQueryKeyByOptions(cs,ss),ds=this.get(us);return ds||(ds=new Query({cache:this,queryKey:cs,queryHash:us,options:os.defaultQueryOptions(ss),state:as,defaultOptions:os.getQueryDefaults(cs),meta:ss.meta}),this.add(ds)),ds},rs.add=function(os){this.queriesMap[os.queryHash]||(this.queriesMap[os.queryHash]=os,this.queries.push(os),this.notify({type:"queryAdded",query:os}))},rs.remove=function(os){var ss=this.queriesMap[os.queryHash];ss&&(os.destroy(),this.queries=this.queries.filter(function(as){return as!==os}),ss===os&&delete this.queriesMap[os.queryHash],this.notify({type:"queryRemoved",query:os}))},rs.clear=function(){var os=this;notifyManager.batch(function(){os.queries.forEach(function(ss){os.remove(ss)})})},rs.get=function(os){return this.queriesMap[os]},rs.getAll=function(){return this.queries},rs.find=function(os,ss){var as=parseFilterArgs(os,ss),ls=as[0];return typeof ls.exact>"u"&&(ls.exact=!0),this.queries.find(function(cs){return matchQuery(ls,cs)})},rs.findAll=function(os,ss){var as=parseFilterArgs(os,ss),ls=as[0];return Object.keys(ls).length>0?this.queries.filter(function(cs){return matchQuery(ls,cs)}):this.queries},rs.notify=function(os){var ss=this;notifyManager.batch(function(){ss.listeners.forEach(function(as){as(os)})})},rs.onFocus=function(){var os=this;notifyManager.batch(function(){os.queries.forEach(function(ss){ss.onFocus()})})},rs.onOnline=function(){var os=this;notifyManager.batch(function(){os.queries.forEach(function(ss){ss.onOnline()})})},ns}(Subscribable),Mutation=function(){function ts(rs){this.options=_extends$a({},rs.defaultOptions,rs.options),this.mutationId=rs.mutationId,this.mutationCache=rs.mutationCache,this.observers=[],this.state=rs.state||getDefaultState(),this.meta=rs.meta}var ns=ts.prototype;return ns.setState=function(is){this.dispatch({type:"setState",state:is})},ns.addObserver=function(is){this.observers.indexOf(is)===-1&&this.observers.push(is)},ns.removeObserver=function(is){this.observers=this.observers.filter(function(os){return os!==is})},ns.cancel=function(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(noop$4).catch(noop$4)):Promise.resolve()},ns.continue=function(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()},ns.execute=function(){var is=this,os,ss=this.state.status==="loading",as=Promise.resolve();return ss||(this.dispatch({type:"loading",variables:this.options.variables}),as=as.then(function(){is.mutationCache.config.onMutate==null||is.mutationCache.config.onMutate(is.state.variables,is)}).then(function(){return is.options.onMutate==null?void 0:is.options.onMutate(is.state.variables)}).then(function(ls){ls!==is.state.context&&is.dispatch({type:"loading",context:ls,variables:is.state.variables})})),as.then(function(){return is.executeMutation()}).then(function(ls){os=ls,is.mutationCache.config.onSuccess==null||is.mutationCache.config.onSuccess(os,is.state.variables,is.state.context,is)}).then(function(){return is.options.onSuccess==null?void 0:is.options.onSuccess(os,is.state.variables,is.state.context)}).then(function(){return is.options.onSettled==null?void 0:is.options.onSettled(os,null,is.state.variables,is.state.context)}).then(function(){return is.dispatch({type:"success",data:os}),os}).catch(function(ls){return is.mutationCache.config.onError==null||is.mutationCache.config.onError(ls,is.state.variables,is.state.context,is),getLogger().error(ls),Promise.resolve().then(function(){return is.options.onError==null?void 0:is.options.onError(ls,is.state.variables,is.state.context)}).then(function(){return is.options.onSettled==null?void 0:is.options.onSettled(void 0,ls,is.state.variables,is.state.context)}).then(function(){throw is.dispatch({type:"error",error:ls}),ls})})},ns.executeMutation=function(){var is=this,os;return this.retryer=new Retryer({fn:function(){return is.options.mutationFn?is.options.mutationFn(is.state.variables):Promise.reject("No mutationFn found")},onFail:function(){is.dispatch({type:"failed"})},onPause:function(){is.dispatch({type:"pause"})},onContinue:function(){is.dispatch({type:"continue"})},retry:(os=this.options.retry)!=null?os:0,retryDelay:this.options.retryDelay}),this.retryer.promise},ns.dispatch=function(is){var os=this;this.state=reducer$2(this.state,is),notifyManager.batch(function(){os.observers.forEach(function(ss){ss.onMutationUpdate(is)}),os.mutationCache.notify(os)})},ts}();function getDefaultState(){return{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0}}function reducer$2(ts,ns){switch(ns.type){case"failed":return _extends$a({},ts,{failureCount:ts.failureCount+1});case"pause":return _extends$a({},ts,{isPaused:!0});case"continue":return _extends$a({},ts,{isPaused:!1});case"loading":return _extends$a({},ts,{context:ns.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:ns.variables});case"success":return _extends$a({},ts,{data:ns.data,error:null,status:"success",isPaused:!1});case"error":return _extends$a({},ts,{data:void 0,error:ns.error,failureCount:ts.failureCount+1,isPaused:!1,status:"error"});case"setState":return _extends$a({},ts,ns.state);default:return ts}}var MutationCache=function(ts){_inheritsLoose(ns,ts);function ns(is){var os;return os=ts.call(this)||this,os.config=is||{},os.mutations=[],os.mutationId=0,os}var rs=ns.prototype;return rs.build=function(os,ss,as){var ls=new Mutation({mutationCache:this,mutationId:++this.mutationId,options:os.defaultMutationOptions(ss),state:as,defaultOptions:ss.mutationKey?os.getMutationDefaults(ss.mutationKey):void 0,meta:ss.meta});return this.add(ls),ls},rs.add=function(os){this.mutations.push(os),this.notify(os)},rs.remove=function(os){this.mutations=this.mutations.filter(function(ss){return ss!==os}),os.cancel(),this.notify(os)},rs.clear=function(){var os=this;notifyManager.batch(function(){os.mutations.forEach(function(ss){os.remove(ss)})})},rs.getAll=function(){return this.mutations},rs.find=function(os){return typeof os.exact>"u"&&(os.exact=!0),this.mutations.find(function(ss){return matchMutation(os,ss)})},rs.findAll=function(os){return this.mutations.filter(function(ss){return matchMutation(os,ss)})},rs.notify=function(os){var ss=this;notifyManager.batch(function(){ss.listeners.forEach(function(as){as(os)})})},rs.onFocus=function(){this.resumePausedMutations()},rs.onOnline=function(){this.resumePausedMutations()},rs.resumePausedMutations=function(){var os=this.mutations.filter(function(ss){return ss.state.isPaused});return notifyManager.batch(function(){return os.reduce(function(ss,as){return ss.then(function(){return as.continue().catch(noop$4)})},Promise.resolve())})},ns}(Subscribable);function infiniteQueryBehavior(){return{onFetch:function(ns){ns.fetchFn=function(){var rs,is,os,ss,as,ls,cs=(rs=ns.fetchOptions)==null||(is=rs.meta)==null?void 0:is.refetchPage,us=(os=ns.fetchOptions)==null||(ss=os.meta)==null?void 0:ss.fetchMore,ds=us==null?void 0:us.pageParam,ps=(us==null?void 0:us.direction)==="forward",hs=(us==null?void 0:us.direction)==="backward",ms=((as=ns.state.data)==null?void 0:as.pages)||[],gs=((ls=ns.state.data)==null?void 0:ls.pageParams)||[],ys=getAbortController(),vs=ys==null?void 0:ys.signal,bs=gs,Ss=!1,$s=ns.options.queryFn||function(){return Promise.reject("Missing queryFn")},Cs=function(Ls,Ds,Fs,Vs){return bs=Vs?[Ds].concat(bs):[].concat(bs,[Ds]),Vs?[Fs].concat(Ls):[].concat(Ls,[Fs])},Es=function(Ls,Ds,Fs,Vs){if(Ss)return Promise.reject("Cancelled");if(typeof Fs>"u"&&!Ds&&Ls.length)return Promise.resolve(Ls);var Bs={queryKey:ns.queryKey,signal:vs,pageParam:Fs,meta:ns.meta},Ws=$s(Bs),Os=Promise.resolve(Ws).then(function($a){return Cs(Ls,Fs,$a,Vs)});if(isCancelable(Ws)){var Nl=Os;Nl.cancel=Ws.cancel}return Os},xs;if(!ms.length)xs=Es([]);else if(ps){var ws=typeof ds<"u",ks=ws?ds:getNextPageParam(ns.options,ms);xs=Es(ms,ws,ks)}else if(hs){var Is=typeof ds<"u",Ts=Is?ds:getPreviousPageParam(ns.options,ms);xs=Es(ms,Is,Ts,!0)}else(function(){bs=[];var Ms=typeof ns.options.getNextPageParam>"u",Ls=cs&&ms[0]?cs(ms[0],0,ms):!0;xs=Ls?Es([],Ms,gs[0]):Promise.resolve(Cs([],gs[0],ms[0]));for(var Ds=function(Bs){xs=xs.then(function(Ws){var Os=cs&&ms[Bs]?cs(ms[Bs],Bs,ms):!0;if(Os){var Nl=Ms?gs[Bs]:getNextPageParam(ns.options,Ws);return Es(Ws,Ms,Nl)}return Promise.resolve(Cs(Ws,gs[Bs],ms[Bs]))})},Fs=1;Fs<ms.length;Fs++)Ds(Fs)})();var Rs=xs.then(function(Ms){return{pages:Ms,pageParams:bs}}),As=Rs;return As.cancel=function(){Ss=!0,ys==null||ys.abort(),isCancelable(xs)&&xs.cancel()},Rs}}}}function getNextPageParam(ts,ns){return ts.getNextPageParam==null?void 0:ts.getNextPageParam(ns[ns.length-1],ns)}function getPreviousPageParam(ts,ns){return ts.getPreviousPageParam==null?void 0:ts.getPreviousPageParam(ns[0],ns)}var QueryClient=function(){function ts(rs){rs===void 0&&(rs={}),this.queryCache=rs.queryCache||new QueryCache,this.mutationCache=rs.mutationCache||new MutationCache,this.defaultOptions=rs.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}var ns=ts.prototype;return ns.mount=function(){var is=this;this.unsubscribeFocus=focusManager.subscribe(function(){focusManager.isFocused()&&onlineManager.isOnline()&&(is.mutationCache.onFocus(),is.queryCache.onFocus())}),this.unsubscribeOnline=onlineManager.subscribe(function(){focusManager.isFocused()&&onlineManager.isOnline()&&(is.mutationCache.onOnline(),is.queryCache.onOnline())})},ns.unmount=function(){var is,os;(is=this.unsubscribeFocus)==null||is.call(this),(os=this.unsubscribeOnline)==null||os.call(this)},ns.isFetching=function(is,os){var ss=parseFilterArgs(is,os),as=ss[0];return as.fetching=!0,this.queryCache.findAll(as).length},ns.isMutating=function(is){return this.mutationCache.findAll(_extends$a({},is,{fetching:!0})).length},ns.getQueryData=function(is,os){var ss;return(ss=this.queryCache.find(is,os))==null?void 0:ss.state.data},ns.getQueriesData=function(is){return this.getQueryCache().findAll(is).map(function(os){var ss=os.queryKey,as=os.state,ls=as.data;return[ss,ls]})},ns.setQueryData=function(is,os,ss){var as=parseQueryArgs(is),ls=this.defaultQueryOptions(as);return this.queryCache.build(this,ls).setData(os,ss)},ns.setQueriesData=function(is,os,ss){var as=this;return notifyManager.batch(function(){return as.getQueryCache().findAll(is).map(function(ls){var cs=ls.queryKey;return[cs,as.setQueryData(cs,os,ss)]})})},ns.getQueryState=function(is,os){var ss;return(ss=this.queryCache.find(is,os))==null?void 0:ss.state},ns.removeQueries=function(is,os){var ss=parseFilterArgs(is,os),as=ss[0],ls=this.queryCache;notifyManager.batch(function(){ls.findAll(as).forEach(function(cs){ls.remove(cs)})})},ns.resetQueries=function(is,os,ss){var as=this,ls=parseFilterArgs(is,os,ss),cs=ls[0],us=ls[1],ds=this.queryCache,ps=_extends$a({},cs,{active:!0});return notifyManager.batch(function(){return ds.findAll(cs).forEach(function(hs){hs.reset()}),as.refetchQueries(ps,us)})},ns.cancelQueries=function(is,os,ss){var as=this,ls=parseFilterArgs(is,os,ss),cs=ls[0],us=ls[1],ds=us===void 0?{}:us;typeof ds.revert>"u"&&(ds.revert=!0);var ps=notifyManager.batch(function(){return as.queryCache.findAll(cs).map(function(hs){return hs.cancel(ds)})});return Promise.all(ps).then(noop$4).catch(noop$4)},ns.invalidateQueries=function(is,os,ss){var as,ls,cs,us=this,ds=parseFilterArgs(is,os,ss),ps=ds[0],hs=ds[1],ms=_extends$a({},ps,{active:(as=(ls=ps.refetchActive)!=null?ls:ps.active)!=null?as:!0,inactive:(cs=ps.refetchInactive)!=null?cs:!1});return notifyManager.batch(function(){return us.queryCache.findAll(ps).forEach(function(gs){gs.invalidate()}),us.refetchQueries(ms,hs)})},ns.refetchQueries=function(is,os,ss){var as=this,ls=parseFilterArgs(is,os,ss),cs=ls[0],us=ls[1],ds=notifyManager.batch(function(){return as.queryCache.findAll(cs).map(function(hs){return hs.fetch(void 0,_extends$a({},us,{meta:{refetchPage:cs==null?void 0:cs.refetchPage}}))})}),ps=Promise.all(ds).then(noop$4);return us!=null&&us.throwOnError||(ps=ps.catch(noop$4)),ps},ns.fetchQuery=function(is,os,ss){var as=parseQueryArgs(is,os,ss),ls=this.defaultQueryOptions(as);typeof ls.retry>"u"&&(ls.retry=!1);var cs=this.queryCache.build(this,ls);return cs.isStaleByTime(ls.staleTime)?cs.fetch(ls):Promise.resolve(cs.state.data)},ns.prefetchQuery=function(is,os,ss){return this.fetchQuery(is,os,ss).then(noop$4).catch(noop$4)},ns.fetchInfiniteQuery=function(is,os,ss){var as=parseQueryArgs(is,os,ss);return as.behavior=infiniteQueryBehavior(),this.fetchQuery(as)},ns.prefetchInfiniteQuery=function(is,os,ss){return this.fetchInfiniteQuery(is,os,ss).then(noop$4).catch(noop$4)},ns.cancelMutations=function(){var is=this,os=notifyManager.batch(function(){return is.mutationCache.getAll().map(function(ss){return ss.cancel()})});return Promise.all(os).then(noop$4).catch(noop$4)},ns.resumePausedMutations=function(){return this.getMutationCache().resumePausedMutations()},ns.executeMutation=function(is){return this.mutationCache.build(this,is).execute()},ns.getQueryCache=function(){return this.queryCache},ns.getMutationCache=function(){return this.mutationCache},ns.getDefaultOptions=function(){return this.defaultOptions},ns.setDefaultOptions=function(is){this.defaultOptions=is},ns.setQueryDefaults=function(is,os){var ss=this.queryDefaults.find(function(as){return hashQueryKey(is)===hashQueryKey(as.queryKey)});ss?ss.defaultOptions=os:this.queryDefaults.push({queryKey:is,defaultOptions:os})},ns.getQueryDefaults=function(is){var os;return is?(os=this.queryDefaults.find(function(ss){return partialMatchKey(is,ss.queryKey)}))==null?void 0:os.defaultOptions:void 0},ns.setMutationDefaults=function(is,os){var ss=this.mutationDefaults.find(function(as){return hashQueryKey(is)===hashQueryKey(as.mutationKey)});ss?ss.defaultOptions=os:this.mutationDefaults.push({mutationKey:is,defaultOptions:os})},ns.getMutationDefaults=function(is){var os;return is?(os=this.mutationDefaults.find(function(ss){return partialMatchKey(is,ss.mutationKey)}))==null?void 0:os.defaultOptions:void 0},ns.defaultQueryOptions=function(is){if(is!=null&&is._defaulted)return is;var os=_extends$a({},this.defaultOptions.queries,this.getQueryDefaults(is==null?void 0:is.queryKey),is,{_defaulted:!0});return!os.queryHash&&os.queryKey&&(os.queryHash=hashQueryKeyByOptions(os.queryKey,os)),os},ns.defaultQueryObserverOptions=function(is){return this.defaultQueryOptions(is)},ns.defaultMutationOptions=function(is){return is!=null&&is._defaulted?is:_extends$a({},this.defaultOptions.mutations,this.getMutationDefaults(is==null?void 0:is.mutationKey),is,{_defaulted:!0})},ns.clear=function(){this.queryCache.clear(),this.mutationCache.clear()},ts}(),QueryObserver=function(ts){_inheritsLoose(ns,ts);function ns(is,os){var ss;return ss=ts.call(this)||this,ss.client=is,ss.options=os,ss.trackedProps=[],ss.selectError=null,ss.bindMethods(),ss.setOptions(os),ss}var rs=ns.prototype;return rs.bindMethods=function(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)},rs.onSubscribe=function(){this.listeners.length===1&&(this.currentQuery.addObserver(this),shouldFetchOnMount(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())},rs.onUnsubscribe=function(){this.listeners.length||this.destroy()},rs.shouldFetchOnReconnect=function(){return shouldFetchOn(this.currentQuery,this.options,this.options.refetchOnReconnect)},rs.shouldFetchOnWindowFocus=function(){return shouldFetchOn(this.currentQuery,this.options,this.options.refetchOnWindowFocus)},rs.destroy=function(){this.listeners=[],this.clearTimers(),this.currentQuery.removeObserver(this)},rs.setOptions=function(os,ss){var as=this.options,ls=this.currentQuery;if(this.options=this.client.defaultQueryObserverOptions(os),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=as.queryKey),this.updateQuery();var cs=this.hasListeners();cs&&shouldFetchOptionally(this.currentQuery,ls,this.options,as)&&this.executeFetch(),this.updateResult(ss),cs&&(this.currentQuery!==ls||this.options.enabled!==as.enabled||this.options.staleTime!==as.staleTime)&&this.updateStaleTimeout();var us=this.computeRefetchInterval();cs&&(this.currentQuery!==ls||this.options.enabled!==as.enabled||us!==this.currentRefetchInterval)&&this.updateRefetchInterval(us)},rs.getOptimisticResult=function(os){var ss=this.client.defaultQueryObserverOptions(os),as=this.client.getQueryCache().build(this.client,ss);return this.createResult(as,ss)},rs.getCurrentResult=function(){return this.currentResult},rs.trackResult=function(os,ss){var as=this,ls={},cs=function(ds){as.trackedProps.includes(ds)||as.trackedProps.push(ds)};return Object.keys(os).forEach(function(us){Object.defineProperty(ls,us,{configurable:!1,enumerable:!0,get:function(){return cs(us),os[us]}})}),(ss.useErrorBoundary||ss.suspense)&&cs("error"),ls},rs.getNextResult=function(os){var ss=this;return new Promise(function(as,ls){var cs=ss.subscribe(function(us){us.isFetching||(cs(),us.isError&&(os!=null&&os.throwOnError)?ls(us.error):as(us))})})},rs.getCurrentQuery=function(){return this.currentQuery},rs.remove=function(){this.client.getQueryCache().remove(this.currentQuery)},rs.refetch=function(os){return this.fetch(_extends$a({},os,{meta:{refetchPage:os==null?void 0:os.refetchPage}}))},rs.fetchOptimistic=function(os){var ss=this,as=this.client.defaultQueryObserverOptions(os),ls=this.client.getQueryCache().build(this.client,as);return ls.fetch().then(function(){return ss.createResult(ls,as)})},rs.fetch=function(os){var ss=this;return this.executeFetch(os).then(function(){return ss.updateResult(),ss.currentResult})},rs.executeFetch=function(os){this.updateQuery();var ss=this.currentQuery.fetch(this.options,os);return os!=null&&os.throwOnError||(ss=ss.catch(noop$4)),ss},rs.updateStaleTimeout=function(){var os=this;if(this.clearStaleTimeout(),!(isServer||this.currentResult.isStale||!isValidTimeout(this.options.staleTime))){var ss=timeUntilStale(this.currentResult.dataUpdatedAt,this.options.staleTime),as=ss+1;this.staleTimeoutId=setTimeout(function(){os.currentResult.isStale||os.updateResult()},as)}},rs.computeRefetchInterval=function(){var os;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(os=this.options.refetchInterval)!=null?os:!1},rs.updateRefetchInterval=function(os){var ss=this;this.clearRefetchInterval(),this.currentRefetchInterval=os,!(isServer||this.options.enabled===!1||!isValidTimeout(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(function(){(ss.options.refetchIntervalInBackground||focusManager.isFocused())&&ss.executeFetch()},this.currentRefetchInterval))},rs.updateTimers=function(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())},rs.clearTimers=function(){this.clearStaleTimeout(),this.clearRefetchInterval()},rs.clearStaleTimeout=function(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)},rs.clearRefetchInterval=function(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)},rs.createResult=function(os,ss){var as=this.currentQuery,ls=this.options,cs=this.currentResult,us=this.currentResultState,ds=this.currentResultOptions,ps=os!==as,hs=ps?os.state:this.currentQueryInitialState,ms=ps?this.currentResult:this.previousQueryResult,gs=os.state,ys=gs.dataUpdatedAt,vs=gs.error,bs=gs.errorUpdatedAt,Ss=gs.isFetching,$s=gs.status,Cs=!1,Es=!1,xs;if(ss.optimisticResults){var ws=this.hasListeners(),ks=!ws&&shouldFetchOnMount(os,ss),Is=ws&&shouldFetchOptionally(os,as,ss,ls);(ks||Is)&&(Ss=!0,ys||($s="loading"))}if(ss.keepPreviousData&&!gs.dataUpdateCount&&(ms!=null&&ms.isSuccess)&&$s!=="error")xs=ms.data,ys=ms.dataUpdatedAt,$s=ms.status,Cs=!0;else if(ss.select&&typeof gs.data<"u")if(cs&&gs.data===(us==null?void 0:us.data)&&ss.select===this.selectFn)xs=this.selectResult;else try{this.selectFn=ss.select,xs=ss.select(gs.data),ss.structuralSharing!==!1&&(xs=replaceEqualDeep(cs==null?void 0:cs.data,xs)),this.selectResult=xs,this.selectError=null}catch(As){getLogger().error(As),this.selectError=As}else xs=gs.data;if(typeof ss.placeholderData<"u"&&typeof xs>"u"&&($s==="loading"||$s==="idle")){var Ts;if(cs!=null&&cs.isPlaceholderData&&ss.placeholderData===(ds==null?void 0:ds.placeholderData))Ts=cs.data;else if(Ts=typeof ss.placeholderData=="function"?ss.placeholderData():ss.placeholderData,ss.select&&typeof Ts<"u")try{Ts=ss.select(Ts),ss.structuralSharing!==!1&&(Ts=replaceEqualDeep(cs==null?void 0:cs.data,Ts)),this.selectError=null}catch(As){getLogger().error(As),this.selectError=As}typeof Ts<"u"&&($s="success",xs=Ts,Es=!0)}this.selectError&&(vs=this.selectError,xs=this.selectResult,bs=Date.now(),$s="error");var Rs={status:$s,isLoading:$s==="loading",isSuccess:$s==="success",isError:$s==="error",isIdle:$s==="idle",data:xs,dataUpdatedAt:ys,error:vs,errorUpdatedAt:bs,failureCount:gs.fetchFailureCount,errorUpdateCount:gs.errorUpdateCount,isFetched:gs.dataUpdateCount>0||gs.errorUpdateCount>0,isFetchedAfterMount:gs.dataUpdateCount>hs.dataUpdateCount||gs.errorUpdateCount>hs.errorUpdateCount,isFetching:Ss,isRefetching:Ss&&$s!=="loading",isLoadingError:$s==="error"&&gs.dataUpdatedAt===0,isPlaceholderData:Es,isPreviousData:Cs,isRefetchError:$s==="error"&&gs.dataUpdatedAt!==0,isStale:isStale(os,ss),refetch:this.refetch,remove:this.remove};return Rs},rs.shouldNotifyListeners=function(os,ss){if(!ss)return!0;var as=this.options,ls=as.notifyOnChangeProps,cs=as.notifyOnChangePropsExclusions;if(!ls&&!cs||ls==="tracked"&&!this.trackedProps.length)return!0;var us=ls==="tracked"?this.trackedProps:ls;return Object.keys(os).some(function(ds){var ps=ds,hs=os[ps]!==ss[ps],ms=us==null?void 0:us.some(function(ys){return ys===ds}),gs=cs==null?void 0:cs.some(function(ys){return ys===ds});return hs&&!gs&&(!us||ms)})},rs.updateResult=function(os){var ss=this.currentResult;if(this.currentResult=this.createResult(this.currentQuery,this.options),this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,!shallowEqualObjects(this.currentResult,ss)){var as={cache:!0};(os==null?void 0:os.listeners)!==!1&&this.shouldNotifyListeners(this.currentResult,ss)&&(as.listeners=!0),this.notify(_extends$a({},as,os))}},rs.updateQuery=function(){var os=this.client.getQueryCache().build(this.client,this.options);if(os!==this.currentQuery){var ss=this.currentQuery;this.currentQuery=os,this.currentQueryInitialState=os.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(ss==null||ss.removeObserver(this),os.addObserver(this))}},rs.onQueryUpdate=function(os){var ss={};os.type==="success"?ss.onSuccess=!0:os.type==="error"&&!isCancelledError(os.error)&&(ss.onError=!0),this.updateResult(ss),this.hasListeners()&&this.updateTimers()},rs.notify=function(os){var ss=this;notifyManager.batch(function(){os.onSuccess?(ss.options.onSuccess==null||ss.options.onSuccess(ss.currentResult.data),ss.options.onSettled==null||ss.options.onSettled(ss.currentResult.data,null)):os.onError&&(ss.options.onError==null||ss.options.onError(ss.currentResult.error),ss.options.onSettled==null||ss.options.onSettled(void 0,ss.currentResult.error)),os.listeners&&ss.listeners.forEach(function(as){as(ss.currentResult)}),os.cache&&ss.client.getQueryCache().notify({query:ss.currentQuery,type:"observerResultsUpdated"})})},ns}(Subscribable);function shouldLoadOnMount(ts,ns){return ns.enabled!==!1&&!ts.state.dataUpdatedAt&&!(ts.state.status==="error"&&ns.retryOnMount===!1)}function shouldFetchOnMount(ts,ns){return shouldLoadOnMount(ts,ns)||ts.state.dataUpdatedAt>0&&shouldFetchOn(ts,ns,ns.refetchOnMount)}function shouldFetchOn(ts,ns,rs){if(ns.enabled!==!1){var is=typeof rs=="function"?rs(ts):rs;return is==="always"||is!==!1&&isStale(ts,ns)}return!1}function shouldFetchOptionally(ts,ns,rs,is){return rs.enabled!==!1&&(ts!==ns||is.enabled===!1)&&(!rs.suspense||ts.state.status!=="error")&&isStale(ts,rs)}function isStale(ts,ns){return ts.isStaleByTime(ns.staleTime)}var MutationObserver$1=function(ts){_inheritsLoose(ns,ts);function ns(is,os){var ss;return ss=ts.call(this)||this,ss.client=is,ss.setOptions(os),ss.bindMethods(),ss.updateResult(),ss}var rs=ns.prototype;return rs.bindMethods=function(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)},rs.setOptions=function(os){this.options=this.client.defaultMutationOptions(os)},rs.onUnsubscribe=function(){if(!this.listeners.length){var os;(os=this.currentMutation)==null||os.removeObserver(this)}},rs.onMutationUpdate=function(os){this.updateResult();var ss={listeners:!0};os.type==="success"?ss.onSuccess=!0:os.type==="error"&&(ss.onError=!0),this.notify(ss)},rs.getCurrentResult=function(){return this.currentResult},rs.reset=function(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})},rs.mutate=function(os,ss){return this.mutateOptions=ss,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,_extends$a({},this.options,{variables:typeof os<"u"?os:this.options.variables})),this.currentMutation.addObserver(this),this.currentMutation.execute()},rs.updateResult=function(){var os=this.currentMutation?this.currentMutation.state:getDefaultState(),ss=_extends$a({},os,{isLoading:os.status==="loading",isSuccess:os.status==="success",isError:os.status==="error",isIdle:os.status==="idle",mutate:this.mutate,reset:this.reset});this.currentResult=ss},rs.notify=function(os){var ss=this;notifyManager.batch(function(){ss.mutateOptions&&(os.onSuccess?(ss.mutateOptions.onSuccess==null||ss.mutateOptions.onSuccess(ss.currentResult.data,ss.currentResult.variables,ss.currentResult.context),ss.mutateOptions.onSettled==null||ss.mutateOptions.onSettled(ss.currentResult.data,null,ss.currentResult.variables,ss.currentResult.context)):os.onError&&(ss.mutateOptions.onError==null||ss.mutateOptions.onError(ss.currentResult.error,ss.currentResult.variables,ss.currentResult.context),ss.mutateOptions.onSettled==null||ss.mutateOptions.onSettled(void 0,ss.currentResult.error,ss.currentResult.variables,ss.currentResult.context))),os.listeners&&ss.listeners.forEach(function(as){as(ss.currentResult)})})},ns}(Subscribable),unstable_batchedUpdates=ReactDOM__default.unstable_batchedUpdates;notifyManager.setBatchNotifyFunction(unstable_batchedUpdates);var logger$6=console;setLogger(logger$6);var defaultContext=React$1.createContext(void 0),QueryClientSharingContext=React$1.createContext(!1);function getQueryClientContext(ts){return ts&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=defaultContext),window.ReactQueryClientContext):defaultContext}var useQueryClient=function(){var ns=React$1.useContext(getQueryClientContext(React$1.useContext(QueryClientSharingContext)));if(!ns)throw new Error("No QueryClient set, use QueryClientProvider to set one");return ns},QueryClientProvider=function(ns){var rs=ns.client,is=ns.contextSharing,os=is===void 0?!1:is,ss=ns.children;React$1.useEffect(function(){return rs.mount(),function(){rs.unmount()}},[rs]);var as=getQueryClientContext(os);return React$1.createElement(QueryClientSharingContext.Provider,{value:os},React$1.createElement(as.Provider,{value:rs},ss))};function createValue(){var ts=!1;return{clearReset:function(){ts=!1},reset:function(){ts=!0},isReset:function(){return ts}}}var QueryErrorResetBoundaryContext=React$1.createContext(createValue()),useQueryErrorResetBoundary=function(){return React$1.useContext(QueryErrorResetBoundaryContext)};function shouldThrowError(ts,ns,rs){return typeof ns=="function"?ns.apply(void 0,rs):typeof ns=="boolean"?ns:!!ts}function useMutation(ts,ns,rs){var is=React$1.useRef(!1),os=React$1.useState(0),ss=os[1],as=parseMutationArgs(ts,ns,rs),ls=useQueryClient(),cs=React$1.useRef();cs.current?cs.current.setOptions(as):cs.current=new MutationObserver$1(ls,as);var us=cs.current.getCurrentResult();React$1.useEffect(function(){is.current=!0;var ps=cs.current.subscribe(notifyManager.batchCalls(function(){is.current&&ss(function(hs){return hs+1})}));return function(){is.current=!1,ps()}},[]);var ds=React$1.useCallback(function(ps,hs){cs.current.mutate(ps,hs).catch(noop$4)},[]);if(us.error&&shouldThrowError(void 0,cs.current.options.useErrorBoundary,[us.error]))throw us.error;return _extends$a({},us,{mutate:ds,mutateAsync:us.mutate})}function useBaseQuery(ts,ns){var rs=React$1.useRef(!1),is=React$1.useState(0),os=is[1],ss=useQueryClient(),as=useQueryErrorResetBoundary(),ls=ss.defaultQueryObserverOptions(ts);ls.optimisticResults=!0,ls.onError&&(ls.onError=notifyManager.batchCalls(ls.onError)),ls.onSuccess&&(ls.onSuccess=notifyManager.batchCalls(ls.onSuccess)),ls.onSettled&&(ls.onSettled=notifyManager.batchCalls(ls.onSettled)),ls.suspense&&(typeof ls.staleTime!="number"&&(ls.staleTime=1e3),ls.cacheTime===0&&(ls.cacheTime=1)),(ls.suspense||ls.useErrorBoundary)&&(as.isReset()||(ls.retryOnMount=!1));var cs=React$1.useState(function(){return new ns(ss,ls)}),us=cs[0],ds=us.getOptimisticResult(ls);if(React$1.useEffect(function(){rs.current=!0,as.clearReset();var ps=us.subscribe(notifyManager.batchCalls(function(){rs.current&&os(function(hs){return hs+1})}));return us.updateResult(),function(){rs.current=!1,ps()}},[as,us]),React$1.useEffect(function(){us.setOptions(ls,{listeners:!1})},[ls,us]),ls.suspense&&ds.isLoading)throw us.fetchOptimistic(ls).then(function(ps){var hs=ps.data;ls.onSuccess==null||ls.onSuccess(hs),ls.onSettled==null||ls.onSettled(hs,null)}).catch(function(ps){as.clearReset(),ls.onError==null||ls.onError(ps),ls.onSettled==null||ls.onSettled(void 0,ps)});if(ds.isError&&!as.isReset()&&!ds.isFetching&&shouldThrowError(ls.suspense,ls.useErrorBoundary,[ds.error,us.getCurrentQuery()]))throw ds.error;return ls.notifyOnChangeProps==="tracked"&&(ds=us.trackResult(ds,ls)),ds}function useQuery(ts,ns,rs){var is=parseQueryArgs(ts,ns,rs);return useBaseQuery(is,QueryObserver)}/**
 * @remix-run/router v1.18.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$9(){return _extends$9=Object.assign?Object.assign.bind():function(ts){for(var ns=1;ns<arguments.length;ns++){var rs=arguments[ns];for(var is in rs)Object.prototype.hasOwnProperty.call(rs,is)&&(ts[is]=rs[is])}return ts},_extends$9.apply(this,arguments)}var Action;(function(ts){ts.Pop="POP",ts.Push="PUSH",ts.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createBrowserHistory(ts){ts===void 0&&(ts={});function ns(is,os){let{pathname:ss,search:as,hash:ls}=is.location;return createLocation("",{pathname:ss,search:as,hash:ls},os.state&&os.state.usr||null,os.state&&os.state.key||"default")}function rs(is,os){return typeof os=="string"?os:createPath(os)}return getUrlBasedHistory(ns,rs,null,ts)}function invariant(ts,ns){if(ts===!1||ts===null||typeof ts>"u")throw new Error(ns)}function warning(ts,ns){if(!ts){typeof console<"u"&&console.warn(ns);try{throw new Error(ns)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(ts,ns){return{usr:ts.state,key:ts.key,idx:ns}}function createLocation(ts,ns,rs,is){return rs===void 0&&(rs=null),_extends$9({pathname:typeof ts=="string"?ts:ts.pathname,search:"",hash:""},typeof ns=="string"?parsePath(ns):ns,{state:rs,key:ns&&ns.key||is||createKey()})}function createPath(ts){let{pathname:ns="/",search:rs="",hash:is=""}=ts;return rs&&rs!=="?"&&(ns+=rs.charAt(0)==="?"?rs:"?"+rs),is&&is!=="#"&&(ns+=is.charAt(0)==="#"?is:"#"+is),ns}function parsePath(ts){let ns={};if(ts){let rs=ts.indexOf("#");rs>=0&&(ns.hash=ts.substr(rs),ts=ts.substr(0,rs));let is=ts.indexOf("?");is>=0&&(ns.search=ts.substr(is),ts=ts.substr(0,is)),ts&&(ns.pathname=ts)}return ns}function getUrlBasedHistory(ts,ns,rs,is){is===void 0&&(is={});let{window:os=document.defaultView,v5Compat:ss=!1}=is,as=os.history,ls=Action.Pop,cs=null,us=ds();us==null&&(us=0,as.replaceState(_extends$9({},as.state,{idx:us}),""));function ds(){return(as.state||{idx:null}).idx}function ps(){ls=Action.Pop;let vs=ds(),bs=vs==null?null:vs-us;us=vs,cs&&cs({action:ls,location:ys.location,delta:bs})}function hs(vs,bs){ls=Action.Push;let Ss=createLocation(ys.location,vs,bs);rs&&rs(Ss,vs),us=ds()+1;let $s=getHistoryState(Ss,us),Cs=ys.createHref(Ss);try{as.pushState($s,"",Cs)}catch(Es){if(Es instanceof DOMException&&Es.name==="DataCloneError")throw Es;os.location.assign(Cs)}ss&&cs&&cs({action:ls,location:ys.location,delta:1})}function ms(vs,bs){ls=Action.Replace;let Ss=createLocation(ys.location,vs,bs);rs&&rs(Ss,vs),us=ds();let $s=getHistoryState(Ss,us),Cs=ys.createHref(Ss);as.replaceState($s,"",Cs),ss&&cs&&cs({action:ls,location:ys.location,delta:0})}function gs(vs){let bs=os.location.origin!=="null"?os.location.origin:os.location.href,Ss=typeof vs=="string"?vs:createPath(vs);return Ss=Ss.replace(/ $/,"%20"),invariant(bs,"No window.location.(origin|href) available to create URL for href: "+Ss),new URL(Ss,bs)}let ys={get action(){return ls},get location(){return ts(os,as)},listen(vs){if(cs)throw new Error("A history only accepts one active listener");return os.addEventListener(PopStateEventType,ps),cs=vs,()=>{os.removeEventListener(PopStateEventType,ps),cs=null}},createHref(vs){return ns(os,vs)},createURL:gs,encodeLocation(vs){let bs=gs(vs);return{pathname:bs.pathname,search:bs.search,hash:bs.hash}},push:hs,replace:ms,go(vs){return as.go(vs)}};return ys}var ResultType;(function(ts){ts.data="data",ts.deferred="deferred",ts.redirect="redirect",ts.error="error"})(ResultType||(ResultType={}));function matchRoutes(ts,ns,rs){return rs===void 0&&(rs="/"),matchRoutesImpl(ts,ns,rs,!1)}function matchRoutesImpl(ts,ns,rs,is){let os=typeof ns=="string"?parsePath(ns):ns,ss=stripBasename(os.pathname||"/",rs);if(ss==null)return null;let as=flattenRoutes(ts);rankRouteBranches(as);let ls=null;for(let cs=0;ls==null&&cs<as.length;++cs){let us=decodePath(ss);ls=matchRouteBranch(as[cs],us,is)}return ls}function flattenRoutes(ts,ns,rs,is){ns===void 0&&(ns=[]),rs===void 0&&(rs=[]),is===void 0&&(is="");let os=(ss,as,ls)=>{let cs={relativePath:ls===void 0?ss.path||"":ls,caseSensitive:ss.caseSensitive===!0,childrenIndex:as,route:ss};cs.relativePath.startsWith("/")&&(invariant(cs.relativePath.startsWith(is),'Absolute route path "'+cs.relativePath+'" nested under path '+('"'+is+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),cs.relativePath=cs.relativePath.slice(is.length));let us=joinPaths([is,cs.relativePath]),ds=rs.concat(cs);ss.children&&ss.children.length>0&&(invariant(ss.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+us+'".')),flattenRoutes(ss.children,ns,ds,us)),!(ss.path==null&&!ss.index)&&ns.push({path:us,score:computeScore(us,ss.index),routesMeta:ds})};return ts.forEach((ss,as)=>{var ls;if(ss.path===""||!((ls=ss.path)!=null&&ls.includes("?")))os(ss,as);else for(let cs of explodeOptionalSegments(ss.path))os(ss,as,cs)}),ns}function explodeOptionalSegments(ts){let ns=ts.split("/");if(ns.length===0)return[];let[rs,...is]=ns,os=rs.endsWith("?"),ss=rs.replace(/\?$/,"");if(is.length===0)return os?[ss,""]:[ss];let as=explodeOptionalSegments(is.join("/")),ls=[];return ls.push(...as.map(cs=>cs===""?ss:[ss,cs].join("/"))),os&&ls.push(...as),ls.map(cs=>ts.startsWith("/")&&cs===""?"/":cs)}function rankRouteBranches(ts){ts.sort((ns,rs)=>ns.score!==rs.score?rs.score-ns.score:compareIndexes(ns.routesMeta.map(is=>is.childrenIndex),rs.routesMeta.map(is=>is.childrenIndex)))}const paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=ts=>ts==="*";function computeScore(ts,ns){let rs=ts.split("/"),is=rs.length;return rs.some(isSplat)&&(is+=splatPenalty),ns&&(is+=indexRouteValue),rs.filter(os=>!isSplat(os)).reduce((os,ss)=>os+(paramRe.test(ss)?dynamicSegmentValue:ss===""?emptySegmentValue:staticSegmentValue),is)}function compareIndexes(ts,ns){return ts.length===ns.length&&ts.slice(0,-1).every((is,os)=>is===ns[os])?ts[ts.length-1]-ns[ns.length-1]:0}function matchRouteBranch(ts,ns,rs){rs===void 0&&(rs=!1);let{routesMeta:is}=ts,os={},ss="/",as=[];for(let ls=0;ls<is.length;++ls){let cs=is[ls],us=ls===is.length-1,ds=ss==="/"?ns:ns.slice(ss.length)||"/",ps=matchPath({path:cs.relativePath,caseSensitive:cs.caseSensitive,end:us},ds),hs=cs.route;if(!ps&&us&&rs&&!is[is.length-1].route.index&&(ps=matchPath({path:cs.relativePath,caseSensitive:cs.caseSensitive,end:!1},ds)),!ps)return null;Object.assign(os,ps.params),as.push({params:os,pathname:joinPaths([ss,ps.pathname]),pathnameBase:normalizePathname(joinPaths([ss,ps.pathnameBase])),route:hs}),ps.pathnameBase!=="/"&&(ss=joinPaths([ss,ps.pathnameBase]))}return as}function matchPath(ts,ns){typeof ts=="string"&&(ts={path:ts,caseSensitive:!1,end:!0});let[rs,is]=compilePath(ts.path,ts.caseSensitive,ts.end),os=ns.match(rs);if(!os)return null;let ss=os[0],as=ss.replace(/(.)\/+$/,"$1"),ls=os.slice(1);return{params:is.reduce((us,ds,ps)=>{let{paramName:hs,isOptional:ms}=ds;if(hs==="*"){let ys=ls[ps]||"";as=ss.slice(0,ss.length-ys.length).replace(/(.)\/+$/,"$1")}const gs=ls[ps];return ms&&!gs?us[hs]=void 0:us[hs]=(gs||"").replace(/%2F/g,"/"),us},{}),pathname:ss,pathnameBase:as,pattern:ts}}function compilePath(ts,ns,rs){ns===void 0&&(ns=!1),rs===void 0&&(rs=!0),warning(ts==="*"||!ts.endsWith("*")||ts.endsWith("/*"),'Route path "'+ts+'" will be treated as if it were '+('"'+ts.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+ts.replace(/\*$/,"/*")+'".'));let is=[],os="^"+ts.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(as,ls,cs)=>(is.push({paramName:ls,isOptional:cs!=null}),cs?"/?([^\\/]+)?":"/([^\\/]+)"));return ts.endsWith("*")?(is.push({paramName:"*"}),os+=ts==="*"||ts==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):rs?os+="\\/*$":ts!==""&&ts!=="/"&&(os+="(?:(?=\\/|$))"),[new RegExp(os,ns?void 0:"i"),is]}function decodePath(ts){try{return ts.split("/").map(ns=>decodeURIComponent(ns).replace(/\//g,"%2F")).join("/")}catch(ns){return warning(!1,'The URL path "'+ts+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+ns+").")),ts}}function stripBasename(ts,ns){if(ns==="/")return ts;if(!ts.toLowerCase().startsWith(ns.toLowerCase()))return null;let rs=ns.endsWith("/")?ns.length-1:ns.length,is=ts.charAt(rs);return is&&is!=="/"?null:ts.slice(rs)||"/"}function resolvePath(ts,ns){ns===void 0&&(ns="/");let{pathname:rs,search:is="",hash:os=""}=typeof ts=="string"?parsePath(ts):ts;return{pathname:rs?rs.startsWith("/")?rs:resolvePathname(rs,ns):ns,search:normalizeSearch(is),hash:normalizeHash(os)}}function resolvePathname(ts,ns){let rs=ns.replace(/\/+$/,"").split("/");return ts.split("/").forEach(os=>{os===".."?rs.length>1&&rs.pop():os!=="."&&rs.push(os)}),rs.length>1?rs.join("/"):"/"}function getInvalidPathError(ts,ns,rs,is){return"Cannot include a '"+ts+"' character in a manually specified "+("`to."+ns+"` field ["+JSON.stringify(is)+"].  Please separate it out to the ")+("`to."+rs+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(ts){return ts.filter((ns,rs)=>rs===0||ns.route.path&&ns.route.path.length>0)}function getResolveToMatches(ts,ns){let rs=getPathContributingMatches(ts);return ns?rs.map((is,os)=>os===rs.length-1?is.pathname:is.pathnameBase):rs.map(is=>is.pathnameBase)}function resolveTo(ts,ns,rs,is){is===void 0&&(is=!1);let os;typeof ts=="string"?os=parsePath(ts):(os=_extends$9({},ts),invariant(!os.pathname||!os.pathname.includes("?"),getInvalidPathError("?","pathname","search",os)),invariant(!os.pathname||!os.pathname.includes("#"),getInvalidPathError("#","pathname","hash",os)),invariant(!os.search||!os.search.includes("#"),getInvalidPathError("#","search","hash",os)));let ss=ts===""||os.pathname==="",as=ss?"/":os.pathname,ls;if(as==null)ls=rs;else{let ps=ns.length-1;if(!is&&as.startsWith("..")){let hs=as.split("/");for(;hs[0]==="..";)hs.shift(),ps-=1;os.pathname=hs.join("/")}ls=ps>=0?ns[ps]:"/"}let cs=resolvePath(os,ls),us=as&&as!=="/"&&as.endsWith("/"),ds=(ss||as===".")&&rs.endsWith("/");return!cs.pathname.endsWith("/")&&(us||ds)&&(cs.pathname+="/"),cs}const joinPaths=ts=>ts.join("/").replace(/\/\/+/g,"/"),normalizePathname=ts=>ts.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=ts=>!ts||ts==="?"?"":ts.startsWith("?")?ts:"?"+ts,normalizeHash=ts=>!ts||ts==="#"?"":ts.startsWith("#")?ts:"#"+ts;function isRouteErrorResponse(ts){return ts!=null&&typeof ts.status=="number"&&typeof ts.statusText=="string"&&typeof ts.internal=="boolean"&&"data"in ts}const validMutationMethodsArr=["post","put","patch","delete"];new Set(validMutationMethodsArr);const validRequestMethodsArr=["get",...validMutationMethodsArr];new Set(validRequestMethodsArr);/**
 * React Router v6.25.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$8(){return _extends$8=Object.assign?Object.assign.bind():function(ts){for(var ns=1;ns<arguments.length;ns++){var rs=arguments[ns];for(var is in rs)Object.prototype.hasOwnProperty.call(rs,is)&&(ts[is]=rs[is])}return ts},_extends$8.apply(this,arguments)}const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1}),RouteErrorContext=reactExports.createContext(null);function useHref(ts,ns){let{relative:rs}=ns===void 0?{}:ns;useInRouterContext()||invariant(!1);let{basename:is,navigator:os}=reactExports.useContext(NavigationContext),{hash:ss,pathname:as,search:ls}=useResolvedPath(ts,{relative:rs}),cs=as;return is!=="/"&&(cs=as==="/"?is:joinPaths([is,as])),os.createHref({pathname:cs,search:ls,hash:ss})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant(!1),reactExports.useContext(LocationContext).location}function useIsomorphicLayoutEffect$1(ts){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(ts)}function useNavigate(){let{isDataRoute:ts}=reactExports.useContext(RouteContext);return ts?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){useInRouterContext()||invariant(!1);let ts=reactExports.useContext(DataRouterContext),{basename:ns,future:rs,navigator:is}=reactExports.useContext(NavigationContext),{matches:os}=reactExports.useContext(RouteContext),{pathname:ss}=useLocation(),as=JSON.stringify(getResolveToMatches(os,rs.v7_relativeSplatPath)),ls=reactExports.useRef(!1);return useIsomorphicLayoutEffect$1(()=>{ls.current=!0}),reactExports.useCallback(function(us,ds){if(ds===void 0&&(ds={}),!ls.current)return;if(typeof us=="number"){is.go(us);return}let ps=resolveTo(us,JSON.parse(as),ss,ds.relative==="path");ts==null&&ns!=="/"&&(ps.pathname=ps.pathname==="/"?ns:joinPaths([ns,ps.pathname])),(ds.replace?is.replace:is.push)(ps,ds.state,ds)},[ns,is,as,ss,ts])}const OutletContext=reactExports.createContext(null);function useOutlet(ts){let ns=reactExports.useContext(RouteContext).outlet;return ns&&reactExports.createElement(OutletContext.Provider,{value:ts},ns)}function useParams(){let{matches:ts}=reactExports.useContext(RouteContext),ns=ts[ts.length-1];return ns?ns.params:{}}function useResolvedPath(ts,ns){let{relative:rs}=ns===void 0?{}:ns,{future:is}=reactExports.useContext(NavigationContext),{matches:os}=reactExports.useContext(RouteContext),{pathname:ss}=useLocation(),as=JSON.stringify(getResolveToMatches(os,is.v7_relativeSplatPath));return reactExports.useMemo(()=>resolveTo(ts,JSON.parse(as),ss,rs==="path"),[ts,as,ss,rs])}function useRoutes(ts,ns){return useRoutesImpl(ts,ns)}function useRoutesImpl(ts,ns,rs,is){useInRouterContext()||invariant(!1);let{navigator:os}=reactExports.useContext(NavigationContext),{matches:ss}=reactExports.useContext(RouteContext),as=ss[ss.length-1],ls=as?as.params:{};as&&as.pathname;let cs=as?as.pathnameBase:"/";as&&as.route;let us=useLocation(),ds;if(ns){var ps;let vs=typeof ns=="string"?parsePath(ns):ns;cs==="/"||(ps=vs.pathname)!=null&&ps.startsWith(cs)||invariant(!1),ds=vs}else ds=us;let hs=ds.pathname||"/",ms=hs;if(cs!=="/"){let vs=cs.replace(/^\//,"").split("/");ms="/"+hs.replace(/^\//,"").split("/").slice(vs.length).join("/")}let gs=matchRoutes(ts,{pathname:ms}),ys=_renderMatches(gs&&gs.map(vs=>Object.assign({},vs,{params:Object.assign({},ls,vs.params),pathname:joinPaths([cs,os.encodeLocation?os.encodeLocation(vs.pathname).pathname:vs.pathname]),pathnameBase:vs.pathnameBase==="/"?cs:joinPaths([cs,os.encodeLocation?os.encodeLocation(vs.pathnameBase).pathname:vs.pathnameBase])})),ss,rs,is);return ns&&ys?reactExports.createElement(LocationContext.Provider,{value:{location:_extends$8({pathname:"/",search:"",hash:"",state:null,key:"default"},ds),navigationType:Action.Pop}},ys):ys}function DefaultErrorComponent(){let ts=useRouteError(),ns=isRouteErrorResponse(ts)?ts.status+" "+ts.statusText:ts instanceof Error?ts.message:JSON.stringify(ts),rs=ts instanceof Error?ts.stack:null,os={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},ss=null;return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},ns),rs?reactExports.createElement("pre",{style:os},rs):null,ss)}const defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends reactExports.Component{constructor(ns){super(ns),this.state={location:ns.location,revalidation:ns.revalidation,error:ns.error}}static getDerivedStateFromError(ns){return{error:ns}}static getDerivedStateFromProps(ns,rs){return rs.location!==ns.location||rs.revalidation!=="idle"&&ns.revalidation==="idle"?{error:ns.error,location:ns.location,revalidation:ns.revalidation}:{error:ns.error!==void 0?ns.error:rs.error,location:rs.location,revalidation:ns.revalidation||rs.revalidation}}componentDidCatch(ns,rs){console.error("React Router caught the following error during render",ns,rs)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(ts){let{routeContext:ns,match:rs,children:is}=ts,os=reactExports.useContext(DataRouterContext);return os&&os.static&&os.staticContext&&(rs.route.errorElement||rs.route.ErrorBoundary)&&(os.staticContext._deepestRenderedBoundaryId=rs.route.id),reactExports.createElement(RouteContext.Provider,{value:ns},is)}function _renderMatches(ts,ns,rs,is){var os;if(ns===void 0&&(ns=[]),rs===void 0&&(rs=null),is===void 0&&(is=null),ts==null){var ss;if((ss=rs)!=null&&ss.errors)ts=rs.matches;else return null}let as=ts,ls=(os=rs)==null?void 0:os.errors;if(ls!=null){let ds=as.findIndex(ps=>ps.route.id&&(ls==null?void 0:ls[ps.route.id])!==void 0);ds>=0||invariant(!1),as=as.slice(0,Math.min(as.length,ds+1))}let cs=!1,us=-1;if(rs&&is&&is.v7_partialHydration)for(let ds=0;ds<as.length;ds++){let ps=as[ds];if((ps.route.HydrateFallback||ps.route.hydrateFallbackElement)&&(us=ds),ps.route.id){let{loaderData:hs,errors:ms}=rs,gs=ps.route.loader&&hs[ps.route.id]===void 0&&(!ms||ms[ps.route.id]===void 0);if(ps.route.lazy||gs){cs=!0,us>=0?as=as.slice(0,us+1):as=[as[0]];break}}}return as.reduceRight((ds,ps,hs)=>{let ms,gs=!1,ys=null,vs=null;rs&&(ms=ls&&ps.route.id?ls[ps.route.id]:void 0,ys=ps.route.errorElement||defaultErrorElement,cs&&(us<0&&hs===0?(warningOnce("route-fallback",!1),gs=!0,vs=null):us===hs&&(gs=!0,vs=ps.route.hydrateFallbackElement||null)));let bs=ns.concat(as.slice(0,hs+1)),Ss=()=>{let $s;return ms?$s=ys:gs?$s=vs:ps.route.Component?$s=reactExports.createElement(ps.route.Component,null):ps.route.element?$s=ps.route.element:$s=ds,reactExports.createElement(RenderedRoute,{match:ps,routeContext:{outlet:ds,matches:bs,isDataRoute:rs!=null},children:$s})};return rs&&(ps.route.ErrorBoundary||ps.route.errorElement||hs===0)?reactExports.createElement(RenderErrorBoundary,{location:rs.location,revalidation:rs.revalidation,component:ys,error:ms,children:Ss(),routeContext:{outlet:null,matches:bs,isDataRoute:!0}}):Ss()},null)}var DataRouterHook$1=function(ts){return ts.UseBlocker="useBlocker",ts.UseRevalidator="useRevalidator",ts.UseNavigateStable="useNavigate",ts}(DataRouterHook$1||{}),DataRouterStateHook$1=function(ts){return ts.UseBlocker="useBlocker",ts.UseLoaderData="useLoaderData",ts.UseActionData="useActionData",ts.UseRouteError="useRouteError",ts.UseNavigation="useNavigation",ts.UseRouteLoaderData="useRouteLoaderData",ts.UseMatches="useMatches",ts.UseRevalidator="useRevalidator",ts.UseNavigateStable="useNavigate",ts.UseRouteId="useRouteId",ts}(DataRouterStateHook$1||{});function useDataRouterContext(ts){let ns=reactExports.useContext(DataRouterContext);return ns||invariant(!1),ns}function useDataRouterState(ts){let ns=reactExports.useContext(DataRouterStateContext);return ns||invariant(!1),ns}function useRouteContext(ts){let ns=reactExports.useContext(RouteContext);return ns||invariant(!1),ns}function useCurrentRouteId(ts){let ns=useRouteContext(),rs=ns.matches[ns.matches.length-1];return rs.route.id||invariant(!1),rs.route.id}function useRouteError(){var ts;let ns=reactExports.useContext(RouteErrorContext),rs=useDataRouterState(DataRouterStateHook$1.UseRouteError),is=useCurrentRouteId(DataRouterStateHook$1.UseRouteError);return ns!==void 0?ns:(ts=rs.errors)==null?void 0:ts[is]}function useNavigateStable(){let{router:ts}=useDataRouterContext(DataRouterHook$1.UseNavigateStable),ns=useCurrentRouteId(DataRouterStateHook$1.UseNavigateStable),rs=reactExports.useRef(!1);return useIsomorphicLayoutEffect$1(()=>{rs.current=!0}),reactExports.useCallback(function(os,ss){ss===void 0&&(ss={}),rs.current&&(typeof os=="number"?ts.navigate(os):ts.navigate(os,_extends$8({fromRouteId:ns},ss)))},[ts,ns])}const alreadyWarned$1={};function warningOnce(ts,ns,rs){!ns&&!alreadyWarned$1[ts]&&(alreadyWarned$1[ts]=!0)}function Navigate(ts){let{to:ns,replace:rs,state:is,relative:os}=ts;useInRouterContext()||invariant(!1);let{future:ss,static:as}=reactExports.useContext(NavigationContext),{matches:ls}=reactExports.useContext(RouteContext),{pathname:cs}=useLocation(),us=useNavigate(),ds=resolveTo(ns,getResolveToMatches(ls,ss.v7_relativeSplatPath),cs,os==="path"),ps=JSON.stringify(ds);return reactExports.useEffect(()=>us(JSON.parse(ps),{replace:rs,state:is,relative:os}),[us,ps,os,rs,is]),null}function Outlet(ts){return useOutlet(ts.context)}function Route(ts){invariant(!1)}function Router(ts){let{basename:ns="/",children:rs=null,location:is,navigationType:os=Action.Pop,navigator:ss,static:as=!1,future:ls}=ts;useInRouterContext()&&invariant(!1);let cs=ns.replace(/^\/*/,"/"),us=reactExports.useMemo(()=>({basename:cs,navigator:ss,static:as,future:_extends$8({v7_relativeSplatPath:!1},ls)}),[cs,ls,ss,as]);typeof is=="string"&&(is=parsePath(is));let{pathname:ds="/",search:ps="",hash:hs="",state:ms=null,key:gs="default"}=is,ys=reactExports.useMemo(()=>{let vs=stripBasename(ds,cs);return vs==null?null:{location:{pathname:vs,search:ps,hash:hs,state:ms,key:gs},navigationType:os}},[cs,ds,ps,hs,ms,gs,os]);return ys==null?null:reactExports.createElement(NavigationContext.Provider,{value:us},reactExports.createElement(LocationContext.Provider,{children:rs,value:ys}))}function Routes(ts){let{children:ns,location:rs}=ts;return useRoutes(createRoutesFromChildren(ns),rs)}new Promise(()=>{});function createRoutesFromChildren(ts,ns){ns===void 0&&(ns=[]);let rs=[];return reactExports.Children.forEach(ts,(is,os)=>{if(!reactExports.isValidElement(is))return;let ss=[...ns,os];if(is.type===reactExports.Fragment){rs.push.apply(rs,createRoutesFromChildren(is.props.children,ss));return}is.type!==Route&&invariant(!1),!is.props.index||!is.props.children||invariant(!1);let as={id:is.props.id||ss.join("-"),caseSensitive:is.props.caseSensitive,element:is.props.element,Component:is.props.Component,index:is.props.index,path:is.props.path,loader:is.props.loader,action:is.props.action,errorElement:is.props.errorElement,ErrorBoundary:is.props.ErrorBoundary,hasErrorBoundary:is.props.ErrorBoundary!=null||is.props.errorElement!=null,shouldRevalidate:is.props.shouldRevalidate,handle:is.props.handle,lazy:is.props.lazy};is.props.children&&(as.children=createRoutesFromChildren(is.props.children,ss)),rs.push(as)}),rs}/**
 * React Router DOM v6.25.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$7(){return _extends$7=Object.assign?Object.assign.bind():function(ts){for(var ns=1;ns<arguments.length;ns++){var rs=arguments[ns];for(var is in rs)Object.prototype.hasOwnProperty.call(rs,is)&&(ts[is]=rs[is])}return ts},_extends$7.apply(this,arguments)}function _objectWithoutPropertiesLoose$4(ts,ns){if(ts==null)return{};var rs={},is=Object.keys(ts),os,ss;for(ss=0;ss<is.length;ss++)os=is[ss],!(ns.indexOf(os)>=0)&&(rs[os]=ts[os]);return rs}function isModifiedEvent(ts){return!!(ts.metaKey||ts.altKey||ts.ctrlKey||ts.shiftKey)}function shouldProcessLinkClick(ts,ns){return ts.button===0&&(!ns||ns==="_self")&&!isModifiedEvent(ts)}function createSearchParams(ts){return ts===void 0&&(ts=""),new URLSearchParams(typeof ts=="string"||Array.isArray(ts)||ts instanceof URLSearchParams?ts:Object.keys(ts).reduce((ns,rs)=>{let is=ts[rs];return ns.concat(Array.isArray(is)?is.map(os=>[rs,os]):[[rs,is]])},[]))}function getSearchParamsForLocation(ts,ns){let rs=createSearchParams(ts);return ns&&ns.forEach((is,os)=>{rs.has(os)||ns.getAll(os).forEach(ss=>{rs.append(os,ss)})}),rs}const _excluded$1J=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],REACT_ROUTER_VERSION="6";try{window.__reactRouterVersion=REACT_ROUTER_VERSION}catch{}const START_TRANSITION="startTransition",startTransitionImpl=React$2[START_TRANSITION];function BrowserRouter(ts){let{basename:ns,children:rs,future:is,window:os}=ts,ss=reactExports.useRef();ss.current==null&&(ss.current=createBrowserHistory({window:os,v5Compat:!0}));let as=ss.current,[ls,cs]=reactExports.useState({action:as.action,location:as.location}),{v7_startTransition:us}=is||{},ds=reactExports.useCallback(ps=>{us&&startTransitionImpl?startTransitionImpl(()=>cs(ps)):cs(ps)},[cs,us]);return reactExports.useLayoutEffect(()=>as.listen(ds),[as,ds]),reactExports.createElement(Router,{basename:ns,children:rs,location:ls.location,navigationType:ls.action,navigator:as,future:is})}const isBrowser$3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ABSOLUTE_URL_REGEX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link$2=reactExports.forwardRef(function(ns,rs){let{onClick:is,relative:os,reloadDocument:ss,replace:as,state:ls,target:cs,to:us,preventScrollReset:ds,unstable_viewTransition:ps}=ns,hs=_objectWithoutPropertiesLoose$4(ns,_excluded$1J),{basename:ms}=reactExports.useContext(NavigationContext),gs,ys=!1;if(typeof us=="string"&&ABSOLUTE_URL_REGEX.test(us)&&(gs=us,isBrowser$3))try{let $s=new URL(window.location.href),Cs=us.startsWith("//")?new URL($s.protocol+us):new URL(us),Es=stripBasename(Cs.pathname,ms);Cs.origin===$s.origin&&Es!=null?us=Es+Cs.search+Cs.hash:ys=!0}catch{}let vs=useHref(us,{relative:os}),bs=useLinkClickHandler(us,{replace:as,state:ls,target:cs,preventScrollReset:ds,relative:os,unstable_viewTransition:ps});function Ss($s){is&&is($s),$s.defaultPrevented||bs($s)}return reactExports.createElement("a",_extends$7({},hs,{href:gs||vs,onClick:ys||ss?is:Ss,ref:rs,target:cs}))});var DataRouterHook;(function(ts){ts.UseScrollRestoration="useScrollRestoration",ts.UseSubmit="useSubmit",ts.UseSubmitFetcher="useSubmitFetcher",ts.UseFetcher="useFetcher",ts.useViewTransitionState="useViewTransitionState"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(ts){ts.UseFetcher="useFetcher",ts.UseFetchers="useFetchers",ts.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));function useLinkClickHandler(ts,ns){let{target:rs,replace:is,state:os,preventScrollReset:ss,relative:as,unstable_viewTransition:ls}=ns===void 0?{}:ns,cs=useNavigate(),us=useLocation(),ds=useResolvedPath(ts,{relative:as});return reactExports.useCallback(ps=>{if(shouldProcessLinkClick(ps,rs)){ps.preventDefault();let hs=is!==void 0?is:createPath(us)===createPath(ds);cs(ts,{replace:hs,state:os,preventScrollReset:ss,relative:as,unstable_viewTransition:ls})}},[us,cs,ds,is,os,rs,ts,ss,as,ls])}function useSearchParams(ts){let ns=reactExports.useRef(createSearchParams(ts)),rs=reactExports.useRef(!1),is=useLocation(),os=reactExports.useMemo(()=>getSearchParamsForLocation(is.search,rs.current?null:ns.current),[is.search]),ss=useNavigate(),as=reactExports.useCallback((ls,cs)=>{const us=createSearchParams(typeof ls=="function"?ls(os):ls);rs.current=!0,ss("?"+us,cs)},[ss,os]);return[os,as]}const common$1={black:"#000",white:"#fff"},common$2=common$1,red={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},red$1=red,purple={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},purple$1=purple,blue={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},blue$1=blue,lightBlue={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},lightBlue$1=lightBlue,green={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},green$1=green,orange={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},orange$1=orange,grey={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},grey$1=grey;function formatMuiErrorMessage$1(ts){let ns="https://mui.com/production-error/?code="+ts;for(let rs=1;rs<arguments.length;rs+=1)ns+="&args[]="+encodeURIComponent(arguments[rs]);return"Minified MUI error #"+ts+"; visit "+ns+" for the full message."}const formatMuiErrorMessage=Object.freeze(Object.defineProperty({__proto__:null,default:formatMuiErrorMessage$1},Symbol.toStringTag,{value:"Module"})),THEME_ID="$$material";function _objectWithoutPropertiesLoose$3(ts,ns){if(ts==null)return{};var rs={};for(var is in ts)if({}.hasOwnProperty.call(ts,is)){if(ns.includes(is))continue;rs[is]=ts[is]}return rs}function memoize$5(ts){var ns=Object.create(null);return function(rs){return ns[rs]===void 0&&(ns[rs]=ts(rs)),ns[rs]}}var reactPropsRegex=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,isPropValid=memoize$5(function(ts){return reactPropsRegex.test(ts)||ts.charCodeAt(0)===111&&ts.charCodeAt(1)===110&&ts.charCodeAt(2)<91}),isDevelopment$2=!1;function sheetForTag(ts){if(ts.sheet)return ts.sheet;for(var ns=0;ns<document.styleSheets.length;ns++)if(document.styleSheets[ns].ownerNode===ts)return document.styleSheets[ns]}function createStyleElement(ts){var ns=document.createElement("style");return ns.setAttribute("data-emotion",ts.key),ts.nonce!==void 0&&ns.setAttribute("nonce",ts.nonce),ns.appendChild(document.createTextNode("")),ns.setAttribute("data-s",""),ns}var StyleSheet=function(){function ts(rs){var is=this;this._insertTag=function(os){var ss;is.tags.length===0?is.insertionPoint?ss=is.insertionPoint.nextSibling:is.prepend?ss=is.container.firstChild:ss=is.before:ss=is.tags[is.tags.length-1].nextSibling,is.container.insertBefore(os,ss),is.tags.push(os)},this.isSpeedy=rs.speedy===void 0?!isDevelopment$2:rs.speedy,this.tags=[],this.ctr=0,this.nonce=rs.nonce,this.key=rs.key,this.container=rs.container,this.prepend=rs.prepend,this.insertionPoint=rs.insertionPoint,this.before=null}var ns=ts.prototype;return ns.hydrate=function(is){is.forEach(this._insertTag)},ns.insert=function(is){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(createStyleElement(this));var os=this.tags[this.tags.length-1];if(this.isSpeedy){var ss=sheetForTag(os);try{ss.insertRule(is,ss.cssRules.length)}catch{}}else os.appendChild(document.createTextNode(is));this.ctr++},ns.flush=function(){this.tags.forEach(function(is){var os;return(os=is.parentNode)==null?void 0:os.removeChild(is)}),this.tags=[],this.ctr=0},ts}(),MS="-ms-",MOZ="-moz-",WEBKIT="-webkit-",COMMENT$1="comm",RULESET="rule",DECLARATION="decl",IMPORT="@import",KEYFRAMES="@keyframes",LAYER="@layer",abs=Math.abs,from=String.fromCharCode,assign$1=Object.assign;function hash$4(ts,ns){return charat(ts,0)^45?(((ns<<2^charat(ts,0))<<2^charat(ts,1))<<2^charat(ts,2))<<2^charat(ts,3):0}function trim$3(ts){return ts.trim()}function match$1(ts,ns){return(ts=ns.exec(ts))?ts[0]:ts}function replace(ts,ns,rs){return ts.replace(ns,rs)}function indexof(ts,ns){return ts.indexOf(ns)}function charat(ts,ns){return ts.charCodeAt(ns)|0}function substr(ts,ns,rs){return ts.slice(ns,rs)}function strlen(ts){return ts.length}function sizeof(ts){return ts.length}function append(ts,ns){return ns.push(ts),ts}function combine(ts,ns){return ts.map(ns).join("")}var line=1,column=1,length=0,position$3=0,character=0,characters="";function node$1(ts,ns,rs,is,os,ss,as){return{value:ts,root:ns,parent:rs,type:is,props:os,children:ss,line,column,length:as,return:""}}function copy$1(ts,ns){return assign$1(node$1("",null,null,"",null,null,0),ts,{length:-ts.length},ns)}function char(){return character}function prev(){return character=position$3>0?charat(characters,--position$3):0,column--,character===10&&(column=1,line--),character}function next(){return character=position$3<length?charat(characters,position$3++):0,column++,character===10&&(column=1,line++),character}function peek(){return charat(characters,position$3)}function caret(){return position$3}function slice$2(ts,ns){return substr(characters,ts,ns)}function token(ts){switch(ts){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function alloc(ts){return line=column=1,length=strlen(characters=ts),position$3=0,[]}function dealloc(ts){return characters="",ts}function delimit(ts){return trim$3(slice$2(position$3-1,delimiter(ts===91?ts+2:ts===40?ts+1:ts)))}function whitespace$1(ts){for(;(character=peek())&&character<33;)next();return token(ts)>2||token(character)>3?"":" "}function escaping(ts,ns){for(;--ns&&next()&&!(character<48||character>102||character>57&&character<65||character>70&&character<97););return slice$2(ts,caret()+(ns<6&&peek()==32&&next()==32))}function delimiter(ts){for(;next();)switch(character){case ts:return position$3;case 34:case 39:ts!==34&&ts!==39&&delimiter(character);break;case 40:ts===41&&delimiter(ts);break;case 92:next();break}return position$3}function commenter(ts,ns){for(;next()&&ts+character!==47+10;)if(ts+character===42+42&&peek()===47)break;return"/*"+slice$2(ns,position$3-1)+"*"+from(ts===47?ts:next())}function identifier(ts){for(;!token(peek());)next();return slice$2(ts,position$3)}function compile(ts){return dealloc(parse$2("",null,null,null,[""],ts=alloc(ts),0,[0],ts))}function parse$2(ts,ns,rs,is,os,ss,as,ls,cs){for(var us=0,ds=0,ps=as,hs=0,ms=0,gs=0,ys=1,vs=1,bs=1,Ss=0,$s="",Cs=os,Es=ss,xs=is,ws=$s;vs;)switch(gs=Ss,Ss=next()){case 40:if(gs!=108&&charat(ws,ps-1)==58){indexof(ws+=replace(delimit(Ss),"&","&\f"),"&\f")!=-1&&(bs=-1);break}case 34:case 39:case 91:ws+=delimit(Ss);break;case 9:case 10:case 13:case 32:ws+=whitespace$1(gs);break;case 92:ws+=escaping(caret()-1,7);continue;case 47:switch(peek()){case 42:case 47:append(comment(commenter(next(),caret()),ns,rs),cs);break;default:ws+="/"}break;case 123*ys:ls[us++]=strlen(ws)*bs;case 125*ys:case 59:case 0:switch(Ss){case 0:case 125:vs=0;case 59+ds:bs==-1&&(ws=replace(ws,/\f/g,"")),ms>0&&strlen(ws)-ps&&append(ms>32?declaration(ws+";",is,rs,ps-1):declaration(replace(ws," ","")+";",is,rs,ps-2),cs);break;case 59:ws+=";";default:if(append(xs=ruleset(ws,ns,rs,us,ds,os,ls,$s,Cs=[],Es=[],ps),ss),Ss===123)if(ds===0)parse$2(ws,ns,xs,xs,Cs,ss,ps,ls,Es);else switch(hs===99&&charat(ws,3)===110?100:hs){case 100:case 108:case 109:case 115:parse$2(ts,xs,xs,is&&append(ruleset(ts,xs,xs,0,0,os,ls,$s,os,Cs=[],ps),Es),os,Es,ps,ls,is?Cs:Es);break;default:parse$2(ws,xs,xs,xs,[""],Es,0,ls,Es)}}us=ds=ms=0,ys=bs=1,$s=ws="",ps=as;break;case 58:ps=1+strlen(ws),ms=gs;default:if(ys<1){if(Ss==123)--ys;else if(Ss==125&&ys++==0&&prev()==125)continue}switch(ws+=from(Ss),Ss*ys){case 38:bs=ds>0?1:(ws+="\f",-1);break;case 44:ls[us++]=(strlen(ws)-1)*bs,bs=1;break;case 64:peek()===45&&(ws+=delimit(next())),hs=peek(),ds=ps=strlen($s=ws+=identifier(caret())),Ss++;break;case 45:gs===45&&strlen(ws)==2&&(ys=0)}}return ss}function ruleset(ts,ns,rs,is,os,ss,as,ls,cs,us,ds){for(var ps=os-1,hs=os===0?ss:[""],ms=sizeof(hs),gs=0,ys=0,vs=0;gs<is;++gs)for(var bs=0,Ss=substr(ts,ps+1,ps=abs(ys=as[gs])),$s=ts;bs<ms;++bs)($s=trim$3(ys>0?hs[bs]+" "+Ss:replace(Ss,/&\f/g,hs[bs])))&&(cs[vs++]=$s);return node$1(ts,ns,rs,os===0?RULESET:ls,cs,us,ds)}function comment(ts,ns,rs){return node$1(ts,ns,rs,COMMENT$1,from(char()),substr(ts,2,-2),0)}function declaration(ts,ns,rs,is){return node$1(ts,ns,rs,DECLARATION,substr(ts,0,is),substr(ts,is+1,-1),is)}function serialize$1(ts,ns){for(var rs="",is=sizeof(ts),os=0;os<is;os++)rs+=ns(ts[os],os,ts,ns)||"";return rs}function stringify$4(ts,ns,rs,is){switch(ts.type){case LAYER:if(ts.children.length)break;case IMPORT:case DECLARATION:return ts.return=ts.return||ts.value;case COMMENT$1:return"";case KEYFRAMES:return ts.return=ts.value+"{"+serialize$1(ts.children,is)+"}";case RULESET:ts.value=ts.props.join(",")}return strlen(rs=serialize$1(ts.children,is))?ts.return=ts.value+"{"+rs+"}":""}function middleware(ts){var ns=sizeof(ts);return function(rs,is,os,ss){for(var as="",ls=0;ls<ns;ls++)as+=ts[ls](rs,is,os,ss)||"";return as}}function rulesheet(ts){return function(ns){ns.root||(ns=ns.return)&&ts(ns)}}var identifierWithPointTracking=function(ns,rs,is){for(var os=0,ss=0;os=ss,ss=peek(),os===38&&ss===12&&(rs[is]=1),!token(ss);)next();return slice$2(ns,position$3)},toRules=function(ns,rs){var is=-1,os=44;do switch(token(os)){case 0:os===38&&peek()===12&&(rs[is]=1),ns[is]+=identifierWithPointTracking(position$3-1,rs,is);break;case 2:ns[is]+=delimit(os);break;case 4:if(os===44){ns[++is]=peek()===58?"&\f":"",rs[is]=ns[is].length;break}default:ns[is]+=from(os)}while(os=next());return ns},getRules=function(ns,rs){return dealloc(toRules(alloc(ns),rs))},fixedElements=new WeakMap,compat=function(ns){if(!(ns.type!=="rule"||!ns.parent||ns.length<1)){for(var rs=ns.value,is=ns.parent,os=ns.column===is.column&&ns.line===is.line;is.type!=="rule";)if(is=is.parent,!is)return;if(!(ns.props.length===1&&rs.charCodeAt(0)!==58&&!fixedElements.get(is))&&!os){fixedElements.set(ns,!0);for(var ss=[],as=getRules(rs,ss),ls=is.props,cs=0,us=0;cs<as.length;cs++)for(var ds=0;ds<ls.length;ds++,us++)ns.props[us]=ss[cs]?as[cs].replace(/&\f/g,ls[ds]):ls[ds]+" "+as[cs]}}},removeLabel=function(ns){if(ns.type==="decl"){var rs=ns.value;rs.charCodeAt(0)===108&&rs.charCodeAt(2)===98&&(ns.return="",ns.value="")}};function prefix(ts,ns){switch(hash$4(ts,ns)){case 5103:return WEBKIT+"print-"+ts+ts;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return WEBKIT+ts+ts;case 5349:case 4246:case 4810:case 6968:case 2756:return WEBKIT+ts+MOZ+ts+MS+ts+ts;case 6828:case 4268:return WEBKIT+ts+MS+ts+ts;case 6165:return WEBKIT+ts+MS+"flex-"+ts+ts;case 5187:return WEBKIT+ts+replace(ts,/(\w+).+(:[^]+)/,WEBKIT+"box-$1$2"+MS+"flex-$1$2")+ts;case 5443:return WEBKIT+ts+MS+"flex-item-"+replace(ts,/flex-|-self/,"")+ts;case 4675:return WEBKIT+ts+MS+"flex-line-pack"+replace(ts,/align-content|flex-|-self/,"")+ts;case 5548:return WEBKIT+ts+MS+replace(ts,"shrink","negative")+ts;case 5292:return WEBKIT+ts+MS+replace(ts,"basis","preferred-size")+ts;case 6060:return WEBKIT+"box-"+replace(ts,"-grow","")+WEBKIT+ts+MS+replace(ts,"grow","positive")+ts;case 4554:return WEBKIT+replace(ts,/([^-])(transform)/g,"$1"+WEBKIT+"$2")+ts;case 6187:return replace(replace(replace(ts,/(zoom-|grab)/,WEBKIT+"$1"),/(image-set)/,WEBKIT+"$1"),ts,"")+ts;case 5495:case 3959:return replace(ts,/(image-set\([^]*)/,WEBKIT+"$1$`$1");case 4968:return replace(replace(ts,/(.+:)(flex-)?(.*)/,WEBKIT+"box-pack:$3"+MS+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+WEBKIT+ts+ts;case 4095:case 3583:case 4068:case 2532:return replace(ts,/(.+)-inline(.+)/,WEBKIT+"$1$2")+ts;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(strlen(ts)-1-ns>6)switch(charat(ts,ns+1)){case 109:if(charat(ts,ns+4)!==45)break;case 102:return replace(ts,/(.+:)(.+)-([^]+)/,"$1"+WEBKIT+"$2-$3$1"+MOZ+(charat(ts,ns+3)==108?"$3":"$2-$3"))+ts;case 115:return~indexof(ts,"stretch")?prefix(replace(ts,"stretch","fill-available"),ns)+ts:ts}break;case 4949:if(charat(ts,ns+1)!==115)break;case 6444:switch(charat(ts,strlen(ts)-3-(~indexof(ts,"!important")&&10))){case 107:return replace(ts,":",":"+WEBKIT)+ts;case 101:return replace(ts,/(.+:)([^;!]+)(;|!.+)?/,"$1"+WEBKIT+(charat(ts,14)===45?"inline-":"")+"box$3$1"+WEBKIT+"$2$3$1"+MS+"$2box$3")+ts}break;case 5936:switch(charat(ts,ns+11)){case 114:return WEBKIT+ts+MS+replace(ts,/[svh]\w+-[tblr]{2}/,"tb")+ts;case 108:return WEBKIT+ts+MS+replace(ts,/[svh]\w+-[tblr]{2}/,"tb-rl")+ts;case 45:return WEBKIT+ts+MS+replace(ts,/[svh]\w+-[tblr]{2}/,"lr")+ts}return WEBKIT+ts+MS+ts+ts}return ts}var prefixer=function(ns,rs,is,os){if(ns.length>-1&&!ns.return)switch(ns.type){case DECLARATION:ns.return=prefix(ns.value,ns.length);break;case KEYFRAMES:return serialize$1([copy$1(ns,{value:replace(ns.value,"@","@"+WEBKIT)})],os);case RULESET:if(ns.length)return combine(ns.props,function(ss){switch(match$1(ss,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return serialize$1([copy$1(ns,{props:[replace(ss,/:(read-\w+)/,":"+MOZ+"$1")]})],os);case"::placeholder":return serialize$1([copy$1(ns,{props:[replace(ss,/:(plac\w+)/,":"+WEBKIT+"input-$1")]}),copy$1(ns,{props:[replace(ss,/:(plac\w+)/,":"+MOZ+"$1")]}),copy$1(ns,{props:[replace(ss,/:(plac\w+)/,MS+"input-$1")]})],os)}return""})}},defaultStylisPlugins=[prefixer],createCache=function(ns){var rs=ns.key;if(rs==="css"){var is=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(is,function(ys){var vs=ys.getAttribute("data-emotion");vs.indexOf(" ")!==-1&&(document.head.appendChild(ys),ys.setAttribute("data-s",""))})}var os=ns.stylisPlugins||defaultStylisPlugins,ss={},as,ls=[];as=ns.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+rs+' "]'),function(ys){for(var vs=ys.getAttribute("data-emotion").split(" "),bs=1;bs<vs.length;bs++)ss[vs[bs]]=!0;ls.push(ys)});var cs,us=[compat,removeLabel];{var ds,ps=[stringify$4,rulesheet(function(ys){ds.insert(ys)})],hs=middleware(us.concat(os,ps)),ms=function(vs){return serialize$1(compile(vs),hs)};cs=function(vs,bs,Ss,$s){ds=Ss,ms(vs?vs+"{"+bs.styles+"}":bs.styles),$s&&(gs.inserted[bs.name]=!0)}}var gs={key:rs,sheet:new StyleSheet({key:rs,container:as,nonce:ns.nonce,speedy:ns.speedy,prepend:ns.prepend,insertionPoint:ns.insertionPoint}),nonce:ns.nonce,inserted:ss,registered:{},insert:cs};return gs.sheet.hydrate(ls),gs},reactIs$2={exports:{}},reactIs_production_min$1={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b$3=typeof Symbol=="function"&&Symbol.for,c$2=b$3?Symbol.for("react.element"):60103,d$2=b$3?Symbol.for("react.portal"):60106,e$5=b$3?Symbol.for("react.fragment"):60107,f$3=b$3?Symbol.for("react.strict_mode"):60108,g$3=b$3?Symbol.for("react.profiler"):60114,h$4=b$3?Symbol.for("react.provider"):60109,k$4=b$3?Symbol.for("react.context"):60110,l$4=b$3?Symbol.for("react.async_mode"):60111,m$4=b$3?Symbol.for("react.concurrent_mode"):60111,n$5=b$3?Symbol.for("react.forward_ref"):60112,p$5=b$3?Symbol.for("react.suspense"):60113,q$5=b$3?Symbol.for("react.suspense_list"):60120,r$5=b$3?Symbol.for("react.memo"):60115,t$5=b$3?Symbol.for("react.lazy"):60116,v$4=b$3?Symbol.for("react.block"):60121,w$2=b$3?Symbol.for("react.fundamental"):60117,x$1=b$3?Symbol.for("react.responder"):60118,y$1=b$3?Symbol.for("react.scope"):60119;function z$1(ts){if(typeof ts=="object"&&ts!==null){var ns=ts.$$typeof;switch(ns){case c$2:switch(ts=ts.type,ts){case l$4:case m$4:case e$5:case g$3:case f$3:case p$5:return ts;default:switch(ts=ts&&ts.$$typeof,ts){case k$4:case n$5:case t$5:case r$5:case h$4:return ts;default:return ns}}case d$2:return ns}}}function A(ts){return z$1(ts)===m$4}reactIs_production_min$1.AsyncMode=l$4;reactIs_production_min$1.ConcurrentMode=m$4;reactIs_production_min$1.ContextConsumer=k$4;reactIs_production_min$1.ContextProvider=h$4;reactIs_production_min$1.Element=c$2;reactIs_production_min$1.ForwardRef=n$5;reactIs_production_min$1.Fragment=e$5;reactIs_production_min$1.Lazy=t$5;reactIs_production_min$1.Memo=r$5;reactIs_production_min$1.Portal=d$2;reactIs_production_min$1.Profiler=g$3;reactIs_production_min$1.StrictMode=f$3;reactIs_production_min$1.Suspense=p$5;reactIs_production_min$1.isAsyncMode=function(ts){return A(ts)||z$1(ts)===l$4};reactIs_production_min$1.isConcurrentMode=A;reactIs_production_min$1.isContextConsumer=function(ts){return z$1(ts)===k$4};reactIs_production_min$1.isContextProvider=function(ts){return z$1(ts)===h$4};reactIs_production_min$1.isElement=function(ts){return typeof ts=="object"&&ts!==null&&ts.$$typeof===c$2};reactIs_production_min$1.isForwardRef=function(ts){return z$1(ts)===n$5};reactIs_production_min$1.isFragment=function(ts){return z$1(ts)===e$5};reactIs_production_min$1.isLazy=function(ts){return z$1(ts)===t$5};reactIs_production_min$1.isMemo=function(ts){return z$1(ts)===r$5};reactIs_production_min$1.isPortal=function(ts){return z$1(ts)===d$2};reactIs_production_min$1.isProfiler=function(ts){return z$1(ts)===g$3};reactIs_production_min$1.isStrictMode=function(ts){return z$1(ts)===f$3};reactIs_production_min$1.isSuspense=function(ts){return z$1(ts)===p$5};reactIs_production_min$1.isValidElementType=function(ts){return typeof ts=="string"||typeof ts=="function"||ts===e$5||ts===m$4||ts===g$3||ts===f$3||ts===p$5||ts===q$5||typeof ts=="object"&&ts!==null&&(ts.$$typeof===t$5||ts.$$typeof===r$5||ts.$$typeof===h$4||ts.$$typeof===k$4||ts.$$typeof===n$5||ts.$$typeof===w$2||ts.$$typeof===x$1||ts.$$typeof===y$1||ts.$$typeof===v$4)};reactIs_production_min$1.typeOf=z$1;reactIs$2.exports=reactIs_production_min$1;var reactIsExports$1=reactIs$2.exports,reactIs$1=reactIsExports$1,REACT_STATICS={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},KNOWN_STATICS={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},FORWARD_REF_STATICS={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},MEMO_STATICS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},TYPE_STATICS={};TYPE_STATICS[reactIs$1.ForwardRef]=FORWARD_REF_STATICS;TYPE_STATICS[reactIs$1.Memo]=MEMO_STATICS;function getStatics(ts){return reactIs$1.isMemo(ts)?MEMO_STATICS:TYPE_STATICS[ts.$$typeof]||REACT_STATICS}var defineProperty$3=Object.defineProperty,getOwnPropertyNames=Object.getOwnPropertyNames,getOwnPropertySymbols$1=Object.getOwnPropertySymbols,getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,getPrototypeOf=Object.getPrototypeOf,objectPrototype=Object.prototype;function hoistNonReactStatics(ts,ns,rs){if(typeof ns!="string"){if(objectPrototype){var is=getPrototypeOf(ns);is&&is!==objectPrototype&&hoistNonReactStatics(ts,is,rs)}var os=getOwnPropertyNames(ns);getOwnPropertySymbols$1&&(os=os.concat(getOwnPropertySymbols$1(ns)));for(var ss=getStatics(ts),as=getStatics(ns),ls=0;ls<os.length;++ls){var cs=os[ls];if(!KNOWN_STATICS[cs]&&!(rs&&rs[cs])&&!(as&&as[cs])&&!(ss&&ss[cs])){var us=getOwnPropertyDescriptor(ns,cs);try{defineProperty$3(ts,cs,us)}catch{}}}}return ts}var hoistNonReactStatics_cjs=hoistNonReactStatics;const m$3=getDefaultExportFromCjs(hoistNonReactStatics_cjs);var isBrowser$2=!0;function getRegisteredStyles(ts,ns,rs){var is="";return rs.split(" ").forEach(function(os){ts[os]!==void 0?ns.push(ts[os]+";"):is+=os+" "}),is}var registerStyles=function(ns,rs,is){var os=ns.key+"-"+rs.name;(is===!1||isBrowser$2===!1)&&ns.registered[os]===void 0&&(ns.registered[os]=rs.styles)},insertStyles=function(ns,rs,is){registerStyles(ns,rs,is);var os=ns.key+"-"+rs.name;if(ns.inserted[rs.name]===void 0){var ss=rs;do ns.insert(rs===ss?"."+os:"",ss,ns.sheet,!0),ss=ss.next;while(ss!==void 0)}};function murmur2(ts){for(var ns=0,rs,is=0,os=ts.length;os>=4;++is,os-=4)rs=ts.charCodeAt(is)&255|(ts.charCodeAt(++is)&255)<<8|(ts.charCodeAt(++is)&255)<<16|(ts.charCodeAt(++is)&255)<<24,rs=(rs&65535)*1540483477+((rs>>>16)*59797<<16),rs^=rs>>>24,ns=(rs&65535)*1540483477+((rs>>>16)*59797<<16)^(ns&65535)*1540483477+((ns>>>16)*59797<<16);switch(os){case 3:ns^=(ts.charCodeAt(is+2)&255)<<16;case 2:ns^=(ts.charCodeAt(is+1)&255)<<8;case 1:ns^=ts.charCodeAt(is)&255,ns=(ns&65535)*1540483477+((ns>>>16)*59797<<16)}return ns^=ns>>>13,ns=(ns&65535)*1540483477+((ns>>>16)*59797<<16),((ns^ns>>>15)>>>0).toString(36)}var unitlessKeys$1={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},isDevelopment$1=!1,hyphenateRegex=/[A-Z]|^ms/g,animationRegex=/_EMO_([^_]+?)_([^]*?)_EMO_/g,isCustomProperty=function(ns){return ns.charCodeAt(1)===45},isProcessableValue=function(ns){return ns!=null&&typeof ns!="boolean"},processStyleName=memoize$5(function(ts){return isCustomProperty(ts)?ts:ts.replace(hyphenateRegex,"-$&").toLowerCase()}),processStyleValue=function(ns,rs){switch(ns){case"animation":case"animationName":if(typeof rs=="string")return rs.replace(animationRegex,function(is,os,ss){return cursor={name:os,styles:ss,next:cursor},os})}return unitlessKeys$1[ns]!==1&&!isCustomProperty(ns)&&typeof rs=="number"&&rs!==0?rs+"px":rs},noComponentSelectorMessage="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function handleInterpolation(ts,ns,rs){if(rs==null)return"";var is=rs;if(is.__emotion_styles!==void 0)return is;switch(typeof rs){case"boolean":return"";case"object":{var os=rs;if(os.anim===1)return cursor={name:os.name,styles:os.styles,next:cursor},os.name;var ss=rs;if(ss.styles!==void 0){var as=ss.next;if(as!==void 0)for(;as!==void 0;)cursor={name:as.name,styles:as.styles,next:cursor},as=as.next;var ls=ss.styles+";";return ls}return createStringFromObject(ts,ns,rs)}case"function":{if(ts!==void 0){var cs=cursor,us=rs(ts);return cursor=cs,handleInterpolation(ts,ns,us)}break}}var ds=rs;if(ns==null)return ds;var ps=ns[ds];return ps!==void 0?ps:ds}function createStringFromObject(ts,ns,rs){var is="";if(Array.isArray(rs))for(var os=0;os<rs.length;os++)is+=handleInterpolation(ts,ns,rs[os])+";";else for(var ss in rs){var as=rs[ss];if(typeof as!="object"){var ls=as;ns!=null&&ns[ls]!==void 0?is+=ss+"{"+ns[ls]+"}":isProcessableValue(ls)&&(is+=processStyleName(ss)+":"+processStyleValue(ss,ls)+";")}else{if(ss==="NO_COMPONENT_SELECTOR"&&isDevelopment$1)throw new Error(noComponentSelectorMessage);if(Array.isArray(as)&&typeof as[0]=="string"&&(ns==null||ns[as[0]]===void 0))for(var cs=0;cs<as.length;cs++)isProcessableValue(as[cs])&&(is+=processStyleName(ss)+":"+processStyleValue(ss,as[cs])+";");else{var us=handleInterpolation(ts,ns,as);switch(ss){case"animation":case"animationName":{is+=processStyleName(ss)+":"+us+";";break}default:is+=ss+"{"+us+"}"}}}}return is}var labelPattern=/label:\s*([^\s;\n{]+)\s*(;|$)/g,cursor;function serializeStyles(ts,ns,rs){if(ts.length===1&&typeof ts[0]=="object"&&ts[0]!==null&&ts[0].styles!==void 0)return ts[0];var is=!0,os="";cursor=void 0;var ss=ts[0];if(ss==null||ss.raw===void 0)is=!1,os+=handleInterpolation(rs,ns,ss);else{var as=ss;os+=as[0]}for(var ls=1;ls<ts.length;ls++)if(os+=handleInterpolation(rs,ns,ts[ls]),is){var cs=ss;os+=cs[ls]}labelPattern.lastIndex=0;for(var us="",ds;(ds=labelPattern.exec(os))!==null;)us+="-"+ds[1];var ps=murmur2(os)+us;return{name:ps,styles:os,next:cursor}}var syncFallback=function(ns){return ns()},useInsertionEffect=React$2["useInsertionEffect"]?React$2["useInsertionEffect"]:!1,useInsertionEffectAlwaysWithSyncFallback=useInsertionEffect||syncFallback,useInsertionEffectWithLayoutFallback=useInsertionEffect||reactExports.useLayoutEffect,EmotionCacheContext=reactExports.createContext(typeof HTMLElement<"u"?createCache({key:"css"}):null),CacheProvider=EmotionCacheContext.Provider,withEmotionCache=function(ns){return reactExports.forwardRef(function(rs,is){var os=reactExports.useContext(EmotionCacheContext);return ns(rs,os,is)})},ThemeContext$2=reactExports.createContext({}),Global=withEmotionCache(function(ts,ns){var rs=ts.styles,is=serializeStyles([rs],void 0,reactExports.useContext(ThemeContext$2)),os=reactExports.useRef();return useInsertionEffectWithLayoutFallback(function(){var ss=ns.key+"-global",as=new ns.sheet.constructor({key:ss,nonce:ns.sheet.nonce,container:ns.sheet.container,speedy:ns.sheet.isSpeedy}),ls=!1,cs=document.querySelector('style[data-emotion="'+ss+" "+is.name+'"]');return ns.sheet.tags.length&&(as.before=ns.sheet.tags[0]),cs!==null&&(ls=!0,cs.setAttribute("data-emotion",ss),as.hydrate([cs])),os.current=[as,ls],function(){as.flush()}},[ns]),useInsertionEffectWithLayoutFallback(function(){var ss=os.current,as=ss[0],ls=ss[1];if(ls){ss[1]=!1;return}if(is.next!==void 0&&insertStyles(ns,is.next,!0),as.tags.length){var cs=as.tags[as.tags.length-1].nextElementSibling;as.before=cs,as.flush()}ns.insert("",is,as,!1)},[ns,is.name]),null});function css$2(){for(var ts=arguments.length,ns=new Array(ts),rs=0;rs<ts;rs++)ns[rs]=arguments[rs];return serializeStyles(ns)}var keyframes=function(){var ns=css$2.apply(void 0,arguments),rs="animation-"+ns.name;return{name:rs,styles:"@keyframes "+rs+"{"+ns.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},testOmitPropsOnStringTag=isPropValid,testOmitPropsOnComponent=function(ns){return ns!=="theme"},getDefaultShouldForwardProp=function(ns){return typeof ns=="string"&&ns.charCodeAt(0)>96?testOmitPropsOnStringTag:testOmitPropsOnComponent},composeShouldForwardProps=function(ns,rs,is){var os;if(rs){var ss=rs.shouldForwardProp;os=ns.__emotion_forwardProp&&ss?function(as){return ns.__emotion_forwardProp(as)&&ss(as)}:ss}return typeof os!="function"&&is&&(os=ns.__emotion_forwardProp),os},isDevelopment=!1,Insertion=function(ns){var rs=ns.cache,is=ns.serialized,os=ns.isStringTag;return registerStyles(rs,is,os),useInsertionEffectAlwaysWithSyncFallback(function(){return insertStyles(rs,is,os)}),null},createStyled$3=function ts(ns,rs){var is=ns.__emotion_real===ns,os=is&&ns.__emotion_base||ns,ss,as;rs!==void 0&&(ss=rs.label,as=rs.target);var ls=composeShouldForwardProps(ns,rs,is),cs=ls||getDefaultShouldForwardProp(os),us=!cs("as");return function(){var ds=arguments,ps=is&&ns.__emotion_styles!==void 0?ns.__emotion_styles.slice(0):[];if(ss!==void 0&&ps.push("label:"+ss+";"),ds[0]==null||ds[0].raw===void 0)ps.push.apply(ps,ds);else{ps.push(ds[0][0]);for(var hs=ds.length,ms=1;ms<hs;ms++)ps.push(ds[ms],ds[0][ms])}var gs=withEmotionCache(function(ys,vs,bs){var Ss=us&&ys.as||os,$s="",Cs=[],Es=ys;if(ys.theme==null){Es={};for(var xs in ys)Es[xs]=ys[xs];Es.theme=reactExports.useContext(ThemeContext$2)}typeof ys.className=="string"?$s=getRegisteredStyles(vs.registered,Cs,ys.className):ys.className!=null&&($s=ys.className+" ");var ws=serializeStyles(ps.concat(Cs),vs.registered,Es);$s+=vs.key+"-"+ws.name,as!==void 0&&($s+=" "+as);var ks=us&&ls===void 0?getDefaultShouldForwardProp(Ss):cs,Is={};for(var Ts in ys)us&&Ts==="as"||ks(Ts)&&(Is[Ts]=ys[Ts]);return Is.className=$s,bs&&(Is.ref=bs),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(Insertion,{cache:vs,serialized:ws,isStringTag:typeof Ss=="string"}),reactExports.createElement(Ss,Is))});return gs.displayName=ss!==void 0?ss:"Styled("+(typeof os=="string"?os:os.displayName||os.name||"Component")+")",gs.defaultProps=ns.defaultProps,gs.__emotion_real=gs,gs.__emotion_base=os,gs.__emotion_styles=ps,gs.__emotion_forwardProp=ls,Object.defineProperty(gs,"toString",{value:function(){return as===void 0&&isDevelopment?"NO_COMPONENT_SELECTOR":"."+as}}),gs.withComponent=function(ys,vs){return ts(ys,_extends$a({},rs,vs,{shouldForwardProp:composeShouldForwardProps(gs,vs,!0)})).apply(void 0,ps)},gs}},tags$1=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],newStyled=createStyled$3.bind();tags$1.forEach(function(ts){newStyled[ts]=newStyled(ts)});var propTypes={exports:{}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function ts(is,os,ss,as,ls,cs){if(cs!==ReactPropTypesSecret){var us=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw us.name="Invariant Violation",us}}ts.isRequired=ts;function ns(){return ts}var rs={array:ts,bigint:ts,bool:ts,func:ts,number:ts,object:ts,string:ts,symbol:ts,any:ts,arrayOf:ns,element:ts,elementType:ts,instanceOf:ns,node:ts,objectOf:ns,oneOf:ns,oneOfType:ns,shape:ns,exact:ns,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return rs.PropTypes=rs,rs};propTypes.exports=factoryWithThrowingShims();var propTypesExports=propTypes.exports;const PropTypes=getDefaultExportFromCjs(propTypesExports);let cache;typeof document=="object"&&(cache=createCache({key:"css",prepend:!0}));function StyledEngineProvider(ts){const{injectFirst:ns,children:rs}=ts;return ns&&cache?jsxRuntimeExports.jsx(CacheProvider,{value:cache,children:rs}):rs}function isEmpty$4(ts){return ts==null||Object.keys(ts).length===0}function GlobalStyles$3(ts){const{styles:ns,defaultTheme:rs={}}=ts,is=typeof ns=="function"?os=>ns(isEmpty$4(os)?rs:os):ns;return jsxRuntimeExports.jsx(Global,{styles:is})}/**
 * @mui/styled-engine v5.16.4
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function styled$4(ts,ns){return newStyled(ts,ns)}const internal_processStyles=(ts,ns)=>{Array.isArray(ts.__emotion_styles)&&(ts.__emotion_styles=ns(ts.__emotion_styles))},styledEngine=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:GlobalStyles$3,StyledEngineProvider,ThemeContext:ThemeContext$2,css:css$2,default:styled$4,internal_processStyles,keyframes},Symbol.toStringTag,{value:"Module"}));function isPlainObject$5(ts){if(typeof ts!="object"||ts===null)return!1;const ns=Object.getPrototypeOf(ts);return(ns===null||ns===Object.prototype||Object.getPrototypeOf(ns)===null)&&!(Symbol.toStringTag in ts)&&!(Symbol.iterator in ts)}function deepClone$7(ts){if(!isPlainObject$5(ts))return ts;const ns={};return Object.keys(ts).forEach(rs=>{ns[rs]=deepClone$7(ts[rs])}),ns}function deepmerge$2(ts,ns,rs={clone:!0}){const is=rs.clone?_extends$a({},ts):ts;return isPlainObject$5(ts)&&isPlainObject$5(ns)&&Object.keys(ns).forEach(os=>{isPlainObject$5(ns[os])&&Object.prototype.hasOwnProperty.call(ts,os)&&isPlainObject$5(ts[os])?is[os]=deepmerge$2(ts[os],ns[os],rs):rs.clone?is[os]=isPlainObject$5(ns[os])?deepClone$7(ns[os]):ns[os]:is[os]=ns[os]}),is}const deepmerge$1=Object.freeze(Object.defineProperty({__proto__:null,default:deepmerge$2,isPlainObject:isPlainObject$5},Symbol.toStringTag,{value:"Module"})),_excluded$1I=["values","unit","step"],sortBreakpointsValues=ts=>{const ns=Object.keys(ts).map(rs=>({key:rs,val:ts[rs]}))||[];return ns.sort((rs,is)=>rs.val-is.val),ns.reduce((rs,is)=>_extends$a({},rs,{[is.key]:is.val}),{})};function createBreakpoints(ts){const{values:ns={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:rs="px",step:is=5}=ts,os=_objectWithoutPropertiesLoose$3(ts,_excluded$1I),ss=sortBreakpointsValues(ns),as=Object.keys(ss);function ls(hs){const ms=typeof ns[hs]=="number"?ns[hs]:hs;return"@media (min-width:".concat(ms).concat(rs,")")}function cs(hs){const ms=typeof ns[hs]=="number"?ns[hs]:hs;return"@media (max-width:".concat(ms-is/100).concat(rs,")")}function us(hs,ms){const gs=as.indexOf(ms);return"@media (min-width:".concat(typeof ns[hs]=="number"?ns[hs]:hs).concat(rs,") and ")+"(max-width:".concat((gs!==-1&&typeof ns[as[gs]]=="number"?ns[as[gs]]:ms)-is/100).concat(rs,")")}function ds(hs){return as.indexOf(hs)+1<as.length?us(hs,as[as.indexOf(hs)+1]):ls(hs)}function ps(hs){const ms=as.indexOf(hs);return ms===0?ls(as[1]):ms===as.length-1?cs(as[ms]):us(hs,as[as.indexOf(hs)+1]).replace("@media","@media not all and")}return _extends$a({keys:as,values:ss,up:ls,down:cs,between:us,only:ds,not:ps,unit:rs},os)}const shape={borderRadius:4},shape$1=shape;function merge$3(ts,ns){return ns?deepmerge$2(ts,ns,{clone:!1}):ts}const values$1={xs:0,sm:600,md:900,lg:1200,xl:1536},defaultBreakpoints$1={keys:["xs","sm","md","lg","xl"],up:ts=>"@media (min-width:".concat(values$1[ts],"px)")};function handleBreakpoints(ts,ns,rs){const is=ts.theme||{};if(Array.isArray(ns)){const ss=is.breakpoints||defaultBreakpoints$1;return ns.reduce((as,ls,cs)=>(as[ss.up(ss.keys[cs])]=rs(ns[cs]),as),{})}if(typeof ns=="object"){const ss=is.breakpoints||defaultBreakpoints$1;return Object.keys(ns).reduce((as,ls)=>{if(Object.keys(ss.values||values$1).indexOf(ls)!==-1){const cs=ss.up(ls);as[cs]=rs(ns[ls],ls)}else{const cs=ls;as[cs]=ns[cs]}return as},{})}return rs(ns)}function createEmptyBreakpointObject(ts={}){var ns;return((ns=ts.keys)==null?void 0:ns.reduce((is,os)=>{const ss=ts.up(os);return is[ss]={},is},{}))||{}}function removeUnusedBreakpoints(ts,ns){return ts.reduce((rs,is)=>{const os=rs[is];return(!os||Object.keys(os).length===0)&&delete rs[is],rs},ns)}function mergeBreakpointsInOrder(ts,...ns){const rs=createEmptyBreakpointObject(ts),is=[rs,...ns].reduce((os,ss)=>deepmerge$2(os,ss),{});return removeUnusedBreakpoints(Object.keys(rs),is)}function computeBreakpointsBase(ts,ns){if(typeof ts!="object")return{};const rs={},is=Object.keys(ns);return Array.isArray(ts)?is.forEach((os,ss)=>{ss<ts.length&&(rs[os]=!0)}):is.forEach(os=>{ts[os]!=null&&(rs[os]=!0)}),rs}function resolveBreakpointValues({values:ts,breakpoints:ns,base:rs}){const is=rs||computeBreakpointsBase(ts,ns),os=Object.keys(is);if(os.length===0)return ts;let ss;return os.reduce((as,ls,cs)=>(Array.isArray(ts)?(as[ls]=ts[cs]!=null?ts[cs]:ts[ss],ss=cs):typeof ts=="object"?(as[ls]=ts[ls]!=null?ts[ls]:ts[ss],ss=ls):as[ls]=ts,as),{})}function capitalize$4(ts){if(typeof ts!="string")throw new Error(formatMuiErrorMessage$1(7));return ts.charAt(0).toUpperCase()+ts.slice(1)}const capitalize$3=Object.freeze(Object.defineProperty({__proto__:null,default:capitalize$4},Symbol.toStringTag,{value:"Module"}));function getPath$2(ts,ns,rs=!0){if(!ns||typeof ns!="string")return null;if(ts&&ts.vars&&rs){const is="vars.".concat(ns).split(".").reduce((os,ss)=>os&&os[ss]?os[ss]:null,ts);if(is!=null)return is}return ns.split(".").reduce((is,os)=>is&&is[os]!=null?is[os]:null,ts)}function getStyleValue$1(ts,ns,rs,is=rs){let os;return typeof ts=="function"?os=ts(rs):Array.isArray(ts)?os=ts[rs]||is:os=getPath$2(ts,rs)||is,ns&&(os=ns(os,is,ts)),os}function style$2(ts){const{prop:ns,cssProperty:rs=ts.prop,themeKey:is,transform:os}=ts,ss=as=>{if(as[ns]==null)return null;const ls=as[ns],cs=as.theme,us=getPath$2(cs,is)||{};return handleBreakpoints(as,ls,ps=>{let hs=getStyleValue$1(us,os,ps);return ps===hs&&typeof ps=="string"&&(hs=getStyleValue$1(us,os,"".concat(ns).concat(ps==="default"?"":capitalize$4(ps)),ps)),rs===!1?hs:{[rs]:hs}})};return ss.propTypes={},ss.filterProps=[ns],ss}function memoize$4(ts){const ns={};return rs=>(ns[rs]===void 0&&(ns[rs]=ts(rs)),ns[rs])}const properties={m:"margin",p:"padding"},directions={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},aliases$1={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},getCssProperties=memoize$4(ts=>{if(ts.length>2)if(aliases$1[ts])ts=aliases$1[ts];else return[ts];const[ns,rs]=ts.split(""),is=properties[ns],os=directions[rs]||"";return Array.isArray(os)?os.map(ss=>is+ss):[is+os]}),marginKeys=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],paddingKeys=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...marginKeys,...paddingKeys];function createUnaryUnit(ts,ns,rs,is){var os;const ss=(os=getPath$2(ts,ns,!1))!=null?os:rs;return typeof ss=="number"?as=>typeof as=="string"?as:ss*as:Array.isArray(ss)?as=>typeof as=="string"?as:ss[as]:typeof ss=="function"?ss:()=>{}}function createUnarySpacing(ts){return createUnaryUnit(ts,"spacing",8)}function getValue$3(ts,ns){if(typeof ns=="string"||ns==null)return ns;const rs=Math.abs(ns),is=ts(rs);return ns>=0?is:typeof is=="number"?-is:"-".concat(is)}function getStyleFromPropValue(ts,ns){return rs=>ts.reduce((is,os)=>(is[os]=getValue$3(ns,rs),is),{})}function resolveCssProperty(ts,ns,rs,is){if(ns.indexOf(rs)===-1)return null;const os=getCssProperties(rs),ss=getStyleFromPropValue(os,is),as=ts[rs];return handleBreakpoints(ts,as,ss)}function style$1(ts,ns){const rs=createUnarySpacing(ts.theme);return Object.keys(ts).map(is=>resolveCssProperty(ts,ns,is,rs)).reduce(merge$3,{})}function margin$1(ts){return style$1(ts,marginKeys)}margin$1.propTypes={};margin$1.filterProps=marginKeys;function padding$1(ts){return style$1(ts,paddingKeys)}padding$1.propTypes={};padding$1.filterProps=paddingKeys;function createSpacing(ts=8){if(ts.mui)return ts;const ns=createUnarySpacing({spacing:ts}),rs=(...is)=>(is.length===0?[1]:is).map(ss=>{const as=ns(ss);return typeof as=="number"?"".concat(as,"px"):as}).join(" ");return rs.mui=!0,rs}function compose$1(...ts){const ns=ts.reduce((is,os)=>(os.filterProps.forEach(ss=>{is[ss]=os}),is),{}),rs=is=>Object.keys(is).reduce((os,ss)=>ns[ss]?merge$3(os,ns[ss](is)):os,{});return rs.propTypes={},rs.filterProps=ts.reduce((is,os)=>is.concat(os.filterProps),[]),rs}function borderTransform(ts){return typeof ts!="number"?ts:"".concat(ts,"px solid")}function createBorderStyle(ts,ns){return style$2({prop:ts,themeKey:"borders",transform:ns})}const border$1=createBorderStyle("border",borderTransform),borderTop=createBorderStyle("borderTop",borderTransform),borderRight=createBorderStyle("borderRight",borderTransform),borderBottom=createBorderStyle("borderBottom",borderTransform),borderLeft=createBorderStyle("borderLeft",borderTransform),borderColor=createBorderStyle("borderColor"),borderTopColor=createBorderStyle("borderTopColor"),borderRightColor=createBorderStyle("borderRightColor"),borderBottomColor=createBorderStyle("borderBottomColor"),borderLeftColor=createBorderStyle("borderLeftColor"),outline=createBorderStyle("outline",borderTransform),outlineColor=createBorderStyle("outlineColor"),borderRadius=ts=>{if(ts.borderRadius!==void 0&&ts.borderRadius!==null){const ns=createUnaryUnit(ts.theme,"shape.borderRadius",4),rs=is=>({borderRadius:getValue$3(ns,is)});return handleBreakpoints(ts,ts.borderRadius,rs)}return null};borderRadius.propTypes={};borderRadius.filterProps=["borderRadius"];compose$1(border$1,borderTop,borderRight,borderBottom,borderLeft,borderColor,borderTopColor,borderRightColor,borderBottomColor,borderLeftColor,borderRadius,outline,outlineColor);const gap=ts=>{if(ts.gap!==void 0&&ts.gap!==null){const ns=createUnaryUnit(ts.theme,"spacing",8),rs=is=>({gap:getValue$3(ns,is)});return handleBreakpoints(ts,ts.gap,rs)}return null};gap.propTypes={};gap.filterProps=["gap"];const columnGap=ts=>{if(ts.columnGap!==void 0&&ts.columnGap!==null){const ns=createUnaryUnit(ts.theme,"spacing",8),rs=is=>({columnGap:getValue$3(ns,is)});return handleBreakpoints(ts,ts.columnGap,rs)}return null};columnGap.propTypes={};columnGap.filterProps=["columnGap"];const rowGap=ts=>{if(ts.rowGap!==void 0&&ts.rowGap!==null){const ns=createUnaryUnit(ts.theme,"spacing",8),rs=is=>({rowGap:getValue$3(ns,is)});return handleBreakpoints(ts,ts.rowGap,rs)}return null};rowGap.propTypes={};rowGap.filterProps=["rowGap"];const gridColumn=style$2({prop:"gridColumn"}),gridRow=style$2({prop:"gridRow"}),gridAutoFlow=style$2({prop:"gridAutoFlow"}),gridAutoColumns=style$2({prop:"gridAutoColumns"}),gridAutoRows=style$2({prop:"gridAutoRows"}),gridTemplateColumns=style$2({prop:"gridTemplateColumns"}),gridTemplateRows=style$2({prop:"gridTemplateRows"}),gridTemplateAreas=style$2({prop:"gridTemplateAreas"}),gridArea=style$2({prop:"gridArea"});compose$1(gap,columnGap,rowGap,gridColumn,gridRow,gridAutoFlow,gridAutoColumns,gridAutoRows,gridTemplateColumns,gridTemplateRows,gridTemplateAreas,gridArea);function paletteTransform(ts,ns){return ns==="grey"?ns:ts}const color$2=style$2({prop:"color",themeKey:"palette",transform:paletteTransform}),bgcolor=style$2({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:paletteTransform}),backgroundColor=style$2({prop:"backgroundColor",themeKey:"palette",transform:paletteTransform});compose$1(color$2,bgcolor,backgroundColor);function sizingTransform(ts){return ts<=1&&ts!==0?"".concat(ts*100,"%"):ts}const width=style$2({prop:"width",transform:sizingTransform}),maxWidth=ts=>{if(ts.maxWidth!==void 0&&ts.maxWidth!==null){const ns=rs=>{var is,os;const ss=((is=ts.theme)==null||(is=is.breakpoints)==null||(is=is.values)==null?void 0:is[rs])||values$1[rs];return ss?((os=ts.theme)==null||(os=os.breakpoints)==null?void 0:os.unit)!=="px"?{maxWidth:"".concat(ss).concat(ts.theme.breakpoints.unit)}:{maxWidth:ss}:{maxWidth:sizingTransform(rs)}};return handleBreakpoints(ts,ts.maxWidth,ns)}return null};maxWidth.filterProps=["maxWidth"];const minWidth=style$2({prop:"minWidth",transform:sizingTransform}),height=style$2({prop:"height",transform:sizingTransform}),maxHeight=style$2({prop:"maxHeight",transform:sizingTransform}),minHeight=style$2({prop:"minHeight",transform:sizingTransform});style$2({prop:"size",cssProperty:"width",transform:sizingTransform});style$2({prop:"size",cssProperty:"height",transform:sizingTransform});const boxSizing=style$2({prop:"boxSizing"});compose$1(width,maxWidth,minWidth,height,maxHeight,minHeight,boxSizing);const defaultSxConfig={border:{themeKey:"borders",transform:borderTransform},borderTop:{themeKey:"borders",transform:borderTransform},borderRight:{themeKey:"borders",transform:borderTransform},borderBottom:{themeKey:"borders",transform:borderTransform},borderLeft:{themeKey:"borders",transform:borderTransform},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:borderTransform},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:borderRadius},color:{themeKey:"palette",transform:paletteTransform},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:paletteTransform},backgroundColor:{themeKey:"palette",transform:paletteTransform},p:{style:padding$1},pt:{style:padding$1},pr:{style:padding$1},pb:{style:padding$1},pl:{style:padding$1},px:{style:padding$1},py:{style:padding$1},padding:{style:padding$1},paddingTop:{style:padding$1},paddingRight:{style:padding$1},paddingBottom:{style:padding$1},paddingLeft:{style:padding$1},paddingX:{style:padding$1},paddingY:{style:padding$1},paddingInline:{style:padding$1},paddingInlineStart:{style:padding$1},paddingInlineEnd:{style:padding$1},paddingBlock:{style:padding$1},paddingBlockStart:{style:padding$1},paddingBlockEnd:{style:padding$1},m:{style:margin$1},mt:{style:margin$1},mr:{style:margin$1},mb:{style:margin$1},ml:{style:margin$1},mx:{style:margin$1},my:{style:margin$1},margin:{style:margin$1},marginTop:{style:margin$1},marginRight:{style:margin$1},marginBottom:{style:margin$1},marginLeft:{style:margin$1},marginX:{style:margin$1},marginY:{style:margin$1},marginInline:{style:margin$1},marginInlineStart:{style:margin$1},marginInlineEnd:{style:margin$1},marginBlock:{style:margin$1},marginBlockStart:{style:margin$1},marginBlockEnd:{style:margin$1},displayPrint:{cssProperty:!1,transform:ts=>({"@media print":{display:ts}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:gap},rowGap:{style:rowGap},columnGap:{style:columnGap},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:sizingTransform},maxWidth:{style:maxWidth},minWidth:{transform:sizingTransform},height:{transform:sizingTransform},maxHeight:{transform:sizingTransform},minHeight:{transform:sizingTransform},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},defaultSxConfig$1=defaultSxConfig;function objectsHaveSameKeys(...ts){const ns=ts.reduce((is,os)=>is.concat(Object.keys(os)),[]),rs=new Set(ns);return ts.every(is=>rs.size===Object.keys(is).length)}function callIfFn(ts,ns){return typeof ts=="function"?ts(ns):ts}function unstable_createStyleFunctionSx(){function ts(rs,is,os,ss){const as={[rs]:is,theme:os},ls=ss[rs];if(!ls)return{[rs]:is};const{cssProperty:cs=rs,themeKey:us,transform:ds,style:ps}=ls;if(is==null)return null;if(us==="typography"&&is==="inherit")return{[rs]:is};const hs=getPath$2(os,us)||{};return ps?ps(as):handleBreakpoints(as,is,gs=>{let ys=getStyleValue$1(hs,ds,gs);return gs===ys&&typeof gs=="string"&&(ys=getStyleValue$1(hs,ds,"".concat(rs).concat(gs==="default"?"":capitalize$4(gs)),gs)),cs===!1?ys:{[cs]:ys}})}function ns(rs){var is;const{sx:os,theme:ss={}}=rs||{};if(!os)return null;const as=(is=ss.unstable_sxConfig)!=null?is:defaultSxConfig$1;function ls(cs){let us=cs;if(typeof cs=="function")us=cs(ss);else if(typeof cs!="object")return cs;if(!us)return null;const ds=createEmptyBreakpointObject(ss.breakpoints),ps=Object.keys(ds);let hs=ds;return Object.keys(us).forEach(ms=>{const gs=callIfFn(us[ms],ss);if(gs!=null)if(typeof gs=="object")if(as[ms])hs=merge$3(hs,ts(ms,gs,ss,as));else{const ys=handleBreakpoints({theme:ss},gs,vs=>({[ms]:vs}));objectsHaveSameKeys(ys,gs)?hs[ms]=ns({sx:gs,theme:ss}):hs=merge$3(hs,ys)}else hs=merge$3(hs,ts(ms,gs,ss,as))}),removeUnusedBreakpoints(ps,hs)}return Array.isArray(os)?os.map(ls):ls(os)}return ns}const styleFunctionSx$1=unstable_createStyleFunctionSx();styleFunctionSx$1.filterProps=["sx"];const styleFunctionSx$2=styleFunctionSx$1;function applyStyles$4(ts,ns){const rs=this;return rs.vars&&typeof rs.getColorSchemeSelector=="function"?{[rs.getColorSchemeSelector(ts).replace(/(\[[^\]]+\])/,"*:where($1)")]:ns}:rs.palette.mode===ts?ns:{}}const _excluded$1H=["breakpoints","palette","spacing","shape"];function createTheme$2(ts={},...ns){const{breakpoints:rs={},palette:is={},spacing:os,shape:ss={}}=ts,as=_objectWithoutPropertiesLoose$3(ts,_excluded$1H),ls=createBreakpoints(rs),cs=createSpacing(os);let us=deepmerge$2({breakpoints:ls,direction:"ltr",components:{},palette:_extends$a({mode:"light"},is),spacing:cs,shape:_extends$a({},shape$1,ss)},as);return us.applyStyles=applyStyles$4,us=ns.reduce((ds,ps)=>deepmerge$2(ds,ps),us),us.unstable_sxConfig=_extends$a({},defaultSxConfig$1,as==null?void 0:as.unstable_sxConfig),us.unstable_sx=function(ps){return styleFunctionSx$2({sx:ps,theme:this})},us}const createTheme$1=Object.freeze(Object.defineProperty({__proto__:null,default:createTheme$2,private_createBreakpoints:createBreakpoints,unstable_applyStyles:applyStyles$4},Symbol.toStringTag,{value:"Module"}));function isObjectEmpty$1(ts){return Object.keys(ts).length===0}function useTheme$4(ts=null){const ns=reactExports.useContext(ThemeContext$2);return!ns||isObjectEmpty$1(ns)?ts:ns}const systemDefaultTheme$2=createTheme$2();function useTheme$3(ts=systemDefaultTheme$2){return useTheme$4(ts)}function GlobalStyles$2({styles:ts,themeId:ns,defaultTheme:rs={}}){const is=useTheme$3(rs),os=typeof ts=="function"?ts(ns&&is[ns]||is):ts;return jsxRuntimeExports.jsx(GlobalStyles$3,{styles:os})}const _excluded$1G=["sx"],splitProps=ts=>{var ns,rs;const is={systemProps:{},otherProps:{}},os=(ns=ts==null||(rs=ts.theme)==null?void 0:rs.unstable_sxConfig)!=null?ns:defaultSxConfig$1;return Object.keys(ts).forEach(ss=>{os[ss]?is.systemProps[ss]=ts[ss]:is.otherProps[ss]=ts[ss]}),is};function extendSxProp(ts){const{sx:ns}=ts,rs=_objectWithoutPropertiesLoose$3(ts,_excluded$1G),{systemProps:is,otherProps:os}=splitProps(rs);let ss;return Array.isArray(ns)?ss=[is,...ns]:typeof ns=="function"?ss=(...as)=>{const ls=ns(...as);return isPlainObject$5(ls)?_extends$a({},is,ls):is}:ss=_extends$a({},is,ns),_extends$a({},os,{sx:ss})}const styleFunctionSx=Object.freeze(Object.defineProperty({__proto__:null,default:styleFunctionSx$2,extendSxProp,unstable_createStyleFunctionSx,unstable_defaultSxConfig:defaultSxConfig$1},Symbol.toStringTag,{value:"Module"})),defaultGenerator=ts=>ts,createClassNameGenerator=()=>{let ts=defaultGenerator;return{configure(ns){ts=ns},generate(ns){return ts(ns)},reset(){ts=defaultGenerator}}},ClassNameGenerator=createClassNameGenerator(),ClassNameGenerator$1=ClassNameGenerator;function r$4(ts){var ns,rs,is="";if(typeof ts=="string"||typeof ts=="number")is+=ts;else if(typeof ts=="object")if(Array.isArray(ts)){var os=ts.length;for(ns=0;ns<os;ns++)ts[ns]&&(rs=r$4(ts[ns]))&&(is&&(is+=" "),is+=rs)}else for(rs in ts)ts[rs]&&(is&&(is+=" "),is+=rs);return is}function clsx(){for(var ts,ns,rs=0,is="",os=arguments.length;rs<os;rs++)(ts=arguments[rs])&&(ns=r$4(ts))&&(is&&(is+=" "),is+=ns);return is}const _excluded$1F=["className","component"];function createBox(ts={}){const{themeId:ns,defaultTheme:rs,defaultClassName:is="MuiBox-root",generateClassName:os}=ts,ss=styled$4("div",{shouldForwardProp:ls=>ls!=="theme"&&ls!=="sx"&&ls!=="as"})(styleFunctionSx$2);return reactExports.forwardRef(function(cs,us){const ds=useTheme$3(rs),ps=extendSxProp(cs),{className:hs,component:ms="div"}=ps,gs=_objectWithoutPropertiesLoose$3(ps,_excluded$1F);return jsxRuntimeExports.jsx(ss,_extends$a({as:ms,ref:us,className:clsx(hs,os?os(is):is),theme:ns&&ds[ns]||ds},gs))})}const globalStateClasses={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function generateUtilityClass(ts,ns,rs="Mui"){const is=globalStateClasses[ns];return is?"".concat(rs,"-").concat(is):"".concat(ClassNameGenerator$1.generate(ts),"-").concat(ns)}function generateUtilityClasses(ts,ns,rs="Mui"){const is={};return ns.forEach(os=>{is[os]=generateUtilityClass(ts,os,rs)}),is}const boxClasses$2=generateUtilityClasses("MuiBox",["root"]),boxClasses$3=boxClasses$2,Box$2=createBox({defaultClassName:boxClasses$3.root,generateClassName:ClassNameGenerator$1.generate}),Box$3=Box$2;var reactIs={exports:{}},reactIs_production_min={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b$2=Symbol.for("react.element"),c$1=Symbol.for("react.portal"),d$1=Symbol.for("react.fragment"),e$4=Symbol.for("react.strict_mode"),f$2=Symbol.for("react.profiler"),g$2=Symbol.for("react.provider"),h$3=Symbol.for("react.context"),k$3=Symbol.for("react.server_context"),l$3=Symbol.for("react.forward_ref"),m$2=Symbol.for("react.suspense"),n$4=Symbol.for("react.suspense_list"),p$4=Symbol.for("react.memo"),q$4=Symbol.for("react.lazy"),t$4=Symbol.for("react.offscreen"),u$3;u$3=Symbol.for("react.module.reference");function v$3(ts){if(typeof ts=="object"&&ts!==null){var ns=ts.$$typeof;switch(ns){case b$2:switch(ts=ts.type,ts){case d$1:case f$2:case e$4:case m$2:case n$4:return ts;default:switch(ts=ts&&ts.$$typeof,ts){case k$3:case h$3:case l$3:case q$4:case p$4:case g$2:return ts;default:return ns}}case c$1:return ns}}}reactIs_production_min.ContextConsumer=h$3;reactIs_production_min.ContextProvider=g$2;reactIs_production_min.Element=b$2;reactIs_production_min.ForwardRef=l$3;reactIs_production_min.Fragment=d$1;reactIs_production_min.Lazy=q$4;reactIs_production_min.Memo=p$4;reactIs_production_min.Portal=c$1;reactIs_production_min.Profiler=f$2;reactIs_production_min.StrictMode=e$4;reactIs_production_min.Suspense=m$2;reactIs_production_min.SuspenseList=n$4;reactIs_production_min.isAsyncMode=function(){return!1};reactIs_production_min.isConcurrentMode=function(){return!1};reactIs_production_min.isContextConsumer=function(ts){return v$3(ts)===h$3};reactIs_production_min.isContextProvider=function(ts){return v$3(ts)===g$2};reactIs_production_min.isElement=function(ts){return typeof ts=="object"&&ts!==null&&ts.$$typeof===b$2};reactIs_production_min.isForwardRef=function(ts){return v$3(ts)===l$3};reactIs_production_min.isFragment=function(ts){return v$3(ts)===d$1};reactIs_production_min.isLazy=function(ts){return v$3(ts)===q$4};reactIs_production_min.isMemo=function(ts){return v$3(ts)===p$4};reactIs_production_min.isPortal=function(ts){return v$3(ts)===c$1};reactIs_production_min.isProfiler=function(ts){return v$3(ts)===f$2};reactIs_production_min.isStrictMode=function(ts){return v$3(ts)===e$4};reactIs_production_min.isSuspense=function(ts){return v$3(ts)===m$2};reactIs_production_min.isSuspenseList=function(ts){return v$3(ts)===n$4};reactIs_production_min.isValidElementType=function(ts){return typeof ts=="string"||typeof ts=="function"||ts===d$1||ts===f$2||ts===e$4||ts===m$2||ts===n$4||ts===t$4||typeof ts=="object"&&ts!==null&&(ts.$$typeof===q$4||ts.$$typeof===p$4||ts.$$typeof===g$2||ts.$$typeof===h$3||ts.$$typeof===l$3||ts.$$typeof===u$3||ts.getModuleId!==void 0)};reactIs_production_min.typeOf=v$3;reactIs.exports=reactIs_production_min;var reactIsExports=reactIs.exports;const fnNameMatchRegex=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function getFunctionName$1(ts){const ns="".concat(ts).match(fnNameMatchRegex);return ns&&ns[1]||""}function getFunctionComponentName(ts,ns=""){return ts.displayName||ts.name||getFunctionName$1(ts)||ns}function getWrappedName(ts,ns,rs){const is=getFunctionComponentName(ns);return ts.displayName||(is!==""?"".concat(rs,"(").concat(is,")"):rs)}function getDisplayName$1(ts){if(ts!=null){if(typeof ts=="string")return ts;if(typeof ts=="function")return getFunctionComponentName(ts,"Component");if(typeof ts=="object")switch(ts.$$typeof){case reactIsExports.ForwardRef:return getWrappedName(ts,ts.render,"ForwardRef");case reactIsExports.Memo:return getWrappedName(ts,ts.type,"memo");default:return}}}const getDisplayName=Object.freeze(Object.defineProperty({__proto__:null,default:getDisplayName$1,getFunctionName:getFunctionName$1},Symbol.toStringTag,{value:"Module"})),_excluded$1E=["ownerState"],_excluded2$c=["variants"],_excluded3$4=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function isEmpty$3(ts){return Object.keys(ts).length===0}function isStringTag$1(ts){return typeof ts=="string"&&ts.charCodeAt(0)>96}function shouldForwardProp$1(ts){return ts!=="ownerState"&&ts!=="theme"&&ts!=="sx"&&ts!=="as"}const systemDefaultTheme$1=createTheme$2(),lowercaseFirstLetter$1=ts=>ts&&ts.charAt(0).toLowerCase()+ts.slice(1);function resolveTheme$1({defaultTheme:ts,theme:ns,themeId:rs}){return isEmpty$3(ns)?ts:ns[rs]||ns}function defaultOverridesResolver$1(ts){return ts?(ns,rs)=>rs[ts]:null}function processStyleArg$1(ts,ns){let{ownerState:rs}=ns,is=_objectWithoutPropertiesLoose$3(ns,_excluded$1E);const os=typeof ts=="function"?ts(_extends$a({ownerState:rs},is)):ts;if(Array.isArray(os))return os.flatMap(ss=>processStyleArg$1(ss,_extends$a({ownerState:rs},is)));if(os&&typeof os=="object"&&Array.isArray(os.variants)){const{variants:ss=[]}=os;let ls=_objectWithoutPropertiesLoose$3(os,_excluded2$c);return ss.forEach(cs=>{let us=!0;typeof cs.props=="function"?us=cs.props(_extends$a({ownerState:rs},is,rs)):Object.keys(cs.props).forEach(ds=>{(rs==null?void 0:rs[ds])!==cs.props[ds]&&is[ds]!==cs.props[ds]&&(us=!1)}),us&&(Array.isArray(ls)||(ls=[ls]),ls.push(typeof cs.style=="function"?cs.style(_extends$a({ownerState:rs},is,rs)):cs.style))}),ls}return os}function createStyled$2(ts={}){const{themeId:ns,defaultTheme:rs=systemDefaultTheme$1,rootShouldForwardProp:is=shouldForwardProp$1,slotShouldForwardProp:os=shouldForwardProp$1}=ts,ss=as=>styleFunctionSx$2(_extends$a({},as,{theme:resolveTheme$1(_extends$a({},as,{defaultTheme:rs,themeId:ns}))}));return ss.__mui_systemSx=!0,(as,ls={})=>{internal_processStyles(as,Es=>Es.filter(xs=>!(xs!=null&&xs.__mui_systemSx)));const{name:cs,slot:us,skipVariantsResolver:ds,skipSx:ps,overridesResolver:hs=defaultOverridesResolver$1(lowercaseFirstLetter$1(us))}=ls,ms=_objectWithoutPropertiesLoose$3(ls,_excluded3$4),gs=ds!==void 0?ds:us&&us!=="Root"&&us!=="root"||!1,ys=ps||!1;let vs,bs=shouldForwardProp$1;us==="Root"||us==="root"?bs=is:us?bs=os:isStringTag$1(as)&&(bs=void 0);const Ss=styled$4(as,_extends$a({shouldForwardProp:bs,label:vs},ms)),$s=Es=>typeof Es=="function"&&Es.__emotion_real!==Es||isPlainObject$5(Es)?xs=>processStyleArg$1(Es,_extends$a({},xs,{theme:resolveTheme$1({theme:xs.theme,defaultTheme:rs,themeId:ns})})):Es,Cs=(Es,...xs)=>{let ws=$s(Es);const ks=xs?xs.map($s):[];cs&&hs&&ks.push(Rs=>{const As=resolveTheme$1(_extends$a({},Rs,{defaultTheme:rs,themeId:ns}));if(!As.components||!As.components[cs]||!As.components[cs].styleOverrides)return null;const Ms=As.components[cs].styleOverrides,Ls={};return Object.entries(Ms).forEach(([Ds,Fs])=>{Ls[Ds]=processStyleArg$1(Fs,_extends$a({},Rs,{theme:As}))}),hs(Rs,Ls)}),cs&&!gs&&ks.push(Rs=>{var As;const Ms=resolveTheme$1(_extends$a({},Rs,{defaultTheme:rs,themeId:ns})),Ls=Ms==null||(As=Ms.components)==null||(As=As[cs])==null?void 0:As.variants;return processStyleArg$1({variants:Ls},_extends$a({},Rs,{theme:Ms}))}),ys||ks.push(ss);const Is=ks.length-xs.length;if(Array.isArray(Es)&&Is>0){const Rs=new Array(Is).fill("");ws=[...Es,...Rs],ws.raw=[...Es.raw,...Rs]}const Ts=Ss(ws,...ks);return as.muiName&&(Ts.muiName=as.muiName),Ts};return Ss.withConfig&&(Cs.withConfig=Ss.withConfig),Cs}}const styled$3=createStyled$2(),systemStyled=styled$3;function resolveProps(ts,ns){const rs=_extends$a({},ns);return Object.keys(ts).forEach(is=>{if(is.toString().match(/^(components|slots)$/))rs[is]=_extends$a({},ts[is],rs[is]);else if(is.toString().match(/^(componentsProps|slotProps)$/)){const os=ts[is]||{},ss=ns[is];rs[is]={},!ss||!Object.keys(ss)?rs[is]=os:!os||!Object.keys(os)?rs[is]=ss:(rs[is]=_extends$a({},ss),Object.keys(os).forEach(as=>{rs[is][as]=resolveProps(os[as],ss[as])}))}else rs[is]===void 0&&(rs[is]=ts[is])}),rs}function getThemeProps$1(ts){const{theme:ns,name:rs,props:is}=ts;return!ns||!ns.components||!ns.components[rs]||!ns.components[rs].defaultProps?is:resolveProps(ns.components[rs].defaultProps,is)}function useThemeProps$1({props:ts,name:ns,defaultTheme:rs,themeId:is}){let os=useTheme$3(rs);return is&&(os=os[is]||os),getThemeProps$1({theme:os,name:ns,props:ts})}const useEnhancedEffect=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect,useEnhancedEffect$1=useEnhancedEffect;function useMediaQueryOld(ts,ns,rs,is,os){const[ss,as]=reactExports.useState(()=>os&&rs?rs(ts).matches:is?is(ts).matches:ns);return useEnhancedEffect$1(()=>{let ls=!0;if(!rs)return;const cs=rs(ts),us=()=>{ls&&as(cs.matches)};return us(),cs.addListener(us),()=>{ls=!1,cs.removeListener(us)}},[ts,rs]),ss}const maybeReactUseSyncExternalStore=React$2["useSyncExternalStore"];function useMediaQueryNew(ts,ns,rs,is,os){const ss=reactExports.useCallback(()=>ns,[ns]),as=reactExports.useMemo(()=>{if(os&&rs)return()=>rs(ts).matches;if(is!==null){const{matches:ds}=is(ts);return()=>ds}return ss},[ss,ts,is,os,rs]),[ls,cs]=reactExports.useMemo(()=>{if(rs===null)return[ss,()=>()=>{}];const ds=rs(ts);return[()=>ds.matches,ps=>(ds.addListener(ps),()=>{ds.removeListener(ps)})]},[ss,rs,ts]);return maybeReactUseSyncExternalStore(cs,ls,as)}function useMediaQuery(ts,ns={}){const rs=useTheme$4(),is=typeof window<"u"&&typeof window.matchMedia<"u",{defaultMatches:os=!1,matchMedia:ss=is?window.matchMedia:null,ssrMatchMedia:as=null,noSsr:ls=!1}=getThemeProps$1({name:"MuiUseMediaQuery",props:ns,theme:rs});let cs=typeof ts=="function"?ts(rs):ts;return cs=cs.replace(/^@media( ?)/m,""),(maybeReactUseSyncExternalStore!==void 0?useMediaQueryNew:useMediaQueryOld)(cs,os,ss,as,ls)}function clamp$1(ts,ns=Number.MIN_SAFE_INTEGER,rs=Number.MAX_SAFE_INTEGER){return Math.max(ns,Math.min(ts,rs))}const clamp=Object.freeze(Object.defineProperty({__proto__:null,default:clamp$1},Symbol.toStringTag,{value:"Module"}));function clampWrapper$1(ts,ns=0,rs=1){return clamp$1(ts,ns,rs)}function hexToRgb$1(ts){ts=ts.slice(1);const ns=new RegExp(".{1,".concat(ts.length>=6?2:1,"}"),"g");let rs=ts.match(ns);return rs&&rs[0].length===1&&(rs=rs.map(is=>is+is)),rs?"rgb".concat(rs.length===4?"a":"","(").concat(rs.map((is,os)=>os<3?parseInt(is,16):Math.round(parseInt(is,16)/255*1e3)/1e3).join(", "),")"):""}function decomposeColor$1(ts){if(ts.type)return ts;if(ts.charAt(0)==="#")return decomposeColor$1(hexToRgb$1(ts));const ns=ts.indexOf("("),rs=ts.substring(0,ns);if(["rgb","rgba","hsl","hsla","color"].indexOf(rs)===-1)throw new Error(formatMuiErrorMessage$1(9,ts));let is=ts.substring(ns+1,ts.length-1),os;if(rs==="color"){if(is=is.split(" "),os=is.shift(),is.length===4&&is[3].charAt(0)==="/"&&(is[3]=is[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(os)===-1)throw new Error(formatMuiErrorMessage$1(10,os))}else is=is.split(",");return is=is.map(ss=>parseFloat(ss)),{type:rs,values:is,colorSpace:os}}function recomposeColor$1(ts){const{type:ns,colorSpace:rs}=ts;let{values:is}=ts;return ns.indexOf("rgb")!==-1?is=is.map((os,ss)=>ss<3?parseInt(os,10):os):ns.indexOf("hsl")!==-1&&(is[1]="".concat(is[1],"%"),is[2]="".concat(is[2],"%")),ns.indexOf("color")!==-1?is="".concat(rs," ").concat(is.join(" ")):is="".concat(is.join(", ")),"".concat(ns,"(").concat(is,")")}function alpha$1(ts,ns){return ts=decomposeColor$1(ts),ns=clampWrapper$1(ns),(ts.type==="rgb"||ts.type==="hsl")&&(ts.type+="a"),ts.type==="color"?ts.values[3]="/".concat(ns):ts.values[3]=ns,recomposeColor$1(ts)}function createChainedFunction(...ts){return ts.reduce((ns,rs)=>rs==null?ns:function(...os){ns.apply(this,os),rs.apply(this,os)},()=>{})}function debounce$3(ts,ns=166){let rs;function is(...os){const ss=()=>{ts.apply(this,os)};clearTimeout(rs),rs=setTimeout(ss,ns)}return is.clear=()=>{clearTimeout(rs)},is}function deprecatedPropType(ts,ns){return()=>null}function isMuiElement(ts,ns){var rs,is;return reactExports.isValidElement(ts)&&ns.indexOf((rs=ts.type.muiName)!=null?rs:(is=ts.type)==null||(is=is._payload)==null||(is=is.value)==null?void 0:is.muiName)!==-1}function ownerDocument(ts){return ts&&ts.ownerDocument||document}function ownerWindow(ts){return ownerDocument(ts).defaultView||window}function requirePropFactory(ts,ns){return()=>null}function setRef$1(ts,ns){typeof ts=="function"?ts(ns):ts&&(ts.current=ns)}let globalId=0;function useGlobalId(ts){const[ns,rs]=reactExports.useState(ts),is=ts||ns;return reactExports.useEffect(()=>{ns==null&&(globalId+=1,rs("mui-".concat(globalId)))},[ns]),is}const maybeReactUseId=React$2["useId".toString()];function useId(ts){if(maybeReactUseId!==void 0){const ns=maybeReactUseId();return ts!=null?ts:ns}return useGlobalId(ts)}function unsupportedProp(ts,ns,rs,is,os){return null}function useControlled({controlled:ts,default:ns,name:rs,state:is="value"}){const{current:os}=reactExports.useRef(ts!==void 0),[ss,as]=reactExports.useState(ns),ls=os?ts:ss,cs=reactExports.useCallback(us=>{os||as(us)},[]);return[ls,cs]}function useEventCallback(ts){const ns=reactExports.useRef(ts);return useEnhancedEffect$1(()=>{ns.current=ts}),reactExports.useRef((...rs)=>(0,ns.current)(...rs)).current}function useForkRef(...ts){return reactExports.useMemo(()=>ts.every(ns=>ns==null)?null:ns=>{ts.forEach(rs=>{setRef$1(rs,ns)})},ts)}const UNINITIALIZED={};function useLazyRef(ts,ns){const rs=reactExports.useRef(UNINITIALIZED);return rs.current===UNINITIALIZED&&(rs.current=ts(ns)),rs}const EMPTY$1=[];function useOnMount(ts){reactExports.useEffect(ts,EMPTY$1)}class Timeout{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new Timeout}start(ns,rs){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,rs()},ns)}}function useTimeout(){const ts=useLazyRef(Timeout.create).current;return useOnMount(ts.disposeEffect),ts}let hadKeyboardEvent=!0,hadFocusVisibleRecently=!1;const hadFocusVisibleRecentlyTimeout=new Timeout,inputTypesWhitelist={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function focusTriggersKeyboardModality(ts){const{type:ns,tagName:rs}=ts;return!!(rs==="INPUT"&&inputTypesWhitelist[ns]&&!ts.readOnly||rs==="TEXTAREA"&&!ts.readOnly||ts.isContentEditable)}function handleKeyDown(ts){ts.metaKey||ts.altKey||ts.ctrlKey||(hadKeyboardEvent=!0)}function handlePointerDown(){hadKeyboardEvent=!1}function handleVisibilityChange(){this.visibilityState==="hidden"&&hadFocusVisibleRecently&&(hadKeyboardEvent=!0)}function prepare(ts){ts.addEventListener("keydown",handleKeyDown,!0),ts.addEventListener("mousedown",handlePointerDown,!0),ts.addEventListener("pointerdown",handlePointerDown,!0),ts.addEventListener("touchstart",handlePointerDown,!0),ts.addEventListener("visibilitychange",handleVisibilityChange,!0)}function isFocusVisible(ts){const{target:ns}=ts;try{return ns.matches(":focus-visible")}catch{}return hadKeyboardEvent||focusTriggersKeyboardModality(ns)}function useIsFocusVisible(){const ts=reactExports.useCallback(os=>{os!=null&&prepare(os.ownerDocument)},[]),ns=reactExports.useRef(!1);function rs(){return ns.current?(hadFocusVisibleRecently=!0,hadFocusVisibleRecentlyTimeout.start(100,()=>{hadFocusVisibleRecently=!1}),ns.current=!1,!0):!1}function is(os){return isFocusVisible(os)?(ns.current=!0,!0):!1}return{isFocusVisibleRef:ns,onFocus:is,onBlur:rs,ref:ts}}function getScrollbarSize(ts){const ns=ts.documentElement.clientWidth;return Math.abs(window.innerWidth-ns)}let cachedType;function detectScrollType(){if(cachedType)return cachedType;const ts=document.createElement("div"),ns=document.createElement("div");return ns.style.width="10px",ns.style.height="1px",ts.appendChild(ns),ts.dir="rtl",ts.style.fontSize="14px",ts.style.width="4px",ts.style.height="1px",ts.style.position="absolute",ts.style.top="-1000px",ts.style.overflow="scroll",document.body.appendChild(ts),cachedType="reverse",ts.scrollLeft>0?cachedType="default":(ts.scrollLeft=1,ts.scrollLeft===0&&(cachedType="negative")),document.body.removeChild(ts),cachedType}function getNormalizedScrollLeft(ts,ns){const rs=ts.scrollLeft;if(ns!=="rtl")return rs;switch(detectScrollType()){case"negative":return ts.scrollWidth-ts.clientWidth+rs;case"reverse":return ts.scrollWidth-ts.clientWidth-rs;default:return rs}}const usePreviousProps=ts=>{const ns=reactExports.useRef({});return reactExports.useEffect(()=>{ns.current=ts}),ns.current},usePreviousProps$1=usePreviousProps;function composeClasses(ts,ns,rs=void 0){const is={};return Object.keys(ts).forEach(os=>{is[os]=ts[os].reduce((ss,as)=>{if(as){const ls=ns(as);ls!==""&&ss.push(ls),rs&&rs[as]&&ss.push(rs[as])}return ss},[]).join(" ")}),is}function isHostComponent$1(ts){return typeof ts=="string"}function appendOwnerState$1(ts,ns,rs){return ts===void 0||isHostComponent$1(ts)?ns:_extends$a({},ns,{ownerState:_extends$a({},ns.ownerState,rs)})}function extractEventHandlers$1(ts,ns=[]){if(ts===void 0)return{};const rs={};return Object.keys(ts).filter(is=>is.match(/^on[A-Z]/)&&typeof ts[is]=="function"&&!ns.includes(is)).forEach(is=>{rs[is]=ts[is]}),rs}function omitEventHandlers$1(ts){if(ts===void 0)return{};const ns={};return Object.keys(ts).filter(rs=>!(rs.match(/^on[A-Z]/)&&typeof ts[rs]=="function")).forEach(rs=>{ns[rs]=ts[rs]}),ns}function mergeSlotProps$1(ts){const{getSlotProps:ns,additionalProps:rs,externalSlotProps:is,externalForwardedProps:os,className:ss}=ts;if(!ns){const ms=clsx(rs==null?void 0:rs.className,ss,os==null?void 0:os.className,is==null?void 0:is.className),gs=_extends$a({},rs==null?void 0:rs.style,os==null?void 0:os.style,is==null?void 0:is.style),ys=_extends$a({},rs,os,is);return ms.length>0&&(ys.className=ms),Object.keys(gs).length>0&&(ys.style=gs),{props:ys,internalRef:void 0}}const as=extractEventHandlers$1(_extends$a({},os,is)),ls=omitEventHandlers$1(is),cs=omitEventHandlers$1(os),us=ns(as),ds=clsx(us==null?void 0:us.className,rs==null?void 0:rs.className,ss,os==null?void 0:os.className,is==null?void 0:is.className),ps=_extends$a({},us==null?void 0:us.style,rs==null?void 0:rs.style,os==null?void 0:os.style,is==null?void 0:is.style),hs=_extends$a({},us,rs,cs,ls);return ds.length>0&&(hs.className=ds),Object.keys(ps).length>0&&(hs.style=ps),{props:hs,internalRef:us.ref}}function resolveComponentProps$1(ts,ns,rs){return typeof ts=="function"?ts(ns,rs):ts}const _excluded$1D=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function useSlotProps$1(ts){var ns;const{elementType:rs,externalSlotProps:is,ownerState:os,skipResolvingSlotProps:ss=!1}=ts,as=_objectWithoutPropertiesLoose$3(ts,_excluded$1D),ls=ss?{}:resolveComponentProps$1(is,os),{props:cs,internalRef:us}=mergeSlotProps$1(_extends$a({},as,{externalSlotProps:ls})),ds=useForkRef(us,ls==null?void 0:ls.ref,(ns=ts.additionalProps)==null?void 0:ns.ref);return appendOwnerState$1(rs,_extends$a({},cs,{ref:ds}),os)}const ThemeContext=reactExports.createContext(null),ThemeContext$1=ThemeContext;function useTheme$2(){return reactExports.useContext(ThemeContext$1)}const hasSymbol=typeof Symbol=="function"&&Symbol.for,nested=hasSymbol?Symbol.for("mui.nested"):"__THEME_NESTED__";function mergeOuterLocalTheme(ts,ns){return typeof ns=="function"?ns(ts):_extends$a({},ts,ns)}function ThemeProvider$2(ts){const{children:ns,theme:rs}=ts,is=useTheme$2(),os=reactExports.useMemo(()=>{const ss=is===null?rs:mergeOuterLocalTheme(is,rs);return ss!=null&&(ss[nested]=is!==null),ss},[rs,is]);return jsxRuntimeExports.jsx(ThemeContext$1.Provider,{value:os,children:ns})}const _excluded$1C=["value"],RtlContext=reactExports.createContext();function RtlProvider(ts){let{value:ns}=ts,rs=_objectWithoutPropertiesLoose$3(ts,_excluded$1C);return jsxRuntimeExports.jsx(RtlContext.Provider,_extends$a({value:ns!=null?ns:!0},rs))}const useRtl=()=>{const ts=reactExports.useContext(RtlContext);return ts!=null?ts:!1},PropsContext=reactExports.createContext(void 0);function DefaultPropsProvider({value:ts,children:ns}){return jsxRuntimeExports.jsx(PropsContext.Provider,{value:ts,children:ns})}function getThemeProps(ts){const{theme:ns,name:rs,props:is}=ts;if(!ns||!ns.components||!ns.components[rs])return is;const os=ns.components[rs];return os.defaultProps?resolveProps(os.defaultProps,is):!os.styleOverrides&&!os.variants?resolveProps(os,is):is}function useDefaultProps$1({props:ts,name:ns}){const rs=reactExports.useContext(PropsContext);return getThemeProps({props:ts,name:ns,theme:{components:rs}})}const EMPTY_THEME={};function useThemeScoping(ts,ns,rs,is=!1){return reactExports.useMemo(()=>{const os=ts&&ns[ts]||ns;if(typeof rs=="function"){const ss=rs(os),as=ts?_extends$a({},ns,{[ts]:ss}):ss;return is?()=>as:as}return ts?_extends$a({},ns,{[ts]:rs}):_extends$a({},ns,rs)},[ts,ns,rs,is])}function ThemeProvider$1(ts){const{children:ns,theme:rs,themeId:is}=ts,os=useTheme$4(EMPTY_THEME),ss=useTheme$2()||EMPTY_THEME,as=useThemeScoping(is,os,rs),ls=useThemeScoping(is,ss,rs,!0),cs=as.direction==="rtl";return jsxRuntimeExports.jsx(ThemeProvider$2,{theme:ls,children:jsxRuntimeExports.jsx(ThemeContext$2.Provider,{value:as,children:jsxRuntimeExports.jsx(RtlProvider,{value:cs,children:jsxRuntimeExports.jsx(DefaultPropsProvider,{value:as==null?void 0:as.components,children:ns})})})})}function _typeof(ts){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ns){return typeof ns}:function(ns){return ns&&typeof Symbol=="function"&&ns.constructor===Symbol&&ns!==Symbol.prototype?"symbol":typeof ns},_typeof(ts)}function toPrimitive(ts,ns){if(_typeof(ts)!="object"||!ts)return ts;var rs=ts[Symbol.toPrimitive];if(rs!==void 0){var is=rs.call(ts,ns||"default");if(_typeof(is)!="object")return is;throw new TypeError("@@toPrimitive must return a primitive value.")}return(ns==="string"?String:Number)(ts)}function toPropertyKey(ts){var ns=toPrimitive(ts,"string");return _typeof(ns)=="symbol"?ns:ns+""}const _excluded$1B=["className","component","disableGutters","fixed","maxWidth","classes"],defaultTheme$6=createTheme$2(),defaultCreateStyledComponent$1=systemStyled("div",{name:"MuiContainer",slot:"Root",overridesResolver:(ts,ns)=>{const{ownerState:rs}=ts;return[ns.root,ns["maxWidth".concat(capitalize$4(String(rs.maxWidth)))],rs.fixed&&ns.fixed,rs.disableGutters&&ns.disableGutters]}}),useThemePropsDefault$1=ts=>useThemeProps$1({props:ts,name:"MuiContainer",defaultTheme:defaultTheme$6}),useUtilityClasses$1c=(ts,ns)=>{const rs=cs=>generateUtilityClass(ns,cs),{classes:is,fixed:os,disableGutters:ss,maxWidth:as}=ts,ls={root:["root",as&&"maxWidth".concat(capitalize$4(String(as))),os&&"fixed",ss&&"disableGutters"]};return composeClasses(ls,rs,is)};function createContainer(ts={}){const{createStyledComponent:ns=defaultCreateStyledComponent$1,useThemeProps:rs=useThemePropsDefault$1,componentName:is="MuiContainer"}=ts,os=ns(({theme:as,ownerState:ls})=>_extends$a({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!ls.disableGutters&&{paddingLeft:as.spacing(2),paddingRight:as.spacing(2),[as.breakpoints.up("sm")]:{paddingLeft:as.spacing(3),paddingRight:as.spacing(3)}}),({theme:as,ownerState:ls})=>ls.fixed&&Object.keys(as.breakpoints.values).reduce((cs,us)=>{const ds=us,ps=as.breakpoints.values[ds];return ps!==0&&(cs[as.breakpoints.up(ds)]={maxWidth:"".concat(ps).concat(as.breakpoints.unit)}),cs},{}),({theme:as,ownerState:ls})=>_extends$a({},ls.maxWidth==="xs"&&{[as.breakpoints.up("xs")]:{maxWidth:Math.max(as.breakpoints.values.xs,444)}},ls.maxWidth&&ls.maxWidth!=="xs"&&{[as.breakpoints.up(ls.maxWidth)]:{maxWidth:"".concat(as.breakpoints.values[ls.maxWidth]).concat(as.breakpoints.unit)}}));return reactExports.forwardRef(function(ls,cs){const us=rs(ls),{className:ds,component:ps="div",disableGutters:hs=!1,fixed:ms=!1,maxWidth:gs="lg"}=us,ys=_objectWithoutPropertiesLoose$3(us,_excluded$1B),vs=_extends$a({},us,{component:ps,disableGutters:hs,fixed:ms,maxWidth:gs}),bs=useUtilityClasses$1c(vs,is);return jsxRuntimeExports.jsx(os,_extends$a({as:ps,ownerState:vs,className:clsx(bs.root,ds),ref:cs},ys))})}const _excluded$1A=["component","direction","spacing","divider","children","className","useFlexGap"],defaultTheme$5=createTheme$2(),defaultCreateStyledComponent=systemStyled("div",{name:"MuiStack",slot:"Root",overridesResolver:(ts,ns)=>ns.root});function useThemePropsDefault(ts){return useThemeProps$1({props:ts,name:"MuiStack",defaultTheme:defaultTheme$5})}function joinChildren(ts,ns){const rs=reactExports.Children.toArray(ts).filter(Boolean);return rs.reduce((is,os,ss)=>(is.push(os),ss<rs.length-1&&is.push(reactExports.cloneElement(ns,{key:"separator-".concat(ss)})),is),[])}const getSideFromDirection=ts=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[ts],style=({ownerState:ts,theme:ns})=>{let rs=_extends$a({display:"flex",flexDirection:"column"},handleBreakpoints({theme:ns},resolveBreakpointValues({values:ts.direction,breakpoints:ns.breakpoints.values}),is=>({flexDirection:is})));if(ts.spacing){const is=createUnarySpacing(ns),os=Object.keys(ns.breakpoints.values).reduce((cs,us)=>((typeof ts.spacing=="object"&&ts.spacing[us]!=null||typeof ts.direction=="object"&&ts.direction[us]!=null)&&(cs[us]=!0),cs),{}),ss=resolveBreakpointValues({values:ts.direction,base:os}),as=resolveBreakpointValues({values:ts.spacing,base:os});typeof ss=="object"&&Object.keys(ss).forEach((cs,us,ds)=>{if(!ss[cs]){const hs=us>0?ss[ds[us-1]]:"column";ss[cs]=hs}}),rs=deepmerge$2(rs,handleBreakpoints({theme:ns},as,(cs,us)=>ts.useFlexGap?{gap:getValue$3(is,cs)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{["margin".concat(getSideFromDirection(us?ss[us]:ts.direction))]:getValue$3(is,cs)}}))}return rs=mergeBreakpointsInOrder(ns.breakpoints,rs),rs};function createStack(ts={}){const{createStyledComponent:ns=defaultCreateStyledComponent,useThemeProps:rs=useThemePropsDefault,componentName:is="MuiStack"}=ts,os=()=>composeClasses({root:["root"]},cs=>generateUtilityClass(is,cs),{}),ss=ns(style);return reactExports.forwardRef(function(cs,us){const ds=rs(cs),ps=extendSxProp(ds),{component:hs="div",direction:ms="column",spacing:gs=0,divider:ys,children:vs,className:bs,useFlexGap:Ss=!1}=ps,$s=_objectWithoutPropertiesLoose$3(ps,_excluded$1A),Cs={direction:ms,spacing:gs,useFlexGap:Ss},Es=os();return jsxRuntimeExports.jsx(ss,_extends$a({as:hs,ownerState:Cs,ref:us,className:clsx(Es.root,bs)},$s,{children:ys?joinChildren(vs,ys):vs}))})}function createMixins(ts,ns){return _extends$a({toolbar:{minHeight:56,[ts.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[ts.up("sm")]:{minHeight:64}}},ns)}var colorManipulator={},interopRequireDefault={exports:{}};(function(ts){function ns(rs){return rs&&rs.__esModule?rs:{default:rs}}ts.exports=ns,ts.exports.__esModule=!0,ts.exports.default=ts.exports})(interopRequireDefault);var interopRequireDefaultExports=interopRequireDefault.exports;const require$$1$3=getAugmentedNamespace(formatMuiErrorMessage),require$$2=getAugmentedNamespace(clamp);var _interopRequireDefault$m=interopRequireDefaultExports;Object.defineProperty(colorManipulator,"__esModule",{value:!0});var alpha_1=colorManipulator.alpha=alpha;colorManipulator.blend=blend;colorManipulator.colorChannel=void 0;var darken_1=colorManipulator.darken=darken;colorManipulator.decomposeColor=decomposeColor;colorManipulator.emphasize=emphasize;var getContrastRatio_1=colorManipulator.getContrastRatio=getContrastRatio;colorManipulator.getLuminance=getLuminance;colorManipulator.hexToRgb=hexToRgb;colorManipulator.hslToRgb=hslToRgb;var lighten_1=colorManipulator.lighten=lighten;colorManipulator.private_safeAlpha=private_safeAlpha;colorManipulator.private_safeColorChannel=void 0;colorManipulator.private_safeDarken=private_safeDarken;colorManipulator.private_safeEmphasize=private_safeEmphasize;colorManipulator.private_safeLighten=private_safeLighten;colorManipulator.recomposeColor=recomposeColor;colorManipulator.rgbToHex=rgbToHex;var _formatMuiErrorMessage2=_interopRequireDefault$m(require$$1$3),_clamp=_interopRequireDefault$m(require$$2);function clampWrapper(ts,ns=0,rs=1){return(0,_clamp.default)(ts,ns,rs)}function hexToRgb(ts){ts=ts.slice(1);const ns=new RegExp(".{1,".concat(ts.length>=6?2:1,"}"),"g");let rs=ts.match(ns);return rs&&rs[0].length===1&&(rs=rs.map(is=>is+is)),rs?"rgb".concat(rs.length===4?"a":"","(").concat(rs.map((is,os)=>os<3?parseInt(is,16):Math.round(parseInt(is,16)/255*1e3)/1e3).join(", "),")"):""}function intToHex(ts){const ns=ts.toString(16);return ns.length===1?"0".concat(ns):ns}function decomposeColor(ts){if(ts.type)return ts;if(ts.charAt(0)==="#")return decomposeColor(hexToRgb(ts));const ns=ts.indexOf("("),rs=ts.substring(0,ns);if(["rgb","rgba","hsl","hsla","color"].indexOf(rs)===-1)throw new Error((0,_formatMuiErrorMessage2.default)(9,ts));let is=ts.substring(ns+1,ts.length-1),os;if(rs==="color"){if(is=is.split(" "),os=is.shift(),is.length===4&&is[3].charAt(0)==="/"&&(is[3]=is[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(os)===-1)throw new Error((0,_formatMuiErrorMessage2.default)(10,os))}else is=is.split(",");return is=is.map(ss=>parseFloat(ss)),{type:rs,values:is,colorSpace:os}}const colorChannel=ts=>{const ns=decomposeColor(ts);return ns.values.slice(0,3).map((rs,is)=>ns.type.indexOf("hsl")!==-1&&is!==0?"".concat(rs,"%"):rs).join(" ")};colorManipulator.colorChannel=colorChannel;const private_safeColorChannel=(ts,ns)=>{try{return colorChannel(ts)}catch{return ts}};colorManipulator.private_safeColorChannel=private_safeColorChannel;function recomposeColor(ts){const{type:ns,colorSpace:rs}=ts;let{values:is}=ts;return ns.indexOf("rgb")!==-1?is=is.map((os,ss)=>ss<3?parseInt(os,10):os):ns.indexOf("hsl")!==-1&&(is[1]="".concat(is[1],"%"),is[2]="".concat(is[2],"%")),ns.indexOf("color")!==-1?is="".concat(rs," ").concat(is.join(" ")):is="".concat(is.join(", ")),"".concat(ns,"(").concat(is,")")}function rgbToHex(ts){if(ts.indexOf("#")===0)return ts;const{values:ns}=decomposeColor(ts);return"#".concat(ns.map((rs,is)=>intToHex(is===3?Math.round(255*rs):rs)).join(""))}function hslToRgb(ts){ts=decomposeColor(ts);const{values:ns}=ts,rs=ns[0],is=ns[1]/100,os=ns[2]/100,ss=is*Math.min(os,1-os),as=(us,ds=(us+rs/30)%12)=>os-ss*Math.max(Math.min(ds-3,9-ds,1),-1);let ls="rgb";const cs=[Math.round(as(0)*255),Math.round(as(8)*255),Math.round(as(4)*255)];return ts.type==="hsla"&&(ls+="a",cs.push(ns[3])),recomposeColor({type:ls,values:cs})}function getLuminance(ts){ts=decomposeColor(ts);let ns=ts.type==="hsl"||ts.type==="hsla"?decomposeColor(hslToRgb(ts)).values:ts.values;return ns=ns.map(rs=>(ts.type!=="color"&&(rs/=255),rs<=.03928?rs/12.92:((rs+.055)/1.055)**2.4)),Number((.2126*ns[0]+.7152*ns[1]+.0722*ns[2]).toFixed(3))}function getContrastRatio(ts,ns){const rs=getLuminance(ts),is=getLuminance(ns);return(Math.max(rs,is)+.05)/(Math.min(rs,is)+.05)}function alpha(ts,ns){return ts=decomposeColor(ts),ns=clampWrapper(ns),(ts.type==="rgb"||ts.type==="hsl")&&(ts.type+="a"),ts.type==="color"?ts.values[3]="/".concat(ns):ts.values[3]=ns,recomposeColor(ts)}function private_safeAlpha(ts,ns,rs){try{return alpha(ts,ns)}catch{return ts}}function darken(ts,ns){if(ts=decomposeColor(ts),ns=clampWrapper(ns),ts.type.indexOf("hsl")!==-1)ts.values[2]*=1-ns;else if(ts.type.indexOf("rgb")!==-1||ts.type.indexOf("color")!==-1)for(let rs=0;rs<3;rs+=1)ts.values[rs]*=1-ns;return recomposeColor(ts)}function private_safeDarken(ts,ns,rs){try{return darken(ts,ns)}catch{return ts}}function lighten(ts,ns){if(ts=decomposeColor(ts),ns=clampWrapper(ns),ts.type.indexOf("hsl")!==-1)ts.values[2]+=(100-ts.values[2])*ns;else if(ts.type.indexOf("rgb")!==-1)for(let rs=0;rs<3;rs+=1)ts.values[rs]+=(255-ts.values[rs])*ns;else if(ts.type.indexOf("color")!==-1)for(let rs=0;rs<3;rs+=1)ts.values[rs]+=(1-ts.values[rs])*ns;return recomposeColor(ts)}function private_safeLighten(ts,ns,rs){try{return lighten(ts,ns)}catch{return ts}}function emphasize(ts,ns=.15){return getLuminance(ts)>.5?darken(ts,ns):lighten(ts,ns)}function private_safeEmphasize(ts,ns,rs){try{return emphasize(ts,ns)}catch{return ts}}function blend(ts,ns,rs,is=1){const os=(cs,us)=>Math.round((cs**(1/is)*(1-rs)+us**(1/is)*rs)**is),ss=decomposeColor(ts),as=decomposeColor(ns),ls=[os(ss.values[0],as.values[0]),os(ss.values[1],as.values[1]),os(ss.values[2],as.values[2])];return recomposeColor({type:"rgb",values:ls})}const _excluded$1z=["mode","contrastThreshold","tonalOffset"],light={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:common$2.white,default:common$2.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},dark={text:{primary:common$2.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:common$2.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function addLightOrDark(ts,ns,rs,is){const os=is.light||is,ss=is.dark||is*1.5;ts[ns]||(ts.hasOwnProperty(rs)?ts[ns]=ts[rs]:ns==="light"?ts.light=lighten_1(ts.main,os):ns==="dark"&&(ts.dark=darken_1(ts.main,ss)))}function getDefaultPrimary(ts="light"){return ts==="dark"?{main:blue$1[200],light:blue$1[50],dark:blue$1[400]}:{main:blue$1[700],light:blue$1[400],dark:blue$1[800]}}function getDefaultSecondary(ts="light"){return ts==="dark"?{main:purple$1[200],light:purple$1[50],dark:purple$1[400]}:{main:purple$1[500],light:purple$1[300],dark:purple$1[700]}}function getDefaultError(ts="light"){return ts==="dark"?{main:red$1[500],light:red$1[300],dark:red$1[700]}:{main:red$1[700],light:red$1[400],dark:red$1[800]}}function getDefaultInfo(ts="light"){return ts==="dark"?{main:lightBlue$1[400],light:lightBlue$1[300],dark:lightBlue$1[700]}:{main:lightBlue$1[700],light:lightBlue$1[500],dark:lightBlue$1[900]}}function getDefaultSuccess(ts="light"){return ts==="dark"?{main:green$1[400],light:green$1[300],dark:green$1[700]}:{main:green$1[800],light:green$1[500],dark:green$1[900]}}function getDefaultWarning(ts="light"){return ts==="dark"?{main:orange$1[400],light:orange$1[300],dark:orange$1[700]}:{main:"#ed6c02",light:orange$1[500],dark:orange$1[900]}}function createPalette(ts){const{mode:ns="light",contrastThreshold:rs=3,tonalOffset:is=.2}=ts,os=_objectWithoutPropertiesLoose$3(ts,_excluded$1z),ss=ts.primary||getDefaultPrimary(ns),as=ts.secondary||getDefaultSecondary(ns),ls=ts.error||getDefaultError(ns),cs=ts.info||getDefaultInfo(ns),us=ts.success||getDefaultSuccess(ns),ds=ts.warning||getDefaultWarning(ns);function ps(ys){return getContrastRatio_1(ys,dark.text.primary)>=rs?dark.text.primary:light.text.primary}const hs=({color:ys,name:vs,mainShade:bs=500,lightShade:Ss=300,darkShade:$s=700})=>{if(ys=_extends$a({},ys),!ys.main&&ys[bs]&&(ys.main=ys[bs]),!ys.hasOwnProperty("main"))throw new Error(formatMuiErrorMessage$1(11,vs?" (".concat(vs,")"):"",bs));if(typeof ys.main!="string")throw new Error(formatMuiErrorMessage$1(12,vs?" (".concat(vs,")"):"",JSON.stringify(ys.main)));return addLightOrDark(ys,"light",Ss,is),addLightOrDark(ys,"dark",$s,is),ys.contrastText||(ys.contrastText=ps(ys.main)),ys},ms={dark,light};return deepmerge$2(_extends$a({common:_extends$a({},common$2),mode:ns,primary:hs({color:ss,name:"primary"}),secondary:hs({color:as,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:hs({color:ls,name:"error"}),warning:hs({color:ds,name:"warning"}),info:hs({color:cs,name:"info"}),success:hs({color:us,name:"success"}),grey:grey$1,contrastThreshold:rs,getContrastText:ps,augmentColor:hs,tonalOffset:is},ms[ns]),os)}const _excluded$1y=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function round$3(ts){return Math.round(ts*1e5)/1e5}const caseAllCaps={textTransform:"uppercase"},defaultFontFamily='"Roboto", "Helvetica", "Arial", sans-serif';function createTypography(ts,ns){const rs=typeof ns=="function"?ns(ts):ns,{fontFamily:is=defaultFontFamily,fontSize:os=14,fontWeightLight:ss=300,fontWeightRegular:as=400,fontWeightMedium:ls=500,fontWeightBold:cs=700,htmlFontSize:us=16,allVariants:ds,pxToRem:ps}=rs,hs=_objectWithoutPropertiesLoose$3(rs,_excluded$1y),ms=os/14,gs=ps||(bs=>"".concat(bs/us*ms,"rem")),ys=(bs,Ss,$s,Cs,Es)=>_extends$a({fontFamily:is,fontWeight:bs,fontSize:gs(Ss),lineHeight:$s},is===defaultFontFamily?{letterSpacing:"".concat(round$3(Cs/Ss),"em")}:{},Es,ds),vs={h1:ys(ss,96,1.167,-1.5),h2:ys(ss,60,1.2,-.5),h3:ys(as,48,1.167,0),h4:ys(as,34,1.235,.25),h5:ys(as,24,1.334,0),h6:ys(ls,20,1.6,.15),subtitle1:ys(as,16,1.75,.15),subtitle2:ys(ls,14,1.57,.1),body1:ys(as,16,1.5,.15),body2:ys(as,14,1.43,.15),button:ys(ls,14,1.75,.4,caseAllCaps),caption:ys(as,12,1.66,.4),overline:ys(as,12,2.66,1,caseAllCaps),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return deepmerge$2(_extends$a({htmlFontSize:us,pxToRem:gs,fontFamily:is,fontSize:os,fontWeightLight:ss,fontWeightRegular:as,fontWeightMedium:ls,fontWeightBold:cs},vs),hs,{clone:!1})}const shadowKeyUmbraOpacity=.2,shadowKeyPenumbraOpacity=.14,shadowAmbientShadowOpacity=.12;function createShadow(...ts){return["".concat(ts[0],"px ").concat(ts[1],"px ").concat(ts[2],"px ").concat(ts[3],"px rgba(0,0,0,").concat(shadowKeyUmbraOpacity,")"),"".concat(ts[4],"px ").concat(ts[5],"px ").concat(ts[6],"px ").concat(ts[7],"px rgba(0,0,0,").concat(shadowKeyPenumbraOpacity,")"),"".concat(ts[8],"px ").concat(ts[9],"px ").concat(ts[10],"px ").concat(ts[11],"px rgba(0,0,0,").concat(shadowAmbientShadowOpacity,")")].join(",")}const shadows$2=["none",createShadow(0,2,1,-1,0,1,1,0,0,1,3,0),createShadow(0,3,1,-2,0,2,2,0,0,1,5,0),createShadow(0,3,3,-2,0,3,4,0,0,1,8,0),createShadow(0,2,4,-1,0,4,5,0,0,1,10,0),createShadow(0,3,5,-1,0,5,8,0,0,1,14,0),createShadow(0,3,5,-1,0,6,10,0,0,1,18,0),createShadow(0,4,5,-2,0,7,10,1,0,2,16,1),createShadow(0,5,5,-3,0,8,10,1,0,3,14,2),createShadow(0,5,6,-3,0,9,12,1,0,3,16,2),createShadow(0,6,6,-3,0,10,14,1,0,4,18,3),createShadow(0,6,7,-4,0,11,15,1,0,4,20,3),createShadow(0,7,8,-4,0,12,17,2,0,5,22,4),createShadow(0,7,8,-4,0,13,19,2,0,5,24,4),createShadow(0,7,9,-4,0,14,21,2,0,5,26,4),createShadow(0,8,9,-5,0,15,22,2,0,6,28,5),createShadow(0,8,10,-5,0,16,24,2,0,6,30,5),createShadow(0,8,11,-5,0,17,26,2,0,6,32,5),createShadow(0,9,11,-5,0,18,28,2,0,7,34,6),createShadow(0,9,12,-6,0,19,29,2,0,7,36,6),createShadow(0,10,13,-6,0,20,31,3,0,8,38,7),createShadow(0,10,13,-6,0,21,33,3,0,8,40,7),createShadow(0,10,14,-6,0,22,35,3,0,8,42,7),createShadow(0,11,14,-7,0,23,36,3,0,9,44,8),createShadow(0,11,15,-7,0,24,38,3,0,9,46,8)],shadows$3=shadows$2,_excluded$1x=["duration","easing","delay"],easing={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},duration={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function formatMs(ts){return"".concat(Math.round(ts),"ms")}function getAutoHeightDuration(ts){if(!ts)return 0;const ns=ts/36;return Math.round((4+15*ns**.25+ns/5)*10)}function createTransitions(ts){const ns=_extends$a({},easing,ts.easing),rs=_extends$a({},duration,ts.duration);return _extends$a({getAutoHeightDuration,create:(os=["all"],ss={})=>{const{duration:as=rs.standard,easing:ls=ns.easeInOut,delay:cs=0}=ss;return _objectWithoutPropertiesLoose$3(ss,_excluded$1x),(Array.isArray(os)?os:[os]).map(us=>"".concat(us," ").concat(typeof as=="string"?as:formatMs(as)," ").concat(ls," ").concat(typeof cs=="string"?cs:formatMs(cs))).join(",")}},ts,{easing:ns,duration:rs})}const zIndex$1={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},zIndex$2=zIndex$1,_excluded$1w=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function createTheme(ts={},...ns){const{mixins:rs={},palette:is={},transitions:os={},typography:ss={}}=ts,as=_objectWithoutPropertiesLoose$3(ts,_excluded$1w);if(ts.vars)throw new Error(formatMuiErrorMessage$1(18));const ls=createPalette(is),cs=createTheme$2(ts);let us=deepmerge$2(cs,{mixins:createMixins(cs.breakpoints,rs),palette:ls,shadows:shadows$3.slice(),typography:createTypography(ls,ss),transitions:createTransitions(os),zIndex:_extends$a({},zIndex$2)});return us=deepmerge$2(us,as),us=ns.reduce((ds,ps)=>deepmerge$2(ds,ps),us),us.unstable_sxConfig=_extends$a({},defaultSxConfig$1,as==null?void 0:as.unstable_sxConfig),us.unstable_sx=function(ps){return styleFunctionSx$2({sx:ps,theme:this})},us}function getUnit(ts){return String(ts).match(/[\d.\-+]*\s*(.*)/)[1]||""}function toUnitless(ts){return parseFloat(ts)}const defaultTheme$3=createTheme(),defaultTheme$4=defaultTheme$3;function useTheme$1(){const ts=useTheme$3(defaultTheme$4);return ts[THEME_ID]||ts}function useThemeProps({props:ts,name:ns}){return useThemeProps$1({props:ts,name:ns,defaultTheme:defaultTheme$4,themeId:THEME_ID})}var createStyled$1={},_extends$6={exports:{}},hasRequired_extends;function require_extends(){return hasRequired_extends||(hasRequired_extends=1,function(ts){function ns(){return ts.exports=ns=Object.assign?Object.assign.bind():function(rs){for(var is=1;is<arguments.length;is++){var os=arguments[is];for(var ss in os)({}).hasOwnProperty.call(os,ss)&&(rs[ss]=os[ss])}return rs},ts.exports.__esModule=!0,ts.exports.default=ts.exports,ns.apply(null,arguments)}ts.exports=ns,ts.exports.__esModule=!0,ts.exports.default=ts.exports}(_extends$6)),_extends$6.exports}var objectWithoutPropertiesLoose={exports:{}},hasRequiredObjectWithoutPropertiesLoose;function requireObjectWithoutPropertiesLoose(){return hasRequiredObjectWithoutPropertiesLoose||(hasRequiredObjectWithoutPropertiesLoose=1,function(ts){function ns(rs,is){if(rs==null)return{};var os={};for(var ss in rs)if({}.hasOwnProperty.call(rs,ss)){if(is.includes(ss))continue;os[ss]=rs[ss]}return os}ts.exports=ns,ts.exports.__esModule=!0,ts.exports.default=ts.exports}(objectWithoutPropertiesLoose)),objectWithoutPropertiesLoose.exports}const require$$1$2=getAugmentedNamespace(styledEngine),require$$4$1=getAugmentedNamespace(deepmerge$1),require$$5=getAugmentedNamespace(capitalize$3),require$$6=getAugmentedNamespace(getDisplayName),require$$7=getAugmentedNamespace(createTheme$1),require$$8=getAugmentedNamespace(styleFunctionSx);var _interopRequireDefault$l=interopRequireDefaultExports;Object.defineProperty(createStyled$1,"__esModule",{value:!0});var _default$1=createStyled$1.default=createStyled;createStyled$1.shouldForwardProp=shouldForwardProp;createStyled$1.systemDefaultTheme=void 0;var _extends2=_interopRequireDefault$l(require_extends()),_objectWithoutPropertiesLoose2=_interopRequireDefault$l(requireObjectWithoutPropertiesLoose()),_styledEngine$1=_interopRequireWildcard$1(require$$1$2),_deepmerge=require$$4$1;_interopRequireDefault$l(require$$5);_interopRequireDefault$l(require$$6);var _createTheme=_interopRequireDefault$l(require$$7),_styleFunctionSx=_interopRequireDefault$l(require$$8);const _excluded$1v=["ownerState"],_excluded2$b=["variants"],_excluded3$3=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function _getRequireWildcardCache$1(ts){if(typeof WeakMap!="function")return null;var ns=new WeakMap,rs=new WeakMap;return(_getRequireWildcardCache$1=function(is){return is?rs:ns})(ts)}function _interopRequireWildcard$1(ts,ns){if(!ns&&ts&&ts.__esModule)return ts;if(ts===null||typeof ts!="object"&&typeof ts!="function")return{default:ts};var rs=_getRequireWildcardCache$1(ns);if(rs&&rs.has(ts))return rs.get(ts);var is={__proto__:null},os=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var ss in ts)if(ss!=="default"&&Object.prototype.hasOwnProperty.call(ts,ss)){var as=os?Object.getOwnPropertyDescriptor(ts,ss):null;as&&(as.get||as.set)?Object.defineProperty(is,ss,as):is[ss]=ts[ss]}return is.default=ts,rs&&rs.set(ts,is),is}function isEmpty$2(ts){return Object.keys(ts).length===0}function isStringTag(ts){return typeof ts=="string"&&ts.charCodeAt(0)>96}function shouldForwardProp(ts){return ts!=="ownerState"&&ts!=="theme"&&ts!=="sx"&&ts!=="as"}const systemDefaultTheme=createStyled$1.systemDefaultTheme=(0,_createTheme.default)(),lowercaseFirstLetter=ts=>ts&&ts.charAt(0).toLowerCase()+ts.slice(1);function resolveTheme({defaultTheme:ts,theme:ns,themeId:rs}){return isEmpty$2(ns)?ts:ns[rs]||ns}function defaultOverridesResolver(ts){return ts?(ns,rs)=>rs[ts]:null}function processStyleArg(ts,ns){let{ownerState:rs}=ns,is=(0,_objectWithoutPropertiesLoose2.default)(ns,_excluded$1v);const os=typeof ts=="function"?ts((0,_extends2.default)({ownerState:rs},is)):ts;if(Array.isArray(os))return os.flatMap(ss=>processStyleArg(ss,(0,_extends2.default)({ownerState:rs},is)));if(os&&typeof os=="object"&&Array.isArray(os.variants)){const{variants:ss=[]}=os;let ls=(0,_objectWithoutPropertiesLoose2.default)(os,_excluded2$b);return ss.forEach(cs=>{let us=!0;typeof cs.props=="function"?us=cs.props((0,_extends2.default)({ownerState:rs},is,rs)):Object.keys(cs.props).forEach(ds=>{(rs==null?void 0:rs[ds])!==cs.props[ds]&&is[ds]!==cs.props[ds]&&(us=!1)}),us&&(Array.isArray(ls)||(ls=[ls]),ls.push(typeof cs.style=="function"?cs.style((0,_extends2.default)({ownerState:rs},is,rs)):cs.style))}),ls}return os}function createStyled(ts={}){const{themeId:ns,defaultTheme:rs=systemDefaultTheme,rootShouldForwardProp:is=shouldForwardProp,slotShouldForwardProp:os=shouldForwardProp}=ts,ss=as=>(0,_styleFunctionSx.default)((0,_extends2.default)({},as,{theme:resolveTheme((0,_extends2.default)({},as,{defaultTheme:rs,themeId:ns}))}));return ss.__mui_systemSx=!0,(as,ls={})=>{(0,_styledEngine$1.internal_processStyles)(as,Es=>Es.filter(xs=>!(xs!=null&&xs.__mui_systemSx)));const{name:cs,slot:us,skipVariantsResolver:ds,skipSx:ps,overridesResolver:hs=defaultOverridesResolver(lowercaseFirstLetter(us))}=ls,ms=(0,_objectWithoutPropertiesLoose2.default)(ls,_excluded3$3),gs=ds!==void 0?ds:us&&us!=="Root"&&us!=="root"||!1,ys=ps||!1;let vs,bs=shouldForwardProp;us==="Root"||us==="root"?bs=is:us?bs=os:isStringTag(as)&&(bs=void 0);const Ss=(0,_styledEngine$1.default)(as,(0,_extends2.default)({shouldForwardProp:bs,label:vs},ms)),$s=Es=>typeof Es=="function"&&Es.__emotion_real!==Es||(0,_deepmerge.isPlainObject)(Es)?xs=>processStyleArg(Es,(0,_extends2.default)({},xs,{theme:resolveTheme({theme:xs.theme,defaultTheme:rs,themeId:ns})})):Es,Cs=(Es,...xs)=>{let ws=$s(Es);const ks=xs?xs.map($s):[];cs&&hs&&ks.push(Rs=>{const As=resolveTheme((0,_extends2.default)({},Rs,{defaultTheme:rs,themeId:ns}));if(!As.components||!As.components[cs]||!As.components[cs].styleOverrides)return null;const Ms=As.components[cs].styleOverrides,Ls={};return Object.entries(Ms).forEach(([Ds,Fs])=>{Ls[Ds]=processStyleArg(Fs,(0,_extends2.default)({},Rs,{theme:As}))}),hs(Rs,Ls)}),cs&&!gs&&ks.push(Rs=>{var As;const Ms=resolveTheme((0,_extends2.default)({},Rs,{defaultTheme:rs,themeId:ns})),Ls=Ms==null||(As=Ms.components)==null||(As=As[cs])==null?void 0:As.variants;return processStyleArg({variants:Ls},(0,_extends2.default)({},Rs,{theme:Ms}))}),ys||ks.push(ss);const Is=ks.length-xs.length;if(Array.isArray(Es)&&Is>0){const Rs=new Array(Is).fill("");ws=[...Es,...Rs],ws.raw=[...Es.raw,...Rs]}const Ts=Ss(ws,...ks);return as.muiName&&(Ts.muiName=as.muiName),Ts};return Ss.withConfig&&(Cs.withConfig=Ss.withConfig),Cs}}function slotShouldForwardProp(ts){return ts!=="ownerState"&&ts!=="theme"&&ts!=="sx"&&ts!=="as"}const rootShouldForwardProp$1=ts=>slotShouldForwardProp(ts)&&ts!=="classes",rootShouldForwardProp$2=rootShouldForwardProp$1,styled$1=_default$1({themeId:THEME_ID,defaultTheme:defaultTheme$4,rootShouldForwardProp:rootShouldForwardProp$2}),styled$2=styled$1,_excluded$1u=["theme"];function ThemeProvider(ts){let{theme:ns}=ts,rs=_objectWithoutPropertiesLoose$3(ts,_excluded$1u);const is=ns[THEME_ID];return jsxRuntimeExports.jsx(ThemeProvider$1,_extends$a({},rs,{themeId:is?THEME_ID:void 0,theme:is||ns}))}const getOverlayAlpha=ts=>{let ns;return ts<1?ns=5.11916*ts**2:ns=4.5*Math.log(ts+1)+2,(ns/100).toFixed(2)},getOverlayAlpha$1=getOverlayAlpha;function useDefaultProps(ts){return useDefaultProps$1(ts)}function getSvgIconUtilityClass(ts){return generateUtilityClass("MuiSvgIcon",ts)}generateUtilityClasses("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const _excluded$1t=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],useUtilityClasses$1b=ts=>{const{color:ns,fontSize:rs,classes:is}=ts,os={root:["root",ns!=="inherit"&&"color".concat(capitalize$4(ns)),"fontSize".concat(capitalize$4(rs))]};return composeClasses(os,getSvgIconUtilityClass,is)},SvgIconRoot=styled$2("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(ts,ns)=>{const{ownerState:rs}=ts;return[ns.root,rs.color!=="inherit"&&ns["color".concat(capitalize$4(rs.color))],ns["fontSize".concat(capitalize$4(rs.fontSize))]]}})(({theme:ts,ownerState:ns})=>{var rs,is,os,ss,as,ls,cs,us,ds,ps,hs,ms,gs;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:ns.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(rs=ts.transitions)==null||(is=rs.create)==null?void 0:is.call(rs,"fill",{duration:(os=ts.transitions)==null||(os=os.duration)==null?void 0:os.shorter}),fontSize:{inherit:"inherit",small:((ss=ts.typography)==null||(as=ss.pxToRem)==null?void 0:as.call(ss,20))||"1.25rem",medium:((ls=ts.typography)==null||(cs=ls.pxToRem)==null?void 0:cs.call(ls,24))||"1.5rem",large:((us=ts.typography)==null||(ds=us.pxToRem)==null?void 0:ds.call(us,35))||"2.1875rem"}[ns.fontSize],color:(ps=(hs=(ts.vars||ts).palette)==null||(hs=hs[ns.color])==null?void 0:hs.main)!=null?ps:{action:(ms=(ts.vars||ts).palette)==null||(ms=ms.action)==null?void 0:ms.active,disabled:(gs=(ts.vars||ts).palette)==null||(gs=gs.action)==null?void 0:gs.disabled,inherit:void 0}[ns.color]}}),SvgIcon=reactExports.forwardRef(function(ns,rs){const is=useDefaultProps({props:ns,name:"MuiSvgIcon"}),{children:os,className:ss,color:as="inherit",component:ls="svg",fontSize:cs="medium",htmlColor:us,inheritViewBox:ds=!1,titleAccess:ps,viewBox:hs="0 0 24 24"}=is,ms=_objectWithoutPropertiesLoose$3(is,_excluded$1t),gs=reactExports.isValidElement(os)&&os.type==="svg",ys=_extends$a({},is,{color:as,component:ls,fontSize:cs,instanceFontSize:ns.fontSize,inheritViewBox:ds,viewBox:hs,hasSvgAsChild:gs}),vs={};ds||(vs.viewBox=hs);const bs=useUtilityClasses$1b(ys);return jsxRuntimeExports.jsxs(SvgIconRoot,_extends$a({as:ls,className:clsx(bs.root,ss),focusable:"false",color:us,"aria-hidden":ps?void 0:!0,role:ps?"img":void 0,ref:rs},vs,ms,gs&&os.props,{ownerState:ys,children:[gs?os.props.children:os,ps?jsxRuntimeExports.jsx("title",{children:ps}):null]}))});SvgIcon.muiName="SvgIcon";const SvgIcon$1=SvgIcon;function createSvgIcon$1(ts,ns){function rs(is,os){return jsxRuntimeExports.jsx(SvgIcon$1,_extends$a({"data-testid":"".concat(ns,"Icon"),ref:os},is,{children:ts}))}return rs.muiName=SvgIcon$1.muiName,reactExports.memo(reactExports.forwardRef(rs))}const unstable_ClassNameGenerator={configure:ts=>{ClassNameGenerator$1.configure(ts)}},utils$c=Object.freeze(Object.defineProperty({__proto__:null,capitalize:capitalize$4,createChainedFunction,createSvgIcon:createSvgIcon$1,debounce:debounce$3,deprecatedPropType,isMuiElement,ownerDocument,ownerWindow,requirePropFactory,setRef:setRef$1,unstable_ClassNameGenerator,unstable_useEnhancedEffect:useEnhancedEffect$1,unstable_useId:useId,unsupportedProp,useControlled,useEventCallback,useForkRef,useIsFocusVisible},Symbol.toStringTag,{value:"Module"}));function hasClass(ts,ns){return ts.classList?!!ns&&ts.classList.contains(ns):(" "+(ts.className.baseVal||ts.className)+" ").indexOf(" "+ns+" ")!==-1}function addClass(ts,ns){ts.classList?ts.classList.add(ns):hasClass(ts,ns)||(typeof ts.className=="string"?ts.className=ts.className+" "+ns:ts.setAttribute("class",(ts.className&&ts.className.baseVal||"")+" "+ns))}function replaceClassName(ts,ns){return ts.replace(new RegExp("(^|\\s)"+ns+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function removeClass$1(ts,ns){ts.classList?ts.classList.remove(ns):typeof ts.className=="string"?ts.className=replaceClassName(ts.className,ns):ts.setAttribute("class",replaceClassName(ts.className&&ts.className.baseVal||"",ns))}const config$8={disabled:!1},TransitionGroupContext=React$1.createContext(null);var forceReflow=function(ns){return ns.scrollTop},UNMOUNTED="unmounted",EXITED="exited",ENTERING="entering",ENTERED="entered",EXITING="exiting",Transition=function(ts){_inheritsLoose(ns,ts);function ns(is,os){var ss;ss=ts.call(this,is,os)||this;var as=os,ls=as&&!as.isMounting?is.enter:is.appear,cs;return ss.appearStatus=null,is.in?ls?(cs=EXITED,ss.appearStatus=ENTERING):cs=ENTERED:is.unmountOnExit||is.mountOnEnter?cs=UNMOUNTED:cs=EXITED,ss.state={status:cs},ss.nextCallback=null,ss}ns.getDerivedStateFromProps=function(os,ss){var as=os.in;return as&&ss.status===UNMOUNTED?{status:EXITED}:null};var rs=ns.prototype;return rs.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},rs.componentDidUpdate=function(os){var ss=null;if(os!==this.props){var as=this.state.status;this.props.in?as!==ENTERING&&as!==ENTERED&&(ss=ENTERING):(as===ENTERING||as===ENTERED)&&(ss=EXITING)}this.updateStatus(!1,ss)},rs.componentWillUnmount=function(){this.cancelNextCallback()},rs.getTimeouts=function(){var os=this.props.timeout,ss,as,ls;return ss=as=ls=os,os!=null&&typeof os!="number"&&(ss=os.exit,as=os.enter,ls=os.appear!==void 0?os.appear:as),{exit:ss,enter:as,appear:ls}},rs.updateStatus=function(os,ss){if(os===void 0&&(os=!1),ss!==null)if(this.cancelNextCallback(),ss===ENTERING){if(this.props.unmountOnExit||this.props.mountOnEnter){var as=this.props.nodeRef?this.props.nodeRef.current:ReactDOM__default.findDOMNode(this);as&&forceReflow(as)}this.performEnter(os)}else this.performExit();else this.props.unmountOnExit&&this.state.status===EXITED&&this.setState({status:UNMOUNTED})},rs.performEnter=function(os){var ss=this,as=this.props.enter,ls=this.context?this.context.isMounting:os,cs=this.props.nodeRef?[ls]:[ReactDOM__default.findDOMNode(this),ls],us=cs[0],ds=cs[1],ps=this.getTimeouts(),hs=ls?ps.appear:ps.enter;if(!os&&!as||config$8.disabled){this.safeSetState({status:ENTERED},function(){ss.props.onEntered(us)});return}this.props.onEnter(us,ds),this.safeSetState({status:ENTERING},function(){ss.props.onEntering(us,ds),ss.onTransitionEnd(hs,function(){ss.safeSetState({status:ENTERED},function(){ss.props.onEntered(us,ds)})})})},rs.performExit=function(){var os=this,ss=this.props.exit,as=this.getTimeouts(),ls=this.props.nodeRef?void 0:ReactDOM__default.findDOMNode(this);if(!ss||config$8.disabled){this.safeSetState({status:EXITED},function(){os.props.onExited(ls)});return}this.props.onExit(ls),this.safeSetState({status:EXITING},function(){os.props.onExiting(ls),os.onTransitionEnd(as.exit,function(){os.safeSetState({status:EXITED},function(){os.props.onExited(ls)})})})},rs.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},rs.safeSetState=function(os,ss){ss=this.setNextCallback(ss),this.setState(os,ss)},rs.setNextCallback=function(os){var ss=this,as=!0;return this.nextCallback=function(ls){as&&(as=!1,ss.nextCallback=null,os(ls))},this.nextCallback.cancel=function(){as=!1},this.nextCallback},rs.onTransitionEnd=function(os,ss){this.setNextCallback(ss);var as=this.props.nodeRef?this.props.nodeRef.current:ReactDOM__default.findDOMNode(this),ls=os==null&&!this.props.addEndListener;if(!as||ls){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var cs=this.props.nodeRef?[this.nextCallback]:[as,this.nextCallback],us=cs[0],ds=cs[1];this.props.addEndListener(us,ds)}os!=null&&setTimeout(this.nextCallback,os)},rs.render=function(){var os=this.state.status;if(os===UNMOUNTED)return null;var ss=this.props,as=ss.children;ss.in,ss.mountOnEnter,ss.unmountOnExit,ss.appear,ss.enter,ss.exit,ss.timeout,ss.addEndListener,ss.onEnter,ss.onEntering,ss.onEntered,ss.onExit,ss.onExiting,ss.onExited,ss.nodeRef;var ls=_objectWithoutPropertiesLoose$3(ss,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return React$1.createElement(TransitionGroupContext.Provider,{value:null},typeof as=="function"?as(os,ls):React$1.cloneElement(React$1.Children.only(as),ls))},ns}(React$1.Component);Transition.contextType=TransitionGroupContext;Transition.propTypes={};function noop$3(){}Transition.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:noop$3,onEntering:noop$3,onEntered:noop$3,onExit:noop$3,onExiting:noop$3,onExited:noop$3};Transition.UNMOUNTED=UNMOUNTED;Transition.EXITED=EXITED;Transition.ENTERING=ENTERING;Transition.ENTERED=ENTERED;Transition.EXITING=EXITING;const Transition$1=Transition;var _addClass=function(ns,rs){return ns&&rs&&rs.split(" ").forEach(function(is){return addClass(ns,is)})},removeClass=function(ns,rs){return ns&&rs&&rs.split(" ").forEach(function(is){return removeClass$1(ns,is)})},CSSTransition=function(ts){_inheritsLoose(ns,ts);function ns(){for(var is,os=arguments.length,ss=new Array(os),as=0;as<os;as++)ss[as]=arguments[as];return is=ts.call.apply(ts,[this].concat(ss))||this,is.appliedClasses={appear:{},enter:{},exit:{}},is.onEnter=function(ls,cs){var us=is.resolveArguments(ls,cs),ds=us[0],ps=us[1];is.removeClasses(ds,"exit"),is.addClass(ds,ps?"appear":"enter","base"),is.props.onEnter&&is.props.onEnter(ls,cs)},is.onEntering=function(ls,cs){var us=is.resolveArguments(ls,cs),ds=us[0],ps=us[1],hs=ps?"appear":"enter";is.addClass(ds,hs,"active"),is.props.onEntering&&is.props.onEntering(ls,cs)},is.onEntered=function(ls,cs){var us=is.resolveArguments(ls,cs),ds=us[0],ps=us[1],hs=ps?"appear":"enter";is.removeClasses(ds,hs),is.addClass(ds,hs,"done"),is.props.onEntered&&is.props.onEntered(ls,cs)},is.onExit=function(ls){var cs=is.resolveArguments(ls),us=cs[0];is.removeClasses(us,"appear"),is.removeClasses(us,"enter"),is.addClass(us,"exit","base"),is.props.onExit&&is.props.onExit(ls)},is.onExiting=function(ls){var cs=is.resolveArguments(ls),us=cs[0];is.addClass(us,"exit","active"),is.props.onExiting&&is.props.onExiting(ls)},is.onExited=function(ls){var cs=is.resolveArguments(ls),us=cs[0];is.removeClasses(us,"exit"),is.addClass(us,"exit","done"),is.props.onExited&&is.props.onExited(ls)},is.resolveArguments=function(ls,cs){return is.props.nodeRef?[is.props.nodeRef.current,ls]:[ls,cs]},is.getClassNames=function(ls){var cs=is.props.classNames,us=typeof cs=="string",ds=us&&cs?cs+"-":"",ps=us?""+ds+ls:cs[ls],hs=us?ps+"-active":cs[ls+"Active"],ms=us?ps+"-done":cs[ls+"Done"];return{baseClassName:ps,activeClassName:hs,doneClassName:ms}},is}var rs=ns.prototype;return rs.addClass=function(os,ss,as){var ls=this.getClassNames(ss)[as+"ClassName"],cs=this.getClassNames("enter"),us=cs.doneClassName;ss==="appear"&&as==="done"&&us&&(ls+=" "+us),as==="active"&&os&&forceReflow(os),ls&&(this.appliedClasses[ss][as]=ls,_addClass(os,ls))},rs.removeClasses=function(os,ss){var as=this.appliedClasses[ss],ls=as.base,cs=as.active,us=as.done;this.appliedClasses[ss]={},ls&&removeClass(os,ls),cs&&removeClass(os,cs),us&&removeClass(os,us)},rs.render=function(){var os=this.props;os.classNames;var ss=_objectWithoutPropertiesLoose$3(os,["classNames"]);return React$1.createElement(Transition$1,_extends$a({},ss,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},ns}(React$1.Component);CSSTransition.defaultProps={classNames:""};CSSTransition.propTypes={};const CSSTransition$1=CSSTransition;function _assertThisInitialized(ts){if(ts===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ts}function getChildMapping(ts,ns){var rs=function(ss){return ns&&reactExports.isValidElement(ss)?ns(ss):ss},is=Object.create(null);return ts&&reactExports.Children.map(ts,function(os){return os}).forEach(function(os){is[os.key]=rs(os)}),is}function mergeChildMappings(ts,ns){ts=ts||{},ns=ns||{};function rs(ds){return ds in ns?ns[ds]:ts[ds]}var is=Object.create(null),os=[];for(var ss in ts)ss in ns?os.length&&(is[ss]=os,os=[]):os.push(ss);var as,ls={};for(var cs in ns){if(is[cs])for(as=0;as<is[cs].length;as++){var us=is[cs][as];ls[is[cs][as]]=rs(us)}ls[cs]=rs(cs)}for(as=0;as<os.length;as++)ls[os[as]]=rs(os[as]);return ls}function getProp(ts,ns,rs){return rs[ns]!=null?rs[ns]:ts.props[ns]}function getInitialChildMapping(ts,ns){return getChildMapping(ts.children,function(rs){return reactExports.cloneElement(rs,{onExited:ns.bind(null,rs),in:!0,appear:getProp(rs,"appear",ts),enter:getProp(rs,"enter",ts),exit:getProp(rs,"exit",ts)})})}function getNextChildMapping(ts,ns,rs){var is=getChildMapping(ts.children),os=mergeChildMappings(ns,is);return Object.keys(os).forEach(function(ss){var as=os[ss];if(reactExports.isValidElement(as)){var ls=ss in ns,cs=ss in is,us=ns[ss],ds=reactExports.isValidElement(us)&&!us.props.in;cs&&(!ls||ds)?os[ss]=reactExports.cloneElement(as,{onExited:rs.bind(null,as),in:!0,exit:getProp(as,"exit",ts),enter:getProp(as,"enter",ts)}):!cs&&ls&&!ds?os[ss]=reactExports.cloneElement(as,{in:!1}):cs&&ls&&reactExports.isValidElement(us)&&(os[ss]=reactExports.cloneElement(as,{onExited:rs.bind(null,as),in:us.props.in,exit:getProp(as,"exit",ts),enter:getProp(as,"enter",ts)}))}}),os}var values=Object.values||function(ts){return Object.keys(ts).map(function(ns){return ts[ns]})},defaultProps={component:"div",childFactory:function(ns){return ns}},TransitionGroup=function(ts){_inheritsLoose(ns,ts);function ns(is,os){var ss;ss=ts.call(this,is,os)||this;var as=ss.handleExited.bind(_assertThisInitialized(ss));return ss.state={contextValue:{isMounting:!0},handleExited:as,firstRender:!0},ss}var rs=ns.prototype;return rs.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},rs.componentWillUnmount=function(){this.mounted=!1},ns.getDerivedStateFromProps=function(os,ss){var as=ss.children,ls=ss.handleExited,cs=ss.firstRender;return{children:cs?getInitialChildMapping(os,ls):getNextChildMapping(os,as,ls),firstRender:!1}},rs.handleExited=function(os,ss){var as=getChildMapping(this.props.children);os.key in as||(os.props.onExited&&os.props.onExited(ss),this.mounted&&this.setState(function(ls){var cs=_extends$a({},ls.children);return delete cs[os.key],{children:cs}}))},rs.render=function(){var os=this.props,ss=os.component,as=os.childFactory,ls=_objectWithoutPropertiesLoose$3(os,["component","childFactory"]),cs=this.state.contextValue,us=values(this.state.children).map(as);return delete ls.appear,delete ls.enter,delete ls.exit,ss===null?React$1.createElement(TransitionGroupContext.Provider,{value:cs},us):React$1.createElement(TransitionGroupContext.Provider,{value:cs},React$1.createElement(ss,ls,us))},ns}(React$1.Component);TransitionGroup.propTypes={};TransitionGroup.defaultProps=defaultProps;const TransitionGroup$1=TransitionGroup,reflow=ts=>ts.scrollTop;function getTransitionProps(ts,ns){var rs,is;const{timeout:os,easing:ss,style:as={}}=ts;return{duration:(rs=as.transitionDuration)!=null?rs:typeof os=="number"?os:os[ns.mode]||0,easing:(is=as.transitionTimingFunction)!=null?is:typeof ss=="object"?ss[ns.mode]:ss,delay:as.transitionDelay}}function getPaperUtilityClass(ts){return generateUtilityClass("MuiPaper",ts)}generateUtilityClasses("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const _excluded$1s=["className","component","elevation","square","variant"],useUtilityClasses$1a=ts=>{const{square:ns,elevation:rs,variant:is,classes:os}=ts,ss={root:["root",is,!ns&&"rounded",is==="elevation"&&"elevation".concat(rs)]};return composeClasses(ss,getPaperUtilityClass,os)},PaperRoot=styled$2("div",{name:"MuiPaper",slot:"Root",overridesResolver:(ts,ns)=>{const{ownerState:rs}=ts;return[ns.root,ns[rs.variant],!rs.square&&ns.rounded,rs.variant==="elevation"&&ns["elevation".concat(rs.elevation)]]}})(({theme:ts,ownerState:ns})=>{var rs;return _extends$a({backgroundColor:(ts.vars||ts).palette.background.paper,color:(ts.vars||ts).palette.text.primary,transition:ts.transitions.create("box-shadow")},!ns.square&&{borderRadius:ts.shape.borderRadius},ns.variant==="outlined"&&{border:"1px solid ".concat((ts.vars||ts).palette.divider)},ns.variant==="elevation"&&_extends$a({boxShadow:(ts.vars||ts).shadows[ns.elevation]},!ts.vars&&ts.palette.mode==="dark"&&{backgroundImage:"linear-gradient(".concat(alpha_1("#fff",getOverlayAlpha$1(ns.elevation)),", ").concat(alpha_1("#fff",getOverlayAlpha$1(ns.elevation)),")")},ts.vars&&{backgroundImage:(rs=ts.vars.overlays)==null?void 0:rs[ns.elevation]}))}),Paper=reactExports.forwardRef(function(ns,rs){const is=useDefaultProps({props:ns,name:"MuiPaper"}),{className:os,component:ss="div",elevation:as=1,square:ls=!1,variant:cs="elevation"}=is,us=_objectWithoutPropertiesLoose$3(is,_excluded$1s),ds=_extends$a({},is,{component:ss,elevation:as,square:ls,variant:cs}),ps=useUtilityClasses$1a(ds);return jsxRuntimeExports.jsx(PaperRoot,_extends$a({as:ss,ownerState:ds,className:clsx(ps.root,os),ref:rs},us))}),Paper$1=Paper;function Ripple(ts){const{className:ns,classes:rs,pulsate:is=!1,rippleX:os,rippleY:ss,rippleSize:as,in:ls,onExited:cs,timeout:us}=ts,[ds,ps]=reactExports.useState(!1),hs=clsx(ns,rs.ripple,rs.rippleVisible,is&&rs.ripplePulsate),ms={width:as,height:as,top:-(as/2)+ss,left:-(as/2)+os},gs=clsx(rs.child,ds&&rs.childLeaving,is&&rs.childPulsate);return!ls&&!ds&&ps(!0),reactExports.useEffect(()=>{if(!ls&&cs!=null){const ys=setTimeout(cs,us);return()=>{clearTimeout(ys)}}},[cs,ls,us]),jsxRuntimeExports.jsx("span",{className:hs,style:ms,children:jsxRuntimeExports.jsx("span",{className:gs})})}const touchRippleClasses=generateUtilityClasses("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),touchRippleClasses$1=touchRippleClasses,_excluded$1r=["center","classes","className"];let _$4=ts=>ts,_t$3,_t2$2,_t3$2,_t4$2;const DURATION=550,DELAY_RIPPLE=80;var Jp;const enterKeyframe=keyframes(_t$3||(_t$3=_$4(Jp||(Jp=zl(["\n  0% {\n    transform: scale(0);\n    opacity: 0.1;\n  }\n\n  100% {\n    transform: scale(1);\n    opacity: 0.3;\n  }\n"])))));var Xp;const exitKeyframe=keyframes(_t2$2||(_t2$2=_$4(Xp||(Xp=zl(["\n  0% {\n    opacity: 1;\n  }\n\n  100% {\n    opacity: 0;\n  }\n"])))));var Qp;const pulsateKeyframe=keyframes(_t3$2||(_t3$2=_$4(Qp||(Qp=zl(["\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(0.92);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n"]))))),TouchRippleRoot=styled$2("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"});var _h;const TouchRippleRipple=styled$2(Ripple,{name:"MuiTouchRipple",slot:"Ripple"})(_t4$2||(_t4$2=_$4(_h||(_h=zl(["\n  opacity: 0;\n  position: absolute;\n\n  &."," {\n    opacity: 0.3;\n    transform: scale(1);\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  &."," {\n    animation-duration: ","ms;\n  }\n\n  & ."," {\n    opacity: 1;\n    display: block;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    background-color: currentColor;\n  }\n\n  & ."," {\n    opacity: 0;\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  & ."," {\n    position: absolute;\n    /* @noflip */\n    left: 0px;\n    top: 0;\n    animation-name: ",";\n    animation-duration: 2500ms;\n    animation-timing-function: ",";\n    animation-iteration-count: infinite;\n    animation-delay: 200ms;\n  }\n"])),0,0,0,0,0,0,0,0,0,0,0,0,0,0)),touchRippleClasses$1.rippleVisible,enterKeyframe,DURATION,({theme:ts})=>ts.transitions.easing.easeInOut,touchRippleClasses$1.ripplePulsate,({theme:ts})=>ts.transitions.duration.shorter,touchRippleClasses$1.child,touchRippleClasses$1.childLeaving,exitKeyframe,DURATION,({theme:ts})=>ts.transitions.easing.easeInOut,touchRippleClasses$1.childPulsate,pulsateKeyframe,({theme:ts})=>ts.transitions.easing.easeInOut),TouchRipple=reactExports.forwardRef(function(ns,rs){const is=useDefaultProps({props:ns,name:"MuiTouchRipple"}),{center:os=!1,classes:ss={},className:as}=is,ls=_objectWithoutPropertiesLoose$3(is,_excluded$1r),[cs,us]=reactExports.useState([]),ds=reactExports.useRef(0),ps=reactExports.useRef(null);reactExports.useEffect(()=>{ps.current&&(ps.current(),ps.current=null)},[cs]);const hs=reactExports.useRef(!1),ms=useTimeout(),gs=reactExports.useRef(null),ys=reactExports.useRef(null),vs=reactExports.useCallback(Cs=>{const{pulsate:Es,rippleX:xs,rippleY:ws,rippleSize:ks,cb:Is}=Cs;us(Ts=>[...Ts,jsxRuntimeExports.jsx(TouchRippleRipple,{classes:{ripple:clsx(ss.ripple,touchRippleClasses$1.ripple),rippleVisible:clsx(ss.rippleVisible,touchRippleClasses$1.rippleVisible),ripplePulsate:clsx(ss.ripplePulsate,touchRippleClasses$1.ripplePulsate),child:clsx(ss.child,touchRippleClasses$1.child),childLeaving:clsx(ss.childLeaving,touchRippleClasses$1.childLeaving),childPulsate:clsx(ss.childPulsate,touchRippleClasses$1.childPulsate)},timeout:DURATION,pulsate:Es,rippleX:xs,rippleY:ws,rippleSize:ks},ds.current)]),ds.current+=1,ps.current=Is},[ss]),bs=reactExports.useCallback((Cs={},Es={},xs=()=>{})=>{const{pulsate:ws=!1,center:ks=os||Es.pulsate,fakeElement:Is=!1}=Es;if((Cs==null?void 0:Cs.type)==="mousedown"&&hs.current){hs.current=!1;return}(Cs==null?void 0:Cs.type)==="touchstart"&&(hs.current=!0);const Ts=Is?null:ys.current,Rs=Ts?Ts.getBoundingClientRect():{width:0,height:0,left:0,top:0};let As,Ms,Ls;if(ks||Cs===void 0||Cs.clientX===0&&Cs.clientY===0||!Cs.clientX&&!Cs.touches)As=Math.round(Rs.width/2),Ms=Math.round(Rs.height/2);else{const{clientX:Ds,clientY:Fs}=Cs.touches&&Cs.touches.length>0?Cs.touches[0]:Cs;As=Math.round(Ds-Rs.left),Ms=Math.round(Fs-Rs.top)}if(ks)Ls=Math.sqrt((2*Rs.width**2+Rs.height**2)/3),Ls%2===0&&(Ls+=1);else{const Ds=Math.max(Math.abs((Ts?Ts.clientWidth:0)-As),As)*2+2,Fs=Math.max(Math.abs((Ts?Ts.clientHeight:0)-Ms),Ms)*2+2;Ls=Math.sqrt(Ds**2+Fs**2)}Cs!=null&&Cs.touches?gs.current===null&&(gs.current=()=>{vs({pulsate:ws,rippleX:As,rippleY:Ms,rippleSize:Ls,cb:xs})},ms.start(DELAY_RIPPLE,()=>{gs.current&&(gs.current(),gs.current=null)})):vs({pulsate:ws,rippleX:As,rippleY:Ms,rippleSize:Ls,cb:xs})},[os,vs,ms]),Ss=reactExports.useCallback(()=>{bs({},{pulsate:!0})},[bs]),$s=reactExports.useCallback((Cs,Es)=>{if(ms.clear(),(Cs==null?void 0:Cs.type)==="touchend"&&gs.current){gs.current(),gs.current=null,ms.start(0,()=>{$s(Cs,Es)});return}gs.current=null,us(xs=>xs.length>0?xs.slice(1):xs),ps.current=Es},[ms]);return reactExports.useImperativeHandle(rs,()=>({pulsate:Ss,start:bs,stop:$s}),[Ss,bs,$s]),jsxRuntimeExports.jsx(TouchRippleRoot,_extends$a({className:clsx(touchRippleClasses$1.root,ss.root,as),ref:ys},ls,{children:jsxRuntimeExports.jsx(TransitionGroup$1,{component:null,exit:!0,children:cs})}))}),TouchRipple$1=TouchRipple;function getButtonBaseUtilityClass(ts){return generateUtilityClass("MuiButtonBase",ts)}const buttonBaseClasses=generateUtilityClasses("MuiButtonBase",["root","disabled","focusVisible"]),buttonBaseClasses$1=buttonBaseClasses,_excluded$1q=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],useUtilityClasses$19=ts=>{const{disabled:ns,focusVisible:rs,focusVisibleClassName:is,classes:os}=ts,as=composeClasses({root:["root",ns&&"disabled",rs&&"focusVisible"]},getButtonBaseUtilityClass,os);return rs&&is&&(as.root+=" ".concat(is)),as},ButtonBaseRoot=styled$2("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(ts,ns)=>ns.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},["&.".concat(buttonBaseClasses$1.disabled)]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),ButtonBase=reactExports.forwardRef(function(ns,rs){const is=useDefaultProps({props:ns,name:"MuiButtonBase"}),{action:os,centerRipple:ss=!1,children:as,className:ls,component:cs="button",disabled:us=!1,disableRipple:ds=!1,disableTouchRipple:ps=!1,focusRipple:hs=!1,LinkComponent:ms="a",onBlur:gs,onClick:ys,onContextMenu:vs,onDragLeave:bs,onFocus:Ss,onFocusVisible:$s,onKeyDown:Cs,onKeyUp:Es,onMouseDown:xs,onMouseLeave:ws,onMouseUp:ks,onTouchEnd:Is,onTouchMove:Ts,onTouchStart:Rs,tabIndex:As=0,TouchRippleProps:Ms,touchRippleRef:Ls,type:Ds}=is,Fs=_objectWithoutPropertiesLoose$3(is,_excluded$1q),Vs=reactExports.useRef(null),Bs=reactExports.useRef(null),Ws=useForkRef(Bs,Ls),{isFocusVisibleRef:Os,onFocus:Nl,onBlur:$a,ref:Ps}=useIsFocusVisible(),[Ys,Zs]=reactExports.useState(!1);us&&Ys&&Zs(!1),reactExports.useImperativeHandle(os,()=>({focusVisible:()=>{Zs(!0),Vs.current.focus()}}),[]);const[Us,Ol]=reactExports.useState(!1);reactExports.useEffect(()=>{Ol(!0)},[]);const qs=Us&&!ds&&!us;reactExports.useEffect(()=>{Ys&&hs&&!ds&&Us&&Bs.current.pulsate()},[ds,hs,Ys,Us]);function Fl(Ml,Kl,Ql=ps){return useEventCallback(Yl=>(Kl&&Kl(Yl),!Ql&&Bs.current&&Bs.current[Ml](Yl),!0))}const Ll=Fl("start",xs),$l=Fl("stop",vs),Cl=Fl("stop",bs),wl=Fl("stop",ks),Tl=Fl("stop",Ml=>{Ys&&Ml.preventDefault(),ws&&ws(Ml)}),xl=Fl("start",Rs),Al=Fl("stop",Is),Dl=Fl("stop",Ts),Ns=Fl("stop",Ml=>{$a(Ml),Os.current===!1&&Zs(!1),gs&&gs(Ml)},!1),Hs=useEventCallback(Ml=>{Vs.current||(Vs.current=Ml.currentTarget),Nl(Ml),Os.current===!0&&(Zs(!0),$s&&$s(Ml)),Ss&&Ss(Ml)}),Gs=()=>{const Ml=Vs.current;return cs&&cs!=="button"&&!(Ml.tagName==="A"&&Ml.href)},Js=reactExports.useRef(!1),El=useEventCallback(Ml=>{hs&&!Js.current&&Ys&&Bs.current&&Ml.key===" "&&(Js.current=!0,Bs.current.stop(Ml,()=>{Bs.current.start(Ml)})),Ml.target===Ml.currentTarget&&Gs()&&Ml.key===" "&&Ml.preventDefault(),Cs&&Cs(Ml),Ml.target===Ml.currentTarget&&Gs()&&Ml.key==="Enter"&&!us&&(Ml.preventDefault(),ys&&ys(Ml))}),Xs=useEventCallback(Ml=>{hs&&Ml.key===" "&&Bs.current&&Ys&&!Ml.defaultPrevented&&(Js.current=!1,Bs.current.stop(Ml,()=>{Bs.current.pulsate(Ml)})),Es&&Es(Ml),ys&&Ml.target===Ml.currentTarget&&Gs()&&Ml.key===" "&&!Ml.defaultPrevented&&ys(Ml)});let _l=cs;_l==="button"&&(Fs.href||Fs.to)&&(_l=ms);const Bl={};_l==="button"?(Bl.type=Ds===void 0?"button":Ds,Bl.disabled=us):(!Fs.href&&!Fs.to&&(Bl.role="button"),us&&(Bl["aria-disabled"]=us));const Ks=useForkRef(rs,Ps,Vs),Sl=_extends$a({},is,{centerRipple:ss,component:cs,disabled:us,disableRipple:ds,disableTouchRipple:ps,focusRipple:hs,tabIndex:As,focusVisible:Ys}),Il=useUtilityClasses$19(Sl);return jsxRuntimeExports.jsxs(ButtonBaseRoot,_extends$a({as:_l,className:clsx(Il.root,ls),ownerState:Sl,onBlur:Ns,onClick:ys,onContextMenu:$l,onFocus:Hs,onKeyDown:El,onKeyUp:Xs,onMouseDown:Ll,onMouseLeave:Tl,onMouseUp:wl,onDragLeave:Cl,onTouchEnd:Al,onTouchMove:Dl,onTouchStart:xl,ref:Ks,tabIndex:us?-1:As,type:Ds},Bl,Fs,{children:[as,qs?jsxRuntimeExports.jsx(TouchRipple$1,_extends$a({ref:Ws,center:ss},Ms)):null]}))}),ButtonBase$1=ButtonBase;function getIconButtonUtilityClass(ts){return generateUtilityClass("MuiIconButton",ts)}const iconButtonClasses=generateUtilityClasses("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),iconButtonClasses$1=iconButtonClasses,_excluded$1p=["edge","children","className","color","disabled","disableFocusRipple","size"],useUtilityClasses$18=ts=>{const{classes:ns,disabled:rs,color:is,edge:os,size:ss}=ts,as={root:["root",rs&&"disabled",is!=="default"&&"color".concat(capitalize$4(is)),os&&"edge".concat(capitalize$4(os)),"size".concat(capitalize$4(ss))]};return composeClasses(as,getIconButtonUtilityClass,ns)},IconButtonRoot=styled$2(ButtonBase$1,{name:"MuiIconButton",slot:"Root",overridesResolver:(ts,ns)=>{const{ownerState:rs}=ts;return[ns.root,rs.color!=="default"&&ns["color".concat(capitalize$4(rs.color))],rs.edge&&ns["edge".concat(capitalize$4(rs.edge))],ns["size".concat(capitalize$4(rs.size))]]}})(({theme:ts,ownerState:ns})=>_extends$a({textAlign:"center",flex:"0 0 auto",fontSize:ts.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(ts.vars||ts).palette.action.active,transition:ts.transitions.create("background-color",{duration:ts.transitions.duration.shortest})},!ns.disableRipple&&{"&:hover":{backgroundColor:ts.vars?"rgba(".concat(ts.vars.palette.action.activeChannel," / ").concat(ts.vars.palette.action.hoverOpacity,")"):alpha_1(ts.palette.action.active,ts.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},ns.edge==="start"&&{marginLeft:ns.size==="small"?-3:-12},ns.edge==="end"&&{marginRight:ns.size==="small"?-3:-12}),({theme:ts,ownerState:ns})=>{var rs;const is=(rs=(ts.vars||ts).palette)==null?void 0:rs[ns.color];return _extends$a({},ns.color==="inherit"&&{color:"inherit"},ns.color!=="inherit"&&ns.color!=="default"&&_extends$a({color:is==null?void 0:is.main},!ns.disableRipple&&{"&:hover":_extends$a({},is&&{backgroundColor:ts.vars?"rgba(".concat(is.mainChannel," / ").concat(ts.vars.palette.action.hoverOpacity,")"):alpha_1(is.main,ts.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),ns.size==="small"&&{padding:5,fontSize:ts.typography.pxToRem(18)},ns.size==="large"&&{padding:12,fontSize:ts.typography.pxToRem(28)},{["&.".concat(iconButtonClasses$1.disabled)]:{backgroundColor:"transparent",color:(ts.vars||ts).palette.action.disabled}})}),IconButton$1=reactExports.forwardRef(function(ns,rs){const is=useDefaultProps({props:ns,name:"MuiIconButton"}),{edge:os=!1,children:ss,className:as,color:ls="default",disabled:cs=!1,disableFocusRipple:us=!1,size:ds="medium"}=is,ps=_objectWithoutPropertiesLoose$3(is,_excluded$1p),hs=_extends$a({},is,{edge:os,color:ls,disabled:cs,disableFocusRipple:us,size:ds}),ms=useUtilityClasses$18(hs);return jsxRuntimeExports.jsx(IconButtonRoot,_extends$a({className:clsx(ms.root,as),centerRipple:!0,focusRipple:!us,disabled:cs,ref:rs},ps,{ownerState:hs,children:ss}))}),IconButton$2=IconButton$1,ClearIcon=createSvgIcon$1(jsxRuntimeExports.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");function getTypographyUtilityClass(ts){return generateUtilityClass("MuiTypography",ts)}generateUtilityClasses("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const _excluded$1o=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],useUtilityClasses$17=ts=>{const{align:ns,gutterBottom:rs,noWrap:is,paragraph:os,variant:ss,classes:as}=ts,ls={root:["root",ss,ts.align!=="inherit"&&"align".concat(capitalize$4(ns)),rs&&"gutterBottom",is&&"noWrap",os&&"paragraph"]};return composeClasses(ls,getTypographyUtilityClass,as)},TypographyRoot=styled$2("span",{name:"MuiTypography",slot:"Root",overridesResolver:(ts,ns)=>{const{ownerState:rs}=ts;return[ns.root,rs.variant&&ns[rs.variant],rs.align!=="inherit"&&ns["align".concat(capitalize$4(rs.align))],rs.noWrap&&ns.noWrap,rs.gutterBottom&&ns.gutterBottom,rs.paragraph&&ns.paragraph]}})(({theme:ts,ownerState:ns})=>_extends$a({margin:0},ns.variant==="inherit"&&{font:"inherit"},ns.variant!=="inherit"&&ts.typography[ns.variant],ns.align!=="inherit"&&{textAlign:ns.align},ns.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},ns.gutterBottom&&{marginBottom:"0.35em"},ns.paragraph&&{marginBottom:16})),defaultVariantMapping={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},colorTransformations$1={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},transformDeprecatedColors$1=ts=>colorTransformations$1[ts]||ts,Typography=reactExports.forwardRef(function(ns,rs){const is=useDefaultProps({props:ns,name:"MuiTypography"}),os=transformDeprecatedColors$1(is.color),ss=extendSxProp(_extends$a({},is,{color:os})),{align:as="inherit",className:ls,component:cs,gutterBottom:us=!1,noWrap:ds=!1,paragraph:ps=!1,variant:hs="body1",variantMapping:ms=defaultVariantMapping}=ss,gs=_objectWithoutPropertiesLoose$3(ss,_excluded$1o),ys=_extends$a({},ss,{align:as,color:os,className:ls,component:cs,gutterBottom:us,noWrap:ds,paragraph:ps,variant:hs,variantMapping:ms}),vs=cs||(ps?"p":ms[hs]||defaultVariantMapping[hs])||"span",bs=useUtilityClasses$17(ys);return jsxRuntimeExports.jsx(TypographyRoot,_extends$a({as:vs,ref:rs,ownerState:ys,className:clsx(bs.root,ls)},gs))}),Typography$1=Typography;function getAppBarUtilityClass(ts){return generateUtilityClass("MuiAppBar",ts)}generateUtilityClasses("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const _excluded$1n=["className","color","enableColorOnDark","position"],useUtilityClasses$16=ts=>{const{color:ns,position:rs,classes:is}=ts,os={root:["root","color".concat(capitalize$4(ns)),"position".concat(capitalize$4(rs))]};return composeClasses(os,getAppBarUtilityClass,is)},joinVars=(ts,ns)=>ts?"".concat(ts==null?void 0:ts.replace(")",""),", ").concat(ns,")"):ns,AppBarRoot=styled$2(Paper$1,{name:"MuiAppBar",slot:"Root",overridesResolver:(ts,ns)=>{const{ownerState:rs}=ts;return[ns.root,ns["position".concat(capitalize$4(rs.position))],ns["color".concat(capitalize$4(rs.color))]]}})(({theme:ts,ownerState:ns})=>{const rs=ts.palette.mode==="light"?ts.palette.grey[100]:ts.palette.grey[900];return _extends$a({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},ns.position==="fixed"&&{position:"fixed",zIndex:(ts.vars||ts).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},ns.position==="absolute"&&{position:"absolute",zIndex:(ts.vars||ts).zIndex.appBar,top:0,left:"auto",right:0},ns.position==="sticky"&&{position:"sticky",zIndex:(ts.vars||ts).zIndex.appBar,top:0,left:"auto",right:0},ns.position==="static"&&{position:"static"},ns.position==="relative"&&{position:"relative"},!ts.vars&&_extends$a({},ns.color==="default"&&{backgroundColor:rs,color:ts.palette.getContrastText(rs)},ns.color&&ns.color!=="default"&&ns.color!=="inherit"&&ns.color!=="transparent"&&{backgroundColor:ts.palette[ns.color].main,color:ts.palette[ns.color].contrastText},ns.color==="inherit"&&{color:"inherit"},ts.palette.mode==="dark"&&!ns.enableColorOnDark&&{backgroundColor:null,color:null},ns.color==="transparent"&&_extends$a({backgroundColor:"transparent",color:"inherit"},ts.palette.mode==="dark"&&{backgroundImage:"none"})),ts.vars&&_extends$a({},ns.color==="default"&&{"--AppBar-background":ns.enableColorOnDark?ts.vars.palette.AppBar.defaultBg:joinVars(ts.vars.palette.AppBar.darkBg,ts.vars.palette.AppBar.defaultBg),"--AppBar-color":ns.enableColorOnDark?ts.vars.palette.text.primary:joinVars(ts.vars.palette.AppBar.darkColor,ts.vars.palette.text.primary)},ns.color&&!ns.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":ns.enableColorOnDark?ts.vars.palette[ns.color].main:joinVars(ts.vars.palette.AppBar.darkBg,ts.vars.palette[ns.color].main),"--AppBar-color":ns.enableColorOnDark?ts.vars.palette[ns.color].contrastText:joinVars(ts.vars.palette.AppBar.darkColor,ts.vars.palette[ns.color].contrastText)},!["inherit","transparent"].includes(ns.color)&&{backgroundColor:"var(--AppBar-background)"},{color:ns.color==="inherit"?"inherit":"var(--AppBar-color)"},ns.color==="transparent"&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))}),AppBar=reactExports.forwardRef(function(ns,rs){const is=useDefaultProps({props:ns,name:"MuiAppBar"}),{className:os,color:ss="primary",enableColorOnDark:as=!1,position:ls="fixed"}=is,cs=_objectWithoutPropertiesLoose$3(is,_excluded$1n),us=_extends$a({},is,{color:ss,position:ls,enableColorOnDark:as}),ds=useUtilityClasses$16(us);return jsxRuntimeExports.jsx(AppBarRoot,_extends$a({square:!0,component:"header",ownerState:us,elevation:4,className:clsx(ds.root,os,ls==="fixed"&&"mui-fixed"),ref:rs},cs))}),AppBar$1=AppBar;function stripDiacritics(ts){return typeof ts.normalize<"u"?ts.normalize("NFD").replace(/[\u0300-\u036f]/g,""):ts}function createFilterOptions(ts={}){const{ignoreAccents:ns=!0,ignoreCase:rs=!0,limit:is,matchFrom:os="any",stringify:ss,trim:as=!1}=ts;return(ls,{inputValue:cs,getOptionLabel:us})=>{let ds=as?cs.trim():cs;rs&&(ds=ds.toLowerCase()),ns&&(ds=stripDiacritics(ds));const ps=ds?ls.filter(hs=>{let ms=(ss||us)(hs);return rs&&(ms=ms.toLowerCase()),ns&&(ms=stripDiacritics(ms)),os==="start"?ms.indexOf(ds)===0:ms.indexOf(ds)>-1}):ls;return typeof is=="number"?ps.slice(0,is):ps}}function findIndex$2(ts,ns){for(let rs=0;rs<ts.length;rs+=1)if(ns(ts[rs]))return rs;return-1}const defaultFilterOptions=createFilterOptions(),pageSize=5,defaultIsActiveElementInListbox=ts=>{var ns;return ts.current!==null&&((ns=ts.current.parentElement)==null?void 0:ns.contains(document.activeElement))};function useAutocomplete(ts){const{unstable_isActiveElementInListbox:ns=defaultIsActiveElementInListbox,unstable_classNamePrefix:rs="Mui",autoComplete:is=!1,autoHighlight:os=!1,autoSelect:ss=!1,blurOnSelect:as=!1,clearOnBlur:ls=!ts.freeSolo,clearOnEscape:cs=!1,componentName:us="useAutocomplete",defaultValue:ds=ts.multiple?[]:null,disableClearable:ps=!1,disableCloseOnSelect:hs=!1,disabled:ms,disabledItemsFocusable:gs=!1,disableListWrap:ys=!1,filterOptions:vs=defaultFilterOptions,filterSelectedOptions:bs=!1,freeSolo:Ss=!1,getOptionDisabled:$s,getOptionKey:Cs,getOptionLabel:Es=Ul=>{var Pl;return(Pl=Ul.label)!=null?Pl:Ul},groupBy:xs,handleHomeEndKeys:ws=!ts.freeSolo,id:ks,includeInputInList:Is=!1,inputValue:Ts,isOptionEqualToValue:Rs=(Ul,Pl)=>Ul===Pl,multiple:As=!1,onChange:Ms,onClose:Ls,onHighlightChange:Ds,onInputChange:Fs,onOpen:Vs,open:Bs,openOnFocus:Ws=!1,options:Os,readOnly:Nl=!1,selectOnFocus:$a=!ts.freeSolo,value:Ps}=ts,Ys=useId(ks);let Zs=Es;Zs=Ul=>{const Pl=Es(Ul);return typeof Pl!="string"?String(Pl):Pl};const Us=reactExports.useRef(!1),Ol=reactExports.useRef(!0),qs=reactExports.useRef(null),Fl=reactExports.useRef(null),[Ll,$l]=reactExports.useState(null),[Cl,wl]=reactExports.useState(-1),Tl=os?0:-1,xl=reactExports.useRef(Tl),[Al,Dl]=useControlled({controlled:Ps,default:ds,name:us}),[Ns,Hs]=useControlled({controlled:Ts,default:"",name:us,state:"inputValue"}),[Gs,Js]=reactExports.useState(!1),El=reactExports.useCallback((Ul,Pl)=>{if(!(As?Al.length<Pl.length:Pl!==null)&&!ls)return;let Zl;if(As)Zl="";else if(Pl==null)Zl="";else{const su=Zs(Pl);Zl=typeof su=="string"?su:""}Ns!==Zl&&(Hs(Zl),Fs&&Fs(Ul,Zl,"reset"))},[Zs,Ns,As,Fs,Hs,ls,Al]),[Xs,_l]=useControlled({controlled:Bs,default:!1,name:us,state:"open"}),[Bl,Ks]=reactExports.useState(!0),Sl=!As&&Al!=null&&Ns===Zs(Al),Il=Xs&&!Nl,Ml=Il?vs(Os.filter(Ul=>!(bs&&(As?Al:[Al]).some(Pl=>Pl!==null&&Rs(Ul,Pl)))),{inputValue:Sl&&Bl?"":Ns,getOptionLabel:Zs}):[],Kl=usePreviousProps$1({filteredOptions:Ml,value:Al,inputValue:Ns});reactExports.useEffect(()=>{const Ul=Al!==Kl.value;Gs&&!Ul||Ss&&!Ul||El(null,Al)},[Al,El,Gs,Kl.value,Ss]);const Ql=Xs&&Ml.length>0&&!Nl,Yl=useEventCallback(Ul=>{Ul===-1?qs.current.focus():Ll.querySelector('[data-tag-index="'.concat(Ul,'"]')).focus()});reactExports.useEffect(()=>{As&&Cl>Al.length-1&&(wl(-1),Yl(-1))},[Al,As,Cl,Yl]);function Gl(Ul,Pl){if(!Fl.current||Ul<0||Ul>=Ml.length)return-1;let eu=Ul;for(;;){const Zl=Fl.current.querySelector('[data-option-index="'.concat(eu,'"]')),su=gs?!1:!Zl||Zl.disabled||Zl.getAttribute("aria-disabled")==="true";if(Zl&&Zl.hasAttribute("tabindex")&&!su)return eu;if(Pl==="next"?eu=(eu+1)%Ml.length:eu=(eu-1+Ml.length)%Ml.length,eu===Ul)return-1}}const iu=useEventCallback(({event:Ul,index:Pl,reason:eu="auto"})=>{if(xl.current=Pl,Pl===-1?qs.current.removeAttribute("aria-activedescendant"):qs.current.setAttribute("aria-activedescendant","".concat(Ys,"-option-").concat(Pl)),Ds&&Ds(Ul,Pl===-1?null:Ml[Pl],eu),!Fl.current)return;const Zl=Fl.current.querySelector('[role="option"].'.concat(rs,"-focused"));Zl&&(Zl.classList.remove("".concat(rs,"-focused")),Zl.classList.remove("".concat(rs,"-focusVisible")));let su=Fl.current;if(Fl.current.getAttribute("role")!=="listbox"&&(su=Fl.current.parentElement.querySelector('[role="listbox"]')),!su)return;if(Pl===-1){su.scrollTop=0;return}const nu=Fl.current.querySelector('[data-option-index="'.concat(Pl,'"]'));if(nu&&(nu.classList.add("".concat(rs,"-focused")),eu==="keyboard"&&nu.classList.add("".concat(rs,"-focusVisible")),su.scrollHeight>su.clientHeight&&eu!=="mouse"&&eu!=="touch")){const lu=nu,bu=su.clientHeight+su.scrollTop,Wu=lu.offsetTop+lu.offsetHeight;Wu>bu?su.scrollTop=Wu-su.clientHeight:lu.offsetTop-lu.offsetHeight*(xs?1.3:0)<su.scrollTop&&(su.scrollTop=lu.offsetTop-lu.offsetHeight*(xs?1.3:0))}}),Vl=useEventCallback(({event:Ul,diff:Pl,direction:eu="next",reason:Zl="auto"})=>{if(!Il)return;const nu=Gl((()=>{const lu=Ml.length-1;if(Pl==="reset")return Tl;if(Pl==="start")return 0;if(Pl==="end")return lu;const bu=xl.current+Pl;return bu<0?bu===-1&&Is?-1:ys&&xl.current!==-1||Math.abs(Pl)>1?0:lu:bu>lu?bu===lu+1&&Is?-1:ys||Math.abs(Pl)>1?lu:0:bu})(),eu);if(iu({index:nu,reason:Zl,event:Ul}),is&&Pl!=="reset")if(nu===-1)qs.current.value=Ns;else{const lu=Zs(Ml[nu]);qs.current.value=lu,lu.toLowerCase().indexOf(Ns.toLowerCase())===0&&Ns.length>0&&qs.current.setSelectionRange(Ns.length,lu.length)}}),Hl=()=>{const Ul=(Pl,eu)=>{const Zl=Pl?Zs(Pl):"",su=eu?Zs(eu):"";return Zl===su};if(xl.current!==-1&&Kl.filteredOptions&&Kl.filteredOptions.length!==Ml.length&&Kl.inputValue===Ns&&(As?Al.length===Kl.value.length&&Kl.value.every((Pl,eu)=>Zs(Al[eu])===Zs(Pl)):Ul(Kl.value,Al))){const Pl=Kl.filteredOptions[xl.current];if(Pl)return findIndex$2(Ml,eu=>Zs(eu)===Zs(Pl))}return-1},zs=reactExports.useCallback(()=>{if(!Il)return;const Ul=Hl();if(Ul!==-1){xl.current=Ul;return}const Pl=As?Al[0]:Al;if(Ml.length===0||Pl==null){Vl({diff:"reset"});return}if(Fl.current){if(Pl!=null){const eu=Ml[xl.current];if(As&&eu&&findIndex$2(Al,su=>Rs(eu,su))!==-1)return;const Zl=findIndex$2(Ml,su=>Rs(su,Pl));Zl===-1?Vl({diff:"reset"}):iu({index:Zl});return}if(xl.current>=Ml.length-1){iu({index:Ml.length-1});return}iu({index:xl.current})}},[Ml.length,As?!1:Al,bs,Vl,iu,Il,Ns,As]),yl=useEventCallback(Ul=>{setRef$1(Fl,Ul),Ul&&zs()});reactExports.useEffect(()=>{zs()},[zs]);const Rl=Ul=>{Xs||(_l(!0),Ks(!0),Vs&&Vs(Ul))},Jl=(Ul,Pl)=>{Xs&&(_l(!1),Ls&&Ls(Ul,Pl))},tu=(Ul,Pl,eu,Zl)=>{if(As){if(Al.length===Pl.length&&Al.every((su,nu)=>su===Pl[nu]))return}else if(Al===Pl)return;Ms&&Ms(Ul,Pl,eu,Zl),Dl(Pl)},Xl=reactExports.useRef(!1),ou=(Ul,Pl,eu="selectOption",Zl="options")=>{let su=eu,nu=Pl;if(As){nu=Array.isArray(Al)?Al.slice():[];const lu=findIndex$2(nu,bu=>Rs(Pl,bu));lu===-1?nu.push(Pl):Zl!=="freeSolo"&&(nu.splice(lu,1),su="removeOption")}El(Ul,nu),tu(Ul,nu,su,{option:Pl}),!hs&&(!Ul||!Ul.ctrlKey&&!Ul.metaKey)&&Jl(Ul,su),(as===!0||as==="touch"&&Xl.current||as==="mouse"&&!Xl.current)&&qs.current.blur()};function au(Ul,Pl){if(Ul===-1)return-1;let eu=Ul;for(;;){if(Pl==="next"&&eu===Al.length||Pl==="previous"&&eu===-1)return-1;const Zl=Ll.querySelector('[data-tag-index="'.concat(eu,'"]'));if(!Zl||!Zl.hasAttribute("tabindex")||Zl.disabled||Zl.getAttribute("aria-disabled")==="true")eu+=Pl==="next"?1:-1;else return eu}}const fu=(Ul,Pl)=>{if(!As)return;Ns===""&&Jl(Ul,"toggleInput");let eu=Cl;Cl===-1?Ns===""&&Pl==="previous"&&(eu=Al.length-1):(eu+=Pl==="next"?1:-1,eu<0&&(eu=0),eu===Al.length&&(eu=-1)),eu=au(eu,Pl),wl(eu),Yl(eu)},du=Ul=>{Us.current=!0,Hs(""),Fs&&Fs(Ul,"","clear"),tu(Ul,As?[]:null,"clear")},Su=Ul=>Pl=>{if(Ul.onKeyDown&&Ul.onKeyDown(Pl),!Pl.defaultMuiPrevented&&(Cl!==-1&&["ArrowLeft","ArrowRight"].indexOf(Pl.key)===-1&&(wl(-1),Yl(-1)),Pl.which!==229))switch(Pl.key){case"Home":Il&&ws&&(Pl.preventDefault(),Vl({diff:"start",direction:"next",reason:"keyboard",event:Pl}));break;case"End":Il&&ws&&(Pl.preventDefault(),Vl({diff:"end",direction:"previous",reason:"keyboard",event:Pl}));break;case"PageUp":Pl.preventDefault(),Vl({diff:-pageSize,direction:"previous",reason:"keyboard",event:Pl}),Rl(Pl);break;case"PageDown":Pl.preventDefault(),Vl({diff:pageSize,direction:"next",reason:"keyboard",event:Pl}),Rl(Pl);break;case"ArrowDown":Pl.preventDefault(),Vl({diff:1,direction:"next",reason:"keyboard",event:Pl}),Rl(Pl);break;case"ArrowUp":Pl.preventDefault(),Vl({diff:-1,direction:"previous",reason:"keyboard",event:Pl}),Rl(Pl);break;case"ArrowLeft":fu(Pl,"previous");break;case"ArrowRight":fu(Pl,"next");break;case"Enter":if(xl.current!==-1&&Il){const eu=Ml[xl.current],Zl=$s?$s(eu):!1;if(Pl.preventDefault(),Zl)return;ou(Pl,eu,"selectOption"),is&&qs.current.setSelectionRange(qs.current.value.length,qs.current.value.length)}else Ss&&Ns!==""&&Sl===!1&&(As&&Pl.preventDefault(),ou(Pl,Ns,"createOption","freeSolo"));break;case"Escape":Il?(Pl.preventDefault(),Pl.stopPropagation(),Jl(Pl,"escape")):cs&&(Ns!==""||As&&Al.length>0)&&(Pl.preventDefault(),Pl.stopPropagation(),du(Pl));break;case"Backspace":if(As&&!Nl&&Ns===""&&Al.length>0){const eu=Cl===-1?Al.length-1:Cl,Zl=Al.slice();Zl.splice(eu,1),tu(Pl,Zl,"removeOption",{option:Al[eu]})}break;case"Delete":if(As&&!Nl&&Ns===""&&Al.length>0&&Cl!==-1){const eu=Cl,Zl=Al.slice();Zl.splice(eu,1),tu(Pl,Zl,"removeOption",{option:Al[eu]})}break}},ku=Ul=>{Js(!0),Ws&&!Us.current&&Rl(Ul)},Tu=Ul=>{if(ns(Fl)){qs.current.focus();return}Js(!1),Ol.current=!0,Us.current=!1,ss&&xl.current!==-1&&Il?ou(Ul,Ml[xl.current],"blur"):ss&&Ss&&Ns!==""?ou(Ul,Ns,"blur","freeSolo"):ls&&El(Ul,Al),Jl(Ul,"blur")},gu=Ul=>{const Pl=Ul.target.value;Ns!==Pl&&(Hs(Pl),Ks(!1),Fs&&Fs(Ul,Pl,"input")),Pl===""?!ps&&!As&&tu(Ul,null,"clear"):Rl(Ul)},pu=Ul=>{const Pl=Number(Ul.currentTarget.getAttribute("data-option-index"));xl.current!==Pl&&iu({event:Ul,index:Pl,reason:"mouse"})},$u=Ul=>{iu({event:Ul,index:Number(Ul.currentTarget.getAttribute("data-option-index")),reason:"touch"}),Xl.current=!0},xu=Ul=>{const Pl=Number(Ul.currentTarget.getAttribute("data-option-index"));ou(Ul,Ml[Pl],"selectOption"),Xl.current=!1},Ru=Ul=>Pl=>{const eu=Al.slice();eu.splice(Ul,1),tu(Pl,eu,"removeOption",{option:Al[Ul]})},Fu=Ul=>{Xs?Jl(Ul,"toggleInput"):Rl(Ul)},Cu=Ul=>{Ul.currentTarget.contains(Ul.target)&&Ul.target.getAttribute("id")!==Ys&&Ul.preventDefault()},Nu=Ul=>{Ul.currentTarget.contains(Ul.target)&&(qs.current.focus(),$a&&Ol.current&&qs.current.selectionEnd-qs.current.selectionStart===0&&qs.current.select(),Ol.current=!1)},Lu=Ul=>{!ms&&(Ns===""||!Xs)&&Fu(Ul)};let Au=Ss&&Ns.length>0;Au=Au||(As?Al.length>0:Al!==null);let Mu=Ml;return xs&&(Mu=Ml.reduce((Ul,Pl,eu)=>{const Zl=xs(Pl);return Ul.length>0&&Ul[Ul.length-1].group===Zl?Ul[Ul.length-1].options.push(Pl):Ul.push({key:eu,index:eu,group:Zl,options:[Pl]}),Ul},[])),ms&&Gs&&Tu(),{getRootProps:(Ul={})=>_extends$a({"aria-owns":Ql?"".concat(Ys,"-listbox"):null},Ul,{onKeyDown:Su(Ul),onMouseDown:Cu,onClick:Nu}),getInputLabelProps:()=>({id:"".concat(Ys,"-label"),htmlFor:Ys}),getInputProps:()=>({id:Ys,value:Ns,onBlur:Tu,onFocus:ku,onChange:gu,onMouseDown:Lu,"aria-activedescendant":Il?"":null,"aria-autocomplete":is?"both":"list","aria-controls":Ql?"".concat(Ys,"-listbox"):void 0,"aria-expanded":Ql,autoComplete:"off",ref:qs,autoCapitalize:"none",spellCheck:"false",role:"combobox",disabled:ms}),getClearProps:()=>({tabIndex:-1,type:"button",onClick:du}),getPopupIndicatorProps:()=>({tabIndex:-1,type:"button",onClick:Fu}),getTagProps:({index:Ul})=>_extends$a({key:Ul,"data-tag-index":Ul,tabIndex:-1},!Nl&&{onDelete:Ru(Ul)}),getListboxProps:()=>({role:"listbox",id:"".concat(Ys,"-listbox"),"aria-labelledby":"".concat(Ys,"-label"),ref:yl,onMouseDown:Ul=>{Ul.preventDefault()}}),getOptionProps:({index:Ul,option:Pl})=>{var eu;const Zl=(As?Al:[Al]).some(nu=>nu!=null&&Rs(Pl,nu)),su=$s?$s(Pl):!1;return{key:(eu=Cs==null?void 0:Cs(Pl))!=null?eu:Zs(Pl),tabIndex:-1,role:"option",id:"".concat(Ys,"-option-").concat(Ul),onMouseMove:pu,onClick:xu,onTouchStart:$u,"data-option-index":Ul,"aria-disabled":su,"aria-selected":Zl}},id:Ys,inputValue:Ns,value:Al,dirty:Au,expanded:Il&&Ll,popupOpen:Il,focused:Gs||Cl!==-1,anchorEl:Ll,setAnchorEl:$l,focusedTag:Cl,groupedOptions:Mu}}var useThemeWithoutDefault={};Object.defineProperty(useThemeWithoutDefault,"__esModule",{value:!0});var default_1$l=useThemeWithoutDefault.default=void 0,React=_interopRequireWildcard(reactExports),_styledEngine=require$$1$2;function _getRequireWildcardCache(ts){if(typeof WeakMap!="function")return null;var ns=new WeakMap,rs=new WeakMap;return(_getRequireWildcardCache=function(is){return is?rs:ns})(ts)}function _interopRequireWildcard(ts,ns){if(!ns&&ts&&ts.__esModule)return ts;if(ts===null||typeof ts!="object"&&typeof ts!="function")return{default:ts};var rs=_getRequireWildcardCache(ns);if(rs&&rs.has(ts))return rs.get(ts);var is={__proto__:null},os=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var ss in ts)if(ss!=="default"&&Object.prototype.hasOwnProperty.call(ts,ss)){var as=os?Object.getOwnPropertyDescriptor(ts,ss):null;as&&(as.get||as.set)?Object.defineProperty(is,ss,as):is[ss]=ts[ss]}return is.default=ts,rs&&rs.set(ts,is),is}function isObjectEmpty(ts){return Object.keys(ts).length===0}function useTheme(ts=null){const ns=React.useContext(_styledEngine.ThemeContext);return!ns||isObjectEmpty(ns)?ts:ns}default_1$l=useThemeWithoutDefault.default=useTheme;var top$2="top",bottom$1="bottom",right$1="right",left$1="left",auto$1="auto",basePlacements$1=[top$2,bottom$1,right$1,left$1],start$1="start",end$1="end",clippingParents$1="clippingParents",viewport$1="viewport",popper$1="popper",reference$1="reference",variationPlacements$1=basePlacements$1.reduce(function(ts,ns){return ts.concat([ns+"-"+start$1,ns+"-"+end$1])},[]),placements$1=[].concat(basePlacements$1,[auto$1]).reduce(function(ts,ns){return ts.concat([ns,ns+"-"+start$1,ns+"-"+end$1])},[]),beforeRead$1="beforeRead",read$1="read",afterRead$1="afterRead",beforeMain$1="beforeMain",main$3="main",afterMain$1="afterMain",beforeWrite$1="beforeWrite",write$1="write",afterWrite$1="afterWrite",modifierPhases$1=[beforeRead$1,read$1,afterRead$1,beforeMain$1,main$3,afterMain$1,beforeWrite$1,write$1,afterWrite$1];function getNodeName$1(ts){return ts?(ts.nodeName||"").toLowerCase():null}function getWindow$1(ts){if(ts==null)return window;if(ts.toString()!=="[object Window]"){var ns=ts.ownerDocument;return ns&&ns.defaultView||window}return ts}function isElement$4(ts){var ns=getWindow$1(ts).Element;return ts instanceof ns||ts instanceof Element}function isHTMLElement$3(ts){var ns=getWindow$1(ts).HTMLElement;return ts instanceof ns||ts instanceof HTMLElement}function isShadowRoot$3(ts){if(typeof ShadowRoot>"u")return!1;var ns=getWindow$1(ts).ShadowRoot;return ts instanceof ns||ts instanceof ShadowRoot}function applyStyles$2(ts){var ns=ts.state;Object.keys(ns.elements).forEach(function(rs){var is=ns.styles[rs]||{},os=ns.attributes[rs]||{},ss=ns.elements[rs];!isHTMLElement$3(ss)||!getNodeName$1(ss)||(Object.assign(ss.style,is),Object.keys(os).forEach(function(as){var ls=os[as];ls===!1?ss.removeAttribute(as):ss.setAttribute(as,ls===!0?"":ls)}))})}function effect$5(ts){var ns=ts.state,rs={popper:{position:ns.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(ns.elements.popper.style,rs.popper),ns.styles=rs,ns.elements.arrow&&Object.assign(ns.elements.arrow.style,rs.arrow),function(){Object.keys(ns.elements).forEach(function(is){var os=ns.elements[is],ss=ns.attributes[is]||{},as=Object.keys(ns.styles.hasOwnProperty(is)?ns.styles[is]:rs[is]),ls=as.reduce(function(cs,us){return cs[us]="",cs},{});!isHTMLElement$3(os)||!getNodeName$1(os)||(Object.assign(os.style,ls),Object.keys(ss).forEach(function(cs){os.removeAttribute(cs)}))})}}const applyStyles$3={name:"applyStyles",enabled:!0,phase:"write",fn:applyStyles$2,effect:effect$5,requires:["computeStyles"]};function getBasePlacement$1(ts){return ts.split("-")[0]}var max$1=Math.max,min$1=Math.min,round$2=Math.round;function getUAString$1(){var ts=navigator.userAgentData;return ts!=null&&ts.brands&&Array.isArray(ts.brands)?ts.brands.map(function(ns){return ns.brand+"/"+ns.version}).join(" "):navigator.userAgent}function isLayoutViewport$1(){return!/^((?!chrome|android).)*safari/i.test(getUAString$1())}function getBoundingClientRect$1(ts,ns,rs){ns===void 0&&(ns=!1),rs===void 0&&(rs=!1);var is=ts.getBoundingClientRect(),os=1,ss=1;ns&&isHTMLElement$3(ts)&&(os=ts.offsetWidth>0&&round$2(is.width)/ts.offsetWidth||1,ss=ts.offsetHeight>0&&round$2(is.height)/ts.offsetHeight||1);var as=isElement$4(ts)?getWindow$1(ts):window,ls=as.visualViewport,cs=!isLayoutViewport$1()&&rs,us=(is.left+(cs&&ls?ls.offsetLeft:0))/os,ds=(is.top+(cs&&ls?ls.offsetTop:0))/ss,ps=is.width/os,hs=is.height/ss;return{width:ps,height:hs,top:ds,right:us+ps,bottom:ds+hs,left:us,x:us,y:ds}}function getLayoutRect$1(ts){var ns=getBoundingClientRect$1(ts),rs=ts.offsetWidth,is=ts.offsetHeight;return Math.abs(ns.width-rs)<=1&&(rs=ns.width),Math.abs(ns.height-is)<=1&&(is=ns.height),{x:ts.offsetLeft,y:ts.offsetTop,width:rs,height:is}}function contains$1(ts,ns){var rs=ns.getRootNode&&ns.getRootNode();if(ts.contains(ns))return!0;if(rs&&isShadowRoot$3(rs)){var is=ns;do{if(is&&ts.isSameNode(is))return!0;is=is.parentNode||is.host}while(is)}return!1}function getComputedStyle$1(ts){return getWindow$1(ts).getComputedStyle(ts)}function isTableElement$1(ts){return["table","td","th"].indexOf(getNodeName$1(ts))>=0}function getDocumentElement$1(ts){return((isElement$4(ts)?ts.ownerDocument:ts.document)||window.document).documentElement}function getParentNode$1(ts){return getNodeName$1(ts)==="html"?ts:ts.assignedSlot||ts.parentNode||(isShadowRoot$3(ts)?ts.host:null)||getDocumentElement$1(ts)}function getTrueOffsetParent$1(ts){return!isHTMLElement$3(ts)||getComputedStyle$1(ts).position==="fixed"?null:ts.offsetParent}function getContainingBlock$1(ts){var ns=/firefox/i.test(getUAString$1()),rs=/Trident/i.test(getUAString$1());if(rs&&isHTMLElement$3(ts)){var is=getComputedStyle$1(ts);if(is.position==="fixed")return null}var os=getParentNode$1(ts);for(isShadowRoot$3(os)&&(os=os.host);isHTMLElement$3(os)&&["html","body"].indexOf(getNodeName$1(os))<0;){var ss=getComputedStyle$1(os);if(ss.transform!=="none"||ss.perspective!=="none"||ss.contain==="paint"||["transform","perspective"].indexOf(ss.willChange)!==-1||ns&&ss.willChange==="filter"||ns&&ss.filter&&ss.filter!=="none")return os;os=os.parentNode}return null}function getOffsetParent$1(ts){for(var ns=getWindow$1(ts),rs=getTrueOffsetParent$1(ts);rs&&isTableElement$1(rs)&&getComputedStyle$1(rs).position==="static";)rs=getTrueOffsetParent$1(rs);return rs&&(getNodeName$1(rs)==="html"||getNodeName$1(rs)==="body"&&getComputedStyle$1(rs).position==="static")?ns:rs||getContainingBlock$1(ts)||ns}function getMainAxisFromPlacement$1(ts){return["top","bottom"].indexOf(ts)>=0?"x":"y"}function within$1(ts,ns,rs){return max$1(ts,min$1(ns,rs))}function withinMaxClamp$1(ts,ns,rs){var is=within$1(ts,ns,rs);return is>rs?rs:is}function getFreshSideObject$1(){return{top:0,right:0,bottom:0,left:0}}function mergePaddingObject$1(ts){return Object.assign({},getFreshSideObject$1(),ts)}function expandToHashMap$1(ts,ns){return ns.reduce(function(rs,is){return rs[is]=ts,rs},{})}var toPaddingObject$1=function(ns,rs){return ns=typeof ns=="function"?ns(Object.assign({},rs.rects,{placement:rs.placement})):ns,mergePaddingObject$1(typeof ns!="number"?ns:expandToHashMap$1(ns,basePlacements$1))};function arrow$2(ts){var ns,rs=ts.state,is=ts.name,os=ts.options,ss=rs.elements.arrow,as=rs.modifiersData.popperOffsets,ls=getBasePlacement$1(rs.placement),cs=getMainAxisFromPlacement$1(ls),us=[left$1,right$1].indexOf(ls)>=0,ds=us?"height":"width";if(!(!ss||!as)){var ps=toPaddingObject$1(os.padding,rs),hs=getLayoutRect$1(ss),ms=cs==="y"?top$2:left$1,gs=cs==="y"?bottom$1:right$1,ys=rs.rects.reference[ds]+rs.rects.reference[cs]-as[cs]-rs.rects.popper[ds],vs=as[cs]-rs.rects.reference[cs],bs=getOffsetParent$1(ss),Ss=bs?cs==="y"?bs.clientHeight||0:bs.clientWidth||0:0,$s=ys/2-vs/2,Cs=ps[ms],Es=Ss-hs[ds]-ps[gs],xs=Ss/2-hs[ds]/2+$s,ws=within$1(Cs,xs,Es),ks=cs;rs.modifiersData[is]=(ns={},ns[ks]=ws,ns.centerOffset=ws-xs,ns)}}function effect$4(ts){var ns=ts.state,rs=ts.options,is=rs.element,os=is===void 0?"[data-popper-arrow]":is;os!=null&&(typeof os=="string"&&(os=ns.elements.popper.querySelector(os),!os)||contains$1(ns.elements.popper,os)&&(ns.elements.arrow=os))}const arrow$3={name:"arrow",enabled:!0,phase:"main",fn:arrow$2,effect:effect$4,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function getVariation$1(ts){return ts.split("-")[1]}var unsetSides$1={top:"auto",right:"auto",bottom:"auto",left:"auto"};function roundOffsetsByDPR$1(ts,ns){var rs=ts.x,is=ts.y,os=ns.devicePixelRatio||1;return{x:round$2(rs*os)/os||0,y:round$2(is*os)/os||0}}function mapToStyles$1(ts){var ns,rs=ts.popper,is=ts.popperRect,os=ts.placement,ss=ts.variation,as=ts.offsets,ls=ts.position,cs=ts.gpuAcceleration,us=ts.adaptive,ds=ts.roundOffsets,ps=ts.isFixed,hs=as.x,ms=hs===void 0?0:hs,gs=as.y,ys=gs===void 0?0:gs,vs=typeof ds=="function"?ds({x:ms,y:ys}):{x:ms,y:ys};ms=vs.x,ys=vs.y;var bs=as.hasOwnProperty("x"),Ss=as.hasOwnProperty("y"),$s=left$1,Cs=top$2,Es=window;if(us){var xs=getOffsetParent$1(rs),ws="clientHeight",ks="clientWidth";if(xs===getWindow$1(rs)&&(xs=getDocumentElement$1(rs),getComputedStyle$1(xs).position!=="static"&&ls==="absolute"&&(ws="scrollHeight",ks="scrollWidth")),xs=xs,os===top$2||(os===left$1||os===right$1)&&ss===end$1){Cs=bottom$1;var Is=ps&&xs===Es&&Es.visualViewport?Es.visualViewport.height:xs[ws];ys-=Is-is.height,ys*=cs?1:-1}if(os===left$1||(os===top$2||os===bottom$1)&&ss===end$1){$s=right$1;var Ts=ps&&xs===Es&&Es.visualViewport?Es.visualViewport.width:xs[ks];ms-=Ts-is.width,ms*=cs?1:-1}}var Rs=Object.assign({position:ls},us&&unsetSides$1),As=ds===!0?roundOffsetsByDPR$1({x:ms,y:ys},getWindow$1(rs)):{x:ms,y:ys};if(ms=As.x,ys=As.y,cs){var Ms;return Object.assign({},Rs,(Ms={},Ms[Cs]=Ss?"0":"",Ms[$s]=bs?"0":"",Ms.transform=(Es.devicePixelRatio||1)<=1?"translate("+ms+"px, "+ys+"px)":"translate3d("+ms+"px, "+ys+"px, 0)",Ms))}return Object.assign({},Rs,(ns={},ns[Cs]=Ss?ys+"px":"",ns[$s]=bs?ms+"px":"",ns.transform="",ns))}function computeStyles$2(ts){var ns=ts.state,rs=ts.options,is=rs.gpuAcceleration,os=is===void 0?!0:is,ss=rs.adaptive,as=ss===void 0?!0:ss,ls=rs.roundOffsets,cs=ls===void 0?!0:ls,us={placement:getBasePlacement$1(ns.placement),variation:getVariation$1(ns.placement),popper:ns.elements.popper,popperRect:ns.rects.popper,gpuAcceleration:os,isFixed:ns.options.strategy==="fixed"};ns.modifiersData.popperOffsets!=null&&(ns.styles.popper=Object.assign({},ns.styles.popper,mapToStyles$1(Object.assign({},us,{offsets:ns.modifiersData.popperOffsets,position:ns.options.strategy,adaptive:as,roundOffsets:cs})))),ns.modifiersData.arrow!=null&&(ns.styles.arrow=Object.assign({},ns.styles.arrow,mapToStyles$1(Object.assign({},us,{offsets:ns.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:cs})))),ns.attributes.popper=Object.assign({},ns.attributes.popper,{"data-popper-placement":ns.placement})}const computeStyles$3={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:computeStyles$2,data:{}};var passive$1={passive:!0};function effect$3(ts){var ns=ts.state,rs=ts.instance,is=ts.options,os=is.scroll,ss=os===void 0?!0:os,as=is.resize,ls=as===void 0?!0:as,cs=getWindow$1(ns.elements.popper),us=[].concat(ns.scrollParents.reference,ns.scrollParents.popper);return ss&&us.forEach(function(ds){ds.addEventListener("scroll",rs.update,passive$1)}),ls&&cs.addEventListener("resize",rs.update,passive$1),function(){ss&&us.forEach(function(ds){ds.removeEventListener("scroll",rs.update,passive$1)}),ls&&cs.removeEventListener("resize",rs.update,passive$1)}}const eventListeners$1={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:effect$3,data:{}};var hash$3={left:"right",right:"left",bottom:"top",top:"bottom"};function getOppositePlacement$1(ts){return ts.replace(/left|right|bottom|top/g,function(ns){return hash$3[ns]})}var hash$2={start:"end",end:"start"};function getOppositeVariationPlacement$1(ts){return ts.replace(/start|end/g,function(ns){return hash$2[ns]})}function getWindowScroll$3(ts){var ns=getWindow$1(ts),rs=ns.pageXOffset,is=ns.pageYOffset;return{scrollLeft:rs,scrollTop:is}}function getWindowScrollBarX$1(ts){return getBoundingClientRect$1(getDocumentElement$1(ts)).left+getWindowScroll$3(ts).scrollLeft}function getViewportRect$1(ts,ns){var rs=getWindow$1(ts),is=getDocumentElement$1(ts),os=rs.visualViewport,ss=is.clientWidth,as=is.clientHeight,ls=0,cs=0;if(os){ss=os.width,as=os.height;var us=isLayoutViewport$1();(us||!us&&ns==="fixed")&&(ls=os.offsetLeft,cs=os.offsetTop)}return{width:ss,height:as,x:ls+getWindowScrollBarX$1(ts),y:cs}}function getDocumentRect$1(ts){var ns,rs=getDocumentElement$1(ts),is=getWindowScroll$3(ts),os=(ns=ts.ownerDocument)==null?void 0:ns.body,ss=max$1(rs.scrollWidth,rs.clientWidth,os?os.scrollWidth:0,os?os.clientWidth:0),as=max$1(rs.scrollHeight,rs.clientHeight,os?os.scrollHeight:0,os?os.clientHeight:0),ls=-is.scrollLeft+getWindowScrollBarX$1(ts),cs=-is.scrollTop;return getComputedStyle$1(os||rs).direction==="rtl"&&(ls+=max$1(rs.clientWidth,os?os.clientWidth:0)-ss),{width:ss,height:as,x:ls,y:cs}}function isScrollParent$1(ts){var ns=getComputedStyle$1(ts),rs=ns.overflow,is=ns.overflowX,os=ns.overflowY;return/auto|scroll|overlay|hidden/.test(rs+os+is)}function getScrollParent$1(ts){return["html","body","#document"].indexOf(getNodeName$1(ts))>=0?ts.ownerDocument.body:isHTMLElement$3(ts)&&isScrollParent$1(ts)?ts:getScrollParent$1(getParentNode$1(ts))}function listScrollParents$1(ts,ns){var rs;ns===void 0&&(ns=[]);var is=getScrollParent$1(ts),os=is===((rs=ts.ownerDocument)==null?void 0:rs.body),ss=getWindow$1(is),as=os?[ss].concat(ss.visualViewport||[],isScrollParent$1(is)?is:[]):is,ls=ns.concat(as);return os?ls:ls.concat(listScrollParents$1(getParentNode$1(as)))}function rectToClientRect$1(ts){return Object.assign({},ts,{left:ts.x,top:ts.y,right:ts.x+ts.width,bottom:ts.y+ts.height})}function getInnerBoundingClientRect$1(ts,ns){var rs=getBoundingClientRect$1(ts,!1,ns==="fixed");return rs.top=rs.top+ts.clientTop,rs.left=rs.left+ts.clientLeft,rs.bottom=rs.top+ts.clientHeight,rs.right=rs.left+ts.clientWidth,rs.width=ts.clientWidth,rs.height=ts.clientHeight,rs.x=rs.left,rs.y=rs.top,rs}function getClientRectFromMixedType$1(ts,ns,rs){return ns===viewport$1?rectToClientRect$1(getViewportRect$1(ts,rs)):isElement$4(ns)?getInnerBoundingClientRect$1(ns,rs):rectToClientRect$1(getDocumentRect$1(getDocumentElement$1(ts)))}function getClippingParents$1(ts){var ns=listScrollParents$1(getParentNode$1(ts)),rs=["absolute","fixed"].indexOf(getComputedStyle$1(ts).position)>=0,is=rs&&isHTMLElement$3(ts)?getOffsetParent$1(ts):ts;return isElement$4(is)?ns.filter(function(os){return isElement$4(os)&&contains$1(os,is)&&getNodeName$1(os)!=="body"}):[]}function getClippingRect$1(ts,ns,rs,is){var os=ns==="clippingParents"?getClippingParents$1(ts):[].concat(ns),ss=[].concat(os,[rs]),as=ss[0],ls=ss.reduce(function(cs,us){var ds=getClientRectFromMixedType$1(ts,us,is);return cs.top=max$1(ds.top,cs.top),cs.right=min$1(ds.right,cs.right),cs.bottom=min$1(ds.bottom,cs.bottom),cs.left=max$1(ds.left,cs.left),cs},getClientRectFromMixedType$1(ts,as,is));return ls.width=ls.right-ls.left,ls.height=ls.bottom-ls.top,ls.x=ls.left,ls.y=ls.top,ls}function computeOffsets$1(ts){var ns=ts.reference,rs=ts.element,is=ts.placement,os=is?getBasePlacement$1(is):null,ss=is?getVariation$1(is):null,as=ns.x+ns.width/2-rs.width/2,ls=ns.y+ns.height/2-rs.height/2,cs;switch(os){case top$2:cs={x:as,y:ns.y-rs.height};break;case bottom$1:cs={x:as,y:ns.y+ns.height};break;case right$1:cs={x:ns.x+ns.width,y:ls};break;case left$1:cs={x:ns.x-rs.width,y:ls};break;default:cs={x:ns.x,y:ns.y}}var us=os?getMainAxisFromPlacement$1(os):null;if(us!=null){var ds=us==="y"?"height":"width";switch(ss){case start$1:cs[us]=cs[us]-(ns[ds]/2-rs[ds]/2);break;case end$1:cs[us]=cs[us]+(ns[ds]/2-rs[ds]/2);break}}return cs}function detectOverflow$1(ts,ns){ns===void 0&&(ns={});var rs=ns,is=rs.placement,os=is===void 0?ts.placement:is,ss=rs.strategy,as=ss===void 0?ts.strategy:ss,ls=rs.boundary,cs=ls===void 0?clippingParents$1:ls,us=rs.rootBoundary,ds=us===void 0?viewport$1:us,ps=rs.elementContext,hs=ps===void 0?popper$1:ps,ms=rs.altBoundary,gs=ms===void 0?!1:ms,ys=rs.padding,vs=ys===void 0?0:ys,bs=mergePaddingObject$1(typeof vs!="number"?vs:expandToHashMap$1(vs,basePlacements$1)),Ss=hs===popper$1?reference$1:popper$1,$s=ts.rects.popper,Cs=ts.elements[gs?Ss:hs],Es=getClippingRect$1(isElement$4(Cs)?Cs:Cs.contextElement||getDocumentElement$1(ts.elements.popper),cs,ds,as),xs=getBoundingClientRect$1(ts.elements.reference),ws=computeOffsets$1({reference:xs,element:$s,strategy:"absolute",placement:os}),ks=rectToClientRect$1(Object.assign({},$s,ws)),Is=hs===popper$1?ks:xs,Ts={top:Es.top-Is.top+bs.top,bottom:Is.bottom-Es.bottom+bs.bottom,left:Es.left-Is.left+bs.left,right:Is.right-Es.right+bs.right},Rs=ts.modifiersData.offset;if(hs===popper$1&&Rs){var As=Rs[os];Object.keys(Ts).forEach(function(Ms){var Ls=[right$1,bottom$1].indexOf(Ms)>=0?1:-1,Ds=[top$2,bottom$1].indexOf(Ms)>=0?"y":"x";Ts[Ms]+=As[Ds]*Ls})}return Ts}function computeAutoPlacement$1(ts,ns){ns===void 0&&(ns={});var rs=ns,is=rs.placement,os=rs.boundary,ss=rs.rootBoundary,as=rs.padding,ls=rs.flipVariations,cs=rs.allowedAutoPlacements,us=cs===void 0?placements$1:cs,ds=getVariation$1(is),ps=ds?ls?variationPlacements$1:variationPlacements$1.filter(function(gs){return getVariation$1(gs)===ds}):basePlacements$1,hs=ps.filter(function(gs){return us.indexOf(gs)>=0});hs.length===0&&(hs=ps);var ms=hs.reduce(function(gs,ys){return gs[ys]=detectOverflow$1(ts,{placement:ys,boundary:os,rootBoundary:ss,padding:as})[getBasePlacement$1(ys)],gs},{});return Object.keys(ms).sort(function(gs,ys){return ms[gs]-ms[ys]})}function getExpandedFallbackPlacements$1(ts){if(getBasePlacement$1(ts)===auto$1)return[];var ns=getOppositePlacement$1(ts);return[getOppositeVariationPlacement$1(ts),ns,getOppositeVariationPlacement$1(ns)]}function flip$2(ts){var ns=ts.state,rs=ts.options,is=ts.name;if(!ns.modifiersData[is]._skip){for(var os=rs.mainAxis,ss=os===void 0?!0:os,as=rs.altAxis,ls=as===void 0?!0:as,cs=rs.fallbackPlacements,us=rs.padding,ds=rs.boundary,ps=rs.rootBoundary,hs=rs.altBoundary,ms=rs.flipVariations,gs=ms===void 0?!0:ms,ys=rs.allowedAutoPlacements,vs=ns.options.placement,bs=getBasePlacement$1(vs),Ss=bs===vs,$s=cs||(Ss||!gs?[getOppositePlacement$1(vs)]:getExpandedFallbackPlacements$1(vs)),Cs=[vs].concat($s).reduce(function(Ys,Zs){return Ys.concat(getBasePlacement$1(Zs)===auto$1?computeAutoPlacement$1(ns,{placement:Zs,boundary:ds,rootBoundary:ps,padding:us,flipVariations:gs,allowedAutoPlacements:ys}):Zs)},[]),Es=ns.rects.reference,xs=ns.rects.popper,ws=new Map,ks=!0,Is=Cs[0],Ts=0;Ts<Cs.length;Ts++){var Rs=Cs[Ts],As=getBasePlacement$1(Rs),Ms=getVariation$1(Rs)===start$1,Ls=[top$2,bottom$1].indexOf(As)>=0,Ds=Ls?"width":"height",Fs=detectOverflow$1(ns,{placement:Rs,boundary:ds,rootBoundary:ps,altBoundary:hs,padding:us}),Vs=Ls?Ms?right$1:left$1:Ms?bottom$1:top$2;Es[Ds]>xs[Ds]&&(Vs=getOppositePlacement$1(Vs));var Bs=getOppositePlacement$1(Vs),Ws=[];if(ss&&Ws.push(Fs[As]<=0),ls&&Ws.push(Fs[Vs]<=0,Fs[Bs]<=0),Ws.every(function(Ys){return Ys})){Is=Rs,ks=!1;break}ws.set(Rs,Ws)}if(ks)for(var Os=gs?3:1,Nl=function(Zs){var Us=Cs.find(function(Ol){var qs=ws.get(Ol);if(qs)return qs.slice(0,Zs).every(function(Fl){return Fl})});if(Us)return Is=Us,"break"},$a=Os;$a>0;$a--){var Ps=Nl($a);if(Ps==="break")break}ns.placement!==Is&&(ns.modifiersData[is]._skip=!0,ns.placement=Is,ns.reset=!0)}}const flip$3={name:"flip",enabled:!0,phase:"main",fn:flip$2,requiresIfExists:["offset"],data:{_skip:!1}};function getSideOffsets$1(ts,ns,rs){return rs===void 0&&(rs={x:0,y:0}),{top:ts.top-ns.height-rs.y,right:ts.right-ns.width+rs.x,bottom:ts.bottom-ns.height+rs.y,left:ts.left-ns.width-rs.x}}function isAnySideFullyClipped$1(ts){return[top$2,right$1,bottom$1,left$1].some(function(ns){return ts[ns]>=0})}function hide$2(ts){var ns=ts.state,rs=ts.name,is=ns.rects.reference,os=ns.rects.popper,ss=ns.modifiersData.preventOverflow,as=detectOverflow$1(ns,{elementContext:"reference"}),ls=detectOverflow$1(ns,{altBoundary:!0}),cs=getSideOffsets$1(as,is),us=getSideOffsets$1(ls,os,ss),ds=isAnySideFullyClipped$1(cs),ps=isAnySideFullyClipped$1(us);ns.modifiersData[rs]={referenceClippingOffsets:cs,popperEscapeOffsets:us,isReferenceHidden:ds,hasPopperEscaped:ps},ns.attributes.popper=Object.assign({},ns.attributes.popper,{"data-popper-reference-hidden":ds,"data-popper-escaped":ps})}const hide$3={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:hide$2};function distanceAndSkiddingToXY$1(ts,ns,rs){var is=getBasePlacement$1(ts),os=[left$1,top$2].indexOf(is)>=0?-1:1,ss=typeof rs=="function"?rs(Object.assign({},ns,{placement:ts})):rs,as=ss[0],ls=ss[1];return as=as||0,ls=(ls||0)*os,[left$1,right$1].indexOf(is)>=0?{x:ls,y:as}:{x:as,y:ls}}function offset$3(ts){var ns=ts.state,rs=ts.options,is=ts.name,os=rs.offset,ss=os===void 0?[0,0]:os,as=placements$1.reduce(function(ds,ps){return ds[ps]=distanceAndSkiddingToXY$1(ps,ns.rects,ss),ds},{}),ls=as[ns.placement],cs=ls.x,us=ls.y;ns.modifiersData.popperOffsets!=null&&(ns.modifiersData.popperOffsets.x+=cs,ns.modifiersData.popperOffsets.y+=us),ns.modifiersData[is]=as}const offset$4={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:offset$3};function popperOffsets$2(ts){var ns=ts.state,rs=ts.name;ns.modifiersData[rs]=computeOffsets$1({reference:ns.rects.reference,element:ns.rects.popper,strategy:"absolute",placement:ns.placement})}const popperOffsets$3={name:"popperOffsets",enabled:!0,phase:"read",fn:popperOffsets$2,data:{}};function getAltAxis$1(ts){return ts==="x"?"y":"x"}function preventOverflow$2(ts){var ns=ts.state,rs=ts.options,is=ts.name,os=rs.mainAxis,ss=os===void 0?!0:os,as=rs.altAxis,ls=as===void 0?!1:as,cs=rs.boundary,us=rs.rootBoundary,ds=rs.altBoundary,ps=rs.padding,hs=rs.tether,ms=hs===void 0?!0:hs,gs=rs.tetherOffset,ys=gs===void 0?0:gs,vs=detectOverflow$1(ns,{boundary:cs,rootBoundary:us,padding:ps,altBoundary:ds}),bs=getBasePlacement$1(ns.placement),Ss=getVariation$1(ns.placement),$s=!Ss,Cs=getMainAxisFromPlacement$1(bs),Es=getAltAxis$1(Cs),xs=ns.modifiersData.popperOffsets,ws=ns.rects.reference,ks=ns.rects.popper,Is=typeof ys=="function"?ys(Object.assign({},ns.rects,{placement:ns.placement})):ys,Ts=typeof Is=="number"?{mainAxis:Is,altAxis:Is}:Object.assign({mainAxis:0,altAxis:0},Is),Rs=ns.modifiersData.offset?ns.modifiersData.offset[ns.placement]:null,As={x:0,y:0};if(xs){if(ss){var Ms,Ls=Cs==="y"?top$2:left$1,Ds=Cs==="y"?bottom$1:right$1,Fs=Cs==="y"?"height":"width",Vs=xs[Cs],Bs=Vs+vs[Ls],Ws=Vs-vs[Ds],Os=ms?-ks[Fs]/2:0,Nl=Ss===start$1?ws[Fs]:ks[Fs],$a=Ss===start$1?-ks[Fs]:-ws[Fs],Ps=ns.elements.arrow,Ys=ms&&Ps?getLayoutRect$1(Ps):{width:0,height:0},Zs=ns.modifiersData["arrow#persistent"]?ns.modifiersData["arrow#persistent"].padding:getFreshSideObject$1(),Us=Zs[Ls],Ol=Zs[Ds],qs=within$1(0,ws[Fs],Ys[Fs]),Fl=$s?ws[Fs]/2-Os-qs-Us-Ts.mainAxis:Nl-qs-Us-Ts.mainAxis,Ll=$s?-ws[Fs]/2+Os+qs+Ol+Ts.mainAxis:$a+qs+Ol+Ts.mainAxis,$l=ns.elements.arrow&&getOffsetParent$1(ns.elements.arrow),Cl=$l?Cs==="y"?$l.clientTop||0:$l.clientLeft||0:0,wl=(Ms=Rs==null?void 0:Rs[Cs])!=null?Ms:0,Tl=Vs+Fl-wl-Cl,xl=Vs+Ll-wl,Al=within$1(ms?min$1(Bs,Tl):Bs,Vs,ms?max$1(Ws,xl):Ws);xs[Cs]=Al,As[Cs]=Al-Vs}if(ls){var Dl,Ns=Cs==="x"?top$2:left$1,Hs=Cs==="x"?bottom$1:right$1,Gs=xs[Es],Js=Es==="y"?"height":"width",El=Gs+vs[Ns],Xs=Gs-vs[Hs],_l=[top$2,left$1].indexOf(bs)!==-1,Bl=(Dl=Rs==null?void 0:Rs[Es])!=null?Dl:0,Ks=_l?El:Gs-ws[Js]-ks[Js]-Bl+Ts.altAxis,Sl=_l?Gs+ws[Js]+ks[Js]-Bl-Ts.altAxis:Xs,Il=ms&&_l?withinMaxClamp$1(Ks,Gs,Sl):within$1(ms?Ks:El,Gs,ms?Sl:Xs);xs[Es]=Il,As[Es]=Il-Gs}ns.modifiersData[is]=As}}const preventOverflow$3={name:"preventOverflow",enabled:!0,phase:"main",fn:preventOverflow$2,requiresIfExists:["offset"]};function getHTMLElementScroll$1(ts){return{scrollLeft:ts.scrollLeft,scrollTop:ts.scrollTop}}function getNodeScroll$1(ts){return ts===getWindow$1(ts)||!isHTMLElement$3(ts)?getWindowScroll$3(ts):getHTMLElementScroll$1(ts)}function isElementScaled$1(ts){var ns=ts.getBoundingClientRect(),rs=round$2(ns.width)/ts.offsetWidth||1,is=round$2(ns.height)/ts.offsetHeight||1;return rs!==1||is!==1}function getCompositeRect$1(ts,ns,rs){rs===void 0&&(rs=!1);var is=isHTMLElement$3(ns),os=isHTMLElement$3(ns)&&isElementScaled$1(ns),ss=getDocumentElement$1(ns),as=getBoundingClientRect$1(ts,os,rs),ls={scrollLeft:0,scrollTop:0},cs={x:0,y:0};return(is||!is&&!rs)&&((getNodeName$1(ns)!=="body"||isScrollParent$1(ss))&&(ls=getNodeScroll$1(ns)),isHTMLElement$3(ns)?(cs=getBoundingClientRect$1(ns,!0),cs.x+=ns.clientLeft,cs.y+=ns.clientTop):ss&&(cs.x=getWindowScrollBarX$1(ss))),{x:as.left+ls.scrollLeft-cs.x,y:as.top+ls.scrollTop-cs.y,width:as.width,height:as.height}}function order$2(ts){var ns=new Map,rs=new Set,is=[];ts.forEach(function(ss){ns.set(ss.name,ss)});function os(ss){rs.add(ss.name);var as=[].concat(ss.requires||[],ss.requiresIfExists||[]);as.forEach(function(ls){if(!rs.has(ls)){var cs=ns.get(ls);cs&&os(cs)}}),is.push(ss)}return ts.forEach(function(ss){rs.has(ss.name)||os(ss)}),is}function orderModifiers$1(ts){var ns=order$2(ts);return modifierPhases$1.reduce(function(rs,is){return rs.concat(ns.filter(function(os){return os.phase===is}))},[])}function debounce$2(ts){var ns;return function(){return ns||(ns=new Promise(function(rs){Promise.resolve().then(function(){ns=void 0,rs(ts())})})),ns}}function mergeByName$1(ts){var ns=ts.reduce(function(rs,is){var os=rs[is.name];return rs[is.name]=os?Object.assign({},os,is,{options:Object.assign({},os.options,is.options),data:Object.assign({},os.data,is.data)}):is,rs},{});return Object.keys(ns).map(function(rs){return ns[rs]})}var DEFAULT_OPTIONS$1={placement:"bottom",modifiers:[],strategy:"absolute"};function areValidElements$1(){for(var ts=arguments.length,ns=new Array(ts),rs=0;rs<ts;rs++)ns[rs]=arguments[rs];return!ns.some(function(is){return!(is&&typeof is.getBoundingClientRect=="function")})}function popperGenerator$1(ts){ts===void 0&&(ts={});var ns=ts,rs=ns.defaultModifiers,is=rs===void 0?[]:rs,os=ns.defaultOptions,ss=os===void 0?DEFAULT_OPTIONS$1:os;return function(ls,cs,us){us===void 0&&(us=ss);var ds={placement:"bottom",orderedModifiers:[],options:Object.assign({},DEFAULT_OPTIONS$1,ss),modifiersData:{},elements:{reference:ls,popper:cs},attributes:{},styles:{}},ps=[],hs=!1,ms={state:ds,setOptions:function(bs){var Ss=typeof bs=="function"?bs(ds.options):bs;ys(),ds.options=Object.assign({},ss,ds.options,Ss),ds.scrollParents={reference:isElement$4(ls)?listScrollParents$1(ls):ls.contextElement?listScrollParents$1(ls.contextElement):[],popper:listScrollParents$1(cs)};var $s=orderModifiers$1(mergeByName$1([].concat(is,ds.options.modifiers)));return ds.orderedModifiers=$s.filter(function(Cs){return Cs.enabled}),gs(),ms.update()},forceUpdate:function(){if(!hs){var bs=ds.elements,Ss=bs.reference,$s=bs.popper;if(areValidElements$1(Ss,$s)){ds.rects={reference:getCompositeRect$1(Ss,getOffsetParent$1($s),ds.options.strategy==="fixed"),popper:getLayoutRect$1($s)},ds.reset=!1,ds.placement=ds.options.placement,ds.orderedModifiers.forEach(function(Ts){return ds.modifiersData[Ts.name]=Object.assign({},Ts.data)});for(var Cs=0;Cs<ds.orderedModifiers.length;Cs++){if(ds.reset===!0){ds.reset=!1,Cs=-1;continue}var Es=ds.orderedModifiers[Cs],xs=Es.fn,ws=Es.options,ks=ws===void 0?{}:ws,Is=Es.name;typeof xs=="function"&&(ds=xs({state:ds,options:ks,name:Is,instance:ms})||ds)}}}},update:debounce$2(function(){return new Promise(function(vs){ms.forceUpdate(),vs(ds)})}),destroy:function(){ys(),hs=!0}};if(!areValidElements$1(ls,cs))return ms;ms.setOptions(us).then(function(vs){!hs&&us.onFirstUpdate&&us.onFirstUpdate(vs)});function gs(){ds.orderedModifiers.forEach(function(vs){var bs=vs.name,Ss=vs.options,$s=Ss===void 0?{}:Ss,Cs=vs.effect;if(typeof Cs=="function"){var Es=Cs({state:ds,name:bs,instance:ms,options:$s}),xs=function(){};ps.push(Es||xs)}})}function ys(){ps.forEach(function(vs){return vs()}),ps=[]}return ms}}var defaultModifiers$1=[eventListeners$1,popperOffsets$3,computeStyles$3,applyStyles$3,offset$4,flip$3,preventOverflow$3,arrow$3,hide$3],createPopper$1=popperGenerator$1({defaultModifiers:defaultModifiers$1});function getContainer$1(ts){return typeof ts=="function"?ts():ts}const Portal=reactExports.forwardRef(function(ns,rs){const{children:is,container:os,disablePortal:ss=!1}=ns,[as,ls]=reactExports.useState(null),cs=useForkRef(reactExports.isValidElement(is)?is.ref:null,rs);if(useEnhancedEffect$1(()=>{ss||ls(getContainer$1(os)||document.body)},[os,ss]),useEnhancedEffect$1(()=>{if(as&&!ss)return setRef$1(rs,as),()=>{setRef$1(rs,null)}},[rs,as,ss]),ss){if(reactExports.isValidElement(is)){const us={ref:cs};return reactExports.cloneElement(is,us)}return jsxRuntimeExports.jsx(reactExports.Fragment,{children:is})}return jsxRuntimeExports.jsx(reactExports.Fragment,{children:as&&reactDomExports.createPortal(is,as)})}),Portal$1=Portal;function getPopperUtilityClass(ts){return generateUtilityClass("MuiPopper",ts)}generateUtilityClasses("MuiPopper",["root"]);const _excluded$1m=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],_excluded2$a=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function flipPlacement(ts,ns){if(ns==="ltr")return ts;switch(ts){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return ts}}function resolveAnchorEl$1(ts){return typeof ts=="function"?ts():ts}function isHTMLElement$2(ts){return ts.nodeType!==void 0}const useUtilityClasses$15=ts=>{const{classes:ns}=ts;return composeClasses({root:["root"]},getPopperUtilityClass,ns)},defaultPopperOptions={},PopperTooltip=reactExports.forwardRef(function(ns,rs){var is;const{anchorEl:os,children:ss,direction:as,disablePortal:ls,modifiers:cs,open:us,placement:ds,popperOptions:ps,popperRef:hs,slotProps:ms={},slots:gs={},TransitionProps:ys}=ns,vs=_objectWithoutPropertiesLoose$3(ns,_excluded$1m),bs=reactExports.useRef(null),Ss=useForkRef(bs,rs),$s=reactExports.useRef(null),Cs=useForkRef($s,hs),Es=reactExports.useRef(Cs);useEnhancedEffect$1(()=>{Es.current=Cs},[Cs]),reactExports.useImperativeHandle(hs,()=>$s.current,[]);const xs=flipPlacement(ds,as),[ws,ks]=reactExports.useState(xs),[Is,Ts]=reactExports.useState(resolveAnchorEl$1(os));reactExports.useEffect(()=>{$s.current&&$s.current.forceUpdate()}),reactExports.useEffect(()=>{os&&Ts(resolveAnchorEl$1(os))},[os]),useEnhancedEffect$1(()=>{if(!Is||!us)return;const Ds=Bs=>{ks(Bs.placement)};let Fs=[{name:"preventOverflow",options:{altBoundary:ls}},{name:"flip",options:{altBoundary:ls}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:Bs})=>{Ds(Bs)}}];cs!=null&&(Fs=Fs.concat(cs)),ps&&ps.modifiers!=null&&(Fs=Fs.concat(ps.modifiers));const Vs=createPopper$1(Is,bs.current,_extends$a({placement:xs},ps,{modifiers:Fs}));return Es.current(Vs),()=>{Vs.destroy(),Es.current(null)}},[Is,ls,cs,us,ps,xs]);const Rs={placement:ws};ys!==null&&(Rs.TransitionProps=ys);const As=useUtilityClasses$15(ns),Ms=(is=gs.root)!=null?is:"div",Ls=useSlotProps$1({elementType:Ms,externalSlotProps:ms.root,externalForwardedProps:vs,additionalProps:{role:"tooltip",ref:Ss},ownerState:ns,className:As.root});return jsxRuntimeExports.jsx(Ms,_extends$a({},Ls,{children:typeof ss=="function"?ss(Rs):ss}))}),Popper$2=reactExports.forwardRef(function(ns,rs){const{anchorEl:is,children:os,container:ss,direction:as="ltr",disablePortal:ls=!1,keepMounted:cs=!1,modifiers:us,open:ds,placement:ps="bottom",popperOptions:hs=defaultPopperOptions,popperRef:ms,style:gs,transition:ys=!1,slotProps:vs={},slots:bs={}}=ns,Ss=_objectWithoutPropertiesLoose$3(ns,_excluded2$a),[$s,Cs]=reactExports.useState(!0),Es=()=>{Cs(!1)},xs=()=>{Cs(!0)};if(!cs&&!ds&&(!ys||$s))return null;let ws;if(ss)ws=ss;else if(is){const Ts=resolveAnchorEl$1(is);ws=Ts&&isHTMLElement$2(Ts)?ownerDocument(Ts).body:ownerDocument(null).body}const ks=!ds&&cs&&(!ys||$s)?"none":void 0,Is=ys?{in:ds,onEnter:Es,onExited:xs}:void 0;return jsxRuntimeExports.jsx(Portal$1,{disablePortal:ls,container:ws,children:jsxRuntimeExports.jsx(PopperTooltip,_extends$a({anchorEl:is,direction:as,disablePortal:ls,modifiers:us,ref:rs,open:ys?!$s:ds,placement:ps,popperOptions:hs,popperRef:ms,slotProps:vs,slots:bs},Ss,{style:_extends$a({position:"fixed",top:0,left:0,display:ks},gs),TransitionProps:Is,children:os}))})}),BasePopper=Popper$2,_excluded$1l=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],PopperRoot=styled$2(BasePopper,{name:"MuiPopper",slot:"Root",overridesResolver:(ts,ns)=>ns.root})({}),Popper$1=reactExports.forwardRef(function(ns,rs){var is;const os=default_1$l(),ss=useDefaultProps({props:ns,name:"MuiPopper"}),{anchorEl:as,component:ls,components:cs,componentsProps:us,container:ds,disablePortal:ps,keepMounted:hs,modifiers:ms,open:gs,placement:ys,popperOptions:vs,popperRef:bs,transition:Ss,slots:$s,slotProps:Cs}=ss,Es=_objectWithoutPropertiesLoose$3(ss,_excluded$1l),xs=(is=$s==null?void 0:$s.root)!=null?is:cs==null?void 0:cs.Root,ws=_extends$a({anchorEl:as,container:ds,disablePortal:ps,keepMounted:hs,modifiers:ms,open:gs,placement:ys,popperOptions:vs,popperRef:bs,transition:Ss},Es);return jsxRuntimeExports.jsx(PopperRoot,_extends$a({as:ls,direction:os==null?void 0:os.direction,slots:{root:xs},slotProps:Cs!=null?Cs:us},ws,{ref:rs}))}),MuiPopper=Popper$1;function getListSubheaderUtilityClass(ts){return generateUtilityClass("MuiListSubheader",ts)}generateUtilityClasses("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);const _excluded$1k=["className","color","component","disableGutters","disableSticky","inset"],useUtilityClasses$14=ts=>{const{classes:ns,color:rs,disableGutters:is,inset:os,disableSticky:ss}=ts,as={root:["root",rs!=="default"&&"color".concat(capitalize$4(rs)),!is&&"gutters",os&&"inset",!ss&&"sticky"]};return composeClasses(as,getListSubheaderUtilityClass,ns)},ListSubheaderRoot=styled$2("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:(ts,ns)=>{const{ownerState:rs}=ts;return[ns.root,rs.color!=="default"&&ns["color".concat(capitalize$4(rs.color))],!rs.disableGutters&&ns.gutters,rs.inset&&ns.inset,!rs.disableSticky&&ns.sticky]}})(({theme:ts,ownerState:ns})=>_extends$a({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:(ts.vars||ts).palette.text.secondary,fontFamily:ts.typography.fontFamily,fontWeight:ts.typography.fontWeightMedium,fontSize:ts.typography.pxToRem(14)},ns.color==="primary"&&{color:(ts.vars||ts).palette.primary.main},ns.color==="inherit"&&{color:"inherit"},!ns.disableGutters&&{paddingLeft:16,paddingRight:16},ns.inset&&{paddingLeft:72},!ns.disableSticky&&{position:"sticky",top:0,zIndex:1,backgroundColor:(ts.vars||ts).palette.background.paper})),ListSubheader=reactExports.forwardRef(function(ns,rs){const is=useDefaultProps({props:ns,name:"MuiListSubheader"}),{className:os,color:ss="default",component:as="li",disableGutters:ls=!1,disableSticky:cs=!1,inset:us=!1}=is,ds=_objectWithoutPropertiesLoose$3(is,_excluded$1k),ps=_extends$a({},is,{color:ss,component:as,disableGutters:ls,disableSticky:cs,inset:us}),hs=useUtilityClasses$14(ps);return jsxRuntimeExports.jsx(ListSubheaderRoot,_extends$a({as,className:clsx(hs.root,os),ref:rs,ownerState:ps},ds))});ListSubheader.muiSkipListHighlight=!0;const ListSubheader$1=ListSubheader,CancelIcon=createSvgIcon$1(jsxRuntimeExports.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function getChipUtilityClass(ts){return generateUtilityClass("MuiChip",ts)}const chipClasses=generateUtilityClasses("MuiChip",["root","sizeSmall","sizeMedium","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),chipClasses$1=chipClasses,_excluded$1j=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant","tabIndex","skipFocusWhenDisabled"],useUtilityClasses$13=ts=>{const{classes:ns,disabled:rs,size:is,color:os,iconColor:ss,onDelete:as,clickable:ls,variant:cs}=ts,us={root:["root",cs,rs&&"disabled","size".concat(capitalize$4(is)),"color".concat(capitalize$4(os)),ls&&"clickable",ls&&"clickableColor".concat(capitalize$4(os)),as&&"deletable",as&&"deletableColor".concat(capitalize$4(os)),"".concat(cs).concat(capitalize$4(os))],label:["label","label".concat(capitalize$4(is))],avatar:["avatar","avatar".concat(capitalize$4(is)),"avatarColor".concat(capitalize$4(os))],icon:["icon","icon".concat(capitalize$4(is)),"iconColor".concat(capitalize$4(ss))],deleteIcon:["deleteIcon","deleteIcon".concat(capitalize$4(is)),"deleteIconColor".concat(capitalize$4(os)),"deleteIcon".concat(capitalize$4(cs),"Color").concat(capitalize$4(os))]};return composeClasses(us,getChipUtilityClass,ns)},ChipRoot=styled$2("div",{name:"MuiChip",slot:"Root",overridesResolver:(ts,ns)=>{const{ownerState:rs}=ts,{color:is,iconColor:os,clickable:ss,onDelete:as,size:ls,variant:cs}=rs;return[{["& .".concat(chipClasses$1.avatar)]:ns.avatar},{["& .".concat(chipClasses$1.avatar)]:ns["avatar".concat(capitalize$4(ls))]},{["& .".concat(chipClasses$1.avatar)]:ns["avatarColor".concat(capitalize$4(is))]},{["& .".concat(chipClasses$1.icon)]:ns.icon},{["& .".concat(chipClasses$1.icon)]:ns["icon".concat(capitalize$4(ls))]},{["& .".concat(chipClasses$1.icon)]:ns["iconColor".concat(capitalize$4(os))]},{["& .".concat(chipClasses$1.deleteIcon)]:ns.deleteIcon},{["& .".concat(chipClasses$1.deleteIcon)]:ns["deleteIcon".concat(capitalize$4(ls))]},{["& .".concat(chipClasses$1.deleteIcon)]:ns["deleteIconColor".concat(capitalize$4(is))]},{["& .".concat(chipClasses$1.deleteIcon)]:ns["deleteIcon".concat(capitalize$4(cs),"Color").concat(capitalize$4(is))]},ns.root,ns["size".concat(capitalize$4(ls))],ns["color".concat(capitalize$4(is))],ss&&ns.clickable,ss&&is!=="default"&&ns["clickableColor".concat(capitalize$4(is),")")],as&&ns.deletable,as&&is!=="default"&&ns["deletableColor".concat(capitalize$4(is))],ns[cs],ns["".concat(cs).concat(capitalize$4(is))]]}})(({theme:ts,ownerState:ns})=>{const rs=ts.palette.mode==="light"?ts.palette.grey[700]:ts.palette.grey[300];return _extends$a({maxWidth:"100%",fontFamily:ts.typography.fontFamily,fontSize:ts.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(ts.vars||ts).palette.text.primary,backgroundColor:(ts.vars||ts).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:ts.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",["&.".concat(chipClasses$1.disabled)]:{opacity:(ts.vars||ts).palette.action.disabledOpacity,pointerEvents:"none"},["& .".concat(chipClasses$1.avatar)]:{marginLeft:5,marginRight:-6,width:24,height:24,color:ts.vars?ts.vars.palette.Chip.defaultAvatarColor:rs,fontSize:ts.typography.pxToRem(12)},["& .".concat(chipClasses$1.avatarColorPrimary)]:{color:(ts.vars||ts).palette.primary.contrastText,backgroundColor:(ts.vars||ts).palette.primary.dark},["& .".concat(chipClasses$1.avatarColorSecondary)]:{color:(ts.vars||ts).palette.secondary.contrastText,backgroundColor:(ts.vars||ts).palette.secondary.dark},["& .".concat(chipClasses$1.avatarSmall)]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:ts.typography.pxToRem(10)},["& .".concat(chipClasses$1.icon)]:_extends$a({marginLeft:5,marginRight:-6},ns.size==="small"&&{fontSize:18,marginLeft:4,marginRight:-4},ns.iconColor===ns.color&&_extends$a({color:ts.vars?ts.vars.palette.Chip.defaultIconColor:rs},ns.color!=="default"&&{color:"inherit"})),["& .".concat(chipClasses$1.deleteIcon)]:_extends$a({WebkitTapHighlightColor:"transparent",color:ts.vars?"rgba(".concat(ts.vars.palette.text.primaryChannel," / 0.26)"):alpha_1(ts.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:ts.vars?"rgba(".concat(ts.vars.palette.text.primaryChannel," / 0.4)"):alpha_1(ts.palette.text.primary,.4)}},ns.size==="small"&&{fontSize:16,marginRight:4,marginLeft:-4},ns.color!=="default"&&{color:ts.vars?"rgba(".concat(ts.vars.palette[ns.color].contrastTextChannel," / 0.7)"):alpha_1(ts.palette[ns.color].contrastText,.7),"&:hover, &:active":{color:(ts.vars||ts).palette[ns.color].contrastText}})},ns.size==="small"&&{height:24},ns.color!=="default"&&{backgroundColor:(ts.vars||ts).palette[ns.color].main,color:(ts.vars||ts).palette[ns.color].contrastText},ns.onDelete&&{["&.".concat(chipClasses$1.focusVisible)]:{backgroundColor:ts.vars?"rgba(".concat(ts.vars.palette.action.selectedChannel," / calc(").concat(ts.vars.palette.action.selectedOpacity," + ").concat(ts.vars.palette.action.focusOpacity,"))"):alpha_1(ts.palette.action.selected,ts.palette.action.selectedOpacity+ts.palette.action.focusOpacity)}},ns.onDelete&&ns.color!=="default"&&{["&.".concat(chipClasses$1.focusVisible)]:{backgroundColor:(ts.vars||ts).palette[ns.color].dark}})},({theme:ts,ownerState:ns})=>_extends$a({},ns.clickable&&{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:ts.vars?"rgba(".concat(ts.vars.palette.action.selectedChannel," / calc(").concat(ts.vars.palette.action.selectedOpacity," + ").concat(ts.vars.palette.action.hoverOpacity,"))"):alpha_1(ts.palette.action.selected,ts.palette.action.selectedOpacity+ts.palette.action.hoverOpacity)},["&.".concat(chipClasses$1.focusVisible)]:{backgroundColor:ts.vars?"rgba(".concat(ts.vars.palette.action.selectedChannel," / calc(").concat(ts.vars.palette.action.selectedOpacity," + ").concat(ts.vars.palette.action.focusOpacity,"))"):alpha_1(ts.palette.action.selected,ts.palette.action.selectedOpacity+ts.palette.action.focusOpacity)},"&:active":{boxShadow:(ts.vars||ts).shadows[1]}},ns.clickable&&ns.color!=="default"&&{["&:hover, &.".concat(chipClasses$1.focusVisible)]:{backgroundColor:(ts.vars||ts).palette[ns.color].dark}}),({theme:ts,ownerState:ns})=>_extends$a({},ns.variant==="outlined"&&{backgroundColor:"transparent",border:ts.vars?"1px solid ".concat(ts.vars.palette.Chip.defaultBorder):"1px solid ".concat(ts.palette.mode==="light"?ts.palette.grey[400]:ts.palette.grey[700]),["&.".concat(chipClasses$1.clickable,":hover")]:{backgroundColor:(ts.vars||ts).palette.action.hover},["&.".concat(chipClasses$1.focusVisible)]:{backgroundColor:(ts.vars||ts).palette.action.focus},["& .".concat(chipClasses$1.avatar)]:{marginLeft:4},["& .".concat(chipClasses$1.avatarSmall)]:{marginLeft:2},["& .".concat(chipClasses$1.icon)]:{marginLeft:4},["& .".concat(chipClasses$1.iconSmall)]:{marginLeft:2},["& .".concat(chipClasses$1.deleteIcon)]:{marginRight:5},["& .".concat(chipClasses$1.deleteIconSmall)]:{marginRight:3}},ns.variant==="outlined"&&ns.color!=="default"&&{color:(ts.vars||ts).palette[ns.color].main,border:"1px solid ".concat(ts.vars?"rgba(".concat(ts.vars.palette[ns.color].mainChannel," / 0.7)"):alpha_1(ts.palette[ns.color].main,.7)),["&.".concat(chipClasses$1.clickable,":hover")]:{backgroundColor:ts.vars?"rgba(".concat(ts.vars.palette[ns.color].mainChannel," / ").concat(ts.vars.palette.action.hoverOpacity,")"):alpha_1(ts.palette[ns.color].main,ts.palette.action.hoverOpacity)},["&.".concat(chipClasses$1.focusVisible)]:{backgroundColor:ts.vars?"rgba(".concat(ts.vars.palette[ns.color].mainChannel," / ").concat(ts.vars.palette.action.focusOpacity,")"):alpha_1(ts.palette[ns.color].main,ts.palette.action.focusOpacity)},["& .".concat(chipClasses$1.deleteIcon)]:{color:ts.vars?"rgba(".concat(ts.vars.palette[ns.color].mainChannel," / 0.7)"):alpha_1(ts.palette[ns.color].main,.7),"&:hover, &:active":{color:(ts.vars||ts).palette[ns.color].main}}})),ChipLabel=styled$2("span",{name:"MuiChip",slot:"Label",overridesResolver:(ts,ns)=>{const{ownerState:rs}=ts,{size:is}=rs;return[ns.label,ns["label".concat(capitalize$4(is))]]}})(({ownerState:ts})=>_extends$a({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},ts.variant==="outlined"&&{paddingLeft:11,paddingRight:11},ts.size==="small"&&{paddingLeft:8,paddingRight:8},ts.size==="small"&&ts.variant==="outlined"&&{paddingLeft:7,paddingRight:7}));function isDeleteKeyboardEvent(ts){return ts.key==="Backspace"||ts.key==="Delete"}const Chip=reactExports.forwardRef(function(ns,rs){const is=useDefaultProps({props:ns,name:"MuiChip"}),{avatar:os,className:ss,clickable:as,color:ls="default",component:cs,deleteIcon:us,disabled:ds=!1,icon:ps,label:hs,onClick:ms,onDelete:gs,onKeyDown:ys,onKeyUp:vs,size:bs="medium",variant:Ss="filled",tabIndex:$s,skipFocusWhenDisabled:Cs=!1}=is,Es=_objectWithoutPropertiesLoose$3(is,_excluded$1j),xs=reactExports.useRef(null),ws=useForkRef(xs,rs),ks=Ws=>{Ws.stopPropagation(),gs&&gs(Ws)},Is=Ws=>{Ws.currentTarget===Ws.target&&isDeleteKeyboardEvent(Ws)&&Ws.preventDefault(),ys&&ys(Ws)},Ts=Ws=>{Ws.currentTarget===Ws.target&&(gs&&isDeleteKeyboardEvent(Ws)?gs(Ws):Ws.key==="Escape"&&xs.current&&xs.current.blur()),vs&&vs(Ws)},Rs=as!==!1&&ms?!0:as,As=Rs||gs?ButtonBase$1:cs||"div",Ms=_extends$a({},is,{component:As,disabled:ds,size:bs,color:ls,iconColor:reactExports.isValidElement(ps)&&ps.props.color||ls,onDelete:!!gs,clickable:Rs,variant:Ss}),Ls=useUtilityClasses$13(Ms),Ds=As===ButtonBase$1?_extends$a({component:cs||"div",focusVisibleClassName:Ls.focusVisible},gs&&{disableRipple:!0}):{};let Fs=null;gs&&(Fs=us&&reactExports.isValidElement(us)?reactExports.cloneElement(us,{className:clsx(us.props.className,Ls.deleteIcon),onClick:ks}):jsxRuntimeExports.jsx(CancelIcon,{className:clsx(Ls.deleteIcon),onClick:ks}));let Vs=null;os&&reactExports.isValidElement(os)&&(Vs=reactExports.cloneElement(os,{className:clsx(Ls.avatar,os.props.className)}));let Bs=null;return ps&&reactExports.isValidElement(ps)&&(Bs=reactExports.cloneElement(ps,{className:clsx(Ls.icon,ps.props.className)})),jsxRuntimeExports.jsxs(ChipRoot,_extends$a({as:As,className:clsx(Ls.root,ss),disabled:Rs&&ds?!0:void 0,onClick:ms,onKeyDown:Is,onKeyUp:Ts,ref:ws,tabIndex:Cs&&ds?-1:$s,ownerState:Ms},Ds,Es,{children:[Vs||Bs,jsxRuntimeExports.jsx(ChipLabel,{className:clsx(Ls.label),ownerState:Ms,children:hs}),Fs]}))}),Chip$1=Chip,_excluded$1i=["onChange","maxRows","minRows","style","value"];function getStyleValue(ts){return parseInt(ts,10)||0}const styles$3={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function isEmpty$1(ts){return ts==null||Object.keys(ts).length===0||ts.outerHeightStyle===0&&!ts.overflowing}const TextareaAutosize=reactExports.forwardRef(function(ns,rs){const{onChange:is,maxRows:os,minRows:ss=1,style:as,value:ls}=ns,cs=_objectWithoutPropertiesLoose$3(ns,_excluded$1i),{current:us}=reactExports.useRef(ls!=null),ds=reactExports.useRef(null),ps=useForkRef(rs,ds),hs=reactExports.useRef(null),ms=reactExports.useRef(null),gs=reactExports.useCallback(()=>{const bs=ds.current,$s=ownerWindow(bs).getComputedStyle(bs);if($s.width==="0px")return{outerHeightStyle:0,overflowing:!1};const Cs=ms.current;Cs.style.width=$s.width,Cs.value=bs.value||ns.placeholder||"x",Cs.value.slice(-1)==="\n"&&(Cs.value+=" ");const Es=$s.boxSizing,xs=getStyleValue($s.paddingBottom)+getStyleValue($s.paddingTop),ws=getStyleValue($s.borderBottomWidth)+getStyleValue($s.borderTopWidth),ks=Cs.scrollHeight;Cs.value="x";const Is=Cs.scrollHeight;let Ts=ks;ss&&(Ts=Math.max(Number(ss)*Is,Ts)),os&&(Ts=Math.min(Number(os)*Is,Ts)),Ts=Math.max(Ts,Is);const Rs=Ts+(Es==="border-box"?xs+ws:0),As=Math.abs(Ts-ks)<=1;return{outerHeightStyle:Rs,overflowing:As}},[os,ss,ns.placeholder]),ys=reactExports.useCallback(()=>{const bs=gs();if(isEmpty$1(bs))return;const Ss=bs.outerHeightStyle,$s=ds.current;hs.current!==Ss&&(hs.current=Ss,$s.style.height="".concat(Ss,"px")),$s.style.overflow=bs.overflowing?"hidden":""},[gs]);useEnhancedEffect$1(()=>{const bs=()=>{ys()};let Ss;const $s=debounce$3(bs),Cs=ds.current,Es=ownerWindow(Cs);Es.addEventListener("resize",$s);let xs;return typeof ResizeObserver<"u"&&(xs=new ResizeObserver(bs),xs.observe(Cs)),()=>{$s.clear(),cancelAnimationFrame(Ss),Es.removeEventListener("resize",$s),xs&&xs.disconnect()}},[gs,ys]),useEnhancedEffect$1(()=>{ys()});const vs=bs=>{us||ys(),is&&is(bs)};return jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx("textarea",_extends$a({value:ls,onChange:vs,ref:ps,rows:ss,style:as},cs)),jsxRuntimeExports.jsx("textarea",{"aria-hidden":!0,className:ns.className,readOnly:!0,ref:ms,tabIndex:-1,style:_extends$a({},styles$3.shadow,as,{paddingTop:0,paddingBottom:0})})]})}),TextareaAutosize$1=TextareaAutosize;function formControlState({props:ts,states:ns,muiFormControl:rs}){return ns.reduce((is,os)=>(is[os]=ts[os],rs&&typeof ts[os]>"u"&&(is[os]=rs[os]),is),{})}const FormControlContext=reactExports.createContext(void 0),FormControlContext$1=FormControlContext;function useFormControl(){return reactExports.useContext(FormControlContext$1)}function GlobalStyles$1(ts){return jsxRuntimeExports.jsx(GlobalStyles$2,_extends$a({},ts,{defaultTheme:defaultTheme$4,themeId:THEME_ID}))}function hasValue(ts){return ts!=null&&!(Array.isArray(ts)&&ts.length===0)}function isFilled(ts,ns=!1){return ts&&(hasValue(ts.value)&&ts.value!==""||ns&&hasValue(ts.defaultValue)&&ts.defaultValue!=="")}function isAdornedStart(ts){return ts.startAdornment}function getInputBaseUtilityClass(ts){return generateUtilityClass("MuiInputBase",ts)}const inputBaseClasses=generateUtilityClasses("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),inputBaseClasses$1=inputBaseClasses,_excluded$1h=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],rootOverridesResolver=(ts,ns)=>{const{ownerState:rs}=ts;return[ns.root,rs.formControl&&ns.formControl,rs.startAdornment&&ns.adornedStart,rs.endAdornment&&ns.adornedEnd,rs.error&&ns.error,rs.size==="small"&&ns.sizeSmall,rs.multiline&&ns.multiline,rs.color&&ns["color".concat(capitalize$4(rs.color))],rs.fullWidth&&ns.fullWidth,rs.hiddenLabel&&ns.hiddenLabel]},inputOverridesResolver=(ts,ns)=>{const{ownerState:rs}=ts;return[ns.input,rs.size==="small"&&ns.inputSizeSmall,rs.multiline&&ns.inputMultiline,rs.type==="search"&&ns.inputTypeSearch,rs.startAdornment&&ns.inputAdornedStart,rs.endAdornment&&ns.inputAdornedEnd,rs.hiddenLabel&&ns.inputHiddenLabel]},useUtilityClasses$12=ts=>{const{classes:ns,color:rs,disabled:is,error:os,endAdornment:ss,focused:as,formControl:ls,fullWidth:cs,hiddenLabel:us,multiline:ds,readOnly:ps,size:hs,startAdornment:ms,type:gs}=ts,ys={root:["root","color".concat(capitalize$4(rs)),is&&"disabled",os&&"error",cs&&"fullWidth",as&&"focused",ls&&"formControl",hs&&hs!=="medium"&&"size".concat(capitalize$4(hs)),ds&&"multiline",ms&&"adornedStart",ss&&"adornedEnd",us&&"hiddenLabel",ps&&"readOnly"],input:["input",is&&"disabled",gs==="search"&&"inputTypeSearch",ds&&"inputMultiline",hs==="small"&&"inputSizeSmall",us&&"inputHiddenLabel",ms&&"inputAdornedStart",ss&&"inputAdornedEnd",ps&&"readOnly"]};return composeClasses(ys,getInputBaseUtilityClass,ns)},InputBaseRoot=styled$2("div",{name:"MuiInputBase",slot:"Root",overridesResolver:rootOverridesResolver})(({theme:ts,ownerState:ns})=>_extends$a({},ts.typography.body1,{color:(ts.vars||ts).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",["&.".concat(inputBaseClasses$1.disabled)]:{color:(ts.vars||ts).palette.text.disabled,cursor:"default"}},ns.multiline&&_extends$a({padding:"4px 0 5px"},ns.size==="small"&&{paddingTop:1}),ns.fullWidth&&{width:"100%"})),InputBaseComponent=styled$2("input",{name:"MuiInputBase",slot:"Input",overridesResolver:inputOverridesResolver})(({theme:ts,ownerState:ns})=>{const rs=ts.palette.mode==="light",is=_extends$a({color:"currentColor"},ts.vars?{opacity:ts.vars.opacity.inputPlaceholder}:{opacity:rs?.42:.5},{transition:ts.transitions.create("opacity",{duration:ts.transitions.duration.shorter})}),os={opacity:"0 !important"},ss=ts.vars?{opacity:ts.vars.opacity.inputPlaceholder}:{opacity:rs?.42:.5};return _extends$a({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":is,"&::-moz-placeholder":is,"&:-ms-input-placeholder":is,"&::-ms-input-placeholder":is,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},["label[data-shrink=false] + .".concat(inputBaseClasses$1.formControl," &")]:{"&::-webkit-input-placeholder":os,"&::-moz-placeholder":os,"&:-ms-input-placeholder":os,"&::-ms-input-placeholder":os,"&:focus::-webkit-input-placeholder":ss,"&:focus::-moz-placeholder":ss,"&:focus:-ms-input-placeholder":ss,"&:focus::-ms-input-placeholder":ss},["&.".concat(inputBaseClasses$1.disabled)]:{opacity:1,WebkitTextFillColor:(ts.vars||ts).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},ns.size==="small"&&{paddingTop:1},ns.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},ns.type==="search"&&{MozAppearance:"textfield"})}),inputGlobalStyles=jsxRuntimeExports.jsx(GlobalStyles$1,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),InputBase=reactExports.forwardRef(function(ns,rs){var is;const os=useDefaultProps({props:ns,name:"MuiInputBase"}),{"aria-describedby":ss,autoComplete:as,autoFocus:ls,className:cs,components:us={},componentsProps:ds={},defaultValue:ps,disabled:hs,disableInjectingGlobalStyles:ms,endAdornment:gs,fullWidth:ys=!1,id:vs,inputComponent:bs="input",inputProps:Ss={},inputRef:$s,maxRows:Cs,minRows:Es,multiline:xs=!1,name:ws,onBlur:ks,onChange:Is,onClick:Ts,onFocus:Rs,onKeyDown:As,onKeyUp:Ms,placeholder:Ls,readOnly:Ds,renderSuffix:Fs,rows:Vs,slotProps:Bs={},slots:Ws={},startAdornment:Os,type:Nl="text",value:$a}=os,Ps=_objectWithoutPropertiesLoose$3(os,_excluded$1h),Ys=Ss.value!=null?Ss.value:$a,{current:Zs}=reactExports.useRef(Ys!=null),Us=reactExports.useRef(),Ol=reactExports.useCallback(Il=>{},[]),qs=useForkRef(Us,$s,Ss.ref,Ol),[Fl,Ll]=reactExports.useState(!1),$l=useFormControl(),Cl=formControlState({props:os,muiFormControl:$l,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Cl.focused=$l?$l.focused:Fl,reactExports.useEffect(()=>{!$l&&hs&&Fl&&(Ll(!1),ks&&ks())},[$l,hs,Fl,ks]);const wl=$l&&$l.onFilled,Tl=$l&&$l.onEmpty,xl=reactExports.useCallback(Il=>{isFilled(Il)?wl&&wl():Tl&&Tl()},[wl,Tl]);useEnhancedEffect$1(()=>{Zs&&xl({value:Ys})},[Ys,xl,Zs]);const Al=Il=>{if(Cl.disabled){Il.stopPropagation();return}Rs&&Rs(Il),Ss.onFocus&&Ss.onFocus(Il),$l&&$l.onFocus?$l.onFocus(Il):Ll(!0)},Dl=Il=>{ks&&ks(Il),Ss.onBlur&&Ss.onBlur(Il),$l&&$l.onBlur?$l.onBlur(Il):Ll(!1)},Ns=(Il,...Ml)=>{if(!Zs){const Kl=Il.target||Us.current;if(Kl==null)throw new Error(formatMuiErrorMessage$1(1));xl({value:Kl.value})}Ss.onChange&&Ss.onChange(Il,...Ml),Is&&Is(Il,...Ml)};reactExports.useEffect(()=>{xl(Us.current)},[]);const Hs=Il=>{Us.current&&Il.currentTarget===Il.target&&Us.current.focus(),Ts&&Ts(Il)};let Gs=bs,Js=Ss;xs&&Gs==="input"&&(Vs?Js=_extends$a({type:void 0,minRows:Vs,maxRows:Vs},Js):Js=_extends$a({type:void 0,maxRows:Cs,minRows:Es},Js),Gs=TextareaAutosize$1);const El=Il=>{xl(Il.animationName==="mui-auto-fill-cancel"?Us.current:{value:"x"})};reactExports.useEffect(()=>{$l&&$l.setAdornedStart(!!Os)},[$l,Os]);const Xs=_extends$a({},os,{color:Cl.color||"primary",disabled:Cl.disabled,endAdornment:gs,error:Cl.error,focused:Cl.focused,formControl:$l,fullWidth:ys,hiddenLabel:Cl.hiddenLabel,multiline:xs,size:Cl.size,startAdornment:Os,type:Nl}),_l=useUtilityClasses$12(Xs),Bl=Ws.root||us.Root||InputBaseRoot,Ks=Bs.root||ds.root||{},Sl=Ws.input||us.Input||InputBaseComponent;return Js=_extends$a({},Js,(is=Bs.input)!=null?is:ds.input),jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[!ms&&inputGlobalStyles,jsxRuntimeExports.jsxs(Bl,_extends$a({},Ks,!isHostComponent$1(Bl)&&{ownerState:_extends$a({},Xs,Ks.ownerState)},{ref:rs,onClick:Hs},Ps,{className:clsx(_l.root,Ks.className,cs,Ds&&"MuiInputBase-readOnly"),children:[Os,jsxRuntimeExports.jsx(FormControlContext$1.Provider,{value:null,children:jsxRuntimeExports.jsx(Sl,_extends$a({ownerState:Xs,"aria-invalid":Cl.error,"aria-describedby":ss,autoComplete:as,autoFocus:ls,defaultValue:ps,disabled:Cl.disabled,id:vs,onAnimationStart:El,name:ws,placeholder:Ls,readOnly:Ds,required:Cl.required,rows:Vs,value:Ys,onKeyDown:As,onKeyUp:Ms,type:Nl},Js,!isHostComponent$1(Sl)&&{as:Gs,ownerState:_extends$a({},Xs,Js.ownerState)},{ref:qs,className:clsx(_l.input,Js.className,Ds&&"MuiInputBase-readOnly"),onBlur:Dl,onChange:Ns,onFocus:Al}))}),gs,Fs?Fs(_extends$a({},Cl,{startAdornment:Os})):null]}))]})}),InputBase$1=InputBase;function getInputUtilityClass(ts){return generateUtilityClass("MuiInput",ts)}const inputClasses=_extends$a({},inputBaseClasses$1,generateUtilityClasses("MuiInput",["root","underline","input"])),inputClasses$1=inputClasses;function getOutlinedInputUtilityClass(ts){return generateUtilityClass("MuiOutlinedInput",ts)}const outlinedInputClasses=_extends$a({},inputBaseClasses$1,generateUtilityClasses("MuiOutlinedInput",["root","notchedOutline","input"])),outlinedInputClasses$1=outlinedInputClasses;function getFilledInputUtilityClass(ts){return generateUtilityClass("MuiFilledInput",ts)}const filledInputClasses=_extends$a({},inputBaseClasses$1,generateUtilityClasses("MuiFilledInput",["root","underline","input"])),filledInputClasses$1=filledInputClasses,ArrowDropDownIcon$1=createSvgIcon$1(jsxRuntimeExports.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown");function getAutocompleteUtilityClass(ts){return generateUtilityClass("MuiAutocomplete",ts)}const autocompleteClasses=generateUtilityClasses("MuiAutocomplete",["root","expanded","fullWidth","focused","focusVisible","tag","tagSizeSmall","tagSizeMedium","hasPopupIcon","hasClearIcon","inputRoot","input","inputFocused","endAdornment","clearIndicator","popupIndicator","popupIndicatorOpen","popper","popperDisablePortal","paper","listbox","loading","noOptions","option","groupLabel","groupUl"]),autocompleteClasses$1=autocompleteClasses;var _ClearIcon,_ArrowDropDownIcon;const _excluded$1g=["autoComplete","autoHighlight","autoSelect","blurOnSelect","ChipProps","className","clearIcon","clearOnBlur","clearOnEscape","clearText","closeText","componentsProps","defaultValue","disableClearable","disableCloseOnSelect","disabled","disabledItemsFocusable","disableListWrap","disablePortal","filterOptions","filterSelectedOptions","forcePopupIcon","freeSolo","fullWidth","getLimitTagsText","getOptionDisabled","getOptionKey","getOptionLabel","isOptionEqualToValue","groupBy","handleHomeEndKeys","id","includeInputInList","inputValue","limitTags","ListboxComponent","ListboxProps","loading","loadingText","multiple","noOptionsText","onChange","onClose","onHighlightChange","onInputChange","onOpen","open","openOnFocus","openText","options","PaperComponent","PopperComponent","popupIcon","readOnly","renderGroup","renderInput","renderOption","renderTags","selectOnFocus","size","slotProps","value"],_excluded2$9=["ref"],_excluded3$2=["key"],_excluded4=["key"],useUtilityClasses$11=ts=>{const{classes:ns,disablePortal:rs,expanded:is,focused:os,fullWidth:ss,hasClearIcon:as,hasPopupIcon:ls,inputFocused:cs,popupOpen:us,size:ds}=ts,ps={root:["root",is&&"expanded",os&&"focused",ss&&"fullWidth",as&&"hasClearIcon",ls&&"hasPopupIcon"],inputRoot:["inputRoot"],input:["input",cs&&"inputFocused"],tag:["tag","tagSize".concat(capitalize$4(ds))],endAdornment:["endAdornment"],clearIndicator:["clearIndicator"],popupIndicator:["popupIndicator",us&&"popupIndicatorOpen"],popper:["popper",rs&&"popperDisablePortal"],paper:["paper"],listbox:["listbox"],loading:["loading"],noOptions:["noOptions"],option:["option"],groupLabel:["groupLabel"],groupUl:["groupUl"]};return composeClasses(ps,getAutocompleteUtilityClass,ns)},AutocompleteRoot=styled$2("div",{name:"MuiAutocomplete",slot:"Root",overridesResolver:(ts,ns)=>{const{ownerState:rs}=ts,{fullWidth:is,hasClearIcon:os,hasPopupIcon:ss,inputFocused:as,size:ls}=rs;return[{["& .".concat(autocompleteClasses$1.tag)]:ns.tag},{["& .".concat(autocompleteClasses$1.tag)]:ns["tagSize".concat(capitalize$4(ls))]},{["& .".concat(autocompleteClasses$1.inputRoot)]:ns.inputRoot},{["& .".concat(autocompleteClasses$1.input)]:ns.input},{["& .".concat(autocompleteClasses$1.input)]:as&&ns.inputFocused},ns.root,is&&ns.fullWidth,ss&&ns.hasPopupIcon,os&&ns.hasClearIcon]}})({["&.".concat(autocompleteClasses$1.focused," .").concat(autocompleteClasses$1.clearIndicator)]:{visibility:"visible"},"@media (pointer: fine)":{["&:hover .".concat(autocompleteClasses$1.clearIndicator)]:{visibility:"visible"}},["& .".concat(autocompleteClasses$1.tag)]:{margin:3,maxWidth:"calc(100% - 6px)"},["& .".concat(autocompleteClasses$1.inputRoot)]:{[".".concat(autocompleteClasses$1.hasPopupIcon,"&, .").concat(autocompleteClasses$1.hasClearIcon,"&")]:{paddingRight:26+4},[".".concat(autocompleteClasses$1.hasPopupIcon,".").concat(autocompleteClasses$1.hasClearIcon,"&")]:{paddingRight:52+4},["& .".concat(autocompleteClasses$1.input)]:{width:0,minWidth:30}},["& .".concat(inputClasses$1.root)]:{paddingBottom:1,"& .MuiInput-input":{padding:"4px 4px 4px 0px"}},["& .".concat(inputClasses$1.root,".").concat(inputBaseClasses$1.sizeSmall)]:{["& .".concat(inputClasses$1.input)]:{padding:"2px 4px 3px 0"}},["& .".concat(outlinedInputClasses$1.root)]:{padding:9,[".".concat(autocompleteClasses$1.hasPopupIcon,"&, .").concat(autocompleteClasses$1.hasClearIcon,"&")]:{paddingRight:26+4+9},[".".concat(autocompleteClasses$1.hasPopupIcon,".").concat(autocompleteClasses$1.hasClearIcon,"&")]:{paddingRight:52+4+9},["& .".concat(autocompleteClasses$1.input)]:{padding:"7.5px 4px 7.5px 5px"},["& .".concat(autocompleteClasses$1.endAdornment)]:{right:9}},["& .".concat(outlinedInputClasses$1.root,".").concat(inputBaseClasses$1.sizeSmall)]:{paddingTop:6,paddingBottom:6,paddingLeft:6,["& .".concat(autocompleteClasses$1.input)]:{padding:"2.5px 4px 2.5px 8px"}},["& .".concat(filledInputClasses$1.root)]:{paddingTop:19,paddingLeft:8,[".".concat(autocompleteClasses$1.hasPopupIcon,"&, .").concat(autocompleteClasses$1.hasClearIcon,"&")]:{paddingRight:26+4+9},[".".concat(autocompleteClasses$1.hasPopupIcon,".").concat(autocompleteClasses$1.hasClearIcon,"&")]:{paddingRight:52+4+9},["& .".concat(filledInputClasses$1.input)]:{padding:"7px 4px"},["& .".concat(autocompleteClasses$1.endAdornment)]:{right:9}},["& .".concat(filledInputClasses$1.root,".").concat(inputBaseClasses$1.sizeSmall)]:{paddingBottom:1,["& .".concat(filledInputClasses$1.input)]:{padding:"2.5px 4px"}},["& .".concat(inputBaseClasses$1.hiddenLabel)]:{paddingTop:8},["& .".concat(filledInputClasses$1.root,".").concat(inputBaseClasses$1.hiddenLabel)]:{paddingTop:0,paddingBottom:0,["& .".concat(autocompleteClasses$1.input)]:{paddingTop:16,paddingBottom:17}},["& .".concat(filledInputClasses$1.root,".").concat(inputBaseClasses$1.hiddenLabel,".").concat(inputBaseClasses$1.sizeSmall)]:{["& .".concat(autocompleteClasses$1.input)]:{paddingTop:8,paddingBottom:9}},["& .".concat(autocompleteClasses$1.input)]:{flexGrow:1,textOverflow:"ellipsis",opacity:0},variants:[{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{["& .".concat(autocompleteClasses$1.tag)]:{margin:2,maxWidth:"calc(100% - 4px)"}}},{props:{inputFocused:!0},style:{["& .".concat(autocompleteClasses$1.input)]:{opacity:1}}},{props:{multiple:!0},style:{["& .".concat(autocompleteClasses$1.inputRoot)]:{flexWrap:"wrap"}}}]}),AutocompleteEndAdornment=styled$2("div",{name:"MuiAutocomplete",slot:"EndAdornment",overridesResolver:(ts,ns)=>ns.endAdornment})({position:"absolute",right:0,top:"50%",transform:"translate(0, -50%)"}),AutocompleteClearIndicator=styled$2(IconButton$2,{name:"MuiAutocomplete",slot:"ClearIndicator",overridesResolver:(ts,ns)=>ns.clearIndicator})({marginRight:-2,padding:4,visibility:"hidden"}),AutocompletePopupIndicator=styled$2(IconButton$2,{name:"MuiAutocomplete",slot:"PopupIndicator",overridesResolver:({ownerState:ts},ns)=>_extends$a({},ns.popupIndicator,ts.popupOpen&&ns.popupIndicatorOpen)})({padding:2,marginRight:-2,variants:[{props:{popupOpen:!0},style:{transform:"rotate(180deg)"}}]}),AutocompletePopper=styled$2(MuiPopper,{name:"MuiAutocomplete",slot:"Popper",overridesResolver:(ts,ns)=>{const{ownerState:rs}=ts;return[{["& .".concat(autocompleteClasses$1.option)]:ns.option},ns.popper,rs.disablePortal&&ns.popperDisablePortal]}})(({theme:ts})=>({zIndex:(ts.vars||ts).zIndex.modal,variants:[{props:{disablePortal:!0},style:{position:"absolute"}}]})),AutocompletePaper=styled$2(Paper$1,{name:"MuiAutocomplete",slot:"Paper",overridesResolver:(ts,ns)=>ns.paper})(({theme:ts})=>_extends$a({},ts.typography.body1,{overflow:"auto"})),AutocompleteLoading=styled$2("div",{name:"MuiAutocomplete",slot:"Loading",overridesResolver:(ts,ns)=>ns.loading})(({theme:ts})=>({color:(ts.vars||ts).palette.text.secondary,padding:"14px 16px"})),AutocompleteNoOptions=styled$2("div",{name:"MuiAutocomplete",slot:"NoOptions",overridesResolver:(ts,ns)=>ns.noOptions})(({theme:ts})=>({color:(ts.vars||ts).palette.text.secondary,padding:"14px 16px"})),AutocompleteListbox=styled$2("div",{name:"MuiAutocomplete",slot:"Listbox",overridesResolver:(ts,ns)=>ns.listbox})(({theme:ts})=>({listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto",position:"relative",["& .".concat(autocompleteClasses$1.option)]:{minHeight:48,display:"flex",overflow:"hidden",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16,[ts.breakpoints.up("sm")]:{minHeight:"auto"},["&.".concat(autocompleteClasses$1.focused)]:{backgroundColor:(ts.vars||ts).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},'&[aria-disabled="true"]':{opacity:(ts.vars||ts).palette.action.disabledOpacity,pointerEvents:"none"},["&.".concat(autocompleteClasses$1.focusVisible)]:{backgroundColor:(ts.vars||ts).palette.action.focus},'&[aria-selected="true"]':{backgroundColor:ts.vars?"rgba(".concat(ts.vars.palette.primary.mainChannel," / ").concat(ts.vars.palette.action.selectedOpacity,")"):alpha_1(ts.palette.primary.main,ts.palette.action.selectedOpacity),["&.".concat(autocompleteClasses$1.focused)]:{backgroundColor:ts.vars?"rgba(".concat(ts.vars.palette.primary.mainChannel," / calc(").concat(ts.vars.palette.action.selectedOpacity," + ").concat(ts.vars.palette.action.hoverOpacity,"))"):alpha_1(ts.palette.primary.main,ts.palette.action.selectedOpacity+ts.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(ts.vars||ts).palette.action.selected}},["&.".concat(autocompleteClasses$1.focusVisible)]:{backgroundColor:ts.vars?"rgba(".concat(ts.vars.palette.primary.mainChannel," / calc(").concat(ts.vars.palette.action.selectedOpacity," + ").concat(ts.vars.palette.action.focusOpacity,"))"):alpha_1(ts.palette.primary.main,ts.palette.action.selectedOpacity+ts.palette.action.focusOpacity)}}}})),AutocompleteGroupLabel=styled$2(ListSubheader$1,{name:"MuiAutocomplete",slot:"GroupLabel",overridesResolver:(ts,ns)=>ns.groupLabel})(({theme:ts})=>({backgroundColor:(ts.vars||ts).palette.background.paper,top:-8})),AutocompleteGroupUl=styled$2("ul",{name:"MuiAutocomplete",slot:"GroupUl",overridesResolver:(ts,ns)=>ns.groupUl})({padding:0,["& .".concat(autocompleteClasses$1.option)]:{paddingLeft:24}}),Autocomplete=reactExports.forwardRef(function(ns,rs){var is,os,ss,as;const ls=useDefaultProps({props:ns,name:"MuiAutocomplete"}),{autoComplete:cs=!1,autoHighlight:us=!1,autoSelect:ds=!1,blurOnSelect:ps=!1,ChipProps:hs,className:ms,clearIcon:gs=_ClearIcon||(_ClearIcon=jsxRuntimeExports.jsx(ClearIcon,{fontSize:"small"})),clearOnBlur:ys=!ls.freeSolo,clearOnEscape:vs=!1,clearText:bs="Clear",closeText:Ss="Close",componentsProps:$s={},defaultValue:Cs=ls.multiple?[]:null,disableClearable:Es=!1,disableCloseOnSelect:xs=!1,disabled:ws=!1,disabledItemsFocusable:ks=!1,disableListWrap:Is=!1,disablePortal:Ts=!1,filterSelectedOptions:Rs=!1,forcePopupIcon:As="auto",freeSolo:Ms=!1,fullWidth:Ls=!1,getLimitTagsText:Ds=Zl=>"+".concat(Zl),getOptionLabel:Fs,groupBy:Vs,handleHomeEndKeys:Bs=!ls.freeSolo,includeInputInList:Ws=!1,limitTags:Os=-1,ListboxComponent:Nl="ul",ListboxProps:$a,loading:Ps=!1,loadingText:Ys="Loadingâ¦",multiple:Zs=!1,noOptionsText:Us="No options",openOnFocus:Ol=!1,openText:qs="Open",PaperComponent:Fl=Paper$1,PopperComponent:Ll=MuiPopper,popupIcon:$l=_ArrowDropDownIcon||(_ArrowDropDownIcon=jsxRuntimeExports.jsx(ArrowDropDownIcon$1,{})),readOnly:Cl=!1,renderGroup:wl,renderInput:Tl,renderOption:xl,renderTags:Al,selectOnFocus:Dl=!ls.freeSolo,size:Ns="medium",slotProps:Hs={}}=ls,Gs=_objectWithoutPropertiesLoose$3(ls,_excluded$1g),{getRootProps:Js,getInputProps:El,getInputLabelProps:Xs,getPopupIndicatorProps:_l,getClearProps:Bl,getTagProps:Ks,getListboxProps:Sl,getOptionProps:Il,value:Ml,dirty:Kl,expanded:Ql,id:Yl,popupOpen:Gl,focused:iu,focusedTag:Vl,anchorEl:Hl,setAnchorEl:zs,inputValue:yl,groupedOptions:Rl}=useAutocomplete(_extends$a({},ls,{componentName:"Autocomplete"})),Jl=!Es&&!ws&&Kl&&!Cl,tu=(!Ms||As===!0)&&As!==!1,{onMouseDown:Xl}=El(),{ref:ou}=$a!=null?$a:{},au=Sl(),{ref:fu}=au,du=_objectWithoutPropertiesLoose$3(au,_excluded2$9),Su=useForkRef(fu,ou),Tu=Fs||(Zl=>{var su;return(su=Zl.label)!=null?su:Zl}),gu=_extends$a({},ls,{disablePortal:Ts,expanded:Ql,focused:iu,fullWidth:Ls,getOptionLabel:Tu,hasClearIcon:Jl,hasPopupIcon:tu,inputFocused:Vl===-1,popupOpen:Gl,size:Ns}),pu=useUtilityClasses$11(gu);let $u;if(Zs&&Ml.length>0){const Zl=su=>_extends$a({className:pu.tag,disabled:ws},Ks(su));Al?$u=Al(Ml,Zl,gu):$u=Ml.map((su,nu)=>{const lu=Zl({index:nu}),{key:bu}=lu,Wu=_objectWithoutPropertiesLoose$3(lu,_excluded3$2);return jsxRuntimeExports.jsx(Chip$1,_extends$a({label:Tu(su),size:Ns},Wu,hs),bu)})}if(Os>-1&&Array.isArray($u)){const Zl=$u.length-Os;!iu&&Zl>0&&($u=$u.splice(0,Os),$u.push(jsxRuntimeExports.jsx("span",{className:pu.tag,children:Ds(Zl)},$u.length)))}const Ru=wl||(Zl=>jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx(AutocompleteGroupLabel,{className:pu.groupLabel,ownerState:gu,component:"div",children:Zl.group}),jsxRuntimeExports.jsx(AutocompleteGroupUl,{className:pu.groupUl,ownerState:gu,children:Zl.children})]},Zl.key)),Cu=xl||((Zl,su)=>{const{key:nu}=Zl,lu=_objectWithoutPropertiesLoose$3(Zl,_excluded4);return jsxRuntimeExports.jsx("li",_extends$a({},lu,{children:Tu(su)}),nu)}),Nu=(Zl,su)=>{const nu=Il({option:Zl,index:su});return Cu(_extends$a({},nu,{className:pu.option}),Zl,{selected:nu["aria-selected"],index:su,inputValue:yl},gu)},Lu=(is=Hs.clearIndicator)!=null?is:$s.clearIndicator,Au=(os=Hs.paper)!=null?os:$s.paper,Mu=(ss=Hs.popper)!=null?ss:$s.popper,Ul=(as=Hs.popupIndicator)!=null?as:$s.popupIndicator,Pl=Zl=>jsxRuntimeExports.jsx(AutocompletePopper,_extends$a({as:Ll,disablePortal:Ts,style:{width:Hl?Hl.clientWidth:null},ownerState:gu,role:"presentation",anchorEl:Hl,open:Gl},Mu,{className:clsx(pu.popper,Mu==null?void 0:Mu.className),children:jsxRuntimeExports.jsx(AutocompletePaper,_extends$a({ownerState:gu,as:Fl},Au,{className:clsx(pu.paper,Au==null?void 0:Au.className),children:Zl}))}));let eu=null;return Rl.length>0?eu=Pl(jsxRuntimeExports.jsx(AutocompleteListbox,_extends$a({as:Nl,className:pu.listbox,ownerState:gu},du,$a,{ref:Su,children:Rl.map((Zl,su)=>Vs?Ru({key:Zl.key,group:Zl.group,children:Zl.options.map((nu,lu)=>Nu(nu,Zl.index+lu))}):Nu(Zl,su))}))):Ps&&Rl.length===0?eu=Pl(jsxRuntimeExports.jsx(AutocompleteLoading,{className:pu.loading,ownerState:gu,children:Ys})):Rl.length===0&&!Ms&&!Ps&&(eu=Pl(jsxRuntimeExports.jsx(AutocompleteNoOptions,{className:pu.noOptions,ownerState:gu,role:"presentation",onMouseDown:Zl=>{Zl.preventDefault()},children:Us}))),jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx(AutocompleteRoot,_extends$a({ref:rs,className:clsx(pu.root,ms),ownerState:gu},Js(Gs),{children:Tl({id:Yl,disabled:ws,fullWidth:!0,size:Ns==="small"?"small":void 0,InputLabelProps:Xs(),InputProps:_extends$a({ref:zs,className:pu.inputRoot,startAdornment:$u,onClick:Zl=>{Zl.target===Zl.currentTarget&&Xl(Zl)}},(Jl||tu)&&{endAdornment:jsxRuntimeExports.jsxs(AutocompleteEndAdornment,{className:pu.endAdornment,ownerState:gu,children:[Jl?jsxRuntimeExports.jsx(AutocompleteClearIndicator,_extends$a({},Bl(),{"aria-label":bs,title:bs,ownerState:gu},Lu,{className:clsx(pu.clearIndicator,Lu==null?void 0:Lu.className),children:gs})):null,tu?jsxRuntimeExports.jsx(AutocompletePopupIndicator,_extends$a({},_l(),{disabled:ws,"aria-label":Gl?Ss:qs,title:Gl?Ss:qs,ownerState:gu},Ul,{className:clsx(pu.popupIndicator,Ul==null?void 0:Ul.className),children:$l})):null]})}),inputProps:_extends$a({className:pu.input,disabled:ws,readOnly:Cl},El())})})),Hl?eu:null]})}),Autocomplete$1=Autocomplete,_excluded$1f=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],styles$2={entering:{opacity:1},entered:{opacity:1}},Fade=reactExports.forwardRef(function(ns,rs){const is=useTheme$1(),os={enter:is.transitions.duration.enteringScreen,exit:is.transitions.duration.leavingScreen},{addEndListener:ss,appear:as=!0,children:ls,easing:cs,in:us,onEnter:ds,onEntered:ps,onEntering:hs,onExit:ms,onExited:gs,onExiting:ys,style:vs,timeout:bs=os,TransitionComponent:Ss=Transition$1}=ns,$s=_objectWithoutPropertiesLoose$3(ns,_excluded$1f),Cs=reactExports.useRef(null),Es=useForkRef(Cs,ls.ref,rs),xs=Ls=>Ds=>{if(Ls){const Fs=Cs.current;Ds===void 0?Ls(Fs):Ls(Fs,Ds)}},ws=xs(hs),ks=xs((Ls,Ds)=>{reflow(Ls);const Fs=getTransitionProps({style:vs,timeout:bs,easing:cs},{mode:"enter"});Ls.style.webkitTransition=is.transitions.create("opacity",Fs),Ls.style.transition=is.transitions.create("opacity",Fs),ds&&ds(Ls,Ds)}),Is=xs(ps),Ts=xs(ys),Rs=xs(Ls=>{const Ds=getTransitionProps({style:vs,timeout:bs,easing:cs},{mode:"exit"});Ls.style.webkitTransition=is.transitions.create("opacity",Ds),Ls.style.transition=is.transitions.create("opacity",Ds),ms&&ms(Ls)}),As=xs(gs),Ms=Ls=>{ss&&ss(Cs.current,Ls)};return jsxRuntimeExports.jsx(Ss,_extends$a({appear:as,in:us,nodeRef:Cs,onEnter:ks,onEntered:Is,onEntering:ws,onExit:Rs,onExited:As,onExiting:Ts,addEndListener:Ms,timeout:bs},$s,{children:(Ls,Ds)=>reactExports.cloneElement(ls,_extends$a({style:_extends$a({opacity:0,visibility:Ls==="exited"&&!us?"hidden":void 0},styles$2[Ls],vs,ls.props.style),ref:Es},Ds))}))}),Fade$1=Fade;function getBackdropUtilityClass(ts){return generateUtilityClass("MuiBackdrop",ts)}generateUtilityClasses("MuiBackdrop",["root","invisible"]);const _excluded$1e=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],useUtilityClasses$10=ts=>{const{classes:ns,invisible:rs}=ts;return composeClasses({root:["root",rs&&"invisible"]},getBackdropUtilityClass,ns)},BackdropRoot=styled$2("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(ts,ns)=>{const{ownerState:rs}=ts;return[ns.root,rs.invisible&&ns.invisible]}})(({ownerState:ts})=>_extends$a({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},ts.invisible&&{backgroundColor:"transparent"})),Backdrop=reactExports.forwardRef(function(ns,rs){var is,os,ss;const as=useDefaultProps({props:ns,name:"MuiBackdrop"}),{children:ls,className:cs,component:us="div",components:ds={},componentsProps:ps={},invisible:hs=!1,open:ms,slotProps:gs={},slots:ys={},TransitionComponent:vs=Fade$1,transitionDuration:bs}=as,Ss=_objectWithoutPropertiesLoose$3(as,_excluded$1e),$s=_extends$a({},as,{component:us,invisible:hs}),Cs=useUtilityClasses$10($s),Es=(is=gs.root)!=null?is:ps.root;return jsxRuntimeExports.jsx(vs,_extends$a({in:ms,timeout:bs},Ss,{children:jsxRuntimeExports.jsx(BackdropRoot,_extends$a({"aria-hidden":!0},Es,{as:(os=(ss=ys.root)!=null?ss:ds.Root)!=null?os:us,className:clsx(Cs.root,cs,Es==null?void 0:Es.className),ownerState:_extends$a({},$s,Es==null?void 0:Es.ownerState),classes:Cs,ref:rs,children:ls}))}))}),Backdrop$1=Backdrop,boxClasses=generateUtilityClasses("MuiBox",["root"]),boxClasses$1=boxClasses,defaultTheme$2=createTheme(),Box=createBox({themeId:THEME_ID,defaultTheme:defaultTheme$2,defaultClassName:boxClasses$1.root,generateClassName:ClassNameGenerator$1.generate}),Box$1=Box;function getButtonUtilityClass(ts){return generateUtilityClass("MuiButton",ts)}const buttonClasses=generateUtilityClasses("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),buttonClasses$1=buttonClasses,ButtonGroupContext=reactExports.createContext({}),ButtonGroupContext$1=ButtonGroupContext,ButtonGroupButtonContext=reactExports.createContext(void 0),ButtonGroupButtonContext$1=ButtonGroupButtonContext,_excluded$1d=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],useUtilityClasses$$=ts=>{const{color:ns,disableElevation:rs,fullWidth:is,size:os,variant:ss,classes:as}=ts,ls={root:["root",ss,"".concat(ss).concat(capitalize$4(ns)),"size".concat(capitalize$4(os)),"".concat(ss,"Size").concat(capitalize$4(os)),"color".concat(capitalize$4(ns)),rs&&"disableElevation",is&&"fullWidth"],label:["label"],startIcon:["icon","startIcon","iconSize".concat(capitalize$4(os))],endIcon:["icon","endIcon","iconSize".concat(capitalize$4(os))]},cs=composeClasses(ls,getButtonUtilityClass,as);return _extends$a({},as,cs)},commonIconStyles=ts=>_extends$a({},ts.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},ts.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},ts.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),ButtonRoot=styled$2(ButtonBase$1,{shouldForwardProp:ts=>rootShouldForwardProp$2(ts)||ts==="classes",name:"MuiButton",slot:"Root",overridesResolver:(ts,ns)=>{const{ownerState:rs}=ts;return[ns.root,ns[rs.variant],ns["".concat(rs.variant).concat(capitalize$4(rs.color))],ns["size".concat(capitalize$4(rs.size))],ns["".concat(rs.variant,"Size").concat(capitalize$4(rs.size))],rs.color==="inherit"&&ns.colorInherit,rs.disableElevation&&ns.disableElevation,rs.fullWidth&&ns.fullWidth]}})(({theme:ts,ownerState:ns})=>{var rs,is;const os=ts.palette.mode==="light"?ts.palette.grey[300]:ts.palette.grey[800],ss=ts.palette.mode==="light"?ts.palette.grey.A100:ts.palette.grey[700];return _extends$a({},ts.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(ts.vars||ts).shape.borderRadius,transition:ts.transitions.create(["background-color","box-shadow","border-color","color"],{duration:ts.transitions.duration.short}),"&:hover":_extends$a({textDecoration:"none",backgroundColor:ts.vars?"rgba(".concat(ts.vars.palette.text.primaryChannel," / ").concat(ts.vars.palette.action.hoverOpacity,")"):alpha_1(ts.palette.text.primary,ts.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},ns.variant==="text"&&ns.color!=="inherit"&&{backgroundColor:ts.vars?"rgba(".concat(ts.vars.palette[ns.color].mainChannel," / ").concat(ts.vars.palette.action.hoverOpacity,")"):alpha_1(ts.palette[ns.color].main,ts.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},ns.variant==="outlined"&&ns.color!=="inherit"&&{border:"1px solid ".concat((ts.vars||ts).palette[ns.color].main),backgroundColor:ts.vars?"rgba(".concat(ts.vars.palette[ns.color].mainChannel," / ").concat(ts.vars.palette.action.hoverOpacity,")"):alpha_1(ts.palette[ns.color].main,ts.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},ns.variant==="contained"&&{backgroundColor:ts.vars?ts.vars.palette.Button.inheritContainedHoverBg:ss,boxShadow:(ts.vars||ts).shadows[4],"@media (hover: none)":{boxShadow:(ts.vars||ts).shadows[2],backgroundColor:(ts.vars||ts).palette.grey[300]}},ns.variant==="contained"&&ns.color!=="inherit"&&{backgroundColor:(ts.vars||ts).palette[ns.color].dark,"@media (hover: none)":{backgroundColor:(ts.vars||ts).palette[ns.color].main}}),"&:active":_extends$a({},ns.variant==="contained"&&{boxShadow:(ts.vars||ts).shadows[8]}),["&.".concat(buttonClasses$1.focusVisible)]:_extends$a({},ns.variant==="contained"&&{boxShadow:(ts.vars||ts).shadows[6]}),["&.".concat(buttonClasses$1.disabled)]:_extends$a({color:(ts.vars||ts).palette.action.disabled},ns.variant==="outlined"&&{border:"1px solid ".concat((ts.vars||ts).palette.action.disabledBackground)},ns.variant==="contained"&&{color:(ts.vars||ts).palette.action.disabled,boxShadow:(ts.vars||ts).shadows[0],backgroundColor:(ts.vars||ts).palette.action.disabledBackground})},ns.variant==="text"&&{padding:"6px 8px"},ns.variant==="text"&&ns.color!=="inherit"&&{color:(ts.vars||ts).palette[ns.color].main},ns.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},ns.variant==="outlined"&&ns.color!=="inherit"&&{color:(ts.vars||ts).palette[ns.color].main,border:ts.vars?"1px solid rgba(".concat(ts.vars.palette[ns.color].mainChannel," / 0.5)"):"1px solid ".concat(alpha_1(ts.palette[ns.color].main,.5))},ns.variant==="contained"&&{color:ts.vars?ts.vars.palette.text.primary:(rs=(is=ts.palette).getContrastText)==null?void 0:rs.call(is,ts.palette.grey[300]),backgroundColor:ts.vars?ts.vars.palette.Button.inheritContainedBg:os,boxShadow:(ts.vars||ts).shadows[2]},ns.variant==="contained"&&ns.color!=="inherit"&&{color:(ts.vars||ts).palette[ns.color].contrastText,backgroundColor:(ts.vars||ts).palette[ns.color].main},ns.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},ns.size==="small"&&ns.variant==="text"&&{padding:"4px 5px",fontSize:ts.typography.pxToRem(13)},ns.size==="large"&&ns.variant==="text"&&{padding:"8px 11px",fontSize:ts.typography.pxToRem(15)},ns.size==="small"&&ns.variant==="outlined"&&{padding:"3px 9px",fontSize:ts.typography.pxToRem(13)},ns.size==="large"&&ns.variant==="outlined"&&{padding:"7px 21px",fontSize:ts.typography.pxToRem(15)},ns.size==="small"&&ns.variant==="contained"&&{padding:"4px 10px",fontSize:ts.typography.pxToRem(13)},ns.size==="large"&&ns.variant==="contained"&&{padding:"8px 22px",fontSize:ts.typography.pxToRem(15)},ns.fullWidth&&{width:"100%"})},({ownerState:ts})=>ts.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},["&.".concat(buttonClasses$1.focusVisible)]:{boxShadow:"none"},"&:active":{boxShadow:"none"},["&.".concat(buttonClasses$1.disabled)]:{boxShadow:"none"}}),ButtonStartIcon=styled$2("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(ts,ns)=>{const{ownerState:rs}=ts;return[ns.startIcon,ns["iconSize".concat(capitalize$4(rs.size))]]}})(({ownerState:ts})=>_extends$a({display:"inherit",marginRight:8,marginLeft:-4},ts.size==="small"&&{marginLeft:-2},commonIconStyles(ts))),ButtonEndIcon=styled$2("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(ts,ns)=>{const{ownerState:rs}=ts;return[ns.endIcon,ns["iconSize".concat(capitalize$4(rs.size))]]}})(({ownerState:ts})=>_extends$a({display:"inherit",marginRight:-4,marginLeft:8},ts.size==="small"&&{marginRight:-2},commonIconStyles(ts))),Button$1=reactExports.forwardRef(function(ns,rs){const is=reactExports.useContext(ButtonGroupContext$1),os=reactExports.useContext(ButtonGroupButtonContext$1),ss=resolveProps(is,ns),as=useDefaultProps({props:ss,name:"MuiButton"}),{children:ls,color:cs="primary",component:us="button",className:ds,disabled:ps=!1,disableElevation:hs=!1,disableFocusRipple:ms=!1,endIcon:gs,focusVisibleClassName:ys,fullWidth:vs=!1,size:bs="medium",startIcon:Ss,type:$s,variant:Cs="text"}=as,Es=_objectWithoutPropertiesLoose$3(as,_excluded$1d),xs=_extends$a({},as,{color:cs,component:us,disabled:ps,disableElevation:hs,disableFocusRipple:ms,fullWidth:vs,size:bs,type:$s,variant:Cs}),ws=useUtilityClasses$$(xs),ks=Ss&&jsxRuntimeExports.jsx(ButtonStartIcon,{className:ws.startIcon,ownerState:xs,children:Ss}),Is=gs&&jsxRuntimeExports.jsx(ButtonEndIcon,{className:ws.endIcon,ownerState:xs,children:gs}),Ts=os||"";return jsxRuntimeExports.jsxs(ButtonRoot,_extends$a({ownerState:xs,className:clsx(is.className,ws.root,ds,Ts),component:us,disabled:ps,focusRipple:!ms,focusVisibleClassName:clsx(ws.focusVisible,ys),ref:rs,type:$s},Es,{classes:ws,children:[ks,ls,Is]}))}),Button$2=Button$1;function getCardUtilityClass(ts){return generateUtilityClass("MuiCard",ts)}generateUtilityClasses("MuiCard",["root"]);const _excluded$1c=["className","raised"],useUtilityClasses$_=ts=>{const{classes:ns}=ts;return composeClasses({root:["root"]},getCardUtilityClass,ns)},CardRoot=styled$2(Paper$1,{name:"MuiCard",slot:"Root",overridesResolver:(ts,ns)=>ns.root})(()=>({overflow:"hidden"})),Card=reactExports.forwardRef(function(ns,rs){const is=useDefaultProps({props:ns,name:"MuiCard"}),{className:os,raised:ss=!1}=is,as=_objectWithoutPropertiesLoose$3(is,_excluded$1c),ls=_extends$a({},is,{raised:ss}),cs=useUtilityClasses$_(ls);return jsxRuntimeExports.jsx(CardRoot,_extends$a({className:clsx(cs.root,os),elevation:ss?8:void 0,ref:rs,ownerState:ls},as))}),Card$1=Card;function getSwitchBaseUtilityClass(ts){return generateUtilityClass("PrivateSwitchBase",ts)}generateUtilityClasses("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const _excluded$1b=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],useUtilityClasses$Z=ts=>{const{classes:ns,checked:rs,disabled:is,edge:os}=ts,ss={root:["root",rs&&"checked",is&&"disabled",os&&"edge".concat(capitalize$4(os))],input:["input"]};return composeClasses(ss,getSwitchBaseUtilityClass,ns)},SwitchBaseRoot=styled$2(ButtonBase$1)(({ownerState:ts})=>_extends$a({padding:9,borderRadius:"50%"},ts.edge==="start"&&{marginLeft:ts.size==="small"?-3:-12},ts.edge==="end"&&{marginRight:ts.size==="small"?-3:-12})),SwitchBaseInput=styled$2("input",{shouldForwardProp:rootShouldForwardProp$2})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),SwitchBase=reactExports.forwardRef(function(ns,rs){const{autoFocus:is,checked:os,checkedIcon:ss,className:as,defaultChecked:ls,disabled:cs,disableFocusRipple:us=!1,edge:ds=!1,icon:ps,id:hs,inputProps:ms,inputRef:gs,name:ys,onBlur:vs,onChange:bs,onFocus:Ss,readOnly:$s,required:Cs=!1,tabIndex:Es,type:xs,value:ws}=ns,ks=_objectWithoutPropertiesLoose$3(ns,_excluded$1b),[Is,Ts]=useControlled({controlled:os,default:!!ls,name:"SwitchBase",state:"checked"}),Rs=useFormControl(),As=Ws=>{Ss&&Ss(Ws),Rs&&Rs.onFocus&&Rs.onFocus(Ws)},Ms=Ws=>{vs&&vs(Ws),Rs&&Rs.onBlur&&Rs.onBlur(Ws)},Ls=Ws=>{if(Ws.nativeEvent.defaultPrevented)return;const Os=Ws.target.checked;Ts(Os),bs&&bs(Ws,Os)};let Ds=cs;Rs&&typeof Ds>"u"&&(Ds=Rs.disabled);const Fs=xs==="checkbox"||xs==="radio",Vs=_extends$a({},ns,{checked:Is,disabled:Ds,disableFocusRipple:us,edge:ds}),Bs=useUtilityClasses$Z(Vs);return jsxRuntimeExports.jsxs(SwitchBaseRoot,_extends$a({component:"span",className:clsx(Bs.root,as),centerRipple:!0,focusRipple:!us,disabled:Ds,tabIndex:null,role:void 0,onFocus:As,onBlur:Ms,ownerState:Vs,ref:rs},ks,{children:[jsxRuntimeExports.jsx(SwitchBaseInput,_extends$a({autoFocus:is,checked:os,defaultChecked:ls,className:Bs.input,disabled:Ds,id:Fs?hs:void 0,name:ys,onChange:Ls,readOnly:$s,ref:gs,required:Cs,ownerState:Vs,tabIndex:Es,type:xs},xs==="checkbox"&&ws===void 0?{}:{value:ws},ms)),Is?ss:ps]}))}),SwitchBase$1=SwitchBase,CheckBoxOutlineBlankIcon=createSvgIcon$1(jsxRuntimeExports.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),CheckBoxIcon=createSvgIcon$1(jsxRuntimeExports.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),IndeterminateCheckBoxIcon=createSvgIcon$1(jsxRuntimeExports.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function getCheckboxUtilityClass(ts){return generateUtilityClass("MuiCheckbox",ts)}const checkboxClasses=generateUtilityClasses("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),checkboxClasses$1=checkboxClasses,_excluded$1a=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],useUtilityClasses$Y=ts=>{const{classes:ns,indeterminate:rs,color:is,size:os}=ts,ss={root:["root",rs&&"indeterminate","color".concat(capitalize$4(is)),"size".concat(capitalize$4(os))]},as=composeClasses(ss,getCheckboxUtilityClass,ns);return _extends$a({},ns,as)},CheckboxRoot=styled$2(SwitchBase$1,{shouldForwardProp:ts=>rootShouldForwardProp$2(ts)||ts==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(ts,ns)=>{const{ownerState:rs}=ts;return[ns.root,rs.indeterminate&&ns.indeterminate,ns["size".concat(capitalize$4(rs.size))],rs.color!=="default"&&ns["color".concat(capitalize$4(rs.color))]]}})(({theme:ts,ownerState:ns})=>_extends$a({color:(ts.vars||ts).palette.text.secondary},!ns.disableRipple&&{"&:hover":{backgroundColor:ts.vars?"rgba(".concat(ns.color==="default"?ts.vars.palette.action.activeChannel:ts.vars.palette[ns.color].mainChannel," / ").concat(ts.vars.palette.action.hoverOpacity,")"):alpha_1(ns.color==="default"?ts.palette.action.active:ts.palette[ns.color].main,ts.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},ns.color!=="default"&&{["&.".concat(checkboxClasses$1.checked,", &.").concat(checkboxClasses$1.indeterminate)]:{color:(ts.vars||ts).palette[ns.color].main},["&.".concat(checkboxClasses$1.disabled)]:{color:(ts.vars||ts).palette.action.disabled}})),defaultCheckedIcon$1=jsxRuntimeExports.jsx(CheckBoxIcon,{}),defaultIcon$1=jsxRuntimeExports.jsx(CheckBoxOutlineBlankIcon,{}),defaultIndeterminateIcon=jsxRuntimeExports.jsx(IndeterminateCheckBoxIcon,{}),Checkbox=reactExports.forwardRef(function(ns,rs){var is,os;const ss=useDefaultProps({props:ns,name:"MuiCheckbox"}),{checkedIcon:as=defaultCheckedIcon$1,color:ls="primary",icon:cs=defaultIcon$1,indeterminate:us=!1,indeterminateIcon:ds=defaultIndeterminateIcon,inputProps:ps,size:hs="medium",className:ms}=ss,gs=_objectWithoutPropertiesLoose$3(ss,_excluded$1a),ys=us?ds:cs,vs=us?ds:as,bs=_extends$a({},ss,{color:ls,indeterminate:us,size:hs}),Ss=useUtilityClasses$Y(bs);return jsxRuntimeExports.jsx(CheckboxRoot,_extends$a({type:"checkbox",inputProps:_extends$a({"data-indeterminate":us},ps),icon:reactExports.cloneElement(ys,{fontSize:(is=ys.props.fontSize)!=null?is:hs}),checkedIcon:reactExports.cloneElement(vs,{fontSize:(os=vs.props.fontSize)!=null?os:hs}),ownerState:bs,ref:rs,className:clsx(Ss.root,ms)},gs,{classes:Ss}))}),Checkbox$1=Checkbox;function getCircularProgressUtilityClass(ts){return generateUtilityClass("MuiCircularProgress",ts)}generateUtilityClasses("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const _excluded$19=["className","color","disableShrink","size","style","thickness","value","variant"];let _$3=ts=>ts,_t$2,_t2$1,_t3$1,_t4$1;const SIZE=44;var em;const circularRotateKeyframe=keyframes(_t$2||(_t$2=_$3(em||(em=zl(["\n  0% {\n    transform: rotate(0deg);\n  }\n\n  100% {\n    transform: rotate(360deg);\n  }\n"])))));var tm;const circularDashKeyframe=keyframes(_t2$1||(_t2$1=_$3(tm||(tm=zl(["\n  0% {\n    stroke-dasharray: 1px, 200px;\n    stroke-dashoffset: 0;\n  }\n\n  50% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -15px;\n  }\n\n  100% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -125px;\n  }\n"]))))),useUtilityClasses$X=ts=>{const{classes:ns,variant:rs,color:is,disableShrink:os}=ts,ss={root:["root",rs,"color".concat(capitalize$4(is))],svg:["svg"],circle:["circle","circle".concat(capitalize$4(rs)),os&&"circleDisableShrink"]};return composeClasses(ss,getCircularProgressUtilityClass,ns)};var nm;const CircularProgressRoot=styled$2("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(ts,ns)=>{const{ownerState:rs}=ts;return[ns.root,ns[rs.variant],ns["color".concat(capitalize$4(rs.color))]]}})(({ownerState:ts,theme:ns})=>_extends$a({display:"inline-block"},ts.variant==="determinate"&&{transition:ns.transitions.create("transform")},ts.color!=="inherit"&&{color:(ns.vars||ns).palette[ts.color].main}),({ownerState:ts})=>ts.variant==="indeterminate"&&css$2(_t3$1||(_t3$1=_$3(nm||(nm=zl(["\n      animation: "," 1.4s linear infinite;\n    "])),0)),circularRotateKeyframe)),CircularProgressSVG=styled$2("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(ts,ns)=>ns.svg})({display:"block"});var rm;const CircularProgressCircle=styled$2("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(ts,ns)=>{const{ownerState:rs}=ts;return[ns.circle,ns["circle".concat(capitalize$4(rs.variant))],rs.disableShrink&&ns.circleDisableShrink]}})(({ownerState:ts,theme:ns})=>_extends$a({stroke:"currentColor"},ts.variant==="determinate"&&{transition:ns.transitions.create("stroke-dashoffset")},ts.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:ts})=>ts.variant==="indeterminate"&&!ts.disableShrink&&css$2(_t4$1||(_t4$1=_$3(rm||(rm=zl(["\n      animation: "," 1.4s ease-in-out infinite;\n    "])),0)),circularDashKeyframe)),CircularProgress=reactExports.forwardRef(function(ns,rs){const is=useDefaultProps({props:ns,name:"MuiCircularProgress"}),{className:os,color:ss="primary",disableShrink:as=!1,size:ls=40,style:cs,thickness:us=3.6,value:ds=0,variant:ps="indeterminate"}=is,hs=_objectWithoutPropertiesLoose$3(is,_excluded$19),ms=_extends$a({},is,{color:ss,disableShrink:as,size:ls,thickness:us,value:ds,variant:ps}),gs=useUtilityClasses$X(ms),ys={},vs={},bs={};if(ps==="determinate"){const Ss=2*Math.PI*((SIZE-us)/2);ys.strokeDasharray=Ss.toFixed(3),bs["aria-valuenow"]=Math.round(ds),ys.strokeDashoffset="".concat(((100-ds)/100*Ss).toFixed(3),"px"),vs.transform="rotate(-90deg)"}return jsxRuntimeExports.jsx(CircularProgressRoot,_extends$a({className:clsx(gs.root,os),style:_extends$a({width:ls,height:ls},vs,cs),ownerState:ms,ref:rs,role:"progressbar"},bs,hs,{children:jsxRuntimeExports.jsx(CircularProgressSVG,{className:gs.svg,ownerState:ms,viewBox:"".concat(SIZE/2," ").concat(SIZE/2," ").concat(SIZE," ").concat(SIZE),children:jsxRuntimeExports.jsx(CircularProgressCircle,{className:gs.circle,style:ys,ownerState:ms,cx:SIZE,cy:SIZE,r:(SIZE-us)/2,fill:"none",strokeWidth:us})})}))}),CircularProgress$1=CircularProgress;function mapEventPropToEvent(ts){return ts.substring(2).toLowerCase()}function clickedRootScrollbar(ts,ns){return ns.documentElement.clientWidth<ts.clientX||ns.documentElement.clientHeight<ts.clientY}function ClickAwayListener(ts){const{children:ns,disableReactTree:rs=!1,mouseEvent:is="onClick",onClickAway:os,touchEvent:ss="onTouchEnd"}=ts,as=reactExports.useRef(!1),ls=reactExports.useRef(null),cs=reactExports.useRef(!1),us=reactExports.useRef(!1);reactExports.useEffect(()=>(setTimeout(()=>{cs.current=!0},0),()=>{cs.current=!1}),[]);const ds=useForkRef(ns.ref,ls),ps=useEventCallback(gs=>{const ys=us.current;us.current=!1;const vs=ownerDocument(ls.current);if(!cs.current||!ls.current||"clientX"in gs&&clickedRootScrollbar(gs,vs))return;if(as.current){as.current=!1;return}let bs;gs.composedPath?bs=gs.composedPath().indexOf(ls.current)>-1:bs=!vs.documentElement.contains(gs.target)||ls.current.contains(gs.target),!bs&&(rs||!ys)&&os(gs)}),hs=gs=>ys=>{us.current=!0;const vs=ns.props[gs];vs&&vs(ys)},ms={ref:ds};return ss!==!1&&(ms[ss]=hs(ss)),reactExports.useEffect(()=>{if(ss!==!1){const gs=mapEventPropToEvent(ss),ys=ownerDocument(ls.current),vs=()=>{as.current=!0};return ys.addEventListener(gs,ps),ys.addEventListener("touchmove",vs),()=>{ys.removeEventListener(gs,ps),ys.removeEventListener("touchmove",vs)}}},[ps,ss]),is!==!1&&(ms[is]=hs(is)),reactExports.useEffect(()=>{if(is!==!1){const gs=mapEventPropToEvent(is),ys=ownerDocument(ls.current);return ys.addEventListener(gs,ps),()=>{ys.removeEventListener(gs,ps)}}},[ps,is]),jsxRuntimeExports.jsx(reactExports.Fragment,{children:reactExports.cloneElement(ns,ms)})}const Container=createContainer({createStyledComponent:styled$2("div",{name:"MuiContainer",slot:"Root",overridesResolver:(ts,ns)=>{const{ownerState:rs}=ts;return[ns.root,ns["maxWidth".concat(capitalize$4(String(rs.maxWidth)))],rs.fixed&&ns.fixed,rs.disableGutters&&ns.disableGutters]}}),useThemeProps:ts=>useDefaultProps({props:ts,name:"MuiContainer"})}),Container$1=Container;function isOverflowing(ts){const ns=ownerDocument(ts);return ns.body===ts?ownerWindow(ts).innerWidth>ns.documentElement.clientWidth:ts.scrollHeight>ts.clientHeight}function ariaHidden(ts,ns){ns?ts.setAttribute("aria-hidden","true"):ts.removeAttribute("aria-hidden")}function getPaddingRight(ts){return parseInt(ownerWindow(ts).getComputedStyle(ts).paddingRight,10)||0}function isAriaHiddenForbiddenOnElement(ts){const rs=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(ts.tagName)!==-1,is=ts.tagName==="INPUT"&&ts.getAttribute("type")==="hidden";return rs||is}function ariaHiddenSiblings(ts,ns,rs,is,os){const ss=[ns,rs,...is];[].forEach.call(ts.children,as=>{const ls=ss.indexOf(as)===-1,cs=!isAriaHiddenForbiddenOnElement(as);ls&&cs&&ariaHidden(as,os)})}function findIndexOf(ts,ns){let rs=-1;return ts.some((is,os)=>ns(is)?(rs=os,!0):!1),rs}function handleContainer(ts,ns){const rs=[],is=ts.container;if(!ns.disableScrollLock){if(isOverflowing(is)){const as=getScrollbarSize(ownerDocument(is));rs.push({value:is.style.paddingRight,property:"padding-right",el:is}),is.style.paddingRight="".concat(getPaddingRight(is)+as,"px");const ls=ownerDocument(is).querySelectorAll(".mui-fixed");[].forEach.call(ls,cs=>{rs.push({value:cs.style.paddingRight,property:"padding-right",el:cs}),cs.style.paddingRight="".concat(getPaddingRight(cs)+as,"px")})}let ss;if(is.parentNode instanceof DocumentFragment)ss=ownerDocument(is).body;else{const as=is.parentElement,ls=ownerWindow(is);ss=(as==null?void 0:as.nodeName)==="HTML"&&ls.getComputedStyle(as).overflowY==="scroll"?as:is}rs.push({value:ss.style.overflow,property:"overflow",el:ss},{value:ss.style.overflowX,property:"overflow-x",el:ss},{value:ss.style.overflowY,property:"overflow-y",el:ss}),ss.style.overflow="hidden"}return()=>{rs.forEach(({value:ss,el:as,property:ls})=>{ss?as.style.setProperty(ls,ss):as.style.removeProperty(ls)})}}function getHiddenSiblings(ts){const ns=[];return[].forEach.call(ts.children,rs=>{rs.getAttribute("aria-hidden")==="true"&&ns.push(rs)}),ns}class ModalManager{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(ns,rs){let is=this.modals.indexOf(ns);if(is!==-1)return is;is=this.modals.length,this.modals.push(ns),ns.modalRef&&ariaHidden(ns.modalRef,!1);const os=getHiddenSiblings(rs);ariaHiddenSiblings(rs,ns.mount,ns.modalRef,os,!0);const ss=findIndexOf(this.containers,as=>as.container===rs);return ss!==-1?(this.containers[ss].modals.push(ns),is):(this.containers.push({modals:[ns],container:rs,restore:null,hiddenSiblings:os}),is)}mount(ns,rs){const is=findIndexOf(this.containers,ss=>ss.modals.indexOf(ns)!==-1),os=this.containers[is];os.restore||(os.restore=handleContainer(os,rs))}remove(ns,rs=!0){const is=this.modals.indexOf(ns);if(is===-1)return is;const os=findIndexOf(this.containers,as=>as.modals.indexOf(ns)!==-1),ss=this.containers[os];if(ss.modals.splice(ss.modals.indexOf(ns),1),this.modals.splice(is,1),ss.modals.length===0)ss.restore&&ss.restore(),ns.modalRef&&ariaHidden(ns.modalRef,rs),ariaHiddenSiblings(ss.container,ns.mount,ns.modalRef,ss.hiddenSiblings,!1),this.containers.splice(os,1);else{const as=ss.modals[ss.modals.length-1];as.modalRef&&ariaHidden(as.modalRef,!1)}return is}isTopModal(ns){return this.modals.length>0&&this.modals[this.modals.length-1]===ns}}const candidatesSelector=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function getTabIndex(ts){const ns=parseInt(ts.getAttribute("tabindex")||"",10);return Number.isNaN(ns)?ts.contentEditable==="true"||(ts.nodeName==="AUDIO"||ts.nodeName==="VIDEO"||ts.nodeName==="DETAILS")&&ts.getAttribute("tabindex")===null?0:ts.tabIndex:ns}function isNonTabbableRadio(ts){if(ts.tagName!=="INPUT"||ts.type!=="radio"||!ts.name)return!1;const ns=is=>ts.ownerDocument.querySelector('input[type="radio"]'.concat(is));let rs=ns('[name="'.concat(ts.name,'"]:checked'));return rs||(rs=ns('[name="'.concat(ts.name,'"]'))),rs!==ts}function isNodeMatchingSelectorFocusable(ts){return!(ts.disabled||ts.tagName==="INPUT"&&ts.type==="hidden"||isNonTabbableRadio(ts))}function defaultGetTabbable(ts){const ns=[],rs=[];return Array.from(ts.querySelectorAll(candidatesSelector)).forEach((is,os)=>{const ss=getTabIndex(is);ss===-1||!isNodeMatchingSelectorFocusable(is)||(ss===0?ns.push(is):rs.push({documentOrder:os,tabIndex:ss,node:is}))}),rs.sort((is,os)=>is.tabIndex===os.tabIndex?is.documentOrder-os.documentOrder:is.tabIndex-os.tabIndex).map(is=>is.node).concat(ns)}function defaultIsEnabled(){return!0}function FocusTrap(ts){const{children:ns,disableAutoFocus:rs=!1,disableEnforceFocus:is=!1,disableRestoreFocus:os=!1,getTabbable:ss=defaultGetTabbable,isEnabled:as=defaultIsEnabled,open:ls}=ts,cs=reactExports.useRef(!1),us=reactExports.useRef(null),ds=reactExports.useRef(null),ps=reactExports.useRef(null),hs=reactExports.useRef(null),ms=reactExports.useRef(!1),gs=reactExports.useRef(null),ys=useForkRef(ns.ref,gs),vs=reactExports.useRef(null);reactExports.useEffect(()=>{!ls||!gs.current||(ms.current=!rs)},[rs,ls]),reactExports.useEffect(()=>{if(!ls||!gs.current)return;const $s=ownerDocument(gs.current);return gs.current.contains($s.activeElement)||(gs.current.hasAttribute("tabIndex")||gs.current.setAttribute("tabIndex","-1"),ms.current&&gs.current.focus()),()=>{os||(ps.current&&ps.current.focus&&(cs.current=!0,ps.current.focus()),ps.current=null)}},[ls]),reactExports.useEffect(()=>{if(!ls||!gs.current)return;const $s=ownerDocument(gs.current),Cs=ws=>{vs.current=ws,!(is||!as()||ws.key!=="Tab")&&$s.activeElement===gs.current&&ws.shiftKey&&(cs.current=!0,ds.current&&ds.current.focus())},Es=()=>{const ws=gs.current;if(ws===null)return;if(!$s.hasFocus()||!as()||cs.current){cs.current=!1;return}if(ws.contains($s.activeElement)||is&&$s.activeElement!==us.current&&$s.activeElement!==ds.current)return;if($s.activeElement!==hs.current)hs.current=null;else if(hs.current!==null)return;if(!ms.current)return;let ks=[];if(($s.activeElement===us.current||$s.activeElement===ds.current)&&(ks=ss(gs.current)),ks.length>0){var Is,Ts;const Rs=!!((Is=vs.current)!=null&&Is.shiftKey&&((Ts=vs.current)==null?void 0:Ts.key)==="Tab"),As=ks[0],Ms=ks[ks.length-1];typeof As!="string"&&typeof Ms!="string"&&(Rs?Ms.focus():As.focus())}else ws.focus()};$s.addEventListener("focusin",Es),$s.addEventListener("keydown",Cs,!0);const xs=setInterval(()=>{$s.activeElement&&$s.activeElement.tagName==="BODY"&&Es()},50);return()=>{clearInterval(xs),$s.removeEventListener("focusin",Es),$s.removeEventListener("keydown",Cs,!0)}},[rs,is,os,as,ls,ss]);const bs=$s=>{ps.current===null&&(ps.current=$s.relatedTarget),ms.current=!0,hs.current=$s.target;const Cs=ns.props.onFocus;Cs&&Cs($s)},Ss=$s=>{ps.current===null&&(ps.current=$s.relatedTarget),ms.current=!0};return jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{tabIndex:ls?0:-1,onFocus:Ss,ref:us,"data-testid":"sentinelStart"}),reactExports.cloneElement(ns,{ref:ys,onFocus:bs}),jsxRuntimeExports.jsx("div",{tabIndex:ls?0:-1,onFocus:Ss,ref:ds,"data-testid":"sentinelEnd"})]})}function getContainer(ts){return typeof ts=="function"?ts():ts}function getHasTransition(ts){return ts?ts.props.hasOwnProperty("in"):!1}const defaultManager=new ModalManager;function useModal(ts){const{container:ns,disableEscapeKeyDown:rs=!1,disableScrollLock:is=!1,manager:os=defaultManager,closeAfterTransition:ss=!1,onTransitionEnter:as,onTransitionExited:ls,children:cs,onClose:us,open:ds,rootRef:ps}=ts,hs=reactExports.useRef({}),ms=reactExports.useRef(null),gs=reactExports.useRef(null),ys=useForkRef(gs,ps),[vs,bs]=reactExports.useState(!ds),Ss=getHasTransition(cs);let $s=!0;(ts["aria-hidden"]==="false"||ts["aria-hidden"]===!1)&&($s=!1);const Cs=()=>ownerDocument(ms.current),Es=()=>(hs.current.modalRef=gs.current,hs.current.mount=ms.current,hs.current),xs=()=>{os.mount(Es(),{disableScrollLock:is}),gs.current&&(gs.current.scrollTop=0)},ws=useEventCallback(()=>{const Fs=getContainer(ns)||Cs().body;os.add(Es(),Fs),gs.current&&xs()}),ks=reactExports.useCallback(()=>os.isTopModal(Es()),[os]),Is=useEventCallback(Fs=>{ms.current=Fs,Fs&&(ds&&ks()?xs():gs.current&&ariaHidden(gs.current,$s))}),Ts=reactExports.useCallback(()=>{os.remove(Es(),$s)},[$s,os]);reactExports.useEffect(()=>()=>{Ts()},[Ts]),reactExports.useEffect(()=>{ds?ws():(!Ss||!ss)&&Ts()},[ds,Ts,Ss,ss,ws]);const Rs=Fs=>Vs=>{var Bs;(Bs=Fs.onKeyDown)==null||Bs.call(Fs,Vs),!(Vs.key!=="Escape"||Vs.which===229||!ks())&&(rs||(Vs.stopPropagation(),us&&us(Vs,"escapeKeyDown")))},As=Fs=>Vs=>{var Bs;(Bs=Fs.onClick)==null||Bs.call(Fs,Vs),Vs.target===Vs.currentTarget&&us&&us(Vs,"backdropClick")};return{getRootProps:(Fs={})=>{const Vs=extractEventHandlers$1(ts);delete Vs.onTransitionEnter,delete Vs.onTransitionExited;const Bs=_extends$a({},Vs,Fs);return _extends$a({role:"presentation"},Bs,{onKeyDown:Rs(Bs),ref:ys})},getBackdropProps:(Fs={})=>{const Vs=Fs;return _extends$a({"aria-hidden":!0},Vs,{onClick:As(Vs),open:ds})},getTransitionProps:()=>{const Fs=()=>{bs(!1),as&&as()},Vs=()=>{bs(!0),ls&&ls(),ss&&Ts()};return{onEnter:createChainedFunction(Fs,cs==null?void 0:cs.props.onEnter),onExited:createChainedFunction(Vs,cs==null?void 0:cs.props.onExited)}},rootRef:ys,portalRef:Is,isTopModal:ks,exited:vs,hasTransition:Ss}}function getModalUtilityClass(ts){return generateUtilityClass("MuiModal",ts)}generateUtilityClasses("MuiModal",["root","hidden","backdrop"]);const _excluded$18=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],useUtilityClasses$W=ts=>{const{open:ns,exited:rs,classes:is}=ts;return composeClasses({root:["root",!ns&&rs&&"hidden"],backdrop:["backdrop"]},getModalUtilityClass,is)},ModalRoot=styled$2("div",{name:"MuiModal",slot:"Root",overridesResolver:(ts,ns)=>{const{ownerState:rs}=ts;return[ns.root,!rs.open&&rs.exited&&ns.hidden]}})(({theme:ts,ownerState:ns})=>_extends$a({position:"fixed",zIndex:(ts.vars||ts).zIndex.modal,right:0,bottom:0,top:0,left:0},!ns.open&&ns.exited&&{visibility:"hidden"})),ModalBackdrop=styled$2(Backdrop$1,{name:"MuiModal",slot:"Backdrop",overridesResolver:(ts,ns)=>ns.backdrop})({zIndex:-1}),Modal=reactExports.forwardRef(function(ns,rs){var is,os,ss,as,ls,cs;const us=useDefaultProps({name:"MuiModal",props:ns}),{BackdropComponent:ds=ModalBackdrop,BackdropProps:ps,className:hs,closeAfterTransition:ms=!1,children:gs,container:ys,component:vs,components:bs={},componentsProps:Ss={},disableAutoFocus:$s=!1,disableEnforceFocus:Cs=!1,disableEscapeKeyDown:Es=!1,disablePortal:xs=!1,disableRestoreFocus:ws=!1,disableScrollLock:ks=!1,hideBackdrop:Is=!1,keepMounted:Ts=!1,onBackdropClick:Rs,open:As,slotProps:Ms,slots:Ls}=us,Ds=_objectWithoutPropertiesLoose$3(us,_excluded$18),Fs=_extends$a({},us,{closeAfterTransition:ms,disableAutoFocus:$s,disableEnforceFocus:Cs,disableEscapeKeyDown:Es,disablePortal:xs,disableRestoreFocus:ws,disableScrollLock:ks,hideBackdrop:Is,keepMounted:Ts}),{getRootProps:Vs,getBackdropProps:Bs,getTransitionProps:Ws,portalRef:Os,isTopModal:Nl,exited:$a,hasTransition:Ps}=useModal(_extends$a({},Fs,{rootRef:rs})),Ys=_extends$a({},Fs,{exited:$a}),Zs=useUtilityClasses$W(Ys),Us={};if(gs.props.tabIndex===void 0&&(Us.tabIndex="-1"),Ps){const{onEnter:wl,onExited:Tl}=Ws();Us.onEnter=wl,Us.onExited=Tl}const Ol=(is=(os=Ls==null?void 0:Ls.root)!=null?os:bs.Root)!=null?is:ModalRoot,qs=(ss=(as=Ls==null?void 0:Ls.backdrop)!=null?as:bs.Backdrop)!=null?ss:ds,Fl=(ls=Ms==null?void 0:Ms.root)!=null?ls:Ss.root,Ll=(cs=Ms==null?void 0:Ms.backdrop)!=null?cs:Ss.backdrop,$l=useSlotProps$1({elementType:Ol,externalSlotProps:Fl,externalForwardedProps:Ds,getSlotProps:Vs,additionalProps:{ref:rs,as:vs},ownerState:Ys,className:clsx(hs,Fl==null?void 0:Fl.className,Zs==null?void 0:Zs.root,!Ys.open&&Ys.exited&&(Zs==null?void 0:Zs.hidden))}),Cl=useSlotProps$1({elementType:qs,externalSlotProps:Ll,additionalProps:ps,getSlotProps:wl=>Bs(_extends$a({},wl,{onClick:Tl=>{Rs&&Rs(Tl),wl!=null&&wl.onClick&&wl.onClick(Tl)}})),className:clsx(Ll==null?void 0:Ll.className,ps==null?void 0:ps.className,Zs==null?void 0:Zs.backdrop),ownerState:Ys});return!Ts&&!As&&(!Ps||$a)?null:jsxRuntimeExports.jsx(Portal$1,{ref:Os,container:ys,disablePortal:xs,children:jsxRuntimeExports.jsxs(Ol,_extends$a({},$l,{children:[!Is&&ds?jsxRuntimeExports.jsx(qs,_extends$a({},Cl)):null,jsxRuntimeExports.jsx(FocusTrap,{disableEnforceFocus:Cs,disableAutoFocus:$s,disableRestoreFocus:ws,isEnabled:Nl,open:As,children:reactExports.cloneElement(gs,Us)})]}))})}),Modal$1=Modal;function getDialogUtilityClass(ts){return generateUtilityClass("MuiDialog",ts)}const dialogClasses=generateUtilityClasses("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),dialogClasses$1=dialogClasses,DialogContext=reactExports.createContext({}),DialogContext$1=DialogContext,_excluded$17=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],DialogBackdrop=styled$2(Backdrop$1,{name:"MuiDialog",slot:"Backdrop",overrides:(ts,ns)=>ns.backdrop})({zIndex:-1}),useUtilityClasses$V=ts=>{const{classes:ns,scroll:rs,maxWidth:is,fullWidth:os,fullScreen:ss}=ts,as={root:["root"],container:["container","scroll".concat(capitalize$4(rs))],paper:["paper","paperScroll".concat(capitalize$4(rs)),"paperWidth".concat(capitalize$4(String(is))),os&&"paperFullWidth",ss&&"paperFullScreen"]};return composeClasses(as,getDialogUtilityClass,ns)},DialogRoot=styled$2(Modal$1,{name:"MuiDialog",slot:"Root",overridesResolver:(ts,ns)=>ns.root})({"@media print":{position:"absolute !important"}}),DialogContainer=styled$2("div",{name:"MuiDialog",slot:"Container",overridesResolver:(ts,ns)=>{const{ownerState:rs}=ts;return[ns.container,ns["scroll".concat(capitalize$4(rs.scroll))]]}})(({ownerState:ts})=>_extends$a({height:"100%","@media print":{height:"auto"},outline:0},ts.scroll==="paper"&&{display:"flex",justifyContent:"center",alignItems:"center"},ts.scroll==="body"&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})),DialogPaper=styled$2(Paper$1,{name:"MuiDialog",slot:"Paper",overridesResolver:(ts,ns)=>{const{ownerState:rs}=ts;return[ns.paper,ns["scrollPaper".concat(capitalize$4(rs.scroll))],ns["paperWidth".concat(capitalize$4(String(rs.maxWidth)))],rs.fullWidth&&ns.paperFullWidth,rs.fullScreen&&ns.paperFullScreen]}})(({theme:ts,ownerState:ns})=>_extends$a({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},ns.scroll==="paper"&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},ns.scroll==="body"&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!ns.maxWidth&&{maxWidth:"calc(100% - 64px)"},ns.maxWidth==="xs"&&{maxWidth:ts.breakpoints.unit==="px"?Math.max(ts.breakpoints.values.xs,444):"max(".concat(ts.breakpoints.values.xs).concat(ts.breakpoints.unit,", 444px)"),["&.".concat(dialogClasses$1.paperScrollBody)]:{[ts.breakpoints.down(Math.max(ts.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}},ns.maxWidth&&ns.maxWidth!=="xs"&&{maxWidth:"".concat(ts.breakpoints.values[ns.maxWidth]).concat(ts.breakpoints.unit),["&.".concat(dialogClasses$1.paperScrollBody)]:{[ts.breakpoints.down(ts.breakpoints.values[ns.maxWidth]+32*2)]:{maxWidth:"calc(100% - 64px)"}}},ns.fullWidth&&{width:"calc(100% - 64px)"},ns.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,["&.".concat(dialogClasses$1.paperScrollBody)]:{margin:0,maxWidth:"100%"}})),Dialog=reactExports.forwardRef(function(ns,rs){const is=useDefaultProps({props:ns,name:"MuiDialog"}),os=useTheme$1(),ss={enter:os.transitions.duration.enteringScreen,exit:os.transitions.duration.leavingScreen},{"aria-describedby":as,"aria-labelledby":ls,BackdropComponent:cs,BackdropProps:us,children:ds,className:ps,disableEscapeKeyDown:hs=!1,fullScreen:ms=!1,fullWidth:gs=!1,maxWidth:ys="sm",onBackdropClick:vs,onClick:bs,onClose:Ss,open:$s,PaperComponent:Cs=Paper$1,PaperProps:Es={},scroll:xs="paper",TransitionComponent:ws=Fade$1,transitionDuration:ks=ss,TransitionProps:Is}=is,Ts=_objectWithoutPropertiesLoose$3(is,_excluded$17),Rs=_extends$a({},is,{disableEscapeKeyDown:hs,fullScreen:ms,fullWidth:gs,maxWidth:ys,scroll:xs}),As=useUtilityClasses$V(Rs),Ms=reactExports.useRef(),Ls=Bs=>{Ms.current=Bs.target===Bs.currentTarget},Ds=Bs=>{bs&&bs(Bs),Ms.current&&(Ms.current=null,vs&&vs(Bs),Ss&&Ss(Bs,"backdropClick"))},Fs=useId(ls),Vs=reactExports.useMemo(()=>({titleId:Fs}),[Fs]);return jsxRuntimeExports.jsx(DialogRoot,_extends$a({className:clsx(As.root,ps),closeAfterTransition:!0,components:{Backdrop:DialogBackdrop},componentsProps:{backdrop:_extends$a({transitionDuration:ks,as:cs},us)},disableEscapeKeyDown:hs,onClose:Ss,open:$s,ref:rs,onClick:Ds,ownerState:Rs},Ts,{children:jsxRuntimeExports.jsx(ws,_extends$a({appear:!0,in:$s,timeout:ks,role:"presentation"},Is,{children:jsxRuntimeExports.jsx(DialogContainer,{className:clsx(As.container),onMouseDown:Ls,ownerState:Rs,children:jsxRuntimeExports.jsx(DialogPaper,_extends$a({as:Cs,elevation:24,role:"dialog","aria-describedby":as,"aria-labelledby":Fs},Es,{className:clsx(As.paper,Es.className),ownerState:Rs,children:jsxRuntimeExports.jsx(DialogContext$1.Provider,{value:Vs,children:ds})}))})}))}))}),Dialog$1=Dialog;function getDialogActionsUtilityClass(ts){return generateUtilityClass("MuiDialogActions",ts)}generateUtilityClasses("MuiDialogActions",["root","spacing"]);const _excluded$16=["className","disableSpacing"],useUtilityClasses$U=ts=>{const{classes:ns,disableSpacing:rs}=ts;return composeClasses({root:["root",!rs&&"spacing"]},getDialogActionsUtilityClass,ns)},DialogActionsRoot=styled$2("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(ts,ns)=>{const{ownerState:rs}=ts;return[ns.root,!rs.disableSpacing&&ns.spacing]}})(({ownerState:ts})=>_extends$a({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!ts.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})),DialogActions=reactExports.forwardRef(function(ns,rs){const is=useDefaultProps({props:ns,name:"MuiDialogActions"}),{className:os,disableSpacing:ss=!1}=is,as=_objectWithoutPropertiesLoose$3(is,_excluded$16),ls=_extends$a({},is,{disableSpacing:ss}),cs=useUtilityClasses$U(ls);return jsxRuntimeExports.jsx(DialogActionsRoot,_extends$a({className:clsx(cs.root,os),ownerState:ls,ref:rs},as))}),DialogActions$1=DialogActions;function getDialogContentUtilityClass(ts){return generateUtilityClass("MuiDialogContent",ts)}generateUtilityClasses("MuiDialogContent",["root","dividers"]);function getDialogTitleUtilityClass(ts){return generateUtilityClass("MuiDialogTitle",ts)}const dialogTitleClasses=generateUtilityClasses("MuiDialogTitle",["root"]),dialogTitleClasses$1=dialogTitleClasses,_excluded$15=["className","dividers"],useUtilityClasses$T=ts=>{const{classes:ns,dividers:rs}=ts;return composeClasses({root:["root",rs&&"dividers"]},getDialogContentUtilityClass,ns)},DialogContentRoot=styled$2("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(ts,ns)=>{const{ownerState:rs}=ts;return[ns.root,rs.dividers&&ns.dividers]}})(({theme:ts,ownerState:ns})=>_extends$a({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},ns.dividers?{padding:"16px 24px",borderTop:"1px solid ".concat((ts.vars||ts).palette.divider),borderBottom:"1px solid ".concat((ts.vars||ts).palette.divider)}:{[".".concat(dialogTitleClasses$1.root," + &")]:{paddingTop:0}})),DialogContent=reactExports.forwardRef(function(ns,rs){const is=useDefaultProps({props:ns,name:"MuiDialogContent"}),{className:os,dividers:ss=!1}=is,as=_objectWithoutPropertiesLoose$3(is,_excluded$15),ls=_extends$a({},is,{dividers:ss}),cs=useUtilityClasses$T(ls);return jsxRuntimeExports.jsx(DialogContentRoot,_extends$a({className:clsx(cs.root,os),ownerState:ls,ref:rs},as))}),DialogContent$1=DialogContent;function getDialogContentTextUtilityClass(ts){return generateUtilityClass("MuiDialogContentText",ts)}generateUtilityClasses("MuiDialogContentText",["root"]);const _excluded$14=["children","className"],useUtilityClasses$S=ts=>{const{classes:ns}=ts,is=composeClasses({root:["root"]},getDialogContentTextUtilityClass,ns);return _extends$a({},ns,is)},DialogContentTextRoot=styled$2(Typography$1,{shouldForwardProp:ts=>rootShouldForwardProp$2(ts)||ts==="classes",name:"MuiDialogContentText",slot:"Root",overridesResolver:(ts,ns)=>ns.root})({}),DialogContentText=reactExports.forwardRef(function(ns,rs){const is=useDefaultProps({props:ns,name:"MuiDialogContentText"}),{className:os}=is,ss=_objectWithoutPropertiesLoose$3(is,_excluded$14),as=useUtilityClasses$S(ss);return jsxRuntimeExports.jsx(DialogContentTextRoot,_extends$a({component:"p",variant:"body1",color:"text.secondary",ref:rs,ownerState:ss,className:clsx(as.root,os)},is,{classes:as}))}),DialogContentText$1=DialogContentText,_excluded$13=["className","id"],useUtilityClasses$R=ts=>{const{classes:ns}=ts;return composeClasses({root:["root"]},getDialogTitleUtilityClass,ns)},DialogTitleRoot=styled$2(Typography$1,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(ts,ns)=>ns.root})({padding:"16px 24px",flex:"0 0 auto"}),DialogTitle=reactExports.forwardRef(function(ns,rs){const is=useDefaultProps({props:ns,name:"MuiDialogTitle"}),{className:os,id:ss}=is,as=_objectWithoutPropertiesLoose$3(is,_excluded$13),ls=is,cs=useUtilityClasses$R(ls),{titleId:us=ss}=reactExports.useContext(DialogContext$1);return jsxRuntimeExports.jsx(DialogTitleRoot,_extends$a({component:"h2",className:clsx(cs.root,os),ownerState:ls,ref:rs,variant:"h6",id:ss!=null?ss:us},as))}),DialogTitle$1=DialogTitle;function getDividerUtilityClass(ts){return generateUtilityClass("MuiDivider",ts)}const dividerClasses=generateUtilityClasses("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),dividerClasses$1=dividerClasses,_excluded$12=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],useUtilityClasses$Q=ts=>{const{absolute:ns,children:rs,classes:is,flexItem:os,light:ss,orientation:as,textAlign:ls,variant:cs}=ts;return composeClasses({root:["root",ns&&"absolute",cs,ss&&"light",as==="vertical"&&"vertical",os&&"flexItem",rs&&"withChildren",rs&&as==="vertical"&&"withChildrenVertical",ls==="right"&&as!=="vertical"&&"textAlignRight",ls==="left"&&as!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",as==="vertical"&&"wrapperVertical"]},getDividerUtilityClass,is)},DividerRoot=styled$2("div",{name:"MuiDivider",slot:"Root",overridesResolver:(ts,ns)=>{const{ownerState:rs}=ts;return[ns.root,rs.absolute&&ns.absolute,ns[rs.variant],rs.light&&ns.light,rs.orientation==="vertical"&&ns.vertical,rs.flexItem&&ns.flexItem,rs.children&&ns.withChildren,rs.children&&rs.orientation==="vertical"&&ns.withChildrenVertical,rs.textAlign==="right"&&rs.orientation!=="vertical"&&ns.textAlignRight,rs.textAlign==="left"&&rs.orientation!=="vertical"&&ns.textAlignLeft]}})(({theme:ts,ownerState:ns})=>_extends$a({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(ts.vars||ts).palette.divider,borderBottomWidth:"thin"},ns.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},ns.light&&{borderColor:ts.vars?"rgba(".concat(ts.vars.palette.dividerChannel," / 0.08)"):alpha_1(ts.palette.divider,.08)},ns.variant==="inset"&&{marginLeft:72},ns.variant==="middle"&&ns.orientation==="horizontal"&&{marginLeft:ts.spacing(2),marginRight:ts.spacing(2)},ns.variant==="middle"&&ns.orientation==="vertical"&&{marginTop:ts.spacing(1),marginBottom:ts.spacing(1)},ns.orientation==="vertical"&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},ns.flexItem&&{alignSelf:"stretch",height:"auto"}),({ownerState:ts})=>_extends$a({},ts.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,"&::before, &::after":{content:'""',alignSelf:"center"}}),({theme:ts,ownerState:ns})=>_extends$a({},ns.children&&ns.orientation!=="vertical"&&{"&::before, &::after":{width:"100%",borderTop:"thin solid ".concat((ts.vars||ts).palette.divider)}}),({theme:ts,ownerState:ns})=>_extends$a({},ns.children&&ns.orientation==="vertical"&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:"thin solid ".concat((ts.vars||ts).palette.divider)}}),({ownerState:ts})=>_extends$a({},ts.textAlign==="right"&&ts.orientation!=="vertical"&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},ts.textAlign==="left"&&ts.orientation!=="vertical"&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})),DividerWrapper=styled$2("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(ts,ns)=>{const{ownerState:rs}=ts;return[ns.wrapper,rs.orientation==="vertical"&&ns.wrapperVertical]}})(({theme:ts,ownerState:ns})=>_extends$a({display:"inline-block",paddingLeft:"calc(".concat(ts.spacing(1)," * 1.2)"),paddingRight:"calc(".concat(ts.spacing(1)," * 1.2)")},ns.orientation==="vertical"&&{paddingTop:"calc(".concat(ts.spacing(1)," * 1.2)"),paddingBottom:"calc(".concat(ts.spacing(1)," * 1.2)")})),Divider=reactExports.forwardRef(function(ns,rs){const is=useDefaultProps({props:ns,name:"MuiDivider"}),{absolute:os=!1,children:ss,className:as,component:ls=ss?"div":"hr",flexItem:cs=!1,light:us=!1,orientation:ds="horizontal",role:ps=ls!=="hr"?"separator":void 0,textAlign:hs="center",variant:ms="fullWidth"}=is,gs=_objectWithoutPropertiesLoose$3(is,_excluded$12),ys=_extends$a({},is,{absolute:os,component:ls,flexItem:cs,light:us,orientation:ds,role:ps,textAlign:hs,variant:ms}),vs=useUtilityClasses$Q(ys);return jsxRuntimeExports.jsx(DividerRoot,_extends$a({as:ls,className:clsx(vs.root,as),role:ps,ref:rs,ownerState:ys},gs,{children:ss?jsxRuntimeExports.jsx(DividerWrapper,{className:vs.wrapper,ownerState:ys,children:ss}):null}))});Divider.muiSkipListHighlight=!0;const Divider$1=Divider,_excluded$11=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],useUtilityClasses$P=ts=>{const{classes:ns,disableUnderline:rs}=ts,os=composeClasses({root:["root",!rs&&"underline"],input:["input"]},getFilledInputUtilityClass,ns);return _extends$a({},ns,os)},FilledInputRoot=styled$2(InputBaseRoot,{shouldForwardProp:ts=>rootShouldForwardProp$2(ts)||ts==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(ts,ns)=>{const{ownerState:rs}=ts;return[...rootOverridesResolver(ts,ns),!rs.disableUnderline&&ns.underline]}})(({theme:ts,ownerState:ns})=>{var rs;const is=ts.palette.mode==="light",os=is?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",ss=is?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",as=is?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",ls=is?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return _extends$a({position:"relative",backgroundColor:ts.vars?ts.vars.palette.FilledInput.bg:ss,borderTopLeftRadius:(ts.vars||ts).shape.borderRadius,borderTopRightRadius:(ts.vars||ts).shape.borderRadius,transition:ts.transitions.create("background-color",{duration:ts.transitions.duration.shorter,easing:ts.transitions.easing.easeOut}),"&:hover":{backgroundColor:ts.vars?ts.vars.palette.FilledInput.hoverBg:as,"@media (hover: none)":{backgroundColor:ts.vars?ts.vars.palette.FilledInput.bg:ss}},["&.".concat(filledInputClasses$1.focused)]:{backgroundColor:ts.vars?ts.vars.palette.FilledInput.bg:ss},["&.".concat(filledInputClasses$1.disabled)]:{backgroundColor:ts.vars?ts.vars.palette.FilledInput.disabledBg:ls}},!ns.disableUnderline&&{"&::after":{borderBottom:"2px solid ".concat((rs=(ts.vars||ts).palette[ns.color||"primary"])==null?void 0:rs.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:ts.transitions.create("transform",{duration:ts.transitions.duration.shorter,easing:ts.transitions.easing.easeOut}),pointerEvents:"none"},["&.".concat(filledInputClasses$1.focused,":after")]:{transform:"scaleX(1) translateX(0)"},["&.".concat(filledInputClasses$1.error)]:{"&::before, &::after":{borderBottomColor:(ts.vars||ts).palette.error.main}},"&::before":{borderBottom:"1px solid ".concat(ts.vars?"rgba(".concat(ts.vars.palette.common.onBackgroundChannel," / ").concat(ts.vars.opacity.inputUnderline,")"):os),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:ts.transitions.create("border-bottom-color",{duration:ts.transitions.duration.shorter}),pointerEvents:"none"},["&:hover:not(.".concat(filledInputClasses$1.disabled,", .").concat(filledInputClasses$1.error,"):before")]:{borderBottom:"1px solid ".concat((ts.vars||ts).palette.text.primary)},["&.".concat(filledInputClasses$1.disabled,":before")]:{borderBottomStyle:"dotted"}},ns.startAdornment&&{paddingLeft:12},ns.endAdornment&&{paddingRight:12},ns.multiline&&_extends$a({padding:"25px 12px 8px"},ns.size==="small"&&{paddingTop:21,paddingBottom:4},ns.hiddenLabel&&{paddingTop:16,paddingBottom:17},ns.hiddenLabel&&ns.size==="small"&&{paddingTop:8,paddingBottom:9}))}),FilledInputInput=styled$2(InputBaseComponent,{name:"MuiFilledInput",slot:"Input",overridesResolver:inputOverridesResolver})(({theme:ts,ownerState:ns})=>_extends$a({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!ts.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:ts.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:ts.palette.mode==="light"?null:"#fff",caretColor:ts.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},ts.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[ts.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},ns.size==="small"&&{paddingTop:21,paddingBottom:4},ns.hiddenLabel&&{paddingTop:16,paddingBottom:17},ns.startAdornment&&{paddingLeft:0},ns.endAdornment&&{paddingRight:0},ns.hiddenLabel&&ns.size==="small"&&{paddingTop:8,paddingBottom:9},ns.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})),FilledInput=reactExports.forwardRef(function(ns,rs){var is,os,ss,as;const ls=useDefaultProps({props:ns,name:"MuiFilledInput"}),{components:cs={},componentsProps:us,fullWidth:ds=!1,inputComponent:ps="input",multiline:hs=!1,slotProps:ms,slots:gs={},type:ys="text"}=ls,vs=_objectWithoutPropertiesLoose$3(ls,_excluded$11),bs=_extends$a({},ls,{fullWidth:ds,inputComponent:ps,multiline:hs,type:ys}),Ss=useUtilityClasses$P(ls),$s={root:{ownerState:bs},input:{ownerState:bs}},Cs=(ms!=null?ms:us)?deepmerge$2($s,ms!=null?ms:us):$s,Es=(is=(os=gs.root)!=null?os:cs.Root)!=null?is:FilledInputRoot,xs=(ss=(as=gs.input)!=null?as:cs.Input)!=null?ss:FilledInputInput;return jsxRuntimeExports.jsx(InputBase$1,_extends$a({slots:{root:Es,input:xs},componentsProps:Cs,fullWidth:ds,inputComponent:ps,multiline:hs,ref:rs,type:ys},vs,{classes:Ss}))});FilledInput.muiName="Input";const FilledInput$1=FilledInput;function getFormControlUtilityClasses(ts){return generateUtilityClass("MuiFormControl",ts)}generateUtilityClasses("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const _excluded$10=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],useUtilityClasses$O=ts=>{const{classes:ns,margin:rs,fullWidth:is}=ts,os={root:["root",rs!=="none"&&"margin".concat(capitalize$4(rs)),is&&"fullWidth"]};return composeClasses(os,getFormControlUtilityClasses,ns)},FormControlRoot=styled$2("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:ts},ns)=>_extends$a({},ns.root,ns["margin".concat(capitalize$4(ts.margin))],ts.fullWidth&&ns.fullWidth)})(({ownerState:ts})=>_extends$a({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},ts.margin==="normal"&&{marginTop:16,marginBottom:8},ts.margin==="dense"&&{marginTop:8,marginBottom:4},ts.fullWidth&&{width:"100%"})),FormControl=reactExports.forwardRef(function(ns,rs){const is=useDefaultProps({props:ns,name:"MuiFormControl"}),{children:os,className:ss,color:as="primary",component:ls="div",disabled:cs=!1,error:us=!1,focused:ds,fullWidth:ps=!1,hiddenLabel:hs=!1,margin:ms="none",required:gs=!1,size:ys="medium",variant:vs="outlined"}=is,bs=_objectWithoutPropertiesLoose$3(is,_excluded$10),Ss=_extends$a({},is,{color:as,component:ls,disabled:cs,error:us,fullWidth:ps,hiddenLabel:hs,margin:ms,required:gs,size:ys,variant:vs}),$s=useUtilityClasses$O(Ss),[Cs,Es]=reactExports.useState(()=>{let Ms=!1;return os&&reactExports.Children.forEach(os,Ls=>{if(!isMuiElement(Ls,["Input","Select"]))return;const Ds=isMuiElement(Ls,["Select"])?Ls.props.input:Ls;Ds&&isAdornedStart(Ds.props)&&(Ms=!0)}),Ms}),[xs,ws]=reactExports.useState(()=>{let Ms=!1;return os&&reactExports.Children.forEach(os,Ls=>{isMuiElement(Ls,["Input","Select"])&&(isFilled(Ls.props,!0)||isFilled(Ls.props.inputProps,!0))&&(Ms=!0)}),Ms}),[ks,Is]=reactExports.useState(!1);cs&&ks&&Is(!1);const Ts=ds!==void 0&&!cs?ds:ks;let Rs;const As=reactExports.useMemo(()=>({adornedStart:Cs,setAdornedStart:Es,color:as,disabled:cs,error:us,filled:xs,focused:Ts,fullWidth:ps,hiddenLabel:hs,size:ys,onBlur:()=>{Is(!1)},onEmpty:()=>{ws(!1)},onFilled:()=>{ws(!0)},onFocus:()=>{Is(!0)},registerEffect:Rs,required:gs,variant:vs}),[Cs,as,cs,us,xs,Ts,ps,hs,Rs,gs,ys,vs]);return jsxRuntimeExports.jsx(FormControlContext$1.Provider,{value:As,children:jsxRuntimeExports.jsx(FormControlRoot,_extends$a({as:ls,ownerState:Ss,className:clsx($s.root,ss),ref:rs},bs,{children:os}))})}),FormControl$1=FormControl,Stack$3=createStack({createStyledComponent:styled$2("div",{name:"MuiStack",slot:"Root",overridesResolver:(ts,ns)=>ns.root}),useThemeProps:ts=>useDefaultProps({props:ts,name:"MuiStack"})}),Stack$4=Stack$3;function getFormControlLabelUtilityClasses(ts){return generateUtilityClass("MuiFormControlLabel",ts)}const formControlLabelClasses=generateUtilityClasses("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),formControlLabelClasses$1=formControlLabelClasses,_excluded$$=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","required","slotProps","value"],useUtilityClasses$N=ts=>{const{classes:ns,disabled:rs,labelPlacement:is,error:os,required:ss}=ts,as={root:["root",rs&&"disabled","labelPlacement".concat(capitalize$4(is)),os&&"error",ss&&"required"],label:["label",rs&&"disabled"],asterisk:["asterisk",os&&"error"]};return composeClasses(as,getFormControlLabelUtilityClasses,ns)},FormControlLabelRoot=styled$2("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(ts,ns)=>{const{ownerState:rs}=ts;return[{["& .".concat(formControlLabelClasses$1.label)]:ns.label},ns.root,ns["labelPlacement".concat(capitalize$4(rs.labelPlacement))]]}})(({theme:ts,ownerState:ns})=>_extends$a({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,["&.".concat(formControlLabelClasses$1.disabled)]:{cursor:"default"}},ns.labelPlacement==="start"&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},ns.labelPlacement==="top"&&{flexDirection:"column-reverse",marginLeft:16},ns.labelPlacement==="bottom"&&{flexDirection:"column",marginLeft:16},{["& .".concat(formControlLabelClasses$1.label)]:{["&.".concat(formControlLabelClasses$1.disabled)]:{color:(ts.vars||ts).palette.text.disabled}}})),AsteriskComponent$1=styled$2("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(ts,ns)=>ns.asterisk})(({theme:ts})=>({["&.".concat(formControlLabelClasses$1.error)]:{color:(ts.vars||ts).palette.error.main}})),FormControlLabel=reactExports.forwardRef(function(ns,rs){var is,os;const ss=useDefaultProps({props:ns,name:"MuiFormControlLabel"}),{className:as,componentsProps:ls={},control:cs,disabled:us,disableTypography:ds,label:ps,labelPlacement:hs="end",required:ms,slotProps:gs={}}=ss,ys=_objectWithoutPropertiesLoose$3(ss,_excluded$$),vs=useFormControl(),bs=(is=us!=null?us:cs.props.disabled)!=null?is:vs==null?void 0:vs.disabled,Ss=ms!=null?ms:cs.props.required,$s={disabled:bs,required:Ss};["checked","name","onChange","value","inputRef"].forEach(Is=>{typeof cs.props[Is]>"u"&&typeof ss[Is]<"u"&&($s[Is]=ss[Is])});const Cs=formControlState({props:ss,muiFormControl:vs,states:["error"]}),Es=_extends$a({},ss,{disabled:bs,labelPlacement:hs,required:Ss,error:Cs.error}),xs=useUtilityClasses$N(Es),ws=(os=gs.typography)!=null?os:ls.typography;let ks=ps;return ks!=null&&ks.type!==Typography$1&&!ds&&(ks=jsxRuntimeExports.jsx(Typography$1,_extends$a({component:"span"},ws,{className:clsx(xs.label,ws==null?void 0:ws.className),children:ks}))),jsxRuntimeExports.jsxs(FormControlLabelRoot,_extends$a({className:clsx(xs.root,as),ownerState:Es,ref:rs},ys,{children:[reactExports.cloneElement(cs,$s),Ss?jsxRuntimeExports.jsxs(Stack$4,{display:"block",children:[ks,jsxRuntimeExports.jsxs(AsteriskComponent$1,{ownerState:Es,"aria-hidden":!0,className:xs.asterisk,children:["â","*"]})]}):ks]}))}),FormControlLabel$1=FormControlLabel;function getFormGroupUtilityClass(ts){return generateUtilityClass("MuiFormGroup",ts)}generateUtilityClasses("MuiFormGroup",["root","row","error"]);const _excluded$_=["className","row"],useUtilityClasses$M=ts=>{const{classes:ns,row:rs,error:is}=ts;return composeClasses({root:["root",rs&&"row",is&&"error"]},getFormGroupUtilityClass,ns)},FormGroupRoot=styled$2("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(ts,ns)=>{const{ownerState:rs}=ts;return[ns.root,rs.row&&ns.row]}})(({ownerState:ts})=>_extends$a({display:"flex",flexDirection:"column",flexWrap:"wrap"},ts.row&&{flexDirection:"row"})),FormGroup=reactExports.forwardRef(function(ns,rs){const is=useDefaultProps({props:ns,name:"MuiFormGroup"}),{className:os,row:ss=!1}=is,as=_objectWithoutPropertiesLoose$3(is,_excluded$_),ls=useFormControl(),cs=formControlState({props:is,muiFormControl:ls,states:["error"]}),us=_extends$a({},is,{row:ss,error:cs.error}),ds=useUtilityClasses$M(us);return jsxRuntimeExports.jsx(FormGroupRoot,_extends$a({className:clsx(ds.root,os),ownerState:us,ref:rs},as))}),FormGroup$1=FormGroup;function getFormHelperTextUtilityClasses(ts){return generateUtilityClass("MuiFormHelperText",ts)}const formHelperTextClasses=generateUtilityClasses("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),formHelperTextClasses$1=formHelperTextClasses;var _span$2;const _excluded$Z=["children","className","component","disabled","error","filled","focused","margin","required","variant"],useUtilityClasses$L=ts=>{const{classes:ns,contained:rs,size:is,disabled:os,error:ss,filled:as,focused:ls,required:cs}=ts,us={root:["root",os&&"disabled",ss&&"error",is&&"size".concat(capitalize$4(is)),rs&&"contained",ls&&"focused",as&&"filled",cs&&"required"]};return composeClasses(us,getFormHelperTextUtilityClasses,ns)},FormHelperTextRoot=styled$2("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(ts,ns)=>{const{ownerState:rs}=ts;return[ns.root,rs.size&&ns["size".concat(capitalize$4(rs.size))],rs.contained&&ns.contained,rs.filled&&ns.filled]}})(({theme:ts,ownerState:ns})=>_extends$a({color:(ts.vars||ts).palette.text.secondary},ts.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,["&.".concat(formHelperTextClasses$1.disabled)]:{color:(ts.vars||ts).palette.text.disabled},["&.".concat(formHelperTextClasses$1.error)]:{color:(ts.vars||ts).palette.error.main}},ns.size==="small"&&{marginTop:4},ns.contained&&{marginLeft:14,marginRight:14})),FormHelperText=reactExports.forwardRef(function(ns,rs){const is=useDefaultProps({props:ns,name:"MuiFormHelperText"}),{children:os,className:ss,component:as="p"}=is,ls=_objectWithoutPropertiesLoose$3(is,_excluded$Z),cs=useFormControl(),us=formControlState({props:is,muiFormControl:cs,states:["variant","size","disabled","error","filled","focused","required"]}),ds=_extends$a({},is,{component:as,contained:us.variant==="filled"||us.variant==="outlined",variant:us.variant,size:us.size,disabled:us.disabled,error:us.error,filled:us.filled,focused:us.focused,required:us.required}),ps=useUtilityClasses$L(ds);return jsxRuntimeExports.jsx(FormHelperTextRoot,_extends$a({as,ownerState:ds,className:clsx(ps.root,ss),ref:rs},ls,{children:os===" "?_span$2||(_span$2=jsxRuntimeExports.jsx("span",{className:"notranslate",children:"â"})):os}))}),FormHelperText$1=FormHelperText;function getFormLabelUtilityClasses(ts){return generateUtilityClass("MuiFormLabel",ts)}const formLabelClasses=generateUtilityClasses("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),formLabelClasses$1=formLabelClasses,_excluded$Y=["children","className","color","component","disabled","error","filled","focused","required"],useUtilityClasses$K=ts=>{const{classes:ns,color:rs,focused:is,disabled:os,error:ss,filled:as,required:ls}=ts,cs={root:["root","color".concat(capitalize$4(rs)),os&&"disabled",ss&&"error",as&&"filled",is&&"focused",ls&&"required"],asterisk:["asterisk",ss&&"error"]};return composeClasses(cs,getFormLabelUtilityClasses,ns)},FormLabelRoot=styled$2("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:ts},ns)=>_extends$a({},ns.root,ts.color==="secondary"&&ns.colorSecondary,ts.filled&&ns.filled)})(({theme:ts,ownerState:ns})=>_extends$a({color:(ts.vars||ts).palette.text.secondary},ts.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",["&.".concat(formLabelClasses$1.focused)]:{color:(ts.vars||ts).palette[ns.color].main},["&.".concat(formLabelClasses$1.disabled)]:{color:(ts.vars||ts).palette.text.disabled},["&.".concat(formLabelClasses$1.error)]:{color:(ts.vars||ts).palette.error.main}})),AsteriskComponent=styled$2("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(ts,ns)=>ns.asterisk})(({theme:ts})=>({["&.".concat(formLabelClasses$1.error)]:{color:(ts.vars||ts).palette.error.main}})),FormLabel=reactExports.forwardRef(function(ns,rs){const is=useDefaultProps({props:ns,name:"MuiFormLabel"}),{children:os,className:ss,component:as="label"}=is,ls=_objectWithoutPropertiesLoose$3(is,_excluded$Y),cs=useFormControl(),us=formControlState({props:is,muiFormControl:cs,states:["color","required","focused","disabled","error","filled"]}),ds=_extends$a({},is,{color:us.color||"primary",component:as,disabled:us.disabled,error:us.error,filled:us.filled,focused:us.focused,required:us.required}),ps=useUtilityClasses$K(ds);return jsxRuntimeExports.jsxs(FormLabelRoot,_extends$a({as,ownerState:ds,className:clsx(ps.root,ss),ref:rs},ls,{children:[os,us.required&&jsxRuntimeExports.jsxs(AsteriskComponent,{ownerState:ds,"aria-hidden":!0,className:ps.asterisk,children:["â","*"]})]}))}),FormLabel$1=FormLabel,GridContext$1=reactExports.createContext(),GridContext$2=GridContext$1;function getGridUtilityClass(ts){return generateUtilityClass("MuiGrid",ts)}const SPACINGS=[0,1,2,3,4,5,6,7,8,9,10],DIRECTIONS=["column-reverse","column","row-reverse","row"],WRAPS=["nowrap","wrap-reverse","wrap"],GRID_SIZES=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],gridClasses=generateUtilityClasses("MuiGrid",["root","container","item","zeroMinWidth",...SPACINGS.map(ts=>"spacing-xs-".concat(ts)),...DIRECTIONS.map(ts=>"direction-xs-".concat(ts)),...WRAPS.map(ts=>"wrap-xs-".concat(ts)),...GRID_SIZES.map(ts=>"grid-xs-".concat(ts)),...GRID_SIZES.map(ts=>"grid-sm-".concat(ts)),...GRID_SIZES.map(ts=>"grid-md-".concat(ts)),...GRID_SIZES.map(ts=>"grid-lg-".concat(ts)),...GRID_SIZES.map(ts=>"grid-xl-".concat(ts))]),_excluded$X=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function getOffset(ts){const ns=parseFloat(ts);return"".concat(ns).concat(String(ts).replace(String(ns),"")||"px")}function generateGrid({theme:ts,ownerState:ns}){let rs;return ts.breakpoints.keys.reduce((is,os)=>{let ss={};if(ns[os]&&(rs=ns[os]),!rs)return is;if(rs===!0)ss={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(rs==="auto")ss={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const as=resolveBreakpointValues({values:ns.columns,breakpoints:ts.breakpoints.values}),ls=typeof as=="object"?as[os]:as;if(ls==null)return is;const cs="".concat(Math.round(rs/ls*1e8)/1e6,"%");let us={};if(ns.container&&ns.item&&ns.columnSpacing!==0){const ds=ts.spacing(ns.columnSpacing);if(ds!=="0px"){const ps="calc(".concat(cs," + ").concat(getOffset(ds),")");us={flexBasis:ps,maxWidth:ps}}}ss=_extends$a({flexBasis:cs,flexGrow:0,maxWidth:cs},us)}return ts.breakpoints.values[os]===0?Object.assign(is,ss):is[ts.breakpoints.up(os)]=ss,is},{})}function generateDirection({theme:ts,ownerState:ns}){const rs=resolveBreakpointValues({values:ns.direction,breakpoints:ts.breakpoints.values});return handleBreakpoints({theme:ts},rs,is=>{const os={flexDirection:is};return is.indexOf("column")===0&&(os["& > .".concat(gridClasses.item)]={maxWidth:"none"}),os})}function extractZeroValueBreakpointKeys({breakpoints:ts,values:ns}){let rs="";Object.keys(ns).forEach(os=>{rs===""&&ns[os]!==0&&(rs=os)});const is=Object.keys(ts).sort((os,ss)=>ts[os]-ts[ss]);return is.slice(0,is.indexOf(rs))}function generateRowGap({theme:ts,ownerState:ns}){const{container:rs,rowSpacing:is}=ns;let os={};if(rs&&is!==0){const ss=resolveBreakpointValues({values:is,breakpoints:ts.breakpoints.values});let as;typeof ss=="object"&&(as=extractZeroValueBreakpointKeys({breakpoints:ts.breakpoints.values,values:ss})),os=handleBreakpoints({theme:ts},ss,(ls,cs)=>{var us;const ds=ts.spacing(ls);return ds!=="0px"?{marginTop:"-".concat(getOffset(ds)),["& > .".concat(gridClasses.item)]:{paddingTop:getOffset(ds)}}:(us=as)!=null&&us.includes(cs)?{}:{marginTop:0,["& > .".concat(gridClasses.item)]:{paddingTop:0}}})}return os}function generateColumnGap({theme:ts,ownerState:ns}){const{container:rs,columnSpacing:is}=ns;let os={};if(rs&&is!==0){const ss=resolveBreakpointValues({values:is,breakpoints:ts.breakpoints.values});let as;typeof ss=="object"&&(as=extractZeroValueBreakpointKeys({breakpoints:ts.breakpoints.values,values:ss})),os=handleBreakpoints({theme:ts},ss,(ls,cs)=>{var us;const ds=ts.spacing(ls);return ds!=="0px"?{width:"calc(100% + ".concat(getOffset(ds),")"),marginLeft:"-".concat(getOffset(ds)),["& > .".concat(gridClasses.item)]:{paddingLeft:getOffset(ds)}}:(us=as)!=null&&us.includes(cs)?{}:{width:"100%",marginLeft:0,["& > .".concat(gridClasses.item)]:{paddingLeft:0}}})}return os}function resolveSpacingStyles(ts,ns,rs={}){if(!ts||ts<=0)return[];if(typeof ts=="string"&&!Number.isNaN(Number(ts))||typeof ts=="number")return[rs["spacing-xs-".concat(String(ts))]];const is=[];return ns.forEach(os=>{const ss=ts[os];Number(ss)>0&&is.push(rs["spacing-".concat(os,"-").concat(String(ss))])}),is}const GridRoot=styled$2("div",{name:"MuiGrid",slot:"Root",overridesResolver:(ts,ns)=>{const{ownerState:rs}=ts,{container:is,direction:os,item:ss,spacing:as,wrap:ls,zeroMinWidth:cs,breakpoints:us}=rs;let ds=[];is&&(ds=resolveSpacingStyles(as,us,ns));const ps=[];return us.forEach(hs=>{const ms=rs[hs];ms&&ps.push(ns["grid-".concat(hs,"-").concat(String(ms))])}),[ns.root,is&&ns.container,ss&&ns.item,cs&&ns.zeroMinWidth,...ds,os!=="row"&&ns["direction-xs-".concat(String(os))],ls!=="wrap"&&ns["wrap-xs-".concat(String(ls))],...ps]}})(({ownerState:ts})=>_extends$a({boxSizing:"border-box"},ts.container&&{display:"flex",flexWrap:"wrap",width:"100%"},ts.item&&{margin:0},ts.zeroMinWidth&&{minWidth:0},ts.wrap!=="wrap"&&{flexWrap:ts.wrap}),generateDirection,generateRowGap,generateColumnGap,generateGrid);function resolveSpacingClasses(ts,ns){if(!ts||ts<=0)return[];if(typeof ts=="string"&&!Number.isNaN(Number(ts))||typeof ts=="number")return["spacing-xs-".concat(String(ts))];const rs=[];return ns.forEach(is=>{const os=ts[is];if(Number(os)>0){const ss="spacing-".concat(is,"-").concat(String(os));rs.push(ss)}}),rs}const useUtilityClasses$J=ts=>{const{classes:ns,container:rs,direction:is,item:os,spacing:ss,wrap:as,zeroMinWidth:ls,breakpoints:cs}=ts;let us=[];rs&&(us=resolveSpacingClasses(ss,cs));const ds=[];cs.forEach(hs=>{const ms=ts[hs];ms&&ds.push("grid-".concat(hs,"-").concat(String(ms)))});const ps={root:["root",rs&&"container",os&&"item",ls&&"zeroMinWidth",...us,is!=="row"&&"direction-xs-".concat(String(is)),as!=="wrap"&&"wrap-xs-".concat(String(as)),...ds]};return composeClasses(ps,getGridUtilityClass,ns)},Grid=reactExports.forwardRef(function(ns,rs){const is=useDefaultProps({props:ns,name:"MuiGrid"}),{breakpoints:os}=useTheme$1(),ss=extendSxProp(is),{className:as,columns:ls,columnSpacing:cs,component:us="div",container:ds=!1,direction:ps="row",item:hs=!1,rowSpacing:ms,spacing:gs=0,wrap:ys="wrap",zeroMinWidth:vs=!1}=ss,bs=_objectWithoutPropertiesLoose$3(ss,_excluded$X),Ss=ms||gs,$s=cs||gs,Cs=reactExports.useContext(GridContext$2),Es=ds?ls||12:Cs,xs={},ws=_extends$a({},bs);os.keys.forEach(Ts=>{bs[Ts]!=null&&(xs[Ts]=bs[Ts],delete ws[Ts])});const ks=_extends$a({},ss,{columns:Es,container:ds,direction:ps,item:hs,rowSpacing:Ss,columnSpacing:$s,wrap:ys,zeroMinWidth:vs,spacing:gs},xs,{breakpoints:os.keys}),Is=useUtilityClasses$J(ks);return jsxRuntimeExports.jsx(GridContext$2.Provider,{value:Es,children:jsxRuntimeExports.jsx(GridRoot,_extends$a({ownerState:ks,className:clsx(Is.root,as),as:us,ref:rs},ws))})}),Grid$1=Grid,_excluded$W=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function getScale(ts){return"scale(".concat(ts,", ").concat(ts**2,")")}const styles$1={entering:{opacity:1,transform:getScale(1)},entered:{opacity:1,transform:"none"}},isWebKit154=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),Grow=reactExports.forwardRef(function(ns,rs){const{addEndListener:is,appear:os=!0,children:ss,easing:as,in:ls,onEnter:cs,onEntered:us,onEntering:ds,onExit:ps,onExited:hs,onExiting:ms,style:gs,timeout:ys="auto",TransitionComponent:vs=Transition$1}=ns,bs=_objectWithoutPropertiesLoose$3(ns,_excluded$W),Ss=useTimeout(),$s=reactExports.useRef(),Cs=useTheme$1(),Es=reactExports.useRef(null),xs=useForkRef(Es,ss.ref,rs),ws=Ds=>Fs=>{if(Ds){const Vs=Es.current;Fs===void 0?Ds(Vs):Ds(Vs,Fs)}},ks=ws(ds),Is=ws((Ds,Fs)=>{reflow(Ds);const{duration:Vs,delay:Bs,easing:Ws}=getTransitionProps({style:gs,timeout:ys,easing:as},{mode:"enter"});let Os;ys==="auto"?(Os=Cs.transitions.getAutoHeightDuration(Ds.clientHeight),$s.current=Os):Os=Vs,Ds.style.transition=[Cs.transitions.create("opacity",{duration:Os,delay:Bs}),Cs.transitions.create("transform",{duration:isWebKit154?Os:Os*.666,delay:Bs,easing:Ws})].join(","),cs&&cs(Ds,Fs)}),Ts=ws(us),Rs=ws(ms),As=ws(Ds=>{const{duration:Fs,delay:Vs,easing:Bs}=getTransitionProps({style:gs,timeout:ys,easing:as},{mode:"exit"});let Ws;ys==="auto"?(Ws=Cs.transitions.getAutoHeightDuration(Ds.clientHeight),$s.current=Ws):Ws=Fs,Ds.style.transition=[Cs.transitions.create("opacity",{duration:Ws,delay:Vs}),Cs.transitions.create("transform",{duration:isWebKit154?Ws:Ws*.666,delay:isWebKit154?Vs:Vs||Ws*.333,easing:Bs})].join(","),Ds.style.opacity=0,Ds.style.transform=getScale(.75),ps&&ps(Ds)}),Ms=ws(hs),Ls=Ds=>{ys==="auto"&&Ss.start($s.current||0,Ds),is&&is(Es.current,Ds)};return jsxRuntimeExports.jsx(vs,_extends$a({appear:os,in:ls,nodeRef:Es,onEnter:Is,onEntered:Ts,onEntering:ks,onExit:As,onExited:Ms,onExiting:Rs,addEndListener:Ls,timeout:ys==="auto"?null:ys},bs,{children:(Ds,Fs)=>reactExports.cloneElement(ss,_extends$a({style:_extends$a({opacity:0,transform:getScale(.75),visibility:Ds==="exited"&&!ls?"hidden":void 0},styles$1[Ds],gs,ss.props.style),ref:xs},Fs))}))});Grow.muiSupportAuto=!0;const Grow$1=Grow;function getIconUtilityClass(ts){return generateUtilityClass("MuiIcon",ts)}generateUtilityClasses("MuiIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const _excluded$V=["baseClassName","className","color","component","fontSize"],useUtilityClasses$I=ts=>{const{color:ns,fontSize:rs,classes:is}=ts,os={root:["root",ns!=="inherit"&&"color".concat(capitalize$4(ns)),"fontSize".concat(capitalize$4(rs))]};return composeClasses(os,getIconUtilityClass,is)},IconRoot=styled$2("span",{name:"MuiIcon",slot:"Root",overridesResolver:(ts,ns)=>{const{ownerState:rs}=ts;return[ns.root,rs.color!=="inherit"&&ns["color".concat(capitalize$4(rs.color))],ns["fontSize".concat(capitalize$4(rs.fontSize))]]}})(({theme:ts,ownerState:ns})=>({userSelect:"none",width:"1em",height:"1em",overflow:"hidden",display:"inline-block",textAlign:"center",flexShrink:0,fontSize:{inherit:"inherit",small:ts.typography.pxToRem(20),medium:ts.typography.pxToRem(24),large:ts.typography.pxToRem(36)}[ns.fontSize],color:{primary:(ts.vars||ts).palette.primary.main,secondary:(ts.vars||ts).palette.secondary.main,info:(ts.vars||ts).palette.info.main,success:(ts.vars||ts).palette.success.main,warning:(ts.vars||ts).palette.warning.main,action:(ts.vars||ts).palette.action.active,error:(ts.vars||ts).palette.error.main,disabled:(ts.vars||ts).palette.action.disabled,inherit:void 0}[ns.color]})),Icon=reactExports.forwardRef(function(ns,rs){const is=useDefaultProps({props:ns,name:"MuiIcon"}),{baseClassName:os="material-icons",className:ss,color:as="inherit",component:ls="span",fontSize:cs="medium"}=is,us=_objectWithoutPropertiesLoose$3(is,_excluded$V),ds=_extends$a({},is,{baseClassName:os,color:as,component:ls,fontSize:cs}),ps=useUtilityClasses$I(ds);return jsxRuntimeExports.jsx(IconRoot,_extends$a({as:ls,className:clsx(os,"notranslate",ps.root,ss),ownerState:ds,"aria-hidden":!0,ref:rs},us))});Icon.muiName="Icon";const Icon$1=Icon,_excluded$U=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],useUtilityClasses$H=ts=>{const{classes:ns,disableUnderline:rs}=ts,os=composeClasses({root:["root",!rs&&"underline"],input:["input"]},getInputUtilityClass,ns);return _extends$a({},ns,os)},InputRoot=styled$2(InputBaseRoot,{shouldForwardProp:ts=>rootShouldForwardProp$2(ts)||ts==="classes",name:"MuiInput",slot:"Root",overridesResolver:(ts,ns)=>{const{ownerState:rs}=ts;return[...rootOverridesResolver(ts,ns),!rs.disableUnderline&&ns.underline]}})(({theme:ts,ownerState:ns})=>{let is=ts.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return ts.vars&&(is="rgba(".concat(ts.vars.palette.common.onBackgroundChannel," / ").concat(ts.vars.opacity.inputUnderline,")")),_extends$a({position:"relative"},ns.formControl&&{"label + &":{marginTop:16}},!ns.disableUnderline&&{"&::after":{borderBottom:"2px solid ".concat((ts.vars||ts).palette[ns.color].main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:ts.transitions.create("transform",{duration:ts.transitions.duration.shorter,easing:ts.transitions.easing.easeOut}),pointerEvents:"none"},["&.".concat(inputClasses$1.focused,":after")]:{transform:"scaleX(1) translateX(0)"},["&.".concat(inputClasses$1.error)]:{"&::before, &::after":{borderBottomColor:(ts.vars||ts).palette.error.main}},"&::before":{borderBottom:"1px solid ".concat(is),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:ts.transitions.create("border-bottom-color",{duration:ts.transitions.duration.shorter}),pointerEvents:"none"},["&:hover:not(.".concat(inputClasses$1.disabled,", .").concat(inputClasses$1.error,"):before")]:{borderBottom:"2px solid ".concat((ts.vars||ts).palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(is)}},["&.".concat(inputClasses$1.disabled,":before")]:{borderBottomStyle:"dotted"}})}),InputInput=styled$2(InputBaseComponent,{name:"MuiInput",slot:"Input",overridesResolver:inputOverridesResolver})({}),Input$1=reactExports.forwardRef(function(ns,rs){var is,os,ss,as;const ls=useDefaultProps({props:ns,name:"MuiInput"}),{disableUnderline:cs,components:us={},componentsProps:ds,fullWidth:ps=!1,inputComponent:hs="input",multiline:ms=!1,slotProps:gs,slots:ys={},type:vs="text"}=ls,bs=_objectWithoutPropertiesLoose$3(ls,_excluded$U),Ss=useUtilityClasses$H(ls),Cs={root:{ownerState:{disableUnderline:cs}}},Es=(gs!=null?gs:ds)?deepmerge$2(gs!=null?gs:ds,Cs):Cs,xs=(is=(os=ys.root)!=null?os:us.Root)!=null?is:InputRoot,ws=(ss=(as=ys.input)!=null?as:us.Input)!=null?ss:InputInput;return jsxRuntimeExports.jsx(InputBase$1,_extends$a({slots:{root:xs,input:ws},slotProps:Es,fullWidth:ps,inputComponent:hs,multiline:ms,ref:rs,type:vs},bs,{classes:Ss}))});Input$1.muiName="Input";const Input$2=Input$1;function getInputLabelUtilityClasses(ts){return generateUtilityClass("MuiInputLabel",ts)}generateUtilityClasses("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const _excluded$T=["disableAnimation","margin","shrink","variant","className"],useUtilityClasses$G=ts=>{const{classes:ns,formControl:rs,size:is,shrink:os,disableAnimation:ss,variant:as,required:ls}=ts,cs={root:["root",rs&&"formControl",!ss&&"animated",os&&"shrink",is&&is!=="normal"&&"size".concat(capitalize$4(is)),as],asterisk:[ls&&"asterisk"]},us=composeClasses(cs,getInputLabelUtilityClasses,ns);return _extends$a({},ns,us)},InputLabelRoot=styled$2(FormLabel$1,{shouldForwardProp:ts=>rootShouldForwardProp$2(ts)||ts==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(ts,ns)=>{const{ownerState:rs}=ts;return[{["& .".concat(formLabelClasses$1.asterisk)]:ns.asterisk},ns.root,rs.formControl&&ns.formControl,rs.size==="small"&&ns.sizeSmall,rs.shrink&&ns.shrink,!rs.disableAnimation&&ns.animated,rs.focused&&ns.focused,ns[rs.variant]]}})(({theme:ts,ownerState:ns})=>_extends$a({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},ns.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},ns.size==="small"&&{transform:"translate(0, 17px) scale(1)"},ns.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!ns.disableAnimation&&{transition:ts.transitions.create(["color","transform","max-width"],{duration:ts.transitions.duration.shorter,easing:ts.transitions.easing.easeOut})},ns.variant==="filled"&&_extends$a({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},ns.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},ns.shrink&&_extends$a({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},ns.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),ns.variant==="outlined"&&_extends$a({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},ns.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},ns.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),InputLabel=reactExports.forwardRef(function(ns,rs){const is=useDefaultProps({name:"MuiInputLabel",props:ns}),{disableAnimation:os=!1,shrink:ss,className:as}=is,ls=_objectWithoutPropertiesLoose$3(is,_excluded$T),cs=useFormControl();let us=ss;typeof us>"u"&&cs&&(us=cs.filled||cs.focused||cs.adornedStart);const ds=formControlState({props:is,muiFormControl:cs,states:["size","variant","required","focused"]}),ps=_extends$a({},is,{disableAnimation:os,formControl:cs,shrink:us,size:ds.size,variant:ds.variant,required:ds.required,focused:ds.focused}),hs=useUtilityClasses$G(ps);return jsxRuntimeExports.jsx(InputLabelRoot,_extends$a({"data-shrink":us,ownerState:ps,ref:rs,className:clsx(hs.root,as)},ls,{classes:hs}))}),InputLabel$1=InputLabel;function getLinkUtilityClass(ts){return generateUtilityClass("MuiLink",ts)}const linkClasses=generateUtilityClasses("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),linkClasses$1=linkClasses,colorTransformations={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},transformDeprecatedColors=ts=>colorTransformations[ts]||ts,getTextDecoration=({theme:ts,ownerState:ns})=>{const rs=transformDeprecatedColors(ns.color),is=getPath$2(ts,"palette.".concat(rs),!1)||ns.color,os=getPath$2(ts,"palette.".concat(rs,"Channel"));return"vars"in ts&&os?"rgba(".concat(os," / 0.4)"):alpha_1(is,.4)},getTextDecoration$1=getTextDecoration,_excluded$S=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"],useUtilityClasses$F=ts=>{const{classes:ns,component:rs,focusVisible:is,underline:os}=ts,ss={root:["root","underline".concat(capitalize$4(os)),rs==="button"&&"button",is&&"focusVisible"]};return composeClasses(ss,getLinkUtilityClass,ns)},LinkRoot=styled$2(Typography$1,{name:"MuiLink",slot:"Root",overridesResolver:(ts,ns)=>{const{ownerState:rs}=ts;return[ns.root,ns["underline".concat(capitalize$4(rs.underline))],rs.component==="button"&&ns.button]}})(({theme:ts,ownerState:ns})=>_extends$a({},ns.underline==="none"&&{textDecoration:"none"},ns.underline==="hover"&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},ns.underline==="always"&&_extends$a({textDecoration:"underline"},ns.color!=="inherit"&&{textDecorationColor:getTextDecoration$1({theme:ts,ownerState:ns})},{"&:hover":{textDecorationColor:"inherit"}}),ns.component==="button"&&{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},["&.".concat(linkClasses$1.focusVisible)]:{outline:"auto"}})),Link=reactExports.forwardRef(function(ns,rs){const is=useDefaultProps({props:ns,name:"MuiLink"}),{className:os,color:ss="primary",component:as="a",onBlur:ls,onFocus:cs,TypographyClasses:us,underline:ds="always",variant:ps="inherit",sx:hs}=is,ms=_objectWithoutPropertiesLoose$3(is,_excluded$S),{isFocusVisibleRef:gs,onBlur:ys,onFocus:vs,ref:bs}=useIsFocusVisible(),[Ss,$s]=reactExports.useState(!1),Cs=useForkRef(rs,bs),Es=Is=>{ys(Is),gs.current===!1&&$s(!1),ls&&ls(Is)},xs=Is=>{vs(Is),gs.current===!0&&$s(!0),cs&&cs(Is)},ws=_extends$a({},is,{color:ss,component:as,focusVisible:Ss,underline:ds,variant:ps}),ks=useUtilityClasses$F(ws);return jsxRuntimeExports.jsx(LinkRoot,_extends$a({color:ss,className:clsx(ks.root,os),classes:us,component:as,onBlur:Es,onFocus:xs,ref:Cs,ownerState:ws,variant:ps,sx:[...Object.keys(colorTransformations).includes(ss)?[]:[{color:ss}],...Array.isArray(hs)?hs:[hs]]},ms))}),Link$1=Link,ListContext=reactExports.createContext({}),ListContext$1=ListContext;function getListUtilityClass(ts){return generateUtilityClass("MuiList",ts)}generateUtilityClasses("MuiList",["root","padding","dense","subheader"]);const _excluded$R=["children","className","component","dense","disablePadding","subheader"],useUtilityClasses$E=ts=>{const{classes:ns,disablePadding:rs,dense:is,subheader:os}=ts;return composeClasses({root:["root",!rs&&"padding",is&&"dense",os&&"subheader"]},getListUtilityClass,ns)},ListRoot=styled$2("ul",{name:"MuiList",slot:"Root",overridesResolver:(ts,ns)=>{const{ownerState:rs}=ts;return[ns.root,!rs.disablePadding&&ns.padding,rs.dense&&ns.dense,rs.subheader&&ns.subheader]}})(({ownerState:ts})=>_extends$a({listStyle:"none",margin:0,padding:0,position:"relative"},!ts.disablePadding&&{paddingTop:8,paddingBottom:8},ts.subheader&&{paddingTop:0})),List=reactExports.forwardRef(function(ns,rs){const is=useDefaultProps({props:ns,name:"MuiList"}),{children:os,className:ss,component:as="ul",dense:ls=!1,disablePadding:cs=!1,subheader:us}=is,ds=_objectWithoutPropertiesLoose$3(is,_excluded$R),ps=reactExports.useMemo(()=>({dense:ls}),[ls]),hs=_extends$a({},is,{component:as,dense:ls,disablePadding:cs}),ms=useUtilityClasses$E(hs);return jsxRuntimeExports.jsx(ListContext$1.Provider,{value:ps,children:jsxRuntimeExports.jsxs(ListRoot,_extends$a({as,className:clsx(ms.root,ss),ref:rs,ownerState:hs},ds,{children:[us,os]}))})}),List$1=List;function getListItemUtilityClass(ts){return generateUtilityClass("MuiListItem",ts)}const listItemClasses=generateUtilityClasses("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]),listItemClasses$1=listItemClasses;function getListItemButtonUtilityClass(ts){return generateUtilityClass("MuiListItemButton",ts)}const listItemButtonClasses=generateUtilityClasses("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),listItemButtonClasses$1=listItemButtonClasses,_excluded$Q=["alignItems","autoFocus","component","children","dense","disableGutters","divider","focusVisibleClassName","selected","className"],overridesResolver$3=(ts,ns)=>{const{ownerState:rs}=ts;return[ns.root,rs.dense&&ns.dense,rs.alignItems==="flex-start"&&ns.alignItemsFlexStart,rs.divider&&ns.divider,!rs.disableGutters&&ns.gutters]},useUtilityClasses$D=ts=>{const{alignItems:ns,classes:rs,dense:is,disabled:os,disableGutters:ss,divider:as,selected:ls}=ts,us=composeClasses({root:["root",is&&"dense",!ss&&"gutters",as&&"divider",os&&"disabled",ns==="flex-start"&&"alignItemsFlexStart",ls&&"selected"]},getListItemButtonUtilityClass,rs);return _extends$a({},rs,us)},ListItemButtonRoot=styled$2(ButtonBase$1,{shouldForwardProp:ts=>rootShouldForwardProp$2(ts)||ts==="classes",name:"MuiListItemButton",slot:"Root",overridesResolver:overridesResolver$3})(({theme:ts,ownerState:ns})=>_extends$a({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:ts.transitions.create("background-color",{duration:ts.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(ts.vars||ts).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(listItemButtonClasses$1.selected)]:{backgroundColor:ts.vars?"rgba(".concat(ts.vars.palette.primary.mainChannel," / ").concat(ts.vars.palette.action.selectedOpacity,")"):alpha_1(ts.palette.primary.main,ts.palette.action.selectedOpacity),["&.".concat(listItemButtonClasses$1.focusVisible)]:{backgroundColor:ts.vars?"rgba(".concat(ts.vars.palette.primary.mainChannel," / calc(").concat(ts.vars.palette.action.selectedOpacity," + ").concat(ts.vars.palette.action.focusOpacity,"))"):alpha_1(ts.palette.primary.main,ts.palette.action.selectedOpacity+ts.palette.action.focusOpacity)}},["&.".concat(listItemButtonClasses$1.selected,":hover")]:{backgroundColor:ts.vars?"rgba(".concat(ts.vars.palette.primary.mainChannel," / calc(").concat(ts.vars.palette.action.selectedOpacity," + ").concat(ts.vars.palette.action.hoverOpacity,"))"):alpha_1(ts.palette.primary.main,ts.palette.action.selectedOpacity+ts.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:ts.vars?"rgba(".concat(ts.vars.palette.primary.mainChannel," / ").concat(ts.vars.palette.action.selectedOpacity,")"):alpha_1(ts.palette.primary.main,ts.palette.action.selectedOpacity)}},["&.".concat(listItemButtonClasses$1.focusVisible)]:{backgroundColor:(ts.vars||ts).palette.action.focus},["&.".concat(listItemButtonClasses$1.disabled)]:{opacity:(ts.vars||ts).palette.action.disabledOpacity}},ns.divider&&{borderBottom:"1px solid ".concat((ts.vars||ts).palette.divider),backgroundClip:"padding-box"},ns.alignItems==="flex-start"&&{alignItems:"flex-start"},!ns.disableGutters&&{paddingLeft:16,paddingRight:16},ns.dense&&{paddingTop:4,paddingBottom:4})),ListItemButton=reactExports.forwardRef(function(ns,rs){const is=useDefaultProps({props:ns,name:"MuiListItemButton"}),{alignItems:os="center",autoFocus:ss=!1,component:as="div",children:ls,dense:cs=!1,disableGutters:us=!1,divider:ds=!1,focusVisibleClassName:ps,selected:hs=!1,className:ms}=is,gs=_objectWithoutPropertiesLoose$3(is,_excluded$Q),ys=reactExports.useContext(ListContext$1),vs=reactExports.useMemo(()=>({dense:cs||ys.dense||!1,alignItems:os,disableGutters:us}),[os,ys.dense,cs,us]),bs=reactExports.useRef(null);useEnhancedEffect$1(()=>{ss&&bs.current&&bs.current.focus()},[ss]);const Ss=_extends$a({},is,{alignItems:os,dense:vs.dense,disableGutters:us,divider:ds,selected:hs}),$s=useUtilityClasses$D(Ss),Cs=useForkRef(bs,rs);return jsxRuntimeExports.jsx(ListContext$1.Provider,{value:vs,children:jsxRuntimeExports.jsx(ListItemButtonRoot,_extends$a({ref:Cs,href:gs.href||gs.to,component:(gs.href||gs.to)&&as==="div"?"button":as,focusVisibleClassName:clsx($s.focusVisible,ps),ownerState:Ss,className:clsx($s.root,ms)},gs,{classes:$s,children:ls}))})}),ListItemButton$1=ListItemButton;function getListItemSecondaryActionClassesUtilityClass(ts){return generateUtilityClass("MuiListItemSecondaryAction",ts)}generateUtilityClasses("MuiListItemSecondaryAction",["root","disableGutters"]);const _excluded$P=["className"],useUtilityClasses$C=ts=>{const{disableGutters:ns,classes:rs}=ts;return composeClasses({root:["root",ns&&"disableGutters"]},getListItemSecondaryActionClassesUtilityClass,rs)},ListItemSecondaryActionRoot=styled$2("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(ts,ns)=>{const{ownerState:rs}=ts;return[ns.root,rs.disableGutters&&ns.disableGutters]}})(({ownerState:ts})=>_extends$a({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},ts.disableGutters&&{right:0})),ListItemSecondaryAction=reactExports.forwardRef(function(ns,rs){const is=useDefaultProps({props:ns,name:"MuiListItemSecondaryAction"}),{className:os}=is,ss=_objectWithoutPropertiesLoose$3(is,_excluded$P),as=reactExports.useContext(ListContext$1),ls=_extends$a({},is,{disableGutters:as.disableGutters}),cs=useUtilityClasses$C(ls);return jsxRuntimeExports.jsx(ListItemSecondaryActionRoot,_extends$a({className:clsx(cs.root,os),ownerState:ls,ref:rs},ss))});ListItemSecondaryAction.muiName="ListItemSecondaryAction";const ListItemSecondaryAction$1=ListItemSecondaryAction,_excluded$O=["className"],_excluded2$8=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],overridesResolver$2=(ts,ns)=>{const{ownerState:rs}=ts;return[ns.root,rs.dense&&ns.dense,rs.alignItems==="flex-start"&&ns.alignItemsFlexStart,rs.divider&&ns.divider,!rs.disableGutters&&ns.gutters,!rs.disablePadding&&ns.padding,rs.button&&ns.button,rs.hasSecondaryAction&&ns.secondaryAction]},useUtilityClasses$B=ts=>{const{alignItems:ns,button:rs,classes:is,dense:os,disabled:ss,disableGutters:as,disablePadding:ls,divider:cs,hasSecondaryAction:us,selected:ds}=ts;return composeClasses({root:["root",os&&"dense",!as&&"gutters",!ls&&"padding",cs&&"divider",ss&&"disabled",rs&&"button",ns==="flex-start"&&"alignItemsFlexStart",us&&"secondaryAction",ds&&"selected"],container:["container"]},getListItemUtilityClass,is)},ListItemRoot=styled$2("div",{name:"MuiListItem",slot:"Root",overridesResolver:overridesResolver$2})(({theme:ts,ownerState:ns})=>_extends$a({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!ns.disablePadding&&_extends$a({paddingTop:8,paddingBottom:8},ns.dense&&{paddingTop:4,paddingBottom:4},!ns.disableGutters&&{paddingLeft:16,paddingRight:16},!!ns.secondaryAction&&{paddingRight:48}),!!ns.secondaryAction&&{["& > .".concat(listItemButtonClasses$1.root)]:{paddingRight:48}},{["&.".concat(listItemClasses$1.focusVisible)]:{backgroundColor:(ts.vars||ts).palette.action.focus},["&.".concat(listItemClasses$1.selected)]:{backgroundColor:ts.vars?"rgba(".concat(ts.vars.palette.primary.mainChannel," / ").concat(ts.vars.palette.action.selectedOpacity,")"):alpha_1(ts.palette.primary.main,ts.palette.action.selectedOpacity),["&.".concat(listItemClasses$1.focusVisible)]:{backgroundColor:ts.vars?"rgba(".concat(ts.vars.palette.primary.mainChannel," / calc(").concat(ts.vars.palette.action.selectedOpacity," + ").concat(ts.vars.palette.action.focusOpacity,"))"):alpha_1(ts.palette.primary.main,ts.palette.action.selectedOpacity+ts.palette.action.focusOpacity)}},["&.".concat(listItemClasses$1.disabled)]:{opacity:(ts.vars||ts).palette.action.disabledOpacity}},ns.alignItems==="flex-start"&&{alignItems:"flex-start"},ns.divider&&{borderBottom:"1px solid ".concat((ts.vars||ts).palette.divider),backgroundClip:"padding-box"},ns.button&&{transition:ts.transitions.create("background-color",{duration:ts.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(ts.vars||ts).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(listItemClasses$1.selected,":hover")]:{backgroundColor:ts.vars?"rgba(".concat(ts.vars.palette.primary.mainChannel," / calc(").concat(ts.vars.palette.action.selectedOpacity," + ").concat(ts.vars.palette.action.hoverOpacity,"))"):alpha_1(ts.palette.primary.main,ts.palette.action.selectedOpacity+ts.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:ts.vars?"rgba(".concat(ts.vars.palette.primary.mainChannel," / ").concat(ts.vars.palette.action.selectedOpacity,")"):alpha_1(ts.palette.primary.main,ts.palette.action.selectedOpacity)}}},ns.hasSecondaryAction&&{paddingRight:48})),ListItemContainer=styled$2("li",{name:"MuiListItem",slot:"Container",overridesResolver:(ts,ns)=>ns.container})({position:"relative"}),ListItem=reactExports.forwardRef(function(ns,rs){const is=useDefaultProps({props:ns,name:"MuiListItem"}),{alignItems:os="center",autoFocus:ss=!1,button:as=!1,children:ls,className:cs,component:us,components:ds={},componentsProps:ps={},ContainerComponent:hs="li",ContainerProps:{className:ms}={},dense:gs=!1,disabled:ys=!1,disableGutters:vs=!1,disablePadding:bs=!1,divider:Ss=!1,focusVisibleClassName:$s,secondaryAction:Cs,selected:Es=!1,slotProps:xs={},slots:ws={}}=is,ks=_objectWithoutPropertiesLoose$3(is.ContainerProps,_excluded$O),Is=_objectWithoutPropertiesLoose$3(is,_excluded2$8),Ts=reactExports.useContext(ListContext$1),Rs=reactExports.useMemo(()=>({dense:gs||Ts.dense||!1,alignItems:os,disableGutters:vs}),[os,Ts.dense,gs,vs]),As=reactExports.useRef(null);useEnhancedEffect$1(()=>{ss&&As.current&&As.current.focus()},[ss]);const Ms=reactExports.Children.toArray(ls),Ls=Ms.length&&isMuiElement(Ms[Ms.length-1],["ListItemSecondaryAction"]),Ds=_extends$a({},is,{alignItems:os,autoFocus:ss,button:as,dense:Rs.dense,disabled:ys,disableGutters:vs,disablePadding:bs,divider:Ss,hasSecondaryAction:Ls,selected:Es}),Fs=useUtilityClasses$B(Ds),Vs=useForkRef(As,rs),Bs=ws.root||ds.Root||ListItemRoot,Ws=xs.root||ps.root||{},Os=_extends$a({className:clsx(Fs.root,Ws.className,cs),disabled:ys},Is);let Nl=us||"li";return as&&(Os.component=us||"div",Os.focusVisibleClassName=clsx(listItemClasses$1.focusVisible,$s),Nl=ButtonBase$1),Ls?(Nl=!Os.component&&!us?"div":Nl,hs==="li"&&(Nl==="li"?Nl="div":Os.component==="li"&&(Os.component="div")),jsxRuntimeExports.jsx(ListContext$1.Provider,{value:Rs,children:jsxRuntimeExports.jsxs(ListItemContainer,_extends$a({as:hs,className:clsx(Fs.container,ms),ref:Vs,ownerState:Ds},ks,{children:[jsxRuntimeExports.jsx(Bs,_extends$a({},Ws,!isHostComponent$1(Bs)&&{as:Nl,ownerState:_extends$a({},Ds,Ws.ownerState)},Os,{children:Ms})),Ms.pop()]}))})):jsxRuntimeExports.jsx(ListContext$1.Provider,{value:Rs,children:jsxRuntimeExports.jsxs(Bs,_extends$a({},Ws,{as:Nl,ref:Vs},!isHostComponent$1(Bs)&&{ownerState:_extends$a({},Ds,Ws.ownerState)},Os,{children:[Ms,Cs&&jsxRuntimeExports.jsx(ListItemSecondaryAction$1,{children:Cs})]}))})}),ListItem$1=ListItem;function getListItemAvatarUtilityClass(ts){return generateUtilityClass("MuiListItemAvatar",ts)}generateUtilityClasses("MuiListItemAvatar",["root","alignItemsFlexStart"]);const _excluded$N=["className"],useUtilityClasses$A=ts=>{const{alignItems:ns,classes:rs}=ts;return composeClasses({root:["root",ns==="flex-start"&&"alignItemsFlexStart"]},getListItemAvatarUtilityClass,rs)},ListItemAvatarRoot=styled$2("div",{name:"MuiListItemAvatar",slot:"Root",overridesResolver:(ts,ns)=>{const{ownerState:rs}=ts;return[ns.root,rs.alignItems==="flex-start"&&ns.alignItemsFlexStart]}})(({ownerState:ts})=>_extends$a({minWidth:56,flexShrink:0},ts.alignItems==="flex-start"&&{marginTop:8})),ListItemAvatar=reactExports.forwardRef(function(ns,rs){const is=useDefaultProps({props:ns,name:"MuiListItemAvatar"}),{className:os}=is,ss=_objectWithoutPropertiesLoose$3(is,_excluded$N),as=reactExports.useContext(ListContext$1),ls=_extends$a({},is,{alignItems:as.alignItems}),cs=useUtilityClasses$A(ls);return jsxRuntimeExports.jsx(ListItemAvatarRoot,_extends$a({className:clsx(cs.root,os),ownerState:ls,ref:rs},ss))}),ListItemAvatar$1=ListItemAvatar,listItemIconClasses=generateUtilityClasses("MuiListItemIcon",["root","alignItemsFlexStart"]),listItemIconClasses$1=listItemIconClasses;function getListItemTextUtilityClass(ts){return generateUtilityClass("MuiListItemText",ts)}const listItemTextClasses=generateUtilityClasses("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),listItemTextClasses$1=listItemTextClasses,_excluded$M=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],useUtilityClasses$z=ts=>{const{classes:ns,inset:rs,primary:is,secondary:os,dense:ss}=ts;return composeClasses({root:["root",rs&&"inset",ss&&"dense",is&&os&&"multiline"],primary:["primary"],secondary:["secondary"]},getListItemTextUtilityClass,ns)},ListItemTextRoot=styled$2("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(ts,ns)=>{const{ownerState:rs}=ts;return[{["& .".concat(listItemTextClasses$1.primary)]:ns.primary},{["& .".concat(listItemTextClasses$1.secondary)]:ns.secondary},ns.root,rs.inset&&ns.inset,rs.primary&&rs.secondary&&ns.multiline,rs.dense&&ns.dense]}})(({ownerState:ts})=>_extends$a({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},ts.primary&&ts.secondary&&{marginTop:6,marginBottom:6},ts.inset&&{paddingLeft:56})),ListItemText=reactExports.forwardRef(function(ns,rs){const is=useDefaultProps({props:ns,name:"MuiListItemText"}),{children:os,className:ss,disableTypography:as=!1,inset:ls=!1,primary:cs,primaryTypographyProps:us,secondary:ds,secondaryTypographyProps:ps}=is,hs=_objectWithoutPropertiesLoose$3(is,_excluded$M),{dense:ms}=reactExports.useContext(ListContext$1);let gs=cs!=null?cs:os,ys=ds;const vs=_extends$a({},is,{disableTypography:as,inset:ls,primary:!!gs,secondary:!!ys,dense:ms}),bs=useUtilityClasses$z(vs);return gs!=null&&gs.type!==Typography$1&&!as&&(gs=jsxRuntimeExports.jsx(Typography$1,_extends$a({variant:ms?"body2":"body1",className:bs.primary,component:us!=null&&us.variant?void 0:"span",display:"block"},us,{children:gs}))),ys!=null&&ys.type!==Typography$1&&!as&&(ys=jsxRuntimeExports.jsx(Typography$1,_extends$a({variant:"body2",className:bs.secondary,color:"text.secondary",display:"block"},ps,{children:ys}))),jsxRuntimeExports.jsxs(ListItemTextRoot,_extends$a({className:clsx(bs.root,ss),ownerState:vs,ref:rs},hs,{children:[gs,ys]}))}),ListItemText$1=ListItemText,_excluded$L=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function nextItem$1(ts,ns,rs){return ts===ns?ts.firstChild:ns&&ns.nextElementSibling?ns.nextElementSibling:rs?null:ts.firstChild}function previousItem$1(ts,ns,rs){return ts===ns?rs?ts.firstChild:ts.lastChild:ns&&ns.previousElementSibling?ns.previousElementSibling:rs?null:ts.lastChild}function textCriteriaMatches(ts,ns){if(ns===void 0)return!0;let rs=ts.innerText;return rs===void 0&&(rs=ts.textContent),rs=rs.trim().toLowerCase(),rs.length===0?!1:ns.repeating?rs[0]===ns.keys[0]:rs.indexOf(ns.keys.join(""))===0}function moveFocus$1(ts,ns,rs,is,os,ss){let as=!1,ls=os(ts,ns,ns?rs:!1);for(;ls;){if(ls===ts.firstChild){if(as)return!1;as=!0}const cs=is?!1:ls.disabled||ls.getAttribute("aria-disabled")==="true";if(!ls.hasAttribute("tabindex")||!textCriteriaMatches(ls,ss)||cs)ls=os(ts,ls,rs);else return ls.focus(),!0}return!1}const MenuList=reactExports.forwardRef(function(ns,rs){const{actions:is,autoFocus:os=!1,autoFocusItem:ss=!1,children:as,className:ls,disabledItemsFocusable:cs=!1,disableListWrap:us=!1,onKeyDown:ds,variant:ps="selectedMenu"}=ns,hs=_objectWithoutPropertiesLoose$3(ns,_excluded$L),ms=reactExports.useRef(null),gs=reactExports.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});useEnhancedEffect$1(()=>{os&&ms.current.focus()},[os]),reactExports.useImperativeHandle(is,()=>({adjustStyleForScrollbar:($s,{direction:Cs})=>{const Es=!ms.current.style.width;if($s.clientHeight<ms.current.clientHeight&&Es){const xs="".concat(getScrollbarSize(ownerDocument($s)),"px");ms.current.style[Cs==="rtl"?"paddingLeft":"paddingRight"]=xs,ms.current.style.width="calc(100% + ".concat(xs,")")}return ms.current}}),[]);const ys=$s=>{const Cs=ms.current,Es=$s.key,xs=ownerDocument(Cs).activeElement;if(Es==="ArrowDown")$s.preventDefault(),moveFocus$1(Cs,xs,us,cs,nextItem$1);else if(Es==="ArrowUp")$s.preventDefault(),moveFocus$1(Cs,xs,us,cs,previousItem$1);else if(Es==="Home")$s.preventDefault(),moveFocus$1(Cs,null,us,cs,nextItem$1);else if(Es==="End")$s.preventDefault(),moveFocus$1(Cs,null,us,cs,previousItem$1);else if(Es.length===1){const ws=gs.current,ks=Es.toLowerCase(),Is=performance.now();ws.keys.length>0&&(Is-ws.lastTime>500?(ws.keys=[],ws.repeating=!0,ws.previousKeyMatched=!0):ws.repeating&&ks!==ws.keys[0]&&(ws.repeating=!1)),ws.lastTime=Is,ws.keys.push(ks);const Ts=xs&&!ws.repeating&&textCriteriaMatches(xs,ws);ws.previousKeyMatched&&(Ts||moveFocus$1(Cs,xs,!1,cs,nextItem$1,ws))?$s.preventDefault():ws.previousKeyMatched=!1}ds&&ds($s)},vs=useForkRef(ms,rs);let bs=-1;reactExports.Children.forEach(as,($s,Cs)=>{if(!reactExports.isValidElement($s)){bs===Cs&&(bs+=1,bs>=as.length&&(bs=-1));return}$s.props.disabled||(ps==="selectedMenu"&&$s.props.selected||bs===-1)&&(bs=Cs),bs===Cs&&($s.props.disabled||$s.props.muiSkipListHighlight||$s.type.muiSkipListHighlight)&&(bs+=1,bs>=as.length&&(bs=-1))});const Ss=reactExports.Children.map(as,($s,Cs)=>{if(Cs===bs){const Es={};return ss&&(Es.autoFocus=!0),$s.props.tabIndex===void 0&&ps==="selectedMenu"&&(Es.tabIndex=0),reactExports.cloneElement($s,Es)}return $s});return jsxRuntimeExports.jsx(List$1,_extends$a({role:"menu",ref:vs,className:ls,onKeyDown:ys,tabIndex:os?0:-1},hs,{children:Ss}))}),MenuList$1=MenuList;function getPopoverUtilityClass(ts){return generateUtilityClass("MuiPopover",ts)}generateUtilityClasses("MuiPopover",["root","paper"]);const _excluded$K=["onEntering"],_excluded2$7=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],_excluded3$1=["slotProps"];function getOffsetTop(ts,ns){let rs=0;return typeof ns=="number"?rs=ns:ns==="center"?rs=ts.height/2:ns==="bottom"&&(rs=ts.height),rs}function getOffsetLeft(ts,ns){let rs=0;return typeof ns=="number"?rs=ns:ns==="center"?rs=ts.width/2:ns==="right"&&(rs=ts.width),rs}function getTransformOriginValue(ts){return[ts.horizontal,ts.vertical].map(ns=>typeof ns=="number"?"".concat(ns,"px"):ns).join(" ")}function resolveAnchorEl(ts){return typeof ts=="function"?ts():ts}const useUtilityClasses$y=ts=>{const{classes:ns}=ts;return composeClasses({root:["root"],paper:["paper"]},getPopoverUtilityClass,ns)},PopoverRoot=styled$2(Modal$1,{name:"MuiPopover",slot:"Root",overridesResolver:(ts,ns)=>ns.root})({}),PopoverPaper=styled$2(Paper$1,{name:"MuiPopover",slot:"Paper",overridesResolver:(ts,ns)=>ns.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Popover=reactExports.forwardRef(function(ns,rs){var is,os,ss;const as=useDefaultProps({props:ns,name:"MuiPopover"}),{action:ls,anchorEl:cs,anchorOrigin:us={vertical:"top",horizontal:"left"},anchorPosition:ds,anchorReference:ps="anchorEl",children:hs,className:ms,container:gs,elevation:ys=8,marginThreshold:vs=16,open:bs,PaperProps:Ss={},slots:$s,slotProps:Cs,transformOrigin:Es={vertical:"top",horizontal:"left"},TransitionComponent:xs=Grow$1,transitionDuration:ws="auto",TransitionProps:{onEntering:ks}={},disableScrollLock:Is=!1}=as,Ts=_objectWithoutPropertiesLoose$3(as.TransitionProps,_excluded$K),Rs=_objectWithoutPropertiesLoose$3(as,_excluded2$7),As=(is=Cs==null?void 0:Cs.paper)!=null?is:Ss,Ms=reactExports.useRef(),Ls=useForkRef(Ms,As.ref),Ds=_extends$a({},as,{anchorOrigin:us,anchorReference:ps,elevation:ys,marginThreshold:vs,externalPaperSlotProps:As,transformOrigin:Es,TransitionComponent:xs,transitionDuration:ws,TransitionProps:Ts}),Fs=useUtilityClasses$y(Ds),Vs=reactExports.useCallback(()=>{if(ps==="anchorPosition")return ds;const wl=resolveAnchorEl(cs),xl=(wl&&wl.nodeType===1?wl:ownerDocument(Ms.current).body).getBoundingClientRect();return{top:xl.top+getOffsetTop(xl,us.vertical),left:xl.left+getOffsetLeft(xl,us.horizontal)}},[cs,us.horizontal,us.vertical,ds,ps]),Bs=reactExports.useCallback(wl=>({vertical:getOffsetTop(wl,Es.vertical),horizontal:getOffsetLeft(wl,Es.horizontal)}),[Es.horizontal,Es.vertical]),Ws=reactExports.useCallback(wl=>{const Tl={width:wl.offsetWidth,height:wl.offsetHeight},xl=Bs(Tl);if(ps==="none")return{top:null,left:null,transformOrigin:getTransformOriginValue(xl)};const Al=Vs();let Dl=Al.top-xl.vertical,Ns=Al.left-xl.horizontal;const Hs=Dl+Tl.height,Gs=Ns+Tl.width,Js=ownerWindow(resolveAnchorEl(cs)),El=Js.innerHeight-vs,Xs=Js.innerWidth-vs;if(vs!==null&&Dl<vs){const _l=Dl-vs;Dl-=_l,xl.vertical+=_l}else if(vs!==null&&Hs>El){const _l=Hs-El;Dl-=_l,xl.vertical+=_l}if(vs!==null&&Ns<vs){const _l=Ns-vs;Ns-=_l,xl.horizontal+=_l}else if(Gs>Xs){const _l=Gs-Xs;Ns-=_l,xl.horizontal+=_l}return{top:"".concat(Math.round(Dl),"px"),left:"".concat(Math.round(Ns),"px"),transformOrigin:getTransformOriginValue(xl)}},[cs,ps,Vs,Bs,vs]),[Os,Nl]=reactExports.useState(bs),$a=reactExports.useCallback(()=>{const wl=Ms.current;if(!wl)return;const Tl=Ws(wl);Tl.top!==null&&(wl.style.top=Tl.top),Tl.left!==null&&(wl.style.left=Tl.left),wl.style.transformOrigin=Tl.transformOrigin,Nl(!0)},[Ws]);reactExports.useEffect(()=>(Is&&window.addEventListener("scroll",$a),()=>window.removeEventListener("scroll",$a)),[cs,Is,$a]);const Ps=(wl,Tl)=>{ks&&ks(wl,Tl),$a()},Ys=()=>{Nl(!1)};reactExports.useEffect(()=>{bs&&$a()}),reactExports.useImperativeHandle(ls,()=>bs?{updatePosition:()=>{$a()}}:null,[bs,$a]),reactExports.useEffect(()=>{if(!bs)return;const wl=debounce$3(()=>{$a()}),Tl=ownerWindow(cs);return Tl.addEventListener("resize",wl),()=>{wl.clear(),Tl.removeEventListener("resize",wl)}},[cs,bs,$a]);let Zs=ws;ws==="auto"&&!xs.muiSupportAuto&&(Zs=void 0);const Us=gs||(cs?ownerDocument(resolveAnchorEl(cs)).body:void 0),Ol=(os=$s==null?void 0:$s.root)!=null?os:PopoverRoot,qs=(ss=$s==null?void 0:$s.paper)!=null?ss:PopoverPaper,Fl=useSlotProps$1({elementType:qs,externalSlotProps:_extends$a({},As,{style:Os?As.style:_extends$a({},As.style,{opacity:0})}),additionalProps:{elevation:ys,ref:Ls},ownerState:Ds,className:clsx(Fs.paper,As==null?void 0:As.className)}),Ll=useSlotProps$1({elementType:Ol,externalSlotProps:(Cs==null?void 0:Cs.root)||{},externalForwardedProps:Rs,additionalProps:{ref:rs,slotProps:{backdrop:{invisible:!0}},container:Us,open:bs},ownerState:Ds,className:clsx(Fs.root,ms)}),{slotProps:$l}=Ll,Cl=_objectWithoutPropertiesLoose$3(Ll,_excluded3$1);return jsxRuntimeExports.jsx(Ol,_extends$a({},Cl,!isHostComponent$1(Ol)&&{slotProps:$l,disableScrollLock:Is},{children:jsxRuntimeExports.jsx(xs,_extends$a({appear:!0,in:bs,onEntering:Ps,onExited:Ys,timeout:Zs},Ts,{children:jsxRuntimeExports.jsx(qs,_extends$a({},Fl,{children:hs}))}))}))}),Popover$1=Popover;function getMenuUtilityClass(ts){return generateUtilityClass("MuiMenu",ts)}generateUtilityClasses("MuiMenu",["root","paper","list"]);const _excluded$J=["onEntering"],_excluded2$6=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],RTL_ORIGIN={vertical:"top",horizontal:"right"},LTR_ORIGIN={vertical:"top",horizontal:"left"},useUtilityClasses$x=ts=>{const{classes:ns}=ts;return composeClasses({root:["root"],paper:["paper"],list:["list"]},getMenuUtilityClass,ns)},MenuRoot=styled$2(Popover$1,{shouldForwardProp:ts=>rootShouldForwardProp$2(ts)||ts==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(ts,ns)=>ns.root})({}),MenuPaper=styled$2(PopoverPaper,{name:"MuiMenu",slot:"Paper",overridesResolver:(ts,ns)=>ns.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),MenuMenuList=styled$2(MenuList$1,{name:"MuiMenu",slot:"List",overridesResolver:(ts,ns)=>ns.list})({outline:0}),Menu=reactExports.forwardRef(function(ns,rs){var is,os;const ss=useDefaultProps({props:ns,name:"MuiMenu"}),{autoFocus:as=!0,children:ls,className:cs,disableAutoFocusItem:us=!1,MenuListProps:ds={},onClose:ps,open:hs,PaperProps:ms={},PopoverClasses:gs,transitionDuration:ys="auto",TransitionProps:{onEntering:vs}={},variant:bs="selectedMenu",slots:Ss={},slotProps:$s={}}=ss,Cs=_objectWithoutPropertiesLoose$3(ss.TransitionProps,_excluded$J),Es=_objectWithoutPropertiesLoose$3(ss,_excluded2$6),xs=useRtl(),ws=_extends$a({},ss,{autoFocus:as,disableAutoFocusItem:us,MenuListProps:ds,onEntering:vs,PaperProps:ms,transitionDuration:ys,TransitionProps:Cs,variant:bs}),ks=useUtilityClasses$x(ws),Is=as&&!us&&hs,Ts=reactExports.useRef(null),Rs=(Bs,Ws)=>{Ts.current&&Ts.current.adjustStyleForScrollbar(Bs,{direction:xs?"rtl":"ltr"}),vs&&vs(Bs,Ws)},As=Bs=>{Bs.key==="Tab"&&(Bs.preventDefault(),ps&&ps(Bs,"tabKeyDown"))};let Ms=-1;reactExports.Children.map(ls,(Bs,Ws)=>{reactExports.isValidElement(Bs)&&(Bs.props.disabled||(bs==="selectedMenu"&&Bs.props.selected||Ms===-1)&&(Ms=Ws))});const Ls=(is=Ss.paper)!=null?is:MenuPaper,Ds=(os=$s.paper)!=null?os:ms,Fs=useSlotProps$1({elementType:Ss.root,externalSlotProps:$s.root,ownerState:ws,className:[ks.root,cs]}),Vs=useSlotProps$1({elementType:Ls,externalSlotProps:Ds,ownerState:ws,className:ks.paper});return jsxRuntimeExports.jsx(MenuRoot,_extends$a({onClose:ps,anchorOrigin:{vertical:"bottom",horizontal:xs?"right":"left"},transformOrigin:xs?RTL_ORIGIN:LTR_ORIGIN,slots:{paper:Ls,root:Ss.root},slotProps:{root:Fs,paper:Vs},open:hs,ref:rs,transitionDuration:ys,TransitionProps:_extends$a({onEntering:Rs},Cs),ownerState:ws},Es,{classes:gs,children:jsxRuntimeExports.jsx(MenuMenuList,_extends$a({onKeyDown:As,actions:Ts,autoFocus:as&&(Ms===-1||us),autoFocusItem:Is,variant:bs},ds,{className:clsx(ks.list,ds.className),children:ls}))}))}),Menu$1=Menu;function getMenuItemUtilityClass(ts){return generateUtilityClass("MuiMenuItem",ts)}const menuItemClasses=generateUtilityClasses("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),menuItemClasses$1=menuItemClasses,_excluded$I=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],overridesResolver$1=(ts,ns)=>{const{ownerState:rs}=ts;return[ns.root,rs.dense&&ns.dense,rs.divider&&ns.divider,!rs.disableGutters&&ns.gutters]},useUtilityClasses$w=ts=>{const{disabled:ns,dense:rs,divider:is,disableGutters:os,selected:ss,classes:as}=ts,cs=composeClasses({root:["root",rs&&"dense",ns&&"disabled",!os&&"gutters",is&&"divider",ss&&"selected"]},getMenuItemUtilityClass,as);return _extends$a({},as,cs)},MenuItemRoot=styled$2(ButtonBase$1,{shouldForwardProp:ts=>rootShouldForwardProp$2(ts)||ts==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:overridesResolver$1})(({theme:ts,ownerState:ns})=>_extends$a({},ts.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!ns.disableGutters&&{paddingLeft:16,paddingRight:16},ns.divider&&{borderBottom:"1px solid ".concat((ts.vars||ts).palette.divider),backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(ts.vars||ts).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(menuItemClasses$1.selected)]:{backgroundColor:ts.vars?"rgba(".concat(ts.vars.palette.primary.mainChannel," / ").concat(ts.vars.palette.action.selectedOpacity,")"):alpha_1(ts.palette.primary.main,ts.palette.action.selectedOpacity),["&.".concat(menuItemClasses$1.focusVisible)]:{backgroundColor:ts.vars?"rgba(".concat(ts.vars.palette.primary.mainChannel," / calc(").concat(ts.vars.palette.action.selectedOpacity," + ").concat(ts.vars.palette.action.focusOpacity,"))"):alpha_1(ts.palette.primary.main,ts.palette.action.selectedOpacity+ts.palette.action.focusOpacity)}},["&.".concat(menuItemClasses$1.selected,":hover")]:{backgroundColor:ts.vars?"rgba(".concat(ts.vars.palette.primary.mainChannel," / calc(").concat(ts.vars.palette.action.selectedOpacity," + ").concat(ts.vars.palette.action.hoverOpacity,"))"):alpha_1(ts.palette.primary.main,ts.palette.action.selectedOpacity+ts.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:ts.vars?"rgba(".concat(ts.vars.palette.primary.mainChannel," / ").concat(ts.vars.palette.action.selectedOpacity,")"):alpha_1(ts.palette.primary.main,ts.palette.action.selectedOpacity)}},["&.".concat(menuItemClasses$1.focusVisible)]:{backgroundColor:(ts.vars||ts).palette.action.focus},["&.".concat(menuItemClasses$1.disabled)]:{opacity:(ts.vars||ts).palette.action.disabledOpacity},["& + .".concat(dividerClasses$1.root)]:{marginTop:ts.spacing(1),marginBottom:ts.spacing(1)},["& + .".concat(dividerClasses$1.inset)]:{marginLeft:52},["& .".concat(listItemTextClasses$1.root)]:{marginTop:0,marginBottom:0},["& .".concat(listItemTextClasses$1.inset)]:{paddingLeft:36},["& .".concat(listItemIconClasses$1.root)]:{minWidth:36}},!ns.dense&&{[ts.breakpoints.up("sm")]:{minHeight:"auto"}},ns.dense&&_extends$a({minHeight:32,paddingTop:4,paddingBottom:4},ts.typography.body2,{["& .".concat(listItemIconClasses$1.root," svg")]:{fontSize:"1.25rem"}}))),MenuItem=reactExports.forwardRef(function(ns,rs){const is=useDefaultProps({props:ns,name:"MuiMenuItem"}),{autoFocus:os=!1,component:ss="li",dense:as=!1,divider:ls=!1,disableGutters:cs=!1,focusVisibleClassName:us,role:ds="menuitem",tabIndex:ps,className:hs}=is,ms=_objectWithoutPropertiesLoose$3(is,_excluded$I),gs=reactExports.useContext(ListContext$1),ys=reactExports.useMemo(()=>({dense:as||gs.dense||!1,disableGutters:cs}),[gs.dense,as,cs]),vs=reactExports.useRef(null);useEnhancedEffect$1(()=>{os&&vs.current&&vs.current.focus()},[os]);const bs=_extends$a({},is,{dense:ys.dense,divider:ls,disableGutters:cs}),Ss=useUtilityClasses$w(is),$s=useForkRef(vs,rs);let Cs;return is.disabled||(Cs=ps!==void 0?ps:-1),jsxRuntimeExports.jsx(ListContext$1.Provider,{value:ys,children:jsxRuntimeExports.jsx(MenuItemRoot,_extends$a({ref:$s,role:ds,tabIndex:Cs,component:ss,focusVisibleClassName:clsx(Ss.focusVisible,us),className:clsx(Ss.root,hs)},ms,{ownerState:bs,classes:Ss}))})}),MenuItem$1=MenuItem;function getNativeSelectUtilityClasses(ts){return generateUtilityClass("MuiNativeSelect",ts)}const nativeSelectClasses=generateUtilityClasses("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),nativeSelectClasses$1=nativeSelectClasses,_excluded$H=["className","disabled","error","IconComponent","inputRef","variant"],useUtilityClasses$v=ts=>{const{classes:ns,variant:rs,disabled:is,multiple:os,open:ss,error:as}=ts,ls={select:["select",rs,is&&"disabled",os&&"multiple",as&&"error"],icon:["icon","icon".concat(capitalize$4(rs)),ss&&"iconOpen",is&&"disabled"]};return composeClasses(ls,getNativeSelectUtilityClasses,ns)},nativeSelectSelectStyles=({ownerState:ts,theme:ns})=>_extends$a({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":_extends$a({},ns.vars?{backgroundColor:"rgba(".concat(ns.vars.palette.common.onBackgroundChannel," / 0.05)")}:{backgroundColor:ns.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},["&.".concat(nativeSelectClasses$1.disabled)]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(ns.vars||ns).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},ts.variant==="filled"&&{"&&&":{paddingRight:32}},ts.variant==="outlined"&&{borderRadius:(ns.vars||ns).shape.borderRadius,"&:focus":{borderRadius:(ns.vars||ns).shape.borderRadius},"&&&":{paddingRight:32}}),NativeSelectSelect=styled$2("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:rootShouldForwardProp$2,overridesResolver:(ts,ns)=>{const{ownerState:rs}=ts;return[ns.select,ns[rs.variant],rs.error&&ns.error,{["&.".concat(nativeSelectClasses$1.multiple)]:ns.multiple}]}})(nativeSelectSelectStyles),nativeSelectIconStyles=({ownerState:ts,theme:ns})=>_extends$a({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(ns.vars||ns).palette.action.active,["&.".concat(nativeSelectClasses$1.disabled)]:{color:(ns.vars||ns).palette.action.disabled}},ts.open&&{transform:"rotate(180deg)"},ts.variant==="filled"&&{right:7},ts.variant==="outlined"&&{right:7}),NativeSelectIcon=styled$2("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(ts,ns)=>{const{ownerState:rs}=ts;return[ns.icon,rs.variant&&ns["icon".concat(capitalize$4(rs.variant))],rs.open&&ns.iconOpen]}})(nativeSelectIconStyles),NativeSelectInput=reactExports.forwardRef(function(ns,rs){const{className:is,disabled:os,error:ss,IconComponent:as,inputRef:ls,variant:cs="standard"}=ns,us=_objectWithoutPropertiesLoose$3(ns,_excluded$H),ds=_extends$a({},ns,{disabled:os,variant:cs,error:ss}),ps=useUtilityClasses$v(ds);return jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx(NativeSelectSelect,_extends$a({ownerState:ds,className:clsx(ps.select,is),disabled:os,ref:ls||rs},us)),ns.multiple?null:jsxRuntimeExports.jsx(NativeSelectIcon,{as,ownerState:ds,className:ps.icon})]})}),NativeSelectInput$1=NativeSelectInput;var _span$1;const _excluded$G=["children","classes","className","label","notched"],NotchedOutlineRoot$1=styled$2("fieldset",{shouldForwardProp:rootShouldForwardProp$2})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),NotchedOutlineLegend=styled$2("legend",{shouldForwardProp:rootShouldForwardProp$2})(({ownerState:ts,theme:ns})=>_extends$a({float:"unset",width:"auto",overflow:"hidden"},!ts.withLabel&&{padding:0,lineHeight:"11px",transition:ns.transitions.create("width",{duration:150,easing:ns.transitions.easing.easeOut})},ts.withLabel&&_extends$a({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:ns.transitions.create("max-width",{duration:50,easing:ns.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},ts.notched&&{maxWidth:"100%",transition:ns.transitions.create("max-width",{duration:100,easing:ns.transitions.easing.easeOut,delay:50})})));function NotchedOutline(ts){const{className:ns,label:rs,notched:is}=ts,os=_objectWithoutPropertiesLoose$3(ts,_excluded$G),ss=rs!=null&&rs!=="",as=_extends$a({},ts,{notched:is,withLabel:ss});return jsxRuntimeExports.jsx(NotchedOutlineRoot$1,_extends$a({"aria-hidden":!0,className:ns,ownerState:as},os,{children:jsxRuntimeExports.jsx(NotchedOutlineLegend,{ownerState:as,children:ss?jsxRuntimeExports.jsx("span",{children:rs}):_span$1||(_span$1=jsxRuntimeExports.jsx("span",{className:"notranslate",children:"â"}))})}))}const _excluded$F=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],useUtilityClasses$u=ts=>{const{classes:ns}=ts,is=composeClasses({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},getOutlinedInputUtilityClass,ns);return _extends$a({},ns,is)},OutlinedInputRoot=styled$2(InputBaseRoot,{shouldForwardProp:ts=>rootShouldForwardProp$2(ts)||ts==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:rootOverridesResolver})(({theme:ts,ownerState:ns})=>{const rs=ts.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return _extends$a({position:"relative",borderRadius:(ts.vars||ts).shape.borderRadius,["&:hover .".concat(outlinedInputClasses$1.notchedOutline)]:{borderColor:(ts.vars||ts).palette.text.primary},"@media (hover: none)":{["&:hover .".concat(outlinedInputClasses$1.notchedOutline)]:{borderColor:ts.vars?"rgba(".concat(ts.vars.palette.common.onBackgroundChannel," / 0.23)"):rs}},["&.".concat(outlinedInputClasses$1.focused," .").concat(outlinedInputClasses$1.notchedOutline)]:{borderColor:(ts.vars||ts).palette[ns.color].main,borderWidth:2},["&.".concat(outlinedInputClasses$1.error," .").concat(outlinedInputClasses$1.notchedOutline)]:{borderColor:(ts.vars||ts).palette.error.main},["&.".concat(outlinedInputClasses$1.disabled," .").concat(outlinedInputClasses$1.notchedOutline)]:{borderColor:(ts.vars||ts).palette.action.disabled}},ns.startAdornment&&{paddingLeft:14},ns.endAdornment&&{paddingRight:14},ns.multiline&&_extends$a({padding:"16.5px 14px"},ns.size==="small"&&{padding:"8.5px 14px"}))}),NotchedOutlineRoot=styled$2(NotchedOutline,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(ts,ns)=>ns.notchedOutline})(({theme:ts})=>{const ns=ts.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:ts.vars?"rgba(".concat(ts.vars.palette.common.onBackgroundChannel," / 0.23)"):ns}}),OutlinedInputInput=styled$2(InputBaseComponent,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:inputOverridesResolver})(({theme:ts,ownerState:ns})=>_extends$a({padding:"16.5px 14px"},!ts.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:ts.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:ts.palette.mode==="light"?null:"#fff",caretColor:ts.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},ts.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[ts.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},ns.size==="small"&&{padding:"8.5px 14px"},ns.multiline&&{padding:0},ns.startAdornment&&{paddingLeft:0},ns.endAdornment&&{paddingRight:0})),OutlinedInput=reactExports.forwardRef(function(ns,rs){var is,os,ss,as,ls;const cs=useDefaultProps({props:ns,name:"MuiOutlinedInput"}),{components:us={},fullWidth:ds=!1,inputComponent:ps="input",label:hs,multiline:ms=!1,notched:gs,slots:ys={},type:vs="text"}=cs,bs=_objectWithoutPropertiesLoose$3(cs,_excluded$F),Ss=useUtilityClasses$u(cs),$s=useFormControl(),Cs=formControlState({props:cs,muiFormControl:$s,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),Es=_extends$a({},cs,{color:Cs.color||"primary",disabled:Cs.disabled,error:Cs.error,focused:Cs.focused,formControl:$s,fullWidth:ds,hiddenLabel:Cs.hiddenLabel,multiline:ms,size:Cs.size,type:vs}),xs=(is=(os=ys.root)!=null?os:us.Root)!=null?is:OutlinedInputRoot,ws=(ss=(as=ys.input)!=null?as:us.Input)!=null?ss:OutlinedInputInput;return jsxRuntimeExports.jsx(InputBase$1,_extends$a({slots:{root:xs,input:ws},renderSuffix:ks=>jsxRuntimeExports.jsx(NotchedOutlineRoot,{ownerState:Es,className:Ss.notchedOutline,label:hs!=null&&hs!==""&&Cs.required?ls||(ls=jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[hs,"â","*"]})):hs,notched:typeof gs<"u"?gs:!!(ks.startAdornment||ks.filled||ks.focused)}),fullWidth:ds,inputComponent:ps,multiline:ms,ref:rs,type:vs},bs,{classes:_extends$a({},Ss,{notchedOutline:null})}))});OutlinedInput.muiName="Input";const OutlinedInput$1=OutlinedInput,RadioButtonUncheckedIcon=createSvgIcon$1(jsxRuntimeExports.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked"),RadioButtonCheckedIcon=createSvgIcon$1(jsxRuntimeExports.jsx("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"}),"RadioButtonChecked"),RadioButtonIconRoot=styled$2("span",{shouldForwardProp:rootShouldForwardProp$2})({position:"relative",display:"flex"}),RadioButtonIconBackground=styled$2(RadioButtonUncheckedIcon)({transform:"scale(1)"}),RadioButtonIconDot=styled$2(RadioButtonCheckedIcon)(({theme:ts,ownerState:ns})=>_extends$a({left:0,position:"absolute",transform:"scale(0)",transition:ts.transitions.create("transform",{easing:ts.transitions.easing.easeIn,duration:ts.transitions.duration.shortest})},ns.checked&&{transform:"scale(1)",transition:ts.transitions.create("transform",{easing:ts.transitions.easing.easeOut,duration:ts.transitions.duration.shortest})}));function RadioButtonIcon(ts){const{checked:ns=!1,classes:rs={},fontSize:is}=ts,os=_extends$a({},ts,{checked:ns});return jsxRuntimeExports.jsxs(RadioButtonIconRoot,{className:rs.root,ownerState:os,children:[jsxRuntimeExports.jsx(RadioButtonIconBackground,{fontSize:is,className:rs.background,ownerState:os}),jsxRuntimeExports.jsx(RadioButtonIconDot,{fontSize:is,className:rs.dot,ownerState:os})]})}const RadioGroupContext=reactExports.createContext(void 0),RadioGroupContext$1=RadioGroupContext;function useRadioGroup(){return reactExports.useContext(RadioGroupContext$1)}function getRadioUtilityClass(ts){return generateUtilityClass("MuiRadio",ts)}const radioClasses=generateUtilityClasses("MuiRadio",["root","checked","disabled","colorPrimary","colorSecondary","sizeSmall"]),radioClasses$1=radioClasses,_excluded$E=["checked","checkedIcon","color","icon","name","onChange","size","className"],useUtilityClasses$t=ts=>{const{classes:ns,color:rs,size:is}=ts,os={root:["root","color".concat(capitalize$4(rs)),is!=="medium"&&"size".concat(capitalize$4(is))]};return _extends$a({},ns,composeClasses(os,getRadioUtilityClass,ns))},RadioRoot=styled$2(SwitchBase$1,{shouldForwardProp:ts=>rootShouldForwardProp$2(ts)||ts==="classes",name:"MuiRadio",slot:"Root",overridesResolver:(ts,ns)=>{const{ownerState:rs}=ts;return[ns.root,rs.size!=="medium"&&ns["size".concat(capitalize$4(rs.size))],ns["color".concat(capitalize$4(rs.color))]]}})(({theme:ts,ownerState:ns})=>_extends$a({color:(ts.vars||ts).palette.text.secondary},!ns.disableRipple&&{"&:hover":{backgroundColor:ts.vars?"rgba(".concat(ns.color==="default"?ts.vars.palette.action.activeChannel:ts.vars.palette[ns.color].mainChannel," / ").concat(ts.vars.palette.action.hoverOpacity,")"):alpha_1(ns.color==="default"?ts.palette.action.active:ts.palette[ns.color].main,ts.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},ns.color!=="default"&&{["&.".concat(radioClasses$1.checked)]:{color:(ts.vars||ts).palette[ns.color].main}},{["&.".concat(radioClasses$1.disabled)]:{color:(ts.vars||ts).palette.action.disabled}}));function areEqualValues$1(ts,ns){return typeof ns=="object"&&ns!==null?ts===ns:String(ts)===String(ns)}const defaultCheckedIcon=jsxRuntimeExports.jsx(RadioButtonIcon,{checked:!0}),defaultIcon=jsxRuntimeExports.jsx(RadioButtonIcon,{}),Radio=reactExports.forwardRef(function(ns,rs){var is,os;const ss=useDefaultProps({props:ns,name:"MuiRadio"}),{checked:as,checkedIcon:ls=defaultCheckedIcon,color:cs="primary",icon:us=defaultIcon,name:ds,onChange:ps,size:hs="medium",className:ms}=ss,gs=_objectWithoutPropertiesLoose$3(ss,_excluded$E),ys=_extends$a({},ss,{color:cs,size:hs}),vs=useUtilityClasses$t(ys),bs=useRadioGroup();let Ss=as;const $s=createChainedFunction(ps,bs&&bs.onChange);let Cs=ds;return bs&&(typeof Ss>"u"&&(Ss=areEqualValues$1(bs.value,ss.value)),typeof Cs>"u"&&(Cs=bs.name)),jsxRuntimeExports.jsx(RadioRoot,_extends$a({type:"radio",icon:reactExports.cloneElement(us,{fontSize:(is=defaultIcon.props.fontSize)!=null?is:hs}),checkedIcon:reactExports.cloneElement(ls,{fontSize:(os=defaultCheckedIcon.props.fontSize)!=null?os:hs}),ownerState:ys,classes:vs,name:Cs,checked:Ss,onChange:$s,ref:rs,className:clsx(vs.root,ms)},gs))}),Radio$1=Radio;function getRadioGroupUtilityClass(ts){return generateUtilityClass("MuiRadioGroup",ts)}generateUtilityClasses("MuiRadioGroup",["root","row","error"]);const _excluded$D=["actions","children","className","defaultValue","name","onChange","value"],useUtilityClasses$s=ts=>{const{classes:ns,row:rs,error:is}=ts;return composeClasses({root:["root",rs&&"row",is&&"error"]},getRadioGroupUtilityClass,ns)},RadioGroup=reactExports.forwardRef(function(ns,rs){const{actions:is,children:os,className:ss,defaultValue:as,name:ls,onChange:cs,value:us}=ns,ds=_objectWithoutPropertiesLoose$3(ns,_excluded$D),ps=reactExports.useRef(null),hs=useUtilityClasses$s(ns),[ms,gs]=useControlled({controlled:us,default:as,name:"RadioGroup"});reactExports.useImperativeHandle(is,()=>({focus:()=>{let Ss=ps.current.querySelector("input:not(:disabled):checked");Ss||(Ss=ps.current.querySelector("input:not(:disabled)")),Ss&&Ss.focus()}}),[]);const ys=useForkRef(rs,ps),vs=useId(ls),bs=reactExports.useMemo(()=>({name:vs,onChange(Ss){gs(Ss.target.value),cs&&cs(Ss,Ss.target.value)},value:ms}),[vs,cs,gs,ms]);return jsxRuntimeExports.jsx(RadioGroupContext$1.Provider,{value:bs,children:jsxRuntimeExports.jsx(FormGroup$1,_extends$a({role:"radiogroup",ref:ys,className:clsx(hs.root,ss)},ds,{children:os}))})}),RadioGroup$1=RadioGroup;function getSelectUtilityClasses(ts){return generateUtilityClass("MuiSelect",ts)}const selectClasses=generateUtilityClasses("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),selectClasses$1=selectClasses;var _span;const _excluded$C=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],SelectSelect=styled$2("div",{name:"MuiSelect",slot:"Select",overridesResolver:(ts,ns)=>{const{ownerState:rs}=ts;return[{["&.".concat(selectClasses$1.select)]:ns.select},{["&.".concat(selectClasses$1.select)]:ns[rs.variant]},{["&.".concat(selectClasses$1.error)]:ns.error},{["&.".concat(selectClasses$1.multiple)]:ns.multiple}]}})(nativeSelectSelectStyles,{["&.".concat(selectClasses$1.select)]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),SelectIcon=styled$2("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(ts,ns)=>{const{ownerState:rs}=ts;return[ns.icon,rs.variant&&ns["icon".concat(capitalize$4(rs.variant))],rs.open&&ns.iconOpen]}})(nativeSelectIconStyles),SelectNativeInput=styled$2("input",{shouldForwardProp:ts=>slotShouldForwardProp(ts)&&ts!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(ts,ns)=>ns.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function areEqualValues(ts,ns){return typeof ns=="object"&&ns!==null?ts===ns:String(ts)===String(ns)}function isEmpty(ts){return ts==null||typeof ts=="string"&&!ts.trim()}const useUtilityClasses$r=ts=>{const{classes:ns,variant:rs,disabled:is,multiple:os,open:ss,error:as}=ts,ls={select:["select",rs,is&&"disabled",os&&"multiple",as&&"error"],icon:["icon","icon".concat(capitalize$4(rs)),ss&&"iconOpen",is&&"disabled"],nativeInput:["nativeInput"]};return composeClasses(ls,getSelectUtilityClasses,ns)},SelectInput$1=reactExports.forwardRef(function(ns,rs){var is;const{"aria-describedby":os,"aria-label":ss,autoFocus:as,autoWidth:ls,children:cs,className:us,defaultOpen:ds,defaultValue:ps,disabled:hs,displayEmpty:ms,error:gs=!1,IconComponent:ys,inputRef:vs,labelId:bs,MenuProps:Ss={},multiple:$s,name:Cs,onBlur:Es,onChange:xs,onClose:ws,onFocus:ks,onOpen:Is,open:Ts,readOnly:Rs,renderValue:As,SelectDisplayProps:Ms={},tabIndex:Ls,value:Ds,variant:Fs="standard"}=ns,Vs=_objectWithoutPropertiesLoose$3(ns,_excluded$C),[Bs,Ws]=useControlled({controlled:Ds,default:ps,name:"Select"}),[Os,Nl]=useControlled({controlled:Ts,default:ds,name:"Select"}),$a=reactExports.useRef(null),Ps=reactExports.useRef(null),[Ys,Zs]=reactExports.useState(null),{current:Us}=reactExports.useRef(Ts!=null),[Ol,qs]=reactExports.useState(),Fl=useForkRef(rs,vs),Ll=reactExports.useCallback(Gl=>{Ps.current=Gl,Gl&&Zs(Gl)},[]),$l=Ys==null?void 0:Ys.parentNode;reactExports.useImperativeHandle(Fl,()=>({focus:()=>{Ps.current.focus()},node:$a.current,value:Bs}),[Bs]),reactExports.useEffect(()=>{ds&&Os&&Ys&&!Us&&(qs(ls?null:$l.clientWidth),Ps.current.focus())},[Ys,ls]),reactExports.useEffect(()=>{as&&Ps.current.focus()},[as]),reactExports.useEffect(()=>{if(!bs)return;const Gl=ownerDocument(Ps.current).getElementById(bs);if(Gl){const iu=()=>{getSelection().isCollapsed&&Ps.current.focus()};return Gl.addEventListener("click",iu),()=>{Gl.removeEventListener("click",iu)}}},[bs]);const Cl=(Gl,iu)=>{Gl?Is&&Is(iu):ws&&ws(iu),Us||(qs(ls?null:$l.clientWidth),Nl(Gl))},wl=Gl=>{Gl.button===0&&(Gl.preventDefault(),Ps.current.focus(),Cl(!0,Gl))},Tl=Gl=>{Cl(!1,Gl)},xl=reactExports.Children.toArray(cs),Al=Gl=>{const iu=xl.find(Vl=>Vl.props.value===Gl.target.value);iu!==void 0&&(Ws(iu.props.value),xs&&xs(Gl,iu))},Dl=Gl=>iu=>{let Vl;if(iu.currentTarget.hasAttribute("tabindex")){if($s){Vl=Array.isArray(Bs)?Bs.slice():[];const Hl=Bs.indexOf(Gl.props.value);Hl===-1?Vl.push(Gl.props.value):Vl.splice(Hl,1)}else Vl=Gl.props.value;if(Gl.props.onClick&&Gl.props.onClick(iu),Bs!==Vl&&(Ws(Vl),xs)){const Hl=iu.nativeEvent||iu,zs=new Hl.constructor(Hl.type,Hl);Object.defineProperty(zs,"target",{writable:!0,value:{value:Vl,name:Cs}}),xs(zs,Gl)}$s||Cl(!1,iu)}},Ns=Gl=>{Rs||[" ","ArrowUp","ArrowDown","Enter"].indexOf(Gl.key)!==-1&&(Gl.preventDefault(),Cl(!0,Gl))},Hs=Ys!==null&&Os,Gs=Gl=>{!Hs&&Es&&(Object.defineProperty(Gl,"target",{writable:!0,value:{value:Bs,name:Cs}}),Es(Gl))};delete Vs["aria-invalid"];let Js,El;const Xs=[];let _l=!1;(isFilled({value:Bs})||ms)&&(As?Js=As(Bs):_l=!0);const Bl=xl.map(Gl=>{if(!reactExports.isValidElement(Gl))return null;let iu;if($s){if(!Array.isArray(Bs))throw new Error(formatMuiErrorMessage$1(2));iu=Bs.some(Vl=>areEqualValues(Vl,Gl.props.value)),iu&&_l&&Xs.push(Gl.props.children)}else iu=areEqualValues(Bs,Gl.props.value),iu&&_l&&(El=Gl.props.children);return reactExports.cloneElement(Gl,{"aria-selected":iu?"true":"false",onClick:Dl(Gl),onKeyUp:Vl=>{Vl.key===" "&&Vl.preventDefault(),Gl.props.onKeyUp&&Gl.props.onKeyUp(Vl)},role:"option",selected:iu,value:void 0,"data-value":Gl.props.value})});_l&&($s?Xs.length===0?Js=null:Js=Xs.reduce((Gl,iu,Vl)=>(Gl.push(iu),Vl<Xs.length-1&&Gl.push(", "),Gl),[]):Js=El);let Ks=Ol;!ls&&Us&&Ys&&(Ks=$l.clientWidth);let Sl;typeof Ls<"u"?Sl=Ls:Sl=hs?null:0;const Il=Ms.id||(Cs?"mui-component-select-".concat(Cs):void 0),Ml=_extends$a({},ns,{variant:Fs,value:Bs,open:Hs,error:gs}),Kl=useUtilityClasses$r(Ml),Ql=_extends$a({},Ss.PaperProps,(is=Ss.slotProps)==null?void 0:is.paper),Yl=useId();return jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx(SelectSelect,_extends$a({ref:Ll,tabIndex:Sl,role:"combobox","aria-controls":Yl,"aria-disabled":hs?"true":void 0,"aria-expanded":Hs?"true":"false","aria-haspopup":"listbox","aria-label":ss,"aria-labelledby":[bs,Il].filter(Boolean).join(" ")||void 0,"aria-describedby":os,onKeyDown:Ns,onMouseDown:hs||Rs?null:wl,onBlur:Gs,onFocus:ks},Ms,{ownerState:Ml,className:clsx(Ms.className,Kl.select,us),id:Il,children:isEmpty(Js)?_span||(_span=jsxRuntimeExports.jsx("span",{className:"notranslate",children:"â"})):Js})),jsxRuntimeExports.jsx(SelectNativeInput,_extends$a({"aria-invalid":gs,value:Array.isArray(Bs)?Bs.join(","):Bs,name:Cs,ref:$a,"aria-hidden":!0,onChange:Al,tabIndex:-1,disabled:hs,className:Kl.nativeInput,autoFocus:as,ownerState:Ml},Vs)),jsxRuntimeExports.jsx(SelectIcon,{as:ys,className:Kl.icon,ownerState:Ml}),jsxRuntimeExports.jsx(Menu$1,_extends$a({id:"menu-".concat(Cs||""),anchorEl:$l,open:Hs,onClose:Tl,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},Ss,{MenuListProps:_extends$a({"aria-labelledby":bs,role:"listbox","aria-multiselectable":$s?"true":void 0,disableListWrap:!0,id:Yl},Ss.MenuListProps),slotProps:_extends$a({},Ss.slotProps,{paper:_extends$a({},Ql,{style:_extends$a({minWidth:Ks},Ql!=null?Ql.style:null)})}),children:Bl}))]})}),SelectInput$2=SelectInput$1,_excluded$B=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],_excluded2$5=["root"],useUtilityClasses$q=ts=>{const{classes:ns}=ts;return ns},styledRootConfig={name:"MuiSelect",overridesResolver:(ts,ns)=>ns.root,shouldForwardProp:ts=>rootShouldForwardProp$2(ts)&&ts!=="variant",slot:"Root"},StyledInput$1=styled$2(Input$2,styledRootConfig)(""),StyledOutlinedInput=styled$2(OutlinedInput$1,styledRootConfig)(""),StyledFilledInput=styled$2(FilledInput$1,styledRootConfig)(""),Select$1=reactExports.forwardRef(function(ns,rs){const is=useDefaultProps({name:"MuiSelect",props:ns}),{autoWidth:os=!1,children:ss,classes:as={},className:ls,defaultOpen:cs=!1,displayEmpty:us=!1,IconComponent:ds=ArrowDropDownIcon$1,id:ps,input:hs,inputProps:ms,label:gs,labelId:ys,MenuProps:vs,multiple:bs=!1,native:Ss=!1,onClose:$s,onOpen:Cs,open:Es,renderValue:xs,SelectDisplayProps:ws,variant:ks="outlined"}=is,Is=_objectWithoutPropertiesLoose$3(is,_excluded$B),Ts=Ss?NativeSelectInput$1:SelectInput$2,Rs=useFormControl(),As=formControlState({props:is,muiFormControl:Rs,states:["variant","error"]}),Ms=As.variant||ks,Ls=_extends$a({},is,{variant:Ms,classes:as}),Ds=useUtilityClasses$q(Ls),Fs=_objectWithoutPropertiesLoose$3(Ds,_excluded2$5),Vs=hs||{standard:jsxRuntimeExports.jsx(StyledInput$1,{ownerState:Ls}),outlined:jsxRuntimeExports.jsx(StyledOutlinedInput,{label:gs,ownerState:Ls}),filled:jsxRuntimeExports.jsx(StyledFilledInput,{ownerState:Ls})}[Ms],Bs=useForkRef(rs,Vs.ref);return jsxRuntimeExports.jsx(reactExports.Fragment,{children:reactExports.cloneElement(Vs,_extends$a({inputComponent:Ts,inputProps:_extends$a({children:ss,error:As.error,IconComponent:ds,variant:Ms,type:void 0,multiple:bs},Ss?{id:ps}:{autoWidth:os,defaultOpen:cs,displayEmpty:us,labelId:ys,MenuProps:vs,onClose:$s,onOpen:Cs,open:Es,renderValue:xs,SelectDisplayProps:_extends$a({id:ps},ws)},ms,{classes:ms?deepmerge$2(Fs,ms.classes):Fs},hs?hs.props.inputProps:{})},(bs&&Ss||us)&&Ms==="outlined"?{notched:!0}:{},{ref:Bs,className:clsx(Vs.props.className,ls,Ds.root)},!hs&&{variant:Ms},Is))})});Select$1.muiName="Select";const Select$2=Select$1;function getSkeletonUtilityClass(ts){return generateUtilityClass("MuiSkeleton",ts)}generateUtilityClasses("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);const _excluded$A=["animation","className","component","height","style","variant","width"];let _$2=ts=>ts,_t$1,_t2,_t3,_t4;const useUtilityClasses$p=ts=>{const{classes:ns,variant:rs,animation:is,hasChildren:os,width:ss,height:as}=ts;return composeClasses({root:["root",rs,is,os&&"withChildren",os&&!ss&&"fitContent",os&&!as&&"heightAuto"]},getSkeletonUtilityClass,ns)};var im;const pulseKeyframe=keyframes(_t$1||(_t$1=_$2(im||(im=zl(["\n  0% {\n    opacity: 1;\n  }\n\n  50% {\n    opacity: 0.4;\n  }\n\n  100% {\n    opacity: 1;\n  }\n"])))));var om;const waveKeyframe=keyframes(_t2||(_t2=_$2(om||(om=zl(["\n  0% {\n    transform: translateX(-100%);\n  }\n\n  50% {\n    /* +0.5s of delay between each loop */\n    transform: translateX(100%);\n  }\n\n  100% {\n    transform: translateX(100%);\n  }\n"])))));var sm,am;const SkeletonRoot=styled$2("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(ts,ns)=>{const{ownerState:rs}=ts;return[ns.root,ns[rs.variant],rs.animation!==!1&&ns[rs.animation],rs.hasChildren&&ns.withChildren,rs.hasChildren&&!rs.width&&ns.fitContent,rs.hasChildren&&!rs.height&&ns.heightAuto]}})(({theme:ts,ownerState:ns})=>{const rs=getUnit(ts.shape.borderRadius)||"px",is=toUnitless(ts.shape.borderRadius);return _extends$a({display:"block",backgroundColor:ts.vars?ts.vars.palette.Skeleton.bg:alpha$1(ts.palette.text.primary,ts.palette.mode==="light"?.11:.13),height:"1.2em"},ns.variant==="text"&&{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:"".concat(is).concat(rs,"/").concat(Math.round(is/.6*10)/10).concat(rs),"&:empty:before":{content:'"\\00a0"'}},ns.variant==="circular"&&{borderRadius:"50%"},ns.variant==="rounded"&&{borderRadius:(ts.vars||ts).shape.borderRadius},ns.hasChildren&&{"& > *":{visibility:"hidden"}},ns.hasChildren&&!ns.width&&{maxWidth:"fit-content"},ns.hasChildren&&!ns.height&&{height:"auto"})},({ownerState:ts})=>ts.animation==="pulse"&&css$2(_t3||(_t3=_$2(sm||(sm=zl(["\n      animation: "," 2s ease-in-out 0.5s infinite;\n    "])),0)),pulseKeyframe),({ownerState:ts,theme:ns})=>ts.animation==="wave"&&css$2(_t4||(_t4=_$2(am||(am=zl(["\n      position: relative;\n      overflow: hidden;\n\n      /* Fix bug in Safari https://bugs.webkit.org/show_bug.cgi?id=68196 */\n      -webkit-mask-image: -webkit-radial-gradient(white, black);\n\n      &::after {\n        animation: "," 2s linear 0.5s infinite;\n        background: linear-gradient(\n          90deg,\n          transparent,\n          ",",\n          transparent\n        );\n        content: '';\n        position: absolute;\n        transform: translateX(-100%); /* Avoid flash during server-side hydration */\n        bottom: 0;\n        left: 0;\n        right: 0;\n        top: 0;\n      }\n    "])),0,0)),waveKeyframe,(ns.vars||ns).palette.action.hover)),Skeleton=reactExports.forwardRef(function(ns,rs){const is=useDefaultProps({props:ns,name:"MuiSkeleton"}),{animation:os="pulse",className:ss,component:as="span",height:ls,style:cs,variant:us="text",width:ds}=is,ps=_objectWithoutPropertiesLoose$3(is,_excluded$A),hs=_extends$a({},is,{animation:os,component:as,variant:us,hasChildren:!!ps.children}),ms=useUtilityClasses$p(hs);return jsxRuntimeExports.jsx(SkeletonRoot,_extends$a({as,ref:rs,className:clsx(ms.root,ss),ownerState:hs},ps,{style:_extends$a({width:ds,height:ls},cs)}))}),Skeleton$1=Skeleton;function getTooltipUtilityClass(ts){return generateUtilityClass("MuiTooltip",ts)}const tooltipClasses=generateUtilityClasses("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),tooltipClasses$1=tooltipClasses,_excluded$z=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];function round$1(ts){return Math.round(ts*1e5)/1e5}const useUtilityClasses$o=ts=>{const{classes:ns,disableInteractive:rs,arrow:is,touch:os,placement:ss}=ts,as={popper:["popper",!rs&&"popperInteractive",is&&"popperArrow"],tooltip:["tooltip",is&&"tooltipArrow",os&&"touch","tooltipPlacement".concat(capitalize$4(ss.split("-")[0]))],arrow:["arrow"]};return composeClasses(as,getTooltipUtilityClass,ns)},TooltipPopper=styled$2(MuiPopper,{name:"MuiTooltip",slot:"Popper",overridesResolver:(ts,ns)=>{const{ownerState:rs}=ts;return[ns.popper,!rs.disableInteractive&&ns.popperInteractive,rs.arrow&&ns.popperArrow,!rs.open&&ns.popperClose]}})(({theme:ts,ownerState:ns,open:rs})=>_extends$a({zIndex:(ts.vars||ts).zIndex.tooltip,pointerEvents:"none"},!ns.disableInteractive&&{pointerEvents:"auto"},!rs&&{pointerEvents:"none"},ns.arrow&&{['&[data-popper-placement*="bottom"] .'.concat(tooltipClasses$1.arrow)]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},['&[data-popper-placement*="top"] .'.concat(tooltipClasses$1.arrow)]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},['&[data-popper-placement*="right"] .'.concat(tooltipClasses$1.arrow)]:_extends$a({},ns.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),['&[data-popper-placement*="left"] .'.concat(tooltipClasses$1.arrow)]:_extends$a({},ns.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})),TooltipTooltip=styled$2("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(ts,ns)=>{const{ownerState:rs}=ts;return[ns.tooltip,rs.touch&&ns.touch,rs.arrow&&ns.tooltipArrow,ns["tooltipPlacement".concat(capitalize$4(rs.placement.split("-")[0]))]]}})(({theme:ts,ownerState:ns})=>_extends$a({backgroundColor:ts.vars?ts.vars.palette.Tooltip.bg:alpha_1(ts.palette.grey[700],.92),borderRadius:(ts.vars||ts).shape.borderRadius,color:(ts.vars||ts).palette.common.white,fontFamily:ts.typography.fontFamily,padding:"4px 8px",fontSize:ts.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:ts.typography.fontWeightMedium},ns.arrow&&{position:"relative",margin:0},ns.touch&&{padding:"8px 16px",fontSize:ts.typography.pxToRem(14),lineHeight:"".concat(round$1(16/14),"em"),fontWeight:ts.typography.fontWeightRegular},{[".".concat(tooltipClasses$1.popper,'[data-popper-placement*="left"] &')]:_extends$a({transformOrigin:"right center"},ns.isRtl?_extends$a({marginLeft:"14px"},ns.touch&&{marginLeft:"24px"}):_extends$a({marginRight:"14px"},ns.touch&&{marginRight:"24px"})),[".".concat(tooltipClasses$1.popper,'[data-popper-placement*="right"] &')]:_extends$a({transformOrigin:"left center"},ns.isRtl?_extends$a({marginRight:"14px"},ns.touch&&{marginRight:"24px"}):_extends$a({marginLeft:"14px"},ns.touch&&{marginLeft:"24px"})),[".".concat(tooltipClasses$1.popper,'[data-popper-placement*="top"] &')]:_extends$a({transformOrigin:"center bottom",marginBottom:"14px"},ns.touch&&{marginBottom:"24px"}),[".".concat(tooltipClasses$1.popper,'[data-popper-placement*="bottom"] &')]:_extends$a({transformOrigin:"center top",marginTop:"14px"},ns.touch&&{marginTop:"24px"})})),TooltipArrow=styled$2("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(ts,ns)=>ns.arrow})(({theme:ts})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:ts.vars?ts.vars.palette.Tooltip.bg:alpha_1(ts.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}));let hystersisOpen=!1;const hystersisTimer=new Timeout;let cursorPosition={x:0,y:0};function composeEventHandler(ts,ns){return(rs,...is)=>{ns&&ns(rs,...is),ts(rs,...is)}}const Tooltip=reactExports.forwardRef(function(ns,rs){var is,os,ss,as,ls,cs,us,ds,ps,hs,ms,gs,ys,vs,bs,Ss,$s,Cs,Es;const xs=useDefaultProps({props:ns,name:"MuiTooltip"}),{arrow:ws=!1,children:ks,components:Is={},componentsProps:Ts={},describeChild:Rs=!1,disableFocusListener:As=!1,disableHoverListener:Ms=!1,disableInteractive:Ls=!1,disableTouchListener:Ds=!1,enterDelay:Fs=100,enterNextDelay:Vs=0,enterTouchDelay:Bs=700,followCursor:Ws=!1,id:Os,leaveDelay:Nl=0,leaveTouchDelay:$a=1500,onClose:Ps,onOpen:Ys,open:Zs,placement:Us="bottom",PopperComponent:Ol,PopperProps:qs={},slotProps:Fl={},slots:Ll={},title:$l,TransitionComponent:Cl=Grow$1,TransitionProps:wl}=xs,Tl=_objectWithoutPropertiesLoose$3(xs,_excluded$z),xl=reactExports.isValidElement(ks)?ks:jsxRuntimeExports.jsx("span",{children:ks}),Al=useTheme$1(),Dl=useRtl(),[Ns,Hs]=reactExports.useState(),[Gs,Js]=reactExports.useState(null),El=reactExports.useRef(!1),Xs=Ls||Ws,_l=useTimeout(),Bl=useTimeout(),Ks=useTimeout(),Sl=useTimeout(),[Il,Ml]=useControlled({controlled:Zs,default:!1,name:"Tooltip",state:"open"});let Kl=Il;const Ql=useId(Os),Yl=reactExports.useRef(),Gl=useEventCallback(()=>{Yl.current!==void 0&&(document.body.style.WebkitUserSelect=Yl.current,Yl.current=void 0),Sl.clear()});reactExports.useEffect(()=>Gl,[Gl]);const iu=nu=>{hystersisTimer.clear(),hystersisOpen=!0,Ml(!0),Ys&&!Kl&&Ys(nu)},Vl=useEventCallback(nu=>{hystersisTimer.start(800+Nl,()=>{hystersisOpen=!1}),Ml(!1),Ps&&Kl&&Ps(nu),_l.start(Al.transitions.duration.shortest,()=>{El.current=!1})}),Hl=nu=>{El.current&&nu.type!=="touchstart"||(Ns&&Ns.removeAttribute("title"),Bl.clear(),Ks.clear(),Fs||hystersisOpen&&Vs?Bl.start(hystersisOpen?Vs:Fs,()=>{iu(nu)}):iu(nu))},zs=nu=>{Bl.clear(),Ks.start(Nl,()=>{Vl(nu)})},{isFocusVisibleRef:yl,onBlur:Rl,onFocus:Jl,ref:tu}=useIsFocusVisible(),[,Xl]=reactExports.useState(!1),ou=nu=>{Rl(nu),yl.current===!1&&(Xl(!1),zs(nu))},au=nu=>{Ns||Hs(nu.currentTarget),Jl(nu),yl.current===!0&&(Xl(!0),Hl(nu))},fu=nu=>{El.current=!0;const lu=xl.props;lu.onTouchStart&&lu.onTouchStart(nu)},du=nu=>{fu(nu),Ks.clear(),_l.clear(),Gl(),Yl.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",Sl.start(Bs,()=>{document.body.style.WebkitUserSelect=Yl.current,Hl(nu)})},Su=nu=>{xl.props.onTouchEnd&&xl.props.onTouchEnd(nu),Gl(),Ks.start($a,()=>{Vl(nu)})};reactExports.useEffect(()=>{if(!Kl)return;function nu(lu){(lu.key==="Escape"||lu.key==="Esc")&&Vl(lu)}return document.addEventListener("keydown",nu),()=>{document.removeEventListener("keydown",nu)}},[Vl,Kl]);const ku=useForkRef(xl.ref,tu,Hs,rs);!$l&&$l!==0&&(Kl=!1);const Tu=reactExports.useRef(),gu=nu=>{const lu=xl.props;lu.onMouseMove&&lu.onMouseMove(nu),cursorPosition={x:nu.clientX,y:nu.clientY},Tu.current&&Tu.current.update()},pu={},$u=typeof $l=="string";Rs?(pu.title=!Kl&&$u&&!Ms?$l:null,pu["aria-describedby"]=Kl?Ql:null):(pu["aria-label"]=$u?$l:null,pu["aria-labelledby"]=Kl&&!$u?Ql:null);const xu=_extends$a({},pu,Tl,xl.props,{className:clsx(Tl.className,xl.props.className),onTouchStart:fu,ref:ku},Ws?{onMouseMove:gu}:{}),Ru={};Ds||(xu.onTouchStart=du,xu.onTouchEnd=Su),Ms||(xu.onMouseOver=composeEventHandler(Hl,xu.onMouseOver),xu.onMouseLeave=composeEventHandler(zs,xu.onMouseLeave),Xs||(Ru.onMouseOver=Hl,Ru.onMouseLeave=zs)),As||(xu.onFocus=composeEventHandler(au,xu.onFocus),xu.onBlur=composeEventHandler(ou,xu.onBlur),Xs||(Ru.onFocus=au,Ru.onBlur=ou));const Fu=reactExports.useMemo(()=>{var nu;let lu=[{name:"arrow",enabled:!!Gs,options:{element:Gs,padding:4}}];return(nu=qs.popperOptions)!=null&&nu.modifiers&&(lu=lu.concat(qs.popperOptions.modifiers)),_extends$a({},qs.popperOptions,{modifiers:lu})},[Gs,qs]),Cu=_extends$a({},xs,{isRtl:Dl,arrow:ws,disableInteractive:Xs,placement:Us,PopperComponentProp:Ol,touch:El.current}),Nu=useUtilityClasses$o(Cu),Lu=(is=(os=Ll.popper)!=null?os:Is.Popper)!=null?is:TooltipPopper,Au=(ss=(as=(ls=Ll.transition)!=null?ls:Is.Transition)!=null?as:Cl)!=null?ss:Grow$1,Mu=(cs=(us=Ll.tooltip)!=null?us:Is.Tooltip)!=null?cs:TooltipTooltip,Ul=(ds=(ps=Ll.arrow)!=null?ps:Is.Arrow)!=null?ds:TooltipArrow,Pl=appendOwnerState$1(Lu,_extends$a({},qs,(hs=Fl.popper)!=null?hs:Ts.popper,{className:clsx(Nu.popper,qs==null?void 0:qs.className,(ms=(gs=Fl.popper)!=null?gs:Ts.popper)==null?void 0:ms.className)}),Cu),eu=appendOwnerState$1(Au,_extends$a({},wl,(ys=Fl.transition)!=null?ys:Ts.transition),Cu),Zl=appendOwnerState$1(Mu,_extends$a({},(vs=Fl.tooltip)!=null?vs:Ts.tooltip,{className:clsx(Nu.tooltip,(bs=(Ss=Fl.tooltip)!=null?Ss:Ts.tooltip)==null?void 0:bs.className)}),Cu),su=appendOwnerState$1(Ul,_extends$a({},($s=Fl.arrow)!=null?$s:Ts.arrow,{className:clsx(Nu.arrow,(Cs=(Es=Fl.arrow)!=null?Es:Ts.arrow)==null?void 0:Cs.className)}),Cu);return jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[reactExports.cloneElement(xl,xu),jsxRuntimeExports.jsx(Lu,_extends$a({as:Ol!=null?Ol:MuiPopper,placement:Us,anchorEl:Ws?{getBoundingClientRect:()=>({top:cursorPosition.y,left:cursorPosition.x,right:cursorPosition.x,bottom:cursorPosition.y,width:0,height:0})}:Ns,popperRef:Tu,open:Ns?Kl:!1,id:Ql,transition:!0},Ru,Pl,{popperOptions:Fu,children:({TransitionProps:nu})=>jsxRuntimeExports.jsx(Au,_extends$a({timeout:Al.transitions.duration.shorter},nu,eu,{children:jsxRuntimeExports.jsxs(Mu,_extends$a({},Zl,{children:[$l,ws?jsxRuntimeExports.jsx(Ul,_extends$a({},su,{ref:Js})):null]}))}))}))]})}),Tooltip$1=Tooltip;function getTabUtilityClass(ts){return generateUtilityClass("MuiTab",ts)}const tabClasses=generateUtilityClasses("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper"]),tabClasses$1=tabClasses,_excluded$y=["className","disabled","disableFocusRipple","fullWidth","icon","iconPosition","indicator","label","onChange","onClick","onFocus","selected","selectionFollowsFocus","textColor","value","wrapped"],useUtilityClasses$n=ts=>{const{classes:ns,textColor:rs,fullWidth:is,wrapped:os,icon:ss,label:as,selected:ls,disabled:cs}=ts,us={root:["root",ss&&as&&"labelIcon","textColor".concat(capitalize$4(rs)),is&&"fullWidth",os&&"wrapped",ls&&"selected",cs&&"disabled"],iconWrapper:["iconWrapper"]};return composeClasses(us,getTabUtilityClass,ns)},TabRoot=styled$2(ButtonBase$1,{name:"MuiTab",slot:"Root",overridesResolver:(ts,ns)=>{const{ownerState:rs}=ts;return[ns.root,rs.label&&rs.icon&&ns.labelIcon,ns["textColor".concat(capitalize$4(rs.textColor))],rs.fullWidth&&ns.fullWidth,rs.wrapped&&ns.wrapped,{["& .".concat(tabClasses$1.iconWrapper)]:ns.iconWrapper}]}})(({theme:ts,ownerState:ns})=>_extends$a({},ts.typography.button,{maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center"},ns.label&&{flexDirection:ns.iconPosition==="top"||ns.iconPosition==="bottom"?"column":"row"},{lineHeight:1.25},ns.icon&&ns.label&&{minHeight:72,paddingTop:9,paddingBottom:9,["& > .".concat(tabClasses$1.iconWrapper)]:_extends$a({},ns.iconPosition==="top"&&{marginBottom:6},ns.iconPosition==="bottom"&&{marginTop:6},ns.iconPosition==="start"&&{marginRight:ts.spacing(1)},ns.iconPosition==="end"&&{marginLeft:ts.spacing(1)})},ns.textColor==="inherit"&&{color:"inherit",opacity:.6,["&.".concat(tabClasses$1.selected)]:{opacity:1},["&.".concat(tabClasses$1.disabled)]:{opacity:(ts.vars||ts).palette.action.disabledOpacity}},ns.textColor==="primary"&&{color:(ts.vars||ts).palette.text.secondary,["&.".concat(tabClasses$1.selected)]:{color:(ts.vars||ts).palette.primary.main},["&.".concat(tabClasses$1.disabled)]:{color:(ts.vars||ts).palette.text.disabled}},ns.textColor==="secondary"&&{color:(ts.vars||ts).palette.text.secondary,["&.".concat(tabClasses$1.selected)]:{color:(ts.vars||ts).palette.secondary.main},["&.".concat(tabClasses$1.disabled)]:{color:(ts.vars||ts).palette.text.disabled}},ns.fullWidth&&{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"},ns.wrapped&&{fontSize:ts.typography.pxToRem(12)})),Tab=reactExports.forwardRef(function(ns,rs){const is=useDefaultProps({props:ns,name:"MuiTab"}),{className:os,disabled:ss=!1,disableFocusRipple:as=!1,fullWidth:ls,icon:cs,iconPosition:us="top",indicator:ds,label:ps,onChange:hs,onClick:ms,onFocus:gs,selected:ys,selectionFollowsFocus:vs,textColor:bs="inherit",value:Ss,wrapped:$s=!1}=is,Cs=_objectWithoutPropertiesLoose$3(is,_excluded$y),Es=_extends$a({},is,{disabled:ss,disableFocusRipple:as,selected:ys,icon:!!cs,iconPosition:us,label:!!ps,fullWidth:ls,textColor:bs,wrapped:$s}),xs=useUtilityClasses$n(Es),ws=cs&&ps&&reactExports.isValidElement(cs)?reactExports.cloneElement(cs,{className:clsx(xs.iconWrapper,cs.props.className)}):cs,ks=Ts=>{!ys&&hs&&hs(Ts,Ss),ms&&ms(Ts)},Is=Ts=>{vs&&!ys&&hs&&hs(Ts,Ss),gs&&gs(Ts)};return jsxRuntimeExports.jsxs(TabRoot,_extends$a({focusRipple:!as,className:clsx(xs.root,os),ref:rs,role:"tab","aria-selected":ys,disabled:ss,onClick:ks,onFocus:Is,ownerState:Es,tabIndex:ys?0:-1},Cs,{children:[us==="top"||us==="start"?jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[ws,ps]}):jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[ps,ws]}),ds]}))}),Tab$1=Tab,TableContext=reactExports.createContext(),TableContext$1=TableContext;function getTableUtilityClass(ts){return generateUtilityClass("MuiTable",ts)}generateUtilityClasses("MuiTable",["root","stickyHeader"]);const _excluded$x=["className","component","padding","size","stickyHeader"],useUtilityClasses$m=ts=>{const{classes:ns,stickyHeader:rs}=ts;return composeClasses({root:["root",rs&&"stickyHeader"]},getTableUtilityClass,ns)},TableRoot=styled$2("table",{name:"MuiTable",slot:"Root",overridesResolver:(ts,ns)=>{const{ownerState:rs}=ts;return[ns.root,rs.stickyHeader&&ns.stickyHeader]}})(({theme:ts,ownerState:ns})=>_extends$a({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":_extends$a({},ts.typography.body2,{padding:ts.spacing(2),color:(ts.vars||ts).palette.text.secondary,textAlign:"left",captionSide:"bottom"})},ns.stickyHeader&&{borderCollapse:"separate"})),defaultComponent$2="table",Table=reactExports.forwardRef(function(ns,rs){const is=useDefaultProps({props:ns,name:"MuiTable"}),{className:os,component:ss=defaultComponent$2,padding:as="normal",size:ls="medium",stickyHeader:cs=!1}=is,us=_objectWithoutPropertiesLoose$3(is,_excluded$x),ds=_extends$a({},is,{component:ss,padding:as,size:ls,stickyHeader:cs}),ps=useUtilityClasses$m(ds),hs=reactExports.useMemo(()=>({padding:as,size:ls,stickyHeader:cs}),[as,ls,cs]);return jsxRuntimeExports.jsx(TableContext$1.Provider,{value:hs,children:jsxRuntimeExports.jsx(TableRoot,_extends$a({as:ss,role:ss===defaultComponent$2?null:"table",ref:rs,className:clsx(ps.root,os),ownerState:ds},us))})}),Table$1=Table,Tablelvl2Context=reactExports.createContext(),Tablelvl2Context$1=Tablelvl2Context;function getTableBodyUtilityClass(ts){return generateUtilityClass("MuiTableBody",ts)}generateUtilityClasses("MuiTableBody",["root"]);const _excluded$w=["className","component"],useUtilityClasses$l=ts=>{const{classes:ns}=ts;return composeClasses({root:["root"]},getTableBodyUtilityClass,ns)},TableBodyRoot=styled$2("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(ts,ns)=>ns.root})({display:"table-row-group"}),tablelvl2={variant:"body"},defaultComponent$1="tbody",TableBody=reactExports.forwardRef(function(ns,rs){const is=useDefaultProps({props:ns,name:"MuiTableBody"}),{className:os,component:ss=defaultComponent$1}=is,as=_objectWithoutPropertiesLoose$3(is,_excluded$w),ls=_extends$a({},is,{component:ss}),cs=useUtilityClasses$l(ls);return jsxRuntimeExports.jsx(Tablelvl2Context$1.Provider,{value:tablelvl2,children:jsxRuntimeExports.jsx(TableBodyRoot,_extends$a({className:clsx(cs.root,os),as:ss,ref:rs,role:ss===defaultComponent$1?null:"rowgroup",ownerState:ls},as))})}),TableBody$1=TableBody;function getTableCellUtilityClass(ts){return generateUtilityClass("MuiTableCell",ts)}const tableCellClasses=generateUtilityClasses("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),tableCellClasses$1=tableCellClasses,_excluded$v=["align","className","component","padding","scope","size","sortDirection","variant"],useUtilityClasses$k=ts=>{const{classes:ns,variant:rs,align:is,padding:os,size:ss,stickyHeader:as}=ts,ls={root:["root",rs,as&&"stickyHeader",is!=="inherit"&&"align".concat(capitalize$4(is)),os!=="normal"&&"padding".concat(capitalize$4(os)),"size".concat(capitalize$4(ss))]};return composeClasses(ls,getTableCellUtilityClass,ns)},TableCellRoot=styled$2("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(ts,ns)=>{const{ownerState:rs}=ts;return[ns.root,ns[rs.variant],ns["size".concat(capitalize$4(rs.size))],rs.padding!=="normal"&&ns["padding".concat(capitalize$4(rs.padding))],rs.align!=="inherit"&&ns["align".concat(capitalize$4(rs.align))],rs.stickyHeader&&ns.stickyHeader]}})(({theme:ts,ownerState:ns})=>_extends$a({},ts.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:ts.vars?"1px solid ".concat(ts.vars.palette.TableCell.border):"1px solid\n    ".concat(ts.palette.mode==="light"?lighten_1(alpha_1(ts.palette.divider,1),.88):darken_1(alpha_1(ts.palette.divider,1),.68)),textAlign:"left",padding:16},ns.variant==="head"&&{color:(ts.vars||ts).palette.text.primary,lineHeight:ts.typography.pxToRem(24),fontWeight:ts.typography.fontWeightMedium},ns.variant==="body"&&{color:(ts.vars||ts).palette.text.primary},ns.variant==="footer"&&{color:(ts.vars||ts).palette.text.secondary,lineHeight:ts.typography.pxToRem(21),fontSize:ts.typography.pxToRem(12)},ns.size==="small"&&{padding:"6px 16px",["&.".concat(tableCellClasses$1.paddingCheckbox)]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}},ns.padding==="checkbox"&&{width:48,padding:"0 0 0 4px"},ns.padding==="none"&&{padding:0},ns.align==="left"&&{textAlign:"left"},ns.align==="center"&&{textAlign:"center"},ns.align==="right"&&{textAlign:"right",flexDirection:"row-reverse"},ns.align==="justify"&&{textAlign:"justify"},ns.stickyHeader&&{position:"sticky",top:0,zIndex:2,backgroundColor:(ts.vars||ts).palette.background.default})),TableCell=reactExports.forwardRef(function(ns,rs){const is=useDefaultProps({props:ns,name:"MuiTableCell"}),{align:os="inherit",className:ss,component:as,padding:ls,scope:cs,size:us,sortDirection:ds,variant:ps}=is,hs=_objectWithoutPropertiesLoose$3(is,_excluded$v),ms=reactExports.useContext(TableContext$1),gs=reactExports.useContext(Tablelvl2Context$1),ys=gs&&gs.variant==="head";let vs;as?vs=as:vs=ys?"th":"td";let bs=cs;vs==="td"?bs=void 0:!bs&&ys&&(bs="col");const Ss=ps||gs&&gs.variant,$s=_extends$a({},is,{align:os,component:vs,padding:ls||(ms&&ms.padding?ms.padding:"normal"),size:us||(ms&&ms.size?ms.size:"medium"),sortDirection:ds,stickyHeader:Ss==="head"&&ms&&ms.stickyHeader,variant:Ss}),Cs=useUtilityClasses$k($s);let Es=null;return ds&&(Es=ds==="asc"?"ascending":"descending"),jsxRuntimeExports.jsx(TableCellRoot,_extends$a({as:vs,ref:rs,className:clsx(Cs.root,ss),"aria-sort":Es,scope:bs,ownerState:$s},hs))}),TableCell$1=TableCell,KeyboardArrowLeft=createSvgIcon$1(jsxRuntimeExports.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),KeyboardArrowRight=createSvgIcon$1(jsxRuntimeExports.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight");function getTableRowUtilityClass(ts){return generateUtilityClass("MuiTableRow",ts)}const tableRowClasses=generateUtilityClasses("MuiTableRow",["root","selected","hover","head","footer"]),tableRowClasses$1=tableRowClasses,_excluded$u=["className","component","hover","selected"],useUtilityClasses$j=ts=>{const{classes:ns,selected:rs,hover:is,head:os,footer:ss}=ts;return composeClasses({root:["root",rs&&"selected",is&&"hover",os&&"head",ss&&"footer"]},getTableRowUtilityClass,ns)},TableRowRoot=styled$2("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(ts,ns)=>{const{ownerState:rs}=ts;return[ns.root,rs.head&&ns.head,rs.footer&&ns.footer]}})(({theme:ts})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,["&.".concat(tableRowClasses$1.hover,":hover")]:{backgroundColor:(ts.vars||ts).palette.action.hover},["&.".concat(tableRowClasses$1.selected)]:{backgroundColor:ts.vars?"rgba(".concat(ts.vars.palette.primary.mainChannel," / ").concat(ts.vars.palette.action.selectedOpacity,")"):alpha_1(ts.palette.primary.main,ts.palette.action.selectedOpacity),"&:hover":{backgroundColor:ts.vars?"rgba(".concat(ts.vars.palette.primary.mainChannel," / calc(").concat(ts.vars.palette.action.selectedOpacity," + ").concat(ts.vars.palette.action.hoverOpacity,"))"):alpha_1(ts.palette.primary.main,ts.palette.action.selectedOpacity+ts.palette.action.hoverOpacity)}}})),defaultComponent="tr",TableRow=reactExports.forwardRef(function(ns,rs){const is=useDefaultProps({props:ns,name:"MuiTableRow"}),{className:os,component:ss=defaultComponent,hover:as=!1,selected:ls=!1}=is,cs=_objectWithoutPropertiesLoose$3(is,_excluded$u),us=reactExports.useContext(Tablelvl2Context$1),ds=_extends$a({},is,{component:ss,hover:as,selected:ls,head:us&&us.variant==="head",footer:us&&us.variant==="footer"}),ps=useUtilityClasses$j(ds);return jsxRuntimeExports.jsx(TableRowRoot,_extends$a({as:ss,ref:rs,className:clsx(ps.root,os),role:ss===defaultComponent?null:"row",ownerState:ds},cs))}),TableRow$1=TableRow;function easeInOutSin(ts){return(1+Math.sin(Math.PI*ts-Math.PI/2))/2}function animate(ts,ns,rs,is={},os=()=>{}){const{ease:ss=easeInOutSin,duration:as=300}=is;let ls=null;const cs=ns[ts];let us=!1;const ds=()=>{us=!0},ps=hs=>{if(us){os(new Error("Animation cancelled"));return}ls===null&&(ls=hs);const ms=Math.min(1,(hs-ls)/as);if(ns[ts]=ss(ms)*(rs-cs)+cs,ms>=1){requestAnimationFrame(()=>{os(null)});return}requestAnimationFrame(ps)};return cs===rs?(os(new Error("Element already at target position")),ds):(requestAnimationFrame(ps),ds)}const _excluded$t=["onChange"],styles={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function ScrollbarSize(ts){const{onChange:ns}=ts,rs=_objectWithoutPropertiesLoose$3(ts,_excluded$t),is=reactExports.useRef(),os=reactExports.useRef(null),ss=()=>{is.current=os.current.offsetHeight-os.current.clientHeight};return useEnhancedEffect$1(()=>{const as=debounce$3(()=>{const cs=is.current;ss(),cs!==is.current&&ns(is.current)}),ls=ownerWindow(os.current);return ls.addEventListener("resize",as),()=>{as.clear(),ls.removeEventListener("resize",as)}},[ns]),reactExports.useEffect(()=>{ss(),ns(is.current)},[ns]),jsxRuntimeExports.jsx("div",_extends$a({style:styles,ref:os},rs))}function getTabScrollButtonUtilityClass(ts){return generateUtilityClass("MuiTabScrollButton",ts)}const tabScrollButtonClasses=generateUtilityClasses("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),tabScrollButtonClasses$1=tabScrollButtonClasses,_excluded$s=["className","slots","slotProps","direction","orientation","disabled"],useUtilityClasses$i=ts=>{const{classes:ns,orientation:rs,disabled:is}=ts;return composeClasses({root:["root",rs,is&&"disabled"]},getTabScrollButtonUtilityClass,ns)},TabScrollButtonRoot=styled$2(ButtonBase$1,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(ts,ns)=>{const{ownerState:rs}=ts;return[ns.root,rs.orientation&&ns[rs.orientation]]}})(({ownerState:ts})=>_extends$a({width:40,flexShrink:0,opacity:.8,["&.".concat(tabScrollButtonClasses$1.disabled)]:{opacity:0}},ts.orientation==="vertical"&&{width:"100%",height:40,"& svg":{transform:"rotate(".concat(ts.isRtl?-90:90,"deg)")}})),TabScrollButton=reactExports.forwardRef(function(ns,rs){var is,os;const ss=useDefaultProps({props:ns,name:"MuiTabScrollButton"}),{className:as,slots:ls={},slotProps:cs={},direction:us}=ss,ds=_objectWithoutPropertiesLoose$3(ss,_excluded$s),ps=useRtl(),hs=_extends$a({isRtl:ps},ss),ms=useUtilityClasses$i(hs),gs=(is=ls.StartScrollButtonIcon)!=null?is:KeyboardArrowLeft,ys=(os=ls.EndScrollButtonIcon)!=null?os:KeyboardArrowRight,vs=useSlotProps$1({elementType:gs,externalSlotProps:cs.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:hs}),bs=useSlotProps$1({elementType:ys,externalSlotProps:cs.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:hs});return jsxRuntimeExports.jsx(TabScrollButtonRoot,_extends$a({component:"div",className:clsx(ms.root,as),ref:rs,role:null,ownerState:hs,tabIndex:null},ds,{children:us==="left"?jsxRuntimeExports.jsx(gs,_extends$a({},vs)):jsxRuntimeExports.jsx(ys,_extends$a({},bs))}))}),TabScrollButton$1=TabScrollButton;function getTabsUtilityClass(ts){return generateUtilityClass("MuiTabs",ts)}const tabsClasses=generateUtilityClasses("MuiTabs",["root","vertical","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),tabsClasses$1=tabsClasses,_excluded$r=["aria-label","aria-labelledby","action","centered","children","className","component","allowScrollButtonsMobile","indicatorColor","onChange","orientation","ScrollButtonComponent","scrollButtons","selectionFollowsFocus","slots","slotProps","TabIndicatorProps","TabScrollButtonProps","textColor","value","variant","visibleScrollbar"],nextItem=(ts,ns)=>ts===ns?ts.firstChild:ns&&ns.nextElementSibling?ns.nextElementSibling:ts.firstChild,previousItem=(ts,ns)=>ts===ns?ts.lastChild:ns&&ns.previousElementSibling?ns.previousElementSibling:ts.lastChild,moveFocus=(ts,ns,rs)=>{let is=!1,os=rs(ts,ns);for(;os;){if(os===ts.firstChild){if(is)return;is=!0}const ss=os.disabled||os.getAttribute("aria-disabled")==="true";if(!os.hasAttribute("tabindex")||ss)os=rs(ts,os);else{os.focus();return}}},useUtilityClasses$h=ts=>{const{vertical:ns,fixed:rs,hideScrollbar:is,scrollableX:os,scrollableY:ss,centered:as,scrollButtonsHideMobile:ls,classes:cs}=ts;return composeClasses({root:["root",ns&&"vertical"],scroller:["scroller",rs&&"fixed",is&&"hideScrollbar",os&&"scrollableX",ss&&"scrollableY"],flexContainer:["flexContainer",ns&&"flexContainerVertical",as&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",ls&&"scrollButtonsHideMobile"],scrollableX:[os&&"scrollableX"],hideScrollbar:[is&&"hideScrollbar"]},getTabsUtilityClass,cs)},TabsRoot=styled$2("div",{name:"MuiTabs",slot:"Root",overridesResolver:(ts,ns)=>{const{ownerState:rs}=ts;return[{["& .".concat(tabsClasses$1.scrollButtons)]:ns.scrollButtons},{["& .".concat(tabsClasses$1.scrollButtons)]:rs.scrollButtonsHideMobile&&ns.scrollButtonsHideMobile},ns.root,rs.vertical&&ns.vertical]}})(({ownerState:ts,theme:ns})=>_extends$a({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex"},ts.vertical&&{flexDirection:"column"},ts.scrollButtonsHideMobile&&{["& .".concat(tabsClasses$1.scrollButtons)]:{[ns.breakpoints.down("sm")]:{display:"none"}}})),TabsScroller=styled$2("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(ts,ns)=>{const{ownerState:rs}=ts;return[ns.scroller,rs.fixed&&ns.fixed,rs.hideScrollbar&&ns.hideScrollbar,rs.scrollableX&&ns.scrollableX,rs.scrollableY&&ns.scrollableY]}})(({ownerState:ts})=>_extends$a({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap"},ts.fixed&&{overflowX:"hidden",width:"100%"},ts.hideScrollbar&&{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},ts.scrollableX&&{overflowX:"auto",overflowY:"hidden"},ts.scrollableY&&{overflowY:"auto",overflowX:"hidden"})),FlexContainer=styled$2("div",{name:"MuiTabs",slot:"FlexContainer",overridesResolver:(ts,ns)=>{const{ownerState:rs}=ts;return[ns.flexContainer,rs.vertical&&ns.flexContainerVertical,rs.centered&&ns.centered]}})(({ownerState:ts})=>_extends$a({display:"flex"},ts.vertical&&{flexDirection:"column"},ts.centered&&{justifyContent:"center"})),TabsIndicator=styled$2("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(ts,ns)=>ns.indicator})(({ownerState:ts,theme:ns})=>_extends$a({position:"absolute",height:2,bottom:0,width:"100%",transition:ns.transitions.create()},ts.indicatorColor==="primary"&&{backgroundColor:(ns.vars||ns).palette.primary.main},ts.indicatorColor==="secondary"&&{backgroundColor:(ns.vars||ns).palette.secondary.main},ts.vertical&&{height:"100%",width:2,right:0})),TabsScrollbarSize=styled$2(ScrollbarSize)({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),defaultIndicatorStyle={},Tabs=reactExports.forwardRef(function(ns,rs){const is=useDefaultProps({props:ns,name:"MuiTabs"}),os=useTheme$1(),ss=useRtl(),{"aria-label":as,"aria-labelledby":ls,action:cs,centered:us=!1,children:ds,className:ps,component:hs="div",allowScrollButtonsMobile:ms=!1,indicatorColor:gs="primary",onChange:ys,orientation:vs="horizontal",ScrollButtonComponent:bs=TabScrollButton$1,scrollButtons:Ss="auto",selectionFollowsFocus:$s,slots:Cs={},slotProps:Es={},TabIndicatorProps:xs={},TabScrollButtonProps:ws={},textColor:ks="primary",value:Is,variant:Ts="standard",visibleScrollbar:Rs=!1}=is,As=_objectWithoutPropertiesLoose$3(is,_excluded$r),Ms=Ts==="scrollable",Ls=vs==="vertical",Ds=Ls?"scrollTop":"scrollLeft",Fs=Ls?"top":"left",Vs=Ls?"bottom":"right",Bs=Ls?"clientHeight":"clientWidth",Ws=Ls?"height":"width",Os=_extends$a({},is,{component:hs,allowScrollButtonsMobile:ms,indicatorColor:gs,orientation:vs,vertical:Ls,scrollButtons:Ss,textColor:ks,variant:Ts,visibleScrollbar:Rs,fixed:!Ms,hideScrollbar:Ms&&!Rs,scrollableX:Ms&&!Ls,scrollableY:Ms&&Ls,centered:us&&!Ms,scrollButtonsHideMobile:!ms}),Nl=useUtilityClasses$h(Os),$a=useSlotProps$1({elementType:Cs.StartScrollButtonIcon,externalSlotProps:Es.startScrollButtonIcon,ownerState:Os}),Ps=useSlotProps$1({elementType:Cs.EndScrollButtonIcon,externalSlotProps:Es.endScrollButtonIcon,ownerState:Os}),[Ys,Zs]=reactExports.useState(!1),[Us,Ol]=reactExports.useState(defaultIndicatorStyle),[qs,Fl]=reactExports.useState(!1),[Ll,$l]=reactExports.useState(!1),[Cl,wl]=reactExports.useState(!1),[Tl,xl]=reactExports.useState({overflow:"hidden",scrollbarWidth:0}),Al=new Map,Dl=reactExports.useRef(null),Ns=reactExports.useRef(null),Hs=()=>{const Vl=Dl.current;let Hl;if(Vl){const yl=Vl.getBoundingClientRect();Hl={clientWidth:Vl.clientWidth,scrollLeft:Vl.scrollLeft,scrollTop:Vl.scrollTop,scrollLeftNormalized:getNormalizedScrollLeft(Vl,ss?"rtl":"ltr"),scrollWidth:Vl.scrollWidth,top:yl.top,bottom:yl.bottom,left:yl.left,right:yl.right}}let zs;if(Vl&&Is!==!1){const yl=Ns.current.children;if(yl.length>0){const Rl=yl[Al.get(Is)];zs=Rl?Rl.getBoundingClientRect():null}}return{tabsMeta:Hl,tabMeta:zs}},Gs=useEventCallback(()=>{const{tabsMeta:Vl,tabMeta:Hl}=Hs();let zs=0,yl;if(Ls)yl="top",Hl&&Vl&&(zs=Hl.top-Vl.top+Vl.scrollTop);else if(yl=ss?"right":"left",Hl&&Vl){const Jl=ss?Vl.scrollLeftNormalized+Vl.clientWidth-Vl.scrollWidth:Vl.scrollLeft;zs=(ss?-1:1)*(Hl[yl]-Vl[yl]+Jl)}const Rl={[yl]:zs,[Ws]:Hl?Hl[Ws]:0};if(isNaN(Us[yl])||isNaN(Us[Ws]))Ol(Rl);else{const Jl=Math.abs(Us[yl]-Rl[yl]),tu=Math.abs(Us[Ws]-Rl[Ws]);(Jl>=1||tu>=1)&&Ol(Rl)}}),Js=(Vl,{animation:Hl=!0}={})=>{Hl?animate(Ds,Dl.current,Vl,{duration:os.transitions.duration.standard}):Dl.current[Ds]=Vl},El=Vl=>{let Hl=Dl.current[Ds];Ls?Hl+=Vl:(Hl+=Vl*(ss?-1:1),Hl*=ss&&detectScrollType()==="reverse"?-1:1),Js(Hl)},Xs=()=>{const Vl=Dl.current[Bs];let Hl=0;const zs=Array.from(Ns.current.children);for(let yl=0;yl<zs.length;yl+=1){const Rl=zs[yl];if(Hl+Rl[Bs]>Vl){yl===0&&(Hl=Vl);break}Hl+=Rl[Bs]}return Hl},_l=()=>{El(-1*Xs())},Bl=()=>{El(Xs())},Ks=reactExports.useCallback(Vl=>{xl({overflow:null,scrollbarWidth:Vl})},[]),Sl=()=>{const Vl={};Vl.scrollbarSizeListener=Ms?jsxRuntimeExports.jsx(TabsScrollbarSize,{onChange:Ks,className:clsx(Nl.scrollableX,Nl.hideScrollbar)}):null;const zs=Ms&&(Ss==="auto"&&(qs||Ll)||Ss===!0);return Vl.scrollButtonStart=zs?jsxRuntimeExports.jsx(bs,_extends$a({slots:{StartScrollButtonIcon:Cs.StartScrollButtonIcon},slotProps:{startScrollButtonIcon:$a},orientation:vs,direction:ss?"right":"left",onClick:_l,disabled:!qs},ws,{className:clsx(Nl.scrollButtons,ws.className)})):null,Vl.scrollButtonEnd=zs?jsxRuntimeExports.jsx(bs,_extends$a({slots:{EndScrollButtonIcon:Cs.EndScrollButtonIcon},slotProps:{endScrollButtonIcon:Ps},orientation:vs,direction:ss?"left":"right",onClick:Bl,disabled:!Ll},ws,{className:clsx(Nl.scrollButtons,ws.className)})):null,Vl},Il=useEventCallback(Vl=>{const{tabsMeta:Hl,tabMeta:zs}=Hs();if(!(!zs||!Hl)){if(zs[Fs]<Hl[Fs]){const yl=Hl[Ds]+(zs[Fs]-Hl[Fs]);Js(yl,{animation:Vl})}else if(zs[Vs]>Hl[Vs]){const yl=Hl[Ds]+(zs[Vs]-Hl[Vs]);Js(yl,{animation:Vl})}}}),Ml=useEventCallback(()=>{Ms&&Ss!==!1&&wl(!Cl)});reactExports.useEffect(()=>{const Vl=debounce$3(()=>{Dl.current&&Gs()});let Hl;const zs=Jl=>{Jl.forEach(tu=>{tu.removedNodes.forEach(Xl=>{var ou;(ou=Hl)==null||ou.unobserve(Xl)}),tu.addedNodes.forEach(Xl=>{var ou;(ou=Hl)==null||ou.observe(Xl)})}),Vl(),Ml()},yl=ownerWindow(Dl.current);yl.addEventListener("resize",Vl);let Rl;return typeof ResizeObserver<"u"&&(Hl=new ResizeObserver(Vl),Array.from(Ns.current.children).forEach(Jl=>{Hl.observe(Jl)})),typeof MutationObserver<"u"&&(Rl=new MutationObserver(zs),Rl.observe(Ns.current,{childList:!0})),()=>{var Jl,tu;Vl.clear(),yl.removeEventListener("resize",Vl),(Jl=Rl)==null||Jl.disconnect(),(tu=Hl)==null||tu.disconnect()}},[Gs,Ml]),reactExports.useEffect(()=>{const Vl=Array.from(Ns.current.children),Hl=Vl.length;if(typeof IntersectionObserver<"u"&&Hl>0&&Ms&&Ss!==!1){const zs=Vl[0],yl=Vl[Hl-1],Rl={root:Dl.current,threshold:.99},Jl=au=>{Fl(!au[0].isIntersecting)},tu=new IntersectionObserver(Jl,Rl);tu.observe(zs);const Xl=au=>{$l(!au[0].isIntersecting)},ou=new IntersectionObserver(Xl,Rl);return ou.observe(yl),()=>{tu.disconnect(),ou.disconnect()}}},[Ms,Ss,Cl,ds==null?void 0:ds.length]),reactExports.useEffect(()=>{Zs(!0)},[]),reactExports.useEffect(()=>{Gs()}),reactExports.useEffect(()=>{Il(defaultIndicatorStyle!==Us)},[Il,Us]),reactExports.useImperativeHandle(cs,()=>({updateIndicator:Gs,updateScrollButtons:Ml}),[Gs,Ml]);const Kl=jsxRuntimeExports.jsx(TabsIndicator,_extends$a({},xs,{className:clsx(Nl.indicator,xs.className),ownerState:Os,style:_extends$a({},Us,xs.style)}));let Ql=0;const Yl=reactExports.Children.map(ds,Vl=>{if(!reactExports.isValidElement(Vl))return null;const Hl=Vl.props.value===void 0?Ql:Vl.props.value;Al.set(Hl,Ql);const zs=Hl===Is;return Ql+=1,reactExports.cloneElement(Vl,_extends$a({fullWidth:Ts==="fullWidth",indicator:zs&&!Ys&&Kl,selected:zs,selectionFollowsFocus:$s,onChange:ys,textColor:ks,value:Hl},Ql===1&&Is===!1&&!Vl.props.tabIndex?{tabIndex:0}:{}))}),Gl=Vl=>{const Hl=Ns.current,zs=ownerDocument(Hl).activeElement;if(zs.getAttribute("role")!=="tab")return;let Rl=vs==="horizontal"?"ArrowLeft":"ArrowUp",Jl=vs==="horizontal"?"ArrowRight":"ArrowDown";switch(vs==="horizontal"&&ss&&(Rl="ArrowRight",Jl="ArrowLeft"),Vl.key){case Rl:Vl.preventDefault(),moveFocus(Hl,zs,previousItem);break;case Jl:Vl.preventDefault(),moveFocus(Hl,zs,nextItem);break;case"Home":Vl.preventDefault(),moveFocus(Hl,null,nextItem);break;case"End":Vl.preventDefault(),moveFocus(Hl,null,previousItem);break}},iu=Sl();return jsxRuntimeExports.jsxs(TabsRoot,_extends$a({className:clsx(Nl.root,ps),ownerState:Os,ref:rs,as:hs},As,{children:[iu.scrollButtonStart,iu.scrollbarSizeListener,jsxRuntimeExports.jsxs(TabsScroller,{className:Nl.scroller,ownerState:Os,style:{overflow:Tl.overflow,[Ls?"margin".concat(ss?"Left":"Right"):"marginBottom"]:Rs?void 0:-Tl.scrollbarWidth},ref:Dl,children:[jsxRuntimeExports.jsx(FlexContainer,{"aria-label":as,"aria-labelledby":ls,"aria-orientation":vs==="vertical"?"vertical":null,className:Nl.flexContainer,ownerState:Os,onKeyDown:Gl,ref:Ns,role:"tablist",children:Yl}),Ys&&Kl]}),iu.scrollButtonEnd]}))}),Tabs$1=Tabs;function getTextFieldUtilityClass(ts){return generateUtilityClass("MuiTextField",ts)}generateUtilityClasses("MuiTextField",["root"]);const _excluded$q=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],variantComponent={standard:Input$2,filled:FilledInput$1,outlined:OutlinedInput$1},useUtilityClasses$g=ts=>{const{classes:ns}=ts;return composeClasses({root:["root"]},getTextFieldUtilityClass,ns)},TextFieldRoot=styled$2(FormControl$1,{name:"MuiTextField",slot:"Root",overridesResolver:(ts,ns)=>ns.root})({}),TextField=reactExports.forwardRef(function(ns,rs){const is=useDefaultProps({props:ns,name:"MuiTextField"}),{autoComplete:os,autoFocus:ss=!1,children:as,className:ls,color:cs="primary",defaultValue:us,disabled:ds=!1,error:ps=!1,FormHelperTextProps:hs,fullWidth:ms=!1,helperText:gs,id:ys,InputLabelProps:vs,inputProps:bs,InputProps:Ss,inputRef:$s,label:Cs,maxRows:Es,minRows:xs,multiline:ws=!1,name:ks,onBlur:Is,onChange:Ts,onFocus:Rs,placeholder:As,required:Ms=!1,rows:Ls,select:Ds=!1,SelectProps:Fs,type:Vs,value:Bs,variant:Ws="outlined"}=is,Os=_objectWithoutPropertiesLoose$3(is,_excluded$q),Nl=_extends$a({},is,{autoFocus:ss,color:cs,disabled:ds,error:ps,fullWidth:ms,multiline:ws,required:Ms,select:Ds,variant:Ws}),$a=useUtilityClasses$g(Nl),Ps={};Ws==="outlined"&&(vs&&typeof vs.shrink<"u"&&(Ps.notched=vs.shrink),Ps.label=Cs),Ds&&((!Fs||!Fs.native)&&(Ps.id=void 0),Ps["aria-describedby"]=void 0);const Ys=useId(ys),Zs=gs&&Ys?"".concat(Ys,"-helper-text"):void 0,Us=Cs&&Ys?"".concat(Ys,"-label"):void 0,Ol=variantComponent[Ws],qs=jsxRuntimeExports.jsx(Ol,_extends$a({"aria-describedby":Zs,autoComplete:os,autoFocus:ss,defaultValue:us,fullWidth:ms,multiline:ws,name:ks,rows:Ls,maxRows:Es,minRows:xs,type:Vs,value:Bs,id:Ys,inputRef:$s,onBlur:Is,onChange:Ts,onFocus:Rs,placeholder:As,inputProps:bs},Ps,Ss));return jsxRuntimeExports.jsxs(TextFieldRoot,_extends$a({className:clsx($a.root,ls),disabled:ds,error:ps,fullWidth:ms,ref:rs,required:Ms,color:cs,variant:Ws,ownerState:Nl},Os,{children:[Cs!=null&&Cs!==""&&jsxRuntimeExports.jsx(InputLabel$1,_extends$a({htmlFor:Ys,id:Us},vs,{children:Cs})),Ds?jsxRuntimeExports.jsx(Select$2,_extends$a({"aria-describedby":Zs,id:Ys,labelId:Us,value:Bs,input:qs},Fs,{children:as})):qs,gs&&jsxRuntimeExports.jsx(FormHelperText$1,_extends$a({id:Zs},hs,{children:gs}))]}))}),MuiTextField=TextField,consoleLogger$1={type:"logger",log(ts){this.output("log",ts)},warn(ts){this.output("warn",ts)},error(ts){this.output("error",ts)},output(ts,ns){console&&console[ts]&&console[ts].apply(console,ns)}};class Logger{constructor(ns){let rs=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(ns,rs)}init(ns){let rs=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=rs.prefix||"i18next:",this.logger=ns||consoleLogger$1,this.options=rs,this.debug=rs.debug}log(){for(var ns=arguments.length,rs=new Array(ns),is=0;is<ns;is++)rs[is]=arguments[is];return this.forward(rs,"log","",!0)}warn(){for(var ns=arguments.length,rs=new Array(ns),is=0;is<ns;is++)rs[is]=arguments[is];return this.forward(rs,"warn","",!0)}error(){for(var ns=arguments.length,rs=new Array(ns),is=0;is<ns;is++)rs[is]=arguments[is];return this.forward(rs,"error","")}deprecate(){for(var ns=arguments.length,rs=new Array(ns),is=0;is<ns;is++)rs[is]=arguments[is];return this.forward(rs,"warn","WARNING DEPRECATED: ",!0)}forward(ns,rs,is,os){return os&&!this.debug?null:(typeof ns[0]=="string"&&(ns[0]="".concat(is).concat(this.prefix," ").concat(ns[0])),this.logger[rs](ns))}create(ns){return new Logger(this.logger,{prefix:"".concat(this.prefix,":").concat(ns,":"),...this.options})}clone(ns){return ns=ns||this.options,ns.prefix=ns.prefix||this.prefix,new Logger(this.logger,ns)}}var baseLogger=new Logger;let EventEmitter$1=class{constructor(){this.observers={}}on(ns,rs){return ns.split(" ").forEach(is=>{this.observers[is]||(this.observers[is]=new Map);const os=this.observers[is].get(rs)||0;this.observers[is].set(rs,os+1)}),this}off(ns,rs){if(this.observers[ns]){if(!rs){delete this.observers[ns];return}this.observers[ns].delete(rs)}}emit(ns){for(var rs=arguments.length,is=new Array(rs>1?rs-1:0),os=1;os<rs;os++)is[os-1]=arguments[os];this.observers[ns]&&Array.from(this.observers[ns].entries()).forEach(as=>{let[ls,cs]=as;for(let us=0;us<cs;us++)ls(...is)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(as=>{let[ls,cs]=as;for(let us=0;us<cs;us++)ls.apply(ls,[ns,...is])})}};function defer(){let ts,ns;const rs=new Promise((is,os)=>{ts=is,ns=os});return rs.resolve=ts,rs.reject=ns,rs}function makeString(ts){return ts==null?"":""+ts}function copy(ts,ns,rs){ts.forEach(is=>{ns[is]&&(rs[is]=ns[is])})}const lastOfPathSeparatorRegExp=/###/g;function getLastOfPath(ts,ns,rs){function is(ls){return ls&&ls.indexOf("###")>-1?ls.replace(lastOfPathSeparatorRegExp,"."):ls}function os(){return!ts||typeof ts=="string"}const ss=typeof ns!="string"?ns:ns.split(".");let as=0;for(;as<ss.length-1;){if(os())return{};const ls=is(ss[as]);!ts[ls]&&rs&&(ts[ls]=new rs),Object.prototype.hasOwnProperty.call(ts,ls)?ts=ts[ls]:ts={},++as}return os()?{}:{obj:ts,k:is(ss[as])}}function setPath(ts,ns,rs){const{obj:is,k:os}=getLastOfPath(ts,ns,Object);if(is!==void 0||ns.length===1){is[os]=rs;return}let ss=ns[ns.length-1],as=ns.slice(0,ns.length-1),ls=getLastOfPath(ts,as,Object);for(;ls.obj===void 0&&as.length;)ss="".concat(as[as.length-1],".").concat(ss),as=as.slice(0,as.length-1),ls=getLastOfPath(ts,as,Object),ls&&ls.obj&&typeof ls.obj["".concat(ls.k,".").concat(ss)]<"u"&&(ls.obj=void 0);ls.obj["".concat(ls.k,".").concat(ss)]=rs}function pushPath(ts,ns,rs,is){const{obj:os,k:ss}=getLastOfPath(ts,ns,Object);os[ss]=os[ss]||[],os[ss].push(rs)}function getPath$1(ts,ns){const{obj:rs,k:is}=getLastOfPath(ts,ns);if(rs)return rs[is]}function getPathWithDefaults(ts,ns,rs){const is=getPath$1(ts,rs);return is!==void 0?is:getPath$1(ns,rs)}function deepExtend(ts,ns,rs){for(const is in ns)is!=="__proto__"&&is!=="constructor"&&(is in ts?typeof ts[is]=="string"||ts[is]instanceof String||typeof ns[is]=="string"||ns[is]instanceof String?rs&&(ts[is]=ns[is]):deepExtend(ts[is],ns[is],rs):ts[is]=ns[is]);return ts}function regexEscape(ts){return ts.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var _entityMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function escape(ts){return typeof ts=="string"?ts.replace(/[&<>"'\/]/g,ns=>_entityMap[ns]):ts}class RegExpCache{constructor(ns){this.capacity=ns,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(ns){const rs=this.regExpMap.get(ns);if(rs!==void 0)return rs;const is=new RegExp(ns);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(ns,is),this.regExpQueue.push(ns),is}}const chars$1=[" ",",","?","!",";"],looksLikeObjectPathRegExpCache=new RegExpCache(20);function looksLikeObjectPath(ts,ns,rs){ns=ns||"",rs=rs||"";const is=chars$1.filter(as=>ns.indexOf(as)<0&&rs.indexOf(as)<0);if(is.length===0)return!0;const os=looksLikeObjectPathRegExpCache.getRegExp("(".concat(is.map(as=>as==="?"?"\\?":as).join("|"),")"));let ss=!os.test(ts);if(!ss){const as=ts.indexOf(rs);as>0&&!os.test(ts.substring(0,as))&&(ss=!0)}return ss}function deepFind(ts,ns){let rs=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!ts)return;if(ts[ns])return ts[ns];const is=ns.split(rs);let os=ts;for(let ss=0;ss<is.length;){if(!os||typeof os!="object")return;let as,ls="";for(let cs=ss;cs<is.length;++cs)if(cs!==ss&&(ls+=rs),ls+=is[cs],as=os[ls],as!==void 0){if(["string","number","boolean"].indexOf(typeof as)>-1&&cs<is.length-1)continue;ss+=cs-ss+1;break}os=as}return os}function getCleanedCode(ts){return ts&&ts.indexOf("_")>0?ts.replace("_","-"):ts}class ResourceStore extends EventEmitter$1{constructor(ns){let rs=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=ns||{},this.options=rs,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(ns){this.options.ns.indexOf(ns)<0&&this.options.ns.push(ns)}removeNamespaces(ns){const rs=this.options.ns.indexOf(ns);rs>-1&&this.options.ns.splice(rs,1)}getResource(ns,rs,is){let os=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const ss=os.keySeparator!==void 0?os.keySeparator:this.options.keySeparator,as=os.ignoreJSONStructure!==void 0?os.ignoreJSONStructure:this.options.ignoreJSONStructure;let ls;ns.indexOf(".")>-1?ls=ns.split("."):(ls=[ns,rs],is&&(Array.isArray(is)?ls.push(...is):typeof is=="string"&&ss?ls.push(...is.split(ss)):ls.push(is)));const cs=getPath$1(this.data,ls);return!cs&&!rs&&!is&&ns.indexOf(".")>-1&&(ns=ls[0],rs=ls[1],is=ls.slice(2).join(".")),cs||!as||typeof is!="string"?cs:deepFind(this.data&&this.data[ns]&&this.data[ns][rs],is,ss)}addResource(ns,rs,is,os){let ss=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const as=ss.keySeparator!==void 0?ss.keySeparator:this.options.keySeparator;let ls=[ns,rs];is&&(ls=ls.concat(as?is.split(as):is)),ns.indexOf(".")>-1&&(ls=ns.split("."),os=rs,rs=ls[1]),this.addNamespaces(rs),setPath(this.data,ls,os),ss.silent||this.emit("added",ns,rs,is,os)}addResources(ns,rs,is){let os=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const ss in is)(typeof is[ss]=="string"||Array.isArray(is[ss]))&&this.addResource(ns,rs,ss,is[ss],{silent:!0});os.silent||this.emit("added",ns,rs,is)}addResourceBundle(ns,rs,is,os,ss){let as=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},ls=[ns,rs];ns.indexOf(".")>-1&&(ls=ns.split("."),os=is,is=rs,rs=ls[1]),this.addNamespaces(rs);let cs=getPath$1(this.data,ls)||{};as.skipCopy||(is=JSON.parse(JSON.stringify(is))),os?deepExtend(cs,is,ss):cs={...cs,...is},setPath(this.data,ls,cs),as.silent||this.emit("added",ns,rs,is)}removeResourceBundle(ns,rs){this.hasResourceBundle(ns,rs)&&delete this.data[ns][rs],this.removeNamespaces(rs),this.emit("removed",ns,rs)}hasResourceBundle(ns,rs){return this.getResource(ns,rs)!==void 0}getResourceBundle(ns,rs){return rs||(rs=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(ns,rs)}:this.getResource(ns,rs)}getDataByLanguage(ns){return this.data[ns]}hasLanguageSomeTranslations(ns){const rs=this.getDataByLanguage(ns);return!!(rs&&Object.keys(rs)||[]).find(os=>rs[os]&&Object.keys(rs[os]).length>0)}toJSON(){return this.data}}var postProcessor={processors:{},addPostProcessor(ts){this.processors[ts.name]=ts},handle(ts,ns,rs,is,os){return ts.forEach(ss=>{this.processors[ss]&&(ns=this.processors[ss].process(ns,rs,is,os))}),ns}};const checkedLoadedFor={};class Translator extends EventEmitter$1{constructor(ns){let rs=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),copy(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],ns,this),this.options=rs,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=baseLogger.create("translator")}changeLanguage(ns){ns&&(this.language=ns)}exists(ns){let rs=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(ns==null)return!1;const is=this.resolve(ns,rs);return is&&is.res!==void 0}extractFromKey(ns,rs){let is=rs.nsSeparator!==void 0?rs.nsSeparator:this.options.nsSeparator;is===void 0&&(is=":");const os=rs.keySeparator!==void 0?rs.keySeparator:this.options.keySeparator;let ss=rs.ns||this.options.defaultNS||[];const as=is&&ns.indexOf(is)>-1,ls=!this.options.userDefinedKeySeparator&&!rs.keySeparator&&!this.options.userDefinedNsSeparator&&!rs.nsSeparator&&!looksLikeObjectPath(ns,is,os);if(as&&!ls){const cs=ns.match(this.interpolator.nestingRegexp);if(cs&&cs.length>0)return{key:ns,namespaces:ss};const us=ns.split(is);(is!==os||is===os&&this.options.ns.indexOf(us[0])>-1)&&(ss=us.shift()),ns=us.join(os)}return typeof ss=="string"&&(ss=[ss]),{key:ns,namespaces:ss}}translate(ns,rs,is){if(typeof rs!="object"&&this.options.overloadTranslationOptionHandler&&(rs=this.options.overloadTranslationOptionHandler(arguments)),typeof rs=="object"&&(rs={...rs}),rs||(rs={}),ns==null)return"";Array.isArray(ns)||(ns=[String(ns)]);const os=rs.returnDetails!==void 0?rs.returnDetails:this.options.returnDetails,ss=rs.keySeparator!==void 0?rs.keySeparator:this.options.keySeparator,{key:as,namespaces:ls}=this.extractFromKey(ns[ns.length-1],rs),cs=ls[ls.length-1],us=rs.lng||this.language,ds=rs.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(us&&us.toLowerCase()==="cimode"){if(ds){const Cs=rs.nsSeparator||this.options.nsSeparator;return os?{res:"".concat(cs).concat(Cs).concat(as),usedKey:as,exactUsedKey:as,usedLng:us,usedNS:cs,usedParams:this.getUsedParamsDetails(rs)}:"".concat(cs).concat(Cs).concat(as)}return os?{res:as,usedKey:as,exactUsedKey:as,usedLng:us,usedNS:cs,usedParams:this.getUsedParamsDetails(rs)}:as}const ps=this.resolve(ns,rs);let hs=ps&&ps.res;const ms=ps&&ps.usedKey||as,gs=ps&&ps.exactUsedKey||as,ys=Object.prototype.toString.apply(hs),vs=["[object Number]","[object Function]","[object RegExp]"],bs=rs.joinArrays!==void 0?rs.joinArrays:this.options.joinArrays,Ss=!this.i18nFormat||this.i18nFormat.handleAsObject;if(Ss&&hs&&(typeof hs!="string"&&typeof hs!="boolean"&&typeof hs!="number")&&vs.indexOf(ys)<0&&!(typeof bs=="string"&&Array.isArray(hs))){if(!rs.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const Cs=this.options.returnedObjectHandler?this.options.returnedObjectHandler(ms,hs,{...rs,ns:ls}):"key '".concat(as," (").concat(this.language,")' returned an object instead of string.");return os?(ps.res=Cs,ps.usedParams=this.getUsedParamsDetails(rs),ps):Cs}if(ss){const Cs=Array.isArray(hs),Es=Cs?[]:{},xs=Cs?gs:ms;for(const ws in hs)if(Object.prototype.hasOwnProperty.call(hs,ws)){const ks="".concat(xs).concat(ss).concat(ws);Es[ws]=this.translate(ks,{...rs,joinArrays:!1,ns:ls}),Es[ws]===ks&&(Es[ws]=hs[ws])}hs=Es}}else if(Ss&&typeof bs=="string"&&Array.isArray(hs))hs=hs.join(bs),hs&&(hs=this.extendTranslation(hs,ns,rs,is));else{let Cs=!1,Es=!1;const xs=rs.count!==void 0&&typeof rs.count!="string",ws=Translator.hasDefaultValue(rs),ks=xs?this.pluralResolver.getSuffix(us,rs.count,rs):"",Is=rs.ordinal&&xs?this.pluralResolver.getSuffix(us,rs.count,{ordinal:!1}):"",Ts=xs&&!rs.ordinal&&rs.count===0&&this.pluralResolver.shouldUseIntlApi(),Rs=Ts&&rs["defaultValue".concat(this.options.pluralSeparator,"zero")]||rs["defaultValue".concat(ks)]||rs["defaultValue".concat(Is)]||rs.defaultValue;!this.isValidLookup(hs)&&ws&&(Cs=!0,hs=Rs),this.isValidLookup(hs)||(Es=!0,hs=as);const Ms=(rs.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&Es?void 0:hs,Ls=ws&&Rs!==hs&&this.options.updateMissing;if(Es||Cs||Ls){if(this.logger.log(Ls?"updateKey":"missingKey",us,cs,as,Ls?Rs:hs),ss){const Bs=this.resolve(as,{...rs,keySeparator:!1});Bs&&Bs.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let Ds=[];const Fs=this.languageUtils.getFallbackCodes(this.options.fallbackLng,rs.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Fs&&Fs[0])for(let Bs=0;Bs<Fs.length;Bs++)Ds.push(Fs[Bs]);else this.options.saveMissingTo==="all"?Ds=this.languageUtils.toResolveHierarchy(rs.lng||this.language):Ds.push(rs.lng||this.language);const Vs=(Bs,Ws,Os)=>{const Nl=ws&&Os!==hs?Os:Ms;this.options.missingKeyHandler?this.options.missingKeyHandler(Bs,cs,Ws,Nl,Ls,rs):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(Bs,cs,Ws,Nl,Ls,rs),this.emit("missingKey",Bs,cs,Ws,hs)};this.options.saveMissing&&(this.options.saveMissingPlurals&&xs?Ds.forEach(Bs=>{const Ws=this.pluralResolver.getSuffixes(Bs,rs);Ts&&rs["defaultValue".concat(this.options.pluralSeparator,"zero")]&&Ws.indexOf("".concat(this.options.pluralSeparator,"zero"))<0&&Ws.push("".concat(this.options.pluralSeparator,"zero")),Ws.forEach(Os=>{Vs([Bs],as+Os,rs["defaultValue".concat(Os)]||Rs)})}):Vs(Ds,as,Rs))}hs=this.extendTranslation(hs,ns,rs,ps,is),Es&&hs===as&&this.options.appendNamespaceToMissingKey&&(hs="".concat(cs,":").concat(as)),(Es||Cs)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?hs=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(cs,":").concat(as):as,Cs?hs:void 0):hs=this.options.parseMissingKeyHandler(hs))}return os?(ps.res=hs,ps.usedParams=this.getUsedParamsDetails(rs),ps):hs}extendTranslation(ns,rs,is,os,ss){var as=this;if(this.i18nFormat&&this.i18nFormat.parse)ns=this.i18nFormat.parse(ns,{...this.options.interpolation.defaultVariables,...is},is.lng||this.language||os.usedLng,os.usedNS,os.usedKey,{resolved:os});else if(!is.skipInterpolation){is.interpolation&&this.interpolator.init({...is,interpolation:{...this.options.interpolation,...is.interpolation}});const us=typeof ns=="string"&&(is&&is.interpolation&&is.interpolation.skipOnVariables!==void 0?is.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let ds;if(us){const hs=ns.match(this.interpolator.nestingRegexp);ds=hs&&hs.length}let ps=is.replace&&typeof is.replace!="string"?is.replace:is;if(this.options.interpolation.defaultVariables&&(ps={...this.options.interpolation.defaultVariables,...ps}),ns=this.interpolator.interpolate(ns,ps,is.lng||this.language||os.usedLng,is),us){const hs=ns.match(this.interpolator.nestingRegexp),ms=hs&&hs.length;ds<ms&&(is.nest=!1)}!is.lng&&this.options.compatibilityAPI!=="v1"&&os&&os.res&&(is.lng=this.language||os.usedLng),is.nest!==!1&&(ns=this.interpolator.nest(ns,function(){for(var hs=arguments.length,ms=new Array(hs),gs=0;gs<hs;gs++)ms[gs]=arguments[gs];return ss&&ss[0]===ms[0]&&!is.context?(as.logger.warn("It seems you are nesting recursively key: ".concat(ms[0]," in key: ").concat(rs[0])),null):as.translate(...ms,rs)},is)),is.interpolation&&this.interpolator.reset()}const ls=is.postProcess||this.options.postProcess,cs=typeof ls=="string"?[ls]:ls;return ns!=null&&cs&&cs.length&&is.applyPostProcessor!==!1&&(ns=postProcessor.handle(cs,ns,rs,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...os,usedParams:this.getUsedParamsDetails(is)},...is}:is,this)),ns}resolve(ns){let rs=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},is,os,ss,as,ls;return typeof ns=="string"&&(ns=[ns]),ns.forEach(cs=>{if(this.isValidLookup(is))return;const us=this.extractFromKey(cs,rs),ds=us.key;os=ds;let ps=us.namespaces;this.options.fallbackNS&&(ps=ps.concat(this.options.fallbackNS));const hs=rs.count!==void 0&&typeof rs.count!="string",ms=hs&&!rs.ordinal&&rs.count===0&&this.pluralResolver.shouldUseIntlApi(),gs=rs.context!==void 0&&(typeof rs.context=="string"||typeof rs.context=="number")&&rs.context!=="",ys=rs.lngs?rs.lngs:this.languageUtils.toResolveHierarchy(rs.lng||this.language,rs.fallbackLng);ps.forEach(vs=>{this.isValidLookup(is)||(ls=vs,!checkedLoadedFor["".concat(ys[0],"-").concat(vs)]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(ls)&&(checkedLoadedFor["".concat(ys[0],"-").concat(vs)]=!0,this.logger.warn('key "'.concat(os,'" for languages "').concat(ys.join(", "),'" won\'t get resolved as namespace "').concat(ls,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),ys.forEach(bs=>{if(this.isValidLookup(is))return;as=bs;const Ss=[ds];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(Ss,ds,bs,vs,rs);else{let Cs;hs&&(Cs=this.pluralResolver.getSuffix(bs,rs.count,rs));const Es="".concat(this.options.pluralSeparator,"zero"),xs="".concat(this.options.pluralSeparator,"ordinal").concat(this.options.pluralSeparator);if(hs&&(Ss.push(ds+Cs),rs.ordinal&&Cs.indexOf(xs)===0&&Ss.push(ds+Cs.replace(xs,this.options.pluralSeparator)),ms&&Ss.push(ds+Es)),gs){const ws="".concat(ds).concat(this.options.contextSeparator).concat(rs.context);Ss.push(ws),hs&&(Ss.push(ws+Cs),rs.ordinal&&Cs.indexOf(xs)===0&&Ss.push(ws+Cs.replace(xs,this.options.pluralSeparator)),ms&&Ss.push(ws+Es))}}let $s;for(;$s=Ss.pop();)this.isValidLookup(is)||(ss=$s,is=this.getResource(bs,vs,$s,rs))}))})}),{res:is,usedKey:os,exactUsedKey:ss,usedLng:as,usedNS:ls}}isValidLookup(ns){return ns!==void 0&&!(!this.options.returnNull&&ns===null)&&!(!this.options.returnEmptyString&&ns==="")}getResource(ns,rs,is){let os=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(ns,rs,is,os):this.resourceStore.getResource(ns,rs,is,os)}getUsedParamsDetails(){let ns=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const rs=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],is=ns.replace&&typeof ns.replace!="string";let os=is?ns.replace:ns;if(is&&typeof ns.count<"u"&&(os.count=ns.count),this.options.interpolation.defaultVariables&&(os={...this.options.interpolation.defaultVariables,...os}),!is){os={...os};for(const ss of rs)delete os[ss]}return os}static hasDefaultValue(ns){const rs="defaultValue";for(const is in ns)if(Object.prototype.hasOwnProperty.call(ns,is)&&rs===is.substring(0,rs.length)&&ns[is]!==void 0)return!0;return!1}}function capitalize$2(ts){return ts.charAt(0).toUpperCase()+ts.slice(1)}class LanguageUtil{constructor(ns){this.options=ns,this.supportedLngs=this.options.supportedLngs||!1,this.logger=baseLogger.create("languageUtils")}getScriptPartFromCode(ns){if(ns=getCleanedCode(ns),!ns||ns.indexOf("-")<0)return null;const rs=ns.split("-");return rs.length===2||(rs.pop(),rs[rs.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(rs.join("-"))}getLanguagePartFromCode(ns){if(ns=getCleanedCode(ns),!ns||ns.indexOf("-")<0)return ns;const rs=ns.split("-");return this.formatLanguageCode(rs[0])}formatLanguageCode(ns){if(typeof ns=="string"&&ns.indexOf("-")>-1){const rs=["hans","hant","latn","cyrl","cans","mong","arab"];let is=ns.split("-");return this.options.lowerCaseLng?is=is.map(os=>os.toLowerCase()):is.length===2?(is[0]=is[0].toLowerCase(),is[1]=is[1].toUpperCase(),rs.indexOf(is[1].toLowerCase())>-1&&(is[1]=capitalize$2(is[1].toLowerCase()))):is.length===3&&(is[0]=is[0].toLowerCase(),is[1].length===2&&(is[1]=is[1].toUpperCase()),is[0]!=="sgn"&&is[2].length===2&&(is[2]=is[2].toUpperCase()),rs.indexOf(is[1].toLowerCase())>-1&&(is[1]=capitalize$2(is[1].toLowerCase())),rs.indexOf(is[2].toLowerCase())>-1&&(is[2]=capitalize$2(is[2].toLowerCase()))),is.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?ns.toLowerCase():ns}isSupportedCode(ns){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(ns=this.getLanguagePartFromCode(ns)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(ns)>-1}getBestMatchFromCodes(ns){if(!ns)return null;let rs;return ns.forEach(is=>{if(rs)return;const os=this.formatLanguageCode(is);(!this.options.supportedLngs||this.isSupportedCode(os))&&(rs=os)}),!rs&&this.options.supportedLngs&&ns.forEach(is=>{if(rs)return;const os=this.getLanguagePartFromCode(is);if(this.isSupportedCode(os))return rs=os;rs=this.options.supportedLngs.find(ss=>{if(ss===os)return ss;if(!(ss.indexOf("-")<0&&os.indexOf("-")<0)&&(ss.indexOf("-")>0&&os.indexOf("-")<0&&ss.substring(0,ss.indexOf("-"))===os||ss.indexOf(os)===0&&os.length>1))return ss})}),rs||(rs=this.getFallbackCodes(this.options.fallbackLng)[0]),rs}getFallbackCodes(ns,rs){if(!ns)return[];if(typeof ns=="function"&&(ns=ns(rs)),typeof ns=="string"&&(ns=[ns]),Array.isArray(ns))return ns;if(!rs)return ns.default||[];let is=ns[rs];return is||(is=ns[this.getScriptPartFromCode(rs)]),is||(is=ns[this.formatLanguageCode(rs)]),is||(is=ns[this.getLanguagePartFromCode(rs)]),is||(is=ns.default),is||[]}toResolveHierarchy(ns,rs){const is=this.getFallbackCodes(rs||this.options.fallbackLng||[],ns),os=[],ss=as=>{as&&(this.isSupportedCode(as)?os.push(as):this.logger.warn("rejecting language code not found in supportedLngs: ".concat(as)))};return typeof ns=="string"&&(ns.indexOf("-")>-1||ns.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&ss(this.formatLanguageCode(ns)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&ss(this.getScriptPartFromCode(ns)),this.options.load!=="currentOnly"&&ss(this.getLanguagePartFromCode(ns))):typeof ns=="string"&&ss(this.formatLanguageCode(ns)),is.forEach(as=>{os.indexOf(as)<0&&ss(this.formatLanguageCode(as))}),os}}let sets=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],_rulesPluralsTypes={1:function(ts){return+(ts>1)},2:function(ts){return+(ts!=1)},3:function(ts){return 0},4:function(ts){return ts%10==1&&ts%100!=11?0:ts%10>=2&&ts%10<=4&&(ts%100<10||ts%100>=20)?1:2},5:function(ts){return ts==0?0:ts==1?1:ts==2?2:ts%100>=3&&ts%100<=10?3:ts%100>=11?4:5},6:function(ts){return ts==1?0:ts>=2&&ts<=4?1:2},7:function(ts){return ts==1?0:ts%10>=2&&ts%10<=4&&(ts%100<10||ts%100>=20)?1:2},8:function(ts){return ts==1?0:ts==2?1:ts!=8&&ts!=11?2:3},9:function(ts){return+(ts>=2)},10:function(ts){return ts==1?0:ts==2?1:ts<7?2:ts<11?3:4},11:function(ts){return ts==1||ts==11?0:ts==2||ts==12?1:ts>2&&ts<20?2:3},12:function(ts){return+(ts%10!=1||ts%100==11)},13:function(ts){return+(ts!==0)},14:function(ts){return ts==1?0:ts==2?1:ts==3?2:3},15:function(ts){return ts%10==1&&ts%100!=11?0:ts%10>=2&&(ts%100<10||ts%100>=20)?1:2},16:function(ts){return ts%10==1&&ts%100!=11?0:ts!==0?1:2},17:function(ts){return ts==1||ts%10==1&&ts%100!=11?0:1},18:function(ts){return ts==0?0:ts==1?1:2},19:function(ts){return ts==1?0:ts==0||ts%100>1&&ts%100<11?1:ts%100>10&&ts%100<20?2:3},20:function(ts){return ts==1?0:ts==0||ts%100>0&&ts%100<20?1:2},21:function(ts){return ts%100==1?1:ts%100==2?2:ts%100==3||ts%100==4?3:0},22:function(ts){return ts==1?0:ts==2?1:(ts<0||ts>10)&&ts%10==0?2:3}};const nonIntlVersions=["v1","v2","v3"],intlVersions=["v4"],suffixesOrder={zero:0,one:1,two:2,few:3,many:4,other:5};function createRules(){const ts={};return sets.forEach(ns=>{ns.lngs.forEach(rs=>{ts[rs]={numbers:ns.nr,plurals:_rulesPluralsTypes[ns.fc]}})}),ts}class PluralResolver{constructor(ns){let rs=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=ns,this.options=rs,this.logger=baseLogger.create("pluralResolver"),(!this.options.compatibilityJSON||intlVersions.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=createRules()}addRule(ns,rs){this.rules[ns]=rs}getRule(ns){let rs=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(getCleanedCode(ns==="dev"?"en":ns),{type:rs.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[ns]||this.rules[this.languageUtils.getLanguagePartFromCode(ns)]}needsPlural(ns){let rs=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const is=this.getRule(ns,rs);return this.shouldUseIntlApi()?is&&is.resolvedOptions().pluralCategories.length>1:is&&is.numbers.length>1}getPluralFormsOfKey(ns,rs){let is=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(ns,is).map(os=>"".concat(rs).concat(os))}getSuffixes(ns){let rs=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const is=this.getRule(ns,rs);return is?this.shouldUseIntlApi()?is.resolvedOptions().pluralCategories.sort((os,ss)=>suffixesOrder[os]-suffixesOrder[ss]).map(os=>"".concat(this.options.prepend).concat(rs.ordinal?"ordinal".concat(this.options.prepend):"").concat(os)):is.numbers.map(os=>this.getSuffix(ns,os,rs)):[]}getSuffix(ns,rs){let is=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const os=this.getRule(ns,is);return os?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(is.ordinal?"ordinal".concat(this.options.prepend):"").concat(os.select(rs)):this.getSuffixRetroCompatible(os,rs):(this.logger.warn("no plural rule found for: ".concat(ns)),"")}getSuffixRetroCompatible(ns,rs){const is=ns.noAbs?ns.plurals(rs):ns.plurals(Math.abs(rs));let os=ns.numbers[is];this.options.simplifyPluralSuffix&&ns.numbers.length===2&&ns.numbers[0]===1&&(os===2?os="plural":os===1&&(os=""));const ss=()=>this.options.prepend&&os.toString()?this.options.prepend+os.toString():os.toString();return this.options.compatibilityJSON==="v1"?os===1?"":typeof os=="number"?"_plural_".concat(os.toString()):ss():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&ns.numbers.length===2&&ns.numbers[0]===1?ss():this.options.prepend&&is.toString()?this.options.prepend+is.toString():is.toString()}shouldUseIntlApi(){return!nonIntlVersions.includes(this.options.compatibilityJSON)}}function deepFindWithDefaults(ts,ns,rs){let is=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",os=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,ss=getPathWithDefaults(ts,ns,rs);return!ss&&os&&typeof rs=="string"&&(ss=deepFind(ts,rs,is),ss===void 0&&(ss=deepFind(ns,rs,is))),ss}class Interpolator{constructor(){let ns=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=baseLogger.create("interpolator"),this.options=ns,this.format=ns.interpolation&&ns.interpolation.format||(rs=>rs),this.init(ns)}init(){let ns=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};ns.interpolation||(ns.interpolation={escapeValue:!0});const{escape:rs,escapeValue:is,useRawValueToEscape:os,prefix:ss,prefixEscaped:as,suffix:ls,suffixEscaped:cs,formatSeparator:us,unescapeSuffix:ds,unescapePrefix:ps,nestingPrefix:hs,nestingPrefixEscaped:ms,nestingSuffix:gs,nestingSuffixEscaped:ys,nestingOptionsSeparator:vs,maxReplaces:bs,alwaysFormat:Ss}=ns.interpolation;this.escape=rs!==void 0?rs:escape,this.escapeValue=is!==void 0?is:!0,this.useRawValueToEscape=os!==void 0?os:!1,this.prefix=ss?regexEscape(ss):as||"{{",this.suffix=ls?regexEscape(ls):cs||"}}",this.formatSeparator=us||",",this.unescapePrefix=ds?"":ps||"-",this.unescapeSuffix=this.unescapePrefix?"":ds||"",this.nestingPrefix=hs?regexEscape(hs):ms||regexEscape("$t("),this.nestingSuffix=gs?regexEscape(gs):ys||regexEscape(")"),this.nestingOptionsSeparator=vs||",",this.maxReplaces=bs||1e3,this.alwaysFormat=Ss!==void 0?Ss:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const ns=(rs,is)=>rs&&rs.source===is?(rs.lastIndex=0,rs):new RegExp(is,"g");this.regexp=ns(this.regexp,"".concat(this.prefix,"(.+?)").concat(this.suffix)),this.regexpUnescape=ns(this.regexpUnescape,"".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix)),this.nestingRegexp=ns(this.nestingRegexp,"".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix))}interpolate(ns,rs,is,os){let ss,as,ls;const cs=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function us(gs){return gs.replace(/\$/g,"$$$$")}const ds=gs=>{if(gs.indexOf(this.formatSeparator)<0){const Ss=deepFindWithDefaults(rs,cs,gs,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(Ss,void 0,is,{...os,...rs,interpolationkey:gs}):Ss}const ys=gs.split(this.formatSeparator),vs=ys.shift().trim(),bs=ys.join(this.formatSeparator).trim();return this.format(deepFindWithDefaults(rs,cs,vs,this.options.keySeparator,this.options.ignoreJSONStructure),bs,is,{...os,...rs,interpolationkey:vs})};this.resetRegExp();const ps=os&&os.missingInterpolationHandler||this.options.missingInterpolationHandler,hs=os&&os.interpolation&&os.interpolation.skipOnVariables!==void 0?os.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:gs=>us(gs)},{regex:this.regexp,safeValue:gs=>this.escapeValue?us(this.escape(gs)):us(gs)}].forEach(gs=>{for(ls=0;ss=gs.regex.exec(ns);){const ys=ss[1].trim();if(as=ds(ys),as===void 0)if(typeof ps=="function"){const bs=ps(ns,ss,os);as=typeof bs=="string"?bs:""}else if(os&&Object.prototype.hasOwnProperty.call(os,ys))as="";else if(hs){as=ss[0];continue}else this.logger.warn("missed to pass in variable ".concat(ys," for interpolating ").concat(ns)),as="";else typeof as!="string"&&!this.useRawValueToEscape&&(as=makeString(as));const vs=gs.safeValue(as);if(ns=ns.replace(ss[0],vs),hs?(gs.regex.lastIndex+=as.length,gs.regex.lastIndex-=ss[0].length):gs.regex.lastIndex=0,ls++,ls>=this.maxReplaces)break}}),ns}nest(ns,rs){let is=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},os,ss,as;function ls(cs,us){const ds=this.nestingOptionsSeparator;if(cs.indexOf(ds)<0)return cs;const ps=cs.split(new RegExp("".concat(ds,"[ ]*{")));let hs="{".concat(ps[1]);cs=ps[0],hs=this.interpolate(hs,as);const ms=hs.match(/'/g),gs=hs.match(/"/g);(ms&&ms.length%2===0&&!gs||gs.length%2!==0)&&(hs=hs.replace(/'/g,'"'));try{as=JSON.parse(hs),us&&(as={...us,...as})}catch(ys){return this.logger.warn("failed parsing options string in nesting for key ".concat(cs),ys),"".concat(cs).concat(ds).concat(hs)}return as.defaultValue&&as.defaultValue.indexOf(this.prefix)>-1&&delete as.defaultValue,cs}for(;os=this.nestingRegexp.exec(ns);){let cs=[];as={...is},as=as.replace&&typeof as.replace!="string"?as.replace:as,as.applyPostProcessor=!1,delete as.defaultValue;let us=!1;if(os[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(os[1])){const ds=os[1].split(this.formatSeparator).map(ps=>ps.trim());os[1]=ds.shift(),cs=ds,us=!0}if(ss=rs(ls.call(this,os[1].trim(),as),as),ss&&os[0]===ns&&typeof ss!="string")return ss;typeof ss!="string"&&(ss=makeString(ss)),ss||(this.logger.warn("missed to resolve ".concat(os[1]," for nesting ").concat(ns)),ss=""),us&&(ss=cs.reduce((ds,ps)=>this.format(ds,ps,is.lng,{...is,interpolationkey:os[1].trim()}),ss.trim())),ns=ns.replace(os[0],ss),this.regexp.lastIndex=0}return ns}}function parseFormatStr(ts){let ns=ts.toLowerCase().trim();const rs={};if(ts.indexOf("(")>-1){const is=ts.split("(");ns=is[0].toLowerCase().trim();const os=is[1].substring(0,is[1].length-1);ns==="currency"&&os.indexOf(":")<0?rs.currency||(rs.currency=os.trim()):ns==="relativetime"&&os.indexOf(":")<0?rs.range||(rs.range=os.trim()):os.split(";").forEach(as=>{if(as){const[ls,...cs]=as.split(":"),us=cs.join(":").trim().replace(/^'+|'+$/g,""),ds=ls.trim();rs[ds]||(rs[ds]=us),us==="false"&&(rs[ds]=!1),us==="true"&&(rs[ds]=!0),isNaN(us)||(rs[ds]=parseInt(us,10))}})}return{formatName:ns,formatOptions:rs}}function createCachedFormatter(ts){const ns={};return function(is,os,ss){const as=os+JSON.stringify(ss);let ls=ns[as];return ls||(ls=ts(getCleanedCode(os),ss),ns[as]=ls),ls(is)}}let Formatter$1=class{constructor(){let ns=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=baseLogger.create("formatter"),this.options=ns,this.formats={number:createCachedFormatter((rs,is)=>{const os=new Intl.NumberFormat(rs,{...is});return ss=>os.format(ss)}),currency:createCachedFormatter((rs,is)=>{const os=new Intl.NumberFormat(rs,{...is,style:"currency"});return ss=>os.format(ss)}),datetime:createCachedFormatter((rs,is)=>{const os=new Intl.DateTimeFormat(rs,{...is});return ss=>os.format(ss)}),relativetime:createCachedFormatter((rs,is)=>{const os=new Intl.RelativeTimeFormat(rs,{...is});return ss=>os.format(ss,is.range||"day")}),list:createCachedFormatter((rs,is)=>{const os=new Intl.ListFormat(rs,{...is});return ss=>os.format(ss)})},this.init(ns)}init(ns){const is=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=is.formatSeparator?is.formatSeparator:is.formatSeparator||","}add(ns,rs){this.formats[ns.toLowerCase().trim()]=rs}addCached(ns,rs){this.formats[ns.toLowerCase().trim()]=createCachedFormatter(rs)}format(ns,rs,is){let os=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return rs.split(this.formatSeparator).reduce((ls,cs)=>{const{formatName:us,formatOptions:ds}=parseFormatStr(cs);if(this.formats[us]){let ps=ls;try{const hs=os&&os.formatParams&&os.formatParams[os.interpolationkey]||{},ms=hs.locale||hs.lng||os.locale||os.lng||is;ps=this.formats[us](ls,ms,{...ds,...os,...hs})}catch(hs){this.logger.warn(hs)}return ps}else this.logger.warn("there was no format function for ".concat(us));return ls},ns)}};function removePending(ts,ns){ts.pending[ns]!==void 0&&(delete ts.pending[ns],ts.pendingCount--)}class Connector extends EventEmitter$1{constructor(ns,rs,is){let os=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=ns,this.store=rs,this.services=is,this.languageUtils=is.languageUtils,this.options=os,this.logger=baseLogger.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=os.maxParallelReads||10,this.readingCalls=0,this.maxRetries=os.maxRetries>=0?os.maxRetries:5,this.retryTimeout=os.retryTimeout>=1?os.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(is,os.backend,os)}queueLoad(ns,rs,is,os){const ss={},as={},ls={},cs={};return ns.forEach(us=>{let ds=!0;rs.forEach(ps=>{const hs="".concat(us,"|").concat(ps);!is.reload&&this.store.hasResourceBundle(us,ps)?this.state[hs]=2:this.state[hs]<0||(this.state[hs]===1?as[hs]===void 0&&(as[hs]=!0):(this.state[hs]=1,ds=!1,as[hs]===void 0&&(as[hs]=!0),ss[hs]===void 0&&(ss[hs]=!0),cs[ps]===void 0&&(cs[ps]=!0)))}),ds||(ls[us]=!0)}),(Object.keys(ss).length||Object.keys(as).length)&&this.queue.push({pending:as,pendingCount:Object.keys(as).length,loaded:{},errors:[],callback:os}),{toLoad:Object.keys(ss),pending:Object.keys(as),toLoadLanguages:Object.keys(ls),toLoadNamespaces:Object.keys(cs)}}loaded(ns,rs,is){const os=ns.split("|"),ss=os[0],as=os[1];rs&&this.emit("failedLoading",ss,as,rs),is&&this.store.addResourceBundle(ss,as,is,void 0,void 0,{skipCopy:!0}),this.state[ns]=rs?-1:2;const ls={};this.queue.forEach(cs=>{pushPath(cs.loaded,[ss],as),removePending(cs,ns),rs&&cs.errors.push(rs),cs.pendingCount===0&&!cs.done&&(Object.keys(cs.loaded).forEach(us=>{ls[us]||(ls[us]={});const ds=cs.loaded[us];ds.length&&ds.forEach(ps=>{ls[us][ps]===void 0&&(ls[us][ps]=!0)})}),cs.done=!0,cs.errors.length?cs.callback(cs.errors):cs.callback())}),this.emit("loaded",ls),this.queue=this.queue.filter(cs=>!cs.done)}read(ns,rs,is){let os=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,ss=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,as=arguments.length>5?arguments[5]:void 0;if(!ns.length)return as(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:ns,ns:rs,fcName:is,tried:os,wait:ss,callback:as});return}this.readingCalls++;const ls=(us,ds)=>{if(this.readingCalls--,this.waitingReads.length>0){const ps=this.waitingReads.shift();this.read(ps.lng,ps.ns,ps.fcName,ps.tried,ps.wait,ps.callback)}if(us&&ds&&os<this.maxRetries){setTimeout(()=>{this.read.call(this,ns,rs,is,os+1,ss*2,as)},ss);return}as(us,ds)},cs=this.backend[is].bind(this.backend);if(cs.length===2){try{const us=cs(ns,rs);us&&typeof us.then=="function"?us.then(ds=>ls(null,ds)).catch(ls):ls(null,us)}catch(us){ls(us)}return}return cs(ns,rs,ls)}prepareLoading(ns,rs){let is=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},os=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),os&&os();typeof ns=="string"&&(ns=this.languageUtils.toResolveHierarchy(ns)),typeof rs=="string"&&(rs=[rs]);const ss=this.queueLoad(ns,rs,is,os);if(!ss.toLoad.length)return ss.pending.length||os(),null;ss.toLoad.forEach(as=>{this.loadOne(as)})}load(ns,rs,is){this.prepareLoading(ns,rs,{},is)}reload(ns,rs,is){this.prepareLoading(ns,rs,{reload:!0},is)}loadOne(ns){let rs=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const is=ns.split("|"),os=is[0],ss=is[1];this.read(os,ss,"read",void 0,void 0,(as,ls)=>{as&&this.logger.warn("".concat(rs,"loading namespace ").concat(ss," for language ").concat(os," failed"),as),!as&&ls&&this.logger.log("".concat(rs,"loaded namespace ").concat(ss," for language ").concat(os),ls),this.loaded(ns,as,ls)})}saveMissing(ns,rs,is,os,ss){let as=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},ls=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(rs)){this.logger.warn('did not save key "'.concat(is,'" as the namespace "').concat(rs,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(is==null||is==="")){if(this.backend&&this.backend.create){const cs={...as,isUpdate:ss},us=this.backend.create.bind(this.backend);if(us.length<6)try{let ds;us.length===5?ds=us(ns,rs,is,os,cs):ds=us(ns,rs,is,os),ds&&typeof ds.then=="function"?ds.then(ps=>ls(null,ps)).catch(ls):ls(null,ds)}catch(ds){ls(ds)}else us(ns,rs,is,os,ls,cs)}!ns||!ns[0]||this.store.addResource(ns[0],rs,is,os)}}}function get$6(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(ns){let rs={};if(typeof ns[1]=="object"&&(rs=ns[1]),typeof ns[1]=="string"&&(rs.defaultValue=ns[1]),typeof ns[2]=="string"&&(rs.tDescription=ns[2]),typeof ns[2]=="object"||typeof ns[3]=="object"){const is=ns[3]||ns[2];Object.keys(is).forEach(os=>{rs[os]=is[os]})}return rs},interpolation:{escapeValue:!0,format:ts=>ts,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function transformOptions(ts){return typeof ts.ns=="string"&&(ts.ns=[ts.ns]),typeof ts.fallbackLng=="string"&&(ts.fallbackLng=[ts.fallbackLng]),typeof ts.fallbackNS=="string"&&(ts.fallbackNS=[ts.fallbackNS]),ts.supportedLngs&&ts.supportedLngs.indexOf("cimode")<0&&(ts.supportedLngs=ts.supportedLngs.concat(["cimode"])),ts}function noop$2(){}function bindMemberFunctions(ts){Object.getOwnPropertyNames(Object.getPrototypeOf(ts)).forEach(rs=>{typeof ts[rs]=="function"&&(ts[rs]=ts[rs].bind(ts))})}class I18n extends EventEmitter$1{constructor(){let ns=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},rs=arguments.length>1?arguments[1]:void 0;if(super(),this.options=transformOptions(ns),this.services={},this.logger=baseLogger,this.modules={external:[]},bindMemberFunctions(this),rs&&!this.isInitialized&&!ns.isClone){if(!this.options.initImmediate)return this.init(ns,rs),this;setTimeout(()=>{this.init(ns,rs)},0)}}init(){var ns=this;let rs=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},is=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof rs=="function"&&(is=rs,rs={}),!rs.defaultNS&&rs.defaultNS!==!1&&rs.ns&&(typeof rs.ns=="string"?rs.defaultNS=rs.ns:rs.ns.indexOf("translation")<0&&(rs.defaultNS=rs.ns[0]));const os=get$6();this.options={...os,...this.options,...transformOptions(rs)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...os.interpolation,...this.options.interpolation}),rs.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=rs.keySeparator),rs.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=rs.nsSeparator);function ss(ds){return ds?typeof ds=="function"?new ds:ds:null}if(!this.options.isClone){this.modules.logger?baseLogger.init(ss(this.modules.logger),this.options):baseLogger.init(null,this.options);let ds;this.modules.formatter?ds=this.modules.formatter:typeof Intl<"u"&&(ds=Formatter$1);const ps=new LanguageUtil(this.options);this.store=new ResourceStore(this.options.resources,this.options);const hs=this.services;hs.logger=baseLogger,hs.resourceStore=this.store,hs.languageUtils=ps,hs.pluralResolver=new PluralResolver(ps,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),ds&&(!this.options.interpolation.format||this.options.interpolation.format===os.interpolation.format)&&(hs.formatter=ss(ds),hs.formatter.init(hs,this.options),this.options.interpolation.format=hs.formatter.format.bind(hs.formatter)),hs.interpolator=new Interpolator(this.options),hs.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},hs.backendConnector=new Connector(ss(this.modules.backend),hs.resourceStore,hs,this.options),hs.backendConnector.on("*",function(ms){for(var gs=arguments.length,ys=new Array(gs>1?gs-1:0),vs=1;vs<gs;vs++)ys[vs-1]=arguments[vs];ns.emit(ms,...ys)}),this.modules.languageDetector&&(hs.languageDetector=ss(this.modules.languageDetector),hs.languageDetector.init&&hs.languageDetector.init(hs,this.options.detection,this.options)),this.modules.i18nFormat&&(hs.i18nFormat=ss(this.modules.i18nFormat),hs.i18nFormat.init&&hs.i18nFormat.init(this)),this.translator=new Translator(this.services,this.options),this.translator.on("*",function(ms){for(var gs=arguments.length,ys=new Array(gs>1?gs-1:0),vs=1;vs<gs;vs++)ys[vs-1]=arguments[vs];ns.emit(ms,...ys)}),this.modules.external.forEach(ms=>{ms.init&&ms.init(this)})}if(this.format=this.options.interpolation.format,is||(is=noop$2),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const ds=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);ds.length>0&&ds[0]!=="dev"&&(this.options.lng=ds[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(ds=>{this[ds]=function(){return ns.store[ds](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(ds=>{this[ds]=function(){return ns.store[ds](...arguments),ns}});const cs=defer(),us=()=>{const ds=(ps,hs)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),cs.resolve(hs),is(ps,hs)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return ds(null,this.t.bind(this));this.changeLanguage(this.options.lng,ds)};return this.options.resources||!this.options.initImmediate?us():setTimeout(us,0),cs}loadResources(ns){let is=arguments.length>1&&arguments[1]!==void 0?arguments[1]:noop$2;const os=typeof ns=="string"?ns:this.language;if(typeof ns=="function"&&(is=ns),!this.options.resources||this.options.partialBundledLanguages){if(os&&os.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return is();const ss=[],as=ls=>{if(!ls||ls==="cimode")return;this.services.languageUtils.toResolveHierarchy(ls).forEach(us=>{us!=="cimode"&&ss.indexOf(us)<0&&ss.push(us)})};os?as(os):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(cs=>as(cs)),this.options.preload&&this.options.preload.forEach(ls=>as(ls)),this.services.backendConnector.load(ss,this.options.ns,ls=>{!ls&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),is(ls)})}else is(null)}reloadResources(ns,rs,is){const os=defer();return ns||(ns=this.languages),rs||(rs=this.options.ns),is||(is=noop$2),this.services.backendConnector.reload(ns,rs,ss=>{os.resolve(),is(ss)}),os}use(ns){if(!ns)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!ns.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return ns.type==="backend"&&(this.modules.backend=ns),(ns.type==="logger"||ns.log&&ns.warn&&ns.error)&&(this.modules.logger=ns),ns.type==="languageDetector"&&(this.modules.languageDetector=ns),ns.type==="i18nFormat"&&(this.modules.i18nFormat=ns),ns.type==="postProcessor"&&postProcessor.addPostProcessor(ns),ns.type==="formatter"&&(this.modules.formatter=ns),ns.type==="3rdParty"&&this.modules.external.push(ns),this}setResolvedLanguage(ns){if(!(!ns||!this.languages)&&!(["cimode","dev"].indexOf(ns)>-1))for(let rs=0;rs<this.languages.length;rs++){const is=this.languages[rs];if(!(["cimode","dev"].indexOf(is)>-1)&&this.store.hasLanguageSomeTranslations(is)){this.resolvedLanguage=is;break}}}changeLanguage(ns,rs){var is=this;this.isLanguageChangingTo=ns;const os=defer();this.emit("languageChanging",ns);const ss=cs=>{this.language=cs,this.languages=this.services.languageUtils.toResolveHierarchy(cs),this.resolvedLanguage=void 0,this.setResolvedLanguage(cs)},as=(cs,us)=>{us?(ss(us),this.translator.changeLanguage(us),this.isLanguageChangingTo=void 0,this.emit("languageChanged",us),this.logger.log("languageChanged",us)):this.isLanguageChangingTo=void 0,os.resolve(function(){return is.t(...arguments)}),rs&&rs(cs,function(){return is.t(...arguments)})},ls=cs=>{!ns&&!cs&&this.services.languageDetector&&(cs=[]);const us=typeof cs=="string"?cs:this.services.languageUtils.getBestMatchFromCodes(cs);us&&(this.language||ss(us),this.translator.language||this.translator.changeLanguage(us),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(us)),this.loadResources(us,ds=>{as(ds,us)})};return!ns&&this.services.languageDetector&&!this.services.languageDetector.async?ls(this.services.languageDetector.detect()):!ns&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(ls):this.services.languageDetector.detect(ls):ls(ns),os}getFixedT(ns,rs,is){var os=this;const ss=function(as,ls){let cs;if(typeof ls!="object"){for(var us=arguments.length,ds=new Array(us>2?us-2:0),ps=2;ps<us;ps++)ds[ps-2]=arguments[ps];cs=os.options.overloadTranslationOptionHandler([as,ls].concat(ds))}else cs={...ls};cs.lng=cs.lng||ss.lng,cs.lngs=cs.lngs||ss.lngs,cs.ns=cs.ns||ss.ns,cs.keyPrefix!==""&&(cs.keyPrefix=cs.keyPrefix||is||ss.keyPrefix);const hs=os.options.keySeparator||".";let ms;return cs.keyPrefix&&Array.isArray(as)?ms=as.map(gs=>"".concat(cs.keyPrefix).concat(hs).concat(gs)):ms=cs.keyPrefix?"".concat(cs.keyPrefix).concat(hs).concat(as):as,os.t(ms,cs)};return typeof ns=="string"?ss.lng=ns:ss.lngs=ns,ss.ns=rs,ss.keyPrefix=is,ss}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(ns){this.options.defaultNS=ns}hasLoadedNamespace(ns){let rs=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const is=rs.lng||this.resolvedLanguage||this.languages[0],os=this.options?this.options.fallbackLng:!1,ss=this.languages[this.languages.length-1];if(is.toLowerCase()==="cimode")return!0;const as=(ls,cs)=>{const us=this.services.backendConnector.state["".concat(ls,"|").concat(cs)];return us===-1||us===2};if(rs.precheck){const ls=rs.precheck(this,as);if(ls!==void 0)return ls}return!!(this.hasResourceBundle(is,ns)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||as(is,ns)&&(!os||as(ss,ns)))}loadNamespaces(ns,rs){const is=defer();return this.options.ns?(typeof ns=="string"&&(ns=[ns]),ns.forEach(os=>{this.options.ns.indexOf(os)<0&&this.options.ns.push(os)}),this.loadResources(os=>{is.resolve(),rs&&rs(os)}),is):(rs&&rs(),Promise.resolve())}loadLanguages(ns,rs){const is=defer();typeof ns=="string"&&(ns=[ns]);const os=this.options.preload||[],ss=ns.filter(as=>os.indexOf(as)<0&&this.services.languageUtils.isSupportedCode(as));return ss.length?(this.options.preload=os.concat(ss),this.loadResources(as=>{is.resolve(),rs&&rs(as)}),is):(rs&&rs(),Promise.resolve())}dir(ns){if(ns||(ns=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!ns)return"rtl";const rs=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],is=this.services&&this.services.languageUtils||new LanguageUtil(get$6());return rs.indexOf(is.getLanguagePartFromCode(ns))>-1||ns.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let ns=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},rs=arguments.length>1?arguments[1]:void 0;return new I18n(ns,rs)}cloneInstance(){let ns=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},rs=arguments.length>1&&arguments[1]!==void 0?arguments[1]:noop$2;const is=ns.forkResourceStore;is&&delete ns.forkResourceStore;const os={...this.options,...ns,isClone:!0},ss=new I18n(os);return(ns.debug!==void 0||ns.prefix!==void 0)&&(ss.logger=ss.logger.clone(ns)),["store","services","language"].forEach(ls=>{ss[ls]=this[ls]}),ss.services={...this.services},ss.services.utils={hasLoadedNamespace:ss.hasLoadedNamespace.bind(ss)},is&&(ss.store=new ResourceStore(this.store.data,os),ss.services.resourceStore=ss.store),ss.translator=new Translator(ss.services,os),ss.translator.on("*",function(ls){for(var cs=arguments.length,us=new Array(cs>1?cs-1:0),ds=1;ds<cs;ds++)us[ds-1]=arguments[ds];ss.emit(ls,...us)}),ss.init(os,rs),ss.translator.options=os,ss.translator.backendConnector.services.utils={hasLoadedNamespace:ss.hasLoadedNamespace.bind(ss)},ss}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const instance=I18n.createInstance();instance.createInstance=I18n.createInstance;instance.createInstance;instance.dir;instance.init;instance.loadResources;instance.reloadResources;instance.use;instance.changeLanguage;instance.getFixedT;instance.t;instance.exists;instance.setDefaultNamespace;instance.hasLoadedNamespace;instance.loadNamespaces;instance.loadLanguages;const IntakeThemeContext=reactExports.createContext({otherColors:{},i18n:instance}),useIntakeThemeContext=()=>reactExports.useContext(IntakeThemeContext),customRadioButtonUncheckedIcon="/assets/custom-radio-button-unchecked-icon-3fc2a876.svg",customRadioButtonCheckedIcon="/assets/custom-radio-button-checked-icon-72cc4c7b.svg",deleteIcon="/assets/delete-5357e892.svg",portal="/assets/portal-button-72ee28c8.svg",CustomContainerFactory=(ts,ns,rs,is,os)=>as=>{const ls=ts(as.bgVariant),cs={...as,backgroundImage:ls,logo:ns,alt:rs,footer:is,logoutHandler:os};return jsxRuntimeExports.jsx(CustomContainer$1,{...cs})},CustomContainer$1=({title:ts,subtitle:ns,subtext:rs,isFirstPage:is,img:os,imgAlt:ss,imgWidth:as,description:ls,outsideCardComponent:cs,useEmptyBody:us,children:ds,logo:ps,alt:hs,footer:ms,logoutHandler:gs})=>{const ys=useTheme$1(),vs=useNavigate(),{isAuthenticated:bs,logout:Ss}=useAuth0(),{otherColors:$s}=reactExports.useContext(IntakeThemeContext),Cs=reactExports.useCallback(()=>{gs!==void 0?gs():Ss({returnTo:window.location.origin})},[Ss,gs]),Es={title:os?8:12,image:4};return jsxRuntimeExports.jsxs(Container$1,{maxWidth:!1,disableGutters:!0,sx:{backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundColor:ys.palette.background.default,backgroundAttachment:"fixed",backgroundPosition:"center",minHeight:"100vh",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[jsxRuntimeExports.jsx(AppBar$1,{position:"static",sx:{backgroundColor:$s.appbarBackground},children:jsxRuntimeExports.jsxs(Grid$1,{container:!0,justifyContent:"space-between",children:[jsxRuntimeExports.jsx(Grid$1,{item:!0}),jsxRuntimeExports.jsx(Grid$1,{item:!0,sx:{marginLeft:bs?{xs:"auto",md:"100px"}:"auto",marginRight:bs?"0px":"auto"},children:jsxRuntimeExports.jsx(Box$1,{component:"img",sx:{margin:1,width:200,alignSelf:"center",minHeight:"39px"},alt:hs,src:ps})}),jsxRuntimeExports.jsxs(Grid$1,{item:!0,sx:{display:"flex",alignItems:"center",mx:{xs:"auto",md:2}},children:[jsxRuntimeExports.jsx(Box$1,{sx:{display:"flex",alignItems:"center",cursor:"pointer",mr:1,backgroundColor:"rgba(226, 240, 255, 0.2)",padding:"12px",border:"none",borderRadius:"50%","&:hover":{backgroundColor:"rgba(226, 240, 255, 0.5)"}},onClick:()=>{vs("/patient-portal")},children:jsxRuntimeExports.jsx("img",{src:portal,alt:"portal"})}),bs&&jsxRuntimeExports.jsx(Button$2,{variant:"text",color:"secondary",onClick:Cs,sx:{"&:hover":{backgroundColor:"transparent"}},children:"Logout"})]})]})}),jsxRuntimeExports.jsx(Box$1,{display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center",sx:{marginTop:5,flex:1},children:us?ds:jsxRuntimeExports.jsx(Container$1,{maxWidth:"md",sx:{mb:5},children:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Card$1,{variant:"outlined",sx:{boxShadow:1,mt:0,pt:0,borderRadius:2,[ys.breakpoints.down("md")]:{mx:2}},children:jsxRuntimeExports.jsxs(Box$1,{sx:{m:0,p:{xs:3,md:5}},children:[jsxRuntimeExports.jsxs(Grid$1,{container:!0,spacing:{xs:0,md:2},justifyContent:"center",sx:{justifyContent:"space-between"},children:[jsxRuntimeExports.jsxs(Grid$1,{item:!0,xs:12,md:Es.title,children:[jsxRuntimeExports.jsx(Typography$1,{sx:{width:is?"350px":"100%"},variant:is?"h1":"h2",color:"primary.main",children:ts}),ns&&jsxRuntimeExports.jsx(Typography$1,{variant:"h2",color:"primary.main",mt:1,children:ns}),rs&&jsxRuntimeExports.jsx(Typography$1,{variant:"body1",marginTop:2,children:rs})]}),os&&jsxRuntimeExports.jsx(Grid$1,{item:!0,display:"flex",alignItems:"center",justifyContent:{xs:"flex-start",md:"flex-end"},xs:12,md:Es.image,sx:{[ys.breakpoints.down("md")]:{order:-1}},children:jsxRuntimeExports.jsx("img",{alt:ss,src:os,width:as})})]}),ls&&Array.isArray(ls)?ls.map((xs,ws)=>jsxRuntimeExports.jsx(Typography$1,{variant:"body1",color:"text.primary",mt:1,mb:2,children:xs},ws)):jsxRuntimeExports.jsx(Typography$1,{variant:"body1",color:"text.primary",mt:1,mb:2,children:ls}),ds]})}),cs]})})}),ms]})},Close$1=createSvgIcon$1(jsxRuntimeExports.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),EditOutlined=createSvgIcon$1(jsxRuntimeExports.jsx("path",{d:"m14.06 9.02.92.92L5.92 19H5v-.92zM17.66 3c-.25 0-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29m-3.6 3.19L3 17.25V21h3.75L17.81 9.94z"}),"EditOutlined"),EventBusyOutlined=createSvgIcon$1(jsxRuntimeExports.jsx("path",{d:"M19 3h-1V1h-2v2H8V1H6v2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 16H5V9h14zM5 7V5h14v2zm3.23 9.41 1.06 1.06 2.44-2.44 2.44 2.44 1.06-1.06-2.44-2.44 2.44-2.44-1.06-1.06-2.44 2.44-2.44-2.44-1.06 1.06 2.44 2.44z"}),"EventBusyOutlined"),ExpandMore=createSvgIcon$1(jsxRuntimeExports.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore"),ErrorDialog=({open:ts,handleClose:ns,title:rs,description:is,actionButtonText:os="Continue",closeButtonText:ss,afterOpen:as,handleContinue:ls})=>{const cs=useTheme$1(),us=useMediaQuery("(max-width: 480px)");return ts&&(as==null||as()),jsxRuntimeExports.jsxs(Dialog$1,{open:ts,onClose:ns,disableScrollLock:!0,sx:{".MuiPaper-root":{padding:2}},children:[jsxRuntimeExports.jsxs(DialogTitle$1,{variant:"h2",color:"secondary.main",sx:{width:"80%"},children:[rs,jsxRuntimeExports.jsx(IconButton$2,{"aria-label":"Close",onClick:ns,sx:{position:"absolute",right:8,top:8},children:jsxRuntimeExports.jsx(Close$1,{})})]}),jsxRuntimeExports.jsx(DialogContent$1,{children:jsxRuntimeExports.jsx(DialogContentText$1,{sx:{color:cs.palette.text.primary},children:is})}),jsxRuntimeExports.jsxs(DialogActions$1,{sx:{justifyContent:"".concat(ls?"space-between":"end"),display:us?"contents":"flex",marginLeft:us?0:"initial"},children:[jsxRuntimeExports.jsx(Button$2,{variant:ls?"outlined":"contained",onClick:ns,size:us?"small":"large",sx:{fontWeight:"700"},children:ss}),ls&&jsxRuntimeExports.jsx(Button$2,{variant:"contained",onClick:ls,size:us?"small":"large",sx:{fontWeight:"700",marginTop:us?1:0,marginLeft:us?"0 !important":1},children:os})]})]})};var isCheckBoxInput=ts=>ts.type==="checkbox",isDateObject=ts=>ts instanceof Date,isNullOrUndefined$1=ts=>ts==null;const isObjectType=ts=>typeof ts=="object";var isObject$7=ts=>!isNullOrUndefined$1(ts)&&!Array.isArray(ts)&&isObjectType(ts)&&!isDateObject(ts),getEventValue=ts=>isObject$7(ts)&&ts.target?isCheckBoxInput(ts.target)?ts.target.checked:ts.target.value:ts,getNodeParentName=ts=>ts.substring(0,ts.search(/\.\d+(\.|$)/))||ts,isNameInFieldArray=(ts,ns)=>ts.has(getNodeParentName(ns)),isPlainObject$4=ts=>{const ns=ts.constructor&&ts.constructor.prototype;return isObject$7(ns)&&ns.hasOwnProperty("isPrototypeOf")},isWeb=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function cloneObject(ts){let ns;const rs=Array.isArray(ts);if(ts instanceof Date)ns=new Date(ts);else if(ts instanceof Set)ns=new Set(ts);else if(!(isWeb&&(ts instanceof Blob||ts instanceof FileList))&&(rs||isObject$7(ts)))if(ns=rs?[]:{},!rs&&!isPlainObject$4(ts))ns=ts;else for(const is in ts)ts.hasOwnProperty(is)&&(ns[is]=cloneObject(ts[is]));else return ts;return ns}var compact=ts=>Array.isArray(ts)?ts.filter(Boolean):[],isUndefined$2=ts=>ts===void 0,get$5=(ts,ns,rs)=>{if(!ns||!isObject$7(ts))return rs;const is=compact(ns.split(/[,[\].]+?/)).reduce((os,ss)=>isNullOrUndefined$1(os)?os:os[ss],ts);return isUndefined$2(is)||is===ts?isUndefined$2(ts[ns])?rs:ts[ns]:is},isBoolean=ts=>typeof ts=="boolean",isKey$4=ts=>/^\w*$/.test(ts),stringToPath$2=ts=>compact(ts.replace(/["|']|\]/g,"").split(/\.|\[/)),set$1=(ts,ns,rs)=>{let is=-1;const os=isKey$4(ns)?[ns]:stringToPath$2(ns),ss=os.length,as=ss-1;for(;++is<ss;){const ls=os[is];let cs=rs;if(is!==as){const us=ts[ls];cs=isObject$7(us)||Array.isArray(us)?us:isNaN(+os[is+1])?{}:[]}if(ls==="__proto__")return;ts[ls]=cs,ts=ts[ls]}return ts};const EVENTS={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},VALIDATION_MODE={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},INPUT_VALIDATION_RULES={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},HookFormContext=React$1.createContext(null),useFormContext=()=>React$1.useContext(HookFormContext),FormProvider=ts=>{const{children:ns,...rs}=ts;return React$1.createElement(HookFormContext.Provider,{value:rs},ns)};var getProxyFormState=(ts,ns,rs,is=!0)=>{const os={defaultValues:ns._defaultValues};for(const ss in ts)Object.defineProperty(os,ss,{get:()=>{const as=ss;return ns._proxyFormState[as]!==VALIDATION_MODE.all&&(ns._proxyFormState[as]=!is||VALIDATION_MODE.all),rs&&(rs[as]=!0),ts[as]}});return os},isEmptyObject=ts=>isObject$7(ts)&&!Object.keys(ts).length,shouldRenderFormState=(ts,ns,rs,is)=>{rs(ts);const{name:os,...ss}=ts;return isEmptyObject(ss)||Object.keys(ss).length>=Object.keys(ns).length||Object.keys(ss).find(as=>ns[as]===(!is||VALIDATION_MODE.all))},convertToArrayPayload=ts=>Array.isArray(ts)?ts:[ts],shouldSubscribeByName=(ts,ns,rs)=>!ts||!ns||ts===ns||convertToArrayPayload(ts).some(is=>is&&(rs?is===ns:is.startsWith(ns)||ns.startsWith(is)));function useSubscribe(ts){const ns=React$1.useRef(ts);ns.current=ts,React$1.useEffect(()=>{const rs=!ts.disabled&&ns.current.subject&&ns.current.subject.subscribe({next:ns.current.next});return()=>{rs&&rs.unsubscribe()}},[ts.disabled])}function useFormState(ts){const ns=useFormContext(),{control:rs=ns.control,disabled:is,name:os,exact:ss}=ts||{},[as,ls]=React$1.useState(rs._formState),cs=React$1.useRef(!0),us=React$1.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),ds=React$1.useRef(os);return ds.current=os,useSubscribe({disabled:is,next:ps=>cs.current&&shouldSubscribeByName(ds.current,ps.name,ss)&&shouldRenderFormState(ps,us.current,rs._updateFormState)&&ls({...rs._formState,...ps}),subject:rs._subjects.state}),React$1.useEffect(()=>(cs.current=!0,us.current.isValid&&rs._updateValid(!0),()=>{cs.current=!1}),[rs]),getProxyFormState(as,rs,us.current,!1)}var isString$5=ts=>typeof ts=="string",generateWatchOutput=(ts,ns,rs,is,os)=>isString$5(ts)?(is&&ns.watch.add(ts),get$5(rs,ts,os)):Array.isArray(ts)?ts.map(ss=>(is&&ns.watch.add(ss),get$5(rs,ss))):(is&&(ns.watchAll=!0),rs);function useWatch(ts){const ns=useFormContext(),{control:rs=ns.control,name:is,defaultValue:os,disabled:ss,exact:as}=ts||{},ls=React$1.useRef(is);ls.current=is,useSubscribe({disabled:ss,subject:rs._subjects.values,next:ds=>{shouldSubscribeByName(ls.current,ds.name,as)&&us(cloneObject(generateWatchOutput(ls.current,rs._names,ds.values||rs._formValues,!1,os)))}});const[cs,us]=React$1.useState(rs._getWatch(is,os));return React$1.useEffect(()=>rs._removeUnmounted()),cs}function useController(ts){const ns=useFormContext(),{name:rs,disabled:is,control:os=ns.control,shouldUnregister:ss}=ts,as=isNameInFieldArray(os._names.array,rs),ls=useWatch({control:os,name:rs,defaultValue:get$5(os._formValues,rs,get$5(os._defaultValues,rs,ts.defaultValue)),exact:!0}),cs=useFormState({control:os,name:rs}),us=React$1.useRef(os.register(rs,{...ts.rules,value:ls,...isBoolean(ts.disabled)?{disabled:ts.disabled}:{}}));return React$1.useEffect(()=>{const ds=os._options.shouldUnregister||ss,ps=(hs,ms)=>{const gs=get$5(os._fields,hs);gs&&gs._f&&(gs._f.mount=ms)};if(ps(rs,!0),ds){const hs=cloneObject(get$5(os._options.defaultValues,rs));set$1(os._defaultValues,rs,hs),isUndefined$2(get$5(os._formValues,rs))&&set$1(os._formValues,rs,hs)}return()=>{(as?ds&&!os._state.action:ds)?os.unregister(rs):ps(rs,!1)}},[rs,os,as,ss]),React$1.useEffect(()=>{get$5(os._fields,rs)&&os._updateDisabledField({disabled:is,fields:os._fields,name:rs,value:get$5(os._fields,rs)._f.value})},[is,rs,os]),{field:{name:rs,value:ls,...isBoolean(is)||cs.disabled?{disabled:cs.disabled||is}:{},onChange:React$1.useCallback(ds=>us.current.onChange({target:{value:getEventValue(ds),name:rs},type:EVENTS.CHANGE}),[rs]),onBlur:React$1.useCallback(()=>us.current.onBlur({target:{value:get$5(os._formValues,rs),name:rs},type:EVENTS.BLUR}),[rs,os]),ref:ds=>{const ps=get$5(os._fields,rs);ps&&ds&&(ps._f.ref={focus:()=>ds.focus(),select:()=>ds.select(),setCustomValidity:hs=>ds.setCustomValidity(hs),reportValidity:()=>ds.reportValidity()})}},formState:cs,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!get$5(cs.errors,rs)},isDirty:{enumerable:!0,get:()=>!!get$5(cs.dirtyFields,rs)},isTouched:{enumerable:!0,get:()=>!!get$5(cs.touchedFields,rs)},isValidating:{enumerable:!0,get:()=>!!get$5(cs.validatingFields,rs)},error:{enumerable:!0,get:()=>get$5(cs.errors,rs)}})}}const Controller=ts=>ts.render(useController(ts));var appendErrors=(ts,ns,rs,is,os)=>ns?{...rs[ts],types:{...rs[ts]&&rs[ts].types?rs[ts].types:{},[is]:os||!0}}:{},getValidationModes=ts=>({isOnSubmit:!ts||ts===VALIDATION_MODE.onSubmit,isOnBlur:ts===VALIDATION_MODE.onBlur,isOnChange:ts===VALIDATION_MODE.onChange,isOnAll:ts===VALIDATION_MODE.all,isOnTouch:ts===VALIDATION_MODE.onTouched}),isWatched=(ts,ns,rs)=>!rs&&(ns.watchAll||ns.watch.has(ts)||[...ns.watch].some(is=>ts.startsWith(is)&&/^\.\w+/.test(ts.slice(is.length))));const iterateFieldsByAction=(ts,ns,rs,is)=>{for(const os of rs||Object.keys(ts)){const ss=get$5(ts,os);if(ss){const{_f:as,...ls}=ss;if(as){if(as.refs&&as.refs[0]&&ns(as.refs[0],os)&&!is)break;if(as.ref&&ns(as.ref,as.name)&&!is)break;iterateFieldsByAction(ls,ns)}else isObject$7(ls)&&iterateFieldsByAction(ls,ns)}}};var updateFieldArrayRootError=(ts,ns,rs)=>{const is=convertToArrayPayload(get$5(ts,rs));return set$1(is,"root",ns[rs]),set$1(ts,rs,is),ts},isFileInput=ts=>ts.type==="file",isFunction$4=ts=>typeof ts=="function",isHTMLElement$1=ts=>{if(!isWeb)return!1;const ns=ts?ts.ownerDocument:0;return ts instanceof(ns&&ns.defaultView?ns.defaultView.HTMLElement:HTMLElement)},isMessage=ts=>isString$5(ts),isRadioInput=ts=>ts.type==="radio",isRegex=ts=>ts instanceof RegExp;const defaultResult={value:!1,isValid:!1},validResult={value:!0,isValid:!0};var getCheckboxValue=ts=>{if(Array.isArray(ts)){if(ts.length>1){const ns=ts.filter(rs=>rs&&rs.checked&&!rs.disabled).map(rs=>rs.value);return{value:ns,isValid:!!ns.length}}return ts[0].checked&&!ts[0].disabled?ts[0].attributes&&!isUndefined$2(ts[0].attributes.value)?isUndefined$2(ts[0].value)||ts[0].value===""?validResult:{value:ts[0].value,isValid:!0}:validResult:defaultResult}return defaultResult};const defaultReturn={isValid:!1,value:null};var getRadioValue=ts=>Array.isArray(ts)?ts.reduce((ns,rs)=>rs&&rs.checked&&!rs.disabled?{isValid:!0,value:rs.value}:ns,defaultReturn):defaultReturn;function getValidateError(ts,ns,rs="validate"){if(isMessage(ts)||Array.isArray(ts)&&ts.every(isMessage)||isBoolean(ts)&&!ts)return{type:rs,message:isMessage(ts)?ts:"",ref:ns}}var getValueAndMessage=ts=>isObject$7(ts)&&!isRegex(ts)?ts:{value:ts,message:""},validateField=async(ts,ns,rs,is,os)=>{const{ref:ss,refs:as,required:ls,maxLength:cs,minLength:us,min:ds,max:ps,pattern:hs,validate:ms,name:gs,valueAsNumber:ys,mount:vs,disabled:bs}=ts._f,Ss=get$5(ns,gs);if(!vs||bs)return{};const $s=as?as[0]:ss,Cs=As=>{is&&$s.reportValidity&&($s.setCustomValidity(isBoolean(As)?"":As||""),$s.reportValidity())},Es={},xs=isRadioInput(ss),ws=isCheckBoxInput(ss),ks=xs||ws,Is=(ys||isFileInput(ss))&&isUndefined$2(ss.value)&&isUndefined$2(Ss)||isHTMLElement$1(ss)&&ss.value===""||Ss===""||Array.isArray(Ss)&&!Ss.length,Ts=appendErrors.bind(null,gs,rs,Es),Rs=(As,Ms,Ls,Ds=INPUT_VALIDATION_RULES.maxLength,Fs=INPUT_VALIDATION_RULES.minLength)=>{const Vs=As?Ms:Ls;Es[gs]={type:As?Ds:Fs,message:Vs,ref:ss,...Ts(As?Ds:Fs,Vs)}};if(os?!Array.isArray(Ss)||!Ss.length:ls&&(!ks&&(Is||isNullOrUndefined$1(Ss))||isBoolean(Ss)&&!Ss||ws&&!getCheckboxValue(as).isValid||xs&&!getRadioValue(as).isValid)){const{value:As,message:Ms}=isMessage(ls)?{value:!!ls,message:ls}:getValueAndMessage(ls);if(As&&(Es[gs]={type:INPUT_VALIDATION_RULES.required,message:Ms,ref:$s,...Ts(INPUT_VALIDATION_RULES.required,Ms)},!rs))return Cs(Ms),Es}if(!Is&&(!isNullOrUndefined$1(ds)||!isNullOrUndefined$1(ps))){let As,Ms;const Ls=getValueAndMessage(ps),Ds=getValueAndMessage(ds);if(!isNullOrUndefined$1(Ss)&&!isNaN(Ss)){const Fs=ss.valueAsNumber||Ss&&+Ss;isNullOrUndefined$1(Ls.value)||(As=Fs>Ls.value),isNullOrUndefined$1(Ds.value)||(Ms=Fs<Ds.value)}else{const Fs=ss.valueAsDate||new Date(Ss),Vs=Os=>new Date(new Date().toDateString()+" "+Os),Bs=ss.type=="time",Ws=ss.type=="week";isString$5(Ls.value)&&Ss&&(As=Bs?Vs(Ss)>Vs(Ls.value):Ws?Ss>Ls.value:Fs>new Date(Ls.value)),isString$5(Ds.value)&&Ss&&(Ms=Bs?Vs(Ss)<Vs(Ds.value):Ws?Ss<Ds.value:Fs<new Date(Ds.value))}if((As||Ms)&&(Rs(!!As,Ls.message,Ds.message,INPUT_VALIDATION_RULES.max,INPUT_VALIDATION_RULES.min),!rs))return Cs(Es[gs].message),Es}if((cs||us)&&!Is&&(isString$5(Ss)||os&&Array.isArray(Ss))){const As=getValueAndMessage(cs),Ms=getValueAndMessage(us),Ls=!isNullOrUndefined$1(As.value)&&Ss.length>+As.value,Ds=!isNullOrUndefined$1(Ms.value)&&Ss.length<+Ms.value;if((Ls||Ds)&&(Rs(Ls,As.message,Ms.message),!rs))return Cs(Es[gs].message),Es}if(hs&&!Is&&isString$5(Ss)){const{value:As,message:Ms}=getValueAndMessage(hs);if(isRegex(As)&&!Ss.match(As)&&(Es[gs]={type:INPUT_VALIDATION_RULES.pattern,message:Ms,ref:ss,...Ts(INPUT_VALIDATION_RULES.pattern,Ms)},!rs))return Cs(Ms),Es}if(ms){if(isFunction$4(ms)){const As=await ms(Ss,ns),Ms=getValidateError(As,$s);if(Ms&&(Es[gs]={...Ms,...Ts(INPUT_VALIDATION_RULES.validate,Ms.message)},!rs))return Cs(Ms.message),Es}else if(isObject$7(ms)){let As={};for(const Ms in ms){if(!isEmptyObject(As)&&!rs)break;const Ls=getValidateError(await ms[Ms](Ss,ns),$s,Ms);Ls&&(As={...Ls,...Ts(Ms,Ls.message)},Cs(Ls.message),rs&&(Es[gs]=As))}if(!isEmptyObject(As)&&(Es[gs]={ref:$s,...As},!rs))return Es}}return Cs(!0),Es};function baseGet$3(ts,ns){const rs=ns.slice(0,-1).length;let is=0;for(;is<rs;)ts=isUndefined$2(ts)?is++:ts[ns[is++]];return ts}function isEmptyArray(ts){for(const ns in ts)if(ts.hasOwnProperty(ns)&&!isUndefined$2(ts[ns]))return!1;return!0}function unset(ts,ns){const rs=Array.isArray(ns)?ns:isKey$4(ns)?[ns]:stringToPath$2(ns),is=rs.length===1?ts:baseGet$3(ts,rs),os=rs.length-1,ss=rs[os];return is&&delete is[ss],os!==0&&(isObject$7(is)&&isEmptyObject(is)||Array.isArray(is)&&isEmptyArray(is))&&unset(ts,rs.slice(0,-1)),ts}var createSubject=()=>{let ts=[];return{get observers(){return ts},next:os=>{for(const ss of ts)ss.next&&ss.next(os)},subscribe:os=>(ts.push(os),{unsubscribe:()=>{ts=ts.filter(ss=>ss!==os)}}),unsubscribe:()=>{ts=[]}}},isPrimitive$2=ts=>isNullOrUndefined$1(ts)||!isObjectType(ts);function deepEqual(ts,ns){if(isPrimitive$2(ts)||isPrimitive$2(ns))return ts===ns;if(isDateObject(ts)&&isDateObject(ns))return ts.getTime()===ns.getTime();const rs=Object.keys(ts),is=Object.keys(ns);if(rs.length!==is.length)return!1;for(const os of rs){const ss=ts[os];if(!is.includes(os))return!1;if(os!=="ref"){const as=ns[os];if(isDateObject(ss)&&isDateObject(as)||isObject$7(ss)&&isObject$7(as)||Array.isArray(ss)&&Array.isArray(as)?!deepEqual(ss,as):ss!==as)return!1}}return!0}var isMultipleSelect=ts=>ts.type==="select-multiple",isRadioOrCheckbox=ts=>isRadioInput(ts)||isCheckBoxInput(ts),live=ts=>isHTMLElement$1(ts)&&ts.isConnected,objectHasFunction=ts=>{for(const ns in ts)if(isFunction$4(ts[ns]))return!0;return!1};function markFieldsDirty(ts,ns={}){const rs=Array.isArray(ts);if(isObject$7(ts)||rs)for(const is in ts)Array.isArray(ts[is])||isObject$7(ts[is])&&!objectHasFunction(ts[is])?(ns[is]=Array.isArray(ts[is])?[]:{},markFieldsDirty(ts[is],ns[is])):isNullOrUndefined$1(ts[is])||(ns[is]=!0);return ns}function getDirtyFieldsFromDefaultValues(ts,ns,rs){const is=Array.isArray(ts);if(isObject$7(ts)||is)for(const os in ts)Array.isArray(ts[os])||isObject$7(ts[os])&&!objectHasFunction(ts[os])?isUndefined$2(ns)||isPrimitive$2(rs[os])?rs[os]=Array.isArray(ts[os])?markFieldsDirty(ts[os],[]):{...markFieldsDirty(ts[os])}:getDirtyFieldsFromDefaultValues(ts[os],isNullOrUndefined$1(ns)?{}:ns[os],rs[os]):rs[os]=!deepEqual(ts[os],ns[os]);return rs}var getDirtyFields=(ts,ns)=>getDirtyFieldsFromDefaultValues(ts,ns,markFieldsDirty(ns)),getFieldValueAs=(ts,{valueAsNumber:ns,valueAsDate:rs,setValueAs:is})=>isUndefined$2(ts)?ts:ns?ts===""?NaN:ts&&+ts:rs&&isString$5(ts)?new Date(ts):is?is(ts):ts;function getFieldValue(ts){const ns=ts.ref;if(!(ts.refs?ts.refs.every(rs=>rs.disabled):ns.disabled))return isFileInput(ns)?ns.files:isRadioInput(ns)?getRadioValue(ts.refs).value:isMultipleSelect(ns)?[...ns.selectedOptions].map(({value:rs})=>rs):isCheckBoxInput(ns)?getCheckboxValue(ts.refs).value:getFieldValueAs(isUndefined$2(ns.value)?ts.ref.value:ns.value,ts)}var getResolverOptions=(ts,ns,rs,is)=>{const os={};for(const ss of ts){const as=get$5(ns,ss);as&&set$1(os,ss,as._f)}return{criteriaMode:rs,names:[...ts],fields:os,shouldUseNativeValidation:is}},getRuleValue=ts=>isUndefined$2(ts)?ts:isRegex(ts)?ts.source:isObject$7(ts)?isRegex(ts.value)?ts.value.source:ts.value:ts,hasValidation=ts=>ts.mount&&(ts.required||ts.min||ts.max||ts.maxLength||ts.minLength||ts.pattern||ts.validate);function schemaErrorLookup(ts,ns,rs){const is=get$5(ts,rs);if(is||isKey$4(rs))return{error:is,name:rs};const os=rs.split(".");for(;os.length;){const ss=os.join("."),as=get$5(ns,ss),ls=get$5(ts,ss);if(as&&!Array.isArray(as)&&rs!==ss)return{name:rs};if(ls&&ls.type)return{name:ss,error:ls};os.pop()}return{name:rs}}var skipValidation=(ts,ns,rs,is,os)=>os.isOnAll?!1:!rs&&os.isOnTouch?!(ns||ts):(rs?is.isOnBlur:os.isOnBlur)?!ts:(rs?is.isOnChange:os.isOnChange)?ts:!0,unsetEmptyArray=(ts,ns)=>!compact(get$5(ts,ns)).length&&unset(ts,ns);const defaultOptions$1={mode:VALIDATION_MODE.onSubmit,reValidateMode:VALIDATION_MODE.onChange,shouldFocusError:!0};function createFormControl(ts={}){let ns={...defaultOptions$1,...ts},rs={submitCount:0,isDirty:!1,isLoading:isFunction$4(ns.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:ns.errors||{},disabled:ns.disabled||!1},is={},os=isObject$7(ns.defaultValues)||isObject$7(ns.values)?cloneObject(ns.defaultValues||ns.values)||{}:{},ss=ns.shouldUnregister?{}:cloneObject(os),as={action:!1,mount:!1,watch:!1},ls={mount:new Set,unMount:new Set,array:new Set,watch:new Set},cs,us=0;const ds={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},ps={values:createSubject(),array:createSubject(),state:createSubject()},hs=getValidationModes(ns.mode),ms=getValidationModes(ns.reValidateMode),gs=ns.criteriaMode===VALIDATION_MODE.all,ys=Ns=>Hs=>{clearTimeout(us),us=setTimeout(Ns,Hs)},vs=async Ns=>{if(ds.isValid||Ns){const Hs=ns.resolver?isEmptyObject((await ks()).errors):await Ts(is,!0);Hs!==rs.isValid&&ps.state.next({isValid:Hs})}},bs=(Ns,Hs)=>{(ds.isValidating||ds.validatingFields)&&((Ns||Array.from(ls.mount)).forEach(Gs=>{Gs&&(Hs?set$1(rs.validatingFields,Gs,Hs):unset(rs.validatingFields,Gs))}),ps.state.next({validatingFields:rs.validatingFields,isValidating:!isEmptyObject(rs.validatingFields)}))},Ss=(Ns,Hs=[],Gs,Js,El=!0,Xs=!0)=>{if(Js&&Gs){if(as.action=!0,Xs&&Array.isArray(get$5(is,Ns))){const _l=Gs(get$5(is,Ns),Js.argA,Js.argB);El&&set$1(is,Ns,_l)}if(Xs&&Array.isArray(get$5(rs.errors,Ns))){const _l=Gs(get$5(rs.errors,Ns),Js.argA,Js.argB);El&&set$1(rs.errors,Ns,_l),unsetEmptyArray(rs.errors,Ns)}if(ds.touchedFields&&Xs&&Array.isArray(get$5(rs.touchedFields,Ns))){const _l=Gs(get$5(rs.touchedFields,Ns),Js.argA,Js.argB);El&&set$1(rs.touchedFields,Ns,_l)}ds.dirtyFields&&(rs.dirtyFields=getDirtyFields(os,ss)),ps.state.next({name:Ns,isDirty:As(Ns,Hs),dirtyFields:rs.dirtyFields,errors:rs.errors,isValid:rs.isValid})}else set$1(ss,Ns,Hs)},$s=(Ns,Hs)=>{set$1(rs.errors,Ns,Hs),ps.state.next({errors:rs.errors})},Cs=Ns=>{rs.errors=Ns,ps.state.next({errors:rs.errors,isValid:!1})},Es=(Ns,Hs,Gs,Js)=>{const El=get$5(is,Ns);if(El){const Xs=get$5(ss,Ns,isUndefined$2(Gs)?get$5(os,Ns):Gs);isUndefined$2(Xs)||Js&&Js.defaultChecked||Hs?set$1(ss,Ns,Hs?Xs:getFieldValue(El._f)):Ds(Ns,Xs),as.mount&&vs()}},xs=(Ns,Hs,Gs,Js,El)=>{let Xs=!1,_l=!1;const Bl={name:Ns},Ks=!!(get$5(is,Ns)&&get$5(is,Ns)._f&&get$5(is,Ns)._f.disabled);if(!Gs||Js){ds.isDirty&&(_l=rs.isDirty,rs.isDirty=Bl.isDirty=As(),Xs=_l!==Bl.isDirty);const Sl=Ks||deepEqual(get$5(os,Ns),Hs);_l=!!(!Ks&&get$5(rs.dirtyFields,Ns)),Sl||Ks?unset(rs.dirtyFields,Ns):set$1(rs.dirtyFields,Ns,!0),Bl.dirtyFields=rs.dirtyFields,Xs=Xs||ds.dirtyFields&&_l!==!Sl}if(Gs){const Sl=get$5(rs.touchedFields,Ns);Sl||(set$1(rs.touchedFields,Ns,Gs),Bl.touchedFields=rs.touchedFields,Xs=Xs||ds.touchedFields&&Sl!==Gs)}return Xs&&El&&ps.state.next(Bl),Xs?Bl:{}},ws=(Ns,Hs,Gs,Js)=>{const El=get$5(rs.errors,Ns),Xs=ds.isValid&&isBoolean(Hs)&&rs.isValid!==Hs;if(ts.delayError&&Gs?(cs=ys(()=>$s(Ns,Gs)),cs(ts.delayError)):(clearTimeout(us),cs=null,Gs?set$1(rs.errors,Ns,Gs):unset(rs.errors,Ns)),(Gs?!deepEqual(El,Gs):El)||!isEmptyObject(Js)||Xs){const _l={...Js,...Xs&&isBoolean(Hs)?{isValid:Hs}:{},errors:rs.errors,name:Ns};rs={...rs,..._l},ps.state.next(_l)}},ks=async Ns=>{bs(Ns,!0);const Hs=await ns.resolver(ss,ns.context,getResolverOptions(Ns||ls.mount,is,ns.criteriaMode,ns.shouldUseNativeValidation));return bs(Ns),Hs},Is=async Ns=>{const{errors:Hs}=await ks(Ns);if(Ns)for(const Gs of Ns){const Js=get$5(Hs,Gs);Js?set$1(rs.errors,Gs,Js):unset(rs.errors,Gs)}else rs.errors=Hs;return Hs},Ts=async(Ns,Hs,Gs={valid:!0})=>{for(const Js in Ns){const El=Ns[Js];if(El){const{_f:Xs,..._l}=El;if(Xs){const Bl=ls.array.has(Xs.name);bs([Js],!0);const Ks=await validateField(El,ss,gs,ns.shouldUseNativeValidation&&!Hs,Bl);if(bs([Js]),Ks[Xs.name]&&(Gs.valid=!1,Hs))break;!Hs&&(get$5(Ks,Xs.name)?Bl?updateFieldArrayRootError(rs.errors,Ks,Xs.name):set$1(rs.errors,Xs.name,Ks[Xs.name]):unset(rs.errors,Xs.name))}_l&&await Ts(_l,Hs,Gs)}}return Gs.valid},Rs=()=>{for(const Ns of ls.unMount){const Hs=get$5(is,Ns);Hs&&(Hs._f.refs?Hs._f.refs.every(Gs=>!live(Gs)):!live(Hs._f.ref))&&Us(Ns)}ls.unMount=new Set},As=(Ns,Hs)=>(Ns&&Hs&&set$1(ss,Ns,Hs),!deepEqual(Nl(),os)),Ms=(Ns,Hs,Gs)=>generateWatchOutput(Ns,ls,{...as.mount?ss:isUndefined$2(Hs)?os:isString$5(Ns)?{[Ns]:Hs}:Hs},Gs,Hs),Ls=Ns=>compact(get$5(as.mount?ss:os,Ns,ts.shouldUnregister?get$5(os,Ns,[]):[])),Ds=(Ns,Hs,Gs={})=>{const Js=get$5(is,Ns);let El=Hs;if(Js){const Xs=Js._f;Xs&&(!Xs.disabled&&set$1(ss,Ns,getFieldValueAs(Hs,Xs)),El=isHTMLElement$1(Xs.ref)&&isNullOrUndefined$1(Hs)?"":Hs,isMultipleSelect(Xs.ref)?[...Xs.ref.options].forEach(_l=>_l.selected=El.includes(_l.value)):Xs.refs?isCheckBoxInput(Xs.ref)?Xs.refs.length>1?Xs.refs.forEach(_l=>(!_l.defaultChecked||!_l.disabled)&&(_l.checked=Array.isArray(El)?!!El.find(Bl=>Bl===_l.value):El===_l.value)):Xs.refs[0]&&(Xs.refs[0].checked=!!El):Xs.refs.forEach(_l=>_l.checked=_l.value===El):isFileInput(Xs.ref)?Xs.ref.value="":(Xs.ref.value=El,Xs.ref.type||ps.values.next({name:Ns,values:{...ss}})))}(Gs.shouldDirty||Gs.shouldTouch)&&xs(Ns,El,Gs.shouldTouch,Gs.shouldDirty,!0),Gs.shouldValidate&&Os(Ns)},Fs=(Ns,Hs,Gs)=>{for(const Js in Hs){const El=Hs[Js],Xs="".concat(Ns,".").concat(Js),_l=get$5(is,Xs);(ls.array.has(Ns)||!isPrimitive$2(El)||_l&&!_l._f)&&!isDateObject(El)?Fs(Xs,El,Gs):Ds(Xs,El,Gs)}},Vs=(Ns,Hs,Gs={})=>{const Js=get$5(is,Ns),El=ls.array.has(Ns),Xs=cloneObject(Hs);set$1(ss,Ns,Xs),El?(ps.array.next({name:Ns,values:{...ss}}),(ds.isDirty||ds.dirtyFields)&&Gs.shouldDirty&&ps.state.next({name:Ns,dirtyFields:getDirtyFields(os,ss),isDirty:As(Ns,Xs)})):Js&&!Js._f&&!isNullOrUndefined$1(Xs)?Fs(Ns,Xs,Gs):Ds(Ns,Xs,Gs),isWatched(Ns,ls)&&ps.state.next({...rs}),ps.values.next({name:as.mount?Ns:void 0,values:{...ss}})},Bs=async Ns=>{as.mount=!0;const Hs=Ns.target;let Gs=Hs.name,Js=!0;const El=get$5(is,Gs),Xs=()=>Hs.type?getFieldValue(El._f):getEventValue(Ns),_l=Bl=>{Js=Number.isNaN(Bl)||Bl===get$5(ss,Gs,Bl)};if(El){let Bl,Ks;const Sl=Xs(),Il=Ns.type===EVENTS.BLUR||Ns.type===EVENTS.FOCUS_OUT,Ml=!hasValidation(El._f)&&!ns.resolver&&!get$5(rs.errors,Gs)&&!El._f.deps||skipValidation(Il,get$5(rs.touchedFields,Gs),rs.isSubmitted,ms,hs),Kl=isWatched(Gs,ls,Il);set$1(ss,Gs,Sl),Il?(El._f.onBlur&&El._f.onBlur(Ns),cs&&cs(0)):El._f.onChange&&El._f.onChange(Ns);const Ql=xs(Gs,Sl,Il,!1),Yl=!isEmptyObject(Ql)||Kl;if(!Il&&ps.values.next({name:Gs,type:Ns.type,values:{...ss}}),Ml)return ds.isValid&&vs(),Yl&&ps.state.next({name:Gs,...Kl?{}:Ql});if(!Il&&Kl&&ps.state.next({...rs}),ns.resolver){const{errors:Gl}=await ks([Gs]);if(_l(Sl),Js){const iu=schemaErrorLookup(rs.errors,is,Gs),Vl=schemaErrorLookup(Gl,is,iu.name||Gs);Bl=Vl.error,Gs=Vl.name,Ks=isEmptyObject(Gl)}}else bs([Gs],!0),Bl=(await validateField(El,ss,gs,ns.shouldUseNativeValidation))[Gs],bs([Gs]),_l(Sl),Js&&(Bl?Ks=!1:ds.isValid&&(Ks=await Ts(is,!0)));Js&&(El._f.deps&&Os(El._f.deps),ws(Gs,Ks,Bl,Ql))}},Ws=(Ns,Hs)=>{if(get$5(rs.errors,Hs)&&Ns.focus)return Ns.focus(),1},Os=async(Ns,Hs={})=>{let Gs,Js;const El=convertToArrayPayload(Ns);if(ns.resolver){const Xs=await Is(isUndefined$2(Ns)?Ns:El);Gs=isEmptyObject(Xs),Js=Ns?!El.some(_l=>get$5(Xs,_l)):Gs}else Ns?(Js=(await Promise.all(El.map(async Xs=>{const _l=get$5(is,Xs);return await Ts(_l&&_l._f?{[Xs]:_l}:_l)}))).every(Boolean),!(!Js&&!rs.isValid)&&vs()):Js=Gs=await Ts(is);return ps.state.next({...!isString$5(Ns)||ds.isValid&&Gs!==rs.isValid?{}:{name:Ns},...ns.resolver||!Ns?{isValid:Gs}:{},errors:rs.errors}),Hs.shouldFocus&&!Js&&iterateFieldsByAction(is,Ws,Ns?El:ls.mount),Js},Nl=Ns=>{const Hs={...as.mount?ss:os};return isUndefined$2(Ns)?Hs:isString$5(Ns)?get$5(Hs,Ns):Ns.map(Gs=>get$5(Hs,Gs))},$a=(Ns,Hs)=>({invalid:!!get$5((Hs||rs).errors,Ns),isDirty:!!get$5((Hs||rs).dirtyFields,Ns),error:get$5((Hs||rs).errors,Ns),isValidating:!!get$5(rs.validatingFields,Ns),isTouched:!!get$5((Hs||rs).touchedFields,Ns)}),Ps=Ns=>{Ns&&convertToArrayPayload(Ns).forEach(Hs=>unset(rs.errors,Hs)),ps.state.next({errors:Ns?rs.errors:{}})},Ys=(Ns,Hs,Gs)=>{const Js=(get$5(is,Ns,{_f:{}})._f||{}).ref,El=get$5(rs.errors,Ns)||{},{ref:Xs,message:_l,type:Bl,...Ks}=El;set$1(rs.errors,Ns,{...Ks,...Hs,ref:Js}),ps.state.next({name:Ns,errors:rs.errors,isValid:!1}),Gs&&Gs.shouldFocus&&Js&&Js.focus&&Js.focus()},Zs=(Ns,Hs)=>isFunction$4(Ns)?ps.values.subscribe({next:Gs=>Ns(Ms(void 0,Hs),Gs)}):Ms(Ns,Hs,!0),Us=(Ns,Hs={})=>{for(const Gs of Ns?convertToArrayPayload(Ns):ls.mount)ls.mount.delete(Gs),ls.array.delete(Gs),Hs.keepValue||(unset(is,Gs),unset(ss,Gs)),!Hs.keepError&&unset(rs.errors,Gs),!Hs.keepDirty&&unset(rs.dirtyFields,Gs),!Hs.keepTouched&&unset(rs.touchedFields,Gs),!Hs.keepIsValidating&&unset(rs.validatingFields,Gs),!ns.shouldUnregister&&!Hs.keepDefaultValue&&unset(os,Gs);ps.values.next({values:{...ss}}),ps.state.next({...rs,...Hs.keepDirty?{isDirty:As()}:{}}),!Hs.keepIsValid&&vs()},Ol=({disabled:Ns,name:Hs,field:Gs,fields:Js,value:El})=>{if(isBoolean(Ns)&&as.mount||Ns){const Xs=Ns?void 0:isUndefined$2(El)?getFieldValue(Gs?Gs._f:get$5(Js,Hs)._f):El;set$1(ss,Hs,Xs),xs(Hs,Xs,!1,!1,!0)}},qs=(Ns,Hs={})=>{let Gs=get$5(is,Ns);const Js=isBoolean(Hs.disabled);return set$1(is,Ns,{...Gs||{},_f:{...Gs&&Gs._f?Gs._f:{ref:{name:Ns}},name:Ns,mount:!0,...Hs}}),ls.mount.add(Ns),Gs?Ol({field:Gs,disabled:Hs.disabled,name:Ns,value:Hs.value}):Es(Ns,!0,Hs.value),{...Js?{disabled:Hs.disabled}:{},...ns.progressive?{required:!!Hs.required,min:getRuleValue(Hs.min),max:getRuleValue(Hs.max),minLength:getRuleValue(Hs.minLength),maxLength:getRuleValue(Hs.maxLength),pattern:getRuleValue(Hs.pattern)}:{},name:Ns,onChange:Bs,onBlur:Bs,ref:El=>{if(El){qs(Ns,Hs),Gs=get$5(is,Ns);const Xs=isUndefined$2(El.value)&&El.querySelectorAll&&El.querySelectorAll("input,select,textarea")[0]||El,_l=isRadioOrCheckbox(Xs),Bl=Gs._f.refs||[];if(_l?Bl.find(Ks=>Ks===Xs):Xs===Gs._f.ref)return;set$1(is,Ns,{_f:{...Gs._f,..._l?{refs:[...Bl.filter(live),Xs,...Array.isArray(get$5(os,Ns))?[{}]:[]],ref:{type:Xs.type,name:Ns}}:{ref:Xs}}}),Es(Ns,!1,void 0,Xs)}else Gs=get$5(is,Ns,{}),Gs._f&&(Gs._f.mount=!1),(ns.shouldUnregister||Hs.shouldUnregister)&&!(isNameInFieldArray(ls.array,Ns)&&as.action)&&ls.unMount.add(Ns)}}},Fl=()=>ns.shouldFocusError&&iterateFieldsByAction(is,Ws,ls.mount),Ll=Ns=>{isBoolean(Ns)&&(ps.state.next({disabled:Ns}),iterateFieldsByAction(is,(Hs,Gs)=>{const Js=get$5(is,Gs);Js&&(Hs.disabled=Js._f.disabled||Ns,Array.isArray(Js._f.refs)&&Js._f.refs.forEach(El=>{El.disabled=Js._f.disabled||Ns}))},0,!1))},$l=(Ns,Hs)=>async Gs=>{let Js;Gs&&(Gs.preventDefault&&Gs.preventDefault(),Gs.persist&&Gs.persist());let El=cloneObject(ss);if(ps.state.next({isSubmitting:!0}),ns.resolver){const{errors:Xs,values:_l}=await ks();rs.errors=Xs,El=_l}else await Ts(is);if(unset(rs.errors,"root"),isEmptyObject(rs.errors)){ps.state.next({errors:{}});try{await Ns(El,Gs)}catch(Xs){Js=Xs}}else Hs&&await Hs({...rs.errors},Gs),Fl(),setTimeout(Fl);if(ps.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:isEmptyObject(rs.errors)&&!Js,submitCount:rs.submitCount+1,errors:rs.errors}),Js)throw Js},Cl=(Ns,Hs={})=>{get$5(is,Ns)&&(isUndefined$2(Hs.defaultValue)?Vs(Ns,cloneObject(get$5(os,Ns))):(Vs(Ns,Hs.defaultValue),set$1(os,Ns,cloneObject(Hs.defaultValue))),Hs.keepTouched||unset(rs.touchedFields,Ns),Hs.keepDirty||(unset(rs.dirtyFields,Ns),rs.isDirty=Hs.defaultValue?As(Ns,cloneObject(get$5(os,Ns))):As()),Hs.keepError||(unset(rs.errors,Ns),ds.isValid&&vs()),ps.state.next({...rs}))},wl=(Ns,Hs={})=>{const Gs=Ns?cloneObject(Ns):os,Js=cloneObject(Gs),El=isEmptyObject(Ns),Xs=El?os:Js;if(Hs.keepDefaultValues||(os=Gs),!Hs.keepValues){if(Hs.keepDirtyValues)for(const _l of ls.mount)get$5(rs.dirtyFields,_l)?set$1(Xs,_l,get$5(ss,_l)):Vs(_l,get$5(Xs,_l));else{if(isWeb&&isUndefined$2(Ns))for(const _l of ls.mount){const Bl=get$5(is,_l);if(Bl&&Bl._f){const Ks=Array.isArray(Bl._f.refs)?Bl._f.refs[0]:Bl._f.ref;if(isHTMLElement$1(Ks)){const Sl=Ks.closest("form");if(Sl){Sl.reset();break}}}}is={}}ss=ts.shouldUnregister?Hs.keepDefaultValues?cloneObject(os):{}:cloneObject(Xs),ps.array.next({values:{...Xs}}),ps.values.next({values:{...Xs}})}ls={mount:Hs.keepDirtyValues?ls.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},as.mount=!ds.isValid||!!Hs.keepIsValid||!!Hs.keepDirtyValues,as.watch=!!ts.shouldUnregister,ps.state.next({submitCount:Hs.keepSubmitCount?rs.submitCount:0,isDirty:El?!1:Hs.keepDirty?rs.isDirty:!!(Hs.keepDefaultValues&&!deepEqual(Ns,os)),isSubmitted:Hs.keepIsSubmitted?rs.isSubmitted:!1,dirtyFields:El?{}:Hs.keepDirtyValues?Hs.keepDefaultValues&&ss?getDirtyFields(os,ss):rs.dirtyFields:Hs.keepDefaultValues&&Ns?getDirtyFields(os,Ns):Hs.keepDirty?rs.dirtyFields:{},touchedFields:Hs.keepTouched?rs.touchedFields:{},errors:Hs.keepErrors?rs.errors:{},isSubmitSuccessful:Hs.keepIsSubmitSuccessful?rs.isSubmitSuccessful:!1,isSubmitting:!1})},Tl=(Ns,Hs)=>wl(isFunction$4(Ns)?Ns(ss):Ns,Hs);return{control:{register:qs,unregister:Us,getFieldState:$a,handleSubmit:$l,setError:Ys,_executeSchema:ks,_getWatch:Ms,_getDirty:As,_updateValid:vs,_removeUnmounted:Rs,_updateFieldArray:Ss,_updateDisabledField:Ol,_getFieldArray:Ls,_reset:wl,_resetDefaultValues:()=>isFunction$4(ns.defaultValues)&&ns.defaultValues().then(Ns=>{Tl(Ns,ns.resetOptions),ps.state.next({isLoading:!1})}),_updateFormState:Ns=>{rs={...rs,...Ns}},_disableForm:Ll,_subjects:ps,_proxyFormState:ds,_setErrors:Cs,get _fields(){return is},get _formValues(){return ss},get _state(){return as},set _state(Ns){as=Ns},get _defaultValues(){return os},get _names(){return ls},set _names(Ns){ls=Ns},get _formState(){return rs},set _formState(Ns){rs=Ns},get _options(){return ns},set _options(Ns){ns={...ns,...Ns}}},trigger:Os,register:qs,handleSubmit:$l,watch:Zs,setValue:Vs,getValues:Nl,reset:Tl,resetField:Cl,clearErrors:Ps,unregister:Us,setError:Ys,setFocus:(Ns,Hs={})=>{const Gs=get$5(is,Ns),Js=Gs&&Gs._f;if(Js){const El=Js.refs?Js.refs[0]:Js.ref;El.focus&&(El.focus(),Hs.shouldSelect&&El.select())}},getFieldState:$a}}function useForm(ts={}){const ns=React$1.useRef(),rs=React$1.useRef(),[is,os]=React$1.useState({isDirty:!1,isValidating:!1,isLoading:isFunction$4(ts.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:ts.errors||{},disabled:ts.disabled||!1,defaultValues:isFunction$4(ts.defaultValues)?void 0:ts.defaultValues});ns.current||(ns.current={...createFormControl(ts),formState:is});const ss=ns.current.control;return ss._options=ts,useSubscribe({subject:ss._subjects.state,next:as=>{shouldRenderFormState(as,ss._proxyFormState,ss._updateFormState,!0)&&os({...ss._formState})}}),React$1.useEffect(()=>ss._disableForm(ts.disabled),[ss,ts.disabled]),React$1.useEffect(()=>{if(ss._proxyFormState.isDirty){const as=ss._getDirty();as!==is.isDirty&&ss._subjects.state.next({isDirty:as})}},[ss,is.isDirty]),React$1.useEffect(()=>{ts.values&&!deepEqual(ts.values,rs.current)?(ss._reset(ts.values,ss._options.resetOptions),rs.current=ts.values,os(as=>({...as}))):ss._resetDefaultValues()},[ts.values,ss]),React$1.useEffect(()=>{ts.errors&&ss._setErrors(ts.errors)},[ts.errors,ss]),React$1.useEffect(()=>{ss._state.mount||(ss._updateValid(),ss._state.mount=!0),ss._state.watch&&(ss._state.watch=!1,ss._subjects.state.next({...ss._formState})),ss._removeUnmounted()}),React$1.useEffect(()=>{ts.shouldUnregister&&ss._subjects.values.next({values:ss._getWatch()})},[ts.shouldUnregister,ss]),ns.current.formState=getProxyFormState(is,ss),ns.current}var e$3=function(ts,ns,rs){if(ts&&"reportValidity"in ts){var is=get$5(rs,ns);ts.setCustomValidity(is&&is.message||""),ts.reportValidity()}},t$3=function(ts,ns){var rs=function(os){var ss=ns.fields[os];ss&&ss.ref&&"reportValidity"in ss.ref?e$3(ss.ref,os,ts):ss.refs&&ss.refs.forEach(function(as){return e$3(as,os,ts)})};for(var is in ns.fields)rs(is)},f$1=function(ts,ns){ns.shouldUseNativeValidation&&t$3(ts,ns);var rs={};for(var is in ts){var os=get$5(ns.fields,is);set$1(rs,is,Object.assign(ts[is],{ref:os&&os.ref}))}return rs},o$1=function(ts,ns,rs){return ns===void 0&&(ns={}),rs===void 0&&(rs={}),function(is,os,ss){try{return Promise.resolve(function(as,ls){try{var cs=(ns.context,Promise.resolve(ts[rs.mode==="sync"?"validateSync":"validate"](is,Object.assign({abortEarly:!1},ns,{context:os}))).then(function(us){return ss.shouldUseNativeValidation&&t$3({},ss),{values:rs.rawValues?is:us,errors:{}}}))}catch(us){return ls(us)}return cs&&cs.then?cs.then(void 0,ls):cs}(0,function(as){if(!as.inner)throw as;return{values:{},errors:f$1((ls=as,cs=!ss.shouldUseNativeValidation&&ss.criteriaMode==="all",(ls.inner||[]).reduce(function(us,ds){if(us[ds.path]||(us[ds.path]={message:ds.message,type:ds.type}),cs){var ps=us[ds.path].types,hs=ps&&ps[ds.type];us[ds.path]=appendErrors(ds.path,cs,us,ds.type,hs?[].concat(hs,ds.message):ds.message)}return us},{})),ss)};var ls,cs}))}catch(as){return Promise.reject(as)}}};class LuxonError extends Error{}class InvalidDateTimeError extends LuxonError{constructor(ns){super("Invalid DateTime: ".concat(ns.toMessage()))}}class InvalidIntervalError extends LuxonError{constructor(ns){super("Invalid Interval: ".concat(ns.toMessage()))}}class InvalidDurationError extends LuxonError{constructor(ns){super("Invalid Duration: ".concat(ns.toMessage()))}}class ConflictingSpecificationError extends LuxonError{}class InvalidUnitError extends LuxonError{constructor(ns){super("Invalid unit ".concat(ns))}}class InvalidArgumentError extends LuxonError{}class ZoneIsAbstractError extends LuxonError{constructor(){super("Zone is an abstract class")}}const n$3="numeric",s$1="short",l$2="long",DATE_SHORT={year:n$3,month:n$3,day:n$3},DATE_MED={year:n$3,month:s$1,day:n$3},DATE_MED_WITH_WEEKDAY={year:n$3,month:s$1,day:n$3,weekday:s$1},DATE_FULL={year:n$3,month:l$2,day:n$3},DATE_HUGE={year:n$3,month:l$2,day:n$3,weekday:l$2},TIME_SIMPLE={hour:n$3,minute:n$3},TIME_WITH_SECONDS={hour:n$3,minute:n$3,second:n$3},TIME_WITH_SHORT_OFFSET={hour:n$3,minute:n$3,second:n$3,timeZoneName:s$1},TIME_WITH_LONG_OFFSET={hour:n$3,minute:n$3,second:n$3,timeZoneName:l$2},TIME_24_SIMPLE={hour:n$3,minute:n$3,hourCycle:"h23"},TIME_24_WITH_SECONDS={hour:n$3,minute:n$3,second:n$3,hourCycle:"h23"},TIME_24_WITH_SHORT_OFFSET={hour:n$3,minute:n$3,second:n$3,hourCycle:"h23",timeZoneName:s$1},TIME_24_WITH_LONG_OFFSET={hour:n$3,minute:n$3,second:n$3,hourCycle:"h23",timeZoneName:l$2},DATETIME_SHORT={year:n$3,month:n$3,day:n$3,hour:n$3,minute:n$3},DATETIME_SHORT_WITH_SECONDS={year:n$3,month:n$3,day:n$3,hour:n$3,minute:n$3,second:n$3},DATETIME_MED={year:n$3,month:s$1,day:n$3,hour:n$3,minute:n$3},DATETIME_MED_WITH_SECONDS={year:n$3,month:s$1,day:n$3,hour:n$3,minute:n$3,second:n$3},DATETIME_MED_WITH_WEEKDAY={year:n$3,month:s$1,day:n$3,weekday:s$1,hour:n$3,minute:n$3},DATETIME_FULL={year:n$3,month:l$2,day:n$3,hour:n$3,minute:n$3,timeZoneName:s$1},DATETIME_FULL_WITH_SECONDS={year:n$3,month:l$2,day:n$3,hour:n$3,minute:n$3,second:n$3,timeZoneName:s$1},DATETIME_HUGE={year:n$3,month:l$2,day:n$3,weekday:l$2,hour:n$3,minute:n$3,timeZoneName:l$2},DATETIME_HUGE_WITH_SECONDS={year:n$3,month:l$2,day:n$3,weekday:l$2,hour:n$3,minute:n$3,second:n$3,timeZoneName:l$2};class Zone{get type(){throw new ZoneIsAbstractError}get name(){throw new ZoneIsAbstractError}get ianaName(){return this.name}get isUniversal(){throw new ZoneIsAbstractError}offsetName(ns,rs){throw new ZoneIsAbstractError}formatOffset(ns,rs){throw new ZoneIsAbstractError}offset(ns){throw new ZoneIsAbstractError}equals(ns){throw new ZoneIsAbstractError}get isValid(){throw new ZoneIsAbstractError}}let singleton$1=null;class SystemZone extends Zone{static get instance(){return singleton$1===null&&(singleton$1=new SystemZone),singleton$1}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(ns,{format:rs,locale:is}){return parseZoneInfo(ns,rs,is)}formatOffset(ns,rs){return formatOffset(this.offset(ns),rs)}offset(ns){return-new Date(ns).getTimezoneOffset()}equals(ns){return ns.type==="system"}get isValid(){return!0}}let dtfCache={};function makeDTF(ts){return dtfCache[ts]||(dtfCache[ts]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:ts,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),dtfCache[ts]}const typeToPos={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function hackyOffset(ts,ns){const rs=ts.format(ns).replace(/\u200E/g,""),is=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(rs),[,os,ss,as,ls,cs,us,ds]=is;return[as,os,ss,ls,cs,us,ds]}function partsOffset(ts,ns){const rs=ts.formatToParts(ns),is=[];for(let os=0;os<rs.length;os++){const{type:ss,value:as}=rs[os],ls=typeToPos[ss];ss==="era"?is[ls]=as:isUndefined$1(ls)||(is[ls]=parseInt(as,10))}return is}let ianaZoneCache={};class IANAZone extends Zone{static create(ns){return ianaZoneCache[ns]||(ianaZoneCache[ns]=new IANAZone(ns)),ianaZoneCache[ns]}static resetCache(){ianaZoneCache={},dtfCache={}}static isValidSpecifier(ns){return this.isValidZone(ns)}static isValidZone(ns){if(!ns)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:ns}).format(),!0}catch{return!1}}constructor(ns){super(),this.zoneName=ns,this.valid=IANAZone.isValidZone(ns)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(ns,{format:rs,locale:is}){return parseZoneInfo(ns,rs,is,this.name)}formatOffset(ns,rs){return formatOffset(this.offset(ns),rs)}offset(ns){const rs=new Date(ns);if(isNaN(rs))return NaN;const is=makeDTF(this.name);let[os,ss,as,ls,cs,us,ds]=is.formatToParts?partsOffset(is,rs):hackyOffset(is,rs);ls==="BC"&&(os=-Math.abs(os)+1);const hs=objToLocalTS({year:os,month:ss,day:as,hour:cs===24?0:cs,minute:us,second:ds,millisecond:0});let ms=+rs;const gs=ms%1e3;return ms-=gs>=0?gs:1e3+gs,(hs-ms)/(60*1e3)}equals(ns){return ns.type==="iana"&&ns.name===this.name}get isValid(){return this.valid}}let intlLFCache={};function getCachedLF(ts,ns={}){const rs=JSON.stringify([ts,ns]);let is=intlLFCache[rs];return is||(is=new Intl.ListFormat(ts,ns),intlLFCache[rs]=is),is}let intlDTCache={};function getCachedDTF(ts,ns={}){const rs=JSON.stringify([ts,ns]);let is=intlDTCache[rs];return is||(is=new Intl.DateTimeFormat(ts,ns),intlDTCache[rs]=is),is}let intlNumCache={};function getCachedINF(ts,ns={}){const rs=JSON.stringify([ts,ns]);let is=intlNumCache[rs];return is||(is=new Intl.NumberFormat(ts,ns),intlNumCache[rs]=is),is}let intlRelCache={};function getCachedRTF(ts,ns={}){const{base:rs,...is}=ns,os=JSON.stringify([ts,is]);let ss=intlRelCache[os];return ss||(ss=new Intl.RelativeTimeFormat(ts,ns),intlRelCache[os]=ss),ss}let sysLocaleCache=null;function systemLocale(){return sysLocaleCache||(sysLocaleCache=new Intl.DateTimeFormat().resolvedOptions().locale,sysLocaleCache)}let weekInfoCache={};function getCachedWeekInfo(ts){let ns=weekInfoCache[ts];if(!ns){const rs=new Intl.Locale(ts);ns="getWeekInfo"in rs?rs.getWeekInfo():rs.weekInfo,weekInfoCache[ts]=ns}return ns}function parseLocaleString(ts){const ns=ts.indexOf("-x-");ns!==-1&&(ts=ts.substring(0,ns));const rs=ts.indexOf("-u-");if(rs===-1)return[ts];{let is,os;try{is=getCachedDTF(ts).resolvedOptions(),os=ts}catch{const cs=ts.substring(0,rs);is=getCachedDTF(cs).resolvedOptions(),os=cs}const{numberingSystem:ss,calendar:as}=is;return[os,ss,as]}}function intlConfigString(ts,ns,rs){return(rs||ns)&&(ts.includes("-u-")||(ts+="-u"),rs&&(ts+="-ca-".concat(rs)),ns&&(ts+="-nu-".concat(ns))),ts}function mapMonths(ts){const ns=[];for(let rs=1;rs<=12;rs++){const is=DateTime.utc(2009,rs,1);ns.push(ts(is))}return ns}function mapWeekdays(ts){const ns=[];for(let rs=1;rs<=7;rs++){const is=DateTime.utc(2016,11,13+rs);ns.push(ts(is))}return ns}function listStuff(ts,ns,rs,is){const os=ts.listingMode();return os==="error"?null:os==="en"?rs(ns):is(ns)}function supportsFastNumbers(ts){return ts.numberingSystem&&ts.numberingSystem!=="latn"?!1:ts.numberingSystem==="latn"||!ts.locale||ts.locale.startsWith("en")||new Intl.DateTimeFormat(ts.intl).resolvedOptions().numberingSystem==="latn"}class PolyNumberFormatter{constructor(ns,rs,is){this.padTo=is.padTo||0,this.floor=is.floor||!1;const{padTo:os,floor:ss,...as}=is;if(!rs||Object.keys(as).length>0){const ls={useGrouping:!1,...is};is.padTo>0&&(ls.minimumIntegerDigits=is.padTo),this.inf=getCachedINF(ns,ls)}}format(ns){if(this.inf){const rs=this.floor?Math.floor(ns):ns;return this.inf.format(rs)}else{const rs=this.floor?Math.floor(ns):roundTo(ns,3);return padStart(rs,this.padTo)}}}class PolyDateFormatter{constructor(ns,rs,is){this.opts=is,this.originalZone=void 0;let os;if(this.opts.timeZone)this.dt=ns;else if(ns.zone.type==="fixed"){const as=-1*(ns.offset/60),ls=as>=0?"Etc/GMT+".concat(as):"Etc/GMT".concat(as);ns.offset!==0&&IANAZone.create(ls).valid?(os=ls,this.dt=ns):(os="UTC",this.dt=ns.offset===0?ns:ns.setZone("UTC").plus({minutes:ns.offset}),this.originalZone=ns.zone)}else ns.zone.type==="system"?this.dt=ns:ns.zone.type==="iana"?(this.dt=ns,os=ns.zone.name):(os="UTC",this.dt=ns.setZone("UTC").plus({minutes:ns.offset}),this.originalZone=ns.zone);const ss={...this.opts};ss.timeZone=ss.timeZone||os,this.dtf=getCachedDTF(rs,ss)}format(){return this.originalZone?this.formatToParts().map(({value:ns})=>ns).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const ns=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?ns.map(rs=>{if(rs.type==="timeZoneName"){const is=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...rs,value:is}}else return rs}):ns}resolvedOptions(){return this.dtf.resolvedOptions()}}class PolyRelFormatter{constructor(ns,rs,is){this.opts={style:"long",...is},!rs&&hasRelative()&&(this.rtf=getCachedRTF(ns,is))}format(ns,rs){return this.rtf?this.rtf.format(ns,rs):formatRelativeTime(rs,ns,this.opts.numeric,this.opts.style!=="long")}formatToParts(ns,rs){return this.rtf?this.rtf.formatToParts(ns,rs):[]}}const fallbackWeekSettings={firstDay:1,minimalDays:4,weekend:[6,7]};class Locale{static fromOpts(ns){return Locale.create(ns.locale,ns.numberingSystem,ns.outputCalendar,ns.weekSettings,ns.defaultToEN)}static create(ns,rs,is,os,ss=!1){const as=ns||Settings$1.defaultLocale,ls=as||(ss?"en-US":systemLocale()),cs=rs||Settings$1.defaultNumberingSystem,us=is||Settings$1.defaultOutputCalendar,ds=validateWeekSettings(os)||Settings$1.defaultWeekSettings;return new Locale(ls,cs,us,ds,as)}static resetCache(){sysLocaleCache=null,intlDTCache={},intlNumCache={},intlRelCache={}}static fromObject({locale:ns,numberingSystem:rs,outputCalendar:is,weekSettings:os}={}){return Locale.create(ns,rs,is,os)}constructor(ns,rs,is,os,ss){const[as,ls,cs]=parseLocaleString(ns);this.locale=as,this.numberingSystem=rs||ls||null,this.outputCalendar=is||cs||null,this.weekSettings=os,this.intl=intlConfigString(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=ss,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=supportsFastNumbers(this)),this.fastNumbersCached}listingMode(){const ns=this.isEnglish(),rs=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return ns&&rs?"en":"intl"}clone(ns){return!ns||Object.getOwnPropertyNames(ns).length===0?this:Locale.create(ns.locale||this.specifiedLocale,ns.numberingSystem||this.numberingSystem,ns.outputCalendar||this.outputCalendar,validateWeekSettings(ns.weekSettings)||this.weekSettings,ns.defaultToEN||!1)}redefaultToEN(ns={}){return this.clone({...ns,defaultToEN:!0})}redefaultToSystem(ns={}){return this.clone({...ns,defaultToEN:!1})}months(ns,rs=!1){return listStuff(this,ns,months$1,()=>{const is=rs?{month:ns,day:"numeric"}:{month:ns},os=rs?"format":"standalone";return this.monthsCache[os][ns]||(this.monthsCache[os][ns]=mapMonths(ss=>this.extract(ss,is,"month"))),this.monthsCache[os][ns]})}weekdays(ns,rs=!1){return listStuff(this,ns,weekdays,()=>{const is=rs?{weekday:ns,year:"numeric",month:"long",day:"numeric"}:{weekday:ns},os=rs?"format":"standalone";return this.weekdaysCache[os][ns]||(this.weekdaysCache[os][ns]=mapWeekdays(ss=>this.extract(ss,is,"weekday"))),this.weekdaysCache[os][ns]})}meridiems(){return listStuff(this,void 0,()=>meridiems,()=>{if(!this.meridiemCache){const ns={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[DateTime.utc(2016,11,13,9),DateTime.utc(2016,11,13,19)].map(rs=>this.extract(rs,ns,"dayperiod"))}return this.meridiemCache})}eras(ns){return listStuff(this,ns,eras,()=>{const rs={era:ns};return this.eraCache[ns]||(this.eraCache[ns]=[DateTime.utc(-40,1,1),DateTime.utc(2017,1,1)].map(is=>this.extract(is,rs,"era"))),this.eraCache[ns]})}extract(ns,rs,is){const os=this.dtFormatter(ns,rs),ss=os.formatToParts(),as=ss.find(ls=>ls.type.toLowerCase()===is);return as?as.value:null}numberFormatter(ns={}){return new PolyNumberFormatter(this.intl,ns.forceSimple||this.fastNumbers,ns)}dtFormatter(ns,rs={}){return new PolyDateFormatter(ns,this.intl,rs)}relFormatter(ns={}){return new PolyRelFormatter(this.intl,this.isEnglish(),ns)}listFormatter(ns={}){return getCachedLF(this.intl,ns)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:hasLocaleWeekInfo()?getCachedWeekInfo(this.locale):fallbackWeekSettings}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(ns){return this.locale===ns.locale&&this.numberingSystem===ns.numberingSystem&&this.outputCalendar===ns.outputCalendar}}let singleton=null;class FixedOffsetZone extends Zone{static get utcInstance(){return singleton===null&&(singleton=new FixedOffsetZone(0)),singleton}static instance(ns){return ns===0?FixedOffsetZone.utcInstance:new FixedOffsetZone(ns)}static parseSpecifier(ns){if(ns){const rs=ns.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(rs)return new FixedOffsetZone(signedOffset(rs[1],rs[2]))}return null}constructor(ns){super(),this.fixed=ns}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":"UTC".concat(formatOffset(this.fixed,"narrow"))}get ianaName(){return this.fixed===0?"Etc/UTC":"Etc/GMT".concat(formatOffset(-this.fixed,"narrow"))}offsetName(){return this.name}formatOffset(ns,rs){return formatOffset(this.fixed,rs)}get isUniversal(){return!0}offset(){return this.fixed}equals(ns){return ns.type==="fixed"&&ns.fixed===this.fixed}get isValid(){return!0}}class InvalidZone extends Zone{constructor(ns){super(),this.zoneName=ns}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function normalizeZone(ts,ns){if(isUndefined$1(ts)||ts===null)return ns;if(ts instanceof Zone)return ts;if(isString$4(ts)){const rs=ts.toLowerCase();return rs==="default"?ns:rs==="local"||rs==="system"?SystemZone.instance:rs==="utc"||rs==="gmt"?FixedOffsetZone.utcInstance:FixedOffsetZone.parseSpecifier(rs)||IANAZone.create(ts)}else return isNumber$3(ts)?FixedOffsetZone.instance(ts):typeof ts=="object"&&"offset"in ts&&typeof ts.offset=="function"?ts:new InvalidZone(ts)}let now=()=>Date.now(),defaultZone="system",defaultLocale=null,defaultNumberingSystem=null,defaultOutputCalendar=null,twoDigitCutoffYear=60,throwOnInvalid,defaultWeekSettings=null,Settings$1=class{static get now(){return now}static set now(ns){now=ns}static set defaultZone(ns){defaultZone=ns}static get defaultZone(){return normalizeZone(defaultZone,SystemZone.instance)}static get defaultLocale(){return defaultLocale}static set defaultLocale(ns){defaultLocale=ns}static get defaultNumberingSystem(){return defaultNumberingSystem}static set defaultNumberingSystem(ns){defaultNumberingSystem=ns}static get defaultOutputCalendar(){return defaultOutputCalendar}static set defaultOutputCalendar(ns){defaultOutputCalendar=ns}static get defaultWeekSettings(){return defaultWeekSettings}static set defaultWeekSettings(ns){defaultWeekSettings=validateWeekSettings(ns)}static get twoDigitCutoffYear(){return twoDigitCutoffYear}static set twoDigitCutoffYear(ns){twoDigitCutoffYear=ns%100}static get throwOnInvalid(){return throwOnInvalid}static set throwOnInvalid(ns){throwOnInvalid=ns}static resetCaches(){Locale.resetCache(),IANAZone.resetCache()}};class Invalid{constructor(ns,rs){this.reason=ns,this.explanation=rs}toMessage(){return this.explanation?"".concat(this.reason,": ").concat(this.explanation):this.reason}}const nonLeapLadder=[0,31,59,90,120,151,181,212,243,273,304,334],leapLadder=[0,31,60,91,121,152,182,213,244,274,305,335];function unitOutOfRange(ts,ns){return new Invalid("unit out of range","you specified ".concat(ns," (of type ").concat(typeof ns,") as a ").concat(ts,", which is invalid"))}function dayOfWeek(ts,ns,rs){const is=new Date(Date.UTC(ts,ns-1,rs));ts<100&&ts>=0&&is.setUTCFullYear(is.getUTCFullYear()-1900);const os=is.getUTCDay();return os===0?7:os}function computeOrdinal(ts,ns,rs){return rs+(isLeapYear(ts)?leapLadder:nonLeapLadder)[ns-1]}function uncomputeOrdinal(ts,ns){const rs=isLeapYear(ts)?leapLadder:nonLeapLadder,is=rs.findIndex(ss=>ss<ns),os=ns-rs[is];return{month:is+1,day:os}}function isoWeekdayToLocal(ts,ns){return(ts-ns+7)%7+1}function gregorianToWeek(ts,ns=4,rs=1){const{year:is,month:os,day:ss}=ts,as=computeOrdinal(is,os,ss),ls=isoWeekdayToLocal(dayOfWeek(is,os,ss),rs);let cs=Math.floor((as-ls+14-ns)/7),us;return cs<1?(us=is-1,cs=weeksInWeekYear(us,ns,rs)):cs>weeksInWeekYear(is,ns,rs)?(us=is+1,cs=1):us=is,{weekYear:us,weekNumber:cs,weekday:ls,...timeObject(ts)}}function weekToGregorian(ts,ns=4,rs=1){const{weekYear:is,weekNumber:os,weekday:ss}=ts,as=isoWeekdayToLocal(dayOfWeek(is,1,ns),rs),ls=daysInYear(is);let cs=os*7+ss-as-7+ns,us;cs<1?(us=is-1,cs+=daysInYear(us)):cs>ls?(us=is+1,cs-=daysInYear(is)):us=is;const{month:ds,day:ps}=uncomputeOrdinal(us,cs);return{year:us,month:ds,day:ps,...timeObject(ts)}}function gregorianToOrdinal(ts){const{year:ns,month:rs,day:is}=ts,os=computeOrdinal(ns,rs,is);return{year:ns,ordinal:os,...timeObject(ts)}}function ordinalToGregorian(ts){const{year:ns,ordinal:rs}=ts,{month:is,day:os}=uncomputeOrdinal(ns,rs);return{year:ns,month:is,day:os,...timeObject(ts)}}function usesLocalWeekValues(ts,ns){if(!isUndefined$1(ts.localWeekday)||!isUndefined$1(ts.localWeekNumber)||!isUndefined$1(ts.localWeekYear)){if(!isUndefined$1(ts.weekday)||!isUndefined$1(ts.weekNumber)||!isUndefined$1(ts.weekYear))throw new ConflictingSpecificationError("Cannot mix locale-based week fields with ISO-based week fields");return isUndefined$1(ts.localWeekday)||(ts.weekday=ts.localWeekday),isUndefined$1(ts.localWeekNumber)||(ts.weekNumber=ts.localWeekNumber),isUndefined$1(ts.localWeekYear)||(ts.weekYear=ts.localWeekYear),delete ts.localWeekday,delete ts.localWeekNumber,delete ts.localWeekYear,{minDaysInFirstWeek:ns.getMinDaysInFirstWeek(),startOfWeek:ns.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function hasInvalidWeekData(ts,ns=4,rs=1){const is=isInteger$1(ts.weekYear),os=integerBetween(ts.weekNumber,1,weeksInWeekYear(ts.weekYear,ns,rs)),ss=integerBetween(ts.weekday,1,7);return is?os?ss?!1:unitOutOfRange("weekday",ts.weekday):unitOutOfRange("week",ts.weekNumber):unitOutOfRange("weekYear",ts.weekYear)}function hasInvalidOrdinalData(ts){const ns=isInteger$1(ts.year),rs=integerBetween(ts.ordinal,1,daysInYear(ts.year));return ns?rs?!1:unitOutOfRange("ordinal",ts.ordinal):unitOutOfRange("year",ts.year)}function hasInvalidGregorianData(ts){const ns=isInteger$1(ts.year),rs=integerBetween(ts.month,1,12),is=integerBetween(ts.day,1,daysInMonth(ts.year,ts.month));return ns?rs?is?!1:unitOutOfRange("day",ts.day):unitOutOfRange("month",ts.month):unitOutOfRange("year",ts.year)}function hasInvalidTimeData(ts){const{hour:ns,minute:rs,second:is,millisecond:os}=ts,ss=integerBetween(ns,0,23)||ns===24&&rs===0&&is===0&&os===0,as=integerBetween(rs,0,59),ls=integerBetween(is,0,59),cs=integerBetween(os,0,999);return ss?as?ls?cs?!1:unitOutOfRange("millisecond",os):unitOutOfRange("second",is):unitOutOfRange("minute",rs):unitOutOfRange("hour",ns)}function isUndefined$1(ts){return typeof ts>"u"}function isNumber$3(ts){return typeof ts=="number"}function isInteger$1(ts){return typeof ts=="number"&&ts%1===0}function isString$4(ts){return typeof ts=="string"}function isDate$2(ts){return Object.prototype.toString.call(ts)==="[object Date]"}function hasRelative(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function hasLocaleWeekInfo(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function maybeArray(ts){return Array.isArray(ts)?ts:[ts]}function bestBy(ts,ns,rs){if(ts.length!==0)return ts.reduce((is,os)=>{const ss=[ns(os),os];return is&&rs(is[0],ss[0])===is[0]?is:ss},null)[1]}function pick(ts,ns){return ns.reduce((rs,is)=>(rs[is]=ts[is],rs),{})}function hasOwnProperty$e(ts,ns){return Object.prototype.hasOwnProperty.call(ts,ns)}function validateWeekSettings(ts){if(ts==null)return null;if(typeof ts!="object")throw new InvalidArgumentError("Week settings must be an object");if(!integerBetween(ts.firstDay,1,7)||!integerBetween(ts.minimalDays,1,7)||!Array.isArray(ts.weekend)||ts.weekend.some(ns=>!integerBetween(ns,1,7)))throw new InvalidArgumentError("Invalid week settings");return{firstDay:ts.firstDay,minimalDays:ts.minimalDays,weekend:Array.from(ts.weekend)}}function integerBetween(ts,ns,rs){return isInteger$1(ts)&&ts>=ns&&ts<=rs}function floorMod(ts,ns){return ts-ns*Math.floor(ts/ns)}function padStart(ts,ns=2){const rs=ts<0;let is;return rs?is="-"+(""+-ts).padStart(ns,"0"):is=(""+ts).padStart(ns,"0"),is}function parseInteger(ts){if(!(isUndefined$1(ts)||ts===null||ts===""))return parseInt(ts,10)}function parseFloating(ts){if(!(isUndefined$1(ts)||ts===null||ts===""))return parseFloat(ts)}function parseMillis(ts){if(!(isUndefined$1(ts)||ts===null||ts==="")){const ns=parseFloat("0."+ts)*1e3;return Math.floor(ns)}}function roundTo(ts,ns,rs=!1){const is=10**ns;return(rs?Math.trunc:Math.round)(ts*is)/is}function isLeapYear(ts){return ts%4===0&&(ts%100!==0||ts%400===0)}function daysInYear(ts){return isLeapYear(ts)?366:365}function daysInMonth(ts,ns){const rs=floorMod(ns-1,12)+1,is=ts+(ns-rs)/12;return rs===2?isLeapYear(is)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][rs-1]}function objToLocalTS(ts){let ns=Date.UTC(ts.year,ts.month-1,ts.day,ts.hour,ts.minute,ts.second,ts.millisecond);return ts.year<100&&ts.year>=0&&(ns=new Date(ns),ns.setUTCFullYear(ts.year,ts.month-1,ts.day)),+ns}function firstWeekOffset(ts,ns,rs){return-isoWeekdayToLocal(dayOfWeek(ts,1,ns),rs)+ns-1}function weeksInWeekYear(ts,ns=4,rs=1){const is=firstWeekOffset(ts,ns,rs),os=firstWeekOffset(ts+1,ns,rs);return(daysInYear(ts)-is+os)/7}function untruncateYear(ts){return ts>99?ts:ts>Settings$1.twoDigitCutoffYear?1900+ts:2e3+ts}function parseZoneInfo(ts,ns,rs,is=null){const os=new Date(ts),ss={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};is&&(ss.timeZone=is);const as={timeZoneName:ns,...ss},ls=new Intl.DateTimeFormat(rs,as).formatToParts(os).find(cs=>cs.type.toLowerCase()==="timezonename");return ls?ls.value:null}function signedOffset(ts,ns){let rs=parseInt(ts,10);Number.isNaN(rs)&&(rs=0);const is=parseInt(ns,10)||0,os=rs<0||Object.is(rs,-0)?-is:is;return rs*60+os}function asNumber(ts){const ns=Number(ts);if(typeof ts=="boolean"||ts===""||Number.isNaN(ns))throw new InvalidArgumentError("Invalid unit value ".concat(ts));return ns}function normalizeObject(ts,ns){const rs={};for(const is in ts)if(hasOwnProperty$e(ts,is)){const os=ts[is];if(os==null)continue;rs[ns(is)]=asNumber(os)}return rs}function formatOffset(ts,ns){const rs=Math.trunc(Math.abs(ts/60)),is=Math.trunc(Math.abs(ts%60)),os=ts>=0?"+":"-";switch(ns){case"short":return"".concat(os).concat(padStart(rs,2),":").concat(padStart(is,2));case"narrow":return"".concat(os).concat(rs).concat(is>0?":".concat(is):"");case"techie":return"".concat(os).concat(padStart(rs,2)).concat(padStart(is,2));default:throw new RangeError("Value format ".concat(ns," is out of range for property format"))}}function timeObject(ts){return pick(ts,["hour","minute","second","millisecond"])}const monthsLong=["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],monthsNarrow=["J","F","M","A","M","J","J","A","S","O","N","D"];function months$1(ts){switch(ts){case"narrow":return[...monthsNarrow];case"short":return[...monthsShort];case"long":return[...monthsLong];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const weekdaysLong=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],weekdaysShort=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],weekdaysNarrow=["M","T","W","T","F","S","S"];function weekdays(ts){switch(ts){case"narrow":return[...weekdaysNarrow];case"short":return[...weekdaysShort];case"long":return[...weekdaysLong];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const meridiems=["AM","PM"],erasLong=["Before Christ","Anno Domini"],erasShort=["BC","AD"],erasNarrow=["B","A"];function eras(ts){switch(ts){case"narrow":return[...erasNarrow];case"short":return[...erasShort];case"long":return[...erasLong];default:return null}}function meridiemForDateTime(ts){return meridiems[ts.hour<12?0:1]}function weekdayForDateTime(ts,ns){return weekdays(ns)[ts.weekday-1]}function monthForDateTime(ts,ns){return months$1(ns)[ts.month-1]}function eraForDateTime(ts,ns){return eras(ns)[ts.year<0?0:1]}function formatRelativeTime(ts,ns,rs="always",is=!1){const os={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},ss=["hours","minutes","seconds"].indexOf(ts)===-1;if(rs==="auto"&&ss){const ps=ts==="days";switch(ns){case 1:return ps?"tomorrow":"next ".concat(os[ts][0]);case-1:return ps?"yesterday":"last ".concat(os[ts][0]);case 0:return ps?"today":"this ".concat(os[ts][0])}}const as=Object.is(ns,-0)||ns<0,ls=Math.abs(ns),cs=ls===1,us=os[ts],ds=is?cs?us[1]:us[2]||us[1]:cs?os[ts][0]:ts;return as?"".concat(ls," ").concat(ds," ago"):"in ".concat(ls," ").concat(ds)}function stringifyTokens(ts,ns){let rs="";for(const is of ts)is.literal?rs+=is.val:rs+=ns(is.val);return rs}const macroTokenToFormatOpts={D:DATE_SHORT,DD:DATE_MED,DDD:DATE_FULL,DDDD:DATE_HUGE,t:TIME_SIMPLE,tt:TIME_WITH_SECONDS,ttt:TIME_WITH_SHORT_OFFSET,tttt:TIME_WITH_LONG_OFFSET,T:TIME_24_SIMPLE,TT:TIME_24_WITH_SECONDS,TTT:TIME_24_WITH_SHORT_OFFSET,TTTT:TIME_24_WITH_LONG_OFFSET,f:DATETIME_SHORT,ff:DATETIME_MED,fff:DATETIME_FULL,ffff:DATETIME_HUGE,F:DATETIME_SHORT_WITH_SECONDS,FF:DATETIME_MED_WITH_SECONDS,FFF:DATETIME_FULL_WITH_SECONDS,FFFF:DATETIME_HUGE_WITH_SECONDS};class Formatter{static create(ns,rs={}){return new Formatter(ns,rs)}static parseFormat(ns){let rs=null,is="",os=!1;const ss=[];for(let as=0;as<ns.length;as++){const ls=ns.charAt(as);ls==="'"?(is.length>0&&ss.push({literal:os||/^\s+$/.test(is),val:is}),rs=null,is="",os=!os):os||ls===rs?is+=ls:(is.length>0&&ss.push({literal:/^\s+$/.test(is),val:is}),is=ls,rs=ls)}return is.length>0&&ss.push({literal:os||/^\s+$/.test(is),val:is}),ss}static macroTokenToFormatOpts(ns){return macroTokenToFormatOpts[ns]}constructor(ns,rs){this.opts=rs,this.loc=ns,this.systemLoc=null}formatWithSystemDefault(ns,rs){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(ns,{...this.opts,...rs}).format()}dtFormatter(ns,rs={}){return this.loc.dtFormatter(ns,{...this.opts,...rs})}formatDateTime(ns,rs){return this.dtFormatter(ns,rs).format()}formatDateTimeParts(ns,rs){return this.dtFormatter(ns,rs).formatToParts()}formatInterval(ns,rs){return this.dtFormatter(ns.start,rs).dtf.formatRange(ns.start.toJSDate(),ns.end.toJSDate())}resolvedOptions(ns,rs){return this.dtFormatter(ns,rs).resolvedOptions()}num(ns,rs=0){if(this.opts.forceSimple)return padStart(ns,rs);const is={...this.opts};return rs>0&&(is.padTo=rs),this.loc.numberFormatter(is).format(ns)}formatDateTimeFromString(ns,rs){const is=this.loc.listingMode()==="en",os=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",ss=(ms,gs)=>this.loc.extract(ns,ms,gs),as=ms=>ns.isOffsetFixed&&ns.offset===0&&ms.allowZ?"Z":ns.isValid?ns.zone.formatOffset(ns.ts,ms.format):"",ls=()=>is?meridiemForDateTime(ns):ss({hour:"numeric",hourCycle:"h12"},"dayperiod"),cs=(ms,gs)=>is?monthForDateTime(ns,ms):ss(gs?{month:ms}:{month:ms,day:"numeric"},"month"),us=(ms,gs)=>is?weekdayForDateTime(ns,ms):ss(gs?{weekday:ms}:{weekday:ms,month:"long",day:"numeric"},"weekday"),ds=ms=>{const gs=Formatter.macroTokenToFormatOpts(ms);return gs?this.formatWithSystemDefault(ns,gs):ms},ps=ms=>is?eraForDateTime(ns,ms):ss({era:ms},"era"),hs=ms=>{switch(ms){case"S":return this.num(ns.millisecond);case"u":case"SSS":return this.num(ns.millisecond,3);case"s":return this.num(ns.second);case"ss":return this.num(ns.second,2);case"uu":return this.num(Math.floor(ns.millisecond/10),2);case"uuu":return this.num(Math.floor(ns.millisecond/100));case"m":return this.num(ns.minute);case"mm":return this.num(ns.minute,2);case"h":return this.num(ns.hour%12===0?12:ns.hour%12);case"hh":return this.num(ns.hour%12===0?12:ns.hour%12,2);case"H":return this.num(ns.hour);case"HH":return this.num(ns.hour,2);case"Z":return as({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return as({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return as({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return ns.zone.offsetName(ns.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return ns.zone.offsetName(ns.ts,{format:"long",locale:this.loc.locale});case"z":return ns.zoneName;case"a":return ls();case"d":return os?ss({day:"numeric"},"day"):this.num(ns.day);case"dd":return os?ss({day:"2-digit"},"day"):this.num(ns.day,2);case"c":return this.num(ns.weekday);case"ccc":return us("short",!0);case"cccc":return us("long",!0);case"ccccc":return us("narrow",!0);case"E":return this.num(ns.weekday);case"EEE":return us("short",!1);case"EEEE":return us("long",!1);case"EEEEE":return us("narrow",!1);case"L":return os?ss({month:"numeric",day:"numeric"},"month"):this.num(ns.month);case"LL":return os?ss({month:"2-digit",day:"numeric"},"month"):this.num(ns.month,2);case"LLL":return cs("short",!0);case"LLLL":return cs("long",!0);case"LLLLL":return cs("narrow",!0);case"M":return os?ss({month:"numeric"},"month"):this.num(ns.month);case"MM":return os?ss({month:"2-digit"},"month"):this.num(ns.month,2);case"MMM":return cs("short",!1);case"MMMM":return cs("long",!1);case"MMMMM":return cs("narrow",!1);case"y":return os?ss({year:"numeric"},"year"):this.num(ns.year);case"yy":return os?ss({year:"2-digit"},"year"):this.num(ns.year.toString().slice(-2),2);case"yyyy":return os?ss({year:"numeric"},"year"):this.num(ns.year,4);case"yyyyyy":return os?ss({year:"numeric"},"year"):this.num(ns.year,6);case"G":return ps("short");case"GG":return ps("long");case"GGGGG":return ps("narrow");case"kk":return this.num(ns.weekYear.toString().slice(-2),2);case"kkkk":return this.num(ns.weekYear,4);case"W":return this.num(ns.weekNumber);case"WW":return this.num(ns.weekNumber,2);case"n":return this.num(ns.localWeekNumber);case"nn":return this.num(ns.localWeekNumber,2);case"ii":return this.num(ns.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(ns.localWeekYear,4);case"o":return this.num(ns.ordinal);case"ooo":return this.num(ns.ordinal,3);case"q":return this.num(ns.quarter);case"qq":return this.num(ns.quarter,2);case"X":return this.num(Math.floor(ns.ts/1e3));case"x":return this.num(ns.ts);default:return ds(ms)}};return stringifyTokens(Formatter.parseFormat(rs),hs)}formatDurationFromString(ns,rs){const is=cs=>{switch(cs[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},os=cs=>us=>{const ds=is(us);return ds?this.num(cs.get(ds),us.length):us},ss=Formatter.parseFormat(rs),as=ss.reduce((cs,{literal:us,val:ds})=>us?cs:cs.concat(ds),[]),ls=ns.shiftTo(...as.map(is).filter(cs=>cs));return stringifyTokens(ss,os(ls))}}const ianaRegex=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function combineRegexes(...ts){const ns=ts.reduce((rs,is)=>rs+is.source,"");return RegExp("^".concat(ns,"$"))}function combineExtractors(...ts){return ns=>ts.reduce(([rs,is,os],ss)=>{const[as,ls,cs]=ss(ns,os);return[{...rs,...as},ls||is,cs]},[{},null,1]).slice(0,2)}function parse$1(ts,...ns){if(ts==null)return[null,null];for(const[rs,is]of ns){const os=rs.exec(ts);if(os)return is(os)}return[null,null]}function simpleParse(...ts){return(ns,rs)=>{const is={};let os;for(os=0;os<ts.length;os++)is[ts[os]]=parseInteger(ns[rs+os]);return[is,null,rs+os]}}const offsetRegex=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,isoExtendedZone="(?:".concat(offsetRegex.source,"?(?:\\[(").concat(ianaRegex.source,")\\])?)?"),isoTimeBaseRegex=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,isoTimeRegex=RegExp("".concat(isoTimeBaseRegex.source).concat(isoExtendedZone)),isoTimeExtensionRegex=RegExp("(?:T".concat(isoTimeRegex.source,")?")),isoYmdRegex=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,isoWeekRegex=/(\d{4})-?W(\d\d)(?:-?(\d))?/,isoOrdinalRegex=/(\d{4})-?(\d{3})/,extractISOWeekData=simpleParse("weekYear","weekNumber","weekDay"),extractISOOrdinalData=simpleParse("year","ordinal"),sqlYmdRegex=/(\d{4})-(\d\d)-(\d\d)/,sqlTimeRegex=RegExp("".concat(isoTimeBaseRegex.source," ?(?:").concat(offsetRegex.source,"|(").concat(ianaRegex.source,"))?")),sqlTimeExtensionRegex=RegExp("(?: ".concat(sqlTimeRegex.source,")?"));function int(ts,ns,rs){const is=ts[ns];return isUndefined$1(is)?rs:parseInteger(is)}function extractISOYmd(ts,ns){return[{year:int(ts,ns),month:int(ts,ns+1,1),day:int(ts,ns+2,1)},null,ns+3]}function extractISOTime(ts,ns){return[{hours:int(ts,ns,0),minutes:int(ts,ns+1,0),seconds:int(ts,ns+2,0),milliseconds:parseMillis(ts[ns+3])},null,ns+4]}function extractISOOffset(ts,ns){const rs=!ts[ns]&&!ts[ns+1],is=signedOffset(ts[ns+1],ts[ns+2]),os=rs?null:FixedOffsetZone.instance(is);return[{},os,ns+3]}function extractIANAZone(ts,ns){const rs=ts[ns]?IANAZone.create(ts[ns]):null;return[{},rs,ns+1]}const isoTimeOnly=RegExp("^T?".concat(isoTimeBaseRegex.source,"$")),isoDuration=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function extractISODuration(ts){const[ns,rs,is,os,ss,as,ls,cs,us]=ts,ds=ns[0]==="-",ps=cs&&cs[0]==="-",hs=(ms,gs=!1)=>ms!==void 0&&(gs||ms&&ds)?-ms:ms;return[{years:hs(parseFloating(rs)),months:hs(parseFloating(is)),weeks:hs(parseFloating(os)),days:hs(parseFloating(ss)),hours:hs(parseFloating(as)),minutes:hs(parseFloating(ls)),seconds:hs(parseFloating(cs),cs==="-0"),milliseconds:hs(parseMillis(us),ps)}]}const obsOffsets={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function fromStrings(ts,ns,rs,is,os,ss,as){const ls={year:ns.length===2?untruncateYear(parseInteger(ns)):parseInteger(ns),month:monthsShort.indexOf(rs)+1,day:parseInteger(is),hour:parseInteger(os),minute:parseInteger(ss)};return as&&(ls.second=parseInteger(as)),ts&&(ls.weekday=ts.length>3?weekdaysLong.indexOf(ts)+1:weekdaysShort.indexOf(ts)+1),ls}const rfc2822=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function extractRFC2822(ts){const[,ns,rs,is,os,ss,as,ls,cs,us,ds,ps]=ts,hs=fromStrings(ns,os,is,rs,ss,as,ls);let ms;return cs?ms=obsOffsets[cs]:us?ms=0:ms=signedOffset(ds,ps),[hs,new FixedOffsetZone(ms)]}function preprocessRFC2822(ts){return ts.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const rfc1123=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,rfc850=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,ascii=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function extractRFC1123Or850(ts){const[,ns,rs,is,os,ss,as,ls]=ts;return[fromStrings(ns,os,is,rs,ss,as,ls),FixedOffsetZone.utcInstance]}function extractASCII(ts){const[,ns,rs,is,os,ss,as,ls]=ts;return[fromStrings(ns,ls,rs,is,os,ss,as),FixedOffsetZone.utcInstance]}const isoYmdWithTimeExtensionRegex=combineRegexes(isoYmdRegex,isoTimeExtensionRegex),isoWeekWithTimeExtensionRegex=combineRegexes(isoWeekRegex,isoTimeExtensionRegex),isoOrdinalWithTimeExtensionRegex=combineRegexes(isoOrdinalRegex,isoTimeExtensionRegex),isoTimeCombinedRegex=combineRegexes(isoTimeRegex),extractISOYmdTimeAndOffset=combineExtractors(extractISOYmd,extractISOTime,extractISOOffset,extractIANAZone),extractISOWeekTimeAndOffset=combineExtractors(extractISOWeekData,extractISOTime,extractISOOffset,extractIANAZone),extractISOOrdinalDateAndTime=combineExtractors(extractISOOrdinalData,extractISOTime,extractISOOffset,extractIANAZone),extractISOTimeAndOffset=combineExtractors(extractISOTime,extractISOOffset,extractIANAZone);function parseISODate(ts){return parse$1(ts,[isoYmdWithTimeExtensionRegex,extractISOYmdTimeAndOffset],[isoWeekWithTimeExtensionRegex,extractISOWeekTimeAndOffset],[isoOrdinalWithTimeExtensionRegex,extractISOOrdinalDateAndTime],[isoTimeCombinedRegex,extractISOTimeAndOffset])}function parseRFC2822Date(ts){return parse$1(preprocessRFC2822(ts),[rfc2822,extractRFC2822])}function parseHTTPDate(ts){return parse$1(ts,[rfc1123,extractRFC1123Or850],[rfc850,extractRFC1123Or850],[ascii,extractASCII])}function parseISODuration(ts){return parse$1(ts,[isoDuration,extractISODuration])}const extractISOTimeOnly=combineExtractors(extractISOTime);function parseISOTimeOnly(ts){return parse$1(ts,[isoTimeOnly,extractISOTimeOnly])}const sqlYmdWithTimeExtensionRegex=combineRegexes(sqlYmdRegex,sqlTimeExtensionRegex),sqlTimeCombinedRegex=combineRegexes(sqlTimeRegex),extractISOTimeOffsetAndIANAZone=combineExtractors(extractISOTime,extractISOOffset,extractIANAZone);function parseSQL(ts){return parse$1(ts,[sqlYmdWithTimeExtensionRegex,extractISOYmdTimeAndOffset],[sqlTimeCombinedRegex,extractISOTimeOffsetAndIANAZone])}const INVALID$2="Invalid Duration",lowOrderMatrix={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},casualMatrix={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...lowOrderMatrix},daysInYearAccurate=146097/400,daysInMonthAccurate=146097/4800,accurateMatrix={years:{quarters:4,months:12,weeks:daysInYearAccurate/7,days:daysInYearAccurate,hours:daysInYearAccurate*24,minutes:daysInYearAccurate*24*60,seconds:daysInYearAccurate*24*60*60,milliseconds:daysInYearAccurate*24*60*60*1e3},quarters:{months:3,weeks:daysInYearAccurate/28,days:daysInYearAccurate/4,hours:daysInYearAccurate*24/4,minutes:daysInYearAccurate*24*60/4,seconds:daysInYearAccurate*24*60*60/4,milliseconds:daysInYearAccurate*24*60*60*1e3/4},months:{weeks:daysInMonthAccurate/7,days:daysInMonthAccurate,hours:daysInMonthAccurate*24,minutes:daysInMonthAccurate*24*60,seconds:daysInMonthAccurate*24*60*60,milliseconds:daysInMonthAccurate*24*60*60*1e3},...lowOrderMatrix},orderedUnits$1=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],reverseUnits=orderedUnits$1.slice(0).reverse();function clone$2(ts,ns,rs=!1){const is={values:rs?ns.values:{...ts.values,...ns.values||{}},loc:ts.loc.clone(ns.loc),conversionAccuracy:ns.conversionAccuracy||ts.conversionAccuracy,matrix:ns.matrix||ts.matrix};return new Duration(is)}function durationToMillis(ts,ns){var is;let rs=(is=ns.milliseconds)!=null?is:0;for(const os of reverseUnits.slice(1))ns[os]&&(rs+=ns[os]*ts[os].milliseconds);return rs}function normalizeValues(ts,ns){const rs=durationToMillis(ts,ns)<0?-1:1;orderedUnits$1.reduceRight((is,os)=>{if(isUndefined$1(ns[os]))return is;if(is){const ss=ns[is]*rs,as=ts[os][is],ls=Math.floor(ss/as);ns[os]+=ls*rs,ns[is]-=ls*as*rs}return os},null),orderedUnits$1.reduce((is,os)=>{if(isUndefined$1(ns[os]))return is;if(is){const ss=ns[is]%1;ns[is]-=ss,ns[os]+=ss*ts[is][os]}return os},null)}function removeZeroes(ts){const ns={};for(const[rs,is]of Object.entries(ts))is!==0&&(ns[rs]=is);return ns}class Duration{constructor(ns){const rs=ns.conversionAccuracy==="longterm"||!1;let is=rs?accurateMatrix:casualMatrix;ns.matrix&&(is=ns.matrix),this.values=ns.values,this.loc=ns.loc||Locale.create(),this.conversionAccuracy=rs?"longterm":"casual",this.invalid=ns.invalid||null,this.matrix=is,this.isLuxonDuration=!0}static fromMillis(ns,rs){return Duration.fromObject({milliseconds:ns},rs)}static fromObject(ns,rs={}){if(ns==null||typeof ns!="object")throw new InvalidArgumentError("Duration.fromObject: argument expected to be an object, got ".concat(ns===null?"null":typeof ns));return new Duration({values:normalizeObject(ns,Duration.normalizeUnit),loc:Locale.fromObject(rs),conversionAccuracy:rs.conversionAccuracy,matrix:rs.matrix})}static fromDurationLike(ns){if(isNumber$3(ns))return Duration.fromMillis(ns);if(Duration.isDuration(ns))return ns;if(typeof ns=="object")return Duration.fromObject(ns);throw new InvalidArgumentError("Unknown duration argument ".concat(ns," of type ").concat(typeof ns))}static fromISO(ns,rs){const[is]=parseISODuration(ns);return is?Duration.fromObject(is,rs):Duration.invalid("unparsable",'the input "'.concat(ns,"\" can't be parsed as ISO 8601"))}static fromISOTime(ns,rs){const[is]=parseISOTimeOnly(ns);return is?Duration.fromObject(is,rs):Duration.invalid("unparsable",'the input "'.concat(ns,"\" can't be parsed as ISO 8601"))}static invalid(ns,rs=null){if(!ns)throw new InvalidArgumentError("need to specify a reason the Duration is invalid");const is=ns instanceof Invalid?ns:new Invalid(ns,rs);if(Settings$1.throwOnInvalid)throw new InvalidDurationError(is);return new Duration({invalid:is})}static normalizeUnit(ns){const rs={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[ns&&ns.toLowerCase()];if(!rs)throw new InvalidUnitError(ns);return rs}static isDuration(ns){return ns&&ns.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(ns,rs={}){const is={...rs,floor:rs.round!==!1&&rs.floor!==!1};return this.isValid?Formatter.create(this.loc,is).formatDurationFromString(this,ns):INVALID$2}toHuman(ns={}){if(!this.isValid)return INVALID$2;const rs=orderedUnits$1.map(is=>{const os=this.values[is];return isUndefined$1(os)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...ns,unit:is.slice(0,-1)}).format(os)}).filter(is=>is);return this.loc.listFormatter({type:"conjunction",style:ns.listStyle||"narrow",...ns}).format(rs)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let ns="P";return this.years!==0&&(ns+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(ns+=this.months+this.quarters*3+"M"),this.weeks!==0&&(ns+=this.weeks+"W"),this.days!==0&&(ns+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(ns+="T"),this.hours!==0&&(ns+=this.hours+"H"),this.minutes!==0&&(ns+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(ns+=roundTo(this.seconds+this.milliseconds/1e3,3)+"S"),ns==="P"&&(ns+="T0S"),ns}toISOTime(ns={}){if(!this.isValid)return null;const rs=this.toMillis();return rs<0||rs>=864e5?null:(ns={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...ns,includeOffset:!1},DateTime.fromMillis(rs,{zone:"UTC"}).toISOTime(ns))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?"Duration { values: ".concat(JSON.stringify(this.values)," }"):"Duration { Invalid, reason: ".concat(this.invalidReason," }")}toMillis(){return this.isValid?durationToMillis(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(ns){if(!this.isValid)return this;const rs=Duration.fromDurationLike(ns),is={};for(const os of orderedUnits$1)(hasOwnProperty$e(rs.values,os)||hasOwnProperty$e(this.values,os))&&(is[os]=rs.get(os)+this.get(os));return clone$2(this,{values:is},!0)}minus(ns){if(!this.isValid)return this;const rs=Duration.fromDurationLike(ns);return this.plus(rs.negate())}mapUnits(ns){if(!this.isValid)return this;const rs={};for(const is of Object.keys(this.values))rs[is]=asNumber(ns(this.values[is],is));return clone$2(this,{values:rs},!0)}get(ns){return this[Duration.normalizeUnit(ns)]}set(ns){if(!this.isValid)return this;const rs={...this.values,...normalizeObject(ns,Duration.normalizeUnit)};return clone$2(this,{values:rs})}reconfigure({locale:ns,numberingSystem:rs,conversionAccuracy:is,matrix:os}={}){const as={loc:this.loc.clone({locale:ns,numberingSystem:rs}),matrix:os,conversionAccuracy:is};return clone$2(this,as)}as(ns){return this.isValid?this.shiftTo(ns).get(ns):NaN}normalize(){if(!this.isValid)return this;const ns=this.toObject();return normalizeValues(this.matrix,ns),clone$2(this,{values:ns},!0)}rescale(){if(!this.isValid)return this;const ns=removeZeroes(this.normalize().shiftToAll().toObject());return clone$2(this,{values:ns},!0)}shiftTo(...ns){if(!this.isValid)return this;if(ns.length===0)return this;ns=ns.map(as=>Duration.normalizeUnit(as));const rs={},is={},os=this.toObject();let ss;for(const as of orderedUnits$1)if(ns.indexOf(as)>=0){ss=as;let ls=0;for(const us in is)ls+=this.matrix[us][as]*is[us],is[us]=0;isNumber$3(os[as])&&(ls+=os[as]);const cs=Math.trunc(ls);rs[as]=cs,is[as]=(ls*1e3-cs*1e3)/1e3}else isNumber$3(os[as])&&(is[as]=os[as]);for(const as in is)is[as]!==0&&(rs[ss]+=as===ss?is[as]:is[as]/this.matrix[ss][as]);return normalizeValues(this.matrix,rs),clone$2(this,{values:rs},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const ns={};for(const rs of Object.keys(this.values))ns[rs]=this.values[rs]===0?0:-this.values[rs];return clone$2(this,{values:ns},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(ns){if(!this.isValid||!ns.isValid||!this.loc.equals(ns.loc))return!1;function rs(is,os){return is===void 0||is===0?os===void 0||os===0:is===os}for(const is of orderedUnits$1)if(!rs(this.values[is],ns.values[is]))return!1;return!0}}const INVALID$1="Invalid Interval";function validateStartEnd(ts,ns){return!ts||!ts.isValid?Interval.invalid("missing or invalid start"):!ns||!ns.isValid?Interval.invalid("missing or invalid end"):ns<ts?Interval.invalid("end before start","The end of an interval must be after its start, but you had start=".concat(ts.toISO()," and end=").concat(ns.toISO())):null}class Interval{constructor(ns){this.s=ns.start,this.e=ns.end,this.invalid=ns.invalid||null,this.isLuxonInterval=!0}static invalid(ns,rs=null){if(!ns)throw new InvalidArgumentError("need to specify a reason the Interval is invalid");const is=ns instanceof Invalid?ns:new Invalid(ns,rs);if(Settings$1.throwOnInvalid)throw new InvalidIntervalError(is);return new Interval({invalid:is})}static fromDateTimes(ns,rs){const is=friendlyDateTime(ns),os=friendlyDateTime(rs),ss=validateStartEnd(is,os);return ss==null?new Interval({start:is,end:os}):ss}static after(ns,rs){const is=Duration.fromDurationLike(rs),os=friendlyDateTime(ns);return Interval.fromDateTimes(os,os.plus(is))}static before(ns,rs){const is=Duration.fromDurationLike(rs),os=friendlyDateTime(ns);return Interval.fromDateTimes(os.minus(is),os)}static fromISO(ns,rs){const[is,os]=(ns||"").split("/",2);if(is&&os){let ss,as;try{ss=DateTime.fromISO(is,rs),as=ss.isValid}catch{as=!1}let ls,cs;try{ls=DateTime.fromISO(os,rs),cs=ls.isValid}catch{cs=!1}if(as&&cs)return Interval.fromDateTimes(ss,ls);if(as){const us=Duration.fromISO(os,rs);if(us.isValid)return Interval.after(ss,us)}else if(cs){const us=Duration.fromISO(is,rs);if(us.isValid)return Interval.before(ls,us)}}return Interval.invalid("unparsable",'the input "'.concat(ns,"\" can't be parsed as ISO 8601"))}static isInterval(ns){return ns&&ns.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(ns="milliseconds"){return this.isValid?this.toDuration(ns).get(ns):NaN}count(ns="milliseconds",rs){if(!this.isValid)return NaN;const is=this.start.startOf(ns,rs);let os;return rs!=null&&rs.useLocaleWeeks?os=this.end.reconfigure({locale:is.locale}):os=this.end,os=os.startOf(ns,rs),Math.floor(os.diff(is,ns).get(ns))+(os.valueOf()!==this.end.valueOf())}hasSame(ns){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,ns):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(ns){return this.isValid?this.s>ns:!1}isBefore(ns){return this.isValid?this.e<=ns:!1}contains(ns){return this.isValid?this.s<=ns&&this.e>ns:!1}set({start:ns,end:rs}={}){return this.isValid?Interval.fromDateTimes(ns||this.s,rs||this.e):this}splitAt(...ns){if(!this.isValid)return[];const rs=ns.map(friendlyDateTime).filter(as=>this.contains(as)).sort((as,ls)=>as.toMillis()-ls.toMillis()),is=[];let{s:os}=this,ss=0;for(;os<this.e;){const as=rs[ss]||this.e,ls=+as>+this.e?this.e:as;is.push(Interval.fromDateTimes(os,ls)),os=ls,ss+=1}return is}splitBy(ns){const rs=Duration.fromDurationLike(ns);if(!this.isValid||!rs.isValid||rs.as("milliseconds")===0)return[];let{s:is}=this,os=1,ss;const as=[];for(;is<this.e;){const ls=this.start.plus(rs.mapUnits(cs=>cs*os));ss=+ls>+this.e?this.e:ls,as.push(Interval.fromDateTimes(is,ss)),is=ss,os+=1}return as}divideEqually(ns){return this.isValid?this.splitBy(this.length()/ns).slice(0,ns):[]}overlaps(ns){return this.e>ns.s&&this.s<ns.e}abutsStart(ns){return this.isValid?+this.e==+ns.s:!1}abutsEnd(ns){return this.isValid?+ns.e==+this.s:!1}engulfs(ns){return this.isValid?this.s<=ns.s&&this.e>=ns.e:!1}equals(ns){return!this.isValid||!ns.isValid?!1:this.s.equals(ns.s)&&this.e.equals(ns.e)}intersection(ns){if(!this.isValid)return this;const rs=this.s>ns.s?this.s:ns.s,is=this.e<ns.e?this.e:ns.e;return rs>=is?null:Interval.fromDateTimes(rs,is)}union(ns){if(!this.isValid)return this;const rs=this.s<ns.s?this.s:ns.s,is=this.e>ns.e?this.e:ns.e;return Interval.fromDateTimes(rs,is)}static merge(ns){const[rs,is]=ns.sort((os,ss)=>os.s-ss.s).reduce(([os,ss],as)=>ss?ss.overlaps(as)||ss.abutsStart(as)?[os,ss.union(as)]:[os.concat([ss]),as]:[os,as],[[],null]);return is&&rs.push(is),rs}static xor(ns){let rs=null,is=0;const os=[],ss=ns.map(cs=>[{time:cs.s,type:"s"},{time:cs.e,type:"e"}]),as=Array.prototype.concat(...ss),ls=as.sort((cs,us)=>cs.time-us.time);for(const cs of ls)is+=cs.type==="s"?1:-1,is===1?rs=cs.time:(rs&&+rs!=+cs.time&&os.push(Interval.fromDateTimes(rs,cs.time)),rs=null);return Interval.merge(os)}difference(...ns){return Interval.xor([this].concat(ns)).map(rs=>this.intersection(rs)).filter(rs=>rs&&!rs.isEmpty())}toString(){return this.isValid?"[".concat(this.s.toISO()," â ").concat(this.e.toISO(),")"):INVALID$1}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?"Interval { start: ".concat(this.s.toISO(),", end: ").concat(this.e.toISO()," }"):"Interval { Invalid, reason: ".concat(this.invalidReason," }")}toLocaleString(ns=DATE_SHORT,rs={}){return this.isValid?Formatter.create(this.s.loc.clone(rs),ns).formatInterval(this):INVALID$1}toISO(ns){return this.isValid?"".concat(this.s.toISO(ns),"/").concat(this.e.toISO(ns)):INVALID$1}toISODate(){return this.isValid?"".concat(this.s.toISODate(),"/").concat(this.e.toISODate()):INVALID$1}toISOTime(ns){return this.isValid?"".concat(this.s.toISOTime(ns),"/").concat(this.e.toISOTime(ns)):INVALID$1}toFormat(ns,{separator:rs=" â "}={}){return this.isValid?"".concat(this.s.toFormat(ns)).concat(rs).concat(this.e.toFormat(ns)):INVALID$1}toDuration(ns,rs){return this.isValid?this.e.diff(this.s,ns,rs):Duration.invalid(this.invalidReason)}mapEndpoints(ns){return Interval.fromDateTimes(ns(this.s),ns(this.e))}}let Info$1=class{static hasDST(ns=Settings$1.defaultZone){const rs=DateTime.now().setZone(ns).set({month:12});return!ns.isUniversal&&rs.offset!==rs.set({month:6}).offset}static isValidIANAZone(ns){return IANAZone.isValidZone(ns)}static normalizeZone(ns){return normalizeZone(ns,Settings$1.defaultZone)}static getStartOfWeek({locale:ns=null,locObj:rs=null}={}){return(rs||Locale.create(ns)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:ns=null,locObj:rs=null}={}){return(rs||Locale.create(ns)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:ns=null,locObj:rs=null}={}){return(rs||Locale.create(ns)).getWeekendDays().slice()}static months(ns="long",{locale:rs=null,numberingSystem:is=null,locObj:os=null,outputCalendar:ss="gregory"}={}){return(os||Locale.create(rs,is,ss)).months(ns)}static monthsFormat(ns="long",{locale:rs=null,numberingSystem:is=null,locObj:os=null,outputCalendar:ss="gregory"}={}){return(os||Locale.create(rs,is,ss)).months(ns,!0)}static weekdays(ns="long",{locale:rs=null,numberingSystem:is=null,locObj:os=null}={}){return(os||Locale.create(rs,is,null)).weekdays(ns)}static weekdaysFormat(ns="long",{locale:rs=null,numberingSystem:is=null,locObj:os=null}={}){return(os||Locale.create(rs,is,null)).weekdays(ns,!0)}static meridiems({locale:ns=null}={}){return Locale.create(ns).meridiems()}static eras(ns="short",{locale:rs=null}={}){return Locale.create(rs,null,"gregory").eras(ns)}static features(){return{relative:hasRelative(),localeWeek:hasLocaleWeekInfo()}}};function dayDiff(ts,ns){const rs=os=>os.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),is=rs(ns)-rs(ts);return Math.floor(Duration.fromMillis(is).as("days"))}function highOrderDiffs(ts,ns,rs){const is=[["years",(cs,us)=>us.year-cs.year],["quarters",(cs,us)=>us.quarter-cs.quarter+(us.year-cs.year)*4],["months",(cs,us)=>us.month-cs.month+(us.year-cs.year)*12],["weeks",(cs,us)=>{const ds=dayDiff(cs,us);return(ds-ds%7)/7}],["days",dayDiff]],os={},ss=ts;let as,ls;for(const[cs,us]of is)rs.indexOf(cs)>=0&&(as=cs,os[cs]=us(ts,ns),ls=ss.plus(os),ls>ns?(os[cs]--,ts=ss.plus(os),ts>ns&&(ls=ts,os[cs]--,ts=ss.plus(os))):ts=ls);return[ts,os,ls,as]}function diff(ts,ns,rs,is){let[os,ss,as,ls]=highOrderDiffs(ts,ns,rs);const cs=ns-os,us=rs.filter(ps=>["hours","minutes","seconds","milliseconds"].indexOf(ps)>=0);us.length===0&&(as<ns&&(as=os.plus({[ls]:1})),as!==os&&(ss[ls]=(ss[ls]||0)+cs/(as-os)));const ds=Duration.fromObject(ss,is);return us.length>0?Duration.fromMillis(cs,is).shiftTo(...us).plus(ds):ds}const numberingSystems={arab:"[Ù -Ù©]",arabext:"[Û°-Û¹]",bali:"[á­-á­]",beng:"[à§¦-à§¯]",deva:"[à¥¦-à¥¯]",fullwide:"[ï¼-ï¼]",gujr:"[à«¦-à«¯]",hanidec:"[ã|ä¸|äº|ä¸|å|äº|å­|ä¸|å«|ä¹]",khmr:"[á -á©]",knda:"[à³¦-à³¯]",laoo:"[à»-à»]",limb:"[á¥-á¥]",mlym:"[àµ¦-àµ¯]",mong:"[á -á ]",mymr:"[á-á]",orya:"[à­¦-à­¯]",tamldec:"[à¯¦-à¯¯]",telu:"[à±¦-à±¯]",thai:"[à¹-à¹]",tibt:"[à¼ -à¼©]",latn:"\\d"},numberingSystemsUTF16={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},hanidecChars=numberingSystems.hanidec.replace(/[\[|\]]/g,"").split("");function parseDigits(ts){let ns=parseInt(ts,10);if(isNaN(ns)){ns="";for(let rs=0;rs<ts.length;rs++){const is=ts.charCodeAt(rs);if(ts[rs].search(numberingSystems.hanidec)!==-1)ns+=hanidecChars.indexOf(ts[rs]);else for(const os in numberingSystemsUTF16){const[ss,as]=numberingSystemsUTF16[os];is>=ss&&is<=as&&(ns+=is-ss)}}return parseInt(ns,10)}else return ns}function digitRegex({numberingSystem:ts},ns=""){return new RegExp("".concat(numberingSystems[ts||"latn"]).concat(ns))}const MISSING_FTP="missing Intl.DateTimeFormat.formatToParts support";function intUnit(ts,ns=rs=>rs){return{regex:ts,deser:([rs])=>ns(parseDigits(rs))}}const NBSP=String.fromCharCode(160),spaceOrNBSP="[ ".concat(NBSP,"]"),spaceOrNBSPRegExp=new RegExp(spaceOrNBSP,"g");function fixListRegex(ts){return ts.replace(/\./g,"\\.?").replace(spaceOrNBSPRegExp,spaceOrNBSP)}function stripInsensitivities(ts){return ts.replace(/\./g,"").replace(spaceOrNBSPRegExp," ").toLowerCase()}function oneOf(ts,ns){return ts===null?null:{regex:RegExp(ts.map(fixListRegex).join("|")),deser:([rs])=>ts.findIndex(is=>stripInsensitivities(rs)===stripInsensitivities(is))+ns}}function offset$2(ts,ns){return{regex:ts,deser:([,rs,is])=>signedOffset(rs,is),groups:ns}}function simple(ts){return{regex:ts,deser:([ns])=>ns}}function escapeToken(ts){return ts.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function unitForToken(ts,ns){const rs=digitRegex(ns),is=digitRegex(ns,"{2}"),os=digitRegex(ns,"{3}"),ss=digitRegex(ns,"{4}"),as=digitRegex(ns,"{6}"),ls=digitRegex(ns,"{1,2}"),cs=digitRegex(ns,"{1,3}"),us=digitRegex(ns,"{1,6}"),ds=digitRegex(ns,"{1,9}"),ps=digitRegex(ns,"{2,4}"),hs=digitRegex(ns,"{4,6}"),ms=vs=>({regex:RegExp(escapeToken(vs.val)),deser:([bs])=>bs,literal:!0}),ys=(vs=>{if(ts.literal)return ms(vs);switch(vs.val){case"G":return oneOf(ns.eras("short"),0);case"GG":return oneOf(ns.eras("long"),0);case"y":return intUnit(us);case"yy":return intUnit(ps,untruncateYear);case"yyyy":return intUnit(ss);case"yyyyy":return intUnit(hs);case"yyyyyy":return intUnit(as);case"M":return intUnit(ls);case"MM":return intUnit(is);case"MMM":return oneOf(ns.months("short",!0),1);case"MMMM":return oneOf(ns.months("long",!0),1);case"L":return intUnit(ls);case"LL":return intUnit(is);case"LLL":return oneOf(ns.months("short",!1),1);case"LLLL":return oneOf(ns.months("long",!1),1);case"d":return intUnit(ls);case"dd":return intUnit(is);case"o":return intUnit(cs);case"ooo":return intUnit(os);case"HH":return intUnit(is);case"H":return intUnit(ls);case"hh":return intUnit(is);case"h":return intUnit(ls);case"mm":return intUnit(is);case"m":return intUnit(ls);case"q":return intUnit(ls);case"qq":return intUnit(is);case"s":return intUnit(ls);case"ss":return intUnit(is);case"S":return intUnit(cs);case"SSS":return intUnit(os);case"u":return simple(ds);case"uu":return simple(ls);case"uuu":return intUnit(rs);case"a":return oneOf(ns.meridiems(),0);case"kkkk":return intUnit(ss);case"kk":return intUnit(ps,untruncateYear);case"W":return intUnit(ls);case"WW":return intUnit(is);case"E":case"c":return intUnit(rs);case"EEE":return oneOf(ns.weekdays("short",!1),1);case"EEEE":return oneOf(ns.weekdays("long",!1),1);case"ccc":return oneOf(ns.weekdays("short",!0),1);case"cccc":return oneOf(ns.weekdays("long",!0),1);case"Z":case"ZZ":return offset$2(new RegExp("([+-]".concat(ls.source,")(?::(").concat(is.source,"))?")),2);case"ZZZ":return offset$2(new RegExp("([+-]".concat(ls.source,")(").concat(is.source,")?")),2);case"z":return simple(/[a-z_+-/]{1,256}?/i);case" ":return simple(/[^\S\n\r]/);default:return ms(vs)}})(ts)||{invalidReason:MISSING_FTP};return ys.token=ts,ys}const partTypeStyleToTokenVal={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function tokenForPart(ts,ns,rs){const{type:is,value:os}=ts;if(is==="literal"){const cs=/^\s+$/.test(os);return{literal:!cs,val:cs?" ":os}}const ss=ns[is];let as=is;is==="hour"&&(ns.hour12!=null?as=ns.hour12?"hour12":"hour24":ns.hourCycle!=null?ns.hourCycle==="h11"||ns.hourCycle==="h12"?as="hour12":as="hour24":as=rs.hour12?"hour12":"hour24");let ls=partTypeStyleToTokenVal[as];if(typeof ls=="object"&&(ls=ls[ss]),ls)return{literal:!1,val:ls}}function buildRegex(ts){const ns=ts.map(rs=>rs.regex).reduce((rs,is)=>"".concat(rs,"(").concat(is.source,")"),"");return["^".concat(ns,"$"),ts]}function match(ts,ns,rs){const is=ts.match(ns);if(is){const os={};let ss=1;for(const as in rs)if(hasOwnProperty$e(rs,as)){const ls=rs[as],cs=ls.groups?ls.groups+1:1;!ls.literal&&ls.token&&(os[ls.token.val[0]]=ls.deser(is.slice(ss,ss+cs))),ss+=cs}return[is,os]}else return[is,{}]}function dateTimeFromMatches(ts){const ns=ss=>{switch(ss){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let rs=null,is;return isUndefined$1(ts.z)||(rs=IANAZone.create(ts.z)),isUndefined$1(ts.Z)||(rs||(rs=new FixedOffsetZone(ts.Z)),is=ts.Z),isUndefined$1(ts.q)||(ts.M=(ts.q-1)*3+1),isUndefined$1(ts.h)||(ts.h<12&&ts.a===1?ts.h+=12:ts.h===12&&ts.a===0&&(ts.h=0)),ts.G===0&&ts.y&&(ts.y=-ts.y),isUndefined$1(ts.u)||(ts.S=parseMillis(ts.u)),[Object.keys(ts).reduce((ss,as)=>{const ls=ns(as);return ls&&(ss[ls]=ts[as]),ss},{}),rs,is]}let dummyDateTimeCache=null;function getDummyDateTime(){return dummyDateTimeCache||(dummyDateTimeCache=DateTime.fromMillis(1555555555555)),dummyDateTimeCache}function maybeExpandMacroToken(ts,ns){if(ts.literal)return ts;const rs=Formatter.macroTokenToFormatOpts(ts.val),is=formatOptsToTokens(rs,ns);return is==null||is.includes(void 0)?ts:is}function expandMacroTokens(ts,ns){return Array.prototype.concat(...ts.map(rs=>maybeExpandMacroToken(rs,ns)))}function explainFromTokens(ts,ns,rs){const is=expandMacroTokens(Formatter.parseFormat(rs),ts),os=is.map(as=>unitForToken(as,ts)),ss=os.find(as=>as.invalidReason);if(ss)return{input:ns,tokens:is,invalidReason:ss.invalidReason};{const[as,ls]=buildRegex(os),cs=RegExp(as,"i"),[us,ds]=match(ns,cs,ls),[ps,hs,ms]=ds?dateTimeFromMatches(ds):[null,null,void 0];if(hasOwnProperty$e(ds,"a")&&hasOwnProperty$e(ds,"H"))throw new ConflictingSpecificationError("Can't include meridiem when specifying 24-hour format");return{input:ns,tokens:is,regex:cs,rawMatches:us,matches:ds,result:ps,zone:hs,specificOffset:ms}}}function parseFromTokens(ts,ns,rs){const{result:is,zone:os,specificOffset:ss,invalidReason:as}=explainFromTokens(ts,ns,rs);return[is,os,ss,as]}function formatOptsToTokens(ts,ns){if(!ts)return null;const is=Formatter.create(ns,ts).dtFormatter(getDummyDateTime()),os=is.formatToParts(),ss=is.resolvedOptions();return os.map(as=>tokenForPart(as,ts,ss))}const INVALID="Invalid DateTime",MAX_DATE=864e13;function unsupportedZone(ts){return new Invalid("unsupported zone",'the zone "'.concat(ts.name,'" is not supported'))}function possiblyCachedWeekData(ts){return ts.weekData===null&&(ts.weekData=gregorianToWeek(ts.c)),ts.weekData}function possiblyCachedLocalWeekData(ts){return ts.localWeekData===null&&(ts.localWeekData=gregorianToWeek(ts.c,ts.loc.getMinDaysInFirstWeek(),ts.loc.getStartOfWeek())),ts.localWeekData}function clone$1(ts,ns){const rs={ts:ts.ts,zone:ts.zone,c:ts.c,o:ts.o,loc:ts.loc,invalid:ts.invalid};return new DateTime({...rs,...ns,old:rs})}function fixOffset(ts,ns,rs){let is=ts-ns*60*1e3;const os=rs.offset(is);if(ns===os)return[is,ns];is-=(os-ns)*60*1e3;const ss=rs.offset(is);return os===ss?[is,os]:[ts-Math.min(os,ss)*60*1e3,Math.max(os,ss)]}function tsToObj(ts,ns){ts+=ns*60*1e3;const rs=new Date(ts);return{year:rs.getUTCFullYear(),month:rs.getUTCMonth()+1,day:rs.getUTCDate(),hour:rs.getUTCHours(),minute:rs.getUTCMinutes(),second:rs.getUTCSeconds(),millisecond:rs.getUTCMilliseconds()}}function objToTS(ts,ns,rs){return fixOffset(objToLocalTS(ts),ns,rs)}function adjustTime(ts,ns){const rs=ts.o,is=ts.c.year+Math.trunc(ns.years),os=ts.c.month+Math.trunc(ns.months)+Math.trunc(ns.quarters)*3,ss={...ts.c,year:is,month:os,day:Math.min(ts.c.day,daysInMonth(is,os))+Math.trunc(ns.days)+Math.trunc(ns.weeks)*7},as=Duration.fromObject({years:ns.years-Math.trunc(ns.years),quarters:ns.quarters-Math.trunc(ns.quarters),months:ns.months-Math.trunc(ns.months),weeks:ns.weeks-Math.trunc(ns.weeks),days:ns.days-Math.trunc(ns.days),hours:ns.hours,minutes:ns.minutes,seconds:ns.seconds,milliseconds:ns.milliseconds}).as("milliseconds"),ls=objToLocalTS(ss);let[cs,us]=fixOffset(ls,rs,ts.zone);return as!==0&&(cs+=as,us=ts.zone.offset(cs)),{ts:cs,o:us}}function parseDataToDateTime(ts,ns,rs,is,os,ss){const{setZone:as,zone:ls}=rs;if(ts&&Object.keys(ts).length!==0||ns){const cs=ns||ls,us=DateTime.fromObject(ts,{...rs,zone:cs,specificOffset:ss});return as?us:us.setZone(ls)}else return DateTime.invalid(new Invalid("unparsable",'the input "'.concat(os,"\" can't be parsed as ").concat(is)))}function toTechFormat(ts,ns,rs=!0){return ts.isValid?Formatter.create(Locale.create("en-US"),{allowZ:rs,forceSimple:!0}).formatDateTimeFromString(ts,ns):null}function toISODate(ts,ns){const rs=ts.c.year>9999||ts.c.year<0;let is="";return rs&&ts.c.year>=0&&(is+="+"),is+=padStart(ts.c.year,rs?6:4),ns?(is+="-",is+=padStart(ts.c.month),is+="-",is+=padStart(ts.c.day)):(is+=padStart(ts.c.month),is+=padStart(ts.c.day)),is}function toISOTime(ts,ns,rs,is,os,ss){let as=padStart(ts.c.hour);return ns?(as+=":",as+=padStart(ts.c.minute),(ts.c.millisecond!==0||ts.c.second!==0||!rs)&&(as+=":")):as+=padStart(ts.c.minute),(ts.c.millisecond!==0||ts.c.second!==0||!rs)&&(as+=padStart(ts.c.second),(ts.c.millisecond!==0||!is)&&(as+=".",as+=padStart(ts.c.millisecond,3))),os&&(ts.isOffsetFixed&&ts.offset===0&&!ss?as+="Z":ts.o<0?(as+="-",as+=padStart(Math.trunc(-ts.o/60)),as+=":",as+=padStart(Math.trunc(-ts.o%60))):(as+="+",as+=padStart(Math.trunc(ts.o/60)),as+=":",as+=padStart(Math.trunc(ts.o%60)))),ss&&(as+="["+ts.zone.ianaName+"]"),as}const defaultUnitValues={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},defaultWeekUnitValues={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},defaultOrdinalUnitValues={ordinal:1,hour:0,minute:0,second:0,millisecond:0},orderedUnits=["year","month","day","hour","minute","second","millisecond"],orderedWeekUnits=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],orderedOrdinalUnits=["year","ordinal","hour","minute","second","millisecond"];function normalizeUnit(ts){const ns={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[ts.toLowerCase()];if(!ns)throw new InvalidUnitError(ts);return ns}function normalizeUnitWithLocalWeeks(ts){switch(ts.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return normalizeUnit(ts)}}function quickDT(ts,ns){const rs=normalizeZone(ns.zone,Settings$1.defaultZone),is=Locale.fromObject(ns),os=Settings$1.now();let ss,as;if(isUndefined$1(ts.year))ss=os;else{for(const us of orderedUnits)isUndefined$1(ts[us])&&(ts[us]=defaultUnitValues[us]);const ls=hasInvalidGregorianData(ts)||hasInvalidTimeData(ts);if(ls)return DateTime.invalid(ls);const cs=rs.offset(os);[ss,as]=objToTS(ts,cs,rs)}return new DateTime({ts:ss,zone:rs,loc:is,o:as})}function diffRelative(ts,ns,rs){const is=isUndefined$1(rs.round)?!0:rs.round,os=(as,ls)=>(as=roundTo(as,is||rs.calendary?0:2,!0),ns.loc.clone(rs).relFormatter(rs).format(as,ls)),ss=as=>rs.calendary?ns.hasSame(ts,as)?0:ns.startOf(as).diff(ts.startOf(as),as).get(as):ns.diff(ts,as).get(as);if(rs.unit)return os(ss(rs.unit),rs.unit);for(const as of rs.units){const ls=ss(as);if(Math.abs(ls)>=1)return os(ls,as)}return os(ts>ns?-0:0,rs.units[rs.units.length-1])}function lastOpts(ts){let ns={},rs;return ts.length>0&&typeof ts[ts.length-1]=="object"?(ns=ts[ts.length-1],rs=Array.from(ts).slice(0,ts.length-1)):rs=Array.from(ts),[ns,rs]}class DateTime{constructor(ns){const rs=ns.zone||Settings$1.defaultZone;let is=ns.invalid||(Number.isNaN(ns.ts)?new Invalid("invalid input"):null)||(rs.isValid?null:unsupportedZone(rs));this.ts=isUndefined$1(ns.ts)?Settings$1.now():ns.ts;let os=null,ss=null;if(!is)if(ns.old&&ns.old.ts===this.ts&&ns.old.zone.equals(rs))[os,ss]=[ns.old.c,ns.old.o];else{const ls=rs.offset(this.ts);os=tsToObj(this.ts,ls),is=Number.isNaN(os.year)?new Invalid("invalid input"):null,os=is?null:os,ss=is?null:ls}this._zone=rs,this.loc=ns.loc||Locale.create(),this.invalid=is,this.weekData=null,this.localWeekData=null,this.c=os,this.o=ss,this.isLuxonDateTime=!0}static now(){return new DateTime({})}static local(){const[ns,rs]=lastOpts(arguments),[is,os,ss,as,ls,cs,us]=rs;return quickDT({year:is,month:os,day:ss,hour:as,minute:ls,second:cs,millisecond:us},ns)}static utc(){const[ns,rs]=lastOpts(arguments),[is,os,ss,as,ls,cs,us]=rs;return ns.zone=FixedOffsetZone.utcInstance,quickDT({year:is,month:os,day:ss,hour:as,minute:ls,second:cs,millisecond:us},ns)}static fromJSDate(ns,rs={}){const is=isDate$2(ns)?ns.valueOf():NaN;if(Number.isNaN(is))return DateTime.invalid("invalid input");const os=normalizeZone(rs.zone,Settings$1.defaultZone);return os.isValid?new DateTime({ts:is,zone:os,loc:Locale.fromObject(rs)}):DateTime.invalid(unsupportedZone(os))}static fromMillis(ns,rs={}){if(isNumber$3(ns))return ns<-MAX_DATE||ns>MAX_DATE?DateTime.invalid("Timestamp out of range"):new DateTime({ts:ns,zone:normalizeZone(rs.zone,Settings$1.defaultZone),loc:Locale.fromObject(rs)});throw new InvalidArgumentError("fromMillis requires a numerical input, but received a ".concat(typeof ns," with value ").concat(ns))}static fromSeconds(ns,rs={}){if(isNumber$3(ns))return new DateTime({ts:ns*1e3,zone:normalizeZone(rs.zone,Settings$1.defaultZone),loc:Locale.fromObject(rs)});throw new InvalidArgumentError("fromSeconds requires a numerical input")}static fromObject(ns,rs={}){ns=ns||{};const is=normalizeZone(rs.zone,Settings$1.defaultZone);if(!is.isValid)return DateTime.invalid(unsupportedZone(is));const os=Locale.fromObject(rs),ss=normalizeObject(ns,normalizeUnitWithLocalWeeks),{minDaysInFirstWeek:as,startOfWeek:ls}=usesLocalWeekValues(ss,os),cs=Settings$1.now(),us=isUndefined$1(rs.specificOffset)?is.offset(cs):rs.specificOffset,ds=!isUndefined$1(ss.ordinal),ps=!isUndefined$1(ss.year),hs=!isUndefined$1(ss.month)||!isUndefined$1(ss.day),ms=ps||hs,gs=ss.weekYear||ss.weekNumber;if((ms||ds)&&gs)throw new ConflictingSpecificationError("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(hs&&ds)throw new ConflictingSpecificationError("Can't mix ordinal dates with month/day");const ys=gs||ss.weekday&&!ms;let vs,bs,Ss=tsToObj(cs,us);ys?(vs=orderedWeekUnits,bs=defaultWeekUnitValues,Ss=gregorianToWeek(Ss,as,ls)):ds?(vs=orderedOrdinalUnits,bs=defaultOrdinalUnitValues,Ss=gregorianToOrdinal(Ss)):(vs=orderedUnits,bs=defaultUnitValues);let $s=!1;for(const Ts of vs){const Rs=ss[Ts];isUndefined$1(Rs)?$s?ss[Ts]=bs[Ts]:ss[Ts]=Ss[Ts]:$s=!0}const Cs=ys?hasInvalidWeekData(ss,as,ls):ds?hasInvalidOrdinalData(ss):hasInvalidGregorianData(ss),Es=Cs||hasInvalidTimeData(ss);if(Es)return DateTime.invalid(Es);const xs=ys?weekToGregorian(ss,as,ls):ds?ordinalToGregorian(ss):ss,[ws,ks]=objToTS(xs,us,is),Is=new DateTime({ts:ws,zone:is,o:ks,loc:os});return ss.weekday&&ms&&ns.weekday!==Is.weekday?DateTime.invalid("mismatched weekday","you can't specify both a weekday of ".concat(ss.weekday," and a date of ").concat(Is.toISO())):Is}static fromISO(ns,rs={}){const[is,os]=parseISODate(ns);return parseDataToDateTime(is,os,rs,"ISO 8601",ns)}static fromRFC2822(ns,rs={}){const[is,os]=parseRFC2822Date(ns);return parseDataToDateTime(is,os,rs,"RFC 2822",ns)}static fromHTTP(ns,rs={}){const[is,os]=parseHTTPDate(ns);return parseDataToDateTime(is,os,rs,"HTTP",rs)}static fromFormat(ns,rs,is={}){if(isUndefined$1(ns)||isUndefined$1(rs))throw new InvalidArgumentError("fromFormat requires an input string and a format");const{locale:os=null,numberingSystem:ss=null}=is,as=Locale.fromOpts({locale:os,numberingSystem:ss,defaultToEN:!0}),[ls,cs,us,ds]=parseFromTokens(as,ns,rs);return ds?DateTime.invalid(ds):parseDataToDateTime(ls,cs,is,"format ".concat(rs),ns,us)}static fromString(ns,rs,is={}){return DateTime.fromFormat(ns,rs,is)}static fromSQL(ns,rs={}){const[is,os]=parseSQL(ns);return parseDataToDateTime(is,os,rs,"SQL",ns)}static invalid(ns,rs=null){if(!ns)throw new InvalidArgumentError("need to specify a reason the DateTime is invalid");const is=ns instanceof Invalid?ns:new Invalid(ns,rs);if(Settings$1.throwOnInvalid)throw new InvalidDateTimeError(is);return new DateTime({invalid:is})}static isDateTime(ns){return ns&&ns.isLuxonDateTime||!1}static parseFormatForOpts(ns,rs={}){const is=formatOptsToTokens(ns,Locale.fromObject(rs));return is?is.map(os=>os?os.val:null).join(""):null}static expandFormat(ns,rs={}){return expandMacroTokens(Formatter.parseFormat(ns),Locale.fromObject(rs)).map(os=>os.val).join("")}get(ns){return this[ns]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?possiblyCachedWeekData(this).weekYear:NaN}get weekNumber(){return this.isValid?possiblyCachedWeekData(this).weekNumber:NaN}get weekday(){return this.isValid?possiblyCachedWeekData(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?possiblyCachedLocalWeekData(this).weekday:NaN}get localWeekNumber(){return this.isValid?possiblyCachedLocalWeekData(this).weekNumber:NaN}get localWeekYear(){return this.isValid?possiblyCachedLocalWeekData(this).weekYear:NaN}get ordinal(){return this.isValid?gregorianToOrdinal(this.c).ordinal:NaN}get monthShort(){return this.isValid?Info$1.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Info$1.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Info$1.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Info$1.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const ns=864e5,rs=6e4,is=objToLocalTS(this.c),os=this.zone.offset(is-ns),ss=this.zone.offset(is+ns),as=this.zone.offset(is-os*rs),ls=this.zone.offset(is-ss*rs);if(as===ls)return[this];const cs=is-as*rs,us=is-ls*rs,ds=tsToObj(cs,as),ps=tsToObj(us,ls);return ds.hour===ps.hour&&ds.minute===ps.minute&&ds.second===ps.second&&ds.millisecond===ps.millisecond?[clone$1(this,{ts:cs}),clone$1(this,{ts:us})]:[this]}get isInLeapYear(){return isLeapYear(this.year)}get daysInMonth(){return daysInMonth(this.year,this.month)}get daysInYear(){return this.isValid?daysInYear(this.year):NaN}get weeksInWeekYear(){return this.isValid?weeksInWeekYear(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?weeksInWeekYear(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(ns={}){const{locale:rs,numberingSystem:is,calendar:os}=Formatter.create(this.loc.clone(ns),ns).resolvedOptions(this);return{locale:rs,numberingSystem:is,outputCalendar:os}}toUTC(ns=0,rs={}){return this.setZone(FixedOffsetZone.instance(ns),rs)}toLocal(){return this.setZone(Settings$1.defaultZone)}setZone(ns,{keepLocalTime:rs=!1,keepCalendarTime:is=!1}={}){if(ns=normalizeZone(ns,Settings$1.defaultZone),ns.equals(this.zone))return this;if(ns.isValid){let os=this.ts;if(rs||is){const ss=ns.offset(this.ts),as=this.toObject();[os]=objToTS(as,ss,ns)}return clone$1(this,{ts:os,zone:ns})}else return DateTime.invalid(unsupportedZone(ns))}reconfigure({locale:ns,numberingSystem:rs,outputCalendar:is}={}){const os=this.loc.clone({locale:ns,numberingSystem:rs,outputCalendar:is});return clone$1(this,{loc:os})}setLocale(ns){return this.reconfigure({locale:ns})}set(ns){if(!this.isValid)return this;const rs=normalizeObject(ns,normalizeUnitWithLocalWeeks),{minDaysInFirstWeek:is,startOfWeek:os}=usesLocalWeekValues(rs,this.loc),ss=!isUndefined$1(rs.weekYear)||!isUndefined$1(rs.weekNumber)||!isUndefined$1(rs.weekday),as=!isUndefined$1(rs.ordinal),ls=!isUndefined$1(rs.year),cs=!isUndefined$1(rs.month)||!isUndefined$1(rs.day),us=ls||cs,ds=rs.weekYear||rs.weekNumber;if((us||as)&&ds)throw new ConflictingSpecificationError("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(cs&&as)throw new ConflictingSpecificationError("Can't mix ordinal dates with month/day");let ps;ss?ps=weekToGregorian({...gregorianToWeek(this.c,is,os),...rs},is,os):isUndefined$1(rs.ordinal)?(ps={...this.toObject(),...rs},isUndefined$1(rs.day)&&(ps.day=Math.min(daysInMonth(ps.year,ps.month),ps.day))):ps=ordinalToGregorian({...gregorianToOrdinal(this.c),...rs});const[hs,ms]=objToTS(ps,this.o,this.zone);return clone$1(this,{ts:hs,o:ms})}plus(ns){if(!this.isValid)return this;const rs=Duration.fromDurationLike(ns);return clone$1(this,adjustTime(this,rs))}minus(ns){if(!this.isValid)return this;const rs=Duration.fromDurationLike(ns).negate();return clone$1(this,adjustTime(this,rs))}startOf(ns,{useLocaleWeeks:rs=!1}={}){if(!this.isValid)return this;const is={},os=Duration.normalizeUnit(ns);switch(os){case"years":is.month=1;case"quarters":case"months":is.day=1;case"weeks":case"days":is.hour=0;case"hours":is.minute=0;case"minutes":is.second=0;case"seconds":is.millisecond=0;break}if(os==="weeks")if(rs){const ss=this.loc.getStartOfWeek(),{weekday:as}=this;as<ss&&(is.weekNumber=this.weekNumber-1),is.weekday=ss}else is.weekday=1;if(os==="quarters"){const ss=Math.ceil(this.month/3);is.month=(ss-1)*3+1}return this.set(is)}endOf(ns,rs){return this.isValid?this.plus({[ns]:1}).startOf(ns,rs).minus(1):this}toFormat(ns,rs={}){return this.isValid?Formatter.create(this.loc.redefaultToEN(rs)).formatDateTimeFromString(this,ns):INVALID}toLocaleString(ns=DATE_SHORT,rs={}){return this.isValid?Formatter.create(this.loc.clone(rs),ns).formatDateTime(this):INVALID}toLocaleParts(ns={}){return this.isValid?Formatter.create(this.loc.clone(ns),ns).formatDateTimeParts(this):[]}toISO({format:ns="extended",suppressSeconds:rs=!1,suppressMilliseconds:is=!1,includeOffset:os=!0,extendedZone:ss=!1}={}){if(!this.isValid)return null;const as=ns==="extended";let ls=toISODate(this,as);return ls+="T",ls+=toISOTime(this,as,rs,is,os,ss),ls}toISODate({format:ns="extended"}={}){return this.isValid?toISODate(this,ns==="extended"):null}toISOWeekDate(){return toTechFormat(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:ns=!1,suppressSeconds:rs=!1,includeOffset:is=!0,includePrefix:os=!1,extendedZone:ss=!1,format:as="extended"}={}){return this.isValid?(os?"T":"")+toISOTime(this,as==="extended",rs,ns,is,ss):null}toRFC2822(){return toTechFormat(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return toTechFormat(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?toISODate(this,!0):null}toSQLTime({includeOffset:ns=!0,includeZone:rs=!1,includeOffsetSpace:is=!0}={}){let os="HH:mm:ss.SSS";return(rs||ns)&&(is&&(os+=" "),rs?os+="z":ns&&(os+="ZZ")),toTechFormat(this,os,!0)}toSQL(ns={}){return this.isValid?"".concat(this.toSQLDate()," ").concat(this.toSQLTime(ns)):null}toString(){return this.isValid?this.toISO():INVALID}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?"DateTime { ts: ".concat(this.toISO(),", zone: ").concat(this.zone.name,", locale: ").concat(this.locale," }"):"DateTime { Invalid, reason: ".concat(this.invalidReason," }")}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(ns={}){if(!this.isValid)return{};const rs={...this.c};return ns.includeConfig&&(rs.outputCalendar=this.outputCalendar,rs.numberingSystem=this.loc.numberingSystem,rs.locale=this.loc.locale),rs}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(ns,rs="milliseconds",is={}){if(!this.isValid||!ns.isValid)return Duration.invalid("created by diffing an invalid DateTime");const os={locale:this.locale,numberingSystem:this.numberingSystem,...is},ss=maybeArray(rs).map(Duration.normalizeUnit),as=ns.valueOf()>this.valueOf(),ls=as?this:ns,cs=as?ns:this,us=diff(ls,cs,ss,os);return as?us.negate():us}diffNow(ns="milliseconds",rs={}){return this.diff(DateTime.now(),ns,rs)}until(ns){return this.isValid?Interval.fromDateTimes(this,ns):this}hasSame(ns,rs,is){if(!this.isValid)return!1;const os=ns.valueOf(),ss=this.setZone(ns.zone,{keepLocalTime:!0});return ss.startOf(rs,is)<=os&&os<=ss.endOf(rs,is)}equals(ns){return this.isValid&&ns.isValid&&this.valueOf()===ns.valueOf()&&this.zone.equals(ns.zone)&&this.loc.equals(ns.loc)}toRelative(ns={}){if(!this.isValid)return null;const rs=ns.base||DateTime.fromObject({},{zone:this.zone}),is=ns.padding?this<rs?-ns.padding:ns.padding:0;let os=["years","months","days","hours","minutes","seconds"],ss=ns.unit;return Array.isArray(ns.unit)&&(os=ns.unit,ss=void 0),diffRelative(rs,this.plus(is),{...ns,numeric:"always",units:os,unit:ss})}toRelativeCalendar(ns={}){return this.isValid?diffRelative(ns.base||DateTime.fromObject({},{zone:this.zone}),this,{...ns,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...ns){if(!ns.every(DateTime.isDateTime))throw new InvalidArgumentError("min requires all arguments be DateTimes");return bestBy(ns,rs=>rs.valueOf(),Math.min)}static max(...ns){if(!ns.every(DateTime.isDateTime))throw new InvalidArgumentError("max requires all arguments be DateTimes");return bestBy(ns,rs=>rs.valueOf(),Math.max)}static fromFormatExplain(ns,rs,is={}){const{locale:os=null,numberingSystem:ss=null}=is,as=Locale.fromOpts({locale:os,numberingSystem:ss,defaultToEN:!0});return explainFromTokens(as,ns,rs)}static fromStringExplain(ns,rs,is={}){return DateTime.fromFormatExplain(ns,rs,is)}static get DATE_SHORT(){return DATE_SHORT}static get DATE_MED(){return DATE_MED}static get DATE_MED_WITH_WEEKDAY(){return DATE_MED_WITH_WEEKDAY}static get DATE_FULL(){return DATE_FULL}static get DATE_HUGE(){return DATE_HUGE}static get TIME_SIMPLE(){return TIME_SIMPLE}static get TIME_WITH_SECONDS(){return TIME_WITH_SECONDS}static get TIME_WITH_SHORT_OFFSET(){return TIME_WITH_SHORT_OFFSET}static get TIME_WITH_LONG_OFFSET(){return TIME_WITH_LONG_OFFSET}static get TIME_24_SIMPLE(){return TIME_24_SIMPLE}static get TIME_24_WITH_SECONDS(){return TIME_24_WITH_SECONDS}static get TIME_24_WITH_SHORT_OFFSET(){return TIME_24_WITH_SHORT_OFFSET}static get TIME_24_WITH_LONG_OFFSET(){return TIME_24_WITH_LONG_OFFSET}static get DATETIME_SHORT(){return DATETIME_SHORT}static get DATETIME_SHORT_WITH_SECONDS(){return DATETIME_SHORT_WITH_SECONDS}static get DATETIME_MED(){return DATETIME_MED}static get DATETIME_MED_WITH_SECONDS(){return DATETIME_MED_WITH_SECONDS}static get DATETIME_MED_WITH_WEEKDAY(){return DATETIME_MED_WITH_WEEKDAY}static get DATETIME_FULL(){return DATETIME_FULL}static get DATETIME_FULL_WITH_SECONDS(){return DATETIME_FULL_WITH_SECONDS}static get DATETIME_HUGE(){return DATETIME_HUGE}static get DATETIME_HUGE_WITH_SECONDS(){return DATETIME_HUGE_WITH_SECONDS}}function friendlyDateTime(ts){if(DateTime.isDateTime(ts))return ts;if(ts&&ts.valueOf&&isNumber$3(ts.valueOf()))return DateTime.fromJSDate(ts);if(ts&&typeof ts=="object")return DateTime.fromObject(ts);throw new InvalidArgumentError("Unknown datetime argument: ".concat(ts,", of type ").concat(typeof ts))}var PersonSex=(ts=>(ts.Male="male",ts.Female="female",ts.Intersex="other",ts.Unknown="unknown",ts))(PersonSex||{});const months=[{value:"01",label:"Jan"},{value:"02",label:"Feb"},{value:"03",label:"Mar"},{value:"04",label:"Apr"},{value:"05",label:"May"},{value:"06",label:"Jun"},{value:"07",label:"Jul"},{value:"08",label:"Aug"},{value:"09",label:"Sep"},{value:"10",label:"Oct"},{value:"11",label:"Nov"},{value:"12",label:"Dec"}],PATIENT_PHOTOS_MAX_COUNT_TELEMED=4;function getPatientInfoFullName(ts){const{firstName:ns,middleName:rs,lastName:is}=ts;return"".concat(ns).concat(rs?" ".concat(rs):""," ").concat(is)}function __rest$4(ts,ns){var rs={};for(var is in ts)Object.prototype.hasOwnProperty.call(ts,is)&&ns.indexOf(is)<0&&(rs[is]=ts[is]);if(ts!=null&&typeof Object.getOwnPropertySymbols=="function")for(var os=0,is=Object.getOwnPropertySymbols(ts);os<is.length;os++)ns.indexOf(is[os])<0&&Object.prototype.propertyIsEnumerable.call(ts,is[os])&&(rs[is[os]]=ts[is[os]]);return rs}function __awaiter$19(ts,ns,rs,is){function os(ss){return ss instanceof rs?ss:new rs(function(as){as(ss)})}return new(rs||(rs=Promise))(function(ss,as){function ls(ds){try{us(is.next(ds))}catch(ps){as(ps)}}function cs(ds){try{us(is.throw(ds))}catch(ps){as(ps)}}function us(ds){ds.done?ss(ds.value):os(ds.value).then(ls,cs)}us((is=is.apply(ts,ns||[])).next())})}typeof SuppressedError=="function"&&SuppressedError;const authorizationHeader=ts=>ts?{Authorization:"Bearer ".concat(ts)}:{},projectIdHeader=ts=>ts?{"x-zapehr-project-id":ts}:{},contentTypeHeader=ts=>({"Content-Type":ts});let BaseClient$1=class{constructor(ns){if(!ns.apiUrl)throw new Error("apiUrl is required");this.apiUrl=ns.apiUrl,this.projectId=ns.projectId,this.accessToken=ns.accessToken}get(ns){return __awaiter$19(this,void 0,void 0,function*(){const rs=yield fetch(this.apiUrl+ns,{method:"GET",headers:Object.assign(Object.assign({},authorizationHeader(this.accessToken)),projectIdHeader(this.projectId))}),is=yield rs.json();if(rs.ok)return is;throw is})}post(ns,rs=void 0){return __awaiter$19(this,void 0,void 0,function*(){const is=yield fetch(this.apiUrl+ns,{method:"POST",headers:Object.assign(Object.assign({},authorizationHeader(this.accessToken)),projectIdHeader(this.projectId)),body:rs?JSON.stringify(rs):void 0}),os=yield is.json();if(is.ok)return os;throw os})}put(ns,rs){return __awaiter$19(this,void 0,void 0,function*(){const is=yield fetch(this.apiUrl+ns,{method:"PUT",headers:Object.assign(Object.assign({},authorizationHeader(this.accessToken)),projectIdHeader(this.projectId)),body:JSON.stringify(rs)}),os=yield is.json();if(is.ok)return os;throw os})}patch(ns,rs){return __awaiter$19(this,void 0,void 0,function*(){const is=yield fetch(this.apiUrl+ns,{method:"PATCH",headers:Object.assign(Object.assign(Object.assign({},authorizationHeader(this.accessToken)),projectIdHeader(this.projectId)),contentTypeHeader("application/json-patch+json")),body:JSON.stringify(rs)}),os=yield is.json();if(is.ok)return os;throw os})}del(ns){return __awaiter$19(this,void 0,void 0,function*(){const rs=yield fetch(this.apiUrl+ns,{method:"DELETE",headers:Object.assign(Object.assign({},authorizationHeader(this.accessToken)),projectIdHeader(this.projectId))});if(!rs.ok)throw yield rs.json()})}};const PROD_URL="https://project-api.zapehr.com/v1";class ProjectApiClient extends BaseClient$1{constructor(ns){var rs;super(Object.assign(Object.assign({},ns),{apiUrl:(rs=ns.apiUrl)!==null&&rs!==void 0?rs:PROD_URL}))}}const ZAMBDA_ENDPOINT="/zambda",SECRET_ENDPOINT="/secret";class ZambdaClient extends ProjectApiClient{constructor(ns){super(ns)}createZambda(ns){return __awaiter$19(this,void 0,void 0,function*(){return this.post(ZAMBDA_ENDPOINT,ns)})}getZambda(ns){return __awaiter$19(this,void 0,void 0,function*(){return this.get(ZAMBDA_ENDPOINT+"/"+ns)})}getAllZambdas(){return __awaiter$19(this,void 0,void 0,function*(){return this.get(ZAMBDA_ENDPOINT)})}updateZambda(ns){return __awaiter$19(this,void 0,void 0,function*(){const{zambdaId:rs}=ns,is=__rest$4(ns,["zambdaId"]);return this.put(ZAMBDA_ENDPOINT+"/"+rs,is)})}deleteZambda(ns){return __awaiter$19(this,void 0,void 0,function*(){return this.del(ZAMBDA_ENDPOINT+"/"+ns)})}invokeZambda(ns){return __awaiter$19(this,void 0,void 0,function*(){return this.post(ZAMBDA_ENDPOINT+"/"+ns.zambdaId+"/execute",ns.payload)})}invokePublicZambda(ns){return __awaiter$19(this,void 0,void 0,function*(){return this.post(ZAMBDA_ENDPOINT+"/"+ns.zambdaId+"/execute-public",ns.payload)})}getZambdaLogStreams(ns){return __awaiter$19(this,void 0,void 0,function*(){return this.post(ZAMBDA_ENDPOINT+"/"+ns+"/logStream")})}getZambdaLogEvents(ns){return __awaiter$19(this,void 0,void 0,function*(){let rs;return ns.nextToken&&(rs={nextToken:ns.nextToken}),this.post(ZAMBDA_ENDPOINT+"/"+ns.zambdaId+"/logStream/"+encodeURIComponent(ns.logStreamName),rs)})}getZambdaUploadUrl(ns){return __awaiter$19(this,void 0,void 0,function*(){return this.post(ZAMBDA_ENDPOINT+"/"+ns+"/s3-upload")})}createOrUpdateSecret(ns){return __awaiter$19(this,void 0,void 0,function*(){return this.post(SECRET_ENDPOINT,ns)})}getSecret(ns){return __awaiter$19(this,void 0,void 0,function*(){return this.get(SECRET_ENDPOINT+"/"+ns)})}getAllSecrets(){return __awaiter$19(this,void 0,void 0,function*(){return this.get(SECRET_ENDPOINT)})}deleteSecret(ns){return __awaiter$19(this,void 0,void 0,function*(){return this.del(SECRET_ENDPOINT+"/"+ns)})}}const deepCopy=ts=>JSON.parse(JSON.stringify(ts));function _classCallCheck(ts,ns){if(!(ts instanceof ns))throw new TypeError("Cannot call a class as a function")}function _defineProperties(ts,ns){for(var rs=0;rs<ns.length;rs++){var is=ns[rs];is.enumerable=is.enumerable||!1,is.configurable=!0,"value"in is&&(is.writable=!0),Object.defineProperty(ts,toPropertyKey(is.key),is)}}function _createClass(ts,ns,rs){return ns&&_defineProperties(ts.prototype,ns),rs&&_defineProperties(ts,rs),Object.defineProperty(ts,"prototype",{writable:!1}),ts}var arr=[],each=arr.forEach,slice$1=arr.slice;function defaults$9(ts){return each.call(slice$1.call(arguments,1),function(ns){if(ns)for(var rs in ns)ts[rs]===void 0&&(ts[rs]=ns[rs])}),ts}var fieldContentRegExp=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,serializeCookie=function(ns,rs,is){var os=is||{};os.path=os.path||"/";var ss=encodeURIComponent(rs),as="".concat(ns,"=").concat(ss);if(os.maxAge>0){var ls=os.maxAge-0;if(Number.isNaN(ls))throw new Error("maxAge should be a Number");as+="; Max-Age=".concat(Math.floor(ls))}if(os.domain){if(!fieldContentRegExp.test(os.domain))throw new TypeError("option domain is invalid");as+="; Domain=".concat(os.domain)}if(os.path){if(!fieldContentRegExp.test(os.path))throw new TypeError("option path is invalid");as+="; Path=".concat(os.path)}if(os.expires){if(typeof os.expires.toUTCString!="function")throw new TypeError("option expires is invalid");as+="; Expires=".concat(os.expires.toUTCString())}if(os.httpOnly&&(as+="; HttpOnly"),os.secure&&(as+="; Secure"),os.sameSite){var cs=typeof os.sameSite=="string"?os.sameSite.toLowerCase():os.sameSite;switch(cs){case!0:as+="; SameSite=Strict";break;case"lax":as+="; SameSite=Lax";break;case"strict":as+="; SameSite=Strict";break;case"none":as+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return as},cookie={create:function(ns,rs,is,os){var ss=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};is&&(ss.expires=new Date,ss.expires.setTime(ss.expires.getTime()+is*60*1e3)),os&&(ss.domain=os),document.cookie=serializeCookie(ns,encodeURIComponent(rs),ss)},read:function(ns){for(var rs="".concat(ns,"="),is=document.cookie.split(";"),os=0;os<is.length;os++){for(var ss=is[os];ss.charAt(0)===" ";)ss=ss.substring(1,ss.length);if(ss.indexOf(rs)===0)return ss.substring(rs.length,ss.length)}return null},remove:function(ns){this.create(ns,"",-1)}},cookie$1={name:"cookie",lookup:function(ns){var rs;if(ns.lookupCookie&&typeof document<"u"){var is=cookie.read(ns.lookupCookie);is&&(rs=is)}return rs},cacheUserLanguage:function(ns,rs){rs.lookupCookie&&typeof document<"u"&&cookie.create(rs.lookupCookie,ns,rs.cookieMinutes,rs.cookieDomain,rs.cookieOptions)}},querystring={name:"querystring",lookup:function(ns){var rs;if(typeof window<"u"){var is=window.location.search;!window.location.search&&window.location.hash&&window.location.hash.indexOf("?")>-1&&(is=window.location.hash.substring(window.location.hash.indexOf("?")));for(var os=is.substring(1),ss=os.split("&"),as=0;as<ss.length;as++){var ls=ss[as].indexOf("=");if(ls>0){var cs=ss[as].substring(0,ls);cs===ns.lookupQuerystring&&(rs=ss[as].substring(ls+1))}}}return rs}},hasLocalStorageSupport=null,localStorageAvailable=function(){if(hasLocalStorageSupport!==null)return hasLocalStorageSupport;try{hasLocalStorageSupport=window!=="undefined"&&window.localStorage!==null;var ns="i18next.translate.boo";window.localStorage.setItem(ns,"foo"),window.localStorage.removeItem(ns)}catch{hasLocalStorageSupport=!1}return hasLocalStorageSupport},localStorage$1={name:"localStorage",lookup:function(ns){var rs;if(ns.lookupLocalStorage&&localStorageAvailable()){var is=window.localStorage.getItem(ns.lookupLocalStorage);is&&(rs=is)}return rs},cacheUserLanguage:function(ns,rs){rs.lookupLocalStorage&&localStorageAvailable()&&window.localStorage.setItem(rs.lookupLocalStorage,ns)}},hasSessionStorageSupport=null,sessionStorageAvailable=function(){if(hasSessionStorageSupport!==null)return hasSessionStorageSupport;try{hasSessionStorageSupport=window!=="undefined"&&window.sessionStorage!==null;var ns="i18next.translate.boo";window.sessionStorage.setItem(ns,"foo"),window.sessionStorage.removeItem(ns)}catch{hasSessionStorageSupport=!1}return hasSessionStorageSupport},sessionStorage$1={name:"sessionStorage",lookup:function(ns){var rs;if(ns.lookupSessionStorage&&sessionStorageAvailable()){var is=window.sessionStorage.getItem(ns.lookupSessionStorage);is&&(rs=is)}return rs},cacheUserLanguage:function(ns,rs){rs.lookupSessionStorage&&sessionStorageAvailable()&&window.sessionStorage.setItem(rs.lookupSessionStorage,ns)}},navigator$1$1={name:"navigator",lookup:function(ns){var rs=[];if(typeof navigator<"u"){if(navigator.languages)for(var is=0;is<navigator.languages.length;is++)rs.push(navigator.languages[is]);navigator.userLanguage&&rs.push(navigator.userLanguage),navigator.language&&rs.push(navigator.language)}return rs.length>0?rs:void 0}},htmlTag={name:"htmlTag",lookup:function(ns){var rs,is=ns.htmlTag||(typeof document<"u"?document.documentElement:null);return is&&typeof is.getAttribute=="function"&&(rs=is.getAttribute("lang")),rs}},path$1={name:"path",lookup:function(ns){var rs;if(typeof window<"u"){var is=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(is instanceof Array)if(typeof ns.lookupFromPathIndex=="number"){if(typeof is[ns.lookupFromPathIndex]!="string")return;rs=is[ns.lookupFromPathIndex].replace("/","")}else rs=is[0].replace("/","")}return rs}},subdomain={name:"subdomain",lookup:function(ns){var rs=typeof ns.lookupFromSubdomainIndex=="number"?ns.lookupFromSubdomainIndex+1:1,is=typeof window<"u"&&window.location&&window.location.hostname&&window.location.hostname.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(is)return is[rs]}};function getDefaults$1(){return{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:function(ns){return ns}}}var Browser=function(){function ts(ns){var rs=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};_classCallCheck(this,ts),this.type="languageDetector",this.detectors={},this.init(ns,rs)}return _createClass(ts,[{key:"init",value:function(rs){var is=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},os=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=rs||{languageUtils:{}},this.options=defaults$9(is,this.options||{},getDefaults$1()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=function(ss){return ss.replace("-","_")}),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=os,this.addDetector(cookie$1),this.addDetector(querystring),this.addDetector(localStorage$1),this.addDetector(sessionStorage$1),this.addDetector(navigator$1$1),this.addDetector(htmlTag),this.addDetector(path$1),this.addDetector(subdomain)}},{key:"addDetector",value:function(rs){return this.detectors[rs.name]=rs,this}},{key:"detect",value:function(rs){var is=this;rs||(rs=this.options.order);var os=[];return rs.forEach(function(ss){if(is.detectors[ss]){var as=is.detectors[ss].lookup(is.options);as&&typeof as=="string"&&(as=[as]),as&&(os=os.concat(as))}}),os=os.map(function(ss){return is.options.convertDetectedLanguage(ss)}),this.services.languageUtils.getBestMatchFromCodes?os:os.length>0?os[0]:null}},{key:"cacheUserLanguage",value:function(rs,is){var os=this;is||(is=this.options.caches),is&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(rs)>-1||is.forEach(function(ss){os.detectors[ss]&&os.detectors[ss].cacheUserLanguage(rs,os.options)}))}}]),ts}();Browser.type="languageDetector";function warn(){if(console&&console.warn){for(var ts=arguments.length,ns=new Array(ts),rs=0;rs<ts;rs++)ns[rs]=arguments[rs];isString$3(ns[0])&&(ns[0]="react-i18next:: ".concat(ns[0])),console.warn(...ns)}}const alreadyWarned={};function warnOnce(){for(var ts=arguments.length,ns=new Array(ts),rs=0;rs<ts;rs++)ns[rs]=arguments[rs];isString$3(ns[0])&&alreadyWarned[ns[0]]||(isString$3(ns[0])&&(alreadyWarned[ns[0]]=new Date),warn(...ns))}const loadedClb=(ts,ns)=>()=>{if(ts.isInitialized)ns();else{const rs=()=>{setTimeout(()=>{ts.off("initialized",rs)},0),ns()};ts.on("initialized",rs)}},loadNamespaces=(ts,ns,rs)=>{ts.loadNamespaces(ns,loadedClb(ts,rs))},loadLanguages=(ts,ns,rs,is)=>{isString$3(rs)&&(rs=[rs]),rs.forEach(os=>{ts.options.ns.indexOf(os)<0&&ts.options.ns.push(os)}),ts.loadLanguages(ns,loadedClb(ts,is))},oldI18nextHasLoadedNamespace=function(ts,ns){let rs=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const is=ns.languages[0],os=ns.options?ns.options.fallbackLng:!1,ss=ns.languages[ns.languages.length-1];if(is.toLowerCase()==="cimode")return!0;const as=(ls,cs)=>{const us=ns.services.backendConnector.state["".concat(ls,"|").concat(cs)];return us===-1||us===2};return rs.bindI18n&&rs.bindI18n.indexOf("languageChanging")>-1&&ns.services.backendConnector.backend&&ns.isLanguageChangingTo&&!as(ns.isLanguageChangingTo,ts)?!1:!!(ns.hasResourceBundle(is,ts)||!ns.services.backendConnector.backend||ns.options.resources&&!ns.options.partialBundledLanguages||as(is,ts)&&(!os||as(ss,ts)))},hasLoadedNamespace=function(ts,ns){let rs=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return!ns.languages||!ns.languages.length?(warnOnce("i18n.languages were undefined or empty",ns.languages),!0):ns.options.ignoreJSONStructure!==void 0?ns.hasLoadedNamespace(ts,{lng:rs.lng,precheck:(os,ss)=>{if(rs.bindI18n&&rs.bindI18n.indexOf("languageChanging")>-1&&os.services.backendConnector.backend&&os.isLanguageChangingTo&&!ss(os.isLanguageChangingTo,ts))return!1}}):oldI18nextHasLoadedNamespace(ts,ns,rs)},isString$3=ts=>typeof ts=="string",isObject$6=ts=>typeof ts=="object"&&ts!==null,matchHtmlEntity=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,htmlEntities={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"Â©","&#169;":"Â©","&reg;":"Â®","&#174;":"Â®","&hellip;":"â¦","&#8230;":"â¦","&#x2F;":"/","&#47;":"/"},unescapeHtmlEntity=ts=>htmlEntities[ts],unescape$1=ts=>ts.replace(matchHtmlEntity,unescapeHtmlEntity);let defaultOptions={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:unescape$1};const setDefaults=function(){let ts=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};defaultOptions={...defaultOptions,...ts}},getDefaults=()=>defaultOptions;let i18nInstance;const setI18n=ts=>{i18nInstance=ts},getI18n=()=>i18nInstance,initReactI18next={type:"3rdParty",init(ts){setDefaults(ts.options.react),setI18n(ts)}},I18nContext=reactExports.createContext();class ReportNamespaces{constructor(){vu(this,"getUsedNamespaces",()=>Object.keys(this.usedNamespaces));this.usedNamespaces={}}addUsedNamespaces(ns){ns.forEach(rs=>{this.usedNamespaces[rs]||(this.usedNamespaces[rs]=!0)})}}const usePrevious=(ts,ns)=>{const rs=reactExports.useRef();return reactExports.useEffect(()=>{rs.current=ns?rs.current:ts},[ts,ns]),rs.current},alwaysNewT=(ts,ns,rs,is)=>ts.getFixedT(ns,rs,is),useMemoizedT=(ts,ns,rs,is)=>reactExports.useCallback(alwaysNewT(ts,ns,rs,is),[ts,ns,rs,is]),useTranslation=function(ts){let ns=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:rs}=ns,{i18n:is,defaultNS:os}=reactExports.useContext(I18nContext)||{},ss=rs||is||getI18n();if(ss&&!ss.reportNamespaces&&(ss.reportNamespaces=new ReportNamespaces),!ss){warnOnce("You will need to pass in an i18next instance by using initReactI18next");const Cs=(xs,ws)=>isString$3(ws)?ws:isObject$6(ws)&&isString$3(ws.defaultValue)?ws.defaultValue:Array.isArray(xs)?xs[xs.length-1]:xs,Es=[Cs,{},!1];return Es.t=Cs,Es.i18n={},Es.ready=!1,Es}ss.options.react&&ss.options.react.wait!==void 0&&warnOnce("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const as={...getDefaults(),...ss.options.react,...ns},{useSuspense:ls,keyPrefix:cs}=as;let us=ts||os||ss.options&&ss.options.defaultNS;us=isString$3(us)?[us]:us||["translation"],ss.reportNamespaces.addUsedNamespaces&&ss.reportNamespaces.addUsedNamespaces(us);const ds=(ss.isInitialized||ss.initializedStoreOnce)&&us.every(Cs=>hasLoadedNamespace(Cs,ss,as)),ps=useMemoizedT(ss,ns.lng||null,as.nsMode==="fallback"?us:us[0],cs),hs=()=>ps,ms=()=>alwaysNewT(ss,ns.lng||null,as.nsMode==="fallback"?us:us[0],cs),[gs,ys]=reactExports.useState(hs);let vs=us.join();ns.lng&&(vs="".concat(ns.lng).concat(vs));const bs=usePrevious(vs),Ss=reactExports.useRef(!0);reactExports.useEffect(()=>{const{bindI18n:Cs,bindI18nStore:Es}=as;Ss.current=!0,!ds&&!ls&&(ns.lng?loadLanguages(ss,ns.lng,us,()=>{Ss.current&&ys(ms)}):loadNamespaces(ss,us,()=>{Ss.current&&ys(ms)})),ds&&bs&&bs!==vs&&Ss.current&&ys(ms);const xs=()=>{Ss.current&&ys(ms)};return Cs&&ss&&ss.on(Cs,xs),Es&&ss&&ss.store.on(Es,xs),()=>{Ss.current=!1,Cs&&ss&&Cs.split(" ").forEach(ws=>ss.off(ws,xs)),Es&&ss&&Es.split(" ").forEach(ws=>ss.store.off(ws,xs))}},[ss,vs]),reactExports.useEffect(()=>{Ss.current&&ds&&ys(hs)},[ss,cs,ds]);const $s=[gs,ss,ds];if($s.t=gs,$s.i18n=ss,$s.ready=ds,ds||!ds&&!ls)return $s;throw new Promise(Cs=>{ns.lng?loadLanguages(ss,ns.lng,us,()=>Cs()):loadNamespaces(ss,us,()=>Cs())})},i18nextCreator=ts=>(instance.use(Browser).use(initReactI18next).init({fallbackLng:"en",parseMissingKeyHandler:ns=>'No translation found for "'.concat(ns,'"'),resources:ts,returnNull:!1}).catch(ns=>{throw new Error(ns.message)}),instance);var mail$2={exports:{}},client$3={exports:{}},axios$3={exports:{}},bind$2=function(ns,rs){return function(){for(var os=new Array(arguments.length),ss=0;ss<os.length;ss++)os[ss]=arguments[ss];return ns.apply(rs,os)}},bind$1=bind$2,toString$c=Object.prototype.toString;function isArray$a(ts){return Array.isArray(ts)}function isUndefined(ts){return typeof ts>"u"}function isBuffer$3(ts){return ts!==null&&!isUndefined(ts)&&ts.constructor!==null&&!isUndefined(ts.constructor)&&typeof ts.constructor.isBuffer=="function"&&ts.constructor.isBuffer(ts)}function isArrayBuffer$1(ts){return toString$c.call(ts)==="[object ArrayBuffer]"}function isFormData(ts){return toString$c.call(ts)==="[object FormData]"}function isArrayBufferView(ts){var ns;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ns=ArrayBuffer.isView(ts):ns=ts&&ts.buffer&&isArrayBuffer$1(ts.buffer),ns}function isString$2(ts){return typeof ts=="string"}function isNumber$2(ts){return typeof ts=="number"}function isObject$5(ts){return ts!==null&&typeof ts=="object"}function isPlainObject$3(ts){if(toString$c.call(ts)!=="[object Object]")return!1;var ns=Object.getPrototypeOf(ts);return ns===null||ns===Object.prototype}function isDate$1(ts){return toString$c.call(ts)==="[object Date]"}function isFile(ts){return toString$c.call(ts)==="[object File]"}function isBlob(ts){return toString$c.call(ts)==="[object Blob]"}function isFunction$3(ts){return toString$c.call(ts)==="[object Function]"}function isStream(ts){return isObject$5(ts)&&isFunction$3(ts.pipe)}function isURLSearchParams(ts){return toString$c.call(ts)==="[object URLSearchParams]"}function trim$2(ts){return ts.trim?ts.trim():ts.replace(/^\s+|\s+$/g,"")}function isStandardBrowserEnv(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function forEach$1(ts,ns){if(!(ts===null||typeof ts>"u"))if(typeof ts!="object"&&(ts=[ts]),isArray$a(ts))for(var rs=0,is=ts.length;rs<is;rs++)ns.call(null,ts[rs],rs,ts);else for(var os in ts)Object.prototype.hasOwnProperty.call(ts,os)&&ns.call(null,ts[os],os,ts)}function merge$2(){var ts={};function ns(os,ss){isPlainObject$3(ts[ss])&&isPlainObject$3(os)?ts[ss]=merge$2(ts[ss],os):isPlainObject$3(os)?ts[ss]=merge$2({},os):isArray$a(os)?ts[ss]=os.slice():ts[ss]=os}for(var rs=0,is=arguments.length;rs<is;rs++)forEach$1(arguments[rs],ns);return ts}function extend$2(ts,ns,rs){return forEach$1(ns,function(os,ss){rs&&typeof os=="function"?ts[ss]=bind$1(os,rs):ts[ss]=os}),ts}function stripBOM(ts){return ts.charCodeAt(0)===65279&&(ts=ts.slice(1)),ts}var utils$b={isArray:isArray$a,isArrayBuffer:isArrayBuffer$1,isBuffer:isBuffer$3,isFormData,isArrayBufferView,isString:isString$2,isNumber:isNumber$2,isObject:isObject$5,isPlainObject:isPlainObject$3,isUndefined,isDate:isDate$1,isFile,isBlob,isFunction:isFunction$3,isStream,isURLSearchParams,isStandardBrowserEnv,forEach:forEach$1,merge:merge$2,extend:extend$2,trim:trim$2,stripBOM},utils$a=utils$b;function encode$1(ts){return encodeURIComponent(ts).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var buildURL$1=function(ns,rs,is){if(!rs)return ns;var os;if(is)os=is(rs);else if(utils$a.isURLSearchParams(rs))os=rs.toString();else{var ss=[];utils$a.forEach(rs,function(cs,us){cs===null||typeof cs>"u"||(utils$a.isArray(cs)?us=us+"[]":cs=[cs],utils$a.forEach(cs,function(ps){utils$a.isDate(ps)?ps=ps.toISOString():utils$a.isObject(ps)&&(ps=JSON.stringify(ps)),ss.push(encode$1(us)+"="+encode$1(ps))}))}),os=ss.join("&")}if(os){var as=ns.indexOf("#");as!==-1&&(ns=ns.slice(0,as)),ns+=(ns.indexOf("?")===-1?"?":"&")+os}return ns},utils$9=utils$b;function InterceptorManager$1(){this.handlers=[]}InterceptorManager$1.prototype.use=function(ns,rs,is){return this.handlers.push({fulfilled:ns,rejected:rs,synchronous:is?is.synchronous:!1,runWhen:is?is.runWhen:null}),this.handlers.length-1};InterceptorManager$1.prototype.eject=function(ns){this.handlers[ns]&&(this.handlers[ns]=null)};InterceptorManager$1.prototype.forEach=function(ns){utils$9.forEach(this.handlers,function(is){is!==null&&ns(is)})};var InterceptorManager_1=InterceptorManager$1,utils$8=utils$b,normalizeHeaderName$1=function(ns,rs){utils$8.forEach(ns,function(os,ss){ss!==rs&&ss.toUpperCase()===rs.toUpperCase()&&(ns[rs]=os,delete ns[ss])})},enhanceError$1=function(ns,rs,is,os,ss){return ns.config=rs,is&&(ns.code=is),ns.request=os,ns.response=ss,ns.isAxiosError=!0,ns.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},ns},transitional={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},createError,hasRequiredCreateError;function requireCreateError(){if(hasRequiredCreateError)return createError;hasRequiredCreateError=1;var ts=enhanceError$1;return createError=function(rs,is,os,ss,as){var ls=new Error(rs);return ts(ls,is,os,ss,as)},createError}var settle,hasRequiredSettle;function requireSettle(){if(hasRequiredSettle)return settle;hasRequiredSettle=1;var ts=requireCreateError();return settle=function(rs,is,os){var ss=os.config.validateStatus;!os.status||!ss||ss(os.status)?rs(os):is(ts("Request failed with status code "+os.status,os.config,null,os.request,os))},settle}var cookies,hasRequiredCookies;function requireCookies(){if(hasRequiredCookies)return cookies;hasRequiredCookies=1;var ts=utils$b;return cookies=ts.isStandardBrowserEnv()?function(){return{write:function(is,os,ss,as,ls,cs){var us=[];us.push(is+"="+encodeURIComponent(os)),ts.isNumber(ss)&&us.push("expires="+new Date(ss).toGMTString()),ts.isString(as)&&us.push("path="+as),ts.isString(ls)&&us.push("domain="+ls),cs===!0&&us.push("secure"),document.cookie=us.join("; ")},read:function(is){var os=document.cookie.match(new RegExp("(^|;\\s*)("+is+")=([^;]*)"));return os?decodeURIComponent(os[3]):null},remove:function(is){this.write(is,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),cookies}var isAbsoluteURL,hasRequiredIsAbsoluteURL;function requireIsAbsoluteURL(){return hasRequiredIsAbsoluteURL||(hasRequiredIsAbsoluteURL=1,isAbsoluteURL=function(ns){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(ns)}),isAbsoluteURL}var combineURLs,hasRequiredCombineURLs;function requireCombineURLs(){return hasRequiredCombineURLs||(hasRequiredCombineURLs=1,combineURLs=function(ns,rs){return rs?ns.replace(/\/+$/,"")+"/"+rs.replace(/^\/+/,""):ns}),combineURLs}var buildFullPath,hasRequiredBuildFullPath;function requireBuildFullPath(){if(hasRequiredBuildFullPath)return buildFullPath;hasRequiredBuildFullPath=1;var ts=requireIsAbsoluteURL(),ns=requireCombineURLs();return buildFullPath=function(is,os){return is&&!ts(os)?ns(is,os):os},buildFullPath}var parseHeaders,hasRequiredParseHeaders;function requireParseHeaders(){if(hasRequiredParseHeaders)return parseHeaders;hasRequiredParseHeaders=1;var ts=utils$b,ns=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return parseHeaders=function(is){var os={},ss,as,ls;return is&&ts.forEach(is.split("\n"),function(us){if(ls=us.indexOf(":"),ss=ts.trim(us.substr(0,ls)).toLowerCase(),as=ts.trim(us.substr(ls+1)),ss){if(os[ss]&&ns.indexOf(ss)>=0)return;ss==="set-cookie"?os[ss]=(os[ss]?os[ss]:[]).concat([as]):os[ss]=os[ss]?os[ss]+", "+as:as}}),os},parseHeaders}var isURLSameOrigin,hasRequiredIsURLSameOrigin;function requireIsURLSameOrigin(){if(hasRequiredIsURLSameOrigin)return isURLSameOrigin;hasRequiredIsURLSameOrigin=1;var ts=utils$b;return isURLSameOrigin=ts.isStandardBrowserEnv()?function(){var rs=/(msie|trident)/i.test(navigator.userAgent),is=document.createElement("a"),os;function ss(as){var ls=as;return rs&&(is.setAttribute("href",ls),ls=is.href),is.setAttribute("href",ls),{href:is.href,protocol:is.protocol?is.protocol.replace(/:$/,""):"",host:is.host,search:is.search?is.search.replace(/^\?/,""):"",hash:is.hash?is.hash.replace(/^#/,""):"",hostname:is.hostname,port:is.port,pathname:is.pathname.charAt(0)==="/"?is.pathname:"/"+is.pathname}}return os=ss(window.location.href),function(ls){var cs=ts.isString(ls)?ss(ls):ls;return cs.protocol===os.protocol&&cs.host===os.host}}():function(){return function(){return!0}}(),isURLSameOrigin}var Cancel_1,hasRequiredCancel;function requireCancel(){if(hasRequiredCancel)return Cancel_1;hasRequiredCancel=1;function ts(ns){this.message=ns}return ts.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},ts.prototype.__CANCEL__=!0,Cancel_1=ts,Cancel_1}var xhr,hasRequiredXhr;function requireXhr(){if(hasRequiredXhr)return xhr;hasRequiredXhr=1;var ts=utils$b,ns=requireSettle(),rs=requireCookies(),is=buildURL$1,os=requireBuildFullPath(),ss=requireParseHeaders(),as=requireIsURLSameOrigin(),ls=requireCreateError(),cs=transitional,us=requireCancel();return xhr=function(ps){return new Promise(function(ms,gs){var ys=ps.data,vs=ps.headers,bs=ps.responseType,Ss;function $s(){ps.cancelToken&&ps.cancelToken.unsubscribe(Ss),ps.signal&&ps.signal.removeEventListener("abort",Ss)}ts.isFormData(ys)&&delete vs["Content-Type"];var Cs=new XMLHttpRequest;if(ps.auth){var Es=ps.auth.username||"",xs=ps.auth.password?unescape(encodeURIComponent(ps.auth.password)):"";vs.Authorization="Basic "+btoa(Es+":"+xs)}var ws=os(ps.baseURL,ps.url);Cs.open(ps.method.toUpperCase(),is(ws,ps.params,ps.paramsSerializer),!0),Cs.timeout=ps.timeout;function ks(){if(Cs){var Ts="getAllResponseHeaders"in Cs?ss(Cs.getAllResponseHeaders()):null,Rs=!bs||bs==="text"||bs==="json"?Cs.responseText:Cs.response,As={data:Rs,status:Cs.status,statusText:Cs.statusText,headers:Ts,config:ps,request:Cs};ns(function(Ls){ms(Ls),$s()},function(Ls){gs(Ls),$s()},As),Cs=null}}if("onloadend"in Cs?Cs.onloadend=ks:Cs.onreadystatechange=function(){!Cs||Cs.readyState!==4||Cs.status===0&&!(Cs.responseURL&&Cs.responseURL.indexOf("file:")===0)||setTimeout(ks)},Cs.onabort=function(){Cs&&(gs(ls("Request aborted",ps,"ECONNABORTED",Cs)),Cs=null)},Cs.onerror=function(){gs(ls("Network Error",ps,null,Cs)),Cs=null},Cs.ontimeout=function(){var Rs=ps.timeout?"timeout of "+ps.timeout+"ms exceeded":"timeout exceeded",As=ps.transitional||cs;ps.timeoutErrorMessage&&(Rs=ps.timeoutErrorMessage),gs(ls(Rs,ps,As.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",Cs)),Cs=null},ts.isStandardBrowserEnv()){var Is=(ps.withCredentials||as(ws))&&ps.xsrfCookieName?rs.read(ps.xsrfCookieName):void 0;Is&&(vs[ps.xsrfHeaderName]=Is)}"setRequestHeader"in Cs&&ts.forEach(vs,function(Rs,As){typeof ys>"u"&&As.toLowerCase()==="content-type"?delete vs[As]:Cs.setRequestHeader(As,Rs)}),ts.isUndefined(ps.withCredentials)||(Cs.withCredentials=!!ps.withCredentials),bs&&bs!=="json"&&(Cs.responseType=ps.responseType),typeof ps.onDownloadProgress=="function"&&Cs.addEventListener("progress",ps.onDownloadProgress),typeof ps.onUploadProgress=="function"&&Cs.upload&&Cs.upload.addEventListener("progress",ps.onUploadProgress),(ps.cancelToken||ps.signal)&&(Ss=function(Ts){Cs&&(gs(!Ts||Ts&&Ts.type?new us("canceled"):Ts),Cs.abort(),Cs=null)},ps.cancelToken&&ps.cancelToken.subscribe(Ss),ps.signal&&(ps.signal.aborted?Ss():ps.signal.addEventListener("abort",Ss))),ys||(ys=null),Cs.send(ys)})},xhr}var utils$7=utils$b,normalizeHeaderName=normalizeHeaderName$1,enhanceError=enhanceError$1,transitionalDefaults=transitional,DEFAULT_CONTENT_TYPE={"Content-Type":"application/x-www-form-urlencoded"};function setContentTypeIfUnset(ts,ns){!utils$7.isUndefined(ts)&&utils$7.isUndefined(ts["Content-Type"])&&(ts["Content-Type"]=ns)}function getDefaultAdapter(){var ts;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(ts=requireXhr()),ts}function stringifySafely(ts,ns,rs){if(utils$7.isString(ts))try{return(ns||JSON.parse)(ts),utils$7.trim(ts)}catch(is){if(is.name!=="SyntaxError")throw is}return(rs||JSON.stringify)(ts)}var defaults$8={transitional:transitionalDefaults,adapter:getDefaultAdapter(),transformRequest:[function(ns,rs){return normalizeHeaderName(rs,"Accept"),normalizeHeaderName(rs,"Content-Type"),utils$7.isFormData(ns)||utils$7.isArrayBuffer(ns)||utils$7.isBuffer(ns)||utils$7.isStream(ns)||utils$7.isFile(ns)||utils$7.isBlob(ns)?ns:utils$7.isArrayBufferView(ns)?ns.buffer:utils$7.isURLSearchParams(ns)?(setContentTypeIfUnset(rs,"application/x-www-form-urlencoded;charset=utf-8"),ns.toString()):utils$7.isObject(ns)||rs&&rs["Content-Type"]==="application/json"?(setContentTypeIfUnset(rs,"application/json"),stringifySafely(ns)):ns}],transformResponse:[function(ns){var rs=this.transitional||defaults$8.transitional,is=rs&&rs.silentJSONParsing,os=rs&&rs.forcedJSONParsing,ss=!is&&this.responseType==="json";if(ss||os&&utils$7.isString(ns)&&ns.length)try{return JSON.parse(ns)}catch(as){if(ss)throw as.name==="SyntaxError"?enhanceError(as,this,"E_JSON_PARSE"):as}return ns}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(ns){return ns>=200&&ns<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};utils$7.forEach(["delete","get","head"],function(ns){defaults$8.headers[ns]={}});utils$7.forEach(["post","put","patch"],function(ns){defaults$8.headers[ns]=utils$7.merge(DEFAULT_CONTENT_TYPE)});var defaults_1=defaults$8,utils$6=utils$b,defaults$7=defaults_1,transformData$1=function(ns,rs,is){var os=this||defaults$7;return utils$6.forEach(is,function(as){ns=as.call(os,ns,rs)}),ns},isCancel$1,hasRequiredIsCancel;function requireIsCancel(){return hasRequiredIsCancel||(hasRequiredIsCancel=1,isCancel$1=function(ns){return!!(ns&&ns.__CANCEL__)}),isCancel$1}var utils$5=utils$b,transformData=transformData$1,isCancel=requireIsCancel(),defaults$6=defaults_1,Cancel$1=requireCancel();function throwIfCancellationRequested(ts){if(ts.cancelToken&&ts.cancelToken.throwIfRequested(),ts.signal&&ts.signal.aborted)throw new Cancel$1("canceled")}var dispatchRequest$1=function(ns){throwIfCancellationRequested(ns),ns.headers=ns.headers||{},ns.data=transformData.call(ns,ns.data,ns.headers,ns.transformRequest),ns.headers=utils$5.merge(ns.headers.common||{},ns.headers[ns.method]||{},ns.headers),utils$5.forEach(["delete","get","head","post","put","patch","common"],function(os){delete ns.headers[os]});var rs=ns.adapter||defaults$6.adapter;return rs(ns).then(function(os){return throwIfCancellationRequested(ns),os.data=transformData.call(ns,os.data,os.headers,ns.transformResponse),os},function(os){return isCancel(os)||(throwIfCancellationRequested(ns),os&&os.response&&(os.response.data=transformData.call(ns,os.response.data,os.response.headers,ns.transformResponse))),Promise.reject(os)})},utils$4=utils$b,mergeConfig$2=function(ns,rs){rs=rs||{};var is={};function os(ds,ps){return utils$4.isPlainObject(ds)&&utils$4.isPlainObject(ps)?utils$4.merge(ds,ps):utils$4.isPlainObject(ps)?utils$4.merge({},ps):utils$4.isArray(ps)?ps.slice():ps}function ss(ds){if(utils$4.isUndefined(rs[ds])){if(!utils$4.isUndefined(ns[ds]))return os(void 0,ns[ds])}else return os(ns[ds],rs[ds])}function as(ds){if(!utils$4.isUndefined(rs[ds]))return os(void 0,rs[ds])}function ls(ds){if(utils$4.isUndefined(rs[ds])){if(!utils$4.isUndefined(ns[ds]))return os(void 0,ns[ds])}else return os(void 0,rs[ds])}function cs(ds){if(ds in rs)return os(ns[ds],rs[ds]);if(ds in ns)return os(void 0,ns[ds])}var us={url:as,method:as,data:as,baseURL:ls,transformRequest:ls,transformResponse:ls,paramsSerializer:ls,timeout:ls,timeoutMessage:ls,withCredentials:ls,adapter:ls,responseType:ls,xsrfCookieName:ls,xsrfHeaderName:ls,onUploadProgress:ls,onDownloadProgress:ls,decompress:ls,maxContentLength:ls,maxBodyLength:ls,transport:ls,httpAgent:ls,httpsAgent:ls,cancelToken:ls,socketPath:ls,responseEncoding:ls,validateStatus:cs};return utils$4.forEach(Object.keys(ns).concat(Object.keys(rs)),function(ps){var hs=us[ps]||ss,ms=hs(ps);utils$4.isUndefined(ms)&&hs!==cs||(is[ps]=ms)}),is},data,hasRequiredData;function requireData(){return hasRequiredData||(hasRequiredData=1,data={version:"0.26.1"}),data}var VERSION=requireData().version,validators$1={};["object","boolean","number","function","string","symbol"].forEach(function(ts,ns){validators$1[ts]=function(is){return typeof is===ts||"a"+(ns<1?"n ":" ")+ts}});var deprecatedWarnings={};validators$1.transitional=function(ns,rs,is){function os(ss,as){return"[Axios v"+VERSION+"] Transitional option '"+ss+"'"+as+(is?". "+is:"")}return function(ss,as,ls){if(ns===!1)throw new Error(os(as," has been removed"+(rs?" in "+rs:"")));return rs&&!deprecatedWarnings[as]&&(deprecatedWarnings[as]=!0,console.warn(os(as," has been deprecated since v"+rs+" and will be removed in the near future"))),ns?ns(ss,as,ls):!0}};function assertOptions(ts,ns,rs){if(typeof ts!="object")throw new TypeError("options must be an object");for(var is=Object.keys(ts),os=is.length;os-- >0;){var ss=is[os],as=ns[ss];if(as){var ls=ts[ss],cs=ls===void 0||as(ls,ss,ts);if(cs!==!0)throw new TypeError("option "+ss+" must be "+cs);continue}if(rs!==!0)throw Error("Unknown option "+ss)}}var validator$2={assertOptions,validators:validators$1},utils$3=utils$b,buildURL=buildURL$1,InterceptorManager=InterceptorManager_1,dispatchRequest=dispatchRequest$1,mergeConfig$1=mergeConfig$2,validator$1=validator$2,validators=validator$1.validators;function Axios$1(ts){this.defaults=ts,this.interceptors={request:new InterceptorManager,response:new InterceptorManager}}Axios$1.prototype.request=function(ns,rs){typeof ns=="string"?(rs=rs||{},rs.url=ns):rs=ns||{},rs=mergeConfig$1(this.defaults,rs),rs.method?rs.method=rs.method.toLowerCase():this.defaults.method?rs.method=this.defaults.method.toLowerCase():rs.method="get";var is=rs.transitional;is!==void 0&&validator$1.assertOptions(is,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1);var os=[],ss=!0;this.interceptors.request.forEach(function(ms){typeof ms.runWhen=="function"&&ms.runWhen(rs)===!1||(ss=ss&&ms.synchronous,os.unshift(ms.fulfilled,ms.rejected))});var as=[];this.interceptors.response.forEach(function(ms){as.push(ms.fulfilled,ms.rejected)});var ls;if(!ss){var cs=[dispatchRequest,void 0];for(Array.prototype.unshift.apply(cs,os),cs=cs.concat(as),ls=Promise.resolve(rs);cs.length;)ls=ls.then(cs.shift(),cs.shift());return ls}for(var us=rs;os.length;){var ds=os.shift(),ps=os.shift();try{us=ds(us)}catch(hs){ps(hs);break}}try{ls=dispatchRequest(us)}catch(hs){return Promise.reject(hs)}for(;as.length;)ls=ls.then(as.shift(),as.shift());return ls};Axios$1.prototype.getUri=function(ns){return ns=mergeConfig$1(this.defaults,ns),buildURL(ns.url,ns.params,ns.paramsSerializer).replace(/^\?/,"")};utils$3.forEach(["delete","get","head","options"],function(ns){Axios$1.prototype[ns]=function(rs,is){return this.request(mergeConfig$1(is||{},{method:ns,url:rs,data:(is||{}).data}))}});utils$3.forEach(["post","put","patch"],function(ns){Axios$1.prototype[ns]=function(rs,is,os){return this.request(mergeConfig$1(os||{},{method:ns,url:rs,data:is}))}});var Axios_1=Axios$1,CancelToken_1,hasRequiredCancelToken;function requireCancelToken(){if(hasRequiredCancelToken)return CancelToken_1;hasRequiredCancelToken=1;var ts=requireCancel();function ns(rs){if(typeof rs!="function")throw new TypeError("executor must be a function.");var is;this.promise=new Promise(function(as){is=as});var os=this;this.promise.then(function(ss){if(os._listeners){var as,ls=os._listeners.length;for(as=0;as<ls;as++)os._listeners[as](ss);os._listeners=null}}),this.promise.then=function(ss){var as,ls=new Promise(function(cs){os.subscribe(cs),as=cs}).then(ss);return ls.cancel=function(){os.unsubscribe(as)},ls},rs(function(as){os.reason||(os.reason=new ts(as),is(os.reason))})}return ns.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},ns.prototype.subscribe=function(is){if(this.reason){is(this.reason);return}this._listeners?this._listeners.push(is):this._listeners=[is]},ns.prototype.unsubscribe=function(is){if(this._listeners){var os=this._listeners.indexOf(is);os!==-1&&this._listeners.splice(os,1)}},ns.source=function(){var is,os=new ns(function(as){is=as});return{token:os,cancel:is}},CancelToken_1=ns,CancelToken_1}var spread,hasRequiredSpread;function requireSpread(){return hasRequiredSpread||(hasRequiredSpread=1,spread=function(ns){return function(is){return ns.apply(null,is)}}),spread}var isAxiosError,hasRequiredIsAxiosError;function requireIsAxiosError(){if(hasRequiredIsAxiosError)return isAxiosError;hasRequiredIsAxiosError=1;var ts=utils$b;return isAxiosError=function(rs){return ts.isObject(rs)&&rs.isAxiosError===!0},isAxiosError}var utils$2=utils$b,bind=bind$2,Axios=Axios_1,mergeConfig=mergeConfig$2,defaults$5=defaults_1;function createInstance(ts){var ns=new Axios(ts),rs=bind(Axios.prototype.request,ns);return utils$2.extend(rs,Axios.prototype,ns),utils$2.extend(rs,ns),rs.create=function(os){return createInstance(mergeConfig(ts,os))},rs}var axios$2=createInstance(defaults$5);axios$2.Axios=Axios;axios$2.Cancel=requireCancel();axios$2.CancelToken=requireCancelToken();axios$2.isCancel=requireIsCancel();axios$2.VERSION=requireData().version;axios$2.all=function(ns){return Promise.all(ns)};axios$2.spread=requireSpread();axios$2.isAxiosError=requireIsAxiosError();axios$3.exports=axios$2;axios$3.exports.default=axios$2;var axiosExports=axios$3.exports,axios$1=axiosExports;const name$2="@sendgrid/client",description$1="Twilio SendGrid NodeJS API client",version$3="7.7.0",author$1="Twilio SendGrid <help@twilio.com> (sendgrid.com)",contributors=["Kyle Partridge <kyle.partridge@sendgrid.com>","David Tomberlin <david.tomberlin@sendgrid.com>","Swift <swift@sendgrid.com>","Brandon West <brandon.west@sendgrid.com>","Scott Motte <scott.motte@sendgrid.com>","Robert Acosta <robert.acosta@sendgrid.com>","Elmer Thomas <ethomas@twilio.com>","Adam Reis <adam@reis.nz>"],license$1="MIT",homepage$1="https://sendgrid.com",repository$1={type:"git",url:"git://github.com/sendgrid/sendgrid-nodejs.git"},publishConfig={access:"public"},main$2="index.js",engines$1={node:"6.* || 8.* || >=10.*"},dependencies$1={"@sendgrid/helpers":"^7.7.0",axios:"^0.26.0"},devDependencies$1={chai:"4.2.0",nock:"^10.0.6"},resolutions={chai:"4.2.0"},tags=["http","rest","api","mail","sendgrid"],gitHead="30eebb16a51b51e6a2df1b3596044db6f5fdbe92",require$$1$1={name:name$2,description:description$1,version:version$3,author:author$1,contributors,license:license$1,homepage:homepage$1,repository:repository$1,publishConfig,main:main$2,engines:engines$1,dependencies:dependencies$1,devDependencies:devDependencies$1,resolutions,tags,gitHead};var convertKeys$3=function ts(ns,rs,is){if(typeof ns!="object"||ns===null)throw new Error("Non object passed to convertKeys: "+ns);if(Array.isArray(ns))return ns;Array.isArray(is)||(is=[]);for(const os in ns)if(ns.hasOwnProperty(os)){const ss=rs(os);typeof ns[os]=="object"&&ns[os]!==null&&!is.includes(os)&&!is.includes(ss)&&(ns[os]=ts(ns[os],rs,is)),ss!==os&&(ns[ss]=ns[os],delete ns[os])}return ns},strToCamelCase$1=function(ns){if(typeof ns!="string")throw new Error("String expected for conversion to snake case");return ns.trim().replace(/_+|\-+/g," ").replace(/(?:^\w|[A-Z]|\b\w|\s+)/g,function(rs,is){return Number(rs)===0?"":is===0?rs.toLowerCase():rs.toUpperCase()})};const convertKeys$2=convertKeys$3,strToCamelCase=strToCamelCase$1;var toCamelCase$5=function(ns,rs){return convertKeys$2(ns,strToCamelCase,rs)},strToSnakeCase$1=function(ns){if(typeof ns!="string")throw new Error("String expected for conversion to snake case");return ns.trim().replace(/(\s*\-*\b\w|[A-Z])/g,function(rs){return rs=rs.trim().toLowerCase().replace("-",""),(rs[0]==="_"?"":"_")+rs}).slice(1)};const convertKeys$1=convertKeys$3,strToSnakeCase=strToSnakeCase$1;var toSnakeCase$4=function(ns,rs){return convertKeys$1(ns,strToSnakeCase,rs)},deepClone$6=function(ns){return JSON.parse(JSON.stringify(ns))};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$4=getAugmentedNamespace(__viteBrowserExternal$1),toCamelCase$4=toCamelCase$5,toSnakeCase$3=toSnakeCase$4,deepClone$5=deepClone$6,fs=require$$4,path=require$$4;let Attachment$1=class{constructor(ns){ns&&this.fromData(ns)}fromData(ns){if(typeof ns!="object")throw new Error("Expecting object for Mail data");ns=deepClone$5(ns),ns=toCamelCase$4(ns);const{content:rs,filename:is,type:os,disposition:ss,contentId:as,filePath:ls}=ns;if(typeof rs<"u"&&typeof ls<"u")throw new Error("The props 'content' and 'filePath' cannot be used together.");this.setFilename(is),this.setType(os),this.setDisposition(ss),this.setContentId(as),this.setContent(ls?this.readFile(ls):rs)}readFile(ns){return fs.readFileSync(path.resolve(ns))}setContent(ns){if(typeof ns=="string"){this.content=ns;return}else if(ns instanceof Buffer&&ns.toString!==void 0){this.content=ns.toString(),this.disposition==="attachment"&&(this.content=ns.toString("base64"));return}throw new Error("`content` expected to be either Buffer or string")}setFileContent(ns){if(ns instanceof Buffer&&ns.toString!==void 0){this.content=ns.toString("base64");return}throw new Error("`content` expected to be Buffer")}setFilename(ns){if(!(typeof ns>"u")){if(ns&&typeof ns!="string")throw new Error("String expected for `filename`");this.filename=ns}}setType(ns){if(!(typeof ns>"u")){if(typeof ns!="string")throw new Error("String expected for `type`");this.type=ns}}setDisposition(ns){if(!(typeof ns>"u")){if(typeof ns!="string")throw new Error("String expected for `disposition`");this.disposition=ns}}setContentId(ns){if(!(typeof ns>"u")){if(typeof ns!="string")throw new Error("String expected for `contentId`");this.contentId=ns}}toJSON(){const{content:ns,filename:rs,type:is,disposition:os,contentId:ss}=this,as={content:ns,filename:rs};return typeof is<"u"&&(as.type=is),typeof os<"u"&&(as.disposition=os),typeof ss<"u"&&(as.contentId=ss),toSnakeCase$3(as)}};var attachment=Attachment$1,splitNameEmail$2=function(ns){if(ns.indexOf("<")===-1)return["",ns];let[rs,is]=ns.split("<");return rs=rs.trim(),is=is.replace(">","").trim(),[rs,is]};const splitNameEmail$1=splitNameEmail$2;let EmailAddress$3=class qp{constructor(ns){ns&&this.fromData(ns)}fromData(ns){if(typeof ns=="string"){const[os,ss]=splitNameEmail$1(ns);ns={name:os,email:ss}}if(typeof ns!="object")throw new Error("Expecting object or string for EmailAddress data");const{name:rs,email:is}=ns;this.setEmail(is),this.setName(rs)}setName(ns){if(!(typeof ns>"u")){if(typeof ns!="string")throw new Error("String expected for `name`");this.name=ns}}setEmail(ns){if(typeof ns>"u")throw new Error("Must provide `email`");if(typeof ns!="string")throw new Error("String expected for `email`");this.email=ns}toJSON(){const{email:ns,name:rs}=this,is={email:ns};return rs!==""&&(is.name=rs),is}static create(ns){return Array.isArray(ns)?ns.filter(rs=>!!rs).map(rs=>this.create(rs)):ns instanceof qp?ns:new qp(ns)}};var emailAddress=EmailAddress$3,isMergeableObject=function(ns){return isNonNullObject(ns)&&!isSpecial(ns)};function isNonNullObject(ts){return!!ts&&typeof ts=="object"}function isSpecial(ts){var ns=Object.prototype.toString.call(ts);return ns==="[object RegExp]"||ns==="[object Date]"||isReactElement(ts)}var canUseSymbol=typeof Symbol=="function"&&Symbol.for,REACT_ELEMENT_TYPE=canUseSymbol?Symbol.for("react.element"):60103;function isReactElement(ts){return ts.$$typeof===REACT_ELEMENT_TYPE}function emptyTarget(ts){return Array.isArray(ts)?[]:{}}function cloneUnlessOtherwiseSpecified(ts,ns){return ns.clone!==!1&&ns.isMergeableObject(ts)?deepmerge(emptyTarget(ts),ts,ns):ts}function defaultArrayMerge(ts,ns,rs){return ts.concat(ns).map(function(is){return cloneUnlessOtherwiseSpecified(is,rs)})}function getMergeFunction(ts,ns){if(!ns.customMerge)return deepmerge;var rs=ns.customMerge(ts);return typeof rs=="function"?rs:deepmerge}function getEnumerableOwnPropertySymbols(ts){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(ts).filter(function(ns){return Object.propertyIsEnumerable.call(ts,ns)}):[]}function getKeys(ts){return Object.keys(ts).concat(getEnumerableOwnPropertySymbols(ts))}function propertyIsOnObject(ts,ns){try{return ns in ts}catch{return!1}}function propertyIsUnsafe(ts,ns){return propertyIsOnObject(ts,ns)&&!(Object.hasOwnProperty.call(ts,ns)&&Object.propertyIsEnumerable.call(ts,ns))}function mergeObject(ts,ns,rs){var is={};return rs.isMergeableObject(ts)&&getKeys(ts).forEach(function(os){is[os]=cloneUnlessOtherwiseSpecified(ts[os],rs)}),getKeys(ns).forEach(function(os){propertyIsUnsafe(ts,os)||(propertyIsOnObject(ts,os)&&rs.isMergeableObject(ns[os])?is[os]=getMergeFunction(os,rs)(ts[os],ns[os],rs):is[os]=cloneUnlessOtherwiseSpecified(ns[os],rs))}),is}function deepmerge(ts,ns,rs){rs=rs||{},rs.arrayMerge=rs.arrayMerge||defaultArrayMerge,rs.isMergeableObject=rs.isMergeableObject||isMergeableObject,rs.cloneUnlessOtherwiseSpecified=cloneUnlessOtherwiseSpecified;var is=Array.isArray(ns),os=Array.isArray(ts),ss=is===os;return ss?is?rs.arrayMerge(ts,ns,rs):mergeObject(ts,ns,rs):cloneUnlessOtherwiseSpecified(ns,rs)}deepmerge.all=function(ns,rs){if(!Array.isArray(ns))throw new Error("first argument should be an array");return ns.reduce(function(is,os){return deepmerge(is,os,rs)},{})};var deepmerge_1=deepmerge,cjs$1=deepmerge_1,wrapSubstitutions$2=function ts(ns,rs="{{",is="}}"){if(Array.isArray(ns))return ns.map(ss=>ts(ss,rs,is));const os={};for(const ss in ns)ns.hasOwnProperty(ss)&&(os[rs+ss+is]=String(ns[ss]));return os};const EmailAddress$2=emailAddress,toCamelCase$3=toCamelCase$5,toSnakeCase$2=toSnakeCase$4,deepClone$4=deepClone$6,deepMerge=cjs$1,wrapSubstitutions$1=wrapSubstitutions$2;let Personalization$2=class{constructor(ns){this.to=[],this.cc=[],this.bcc=[],this.headers={},this.customArgs={},this.substitutions={},this.substitutionWrappers=["{{","}}"],this.dynamicTemplateData={},ns&&this.fromData(ns)}fromData(ns){if(typeof ns!="object")throw new Error("Expecting object for Mail data");ns=deepClone$4(ns),ns=toCamelCase$3(ns,["substitutions","dynamicTemplateData","customArgs","headers"]);const{to:rs,from:is,cc:os,bcc:ss,subject:as,headers:ls,customArgs:cs,sendAt:us,substitutions:ds,substitutionWrappers:ps,dynamicTemplateData:hs}=ns;this.setTo(rs),this.setFrom(is),this.setCc(os),this.setBcc(ss),this.setSubject(as),this.setHeaders(ls),this.setSubstitutions(ds),this.setSubstitutionWrappers(ps),this.setCustomArgs(cs),this.setDynamicTemplateData(hs),this.setSendAt(us)}setSubject(ns){if(!(typeof ns>"u")){if(typeof ns!="string")throw new Error("String expected for `subject`");this.subject=ns}}setSendAt(ns){if(!(typeof ns>"u")){if(!Number.isInteger(ns))throw new Error("Integer expected for `sendAt`");this.sendAt=ns}}setTo(ns){typeof ns>"u"||(Array.isArray(ns)||(ns=[ns]),this.to=EmailAddress$2.create(ns))}setFrom(ns){typeof ns>"u"||(this.from=EmailAddress$2.create(ns))}addTo(ns){typeof ns>"u"||this.to.push(EmailAddress$2.create(ns))}setCc(ns){typeof ns>"u"||(Array.isArray(ns)||(ns=[ns]),this.cc=EmailAddress$2.create(ns))}addCc(ns){typeof ns>"u"||this.cc.push(EmailAddress$2.create(ns))}setBcc(ns){typeof ns>"u"||(Array.isArray(ns)||(ns=[ns]),this.bcc=EmailAddress$2.create(ns))}addBcc(ns){typeof ns>"u"||this.bcc.push(EmailAddress$2.create(ns))}setHeaders(ns){if(!(typeof ns>"u")){if(typeof ns!="object"||ns===null)throw new Error("Object expected for `headers`");this.headers=ns}}addHeader(ns,rs){if(typeof ns!="string")throw new Error("String expected for header key");if(typeof rs!="string")throw new Error("String expected for header value");this.headers[ns]=rs}setCustomArgs(ns){if(!(typeof ns>"u")){if(typeof ns!="object"||ns===null)throw new Error("Object expected for `customArgs`");this.customArgs=ns}}addCustomArg(ns,rs){if(typeof ns!="string")throw new Error("String expected for custom arg key");if(typeof rs!="string")throw new Error("String expected for custom arg value");this.customArgs[ns]=rs}setSubstitutions(ns){if(!(typeof ns>"u")){if(typeof ns!="object")throw new Error("Object expected for `substitutions`");this.substitutions=ns}}addSubstitution(ns,rs){if(typeof ns!="string")throw new Error("String expected for substitution key");if(typeof rs!="string"&&typeof rs!="number")throw new Error("String or Number expected for substitution value");this.substitutions[ns]=rs}reverseMergeSubstitutions(ns){if(!(typeof ns>"u"||ns===null)){if(typeof ns!="object")throw new Error("Object expected for `substitutions` in reverseMergeSubstitutions");this.substitutions=Object.assign({},ns,this.substitutions)}}setSubstitutionWrappers(ns){if(!(typeof ns>"u"||ns===null)){if(!Array.isArray(ns)||ns.length!==2)throw new Error("Array expected with two elements for `substitutionWrappers`");this.substitutionWrappers=ns}}deepMergeDynamicTemplateData(ns){if(!(typeof ns>"u"||ns===null)){if(typeof ns!="object")throw new Error("Object expected for `dynamicTemplateData` in deepMergeDynamicTemplateData");this.dynamicTemplateData=deepMerge(ns,this.dynamicTemplateData)}}setDynamicTemplateData(ns){if(!(typeof ns>"u")){if(typeof ns!="object")throw new Error("Object expected for `dynamicTemplateData`");this.dynamicTemplateData=ns}}toJSON(){const{to:ns,from:rs,cc:is,bcc:os,subject:ss,headers:as,customArgs:ls,sendAt:cs,substitutions:us,substitutionWrappers:ds,dynamicTemplateData:ps}=this,hs={to:ns};if(Array.isArray(is)&&is.length>0&&(hs.cc=is),Array.isArray(os)&&os.length>0&&(hs.bcc=os),Object.keys(as).length>0&&(hs.headers=as),us&&Object.keys(us).length>0){const[ms,gs]=ds;hs.substitutions=wrapSubstitutions$1(us,ms,gs)}return Object.keys(ls).length>0&&(hs.customArgs=ls),ps&&Object.keys(ps).length>0&&(hs.dynamicTemplateData=ps),typeof ss<"u"&&(hs.subject=ss),typeof cs<"u"&&(hs.sendAt=cs),typeof rs<"u"&&(hs.from=rs),toSnakeCase$2(hs,["substitutions","dynamicTemplateData","customArgs","headers"])}};var personalization=Personalization$2,arrayToJson=function(ns){return ns.map(rs=>typeof rs=="object"&&rs!==null&&typeof rs.toJSON=="function"?rs.toJSON():rs)};const DYNAMIC_TEMPLATE_CHAR_WARNING$1="\nContent with characters ', \" or & may need to be escaped with three brackets\n{{{ content }}}\nSee https://sendgrid.com/docs/for-developers/sending-email/using-handlebars/ for more information.";var constants$3={DYNAMIC_TEMPLATE_CHAR_WARNING:DYNAMIC_TEMPLATE_CHAR_WARNING$1};const validate$2=(ts,ns,rs,is)=>{if(!(typeof ts>"u"||typeof ts[rs]>"u")&&typeof ts[rs]!==is)throw new Error("".concat(is," expected for `").concat(ns,".").concat(rs,"`"))};var validateSettings={validateMailSettings(ts){if(typeof ts!="object")throw new Error("Object expected for `mailSettings`");const{bcc:ns,bypassListManagement:rs,bypassSpamManagement:is,bypassBounceManagement:os,bypassUnsubscribeManagement:ss,footer:as,sandboxMode:ls,spamCheck:cs}=ts;validate$2(ns,"bcc","enable","boolean"),validate$2(ns,"bcc","email","string"),validate$2(rs,"bypassListManagement","enable","boolean"),validate$2(is,"bypassSpamManagement","enable","boolean"),validate$2(os,"bypassBounceManagement","enable","boolean"),validate$2(ss,"bypassUnsubscribeManagement","enable","boolean"),validate$2(as,"footer","enable","boolean"),validate$2(as,"footer","text","string"),validate$2(as,"footer","html","string"),validate$2(ls,"sandboxMode","enable","boolean"),validate$2(cs,"spamCheck","enable","boolean"),validate$2(cs,"spamCheck","threshold","number"),validate$2(cs,"spamCheck","postToUrl","string")},validateTrackingSettings(ts){if(typeof ts!="object")throw new Error("Object expected for `trackingSettings`");const{clickTracking:ns,openTracking:rs,subscriptionTracking:is,ganalytics:os}=ts;validate$2(ns,"clickTracking","enable","boolean"),validate$2(ns,"clickTracking","enableText","boolean"),validate$2(rs,"openTracking","enable","boolean"),validate$2(rs,"openTracking","substitutionTag","string"),validate$2(is,"subscriptionTracking","enable","boolean"),validate$2(is,"subscriptionTracking","text","string"),validate$2(is,"subscriptionTracking","html","string"),validate$2(is,"subscriptionTracking","substitutionTag","string"),validate$2(os,"ganalytics","enable","boolean"),validate$2(os,"ganalytics","utm_source","string"),validate$2(os,"ganalytics","utm_medium","string"),validate$2(os,"ganalytics","utm_term","string"),validate$2(os,"ganalytics","utm_content","string"),validate$2(os,"ganalytics","utm_campaign","string")}};const EmailAddress$1=emailAddress,Personalization$1=personalization,toCamelCase$2=toCamelCase$5,toSnakeCase$1=toSnakeCase$4,deepClone$3=deepClone$6,arrayToJSON$1=arrayToJson,{DYNAMIC_TEMPLATE_CHAR_WARNING}=constants$3,{validateMailSettings,validateTrackingSettings}=validateSettings;let Mail$2=class Kp{constructor(ns){this.isDynamic=!1,this.hideWarnings=!1,this.personalizations=[],this.attachments=[],this.content=[],this.categories=[],this.headers={},this.sections={},this.customArgs={},this.trackingSettings={},this.mailSettings={},this.asm={},this.substitutions=null,this.substitutionWrappers=null,this.dynamicTemplateData=null,ns&&this.fromData(ns)}fromData(ns){if(typeof ns!="object")throw new Error("Expecting object for Mail data");ns=deepClone$3(ns),ns=toCamelCase$2(ns,["substitutions","dynamicTemplateData","customArgs","headers","sections"]);const{to:rs,from:is,replyTo:os,cc:ss,bcc:as,sendAt:ls,subject:cs,text:us,html:ds,content:ps,templateId:hs,personalizations:ms,attachments:gs,ipPoolName:ys,batchId:vs,sections:bs,headers:Ss,categories:$s,category:Cs,customArgs:Es,asm:xs,mailSettings:ws,trackingSettings:ks,substitutions:Is,substitutionWrappers:Ts,dynamicTemplateData:Rs,isMultiple:As,hideWarnings:Ms,replyToList:Ls}=ns;this.setFrom(is),this.setReplyTo(os),this.setSubject(cs),this.setSendAt(ls),this.setTemplateId(hs),this.setBatchId(vs),this.setIpPoolName(ys),this.setAttachments(gs),this.setContent(ps),this.setSections(bs),this.setHeaders(Ss),this.setCategories(Cs),this.setCategories($s),this.setCustomArgs(Es),this.setAsm(xs),this.setMailSettings(ws),this.setTrackingSettings(ks),this.setHideWarnings(Ms),this.setReplyToList(Ls),this.isDynamic?this.setDynamicTemplateData(Rs):(this.setSubstitutions(Is),this.setSubstitutionWrappers(Ts)),this.addTextContent(us),this.addHtmlContent(ds),ms?this.setPersonalizations(ms):As&&Array.isArray(rs)?rs.forEach(Ds=>this.addTo(Ds,ss,as)):this.addTo(rs,ss,as)}setFrom(ns){if(this._checkProperty("from",ns,[this._checkUndefined])){if(typeof ns!="string"&&typeof ns.email!="string")throw new Error("String or address object expected for `from`");this.from=EmailAddress$1.create(ns)}}setReplyTo(ns){if(this._checkProperty("replyTo",ns,[this._checkUndefined])){if(typeof ns!="string"&&typeof ns.email!="string")throw new Error("String or address object expected for `replyTo`");this.replyTo=EmailAddress$1.create(ns)}}setSubject(ns){this._setProperty("subject",ns,"string")}setSendAt(ns){this._checkProperty("sendAt",ns,[this._checkUndefined,this._createCheckThatThrows(Number.isInteger,"Integer expected for `sendAt`")])&&(this.sendAt=ns)}setTemplateId(ns){this._setProperty("templateId",ns,"string")&&ns.indexOf("d-")===0&&(this.isDynamic=!0)}setBatchId(ns){this._setProperty("batchId",ns,"string")}setIpPoolName(ns){this._setProperty("ipPoolName",ns,"string")}setAsm(ns){if(this._checkProperty("asm",ns,[this._checkUndefined,this._createTypeCheck("object")])){if(typeof ns.groupId!="number")throw new Error("Expected `asm` to include an integer in its `groupId` field");if(ns.groupsToDisplay&&(!Array.isArray(ns.groupsToDisplay)||!ns.groupsToDisplay.every(rs=>typeof rs=="number")))throw new Error("Array of integers expected for `asm.groupsToDisplay`");this.asm=ns}}setPersonalizations(ns){if(this._doArrayCheck("personalizations",ns)){if(!ns.every(rs=>typeof rs=="object"))throw new Error("Array of objects expected for `personalizations`");this.personalizations=[],ns.forEach(rs=>this.addPersonalization(rs))}}addPersonalization(ns){this.isDynamic&&ns.substitutions?delete ns.substitutions:!this.isDynamic&&ns.dynamicTemplateData&&delete ns.dynamicTemplateData,ns instanceof Personalization$1||(ns=new Personalization$1(ns)),this.isDynamic?this.applyDynamicTemplateData(ns):this.applySubstitutions(ns),this.personalizations.push(ns)}addTo(ns,rs,is){if(typeof ns>"u"&&typeof rs>"u"&&typeof is>"u")throw new Error("Provide at least one of to, cc or bcc");this.addPersonalization(new Personalization$1({to:ns,cc:rs,bcc:is}))}setSubstitutions(ns){this._setProperty("substitutions",ns,"object")}setSubstitutionWrappers(ns){let rs=(is,os)=>{if(!Array.isArray(os)||os.length!==2)throw new Error("Array expected with two elements for `"+is+"`")};this._checkProperty("substitutionWrappers",ns,[this._checkUndefined,rs])&&(this.substitutionWrappers=ns)}applySubstitutions(ns){ns instanceof Personalization$1&&(ns.reverseMergeSubstitutions(this.substitutions),ns.setSubstitutionWrappers(this.substitutionWrappers))}applyDynamicTemplateData(ns){ns instanceof Personalization$1&&ns.deepMergeDynamicTemplateData(this.dynamicTemplateData)}setDynamicTemplateData(ns){if(!(typeof ns>"u")){if(typeof ns!="object")throw new Error("Object expected for `dynamicTemplateData`");this.hideWarnings||Object.values(ns).forEach(rs=>{/['"&]/.test(rs)&&console.warn(DYNAMIC_TEMPLATE_CHAR_WARNING)}),this.dynamicTemplateData=ns}}setContent(ns){if(this._doArrayCheck("content",ns)){if(!ns.every(rs=>typeof rs=="object"))throw new Error("Expected each entry in `content` to be an object");if(!ns.every(rs=>typeof rs.type=="string"))throw new Error("Expected each `content` entry to contain a `type` string");if(!ns.every(rs=>typeof rs.value=="string"))throw new Error("Expected each `content` entry to contain a `value` string");this.content=ns}}addContent(ns){this._checkProperty("content",ns,[this._createTypeCheck("object")])&&this.content.push(ns)}addTextContent(ns){this._checkProperty("text",ns,[this._checkUndefined,this._createTypeCheck("string")])&&this.addContent({value:ns,type:"text/plain"})}addHtmlContent(ns){this._checkProperty("html",ns,[this._checkUndefined,this._createTypeCheck("string")])&&this.addContent({value:ns,type:"text/html"})}setAttachments(ns){if(this._doArrayCheck("attachments",ns)){if(!ns.every(rs=>typeof rs.content=="string"))throw new Error("Expected each attachment to contain a `content` string");if(!ns.every(rs=>typeof rs.filename=="string"))throw new Error("Expected each attachment to contain a `filename` string");if(!ns.every(rs=>!rs.type||typeof rs.type=="string"))throw new Error("Expected the attachment's `type` field to be a string");if(!ns.every(rs=>!rs.disposition||typeof rs.disposition=="string"))throw new Error("Expected the attachment's `disposition` field to be a string");this.attachments=ns}}addAttachment(ns){this._checkProperty("attachment",ns,[this._checkUndefined,this._createTypeCheck("object")])&&this.attachments.push(ns)}setCategories(ns){let rs=(is,os)=>{if(!Array.isArray(os)||!os.every(ss=>typeof ss=="string"))throw new Error("Array of strings expected for `"+is+"`")};typeof ns=="string"&&(ns=[ns]),this._checkProperty("categories",ns,[this._checkUndefined,rs])&&(this.categories=ns)}addCategory(ns){this._checkProperty("category",ns,[this._createTypeCheck("string")])&&this.categories.push(ns)}setHeaders(ns){this._setProperty("headers",ns,"object")}addHeader(ns,rs){this._checkProperty("key",ns,[this._createTypeCheck("string")])&&this._checkProperty("value",rs,[this._createTypeCheck("string")])&&(this.headers[ns]=rs)}setSections(ns){this._setProperty("sections",ns,"object")}setCustomArgs(ns){this._setProperty("customArgs",ns,"object")}setTrackingSettings(ns){typeof ns>"u"||(validateTrackingSettings(ns),this.trackingSettings=ns)}setMailSettings(ns){typeof ns>"u"||(validateMailSettings(ns),this.mailSettings=ns)}setHideWarnings(ns){if(!(typeof ns>"u")){if(typeof ns!="boolean")throw new Error("Boolean expected for `hideWarnings`");this.hideWarnings=ns}}toJSON(){const{from:ns,replyTo:rs,sendAt:is,subject:os,content:ss,templateId:as,personalizations:ls,attachments:cs,ipPoolName:us,batchId:ds,asm:ps,sections:hs,headers:ms,categories:gs,customArgs:ys,mailSettings:vs,trackingSettings:bs,replyToList:Ss}=this,$s={from:ns,subject:os,personalizations:arrayToJSON$1(ls)};return Array.isArray(cs)&&cs.length>0&&($s.attachments=arrayToJSON$1(cs)),Array.isArray(gs)&&gs.length>0&&($s.categories=gs.filter(Cs=>Cs!=="")),Array.isArray(ss)&&ss.length>0&&($s.content=arrayToJSON$1(ss)),Object.keys(ms).length>0&&($s.headers=ms),Object.keys(vs).length>0&&($s.mailSettings=vs),Object.keys(bs).length>0&&($s.trackingSettings=bs),Object.keys(ys).length>0&&($s.customArgs=ys),Object.keys(hs).length>0&&($s.sections=hs),Object.keys(ps).length>0&&($s.asm=ps),typeof rs<"u"&&($s.replyTo=rs),typeof is<"u"&&($s.sendAt=is),typeof ds<"u"&&($s.batchId=ds),typeof as<"u"&&($s.templateId=as),typeof us<"u"&&($s.ipPoolName=us),typeof Ss<"u"&&($s.replyToList=Ss),toSnakeCase$1($s,["substitutions","dynamicTemplateData","customArgs","headers","sections"])}static create(ns){return Array.isArray(ns)?ns.filter(rs=>!!rs).map(rs=>this.create(rs)):ns instanceof Kp?ns:new Kp(ns)}_checkProperty(ns,rs,is){return!is.some(os=>os(ns,rs))}_setProperty(ns,rs,is){let os=this._checkProperty(ns,rs,[this._checkUndefined,this._createTypeCheck(is)]);return os&&(this[ns]=rs),os}_checkUndefined(ns,rs){return typeof rs>"u"}_createTypeCheck(ns){return(rs,is)=>{if(typeof is!==ns)throw new Error(ns+" expected for `"+rs+"`")}}_createCheckThatThrows(ns,rs){return(is,os)=>{if(!ns(os))throw new Error(rs)}}_setArrayProperty(ns,rs){this._doArrayCheck(ns,rs)&&(this[ns]=rs)}_doArrayCheck(ns,rs){return this._checkProperty(ns,rs,[this._checkUndefined,this._createCheckThatThrows(Array.isArray,"Array expected for`"+ns+"`")])}setReplyToList(ns){if(this._doArrayCheck("replyToList",ns)&&ns.length){if(!ns.every(rs=>rs&&typeof rs.email=="string"))throw new Error("Expected each replyTo to contain an `email` string");this.replyToList=ns}}};var mail$1=Mail$2;let Response$3=class{constructor(ns,rs,is){this.statusCode=ns,this.body=rs,this.headers=is}toString(){return"HTTP "+this.statusCode+" "+this.body}};var response=Response$3;let ResponseError$2=class extends Error{constructor(ns){super();const{headers:rs,status:is,statusText:os,data:ss}=ns;this.code=is,this.message=os,this.response={headers:rs,body:ss},this.stack||Error.captureStackTrace(this,this.constructor);const as=new RegExp(process.cwd()+"/","gi");this.stack=this.stack.replace(as,"")}toString(){const{body:ns}=this.response;let rs="".concat(this.message," (").concat(this.code,")");return ns&&Array.isArray(ns.errors)&&ns.errors.forEach(is=>{const os=is.message,ss=is.field,as=is.help;rs+="\n  ".concat(os,"\n    ").concat(ss,"\n    ").concat(as)}),rs}toJSON(){const{message:ns,code:rs,response:is}=this;return{message:ns,code:rs,response:is}}};var responseError=ResponseError$2;const toCamelCase$1=toCamelCase$5,deepClone$2=deepClone$6,AggregatedByOptions=["day","week","month"],CountryOptions=["us","ca"],SortByDirection=["desc","asc"];let Statistics$1=class{constructor(ns){this.startDate=null,this.endDate=null,this.aggregatedBy=null,ns&&this.fromData(ns)}fromData(ns){if(typeof ns!="object")throw new Error("Expecting object for Statistics data");ns=deepClone$2(ns),ns=toCamelCase$1(ns,["substitutions","customArgs"]);const{startDate:rs,endDate:is,aggregatedBy:os}=ns;this.setStartDate(rs),this.setEndDate(is),this.setAggregatedBy(os)}setStartDate(ns){if(typeof ns>"u")throw new Error("Date expected for `startDate`");if(new Date(ns)==="Invalid Date"||isNaN(new Date(ns)))throw new Error("Date expected for `startDate`");console.log(ns),this.startDate=new Date(ns).toISOString().slice(0,10)}setEndDate(ns){if(typeof ns>"u"){this.endDate=new Date().toISOString().slice(0,10);return}if(new Date(ns)==="Invalid Date"||isNaN(new Date(ns)))throw new Error("Date expected for `endDate`");this.endDate=new Date(ns).toISOString().slice(0,10)}setAggregatedBy(ns){if(!(typeof ns>"u"))if(typeof ns=="string"&&AggregatedByOptions.includes(ns.toLowerCase()))this.aggregatedBy=ns;else throw new Error("Incorrect value for `aggregatedBy`")}getGlobal(){const{startDate:ns,endDate:rs,aggregatedBy:is}=this;return{startDate:ns,endDate:rs,aggregatedBy:is}}getAdvanced(ns){const rs=this.getGlobal();return typeof ns>"u"||typeof ns=="string"&&CountryOptions.includes(ns.toLowerCase())&&(rs.country=ns),rs}getAdvancedMailboxProviders(ns){const rs=this.getGlobal();if(typeof ns>"u")return rs;if(Array.isArray(ns)&&ns.some(is=>typeof is!="string"))throw new Error("Array of strings expected for `mailboxProviders`");return rs.mailBoxProviders=ns,rs}getAdvancedBrowsers(ns){const rs=this.getGlobal();if(typeof ns>"u")return rs;if(Array.isArray(ns)&&ns.some(is=>typeof is!="string"))throw new Error("Array of strings expected for `browsers`");return rs.browsers=ns,rs}getCategories(ns){if(typeof ns>"u")throw new Error("Array of strings expected for `categories`");if(!this._isValidArrayOfStrings(ns))throw new Error("Array of strings expected for `categories`");const rs=this.getGlobal();return rs.categories=ns,rs}getSubuser(ns){if(typeof ns>"u")throw new Error("Array of strings expected for `subusers`");if(!this._isValidArrayOfStrings(ns))throw new Error("Array of strings expected for `subusers`");const rs=this.getGlobal();return rs.subusers=ns,rs}getSubuserSum(ns="delivered",rs=SortByDirection[0],is=5,os=0){if(typeof ns!="string")throw new Error("string expected for `sortByMetric`");if(!SortByDirection.includes(rs.toLowerCase()))throw new Error("desc or asc expected for `sortByDirection`");if(typeof is!="number")throw new Error("number expected for `limit`");if(typeof os!="number")throw new Error("number expected for `offset`");const ss=this.getGlobal();return ss.sortByMetric=ns,ss.sortByDirection=rs,ss.limit=is,ss.offset=os,ss}getSubuserMonthly(ns="delivered",rs=SortByDirection[0],is=5,os=0){if(typeof ns!="string")throw new Error("string expected for `sortByMetric`");if(!SortByDirection.includes(rs.toLowerCase()))throw new Error("desc or asc expected for `sortByDirection`");if(typeof is!="number")throw new Error("number expected for `limit`");if(typeof os!="number")throw new Error("number expected for `offset`");const ss=this.getGlobal();return ss.sortByMetric=ns,ss.sortByDirection=rs,ss.limit=is,ss.offset=os,ss}_isValidArrayOfStrings(ns){return!(!Array.isArray(ns)||ns.length<1||ns.some(rs=>typeof rs!="string"))}};var statistics=Statistics$1;const Attachment=attachment,EmailAddress=emailAddress,Mail$1=mail$1,Personalization=personalization,Response$2=response,ResponseError$1=responseError,Statistics=statistics;var classes$1={Attachment,EmailAddress,Mail:Mail$1,Personalization,Response:Response$2,ResponseError:ResponseError$1,Statistics},mergeData$2=function(ns,rs){if(typeof ns!="object"||ns===null)throw new Error("Not an object provided for base");if(typeof rs!="object"||rs===null)throw new Error("Not an object provided for data");const is=Object.assign({},ns);for(const os in rs)rs.hasOwnProperty(os)&&(rs[os]&&Array.isArray(rs[os])?is[os]=rs[os]:rs[os]&&typeof rs[os]=="object"?is[os]=Object.assign({},rs[os]):rs[os]&&(is[os]=rs[os]));return is};const arrayToJSON=arrayToJson,convertKeys=convertKeys$3,deepClone$1=deepClone$6,mergeData$1=mergeData$2,splitNameEmail=splitNameEmail$2,toCamelCase=toCamelCase$5,toSnakeCase=toSnakeCase$4,wrapSubstitutions=wrapSubstitutions$2;var helpers$1={arrayToJSON,convertKeys,deepClone:deepClone$1,mergeData:mergeData$1,splitNameEmail,toCamelCase,toSnakeCase,wrapSubstitutions};const classes=classes$1,helpers=helpers$1;var helpers_1={classes,helpers};const axios=axios$1,pkg=require$$1$1,{helpers:{mergeData},classes:{Response:Response$1,ResponseError}}=helpers_1,API_KEY_PREFIX="SG.",SENDGRID_BASE_URL="https://api.sendgrid.com/",TWILIO_BASE_URL="https://email.twilio.com/";let Client$4=class{constructor(){this.auth="",this.impersonateSubuser="",this.defaultHeaders={Accept:"application/json","Content-Type":"application/json","User-Agent":"sendgrid/"+pkg.version+";nodejs"},this.defaultRequest={baseUrl:SENDGRID_BASE_URL,url:"",method:"GET",headers:{},maxContentLength:1/0,maxBodyLength:1/0}}setApiKey(ns){this.auth="Bearer "+ns,this.setDefaultRequest("baseUrl",SENDGRID_BASE_URL),this.isValidApiKey(ns)||console.warn('API key does not start with "'.concat(API_KEY_PREFIX,'".'))}setTwilioEmailAuth(ns,rs){const is=Buffer.from(ns+":"+rs).toString("base64");this.auth="Basic "+is,this.setDefaultRequest("baseUrl",TWILIO_BASE_URL),this.isValidTwilioAuth(ns,rs)||console.warn("Twilio Email credentials must be non-empty strings.")}isValidApiKey(ns){return this.isString(ns)&&ns.trim().startsWith(API_KEY_PREFIX)}isValidTwilioAuth(ns,rs){return this.isString(ns)&&ns&&this.isString(rs)&&rs}isString(ns){return typeof ns=="string"||ns instanceof String}setImpersonateSubuser(ns){this.impersonateSubuser=ns}setDefaultHeader(ns,rs){return ns!==null&&typeof ns=="object"?(Object.assign(this.defaultHeaders,ns),this):(this.defaultHeaders[ns]=rs,this)}setDefaultRequest(ns,rs){return ns!==null&&typeof ns=="object"?(Object.assign(this.defaultRequest,ns),this):(this.defaultRequest[ns]=rs,this)}createHeaders(ns){const rs=mergeData(this.defaultHeaders,ns);return typeof rs.Authorization>"u"&&this.auth&&(rs.Authorization=this.auth),this.impersonateSubuser&&(rs["On-Behalf-Of"]=this.impersonateSubuser),rs}createRequest(ns){let rs={url:ns.uri||ns.url,baseUrl:ns.baseUrl,method:ns.method,data:ns.body,params:ns.qs,headers:ns.headers};return rs=mergeData(this.defaultRequest,rs),rs.headers=this.createHeaders(rs.headers),rs.baseURL=rs.baseUrl,delete rs.baseUrl,rs}request(ns,rs){ns=this.createRequest(ns);const is=new Promise((os,ss)=>{axios(ns).then(as=>os([new Response$1(as.status,as.data,as.headers),as.data])).catch(as=>as.response&&as.response.status>=400?ss(new ResponseError(as.response)):ss(as))});if(rs&&typeof rs!="function")throw new Error("Callback passed is not a function.");return rs?is.then(os=>rs(null,os)).catch(os=>rs(os,null)):is}};var client$2=Client$4;const Client$3=client$2;var client$1=new Client$3;const client=client$1,Client$2=client$2;client$3.exports=client;client$3.exports.Client=Client$2;var clientExports=client$3.exports;const{Client:Client$1}=clientExports,{classes:{Mail}}=helpers_1;let MailService$2=class{constructor(){this.setClient(new Client$1),this.setSubstitutionWrappers("{{","}}"),this.secretRules=[]}setClient(ns){return this.client=ns,this}setApiKey(ns){return this.client.setApiKey(ns),this}setTwilioEmailAuth(ns,rs){this.client.setTwilioEmailAuth(ns,rs)}setTimeout(ns){typeof ns>"u"||this.client.setDefaultRequest("timeout",ns)}setSubstitutionWrappers(ns,rs){if(typeof ns>"u"||typeof rs>"u")throw new Error("Must provide both left and right side wrappers");return Array.isArray(this.substitutionWrappers)||(this.substitutionWrappers=[]),this.substitutionWrappers[0]=ns,this.substitutionWrappers[1]=rs,this}setSecretRules(ns){ns instanceof Array||(ns=[ns]);const rs=ns.map(function(is){const os=typeof is;if(os==="string")return{pattern:new RegExp(is)};if(os==="object"){is instanceof RegExp?is={pattern:is}:is.hasOwnProperty("pattern")&&typeof is.pattern=="string"&&(is.pattern=new RegExp(is.pattern));try{return is.pattern.test(""),is}catch{}}});this.secretRules=rs.filter(function(is){return is})}filterSecrets(ns){if(typeof ns=="object"&&!ns.hasOwnProperty("content"))return;const rs=this;ns.content.forEach(function(is){rs.secretRules.forEach(function(os){if(os.hasOwnProperty("pattern")&&!os.pattern.test(is.value))return;let ss="The pattern '".concat(os.pattern,"'");throw os.name&&(ss+="identified by '".concat(os.name,"'")),ss+=" was found in the Mail content!",new Error(ss)})})}send(ns,rs=!1,is){if(typeof rs=="function"&&(is=rs,rs=!1),Array.isArray(ns)){const os=Promise.all(ns.map(ss=>this.send(ss,rs)));return is&&os.then(ss=>is(null,ss)).catch(ss=>is(ss,null)),os}try{typeof ns.isMultiple>"u"&&(ns.isMultiple=rs),typeof ns.substitutionWrappers>"u"&&(ns.substitutionWrappers=this.substitutionWrappers);const os=Mail.create(ns),ss=os.toJSON();this.filterSecrets(ss);const as={method:"POST",url:"/v3/mail/send",headers:os.headers,body:ss};return this.client.request(as,is)}catch(os){return is&&is(os,null),Promise.reject(os)}}sendMultiple(ns,rs){return this.send(ns,!0,rs)}};var mailService=MailService$2;const MailService$1=mailService;var mail=new MailService$1;const mailer=mail,MailService=mailService;mail$2.exports=mailer;mail$2.exports.MailService=MailService;const getSelectors=(ts,ns)=>{const rs={};for(const is of ns)rs[is]=ts(os=>os[is]);return rs};var CancellationReasonOptionsTelemed=(ts=>(ts["Wait time too long"]="Wait time too long",ts["Going to another urgent care company"]="Going to another urgent care company",ts["Going to an emergency department"]="Going to an emergency department",ts["Cost is too high"]="Cost is too high",ts["Insurance issue"]="Insurance issue",ts["Technical issue"]="Technical issue",ts["Patient improved"]="Patient improved",ts["Clicked accidentally"]="Clicked accidentally",ts.Other="Other",ts))(CancellationReasonOptionsTelemed||{});const availableTimezones=ts=>{ts||(ts=DateTime.now());const ns=[{value:"America/New_York",label:""},{value:"America/Chicago",label:""},{value:"America/Denver",label:""},{value:"America/Los_Angeles",label:""}];return ns.forEach(rs=>{if(ts)rs.label=ts.setZone(rs.value).toFormat("ZZZZ");else throw new Error("Date in availableTimezones is undefined")}),ns};function createLocalDateTime(ts,ns){let rs;return ts!==void 0&&(rs=ts.setZone(ns)),rs}function getBestTimezone(){const ts=Intl.DateTimeFormat().resolvedOptions().timeZone,ns=DateTime.now().setZone(ts).toFormat("ZZZZ"),rs=availableTimezones(DateTime.now()),is=rs.find(os=>os.label===ns);return is!=null?is.value:rs[0].value}const isoStringFromYMDString=ts=>{if(ts.includes("/"))return DateTime.fromFormat(ts||"","MM/dd/yyyy").toISODate()||"";if(DateTime.fromISO(ts))return DateTime.fromISO(ts||"").toISODate()||"";throw new Error("Invalid format provided. Could not parse yyyy-mm-dd date from input.")},isoStringFromMDYString=ts=>{const[ns,rs,is]=ts.split("/");if(ns&&rs&&is)return"".concat(is,"-").concat(ns,"-").concat(rs);const[os,ss,as]=ts.split("-");if(os&&ss&&as)return ts;throw new Error("Invalid format provided. Could not parse yyyy-mm-dd date from input.")},yupDateTransform=ts=>{if(typeof ts=="object"){const{year:ns,month:rs,day:is}=ts;return isoStringFromYMDString("".concat(rs,"/").concat(is,"/").concat(ns))}try{return isoStringFromYMDString(ts||"")}catch{return ts}},formatVisitDate=(ts,ns)=>{if(ns=="birth"){const rs={year:"numeric",month:"long",day:"numeric"};return new Date(ts).toLocaleDateString("en-US",rs)}else if(ns=="visit"){const rs={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0};return new Date(ts).toLocaleDateString("en-US",rs)}return ts},DATETIME_FULL_NO_YEAR="MMMM d, h:mm a ZZZZ",DATE_ERROR_MESSAGE="Please enter a valid date";function ageIsInRange(ts,ns,rs){const is=isoStringFromMDYString(ts),os=Math.floor(-DateTime.fromISO(is).diffNow("years").years),ss=os>=ns,as=os<=rs;return{result:ss&&as,notYetBorn:!ss,tooOld:!as}}const getInputTypes=ts=>{switch(ts){case"patient-zip":return"number";case"patient-number":case"guardian-number":case"pcp-number":case"pharmacy-phone":case"responsible-party-number":return"tel";default:return"text"}};function isNullOrUndefined(ts){return ts==null}const emailRegex=/^\S+@\S+\.\S+$/,zipRegex=/^\d{5}$/,phoneRegex=/^\(\d{3}\) \d{3}-\d{4}$/,emojiRegex=/^(?:(?!\p{Extended_Pictographic}).)*$/u,yupFHIRDateRegex=/^\d{4}-(0[1-9]|1[0-2])-(0[1-9]|[12]\d|3[01])$/;var map$1;try{map$1=Map}catch{}var set;try{set=Set}catch{}function baseClone(ts,ns,rs){if(!ts||typeof ts!="object"||typeof ts=="function")return ts;if(ts.nodeType&&"cloneNode"in ts)return ts.cloneNode(!0);if(ts instanceof Date)return new Date(ts.getTime());if(ts instanceof RegExp)return new RegExp(ts);if(Array.isArray(ts))return ts.map(clone);if(map$1&&ts instanceof map$1)return new Map(Array.from(ts.entries()));if(set&&ts instanceof set)return new Set(Array.from(ts.values()));if(ts instanceof Object){ns.push(ts);var is=Object.create(ts);rs.push(is);for(var os in ts){var ss=ns.findIndex(function(as){return as===ts[os]});is[os]=ss>-1?rs[ss]:baseClone(ts[os],ns,rs)}return is}return ts}function clone(ts){return baseClone(ts,[],[])}const toString$b=Object.prototype.toString,errorToString=Error.prototype.toString,regExpToString=RegExp.prototype.toString,symbolToString$1=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",SYMBOL_REGEXP=/^Symbol\((.*)\)(.*)$/;function printNumber(ts){return ts!=+ts?"NaN":ts===0&&1/ts<0?"-0":""+ts}function printSimpleValue(ts,ns=!1){if(ts==null||ts===!0||ts===!1)return""+ts;const rs=typeof ts;if(rs==="number")return printNumber(ts);if(rs==="string")return ns?'"'.concat(ts,'"'):ts;if(rs==="function")return"[Function "+(ts.name||"anonymous")+"]";if(rs==="symbol")return symbolToString$1.call(ts).replace(SYMBOL_REGEXP,"Symbol($1)");const is=toString$b.call(ts).slice(8,-1);return is==="Date"?isNaN(ts.getTime())?""+ts:ts.toISOString(ts):is==="Error"||ts instanceof Error?"["+errorToString.call(ts)+"]":is==="RegExp"?regExpToString.call(ts):null}function printValue(ts,ns){let rs=printSimpleValue(ts,ns);return rs!==null?rs:JSON.stringify(ts,function(is,os){let ss=printSimpleValue(this[is],ns);return ss!==null?ss:os},2)}let mixed={default:"${path} is invalid",required:"${path} is a required field",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:ts,type:ns,value:rs,originalValue:is})=>{let os=is!=null&&is!==rs,ss="".concat(ts," must be a `").concat(ns,"` type, ")+"but the final value was: `".concat(printValue(rs,!0),"`")+(os?" (cast from the value `".concat(printValue(is,!0),"`)."):".");return rs===null&&(ss+='\n If "null" is intended as an empty value be sure to mark the schema as `.nullable()`'),ss},defined:"${path} must be defined"},string$2={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},number$1={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},date={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},boolean$1={isValue:"${path} field must be ${value}"},object={noUnknown:"${path} field has unspecified keys: ${unknown}"},array={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"};Object.assign(Object.create(null),{mixed,string:string$2,number:number$1,date,object,array,boolean:boolean$1});var objectProto$c=Object.prototype,hasOwnProperty$d=objectProto$c.hasOwnProperty;function baseHas$1(ts,ns){return ts!=null&&hasOwnProperty$d.call(ts,ns)}var _baseHas=baseHas$1,isArray$9=Array.isArray,isArray_1=isArray$9,freeGlobal$1=typeof commonjsGlobal$1=="object"&&commonjsGlobal$1&&commonjsGlobal$1.Object===Object&&commonjsGlobal$1,_freeGlobal=freeGlobal$1,freeGlobal=_freeGlobal,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root$a=freeGlobal||freeSelf||Function("return this")(),_root=root$a,root$9=_root,Symbol$5=root$9.Symbol,_Symbol=Symbol$5,Symbol$4=_Symbol,objectProto$b=Object.prototype,hasOwnProperty$c=objectProto$b.hasOwnProperty,nativeObjectToString$1=objectProto$b.toString,symToStringTag$1=Symbol$4?Symbol$4.toStringTag:void 0;function getRawTag$1(ts){var ns=hasOwnProperty$c.call(ts,symToStringTag$1),rs=ts[symToStringTag$1];try{ts[symToStringTag$1]=void 0;var is=!0}catch{}var os=nativeObjectToString$1.call(ts);return is&&(ns?ts[symToStringTag$1]=rs:delete ts[symToStringTag$1]),os}var _getRawTag=getRawTag$1,objectProto$a=Object.prototype,nativeObjectToString=objectProto$a.toString;function objectToString$2(ts){return nativeObjectToString.call(ts)}var _objectToString=objectToString$2,Symbol$3=_Symbol,getRawTag=_getRawTag,objectToString$1=_objectToString,nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$3?Symbol$3.toStringTag:void 0;function baseGetTag$5(ts){return ts==null?ts===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(ts)?getRawTag(ts):objectToString$1(ts)}var _baseGetTag=baseGetTag$5;function isObjectLike$5(ts){return ts!=null&&typeof ts=="object"}var isObjectLike_1=isObjectLike$5,baseGetTag$4=_baseGetTag,isObjectLike$4=isObjectLike_1,symbolTag$1="[object Symbol]";function isSymbol$3(ts){return typeof ts=="symbol"||isObjectLike$4(ts)&&baseGetTag$4(ts)==symbolTag$1}var isSymbol_1=isSymbol$3,isArray$8=isArray_1,isSymbol$2=isSymbol_1,reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;function isKey$3(ts,ns){if(isArray$8(ts))return!1;var rs=typeof ts;return rs=="number"||rs=="symbol"||rs=="boolean"||ts==null||isSymbol$2(ts)?!0:reIsPlainProp.test(ts)||!reIsDeepProp.test(ts)||ns!=null&&ts in Object(ns)}var _isKey=isKey$3;function isObject$4(ts){var ns=typeof ts;return ts!=null&&(ns=="object"||ns=="function")}var isObject_1=isObject$4,baseGetTag$3=_baseGetTag,isObject$3=isObject_1,asyncTag="[object AsyncFunction]",funcTag$1="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction$2(ts){if(!isObject$3(ts))return!1;var ns=baseGetTag$3(ts);return ns==funcTag$1||ns==genTag||ns==asyncTag||ns==proxyTag}var isFunction_1=isFunction$2,root$8=_root,coreJsData$1=root$8["__core-js_shared__"],_coreJsData=coreJsData$1,coreJsData=_coreJsData,maskSrcKey=function(){var ts=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return ts?"Symbol(src)_1."+ts:""}();function isMasked$1(ts){return!!maskSrcKey&&maskSrcKey in ts}var _isMasked=isMasked$1,funcProto$1=Function.prototype,funcToString$1=funcProto$1.toString;function toSource$2(ts){if(ts!=null){try{return funcToString$1.call(ts)}catch{}try{return ts+""}catch{}}return""}var _toSource=toSource$2,isFunction$1=isFunction_1,isMasked=_isMasked,isObject$2=isObject_1,toSource$1=_toSource,reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto=Function.prototype,objectProto$9=Object.prototype,funcToString=funcProto.toString,hasOwnProperty$b=objectProto$9.hasOwnProperty,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty$b).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative$1(ts){if(!isObject$2(ts)||isMasked(ts))return!1;var ns=isFunction$1(ts)?reIsNative:reIsHostCtor;return ns.test(toSource$1(ts))}var _baseIsNative=baseIsNative$1;function getValue$2(ts,ns){return ts==null?void 0:ts[ns]}var _getValue=getValue$2,baseIsNative=_baseIsNative,getValue$1=_getValue;function getNative$7(ts,ns){var rs=getValue$1(ts,ns);return baseIsNative(rs)?rs:void 0}var _getNative=getNative$7,getNative$6=_getNative,nativeCreate$4=getNative$6(Object,"create"),_nativeCreate=nativeCreate$4,nativeCreate$3=_nativeCreate;function hashClear$1(){this.__data__=nativeCreate$3?nativeCreate$3(null):{},this.size=0}var _hashClear=hashClear$1;function hashDelete$1(ts){var ns=this.has(ts)&&delete this.__data__[ts];return this.size-=ns?1:0,ns}var _hashDelete=hashDelete$1,nativeCreate$2=_nativeCreate,HASH_UNDEFINED$2="__lodash_hash_undefined__",objectProto$8=Object.prototype,hasOwnProperty$a=objectProto$8.hasOwnProperty;function hashGet$1(ts){var ns=this.__data__;if(nativeCreate$2){var rs=ns[ts];return rs===HASH_UNDEFINED$2?void 0:rs}return hasOwnProperty$a.call(ns,ts)?ns[ts]:void 0}var _hashGet=hashGet$1,nativeCreate$1=_nativeCreate,objectProto$7=Object.prototype,hasOwnProperty$9=objectProto$7.hasOwnProperty;function hashHas$1(ts){var ns=this.__data__;return nativeCreate$1?ns[ts]!==void 0:hasOwnProperty$9.call(ns,ts)}var _hashHas=hashHas$1,nativeCreate=_nativeCreate,HASH_UNDEFINED$1="__lodash_hash_undefined__";function hashSet$1(ts,ns){var rs=this.__data__;return this.size+=this.has(ts)?0:1,rs[ts]=nativeCreate&&ns===void 0?HASH_UNDEFINED$1:ns,this}var _hashSet=hashSet$1,hashClear=_hashClear,hashDelete=_hashDelete,hashGet=_hashGet,hashHas=_hashHas,hashSet=_hashSet;function Hash$1(ts){var ns=-1,rs=ts==null?0:ts.length;for(this.clear();++ns<rs;){var is=ts[ns];this.set(is[0],is[1])}}Hash$1.prototype.clear=hashClear;Hash$1.prototype.delete=hashDelete;Hash$1.prototype.get=hashGet;Hash$1.prototype.has=hashHas;Hash$1.prototype.set=hashSet;var _Hash=Hash$1;function listCacheClear$1(){this.__data__=[],this.size=0}var _listCacheClear=listCacheClear$1;function eq$2(ts,ns){return ts===ns||ts!==ts&&ns!==ns}var eq_1=eq$2,eq$1=eq_1;function assocIndexOf$4(ts,ns){for(var rs=ts.length;rs--;)if(eq$1(ts[rs][0],ns))return rs;return-1}var _assocIndexOf=assocIndexOf$4,assocIndexOf$3=_assocIndexOf,arrayProto=Array.prototype,splice$1=arrayProto.splice;function listCacheDelete$1(ts){var ns=this.__data__,rs=assocIndexOf$3(ns,ts);if(rs<0)return!1;var is=ns.length-1;return rs==is?ns.pop():splice$1.call(ns,rs,1),--this.size,!0}var _listCacheDelete=listCacheDelete$1,assocIndexOf$2=_assocIndexOf;function listCacheGet$1(ts){var ns=this.__data__,rs=assocIndexOf$2(ns,ts);return rs<0?void 0:ns[rs][1]}var _listCacheGet=listCacheGet$1,assocIndexOf$1=_assocIndexOf;function listCacheHas$1(ts){return assocIndexOf$1(this.__data__,ts)>-1}var _listCacheHas=listCacheHas$1,assocIndexOf=_assocIndexOf;function listCacheSet$1(ts,ns){var rs=this.__data__,is=assocIndexOf(rs,ts);return is<0?(++this.size,rs.push([ts,ns])):rs[is][1]=ns,this}var _listCacheSet=listCacheSet$1,listCacheClear=_listCacheClear,listCacheDelete=_listCacheDelete,listCacheGet=_listCacheGet,listCacheHas=_listCacheHas,listCacheSet=_listCacheSet;function ListCache$4(ts){var ns=-1,rs=ts==null?0:ts.length;for(this.clear();++ns<rs;){var is=ts[ns];this.set(is[0],is[1])}}ListCache$4.prototype.clear=listCacheClear;ListCache$4.prototype.delete=listCacheDelete;ListCache$4.prototype.get=listCacheGet;ListCache$4.prototype.has=listCacheHas;ListCache$4.prototype.set=listCacheSet;var _ListCache=ListCache$4,getNative$5=_getNative,root$7=_root,Map$4=getNative$5(root$7,"Map"),_Map=Map$4,Hash=_Hash,ListCache$3=_ListCache,Map$3=_Map;function mapCacheClear$1(){this.size=0,this.__data__={hash:new Hash,map:new(Map$3||ListCache$3),string:new Hash}}var _mapCacheClear=mapCacheClear$1;function isKeyable$1(ts){var ns=typeof ts;return ns=="string"||ns=="number"||ns=="symbol"||ns=="boolean"?ts!=="__proto__":ts===null}var _isKeyable=isKeyable$1,isKeyable=_isKeyable;function getMapData$4(ts,ns){var rs=ts.__data__;return isKeyable(ns)?rs[typeof ns=="string"?"string":"hash"]:rs.map}var _getMapData=getMapData$4,getMapData$3=_getMapData;function mapCacheDelete$1(ts){var ns=getMapData$3(this,ts).delete(ts);return this.size-=ns?1:0,ns}var _mapCacheDelete=mapCacheDelete$1,getMapData$2=_getMapData;function mapCacheGet$1(ts){return getMapData$2(this,ts).get(ts)}var _mapCacheGet=mapCacheGet$1,getMapData$1=_getMapData;function mapCacheHas$1(ts){return getMapData$1(this,ts).has(ts)}var _mapCacheHas=mapCacheHas$1,getMapData=_getMapData;function mapCacheSet$1(ts,ns){var rs=getMapData(this,ts),is=rs.size;return rs.set(ts,ns),this.size+=rs.size==is?0:1,this}var _mapCacheSet=mapCacheSet$1,mapCacheClear=_mapCacheClear,mapCacheDelete=_mapCacheDelete,mapCacheGet=_mapCacheGet,mapCacheHas=_mapCacheHas,mapCacheSet=_mapCacheSet;function MapCache$3(ts){var ns=-1,rs=ts==null?0:ts.length;for(this.clear();++ns<rs;){var is=ts[ns];this.set(is[0],is[1])}}MapCache$3.prototype.clear=mapCacheClear;MapCache$3.prototype.delete=mapCacheDelete;MapCache$3.prototype.get=mapCacheGet;MapCache$3.prototype.has=mapCacheHas;MapCache$3.prototype.set=mapCacheSet;var _MapCache=MapCache$3,MapCache$2=_MapCache,FUNC_ERROR_TEXT="Expected a function";function memoize$3(ts,ns){if(typeof ts!="function"||ns!=null&&typeof ns!="function")throw new TypeError(FUNC_ERROR_TEXT);var rs=function(){var is=arguments,os=ns?ns.apply(this,is):is[0],ss=rs.cache;if(ss.has(os))return ss.get(os);var as=ts.apply(this,is);return rs.cache=ss.set(os,as)||ss,as};return rs.cache=new(memoize$3.Cache||MapCache$2),rs}memoize$3.Cache=MapCache$2;var memoize_1=memoize$3,memoize$2=memoize_1,MAX_MEMOIZE_SIZE=500;function memoizeCapped$1(ts){var ns=memoize$2(ts,function(is){return rs.size===MAX_MEMOIZE_SIZE&&rs.clear(),is}),rs=ns.cache;return ns}var _memoizeCapped=memoizeCapped$1,memoizeCapped=_memoizeCapped,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar=/\\(\\)?/g,stringToPath$1=memoizeCapped(function(ts){var ns=[];return ts.charCodeAt(0)===46&&ns.push(""),ts.replace(rePropName,function(rs,is,os,ss){ns.push(os?ss.replace(reEscapeChar,"$1"):is||rs)}),ns}),_stringToPath=stringToPath$1;function arrayMap$1(ts,ns){for(var rs=-1,is=ts==null?0:ts.length,os=Array(is);++rs<is;)os[rs]=ns(ts[rs],rs,ts);return os}var _arrayMap=arrayMap$1,Symbol$2=_Symbol,arrayMap=_arrayMap,isArray$7=isArray_1,isSymbol$1=isSymbol_1,INFINITY$1=1/0,symbolProto$1=Symbol$2?Symbol$2.prototype:void 0,symbolToString=symbolProto$1?symbolProto$1.toString:void 0;function baseToString$1(ts){if(typeof ts=="string")return ts;if(isArray$7(ts))return arrayMap(ts,baseToString$1)+"";if(isSymbol$1(ts))return symbolToString?symbolToString.call(ts):"";var ns=ts+"";return ns=="0"&&1/ts==-INFINITY$1?"-0":ns}var _baseToString=baseToString$1,baseToString=_baseToString;function toString$a(ts){return ts==null?"":baseToString(ts)}var toString_1=toString$a,isArray$6=isArray_1,isKey$2=_isKey,stringToPath=_stringToPath,toString$9=toString_1;function castPath$2(ts,ns){return isArray$6(ts)?ts:isKey$2(ts,ns)?[ts]:stringToPath(toString$9(ts))}var _castPath=castPath$2,baseGetTag$2=_baseGetTag,isObjectLike$3=isObjectLike_1,argsTag$2="[object Arguments]";function baseIsArguments$1(ts){return isObjectLike$3(ts)&&baseGetTag$2(ts)==argsTag$2}var _baseIsArguments=baseIsArguments$1,baseIsArguments=_baseIsArguments,isObjectLike$2=isObjectLike_1,objectProto$6=Object.prototype,hasOwnProperty$8=objectProto$6.hasOwnProperty,propertyIsEnumerable$1=objectProto$6.propertyIsEnumerable,isArguments$2=baseIsArguments(function(){return arguments}())?baseIsArguments:function(ts){return isObjectLike$2(ts)&&hasOwnProperty$8.call(ts,"callee")&&!propertyIsEnumerable$1.call(ts,"callee")},isArguments_1=isArguments$2,MAX_SAFE_INTEGER$1=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex$2(ts,ns){var rs=typeof ts;return ns=ns==null?MAX_SAFE_INTEGER$1:ns,!!ns&&(rs=="number"||rs!="symbol"&&reIsUint.test(ts))&&ts>-1&&ts%1==0&&ts<ns}var _isIndex=isIndex$2,MAX_SAFE_INTEGER=9007199254740991;function isLength$3(ts){return typeof ts=="number"&&ts>-1&&ts%1==0&&ts<=MAX_SAFE_INTEGER}var isLength_1=isLength$3,isSymbol=isSymbol_1,INFINITY=1/0;function toKey$4(ts){if(typeof ts=="string"||isSymbol(ts))return ts;var ns=ts+"";return ns=="0"&&1/ts==-INFINITY?"-0":ns}var _toKey=toKey$4,castPath$1=_castPath,isArguments$1=isArguments_1,isArray$5=isArray_1,isIndex$1=_isIndex,isLength$2=isLength_1,toKey$3=_toKey;function hasPath$2(ts,ns,rs){ns=castPath$1(ns,ts);for(var is=-1,os=ns.length,ss=!1;++is<os;){var as=toKey$3(ns[is]);if(!(ss=ts!=null&&rs(ts,as)))break;ts=ts[as]}return ss||++is!=os?ss:(os=ts==null?0:ts.length,!!os&&isLength$2(os)&&isIndex$1(as,os)&&(isArray$5(ts)||isArguments$1(ts)))}var _hasPath=hasPath$2,baseHas=_baseHas,hasPath$1=_hasPath;function has(ts,ns){return ts!=null&&hasPath$1(ts,ns,baseHas)}var has_1=has;const has$1=getDefaultExportFromCjs(has_1),isSchema=ts=>ts&&ts.__isYupSchema__;class Condition{constructor(ns,rs){if(this.fn=void 0,this.refs=ns,this.refs=ns,typeof rs=="function"){this.fn=rs;return}if(!has$1(rs,"is"))throw new TypeError("`is:` is required for `when()` conditions");if(!rs.then&&!rs.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is,then:os,otherwise:ss}=rs,as=typeof is=="function"?is:(...ls)=>ls.every(cs=>cs===is);this.fn=function(...ls){let cs=ls.pop(),us=ls.pop(),ds=as(...ls)?os:ss;if(ds)return typeof ds=="function"?ds(us):us.concat(ds.resolve(cs))}}resolve(ns,rs){let is=this.refs.map(ss=>ss.getValue(rs==null?void 0:rs.value,rs==null?void 0:rs.parent,rs==null?void 0:rs.context)),os=this.fn.apply(ns,is.concat(ns,rs));if(os===void 0||os===ns)return ns;if(!isSchema(os))throw new TypeError("conditions must return a schema object");return os.resolve(rs)}}function toArray(ts){return ts==null?[]:[].concat(ts)}function _extends$5(){return _extends$5=Object.assign||function(ts){for(var ns=1;ns<arguments.length;ns++){var rs=arguments[ns];for(var is in rs)Object.prototype.hasOwnProperty.call(rs,is)&&(ts[is]=rs[is])}return ts},_extends$5.apply(this,arguments)}let strReg=/\$\{\s*(\w+)\s*\}/g;class ValidationError extends Error{static formatError(ns,rs){const is=rs.label||rs.path||"this";return is!==rs.path&&(rs=_extends$5({},rs,{path:is})),typeof ns=="string"?ns.replace(strReg,(os,ss)=>printValue(rs[ss])):typeof ns=="function"?ns(rs):ns}static isError(ns){return ns&&ns.name==="ValidationError"}constructor(ns,rs,is,os){super(),this.value=void 0,this.path=void 0,this.type=void 0,this.errors=void 0,this.params=void 0,this.inner=void 0,this.name="ValidationError",this.value=rs,this.path=is,this.type=os,this.errors=[],this.inner=[],toArray(ns).forEach(ss=>{ValidationError.isError(ss)?(this.errors.push(...ss.errors),this.inner=this.inner.concat(ss.inner.length?ss.inner:ss)):this.errors.push(ss)}),this.message=this.errors.length>1?"".concat(this.errors.length," errors occurred"):this.errors[0],Error.captureStackTrace&&Error.captureStackTrace(this,ValidationError)}}const once=ts=>{let ns=!1;return(...rs)=>{ns||(ns=!0,ts(...rs))}};function runTests(ts,ns){let{endEarly:rs,tests:is,args:os,value:ss,errors:as,sort:ls,path:cs}=ts,us=once(ns),ds=is.length;const ps=[];if(as=as||[],!ds)return as.length?us(new ValidationError(as,ss,cs)):us(null,ss);for(let hs=0;hs<is.length;hs++){const ms=is[hs];ms(os,function(ys){if(ys){if(!ValidationError.isError(ys))return us(ys,ss);if(rs)return ys.value=ss,us(ys,ss);ps.push(ys)}if(--ds<=0){if(ps.length&&(ls&&ps.sort(ls),as.length&&ps.push(...as),as=ps),as.length){us(new ValidationError(as,ss,cs),ss);return}us(null,ss)}})}}var getNative$4=_getNative,defineProperty$2=function(){try{var ts=getNative$4(Object,"defineProperty");return ts({},"",{}),ts}catch{}}(),_defineProperty=defineProperty$2,defineProperty$1=_defineProperty;function baseAssignValue$2(ts,ns,rs){ns=="__proto__"&&defineProperty$1?defineProperty$1(ts,ns,{configurable:!0,enumerable:!0,value:rs,writable:!0}):ts[ns]=rs}var _baseAssignValue=baseAssignValue$2;function createBaseFor$1(ts){return function(ns,rs,is){for(var os=-1,ss=Object(ns),as=is(ns),ls=as.length;ls--;){var cs=as[ts?ls:++os];if(rs(ss[cs],cs,ss)===!1)break}return ns}}var _createBaseFor=createBaseFor$1,createBaseFor=_createBaseFor,baseFor$1=createBaseFor(),_baseFor=baseFor$1;function baseTimes$1(ts,ns){for(var rs=-1,is=Array(ts);++rs<ts;)is[rs]=ns(rs);return is}var _baseTimes=baseTimes$1,isBuffer$2={exports:{}};function stubFalse(){return!1}var stubFalse_1=stubFalse;isBuffer$2.exports;(function(ts,ns){var rs=_root,is=stubFalse_1,os=ns&&!ns.nodeType&&ns,ss=os&&!0&&ts&&!ts.nodeType&&ts,as=ss&&ss.exports===os,ls=as?rs.Buffer:void 0,cs=ls?ls.isBuffer:void 0,us=cs||is;ts.exports=us})(isBuffer$2,isBuffer$2.exports);var isBufferExports=isBuffer$2.exports,baseGetTag$1=_baseGetTag,isLength$1=isLength_1,isObjectLike$1=isObjectLike_1,argsTag$1="[object Arguments]",arrayTag$1="[object Array]",boolTag$1="[object Boolean]",dateTag$1="[object Date]",errorTag$1="[object Error]",funcTag="[object Function]",mapTag$2="[object Map]",numberTag$1="[object Number]",objectTag$2="[object Object]",regexpTag$1="[object RegExp]",setTag$2="[object Set]",stringTag$1="[object String]",weakMapTag$1="[object WeakMap]",arrayBufferTag$1="[object ArrayBuffer]",dataViewTag$2="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0;typedArrayTags[argsTag$1]=typedArrayTags[arrayTag$1]=typedArrayTags[arrayBufferTag$1]=typedArrayTags[boolTag$1]=typedArrayTags[dataViewTag$2]=typedArrayTags[dateTag$1]=typedArrayTags[errorTag$1]=typedArrayTags[funcTag]=typedArrayTags[mapTag$2]=typedArrayTags[numberTag$1]=typedArrayTags[objectTag$2]=typedArrayTags[regexpTag$1]=typedArrayTags[setTag$2]=typedArrayTags[stringTag$1]=typedArrayTags[weakMapTag$1]=!1;function baseIsTypedArray$1(ts){return isObjectLike$1(ts)&&isLength$1(ts.length)&&!!typedArrayTags[baseGetTag$1(ts)]}var _baseIsTypedArray=baseIsTypedArray$1;function baseUnary$1(ts){return function(ns){return ts(ns)}}var _baseUnary=baseUnary$1,_nodeUtil={exports:{}};_nodeUtil.exports;(function(ts,ns){var rs=_freeGlobal,is=ns&&!ns.nodeType&&ns,os=is&&!0&&ts&&!ts.nodeType&&ts,ss=os&&os.exports===is,as=ss&&rs.process,ls=function(){try{var cs=os&&os.require&&os.require("util").types;return cs||as&&as.binding&&as.binding("util")}catch{}}();ts.exports=ls})(_nodeUtil,_nodeUtil.exports);var _nodeUtilExports=_nodeUtil.exports,baseIsTypedArray=_baseIsTypedArray,baseUnary=_baseUnary,nodeUtil=_nodeUtilExports,nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray,isTypedArray$2=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray,isTypedArray_1=isTypedArray$2,baseTimes=_baseTimes,isArguments=isArguments_1,isArray$4=isArray_1,isBuffer$1=isBufferExports,isIndex=_isIndex,isTypedArray$1=isTypedArray_1,objectProto$5=Object.prototype,hasOwnProperty$7=objectProto$5.hasOwnProperty;function arrayLikeKeys$1(ts,ns){var rs=isArray$4(ts),is=!rs&&isArguments(ts),os=!rs&&!is&&isBuffer$1(ts),ss=!rs&&!is&&!os&&isTypedArray$1(ts),as=rs||is||os||ss,ls=as?baseTimes(ts.length,String):[],cs=ls.length;for(var us in ts)(ns||hasOwnProperty$7.call(ts,us))&&!(as&&(us=="length"||os&&(us=="offset"||us=="parent")||ss&&(us=="buffer"||us=="byteLength"||us=="byteOffset")||isIndex(us,cs)))&&ls.push(us);return ls}var _arrayLikeKeys=arrayLikeKeys$1,objectProto$4=Object.prototype;function isPrototype$1(ts){var ns=ts&&ts.constructor,rs=typeof ns=="function"&&ns.prototype||objectProto$4;return ts===rs}var _isPrototype=isPrototype$1;function overArg$1(ts,ns){return function(rs){return ts(ns(rs))}}var _overArg=overArg$1,overArg=_overArg,nativeKeys$1=overArg(Object.keys,Object),_nativeKeys=nativeKeys$1,isPrototype=_isPrototype,nativeKeys=_nativeKeys,objectProto$3=Object.prototype,hasOwnProperty$6=objectProto$3.hasOwnProperty;function baseKeys$1(ts){if(!isPrototype(ts))return nativeKeys(ts);var ns=[];for(var rs in Object(ts))hasOwnProperty$6.call(ts,rs)&&rs!="constructor"&&ns.push(rs);return ns}var _baseKeys=baseKeys$1,isFunction=isFunction_1,isLength=isLength_1;function isArrayLike$1(ts){return ts!=null&&isLength(ts.length)&&!isFunction(ts)}var isArrayLike_1=isArrayLike$1,arrayLikeKeys=_arrayLikeKeys,baseKeys=_baseKeys,isArrayLike=isArrayLike_1;function keys$4(ts){return isArrayLike(ts)?arrayLikeKeys(ts):baseKeys(ts)}var keys_1=keys$4,baseFor=_baseFor,keys$3=keys_1;function baseForOwn$2(ts,ns){return ts&&baseFor(ts,ns,keys$3)}var _baseForOwn=baseForOwn$2,ListCache$2=_ListCache;function stackClear$1(){this.__data__=new ListCache$2,this.size=0}var _stackClear=stackClear$1;function stackDelete$1(ts){var ns=this.__data__,rs=ns.delete(ts);return this.size=ns.size,rs}var _stackDelete=stackDelete$1;function stackGet$1(ts){return this.__data__.get(ts)}var _stackGet=stackGet$1;function stackHas$1(ts){return this.__data__.has(ts)}var _stackHas=stackHas$1,ListCache$1=_ListCache,Map$2=_Map,MapCache$1=_MapCache,LARGE_ARRAY_SIZE=200;function stackSet$1(ts,ns){var rs=this.__data__;if(rs instanceof ListCache$1){var is=rs.__data__;if(!Map$2||is.length<LARGE_ARRAY_SIZE-1)return is.push([ts,ns]),this.size=++rs.size,this;rs=this.__data__=new MapCache$1(is)}return rs.set(ts,ns),this.size=rs.size,this}var _stackSet=stackSet$1,ListCache=_ListCache,stackClear=_stackClear,stackDelete=_stackDelete,stackGet=_stackGet,stackHas=_stackHas,stackSet=_stackSet;function Stack$2(ts){var ns=this.__data__=new ListCache(ts);this.size=ns.size}Stack$2.prototype.clear=stackClear;Stack$2.prototype.delete=stackDelete;Stack$2.prototype.get=stackGet;Stack$2.prototype.has=stackHas;Stack$2.prototype.set=stackSet;var _Stack=Stack$2,HASH_UNDEFINED="__lodash_hash_undefined__";function setCacheAdd$1(ts){return this.__data__.set(ts,HASH_UNDEFINED),this}var _setCacheAdd=setCacheAdd$1;function setCacheHas$1(ts){return this.__data__.has(ts)}var _setCacheHas=setCacheHas$1,MapCache=_MapCache,setCacheAdd=_setCacheAdd,setCacheHas=_setCacheHas;function SetCache$1(ts){var ns=-1,rs=ts==null?0:ts.length;for(this.__data__=new MapCache;++ns<rs;)this.add(ts[ns])}SetCache$1.prototype.add=SetCache$1.prototype.push=setCacheAdd;SetCache$1.prototype.has=setCacheHas;var _SetCache=SetCache$1;function arraySome$1(ts,ns){for(var rs=-1,is=ts==null?0:ts.length;++rs<is;)if(ns(ts[rs],rs,ts))return!0;return!1}var _arraySome=arraySome$1;function cacheHas$1(ts,ns){return ts.has(ns)}var _cacheHas=cacheHas$1,SetCache=_SetCache,arraySome=_arraySome,cacheHas=_cacheHas,COMPARE_PARTIAL_FLAG$5=1,COMPARE_UNORDERED_FLAG$3=2;function equalArrays$2(ts,ns,rs,is,os,ss){var as=rs&COMPARE_PARTIAL_FLAG$5,ls=ts.length,cs=ns.length;if(ls!=cs&&!(as&&cs>ls))return!1;var us=ss.get(ts),ds=ss.get(ns);if(us&&ds)return us==ns&&ds==ts;var ps=-1,hs=!0,ms=rs&COMPARE_UNORDERED_FLAG$3?new SetCache:void 0;for(ss.set(ts,ns),ss.set(ns,ts);++ps<ls;){var gs=ts[ps],ys=ns[ps];if(is)var vs=as?is(ys,gs,ps,ns,ts,ss):is(gs,ys,ps,ts,ns,ss);if(vs!==void 0){if(vs)continue;hs=!1;break}if(ms){if(!arraySome(ns,function(bs,Ss){if(!cacheHas(ms,Ss)&&(gs===bs||os(gs,bs,rs,is,ss)))return ms.push(Ss)})){hs=!1;break}}else if(!(gs===ys||os(gs,ys,rs,is,ss))){hs=!1;break}}return ss.delete(ts),ss.delete(ns),hs}var _equalArrays=equalArrays$2,root$6=_root,Uint8Array$2=root$6.Uint8Array,_Uint8Array=Uint8Array$2;function mapToArray$1(ts){var ns=-1,rs=Array(ts.size);return ts.forEach(function(is,os){rs[++ns]=[os,is]}),rs}var _mapToArray=mapToArray$1;function setToArray$1(ts){var ns=-1,rs=Array(ts.size);return ts.forEach(function(is){rs[++ns]=is}),rs}var _setToArray=setToArray$1,Symbol$1=_Symbol,Uint8Array$1=_Uint8Array,eq=eq_1,equalArrays$1=_equalArrays,mapToArray=_mapToArray,setToArray=_setToArray,COMPARE_PARTIAL_FLAG$4=1,COMPARE_UNORDERED_FLAG$2=2,boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",mapTag$1="[object Map]",numberTag="[object Number]",regexpTag="[object RegExp]",setTag$1="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]",arrayBufferTag="[object ArrayBuffer]",dataViewTag$1="[object DataView]",symbolProto=Symbol$1?Symbol$1.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;function equalByTag$1(ts,ns,rs,is,os,ss,as){switch(rs){case dataViewTag$1:if(ts.byteLength!=ns.byteLength||ts.byteOffset!=ns.byteOffset)return!1;ts=ts.buffer,ns=ns.buffer;case arrayBufferTag:return!(ts.byteLength!=ns.byteLength||!ss(new Uint8Array$1(ts),new Uint8Array$1(ns)));case boolTag:case dateTag:case numberTag:return eq(+ts,+ns);case errorTag:return ts.name==ns.name&&ts.message==ns.message;case regexpTag:case stringTag:return ts==ns+"";case mapTag$1:var ls=mapToArray;case setTag$1:var cs=is&COMPARE_PARTIAL_FLAG$4;if(ls||(ls=setToArray),ts.size!=ns.size&&!cs)return!1;var us=as.get(ts);if(us)return us==ns;is|=COMPARE_UNORDERED_FLAG$2,as.set(ts,ns);var ds=equalArrays$1(ls(ts),ls(ns),is,os,ss,as);return as.delete(ts),ds;case symbolTag:if(symbolValueOf)return symbolValueOf.call(ts)==symbolValueOf.call(ns)}return!1}var _equalByTag=equalByTag$1;function arrayPush$1(ts,ns){for(var rs=-1,is=ns.length,os=ts.length;++rs<is;)ts[os+rs]=ns[rs];return ts}var _arrayPush=arrayPush$1,arrayPush=_arrayPush,isArray$3=isArray_1;function baseGetAllKeys$1(ts,ns,rs){var is=ns(ts);return isArray$3(ts)?is:arrayPush(is,rs(ts))}var _baseGetAllKeys=baseGetAllKeys$1;function arrayFilter$1(ts,ns){for(var rs=-1,is=ts==null?0:ts.length,os=0,ss=[];++rs<is;){var as=ts[rs];ns(as,rs,ts)&&(ss[os++]=as)}return ss}var _arrayFilter=arrayFilter$1;function stubArray$1(){return[]}var stubArray_1=stubArray$1,arrayFilter=_arrayFilter,stubArray=stubArray_1,objectProto$2=Object.prototype,propertyIsEnumerable=objectProto$2.propertyIsEnumerable,nativeGetSymbols=Object.getOwnPropertySymbols,getSymbols$1=nativeGetSymbols?function(ts){return ts==null?[]:(ts=Object(ts),arrayFilter(nativeGetSymbols(ts),function(ns){return propertyIsEnumerable.call(ts,ns)}))}:stubArray,_getSymbols=getSymbols$1,baseGetAllKeys=_baseGetAllKeys,getSymbols=_getSymbols,keys$2=keys_1;function getAllKeys$1(ts){return baseGetAllKeys(ts,keys$2,getSymbols)}var _getAllKeys=getAllKeys$1,getAllKeys=_getAllKeys,COMPARE_PARTIAL_FLAG$3=1,objectProto$1=Object.prototype,hasOwnProperty$5=objectProto$1.hasOwnProperty;function equalObjects$1(ts,ns,rs,is,os,ss){var as=rs&COMPARE_PARTIAL_FLAG$3,ls=getAllKeys(ts),cs=ls.length,us=getAllKeys(ns),ds=us.length;if(cs!=ds&&!as)return!1;for(var ps=cs;ps--;){var hs=ls[ps];if(!(as?hs in ns:hasOwnProperty$5.call(ns,hs)))return!1}var ms=ss.get(ts),gs=ss.get(ns);if(ms&&gs)return ms==ns&&gs==ts;var ys=!0;ss.set(ts,ns),ss.set(ns,ts);for(var vs=as;++ps<cs;){hs=ls[ps];var bs=ts[hs],Ss=ns[hs];if(is)var $s=as?is(Ss,bs,hs,ns,ts,ss):is(bs,Ss,hs,ts,ns,ss);if(!($s===void 0?bs===Ss||os(bs,Ss,rs,is,ss):$s)){ys=!1;break}vs||(vs=hs=="constructor")}if(ys&&!vs){var Cs=ts.constructor,Es=ns.constructor;Cs!=Es&&"constructor"in ts&&"constructor"in ns&&!(typeof Cs=="function"&&Cs instanceof Cs&&typeof Es=="function"&&Es instanceof Es)&&(ys=!1)}return ss.delete(ts),ss.delete(ns),ys}var _equalObjects=equalObjects$1,getNative$3=_getNative,root$5=_root,DataView$2=getNative$3(root$5,"DataView"),_DataView=DataView$2,getNative$2=_getNative,root$4=_root,Promise$2=getNative$2(root$4,"Promise"),_Promise=Promise$2,getNative$1=_getNative,root$3=_root,Set$2=getNative$1(root$3,"Set"),_Set=Set$2,getNative=_getNative,root$2=_root,WeakMap$2=getNative(root$2,"WeakMap"),_WeakMap=WeakMap$2,DataView$1=_DataView,Map$1=_Map,Promise$1=_Promise,Set$1=_Set,WeakMap$1=_WeakMap,baseGetTag=_baseGetTag,toSource=_toSource,mapTag="[object Map]",objectTag$1="[object Object]",promiseTag="[object Promise]",setTag="[object Set]",weakMapTag="[object WeakMap]",dataViewTag="[object DataView]",dataViewCtorString=toSource(DataView$1),mapCtorString=toSource(Map$1),promiseCtorString=toSource(Promise$1),setCtorString=toSource(Set$1),weakMapCtorString=toSource(WeakMap$1),getTag$1=baseGetTag;(DataView$1&&getTag$1(new DataView$1(new ArrayBuffer(1)))!=dataViewTag||Map$1&&getTag$1(new Map$1)!=mapTag||Promise$1&&getTag$1(Promise$1.resolve())!=promiseTag||Set$1&&getTag$1(new Set$1)!=setTag||WeakMap$1&&getTag$1(new WeakMap$1)!=weakMapTag)&&(getTag$1=function(ts){var ns=baseGetTag(ts),rs=ns==objectTag$1?ts.constructor:void 0,is=rs?toSource(rs):"";if(is)switch(is){case dataViewCtorString:return dataViewTag;case mapCtorString:return mapTag;case promiseCtorString:return promiseTag;case setCtorString:return setTag;case weakMapCtorString:return weakMapTag}return ns});var _getTag=getTag$1,Stack$1=_Stack,equalArrays=_equalArrays,equalByTag=_equalByTag,equalObjects=_equalObjects,getTag=_getTag,isArray$2=isArray_1,isBuffer=isBufferExports,isTypedArray=isTypedArray_1,COMPARE_PARTIAL_FLAG$2=1,argsTag="[object Arguments]",arrayTag="[object Array]",objectTag="[object Object]",objectProto=Object.prototype,hasOwnProperty$4=objectProto.hasOwnProperty;function baseIsEqualDeep$1(ts,ns,rs,is,os,ss){var as=isArray$2(ts),ls=isArray$2(ns),cs=as?arrayTag:getTag(ts),us=ls?arrayTag:getTag(ns);cs=cs==argsTag?objectTag:cs,us=us==argsTag?objectTag:us;var ds=cs==objectTag,ps=us==objectTag,hs=cs==us;if(hs&&isBuffer(ts)){if(!isBuffer(ns))return!1;as=!0,ds=!1}if(hs&&!ds)return ss||(ss=new Stack$1),as||isTypedArray(ts)?equalArrays(ts,ns,rs,is,os,ss):equalByTag(ts,ns,cs,rs,is,os,ss);if(!(rs&COMPARE_PARTIAL_FLAG$2)){var ms=ds&&hasOwnProperty$4.call(ts,"__wrapped__"),gs=ps&&hasOwnProperty$4.call(ns,"__wrapped__");if(ms||gs){var ys=ms?ts.value():ts,vs=gs?ns.value():ns;return ss||(ss=new Stack$1),os(ys,vs,rs,is,ss)}}return hs?(ss||(ss=new Stack$1),equalObjects(ts,ns,rs,is,os,ss)):!1}var _baseIsEqualDeep=baseIsEqualDeep$1,baseIsEqualDeep=_baseIsEqualDeep,isObjectLike=isObjectLike_1;function baseIsEqual$2(ts,ns,rs,is,os){return ts===ns?!0:ts==null||ns==null||!isObjectLike(ts)&&!isObjectLike(ns)?ts!==ts&&ns!==ns:baseIsEqualDeep(ts,ns,rs,is,baseIsEqual$2,os)}var _baseIsEqual=baseIsEqual$2,Stack=_Stack,baseIsEqual$1=_baseIsEqual,COMPARE_PARTIAL_FLAG$1=1,COMPARE_UNORDERED_FLAG$1=2;function baseIsMatch$1(ts,ns,rs,is){var os=rs.length,ss=os,as=!is;if(ts==null)return!ss;for(ts=Object(ts);os--;){var ls=rs[os];if(as&&ls[2]?ls[1]!==ts[ls[0]]:!(ls[0]in ts))return!1}for(;++os<ss;){ls=rs[os];var cs=ls[0],us=ts[cs],ds=ls[1];if(as&&ls[2]){if(us===void 0&&!(cs in ts))return!1}else{var ps=new Stack;if(is)var hs=is(us,ds,cs,ts,ns,ps);if(!(hs===void 0?baseIsEqual$1(ds,us,COMPARE_PARTIAL_FLAG$1|COMPARE_UNORDERED_FLAG$1,is,ps):hs))return!1}}return!0}var _baseIsMatch=baseIsMatch$1,isObject$1=isObject_1;function isStrictComparable$2(ts){return ts===ts&&!isObject$1(ts)}var _isStrictComparable=isStrictComparable$2,isStrictComparable$1=_isStrictComparable,keys$1=keys_1;function getMatchData$1(ts){for(var ns=keys$1(ts),rs=ns.length;rs--;){var is=ns[rs],os=ts[is];ns[rs]=[is,os,isStrictComparable$1(os)]}return ns}var _getMatchData=getMatchData$1;function matchesStrictComparable$2(ts,ns){return function(rs){return rs==null?!1:rs[ts]===ns&&(ns!==void 0||ts in Object(rs))}}var _matchesStrictComparable=matchesStrictComparable$2,baseIsMatch=_baseIsMatch,getMatchData=_getMatchData,matchesStrictComparable$1=_matchesStrictComparable;function baseMatches$1(ts){var ns=getMatchData(ts);return ns.length==1&&ns[0][2]?matchesStrictComparable$1(ns[0][0],ns[0][1]):function(rs){return rs===ts||baseIsMatch(rs,ts,ns)}}var _baseMatches=baseMatches$1,castPath=_castPath,toKey$2=_toKey;function baseGet$2(ts,ns){ns=castPath(ns,ts);for(var rs=0,is=ns.length;ts!=null&&rs<is;)ts=ts[toKey$2(ns[rs++])];return rs&&rs==is?ts:void 0}var _baseGet=baseGet$2,baseGet$1=_baseGet;function get$4(ts,ns,rs){var is=ts==null?void 0:baseGet$1(ts,ns);return is===void 0?rs:is}var get_1=get$4;function baseHasIn$1(ts,ns){return ts!=null&&ns in Object(ts)}var _baseHasIn=baseHasIn$1,baseHasIn=_baseHasIn,hasPath=_hasPath;function hasIn$1(ts,ns){return ts!=null&&hasPath(ts,ns,baseHasIn)}var hasIn_1=hasIn$1,baseIsEqual=_baseIsEqual,get$3=get_1,hasIn=hasIn_1,isKey$1=_isKey,isStrictComparable=_isStrictComparable,matchesStrictComparable=_matchesStrictComparable,toKey$1=_toKey,COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;function baseMatchesProperty$1(ts,ns){return isKey$1(ts)&&isStrictComparable(ns)?matchesStrictComparable(toKey$1(ts),ns):function(rs){var is=get$3(rs,ts);return is===void 0&&is===ns?hasIn(rs,ts):baseIsEqual(ns,is,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG)}}var _baseMatchesProperty=baseMatchesProperty$1;function identity$2(ts){return ts}var identity_1=identity$2;function baseProperty$1(ts){return function(ns){return ns==null?void 0:ns[ts]}}var _baseProperty=baseProperty$1,baseGet=_baseGet;function basePropertyDeep$1(ts){return function(ns){return baseGet(ns,ts)}}var _basePropertyDeep=basePropertyDeep$1,baseProperty=_baseProperty,basePropertyDeep=_basePropertyDeep,isKey=_isKey,toKey=_toKey;function property$1(ts){return isKey(ts)?baseProperty(toKey(ts)):basePropertyDeep(ts)}var property_1=property$1,baseMatches=_baseMatches,baseMatchesProperty=_baseMatchesProperty,identity$1=identity_1,isArray$1=isArray_1,property=property_1;function baseIteratee$2(ts){return typeof ts=="function"?ts:ts==null?identity$1:typeof ts=="object"?isArray$1(ts)?baseMatchesProperty(ts[0],ts[1]):baseMatches(ts):property(ts)}var _baseIteratee=baseIteratee$2,baseAssignValue$1=_baseAssignValue,baseForOwn$1=_baseForOwn,baseIteratee$1=_baseIteratee;function mapValues(ts,ns){var rs={};return ns=baseIteratee$1(ns),baseForOwn$1(ts,function(is,os,ss){baseAssignValue$1(rs,os,ns(is,os,ss))}),rs}var mapValues_1=mapValues;const mapValues$1=getDefaultExportFromCjs(mapValues_1);function Cache(ts){this._maxSize=ts,this.clear()}Cache.prototype.clear=function(){this._size=0,this._values=Object.create(null)};Cache.prototype.get=function(ts){return this._values[ts]};Cache.prototype.set=function(ts,ns){return this._size>=this._maxSize&&this.clear(),ts in this._values||this._size++,this._values[ts]=ns};var SPLIT_REGEX=/[^.^\]^[]+|(?=\[\]|\.\.)/g,DIGIT_REGEX=/^\d+$/,LEAD_DIGIT_REGEX=/^\d/,SPEC_CHAR_REGEX=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,CLEAN_QUOTES_REGEX=/^\s*(['"]?)(.*?)(\1)\s*$/,MAX_CACHE_SIZE$1=512,pathCache=new Cache(MAX_CACHE_SIZE$1),setCache=new Cache(MAX_CACHE_SIZE$1),getCache=new Cache(MAX_CACHE_SIZE$1),propertyExpr={Cache,split,normalizePath,setter:function(ts){var ns=normalizePath(ts);return setCache.get(ts)||setCache.set(ts,function(is,os){for(var ss=0,as=ns.length,ls=is;ss<as-1;){var cs=ns[ss];if(cs==="__proto__"||cs==="constructor"||cs==="prototype")return is;ls=ls[ns[ss++]]}ls[ns[ss]]=os})},getter:function(ts,ns){var rs=normalizePath(ts);return getCache.get(ts)||getCache.set(ts,function(os){for(var ss=0,as=rs.length;ss<as;)if(os!=null||!ns)os=os[rs[ss++]];else return;return os})},join:function(ts){return ts.reduce(function(ns,rs){return ns+(isQuoted(rs)||DIGIT_REGEX.test(rs)?"["+rs+"]":(ns?".":"")+rs)},"")},forEach:function(ts,ns,rs){forEach(Array.isArray(ts)?ts:split(ts),ns,rs)}};function normalizePath(ts){return pathCache.get(ts)||pathCache.set(ts,split(ts).map(function(ns){return ns.replace(CLEAN_QUOTES_REGEX,"$2")}))}function split(ts){return ts.match(SPLIT_REGEX)||[""]}function forEach(ts,ns,rs){var is=ts.length,os,ss,as,ls;for(ss=0;ss<is;ss++)os=ts[ss],os&&(shouldBeQuoted(os)&&(os='"'+os+'"'),ls=isQuoted(os),as=!ls&&/^\d+$/.test(os),ns.call(rs,os,ls,as,ss,ts))}function isQuoted(ts){return typeof ts=="string"&&ts&&["'",'"'].indexOf(ts.charAt(0))!==-1}function hasLeadingNumber(ts){return ts.match(LEAD_DIGIT_REGEX)&&!ts.match(DIGIT_REGEX)}function hasSpecialChars(ts){return SPEC_CHAR_REGEX.test(ts)}function shouldBeQuoted(ts){return!isQuoted(ts)&&(hasLeadingNumber(ts)||hasSpecialChars(ts))}const prefixes={context:"$",value:"."};let Reference$1=class{constructor(ns,rs={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof ns!="string")throw new TypeError("ref must be a string, got: "+ns);if(this.key=ns.trim(),ns==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===prefixes.context,this.isValue=this.key[0]===prefixes.value,this.isSibling=!this.isContext&&!this.isValue;let is=this.isContext?prefixes.context:this.isValue?prefixes.value:"";this.path=this.key.slice(is.length),this.getter=this.path&&propertyExpr.getter(this.path,!0),this.map=rs.map}getValue(ns,rs,is){let os=this.isContext?is:this.isValue?ns:rs;return this.getter&&(os=this.getter(os||{})),this.map&&(os=this.map(os)),os}cast(ns,rs){return this.getValue(ns,rs==null?void 0:rs.parent,rs==null?void 0:rs.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return"Ref(".concat(this.key,")")}static isRef(ns){return ns&&ns.__isYupRef}};Reference$1.prototype.__isYupRef=!0;function _extends$4(){return _extends$4=Object.assign||function(ts){for(var ns=1;ns<arguments.length;ns++){var rs=arguments[ns];for(var is in rs)Object.prototype.hasOwnProperty.call(rs,is)&&(ts[is]=rs[is])}return ts},_extends$4.apply(this,arguments)}function _objectWithoutPropertiesLoose$2(ts,ns){if(ts==null)return{};var rs={},is=Object.keys(ts),os,ss;for(ss=0;ss<is.length;ss++)os=is[ss],!(ns.indexOf(os)>=0)&&(rs[os]=ts[os]);return rs}function createValidation(ts){function ns(rs,is){let{value:os,path:ss="",label:as,options:ls,originalValue:cs,sync:us}=rs,ds=_objectWithoutPropertiesLoose$2(rs,["value","path","label","options","originalValue","sync"]);const{name:ps,test:hs,params:ms,message:gs}=ts;let{parent:ys,context:vs}=ls;function bs(xs){return Reference$1.isRef(xs)?xs.getValue(os,ys,vs):xs}function Ss(xs={}){const ws=mapValues$1(_extends$4({value:os,originalValue:cs,label:as,path:xs.path||ss},ms,xs.params),bs),ks=new ValidationError(ValidationError.formatError(xs.message||gs,ws),os,ws.path,xs.type||ps);return ks.params=ws,ks}let $s=_extends$4({path:ss,parent:ys,type:ps,createError:Ss,resolve:bs,options:ls,originalValue:cs},ds);if(!us){try{Promise.resolve(hs.call($s,os,$s)).then(xs=>{ValidationError.isError(xs)?is(xs):xs?is(null,xs):is(Ss())}).catch(is)}catch(xs){is(xs)}return}let Cs;try{var Es;if(Cs=hs.call($s,os,$s),typeof((Es=Cs)==null?void 0:Es.then)=="function")throw new Error('Validation test of type: "'.concat($s.type,'" returned a Promise during a synchronous validate. ')+"This test will finish after the validate call has returned")}catch(xs){is(xs);return}ValidationError.isError(Cs)?is(Cs):Cs?is(null,Cs):is(Ss())}return ns.OPTIONS=ts,ns}let trim$1=ts=>ts.substr(0,ts.length-1).substr(1);function getIn(ts,ns,rs,is=rs){let os,ss,as;return ns?(propertyExpr.forEach(ns,(ls,cs,us)=>{let ds=cs?trim$1(ls):ls;if(ts=ts.resolve({context:is,parent:os,value:rs}),ts.innerType){let ps=us?parseInt(ds,10):0;if(rs&&ps>=rs.length)throw new Error("Yup.reach cannot resolve an array item at index: ".concat(ls,", in the path: ").concat(ns,". ")+"because there is no value at that index. ");os=rs,rs=rs&&rs[ps],ts=ts.innerType}if(!us){if(!ts.fields||!ts.fields[ds])throw new Error("The schema does not contain the path: ".concat(ns,". ")+"(failed at: ".concat(as,' which is a type: "').concat(ts._type,'")'));os=rs,rs=rs&&rs[ds],ts=ts.fields[ds]}ss=ds,as=cs?"["+ls+"]":"."+ls}),{schema:ts,parent:os,parentPath:ss}):{parent:os,parentPath:ns,schema:ts}}class ReferenceSet{constructor(){this.list=void 0,this.refs=void 0,this.list=new Set,this.refs=new Map}get size(){return this.list.size+this.refs.size}describe(){const ns=[];for(const rs of this.list)ns.push(rs);for(const[,rs]of this.refs)ns.push(rs.describe());return ns}toArray(){return Array.from(this.list).concat(Array.from(this.refs.values()))}resolveAll(ns){return this.toArray().reduce((rs,is)=>rs.concat(Reference$1.isRef(is)?ns(is):is),[])}add(ns){Reference$1.isRef(ns)?this.refs.set(ns.key,ns):this.list.add(ns)}delete(ns){Reference$1.isRef(ns)?this.refs.delete(ns.key):this.list.delete(ns)}clone(){const ns=new ReferenceSet;return ns.list=new Set(this.list),ns.refs=new Map(this.refs),ns}merge(ns,rs){const is=this.clone();return ns.list.forEach(os=>is.add(os)),ns.refs.forEach(os=>is.add(os)),rs.list.forEach(os=>is.delete(os)),rs.refs.forEach(os=>is.delete(os)),is}}function _extends$3(){return _extends$3=Object.assign||function(ts){for(var ns=1;ns<arguments.length;ns++){var rs=arguments[ns];for(var is in rs)Object.prototype.hasOwnProperty.call(rs,is)&&(ts[is]=rs[is])}return ts},_extends$3.apply(this,arguments)}class BaseSchema{constructor(ns){this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this._typeError=void 0,this._whitelist=new ReferenceSet,this._blacklist=new ReferenceSet,this.exclusiveTests=Object.create(null),this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(mixed.notType)}),this.type=(ns==null?void 0:ns.type)||"mixed",this.spec=_extends$3({strip:!1,strict:!1,abortEarly:!0,recursive:!0,nullable:!1,presence:"optional"},ns==null?void 0:ns.spec)}get _type(){return this.type}_typeCheck(ns){return!0}clone(ns){if(this._mutate)return ns&&Object.assign(this.spec,ns),this;const rs=Object.create(Object.getPrototypeOf(this));return rs.type=this.type,rs._typeError=this._typeError,rs._whitelistError=this._whitelistError,rs._blacklistError=this._blacklistError,rs._whitelist=this._whitelist.clone(),rs._blacklist=this._blacklist.clone(),rs.exclusiveTests=_extends$3({},this.exclusiveTests),rs.deps=[...this.deps],rs.conditions=[...this.conditions],rs.tests=[...this.tests],rs.transforms=[...this.transforms],rs.spec=clone(_extends$3({},this.spec,ns)),rs}label(ns){let rs=this.clone();return rs.spec.label=ns,rs}meta(...ns){if(ns.length===0)return this.spec.meta;let rs=this.clone();return rs.spec.meta=Object.assign(rs.spec.meta||{},ns[0]),rs}withMutation(ns){let rs=this._mutate;this._mutate=!0;let is=ns(this);return this._mutate=rs,is}concat(ns){if(!ns||ns===this)return this;if(ns.type!==this.type&&this.type!=="mixed")throw new TypeError("You cannot `concat()` schema's of different types: ".concat(this.type," and ").concat(ns.type));let rs=this,is=ns.clone();const os=_extends$3({},rs.spec,is.spec);return is.spec=os,is._typeError||(is._typeError=rs._typeError),is._whitelistError||(is._whitelistError=rs._whitelistError),is._blacklistError||(is._blacklistError=rs._blacklistError),is._whitelist=rs._whitelist.merge(ns._whitelist,ns._blacklist),is._blacklist=rs._blacklist.merge(ns._blacklist,ns._whitelist),is.tests=rs.tests,is.exclusiveTests=rs.exclusiveTests,is.withMutation(ss=>{ns.tests.forEach(as=>{ss.test(as.OPTIONS)})}),is.transforms=[...rs.transforms,...is.transforms],is}isType(ns){return this.spec.nullable&&ns===null?!0:this._typeCheck(ns)}resolve(ns){let rs=this;if(rs.conditions.length){let is=rs.conditions;rs=rs.clone(),rs.conditions=[],rs=is.reduce((os,ss)=>ss.resolve(os,ns),rs),rs=rs.resolve(ns)}return rs}cast(ns,rs={}){let is=this.resolve(_extends$3({value:ns},rs)),os=is._cast(ns,rs);if(ns!==void 0&&rs.assert!==!1&&is.isType(os)!==!0){let ss=printValue(ns),as=printValue(os);throw new TypeError("The value of ".concat(rs.path||"field"," could not be cast to a value ")+'that satisfies the schema type: "'.concat(is._type,'". \n\n')+"attempted value: ".concat(ss," \n")+(as!==ss?"result of cast: ".concat(as):""))}return os}_cast(ns,rs){let is=ns===void 0?ns:this.transforms.reduce((os,ss)=>ss.call(this,os,ns,this),ns);return is===void 0&&(is=this.getDefault()),is}_validate(ns,rs={},is){let{sync:os,path:ss,from:as=[],originalValue:ls=ns,strict:cs=this.spec.strict,abortEarly:us=this.spec.abortEarly}=rs,ds=ns;cs||(ds=this._cast(ds,_extends$3({assert:!1},rs)));let ps={value:ds,path:ss,options:rs,originalValue:ls,schema:this,label:this.spec.label,sync:os,from:as},hs=[];this._typeError&&hs.push(this._typeError);let ms=[];this._whitelistError&&ms.push(this._whitelistError),this._blacklistError&&ms.push(this._blacklistError),runTests({args:ps,value:ds,path:ss,sync:os,tests:hs,endEarly:us},gs=>{if(gs)return void is(gs,ds);runTests({tests:this.tests.concat(ms),args:ps,path:ss,sync:os,value:ds,endEarly:us},is)})}validate(ns,rs,is){let os=this.resolve(_extends$3({},rs,{value:ns}));return typeof is=="function"?os._validate(ns,rs,is):new Promise((ss,as)=>os._validate(ns,rs,(ls,cs)=>{ls?as(ls):ss(cs)}))}validateSync(ns,rs){let is=this.resolve(_extends$3({},rs,{value:ns})),os;return is._validate(ns,_extends$3({},rs,{sync:!0}),(ss,as)=>{if(ss)throw ss;os=as}),os}isValid(ns,rs){return this.validate(ns,rs).then(()=>!0,is=>{if(ValidationError.isError(is))return!1;throw is})}isValidSync(ns,rs){try{return this.validateSync(ns,rs),!0}catch(is){if(ValidationError.isError(is))return!1;throw is}}_getDefault(){let ns=this.spec.default;return ns==null?ns:typeof ns=="function"?ns.call(this):clone(ns)}getDefault(ns){return this.resolve(ns||{})._getDefault()}default(ns){return arguments.length===0?this._getDefault():this.clone({default:ns})}strict(ns=!0){let rs=this.clone();return rs.spec.strict=ns,rs}_isPresent(ns){return ns!=null}defined(ns=mixed.defined){return this.test({message:ns,name:"defined",exclusive:!0,test(rs){return rs!==void 0}})}required(ns=mixed.required){return this.clone({presence:"required"}).withMutation(rs=>rs.test({message:ns,name:"required",exclusive:!0,test(is){return this.schema._isPresent(is)}}))}notRequired(){let ns=this.clone({presence:"optional"});return ns.tests=ns.tests.filter(rs=>rs.OPTIONS.name!=="required"),ns}nullable(ns=!0){return this.clone({nullable:ns!==!1})}transform(ns){let rs=this.clone();return rs.transforms.push(ns),rs}test(...ns){let rs;if(ns.length===1?typeof ns[0]=="function"?rs={test:ns[0]}:rs=ns[0]:ns.length===2?rs={name:ns[0],test:ns[1]}:rs={name:ns[0],message:ns[1],test:ns[2]},rs.message===void 0&&(rs.message=mixed.default),typeof rs.test!="function")throw new TypeError("`test` is a required parameters");let is=this.clone(),os=createValidation(rs),ss=rs.exclusive||rs.name&&is.exclusiveTests[rs.name]===!0;if(rs.exclusive&&!rs.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return rs.name&&(is.exclusiveTests[rs.name]=!!rs.exclusive),is.tests=is.tests.filter(as=>!(as.OPTIONS.name===rs.name&&(ss||as.OPTIONS.test===os.OPTIONS.test))),is.tests.push(os),is}when(ns,rs){!Array.isArray(ns)&&typeof ns!="string"&&(rs=ns,ns=".");let is=this.clone(),os=toArray(ns).map(ss=>new Reference$1(ss));return os.forEach(ss=>{ss.isSibling&&is.deps.push(ss.key)}),is.conditions.push(new Condition(os,rs)),is}typeError(ns){let rs=this.clone();return rs._typeError=createValidation({message:ns,name:"typeError",test(is){return is!==void 0&&!this.schema.isType(is)?this.createError({params:{type:this.schema._type}}):!0}}),rs}oneOf(ns,rs=mixed.oneOf){let is=this.clone();return ns.forEach(os=>{is._whitelist.add(os),is._blacklist.delete(os)}),is._whitelistError=createValidation({message:rs,name:"oneOf",test(os){if(os===void 0)return!0;let ss=this.schema._whitelist,as=ss.resolveAll(this.resolve);return as.includes(os)?!0:this.createError({params:{values:ss.toArray().join(", "),resolved:as}})}}),is}notOneOf(ns,rs=mixed.notOneOf){let is=this.clone();return ns.forEach(os=>{is._blacklist.add(os),is._whitelist.delete(os)}),is._blacklistError=createValidation({message:rs,name:"notOneOf",test(os){let ss=this.schema._blacklist,as=ss.resolveAll(this.resolve);return as.includes(os)?this.createError({params:{values:ss.toArray().join(", "),resolved:as}}):!0}}),is}strip(ns=!0){let rs=this.clone();return rs.spec.strip=ns,rs}describe(){const ns=this.clone(),{label:rs,meta:is}=ns.spec;return{meta:is,label:rs,type:ns.type,oneOf:ns._whitelist.describe(),notOneOf:ns._blacklist.describe(),tests:ns.tests.map(ss=>({name:ss.OPTIONS.name,params:ss.OPTIONS.params})).filter((ss,as,ls)=>ls.findIndex(cs=>cs.name===ss.name)===as)}}}BaseSchema.prototype.__isYupSchema__=!0;for(const ts of["validate","validateSync"])BaseSchema.prototype["".concat(ts,"At")]=function(ns,rs,is={}){const{parent:os,parentPath:ss,schema:as}=getIn(this,ns,rs,is.context);return as[ts](os&&os[ss],_extends$3({},is,{parent:os,path:ns}))};for(const ts of["equals","is"])BaseSchema.prototype[ts]=BaseSchema.prototype.oneOf;for(const ts of["not","nope"])BaseSchema.prototype[ts]=BaseSchema.prototype.notOneOf;BaseSchema.prototype.optional=BaseSchema.prototype.notRequired;const Mixed=BaseSchema;Mixed.prototype;const isAbsent=ts=>ts==null;let rEmail=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,rUrl=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,rUUID=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,isTrimmed=ts=>isAbsent(ts)||ts===ts.trim(),objStringTag={}.toString();function create$6(){return new StringSchema}class StringSchema extends BaseSchema{constructor(){super({type:"string"}),this.withMutation(()=>{this.transform(function(ns){if(this.isType(ns)||Array.isArray(ns))return ns;const rs=ns!=null&&ns.toString?ns.toString():ns;return rs===objStringTag?ns:rs})})}_typeCheck(ns){return ns instanceof String&&(ns=ns.valueOf()),typeof ns=="string"}_isPresent(ns){return super._isPresent(ns)&&!!ns.length}length(ns,rs=string$2.length){return this.test({message:rs,name:"length",exclusive:!0,params:{length:ns},test(is){return isAbsent(is)||is.length===this.resolve(ns)}})}min(ns,rs=string$2.min){return this.test({message:rs,name:"min",exclusive:!0,params:{min:ns},test(is){return isAbsent(is)||is.length>=this.resolve(ns)}})}max(ns,rs=string$2.max){return this.test({name:"max",exclusive:!0,message:rs,params:{max:ns},test(is){return isAbsent(is)||is.length<=this.resolve(ns)}})}matches(ns,rs){let is=!1,os,ss;return rs&&(typeof rs=="object"?{excludeEmptyString:is=!1,message:os,name:ss}=rs:os=rs),this.test({name:ss||"matches",message:os||string$2.matches,params:{regex:ns},test:as=>isAbsent(as)||as===""&&is||as.search(ns)!==-1})}email(ns=string$2.email){return this.matches(rEmail,{name:"email",message:ns,excludeEmptyString:!0})}url(ns=string$2.url){return this.matches(rUrl,{name:"url",message:ns,excludeEmptyString:!0})}uuid(ns=string$2.uuid){return this.matches(rUUID,{name:"uuid",message:ns,excludeEmptyString:!1})}ensure(){return this.default("").transform(ns=>ns===null?"":ns)}trim(ns=string$2.trim){return this.transform(rs=>rs!=null?rs.trim():rs).test({message:ns,name:"trim",test:isTrimmed})}lowercase(ns=string$2.lowercase){return this.transform(rs=>isAbsent(rs)?rs:rs.toLowerCase()).test({message:ns,name:"string_case",exclusive:!0,test:rs=>isAbsent(rs)||rs===rs.toLowerCase()})}uppercase(ns=string$2.uppercase){return this.transform(rs=>isAbsent(rs)?rs:rs.toUpperCase()).test({message:ns,name:"string_case",exclusive:!0,test:rs=>isAbsent(rs)||rs===rs.toUpperCase()})}}create$6.prototype=StringSchema.prototype;var isoReg=/^(\d{4}|[+\-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/;function parseIsoDate(ts){var ns=[1,4,5,6,7,10,11],rs=0,is,os;if(os=isoReg.exec(ts)){for(var ss=0,as;as=ns[ss];++ss)os[as]=+os[as]||0;os[2]=(+os[2]||1)-1,os[3]=+os[3]||1,os[7]=os[7]?String(os[7]).substr(0,3):0,(os[8]===void 0||os[8]==="")&&(os[9]===void 0||os[9]==="")?is=+new Date(os[1],os[2],os[3],os[4],os[5],os[6],os[7]):(os[8]!=="Z"&&os[9]!==void 0&&(rs=os[10]*60+os[11],os[9]==="+"&&(rs=0-rs)),is=Date.UTC(os[1],os[2],os[3],os[4],os[5]+rs,os[6],os[7]))}else is=Date.parse?Date.parse(ts):NaN;return is}let invalidDate=new Date(""),isDate=ts=>Object.prototype.toString.call(ts)==="[object Date]";class DateSchema extends BaseSchema{constructor(){super({type:"date"}),this.withMutation(()=>{this.transform(function(ns){return this.isType(ns)?ns:(ns=parseIsoDate(ns),isNaN(ns)?invalidDate:new Date(ns))})})}_typeCheck(ns){return isDate(ns)&&!isNaN(ns.getTime())}prepareParam(ns,rs){let is;if(Reference$1.isRef(ns))is=ns;else{let os=this.cast(ns);if(!this._typeCheck(os))throw new TypeError("`".concat(rs,"` must be a Date or a value that can be `cast()` to a Date"));is=os}return is}min(ns,rs=date.min){let is=this.prepareParam(ns,"min");return this.test({message:rs,name:"min",exclusive:!0,params:{min:ns},test(os){return isAbsent(os)||os>=this.resolve(is)}})}max(ns,rs=date.max){let is=this.prepareParam(ns,"max");return this.test({message:rs,name:"max",exclusive:!0,params:{max:ns},test(os){return isAbsent(os)||os<=this.resolve(is)}})}}DateSchema.INVALID_DATE=invalidDate;DateSchema.prototype;function arrayReduce$1(ts,ns,rs,is){var os=-1,ss=ts==null?0:ts.length;for(is&&ss&&(rs=ts[++os]);++os<ss;)rs=ns(rs,ts[os],os,ts);return rs}var _arrayReduce=arrayReduce$1;function basePropertyOf$1(ts){return function(ns){return ts==null?void 0:ts[ns]}}var _basePropertyOf=basePropertyOf$1,basePropertyOf=_basePropertyOf,deburredLetters={Ã:"A",Ã:"A",Ã:"A",Ã:"A",Ã:"A",Ã:"A",Ã :"a",Ã¡:"a",Ã¢:"a",Ã£:"a",Ã¤:"a",Ã¥:"a",Ã:"C",Ã§:"c",Ã:"D",Ã°:"d",Ã:"E",Ã:"E",Ã:"E",Ã:"E",Ã¨:"e",Ã©:"e",Ãª:"e",Ã«:"e",Ã:"I",Ã:"I",Ã:"I",Ã:"I",Ã¬:"i",Ã­:"i",Ã®:"i",Ã¯:"i",Ã:"N",Ã±:"n",Ã:"O",Ã:"O",Ã:"O",Ã:"O",Ã:"O",Ã:"O",Ã²:"o",Ã³:"o",Ã´:"o",Ãµ:"o",Ã¶:"o",Ã¸:"o",Ã:"U",Ã:"U",Ã:"U",Ã:"U",Ã¹:"u",Ãº:"u",Ã»:"u",Ã¼:"u",Ã:"Y",Ã½:"y",Ã¿:"y",Ã:"Ae",Ã¦:"ae",Ã:"Th",Ã¾:"th",Ã:"ss",Ä:"A",Ä:"A",Ä:"A",Ä:"a",Ä:"a",Ä:"a",Ä:"C",Ä:"C",Ä:"C",Ä:"C",Ä:"c",Ä:"c",Ä:"c",Ä:"c",Ä:"D",Ä:"D",Ä:"d",Ä:"d",Ä:"E",Ä:"E",Ä:"E",Ä:"E",Ä:"E",Ä:"e",Ä:"e",Ä:"e",Ä:"e",Ä:"e",Ä:"G",Ä:"G",Ä :"G",Ä¢:"G",Ä:"g",Ä:"g",Ä¡:"g",Ä£:"g",Ä¤:"H",Ä¦:"H",Ä¥:"h",Ä§:"h",Ä¨:"I",Äª:"I",Ä¬:"I",Ä®:"I",Ä°:"I",Ä©:"i",Ä«:"i",Ä­:"i",Ä¯:"i",Ä±:"i",Ä´:"J",Äµ:"j",Ä¶:"K",Ä·:"k",Ä¸:"k",Ä¹:"L",Ä»:"L",Ä½:"L",Ä¿:"L",Å:"L",Äº:"l",Ä¼:"l",Ä¾:"l",Å:"l",Å:"l",Å:"N",Å:"N",Å:"N",Å:"N",Å:"n",Å:"n",Å:"n",Å:"n",Å:"O",Å:"O",Å:"O",Å:"o",Å:"o",Å:"o",Å:"R",Å:"R",Å:"R",Å:"r",Å:"r",Å:"r",Å:"S",Å:"S",Å:"S",Å :"S",Å:"s",Å:"s",Å:"s",Å¡:"s",Å¢:"T",Å¤:"T",Å¦:"T",Å£:"t",Å¥:"t",Å§:"t",Å¨:"U",Åª:"U",Å¬:"U",Å®:"U",Å°:"U",Å²:"U",Å©:"u",Å«:"u",Å­:"u",Å¯:"u",Å±:"u",Å³:"u",Å´:"W",Åµ:"w",Å¶:"Y",Å·:"y",Å¸:"Y",Å¹:"Z",Å»:"Z",Å½:"Z",Åº:"z",Å¼:"z",Å¾:"z",Ä²:"IJ",Ä³:"ij",Å:"Oe",Å:"oe",Å:"'n",Å¿:"s"},deburrLetter$1=basePropertyOf(deburredLetters),_deburrLetter=deburrLetter$1,deburrLetter=_deburrLetter,toString$8=toString_1,reLatin=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,rsComboMarksRange$3="\\u0300-\\u036f",reComboHalfMarksRange$3="\\ufe20-\\ufe2f",rsComboSymbolsRange$3="\\u20d0-\\u20ff",rsComboRange$3=rsComboMarksRange$3+reComboHalfMarksRange$3+rsComboSymbolsRange$3,rsCombo$2="["+rsComboRange$3+"]",reComboMark=RegExp(rsCombo$2,"g");function deburr$1(ts){return ts=toString$8(ts),ts&&ts.replace(reLatin,deburrLetter).replace(reComboMark,"")}var deburr_1=deburr$1,reAsciiWord=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function asciiWords$1(ts){return ts.match(reAsciiWord)||[]}var _asciiWords=asciiWords$1,reHasUnicodeWord=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function hasUnicodeWord$1(ts){return reHasUnicodeWord.test(ts)}var _hasUnicodeWord=hasUnicodeWord$1,rsAstralRange$2="\\ud800-\\udfff",rsComboMarksRange$2="\\u0300-\\u036f",reComboHalfMarksRange$2="\\ufe20-\\ufe2f",rsComboSymbolsRange$2="\\u20d0-\\u20ff",rsComboRange$2=rsComboMarksRange$2+reComboHalfMarksRange$2+rsComboSymbolsRange$2,rsDingbatRange="\\u2700-\\u27bf",rsLowerRange="a-z\\xdf-\\xf6\\xf8-\\xff",rsMathOpRange="\\xac\\xb1\\xd7\\xf7",rsNonCharRange="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",rsPunctuationRange="\\u2000-\\u206f",rsSpaceRange=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",rsUpperRange="A-Z\\xc0-\\xd6\\xd8-\\xde",rsVarRange$2="\\ufe0e\\ufe0f",rsBreakRange=rsMathOpRange+rsNonCharRange+rsPunctuationRange+rsSpaceRange,rsApos$1="['â]",rsBreak="["+rsBreakRange+"]",rsCombo$1="["+rsComboRange$2+"]",rsDigits="\\d+",rsDingbat="["+rsDingbatRange+"]",rsLower="["+rsLowerRange+"]",rsMisc="[^"+rsAstralRange$2+rsBreakRange+rsDigits+rsDingbatRange+rsLowerRange+rsUpperRange+"]",rsFitz$1="\\ud83c[\\udffb-\\udfff]",rsModifier$1="(?:"+rsCombo$1+"|"+rsFitz$1+")",rsNonAstral$1="[^"+rsAstralRange$2+"]",rsRegional$1="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair$1="[\\ud800-\\udbff][\\udc00-\\udfff]",rsUpper="["+rsUpperRange+"]",rsZWJ$2="\\u200d",rsMiscLower="(?:"+rsLower+"|"+rsMisc+")",rsMiscUpper="(?:"+rsUpper+"|"+rsMisc+")",rsOptContrLower="(?:"+rsApos$1+"(?:d|ll|m|re|s|t|ve))?",rsOptContrUpper="(?:"+rsApos$1+"(?:D|LL|M|RE|S|T|VE))?",reOptMod$1=rsModifier$1+"?",rsOptVar$1="["+rsVarRange$2+"]?",rsOptJoin$1="(?:"+rsZWJ$2+"(?:"+[rsNonAstral$1,rsRegional$1,rsSurrPair$1].join("|")+")"+rsOptVar$1+reOptMod$1+")*",rsOrdLower="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",rsOrdUpper="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",rsSeq$1=rsOptVar$1+reOptMod$1+rsOptJoin$1,rsEmoji="(?:"+[rsDingbat,rsRegional$1,rsSurrPair$1].join("|")+")"+rsSeq$1,reUnicodeWord=RegExp([rsUpper+"?"+rsLower+"+"+rsOptContrLower+"(?="+[rsBreak,rsUpper,"$"].join("|")+")",rsMiscUpper+"+"+rsOptContrUpper+"(?="+[rsBreak,rsUpper+rsMiscLower,"$"].join("|")+")",rsUpper+"?"+rsMiscLower+"+"+rsOptContrLower,rsUpper+"+"+rsOptContrUpper,rsOrdUpper,rsOrdLower,rsDigits,rsEmoji].join("|"),"g");function unicodeWords$1(ts){return ts.match(reUnicodeWord)||[]}var _unicodeWords=unicodeWords$1,asciiWords=_asciiWords,hasUnicodeWord=_hasUnicodeWord,toString$7=toString_1,unicodeWords=_unicodeWords;function words$1(ts,ns,rs){return ts=toString$7(ts),ns=rs?void 0:ns,ns===void 0?hasUnicodeWord(ts)?unicodeWords(ts):asciiWords(ts):ts.match(ns)||[]}var words_1=words$1,arrayReduce=_arrayReduce,deburr=deburr_1,words=words_1,rsApos="['â]",reApos=RegExp(rsApos,"g");function createCompounder$2(ts){return function(ns){return arrayReduce(words(deburr(ns).replace(reApos,"")),ts,"")}}var _createCompounder=createCompounder$2,createCompounder$1=_createCompounder,snakeCase=createCompounder$1(function(ts,ns,rs){return ts+(rs?"_":"")+ns.toLowerCase()}),snakeCase_1=snakeCase;const snakeCase$1=getDefaultExportFromCjs(snakeCase_1);function baseSlice$1(ts,ns,rs){var is=-1,os=ts.length;ns<0&&(ns=-ns>os?0:os+ns),rs=rs>os?os:rs,rs<0&&(rs+=os),os=ns>rs?0:rs-ns>>>0,ns>>>=0;for(var ss=Array(os);++is<os;)ss[is]=ts[is+ns];return ss}var _baseSlice=baseSlice$1,baseSlice=_baseSlice;function castSlice$1(ts,ns,rs){var is=ts.length;return rs=rs===void 0?is:rs,!ns&&rs>=is?ts:baseSlice(ts,ns,rs)}var _castSlice=castSlice$1,rsAstralRange$1="\\ud800-\\udfff",rsComboMarksRange$1="\\u0300-\\u036f",reComboHalfMarksRange$1="\\ufe20-\\ufe2f",rsComboSymbolsRange$1="\\u20d0-\\u20ff",rsComboRange$1=rsComboMarksRange$1+reComboHalfMarksRange$1+rsComboSymbolsRange$1,rsVarRange$1="\\ufe0e\\ufe0f",rsZWJ$1="\\u200d",reHasUnicode=RegExp("["+rsZWJ$1+rsAstralRange$1+rsComboRange$1+rsVarRange$1+"]");function hasUnicode$2(ts){return reHasUnicode.test(ts)}var _hasUnicode=hasUnicode$2;function asciiToArray$1(ts){return ts.split("")}var _asciiToArray=asciiToArray$1,rsAstralRange="\\ud800-\\udfff",rsComboMarksRange="\\u0300-\\u036f",reComboHalfMarksRange="\\ufe20-\\ufe2f",rsComboSymbolsRange="\\u20d0-\\u20ff",rsComboRange=rsComboMarksRange+reComboHalfMarksRange+rsComboSymbolsRange,rsVarRange="\\ufe0e\\ufe0f",rsAstral="["+rsAstralRange+"]",rsCombo="["+rsComboRange+"]",rsFitz="\\ud83c[\\udffb-\\udfff]",rsModifier="(?:"+rsCombo+"|"+rsFitz+")",rsNonAstral="[^"+rsAstralRange+"]",rsRegional="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair="[\\ud800-\\udbff][\\udc00-\\udfff]",rsZWJ="\\u200d",reOptMod=rsModifier+"?",rsOptVar="["+rsVarRange+"]?",rsOptJoin="(?:"+rsZWJ+"(?:"+[rsNonAstral,rsRegional,rsSurrPair].join("|")+")"+rsOptVar+reOptMod+")*",rsSeq=rsOptVar+reOptMod+rsOptJoin,rsSymbol="(?:"+[rsNonAstral+rsCombo+"?",rsCombo,rsRegional,rsSurrPair,rsAstral].join("|")+")",reUnicode=RegExp(rsFitz+"(?="+rsFitz+")|"+rsSymbol+rsSeq,"g");function unicodeToArray$1(ts){return ts.match(reUnicode)||[]}var _unicodeToArray=unicodeToArray$1,asciiToArray=_asciiToArray,hasUnicode$1=_hasUnicode,unicodeToArray=_unicodeToArray;function stringToArray$1(ts){return hasUnicode$1(ts)?unicodeToArray(ts):asciiToArray(ts)}var _stringToArray=stringToArray$1,castSlice=_castSlice,hasUnicode=_hasUnicode,stringToArray=_stringToArray,toString$6=toString_1;function createCaseFirst$1(ts){return function(ns){ns=toString$6(ns);var rs=hasUnicode(ns)?stringToArray(ns):void 0,is=rs?rs[0]:ns.charAt(0),os=rs?castSlice(rs,1).join(""):ns.slice(1);return is[ts]()+os}}var _createCaseFirst=createCaseFirst$1,createCaseFirst=_createCaseFirst,upperFirst$1=createCaseFirst("toUpperCase"),upperFirst_1=upperFirst$1,toString$5=toString_1,upperFirst=upperFirst_1;function capitalize$1(ts){return upperFirst(toString$5(ts).toLowerCase())}var capitalize_1=capitalize$1,capitalize=capitalize_1,createCompounder=_createCompounder,camelCase=createCompounder(function(ts,ns,rs){return ns=ns.toLowerCase(),ts+(rs?capitalize(ns):ns)}),camelCase_1=camelCase;const camelCase$1=getDefaultExportFromCjs(camelCase_1);var baseAssignValue=_baseAssignValue,baseForOwn=_baseForOwn,baseIteratee=_baseIteratee;function mapKeys(ts,ns){var rs={};return ns=baseIteratee(ns),baseForOwn(ts,function(is,os,ss){baseAssignValue(rs,ns(is,os,ss),is)}),rs}var mapKeys_1=mapKeys;const mapKeys$1=getDefaultExportFromCjs(mapKeys_1);var toposort$2={exports:{}};toposort$2.exports=function(ts){return toposort(uniqueNodes(ts),ts)};toposort$2.exports.array=toposort;function toposort(ts,ns){var rs=ts.length,is=new Array(rs),os={},ss=rs,as=makeOutgoingEdges(ns),ls=makeNodesHash(ts);for(ns.forEach(function(us){if(!ls.has(us[0])||!ls.has(us[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});ss--;)os[ss]||cs(ts[ss],ss,new Set);return is;function cs(us,ds,ps){if(ps.has(us)){var hs;try{hs=", node was:"+JSON.stringify(us)}catch{hs=""}throw new Error("Cyclic dependency"+hs)}if(!ls.has(us))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(us));if(!os[ds]){os[ds]=!0;var ms=as.get(us)||new Set;if(ms=Array.from(ms),ds=ms.length){ps.add(us);do{var gs=ms[--ds];cs(gs,ls.get(gs),ps)}while(ds);ps.delete(us)}is[--rs]=us}}}function uniqueNodes(ts){for(var ns=new Set,rs=0,is=ts.length;rs<is;rs++){var os=ts[rs];ns.add(os[0]),ns.add(os[1])}return Array.from(ns)}function makeOutgoingEdges(ts){for(var ns=new Map,rs=0,is=ts.length;rs<is;rs++){var os=ts[rs];ns.has(os[0])||ns.set(os[0],new Set),ns.has(os[1])||ns.set(os[1],new Set),ns.get(os[0]).add(os[1])}return ns}function makeNodesHash(ts){for(var ns=new Map,rs=0,is=ts.length;rs<is;rs++)ns.set(ts[rs],rs);return ns}var toposortExports=toposort$2.exports;const toposort$1=getDefaultExportFromCjs(toposortExports);function sortFields(ts,ns=[]){let rs=[],is=new Set,os=new Set(ns.map(([as,ls])=>"".concat(as,"-").concat(ls)));function ss(as,ls){let cs=propertyExpr.split(as)[0];is.add(cs),os.has("".concat(ls,"-").concat(cs))||rs.push([ls,cs])}for(const as in ts)if(has$1(ts,as)){let ls=ts[as];is.add(as),Reference$1.isRef(ls)&&ls.isSibling?ss(ls.path,as):isSchema(ls)&&"deps"in ls&&ls.deps.forEach(cs=>ss(cs,as))}return toposort$1.array(Array.from(is),rs).reverse()}function findIndex$1(ts,ns){let rs=1/0;return ts.some((is,os)=>{var ss;if(((ss=ns.path)==null?void 0:ss.indexOf(is))!==-1)return rs=os,!0}),rs}function sortByKeyOrder(ts){return(ns,rs)=>findIndex$1(ts,ns)-findIndex$1(ts,rs)}function _extends$2(){return _extends$2=Object.assign||function(ts){for(var ns=1;ns<arguments.length;ns++){var rs=arguments[ns];for(var is in rs)Object.prototype.hasOwnProperty.call(rs,is)&&(ts[is]=rs[is])}return ts},_extends$2.apply(this,arguments)}let isObject=ts=>Object.prototype.toString.call(ts)==="[object Object]";function unknown(ts,ns){let rs=Object.keys(ts.fields);return Object.keys(ns).filter(is=>rs.indexOf(is)===-1)}const defaultSort=sortByKeyOrder([]);class ObjectSchema extends BaseSchema{constructor(ns){super({type:"object"}),this.fields=Object.create(null),this._sortErrors=defaultSort,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{this.transform(function(is){if(typeof is=="string")try{is=JSON.parse(is)}catch{is=null}return this.isType(is)?is:null}),ns&&this.shape(ns)})}_typeCheck(ns){return isObject(ns)||typeof ns=="function"}_cast(ns,rs={}){var is;let os=super._cast(ns,rs);if(os===void 0)return this.getDefault();if(!this._typeCheck(os))return os;let ss=this.fields,as=(is=rs.stripUnknown)!=null?is:this.spec.noUnknown,ls=this._nodes.concat(Object.keys(os).filter(ps=>this._nodes.indexOf(ps)===-1)),cs={},us=_extends$2({},rs,{parent:cs,__validating:rs.__validating||!1}),ds=!1;for(const ps of ls){let hs=ss[ps],ms=has$1(os,ps);if(hs){let gs,ys=os[ps];us.path=(rs.path?"".concat(rs.path,"."):"")+ps,hs=hs.resolve({value:ys,context:rs.context,parent:cs});let vs="spec"in hs?hs.spec:void 0,bs=vs==null?void 0:vs.strict;if(vs!=null&&vs.strip){ds=ds||ps in os;continue}gs=!rs.__validating||!bs?hs.cast(os[ps],us):os[ps],gs!==void 0&&(cs[ps]=gs)}else ms&&!as&&(cs[ps]=os[ps]);cs[ps]!==os[ps]&&(ds=!0)}return ds?cs:os}_validate(ns,rs={},is){let os=[],{sync:ss,from:as=[],originalValue:ls=ns,abortEarly:cs=this.spec.abortEarly,recursive:us=this.spec.recursive}=rs;as=[{schema:this,value:ls},...as],rs.__validating=!0,rs.originalValue=ls,rs.from=as,super._validate(ns,rs,(ds,ps)=>{if(ds){if(!ValidationError.isError(ds)||cs)return void is(ds,ps);os.push(ds)}if(!us||!isObject(ps)){is(os[0]||null,ps);return}ls=ls||ps;let hs=this._nodes.map(ms=>(gs,ys)=>{let vs=ms.indexOf(".")===-1?(rs.path?"".concat(rs.path,"."):"")+ms:"".concat(rs.path||"",'["').concat(ms,'"]'),bs=this.fields[ms];if(bs&&"validate"in bs){bs.validate(ps[ms],_extends$2({},rs,{path:vs,from:as,strict:!0,parent:ps,originalValue:ls[ms]}),ys);return}ys(null)});runTests({sync:ss,tests:hs,value:ps,errors:os,endEarly:cs,sort:this._sortErrors,path:rs.path},is)})}clone(ns){const rs=super.clone(ns);return rs.fields=_extends$2({},this.fields),rs._nodes=this._nodes,rs._excludedEdges=this._excludedEdges,rs._sortErrors=this._sortErrors,rs}concat(ns){let rs=super.concat(ns),is=rs.fields;for(let[os,ss]of Object.entries(this.fields)){const as=is[os];as===void 0?is[os]=ss:as instanceof BaseSchema&&ss instanceof BaseSchema&&(is[os]=ss.concat(as))}return rs.withMutation(()=>rs.shape(is,this._excludedEdges))}getDefaultFromShape(){let ns={};return this._nodes.forEach(rs=>{const is=this.fields[rs];ns[rs]="default"in is?is.getDefault():void 0}),ns}_getDefault(){if("default"in this.spec)return super._getDefault();if(this._nodes.length)return this.getDefaultFromShape()}shape(ns,rs=[]){let is=this.clone(),os=Object.assign(is.fields,ns);return is.fields=os,is._sortErrors=sortByKeyOrder(Object.keys(os)),rs.length&&(Array.isArray(rs[0])||(rs=[rs]),is._excludedEdges=[...is._excludedEdges,...rs]),is._nodes=sortFields(os,is._excludedEdges),is}pick(ns){const rs={};for(const is of ns)this.fields[is]&&(rs[is]=this.fields[is]);return this.clone().withMutation(is=>(is.fields={},is.shape(rs)))}omit(ns){const rs=this.clone(),is=rs.fields;rs.fields={};for(const os of ns)delete is[os];return rs.withMutation(()=>rs.shape(is))}from(ns,rs,is){let os=propertyExpr.getter(ns,!0);return this.transform(ss=>{if(ss==null)return ss;let as=ss;return has$1(ss,ns)&&(as=_extends$2({},ss),is||delete as[ns],as[rs]=os(ss)),as})}noUnknown(ns=!0,rs=object.noUnknown){typeof ns=="string"&&(rs=ns,ns=!0);let is=this.test({name:"noUnknown",exclusive:!0,message:rs,test(os){if(os==null)return!0;const ss=unknown(this.schema,os);return!ns||ss.length===0||this.createError({params:{unknown:ss.join(", ")}})}});return is.spec.noUnknown=ns,is}unknown(ns=!0,rs=object.noUnknown){return this.noUnknown(!ns,rs)}transformKeys(ns){return this.transform(rs=>rs&&mapKeys$1(rs,(is,os)=>ns(os)))}camelCase(){return this.transformKeys(camelCase$1)}snakeCase(){return this.transformKeys(snakeCase$1)}constantCase(){return this.transformKeys(ns=>snakeCase$1(ns).toUpperCase())}describe(){let ns=super.describe();return ns.fields=mapValues$1(this.fields,rs=>rs.describe()),ns}}function create$5(ts){return new ObjectSchema(ts)}create$5.prototype=ObjectSchema.prototype;function _extends$1(){return _extends$1=Object.assign||function(ts){for(var ns=1;ns<arguments.length;ns++){var rs=arguments[ns];for(var is in rs)Object.prototype.hasOwnProperty.call(rs,is)&&(ts[is]=rs[is])}return ts},_extends$1.apply(this,arguments)}function create$4(ts){return new ArraySchema(ts)}class ArraySchema extends BaseSchema{constructor(ns){super({type:"array"}),this.innerType=void 0,this.innerType=ns,this.withMutation(()=>{this.transform(function(rs){if(typeof rs=="string")try{rs=JSON.parse(rs)}catch{rs=null}return this.isType(rs)?rs:null})})}_typeCheck(ns){return Array.isArray(ns)}get _subType(){return this.innerType}_cast(ns,rs){const is=super._cast(ns,rs);if(!this._typeCheck(is)||!this.innerType)return is;let os=!1;const ss=is.map((as,ls)=>{const cs=this.innerType.cast(as,_extends$1({},rs,{path:"".concat(rs.path||"","[").concat(ls,"]")}));return cs!==as&&(os=!0),cs});return os?ss:is}_validate(ns,rs={},is){var os,ss;let as=[],ls=rs.sync,cs=rs.path,us=this.innerType,ds=(os=rs.abortEarly)!=null?os:this.spec.abortEarly,ps=(ss=rs.recursive)!=null?ss:this.spec.recursive,hs=rs.originalValue!=null?rs.originalValue:ns;super._validate(ns,rs,(ms,gs)=>{if(ms){if(!ValidationError.isError(ms)||ds)return void is(ms,gs);as.push(ms)}if(!ps||!us||!this._typeCheck(gs)){is(as[0]||null,gs);return}hs=hs||gs;let ys=new Array(gs.length);for(let vs=0;vs<gs.length;vs++){let bs=gs[vs],Ss="".concat(rs.path||"","[").concat(vs,"]"),$s=_extends$1({},rs,{path:Ss,strict:!0,parent:gs,index:vs,originalValue:hs[vs]});ys[vs]=(Cs,Es)=>us.validate(bs,$s,Es)}runTests({sync:ls,path:cs,value:gs,errors:as,endEarly:ds,tests:ys},is)})}clone(ns){const rs=super.clone(ns);return rs.innerType=this.innerType,rs}concat(ns){let rs=super.concat(ns);return rs.innerType=this.innerType,ns.innerType&&(rs.innerType=rs.innerType?rs.innerType.concat(ns.innerType):ns.innerType),rs}of(ns){let rs=this.clone();if(!isSchema(ns))throw new TypeError("`array.of()` sub-schema must be a valid yup schema not: "+printValue(ns));return rs.innerType=ns,rs}length(ns,rs=array.length){return this.test({message:rs,name:"length",exclusive:!0,params:{length:ns},test(is){return isAbsent(is)||is.length===this.resolve(ns)}})}min(ns,rs){return rs=rs||array.min,this.test({message:rs,name:"min",exclusive:!0,params:{min:ns},test(is){return isAbsent(is)||is.length>=this.resolve(ns)}})}max(ns,rs){return rs=rs||array.max,this.test({message:rs,name:"max",exclusive:!0,params:{max:ns},test(is){return isAbsent(is)||is.length<=this.resolve(ns)}})}ensure(){return this.default(()=>[]).transform((ns,rs)=>this._typeCheck(ns)?ns:rs==null?[]:[].concat(rs))}compact(ns){let rs=ns?(is,os,ss)=>!ns(is,os,ss):is=>!!is;return this.transform(is=>is!=null?is.filter(rs):is)}describe(){let ns=super.describe();return this.innerType&&(ns.innerType=this.innerType.describe()),ns}nullable(ns=!0){return super.nullable(ns)}defined(){return super.defined()}required(ns){return super.required(ns)}}create$4.prototype=ArraySchema.prototype;function filterObject(ts,ns){return Object.fromEntries(Object.entries(ts).filter(([rs,is])=>ns(rs)))}function findLabelFromOptions(ts,ns){return ns.filter(rs=>rs.value===ts)[0].label}const BoldPurpleInputLabel=styled$2(InputLabel$1)(({theme:ts})=>({fontWeight:700,fontSize:16,transform:"translate(0, -9px) scale(1)",color:ts.palette.secondary.main}));var InfoOutlined={},createSvgIcon={};const require$$0$4=getAugmentedNamespace(utils$c);var hasRequiredCreateSvgIcon;function requireCreateSvgIcon(){return hasRequiredCreateSvgIcon||(hasRequiredCreateSvgIcon=1,function(ts){"use client";Object.defineProperty(ts,"__esModule",{value:!0}),Object.defineProperty(ts,"default",{enumerable:!0,get:function(){return ns.createSvgIcon}});var ns=require$$0$4}(createSvgIcon)),createSvgIcon}var _interopRequireDefault$k=interopRequireDefaultExports;Object.defineProperty(InfoOutlined,"__esModule",{value:!0});var default_1$k=InfoOutlined.default=void 0,_createSvgIcon$k=_interopRequireDefault$k(requireCreateSvgIcon()),_jsxRuntime$k=jsxRuntimeExports;default_1$k=InfoOutlined.default=(0,_createSvgIcon$k.default)((0,_jsxRuntime$k.jsx)("path",{d:"M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8"}),"InfoOutlined");const InputHelperText=({name:ts,errors:ns,helperText:rs,showHelperTextIcon:is=!0,textColor:os})=>{var ss,as;return jsxRuntimeExports.jsxs(Box$1,{children:[jsxRuntimeExports.jsx(FormHelperText$1,{id:"".concat(ts,"-helper-text"),sx:{color:os,gap:0,mt:1},children:(as=(ss=ns[ts])==null?void 0:ss.message)!=null?as:""}),rs&&jsxRuntimeExports.jsxs(Box$1,{display:"flex",children:[is&&jsxRuntimeExports.jsx(default_1$k,{sx:{fontSize:"18px",color:"info.main",verticalAlign:"bottom",paddingRight:"4px"}}),jsxRuntimeExports.jsx(Typography$1,{variant:"caption",color:"text.primary",children:rs})]})]})},currentDate$2=new Date,currentYear$2=currentDate$2.getFullYear(),startYear$2=1900,days$1=Array.from({length:31},(ts,ns)=>{const rs=ns+1;return{value:rs<10?"0".concat(rs):"".concat(rs),label:"".concat(rs)}}),years$2=Array.from({length:currentYear$2-startYear$2+1},(ts,ns)=>{const rs=startYear$2+ns;return{value:"".concat(rs),label:"".concat(rs)}}).reverse(),CoalescedDateInput$1=({name:ts,required:ns,currentValue:rs,defaultValue:is,readOnlyValue:os,label:ss,setCurrentValue:as,disabled:ls,helperText:cs,showHelperTextIcon:us})=>{const[ds,ps]=reactExports.useState(""),[hs,ms]=reactExports.useState(""),[gs,ys]=reactExports.useState("");reactExports.useEffect(()=>{var $s,Cs;if(rs==="")ms(""),ps(""),ys("");else{const[Es,xs,ws]=((Cs=($s=os!=null?os:rs)!=null?$s:is)!=null?Cs:"--").split("-");ms(ws),ps(xs),ys(Es)}},[rs,is,os]);const{formState:{errors:vs}}=useFormContext(),{otherColors:bs}=reactExports.useContext(IntakeThemeContext),Ss=reactExports.useMemo(()=>{const $s="".concat(gs,"-").concat(ds,"-").concat(hs),Cs=DateTime.fromFormat($s,"yyyy-MM-dd");return Cs.isValid?Cs.toFormat("yyyy-MM-dd"):$s},[hs,ds,gs]);return reactExports.useEffect(()=>{Ss==="--"&&rs==="--"&&as(""),Ss!=="--"&&rs!==Ss&&rs!=="--"&&as(Ss)},[rs,Ss,as]),jsxRuntimeExports.jsxs(Box$1,{sx:{paddingBottom:"10px"},children:[jsxRuntimeExports.jsx(BoldPurpleInputLabel,{required:ns,shrink:!0,children:ss!=null?ss:"Date of birth"}),jsxRuntimeExports.jsxs("div",{style:{width:"100%",display:"flex",gap:"10px"},children:[jsxRuntimeExports.jsxs(FormControl$1,{required:ns,sx:{width:"150px"},children:[jsxRuntimeExports.jsx(InputLabel$1,{children:"Month"}),jsxRuntimeExports.jsx(Select$2,{disabled:ls||!!os,label:"Month",value:ds,onChange:$s=>ps($s.target.value),children:months.map($s=>jsxRuntimeExports.jsx(MenuItem$1,{value:$s.value,children:$s.label},$s.value))})]}),jsxRuntimeExports.jsxs(FormControl$1,{required:ns,sx:{width:"150px"},children:[jsxRuntimeExports.jsx(InputLabel$1,{children:"Day"}),jsxRuntimeExports.jsx(Select$2,{disabled:ls||!!os,label:"Day",value:hs,onChange:$s=>ms($s.target.value),children:days$1.map($s=>jsxRuntimeExports.jsx(MenuItem$1,{value:$s.value,children:$s.label},$s.value))})]}),jsxRuntimeExports.jsxs(FormControl$1,{required:ns,sx:{width:"150px"},children:[jsxRuntimeExports.jsx(InputLabel$1,{children:"Year"}),jsxRuntimeExports.jsx(Select$2,{disabled:ls||!!os,label:"Year",value:gs,onChange:$s=>ys==null?void 0:ys($s.target.value),children:years$2.map($s=>jsxRuntimeExports.jsx(MenuItem$1,{value:$s.value,children:$s.label},$s.value))})]})]}),jsxRuntimeExports.jsx(InputHelperText,{textColor:bs.cancel,name:ts,errors:vs,helperText:cs,showHelperTextIcon:us})]})};var AddPhotoAlternateOutlined={},_interopRequireDefault$j=interopRequireDefaultExports;Object.defineProperty(AddPhotoAlternateOutlined,"__esModule",{value:!0});var default_1$j=AddPhotoAlternateOutlined.default=void 0,_createSvgIcon$j=_interopRequireDefault$j(requireCreateSvgIcon()),_jsxRuntime$j=jsxRuntimeExports;default_1$j=AddPhotoAlternateOutlined.default=(0,_createSvgIcon$j.default)((0,_jsxRuntime$j.jsx)("path",{d:"M18 20H4V6h9V4H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-9h-2zm-7.79-3.17-1.96-2.36L5.5 18h11l-3.54-4.71zM20 4V1h-2v3h-3c.01.01 0 2 0 2h3v2.99c.01.01 2 0 2 0V6h3V4z"}),"AddPhotoAlternateOutlined");var CloseSharp={},_interopRequireDefault$i=interopRequireDefaultExports;Object.defineProperty(CloseSharp,"__esModule",{value:!0});var default_1$i=CloseSharp.default=void 0,_createSvgIcon$i=_interopRequireDefault$i(requireCreateSvgIcon()),_jsxRuntime$i=jsxRuntimeExports;default_1$i=CloseSharp.default=(0,_createSvgIcon$i.default)((0,_jsxRuntime$i.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"CloseSharp");const VisuallyHiddenInput=styled$2("input")({clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:1,overflow:"hidden",position:"absolute",bottom:0,left:0,whiteSpace:"nowrap",width:1}),PhotosUpload=({name:ts,label:ns,defaultValue:rs={},options:is})=>{const{otherColors:os}=reactExports.useContext(IntakeThemeContext),ss=PATIENT_PHOTOS_MAX_COUNT_TELEMED,[as,ls]=reactExports.useState(()=>Object.keys(rs).reduce((ds,ps)=>{var ms,gs,ys;const hs=((ms=rs==null?void 0:rs[ps])==null?void 0:ms.presignedUrl)||((gs=rs==null?void 0:rs[ps])==null?void 0:gs.z3Url)||((ys=rs==null?void 0:rs[ps])==null?void 0:ys.localUrl);return hs&&(ds[ps]=hs),ds},{})),cs=ds=>{const{files:ps}=ds.target;if(ps){const hs=Array.from(ps).slice(0,ss-Object.keys(as).length),ms=Object.keys(as).map(gs=>gs.split("-").at(-1)).filter(gs=>!!gs).map(gs=>+gs);hs.forEach(gs=>{const ys=findMissingNumber(ms),vs=URL.createObjectURL(gs),bs="".concat(is.fileType,"-").concat(ys);is.uploadFile(bs,vs),is.onUpload(Ss=>({...Ss,[bs]:{...Ss[bs],fileData:gs}})),is.resetUploadFailed(bs),ls(Ss=>({...Ss,[bs]:vs})),ms.push(ys)})}else console.log("No files selected!")},us=ds=>{is.onClear(ds),ls(ps=>filterObject(ps,hs=>hs!==ds))};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(BoldPurpleInputLabel,{id:"".concat(ts,"-label"),htmlFor:ts,shrink:!0,children:ns}),Object.keys(as).length>0?jsxRuntimeExports.jsx(Box$1,{sx:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:2},children:Object.keys(as).map(ds=>jsxRuntimeExports.jsxs(Box$1,{position:"relative",display:"inline-block",children:[jsxRuntimeExports.jsx("img",{style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:8},src:as[ds],alt:ds,loading:"lazy"}),!is.loading&&jsxRuntimeExports.jsx(IconButton$2,{"aria-label":"delete",size:"small",style:{position:"absolute",top:-5,right:-5,backgroundColor:os.clearImage,padding:"5px"},onClick:()=>us(ds),children:jsxRuntimeExports.jsx(default_1$i,{sx:{color:os.white,fontSize:"12px"}})})]},ds))}):jsxRuntimeExports.jsx(Typography$1,{color:os.scheduleBorder,children:"No files attached"}),Object.keys(as).length<ss&&jsxRuntimeExports.jsx(Box$1,{children:jsxRuntimeExports.jsxs(Button$2,{variant:"outlined",component:"label",disabled:is.loading,sx:{textTransform:"none",mt:2},startIcon:jsxRuntimeExports.jsx(default_1$j,{fontSize:"small"}),children:["Upload new photo",jsxRuntimeExports.jsx(VisuallyHiddenInput,{onChange:ds=>cs(ds),multiple:!0,type:"file",accept:"image/png, image/jpeg, image/jpg"})]})})]})};function ok$1(){}function unreachable(){}function stringify$3(ts,ns){const rs=ns||{};return(ts[ts.length-1]===""?[...ts,""]:ts).join((rs.padRight?" ":"")+","+(rs.padLeft===!1?"":" ")).trim()}const nameRe=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,nameReJsx=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,emptyOptions$2={};function name$1(ts,ns){return((ns||emptyOptions$2).jsx?nameReJsx:nameRe).test(ts)}const re$1=/[ \t\n\f\r]/g;function whitespace(ts){return typeof ts=="object"?ts.type==="text"?empty$1(ts.value):!1:empty$1(ts)}function empty$1(ts){return ts.replace(re$1,"")===""}class Schema{constructor(ns,rs,is){this.property=ns,this.normal=rs,is&&(this.space=is)}}Schema.prototype.property={};Schema.prototype.normal={};Schema.prototype.space=null;function merge$1(ts,ns){const rs={},is={};let os=-1;for(;++os<ts.length;)Object.assign(rs,ts[os].property),Object.assign(is,ts[os].normal);return new Schema(rs,is,ns)}function normalize$2(ts){return ts.toLowerCase()}class Info{constructor(ns,rs){this.property=ns,this.attribute=rs}}Info.prototype.space=null;Info.prototype.boolean=!1;Info.prototype.booleanish=!1;Info.prototype.overloadedBoolean=!1;Info.prototype.number=!1;Info.prototype.commaSeparated=!1;Info.prototype.spaceSeparated=!1;Info.prototype.commaOrSpaceSeparated=!1;Info.prototype.mustUseProperty=!1;Info.prototype.defined=!1;let powers=0;const boolean=increment(),booleanish=increment(),overloadedBoolean=increment(),number=increment(),spaceSeparated=increment(),commaSeparated=increment(),commaOrSpaceSeparated=increment();function increment(){return 2**++powers}const types$2=Object.freeze(Object.defineProperty({__proto__:null,boolean,booleanish,commaOrSpaceSeparated,commaSeparated,number,overloadedBoolean,spaceSeparated},Symbol.toStringTag,{value:"Module"})),checks=Object.keys(types$2);class DefinedInfo extends Info{constructor(ns,rs,is,os){let ss=-1;if(super(ns,rs),mark(this,"space",os),typeof is=="number")for(;++ss<checks.length;){const as=checks[ss];mark(this,checks[ss],(is&types$2[as])===types$2[as])}}}DefinedInfo.prototype.defined=!0;function mark(ts,ns,rs){rs&&(ts[ns]=rs)}const own$4={}.hasOwnProperty;function create$3(ts){const ns={},rs={};let is;for(is in ts.properties)if(own$4.call(ts.properties,is)){const os=ts.properties[is],ss=new DefinedInfo(is,ts.transform(ts.attributes||{},is),os,ts.space);ts.mustUseProperty&&ts.mustUseProperty.includes(is)&&(ss.mustUseProperty=!0),ns[is]=ss,rs[normalize$2(is)]=is,rs[normalize$2(ss.attribute)]=is}return new Schema(ns,rs,ts.space)}const xlink=create$3({space:"xlink",transform(ts,ns){return"xlink:"+ns.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),xml=create$3({space:"xml",transform(ts,ns){return"xml:"+ns.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function caseSensitiveTransform(ts,ns){return ns in ts?ts[ns]:ns}function caseInsensitiveTransform(ts,ns){return caseSensitiveTransform(ts,ns.toLowerCase())}const xmlns=create$3({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:caseInsensitiveTransform,properties:{xmlns:null,xmlnsXLink:null}}),aria=create$3({transform(ts,ns){return ns==="role"?ns:"aria-"+ns.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:booleanish,ariaAutoComplete:null,ariaBusy:booleanish,ariaChecked:booleanish,ariaColCount:number,ariaColIndex:number,ariaColSpan:number,ariaControls:spaceSeparated,ariaCurrent:null,ariaDescribedBy:spaceSeparated,ariaDetails:null,ariaDisabled:booleanish,ariaDropEffect:spaceSeparated,ariaErrorMessage:null,ariaExpanded:booleanish,ariaFlowTo:spaceSeparated,ariaGrabbed:booleanish,ariaHasPopup:null,ariaHidden:booleanish,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:spaceSeparated,ariaLevel:number,ariaLive:null,ariaModal:booleanish,ariaMultiLine:booleanish,ariaMultiSelectable:booleanish,ariaOrientation:null,ariaOwns:spaceSeparated,ariaPlaceholder:null,ariaPosInSet:number,ariaPressed:booleanish,ariaReadOnly:booleanish,ariaRelevant:null,ariaRequired:booleanish,ariaRoleDescription:spaceSeparated,ariaRowCount:number,ariaRowIndex:number,ariaRowSpan:number,ariaSelected:booleanish,ariaSetSize:number,ariaSort:null,ariaValueMax:number,ariaValueMin:number,ariaValueNow:number,ariaValueText:null,role:null}}),html$2=create$3({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:caseInsensitiveTransform,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:commaSeparated,acceptCharset:spaceSeparated,accessKey:spaceSeparated,action:null,allow:null,allowFullScreen:boolean,allowPaymentRequest:boolean,allowUserMedia:boolean,alt:null,as:null,async:boolean,autoCapitalize:null,autoComplete:spaceSeparated,autoFocus:boolean,autoPlay:boolean,blocking:spaceSeparated,capture:null,charSet:null,checked:boolean,cite:null,className:spaceSeparated,cols:number,colSpan:null,content:null,contentEditable:booleanish,controls:boolean,controlsList:spaceSeparated,coords:number|commaSeparated,crossOrigin:null,data:null,dateTime:null,decoding:null,default:boolean,defer:boolean,dir:null,dirName:null,disabled:boolean,download:overloadedBoolean,draggable:booleanish,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:boolean,formTarget:null,headers:spaceSeparated,height:number,hidden:boolean,high:number,href:null,hrefLang:null,htmlFor:spaceSeparated,httpEquiv:spaceSeparated,id:null,imageSizes:null,imageSrcSet:null,inert:boolean,inputMode:null,integrity:null,is:null,isMap:boolean,itemId:null,itemProp:spaceSeparated,itemRef:spaceSeparated,itemScope:boolean,itemType:spaceSeparated,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:boolean,low:number,manifest:null,max:null,maxLength:number,media:null,method:null,min:null,minLength:number,multiple:boolean,muted:boolean,name:null,nonce:null,noModule:boolean,noValidate:boolean,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:boolean,optimum:number,pattern:null,ping:spaceSeparated,placeholder:null,playsInline:boolean,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:boolean,referrerPolicy:null,rel:spaceSeparated,required:boolean,reversed:boolean,rows:number,rowSpan:number,sandbox:spaceSeparated,scope:null,scoped:boolean,seamless:boolean,selected:boolean,shadowRootClonable:boolean,shadowRootDelegatesFocus:boolean,shadowRootMode:null,shape:null,size:number,sizes:null,slot:null,span:number,spellCheck:booleanish,src:null,srcDoc:null,srcLang:null,srcSet:null,start:number,step:null,style:null,tabIndex:number,target:null,title:null,translate:null,type:null,typeMustMatch:boolean,useMap:null,value:booleanish,width:number,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:spaceSeparated,axis:null,background:null,bgColor:null,border:number,borderColor:null,bottomMargin:number,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:boolean,declare:boolean,event:null,face:null,frame:null,frameBorder:null,hSpace:number,leftMargin:number,link:null,longDesc:null,lowSrc:null,marginHeight:number,marginWidth:number,noResize:boolean,noHref:boolean,noShade:boolean,noWrap:boolean,object:null,profile:null,prompt:null,rev:null,rightMargin:number,rules:null,scheme:null,scrolling:booleanish,standby:null,summary:null,text:null,topMargin:number,valueType:null,version:null,vAlign:null,vLink:null,vSpace:number,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:boolean,disableRemotePlayback:boolean,prefix:null,property:null,results:number,security:null,unselectable:null}}),svg$1=create$3({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:caseSensitiveTransform,properties:{about:commaOrSpaceSeparated,accentHeight:number,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:number,amplitude:number,arabicForm:null,ascent:number,attributeName:null,attributeType:null,azimuth:number,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:number,by:null,calcMode:null,capHeight:number,className:spaceSeparated,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:number,diffuseConstant:number,direction:null,display:null,dur:null,divisor:number,dominantBaseline:null,download:boolean,dx:null,dy:null,edgeMode:null,editable:null,elevation:number,enableBackground:null,end:null,event:null,exponent:number,externalResourcesRequired:null,fill:null,fillOpacity:number,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:commaSeparated,g2:commaSeparated,glyphName:commaSeparated,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:number,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:number,horizOriginX:number,horizOriginY:number,id:null,ideographic:number,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:number,k:number,k1:number,k2:number,k3:number,k4:number,kernelMatrix:commaOrSpaceSeparated,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:number,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:number,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:number,overlineThickness:number,paintOrder:null,panose1:null,path:null,pathLength:number,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:spaceSeparated,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:number,pointsAtY:number,pointsAtZ:number,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:commaOrSpaceSeparated,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:commaOrSpaceSeparated,rev:commaOrSpaceSeparated,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:commaOrSpaceSeparated,requiredFeatures:commaOrSpaceSeparated,requiredFonts:commaOrSpaceSeparated,requiredFormats:commaOrSpaceSeparated,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:number,specularExponent:number,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:number,strikethroughThickness:number,string:null,stroke:null,strokeDashArray:commaOrSpaceSeparated,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:number,strokeOpacity:number,strokeWidth:null,style:null,surfaceScale:number,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:commaOrSpaceSeparated,tabIndex:number,tableValues:null,target:null,targetX:number,targetY:number,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:commaOrSpaceSeparated,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:number,underlineThickness:number,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:number,values:null,vAlphabetic:number,vMathematical:number,vectorEffect:null,vHanging:number,vIdeographic:number,version:null,vertAdvY:number,vertOriginX:number,vertOriginY:number,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:number,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),valid=/^data[-\w.:]+$/i,dash=/-[a-z]/g,cap$1=/[A-Z]/g;function find(ts,ns){const rs=normalize$2(ns);let is=ns,os=Info;if(rs in ts.normal)return ts.property[ts.normal[rs]];if(rs.length>4&&rs.slice(0,4)==="data"&&valid.test(ns)){if(ns.charAt(4)==="-"){const ss=ns.slice(5).replace(dash,camelcase);is="data"+ss.charAt(0).toUpperCase()+ss.slice(1)}else{const ss=ns.slice(4);if(!dash.test(ss)){let as=ss.replace(cap$1,kebab);as.charAt(0)!=="-"&&(as="-"+as),ns="data"+as}}os=DefinedInfo}return new os(is,ns)}function kebab(ts){return"-"+ts.toLowerCase()}function camelcase(ts){return ts.charAt(1).toUpperCase()}const hastToReact={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},html$1=merge$1([xml,xlink,xmlns,aria,html$2],"html"),svg=merge$1([xml,xlink,xmlns,aria,svg$1],"svg");function stringify$2(ts){return ts.join(" ").trim()}var cjs={},COMMENT_REGEX=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,NEWLINE_REGEX=/\n/g,WHITESPACE_REGEX=/^\s*/,PROPERTY_REGEX=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,COLON_REGEX=/^:\s*/,VALUE_REGEX=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,SEMICOLON_REGEX=/^[;\s]*/,TRIM_REGEX=/^\s+|\s+$/g,NEWLINE="\n",FORWARD_SLASH="/",ASTERISK="*",EMPTY_STRING="",TYPE_COMMENT="comment",TYPE_DECLARATION="declaration",inlineStyleParser=function(ts,ns){if(typeof ts!="string")throw new TypeError("First argument must be a string");if(!ts)return[];ns=ns||{};var rs=1,is=1;function os(gs){var ys=gs.match(NEWLINE_REGEX);ys&&(rs+=ys.length);var vs=gs.lastIndexOf(NEWLINE);is=~vs?gs.length-vs:is+gs.length}function ss(){var gs={line:rs,column:is};return function(ys){return ys.position=new as(gs),us(),ys}}function as(gs){this.start=gs,this.end={line:rs,column:is},this.source=ns.source}as.prototype.content=ts;function ls(gs){var ys=new Error(ns.source+":"+rs+":"+is+": "+gs);if(ys.reason=gs,ys.filename=ns.source,ys.line=rs,ys.column=is,ys.source=ts,!ns.silent)throw ys}function cs(gs){var ys=gs.exec(ts);if(ys){var vs=ys[0];return os(vs),ts=ts.slice(vs.length),ys}}function us(){cs(WHITESPACE_REGEX)}function ds(gs){var ys;for(gs=gs||[];ys=ps();)ys!==!1&&gs.push(ys);return gs}function ps(){var gs=ss();if(!(FORWARD_SLASH!=ts.charAt(0)||ASTERISK!=ts.charAt(1))){for(var ys=2;EMPTY_STRING!=ts.charAt(ys)&&(ASTERISK!=ts.charAt(ys)||FORWARD_SLASH!=ts.charAt(ys+1));)++ys;if(ys+=2,EMPTY_STRING===ts.charAt(ys-1))return ls("End of comment missing");var vs=ts.slice(2,ys-2);return is+=2,os(vs),ts=ts.slice(ys),is+=2,gs({type:TYPE_COMMENT,comment:vs})}}function hs(){var gs=ss(),ys=cs(PROPERTY_REGEX);if(ys){if(ps(),!cs(COLON_REGEX))return ls("property missing ':'");var vs=cs(VALUE_REGEX),bs=gs({type:TYPE_DECLARATION,property:trim(ys[0].replace(COMMENT_REGEX,EMPTY_STRING)),value:vs?trim(vs[0].replace(COMMENT_REGEX,EMPTY_STRING)):EMPTY_STRING});return cs(SEMICOLON_REGEX),bs}}function ms(){var gs=[];ds(gs);for(var ys;ys=hs();)ys!==!1&&(gs.push(ys),ds(gs));return gs}return us(),ms()};function trim(ts){return ts?ts.replace(TRIM_REGEX,EMPTY_STRING):EMPTY_STRING}var __importDefault$1O=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(cjs,"__esModule",{value:!0});var inline_style_parser_1=__importDefault$1O(inlineStyleParser);function StyleToObject(ts,ns){var rs=null;if(!ts||typeof ts!="string")return rs;var is=(0,inline_style_parser_1.default)(ts),os=typeof ns=="function";return is.forEach(function(ss){if(ss.type==="declaration"){var as=ss.property,ls=ss.value;os?ns(as,ls,ss):ls&&(rs=rs||{},rs[as]=ls)}}),rs}var _default=cjs.default=StyleToObject;const styleToObject=_default.default||_default,pointEnd=point$2("end"),pointStart=point$2("start");function point$2(ts){return ns;function ns(rs){const is=rs&&rs.position&&rs.position[ts]||{};if(typeof is.line=="number"&&is.line>0&&typeof is.column=="number"&&is.column>0)return{line:is.line,column:is.column,offset:typeof is.offset=="number"&&is.offset>-1?is.offset:void 0}}}function position$2(ts){const ns=pointStart(ts),rs=pointEnd(ts);if(ns&&rs)return{start:ns,end:rs}}function stringifyPosition(ts){return!ts||typeof ts!="object"?"":"position"in ts||"type"in ts?position$1(ts.position):"start"in ts||"end"in ts?position$1(ts):"line"in ts||"column"in ts?point$1(ts):""}function point$1(ts){return index(ts&&ts.line)+":"+index(ts&&ts.column)}function position$1(ts){return point$1(ts&&ts.start)+"-"+point$1(ts&&ts.end)}function index(ts){return ts&&typeof ts=="number"?ts:1}class VFileMessage extends Error{constructor(ns,rs,is){super(),typeof rs=="string"&&(is=rs,rs=void 0);let os="",ss={},as=!1;if(rs&&("line"in rs&&"column"in rs?ss={place:rs}:"start"in rs&&"end"in rs?ss={place:rs}:"type"in rs?ss={ancestors:[rs],place:rs.position}:ss={...rs}),typeof ns=="string"?os=ns:!ss.cause&&ns&&(as=!0,os=ns.message,ss.cause=ns),!ss.ruleId&&!ss.source&&typeof is=="string"){const cs=is.indexOf(":");cs===-1?ss.ruleId=is:(ss.source=is.slice(0,cs),ss.ruleId=is.slice(cs+1))}if(!ss.place&&ss.ancestors&&ss.ancestors){const cs=ss.ancestors[ss.ancestors.length-1];cs&&(ss.place=cs.position)}const ls=ss.place&&"start"in ss.place?ss.place.start:ss.place;this.ancestors=ss.ancestors||void 0,this.cause=ss.cause||void 0,this.column=ls?ls.column:void 0,this.fatal=void 0,this.file,this.message=os,this.line=ls?ls.line:void 0,this.name=stringifyPosition(ss.place)||"1:1",this.place=ss.place||void 0,this.reason=this.message,this.ruleId=ss.ruleId||void 0,this.source=ss.source||void 0,this.stack=as&&ss.cause&&typeof ss.cause.stack=="string"?ss.cause.stack:"",this.actual,this.expected,this.note,this.url}}VFileMessage.prototype.file="";VFileMessage.prototype.name="";VFileMessage.prototype.reason="";VFileMessage.prototype.message="";VFileMessage.prototype.stack="";VFileMessage.prototype.column=void 0;VFileMessage.prototype.line=void 0;VFileMessage.prototype.ancestors=void 0;VFileMessage.prototype.cause=void 0;VFileMessage.prototype.fatal=void 0;VFileMessage.prototype.place=void 0;VFileMessage.prototype.ruleId=void 0;VFileMessage.prototype.source=void 0;const own$3={}.hasOwnProperty,emptyMap=new Map,cap=/[A-Z]/g,dashSomething=/-([a-z])/g,tableElements=new Set(["table","tbody","thead","tfoot","tr"]),tableCellElement=new Set(["td","th"]),docs="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function toJsxRuntime(ts,ns){if(!ns||ns.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const rs=ns.filePath||void 0;let is;if(ns.development){if(typeof ns.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");is=developmentCreate(rs,ns.jsxDEV)}else{if(typeof ns.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof ns.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");is=productionCreate(rs,ns.jsx,ns.jsxs)}const os={Fragment:ns.Fragment,ancestors:[],components:ns.components||{},create:is,elementAttributeNameCase:ns.elementAttributeNameCase||"react",evaluater:ns.createEvaluater?ns.createEvaluater():void 0,filePath:rs,ignoreInvalidStyle:ns.ignoreInvalidStyle||!1,passKeys:ns.passKeys!==!1,passNode:ns.passNode||!1,schema:ns.space==="svg"?svg:html$1,stylePropertyNameCase:ns.stylePropertyNameCase||"dom",tableCellAlignToStyle:ns.tableCellAlignToStyle!==!1},ss=one$1(os,ts,void 0);return ss&&typeof ss!="string"?ss:os.create(ts,os.Fragment,{children:ss||void 0},void 0)}function one$1(ts,ns,rs){if(ns.type==="element")return element$1(ts,ns,rs);if(ns.type==="mdxFlowExpression"||ns.type==="mdxTextExpression")return mdxExpression(ts,ns);if(ns.type==="mdxJsxFlowElement"||ns.type==="mdxJsxTextElement")return mdxJsxElement(ts,ns,rs);if(ns.type==="mdxjsEsm")return mdxEsm(ts,ns);if(ns.type==="root")return root$1(ts,ns,rs);if(ns.type==="text")return text$3(ts,ns)}function element$1(ts,ns,rs){const is=ts.schema;let os=is;ns.tagName.toLowerCase()==="svg"&&is.space==="html"&&(os=svg,ts.schema=os),ts.ancestors.push(ns);const ss=findComponentFromName(ts,ns.tagName,!1),as=createElementProps(ts,ns);let ls=createChildren(ts,ns);return tableElements.has(ns.tagName)&&(ls=ls.filter(function(cs){return typeof cs=="string"?!whitespace(cs):!0})),addNode(ts,as,ss,ns),addChildren(as,ls),ts.ancestors.pop(),ts.schema=is,ts.create(ns,ss,as,rs)}function mdxExpression(ts,ns){if(ns.data&&ns.data.estree&&ts.evaluater){const is=ns.data.estree.body[0];return is.type,ts.evaluater.evaluateExpression(is.expression)}crashEstree(ts,ns.position)}function mdxEsm(ts,ns){if(ns.data&&ns.data.estree&&ts.evaluater)return ts.evaluater.evaluateProgram(ns.data.estree);crashEstree(ts,ns.position)}function mdxJsxElement(ts,ns,rs){const is=ts.schema;let os=is;ns.name==="svg"&&is.space==="html"&&(os=svg,ts.schema=os),ts.ancestors.push(ns);const ss=ns.name===null?ts.Fragment:findComponentFromName(ts,ns.name,!0),as=createJsxElementProps(ts,ns),ls=createChildren(ts,ns);return addNode(ts,as,ss,ns),addChildren(as,ls),ts.ancestors.pop(),ts.schema=is,ts.create(ns,ss,as,rs)}function root$1(ts,ns,rs){const is={};return addChildren(is,createChildren(ts,ns)),ts.create(ns,ts.Fragment,is,rs)}function text$3(ts,ns){return ns.value}function addNode(ts,ns,rs,is){typeof rs!="string"&&rs!==ts.Fragment&&ts.passNode&&(ns.node=is)}function addChildren(ts,ns){if(ns.length>0){const rs=ns.length>1?ns:ns[0];rs&&(ts.children=rs)}}function productionCreate(ts,ns,rs){return is;function is(os,ss,as,ls){const us=Array.isArray(as.children)?rs:ns;return ls?us(ss,as,ls):us(ss,as)}}function developmentCreate(ts,ns){return rs;function rs(is,os,ss,as){const ls=Array.isArray(ss.children),cs=pointStart(is);return ns(os,ss,as,ls,{columnNumber:cs?cs.column-1:void 0,fileName:ts,lineNumber:cs?cs.line:void 0},void 0)}}function createElementProps(ts,ns){const rs={};let is,os;for(os in ns.properties)if(os!=="children"&&own$3.call(ns.properties,os)){const ss=createProperty(ts,os,ns.properties[os]);if(ss){const[as,ls]=ss;ts.tableCellAlignToStyle&&as==="align"&&typeof ls=="string"&&tableCellElement.has(ns.tagName)?is=ls:rs[as]=ls}}if(is){const ss=rs.style||(rs.style={});ss[ts.stylePropertyNameCase==="css"?"text-align":"textAlign"]=is}return rs}function createJsxElementProps(ts,ns){const rs={};for(const is of ns.attributes)if(is.type==="mdxJsxExpressionAttribute")if(is.data&&is.data.estree&&ts.evaluater){const ss=is.data.estree.body[0];ss.type;const as=ss.expression;as.type;const ls=as.properties[0];ls.type,Object.assign(rs,ts.evaluater.evaluateExpression(ls.argument))}else crashEstree(ts,ns.position);else{const os=is.name;let ss;if(is.value&&typeof is.value=="object")if(is.value.data&&is.value.data.estree&&ts.evaluater){const ls=is.value.data.estree.body[0];ls.type,ss=ts.evaluater.evaluateExpression(ls.expression)}else crashEstree(ts,ns.position);else ss=is.value===null?!0:is.value;rs[os]=ss}return rs}function createChildren(ts,ns){const rs=[];let is=-1;const os=ts.passKeys?new Map:emptyMap;for(;++is<ns.children.length;){const ss=ns.children[is];let as;if(ts.passKeys){const cs=ss.type==="element"?ss.tagName:ss.type==="mdxJsxFlowElement"||ss.type==="mdxJsxTextElement"?ss.name:void 0;if(cs){const us=os.get(cs)||0;as=cs+"-"+us,os.set(cs,us+1)}}const ls=one$1(ts,ss,as);ls!==void 0&&rs.push(ls)}return rs}function createProperty(ts,ns,rs){const is=find(ts.schema,ns);if(!(rs==null||typeof rs=="number"&&Number.isNaN(rs))){if(Array.isArray(rs)&&(rs=is.commaSeparated?stringify$3(rs):stringify$2(rs)),is.property==="style"){let os=typeof rs=="object"?rs:parseStyle(ts,String(rs));return ts.stylePropertyNameCase==="css"&&(os=transformStylesToCssCasing(os)),["style",os]}return[ts.elementAttributeNameCase==="react"&&is.space?hastToReact[is.property]||is.property:is.attribute,rs]}}function parseStyle(ts,ns){const rs={};try{styleToObject(ns,is)}catch(os){if(!ts.ignoreInvalidStyle){const ss=os,as=new VFileMessage("Cannot parse `style` attribute",{ancestors:ts.ancestors,cause:ss,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw as.file=ts.filePath||void 0,as.url=docs+"#cannot-parse-style-attribute",as}}return rs;function is(os,ss){let as=os;as.slice(0,2)!=="--"&&(as.slice(0,4)==="-ms-"&&(as="ms-"+as.slice(4)),as=as.replace(dashSomething,toCamel)),rs[as]=ss}}function findComponentFromName(ts,ns,rs){let is;if(!rs)is={type:"Literal",value:ns};else if(ns.includes(".")){const os=ns.split(".");let ss=-1,as;for(;++ss<os.length;){const ls=name$1(os[ss])?{type:"Identifier",name:os[ss]}:{type:"Literal",value:os[ss]};as=as?{type:"MemberExpression",object:as,property:ls,computed:!!(ss&&ls.type==="Literal"),optional:!1}:ls}is=as}else is=name$1(ns)&&!/^[a-z]/.test(ns)?{type:"Identifier",name:ns}:{type:"Literal",value:ns};if(is.type==="Literal"){const os=is.value;return own$3.call(ts.components,os)?ts.components[os]:os}if(ts.evaluater)return ts.evaluater.evaluateExpression(is);crashEstree(ts)}function crashEstree(ts,ns){const rs=new VFileMessage("Cannot handle MDX estrees without `createEvaluater`",{ancestors:ts.ancestors,place:ns,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw rs.file=ts.filePath||void 0,rs.url=docs+"#cannot-handle-mdx-estrees-without-createevaluater",rs}function transformStylesToCssCasing(ts){const ns={};let rs;for(rs in ts)own$3.call(ts,rs)&&(ns[transformStyleToCssCasing(rs)]=ts[rs]);return ns}function transformStyleToCssCasing(ts){let ns=ts.replace(cap,toDash);return ns.slice(0,3)==="ms-"&&(ns="-"+ns),ns}function toCamel(ts,ns){return ns.toUpperCase()}function toDash(ts){return"-"+ts.toLowerCase()}const urlAttributes={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},emptyOptions$1={};function toString$4(ts,ns){const rs=ns||emptyOptions$1,is=typeof rs.includeImageAlt=="boolean"?rs.includeImageAlt:!0,os=typeof rs.includeHtml=="boolean"?rs.includeHtml:!0;return one(ts,is,os)}function one(ts,ns,rs){if(node(ts)){if("value"in ts)return ts.type==="html"&&!rs?"":ts.value;if(ns&&"alt"in ts&&ts.alt)return ts.alt;if("children"in ts)return all(ts.children,ns,rs)}return Array.isArray(ts)?all(ts,ns,rs):""}function all(ts,ns,rs){const is=[];let os=-1;for(;++os<ts.length;)is[os]=one(ts[os],ns,rs);return is.join("")}function node(ts){return!!(ts&&typeof ts=="object")}const element=document.createElement("i");function decodeNamedCharacterReference(ts){const ns="&"+ts+";";element.innerHTML=ns;const rs=element.textContent;return rs.charCodeAt(rs.length-1)===59&&ts!=="semi"||rs===ns?!1:rs}function splice(ts,ns,rs,is){const os=ts.length;let ss=0,as;if(ns<0?ns=-ns>os?0:os+ns:ns=ns>os?os:ns,rs=rs>0?rs:0,is.length<1e4)as=Array.from(is),as.unshift(ns,rs),ts.splice(...as);else for(rs&&ts.splice(ns,rs);ss<is.length;)as=is.slice(ss,ss+1e4),as.unshift(ns,0),ts.splice(...as),ss+=1e4,ns+=1e4}function push(ts,ns){return ts.length>0?(splice(ts,ts.length,0,ns),ts):ns}const hasOwnProperty$3={}.hasOwnProperty;function combineExtensions(ts){const ns={};let rs=-1;for(;++rs<ts.length;)syntaxExtension(ns,ts[rs]);return ns}function syntaxExtension(ts,ns){let rs;for(rs in ns){const os=(hasOwnProperty$3.call(ts,rs)?ts[rs]:void 0)||(ts[rs]={}),ss=ns[rs];let as;if(ss)for(as in ss){hasOwnProperty$3.call(os,as)||(os[as]=[]);const ls=ss[as];constructs(os[as],Array.isArray(ls)?ls:ls?[ls]:[])}}}function constructs(ts,ns){let rs=-1;const is=[];for(;++rs<ns.length;)(ns[rs].add==="after"?ts:is).push(ns[rs]);splice(ts,0,0,is)}function decodeNumericCharacterReference(ts,ns){const rs=Number.parseInt(ts,ns);return rs<9||rs===11||rs>13&&rs<32||rs>126&&rs<160||rs>55295&&rs<57344||rs>64975&&rs<65008||(rs&65535)===65535||(rs&65535)===65534||rs>1114111?"ï¿½":String.fromCodePoint(rs)}function normalizeIdentifier(ts){return ts.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const asciiAlpha=regexCheck(/[A-Za-z]/),asciiAlphanumeric=regexCheck(/[\dA-Za-z]/),asciiAtext=regexCheck(/[#-'*+\--9=?A-Z^-~]/);function asciiControl(ts){return ts!==null&&(ts<32||ts===127)}const asciiDigit=regexCheck(/\d/),asciiHexDigit=regexCheck(/[\dA-Fa-f]/),asciiPunctuation=regexCheck(/[!-/:-@[-`{-~]/);function markdownLineEnding(ts){return ts!==null&&ts<-2}function markdownLineEndingOrSpace(ts){return ts!==null&&(ts<0||ts===32)}function markdownSpace(ts){return ts===-2||ts===-1||ts===32}const unicodePunctuation=regexCheck(/\p{P}|\p{S}/u),unicodeWhitespace=regexCheck(/\s/);function regexCheck(ts){return ns;function ns(rs){return rs!==null&&rs>-1&&ts.test(String.fromCharCode(rs))}}function normalizeUri(ts){const ns=[];let rs=-1,is=0,os=0;for(;++rs<ts.length;){const ss=ts.charCodeAt(rs);let as="";if(ss===37&&asciiAlphanumeric(ts.charCodeAt(rs+1))&&asciiAlphanumeric(ts.charCodeAt(rs+2)))os=2;else if(ss<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(ss))||(as=String.fromCharCode(ss));else if(ss>55295&&ss<57344){const ls=ts.charCodeAt(rs+1);ss<56320&&ls>56319&&ls<57344?(as=String.fromCharCode(ss,ls),os=1):as="ï¿½"}else as=String.fromCharCode(ss);as&&(ns.push(ts.slice(is,rs),encodeURIComponent(as)),is=rs+os+1,as=""),os&&(rs+=os,os=0)}return ns.join("")+ts.slice(is)}function factorySpace(ts,ns,rs,is){const os=is?is-1:Number.POSITIVE_INFINITY;let ss=0;return as;function as(cs){return markdownSpace(cs)?(ts.enter(rs),ls(cs)):ns(cs)}function ls(cs){return markdownSpace(cs)&&ss++<os?(ts.consume(cs),ls):(ts.exit(rs),ns(cs))}}const content$1={tokenize:initializeContent};function initializeContent(ts){const ns=ts.attempt(this.parser.constructs.contentInitial,is,os);let rs;return ns;function is(ls){if(ls===null){ts.consume(ls);return}return ts.enter("lineEnding"),ts.consume(ls),ts.exit("lineEnding"),factorySpace(ts,ns,"linePrefix")}function os(ls){return ts.enter("paragraph"),ss(ls)}function ss(ls){const cs=ts.enter("chunkText",{contentType:"text",previous:rs});return rs&&(rs.next=cs),rs=cs,as(ls)}function as(ls){if(ls===null){ts.exit("chunkText"),ts.exit("paragraph"),ts.consume(ls);return}return markdownLineEnding(ls)?(ts.consume(ls),ts.exit("chunkText"),ss):(ts.consume(ls),as)}}const document$3={tokenize:initializeDocument},containerConstruct={tokenize:tokenizeContainer};function initializeDocument(ts){const ns=this,rs=[];let is=0,os,ss,as;return ls;function ls($s){if(is<rs.length){const Cs=rs[is];return ns.containerState=Cs[1],ts.attempt(Cs[0].continuation,cs,us)($s)}return us($s)}function cs($s){if(is++,ns.containerState._closeFlow){ns.containerState._closeFlow=void 0,os&&Ss();const Cs=ns.events.length;let Es=Cs,xs;for(;Es--;)if(ns.events[Es][0]==="exit"&&ns.events[Es][1].type==="chunkFlow"){xs=ns.events[Es][1].end;break}bs(is);let ws=Cs;for(;ws<ns.events.length;)ns.events[ws][1].end=Object.assign({},xs),ws++;return splice(ns.events,Es+1,0,ns.events.slice(Cs)),ns.events.length=ws,us($s)}return ls($s)}function us($s){if(is===rs.length){if(!os)return hs($s);if(os.currentConstruct&&os.currentConstruct.concrete)return gs($s);ns.interrupt=!!(os.currentConstruct&&!os._gfmTableDynamicInterruptHack)}return ns.containerState={},ts.check(containerConstruct,ds,ps)($s)}function ds($s){return os&&Ss(),bs(is),hs($s)}function ps($s){return ns.parser.lazy[ns.now().line]=is!==rs.length,as=ns.now().offset,gs($s)}function hs($s){return ns.containerState={},ts.attempt(containerConstruct,ms,gs)($s)}function ms($s){return is++,rs.push([ns.currentConstruct,ns.containerState]),hs($s)}function gs($s){if($s===null){os&&Ss(),bs(0),ts.consume($s);return}return os=os||ns.parser.flow(ns.now()),ts.enter("chunkFlow",{contentType:"flow",previous:ss,_tokenizer:os}),ys($s)}function ys($s){if($s===null){vs(ts.exit("chunkFlow"),!0),bs(0),ts.consume($s);return}return markdownLineEnding($s)?(ts.consume($s),vs(ts.exit("chunkFlow")),is=0,ns.interrupt=void 0,ls):(ts.consume($s),ys)}function vs($s,Cs){const Es=ns.sliceStream($s);if(Cs&&Es.push(null),$s.previous=ss,ss&&(ss.next=$s),ss=$s,os.defineSkip($s.start),os.write(Es),ns.parser.lazy[$s.start.line]){let xs=os.events.length;for(;xs--;)if(os.events[xs][1].start.offset<as&&(!os.events[xs][1].end||os.events[xs][1].end.offset>as))return;const ws=ns.events.length;let ks=ws,Is,Ts;for(;ks--;)if(ns.events[ks][0]==="exit"&&ns.events[ks][1].type==="chunkFlow"){if(Is){Ts=ns.events[ks][1].end;break}Is=!0}for(bs(is),xs=ws;xs<ns.events.length;)ns.events[xs][1].end=Object.assign({},Ts),xs++;splice(ns.events,ks+1,0,ns.events.slice(ws)),ns.events.length=xs}}function bs($s){let Cs=rs.length;for(;Cs-- >$s;){const Es=rs[Cs];ns.containerState=Es[1],Es[0].exit.call(ns,ts)}rs.length=$s}function Ss(){os.write([null]),ss=void 0,os=void 0,ns.containerState._closeFlow=void 0}}function tokenizeContainer(ts,ns,rs){return factorySpace(ts,ts.attempt(this.parser.constructs.document,ns,rs),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function classifyCharacter(ts){if(ts===null||markdownLineEndingOrSpace(ts)||unicodeWhitespace(ts))return 1;if(unicodePunctuation(ts))return 2}function resolveAll(ts,ns,rs){const is=[];let os=-1;for(;++os<ts.length;){const ss=ts[os].resolveAll;ss&&!is.includes(ss)&&(ns=ss(ns,rs),is.push(ss))}return ns}const attention={name:"attention",tokenize:tokenizeAttention,resolveAll:resolveAllAttention};function resolveAllAttention(ts,ns){let rs=-1,is,os,ss,as,ls,cs,us,ds;for(;++rs<ts.length;)if(ts[rs][0]==="enter"&&ts[rs][1].type==="attentionSequence"&&ts[rs][1]._close){for(is=rs;is--;)if(ts[is][0]==="exit"&&ts[is][1].type==="attentionSequence"&&ts[is][1]._open&&ns.sliceSerialize(ts[is][1]).charCodeAt(0)===ns.sliceSerialize(ts[rs][1]).charCodeAt(0)){if((ts[is][1]._close||ts[rs][1]._open)&&(ts[rs][1].end.offset-ts[rs][1].start.offset)%3&&!((ts[is][1].end.offset-ts[is][1].start.offset+ts[rs][1].end.offset-ts[rs][1].start.offset)%3))continue;cs=ts[is][1].end.offset-ts[is][1].start.offset>1&&ts[rs][1].end.offset-ts[rs][1].start.offset>1?2:1;const ps=Object.assign({},ts[is][1].end),hs=Object.assign({},ts[rs][1].start);movePoint(ps,-cs),movePoint(hs,cs),as={type:cs>1?"strongSequence":"emphasisSequence",start:ps,end:Object.assign({},ts[is][1].end)},ls={type:cs>1?"strongSequence":"emphasisSequence",start:Object.assign({},ts[rs][1].start),end:hs},ss={type:cs>1?"strongText":"emphasisText",start:Object.assign({},ts[is][1].end),end:Object.assign({},ts[rs][1].start)},os={type:cs>1?"strong":"emphasis",start:Object.assign({},as.start),end:Object.assign({},ls.end)},ts[is][1].end=Object.assign({},as.start),ts[rs][1].start=Object.assign({},ls.end),us=[],ts[is][1].end.offset-ts[is][1].start.offset&&(us=push(us,[["enter",ts[is][1],ns],["exit",ts[is][1],ns]])),us=push(us,[["enter",os,ns],["enter",as,ns],["exit",as,ns],["enter",ss,ns]]),us=push(us,resolveAll(ns.parser.constructs.insideSpan.null,ts.slice(is+1,rs),ns)),us=push(us,[["exit",ss,ns],["enter",ls,ns],["exit",ls,ns],["exit",os,ns]]),ts[rs][1].end.offset-ts[rs][1].start.offset?(ds=2,us=push(us,[["enter",ts[rs][1],ns],["exit",ts[rs][1],ns]])):ds=0,splice(ts,is-1,rs-is+3,us),rs=is+us.length-ds-2;break}}for(rs=-1;++rs<ts.length;)ts[rs][1].type==="attentionSequence"&&(ts[rs][1].type="data");return ts}function tokenizeAttention(ts,ns){const rs=this.parser.constructs.attentionMarkers.null,is=this.previous,os=classifyCharacter(is);let ss;return as;function as(cs){return ss=cs,ts.enter("attentionSequence"),ls(cs)}function ls(cs){if(cs===ss)return ts.consume(cs),ls;const us=ts.exit("attentionSequence"),ds=classifyCharacter(cs),ps=!ds||ds===2&&os||rs.includes(cs),hs=!os||os===2&&ds||rs.includes(is);return us._open=!!(ss===42?ps:ps&&(os||!hs)),us._close=!!(ss===42?hs:hs&&(ds||!ps)),ns(cs)}}function movePoint(ts,ns){ts.column+=ns,ts.offset+=ns,ts._bufferIndex+=ns}const autolink={name:"autolink",tokenize:tokenizeAutolink};function tokenizeAutolink(ts,ns,rs){let is=0;return os;function os(ms){return ts.enter("autolink"),ts.enter("autolinkMarker"),ts.consume(ms),ts.exit("autolinkMarker"),ts.enter("autolinkProtocol"),ss}function ss(ms){return asciiAlpha(ms)?(ts.consume(ms),as):ms===64?rs(ms):us(ms)}function as(ms){return ms===43||ms===45||ms===46||asciiAlphanumeric(ms)?(is=1,ls(ms)):us(ms)}function ls(ms){return ms===58?(ts.consume(ms),is=0,cs):(ms===43||ms===45||ms===46||asciiAlphanumeric(ms))&&is++<32?(ts.consume(ms),ls):(is=0,us(ms))}function cs(ms){return ms===62?(ts.exit("autolinkProtocol"),ts.enter("autolinkMarker"),ts.consume(ms),ts.exit("autolinkMarker"),ts.exit("autolink"),ns):ms===null||ms===32||ms===60||asciiControl(ms)?rs(ms):(ts.consume(ms),cs)}function us(ms){return ms===64?(ts.consume(ms),ds):asciiAtext(ms)?(ts.consume(ms),us):rs(ms)}function ds(ms){return asciiAlphanumeric(ms)?ps(ms):rs(ms)}function ps(ms){return ms===46?(ts.consume(ms),is=0,ds):ms===62?(ts.exit("autolinkProtocol").type="autolinkEmail",ts.enter("autolinkMarker"),ts.consume(ms),ts.exit("autolinkMarker"),ts.exit("autolink"),ns):hs(ms)}function hs(ms){if((ms===45||asciiAlphanumeric(ms))&&is++<63){const gs=ms===45?hs:ps;return ts.consume(ms),gs}return rs(ms)}}const blankLine={tokenize:tokenizeBlankLine,partial:!0};function tokenizeBlankLine(ts,ns,rs){return is;function is(ss){return markdownSpace(ss)?factorySpace(ts,os,"linePrefix")(ss):os(ss)}function os(ss){return ss===null||markdownLineEnding(ss)?ns(ss):rs(ss)}}const blockQuote={name:"blockQuote",tokenize:tokenizeBlockQuoteStart,continuation:{tokenize:tokenizeBlockQuoteContinuation},exit};function tokenizeBlockQuoteStart(ts,ns,rs){const is=this;return os;function os(as){if(as===62){const ls=is.containerState;return ls.open||(ts.enter("blockQuote",{_container:!0}),ls.open=!0),ts.enter("blockQuotePrefix"),ts.enter("blockQuoteMarker"),ts.consume(as),ts.exit("blockQuoteMarker"),ss}return rs(as)}function ss(as){return markdownSpace(as)?(ts.enter("blockQuotePrefixWhitespace"),ts.consume(as),ts.exit("blockQuotePrefixWhitespace"),ts.exit("blockQuotePrefix"),ns):(ts.exit("blockQuotePrefix"),ns(as))}}function tokenizeBlockQuoteContinuation(ts,ns,rs){const is=this;return os;function os(as){return markdownSpace(as)?factorySpace(ts,ss,"linePrefix",is.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(as):ss(as)}function ss(as){return ts.attempt(blockQuote,ns,rs)(as)}}function exit(ts){ts.exit("blockQuote")}const characterEscape={name:"characterEscape",tokenize:tokenizeCharacterEscape};function tokenizeCharacterEscape(ts,ns,rs){return is;function is(ss){return ts.enter("characterEscape"),ts.enter("escapeMarker"),ts.consume(ss),ts.exit("escapeMarker"),os}function os(ss){return asciiPunctuation(ss)?(ts.enter("characterEscapeValue"),ts.consume(ss),ts.exit("characterEscapeValue"),ts.exit("characterEscape"),ns):rs(ss)}}const characterReference={name:"characterReference",tokenize:tokenizeCharacterReference};function tokenizeCharacterReference(ts,ns,rs){const is=this;let os=0,ss,as;return ls;function ls(ps){return ts.enter("characterReference"),ts.enter("characterReferenceMarker"),ts.consume(ps),ts.exit("characterReferenceMarker"),cs}function cs(ps){return ps===35?(ts.enter("characterReferenceMarkerNumeric"),ts.consume(ps),ts.exit("characterReferenceMarkerNumeric"),us):(ts.enter("characterReferenceValue"),ss=31,as=asciiAlphanumeric,ds(ps))}function us(ps){return ps===88||ps===120?(ts.enter("characterReferenceMarkerHexadecimal"),ts.consume(ps),ts.exit("characterReferenceMarkerHexadecimal"),ts.enter("characterReferenceValue"),ss=6,as=asciiHexDigit,ds):(ts.enter("characterReferenceValue"),ss=7,as=asciiDigit,ds(ps))}function ds(ps){if(ps===59&&os){const hs=ts.exit("characterReferenceValue");return as===asciiAlphanumeric&&!decodeNamedCharacterReference(is.sliceSerialize(hs))?rs(ps):(ts.enter("characterReferenceMarker"),ts.consume(ps),ts.exit("characterReferenceMarker"),ts.exit("characterReference"),ns)}return as(ps)&&os++<ss?(ts.consume(ps),ds):rs(ps)}}const nonLazyContinuation={tokenize:tokenizeNonLazyContinuation,partial:!0},codeFenced={name:"codeFenced",tokenize:tokenizeCodeFenced,concrete:!0};function tokenizeCodeFenced(ts,ns,rs){const is=this,os={tokenize:Es,partial:!0};let ss=0,as=0,ls;return cs;function cs(xs){return us(xs)}function us(xs){const ws=is.events[is.events.length-1];return ss=ws&&ws[1].type==="linePrefix"?ws[2].sliceSerialize(ws[1],!0).length:0,ls=xs,ts.enter("codeFenced"),ts.enter("codeFencedFence"),ts.enter("codeFencedFenceSequence"),ds(xs)}function ds(xs){return xs===ls?(as++,ts.consume(xs),ds):as<3?rs(xs):(ts.exit("codeFencedFenceSequence"),markdownSpace(xs)?factorySpace(ts,ps,"whitespace")(xs):ps(xs))}function ps(xs){return xs===null||markdownLineEnding(xs)?(ts.exit("codeFencedFence"),is.interrupt?ns(xs):ts.check(nonLazyContinuation,ys,Cs)(xs)):(ts.enter("codeFencedFenceInfo"),ts.enter("chunkString",{contentType:"string"}),hs(xs))}function hs(xs){return xs===null||markdownLineEnding(xs)?(ts.exit("chunkString"),ts.exit("codeFencedFenceInfo"),ps(xs)):markdownSpace(xs)?(ts.exit("chunkString"),ts.exit("codeFencedFenceInfo"),factorySpace(ts,ms,"whitespace")(xs)):xs===96&&xs===ls?rs(xs):(ts.consume(xs),hs)}function ms(xs){return xs===null||markdownLineEnding(xs)?ps(xs):(ts.enter("codeFencedFenceMeta"),ts.enter("chunkString",{contentType:"string"}),gs(xs))}function gs(xs){return xs===null||markdownLineEnding(xs)?(ts.exit("chunkString"),ts.exit("codeFencedFenceMeta"),ps(xs)):xs===96&&xs===ls?rs(xs):(ts.consume(xs),gs)}function ys(xs){return ts.attempt(os,Cs,vs)(xs)}function vs(xs){return ts.enter("lineEnding"),ts.consume(xs),ts.exit("lineEnding"),bs}function bs(xs){return ss>0&&markdownSpace(xs)?factorySpace(ts,Ss,"linePrefix",ss+1)(xs):Ss(xs)}function Ss(xs){return xs===null||markdownLineEnding(xs)?ts.check(nonLazyContinuation,ys,Cs)(xs):(ts.enter("codeFlowValue"),$s(xs))}function $s(xs){return xs===null||markdownLineEnding(xs)?(ts.exit("codeFlowValue"),Ss(xs)):(ts.consume(xs),$s)}function Cs(xs){return ts.exit("codeFenced"),ns(xs)}function Es(xs,ws,ks){let Is=0;return Ts;function Ts(Ds){return xs.enter("lineEnding"),xs.consume(Ds),xs.exit("lineEnding"),Rs}function Rs(Ds){return xs.enter("codeFencedFence"),markdownSpace(Ds)?factorySpace(xs,As,"linePrefix",is.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(Ds):As(Ds)}function As(Ds){return Ds===ls?(xs.enter("codeFencedFenceSequence"),Ms(Ds)):ks(Ds)}function Ms(Ds){return Ds===ls?(Is++,xs.consume(Ds),Ms):Is>=as?(xs.exit("codeFencedFenceSequence"),markdownSpace(Ds)?factorySpace(xs,Ls,"whitespace")(Ds):Ls(Ds)):ks(Ds)}function Ls(Ds){return Ds===null||markdownLineEnding(Ds)?(xs.exit("codeFencedFence"),ws(Ds)):ks(Ds)}}}function tokenizeNonLazyContinuation(ts,ns,rs){const is=this;return os;function os(as){return as===null?rs(as):(ts.enter("lineEnding"),ts.consume(as),ts.exit("lineEnding"),ss)}function ss(as){return is.parser.lazy[is.now().line]?rs(as):ns(as)}}const codeIndented={name:"codeIndented",tokenize:tokenizeCodeIndented},furtherStart={tokenize:tokenizeFurtherStart,partial:!0};function tokenizeCodeIndented(ts,ns,rs){const is=this;return os;function os(us){return ts.enter("codeIndented"),factorySpace(ts,ss,"linePrefix",4+1)(us)}function ss(us){const ds=is.events[is.events.length-1];return ds&&ds[1].type==="linePrefix"&&ds[2].sliceSerialize(ds[1],!0).length>=4?as(us):rs(us)}function as(us){return us===null?cs(us):markdownLineEnding(us)?ts.attempt(furtherStart,as,cs)(us):(ts.enter("codeFlowValue"),ls(us))}function ls(us){return us===null||markdownLineEnding(us)?(ts.exit("codeFlowValue"),as(us)):(ts.consume(us),ls)}function cs(us){return ts.exit("codeIndented"),ns(us)}}function tokenizeFurtherStart(ts,ns,rs){const is=this;return os;function os(as){return is.parser.lazy[is.now().line]?rs(as):markdownLineEnding(as)?(ts.enter("lineEnding"),ts.consume(as),ts.exit("lineEnding"),os):factorySpace(ts,ss,"linePrefix",4+1)(as)}function ss(as){const ls=is.events[is.events.length-1];return ls&&ls[1].type==="linePrefix"&&ls[2].sliceSerialize(ls[1],!0).length>=4?ns(as):markdownLineEnding(as)?os(as):rs(as)}}const codeText={name:"codeText",tokenize:tokenizeCodeText,resolve:resolveCodeText,previous};function resolveCodeText(ts){let ns=ts.length-4,rs=3,is,os;if((ts[rs][1].type==="lineEnding"||ts[rs][1].type==="space")&&(ts[ns][1].type==="lineEnding"||ts[ns][1].type==="space")){for(is=rs;++is<ns;)if(ts[is][1].type==="codeTextData"){ts[rs][1].type="codeTextPadding",ts[ns][1].type="codeTextPadding",rs+=2,ns-=2;break}}for(is=rs-1,ns++;++is<=ns;)os===void 0?is!==ns&&ts[is][1].type!=="lineEnding"&&(os=is):(is===ns||ts[is][1].type==="lineEnding")&&(ts[os][1].type="codeTextData",is!==os+2&&(ts[os][1].end=ts[is-1][1].end,ts.splice(os+2,is-os-2),ns-=is-os-2,is=os+2),os=void 0);return ts}function previous(ts){return ts!==96||this.events[this.events.length-1][1].type==="characterEscape"}function tokenizeCodeText(ts,ns,rs){let is=0,os,ss;return as;function as(ps){return ts.enter("codeText"),ts.enter("codeTextSequence"),ls(ps)}function ls(ps){return ps===96?(ts.consume(ps),is++,ls):(ts.exit("codeTextSequence"),cs(ps))}function cs(ps){return ps===null?rs(ps):ps===32?(ts.enter("space"),ts.consume(ps),ts.exit("space"),cs):ps===96?(ss=ts.enter("codeTextSequence"),os=0,ds(ps)):markdownLineEnding(ps)?(ts.enter("lineEnding"),ts.consume(ps),ts.exit("lineEnding"),cs):(ts.enter("codeTextData"),us(ps))}function us(ps){return ps===null||ps===32||ps===96||markdownLineEnding(ps)?(ts.exit("codeTextData"),cs(ps)):(ts.consume(ps),us)}function ds(ps){return ps===96?(ts.consume(ps),os++,ds):os===is?(ts.exit("codeTextSequence"),ts.exit("codeText"),ns(ps)):(ss.type="codeTextData",us(ps))}}class SpliceBuffer{constructor(ns){this.left=ns?[...ns]:[],this.right=[]}get(ns){if(ns<0||ns>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+ns+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return ns<this.left.length?this.left[ns]:this.right[this.right.length-ns+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(ns,rs){const is=rs==null?Number.POSITIVE_INFINITY:rs;return is<this.left.length?this.left.slice(ns,is):ns>this.left.length?this.right.slice(this.right.length-is+this.left.length,this.right.length-ns+this.left.length).reverse():this.left.slice(ns).concat(this.right.slice(this.right.length-is+this.left.length).reverse())}splice(ns,rs,is){const os=rs||0;this.setCursor(Math.trunc(ns));const ss=this.right.splice(this.right.length-os,Number.POSITIVE_INFINITY);return is&&chunkedPush(this.left,is),ss.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(ns){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(ns)}pushMany(ns){this.setCursor(Number.POSITIVE_INFINITY),chunkedPush(this.left,ns)}unshift(ns){this.setCursor(0),this.right.push(ns)}unshiftMany(ns){this.setCursor(0),chunkedPush(this.right,ns.reverse())}setCursor(ns){if(!(ns===this.left.length||ns>this.left.length&&this.right.length===0||ns<0&&this.left.length===0))if(ns<this.left.length){const rs=this.left.splice(ns,Number.POSITIVE_INFINITY);chunkedPush(this.right,rs.reverse())}else{const rs=this.right.splice(this.left.length+this.right.length-ns,Number.POSITIVE_INFINITY);chunkedPush(this.left,rs.reverse())}}}function chunkedPush(ts,ns){let rs=0;if(ns.length<1e4)ts.push(...ns);else for(;rs<ns.length;)ts.push(...ns.slice(rs,rs+1e4)),rs+=1e4}function subtokenize(ts){const ns={};let rs=-1,is,os,ss,as,ls,cs,us;const ds=new SpliceBuffer(ts);for(;++rs<ds.length;){for(;rs in ns;)rs=ns[rs];if(is=ds.get(rs),rs&&is[1].type==="chunkFlow"&&ds.get(rs-1)[1].type==="listItemPrefix"&&(cs=is[1]._tokenizer.events,ss=0,ss<cs.length&&cs[ss][1].type==="lineEndingBlank"&&(ss+=2),ss<cs.length&&cs[ss][1].type==="content"))for(;++ss<cs.length&&cs[ss][1].type!=="content";)cs[ss][1].type==="chunkText"&&(cs[ss][1]._isInFirstContentOfListItem=!0,ss++);if(is[0]==="enter")is[1].contentType&&(Object.assign(ns,subcontent(ds,rs)),rs=ns[rs],us=!0);else if(is[1]._container){for(ss=rs,os=void 0;ss--&&(as=ds.get(ss),as[1].type==="lineEnding"||as[1].type==="lineEndingBlank");)as[0]==="enter"&&(os&&(ds.get(os)[1].type="lineEndingBlank"),as[1].type="lineEnding",os=ss);os&&(is[1].end=Object.assign({},ds.get(os)[1].start),ls=ds.slice(os,rs),ls.unshift(is),ds.splice(os,rs-os+1,ls))}}return splice(ts,0,Number.POSITIVE_INFINITY,ds.slice(0)),!us}function subcontent(ts,ns){const rs=ts.get(ns)[1],is=ts.get(ns)[2];let os=ns-1;const ss=[],as=rs._tokenizer||is.parser[rs.contentType](rs.start),ls=as.events,cs=[],us={};let ds,ps,hs=-1,ms=rs,gs=0,ys=0;const vs=[ys];for(;ms;){for(;ts.get(++os)[1]!==ms;);ss.push(os),ms._tokenizer||(ds=is.sliceStream(ms),ms.next||ds.push(null),ps&&as.defineSkip(ms.start),ms._isInFirstContentOfListItem&&(as._gfmTasklistFirstContentOfListItem=!0),as.write(ds),ms._isInFirstContentOfListItem&&(as._gfmTasklistFirstContentOfListItem=void 0)),ps=ms,ms=ms.next}for(ms=rs;++hs<ls.length;)ls[hs][0]==="exit"&&ls[hs-1][0]==="enter"&&ls[hs][1].type===ls[hs-1][1].type&&ls[hs][1].start.line!==ls[hs][1].end.line&&(ys=hs+1,vs.push(ys),ms._tokenizer=void 0,ms.previous=void 0,ms=ms.next);for(as.events=[],ms?(ms._tokenizer=void 0,ms.previous=void 0):vs.pop(),hs=vs.length;hs--;){const bs=ls.slice(vs[hs],vs[hs+1]),Ss=ss.pop();cs.push([Ss,Ss+bs.length-1]),ts.splice(Ss,2,bs)}for(cs.reverse(),hs=-1;++hs<cs.length;)us[gs+cs[hs][0]]=gs+cs[hs][1],gs+=cs[hs][1]-cs[hs][0]-1;return us}const content={tokenize:tokenizeContent,resolve:resolveContent},continuationConstruct={tokenize:tokenizeContinuation,partial:!0};function resolveContent(ts){return subtokenize(ts),ts}function tokenizeContent(ts,ns){let rs;return is;function is(ls){return ts.enter("content"),rs=ts.enter("chunkContent",{contentType:"content"}),os(ls)}function os(ls){return ls===null?ss(ls):markdownLineEnding(ls)?ts.check(continuationConstruct,as,ss)(ls):(ts.consume(ls),os)}function ss(ls){return ts.exit("chunkContent"),ts.exit("content"),ns(ls)}function as(ls){return ts.consume(ls),ts.exit("chunkContent"),rs.next=ts.enter("chunkContent",{contentType:"content",previous:rs}),rs=rs.next,os}}function tokenizeContinuation(ts,ns,rs){const is=this;return os;function os(as){return ts.exit("chunkContent"),ts.enter("lineEnding"),ts.consume(as),ts.exit("lineEnding"),factorySpace(ts,ss,"linePrefix")}function ss(as){if(as===null||markdownLineEnding(as))return rs(as);const ls=is.events[is.events.length-1];return!is.parser.constructs.disable.null.includes("codeIndented")&&ls&&ls[1].type==="linePrefix"&&ls[2].sliceSerialize(ls[1],!0).length>=4?ns(as):ts.interrupt(is.parser.constructs.flow,rs,ns)(as)}}function factoryDestination(ts,ns,rs,is,os,ss,as,ls,cs){const us=cs||Number.POSITIVE_INFINITY;let ds=0;return ps;function ps(bs){return bs===60?(ts.enter(is),ts.enter(os),ts.enter(ss),ts.consume(bs),ts.exit(ss),hs):bs===null||bs===32||bs===41||asciiControl(bs)?rs(bs):(ts.enter(is),ts.enter(as),ts.enter(ls),ts.enter("chunkString",{contentType:"string"}),ys(bs))}function hs(bs){return bs===62?(ts.enter(ss),ts.consume(bs),ts.exit(ss),ts.exit(os),ts.exit(is),ns):(ts.enter(ls),ts.enter("chunkString",{contentType:"string"}),ms(bs))}function ms(bs){return bs===62?(ts.exit("chunkString"),ts.exit(ls),hs(bs)):bs===null||bs===60||markdownLineEnding(bs)?rs(bs):(ts.consume(bs),bs===92?gs:ms)}function gs(bs){return bs===60||bs===62||bs===92?(ts.consume(bs),ms):ms(bs)}function ys(bs){return!ds&&(bs===null||bs===41||markdownLineEndingOrSpace(bs))?(ts.exit("chunkString"),ts.exit(ls),ts.exit(as),ts.exit(is),ns(bs)):ds<us&&bs===40?(ts.consume(bs),ds++,ys):bs===41?(ts.consume(bs),ds--,ys):bs===null||bs===32||bs===40||asciiControl(bs)?rs(bs):(ts.consume(bs),bs===92?vs:ys)}function vs(bs){return bs===40||bs===41||bs===92?(ts.consume(bs),ys):ys(bs)}}function factoryLabel(ts,ns,rs,is,os,ss){const as=this;let ls=0,cs;return us;function us(ms){return ts.enter(is),ts.enter(os),ts.consume(ms),ts.exit(os),ts.enter(ss),ds}function ds(ms){return ls>999||ms===null||ms===91||ms===93&&!cs||ms===94&&!ls&&"_hiddenFootnoteSupport"in as.parser.constructs?rs(ms):ms===93?(ts.exit(ss),ts.enter(os),ts.consume(ms),ts.exit(os),ts.exit(is),ns):markdownLineEnding(ms)?(ts.enter("lineEnding"),ts.consume(ms),ts.exit("lineEnding"),ds):(ts.enter("chunkString",{contentType:"string"}),ps(ms))}function ps(ms){return ms===null||ms===91||ms===93||markdownLineEnding(ms)||ls++>999?(ts.exit("chunkString"),ds(ms)):(ts.consume(ms),cs||(cs=!markdownSpace(ms)),ms===92?hs:ps)}function hs(ms){return ms===91||ms===92||ms===93?(ts.consume(ms),ls++,ps):ps(ms)}}function factoryTitle(ts,ns,rs,is,os,ss){let as;return ls;function ls(hs){return hs===34||hs===39||hs===40?(ts.enter(is),ts.enter(os),ts.consume(hs),ts.exit(os),as=hs===40?41:hs,cs):rs(hs)}function cs(hs){return hs===as?(ts.enter(os),ts.consume(hs),ts.exit(os),ts.exit(is),ns):(ts.enter(ss),us(hs))}function us(hs){return hs===as?(ts.exit(ss),cs(as)):hs===null?rs(hs):markdownLineEnding(hs)?(ts.enter("lineEnding"),ts.consume(hs),ts.exit("lineEnding"),factorySpace(ts,us,"linePrefix")):(ts.enter("chunkString",{contentType:"string"}),ds(hs))}function ds(hs){return hs===as||hs===null||markdownLineEnding(hs)?(ts.exit("chunkString"),us(hs)):(ts.consume(hs),hs===92?ps:ds)}function ps(hs){return hs===as||hs===92?(ts.consume(hs),ds):ds(hs)}}function factoryWhitespace(ts,ns){let rs;return is;function is(os){return markdownLineEnding(os)?(ts.enter("lineEnding"),ts.consume(os),ts.exit("lineEnding"),rs=!0,is):markdownSpace(os)?factorySpace(ts,is,rs?"linePrefix":"lineSuffix")(os):ns(os)}}const definition={name:"definition",tokenize:tokenizeDefinition},titleBefore={tokenize:tokenizeTitleBefore,partial:!0};function tokenizeDefinition(ts,ns,rs){const is=this;let os;return ss;function ss(ms){return ts.enter("definition"),as(ms)}function as(ms){return factoryLabel.call(is,ts,ls,rs,"definitionLabel","definitionLabelMarker","definitionLabelString")(ms)}function ls(ms){return os=normalizeIdentifier(is.sliceSerialize(is.events[is.events.length-1][1]).slice(1,-1)),ms===58?(ts.enter("definitionMarker"),ts.consume(ms),ts.exit("definitionMarker"),cs):rs(ms)}function cs(ms){return markdownLineEndingOrSpace(ms)?factoryWhitespace(ts,us)(ms):us(ms)}function us(ms){return factoryDestination(ts,ds,rs,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(ms)}function ds(ms){return ts.attempt(titleBefore,ps,ps)(ms)}function ps(ms){return markdownSpace(ms)?factorySpace(ts,hs,"whitespace")(ms):hs(ms)}function hs(ms){return ms===null||markdownLineEnding(ms)?(ts.exit("definition"),is.parser.defined.push(os),ns(ms)):rs(ms)}}function tokenizeTitleBefore(ts,ns,rs){return is;function is(ls){return markdownLineEndingOrSpace(ls)?factoryWhitespace(ts,os)(ls):rs(ls)}function os(ls){return factoryTitle(ts,ss,rs,"definitionTitle","definitionTitleMarker","definitionTitleString")(ls)}function ss(ls){return markdownSpace(ls)?factorySpace(ts,as,"whitespace")(ls):as(ls)}function as(ls){return ls===null||markdownLineEnding(ls)?ns(ls):rs(ls)}}const hardBreakEscape={name:"hardBreakEscape",tokenize:tokenizeHardBreakEscape};function tokenizeHardBreakEscape(ts,ns,rs){return is;function is(ss){return ts.enter("hardBreakEscape"),ts.consume(ss),os}function os(ss){return markdownLineEnding(ss)?(ts.exit("hardBreakEscape"),ns(ss)):rs(ss)}}const headingAtx={name:"headingAtx",tokenize:tokenizeHeadingAtx,resolve:resolveHeadingAtx};function resolveHeadingAtx(ts,ns){let rs=ts.length-2,is=3,os,ss;return ts[is][1].type==="whitespace"&&(is+=2),rs-2>is&&ts[rs][1].type==="whitespace"&&(rs-=2),ts[rs][1].type==="atxHeadingSequence"&&(is===rs-1||rs-4>is&&ts[rs-2][1].type==="whitespace")&&(rs-=is+1===rs?2:4),rs>is&&(os={type:"atxHeadingText",start:ts[is][1].start,end:ts[rs][1].end},ss={type:"chunkText",start:ts[is][1].start,end:ts[rs][1].end,contentType:"text"},splice(ts,is,rs-is+1,[["enter",os,ns],["enter",ss,ns],["exit",ss,ns],["exit",os,ns]])),ts}function tokenizeHeadingAtx(ts,ns,rs){let is=0;return os;function os(ds){return ts.enter("atxHeading"),ss(ds)}function ss(ds){return ts.enter("atxHeadingSequence"),as(ds)}function as(ds){return ds===35&&is++<6?(ts.consume(ds),as):ds===null||markdownLineEndingOrSpace(ds)?(ts.exit("atxHeadingSequence"),ls(ds)):rs(ds)}function ls(ds){return ds===35?(ts.enter("atxHeadingSequence"),cs(ds)):ds===null||markdownLineEnding(ds)?(ts.exit("atxHeading"),ns(ds)):markdownSpace(ds)?factorySpace(ts,ls,"whitespace")(ds):(ts.enter("atxHeadingText"),us(ds))}function cs(ds){return ds===35?(ts.consume(ds),cs):(ts.exit("atxHeadingSequence"),ls(ds))}function us(ds){return ds===null||ds===35||markdownLineEndingOrSpace(ds)?(ts.exit("atxHeadingText"),ls(ds)):(ts.consume(ds),us)}}const htmlBlockNames=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],htmlRawNames=["pre","script","style","textarea"],htmlFlow={name:"htmlFlow",tokenize:tokenizeHtmlFlow,resolveTo:resolveToHtmlFlow,concrete:!0},blankLineBefore={tokenize:tokenizeBlankLineBefore,partial:!0},nonLazyContinuationStart={tokenize:tokenizeNonLazyContinuationStart,partial:!0};function resolveToHtmlFlow(ts){let ns=ts.length;for(;ns--&&!(ts[ns][0]==="enter"&&ts[ns][1].type==="htmlFlow"););return ns>1&&ts[ns-2][1].type==="linePrefix"&&(ts[ns][1].start=ts[ns-2][1].start,ts[ns+1][1].start=ts[ns-2][1].start,ts.splice(ns-2,2)),ts}function tokenizeHtmlFlow(ts,ns,rs){const is=this;let os,ss,as,ls,cs;return us;function us(Ps){return ds(Ps)}function ds(Ps){return ts.enter("htmlFlow"),ts.enter("htmlFlowData"),ts.consume(Ps),ps}function ps(Ps){return Ps===33?(ts.consume(Ps),hs):Ps===47?(ts.consume(Ps),ss=!0,ys):Ps===63?(ts.consume(Ps),os=3,is.interrupt?ns:Os):asciiAlpha(Ps)?(ts.consume(Ps),as=String.fromCharCode(Ps),vs):rs(Ps)}function hs(Ps){return Ps===45?(ts.consume(Ps),os=2,ms):Ps===91?(ts.consume(Ps),os=5,ls=0,gs):asciiAlpha(Ps)?(ts.consume(Ps),os=4,is.interrupt?ns:Os):rs(Ps)}function ms(Ps){return Ps===45?(ts.consume(Ps),is.interrupt?ns:Os):rs(Ps)}function gs(Ps){const Ys="CDATA[";return Ps===Ys.charCodeAt(ls++)?(ts.consume(Ps),ls===Ys.length?is.interrupt?ns:As:gs):rs(Ps)}function ys(Ps){return asciiAlpha(Ps)?(ts.consume(Ps),as=String.fromCharCode(Ps),vs):rs(Ps)}function vs(Ps){if(Ps===null||Ps===47||Ps===62||markdownLineEndingOrSpace(Ps)){const Ys=Ps===47,Zs=as.toLowerCase();return!Ys&&!ss&&htmlRawNames.includes(Zs)?(os=1,is.interrupt?ns(Ps):As(Ps)):htmlBlockNames.includes(as.toLowerCase())?(os=6,Ys?(ts.consume(Ps),bs):is.interrupt?ns(Ps):As(Ps)):(os=7,is.interrupt&&!is.parser.lazy[is.now().line]?rs(Ps):ss?Ss(Ps):$s(Ps))}return Ps===45||asciiAlphanumeric(Ps)?(ts.consume(Ps),as+=String.fromCharCode(Ps),vs):rs(Ps)}function bs(Ps){return Ps===62?(ts.consume(Ps),is.interrupt?ns:As):rs(Ps)}function Ss(Ps){return markdownSpace(Ps)?(ts.consume(Ps),Ss):Ts(Ps)}function $s(Ps){return Ps===47?(ts.consume(Ps),Ts):Ps===58||Ps===95||asciiAlpha(Ps)?(ts.consume(Ps),Cs):markdownSpace(Ps)?(ts.consume(Ps),$s):Ts(Ps)}function Cs(Ps){return Ps===45||Ps===46||Ps===58||Ps===95||asciiAlphanumeric(Ps)?(ts.consume(Ps),Cs):Es(Ps)}function Es(Ps){return Ps===61?(ts.consume(Ps),xs):markdownSpace(Ps)?(ts.consume(Ps),Es):$s(Ps)}function xs(Ps){return Ps===null||Ps===60||Ps===61||Ps===62||Ps===96?rs(Ps):Ps===34||Ps===39?(ts.consume(Ps),cs=Ps,ws):markdownSpace(Ps)?(ts.consume(Ps),xs):ks(Ps)}function ws(Ps){return Ps===cs?(ts.consume(Ps),cs=null,Is):Ps===null||markdownLineEnding(Ps)?rs(Ps):(ts.consume(Ps),ws)}function ks(Ps){return Ps===null||Ps===34||Ps===39||Ps===47||Ps===60||Ps===61||Ps===62||Ps===96||markdownLineEndingOrSpace(Ps)?Es(Ps):(ts.consume(Ps),ks)}function Is(Ps){return Ps===47||Ps===62||markdownSpace(Ps)?$s(Ps):rs(Ps)}function Ts(Ps){return Ps===62?(ts.consume(Ps),Rs):rs(Ps)}function Rs(Ps){return Ps===null||markdownLineEnding(Ps)?As(Ps):markdownSpace(Ps)?(ts.consume(Ps),Rs):rs(Ps)}function As(Ps){return Ps===45&&os===2?(ts.consume(Ps),Fs):Ps===60&&os===1?(ts.consume(Ps),Vs):Ps===62&&os===4?(ts.consume(Ps),Nl):Ps===63&&os===3?(ts.consume(Ps),Os):Ps===93&&os===5?(ts.consume(Ps),Ws):markdownLineEnding(Ps)&&(os===6||os===7)?(ts.exit("htmlFlowData"),ts.check(blankLineBefore,$a,Ms)(Ps)):Ps===null||markdownLineEnding(Ps)?(ts.exit("htmlFlowData"),Ms(Ps)):(ts.consume(Ps),As)}function Ms(Ps){return ts.check(nonLazyContinuationStart,Ls,$a)(Ps)}function Ls(Ps){return ts.enter("lineEnding"),ts.consume(Ps),ts.exit("lineEnding"),Ds}function Ds(Ps){return Ps===null||markdownLineEnding(Ps)?Ms(Ps):(ts.enter("htmlFlowData"),As(Ps))}function Fs(Ps){return Ps===45?(ts.consume(Ps),Os):As(Ps)}function Vs(Ps){return Ps===47?(ts.consume(Ps),as="",Bs):As(Ps)}function Bs(Ps){if(Ps===62){const Ys=as.toLowerCase();return htmlRawNames.includes(Ys)?(ts.consume(Ps),Nl):As(Ps)}return asciiAlpha(Ps)&&as.length<8?(ts.consume(Ps),as+=String.fromCharCode(Ps),Bs):As(Ps)}function Ws(Ps){return Ps===93?(ts.consume(Ps),Os):As(Ps)}function Os(Ps){return Ps===62?(ts.consume(Ps),Nl):Ps===45&&os===2?(ts.consume(Ps),Os):As(Ps)}function Nl(Ps){return Ps===null||markdownLineEnding(Ps)?(ts.exit("htmlFlowData"),$a(Ps)):(ts.consume(Ps),Nl)}function $a(Ps){return ts.exit("htmlFlow"),ns(Ps)}}function tokenizeNonLazyContinuationStart(ts,ns,rs){const is=this;return os;function os(as){return markdownLineEnding(as)?(ts.enter("lineEnding"),ts.consume(as),ts.exit("lineEnding"),ss):rs(as)}function ss(as){return is.parser.lazy[is.now().line]?rs(as):ns(as)}}function tokenizeBlankLineBefore(ts,ns,rs){return is;function is(os){return ts.enter("lineEnding"),ts.consume(os),ts.exit("lineEnding"),ts.attempt(blankLine,ns,rs)}}const htmlText={name:"htmlText",tokenize:tokenizeHtmlText};function tokenizeHtmlText(ts,ns,rs){const is=this;let os,ss,as;return ls;function ls(Os){return ts.enter("htmlText"),ts.enter("htmlTextData"),ts.consume(Os),cs}function cs(Os){return Os===33?(ts.consume(Os),us):Os===47?(ts.consume(Os),Es):Os===63?(ts.consume(Os),$s):asciiAlpha(Os)?(ts.consume(Os),ks):rs(Os)}function us(Os){return Os===45?(ts.consume(Os),ds):Os===91?(ts.consume(Os),ss=0,gs):asciiAlpha(Os)?(ts.consume(Os),Ss):rs(Os)}function ds(Os){return Os===45?(ts.consume(Os),ms):rs(Os)}function ps(Os){return Os===null?rs(Os):Os===45?(ts.consume(Os),hs):markdownLineEnding(Os)?(as=ps,Vs(Os)):(ts.consume(Os),ps)}function hs(Os){return Os===45?(ts.consume(Os),ms):ps(Os)}function ms(Os){return Os===62?Fs(Os):Os===45?hs(Os):ps(Os)}function gs(Os){const Nl="CDATA[";return Os===Nl.charCodeAt(ss++)?(ts.consume(Os),ss===Nl.length?ys:gs):rs(Os)}function ys(Os){return Os===null?rs(Os):Os===93?(ts.consume(Os),vs):markdownLineEnding(Os)?(as=ys,Vs(Os)):(ts.consume(Os),ys)}function vs(Os){return Os===93?(ts.consume(Os),bs):ys(Os)}function bs(Os){return Os===62?Fs(Os):Os===93?(ts.consume(Os),bs):ys(Os)}function Ss(Os){return Os===null||Os===62?Fs(Os):markdownLineEnding(Os)?(as=Ss,Vs(Os)):(ts.consume(Os),Ss)}function $s(Os){return Os===null?rs(Os):Os===63?(ts.consume(Os),Cs):markdownLineEnding(Os)?(as=$s,Vs(Os)):(ts.consume(Os),$s)}function Cs(Os){return Os===62?Fs(Os):$s(Os)}function Es(Os){return asciiAlpha(Os)?(ts.consume(Os),xs):rs(Os)}function xs(Os){return Os===45||asciiAlphanumeric(Os)?(ts.consume(Os),xs):ws(Os)}function ws(Os){return markdownLineEnding(Os)?(as=ws,Vs(Os)):markdownSpace(Os)?(ts.consume(Os),ws):Fs(Os)}function ks(Os){return Os===45||asciiAlphanumeric(Os)?(ts.consume(Os),ks):Os===47||Os===62||markdownLineEndingOrSpace(Os)?Is(Os):rs(Os)}function Is(Os){return Os===47?(ts.consume(Os),Fs):Os===58||Os===95||asciiAlpha(Os)?(ts.consume(Os),Ts):markdownLineEnding(Os)?(as=Is,Vs(Os)):markdownSpace(Os)?(ts.consume(Os),Is):Fs(Os)}function Ts(Os){return Os===45||Os===46||Os===58||Os===95||asciiAlphanumeric(Os)?(ts.consume(Os),Ts):Rs(Os)}function Rs(Os){return Os===61?(ts.consume(Os),As):markdownLineEnding(Os)?(as=Rs,Vs(Os)):markdownSpace(Os)?(ts.consume(Os),Rs):Is(Os)}function As(Os){return Os===null||Os===60||Os===61||Os===62||Os===96?rs(Os):Os===34||Os===39?(ts.consume(Os),os=Os,Ms):markdownLineEnding(Os)?(as=As,Vs(Os)):markdownSpace(Os)?(ts.consume(Os),As):(ts.consume(Os),Ls)}function Ms(Os){return Os===os?(ts.consume(Os),os=void 0,Ds):Os===null?rs(Os):markdownLineEnding(Os)?(as=Ms,Vs(Os)):(ts.consume(Os),Ms)}function Ls(Os){return Os===null||Os===34||Os===39||Os===60||Os===61||Os===96?rs(Os):Os===47||Os===62||markdownLineEndingOrSpace(Os)?Is(Os):(ts.consume(Os),Ls)}function Ds(Os){return Os===47||Os===62||markdownLineEndingOrSpace(Os)?Is(Os):rs(Os)}function Fs(Os){return Os===62?(ts.consume(Os),ts.exit("htmlTextData"),ts.exit("htmlText"),ns):rs(Os)}function Vs(Os){return ts.exit("htmlTextData"),ts.enter("lineEnding"),ts.consume(Os),ts.exit("lineEnding"),Bs}function Bs(Os){return markdownSpace(Os)?factorySpace(ts,Ws,"linePrefix",is.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(Os):Ws(Os)}function Ws(Os){return ts.enter("htmlTextData"),as(Os)}}const labelEnd={name:"labelEnd",tokenize:tokenizeLabelEnd,resolveTo:resolveToLabelEnd,resolveAll:resolveAllLabelEnd},resourceConstruct={tokenize:tokenizeResource},referenceFullConstruct={tokenize:tokenizeReferenceFull},referenceCollapsedConstruct={tokenize:tokenizeReferenceCollapsed};function resolveAllLabelEnd(ts){let ns=-1;for(;++ns<ts.length;){const rs=ts[ns][1];(rs.type==="labelImage"||rs.type==="labelLink"||rs.type==="labelEnd")&&(ts.splice(ns+1,rs.type==="labelImage"?4:2),rs.type="data",ns++)}return ts}function resolveToLabelEnd(ts,ns){let rs=ts.length,is=0,os,ss,as,ls;for(;rs--;)if(os=ts[rs][1],ss){if(os.type==="link"||os.type==="labelLink"&&os._inactive)break;ts[rs][0]==="enter"&&os.type==="labelLink"&&(os._inactive=!0)}else if(as){if(ts[rs][0]==="enter"&&(os.type==="labelImage"||os.type==="labelLink")&&!os._balanced&&(ss=rs,os.type!=="labelLink")){is=2;break}}else os.type==="labelEnd"&&(as=rs);const cs={type:ts[ss][1].type==="labelLink"?"link":"image",start:Object.assign({},ts[ss][1].start),end:Object.assign({},ts[ts.length-1][1].end)},us={type:"label",start:Object.assign({},ts[ss][1].start),end:Object.assign({},ts[as][1].end)},ds={type:"labelText",start:Object.assign({},ts[ss+is+2][1].end),end:Object.assign({},ts[as-2][1].start)};return ls=[["enter",cs,ns],["enter",us,ns]],ls=push(ls,ts.slice(ss+1,ss+is+3)),ls=push(ls,[["enter",ds,ns]]),ls=push(ls,resolveAll(ns.parser.constructs.insideSpan.null,ts.slice(ss+is+4,as-3),ns)),ls=push(ls,[["exit",ds,ns],ts[as-2],ts[as-1],["exit",us,ns]]),ls=push(ls,ts.slice(as+1)),ls=push(ls,[["exit",cs,ns]]),splice(ts,ss,ts.length,ls),ts}function tokenizeLabelEnd(ts,ns,rs){const is=this;let os=is.events.length,ss,as;for(;os--;)if((is.events[os][1].type==="labelImage"||is.events[os][1].type==="labelLink")&&!is.events[os][1]._balanced){ss=is.events[os][1];break}return ls;function ls(hs){return ss?ss._inactive?ps(hs):(as=is.parser.defined.includes(normalizeIdentifier(is.sliceSerialize({start:ss.end,end:is.now()}))),ts.enter("labelEnd"),ts.enter("labelMarker"),ts.consume(hs),ts.exit("labelMarker"),ts.exit("labelEnd"),cs):rs(hs)}function cs(hs){return hs===40?ts.attempt(resourceConstruct,ds,as?ds:ps)(hs):hs===91?ts.attempt(referenceFullConstruct,ds,as?us:ps)(hs):as?ds(hs):ps(hs)}function us(hs){return ts.attempt(referenceCollapsedConstruct,ds,ps)(hs)}function ds(hs){return ns(hs)}function ps(hs){return ss._balanced=!0,rs(hs)}}function tokenizeResource(ts,ns,rs){return is;function is(ps){return ts.enter("resource"),ts.enter("resourceMarker"),ts.consume(ps),ts.exit("resourceMarker"),os}function os(ps){return markdownLineEndingOrSpace(ps)?factoryWhitespace(ts,ss)(ps):ss(ps)}function ss(ps){return ps===41?ds(ps):factoryDestination(ts,as,ls,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(ps)}function as(ps){return markdownLineEndingOrSpace(ps)?factoryWhitespace(ts,cs)(ps):ds(ps)}function ls(ps){return rs(ps)}function cs(ps){return ps===34||ps===39||ps===40?factoryTitle(ts,us,rs,"resourceTitle","resourceTitleMarker","resourceTitleString")(ps):ds(ps)}function us(ps){return markdownLineEndingOrSpace(ps)?factoryWhitespace(ts,ds)(ps):ds(ps)}function ds(ps){return ps===41?(ts.enter("resourceMarker"),ts.consume(ps),ts.exit("resourceMarker"),ts.exit("resource"),ns):rs(ps)}}function tokenizeReferenceFull(ts,ns,rs){const is=this;return os;function os(ls){return factoryLabel.call(is,ts,ss,as,"reference","referenceMarker","referenceString")(ls)}function ss(ls){return is.parser.defined.includes(normalizeIdentifier(is.sliceSerialize(is.events[is.events.length-1][1]).slice(1,-1)))?ns(ls):rs(ls)}function as(ls){return rs(ls)}}function tokenizeReferenceCollapsed(ts,ns,rs){return is;function is(ss){return ts.enter("reference"),ts.enter("referenceMarker"),ts.consume(ss),ts.exit("referenceMarker"),os}function os(ss){return ss===93?(ts.enter("referenceMarker"),ts.consume(ss),ts.exit("referenceMarker"),ts.exit("reference"),ns):rs(ss)}}const labelStartImage={name:"labelStartImage",tokenize:tokenizeLabelStartImage,resolveAll:labelEnd.resolveAll};function tokenizeLabelStartImage(ts,ns,rs){const is=this;return os;function os(ls){return ts.enter("labelImage"),ts.enter("labelImageMarker"),ts.consume(ls),ts.exit("labelImageMarker"),ss}function ss(ls){return ls===91?(ts.enter("labelMarker"),ts.consume(ls),ts.exit("labelMarker"),ts.exit("labelImage"),as):rs(ls)}function as(ls){return ls===94&&"_hiddenFootnoteSupport"in is.parser.constructs?rs(ls):ns(ls)}}const labelStartLink={name:"labelStartLink",tokenize:tokenizeLabelStartLink,resolveAll:labelEnd.resolveAll};function tokenizeLabelStartLink(ts,ns,rs){const is=this;return os;function os(as){return ts.enter("labelLink"),ts.enter("labelMarker"),ts.consume(as),ts.exit("labelMarker"),ts.exit("labelLink"),ss}function ss(as){return as===94&&"_hiddenFootnoteSupport"in is.parser.constructs?rs(as):ns(as)}}const lineEnding={name:"lineEnding",tokenize:tokenizeLineEnding};function tokenizeLineEnding(ts,ns){return rs;function rs(is){return ts.enter("lineEnding"),ts.consume(is),ts.exit("lineEnding"),factorySpace(ts,ns,"linePrefix")}}const thematicBreak$1={name:"thematicBreak",tokenize:tokenizeThematicBreak};function tokenizeThematicBreak(ts,ns,rs){let is=0,os;return ss;function ss(us){return ts.enter("thematicBreak"),as(us)}function as(us){return os=us,ls(us)}function ls(us){return us===os?(ts.enter("thematicBreakSequence"),cs(us)):is>=3&&(us===null||markdownLineEnding(us))?(ts.exit("thematicBreak"),ns(us)):rs(us)}function cs(us){return us===os?(ts.consume(us),is++,cs):(ts.exit("thematicBreakSequence"),markdownSpace(us)?factorySpace(ts,ls,"whitespace")(us):ls(us))}}const list$1={name:"list",tokenize:tokenizeListStart,continuation:{tokenize:tokenizeListContinuation},exit:tokenizeListEnd},listItemPrefixWhitespaceConstruct={tokenize:tokenizeListItemPrefixWhitespace,partial:!0},indentConstruct={tokenize:tokenizeIndent,partial:!0};function tokenizeListStart(ts,ns,rs){const is=this,os=is.events[is.events.length-1];let ss=os&&os[1].type==="linePrefix"?os[2].sliceSerialize(os[1],!0).length:0,as=0;return ls;function ls(ms){const gs=is.containerState.type||(ms===42||ms===43||ms===45?"listUnordered":"listOrdered");if(gs==="listUnordered"?!is.containerState.marker||ms===is.containerState.marker:asciiDigit(ms)){if(is.containerState.type||(is.containerState.type=gs,ts.enter(gs,{_container:!0})),gs==="listUnordered")return ts.enter("listItemPrefix"),ms===42||ms===45?ts.check(thematicBreak$1,rs,us)(ms):us(ms);if(!is.interrupt||ms===49)return ts.enter("listItemPrefix"),ts.enter("listItemValue"),cs(ms)}return rs(ms)}function cs(ms){return asciiDigit(ms)&&++as<10?(ts.consume(ms),cs):(!is.interrupt||as<2)&&(is.containerState.marker?ms===is.containerState.marker:ms===41||ms===46)?(ts.exit("listItemValue"),us(ms)):rs(ms)}function us(ms){return ts.enter("listItemMarker"),ts.consume(ms),ts.exit("listItemMarker"),is.containerState.marker=is.containerState.marker||ms,ts.check(blankLine,is.interrupt?rs:ds,ts.attempt(listItemPrefixWhitespaceConstruct,hs,ps))}function ds(ms){return is.containerState.initialBlankLine=!0,ss++,hs(ms)}function ps(ms){return markdownSpace(ms)?(ts.enter("listItemPrefixWhitespace"),ts.consume(ms),ts.exit("listItemPrefixWhitespace"),hs):rs(ms)}function hs(ms){return is.containerState.size=ss+is.sliceSerialize(ts.exit("listItemPrefix"),!0).length,ns(ms)}}function tokenizeListContinuation(ts,ns,rs){const is=this;return is.containerState._closeFlow=void 0,ts.check(blankLine,os,ss);function os(ls){return is.containerState.furtherBlankLines=is.containerState.furtherBlankLines||is.containerState.initialBlankLine,factorySpace(ts,ns,"listItemIndent",is.containerState.size+1)(ls)}function ss(ls){return is.containerState.furtherBlankLines||!markdownSpace(ls)?(is.containerState.furtherBlankLines=void 0,is.containerState.initialBlankLine=void 0,as(ls)):(is.containerState.furtherBlankLines=void 0,is.containerState.initialBlankLine=void 0,ts.attempt(indentConstruct,ns,as)(ls))}function as(ls){return is.containerState._closeFlow=!0,is.interrupt=void 0,factorySpace(ts,ts.attempt(list$1,ns,rs),"linePrefix",is.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ls)}}function tokenizeIndent(ts,ns,rs){const is=this;return factorySpace(ts,os,"listItemIndent",is.containerState.size+1);function os(ss){const as=is.events[is.events.length-1];return as&&as[1].type==="listItemIndent"&&as[2].sliceSerialize(as[1],!0).length===is.containerState.size?ns(ss):rs(ss)}}function tokenizeListEnd(ts){ts.exit(this.containerState.type)}function tokenizeListItemPrefixWhitespace(ts,ns,rs){const is=this;return factorySpace(ts,os,"listItemPrefixWhitespace",is.parser.constructs.disable.null.includes("codeIndented")?void 0:4+1);function os(ss){const as=is.events[is.events.length-1];return!markdownSpace(ss)&&as&&as[1].type==="listItemPrefixWhitespace"?ns(ss):rs(ss)}}const setextUnderline={name:"setextUnderline",tokenize:tokenizeSetextUnderline,resolveTo:resolveToSetextUnderline};function resolveToSetextUnderline(ts,ns){let rs=ts.length,is,os,ss;for(;rs--;)if(ts[rs][0]==="enter"){if(ts[rs][1].type==="content"){is=rs;break}ts[rs][1].type==="paragraph"&&(os=rs)}else ts[rs][1].type==="content"&&ts.splice(rs,1),!ss&&ts[rs][1].type==="definition"&&(ss=rs);const as={type:"setextHeading",start:Object.assign({},ts[os][1].start),end:Object.assign({},ts[ts.length-1][1].end)};return ts[os][1].type="setextHeadingText",ss?(ts.splice(os,0,["enter",as,ns]),ts.splice(ss+1,0,["exit",ts[is][1],ns]),ts[is][1].end=Object.assign({},ts[ss][1].end)):ts[is][1]=as,ts.push(["exit",as,ns]),ts}function tokenizeSetextUnderline(ts,ns,rs){const is=this;let os;return ss;function ss(us){let ds=is.events.length,ps;for(;ds--;)if(is.events[ds][1].type!=="lineEnding"&&is.events[ds][1].type!=="linePrefix"&&is.events[ds][1].type!=="content"){ps=is.events[ds][1].type==="paragraph";break}return!is.parser.lazy[is.now().line]&&(is.interrupt||ps)?(ts.enter("setextHeadingLine"),os=us,as(us)):rs(us)}function as(us){return ts.enter("setextHeadingLineSequence"),ls(us)}function ls(us){return us===os?(ts.consume(us),ls):(ts.exit("setextHeadingLineSequence"),markdownSpace(us)?factorySpace(ts,cs,"lineSuffix")(us):cs(us))}function cs(us){return us===null||markdownLineEnding(us)?(ts.exit("setextHeadingLine"),ns(us)):rs(us)}}const flow$1={tokenize:initializeFlow};function initializeFlow(ts){const ns=this,rs=ts.attempt(blankLine,is,ts.attempt(this.parser.constructs.flowInitial,os,factorySpace(ts,ts.attempt(this.parser.constructs.flow,os,ts.attempt(content,os)),"linePrefix")));return rs;function is(ss){if(ss===null){ts.consume(ss);return}return ts.enter("lineEndingBlank"),ts.consume(ss),ts.exit("lineEndingBlank"),ns.currentConstruct=void 0,rs}function os(ss){if(ss===null){ts.consume(ss);return}return ts.enter("lineEnding"),ts.consume(ss),ts.exit("lineEnding"),ns.currentConstruct=void 0,rs}}const resolver={resolveAll:createResolver()},string$1=initializeFactory("string"),text$2=initializeFactory("text");function initializeFactory(ts){return{tokenize:ns,resolveAll:createResolver(ts==="text"?resolveAllLineSuffixes:void 0)};function ns(rs){const is=this,os=this.parser.constructs[ts],ss=rs.attempt(os,as,ls);return as;function as(ds){return us(ds)?ss(ds):ls(ds)}function ls(ds){if(ds===null){rs.consume(ds);return}return rs.enter("data"),rs.consume(ds),cs}function cs(ds){return us(ds)?(rs.exit("data"),ss(ds)):(rs.consume(ds),cs)}function us(ds){if(ds===null)return!0;const ps=os[ds];let hs=-1;if(ps)for(;++hs<ps.length;){const ms=ps[hs];if(!ms.previous||ms.previous.call(is,is.previous))return!0}return!1}}}function createResolver(ts){return ns;function ns(rs,is){let os=-1,ss;for(;++os<=rs.length;)ss===void 0?rs[os]&&rs[os][1].type==="data"&&(ss=os,os++):(!rs[os]||rs[os][1].type!=="data")&&(os!==ss+2&&(rs[ss][1].end=rs[os-1][1].end,rs.splice(ss+2,os-ss-2),os=ss+2),ss=void 0);return ts?ts(rs,is):rs}}function resolveAllLineSuffixes(ts,ns){let rs=0;for(;++rs<=ts.length;)if((rs===ts.length||ts[rs][1].type==="lineEnding")&&ts[rs-1][1].type==="data"){const is=ts[rs-1][1],os=ns.sliceStream(is);let ss=os.length,as=-1,ls=0,cs;for(;ss--;){const us=os[ss];if(typeof us=="string"){for(as=us.length;us.charCodeAt(as-1)===32;)ls++,as--;if(as)break;as=-1}else if(us===-2)cs=!0,ls++;else if(us!==-1){ss++;break}}if(ls){const us={type:rs===ts.length||cs||ls<2?"lineSuffix":"hardBreakTrailing",start:{line:is.end.line,column:is.end.column-ls,offset:is.end.offset-ls,_index:is.start._index+ss,_bufferIndex:ss?as:is.start._bufferIndex+as},end:Object.assign({},is.end)};is.end=Object.assign({},us.start),is.start.offset===is.end.offset?Object.assign(is,us):(ts.splice(rs,0,["enter",us,ns],["exit",us,ns]),rs+=2)}rs++}return ts}function createTokenizer(ts,ns,rs){let is=Object.assign(rs?Object.assign({},rs):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const os={},ss=[];let as=[],ls=[];const cs={consume:Ss,enter:$s,exit:Cs,attempt:ws(Es),check:ws(xs),interrupt:ws(xs,{interrupt:!0})},us={previous:null,code:null,containerState:{},events:[],parser:ts,sliceStream:ms,sliceSerialize:hs,now:gs,defineSkip:ys,write:ps};let ds=ns.tokenize.call(us,cs);return ns.resolveAll&&ss.push(ns),us;function ps(Rs){return as=push(as,Rs),vs(),as[as.length-1]!==null?[]:(ks(ns,0),us.events=resolveAll(ss,us.events,us),us.events)}function hs(Rs,As){return serializeChunks(ms(Rs),As)}function ms(Rs){return sliceChunks(as,Rs)}function gs(){const{line:Rs,column:As,offset:Ms,_index:Ls,_bufferIndex:Ds}=is;return{line:Rs,column:As,offset:Ms,_index:Ls,_bufferIndex:Ds}}function ys(Rs){os[Rs.line]=Rs.column,Ts()}function vs(){let Rs;for(;is._index<as.length;){const As=as[is._index];if(typeof As=="string")for(Rs=is._index,is._bufferIndex<0&&(is._bufferIndex=0);is._index===Rs&&is._bufferIndex<As.length;)bs(As.charCodeAt(is._bufferIndex));else bs(As)}}function bs(Rs){ds=ds(Rs)}function Ss(Rs){markdownLineEnding(Rs)?(is.line++,is.column=1,is.offset+=Rs===-3?2:1,Ts()):Rs!==-1&&(is.column++,is.offset++),is._bufferIndex<0?is._index++:(is._bufferIndex++,is._bufferIndex===as[is._index].length&&(is._bufferIndex=-1,is._index++)),us.previous=Rs}function $s(Rs,As){const Ms=As||{};return Ms.type=Rs,Ms.start=gs(),us.events.push(["enter",Ms,us]),ls.push(Ms),Ms}function Cs(Rs){const As=ls.pop();return As.end=gs(),us.events.push(["exit",As,us]),As}function Es(Rs,As){ks(Rs,As.from)}function xs(Rs,As){As.restore()}function ws(Rs,As){return Ms;function Ms(Ls,Ds,Fs){let Vs,Bs,Ws,Os;return Array.isArray(Ls)?$a(Ls):"tokenize"in Ls?$a([Ls]):Nl(Ls);function Nl(Us){return Ol;function Ol(qs){const Fl=qs!==null&&Us[qs],Ll=qs!==null&&Us.null,$l=[...Array.isArray(Fl)?Fl:Fl?[Fl]:[],...Array.isArray(Ll)?Ll:Ll?[Ll]:[]];return $a($l)(qs)}}function $a(Us){return Vs=Us,Bs=0,Us.length===0?Fs:Ps(Us[Bs])}function Ps(Us){return Ol;function Ol(qs){return Os=Is(),Ws=Us,Us.partial||(us.currentConstruct=Us),Us.name&&us.parser.constructs.disable.null.includes(Us.name)?Zs():Us.tokenize.call(As?Object.assign(Object.create(us),As):us,cs,Ys,Zs)(qs)}}function Ys(Us){return Rs(Ws,Os),Ds}function Zs(Us){return Os.restore(),++Bs<Vs.length?Ps(Vs[Bs]):Fs}}}function ks(Rs,As){Rs.resolveAll&&!ss.includes(Rs)&&ss.push(Rs),Rs.resolve&&splice(us.events,As,us.events.length-As,Rs.resolve(us.events.slice(As),us)),Rs.resolveTo&&(us.events=Rs.resolveTo(us.events,us))}function Is(){const Rs=gs(),As=us.previous,Ms=us.currentConstruct,Ls=us.events.length,Ds=Array.from(ls);return{restore:Fs,from:Ls};function Fs(){is=Rs,us.previous=As,us.currentConstruct=Ms,us.events.length=Ls,ls=Ds,Ts()}}function Ts(){is.line in os&&is.column<2&&(is.column=os[is.line],is.offset+=os[is.line]-1)}}function sliceChunks(ts,ns){const rs=ns.start._index,is=ns.start._bufferIndex,os=ns.end._index,ss=ns.end._bufferIndex;let as;if(rs===os)as=[ts[rs].slice(is,ss)];else{if(as=ts.slice(rs,os),is>-1){const ls=as[0];typeof ls=="string"?as[0]=ls.slice(is):as.shift()}ss>0&&as.push(ts[os].slice(0,ss))}return as}function serializeChunks(ts,ns){let rs=-1;const is=[];let os;for(;++rs<ts.length;){const ss=ts[rs];let as;if(typeof ss=="string")as=ss;else switch(ss){case-5:{as="\r";break}case-4:{as="\n";break}case-3:{as="\r\n";break}case-2:{as=ns?" ":"	";break}case-1:{if(!ns&&os)continue;as=" ";break}default:as=String.fromCharCode(ss)}os=ss===-2,is.push(as)}return is.join("")}const document$2={42:list$1,43:list$1,45:list$1,48:list$1,49:list$1,50:list$1,51:list$1,52:list$1,53:list$1,54:list$1,55:list$1,56:list$1,57:list$1,62:blockQuote},contentInitial={91:definition},flowInitial={[-2]:codeIndented,[-1]:codeIndented,32:codeIndented},flow={35:headingAtx,42:thematicBreak$1,45:[setextUnderline,thematicBreak$1],60:htmlFlow,61:setextUnderline,95:thematicBreak$1,96:codeFenced,126:codeFenced},string={38:characterReference,92:characterEscape},text$1={[-5]:lineEnding,[-4]:lineEnding,[-3]:lineEnding,33:labelStartImage,38:characterReference,42:attention,60:[autolink,htmlText],91:labelStartLink,92:[hardBreakEscape,characterEscape],93:labelEnd,95:attention,96:codeText},insideSpan={null:[attention,resolver]},attentionMarkers={null:[42,95]},disable={null:[]},defaultConstructs=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers,contentInitial,disable,document:document$2,flow,flowInitial,insideSpan,string,text:text$1},Symbol.toStringTag,{value:"Module"}));function parse(ts){const rs=combineExtensions([defaultConstructs,...(ts||{}).extensions||[]]),is={defined:[],lazy:{},constructs:rs,content:os(content$1),document:os(document$3),flow:os(flow$1),string:os(string$1),text:os(text$2)};return is;function os(ss){return as;function as(ls){return createTokenizer(is,ss,ls)}}}function postprocess(ts){for(;!subtokenize(ts););return ts}const search=/[\0\t\n\r]/g;function preprocess(){let ts=1,ns="",rs=!0,is;return os;function os(ss,as,ls){const cs=[];let us,ds,ps,hs,ms;for(ss=ns+(typeof ss=="string"?ss.toString():new TextDecoder(as||void 0).decode(ss)),ps=0,ns="",rs&&(ss.charCodeAt(0)===65279&&ps++,rs=void 0);ps<ss.length;){if(search.lastIndex=ps,us=search.exec(ss),hs=us&&us.index!==void 0?us.index:ss.length,ms=ss.charCodeAt(hs),!us){ns=ss.slice(ps);break}if(ms===10&&ps===hs&&is)cs.push(-3),is=void 0;else switch(is&&(cs.push(-5),is=void 0),ps<hs&&(cs.push(ss.slice(ps,hs)),ts+=hs-ps),ms){case 0:{cs.push(65533),ts++;break}case 9:{for(ds=Math.ceil(ts/4)*4,cs.push(-2);ts++<ds;)cs.push(-1);break}case 10:{cs.push(-4),ts=1;break}default:is=!0,ts=1}ps=hs+1}return ls&&(is&&cs.push(-5),ns&&cs.push(ns),cs.push(null)),cs}}const characterEscapeOrReference=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function decodeString(ts){return ts.replace(characterEscapeOrReference,decode)}function decode(ts,ns,rs){if(ns)return ns;if(rs.charCodeAt(0)===35){const os=rs.charCodeAt(1),ss=os===120||os===88;return decodeNumericCharacterReference(rs.slice(ss?2:1),ss?16:10)}return decodeNamedCharacterReference(rs)||ts}const own$2={}.hasOwnProperty;function fromMarkdown(ts,ns,rs){return typeof ns!="string"&&(rs=ns,ns=void 0),compiler(rs)(postprocess(parse(rs).document().write(preprocess()(ts,ns,!0))))}function compiler(ts){const ns={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:ss(Hs),autolinkProtocol:Is,autolinkEmail:Is,atxHeading:ss(xl),blockQuote:ss(Ll),characterEscape:Is,characterReference:Is,codeFenced:ss($l),codeFencedFenceInfo:as,codeFencedFenceMeta:as,codeIndented:ss($l,as),codeText:ss(Cl,as),codeTextData:Is,data:Is,codeFlowValue:Is,definition:ss(wl),definitionDestinationString:as,definitionLabelString:as,definitionTitleString:as,emphasis:ss(Tl),hardBreakEscape:ss(Al),hardBreakTrailing:ss(Al),htmlFlow:ss(Dl,as),htmlFlowData:Is,htmlText:ss(Dl,as),htmlTextData:Is,image:ss(Ns),label:as,link:ss(Hs),listItem:ss(Js),listItemValue:hs,listOrdered:ss(Gs,ps),listUnordered:ss(Gs),paragraph:ss(El),reference:Ps,referenceString:as,resourceDestinationString:as,resourceTitleString:as,setextHeading:ss(xl),strong:ss(Xs),thematicBreak:ss(Bl)},exit:{atxHeading:cs(),atxHeadingSequence:Es,autolink:cs(),autolinkEmail:Fl,autolinkProtocol:qs,blockQuote:cs(),characterEscapeValue:Ts,characterReferenceMarkerHexadecimal:Zs,characterReferenceMarkerNumeric:Zs,characterReferenceValue:Us,characterReference:Ol,codeFenced:cs(vs),codeFencedFence:ys,codeFencedFenceInfo:ms,codeFencedFenceMeta:gs,codeFlowValue:Ts,codeIndented:cs(bs),codeText:cs(Ds),codeTextData:Ts,data:Ts,definition:cs(),definitionDestinationString:Cs,definitionLabelString:Ss,definitionTitleString:$s,emphasis:cs(),hardBreakEscape:cs(As),hardBreakTrailing:cs(As),htmlFlow:cs(Ms),htmlFlowData:Ts,htmlText:cs(Ls),htmlTextData:Ts,image:cs(Vs),label:Ws,labelText:Bs,lineEnding:Rs,link:cs(Fs),listItem:cs(),listOrdered:cs(),listUnordered:cs(),paragraph:cs(),referenceString:Ys,resourceDestinationString:Os,resourceTitleString:Nl,resource:$a,setextHeading:cs(ks),setextHeadingLineSequence:ws,setextHeadingText:xs,strong:cs(),thematicBreak:cs()}};configure(ns,(ts||{}).mdastExtensions||[]);const rs={};return is;function is(Ks){let Sl={type:"root",children:[]};const Il={stack:[Sl],tokenStack:[],config:ns,enter:ls,exit:us,buffer:as,resume:ds,data:rs},Ml=[];let Kl=-1;for(;++Kl<Ks.length;)if(Ks[Kl][1].type==="listOrdered"||Ks[Kl][1].type==="listUnordered")if(Ks[Kl][0]==="enter")Ml.push(Kl);else{const Ql=Ml.pop();Kl=os(Ks,Ql,Kl)}for(Kl=-1;++Kl<Ks.length;){const Ql=ns[Ks[Kl][0]];own$2.call(Ql,Ks[Kl][1].type)&&Ql[Ks[Kl][1].type].call(Object.assign({sliceSerialize:Ks[Kl][2].sliceSerialize},Il),Ks[Kl][1])}if(Il.tokenStack.length>0){const Ql=Il.tokenStack[Il.tokenStack.length-1];(Ql[1]||defaultOnError).call(Il,void 0,Ql[0])}for(Sl.position={start:point(Ks.length>0?Ks[0][1].start:{line:1,column:1,offset:0}),end:point(Ks.length>0?Ks[Ks.length-2][1].end:{line:1,column:1,offset:0})},Kl=-1;++Kl<ns.transforms.length;)Sl=ns.transforms[Kl](Sl)||Sl;return Sl}function os(Ks,Sl,Il){let Ml=Sl-1,Kl=-1,Ql=!1,Yl,Gl,iu,Vl;for(;++Ml<=Il;){const Hl=Ks[Ml];switch(Hl[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Hl[0]==="enter"?Kl++:Kl--,Vl=void 0;break}case"lineEndingBlank":{Hl[0]==="enter"&&(Yl&&!Vl&&!Kl&&!iu&&(iu=Ml),Vl=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Vl=void 0}if(!Kl&&Hl[0]==="enter"&&Hl[1].type==="listItemPrefix"||Kl===-1&&Hl[0]==="exit"&&(Hl[1].type==="listUnordered"||Hl[1].type==="listOrdered")){if(Yl){let zs=Ml;for(Gl=void 0;zs--;){const yl=Ks[zs];if(yl[1].type==="lineEnding"||yl[1].type==="lineEndingBlank"){if(yl[0]==="exit")continue;Gl&&(Ks[Gl][1].type="lineEndingBlank",Ql=!0),yl[1].type="lineEnding",Gl=zs}else if(!(yl[1].type==="linePrefix"||yl[1].type==="blockQuotePrefix"||yl[1].type==="blockQuotePrefixWhitespace"||yl[1].type==="blockQuoteMarker"||yl[1].type==="listItemIndent"))break}iu&&(!Gl||iu<Gl)&&(Yl._spread=!0),Yl.end=Object.assign({},Gl?Ks[Gl][1].start:Hl[1].end),Ks.splice(Gl||Ml,0,["exit",Yl,Hl[2]]),Ml++,Il++}if(Hl[1].type==="listItemPrefix"){const zs={type:"listItem",_spread:!1,start:Object.assign({},Hl[1].start),end:void 0};Yl=zs,Ks.splice(Ml,0,["enter",zs,Hl[2]]),Ml++,Il++,iu=void 0,Vl=!0}}}return Ks[Sl][1]._spread=Ql,Il}function ss(Ks,Sl){return Il;function Il(Ml){ls.call(this,Ks(Ml),Ml),Sl&&Sl.call(this,Ml)}}function as(){this.stack.push({type:"fragment",children:[]})}function ls(Ks,Sl,Il){this.stack[this.stack.length-1].children.push(Ks),this.stack.push(Ks),this.tokenStack.push([Sl,Il]),Ks.position={start:point(Sl.start),end:void 0}}function cs(Ks){return Sl;function Sl(Il){Ks&&Ks.call(this,Il),us.call(this,Il)}}function us(Ks,Sl){const Il=this.stack.pop(),Ml=this.tokenStack.pop();if(Ml)Ml[0].type!==Ks.type&&(Sl?Sl.call(this,Ks,Ml[0]):(Ml[1]||defaultOnError).call(this,Ks,Ml[0]));else throw new Error("Cannot close `"+Ks.type+"` ("+stringifyPosition({start:Ks.start,end:Ks.end})+"): itâs not open");Il.position.end=point(Ks.end)}function ds(){return toString$4(this.stack.pop())}function ps(){this.data.expectingFirstListItemValue=!0}function hs(Ks){if(this.data.expectingFirstListItemValue){const Sl=this.stack[this.stack.length-2];Sl.start=Number.parseInt(this.sliceSerialize(Ks),10),this.data.expectingFirstListItemValue=void 0}}function ms(){const Ks=this.resume(),Sl=this.stack[this.stack.length-1];Sl.lang=Ks}function gs(){const Ks=this.resume(),Sl=this.stack[this.stack.length-1];Sl.meta=Ks}function ys(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function vs(){const Ks=this.resume(),Sl=this.stack[this.stack.length-1];Sl.value=Ks.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function bs(){const Ks=this.resume(),Sl=this.stack[this.stack.length-1];Sl.value=Ks.replace(/(\r?\n|\r)$/g,"")}function Ss(Ks){const Sl=this.resume(),Il=this.stack[this.stack.length-1];Il.label=Sl,Il.identifier=normalizeIdentifier(this.sliceSerialize(Ks)).toLowerCase()}function $s(){const Ks=this.resume(),Sl=this.stack[this.stack.length-1];Sl.title=Ks}function Cs(){const Ks=this.resume(),Sl=this.stack[this.stack.length-1];Sl.url=Ks}function Es(Ks){const Sl=this.stack[this.stack.length-1];if(!Sl.depth){const Il=this.sliceSerialize(Ks).length;Sl.depth=Il}}function xs(){this.data.setextHeadingSlurpLineEnding=!0}function ws(Ks){const Sl=this.stack[this.stack.length-1];Sl.depth=this.sliceSerialize(Ks).codePointAt(0)===61?1:2}function ks(){this.data.setextHeadingSlurpLineEnding=void 0}function Is(Ks){const Il=this.stack[this.stack.length-1].children;let Ml=Il[Il.length-1];(!Ml||Ml.type!=="text")&&(Ml=_l(),Ml.position={start:point(Ks.start),end:void 0},Il.push(Ml)),this.stack.push(Ml)}function Ts(Ks){const Sl=this.stack.pop();Sl.value+=this.sliceSerialize(Ks),Sl.position.end=point(Ks.end)}function Rs(Ks){const Sl=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Il=Sl.children[Sl.children.length-1];Il.position.end=point(Ks.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&ns.canContainEols.includes(Sl.type)&&(Is.call(this,Ks),Ts.call(this,Ks))}function As(){this.data.atHardBreak=!0}function Ms(){const Ks=this.resume(),Sl=this.stack[this.stack.length-1];Sl.value=Ks}function Ls(){const Ks=this.resume(),Sl=this.stack[this.stack.length-1];Sl.value=Ks}function Ds(){const Ks=this.resume(),Sl=this.stack[this.stack.length-1];Sl.value=Ks}function Fs(){const Ks=this.stack[this.stack.length-1];if(this.data.inReference){const Sl=this.data.referenceType||"shortcut";Ks.type+="Reference",Ks.referenceType=Sl,delete Ks.url,delete Ks.title}else delete Ks.identifier,delete Ks.label;this.data.referenceType=void 0}function Vs(){const Ks=this.stack[this.stack.length-1];if(this.data.inReference){const Sl=this.data.referenceType||"shortcut";Ks.type+="Reference",Ks.referenceType=Sl,delete Ks.url,delete Ks.title}else delete Ks.identifier,delete Ks.label;this.data.referenceType=void 0}function Bs(Ks){const Sl=this.sliceSerialize(Ks),Il=this.stack[this.stack.length-2];Il.label=decodeString(Sl),Il.identifier=normalizeIdentifier(Sl).toLowerCase()}function Ws(){const Ks=this.stack[this.stack.length-1],Sl=this.resume(),Il=this.stack[this.stack.length-1];if(this.data.inReference=!0,Il.type==="link"){const Ml=Ks.children;Il.children=Ml}else Il.alt=Sl}function Os(){const Ks=this.resume(),Sl=this.stack[this.stack.length-1];Sl.url=Ks}function Nl(){const Ks=this.resume(),Sl=this.stack[this.stack.length-1];Sl.title=Ks}function $a(){this.data.inReference=void 0}function Ps(){this.data.referenceType="collapsed"}function Ys(Ks){const Sl=this.resume(),Il=this.stack[this.stack.length-1];Il.label=Sl,Il.identifier=normalizeIdentifier(this.sliceSerialize(Ks)).toLowerCase(),this.data.referenceType="full"}function Zs(Ks){this.data.characterReferenceType=Ks.type}function Us(Ks){const Sl=this.sliceSerialize(Ks),Il=this.data.characterReferenceType;let Ml;Il?(Ml=decodeNumericCharacterReference(Sl,Il==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Ml=decodeNamedCharacterReference(Sl);const Kl=this.stack[this.stack.length-1];Kl.value+=Ml}function Ol(Ks){const Sl=this.stack.pop();Sl.position.end=point(Ks.end)}function qs(Ks){Ts.call(this,Ks);const Sl=this.stack[this.stack.length-1];Sl.url=this.sliceSerialize(Ks)}function Fl(Ks){Ts.call(this,Ks);const Sl=this.stack[this.stack.length-1];Sl.url="mailto:"+this.sliceSerialize(Ks)}function Ll(){return{type:"blockquote",children:[]}}function $l(){return{type:"code",lang:null,meta:null,value:""}}function Cl(){return{type:"inlineCode",value:""}}function wl(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Tl(){return{type:"emphasis",children:[]}}function xl(){return{type:"heading",depth:0,children:[]}}function Al(){return{type:"break"}}function Dl(){return{type:"html",value:""}}function Ns(){return{type:"image",title:null,url:"",alt:null}}function Hs(){return{type:"link",title:null,url:"",children:[]}}function Gs(Ks){return{type:"list",ordered:Ks.type==="listOrdered",start:null,spread:Ks._spread,children:[]}}function Js(Ks){return{type:"listItem",spread:Ks._spread,checked:null,children:[]}}function El(){return{type:"paragraph",children:[]}}function Xs(){return{type:"strong",children:[]}}function _l(){return{type:"text",value:""}}function Bl(){return{type:"thematicBreak"}}}function point(ts){return{line:ts.line,column:ts.column,offset:ts.offset}}function configure(ts,ns){let rs=-1;for(;++rs<ns.length;){const is=ns[rs];Array.isArray(is)?configure(ts,is):extension(ts,is)}}function extension(ts,ns){let rs;for(rs in ns)if(own$2.call(ns,rs))switch(rs){case"canContainEols":{const is=ns[rs];is&&ts[rs].push(...is);break}case"transforms":{const is=ns[rs];is&&ts[rs].push(...is);break}case"enter":case"exit":{const is=ns[rs];is&&Object.assign(ts[rs],is);break}}}function defaultOnError(ts,ns){throw ts?new Error("Cannot close `"+ts.type+"` ("+stringifyPosition({start:ts.start,end:ts.end})+"): a different token (`"+ns.type+"`, "+stringifyPosition({start:ns.start,end:ns.end})+") is open"):new Error("Cannot close document, a token (`"+ns.type+"`, "+stringifyPosition({start:ns.start,end:ns.end})+") is still open")}function remarkParse(ts){const ns=this;ns.parser=rs;function rs(is){return fromMarkdown(is,{...ns.data("settings"),...ts,extensions:ns.data("micromarkExtensions")||[],mdastExtensions:ns.data("fromMarkdownExtensions")||[]})}}function blockquote(ts,ns){const rs={type:"element",tagName:"blockquote",properties:{},children:ts.wrap(ts.all(ns),!0)};return ts.patch(ns,rs),ts.applyData(ns,rs)}function hardBreak(ts,ns){const rs={type:"element",tagName:"br",properties:{},children:[]};return ts.patch(ns,rs),[ts.applyData(ns,rs),{type:"text",value:"\n"}]}function code(ts,ns){const rs=ns.value?ns.value+"\n":"",is={};ns.lang&&(is.className=["language-"+ns.lang]);let os={type:"element",tagName:"code",properties:is,children:[{type:"text",value:rs}]};return ns.meta&&(os.data={meta:ns.meta}),ts.patch(ns,os),os=ts.applyData(ns,os),os={type:"element",tagName:"pre",properties:{},children:[os]},ts.patch(ns,os),os}function strikethrough(ts,ns){const rs={type:"element",tagName:"del",properties:{},children:ts.all(ns)};return ts.patch(ns,rs),ts.applyData(ns,rs)}function emphasis(ts,ns){const rs={type:"element",tagName:"em",properties:{},children:ts.all(ns)};return ts.patch(ns,rs),ts.applyData(ns,rs)}function footnoteReference(ts,ns){const rs=typeof ts.options.clobberPrefix=="string"?ts.options.clobberPrefix:"user-content-",is=String(ns.identifier).toUpperCase(),os=normalizeUri(is.toLowerCase()),ss=ts.footnoteOrder.indexOf(is);let as,ls=ts.footnoteCounts.get(is);ls===void 0?(ls=0,ts.footnoteOrder.push(is),as=ts.footnoteOrder.length):as=ss+1,ls+=1,ts.footnoteCounts.set(is,ls);const cs={type:"element",tagName:"a",properties:{href:"#"+rs+"fn-"+os,id:rs+"fnref-"+os+(ls>1?"-"+ls:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(as)}]};ts.patch(ns,cs);const us={type:"element",tagName:"sup",properties:{},children:[cs]};return ts.patch(ns,us),ts.applyData(ns,us)}function heading(ts,ns){const rs={type:"element",tagName:"h"+ns.depth,properties:{},children:ts.all(ns)};return ts.patch(ns,rs),ts.applyData(ns,rs)}function html(ts,ns){if(ts.options.allowDangerousHtml){const rs={type:"raw",value:ns.value};return ts.patch(ns,rs),ts.applyData(ns,rs)}}function revert(ts,ns){const rs=ns.referenceType;let is="]";if(rs==="collapsed"?is+="[]":rs==="full"&&(is+="["+(ns.label||ns.identifier)+"]"),ns.type==="imageReference")return[{type:"text",value:"!["+ns.alt+is}];const os=ts.all(ns),ss=os[0];ss&&ss.type==="text"?ss.value="["+ss.value:os.unshift({type:"text",value:"["});const as=os[os.length-1];return as&&as.type==="text"?as.value+=is:os.push({type:"text",value:is}),os}function imageReference(ts,ns){const rs=String(ns.identifier).toUpperCase(),is=ts.definitionById.get(rs);if(!is)return revert(ts,ns);const os={src:normalizeUri(is.url||""),alt:ns.alt};is.title!==null&&is.title!==void 0&&(os.title=is.title);const ss={type:"element",tagName:"img",properties:os,children:[]};return ts.patch(ns,ss),ts.applyData(ns,ss)}function image(ts,ns){const rs={src:normalizeUri(ns.url)};ns.alt!==null&&ns.alt!==void 0&&(rs.alt=ns.alt),ns.title!==null&&ns.title!==void 0&&(rs.title=ns.title);const is={type:"element",tagName:"img",properties:rs,children:[]};return ts.patch(ns,is),ts.applyData(ns,is)}function inlineCode(ts,ns){const rs={type:"text",value:ns.value.replace(/\r?\n|\r/g," ")};ts.patch(ns,rs);const is={type:"element",tagName:"code",properties:{},children:[rs]};return ts.patch(ns,is),ts.applyData(ns,is)}function linkReference(ts,ns){const rs=String(ns.identifier).toUpperCase(),is=ts.definitionById.get(rs);if(!is)return revert(ts,ns);const os={href:normalizeUri(is.url||"")};is.title!==null&&is.title!==void 0&&(os.title=is.title);const ss={type:"element",tagName:"a",properties:os,children:ts.all(ns)};return ts.patch(ns,ss),ts.applyData(ns,ss)}function link(ts,ns){const rs={href:normalizeUri(ns.url)};ns.title!==null&&ns.title!==void 0&&(rs.title=ns.title);const is={type:"element",tagName:"a",properties:rs,children:ts.all(ns)};return ts.patch(ns,is),ts.applyData(ns,is)}function listItem(ts,ns,rs){const is=ts.all(ns),os=rs?listLoose(rs):listItemLoose(ns),ss={},as=[];if(typeof ns.checked=="boolean"){const ds=is[0];let ps;ds&&ds.type==="element"&&ds.tagName==="p"?ps=ds:(ps={type:"element",tagName:"p",properties:{},children:[]},is.unshift(ps)),ps.children.length>0&&ps.children.unshift({type:"text",value:" "}),ps.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:ns.checked,disabled:!0},children:[]}),ss.className=["task-list-item"]}let ls=-1;for(;++ls<is.length;){const ds=is[ls];(os||ls!==0||ds.type!=="element"||ds.tagName!=="p")&&as.push({type:"text",value:"\n"}),ds.type==="element"&&ds.tagName==="p"&&!os?as.push(...ds.children):as.push(ds)}const cs=is[is.length-1];cs&&(os||cs.type!=="element"||cs.tagName!=="p")&&as.push({type:"text",value:"\n"});const us={type:"element",tagName:"li",properties:ss,children:as};return ts.patch(ns,us),ts.applyData(ns,us)}function listLoose(ts){let ns=!1;if(ts.type==="list"){ns=ts.spread||!1;const rs=ts.children;let is=-1;for(;!ns&&++is<rs.length;)ns=listItemLoose(rs[is])}return ns}function listItemLoose(ts){const ns=ts.spread;return ns==null?ts.children.length>1:ns}function list(ts,ns){const rs={},is=ts.all(ns);let os=-1;for(typeof ns.start=="number"&&ns.start!==1&&(rs.start=ns.start);++os<is.length;){const as=is[os];if(as.type==="element"&&as.tagName==="li"&&as.properties&&Array.isArray(as.properties.className)&&as.properties.className.includes("task-list-item")){rs.className=["contains-task-list"];break}}const ss={type:"element",tagName:ns.ordered?"ol":"ul",properties:rs,children:ts.wrap(is,!0)};return ts.patch(ns,ss),ts.applyData(ns,ss)}function paragraph(ts,ns){const rs={type:"element",tagName:"p",properties:{},children:ts.all(ns)};return ts.patch(ns,rs),ts.applyData(ns,rs)}function root(ts,ns){const rs={type:"root",children:ts.wrap(ts.all(ns))};return ts.patch(ns,rs),ts.applyData(ns,rs)}function strong(ts,ns){const rs={type:"element",tagName:"strong",properties:{},children:ts.all(ns)};return ts.patch(ns,rs),ts.applyData(ns,rs)}function table(ts,ns){const rs=ts.all(ns),is=rs.shift(),os=[];if(is){const as={type:"element",tagName:"thead",properties:{},children:ts.wrap([is],!0)};ts.patch(ns.children[0],as),os.push(as)}if(rs.length>0){const as={type:"element",tagName:"tbody",properties:{},children:ts.wrap(rs,!0)},ls=pointStart(ns.children[1]),cs=pointEnd(ns.children[ns.children.length-1]);ls&&cs&&(as.position={start:ls,end:cs}),os.push(as)}const ss={type:"element",tagName:"table",properties:{},children:ts.wrap(os,!0)};return ts.patch(ns,ss),ts.applyData(ns,ss)}function tableRow(ts,ns,rs){const is=rs?rs.children:void 0,ss=(is?is.indexOf(ns):1)===0?"th":"td",as=rs&&rs.type==="table"?rs.align:void 0,ls=as?as.length:ns.children.length;let cs=-1;const us=[];for(;++cs<ls;){const ps=ns.children[cs],hs={},ms=as?as[cs]:void 0;ms&&(hs.align=ms);let gs={type:"element",tagName:ss,properties:hs,children:[]};ps&&(gs.children=ts.all(ps),ts.patch(ps,gs),gs=ts.applyData(ps,gs)),us.push(gs)}const ds={type:"element",tagName:"tr",properties:{},children:ts.wrap(us,!0)};return ts.patch(ns,ds),ts.applyData(ns,ds)}function tableCell(ts,ns){const rs={type:"element",tagName:"td",properties:{},children:ts.all(ns)};return ts.patch(ns,rs),ts.applyData(ns,rs)}const tab=9,space$1=32;function trimLines(ts){const ns=String(ts),rs=/\r?\n|\r/g;let is=rs.exec(ns),os=0;const ss=[];for(;is;)ss.push(trimLine(ns.slice(os,is.index),os>0,!0),is[0]),os=is.index+is[0].length,is=rs.exec(ns);return ss.push(trimLine(ns.slice(os),os>0,!1)),ss.join("")}function trimLine(ts,ns,rs){let is=0,os=ts.length;if(ns){let ss=ts.codePointAt(is);for(;ss===tab||ss===space$1;)is++,ss=ts.codePointAt(is)}if(rs){let ss=ts.codePointAt(os-1);for(;ss===tab||ss===space$1;)os--,ss=ts.codePointAt(os-1)}return os>is?ts.slice(is,os):""}function text(ts,ns){const rs={type:"text",value:trimLines(String(ns.value))};return ts.patch(ns,rs),ts.applyData(ns,rs)}function thematicBreak(ts,ns){const rs={type:"element",tagName:"hr",properties:{},children:[]};return ts.patch(ns,rs),ts.applyData(ns,rs)}const handlers$3={blockquote,break:hardBreak,code,delete:strikethrough,emphasis,footnoteReference,heading,html,imageReference,image,inlineCode,linkReference,link,listItem,list,paragraph,root,strong,table,tableCell,tableRow,text,thematicBreak,toml:ignore,yaml:ignore,definition:ignore,footnoteDefinition:ignore};function ignore(){}const VOID=-1,PRIMITIVE=0,ARRAY=1,OBJECT=2,DATE=3,REGEXP=4,MAP=5,SET=6,ERROR=7,BIGINT=8,env=typeof self=="object"?self:globalThis,deserializer=(ts,ns)=>{const rs=(os,ss)=>(ts.set(ss,os),os),is=os=>{if(ts.has(os))return ts.get(os);const[ss,as]=ns[os];switch(ss){case PRIMITIVE:case VOID:return rs(as,os);case ARRAY:{const ls=rs([],os);for(const cs of as)ls.push(is(cs));return ls}case OBJECT:{const ls=rs({},os);for(const[cs,us]of as)ls[is(cs)]=is(us);return ls}case DATE:return rs(new Date(as),os);case REGEXP:{const{source:ls,flags:cs}=as;return rs(new RegExp(ls,cs),os)}case MAP:{const ls=rs(new Map,os);for(const[cs,us]of as)ls.set(is(cs),is(us));return ls}case SET:{const ls=rs(new Set,os);for(const cs of as)ls.add(is(cs));return ls}case ERROR:{const{name:ls,message:cs}=as;return rs(new env[ls](cs),os)}case BIGINT:return rs(BigInt(as),os);case"BigInt":return rs(Object(BigInt(as)),os)}return rs(new env[ss](as),os)};return is},deserialize=ts=>deserializer(new Map,ts)(0),EMPTY="",{toString:toString$3}={},{keys}=Object,typeOf=ts=>{const ns=typeof ts;if(ns!=="object"||!ts)return[PRIMITIVE,ns];const rs=toString$3.call(ts).slice(8,-1);switch(rs){case"Array":return[ARRAY,EMPTY];case"Object":return[OBJECT,EMPTY];case"Date":return[DATE,EMPTY];case"RegExp":return[REGEXP,EMPTY];case"Map":return[MAP,EMPTY];case"Set":return[SET,EMPTY]}return rs.includes("Array")?[ARRAY,rs]:rs.includes("Error")?[ERROR,rs]:[OBJECT,rs]},shouldSkip=([ts,ns])=>ts===PRIMITIVE&&(ns==="function"||ns==="symbol"),serializer=(ts,ns,rs,is)=>{const os=(as,ls)=>{const cs=is.push(as)-1;return rs.set(ls,cs),cs},ss=as=>{if(rs.has(as))return rs.get(as);let[ls,cs]=typeOf(as);switch(ls){case PRIMITIVE:{let ds=as;switch(cs){case"bigint":ls=BIGINT,ds=as.toString();break;case"function":case"symbol":if(ts)throw new TypeError("unable to serialize "+cs);ds=null;break;case"undefined":return os([VOID],as)}return os([ls,ds],as)}case ARRAY:{if(cs)return os([cs,[...as]],as);const ds=[],ps=os([ls,ds],as);for(const hs of as)ds.push(ss(hs));return ps}case OBJECT:{if(cs)switch(cs){case"BigInt":return os([cs,as.toString()],as);case"Boolean":case"Number":case"String":return os([cs,as.valueOf()],as)}if(ns&&"toJSON"in as)return ss(as.toJSON());const ds=[],ps=os([ls,ds],as);for(const hs of keys(as))(ts||!shouldSkip(typeOf(as[hs])))&&ds.push([ss(hs),ss(as[hs])]);return ps}case DATE:return os([ls,as.toISOString()],as);case REGEXP:{const{source:ds,flags:ps}=as;return os([ls,{source:ds,flags:ps}],as)}case MAP:{const ds=[],ps=os([ls,ds],as);for(const[hs,ms]of as)(ts||!(shouldSkip(typeOf(hs))||shouldSkip(typeOf(ms))))&&ds.push([ss(hs),ss(ms)]);return ps}case SET:{const ds=[],ps=os([ls,ds],as);for(const hs of as)(ts||!shouldSkip(typeOf(hs)))&&ds.push(ss(hs));return ps}}const{message:us}=as;return os([ls,{name:cs,message:us}],as)};return ss},serialize=(ts,{json:ns,lossy:rs}={})=>{const is=[];return serializer(!(ns||rs),!!ns,new Map,is)(ts),is},structuredClone$1=typeof structuredClone=="function"?(ts,ns)=>ns&&("json"in ns||"lossy"in ns)?deserialize(serialize(ts,ns)):structuredClone(ts):(ts,ns)=>deserialize(serialize(ts,ns));function defaultFootnoteBackContent(ts,ns){const rs=[{type:"text",value:"â©"}];return ns>1&&rs.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(ns)}]}),rs}function defaultFootnoteBackLabel(ts,ns){return"Back to reference "+(ts+1)+(ns>1?"-"+ns:"")}function footer(ts){const ns=typeof ts.options.clobberPrefix=="string"?ts.options.clobberPrefix:"user-content-",rs=ts.options.footnoteBackContent||defaultFootnoteBackContent,is=ts.options.footnoteBackLabel||defaultFootnoteBackLabel,os=ts.options.footnoteLabel||"Footnotes",ss=ts.options.footnoteLabelTagName||"h2",as=ts.options.footnoteLabelProperties||{className:["sr-only"]},ls=[];let cs=-1;for(;++cs<ts.footnoteOrder.length;){const us=ts.footnoteById.get(ts.footnoteOrder[cs]);if(!us)continue;const ds=ts.all(us),ps=String(us.identifier).toUpperCase(),hs=normalizeUri(ps.toLowerCase());let ms=0;const gs=[],ys=ts.footnoteCounts.get(ps);for(;ys!==void 0&&++ms<=ys;){gs.length>0&&gs.push({type:"text",value:" "});let Ss=typeof rs=="string"?rs:rs(cs,ms);typeof Ss=="string"&&(Ss={type:"text",value:Ss}),gs.push({type:"element",tagName:"a",properties:{href:"#"+ns+"fnref-"+hs+(ms>1?"-"+ms:""),dataFootnoteBackref:"",ariaLabel:typeof is=="string"?is:is(cs,ms),className:["data-footnote-backref"]},children:Array.isArray(Ss)?Ss:[Ss]})}const vs=ds[ds.length-1];if(vs&&vs.type==="element"&&vs.tagName==="p"){const Ss=vs.children[vs.children.length-1];Ss&&Ss.type==="text"?Ss.value+=" ":vs.children.push({type:"text",value:" "}),vs.children.push(...gs)}else ds.push(...gs);const bs={type:"element",tagName:"li",properties:{id:ns+"fn-"+hs},children:ts.wrap(ds,!0)};ts.patch(us,bs),ls.push(bs)}if(ls.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:ss,properties:{...structuredClone$1(as),id:"footnote-label"},children:[{type:"text",value:os}]},{type:"text",value:"\n"},{type:"element",tagName:"ol",properties:{},children:ts.wrap(ls,!0)},{type:"text",value:"\n"}]}}const convert=function(ts){if(ts==null)return ok;if(typeof ts=="function")return castFactory(ts);if(typeof ts=="object")return Array.isArray(ts)?anyFactory(ts):propsFactory(ts);if(typeof ts=="string")return typeFactory(ts);throw new Error("Expected function, string, or object as test")};function anyFactory(ts){const ns=[];let rs=-1;for(;++rs<ts.length;)ns[rs]=convert(ts[rs]);return castFactory(is);function is(...os){let ss=-1;for(;++ss<ns.length;)if(ns[ss].apply(this,os))return!0;return!1}}function propsFactory(ts){const ns=ts;return castFactory(rs);function rs(is){const os=is;let ss;for(ss in ts)if(os[ss]!==ns[ss])return!1;return!0}}function typeFactory(ts){return castFactory(ns);function ns(rs){return rs&&rs.type===ts}}function castFactory(ts){return ns;function ns(rs,is,os){return!!(looksLikeANode(rs)&&ts.call(this,rs,typeof is=="number"?is:void 0,os||void 0))}}function ok(){return!0}function looksLikeANode(ts){return ts!==null&&typeof ts=="object"&&"type"in ts}function color$1(ts){return ts}const empty=[],CONTINUE=!0,EXIT=!1,SKIP="skip";function visitParents(ts,ns,rs,is){let os;typeof ns=="function"&&typeof rs!="function"?(is=rs,rs=ns):os=ns;const ss=convert(os),as=is?-1:1;ls(ts,void 0,[])();function ls(cs,us,ds){const ps=cs&&typeof cs=="object"?cs:{};if(typeof ps.type=="string"){const ms=typeof ps.tagName=="string"?ps.tagName:typeof ps.name=="string"?ps.name:void 0;Object.defineProperty(hs,"name",{value:"node ("+(cs.type+(ms?"<"+ms+">":""))+")"})}return hs;function hs(){let ms=empty,gs,ys,vs;if((!ns||ss(cs,us,ds[ds.length-1]||void 0))&&(ms=toResult(rs(cs,ds)),ms[0]===EXIT))return ms;if("children"in cs&&cs.children){const bs=cs;if(bs.children&&ms[0]!==SKIP)for(ys=(is?bs.children.length:-1)+as,vs=ds.concat(bs);ys>-1&&ys<bs.children.length;){const Ss=bs.children[ys];if(gs=ls(Ss,ys,vs)(),gs[0]===EXIT)return gs;ys=typeof gs[1]=="number"?gs[1]:ys+as}}return ms}}}function toResult(ts){return Array.isArray(ts)?ts:typeof ts=="number"?[CONTINUE,ts]:ts==null?empty:[ts]}function visit$1(ts,ns,rs,is){let os,ss,as;typeof ns=="function"&&typeof rs!="function"?(ss=void 0,as=ns,os=rs):(ss=ns,as=rs,os=is),visitParents(ts,ss,ls,os);function ls(cs,us){const ds=us[us.length-1],ps=ds?ds.children.indexOf(cs):void 0;return as(cs,ps,ds)}}const own$1={}.hasOwnProperty,emptyOptions={};function createState(ts,ns){const rs=ns||emptyOptions,is=new Map,os=new Map,ss=new Map,as={...handlers$3,...rs.handlers},ls={all:us,applyData,definitionById:is,footnoteById:os,footnoteCounts:ss,footnoteOrder:[],handlers:as,one:cs,options:rs,patch:patch$2,wrap:wrap$2};return visit$1(ts,function(ds){if(ds.type==="definition"||ds.type==="footnoteDefinition"){const ps=ds.type==="definition"?is:os,hs=String(ds.identifier).toUpperCase();ps.has(hs)||ps.set(hs,ds)}}),ls;function cs(ds,ps){const hs=ds.type,ms=ls.handlers[hs];if(own$1.call(ls.handlers,hs)&&ms)return ms(ls,ds,ps);if(ls.options.passThrough&&ls.options.passThrough.includes(hs)){if("children"in ds){const{children:ys,...vs}=ds,bs=structuredClone$1(vs);return bs.children=ls.all(ds),bs}return structuredClone$1(ds)}return(ls.options.unknownHandler||defaultUnknownHandler)(ls,ds,ps)}function us(ds){const ps=[];if("children"in ds){const hs=ds.children;let ms=-1;for(;++ms<hs.length;){const gs=ls.one(hs[ms],ds);if(gs){if(ms&&hs[ms-1].type==="break"&&(!Array.isArray(gs)&&gs.type==="text"&&(gs.value=trimMarkdownSpaceStart(gs.value)),!Array.isArray(gs)&&gs.type==="element")){const ys=gs.children[0];ys&&ys.type==="text"&&(ys.value=trimMarkdownSpaceStart(ys.value))}Array.isArray(gs)?ps.push(...gs):ps.push(gs)}}}return ps}}function patch$2(ts,ns){ts.position&&(ns.position=position$2(ts))}function applyData(ts,ns){let rs=ns;if(ts&&ts.data){const is=ts.data.hName,os=ts.data.hChildren,ss=ts.data.hProperties;if(typeof is=="string")if(rs.type==="element")rs.tagName=is;else{const as="children"in rs?rs.children:[rs];rs={type:"element",tagName:is,properties:{},children:as}}rs.type==="element"&&ss&&Object.assign(rs.properties,structuredClone$1(ss)),"children"in rs&&rs.children&&os!==null&&os!==void 0&&(rs.children=os)}return rs}function defaultUnknownHandler(ts,ns){const rs=ns.data||{},is="value"in ns&&!(own$1.call(rs,"hProperties")||own$1.call(rs,"hChildren"))?{type:"text",value:ns.value}:{type:"element",tagName:"div",properties:{},children:ts.all(ns)};return ts.patch(ns,is),ts.applyData(ns,is)}function wrap$2(ts,ns){const rs=[];let is=-1;for(ns&&rs.push({type:"text",value:"\n"});++is<ts.length;)is&&rs.push({type:"text",value:"\n"}),rs.push(ts[is]);return ns&&ts.length>0&&rs.push({type:"text",value:"\n"}),rs}function trimMarkdownSpaceStart(ts){let ns=0,rs=ts.charCodeAt(ns);for(;rs===9||rs===32;)ns++,rs=ts.charCodeAt(ns);return ts.slice(ns)}function toHast(ts,ns){const rs=createState(ts,ns),is=rs.one(ts,void 0),os=footer(rs),ss=Array.isArray(is)?{type:"root",children:is}:is||{type:"root",children:[]};return os&&ss.children.push({type:"text",value:"\n"},os),ss}function remarkRehype(ts,ns){return ts&&"run"in ts?async function(rs,is){const os=toHast(rs,{file:is,...ns});await ts.run(os,is)}:function(rs,is){return toHast(rs,{file:is,...ns||ts})}}function bail(ts){if(ts)throw ts}var hasOwn=Object.prototype.hasOwnProperty,toStr=Object.prototype.toString,defineProperty=Object.defineProperty,gOPD=Object.getOwnPropertyDescriptor,isArray=function(ns){return typeof Array.isArray=="function"?Array.isArray(ns):toStr.call(ns)==="[object Array]"},isPlainObject$2=function(ns){if(!ns||toStr.call(ns)!=="[object Object]")return!1;var rs=hasOwn.call(ns,"constructor"),is=ns.constructor&&ns.constructor.prototype&&hasOwn.call(ns.constructor.prototype,"isPrototypeOf");if(ns.constructor&&!rs&&!is)return!1;var os;for(os in ns);return typeof os>"u"||hasOwn.call(ns,os)},setProperty=function(ns,rs){defineProperty&&rs.name==="__proto__"?defineProperty(ns,rs.name,{enumerable:!0,configurable:!0,value:rs.newValue,writable:!0}):ns[rs.name]=rs.newValue},getProperty=function(ns,rs){if(rs==="__proto__")if(hasOwn.call(ns,rs)){if(gOPD)return gOPD(ns,rs).value}else return;return ns[rs]},extend=function ts(){var ns,rs,is,os,ss,as,ls=arguments[0],cs=1,us=arguments.length,ds=!1;for(typeof ls=="boolean"&&(ds=ls,ls=arguments[1]||{},cs=2),(ls==null||typeof ls!="object"&&typeof ls!="function")&&(ls={});cs<us;++cs)if(ns=arguments[cs],ns!=null)for(rs in ns)is=getProperty(ls,rs),os=getProperty(ns,rs),ls!==os&&(ds&&os&&(isPlainObject$2(os)||(ss=isArray(os)))?(ss?(ss=!1,as=is&&isArray(is)?is:[]):as=is&&isPlainObject$2(is)?is:{},setProperty(ls,{name:rs,newValue:ts(ds,as,os)})):typeof os<"u"&&setProperty(ls,{name:rs,newValue:os}));return ls};const extend$1=getDefaultExportFromCjs(extend);function isPlainObject$1(ts){if(typeof ts!="object"||ts===null)return!1;const ns=Object.getPrototypeOf(ts);return(ns===null||ns===Object.prototype||Object.getPrototypeOf(ns)===null)&&!(Symbol.toStringTag in ts)&&!(Symbol.iterator in ts)}function trough(){const ts=[],ns={run:rs,use:is};return ns;function rs(...os){let ss=-1;const as=os.pop();if(typeof as!="function")throw new TypeError("Expected function as last argument, not "+as);ls(null,...os);function ls(cs,...us){const ds=ts[++ss];let ps=-1;if(cs){as(cs);return}for(;++ps<os.length;)(us[ps]===null||us[ps]===void 0)&&(us[ps]=os[ps]);os=us,ds?wrap$1(ds,ls)(...us):as(null,...us)}}function is(os){if(typeof os!="function")throw new TypeError("Expected `middelware` to be a function, not "+os);return ts.push(os),ns}}function wrap$1(ts,ns){let rs;return is;function is(...as){const ls=ts.length>as.length;let cs;ls&&as.push(os);try{cs=ts.apply(this,as)}catch(us){const ds=us;if(ls&&rs)throw ds;return os(ds)}ls||(cs&&cs.then&&typeof cs.then=="function"?cs.then(ss,os):cs instanceof Error?os(cs):ss(cs))}function os(as,...ls){rs||(rs=!0,ns(as,...ls))}function ss(as){os(null,as)}}const minpath={basename,dirname,extname,join,sep:"/"};function basename(ts,ns){if(ns!==void 0&&typeof ns!="string")throw new TypeError('"ext" argument must be a string');assertPath$1(ts);let rs=0,is=-1,os=ts.length,ss;if(ns===void 0||ns.length===0||ns.length>ts.length){for(;os--;)if(ts.codePointAt(os)===47){if(ss){rs=os+1;break}}else is<0&&(ss=!0,is=os+1);return is<0?"":ts.slice(rs,is)}if(ns===ts)return"";let as=-1,ls=ns.length-1;for(;os--;)if(ts.codePointAt(os)===47){if(ss){rs=os+1;break}}else as<0&&(ss=!0,as=os+1),ls>-1&&(ts.codePointAt(os)===ns.codePointAt(ls--)?ls<0&&(is=os):(ls=-1,is=as));return rs===is?is=as:is<0&&(is=ts.length),ts.slice(rs,is)}function dirname(ts){if(assertPath$1(ts),ts.length===0)return".";let ns=-1,rs=ts.length,is;for(;--rs;)if(ts.codePointAt(rs)===47){if(is){ns=rs;break}}else is||(is=!0);return ns<0?ts.codePointAt(0)===47?"/":".":ns===1&&ts.codePointAt(0)===47?"//":ts.slice(0,ns)}function extname(ts){assertPath$1(ts);let ns=ts.length,rs=-1,is=0,os=-1,ss=0,as;for(;ns--;){const ls=ts.codePointAt(ns);if(ls===47){if(as){is=ns+1;break}continue}rs<0&&(as=!0,rs=ns+1),ls===46?os<0?os=ns:ss!==1&&(ss=1):os>-1&&(ss=-1)}return os<0||rs<0||ss===0||ss===1&&os===rs-1&&os===is+1?"":ts.slice(os,rs)}function join(...ts){let ns=-1,rs;for(;++ns<ts.length;)assertPath$1(ts[ns]),ts[ns]&&(rs=rs===void 0?ts[ns]:rs+"/"+ts[ns]);return rs===void 0?".":normalize$1(rs)}function normalize$1(ts){assertPath$1(ts);const ns=ts.codePointAt(0)===47;let rs=normalizeString(ts,!ns);return rs.length===0&&!ns&&(rs="."),rs.length>0&&ts.codePointAt(ts.length-1)===47&&(rs+="/"),ns?"/"+rs:rs}function normalizeString(ts,ns){let rs="",is=0,os=-1,ss=0,as=-1,ls,cs;for(;++as<=ts.length;){if(as<ts.length)ls=ts.codePointAt(as);else{if(ls===47)break;ls=47}if(ls===47){if(!(os===as-1||ss===1))if(os!==as-1&&ss===2){if(rs.length<2||is!==2||rs.codePointAt(rs.length-1)!==46||rs.codePointAt(rs.length-2)!==46){if(rs.length>2){if(cs=rs.lastIndexOf("/"),cs!==rs.length-1){cs<0?(rs="",is=0):(rs=rs.slice(0,cs),is=rs.length-1-rs.lastIndexOf("/")),os=as,ss=0;continue}}else if(rs.length>0){rs="",is=0,os=as,ss=0;continue}}ns&&(rs=rs.length>0?rs+"/..":"..",is=2)}else rs.length>0?rs+="/"+ts.slice(os+1,as):rs=ts.slice(os+1,as),is=as-os-1;os=as,ss=0}else ls===46&&ss>-1?ss++:ss=-1}return rs}function assertPath$1(ts){if(typeof ts!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(ts))}const minproc={cwd};function cwd(){return"/"}function isUrl(ts){return!!(ts!==null&&typeof ts=="object"&&"href"in ts&&ts.href&&"protocol"in ts&&ts.protocol&&ts.auth===void 0)}function urlToPath(ts){if(typeof ts=="string")ts=new URL(ts);else if(!isUrl(ts)){const ns=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+ts+"`");throw ns.code="ERR_INVALID_ARG_TYPE",ns}if(ts.protocol!=="file:"){const ns=new TypeError("The URL must be of scheme file");throw ns.code="ERR_INVALID_URL_SCHEME",ns}return getPathFromURLPosix(ts)}function getPathFromURLPosix(ts){if(ts.hostname!==""){const is=new TypeError('File URL host must be "localhost" or empty on darwin');throw is.code="ERR_INVALID_FILE_URL_HOST",is}const ns=ts.pathname;let rs=-1;for(;++rs<ns.length;)if(ns.codePointAt(rs)===37&&ns.codePointAt(rs+1)===50){const is=ns.codePointAt(rs+2);if(is===70||is===102){const os=new TypeError("File URL path must not include encoded / characters");throw os.code="ERR_INVALID_FILE_URL_PATH",os}}return decodeURIComponent(ns)}const order$1=["history","path","basename","stem","extname","dirname"];class VFile{constructor(ns){let rs;ns?isUrl(ns)?rs={path:ns}:typeof ns=="string"||isUint8Array$1(ns)?rs={value:ns}:rs=ns:rs={},this.cwd="cwd"in rs?"":minproc.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let is=-1;for(;++is<order$1.length;){const ss=order$1[is];ss in rs&&rs[ss]!==void 0&&rs[ss]!==null&&(this[ss]=ss==="history"?[...rs[ss]]:rs[ss])}let os;for(os in rs)order$1.includes(os)||(this[os]=rs[os])}get basename(){return typeof this.path=="string"?minpath.basename(this.path):void 0}set basename(ns){assertNonEmpty(ns,"basename"),assertPart(ns,"basename"),this.path=minpath.join(this.dirname||"",ns)}get dirname(){return typeof this.path=="string"?minpath.dirname(this.path):void 0}set dirname(ns){assertPath(this.basename,"dirname"),this.path=minpath.join(ns||"",this.basename)}get extname(){return typeof this.path=="string"?minpath.extname(this.path):void 0}set extname(ns){if(assertPart(ns,"extname"),assertPath(this.dirname,"extname"),ns){if(ns.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(ns.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=minpath.join(this.dirname,this.stem+(ns||""))}get path(){return this.history[this.history.length-1]}set path(ns){isUrl(ns)&&(ns=urlToPath(ns)),assertNonEmpty(ns,"path"),this.path!==ns&&this.history.push(ns)}get stem(){return typeof this.path=="string"?minpath.basename(this.path,this.extname):void 0}set stem(ns){assertNonEmpty(ns,"stem"),assertPart(ns,"stem"),this.path=minpath.join(this.dirname||"",ns+(this.extname||""))}fail(ns,rs,is){const os=this.message(ns,rs,is);throw os.fatal=!0,os}info(ns,rs,is){const os=this.message(ns,rs,is);return os.fatal=void 0,os}message(ns,rs,is){const os=new VFileMessage(ns,rs,is);return this.path&&(os.name=this.path+":"+os.name,os.file=this.path),os.fatal=!1,this.messages.push(os),os}toString(ns){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(ns||void 0).decode(this.value)}}function assertPart(ts,ns){if(ts&&ts.includes(minpath.sep))throw new Error("`"+ns+"` cannot be a path: did not expect `"+minpath.sep+"`")}function assertNonEmpty(ts,ns){if(!ts)throw new Error("`"+ns+"` cannot be empty")}function assertPath(ts,ns){if(!ts)throw new Error("Setting `"+ns+"` requires `path` to be set too")}function isUint8Array$1(ts){return!!(ts&&typeof ts=="object"&&"byteLength"in ts&&"byteOffset"in ts)}const CallableInstance=function(ts){const is=this.constructor.prototype,os=is[ts],ss=function(){return os.apply(ss,arguments)};return Object.setPrototypeOf(ss,is),ss},own={}.hasOwnProperty;class Processor extends CallableInstance{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=trough()}copy(){const ns=new Processor;let rs=-1;for(;++rs<this.attachers.length;){const is=this.attachers[rs];ns.use(...is)}return ns.data(extend$1(!0,{},this.namespace)),ns}data(ns,rs){return typeof ns=="string"?arguments.length===2?(assertUnfrozen("data",this.frozen),this.namespace[ns]=rs,this):own.call(this.namespace,ns)&&this.namespace[ns]||void 0:ns?(assertUnfrozen("data",this.frozen),this.namespace=ns,this):this.namespace}freeze(){if(this.frozen)return this;const ns=this;for(;++this.freezeIndex<this.attachers.length;){const[rs,...is]=this.attachers[this.freezeIndex];if(is[0]===!1)continue;is[0]===!0&&(is[0]=void 0);const os=rs.call(ns,...is);typeof os=="function"&&this.transformers.use(os)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(ns){this.freeze();const rs=vfile(ns),is=this.parser||this.Parser;return assertParser("parse",is),is(String(rs),rs)}process(ns,rs){const is=this;return this.freeze(),assertParser("process",this.parser||this.Parser),assertCompiler("process",this.compiler||this.Compiler),rs?os(void 0,rs):new Promise(os);function os(ss,as){const ls=vfile(ns),cs=is.parse(ls);is.run(cs,ls,function(ds,ps,hs){if(ds||!ps||!hs)return us(ds);const ms=ps,gs=is.stringify(ms,hs);looksLikeAValue(gs)?hs.value=gs:hs.result=gs,us(ds,hs)});function us(ds,ps){ds||!ps?as(ds):ss?ss(ps):rs(void 0,ps)}}}processSync(ns){let rs=!1,is;return this.freeze(),assertParser("processSync",this.parser||this.Parser),assertCompiler("processSync",this.compiler||this.Compiler),this.process(ns,os),assertDone("processSync","process",rs),is;function os(ss,as){rs=!0,bail(ss),is=as}}run(ns,rs,is){assertNode(ns),this.freeze();const os=this.transformers;return!is&&typeof rs=="function"&&(is=rs,rs=void 0),is?ss(void 0,is):new Promise(ss);function ss(as,ls){const cs=vfile(rs);os.run(ns,cs,us);function us(ds,ps,hs){const ms=ps||ns;ds?ls(ds):as?as(ms):is(void 0,ms,hs)}}}runSync(ns,rs){let is=!1,os;return this.run(ns,rs,ss),assertDone("runSync","run",is),os;function ss(as,ls){bail(as),os=ls,is=!0}}stringify(ns,rs){this.freeze();const is=vfile(rs),os=this.compiler||this.Compiler;return assertCompiler("stringify",os),assertNode(ns),os(ns,is)}use(ns,...rs){const is=this.attachers,os=this.namespace;if(assertUnfrozen("use",this.frozen),ns!=null)if(typeof ns=="function")cs(ns,rs);else if(typeof ns=="object")Array.isArray(ns)?ls(ns):as(ns);else throw new TypeError("Expected usable value, not `"+ns+"`");return this;function ss(us){if(typeof us=="function")cs(us,[]);else if(typeof us=="object")if(Array.isArray(us)){const[ds,...ps]=us;cs(ds,ps)}else as(us);else throw new TypeError("Expected usable value, not `"+us+"`")}function as(us){if(!("plugins"in us)&&!("settings"in us))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");ls(us.plugins),us.settings&&(os.settings=extend$1(!0,os.settings,us.settings))}function ls(us){let ds=-1;if(us!=null)if(Array.isArray(us))for(;++ds<us.length;){const ps=us[ds];ss(ps)}else throw new TypeError("Expected a list of plugins, not `"+us+"`")}function cs(us,ds){let ps=-1,hs=-1;for(;++ps<is.length;)if(is[ps][0]===us){hs=ps;break}if(hs===-1)is.push([us,...ds]);else if(ds.length>0){let[ms,...gs]=ds;const ys=is[hs][1];isPlainObject$1(ys)&&isPlainObject$1(ms)&&(ms=extend$1(!0,ys,ms)),is[hs]=[us,ms,...gs]}}}}const unified=new Processor().freeze();function assertParser(ts,ns){if(typeof ns!="function")throw new TypeError("Cannot `"+ts+"` without `parser`")}function assertCompiler(ts,ns){if(typeof ns!="function")throw new TypeError("Cannot `"+ts+"` without `compiler`")}function assertUnfrozen(ts,ns){if(ns)throw new Error("Cannot call `"+ts+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function assertNode(ts){if(!isPlainObject$1(ts)||typeof ts.type!="string")throw new TypeError("Expected node, got `"+ts+"`")}function assertDone(ts,ns,rs){if(!rs)throw new Error("`"+ts+"` finished async. Use `"+ns+"` instead")}function vfile(ts){return looksLikeAVFile(ts)?ts:new VFile(ts)}function looksLikeAVFile(ts){return!!(ts&&typeof ts=="object"&&"message"in ts&&"messages"in ts)}function looksLikeAValue(ts){return typeof ts=="string"||isUint8Array(ts)}function isUint8Array(ts){return!!(ts&&typeof ts=="object"&&"byteLength"in ts&&"byteOffset"in ts)}const changelog="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",emptyPlugins=[],emptyRemarkRehypeOptions={allowDangerousHtml:!0},safeProtocol=/^(https?|ircs?|mailto|xmpp)$/i,deprecations=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Markdown(ts){const ns=ts.allowedElements,rs=ts.allowElement,is=ts.children||"",os=ts.className,ss=ts.components,as=ts.disallowedElements,ls=ts.rehypePlugins||emptyPlugins,cs=ts.remarkPlugins||emptyPlugins,us=ts.remarkRehypeOptions?{...ts.remarkRehypeOptions,...emptyRemarkRehypeOptions}:emptyRemarkRehypeOptions,ds=ts.skipHtml,ps=ts.unwrapDisallowed,hs=ts.urlTransform||defaultUrlTransform,ms=unified().use(remarkParse).use(cs).use(remarkRehype,us).use(ls),gs=new VFile;typeof is=="string"&&(gs.value=is);for(const Ss of deprecations)Object.hasOwn(ts,Ss.from)&&(""+Ss.from+(Ss.to?"use `"+Ss.to+"` instead":"remove it")+changelog+Ss.id,void 0);const ys=ms.parse(gs);let vs=ms.runSync(ys,gs);return os&&(vs={type:"element",tagName:"div",properties:{className:os},children:vs.type==="root"?vs.children:[vs]}),visit$1(vs,bs),toJsxRuntime(vs,{Fragment:jsxRuntimeExports.Fragment,components:ss,ignoreInvalidStyle:!0,jsx:jsxRuntimeExports.jsx,jsxs:jsxRuntimeExports.jsxs,passKeys:!0,passNode:!0});function bs(Ss,$s,Cs){if(Ss.type==="raw"&&Cs&&typeof $s=="number")return ds?Cs.children.splice($s,1):Cs.children[$s]={type:"text",value:Ss.value},$s;if(Ss.type==="element"){let Es;for(Es in urlAttributes)if(Object.hasOwn(urlAttributes,Es)&&Object.hasOwn(Ss.properties,Es)){const xs=Ss.properties[Es],ws=urlAttributes[Es];(ws===null||ws.includes(Ss.tagName))&&(Ss.properties[Es]=hs(String(xs||""),Es,Ss))}}if(Ss.type==="element"){let Es=ns?!ns.includes(Ss.tagName):as?as.includes(Ss.tagName):!1;if(!Es&&rs&&typeof $s=="number"&&(Es=!rs(Ss,$s,Cs)),Es&&Cs&&typeof $s=="number")return ps&&Ss.children?Cs.children.splice($s,1,...Ss.children):Cs.children.splice($s,1),$s}}}function defaultUrlTransform(ts){const ns=ts.indexOf(":"),rs=ts.indexOf("?"),is=ts.indexOf("#"),os=ts.indexOf("/");return ns<0||os>-1&&ns>os||rs>-1&&ns>rs||is>-1&&ns>is||safeProtocol.test(ts.slice(0,ns))?ts:""}function checkRequire(ts,ns){if(ts.required&&!ts.requireWhen)return!0;if(ts.requireWhen){const rs=ns[ts.requireWhen.question];if(ts.requireWhen.operator==="=")return rs===ts.requireWhen.answer;if(rs&&ts.requireWhen.operator==="includes")return rs.includes(ts.requireWhen.answer)}return!1}function checkDisable(ts,ns){if(ts.disableWhen){const rs=ns[ts.disableWhen.question];if(ts.disableWhen.operator==="=")return rs===ts.disableWhen.answer}return!1}const getFormInputGroup=ts=>jsxRuntimeExports.jsx(DateInput,{name:ts.name,label:ts.label,helperText:ts.helperText,showHelperTextIcon:ts.showHelperTextIcon,fieldMap:ts.fieldMap,required:ts.required}),getFormInputField=(ts,ns,rs,is)=>jsxRuntimeExports.jsx(Grid$1,{item:!0,xs:12,md:ts.width,children:(()=>{var ss,as,ls;ts.required=checkRequire(ts,ns),ts.disabled=checkDisable(ts,ns);const os=(ss=ts.disableWhen)==null?void 0:ss.value;switch(ts.disabled&&os&&is?ts.readOnlyValue=is[os]:ts.readOnlyValue=void 0,ts.type){case"Text":return jsxRuntimeExports.jsx(FormInput,{name:ts.name,label:ts.label||"No label",format:ts.format,infoText:ts.infoText,helperText:ts.helperText,showHelperTextIcon:ts.showHelperTextIcon,defaultValue:ts.defaultValue||"",required:ts.required,placeholder:ts.placeholder,mask:ts.mask,multiline:ts.multiline,minRows:ts.minRows,disabled:ts.disabled});case"Checkbox":return jsxRuntimeExports.jsx(ControlledCheckBox,{name:ts.name,label:ts.label,defaultValue:ts.defaultValue===!0,required:ts.required});case"Date":return jsxRuntimeExports.jsx(CoalescedDateInput$1,{name:ts.name,required:ts.required,label:ts.label,currentValue:ns[ts.name],defaultValue:ts.defaultValue,readOnlyValue:ts.readOnlyValue,disabled:ts.disabled,setCurrentValue:cs=>{rs.setValue(ts.name,cs)}});case"Year":return jsxRuntimeExports.jsx(CoalescedDateInput,{name:ts.name,required:ts.required,label:ts.label,defaultValue:ts.defaultValue,setCurrentValue:cs=>{rs.setValue(ts.name,cs)}});case"Select":if(!ts.selectOptions)throw new Error("No selectOptions given in select");return jsxRuntimeExports.jsx(SelectInput,{name:ts.name,label:ts.label||"No label",helperText:ts.helperText,showHelperTextIcon:ts.showHelperTextIcon,placeholder:ts.placeholder,defaultValue:ts.defaultValue,required:ts.required,options:ts.selectOptions,infoTextSecondary:ts.infoTextSecondary,disabled:ts.disabled,onChange:cs=>{const us=cs.target;rs.setValue(ts.name,us.value),ts.onChange&&ts.onChange(cs)}});case"Free Select":if(!ts.freeSelectOptions)throw new Error("No freeSelectOptions given in free select");return jsxRuntimeExports.jsx(FreeMultiSelectInput,{name:ts.name,label:ts.label||"No label",placeholder:ts.placeholder,helperText:ts.helperText,showHelperTextIcon:ts.showHelperTextIcon,required:ts.required,defaultValue:ts.defaultValue,options:ts.freeSelectOptions.map(cs=>typeof cs=="object"?cs.value:cs)});case"Radio":if(!ts.radioOptions)throw new Error("No radioOptions given in select");return jsxRuntimeExports.jsx(RadioInput$1,{name:ts.name,label:ts.label||"No label",helperText:ts.helperText,showHelperTextIcon:ts.showHelperTextIcon,required:ts.required,options:ts.radioOptions,borderColor:ts.borderColor,borderSelected:ts.borderSelected,backgroundSelected:ts.backgroundSelected,getSelected:rs.watch,radioStyling:ts.radioStyling,defaultValue:ts.defaultValue,onChange:cs=>{ts.onChange&&ts.onChange(cs);const us=cs.target;rs.setValue(ts.name,us.value)}});case"Radio List":if(!ts.radioOptions)throw new Error("No radioOptions given in select");return jsxRuntimeExports.jsx(RadioInput,{name:ts.name,label:ts.label||"No label",helperText:ts.helperText,showHelperTextIcon:ts.showHelperTextIcon,required:ts.required,value:(as=ts.value)!=null?as:"",options:ts.radioOptions,defaultValue:ts.defaultValue,onChange:cs=>{const us=cs.target;rs.setValue(ts.name,us.value),ts.onChange&&ts.onChange(cs)}});case"File":if(!ts.fileOptions)throw new Error("No fileOptions given in file input");return jsxRuntimeExports.jsx(FileUpload,{name:ts.name,label:ts.label||"No label",defaultValue:ts.defaultValue,options:ts.fileOptions});case"Photos":if(!ts.fileOptions)throw new Error("No fileOptions given in photos input");return jsxRuntimeExports.jsx(PhotosUpload,{name:ts.name,label:ts.label||"",defaultValue:ts.defaultValue,options:ts.fileOptions});case"Header 3":return jsxRuntimeExports.jsx(Box$1,{mb:1,children:jsxRuntimeExports.jsx(Typography$1,{variant:"h3",color:"primary",children:ts.label})});case"Header 4":return jsxRuntimeExports.jsx(Box$1,{mb:1,children:jsxRuntimeExports.jsx(Typography$1,{variant:"h4",color:"primary",children:ts.label})});case"Description":return ts.label?jsxRuntimeExports.jsx(Typography$1,{variant:"body1",children:jsxRuntimeExports.jsx(Markdown,{children:ts.label})}):ts.description?jsxRuntimeExports.jsx(Markdown,{children:"".concat(ts.description)}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{});case"HTML":return jsxRuntimeExports.jsx("div",{dangerouslySetInnerHTML:{__html:(ls=ts.label)!=null?ls:""}});case"Button":return jsxRuntimeExports.jsx(Button$2,{variant:"outlined",type:"submit",children:ts.label});case"Form list":return jsxRuntimeExports.jsx(FormList,{formInput:ts,values:rs.watch(),methods:rs});default:throw console.log(ts),console.log("Form input type without a match",ts.type),new Error("Form input type without a match")}})()},ts.name);function formInputStringToBoolean(ts,ns){for(const rs of ns)if(rs.type==="Checkbox"){for(const is of Object.keys(ts))if(rs.id===is){ts[is]==="true"?ts[is]=!0:ts[is]==="false"&&(ts[is]=!1);break}}}function checkEnable(ts,ns){if(ts.enableWhen){const rs=ns[ts.enableWhen.question];if(ts.enableWhen.operator==="="){const is=rs===ts.enableWhen.answer;return is?ts.hidden=!1:ts.hidden=!0,is}}return!0}const filterFormInputFields=(ts,ns,rs,is)=>ts.filter(os=>checkEnable(os,ns)).filter(os=>!os.hidden).map(os=>os.fields===void 0?getFormInputField(os,ns,rs,is):getFormInputGroup(os));var CheckCircle={},_interopRequireDefault$h=interopRequireDefaultExports;Object.defineProperty(CheckCircle,"__esModule",{value:!0});var default_1$h=CheckCircle.default=void 0,_createSvgIcon$h=_interopRequireDefault$h(requireCreateSvgIcon()),_jsxRuntime$h=jsxRuntimeExports;default_1$h=CheckCircle.default=(0,_createSvgIcon$h.default)((0,_jsxRuntime$h.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle");var Cancel={},_interopRequireDefault$g=interopRequireDefaultExports;Object.defineProperty(Cancel,"__esModule",{value:!0});var default_1$g=Cancel.default=void 0,_createSvgIcon$g=_interopRequireDefault$g(requireCreateSvgIcon()),_jsxRuntime$g=jsxRuntimeExports;default_1$g=Cancel.default=(0,_createSvgIcon$g.default)((0,_jsxRuntime$g.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12z"}),"Cancel");function getValueBoolean(ts){const{otherColors:ns}=reactExports.useContext(IntakeThemeContext);return ts?jsxRuntimeExports.jsx(Chip$1,{icon:jsxRuntimeExports.jsx(default_1$h,{}),size:"small",color:"info",sx:{fontSize:"14px",padding:"4px",".MuiChip-icon":{color:ns.darkGreen,margin:0},".MuiChip-label":{display:"none"}}}):jsxRuntimeExports.jsx(Chip$1,{icon:jsxRuntimeExports.jsx(default_1$g,{}),label:"Not complete",size:"small",sx:{fontSize:"14px",backgroundColor:ns.lightCancel,padding:"4px 5px",".MuiChip-icon, .MuiChip-label":{color:ns.cancel}}})}const findMissingNumber=ts=>{const ns=ts.sort((rs,is)=>rs-is);for(let rs=0;rs<ns.length;rs++)if(ns[rs]!==rs)return rs;return ns.length};function getFileTypeFromFile(ts){const ns=ts.split(".");return ns[ns.length-1]}const objectToString=Object.prototype.toString;function isError(ts){switch(objectToString.call(ts)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return isInstanceOf(ts,Error)}}function isBuiltin(ts,ns){return objectToString.call(ts)==="[object ".concat(ns,"]")}function isErrorEvent$2(ts){return isBuiltin(ts,"ErrorEvent")}function isDOMError(ts){return isBuiltin(ts,"DOMError")}function isDOMException(ts){return isBuiltin(ts,"DOMException")}function isString$1(ts){return isBuiltin(ts,"String")}function isParameterizedString(ts){return typeof ts=="object"&&ts!==null&&"__sentry_template_string__"in ts&&"__sentry_template_values__"in ts}function isPrimitive$1(ts){return ts===null||isParameterizedString(ts)||typeof ts!="object"&&typeof ts!="function"}function isPlainObject(ts){return isBuiltin(ts,"Object")}function isEvent(ts){return typeof Event<"u"&&isInstanceOf(ts,Event)}function isElement$3(ts){return typeof Element<"u"&&isInstanceOf(ts,Element)}function isRegExp(ts){return isBuiltin(ts,"RegExp")}function isThenable(ts){return!!(ts&&ts.then&&typeof ts.then=="function")}function isSyntheticEvent(ts){return isPlainObject(ts)&&"nativeEvent"in ts&&"preventDefault"in ts&&"stopPropagation"in ts}function isNaN$1(ts){return typeof ts=="number"&&ts!==ts}function isInstanceOf(ts,ns){try{return ts instanceof ns}catch{return!1}}function isVueViewModel(ts){return!!(typeof ts=="object"&&ts!==null&&(ts.__isVue||ts._isVue))}function truncate(ts,ns=0){return typeof ts!="string"||ns===0||ts.length<=ns?ts:"".concat(ts.slice(0,ns),"...")}function safeJoin(ts,ns){if(!Array.isArray(ts))return"";const rs=[];for(let is=0;is<ts.length;is++){const os=ts[is];try{isVueViewModel(os)?rs.push("[VueViewModel]"):rs.push(String(os))}catch{rs.push("[value cannot be serialized]")}}return rs.join(ns)}function isMatchingPattern(ts,ns,rs=!1){return isString$1(ts)?isRegExp(ns)?ns.test(ts):isString$1(ns)?rs?ts===ns:ts.includes(ns):!1:!1}function stringMatchesSomePattern(ts,ns=[],rs=!1){return ns.some(is=>isMatchingPattern(ts,is,rs))}function applyAggregateErrorsToEvent(ts,ns,rs=250,is,os,ss,as){if(!ss.exception||!ss.exception.values||!as||!isInstanceOf(as.originalException,Error))return;const ls=ss.exception.values.length>0?ss.exception.values[ss.exception.values.length-1]:void 0;ls&&(ss.exception.values=truncateAggregateExceptions(aggregateExceptionsFromError(ts,ns,os,as.originalException,is,ss.exception.values,ls,0),rs))}function aggregateExceptionsFromError(ts,ns,rs,is,os,ss,as,ls){if(ss.length>=rs+1)return ss;let cs=[...ss];if(isInstanceOf(is[os],Error)){applyExceptionGroupFieldsForParentException(as,ls);const us=ts(ns,is[os]),ds=cs.length;applyExceptionGroupFieldsForChildException(us,os,ds,ls),cs=aggregateExceptionsFromError(ts,ns,rs,is[os],os,[us,...cs],us,ds)}return Array.isArray(is.errors)&&is.errors.forEach((us,ds)=>{if(isInstanceOf(us,Error)){applyExceptionGroupFieldsForParentException(as,ls);const ps=ts(ns,us),hs=cs.length;applyExceptionGroupFieldsForChildException(ps,"errors[".concat(ds,"]"),hs,ls),cs=aggregateExceptionsFromError(ts,ns,rs,us,os,[ps,...cs],ps,hs)}}),cs}function applyExceptionGroupFieldsForParentException(ts,ns){ts.mechanism=ts.mechanism||{type:"generic",handled:!0},ts.mechanism={...ts.mechanism,...ts.type==="AggregateError"&&{is_exception_group:!0},exception_id:ns}}function applyExceptionGroupFieldsForChildException(ts,ns,rs,is){ts.mechanism=ts.mechanism||{type:"generic",handled:!0},ts.mechanism={...ts.mechanism,type:"chained",source:ns,exception_id:rs,parent_id:is}}function truncateAggregateExceptions(ts,ns){return ts.map(rs=>(rs.value&&(rs.value=truncate(rs.value,ns)),rs))}function isGlobalObj(ts){return ts&&ts.Math==Math?ts:void 0}const GLOBAL_OBJ=typeof globalThis=="object"&&isGlobalObj(globalThis)||typeof window=="object"&&isGlobalObj(window)||typeof self=="object"&&isGlobalObj(self)||typeof global=="object"&&isGlobalObj(global)||function(){return this}()||{};function getGlobalObject(){return GLOBAL_OBJ}function getGlobalSingleton(ts,ns,rs){const is=rs||GLOBAL_OBJ,os=is.__SENTRY__=is.__SENTRY__||{};return os[ts]||(os[ts]=ns())}const WINDOW$8=getGlobalObject(),DEFAULT_MAX_STRING_LENGTH=80;function htmlTreeAsString(ts,ns={}){if(!ts)return"<unknown>";try{let rs=ts;const is=5,os=[];let ss=0,as=0;const ls=" > ",cs=ls.length;let us;const ds=Array.isArray(ns)?ns:ns.keyAttrs,ps=!Array.isArray(ns)&&ns.maxStringLength||DEFAULT_MAX_STRING_LENGTH;for(;rs&&ss++<is&&(us=_htmlElementAsString(rs,ds),!(us==="html"||ss>1&&as+os.length*cs+us.length>=ps));)os.push(us),as+=us.length,rs=rs.parentNode;return os.reverse().join(ls)}catch{return"<unknown>"}}function _htmlElementAsString(ts,ns){const rs=ts,is=[];let os,ss,as,ls,cs;if(!rs||!rs.tagName)return"";if(WINDOW$8.HTMLElement&&rs instanceof HTMLElement&&rs.dataset&&rs.dataset.sentryComponent)return rs.dataset.sentryComponent;is.push(rs.tagName.toLowerCase());const us=ns&&ns.length?ns.filter(ps=>rs.getAttribute(ps)).map(ps=>[ps,rs.getAttribute(ps)]):null;if(us&&us.length)us.forEach(ps=>{is.push("[".concat(ps[0],'="').concat(ps[1],'"]'))});else if(rs.id&&is.push("#".concat(rs.id)),os=rs.className,os&&isString$1(os))for(ss=os.split(/\s+/),cs=0;cs<ss.length;cs++)is.push(".".concat(ss[cs]));const ds=["aria-label","type","name","title","alt"];for(cs=0;cs<ds.length;cs++)as=ds[cs],ls=rs.getAttribute(as),ls&&is.push("[".concat(as,'="').concat(ls,'"]'));return is.join("")}function getLocationHref(){try{return WINDOW$8.document.location.href}catch{return""}}function getDomElement(ts){return WINDOW$8.document&&WINDOW$8.document.querySelector?WINDOW$8.document.querySelector(ts):null}function getComponentName(ts){if(!WINDOW$8.HTMLElement)return null;let ns=ts;const rs=5;for(let is=0;is<rs;is++){if(!ns)return null;if(ns instanceof HTMLElement&&ns.dataset.sentryComponent)return ns.dataset.sentryComponent;ns=ns.parentNode}return null}const DEBUG_BUILD$4=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,PREFIX="Sentry Logger ",CONSOLE_LEVELS=["debug","info","warn","error","log","assert","trace"],originalConsoleMethods={};function consoleSandbox(ts){if(!("console"in GLOBAL_OBJ))return ts();const ns=GLOBAL_OBJ.console,rs={},is=Object.keys(originalConsoleMethods);is.forEach(os=>{const ss=originalConsoleMethods[os];rs[os]=ns[os],ns[os]=ss});try{return ts()}finally{is.forEach(os=>{ns[os]=rs[os]})}}function makeLogger(){let ts=!1;const ns={enable:()=>{ts=!0},disable:()=>{ts=!1},isEnabled:()=>ts};return DEBUG_BUILD$4?CONSOLE_LEVELS.forEach(rs=>{ns[rs]=(...is)=>{ts&&consoleSandbox(()=>{GLOBAL_OBJ.console[rs]("".concat(PREFIX,"[").concat(rs,"]:"),...is)})}}):CONSOLE_LEVELS.forEach(rs=>{ns[rs]=()=>{}}),ns}const logger$5=makeLogger(),DSN_REGEX=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function isValidProtocol(ts){return ts==="http"||ts==="https"}function dsnToString(ts,ns=!1){const{host:rs,path:is,pass:os,port:ss,projectId:as,protocol:ls,publicKey:cs}=ts;return"".concat(ls,"://").concat(cs).concat(ns&&os?":".concat(os):"")+"@".concat(rs).concat(ss?":".concat(ss):"","/").concat(is&&"".concat(is,"/")).concat(as)}function dsnFromString(ts){const ns=DSN_REGEX.exec(ts);if(!ns){consoleSandbox(()=>{console.error("Invalid Sentry Dsn: ".concat(ts))});return}const[rs,is,os="",ss,as="",ls]=ns.slice(1);let cs="",us=ls;const ds=us.split("/");if(ds.length>1&&(cs=ds.slice(0,-1).join("/"),us=ds.pop()),us){const ps=us.match(/^\d+/);ps&&(us=ps[0])}return dsnFromComponents({host:ss,pass:os,path:cs,projectId:us,port:as,protocol:rs,publicKey:is})}function dsnFromComponents(ts){return{protocol:ts.protocol,publicKey:ts.publicKey||"",pass:ts.pass||"",host:ts.host,port:ts.port||"",path:ts.path||"",projectId:ts.projectId}}function validateDsn(ts){if(!DEBUG_BUILD$4)return!0;const{port:ns,projectId:rs,protocol:is}=ts;return["protocol","publicKey","host","projectId"].find(as=>ts[as]?!1:(logger$5.error("Invalid Sentry Dsn: ".concat(as," missing")),!0))?!1:rs.match(/^\d+$/)?isValidProtocol(is)?ns&&isNaN(parseInt(ns,10))?(logger$5.error("Invalid Sentry Dsn: Invalid port ".concat(ns)),!1):!0:(logger$5.error("Invalid Sentry Dsn: Invalid protocol ".concat(is)),!1):(logger$5.error("Invalid Sentry Dsn: Invalid projectId ".concat(rs)),!1)}function makeDsn(ts){const ns=typeof ts=="string"?dsnFromString(ts):dsnFromComponents(ts);if(!(!ns||!validateDsn(ns)))return ns}class SentryError extends Error{constructor(ns,rs="warn"){super(ns),this.message=ns,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=rs}}function fill(ts,ns,rs){if(!(ns in ts))return;const is=ts[ns],os=rs(is);typeof os=="function"&&markFunctionWrapped(os,is),ts[ns]=os}function addNonEnumerableProperty(ts,ns,rs){try{Object.defineProperty(ts,ns,{value:rs,writable:!0,configurable:!0})}catch{DEBUG_BUILD$4&&logger$5.log('Failed to add non-enumerable property "'.concat(ns,'" to object'),ts)}}function markFunctionWrapped(ts,ns){try{const rs=ns.prototype||{};ts.prototype=ns.prototype=rs,addNonEnumerableProperty(ts,"__sentry_original__",ns)}catch{}}function getOriginalFunction(ts){return ts.__sentry_original__}function urlEncode(ts){return Object.keys(ts).map(ns=>"".concat(encodeURIComponent(ns),"=").concat(encodeURIComponent(ts[ns]))).join("&")}function convertToPlainObject(ts){if(isError(ts))return{message:ts.message,name:ts.name,stack:ts.stack,...getOwnProperties(ts)};if(isEvent(ts)){const ns={type:ts.type,target:serializeEventTarget(ts.target),currentTarget:serializeEventTarget(ts.currentTarget),...getOwnProperties(ts)};return typeof CustomEvent<"u"&&isInstanceOf(ts,CustomEvent)&&(ns.detail=ts.detail),ns}else return ts}function serializeEventTarget(ts){try{return isElement$3(ts)?htmlTreeAsString(ts):Object.prototype.toString.call(ts)}catch{return"<unknown>"}}function getOwnProperties(ts){if(typeof ts=="object"&&ts!==null){const ns={};for(const rs in ts)Object.prototype.hasOwnProperty.call(ts,rs)&&(ns[rs]=ts[rs]);return ns}else return{}}function extractExceptionKeysForMessage(ts,ns=40){const rs=Object.keys(convertToPlainObject(ts));if(rs.sort(),!rs.length)return"[object has no keys]";if(rs[0].length>=ns)return truncate(rs[0],ns);for(let is=rs.length;is>0;is--){const os=rs.slice(0,is).join(", ");if(!(os.length>ns))return is===rs.length?os:truncate(os,ns)}return""}function dropUndefinedKeys(ts){return _dropUndefinedKeys(ts,new Map)}function _dropUndefinedKeys(ts,ns){if(isPojo(ts)){const rs=ns.get(ts);if(rs!==void 0)return rs;const is={};ns.set(ts,is);for(const os of Object.keys(ts))typeof ts[os]<"u"&&(is[os]=_dropUndefinedKeys(ts[os],ns));return is}if(Array.isArray(ts)){const rs=ns.get(ts);if(rs!==void 0)return rs;const is=[];return ns.set(ts,is),ts.forEach(os=>{is.push(_dropUndefinedKeys(os,ns))}),is}return ts}function isPojo(ts){if(!isPlainObject(ts))return!1;try{const ns=Object.getPrototypeOf(ts).constructor.name;return!ns||ns==="Object"}catch{return!0}}const STACKTRACE_FRAME_LIMIT=50,WEBPACK_ERROR_REGEXP=/\(error: (.*)\)/,STRIP_FRAME_REGEXP=/captureMessage|captureException/;function createStackParser(...ts){const ns=ts.sort((rs,is)=>rs[0]-is[0]).map(rs=>rs[1]);return(rs,is=0)=>{const os=[],ss=rs.split("\n");for(let as=is;as<ss.length;as++){const ls=ss[as];if(ls.length>1024)continue;const cs=WEBPACK_ERROR_REGEXP.test(ls)?ls.replace(WEBPACK_ERROR_REGEXP,"$1"):ls;if(!cs.match(/\S*Error: /)){for(const us of ns){const ds=us(cs);if(ds){os.push(ds);break}}if(os.length>=STACKTRACE_FRAME_LIMIT)break}}return stripSentryFramesAndReverse(os)}}function stackParserFromStackParserOptions(ts){return Array.isArray(ts)?createStackParser(...ts):ts}function stripSentryFramesAndReverse(ts){if(!ts.length)return[];const ns=Array.from(ts);return/sentryWrapped/.test(ns[ns.length-1].function||"")&&ns.pop(),ns.reverse(),STRIP_FRAME_REGEXP.test(ns[ns.length-1].function||"")&&(ns.pop(),STRIP_FRAME_REGEXP.test(ns[ns.length-1].function||"")&&ns.pop()),ns.slice(0,STACKTRACE_FRAME_LIMIT).map(rs=>({...rs,filename:rs.filename||ns[ns.length-1].filename,function:rs.function||"?"}))}const defaultFunctionName="<anonymous>";function getFunctionName(ts){try{return!ts||typeof ts!="function"?defaultFunctionName:ts.name||defaultFunctionName}catch{return defaultFunctionName}}const handlers$2={},instrumented$1={};function addHandler$1(ts,ns){handlers$2[ts]=handlers$2[ts]||[],handlers$2[ts].push(ns)}function maybeInstrument(ts,ns){instrumented$1[ts]||(ns(),instrumented$1[ts]=!0)}function triggerHandlers$1(ts,ns){const rs=ts&&handlers$2[ts];if(rs)for(const is of rs)try{is(ns)}catch(os){DEBUG_BUILD$4&&logger$5.error("Error while triggering instrumentation handler.\nType: ".concat(ts,"\nName: ").concat(getFunctionName(is),"\nError:"),os)}}function addConsoleInstrumentationHandler(ts){const ns="console";addHandler$1(ns,ts),maybeInstrument(ns,instrumentConsole)}function instrumentConsole(){"console"in GLOBAL_OBJ&&CONSOLE_LEVELS.forEach(function(ts){ts in GLOBAL_OBJ.console&&fill(GLOBAL_OBJ.console,ts,function(ns){return originalConsoleMethods[ts]=ns,function(...rs){triggerHandlers$1("console",{args:rs,level:ts});const os=originalConsoleMethods[ts];os&&os.apply(GLOBAL_OBJ.console,rs)}})})}function uuid4(){const ts=GLOBAL_OBJ,ns=ts.crypto||ts.msCrypto;let rs=()=>Math.random()*16;try{if(ns&&ns.randomUUID)return ns.randomUUID().replace(/-/g,"");ns&&ns.getRandomValues&&(rs=()=>{const is=new Uint8Array(1);return ns.getRandomValues(is),is[0]})}catch{}return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,is=>(is^(rs()&15)>>is/4).toString(16))}function getFirstException(ts){return ts.exception&&ts.exception.values?ts.exception.values[0]:void 0}function getEventDescription(ts){const{message:ns,event_id:rs}=ts;if(ns)return ns;const is=getFirstException(ts);return is?is.type&&is.value?"".concat(is.type,": ").concat(is.value):is.type||is.value||rs||"<unknown>":rs||"<unknown>"}function addExceptionTypeValue(ts,ns,rs){const is=ts.exception=ts.exception||{},os=is.values=is.values||[],ss=os[0]=os[0]||{};ss.value||(ss.value=ns||""),ss.type||(ss.type=rs||"Error")}function addExceptionMechanism(ts,ns){const rs=getFirstException(ts);if(!rs)return;const is={type:"generic",handled:!0},os=rs.mechanism;if(rs.mechanism={...is,...os,...ns},ns&&"data"in ns){const ss={...os&&os.data,...ns.data};rs.mechanism.data=ss}}function checkOrSetAlreadyCaught(ts){if(ts&&ts.__sentry_captured__)return!0;try{addNonEnumerableProperty(ts,"__sentry_captured__",!0)}catch{}return!1}function arrayify(ts){return Array.isArray(ts)?ts:[ts]}const WINDOW$7=GLOBAL_OBJ,DEBOUNCE_DURATION=1e3;let debounceTimerID,lastCapturedEventType,lastCapturedEventTargetId;function addClickKeypressInstrumentationHandler(ts){const ns="dom";addHandler$1(ns,ts),maybeInstrument(ns,instrumentDOM)}function instrumentDOM(){if(!WINDOW$7.document)return;const ts=triggerHandlers$1.bind(null,"dom"),ns=makeDOMEventHandler(ts,!0);WINDOW$7.document.addEventListener("click",ns,!1),WINDOW$7.document.addEventListener("keypress",ns,!1),["EventTarget","Node"].forEach(rs=>{const is=WINDOW$7[rs]&&WINDOW$7[rs].prototype;!is||!is.hasOwnProperty||!is.hasOwnProperty("addEventListener")||(fill(is,"addEventListener",function(os){return function(ss,as,ls){if(ss==="click"||ss=="keypress")try{const cs=this,us=cs.__sentry_instrumentation_handlers__=cs.__sentry_instrumentation_handlers__||{},ds=us[ss]=us[ss]||{refCount:0};if(!ds.handler){const ps=makeDOMEventHandler(ts);ds.handler=ps,os.call(this,ss,ps,ls)}ds.refCount++}catch{}return os.call(this,ss,as,ls)}}),fill(is,"removeEventListener",function(os){return function(ss,as,ls){if(ss==="click"||ss=="keypress")try{const cs=this,us=cs.__sentry_instrumentation_handlers__||{},ds=us[ss];ds&&(ds.refCount--,ds.refCount<=0&&(os.call(this,ss,ds.handler,ls),ds.handler=void 0,delete us[ss]),Object.keys(us).length===0&&delete cs.__sentry_instrumentation_handlers__)}catch{}return os.call(this,ss,as,ls)}}))})}function isSimilarToLastCapturedEvent(ts){if(ts.type!==lastCapturedEventType)return!1;try{if(!ts.target||ts.target._sentryId!==lastCapturedEventTargetId)return!1}catch{}return!0}function shouldSkipDOMEvent(ts,ns){return ts!=="keypress"?!1:!ns||!ns.tagName?!0:!(ns.tagName==="INPUT"||ns.tagName==="TEXTAREA"||ns.isContentEditable)}function makeDOMEventHandler(ts,ns=!1){return rs=>{if(!rs||rs._sentryCaptured)return;const is=getEventTarget$2(rs);if(shouldSkipDOMEvent(rs.type,is))return;addNonEnumerableProperty(rs,"_sentryCaptured",!0),is&&!is._sentryId&&addNonEnumerableProperty(is,"_sentryId",uuid4());const os=rs.type==="keypress"?"input":rs.type;isSimilarToLastCapturedEvent(rs)||(ts({event:rs,name:os,global:ns}),lastCapturedEventType=rs.type,lastCapturedEventTargetId=is?is._sentryId:void 0),clearTimeout(debounceTimerID),debounceTimerID=WINDOW$7.setTimeout(()=>{lastCapturedEventTargetId=void 0,lastCapturedEventType=void 0},DEBOUNCE_DURATION)}}function getEventTarget$2(ts){try{return ts.target}catch{return null}}const WINDOW$6=getGlobalObject();function supportsFetch(){if(!("fetch"in WINDOW$6))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function isNativeFetch(ts){return ts&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(ts.toString())}function supportsNativeFetch(){if(typeof EdgeRuntime=="string")return!0;if(!supportsFetch())return!1;if(isNativeFetch(WINDOW$6.fetch))return!0;let ts=!1;const ns=WINDOW$6.document;if(ns&&typeof ns.createElement=="function")try{const rs=ns.createElement("iframe");rs.hidden=!0,ns.head.appendChild(rs),rs.contentWindow&&rs.contentWindow.fetch&&(ts=isNativeFetch(rs.contentWindow.fetch)),ns.head.removeChild(rs)}catch(rs){DEBUG_BUILD$4&&logger$5.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",rs)}return ts}function addFetchInstrumentationHandler(ts){const ns="fetch";addHandler$1(ns,ts),maybeInstrument(ns,instrumentFetch)}function instrumentFetch(){supportsNativeFetch()&&fill(GLOBAL_OBJ,"fetch",function(ts){return function(...ns){const{method:rs,url:is}=parseFetchArgs(ns),os={args:ns,fetchData:{method:rs,url:is},startTimestamp:Date.now()};return triggerHandlers$1("fetch",{...os}),ts.apply(GLOBAL_OBJ,ns).then(ss=>{const as={...os,endTimestamp:Date.now(),response:ss};return triggerHandlers$1("fetch",as),ss},ss=>{const as={...os,endTimestamp:Date.now(),error:ss};throw triggerHandlers$1("fetch",as),ss})}})}function hasProp(ts,ns){return!!ts&&typeof ts=="object"&&!!ts[ns]}function getUrlFromResource(ts){return typeof ts=="string"?ts:ts?hasProp(ts,"url")?ts.url:ts.toString?ts.toString():"":""}function parseFetchArgs(ts){if(ts.length===0)return{method:"GET",url:""};if(ts.length===2){const[rs,is]=ts;return{url:getUrlFromResource(rs),method:hasProp(is,"method")?String(is.method).toUpperCase():"GET"}}const ns=ts[0];return{url:getUrlFromResource(ns),method:hasProp(ns,"method")?String(ns.method).toUpperCase():"GET"}}let _oldOnErrorHandler=null;function addGlobalErrorInstrumentationHandler(ts){const ns="error";addHandler$1(ns,ts),maybeInstrument(ns,instrumentError)}function instrumentError(){_oldOnErrorHandler=GLOBAL_OBJ.onerror,GLOBAL_OBJ.onerror=function(ts,ns,rs,is,os){return triggerHandlers$1("error",{column:is,error:os,line:rs,msg:ts,url:ns}),_oldOnErrorHandler&&!_oldOnErrorHandler.__SENTRY_LOADER__?_oldOnErrorHandler.apply(this,arguments):!1},GLOBAL_OBJ.onerror.__SENTRY_INSTRUMENTED__=!0}let _oldOnUnhandledRejectionHandler=null;function addGlobalUnhandledRejectionInstrumentationHandler(ts){const ns="unhandledrejection";addHandler$1(ns,ts),maybeInstrument(ns,instrumentUnhandledRejection)}function instrumentUnhandledRejection(){_oldOnUnhandledRejectionHandler=GLOBAL_OBJ.onunhandledrejection,GLOBAL_OBJ.onunhandledrejection=function(ts){return triggerHandlers$1("unhandledrejection",ts),_oldOnUnhandledRejectionHandler&&!_oldOnUnhandledRejectionHandler.__SENTRY_LOADER__?_oldOnUnhandledRejectionHandler.apply(this,arguments):!0},GLOBAL_OBJ.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const WINDOW$5=getGlobalObject();function supportsHistory(){const ts=WINDOW$5.chrome,ns=ts&&ts.app&&ts.app.runtime,rs="history"in WINDOW$5&&!!WINDOW$5.history.pushState&&!!WINDOW$5.history.replaceState;return!ns&&rs}const WINDOW$4=GLOBAL_OBJ;let lastHref;function addHistoryInstrumentationHandler(ts){const ns="history";addHandler$1(ns,ts),maybeInstrument(ns,instrumentHistory)}function instrumentHistory(){if(!supportsHistory())return;const ts=WINDOW$4.onpopstate;WINDOW$4.onpopstate=function(...rs){const is=WINDOW$4.location.href,os=lastHref;if(lastHref=is,triggerHandlers$1("history",{from:os,to:is}),ts)try{return ts.apply(this,rs)}catch{}};function ns(rs){return function(...is){const os=is.length>2?is[2]:void 0;if(os){const ss=lastHref,as=String(os);lastHref=as,triggerHandlers$1("history",{from:ss,to:as})}return rs.apply(this,is)}}fill(WINDOW$4.history,"pushState",ns),fill(WINDOW$4.history,"replaceState",ns)}const WINDOW$3=GLOBAL_OBJ,SENTRY_XHR_DATA_KEY="__sentry_xhr_v3__";function addXhrInstrumentationHandler(ts){const ns="xhr";addHandler$1(ns,ts),maybeInstrument(ns,instrumentXHR)}function instrumentXHR(){if(!WINDOW$3.XMLHttpRequest)return;const ts=XMLHttpRequest.prototype;fill(ts,"open",function(ns){return function(...rs){const is=Date.now(),os=isString$1(rs[0])?rs[0].toUpperCase():void 0,ss=parseUrl$2(rs[1]);if(!os||!ss)return ns.apply(this,rs);this[SENTRY_XHR_DATA_KEY]={method:os,url:ss,request_headers:{}},os==="POST"&&ss.match(/sentry_key/)&&(this.__sentry_own_request__=!0);const as=()=>{const ls=this[SENTRY_XHR_DATA_KEY];if(ls&&this.readyState===4){try{ls.status_code=this.status}catch{}const cs={args:[os,ss],endTimestamp:Date.now(),startTimestamp:is,xhr:this};triggerHandlers$1("xhr",cs)}};return"onreadystatechange"in this&&typeof this.onreadystatechange=="function"?fill(this,"onreadystatechange",function(ls){return function(...cs){return as(),ls.apply(this,cs)}}):this.addEventListener("readystatechange",as),fill(this,"setRequestHeader",function(ls){return function(...cs){const[us,ds]=cs,ps=this[SENTRY_XHR_DATA_KEY];return ps&&isString$1(us)&&isString$1(ds)&&(ps.request_headers[us.toLowerCase()]=ds),ls.apply(this,cs)}}),ns.apply(this,rs)}}),fill(ts,"send",function(ns){return function(...rs){const is=this[SENTRY_XHR_DATA_KEY];if(!is)return ns.apply(this,rs);rs[0]!==void 0&&(is.body=rs[0]);const os={args:[is.method,is.url],startTimestamp:Date.now(),xhr:this};return triggerHandlers$1("xhr",os),ns.apply(this,rs)}})}function parseUrl$2(ts){if(isString$1(ts))return ts;try{return ts.toString()}catch{}}function isBrowserBundle(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function getSDKSource(){return"npm"}function isNodeEnv(){return!isBrowserBundle()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function isBrowser$1(){return typeof window<"u"&&(!isNodeEnv()||isElectronNodeRenderer())}function isElectronNodeRenderer(){return GLOBAL_OBJ.process!==void 0&&GLOBAL_OBJ.process.type==="renderer"}function memoBuilder(){const ts=typeof WeakSet=="function",ns=ts?new WeakSet:[];function rs(os){if(ts)return ns.has(os)?!0:(ns.add(os),!1);for(let ss=0;ss<ns.length;ss++)if(ns[ss]===os)return!0;return ns.push(os),!1}function is(os){if(ts)ns.delete(os);else for(let ss=0;ss<ns.length;ss++)if(ns[ss]===os){ns.splice(ss,1);break}}return[rs,is]}function normalize(ts,ns=100,rs=1/0){try{return visit("",ts,ns,rs)}catch(is){return{ERROR:"**non-serializable** (".concat(is,")")}}}function normalizeToSize(ts,ns=3,rs=100*1024){const is=normalize(ts,ns);return jsonSize(is)>rs?normalizeToSize(ts,ns-1,rs):is}function visit(ts,ns,rs=1/0,is=1/0,os=memoBuilder()){const[ss,as]=os;if(ns==null||["number","boolean","string"].includes(typeof ns)&&!isNaN$1(ns))return ns;const ls=stringifyValue(ts,ns);if(!ls.startsWith("[object "))return ls;if(ns.__sentry_skip_normalization__)return ns;const cs=typeof ns.__sentry_override_normalization_depth__=="number"?ns.__sentry_override_normalization_depth__:rs;if(cs===0)return ls.replace("object ","");if(ss(ns))return"[Circular ~]";const us=ns;if(us&&typeof us.toJSON=="function")try{const ms=us.toJSON();return visit("",ms,cs-1,is,os)}catch{}const ds=Array.isArray(ns)?[]:{};let ps=0;const hs=convertToPlainObject(ns);for(const ms in hs){if(!Object.prototype.hasOwnProperty.call(hs,ms))continue;if(ps>=is){ds[ms]="[MaxProperties ~]";break}const gs=hs[ms];ds[ms]=visit(ms,gs,cs-1,is,os),ps++}return as(ns),ds}function stringifyValue(ts,ns){try{if(ts==="domain"&&ns&&typeof ns=="object"&&ns._events)return"[Domain]";if(ts==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&ns===global)return"[Global]";if(typeof window<"u"&&ns===window)return"[Window]";if(typeof document<"u"&&ns===document)return"[Document]";if(isVueViewModel(ns))return"[VueViewModel]";if(isSyntheticEvent(ns))return"[SyntheticEvent]";if(typeof ns=="number"&&ns!==ns)return"[NaN]";if(typeof ns=="function")return"[Function: ".concat(getFunctionName(ns),"]");if(typeof ns=="symbol")return"[".concat(String(ns),"]");if(typeof ns=="bigint")return"[BigInt: ".concat(String(ns),"]");const rs=getConstructorName(ns);return/^HTML(\w*)Element$/.test(rs)?"[HTMLElement: ".concat(rs,"]"):"[object ".concat(rs,"]")}catch(rs){return"**non-serializable** (".concat(rs,")")}}function getConstructorName(ts){const ns=Object.getPrototypeOf(ts);return ns?ns.constructor.name:"null prototype"}function utf8Length(ts){return~-encodeURI(ts).split(/%..|./).length}function jsonSize(ts){return utf8Length(JSON.stringify(ts))}var States;(function(ts){ts[ts.PENDING=0]="PENDING";const rs=1;ts[ts.RESOLVED=rs]="RESOLVED";const is=2;ts[ts.REJECTED=is]="REJECTED"})(States||(States={}));function resolvedSyncPromise(ts){return new SyncPromise(ns=>{ns(ts)})}function rejectedSyncPromise(ts){return new SyncPromise((ns,rs)=>{rs(ts)})}class SyncPromise{constructor(ns){SyncPromise.prototype.__init.call(this),SyncPromise.prototype.__init2.call(this),SyncPromise.prototype.__init3.call(this),SyncPromise.prototype.__init4.call(this),this._state=States.PENDING,this._handlers=[];try{ns(this._resolve,this._reject)}catch(rs){this._reject(rs)}}then(ns,rs){return new SyncPromise((is,os)=>{this._handlers.push([!1,ss=>{if(!ns)is(ss);else try{is(ns(ss))}catch(as){os(as)}},ss=>{if(!rs)os(ss);else try{is(rs(ss))}catch(as){os(as)}}]),this._executeHandlers()})}catch(ns){return this.then(rs=>rs,ns)}finally(ns){return new SyncPromise((rs,is)=>{let os,ss;return this.then(as=>{ss=!1,os=as,ns&&ns()},as=>{ss=!0,os=as,ns&&ns()}).then(()=>{if(ss){is(os);return}rs(os)})})}__init(){this._resolve=ns=>{this._setResult(States.RESOLVED,ns)}}__init2(){this._reject=ns=>{this._setResult(States.REJECTED,ns)}}__init3(){this._setResult=(ns,rs)=>{if(this._state===States.PENDING){if(isThenable(rs)){rs.then(this._resolve,this._reject);return}this._state=ns,this._value=rs,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===States.PENDING)return;const ns=this._handlers.slice();this._handlers=[],ns.forEach(rs=>{rs[0]||(this._state===States.RESOLVED&&rs[1](this._value),this._state===States.REJECTED&&rs[2](this._value),rs[0]=!0)})}}}function makePromiseBuffer(ts){const ns=[];function rs(){return ts===void 0||ns.length<ts}function is(as){return ns.splice(ns.indexOf(as),1)[0]}function os(as){if(!rs())return rejectedSyncPromise(new SentryError("Not adding Promise because buffer limit was reached."));const ls=as();return ns.indexOf(ls)===-1&&ns.push(ls),ls.then(()=>is(ls)).then(null,()=>is(ls).then(null,()=>{})),ls}function ss(as){return new SyncPromise((ls,cs)=>{let us=ns.length;if(!us)return ls(!0);const ds=setTimeout(()=>{as&&as>0&&ls(!1)},as);ns.forEach(ps=>{resolvedSyncPromise(ps).then(()=>{--us||(clearTimeout(ds),ls(!0))},cs)})})}return{$:ns,add:os,drain:ss}}function parseUrl$1(ts){if(!ts)return{};const ns=ts.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!ns)return{};const rs=ns[6]||"",is=ns[8]||"";return{host:ns[4],path:ns[5],protocol:ns[2],search:rs,hash:is,relative:ns[5]+rs+is}}const validSeverityLevels=["fatal","error","warning","log","info","debug"];function severityLevelFromString(ts){return ts==="warn"?"warning":validSeverityLevels.includes(ts)?ts:"log"}const ONE_SECOND_IN_MS=1e3;function dateTimestampInSeconds(){return Date.now()/ONE_SECOND_IN_MS}function createUnixTimestampInSecondsFunc(){const{performance:ts}=GLOBAL_OBJ;if(!ts||!ts.now)return dateTimestampInSeconds;const ns=Date.now()-ts.now(),rs=ts.timeOrigin==null?ns:ts.timeOrigin;return()=>(rs+ts.now())/ONE_SECOND_IN_MS}const timestampInSeconds=createUnixTimestampInSecondsFunc(),browserPerformanceTimeOrigin=(()=>{const{performance:ts}=GLOBAL_OBJ;if(!ts||!ts.now)return;const ns=3600*1e3,rs=ts.now(),is=Date.now(),os=ts.timeOrigin?Math.abs(ts.timeOrigin+rs-is):ns,ss=os<ns,as=ts.timing&&ts.timing.navigationStart,cs=typeof as=="number"?Math.abs(as+rs-is):ns,us=cs<ns;return ss||us?os<=cs?ts.timeOrigin:as:is})(),BAGGAGE_HEADER_NAME="baggage",SENTRY_BAGGAGE_KEY_PREFIX="sentry-",SENTRY_BAGGAGE_KEY_PREFIX_REGEX=/^sentry-/,MAX_BAGGAGE_STRING_LENGTH=8192;function baggageHeaderToDynamicSamplingContext(ts){if(!isString$1(ts)&&!Array.isArray(ts))return;let ns={};if(Array.isArray(ts))ns=ts.reduce((is,os)=>{const ss=baggageHeaderToObject(os);for(const as of Object.keys(ss))is[as]=ss[as];return is},{});else{if(!ts)return;ns=baggageHeaderToObject(ts)}const rs=Object.entries(ns).reduce((is,[os,ss])=>{if(os.match(SENTRY_BAGGAGE_KEY_PREFIX_REGEX)){const as=os.slice(SENTRY_BAGGAGE_KEY_PREFIX.length);is[as]=ss}return is},{});if(Object.keys(rs).length>0)return rs}function dynamicSamplingContextToSentryBaggageHeader(ts){if(!ts)return;const ns=Object.entries(ts).reduce((rs,[is,os])=>(os&&(rs["".concat(SENTRY_BAGGAGE_KEY_PREFIX).concat(is)]=os),rs),{});return objectToBaggageHeader(ns)}function baggageHeaderToObject(ts){return ts.split(",").map(ns=>ns.split("=").map(rs=>decodeURIComponent(rs.trim()))).reduce((ns,[rs,is])=>(ns[rs]=is,ns),{})}function objectToBaggageHeader(ts){if(Object.keys(ts).length!==0)return Object.entries(ts).reduce((ns,[rs,is],os)=>{const ss="".concat(encodeURIComponent(rs),"=").concat(encodeURIComponent(is)),as=os===0?ss:"".concat(ns,",").concat(ss);return as.length>MAX_BAGGAGE_STRING_LENGTH?(DEBUG_BUILD$4&&logger$5.warn("Not adding key: ".concat(rs," with val: ").concat(is," to baggage header due to exceeding baggage size limits.")),ns):as},"")}const TRACEPARENT_REGEXP=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function extractTraceparentData(ts){if(!ts)return;const ns=ts.match(TRACEPARENT_REGEXP);if(!ns)return;let rs;return ns[3]==="1"?rs=!0:ns[3]==="0"&&(rs=!1),{traceId:ns[1],parentSampled:rs,parentSpanId:ns[2]}}function propagationContextFromHeaders(ts,ns){const rs=extractTraceparentData(ts),is=baggageHeaderToDynamicSamplingContext(ns),{traceId:os,parentSpanId:ss,parentSampled:as}=rs||{};return rs?{traceId:os||uuid4(),parentSpanId:ss||uuid4().substring(16),spanId:uuid4().substring(16),sampled:as,dsc:is||{}}:{traceId:os||uuid4(),spanId:uuid4().substring(16)}}function generateSentryTraceHeader(ts=uuid4(),ns=uuid4().substring(16),rs){let is="";return rs!==void 0&&(is=rs?"-1":"-0"),"".concat(ts,"-").concat(ns).concat(is)}function createEnvelope(ts,ns=[]){return[ts,ns]}function addItemToEnvelope(ts,ns){const[rs,is]=ts;return[rs,[...is,ns]]}function forEachEnvelopeItem(ts,ns){const rs=ts[1];for(const is of rs){const os=is[0].type;if(ns(is,os))return!0}return!1}function encodeUTF8(ts,ns){return(ns||new TextEncoder).encode(ts)}function serializeEnvelope(ts,ns){const[rs,is]=ts;let os=JSON.stringify(rs);function ss(as){typeof os=="string"?os=typeof as=="string"?os+as:[encodeUTF8(os,ns),as]:os.push(typeof as=="string"?encodeUTF8(as,ns):as)}for(const as of is){const[ls,cs]=as;if(ss("\n".concat(JSON.stringify(ls),"\n")),typeof cs=="string"||cs instanceof Uint8Array)ss(cs);else{let us;try{us=JSON.stringify(cs)}catch{us=JSON.stringify(normalize(cs))}ss(us)}}return typeof os=="string"?os:concatBuffers(os)}function concatBuffers(ts){const ns=ts.reduce((os,ss)=>os+ss.length,0),rs=new Uint8Array(ns);let is=0;for(const os of ts)rs.set(os,is),is+=os.length;return rs}function createAttachmentEnvelopeItem(ts,ns){const rs=typeof ts.data=="string"?encodeUTF8(ts.data,ns):ts.data;return[dropUndefinedKeys({type:"attachment",length:rs.length,filename:ts.filename,content_type:ts.contentType,attachment_type:ts.attachmentType}),rs]}const ITEM_TYPE_TO_DATA_CATEGORY_MAP={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket"};function envelopeItemTypeToDataCategory(ts){return ITEM_TYPE_TO_DATA_CATEGORY_MAP[ts]}function getSdkMetadataForEnvelopeHeader(ts){if(!ts||!ts.sdk)return;const{name:ns,version:rs}=ts.sdk;return{name:ns,version:rs}}function createEventEnvelopeHeaders(ts,ns,rs,is){const os=ts.sdkProcessingMetadata&&ts.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:ts.event_id,sent_at:new Date().toISOString(),...ns&&{sdk:ns},...!!rs&&is&&{dsn:dsnToString(is)},...os&&{trace:dropUndefinedKeys({...os})}}}function createClientReportEnvelope(ts,ns,rs){const is=[{type:"client_report"},{timestamp:rs||dateTimestampInSeconds(),discarded_events:ts}];return createEnvelope(ns?{dsn:ns}:{},[is])}const DEFAULT_RETRY_AFTER=60*1e3;function parseRetryAfterHeader(ts,ns=Date.now()){const rs=parseInt("".concat(ts),10);if(!isNaN(rs))return rs*1e3;const is=Date.parse("".concat(ts));return isNaN(is)?DEFAULT_RETRY_AFTER:is-ns}function disabledUntil(ts,ns){return ts[ns]||ts.all||0}function isRateLimited(ts,ns,rs=Date.now()){return disabledUntil(ts,ns)>rs}function updateRateLimits(ts,{statusCode:ns,headers:rs},is=Date.now()){const os={...ts},ss=rs&&rs["x-sentry-rate-limits"],as=rs&&rs["retry-after"];if(ss)for(const ls of ss.trim().split(",")){const[cs,us,,,ds]=ls.split(":",5),ps=parseInt(cs,10),hs=(isNaN(ps)?60:ps)*1e3;if(!us)os.all=is+hs;else for(const ms of us.split(";"))ms==="metric_bucket"?(!ds||ds.split(";").includes("custom"))&&(os[ms]=is+hs):os[ms]=is+hs}else as?os.all=is+parseRetryAfterHeader(as,is):ns===429&&(os.all=is+60*1e3);return os}function _nullishCoalesce(ts,ns){return ts!=null?ts:ns()}function _optionalChain(ts){let ns,rs=ts[0],is=1;for(;is<ts.length;){const os=ts[is],ss=ts[is+1];if(is+=2,(os==="optionalAccess"||os==="optionalCall")&&rs==null)return;os==="access"||os==="optionalAccess"?(ns=rs,rs=ss(rs)):(os==="call"||os==="optionalCall")&&(rs=ss((...as)=>rs.call(ns,...as)),ns=void 0)}return rs}const DEBUG_BUILD$3=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,DEFAULT_ENVIRONMENT="production";function getGlobalEventProcessors(){return getGlobalSingleton("globalEventProcessors",()=>[])}function addGlobalEventProcessor(ts){getGlobalEventProcessors().push(ts)}function notifyEventProcessors(ts,ns,rs,is=0){return new SyncPromise((os,ss)=>{const as=ts[is];if(ns===null||typeof as!="function")os(ns);else{const ls=as({...ns},rs);DEBUG_BUILD$3&&as.id&&ls===null&&logger$5.log('Event processor "'.concat(as.id,'" dropped event')),isThenable(ls)?ls.then(cs=>notifyEventProcessors(ts,cs,rs,is+1).then(os)).then(null,ss):notifyEventProcessors(ts,ls,rs,is+1).then(os).then(null,ss)}})}function makeSession$1(ts){const ns=timestampInSeconds(),rs={sid:uuid4(),init:!0,timestamp:ns,started:ns,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>sessionToJSON(rs)};return ts&&updateSession(rs,ts),rs}function updateSession(ts,ns={}){if(ns.user&&(!ts.ipAddress&&ns.user.ip_address&&(ts.ipAddress=ns.user.ip_address),!ts.did&&!ns.did&&(ts.did=ns.user.id||ns.user.email||ns.user.username)),ts.timestamp=ns.timestamp||timestampInSeconds(),ns.abnormal_mechanism&&(ts.abnormal_mechanism=ns.abnormal_mechanism),ns.ignoreDuration&&(ts.ignoreDuration=ns.ignoreDuration),ns.sid&&(ts.sid=ns.sid.length===32?ns.sid:uuid4()),ns.init!==void 0&&(ts.init=ns.init),!ts.did&&ns.did&&(ts.did="".concat(ns.did)),typeof ns.started=="number"&&(ts.started=ns.started),ts.ignoreDuration)ts.duration=void 0;else if(typeof ns.duration=="number")ts.duration=ns.duration;else{const rs=ts.timestamp-ts.started;ts.duration=rs>=0?rs:0}ns.release&&(ts.release=ns.release),ns.environment&&(ts.environment=ns.environment),!ts.ipAddress&&ns.ipAddress&&(ts.ipAddress=ns.ipAddress),!ts.userAgent&&ns.userAgent&&(ts.userAgent=ns.userAgent),typeof ns.errors=="number"&&(ts.errors=ns.errors),ns.status&&(ts.status=ns.status)}function closeSession(ts,ns){let rs={};ns?rs={status:ns}:ts.status==="ok"&&(rs={status:"exited"}),updateSession(ts,rs)}function sessionToJSON(ts){return dropUndefinedKeys({sid:"".concat(ts.sid),init:ts.init,started:new Date(ts.started*1e3).toISOString(),timestamp:new Date(ts.timestamp*1e3).toISOString(),status:ts.status,errors:ts.errors,did:typeof ts.did=="number"||typeof ts.did=="string"?"".concat(ts.did):void 0,duration:ts.duration,abnormal_mechanism:ts.abnormal_mechanism,attrs:{release:ts.release,environment:ts.environment,ip_address:ts.ipAddress,user_agent:ts.userAgent}})}const TRACE_FLAG_NONE=0,TRACE_FLAG_SAMPLED=1;function spanToTraceContext(ts){const{spanId:ns,traceId:rs}=ts.spanContext(),{data:is,op:os,parent_span_id:ss,status:as,tags:ls,origin:cs}=spanToJSON(ts);return dropUndefinedKeys({data:is,op:os,parent_span_id:ss,span_id:ns,status:as,tags:ls,trace_id:rs,origin:cs})}function spanToTraceHeader(ts){const{traceId:ns,spanId:rs}=ts.spanContext(),is=spanIsSampled(ts);return generateSentryTraceHeader(ns,rs,is)}function spanTimeInputToSeconds(ts){return typeof ts=="number"?ensureTimestampInSeconds(ts):Array.isArray(ts)?ts[0]+ts[1]/1e9:ts instanceof Date?ensureTimestampInSeconds(ts.getTime()):timestampInSeconds()}function ensureTimestampInSeconds(ts){return ts>9999999999?ts/1e3:ts}function spanToJSON(ts){return spanIsSpanClass(ts)?ts.getSpanJSON():typeof ts.toJSON=="function"?ts.toJSON():{}}function spanIsSpanClass(ts){return typeof ts.getSpanJSON=="function"}function spanIsSampled(ts){const{traceFlags:ns}=ts.spanContext();return!!(ns&TRACE_FLAG_SAMPLED)}function prepareEvent(ts,ns,rs,is,os,ss){const{normalizeDepth:as=3,normalizeMaxBreadth:ls=1e3}=ts,cs={...ns,event_id:ns.event_id||rs.event_id||uuid4(),timestamp:ns.timestamp||dateTimestampInSeconds()},us=rs.integrations||ts.integrations.map(vs=>vs.name);applyClientOptions(cs,ts),applyIntegrationsMetadata(cs,us),ns.type===void 0&&applyDebugIds(cs,ts.stackParser);const ds=getFinalScope(is,rs.captureContext);rs.mechanism&&addExceptionMechanism(cs,rs.mechanism);const ps=os&&os.getEventProcessors?os.getEventProcessors():[],hs=getGlobalScope().getScopeData();if(ss){const vs=ss.getScopeData();mergeScopeData(hs,vs)}if(ds){const vs=ds.getScopeData();mergeScopeData(hs,vs)}const ms=[...rs.attachments||[],...hs.attachments];ms.length&&(rs.attachments=ms),applyScopeDataToEvent(cs,hs);const gs=[...ps,...getGlobalEventProcessors(),...hs.eventProcessors];return notifyEventProcessors(gs,cs,rs).then(vs=>(vs&&applyDebugMeta(vs),typeof as=="number"&&as>0?normalizeEvent(vs,as,ls):vs))}function applyClientOptions(ts,ns){const{environment:rs,release:is,dist:os,maxValueLength:ss=250}=ns;"environment"in ts||(ts.environment="environment"in ns?rs:DEFAULT_ENVIRONMENT),ts.release===void 0&&is!==void 0&&(ts.release=is),ts.dist===void 0&&os!==void 0&&(ts.dist=os),ts.message&&(ts.message=truncate(ts.message,ss));const as=ts.exception&&ts.exception.values&&ts.exception.values[0];as&&as.value&&(as.value=truncate(as.value,ss));const ls=ts.request;ls&&ls.url&&(ls.url=truncate(ls.url,ss))}const debugIdStackParserCache=new WeakMap;function applyDebugIds(ts,ns){const rs=GLOBAL_OBJ._sentryDebugIds;if(!rs)return;let is;const os=debugIdStackParserCache.get(ns);os?is=os:(is=new Map,debugIdStackParserCache.set(ns,is));const ss=Object.keys(rs).reduce((as,ls)=>{let cs;const us=is.get(ls);us?cs=us:(cs=ns(ls),is.set(ls,cs));for(let ds=cs.length-1;ds>=0;ds--){const ps=cs[ds];if(ps.filename){as[ps.filename]=rs[ls];break}}return as},{});try{ts.exception.values.forEach(as=>{as.stacktrace.frames.forEach(ls=>{ls.filename&&(ls.debug_id=ss[ls.filename])})})}catch{}}function applyDebugMeta(ts){const ns={};try{ts.exception.values.forEach(is=>{is.stacktrace.frames.forEach(os=>{os.debug_id&&(os.abs_path?ns[os.abs_path]=os.debug_id:os.filename&&(ns[os.filename]=os.debug_id),delete os.debug_id)})})}catch{}if(Object.keys(ns).length===0)return;ts.debug_meta=ts.debug_meta||{},ts.debug_meta.images=ts.debug_meta.images||[];const rs=ts.debug_meta.images;Object.keys(ns).forEach(is=>{rs.push({type:"sourcemap",code_file:is,debug_id:ns[is]})})}function applyIntegrationsMetadata(ts,ns){ns.length>0&&(ts.sdk=ts.sdk||{},ts.sdk.integrations=[...ts.sdk.integrations||[],...ns])}function normalizeEvent(ts,ns,rs){if(!ts)return null;const is={...ts,...ts.breadcrumbs&&{breadcrumbs:ts.breadcrumbs.map(os=>({...os,...os.data&&{data:normalize(os.data,ns,rs)}}))},...ts.user&&{user:normalize(ts.user,ns,rs)},...ts.contexts&&{contexts:normalize(ts.contexts,ns,rs)},...ts.extra&&{extra:normalize(ts.extra,ns,rs)}};return ts.contexts&&ts.contexts.trace&&is.contexts&&(is.contexts.trace=ts.contexts.trace,ts.contexts.trace.data&&(is.contexts.trace.data=normalize(ts.contexts.trace.data,ns,rs))),ts.spans&&(is.spans=ts.spans.map(os=>{const ss=spanToJSON(os).data;return ss&&(os.data=normalize(ss,ns,rs)),os})),is}function getFinalScope(ts,ns){if(!ns)return ts;const rs=ts?ts.clone():new Scope;return rs.update(ns),rs}function parseEventHintOrCaptureContext(ts){if(ts)return hintIsScopeOrFunction(ts)?{captureContext:ts}:hintIsScopeContext(ts)?{captureContext:ts}:ts}function hintIsScopeOrFunction(ts){return ts instanceof Scope||typeof ts=="function"}const captureContextKeys=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function hintIsScopeContext(ts){return Object.keys(ts).some(ns=>captureContextKeys.includes(ns))}function captureException(ts,ns){return getCurrentHub().captureException(ts,parseEventHintOrCaptureContext(ns))}function captureEvent(ts,ns){return getCurrentHub().captureEvent(ts,ns)}function addBreadcrumb(ts,ns){getCurrentHub().addBreadcrumb(ts,ns)}function setContext(ts,ns){getCurrentHub().setContext(ts,ns)}function withScope(...ts){const ns=getCurrentHub();if(ts.length===2){const[rs,is]=ts;return rs?ns.withScope(()=>(ns.getStackTop().scope=rs,is(rs))):ns.withScope(is)}return ns.withScope(ts[0])}function getClient(){return getCurrentHub().getClient()}function getCurrentScope(){return getCurrentHub().getScope()}function startSession(ts){const ns=getClient(),rs=getIsolationScope(),is=getCurrentScope(),{release:os,environment:ss=DEFAULT_ENVIRONMENT}=ns&&ns.getOptions()||{},{userAgent:as}=GLOBAL_OBJ.navigator||{},ls=makeSession$1({release:os,environment:ss,user:is.getUser()||rs.getUser(),...as&&{userAgent:as},...ts}),cs=rs.getSession();return cs&&cs.status==="ok"&&updateSession(cs,{status:"exited"}),endSession(),rs.setSession(ls),is.setSession(ls),ls}function endSession(){const ts=getIsolationScope(),ns=getCurrentScope(),rs=ns.getSession()||ts.getSession();rs&&closeSession(rs),_sendSessionUpdate(),ts.setSession(),ns.setSession()}function _sendSessionUpdate(){const ts=getIsolationScope(),ns=getCurrentScope(),rs=getClient(),is=ns.getSession()||ts.getSession();is&&rs&&rs.captureSession&&rs.captureSession(is)}function captureSession(ts=!1){if(ts){endSession();return}_sendSessionUpdate()}function getRootSpan(ts){return ts.transaction}function getDynamicSamplingContextFromClient(ts,ns,rs){const is=ns.getOptions(),{publicKey:os}=ns.getDsn()||{},{segment:ss}=rs&&rs.getUser()||{},as=dropUndefinedKeys({environment:is.environment||DEFAULT_ENVIRONMENT,release:is.release,user_segment:ss,public_key:os,trace_id:ts});return ns.emit&&ns.emit("createDsc",as),as}function getDynamicSamplingContextFromSpan(ts){const ns=getClient();if(!ns)return{};const rs=getDynamicSamplingContextFromClient(spanToJSON(ts).trace_id||"",ns,getCurrentScope()),is=getRootSpan(ts);if(!is)return rs;const os=is&&is._frozenDynamicSamplingContext;if(os)return os;const{sampleRate:ss,source:as}=is.metadata;ss!=null&&(rs.sample_rate="".concat(ss));const ls=spanToJSON(is);return as&&as!=="url"&&(rs.transaction=ls.description),rs.sampled=String(spanIsSampled(is)),ns.emit&&ns.emit("createDsc",rs),rs}function applyScopeDataToEvent(ts,ns){const{fingerprint:rs,span:is,breadcrumbs:os,sdkProcessingMetadata:ss}=ns;applyDataToEvent(ts,ns),is&&applySpanToEvent(ts,is),applyFingerprintToEvent(ts,rs),applyBreadcrumbsToEvent(ts,os),applySdkMetadataToEvent(ts,ss)}function mergeScopeData(ts,ns){const{extra:rs,tags:is,user:os,contexts:ss,level:as,sdkProcessingMetadata:ls,breadcrumbs:cs,fingerprint:us,eventProcessors:ds,attachments:ps,propagationContext:hs,transactionName:ms,span:gs}=ns;mergeAndOverwriteScopeData(ts,"extra",rs),mergeAndOverwriteScopeData(ts,"tags",is),mergeAndOverwriteScopeData(ts,"user",os),mergeAndOverwriteScopeData(ts,"contexts",ss),mergeAndOverwriteScopeData(ts,"sdkProcessingMetadata",ls),as&&(ts.level=as),ms&&(ts.transactionName=ms),gs&&(ts.span=gs),cs.length&&(ts.breadcrumbs=[...ts.breadcrumbs,...cs]),us.length&&(ts.fingerprint=[...ts.fingerprint,...us]),ds.length&&(ts.eventProcessors=[...ts.eventProcessors,...ds]),ps.length&&(ts.attachments=[...ts.attachments,...ps]),ts.propagationContext={...ts.propagationContext,...hs}}function mergeAndOverwriteScopeData(ts,ns,rs){if(rs&&Object.keys(rs).length){ts[ns]={...ts[ns]};for(const is in rs)Object.prototype.hasOwnProperty.call(rs,is)&&(ts[ns][is]=rs[is])}}function applyDataToEvent(ts,ns){const{extra:rs,tags:is,user:os,contexts:ss,level:as,transactionName:ls}=ns,cs=dropUndefinedKeys(rs);cs&&Object.keys(cs).length&&(ts.extra={...cs,...ts.extra});const us=dropUndefinedKeys(is);us&&Object.keys(us).length&&(ts.tags={...us,...ts.tags});const ds=dropUndefinedKeys(os);ds&&Object.keys(ds).length&&(ts.user={...ds,...ts.user});const ps=dropUndefinedKeys(ss);ps&&Object.keys(ps).length&&(ts.contexts={...ps,...ts.contexts}),as&&(ts.level=as),ls&&(ts.transaction=ls)}function applyBreadcrumbsToEvent(ts,ns){const rs=[...ts.breadcrumbs||[],...ns];ts.breadcrumbs=rs.length?rs:void 0}function applySdkMetadataToEvent(ts,ns){ts.sdkProcessingMetadata={...ts.sdkProcessingMetadata,...ns}}function applySpanToEvent(ts,ns){ts.contexts={trace:spanToTraceContext(ns),...ts.contexts};const rs=getRootSpan(ns);if(rs){ts.sdkProcessingMetadata={dynamicSamplingContext:getDynamicSamplingContextFromSpan(ns),...ts.sdkProcessingMetadata};const is=spanToJSON(rs).description;is&&(ts.tags={transaction:is,...ts.tags})}}function applyFingerprintToEvent(ts,ns){ts.fingerprint=ts.fingerprint?arrayify(ts.fingerprint):[],ns&&(ts.fingerprint=ts.fingerprint.concat(ns)),ts.fingerprint&&!ts.fingerprint.length&&delete ts.fingerprint}const DEFAULT_MAX_BREADCRUMBS=100;let globalScope;class Scope{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=generatePropagationContext()}static clone(ns){return ns?ns.clone():new Scope}clone(){const ns=new Scope;return ns._breadcrumbs=[...this._breadcrumbs],ns._tags={...this._tags},ns._extra={...this._extra},ns._contexts={...this._contexts},ns._user=this._user,ns._level=this._level,ns._span=this._span,ns._session=this._session,ns._transactionName=this._transactionName,ns._fingerprint=this._fingerprint,ns._eventProcessors=[...this._eventProcessors],ns._requestSession=this._requestSession,ns._attachments=[...this._attachments],ns._sdkProcessingMetadata={...this._sdkProcessingMetadata},ns._propagationContext={...this._propagationContext},ns._client=this._client,ns}setClient(ns){this._client=ns}getClient(){return this._client}addScopeListener(ns){this._scopeListeners.push(ns)}addEventProcessor(ns){return this._eventProcessors.push(ns),this}setUser(ns){return this._user=ns||{email:void 0,id:void 0,ip_address:void 0,segment:void 0,username:void 0},this._session&&updateSession(this._session,{user:ns}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(ns){return this._requestSession=ns,this}setTags(ns){return this._tags={...this._tags,...ns},this._notifyScopeListeners(),this}setTag(ns,rs){return this._tags={...this._tags,[ns]:rs},this._notifyScopeListeners(),this}setExtras(ns){return this._extra={...this._extra,...ns},this._notifyScopeListeners(),this}setExtra(ns,rs){return this._extra={...this._extra,[ns]:rs},this._notifyScopeListeners(),this}setFingerprint(ns){return this._fingerprint=ns,this._notifyScopeListeners(),this}setLevel(ns){return this._level=ns,this._notifyScopeListeners(),this}setTransactionName(ns){return this._transactionName=ns,this._notifyScopeListeners(),this}setContext(ns,rs){return rs===null?delete this._contexts[ns]:this._contexts[ns]=rs,this._notifyScopeListeners(),this}setSpan(ns){return this._span=ns,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const ns=this._span;return ns&&ns.transaction}setSession(ns){return ns?this._session=ns:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(ns){if(!ns)return this;const rs=typeof ns=="function"?ns(this):ns;if(rs instanceof Scope){const is=rs.getScopeData();this._tags={...this._tags,...is.tags},this._extra={...this._extra,...is.extra},this._contexts={...this._contexts,...is.contexts},is.user&&Object.keys(is.user).length&&(this._user=is.user),is.level&&(this._level=is.level),is.fingerprint.length&&(this._fingerprint=is.fingerprint),rs.getRequestSession()&&(this._requestSession=rs.getRequestSession()),is.propagationContext&&(this._propagationContext=is.propagationContext)}else if(isPlainObject(rs)){const is=ns;this._tags={...this._tags,...is.tags},this._extra={...this._extra,...is.extra},this._contexts={...this._contexts,...is.contexts},is.user&&(this._user=is.user),is.level&&(this._level=is.level),is.fingerprint&&(this._fingerprint=is.fingerprint),is.requestSession&&(this._requestSession=is.requestSession),is.propagationContext&&(this._propagationContext=is.propagationContext)}return this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=generatePropagationContext(),this}addBreadcrumb(ns,rs){const is=typeof rs=="number"?rs:DEFAULT_MAX_BREADCRUMBS;if(is<=0)return this;const os={timestamp:dateTimestampInSeconds(),...ns},ss=this._breadcrumbs;return ss.push(os),this._breadcrumbs=ss.length>is?ss.slice(-is):ss,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(ns){return this._attachments.push(ns),this}getAttachments(){return this.getScopeData().attachments}clearAttachments(){return this._attachments=[],this}getScopeData(){const{_breadcrumbs:ns,_attachments:rs,_contexts:is,_tags:os,_extra:ss,_user:as,_level:ls,_fingerprint:cs,_eventProcessors:us,_propagationContext:ds,_sdkProcessingMetadata:ps,_transactionName:hs,_span:ms}=this;return{breadcrumbs:ns,attachments:rs,contexts:is,tags:os,extra:ss,user:as,level:ls,fingerprint:cs||[],eventProcessors:us,propagationContext:ds,sdkProcessingMetadata:ps,transactionName:hs,span:ms}}applyToEvent(ns,rs={},is=[]){applyScopeDataToEvent(ns,this.getScopeData());const os=[...is,...getGlobalEventProcessors(),...this._eventProcessors];return notifyEventProcessors(os,ns,rs)}setSDKProcessingMetadata(ns){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...ns},this}setPropagationContext(ns){return this._propagationContext=ns,this}getPropagationContext(){return this._propagationContext}captureException(ns,rs){const is=rs&&rs.event_id?rs.event_id:uuid4();if(!this._client)return logger$5.warn("No client configured on scope - will not capture exception!"),is;const os=new Error("Sentry syntheticException");return this._client.captureException(ns,{originalException:ns,syntheticException:os,...rs,event_id:is},this),is}captureMessage(ns,rs,is){const os=is&&is.event_id?is.event_id:uuid4();if(!this._client)return logger$5.warn("No client configured on scope - will not capture message!"),os;const ss=new Error(ns);return this._client.captureMessage(ns,rs,{originalException:ns,syntheticException:ss,...is,event_id:os},this),os}captureEvent(ns,rs){const is=rs&&rs.event_id?rs.event_id:uuid4();return this._client?(this._client.captureEvent(ns,{...rs,event_id:is},this),is):(logger$5.warn("No client configured on scope - will not capture event!"),is)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(ns=>{ns(this)}),this._notifyingListeners=!1)}}function getGlobalScope(){return globalScope||(globalScope=new Scope),globalScope}function generatePropagationContext(){return{traceId:uuid4(),spanId:uuid4().substring(16)}}const SDK_VERSION="7.118.0",API_VERSION=parseFloat(SDK_VERSION),DEFAULT_BREADCRUMBS=100;class Hub{constructor(ns,rs,is,os=API_VERSION){this._version=os;let ss;rs?ss=rs:(ss=new Scope,ss.setClient(ns));let as;is?as=is:(as=new Scope,as.setClient(ns)),this._stack=[{scope:ss}],ns&&this.bindClient(ns),this._isolationScope=as}isOlderThan(ns){return this._version<ns}bindClient(ns){const rs=this.getStackTop();rs.client=ns,rs.scope.setClient(ns),ns&&ns.setupIntegrations&&ns.setupIntegrations()}pushScope(){const ns=this.getScope().clone();return this.getStack().push({client:this.getClient(),scope:ns}),ns}popScope(){return this.getStack().length<=1?!1:!!this.getStack().pop()}withScope(ns){const rs=this.pushScope();let is;try{is=ns(rs)}catch(os){throw this.popScope(),os}return isThenable(is)?is.then(os=>(this.popScope(),os),os=>{throw this.popScope(),os}):(this.popScope(),is)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(ns,rs){const is=this._lastEventId=rs&&rs.event_id?rs.event_id:uuid4(),os=new Error("Sentry syntheticException");return this.getScope().captureException(ns,{originalException:ns,syntheticException:os,...rs,event_id:is}),is}captureMessage(ns,rs,is){const os=this._lastEventId=is&&is.event_id?is.event_id:uuid4(),ss=new Error(ns);return this.getScope().captureMessage(ns,rs,{originalException:ns,syntheticException:ss,...is,event_id:os}),os}captureEvent(ns,rs){const is=rs&&rs.event_id?rs.event_id:uuid4();return ns.type||(this._lastEventId=is),this.getScope().captureEvent(ns,{...rs,event_id:is}),is}lastEventId(){return this._lastEventId}addBreadcrumb(ns,rs){const{scope:is,client:os}=this.getStackTop();if(!os)return;const{beforeBreadcrumb:ss=null,maxBreadcrumbs:as=DEFAULT_BREADCRUMBS}=os.getOptions&&os.getOptions()||{};if(as<=0)return;const cs={timestamp:dateTimestampInSeconds(),...ns},us=ss?consoleSandbox(()=>ss(cs,rs)):cs;us!==null&&(os.emit&&os.emit("beforeAddBreadcrumb",us,rs),is.addBreadcrumb(us,as))}setUser(ns){this.getScope().setUser(ns),this.getIsolationScope().setUser(ns)}setTags(ns){this.getScope().setTags(ns),this.getIsolationScope().setTags(ns)}setExtras(ns){this.getScope().setExtras(ns),this.getIsolationScope().setExtras(ns)}setTag(ns,rs){this.getScope().setTag(ns,rs),this.getIsolationScope().setTag(ns,rs)}setExtra(ns,rs){this.getScope().setExtra(ns,rs),this.getIsolationScope().setExtra(ns,rs)}setContext(ns,rs){this.getScope().setContext(ns,rs),this.getIsolationScope().setContext(ns,rs)}configureScope(ns){const{scope:rs,client:is}=this.getStackTop();is&&ns(rs)}run(ns){const rs=makeMain(this);try{ns(this)}finally{makeMain(rs)}}getIntegration(ns){const rs=this.getClient();if(!rs)return null;try{return rs.getIntegration(ns)}catch{return DEBUG_BUILD$3&&logger$5.warn("Cannot retrieve integration ".concat(ns.id," from the current Hub")),null}}startTransaction(ns,rs){const is=this._callExtensionMethod("startTransaction",ns,rs);return DEBUG_BUILD$3&&!is&&(this.getClient()?logger$5.warn("Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':\nSentry.addTracingExtensions();\nSentry.init({...});\n"):logger$5.warn("Tracing extension 'startTransaction' is missing. You should 'init' the SDK before calling 'startTransaction'")),is}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(ns=!1){if(ns)return this.endSession();this._sendSessionUpdate()}endSession(){const rs=this.getStackTop().scope,is=rs.getSession();is&&closeSession(is),this._sendSessionUpdate(),rs.setSession()}startSession(ns){const{scope:rs,client:is}=this.getStackTop(),{release:os,environment:ss=DEFAULT_ENVIRONMENT}=is&&is.getOptions()||{},{userAgent:as}=GLOBAL_OBJ.navigator||{},ls=makeSession$1({release:os,environment:ss,user:rs.getUser(),...as&&{userAgent:as},...ns}),cs=rs.getSession&&rs.getSession();return cs&&cs.status==="ok"&&updateSession(cs,{status:"exited"}),this.endSession(),rs.setSession(ls),ls}shouldSendDefaultPii(){const ns=this.getClient(),rs=ns&&ns.getOptions();return!!(rs&&rs.sendDefaultPii)}_sendSessionUpdate(){const{scope:ns,client:rs}=this.getStackTop(),is=ns.getSession();is&&rs&&rs.captureSession&&rs.captureSession(is)}_callExtensionMethod(ns,...rs){const os=getMainCarrier().__SENTRY__;if(os&&os.extensions&&typeof os.extensions[ns]=="function")return os.extensions[ns].apply(this,rs);DEBUG_BUILD$3&&logger$5.warn("Extension method ".concat(ns," couldn't be found, doing nothing."))}}function getMainCarrier(){return GLOBAL_OBJ.__SENTRY__=GLOBAL_OBJ.__SENTRY__||{extensions:{},hub:void 0},GLOBAL_OBJ}function makeMain(ts){const ns=getMainCarrier(),rs=getHubFromCarrier(ns);return setHubOnCarrier(ns,ts),rs}function getCurrentHub(){const ts=getMainCarrier();if(ts.__SENTRY__&&ts.__SENTRY__.acs){const ns=ts.__SENTRY__.acs.getCurrentHub();if(ns)return ns}return getGlobalHub(ts)}function getIsolationScope(){return getCurrentHub().getIsolationScope()}function getGlobalHub(ts=getMainCarrier()){return(!hasHubOnCarrier(ts)||getHubFromCarrier(ts).isOlderThan(API_VERSION))&&setHubOnCarrier(ts,new Hub),getHubFromCarrier(ts)}function hasHubOnCarrier(ts){return!!(ts&&ts.__SENTRY__&&ts.__SENTRY__.hub)}function getHubFromCarrier(ts){return getGlobalSingleton("hub",()=>new Hub,ts)}function setHubOnCarrier(ts,ns){if(!ts)return!1;const rs=ts.__SENTRY__=ts.__SENTRY__||{};return rs.hub=ns,!0}function getActiveTransaction(ts){return(ts||getCurrentHub()).getScope().getTransaction()}let errorsInstrumented=!1;function registerErrorInstrumentation(){errorsInstrumented||(errorsInstrumented=!0,addGlobalErrorInstrumentationHandler(errorCallback),addGlobalUnhandledRejectionInstrumentationHandler(errorCallback))}function errorCallback(){const ts=getActiveTransaction();if(ts){const ns="internal_error";DEBUG_BUILD$3&&logger$5.log("[Tracing] Transaction: ".concat(ns," -> Global error occured")),ts.setStatus(ns)}}errorCallback.tag="sentry_tracingErrorCallback";var SpanStatus;(function(ts){const ns="ok";ts.Ok=ns;const rs="deadline_exceeded";ts.DeadlineExceeded=rs;const is="unauthenticated";ts.Unauthenticated=is;const os="permission_denied";ts.PermissionDenied=os;const ss="not_found";ts.NotFound=ss;const as="resource_exhausted";ts.ResourceExhausted=as;const ls="invalid_argument";ts.InvalidArgument=ls;const cs="unimplemented";ts.Unimplemented=cs;const us="unavailable";ts.Unavailable=us;const ds="internal_error";ts.InternalError=ds;const ps="unknown_error";ts.UnknownError=ps;const hs="cancelled";ts.Cancelled=hs;const ms="already_exists";ts.AlreadyExists=ms;const gs="failed_precondition";ts.FailedPrecondition=gs;const ys="aborted";ts.Aborted=ys;const vs="out_of_range";ts.OutOfRange=vs;const bs="data_loss";ts.DataLoss=bs})(SpanStatus||(SpanStatus={}));function getSpanStatusFromHttpCode(ts){if(ts<400&&ts>=100)return"ok";if(ts>=400&&ts<500)switch(ts){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(ts>=500&&ts<600)switch(ts){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}function setHttpStatus(ts,ns){ts.setTag("http.status_code",String(ns)),ts.setData("http.response.status_code",ns);const rs=getSpanStatusFromHttpCode(ns);rs!=="unknown_error"&&ts.setStatus(rs)}function hasTracingEnabled(ts){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const ns=getClient(),rs=ts||ns&&ns.getOptions();return!!rs&&(rs.enableTracing||"tracesSampleRate"in rs||"tracesSampler"in rs)}function startInactiveSpan(ts){if(!hasTracingEnabled())return;const ns=normalizeContext(ts),rs=getCurrentHub(),is=ts.scope?ts.scope.getSpan():getActiveSpan();if(ts.onlyIfParent&&!is)return;const as=(ts.scope||getCurrentScope()).clone();return createChildSpanOrTransaction(rs,{parentSpan:is,spanContext:ns,forceTransaction:ts.forceTransaction,scope:as})}function getActiveSpan(){return getCurrentScope().getSpan()}function createChildSpanOrTransaction(ts,{parentSpan:ns,spanContext:rs,forceTransaction:is,scope:os}){if(!hasTracingEnabled())return;const ss=getIsolationScope();let as;if(ns&&!is)as=ns.startChild(rs);else if(ns){const ls=getDynamicSamplingContextFromSpan(ns),{traceId:cs,spanId:us}=ns.spanContext(),ds=spanIsSampled(ns);as=ts.startTransaction({traceId:cs,parentSpanId:us,parentSampled:ds,...rs,metadata:{dynamicSamplingContext:ls,...rs.metadata}})}else{const{traceId:ls,dsc:cs,parentSpanId:us,sampled:ds}={...ss.getPropagationContext(),...os.getPropagationContext()};as=ts.startTransaction({traceId:ls,parentSpanId:us,parentSampled:ds,...rs,metadata:{dynamicSamplingContext:cs,...rs.metadata}})}return os.setSpan(as),setCapturedScopesOnSpan(as,os,ss),as}function normalizeContext(ts){if(ts.startTime){const ns={...ts};return ns.startTimestamp=spanTimeInputToSeconds(ts.startTime),delete ns.startTime,ns}return ts}const SCOPE_ON_START_SPAN_FIELD="_sentryScope",ISOLATION_SCOPE_ON_START_SPAN_FIELD="_sentryIsolationScope";function setCapturedScopesOnSpan(ts,ns,rs){ts&&(addNonEnumerableProperty(ts,ISOLATION_SCOPE_ON_START_SPAN_FIELD,rs),addNonEnumerableProperty(ts,SCOPE_ON_START_SPAN_FIELD,ns))}function getCapturedScopesOnSpan(ts){return{scope:ts[SCOPE_ON_START_SPAN_FIELD],isolationScope:ts[ISOLATION_SCOPE_ON_START_SPAN_FIELD]}}function getMetricSummaryJsonForSpan(ts){}const SEMANTIC_ATTRIBUTE_SENTRY_SOURCE="sentry.source",SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE="sentry.sample_rate",SEMANTIC_ATTRIBUTE_SENTRY_OP="sentry.op",SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN="sentry.origin",SEMANTIC_ATTRIBUTE_PROFILE_ID="profile_id";class SpanRecorder{constructor(ns=1e3){this._maxlen=ns,this.spans=[]}add(ns){this.spans.length>this._maxlen?ns.spanRecorder=void 0:this.spans.push(ns)}}class Span{constructor(ns={}){this._traceId=ns.traceId||uuid4(),this._spanId=ns.spanId||uuid4().substring(16),this._startTime=ns.startTimestamp||timestampInSeconds(),this.tags=ns.tags?{...ns.tags}:{},this.data=ns.data?{...ns.data}:{},this.instrumenter=ns.instrumenter||"sentry",this._attributes={},this.setAttributes({[SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:ns.origin||"manual",[SEMANTIC_ATTRIBUTE_SENTRY_OP]:ns.op,...ns.attributes}),this._name=ns.name||ns.description,ns.parentSpanId&&(this._parentSpanId=ns.parentSpanId),"sampled"in ns&&(this._sampled=ns.sampled),ns.status&&(this._status=ns.status),ns.endTimestamp&&(this._endTime=ns.endTimestamp),ns.exclusiveTime!==void 0&&(this._exclusiveTime=ns.exclusiveTime),this._measurements=ns.measurements?{...ns.measurements}:{}}get name(){return this._name||""}set name(ns){this.updateName(ns)}get description(){return this._name}set description(ns){this._name=ns}get traceId(){return this._traceId}set traceId(ns){this._traceId=ns}get spanId(){return this._spanId}set spanId(ns){this._spanId=ns}set parentSpanId(ns){this._parentSpanId=ns}get parentSpanId(){return this._parentSpanId}get sampled(){return this._sampled}set sampled(ns){this._sampled=ns}get attributes(){return this._attributes}set attributes(ns){this._attributes=ns}get startTimestamp(){return this._startTime}set startTimestamp(ns){this._startTime=ns}get endTimestamp(){return this._endTime}set endTimestamp(ns){this._endTime=ns}get status(){return this._status}set status(ns){this._status=ns}get op(){return this._attributes[SEMANTIC_ATTRIBUTE_SENTRY_OP]}set op(ns){this.setAttribute(SEMANTIC_ATTRIBUTE_SENTRY_OP,ns)}get origin(){return this._attributes[SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]}set origin(ns){this.setAttribute(SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN,ns)}spanContext(){const{_spanId:ns,_traceId:rs,_sampled:is}=this;return{spanId:ns,traceId:rs,traceFlags:is?TRACE_FLAG_SAMPLED:TRACE_FLAG_NONE}}startChild(ns){const rs=new Span({...ns,parentSpanId:this._spanId,sampled:this._sampled,traceId:this._traceId});rs.spanRecorder=this.spanRecorder,rs.spanRecorder&&rs.spanRecorder.add(rs);const is=getRootSpan(this);if(rs.transaction=is,DEBUG_BUILD$3&&is){const os=ns&&ns.op||"< unknown op >",ss=spanToJSON(rs).description||"< unknown name >",as=is.spanContext().spanId,ls="[Tracing] Starting '".concat(os,"' span on transaction '").concat(ss,"' (").concat(as,").");logger$5.log(ls),this._logMessage=ls}return rs}setTag(ns,rs){return this.tags={...this.tags,[ns]:rs},this}setData(ns,rs){return this.data={...this.data,[ns]:rs},this}setAttribute(ns,rs){rs===void 0?delete this._attributes[ns]:this._attributes[ns]=rs}setAttributes(ns){Object.keys(ns).forEach(rs=>this.setAttribute(rs,ns[rs]))}setStatus(ns){return this._status=ns,this}setHttpStatus(ns){return setHttpStatus(this,ns),this}setName(ns){this.updateName(ns)}updateName(ns){return this._name=ns,this}isSuccess(){return this._status==="ok"}finish(ns){return this.end(ns)}end(ns){if(this._endTime)return;const rs=getRootSpan(this);if(DEBUG_BUILD$3&&rs&&rs.spanContext().spanId!==this._spanId){const is=this._logMessage;is&&logger$5.log(is.replace("Starting","Finishing"))}this._endTime=spanTimeInputToSeconds(ns)}toTraceparent(){return spanToTraceHeader(this)}toContext(){return dropUndefinedKeys({data:this._getData(),description:this._name,endTimestamp:this._endTime,op:this.op,parentSpanId:this._parentSpanId,sampled:this._sampled,spanId:this._spanId,startTimestamp:this._startTime,status:this._status,tags:this.tags,traceId:this._traceId})}updateWithContext(ns){return this.data=ns.data||{},this._name=ns.name||ns.description,this._endTime=ns.endTimestamp,this.op=ns.op,this._parentSpanId=ns.parentSpanId,this._sampled=ns.sampled,this._spanId=ns.spanId||this._spanId,this._startTime=ns.startTimestamp||this._startTime,this._status=ns.status,this.tags=ns.tags||{},this._traceId=ns.traceId||this._traceId,this}getTraceContext(){return spanToTraceContext(this)}getSpanJSON(){return dropUndefinedKeys({data:this._getData(),description:this._name,op:this._attributes[SEMANTIC_ATTRIBUTE_SENTRY_OP],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:this._status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN],_metrics_summary:void 0,profile_id:this._attributes[SEMANTIC_ATTRIBUTE_PROFILE_ID],exclusive_time:this._exclusiveTime,measurements:Object.keys(this._measurements).length>0?this._measurements:void 0})}isRecording(){return!this._endTime&&!!this._sampled}toJSON(){return this.getSpanJSON()}_getData(){const{data:ns,_attributes:rs}=this,is=Object.keys(ns).length>0,os=Object.keys(rs).length>0;if(!(!is&&!os))return is&&os?{...ns,...rs}:is?ns:rs}}class Transaction extends Span{constructor(ns,rs){super(ns),this._contexts={},this._hub=rs||getCurrentHub(),this._name=ns.name||"",this._metadata={...ns.metadata},this._trimEnd=ns.trimEnd,this.transaction=this;const is=this._metadata.dynamicSamplingContext;is&&(this._frozenDynamicSamplingContext={...is})}get name(){return this._name}set name(ns){this.setName(ns)}get metadata(){return{source:"custom",spanMetadata:{},...this._metadata,...this._attributes[SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]&&{source:this._attributes[SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]},...this._attributes[SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE]&&{sampleRate:this._attributes[SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE]}}}set metadata(ns){this._metadata=ns}setName(ns,rs="custom"){this._name=ns,this.setAttribute(SEMANTIC_ATTRIBUTE_SENTRY_SOURCE,rs)}updateName(ns){return this._name=ns,this}initSpanRecorder(ns=1e3){this.spanRecorder||(this.spanRecorder=new SpanRecorder(ns)),this.spanRecorder.add(this)}setContext(ns,rs){rs===null?delete this._contexts[ns]:this._contexts[ns]=rs}setMeasurement(ns,rs,is=""){this._measurements[ns]={value:rs,unit:is}}setMetadata(ns){this._metadata={...this._metadata,...ns}}end(ns){const rs=spanTimeInputToSeconds(ns),is=this._finishTransaction(rs);if(is)return this._hub.captureEvent(is)}toContext(){const ns=super.toContext();return dropUndefinedKeys({...ns,name:this._name,trimEnd:this._trimEnd})}updateWithContext(ns){return super.updateWithContext(ns),this._name=ns.name||"",this._trimEnd=ns.trimEnd,this}getDynamicSamplingContext(){return getDynamicSamplingContextFromSpan(this)}setHub(ns){this._hub=ns}getProfileId(){if(this._contexts!==void 0&&this._contexts.profile!==void 0)return this._contexts.profile.profile_id}_finishTransaction(ns){if(this._endTime!==void 0)return;this._name||(DEBUG_BUILD$3&&logger$5.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>"),super.end(ns);const rs=this._hub.getClient();if(rs&&rs.emit&&rs.emit("finishTransaction",this),this._sampled!==!0){DEBUG_BUILD$3&&logger$5.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),rs&&rs.recordDroppedEvent("sample_rate","transaction");return}const is=this.spanRecorder?this.spanRecorder.spans.filter(ds=>ds!==this&&spanToJSON(ds).timestamp):[];if(this._trimEnd&&is.length>0){const ds=is.map(ps=>spanToJSON(ps).timestamp).filter(Boolean);this._endTime=ds.reduce((ps,hs)=>ps>hs?ps:hs)}const{scope:os,isolationScope:ss}=getCapturedScopesOnSpan(this),{metadata:as}=this,{source:ls}=as,cs={contexts:{...this._contexts,trace:spanToTraceContext(this)},spans:is,start_timestamp:this._startTime,tags:this.tags,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{...as,capturedSpanScope:os,capturedSpanIsolationScope:ss,...dropUndefinedKeys({dynamicSamplingContext:getDynamicSamplingContextFromSpan(this)})},_metrics_summary:void 0,...ls&&{transaction_info:{source:ls}}};return Object.keys(this._measurements).length>0&&(DEBUG_BUILD$3&&logger$5.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),cs.measurements=this._measurements),DEBUG_BUILD$3&&logger$5.log("[Tracing] Finishing ".concat(this.op," transaction: ").concat(this._name,".")),cs}}const TRACING_DEFAULTS={idleTimeout:1e3,finalTimeout:3e4,heartbeatInterval:5e3},FINISH_REASON_TAG="finishReason",IDLE_TRANSACTION_FINISH_REASONS=["heartbeatFailed","idleTimeout","documentHidden","finalTimeout","externalFinish","cancelled"];class IdleTransactionSpanRecorder extends SpanRecorder{constructor(ns,rs,is,os){super(os),this._pushActivity=ns,this._popActivity=rs,this.transactionSpanId=is}add(ns){if(ns.spanContext().spanId!==this.transactionSpanId){const rs=ns.end;ns.end=(...is)=>(this._popActivity(ns.spanContext().spanId),rs.apply(ns,is)),spanToJSON(ns).timestamp===void 0&&this._pushActivity(ns.spanContext().spanId)}super.add(ns)}}class IdleTransaction extends Transaction{constructor(ns,rs,is=TRACING_DEFAULTS.idleTimeout,os=TRACING_DEFAULTS.finalTimeout,ss=TRACING_DEFAULTS.heartbeatInterval,as=!1,ls=!1){super(ns,rs),this._idleHub=rs,this._idleTimeout=is,this._finalTimeout=os,this._heartbeatInterval=ss,this._onScope=as,this.activities={},this._heartbeatCounter=0,this._finished=!1,this._idleTimeoutCanceledPermanently=!1,this._beforeFinishCallbacks=[],this._finishReason=IDLE_TRANSACTION_FINISH_REASONS[4],this._autoFinishAllowed=!ls,as&&(DEBUG_BUILD$3&&logger$5.log("Setting idle transaction on scope. Span ID: ".concat(this.spanContext().spanId)),rs.getScope().setSpan(this)),ls||this._restartIdleTimeout(),setTimeout(()=>{this._finished||(this.setStatus("deadline_exceeded"),this._finishReason=IDLE_TRANSACTION_FINISH_REASONS[3],this.end())},this._finalTimeout)}end(ns){const rs=spanTimeInputToSeconds(ns);if(this._finished=!0,this.activities={},this.op==="ui.action.click"&&this.setAttribute(FINISH_REASON_TAG,this._finishReason),this.spanRecorder){DEBUG_BUILD$3&&logger$5.log("[Tracing] finishing IdleTransaction",new Date(rs*1e3).toISOString(),this.op);for(const is of this._beforeFinishCallbacks)is(this,rs);this.spanRecorder.spans=this.spanRecorder.spans.filter(is=>{if(is.spanContext().spanId===this.spanContext().spanId)return!0;spanToJSON(is).timestamp||(is.setStatus("cancelled"),is.end(rs),DEBUG_BUILD$3&&logger$5.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(is,void 0,2)));const{start_timestamp:os,timestamp:ss}=spanToJSON(is),as=os&&os<rs,ls=(this._finalTimeout+this._idleTimeout)/1e3,cs=ss&&os&&ss-os<ls;if(DEBUG_BUILD$3){const us=JSON.stringify(is,void 0,2);as?cs||logger$5.log("[Tracing] discarding Span since it finished after Transaction final timeout",us):logger$5.log("[Tracing] discarding Span since it happened after Transaction was finished",us)}return as&&cs}),DEBUG_BUILD$3&&logger$5.log("[Tracing] flushing IdleTransaction")}else DEBUG_BUILD$3&&logger$5.log("[Tracing] No active IdleTransaction");if(this._onScope){const is=this._idleHub.getScope();is.getTransaction()===this&&is.setSpan(void 0)}return super.end(ns)}registerBeforeFinishCallback(ns){this._beforeFinishCallbacks.push(ns)}initSpanRecorder(ns){if(!this.spanRecorder){const rs=os=>{this._finished||this._pushActivity(os)},is=os=>{this._finished||this._popActivity(os)};this.spanRecorder=new IdleTransactionSpanRecorder(rs,is,this.spanContext().spanId,ns),DEBUG_BUILD$3&&logger$5.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)}cancelIdleTimeout(ns,{restartOnChildSpanChange:rs}={restartOnChildSpanChange:!0}){this._idleTimeoutCanceledPermanently=rs===!1,this._idleTimeoutID&&(clearTimeout(this._idleTimeoutID),this._idleTimeoutID=void 0,Object.keys(this.activities).length===0&&this._idleTimeoutCanceledPermanently&&(this._finishReason=IDLE_TRANSACTION_FINISH_REASONS[5],this.end(ns)))}setFinishReason(ns){this._finishReason=ns}sendAutoFinishSignal(){this._autoFinishAllowed||(DEBUG_BUILD$3&&logger$5.log("[Tracing] Received finish signal for idle transaction."),this._restartIdleTimeout(),this._autoFinishAllowed=!0)}_restartIdleTimeout(ns){this.cancelIdleTimeout(),this._idleTimeoutID=setTimeout(()=>{!this._finished&&Object.keys(this.activities).length===0&&(this._finishReason=IDLE_TRANSACTION_FINISH_REASONS[1],this.end(ns))},this._idleTimeout)}_pushActivity(ns){this.cancelIdleTimeout(void 0,{restartOnChildSpanChange:!this._idleTimeoutCanceledPermanently}),DEBUG_BUILD$3&&logger$5.log("[Tracing] pushActivity: ".concat(ns)),this.activities[ns]=!0,DEBUG_BUILD$3&&logger$5.log("[Tracing] new activities count",Object.keys(this.activities).length)}_popActivity(ns){if(this.activities[ns]&&(DEBUG_BUILD$3&&logger$5.log("[Tracing] popActivity ".concat(ns)),delete this.activities[ns],DEBUG_BUILD$3&&logger$5.log("[Tracing] new activities count",Object.keys(this.activities).length)),Object.keys(this.activities).length===0){const rs=timestampInSeconds();this._idleTimeoutCanceledPermanently?this._autoFinishAllowed&&(this._finishReason=IDLE_TRANSACTION_FINISH_REASONS[5],this.end(rs)):this._restartIdleTimeout(rs+this._idleTimeout/1e3)}}_beat(){if(this._finished)return;const ns=Object.keys(this.activities).join("");ns===this._prevHeartbeatString?this._heartbeatCounter++:this._heartbeatCounter=1,this._prevHeartbeatString=ns,this._heartbeatCounter>=3?this._autoFinishAllowed&&(DEBUG_BUILD$3&&logger$5.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this._finishReason=IDLE_TRANSACTION_FINISH_REASONS[0],this.end()):this._pingHeartbeat()}_pingHeartbeat(){DEBUG_BUILD$3&&logger$5.log("pinging Heartbeat -> current counter: ".concat(this._heartbeatCounter)),setTimeout(()=>{this._beat()},this._heartbeatInterval)}}function sampleTransaction(ts,ns,rs){if(!hasTracingEnabled(ns))return ts.sampled=!1,ts;if(ts.sampled!==void 0)return ts.setAttribute(SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE,Number(ts.sampled)),ts;let is;return typeof ns.tracesSampler=="function"?(is=ns.tracesSampler(rs),ts.setAttribute(SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE,Number(is))):rs.parentSampled!==void 0?is=rs.parentSampled:typeof ns.tracesSampleRate<"u"?(is=ns.tracesSampleRate,ts.setAttribute(SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE,Number(is))):(is=1,ts.setAttribute(SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE,is)),isValidSampleRate(is)?is?(ts.sampled=Math.random()<is,ts.sampled?(DEBUG_BUILD$3&&logger$5.log("[Tracing] starting ".concat(ts.op," transaction - ").concat(spanToJSON(ts).description)),ts):(DEBUG_BUILD$3&&logger$5.log("[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ".concat(Number(is),")")),ts)):(DEBUG_BUILD$3&&logger$5.log("[Tracing] Discarding transaction because ".concat(typeof ns.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),ts.sampled=!1,ts):(DEBUG_BUILD$3&&logger$5.warn("[Tracing] Discarding transaction because of invalid sample rate."),ts.sampled=!1,ts)}function isValidSampleRate(ts){return isNaN$1(ts)||!(typeof ts=="number"||typeof ts=="boolean")?(DEBUG_BUILD$3&&logger$5.warn("[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ".concat(JSON.stringify(ts)," of type ").concat(JSON.stringify(typeof ts),".")),!1):ts<0||ts>1?(DEBUG_BUILD$3&&logger$5.warn("[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ".concat(ts,".")),!1):!0}function traceHeaders(){const ns=this.getScope().getSpan();return ns?{"sentry-trace":spanToTraceHeader(ns)}:{}}function _startTransaction(ts,ns){const rs=this.getClient(),is=rs&&rs.getOptions()||{},os=is.instrumenter||"sentry",ss=ts.instrumenter||"sentry";os!==ss&&(DEBUG_BUILD$3&&logger$5.error("A transaction was started with instrumenter=`".concat(ss,"`, but the SDK is configured with the `").concat(os,"` instrumenter.\nThe transaction will not be sampled. Please use the ").concat(os," instrumentation to start transactions.")),ts.sampled=!1);let as=new Transaction(ts,this);return as=sampleTransaction(as,is,{name:ts.name,parentSampled:ts.parentSampled,transactionContext:ts,attributes:{...ts.data,...ts.attributes},...ns}),as.isRecording()&&as.initSpanRecorder(is._experiments&&is._experiments.maxSpans),rs&&rs.emit&&rs.emit("startTransaction",as),as}function startIdleTransaction(ts,ns,rs,is,os,ss,as,ls=!1){const cs=ts.getClient(),us=cs&&cs.getOptions()||{};let ds=new IdleTransaction(ns,ts,rs,is,as,os,ls);return ds=sampleTransaction(ds,us,{name:ns.name,parentSampled:ns.parentSampled,transactionContext:ns,attributes:{...ns.data,...ns.attributes},...ss}),ds.isRecording()&&ds.initSpanRecorder(us._experiments&&us._experiments.maxSpans),cs&&cs.emit&&cs.emit("startTransaction",ds),ds}function addTracingExtensions(){const ts=getMainCarrier();ts.__SENTRY__&&(ts.__SENTRY__.extensions=ts.__SENTRY__.extensions||{},ts.__SENTRY__.extensions.startTransaction||(ts.__SENTRY__.extensions.startTransaction=_startTransaction),ts.__SENTRY__.extensions.traceHeaders||(ts.__SENTRY__.extensions.traceHeaders=traceHeaders),registerErrorInstrumentation())}function setMeasurement(ts,ns,rs){const is=getActiveTransaction();is&&is.setMeasurement(ts,ns,rs)}function enhanceEventWithSdkInfo(ts,ns){return ns&&(ts.sdk=ts.sdk||{},ts.sdk.name=ts.sdk.name||ns.name,ts.sdk.version=ts.sdk.version||ns.version,ts.sdk.integrations=[...ts.sdk.integrations||[],...ns.integrations||[]],ts.sdk.packages=[...ts.sdk.packages||[],...ns.packages||[]]),ts}function createSessionEnvelope(ts,ns,rs,is){const os=getSdkMetadataForEnvelopeHeader(rs),ss={sent_at:new Date().toISOString(),...os&&{sdk:os},...!!is&&ns&&{dsn:dsnToString(ns)}},as="aggregates"in ts?[{type:"sessions"},ts]:[{type:"session"},ts.toJSON()];return createEnvelope(ss,[as])}function createEventEnvelope(ts,ns,rs,is){const os=getSdkMetadataForEnvelopeHeader(rs),ss=ts.type&&ts.type!=="replay_event"?ts.type:"event";enhanceEventWithSdkInfo(ts,rs&&rs.sdk);const as=createEventEnvelopeHeaders(ts,os,is,ns);return delete ts.sdkProcessingMetadata,createEnvelope(as,[[{type:ss},ts]])}const SENTRY_API_VERSION="7";function getBaseApiEndpoint(ts){const ns=ts.protocol?"".concat(ts.protocol,":"):"",rs=ts.port?":".concat(ts.port):"";return"".concat(ns,"//").concat(ts.host).concat(rs).concat(ts.path?"/".concat(ts.path):"","/api/")}function _getIngestEndpoint(ts){return"".concat(getBaseApiEndpoint(ts)).concat(ts.projectId,"/envelope/")}function _encodedAuth(ts,ns){return urlEncode({sentry_key:ts.publicKey,sentry_version:SENTRY_API_VERSION,...ns&&{sentry_client:"".concat(ns.name,"/").concat(ns.version)}})}function getEnvelopeEndpointWithUrlEncodedAuth(ts,ns={}){const rs=typeof ns=="string"?ns:ns.tunnel,is=typeof ns=="string"||!ns._metadata?void 0:ns._metadata.sdk;return rs||"".concat(_getIngestEndpoint(ts),"?").concat(_encodedAuth(ts,is))}const installedIntegrations=[];function filterDuplicates(ts){const ns={};return ts.forEach(rs=>{const{name:is}=rs,os=ns[is];os&&!os.isDefaultInstance&&rs.isDefaultInstance||(ns[is]=rs)}),Object.keys(ns).map(rs=>ns[rs])}function getIntegrationsToSetup(ts){const ns=ts.defaultIntegrations||[],rs=ts.integrations;ns.forEach(as=>{as.isDefaultInstance=!0});let is;Array.isArray(rs)?is=[...ns,...rs]:typeof rs=="function"?is=arrayify(rs(ns)):is=ns;const os=filterDuplicates(is),ss=findIndex(os,as=>as.name==="Debug");if(ss!==-1){const[as]=os.splice(ss,1);os.push(as)}return os}function setupIntegrations(ts,ns){const rs={};return ns.forEach(is=>{is&&setupIntegration(ts,is,rs)}),rs}function afterSetupIntegrations(ts,ns){for(const rs of ns)rs&&rs.afterAllSetup&&rs.afterAllSetup(ts)}function setupIntegration(ts,ns,rs){if(rs[ns.name]){DEBUG_BUILD$3&&logger$5.log("Integration skipped because it was already installed: ".concat(ns.name));return}if(rs[ns.name]=ns,installedIntegrations.indexOf(ns.name)===-1&&(ns.setupOnce(addGlobalEventProcessor,getCurrentHub),installedIntegrations.push(ns.name)),ns.setup&&typeof ns.setup=="function"&&ns.setup(ts),ts.on&&typeof ns.preprocessEvent=="function"){const is=ns.preprocessEvent.bind(ns);ts.on("preprocessEvent",(os,ss)=>is(os,ss,ts))}if(ts.addEventProcessor&&typeof ns.processEvent=="function"){const is=ns.processEvent.bind(ns),os=Object.assign((ss,as)=>is(ss,as,ts),{id:ns.name});ts.addEventProcessor(os)}DEBUG_BUILD$3&&logger$5.log("Integration installed: ".concat(ns.name))}function findIndex(ts,ns){for(let rs=0;rs<ts.length;rs++)if(ns(ts[rs])===!0)return rs;return-1}function convertIntegrationFnToClass(ts,ns){return Object.assign(function(...is){return ns(...is)},{id:ts})}function defineIntegration(ts){return ts}function serializeMetricBuckets(ts){let ns="";for(const rs of ts){const is=Object.entries(rs.tags),os=is.length>0?"|#".concat(is.map(([ss,as])=>"".concat(ss,":").concat(as)).join(",")):"";ns+="".concat(rs.name,"@").concat(rs.unit,":").concat(rs.metric,"|").concat(rs.metricType).concat(os,"|T").concat(rs.timestamp,"\n")}return ns}function createMetricEnvelope(ts,ns,rs,is){const os={sent_at:new Date().toISOString()};rs&&rs.sdk&&(os.sdk={name:rs.sdk.name,version:rs.sdk.version}),is&&ns&&(os.dsn=dsnToString(ns));const ss=createMetricEnvelopeItem(ts);return createEnvelope(os,[ss])}function createMetricEnvelopeItem(ts){const ns=serializeMetricBuckets(ts);return[{type:"statsd",length:ns.length},ns]}const ALREADY_SEEN_ERROR="Not capturing exception because it's already been captured.";class BaseClient{constructor(ns){if(this._options=ns,this._integrations={},this._integrationsInitialized=!1,this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],ns.dsn?this._dsn=makeDsn(ns.dsn):DEBUG_BUILD$3&&logger$5.warn("No DSN provided, client will not send events."),this._dsn){const rs=getEnvelopeEndpointWithUrlEncodedAuth(this._dsn,ns);this._transport=ns.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...ns.transportOptions,url:rs})}}captureException(ns,rs,is){if(checkOrSetAlreadyCaught(ns)){DEBUG_BUILD$3&&logger$5.log(ALREADY_SEEN_ERROR);return}let os=rs&&rs.event_id;return this._process(this.eventFromException(ns,rs).then(ss=>this._captureEvent(ss,rs,is)).then(ss=>{os=ss})),os}captureMessage(ns,rs,is,os){let ss=is&&is.event_id;const as=isParameterizedString(ns)?ns:String(ns),ls=isPrimitive$1(ns)?this.eventFromMessage(as,rs,is):this.eventFromException(ns,is);return this._process(ls.then(cs=>this._captureEvent(cs,is,os)).then(cs=>{ss=cs})),ss}captureEvent(ns,rs,is){if(rs&&rs.originalException&&checkOrSetAlreadyCaught(rs.originalException)){DEBUG_BUILD$3&&logger$5.log(ALREADY_SEEN_ERROR);return}let os=rs&&rs.event_id;const as=(ns.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(ns,rs,as||is).then(ls=>{os=ls})),os}captureSession(ns){typeof ns.release!="string"?DEBUG_BUILD$3&&logger$5.warn("Discarded session because of missing or non-string release"):(this.sendSession(ns),updateSession(ns,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(ns){const rs=this._transport;return rs?(this.metricsAggregator&&this.metricsAggregator.flush(),this._isClientDoneProcessing(ns).then(is=>rs.flush(ns).then(os=>is&&os))):resolvedSyncPromise(!0)}close(ns){return this.flush(ns).then(rs=>(this.getOptions().enabled=!1,this.metricsAggregator&&this.metricsAggregator.close(),rs))}getEventProcessors(){return this._eventProcessors}addEventProcessor(ns){this._eventProcessors.push(ns)}setupIntegrations(ns){(ns&&!this._integrationsInitialized||this._isEnabled()&&!this._integrationsInitialized)&&this._setupIntegrations()}init(){this._isEnabled()&&this._setupIntegrations()}getIntegrationById(ns){return this.getIntegrationByName(ns)}getIntegrationByName(ns){return this._integrations[ns]}getIntegration(ns){try{return this._integrations[ns.id]||null}catch{return DEBUG_BUILD$3&&logger$5.warn("Cannot retrieve integration ".concat(ns.id," from the current Client")),null}}addIntegration(ns){const rs=this._integrations[ns.name];setupIntegration(this,ns,this._integrations),rs||afterSetupIntegrations(this,[ns])}sendEvent(ns,rs={}){this.emit("beforeSendEvent",ns,rs);let is=createEventEnvelope(ns,this._dsn,this._options._metadata,this._options.tunnel);for(const ss of rs.attachments||[])is=addItemToEnvelope(is,createAttachmentEnvelopeItem(ss,this._options.transportOptions&&this._options.transportOptions.textEncoder));const os=this._sendEnvelope(is);os&&os.then(ss=>this.emit("afterSendEvent",ns,ss),null)}sendSession(ns){const rs=createSessionEnvelope(ns,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(rs)}recordDroppedEvent(ns,rs,is){if(this._options.sendClientReports){const os="".concat(ns,":").concat(rs);DEBUG_BUILD$3&&logger$5.log('Adding outcome: "'.concat(os,'"')),this._outcomes[os]=this._outcomes[os]+1||1}}captureAggregateMetrics(ns){DEBUG_BUILD$3&&logger$5.log("Flushing aggregated metrics, number of metrics: ".concat(ns.length));const rs=createMetricEnvelope(ns,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(rs)}on(ns,rs){this._hooks[ns]||(this._hooks[ns]=[]),this._hooks[ns].push(rs)}emit(ns,...rs){this._hooks[ns]&&this._hooks[ns].forEach(is=>is(...rs))}_setupIntegrations(){const{integrations:ns}=this._options;this._integrations=setupIntegrations(this,ns),afterSetupIntegrations(this,ns),this._integrationsInitialized=!0}_updateSessionFromEvent(ns,rs){let is=!1,os=!1;const ss=rs.exception&&rs.exception.values;if(ss){os=!0;for(const cs of ss){const us=cs.mechanism;if(us&&us.handled===!1){is=!0;break}}}const as=ns.status==="ok";(as&&ns.errors===0||as&&is)&&(updateSession(ns,{...is&&{status:"crashed"},errors:ns.errors||Number(os||is)}),this.captureSession(ns))}_isClientDoneProcessing(ns){return new SyncPromise(rs=>{let is=0;const os=1,ss=setInterval(()=>{this._numProcessing==0?(clearInterval(ss),rs(!0)):(is+=os,ns&&is>=ns&&(clearInterval(ss),rs(!1)))},os)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(ns,rs,is,os=getIsolationScope()){const ss=this.getOptions(),as=Object.keys(this._integrations);return!rs.integrations&&as.length>0&&(rs.integrations=as),this.emit("preprocessEvent",ns,rs),prepareEvent(ss,ns,rs,is,this,os).then(ls=>{if(ls===null)return ls;const cs={...os.getPropagationContext(),...is?is.getPropagationContext():void 0};if(!(ls.contexts&&ls.contexts.trace)&&cs){const{traceId:ds,spanId:ps,parentSpanId:hs,dsc:ms}=cs;ls.contexts={trace:{trace_id:ds,span_id:ps,parent_span_id:hs},...ls.contexts};const gs=ms||getDynamicSamplingContextFromClient(ds,this,is);ls.sdkProcessingMetadata={dynamicSamplingContext:gs,...ls.sdkProcessingMetadata}}return ls})}_captureEvent(ns,rs={},is){return this._processEvent(ns,rs,is).then(os=>os.event_id,os=>{if(DEBUG_BUILD$3){const ss=os;ss.logLevel==="log"?logger$5.log(ss.message):logger$5.warn(ss)}})}_processEvent(ns,rs,is){const os=this.getOptions(),{sampleRate:ss}=os,as=isTransactionEvent$1(ns),ls=isErrorEvent$1(ns),cs=ns.type||"error",us="before send for type `".concat(cs,"`");if(ls&&typeof ss=="number"&&Math.random()>ss)return this.recordDroppedEvent("sample_rate","error",ns),rejectedSyncPromise(new SentryError("Discarding event because it's not included in the random sample (sampling rate = ".concat(ss,")"),"log"));const ds=cs==="replay_event"?"replay":cs,hs=(ns.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(ns,rs,is,hs).then(ms=>{if(ms===null)throw this.recordDroppedEvent("event_processor",ds,ns),new SentryError("An event processor returned `null`, will not send event.","log");if(rs.data&&rs.data.__sentry__===!0)return ms;const ys=processBeforeSend(os,ms,rs);return _validateBeforeSendResult(ys,us)}).then(ms=>{if(ms===null)throw this.recordDroppedEvent("before_send",ds,ns),new SentryError("".concat(us," returned `null`, will not send event."),"log");const gs=is&&is.getSession();!as&&gs&&this._updateSessionFromEvent(gs,ms);const ys=ms.transaction_info;if(as&&ys&&ms.transaction!==ns.transaction){const vs="custom";ms.transaction_info={...ys,source:vs}}return this.sendEvent(ms,rs),ms}).then(null,ms=>{throw ms instanceof SentryError?ms:(this.captureException(ms,{data:{__sentry__:!0},originalException:ms}),new SentryError("Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ".concat(ms)))})}_process(ns){this._numProcessing++,ns.then(rs=>(this._numProcessing--,rs),rs=>(this._numProcessing--,rs))}_sendEnvelope(ns){if(this.emit("beforeEnvelope",ns),this._isEnabled()&&this._transport)return this._transport.send(ns).then(null,rs=>{DEBUG_BUILD$3&&logger$5.error("Error while sending event:",rs)});DEBUG_BUILD$3&&logger$5.error("Transport disabled")}_clearOutcomes(){const ns=this._outcomes;return this._outcomes={},Object.keys(ns).map(rs=>{const[is,os]=rs.split(":");return{reason:is,category:os,quantity:ns[rs]}})}}function _validateBeforeSendResult(ts,ns){const rs="".concat(ns," must return `null` or a valid event.");if(isThenable(ts))return ts.then(is=>{if(!isPlainObject(is)&&is!==null)throw new SentryError(rs);return is},is=>{throw new SentryError("".concat(ns," rejected with ").concat(is))});if(!isPlainObject(ts)&&ts!==null)throw new SentryError(rs);return ts}function processBeforeSend(ts,ns,rs){const{beforeSend:is,beforeSendTransaction:os}=ts;return isErrorEvent$1(ns)&&is?is(ns,rs):isTransactionEvent$1(ns)&&os?os(ns,rs):ns}function isErrorEvent$1(ts){return ts.type===void 0}function isTransactionEvent$1(ts){return ts.type==="transaction"}function addEventProcessor(ts){const ns=getClient();!ns||!ns.addEventProcessor||ns.addEventProcessor(ts)}function initAndBind(ts,ns){ns.debug===!0&&(DEBUG_BUILD$3?logger$5.enable():consoleSandbox(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),getCurrentScope().update(ns.initialScope);const is=new ts(ns);setCurrentClient(is),initializeClient(is)}function setCurrentClient(ts){const rs=getCurrentHub().getStackTop();rs.client=ts,rs.scope.setClient(ts)}function initializeClient(ts){ts.init?ts.init():ts.setupIntegrations&&ts.setupIntegrations()}const DEFAULT_TRANSPORT_BUFFER_SIZE=30;function createTransport(ts,ns,rs=makePromiseBuffer(ts.bufferSize||DEFAULT_TRANSPORT_BUFFER_SIZE)){let is={};const os=as=>rs.drain(as);function ss(as){const ls=[];if(forEachEnvelopeItem(as,(ps,hs)=>{const ms=envelopeItemTypeToDataCategory(hs);if(isRateLimited(is,ms)){const gs=getEventForEnvelopeItem(ps,hs);ts.recordDroppedEvent("ratelimit_backoff",ms,gs)}else ls.push(ps)}),ls.length===0)return resolvedSyncPromise();const cs=createEnvelope(as[0],ls),us=ps=>{forEachEnvelopeItem(cs,(hs,ms)=>{const gs=getEventForEnvelopeItem(hs,ms);ts.recordDroppedEvent(ps,envelopeItemTypeToDataCategory(ms),gs)})},ds=()=>ns({body:serializeEnvelope(cs,ts.textEncoder)}).then(ps=>(ps.statusCode!==void 0&&(ps.statusCode<200||ps.statusCode>=300)&&DEBUG_BUILD$3&&logger$5.warn("Sentry responded with status code ".concat(ps.statusCode," to sent event.")),is=updateRateLimits(is,ps),ps),ps=>{throw us("network_error"),ps});return rs.add(ds).then(ps=>ps,ps=>{if(ps instanceof SentryError)return DEBUG_BUILD$3&&logger$5.error("Skipped sending event because buffer is full."),us("queue_overflow"),resolvedSyncPromise();throw ps})}return ss.__sentry__baseTransport__=!0,{send:ss,flush:os}}function getEventForEnvelopeItem(ts,ns){if(!(ns!=="event"&&ns!=="transaction"))return Array.isArray(ts)?ts[1]:void 0}function createSpanEnvelope(ts,ns){const rs={sent_at:new Date().toISOString()};ns&&(rs.dsn=dsnToString(ns));const is=ts.map(createSpanItem);return createEnvelope(rs,is)}function createSpanItem(ts){return[{type:"span"},ts]}function isSentryRequestUrl(ts,ns){const rs=ns&&isHub(ns)?ns.getClient():ns,is=rs&&rs.getDsn(),os=rs&&rs.getOptions().tunnel;return checkDsn(ts,is)||checkTunnel(ts,os)}function checkTunnel(ts,ns){return ns?removeTrailingSlash(ts)===removeTrailingSlash(ns):!1}function checkDsn(ts,ns){return ns?ts.includes(ns.host):!1}function removeTrailingSlash(ts){return ts[ts.length-1]==="/"?ts.slice(0,-1):ts}function isHub(ts){return ts.getClient!==void 0}function applySdkMetadata(ts,ns,rs=[ns],is="npm"){const os=ts._metadata||{};os.sdk||(os.sdk={name:"sentry.javascript.".concat(ns),packages:rs.map(ss=>({name:"".concat(is,":@sentry/").concat(ss),version:SDK_VERSION})),version:SDK_VERSION}),ts._metadata=os}const DEFAULT_IGNORE_ERRORS=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/],DEFAULT_IGNORE_TRANSACTIONS=[/^.*\/healthcheck$/,/^.*\/healthy$/,/^.*\/live$/,/^.*\/ready$/,/^.*\/heartbeat$/,/^.*\/health$/,/^.*\/healthz$/],INTEGRATION_NAME$7="InboundFilters",_inboundFiltersIntegration=(ts={})=>({name:INTEGRATION_NAME$7,setupOnce(){},processEvent(ns,rs,is){const os=is.getOptions(),ss=_mergeOptions(ts,os);return _shouldDropEvent$1(ns,ss)?null:ns}}),inboundFiltersIntegration=_inboundFiltersIntegration;convertIntegrationFnToClass(INTEGRATION_NAME$7,inboundFiltersIntegration);function _mergeOptions(ts={},ns={}){return{allowUrls:[...ts.allowUrls||[],...ns.allowUrls||[]],denyUrls:[...ts.denyUrls||[],...ns.denyUrls||[]],ignoreErrors:[...ts.ignoreErrors||[],...ns.ignoreErrors||[],...ts.disableErrorDefaults?[]:DEFAULT_IGNORE_ERRORS],ignoreTransactions:[...ts.ignoreTransactions||[],...ns.ignoreTransactions||[],...ts.disableTransactionDefaults?[]:DEFAULT_IGNORE_TRANSACTIONS],ignoreInternal:ts.ignoreInternal!==void 0?ts.ignoreInternal:!0}}function _shouldDropEvent$1(ts,ns){return ns.ignoreInternal&&_isSentryError(ts)?(DEBUG_BUILD$3&&logger$5.warn("Event dropped due to being internal Sentry Error.\nEvent: ".concat(getEventDescription(ts))),!0):_isIgnoredError(ts,ns.ignoreErrors)?(DEBUG_BUILD$3&&logger$5.warn("Event dropped due to being matched by `ignoreErrors` option.\nEvent: ".concat(getEventDescription(ts))),!0):_isIgnoredTransaction(ts,ns.ignoreTransactions)?(DEBUG_BUILD$3&&logger$5.warn("Event dropped due to being matched by `ignoreTransactions` option.\nEvent: ".concat(getEventDescription(ts))),!0):_isDeniedUrl(ts,ns.denyUrls)?(DEBUG_BUILD$3&&logger$5.warn("Event dropped due to being matched by `denyUrls` option.\nEvent: ".concat(getEventDescription(ts),".\nUrl: ").concat(_getEventFilterUrl(ts))),!0):_isAllowedUrl(ts,ns.allowUrls)?!1:(DEBUG_BUILD$3&&logger$5.warn("Event dropped due to not being matched by `allowUrls` option.\nEvent: ".concat(getEventDescription(ts),".\nUrl: ").concat(_getEventFilterUrl(ts))),!0)}function _isIgnoredError(ts,ns){return ts.type||!ns||!ns.length?!1:_getPossibleEventMessages(ts).some(rs=>stringMatchesSomePattern(rs,ns))}function _isIgnoredTransaction(ts,ns){if(ts.type!=="transaction"||!ns||!ns.length)return!1;const rs=ts.transaction;return rs?stringMatchesSomePattern(rs,ns):!1}function _isDeniedUrl(ts,ns){if(!ns||!ns.length)return!1;const rs=_getEventFilterUrl(ts);return rs?stringMatchesSomePattern(rs,ns):!1}function _isAllowedUrl(ts,ns){if(!ns||!ns.length)return!0;const rs=_getEventFilterUrl(ts);return rs?stringMatchesSomePattern(rs,ns):!0}function _getPossibleEventMessages(ts){const ns=[];ts.message&&ns.push(ts.message);let rs;try{rs=ts.exception.values[ts.exception.values.length-1]}catch{}return rs&&rs.value&&(ns.push(rs.value),rs.type&&ns.push("".concat(rs.type,": ").concat(rs.value))),DEBUG_BUILD$3&&ns.length===0&&logger$5.error("Could not extract message for event ".concat(getEventDescription(ts))),ns}function _isSentryError(ts){try{return ts.exception.values[0].type==="SentryError"}catch{}return!1}function _getLastValidUrl(ts=[]){for(let ns=ts.length-1;ns>=0;ns--){const rs=ts[ns];if(rs&&rs.filename!=="<anonymous>"&&rs.filename!=="[native code]")return rs.filename||null}return null}function _getEventFilterUrl(ts){try{let ns;try{ns=ts.exception.values[0].stacktrace.frames}catch{}return ns?_getLastValidUrl(ns):null}catch{return DEBUG_BUILD$3&&logger$5.error("Cannot extract url for event ".concat(getEventDescription(ts))),null}}let originalFunctionToString;const INTEGRATION_NAME$6="FunctionToString",SETUP_CLIENTS=new WeakMap,_functionToStringIntegration=()=>({name:INTEGRATION_NAME$6,setupOnce(){originalFunctionToString=Function.prototype.toString;try{Function.prototype.toString=function(...ts){const ns=getOriginalFunction(this),rs=SETUP_CLIENTS.has(getClient())&&ns!==void 0?ns:this;return originalFunctionToString.apply(rs,ts)}}catch{}},setup(ts){SETUP_CLIENTS.set(ts,!0)}}),functionToStringIntegration=_functionToStringIntegration;convertIntegrationFnToClass(INTEGRATION_NAME$6,functionToStringIntegration);const DEBUG_BUILD$2=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,WINDOW$2=GLOBAL_OBJ;function registerBackgroundTabDetection(){WINDOW$2.document?WINDOW$2.document.addEventListener("visibilitychange",()=>{const ts=getActiveTransaction();if(WINDOW$2.document.hidden&&ts){const ns="cancelled",{op:rs,status:is}=spanToJSON(ts);DEBUG_BUILD$2&&logger$5.log("[Tracing] Transaction: ".concat(ns," -> since tab moved to the background, op: ").concat(rs)),is||ts.setStatus(ns),ts.setTag("visibilitychange","document.hidden"),ts.end()}}):DEBUG_BUILD$2&&logger$5.warn("[Tracing] Could not set up background tab detection due to lack of global document")}const bindReporter=(ts,ns,rs)=>{let is,os;return ss=>{ns.value>=0&&(ss||rs)&&(os=ns.value-(is||0),(os||is===void 0)&&(is=ns.value,ns.delta=os,ts(ns)))}},generateUniqueID=()=>"v3-".concat(Date.now(),"-").concat(Math.floor(Math.random()*(9e12-1))+1e12),getNavigationEntryFromPerformanceTiming=()=>{const ts=WINDOW$2.performance.timing,ns=WINDOW$2.performance.navigation.type,rs={entryType:"navigation",startTime:0,type:ns==2?"back_forward":ns===1?"reload":"navigate"};for(const is in ts)is!=="navigationStart"&&is!=="toJSON"&&(rs[is]=Math.max(ts[is]-ts.navigationStart,0));return rs},getNavigationEntry=()=>WINDOW$2.__WEB_VITALS_POLYFILL__?WINDOW$2.performance&&(performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]||getNavigationEntryFromPerformanceTiming()):WINDOW$2.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0],getActivationStart=()=>{const ts=getNavigationEntry();return ts&&ts.activationStart||0},initMetric=(ts,ns)=>{const rs=getNavigationEntry();let is="navigate";return rs&&(WINDOW$2.document&&WINDOW$2.document.prerendering||getActivationStart()>0?is="prerender":is=rs.type.replace(/_/g,"-")),{name:ts,value:typeof ns>"u"?-1:ns,rating:"good",delta:0,entries:[],id:generateUniqueID(),navigationType:is}},observe$1=(ts,ns,rs)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(ts)){const is=new PerformanceObserver(os=>{ns(os.getEntries())});return is.observe(Object.assign({type:ts,buffered:!0},rs||{})),is}}catch{}},onHidden=(ts,ns)=>{const rs=is=>{(is.type==="pagehide"||WINDOW$2.document.visibilityState==="hidden")&&(ts(is),ns&&(removeEventListener("visibilitychange",rs,!0),removeEventListener("pagehide",rs,!0)))};WINDOW$2.document&&(addEventListener("visibilitychange",rs,!0),addEventListener("pagehide",rs,!0))},onCLS=(ts,ns={})=>{const rs=initMetric("CLS",0);let is,os=0,ss=[];const as=cs=>{cs.forEach(us=>{if(!us.hadRecentInput){const ds=ss[0],ps=ss[ss.length-1];os&&ss.length!==0&&us.startTime-ps.startTime<1e3&&us.startTime-ds.startTime<5e3?(os+=us.value,ss.push(us)):(os=us.value,ss=[us]),os>rs.value&&(rs.value=os,rs.entries=ss,is&&is())}})},ls=observe$1("layout-shift",as);if(ls){is=bindReporter(ts,rs,ns.reportAllChanges);const cs=()=>{as(ls.takeRecords()),is(!0)};return onHidden(cs),cs}};let firstHiddenTime=-1;const initHiddenTime=()=>{WINDOW$2.document&&WINDOW$2.document.visibilityState&&(firstHiddenTime=WINDOW$2.document.visibilityState==="hidden"&&!WINDOW$2.document.prerendering?0:1/0)},trackChanges=()=>{onHidden(({timeStamp:ts})=>{firstHiddenTime=ts},!0)},getVisibilityWatcher=()=>(firstHiddenTime<0&&(initHiddenTime(),trackChanges()),{get firstHiddenTime(){return firstHiddenTime}}),onFID=ts=>{const ns=getVisibilityWatcher(),rs=initMetric("FID");let is;const os=ls=>{ls.startTime<ns.firstHiddenTime&&(rs.value=ls.processingStart-ls.startTime,rs.entries.push(ls),is(!0))},ss=ls=>{ls.forEach(os)},as=observe$1("first-input",ss);is=bindReporter(ts,rs),as&&onHidden(()=>{ss(as.takeRecords()),as.disconnect()},!0)};let interactionCountEstimate=0,minKnownInteractionId=1/0,maxKnownInteractionId=0;const updateEstimate=ts=>{ts.forEach(ns=>{ns.interactionId&&(minKnownInteractionId=Math.min(minKnownInteractionId,ns.interactionId),maxKnownInteractionId=Math.max(maxKnownInteractionId,ns.interactionId),interactionCountEstimate=maxKnownInteractionId?(maxKnownInteractionId-minKnownInteractionId)/7+1:0)})};let po;const getInteractionCount=()=>po?interactionCountEstimate:performance.interactionCount||0,initInteractionCountPolyfill=()=>{"interactionCount"in performance||po||(po=observe$1("event",updateEstimate,{type:"event",buffered:!0,durationThreshold:0}))},getInteractionCountForNavigation=()=>getInteractionCount(),MAX_INTERACTIONS_TO_CONSIDER=10,longestInteractionList=[],longestInteractionMap={},processEntry=ts=>{const ns=longestInteractionList[longestInteractionList.length-1],rs=longestInteractionMap[ts.interactionId];if(rs||longestInteractionList.length<MAX_INTERACTIONS_TO_CONSIDER||ts.duration>ns.latency){if(rs)rs.entries.push(ts),rs.latency=Math.max(rs.latency,ts.duration);else{const is={id:ts.interactionId,latency:ts.duration,entries:[ts]};longestInteractionMap[is.id]=is,longestInteractionList.push(is)}longestInteractionList.sort((is,os)=>os.latency-is.latency),longestInteractionList.splice(MAX_INTERACTIONS_TO_CONSIDER).forEach(is=>{delete longestInteractionMap[is.id]})}},estimateP98LongestInteraction=()=>{const ts=Math.min(longestInteractionList.length-1,Math.floor(getInteractionCountForNavigation()/50));return longestInteractionList[ts]},onINP=(ts,ns)=>{ns=ns||{},initInteractionCountPolyfill();const rs=initMetric("INP");let is;const os=as=>{as.forEach(cs=>{cs.interactionId&&processEntry(cs),cs.entryType==="first-input"&&!longestInteractionList.some(ds=>ds.entries.some(ps=>cs.duration===ps.duration&&cs.startTime===ps.startTime))&&processEntry(cs)});const ls=estimateP98LongestInteraction();ls&&ls.latency!==rs.value&&(rs.value=ls.latency,rs.entries=ls.entries,is())},ss=observe$1("event",os,{durationThreshold:ns.durationThreshold||40});is=bindReporter(ts,rs,ns.reportAllChanges),ss&&(ss.observe({type:"first-input",buffered:!0}),onHidden(()=>{os(ss.takeRecords()),rs.value<0&&getInteractionCountForNavigation()>0&&(rs.value=0,rs.entries=[]),is(!0)}))},reportedMetricIDs={},onLCP=ts=>{const ns=getVisibilityWatcher(),rs=initMetric("LCP");let is;const os=as=>{const ls=as[as.length-1];if(ls){const cs=Math.max(ls.startTime-getActivationStart(),0);cs<ns.firstHiddenTime&&(rs.value=cs,rs.entries=[ls],is())}},ss=observe$1("largest-contentful-paint",os);if(ss){is=bindReporter(ts,rs);const as=()=>{reportedMetricIDs[rs.id]||(os(ss.takeRecords()),ss.disconnect(),reportedMetricIDs[rs.id]=!0,is(!0))};return["keydown","click"].forEach(ls=>{WINDOW$2.document&&addEventListener(ls,as,{once:!0,capture:!0})}),onHidden(as,!0),as}},whenReady=ts=>{WINDOW$2.document&&(WINDOW$2.document.prerendering?addEventListener("prerenderingchange",()=>whenReady(ts),!0):WINDOW$2.document.readyState!=="complete"?addEventListener("load",()=>whenReady(ts),!0):setTimeout(ts,0))},onTTFB=(ts,ns)=>{ns=ns||{};const rs=initMetric("TTFB"),is=bindReporter(ts,rs,ns.reportAllChanges);whenReady(()=>{const os=getNavigationEntry();if(os){if(rs.value=Math.max(os.responseStart-getActivationStart(),0),rs.value<0||rs.value>performance.now())return;rs.entries=[os],is(!0)}})},handlers$1={},instrumented={};let _previousCls,_previousFid,_previousLcp,_previousTtfb,_previousInp;function addClsInstrumentationHandler(ts,ns=!1){return addMetricObserver("cls",ts,instrumentCls,_previousCls,ns)}function addLcpInstrumentationHandler(ts,ns=!1){return addMetricObserver("lcp",ts,instrumentLcp,_previousLcp,ns)}function addTtfbInstrumentationHandler(ts){return addMetricObserver("ttfb",ts,instrumentTtfb,_previousTtfb)}function addFidInstrumentationHandler(ts){return addMetricObserver("fid",ts,instrumentFid,_previousFid)}function addInpInstrumentationHandler(ts){return addMetricObserver("inp",ts,instrumentInp,_previousInp)}function addPerformanceInstrumentationHandler(ts,ns){return addHandler(ts,ns),instrumented[ts]||(instrumentPerformanceObserver(ts),instrumented[ts]=!0),getCleanupCallback(ts,ns)}function triggerHandlers(ts,ns){const rs=handlers$1[ts];if(!(!rs||!rs.length))for(const is of rs)try{is(ns)}catch(os){DEBUG_BUILD$2&&logger$5.error("Error while triggering instrumentation handler.\nType: ".concat(ts,"\nName: ").concat(getFunctionName(is),"\nError:"),os)}}function instrumentCls(){return onCLS(ts=>{triggerHandlers("cls",{metric:ts}),_previousCls=ts},{reportAllChanges:!0})}function instrumentFid(){return onFID(ts=>{triggerHandlers("fid",{metric:ts}),_previousFid=ts})}function instrumentLcp(){return onLCP(ts=>{triggerHandlers("lcp",{metric:ts}),_previousLcp=ts})}function instrumentTtfb(){return onTTFB(ts=>{triggerHandlers("ttfb",{metric:ts}),_previousTtfb=ts})}function instrumentInp(){return onINP(ts=>{triggerHandlers("inp",{metric:ts}),_previousInp=ts})}function addMetricObserver(ts,ns,rs,is,os=!1){addHandler(ts,ns);let ss;return instrumented[ts]||(ss=rs(),instrumented[ts]=!0),is&&ns({metric:is}),getCleanupCallback(ts,ns,os?ss:void 0)}function instrumentPerformanceObserver(ts){const ns={};ts==="event"&&(ns.durationThreshold=0),observe$1(ts,rs=>{triggerHandlers(ts,{entries:rs})},ns)}function addHandler(ts,ns){handlers$1[ts]=handlers$1[ts]||[],handlers$1[ts].push(ns)}function getCleanupCallback(ts,ns,rs){return()=>{rs&&rs();const is=handlers$1[ts];if(!is)return;const os=is.indexOf(ns);os!==-1&&is.splice(os,1)}}function isMeasurementValue(ts){return typeof ts=="number"&&isFinite(ts)}function _startChild(ts,{startTimestamp:ns,...rs}){return ns&&ts.startTimestamp>ns&&(ts.startTimestamp=ns),ts.startChild({startTimestamp:ns,...rs})}const MAX_INT_AS_BYTES=2147483647;function msToSec(ts){return ts/1e3}function getBrowserPerformanceAPI(){return WINDOW$2&&WINDOW$2.addEventListener&&WINDOW$2.performance}let _performanceCursor=0,_measurements={},_lcpEntry,_clsEntry;function startTrackingWebVitals(){const ts=getBrowserPerformanceAPI();if(ts&&browserPerformanceTimeOrigin){ts.mark&&WINDOW$2.performance.mark("sentry-tracing-init");const ns=_trackFID(),rs=_trackCLS(),is=_trackLCP(),os=_trackTtfb();return()=>{ns(),rs(),is(),os()}}return()=>{}}function startTrackingLongTasks(){addPerformanceInstrumentationHandler("longtask",({entries:ts})=>{for(const ns of ts){const rs=getActiveTransaction();if(!rs)return;const is=msToSec(browserPerformanceTimeOrigin+ns.startTime),os=msToSec(ns.duration);rs.startChild({description:"Main UI thread blocked",op:"ui.long-task",origin:"auto.ui.browser.metrics",startTimestamp:is,endTimestamp:is+os})}})}function startTrackingInteractions(){addPerformanceInstrumentationHandler("event",({entries:ts})=>{for(const ns of ts){const rs=getActiveTransaction();if(!rs)return;if(ns.name==="click"){const is=msToSec(browserPerformanceTimeOrigin+ns.startTime),os=msToSec(ns.duration),ss={description:htmlTreeAsString(ns.target),op:"ui.interaction.".concat(ns.name),origin:"auto.ui.browser.metrics",startTimestamp:is,endTimestamp:is+os},as=getComponentName(ns.target);as&&(ss.attributes={"ui.component_name":as}),rs.startChild(ss)}}})}function startTrackingINP(ts,ns){if(getBrowserPerformanceAPI()&&browserPerformanceTimeOrigin){const is=_trackINP(ts,ns);return()=>{is()}}return()=>{}}function _trackCLS(){return addClsInstrumentationHandler(({metric:ts})=>{const ns=ts.entries[ts.entries.length-1];ns&&(DEBUG_BUILD$2&&logger$5.log("[Measurements] Adding CLS"),_measurements.cls={value:ts.value,unit:""},_clsEntry=ns)},!0)}function _trackLCP(){return addLcpInstrumentationHandler(({metric:ts})=>{const ns=ts.entries[ts.entries.length-1];ns&&(DEBUG_BUILD$2&&logger$5.log("[Measurements] Adding LCP"),_measurements.lcp={value:ts.value,unit:"millisecond"},_lcpEntry=ns)},!0)}function _trackFID(){return addFidInstrumentationHandler(({metric:ts})=>{const ns=ts.entries[ts.entries.length-1];if(!ns)return;const rs=msToSec(browserPerformanceTimeOrigin),is=msToSec(ns.startTime);DEBUG_BUILD$2&&logger$5.log("[Measurements] Adding FID"),_measurements.fid={value:ts.value,unit:"millisecond"},_measurements["mark.fid"]={value:rs+is,unit:"second"}})}function _trackTtfb(){return addTtfbInstrumentationHandler(({metric:ts})=>{ts.entries[ts.entries.length-1]&&(DEBUG_BUILD$2&&logger$5.log("[Measurements] Adding TTFB"),_measurements.ttfb={value:ts.value,unit:"millisecond"})})}const INP_ENTRY_MAP={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function _trackINP(ts,ns){return addInpInstrumentationHandler(({metric:rs})=>{if(rs.value===void 0)return;const is=rs.entries.find($s=>$s.duration===rs.value&&INP_ENTRY_MAP[$s.name]!==void 0),os=getClient();if(!is||!os)return;const ss=INP_ENTRY_MAP[is.name],as=os.getOptions(),ls=msToSec(browserPerformanceTimeOrigin+is.startTime),cs=msToSec(rs.value),us=is.interactionId!==void 0?ts[is.interactionId]:void 0;if(us===void 0)return;const{routeName:ds,parentContext:ps,activeTransaction:hs,user:ms,replayId:gs}=us,ys=ms!==void 0?ms.email||ms.id||ms.ip_address:void 0,vs=hs!==void 0?hs.getProfileId():void 0,bs=new Span({startTimestamp:ls,endTimestamp:ls+cs,op:"ui.interaction.".concat(ss),name:htmlTreeAsString(is.target),attributes:{release:as.release,environment:as.environment,transaction:ds,...ys!==void 0&&ys!==""?{user:ys}:{},...vs!==void 0?{profile_id:vs}:{},...gs!==void 0?{replay_id:gs}:{}},exclusiveTime:rs.value,measurements:{inp:{value:rs.value,unit:"millisecond"}}}),Ss=getSampleRate(ps,as,ns);if(Ss&&Math.random()<Ss){const $s=bs?createSpanEnvelope([bs],os.getDsn()):void 0,Cs=os&&os.getTransport();Cs&&$s&&Cs.send($s).then(null,Es=>{DEBUG_BUILD$2&&logger$5.error("Error while sending interaction:",Es)});return}})}function addPerformanceEntries(ts){const ns=getBrowserPerformanceAPI();if(!ns||!WINDOW$2.performance.getEntries||!browserPerformanceTimeOrigin)return;DEBUG_BUILD$2&&logger$5.log("[Tracing] Adding & adjusting spans using Performance API");const rs=msToSec(browserPerformanceTimeOrigin),is=ns.getEntries(),{op:os,start_timestamp:ss}=spanToJSON(ts);if(is.slice(_performanceCursor).forEach(as=>{const ls=msToSec(as.startTime),cs=msToSec(as.duration);if(!(ts.op==="navigation"&&ss&&rs+ls<ss))switch(as.entryType){case"navigation":{_addNavigationSpans(ts,as,rs);break}case"mark":case"paint":case"measure":{_addMeasureSpans(ts,as,ls,cs,rs);const us=getVisibilityWatcher(),ds=as.startTime<us.firstHiddenTime;as.name==="first-paint"&&ds&&(DEBUG_BUILD$2&&logger$5.log("[Measurements] Adding FP"),_measurements.fp={value:as.startTime,unit:"millisecond"}),as.name==="first-contentful-paint"&&ds&&(DEBUG_BUILD$2&&logger$5.log("[Measurements] Adding FCP"),_measurements.fcp={value:as.startTime,unit:"millisecond"});break}case"resource":{_addResourceSpans(ts,as,as.name,ls,cs,rs);break}}}),_performanceCursor=Math.max(is.length-1,0),_trackNavigator(ts),os==="pageload"){_addTtfbRequestTimeToMeasurements(_measurements),["fcp","fp","lcp"].forEach(ls=>{if(!_measurements[ls]||!ss||rs>=ss)return;const cs=_measurements[ls].value,us=rs+msToSec(cs),ds=Math.abs((us-ss)*1e3),ps=ds-cs;DEBUG_BUILD$2&&logger$5.log("[Measurements] Normalized ".concat(ls," from ").concat(cs," to ").concat(ds," (").concat(ps,")")),_measurements[ls].value=ds});const as=_measurements["mark.fid"];as&&_measurements.fid&&(_startChild(ts,{description:"first input delay",endTimestamp:as.value+msToSec(_measurements.fid.value),op:"ui.action",origin:"auto.ui.browser.metrics",startTimestamp:as.value}),delete _measurements["mark.fid"]),"fcp"in _measurements||delete _measurements.cls,Object.keys(_measurements).forEach(ls=>{setMeasurement(ls,_measurements[ls].value,_measurements[ls].unit)}),_tagMetricInfo(ts)}_lcpEntry=void 0,_clsEntry=void 0,_measurements={}}function _addMeasureSpans(ts,ns,rs,is,os){const ss=os+rs,as=ss+is;return _startChild(ts,{description:ns.name,endTimestamp:as,op:ns.entryType,origin:"auto.resource.browser.metrics",startTimestamp:ss}),ss}function _addNavigationSpans(ts,ns,rs){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(is=>{_addPerformanceNavigationTiming(ts,ns,is,rs)}),_addPerformanceNavigationTiming(ts,ns,"secureConnection",rs,"TLS/SSL","connectEnd"),_addPerformanceNavigationTiming(ts,ns,"fetch",rs,"cache","domainLookupStart"),_addPerformanceNavigationTiming(ts,ns,"domainLookup",rs,"DNS"),_addRequest(ts,ns,rs)}function _addPerformanceNavigationTiming(ts,ns,rs,is,os,ss){const as=ss?ns[ss]:ns["".concat(rs,"End")],ls=ns["".concat(rs,"Start")];!ls||!as||_startChild(ts,{op:"browser",origin:"auto.browser.browser.metrics",description:os||rs,startTimestamp:is+msToSec(ls),endTimestamp:is+msToSec(as)})}function _addRequest(ts,ns,rs){ns.responseEnd&&(_startChild(ts,{op:"browser",origin:"auto.browser.browser.metrics",description:"request",startTimestamp:rs+msToSec(ns.requestStart),endTimestamp:rs+msToSec(ns.responseEnd)}),_startChild(ts,{op:"browser",origin:"auto.browser.browser.metrics",description:"response",startTimestamp:rs+msToSec(ns.responseStart),endTimestamp:rs+msToSec(ns.responseEnd)}))}function _addResourceSpans(ts,ns,rs,is,os,ss){if(ns.initiatorType==="xmlhttprequest"||ns.initiatorType==="fetch")return;const as=parseUrl$1(rs),ls={};setResourceEntrySizeData(ls,ns,"transferSize","http.response_transfer_size"),setResourceEntrySizeData(ls,ns,"encodedBodySize","http.response_content_length"),setResourceEntrySizeData(ls,ns,"decodedBodySize","http.decoded_response_content_length"),"renderBlockingStatus"in ns&&(ls["resource.render_blocking_status"]=ns.renderBlockingStatus),as.protocol&&(ls["url.scheme"]=as.protocol.split(":").pop()),as.host&&(ls["server.address"]=as.host),ls["url.same_origin"]=rs.includes(WINDOW$2.location.origin);const cs=ss+is,us=cs+os;_startChild(ts,{description:rs.replace(WINDOW$2.location.origin,""),endTimestamp:us,op:ns.initiatorType?"resource.".concat(ns.initiatorType):"resource.other",origin:"auto.resource.browser.metrics",startTimestamp:cs,data:ls})}function _trackNavigator(ts){const ns=WINDOW$2.navigator;if(!ns)return;const rs=ns.connection;rs&&(rs.effectiveType&&ts.setTag("effectiveConnectionType",rs.effectiveType),rs.type&&ts.setTag("connectionType",rs.type),isMeasurementValue(rs.rtt)&&(_measurements["connection.rtt"]={value:rs.rtt,unit:"millisecond"})),isMeasurementValue(ns.deviceMemory)&&ts.setTag("deviceMemory","".concat(ns.deviceMemory," GB")),isMeasurementValue(ns.hardwareConcurrency)&&ts.setTag("hardwareConcurrency",String(ns.hardwareConcurrency))}function _tagMetricInfo(ts){_lcpEntry&&(DEBUG_BUILD$2&&logger$5.log("[Measurements] Adding LCP Data"),_lcpEntry.element&&ts.setTag("lcp.element",htmlTreeAsString(_lcpEntry.element)),_lcpEntry.id&&ts.setTag("lcp.id",_lcpEntry.id),_lcpEntry.url&&ts.setTag("lcp.url",_lcpEntry.url.trim().slice(0,200)),ts.setTag("lcp.size",_lcpEntry.size)),_clsEntry&&_clsEntry.sources&&(DEBUG_BUILD$2&&logger$5.log("[Measurements] Adding CLS Data"),_clsEntry.sources.forEach((ns,rs)=>ts.setTag("cls.source.".concat(rs+1),htmlTreeAsString(ns.node))))}function setResourceEntrySizeData(ts,ns,rs,is){const os=ns[rs];os!=null&&os<MAX_INT_AS_BYTES&&(ts[is]=os)}function _addTtfbRequestTimeToMeasurements(ts){const ns=getNavigationEntry();if(!ns)return;const{responseStart:rs,requestStart:is}=ns;is<=rs&&(DEBUG_BUILD$2&&logger$5.log("[Measurements] Adding TTFB Request Time"),ts["ttfb.requestTime"]={value:rs-is,unit:"millisecond"})}function getSampleRate(ts,ns,rs){if(!hasTracingEnabled(ns))return!1;let is;return ts!==void 0&&typeof ns.tracesSampler=="function"?is=ns.tracesSampler({transactionContext:ts,name:ts.name,parentSampled:ts.parentSampled,attributes:{...ts.data,...ts.attributes},location:WINDOW$2.location}):ts!==void 0&&ts.sampled!==void 0?is=ts.sampled:typeof ns.tracesSampleRate<"u"?is=ns.tracesSampleRate:is=1,isValidSampleRate(is)?is===!0?rs:is===!1?0:is*rs:(DEBUG_BUILD$2&&logger$5.warn("[Tracing] Discarding interaction span because of invalid sample rate."),!1)}function instrumentFetchRequest(ts,ns,rs,is,os="auto.http.browser"){if(!hasTracingEnabled()||!ts.fetchData)return;const ss=ns(ts.fetchData.url);if(ts.endTimestamp&&ss){const ms=ts.fetchData.__span;if(!ms)return;const gs=is[ms];gs&&(endSpan(gs,ts),delete is[ms]);return}const as=getCurrentScope(),ls=getClient(),{method:cs,url:us}=ts.fetchData,ds=getFullURL$1(us),ps=ds?parseUrl$1(ds).host:void 0,hs=ss?startInactiveSpan({name:"".concat(cs," ").concat(us),onlyIfParent:!0,attributes:{url:us,type:"fetch","http.method":cs,"http.url":ds,"server.address":ps,[SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:os},op:"http.client"}):void 0;if(hs&&(ts.fetchData.__span=hs.spanContext().spanId,is[hs.spanContext().spanId]=hs),rs(ts.fetchData.url)&&ls){const ms=ts.args[0];ts.args[1]=ts.args[1]||{};const gs=ts.args[1];gs.headers=addTracingHeadersToFetchRequest(ms,ls,as,gs,hs)}return hs}function addTracingHeadersToFetchRequest(ts,ns,rs,is,os){const ss=os||rs.getSpan(),as=getIsolationScope(),{traceId:ls,spanId:cs,sampled:us,dsc:ds}={...as.getPropagationContext(),...rs.getPropagationContext()},ps=ss?spanToTraceHeader(ss):generateSentryTraceHeader(ls,cs,us),hs=dynamicSamplingContextToSentryBaggageHeader(ds||(ss?getDynamicSamplingContextFromSpan(ss):getDynamicSamplingContextFromClient(ls,ns,rs))),ms=is.headers||(typeof Request<"u"&&isInstanceOf(ts,Request)?ts.headers:void 0);if(ms)if(typeof Headers<"u"&&isInstanceOf(ms,Headers)){const gs=new Headers(ms);return gs.append("sentry-trace",ps),hs&&gs.append(BAGGAGE_HEADER_NAME,hs),gs}else if(Array.isArray(ms)){const gs=[...ms,["sentry-trace",ps]];return hs&&gs.push([BAGGAGE_HEADER_NAME,hs]),gs}else{const gs="baggage"in ms?ms.baggage:void 0,ys=[];return Array.isArray(gs)?ys.push(...gs):gs&&ys.push(gs),hs&&ys.push(hs),{...ms,"sentry-trace":ps,baggage:ys.length>0?ys.join(","):void 0}}else return{"sentry-trace":ps,baggage:hs}}function getFullURL$1(ts){try{return new URL(ts).href}catch{return}}function endSpan(ts,ns){if(ns.response){setHttpStatus(ts,ns.response.status);const rs=ns.response&&ns.response.headers&&ns.response.headers.get("content-length");if(rs){const is=parseInt(rs);is>0&&ts.setAttribute("http.response_content_length",is)}}else ns.error&&ts.setStatus("internal_error");ts.end()}const DEFAULT_TRACE_PROPAGATION_TARGETS=["localhost",/^\/(?!\/)/],defaultRequestInstrumentationOptions={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,tracingOrigins:DEFAULT_TRACE_PROPAGATION_TARGETS,tracePropagationTargets:DEFAULT_TRACE_PROPAGATION_TARGETS};function instrumentOutgoingRequests(ts){const{traceFetch:ns,traceXHR:rs,tracePropagationTargets:is,tracingOrigins:os,shouldCreateSpanForRequest:ss,enableHTTPTimings:as}={traceFetch:defaultRequestInstrumentationOptions.traceFetch,traceXHR:defaultRequestInstrumentationOptions.traceXHR,...ts},ls=typeof ss=="function"?ss:ds=>!0,cs=ds=>shouldAttachHeaders(ds,is||os),us={};ns&&addFetchInstrumentationHandler(ds=>{const ps=instrumentFetchRequest(ds,ls,cs,us);if(ps){const hs=getFullURL(ds.fetchData.url),ms=hs?parseUrl$1(hs).host:void 0;ps.setAttributes({"http.url":hs,"server.address":ms})}as&&ps&&addHTTPTimings(ps)}),rs&&addXhrInstrumentationHandler(ds=>{const ps=xhrCallback(ds,ls,cs,us);as&&ps&&addHTTPTimings(ps)})}function isPerformanceResourceTiming(ts){return ts.entryType==="resource"&&"initiatorType"in ts&&typeof ts.nextHopProtocol=="string"&&(ts.initiatorType==="fetch"||ts.initiatorType==="xmlhttprequest")}function addHTTPTimings(ts){const{url:ns}=spanToJSON(ts).data||{};if(!ns||typeof ns!="string")return;const rs=addPerformanceInstrumentationHandler("resource",({entries:is})=>{is.forEach(os=>{isPerformanceResourceTiming(os)&&os.name.endsWith(ns)&&(resourceTimingEntryToSpanData(os).forEach(as=>ts.setAttribute(...as)),setTimeout(rs))})})}function extractNetworkProtocol(ts){let ns="unknown",rs="unknown",is="";for(const os of ts){if(os==="/"){[ns,rs]=ts.split("/");break}if(!isNaN(Number(os))){ns=is==="h"?"http":is,rs=ts.split(is)[1];break}is+=os}return is===ts&&(ns=is),{name:ns,version:rs}}function getAbsoluteTime$1(ts=0){return((browserPerformanceTimeOrigin||performance.timeOrigin)+ts)/1e3}function resourceTimingEntryToSpanData(ts){const{name:ns,version:rs}=extractNetworkProtocol(ts.nextHopProtocol),is=[];return is.push(["network.protocol.version",rs],["network.protocol.name",ns]),browserPerformanceTimeOrigin?[...is,["http.request.redirect_start",getAbsoluteTime$1(ts.redirectStart)],["http.request.fetch_start",getAbsoluteTime$1(ts.fetchStart)],["http.request.domain_lookup_start",getAbsoluteTime$1(ts.domainLookupStart)],["http.request.domain_lookup_end",getAbsoluteTime$1(ts.domainLookupEnd)],["http.request.connect_start",getAbsoluteTime$1(ts.connectStart)],["http.request.secure_connection_start",getAbsoluteTime$1(ts.secureConnectionStart)],["http.request.connection_end",getAbsoluteTime$1(ts.connectEnd)],["http.request.request_start",getAbsoluteTime$1(ts.requestStart)],["http.request.response_start",getAbsoluteTime$1(ts.responseStart)],["http.request.response_end",getAbsoluteTime$1(ts.responseEnd)]]:is}function shouldAttachHeaders(ts,ns){return stringMatchesSomePattern(ts,ns||DEFAULT_TRACE_PROPAGATION_TARGETS)}function xhrCallback(ts,ns,rs,is){const os=ts.xhr,ss=os&&os[SENTRY_XHR_DATA_KEY];if(!hasTracingEnabled()||!os||os.__sentry_own_request__||!ss)return;const as=ns(ss.url);if(ts.endTimestamp&&as){const ms=os.__sentry_xhr_span_id__;if(!ms)return;const gs=is[ms];gs&&ss.status_code!==void 0&&(setHttpStatus(gs,ss.status_code),gs.end(),delete is[ms]);return}const ls=getCurrentScope(),cs=getIsolationScope(),us=getFullURL(ss.url),ds=us?parseUrl$1(us).host:void 0,ps=as?startInactiveSpan({name:"".concat(ss.method," ").concat(ss.url),onlyIfParent:!0,attributes:{type:"xhr","http.method":ss.method,"http.url":us,url:ss.url,"server.address":ds,[SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.http.browser"},op:"http.client"}):void 0;ps&&(os.__sentry_xhr_span_id__=ps.spanContext().spanId,is[os.__sentry_xhr_span_id__]=ps);const hs=getClient();if(os.setRequestHeader&&rs(ss.url)&&hs){const{traceId:ms,spanId:gs,sampled:ys,dsc:vs}={...cs.getPropagationContext(),...ls.getPropagationContext()},bs=ps?spanToTraceHeader(ps):generateSentryTraceHeader(ms,gs,ys),Ss=dynamicSamplingContextToSentryBaggageHeader(vs||(ps?getDynamicSamplingContextFromSpan(ps):getDynamicSamplingContextFromClient(ms,hs,ls)));setHeaderOnXhr(os,bs,Ss)}return ps}function setHeaderOnXhr(ts,ns,rs){try{ts.setRequestHeader("sentry-trace",ns),rs&&ts.setRequestHeader(BAGGAGE_HEADER_NAME,rs)}catch{}}function getFullURL(ts){try{return new URL(ts,WINDOW$2.location.origin).href}catch{return}}function instrumentRoutingWithDefaults(ts,ns=!0,rs=!0){if(!WINDOW$2||!WINDOW$2.location){DEBUG_BUILD$2&&logger$5.warn("Could not initialize routing instrumentation due to invalid location");return}let is=WINDOW$2.location.href,os;ns&&(os=ts({name:WINDOW$2.location.pathname,startTimestamp:browserPerformanceTimeOrigin?browserPerformanceTimeOrigin/1e3:void 0,op:"pageload",origin:"auto.pageload.browser",metadata:{source:"url"}})),rs&&addHistoryInstrumentationHandler(({to:ss,from:as})=>{if(as===void 0&&is&&is.indexOf(ss)!==-1){is=void 0;return}as!==ss&&(is=void 0,os&&(DEBUG_BUILD$2&&logger$5.log("[Tracing] Finishing current transaction with op: ".concat(os.op)),os.end()),os=ts({name:WINDOW$2.location.pathname,op:"navigation",origin:"auto.navigation.browser",metadata:{source:"url"}}))})}const BROWSER_TRACING_INTEGRATION_ID="BrowserTracing",DEFAULT_BROWSER_TRACING_OPTIONS={...TRACING_DEFAULTS,markBackgroundTransactions:!0,routingInstrumentation:instrumentRoutingWithDefaults,startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0,enableLongTask:!0,enableInp:!1,interactionsSampleRate:1,_experiments:{},...defaultRequestInstrumentationOptions},MAX_INTERACTIONS=10;class BrowserTracing{constructor(ns){this.name=BROWSER_TRACING_INTEGRATION_ID,this._hasSetTracePropagationTargets=!1,addTracingExtensions(),DEBUG_BUILD$2&&(this._hasSetTracePropagationTargets=!!(ns&&(ns.tracePropagationTargets||ns.tracingOrigins))),this.options={...DEFAULT_BROWSER_TRACING_OPTIONS,...ns},this.options._experiments.enableLongTask!==void 0&&(this.options.enableLongTask=this.options._experiments.enableLongTask),ns&&!ns.tracePropagationTargets&&ns.tracingOrigins&&(this.options.tracePropagationTargets=ns.tracingOrigins),this._collectWebVitals=startTrackingWebVitals(),this._interactionIdToRouteNameMapping={},this.options.enableInp&&startTrackingINP(this._interactionIdToRouteNameMapping,this.options.interactionsSampleRate),this.options.enableLongTask&&startTrackingLongTasks(),this.options._experiments.enableInteractions&&startTrackingInteractions(),this._latestRoute={name:void 0,context:void 0}}setupOnce(ns,rs){this._getCurrentHub=rs;const os=rs().getClient(),ss=os&&os.getOptions(),{routingInstrumentation:as,startTransactionOnLocationChange:ls,startTransactionOnPageLoad:cs,markBackgroundTransactions:us,traceFetch:ds,traceXHR:ps,shouldCreateSpanForRequest:hs,enableHTTPTimings:ms,_experiments:gs}=this.options,ys=ss&&ss.tracePropagationTargets,vs=ys||this.options.tracePropagationTargets;DEBUG_BUILD$2&&this._hasSetTracePropagationTargets&&ys&&logger$5.warn("[Tracing] The `tracePropagationTargets` option was set in the BrowserTracing integration and top level `Sentry.init`. The top level `Sentry.init` value is being used."),as(bs=>{const Ss=this._createRouteTransaction(bs);return this.options._experiments.onStartRouteTransaction&&this.options._experiments.onStartRouteTransaction(Ss,bs,rs),Ss},cs,ls),us&&registerBackgroundTabDetection(),gs.enableInteractions&&this._registerInteractionListener(),this.options.enableInp&&this._registerInpInteractionListener(),instrumentOutgoingRequests({traceFetch:ds,traceXHR:ps,tracePropagationTargets:vs,shouldCreateSpanForRequest:hs,enableHTTPTimings:ms})}_createRouteTransaction(ns){if(!this._getCurrentHub){DEBUG_BUILD$2&&logger$5.warn("[Tracing] Did not create ".concat(ns.op," transaction because _getCurrentHub is invalid."));return}const rs=this._getCurrentHub(),{beforeNavigate:is,idleTimeout:os,finalTimeout:ss,heartbeatInterval:as}=this.options,ls=ns.op==="pageload";let cs;if(ls){const ms=ls?getMetaContent("sentry-trace"):"",gs=ls?getMetaContent("baggage"):void 0,{traceId:ys,dsc:vs,parentSpanId:bs,sampled:Ss}=propagationContextFromHeaders(ms,gs);cs={traceId:ys,parentSpanId:bs,parentSampled:Ss,...ns,metadata:{...ns.metadata,dynamicSamplingContext:vs},trimEnd:!0}}else cs={trimEnd:!0,...ns};const us=typeof is=="function"?is(cs):cs,ds=us===void 0?{...cs,sampled:!1}:us;ds.metadata=ds.name!==cs.name?{...ds.metadata,source:"custom"}:ds.metadata,this._latestRoute.name=ds.name,this._latestRoute.context=ds,ds.sampled===!1&&DEBUG_BUILD$2&&logger$5.log("[Tracing] Will not send ".concat(ds.op," transaction because of beforeNavigate.")),DEBUG_BUILD$2&&logger$5.log("[Tracing] Starting ".concat(ds.op," transaction on scope"));const{location:ps}=WINDOW$2,hs=startIdleTransaction(rs,ds,os,ss,!0,{location:ps},as,ls);return ls&&WINDOW$2.document&&(WINDOW$2.document.addEventListener("readystatechange",()=>{["interactive","complete"].includes(WINDOW$2.document.readyState)&&hs.sendAutoFinishSignal()}),["interactive","complete"].includes(WINDOW$2.document.readyState)&&hs.sendAutoFinishSignal()),hs.registerBeforeFinishCallback(ms=>{this._collectWebVitals(),addPerformanceEntries(ms)}),hs}_registerInteractionListener(){let ns;const rs=()=>{const{idleTimeout:is,finalTimeout:os,heartbeatInterval:ss}=this.options,as="ui.action.click",ls=getActiveTransaction();if(ls&&ls.op&&["navigation","pageload"].includes(ls.op)){DEBUG_BUILD$2&&logger$5.warn("[Tracing] Did not create ".concat(as," transaction because a pageload or navigation transaction is in progress."));return}if(ns&&(ns.setFinishReason("interactionInterrupted"),ns.end(),ns=void 0),!this._getCurrentHub){DEBUG_BUILD$2&&logger$5.warn("[Tracing] Did not create ".concat(as," transaction because _getCurrentHub is invalid."));return}if(!this._latestRoute.name){DEBUG_BUILD$2&&logger$5.warn("[Tracing] Did not create ".concat(as," transaction because _latestRouteName is missing."));return}const cs=this._getCurrentHub(),{location:us}=WINDOW$2,ds={name:this._latestRoute.name,op:as,trimEnd:!0,data:{[SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]:this._latestRoute.context?getSource(this._latestRoute.context):"url"}};ns=startIdleTransaction(cs,ds,is,os,!0,{location:us},ss)};["click"].forEach(is=>{WINDOW$2.document&&addEventListener(is,rs,{once:!1,capture:!0})})}_registerInpInteractionListener(){const ns=({entries:rs})=>{const is=getClient(),os=is!==void 0&&is.getIntegrationByName!==void 0?is.getIntegrationByName("Replay"):void 0,ss=os!==void 0?os.getReplayId():void 0,as=getActiveTransaction(),ls=getCurrentScope(),cs=ls!==void 0?ls.getUser():void 0;rs.forEach(us=>{if(isPerformanceEventTiming(us)){const ds=us.interactionId;if(ds===void 0)return;const ps=this._interactionIdToRouteNameMapping[ds],hs=us.duration,ms=us.startTime,gs=Object.keys(this._interactionIdToRouteNameMapping),ys=gs.length>0?gs.reduce((vs,bs)=>this._interactionIdToRouteNameMapping[vs].duration<this._interactionIdToRouteNameMapping[bs].duration?vs:bs):void 0;if(us.entryType==="first-input"&&gs.map(bs=>this._interactionIdToRouteNameMapping[bs]).some(bs=>bs.duration===hs&&bs.startTime===ms)||!ds)return;if(ps)ps.duration=Math.max(ps.duration,hs);else if(gs.length<MAX_INTERACTIONS||ys===void 0||hs>this._interactionIdToRouteNameMapping[ys].duration){const vs=this._latestRoute.name,bs=this._latestRoute.context;vs&&bs&&(ys&&Object.keys(this._interactionIdToRouteNameMapping).length>=MAX_INTERACTIONS&&delete this._interactionIdToRouteNameMapping[ys],this._interactionIdToRouteNameMapping[ds]={routeName:vs,duration:hs,parentContext:bs,user:cs,activeTransaction:as,replayId:ss,startTime:ms})}}})};addPerformanceInstrumentationHandler("event",ns),addPerformanceInstrumentationHandler("first-input",ns)}}function getMetaContent(ts){const ns=getDomElement("meta[name=".concat(ts,"]"));return ns?ns.getAttribute("content"):void 0}function getSource(ts){const ns=ts.attributes&&ts.attributes[SEMANTIC_ATTRIBUTE_SENTRY_SOURCE],rs=ts.data&&ts.data[SEMANTIC_ATTRIBUTE_SENTRY_SOURCE],is=ts.metadata&&ts.metadata.source;return ns||rs||is}function isPerformanceEventTiming(ts){return"duration"in ts}const WINDOW$1=GLOBAL_OBJ;let ignoreOnError=0;function shouldIgnoreOnError(){return ignoreOnError>0}function ignoreNextOnError(){ignoreOnError++,setTimeout(()=>{ignoreOnError--})}function wrap(ts,ns={},rs){if(typeof ts!="function")return ts;try{const os=ts.__sentry_wrapped__;if(os)return os;if(getOriginalFunction(ts))return ts}catch{return ts}const is=function(){const os=Array.prototype.slice.call(arguments);try{rs&&typeof rs=="function"&&rs.apply(this,arguments);const ss=os.map(as=>wrap(as,ns));return ts.apply(this,ss)}catch(ss){throw ignoreNextOnError(),withScope(as=>{as.addEventProcessor(ls=>(ns.mechanism&&(addExceptionTypeValue(ls,void 0,void 0),addExceptionMechanism(ls,ns.mechanism)),ls.extra={...ls.extra,arguments:os},ls)),captureException(ss)}),ss}};try{for(const os in ts)Object.prototype.hasOwnProperty.call(ts,os)&&(is[os]=ts[os])}catch{}markFunctionWrapped(is,ts),addNonEnumerableProperty(ts,"__sentry_wrapped__",is);try{Object.getOwnPropertyDescriptor(is,"name").configurable&&Object.defineProperty(is,"name",{get(){return ts.name}})}catch{}return is}const DEBUG_BUILD$1=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function exceptionFromError(ts,ns){const rs=parseStackFrames(ts,ns),is={type:ns&&ns.name,value:extractMessage(ns)};return rs.length&&(is.stacktrace={frames:rs}),is.type===void 0&&is.value===""&&(is.value="Unrecoverable error caught"),is}function eventFromPlainObject(ts,ns,rs,is){const os=getClient(),ss=os&&os.getOptions().normalizeDepth,as={exception:{values:[{type:isEvent(ns)?ns.constructor.name:is?"UnhandledRejection":"Error",value:getNonErrorObjectExceptionValue(ns,{isUnhandledRejection:is})}]},extra:{__serialized__:normalizeToSize(ns,ss)}};if(rs){const ls=parseStackFrames(ts,rs);ls.length&&(as.exception.values[0].stacktrace={frames:ls})}return as}function eventFromError(ts,ns){return{exception:{values:[exceptionFromError(ts,ns)]}}}function parseStackFrames(ts,ns){const rs=ns.stacktrace||ns.stack||"",is=getPopSize(ns);try{return ts(rs,is)}catch{}return[]}const reactMinifiedRegexp=/Minified React error #\d+;/i;function getPopSize(ts){if(ts){if(typeof ts.framesToPop=="number")return ts.framesToPop;if(reactMinifiedRegexp.test(ts.message))return 1}return 0}function extractMessage(ts){const ns=ts&&ts.message;return ns?ns.error&&typeof ns.error.message=="string"?ns.error.message:ns:"No error message"}function eventFromException(ts,ns,rs,is){const os=rs&&rs.syntheticException||void 0,ss=eventFromUnknownInput(ts,ns,os,is);return addExceptionMechanism(ss),ss.level="error",rs&&rs.event_id&&(ss.event_id=rs.event_id),resolvedSyncPromise(ss)}function eventFromMessage(ts,ns,rs="info",is,os){const ss=is&&is.syntheticException||void 0,as=eventFromString(ts,ns,ss,os);return as.level=rs,is&&is.event_id&&(as.event_id=is.event_id),resolvedSyncPromise(as)}function eventFromUnknownInput(ts,ns,rs,is,os){let ss;if(isErrorEvent$2(ns)&&ns.error)return eventFromError(ts,ns.error);if(isDOMError(ns)||isDOMException(ns)){const as=ns;if("stack"in ns)ss=eventFromError(ts,ns);else{const ls=as.name||(isDOMError(as)?"DOMError":"DOMException"),cs=as.message?"".concat(ls,": ").concat(as.message):ls;ss=eventFromString(ts,cs,rs,is),addExceptionTypeValue(ss,cs)}return"code"in as&&(ss.tags={...ss.tags,"DOMException.code":"".concat(as.code)}),ss}return isError(ns)?eventFromError(ts,ns):isPlainObject(ns)||isEvent(ns)?(ss=eventFromPlainObject(ts,ns,rs,os),addExceptionMechanism(ss,{synthetic:!0}),ss):(ss=eventFromString(ts,ns,rs,is),addExceptionTypeValue(ss,"".concat(ns),void 0),addExceptionMechanism(ss,{synthetic:!0}),ss)}function eventFromString(ts,ns,rs,is){const os={};if(is&&rs){const ss=parseStackFrames(ts,rs);ss.length&&(os.exception={values:[{value:ns,stacktrace:{frames:ss}}]})}if(isParameterizedString(ns)){const{__sentry_template_string__:ss,__sentry_template_values__:as}=ns;return os.logentry={message:ss,params:as},os}return os.message=ns,os}function getNonErrorObjectExceptionValue(ts,{isUnhandledRejection:ns}){const rs=extractExceptionKeysForMessage(ts),is=ns?"promise rejection":"exception";if(isErrorEvent$2(ts))return"Event `ErrorEvent` captured as ".concat(is," with message `").concat(ts.message,"`");if(isEvent(ts)){const os=getObjectClassName(ts);return"Event `".concat(os,"` (type=").concat(ts.type,") captured as ").concat(is)}return"Object captured as ".concat(is," with keys: ").concat(rs)}function getObjectClassName(ts){try{const ns=Object.getPrototypeOf(ts);return ns?ns.constructor.name:void 0}catch{}}function createUserFeedbackEnvelope(ts,{metadata:ns,tunnel:rs,dsn:is}){const os={event_id:ts.event_id,sent_at:new Date().toISOString(),...ns&&ns.sdk&&{sdk:{name:ns.sdk.name,version:ns.sdk.version}},...!!rs&&!!is&&{dsn:dsnToString(is)}},ss=createUserFeedbackEnvelopeItem(ts);return createEnvelope(os,[ss])}function createUserFeedbackEnvelopeItem(ts){return[{type:"user_report"},ts]}class BrowserClient extends BaseClient{constructor(ns){const rs=WINDOW$1.SENTRY_SDK_SOURCE||getSDKSource();applySdkMetadata(ns,"browser",["browser"],rs),super(ns),ns.sendClientReports&&WINDOW$1.document&&WINDOW$1.document.addEventListener("visibilitychange",()=>{WINDOW$1.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(ns,rs){return eventFromException(this._options.stackParser,ns,rs,this._options.attachStacktrace)}eventFromMessage(ns,rs="info",is){return eventFromMessage(this._options.stackParser,ns,rs,is,this._options.attachStacktrace)}captureUserFeedback(ns){if(!this._isEnabled()){DEBUG_BUILD$1&&logger$5.warn("SDK not enabled, will not capture user feedback.");return}const rs=createUserFeedbackEnvelope(ns,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this._sendEnvelope(rs)}_prepareEvent(ns,rs,is){return ns.platform=ns.platform||"javascript",super._prepareEvent(ns,rs,is)}_flushOutcomes(){const ns=this._clearOutcomes();if(ns.length===0){DEBUG_BUILD$1&&logger$5.log("No outcomes to send");return}if(!this._dsn){DEBUG_BUILD$1&&logger$5.log("No dsn provided, will not send outcomes");return}DEBUG_BUILD$1&&logger$5.log("Sending outcomes:",ns);const rs=createClientReportEnvelope(ns,this._options.tunnel&&dsnToString(this._dsn));this._sendEnvelope(rs)}}let cachedFetchImpl;function getNativeFetchImplementation(){if(cachedFetchImpl)return cachedFetchImpl;if(isNativeFetch(WINDOW$1.fetch))return cachedFetchImpl=WINDOW$1.fetch.bind(WINDOW$1);const ts=WINDOW$1.document;let ns=WINDOW$1.fetch;if(ts&&typeof ts.createElement=="function")try{const rs=ts.createElement("iframe");rs.hidden=!0,ts.head.appendChild(rs);const is=rs.contentWindow;is&&is.fetch&&(ns=is.fetch),ts.head.removeChild(rs)}catch(rs){DEBUG_BUILD$1&&logger$5.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",rs)}return cachedFetchImpl=ns.bind(WINDOW$1)}function clearCachedFetchImplementation(){cachedFetchImpl=void 0}function makeFetchTransport(ts,ns=getNativeFetchImplementation()){let rs=0,is=0;function os(ss){const as=ss.body.length;rs+=as,is++;const ls={body:ss.body,method:"POST",referrerPolicy:"origin",headers:ts.headers,keepalive:rs<=6e4&&is<15,...ts.fetchOptions};try{return ns(ts.url,ls).then(cs=>(rs-=as,is--,{statusCode:cs.status,headers:{"x-sentry-rate-limits":cs.headers.get("X-Sentry-Rate-Limits"),"retry-after":cs.headers.get("Retry-After")}}))}catch(cs){return clearCachedFetchImplementation(),rs-=as,is--,rejectedSyncPromise(cs)}}return createTransport(ts,os)}const XHR_READYSTATE_DONE=4;function makeXHRTransport(ts){function ns(rs){return new SyncPromise((is,os)=>{const ss=new XMLHttpRequest;ss.onerror=os,ss.onreadystatechange=()=>{ss.readyState===XHR_READYSTATE_DONE&&is({statusCode:ss.status,headers:{"x-sentry-rate-limits":ss.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":ss.getResponseHeader("Retry-After")}})},ss.open("POST",ts.url);for(const as in ts.headers)Object.prototype.hasOwnProperty.call(ts.headers,as)&&ss.setRequestHeader(as,ts.headers[as]);ss.send(rs.body)})}return createTransport(ts,ns)}const UNKNOWN_FUNCTION="?",CHROME_PRIORITY=30,WINJS_PRIORITY=40,GECKO_PRIORITY=50;function createFrame(ts,ns,rs,is){const os={filename:ts,function:ns,in_app:!0};return rs!==void 0&&(os.lineno=rs),is!==void 0&&(os.colno=is),os}const chromeRegex=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,chromeEvalRegex=/\((\S*)(?::(\d+))(?::(\d+))\)/,chromeStackParserFn=ts=>{const ns=chromeRegex.exec(ts);if(ns){if(ns[2]&&ns[2].indexOf("eval")===0){const ss=chromeEvalRegex.exec(ns[2]);ss&&(ns[2]=ss[1],ns[3]=ss[2],ns[4]=ss[3])}const[is,os]=extractSafariExtensionDetails(ns[1]||UNKNOWN_FUNCTION,ns[2]);return createFrame(os,is,ns[3]?+ns[3]:void 0,ns[4]?+ns[4]:void 0)}},chromeStackLineParser=[CHROME_PRIORITY,chromeStackParserFn],geckoREgex=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,geckoEvalRegex=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,gecko=ts=>{const ns=geckoREgex.exec(ts);if(ns){if(ns[3]&&ns[3].indexOf(" > eval")>-1){const ss=geckoEvalRegex.exec(ns[3]);ss&&(ns[1]=ns[1]||"eval",ns[3]=ss[1],ns[4]=ss[2],ns[5]="")}let is=ns[3],os=ns[1]||UNKNOWN_FUNCTION;return[os,is]=extractSafariExtensionDetails(os,is),createFrame(is,os,ns[4]?+ns[4]:void 0,ns[5]?+ns[5]:void 0)}},geckoStackLineParser=[GECKO_PRIORITY,gecko],winjsRegex=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,winjs=ts=>{const ns=winjsRegex.exec(ts);return ns?createFrame(ns[2],ns[1]||UNKNOWN_FUNCTION,+ns[3],ns[4]?+ns[4]:void 0):void 0},winjsStackLineParser=[WINJS_PRIORITY,winjs],defaultStackLineParsers=[chromeStackLineParser,geckoStackLineParser,winjsStackLineParser],defaultStackParser=createStackParser(...defaultStackLineParsers),extractSafariExtensionDetails=(ts,ns)=>{const rs=ts.indexOf("safari-extension")!==-1,is=ts.indexOf("safari-web-extension")!==-1;return rs||is?[ts.indexOf("@")!==-1?ts.split("@")[0]:UNKNOWN_FUNCTION,rs?"safari-extension:".concat(ns):"safari-web-extension:".concat(ns)]:[ts,ns]},MAX_ALLOWED_STRING_LENGTH=1024,INTEGRATION_NAME$5="Breadcrumbs",_breadcrumbsIntegration=(ts={})=>{const ns={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...ts};return{name:INTEGRATION_NAME$5,setupOnce(){},setup(rs){ns.console&&addConsoleInstrumentationHandler(_getConsoleBreadcrumbHandler(rs)),ns.dom&&addClickKeypressInstrumentationHandler(_getDomBreadcrumbHandler(rs,ns.dom)),ns.xhr&&addXhrInstrumentationHandler(_getXhrBreadcrumbHandler(rs)),ns.fetch&&addFetchInstrumentationHandler(_getFetchBreadcrumbHandler(rs)),ns.history&&addHistoryInstrumentationHandler(_getHistoryBreadcrumbHandler(rs)),ns.sentry&&rs.on&&rs.on("beforeSendEvent",_getSentryBreadcrumbHandler(rs))}}},breadcrumbsIntegration=_breadcrumbsIntegration;convertIntegrationFnToClass(INTEGRATION_NAME$5,breadcrumbsIntegration);function _getSentryBreadcrumbHandler(ts){return function(rs){getClient()===ts&&addBreadcrumb({category:"sentry.".concat(rs.type==="transaction"?"transaction":"event"),event_id:rs.event_id,level:rs.level,message:getEventDescription(rs)},{event:rs})}}function _getDomBreadcrumbHandler(ts,ns){return function(is){if(getClient()!==ts)return;let os,ss,as=typeof ns=="object"?ns.serializeAttribute:void 0,ls=typeof ns=="object"&&typeof ns.maxStringLength=="number"?ns.maxStringLength:void 0;ls&&ls>MAX_ALLOWED_STRING_LENGTH&&(DEBUG_BUILD$1&&logger$5.warn("`dom.maxStringLength` cannot exceed ".concat(MAX_ALLOWED_STRING_LENGTH,", but a value of ").concat(ls," was configured. Sentry will use ").concat(MAX_ALLOWED_STRING_LENGTH," instead.")),ls=MAX_ALLOWED_STRING_LENGTH),typeof as=="string"&&(as=[as]);try{const us=is.event,ds=_isEvent(us)?us.target:us;os=htmlTreeAsString(ds,{keyAttrs:as,maxStringLength:ls}),ss=getComponentName(ds)}catch{os="<unknown>"}if(os.length===0)return;const cs={category:"ui.".concat(is.name),message:os};ss&&(cs.data={"ui.component_name":ss}),addBreadcrumb(cs,{event:is.event,name:is.name,global:is.global})}}function _getConsoleBreadcrumbHandler(ts){return function(rs){if(getClient()!==ts)return;const is={category:"console",data:{arguments:rs.args,logger:"console"},level:severityLevelFromString(rs.level),message:safeJoin(rs.args," ")};if(rs.level==="assert")if(rs.args[0]===!1)is.message="Assertion failed: ".concat(safeJoin(rs.args.slice(1)," ")||"console.assert"),is.data.arguments=rs.args.slice(1);else return;addBreadcrumb(is,{input:rs.args,level:rs.level})}}function _getXhrBreadcrumbHandler(ts){return function(rs){if(getClient()!==ts)return;const{startTimestamp:is,endTimestamp:os}=rs,ss=rs.xhr[SENTRY_XHR_DATA_KEY];if(!is||!os||!ss)return;const{method:as,url:ls,status_code:cs,body:us}=ss,ds={method:as,url:ls,status_code:cs},ps={xhr:rs.xhr,input:us,startTimestamp:is,endTimestamp:os};addBreadcrumb({category:"xhr",data:ds,type:"http"},ps)}}function _getFetchBreadcrumbHandler(ts){return function(rs){if(getClient()!==ts)return;const{startTimestamp:is,endTimestamp:os}=rs;if(os&&!(rs.fetchData.url.match(/sentry_key/)&&rs.fetchData.method==="POST"))if(rs.error){const ss=rs.fetchData,as={data:rs.error,input:rs.args,startTimestamp:is,endTimestamp:os};addBreadcrumb({category:"fetch",data:ss,level:"error",type:"http"},as)}else{const ss=rs.response,as={...rs.fetchData,status_code:ss&&ss.status},ls={input:rs.args,response:ss,startTimestamp:is,endTimestamp:os};addBreadcrumb({category:"fetch",data:as,type:"http"},ls)}}}function _getHistoryBreadcrumbHandler(ts){return function(rs){if(getClient()!==ts)return;let is=rs.from,os=rs.to;const ss=parseUrl$1(WINDOW$1.location.href);let as=is?parseUrl$1(is):void 0;const ls=parseUrl$1(os);(!as||!as.path)&&(as=ss),ss.protocol===ls.protocol&&ss.host===ls.host&&(os=ls.relative),ss.protocol===as.protocol&&ss.host===as.host&&(is=as.relative),addBreadcrumb({category:"navigation",data:{from:is,to:os}})}}function _isEvent(ts){return!!ts&&!!ts.target}const INTEGRATION_NAME$4="Dedupe",_dedupeIntegration=()=>{let ts;return{name:INTEGRATION_NAME$4,setupOnce(){},processEvent(ns){if(ns.type)return ns;try{if(_shouldDropEvent(ns,ts))return DEBUG_BUILD$1&&logger$5.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return ts=ns}}},dedupeIntegration=_dedupeIntegration;convertIntegrationFnToClass(INTEGRATION_NAME$4,dedupeIntegration);function _shouldDropEvent(ts,ns){return ns?!!(_isSameMessageEvent(ts,ns)||_isSameExceptionEvent(ts,ns)):!1}function _isSameMessageEvent(ts,ns){const rs=ts.message,is=ns.message;return!(!rs&&!is||rs&&!is||!rs&&is||rs!==is||!_isSameFingerprint(ts,ns)||!_isSameStacktrace(ts,ns))}function _isSameExceptionEvent(ts,ns){const rs=_getExceptionFromEvent(ns),is=_getExceptionFromEvent(ts);return!(!rs||!is||rs.type!==is.type||rs.value!==is.value||!_isSameFingerprint(ts,ns)||!_isSameStacktrace(ts,ns))}function _isSameStacktrace(ts,ns){let rs=_getFramesFromEvent(ts),is=_getFramesFromEvent(ns);if(!rs&&!is)return!0;if(rs&&!is||!rs&&is||(rs=rs,is=is,is.length!==rs.length))return!1;for(let os=0;os<is.length;os++){const ss=is[os],as=rs[os];if(ss.filename!==as.filename||ss.lineno!==as.lineno||ss.colno!==as.colno||ss.function!==as.function)return!1}return!0}function _isSameFingerprint(ts,ns){let rs=ts.fingerprint,is=ns.fingerprint;if(!rs&&!is)return!0;if(rs&&!is||!rs&&is)return!1;rs=rs,is=is;try{return rs.join("")===is.join("")}catch{return!1}}function _getExceptionFromEvent(ts){return ts.exception&&ts.exception.values&&ts.exception.values[0]}function _getFramesFromEvent(ts){const ns=ts.exception;if(ns)try{return ns.values[0].stacktrace.frames}catch{return}}const INTEGRATION_NAME$3="GlobalHandlers",_globalHandlersIntegration=(ts={})=>{const ns={onerror:!0,onunhandledrejection:!0,...ts};return{name:INTEGRATION_NAME$3,setupOnce(){Error.stackTraceLimit=50},setup(rs){ns.onerror&&(_installGlobalOnErrorHandler(rs),globalHandlerLog("onerror")),ns.onunhandledrejection&&(_installGlobalOnUnhandledRejectionHandler(rs),globalHandlerLog("onunhandledrejection"))}}},globalHandlersIntegration=_globalHandlersIntegration;convertIntegrationFnToClass(INTEGRATION_NAME$3,globalHandlersIntegration);function _installGlobalOnErrorHandler(ts){addGlobalErrorInstrumentationHandler(ns=>{const{stackParser:rs,attachStacktrace:is}=getOptions();if(getClient()!==ts||shouldIgnoreOnError())return;const{msg:os,url:ss,line:as,column:ls,error:cs}=ns,us=cs===void 0&&isString$1(os)?_eventFromIncompleteOnError(os,ss,as,ls):_enhanceEventWithInitialFrame(eventFromUnknownInput(rs,cs||os,void 0,is,!1),ss,as,ls);us.level="error",captureEvent(us,{originalException:cs,mechanism:{handled:!1,type:"onerror"}})})}function _installGlobalOnUnhandledRejectionHandler(ts){addGlobalUnhandledRejectionInstrumentationHandler(ns=>{const{stackParser:rs,attachStacktrace:is}=getOptions();if(getClient()!==ts||shouldIgnoreOnError())return;const os=_getUnhandledRejectionError(ns),ss=isPrimitive$1(os)?_eventFromRejectionWithPrimitive(os):eventFromUnknownInput(rs,os,void 0,is,!0);ss.level="error",captureEvent(ss,{originalException:os,mechanism:{handled:!1,type:"onunhandledrejection"}})})}function _getUnhandledRejectionError(ts){if(isPrimitive$1(ts))return ts;const ns=ts;try{if("reason"in ns)return ns.reason;if("detail"in ns&&"reason"in ns.detail)return ns.detail.reason}catch{}return ts}function _eventFromRejectionWithPrimitive(ts){return{exception:{values:[{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: ".concat(String(ts))}]}}}function _eventFromIncompleteOnError(ts,ns,rs,is){const os=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;let ss=isErrorEvent$2(ts)?ts.message:ts,as="Error";const ls=ss.match(os);return ls&&(as=ls[1],ss=ls[2]),_enhanceEventWithInitialFrame({exception:{values:[{type:as,value:ss}]}},ns,rs,is)}function _enhanceEventWithInitialFrame(ts,ns,rs,is){const os=ts.exception=ts.exception||{},ss=os.values=os.values||[],as=ss[0]=ss[0]||{},ls=as.stacktrace=as.stacktrace||{},cs=ls.frames=ls.frames||[],us=isNaN(parseInt(is,10))?void 0:is,ds=isNaN(parseInt(rs,10))?void 0:rs,ps=isString$1(ns)&&ns.length>0?ns:getLocationHref();return cs.length===0&&cs.push({colno:us,filename:ps,function:"?",in_app:!0,lineno:ds}),ts}function globalHandlerLog(ts){DEBUG_BUILD$1&&logger$5.log("Global Handler attached: ".concat(ts))}function getOptions(){const ts=getClient();return ts&&ts.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const INTEGRATION_NAME$2="HttpContext",_httpContextIntegration=()=>({name:INTEGRATION_NAME$2,setupOnce(){},preprocessEvent(ts){if(!WINDOW$1.navigator&&!WINDOW$1.location&&!WINDOW$1.document)return;const ns=ts.request&&ts.request.url||WINDOW$1.location&&WINDOW$1.location.href,{referrer:rs}=WINDOW$1.document||{},{userAgent:is}=WINDOW$1.navigator||{},os={...ts.request&&ts.request.headers,...rs&&{Referer:rs},...is&&{"User-Agent":is}},ss={...ts.request,...ns&&{url:ns},headers:os};ts.request=ss}}),httpContextIntegration=_httpContextIntegration;convertIntegrationFnToClass(INTEGRATION_NAME$2,httpContextIntegration);const DEFAULT_KEY="cause",DEFAULT_LIMIT=5,INTEGRATION_NAME$1="LinkedErrors",_linkedErrorsIntegration=(ts={})=>{const ns=ts.limit||DEFAULT_LIMIT,rs=ts.key||DEFAULT_KEY;return{name:INTEGRATION_NAME$1,setupOnce(){},preprocessEvent(is,os,ss){const as=ss.getOptions();applyAggregateErrorsToEvent(exceptionFromError,as.stackParser,as.maxValueLength,rs,ns,is,os)}}},linkedErrorsIntegration=_linkedErrorsIntegration;convertIntegrationFnToClass(INTEGRATION_NAME$1,linkedErrorsIntegration);const DEFAULT_EVENT_TARGET=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],INTEGRATION_NAME="TryCatch",_browserApiErrorsIntegration=(ts={})=>{const ns={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...ts};return{name:INTEGRATION_NAME,setupOnce(){ns.setTimeout&&fill(WINDOW$1,"setTimeout",_wrapTimeFunction),ns.setInterval&&fill(WINDOW$1,"setInterval",_wrapTimeFunction),ns.requestAnimationFrame&&fill(WINDOW$1,"requestAnimationFrame",_wrapRAF),ns.XMLHttpRequest&&"XMLHttpRequest"in WINDOW$1&&fill(XMLHttpRequest.prototype,"send",_wrapXHR);const rs=ns.eventTarget;rs&&(Array.isArray(rs)?rs:DEFAULT_EVENT_TARGET).forEach(_wrapEventTarget)}}},browserApiErrorsIntegration=_browserApiErrorsIntegration;convertIntegrationFnToClass(INTEGRATION_NAME,browserApiErrorsIntegration);function _wrapTimeFunction(ts){return function(...ns){const rs=ns[0];return ns[0]=wrap(rs,{mechanism:{data:{function:getFunctionName(ts)},handled:!1,type:"instrument"}}),ts.apply(this,ns)}}function _wrapRAF(ts){return function(ns){return ts.apply(this,[wrap(ns,{mechanism:{data:{function:"requestAnimationFrame",handler:getFunctionName(ts)},handled:!1,type:"instrument"}})])}}function _wrapXHR(ts){return function(...ns){const rs=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(os=>{os in rs&&typeof rs[os]=="function"&&fill(rs,os,function(ss){const as={mechanism:{data:{function:os,handler:getFunctionName(ss)},handled:!1,type:"instrument"}},ls=getOriginalFunction(ss);return ls&&(as.mechanism.data.handler=getFunctionName(ls)),wrap(ss,as)})}),ts.apply(this,ns)}}function _wrapEventTarget(ts){const ns=WINDOW$1,rs=ns[ts]&&ns[ts].prototype;!rs||!rs.hasOwnProperty||!rs.hasOwnProperty("addEventListener")||(fill(rs,"addEventListener",function(is){return function(os,ss,as){try{typeof ss.handleEvent=="function"&&(ss.handleEvent=wrap(ss.handleEvent,{mechanism:{data:{function:"handleEvent",handler:getFunctionName(ss),target:ts},handled:!1,type:"instrument"}}))}catch{}return is.apply(this,[os,wrap(ss,{mechanism:{data:{function:"addEventListener",handler:getFunctionName(ss),target:ts},handled:!1,type:"instrument"}}),as])}}),fill(rs,"removeEventListener",function(is){return function(os,ss,as){const ls=ss;try{const cs=ls&&ls.__sentry_wrapped__;cs&&is.call(this,os,cs,as)}catch{}return is.call(this,os,ls,as)}}))}const defaultIntegrations=[inboundFiltersIntegration(),functionToStringIntegration(),browserApiErrorsIntegration(),breadcrumbsIntegration(),globalHandlersIntegration(),linkedErrorsIntegration(),dedupeIntegration(),httpContextIntegration()];function getDefaultIntegrations(ts){return[...defaultIntegrations]}function init$1(ts={}){ts.defaultIntegrations===void 0&&(ts.defaultIntegrations=getDefaultIntegrations()),ts.release===void 0&&(typeof __SENTRY_RELEASE__=="string"&&(ts.release=__SENTRY_RELEASE__),WINDOW$1.SENTRY_RELEASE&&WINDOW$1.SENTRY_RELEASE.id&&(ts.release=WINDOW$1.SENTRY_RELEASE.id)),ts.autoSessionTracking===void 0&&(ts.autoSessionTracking=!0),ts.sendClientReports===void 0&&(ts.sendClientReports=!0);const ns={...ts,stackParser:stackParserFromStackParserOptions(ts.stackParser||defaultStackParser),integrations:getIntegrationsToSetup(ts),transport:ts.transport||(supportsFetch()?makeFetchTransport:makeXHRTransport)};initAndBind(BrowserClient,ns),ts.autoSessionTracking&&startSessionTracking()}function startSessionTracking(){if(typeof WINDOW$1.document>"u"){DEBUG_BUILD$1&&logger$5.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");return}startSession({ignoreDuration:!0}),captureSession(),addHistoryInstrumentationHandler(({from:ts,to:ns})=>{ts!==void 0&&ts!==ns&&(startSession({ignoreDuration:!0}),captureSession())})}const WINDOW=GLOBAL_OBJ,REPLAY_SESSION_KEY="sentryReplaySession",REPLAY_EVENT_NAME="replay_event",UNABLE_TO_SEND_REPLAY="Unable to send Replay",SESSION_IDLE_PAUSE_DURATION=3e5,SESSION_IDLE_EXPIRE_DURATION=9e5,DEFAULT_FLUSH_MIN_DELAY=5e3,DEFAULT_FLUSH_MAX_DELAY=5500,BUFFER_CHECKOUT_TIME=6e4,RETRY_BASE_INTERVAL=5e3,RETRY_MAX_COUNT=3,NETWORK_BODY_MAX_SIZE=15e4,CONSOLE_ARG_MAX_SIZE=5e3,SLOW_CLICK_THRESHOLD=3e3,SLOW_CLICK_SCROLL_TIMEOUT=300,REPLAY_MAX_EVENT_BUFFER_SIZE=2e7,MIN_REPLAY_DURATION=4999,MIN_REPLAY_DURATION_LIMIT=15e3,MAX_REPLAY_DURATION=36e5;function _nullishCoalesce$1(ts,ns){return ts!=null?ts:ns()}function _optionalChain$5(ts){let ns,rs=ts[0],is=1;for(;is<ts.length;){const os=ts[is],ss=ts[is+1];if(is+=2,(os==="optionalAccess"||os==="optionalCall")&&rs==null)return;os==="access"||os==="optionalAccess"?(ns=rs,rs=ss(rs)):(os==="call"||os==="optionalCall")&&(rs=ss((...as)=>rs.call(ns,...as)),ns=void 0)}return rs}var NodeType$1;(function(ts){ts[ts.Document=0]="Document",ts[ts.DocumentType=1]="DocumentType",ts[ts.Element=2]="Element",ts[ts.Text=3]="Text",ts[ts.CDATA=4]="CDATA",ts[ts.Comment=5]="Comment"})(NodeType$1||(NodeType$1={}));function isElement$1$1(ts){return ts.nodeType===ts.ELEMENT_NODE}function isShadowRoot$2(ts){const ns=_optionalChain$5([ts,"optionalAccess",rs=>rs.host]);return _optionalChain$5([ns,"optionalAccess",rs=>rs.shadowRoot])===ts}function isNativeShadowDom$1(ts){return Object.prototype.toString.call(ts)==="[object ShadowRoot]"}function fixBrowserCompatibilityIssuesInCSS$1(ts){return ts.includes(" background-clip: text;")&&!ts.includes(" -webkit-background-clip: text;")&&(ts=ts.replace(" background-clip: text;"," -webkit-background-clip: text; background-clip: text;")),ts}function escapeImportStatement$1(ts){const{cssText:ns}=ts;if(ns.split('"').length<3)return ns;const rs=["@import","url(".concat(JSON.stringify(ts.href),")")];return ts.layerName===""?rs.push("layer"):ts.layerName&&rs.push("layer(".concat(ts.layerName,")")),ts.supportsText&&rs.push("supports(".concat(ts.supportsText,")")),ts.media.length&&rs.push(ts.media.mediaText),rs.join(" ")+";"}function stringifyStylesheet$1(ts){try{const ns=ts.rules||ts.cssRules;return ns?fixBrowserCompatibilityIssuesInCSS$1(Array.from(ns,stringifyRule$1).join("")):null}catch{return null}}function stringifyRule$1(ts){let ns;if(isCSSImportRule$1(ts))try{ns=stringifyStylesheet$1(ts.styleSheet)||escapeImportStatement$1(ts)}catch{}else if(isCSSStyleRule$1(ts)&&ts.selectorText.includes(":"))return fixSafariColons$1(ts.cssText);return ns||ts.cssText}function fixSafariColons$1(ts){const ns=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return ts.replace(ns,"$1\\$2")}function isCSSImportRule$1(ts){return"styleSheet"in ts}function isCSSStyleRule$1(ts){return"selectorText"in ts}let Mirror$2=class{constructor(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}getId(ns){if(!ns)return-1;const rs=_optionalChain$5([this,"access",is=>is.getMeta,"call",is=>is(ns),"optionalAccess",is=>is.id]);return _nullishCoalesce$1(rs,()=>-1)}getNode(ns){return this.idNodeMap.get(ns)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(ns){return this.nodeMetaMap.get(ns)||null}removeNodeFromMap(ns){const rs=this.getId(ns);this.idNodeMap.delete(rs),ns.childNodes&&ns.childNodes.forEach(is=>this.removeNodeFromMap(is))}has(ns){return this.idNodeMap.has(ns)}hasNode(ns){return this.nodeMetaMap.has(ns)}add(ns,rs){const is=rs.id;this.idNodeMap.set(is,ns),this.nodeMetaMap.set(ns,rs)}replace(ns,rs){const is=this.getNode(ns);if(is){const os=this.nodeMetaMap.get(is);os&&this.nodeMetaMap.set(rs,os)}this.idNodeMap.set(ns,rs)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}};function createMirror$1(){return new Mirror$2}function shouldMaskInput({maskInputOptions:ts,tagName:ns,type:rs}){return ns==="OPTION"&&(ns="SELECT"),!!(ts[ns.toLowerCase()]||rs&&ts[rs]||rs==="password"||ns==="INPUT"&&!rs&&ts.text)}function maskInputValue$1({isMasked:ts,element:ns,value:rs,maskInputFn:is}){let os=rs||"";return ts?(is&&(os=is(os,ns)),"*".repeat(os.length)):os}function toLowerCase$1(ts){return ts.toLowerCase()}function toUpperCase(ts){return ts.toUpperCase()}const ORIGINAL_ATTRIBUTE_NAME$1="__rrweb_original__";function is2DCanvasBlank$1(ts){const ns=ts.getContext("2d");if(!ns)return!0;const rs=50;for(let is=0;is<ts.width;is+=rs)for(let os=0;os<ts.height;os+=rs){const ss=ns.getImageData,as=ORIGINAL_ATTRIBUTE_NAME$1 in ss?ss[ORIGINAL_ATTRIBUTE_NAME$1]:ss;if(new Uint32Array(as.call(ns,is,os,Math.min(rs,ts.width-is),Math.min(rs,ts.height-os)).data.buffer).some(cs=>cs!==0))return!1}return!0}function getInputType$1(ts){const ns=ts.type;return ts.hasAttribute("data-rr-is-password")?"password":ns?toLowerCase$1(ns):null}function getInputValue(ts,ns,rs){return ns==="INPUT"&&(rs==="radio"||rs==="checkbox")?ts.getAttribute("value")||"":ts.value}let _id$1=1;const tagNameRegex$1=new RegExp("[^a-z0-9-_:]"),IGNORED_NODE$1=-2;function genId$1(){return _id$1++}function getValidTagName$1(ts){if(ts instanceof HTMLFormElement)return"form";const ns=toLowerCase$1(ts.tagName);return tagNameRegex$1.test(ns)?"div":ns}function extractOrigin$1(ts){let ns="";return ts.indexOf("//")>-1?ns=ts.split("/").slice(0,3).join("/"):ns=ts.split("/")[0],ns=ns.split("?")[0],ns}let canvasService$1,canvasCtx$1;const URL_IN_CSS_REF$1=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,URL_PROTOCOL_MATCH$1=/^(?:[a-z+]+:)?\/\//i,URL_WWW_MATCH$1=/^www\..*/i,DATA_URI$1=/^(data:)([^,]*),(.*)/i;function absoluteToStylesheet$1(ts,ns){return(ts||"").replace(URL_IN_CSS_REF$1,(rs,is,os,ss,as,ls)=>{const cs=os||as||ls,us=is||ss||"";if(!cs)return rs;if(URL_PROTOCOL_MATCH$1.test(cs)||URL_WWW_MATCH$1.test(cs)||DATA_URI$1.test(cs))return"url(".concat(us).concat(cs).concat(us,")");if(cs[0]==="/")return"url(".concat(us).concat(extractOrigin$1(ns)+cs).concat(us,")");const ds=ns.split("/"),ps=cs.split("/");ds.pop();for(const hs of ps)hs!=="."&&(hs===".."?ds.pop():ds.push(hs));return"url(".concat(us).concat(ds.join("/")).concat(us,")")})}const SRCSET_NOT_SPACES$1=/^[^ \t\n\r\u000c]+/,SRCSET_COMMAS_OR_SPACES$1=/^[, \t\n\r\u000c]+/;function getAbsoluteSrcsetString$1(ts,ns){if(ns.trim()==="")return ns;let rs=0;function is(ss){let as;const ls=ss.exec(ns.substring(rs));return ls?(as=ls[0],rs+=as.length,as):""}const os=[];for(;is(SRCSET_COMMAS_OR_SPACES$1),!(rs>=ns.length);){let ss=is(SRCSET_NOT_SPACES$1);if(ss.slice(-1)===",")ss=absoluteToDoc$1(ts,ss.substring(0,ss.length-1)),os.push(ss);else{let as="";ss=absoluteToDoc$1(ts,ss);let ls=!1;for(;;){const cs=ns.charAt(rs);if(cs===""){os.push((ss+as).trim());break}else if(ls)cs===")"&&(ls=!1);else if(cs===","){rs+=1,os.push((ss+as).trim());break}else cs==="("&&(ls=!0);as+=cs,rs+=1}}}return os.join(", ")}function absoluteToDoc$1(ts,ns){if(!ns||ns.trim()==="")return ns;const rs=ts.createElement("a");return rs.href=ns,rs.href}function isSVGElement$1(ts){return!!(ts.tagName==="svg"||ts.ownerSVGElement)}function getHref$1(){const ts=document.createElement("a");return ts.href="",ts.href}function transformAttribute$1(ts,ns,rs,is,os,ss){return is&&(rs==="src"||rs==="href"&&!(ns==="use"&&is[0]==="#")||rs==="xlink:href"&&is[0]!=="#"||rs==="background"&&(ns==="table"||ns==="td"||ns==="th")?absoluteToDoc$1(ts,is):rs==="srcset"?getAbsoluteSrcsetString$1(ts,is):rs==="style"?absoluteToStylesheet$1(is,getHref$1()):ns==="object"&&rs==="data"?absoluteToDoc$1(ts,is):typeof ss=="function"?ss(rs,is,os):is)}function ignoreAttribute$1(ts,ns,rs){return(ts==="video"||ts==="audio")&&ns==="autoplay"}function _isBlockedElement$1(ts,ns,rs,is){try{if(is&&ts.matches(is))return!1;if(typeof ns=="string"){if(ts.classList.contains(ns))return!0}else for(let os=ts.classList.length;os--;){const ss=ts.classList[os];if(ns.test(ss))return!0}if(rs)return ts.matches(rs)}catch{}return!1}function elementClassMatchesRegex(ts,ns){for(let rs=ts.classList.length;rs--;){const is=ts.classList[rs];if(ns.test(is))return!0}return!1}function distanceToMatch(ts,ns,rs=1/0,is=0){return!ts||ts.nodeType!==ts.ELEMENT_NODE||is>rs?-1:ns(ts)?is:distanceToMatch(ts.parentNode,ns,rs,is+1)}function createMatchPredicate(ts,ns){return rs=>{const is=rs;if(is===null)return!1;try{if(ts){if(typeof ts=="string"){if(is.matches(".".concat(ts)))return!0}else if(elementClassMatchesRegex(is,ts))return!0}return!!(ns&&is.matches(ns))}catch{return!1}}}function needMaskingText$1(ts,ns,rs,is,os,ss){try{const as=ts.nodeType===ts.ELEMENT_NODE?ts:ts.parentElement;if(as===null)return!1;if(as.tagName==="INPUT"){const us=as.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(us))return!0}let ls=-1,cs=-1;if(ss){if(cs=distanceToMatch(as,createMatchPredicate(is,os)),cs<0)return!0;ls=distanceToMatch(as,createMatchPredicate(ns,rs),cs>=0?cs:1/0)}else{if(ls=distanceToMatch(as,createMatchPredicate(ns,rs)),ls<0)return!1;cs=distanceToMatch(as,createMatchPredicate(is,os),ls>=0?ls:1/0)}return ls>=0?cs>=0?ls<=cs:!0:cs>=0?!1:!!ss}catch{}return!!ss}function onceIframeLoaded$1(ts,ns,rs){const is=ts.contentWindow;if(!is)return;let os=!1,ss;try{ss=is.document.readyState}catch{return}if(ss!=="complete"){const ls=setTimeout(()=>{os||(ns(),os=!0)},rs);ts.addEventListener("load",()=>{clearTimeout(ls),os=!0,ns()});return}const as="about:blank";if(is.location.href!==as||ts.src===as||ts.src==="")return setTimeout(ns,0),ts.addEventListener("load",ns);ts.addEventListener("load",ns)}function onceStylesheetLoaded$1(ts,ns,rs){let is=!1,os;try{os=ts.sheet}catch{return}if(os)return;const ss=setTimeout(()=>{is||(ns(),is=!0)},rs);ts.addEventListener("load",()=>{clearTimeout(ss),is=!0,ns()})}function serializeNode$1(ts,ns){const{doc:rs,mirror:is,blockClass:os,blockSelector:ss,unblockSelector:as,maskAllText:ls,maskAttributeFn:cs,maskTextClass:us,unmaskTextClass:ds,maskTextSelector:ps,unmaskTextSelector:hs,inlineStylesheet:ms,maskInputOptions:gs={},maskTextFn:ys,maskInputFn:vs,dataURLOptions:bs={},inlineImages:Ss,recordCanvas:$s,keepIframeSrcFn:Cs,newlyAddedElement:Es=!1}=ns,xs=getRootId$1(rs,is);switch(ts.nodeType){case ts.DOCUMENT_NODE:return ts.compatMode!=="CSS1Compat"?{type:NodeType$1.Document,childNodes:[],compatMode:ts.compatMode}:{type:NodeType$1.Document,childNodes:[]};case ts.DOCUMENT_TYPE_NODE:return{type:NodeType$1.DocumentType,name:ts.name,publicId:ts.publicId,systemId:ts.systemId,rootId:xs};case ts.ELEMENT_NODE:return serializeElementNode$1(ts,{doc:rs,blockClass:os,blockSelector:ss,unblockSelector:as,inlineStylesheet:ms,maskAttributeFn:cs,maskInputOptions:gs,maskInputFn:vs,dataURLOptions:bs,inlineImages:Ss,recordCanvas:$s,keepIframeSrcFn:Cs,newlyAddedElement:Es,rootId:xs,maskAllText:ls,maskTextClass:us,unmaskTextClass:ds,maskTextSelector:ps,unmaskTextSelector:hs});case ts.TEXT_NODE:return serializeTextNode$1(ts,{maskAllText:ls,maskTextClass:us,unmaskTextClass:ds,maskTextSelector:ps,unmaskTextSelector:hs,maskTextFn:ys,maskInputOptions:gs,maskInputFn:vs,rootId:xs});case ts.CDATA_SECTION_NODE:return{type:NodeType$1.CDATA,textContent:"",rootId:xs};case ts.COMMENT_NODE:return{type:NodeType$1.Comment,textContent:ts.textContent||"",rootId:xs};default:return!1}}function getRootId$1(ts,ns){if(!ns.hasNode(ts))return;const rs=ns.getId(ts);return rs===1?void 0:rs}function serializeTextNode$1(ts,ns){const{maskAllText:rs,maskTextClass:is,unmaskTextClass:os,maskTextSelector:ss,unmaskTextSelector:as,maskTextFn:ls,maskInputOptions:cs,maskInputFn:us,rootId:ds}=ns,ps=ts.parentNode&&ts.parentNode.tagName;let hs=ts.textContent;const ms=ps==="STYLE"?!0:void 0,gs=ps==="SCRIPT"?!0:void 0,ys=ps==="TEXTAREA"?!0:void 0;if(ms&&hs){try{ts.nextSibling||ts.previousSibling||_optionalChain$5([ts,"access",bs=>bs.parentNode,"access",bs=>bs.sheet,"optionalAccess",bs=>bs.cssRules])&&(hs=stringifyStylesheet$1(ts.parentNode.sheet))}catch(bs){console.warn("Cannot get CSS styles from text's parentNode. Error: ".concat(bs),ts)}hs=absoluteToStylesheet$1(hs,getHref$1())}gs&&(hs="SCRIPT_PLACEHOLDER");const vs=needMaskingText$1(ts,is,ss,os,as,rs);if(!ms&&!gs&&!ys&&hs&&vs&&(hs=ls?ls(hs,ts.parentElement):hs.replace(/[\S]/g,"*")),ys&&hs&&(cs.textarea||vs)&&(hs=us?us(hs,ts.parentNode):hs.replace(/[\S]/g,"*")),ps==="OPTION"&&hs){const bs=shouldMaskInput({type:null,tagName:ps,maskInputOptions:cs});hs=maskInputValue$1({isMasked:needMaskingText$1(ts,is,ss,os,as,bs),element:ts,value:hs,maskInputFn:us})}return{type:NodeType$1.Text,textContent:hs||"",isStyle:ms,rootId:ds}}function serializeElementNode$1(ts,ns){const{doc:rs,blockClass:is,blockSelector:os,unblockSelector:ss,inlineStylesheet:as,maskInputOptions:ls={},maskAttributeFn:cs,maskInputFn:us,dataURLOptions:ds={},inlineImages:ps,recordCanvas:hs,keepIframeSrcFn:ms,newlyAddedElement:gs=!1,rootId:ys,maskAllText:vs,maskTextClass:bs,unmaskTextClass:Ss,maskTextSelector:$s,unmaskTextSelector:Cs}=ns,Es=_isBlockedElement$1(ts,is,os,ss),xs=getValidTagName$1(ts);let ws={};const ks=ts.attributes.length;for(let Ts=0;Ts<ks;Ts++){const Rs=ts.attributes[Ts];Rs.name&&!ignoreAttribute$1(xs,Rs.name,Rs.value)&&(ws[Rs.name]=transformAttribute$1(rs,xs,toLowerCase$1(Rs.name),Rs.value,ts,cs))}if(xs==="link"&&as){const Ts=Array.from(rs.styleSheets).find(As=>As.href===ts.href);let Rs=null;Ts&&(Rs=stringifyStylesheet$1(Ts)),Rs&&(delete ws.rel,delete ws.href,ws._cssText=absoluteToStylesheet$1(Rs,Ts.href))}if(xs==="style"&&ts.sheet&&!(ts.innerText||ts.textContent||"").trim().length){const Ts=stringifyStylesheet$1(ts.sheet);Ts&&(ws._cssText=absoluteToStylesheet$1(Ts,getHref$1()))}if(xs==="input"||xs==="textarea"||xs==="select"||xs==="option"){const Ts=ts,Rs=getInputType$1(Ts),As=getInputValue(Ts,toUpperCase(xs),Rs),Ms=Ts.checked;if(Rs!=="submit"&&Rs!=="button"&&As){const Ls=needMaskingText$1(Ts,bs,$s,Ss,Cs,shouldMaskInput({type:Rs,tagName:toUpperCase(xs),maskInputOptions:ls}));ws.value=maskInputValue$1({isMasked:Ls,element:Ts,value:As,maskInputFn:us})}Ms&&(ws.checked=Ms)}if(xs==="option"&&(ts.selected&&!ls.select?ws.selected=!0:delete ws.selected),xs==="canvas"&&hs){if(ts.__context==="2d")is2DCanvasBlank$1(ts)||(ws.rr_dataURL=ts.toDataURL(ds.type,ds.quality));else if(!("__context"in ts)){const Ts=ts.toDataURL(ds.type,ds.quality),Rs=document.createElement("canvas");Rs.width=ts.width,Rs.height=ts.height;const As=Rs.toDataURL(ds.type,ds.quality);Ts!==As&&(ws.rr_dataURL=Ts)}}if(xs==="img"&&ps){canvasService$1||(canvasService$1=rs.createElement("canvas"),canvasCtx$1=canvasService$1.getContext("2d"));const Ts=ts,Rs=Ts.crossOrigin;Ts.crossOrigin="anonymous";const As=()=>{Ts.removeEventListener("load",As);try{canvasService$1.width=Ts.naturalWidth,canvasService$1.height=Ts.naturalHeight,canvasCtx$1.drawImage(Ts,0,0),ws.rr_dataURL=canvasService$1.toDataURL(ds.type,ds.quality)}catch(Ms){console.warn("Cannot inline img src=".concat(Ts.currentSrc,"! Error: ").concat(Ms))}Rs?ws.crossOrigin=Rs:Ts.removeAttribute("crossorigin")};Ts.complete&&Ts.naturalWidth!==0?As():Ts.addEventListener("load",As)}if((xs==="audio"||xs==="video")&&(ws.rr_mediaState=ts.paused?"paused":"played",ws.rr_mediaCurrentTime=ts.currentTime),gs||(ts.scrollLeft&&(ws.rr_scrollLeft=ts.scrollLeft),ts.scrollTop&&(ws.rr_scrollTop=ts.scrollTop)),Es){const{width:Ts,height:Rs}=ts.getBoundingClientRect();ws={class:ws.class,rr_width:"".concat(Ts,"px"),rr_height:"".concat(Rs,"px")}}xs==="iframe"&&!ms(ws.src)&&(ts.contentDocument||(ws.rr_src=ws.src),delete ws.src);let Is;try{customElements.get(xs)&&(Is=!0)}catch{}return{type:NodeType$1.Element,tagName:xs,attributes:ws,childNodes:[],isSVG:isSVGElement$1(ts)||void 0,needBlock:Es,rootId:ys,isCustom:Is}}function lowerIfExists$1(ts){return ts==null?"":ts.toLowerCase()}function slimDOMExcluded$1(ts,ns){if(ns.comment&&ts.type===NodeType$1.Comment)return!0;if(ts.type===NodeType$1.Element){if(ns.script&&(ts.tagName==="script"||ts.tagName==="link"&&(ts.attributes.rel==="preload"||ts.attributes.rel==="modulepreload")&&ts.attributes.as==="script"||ts.tagName==="link"&&ts.attributes.rel==="prefetch"&&typeof ts.attributes.href=="string"&&ts.attributes.href.endsWith(".js")))return!0;if(ns.headFavicon&&(ts.tagName==="link"&&ts.attributes.rel==="shortcut icon"||ts.tagName==="meta"&&(lowerIfExists$1(ts.attributes.name).match(/^msapplication-tile(image|color)$/)||lowerIfExists$1(ts.attributes.name)==="application-name"||lowerIfExists$1(ts.attributes.rel)==="icon"||lowerIfExists$1(ts.attributes.rel)==="apple-touch-icon"||lowerIfExists$1(ts.attributes.rel)==="shortcut icon")))return!0;if(ts.tagName==="meta"){if(ns.headMetaDescKeywords&&lowerIfExists$1(ts.attributes.name).match(/^description|keywords$/))return!0;if(ns.headMetaSocial&&(lowerIfExists$1(ts.attributes.property).match(/^(og|twitter|fb):/)||lowerIfExists$1(ts.attributes.name).match(/^(og|twitter):/)||lowerIfExists$1(ts.attributes.name)==="pinterest"))return!0;if(ns.headMetaRobots&&(lowerIfExists$1(ts.attributes.name)==="robots"||lowerIfExists$1(ts.attributes.name)==="googlebot"||lowerIfExists$1(ts.attributes.name)==="bingbot"))return!0;if(ns.headMetaHttpEquiv&&ts.attributes["http-equiv"]!==void 0)return!0;if(ns.headMetaAuthorship&&(lowerIfExists$1(ts.attributes.name)==="author"||lowerIfExists$1(ts.attributes.name)==="generator"||lowerIfExists$1(ts.attributes.name)==="framework"||lowerIfExists$1(ts.attributes.name)==="publisher"||lowerIfExists$1(ts.attributes.name)==="progid"||lowerIfExists$1(ts.attributes.property).match(/^article:/)||lowerIfExists$1(ts.attributes.property).match(/^product:/)))return!0;if(ns.headMetaVerification&&(lowerIfExists$1(ts.attributes.name)==="google-site-verification"||lowerIfExists$1(ts.attributes.name)==="yandex-verification"||lowerIfExists$1(ts.attributes.name)==="csrf-token"||lowerIfExists$1(ts.attributes.name)==="p:domain_verify"||lowerIfExists$1(ts.attributes.name)==="verify-v1"||lowerIfExists$1(ts.attributes.name)==="verification"||lowerIfExists$1(ts.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function serializeNodeWithId$1(ts,ns){const{doc:rs,mirror:is,blockClass:os,blockSelector:ss,unblockSelector:as,maskAllText:ls,maskTextClass:cs,unmaskTextClass:us,maskTextSelector:ds,unmaskTextSelector:ps,skipChild:hs=!1,inlineStylesheet:ms=!0,maskInputOptions:gs={},maskAttributeFn:ys,maskTextFn:vs,maskInputFn:bs,slimDOMOptions:Ss,dataURLOptions:$s={},inlineImages:Cs=!1,recordCanvas:Es=!1,onSerialize:xs,onIframeLoad:ws,iframeLoadTimeout:ks=5e3,onStylesheetLoad:Is,stylesheetLoadTimeout:Ts=5e3,keepIframeSrcFn:Rs=()=>!1,newlyAddedElement:As=!1}=ns;let{preserveWhiteSpace:Ms=!0}=ns;const Ls=serializeNode$1(ts,{doc:rs,mirror:is,blockClass:os,blockSelector:ss,maskAllText:ls,unblockSelector:as,maskTextClass:cs,unmaskTextClass:us,maskTextSelector:ds,unmaskTextSelector:ps,inlineStylesheet:ms,maskInputOptions:gs,maskAttributeFn:ys,maskTextFn:vs,maskInputFn:bs,dataURLOptions:$s,inlineImages:Cs,recordCanvas:Es,keepIframeSrcFn:Rs,newlyAddedElement:As});if(!Ls)return console.warn(ts,"not serialized"),null;let Ds;is.hasNode(ts)?Ds=is.getId(ts):slimDOMExcluded$1(Ls,Ss)||!Ms&&Ls.type===NodeType$1.Text&&!Ls.isStyle&&!Ls.textContent.replace(/^\s+|\s+$/gm,"").length?Ds=IGNORED_NODE$1:Ds=genId$1();const Fs=Object.assign(Ls,{id:Ds});if(is.add(ts,Fs),Ds===IGNORED_NODE$1)return null;xs&&xs(ts);let Vs=!hs;if(Fs.type===NodeType$1.Element){Vs=Vs&&!Fs.needBlock,delete Fs.needBlock;const Bs=ts.shadowRoot;Bs&&isNativeShadowDom$1(Bs)&&(Fs.isShadowHost=!0)}if((Fs.type===NodeType$1.Document||Fs.type===NodeType$1.Element)&&Vs){Ss.headWhitespace&&Fs.type===NodeType$1.Element&&Fs.tagName==="head"&&(Ms=!1);const Bs={doc:rs,mirror:is,blockClass:os,blockSelector:ss,maskAllText:ls,unblockSelector:as,maskTextClass:cs,unmaskTextClass:us,maskTextSelector:ds,unmaskTextSelector:ps,skipChild:hs,inlineStylesheet:ms,maskInputOptions:gs,maskAttributeFn:ys,maskTextFn:vs,maskInputFn:bs,slimDOMOptions:Ss,dataURLOptions:$s,inlineImages:Cs,recordCanvas:Es,preserveWhiteSpace:Ms,onSerialize:xs,onIframeLoad:ws,iframeLoadTimeout:ks,onStylesheetLoad:Is,stylesheetLoadTimeout:Ts,keepIframeSrcFn:Rs};for(const Ws of Array.from(ts.childNodes)){const Os=serializeNodeWithId$1(Ws,Bs);Os&&Fs.childNodes.push(Os)}if(isElement$1$1(ts)&&ts.shadowRoot)for(const Ws of Array.from(ts.shadowRoot.childNodes)){const Os=serializeNodeWithId$1(Ws,Bs);Os&&(isNativeShadowDom$1(ts.shadowRoot)&&(Os.isShadow=!0),Fs.childNodes.push(Os))}}return ts.parentNode&&isShadowRoot$2(ts.parentNode)&&isNativeShadowDom$1(ts.parentNode)&&(Fs.isShadow=!0),Fs.type===NodeType$1.Element&&Fs.tagName==="iframe"&&onceIframeLoaded$1(ts,()=>{const Bs=ts.contentDocument;if(Bs&&ws){const Ws=serializeNodeWithId$1(Bs,{doc:Bs,mirror:is,blockClass:os,blockSelector:ss,unblockSelector:as,maskAllText:ls,maskTextClass:cs,unmaskTextClass:us,maskTextSelector:ds,unmaskTextSelector:ps,skipChild:!1,inlineStylesheet:ms,maskInputOptions:gs,maskAttributeFn:ys,maskTextFn:vs,maskInputFn:bs,slimDOMOptions:Ss,dataURLOptions:$s,inlineImages:Cs,recordCanvas:Es,preserveWhiteSpace:Ms,onSerialize:xs,onIframeLoad:ws,iframeLoadTimeout:ks,onStylesheetLoad:Is,stylesheetLoadTimeout:Ts,keepIframeSrcFn:Rs});Ws&&ws(ts,Ws)}},ks),Fs.type===NodeType$1.Element&&Fs.tagName==="link"&&Fs.attributes.rel==="stylesheet"&&onceStylesheetLoaded$1(ts,()=>{if(Is){const Bs=serializeNodeWithId$1(ts,{doc:rs,mirror:is,blockClass:os,blockSelector:ss,unblockSelector:as,maskAllText:ls,maskTextClass:cs,unmaskTextClass:us,maskTextSelector:ds,unmaskTextSelector:ps,skipChild:!1,inlineStylesheet:ms,maskInputOptions:gs,maskAttributeFn:ys,maskTextFn:vs,maskInputFn:bs,slimDOMOptions:Ss,dataURLOptions:$s,inlineImages:Cs,recordCanvas:Es,preserveWhiteSpace:Ms,onSerialize:xs,onIframeLoad:ws,iframeLoadTimeout:ks,onStylesheetLoad:Is,stylesheetLoadTimeout:Ts,keepIframeSrcFn:Rs});Bs&&Is(ts,Bs)}},Ts),Fs}function snapshot$1(ts,ns){const{mirror:rs=new Mirror$2,blockClass:is="rr-block",blockSelector:os=null,unblockSelector:ss=null,maskAllText:as=!1,maskTextClass:ls="rr-mask",unmaskTextClass:cs=null,maskTextSelector:us=null,unmaskTextSelector:ds=null,inlineStylesheet:ps=!0,inlineImages:hs=!1,recordCanvas:ms=!1,maskAllInputs:gs=!1,maskAttributeFn:ys,maskTextFn:vs,maskInputFn:bs,slimDOM:Ss=!1,dataURLOptions:$s,preserveWhiteSpace:Cs,onSerialize:Es,onIframeLoad:xs,iframeLoadTimeout:ws,onStylesheetLoad:ks,stylesheetLoadTimeout:Is,keepIframeSrcFn:Ts=()=>!1}=ns||{};return serializeNodeWithId$1(ts,{doc:ts,mirror:rs,blockClass:is,blockSelector:os,unblockSelector:ss,maskAllText:as,maskTextClass:ls,unmaskTextClass:cs,maskTextSelector:us,unmaskTextSelector:ds,skipChild:!1,inlineStylesheet:ps,maskInputOptions:gs===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:gs===!1?{}:gs,maskAttributeFn:ys,maskTextFn:vs,maskInputFn:bs,slimDOMOptions:Ss===!0||Ss==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:Ss==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:Ss===!1?{}:Ss,dataURLOptions:$s,inlineImages:hs,recordCanvas:ms,preserveWhiteSpace:Cs,onSerialize:Es,onIframeLoad:xs,iframeLoadTimeout:ws,onStylesheetLoad:ks,stylesheetLoadTimeout:Is,keepIframeSrcFn:Ts,newlyAddedElement:!1})}function _optionalChain$4(ts){let ns,rs=ts[0],is=1;for(;is<ts.length;){const os=ts[is],ss=ts[is+1];if(is+=2,(os==="optionalAccess"||os==="optionalCall")&&rs==null)return;os==="access"||os==="optionalAccess"?(ns=rs,rs=ss(rs)):(os==="call"||os==="optionalCall")&&(rs=ss((...as)=>rs.call(ns,...as)),ns=void 0)}return rs}function on$1(ts,ns,rs=document){const is={capture:!0,passive:!0};return rs.addEventListener(ts,ns,is),()=>rs.removeEventListener(ts,ns,is)}const DEPARTED_MIRROR_ACCESS_WARNING$1="Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.";let _mirror$1={map:{},getId(){return console.error(DEPARTED_MIRROR_ACCESS_WARNING$1),-1},getNode(){return console.error(DEPARTED_MIRROR_ACCESS_WARNING$1),null},removeNodeFromMap(){console.error(DEPARTED_MIRROR_ACCESS_WARNING$1)},has(){return console.error(DEPARTED_MIRROR_ACCESS_WARNING$1),!1},reset(){console.error(DEPARTED_MIRROR_ACCESS_WARNING$1)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(_mirror$1=new Proxy(_mirror$1,{get(ts,ns,rs){return ns==="map"&&console.error(DEPARTED_MIRROR_ACCESS_WARNING$1),Reflect.get(ts,ns,rs)}}));function throttle$1$1(ts,ns,rs={}){let is=null,os=0;return function(...ss){const as=Date.now();!os&&rs.leading===!1&&(os=as);const ls=ns-(as-os),cs=this;ls<=0||ls>ns?(is&&(clearTimeout$1(is),is=null),os=as,ts.apply(cs,ss)):!is&&rs.trailing!==!1&&(is=setTimeout$1(()=>{os=rs.leading===!1?0:Date.now(),is=null,ts.apply(cs,ss)},ls))}}function hookSetter$1(ts,ns,rs,is,os=window){const ss=os.Object.getOwnPropertyDescriptor(ts,ns);return os.Object.defineProperty(ts,ns,is?rs:{set(as){setTimeout$1(()=>{rs.set.call(this,as)},0),ss&&ss.set&&ss.set.call(this,as)}}),()=>hookSetter$1(ts,ns,ss||{},!0)}function patch$1(ts,ns,rs){try{if(!(ns in ts))return()=>{};const is=ts[ns],os=rs(is);return typeof os=="function"&&(os.prototype=os.prototype||{},Object.defineProperties(os,{__rrweb_original__:{enumerable:!1,value:is}})),ts[ns]=os,()=>{ts[ns]=is}}catch{return()=>{}}}let nowTimestamp$1=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(nowTimestamp$1=()=>new Date().getTime());function getWindowScroll$2(ts){const ns=ts.document;return{left:ns.scrollingElement?ns.scrollingElement.scrollLeft:ts.pageXOffset!==void 0?ts.pageXOffset:_optionalChain$4([ns,"optionalAccess",rs=>rs.documentElement,"access",rs=>rs.scrollLeft])||_optionalChain$4([ns,"optionalAccess",rs=>rs.body,"optionalAccess",rs=>rs.parentElement,"optionalAccess",rs=>rs.scrollLeft])||_optionalChain$4([ns,"optionalAccess",rs=>rs.body,"optionalAccess",rs=>rs.scrollLeft])||0,top:ns.scrollingElement?ns.scrollingElement.scrollTop:ts.pageYOffset!==void 0?ts.pageYOffset:_optionalChain$4([ns,"optionalAccess",rs=>rs.documentElement,"access",rs=>rs.scrollTop])||_optionalChain$4([ns,"optionalAccess",rs=>rs.body,"optionalAccess",rs=>rs.parentElement,"optionalAccess",rs=>rs.scrollTop])||_optionalChain$4([ns,"optionalAccess",rs=>rs.body,"optionalAccess",rs=>rs.scrollTop])||0}}function getWindowHeight$1(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function getWindowWidth$1(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function closestElementOfNode$1(ts){return ts?ts.nodeType===ts.ELEMENT_NODE?ts:ts.parentElement:null}function isBlocked$1(ts,ns,rs,is,os){if(!ts)return!1;const ss=closestElementOfNode$1(ts);if(!ss)return!1;const as=createMatchPredicate(ns,rs);if(!os){const us=is&&ss.matches(is);return as(ss)&&!us}const ls=distanceToMatch(ss,as);let cs=-1;return ls<0?!1:(is&&(cs=distanceToMatch(ss,createMatchPredicate(null,is))),ls>-1&&cs<0?!0:ls<cs)}function isSerialized$1(ts,ns){return ns.getId(ts)!==-1}function isIgnored$1(ts,ns){return ns.getId(ts)===IGNORED_NODE$1}function isAncestorRemoved$1(ts,ns){if(isShadowRoot$2(ts))return!1;const rs=ns.getId(ts);return ns.has(rs)?ts.parentNode&&ts.parentNode.nodeType===ts.DOCUMENT_NODE?!1:ts.parentNode?isAncestorRemoved$1(ts.parentNode,ns):!0:!0}function legacy_isTouchEvent$1(ts){return!!ts.changedTouches}function polyfill$1(ts=window){"NodeList"in ts&&!ts.NodeList.prototype.forEach&&(ts.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in ts&&!ts.DOMTokenList.prototype.forEach&&(ts.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...ns)=>{let rs=ns[0];if(!(0 in ns))throw new TypeError("1 argument is required");do if(this===rs)return!0;while(rs=rs&&rs.parentNode);return!1})}function isSerializedIframe$1(ts,ns){return!!(ts.nodeName==="IFRAME"&&ns.getMeta(ts))}function isSerializedStylesheet$1(ts,ns){return!!(ts.nodeName==="LINK"&&ts.nodeType===ts.ELEMENT_NODE&&ts.getAttribute&&ts.getAttribute("rel")==="stylesheet"&&ns.getMeta(ts))}function hasShadowRoot$1(ts){return!!_optionalChain$4([ts,"optionalAccess",ns=>ns.shadowRoot])}let StyleSheetMirror$1=class{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(ns){return _nullishCoalesce(this.styleIDMap.get(ns),()=>-1)}has(ns){return this.styleIDMap.has(ns)}add(ns,rs){if(this.has(ns))return this.getId(ns);let is;return rs===void 0?is=this.id++:is=rs,this.styleIDMap.set(ns,is),this.idStyleMap.set(is,ns),is}getStyle(ns){return this.idStyleMap.get(ns)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}};function getShadowHost$1(ts){let ns=null;return _optionalChain$4([ts,"access",rs=>rs.getRootNode,"optionalCall",rs=>rs(),"optionalAccess",rs=>rs.nodeType])===Node.DOCUMENT_FRAGMENT_NODE&&ts.getRootNode().host&&(ns=ts.getRootNode().host),ns}function getRootShadowHost$1(ts){let ns=ts,rs;for(;rs=getShadowHost$1(ns);)ns=rs;return ns}function shadowHostInDom$1(ts){const ns=ts.ownerDocument;if(!ns)return!1;const rs=getRootShadowHost$1(ts);return ns.contains(rs)}function inDom$1(ts){const ns=ts.ownerDocument;return ns?ns.contains(ts)||shadowHostInDom$1(ts):!1}const cachedImplementations={};function getImplementation(ts){const ns=cachedImplementations[ts];if(ns)return ns;const rs=window.document;let is=window[ts];if(rs&&typeof rs.createElement=="function")try{const os=rs.createElement("iframe");os.hidden=!0,rs.head.appendChild(os);const ss=os.contentWindow;ss&&ss[ts]&&(is=ss[ts]),rs.head.removeChild(os)}catch{}return cachedImplementations[ts]=is.bind(window)}function onRequestAnimationFrame(...ts){return getImplementation("requestAnimationFrame")(...ts)}function setTimeout$1(...ts){return getImplementation("setTimeout")(...ts)}function clearTimeout$1(...ts){return getImplementation("clearTimeout")(...ts)}var EventType$2=(ts=>(ts[ts.DomContentLoaded=0]="DomContentLoaded",ts[ts.Load=1]="Load",ts[ts.FullSnapshot=2]="FullSnapshot",ts[ts.IncrementalSnapshot=3]="IncrementalSnapshot",ts[ts.Meta=4]="Meta",ts[ts.Custom=5]="Custom",ts[ts.Plugin=6]="Plugin",ts))(EventType$2||{}),IncrementalSource$2=(ts=>(ts[ts.Mutation=0]="Mutation",ts[ts.MouseMove=1]="MouseMove",ts[ts.MouseInteraction=2]="MouseInteraction",ts[ts.Scroll=3]="Scroll",ts[ts.ViewportResize=4]="ViewportResize",ts[ts.Input=5]="Input",ts[ts.TouchMove=6]="TouchMove",ts[ts.MediaInteraction=7]="MediaInteraction",ts[ts.StyleSheetRule=8]="StyleSheetRule",ts[ts.CanvasMutation=9]="CanvasMutation",ts[ts.Font=10]="Font",ts[ts.Log=11]="Log",ts[ts.Drag=12]="Drag",ts[ts.StyleDeclaration=13]="StyleDeclaration",ts[ts.Selection=14]="Selection",ts[ts.AdoptedStyleSheet=15]="AdoptedStyleSheet",ts[ts.CustomElement=16]="CustomElement",ts))(IncrementalSource$2||{}),MouseInteractions$1=(ts=>(ts[ts.MouseUp=0]="MouseUp",ts[ts.MouseDown=1]="MouseDown",ts[ts.Click=2]="Click",ts[ts.ContextMenu=3]="ContextMenu",ts[ts.DblClick=4]="DblClick",ts[ts.Focus=5]="Focus",ts[ts.Blur=6]="Blur",ts[ts.TouchStart=7]="TouchStart",ts[ts.TouchMove_Departed=8]="TouchMove_Departed",ts[ts.TouchEnd=9]="TouchEnd",ts[ts.TouchCancel=10]="TouchCancel",ts))(MouseInteractions$1||{}),PointerTypes$1=(ts=>(ts[ts.Mouse=0]="Mouse",ts[ts.Pen=1]="Pen",ts[ts.Touch=2]="Touch",ts))(PointerTypes$1||{});function _optionalChain$3(ts){let ns,rs=ts[0],is=1;for(;is<ts.length;){const os=ts[is],ss=ts[is+1];if(is+=2,(os==="optionalAccess"||os==="optionalCall")&&rs==null)return;os==="access"||os==="optionalAccess"?(ns=rs,rs=ss(rs)):(os==="call"||os==="optionalCall")&&(rs=ss((...as)=>rs.call(ns,...as)),ns=void 0)}return rs}function isNodeInLinkedList$1(ts){return"__ln"in ts}let DoubleLinkedList$1=class{constructor(){this.length=0,this.head=null,this.tail=null}get(ns){if(ns>=this.length)throw new Error("Position outside of list range");let rs=this.head;for(let is=0;is<ns;is++)rs=_optionalChain$3([rs,"optionalAccess",os=>os.next])||null;return rs}addNode(ns){const rs={value:ns,previous:null,next:null};if(ns.__ln=rs,ns.previousSibling&&isNodeInLinkedList$1(ns.previousSibling)){const is=ns.previousSibling.__ln.next;rs.next=is,rs.previous=ns.previousSibling.__ln,ns.previousSibling.__ln.next=rs,is&&(is.previous=rs)}else if(ns.nextSibling&&isNodeInLinkedList$1(ns.nextSibling)&&ns.nextSibling.__ln.previous){const is=ns.nextSibling.__ln.previous;rs.previous=is,rs.next=ns.nextSibling.__ln,ns.nextSibling.__ln.previous=rs,is&&(is.next=rs)}else this.head&&(this.head.previous=rs),rs.next=this.head,this.head=rs;rs.next===null&&(this.tail=rs),this.length++}removeNode(ns){const rs=ns.__ln;this.head&&(rs.previous?(rs.previous.next=rs.next,rs.next?rs.next.previous=rs.previous:this.tail=rs.previous):(this.head=rs.next,this.head?this.head.previous=null:this.tail=null),ns.__ln&&delete ns.__ln,this.length--)}};const moveKey$1=(ts,ns)=>"".concat(ts,"@").concat(ns);let MutationBuffer$1=class{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=ns=>{ns.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const ns=[],rs=new Set,is=new DoubleLinkedList$1,os=cs=>{let us=cs,ds=IGNORED_NODE$1;for(;ds===IGNORED_NODE$1;)us=us&&us.nextSibling,ds=us&&this.mirror.getId(us);return ds},ss=cs=>{if(!cs.parentNode||!inDom$1(cs))return;const us=isShadowRoot$2(cs.parentNode)?this.mirror.getId(getShadowHost$1(cs)):this.mirror.getId(cs.parentNode),ds=os(cs);if(us===-1||ds===-1)return is.addNode(cs);const ps=serializeNodeWithId$1(cs,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:hs=>{isSerializedIframe$1(hs,this.mirror)&&this.iframeManager.addIframe(hs),isSerializedStylesheet$1(hs,this.mirror)&&this.stylesheetManager.trackLinkElement(hs),hasShadowRoot$1(cs)&&this.shadowDomManager.addShadowRoot(cs.shadowRoot,this.doc)},onIframeLoad:(hs,ms)=>{this.iframeManager.attachIframe(hs,ms),this.shadowDomManager.observeAttachShadow(hs)},onStylesheetLoad:(hs,ms)=>{this.stylesheetManager.attachLinkElement(hs,ms)}});ps&&(ns.push({parentId:us,nextId:ds,node:ps}),rs.add(ps.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const cs of this.movedSet)isParentRemoved$1(this.removes,cs,this.mirror)&&!this.movedSet.has(cs.parentNode)||ss(cs);for(const cs of this.addedSet)!isAncestorInSet$1(this.droppedSet,cs)&&!isParentRemoved$1(this.removes,cs,this.mirror)||isAncestorInSet$1(this.movedSet,cs)?ss(cs):this.droppedSet.add(cs);let as=null;for(;is.length;){let cs=null;if(as){const us=this.mirror.getId(as.value.parentNode),ds=os(as.value);us!==-1&&ds!==-1&&(cs=as)}if(!cs){let us=is.tail;for(;us;){const ds=us;if(us=us.previous,ds){const ps=this.mirror.getId(ds.value.parentNode);if(os(ds.value)===-1)continue;if(ps!==-1){cs=ds;break}else{const ms=ds.value;if(ms.parentNode&&ms.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const gs=ms.parentNode.host;if(this.mirror.getId(gs)!==-1){cs=ds;break}}}}}}if(!cs){for(;is.head;)is.removeNode(is.head.value);break}as=cs.previous,is.removeNode(cs.value),ss(cs.value)}const ls={texts:this.texts.map(cs=>({id:this.mirror.getId(cs.node),value:cs.value})).filter(cs=>!rs.has(cs.id)).filter(cs=>this.mirror.has(cs.id)),attributes:this.attributes.map(cs=>{const{attributes:us}=cs;if(typeof us.style=="string"){const ds=JSON.stringify(cs.styleDiff),ps=JSON.stringify(cs._unchangedStyles);ds.length<us.style.length&&(ds+ps).split("var(").length===us.style.split("var(").length&&(us.style=cs.styleDiff)}return{id:this.mirror.getId(cs.node),attributes:us}}).filter(cs=>!rs.has(cs.id)).filter(cs=>this.mirror.has(cs.id)),removes:this.removes,adds:ns};!ls.texts.length&&!ls.attributes.length&&!ls.removes.length&&!ls.adds.length||(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(ls))},this.processMutation=ns=>{if(!isIgnored$1(ns.target,this.mirror))switch(ns.type){case"characterData":{const rs=ns.target.textContent;!isBlocked$1(ns.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&rs!==ns.oldValue&&this.texts.push({value:needMaskingText$1(ns.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&rs?this.maskTextFn?this.maskTextFn(rs,closestElementOfNode$1(ns.target)):rs.replace(/[\S]/g,"*"):rs,node:ns.target});break}case"attributes":{const rs=ns.target;let is=ns.attributeName,os=ns.target.getAttribute(is);if(is==="value"){const as=getInputType$1(rs),ls=rs.tagName;os=getInputValue(rs,ls,as);const cs=shouldMaskInput({maskInputOptions:this.maskInputOptions,tagName:ls,type:as}),us=needMaskingText$1(ns.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,cs);os=maskInputValue$1({isMasked:us,element:rs,value:os,maskInputFn:this.maskInputFn})}if(isBlocked$1(ns.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||os===ns.oldValue)return;let ss=this.attributeMap.get(ns.target);if(rs.tagName==="IFRAME"&&is==="src"&&!this.keepIframeSrcFn(os))if(!rs.contentDocument)is="rr_src";else return;if(ss||(ss={node:ns.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(ss),this.attributeMap.set(ns.target,ss)),is==="type"&&rs.tagName==="INPUT"&&(ns.oldValue||"").toLowerCase()==="password"&&rs.setAttribute("data-rr-is-password","true"),!ignoreAttribute$1(rs.tagName,is)&&(ss.attributes[is]=transformAttribute$1(this.doc,toLowerCase$1(rs.tagName),toLowerCase$1(is),os,rs,this.maskAttributeFn),is==="style")){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch{this.unattachedDoc=this.doc}const as=this.unattachedDoc.createElement("span");ns.oldValue&&as.setAttribute("style",ns.oldValue);for(const ls of Array.from(rs.style)){const cs=rs.style.getPropertyValue(ls),us=rs.style.getPropertyPriority(ls);cs!==as.style.getPropertyValue(ls)||us!==as.style.getPropertyPriority(ls)?us===""?ss.styleDiff[ls]=cs:ss.styleDiff[ls]=[cs,us]:ss._unchangedStyles[ls]=[cs,us]}for(const ls of Array.from(as.style))rs.style.getPropertyValue(ls)===""&&(ss.styleDiff[ls]=!1)}break}case"childList":{if(isBlocked$1(ns.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;ns.addedNodes.forEach(rs=>this.genAdds(rs,ns.target)),ns.removedNodes.forEach(rs=>{const is=this.mirror.getId(rs),os=isShadowRoot$2(ns.target)?this.mirror.getId(ns.target.host):this.mirror.getId(ns.target);isBlocked$1(ns.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||isIgnored$1(rs,this.mirror)||!isSerialized$1(rs,this.mirror)||(this.addedSet.has(rs)?(deepDelete$1(this.addedSet,rs),this.droppedSet.add(rs)):this.addedSet.has(ns.target)&&is===-1||isAncestorRemoved$1(ns.target,this.mirror)||(this.movedSet.has(rs)&&this.movedMap[moveKey$1(is,os)]?deepDelete$1(this.movedSet,rs):this.removes.push({parentId:os,id:is,isShadow:isShadowRoot$2(ns.target)&&isNativeShadowDom$1(ns.target)?!0:void 0})),this.mapRemoves.push(rs))});break}}},this.genAdds=(ns,rs)=>{if(!this.processedNodeManager.inOtherBuffer(ns,this)&&!(this.addedSet.has(ns)||this.movedSet.has(ns))){if(this.mirror.hasNode(ns)){if(isIgnored$1(ns,this.mirror))return;this.movedSet.add(ns);let is=null;rs&&this.mirror.hasNode(rs)&&(is=this.mirror.getId(rs)),is&&is!==-1&&(this.movedMap[moveKey$1(this.mirror.getId(ns),is)]=!0)}else this.addedSet.add(ns),this.droppedSet.delete(ns);isBlocked$1(ns,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(ns.childNodes.forEach(is=>this.genAdds(is)),hasShadowRoot$1(ns)&&ns.shadowRoot.childNodes.forEach(is=>{this.processedNodeManager.add(is,this),this.genAdds(is,ns)}))}}}init(ns){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(rs=>{this[rs]=ns[rs]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}};function deepDelete$1(ts,ns){ts.delete(ns),ns.childNodes.forEach(rs=>deepDelete$1(ts,rs))}function isParentRemoved$1(ts,ns,rs){return ts.length===0?!1:_isParentRemoved$1(ts,ns,rs)}function _isParentRemoved$1(ts,ns,rs){const{parentNode:is}=ns;if(!is)return!1;const os=rs.getId(is);return ts.some(ss=>ss.id===os)?!0:_isParentRemoved$1(ts,is,rs)}function isAncestorInSet$1(ts,ns){return ts.size===0?!1:_isAncestorInSet$1(ts,ns)}function _isAncestorInSet$1(ts,ns){const{parentNode:rs}=ns;return rs?ts.has(rs)?!0:_isAncestorInSet$1(ts,rs):!1}let errorHandler$1;function registerErrorHandler$1(ts){errorHandler$1=ts}function unregisterErrorHandler$1(){errorHandler$1=void 0}const callbackWrapper$1=ts=>errorHandler$1?(...rs)=>{try{return ts(...rs)}catch(is){if(errorHandler$1&&errorHandler$1(is)===!0)return()=>{};throw is}}:ts;function _optionalChain$2(ts){let ns,rs=ts[0],is=1;for(;is<ts.length;){const os=ts[is],ss=ts[is+1];if(is+=2,(os==="optionalAccess"||os==="optionalCall")&&rs==null)return;os==="access"||os==="optionalAccess"?(ns=rs,rs=ss(rs)):(os==="call"||os==="optionalCall")&&(rs=ss((...as)=>rs.call(ns,...as)),ns=void 0)}return rs}const mutationBuffers$1=[];function getEventTarget$1(ts){try{if("composedPath"in ts){const ns=ts.composedPath();if(ns.length)return ns[0]}else if("path"in ts&&ts.path.length)return ts.path[0]}catch{}return ts&&ts.target}function initMutationObserver$1(ts,ns){const rs=new MutationBuffer$1;mutationBuffers$1.push(rs),rs.init(ts);let is=window.MutationObserver||window.__rrMutationObserver;const os=_optionalChain$2([window,"optionalAccess",as=>as.Zone,"optionalAccess",as=>as.__symbol__,"optionalCall",as=>as("MutationObserver")]);os&&window[os]&&(is=window[os]);const ss=new is(callbackWrapper$1(as=>{ts.onMutation&&ts.onMutation(as)===!1||rs.processMutations.bind(rs)(as)}));return ss.observe(ns,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),ss}function initMoveObserver$1({mousemoveCb:ts,sampling:ns,doc:rs,mirror:is}){if(ns.mousemove===!1)return()=>{};const os=typeof ns.mousemove=="number"?ns.mousemove:50,ss=typeof ns.mousemoveCallback=="number"?ns.mousemoveCallback:500;let as=[],ls;const cs=throttle$1$1(callbackWrapper$1(ps=>{const hs=Date.now()-ls;ts(as.map(ms=>(ms.timeOffset-=hs,ms)),ps),as=[],ls=null}),ss),us=callbackWrapper$1(throttle$1$1(callbackWrapper$1(ps=>{const hs=getEventTarget$1(ps),{clientX:ms,clientY:gs}=legacy_isTouchEvent$1(ps)?ps.changedTouches[0]:ps;ls||(ls=nowTimestamp$1()),as.push({x:ms,y:gs,id:is.getId(hs),timeOffset:nowTimestamp$1()-ls}),cs(typeof DragEvent<"u"&&ps instanceof DragEvent?IncrementalSource$2.Drag:ps instanceof MouseEvent?IncrementalSource$2.MouseMove:IncrementalSource$2.TouchMove)}),os,{trailing:!1})),ds=[on$1("mousemove",us,rs),on$1("touchmove",us,rs),on$1("drag",us,rs)];return callbackWrapper$1(()=>{ds.forEach(ps=>ps())})}function initMouseInteractionObserver$1({mouseInteractionCb:ts,doc:ns,mirror:rs,blockClass:is,blockSelector:os,unblockSelector:ss,sampling:as}){if(as.mouseInteraction===!1)return()=>{};const ls=as.mouseInteraction===!0||as.mouseInteraction===void 0?{}:as.mouseInteraction,cs=[];let us=null;const ds=ps=>hs=>{const ms=getEventTarget$1(hs);if(isBlocked$1(ms,is,os,ss,!0))return;let gs=null,ys=ps;if("pointerType"in hs){switch(hs.pointerType){case"mouse":gs=PointerTypes$1.Mouse;break;case"touch":gs=PointerTypes$1.Touch;break;case"pen":gs=PointerTypes$1.Pen;break}gs===PointerTypes$1.Touch?MouseInteractions$1[ps]===MouseInteractions$1.MouseDown?ys="TouchStart":MouseInteractions$1[ps]===MouseInteractions$1.MouseUp&&(ys="TouchEnd"):PointerTypes$1.Pen}else legacy_isTouchEvent$1(hs)&&(gs=PointerTypes$1.Touch);gs!==null?(us=gs,(ys.startsWith("Touch")&&gs===PointerTypes$1.Touch||ys.startsWith("Mouse")&&gs===PointerTypes$1.Mouse)&&(gs=null)):MouseInteractions$1[ps]===MouseInteractions$1.Click&&(gs=us,us=null);const vs=legacy_isTouchEvent$1(hs)?hs.changedTouches[0]:hs;if(!vs)return;const bs=rs.getId(ms),{clientX:Ss,clientY:$s}=vs;callbackWrapper$1(ts)({type:MouseInteractions$1[ys],id:bs,x:Ss,y:$s,...gs!==null&&{pointerType:gs}})};return Object.keys(MouseInteractions$1).filter(ps=>Number.isNaN(Number(ps))&&!ps.endsWith("_Departed")&&ls[ps]!==!1).forEach(ps=>{let hs=toLowerCase$1(ps);const ms=ds(ps);if(window.PointerEvent)switch(MouseInteractions$1[ps]){case MouseInteractions$1.MouseDown:case MouseInteractions$1.MouseUp:hs=hs.replace("mouse","pointer");break;case MouseInteractions$1.TouchStart:case MouseInteractions$1.TouchEnd:return}cs.push(on$1(hs,ms,ns))}),callbackWrapper$1(()=>{cs.forEach(ps=>ps())})}function initScrollObserver$1({scrollCb:ts,doc:ns,mirror:rs,blockClass:is,blockSelector:os,unblockSelector:ss,sampling:as}){const ls=callbackWrapper$1(throttle$1$1(callbackWrapper$1(cs=>{const us=getEventTarget$1(cs);if(!us||isBlocked$1(us,is,os,ss,!0))return;const ds=rs.getId(us);if(us===ns&&ns.defaultView){const ps=getWindowScroll$2(ns.defaultView);ts({id:ds,x:ps.left,y:ps.top})}else ts({id:ds,x:us.scrollLeft,y:us.scrollTop})}),as.scroll||100));return on$1("scroll",ls,ns)}function initViewportResizeObserver$1({viewportResizeCb:ts},{win:ns}){let rs=-1,is=-1;const os=callbackWrapper$1(throttle$1$1(callbackWrapper$1(()=>{const ss=getWindowHeight$1(),as=getWindowWidth$1();(rs!==ss||is!==as)&&(ts({width:Number(as),height:Number(ss)}),rs=ss,is=as)}),200));return on$1("resize",os,ns)}const INPUT_TAGS$1=["INPUT","TEXTAREA","SELECT"],lastInputValueMap$1=new WeakMap;function initInputObserver$1({inputCb:ts,doc:ns,mirror:rs,blockClass:is,blockSelector:os,unblockSelector:ss,ignoreClass:as,ignoreSelector:ls,maskInputOptions:cs,maskInputFn:us,sampling:ds,userTriggeredOnInput:ps,maskTextClass:hs,unmaskTextClass:ms,maskTextSelector:gs,unmaskTextSelector:ys}){function vs(ws){let ks=getEventTarget$1(ws);const Is=ws.isTrusted,Ts=ks&&toUpperCase(ks.tagName);if(Ts==="OPTION"&&(ks=ks.parentElement),!ks||!Ts||INPUT_TAGS$1.indexOf(Ts)<0||isBlocked$1(ks,is,os,ss,!0))return;const Rs=ks;if(Rs.classList.contains(as)||ls&&Rs.matches(ls))return;const As=getInputType$1(ks);let Ms=getInputValue(Rs,Ts,As),Ls=!1;const Ds=shouldMaskInput({maskInputOptions:cs,tagName:Ts,type:As}),Fs=needMaskingText$1(ks,hs,gs,ms,ys,Ds);(As==="radio"||As==="checkbox")&&(Ls=ks.checked),Ms=maskInputValue$1({isMasked:Fs,element:ks,value:Ms,maskInputFn:us}),bs(ks,ps?{text:Ms,isChecked:Ls,userTriggered:Is}:{text:Ms,isChecked:Ls});const Vs=ks.name;As==="radio"&&Vs&&Ls&&ns.querySelectorAll('input[type="radio"][name="'.concat(Vs,'"]')).forEach(Bs=>{if(Bs!==ks){const Ws=maskInputValue$1({isMasked:Fs,element:Bs,value:getInputValue(Bs,Ts,As),maskInputFn:us});bs(Bs,ps?{text:Ws,isChecked:!Ls,userTriggered:!1}:{text:Ws,isChecked:!Ls})}})}function bs(ws,ks){const Is=lastInputValueMap$1.get(ws);if(!Is||Is.text!==ks.text||Is.isChecked!==ks.isChecked){lastInputValueMap$1.set(ws,ks);const Ts=rs.getId(ws);callbackWrapper$1(ts)({...ks,id:Ts})}}const $s=(ds.input==="last"?["change"]:["input","change"]).map(ws=>on$1(ws,callbackWrapper$1(vs),ns)),Cs=ns.defaultView;if(!Cs)return()=>{$s.forEach(ws=>ws())};const Es=Cs.Object.getOwnPropertyDescriptor(Cs.HTMLInputElement.prototype,"value"),xs=[[Cs.HTMLInputElement.prototype,"value"],[Cs.HTMLInputElement.prototype,"checked"],[Cs.HTMLSelectElement.prototype,"value"],[Cs.HTMLTextAreaElement.prototype,"value"],[Cs.HTMLSelectElement.prototype,"selectedIndex"],[Cs.HTMLOptionElement.prototype,"selected"]];return Es&&Es.set&&$s.push(...xs.map(ws=>hookSetter$1(ws[0],ws[1],{set(){callbackWrapper$1(vs)({target:this,isTrusted:!1})}},!1,Cs))),callbackWrapper$1(()=>{$s.forEach(ws=>ws())})}function getNestedCSSRulePositions$1(ts){const ns=[];function rs(is,os){if(hasNestedCSSRule$1("CSSGroupingRule")&&is.parentRule instanceof CSSGroupingRule||hasNestedCSSRule$1("CSSMediaRule")&&is.parentRule instanceof CSSMediaRule||hasNestedCSSRule$1("CSSSupportsRule")&&is.parentRule instanceof CSSSupportsRule||hasNestedCSSRule$1("CSSConditionRule")&&is.parentRule instanceof CSSConditionRule){const as=Array.from(is.parentRule.cssRules).indexOf(is);os.unshift(as)}else if(is.parentStyleSheet){const as=Array.from(is.parentStyleSheet.cssRules).indexOf(is);os.unshift(as)}return os}return rs(ts,ns)}function getIdAndStyleId$1(ts,ns,rs){let is,os;return ts?(ts.ownerNode?is=ns.getId(ts.ownerNode):os=rs.getId(ts),{styleId:os,id:is}):{}}function initStyleSheetObserver$1({styleSheetRuleCb:ts,mirror:ns,stylesheetManager:rs},{win:is}){if(!is.CSSStyleSheet||!is.CSSStyleSheet.prototype)return()=>{};const os=is.CSSStyleSheet.prototype.insertRule;is.CSSStyleSheet.prototype.insertRule=new Proxy(os,{apply:callbackWrapper$1((ds,ps,hs)=>{const[ms,gs]=hs,{id:ys,styleId:vs}=getIdAndStyleId$1(ps,ns,rs.styleMirror);return(ys&&ys!==-1||vs&&vs!==-1)&&ts({id:ys,styleId:vs,adds:[{rule:ms,index:gs}]}),ds.apply(ps,hs)})});const ss=is.CSSStyleSheet.prototype.deleteRule;is.CSSStyleSheet.prototype.deleteRule=new Proxy(ss,{apply:callbackWrapper$1((ds,ps,hs)=>{const[ms]=hs,{id:gs,styleId:ys}=getIdAndStyleId$1(ps,ns,rs.styleMirror);return(gs&&gs!==-1||ys&&ys!==-1)&&ts({id:gs,styleId:ys,removes:[{index:ms}]}),ds.apply(ps,hs)})});let as;is.CSSStyleSheet.prototype.replace&&(as=is.CSSStyleSheet.prototype.replace,is.CSSStyleSheet.prototype.replace=new Proxy(as,{apply:callbackWrapper$1((ds,ps,hs)=>{const[ms]=hs,{id:gs,styleId:ys}=getIdAndStyleId$1(ps,ns,rs.styleMirror);return(gs&&gs!==-1||ys&&ys!==-1)&&ts({id:gs,styleId:ys,replace:ms}),ds.apply(ps,hs)})}));let ls;is.CSSStyleSheet.prototype.replaceSync&&(ls=is.CSSStyleSheet.prototype.replaceSync,is.CSSStyleSheet.prototype.replaceSync=new Proxy(ls,{apply:callbackWrapper$1((ds,ps,hs)=>{const[ms]=hs,{id:gs,styleId:ys}=getIdAndStyleId$1(ps,ns,rs.styleMirror);return(gs&&gs!==-1||ys&&ys!==-1)&&ts({id:gs,styleId:ys,replaceSync:ms}),ds.apply(ps,hs)})}));const cs={};canMonkeyPatchNestedCSSRule$1("CSSGroupingRule")?cs.CSSGroupingRule=is.CSSGroupingRule:(canMonkeyPatchNestedCSSRule$1("CSSMediaRule")&&(cs.CSSMediaRule=is.CSSMediaRule),canMonkeyPatchNestedCSSRule$1("CSSConditionRule")&&(cs.CSSConditionRule=is.CSSConditionRule),canMonkeyPatchNestedCSSRule$1("CSSSupportsRule")&&(cs.CSSSupportsRule=is.CSSSupportsRule));const us={};return Object.entries(cs).forEach(([ds,ps])=>{us[ds]={insertRule:ps.prototype.insertRule,deleteRule:ps.prototype.deleteRule},ps.prototype.insertRule=new Proxy(us[ds].insertRule,{apply:callbackWrapper$1((hs,ms,gs)=>{const[ys,vs]=gs,{id:bs,styleId:Ss}=getIdAndStyleId$1(ms.parentStyleSheet,ns,rs.styleMirror);return(bs&&bs!==-1||Ss&&Ss!==-1)&&ts({id:bs,styleId:Ss,adds:[{rule:ys,index:[...getNestedCSSRulePositions$1(ms),vs||0]}]}),hs.apply(ms,gs)})}),ps.prototype.deleteRule=new Proxy(us[ds].deleteRule,{apply:callbackWrapper$1((hs,ms,gs)=>{const[ys]=gs,{id:vs,styleId:bs}=getIdAndStyleId$1(ms.parentStyleSheet,ns,rs.styleMirror);return(vs&&vs!==-1||bs&&bs!==-1)&&ts({id:vs,styleId:bs,removes:[{index:[...getNestedCSSRulePositions$1(ms),ys]}]}),hs.apply(ms,gs)})})}),callbackWrapper$1(()=>{is.CSSStyleSheet.prototype.insertRule=os,is.CSSStyleSheet.prototype.deleteRule=ss,as&&(is.CSSStyleSheet.prototype.replace=as),ls&&(is.CSSStyleSheet.prototype.replaceSync=ls),Object.entries(cs).forEach(([ds,ps])=>{ps.prototype.insertRule=us[ds].insertRule,ps.prototype.deleteRule=us[ds].deleteRule})})}function initAdoptedStyleSheetObserver$1({mirror:ts,stylesheetManager:ns},rs){let is=null;rs.nodeName==="#document"?is=ts.getId(rs):is=ts.getId(rs.host);const os=rs.nodeName==="#document"?_optionalChain$2([rs,"access",as=>as.defaultView,"optionalAccess",as=>as.Document]):_optionalChain$2([rs,"access",as=>as.ownerDocument,"optionalAccess",as=>as.defaultView,"optionalAccess",as=>as.ShadowRoot]),ss=_optionalChain$2([os,"optionalAccess",as=>as.prototype])?Object.getOwnPropertyDescriptor(_optionalChain$2([os,"optionalAccess",as=>as.prototype]),"adoptedStyleSheets"):void 0;return is===null||is===-1||!os||!ss?()=>{}:(Object.defineProperty(rs,"adoptedStyleSheets",{configurable:ss.configurable,enumerable:ss.enumerable,get(){return _optionalChain$2([ss,"access",as=>as.get,"optionalAccess",as=>as.call,"call",as=>as(this)])},set(as){const ls=_optionalChain$2([ss,"access",cs=>cs.set,"optionalAccess",cs=>cs.call,"call",cs=>cs(this,as)]);if(is!==null&&is!==-1)try{ns.adoptStyleSheets(as,is)}catch{}return ls}}),callbackWrapper$1(()=>{Object.defineProperty(rs,"adoptedStyleSheets",{configurable:ss.configurable,enumerable:ss.enumerable,get:ss.get,set:ss.set})}))}function initStyleDeclarationObserver$1({styleDeclarationCb:ts,mirror:ns,ignoreCSSAttributes:rs,stylesheetManager:is},{win:os}){const ss=os.CSSStyleDeclaration.prototype.setProperty;os.CSSStyleDeclaration.prototype.setProperty=new Proxy(ss,{apply:callbackWrapper$1((ls,cs,us)=>{const[ds,ps,hs]=us;if(rs.has(ds))return ss.apply(cs,[ds,ps,hs]);const{id:ms,styleId:gs}=getIdAndStyleId$1(_optionalChain$2([cs,"access",ys=>ys.parentRule,"optionalAccess",ys=>ys.parentStyleSheet]),ns,is.styleMirror);return(ms&&ms!==-1||gs&&gs!==-1)&&ts({id:ms,styleId:gs,set:{property:ds,value:ps,priority:hs},index:getNestedCSSRulePositions$1(cs.parentRule)}),ls.apply(cs,us)})});const as=os.CSSStyleDeclaration.prototype.removeProperty;return os.CSSStyleDeclaration.prototype.removeProperty=new Proxy(as,{apply:callbackWrapper$1((ls,cs,us)=>{const[ds]=us;if(rs.has(ds))return as.apply(cs,[ds]);const{id:ps,styleId:hs}=getIdAndStyleId$1(_optionalChain$2([cs,"access",ms=>ms.parentRule,"optionalAccess",ms=>ms.parentStyleSheet]),ns,is.styleMirror);return(ps&&ps!==-1||hs&&hs!==-1)&&ts({id:ps,styleId:hs,remove:{property:ds},index:getNestedCSSRulePositions$1(cs.parentRule)}),ls.apply(cs,us)})}),callbackWrapper$1(()=>{os.CSSStyleDeclaration.prototype.setProperty=ss,os.CSSStyleDeclaration.prototype.removeProperty=as})}function initMediaInteractionObserver$1({mediaInteractionCb:ts,blockClass:ns,blockSelector:rs,unblockSelector:is,mirror:os,sampling:ss,doc:as}){const ls=callbackWrapper$1(us=>throttle$1$1(callbackWrapper$1(ds=>{const ps=getEventTarget$1(ds);if(!ps||isBlocked$1(ps,ns,rs,is,!0))return;const{currentTime:hs,volume:ms,muted:gs,playbackRate:ys}=ps;ts({type:us,id:os.getId(ps),currentTime:hs,volume:ms,muted:gs,playbackRate:ys})}),ss.media||500)),cs=[on$1("play",ls(0),as),on$1("pause",ls(1),as),on$1("seeked",ls(2),as),on$1("volumechange",ls(3),as),on$1("ratechange",ls(4),as)];return callbackWrapper$1(()=>{cs.forEach(us=>us())})}function initFontObserver$1({fontCb:ts,doc:ns}){const rs=ns.defaultView;if(!rs)return()=>{};const is=[],os=new WeakMap,ss=rs.FontFace;rs.FontFace=function(cs,us,ds){const ps=new ss(cs,us,ds);return os.set(ps,{family:cs,buffer:typeof us!="string",descriptors:ds,fontSource:typeof us=="string"?us:JSON.stringify(Array.from(new Uint8Array(us)))}),ps};const as=patch$1(ns.fonts,"add",function(ls){return function(cs){return setTimeout$1(callbackWrapper$1(()=>{const us=os.get(cs);us&&(ts(us),os.delete(cs))}),0),ls.apply(this,[cs])}});return is.push(()=>{rs.FontFace=ss}),is.push(as),callbackWrapper$1(()=>{is.forEach(ls=>ls())})}function initSelectionObserver$1(ts){const{doc:ns,mirror:rs,blockClass:is,blockSelector:os,unblockSelector:ss,selectionCb:as}=ts;let ls=!0;const cs=callbackWrapper$1(()=>{const us=ns.getSelection();if(!us||ls&&_optionalChain$2([us,"optionalAccess",hs=>hs.isCollapsed]))return;ls=us.isCollapsed||!1;const ds=[],ps=us.rangeCount||0;for(let hs=0;hs<ps;hs++){const ms=us.getRangeAt(hs),{startContainer:gs,startOffset:ys,endContainer:vs,endOffset:bs}=ms;isBlocked$1(gs,is,os,ss,!0)||isBlocked$1(vs,is,os,ss,!0)||ds.push({start:rs.getId(gs),startOffset:ys,end:rs.getId(vs),endOffset:bs})}as({ranges:ds})});return cs(),on$1("selectionchange",cs)}function initCustomElementObserver$1({doc:ts,customElementCb:ns}){const rs=ts.defaultView;return!rs||!rs.customElements?()=>{}:patch$1(rs.customElements,"define",function(os){return function(ss,as,ls){try{ns({define:{name:ss}})}catch{}return os.apply(this,[ss,as,ls])}})}function initObservers$1(ts,ns={}){const rs=ts.doc.defaultView;if(!rs)return()=>{};const is=initMutationObserver$1(ts,ts.doc),os=initMoveObserver$1(ts),ss=initMouseInteractionObserver$1(ts),as=initScrollObserver$1(ts),ls=initViewportResizeObserver$1(ts,{win:rs}),cs=initInputObserver$1(ts),us=initMediaInteractionObserver$1(ts),ds=initStyleSheetObserver$1(ts,{win:rs}),ps=initAdoptedStyleSheetObserver$1(ts,ts.doc),hs=initStyleDeclarationObserver$1(ts,{win:rs}),ms=ts.collectFonts?initFontObserver$1(ts):()=>{},gs=initSelectionObserver$1(ts),ys=initCustomElementObserver$1(ts),vs=[];for(const bs of ts.plugins)vs.push(bs.observer(bs.callback,rs,bs.options));return callbackWrapper$1(()=>{mutationBuffers$1.forEach(bs=>bs.reset()),is.disconnect(),os(),ss(),as(),ls(),cs(),us(),ds(),ps(),hs(),ms(),gs(),ys(),vs.forEach(bs=>bs())})}function hasNestedCSSRule$1(ts){return typeof window[ts]<"u"}function canMonkeyPatchNestedCSSRule$1(ts){return!!(typeof window[ts]<"u"&&window[ts].prototype&&"insertRule"in window[ts].prototype&&"deleteRule"in window[ts].prototype)}let CrossOriginIframeMirror$1=class{constructor(ns){this.generateIdFn=ns,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(ns,rs,is,os){const ss=is||this.getIdToRemoteIdMap(ns),as=os||this.getRemoteIdToIdMap(ns);let ls=ss.get(rs);return ls||(ls=this.generateIdFn(),ss.set(rs,ls),as.set(ls,rs)),ls}getIds(ns,rs){const is=this.getIdToRemoteIdMap(ns),os=this.getRemoteIdToIdMap(ns);return rs.map(ss=>this.getId(ns,ss,is,os))}getRemoteId(ns,rs,is){const os=is||this.getRemoteIdToIdMap(ns);if(typeof rs!="number")return rs;const ss=os.get(rs);return ss||-1}getRemoteIds(ns,rs){const is=this.getRemoteIdToIdMap(ns);return rs.map(os=>this.getRemoteId(ns,os,is))}reset(ns){if(!ns){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(ns),this.iframeRemoteIdToIdMap.delete(ns)}getIdToRemoteIdMap(ns){let rs=this.iframeIdToRemoteIdMap.get(ns);return rs||(rs=new Map,this.iframeIdToRemoteIdMap.set(ns,rs)),rs}getRemoteIdToIdMap(ns){let rs=this.iframeRemoteIdToIdMap.get(ns);return rs||(rs=new Map,this.iframeRemoteIdToIdMap.set(ns,rs)),rs}};function _optionalChain$1(ts){let ns,rs=ts[0],is=1;for(;is<ts.length;){const os=ts[is],ss=ts[is+1];if(is+=2,(os==="optionalAccess"||os==="optionalCall")&&rs==null)return;os==="access"||os==="optionalAccess"?(ns=rs,rs=ss(rs)):(os==="call"||os==="optionalCall")&&(rs=ss((...as)=>rs.call(ns,...as)),ns=void 0)}return rs}class IframeManagerNoop{constructor(){this.crossOriginIframeMirror=new CrossOriginIframeMirror$1(genId$1),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}}let IframeManager$1=class{constructor(ns){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new CrossOriginIframeMirror$1(genId$1),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=ns.mutationCb,this.wrappedEmit=ns.wrappedEmit,this.stylesheetManager=ns.stylesheetManager,this.recordCrossOriginIframes=ns.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new CrossOriginIframeMirror$1(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=ns.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(ns){this.iframes.set(ns,!0),ns.contentWindow&&this.crossOriginIframeMap.set(ns.contentWindow,ns)}addLoadListener(ns){this.loadListener=ns}attachIframe(ns,rs){this.mutationCb({adds:[{parentId:this.mirror.getId(ns),nextId:null,node:rs}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),_optionalChain$1([this,"access",is=>is.loadListener,"optionalCall",is=>is(ns)]),ns.contentDocument&&ns.contentDocument.adoptedStyleSheets&&ns.contentDocument.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(ns.contentDocument.adoptedStyleSheets,this.mirror.getId(ns.contentDocument))}handleMessage(ns){const rs=ns;if(rs.data.type!=="rrweb"||rs.origin!==rs.data.origin||!ns.source)return;const os=this.crossOriginIframeMap.get(ns.source);if(!os)return;const ss=this.transformCrossOriginEvent(os,rs.data.event);ss&&this.wrappedEmit(ss,rs.data.isCheckout)}transformCrossOriginEvent(ns,rs){switch(rs.type){case EventType$2.FullSnapshot:{this.crossOriginIframeMirror.reset(ns),this.crossOriginIframeStyleMirror.reset(ns),this.replaceIdOnNode(rs.data.node,ns);const is=rs.data.node.id;return this.crossOriginIframeRootIdMap.set(ns,is),this.patchRootIdOnNode(rs.data.node,is),{timestamp:rs.timestamp,type:EventType$2.IncrementalSnapshot,data:{source:IncrementalSource$2.Mutation,adds:[{parentId:this.mirror.getId(ns),nextId:null,node:rs.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case EventType$2.Meta:case EventType$2.Load:case EventType$2.DomContentLoaded:return!1;case EventType$2.Plugin:return rs;case EventType$2.Custom:return this.replaceIds(rs.data.payload,ns,["id","parentId","previousId","nextId"]),rs;case EventType$2.IncrementalSnapshot:switch(rs.data.source){case IncrementalSource$2.Mutation:return rs.data.adds.forEach(is=>{this.replaceIds(is,ns,["parentId","nextId","previousId"]),this.replaceIdOnNode(is.node,ns);const os=this.crossOriginIframeRootIdMap.get(ns);os&&this.patchRootIdOnNode(is.node,os)}),rs.data.removes.forEach(is=>{this.replaceIds(is,ns,["parentId","id"])}),rs.data.attributes.forEach(is=>{this.replaceIds(is,ns,["id"])}),rs.data.texts.forEach(is=>{this.replaceIds(is,ns,["id"])}),rs;case IncrementalSource$2.Drag:case IncrementalSource$2.TouchMove:case IncrementalSource$2.MouseMove:return rs.data.positions.forEach(is=>{this.replaceIds(is,ns,["id"])}),rs;case IncrementalSource$2.ViewportResize:return!1;case IncrementalSource$2.MediaInteraction:case IncrementalSource$2.MouseInteraction:case IncrementalSource$2.Scroll:case IncrementalSource$2.CanvasMutation:case IncrementalSource$2.Input:return this.replaceIds(rs.data,ns,["id"]),rs;case IncrementalSource$2.StyleSheetRule:case IncrementalSource$2.StyleDeclaration:return this.replaceIds(rs.data,ns,["id"]),this.replaceStyleIds(rs.data,ns,["styleId"]),rs;case IncrementalSource$2.Font:return rs;case IncrementalSource$2.Selection:return rs.data.ranges.forEach(is=>{this.replaceIds(is,ns,["start","end"])}),rs;case IncrementalSource$2.AdoptedStyleSheet:return this.replaceIds(rs.data,ns,["id"]),this.replaceStyleIds(rs.data,ns,["styleIds"]),_optionalChain$1([rs,"access",is=>is.data,"access",is=>is.styles,"optionalAccess",is=>is.forEach,"call",is=>is(os=>{this.replaceStyleIds(os,ns,["styleId"])})]),rs}}return!1}replace(ns,rs,is,os){for(const ss of os)!Array.isArray(rs[ss])&&typeof rs[ss]!="number"||(Array.isArray(rs[ss])?rs[ss]=ns.getIds(is,rs[ss]):rs[ss]=ns.getId(is,rs[ss]));return rs}replaceIds(ns,rs,is){return this.replace(this.crossOriginIframeMirror,ns,rs,is)}replaceStyleIds(ns,rs,is){return this.replace(this.crossOriginIframeStyleMirror,ns,rs,is)}replaceIdOnNode(ns,rs){this.replaceIds(ns,rs,["id","rootId"]),"childNodes"in ns&&ns.childNodes.forEach(is=>{this.replaceIdOnNode(is,rs)})}patchRootIdOnNode(ns,rs){ns.type!==NodeType$1.Document&&!ns.rootId&&(ns.rootId=rs),"childNodes"in ns&&ns.childNodes.forEach(is=>{this.patchRootIdOnNode(is,rs)})}};class ShadowDomManagerNoop{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}}let ShadowDomManager$1=class{constructor(ns){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=ns.mutationCb,this.scrollCb=ns.scrollCb,this.bypassOptions=ns.bypassOptions,this.mirror=ns.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(ns,rs){if(!isNativeShadowDom$1(ns)||this.shadowDoms.has(ns))return;this.shadowDoms.add(ns);const is=initMutationObserver$1({...this.bypassOptions,doc:rs,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},ns);this.restoreHandlers.push(()=>is.disconnect()),this.restoreHandlers.push(initScrollObserver$1({...this.bypassOptions,scrollCb:this.scrollCb,doc:ns,mirror:this.mirror})),setTimeout$1(()=>{ns.adoptedStyleSheets&&ns.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(ns.adoptedStyleSheets,this.mirror.getId(ns.host)),this.restoreHandlers.push(initAdoptedStyleSheetObserver$1({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},ns))},0)}observeAttachShadow(ns){!ns.contentWindow||!ns.contentDocument||this.patchAttachShadow(ns.contentWindow.Element,ns.contentDocument)}patchAttachShadow(ns,rs){const is=this;this.restoreHandlers.push(patch$1(ns.prototype,"attachShadow",function(os){return function(ss){const as=os.call(this,ss);return this.shadowRoot&&inDom$1(this)&&is.addShadowRoot(this.shadowRoot,rs),as}}))}reset(){this.restoreHandlers.forEach(ns=>{try{ns()}catch{}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet}};class CanvasManagerNoop{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}}let StylesheetManager$1=class{constructor(ns){this.trackedLinkElements=new WeakSet,this.styleMirror=new StyleSheetMirror$1,this.mutationCb=ns.mutationCb,this.adoptedStyleSheetCb=ns.adoptedStyleSheetCb}attachLinkElement(ns,rs){"_cssText"in rs.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:rs.id,attributes:rs.attributes}]}),this.trackLinkElement(ns)}trackLinkElement(ns){this.trackedLinkElements.has(ns)||(this.trackedLinkElements.add(ns),this.trackStylesheetInLinkElement(ns))}adoptStyleSheets(ns,rs){if(ns.length===0)return;const is={id:rs,styleIds:[]},os=[];for(const ss of ns){let as;this.styleMirror.has(ss)?as=this.styleMirror.getId(ss):(as=this.styleMirror.add(ss),os.push({styleId:as,rules:Array.from(ss.rules||CSSRule,(ls,cs)=>({rule:stringifyRule$1(ls),index:cs}))})),is.styleIds.push(as)}os.length>0&&(is.styles=os),this.adoptedStyleSheetCb(is)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(ns){}},ProcessedNodeManager$1=class{constructor(){this.nodeMap=new WeakMap,this.loop=!0,this.periodicallyClear()}periodicallyClear(){onRequestAnimationFrame(()=>{this.clear(),this.loop&&this.periodicallyClear()})}inOtherBuffer(ns,rs){const is=this.nodeMap.get(ns);return is&&Array.from(is).some(os=>os!==rs)}add(ns,rs){this.nodeMap.set(ns,(this.nodeMap.get(ns)||new Set).add(rs))}clear(){this.nodeMap=new WeakMap}destroy(){this.loop=!1}},wrappedEmit$1,_takeFullSnapshot;const mirror$1=createMirror$1();function record$1(ts={}){const{emit:ns,checkoutEveryNms:rs,checkoutEveryNth:is,blockClass:os="rr-block",blockSelector:ss=null,unblockSelector:as=null,ignoreClass:ls="rr-ignore",ignoreSelector:cs=null,maskAllText:us=!1,maskTextClass:ds="rr-mask",unmaskTextClass:ps=null,maskTextSelector:hs=null,unmaskTextSelector:ms=null,inlineStylesheet:gs=!0,maskAllInputs:ys,maskInputOptions:vs,slimDOMOptions:bs,maskAttributeFn:Ss,maskInputFn:$s,maskTextFn:Cs,maxCanvasSize:Es=null,packFn:xs,sampling:ws={},dataURLOptions:ks={},mousemoveWait:Is,recordCanvas:Ts=!1,recordCrossOriginIframes:Rs=!1,recordAfter:As=ts.recordAfter==="DOMContentLoaded"?ts.recordAfter:"load",userTriggeredOnInput:Ms=!1,collectFonts:Ls=!1,inlineImages:Ds=!1,plugins:Fs,keepIframeSrcFn:Vs=()=>!1,ignoreCSSAttributes:Bs=new Set([]),errorHandler:Ws,onMutation:Os,getCanvasManager:Nl}=ts;registerErrorHandler$1(Ws);const $a=Rs?window.parent===window:!0;let Ps=!1;if(!$a)try{window.parent.document&&(Ps=!1)}catch{Ps=!0}if($a&&!ns)throw new Error("emit function is required");Is!==void 0&&ws.mousemove===void 0&&(ws.mousemove=Is),mirror$1.reset();const Ys=ys===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:vs!==void 0?vs:{},Zs=bs===!0||bs==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:bs==="all",headMetaDescKeywords:bs==="all"}:bs||{};polyfill$1();let Us,Ol=0;const qs=Hs=>{for(const Gs of Fs||[])Gs.eventProcessor&&(Hs=Gs.eventProcessor(Hs));return xs&&!Ps&&(Hs=xs(Hs)),Hs};wrappedEmit$1=(Hs,Gs)=>{const Js=Hs;if(Js.timestamp=nowTimestamp$1(),_optionalChain([mutationBuffers$1,"access",El=>El[0],"optionalAccess",El=>El.isFrozen,"call",El=>El()])&&Js.type!==EventType$2.FullSnapshot&&!(Js.type===EventType$2.IncrementalSnapshot&&Js.data.source===IncrementalSource$2.Mutation)&&mutationBuffers$1.forEach(El=>El.unfreeze()),$a)_optionalChain([ns,"optionalCall",El=>El(qs(Js),Gs)]);else if(Ps){const El={type:"rrweb",event:qs(Js),origin:window.location.origin,isCheckout:Gs};window.parent.postMessage(El,"*")}if(Js.type===EventType$2.FullSnapshot)Us=Js,Ol=0;else if(Js.type===EventType$2.IncrementalSnapshot){if(Js.data.source===IncrementalSource$2.Mutation&&Js.data.isAttachIframe)return;Ol++;const El=is&&Ol>=is,Xs=rs&&Us&&Js.timestamp-Us.timestamp>rs;(El||Xs)&&Ns(!0)}};const Fl=Hs=>{wrappedEmit$1({type:EventType$2.IncrementalSnapshot,data:{source:IncrementalSource$2.Mutation,...Hs}})},Ll=Hs=>wrappedEmit$1({type:EventType$2.IncrementalSnapshot,data:{source:IncrementalSource$2.Scroll,...Hs}}),$l=Hs=>wrappedEmit$1({type:EventType$2.IncrementalSnapshot,data:{source:IncrementalSource$2.CanvasMutation,...Hs}}),Cl=Hs=>wrappedEmit$1({type:EventType$2.IncrementalSnapshot,data:{source:IncrementalSource$2.AdoptedStyleSheet,...Hs}}),wl=new StylesheetManager$1({mutationCb:Fl,adoptedStyleSheetCb:Cl}),Tl=typeof __RRWEB_EXCLUDE_IFRAME__=="boolean"&&__RRWEB_EXCLUDE_IFRAME__?new IframeManagerNoop:new IframeManager$1({mirror:mirror$1,mutationCb:Fl,stylesheetManager:wl,recordCrossOriginIframes:Rs,wrappedEmit:wrappedEmit$1});for(const Hs of Fs||[])Hs.getMirror&&Hs.getMirror({nodeMirror:mirror$1,crossOriginIframeMirror:Tl.crossOriginIframeMirror,crossOriginIframeStyleMirror:Tl.crossOriginIframeStyleMirror});const xl=new ProcessedNodeManager$1,Al=_getCanvasManager(Nl,{mirror:mirror$1,win:window,mutationCb:Hs=>wrappedEmit$1({type:EventType$2.IncrementalSnapshot,data:{source:IncrementalSource$2.CanvasMutation,...Hs}}),recordCanvas:Ts,blockClass:os,blockSelector:ss,unblockSelector:as,maxCanvasSize:Es,sampling:ws.canvas,dataURLOptions:ks,errorHandler:Ws}),Dl=typeof __RRWEB_EXCLUDE_SHADOW_DOM__=="boolean"&&__RRWEB_EXCLUDE_SHADOW_DOM__?new ShadowDomManagerNoop:new ShadowDomManager$1({mutationCb:Fl,scrollCb:Ll,bypassOptions:{onMutation:Os,blockClass:os,blockSelector:ss,unblockSelector:as,maskAllText:us,maskTextClass:ds,unmaskTextClass:ps,maskTextSelector:hs,unmaskTextSelector:ms,inlineStylesheet:gs,maskInputOptions:Ys,dataURLOptions:ks,maskAttributeFn:Ss,maskTextFn:Cs,maskInputFn:$s,recordCanvas:Ts,inlineImages:Ds,sampling:ws,slimDOMOptions:Zs,iframeManager:Tl,stylesheetManager:wl,canvasManager:Al,keepIframeSrcFn:Vs,processedNodeManager:xl},mirror:mirror$1}),Ns=(Hs=!1)=>{wrappedEmit$1({type:EventType$2.Meta,data:{href:window.location.href,width:getWindowWidth$1(),height:getWindowHeight$1()}},Hs),wl.reset(),Dl.init(),mutationBuffers$1.forEach(Js=>Js.lock());const Gs=snapshot$1(document,{mirror:mirror$1,blockClass:os,blockSelector:ss,unblockSelector:as,maskAllText:us,maskTextClass:ds,unmaskTextClass:ps,maskTextSelector:hs,unmaskTextSelector:ms,inlineStylesheet:gs,maskAllInputs:Ys,maskAttributeFn:Ss,maskInputFn:$s,maskTextFn:Cs,slimDOM:Zs,dataURLOptions:ks,recordCanvas:Ts,inlineImages:Ds,onSerialize:Js=>{isSerializedIframe$1(Js,mirror$1)&&Tl.addIframe(Js),isSerializedStylesheet$1(Js,mirror$1)&&wl.trackLinkElement(Js),hasShadowRoot$1(Js)&&Dl.addShadowRoot(Js.shadowRoot,document)},onIframeLoad:(Js,El)=>{Tl.attachIframe(Js,El),Dl.observeAttachShadow(Js)},onStylesheetLoad:(Js,El)=>{wl.attachLinkElement(Js,El)},keepIframeSrcFn:Vs});if(!Gs)return console.warn("Failed to snapshot the document");wrappedEmit$1({type:EventType$2.FullSnapshot,data:{node:Gs,initialOffset:getWindowScroll$2(window)}}),mutationBuffers$1.forEach(Js=>Js.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&wl.adoptStyleSheets(document.adoptedStyleSheets,mirror$1.getId(document))};_takeFullSnapshot=Ns;try{const Hs=[],Gs=El=>callbackWrapper$1(initObservers$1)({onMutation:Os,mutationCb:Fl,mousemoveCb:(Xs,_l)=>wrappedEmit$1({type:EventType$2.IncrementalSnapshot,data:{source:_l,positions:Xs}}),mouseInteractionCb:Xs=>wrappedEmit$1({type:EventType$2.IncrementalSnapshot,data:{source:IncrementalSource$2.MouseInteraction,...Xs}}),scrollCb:Ll,viewportResizeCb:Xs=>wrappedEmit$1({type:EventType$2.IncrementalSnapshot,data:{source:IncrementalSource$2.ViewportResize,...Xs}}),inputCb:Xs=>wrappedEmit$1({type:EventType$2.IncrementalSnapshot,data:{source:IncrementalSource$2.Input,...Xs}}),mediaInteractionCb:Xs=>wrappedEmit$1({type:EventType$2.IncrementalSnapshot,data:{source:IncrementalSource$2.MediaInteraction,...Xs}}),styleSheetRuleCb:Xs=>wrappedEmit$1({type:EventType$2.IncrementalSnapshot,data:{source:IncrementalSource$2.StyleSheetRule,...Xs}}),styleDeclarationCb:Xs=>wrappedEmit$1({type:EventType$2.IncrementalSnapshot,data:{source:IncrementalSource$2.StyleDeclaration,...Xs}}),canvasMutationCb:$l,fontCb:Xs=>wrappedEmit$1({type:EventType$2.IncrementalSnapshot,data:{source:IncrementalSource$2.Font,...Xs}}),selectionCb:Xs=>{wrappedEmit$1({type:EventType$2.IncrementalSnapshot,data:{source:IncrementalSource$2.Selection,...Xs}})},customElementCb:Xs=>{wrappedEmit$1({type:EventType$2.IncrementalSnapshot,data:{source:IncrementalSource$2.CustomElement,...Xs}})},blockClass:os,ignoreClass:ls,ignoreSelector:cs,maskAllText:us,maskTextClass:ds,unmaskTextClass:ps,maskTextSelector:hs,unmaskTextSelector:ms,maskInputOptions:Ys,inlineStylesheet:gs,sampling:ws,recordCanvas:Ts,inlineImages:Ds,userTriggeredOnInput:Ms,collectFonts:Ls,doc:El,maskAttributeFn:Ss,maskInputFn:$s,maskTextFn:Cs,keepIframeSrcFn:Vs,blockSelector:ss,unblockSelector:as,slimDOMOptions:Zs,dataURLOptions:ks,mirror:mirror$1,iframeManager:Tl,stylesheetManager:wl,shadowDomManager:Dl,processedNodeManager:xl,canvasManager:Al,ignoreCSSAttributes:Bs,plugins:_optionalChain([Fs,"optionalAccess",Xs=>Xs.filter,"call",Xs=>Xs(_l=>_l.observer),"optionalAccess",Xs=>Xs.map,"call",Xs=>Xs(_l=>({observer:_l.observer,options:_l.options,callback:Bl=>wrappedEmit$1({type:EventType$2.Plugin,data:{plugin:_l.name,payload:Bl}})}))])||[]},{});Tl.addLoadListener(El=>{try{Hs.push(Gs(El.contentDocument))}catch(Xs){console.warn(Xs)}});const Js=()=>{Ns(),Hs.push(Gs(document))};return document.readyState==="interactive"||document.readyState==="complete"?Js():(Hs.push(on$1("DOMContentLoaded",()=>{wrappedEmit$1({type:EventType$2.DomContentLoaded,data:{}}),As==="DOMContentLoaded"&&Js()})),Hs.push(on$1("load",()=>{wrappedEmit$1({type:EventType$2.Load,data:{}}),As==="load"&&Js()},window))),()=>{Hs.forEach(El=>El()),xl.destroy(),_takeFullSnapshot=void 0,unregisterErrorHandler$1()}}catch(Hs){console.warn(Hs)}}function takeFullSnapshot$1(ts){if(!_takeFullSnapshot)throw new Error("please take full snapshot after start recording");_takeFullSnapshot(ts)}record$1.mirror=mirror$1;record$1.takeFullSnapshot=takeFullSnapshot$1;function _getCanvasManager(ts,ns){try{return ts?ts(ns):new CanvasManagerNoop}catch{return console.warn("Unable to initialize CanvasManager"),new CanvasManagerNoop}}const ReplayEventTypeIncrementalSnapshot=3,ReplayEventTypeCustom=5;function timestampToMs(ts){return ts>9999999999?ts:ts*1e3}function timestampToS(ts){return ts>9999999999?ts/1e3:ts}function addBreadcrumbEvent(ts,ns){ns.category!=="sentry.transaction"&&(["ui.click","ui.input"].includes(ns.category)?ts.triggerUserActivity():ts.checkAndHandleExpiredSession(),ts.addUpdate(()=>(ts.throttledAddEvent({type:EventType$2.Custom,timestamp:(ns.timestamp||0)*1e3,data:{tag:"breadcrumb",payload:normalize(ns,10,1e3)}}),ns.category==="console")))}const INTERACTIVE_SELECTOR="button,a";function getClosestInteractive(ts){return ts.closest(INTERACTIVE_SELECTOR)||ts}function getClickTargetNode(ts){const ns=getTargetNode(ts);return!ns||!(ns instanceof Element)?ns:getClosestInteractive(ns)}function getTargetNode(ts){return isEventWithTarget(ts)?ts.target:ts}function isEventWithTarget(ts){return typeof ts=="object"&&!!ts&&"target"in ts}let handlers;function onWindowOpen(ts){return handlers||(handlers=[],monkeyPatchWindowOpen()),handlers.push(ts),()=>{const ns=handlers?handlers.indexOf(ts):-1;ns>-1&&handlers.splice(ns,1)}}function monkeyPatchWindowOpen(){fill(WINDOW,"open",function(ts){return function(...ns){if(handlers)try{handlers.forEach(rs=>rs())}catch{}return ts.apply(WINDOW,ns)}})}function handleClick(ts,ns,rs){ts.handleClick(ns,rs)}class ClickDetector{constructor(ns,rs,is=addBreadcrumbEvent){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=rs.timeout/1e3,this._threshold=rs.threshold/1e3,this._scollTimeout=rs.scrollTimeout/1e3,this._replay=ns,this._ignoreSelector=rs.ignoreSelector,this._addBreadcrumbEvent=is}addListeners(){const ns=onWindowOpen(()=>{this._lastMutation=nowInSeconds()});this._teardown=()=>{ns(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(ns,rs){if(ignoreElement(rs,this._ignoreSelector)||!isClickBreadcrumb(ns))return;const is={timestamp:timestampToS(ns.timestamp),clickBreadcrumb:ns,clickCount:0,node:rs};this._clicks.some(os=>os.node===is.node&&Math.abs(os.timestamp-is.timestamp)<1)||(this._clicks.push(is),this._clicks.length===1&&this._scheduleCheckClicks())}registerMutation(ns=Date.now()){this._lastMutation=timestampToS(ns)}registerScroll(ns=Date.now()){this._lastScroll=timestampToS(ns)}registerClick(ns){const rs=getClosestInteractive(ns);this._handleMultiClick(rs)}_handleMultiClick(ns){this._getClicks(ns).forEach(rs=>{rs.clickCount++})}_getClicks(ns){return this._clicks.filter(rs=>rs.node===ns)}_checkClicks(){const ns=[],rs=nowInSeconds();this._clicks.forEach(is=>{!is.mutationAfter&&this._lastMutation&&(is.mutationAfter=is.timestamp<=this._lastMutation?this._lastMutation-is.timestamp:void 0),!is.scrollAfter&&this._lastScroll&&(is.scrollAfter=is.timestamp<=this._lastScroll?this._lastScroll-is.timestamp:void 0),is.timestamp+this._timeout<=rs&&ns.push(is)});for(const is of ns){const os=this._clicks.indexOf(is);os>-1&&(this._generateBreadcrumbs(is),this._clicks.splice(os,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(ns){const rs=this._replay,is=ns.scrollAfter&&ns.scrollAfter<=this._scollTimeout,os=ns.mutationAfter&&ns.mutationAfter<=this._threshold,ss=!is&&!os,{clickCount:as,clickBreadcrumb:ls}=ns;if(ss){const cs=Math.min(ns.mutationAfter||this._timeout,this._timeout)*1e3,us=cs<this._timeout*1e3?"mutation":"timeout",ds={type:"default",message:ls.message,timestamp:ls.timestamp,category:"ui.slowClickDetected",data:{...ls.data,url:WINDOW.location.href,route:rs.getCurrentRoute(),timeAfterClickMs:cs,endReason:us,clickCount:as||1}};this._addBreadcrumbEvent(rs,ds);return}if(as>1){const cs={type:"default",message:ls.message,timestamp:ls.timestamp,category:"ui.multiClick",data:{...ls.data,url:WINDOW.location.href,route:rs.getCurrentRoute(),clickCount:as,metric:!0}};this._addBreadcrumbEvent(rs,cs)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=setTimeout(()=>this._checkClicks(),1e3)}}const SLOW_CLICK_TAGS=["A","BUTTON","INPUT"];function ignoreElement(ts,ns){return!!(!SLOW_CLICK_TAGS.includes(ts.tagName)||ts.tagName==="INPUT"&&!["submit","button"].includes(ts.getAttribute("type")||"")||ts.tagName==="A"&&(ts.hasAttribute("download")||ts.hasAttribute("target")&&ts.getAttribute("target")!=="_self")||ns&&ts.matches(ns))}function isClickBreadcrumb(ts){return!!(ts.data&&typeof ts.data.nodeId=="number"&&ts.timestamp)}function nowInSeconds(){return Date.now()/1e3}function updateClickDetectorForRecordingEvent(ts,ns){try{if(!isIncrementalEvent(ns))return;const{source:rs}=ns.data;if(rs===IncrementalSource$2.Mutation&&ts.registerMutation(ns.timestamp),rs===IncrementalSource$2.Scroll&&ts.registerScroll(ns.timestamp),isIncrementalMouseInteraction(ns)){const{type:is,id:os}=ns.data,ss=record$1.mirror.getNode(os);ss instanceof HTMLElement&&is===MouseInteractions$1.Click&&ts.registerClick(ss)}}catch{}}function isIncrementalEvent(ts){return ts.type===ReplayEventTypeIncrementalSnapshot}function isIncrementalMouseInteraction(ts){return ts.data.source===IncrementalSource$2.MouseInteraction}function createBreadcrumb(ts){return{timestamp:Date.now()/1e3,type:"default",...ts}}var NodeType$2;(function(ts){ts[ts.Document=0]="Document",ts[ts.DocumentType=1]="DocumentType",ts[ts.Element=2]="Element",ts[ts.Text=3]="Text",ts[ts.CDATA=4]="CDATA",ts[ts.Comment=5]="Comment"})(NodeType$2||(NodeType$2={}));const ATTRIBUTES_TO_RECORD=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function getAttributesToRecord(ts){const ns={};for(const rs in ts)if(ATTRIBUTES_TO_RECORD.has(rs)){let is=rs;(rs==="data-testid"||rs==="data-test-id")&&(is="testId"),ns[is]=ts[rs]}return ns}const handleDomListener=ts=>ns=>{if(!ts.isEnabled())return;const rs=handleDom(ns);if(!rs)return;const is=ns.name==="click",os=is?ns.event:void 0;is&&ts.clickDetector&&os&&os.target&&!os.altKey&&!os.metaKey&&!os.ctrlKey&&!os.shiftKey&&handleClick(ts.clickDetector,rs,getClickTargetNode(ns.event)),addBreadcrumbEvent(ts,rs)};function getBaseDomBreadcrumb(ts,ns){const rs=record$1.mirror.getId(ts),is=rs&&record$1.mirror.getNode(rs),os=is&&record$1.mirror.getMeta(is),ss=os&&isElement$2(os)?os:null;return{message:ns,data:ss?{nodeId:rs,node:{id:rs,tagName:ss.tagName,textContent:Array.from(ss.childNodes).map(as=>as.type===NodeType$2.Text&&as.textContent).filter(Boolean).map(as=>as.trim()).join(""),attributes:getAttributesToRecord(ss.attributes)}}:{}}}function handleDom(ts){const{target:ns,message:rs}=getDomTarget(ts);return createBreadcrumb({category:"ui.".concat(ts.name),...getBaseDomBreadcrumb(ns,rs)})}function getDomTarget(ts){const ns=ts.name==="click";let rs,is=null;try{is=ns?getClickTargetNode(ts.event):getTargetNode(ts.event),rs=htmlTreeAsString(is,{maxStringLength:200})||"<unknown>"}catch{rs="<unknown>"}return{target:is,message:rs}}function isElement$2(ts){return ts.type===NodeType$2.Element}function handleKeyboardEvent(ts,ns){if(!ts.isEnabled())return;ts.updateUserActivity();const rs=getKeyboardBreadcrumb(ns);rs&&addBreadcrumbEvent(ts,rs)}function getKeyboardBreadcrumb(ts){const{metaKey:ns,shiftKey:rs,ctrlKey:is,altKey:os,key:ss,target:as}=ts;if(!as||isInputElement(as)||!ss)return null;const ls=ns||is||os,cs=ss.length===1;if(!ls&&cs)return null;const us=htmlTreeAsString(as,{maxStringLength:200})||"<unknown>",ds=getBaseDomBreadcrumb(as,us);return createBreadcrumb({category:"ui.keyDown",message:us,data:{...ds.data,metaKey:ns,shiftKey:rs,ctrlKey:is,altKey:os,key:ss}})}function isInputElement(ts){return ts.tagName==="INPUT"||ts.tagName==="TEXTAREA"||ts.isContentEditable}const ENTRY_TYPES={resource:createResourceEntry,paint:createPaintEntry,navigation:createNavigationEntry};function createPerformanceEntries(ts){return ts.map(createPerformanceEntry).filter(Boolean)}function createPerformanceEntry(ts){return ENTRY_TYPES[ts.entryType]?ENTRY_TYPES[ts.entryType](ts):null}function getAbsoluteTime(ts){return((browserPerformanceTimeOrigin||WINDOW.performance.timeOrigin)+ts)/1e3}function createPaintEntry(ts){const{duration:ns,entryType:rs,name:is,startTime:os}=ts,ss=getAbsoluteTime(os);return{type:rs,name:is,start:ss,end:ss+ns,data:void 0}}function createNavigationEntry(ts){const{entryType:ns,name:rs,decodedBodySize:is,duration:os,domComplete:ss,encodedBodySize:as,domContentLoadedEventStart:ls,domContentLoadedEventEnd:cs,domInteractive:us,loadEventStart:ds,loadEventEnd:ps,redirectCount:hs,startTime:ms,transferSize:gs,type:ys}=ts;return os===0?null:{type:"".concat(ns,".").concat(ys),start:getAbsoluteTime(ms),end:getAbsoluteTime(ss),name:rs,data:{size:gs,decodedBodySize:is,encodedBodySize:as,duration:os,domInteractive:us,domContentLoadedEventStart:ls,domContentLoadedEventEnd:cs,loadEventStart:ds,loadEventEnd:ps,domComplete:ss,redirectCount:hs}}}function createResourceEntry(ts){const{entryType:ns,initiatorType:rs,name:is,responseEnd:os,startTime:ss,decodedBodySize:as,encodedBodySize:ls,responseStatus:cs,transferSize:us}=ts;return["fetch","xmlhttprequest"].includes(rs)?null:{type:"".concat(ns,".").concat(rs),start:getAbsoluteTime(ss),end:getAbsoluteTime(os),name:is,data:{size:us,statusCode:cs,decodedBodySize:as,encodedBodySize:ls}}}function getLargestContentfulPaint(ts){const ns=ts.entries,rs=ns[ns.length-1],is=rs?rs.element:void 0,os=ts.value,ss=getAbsoluteTime(os);return{type:"largest-contentful-paint",name:"largest-contentful-paint",start:ss,end:ss,data:{value:os,size:os,nodeId:is?record$1.mirror.getId(is):void 0}}}function setupPerformanceObserver(ts){function ns(os){ts.performanceEntries.includes(os)||ts.performanceEntries.push(os)}function rs({entries:os}){os.forEach(ns)}const is=[];return["navigation","paint","resource"].forEach(os=>{is.push(addPerformanceInstrumentationHandler(os,rs))}),is.push(addLcpInstrumentationHandler(({metric:os})=>{ts.replayPerformanceEntries.push(getLargestContentfulPaint(os))})),()=>{is.forEach(os=>os())}}const DEBUG_BUILD=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,r$3='var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),a=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(t,e){for(var i=new n(31),a=0;a<31;++a)i[a]=e+=1<<t[a-1];var s=new r(i[30]);for(a=1;a<30;++a)for(var o=i[a];o<i[a+1];++o)s[o]=o-i[a]<<5|a;return{b:i,r:s}},o=s(e,2),f=o.b,h=o.r;f[28]=258,h[258]=28;for(var l=s(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,a=0,s=new n(r);a<i;++a)t[a]&&++s[t[a]-1];var o,f=new n(r);for(a=1;a<r;++a)f[a]=f[a-1]+s[a-1]<<1;if(e){o=new n(1<<r);var h=15-r;for(a=0;a<i;++a)if(t[a])for(var l=a<<4|t[a],c=r-t[a],v=f[t[a]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>h]=l}else for(o=new n(i),a=0;a<i;++a)t[a]&&(o[a]=u[f[t[a]-1]++]>>15-t[a]);return o},g=new t(288);for(c=0;c<144;++c)g[c]=8;for(c=144;c<256;++c)g[c]=9;for(c=256;c<280;++c)g[c]=7;for(c=280;c<288;++c)g[c]=8;var w=new t(32);for(c=0;c<32;++c)w[c]=5;var p=d(g,9,0),y=d(w,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==r||r<0)&&(r=0),(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},A=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},_=function(r,e){for(var i=[],a=0;a<r.length;++a)r[a]&&i.push({s:a,f:r[a]});var s=i.length,o=i.slice();if(!s)return{t:F,l:0};if(1==s){var f=new t(i[0].s+1);return f[i[0].s]=1,{t:f,l:1}}i.sort((function(t,n){return t.f-n.f})),i.push({s:-1,f:25001});var h=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:h.f+l.f,l:h,r:l};c!=s-1;)h=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:h.f+l.f,l:h,r:l};var d=o[0].s;for(a=1;a<s;++a)o[a].s>d&&(d=o[a].s);var g=new n(d+1),w=x(i[c-1],g,0);if(w>e){a=0;var p=0,y=w-e,m=1<<y;for(o.sort((function(t,n){return g[n.s]-g[t.s]||t.f-n.f}));a<s;++a){var b=o[a].s;if(!(g[b]>e))break;p+=m-(1<<w-g[b]),g[b]=e}for(p>>=y;p>0;){var M=o[a].s;g[M]<e?p-=1<<e-g[M]++-1:++a}for(;a>=0&&p;--a){var E=o[a].s;g[E]==e&&(--g[E],++p)}w=e}return{t:new t(g),l:w}},x=function(t,n,r){return-1==t.s?Math.max(x(t.l,n,r+1),x(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,a=t[0],s=1,o=function(t){e[i++]=t},f=1;f<=r;++f)if(t[f]==a&&f!=r)++s;else{if(!a&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(a),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(a);s=1,a=t[f]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var a=0;a<e;++a)t[i+a+4]=r[a];return 8*(i+4+e)},C=function(t,r,s,o,f,h,l,u,c,v,m){z(r,m++,s),++f[256];for(var b=_(f,15),M=b.t,E=b.l,x=_(h,15),C=x.t,U=x.l,F=D(M),I=F.c,S=F.n,L=D(C),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=_(q,7),H=G.t,J=G.l,K=19;K>4&&!H[a[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(f,g)+T(h,w)+l,X=T(f,M)+T(h,C)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(C,U,0),R=C;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[a[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=p,P=g,Q=y,R=w;for(B=0;B<u;++B){var rt=o[B];if(rt>255){A(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;A(r,m,Q[et]),m+=R[et],et>3&&(A(r,m,rt>>5&8191),m+=i[et])}else A(r,m,N[rt]),m+=P[rt]}return A(r,m,N[256]),m+P[256]},U=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,a=0|r.length,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=e+=r[s];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},L=function(a,s,o,f,u){if(!u&&(u={l:1},s.dictionary)){var c=s.dictionary.subarray(-32768),v=new t(c.length+a.length);v.set(c),v.set(a,c.length),a=v,u.w=c.length}return function(a,s,o,f,u,c){var v=c.z||a.length,d=new t(f+v+5*(1+Math.ceil(v/7e3))+u),g=d.subarray(f,d.length-u),w=c.l,p=7&(c.r||0);if(s){p&&(g[0]=c.r>>3);for(var y=U[s-1],M=y>>13,E=8191&y,z=(1<<o)-1,A=c.p||new n(32768),_=c.h||new n(z+1),x=Math.ceil(o/3),D=2*x,T=function(t){return(a[t]^a[t+1]<<x^a[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=_[H];if(A[J]=K,_[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!w)){p=C(a,g,0,F,I,S,O,q,G,j-G,p),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(a[j+Q]==a[j+Q-W]){for(var $=0;$<Z&&a[j+$]==a[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-A[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=A[J])&32767}if(R){F[q++]=268435456|h[Q]<<18|l[R];var it=31&h[Q],at=31&l[R];O+=e[it]+i[at],++I[257+it],++S[at],B=j+Q,++L}else F[q++]=a[j],++I[a[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=a[j],++I[a[j]];p=C(a,g,w,F,I,S,O,q,G,j-G,p),w||(c.r=7&p|g[p/8|0]<<3,p-=7,c.h=_,c.p=A,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+w;j+=65535){var st=j+65535;st>=v&&(g[p/8|0]=w,st=v),p=k(g,p+1,a.subarray(j,st))}c.i=v}return b(d,0,f+m(p)+u)}(a,null==s.level?6:s.level,null==s.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(a.length)))):12+s.mem,o,f,u)},O=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},j=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(L(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var a=this.b.length-this.s.z;a&&(this.b.set(n.subarray(0,a),this.s.z),this.s.z=this.b.length,this.p(this.b,!1)),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(a),32768),this.s.z=n.length-a+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n}();function q(t,n){n||(n={});var r=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}}(),e=t.length;r.p(t);var i,a=L(t,n,10+((i=n).filename?i.filename.length+1:0),8),s=a.length;return function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&O(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}}(a,n),O(a,s-8,r.d()),O(a,s-4,e),a}var B=function(){function t(t,n){this.c=S(),this.v=1,j.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),j.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=L(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=S();i.p(n.dictionary),O(t,2,i.d())}}(r,this.o),this.v=0),n&&O(r,r.length-4,this.c.d()),this.ondata(r,n)},t}(),G="undefined"!=typeof TextEncoder&&new TextEncoder,H="undefined"!=typeof TextDecoder&&new TextDecoder;try{H.decode(F,{stream:!0})}catch(t){}var J=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(K(t),this.d=n||!1)},t}();function K(n,r){if(r){for(var e=new t(n.length),i=0;i<n.length;++i)e[i]=n.charCodeAt(i);return e}if(G)return G.encode(n);var a=n.length,s=new t(n.length+(n.length>>1)),o=0,f=function(t){s[o++]=t};for(i=0;i<a;++i){if(o+5>s.length){var h=new t(o+8+(a-i<<1));h.set(s),s=h}var l=n.charCodeAt(i);l<128||r?f(l):l<2048?(f(192|l>>6),f(128|63&l)):l>55295&&l<57344?(f(240|(l=65536+(1047552&l)|1023&n.charCodeAt(++i))>>18),f(128|l>>12&63),f(128|l>>6&63),f(128|63&l)):(f(224|l>>12),f(128|l>>6&63),f(128|63&l))}return b(s,0,o)}const N=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(let r=0,e=t.length;r<e;r++)n+=t[r].length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new B,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new J(((t,n)=>{this.deflate.push(t,n)})),this.stream.push("[")}},P={clear:()=>{N.clear()},addEvent:t=>N.addEvent(t),finish:()=>N.finish(),compress:t=>function(t){return q(K(t))}(t)};addEventListener("message",(function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in P&&"function"==typeof P[n])try{const t=P[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}})),postMessage({id:void 0,method:"init",success:!0,response:void 0});';function e$2(){const ts=new Blob([r$3]);return URL.createObjectURL(ts)}function logInfo(ts,ns){DEBUG_BUILD&&(logger$5.info(ts),ns&&addLogBreadcrumb(ts))}function logInfoNextTick(ts,ns){DEBUG_BUILD&&(logger$5.info(ts),ns&&setTimeout(()=>{addLogBreadcrumb(ts)},0))}function addLogBreadcrumb(ts){addBreadcrumb({category:"console",data:{logger:"replay"},level:"info",message:ts},{level:"info"})}class EventBufferSizeExceededError extends Error{constructor(){super("Event buffer exceeded maximum size of ".concat(REPLAY_MAX_EVENT_BUFFER_SIZE,"."))}}class EventBufferArray{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(ns){const rs=JSON.stringify(ns).length;if(this._totalSize+=rs,this._totalSize>REPLAY_MAX_EVENT_BUFFER_SIZE)throw new EventBufferSizeExceededError;this.events.push(ns)}finish(){return new Promise(ns=>{const rs=this.events;this.clear(),ns(JSON.stringify(rs))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){const ns=this.events.map(rs=>rs.timestamp).sort()[0];return ns?timestampToMs(ns):null}}class WorkerHandler{constructor(ns){this._worker=ns,this._id=0}ensureReady(){return this._ensureReadyPromise?this._ensureReadyPromise:(this._ensureReadyPromise=new Promise((ns,rs)=>{this._worker.addEventListener("message",({data:is})=>{is.success?ns():rs()},{once:!0}),this._worker.addEventListener("error",is=>{rs(is)},{once:!0})}),this._ensureReadyPromise)}destroy(){logInfo("[Replay] Destroying compression worker"),this._worker.terminate()}postMessage(ns,rs){const is=this._getAndIncrementId();return new Promise((os,ss)=>{const as=({data:ls})=>{const cs=ls;if(cs.method===ns&&cs.id===is){if(this._worker.removeEventListener("message",as),!cs.success){DEBUG_BUILD&&logger$5.error("[Replay]",cs.response),ss(new Error("Error in compression worker"));return}os(cs.response)}};this._worker.addEventListener("message",as),this._worker.postMessage({id:is,method:ns,arg:rs})})}_getAndIncrementId(){return this._id++}}class EventBufferCompressionWorker{constructor(ns){this._worker=new WorkerHandler(ns),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(ns){const rs=timestampToMs(ns.timestamp);(!this._earliestTimestamp||rs<this._earliestTimestamp)&&(this._earliestTimestamp=rs);const is=JSON.stringify(ns);return this._totalSize+=is.length,this._totalSize>REPLAY_MAX_EVENT_BUFFER_SIZE?Promise.reject(new EventBufferSizeExceededError):this._sendEventToWorker(is)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,ns=>{DEBUG_BUILD&&logger$5.warn('[Replay] Sending "clear" message to worker failed',ns)})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(ns){return this._worker.postMessage("addEvent",ns)}async _finishRequest(){const ns=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,ns}}class EventBufferProxy{constructor(ns){this._fallback=new EventBufferArray,this._compression=new EventBufferCompressionWorker(ns),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(ns){this._used.hasCheckout=ns}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(ns){return this._used.addEvent(ns)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch{logInfo("[Replay] Failed to load the compression worker, falling back to simple buffer");return}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){const{events:ns,hasCheckout:rs}=this._fallback,is=[];for(const os of ns)is.push(this._compression.addEvent(os));this._compression.hasCheckout=rs,this._used=this._compression;try{await Promise.all(is)}catch(os){DEBUG_BUILD&&logger$5.warn("[Replay] Failed to add events when switching buffers.",os)}}}function createEventBuffer({useCompression:ts,workerUrl:ns}){if(ts&&window.Worker){const rs=_loadWorker(ns);if(rs)return rs}return logInfo("[Replay] Using simple buffer"),new EventBufferArray}function _loadWorker(ts){try{const ns=ts||_getWorkerUrl();if(!ns)return;logInfo("[Replay] Using compression worker".concat(ts?" from ".concat(ts):""));const rs=new Worker(ns);return new EventBufferProxy(rs)}catch{logInfo("[Replay] Failed to create compression worker")}}function _getWorkerUrl(){return typeof __SENTRY_EXCLUDE_REPLAY_WORKER__>"u"||!__SENTRY_EXCLUDE_REPLAY_WORKER__?e$2():""}function hasSessionStorage(){try{return"sessionStorage"in WINDOW&&!!WINDOW.sessionStorage}catch{return!1}}function clearSession(ts){deleteSession(),ts.session=void 0}function deleteSession(){if(hasSessionStorage())try{WINDOW.sessionStorage.removeItem(REPLAY_SESSION_KEY)}catch{}}function isSampled(ts){return ts===void 0?!1:Math.random()<ts}function makeSession(ts){const ns=Date.now(),rs=ts.id||uuid4(),is=ts.started||ns,os=ts.lastActivity||ns,ss=ts.segmentId||0,as=ts.sampled,ls=ts.previousSessionId;return{id:rs,started:is,lastActivity:os,segmentId:ss,sampled:as,previousSessionId:ls}}function saveSession(ts){if(hasSessionStorage())try{WINDOW.sessionStorage.setItem(REPLAY_SESSION_KEY,JSON.stringify(ts))}catch{}}function getSessionSampleType(ts,ns){return isSampled(ts)?"session":ns?"buffer":!1}function createSession({sessionSampleRate:ts,allowBuffering:ns,stickySession:rs=!1},{previousSessionId:is}={}){const os=getSessionSampleType(ts,ns),ss=makeSession({sampled:os,previousSessionId:is});return rs&&saveSession(ss),ss}function fetchSession(ts){if(!hasSessionStorage())return null;try{const ns=WINDOW.sessionStorage.getItem(REPLAY_SESSION_KEY);if(!ns)return null;const rs=JSON.parse(ns);return logInfoNextTick("[Replay] Loading existing session",ts),makeSession(rs)}catch{return null}}function isExpired(ts,ns,rs=+new Date){return ts===null||ns===void 0||ns<0?!0:ns===0?!1:ts+ns<=rs}function isSessionExpired(ts,{maxReplayDuration:ns,sessionIdleExpire:rs,targetTime:is=Date.now()}){return isExpired(ts.started,ns,is)||isExpired(ts.lastActivity,rs,is)}function shouldRefreshSession(ts,{sessionIdleExpire:ns,maxReplayDuration:rs}){return!(!isSessionExpired(ts,{sessionIdleExpire:ns,maxReplayDuration:rs})||ts.sampled==="buffer"&&ts.segmentId===0)}function loadOrCreateSession({traceInternals:ts,sessionIdleExpire:ns,maxReplayDuration:rs,previousSessionId:is},os){const ss=os.stickySession&&fetchSession(ts);return ss?shouldRefreshSession(ss,{sessionIdleExpire:ns,maxReplayDuration:rs})?(logInfoNextTick("[Replay] Session in sessionStorage is expired, creating new one..."),createSession(os,{previousSessionId:ss.id})):ss:(logInfoNextTick("[Replay] Creating new session",ts),createSession(os,{previousSessionId:is}))}function isCustomEvent(ts){return ts.type===EventType$2.Custom}function addEventSync(ts,ns,rs){return shouldAddEvent(ts,ns)?(_addEvent(ts,ns,rs),!0):!1}function addEvent(ts,ns,rs){return shouldAddEvent(ts,ns)?_addEvent(ts,ns,rs):Promise.resolve(null)}async function _addEvent(ts,ns,rs){if(!ts.eventBuffer)return null;try{rs&&ts.recordingMode==="buffer"&&ts.eventBuffer.clear(),rs&&(ts.eventBuffer.hasCheckout=!0);const is=ts.getOptions(),os=maybeApplyCallback(ns,is.beforeAddRecordingEvent);return os?await ts.eventBuffer.addEvent(os):void 0}catch(is){const os=is&&is instanceof EventBufferSizeExceededError?"addEventSizeExceeded":"addEvent";DEBUG_BUILD&&logger$5.error(is),await ts.stop({reason:os});const ss=getClient();ss&&ss.recordDroppedEvent("internal_sdk_error","replay")}}function shouldAddEvent(ts,ns){if(!ts.eventBuffer||ts.isPaused()||!ts.isEnabled())return!1;const rs=timestampToMs(ns.timestamp);return rs+ts.timeouts.sessionIdlePause<Date.now()?!1:rs>ts.getContext().initialTimestamp+ts.getOptions().maxReplayDuration?(logInfo("[Replay] Skipping event with timestamp ".concat(rs," because it is after maxReplayDuration"),ts.getOptions()._experiments.traceInternals),!1):!0}function maybeApplyCallback(ts,ns){try{if(typeof ns=="function"&&isCustomEvent(ts))return ns(ts)}catch(rs){return DEBUG_BUILD&&logger$5.error("[Replay] An error occured in the `beforeAddRecordingEvent` callback, skipping the event...",rs),null}return ts}function isErrorEvent(ts){return!ts.type}function isTransactionEvent(ts){return ts.type==="transaction"}function isReplayEvent(ts){return ts.type==="replay_event"}function isFeedbackEvent(ts){return ts.type==="feedback"}function handleAfterSendEvent(ts){const ns=isBaseTransportSend();return(rs,is)=>{if(!ts.isEnabled()||!isErrorEvent(rs)&&!isTransactionEvent(rs))return;const os=is&&is.statusCode;if(!(ns&&(!os||os<200||os>=300))){if(isTransactionEvent(rs)){handleTransactionEvent(ts,rs);return}handleErrorEvent(ts,rs)}}}function handleTransactionEvent(ts,ns){const rs=ts.getContext();ns.contexts&&ns.contexts.trace&&ns.contexts.trace.trace_id&&rs.traceIds.size<100&&rs.traceIds.add(ns.contexts.trace.trace_id)}function handleErrorEvent(ts,ns){const rs=ts.getContext();if(ns.event_id&&rs.errorIds.size<100&&rs.errorIds.add(ns.event_id),ts.recordingMode!=="buffer"||!ns.tags||!ns.tags.replayId)return;const{beforeErrorSampling:is}=ts.getOptions();typeof is=="function"&&!is(ns)||setTimeout(()=>{ts.sendBufferedReplayOrFlush()})}function isBaseTransportSend(){const ts=getClient();if(!ts)return!1;const ns=ts.getTransport();return ns&&ns.send.__sentry__baseTransport__||!1}function handleBeforeSendEvent(ts){return ns=>{!ts.isEnabled()||!isErrorEvent(ns)||handleHydrationError(ts,ns)}}function handleHydrationError(ts,ns){const rs=ns.exception&&ns.exception.values&&ns.exception.values[0].value;if(typeof rs=="string"&&(rs.match(/reactjs\.org\/docs\/error-decoder\.html\?invariant=(418|419|422|423|425)/)||rs.match(/(does not match server-rendered HTML|Hydration failed because)/i))){const is=createBreadcrumb({category:"replay.hydrate-error"});addBreadcrumbEvent(ts,is)}}function isRrwebError(ts,ns){return ts.type||!ts.exception||!ts.exception.values||!ts.exception.values.length?!1:!!(ns.originalException&&ns.originalException.__rrweb__)}function addFeedbackBreadcrumb(ts,ns){ts.triggerUserActivity(),ts.addUpdate(()=>ns.timestamp?(ts.throttledAddEvent({type:EventType$2.Custom,timestamp:ns.timestamp*1e3,data:{tag:"breadcrumb",payload:{timestamp:ns.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:ns.event_id}}}}),!1):!0)}function shouldSampleForBufferEvent(ts,ns){return ts.recordingMode!=="buffer"||ns.message===UNABLE_TO_SEND_REPLAY||!ns.exception||ns.type?!1:isSampled(ts.getOptions().errorSampleRate)}function handleGlobalEventListener(ts,ns=!1){const rs=ns?handleAfterSendEvent(ts):void 0;return Object.assign((is,os)=>ts.isEnabled()?isReplayEvent(is)?(delete is.breadcrumbs,is):!isErrorEvent(is)&&!isTransactionEvent(is)&&!isFeedbackEvent(is)||!ts.checkAndHandleExpiredSession()?is:isFeedbackEvent(is)?(ts.flush(),is.contexts.feedback.replay_id=ts.getSessionId(),addFeedbackBreadcrumb(ts,is),is):isRrwebError(is,os)&&!ts.getOptions()._experiments.captureExceptions?(DEBUG_BUILD&&logger$5.log("[Replay] Ignoring error from rrweb internals",is),null):((shouldSampleForBufferEvent(ts,is)||ts.recordingMode==="session")&&(is.tags={...is.tags,replayId:ts.getSessionId()}),rs&&rs(is,{statusCode:200}),is):is,{id:"Replay"})}function createPerformanceSpans(ts,ns){return ns.map(({type:rs,start:is,end:os,name:ss,data:as})=>{const ls=ts.throttledAddEvent({type:EventType$2.Custom,timestamp:is,data:{tag:"performanceSpan",payload:{op:rs,description:ss,startTimestamp:is,endTimestamp:os,data:as}}});return typeof ls=="string"?Promise.resolve(null):ls})}function handleHistory(ts){const{from:ns,to:rs}=ts,is=Date.now()/1e3;return{type:"navigation.push",start:is,end:is,name:rs,data:{previous:ns}}}function handleHistorySpanListener(ts){return ns=>{if(!ts.isEnabled())return;const rs=handleHistory(ns);rs!==null&&(ts.getContext().urls.push(rs.name),ts.triggerUserActivity(),ts.addUpdate(()=>(createPerformanceSpans(ts,[rs]),!1)))}}function shouldFilterRequest(ts,ns){return DEBUG_BUILD&&ts.getOptions()._experiments.traceInternals?!1:isSentryRequestUrl(ns,getClient())}function addNetworkBreadcrumb(ts,ns){ts.isEnabled()&&ns!==null&&(shouldFilterRequest(ts,ns.name)||ts.addUpdate(()=>(createPerformanceSpans(ts,[ns]),!0)))}function handleFetch(ts){const{startTimestamp:ns,endTimestamp:rs,fetchData:is,response:os}=ts;if(!rs)return null;const{method:ss,url:as}=is;return{type:"resource.fetch",start:ns/1e3,end:rs/1e3,name:as,data:{method:ss,statusCode:os?os.status:void 0}}}function handleFetchSpanListener(ts){return ns=>{if(!ts.isEnabled())return;const rs=handleFetch(ns);addNetworkBreadcrumb(ts,rs)}}function handleXhr(ts){const{startTimestamp:ns,endTimestamp:rs,xhr:is}=ts,os=is[SENTRY_XHR_DATA_KEY];if(!ns||!rs||!os)return null;const{method:ss,url:as,status_code:ls}=os;return as===void 0?null:{type:"resource.xhr",name:as,start:ns/1e3,end:rs/1e3,data:{method:ss,statusCode:ls}}}function handleXhrSpanListener(ts){return ns=>{if(!ts.isEnabled())return;const rs=handleXhr(ns);addNetworkBreadcrumb(ts,rs)}}function getBodySize(ts,ns){if(ts)try{if(typeof ts=="string")return ns.encode(ts).length;if(ts instanceof URLSearchParams)return ns.encode(ts.toString()).length;if(ts instanceof FormData){const rs=_serializeFormData(ts);return ns.encode(rs).length}if(ts instanceof Blob)return ts.size;if(ts instanceof ArrayBuffer)return ts.byteLength}catch{}}function parseContentLengthHeader(ts){if(!ts)return;const ns=parseInt(ts,10);return isNaN(ns)?void 0:ns}function getBodyString(ts){try{if(typeof ts=="string")return[ts];if(ts instanceof URLSearchParams)return[ts.toString()];if(ts instanceof FormData)return[_serializeFormData(ts)];if(!ts)return[void 0]}catch{return DEBUG_BUILD&&logger$5.warn("[Replay] Failed to serialize body",ts),[void 0,"BODY_PARSE_ERROR"]}return DEBUG_BUILD&&logger$5.info("[Replay] Skipping network body because of body type",ts),[void 0,"UNPARSEABLE_BODY_TYPE"]}function mergeWarning(ts,ns){if(!ts)return{headers:{},size:void 0,_meta:{warnings:[ns]}};const rs={...ts._meta},is=rs.warnings||[];return rs.warnings=[...is,ns],ts._meta=rs,ts}function makeNetworkReplayBreadcrumb(ts,ns){if(!ns)return null;const{startTimestamp:rs,endTimestamp:is,url:os,method:ss,statusCode:as,request:ls,response:cs}=ns;return{type:ts,start:rs/1e3,end:is/1e3,name:os,data:dropUndefinedKeys({method:ss,statusCode:as,request:ls,response:cs})}}function buildSkippedNetworkRequestOrResponse(ts){return{headers:{},size:ts,_meta:{warnings:["URL_SKIPPED"]}}}function buildNetworkRequestOrResponse(ts,ns,rs){if(!ns&&Object.keys(ts).length===0)return;if(!ns)return{headers:ts};if(!rs)return{headers:ts,size:ns};const is={headers:ts,size:ns},{body:os,warnings:ss}=normalizeNetworkBody(rs);return is.body=os,ss&&ss.length>0&&(is._meta={warnings:ss}),is}function getAllowedHeaders(ts,ns){return Object.keys(ts).reduce((rs,is)=>{const os=is.toLowerCase();return ns.includes(os)&&ts[is]&&(rs[os]=ts[is]),rs},{})}function _serializeFormData(ts){return new URLSearchParams(ts).toString()}function normalizeNetworkBody(ts){if(!ts||typeof ts!="string")return{body:ts};const ns=ts.length>NETWORK_BODY_MAX_SIZE,rs=_strIsProbablyJson(ts);if(ns){const is=ts.slice(0,NETWORK_BODY_MAX_SIZE);return rs?{body:is,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:"".concat(is,"â¦"),warnings:["TEXT_TRUNCATED"]}}if(rs)try{return{body:JSON.parse(ts)}}catch{}return{body:ts}}function _strIsProbablyJson(ts){const ns=ts[0],rs=ts[ts.length-1];return ns==="["&&rs==="]"||ns==="{"&&rs==="}"}function urlMatches(ts,ns){const rs=getFullUrl(ts);return stringMatchesSomePattern(rs,ns)}function getFullUrl(ts,ns=WINDOW.document.baseURI){if(ts.startsWith("http://")||ts.startsWith("https://")||ts.startsWith(WINDOW.location.origin))return ts;const rs=new URL(ts,ns);if(rs.origin!==new URL(ns).origin)return ts;const is=rs.href;return!ts.endsWith("/")&&is.endsWith("/")?is.slice(0,-1):is}async function captureFetchBreadcrumbToReplay(ts,ns,rs){try{const is=await _prepareFetchData(ts,ns,rs),os=makeNetworkReplayBreadcrumb("resource.fetch",is);addNetworkBreadcrumb(rs.replay,os)}catch(is){DEBUG_BUILD&&logger$5.error("[Replay] Failed to capture fetch breadcrumb",is)}}function enrichFetchBreadcrumb(ts,ns,rs){const{input:is,response:os}=ns,ss=is?_getFetchRequestArgBody(is):void 0,as=getBodySize(ss,rs.textEncoder),ls=os?parseContentLengthHeader(os.headers.get("content-length")):void 0;as!==void 0&&(ts.data.request_body_size=as),ls!==void 0&&(ts.data.response_body_size=ls)}async function _prepareFetchData(ts,ns,rs){const is=Date.now(),{startTimestamp:os=is,endTimestamp:ss=is}=ns,{url:as,method:ls,status_code:cs=0,request_body_size:us,response_body_size:ds}=ts.data,ps=urlMatches(as,rs.networkDetailAllowUrls)&&!urlMatches(as,rs.networkDetailDenyUrls),hs=ps?_getRequestInfo(rs,ns.input,us):buildSkippedNetworkRequestOrResponse(us),ms=await _getResponseInfo(ps,rs,ns.response,ds);return{startTimestamp:os,endTimestamp:ss,url:as,method:ls,statusCode:cs,request:hs,response:ms}}function _getRequestInfo({networkCaptureBodies:ts,networkRequestHeaders:ns},rs,is){const os=rs?getRequestHeaders(rs,ns):{};if(!ts)return buildNetworkRequestOrResponse(os,is,void 0);const ss=_getFetchRequestArgBody(rs),[as,ls]=getBodyString(ss),cs=buildNetworkRequestOrResponse(os,is,as);return ls?mergeWarning(cs,ls):cs}async function _getResponseInfo(ts,{networkCaptureBodies:ns,textEncoder:rs,networkResponseHeaders:is},os,ss){if(!ts&&ss!==void 0)return buildSkippedNetworkRequestOrResponse(ss);const as=os?getAllHeaders(os.headers,is):{};if(!os||!ns&&ss!==void 0)return buildNetworkRequestOrResponse(as,ss,void 0);const[ls,cs]=await _parseFetchResponseBody(os),us=getResponseData(ls,{networkCaptureBodies:ns,textEncoder:rs,responseBodySize:ss,captureDetails:ts,headers:as});return cs?mergeWarning(us,cs):us}function getResponseData(ts,{networkCaptureBodies:ns,textEncoder:rs,responseBodySize:is,captureDetails:os,headers:ss}){try{const as=ts&&ts.length&&is===void 0?getBodySize(ts,rs):is;return os?ns?buildNetworkRequestOrResponse(ss,as,ts):buildNetworkRequestOrResponse(ss,as,void 0):buildSkippedNetworkRequestOrResponse(as)}catch(as){return DEBUG_BUILD&&logger$5.warn("[Replay] Failed to serialize response body",as),buildNetworkRequestOrResponse(ss,is,void 0)}}async function _parseFetchResponseBody(ts){const ns=_tryCloneResponse(ts);if(!ns)return[void 0,"BODY_PARSE_ERROR"];try{return[await _tryGetResponseText(ns)]}catch(rs){return DEBUG_BUILD&&logger$5.warn("[Replay] Failed to get text body from response",rs),[void 0,"BODY_PARSE_ERROR"]}}function _getFetchRequestArgBody(ts=[]){if(!(ts.length!==2||typeof ts[1]!="object"))return ts[1].body}function getAllHeaders(ts,ns){const rs={};return ns.forEach(is=>{ts.get(is)&&(rs[is]=ts.get(is))}),rs}function getRequestHeaders(ts,ns){return ts.length===1&&typeof ts[0]!="string"?getHeadersFromOptions(ts[0],ns):ts.length===2?getHeadersFromOptions(ts[1],ns):{}}function getHeadersFromOptions(ts,ns){if(!ts)return{};const rs=ts.headers;return rs?rs instanceof Headers?getAllHeaders(rs,ns):Array.isArray(rs)?{}:getAllowedHeaders(rs,ns):{}}function _tryCloneResponse(ts){try{return ts.clone()}catch(ns){DEBUG_BUILD&&logger$5.warn("[Replay] Failed to clone response body",ns)}}function _tryGetResponseText(ts){return new Promise((ns,rs)=>{const is=setTimeout(()=>rs(new Error("Timeout while trying to read response body")),500);_getResponseText(ts).then(os=>ns(os),os=>rs(os)).finally(()=>clearTimeout(is))})}async function _getResponseText(ts){return await ts.text()}async function captureXhrBreadcrumbToReplay(ts,ns,rs){try{const is=_prepareXhrData(ts,ns,rs),os=makeNetworkReplayBreadcrumb("resource.xhr",is);addNetworkBreadcrumb(rs.replay,os)}catch(is){DEBUG_BUILD&&logger$5.error("[Replay] Failed to capture xhr breadcrumb",is)}}function enrichXhrBreadcrumb(ts,ns,rs){const{xhr:is,input:os}=ns;if(!is)return;const ss=getBodySize(os,rs.textEncoder),as=is.getResponseHeader("content-length")?parseContentLengthHeader(is.getResponseHeader("content-length")):_getBodySize(is.response,is.responseType,rs.textEncoder);ss!==void 0&&(ts.data.request_body_size=ss),as!==void 0&&(ts.data.response_body_size=as)}function _prepareXhrData(ts,ns,rs){const is=Date.now(),{startTimestamp:os=is,endTimestamp:ss=is,input:as,xhr:ls}=ns,{url:cs,method:us,status_code:ds=0,request_body_size:ps,response_body_size:hs}=ts.data;if(!cs)return null;if(!ls||!urlMatches(cs,rs.networkDetailAllowUrls)||urlMatches(cs,rs.networkDetailDenyUrls)){const xs=buildSkippedNetworkRequestOrResponse(ps),ws=buildSkippedNetworkRequestOrResponse(hs);return{startTimestamp:os,endTimestamp:ss,url:cs,method:us,statusCode:ds,request:xs,response:ws}}const ms=ls[SENTRY_XHR_DATA_KEY],gs=ms?getAllowedHeaders(ms.request_headers,rs.networkRequestHeaders):{},ys=getAllowedHeaders(getResponseHeaders(ls),rs.networkResponseHeaders),[vs,bs]=rs.networkCaptureBodies?getBodyString(as):[void 0],[Ss,$s]=rs.networkCaptureBodies?_getXhrResponseBody(ls):[void 0],Cs=buildNetworkRequestOrResponse(gs,ps,vs),Es=buildNetworkRequestOrResponse(ys,hs,Ss);return{startTimestamp:os,endTimestamp:ss,url:cs,method:us,statusCode:ds,request:bs?mergeWarning(Cs,bs):Cs,response:$s?mergeWarning(Es,$s):Es}}function getResponseHeaders(ts){const ns=ts.getAllResponseHeaders();return ns?ns.split("\r\n").reduce((rs,is)=>{const[os,ss]=is.split(": ");return rs[os.toLowerCase()]=ss,rs},{}):{}}function _getXhrResponseBody(ts){const ns=[];try{return[ts.responseText]}catch(rs){ns.push(rs)}try{return _parseXhrResponse(ts.response,ts.responseType)}catch(rs){ns.push(rs)}return DEBUG_BUILD&&logger$5.warn("[Replay] Failed to get xhr response body",...ns),[void 0]}function _parseXhrResponse(ts,ns){try{if(typeof ts=="string")return[ts];if(ts instanceof Document)return[ts.body.outerHTML];if(ns==="json"&&ts&&typeof ts=="object")return[JSON.stringify(ts)];if(!ts)return[void 0]}catch{return DEBUG_BUILD&&logger$5.warn("[Replay] Failed to serialize body",ts),[void 0,"BODY_PARSE_ERROR"]}return DEBUG_BUILD&&logger$5.info("[Replay] Skipping network body because of body type",ts),[void 0,"UNPARSEABLE_BODY_TYPE"]}function _getBodySize(ts,ns,rs){try{const is=ns==="json"&&ts&&typeof ts=="object"?JSON.stringify(ts):ts;return getBodySize(is,rs)}catch{return}}function handleNetworkBreadcrumbs(ts){const ns=getClient();try{const rs=new TextEncoder,{networkDetailAllowUrls:is,networkDetailDenyUrls:os,networkCaptureBodies:ss,networkRequestHeaders:as,networkResponseHeaders:ls}=ts.getOptions(),cs={replay:ts,textEncoder:rs,networkDetailAllowUrls:is,networkDetailDenyUrls:os,networkCaptureBodies:ss,networkRequestHeaders:as,networkResponseHeaders:ls};ns&&ns.on?ns.on("beforeAddBreadcrumb",(us,ds)=>beforeAddNetworkBreadcrumb(cs,us,ds)):(addFetchInstrumentationHandler(handleFetchSpanListener(ts)),addXhrInstrumentationHandler(handleXhrSpanListener(ts)))}catch{}}function beforeAddNetworkBreadcrumb(ts,ns,rs){if(ns.data)try{_isXhrBreadcrumb(ns)&&_isXhrHint(rs)&&(enrichXhrBreadcrumb(ns,rs,ts),captureXhrBreadcrumbToReplay(ns,rs,ts)),_isFetchBreadcrumb(ns)&&_isFetchHint(rs)&&(enrichFetchBreadcrumb(ns,rs,ts),captureFetchBreadcrumbToReplay(ns,rs,ts))}catch{DEBUG_BUILD&&logger$5.warn("Error when enriching network breadcrumb")}}function _isXhrBreadcrumb(ts){return ts.category==="xhr"}function _isFetchBreadcrumb(ts){return ts.category==="fetch"}function _isXhrHint(ts){return ts&&ts.xhr}function _isFetchHint(ts){return ts&&ts.response}let _LAST_BREADCRUMB=null;function isBreadcrumbWithCategory(ts){return!!ts.category}const handleScopeListener=ts=>ns=>{if(!ts.isEnabled())return;const rs=handleScope(ns);rs&&addBreadcrumbEvent(ts,rs)};function handleScope(ts){const ns=ts.getLastBreadcrumb&&ts.getLastBreadcrumb();return _LAST_BREADCRUMB===ns||!ns||(_LAST_BREADCRUMB=ns,!isBreadcrumbWithCategory(ns)||["fetch","xhr","sentry.event","sentry.transaction"].includes(ns.category)||ns.category.startsWith("ui."))?null:ns.category==="console"?normalizeConsoleBreadcrumb(ns):createBreadcrumb(ns)}function normalizeConsoleBreadcrumb(ts){const ns=ts.data&&ts.data.arguments;if(!Array.isArray(ns)||ns.length===0)return createBreadcrumb(ts);let rs=!1;const is=ns.map(os=>{if(!os)return os;if(typeof os=="string")return os.length>CONSOLE_ARG_MAX_SIZE?(rs=!0,"".concat(os.slice(0,CONSOLE_ARG_MAX_SIZE),"â¦")):os;if(typeof os=="object")try{const ss=normalize(os,7);return JSON.stringify(ss).length>CONSOLE_ARG_MAX_SIZE?(rs=!0,"".concat(JSON.stringify(ss,null,2).slice(0,CONSOLE_ARG_MAX_SIZE),"â¦")):ss}catch{}return os});return createBreadcrumb({...ts,data:{...ts.data,arguments:is,...rs?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}function addGlobalListeners(ts){const ns=getCurrentScope(),rs=getClient();ns.addScopeListener(handleScopeListener(ts)),addClickKeypressInstrumentationHandler(handleDomListener(ts)),addHistoryInstrumentationHandler(handleHistorySpanListener(ts)),handleNetworkBreadcrumbs(ts);const is=handleGlobalEventListener(ts,!hasHooks(rs));rs&&rs.addEventProcessor?rs.addEventProcessor(is):addEventProcessor(is),hasHooks(rs)&&(rs.on("beforeSendEvent",handleBeforeSendEvent(ts)),rs.on("afterSendEvent",handleAfterSendEvent(ts)),rs.on("createDsc",os=>{const ss=ts.getSessionId();ss&&ts.isEnabled()&&ts.recordingMode==="session"&&ts.checkAndHandleExpiredSession()&&(os.replay_id=ss)}),rs.on("startTransaction",os=>{ts.lastTransaction=os}),rs.on("finishTransaction",os=>{ts.lastTransaction=os}),rs.on("beforeSendFeedback",(os,ss)=>{const as=ts.getSessionId();ss&&ss.includeReplay&&ts.isEnabled()&&as&&os.contexts&&os.contexts.feedback&&(os.contexts.feedback.replay_id=as)}))}function hasHooks(ts){return!!(ts&&ts.on)}async function addMemoryEntry(ts){try{return Promise.all(createPerformanceSpans(ts,[createMemoryEntry(WINDOW.performance.memory)]))}catch{return[]}}function createMemoryEntry(ts){const{jsHeapSizeLimit:ns,totalJSHeapSize:rs,usedJSHeapSize:is}=ts,os=Date.now()/1e3;return{type:"memory",name:"memory",start:os,end:os,data:{memory:{jsHeapSizeLimit:ns,totalJSHeapSize:rs,usedJSHeapSize:is}}}}function debounce$1(ts,ns,rs){let is,os,ss;const as=rs&&rs.maxWait?Math.max(rs.maxWait,ns):0;function ls(){return cs(),is=ts(),is}function cs(){os!==void 0&&clearTimeout(os),ss!==void 0&&clearTimeout(ss),os=ss=void 0}function us(){return os!==void 0||ss!==void 0?ls():is}function ds(){return os&&clearTimeout(os),os=setTimeout(ls,ns),as&&ss===void 0&&(ss=setTimeout(ls,as)),is}return ds.cancel=cs,ds.flush=us,ds}function getHandleRecordingEmit(ts){let ns=!1;return(rs,is)=>{if(!ts.checkAndHandleExpiredSession()){DEBUG_BUILD&&logger$5.warn("[Replay] Received replay event after session expired.");return}const os=is||!ns;ns=!0,ts.clickDetector&&updateClickDetectorForRecordingEvent(ts.clickDetector,rs),ts.addUpdate(()=>{if(ts.recordingMode==="buffer"&&os&&ts.setInitialState(),!addEventSync(ts,rs,os))return!0;if(!os)return!1;if(addSettingsEvent(ts,os),ts.session&&ts.session.previousSessionId)return!0;if(ts.recordingMode==="buffer"&&ts.session&&ts.eventBuffer){const ss=ts.eventBuffer.getEarliestTimestamp();ss&&(logInfo("[Replay] Updating session start time to earliest event in buffer to ".concat(new Date(ss)),ts.getOptions()._experiments.traceInternals),ts.session.started=ss,ts.getOptions().stickySession&&saveSession(ts.session))}return ts.recordingMode==="session"&&ts.flush(),!0})}}function createOptionsEvent(ts){const ns=ts.getOptions();return{type:EventType$2.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:ts.isRecordingCanvas(),sessionSampleRate:ns.sessionSampleRate,errorSampleRate:ns.errorSampleRate,useCompressionOption:ns.useCompression,blockAllMedia:ns.blockAllMedia,maskAllText:ns.maskAllText,maskAllInputs:ns.maskAllInputs,useCompression:ts.eventBuffer?ts.eventBuffer.type==="worker":!1,networkDetailHasUrls:ns.networkDetailAllowUrls.length>0,networkCaptureBodies:ns.networkCaptureBodies,networkRequestHasHeaders:ns.networkRequestHeaders.length>0,networkResponseHasHeaders:ns.networkResponseHeaders.length>0}}}}function addSettingsEvent(ts,ns){!ns||!ts.session||ts.session.segmentId!==0||addEventSync(ts,createOptionsEvent(ts),!1)}function createReplayEnvelope(ts,ns,rs,is){return createEnvelope(createEventEnvelopeHeaders(ts,getSdkMetadataForEnvelopeHeader(ts),is,rs),[[{type:"replay_event"},ts],[{type:"replay_recording",length:typeof ns=="string"?new TextEncoder().encode(ns).length:ns.length},ns]])}function prepareRecordingData({recordingData:ts,headers:ns}){let rs;const is="".concat(JSON.stringify(ns),"\n");if(typeof ts=="string")rs="".concat(is).concat(ts);else{const ss=new TextEncoder().encode(is);rs=new Uint8Array(ss.length+ts.length),rs.set(ss),rs.set(ts,ss.length)}return rs}async function prepareReplayEvent({client:ts,scope:ns,replayId:rs,event:is}){const os=typeof ts._integrations=="object"&&ts._integrations!==null&&!Array.isArray(ts._integrations)?Object.keys(ts._integrations):void 0,ss={event_id:rs,integrations:os};ts.emit&&ts.emit("preprocessEvent",is,ss);const as=await prepareEvent(ts.getOptions(),is,ss,ns,ts,getIsolationScope());if(!as)return null;as.platform=as.platform||"javascript";const ls=ts.getSdkMetadata&&ts.getSdkMetadata(),{name:cs,version:us}=ls&&ls.sdk||{};return as.sdk={...as.sdk,name:cs||"sentry.javascript.unknown",version:us||"0.0.0"},as}async function sendReplayRequest({recordingData:ts,replayId:ns,segmentId:rs,eventContext:is,timestamp:os,session:ss}){const as=prepareRecordingData({recordingData:ts,headers:{segment_id:rs}}),{urls:ls,errorIds:cs,traceIds:us,initialTimestamp:ds}=is,ps=getClient(),hs=getCurrentScope(),ms=ps&&ps.getTransport(),gs=ps&&ps.getDsn();if(!ps||!ms||!gs||!ss.sampled)return;const ys={type:REPLAY_EVENT_NAME,replay_start_timestamp:ds/1e3,timestamp:os/1e3,error_ids:cs,trace_ids:us,urls:ls,replay_id:ns,segment_id:rs,replay_type:ss.sampled},vs=await prepareReplayEvent({scope:hs,client:ps,replayId:ns,event:ys});if(!vs){ps.recordDroppedEvent("event_processor","replay",ys),logInfo("An event processor returned `null`, will not send event.");return}delete vs.sdkProcessingMetadata;const bs=createReplayEnvelope(vs,as,gs,ps.getOptions().tunnel);let Ss;try{Ss=await ms.send(bs)}catch(Cs){const Es=new Error(UNABLE_TO_SEND_REPLAY);try{Es.cause=Cs}catch{}throw Es}if(!Ss)return Ss;if(typeof Ss.statusCode=="number"&&(Ss.statusCode<200||Ss.statusCode>=300))throw new TransportStatusCodeError(Ss.statusCode);const $s=updateRateLimits({},Ss);if(isRateLimited($s,"replay"))throw new RateLimitError($s);return Ss}class TransportStatusCodeError extends Error{constructor(ns){super("Transport returned status code ".concat(ns))}}class RateLimitError extends Error{constructor(ns){super("Rate limit hit"),this.rateLimits=ns}}async function sendReplay(ts,ns={count:0,interval:RETRY_BASE_INTERVAL}){const{recordingData:rs,options:is}=ts;if(rs.length)try{return await sendReplayRequest(ts),!0}catch(os){if(os instanceof TransportStatusCodeError||os instanceof RateLimitError)throw os;if(setContext("Replays",{_retryCount:ns.count}),DEBUG_BUILD&&is._experiments&&is._experiments.captureExceptions&&captureException(os),ns.count>=RETRY_MAX_COUNT){const ss=new Error("".concat(UNABLE_TO_SEND_REPLAY," - max retries exceeded"));try{ss.cause=os}catch{}throw ss}return ns.interval*=++ns.count,new Promise((ss,as)=>{setTimeout(async()=>{try{await sendReplay(ts,ns),ss(!0)}catch(ls){as(ls)}},ns.interval)})}}const THROTTLED="__THROTTLED",SKIPPED="__SKIPPED";function throttle$2(ts,ns,rs){const is=new Map,os=ls=>{const cs=ls-rs;is.forEach((us,ds)=>{ds<cs&&is.delete(ds)})},ss=()=>[...is.values()].reduce((ls,cs)=>ls+cs,0);let as=!1;return(...ls)=>{const cs=Math.floor(Date.now()/1e3);if(os(cs),ss()>=ns){const ds=as;return as=!0,ds?SKIPPED:THROTTLED}as=!1;const us=is.get(cs)||0;return is.set(cs,us+1),ts(...ls)}}class ReplayContainer{constructor({options:ns,recordingOptions:rs}){ReplayContainer.prototype.__init.call(this),ReplayContainer.prototype.__init2.call(this),ReplayContainer.prototype.__init3.call(this),ReplayContainer.prototype.__init4.call(this),ReplayContainer.prototype.__init5.call(this),ReplayContainer.prototype.__init6.call(this),this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:SESSION_IDLE_PAUSE_DURATION,sessionIdleExpire:SESSION_IDLE_EXPIRE_DURATION},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=rs,this._options=ns,this._debouncedFlush=debounce$1(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=throttle$2((as,ls)=>addEvent(this,as,ls),300,5);const{slowClickTimeout:is,slowClickIgnoreSelectors:os}=this.getOptions(),ss=is?{threshold:Math.min(SLOW_CLICK_THRESHOLD,is),timeout:is,scrollTimeout:SLOW_CLICK_SCROLL_TIMEOUT,ignoreSelector:os?os.join(","):""}:void 0;ss&&(this.clickDetector=new ClickDetector(this,ss))}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return!!this._canvas}getOptions(){return this._options}initializeSampling(ns){const{errorSampleRate:rs,sessionSampleRate:is}=this._options;if(!(rs<=0&&is<=0)){if(this._initializeSessionForSampling(ns),!this.session){this._handleException(new Error("Unable to initialize and create session"));return}this.session.sampled!==!1&&(this.recordingMode=this.session.sampled==="buffer"&&this.session.segmentId===0?"buffer":"session",logInfoNextTick("[Replay] Starting replay in ".concat(this.recordingMode," mode"),this._options._experiments.traceInternals),this._initializeRecording())}}start(){if(this._isEnabled&&this.recordingMode==="session")throw new Error("Replay recording is already in progress");if(this._isEnabled&&this.recordingMode==="buffer")throw new Error("Replay buffering is in progress, call `flush()` to save the replay");logInfoNextTick("[Replay] Starting replay in session mode",this._options._experiments.traceInternals),this._updateUserActivity();const ns=loadOrCreateSession({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire,traceInternals:this._options._experiments.traceInternals},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=ns,this._initializeRecording()}startBuffering(){if(this._isEnabled)throw new Error("Replay recording is already in progress");logInfoNextTick("[Replay] Starting replay in buffer mode",this._options._experiments.traceInternals);const ns=loadOrCreateSession({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,traceInternals:this._options._experiments.traceInternals},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=ns,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{const ns=this._canvas;this._stopRecording=record$1({...this._recordingOptions,...this.recordingMode==="buffer"&&{checkoutEveryNms:BUFFER_CHECKOUT_TIME},emit:getHandleRecordingEmit(this),onMutation:this._onMutationHandler,...ns?{recordCanvas:ns.recordCanvas,getCanvasManager:ns.getCanvasManager,sampling:ns.sampling,dataURLOptions:ns.dataURLOptions}:{}})}catch(ns){this._handleException(ns)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(ns){return this._handleException(ns),!1}}async stop({forceFlush:ns=!1,reason:rs}={}){if(this._isEnabled){this._isEnabled=!1;try{logInfo("[Replay] Stopping Replay".concat(rs?" triggered by ".concat(rs):""),this._options._experiments.traceInternals),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),ns&&await this._flush({force:!0}),this.eventBuffer&&this.eventBuffer.destroy(),this.eventBuffer=null,clearSession(this)}catch(is){this._handleException(is)}}}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),logInfo("[Replay] Pausing replay",this._options._experiments.traceInternals))}resume(){!this._isPaused||!this._checkSession()||(this._isPaused=!1,this.startRecording(),logInfo("[Replay] Resuming replay",this._options._experiments.traceInternals))}async sendBufferedReplayOrFlush({continueRecording:ns=!0}={}){if(this.recordingMode==="session")return this.flushImmediate();const rs=Date.now();logInfo("[Replay] Converting buffer to session",this._options._experiments.traceInternals),await this.flushImmediate();const is=this.stopRecording();!ns||!is||this.recordingMode!=="session"&&(this.recordingMode="session",this.session&&(this._updateUserActivity(rs),this._updateSessionActivity(rs),this._maybeSaveSession()),this.startRecording())}addUpdate(ns){const rs=ns();this.recordingMode!=="buffer"&&rs!==!0&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),!this._stopRecording){if(!this._checkSession())return;this.resume();return}this.checkAndHandleExpiredSession(),this._updateSessionActivity()}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return this.recordingMode==="buffer"?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(){return this.session&&this.session.id}checkAndHandleExpiredSession(){if(this._lastActivity&&isExpired(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&this.session.sampled==="session"){this.pause();return}return!!this._checkSession()}setInitialState(){const ns="".concat(WINDOW.location.pathname).concat(WINDOW.location.hash).concat(WINDOW.location.search),rs="".concat(WINDOW.location.origin).concat(ns);this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=rs,this._context.initialTimestamp=Date.now(),this._context.urls.push(rs)}throttledAddEvent(ns,rs){const is=this._throttledAddEvent(ns,rs);if(is===THROTTLED){const os=createBreadcrumb({category:"replay.throttled"});this.addUpdate(()=>!addEventSync(this,{type:ReplayEventTypeCustom,timestamp:os.timestamp||0,data:{tag:"breadcrumb",payload:os,metric:!0}}))}return is}getCurrentRoute(){const ns=this.lastTransaction||getCurrentScope().getTransaction(),is=(ns&&spanToJSON(ns).data||{})[SEMANTIC_ATTRIBUTE_SENTRY_SOURCE];if(!(!ns||!is||!["route","custom"].includes(is)))return spanToJSON(ns).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=createEventBuffer({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_handleException(ns){DEBUG_BUILD&&logger$5.error("[Replay]",ns),DEBUG_BUILD&&this._options._experiments&&this._options._experiments.captureExceptions&&captureException(ns)}_initializeSessionForSampling(ns){const rs=this._options.errorSampleRate>0,is=loadOrCreateSession({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,traceInternals:this._options._experiments.traceInternals,previousSessionId:ns},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:rs});this.session=is}_checkSession(){if(!this.session)return!1;const ns=this.session;return shouldRefreshSession(ns,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})?(this._refreshSession(ns),!1):!0}async _refreshSession(ns){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(ns.id))}_addListeners(){try{WINDOW.document.addEventListener("visibilitychange",this._handleVisibilityChange),WINDOW.addEventListener("blur",this._handleWindowBlur),WINDOW.addEventListener("focus",this._handleWindowFocus),WINDOW.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(addGlobalListeners(this),this._hasInitializedCoreListeners=!0)}catch(ns){this._handleException(ns)}this._performanceCleanupCallback=setupPerformanceObserver(this)}_removeListeners(){try{WINDOW.document.removeEventListener("visibilitychange",this._handleVisibilityChange),WINDOW.removeEventListener("blur",this._handleWindowBlur),WINDOW.removeEventListener("focus",this._handleWindowFocus),WINDOW.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(ns){this._handleException(ns)}}__init(){this._handleVisibilityChange=()=>{WINDOW.document.visibilityState==="visible"?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()}}__init2(){this._handleWindowBlur=()=>{const ns=createBreadcrumb({category:"ui.blur"});this._doChangeToBackgroundTasks(ns)}}__init3(){this._handleWindowFocus=()=>{const ns=createBreadcrumb({category:"ui.focus"});this._doChangeToForegroundTasks(ns)}}__init4(){this._handleKeyboardEvent=ns=>{handleKeyboardEvent(this,ns)}}_doChangeToBackgroundTasks(ns){!this.session||isSessionExpired(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(ns&&this._createCustomBreadcrumb(ns),this.conditionalFlush())}_doChangeToForegroundTasks(ns){if(!this.session)return;if(!this.checkAndHandleExpiredSession()){logInfo("[Replay] Document has become active, but session has expired");return}ns&&this._createCustomBreadcrumb(ns)}_updateUserActivity(ns=Date.now()){this._lastActivity=ns}_updateSessionActivity(ns=Date.now()){this.session&&(this.session.lastActivity=ns,this._maybeSaveSession())}_createCustomBreadcrumb(ns){this.addUpdate(()=>{this.throttledAddEvent({type:EventType$2.Custom,timestamp:ns.timestamp||0,data:{tag:"breadcrumb",payload:ns}})})}_addPerformanceEntries(){const ns=createPerformanceEntries(this.performanceEntries).concat(this.replayPerformanceEntries);return this.performanceEntries=[],this.replayPerformanceEntries=[],Promise.all(createPerformanceSpans(this,ns))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){const{session:ns,eventBuffer:rs}=this;if(!ns||!rs||ns.segmentId)return;const is=rs.getEarliestTimestamp();is&&is<this._context.initialTimestamp&&(this._context.initialTimestamp=is)}_popEventContext(){const ns={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),ns}async _runFlush(){const ns=this.getSessionId();if(!this.session||!this.eventBuffer||!ns){DEBUG_BUILD&&logger$5.error("[Replay] No session or eventBuffer found to flush.");return}if(await this._addPerformanceEntries(),!(!this.eventBuffer||!this.eventBuffer.hasEvents)&&(await addMemoryEntry(this),!!this.eventBuffer&&ns===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();const rs=Date.now();if(rs-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");const is=this._popEventContext(),os=this.session.segmentId++;this._maybeSaveSession();const ss=await this.eventBuffer.finish();await sendReplay({replayId:ns,recordingData:ss,segmentId:os,eventContext:is,session:this.session,options:this.getOptions(),timestamp:rs})}catch(rs){this._handleException(rs),this.stop({reason:"sendReplay"});const is=getClient();is&&is.recordDroppedEvent("send_error","replay")}}__init5(){this._flush=async({force:ns=!1}={})=>{if(!this._isEnabled&&!ns)return;if(!this.checkAndHandleExpiredSession()){DEBUG_BUILD&&logger$5.error("[Replay] Attempting to finish replay event after session expired.");return}if(!this.session)return;const rs=this.session.started,os=Date.now()-rs;this._debouncedFlush.cancel();const ss=os<this._options.minReplayDuration,as=os>this._options.maxReplayDuration+5e3;if(ss||as){logInfo("[Replay] Session duration (".concat(Math.floor(os/1e3),"s) is too ").concat(ss?"short":"long",", not sending replay."),this._options._experiments.traceInternals),ss&&this._debouncedFlush();return}const ls=this.eventBuffer;if(ls&&this.session.segmentId===0&&!ls.hasCheckout&&logInfo("[Replay] Flushing initial segment without checkout.",this._options._experiments.traceInternals),!this._flushLock){this._flushLock=this._runFlush(),await this._flushLock,this._flushLock=void 0;return}try{await this._flushLock}catch(cs){DEBUG_BUILD&&logger$5.error(cs)}finally{this._debouncedFlush()}}}_maybeSaveSession(){this.session&&this._options.stickySession&&saveSession(this.session)}__init6(){this._onMutationHandler=ns=>{const rs=ns.length,is=this._options.mutationLimit,os=this._options.mutationBreadcrumbLimit,ss=is&&rs>is;if(rs>os||ss){const as=createBreadcrumb({category:"replay.mutations",data:{count:rs,limit:ss}});this._createCustomBreadcrumb(as)}return ss?(this.stop({reason:"mutationLimit",forceFlush:this.recordingMode==="session"}),!1):!0}}}function getOption(ts,ns,rs,is){const os=typeof is=="string"?is.split(","):[],ss=[...ts,...os,...ns];return typeof rs<"u"&&(typeof rs=="string"&&ss.push(".".concat(rs)),consoleSandbox(()=>{console.warn("[Replay] You are using a deprecated configuration item for privacy. Read the documentation on how to use the new privacy configuration.")})),ss.join(",")}function getPrivacyOptions({mask:ts,unmask:ns,block:rs,unblock:is,ignore:os,blockClass:ss,blockSelector:as,maskTextClass:ls,maskTextSelector:cs,ignoreClass:us}){const ds=['base[href="/"]'],ps=getOption(ts,[".sentry-mask","[data-sentry-mask]"],ls,cs),hs=getOption(ns,[".sentry-unmask","[data-sentry-unmask]"]),ms={maskTextSelector:ps,unmaskTextSelector:hs,blockSelector:getOption(rs,[".sentry-block","[data-sentry-block]",...ds],ss,as),unblockSelector:getOption(is,[".sentry-unblock","[data-sentry-unblock]"]),ignoreSelector:getOption(os,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'],us)};return ss instanceof RegExp&&(ms.blockClass=ss),ls instanceof RegExp&&(ms.maskTextClass=ls),ms}function maskAttribute({el:ts,key:ns,maskAttributes:rs,maskAllText:is,privacyOptions:os,value:ss}){return!is||os.unmaskTextSelector&&ts.matches(os.unmaskTextSelector)?ss:rs.includes(ns)||ns==="value"&&ts.tagName==="INPUT"&&["submit","button"].includes(ts.getAttribute("type")||"")?ss.replace(/[\S]/g,"*"):ss}const MEDIA_SELECTORS='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',DEFAULT_NETWORK_HEADERS=["content-length","content-type","accept"];let _initialized=!1;class Replay$1{static __initStatic(){this.id="Replay"}constructor({flushMinDelay:ns=DEFAULT_FLUSH_MIN_DELAY,flushMaxDelay:rs=DEFAULT_FLUSH_MAX_DELAY,minReplayDuration:is=MIN_REPLAY_DURATION,maxReplayDuration:os=MAX_REPLAY_DURATION,stickySession:ss=!0,useCompression:as=!0,workerUrl:ls,_experiments:cs={},sessionSampleRate:us,errorSampleRate:ds,maskAllText:ps=!0,maskAllInputs:hs=!0,blockAllMedia:ms=!0,mutationBreadcrumbLimit:gs=750,mutationLimit:ys=1e4,slowClickTimeout:vs=7e3,slowClickIgnoreSelectors:bs=[],networkDetailAllowUrls:Ss=[],networkDetailDenyUrls:$s=[],networkCaptureBodies:Cs=!0,networkRequestHeaders:Es=[],networkResponseHeaders:xs=[],mask:ws=[],maskAttributes:ks=["title","placeholder"],unmask:Is=[],block:Ts=[],unblock:Rs=[],ignore:As=[],maskFn:Ms,beforeAddRecordingEvent:Ls,beforeErrorSampling:Ds,blockClass:Fs,blockSelector:Vs,maskInputOptions:Bs,maskTextClass:Ws,maskTextSelector:Os,ignoreClass:Nl}={}){this.name=Replay$1.id;const $a=getPrivacyOptions({mask:ws,unmask:Is,block:Ts,unblock:Rs,ignore:As,blockClass:Fs,blockSelector:Vs,maskTextClass:Ws,maskTextSelector:Os,ignoreClass:Nl});if(this._recordingOptions={maskAllInputs:hs,maskAllText:ps,maskInputOptions:{...Bs||{},password:!0},maskTextFn:Ms,maskInputFn:Ms,maskAttributeFn:(Ps,Ys,Zs)=>maskAttribute({maskAttributes:ks,maskAllText:ps,privacyOptions:$a,key:Ps,value:Ys,el:Zs}),...$a,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:Ps=>{try{Ps.__rrweb__=!0}catch{}}},this._initialOptions={flushMinDelay:ns,flushMaxDelay:rs,minReplayDuration:Math.min(is,MIN_REPLAY_DURATION_LIMIT),maxReplayDuration:Math.min(os,MAX_REPLAY_DURATION),stickySession:ss,sessionSampleRate:us,errorSampleRate:ds,useCompression:as,workerUrl:ls,blockAllMedia:ms,maskAllInputs:hs,maskAllText:ps,mutationBreadcrumbLimit:gs,mutationLimit:ys,slowClickTimeout:vs,slowClickIgnoreSelectors:bs,networkDetailAllowUrls:Ss,networkDetailDenyUrls:$s,networkCaptureBodies:Cs,networkRequestHeaders:_getMergedNetworkHeaders(Es),networkResponseHeaders:_getMergedNetworkHeaders(xs),beforeAddRecordingEvent:Ls,beforeErrorSampling:Ds,_experiments:cs},typeof us=="number"&&(console.warn("[Replay] You are passing `sessionSampleRate` to the Replay integration.\nThis option is deprecated and will be removed soon.\nInstead, configure `replaysSessionSampleRate` directly in the SDK init options, e.g.:\nSentry.init({ replaysSessionSampleRate: ".concat(us," })")),this._initialOptions.sessionSampleRate=us),typeof ds=="number"&&(console.warn("[Replay] You are passing `errorSampleRate` to the Replay integration.\nThis option is deprecated and will be removed soon.\nInstead, configure `replaysOnErrorSampleRate` directly in the SDK init options, e.g.:\nSentry.init({ replaysOnErrorSampleRate: ".concat(ds," })")),this._initialOptions.errorSampleRate=ds),this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?"".concat(this._recordingOptions.blockSelector,",").concat(MEDIA_SELECTORS):MEDIA_SELECTORS),this._isInitialized&&isBrowser$1())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return _initialized}set _isInitialized(ns){_initialized=ns}setupOnce(){isBrowser$1()&&(this._setup(),setTimeout(()=>this._initialize()))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:this._replay.recordingMode==="session"}):Promise.resolve()}flush(ns){return!this._replay||!this._replay.isEnabled()?Promise.resolve():this._replay.sendBufferedReplayOrFlush(ns)}getReplayId(){if(!(!this._replay||!this._replay.isEnabled()))return this._replay.getSessionId()}_initialize(){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(),this._replay.initializeSampling())}_setup(){const ns=loadReplayOptionsFromClient(this._initialOptions);this._replay=new ReplayContainer({options:ns,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(){try{const rs=getClient().getIntegrationByName("ReplayCanvas");if(!rs)return;this._replay._canvas=rs.getOptions()}catch{}}}Replay$1.__initStatic();function loadReplayOptionsFromClient(ts){const ns=getClient(),rs=ns&&ns.getOptions(),is={sessionSampleRate:0,errorSampleRate:0,...dropUndefinedKeys(ts)};return rs?(ts.sessionSampleRate==null&&ts.errorSampleRate==null&&rs.replaysSessionSampleRate==null&&rs.replaysOnErrorSampleRate==null&&consoleSandbox(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}),typeof rs.replaysSessionSampleRate=="number"&&(is.sessionSampleRate=rs.replaysSessionSampleRate),typeof rs.replaysOnErrorSampleRate=="number"&&(is.errorSampleRate=rs.replaysOnErrorSampleRate),is):(consoleSandbox(()=>{console.warn("SDK client is not available.")}),is)}function _getMergedNetworkHeaders(ts){return[...DEFAULT_NETWORK_HEADERS,...ts.map(ns=>ns.toLowerCase())]}function init(ts){const ns={...ts};applySdkMetadata(ns,"react"),init$1(ns)}function safelyCaptureException(ts){captureException(ts)}function _objectWithoutPropertiesLoose$1(ts,ns){if(ts==null)return{};var rs={},is=Object.keys(ts),os,ss;for(ss=0;ss<is.length;ss++)os=is[ss],!(ns.indexOf(os)>=0)&&(rs[os]=ts[os]);return rs}function IMask(ts){let ns=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new IMask.InputMask(ts,ns)}class ChangeDetails{constructor(ns){Object.assign(this,{inserted:"",rawInserted:"",skip:!1,tailShift:0},ns)}aggregate(ns){return this.rawInserted+=ns.rawInserted,this.skip=this.skip||ns.skip,this.inserted+=ns.inserted,this.tailShift+=ns.tailShift,this}get offset(){return this.tailShift+this.inserted.length}}IMask.ChangeDetails=ChangeDetails;function isString(ts){return typeof ts=="string"||ts instanceof String}const DIRECTION={NONE:"NONE",LEFT:"LEFT",FORCE_LEFT:"FORCE_LEFT",RIGHT:"RIGHT",FORCE_RIGHT:"FORCE_RIGHT"};function forceDirection(ts){switch(ts){case DIRECTION.LEFT:return DIRECTION.FORCE_LEFT;case DIRECTION.RIGHT:return DIRECTION.FORCE_RIGHT;default:return ts}}function escapeRegExp(ts){return ts.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function normalizePrepare(ts){return Array.isArray(ts)?ts:[ts,new ChangeDetails]}function objectIncludes(ts,ns){if(ns===ts)return!0;var rs=Array.isArray(ns),is=Array.isArray(ts),os;if(rs&&is){if(ns.length!=ts.length)return!1;for(os=0;os<ns.length;os++)if(!objectIncludes(ns[os],ts[os]))return!1;return!0}if(rs!=is)return!1;if(ns&&ts&&typeof ns=="object"&&typeof ts=="object"){var ss=ns instanceof Date,as=ts instanceof Date;if(ss&&as)return ns.getTime()==ts.getTime();if(ss!=as)return!1;var ls=ns instanceof RegExp,cs=ts instanceof RegExp;if(ls&&cs)return ns.toString()==ts.toString();if(ls!=cs)return!1;var us=Object.keys(ns);for(os=0;os<us.length;os++)if(!Object.prototype.hasOwnProperty.call(ts,us[os]))return!1;for(os=0;os<us.length;os++)if(!objectIncludes(ts[us[os]],ns[us[os]]))return!1;return!0}else if(ns&&ts&&typeof ns=="function"&&typeof ts=="function")return ns.toString()===ts.toString();return!1}class ActionDetails{constructor(ns,rs,is,os){for(this.value=ns,this.cursorPos=rs,this.oldValue=is,this.oldSelection=os;this.value.slice(0,this.startChangePos)!==this.oldValue.slice(0,this.startChangePos);)--this.oldSelection.start}get startChangePos(){return Math.min(this.cursorPos,this.oldSelection.start)}get insertedCount(){return this.cursorPos-this.startChangePos}get inserted(){return this.value.substr(this.startChangePos,this.insertedCount)}get removedCount(){return Math.max(this.oldSelection.end-this.startChangePos||this.oldValue.length-this.value.length,0)}get removed(){return this.oldValue.substr(this.startChangePos,this.removedCount)}get head(){return this.value.substring(0,this.startChangePos)}get tail(){return this.value.substring(this.startChangePos+this.insertedCount)}get removeDirection(){return!this.removedCount||this.insertedCount?DIRECTION.NONE:(this.oldSelection.end===this.cursorPos||this.oldSelection.start===this.cursorPos)&&this.oldSelection.end===this.oldSelection.start?DIRECTION.RIGHT:DIRECTION.LEFT}}class ContinuousTailDetails{constructor(){let ns=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",rs=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,is=arguments.length>2?arguments[2]:void 0;this.value=ns,this.from=rs,this.stop=is}toString(){return this.value}extend(ns){this.value+=String(ns)}appendTo(ns){return ns.append(this.toString(),{tail:!0}).aggregate(ns._appendPlaceholder())}get state(){return{value:this.value,from:this.from,stop:this.stop}}set state(ns){Object.assign(this,ns)}unshift(ns){if(!this.value.length||ns!=null&&this.from>=ns)return"";const rs=this.value[0];return this.value=this.value.slice(1),rs}shift(){if(!this.value.length)return"";const ns=this.value[this.value.length-1];return this.value=this.value.slice(0,-1),ns}}class Masked{constructor(ns){this._value="",this._update(Object.assign({},Masked.DEFAULTS,ns)),this.isInitialized=!0}updateOptions(ns){Object.keys(ns).length&&this.withValueRefresh(this._update.bind(this,ns))}_update(ns){Object.assign(this,ns)}get state(){return{_value:this.value}}set state(ns){this._value=ns._value}reset(){this._value=""}get value(){return this._value}set value(ns){this.resolve(ns)}resolve(ns){let rs=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{input:!0};return this.reset(),this.append(ns,rs,""),this.doCommit(),this.value}get unmaskedValue(){return this.value}set unmaskedValue(ns){this.reset(),this.append(ns,{},""),this.doCommit()}get typedValue(){return this.doParse(this.value)}set typedValue(ns){this.value=this.doFormat(ns)}get rawInputValue(){return this.extractInput(0,this.value.length,{raw:!0})}set rawInputValue(ns){this.reset(),this.append(ns,{raw:!0},""),this.doCommit()}get displayValue(){return this.value}get isComplete(){return!0}get isFilled(){return this.isComplete}nearestInputPos(ns,rs){return ns}totalInputPositions(){let ns=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,rs=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.value.length;return Math.min(this.value.length,rs-ns)}extractInput(){let ns=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,rs=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.value.length;return this.value.slice(ns,rs)}extractTail(){let ns=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,rs=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.value.length;return new ContinuousTailDetails(this.extractInput(ns,rs),ns)}appendTail(ns){return isString(ns)&&(ns=new ContinuousTailDetails(String(ns))),ns.appendTo(this)}_appendCharRaw(ns){return ns?(this._value+=ns,new ChangeDetails({inserted:ns,rawInserted:ns})):new ChangeDetails}_appendChar(ns){let rs=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},is=arguments.length>2?arguments[2]:void 0;const os=this.state;let ss;if([ns,ss]=normalizePrepare(this.doPrepare(ns,rs)),ss=ss.aggregate(this._appendCharRaw(ns,rs)),ss.inserted){let as,ls=this.doValidate(rs)!==!1;if(ls&&is!=null){const cs=this.state;this.overwrite===!0&&(as=is.state,is.unshift(this.value.length-ss.tailShift));let us=this.appendTail(is);ls=us.rawInserted===is.toString(),!(ls&&us.inserted)&&this.overwrite==="shift"&&(this.state=cs,as=is.state,is.shift(),us=this.appendTail(is),ls=us.rawInserted===is.toString()),ls&&us.inserted&&(this.state=cs)}ls||(ss=new ChangeDetails,this.state=os,is&&as&&(is.state=as))}return ss}_appendPlaceholder(){return new ChangeDetails}_appendEager(){return new ChangeDetails}append(ns,rs,is){if(!isString(ns))throw new Error("value should be string");const os=new ChangeDetails,ss=isString(is)?new ContinuousTailDetails(String(is)):is;rs!=null&&rs.tail&&(rs._beforeTailState=this.state);for(let as=0;as<ns.length;++as){const ls=this._appendChar(ns[as],rs,ss);if(!ls.rawInserted&&!this.doSkipInvalid(ns[as],rs,ss))break;os.aggregate(ls)}return(this.eager===!0||this.eager==="append")&&rs!==null&&rs!==void 0&&rs.input&&ns&&os.aggregate(this._appendEager()),ss!=null&&(os.tailShift+=this.appendTail(ss).tailShift),os}remove(){let ns=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,rs=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.value.length;return this._value=this.value.slice(0,ns)+this.value.slice(rs),new ChangeDetails}withValueRefresh(ns){if(this._refreshing||!this.isInitialized)return ns();this._refreshing=!0;const rs=this.rawInputValue,is=this.value,os=ns();return this.rawInputValue=rs,this.value&&this.value!==is&&is.indexOf(this.value)===0&&this.append(is.slice(this.value.length),{},""),delete this._refreshing,os}runIsolated(ns){if(this._isolated||!this.isInitialized)return ns(this);this._isolated=!0;const rs=this.state,is=ns(this);return this.state=rs,delete this._isolated,is}doSkipInvalid(ns){return this.skipInvalid}doPrepare(ns){let rs=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.prepare?this.prepare(ns,this,rs):ns}doValidate(ns){return(!this.validate||this.validate(this.value,this,ns))&&(!this.parent||this.parent.doValidate(ns))}doCommit(){this.commit&&this.commit(this.value,this)}doFormat(ns){return this.format?this.format(ns,this):ns}doParse(ns){return this.parse?this.parse(ns,this):ns}splice(ns,rs,is,os){let ss=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{input:!0};const as=ns+rs,ls=this.extractTail(as),cs=this.eager===!0||this.eager==="remove";let us;cs&&(os=forceDirection(os),us=this.extractInput(0,as,{raw:!0}));let ds=ns;const ps=new ChangeDetails;if(os!==DIRECTION.NONE&&(ds=this.nearestInputPos(ns,rs>1&&ns!==0&&!cs?DIRECTION.NONE:os),ps.tailShift=ds-ns),ps.aggregate(this.remove(ds)),cs&&os!==DIRECTION.NONE&&us===this.rawInputValue)if(os===DIRECTION.FORCE_LEFT){let hs;for(;us===this.rawInputValue&&(hs=this.value.length);)ps.aggregate(new ChangeDetails({tailShift:-1})).aggregate(this.remove(hs-1))}else os===DIRECTION.FORCE_RIGHT&&ls.unshift();return ps.aggregate(this.append(is,ss,ls))}maskEquals(ns){return this.mask===ns}typedValueEquals(ns){const rs=this.typedValue;return ns===rs||Masked.EMPTY_VALUES.includes(ns)&&Masked.EMPTY_VALUES.includes(rs)||this.doFormat(ns)===this.doFormat(this.typedValue)}}Masked.DEFAULTS={format:String,parse:ts=>ts,skipInvalid:!0};Masked.EMPTY_VALUES=[void 0,null,""];IMask.Masked=Masked;function maskedClass(ts){if(ts==null)throw new Error("mask property should be defined");return ts instanceof RegExp?IMask.MaskedRegExp:isString(ts)?IMask.MaskedPattern:ts instanceof Date||ts===Date?IMask.MaskedDate:ts instanceof Number||typeof ts=="number"||ts===Number?IMask.MaskedNumber:Array.isArray(ts)||ts===Array?IMask.MaskedDynamic:IMask.Masked&&ts.prototype instanceof IMask.Masked?ts:ts instanceof IMask.Masked?ts.constructor:ts instanceof Function?IMask.MaskedFunction:(console.warn("Mask not found for mask",ts),IMask.Masked)}function createMask(ts){if(IMask.Masked&&ts instanceof IMask.Masked)return ts;ts=Object.assign({},ts);const ns=ts.mask;if(IMask.Masked&&ns instanceof IMask.Masked)return ns;const rs=maskedClass(ns);if(!rs)throw new Error("Masked class is not found for provided mask, appropriate module needs to be import manually before creating mask.");return new rs(ts)}IMask.createMask=createMask;const _excluded$p=["parent","isOptional","placeholderChar","displayChar","lazy","eager"],DEFAULT_INPUT_DEFINITIONS={0:/\d/,a:/[\u0041-\u005A\u0061-\u007A\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,"*":/./};class PatternInputDefinition{constructor(ns){const{parent:rs,isOptional:is,placeholderChar:os,displayChar:ss,lazy:as,eager:ls}=ns,cs=_objectWithoutPropertiesLoose$1(ns,_excluded$p);this.masked=createMask(cs),Object.assign(this,{parent:rs,isOptional:is,placeholderChar:os,displayChar:ss,lazy:as,eager:ls})}reset(){this.isFilled=!1,this.masked.reset()}remove(){let ns=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,rs=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.value.length;return ns===0&&rs>=1?(this.isFilled=!1,this.masked.remove(ns,rs)):new ChangeDetails}get value(){return this.masked.value||(this.isFilled&&!this.isOptional?this.placeholderChar:"")}get unmaskedValue(){return this.masked.unmaskedValue}get displayValue(){return this.masked.value&&this.displayChar||this.value}get isComplete(){return!!this.masked.value||this.isOptional}_appendChar(ns){let rs=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.isFilled)return new ChangeDetails;const is=this.masked.state,os=this.masked._appendChar(ns,rs);return os.inserted&&this.doValidate(rs)===!1&&(os.inserted=os.rawInserted="",this.masked.state=is),!os.inserted&&!this.isOptional&&!this.lazy&&!rs.input&&(os.inserted=this.placeholderChar),os.skip=!os.inserted&&!this.isOptional,this.isFilled=!!os.inserted,os}append(){return this.masked.append(...arguments)}_appendPlaceholder(){const ns=new ChangeDetails;return this.isFilled||this.isOptional||(this.isFilled=!0,ns.inserted=this.placeholderChar),ns}_appendEager(){return new ChangeDetails}extractTail(){return this.masked.extractTail(...arguments)}appendTail(){return this.masked.appendTail(...arguments)}extractInput(){let ns=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,rs=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.value.length,is=arguments.length>2?arguments[2]:void 0;return this.masked.extractInput(ns,rs,is)}nearestInputPos(ns){let rs=arguments.length>1&&arguments[1]!==void 0?arguments[1]:DIRECTION.NONE;const is=0,os=this.value.length,ss=Math.min(Math.max(ns,is),os);switch(rs){case DIRECTION.LEFT:case DIRECTION.FORCE_LEFT:return this.isComplete?ss:is;case DIRECTION.RIGHT:case DIRECTION.FORCE_RIGHT:return this.isComplete?ss:os;case DIRECTION.NONE:default:return ss}}totalInputPositions(){let ns=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,rs=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.value.length;return this.value.slice(ns,rs).length}doValidate(){return this.masked.doValidate(...arguments)&&(!this.parent||this.parent.doValidate(...arguments))}doCommit(){this.masked.doCommit()}get state(){return{masked:this.masked.state,isFilled:this.isFilled}}set state(ns){this.masked.state=ns.masked,this.isFilled=ns.isFilled}}class PatternFixedDefinition{constructor(ns){Object.assign(this,ns),this._value="",this.isFixed=!0}get value(){return this._value}get unmaskedValue(){return this.isUnmasking?this.value:""}get displayValue(){return this.value}reset(){this._isRawInput=!1,this._value=""}remove(){let ns=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,rs=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._value.length;return this._value=this._value.slice(0,ns)+this._value.slice(rs),this._value||(this._isRawInput=!1),new ChangeDetails}nearestInputPos(ns){let rs=arguments.length>1&&arguments[1]!==void 0?arguments[1]:DIRECTION.NONE;const is=0,os=this._value.length;switch(rs){case DIRECTION.LEFT:case DIRECTION.FORCE_LEFT:return is;case DIRECTION.NONE:case DIRECTION.RIGHT:case DIRECTION.FORCE_RIGHT:default:return os}}totalInputPositions(){let ns=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,rs=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._value.length;return this._isRawInput?rs-ns:0}extractInput(){let ns=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,rs=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._value.length;return(arguments.length>2&&arguments[2]!==void 0?arguments[2]:{}).raw&&this._isRawInput&&this._value.slice(ns,rs)||""}get isComplete(){return!0}get isFilled(){return!!this._value}_appendChar(ns){let rs=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const is=new ChangeDetails;if(this.isFilled)return is;const os=this.eager===!0||this.eager==="append",as=this.char===ns&&(this.isUnmasking||rs.input||rs.raw)&&(!rs.raw||!os)&&!rs.tail;return as&&(is.rawInserted=this.char),this._value=is.inserted=this.char,this._isRawInput=as&&(rs.raw||rs.input),is}_appendEager(){return this._appendChar(this.char,{tail:!0})}_appendPlaceholder(){const ns=new ChangeDetails;return this.isFilled||(this._value=ns.inserted=this.char),ns}extractTail(){return arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.value.length,new ContinuousTailDetails("")}appendTail(ns){return isString(ns)&&(ns=new ContinuousTailDetails(String(ns))),ns.appendTo(this)}append(ns,rs,is){const os=this._appendChar(ns[0],rs);return is!=null&&(os.tailShift+=this.appendTail(is).tailShift),os}doCommit(){}get state(){return{_value:this._value,_isRawInput:this._isRawInput}}set state(ns){Object.assign(this,ns)}}const _excluded$o=["chunks"];class ChunksTailDetails{constructor(){let ns=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],rs=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.chunks=ns,this.from=rs}toString(){return this.chunks.map(String).join("")}extend(ns){if(!String(ns))return;isString(ns)&&(ns=new ContinuousTailDetails(String(ns)));const rs=this.chunks[this.chunks.length-1],is=rs&&(rs.stop===ns.stop||ns.stop==null)&&ns.from===rs.from+rs.toString().length;if(ns instanceof ContinuousTailDetails)is?rs.extend(ns.toString()):this.chunks.push(ns);else if(ns instanceof ChunksTailDetails){if(ns.stop==null){let os;for(;ns.chunks.length&&ns.chunks[0].stop==null;)os=ns.chunks.shift(),os.from+=ns.from,this.extend(os)}ns.toString()&&(ns.stop=ns.blockIndex,this.chunks.push(ns))}}appendTo(ns){if(!(ns instanceof IMask.MaskedPattern))return new ContinuousTailDetails(this.toString()).appendTo(ns);const rs=new ChangeDetails;for(let is=0;is<this.chunks.length&&!rs.skip;++is){const os=this.chunks[is],ss=ns._mapPosToBlock(ns.value.length),as=os.stop;let ls;if(as!=null&&(!ss||ss.index<=as)){if(os instanceof ChunksTailDetails||ns._stops.indexOf(as)>=0){const cs=ns._appendPlaceholder(as);rs.aggregate(cs)}ls=os instanceof ChunksTailDetails&&ns._blocks[as]}if(ls){const cs=ls.appendTail(os);cs.skip=!1,rs.aggregate(cs),ns._value+=cs.inserted;const us=os.toString().slice(cs.rawInserted.length);us&&rs.aggregate(ns.append(us,{tail:!0}))}else rs.aggregate(ns.append(os.toString(),{tail:!0}))}return rs}get state(){return{chunks:this.chunks.map(ns=>ns.state),from:this.from,stop:this.stop,blockIndex:this.blockIndex}}set state(ns){const{chunks:rs}=ns,is=_objectWithoutPropertiesLoose$1(ns,_excluded$o);Object.assign(this,is),this.chunks=rs.map(os=>{const ss="chunks"in os?new ChunksTailDetails:new ContinuousTailDetails;return ss.state=os,ss})}unshift(ns){if(!this.chunks.length||ns!=null&&this.from>=ns)return"";const rs=ns!=null?ns-this.from:ns;let is=0;for(;is<this.chunks.length;){const os=this.chunks[is],ss=os.unshift(rs);if(os.toString()){if(!ss)break;++is}else this.chunks.splice(is,1);if(ss)return ss}return""}shift(){if(!this.chunks.length)return"";let ns=this.chunks.length-1;for(;0<=ns;){const rs=this.chunks[ns],is=rs.shift();if(rs.toString()){if(!is)break;--ns}else this.chunks.splice(ns,1);if(is)return is}return""}}class PatternCursor{constructor(ns,rs){this.masked=ns,this._log=[];const{offset:is,index:os}=ns._mapPosToBlock(rs)||(rs<0?{index:0,offset:0}:{index:this.masked._blocks.length,offset:0});this.offset=is,this.index=os,this.ok=!1}get block(){return this.masked._blocks[this.index]}get pos(){return this.masked._blockStartPos(this.index)+this.offset}get state(){return{index:this.index,offset:this.offset,ok:this.ok}}set state(ns){Object.assign(this,ns)}pushState(){this._log.push(this.state)}popState(){const ns=this._log.pop();return this.state=ns,ns}bindBlock(){this.block||(this.index<0&&(this.index=0,this.offset=0),this.index>=this.masked._blocks.length&&(this.index=this.masked._blocks.length-1,this.offset=this.block.value.length))}_pushLeft(ns){for(this.pushState(),this.bindBlock();0<=this.index;--this.index,this.offset=((rs=this.block)===null||rs===void 0?void 0:rs.value.length)||0){var rs;if(ns())return this.ok=!0}return this.ok=!1}_pushRight(ns){for(this.pushState(),this.bindBlock();this.index<this.masked._blocks.length;++this.index,this.offset=0)if(ns())return this.ok=!0;return this.ok=!1}pushLeftBeforeFilled(){return this._pushLeft(()=>{if(!(this.block.isFixed||!this.block.value)&&(this.offset=this.block.nearestInputPos(this.offset,DIRECTION.FORCE_LEFT),this.offset!==0))return!0})}pushLeftBeforeInput(){return this._pushLeft(()=>{if(!this.block.isFixed)return this.offset=this.block.nearestInputPos(this.offset,DIRECTION.LEFT),!0})}pushLeftBeforeRequired(){return this._pushLeft(()=>{if(!(this.block.isFixed||this.block.isOptional&&!this.block.value))return this.offset=this.block.nearestInputPos(this.offset,DIRECTION.LEFT),!0})}pushRightBeforeFilled(){return this._pushRight(()=>{if(!(this.block.isFixed||!this.block.value)&&(this.offset=this.block.nearestInputPos(this.offset,DIRECTION.FORCE_RIGHT),this.offset!==this.block.value.length))return!0})}pushRightBeforeInput(){return this._pushRight(()=>{if(!this.block.isFixed)return this.offset=this.block.nearestInputPos(this.offset,DIRECTION.NONE),!0})}pushRightBeforeRequired(){return this._pushRight(()=>{if(!(this.block.isFixed||this.block.isOptional&&!this.block.value))return this.offset=this.block.nearestInputPos(this.offset,DIRECTION.NONE),!0})}}class MaskedRegExp extends Masked{_update(ns){ns.mask&&(ns.validate=rs=>rs.search(ns.mask)>=0),super._update(ns)}}IMask.MaskedRegExp=MaskedRegExp;const _excluded$n=["_blocks"];class MaskedPattern extends Masked{constructor(){let ns=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};ns.definitions=Object.assign({},DEFAULT_INPUT_DEFINITIONS,ns.definitions),super(Object.assign({},MaskedPattern.DEFAULTS,ns))}_update(){let ns=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};ns.definitions=Object.assign({},this.definitions,ns.definitions),super._update(ns),this._rebuildMask()}_rebuildMask(){const ns=this.definitions;this._blocks=[],this._stops=[],this._maskedBlocks={};let rs=this.mask;if(!rs||!ns)return;let is=!1,os=!1;for(let ls=0;ls<rs.length;++ls){var ss,as;if(this.blocks){const hs=rs.slice(ls),ms=Object.keys(this.blocks).filter(ys=>hs.indexOf(ys)===0);ms.sort((ys,vs)=>vs.length-ys.length);const gs=ms[0];if(gs){const ys=createMask(Object.assign({parent:this,lazy:this.lazy,eager:this.eager,placeholderChar:this.placeholderChar,displayChar:this.displayChar,overwrite:this.overwrite},this.blocks[gs]));ys&&(this._blocks.push(ys),this._maskedBlocks[gs]||(this._maskedBlocks[gs]=[]),this._maskedBlocks[gs].push(this._blocks.length-1)),ls+=gs.length-1;continue}}let cs=rs[ls],us=cs in ns;if(cs===MaskedPattern.STOP_CHAR){this._stops.push(this._blocks.length);continue}if(cs==="{"||cs==="}"){is=!is;continue}if(cs==="["||cs==="]"){os=!os;continue}if(cs===MaskedPattern.ESCAPE_CHAR){if(++ls,cs=rs[ls],!cs)break;us=!1}const ds=(ss=ns[cs])!==null&&ss!==void 0&&ss.mask&&!(((as=ns[cs])===null||as===void 0?void 0:as.mask.prototype)instanceof IMask.Masked)?ns[cs]:{mask:ns[cs]},ps=us?new PatternInputDefinition(Object.assign({parent:this,isOptional:os,lazy:this.lazy,eager:this.eager,placeholderChar:this.placeholderChar,displayChar:this.displayChar},ds)):new PatternFixedDefinition({char:cs,eager:this.eager,isUnmasking:is});this._blocks.push(ps)}}get state(){return Object.assign({},super.state,{_blocks:this._blocks.map(ns=>ns.state)})}set state(ns){const{_blocks:rs}=ns,is=_objectWithoutPropertiesLoose$1(ns,_excluded$n);this._blocks.forEach((os,ss)=>os.state=rs[ss]),super.state=is}reset(){super.reset(),this._blocks.forEach(ns=>ns.reset())}get isComplete(){return this._blocks.every(ns=>ns.isComplete)}get isFilled(){return this._blocks.every(ns=>ns.isFilled)}get isFixed(){return this._blocks.every(ns=>ns.isFixed)}get isOptional(){return this._blocks.every(ns=>ns.isOptional)}doCommit(){this._blocks.forEach(ns=>ns.doCommit()),super.doCommit()}get unmaskedValue(){return this._blocks.reduce((ns,rs)=>ns+=rs.unmaskedValue,"")}set unmaskedValue(ns){super.unmaskedValue=ns}get value(){return this._blocks.reduce((ns,rs)=>ns+=rs.value,"")}set value(ns){super.value=ns}get displayValue(){return this._blocks.reduce((ns,rs)=>ns+=rs.displayValue,"")}appendTail(ns){return super.appendTail(ns).aggregate(this._appendPlaceholder())}_appendEager(){var ns;const rs=new ChangeDetails;let is=(ns=this._mapPosToBlock(this.value.length))===null||ns===void 0?void 0:ns.index;if(is==null)return rs;this._blocks[is].isFilled&&++is;for(let os=is;os<this._blocks.length;++os){const ss=this._blocks[os]._appendEager();if(!ss.inserted)break;rs.aggregate(ss)}return rs}_appendCharRaw(ns){let rs=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const is=this._mapPosToBlock(this.value.length),os=new ChangeDetails;if(!is)return os;for(let ls=is.index;;++ls){var ss,as;const cs=this._blocks[ls];if(!cs)break;const us=cs._appendChar(ns,Object.assign({},rs,{_beforeTailState:(ss=rs._beforeTailState)===null||ss===void 0||(as=ss._blocks)===null||as===void 0?void 0:as[ls]})),ds=us.skip;if(os.aggregate(us),ds||us.rawInserted)break}return os}extractTail(){let ns=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,rs=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.value.length;const is=new ChunksTailDetails;return ns===rs||this._forEachBlocksInRange(ns,rs,(os,ss,as,ls)=>{const cs=os.extractTail(as,ls);cs.stop=this._findStopBefore(ss),cs.from=this._blockStartPos(ss),cs instanceof ChunksTailDetails&&(cs.blockIndex=ss),is.extend(cs)}),is}extractInput(){let ns=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,rs=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.value.length,is=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(ns===rs)return"";let os="";return this._forEachBlocksInRange(ns,rs,(ss,as,ls,cs)=>{os+=ss.extractInput(ls,cs,is)}),os}_findStopBefore(ns){let rs;for(let is=0;is<this._stops.length;++is){const os=this._stops[is];if(os<=ns)rs=os;else break}return rs}_appendPlaceholder(ns){const rs=new ChangeDetails;if(this.lazy&&ns==null)return rs;const is=this._mapPosToBlock(this.value.length);if(!is)return rs;const os=is.index,ss=ns!=null?ns:this._blocks.length;return this._blocks.slice(os,ss).forEach(as=>{if(!as.lazy||ns!=null){const ls=as._blocks!=null?[as._blocks.length]:[],cs=as._appendPlaceholder(...ls);this._value+=cs.inserted,rs.aggregate(cs)}}),rs}_mapPosToBlock(ns){let rs="";for(let is=0;is<this._blocks.length;++is){const os=this._blocks[is],ss=rs.length;if(rs+=os.value,ns<=rs.length)return{index:is,offset:ns-ss}}}_blockStartPos(ns){return this._blocks.slice(0,ns).reduce((rs,is)=>rs+=is.value.length,0)}_forEachBlocksInRange(ns){let rs=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.value.length,is=arguments.length>2?arguments[2]:void 0;const os=this._mapPosToBlock(ns);if(os){const ss=this._mapPosToBlock(rs),as=ss&&os.index===ss.index,ls=os.offset,cs=ss&&as?ss.offset:this._blocks[os.index].value.length;if(is(this._blocks[os.index],os.index,ls,cs),ss&&!as){for(let us=os.index+1;us<ss.index;++us)is(this._blocks[us],us,0,this._blocks[us].value.length);is(this._blocks[ss.index],ss.index,0,ss.offset)}}}remove(){let ns=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,rs=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.value.length;const is=super.remove(ns,rs);return this._forEachBlocksInRange(ns,rs,(os,ss,as,ls)=>{is.aggregate(os.remove(as,ls))}),is}nearestInputPos(ns){let rs=arguments.length>1&&arguments[1]!==void 0?arguments[1]:DIRECTION.NONE;if(!this._blocks.length)return 0;const is=new PatternCursor(this,ns);if(rs===DIRECTION.NONE)return is.pushRightBeforeInput()||(is.popState(),is.pushLeftBeforeInput())?is.pos:this.value.length;if(rs===DIRECTION.LEFT||rs===DIRECTION.FORCE_LEFT){if(rs===DIRECTION.LEFT){if(is.pushRightBeforeFilled(),is.ok&&is.pos===ns)return ns;is.popState()}if(is.pushLeftBeforeInput(),is.pushLeftBeforeRequired(),is.pushLeftBeforeFilled(),rs===DIRECTION.LEFT){if(is.pushRightBeforeInput(),is.pushRightBeforeRequired(),is.ok&&is.pos<=ns||(is.popState(),is.ok&&is.pos<=ns))return is.pos;is.popState()}return is.ok?is.pos:rs===DIRECTION.FORCE_LEFT?0:(is.popState(),is.ok||(is.popState(),is.ok)?is.pos:0)}return rs===DIRECTION.RIGHT||rs===DIRECTION.FORCE_RIGHT?(is.pushRightBeforeInput(),is.pushRightBeforeRequired(),is.pushRightBeforeFilled()?is.pos:rs===DIRECTION.FORCE_RIGHT?this.value.length:(is.popState(),is.ok||(is.popState(),is.ok)?is.pos:this.nearestInputPos(ns,DIRECTION.LEFT))):ns}totalInputPositions(){let ns=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,rs=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.value.length,is=0;return this._forEachBlocksInRange(ns,rs,(os,ss,as,ls)=>{is+=os.totalInputPositions(as,ls)}),is}maskedBlock(ns){return this.maskedBlocks(ns)[0]}maskedBlocks(ns){const rs=this._maskedBlocks[ns];return rs?rs.map(is=>this._blocks[is]):[]}}MaskedPattern.DEFAULTS={lazy:!0,placeholderChar:"_"};MaskedPattern.STOP_CHAR="`";MaskedPattern.ESCAPE_CHAR="\\";MaskedPattern.InputDefinition=PatternInputDefinition;MaskedPattern.FixedDefinition=PatternFixedDefinition;IMask.MaskedPattern=MaskedPattern;class MaskedRange extends MaskedPattern{get _matchFrom(){return this.maxLength-String(this.from).length}_update(ns){ns=Object.assign({to:this.to||0,from:this.from||0,maxLength:this.maxLength||0},ns);let rs=String(ns.to).length;ns.maxLength!=null&&(rs=Math.max(rs,ns.maxLength)),ns.maxLength=rs;const is=String(ns.from).padStart(rs,"0"),os=String(ns.to).padStart(rs,"0");let ss=0;for(;ss<os.length&&os[ss]===is[ss];)++ss;ns.mask=os.slice(0,ss).replace(/0/g,"\\0")+"0".repeat(rs-ss),super._update(ns)}get isComplete(){return super.isComplete&&!!this.value}boundaries(ns){let rs="",is="";const[,os,ss]=ns.match(/^(\D*)(\d*)(\D*)/)||[];return ss&&(rs="0".repeat(os.length)+ss,is="9".repeat(os.length)+ss),rs=rs.padEnd(this.maxLength,"0"),is=is.padEnd(this.maxLength,"9"),[rs,is]}doPrepare(ns){let rs=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},is;if([ns,is]=normalizePrepare(super.doPrepare(ns.replace(/\D/g,""),rs)),!this.autofix||!ns)return ns;const os=String(this.from).padStart(this.maxLength,"0"),ss=String(this.to).padStart(this.maxLength,"0");let as=this.value+ns;if(as.length>this.maxLength)return"";const[ls,cs]=this.boundaries(as);return Number(cs)<this.from?os[as.length-1]:Number(ls)>this.to?this.autofix==="pad"&&as.length<this.maxLength?["",is.aggregate(this.append(os[as.length-1]+ns,rs))]:ss[as.length-1]:ns}doValidate(){const ns=this.value;if(ns.search(/[^0]/)===-1&&ns.length<=this._matchFrom)return!0;const[is,os]=this.boundaries(ns);return this.from<=Number(os)&&Number(is)<=this.to&&super.doValidate(...arguments)}}IMask.MaskedRange=MaskedRange;class MaskedDate extends MaskedPattern{constructor(ns){super(Object.assign({},MaskedDate.DEFAULTS,ns))}_update(ns){ns.mask===Date&&delete ns.mask,ns.pattern&&(ns.mask=ns.pattern);const rs=ns.blocks;ns.blocks=Object.assign({},MaskedDate.GET_DEFAULT_BLOCKS()),ns.min&&(ns.blocks.Y.from=ns.min.getFullYear()),ns.max&&(ns.blocks.Y.to=ns.max.getFullYear()),ns.min&&ns.max&&ns.blocks.Y.from===ns.blocks.Y.to&&(ns.blocks.m.from=ns.min.getMonth()+1,ns.blocks.m.to=ns.max.getMonth()+1,ns.blocks.m.from===ns.blocks.m.to&&(ns.blocks.d.from=ns.min.getDate(),ns.blocks.d.to=ns.max.getDate())),Object.assign(ns.blocks,this.blocks,rs),Object.keys(ns.blocks).forEach(is=>{const os=ns.blocks[is];!("autofix"in os)&&"autofix"in ns&&(os.autofix=ns.autofix)}),super._update(ns)}doValidate(){const ns=this.date;return super.doValidate(...arguments)&&(!this.isComplete||this.isDateExist(this.value)&&ns!=null&&(this.min==null||this.min<=ns)&&(this.max==null||ns<=this.max))}isDateExist(ns){return this.format(this.parse(ns,this),this).indexOf(ns)>=0}get date(){return this.typedValue}set date(ns){this.typedValue=ns}get typedValue(){return this.isComplete?super.typedValue:null}set typedValue(ns){super.typedValue=ns}maskEquals(ns){return ns===Date||super.maskEquals(ns)}}MaskedDate.DEFAULTS={pattern:"d{.}`m{.}`Y",format:ts=>{if(!ts)return"";const ns=String(ts.getDate()).padStart(2,"0"),rs=String(ts.getMonth()+1).padStart(2,"0"),is=ts.getFullYear();return[ns,rs,is].join(".")},parse:ts=>{const[ns,rs,is]=ts.split(".");return new Date(is,rs-1,ns)}};MaskedDate.GET_DEFAULT_BLOCKS=()=>({d:{mask:MaskedRange,from:1,to:31,maxLength:2},m:{mask:MaskedRange,from:1,to:12,maxLength:2},Y:{mask:MaskedRange,from:1900,to:9999}});IMask.MaskedDate=MaskedDate;class MaskElement{get selectionStart(){let ns;try{ns=this._unsafeSelectionStart}catch{}return ns!=null?ns:this.value.length}get selectionEnd(){let ns;try{ns=this._unsafeSelectionEnd}catch{}return ns!=null?ns:this.value.length}select(ns,rs){if(!(ns==null||rs==null||ns===this.selectionStart&&rs===this.selectionEnd))try{this._unsafeSelect(ns,rs)}catch{}}_unsafeSelect(ns,rs){}get isActive(){return!1}bindEvents(ns){}unbindEvents(){}}IMask.MaskElement=MaskElement;class HTMLMaskElement extends MaskElement{constructor(ns){super(),this.input=ns,this._handlers={}}get rootElement(){var ns,rs,is;return(ns=(rs=(is=this.input).getRootNode)===null||rs===void 0?void 0:rs.call(is))!==null&&ns!==void 0?ns:document}get isActive(){return this.input===this.rootElement.activeElement}get _unsafeSelectionStart(){return this.input.selectionStart}get _unsafeSelectionEnd(){return this.input.selectionEnd}_unsafeSelect(ns,rs){this.input.setSelectionRange(ns,rs)}get value(){return this.input.value}set value(ns){this.input.value=ns}bindEvents(ns){Object.keys(ns).forEach(rs=>this._toggleEventHandler(HTMLMaskElement.EVENTS_MAP[rs],ns[rs]))}unbindEvents(){Object.keys(this._handlers).forEach(ns=>this._toggleEventHandler(ns))}_toggleEventHandler(ns,rs){this._handlers[ns]&&(this.input.removeEventListener(ns,this._handlers[ns]),delete this._handlers[ns]),rs&&(this.input.addEventListener(ns,rs),this._handlers[ns]=rs)}}HTMLMaskElement.EVENTS_MAP={selectionChange:"keydown",input:"input",drop:"drop",click:"click",focus:"focus",commit:"blur"};IMask.HTMLMaskElement=HTMLMaskElement;class HTMLContenteditableMaskElement extends HTMLMaskElement{get _unsafeSelectionStart(){const ns=this.rootElement,rs=ns.getSelection&&ns.getSelection(),is=rs&&rs.anchorOffset,os=rs&&rs.focusOffset;return os==null||is==null||is<os?is:os}get _unsafeSelectionEnd(){const ns=this.rootElement,rs=ns.getSelection&&ns.getSelection(),is=rs&&rs.anchorOffset,os=rs&&rs.focusOffset;return os==null||is==null||is>os?is:os}_unsafeSelect(ns,rs){if(!this.rootElement.createRange)return;const is=this.rootElement.createRange();is.setStart(this.input.firstChild||this.input,ns),is.setEnd(this.input.lastChild||this.input,rs);const os=this.rootElement,ss=os.getSelection&&os.getSelection();ss&&(ss.removeAllRanges(),ss.addRange(is))}get value(){return this.input.textContent}set value(ns){this.input.textContent=ns}}IMask.HTMLContenteditableMaskElement=HTMLContenteditableMaskElement;const _excluded$m=["mask"];let InputMask$1=class{constructor(ns,rs){this.el=ns instanceof MaskElement?ns:ns.isContentEditable&&ns.tagName!=="INPUT"&&ns.tagName!=="TEXTAREA"?new HTMLContenteditableMaskElement(ns):new HTMLMaskElement(ns),this.masked=createMask(rs),this._listeners={},this._value="",this._unmaskedValue="",this._saveSelection=this._saveSelection.bind(this),this._onInput=this._onInput.bind(this),this._onChange=this._onChange.bind(this),this._onDrop=this._onDrop.bind(this),this._onFocus=this._onFocus.bind(this),this._onClick=this._onClick.bind(this),this.alignCursor=this.alignCursor.bind(this),this.alignCursorFriendly=this.alignCursorFriendly.bind(this),this._bindEvents(),this.updateValue(),this._onChange()}get mask(){return this.masked.mask}maskEquals(ns){var rs;return ns==null||((rs=this.masked)===null||rs===void 0?void 0:rs.maskEquals(ns))}set mask(ns){if(this.maskEquals(ns))return;if(!(ns instanceof IMask.Masked)&&this.masked.constructor===maskedClass(ns)){this.masked.updateOptions({mask:ns});return}const rs=createMask({mask:ns});rs.unmaskedValue=this.masked.unmaskedValue,this.masked=rs}get value(){return this._value}set value(ns){this.value!==ns&&(this.masked.value=ns,this.updateControl(),this.alignCursor())}get unmaskedValue(){return this._unmaskedValue}set unmaskedValue(ns){this.unmaskedValue!==ns&&(this.masked.unmaskedValue=ns,this.updateControl(),this.alignCursor())}get typedValue(){return this.masked.typedValue}set typedValue(ns){this.masked.typedValueEquals(ns)||(this.masked.typedValue=ns,this.updateControl(),this.alignCursor())}get displayValue(){return this.masked.displayValue}_bindEvents(){this.el.bindEvents({selectionChange:this._saveSelection,input:this._onInput,drop:this._onDrop,click:this._onClick,focus:this._onFocus,commit:this._onChange})}_unbindEvents(){this.el&&this.el.unbindEvents()}_fireEvent(ns){for(var rs=arguments.length,is=new Array(rs>1?rs-1:0),os=1;os<rs;os++)is[os-1]=arguments[os];const ss=this._listeners[ns];ss&&ss.forEach(as=>as(...is))}get selectionStart(){return this._cursorChanging?this._changingCursorPos:this.el.selectionStart}get cursorPos(){return this._cursorChanging?this._changingCursorPos:this.el.selectionEnd}set cursorPos(ns){!this.el||!this.el.isActive||(this.el.select(ns,ns),this._saveSelection())}_saveSelection(){this.displayValue!==this.el.value&&console.warn("Element value was changed outside of mask. Syncronize mask using `mask.updateValue()` to work properly."),this._selection={start:this.selectionStart,end:this.cursorPos}}updateValue(){this.masked.value=this.el.value,this._value=this.masked.value}updateControl(){const ns=this.masked.unmaskedValue,rs=this.masked.value,is=this.displayValue,os=this.unmaskedValue!==ns||this.value!==rs;this._unmaskedValue=ns,this._value=rs,this.el.value!==is&&(this.el.value=is),os&&this._fireChangeEvents()}updateOptions(ns){const{mask:rs}=ns,is=_objectWithoutPropertiesLoose$1(ns,_excluded$m),os=!this.maskEquals(rs),ss=!objectIncludes(this.masked,is);os&&(this.mask=rs),ss&&this.masked.updateOptions(is),(os||ss)&&this.updateControl()}updateCursor(ns){ns!=null&&(this.cursorPos=ns,this._delayUpdateCursor(ns))}_delayUpdateCursor(ns){this._abortUpdateCursor(),this._changingCursorPos=ns,this._cursorChanging=setTimeout(()=>{this.el&&(this.cursorPos=this._changingCursorPos,this._abortUpdateCursor())},10)}_fireChangeEvents(){this._fireEvent("accept",this._inputEvent),this.masked.isComplete&&this._fireEvent("complete",this._inputEvent)}_abortUpdateCursor(){this._cursorChanging&&(clearTimeout(this._cursorChanging),delete this._cursorChanging)}alignCursor(){this.cursorPos=this.masked.nearestInputPos(this.masked.nearestInputPos(this.cursorPos,DIRECTION.LEFT))}alignCursorFriendly(){this.selectionStart===this.cursorPos&&this.alignCursor()}on(ns,rs){return this._listeners[ns]||(this._listeners[ns]=[]),this._listeners[ns].push(rs),this}off(ns,rs){if(!this._listeners[ns])return this;if(!rs)return delete this._listeners[ns],this;const is=this._listeners[ns].indexOf(rs);return is>=0&&this._listeners[ns].splice(is,1),this}_onInput(ns){if(this._inputEvent=ns,this._abortUpdateCursor(),!this._selection)return this.updateValue();const rs=new ActionDetails(this.el.value,this.cursorPos,this.displayValue,this._selection),is=this.masked.rawInputValue,os=this.masked.splice(rs.startChangePos,rs.removed.length,rs.inserted,rs.removeDirection,{input:!0,raw:!0}).offset,ss=is===this.masked.rawInputValue?rs.removeDirection:DIRECTION.NONE;let as=this.masked.nearestInputPos(rs.startChangePos+os,ss);ss!==DIRECTION.NONE&&(as=this.masked.nearestInputPos(as,DIRECTION.NONE)),this.updateControl(),this.updateCursor(as),delete this._inputEvent}_onChange(){this.displayValue!==this.el.value&&this.updateValue(),this.masked.doCommit(),this.updateControl(),this._saveSelection()}_onDrop(ns){ns.preventDefault(),ns.stopPropagation()}_onFocus(ns){this.alignCursorFriendly()}_onClick(ns){this.alignCursorFriendly()}destroy(){this._unbindEvents(),this._listeners.length=0,delete this.el}};IMask.InputMask=InputMask$1;class MaskedEnum extends MaskedPattern{_update(ns){ns.enum&&(ns.mask="*".repeat(ns.enum[0].length)),super._update(ns)}doValidate(){return this.enum.some(ns=>ns.indexOf(this.unmaskedValue)>=0)&&super.doValidate(...arguments)}}IMask.MaskedEnum=MaskedEnum;class MaskedNumber extends Masked{constructor(ns){super(Object.assign({},MaskedNumber.DEFAULTS,ns))}_update(ns){super._update(ns),this._updateRegExps()}_updateRegExps(){let ns="^"+(this.allowNegative?"[+|\\-]?":""),rs="\\d*",is=(this.scale?"(".concat(escapeRegExp(this.radix),"\\d{0,").concat(this.scale,"})?"):"")+"$";this._numberRegExp=new RegExp(ns+rs+is),this._mapToRadixRegExp=new RegExp("[".concat(this.mapToRadix.map(escapeRegExp).join(""),"]"),"g"),this._thousandsSeparatorRegExp=new RegExp(escapeRegExp(this.thousandsSeparator),"g")}_removeThousandsSeparators(ns){return ns.replace(this._thousandsSeparatorRegExp,"")}_insertThousandsSeparators(ns){const rs=ns.split(this.radix);return rs[0]=rs[0].replace(/\B(?=(\d{3})+(?!\d))/g,this.thousandsSeparator),rs.join(this.radix)}doPrepare(ns){let rs=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};ns=this._removeThousandsSeparators(this.scale&&this.mapToRadix.length&&(rs.input&&rs.raw||!rs.input&&!rs.raw)?ns.replace(this._mapToRadixRegExp,this.radix):ns);const[is,os]=normalizePrepare(super.doPrepare(ns,rs));return ns&&!is&&(os.skip=!0),[is,os]}_separatorsCount(ns){let rs=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,is=0;for(let os=0;os<ns;++os)this._value.indexOf(this.thousandsSeparator,os)===os&&(++is,rs&&(ns+=this.thousandsSeparator.length));return is}_separatorsCountFromSlice(){let ns=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._value;return this._separatorsCount(this._removeThousandsSeparators(ns).length,!0)}extractInput(){let ns=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,rs=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.value.length,is=arguments.length>2?arguments[2]:void 0;return[ns,rs]=this._adjustRangeWithSeparators(ns,rs),this._removeThousandsSeparators(super.extractInput(ns,rs,is))}_appendCharRaw(ns){let rs=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.thousandsSeparator)return super._appendCharRaw(ns,rs);const is=rs.tail&&rs._beforeTailState?rs._beforeTailState._value:this._value,os=this._separatorsCountFromSlice(is);this._value=this._removeThousandsSeparators(this.value);const ss=super._appendCharRaw(ns,rs);this._value=this._insertThousandsSeparators(this._value);const as=rs.tail&&rs._beforeTailState?rs._beforeTailState._value:this._value,ls=this._separatorsCountFromSlice(as);return ss.tailShift+=(ls-os)*this.thousandsSeparator.length,ss.skip=!ss.rawInserted&&ns===this.thousandsSeparator,ss}_findSeparatorAround(ns){if(this.thousandsSeparator){const rs=ns-this.thousandsSeparator.length+1,is=this.value.indexOf(this.thousandsSeparator,rs);if(is<=ns)return is}return-1}_adjustRangeWithSeparators(ns,rs){const is=this._findSeparatorAround(ns);is>=0&&(ns=is);const os=this._findSeparatorAround(rs);return os>=0&&(rs=os+this.thousandsSeparator.length),[ns,rs]}remove(){let ns=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,rs=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.value.length;[ns,rs]=this._adjustRangeWithSeparators(ns,rs);const is=this.value.slice(0,ns),os=this.value.slice(rs),ss=this._separatorsCount(is.length);this._value=this._insertThousandsSeparators(this._removeThousandsSeparators(is+os));const as=this._separatorsCountFromSlice(is);return new ChangeDetails({tailShift:(as-ss)*this.thousandsSeparator.length})}nearestInputPos(ns,rs){if(!this.thousandsSeparator)return ns;switch(rs){case DIRECTION.NONE:case DIRECTION.LEFT:case DIRECTION.FORCE_LEFT:{const is=this._findSeparatorAround(ns-1);if(is>=0){const os=is+this.thousandsSeparator.length;if(ns<os||this.value.length<=os||rs===DIRECTION.FORCE_LEFT)return is}break}case DIRECTION.RIGHT:case DIRECTION.FORCE_RIGHT:{const is=this._findSeparatorAround(ns);if(is>=0)return is+this.thousandsSeparator.length}}return ns}doValidate(ns){let rs=!!this._removeThousandsSeparators(this.value).match(this._numberRegExp);if(rs){const is=this.number;rs=rs&&!isNaN(is)&&(this.min==null||this.min>=0||this.min<=this.number)&&(this.max==null||this.max<=0||this.number<=this.max)}return rs&&super.doValidate(ns)}doCommit(){if(this.value){const ns=this.number;let rs=ns;this.min!=null&&(rs=Math.max(rs,this.min)),this.max!=null&&(rs=Math.min(rs,this.max)),rs!==ns&&(this.unmaskedValue=this.doFormat(rs));let is=this.value;this.normalizeZeros&&(is=this._normalizeZeros(is)),this.padFractionalZeros&&this.scale>0&&(is=this._padFractionalZeros(is)),this._value=is}super.doCommit()}_normalizeZeros(ns){const rs=this._removeThousandsSeparators(ns).split(this.radix);return rs[0]=rs[0].replace(/^(\D*)(0*)(\d*)/,(is,os,ss,as)=>os+as),ns.length&&!/\d$/.test(rs[0])&&(rs[0]=rs[0]+"0"),rs.length>1&&(rs[1]=rs[1].replace(/0*$/,""),rs[1].length||(rs.length=1)),this._insertThousandsSeparators(rs.join(this.radix))}_padFractionalZeros(ns){if(!ns)return ns;const rs=ns.split(this.radix);return rs.length<2&&rs.push(""),rs[1]=rs[1].padEnd(this.scale,"0"),rs.join(this.radix)}doSkipInvalid(ns){let rs=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},is=arguments.length>2?arguments[2]:void 0;const os=this.scale===0&&ns!==this.thousandsSeparator&&(ns===this.radix||ns===MaskedNumber.UNMASKED_RADIX||this.mapToRadix.includes(ns));return super.doSkipInvalid(ns,rs,is)&&!os}get unmaskedValue(){return this._removeThousandsSeparators(this._normalizeZeros(this.value)).replace(this.radix,MaskedNumber.UNMASKED_RADIX)}set unmaskedValue(ns){super.unmaskedValue=ns}get typedValue(){return this.doParse(this.unmaskedValue)}set typedValue(ns){this.rawInputValue=this.doFormat(ns).replace(MaskedNumber.UNMASKED_RADIX,this.radix)}get number(){return this.typedValue}set number(ns){this.typedValue=ns}get allowNegative(){return this.signed||this.min!=null&&this.min<0||this.max!=null&&this.max<0}typedValueEquals(ns){return(super.typedValueEquals(ns)||MaskedNumber.EMPTY_VALUES.includes(ns)&&MaskedNumber.EMPTY_VALUES.includes(this.typedValue))&&!(ns===0&&this.value==="")}}MaskedNumber.UNMASKED_RADIX=".";MaskedNumber.DEFAULTS={radix:",",thousandsSeparator:"",mapToRadix:[MaskedNumber.UNMASKED_RADIX],scale:2,signed:!1,normalizeZeros:!0,padFractionalZeros:!1,parse:Number,format:ts=>ts.toLocaleString("en-US",{useGrouping:!1,maximumFractionDigits:20})};MaskedNumber.EMPTY_VALUES=[...Masked.EMPTY_VALUES,0];IMask.MaskedNumber=MaskedNumber;class MaskedFunction extends Masked{_update(ns){ns.mask&&(ns.validate=ns.mask),super._update(ns)}}IMask.MaskedFunction=MaskedFunction;const _excluded$l=["compiledMasks","currentMaskRef","currentMask"],_excluded2$4=["mask"];class MaskedDynamic extends Masked{constructor(ns){super(Object.assign({},MaskedDynamic.DEFAULTS,ns)),this.currentMask=null}_update(ns){super._update(ns),"mask"in ns&&(this.compiledMasks=Array.isArray(ns.mask)?ns.mask.map(rs=>createMask(rs)):[])}_appendCharRaw(ns){let rs=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const is=this._applyDispatch(ns,rs);return this.currentMask&&is.aggregate(this.currentMask._appendChar(ns,this.currentMaskFlags(rs))),is}_applyDispatch(){let ns=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",rs=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},is=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";const os=rs.tail&&rs._beforeTailState!=null?rs._beforeTailState._value:this.value,ss=this.rawInputValue,as=rs.tail&&rs._beforeTailState!=null?rs._beforeTailState._rawInputValue:ss,ls=ss.slice(as.length),cs=this.currentMask,us=new ChangeDetails,ds=cs==null?void 0:cs.state;if(this.currentMask=this.doDispatch(ns,Object.assign({},rs),is),this.currentMask)if(this.currentMask!==cs){if(this.currentMask.reset(),as){const ps=this.currentMask.append(as,{raw:!0});us.tailShift=ps.inserted.length-os.length}ls&&(us.tailShift+=this.currentMask.append(ls,{raw:!0,tail:!0}).tailShift)}else this.currentMask.state=ds;return us}_appendPlaceholder(){const ns=this._applyDispatch(...arguments);return this.currentMask&&ns.aggregate(this.currentMask._appendPlaceholder()),ns}_appendEager(){const ns=this._applyDispatch(...arguments);return this.currentMask&&ns.aggregate(this.currentMask._appendEager()),ns}appendTail(ns){const rs=new ChangeDetails;return ns&&rs.aggregate(this._applyDispatch("",{},ns)),rs.aggregate(this.currentMask?this.currentMask.appendTail(ns):super.appendTail(ns))}currentMaskFlags(ns){var rs,is;return Object.assign({},ns,{_beforeTailState:((rs=ns._beforeTailState)===null||rs===void 0?void 0:rs.currentMaskRef)===this.currentMask&&((is=ns._beforeTailState)===null||is===void 0?void 0:is.currentMask)||ns._beforeTailState})}doDispatch(ns){let rs=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},is=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";return this.dispatch(ns,this,rs,is)}doValidate(ns){return super.doValidate(ns)&&(!this.currentMask||this.currentMask.doValidate(this.currentMaskFlags(ns)))}doPrepare(ns){let rs=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},[is,os]=normalizePrepare(super.doPrepare(ns,rs));if(this.currentMask){let ss;[is,ss]=normalizePrepare(super.doPrepare(is,this.currentMaskFlags(rs))),os=os.aggregate(ss)}return[is,os]}reset(){var ns;(ns=this.currentMask)===null||ns===void 0||ns.reset(),this.compiledMasks.forEach(rs=>rs.reset())}get value(){return this.currentMask?this.currentMask.value:""}set value(ns){super.value=ns}get unmaskedValue(){return this.currentMask?this.currentMask.unmaskedValue:""}set unmaskedValue(ns){super.unmaskedValue=ns}get typedValue(){return this.currentMask?this.currentMask.typedValue:""}set typedValue(ns){let rs=String(ns);this.currentMask&&(this.currentMask.typedValue=ns,rs=this.currentMask.unmaskedValue),this.unmaskedValue=rs}get displayValue(){return this.currentMask?this.currentMask.displayValue:""}get isComplete(){var ns;return!!(!((ns=this.currentMask)===null||ns===void 0)&&ns.isComplete)}get isFilled(){var ns;return!!(!((ns=this.currentMask)===null||ns===void 0)&&ns.isFilled)}remove(){const ns=new ChangeDetails;return this.currentMask&&ns.aggregate(this.currentMask.remove(...arguments)).aggregate(this._applyDispatch()),ns}get state(){var ns;return Object.assign({},super.state,{_rawInputValue:this.rawInputValue,compiledMasks:this.compiledMasks.map(rs=>rs.state),currentMaskRef:this.currentMask,currentMask:(ns=this.currentMask)===null||ns===void 0?void 0:ns.state})}set state(ns){const{compiledMasks:rs,currentMaskRef:is,currentMask:os}=ns,ss=_objectWithoutPropertiesLoose$1(ns,_excluded$l);this.compiledMasks.forEach((as,ls)=>as.state=rs[ls]),is!=null&&(this.currentMask=is,this.currentMask.state=os),super.state=ss}extractInput(){return this.currentMask?this.currentMask.extractInput(...arguments):""}extractTail(){return this.currentMask?this.currentMask.extractTail(...arguments):super.extractTail(...arguments)}doCommit(){this.currentMask&&this.currentMask.doCommit(),super.doCommit()}nearestInputPos(){return this.currentMask?this.currentMask.nearestInputPos(...arguments):super.nearestInputPos(...arguments)}get overwrite(){return this.currentMask?this.currentMask.overwrite:super.overwrite}set overwrite(ns){console.warn('"overwrite" option is not available in dynamic mask, use this option in siblings')}get eager(){return this.currentMask?this.currentMask.eager:super.eager}set eager(ns){console.warn('"eager" option is not available in dynamic mask, use this option in siblings')}get skipInvalid(){return this.currentMask?this.currentMask.skipInvalid:super.skipInvalid}set skipInvalid(ns){(this.isInitialized||ns!==Masked.DEFAULTS.skipInvalid)&&console.warn('"skipInvalid" option is not available in dynamic mask, use this option in siblings')}maskEquals(ns){return Array.isArray(ns)&&this.compiledMasks.every((rs,is)=>{if(!ns[is])return;const os=ns[is],{mask:ss}=os,as=_objectWithoutPropertiesLoose$1(os,_excluded2$4);return objectIncludes(rs,as)&&rs.maskEquals(ss)})}typedValueEquals(ns){var rs;return!!(!((rs=this.currentMask)===null||rs===void 0)&&rs.typedValueEquals(ns))}}MaskedDynamic.DEFAULTS={dispatch:(ts,ns,rs,is)=>{if(!ns.compiledMasks.length)return;const os=ns.rawInputValue,ss=ns.compiledMasks.map((as,ls)=>{const cs=ns.currentMask===as,us=cs?as.value.length:as.nearestInputPos(as.value.length,DIRECTION.FORCE_LEFT);return as.rawInputValue!==os?(as.reset(),as.append(os,{raw:!0})):cs||as.remove(us),as.append(ts,ns.currentMaskFlags(rs)),as.appendTail(is),{index:ls,weight:as.rawInputValue.length,totalInputPositions:as.totalInputPositions(0,Math.max(us,as.nearestInputPos(as.value.length,DIRECTION.FORCE_LEFT)))}});return ss.sort((as,ls)=>ls.weight-as.weight||ls.totalInputPositions-as.totalInputPositions),ns.compiledMasks[ss[0].index]}};IMask.MaskedDynamic=MaskedDynamic;const PIPE_TYPE={MASKED:"value",UNMASKED:"unmaskedValue",TYPED:"typedValue"};function createPipe(ts){let ns=arguments.length>1&&arguments[1]!==void 0?arguments[1]:PIPE_TYPE.MASKED,rs=arguments.length>2&&arguments[2]!==void 0?arguments[2]:PIPE_TYPE.MASKED;const is=createMask(ts);return os=>is.runIsolated(ss=>(ss[ns]=os,ss[rs]))}function pipe(ts){for(var ns=arguments.length,rs=new Array(ns>1?ns-1:0),is=1;is<ns;is++)rs[is-1]=arguments[is];return createPipe(...rs)(ts)}IMask.PIPE_TYPE=PIPE_TYPE;IMask.createPipe=createPipe;IMask.pipe=pipe;try{globalThis.IMask=IMask}catch{}function _objectDestructuringEmpty(ts){if(ts==null)throw new TypeError("Cannot destructure "+ts)}function _objectWithoutPropertiesLoose(ts,ns){if(ts==null)return{};var rs={},is=Object.keys(ts),os,ss;for(ss=0;ss<is.length;ss++)os=is[ss],!(ns.indexOf(os)>=0)&&(rs[os]=ts[os]);return rs}const MASK_PROPS={mask:PropTypes.oneOfType([PropTypes.array,PropTypes.func,PropTypes.string,PropTypes.instanceOf(RegExp),PropTypes.oneOf([Date,Number,IMask.Masked]),PropTypes.instanceOf(IMask.Masked)]),value:PropTypes.any,unmask:PropTypes.oneOfType([PropTypes.bool,PropTypes.oneOf(["typed"])]),prepare:PropTypes.func,validate:PropTypes.func,commit:PropTypes.func,overwrite:PropTypes.oneOfType([PropTypes.bool,PropTypes.oneOf(["shift"])]),eager:PropTypes.oneOfType([PropTypes.bool,PropTypes.oneOf(["append","remove"])]),skipInvalid:PropTypes.bool,onAccept:PropTypes.func,onComplete:PropTypes.func,placeholderChar:PropTypes.string,displayChar:PropTypes.string,lazy:PropTypes.bool,definitions:PropTypes.object,blocks:PropTypes.object,pattern:PropTypes.string,format:PropTypes.func,parse:PropTypes.func,autofix:PropTypes.oneOfType([PropTypes.bool,PropTypes.oneOf(["pad"])]),radix:PropTypes.string,thousandsSeparator:PropTypes.string,mapToRadix:PropTypes.arrayOf(PropTypes.string),scale:PropTypes.number,signed:PropTypes.bool,normalizeZeros:PropTypes.bool,padFractionalZeros:PropTypes.bool,min:PropTypes.oneOfType([PropTypes.number,PropTypes.instanceOf(Date)]),max:PropTypes.oneOfType([PropTypes.number,PropTypes.instanceOf(Date)]),dispatch:PropTypes.func,inputRef:PropTypes.oneOfType([PropTypes.func,PropTypes.shape({current:PropTypes.object})])},MASK_PROPS_NAMES=Object.keys(MASK_PROPS).filter(ts=>ts!=="value"),NON_MASK_OPTIONS_PROPS_NAMES=["value","unmask","onAccept","onComplete","inputRef"],MASK_OPTIONS_PROPS_NAMES=MASK_PROPS_NAMES.filter(ts=>NON_MASK_OPTIONS_PROPS_NAMES.indexOf(ts)<0);function IMaskMixin(ts){const ns=class extends React$1.Component{constructor(is){super(is),this._inputRef=this._inputRef.bind(this)}componentDidMount(){this.props.mask&&this.initMask()}componentDidUpdate(){const is=this.props,os=this._extractMaskOptionsFromProps(is);os.mask?this.maskRef?(this.maskRef.updateOptions(os),"value"in is&&(this.maskValue=is.value)):this.initMask(os):(this.destroyMask(),"value"in is&&(this.element.value=is.value))}componentWillUnmount(){this.destroyMask()}_inputRef(is){this.element=is,this.props.inputRef&&(Object.prototype.hasOwnProperty.call(this.props.inputRef,"current")?this.props.inputRef.current=is:this.props.inputRef(is))}initMask(){let is=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._extractMaskOptionsFromProps(this.props);this.maskRef=IMask(this.element,is).on("accept",this._onAccept.bind(this)).on("complete",this._onComplete.bind(this)),"value"in this.props&&(this.maskValue=this.props.value)}destroyMask(){this.maskRef&&(this.maskRef.destroy(),delete this.maskRef)}_extractMaskOptionsFromProps(is){const os=Object.assign({},(_objectDestructuringEmpty(is),is));return Object.keys(os).filter(ss=>MASK_OPTIONS_PROPS_NAMES.indexOf(ss)<0).forEach(ss=>{delete os[ss]}),os}_extractNonMaskProps(is){const os=is,ss=Object.assign({},(_objectDestructuringEmpty(os),os));return MASK_PROPS_NAMES.forEach(as=>{delete ss[as]}),"defaultValue"in ss||(ss.defaultValue=is.mask?"":ss.value),delete ss.value,ss}get maskValue(){return this.props.unmask==="typed"?this.maskRef.typedValue:this.props.unmask?this.maskRef.unmaskedValue:this.maskRef.value}set maskValue(is){is=is==null&&this.props.unmask!=="typed"?"":is,this.props.unmask==="typed"?this.maskRef.typedValue=is:this.props.unmask?this.maskRef.unmaskedValue=is:this.maskRef.value=is}_onAccept(is){this.props.onAccept&&this.maskRef&&this.props.onAccept(this.maskValue,this.maskRef,is)}_onComplete(is){this.props.onComplete&&this.maskRef&&this.props.onComplete(this.maskValue,this.maskRef,is)}render(){return React$1.createElement(ts,Object.assign({},this._extractNonMaskProps(this.props),{inputRef:this._inputRef}))}},rs=ts.displayName||ts.name||"Component";return ns.displayName="IMask(".concat(rs,")"),ns.propTypes=MASK_PROPS,React$1.forwardRef((is,os)=>React$1.createElement(ns,Object.assign({},is,{ref:os})))}const _excluded$k=["inputRef"],IMaskInputClass=IMaskMixin(ts=>{let{inputRef:ns}=ts,rs=_objectWithoutPropertiesLoose(ts,_excluded$k);return React$1.createElement("input",Object.assign({},rs,{ref:ns}))}),IMaskInputFn=(ts,ns)=>React$1.createElement(IMaskInputClass,Object.assign({},ts,{ref:ns})),IMaskInput=React$1.forwardRef(IMaskInputFn),InputMask=reactExports.forwardRef(({onChange:ts,name:ns,mask:rs,blocks:is,...os},ss)=>jsxRuntimeExports.jsx(IMaskInput,{...os,mask:rs,inputRef:ss,blocks:is,onAccept:as=>ts({target:{name:ns,value:as}}),overwrite:!0,name:ns})),FormInput=({name:ts,label:ns,format:rs,defaultValue:is,helperText:os,showHelperTextIcon:ss,infoText:as,mask:ls,...cs})=>{const{control:us,formState:{errors:ds}}=useFormContext(),ps=useTheme$1(),{otherColors:hs}=useIntakeThemeContext(),ms=ls?InputMask:"input",gs="Dancing Script, Tangerine, Bradley Hand, Brush Script MT, sans-serif",ys={inputStyles:{".MuiInput-input":{borderRadius:"8px",border:"1px solid",borderColor:hs.lightGray,padding:"10px 12px",transition:ps.transitions.create(["border-color","background-color","box-shadow"]),"&:focus":{boxShadow:"".concat(alpha$1(ps.palette.primary.main,.25)," 0 0 0 0.2rem"),borderColor:ps.palette.primary.main}}},signatureStyles:{input:{fontFamily:gs,fontSize:"20px",fontWeight:500},"input::placeholder":{fontFamily:gs}}},vs={mask:ls};return(getInputTypes(ts)==="number"||getInputTypes(ts)==="tel")&&(vs.pattern="[0-9]*"),jsxRuntimeExports.jsx(Controller,{control:us,name:ts,defaultValue:is,render:({field:{value:bs,onChange:Ss}})=>jsxRuntimeExports.jsxs(FormControl$1,{variant:"standard",required:cs.required,error:!!ds[ts],sx:{marginTop:rs==="Signature"?"20px":0,width:"100%"},children:[jsxRuntimeExports.jsx(BoldPurpleInputLabel,{id:"".concat(ts,"-label"),htmlFor:ts,shrink:!0,children:as?jsxRuntimeExports.jsx(Tooltip$1,{enterTouchDelay:0,title:as,placement:"top",arrow:!0,children:jsxRuntimeExports.jsxs(Box$1,{children:[ns,jsxRuntimeExports.jsx(IconButton$2,{children:jsxRuntimeExports.jsx(default_1$k,{sx:{fontSize:"18px",color:"secondary.main"}})})]})}):ns}),jsxRuntimeExports.jsx(Input$2,{id:ts,value:bs,type:getInputTypes(ts)==="tel"?"tel":"text",inputMode:getInputTypes(ts)==="number"||getInputTypes(ts)==="tel"?"numeric":"text","aria-labelledby":"".concat(ts,"-label"),"aria-describedby":"".concat(ts,"-helper-text"),inputComponent:ms,inputProps:vs,onChange:$s=>Ss($s.target.value.trimStart()),...cs,disableUnderline:!0,sx:rs==="Signature"?{...ys.inputStyles,...ys.signatureStyles}:ys.inputStyles}),jsxRuntimeExports.jsx(InputHelperText,{name:ts,errors:ds,helperText:os,showHelperTextIcon:ss})]})})};function isHostComponent(ts){return typeof ts=="string"}function appendOwnerState(ts,ns,rs){return ts===void 0||isHostComponent(ts)?ns:_extends$a({},ns,{ownerState:_extends$a({},ns.ownerState,rs)})}function extractEventHandlers(ts,ns=[]){if(ts===void 0)return{};const rs={};return Object.keys(ts).filter(is=>is.match(/^on[A-Z]/)&&typeof ts[is]=="function"&&!ns.includes(is)).forEach(is=>{rs[is]=ts[is]}),rs}function resolveComponentProps(ts,ns,rs){return typeof ts=="function"?ts(ns,rs):ts}function omitEventHandlers(ts){if(ts===void 0)return{};const ns={};return Object.keys(ts).filter(rs=>!(rs.match(/^on[A-Z]/)&&typeof ts[rs]=="function")).forEach(rs=>{ns[rs]=ts[rs]}),ns}function mergeSlotProps(ts){const{getSlotProps:ns,additionalProps:rs,externalSlotProps:is,externalForwardedProps:os,className:ss}=ts;if(!ns){const ms=clsx(rs==null?void 0:rs.className,ss,os==null?void 0:os.className,is==null?void 0:is.className),gs=_extends$a({},rs==null?void 0:rs.style,os==null?void 0:os.style,is==null?void 0:is.style),ys=_extends$a({},rs,os,is);return ms.length>0&&(ys.className=ms),Object.keys(gs).length>0&&(ys.style=gs),{props:ys,internalRef:void 0}}const as=extractEventHandlers(_extends$a({},os,is)),ls=omitEventHandlers(is),cs=omitEventHandlers(os),us=ns(as),ds=clsx(us==null?void 0:us.className,rs==null?void 0:rs.className,ss,os==null?void 0:os.className,is==null?void 0:is.className),ps=_extends$a({},us==null?void 0:us.style,rs==null?void 0:rs.style,os==null?void 0:os.style,is==null?void 0:is.style),hs=_extends$a({},us,rs,cs,ls);return ds.length>0&&(hs.className=ds),Object.keys(ps).length>0&&(hs.style=ps),{props:hs,internalRef:us.ref}}const _excluded$j=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function useSlotProps(ts){var ns;const{elementType:rs,externalSlotProps:is,ownerState:os,skipResolvingSlotProps:ss=!1}=ts,as=_objectWithoutPropertiesLoose$3(ts,_excluded$j),ls=ss?{}:resolveComponentProps(is,os),{props:cs,internalRef:us}=mergeSlotProps(_extends$a({},as,{externalSlotProps:ls})),ds=useForkRef(us,ls==null?void 0:ls.ref,(ns=ts.additionalProps)==null?void 0:ns.ref);return appendOwnerState(rs,_extends$a({},cs,{ref:ds}),os)}function getLoadingButtonUtilityClass(ts){return generateUtilityClass("MuiLoadingButton",ts)}const loadingButtonClasses=generateUtilityClasses("MuiLoadingButton",["root","loading","loadingIndicator","loadingIndicatorCenter","loadingIndicatorStart","loadingIndicatorEnd","endIconLoadingEnd","startIconLoadingStart"]),loadingButtonClasses$1=loadingButtonClasses,_excluded$i=["children","disabled","id","loading","loadingIndicator","loadingPosition","variant"],useUtilityClasses$f=ts=>{const{loading:ns,loadingPosition:rs,classes:is}=ts,os={root:["root",ns&&"loading"],startIcon:[ns&&"startIconLoading".concat(capitalize$4(rs))],endIcon:[ns&&"endIconLoading".concat(capitalize$4(rs))],loadingIndicator:["loadingIndicator",ns&&"loadingIndicator".concat(capitalize$4(rs))]},ss=composeClasses(os,getLoadingButtonUtilityClass,is);return _extends$a({},is,ss)},rootShouldForwardProp=ts=>ts!=="ownerState"&&ts!=="theme"&&ts!=="sx"&&ts!=="as"&&ts!=="classes",LoadingButtonRoot=styled$2(Button$2,{shouldForwardProp:ts=>rootShouldForwardProp(ts)||ts==="classes",name:"MuiLoadingButton",slot:"Root",overridesResolver:(ts,ns)=>[ns.root,ns.startIconLoadingStart&&{["& .".concat(loadingButtonClasses$1.startIconLoadingStart)]:ns.startIconLoadingStart},ns.endIconLoadingEnd&&{["& .".concat(loadingButtonClasses$1.endIconLoadingEnd)]:ns.endIconLoadingEnd}]})(({ownerState:ts,theme:ns})=>_extends$a({["& .".concat(loadingButtonClasses$1.startIconLoadingStart,", & .").concat(loadingButtonClasses$1.endIconLoadingEnd)]:{transition:ns.transitions.create(["opacity"],{duration:ns.transitions.duration.short}),opacity:0}},ts.loadingPosition==="center"&&{transition:ns.transitions.create(["background-color","box-shadow","border-color"],{duration:ns.transitions.duration.short}),["&.".concat(loadingButtonClasses$1.loading)]:{color:"transparent"}},ts.loadingPosition==="start"&&ts.fullWidth&&{["& .".concat(loadingButtonClasses$1.startIconLoadingStart,", & .").concat(loadingButtonClasses$1.endIconLoadingEnd)]:{transition:ns.transitions.create(["opacity"],{duration:ns.transitions.duration.short}),opacity:0,marginRight:-8}},ts.loadingPosition==="end"&&ts.fullWidth&&{["& .".concat(loadingButtonClasses$1.startIconLoadingStart,", & .").concat(loadingButtonClasses$1.endIconLoadingEnd)]:{transition:ns.transitions.create(["opacity"],{duration:ns.transitions.duration.short}),opacity:0,marginLeft:-8}})),LoadingButtonLoadingIndicator=styled$2("span",{name:"MuiLoadingButton",slot:"LoadingIndicator",overridesResolver:(ts,ns)=>{const{ownerState:rs}=ts;return[ns.loadingIndicator,ns["loadingIndicator".concat(capitalize$4(rs.loadingPosition))]]}})(({theme:ts,ownerState:ns})=>_extends$a({position:"absolute",visibility:"visible",display:"flex"},ns.loadingPosition==="start"&&(ns.variant==="outlined"||ns.variant==="contained")&&{left:ns.size==="small"?10:14},ns.loadingPosition==="start"&&ns.variant==="text"&&{left:6},ns.loadingPosition==="center"&&{left:"50%",transform:"translate(-50%)",color:(ts.vars||ts).palette.action.disabled},ns.loadingPosition==="end"&&(ns.variant==="outlined"||ns.variant==="contained")&&{right:ns.size==="small"?10:14},ns.loadingPosition==="end"&&ns.variant==="text"&&{right:6},ns.loadingPosition==="start"&&ns.fullWidth&&{position:"relative",left:-10},ns.loadingPosition==="end"&&ns.fullWidth&&{position:"relative",right:-10})),LoadingButton=reactExports.forwardRef(function(ns,rs){const is=reactExports.useContext(ButtonGroupContext$1),os=resolveProps(is,ns),ss=useDefaultProps({props:os,name:"MuiLoadingButton"}),{children:as,disabled:ls=!1,id:cs,loading:us=!1,loadingIndicator:ds,loadingPosition:ps="center",variant:hs="text"}=ss,ms=_objectWithoutPropertiesLoose$3(ss,_excluded$i),gs=useId(cs),ys=ds!=null?ds:jsxRuntimeExports.jsx(CircularProgress$1,{"aria-labelledby":gs,color:"inherit",size:16}),vs=_extends$a({},ss,{disabled:ls,loading:us,loadingIndicator:ys,loadingPosition:ps,variant:hs}),bs=useUtilityClasses$f(vs),Ss=us?jsxRuntimeExports.jsx(LoadingButtonLoadingIndicator,{className:bs.loadingIndicator,ownerState:vs,children:ys}):null;return jsxRuntimeExports.jsxs(LoadingButtonRoot,_extends$a({disabled:ls||us,id:gs,ref:rs},ms,{variant:hs,classes:bs,ownerState:vs,children:[vs.loadingPosition==="end"?as:Ss,vs.loadingPosition==="end"?Ss:as]}))}),LoadingButton$1=LoadingButton,ControlButtons=({submitDisabled:ts,submitLabel:ns,backButton:rs=!0,backButtonLabel:is,loading:os,onBack:ss})=>{const as=useNavigate(),{t:ls}=useTranslation();return jsxRuntimeExports.jsxs(Box$1,{display:"flex",flexDirection:{xs:"column",md:"row"},sx:{justifyContent:"space-between",mt:4.125},children:[rs&&jsxRuntimeExports.jsx(Button$2,{variant:"outlined",onClick:()=>{ss?ss():as(-1)},size:"large",type:"button",children:is||ls("general.button.back")}),jsxRuntimeExports.jsx(LoadingButton$1,{variant:"contained",color:"primary",disabled:ts,loading:os,sx:{mt:{xs:1,md:0},ml:{xs:0,md:"auto"}},size:"large",type:"submit",children:ns!=null?ns:"Continue"})]})},RenderLabelFromSelect=({children:ts,styles:ns})=>jsxRuntimeExports.jsx(Typography$1,{variant:"inherit",sx:{p:0,...ns},children:ts}),LightToolTip=styled$2(({className:ts,...ns})=>jsxRuntimeExports.jsx(Tooltip$1,{...ns,classes:{popper:ts}}))(({backgroundColor:ts,color:ns})=>({["& .".concat(tooltipClasses$1.tooltip)]:{backgroundColor:ts,color:ns,boxShadow:"0px 1px 8px 0px rgba(0, 0, 0, 0.12), 0px 3px 4px 0px rgba(0, 0, 0, 0.14), 0px 3px 3px -2px rgba(0, 0, 0, 0.2);",fontSize:14,fontWeight:400}})),SelectInput=({name:ts,label:ns,defaultValue:rs,options:is,helperText:os,showHelperTextIcon:ss,placeholder:as,infoTextSecondary:ls,...cs})=>{const{control:us,setValue:ds,getValues:ps,formState:{errors:hs}}=useFormContext(),ms=useTheme$1(),{otherColors:gs}=reactExports.useContext(IntakeThemeContext),ys=reactExports.useRef(null),[vs,bs]=reactExports.useState(void 0),[Ss,$s]=reactExports.useState(void 0);return reactExports.useEffect(()=>{if(ys.current){const Cs=parseInt(window.getComputedStyle(ys.current).getPropertyValue("line-height"));$s(Cs),bs(ys.current.clientHeight)}},[ns]),reactExports.useEffect(()=>{const Cs=ps(ts);!is.find(Es=>Es.label===Cs||Es.value===Cs)&&Cs&&Cs.length!=0&&ds(ts,"")},[ps,ts,is,ds]),jsxRuntimeExports.jsx(Controller,{name:ts,control:us,defaultValue:rs||"",render:({field:Cs})=>jsxRuntimeExports.jsxs(FormControl$1,{variant:"standard",required:cs.required,error:!!hs[ts],sx:{width:"100%"},children:[jsxRuntimeExports.jsx(BoldPurpleInputLabel,{id:"".concat(ts,"-label"),htmlFor:ts,shrink:!0,sx:{whiteSpace:"pre-wrap"},ref:ys,children:ns}),jsxRuntimeExports.jsx(Select$2,{id:ts,labelId:"".concat(ts,"-label"),IconComponent:ExpandMore,displayEmpty:!0,...Cs,value:is.find(Es=>Es.label===Cs.value||Es.value===Cs.value)?Cs.value:"",...cs,disableUnderline:!0,MenuProps:{disableScrollLock:!0,PaperProps:{style:{maxHeight:400}}},sx:{marginTop:Ss!==vs?"".concat(vs?vs-8:Ss,"px !important"):"","& .MuiInputBase-input":{borderRadius:"8px",backgroundColor:ms.palette.background.paper,border:"1px solid",borderColor:gs.lightGray,padding:"10px 26px 10px 12px","&:focus":{borderRadius:"8px",backgroundColor:ms.palette.background.paper}},"& .MuiSelect-icon":{marginRight:"10px"},"& .MuiSelect-iconOpen":{marginRight:"10px"}},renderValue:Es=>Es.length===0||!is.find(xs=>xs.label===Es||xs.value===Es)?jsxRuntimeExports.jsx(RenderLabelFromSelect,{styles:{color:gs.placeholder},children:as||"Select..."}):jsxRuntimeExports.jsx(RenderLabelFromSelect,{children:findLabelFromOptions(Es,is)}),children:is.map(Es=>jsxRuntimeExports.jsx(MenuItem$1,{value:Es.value,children:Es.label},Es.value))}),ls?jsxRuntimeExports.jsx(LightToolTip,{title:ls,placement:"top",enterTouchDelay:0,backgroundColor:gs.toolTipGrey,color:gs.black,children:jsxRuntimeExports.jsxs(Box$1,{sx:{color:gs.scheduleBorder,width:"fit-content",display:"flex",marginTop:.5,cursor:"default"},children:[jsxRuntimeExports.jsx(default_1$k,{style:{height:"16px",width:"16px"}}),jsxRuntimeExports.jsx(Typography$1,{sx:{fontSize:"14px",marginLeft:.5},children:"Why do we ask this?"})]})}):null,jsxRuntimeExports.jsx(InputHelperText,{name:ts,errors:hs,helperText:os,showHelperTextIcon:ss})]})})},RadioInput$1=({name:ts,label:ns,defaultValue:rs,required:is,options:os,helperText:ss,showHelperTextIcon:as,borderColor:ls="primary.contrast",borderSelected:cs="primary.main",backgroundSelected:us,getSelected:ds,centerImages:ps,onChange:hs,radioStyling:ms})=>{const{control:gs,formState:{errors:ys}}=useFormContext(),vs=useTheme$1(),{t:bs}=useTranslation(),Ss=ds();return jsxRuntimeExports.jsx(Controller,{name:ts,control:gs,defaultValue:rs,render:({field:$s})=>jsxRuntimeExports.jsxs(FormControl$1,{required:is,error:!!ys[ts],sx:{width:"100%",mt:3.5},children:[jsxRuntimeExports.jsx(BoldPurpleInputLabel,{id:"".concat(ts,"-label"),shrink:!0,sx:{mt:-2.25},children:ns}),jsxRuntimeExports.jsx(RadioGroup$1,{sx:{".MuiFormControlLabel-label":{width:"100%"},gap:1},...$s,value:$s.value||"unknown","aria-labelledby":"".concat(ts,"-label"),children:os.map(Cs=>{const Es={desktop:{labelText:8.5,space:.2,image:2},mobile:{labelText:12,space:0,image:12}};return(!Cs.label||!Cs.description)&&(Es.desktop.labelText=5.5),Cs.image||(Es.desktop.labelText=11),jsxRuntimeExports.jsx(FormControlLabel$1,{value:Cs.value,control:jsxRuntimeExports.jsx(Radio$1,{icon:jsxRuntimeExports.jsx(Icon$1,{sx:{display:"flex",justifyContent:"center",scale:"75%"},children:jsxRuntimeExports.jsx("img",{src:customRadioButtonUncheckedIcon,alt:bs("general.button.unchecked")})}),checkedIcon:jsxRuntimeExports.jsx(Icon$1,{sx:{display:"flex",justifyContent:"center",scale:"75%"},children:jsxRuntimeExports.jsx("img",{src:customRadioButtonCheckedIcon,alt:bs("general.button.checked")})}),sx:{alignSelf:"start",mt:"8px",[vs.breakpoints.down("md")]:{mt:0},...ms==null?void 0:ms.radio}}),label:jsxRuntimeExports.jsxs(Grid$1,{container:!0,sx:{paddingTop:"5px",paddingBottom:"5px",alignItems:"center",[vs.breakpoints.down("md")]:{flexDirection:"column",alignItems:"flex-start"}},children:[jsxRuntimeExports.jsx(Grid$1,{item:!0,sx:{paddingTop:"0.3rem",paddingBottom:"0.5rem",[vs.breakpoints.down("md")]:{paddingTop:"0.1rem","&.MuiGrid-item":{marginTop:"0px"}}},children:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[Cs.label&&jsxRuntimeExports.jsx(Typography$1,{variant:"h5",color:"primary.main",sx:ms==null?void 0:ms.label,children:Cs.label}),Cs.description&&jsxRuntimeExports.jsx("div",{style:{lineHeight:"20px",marginTop:Cs.label?"5px":0},children:jsxRuntimeExports.jsx(Typography$1,{variant:Cs.label?"caption":"body2",color:"secondary.main",children:Cs.description})})]})}),Cs.image&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Grid$1,{item:!0,xs:Es.mobile.space,md:Es.desktop.space}),jsxRuntimeExports.jsx(Grid$1,{item:!0,xs:Es.mobile.image,md:Es.desktop.image,sx:{[vs.breakpoints.up("md")]:{...ps&&{marginLeft:"auto",marginRight:"auto"}}},children:jsxRuntimeExports.jsx("img",{alt:Cs.imageAlt,src:Cs.image,width:Cs.imageWidth})})]})]}),onChange:hs,sx:{border:"1px solid",borderRadius:2,backgroundColor:()=>Ss[ts]===Cs.value&&us?us:Cs.color||vs.palette.background.paper,borderColor:Ss[ts]===Cs.value?cs:ls,paddingTop:0,paddingBottom:0,paddingRight:2,marginX:0,minHeight:46,height:ms==null?void 0:ms.height}},Cs.value)})}),jsxRuntimeExports.jsx(InputHelperText,{name:ts,errors:ys,helperText:ss,showHelperTextIcon:as})]})})},FreeMultiSelectInput=({name:ts,helperText:ns,showHelperTextIcon:rs,label:is,defaultValue:os,options:ss,placeholder:as="Type or select all that apply",...ls})=>{const{control:cs,formState:{errors:us}}=useFormContext(),ds=useTheme$1(),{otherColors:ps}=reactExports.useContext(IntakeThemeContext),[hs,ms]=reactExports.useState("");return jsxRuntimeExports.jsx(Controller,{name:ts,control:cs,defaultValue:os||[],render:({field:gs})=>jsxRuntimeExports.jsxs(FormControl$1,{variant:"standard",required:ls.required,error:!!us[ts],sx:{width:"100%"},children:[jsxRuntimeExports.jsx(BoldPurpleInputLabel,{htmlFor:ts,shrink:!0,children:is}),jsxRuntimeExports.jsx(Autocomplete$1,{multiple:!0,autoComplete:!0,disableClearable:!0,forcePopupIcon:!0,id:ts,options:ss,freeSolo:!0,fullWidth:!0,...gs,defaultValue:os||[],renderTags:(ys,vs)=>ys.map((bs,Ss)=>jsxRuntimeExports.jsx(Chip$1,{variant:"outlined",label:bs,...vs({index:Ss}),sx:{fontSize:16}})),inputValue:hs,onInputChange:(ys,vs)=>{ms(vs)},onChange:(ys,vs)=>{gs.onChange(vs)},onBlur:()=>{if(hs.trim()!==""){const ys=[...gs.value,hs.trim()];gs.onChange(ys)}ms("")},renderInput:ys=>jsxRuntimeExports.jsx(MuiTextField,{...ys,variant:"filled",placeholder:as}),sx:{mt:2,"& .MuiFilledInput-root":{fontSize:16,p:.5,backgroundColor:"".concat(ds.palette.background.paper," !important"),border:"1px solid",borderColor:ps.borderGray,borderRadius:2,"&::before, ::after, :hover:not(.Mui-disabled, .Mui-error)::before":{borderBottom:0}},"& .Mui-focused":{boxShadow:"".concat(ps.primaryBoxShadow," 0 0 0 0.2rem"),borderColor:"".concat(ds.palette.primary.main)}}}),jsxRuntimeExports.jsx(InputHelperText,{name:ts,errors:us,helperText:ns,showHelperTextIcon:rs})]})})},currentDate$1=new Date,currentYear$1=currentDate$1.getFullYear(),startYear$1=1900,days=Array.from({length:31},(ts,ns)=>{const rs=ns+1;return{value:rs<10?"0".concat(rs):"".concat(rs),label:"".concat(rs)}}),years$1=Array.from({length:currentYear$1-startYear$1+1},(ts,ns)=>{const rs=startYear$1+ns;return{value:"".concat(rs),label:"".concat(rs)}}).reverse(),DateInputFields=({required:ts,selectedMonth:ns,selectedDay:rs,selectedYear:is,label:os,setSelectedMonth:ss,setSelectedYear:as,setSelectedDay:ls})=>jsxRuntimeExports.jsxs(FormControl$1,{required:ts,sx:{width:"100%"},children:[jsxRuntimeExports.jsx(BoldPurpleInputLabel,{shrink:!0,children:os},"input_label"),jsxRuntimeExports.jsxs(Grid$1,{container:!0,mt:1,spacing:1,children:[jsxRuntimeExports.jsx(Grid$1,{item:!0,md:4,xs:12,children:jsxRuntimeExports.jsxs(FormControl$1,{required:ts,sx:{width:"100%"},children:[jsxRuntimeExports.jsx(InputLabel$1,{children:"Month"}),jsxRuntimeExports.jsx(Select$2,{label:"Month",value:ns,onChange:cs=>ss(cs.target.value),children:months.map(cs=>jsxRuntimeExports.jsx(MenuItem$1,{value:cs.value,children:cs.label},"month-".concat(cs.value)))})]})}),jsxRuntimeExports.jsx(Grid$1,{item:!0,md:4,xs:12,children:jsxRuntimeExports.jsxs(FormControl$1,{required:ts,sx:{width:"100%"},children:[jsxRuntimeExports.jsx(InputLabel$1,{children:"Day"}),jsxRuntimeExports.jsx(Select$2,{label:"Day",value:rs,onChange:cs=>ls(cs.target.value),children:days.map(cs=>jsxRuntimeExports.jsx(MenuItem$1,{value:cs.value,children:cs.label},"day-".concat(cs.value)))})]})}),jsxRuntimeExports.jsx(Grid$1,{item:!0,md:4,xs:12,children:jsxRuntimeExports.jsxs(FormControl$1,{required:ts,sx:{width:"100%"},children:[jsxRuntimeExports.jsx(InputLabel$1,{children:"Year"}),jsxRuntimeExports.jsx(Select$2,{label:"Year",value:is,onChange:cs=>as==null?void 0:as(cs.target.value),children:years$1.map(cs=>jsxRuntimeExports.jsx(MenuItem$1,{value:cs.value,children:cs.label},"year-".concat(cs.value)))})]})})]},"input_grid")]}),DateInput=({name:ts,label:ns,helperText:rs,showHelperTextIcon:is,required:os,fieldMap:ss})=>{const{formState:{errors:as},watch:ls,setValue:cs}=useFormContext(),{otherColors:us}=reactExports.useContext(IntakeThemeContext),ds=ls(ss.day),ps=ls(ss.month),hs=ls(ss.year);return jsxRuntimeExports.jsxs(Box$1,{sx:{padding:"10px",width:"100%"},children:[jsxRuntimeExports.jsx(DateInputFields,{required:os,label:ns,selectedDay:ds!=null?ds:"",selectedMonth:ps!=null?ps:"",selectedYear:hs!=null?hs:"",setSelectedMonth:ms=>{cs(ss.month,ms)},setSelectedDay:ms=>{cs(ss.day,ms)},setSelectedYear:ms=>{cs(ss.year,ms)}},"DateInput"),jsxRuntimeExports.jsx(InputHelperText,{textColor:us.cancel,name:ts,errors:as,helperText:rs,showHelperTextIcon:is},"helpertext")]},ts)},RadioInput=({name:ts,label:ns,value:rs,defaultValue:is,required:os,options:ss,helperText:as,showHelperTextIcon:ls,onChange:cs})=>{const{control:us,formState:{errors:ds}}=useFormContext();return jsxRuntimeExports.jsx(Controller,{name:ts,control:us,defaultValue:is,render:({field:ps})=>jsxRuntimeExports.jsxs(FormControl$1,{variant:"standard",required:os,error:!!ds[ts],sx:{width:"100%",mt:3.5},children:[jsxRuntimeExports.jsx(BoldPurpleInputLabel,{id:"".concat(ts,"-label"),shrink:!0,sx:{mt:-2.25},children:ns}),jsxRuntimeExports.jsx(RadioGroup$1,{row:!0,...ps,value:ps.value||"unknown","aria-labelledby":"".concat(ts,"-label"),children:ss.map(hs=>jsxRuntimeExports.jsx(FormControlLabel$1,{value:hs.value,control:jsxRuntimeExports.jsx(Radio$1,{}),label:hs.label,onChange:cs,sx:{marginRight:5}},hs.value))}),!rs&&jsxRuntimeExports.jsx(InputHelperText,{name:ts,errors:ds,helperText:as,showHelperTextIcon:ls})]})})};function DescriptionRenderer(ts){return jsxRuntimeExports.jsx("span",{children:ts.children})}function LinkRenderer(ts){return jsxRuntimeExports.jsx("a",{href:ts.href,target:"_blank",rel:"noreferrer",children:ts.children})}const ControlledCheckBox=({name:ts,label:ns,defaultValue:rs,required:is})=>{const{control:os}=useFormContext(),{otherColors:ss}=reactExports.useContext(IntakeThemeContext);return jsxRuntimeExports.jsx(FormControlLabel$1,{sx:{pt:1,alignItems:"flex-start",margin:"0px"},required:is,control:jsxRuntimeExports.jsx(Controller,{name:ts,control:os,defaultValue:rs,render:({field:as})=>{var ls;return jsxRuntimeExports.jsx(Checkbox$1,{...as,checked:(ls=as.value)!=null?ls:!1,color:"primary",style:{borderRadius:"4px"},sx:{alignSelf:"flex-start",width:"18px",height:"18px",marginRight:"10px","&.MuiCheckbox-root":{borderRadius:"4px"},"&.Mui-checked":{color:ss.purple,borderRadius:"4px",outline:"1px solid #2169F5"}},required:is})}}),label:jsxRuntimeExports.jsx(Markdown,{components:{p:DescriptionRenderer,a:LinkRenderer},children:ns})})},UploadComponent=({name:ts,uploadDescription:ns,handleFileUpload:rs})=>{const is=useTheme$1(),{control:os}=useFormContext(),{otherColors:ss}=reactExports.useContext(IntakeThemeContext),as=React$1.useRef(null);return jsxRuntimeExports.jsxs(Box$1,{sx:{height:260,border:"1px dashed ".concat(is.palette.primary.main),borderRadius:2,display:"flex",background:ss.cardBackground,flexDirection:"column",alignItems:"center",textAlign:"center",justifyContent:"center",gap:1,px:4,mb:2},children:[jsxRuntimeExports.jsx(Container$1,{style:{width:"60%",margin:0,padding:0},children:jsxRuntimeExports.jsx(Typography$1,{id:"".concat(ts,"-description"),children:jsxRuntimeExports.jsx(Markdown,{components:{p:DescriptionRenderer},children:ns})})}),jsxRuntimeExports.jsxs(Button$2,{id:ts,"aria-labelledby":"".concat(ts,"-label"),"aria-describedby":"".concat(ts,"-description"),variant:"contained",sx:{textTransform:"none",mt:2},onKeyDown:ls=>{var cs;try{["Enter","Space"].includes(ls.code)&&((cs=as.current)==null||cs.click())}catch(us){console.error(us)}},onClick:()=>{var ls;try{if(as!=null&&as.current)(ls=as==null?void 0:as.current)==null||ls.click();else throw new Error("inputRef is not defined")}catch(cs){console.error(cs)}},children:["Upload",jsxRuntimeExports.jsx(Controller,{name:ts,control:os,render:({field:{value:ls,onChange:cs,...us}})=>jsxRuntimeExports.jsx("input",{...us,ref:as,value:ls==null?void 0:ls.filename,type:"file",accept:"image/png, image/jpeg, image/jpg",hidden:!0,disabled:!1,onChange:ds=>cs(rs(ds))})})]})]})},CardComponent=({name:ts,previewUrl:ns,alt:rs,setPreviewUrl:is,setFileUrl:os,onClear:ss})=>{const as=useTheme$1(),{setValue:ls}=useFormContext(),{otherColors:cs}=reactExports.useContext(IntakeThemeContext);return jsxRuntimeExports.jsxs(Box$1,{sx:{mb:2},children:[jsxRuntimeExports.jsx(Box$1,{sx:{height:260,border:"1px dashed ".concat(as.palette.primary.main),borderRadius:2},children:jsxRuntimeExports.jsx("img",{src:ns,alt:rs,width:"100%",height:"260",style:{objectFit:"contain"}})}),jsxRuntimeExports.jsx(Button$2,{variant:"text",onClick:()=>{ls(ts,""),is(null),os(void 0),ss()},sx:{color:cs.clearImage,justifyContent:"start",px:0,mt:2,"&:hover":{backgroundColor:"transparent"}},children:"Clear"})]})},FileUpload=({name:ts,label:ns,defaultValue:rs,options:is})=>{const{description:os,onUpload:ss,uploadFile:as,uploadFailed:ls,resetUploadFailed:cs,onClear:us,fileType:ds}=is,ps=useTheme$1(),{setValue:hs}=useFormContext(),[ms,gs]=reactExports.useState(null),[ys,vs]=reactExports.useState(!1),[bs,Ss]=reactExports.useState(rs);reactExports.useEffect(()=>{async function Es(){vs(!0),bs&&gs(bs)}Es().catch(xs=>{console.log(xs),safelyCaptureException(xs)}),vs(!1)},[bs]),reactExports.useEffect(()=>{bs&&ms!=="Not Found"&&ms!==null&&!ys&&hs(ts,rs)},[rs,bs,ys,ts,ms,hs]);const $s=Es=>{try{const{files:xs}=Es.target;if(xs&&xs.length>0){const ws=xs[0],ks=URL.createObjectURL(ws);return gs(ks),as(ds,ks),ss(Is=>({...Is,[ds]:{...Is[ds],fileData:ws}})),cs(),ws.name}else return console.log("No files selected"),null}catch(xs){return console.error("Error occurred during file upload:",xs),safelyCaptureException(xs),null}},Cs=()=>ls?jsxRuntimeExports.jsx(UploadComponent,{name:ts,uploadDescription:"Failed to upload card. Please try again",handleFileUpload:$s}):!bs&&ms?jsxRuntimeExports.jsx(CardComponent,{name:ts,previewUrl:ms,alt:ds,setPreviewUrl:gs,setFileUrl:Ss,onClear:us}):bs?ms==="Not Found"?jsxRuntimeExports.jsx(UploadComponent,{name:ts,uploadDescription:"Failed to retrieve card. Please try again. ".concat(os),handleFileUpload:$s}):ms!=="Not Found"&&ms!==null&&!ys?jsxRuntimeExports.jsx(CardComponent,{name:ts,previewUrl:ms,alt:ds,setPreviewUrl:gs,setFileUrl:Ss,onClear:us}):jsxRuntimeExports.jsx(Box$1,{sx:{mb:2},children:jsxRuntimeExports.jsx(Box$1,{sx:{height:260,border:"1px dashed ".concat(ps.palette.primary.main),borderRadius:2,display:"flex",justifyContent:"center",alignItems:"center"},children:jsxRuntimeExports.jsx(CircularProgress$1,{})})}):jsxRuntimeExports.jsx(UploadComponent,{name:ts,uploadDescription:os,handleFileUpload:$s});return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(BoldPurpleInputLabel,{id:"".concat(ts,"-label"),htmlFor:ts,shrink:!0,children:ns}),Cs()]})},currentDate=new Date,currentYear=currentDate.getFullYear(),startYear=1900,years=Array.from({length:currentYear-startYear+1},(ts,ns)=>{const rs=startYear+ns;return{value:"".concat(rs),label:"".concat(rs)}}).reverse(),CoalescedDateInput=({name:ts,required:ns,defaultValue:rs,label:is,helperText:os,showHelperTextIcon:ss,placeholder:as,infoTextSecondary:ls,setCurrentValue:cs})=>jsxRuntimeExports.jsx(SelectInput,{name:ts,label:is||"No label",helperText:os,showHelperTextIcon:ss,placeholder:as,defaultValue:rs,required:ns,options:years,infoTextSecondary:ls,onChange:us=>{const ds=us.target;cs(ds.value)}}),FormList=ts=>{const{formInput:ns,values:rs,methods:is}=ts,[os,ss]=reactExports.useState(),as=useTheme$1();reactExports.useEffect(()=>{ss(document.getElementById("page-form-inner-form")),is.setValue(ns.name,ns.defaultValue)},[is,ns.name,ns.defaultValue]);const ls=ps=>{const hs=Object.fromEntries(Object.entries(ps).filter(([gs])=>!gs.endsWith("-form-header")&&!gs.endsWith("-form-button"))),ms=is.watch()[ns.name];is.setValue(ns.name,ms?[...ms,hs]:[hs])},cs=ps=>{const hs=is.watch()[ns.name];hs.splice(ps,1),is.setValue(ns.name,hs)},us=is.watch()[ns.name],ds=is==null?void 0:is.formState.errors[ns.name];return jsxRuntimeExports.jsxs(Grid$1,{children:[getFormInputField({type:"Header 3",label:ns.label,name:"".concat(ns.name)},rs,is),jsxRuntimeExports.jsx(Box$1,{sx:{display:"flex",flexDirection:"column",gap:.5,mb:3},children:us&&us.map((ps,hs)=>jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[jsxRuntimeExports.jsx(Typography$1,{children:Object.values(ps).join(" | ")}),jsxRuntimeExports.jsx(IconButton$2,{onClick:()=>cs(hs),children:jsxRuntimeExports.jsx("img",{alt:"delete icon",src:deleteIcon,width:18})})]},JSON.stringify({...ps,index:hs})))}),jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:os&&reactDomExports.createPortal(jsxRuntimeExports.jsxs(Card$1,{elevation:0,sx:{p:3,borderRadius:2,backgroundColor:"#F7F8F9",display:"flex",flexDirection:"column",gap:2},children:[jsxRuntimeExports.jsx(PageForm,{formElements:ns.item,onSubmit:ls,hideControls:!0,innerForm:!0}),ds&&jsxRuntimeExports.jsx(Typography$1,{color:as.palette.error.main,children:ds.message})]}),os)})]})},PageForm=reactExports.memo(({formElements:ts,onSubmit:ns,controlButtons:rs,bottomComponent:is,onFormValuesChange:os,hideControls:ss,innerForm:as,overrideValues:ls})=>{const cs=reactExports.useMemo(()=>(ts||[]).flatMap($s=>$s.fields===void 0?[$s]:[...$s.fields]),[ts]),us=reactExports.useMemo(()=>(ts||[]).filter($s=>$s.fields!==void 0),[ts]),[ds,ps]=React$1.useState({}),[hs,ms]=React$1.useState({}),gs=create$5().shape(ds),ys=useForm({resolver:o$1(gs),context:{validationRegex:!0,required:!0,formInputType:!0},defaultValues:(()=>cs.reduce(($s,Cs)=>($s[Cs.name]=Cs.defaultValue,$s),{}))()});React$1.useEffect(()=>{const $s={};cs.forEach(Cs=>{checkEnable(Cs,hs)&&(Cs.format==="Phone Number"&&(Cs.placeholder="(XXX) XXX-XXXX",Cs.validationRegex=phoneRegex,Cs.validationRegexError="Phone number must be 10 digits in the format (xxx) xxx-xxxx",Cs.mask="(000) 000-0000"),Cs.format==="Email"&&(Cs.placeholder="example@mail.com",Cs.validationRegex=emailRegex,Cs.validationRegexError="Email is not valid"),Cs.format==="ZIP"&&(Cs.validationRegex=zipRegex,Cs.validationRegexError="ZIP Code must be 5 numbers"),Cs.format==="Signature"&&(Cs.placeholder="Type out your full name"),Cs.type==="Free Select"?$s[Cs.name]=create$4().when("$required",(Es,xs)=>Cs.required?xs.min(1,"".concat(Cs.label," is required")):xs).test("char-limit","Input cannot be more than ".concat(Cs.characterLimit," characters"),Es=>Cs.characterLimit?(Es!=null?Es:[]).join(", ").length<=Cs.characterLimit:!0).test("no-emoji","Emojis are not a valid character",Es=>emojiRegex.test((Es!=null?Es:[]).join(""))):Cs.type==="Radio List"?$s[Cs.name]=create$6().when("$required",(Es,xs)=>Cs.required?xs.required("Selection is required"):xs):Cs.type==="Form list"?$s[Cs.name]=create$4().when("$required",(Es,xs)=>Cs.required?xs.required("At least one record is required").min(1,"At least one record is required"):xs):Cs.type==="Photos"?$s[Cs.name]=create$5().when("$required",(Es,xs)=>Cs.required?xs.required("At least one record is required").min(1,"At least one record is required"):xs):$s[Cs.name]=create$6().when("$validationRegex",(Es,xs)=>Cs.validationRegex?xs.matches(Cs.validationRegex,{message:Cs.validationRegexError,excludeEmptyString:!0}):xs).when("$formInputType",(Es,xs)=>Cs.type==="Text"?xs.transform(ws=>ws.trim()).matches(emojiRegex,{message:"Emojis are not a valid character",excludeEmptyString:!0}):Cs.type==="Date"?xs.transform(yupDateTransform).required(DATE_ERROR_MESSAGE).typeError(DATE_ERROR_MESSAGE).matches(yupFHIRDateRegex,DATE_ERROR_MESSAGE).test(ws=>{const ks=DateTime.fromISO(ws),Is=DateTime.now();return ks>Is?new ValidationError("Date may not be in the future",ws,Cs.name):!0}):xs).when("$required",(Es,xs)=>Cs.required?xs.required("".concat(Cs.label," is required")):xs))}),us.forEach(Cs=>{const{type:Es,fields:xs}=Cs;Es==="Date"&&($s[Cs.name]=create$5().test(Cs.name,Cs.name,ws=>{const ks=xs.find(Vs=>Vs.type==="Date Day"),Is=xs.find(Vs=>Vs.type==="Date Month"),Ts=xs.find(Vs=>Vs.type==="Date Year");if(ks==null||Is==null||Ts==null)return!0;const Rs=hs[ks.name],As=hs[Is.name],Ms=hs[Ts.name];if(Rs==null||As==null||Ms==null)return!0;const Ls=yupDateTransform({day:Rs,month:As,year:Ms});if(!yupFHIRDateRegex.test(Ls))return new ValidationError(DATE_ERROR_MESSAGE,Ls,Cs.name,"matches");const Ds=DateTime.now();return DateTime.fromISO(Ls)>Ds?new ValidationError("Date may not be in the future",Ls,Cs.name):!0}))}),ps($s)},[cs,ts,hs,us,ys]);const vs=ys.watch(),{setValue:bs}=ys;React$1.useEffect(()=>{vs["responsible-party-relationship"]!==hs["responsible-party-relationship"]&&ls&&(vs["responsible-party-relationship"]==="Self"?(bs("responsible-party-first-name",ls["patient-first-name"]),bs("responsible-party-last-name",ls["patient-last-name"]),bs("responsible-party-date-of-birth",ls["patient-dob"]),bs("responsible-party-birth-sex",ls["patient-birth-sex"]),bs("responsible-party-number",ls["account-phone-number"])):hs["responsible-party-relationship"]==="Self"&&(bs("responsible-party-first-name",""),bs("responsible-party-last-name",""),bs("responsible-party-date-of-birth","--"),bs("responsible-party-birth-sex",""),bs("responsible-party-number",""))),JSON.stringify(vs)!==JSON.stringify(hs)&&(ms(vs),os&&os(vs))},[hs,vs,os,bs,ls]);const Ss=()=>{const $s=ns&&ys.handleSubmit((...Cs)=>{ns(...Cs),as&&ys.reset()});return async Cs=>{Cs.preventDefault(),Cs.stopPropagation(),await($s==null?void 0:$s(Cs))}};return jsxRuntimeExports.jsx(FormProvider,{...ys,children:jsxRuntimeExports.jsxs("form",{onSubmit:Ss(),style:{width:"100%"},children:[ts&&jsxRuntimeExports.jsx(Grid$1,{container:!0,spacing:1,children:filterFormInputFields(ts,vs,ys,ls)}),jsxRuntimeExports.jsx("div",{id:"page-form-inner-form"}),is,!ss&&jsxRuntimeExports.jsx(ControlButtons,{...rs})]})})});function ScrollToTop(){const{pathname:ts}=useLocation();return reactExports.useEffect(()=>{document.documentElement.scrollTo({top:0,left:0,behavior:"smooth"})},[ts]),null}const StyledListItemWithButton=ts=>{const{children:ns,primaryText:rs,secondaryText:is,onClick:os,noDivider:ss,hideText:as}=ts,ls=useTheme$1();return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(ListItem$1,{sx:{p:0},children:jsxRuntimeExports.jsxs(ListItemButton$1,{sx:{p:"4px 0"},onClick:os,children:[jsxRuntimeExports.jsx(ListItemAvatar$1,{sx:{display:"flex",justifyContent:"center"},children:jsxRuntimeExports.jsx(Box$1,{sx:{flex:as?0:"auto",transition:"flex 0.5s"},children:ns})}),jsxRuntimeExports.jsx(ListItemText$1,{primary:jsxRuntimeExports.jsx(Typography$1,{noWrap:!0,variant:"subtitle1",children:rs}),secondary:jsxRuntimeExports.jsx(Typography$1,{noWrap:!0,fontSize:"14px",color:ls.palette.text.secondary,children:is}),sx:{opacity:as?"0":"1",transition:"opacity 0.5s"}})]})}),!ss&&jsxRuntimeExports.jsx(Divider$1,{})]})};var Close={},_interopRequireDefault$f=interopRequireDefaultExports;Object.defineProperty(Close,"__esModule",{value:!0});var default_1$f=Close.default=void 0,_createSvgIcon$f=_interopRequireDefault$f(requireCreateSvgIcon()),_jsxRuntime$f=jsxRuntimeExports;default_1$f=Close.default=(0,_createSvgIcon$f.default)((0,_jsxRuntime$f.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");const CustomDialog=ts=>jsxRuntimeExports.jsx(Dialog$1,{maxWidth:"xs",fullWidth:!0,...ts,children:jsxRuntimeExports.jsxs(Paper$1,{sx:{p:5,position:"relative"},children:[ts.children,jsxRuntimeExports.jsx(IconButton$2,{onClick:ns=>ts.onClose&&ts.onClose(ns,"backdropClick"),size:"small",sx:{position:"absolute",right:8,top:8},children:jsxRuntimeExports.jsx(default_1$f,{fontSize:"small",sx:{color:"#938B7D"}})})]})}),CustomTooltip=styled$2(({className:ts,...ns})=>jsxRuntimeExports.jsx(Tooltip$1,{...ns,classes:{popper:ts}}))(({theme:ts})=>({["& .".concat(tooltipClasses$1.tooltip)]:{backgroundColor:"#F9FAFB",color:"#000000",boxShadow:"\n    0px 1px 8px 0px rgba(0, 0, 0, 0.12),\n    0px 3px 4px 0px rgba(0, 0, 0, 0.14),\n    0px 3px 3px -2px rgba(0, 0, 0, 0.20)\n  ",maxWidth:350,padding:5,fontSize:ts.typography.pxToRem(16),border:"1px solid #dadde9"},["& .".concat(tooltipClasses$1.arrow)]:{backgroundColor:"#F9FAFB",boxShadow:"\n    0px 1px 8px 0px rgba(0, 0, 0, 0.12),\n    0px 3px 4px 0px rgba(0, 0, 0, 0.14),\n    0px 3px 3px -2px rgba(0, 0, 0, 0.20)\n  "}}));var HelpOutline={},_interopRequireDefault$e=interopRequireDefaultExports;Object.defineProperty(HelpOutline,"__esModule",{value:!0});var default_1$e=HelpOutline.default=void 0,_createSvgIcon$e=_interopRequireDefault$e(requireCreateSvgIcon()),_jsxRuntime$e=jsxRuntimeExports;default_1$e=HelpOutline.default=(0,_createSvgIcon$e.default)((0,_jsxRuntime$e.jsx)("path",{d:"M11 18h2v-2h-2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4"}),"HelpOutline");var NodeType;(function(ts){ts[ts.Document=0]="Document",ts[ts.DocumentType=1]="DocumentType",ts[ts.Element=2]="Element",ts[ts.Text=3]="Text",ts[ts.CDATA=4]="CDATA",ts[ts.Comment=5]="Comment"})(NodeType||(NodeType={}));function isElement$1(ts){return ts.nodeType===ts.ELEMENT_NODE}function isShadowRoot$1(ts){const ns=ts==null?void 0:ts.host;return(ns==null?void 0:ns.shadowRoot)===ts}function isNativeShadowDom(ts){return Object.prototype.toString.call(ts)==="[object ShadowRoot]"}function fixBrowserCompatibilityIssuesInCSS(ts){return ts.includes(" background-clip: text;")&&!ts.includes(" -webkit-background-clip: text;")&&(ts=ts.replace(" background-clip: text;"," -webkit-background-clip: text; background-clip: text;")),ts}function escapeImportStatement(ts){const{cssText:ns}=ts;if(ns.split('"').length<3)return ns;const rs=["@import","url(".concat(JSON.stringify(ts.href),")")];return ts.layerName===""?rs.push("layer"):ts.layerName&&rs.push("layer(".concat(ts.layerName,")")),ts.supportsText&&rs.push("supports(".concat(ts.supportsText,")")),ts.media.length&&rs.push(ts.media.mediaText),rs.join(" ")+";"}function stringifyStylesheet(ts){try{const ns=ts.rules||ts.cssRules;return ns?fixBrowserCompatibilityIssuesInCSS(Array.from(ns,stringifyRule).join("")):null}catch{return null}}function stringifyRule(ts){let ns;if(isCSSImportRule(ts))try{ns=stringifyStylesheet(ts.styleSheet)||escapeImportStatement(ts)}catch{}else if(isCSSStyleRule(ts)&&ts.selectorText.includes(":"))return fixSafariColons(ts.cssText);return ns||ts.cssText}function fixSafariColons(ts){const ns=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return ts.replace(ns,"$1\\$2")}function isCSSImportRule(ts){return"styleSheet"in ts}function isCSSStyleRule(ts){return"selectorText"in ts}let Mirror$1=class{constructor(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}getId(ns){var rs;if(!ns)return-1;const is=(rs=this.getMeta(ns))===null||rs===void 0?void 0:rs.id;return is!=null?is:-1}getNode(ns){return this.idNodeMap.get(ns)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(ns){return this.nodeMetaMap.get(ns)||null}removeNodeFromMap(ns){const rs=this.getId(ns);this.idNodeMap.delete(rs),ns.childNodes&&ns.childNodes.forEach(is=>this.removeNodeFromMap(is))}has(ns){return this.idNodeMap.has(ns)}hasNode(ns){return this.nodeMetaMap.has(ns)}add(ns,rs){const is=rs.id;this.idNodeMap.set(is,ns),this.nodeMetaMap.set(ns,rs)}replace(ns,rs){const is=this.getNode(ns);if(is){const os=this.nodeMetaMap.get(is);os&&this.nodeMetaMap.set(rs,os)}this.idNodeMap.set(ns,rs)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}};function createMirror(){return new Mirror$1}function maskInputValue({element:ts,maskInputOptions:ns,tagName:rs,type:is,value:os,maskInputFn:ss}){let as=os||"";const ls=is&&toLowerCase(is);return(ns[rs.toLowerCase()]||ls&&ns[ls])&&(ss?as=ss(as,ts):as="*".repeat(as.length)),as}function toLowerCase(ts){return ts.toLowerCase()}const ORIGINAL_ATTRIBUTE_NAME="__rrweb_original__";function is2DCanvasBlank(ts){const ns=ts.getContext("2d");if(!ns)return!0;const rs=50;for(let is=0;is<ts.width;is+=rs)for(let os=0;os<ts.height;os+=rs){const ss=ns.getImageData,as=ORIGINAL_ATTRIBUTE_NAME in ss?ss[ORIGINAL_ATTRIBUTE_NAME]:ss;if(new Uint32Array(as.call(ns,is,os,Math.min(rs,ts.width-is),Math.min(rs,ts.height-os)).data.buffer).some(cs=>cs!==0))return!1}return!0}function getInputType(ts){const ns=ts.type;return ts.hasAttribute("data-rr-is-password")?"password":ns?toLowerCase(ns):null}function extractFileExtension(ts,ns){var rs;let is;try{is=new URL(ts,ns!=null?ns:window.location.href)}catch{return null}const os=/\.([0-9a-z]+)(?:$)/i,ss=is.pathname.match(os);return(rs=ss==null?void 0:ss[1])!==null&&rs!==void 0?rs:null}let _id=1;const tagNameRegex=new RegExp("[^a-z0-9-_:]"),IGNORED_NODE=-2;function genId(){return _id++}function getValidTagName(ts){if(ts instanceof HTMLFormElement)return"form";const ns=toLowerCase(ts.tagName);return tagNameRegex.test(ns)?"div":ns}function extractOrigin(ts){let ns="";return ts.indexOf("//")>-1?ns=ts.split("/").slice(0,3).join("/"):ns=ts.split("/")[0],ns=ns.split("?")[0],ns}let canvasService,canvasCtx;const URL_IN_CSS_REF=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,URL_PROTOCOL_MATCH=/^(?:[a-z+]+:)?\/\//i,URL_WWW_MATCH=/^www\..*/i,DATA_URI=/^(data:)([^,]*),(.*)/i;function absoluteToStylesheet(ts,ns){return(ts||"").replace(URL_IN_CSS_REF,(rs,is,os,ss,as,ls)=>{const cs=os||as||ls,us=is||ss||"";if(!cs)return rs;if(URL_PROTOCOL_MATCH.test(cs)||URL_WWW_MATCH.test(cs)||DATA_URI.test(cs))return"url(".concat(us).concat(cs).concat(us,")");if(cs[0]==="/")return"url(".concat(us).concat(extractOrigin(ns)+cs).concat(us,")");const ds=ns.split("/"),ps=cs.split("/");ds.pop();for(const hs of ps)hs!=="."&&(hs===".."?ds.pop():ds.push(hs));return"url(".concat(us).concat(ds.join("/")).concat(us,")")})}const SRCSET_NOT_SPACES=/^[^ \t\n\r\u000c]+/,SRCSET_COMMAS_OR_SPACES=/^[, \t\n\r\u000c]+/;function getAbsoluteSrcsetString(ts,ns){if(ns.trim()==="")return ns;let rs=0;function is(ss){let as;const ls=ss.exec(ns.substring(rs));return ls?(as=ls[0],rs+=as.length,as):""}const os=[];for(;is(SRCSET_COMMAS_OR_SPACES),!(rs>=ns.length);){let ss=is(SRCSET_NOT_SPACES);if(ss.slice(-1)===",")ss=absoluteToDoc(ts,ss.substring(0,ss.length-1)),os.push(ss);else{let as="";ss=absoluteToDoc(ts,ss);let ls=!1;for(;;){const cs=ns.charAt(rs);if(cs===""){os.push((ss+as).trim());break}else if(ls)cs===")"&&(ls=!1);else if(cs===","){rs+=1,os.push((ss+as).trim());break}else cs==="("&&(ls=!0);as+=cs,rs+=1}}}return os.join(", ")}function absoluteToDoc(ts,ns){if(!ns||ns.trim()==="")return ns;const rs=ts.createElement("a");return rs.href=ns,rs.href}function isSVGElement(ts){return!!(ts.tagName==="svg"||ts.ownerSVGElement)}function getHref(){const ts=document.createElement("a");return ts.href="",ts.href}function transformAttribute(ts,ns,rs,is){return is&&(rs==="src"||rs==="href"&&!(ns==="use"&&is[0]==="#")||rs==="xlink:href"&&is[0]!=="#"||rs==="background"&&(ns==="table"||ns==="td"||ns==="th")?absoluteToDoc(ts,is):rs==="srcset"?getAbsoluteSrcsetString(ts,is):rs==="style"?absoluteToStylesheet(is,getHref()):ns==="object"&&rs==="data"?absoluteToDoc(ts,is):is)}function ignoreAttribute(ts,ns,rs){return(ts==="video"||ts==="audio")&&ns==="autoplay"}function _isBlockedElement(ts,ns,rs){try{if(typeof ns=="string"){if(ts.classList.contains(ns))return!0}else for(let is=ts.classList.length;is--;){const os=ts.classList[is];if(ns.test(os))return!0}if(rs)return ts.matches(rs)}catch{}return!1}function classMatchesRegex(ts,ns,rs){if(!ts)return!1;if(ts.nodeType!==ts.ELEMENT_NODE)return rs?classMatchesRegex(ts.parentNode,ns,rs):!1;for(let is=ts.classList.length;is--;){const os=ts.classList[is];if(ns.test(os))return!0}return rs?classMatchesRegex(ts.parentNode,ns,rs):!1}function needMaskingText(ts,ns,rs,is){try{const os=ts.nodeType===ts.ELEMENT_NODE?ts:ts.parentElement;if(os===null)return!1;if(typeof ns=="string"){if(is){if(os.closest(".".concat(ns)))return!0}else if(os.classList.contains(ns))return!0}else if(classMatchesRegex(os,ns,is))return!0;if(rs){if(is){if(os.closest(rs))return!0}else if(os.matches(rs))return!0}}catch{}return!1}function onceIframeLoaded(ts,ns,rs){const is=ts.contentWindow;if(!is)return;let os=!1,ss;try{ss=is.document.readyState}catch{return}if(ss!=="complete"){const ls=setTimeout(()=>{os||(ns(),os=!0)},rs);ts.addEventListener("load",()=>{clearTimeout(ls),os=!0,ns()});return}const as="about:blank";if(is.location.href!==as||ts.src===as||ts.src==="")return setTimeout(ns,0),ts.addEventListener("load",ns);ts.addEventListener("load",ns)}function onceStylesheetLoaded(ts,ns,rs){let is=!1,os;try{os=ts.sheet}catch{return}if(os)return;const ss=setTimeout(()=>{is||(ns(),is=!0)},rs);ts.addEventListener("load",()=>{clearTimeout(ss),is=!0,ns()})}function serializeNode(ts,ns){const{doc:rs,mirror:is,blockClass:os,blockSelector:ss,needsMask:as,inlineStylesheet:ls,maskInputOptions:cs={},maskTextFn:us,maskInputFn:ds,dataURLOptions:ps={},inlineImages:hs,recordCanvas:ms,keepIframeSrcFn:gs,newlyAddedElement:ys=!1}=ns,vs=getRootId(rs,is);switch(ts.nodeType){case ts.DOCUMENT_NODE:return ts.compatMode!=="CSS1Compat"?{type:NodeType.Document,childNodes:[],compatMode:ts.compatMode}:{type:NodeType.Document,childNodes:[]};case ts.DOCUMENT_TYPE_NODE:return{type:NodeType.DocumentType,name:ts.name,publicId:ts.publicId,systemId:ts.systemId,rootId:vs};case ts.ELEMENT_NODE:return serializeElementNode(ts,{doc:rs,blockClass:os,blockSelector:ss,inlineStylesheet:ls,maskInputOptions:cs,maskInputFn:ds,dataURLOptions:ps,inlineImages:hs,recordCanvas:ms,keepIframeSrcFn:gs,newlyAddedElement:ys,rootId:vs});case ts.TEXT_NODE:return serializeTextNode(ts,{needsMask:as,maskTextFn:us,rootId:vs});case ts.CDATA_SECTION_NODE:return{type:NodeType.CDATA,textContent:"",rootId:vs};case ts.COMMENT_NODE:return{type:NodeType.Comment,textContent:ts.textContent||"",rootId:vs};default:return!1}}function getRootId(ts,ns){if(!ns.hasNode(ts))return;const rs=ns.getId(ts);return rs===1?void 0:rs}function serializeTextNode(ts,ns){var rs;const{needsMask:is,maskTextFn:os,rootId:ss}=ns,as=ts.parentNode&&ts.parentNode.tagName;let ls=ts.textContent;const cs=as==="STYLE"?!0:void 0,us=as==="SCRIPT"?!0:void 0;if(cs&&ls){try{ts.nextSibling||ts.previousSibling||!((rs=ts.parentNode.sheet)===null||rs===void 0)&&rs.cssRules&&(ls=stringifyStylesheet(ts.parentNode.sheet))}catch(ds){console.warn("Cannot get CSS styles from text's parentNode. Error: ".concat(ds),ts)}ls=absoluteToStylesheet(ls,getHref())}return us&&(ls="SCRIPT_PLACEHOLDER"),!cs&&!us&&ls&&is&&(ls=os?os(ls,ts.parentElement):ls.replace(/[\S]/g,"*")),{type:NodeType.Text,textContent:ls||"",isStyle:cs,rootId:ss}}function serializeElementNode(ts,ns){const{doc:rs,blockClass:is,blockSelector:os,inlineStylesheet:ss,maskInputOptions:as={},maskInputFn:ls,dataURLOptions:cs={},inlineImages:us,recordCanvas:ds,keepIframeSrcFn:ps,newlyAddedElement:hs=!1,rootId:ms}=ns,gs=_isBlockedElement(ts,is,os),ys=getValidTagName(ts);let vs={};const bs=ts.attributes.length;for(let $s=0;$s<bs;$s++){const Cs=ts.attributes[$s];ignoreAttribute(ys,Cs.name,Cs.value)||(vs[Cs.name]=transformAttribute(rs,ys,toLowerCase(Cs.name),Cs.value))}if(ys==="link"&&ss){const $s=Array.from(rs.styleSheets).find(Es=>Es.href===ts.href);let Cs=null;$s&&(Cs=stringifyStylesheet($s)),Cs&&(delete vs.rel,delete vs.href,vs._cssText=absoluteToStylesheet(Cs,$s.href))}if(ys==="style"&&ts.sheet&&!(ts.innerText||ts.textContent||"").trim().length){const $s=stringifyStylesheet(ts.sheet);$s&&(vs._cssText=absoluteToStylesheet($s,getHref()))}if(ys==="input"||ys==="textarea"||ys==="select"){const $s=ts.value,Cs=ts.checked;vs.type!=="radio"&&vs.type!=="checkbox"&&vs.type!=="submit"&&vs.type!=="button"&&$s?vs.value=maskInputValue({element:ts,type:getInputType(ts),tagName:ys,value:$s,maskInputOptions:as,maskInputFn:ls}):Cs&&(vs.checked=Cs)}if(ys==="option"&&(ts.selected&&!as.select?vs.selected=!0:delete vs.selected),ys==="canvas"&&ds){if(ts.__context==="2d")is2DCanvasBlank(ts)||(vs.rr_dataURL=ts.toDataURL(cs.type,cs.quality));else if(!("__context"in ts)){const $s=ts.toDataURL(cs.type,cs.quality),Cs=document.createElement("canvas");Cs.width=ts.width,Cs.height=ts.height;const Es=Cs.toDataURL(cs.type,cs.quality);$s!==Es&&(vs.rr_dataURL=$s)}}if(ys==="img"&&us){canvasService||(canvasService=rs.createElement("canvas"),canvasCtx=canvasService.getContext("2d"));const $s=ts,Cs=$s.crossOrigin;$s.crossOrigin="anonymous";const Es=()=>{$s.removeEventListener("load",Es);try{canvasService.width=$s.naturalWidth,canvasService.height=$s.naturalHeight,canvasCtx.drawImage($s,0,0),vs.rr_dataURL=canvasService.toDataURL(cs.type,cs.quality)}catch(xs){console.warn("Cannot inline img src=".concat($s.currentSrc,"! Error: ").concat(xs))}Cs?vs.crossOrigin=Cs:$s.removeAttribute("crossorigin")};$s.complete&&$s.naturalWidth!==0?Es():$s.addEventListener("load",Es)}if(ys==="audio"||ys==="video"){const $s=vs;$s.rr_mediaState=ts.paused?"paused":"played",$s.rr_mediaCurrentTime=ts.currentTime,$s.rr_mediaPlaybackRate=ts.playbackRate,$s.rr_mediaMuted=ts.muted,$s.rr_mediaLoop=ts.loop,$s.rr_mediaVolume=ts.volume}if(hs||(ts.scrollLeft&&(vs.rr_scrollLeft=ts.scrollLeft),ts.scrollTop&&(vs.rr_scrollTop=ts.scrollTop)),gs){const{width:$s,height:Cs}=ts.getBoundingClientRect();vs={class:vs.class,rr_width:"".concat($s,"px"),rr_height:"".concat(Cs,"px")}}ys==="iframe"&&!ps(vs.src)&&(ts.contentDocument||(vs.rr_src=vs.src),delete vs.src);let Ss;try{customElements.get(ys)&&(Ss=!0)}catch{}return{type:NodeType.Element,tagName:ys,attributes:vs,childNodes:[],isSVG:isSVGElement(ts)||void 0,needBlock:gs,rootId:ms,isCustom:Ss}}function lowerIfExists(ts){return ts==null?"":ts.toLowerCase()}function slimDOMExcluded(ts,ns){if(ns.comment&&ts.type===NodeType.Comment)return!0;if(ts.type===NodeType.Element){if(ns.script&&(ts.tagName==="script"||ts.tagName==="link"&&(ts.attributes.rel==="preload"||ts.attributes.rel==="modulepreload")&&ts.attributes.as==="script"||ts.tagName==="link"&&ts.attributes.rel==="prefetch"&&typeof ts.attributes.href=="string"&&extractFileExtension(ts.attributes.href)==="js"))return!0;if(ns.headFavicon&&(ts.tagName==="link"&&ts.attributes.rel==="shortcut icon"||ts.tagName==="meta"&&(lowerIfExists(ts.attributes.name).match(/^msapplication-tile(image|color)$/)||lowerIfExists(ts.attributes.name)==="application-name"||lowerIfExists(ts.attributes.rel)==="icon"||lowerIfExists(ts.attributes.rel)==="apple-touch-icon"||lowerIfExists(ts.attributes.rel)==="shortcut icon")))return!0;if(ts.tagName==="meta"){if(ns.headMetaDescKeywords&&lowerIfExists(ts.attributes.name).match(/^description|keywords$/))return!0;if(ns.headMetaSocial&&(lowerIfExists(ts.attributes.property).match(/^(og|twitter|fb):/)||lowerIfExists(ts.attributes.name).match(/^(og|twitter):/)||lowerIfExists(ts.attributes.name)==="pinterest"))return!0;if(ns.headMetaRobots&&(lowerIfExists(ts.attributes.name)==="robots"||lowerIfExists(ts.attributes.name)==="googlebot"||lowerIfExists(ts.attributes.name)==="bingbot"))return!0;if(ns.headMetaHttpEquiv&&ts.attributes["http-equiv"]!==void 0)return!0;if(ns.headMetaAuthorship&&(lowerIfExists(ts.attributes.name)==="author"||lowerIfExists(ts.attributes.name)==="generator"||lowerIfExists(ts.attributes.name)==="framework"||lowerIfExists(ts.attributes.name)==="publisher"||lowerIfExists(ts.attributes.name)==="progid"||lowerIfExists(ts.attributes.property).match(/^article:/)||lowerIfExists(ts.attributes.property).match(/^product:/)))return!0;if(ns.headMetaVerification&&(lowerIfExists(ts.attributes.name)==="google-site-verification"||lowerIfExists(ts.attributes.name)==="yandex-verification"||lowerIfExists(ts.attributes.name)==="csrf-token"||lowerIfExists(ts.attributes.name)==="p:domain_verify"||lowerIfExists(ts.attributes.name)==="verify-v1"||lowerIfExists(ts.attributes.name)==="verification"||lowerIfExists(ts.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function serializeNodeWithId(ts,ns){const{doc:rs,mirror:is,blockClass:os,blockSelector:ss,maskTextClass:as,maskTextSelector:ls,skipChild:cs=!1,inlineStylesheet:us=!0,maskInputOptions:ds={},maskTextFn:ps,maskInputFn:hs,slimDOMOptions:ms,dataURLOptions:gs={},inlineImages:ys=!1,recordCanvas:vs=!1,onSerialize:bs,onIframeLoad:Ss,iframeLoadTimeout:$s=5e3,onStylesheetLoad:Cs,stylesheetLoadTimeout:Es=5e3,keepIframeSrcFn:xs=()=>!1,newlyAddedElement:ws=!1}=ns;let{needsMask:ks}=ns,{preserveWhiteSpace:Is=!0}=ns;!ks&&ts.childNodes&&(ks=needMaskingText(ts,as,ls,ks===void 0));const Ts=serializeNode(ts,{doc:rs,mirror:is,blockClass:os,blockSelector:ss,needsMask:ks,inlineStylesheet:us,maskInputOptions:ds,maskTextFn:ps,maskInputFn:hs,dataURLOptions:gs,inlineImages:ys,recordCanvas:vs,keepIframeSrcFn:xs,newlyAddedElement:ws});if(!Ts)return console.warn(ts,"not serialized"),null;let Rs;is.hasNode(ts)?Rs=is.getId(ts):slimDOMExcluded(Ts,ms)||!Is&&Ts.type===NodeType.Text&&!Ts.isStyle&&!Ts.textContent.replace(/^\s+|\s+$/gm,"").length?Rs=IGNORED_NODE:Rs=genId();const As=Object.assign(Ts,{id:Rs});if(is.add(ts,As),Rs===IGNORED_NODE)return null;bs&&bs(ts);let Ms=!cs;if(As.type===NodeType.Element){Ms=Ms&&!As.needBlock,delete As.needBlock;const Ls=ts.shadowRoot;Ls&&isNativeShadowDom(Ls)&&(As.isShadowHost=!0)}if((As.type===NodeType.Document||As.type===NodeType.Element)&&Ms){ms.headWhitespace&&As.type===NodeType.Element&&As.tagName==="head"&&(Is=!1);const Ls={doc:rs,mirror:is,blockClass:os,blockSelector:ss,needsMask:ks,maskTextClass:as,maskTextSelector:ls,skipChild:cs,inlineStylesheet:us,maskInputOptions:ds,maskTextFn:ps,maskInputFn:hs,slimDOMOptions:ms,dataURLOptions:gs,inlineImages:ys,recordCanvas:vs,preserveWhiteSpace:Is,onSerialize:bs,onIframeLoad:Ss,iframeLoadTimeout:$s,onStylesheetLoad:Cs,stylesheetLoadTimeout:Es,keepIframeSrcFn:xs};if(!(As.type===NodeType.Element&&As.tagName==="textarea"&&As.attributes.value!==void 0))for(const Ds of Array.from(ts.childNodes)){const Fs=serializeNodeWithId(Ds,Ls);Fs&&As.childNodes.push(Fs)}if(isElement$1(ts)&&ts.shadowRoot)for(const Ds of Array.from(ts.shadowRoot.childNodes)){const Fs=serializeNodeWithId(Ds,Ls);Fs&&(isNativeShadowDom(ts.shadowRoot)&&(Fs.isShadow=!0),As.childNodes.push(Fs))}}return ts.parentNode&&isShadowRoot$1(ts.parentNode)&&isNativeShadowDom(ts.parentNode)&&(As.isShadow=!0),As.type===NodeType.Element&&As.tagName==="iframe"&&onceIframeLoaded(ts,()=>{const Ls=ts.contentDocument;if(Ls&&Ss){const Ds=serializeNodeWithId(Ls,{doc:Ls,mirror:is,blockClass:os,blockSelector:ss,needsMask:ks,maskTextClass:as,maskTextSelector:ls,skipChild:!1,inlineStylesheet:us,maskInputOptions:ds,maskTextFn:ps,maskInputFn:hs,slimDOMOptions:ms,dataURLOptions:gs,inlineImages:ys,recordCanvas:vs,preserveWhiteSpace:Is,onSerialize:bs,onIframeLoad:Ss,iframeLoadTimeout:$s,onStylesheetLoad:Cs,stylesheetLoadTimeout:Es,keepIframeSrcFn:xs});Ds&&Ss(ts,Ds)}},$s),As.type===NodeType.Element&&As.tagName==="link"&&typeof As.attributes.rel=="string"&&(As.attributes.rel==="stylesheet"||As.attributes.rel==="preload"&&typeof As.attributes.href=="string"&&extractFileExtension(As.attributes.href)==="css")&&onceStylesheetLoaded(ts,()=>{if(Cs){const Ls=serializeNodeWithId(ts,{doc:rs,mirror:is,blockClass:os,blockSelector:ss,needsMask:ks,maskTextClass:as,maskTextSelector:ls,skipChild:!1,inlineStylesheet:us,maskInputOptions:ds,maskTextFn:ps,maskInputFn:hs,slimDOMOptions:ms,dataURLOptions:gs,inlineImages:ys,recordCanvas:vs,preserveWhiteSpace:Is,onSerialize:bs,onIframeLoad:Ss,iframeLoadTimeout:$s,onStylesheetLoad:Cs,stylesheetLoadTimeout:Es,keepIframeSrcFn:xs});Ls&&Cs(ts,Ls)}},Es),As}function snapshot(ts,ns){const{mirror:rs=new Mirror$1,blockClass:is="rr-block",blockSelector:os=null,maskTextClass:ss="rr-mask",maskTextSelector:as=null,inlineStylesheet:ls=!0,inlineImages:cs=!1,recordCanvas:us=!1,maskAllInputs:ds=!1,maskTextFn:ps,maskInputFn:hs,slimDOM:ms=!1,dataURLOptions:gs,preserveWhiteSpace:ys,onSerialize:vs,onIframeLoad:bs,iframeLoadTimeout:Ss,onStylesheetLoad:$s,stylesheetLoadTimeout:Cs,keepIframeSrcFn:Es=()=>!1}=ns||{};return serializeNodeWithId(ts,{doc:ts,mirror:rs,blockClass:is,blockSelector:os,maskTextClass:ss,maskTextSelector:as,skipChild:!1,inlineStylesheet:ls,maskInputOptions:ds===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:ds===!1?{password:!0}:ds,maskTextFn:ps,maskInputFn:hs,slimDOMOptions:ms===!0||ms==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:ms==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:ms===!1?{}:ms,dataURLOptions:gs,inlineImages:cs,recordCanvas:us,preserveWhiteSpace:ys,onSerialize:vs,onIframeLoad:bs,iframeLoadTimeout:Ss,onStylesheetLoad:$s,stylesheetLoadTimeout:Cs,keepIframeSrcFn:Es,newlyAddedElement:!1})}function on(ts,ns,rs=document){const is={capture:!0,passive:!0};return rs.addEventListener(ts,ns,is),()=>rs.removeEventListener(ts,ns,is)}const DEPARTED_MIRROR_ACCESS_WARNING="Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.";let _mirror={map:{},getId(){return console.error(DEPARTED_MIRROR_ACCESS_WARNING),-1},getNode(){return console.error(DEPARTED_MIRROR_ACCESS_WARNING),null},removeNodeFromMap(){console.error(DEPARTED_MIRROR_ACCESS_WARNING)},has(){return console.error(DEPARTED_MIRROR_ACCESS_WARNING),!1},reset(){console.error(DEPARTED_MIRROR_ACCESS_WARNING)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(_mirror=new Proxy(_mirror,{get(ts,ns,rs){return ns==="map"&&console.error(DEPARTED_MIRROR_ACCESS_WARNING),Reflect.get(ts,ns,rs)}}));function throttle$1(ts,ns,rs={}){let is=null,os=0;return function(...ss){const as=Date.now();!os&&rs.leading===!1&&(os=as);const ls=ns-(as-os),cs=this;ls<=0||ls>ns?(is&&(clearTimeout(is),is=null),os=as,ts.apply(cs,ss)):!is&&rs.trailing!==!1&&(is=setTimeout(()=>{os=rs.leading===!1?0:Date.now(),is=null,ts.apply(cs,ss)},ls))}}function hookSetter(ts,ns,rs,is,os=window){const ss=os.Object.getOwnPropertyDescriptor(ts,ns);return os.Object.defineProperty(ts,ns,is?rs:{set(as){setTimeout(()=>{rs.set.call(this,as)},0),ss&&ss.set&&ss.set.call(this,as)}}),()=>hookSetter(ts,ns,ss||{},!0)}function patch(ts,ns,rs){try{if(!(ns in ts))return()=>{};const is=ts[ns],os=rs(is);return typeof os=="function"&&(os.prototype=os.prototype||{},Object.defineProperties(os,{__rrweb_original__:{enumerable:!1,value:is}})),ts[ns]=os,()=>{ts[ns]=is}}catch{return()=>{}}}let nowTimestamp=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(nowTimestamp=()=>new Date().getTime());function getWindowScroll$1(ts){var ns,rs,is,os,ss,as;const ls=ts.document;return{left:ls.scrollingElement?ls.scrollingElement.scrollLeft:ts.pageXOffset!==void 0?ts.pageXOffset:(ls==null?void 0:ls.documentElement.scrollLeft)||((rs=(ns=ls==null?void 0:ls.body)===null||ns===void 0?void 0:ns.parentElement)===null||rs===void 0?void 0:rs.scrollLeft)||((is=ls==null?void 0:ls.body)===null||is===void 0?void 0:is.scrollLeft)||0,top:ls.scrollingElement?ls.scrollingElement.scrollTop:ts.pageYOffset!==void 0?ts.pageYOffset:(ls==null?void 0:ls.documentElement.scrollTop)||((ss=(os=ls==null?void 0:ls.body)===null||os===void 0?void 0:os.parentElement)===null||ss===void 0?void 0:ss.scrollTop)||((as=ls==null?void 0:ls.body)===null||as===void 0?void 0:as.scrollTop)||0}}function getWindowHeight(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function getWindowWidth(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function closestElementOfNode(ts){return ts?ts.nodeType===ts.ELEMENT_NODE?ts:ts.parentElement:null}function isBlocked(ts,ns,rs,is){if(!ts)return!1;const os=closestElementOfNode(ts);if(!os)return!1;try{if(typeof ns=="string"){if(os.classList.contains(ns)||is&&os.closest("."+ns)!==null)return!0}else if(classMatchesRegex(os,ns,is))return!0}catch{}return!!(rs&&(os.matches(rs)||is&&os.closest(rs)!==null))}function isSerialized(ts,ns){return ns.getId(ts)!==-1}function isIgnored(ts,ns){return ns.getId(ts)===IGNORED_NODE}function isAncestorRemoved(ts,ns){if(isShadowRoot$1(ts))return!1;const rs=ns.getId(ts);return ns.has(rs)?ts.parentNode&&ts.parentNode.nodeType===ts.DOCUMENT_NODE?!1:ts.parentNode?isAncestorRemoved(ts.parentNode,ns):!0:!0}function legacy_isTouchEvent(ts){return!!ts.changedTouches}function polyfill(ts=window){"NodeList"in ts&&!ts.NodeList.prototype.forEach&&(ts.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in ts&&!ts.DOMTokenList.prototype.forEach&&(ts.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...ns)=>{let rs=ns[0];if(!(0 in ns))throw new TypeError("1 argument is required");do if(this===rs)return!0;while(rs=rs&&rs.parentNode);return!1})}function isSerializedIframe(ts,ns){return!!(ts.nodeName==="IFRAME"&&ns.getMeta(ts))}function isSerializedStylesheet(ts,ns){return!!(ts.nodeName==="LINK"&&ts.nodeType===ts.ELEMENT_NODE&&ts.getAttribute&&ts.getAttribute("rel")==="stylesheet"&&ns.getMeta(ts))}function hasShadowRoot(ts){return!!(ts!=null&&ts.shadowRoot)}class StyleSheetMirror{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(ns){var rs;return(rs=this.styleIDMap.get(ns))!==null&&rs!==void 0?rs:-1}has(ns){return this.styleIDMap.has(ns)}add(ns,rs){if(this.has(ns))return this.getId(ns);let is;return rs===void 0?is=this.id++:is=rs,this.styleIDMap.set(ns,is),this.idStyleMap.set(is,ns),is}getStyle(ns){return this.idStyleMap.get(ns)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function getShadowHost(ts){var ns,rs;let is=null;return((rs=(ns=ts.getRootNode)===null||ns===void 0?void 0:ns.call(ts))===null||rs===void 0?void 0:rs.nodeType)===Node.DOCUMENT_FRAGMENT_NODE&&ts.getRootNode().host&&(is=ts.getRootNode().host),is}function getRootShadowHost(ts){let ns=ts,rs;for(;rs=getShadowHost(ns);)ns=rs;return ns}function shadowHostInDom(ts){const ns=ts.ownerDocument;if(!ns)return!1;const rs=getRootShadowHost(ts);return ns.contains(rs)}function inDom(ts){const ns=ts.ownerDocument;return ns?ns.contains(ts)||shadowHostInDom(ts):!1}var EventType$1=(ts=>(ts[ts.DomContentLoaded=0]="DomContentLoaded",ts[ts.Load=1]="Load",ts[ts.FullSnapshot=2]="FullSnapshot",ts[ts.IncrementalSnapshot=3]="IncrementalSnapshot",ts[ts.Meta=4]="Meta",ts[ts.Custom=5]="Custom",ts[ts.Plugin=6]="Plugin",ts))(EventType$1||{}),IncrementalSource$1=(ts=>(ts[ts.Mutation=0]="Mutation",ts[ts.MouseMove=1]="MouseMove",ts[ts.MouseInteraction=2]="MouseInteraction",ts[ts.Scroll=3]="Scroll",ts[ts.ViewportResize=4]="ViewportResize",ts[ts.Input=5]="Input",ts[ts.TouchMove=6]="TouchMove",ts[ts.MediaInteraction=7]="MediaInteraction",ts[ts.StyleSheetRule=8]="StyleSheetRule",ts[ts.CanvasMutation=9]="CanvasMutation",ts[ts.Font=10]="Font",ts[ts.Log=11]="Log",ts[ts.Drag=12]="Drag",ts[ts.StyleDeclaration=13]="StyleDeclaration",ts[ts.Selection=14]="Selection",ts[ts.AdoptedStyleSheet=15]="AdoptedStyleSheet",ts[ts.CustomElement=16]="CustomElement",ts))(IncrementalSource$1||{}),MouseInteractions=(ts=>(ts[ts.MouseUp=0]="MouseUp",ts[ts.MouseDown=1]="MouseDown",ts[ts.Click=2]="Click",ts[ts.ContextMenu=3]="ContextMenu",ts[ts.DblClick=4]="DblClick",ts[ts.Focus=5]="Focus",ts[ts.Blur=6]="Blur",ts[ts.TouchStart=7]="TouchStart",ts[ts.TouchMove_Departed=8]="TouchMove_Departed",ts[ts.TouchEnd=9]="TouchEnd",ts[ts.TouchCancel=10]="TouchCancel",ts))(MouseInteractions||{}),PointerTypes=(ts=>(ts[ts.Mouse=0]="Mouse",ts[ts.Pen=1]="Pen",ts[ts.Touch=2]="Touch",ts))(PointerTypes||{}),CanvasContext=(ts=>(ts[ts["2D"]=0]="2D",ts[ts.WebGL=1]="WebGL",ts[ts.WebGL2=2]="WebGL2",ts))(CanvasContext||{});function isNodeInLinkedList(ts){return"__ln"in ts}class DoubleLinkedList{constructor(){this.length=0,this.head=null,this.tail=null}get(ns){if(ns>=this.length)throw new Error("Position outside of list range");let rs=this.head;for(let is=0;is<ns;is++)rs=(rs==null?void 0:rs.next)||null;return rs}addNode(ns){const rs={value:ns,previous:null,next:null};if(ns.__ln=rs,ns.previousSibling&&isNodeInLinkedList(ns.previousSibling)){const is=ns.previousSibling.__ln.next;rs.next=is,rs.previous=ns.previousSibling.__ln,ns.previousSibling.__ln.next=rs,is&&(is.previous=rs)}else if(ns.nextSibling&&isNodeInLinkedList(ns.nextSibling)&&ns.nextSibling.__ln.previous){const is=ns.nextSibling.__ln.previous;rs.previous=is,rs.next=ns.nextSibling.__ln,ns.nextSibling.__ln.previous=rs,is&&(is.next=rs)}else this.head&&(this.head.previous=rs),rs.next=this.head,this.head=rs;rs.next===null&&(this.tail=rs),this.length++}removeNode(ns){const rs=ns.__ln;this.head&&(rs.previous?(rs.previous.next=rs.next,rs.next?rs.next.previous=rs.previous:this.tail=rs.previous):(this.head=rs.next,this.head?this.head.previous=null:this.tail=null),ns.__ln&&delete ns.__ln,this.length--)}}const moveKey=(ts,ns)=>"".concat(ts,"@").concat(ns);class MutationBuffer{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=ns=>{ns.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const ns=[],rs=new Set,is=new DoubleLinkedList,os=cs=>{let us=cs,ds=IGNORED_NODE;for(;ds===IGNORED_NODE;)us=us&&us.nextSibling,ds=us&&this.mirror.getId(us);return ds},ss=cs=>{if(!cs.parentNode||!inDom(cs)||cs.parentNode.tagName==="TEXTAREA")return;const us=isShadowRoot$1(cs.parentNode)?this.mirror.getId(getShadowHost(cs)):this.mirror.getId(cs.parentNode),ds=os(cs);if(us===-1||ds===-1)return is.addNode(cs);const ps=serializeNodeWithId(cs,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskTextClass:this.maskTextClass,maskTextSelector:this.maskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:hs=>{isSerializedIframe(hs,this.mirror)&&this.iframeManager.addIframe(hs),isSerializedStylesheet(hs,this.mirror)&&this.stylesheetManager.trackLinkElement(hs),hasShadowRoot(cs)&&this.shadowDomManager.addShadowRoot(cs.shadowRoot,this.doc)},onIframeLoad:(hs,ms)=>{this.iframeManager.attachIframe(hs,ms),this.shadowDomManager.observeAttachShadow(hs)},onStylesheetLoad:(hs,ms)=>{this.stylesheetManager.attachLinkElement(hs,ms)}});ps&&(ns.push({parentId:us,nextId:ds,node:ps}),rs.add(ps.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const cs of this.movedSet)isParentRemoved(this.removes,cs,this.mirror)&&!this.movedSet.has(cs.parentNode)||ss(cs);for(const cs of this.addedSet)!isAncestorInSet(this.droppedSet,cs)&&!isParentRemoved(this.removes,cs,this.mirror)||isAncestorInSet(this.movedSet,cs)?ss(cs):this.droppedSet.add(cs);let as=null;for(;is.length;){let cs=null;if(as){const us=this.mirror.getId(as.value.parentNode),ds=os(as.value);us!==-1&&ds!==-1&&(cs=as)}if(!cs){let us=is.tail;for(;us;){const ds=us;if(us=us.previous,ds){const ps=this.mirror.getId(ds.value.parentNode);if(os(ds.value)===-1)continue;if(ps!==-1){cs=ds;break}else{const ms=ds.value;if(ms.parentNode&&ms.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const gs=ms.parentNode.host;if(this.mirror.getId(gs)!==-1){cs=ds;break}}}}}}if(!cs){for(;is.head;)is.removeNode(is.head.value);break}as=cs.previous,is.removeNode(cs.value),ss(cs.value)}const ls={texts:this.texts.map(cs=>{const us=cs.node;return us.parentNode&&us.parentNode.tagName==="TEXTAREA"&&this.genTextAreaValueMutation(us.parentNode),{id:this.mirror.getId(us),value:cs.value}}).filter(cs=>!rs.has(cs.id)).filter(cs=>this.mirror.has(cs.id)),attributes:this.attributes.map(cs=>{const{attributes:us}=cs;if(typeof us.style=="string"){const ds=JSON.stringify(cs.styleDiff),ps=JSON.stringify(cs._unchangedStyles);ds.length<us.style.length&&(ds+ps).split("var(").length===us.style.split("var(").length&&(us.style=cs.styleDiff)}return{id:this.mirror.getId(cs.node),attributes:us}}).filter(cs=>!rs.has(cs.id)).filter(cs=>this.mirror.has(cs.id)),removes:this.removes,adds:ns};!ls.texts.length&&!ls.attributes.length&&!ls.removes.length&&!ls.adds.length||(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(ls))},this.genTextAreaValueMutation=ns=>{let rs=this.attributeMap.get(ns);rs||(rs={node:ns,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(rs),this.attributeMap.set(ns,rs)),rs.attributes.value=Array.from(ns.childNodes,is=>is.textContent||"").join("")},this.processMutation=ns=>{if(!isIgnored(ns.target,this.mirror))switch(ns.type){case"characterData":{const rs=ns.target.textContent;!isBlocked(ns.target,this.blockClass,this.blockSelector,!1)&&rs!==ns.oldValue&&this.texts.push({value:needMaskingText(ns.target,this.maskTextClass,this.maskTextSelector,!0)&&rs?this.maskTextFn?this.maskTextFn(rs,closestElementOfNode(ns.target)):rs.replace(/[\S]/g,"*"):rs,node:ns.target});break}case"attributes":{const rs=ns.target;let is=ns.attributeName,os=ns.target.getAttribute(is);if(is==="value"){const as=getInputType(rs);os=maskInputValue({element:rs,maskInputOptions:this.maskInputOptions,tagName:rs.tagName,type:as,value:os,maskInputFn:this.maskInputFn})}if(isBlocked(ns.target,this.blockClass,this.blockSelector,!1)||os===ns.oldValue)return;let ss=this.attributeMap.get(ns.target);if(rs.tagName==="IFRAME"&&is==="src"&&!this.keepIframeSrcFn(os))if(!rs.contentDocument)is="rr_src";else return;if(ss||(ss={node:ns.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(ss),this.attributeMap.set(ns.target,ss)),is==="type"&&rs.tagName==="INPUT"&&(ns.oldValue||"").toLowerCase()==="password"&&rs.setAttribute("data-rr-is-password","true"),!ignoreAttribute(rs.tagName,is)&&(ss.attributes[is]=transformAttribute(this.doc,toLowerCase(rs.tagName),toLowerCase(is),os),is==="style")){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch{this.unattachedDoc=this.doc}const as=this.unattachedDoc.createElement("span");ns.oldValue&&as.setAttribute("style",ns.oldValue);for(const ls of Array.from(rs.style)){const cs=rs.style.getPropertyValue(ls),us=rs.style.getPropertyPriority(ls);cs!==as.style.getPropertyValue(ls)||us!==as.style.getPropertyPriority(ls)?us===""?ss.styleDiff[ls]=cs:ss.styleDiff[ls]=[cs,us]:ss._unchangedStyles[ls]=[cs,us]}for(const ls of Array.from(as.style))rs.style.getPropertyValue(ls)===""&&(ss.styleDiff[ls]=!1)}break}case"childList":{if(isBlocked(ns.target,this.blockClass,this.blockSelector,!0))return;if(ns.target.tagName==="TEXTAREA"){this.genTextAreaValueMutation(ns.target);return}ns.addedNodes.forEach(rs=>this.genAdds(rs,ns.target)),ns.removedNodes.forEach(rs=>{const is=this.mirror.getId(rs),os=isShadowRoot$1(ns.target)?this.mirror.getId(ns.target.host):this.mirror.getId(ns.target);isBlocked(ns.target,this.blockClass,this.blockSelector,!1)||isIgnored(rs,this.mirror)||!isSerialized(rs,this.mirror)||(this.addedSet.has(rs)?(deepDelete(this.addedSet,rs),this.droppedSet.add(rs)):this.addedSet.has(ns.target)&&is===-1||isAncestorRemoved(ns.target,this.mirror)||(this.movedSet.has(rs)&&this.movedMap[moveKey(is,os)]?deepDelete(this.movedSet,rs):this.removes.push({parentId:os,id:is,isShadow:isShadowRoot$1(ns.target)&&isNativeShadowDom(ns.target)?!0:void 0})),this.mapRemoves.push(rs))});break}}},this.genAdds=(ns,rs)=>{if(!this.processedNodeManager.inOtherBuffer(ns,this)&&!(this.addedSet.has(ns)||this.movedSet.has(ns))){if(this.mirror.hasNode(ns)){if(isIgnored(ns,this.mirror))return;this.movedSet.add(ns);let is=null;rs&&this.mirror.hasNode(rs)&&(is=this.mirror.getId(rs)),is&&is!==-1&&(this.movedMap[moveKey(this.mirror.getId(ns),is)]=!0)}else this.addedSet.add(ns),this.droppedSet.delete(ns);isBlocked(ns,this.blockClass,this.blockSelector,!1)||(ns.childNodes.forEach(is=>this.genAdds(is)),hasShadowRoot(ns)&&ns.shadowRoot.childNodes.forEach(is=>{this.processedNodeManager.add(is,this),this.genAdds(is,ns)}))}}}init(ns){["mutationCb","blockClass","blockSelector","maskTextClass","maskTextSelector","inlineStylesheet","maskInputOptions","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(rs=>{this[rs]=ns[rs]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function deepDelete(ts,ns){ts.delete(ns),ns.childNodes.forEach(rs=>deepDelete(ts,rs))}function isParentRemoved(ts,ns,rs){return ts.length===0?!1:_isParentRemoved(ts,ns,rs)}function _isParentRemoved(ts,ns,rs){const{parentNode:is}=ns;if(!is)return!1;const os=rs.getId(is);return ts.some(ss=>ss.id===os)?!0:_isParentRemoved(ts,is,rs)}function isAncestorInSet(ts,ns){return ts.size===0?!1:_isAncestorInSet(ts,ns)}function _isAncestorInSet(ts,ns){const{parentNode:rs}=ns;return rs?ts.has(rs)?!0:_isAncestorInSet(ts,rs):!1}let errorHandler;function registerErrorHandler(ts){errorHandler=ts}function unregisterErrorHandler(){errorHandler=void 0}const callbackWrapper=ts=>errorHandler?(...rs)=>{try{return ts(...rs)}catch(is){if(errorHandler&&errorHandler(is)===!0)return;throw is}}:ts,mutationBuffers=[];function getEventTarget(ts){try{if("composedPath"in ts){const ns=ts.composedPath();if(ns.length)return ns[0]}else if("path"in ts&&ts.path.length)return ts.path[0]}catch{}return ts&&ts.target}function initMutationObserver(ts,ns){var rs,is;const os=new MutationBuffer;mutationBuffers.push(os),os.init(ts);let ss=window.MutationObserver||window.__rrMutationObserver;const as=(is=(rs=window==null?void 0:window.Zone)===null||rs===void 0?void 0:rs.__symbol__)===null||is===void 0?void 0:is.call(rs,"MutationObserver");as&&window[as]&&(ss=window[as]);const ls=new ss(callbackWrapper(os.processMutations.bind(os)));return ls.observe(ns,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),ls}function initMoveObserver({mousemoveCb:ts,sampling:ns,doc:rs,mirror:is}){if(ns.mousemove===!1)return()=>{};const os=typeof ns.mousemove=="number"?ns.mousemove:50,ss=typeof ns.mousemoveCallback=="number"?ns.mousemoveCallback:500;let as=[],ls;const cs=throttle$1(callbackWrapper(ps=>{const hs=Date.now()-ls;ts(as.map(ms=>(ms.timeOffset-=hs,ms)),ps),as=[],ls=null}),ss),us=callbackWrapper(throttle$1(callbackWrapper(ps=>{const hs=getEventTarget(ps),{clientX:ms,clientY:gs}=legacy_isTouchEvent(ps)?ps.changedTouches[0]:ps;ls||(ls=nowTimestamp()),as.push({x:ms,y:gs,id:is.getId(hs),timeOffset:nowTimestamp()-ls}),cs(typeof DragEvent<"u"&&ps instanceof DragEvent?IncrementalSource$1.Drag:ps instanceof MouseEvent?IncrementalSource$1.MouseMove:IncrementalSource$1.TouchMove)}),os,{trailing:!1})),ds=[on("mousemove",us,rs),on("touchmove",us,rs),on("drag",us,rs)];return callbackWrapper(()=>{ds.forEach(ps=>ps())})}function initMouseInteractionObserver({mouseInteractionCb:ts,doc:ns,mirror:rs,blockClass:is,blockSelector:os,sampling:ss}){if(ss.mouseInteraction===!1)return()=>{};const as=ss.mouseInteraction===!0||ss.mouseInteraction===void 0?{}:ss.mouseInteraction,ls=[];let cs=null;const us=ds=>ps=>{const hs=getEventTarget(ps);if(isBlocked(hs,is,os,!0))return;let ms=null,gs=ds;if("pointerType"in ps){switch(ps.pointerType){case"mouse":ms=PointerTypes.Mouse;break;case"touch":ms=PointerTypes.Touch;break;case"pen":ms=PointerTypes.Pen;break}ms===PointerTypes.Touch?MouseInteractions[ds]===MouseInteractions.MouseDown?gs="TouchStart":MouseInteractions[ds]===MouseInteractions.MouseUp&&(gs="TouchEnd"):PointerTypes.Pen}else legacy_isTouchEvent(ps)&&(ms=PointerTypes.Touch);ms!==null?(cs=ms,(gs.startsWith("Touch")&&ms===PointerTypes.Touch||gs.startsWith("Mouse")&&ms===PointerTypes.Mouse)&&(ms=null)):MouseInteractions[ds]===MouseInteractions.Click&&(ms=cs,cs=null);const ys=legacy_isTouchEvent(ps)?ps.changedTouches[0]:ps;if(!ys)return;const vs=rs.getId(hs),{clientX:bs,clientY:Ss}=ys;callbackWrapper(ts)(Object.assign({type:MouseInteractions[gs],id:vs,x:bs,y:Ss},ms!==null&&{pointerType:ms}))};return Object.keys(MouseInteractions).filter(ds=>Number.isNaN(Number(ds))&&!ds.endsWith("_Departed")&&as[ds]!==!1).forEach(ds=>{let ps=toLowerCase(ds);const hs=us(ds);if(window.PointerEvent)switch(MouseInteractions[ds]){case MouseInteractions.MouseDown:case MouseInteractions.MouseUp:ps=ps.replace("mouse","pointer");break;case MouseInteractions.TouchStart:case MouseInteractions.TouchEnd:return}ls.push(on(ps,hs,ns))}),callbackWrapper(()=>{ls.forEach(ds=>ds())})}function initScrollObserver({scrollCb:ts,doc:ns,mirror:rs,blockClass:is,blockSelector:os,sampling:ss}){const as=callbackWrapper(throttle$1(callbackWrapper(ls=>{const cs=getEventTarget(ls);if(!cs||isBlocked(cs,is,os,!0))return;const us=rs.getId(cs);if(cs===ns&&ns.defaultView){const ds=getWindowScroll$1(ns.defaultView);ts({id:us,x:ds.left,y:ds.top})}else ts({id:us,x:cs.scrollLeft,y:cs.scrollTop})}),ss.scroll||100));return on("scroll",as,ns)}function initViewportResizeObserver({viewportResizeCb:ts},{win:ns}){let rs=-1,is=-1;const os=callbackWrapper(throttle$1(callbackWrapper(()=>{const ss=getWindowHeight(),as=getWindowWidth();(rs!==ss||is!==as)&&(ts({width:Number(as),height:Number(ss)}),rs=ss,is=as)}),200));return on("resize",os,ns)}const INPUT_TAGS=["INPUT","TEXTAREA","SELECT"],lastInputValueMap=new WeakMap;function initInputObserver({inputCb:ts,doc:ns,mirror:rs,blockClass:is,blockSelector:os,ignoreClass:ss,ignoreSelector:as,maskInputOptions:ls,maskInputFn:cs,sampling:us,userTriggeredOnInput:ds}){function ps(Ss){let $s=getEventTarget(Ss);const Cs=Ss.isTrusted,Es=$s&&$s.tagName;if($s&&Es==="OPTION"&&($s=$s.parentElement),!$s||!Es||INPUT_TAGS.indexOf(Es)<0||isBlocked($s,is,os,!0)||$s.classList.contains(ss)||as&&$s.matches(as))return;let xs=$s.value,ws=!1;const ks=getInputType($s)||"";ks==="radio"||ks==="checkbox"?ws=$s.checked:(ls[Es.toLowerCase()]||ls[ks])&&(xs=maskInputValue({element:$s,maskInputOptions:ls,tagName:Es,type:ks,value:xs,maskInputFn:cs})),hs($s,ds?{text:xs,isChecked:ws,userTriggered:Cs}:{text:xs,isChecked:ws});const Is=$s.name;ks==="radio"&&Is&&ws&&ns.querySelectorAll('input[type="radio"][name="'.concat(Is,'"]')).forEach(Ts=>{if(Ts!==$s){const Rs=Ts.value;hs(Ts,ds?{text:Rs,isChecked:!ws,userTriggered:!1}:{text:Rs,isChecked:!ws})}})}function hs(Ss,$s){const Cs=lastInputValueMap.get(Ss);if(!Cs||Cs.text!==$s.text||Cs.isChecked!==$s.isChecked){lastInputValueMap.set(Ss,$s);const Es=rs.getId(Ss);callbackWrapper(ts)(Object.assign(Object.assign({},$s),{id:Es}))}}const gs=(us.input==="last"?["change"]:["input","change"]).map(Ss=>on(Ss,callbackWrapper(ps),ns)),ys=ns.defaultView;if(!ys)return()=>{gs.forEach(Ss=>Ss())};const vs=ys.Object.getOwnPropertyDescriptor(ys.HTMLInputElement.prototype,"value"),bs=[[ys.HTMLInputElement.prototype,"value"],[ys.HTMLInputElement.prototype,"checked"],[ys.HTMLSelectElement.prototype,"value"],[ys.HTMLTextAreaElement.prototype,"value"],[ys.HTMLSelectElement.prototype,"selectedIndex"],[ys.HTMLOptionElement.prototype,"selected"]];return vs&&vs.set&&gs.push(...bs.map(Ss=>hookSetter(Ss[0],Ss[1],{set(){callbackWrapper(ps)({target:this,isTrusted:!1})}},!1,ys))),callbackWrapper(()=>{gs.forEach(Ss=>Ss())})}function getNestedCSSRulePositions(ts){const ns=[];function rs(is,os){if(hasNestedCSSRule("CSSGroupingRule")&&is.parentRule instanceof CSSGroupingRule||hasNestedCSSRule("CSSMediaRule")&&is.parentRule instanceof CSSMediaRule||hasNestedCSSRule("CSSSupportsRule")&&is.parentRule instanceof CSSSupportsRule||hasNestedCSSRule("CSSConditionRule")&&is.parentRule instanceof CSSConditionRule){const as=Array.from(is.parentRule.cssRules).indexOf(is);os.unshift(as)}else if(is.parentStyleSheet){const as=Array.from(is.parentStyleSheet.cssRules).indexOf(is);os.unshift(as)}return os}return rs(ts,ns)}function getIdAndStyleId(ts,ns,rs){let is,os;return ts?(ts.ownerNode?is=ns.getId(ts.ownerNode):os=rs.getId(ts),{styleId:os,id:is}):{}}function initStyleSheetObserver({styleSheetRuleCb:ts,mirror:ns,stylesheetManager:rs},{win:is}){if(!is.CSSStyleSheet||!is.CSSStyleSheet.prototype)return()=>{};const os=is.CSSStyleSheet.prototype.insertRule;is.CSSStyleSheet.prototype.insertRule=new Proxy(os,{apply:callbackWrapper((ds,ps,hs)=>{const[ms,gs]=hs,{id:ys,styleId:vs}=getIdAndStyleId(ps,ns,rs.styleMirror);return(ys&&ys!==-1||vs&&vs!==-1)&&ts({id:ys,styleId:vs,adds:[{rule:ms,index:gs}]}),ds.apply(ps,hs)})});const ss=is.CSSStyleSheet.prototype.deleteRule;is.CSSStyleSheet.prototype.deleteRule=new Proxy(ss,{apply:callbackWrapper((ds,ps,hs)=>{const[ms]=hs,{id:gs,styleId:ys}=getIdAndStyleId(ps,ns,rs.styleMirror);return(gs&&gs!==-1||ys&&ys!==-1)&&ts({id:gs,styleId:ys,removes:[{index:ms}]}),ds.apply(ps,hs)})});let as;is.CSSStyleSheet.prototype.replace&&(as=is.CSSStyleSheet.prototype.replace,is.CSSStyleSheet.prototype.replace=new Proxy(as,{apply:callbackWrapper((ds,ps,hs)=>{const[ms]=hs,{id:gs,styleId:ys}=getIdAndStyleId(ps,ns,rs.styleMirror);return(gs&&gs!==-1||ys&&ys!==-1)&&ts({id:gs,styleId:ys,replace:ms}),ds.apply(ps,hs)})}));let ls;is.CSSStyleSheet.prototype.replaceSync&&(ls=is.CSSStyleSheet.prototype.replaceSync,is.CSSStyleSheet.prototype.replaceSync=new Proxy(ls,{apply:callbackWrapper((ds,ps,hs)=>{const[ms]=hs,{id:gs,styleId:ys}=getIdAndStyleId(ps,ns,rs.styleMirror);return(gs&&gs!==-1||ys&&ys!==-1)&&ts({id:gs,styleId:ys,replaceSync:ms}),ds.apply(ps,hs)})}));const cs={};canMonkeyPatchNestedCSSRule("CSSGroupingRule")?cs.CSSGroupingRule=is.CSSGroupingRule:(canMonkeyPatchNestedCSSRule("CSSMediaRule")&&(cs.CSSMediaRule=is.CSSMediaRule),canMonkeyPatchNestedCSSRule("CSSConditionRule")&&(cs.CSSConditionRule=is.CSSConditionRule),canMonkeyPatchNestedCSSRule("CSSSupportsRule")&&(cs.CSSSupportsRule=is.CSSSupportsRule));const us={};return Object.entries(cs).forEach(([ds,ps])=>{us[ds]={insertRule:ps.prototype.insertRule,deleteRule:ps.prototype.deleteRule},ps.prototype.insertRule=new Proxy(us[ds].insertRule,{apply:callbackWrapper((hs,ms,gs)=>{const[ys,vs]=gs,{id:bs,styleId:Ss}=getIdAndStyleId(ms.parentStyleSheet,ns,rs.styleMirror);return(bs&&bs!==-1||Ss&&Ss!==-1)&&ts({id:bs,styleId:Ss,adds:[{rule:ys,index:[...getNestedCSSRulePositions(ms),vs||0]}]}),hs.apply(ms,gs)})}),ps.prototype.deleteRule=new Proxy(us[ds].deleteRule,{apply:callbackWrapper((hs,ms,gs)=>{const[ys]=gs,{id:vs,styleId:bs}=getIdAndStyleId(ms.parentStyleSheet,ns,rs.styleMirror);return(vs&&vs!==-1||bs&&bs!==-1)&&ts({id:vs,styleId:bs,removes:[{index:[...getNestedCSSRulePositions(ms),ys]}]}),hs.apply(ms,gs)})})}),callbackWrapper(()=>{is.CSSStyleSheet.prototype.insertRule=os,is.CSSStyleSheet.prototype.deleteRule=ss,as&&(is.CSSStyleSheet.prototype.replace=as),ls&&(is.CSSStyleSheet.prototype.replaceSync=ls),Object.entries(cs).forEach(([ds,ps])=>{ps.prototype.insertRule=us[ds].insertRule,ps.prototype.deleteRule=us[ds].deleteRule})})}function initAdoptedStyleSheetObserver({mirror:ts,stylesheetManager:ns},rs){var is,os,ss;let as=null;rs.nodeName==="#document"?as=ts.getId(rs):as=ts.getId(rs.host);const ls=rs.nodeName==="#document"?(is=rs.defaultView)===null||is===void 0?void 0:is.Document:(ss=(os=rs.ownerDocument)===null||os===void 0?void 0:os.defaultView)===null||ss===void 0?void 0:ss.ShadowRoot,cs=ls!=null&&ls.prototype?Object.getOwnPropertyDescriptor(ls==null?void 0:ls.prototype,"adoptedStyleSheets"):void 0;return as===null||as===-1||!ls||!cs?()=>{}:(Object.defineProperty(rs,"adoptedStyleSheets",{configurable:cs.configurable,enumerable:cs.enumerable,get(){var us;return(us=cs.get)===null||us===void 0?void 0:us.call(this)},set(us){var ds;const ps=(ds=cs.set)===null||ds===void 0?void 0:ds.call(this,us);if(as!==null&&as!==-1)try{ns.adoptStyleSheets(us,as)}catch{}return ps}}),callbackWrapper(()=>{Object.defineProperty(rs,"adoptedStyleSheets",{configurable:cs.configurable,enumerable:cs.enumerable,get:cs.get,set:cs.set})}))}function initStyleDeclarationObserver({styleDeclarationCb:ts,mirror:ns,ignoreCSSAttributes:rs,stylesheetManager:is},{win:os}){const ss=os.CSSStyleDeclaration.prototype.setProperty;os.CSSStyleDeclaration.prototype.setProperty=new Proxy(ss,{apply:callbackWrapper((ls,cs,us)=>{var ds;const[ps,hs,ms]=us;if(rs.has(ps))return ss.apply(cs,[ps,hs,ms]);const{id:gs,styleId:ys}=getIdAndStyleId((ds=cs.parentRule)===null||ds===void 0?void 0:ds.parentStyleSheet,ns,is.styleMirror);return(gs&&gs!==-1||ys&&ys!==-1)&&ts({id:gs,styleId:ys,set:{property:ps,value:hs,priority:ms},index:getNestedCSSRulePositions(cs.parentRule)}),ls.apply(cs,us)})});const as=os.CSSStyleDeclaration.prototype.removeProperty;return os.CSSStyleDeclaration.prototype.removeProperty=new Proxy(as,{apply:callbackWrapper((ls,cs,us)=>{var ds;const[ps]=us;if(rs.has(ps))return as.apply(cs,[ps]);const{id:hs,styleId:ms}=getIdAndStyleId((ds=cs.parentRule)===null||ds===void 0?void 0:ds.parentStyleSheet,ns,is.styleMirror);return(hs&&hs!==-1||ms&&ms!==-1)&&ts({id:hs,styleId:ms,remove:{property:ps},index:getNestedCSSRulePositions(cs.parentRule)}),ls.apply(cs,us)})}),callbackWrapper(()=>{os.CSSStyleDeclaration.prototype.setProperty=ss,os.CSSStyleDeclaration.prototype.removeProperty=as})}function initMediaInteractionObserver({mediaInteractionCb:ts,blockClass:ns,blockSelector:rs,mirror:is,sampling:os,doc:ss}){const as=callbackWrapper(cs=>throttle$1(callbackWrapper(us=>{const ds=getEventTarget(us);if(!ds||isBlocked(ds,ns,rs,!0))return;const{currentTime:ps,volume:hs,muted:ms,playbackRate:gs,loop:ys}=ds;ts({type:cs,id:is.getId(ds),currentTime:ps,volume:hs,muted:ms,playbackRate:gs,loop:ys})}),os.media||500)),ls=[on("play",as(0),ss),on("pause",as(1),ss),on("seeked",as(2),ss),on("volumechange",as(3),ss),on("ratechange",as(4),ss)];return callbackWrapper(()=>{ls.forEach(cs=>cs())})}function initFontObserver({fontCb:ts,doc:ns}){const rs=ns.defaultView;if(!rs)return()=>{};const is=[],os=new WeakMap,ss=rs.FontFace;rs.FontFace=function(cs,us,ds){const ps=new ss(cs,us,ds);return os.set(ps,{family:cs,buffer:typeof us!="string",descriptors:ds,fontSource:typeof us=="string"?us:JSON.stringify(Array.from(new Uint8Array(us)))}),ps};const as=patch(ns.fonts,"add",function(ls){return function(cs){return setTimeout(callbackWrapper(()=>{const us=os.get(cs);us&&(ts(us),os.delete(cs))}),0),ls.apply(this,[cs])}});return is.push(()=>{rs.FontFace=ss}),is.push(as),callbackWrapper(()=>{is.forEach(ls=>ls())})}function initSelectionObserver(ts){const{doc:ns,mirror:rs,blockClass:is,blockSelector:os,selectionCb:ss}=ts;let as=!0;const ls=callbackWrapper(()=>{const cs=ns.getSelection();if(!cs||as&&(cs!=null&&cs.isCollapsed))return;as=cs.isCollapsed||!1;const us=[],ds=cs.rangeCount||0;for(let ps=0;ps<ds;ps++){const hs=cs.getRangeAt(ps),{startContainer:ms,startOffset:gs,endContainer:ys,endOffset:vs}=hs;isBlocked(ms,is,os,!0)||isBlocked(ys,is,os,!0)||us.push({start:rs.getId(ms),startOffset:gs,end:rs.getId(ys),endOffset:vs})}ss({ranges:us})});return ls(),on("selectionchange",ls)}function initCustomElementObserver({doc:ts,customElementCb:ns}){const rs=ts.defaultView;return!rs||!rs.customElements?()=>{}:patch(rs.customElements,"define",function(os){return function(ss,as,ls){try{ns({define:{name:ss}})}catch{console.warn("Custom element callback failed for ".concat(ss))}return os.apply(this,[ss,as,ls])}})}function mergeHooks(ts,ns){const{mutationCb:rs,mousemoveCb:is,mouseInteractionCb:os,scrollCb:ss,viewportResizeCb:as,inputCb:ls,mediaInteractionCb:cs,styleSheetRuleCb:us,styleDeclarationCb:ds,canvasMutationCb:ps,fontCb:hs,selectionCb:ms,customElementCb:gs}=ts;ts.mutationCb=(...ys)=>{ns.mutation&&ns.mutation(...ys),rs(...ys)},ts.mousemoveCb=(...ys)=>{ns.mousemove&&ns.mousemove(...ys),is(...ys)},ts.mouseInteractionCb=(...ys)=>{ns.mouseInteraction&&ns.mouseInteraction(...ys),os(...ys)},ts.scrollCb=(...ys)=>{ns.scroll&&ns.scroll(...ys),ss(...ys)},ts.viewportResizeCb=(...ys)=>{ns.viewportResize&&ns.viewportResize(...ys),as(...ys)},ts.inputCb=(...ys)=>{ns.input&&ns.input(...ys),ls(...ys)},ts.mediaInteractionCb=(...ys)=>{ns.mediaInteaction&&ns.mediaInteaction(...ys),cs(...ys)},ts.styleSheetRuleCb=(...ys)=>{ns.styleSheetRule&&ns.styleSheetRule(...ys),us(...ys)},ts.styleDeclarationCb=(...ys)=>{ns.styleDeclaration&&ns.styleDeclaration(...ys),ds(...ys)},ts.canvasMutationCb=(...ys)=>{ns.canvasMutation&&ns.canvasMutation(...ys),ps(...ys)},ts.fontCb=(...ys)=>{ns.font&&ns.font(...ys),hs(...ys)},ts.selectionCb=(...ys)=>{ns.selection&&ns.selection(...ys),ms(...ys)},ts.customElementCb=(...ys)=>{ns.customElement&&ns.customElement(...ys),gs(...ys)}}function initObservers(ts,ns={}){const rs=ts.doc.defaultView;if(!rs)return()=>{};mergeHooks(ts,ns);let is;ts.recordDOM&&(is=initMutationObserver(ts,ts.doc));const os=initMoveObserver(ts),ss=initMouseInteractionObserver(ts),as=initScrollObserver(ts),ls=initViewportResizeObserver(ts,{win:rs}),cs=initInputObserver(ts),us=initMediaInteractionObserver(ts);let ds=()=>{},ps=()=>{},hs=()=>{},ms=()=>{};ts.recordDOM&&(ds=initStyleSheetObserver(ts,{win:rs}),ps=initAdoptedStyleSheetObserver(ts,ts.doc),hs=initStyleDeclarationObserver(ts,{win:rs}),ts.collectFonts&&(ms=initFontObserver(ts)));const gs=initSelectionObserver(ts),ys=initCustomElementObserver(ts),vs=[];for(const bs of ts.plugins)vs.push(bs.observer(bs.callback,rs,bs.options));return callbackWrapper(()=>{mutationBuffers.forEach(bs=>bs.reset()),is==null||is.disconnect(),os(),ss(),as(),ls(),cs(),us(),ds(),ps(),hs(),ms(),gs(),ys(),vs.forEach(bs=>bs())})}function hasNestedCSSRule(ts){return typeof window[ts]<"u"}function canMonkeyPatchNestedCSSRule(ts){return!!(typeof window[ts]<"u"&&window[ts].prototype&&"insertRule"in window[ts].prototype&&"deleteRule"in window[ts].prototype)}class CrossOriginIframeMirror{constructor(ns){this.generateIdFn=ns,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(ns,rs,is,os){const ss=is||this.getIdToRemoteIdMap(ns),as=os||this.getRemoteIdToIdMap(ns);let ls=ss.get(rs);return ls||(ls=this.generateIdFn(),ss.set(rs,ls),as.set(ls,rs)),ls}getIds(ns,rs){const is=this.getIdToRemoteIdMap(ns),os=this.getRemoteIdToIdMap(ns);return rs.map(ss=>this.getId(ns,ss,is,os))}getRemoteId(ns,rs,is){const os=is||this.getRemoteIdToIdMap(ns);if(typeof rs!="number")return rs;const ss=os.get(rs);return ss||-1}getRemoteIds(ns,rs){const is=this.getRemoteIdToIdMap(ns);return rs.map(os=>this.getRemoteId(ns,os,is))}reset(ns){if(!ns){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(ns),this.iframeRemoteIdToIdMap.delete(ns)}getIdToRemoteIdMap(ns){let rs=this.iframeIdToRemoteIdMap.get(ns);return rs||(rs=new Map,this.iframeIdToRemoteIdMap.set(ns,rs)),rs}getRemoteIdToIdMap(ns){let rs=this.iframeRemoteIdToIdMap.get(ns);return rs||(rs=new Map,this.iframeRemoteIdToIdMap.set(ns,rs)),rs}}class IframeManager{constructor(ns){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new CrossOriginIframeMirror(genId),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=ns.mutationCb,this.wrappedEmit=ns.wrappedEmit,this.stylesheetManager=ns.stylesheetManager,this.recordCrossOriginIframes=ns.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new CrossOriginIframeMirror(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=ns.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(ns){this.iframes.set(ns,!0),ns.contentWindow&&this.crossOriginIframeMap.set(ns.contentWindow,ns)}addLoadListener(ns){this.loadListener=ns}attachIframe(ns,rs){var is;this.mutationCb({adds:[{parentId:this.mirror.getId(ns),nextId:null,node:rs}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),(is=this.loadListener)===null||is===void 0||is.call(this,ns),ns.contentDocument&&ns.contentDocument.adoptedStyleSheets&&ns.contentDocument.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(ns.contentDocument.adoptedStyleSheets,this.mirror.getId(ns.contentDocument))}handleMessage(ns){const rs=ns;if(rs.data.type!=="rrweb"||rs.origin!==rs.data.origin||!ns.source)return;const os=this.crossOriginIframeMap.get(ns.source);if(!os)return;const ss=this.transformCrossOriginEvent(os,rs.data.event);ss&&this.wrappedEmit(ss,rs.data.isCheckout)}transformCrossOriginEvent(ns,rs){var is;switch(rs.type){case EventType$1.FullSnapshot:{this.crossOriginIframeMirror.reset(ns),this.crossOriginIframeStyleMirror.reset(ns),this.replaceIdOnNode(rs.data.node,ns);const os=rs.data.node.id;return this.crossOriginIframeRootIdMap.set(ns,os),this.patchRootIdOnNode(rs.data.node,os),{timestamp:rs.timestamp,type:EventType$1.IncrementalSnapshot,data:{source:IncrementalSource$1.Mutation,adds:[{parentId:this.mirror.getId(ns),nextId:null,node:rs.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case EventType$1.Meta:case EventType$1.Load:case EventType$1.DomContentLoaded:return!1;case EventType$1.Plugin:return rs;case EventType$1.Custom:return this.replaceIds(rs.data.payload,ns,["id","parentId","previousId","nextId"]),rs;case EventType$1.IncrementalSnapshot:switch(rs.data.source){case IncrementalSource$1.Mutation:return rs.data.adds.forEach(os=>{this.replaceIds(os,ns,["parentId","nextId","previousId"]),this.replaceIdOnNode(os.node,ns);const ss=this.crossOriginIframeRootIdMap.get(ns);ss&&this.patchRootIdOnNode(os.node,ss)}),rs.data.removes.forEach(os=>{this.replaceIds(os,ns,["parentId","id"])}),rs.data.attributes.forEach(os=>{this.replaceIds(os,ns,["id"])}),rs.data.texts.forEach(os=>{this.replaceIds(os,ns,["id"])}),rs;case IncrementalSource$1.Drag:case IncrementalSource$1.TouchMove:case IncrementalSource$1.MouseMove:return rs.data.positions.forEach(os=>{this.replaceIds(os,ns,["id"])}),rs;case IncrementalSource$1.ViewportResize:return!1;case IncrementalSource$1.MediaInteraction:case IncrementalSource$1.MouseInteraction:case IncrementalSource$1.Scroll:case IncrementalSource$1.CanvasMutation:case IncrementalSource$1.Input:return this.replaceIds(rs.data,ns,["id"]),rs;case IncrementalSource$1.StyleSheetRule:case IncrementalSource$1.StyleDeclaration:return this.replaceIds(rs.data,ns,["id"]),this.replaceStyleIds(rs.data,ns,["styleId"]),rs;case IncrementalSource$1.Font:return rs;case IncrementalSource$1.Selection:return rs.data.ranges.forEach(os=>{this.replaceIds(os,ns,["start","end"])}),rs;case IncrementalSource$1.AdoptedStyleSheet:return this.replaceIds(rs.data,ns,["id"]),this.replaceStyleIds(rs.data,ns,["styleIds"]),(is=rs.data.styles)===null||is===void 0||is.forEach(os=>{this.replaceStyleIds(os,ns,["styleId"])}),rs}}return!1}replace(ns,rs,is,os){for(const ss of os)!Array.isArray(rs[ss])&&typeof rs[ss]!="number"||(Array.isArray(rs[ss])?rs[ss]=ns.getIds(is,rs[ss]):rs[ss]=ns.getId(is,rs[ss]));return rs}replaceIds(ns,rs,is){return this.replace(this.crossOriginIframeMirror,ns,rs,is)}replaceStyleIds(ns,rs,is){return this.replace(this.crossOriginIframeStyleMirror,ns,rs,is)}replaceIdOnNode(ns,rs){this.replaceIds(ns,rs,["id","rootId"]),"childNodes"in ns&&ns.childNodes.forEach(is=>{this.replaceIdOnNode(is,rs)})}patchRootIdOnNode(ns,rs){ns.type!==NodeType.Document&&!ns.rootId&&(ns.rootId=rs),"childNodes"in ns&&ns.childNodes.forEach(is=>{this.patchRootIdOnNode(is,rs)})}}class ShadowDomManager{constructor(ns){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=ns.mutationCb,this.scrollCb=ns.scrollCb,this.bypassOptions=ns.bypassOptions,this.mirror=ns.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(ns,rs){if(!isNativeShadowDom(ns)||this.shadowDoms.has(ns))return;this.shadowDoms.add(ns);const is=initMutationObserver(Object.assign(Object.assign({},this.bypassOptions),{doc:rs,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this}),ns);this.restoreHandlers.push(()=>is.disconnect()),this.restoreHandlers.push(initScrollObserver(Object.assign(Object.assign({},this.bypassOptions),{scrollCb:this.scrollCb,doc:ns,mirror:this.mirror}))),setTimeout(()=>{ns.adoptedStyleSheets&&ns.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(ns.adoptedStyleSheets,this.mirror.getId(ns.host)),this.restoreHandlers.push(initAdoptedStyleSheetObserver({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},ns))},0)}observeAttachShadow(ns){!ns.contentWindow||!ns.contentDocument||this.patchAttachShadow(ns.contentWindow.Element,ns.contentDocument)}patchAttachShadow(ns,rs){const is=this;this.restoreHandlers.push(patch(ns.prototype,"attachShadow",function(os){return function(ss){const as=os.call(this,ss);return this.shadowRoot&&inDom(this)&&is.addShadowRoot(this.shadowRoot,rs),as}}))}reset(){this.restoreHandlers.forEach(ns=>{try{ns()}catch{}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function __rest$3(ts,ns){var rs={};for(var is in ts)Object.prototype.hasOwnProperty.call(ts,is)&&ns.indexOf(is)<0&&(rs[is]=ts[is]);if(ts!=null&&typeof Object.getOwnPropertySymbols=="function")for(var os=0,is=Object.getOwnPropertySymbols(ts);os<is.length;os++)ns.indexOf(is[os])<0&&Object.prototype.propertyIsEnumerable.call(ts,is[os])&&(rs[is[os]]=ts[is[os]]);return rs}function __awaiter$18(ts,ns,rs,is){function os(ss){return ss instanceof rs?ss:new rs(function(as){as(ss)})}return new(rs||(rs=Promise))(function(ss,as){function ls(ds){try{us(is.next(ds))}catch(ps){as(ps)}}function cs(ds){try{us(is.throw(ds))}catch(ps){as(ps)}}function us(ds){ds.done?ss(ds.value):os(ds.value).then(ls,cs)}us((is=is.apply(ts,ns||[])).next())})}var chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var i$2=0;i$2<chars.length;i$2++)lookup[chars.charCodeAt(i$2)]=i$2;var encode=function(ts){var ns=new Uint8Array(ts),rs,is=ns.length,os="";for(rs=0;rs<is;rs+=3)os+=chars[ns[rs]>>2],os+=chars[(ns[rs]&3)<<4|ns[rs+1]>>4],os+=chars[(ns[rs+1]&15)<<2|ns[rs+2]>>6],os+=chars[ns[rs+2]&63];return is%3===2?os=os.substring(0,os.length-1)+"=":is%3===1&&(os=os.substring(0,os.length-2)+"=="),os};const canvasVarMap=new Map;function variableListFor(ts,ns){let rs=canvasVarMap.get(ts);return rs||(rs=new Map,canvasVarMap.set(ts,rs)),rs.has(ns)||rs.set(ns,[]),rs.get(ns)}const saveWebGLVar=(ts,ns,rs)=>{if(!ts||!(isInstanceOfWebGLObject(ts,ns)||typeof ts=="object"))return;const is=ts.constructor.name,os=variableListFor(rs,is);let ss=os.indexOf(ts);return ss===-1&&(ss=os.length,os.push(ts)),ss};function serializeArg(ts,ns,rs){if(ts instanceof Array)return ts.map(is=>serializeArg(is,ns,rs));if(ts===null)return ts;if(ts instanceof Float32Array||ts instanceof Float64Array||ts instanceof Int32Array||ts instanceof Uint32Array||ts instanceof Uint8Array||ts instanceof Uint16Array||ts instanceof Int16Array||ts instanceof Int8Array||ts instanceof Uint8ClampedArray)return{rr_type:ts.constructor.name,args:[Object.values(ts)]};if(ts instanceof ArrayBuffer){const is=ts.constructor.name,os=encode(ts);return{rr_type:is,base64:os}}else{if(ts instanceof DataView)return{rr_type:ts.constructor.name,args:[serializeArg(ts.buffer,ns,rs),ts.byteOffset,ts.byteLength]};if(ts instanceof HTMLImageElement){const is=ts.constructor.name,{src:os}=ts;return{rr_type:is,src:os}}else if(ts instanceof HTMLCanvasElement){const is="HTMLImageElement",os=ts.toDataURL();return{rr_type:is,src:os}}else{if(ts instanceof ImageData)return{rr_type:ts.constructor.name,args:[serializeArg(ts.data,ns,rs),ts.width,ts.height]};if(isInstanceOfWebGLObject(ts,ns)||typeof ts=="object"){const is=ts.constructor.name,os=saveWebGLVar(ts,ns,rs);return{rr_type:is,index:os}}}}return ts}const serializeArgs=(ts,ns,rs)=>ts.map(is=>serializeArg(is,ns,rs)),isInstanceOfWebGLObject=(ts,ns)=>!!["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"].filter(os=>typeof ns[os]=="function").find(os=>ts instanceof ns[os]);function initCanvas2DMutationObserver(ts,ns,rs,is){const os=[],ss=Object.getOwnPropertyNames(ns.CanvasRenderingContext2D.prototype);for(const as of ss)try{if(typeof ns.CanvasRenderingContext2D.prototype[as]!="function")continue;const ls=patch(ns.CanvasRenderingContext2D.prototype,as,function(cs){return function(...us){return isBlocked(this.canvas,rs,is,!0)||setTimeout(()=>{const ds=serializeArgs(us,ns,this);ts(this.canvas,{type:CanvasContext["2D"],property:as,args:ds})},0),cs.apply(this,us)}});os.push(ls)}catch{const cs=hookSetter(ns.CanvasRenderingContext2D.prototype,as,{set(us){ts(this.canvas,{type:CanvasContext["2D"],property:as,args:[us],setter:!0})}});os.push(cs)}return()=>{os.forEach(as=>as())}}function getNormalizedContextName(ts){return ts==="experimental-webgl"?"webgl":ts}function initCanvasContextObserver(ts,ns,rs,is){const os=[];try{const ss=patch(ts.HTMLCanvasElement.prototype,"getContext",function(as){return function(ls,...cs){if(!isBlocked(this,ns,rs,!0)){const us=getNormalizedContextName(ls);if("__context"in this||(this.__context=us),is&&["webgl","webgl2"].includes(us))if(cs[0]&&typeof cs[0]=="object"){const ds=cs[0];ds.preserveDrawingBuffer||(ds.preserveDrawingBuffer=!0)}else cs.splice(0,1,{preserveDrawingBuffer:!0})}return as.apply(this,[ls,...cs])}});os.push(ss)}catch{console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return()=>{os.forEach(ss=>ss())}}function patchGLPrototype(ts,ns,rs,is,os,ss,as){const ls=[],cs=Object.getOwnPropertyNames(ts);for(const us of cs)if(!["isContextLost","canvas","drawingBufferWidth","drawingBufferHeight"].includes(us))try{if(typeof ts[us]!="function")continue;const ds=patch(ts,us,function(ps){return function(...hs){const ms=ps.apply(this,hs);if(saveWebGLVar(ms,as,this),"tagName"in this.canvas&&!isBlocked(this.canvas,is,os,!0)){const gs=serializeArgs(hs,as,this),ys={type:ns,property:us,args:gs};rs(this.canvas,ys)}return ms}});ls.push(ds)}catch{const ps=hookSetter(ts,us,{set(hs){rs(this.canvas,{type:ns,property:us,args:[hs],setter:!0})}});ls.push(ps)}return ls}function initCanvasWebGLMutationObserver(ts,ns,rs,is,os){const ss=[];return ss.push(...patchGLPrototype(ns.WebGLRenderingContext.prototype,CanvasContext.WebGL,ts,rs,is,os,ns)),typeof ns.WebGL2RenderingContext<"u"&&ss.push(...patchGLPrototype(ns.WebGL2RenderingContext.prototype,CanvasContext.WebGL2,ts,rs,is,os,ns)),()=>{ss.forEach(as=>as())}}function funcToSource(ts,ns){var rs=ns===void 0?null:ns,is=ts.toString(),os=is.split("\n");os.pop(),os.shift();for(var ss=os[0].search(/\S/),as=/(['"])__worker_loader_strict__(['"])/g,ls=0,cs=os.length;ls<cs;++ls)os[ls]=os[ls].substring(ss).replace(as,"$1use strict$2")+"\n";return rs&&os.push("//# sourceMappingURL="+rs+"\n"),os}function createURL(ts,ns){var rs=funcToSource(ts,ns),is=new Blob(rs,{type:"application/javascript"});return URL.createObjectURL(is)}function createInlineWorkerFactory(ts,ns){var rs;return function(os){return rs=rs||createURL(ts,ns),new Worker(rs,os)}}var WorkerFactory=createInlineWorkerFactory(function(){(function(){"__worker_loader_strict__";/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */function ts(us,ds,ps,hs){function ms(gs){return gs instanceof ps?gs:new ps(function(ys){ys(gs)})}return new(ps||(ps=Promise))(function(gs,ys){function vs($s){try{Ss(hs.next($s))}catch(Cs){ys(Cs)}}function bs($s){try{Ss(hs.throw($s))}catch(Cs){ys(Cs)}}function Ss($s){$s.done?gs($s.value):ms($s.value).then(vs,bs)}Ss((hs=hs.apply(us,ds||[])).next())})}for(var ns="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",rs=typeof Uint8Array>"u"?[]:new Uint8Array(256),is=0;is<ns.length;is++)rs[ns.charCodeAt(is)]=is;var os=function(us){var ds=new Uint8Array(us),ps,hs=ds.length,ms="";for(ps=0;ps<hs;ps+=3)ms+=ns[ds[ps]>>2],ms+=ns[(ds[ps]&3)<<4|ds[ps+1]>>4],ms+=ns[(ds[ps+1]&15)<<2|ds[ps+2]>>6],ms+=ns[ds[ps+2]&63];return hs%3===2?ms=ms.substring(0,ms.length-1)+"=":hs%3===1&&(ms=ms.substring(0,ms.length-2)+"=="),ms};const ss=new Map,as=new Map;function ls(us,ds,ps){return ts(this,void 0,void 0,function*(){const hs="".concat(us,"-").concat(ds);if("OffscreenCanvas"in globalThis){if(as.has(hs))return as.get(hs);const ms=new OffscreenCanvas(us,ds);ms.getContext("2d");const ys=yield(yield ms.convertToBlob(ps)).arrayBuffer(),vs=os(ys);return as.set(hs,vs),vs}else return""})}const cs=self;cs.onmessage=function(us){return ts(this,void 0,void 0,function*(){if("OffscreenCanvas"in globalThis){const{id:ds,bitmap:ps,width:hs,height:ms,dataURLOptions:gs}=us.data,ys=ls(hs,ms,gs),vs=new OffscreenCanvas(hs,ms);vs.getContext("2d").drawImage(ps,0,0),ps.close();const Ss=yield vs.convertToBlob(gs),$s=Ss.type,Cs=yield Ss.arrayBuffer(),Es=os(Cs);if(!ss.has(ds)&&(yield ys)===Es)return ss.set(ds,Es),cs.postMessage({id:ds});if(ss.get(ds)===Es)return cs.postMessage({id:ds});cs.postMessage({id:ds,type:$s,base64:Es,width:hs,height:ms}),ss.set(ds,Es)}else return cs.postMessage({id:us.data.id})})}})()},null);class CanvasManager{reset(){this.pendingCanvasMutations.clear(),this.resetObservers&&this.resetObservers()}freeze(){this.frozen=!0}unfreeze(){this.frozen=!1}lock(){this.locked=!0}unlock(){this.locked=!1}constructor(ns){this.pendingCanvasMutations=new Map,this.rafStamps={latestId:0,invokeId:null},this.frozen=!1,this.locked=!1,this.processMutation=(cs,us)=>{(this.rafStamps.invokeId&&this.rafStamps.latestId!==this.rafStamps.invokeId||!this.rafStamps.invokeId)&&(this.rafStamps.invokeId=this.rafStamps.latestId),this.pendingCanvasMutations.has(cs)||this.pendingCanvasMutations.set(cs,[]),this.pendingCanvasMutations.get(cs).push(us)};const{sampling:rs="all",win:is,blockClass:os,blockSelector:ss,recordCanvas:as,dataURLOptions:ls}=ns;this.mutationCb=ns.mutationCb,this.mirror=ns.mirror,as&&rs==="all"&&this.initCanvasMutationObserver(is,os,ss),as&&typeof rs=="number"&&this.initCanvasFPSObserver(rs,is,os,ss,{dataURLOptions:ls})}initCanvasFPSObserver(ns,rs,is,os,ss){const as=initCanvasContextObserver(rs,is,os,!0),ls=new Map,cs=new WorkerFactory;cs.onmessage=gs=>{const{id:ys}=gs.data;if(ls.set(ys,!1),!("base64"in gs.data))return;const{base64:vs,type:bs,width:Ss,height:$s}=gs.data;this.mutationCb({id:ys,type:CanvasContext["2D"],commands:[{property:"clearRect",args:[0,0,Ss,$s]},{property:"drawImage",args:[{rr_type:"ImageBitmap",args:[{rr_type:"Blob",data:[{rr_type:"ArrayBuffer",base64:vs}],type:bs}]},0,0]}]})};const us=1e3/ns;let ds=0,ps;const hs=()=>{const gs=[];return rs.document.querySelectorAll("canvas").forEach(ys=>{isBlocked(ys,is,os,!0)||gs.push(ys)}),gs},ms=gs=>{if(ds&&gs-ds<us){ps=requestAnimationFrame(ms);return}ds=gs,hs().forEach(ys=>__awaiter$18(this,void 0,void 0,function*(){var vs;const bs=this.mirror.getId(ys);if(ls.get(bs)||ys.width===0||ys.height===0)return;if(ls.set(bs,!0),["webgl","webgl2"].includes(ys.__context)){const $s=ys.getContext(ys.__context);((vs=$s==null?void 0:$s.getContextAttributes())===null||vs===void 0?void 0:vs.preserveDrawingBuffer)===!1&&$s.clear($s.COLOR_BUFFER_BIT)}const Ss=yield createImageBitmap(ys);cs.postMessage({id:bs,bitmap:Ss,width:ys.width,height:ys.height,dataURLOptions:ss.dataURLOptions},[Ss])})),ps=requestAnimationFrame(ms)};ps=requestAnimationFrame(ms),this.resetObservers=()=>{as(),cancelAnimationFrame(ps)}}initCanvasMutationObserver(ns,rs,is){this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher();const os=initCanvasContextObserver(ns,rs,is,!1),ss=initCanvas2DMutationObserver(this.processMutation.bind(this),ns,rs,is),as=initCanvasWebGLMutationObserver(this.processMutation.bind(this),ns,rs,is,this.mirror);this.resetObservers=()=>{os(),ss(),as()}}startPendingCanvasMutationFlusher(){requestAnimationFrame(()=>this.flushPendingCanvasMutations())}startRAFTimestamping(){const ns=rs=>{this.rafStamps.latestId=rs,requestAnimationFrame(ns)};requestAnimationFrame(ns)}flushPendingCanvasMutations(){this.pendingCanvasMutations.forEach((ns,rs)=>{const is=this.mirror.getId(rs);this.flushPendingCanvasMutationFor(rs,is)}),requestAnimationFrame(()=>this.flushPendingCanvasMutations())}flushPendingCanvasMutationFor(ns,rs){if(this.frozen||this.locked)return;const is=this.pendingCanvasMutations.get(ns);if(!is||rs===-1)return;const os=is.map(as=>__rest$3(as,["type"])),{type:ss}=is[0];this.mutationCb({id:rs,type:ss,commands:os}),this.pendingCanvasMutations.delete(ns)}}class StylesheetManager{constructor(ns){this.trackedLinkElements=new WeakSet,this.styleMirror=new StyleSheetMirror,this.mutationCb=ns.mutationCb,this.adoptedStyleSheetCb=ns.adoptedStyleSheetCb}attachLinkElement(ns,rs){"_cssText"in rs.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:rs.id,attributes:rs.attributes}]}),this.trackLinkElement(ns)}trackLinkElement(ns){this.trackedLinkElements.has(ns)||(this.trackedLinkElements.add(ns),this.trackStylesheetInLinkElement(ns))}adoptStyleSheets(ns,rs){if(ns.length===0)return;const is={id:rs,styleIds:[]},os=[];for(const ss of ns){let as;this.styleMirror.has(ss)?as=this.styleMirror.getId(ss):(as=this.styleMirror.add(ss),os.push({styleId:as,rules:Array.from(ss.rules||CSSRule,(ls,cs)=>({rule:stringifyRule(ls),index:cs}))})),is.styleIds.push(as)}os.length>0&&(is.styles=os),this.adoptedStyleSheetCb(is)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(ns){}}class ProcessedNodeManager{constructor(){this.nodeMap=new WeakMap,this.loop=!0,this.periodicallyClear()}periodicallyClear(){requestAnimationFrame(()=>{this.clear(),this.loop&&this.periodicallyClear()})}inOtherBuffer(ns,rs){const is=this.nodeMap.get(ns);return is&&Array.from(is).some(os=>os!==rs)}add(ns,rs){this.nodeMap.set(ns,(this.nodeMap.get(ns)||new Set).add(rs))}clear(){this.nodeMap=new WeakMap}destroy(){this.loop=!1}}function wrapEvent(ts){return Object.assign(Object.assign({},ts),{timestamp:nowTimestamp()})}let wrappedEmit,takeFullSnapshot,canvasManager,recording=!1;const mirror=createMirror();function record(ts={}){const{emit:ns,checkoutEveryNms:rs,checkoutEveryNth:is,blockClass:os="rr-block",blockSelector:ss=null,ignoreClass:as="rr-ignore",ignoreSelector:ls=null,maskTextClass:cs="rr-mask",maskTextSelector:us=null,inlineStylesheet:ds=!0,maskAllInputs:ps,maskInputOptions:hs,slimDOMOptions:ms,maskInputFn:gs,maskTextFn:ys,hooks:vs,packFn:bs,sampling:Ss={},dataURLOptions:$s={},mousemoveWait:Cs,recordDOM:Es=!0,recordCanvas:xs=!1,recordCrossOriginIframes:ws=!1,recordAfter:ks=ts.recordAfter==="DOMContentLoaded"?ts.recordAfter:"load",userTriggeredOnInput:Is=!1,collectFonts:Ts=!1,inlineImages:Rs=!1,plugins:As,keepIframeSrcFn:Ms=()=>!1,ignoreCSSAttributes:Ls=new Set([]),errorHandler:Ds}=ts;registerErrorHandler(Ds);const Fs=ws?window.parent===window:!0;let Vs=!1;if(!Fs)try{window.parent.document&&(Vs=!1)}catch{Vs=!0}if(Fs&&!ns)throw new Error("emit function is required");Cs!==void 0&&Ss.mousemove===void 0&&(Ss.mousemove=Cs),mirror.reset();const Bs=ps===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:hs!==void 0?hs:{password:!0},Ws=ms===!0||ms==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:ms==="all",headMetaDescKeywords:ms==="all"}:ms||{};polyfill();let Os,Nl=0;const $a=$l=>{for(const Cl of As||[])Cl.eventProcessor&&($l=Cl.eventProcessor($l));return bs&&!Vs&&($l=bs($l)),$l};wrappedEmit=($l,Cl)=>{var wl;if(!((wl=mutationBuffers[0])===null||wl===void 0)&&wl.isFrozen()&&$l.type!==EventType$1.FullSnapshot&&!($l.type===EventType$1.IncrementalSnapshot&&$l.data.source===IncrementalSource$1.Mutation)&&mutationBuffers.forEach(Tl=>Tl.unfreeze()),Fs)ns==null||ns($a($l),Cl);else if(Vs){const Tl={type:"rrweb",event:$a($l),origin:window.location.origin,isCheckout:Cl};window.parent.postMessage(Tl,"*")}if($l.type===EventType$1.FullSnapshot)Os=$l,Nl=0;else if($l.type===EventType$1.IncrementalSnapshot){if($l.data.source===IncrementalSource$1.Mutation&&$l.data.isAttachIframe)return;Nl++;const Tl=is&&Nl>=is,xl=rs&&$l.timestamp-Os.timestamp>rs;(Tl||xl)&&takeFullSnapshot(!0)}};const Ps=$l=>{wrappedEmit(wrapEvent({type:EventType$1.IncrementalSnapshot,data:Object.assign({source:IncrementalSource$1.Mutation},$l)}))},Ys=$l=>wrappedEmit(wrapEvent({type:EventType$1.IncrementalSnapshot,data:Object.assign({source:IncrementalSource$1.Scroll},$l)})),Zs=$l=>wrappedEmit(wrapEvent({type:EventType$1.IncrementalSnapshot,data:Object.assign({source:IncrementalSource$1.CanvasMutation},$l)})),Us=$l=>wrappedEmit(wrapEvent({type:EventType$1.IncrementalSnapshot,data:Object.assign({source:IncrementalSource$1.AdoptedStyleSheet},$l)})),Ol=new StylesheetManager({mutationCb:Ps,adoptedStyleSheetCb:Us}),qs=new IframeManager({mirror,mutationCb:Ps,stylesheetManager:Ol,recordCrossOriginIframes:ws,wrappedEmit});for(const $l of As||[])$l.getMirror&&$l.getMirror({nodeMirror:mirror,crossOriginIframeMirror:qs.crossOriginIframeMirror,crossOriginIframeStyleMirror:qs.crossOriginIframeStyleMirror});const Fl=new ProcessedNodeManager;canvasManager=new CanvasManager({recordCanvas:xs,mutationCb:Zs,win:window,blockClass:os,blockSelector:ss,mirror,sampling:Ss.canvas,dataURLOptions:$s});const Ll=new ShadowDomManager({mutationCb:Ps,scrollCb:Ys,bypassOptions:{blockClass:os,blockSelector:ss,maskTextClass:cs,maskTextSelector:us,inlineStylesheet:ds,maskInputOptions:Bs,dataURLOptions:$s,maskTextFn:ys,maskInputFn:gs,recordCanvas:xs,inlineImages:Rs,sampling:Ss,slimDOMOptions:Ws,iframeManager:qs,stylesheetManager:Ol,canvasManager,keepIframeSrcFn:Ms,processedNodeManager:Fl},mirror});takeFullSnapshot=($l=!1)=>{if(!Es)return;wrappedEmit(wrapEvent({type:EventType$1.Meta,data:{href:window.location.href,width:getWindowWidth(),height:getWindowHeight()}}),$l),Ol.reset(),Ll.init(),mutationBuffers.forEach(wl=>wl.lock());const Cl=snapshot(document,{mirror,blockClass:os,blockSelector:ss,maskTextClass:cs,maskTextSelector:us,inlineStylesheet:ds,maskAllInputs:Bs,maskTextFn:ys,slimDOM:Ws,dataURLOptions:$s,recordCanvas:xs,inlineImages:Rs,onSerialize:wl=>{isSerializedIframe(wl,mirror)&&qs.addIframe(wl),isSerializedStylesheet(wl,mirror)&&Ol.trackLinkElement(wl),hasShadowRoot(wl)&&Ll.addShadowRoot(wl.shadowRoot,document)},onIframeLoad:(wl,Tl)=>{qs.attachIframe(wl,Tl),Ll.observeAttachShadow(wl)},onStylesheetLoad:(wl,Tl)=>{Ol.attachLinkElement(wl,Tl)},keepIframeSrcFn:Ms});if(!Cl)return console.warn("Failed to snapshot the document");wrappedEmit(wrapEvent({type:EventType$1.FullSnapshot,data:{node:Cl,initialOffset:getWindowScroll$1(window)}}),$l),mutationBuffers.forEach(wl=>wl.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&Ol.adoptStyleSheets(document.adoptedStyleSheets,mirror.getId(document))};try{const $l=[],Cl=Tl=>{var xl;return callbackWrapper(initObservers)({mutationCb:Ps,mousemoveCb:(Al,Dl)=>wrappedEmit(wrapEvent({type:EventType$1.IncrementalSnapshot,data:{source:Dl,positions:Al}})),mouseInteractionCb:Al=>wrappedEmit(wrapEvent({type:EventType$1.IncrementalSnapshot,data:Object.assign({source:IncrementalSource$1.MouseInteraction},Al)})),scrollCb:Ys,viewportResizeCb:Al=>wrappedEmit(wrapEvent({type:EventType$1.IncrementalSnapshot,data:Object.assign({source:IncrementalSource$1.ViewportResize},Al)})),inputCb:Al=>wrappedEmit(wrapEvent({type:EventType$1.IncrementalSnapshot,data:Object.assign({source:IncrementalSource$1.Input},Al)})),mediaInteractionCb:Al=>wrappedEmit(wrapEvent({type:EventType$1.IncrementalSnapshot,data:Object.assign({source:IncrementalSource$1.MediaInteraction},Al)})),styleSheetRuleCb:Al=>wrappedEmit(wrapEvent({type:EventType$1.IncrementalSnapshot,data:Object.assign({source:IncrementalSource$1.StyleSheetRule},Al)})),styleDeclarationCb:Al=>wrappedEmit(wrapEvent({type:EventType$1.IncrementalSnapshot,data:Object.assign({source:IncrementalSource$1.StyleDeclaration},Al)})),canvasMutationCb:Zs,fontCb:Al=>wrappedEmit(wrapEvent({type:EventType$1.IncrementalSnapshot,data:Object.assign({source:IncrementalSource$1.Font},Al)})),selectionCb:Al=>{wrappedEmit(wrapEvent({type:EventType$1.IncrementalSnapshot,data:Object.assign({source:IncrementalSource$1.Selection},Al)}))},customElementCb:Al=>{wrappedEmit(wrapEvent({type:EventType$1.IncrementalSnapshot,data:Object.assign({source:IncrementalSource$1.CustomElement},Al)}))},blockClass:os,ignoreClass:as,ignoreSelector:ls,maskTextClass:cs,maskTextSelector:us,maskInputOptions:Bs,inlineStylesheet:ds,sampling:Ss,recordDOM:Es,recordCanvas:xs,inlineImages:Rs,userTriggeredOnInput:Is,collectFonts:Ts,doc:Tl,maskInputFn:gs,maskTextFn:ys,keepIframeSrcFn:Ms,blockSelector:ss,slimDOMOptions:Ws,dataURLOptions:$s,mirror,iframeManager:qs,stylesheetManager:Ol,shadowDomManager:Ll,processedNodeManager:Fl,canvasManager,ignoreCSSAttributes:Ls,plugins:((xl=As==null?void 0:As.filter(Al=>Al.observer))===null||xl===void 0?void 0:xl.map(Al=>({observer:Al.observer,options:Al.options,callback:Dl=>wrappedEmit(wrapEvent({type:EventType$1.Plugin,data:{plugin:Al.name,payload:Dl}}))})))||[]},vs)};qs.addLoadListener(Tl=>{try{$l.push(Cl(Tl.contentDocument))}catch(xl){console.warn(xl)}});const wl=()=>{takeFullSnapshot(),$l.push(Cl(document)),recording=!0};return document.readyState==="interactive"||document.readyState==="complete"?wl():($l.push(on("DOMContentLoaded",()=>{wrappedEmit(wrapEvent({type:EventType$1.DomContentLoaded,data:{}})),ks==="DOMContentLoaded"&&wl()})),$l.push(on("load",()=>{wrappedEmit(wrapEvent({type:EventType$1.Load,data:{}})),ks==="load"&&wl()},window))),()=>{$l.forEach(Tl=>Tl()),Fl.destroy(),recording=!1,unregisterErrorHandler()}}catch($l){console.warn($l)}}record.addCustomEvent=(ts,ns)=>{if(!recording)throw new Error("please add custom event after start recording");wrappedEmit(wrapEvent({type:EventType$1.Custom,data:{tag:ts,payload:ns}}))};record.freezePage=()=>{mutationBuffers.forEach(ts=>ts.freeze())};record.takeFullSnapshot=ts=>{if(!recording)throw new Error("please take full snapshot after start recording");takeFullSnapshot(ts)};record.mirror=mirror;var EventType=(ts=>(ts[ts.DomContentLoaded=0]="DomContentLoaded",ts[ts.Load=1]="Load",ts[ts.FullSnapshot=2]="FullSnapshot",ts[ts.IncrementalSnapshot=3]="IncrementalSnapshot",ts[ts.Meta=4]="Meta",ts[ts.Custom=5]="Custom",ts[ts.Plugin=6]="Plugin",ts))(EventType||{}),IncrementalSource=(ts=>(ts[ts.Mutation=0]="Mutation",ts[ts.MouseMove=1]="MouseMove",ts[ts.MouseInteraction=2]="MouseInteraction",ts[ts.Scroll=3]="Scroll",ts[ts.ViewportResize=4]="ViewportResize",ts[ts.Input=5]="Input",ts[ts.TouchMove=6]="TouchMove",ts[ts.MediaInteraction=7]="MediaInteraction",ts[ts.StyleSheetRule=8]="StyleSheetRule",ts[ts.CanvasMutation=9]="CanvasMutation",ts[ts.Font=10]="Font",ts[ts.Log=11]="Log",ts[ts.Drag=12]="Drag",ts[ts.StyleDeclaration=13]="StyleDeclaration",ts[ts.Selection=14]="Selection",ts[ts.AdoptedStyleSheet=15]="AdoptedStyleSheet",ts[ts.CustomElement=16]="CustomElement",ts))(IncrementalSource||{}),Config$1={DEBUG:!1,LIB_VERSION:"2.54.0"},win;if(typeof window>"u"){var loc={hostname:""};win={navigator:{userAgent:""},document:{location:loc,referrer:""},screen:{width:0,height:0},location:loc}}else win=window;var MAX_RECORDING_MS=24*60*60*1e3,ArrayProto=Array.prototype,FuncProto=Function.prototype,ObjProto=Object.prototype,slice=ArrayProto.slice,toString$2=ObjProto.toString,hasOwnProperty$2=ObjProto.hasOwnProperty,windowConsole=win.console,navigator$1=win.navigator,document$1=win.document,windowOpera=win.opera,screen=win.screen,userAgent=navigator$1.userAgent,nativeBind=FuncProto.bind,nativeForEach=ArrayProto.forEach,nativeIndexOf=ArrayProto.indexOf,nativeMap=ArrayProto.map,nativeIsArray=Array.isArray,breaker={},_$1={trim:function(ts){return ts.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},console$1={log:function(){if(Config$1.DEBUG&&!_$1.isUndefined(windowConsole)&&windowConsole)try{windowConsole.log.apply(windowConsole,arguments)}catch{_$1.each(arguments,function(ns){windowConsole.log(ns)})}},warn:function(){if(Config$1.DEBUG&&!_$1.isUndefined(windowConsole)&&windowConsole){var ts=["Mixpanel warning:"].concat(_$1.toArray(arguments));try{windowConsole.warn.apply(windowConsole,ts)}catch{_$1.each(ts,function(rs){windowConsole.warn(rs)})}}},error:function(){if(Config$1.DEBUG&&!_$1.isUndefined(windowConsole)&&windowConsole){var ts=["Mixpanel error:"].concat(_$1.toArray(arguments));try{windowConsole.error.apply(windowConsole,ts)}catch{_$1.each(ts,function(rs){windowConsole.error(rs)})}}},critical:function(){if(!_$1.isUndefined(windowConsole)&&windowConsole){var ts=["Mixpanel error:"].concat(_$1.toArray(arguments));try{windowConsole.error.apply(windowConsole,ts)}catch{_$1.each(ts,function(rs){windowConsole.error(rs)})}}}},log_func_with_prefix=function(ts,ns){return function(){return arguments[0]="["+ns+"] "+arguments[0],ts.apply(console$1,arguments)}},console_with_prefix=function(ts){return{log:log_func_with_prefix(console$1.log,ts),error:log_func_with_prefix(console$1.error,ts),critical:log_func_with_prefix(console$1.critical,ts)}};_$1.bind=function(ts,ns){var rs,is;if(nativeBind&&ts.bind===nativeBind)return nativeBind.apply(ts,slice.call(arguments,1));if(!_$1.isFunction(ts))throw new TypeError;return rs=slice.call(arguments,2),is=function(){if(!(this instanceof is))return ts.apply(ns,rs.concat(slice.call(arguments)));var os={};os.prototype=ts.prototype;var ss=new os;os.prototype=null;var as=ts.apply(ss,rs.concat(slice.call(arguments)));return Object(as)===as?as:ss},is};_$1.each=function(ts,ns,rs){if(ts!=null){if(nativeForEach&&ts.forEach===nativeForEach)ts.forEach(ns,rs);else if(ts.length===+ts.length){for(var is=0,os=ts.length;is<os;is++)if(is in ts&&ns.call(rs,ts[is],is,ts)===breaker)return}else for(var ss in ts)if(hasOwnProperty$2.call(ts,ss)&&ns.call(rs,ts[ss],ss,ts)===breaker)return}};_$1.extend=function(ts){return _$1.each(slice.call(arguments,1),function(ns){for(var rs in ns)ns[rs]!==void 0&&(ts[rs]=ns[rs])}),ts};_$1.isArray=nativeIsArray||function(ts){return toString$2.call(ts)==="[object Array]"};_$1.isFunction=function(ts){try{return/^\s*\bfunction\b/.test(ts)}catch{return!1}};_$1.isArguments=function(ts){return!!(ts&&hasOwnProperty$2.call(ts,"callee"))};_$1.toArray=function(ts){return ts?ts.toArray?ts.toArray():_$1.isArray(ts)||_$1.isArguments(ts)?slice.call(ts):_$1.values(ts):[]};_$1.map=function(ts,ns,rs){if(nativeMap&&ts.map===nativeMap)return ts.map(ns,rs);var is=[];return _$1.each(ts,function(os){is.push(ns.call(rs,os))}),is};_$1.keys=function(ts){var ns=[];return ts===null||_$1.each(ts,function(rs,is){ns[ns.length]=is}),ns};_$1.values=function(ts){var ns=[];return ts===null||_$1.each(ts,function(rs){ns[ns.length]=rs}),ns};_$1.include=function(ts,ns){var rs=!1;return ts===null?rs:nativeIndexOf&&ts.indexOf===nativeIndexOf?ts.indexOf(ns)!=-1:(_$1.each(ts,function(is){if(rs||(rs=is===ns))return breaker}),rs)};_$1.includes=function(ts,ns){return ts.indexOf(ns)!==-1};_$1.inherit=function(ts,ns){return ts.prototype=new ns,ts.prototype.constructor=ts,ts.superclass=ns.prototype,ts};_$1.isObject=function(ts){return ts===Object(ts)&&!_$1.isArray(ts)};_$1.isEmptyObject=function(ts){if(_$1.isObject(ts)){for(var ns in ts)if(hasOwnProperty$2.call(ts,ns))return!1;return!0}return!1};_$1.isUndefined=function(ts){return ts===void 0};_$1.isString=function(ts){return toString$2.call(ts)=="[object String]"};_$1.isDate=function(ts){return toString$2.call(ts)=="[object Date]"};_$1.isNumber=function(ts){return toString$2.call(ts)=="[object Number]"};_$1.isElement=function(ts){return!!(ts&&ts.nodeType===1)};_$1.encodeDates=function(ts){return _$1.each(ts,function(ns,rs){_$1.isDate(ns)?ts[rs]=_$1.formatDate(ns):_$1.isObject(ns)&&(ts[rs]=_$1.encodeDates(ns))}),ts};_$1.timestamp=function(){return Date.now=Date.now||function(){return+new Date},Date.now()};_$1.formatDate=function(ts){function ns(rs){return rs<10?"0"+rs:rs}return ts.getUTCFullYear()+"-"+ns(ts.getUTCMonth()+1)+"-"+ns(ts.getUTCDate())+"T"+ns(ts.getUTCHours())+":"+ns(ts.getUTCMinutes())+":"+ns(ts.getUTCSeconds())};_$1.strip_empty_properties=function(ts){var ns={};return _$1.each(ts,function(rs,is){_$1.isString(rs)&&rs.length>0&&(ns[is]=rs)}),ns};_$1.truncate=function(ts,ns){var rs;return typeof ts=="string"?rs=ts.slice(0,ns):_$1.isArray(ts)?(rs=[],_$1.each(ts,function(is){rs.push(_$1.truncate(is,ns))})):_$1.isObject(ts)?(rs={},_$1.each(ts,function(is,os){rs[os]=_$1.truncate(is,ns)})):rs=ts,rs};_$1.JSONEncode=function(){return function(ts){var ns=ts,rs=function(os){var ss=/[\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,as={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return ss.lastIndex=0,ss.test(os)?'"'+os.replace(ss,function(ls){var cs=as[ls];return typeof cs=="string"?cs:"\\u"+("0000"+ls.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+os+'"'},is=function(os,ss){var as="",ls="    ",cs=0,us="",ds="",ps=0,hs=as,ms=[],gs=ss[os];switch(gs&&typeof gs=="object"&&typeof gs.toJSON=="function"&&(gs=gs.toJSON(os)),typeof gs){case"string":return rs(gs);case"number":return isFinite(gs)?String(gs):"null";case"boolean":case"null":return String(gs);case"object":if(!gs)return"null";if(as+=ls,ms=[],toString$2.apply(gs)==="[object Array]"){for(ps=gs.length,cs=0;cs<ps;cs+=1)ms[cs]=is(cs,gs)||"null";return ds=ms.length===0?"[]":as?"[\n"+as+ms.join(",\n"+as)+"\n"+hs+"]":"["+ms.join(",")+"]",as=hs,ds}for(us in gs)hasOwnProperty$2.call(gs,us)&&(ds=is(us,gs),ds&&ms.push(rs(us)+(as?": ":":")+ds));return ds=ms.length===0?"{}":as?"{"+ms.join(",")+hs+"}":"{"+ms.join(",")+"}",as=hs,ds}};return is("",{"":ns})}}();_$1.JSONDecode=function(){var ts,ns,rs={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"	"},is,os=function(ms){var gs=new SyntaxError(ms);throw gs.at=ts,gs.text=is,gs},ss=function(ms){return ms&&ms!==ns&&os("Expected '"+ms+"' instead of '"+ns+"'"),ns=is.charAt(ts),ts+=1,ns},as=function(){var ms,gs="";for(ns==="-"&&(gs="-",ss("-"));ns>="0"&&ns<="9";)gs+=ns,ss();if(ns===".")for(gs+=".";ss()&&ns>="0"&&ns<="9";)gs+=ns;if(ns==="e"||ns==="E")for(gs+=ns,ss(),(ns==="-"||ns==="+")&&(gs+=ns,ss());ns>="0"&&ns<="9";)gs+=ns,ss();if(ms=+gs,!isFinite(ms))os("Bad number");else return ms},ls=function(){var ms,gs,ys="",vs;if(ns==='"')for(;ss();){if(ns==='"')return ss(),ys;if(ns==="\\")if(ss(),ns==="u"){for(vs=0,gs=0;gs<4&&(ms=parseInt(ss(),16),!!isFinite(ms));gs+=1)vs=vs*16+ms;ys+=String.fromCharCode(vs)}else if(typeof rs[ns]=="string")ys+=rs[ns];else break;else ys+=ns}os("Bad string")},cs=function(){for(;ns&&ns<=" ";)ss()},us=function(){switch(ns){case"t":return ss("t"),ss("r"),ss("u"),ss("e"),!0;case"f":return ss("f"),ss("a"),ss("l"),ss("s"),ss("e"),!1;case"n":return ss("n"),ss("u"),ss("l"),ss("l"),null}os('Unexpected "'+ns+'"')},ds,ps=function(){var ms=[];if(ns==="["){if(ss("["),cs(),ns==="]")return ss("]"),ms;for(;ns;){if(ms.push(ds()),cs(),ns==="]")return ss("]"),ms;ss(","),cs()}}os("Bad array")},hs=function(){var ms,gs={};if(ns==="{"){if(ss("{"),cs(),ns==="}")return ss("}"),gs;for(;ns;){if(ms=ls(),cs(),ss(":"),Object.hasOwnProperty.call(gs,ms)&&os('Duplicate key "'+ms+'"'),gs[ms]=ds(),cs(),ns==="}")return ss("}"),gs;ss(","),cs()}}os("Bad object")};return ds=function(){switch(cs(),ns){case"{":return hs();case"[":return ps();case'"':return ls();case"-":return as();default:return ns>="0"&&ns<="9"?as():us()}},function(ms){var gs;return is=ms,ts=0,ns=" ",gs=ds(),cs(),ns&&os("Syntax error"),gs}}();_$1.base64Encode=function(ts){var ns="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",rs,is,os,ss,as,ls,cs,us,ds=0,ps=0,hs="",ms=[];if(!ts)return ts;ts=_$1.utf8Encode(ts);do rs=ts.charCodeAt(ds++),is=ts.charCodeAt(ds++),os=ts.charCodeAt(ds++),us=rs<<16|is<<8|os,ss=us>>18&63,as=us>>12&63,ls=us>>6&63,cs=us&63,ms[ps++]=ns.charAt(ss)+ns.charAt(as)+ns.charAt(ls)+ns.charAt(cs);while(ds<ts.length);switch(hs=ms.join(""),ts.length%3){case 1:hs=hs.slice(0,-2)+"==";break;case 2:hs=hs.slice(0,-1)+"=";break}return hs};_$1.utf8Encode=function(ts){ts=(ts+"").replace(/\r\n/g,"\n").replace(/\r/g,"\n");var ns="",rs,is,os=0,ss;for(rs=is=0,os=ts.length,ss=0;ss<os;ss++){var as=ts.charCodeAt(ss),ls=null;as<128?is++:as>127&&as<2048?ls=String.fromCharCode(as>>6|192,as&63|128):ls=String.fromCharCode(as>>12|224,as>>6&63|128,as&63|128),ls!==null&&(is>rs&&(ns+=ts.substring(rs,is)),ns+=ls,rs=is=ss+1)}return is>rs&&(ns+=ts.substring(rs,ts.length)),ns};_$1.UUID=function(){var ts=function(){var is=1*new Date,os;if(win.performance&&win.performance.now)os=win.performance.now();else for(os=0;is==1*new Date;)os++;return is.toString(16)+Math.floor(os).toString(16)},ns=function(){return Math.random().toString(16).replace(".","")},rs=function(){var is=userAgent,os,ss,as=[],ls=0;function cs(us,ds){var ps,hs=0;for(ps=0;ps<ds.length;ps++)hs|=as[ps]<<ps*8;return us^hs}for(os=0;os<is.length;os++)ss=is.charCodeAt(os),as.unshift(ss&255),as.length>=4&&(ls=cs(ls,as),as=[]);return as.length>0&&(ls=cs(ls,as)),ls.toString(16)};return function(){var is=(screen.height*screen.width).toString(16);return ts()+"-"+ns()+"-"+rs()+"-"+is+"-"+ts()}}();var BLOCKED_UA_STRS=["ahrefsbot","ahrefssiteaudit","baiduspider","bingbot","bingpreview","chrome-lighthouse","facebookexternal","petalbot","pinterest","screaming frog","yahoo! slurp","yandexbot","adsbot-google","apis-google","duplexweb-google","feedfetcher-google","google favicon","google web preview","google-read-aloud","googlebot","googleweblight","mediapartners-google","storebot-google"];_$1.isBlockedUA=function(ts){var ns;for(ts=ts.toLowerCase(),ns=0;ns<BLOCKED_UA_STRS.length;ns++)if(ts.indexOf(BLOCKED_UA_STRS[ns])!==-1)return!0;return!1};_$1.HTTPBuildQuery=function(ts,ns){var rs,is,os=[];return _$1.isUndefined(ns)&&(ns="&"),_$1.each(ts,function(ss,as){rs=encodeURIComponent(ss.toString()),is=encodeURIComponent(as),os[os.length]=is+"="+rs}),os.join(ns)};_$1.getQueryParam=function(ts,ns){ns=ns.replace(/[[]/,"\\[").replace(/[\]]/,"\\]");var rs="[\\?&]"+ns+"=([^&#]*)",is=new RegExp(rs),os=is.exec(ts);if(os===null||os&&typeof os[1]!="string"&&os[1].length)return"";var ss=os[1];try{ss=decodeURIComponent(ss)}catch{console$1.error("Skipping decoding for malformed query param: "+ss)}return ss.replace(/\+/g," ")};_$1.cookie={get:function(ts){for(var ns=ts+"=",rs=document$1.cookie.split(";"),is=0;is<rs.length;is++){for(var os=rs[is];os.charAt(0)==" ";)os=os.substring(1,os.length);if(os.indexOf(ns)===0)return decodeURIComponent(os.substring(ns.length,os.length))}return null},parse:function(ts){var ns;try{ns=_$1.JSONDecode(_$1.cookie.get(ts))||{}}catch{}return ns},set_seconds:function(ts,ns,rs,is,os,ss,as){var ls="",cs="",us="";if(as)ls="; domain="+as;else if(is){var ds=extract_domain(document$1.location.hostname);ls=ds?"; domain=."+ds:""}if(rs){var ps=new Date;ps.setTime(ps.getTime()+rs*1e3),cs="; expires="+ps.toGMTString()}ss&&(os=!0,us="; SameSite=None"),os&&(us+="; secure"),document$1.cookie=ts+"="+encodeURIComponent(ns)+cs+"; path=/"+ls+us},set:function(ts,ns,rs,is,os,ss,as){var ls="",cs="",us="";if(as)ls="; domain="+as;else if(is){var ds=extract_domain(document$1.location.hostname);ls=ds?"; domain=."+ds:""}if(rs){var ps=new Date;ps.setTime(ps.getTime()+rs*24*60*60*1e3),cs="; expires="+ps.toGMTString()}ss&&(os=!0,us="; SameSite=None"),os&&(us+="; secure");var hs=ts+"="+encodeURIComponent(ns)+cs+"; path=/"+ls+us;return document$1.cookie=hs,hs},remove:function(ts,ns,rs){_$1.cookie.set(ts,"",-1,ns,!1,!1,rs)}};var _localStorageSupported=null,localStorageSupported=function(ts,ns){if(_localStorageSupported!==null&&!ns)return _localStorageSupported;var rs=!0;try{ts=ts||window.localStorage;var is="__mplss_"+cheap_guid(8),os="xyz";ts.setItem(is,os),ts.getItem(is)!==os&&(rs=!1),ts.removeItem(is)}catch{rs=!1}return _localStorageSupported=rs,rs};_$1.localStorage={is_supported:function(ts){var ns=localStorageSupported(null,ts);return ns||console$1.error("localStorage unsupported; falling back to cookie store"),ns},error:function(ts){console$1.error("localStorage error: "+ts)},get:function(ts){try{return window.localStorage.getItem(ts)}catch(ns){_$1.localStorage.error(ns)}return null},parse:function(ts){try{return _$1.JSONDecode(_$1.localStorage.get(ts))||{}}catch{}return null},set:function(ts,ns){try{window.localStorage.setItem(ts,ns)}catch(rs){_$1.localStorage.error(rs)}},remove:function(ts){try{window.localStorage.removeItem(ts)}catch(ns){_$1.localStorage.error(ns)}}};_$1.register_event=function(){var ts=function(is,os,ss,as,ls){if(!is){console$1.error("No valid element provided to register_event");return}if(is.addEventListener&&!as)is.addEventListener(os,ss,!!ls);else{var cs="on"+os,us=is[cs];is[cs]=ns(is,ss,us)}};function ns(is,os,ss){var as=function(ls){if(ls=ls||rs(window.event),!!ls){var cs=!0,us,ds;return _$1.isFunction(ss)&&(us=ss(ls)),ds=os.call(is,ls),(us===!1||ds===!1)&&(cs=!1),cs}};return as}function rs(is){return is&&(is.preventDefault=rs.preventDefault,is.stopPropagation=rs.stopPropagation),is}return rs.preventDefault=function(){this.returnValue=!1},rs.stopPropagation=function(){this.cancelBubble=!0},ts}();var TOKEN_MATCH_REGEX=new RegExp('^(\\w*)\\[(\\w+)([=~\\|\\^\\$\\*]?)=?"?([^\\]"]*)"?\\]$');_$1.dom_query=function(){function ts(os){return os.all?os.all:os.getElementsByTagName("*")}var ns=/[\t\r\n]/g;function rs(os,ss){var as=" "+ss+" ";return(" "+os.className+" ").replace(ns," ").indexOf(as)>=0}function is(os){if(!document$1.getElementsByTagName)return[];var ss=os.split(" "),as,ls,cs,us,ds,ps,hs,ms,gs,ys,vs=[document$1];for(ps=0;ps<ss.length;ps++){if(as=ss[ps].replace(/^\s+/,"").replace(/\s+$/,""),as.indexOf("#")>-1){ls=as.split("#"),cs=ls[0];var bs=ls[1],Ss=document$1.getElementById(bs);if(!Ss||cs&&Ss.nodeName.toLowerCase()!=cs)return[];vs=[Ss];continue}if(as.indexOf(".")>-1){ls=as.split("."),cs=ls[0];var $s=ls[1];for(cs||(cs="*"),us=[],ds=0,hs=0;hs<vs.length;hs++)for(cs=="*"?gs=ts(vs[hs]):gs=vs[hs].getElementsByTagName(cs),ms=0;ms<gs.length;ms++)us[ds++]=gs[ms];for(vs=[],ys=0,hs=0;hs<us.length;hs++)us[hs].className&&_$1.isString(us[hs].className)&&rs(us[hs],$s)&&(vs[ys++]=us[hs]);continue}var Cs=as.match(TOKEN_MATCH_REGEX);if(Cs){cs=Cs[1];var Es=Cs[2],xs=Cs[3],ws=Cs[4];for(cs||(cs="*"),us=[],ds=0,hs=0;hs<vs.length;hs++)for(cs=="*"?gs=ts(vs[hs]):gs=vs[hs].getElementsByTagName(cs),ms=0;ms<gs.length;ms++)us[ds++]=gs[ms];vs=[],ys=0;var ks;switch(xs){case"=":ks=function(Is){return Is.getAttribute(Es)==ws};break;case"~":ks=function(Is){return Is.getAttribute(Es).match(new RegExp("\\b"+ws+"\\b"))};break;case"|":ks=function(Is){return Is.getAttribute(Es).match(new RegExp("^"+ws+"-?"))};break;case"^":ks=function(Is){return Is.getAttribute(Es).indexOf(ws)===0};break;case"$":ks=function(Is){return Is.getAttribute(Es).lastIndexOf(ws)==Is.getAttribute(Es).length-ws.length};break;case"*":ks=function(Is){return Is.getAttribute(Es).indexOf(ws)>-1};break;default:ks=function(Is){return Is.getAttribute(Es)}}for(vs=[],ys=0,hs=0;hs<us.length;hs++)ks(us[hs])&&(vs[ys++]=us[hs]);continue}for(cs=as,us=[],ds=0,hs=0;hs<vs.length;hs++)for(gs=vs[hs].getElementsByTagName(cs),ms=0;ms<gs.length;ms++)us[ds++]=gs[ms];vs=us}return vs}return function(os){return _$1.isElement(os)?[os]:_$1.isObject(os)&&!_$1.isUndefined(os.length)?os:is.call(this,os)}}();var CAMPAIGN_KEYWORDS=["utm_source","utm_medium","utm_campaign","utm_content","utm_term"],CLICK_IDS=["dclid","fbclid","gclid","ko_click_id","li_fat_id","msclkid","ttclid","twclid","wbraid"];_$1.info={campaignParams:function(ts){var ns="",rs={};return _$1.each(CAMPAIGN_KEYWORDS,function(is){ns=_$1.getQueryParam(document$1.URL,is),ns.length?rs[is]=ns:ts!==void 0&&(rs[is]=ts)}),rs},clickParams:function(){var ts="",ns={};return _$1.each(CLICK_IDS,function(rs){ts=_$1.getQueryParam(document$1.URL,rs),ts.length&&(ns[rs]=ts)}),ns},marketingParams:function(){return _$1.extend(_$1.info.campaignParams(),_$1.info.clickParams())},searchEngine:function(ts){return ts.search("https?://(.*)google.([^/?]*)")===0?"google":ts.search("https?://(.*)bing.com")===0?"bing":ts.search("https?://(.*)yahoo.com")===0?"yahoo":ts.search("https?://(.*)duckduckgo.com")===0?"duckduckgo":null},searchInfo:function(ts){var ns=_$1.info.searchEngine(ts),rs=ns!="yahoo"?"q":"p",is={};if(ns!==null){is.$search_engine=ns;var os=_$1.getQueryParam(ts,rs);os.length&&(is.mp_keyword=os)}return is},browser:function(ts,ns,rs){return ns=ns||"",rs||_$1.includes(ts," OPR/")?_$1.includes(ts,"Mini")?"Opera Mini":"Opera":/(BlackBerry|PlayBook|BB10)/i.test(ts)?"BlackBerry":_$1.includes(ts,"IEMobile")||_$1.includes(ts,"WPDesktop")?"Internet Explorer Mobile":_$1.includes(ts,"SamsungBrowser/")?"Samsung Internet":_$1.includes(ts,"Edge")||_$1.includes(ts,"Edg/")?"Microsoft Edge":_$1.includes(ts,"FBIOS")?"Facebook Mobile":_$1.includes(ts,"Chrome")?"Chrome":_$1.includes(ts,"CriOS")?"Chrome iOS":_$1.includes(ts,"UCWEB")||_$1.includes(ts,"UCBrowser")?"UC Browser":_$1.includes(ts,"FxiOS")?"Firefox iOS":_$1.includes(ns,"Apple")?_$1.includes(ts,"Mobile")?"Mobile Safari":"Safari":_$1.includes(ts,"Android")?"Android Mobile":_$1.includes(ts,"Konqueror")?"Konqueror":_$1.includes(ts,"Firefox")?"Firefox":_$1.includes(ts,"MSIE")||_$1.includes(ts,"Trident/")?"Internet Explorer":_$1.includes(ts,"Gecko")?"Mozilla":""},browserVersion:function(ts,ns,rs){var is=_$1.info.browser(ts,ns,rs),os={"Internet Explorer Mobile":/rv:(\d+(\.\d+)?)/,"Microsoft Edge":/Edge?\/(\d+(\.\d+)?)/,Chrome:/Chrome\/(\d+(\.\d+)?)/,"Chrome iOS":/CriOS\/(\d+(\.\d+)?)/,"UC Browser":/(UCBrowser|UCWEB)\/(\d+(\.\d+)?)/,Safari:/Version\/(\d+(\.\d+)?)/,"Mobile Safari":/Version\/(\d+(\.\d+)?)/,Opera:/(Opera|OPR)\/(\d+(\.\d+)?)/,Firefox:/Firefox\/(\d+(\.\d+)?)/,"Firefox iOS":/FxiOS\/(\d+(\.\d+)?)/,Konqueror:/Konqueror:(\d+(\.\d+)?)/,BlackBerry:/BlackBerry (\d+(\.\d+)?)/,"Android Mobile":/android\s(\d+(\.\d+)?)/,"Samsung Internet":/SamsungBrowser\/(\d+(\.\d+)?)/,"Internet Explorer":/(rv:|MSIE )(\d+(\.\d+)?)/,Mozilla:/rv:(\d+(\.\d+)?)/},ss=os[is];if(ss===void 0)return null;var as=ts.match(ss);return as?parseFloat(as[as.length-2]):null},os:function(){var ts=userAgent;return/Windows/i.test(ts)?/Phone/.test(ts)||/WPDesktop/.test(ts)?"Windows Phone":"Windows":/(iPhone|iPad|iPod)/.test(ts)?"iOS":/Android/.test(ts)?"Android":/(BlackBerry|PlayBook|BB10)/i.test(ts)?"BlackBerry":/Mac/i.test(ts)?"Mac OS X":/Linux/.test(ts)?"Linux":/CrOS/.test(ts)?"Chrome OS":""},device:function(ts){return/Windows Phone/i.test(ts)||/WPDesktop/.test(ts)?"Windows Phone":/iPad/.test(ts)?"iPad":/iPod/.test(ts)?"iPod Touch":/iPhone/.test(ts)?"iPhone":/(BlackBerry|PlayBook|BB10)/i.test(ts)?"BlackBerry":/Android/.test(ts)?"Android":""},referringDomain:function(ts){var ns=ts.split("/");return ns.length>=3?ns[2]:""},currentUrl:function(){return win.location.href},properties:function(ts){return typeof ts!="object"&&(ts={}),_$1.extend(_$1.strip_empty_properties({$os:_$1.info.os(),$browser:_$1.info.browser(userAgent,navigator$1.vendor,windowOpera),$referrer:document$1.referrer,$referring_domain:_$1.info.referringDomain(document$1.referrer),$device:_$1.info.device(userAgent)}),{$current_url:_$1.info.currentUrl(),$browser_version:_$1.info.browserVersion(userAgent,navigator$1.vendor,windowOpera),$screen_height:screen.height,$screen_width:screen.width,mp_lib:"web",$lib_version:Config$1.LIB_VERSION,$insert_id:cheap_guid(),time:_$1.timestamp()/1e3},_$1.strip_empty_properties(ts))},people_properties:function(){return _$1.extend(_$1.strip_empty_properties({$os:_$1.info.os(),$browser:_$1.info.browser(userAgent,navigator$1.vendor,windowOpera)}),{$browser_version:_$1.info.browserVersion(userAgent,navigator$1.vendor,windowOpera)})},mpPageViewProperties:function(){return _$1.strip_empty_properties({current_page_title:document$1.title,current_domain:win.location.hostname,current_url_path:win.location.pathname,current_url_protocol:win.location.protocol,current_url_search:win.location.search})}};var cheap_guid=function(ts){var ns=Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10);return ts?ns.substring(0,ts):ns},SIMPLE_DOMAIN_MATCH_REGEX=/[a-z0-9][a-z0-9-]*\.[a-z]+$/i,DOMAIN_MATCH_REGEX=/[a-z0-9][a-z0-9-]+\.[a-z.]{2,6}$/i,extract_domain=function(ts){var ns=DOMAIN_MATCH_REGEX,rs=ts.split("."),is=rs[rs.length-1];(is.length>4||is==="com"||is==="org")&&(ns=SIMPLE_DOMAIN_MATCH_REGEX);var os=ts.match(ns);return os?os[0]:""},JSONStringify=null,JSONParse=null;typeof JSON<"u"&&(JSONStringify=JSON.stringify,JSONParse=JSON.parse);JSONStringify=JSONStringify||_$1.JSONEncode;JSONParse=JSONParse||_$1.JSONDecode;_$1.toArray=_$1.toArray;_$1.isObject=_$1.isObject;_$1.JSONEncode=_$1.JSONEncode;_$1.JSONDecode=_$1.JSONDecode;_$1.isBlockedUA=_$1.isBlockedUA;_$1.isEmptyObject=_$1.isEmptyObject;_$1.info=_$1.info;_$1.info.device=_$1.info.device;_$1.info.browser=_$1.info.browser;_$1.info.browserVersion=_$1.info.browserVersion;_$1.info.properties=_$1.info.properties;var GDPR_DEFAULT_PERSISTENCE_PREFIX="__mp_opt_in_out_";function optIn(ts,ns){_optInOut(!0,ts,ns)}function optOut(ts,ns){_optInOut(!1,ts,ns)}function hasOptedIn(ts,ns){return _getStorageValue(ts,ns)==="1"}function hasOptedOut(ts,ns){if(_hasDoNotTrackFlagOn(ns))return console$1.warn('This browser has "Do Not Track" enabled. This will prevent the Mixpanel SDK from sending any data. To ignore the "Do Not Track" browser setting, initialize the Mixpanel instance with the config "ignore_dnt: true"'),!0;var rs=_getStorageValue(ts,ns)==="0";return rs&&console$1.warn("You are opted out of Mixpanel tracking. This will prevent the Mixpanel SDK from sending any data."),rs}function addOptOutCheckMixpanelLib(ts){return _addOptOutCheck(ts,function(ns){return this.get_config(ns)})}function addOptOutCheckMixpanelPeople(ts){return _addOptOutCheck(ts,function(ns){return this._get_config(ns)})}function addOptOutCheckMixpanelGroup(ts){return _addOptOutCheck(ts,function(ns){return this._get_config(ns)})}function clearOptInOut(ts,ns){ns=ns||{},_getStorage(ns).remove(_getStorageKey(ts,ns),!!ns.crossSubdomainCookie,ns.cookieDomain)}function _getStorage(ts){return ts=ts||{},ts.persistenceType==="localStorage"?_$1.localStorage:_$1.cookie}function _getStorageKey(ts,ns){return ns=ns||{},(ns.persistencePrefix||GDPR_DEFAULT_PERSISTENCE_PREFIX)+ts}function _getStorageValue(ts,ns){return _getStorage(ns).get(_getStorageKey(ts,ns))}function _hasDoNotTrackFlagOn(ts){if(ts&&ts.ignoreDnt)return!1;var ns=ts&&ts.window||win,rs=ns.navigator||{},is=!1;return _$1.each([rs.doNotTrack,rs.msDoNotTrack,ns.doNotTrack],function(os){_$1.includes([!0,1,"1","yes"],os)&&(is=!0)}),is}function _optInOut(ts,ns,rs){if(!_$1.isString(ns)||!ns.length){console$1.error("gdpr."+(ts?"optIn":"optOut")+" called with an invalid token");return}rs=rs||{},_getStorage(rs).set(_getStorageKey(ns,rs),ts?1:0,_$1.isNumber(rs.cookieExpiration)?rs.cookieExpiration:null,!!rs.crossSubdomainCookie,!!rs.secureCookie,!!rs.crossSiteCookie,rs.cookieDomain),rs.track&&ts&&rs.track(rs.trackEventName||"$opt_in",rs.trackProperties,{send_immediately:!0})}function _addOptOutCheck(ts,ns){return function(){var rs=!1;try{var is=ns.call(this,"token"),os=ns.call(this,"ignore_dnt"),ss=ns.call(this,"opt_out_tracking_persistence_type"),as=ns.call(this,"opt_out_tracking_cookie_prefix"),ls=ns.call(this,"window");is&&(rs=hasOptedOut(is,{ignoreDnt:os,persistenceType:ss,persistencePrefix:as,window:ls}))}catch(us){console$1.error("Unexpected error when checking tracking opt-out status: "+us)}if(!rs)return ts.apply(this,arguments);var cs=arguments[arguments.length-1];typeof cs=="function"&&cs(0)}}var logger$3=console_with_prefix("lock"),SharedLock=function(ts,ns){ns=ns||{},this.storageKey=ts,this.storage=ns.storage||window.localStorage,this.pollIntervalMS=ns.pollIntervalMS||100,this.timeoutMS=ns.timeoutMS||2e3};SharedLock.prototype.withLock=function(ts,ns,rs){!rs&&typeof ns!="function"&&(rs=ns,ns=null);var is=rs||new Date().getTime()+"|"+Math.random(),os=new Date().getTime(),ss=this.storageKey,as=this.pollIntervalMS,ls=this.timeoutMS,cs=this.storage,us=ss+":X",ds=ss+":Y",ps=ss+":Z",hs=function(Ss){ns&&ns(Ss)},ms=function(Ss){if(new Date().getTime()-os>ls){logger$3.error("Timeout waiting for mutex on "+ss+"; clearing lock. ["+is+"]"),cs.removeItem(ps),cs.removeItem(ds),vs();return}setTimeout(function(){try{Ss()}catch($s){hs($s)}},as*(Math.random()+.1))},gs=function(Ss,$s){Ss()?$s():ms(function(){gs(Ss,$s)})},ys=function(){var Ss=cs.getItem(ds);if(Ss&&Ss!==is)return!1;if(cs.setItem(ds,is),cs.getItem(ds)===is)return!0;if(!localStorageSupported(cs,!0))throw new Error("localStorage support dropped while acquiring lock");return!1},vs=function(){cs.setItem(us,is),gs(ys,function(){if(cs.getItem(us)===is){bs();return}ms(function(){if(cs.getItem(ds)!==is){vs();return}gs(function(){return!cs.getItem(ps)},bs)})})},bs=function(){cs.setItem(ps,"1");try{ts()}finally{cs.removeItem(ps),cs.getItem(ds)===is&&cs.removeItem(ds),cs.getItem(us)===is&&cs.removeItem(us)}};try{if(localStorageSupported(cs,!0))vs();else throw new Error("localStorage support check failed")}catch(Ss){hs(Ss)}};var logger$2=console_with_prefix("batch"),RequestQueue=function(ts,ns){ns=ns||{},this.storageKey=ts,this.storage=ns.storage||window.localStorage,this.reportError=ns.errorReporter||_$1.bind(logger$2.error,logger$2),this.lock=new SharedLock(ts,{storage:this.storage}),this.usePersistence=ns.usePersistence,this.pid=ns.pid||null,this.memQueue=[]};RequestQueue.prototype.enqueue=function(ts,ns,rs){var is={id:cheap_guid(),flushAfter:new Date().getTime()+ns*2,payload:ts};this.usePersistence?this.lock.withLock(_$1.bind(function(){var ss;try{var as=this.readFromStorage();as.push(is),ss=this.saveToStorage(as),ss&&this.memQueue.push(is)}catch{this.reportError("Error enqueueing item",ts),ss=!1}rs&&rs(ss)},this),_$1.bind(function(ss){this.reportError("Error acquiring storage lock",ss),rs&&rs(!1)},this),this.pid):(this.memQueue.push(is),rs&&rs(!0))};RequestQueue.prototype.fillBatch=function(ts){var ns=this.memQueue.slice(0,ts);if(this.usePersistence&&ns.length<ts){var rs=this.readFromStorage();if(rs.length){var is={};_$1.each(ns,function(as){is[as.id]=!0});for(var os=0;os<rs.length;os++){var ss=rs[os];if(new Date().getTime()>ss.flushAfter&&!is[ss.id]&&(ss.orphaned=!0,ns.push(ss),ns.length>=ts))break}}}return ns};var filterOutIDsAndInvalid=function(ts,ns){var rs=[];return _$1.each(ts,function(is){is.id&&!ns[is.id]&&rs.push(is)}),rs};RequestQueue.prototype.removeItemsByID=function(ts,ns){var rs={};if(_$1.each(ts,function(os){rs[os]=!0}),this.memQueue=filterOutIDsAndInvalid(this.memQueue,rs),!this.usePersistence)ns&&ns(!0);else{var is=_$1.bind(function(){var os;try{var ss=this.readFromStorage();if(ss=filterOutIDsAndInvalid(ss,rs),os=this.saveToStorage(ss),os){ss=this.readFromStorage();for(var as=0;as<ss.length;as++){var ls=ss[as];if(ls.id&&rs[ls.id])return this.reportError("Item not removed from storage"),!1}}}catch{this.reportError("Error removing items",ts),os=!1}return os},this);this.lock.withLock(function(){var ss=is();ns&&ns(ss)},_$1.bind(function(ss){var as=!1;if(this.reportError("Error acquiring storage lock",ss),!localStorageSupported(this.storage,!0)&&(as=is(),!as))try{this.storage.removeItem(this.storageKey)}catch(ls){this.reportError("Error clearing queue",ls)}ns&&ns(as)},this),this.pid)}};var updatePayloads=function(ts,ns){var rs=[];return _$1.each(ts,function(is){var os=is.id;if(os in ns){var ss=ns[os];ss!==null&&(is.payload=ss,rs.push(is))}else rs.push(is)}),rs};RequestQueue.prototype.updatePayloads=function(ts,ns){this.memQueue=updatePayloads(this.memQueue,ts),this.usePersistence?this.lock.withLock(_$1.bind(function(){var is;try{var os=this.readFromStorage();os=updatePayloads(os,ts),is=this.saveToStorage(os)}catch{this.reportError("Error updating items",ts),is=!1}ns&&ns(is)},this),_$1.bind(function(is){this.reportError("Error acquiring storage lock",is),ns&&ns(!1)},this),this.pid):ns&&ns(!0)};RequestQueue.prototype.readFromStorage=function(){var ts;try{ts=this.storage.getItem(this.storageKey),ts&&(ts=JSONParse(ts),_$1.isArray(ts)||(this.reportError("Invalid storage entry:",ts),ts=null))}catch(ns){this.reportError("Error retrieving queue",ns),ts=null}return ts||[]};RequestQueue.prototype.saveToStorage=function(ts){try{return this.storage.setItem(this.storageKey,JSONStringify(ts)),!0}catch(ns){return this.reportError("Error saving queue",ns),!1}};RequestQueue.prototype.clear=function(){this.memQueue=[],this.usePersistence&&this.storage.removeItem(this.storageKey)};var MAX_RETRY_INTERVAL_MS=10*60*1e3,logger$1=console_with_prefix("batch"),RequestBatcher=function(ts,ns){this.errorReporter=ns.errorReporter,this.queue=new RequestQueue(ts,{errorReporter:_$1.bind(this.reportError,this),storage:ns.storage,usePersistence:ns.usePersistence}),this.libConfig=ns.libConfig,this.sendRequest=ns.sendRequestFunc,this.beforeSendHook=ns.beforeSendHook,this.stopAllBatching=ns.stopAllBatchingFunc,this.batchSize=this.libConfig.batch_size,this.flushInterval=this.libConfig.batch_flush_interval_ms,this.stopped=!this.libConfig.batch_autostart,this.consecutiveRemovalFailures=0,this.itemIdsSentSuccessfully={},this.flushOnlyOnInterval=ns.flushOnlyOnInterval||!1};RequestBatcher.prototype.enqueue=function(ts,ns){this.queue.enqueue(ts,this.flushInterval,ns)};RequestBatcher.prototype.start=function(){this.stopped=!1,this.consecutiveRemovalFailures=0,this.flush()};RequestBatcher.prototype.stop=function(){this.stopped=!0,this.timeoutID&&(clearTimeout(this.timeoutID),this.timeoutID=null)};RequestBatcher.prototype.clear=function(){this.queue.clear()};RequestBatcher.prototype.resetBatchSize=function(){this.batchSize=this.libConfig.batch_size};RequestBatcher.prototype.resetFlush=function(){this.scheduleFlush(this.libConfig.batch_flush_interval_ms)};RequestBatcher.prototype.scheduleFlush=function(ts){this.flushInterval=ts,this.stopped||(this.timeoutID=setTimeout(_$1.bind(this.flush,this),this.flushInterval))};RequestBatcher.prototype.flush=function(ts){try{if(this.requestInProgress){logger$1.log("Flush: Request already in progress");return}ts=ts||{};var ns=this.libConfig.batch_request_timeout_ms,rs=new Date().getTime(),is=this.batchSize,os=this.queue.fillBatch(is),ss=os.length===is,as=[],ls={};if(_$1.each(os,function(ds){var ps=ds.payload;if(this.beforeSendHook&&!ds.orphaned&&(ps=this.beforeSendHook(ps)),ps){ps.event&&ps.properties&&(ps.properties=_$1.extend({},ps.properties,{mp_sent_by_lib_version:Config$1.LIB_VERSION}));var hs=!0,ms=ds.id;ms?(this.itemIdsSentSuccessfully[ms]||0)>5&&(this.reportError("[dupe] item ID sent too many times, not sending",{item:ds,batchSize:os.length,timesSent:this.itemIdsSentSuccessfully[ms]}),hs=!1):this.reportError("[dupe] found item with no ID",{item:ds}),hs&&as.push(ps)}ls[ds.id]=ps},this),as.length<1){this.resetFlush();return}this.requestInProgress=!0;var cs=_$1.bind(function(ds){this.requestInProgress=!1;try{var ps=!1;if(ts.unloading)this.queue.updatePayloads(ls);else if(_$1.isObject(ds)&&ds.error==="timeout"&&new Date().getTime()-rs>=ns)this.reportError("Network timeout; retrying"),this.flush();else if(_$1.isObject(ds)&&(ds.httpStatusCode>=500||ds.httpStatusCode===429||ds.error==="timeout")){var hs=this.flushInterval*2;ds.retryAfter&&(hs=parseInt(ds.retryAfter,10)*1e3||hs),hs=Math.min(MAX_RETRY_INTERVAL_MS,hs),this.reportError("Error; retry in "+hs+" ms"),this.scheduleFlush(hs)}else if(_$1.isObject(ds)&&ds.httpStatusCode===413)if(os.length>1){var ms=Math.max(1,Math.floor(is/2));this.batchSize=Math.min(this.batchSize,ms,os.length-1),this.reportError("413 response; reducing batch size to "+this.batchSize),this.resetFlush()}else this.reportError("Single-event request too large; dropping",os),this.resetBatchSize(),ps=!0;else ps=!0;ps&&(this.queue.removeItemsByID(_$1.map(os,function(gs){return gs.id}),_$1.bind(function(gs){gs?(this.consecutiveRemovalFailures=0,this.flushOnlyOnInterval&&!ss?this.resetFlush():this.flush()):(this.reportError("Failed to remove items from queue"),++this.consecutiveRemovalFailures>5?(this.reportError("Too many queue failures; disabling batching system."),this.stopAllBatching()):this.resetFlush())},this)),_$1.each(os,_$1.bind(function(gs){var ys=gs.id;ys?(this.itemIdsSentSuccessfully[ys]=this.itemIdsSentSuccessfully[ys]||0,this.itemIdsSentSuccessfully[ys]++,this.itemIdsSentSuccessfully[ys]>5&&this.reportError("[dupe] item ID sent too many times",{item:gs,batchSize:os.length,timesSent:this.itemIdsSentSuccessfully[ys]})):this.reportError("[dupe] found item with no ID while removing",{item:gs})},this)))}catch(gs){this.reportError("Error handling API response",gs),this.resetFlush()}},this),us={method:"POST",verbose:!0,ignore_json_errors:!0,timeout_ms:ns};ts.unloading&&(us.transport="sendBeacon"),logger$1.log("MIXPANEL REQUEST:",as),this.sendRequest(as,us,cs)}catch(ds){this.reportError("Error flushing request queue",ds),this.resetFlush()}};RequestBatcher.prototype.reportError=function(ts,ns){if(logger$1.error.apply(logger$1.error,arguments),this.errorReporter)try{ns instanceof Error||(ns=new Error(ts)),this.errorReporter(ts,ns)}catch(rs){logger$1.error(rs)}};var logger$4=console_with_prefix("recorder"),CompressionStream=win.CompressionStream,RECORDER_BATCHER_LIB_CONFIG={batch_size:1e3,batch_flush_interval_ms:10*1e3,batch_request_timeout_ms:90*1e3,batch_autostart:!0},ACTIVE_SOURCES=new Set([IncrementalSource.MouseMove,IncrementalSource.MouseInteraction,IncrementalSource.Scroll,IncrementalSource.ViewportResize,IncrementalSource.Input,IncrementalSource.TouchMove,IncrementalSource.MediaInteraction,IncrementalSource.Drag,IncrementalSource.Selection]);function isUserEvent(ts){return ts.type===EventType.IncrementalSnapshot&&ACTIVE_SOURCES.has(ts.source)}var MixpanelRecorder=function(ts){this._mixpanel=ts,this._stopRecording=null,this.recEvents=[],this.seqNo=0,this.replayId=null,this.replayStartTime=null,this.sendBatchId=null,this.idleTimeoutId=null,this.maxTimeoutId=null,this.recordMaxMs=MAX_RECORDING_MS,this._initBatcher()};MixpanelRecorder.prototype._initBatcher=function(){this.batcher=new RequestBatcher("__mprec",{libConfig:RECORDER_BATCHER_LIB_CONFIG,sendRequestFunc:_$1.bind(this.flushEventsWithOptOut,this),errorReporter:_$1.bind(this.reportError,this),flushOnlyOnInterval:!0,usePersistence:!1})};MixpanelRecorder.prototype.get_config=function(ts){return this._mixpanel.get_config(ts)};MixpanelRecorder.prototype.startRecording=function(){if(this._stopRecording!==null){logger$4.log("Recording already in progress, skipping startRecording.");return}this.recordMaxMs=this.get_config("record_max_ms"),this.recordMaxMs>MAX_RECORDING_MS&&(this.recordMaxMs=MAX_RECORDING_MS,logger$4.critical("record_max_ms cannot be greater than "+MAX_RECORDING_MS+"ms. Capping value.")),this.recEvents=[],this.seqNo=0,this.replayStartTime=null,this.replayId=_$1.UUID(),this.batcher.start();var ts=_$1.bind(function(){clearTimeout(this.idleTimeoutId),this.idleTimeoutId=setTimeout(_$1.bind(function(){logger$4.log("Idle timeout reached, restarting recording."),this.resetRecording()},this),this.get_config("record_idle_timeout_ms"))},this);this._stopRecording=record({emit:_$1.bind(function(ns){this.batcher.enqueue(ns),isUserEvent(ns)&&ts()},this),blockClass:this.get_config("record_block_class"),blockSelector:this.get_config("record_block_selector"),collectFonts:this.get_config("record_collect_fonts"),inlineImages:this.get_config("record_inline_images"),maskAllInputs:!0,maskTextClass:this.get_config("record_mask_text_class"),maskTextSelector:this.get_config("record_mask_text_selector")}),ts(),this.maxTimeoutId=setTimeout(_$1.bind(this.resetRecording,this),this.recordMaxMs)};MixpanelRecorder.prototype.resetRecording=function(){this.stopRecording(),this.startRecording()};MixpanelRecorder.prototype.stopRecording=function(){this._stopRecording!==null&&(this._stopRecording(),this._stopRecording=null),this.batcher.flush(),this.replayId=null,clearTimeout(this.idleTimeoutId),clearTimeout(this.maxTimeoutId)};MixpanelRecorder.prototype.flushEventsWithOptOut=function(ts,ns,rs){this._flushEvents(ts,ns,rs,_$1.bind(this._onOptOut,this))};MixpanelRecorder.prototype._onOptOut=function(ts){ts===0&&(this.recEvents=[],this.stopRecording())};MixpanelRecorder.prototype._sendRequest=function(ts,ns,rs){var is=_$1.bind(function(os,ss){os.status===200&&this.seqNo++,rs({status:0,httpStatusCode:os.status,responseBody:ss,retryAfter:os.headers.get("Retry-After")})},this);win.fetch(this.get_config("api_host")+"/"+this.get_config("api_routes").record+"?"+new URLSearchParams(ts),{method:"POST",headers:{Authorization:"Basic "+btoa(this.get_config("token")+":"),"Content-Type":"application/octet-stream"},body:ns}).then(function(os){os.json().then(function(ss){is(os,ss)}).catch(function(ss){rs({error:ss})})}).catch(function(os){rs({error:os})})};MixpanelRecorder.prototype._flushEvents=addOptOutCheckMixpanelLib(function(ts,ns,rs){const is=ts.length;if(is>0){var os=ts[0].timestamp;this.seqNo===0&&(this.replayStartTime=os);var ss=ts[is-1].timestamp-this.replayStartTime,as={distinct_id:String(this._mixpanel.get_distinct_id()),seq:this.seqNo,batch_start_time:os/1e3,replay_id:this.replayId,replay_length_ms:ss,replay_start_time:this.replayStartTime/1e3},ls=_$1.JSONEncode(ts),cs=this._mixpanel.get_property("$device_id");cs&&(as.$device_id=cs);var us=this._mixpanel.get_property("$user_id");if(us&&(as.$user_id=us),CompressionStream){var ds=new Blob([ls],{type:"application/json"}).stream(),ps=ds.pipeThrough(new CompressionStream("gzip"));new Response(ps).blob().then(_$1.bind(function(hs){as.format="gzip",this._sendRequest(as,hs,rs)},this))}else as.format="body",this._sendRequest(as,ls,rs)}});MixpanelRecorder.prototype.reportError=function(ts,ns){logger$4.error.apply(logger$4.error,arguments);try{!ns&&!(ts instanceof Error)&&(ts=new Error(ts)),this.get_config("error_reporter")(ts,ns)}catch(rs){logger$4.error(rs)}};win.__mp_recorder=MixpanelRecorder;var DomTracker=function(){};DomTracker.prototype.create_properties=function(){};DomTracker.prototype.event_handler=function(){};DomTracker.prototype.after_track_handler=function(){};DomTracker.prototype.init=function(ts){return this.mp=ts,this};DomTracker.prototype.track=function(ts,ns,rs,is){var os=this,ss=_$1.dom_query(ts);if(ss.length===0){console$1.error("The DOM query ("+ts+") returned 0 elements");return}return _$1.each(ss,function(as){_$1.register_event(as,this.override_event,function(ls){var cs={},us=os.create_properties(rs,this),ds=os.mp.get_config("track_links_timeout");os.event_handler(ls,this,cs),window.setTimeout(os.track_callback(is,us,cs,!0),ds),os.mp.track(ns,us,os.track_callback(is,us,cs))})},this),!0};DomTracker.prototype.track_callback=function(ts,ns,rs,is){is=is||!1;var os=this;return function(){rs.callback_fired||(rs.callback_fired=!0,!(ts&&ts(is,ns)===!1)&&os.after_track_handler(ns,rs,is))}};DomTracker.prototype.create_properties=function(ts,ns){var rs;return typeof ts=="function"?rs=ts(ns):rs=_$1.extend({},ts),rs};var LinkTracker=function(){this.override_event="click"};_$1.inherit(LinkTracker,DomTracker);LinkTracker.prototype.create_properties=function(ts,ns){var rs=LinkTracker.superclass.create_properties.apply(this,arguments);return ns.href&&(rs.url=ns.href),rs};LinkTracker.prototype.event_handler=function(ts,ns,rs){rs.new_tab=ts.which===2||ts.metaKey||ts.ctrlKey||ns.target==="_blank",rs.href=ns.href,rs.new_tab||ts.preventDefault()};LinkTracker.prototype.after_track_handler=function(ts,ns){ns.new_tab||setTimeout(function(){window.location=ns.href},0)};var FormTracker=function(){this.override_event="submit"};_$1.inherit(FormTracker,DomTracker);FormTracker.prototype.event_handler=function(ts,ns,rs){rs.element=ns,ts.preventDefault()};FormTracker.prototype.after_track_handler=function(ts,ns){setTimeout(function(){ns.element.submit()},0)};var SET_ACTION="$set",SET_ONCE_ACTION="$set_once",UNSET_ACTION="$unset",ADD_ACTION="$add",APPEND_ACTION="$append",UNION_ACTION="$union",REMOVE_ACTION="$remove",DELETE_ACTION="$delete",apiActions={set_action:function(ts,ns){var rs={},is={};return _$1.isObject(ts)?_$1.each(ts,function(os,ss){this._is_reserved_property(ss)||(is[ss]=os)},this):is[ts]=ns,rs[SET_ACTION]=is,rs},unset_action:function(ts){var ns={},rs=[];return _$1.isArray(ts)||(ts=[ts]),_$1.each(ts,function(is){this._is_reserved_property(is)||rs.push(is)},this),ns[UNSET_ACTION]=rs,ns},set_once_action:function(ts,ns){var rs={},is={};return _$1.isObject(ts)?_$1.each(ts,function(os,ss){this._is_reserved_property(ss)||(is[ss]=os)},this):is[ts]=ns,rs[SET_ONCE_ACTION]=is,rs},union_action:function(ts,ns){var rs={},is={};return _$1.isObject(ts)?_$1.each(ts,function(os,ss){this._is_reserved_property(ss)||(is[ss]=_$1.isArray(os)?os:[os])},this):is[ts]=_$1.isArray(ns)?ns:[ns],rs[UNION_ACTION]=is,rs},append_action:function(ts,ns){var rs={},is={};return _$1.isObject(ts)?_$1.each(ts,function(os,ss){this._is_reserved_property(ss)||(is[ss]=os)},this):is[ts]=ns,rs[APPEND_ACTION]=is,rs},remove_action:function(ts,ns){var rs={},is={};return _$1.isObject(ts)?_$1.each(ts,function(os,ss){this._is_reserved_property(ss)||(is[ss]=os)},this):is[ts]=ns,rs[REMOVE_ACTION]=is,rs},delete_action:function(){var ts={};return ts[DELETE_ACTION]="",ts}},MixpanelGroup=function(){};_$1.extend(MixpanelGroup.prototype,apiActions);MixpanelGroup.prototype._init=function(ts,ns,rs){this._mixpanel=ts,this._group_key=ns,this._group_id=rs};MixpanelGroup.prototype.set=addOptOutCheckMixpanelGroup(function(ts,ns,rs){var is=this.set_action(ts,ns);return _$1.isObject(ts)&&(rs=ns),this._send_request(is,rs)});MixpanelGroup.prototype.set_once=addOptOutCheckMixpanelGroup(function(ts,ns,rs){var is=this.set_once_action(ts,ns);return _$1.isObject(ts)&&(rs=ns),this._send_request(is,rs)});MixpanelGroup.prototype.unset=addOptOutCheckMixpanelGroup(function(ts,ns){var rs=this.unset_action(ts);return this._send_request(rs,ns)});MixpanelGroup.prototype.union=addOptOutCheckMixpanelGroup(function(ts,ns,rs){_$1.isObject(ts)&&(rs=ns);var is=this.union_action(ts,ns);return this._send_request(is,rs)});MixpanelGroup.prototype.delete=addOptOutCheckMixpanelGroup(function(ts){var ns=this.delete_action();return this._send_request(ns,ts)});MixpanelGroup.prototype.remove=addOptOutCheckMixpanelGroup(function(ts,ns,rs){var is=this.remove_action(ts,ns);return this._send_request(is,rs)});MixpanelGroup.prototype._send_request=function(ts,ns){ts.$group_key=this._group_key,ts.$group_id=this._group_id,ts.$token=this._get_config("token");var rs=_$1.encodeDates(ts);return this._mixpanel._track_or_batch({type:"groups",data:rs,endpoint:this._get_config("api_host")+"/"+this._get_config("api_routes").groups,batcher:this._mixpanel.request_batchers.groups},ns)};MixpanelGroup.prototype._is_reserved_property=function(ts){return ts==="$group_key"||ts==="$group_id"};MixpanelGroup.prototype._get_config=function(ts){return this._mixpanel.get_config(ts)};MixpanelGroup.prototype.toString=function(){return this._mixpanel.toString()+".group."+this._group_key+"."+this._group_id};MixpanelGroup.prototype.remove=MixpanelGroup.prototype.remove;MixpanelGroup.prototype.set=MixpanelGroup.prototype.set;MixpanelGroup.prototype.set_once=MixpanelGroup.prototype.set_once;MixpanelGroup.prototype.union=MixpanelGroup.prototype.union;MixpanelGroup.prototype.unset=MixpanelGroup.prototype.unset;MixpanelGroup.prototype.toString=MixpanelGroup.prototype.toString;var MixpanelPeople=function(){};_$1.extend(MixpanelPeople.prototype,apiActions);MixpanelPeople.prototype._init=function(ts){this._mixpanel=ts};MixpanelPeople.prototype.set=addOptOutCheckMixpanelPeople(function(ts,ns,rs){var is=this.set_action(ts,ns);return _$1.isObject(ts)&&(rs=ns),this._get_config("save_referrer")&&this._mixpanel.persistence.update_referrer_info(document.referrer),is[SET_ACTION]=_$1.extend({},_$1.info.people_properties(),is[SET_ACTION]),this._send_request(is,rs)});MixpanelPeople.prototype.set_once=addOptOutCheckMixpanelPeople(function(ts,ns,rs){var is=this.set_once_action(ts,ns);return _$1.isObject(ts)&&(rs=ns),this._send_request(is,rs)});MixpanelPeople.prototype.unset=addOptOutCheckMixpanelPeople(function(ts,ns){var rs=this.unset_action(ts);return this._send_request(rs,ns)});MixpanelPeople.prototype.increment=addOptOutCheckMixpanelPeople(function(ts,ns,rs){var is={},os={};return _$1.isObject(ts)?(_$1.each(ts,function(ss,as){if(!this._is_reserved_property(as))if(isNaN(parseFloat(ss))){console$1.error("Invalid increment value passed to mixpanel.people.increment - must be a number");return}else os[as]=ss},this),rs=ns):(_$1.isUndefined(ns)&&(ns=1),os[ts]=ns),is[ADD_ACTION]=os,this._send_request(is,rs)});MixpanelPeople.prototype.append=addOptOutCheckMixpanelPeople(function(ts,ns,rs){_$1.isObject(ts)&&(rs=ns);var is=this.append_action(ts,ns);return this._send_request(is,rs)});MixpanelPeople.prototype.remove=addOptOutCheckMixpanelPeople(function(ts,ns,rs){_$1.isObject(ts)&&(rs=ns);var is=this.remove_action(ts,ns);return this._send_request(is,rs)});MixpanelPeople.prototype.union=addOptOutCheckMixpanelPeople(function(ts,ns,rs){_$1.isObject(ts)&&(rs=ns);var is=this.union_action(ts,ns);return this._send_request(is,rs)});MixpanelPeople.prototype.track_charge=addOptOutCheckMixpanelPeople(function(ts,ns,rs){if(!_$1.isNumber(ts)&&(ts=parseFloat(ts),isNaN(ts))){console$1.error("Invalid value passed to mixpanel.people.track_charge - must be a number");return}return this.append("$transactions",_$1.extend({$amount:ts},ns),rs)});MixpanelPeople.prototype.clear_charges=function(ts){return this.set("$transactions",[],ts)};MixpanelPeople.prototype.delete_user=function(){if(!this._identify_called()){console$1.error("mixpanel.people.delete_user() requires you to call identify() first");return}var ts={$delete:this._mixpanel.get_distinct_id()};return this._send_request(ts)};MixpanelPeople.prototype.toString=function(){return this._mixpanel.toString()+".people"};MixpanelPeople.prototype._send_request=function(ts,ns){ts.$token=this._get_config("token"),ts.$distinct_id=this._mixpanel.get_distinct_id();var rs=this._mixpanel.get_property("$device_id"),is=this._mixpanel.get_property("$user_id"),os=this._mixpanel.get_property("$had_persisted_distinct_id");rs&&(ts.$device_id=rs),is&&(ts.$user_id=is),os&&(ts.$had_persisted_distinct_id=os);var ss=_$1.encodeDates(ts);return this._identify_called()?this._mixpanel._track_or_batch({type:"people",data:ss,endpoint:this._get_config("api_host")+"/"+this._get_config("api_routes").engage,batcher:this._mixpanel.request_batchers.people},ns):(this._enqueue(ts),_$1.isUndefined(ns)||(this._get_config("verbose")?ns({status:-1,error:null}):ns(-1)),_$1.truncate(ss,255))};MixpanelPeople.prototype._get_config=function(ts){return this._mixpanel.get_config(ts)};MixpanelPeople.prototype._identify_called=function(){return this._mixpanel._flags.identify_called===!0};MixpanelPeople.prototype._enqueue=function(ts){SET_ACTION in ts?this._mixpanel.persistence._add_to_people_queue(SET_ACTION,ts):SET_ONCE_ACTION in ts?this._mixpanel.persistence._add_to_people_queue(SET_ONCE_ACTION,ts):UNSET_ACTION in ts?this._mixpanel.persistence._add_to_people_queue(UNSET_ACTION,ts):ADD_ACTION in ts?this._mixpanel.persistence._add_to_people_queue(ADD_ACTION,ts):APPEND_ACTION in ts?this._mixpanel.persistence._add_to_people_queue(APPEND_ACTION,ts):REMOVE_ACTION in ts?this._mixpanel.persistence._add_to_people_queue(REMOVE_ACTION,ts):UNION_ACTION in ts?this._mixpanel.persistence._add_to_people_queue(UNION_ACTION,ts):console$1.error("Invalid call to _enqueue():",ts)};MixpanelPeople.prototype._flush_one_queue=function(ts,ns,rs,is){var os=this,ss=_$1.extend({},this._mixpanel.persistence.load_queue(ts)),as=ss;!_$1.isUndefined(ss)&&_$1.isObject(ss)&&!_$1.isEmptyObject(ss)&&(os._mixpanel.persistence._pop_from_people_queue(ts,ss),os._mixpanel.persistence.save(),is&&(as=is(ss)),ns.call(os,as,function(ls,cs){ls===0&&os._mixpanel.persistence._add_to_people_queue(ts,ss),_$1.isUndefined(rs)||rs(ls,cs)}))};MixpanelPeople.prototype._flush=function(ts,ns,rs,is,os,ss,as){var ls=this;this._flush_one_queue(SET_ACTION,this.set,ts),this._flush_one_queue(SET_ONCE_ACTION,this.set_once,is),this._flush_one_queue(UNSET_ACTION,this.unset,ss,function(vs){return _$1.keys(vs)}),this._flush_one_queue(ADD_ACTION,this.increment,ns),this._flush_one_queue(UNION_ACTION,this.union,os);var cs=this._mixpanel.persistence.load_queue(APPEND_ACTION);if(!_$1.isUndefined(cs)&&_$1.isArray(cs)&&cs.length)for(var us,ds=function(vs,bs){vs===0&&ls._mixpanel.persistence._add_to_people_queue(APPEND_ACTION,us),_$1.isUndefined(rs)||rs(vs,bs)},ps=cs.length-1;ps>=0;ps--)cs=this._mixpanel.persistence.load_queue(APPEND_ACTION),us=cs.pop(),ls._mixpanel.persistence.save(),_$1.isEmptyObject(us)||ls.append(us,ds);var hs=this._mixpanel.persistence.load_queue(REMOVE_ACTION);if(!_$1.isUndefined(hs)&&_$1.isArray(hs)&&hs.length)for(var ms,gs=function(vs,bs){vs===0&&ls._mixpanel.persistence._add_to_people_queue(REMOVE_ACTION,ms),_$1.isUndefined(as)||as(vs,bs)},ys=hs.length-1;ys>=0;ys--)hs=this._mixpanel.persistence.load_queue(REMOVE_ACTION),ms=hs.pop(),ls._mixpanel.persistence.save(),_$1.isEmptyObject(ms)||ls.remove(ms,gs)};MixpanelPeople.prototype._is_reserved_property=function(ts){return ts==="$distinct_id"||ts==="$token"||ts==="$device_id"||ts==="$user_id"||ts==="$had_persisted_distinct_id"};MixpanelPeople.prototype.set=MixpanelPeople.prototype.set;MixpanelPeople.prototype.set_once=MixpanelPeople.prototype.set_once;MixpanelPeople.prototype.unset=MixpanelPeople.prototype.unset;MixpanelPeople.prototype.increment=MixpanelPeople.prototype.increment;MixpanelPeople.prototype.append=MixpanelPeople.prototype.append;MixpanelPeople.prototype.remove=MixpanelPeople.prototype.remove;MixpanelPeople.prototype.union=MixpanelPeople.prototype.union;MixpanelPeople.prototype.track_charge=MixpanelPeople.prototype.track_charge;MixpanelPeople.prototype.clear_charges=MixpanelPeople.prototype.clear_charges;MixpanelPeople.prototype.delete_user=MixpanelPeople.prototype.delete_user;MixpanelPeople.prototype.toString=MixpanelPeople.prototype.toString;var SET_QUEUE_KEY="__mps",SET_ONCE_QUEUE_KEY="__mpso",UNSET_QUEUE_KEY="__mpus",ADD_QUEUE_KEY="__mpa",APPEND_QUEUE_KEY="__mpap",REMOVE_QUEUE_KEY="__mpr",UNION_QUEUE_KEY="__mpu",PEOPLE_DISTINCT_ID_KEY="$people_distinct_id",ALIAS_ID_KEY="__alias",EVENT_TIMERS_KEY="__timers",RESERVED_PROPERTIES=[SET_QUEUE_KEY,SET_ONCE_QUEUE_KEY,UNSET_QUEUE_KEY,ADD_QUEUE_KEY,APPEND_QUEUE_KEY,REMOVE_QUEUE_KEY,UNION_QUEUE_KEY,PEOPLE_DISTINCT_ID_KEY,ALIAS_ID_KEY,EVENT_TIMERS_KEY],MixpanelPersistence=function(ts){this.props={},this.campaign_params_saved=!1,ts.persistence_name?this.name="mp_"+ts.persistence_name:this.name="mp_"+ts.token+"_mixpanel";var ns=ts.persistence;ns!=="cookie"&&ns!=="localStorage"&&(console$1.critical("Unknown persistence type "+ns+"; falling back to cookie"),ns=ts.persistence="cookie"),ns==="localStorage"&&_$1.localStorage.is_supported()?this.storage=_$1.localStorage:this.storage=_$1.cookie,this.load(),this.update_config(ts),this.upgrade(),this.save()};MixpanelPersistence.prototype.properties=function(){var ts={};return this.load(),_$1.each(this.props,function(ns,rs){_$1.include(RESERVED_PROPERTIES,rs)||(ts[rs]=ns)}),ts};MixpanelPersistence.prototype.load=function(){if(!this.disabled){var ts=this.storage.parse(this.name);ts&&(this.props=_$1.extend({},ts))}};MixpanelPersistence.prototype.upgrade=function(){var ts,ns;this.storage===_$1.localStorage?(ts=_$1.cookie.parse(this.name),_$1.cookie.remove(this.name),_$1.cookie.remove(this.name,!0),ts&&this.register_once(ts)):this.storage===_$1.cookie&&(ns=_$1.localStorage.parse(this.name),_$1.localStorage.remove(this.name),ns&&this.register_once(ns))};MixpanelPersistence.prototype.save=function(){this.disabled||this.storage.set(this.name,_$1.JSONEncode(this.props),this.expire_days,this.cross_subdomain,this.secure,this.cross_site,this.cookie_domain)};MixpanelPersistence.prototype.load_prop=function(ts){return this.load(),this.props[ts]};MixpanelPersistence.prototype.remove=function(){this.storage.remove(this.name,!1,this.cookie_domain),this.storage.remove(this.name,!0,this.cookie_domain)};MixpanelPersistence.prototype.clear=function(){this.remove(),this.props={}};MixpanelPersistence.prototype.register_once=function(ts,ns,rs){return _$1.isObject(ts)?(typeof ns>"u"&&(ns="None"),this.expire_days=typeof rs>"u"?this.default_expiry:rs,this.load(),_$1.each(ts,function(is,os){(!this.props.hasOwnProperty(os)||this.props[os]===ns)&&(this.props[os]=is)},this),this.save(),!0):!1};MixpanelPersistence.prototype.register=function(ts,ns){return _$1.isObject(ts)?(this.expire_days=typeof ns>"u"?this.default_expiry:ns,this.load(),_$1.extend(this.props,ts),this.save(),!0):!1};MixpanelPersistence.prototype.unregister=function(ts){this.load(),ts in this.props&&(delete this.props[ts],this.save())};MixpanelPersistence.prototype.update_search_keyword=function(ts){this.register(_$1.info.searchInfo(ts))};MixpanelPersistence.prototype.update_referrer_info=function(ts){this.register_once({$initial_referrer:ts||"$direct",$initial_referring_domain:_$1.info.referringDomain(ts)||"$direct"},"")};MixpanelPersistence.prototype.get_referrer_info=function(){return _$1.strip_empty_properties({$initial_referrer:this.props.$initial_referrer,$initial_referring_domain:this.props.$initial_referring_domain})};MixpanelPersistence.prototype.update_config=function(ts){this.default_expiry=this.expire_days=ts.cookie_expiration,this.set_disabled(ts.disable_persistence),this.set_cookie_domain(ts.cookie_domain),this.set_cross_site(ts.cross_site_cookie),this.set_cross_subdomain(ts.cross_subdomain_cookie),this.set_secure(ts.secure_cookie)};MixpanelPersistence.prototype.set_disabled=function(ts){this.disabled=ts,this.disabled?this.remove():this.save()};MixpanelPersistence.prototype.set_cookie_domain=function(ts){ts!==this.cookie_domain&&(this.remove(),this.cookie_domain=ts,this.save())};MixpanelPersistence.prototype.set_cross_site=function(ts){ts!==this.cross_site&&(this.cross_site=ts,this.remove(),this.save())};MixpanelPersistence.prototype.set_cross_subdomain=function(ts){ts!==this.cross_subdomain&&(this.cross_subdomain=ts,this.remove(),this.save())};MixpanelPersistence.prototype.get_cross_subdomain=function(){return this.cross_subdomain};MixpanelPersistence.prototype.set_secure=function(ts){ts!==this.secure&&(this.secure=!!ts,this.remove(),this.save())};MixpanelPersistence.prototype._add_to_people_queue=function(ts,ns){var rs=this._get_queue_key(ts),is=ns[ts],os=this._get_or_create_queue(SET_ACTION),ss=this._get_or_create_queue(SET_ONCE_ACTION),as=this._get_or_create_queue(UNSET_ACTION),ls=this._get_or_create_queue(ADD_ACTION),cs=this._get_or_create_queue(UNION_ACTION),us=this._get_or_create_queue(REMOVE_ACTION,[]),ds=this._get_or_create_queue(APPEND_ACTION,[]);rs===SET_QUEUE_KEY?(_$1.extend(os,is),this._pop_from_people_queue(ADD_ACTION,is),this._pop_from_people_queue(UNION_ACTION,is),this._pop_from_people_queue(UNSET_ACTION,is)):rs===SET_ONCE_QUEUE_KEY?(_$1.each(is,function(ps,hs){hs in ss||(ss[hs]=ps)}),this._pop_from_people_queue(UNSET_ACTION,is)):rs===UNSET_QUEUE_KEY?_$1.each(is,function(ps){_$1.each([os,ss,ls,cs],function(hs){ps in hs&&delete hs[ps]}),_$1.each(ds,function(hs){ps in hs&&delete hs[ps]}),as[ps]=!0}):rs===ADD_QUEUE_KEY?(_$1.each(is,function(ps,hs){hs in os?os[hs]+=ps:(hs in ls||(ls[hs]=0),ls[hs]+=ps)},this),this._pop_from_people_queue(UNSET_ACTION,is)):rs===UNION_QUEUE_KEY?(_$1.each(is,function(ps,hs){_$1.isArray(ps)&&(hs in cs||(cs[hs]=[]),cs[hs]=cs[hs].concat(ps))}),this._pop_from_people_queue(UNSET_ACTION,is)):rs===REMOVE_QUEUE_KEY?(us.push(is),this._pop_from_people_queue(APPEND_ACTION,is)):rs===APPEND_QUEUE_KEY&&(ds.push(is),this._pop_from_people_queue(UNSET_ACTION,is)),console$1.log("MIXPANEL PEOPLE REQUEST (QUEUED, PENDING IDENTIFY):"),console$1.log(ns),this.save()};MixpanelPersistence.prototype._pop_from_people_queue=function(ts,ns){var rs=this.props[this._get_queue_key(ts)];_$1.isUndefined(rs)||_$1.each(ns,function(is,os){ts===APPEND_ACTION||ts===REMOVE_ACTION?_$1.each(rs,function(ss){ss[os]===is&&delete ss[os]}):delete rs[os]},this)};MixpanelPersistence.prototype.load_queue=function(ts){return this.load_prop(this._get_queue_key(ts))};MixpanelPersistence.prototype._get_queue_key=function(ts){if(ts===SET_ACTION)return SET_QUEUE_KEY;if(ts===SET_ONCE_ACTION)return SET_ONCE_QUEUE_KEY;if(ts===UNSET_ACTION)return UNSET_QUEUE_KEY;if(ts===ADD_ACTION)return ADD_QUEUE_KEY;if(ts===APPEND_ACTION)return APPEND_QUEUE_KEY;if(ts===REMOVE_ACTION)return REMOVE_QUEUE_KEY;if(ts===UNION_ACTION)return UNION_QUEUE_KEY;console$1.error("Invalid queue:",ts)};MixpanelPersistence.prototype._get_or_create_queue=function(ts,ns){var rs=this._get_queue_key(ts);return ns=_$1.isUndefined(ns)?{}:ns,this.props[rs]||(this.props[rs]=ns)};MixpanelPersistence.prototype.set_event_timer=function(ts,ns){var rs=this.load_prop(EVENT_TIMERS_KEY)||{};rs[ts]=ns,this.props[EVENT_TIMERS_KEY]=rs,this.save()};MixpanelPersistence.prototype.remove_event_timer=function(ts){var ns=this.load_prop(EVENT_TIMERS_KEY)||{},rs=ns[ts];return _$1.isUndefined(rs)||(delete this.props[EVENT_TIMERS_KEY][ts],this.save()),rs};var init_type,load_extra_bundle=function(ts,ns){throw new Error(ts+" not available in this build.")},mixpanel_master,INIT_MODULE=0,INIT_SNIPPET=1,IDENTITY_FUNC=function(ts){return ts},NOOP_FUNC=function(){},PRIMARY_INSTANCE_NAME="mixpanel",PAYLOAD_TYPE_BASE64="base64",PAYLOAD_TYPE_JSON="json",DEVICE_ID_PREFIX="$device:",USE_XHR=win.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest,ENQUEUE_REQUESTS=!USE_XHR&&userAgent.indexOf("MSIE")===-1&&userAgent.indexOf("Mozilla")===-1,sendBeacon=null;navigator$1.sendBeacon&&(sendBeacon=function(){return navigator$1.sendBeacon.apply(navigator$1,arguments)});var DEFAULT_API_ROUTES={track:"track/",engage:"engage/",groups:"groups/",record:"record/"},DEFAULT_CONFIG={api_host:"https://api-js.mixpanel.com",api_routes:DEFAULT_API_ROUTES,api_method:"POST",api_transport:"XHR",api_payload_format:PAYLOAD_TYPE_BASE64,app_host:"https://mixpanel.com",cdn:"https://cdn.mxpnl.com",cross_site_cookie:!1,cross_subdomain_cookie:!0,error_reporter:NOOP_FUNC,persistence:"cookie",persistence_name:"",cookie_domain:"",cookie_name:"",loaded:NOOP_FUNC,mp_loader:null,track_marketing:!0,track_pageview:!1,skip_first_touch_marketing:!1,store_google:!0,stop_utm_persistence:!1,save_referrer:!0,test:!1,verbose:!1,img:!1,debug:!1,track_links_timeout:300,cookie_expiration:365,upgrade:!1,disable_persistence:!1,disable_cookie:!1,secure_cookie:!1,ip:!0,opt_out_tracking_by_default:!1,opt_out_persistence_by_default:!1,opt_out_tracking_persistence_type:"localStorage",opt_out_tracking_cookie_prefix:null,property_blacklist:[],xhr_headers:{},ignore_dnt:!1,batch_requests:!0,batch_size:50,batch_flush_interval_ms:5e3,batch_request_timeout_ms:9e4,batch_autostart:!0,hooks:{},record_block_class:new RegExp("^(mp-block|fs-exclude|amp-block|rr-block|ph-no-capture)$"),record_block_selector:"img, video",record_collect_fonts:!1,record_idle_timeout_ms:30*60*1e3,record_inline_images:!1,record_mask_text_class:new RegExp("^(mp-mask|fs-mask|amp-mask|rr-mask|ph-mask)$"),record_mask_text_selector:"*",record_max_ms:MAX_RECORDING_MS,record_sessions_percent:0,recorder_src:"https://cdn.mxpnl.com/libs/mixpanel-recorder.min.js"},DOM_LOADED=!1,MixpanelLib=function(){},create_mplib=function(ts,ns,rs){var is,os=rs===PRIMARY_INSTANCE_NAME?mixpanel_master:mixpanel_master[rs];if(os&&init_type===INIT_MODULE)is=os;else{if(os&&!_$1.isArray(os)){console$1.error("You have already initialized "+rs);return}is=new MixpanelLib}if(is._cached_groups={},is._init(ts,ns,rs),is.people=new MixpanelPeople,is.people._init(is),!is.get_config("skip_first_touch_marketing")){var ss=_$1.info.campaignParams(null),as={},ls=!1;_$1.each(ss,function(cs,us){as["initial_"+us]=cs,cs&&(ls=!0)}),ls&&is.people.set_once(as)}return Config$1.DEBUG=Config$1.DEBUG||is.get_config("debug"),!_$1.isUndefined(os)&&_$1.isArray(os)&&(is._execute_array.call(is.people,os.people),is._execute_array(os)),is};MixpanelLib.prototype.init=function(ts,ns,rs){if(_$1.isUndefined(rs)){this.report_error("You must name your new library: init(token, config, name)");return}if(rs===PRIMARY_INSTANCE_NAME){this.report_error("You must initialize the main mixpanel object right after you include the Mixpanel js snippet");return}var is=create_mplib(ts,ns,rs);return mixpanel_master[rs]=is,is._loaded(),is};MixpanelLib.prototype._init=function(ts,ns,rs){ns=ns||{},this.__loaded=!0,this.config={};var is={};if(!("api_payload_format"in ns)){var os=ns.api_host||DEFAULT_CONFIG.api_host;os.match(/\.mixpanel\.com/)&&(is.api_payload_format=PAYLOAD_TYPE_JSON)}if(this.set_config(_$1.extend({},DEFAULT_CONFIG,is,ns,{name:rs,token:ts,callback_fn:(rs===PRIMARY_INSTANCE_NAME?rs:PRIMARY_INSTANCE_NAME+"."+rs)+"._jsc"})),this._jsc=NOOP_FUNC,this.__dom_loaded_queue=[],this.__request_queue=[],this.__disabled_events=[],this._flags={disable_all_events:!1,identify_called:!1},this.request_batchers={},this._batch_requests=this.get_config("batch_requests"),this._batch_requests){if(!_$1.localStorage.is_supported(!0)||!USE_XHR)this._batch_requests=!1,console$1.log("Turning off Mixpanel request-queueing; needs XHR and localStorage support"),_$1.each(this.get_batcher_configs(),function(cs){console$1.log("Clearing batch queue "+cs.queue_key),_$1.localStorage.remove(cs.queue_key)});else if(this.init_batchers(),sendBeacon&&win.addEventListener){var ss=_$1.bind(function(){this.request_batchers.events.stopped||this.request_batchers.events.flush({unloading:!0})},this);win.addEventListener("pagehide",function(cs){cs.persisted&&ss()}),win.addEventListener("visibilitychange",function(){document$1.visibilityState==="hidden"&&ss()})}}this.persistence=this.cookie=new MixpanelPersistence(this.config),this.unpersisted_superprops={},this._gdpr_init();var as=_$1.UUID();this.get_distinct_id()||this.register_once({distinct_id:DEVICE_ID_PREFIX+as,$device_id:as},"");var ls=this.get_config("track_pageview");ls&&this._init_url_change_tracking(ls),this.get_config("record_sessions_percent")>0&&Math.random()*100<=this.get_config("record_sessions_percent")&&this.start_session_recording()};MixpanelLib.prototype.start_session_recording=addOptOutCheckMixpanelLib(function(){if(!win.MutationObserver){console$1.critical("Browser does not support MutationObserver; skipping session recording");return}var ts=_$1.bind(function(){this._recorder=this._recorder||new win.__mp_recorder(this),this._recorder.startRecording()},this);_$1.isUndefined(win.__mp_recorder)?load_extra_bundle(this.get_config("recorder_src"),ts):ts()});MixpanelLib.prototype.stop_session_recording=function(){this._recorder?this._recorder.stopRecording():console$1.critical("Session recorder module not loaded")};MixpanelLib.prototype.get_session_recording_properties=function(){var ts={};if(this._recorder){var ns=this._recorder.replayId;ns&&(ts.$mp_replay_id=ns)}return ts};MixpanelLib.prototype._loaded=function(){if(this.get_config("loaded")(this),this._set_default_superprops(),this.people.set_once(this.persistence.get_referrer_info()),this.get_config("store_google")&&this.get_config("stop_utm_persistence")){var ts=_$1.info.campaignParams(null);_$1.each(ts,(function(ns,rs){this.unregister(rs)}).bind(this))}};MixpanelLib.prototype._set_default_superprops=function(){this.persistence.update_search_keyword(document$1.referrer),this.get_config("store_google")&&!this.get_config("stop_utm_persistence")&&this.register(_$1.info.campaignParams()),this.get_config("save_referrer")&&this.persistence.update_referrer_info(document$1.referrer)};MixpanelLib.prototype._dom_loaded=function(){_$1.each(this.__dom_loaded_queue,function(ts){this._track_dom.apply(this,ts)},this),this.has_opted_out_tracking()||_$1.each(this.__request_queue,function(ts){this._send_request.apply(this,ts)},this),delete this.__dom_loaded_queue,delete this.__request_queue};MixpanelLib.prototype._track_dom=function(ts,ns){if(this.get_config("img"))return this.report_error("You can't use DOM tracking functions with img = true."),!1;if(!DOM_LOADED)return this.__dom_loaded_queue.push([ts,ns]),!1;var rs=new ts().init(this);return rs.track.apply(rs,ns)};MixpanelLib.prototype._init_url_change_tracking=function(ts){var ns="",rs=this.track_pageview();if(rs&&(ns=_$1.info.currentUrl()),_$1.include(["full-url","url-with-path-and-query-string","url-with-path"],ts)){win.addEventListener("popstate",function(){win.dispatchEvent(new Event("mp_locationchange"))}),win.addEventListener("hashchange",function(){win.dispatchEvent(new Event("mp_locationchange"))});var is=win.history.pushState;typeof is=="function"&&(win.history.pushState=function(ss,as,ls){is.call(win.history,ss,as,ls),win.dispatchEvent(new Event("mp_locationchange"))});var os=win.history.replaceState;typeof os=="function"&&(win.history.replaceState=function(ss,as,ls){os.call(win.history,ss,as,ls),win.dispatchEvent(new Event("mp_locationchange"))}),win.addEventListener("mp_locationchange",(function(){var ss=_$1.info.currentUrl(),as=!1;if(ts==="full-url"?as=ss!==ns:ts==="url-with-path-and-query-string"?as=ss.split("#")[0]!==ns.split("#")[0]:ts==="url-with-path"&&(as=ss.split("#")[0].split("?")[0]!==ns.split("#")[0].split("?")[0]),as){var ls=this.track_pageview();ls&&(ns=ss)}}).bind(this))}};MixpanelLib.prototype._prepare_callback=function(ts,ns){if(_$1.isUndefined(ts))return null;if(USE_XHR){var rs=function(as){ts(as,ns)};return rs}else{var is=this._jsc,os=""+Math.floor(Math.random()*1e8),ss=this.get_config("callback_fn")+"["+os+"]";return is[os]=function(as){delete is[os],ts(as,ns)},ss}};MixpanelLib.prototype._send_request=function(ts,ns,rs,is){var os=!0;if(ENQUEUE_REQUESTS)return this.__request_queue.push(arguments),os;var ss={method:this.get_config("api_method"),transport:this.get_config("api_transport"),verbose:this.get_config("verbose")},as=null;!is&&(_$1.isFunction(rs)||typeof rs=="string")&&(is=rs,rs=null),rs=_$1.extend(ss,rs||{}),USE_XHR||(rs.method="GET");var ls=rs.method==="POST",cs=sendBeacon&&ls&&rs.transport.toLowerCase()==="sendbeacon",us=rs.verbose;ns.verbose&&(us=!0),this.get_config("test")&&(ns.test=1),us&&(ns.verbose=1),this.get_config("img")&&(ns.img=1),USE_XHR||(is?ns.callback=is:(us||this.get_config("test"))&&(ns.callback="(function(){})")),ns.ip=this.get_config("ip")?1:0,ns._=new Date().getTime().toString(),ls&&(as="data="+encodeURIComponent(ns.data),delete ns.data),ts+="?"+_$1.HTTPBuildQuery(ns);var ds=this;if("img"in ns){var ps=document$1.createElement("img");ps.src=ts,document$1.body.appendChild(ps)}else if(cs){try{os=sendBeacon(ts,as)}catch(bs){ds.report_error(bs),os=!1}try{is&&is(os?1:0)}catch(bs){ds.report_error(bs)}}else if(USE_XHR)try{var hs=new XMLHttpRequest;hs.open(rs.method,ts,!0);var ms=this.get_config("xhr_headers");if(ls&&(ms["Content-Type"]="application/x-www-form-urlencoded"),_$1.each(ms,function(bs,Ss){hs.setRequestHeader(Ss,bs)}),rs.timeout_ms&&typeof hs.timeout<"u"){hs.timeout=rs.timeout_ms;var gs=new Date().getTime()}hs.withCredentials=!0,hs.onreadystatechange=function(){if(hs.readyState===4)if(hs.status===200){if(is)if(us){var bs;try{bs=_$1.JSONDecode(hs.responseText)}catch(Cs){if(ds.report_error(Cs),rs.ignore_json_errors)bs=hs.responseText;else return}is(bs)}else is(Number(hs.responseText))}else{var Ss;if(hs.timeout&&!hs.status&&new Date().getTime()-gs>=hs.timeout?Ss="timeout":Ss="Bad HTTP status: "+hs.status+" "+hs.statusText,ds.report_error(Ss),is)if(us){var $s=hs.responseHeaders||{};is({status:0,httpStatusCode:hs.status,error:Ss,retryAfter:$s["Retry-After"]})}else is(0)}},hs.send(as)}catch(bs){ds.report_error(bs),os=!1}else{var ys=document$1.createElement("script");ys.type="text/javascript",ys.async=!0,ys.defer=!0,ys.src=ts;var vs=document$1.getElementsByTagName("script")[0];vs.parentNode.insertBefore(ys,vs)}return os};MixpanelLib.prototype._execute_array=function(ts){var ns,rs=[],is=[],os=[];_$1.each(ts,function(as){as&&(ns=as[0],_$1.isArray(ns)?os.push(as):typeof as=="function"?as.call(this):_$1.isArray(as)&&ns==="alias"?rs.push(as):_$1.isArray(as)&&ns.indexOf("track")!==-1&&typeof this[ns]=="function"?os.push(as):is.push(as))},this);var ss=function(as,ls){_$1.each(as,function(cs){if(_$1.isArray(cs[0])){var us=ls;_$1.each(cs,function(ds){us=us[ds[0]].apply(us,ds.slice(1))})}else this[cs[0]].apply(this,cs.slice(1))},ls)};ss(rs,this),ss(is,this),ss(os,this)};MixpanelLib.prototype.are_batchers_initialized=function(){return!!this.request_batchers.events};MixpanelLib.prototype.get_batcher_configs=function(){var ts="__mpq_"+this.get_config("token"),ns=this.get_config("api_routes");return this._batcher_configs=this._batcher_configs||{events:{type:"events",endpoint:"/"+ns.track,queue_key:ts+"_ev"},people:{type:"people",endpoint:"/"+ns.engage,queue_key:ts+"_pp"},groups:{type:"groups",endpoint:"/"+ns.groups,queue_key:ts+"_gr"}},this._batcher_configs};MixpanelLib.prototype.init_batchers=function(){if(!this.are_batchers_initialized()){var ts=_$1.bind(function(rs){return new RequestBatcher(rs.queue_key,{libConfig:this.config,errorReporter:this.get_config("error_reporter"),sendRequestFunc:_$1.bind(function(is,os,ss){this._send_request(this.get_config("api_host")+rs.endpoint,this._encode_data_for_request(is),os,this._prepare_callback(ss,is))},this),beforeSendHook:_$1.bind(function(is){return this._run_hook("before_send_"+rs.type,is)},this),stopAllBatchingFunc:_$1.bind(this.stop_batch_senders,this),usePersistence:!0})},this),ns=this.get_batcher_configs();this.request_batchers={events:ts(ns.events),people:ts(ns.people),groups:ts(ns.groups)}}this.get_config("batch_autostart")&&this.start_batch_senders()};MixpanelLib.prototype.start_batch_senders=function(){this._batchers_were_started=!0,this.are_batchers_initialized()&&(this._batch_requests=!0,_$1.each(this.request_batchers,function(ts){ts.start()}))};MixpanelLib.prototype.stop_batch_senders=function(){this._batch_requests=!1,_$1.each(this.request_batchers,function(ts){ts.stop(),ts.clear()})};MixpanelLib.prototype.push=function(ts){this._execute_array([ts])};MixpanelLib.prototype.disable=function(ts){typeof ts>"u"?this._flags.disable_all_events=!0:this.__disabled_events=this.__disabled_events.concat(ts)};MixpanelLib.prototype._encode_data_for_request=function(ts){var ns=_$1.JSONEncode(ts);return this.get_config("api_payload_format")===PAYLOAD_TYPE_BASE64&&(ns=_$1.base64Encode(ns)),{data:ns}};MixpanelLib.prototype._track_or_batch=function(ts,ns){var rs=_$1.truncate(ts.data,255),is=ts.endpoint,os=ts.batcher,ss=ts.should_send_immediately,as=ts.send_request_options||{};ns=ns||NOOP_FUNC;var ls=!0,cs=_$1.bind(function(){return as.skip_hooks||(rs=this._run_hook("before_send_"+ts.type,rs)),rs?(console$1.log("MIXPANEL REQUEST:"),console$1.log(rs),this._send_request(is,this._encode_data_for_request(rs),as,this._prepare_callback(ns,rs))):null},this);return this._batch_requests&&!ss?os.enqueue(rs,function(us){us?ns(1,rs):cs()}):ls=cs(),ls&&rs};MixpanelLib.prototype.track=addOptOutCheckMixpanelLib(function(ts,ns,rs,is){!is&&typeof rs=="function"&&(is=rs,rs=null),rs=rs||{};var os=rs.transport;os&&(rs.transport=os);var ss=rs.send_immediately;if(typeof is!="function"&&(is=NOOP_FUNC),_$1.isUndefined(ts)){this.report_error("No event name provided to mixpanel.track");return}if(this._event_is_disabled(ts)){is(0);return}ns=_$1.extend({},ns),ns.token=this.get_config("token");var as=this.persistence.remove_event_timer(ts);if(!_$1.isUndefined(as)){var ls=new Date().getTime()-as;ns.$duration=parseFloat((ls/1e3).toFixed(3))}this._set_default_superprops();var cs=this.get_config("track_marketing")?_$1.info.marketingParams():{};ns=_$1.extend({},_$1.info.properties({mp_loader:this.get_config("mp_loader")}),cs,this.persistence.properties(),this.unpersisted_superprops,this.get_session_recording_properties(),ns);var us=this.get_config("property_blacklist");_$1.isArray(us)?_$1.each(us,function(hs){delete ns[hs]}):this.report_error("Invalid value for property_blacklist config: "+us);var ds={event:ts,properties:ns},ps=this._track_or_batch({type:"events",data:ds,endpoint:this.get_config("api_host")+"/"+this.get_config("api_routes").track,batcher:this.request_batchers.events,should_send_immediately:ss,send_request_options:rs},is);return ps});MixpanelLib.prototype.set_group=addOptOutCheckMixpanelLib(function(ts,ns,rs){_$1.isArray(ns)||(ns=[ns]);var is={};return is[ts]=ns,this.register(is),this.people.set(ts,ns,rs)});MixpanelLib.prototype.add_group=addOptOutCheckMixpanelLib(function(ts,ns,rs){var is=this.get_property(ts),os={};return is===void 0?(os[ts]=[ns],this.register(os)):is.indexOf(ns)===-1&&(is.push(ns),os[ts]=is,this.register(os)),this.people.union(ts,ns,rs)});MixpanelLib.prototype.remove_group=addOptOutCheckMixpanelLib(function(ts,ns,rs){var is=this.get_property(ts);if(is!==void 0){var os=is.indexOf(ns);os>-1&&(is.splice(os,1),this.register({group_key:is})),is.length===0&&this.unregister(ts)}return this.people.remove(ts,ns,rs)});MixpanelLib.prototype.track_with_groups=addOptOutCheckMixpanelLib(function(ts,ns,rs,is){var os=_$1.extend({},ns||{});return _$1.each(rs,function(ss,as){ss!=null&&(os[as]=ss)}),this.track(ts,os,is)});MixpanelLib.prototype._create_map_key=function(ts,ns){return ts+"_"+JSON.stringify(ns)};MixpanelLib.prototype._remove_group_from_cache=function(ts,ns){delete this._cached_groups[this._create_map_key(ts,ns)]};MixpanelLib.prototype.get_group=function(ts,ns){var rs=this._create_map_key(ts,ns),is=this._cached_groups[rs];return(is===void 0||is._group_key!==ts||is._group_id!==ns)&&(is=new MixpanelGroup,is._init(this,ts,ns),this._cached_groups[rs]=is),is};MixpanelLib.prototype.track_pageview=addOptOutCheckMixpanelLib(function(ts,ns){typeof ts!="object"&&(ts={}),ns=ns||{};var rs=ns.event_name||"$mp_web_page_view",is=_$1.extend(_$1.info.mpPageViewProperties(),_$1.info.campaignParams(),_$1.info.clickParams()),os=_$1.extend({},is,ts);return this.track(rs,os)});MixpanelLib.prototype.track_links=function(){return this._track_dom.call(this,LinkTracker,arguments)};MixpanelLib.prototype.track_forms=function(){return this._track_dom.call(this,FormTracker,arguments)};MixpanelLib.prototype.time_event=function(ts){if(_$1.isUndefined(ts)){this.report_error("No event name provided to mixpanel.time_event");return}this._event_is_disabled(ts)||this.persistence.set_event_timer(ts,new Date().getTime())};var REGISTER_DEFAULTS={persistent:!0},options_for_register=function(ts){var ns;return _$1.isObject(ts)?ns=ts:_$1.isUndefined(ts)?ns={}:ns={days:ts},_$1.extend({},REGISTER_DEFAULTS,ns)};MixpanelLib.prototype.register=function(ts,ns){var rs=options_for_register(ns);rs.persistent?this.persistence.register(ts,rs.days):_$1.extend(this.unpersisted_superprops,ts)};MixpanelLib.prototype.register_once=function(ts,ns,rs){var is=options_for_register(rs);is.persistent?this.persistence.register_once(ts,ns,is.days):(typeof ns>"u"&&(ns="None"),_$1.each(ts,function(os,ss){(!this.unpersisted_superprops.hasOwnProperty(ss)||this.unpersisted_superprops[ss]===ns)&&(this.unpersisted_superprops[ss]=os)},this))};MixpanelLib.prototype.unregister=function(ts,ns){ns=options_for_register(ns),ns.persistent?this.persistence.unregister(ts):delete this.unpersisted_superprops[ts]};MixpanelLib.prototype._register_single=function(ts,ns){var rs={};rs[ts]=ns,this.register(rs)};MixpanelLib.prototype.identify=function(ts,ns,rs,is,os,ss,as,ls){var cs=this.get_distinct_id();if(ts&&cs!==ts){if(typeof ts=="string"&&ts.indexOf(DEVICE_ID_PREFIX)===0)return this.report_error("distinct_id cannot have $device: prefix"),-1;this.register({$user_id:ts})}if(!this.get_property("$device_id")){var us=cs;this.register_once({$had_persisted_distinct_id:!0,$device_id:us},"")}ts!==cs&&ts!==this.get_property(ALIAS_ID_KEY)&&(this.unregister(ALIAS_ID_KEY),this.register({distinct_id:ts})),this._flags.identify_called=!0,this.people._flush(ns,rs,is,os,ss,as,ls),ts!==cs&&this.track("$identify",{distinct_id:ts,$anon_distinct_id:cs},{skip_hooks:!0})};MixpanelLib.prototype.reset=function(){this.persistence.clear(),this._flags.identify_called=!1;var ts=_$1.UUID();this.register_once({distinct_id:DEVICE_ID_PREFIX+ts,$device_id:ts},"")};MixpanelLib.prototype.get_distinct_id=function(){return this.get_property("distinct_id")};MixpanelLib.prototype.alias=function(ts,ns){if(ts===this.get_property(PEOPLE_DISTINCT_ID_KEY))return this.report_error("Attempting to create alias for existing People user - aborting."),-2;var rs=this;return _$1.isUndefined(ns)&&(ns=this.get_distinct_id()),ts!==ns?(this._register_single(ALIAS_ID_KEY,ts),this.track("$create_alias",{alias:ts,distinct_id:ns},{skip_hooks:!0},function(){rs.identify(ts)})):(this.report_error("alias matches current distinct_id - skipping api call."),this.identify(ts),-1)};MixpanelLib.prototype.name_tag=function(ts){this._register_single("mp_name_tag",ts)};MixpanelLib.prototype.set_config=function(ts){if(_$1.isObject(ts)){_$1.extend(this.config,ts);var ns=ts.batch_size;ns&&_$1.each(this.request_batchers,function(rs){rs.resetBatchSize()}),this.get_config("persistence_name")||(this.config.persistence_name=this.config.cookie_name),this.get_config("disable_persistence")||(this.config.disable_persistence=this.config.disable_cookie),this.persistence&&this.persistence.update_config(this.config),Config$1.DEBUG=Config$1.DEBUG||this.get_config("debug")}};MixpanelLib.prototype.get_config=function(ts){return this.config[ts]};MixpanelLib.prototype._run_hook=function(ts){var ns=(this.config.hooks[ts]||IDENTITY_FUNC).apply(this,slice.call(arguments,1));return typeof ns>"u"&&(this.report_error(ts+" hook did not return a value"),ns=null),ns};MixpanelLib.prototype.get_property=function(ts){return this.persistence.load_prop([ts])};MixpanelLib.prototype.toString=function(){var ts=this.get_config("name");return ts!==PRIMARY_INSTANCE_NAME&&(ts=PRIMARY_INSTANCE_NAME+"."+ts),ts};MixpanelLib.prototype._event_is_disabled=function(ts){return _$1.isBlockedUA(userAgent)||this._flags.disable_all_events||_$1.include(this.__disabled_events,ts)};MixpanelLib.prototype._gdpr_init=function(){var ts=this.get_config("opt_out_tracking_persistence_type")==="localStorage";ts&&_$1.localStorage.is_supported()&&(!this.has_opted_in_tracking()&&this.has_opted_in_tracking({persistence_type:"cookie"})&&this.opt_in_tracking({enable_persistence:!1}),!this.has_opted_out_tracking()&&this.has_opted_out_tracking({persistence_type:"cookie"})&&this.opt_out_tracking({clear_persistence:!1}),this.clear_opt_in_out_tracking({persistence_type:"cookie",enable_persistence:!1})),this.has_opted_out_tracking()?this._gdpr_update_persistence({clear_persistence:!0}):!this.has_opted_in_tracking()&&(this.get_config("opt_out_tracking_by_default")||_$1.cookie.get("mp_optout"))&&(_$1.cookie.remove("mp_optout"),this.opt_out_tracking({clear_persistence:this.get_config("opt_out_persistence_by_default")}))};MixpanelLib.prototype._gdpr_update_persistence=function(ts){var ns;if(ts&&ts.clear_persistence)ns=!0;else if(ts&&ts.enable_persistence)ns=!1;else return;!this.get_config("disable_persistence")&&this.persistence.disabled!==ns&&this.persistence.set_disabled(ns),ns?this.stop_batch_senders():this._batchers_were_started&&this.start_batch_senders()};MixpanelLib.prototype._gdpr_call_func=function(ts,ns){return ns=_$1.extend({track:_$1.bind(this.track,this),persistence_type:this.get_config("opt_out_tracking_persistence_type"),cookie_prefix:this.get_config("opt_out_tracking_cookie_prefix"),cookie_expiration:this.get_config("cookie_expiration"),cross_site_cookie:this.get_config("cross_site_cookie"),cross_subdomain_cookie:this.get_config("cross_subdomain_cookie"),cookie_domain:this.get_config("cookie_domain"),secure_cookie:this.get_config("secure_cookie"),ignore_dnt:this.get_config("ignore_dnt")},ns),_$1.localStorage.is_supported()||(ns.persistence_type="cookie"),ts(this.get_config("token"),{track:ns.track,trackEventName:ns.track_event_name,trackProperties:ns.track_properties,persistenceType:ns.persistence_type,persistencePrefix:ns.cookie_prefix,cookieDomain:ns.cookie_domain,cookieExpiration:ns.cookie_expiration,crossSiteCookie:ns.cross_site_cookie,crossSubdomainCookie:ns.cross_subdomain_cookie,secureCookie:ns.secure_cookie,ignoreDnt:ns.ignore_dnt})};MixpanelLib.prototype.opt_in_tracking=function(ts){ts=_$1.extend({enable_persistence:!0},ts),this._gdpr_call_func(optIn,ts),this._gdpr_update_persistence(ts)};MixpanelLib.prototype.opt_out_tracking=function(ts){ts=_$1.extend({clear_persistence:!0,delete_user:!0},ts),ts.delete_user&&this.people&&this.people._identify_called()&&(this.people.delete_user(),this.people.clear_charges()),this._gdpr_call_func(optOut,ts),this._gdpr_update_persistence(ts)};MixpanelLib.prototype.has_opted_in_tracking=function(ts){return this._gdpr_call_func(hasOptedIn,ts)};MixpanelLib.prototype.has_opted_out_tracking=function(ts){return this._gdpr_call_func(hasOptedOut,ts)};MixpanelLib.prototype.clear_opt_in_out_tracking=function(ts){ts=_$1.extend({enable_persistence:!0},ts),this._gdpr_call_func(clearOptInOut,ts),this._gdpr_update_persistence(ts)};MixpanelLib.prototype.report_error=function(ts,ns){console$1.error.apply(console$1.error,arguments);try{!ns&&!(ts instanceof Error)&&(ts=new Error(ts)),this.get_config("error_reporter")(ts,ns)}catch(rs){console$1.error(rs)}};MixpanelLib.prototype.init=MixpanelLib.prototype.init;MixpanelLib.prototype.reset=MixpanelLib.prototype.reset;MixpanelLib.prototype.disable=MixpanelLib.prototype.disable;MixpanelLib.prototype.time_event=MixpanelLib.prototype.time_event;MixpanelLib.prototype.track=MixpanelLib.prototype.track;MixpanelLib.prototype.track_links=MixpanelLib.prototype.track_links;MixpanelLib.prototype.track_forms=MixpanelLib.prototype.track_forms;MixpanelLib.prototype.track_pageview=MixpanelLib.prototype.track_pageview;MixpanelLib.prototype.register=MixpanelLib.prototype.register;MixpanelLib.prototype.register_once=MixpanelLib.prototype.register_once;MixpanelLib.prototype.unregister=MixpanelLib.prototype.unregister;MixpanelLib.prototype.identify=MixpanelLib.prototype.identify;MixpanelLib.prototype.alias=MixpanelLib.prototype.alias;MixpanelLib.prototype.name_tag=MixpanelLib.prototype.name_tag;MixpanelLib.prototype.set_config=MixpanelLib.prototype.set_config;MixpanelLib.prototype.get_config=MixpanelLib.prototype.get_config;MixpanelLib.prototype.get_property=MixpanelLib.prototype.get_property;MixpanelLib.prototype.get_distinct_id=MixpanelLib.prototype.get_distinct_id;MixpanelLib.prototype.toString=MixpanelLib.prototype.toString;MixpanelLib.prototype.opt_out_tracking=MixpanelLib.prototype.opt_out_tracking;MixpanelLib.prototype.opt_in_tracking=MixpanelLib.prototype.opt_in_tracking;MixpanelLib.prototype.has_opted_out_tracking=MixpanelLib.prototype.has_opted_out_tracking;MixpanelLib.prototype.has_opted_in_tracking=MixpanelLib.prototype.has_opted_in_tracking;MixpanelLib.prototype.clear_opt_in_out_tracking=MixpanelLib.prototype.clear_opt_in_out_tracking;MixpanelLib.prototype.get_group=MixpanelLib.prototype.get_group;MixpanelLib.prototype.set_group=MixpanelLib.prototype.set_group;MixpanelLib.prototype.add_group=MixpanelLib.prototype.add_group;MixpanelLib.prototype.remove_group=MixpanelLib.prototype.remove_group;MixpanelLib.prototype.track_with_groups=MixpanelLib.prototype.track_with_groups;MixpanelLib.prototype.start_batch_senders=MixpanelLib.prototype.start_batch_senders;MixpanelLib.prototype.stop_batch_senders=MixpanelLib.prototype.stop_batch_senders;MixpanelLib.prototype.start_session_recording=MixpanelLib.prototype.start_session_recording;MixpanelLib.prototype.stop_session_recording=MixpanelLib.prototype.stop_session_recording;MixpanelLib.prototype.get_session_recording_properties=MixpanelLib.prototype.get_session_recording_properties;MixpanelLib.prototype.DEFAULT_API_ROUTES=DEFAULT_API_ROUTES;MixpanelPersistence.prototype.properties=MixpanelPersistence.prototype.properties;MixpanelPersistence.prototype.update_search_keyword=MixpanelPersistence.prototype.update_search_keyword;MixpanelPersistence.prototype.update_referrer_info=MixpanelPersistence.prototype.update_referrer_info;MixpanelPersistence.prototype.get_cross_subdomain=MixpanelPersistence.prototype.get_cross_subdomain;MixpanelPersistence.prototype.clear=MixpanelPersistence.prototype.clear;var instances={},extend_mp=function(){_$1.each(instances,function(ts,ns){ns!==PRIMARY_INSTANCE_NAME&&(mixpanel_master[ns]=ts)}),mixpanel_master._=_$1},override_mp_init_func=function(){mixpanel_master.init=function(ts,ns,rs){if(rs)return mixpanel_master[rs]||(mixpanel_master[rs]=instances[rs]=create_mplib(ts,ns,rs),mixpanel_master[rs]._loaded()),mixpanel_master[rs];var is=mixpanel_master;instances[PRIMARY_INSTANCE_NAME]?is=instances[PRIMARY_INSTANCE_NAME]:ts&&(is=create_mplib(ts,ns,PRIMARY_INSTANCE_NAME),is._loaded(),instances[PRIMARY_INSTANCE_NAME]=is),mixpanel_master=is,init_type===INIT_SNIPPET&&(win[PRIMARY_INSTANCE_NAME]=mixpanel_master),extend_mp()}},add_dom_loaded_handler=function(){function ts(){ts.done||(ts.done=!0,DOM_LOADED=!0,ENQUEUE_REQUESTS=!1,_$1.each(instances,function(is){is._dom_loaded()}))}function ns(){try{document$1.documentElement.doScroll("left")}catch{setTimeout(ns,1);return}ts()}if(document$1.addEventListener)document$1.readyState==="complete"?ts():document$1.addEventListener("DOMContentLoaded",ts,!1);else if(document$1.attachEvent){document$1.attachEvent("onreadystatechange",ts);var rs=!1;try{rs=win.frameElement===null}catch{}document$1.documentElement.doScroll&&rs&&ns()}_$1.register_event(win,"load",ts,!0)};function init_as_module(ts){return load_extra_bundle=ts,init_type=INIT_MODULE,mixpanel_master=new MixpanelLib,override_mp_init_func(),mixpanel_master.init(),add_dom_loaded_handler(),mixpanel_master}function loadNoop(ts,ns){ns()}var mixpanel=init_as_module(loadNoop),mixpanel_cjs=mixpanel;const mixpanel$1=getDefaultExportFromCjs(mixpanel_cjs);let mixpanelWasInited=!1;function setupMixpanel({token:ts,config:ns,registerProps:rs}){ts?mixpanelWasInited||(mixpanel$1.init(ts,ns),rs&&mixpanel$1.register(rs),mixpanelWasInited=!0):console.error("Mixpanel token is not set")}function setupSentry(ts){var ns;init({integrations:[new BrowserTracing({tracePropagationTargets:["localhost",...ts.tracePropagationTargets||[]]}),new Replay$1({networkDetailAllowUrls:(ns=ts.networkDetailAllowUrls)!=null?ns:[]})],tracesSampleRate:1,replaysSessionSampleRate:.1,replaysOnErrorSampleRate:1,...ts})}const tokenlessClient=new ZambdaClient({apiUrl:"http://localhost:3000/local"});let zambdaWithToken=null;function useZambdaClient({tokenless:ts}){const[ns,rs]=reactExports.useState(zambdaWithToken),{isAuthenticated:is,getAccessTokenSilently:os}=useAuth0(),[ss,as]=useSearchParams(),ls=ss.get("token"),[cs,us]=reactExports.useState(!1);return reactExports.useEffect(()=>{let ds=null;async function ps(){us(!0);try{ds=is?await os():ls,ds&&(zambdaWithToken=new ZambdaClient({apiUrl:"http://localhost:3000/local",accessToken:ds}),rs(zambdaWithToken))}catch{console.error("error refreshing token")}finally{us(!1)}}(is&&!ts||ls)&&!zambdaWithToken&&ps().catch(hs=>console.log(hs))},[os,is,ts,ls]),ts?tokenlessClient:cs?null:ns}const breakpoints$1={values:{xs:0,sm:400,md:700,lg:1e3,xl:1400}},IntakeThemeProviderBase=ts=>{const{children:ns,palette:rs,otherColors:is,i18n:os,textFonts:ss=["Rubik"],headerFonts:as=["Rubik"],customTypographyOverrides:ls,customComponentsOverrides:cs}=ts,us={MuiButton:{styleOverrides:{root:{fontSize:16,fontWeight:700,fontFamily:ss.join(","),textTransform:"none",lineHeight:"140%","&:not($sizeLarge):not($sizeSmall) $label":{fontSize:16},borderRadius:50},sizeLarge:{"& $label":{fontSize:17}},sizeSmall:{"& $label":{fontSize:15}}}},MuiButtonBase:{styleOverrides:{root:{"&.MuiPickersDay-root":{fontSize:16,"&.MuiPickersDay-today":{borderColor:rs.secondary.main},"&.Mui-selected":{backgroundColor:rs.secondary.main}}}}},MuiContainer:{styleOverrides:{maxWidthMd:{"&.MuiContainer-maxWidthMd":{maxWidth:550,paddingLeft:0,paddingRight:0}}}},MuiGrid:{styleOverrides:{root:{"&.MuiGrid-item":{marginTop:6}}}},MuiInput:{styleOverrides:{root:{fontSize:16}}},MuiInputBase:{styleOverrides:{root:{"&.Mui-error":{"&& .MuiInput-input":{borderColor:rs.error.main}}}}},MuiTab:{styleOverrides:{root:{textTransform:"capitalize",fontSize:16}}},MuiTabs:{styleOverrides:{flexContainer:{borderBottom:"1px solid ".concat(is.scheduleBorder),marginBottom:"2.5px"}}},MuiTypography:{styleOverrides:{root:{"&.MuiDayPicker-weekDayLabel":{fontSize:16,color:is.scheduleBorder},"&.PrivatePickersMonth-root:disabled":{color:rs.text.disabled}}}}},ds={fontFamily:ss.join(","),fontWeightMedium:600,h1:{fontSize:34,fontWeight:"500",fontFamily:as.join(","),lineHeight:"140%"},h2:{fontSize:26,fontWeight:"500",fontFamily:as.join(","),lineHeight:"140%"},h3:{fontSize:20,fontWeight:"500",fontFamily:as.join(","),lineHeight:"140%"},h4:{fontSize:18,fontWeight:"500",fontFamily:as.join(","),lineHeight:"140%"},h5:{fontSize:18,fontWeight:"500",fontFamily:as.join(","),lineHeight:"140%"},h6:{fontSize:16,fontWeight:"500",fontFamily:as.join(","),lineHeight:"140%"},subtitle1:{fontSize:16,fontWeight:700,fontFamily:ss.join(","),lineHeight:"140%"},subtitle2:{fontSize:14,fontWeight:700,fontFamily:ss.join(","),lineHeight:"140%"},body1:{fontSize:16,fontWeight:400,fontFamily:ss.join(","),lineHeight:"140%"},body2:{fontSize:16,fontWeight:400,fontFamily:ss.join(","),lineHeight:"140%"},button:{},caption:{fontSize:14,fontWeight:400,fontFamily:ss.join(","),lineHeight:"140%"},overline:{fontSize:12,fontWeight:700,fontFamily:ss.join(","),lineHeight:"140%"}},ps=createTheme({palette:rs,components:{...us,...cs},direction:"ltr",breakpoints:breakpoints$1,typography:{...ds,...ls}});return ps.typography.h1={...ps.typography.h1,[ps.breakpoints.down("md")]:{fontSize:28}},ps.typography.h2={...ps.typography.h2,[ps.breakpoints.down("md")]:{fontSize:22}},jsxRuntimeExports.jsx(ThemeProvider,{theme:ps,children:jsxRuntimeExports.jsx(IntakeThemeContext.Provider,{value:{otherColors:is,i18n:os},children:ns})})},zambdasPublicityMap={"check in":!0,"create appointment":!1,"cancel appointment":!1,"update appointment":!1,"get appointments":!1,"get patients":!1,"get paperwork":!1,"create paperwork":!1,"update paperwork":!1,"get schedule":!0,"get wait status":!0,"join call":!0,"video chat create invite":!1,"video chat cancel invite":!1,"video chat list invites":!1,"get presigned file url":!0},getZapEHRAPI=(ts,ns)=>{const{checkInZambdaID:rs,createAppointmentZambdaID:is,cancelAppointmentZambdaID:os,updateAppointmentZambdaID:ss,getAppointmentsZambdaID:as,getPatientsZambdaID:ls,getPaperworkZambdaID:cs,createPaperworkZambdaID:us,updatePaperworkZambdaID:ds,getScheduleZambdaID:ps,getWaitStatusZambdaID:hs,joinCallZambdaID:ms,videoChatCreateInviteZambdaID:gs,videoChatCancelInviteZambdaID:ys,videoChatListInvitesZambdaID:vs,getPresignedFileURLZambdaID:bs}=ts,Ss={"check in":rs,"create appointment":is,"cancel appointment":os,"update appointment":ss,"get appointments":as,"get patients":ls,"get paperwork":cs,"create paperwork":us,"update paperwork":ds,"get schedule":ps,"get wait status":hs,"join call":ms,"video chat create invite":gs,"video chat cancel invite":ys,"video chat list invites":vs,"get presigned file url":bs},$s=ts.isAppLocal!=null,Cs=ts.isAppLocal==="true",Es=(Us,Ol)=>{if(Us===void 0||!$s)throw new Error("".concat(Ol," zambda environment variable could not be loaded"));return!0},xs=Us=>Cs?Us:Us.output,ws=async(Us,Ol,qs)=>{const Fl=Ss[Us];try{if(Es(Fl,Us)){let Ll;zambdasPublicityMap[Us]?Ll=ns.invokePublicZambda:Ll=ns.invokeZambda,Ll=Ll.bind(ns);const $l=await Ll({zambdaId:Fl,payload:Ol});return xs($l)}throw Error()}catch(Ll){throw qs&&qs(Ll),apiErrorToThrow(Ll)}},ks=async Us=>await ws("check in",{appointment:Us},NotFoundApointmentErrorHandler),Is=async Us=>{const Ol=fhirifyAppointmentInputs({...Us});return await ws("create appointment",Ol)},Ts=async Us=>await ws("cancel appointment",Us,NotFoundApointmentErrorHandler),Rs=async Us=>await ws("update appointment",Us),As=async()=>await ws("get patients"),Ms=async Us=>{const Ol=Object.fromEntries(Object.entries(Us).filter(([qs,Fl])=>Fl&&!Object.values(Fl).every(Ll=>Ll===void 0)));return await ws("create paperwork",Ol)},Ls=async Us=>{const Ol=Object.fromEntries(Object.entries(Us).filter(([qs,Fl])=>Fl&&!Object.values(Fl).every(Ll=>Ll===void 0)));return await ws("update paperwork",Ol)},Ds=async Us=>await ws("get schedule",Us),Fs=async Us=>await ws("get appointments",Us),Vs=async Us=>await ws("get paperwork",Us,NotFoundApointmentErrorHandler),Bs=async Us=>await ws("get paperwork",Us,NotFoundApointmentErrorHandler),Ws=async Us=>await ws("get wait status",Us),Os=async Us=>await ws("join call",Us),Nl=async Us=>await ws("video chat create invite",Us),$a=async Us=>await ws("video chat cancel invite",Us),Ps=async Us=>await ws("video chat list invites",Us),Ys=async(Us,Ol,qs,Fl)=>{try{const Ll=await Zs(Us,Ol,qs);if(!(await fetch(Ll.presignedURL,{method:"PUT",headers:{"Content-Type":Fl.type},body:Fl})).ok)throw new Error("Failed to upload file");return Ll}catch(Ll){throw apiErrorToThrow(Ll)}},Zs=async(Us,Ol,qs)=>await ws("get presigned file url",{appointmentID:Us,fileType:Ol,fileFormat:qs});return{checkIn:ks,createAppointment:Is,cancelAppointment:Ts,updateAppointment:Rs,getPaperwork:Vs,createPaperwork:Ms,updatePaperwork:Ls,getPaperworkPublic:Bs,getPatients:As,getAppointments:Fs,createZ3Object:Ys,getSchedule:Ds,getWaitStatus:Ws,joinCall:Os,videoChatCreateInvite:Nl,videoChatCancelInvite:$a,videoChatListInvites:Ps}},fhirifyAppointmentInputs=ts=>{const ns={...ts},{patient:rs}=ns,{dateOfBirth:is}=rs;return rs&&(rs.dateOfBirth=isoStringFromMDYString(is!=null?is:"")),ns.patient=rs,ns},InternalError={message:"Internal Service Error"},isApiError=ts=>ts instanceof Object&&ts&&"message"in ts,apiErrorToThrow=ts=>(console.error("Top level catch block:\nError: ".concat(ts,"\nError stringified: ").concat(JSON.stringify(ts))),isApiError(ts)?ts:(console.error("An endpoint threw and did not provide a well formed ApiError"),InternalError));function NotFoundApointmentErrorHandler(ts){if(ts.message==="Appointment is not found")throw ts}const general$1={button:{book:"Book an appointment",submit:"Submit",continue:"Continue",back:"Back",close:"Close",tryAgain:"Try again",checked:"Checked",unchecked:"Unchecked"},dateOfBirth:"Date of birth",dropdownPlaceholder:"Please select",datePlaceholder:"MM/DD/YYYY",errors:{validation:{firstName:"First name is required",lastName:"Last name is required",dateOfBirth:{format:"Date must be in the format MM/DD/YYYY",required:"Birth date is required"},zip:{number:"Zip code must be 5 digits",required:"ZIP is required"}},submit:{title:"There was an issue booking an appointment"},schedule:{noneToday:"There are no slots available today, please walk-in or click the tomorrow button for available slots",noneTomorrow:"There are no slots available, please walk-in."}},firstName:"First name",footer:"If you believe that you or your child is having a medical emergency, please dial 911 or go to the nearest emergency room.",lastName:"Last name",required:"required field",stateFullNames:{AK:"Alaska",AL:"Alabama",AR:"Arkansas",AZ:"Arizona",CA:"California",CO:"Colorado",CT:"Connecticut",DC:"District of Columbia",DE:"Delaware",FL:"Florida",GA:"Georgia",HI:"Hawaii",IA:"Iowa",ID:"Idaho",IL:"Illinois",IN:"Indiana",KS:"Kansas",KY:"Kentucky",LA:"Louisiana",MA:"Massachusetts",MD:"Maryland",ME:"Maine",MI:"Michigan",MN:"Minnesota",MO:"Missouri",MS:"Mississippi",MT:"Montana",NC:"North Carolina",ND:"North Dakota",NE:"Nebraska",NH:"New Hampshire",NJ:"New Jersey",NM:"New Mexico",NV:"Nevada",NY:"New York",OH:"Ohio",OK:"Oklahoma",OR:"Oregon",PA:"Pennsylvania",RI:"Rhode Island",SC:"South Carolina",SD:"South Dakota",TN:"Tennessee",TX:"Texas",UT:"Utah",VA:"Virginia",VT:"Vermont",WA:"Washington",WI:"Wisconsin",WV:"West Virginia",WY:"Wyoming"},sunAlt:"Yellow sun icon",weekdays:["S","M","T","W","T","F","S"],zip:"ZIP"},patientInfo$1={errors:{"":{title:"Age not in range",description:"These services are only available for patients between the ages of 0 and 26."},validation:{firstName:"First name is required",lastName:"Last name is required",dateOfBirth:{format:"Date must be in the format MM/DD/YYYY",required:"Birth date is required"},zip:{number:"Zip code must be 5 digits",required:"ZIP is required"}}}},welcome$1={title:"Welcome to Ottehr Urgent Care",subtitle:"Online Scheduling",support:"We are here to support you and your family.",availability:"Please, enter your mobile phone number. We'll verify if we have your information already. If we do, we'll pre-fill your past information for a faster booking."},i18nEn={general:general$1,patientInfo:patientInfo$1,welcome:welcome$1},englishStrings=Object.freeze(Object.defineProperty({__proto__:null,default:i18nEn,general:general$1,patientInfo:patientInfo$1,welcome:welcome$1},Symbol.toStringTag,{value:"Module"})),general={button:{book:"Reservar una cita",submit:"Enviar",continue:"Continuar",back:"AtrÃ¡s",close:"Cerrar",tryAgain:"Intente de nuevo",checked:"Marcado",unchecked:"Sin marcar"},dateOfBirth:"Fecha de nacimiento",dropdownPlaceholder:"Seleccione",datePlaceholder:"MM/DD/AAAA",errors:{validation:{firstName:"El nombre es obligatorio",lastName:"El apellido es obligatorio",dateOfBirth:{format:"La fecha debe tener el formato MM/DD/AAAA",required:"La fecha de nacimiento es obligatoria"},zip:{number:"El cÃ³digo postal debe tener cinco dÃ­gitos",required:"El cÃ³digo postal es obligatorio"}}},firstName:"Nombre",footer:"Si cree que usted o su hijo tienen una emergencia mÃ©dica, llame al 911 o vaya a la sala de emergencias mÃ¡s cercana.",lastName:"Apellido",required:"campo obligatorio",stateFullNames:{AK:"Alaska",AL:"Alabama",AR:"Arkansas",AZ:"Arizona",CA:"California",CO:"Colorado",CT:"Connecticut",DC:"Distrito de Columbia",DE:"Delaware",FL:"Florida",GA:"Georgia",HI:"HawÃ¡i",IA:"Iowa",ID:"Idaho",IL:"Illinois",IN:"Indiana",KS:"Kansas",KY:"Kentucky",LA:"Luisiana",MA:"Massachusetts",MD:"Maryland",ME:"Maine",MI:"Michigan",MN:"Minnesota",MO:"Misuri",MS:"Misisipi",MT:"Montana",NC:"Carolina del Norte",ND:"Dakota del Norte",NE:"Nebraska",NH:"Nuevo Hampshire",NJ:"Nueva Jersey",NM:"Nuevo MÃ©xico",NV:"Nevada",NY:"Nueva York",OH:"Ohio",OK:"Oklahoma",OR:"OregÃ³n",PA:"Pensilvania",RI:"Rhode Island",SC:"Carolina del Sur",SD:"Dakota del Sur",TN:"Tennessee",TX:"Texas",UT:"Utah",VA:"Virginia",VT:"Vermont",WA:"Washington",WI:"Wisconsin",WV:"Virginia Occidental",WY:"Wyoming"},sunAlt:"Icono de sol amarillo",weekdays:["D","L","M","X","J","V","S"],zip:"CÃ³digo postal"},welcome={title:"Bienvenido(a) a Ottehr",subtitle:"ProgramaciÃ³n en lÃ­nea",support:"Estamos aquÃ­ para apoyarlos a usted y a su familia.",availability:"Introduzca su cÃ³digo postal para determinar la disponibilidad de los servicios en su Ã¡rea: terapia, administraciÃ³n de medicamentos, psiquiatrÃ­a o asesoramiento para padres o sobre el sueÃ±o. Las consultas presenciales ahora estÃ¡n disponibles en ubicaciones seleccionadas.",inputHelperText:"Utilice el cÃ³digo postal en el que se ubicarÃ¡ el paciente mientras recibe los servicios.",submitLabel:"Empezar",errors:{zip:{title:"No se encontrÃ³ un estado con ese cÃ³digo postal",description:"No se encontrÃ³ un estado con ese cÃ³digo postal. Si el cÃ³digo postal es vÃ¡lido, comunÃ­quese con nosotros."},availability:{title:"No se encontrÃ³ ninguna disponibilidad para consultas virtuales",description:"Lamentablemente no encontramos ninguna cita virtual disponible. IntÃ©ntelo de nuevo mÃ¡s tarde o seleccione otra opciÃ³n de cita."}}},availableServices={title:"Servicios disponibles en",descriptionNY:"Â¡Ahora aceptamos los seguros Healthfirst y Fidelis Care en Nueva York!",description:"Ofrecemos terapia, psiquiatrÃ­a, administraciÃ³n de medicamentos, asesoramiento para padres y asesoramiento sobre el sueÃ±o en su Ã¡rea.",descriptionPayment:"Si su seguro aÃºn no se encuentra en nuestra red, al reservar una cita, se le solicitarÃ¡ su informaciÃ³n de pago, pero no se cobrarÃ¡ ningÃºn monto en su tarjeta de crÃ©dito hasta el dÃ­a de su consulta. Su recibo puede utilizarse para enviarlo a su compaÃ±Ã­a de seguros o cuenta de ahorros para la salud (Health Savings Account, HSA) para obtener un posible reembolso.",descriptionOnlyCoaching:"Nos complace ofrecer asesoramiento para padres y sobre el sueÃ±o en su estado. Los servicios de terapia y psiquiatrÃ­a estarÃ¡n disponibles en el futuro.",label:"Seleccione una de las siguientes opciones",virtual:{title:"Consulta virtual",description:"Programe su primera visita con un administrador de atenciÃ³n mÃ©dica conductual para evaluar las necesidades de su hijo y relacionarlas con uno de nuestros pediatras expertos.",alt:"Icono de computadora portÃ¡til",nextAvailable:"PrÃ³xima cita disponible:"},inPerson:{title:"Consulta presencial",description:"Consulte a uno de nuestros coordinadores para hablar sobre las necesidades de su hijo y programar la cita con un pediatra experto en la zona que prefiera. Disponible en:",alt:"Icono de comillas"},coaching:{title:"Asesoramiento para padres o sobre el sueÃ±o",description:"Programe una cita para analizar sus necesidades o las necesidades de su hijo y concertar una cita con un entrenador que pueda ayudarle mejor. Por lo general, estas visitas no estÃ¡n cubiertas por su seguro mÃ©dico, pero pueden enviarse a su HSA para obtener un posible reembolso.",alt:"Icono de personas agarrÃ¡ndose las manos"},errors:{selection:"Se debe seleccionar un tipo de servicio"}},inPerson={title:"Ubicaciones para asistir presencialmente en",description:'Haga clic en "Reservar una cita" para entrar en nuestra pantalla de pago seguro con tarjeta de crÃ©dito, despuÃ©s de lo cual podrÃ¡ reservar una consulta al instante.',label:"Seleccione una de las siguientes opciones",therapyOnly:{title:"Terapia",description:"Programe una cita con uno de nuestros administradores de atenciÃ³n mÃ©dica conductual que lo guiarÃ¡ por nuestro proceso."},therapyPsychiatry:{title:"Terapia, psiquiatrÃ­a",description:"Programe una cita con uno de nuestros administradores de atenciÃ³n mÃ©dica conductual que lo guiarÃ¡ por nuestro proceso y determinarÃ¡ quÃ© servicio satisface mejor sus necesidades: Terapia, psiquiatrÃ­a."},therapyMedicationPsychiatry:{title:"Terapia, administraciÃ³n de medicamentos y psiquiatrÃ­a",description:"Programe una cita con uno de nuestros administradores de atenciÃ³n mÃ©dica conductual que lo guiarÃ¡ por nuestro proceso y determinarÃ¡ quÃ© servicio satisface mejor sus necesidades: Terapia, administraciÃ³n de medicamentos, psiquiatrÃ­a."},errors:{location:"Se debe seleccionar una ubicaciÃ³n"}},coaching={title:"Asesoramiento para padres o sobre el sueÃ±o",description:"Si estÃ¡ interesado en el asesoramiento para padres o sobre el sueÃ±o, le ofrecemos una cita gratuita de 15 minutos con uno de nuestros asesores."},whatToExpect={title:"AdmisiÃ³n virtual de salud conductual inicial",subtitle:"Esto es lo que puede prever",appointment:"Una cita con uno de nuestros administradores de atenciÃ³n.",services:"DeterminaciÃ³n de los servicios que les beneficiarÃ­an a usted y a su hijo(a): terapia, administraciÃ³n de medicamentos o evaluaciÃ³n psiquiÃ¡trica.",licensed:"Terapia en curso por parte de un grupo experimentado de psicÃ³logos y terapeutas certificados con formaciÃ³n especializada.",medication:"AdministraciÃ³n de medicamentos (si es necesario) o evaluaciÃ³n con un psiquiatra infantil/adolescente certificado (en estados limitados)."},patientInfo={title:"Primero, cuÃ©ntenos un poco sobre el paciente",description:"Utilizamos esta informaciÃ³n para asegurarnos de que podemos proporcionarle atenciÃ³n. Toda la informaciÃ³n se mantiene de forma confidencial.",firstName:"Nombre legal del paciente",lastName:"Apellido legal del paciente",dateOfBirth:{label:"Fecha de nacimiento del paciente",helperText:"Tenga en cuenta que ofrecemos servicios para pacientes de entre 5 y 26 aÃ±os."},sex:{label:"Sexo del paciente",male:"Hombre",female:"Mujer",other:"Otro"},reasonForVisit:{label:"Motivo de la consulta",placeholder:"Escriba o seleccione todas las opciones que correspondan...",options:["Terapia","AdministraciÃ³n de medicamentos","Ansiedad","DepresiÃ³n","ADD/TDAH","TOC","TEPT (Trastorno por estrÃ©s postraumÃ¡tico)","TND (Trastorno negativista desafiante)","Trastornos de la conducta","DeserciÃ³n escolar","Problemas familiares","Apoyo para padres","Apoyo para el duelo"]},email:{label:"Correo electrÃ³nico",helperText:"Proporcione el correo electrÃ³nico para obtener el mejor punto de contacto con respecto a esta cita."},marketing:"Â¡SÃ­! Me gustarÃ­a recibir comunicaciones Ãºtiles por correo electrÃ³nico, incluso informaciÃ³n sobre recursos, herramientas y eventos educativos gratuitos para ayudarme a mÃ­ y a mi hijo(a).",errors:{age:{title:"Edad fuera del intervalo",description:"Estos servicios estÃ¡n disponibles para pacientes de entre 5 y 26 aÃ±os Ãºnicamente."},validation:{sex:"El sexo del paciente es obligatorio",reasonForVisit:"El motivo de la visita es obligatorio",email:"El correo electrÃ³nico es obligatorio",emailValidity:"El correo electrÃ³nico debe ser un correo electrÃ³nico vÃ¡lido"}}},paymentOption={title:"Â¿CÃ³mo le gustarÃ­a pagar su sesiÃ³n",description:"Estamos trabajando con esmero para asegurar otros contratos de seguro pronto. Si su seguro no aparece en la lista, utilice nuestra opciÃ³n de pago por cuenta propia.",label:"Seleccionar opciÃ³n de pago",self:{description:"PagarÃ© por cuenta propia o presentarÃ© reclamos de seguros fuera de la red con mi proveedor de seguros."},errors:{selection:"Debe seleccionarse un tipo de pago"}},insurance={title:"detalles del seguro",description:"Utilizamos esta informaciÃ³n para confirmar su cobertura.",firstName:"Nombre del tutor legal *",lastName:"Apellido del tutor legal *",dateOfBirth:"Fecha de nacimiento del tutor legal",idNumber:{label:"NÃºmero de identificaciÃ³n del paciente *",placeholder:"El nÃºmero de identificaciÃ³n"},memberId:{paragraph:"Introducir el ID de miembro para",label:"ID de miembro"},errors:{age:{title:"Edad fuera del intervalo",description:"El tutor legal debe ser mayor de 18 aÃ±os."},coverage:{title:"No se encontrÃ³ la cobertura",description:"Compruebe los datos de su tarjeta de seguro e intente de nuevo. Si sigue sin funcionar, pÃ³ngase en contacto con nuestro equipo de asistencia llamando al 123-456-7980."},other:{title:"Error",description:"Se produjo un error, intente de nuevo. Si sigue sin funcionar, pÃ³ngase en contacto con nuestro equipo de asistencia llamando al 123-456-7980."},validation:{idNumber:"El nÃºmero de identificaciÃ³n es obligatorio",alphanumeric:"El nÃºmero de identificaciÃ³n debe tener solo letras o nÃºmeros"}}},schedule={title:"Reservar una cita",description:{prefix:"Programemos su primera consulta, que durarÃ¡ unos ",suffix:"minutos."},dateAndTime:"Seleccione fecha y hora",timezone:"Zona horaria",firstAvailable:{label:"Primer horario disponible",calculating:"CÃ¡lculo del primer horario disponible"},tabAriaLabel:"PestaÃ±as de citas para cambiar entre las vistas de hoy, maÃ±ana y otras fechas.",loading:"Cargando",otherDates:"Otras fechas",submitLabel:"Seleccionar",errors:{selection:{title:"Seleccione la fecha y el horario",description:"Para continuar, seleccione una cita disponible."},availability:{title:"No se ha podido encontrar ninguna disponibilidad",description:"Lamentablemente no encontramos ninguna cita disponible. Intente de nuevo mÃ¡s tarde."},noneToday:"No hay citas disponibles para este dÃ­a, intente otro dÃ­a."}},forms={title:"Complete los formularios previos a la consulta",termsAndPrivacy:{prefix:"He revisado y acepto la atenciÃ³n de Ottehr",terms:"TÃ©rminos y condiciones",and:"y",privacy:"PolÃ­tica de privacidad"},consentAndPaymentGuarantee:{text:"He revisado y acepto la",link:"Consentimiento para el tratamiento y la garantÃ­a de pago"},hipaaAcknowledgement:{prefix:"Reconozco que he recibido, revisado y comprendido el",link:"Aviso de prÃ¡cticas de privacidad",suffix:"que describe cÃ³mo se puede utilizar y divulgar la informaciÃ³n mÃ©dica protegida."},financialAgreement:{text:"He revisado y acepto la",link:"PolÃ­tica financiera"},signature:{label:"Firma",placeholder:"Su nombre",helperText:"Escriba su nombre y apellido legales."},relationship:{label:"RelaciÃ³n con el paciente",option:{parent:"Progenitor/tutor legal",self:"Yo mismo",other:"Otro"}},errors:{selection:"Todas las casillas de verificaciÃ³n son obligatorias",validation:{signature:"La firma es obligatoria",relationship:"La relaciÃ³n con el paciente es obligatoria"}}},contactInfo={title:"InformaciÃ³n de contacto",description:"Proporcione la informaciÃ³n para obtener el mejor punto de contacto con respecto a esta cita.",phone:{label:"NÃºmero de telÃ©fono",helperText:"Proporcione el mejor nÃºmero de telÃ©fono mÃ³vil de su familia."},address:"DirecciÃ³n",apartment:{label:"Apartamento, suite, etc.",placeholder:"Apartamento"},city:"Ciudad",state:"Estado",errors:{title:"Error al crear la franja horaria de la cita",default:"Se produjo un error al crear su cita. Intente de nuevo y, si el problema persiste, pÃ³ngase en contacto con nosotros.",unavailable:"La franja horaria de la cita ya no estÃ¡ libre, regrese y seleccione una diferente.",missing:"Faltan algunos datos. Regrese y proporcione cualquier informaciÃ³n que falte.",validation:{phone:{number:"El nÃºmero de telÃ©fono debe tener 10 dÃ­gitos",required:"El nÃºmero de telÃ©fono es obligatorio"},address:"La direcciÃ³n es obligatoria",city:"La ciudad es obligatoria",state:"El estado es obligatorio"}}},creditCard={title:"InformaciÃ³n de su tarjeta de crÃ©dito",description:"Su tarjeta de crÃ©dito se preautorizarÃ¡ ahora y se conservarÃ¡ en nuestros archivos para el dÃ­a de su cita. En ese momento, cualquier cargo, copago o deducible adeudado se cargarÃ¡ a esta tarjeta y no excederÃ¡ el costo de pago por cuenta propia de su tipo de consulta. Para obtener una lista de tipos de consultas y tarifas, haga clic",link:"aquÃ­",number:{label:"NÃºmero de tarjeta de crÃ©dito",placeholder:"1234567890123456"},expiration:{label:"Fecha de caducidad",placeholder:"MM / AA"},security:"CÃ³digo de seguridad",cardHolderName:{label:"Nombre del titular de la tarjeta",placeholder:"1234567890123456"},cardHolderZip:{label:"CÃ³digo postal del titular de la tarjeta",placeholder:"1234567890123456",helperText:"Utilice el cÃ³digo postal asociado con la direcciÃ³n de facturaciÃ³n de esta tarjeta."},errors:{availability:{title:"Error al crear la franja horaria de la cita",description:"La franja horaria de la cita ya no estÃ¡ libre, regrese y seleccione una diferente."},slot:{title:"Error al crear la franja horaria de la cita",description:"Se produjo un error al crear su cita. Intente de nuevo y, si el problema persiste, pÃ³ngase en contacto con nosotros."},validation:{number:{format:"El nÃºmero de tarjeta debe ser un nÃºmero",required:"El nÃºmero de tarjeta es obligatorio"},expiration:{format:"Debe estar en formato MM/AA",required:"El vencimiento de la tarjeta es obligatorio"},security:{format:"El cÃ³digo debe ser un nÃºmero",required:"El cÃ³digo de seguridad de la tarjeta es obligatorio"},cardHolder:{name:"El nombre del titular de la tarjeta es obligatorio",zip:"El cÃ³digo postal del titular de la tarjeta es obligatorio"}},validationResponse:{number:"Su nÃºmero de tarjeta de crÃ©dito no era vÃ¡lido",expiration:"Su fecha de caducidad no era vÃ¡lida",security:"Su CVV no era vÃ¡lido",other:"Compruebe los datos de su tarjeta e intente de nuevo."}}},thanks={title:"Gracias por elegir Ottehr Telemedicine",description:"Â¡Esperamos brindarle el apoyo de salud conductual que se merece!",scheduled:"Su cita estÃ¡ programada para:",reminders:"En breve, recibirÃ¡ un correo electrÃ³nico de confirmaciÃ³n para su prÃ³xima cita. Si necesita realizar algÃºn cambio, siga las instrucciones del correo electrÃ³nico. TambiÃ©n recibirÃ¡ recordatorios de citas 72 y 24 horas antes de su llamada. Su enlace a la videoconferencia se enviarÃ¡ a su correo electrÃ³nico el dÃ­a de la cita. Si tiene alguna pregunta o necesita mÃ¡s asistencia, llÃ¡menos al (888) 764-4161.",cancellation:{title:"PolÃ­tica de cancelaciÃ³n:",paragraph:"Las citas canceladas menos de 24 horas antes del horario programado estarÃ¡n sujetas a un cargo por cancelaciÃ³n de $50. Las faltas de asistencia se cobrarÃ¡n con la tarifa completa de la cita programada. Tenga en cuenta que esta polÃ­tica de cancelaciÃ³n solo se aplica a los pacientes que utilizan nuestra opciÃ³n de pago por cuenta propia o un plan de seguro comercial. Esta polÃ­tica no se aplica a pacientes con Medicaid ni planes gestionados de Medicaid."},submitLabel:"Volver a Ottehr"},i18nEs={general,welcome,availableServices,inPerson,coaching,whatToExpect,patientInfo,paymentOption,insurance,schedule,forms,contactInfo,creditCard,thanks},spanishStrings=Object.freeze(Object.defineProperty({__proto__:null,availableServices,coaching,contactInfo,creditCard,default:i18nEs,forms,general,inPerson,insurance,patientInfo,paymentOption,schedule,thanks,welcome,whatToExpect},Symbol.toStringTag,{value:"Module"})),englishTranslation=JSON.stringify(englishStrings),spanishTranslation=JSON.stringify(spanishStrings),i18n=i18nextCreator({en:{translation:JSON.parse(englishTranslation)},es:{translation:JSON.parse(spanishTranslation)}}),otherColors={appointmentInfoBackground:"#8F66EF",appbarBackground:"#244855",background:"#5324BE",borderGray:"#D6D8DF",borderLightBlue:"#4294F3",checkIcon:"#7045F2",clearImage:"#EB5757",coachingVisit:"#aed4fc",lightBlue:"#E2F0FF",darkPurple:"#301367",brightPurple:"#2169F5",darkGreen:"#0F5A4C",lightGreen:"#C1FBEA",purple:"#2169F5",brown:"#604203",white:"#00a652",lightPurple:"#F5F2FF",languageIcon:"rgba(15, 229, 189, 1)",lightGray:"#CED4DA",placeholder:"#A9A9A9",primaryBackground:"#F5F2FF",popupBackground:"rgba(97, 97, 97, 0.9)",primaryBoxShadow:"rgba(77, 21, 183, 0.25)",scheduleBorder:"#8F9AA7",translateIcon:"#0FE5BD",transparent:"rgba(0, 0, 0, 0)",patientGreen:"#C7FDD3",patientSubtitle:"#545454",wrongPatient:"#8F9AA7",cardBackground:"#F7F8F9",cancel:"#B22020",lightCancel:"#FFD8D8",black:"#000000",toolTipGrey:"#F9FAFB",toolTipClose:"#938B7D"},{palette:p$3}=createTheme(),palette={text:{primary:"#212130",secondary:"#4F4F4F",disabled:"#C3C9D2",cancelled:"#D91B1B"},primary:{main:"#00a652",contrast:"#FFFFFF"},secondary:{main:"#2169F5",contrast:"#FFFFFF"},tertiary:p$3.augmentColor({color:{main:"#ECE4FB"}}),step:{main:"#17C4F3"},info:{main:"#C1FBEA"},success:{main:"#66BA70"},warning:{main:"#FFDF9A"},error:{main:"#EC6930"},destructive:p$3.augmentColor({color:{main:"#EB5757"}}),action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",selected:"rgba(0, 0, 0, 0.08)",disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",focus:"rgba(0, 0, 0, 0.12)"},background:{default:"#90AEAD",paper:"#FFFFFF",cancelled:"#FCBDBD"},divider:"#C3C9D2"},IntakeThemeProvider=ts=>{const{children:ns}=ts;return jsxRuntimeExports.jsx(IntakeThemeProviderBase,{palette,otherColors,i18n,children:ns})},ProtectedRoute=({loadingFallback:ts,errorFallback:ns,unauthorizedFallback:rs})=>{const{isAuthenticated:is,isLoading:os,error:ss}=useAuth0();return ss?ns:os?ts:is?jsxRuntimeExports.jsx(Outlet,{}):(location.pathname===IntakeFlowPageRoute.PatientPortal.path&&localStorage.setItem("fromHome","true"),rs)},bg1="/assets/bg1-cae6192e.png",ottehrLogo="/assets/halo-e7e9302d.png",clockFullColor="/assets/clockFullColor-df8c162d.svg",requestVisit="/assets/requestVisit-4ad7f9ca.svg",contactSupport="/assets/contactSupport-21bd8eb8.svg",pastVisits="/assets/pastVisits-39775160.svg";var ErrorOutline={},_interopRequireDefault$d=interopRequireDefaultExports;Object.defineProperty(ErrorOutline,"__esModule",{value:!0});var default_1$d=ErrorOutline.default=void 0,_createSvgIcon$d=_interopRequireDefault$d(requireCreateSvgIcon()),_jsxRuntime$d=jsxRuntimeExports;default_1$d=ErrorOutline.default=(0,_createSvgIcon$d.default)((0,_jsxRuntime$d.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"}),"ErrorOutline");const ContactSupportDialog=({onClose:ts})=>jsxRuntimeExports.jsxs(CustomDialog,{open:!0,onClose:ts,children:[jsxRuntimeExports.jsx(Typography$1,{variant:"h2",color:"primary.main",sx:{mb:2},children:"Need help?"}),jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",flexDirection:"column",gap:2},children:[jsxRuntimeExports.jsxs(Typography$1,{variant:"body2",children:["Call us: ",jsxRuntimeExports.jsx("span",{style:{fontWeight:700},children:"1-234-567-8900"})]}),jsxRuntimeExports.jsx(Typography$1,{variant:"body2",sx:{mt:-1.5},children:"Sunday-Saturday 10am-10pm ET."}),jsxRuntimeExports.jsxs(Typography$1,{variant:"body2",children:["For wait times or more information:Â ",jsxRuntimeExports.jsx(Link$1,{href:"https://ottehr.com",target:"_blank",children:"Click Here"})]}),jsxRuntimeExports.jsx(Typography$1,{variant:"body2",children:"If this is an emergency, please call 911."})]}),jsxRuntimeExports.jsx(PageForm,{onSubmit:ts,controlButtons:{submitLabel:"Ok",backButton:!1}})]}),ContactSupportButton=({onClick:ts})=>jsxRuntimeExports.jsxs(Button$2,{"aria-label":"Help button",color:"primary",sx:{display:"flex",alignItems:"center",gap:1,backgroundColor:"white","&:hover":{backgroundColor:"white"},borderRadius:"100px",px:2,py:1,boxShadow:"0px 4px 4px rgba(0, 0, 0, 0.25)"},onClick:ts,children:[jsxRuntimeExports.jsx(default_1$e,{fontSize:"small"}),jsxRuntimeExports.jsx(Typography$1,{variant:"body2",children:"Support"})]}),Footer=()=>{const{t:ts}=useTranslation(),ns=useIntakeCommonStore(rs=>rs.supportDialogOpen);return jsxRuntimeExports.jsxs(Box$1,{sx:{position:"sticky",bottom:0,pointerEvents:"none"},children:[ns&&jsxRuntimeExports.jsx(ContactSupportDialog,{onClose:()=>useIntakeCommonStore.setState({supportDialogOpen:!1})}),jsxRuntimeExports.jsx(Box$1,{sx:{display:"flex",justifyContent:"flex-end",padding:"16px",pointerEvents:"all",marginLeft:"auto",width:"fit-content"},children:jsxRuntimeExports.jsx(ContactSupportButton,{onClick:()=>useIntakeCommonStore.setState({supportDialogOpen:!0})})}),jsxRuntimeExports.jsxs(Box$1,{sx:{width:"100%",backgroundColor:"secondary.main",bottom:0},display:"flex",justifyContent:"center",alignItems:"center",children:[jsxRuntimeExports.jsx(default_1$d,{color:"warning",sx:{pl:1.25,marginTop:"10px",marginBottom:"auto"}}),jsxRuntimeExports.jsx(Typography$1,{variant:"body2",color:"primary.contrast",sx:{m:1.25},children:ts("general.footer")})]})]})},imageForBackground=ts=>{switch(ts){case IntakeFlowPageRoute.PatientPortal.path:return bg1;default:return bg1}},CustomContainer=CustomContainerFactory(imageForBackground,ottehrLogo,"DermRX Telemedicine",jsxRuntimeExports.jsx(Footer,{})),LoadingScreen=()=>jsxRuntimeExports.jsx(CustomContainer,{title:"",description:"",bgVariant:IntakeFlowPageRoute.PatientPortal.path,children:jsxRuntimeExports.jsx(Box$3,{sx:{display:"flex",justifyContent:"center"},children:jsxRuntimeExports.jsx(CircularProgress$1,{})})}),ErrorFallbackScreen=()=>{const ts=useNavigate(),ns=async()=>{ts(IntakeFlowPageRoute.AuthPage.path)};return jsxRuntimeExports.jsx(CustomContainer,{title:"Error occurred",description:"Something went wrong during authorization process. Please, try again.",bgVariant:IntakeFlowPageRoute.PatientPortal.path,children:jsxRuntimeExports.jsx(PageForm,{onSubmit:ns,controlButtons:{submitLabel:"Login",backButton:!1}})})},createStoreImpl=ts=>{let ns;const rs=new Set,is=(ds,ps)=>{const hs=typeof ds=="function"?ds(ns):ds;if(!Object.is(hs,ns)){const ms=ns;ns=(ps!=null?ps:typeof hs!="object"||hs===null)?hs:Object.assign({},ns,hs),rs.forEach(gs=>gs(ns,ms))}},os=()=>ns,cs={setState:is,getState:os,getInitialState:()=>us,subscribe:ds=>(rs.add(ds),()=>rs.delete(ds)),destroy:()=>{rs.clear()}},us=ns=ts(is,os,cs);return cs},createStore=ts=>ts?createStoreImpl(ts):createStoreImpl;var withSelector={exports:{}},withSelector_production_min={},shim={exports:{}},useSyncExternalStoreShim_production_min={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e$1=reactExports;function h$2(ts,ns){return ts===ns&&(ts!==0||1/ts===1/ns)||ts!==ts&&ns!==ns}var k$2=typeof Object.is=="function"?Object.is:h$2,l$1=e$1.useState,m$1=e$1.useEffect,n$2=e$1.useLayoutEffect,p$2=e$1.useDebugValue;function q$3(ts,ns){var rs=ns(),is=l$1({inst:{value:rs,getSnapshot:ns}}),os=is[0].inst,ss=is[1];return n$2(function(){os.value=rs,os.getSnapshot=ns,r$2(os)&&ss({inst:os})},[ts,rs,ns]),m$1(function(){return r$2(os)&&ss({inst:os}),ts(function(){r$2(os)&&ss({inst:os})})},[ts]),p$2(rs),rs}function r$2(ts){var ns=ts.getSnapshot;ts=ts.value;try{var rs=ns();return!k$2(ts,rs)}catch{return!0}}function t$2(ts,ns){return ns()}var u$2=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?t$2:q$3;useSyncExternalStoreShim_production_min.useSyncExternalStore=e$1.useSyncExternalStore!==void 0?e$1.useSyncExternalStore:u$2;shim.exports=useSyncExternalStoreShim_production_min;var shimExports=shim.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h$1=reactExports,n$1=shimExports;function p$1(ts,ns){return ts===ns&&(ts!==0||1/ts===1/ns)||ts!==ts&&ns!==ns}var q$2=typeof Object.is=="function"?Object.is:p$1,r$1=n$1.useSyncExternalStore,t$1=h$1.useRef,u$1=h$1.useEffect,v$2=h$1.useMemo,w$1=h$1.useDebugValue;withSelector_production_min.useSyncExternalStoreWithSelector=function(ts,ns,rs,is,os){var ss=t$1(null);if(ss.current===null){var as={hasValue:!1,value:null};ss.current=as}else as=ss.current;ss=v$2(function(){function cs(ms){if(!us){if(us=!0,ds=ms,ms=is(ms),os!==void 0&&as.hasValue){var gs=as.value;if(os(gs,ms))return ps=gs}return ps=ms}if(gs=ps,q$2(ds,ms))return gs;var ys=is(ms);return os!==void 0&&os(gs,ys)?gs:(ds=ms,ps=ys)}var us=!1,ds,ps,hs=rs===void 0?null:rs;return[function(){return cs(ns())},hs===null?void 0:function(){return cs(hs())}]},[ns,rs,is,os]);var ls=r$1(ts,ss[0],ss[1]);return u$1(function(){as.hasValue=!0,as.value=ls},[ls]),w$1(ls),ls};withSelector.exports=withSelector_production_min;var withSelectorExports=withSelector.exports;const useSyncExternalStoreExports=getDefaultExportFromCjs(withSelectorExports),{useDebugValue}=React$1,{useSyncExternalStoreWithSelector}=useSyncExternalStoreExports;let didWarnAboutEqualityFn=!1;const identity=ts=>ts;function useStore(ts,ns=identity,rs){const is=useSyncExternalStoreWithSelector(ts.subscribe,ts.getState,ts.getServerState||ts.getInitialState,ns,rs);return useDebugValue(is),is}const createImpl=ts=>{const ns=typeof ts=="function"?createStore(ts):ts,rs=(is,os)=>useStore(ns,is,os);return Object.assign(rs,ns),rs},create$2=ts=>ts?createImpl(ts):createImpl;function createJSONStorage(ts,ns){let rs;try{rs=ts()}catch{return}return{getItem:os=>{var ss;const as=cs=>cs===null?null:JSON.parse(cs,ns==null?void 0:ns.reviver),ls=(ss=rs.getItem(os))!=null?ss:null;return ls instanceof Promise?ls.then(as):as(ls)},setItem:(os,ss)=>rs.setItem(os,JSON.stringify(ss,ns==null?void 0:ns.replacer)),removeItem:os=>rs.removeItem(os)}}const toThenable=ts=>ns=>{try{const rs=ts(ns);return rs instanceof Promise?rs:{then(is){return toThenable(is)(rs)},catch(is){return this}}}catch(rs){return{then(is){return this},catch(is){return toThenable(is)(rs)}}}},oldImpl=(ts,ns)=>(rs,is,os)=>{let ss={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:vs=>vs,version:0,merge:(vs,bs)=>({...bs,...vs}),...ns},as=!1;const ls=new Set,cs=new Set;let us;try{us=ss.getStorage()}catch{}if(!us)return ts((...vs)=>{console.warn("[zustand persist middleware] Unable to update item '".concat(ss.name,"', the given storage is currently unavailable.")),rs(...vs)},is,os);const ds=toThenable(ss.serialize),ps=()=>{const vs=ss.partialize({...is()});let bs;const Ss=ds({state:vs,version:ss.version}).then($s=>us.setItem(ss.name,$s)).catch($s=>{bs=$s});if(bs)throw bs;return Ss},hs=os.setState;os.setState=(vs,bs)=>{hs(vs,bs),ps()};const ms=ts((...vs)=>{rs(...vs),ps()},is,os);let gs;const ys=()=>{var vs;if(!us)return;as=!1,ls.forEach(Ss=>Ss(is()));const bs=((vs=ss.onRehydrateStorage)==null?void 0:vs.call(ss,is()))||void 0;return toThenable(us.getItem.bind(us))(ss.name).then(Ss=>{if(Ss)return ss.deserialize(Ss)}).then(Ss=>{if(Ss)if(typeof Ss.version=="number"&&Ss.version!==ss.version){if(ss.migrate)return ss.migrate(Ss.state,Ss.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return Ss.state}).then(Ss=>{var $s;return gs=ss.merge(Ss,($s=is())!=null?$s:ms),rs(gs,!0),ps()}).then(()=>{bs==null||bs(gs,void 0),as=!0,cs.forEach(Ss=>Ss(gs))}).catch(Ss=>{bs==null||bs(void 0,Ss)})};return os.persist={setOptions:vs=>{ss={...ss,...vs},vs.getStorage&&(us=vs.getStorage())},clearStorage:()=>{us==null||us.removeItem(ss.name)},getOptions:()=>ss,rehydrate:()=>ys(),hasHydrated:()=>as,onHydrate:vs=>(ls.add(vs),()=>{ls.delete(vs)}),onFinishHydration:vs=>(cs.add(vs),()=>{cs.delete(vs)})},ys(),gs||ms},newImpl=(ts,ns)=>(rs,is,os)=>{let ss={storage:createJSONStorage(()=>localStorage),partialize:ys=>ys,version:0,merge:(ys,vs)=>({...vs,...ys}),...ns},as=!1;const ls=new Set,cs=new Set;let us=ss.storage;if(!us)return ts((...ys)=>{console.warn("[zustand persist middleware] Unable to update item '".concat(ss.name,"', the given storage is currently unavailable.")),rs(...ys)},is,os);const ds=()=>{const ys=ss.partialize({...is()});return us.setItem(ss.name,{state:ys,version:ss.version})},ps=os.setState;os.setState=(ys,vs)=>{ps(ys,vs),ds()};const hs=ts((...ys)=>{rs(...ys),ds()},is,os);os.getInitialState=()=>hs;let ms;const gs=()=>{var ys,vs;if(!us)return;as=!1,ls.forEach(Ss=>{var $s;return Ss(($s=is())!=null?$s:hs)});const bs=((vs=ss.onRehydrateStorage)==null?void 0:vs.call(ss,(ys=is())!=null?ys:hs))||void 0;return toThenable(us.getItem.bind(us))(ss.name).then(Ss=>{if(Ss)if(typeof Ss.version=="number"&&Ss.version!==ss.version){if(ss.migrate)return ss.migrate(Ss.state,Ss.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return Ss.state}).then(Ss=>{var $s;return ms=ss.merge(Ss,($s=is())!=null?$s:hs),rs(ms,!0),ds()}).then(()=>{bs==null||bs(ms,void 0),ms=is(),as=!0,cs.forEach(Ss=>Ss(ms))}).catch(Ss=>{bs==null||bs(void 0,Ss)})};return os.persist={setOptions:ys=>{ss={...ss,...ys},ys.storage&&(us=ys.storage)},clearStorage:()=>{us==null||us.removeItem(ss.name)},getOptions:()=>ss,rehydrate:()=>gs(),hasHydrated:()=>as,onHydrate:ys=>(ls.add(ys),()=>{ls.delete(ys)}),onFinishHydration:ys=>(cs.add(ys),()=>{cs.delete(ys)})},ss.skipHydration||gs(),ms||hs},persistImpl=(ts,ns)=>"getStorage"in ns||"serialize"in ns||"deserialize"in ns?oldImpl(ts,ns):newImpl(ts,ns),persist=persistImpl,initialIntakeCommonState={supportDialogOpen:!1},useIntakeCommonStore=create$2()(persist(()=>({...initialIntakeCommonState}),{name:"telemed-intake-common-storage"})),createIOSMesssageCallStarted=ts=>({type:"CALL_STARTED",payload:ts}),createIOSMesssageWAccessToken=ts=>({type:"ACCESS_TOKEN",payload:ts}),createIOSMesssageCloseWebView=()=>({type:"CLOSE_WEB_VIEW"}),createIOSMesssageOpenPage=ts=>({type:"OPEN_PAGE",payload:ts}),sendIOSAppMessage=ts=>{var ns,rs,is,os;if((rs=(ns=window.webkit)==null?void 0:ns.messageHandlers)!=null&&rs.iosAppCommunicationChannel)(os=(is=window.webkit.messageHandlers.iosAppCommunicationChannel)==null?void 0:is.postMessage)==null||os.call(is,JSON.stringify(ts));else throw Error("iOS app message communication channel is not set")};let tokenPassedToIOS=!1;const bodyNode=document.getElementsByTagName("body")[0];let bodyMutationObserver;const mutationObserverConfig={attributes:!0,childList:!1,subtree:!1},IOS_ATTRIBUTE="is-ios-app";function useIOSAppSync(){const{isAuthenticated:ts,getAccessTokenSilently:ns}=useAuth0(),[rs,is]=reactExports.useState(!!bodyNode.getAttribute(IOS_ATTRIBUTE)),os=reactExports.useCallback((ss,as)=>{for(const ls of ss)ls.type==="attributes"&&ls.attributeName===IOS_ATTRIBUTE&&(is(!0),as.disconnect())},[is]);return reactExports.useEffect(()=>{let ss=!1;async function as(){const ls=await ns();!tokenPassedToIOS&&!ss&&(sendIOSAppMessage(createIOSMesssageWAccessToken(ls)),tokenPassedToIOS=!0)}if(ts)return rs&&!tokenPassedToIOS&&as().catch(ls=>{safelyCaptureException(ls)}),()=>{ss=!0}},[ns,ts,rs]),reactExports.useEffect(()=>{let ss;return!bodyMutationObserver&&!rs&&(bodyMutationObserver=new MutationObserver(os),ss=bodyMutationObserver,bodyMutationObserver.observe(bodyNode,mutationObserverConfig)),()=>{bodyMutationObserver&&ss===bodyMutationObserver&&(bodyMutationObserver.disconnect(),bodyMutationObserver=null)}},[os,rs]),{isIOSApp:rs}}const AuthPage=()=>{const{isAuthenticated:ts,loginWithRedirect:ns,isLoading:rs,error:is}=useAuth0(),os=reactExports.useRef(null);return is?jsxRuntimeExports.jsx(ErrorFallbackScreen,{}):rs?jsxRuntimeExports.jsx(LoadingScreen,{}):ts?localStorage.getItem("fromHome")==="true"?(localStorage.removeItem("fromHome"),jsxRuntimeExports.jsx(Navigate,{to:IntakeFlowPageRoute.PatientPortal.path})):jsxRuntimeExports.jsx(Navigate,{to:"".concat(IntakeFlowPageRoute.SelectPatient.path,"?flow=requestVisit")}):(os.current||(os.current=ns()),jsxRuntimeExports.jsx(LoadingScreen,{}))},CreateAccount=()=>{const[ts]=reactExports.useState({}),ns=rs=>{console.log(rs)};return jsxRuntimeExports.jsx(CustomContainer,{title:"Create account",description:"",bgVariant:IntakeFlowPageRoute.PatientPortal.path,children:jsxRuntimeExports.jsx(PageForm,{formElements:[{type:"Text",name:"firstName",label:"First name",defaultValue:ts==null?void 0:ts.firstName,required:!0,width:6},{type:"Text",name:"lastName",label:"Last name",defaultValue:ts==null?void 0:ts.lastName,required:!0,width:6},{type:"Date",name:"dateOfBirth",label:"Date of birth",defaultValue:ts==null?void 0:ts.dateOfBirth,required:!0},{type:"Text",name:"email",label:"Email Address",format:"Email",defaultValue:ts==null?void 0:ts.email,required:!0}],controlButtons:{loading:!1,submitLabel:"Create account",backButton:!1},onSubmit:ns})})},APOINTMENT_STATE_INITIAL={},useAppointmentStore=create$2()(persist(ts=>({...APOINTMENT_STATE_INITIAL,setAppointment:ns=>ts({...ns})}),{name:"telemed-appointment-storage"})),usePastVisitsStore=create$2()(persist(ts=>({...APOINTMENT_STATE_INITIAL,setAppointment:ns=>ts({...ns})}),{name:"telemed-past-visits-storage"})),useCreateAppointmentMutation=()=>useMutation({mutationFn:({apiClient:ts,unconfirmedDateOfBirth:ns,patientInfo:rs})=>{const is=useAppointmentStore.getState();return ts.createAppointment({patient:rs,timezone:DateTime.now().zoneName,locationID:is.locationID,providerID:is.providerID,groupID:is.groupID,slot:is.visitType==="prebook"?is.selectedSlot:void 0,scheduleType:is.scheduleType,visitType:is.visitType,visitService:is.visitService,...ns&&{unconfirmedDateOfBirth:String(ns)}})}}),useUpdateAppointmentMutation=()=>useMutation({mutationFn:({apiClient:ts,appointmentID:ns,patientInfo:rs})=>ts.updateAppointment({appointmentId:ns,patient:rs})}),useCancelAppointmentMutation=()=>useMutation({mutationFn:({apiClient:ts,appointmentID:ns,cancellationReason:rs})=>ts.cancelAppointment({appointmentID:ns,cancellationReason:rs})}),useGetAppointments=(ts,ns=!0,rs)=>useQuery(["appointments",rs],()=>{if(!ts)throw new Error("API client not defined");return rs?ts.getAppointments({patientId:rs}):ts.getAppointments()},{enabled:ns,onError:is=>{console.error("Error during fetching appointments: ",is)},staleTime:1e3*60*5}),useGetSchedule=(ts,ns,rs,is=!0)=>useQuery(["schedule"],async()=>{if(!ts)throw new Error("API client not defined");let os;try{os=await ts.getSchedule({scheduleType:ns,slug:rs})}catch(ss){if(ss.message==="Schedule is not found")return;throw ss}return os},{enabled:is,onError:os=>{console.error("Error getting a schedule: ",os)},retry:(os,ss)=>ss.message==="Schedule is not found"?!1:os<1});var ArrowForward={},_interopRequireDefault$c=interopRequireDefaultExports;Object.defineProperty(ArrowForward,"__esModule",{value:!0});var default_1$c=ArrowForward.default=void 0,_createSvgIcon$c=_interopRequireDefault$c(requireCreateSvgIcon()),_jsxRuntime$c=jsxRuntimeExports;default_1$c=ArrowForward.default=(0,_createSvgIcon$c.default)((0,_jsxRuntime$c.jsx)("path",{d:"m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"}),"ArrowForward");const HomepageOption=({title:ts,icon:ns,handleClick:rs,subtitle:is,subSlot:os})=>{const ss=useTheme$1();return jsxRuntimeExports.jsxs(Button$2,{sx:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between",borderRadius:2,px:3,py:3,mb:3,backgroundColor:otherColors.lightBlue,cursor:"pointer","&:hover":{backgroundColor:otherColors.coachingVisit}},onClick:rs,children:[jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",alignItems:"center",gap:2},children:[jsxRuntimeExports.jsx("img",{src:ns,alt:"",style:{height:"70px",width:"70px"}}),jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",flexDirection:"column ",alignItems:"flex-start",justifyContent:"center",gap:1},children:[jsxRuntimeExports.jsx(Typography$1,{variant:"h3",color:"primary.main",children:ts}),is&&jsxRuntimeExports.jsx(Typography$1,{variant:"caption",color:"primary.main",children:is}),os]})]}),jsxRuntimeExports.jsx(Box$1,{sx:{display:"flex",alignItems:"center",backgroundColor:ss.palette.primary.main,color:"white",borderRadius:"50%",p:1},children:jsxRuntimeExports.jsx(default_1$c,{})})]})},MINIMUM_AGE=0,MAXIMUM_AGE=26;let _apiClient;const useZapEHRAPIClient=({tokenless:ts}={tokenless:!1})=>{const ns=useZambdaClient({tokenless:ts}),[rs,is]=reactExports.useState(_apiClient);if(ns&&!rs){const os=getZapEHRAPI({getPatientsZambdaID:"get-patients",createAppointmentZambdaID:"create-appointment",updateAppointmentZambdaID:"update-appointment",cancelAppointmentZambdaID:"cancel-appointment",getAppointmentsZambdaID:"get-appointments",getScheduleZambdaID:"get-schedule",getPaperworkZambdaID:"paperwork/get-paperwork",createPaperworkZambdaID:"paperwork/create-paperwork",updatePaperworkZambdaID:"paperwork/update-paperwork",getWaitStatusZambdaID:"get-wait-status",joinCallZambdaID:"join-call",videoChatCreateInviteZambdaID:"video-chat-invites-create",videoChatCancelInviteZambdaID:{}.VITE_APP_VIDEO_CHAT_CANCEL_INVITE_ZAMBDA_ID,videoChatListInvitesZambdaID:"video-chat-invites-list",getPresignedFileURLZambdaID:"get-presigned-file-url",isAppLocal:"false"},ns);_apiClient=os,is(os)}return rs};/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2022 Joachim Wester
 * MIT licensed
 */var __extends$1=globalThis&&globalThis.__extends||function(){var ts=function(ns,rs){return ts=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(is,os){is.__proto__=os}||function(is,os){for(var ss in os)os.hasOwnProperty(ss)&&(is[ss]=os[ss])},ts(ns,rs)};return function(ns,rs){ts(ns,rs);function is(){this.constructor=ns}ns.prototype=rs===null?Object.create(rs):(is.prototype=rs.prototype,new is)}}(),_hasOwnProperty=Object.prototype.hasOwnProperty;function hasOwnProperty$1(ts,ns){return _hasOwnProperty.call(ts,ns)}function _objectKeys(ts){if(Array.isArray(ts)){for(var ns=new Array(ts.length),rs=0;rs<ns.length;rs++)ns[rs]=""+rs;return ns}if(Object.keys)return Object.keys(ts);var is=[];for(var os in ts)hasOwnProperty$1(ts,os)&&is.push(os);return is}function _deepClone(ts){switch(typeof ts){case"object":return JSON.parse(JSON.stringify(ts));case"undefined":return null;default:return ts}}function isInteger(ts){for(var ns=0,rs=ts.length,is;ns<rs;){if(is=ts.charCodeAt(ns),is>=48&&is<=57){ns++;continue}return!1}return!0}function escapePathComponent(ts){return ts.indexOf("/")===-1&&ts.indexOf("~")===-1?ts:ts.replace(/~/g,"~0").replace(/\//g,"~1")}function unescapePathComponent(ts){return ts.replace(/~1/g,"/").replace(/~0/g,"~")}function hasUndefined(ts){if(ts===void 0)return!0;if(ts){if(Array.isArray(ts)){for(var ns=0,rs=ts.length;ns<rs;ns++)if(hasUndefined(ts[ns]))return!0}else if(typeof ts=="object"){for(var is=_objectKeys(ts),os=is.length,ss=0;ss<os;ss++)if(hasUndefined(ts[is[ss]]))return!0}}return!1}function patchErrorMessageFormatter(ts,ns){var rs=[ts];for(var is in ns){var os=typeof ns[is]=="object"?JSON.stringify(ns[is],null,2):ns[is];typeof os<"u"&&rs.push(is+": "+os)}return rs.join("\n")}var PatchError=function(ts){__extends$1(ns,ts);function ns(rs,is,os,ss,as){var ls=this.constructor,cs=ts.call(this,patchErrorMessageFormatter(rs,{name:is,index:os,operation:ss,tree:as}))||this;return cs.name=is,cs.index=os,cs.operation=ss,cs.tree=as,Object.setPrototypeOf(cs,ls.prototype),cs.message=patchErrorMessageFormatter(rs,{name:is,index:os,operation:ss,tree:as}),cs}return ns}(Error),JsonPatchError=PatchError,deepClone=_deepClone,objOps={add:function(ts,ns,rs){return ts[ns]=this.value,{newDocument:rs}},remove:function(ts,ns,rs){var is=ts[ns];return delete ts[ns],{newDocument:rs,removed:is}},replace:function(ts,ns,rs){var is=ts[ns];return ts[ns]=this.value,{newDocument:rs,removed:is}},move:function(ts,ns,rs){var is=getValueByPointer(rs,this.path);is&&(is=_deepClone(is));var os=applyOperation(rs,{op:"remove",path:this.from}).removed;return applyOperation(rs,{op:"add",path:this.path,value:os}),{newDocument:rs,removed:is}},copy:function(ts,ns,rs){var is=getValueByPointer(rs,this.from);return applyOperation(rs,{op:"add",path:this.path,value:_deepClone(is)}),{newDocument:rs}},test:function(ts,ns,rs){return{newDocument:rs,test:_areEquals(ts[ns],this.value)}},_get:function(ts,ns,rs){return this.value=ts[ns],{newDocument:rs}}},arrOps={add:function(ts,ns,rs){return isInteger(ns)?ts.splice(ns,0,this.value):ts[ns]=this.value,{newDocument:rs,index:ns}},remove:function(ts,ns,rs){var is=ts.splice(ns,1);return{newDocument:rs,removed:is[0]}},replace:function(ts,ns,rs){var is=ts[ns];return ts[ns]=this.value,{newDocument:rs,removed:is}},move:objOps.move,copy:objOps.copy,test:objOps.test,_get:objOps._get};function getValueByPointer(ts,ns){if(ns=="")return ts;var rs={op:"_get",path:ns};return applyOperation(ts,rs),rs.value}function applyOperation(ts,ns,rs,is,os,ss){if(rs===void 0&&(rs=!1),is===void 0&&(is=!0),os===void 0&&(os=!0),ss===void 0&&(ss=0),rs&&(typeof rs=="function"?rs(ns,0,ts,ns.path):validator(ns,0)),ns.path===""){var as={newDocument:ts};if(ns.op==="add")return as.newDocument=ns.value,as;if(ns.op==="replace")return as.newDocument=ns.value,as.removed=ts,as;if(ns.op==="move"||ns.op==="copy")return as.newDocument=getValueByPointer(ts,ns.from),ns.op==="move"&&(as.removed=ts),as;if(ns.op==="test"){if(as.test=_areEquals(ts,ns.value),as.test===!1)throw new JsonPatchError("Test operation failed","TEST_OPERATION_FAILED",ss,ns,ts);return as.newDocument=ts,as}else{if(ns.op==="remove")return as.removed=ts,as.newDocument=null,as;if(ns.op==="_get")return ns.value=ts,as;if(rs)throw new JsonPatchError("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",ss,ns,ts);return as}}else{is||(ts=_deepClone(ts));var ls=ns.path||"",cs=ls.split("/"),us=ts,ds=1,ps=cs.length,hs=void 0,ms=void 0,gs=void 0;for(typeof rs=="function"?gs=rs:gs=validator;;){if(ms=cs[ds],ms&&ms.indexOf("~")!=-1&&(ms=unescapePathComponent(ms)),os&&(ms=="__proto__"||ms=="prototype"&&ds>0&&cs[ds-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(rs&&hs===void 0&&(us[ms]===void 0?hs=cs.slice(0,ds).join("/"):ds==ps-1&&(hs=ns.path),hs!==void 0&&gs(ns,0,ts,hs)),ds++,Array.isArray(us)){if(ms==="-")ms=us.length;else{if(rs&&!isInteger(ms))throw new JsonPatchError("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",ss,ns,ts);isInteger(ms)&&(ms=~~ms)}if(ds>=ps){if(rs&&ns.op==="add"&&ms>us.length)throw new JsonPatchError("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",ss,ns,ts);var as=arrOps[ns.op].call(ns,us,ms,ts);if(as.test===!1)throw new JsonPatchError("Test operation failed","TEST_OPERATION_FAILED",ss,ns,ts);return as}}else if(ds>=ps){var as=objOps[ns.op].call(ns,us,ms,ts);if(as.test===!1)throw new JsonPatchError("Test operation failed","TEST_OPERATION_FAILED",ss,ns,ts);return as}if(us=us[ms],rs&&ds<ps&&(!us||typeof us!="object"))throw new JsonPatchError("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",ss,ns,ts)}}}function applyPatch(ts,ns,rs,is,os){if(is===void 0&&(is=!0),os===void 0&&(os=!0),rs&&!Array.isArray(ns))throw new JsonPatchError("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");is||(ts=_deepClone(ts));for(var ss=new Array(ns.length),as=0,ls=ns.length;as<ls;as++)ss[as]=applyOperation(ts,ns[as],rs,!0,os,as),ts=ss[as].newDocument;return ss.newDocument=ts,ss}function applyReducer(ts,ns,rs){var is=applyOperation(ts,ns);if(is.test===!1)throw new JsonPatchError("Test operation failed","TEST_OPERATION_FAILED",rs,ns,ts);return is.newDocument}function validator(ts,ns,rs,is){if(typeof ts!="object"||ts===null||Array.isArray(ts))throw new JsonPatchError("Operation is not an object","OPERATION_NOT_AN_OBJECT",ns,ts,rs);if(objOps[ts.op]){if(typeof ts.path!="string")throw new JsonPatchError("Operation `path` property is not a string","OPERATION_PATH_INVALID",ns,ts,rs);if(ts.path.indexOf("/")!==0&&ts.path.length>0)throw new JsonPatchError('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",ns,ts,rs);if((ts.op==="move"||ts.op==="copy")&&typeof ts.from!="string")throw new JsonPatchError("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",ns,ts,rs);if((ts.op==="add"||ts.op==="replace"||ts.op==="test")&&ts.value===void 0)throw new JsonPatchError("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",ns,ts,rs);if((ts.op==="add"||ts.op==="replace"||ts.op==="test")&&hasUndefined(ts.value))throw new JsonPatchError("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",ns,ts,rs);if(rs){if(ts.op=="add"){var os=ts.path.split("/").length,ss=is.split("/").length;if(os!==ss+1&&os!==ss)throw new JsonPatchError("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",ns,ts,rs)}else if(ts.op==="replace"||ts.op==="remove"||ts.op==="_get"){if(ts.path!==is)throw new JsonPatchError("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",ns,ts,rs)}else if(ts.op==="move"||ts.op==="copy"){var as={op:"_get",path:ts.from,value:void 0},ls=validate$1([as],rs);if(ls&&ls.name==="OPERATION_PATH_UNRESOLVABLE")throw new JsonPatchError("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",ns,ts,rs)}}}else throw new JsonPatchError("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",ns,ts,rs)}function validate$1(ts,ns,rs){try{if(!Array.isArray(ts))throw new JsonPatchError("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(ns)applyPatch(_deepClone(ns),_deepClone(ts),rs||!0);else{rs=rs||validator;for(var is=0;is<ts.length;is++)rs(ts[is],is,ns,void 0)}}catch(os){if(os instanceof JsonPatchError)return os;throw os}}function _areEquals(ts,ns){if(ts===ns)return!0;if(ts&&ns&&typeof ts=="object"&&typeof ns=="object"){var rs=Array.isArray(ts),is=Array.isArray(ns),os,ss,as;if(rs&&is){if(ss=ts.length,ss!=ns.length)return!1;for(os=ss;os--!==0;)if(!_areEquals(ts[os],ns[os]))return!1;return!0}if(rs!=is)return!1;var ls=Object.keys(ts);if(ss=ls.length,ss!==Object.keys(ns).length)return!1;for(os=ss;os--!==0;)if(!ns.hasOwnProperty(ls[os]))return!1;for(os=ss;os--!==0;)if(as=ls[os],!_areEquals(ts[as],ns[as]))return!1;return!0}return ts!==ts&&ns!==ns}const core=Object.freeze(Object.defineProperty({__proto__:null,JsonPatchError,_areEquals,applyOperation,applyPatch,applyReducer,deepClone,getValueByPointer,validate:validate$1,validator},Symbol.toStringTag,{value:"Module"}));/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2021 Joachim Wester
 * MIT license
 */var beforeDict=new WeakMap,Mirror=function(){function ts(ns){this.observers=new Map,this.obj=ns}return ts}(),ObserverInfo=function(){function ts(ns,rs){this.callback=ns,this.observer=rs}return ts}();function getMirror(ts){return beforeDict.get(ts)}function getObserverFromMirror(ts,ns){return ts.observers.get(ns)}function removeObserverFromMirror(ts,ns){ts.observers.delete(ns.callback)}function unobserve(ts,ns){ns.unobserve()}function observe(ts,ns){var rs=[],is,os=getMirror(ts);if(!os)os=new Mirror(ts),beforeDict.set(ts,os);else{var ss=getObserverFromMirror(os,ns);is=ss&&ss.observer}if(is)return is;if(is={},os.value=_deepClone(ts),ns){is.callback=ns,is.next=null;var as=function(){generate(is)},ls=function(){clearTimeout(is.next),is.next=setTimeout(as)};typeof window<"u"&&(window.addEventListener("mouseup",ls),window.addEventListener("keyup",ls),window.addEventListener("mousedown",ls),window.addEventListener("keydown",ls),window.addEventListener("change",ls))}return is.patches=rs,is.object=ts,is.unobserve=function(){generate(is),clearTimeout(is.next),removeObserverFromMirror(os,is),typeof window<"u"&&(window.removeEventListener("mouseup",ls),window.removeEventListener("keyup",ls),window.removeEventListener("mousedown",ls),window.removeEventListener("keydown",ls),window.removeEventListener("change",ls))},os.observers.set(ns,new ObserverInfo(ns,is)),is}function generate(ts,ns){ns===void 0&&(ns=!1);var rs=beforeDict.get(ts.object);_generate(rs.value,ts.object,ts.patches,"",ns),ts.patches.length&&applyPatch(rs.value,ts.patches);var is=ts.patches;return is.length>0&&(ts.patches=[],ts.callback&&ts.callback(is)),is}function _generate(ts,ns,rs,is,os){if(ns!==ts){typeof ns.toJSON=="function"&&(ns=ns.toJSON());for(var ss=_objectKeys(ns),as=_objectKeys(ts),ls=!1,cs=as.length-1;cs>=0;cs--){var us=as[cs],ds=ts[us];if(hasOwnProperty$1(ns,us)&&!(ns[us]===void 0&&ds!==void 0&&Array.isArray(ns)===!1)){var ps=ns[us];typeof ds=="object"&&ds!=null&&typeof ps=="object"&&ps!=null&&Array.isArray(ds)===Array.isArray(ps)?_generate(ds,ps,rs,is+"/"+escapePathComponent(us),os):ds!==ps&&(os&&rs.push({op:"test",path:is+"/"+escapePathComponent(us),value:_deepClone(ds)}),rs.push({op:"replace",path:is+"/"+escapePathComponent(us),value:_deepClone(ps)}))}else Array.isArray(ts)===Array.isArray(ns)?(os&&rs.push({op:"test",path:is+"/"+escapePathComponent(us),value:_deepClone(ds)}),rs.push({op:"remove",path:is+"/"+escapePathComponent(us)}),ls=!0):(os&&rs.push({op:"test",path:is,value:ts}),rs.push({op:"replace",path:is,value:ns}))}if(!(!ls&&ss.length==as.length))for(var cs=0;cs<ss.length;cs++){var us=ss[cs];!hasOwnProperty$1(ts,us)&&ns[us]!==void 0&&rs.push({op:"add",path:is+"/"+escapePathComponent(us),value:_deepClone(ns[us])})}}}function compare(ts,ns,rs){rs===void 0&&(rs=!1);var is=[];return _generate(ts,ns,is,"",rs),is}const duplex=Object.freeze(Object.defineProperty({__proto__:null,compare,generate,observe,unobserve},Symbol.toStringTag,{value:"Module"}));Object.assign({},core,duplex,{JsonPatchError:PatchError,deepClone:_deepClone,escapePathComponent,unescapePathComponent});const usePaperworkPageInfo=({location:ts,paperworkQuestions:ns})=>reactExports.useMemo(()=>{const rs=_deepClone(ts).pathname.replace("/paperwork/","");if(!ns)throw new Error("paperworkQuestions is not defined");const is=ns.find(cs=>cs.slug===rs);if(!is)throw new Error("currentPage is not defined");const os=is.page,ss=is.questions,as=ns.findIndex(cs=>cs.page===os),ls=ns[as+1];return{slug:rs,items:ss,nextPage:ls,pageName:os,currentPage:is,currentIndex:as}},[ts,ns]),useMapQuestionsToFormInputFields=({getLabel:ts,getDefaultValue:ns,getFileOptions:rs})=>{const is=useTheme$1(),os=reactExports.useCallback(ss=>ss.filter((as,ls)=>!(as.type==="Description"&&ls===0)).map(as=>({type:as.type,name:as.id,item:as.item&&os(as.item),label:ts(as),defaultValue:ns&&ns(as),required:as.required,enableWhen:as.enableWhen,requireWhen:as.requireWhen,width:as.width,placeholder:as.placeholder,helperText:as.helperText,showHelperTextIcon:as.showHelperTextIcon,fileOptions:rs&&rs(as),multiline:as.multiline,minRows:as.minRows,infoText:as.infoText,selectOptions:as.options,radioOptions:as.options,freeSelectOptions:as.options,format:as.format,borderColor:otherColors.borderGray,backgroundSelected:otherColors.lightBlue,radioStyling:{radio:{alignSelf:"center",marginY:"auto"},label:{...is.typography.body2,color:is.palette.text.primary}}})),[ts,ns,rs,is.palette.text.primary,is.typography.body2]);return os},PatientPortal=()=>{const ts=useZapEHRAPIClient(),ns=useNavigate(),{data:rs,isFetching:is}=useGetAppointments(ts,!!ts),os=rs==null?void 0:rs.appointments.find(ps=>["ready","pre-video","on-video"].includes(ps.telemedStatus)),ss=!!os,as=(os==null?void 0:os.id)||"",ls=()=>{ns("".concat(IntakeFlowPageRoute.Welcome.path.replace(":schedule-type","provider").replace(":slug","daniel").replace(":visit-service","in-person").replace(":visit-type","prebook")))},cs=()=>{ns("".concat(IntakeFlowPageRoute.WaitingRoom.path,"?appointment_id=").concat(as))},us=()=>{ns("".concat(IntakeFlowPageRoute.SelectPatient.path,"?flow=pastVisits"))},ds=()=>{useIntakeCommonStore.setState({supportDialogOpen:!0})};return jsxRuntimeExports.jsxs(CustomContainer,{title:"Welcome to Ottehr Telemedicine",description:"",bgVariant:IntakeFlowPageRoute.PatientPortal.path,isFirstPage:!0,children:[is?jsxRuntimeExports.jsx(Skeleton$1,{sx:{borderRadius:2,backgroundColor:otherColors.coachingVisit,p:10,mt:-4}}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[ss&&jsxRuntimeExports.jsx(HomepageOption,{title:"Return to Call",icon:requestVisit,handleClick:cs,subSlot:jsxRuntimeExports.jsx(Typography$1,{variant:"overline",sx:{display:"flex",justifyContent:"center",backgroundColor:"#FFD271",color:"#A67100",borderRadius:1,px:1},children:"Active call"})}),jsxRuntimeExports.jsx(HomepageOption,{title:"Request Visit",icon:requestVisit,handleClick:ls}),jsxRuntimeExports.jsx(HomepageOption,{title:"Past Visits",icon:pastVisits,handleClick:us,subtitle:"School/Work Notes and Prescriptions"})]}),jsxRuntimeExports.jsx(HomepageOption,{title:"Contact Support",icon:contactSupport,handleClick:ds})]})},WAITING_ROOM_STATE_INITIAL={status:"ready"},useWaitingRoomStore=create$2()(ts=>({...WAITING_ROOM_STATE_INITIAL})),useGetWaitStatus=ts=>{const ns=useZapEHRAPIClient(),rs=useAppointmentStore(is=>is.appointmentID);return useQuery(["waiting-room"],()=>{if(ns&&rs)return ns.getWaitStatus({appointmentID:rs});throw new Error("api client not defined or appointmentID not provided")},{refetchInterval:1e4,enabled:!!(ns&&rs),onSuccess:ts,onError:is=>{console.error("Error during fetching get waiting room: ",is)}})},useGetVideoChatInvites=()=>{const ts=useZapEHRAPIClient(),ns=useAppointmentStore(rs=>rs.appointmentID);return useQuery(["video-chat-list-invites",ns],()=>{if(!ts||!ns)throw new Error("Has not passed validation: apiClient or appointmentID is undefined.");return ts.videoChatListInvites({appointmentId:ns})},{enabled:!!(ts&&ns),staleTime:6e4})},useCreateInviteMutation=()=>{const ts=useZapEHRAPIClient(),{appointmentID:ns}=useAppointmentStore.getState(),rs=useQueryClient();return useMutation({mutationFn:is=>{if(!ts||!ns)throw new Error("Has not passed validation: apiClient or appointmentID is undefined.");const os={appointmentId:ns,...is};return ts.videoChatCreateInvite(os)},onSuccess:()=>{rs.refetchQueries({queryKey:["video-chat-list-invites"]})}})},useCancelInviteMutation=()=>{const ts=useZapEHRAPIClient(),{appointmentID:ns}=useAppointmentStore.getState(),rs=useQueryClient();return useMutation({mutationFn:is=>{if(!ts||!ns)throw new Error("Has not passed validation: apiClient or appointmentID is undefined.");const os={appointmentId:ns,...is};return ts.videoChatCancelInvite(os)},onSuccess:()=>{rs.refetchQueries({queryKey:["video-chat-list-invites"]})}})},InviteParticipantForm=({onInviteSuccess:ts})=>{const[ns,rs]=reactExports.useState(!1),is=useCreateInviteMutation(),os=ss=>{const as={firstName:ss.firstName,lastName:ss.lastName,emailAddress:ss.email,phoneNumber:ss.phoneNumber};is.mutate(as,{onError:()=>{rs(!0)},onSuccess:()=>{ts&&ts()}})};return jsxRuntimeExports.jsxs(Box$3,{children:[jsxRuntimeExports.jsx(PageForm,{formElements:[{type:"Text",name:"firstName",label:"First name",required:!0,width:6},{type:"Text",name:"lastName",label:"Last name",required:!0,width:6},{type:"Text",name:"phoneNumber",label:"Phone number",format:"Phone Number",required:!0},{type:"Text",name:"email",label:"Email",format:"Email",required:!0}],onSubmit:os,controlButtons:{loading:is.isLoading,submitLabel:"Send invite",backButtonLabel:"Close"}}),jsxRuntimeExports.jsx(ErrorDialog,{open:ns,title:"Error",description:"todo",closeButtonText:"Close",handleClose:()=>rs(!1)})]})},InvitedParticipantList=({items:ts,onInviteCancelled:ns})=>{const{otherColors:rs}=reactExports.useContext(IntakeThemeContext),is=useCancelInviteMutation(),os=ts[0],ss=as=>{const ls={emailAddress:as};is.mutate(ls,{onSuccess:()=>ns==null?void 0:ns()})};return jsxRuntimeExports.jsxs(Box$3,{sx:{display:"flex",backgroundColor:rs.coachingVisit,padding:"16px",borderRadius:"8px"},children:[jsxRuntimeExports.jsxs(Box$3,{sx:{display:"flex",flex:1,flexDirection:"column"},children:[jsxRuntimeExports.jsx(Typography$1,{variant:"subtitle1",color:"primary.main",children:[os.firstName,os.lastName].join(" ")}),jsxRuntimeExports.jsx(Typography$1,{variant:"subtitle2",color:"primary.main",sx:{fontWeight:"normal"},children:[os.emailAddress,os.phoneNumber].join(" | ")})]}),jsxRuntimeExports.jsx(Box$3,{sx:{display:"flex"},children:jsxRuntimeExports.jsx(LoadingButton$1,{variant:"outlined",disabled:!1,loading:is.isLoading,color:"destructive",sx:{mt:{xs:1,md:0},ml:{xs:0,md:"auto"},alignSelf:"center",backgroundColor:"#FFFFFF","&:hover":{backgroundColor:"#FFFFFF"}},size:"large",type:"submit",onClick:as=>{as.preventDefault(),ss(os.emailAddress)},children:"Cancel invite"})})]})},ManageParticipants=({onClose:ts})=>{var ss;const{data:ns,isLoading:rs,isFetching:is}=useGetVideoChatInvites(),os=(ss=ns==null?void 0:ns.invites)!=null?ss:[];return rs||is?jsxRuntimeExports.jsx(Box$1,{sx:{justifyContent:"center",display:"flex"},children:jsxRuntimeExports.jsx(CircularProgress$1,{})}):os.length>0?jsxRuntimeExports.jsx(InvitedParticipantList,{items:os,onInviteCancelled:()=>ts==null?void 0:ts()}):jsxRuntimeExports.jsx(InviteParticipantForm,{isGetInvitesFetching:is,onInviteSuccess:()=>ts==null?void 0:ts()})};function IOSPatientManageParticipantsPage(){const[ts,ns]=useSearchParams(),rs=ts.get("appointment_id");reactExports.useEffect(()=>{rs&&useAppointmentStore.setState(()=>({appointmentID:rs}))},[rs]);const is=()=>{sendIOSAppMessage(createIOSMesssageCloseWebView())};return jsxRuntimeExports.jsx(Box$3,{sx:{padding:"14px"},children:jsxRuntimeExports.jsx(ManageParticipants,{onClose:is})})}const useCreateZ3ObjectMutation=()=>useMutation({mutationFn:({apiClient:ts,fileType:ns,fileFormat:rs,file:is,appointmentID:os})=>{if(!ts)throw new Error("apiClient is not defined");if(os)return ts.createZ3Object(os,ns,rs,is);throw new Error("appointmentID is not provided")}}),FILES_STATE_INITIAL={},useFilesStore=create$2()(persist(ts=>({...FILES_STATE_INITIAL,patchFileURLs:ns=>{ts(rs=>({fileURLs:{...rs.fileURLs||{},...ns}}))}}),{name:"telemed-files-storage"})),PAPERWORK_STATE_INITIAL={},usePaperworkStore=create$2()(persist(ts=>({...PAPERWORK_STATE_INITIAL,setQuestions:ns=>{ts(()=>({paperworkQuestions:ns}))},setResponses:ns=>{ts(()=>({completedPaperwork:ns}))},patchCompletedPaperwork:ns=>{ts(rs=>({completedPaperwork:{...rs.completedPaperwork||{},...ns}}))}}),{name:"telemed-paperwork-storage"})),useGetPaperwork=(ts,ns)=>{const rs=useZapEHRAPIClient(),is=useAppointmentStore(os=>os.appointmentID);return useQuery(["paperwork",is],()=>{if(rs&&is)return rs.getPaperwork({appointmentID:is});throw new Error("api client not defined or appointmentID is not provided")},{enabled:(ns==null?void 0:ns.enabled)&&!!(rs&&is)||isNullOrUndefined(ns==null?void 0:ns.enabled)&&!!(rs&&is),staleTime:ns==null?void 0:ns.staleTime,onSuccess:ts,onError:(ns==null?void 0:ns.onError)||(os=>{console.error("Error during fetching get paperwork: ",os)})})},useUpdatePaperworkMutation=()=>{const ts=useQueryClient();return useMutation({mutationFn:async({apiClient:ns,appointmentID:rs,paperwork:is,files:os})=>(await ns.updatePaperwork({appointmentID:rs,paperwork:is||[],files:os||{},timezone:DateTime.now().zoneName}),ts.invalidateQueries(["paperwork"]))})},useCreatePaperworkMutation=()=>useMutation({mutationFn:({apiClient:ts,appointmentID:ns,paperwork:rs,files:is})=>ts.createPaperwork({appointmentID:ns,paperwork:rs,files:is||{},timezone:DateTime.now().zoneName})}),getPaperworkPhotoFiles=ts=>ts?filterObject(ts.files||{},ns=>ns.startsWith("patient-photos")):{},UploadPhotosWrapper=({onClose:ts})=>{const{appointmentID:ns}=getSelectors(useAppointmentStore,["appointmentID"]),rs=useCreateZ3ObjectMutation(),is=useUpdatePaperworkMutation(),os=useZapEHRAPIClient(),{data:ss,isLoading:as,isFetching:ls}=useGetPaperwork(vs=>ds(getPaperworkPhotoFiles(vs))),cs=reactExports.useMemo(()=>getPaperworkPhotoFiles(ss),[ss]),[us,ds]=reactExports.useState(cs),[ps,hs]=reactExports.useState({}),ms=as||ls||rs.isLoading||is.isLoading;reactExports.useEffect(()=>{ds(cs)},[cs]);const gs=reactExports.useMemo(()=>[{name:"patient-photos",type:"Photos",label:"",defaultValue:us,fileOptions:{onUpload:hs,uploadFile:(vs,bs)=>ds(Ss=>({...Ss,[vs]:{...Ss==null?void 0:Ss[vs],localUrl:bs}})),uploadFailed:Object.keys(ps).map(vs=>({name:vs,uploadFailed:ps[vs].uploadFailed})).reduce((vs,bs)=>(vs[bs.name]=bs.uploadFailed,vs),{}),resetUploadFailed:vs=>hs(bs=>({...bs,[vs]:{...bs[vs],uploadFailed:!1}})),onClear:vs=>{hs(bs=>(delete bs[vs],bs)),ds(bs=>(delete bs[vs],bs))},fileType:"patient-photos",loading:ms}}],[us,ps,ms]),ys=reactExports.useCallback(async()=>{var Ss;let vs;const bs={...us};for(const $s in ps){const Cs=$s,Es=ps[$s].fileData;Es&&(vs=await rs.mutateAsync({apiClient:os,fileType:Cs,fileFormat:getFileTypeFromFile(((Ss=ps[$s].fileData)==null?void 0:Ss.name)||""),file:Es,appointmentID:ns})),Es&&!vs?hs(xs=>({...xs,[Cs]:{fileData:null,uploadFailed:!0}})):Es&&vs&&hs(xs=>({...xs,[Cs]:{fileData:null,uploadFailed:xs[Cs].uploadFailed}})),vs&&(bs[Cs]={...bs[Cs],z3Url:vs.z3URL,localUrl:vs.z3URL?us==null?void 0:us[Cs].localUrl:void 0},ds(bs))}if(!os)throw new Error("apiClient is not defined");if(!ns)throw new Error("appointmentID is not defined");await is.mutateAsync({apiClient:os,appointmentID:ns,files:bs},{onSuccess:()=>{ts()},onError:$s=>{safelyCaptureException($s)}})},[us,os,ns,is,ps,rs,ts]);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Typography$1,{variant:"h2",color:"primary.main",sx:{pb:3},children:"Patient condition photos"}),as||!os?jsxRuntimeExports.jsx(Box$3,{sx:{justifyContent:"center",display:"flex"},children:jsxRuntimeExports.jsx(CircularProgress$1,{})}):jsxRuntimeExports.jsx(PageForm,{formElements:gs,onSubmit:ys,controlButtons:{submitLabel:"Save",backButtonLabel:"Close",onBack:ts,loading:as||ls||is.isLoading||rs.isLoading}})]})},UploadPhotosDialog=({onClose:ts})=>jsxRuntimeExports.jsx(CustomDialog,{open:!0,onClose:ts,children:jsxRuntimeExports.jsx(UploadPhotosWrapper,{onClose:ts})});var PhotoLibraryOutlined={},_interopRequireDefault$b=interopRequireDefaultExports;Object.defineProperty(PhotoLibraryOutlined,"__esModule",{value:!0});var default_1$b=PhotoLibraryOutlined.default=void 0,_createSvgIcon$b=_interopRequireDefault$b(requireCreateSvgIcon()),_jsxRuntime$b=jsxRuntimeExports;default_1$b=PhotoLibraryOutlined.default=(0,_createSvgIcon$b.default)((0,_jsxRuntime$b.jsx)("path",{d:"M20 4v12H8V4zm0-2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-8.5 9.67 1.69 2.26 2.48-3.1L19 15H9zM2 6v14c0 1.1.9 2 2 2h14v-2H4V6z"}),"PhotoLibraryOutlined");const UploadPhotosListItemButton=({onClick:ts,hideText:ns})=>{const{data:rs,isLoading:is,isFetching:os}=useGetPaperwork(()=>{},{staleTime:6e4}),ss=useTheme$3(),as=rs?filterObject(rs.files||{},ls=>ls.startsWith("patient-photos")):{};return jsxRuntimeExports.jsx(StyledListItemWithButton,{primaryText:"Upload photos",secondaryText:is||os?"Loading...":Object.keys(as).length>0?"".concat(Object.keys(as).length," photos attached"):"No photos uploaded",hideText:ns,onClick:ts,children:jsxRuntimeExports.jsx(default_1$b,{sx:{color:ss.palette.primary.main}})})};function IOSPatientPhotosEditPage(){const ts=()=>{sendIOSAppMessage(createIOSMesssageCloseWebView())};return jsxRuntimeExports.jsx(Box$3,{sx:{padding:"14px"},children:jsxRuntimeExports.jsx(UploadPhotosWrapper,{onClose:ts})})}var ManageAccountsOutlined={},_interopRequireDefault$a=interopRequireDefaultExports;Object.defineProperty(ManageAccountsOutlined,"__esModule",{value:!0});var default_1$a=ManageAccountsOutlined.default=void 0,_createSvgIcon$a=_interopRequireDefault$a(requireCreateSvgIcon()),_jsxRuntime$a=jsxRuntimeExports;default_1$a=ManageAccountsOutlined.default=(0,_createSvgIcon$a.default)((0,_jsxRuntime$a.jsx)("path",{d:"M4 18v-.65c0-.34.16-.66.41-.81C6.1 15.53 8.03 15 10 15c.03 0 .05 0 .08.01.1-.7.3-1.37.59-1.98-.22-.02-.44-.03-.67-.03-2.42 0-4.68.67-6.61 1.82-.88.52-1.39 1.5-1.39 2.53V20h9.26c-.42-.6-.75-1.28-.97-2zm6-6c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0-6c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2m10.75 10c0-.22-.03-.42-.06-.63l1.14-1.01-1-1.73-1.45.49c-.32-.27-.68-.48-1.08-.63L18 11h-2l-.3 1.49c-.4.15-.76.36-1.08.63l-1.45-.49-1 1.73 1.14 1.01c-.03.21-.06.41-.06.63s.03.42.06.63l-1.14 1.01 1 1.73 1.45-.49c.32.27.68.48 1.08.63L16 21h2l.3-1.49c.4-.15.76-.36 1.08-.63l1.45.49 1-1.73-1.14-1.01c.03-.21.06-.41.06-.63M17 18c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2"}),"ManageAccountsOutlined");function InvitedParticipantListItemButton({onClick:ts,hideText:ns}){var cs;const{data:rs,isLoading:is,isFetching:os}=useGetVideoChatInvites(),ss=(cs=rs==null?void 0:rs.invites)!=null?cs:[],as=os||is,ls=useTheme$3();return jsxRuntimeExports.jsx(StyledListItemWithButton,{primaryText:"Manage participants",secondaryText:as?"Loading...":ss.length>0?[ss[0].firstName,ss[0].lastName].join(" "):"No invited participants",hideText:ns,onClick:ts,children:jsxRuntimeExports.jsx(default_1$a,{sx:{color:ls.palette.primary.main}})})}const ManageParticipantsDialog=({onClose:ts})=>{var as;const{data:ns,isLoading:rs,isFetching:is}=useGetVideoChatInvites(),os=()=>{ts()},ss=rs||is?"Loading...":(((as=ns==null?void 0:ns.invites)==null?void 0:as.length)||0)>0?"Manage participants":"Invite participant";return jsxRuntimeExports.jsxs(CustomDialog,{PaperProps:{sx:{maxWidth:"560px"}},open:!0,onClose:os,children:[jsxRuntimeExports.jsx(Typography$1,{variant:"h2",color:"primary.main",sx:{pb:3},children:ss}),jsxRuntimeExports.jsx(ManageParticipants,{onClose:os})]})};function IOSVideoCallMenu(){const[ts,ns]=useSearchParams(),rs=ts.get("appointment_id"),is=useAppointmentStore(ls=>ls.appointmentID);reactExports.useEffect(()=>{rs&&useAppointmentStore.setState(()=>({appointmentID:rs}))},[rs]);const os=()=>{sendIOSAppMessage(createIOSMesssageCloseWebView())},ss=()=>{sendIOSAppMessage(createIOSMesssageOpenPage("".concat(window.location.origin).concat(IntakeFlowPageRoute.IOSPatientManageParticipants.path,"?appointment_id=").concat(is)))},as=()=>{sendIOSAppMessage(createIOSMesssageOpenPage("".concat(window.location.origin).concat(IntakeFlowPageRoute.IOSPatientPhotosEdit.path,"?appointment_id=").concat(is)))};return jsxRuntimeExports.jsxs(Box$3,{sx:{padding:"14px",flex:"1 auto",p:5,position:"relative"},children:[jsxRuntimeExports.jsx(IconButton$2,{onClick:os,size:"small",sx:{position:"absolute",right:7,top:7},children:jsxRuntimeExports.jsx(default_1$f,{})}),jsxRuntimeExports.jsxs(List$1,{sx:{p:0},children:[jsxRuntimeExports.jsx(InvitedParticipantListItemButton,{onClick:()=>ss(),hideText:!1}),jsxRuntimeExports.jsx(UploadPhotosListItemButton,{onClick:()=>as(),hideText:!1})]})]})}const NewUser=()=>{const ts=useNavigate();reactExports.useEffect(()=>{},[]);const ns=async()=>{ts(IntakeFlowPageRoute.PatientInformation.path)};return jsxRuntimeExports.jsxs(CustomContainer,{title:"Thanks for choosing Ottehr!",img:clockFullColor,imgAlt:"Clock icon",imgWidth:100,bgVariant:IntakeFlowPageRoute.NewUser.path,children:[jsxRuntimeExports.jsx(Typography$1,{variant:"body1",children:"We're pleased to offer this new technology for accessing care. You will need to enter your information again just once. Next time you return, it will all be here for you!"}),jsxRuntimeExports.jsx(PageForm,{onSubmit:ns,controlButtons:{backButton:!1}})]})},BLANK_PATIENT_INFO={id:void 0,newPatient:!1,pointOfDiscovery:!1,firstName:void 0,lastName:void 0,dateOfBirth:void 0,sex:void 0,email:void 0,emailUser:"Patient"},NEW_PATIENT_INFO={...BLANK_PATIENT_INFO,newPatient:!0,emailUser:void 0},PATIENT_INFO_INITIAL={patientInfo:BLANK_PATIENT_INFO},usePatientInfoStore=create$2()(persist(ts=>({...PATIENT_INFO_INITIAL,setNewPatient:()=>ts({patientInfo:{...NEW_PATIENT_INFO},pendingPatientInfoUpdates:void 0})}),{name:"telemed-patient-info-storage"})),PaperworkPage=()=>{var ks,Is;const ts=useLocation(),ns=useNavigate(),rs=useZapEHRAPIClient(),is=useCreateZ3ObjectMutation(),{paperworkQuestions:os,patchCompletedPaperwork:ss}=getSelectors(usePaperworkStore,["paperworkQuestions","patchCompletedPaperwork"]),{completedPaperwork:as}=usePaperworkStore.getState(),{patientInfo:ls}=getSelectors(usePatientInfoStore,["patientInfo"]),{appointmentID:cs}=getSelectors(useAppointmentStore,["appointmentID"]),{fileURLs:us,patchFileURLs:ds}=getSelectors(useFilesStore,["fileURLs","patchFileURLs"]),{items:ps,nextPage:hs,pageName:ms,currentPage:gs,currentIndex:ys}=usePaperworkPageInfo({location:ts,paperworkQuestions:os}),vs=ps.filter(Ts=>Ts.type==="File"),[bs,Ss]=reactExports.useState({}),$s=Object.keys(bs);reactExports.useEffect(()=>{vs.length>0&&vs.forEach(Ts=>{!(Ts.id in bs)&&Ss(Rs=>({...Rs,[Ts.id]:{fileData:null,uploadFailed:!1}}))})},[vs,bs]);const Cs=reactExports.useCallback(async Ts=>{var As;if(!os)throw new Error("paperworkQuestions is not defined");if(vs.length>0){let Ms;for(const Ls of vs){const Ds=Ls.id,Fs=bs[Ds].fileData;ls.id&&Fs&&await is.mutateAsync({apiClient:rs,fileType:Ds,fileFormat:getFileTypeFromFile(Ts[Ds]||""),file:Fs,appointmentID:cs},{onSuccess:Vs=>{Ms=Vs},onError:Vs=>{throw Vs}}),Fs&&!Ms?(Ss(Vs=>({...Vs,[Ds]:{fileData:null,uploadFailed:!0}})),Ts[Ds]=void 0):Fs&&Ms?(Ts[Ds]=Ms.z3URL,Ss(Vs=>({...Vs,[Ds]:{fileData:null,uploadFailed:Vs[Ds].uploadFailed}}))):Ts[Ds]&&(Ts[Ds]=(As=us==null?void 0:us[Ds])==null?void 0:As.z3Url)}}if(vs.length>0){const Ms=vs.map(Fs=>Fs.id),Ls=filterObject(Ts,Fs=>Ms.includes(Fs)),Ds={};Ms.forEach(Fs=>{Ds[Fs]={...us==null?void 0:us[Fs],z3Url:Ls[Fs],localUrl:Ls[Fs]?us==null?void 0:us[Fs].localUrl:void 0}}),ds(Ds)}formInputStringToBoolean(Ts,ps);const Rs=filterObject(Ts,Ms=>!$s.includes(Ms));ss(Rs),useFilesStore.setState({}),ys===os.length-1?ns(IntakeFlowPageRoute.ReviewPaperwork.path):ns("/paperwork/".concat((hs==null?void 0:hs.slug)||""))},[os,vs,ps,ss,ys,bs,ls.id,is,rs,cs,us,ds,$s,ns,hs==null?void 0:hs.slug]),Es=useMapQuestionsToFormInputFields({getLabel:Ts=>Ts.text.replace("{patientFirstName}",(ls==null?void 0:ls.firstName)||"Patient"),getDefaultValue:Ts=>{var Rs,As;return as[Ts.id]||((Rs=us==null?void 0:us[Ts.id])==null?void 0:Rs.localUrl)||((As=us==null?void 0:us[Ts.id])==null?void 0:As.presignedUrl)},getFileOptions:Ts=>{var Rs;return{description:Ts.attachmentText,onUpload:Ss,uploadFile:(As,Ms)=>ds({[As]:{...us==null?void 0:us[As],localUrl:Ms}}),uploadFailed:(Rs=bs[Ts.id])==null?void 0:Rs.uploadFailed,resetUploadFailed:()=>Ss(As=>({...As,[Ts.id]:{...As[Ts.id],uploadFailed:!1}})),onClear:()=>{Ss(As=>({...As,[Ts.id]:{...As[Ts.id],fileData:null}})),ds({[Ts.id]:{localUrl:void 0,presignedUrl:void 0,z3Url:void 0}})},fileType:Ts.id}}}),xs=reactExports.useCallback(Ts=>{ss(filterObject(Ts,Rs=>!$s.includes(Rs)))},[$s,ss]),ws=reactExports.useMemo(()=>Es(ps),[Es,ps]);return jsxRuntimeExports.jsx(CustomContainer,{title:ms,description:((ks=ps[0])==null?void 0:ks.type)==="Description"?(Is=ps[0])==null?void 0:Is.text:void 0,bgVariant:gs.slug,children:jsxRuntimeExports.jsx(PageForm,{formElements:ws,onSubmit:Cs,onFormValuesChange:xs,controlButtons:reactExports.useMemo(()=>({loading:is.isLoading,onBack:ys===0?()=>ns(IntakeFlowPageRoute.PatientInformation.path):()=>ns(-1)}),[is.isLoading,ns,ys])})})},PastVisits=()=>{const ts=useZapEHRAPIClient(),ns=useNavigate(),{patientInfo:rs}=usePatientInfoStore.getState(),is=rs?"".concat(rs.firstName," ").concat(rs.lastName):"",os=formatVisitDate(rs.dateOfBirth||"","birth"),{data:ss,isFetching:as}=useGetAppointments(ts,!!ts&&!!(rs!=null&&rs.id),rs==null?void 0:rs.id),ls=ss==null?void 0:ss.appointments.filter(us=>us.telemedStatus==="complete"||us.telemedStatus==="unsigned"||us.telemedStatus==="cancelled"),cs=us=>{usePastVisitsStore.setState({appointmentID:us.id,appointmentDate:formatVisitDate(us.start||"","visit")}),ns("".concat(IntakeFlowPageRoute.VisitDetails.path,"?id=").concat(us.id))};return jsxRuntimeExports.jsxs(CustomContainer,{title:is,subtext:"Birthday: ".concat(os),description:"",bgVariant:IntakeFlowPageRoute.PatientPortal.path,isFirstPage:!0,children:[jsxRuntimeExports.jsx(Typography$1,{variant:"h2",color:"primary.main",children:"Visits"}),as&&jsxRuntimeExports.jsx(Skeleton$1,{sx:{borderRadius:2,backgroundColor:otherColors.coachingVisit,p:8}}),!as&&(ls==null?void 0:ls.map(us=>jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",borderRadius:2,px:3,py:3,my:3,backgroundColor:otherColors.lightPurple,cursor:us.appointmentStatus==="cancelled"?"auto":"pointer"},children:[jsxRuntimeExports.jsx(Box$1,{sx:{display:"flex",alignItems:"center",gap:2},children:jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",flexDirection:"column ",alignItems:"flex-start",gap:1},children:[jsxRuntimeExports.jsx(Typography$1,{variant:"subtitle1",color:otherColors.brightPurple,children:formatVisitDate(us.start||"","visit")}),jsxRuntimeExports.jsx(Typography$1,{variant:"caption",color:"text.secondary",children:us.id}),us.appointmentStatus==="cancelled"&&jsxRuntimeExports.jsx(Typography$1,{variant:"overline",color:"text.secondary",sx:{backgroundColor:"background.cancelled",color:"text.cancelled",borderRadius:1,px:1},children:"Cancelled"})]})}),us.appointmentStatus!=="cancelled"&&jsxRuntimeExports.jsx(Button$2,{sx:{display:"flex",alignItems:"center",backgroundColor:otherColors.white,color:"primary.main",border:"1px solid",borderColor:otherColors.purple,borderRadius:"100px",py:1,px:2},onClick:()=>cs(us),children:"Visit Details"})]},us.id))),jsxRuntimeExports.jsx(Button$2,{sx:{display:"flex",alignItems:"center",backgroundColor:otherColors.white,color:"primary.main",border:"1px solid",borderColor:otherColors.purple,borderRadius:"100px",py:1,px:2,mt:2},onClick:()=>{ns(IntakeFlowPageRoute.PatientPortal.path)},children:"Back to homepage"})]})},PatientCondition=()=>{var ks,Is;const ts=useLocation(),ns=useNavigate(),rs=useZapEHRAPIClient(),is=useCreateZ3ObjectMutation(),{paperworkQuestions:os,patchCompletedPaperwork:ss}=getSelectors(usePaperworkStore,["paperworkQuestions","patchCompletedPaperwork"]),{completedPaperwork:as}=usePaperworkStore.getState(),{patientInfo:ls}=getSelectors(usePatientInfoStore,["patientInfo"]),{appointmentID:cs}=getSelectors(useAppointmentStore,["appointmentID"]),{fileURLs:us,patchFileURLs:ds}=getSelectors(useFilesStore,["fileURLs","patchFileURLs"]),{items:ps,nextPage:hs,pageName:ms,currentPage:gs,currentIndex:ys}=usePaperworkPageInfo({location:ts,paperworkQuestions:os}),vs=ps.filter(Ts=>Ts.type==="Photos"),[bs,Ss]=reactExports.useState({}),$s=Object.keys(bs),Cs=reactExports.useCallback(async Ts=>{var Ms;if(!os)throw new Error("paperworkQuestions is not defined");const Rs=vs[0];if(Rs){const Ls=filterObject(bs,Fs=>Fs.startsWith(Rs.id));let Ds;for(const Fs in Ls){const Vs=Fs,Bs=Ls[Fs].fileData;ls.id&&Bs&&(Ds=await is.mutateAsync({apiClient:rs,fileType:Vs,fileFormat:getFileTypeFromFile(((Ms=Ls[Fs].fileData)==null?void 0:Ms.name)||""),file:Bs,appointmentID:cs})),Bs&&!Ds?Ss(Ws=>({...Ws,[Vs]:{fileData:null,uploadFailed:!0}})):Bs&&Ds&&Ss(Ws=>({...Ws,[Vs]:{fileData:null,uploadFailed:Ws[Vs].uploadFailed}})),ds({[Vs]:{...us==null?void 0:us[Vs],z3Url:Ds.z3URL,localUrl:Ds.z3URL?us==null?void 0:us[Vs].localUrl:void 0}})}}formInputStringToBoolean(Ts,ps);const As=filterObject(Ts,Ls=>!$s.includes(Ls));ss(As),useFilesStore.setState({}),ys===os.length-1?ns(IntakeFlowPageRoute.ReviewPaperwork.path):ns("/paperwork/".concat((hs==null?void 0:hs.slug)||""))},[os,vs,ps,ss,ys,bs,ls.id,ds,us,is,rs,cs,$s,ns,hs==null?void 0:hs.slug]),Es=useMapQuestionsToFormInputFields({getLabel:Ts=>Ts.text.replace("{patientFirstName}",(ls==null?void 0:ls.firstName)||"Patient"),getDefaultValue:Ts=>{var Rs,As;return Ts.type==="Photos"?filterObject(us||{},Ms=>Ms.startsWith(Ts.id)):as[Ts.id]||((Rs=us==null?void 0:us[Ts.id])==null?void 0:Rs.localUrl)||((As=us==null?void 0:us[Ts.id])==null?void 0:As.presignedUrl)},getFileOptions:Ts=>({description:Ts.attachmentText,onUpload:Ss,uploadFile:(Rs,As)=>ds({[Rs]:{...us==null?void 0:us[Rs],localUrl:As}}),uploadFailed:Object.keys(bs).map(Rs=>({name:Rs,uploadFailed:bs[Rs].uploadFailed})).reduce((Rs,As)=>(Rs[As.name]=As.uploadFailed,Rs),{}),resetUploadFailed:Rs=>Ss(As=>({...As,[Rs]:{...As[Rs],uploadFailed:!1}})),onClear:Rs=>{Ss(As=>(delete As[Rs],As)),useFilesStore.setState(As=>{const Ms=As.fileURLs;return Ms&&delete Ms[Rs],{fileURLs:Ms}})},fileType:Ts.id})}),xs=reactExports.useCallback(Ts=>{ss(filterObject(Ts,Rs=>!$s.includes(Rs)))},[$s,ss]),ws=reactExports.useMemo(()=>Es(ps),[Es,ps]);return jsxRuntimeExports.jsx(CustomContainer,{title:ms,description:((ks=ps[0])==null?void 0:ks.type)==="Description"?(Is=ps[0])==null?void 0:Is.text:void 0,bgVariant:gs.slug,children:jsxRuntimeExports.jsx(PageForm,{formElements:ws,onSubmit:Cs,onFormValuesChange:xs,controlButtons:reactExports.useMemo(()=>({loading:is.isLoading}),[is.isLoading])})})},UPDATEABLE_PATIENT_INFO_FIELDS=["firstName","lastName","middleName","chosenName","dateOfBirth","sex","weight","email","emailUser"],isPatientInfoEqual=(ts,ns)=>{for(const rs of UPDATEABLE_PATIENT_INFO_FIELDS){if(rs==="dateOfBirth"||rs==="weightLastUpdated"){const is=DateTime.fromFormat(yupDateTransform(ts[rs])||"","yyyy-MM-dd"),os=DateTime.fromFormat(yupDateTransform(ns[rs])||"","yyyy-MM-dd");if(!is.equals(os))return!1}if(ts[rs]!==ns[rs])return!1}return!0},createPatientInfoWithChangedFields=(ts,ns)=>{const rs={...ts};for(const is of UPDATEABLE_PATIENT_INFO_FIELDS)rs[is]=ns[is];return rs},PatientInformation=()=>{const ts=useZapEHRAPIClient(),[ns,rs]=reactExports.useState(!1),is=useNavigate(),[os,ss]=reactExports.useState(!1),[as,ls]=reactExports.useState(!1),{patientInfo:cs,pendingPatientInfoUpdates:us}=getSelectors(usePatientInfoStore,["patientInfo","pendingPatientInfoUpdates"]),ds={...cs,...us,id:cs.id},ps=reactExports.useRef(cs),{appointmentID:hs}=getSelectors(useAppointmentStore,["appointmentID"]),{patchCompletedPaperwork:ms,setQuestions:gs}=getSelectors(usePaperworkStore,["patchCompletedPaperwork","setQuestions"]),ys=useCreateAppointmentMutation(),vs=useUpdateAppointmentMutation(),bs=useGetPaperwork(Es=>{const xs={};ds.emailUser==="Patient"&&(xs["patient-email"]=ds.email),ds.emailUser==="Parent/Guardian"&&(xs["guardian-email"]=ds.email),ms({...Es.paperwork,...xs}),gs(Es.questions),useFilesStore.setState({fileURLs:Es.files}),is("/paperwork/".concat(Es.questions[0].slug))},{staleTime:0,enabled:ns,onError:Es=>{safelyCaptureException(Es),ls(!0)}}),Ss=async Es=>{const xs=isoStringFromMDYString(yupDateTransform(Es.dateOfBirth||ds.dateOfBirth||""));if(Es.dateOfBirth=xs||"Unknown",!ageIsInRange(xs!=null?xs:"",MINIMUM_AGE,MAXIMUM_AGE).result){ss(!0);return}ds.id||(Es.newPatient=ds.newPatient);let ws;if(isPatientInfoEqual(ps.current,Es)||(ws=createPatientInfoWithChangedFields(ds,Es),usePatientInfoStore.setState(()=>({pendingPatientInfoUpdates:ws}))),ds.id&&!Es.newPatient&&!hs){is(IntakeFlowPageRoute.ConfirmDateOfBirth.path);return}if(!ts)throw new Error("apiClient is not defined");if(hs)ws?vs.mutate({appointmentID:hs,apiClient:ts,patientInfo:ws},{onSuccess:ks=>{console.log("Appointment updated successfully",ks),usePatientInfoStore.setState(()=>({patientInfo:ws,pendingPatientInfoUpdates:void 0})),ps.current={...ws},$s()},onError:ks=>{ls(!0),safelyCaptureException(ks)}}):$s();else{if(!ws){console.error("No pending patientInfo updates, something went wrong");return}ys.mutate({apiClient:ts,patientInfo:ws},{onSuccess:async ks=>{useAppointmentStore.setState(()=>({appointmentID:ks.appointmentId}));const Is=createPatientInfoWithChangedFields({...ds,id:ks.patientId||ds.id},Es);usePatientInfoStore.setState(()=>({pendingPatientInfoUpdates:void 0,patientInfo:Is})),ps.current=Is,$s()},onError:ks=>{ls(!0),safelyCaptureException(ks)}})}},$s=()=>{const{paperworkQuestions:Es}=usePaperworkStore.getState();Es&&Es.length>0?is("/paperwork/".concat(Es[0].slug)):rs(!0)},Cs=DateTime.fromFormat(yupDateTransform(ds.dateOfBirth)||"","yyyy-MM-dd").toFormat("MMM dd, yyyy");return jsxRuntimeExports.jsxs(CustomContainer,{title:"About the patient",description:"We use this information to ensure we're able to provide you with care. All information is kept confidential.",bgVariant:IntakeFlowPageRoute.PatientInformation.path,children:[!ds.newPatient&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Typography$1,{variant:"h3",color:"secondary.main",children:getPatientInfoFullName(ds)}),jsxRuntimeExports.jsxs(Typography$1,{variant:"body2",sx:{fontSize:"14px"},color:"secondary.main",children:["Birthday: ",Cs||ds.dateOfBirth]}),jsxRuntimeExports.jsxs(Typography$1,{variant:"body2",sx:{fontSize:"14px"},color:"secondary.main",children:["Birth sex: ",ds.sex]}),jsxRuntimeExports.jsxs(Typography$1,{variant:"body1",color:otherColors.wrongPatient,marginTop:2,marginBottom:4,children:["Wrong patient? Please"," ",jsxRuntimeExports.jsx(Link$2,{style:{color:otherColors.wrongPatient},to:"".concat(IntakeFlowPageRoute.SelectPatient.path,"?flow=requestVisit"),children:"go back"})," ","for a new patient or different existing patient record."]})]}),jsxRuntimeExports.jsx(PageForm,{formElements:[{type:"Text",name:"firstName",label:"First name (legal)",placeholder:"First name",defaultValue:ds.firstName,required:ds.newPatient,hidden:!ds.newPatient},{type:"Text",name:"middleName",label:"Middle name (legal)",placeholder:"Middle name",defaultValue:ds.middleName,hidden:!ds.newPatient},{type:"Text",name:"lastName",label:"Last name (legal)",placeholder:"Last name",defaultValue:ds.lastName,required:ds.newPatient,hidden:!ds.newPatient},{type:"Text",name:"chosenName",label:"Chosen or preferred name (optional)",placeholder:"Chosen name",defaultValue:ds.chosenName},{type:"Date",name:"dateOfBirth",label:"Patient's date of birth",defaultValue:ds.dateOfBirth,required:ds.newPatient,hidden:!ds.newPatient},{type:"Select",name:"sex",label:"Patient's birth sex",defaultValue:ds.sex,required:!0,hidden:!ds.newPatient,infoTextSecondary:"Our care team uses this to inform treatment recommendations and share helpful information regarding potential medication side effects, as necessary.",selectOptions:Object.entries(PersonSex).map(([Es,xs])=>({label:Es,value:xs}))},{type:"Text",format:"Decimal",name:"weight",label:"Patient weight (lbs)",infoTextSecondary:"Entering correct information in this box will help us with prescription dosing.",defaultValue:ds.weight,helperText:ds.newPatient?void 0:"Weight last updated: ".concat(ds.weightLastUpdated?DateTime.fromFormat(ds.weightLastUpdated,"yyyy-LL-dd").toFormat("MM/dd/yyyy"):"N/A"),showHelperTextIcon:!1},{type:"Text",name:"email",label:"Email",format:"Email",defaultValue:ds.email,required:!0},{type:"Radio List",name:"emailUser",label:"This email belongs to",defaultValue:ds.emailUser||"Parent/Guardian",required:!0,radioOptions:[{label:"Parent/Guardian",value:"Parent/Guardian"},{label:"Patient",value:"Patient"}]}],controlButtons:{onBack:()=>is(IntakeFlowPageRoute.PatientPortal.path),loading:ys.isLoading||bs.isLoading||vs.isLoading,submitLabel:"Continue"},onSubmit:Ss}),jsxRuntimeExports.jsx(ErrorDialog,{open:os,title:"Age not in range",description:"These services are only available for patients between the ages of 0 and 26.",closeButtonText:"Close",handleClose:()=>ss(!1)}),jsxRuntimeExports.jsx(ErrorDialog,{open:as,title:"Error",description:"An error occurred. Please, try again in a moment.",closeButtonText:"Close",handleClose:()=>ls(!1)})]})};function valueExists(ts){return ts!==void 0&&ts!==""}function isContactInformationComplete(ts){const ns=valueExists(ts["patient-street-address"])&&valueExists(ts["patient-city"])&&valueExists(ts["patient-state"])&&valueExists(ts["patient-zip"]),rs=valueExists(ts["patient-filling-out-as"]),is=valueExists(ts["patient-email"])&&valueExists(ts["patient-number"]),os=valueExists(ts["guardian-email"])&&valueExists(ts["guardian-number"]);return ns&&rs&&(is||os)}function isPatientDetailsComplete(ts,ns){return ns.filter(rs=>rs.required).every(rs=>valueExists(ts[rs.id]))}function isPaymentOptionComplete(ts,ns){const rs=ns.filter(os=>os.required).every(os=>valueExists(ts[os.id]));return ts["payment-option"]==="I will pay without insurance"||rs}function isResponsiblePartyComplete(ts,ns){return ns.filter(rs=>rs.required).every(rs=>valueExists(ts[rs.id]))}function isPhotoIdComplete(ts,ns){return ts.every(rs=>{var is;return valueExists((is=ns[rs.id])==null?void 0:is.z3Url)})}function isConsentFormsComplete(ts,ns){return ns.every(rs=>valueExists(ts[rs.id]))}function isAdditionalComplete(ts,ns){return ns.every(rs=>valueExists(ts[rs.id]))}function isPatientConditionComplete(ts,ns){return ns.filter(rs=>rs.required).every(rs=>valueExists(ts[rs.id]))}function isCurrentMedicationsComplete(ts,ns){return ns.every(rs=>valueExists(ts[rs.id]))}function isAllergiesComplete(ts,ns){return ns.every(rs=>valueExists(ts[rs.id]))}function isMedicalHistoryComplete(ts,ns){return ns.every(rs=>valueExists(ts[rs.id]))}function isSurgicalHistoryComplete(ts,ns){return ns.every(rs=>valueExists(ts[rs.id]))}function isPaperworkPageComplete(ts,ns,rs){const is=ns.questions.filter(os=>os.type!=="Description"&&os.type!=="Header 3").filter(os=>checkEnable(os,ts));switch(ns.slug){case"contact-information":return isContactInformationComplete(ts);case"patient-details":return isPatientDetailsComplete(ts,is);case"payment-option":return isPaymentOptionComplete(ts,is);case"responsible-party":return isResponsiblePartyComplete(ts,is);case"photo-id":return!!rs&&isPhotoIdComplete(is,rs);case"consent-forms":return isConsentFormsComplete(ts,is);case"additional":return isAdditionalComplete(ts,is);case"primary-care-physician":return isAdditionalComplete(ts,is);case"patient-condition":return isPatientConditionComplete(ts,is);case"current-medications":return isCurrentMedicationsComplete(ts,is);case"allergies":return isAllergiesComplete(ts,is);case"medical-history":return isMedicalHistoryComplete(ts,is);case"surgical-history":return isSurgicalHistoryComplete(ts,is);default:return console.warn("Unknown paperwork page: "+((ns==null?void 0:ns.reviewPageName)||ns.page)),!0}}const ReviewPaperwork=()=>{const ts=useNavigate(),{appointmentID:ns,scheduleType:rs,visitType:is}=getSelectors(useAppointmentStore,["appointmentID","scheduleType","visitType"]),os=useFilesStore(hs=>hs.fileURLs),{completedPaperwork:ss,paperworkQuestions:as}=getSelectors(usePaperworkStore,["completedPaperwork","paperworkQuestions"]),{patientInfo:ls}=usePatientInfoStore.getState(),cs=useCreatePaperworkMutation(),us=useZapEHRAPIClient(),ds=async()=>{if(!us)throw new Error("apiClient is not defined");if(!ns)throw new Error("appointmentID is not defined");if(!as)throw new Error("paperworkQuestions is not defined");if(!ss)throw new Error("paperwork is not defined");const hs=deepCopy(ss);Object.keys(hs).forEach(ms=>{let gs=!1,ys=!1;as==null||as.forEach(vs=>{vs.questions.filter(bs=>hs[bs.id]!=="").forEach(bs=>{if(bs.id===ms){if(bs.format==="Phone Number"){gs=!0;return}if(bs.type==="Date"){ys=!0;return}}})}),gs&&(hs[ms]=hs[ms].replace(/\D/g,"")),ys&&(yupFHIRDateRegex.test(hs[ms])||typeof hs[ms]=="object"&&(hs[ms]=yupDateTransform(hs[ms])))}),cs.mutate({apiClient:us,appointmentID:ns,paperwork:ss,files:os},{onSuccess:async()=>{usePaperworkStore.setState({paperworkQuestions:void 0,completedPaperwork:void 0}),useFilesStore.setState({fileURLs:void 0}),ts(rs==="provider"&&is==="now"?"".concat(IntakeFlowPageRoute.WaitingRoom.path,"?appointment_id=").concat(ns):IntakeFlowPageRoute.ThankYou.path)},onError:ms=>{safelyCaptureException(ms)}})};if(!as)throw new Error("paperworkQuestions is not defined");if(!ss)throw new Error("completedPaperwork is not defined");const ps=[{name:"Patient",valueString:"".concat(ls==null?void 0:ls.firstName," ").concat(ls==null?void 0:ls.lastName),hidden:!(ls!=null&&ls.firstName)},...as.map(hs=>({name:hs.reviewPageName||hs.page,path:"/paperwork/".concat(hs.slug),valueBoolean:isPaperworkPageComplete(ss,hs,os)}))];return jsxRuntimeExports.jsxs(CustomContainer,{title:"Review and submit",description:"Review and confirm all details below.",bgVariant:IntakeFlowPageRoute.ReviewPaperwork.path,children:[jsxRuntimeExports.jsx(Typography$1,{variant:"h3",color:"primary",marginTop:2,marginBottom:0,children:"Visit details"}),jsxRuntimeExports.jsx(Table$1,{sx:{marginBottom:2,tr:{td:{borderBottom:"1px solid #E3E6EF"},"&:last-child":{td:{borderBottom:"none"}}}},children:jsxRuntimeExports.jsx(TableBody$1,{children:ps.filter(hs=>!hs.hidden).map(hs=>jsxRuntimeExports.jsxs(TableRow$1,{children:[jsxRuntimeExports.jsx(TableCell$1,{sx:{paddingTop:2,paddingBottom:2,paddingLeft:0,paddingRight:0,color:otherColors.brightPurple},children:hs.name}),jsxRuntimeExports.jsxs(TableCell$1,{padding:"none",align:"right",children:[hs.valueString!==void 0&&hs.valueString,hs.valueBoolean!==void 0&&getValueBoolean(hs.valueBoolean)]}),jsxRuntimeExports.jsx(TableCell$1,{padding:"none",sx:{paddingLeft:1},children:hs.path&&jsxRuntimeExports.jsx(Tooltip$1,{title:"Edit",placement:"right",children:jsxRuntimeExports.jsx(Link$2,{to:hs.path,children:jsxRuntimeExports.jsx(IconButton$2,{"aria-label":"edit",color:"primary",children:jsxRuntimeExports.jsx(EditOutlined,{})})})})})]},hs.name))})}),jsxRuntimeExports.jsx(PageForm,{controlButtons:{submitLabel:"Save",loading:cs.isLoading},onSubmit:ds})]})},useGetPatients=(ts,ns)=>useQuery(["patients"],()=>{if(ts)return ts.getPatients();throw new Error("api client not defined")},{enabled:!1,onSuccess:ns,onError:rs=>{console.error("Error during fetching get patients: ",rs)}}),PATIENTS_INITIAL={patients:[]},usePatientsStore=create$2()(persist(()=>({...PATIENTS_INITIAL}),{name:"telemed-patients-storage"})),FORM_PATIENT_ID_ELEMENT_BASE={name:"patientId",label:"Select patient",defaultValue:"",required:!0},DIFFERENT_FAMILY_MEMBER_DATA={label:"Different family member",description:"Select this option if this reservation is for a different family member",value:"new-patient",color:otherColors.lightBlue},SelectPatient=()=>{var hs;const{patientInfo:ts,setNewPatient:ns}=usePatientInfoStore.getState(),rs=useZapEHRAPIClient(),is=useNavigate(),os=useLocation(),as=new URLSearchParams(window.location.search).get("flow"),ls=getSelectors(usePatientsStore,["patients"]),{refetch:cs,isFetching:us}=useGetPatients(rs,ms=>{var gs;usePatientsStore.setState({patients:ms.patients}),(gs=os.state)!=null&&gs.patientId&&ds({patientId:os.state.patientId})});reactExports.useEffect(()=>{rs&&cs()},[cs,rs]);const ds=ms=>{var ys;const gs=(ys=ls.patients)==null?void 0:ys.find(vs=>vs.id===ms.patientId);gs?usePatientInfoStore.setState(()=>({patientInfo:{...gs,id:gs.id||void 0,newPatient:!1,dateOfBirth:DateTime.fromISO(gs.dateOfBirth||"").toString(),reasonForVisit:ts==null?void 0:ts.reasonForVisit},pendingPatientInfoUpdates:void 0})):ns(),as==="requestVisit"?(useAppointmentStore.setState({appointmentDate:void 0,appointmentID:void 0}),usePaperworkStore.setState({paperworkQuestions:void 0,completedPaperwork:void 0}),is(IntakeFlowPageRoute.PatientInformation.path)):as==="continueVisitRequest"?(usePaperworkStore.setState({paperworkQuestions:void 0,completedPaperwork:void 0}),is(IntakeFlowPageRoute.PatientInformation.path)):as==="pastVisits"&&is(IntakeFlowPageRoute.PastVisits.path)},ps=()=>{is(IntakeFlowPageRoute.PatientPortal.path)};return(hs=os.state)!=null&&hs.patientId?jsxRuntimeExports.jsx(CustomContainer,{title:"Loading patient",description:"",bgVariant:IntakeFlowPageRoute.PatientPortal.path,children:jsxRuntimeExports.jsx(Box$1,{sx:{display:"flex",justifyContent:"center"},children:jsxRuntimeExports.jsx(CircularProgress$1,{})})}):jsxRuntimeExports.jsx(CustomContainer,{title:"Select patient",description:"",bgVariant:IntakeFlowPageRoute.PatientPortal.path,children:us?jsxRuntimeExports.jsxs(Box$1,{sx:{pt:2},children:[jsxRuntimeExports.jsx(BoldPurpleInputLabel,{shrink:!0,children:"Select patient *"}),jsxRuntimeExports.jsx(Box$1,{sx:{display:"flex",flexDirection:"column",gap:1},children:Array(3).fill(0).map((ms,gs)=>jsxRuntimeExports.jsx(Skeleton$1,{variant:"rounded",height:80,sx:{borderRadius:2,backgroundColor:otherColors.coachingVisit}},gs))})]}):jsxRuntimeExports.jsx(PageForm,{formElements:[{type:"Radio",...FORM_PATIENT_ID_ELEMENT_BASE,defaultValue:ts.id||FORM_PATIENT_ID_ELEMENT_BASE.defaultValue||"new-patient",radioOptions:(ls.patients||[]).map(ms=>{if(!ms.id)throw new Error("Patient id is not defined");return{label:getPatientInfoFullName(ms),description:"Birthday: ".concat(DateTime.fromFormat(ms.dateOfBirth||"","yyyy-MM-dd").toFormat("MMMM dd, yyyy")),value:ms.id,color:otherColors.lightBlue}}).concat(as!=="pastVisits"?DIFFERENT_FAMILY_MEMBER_DATA:[])}],onSubmit:ds,controlButtons:{onBack:ps}})})},UserFlowRoot=()=>{const ts=useZapEHRAPIClient(),ns=useNavigate(),rs=useGetPatients(ts,is=>{usePatientsStore.setState({patients:is.patients}),(is==null?void 0:is.patients.length)>0?localStorage.getItem("fromHome")==="true"?(localStorage.removeItem("fromHome"),ns(IntakeFlowPageRoute.PatientPortal.path)):ns("".concat(IntakeFlowPageRoute.SelectPatient.path,"?flow=requestVisit")):(usePatientInfoStore.getState().setNewPatient(),ns(IntakeFlowPageRoute.NewUser.path))});return reactExports.useEffect(()=>{ts&&rs.refetch().catch(console.error)},[ts,rs]),rs.isLoading||!ts?jsxRuntimeExports.jsx(LoadingScreen,{}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{})};function stylis_min(ts){function ns($a,Ps,Ys,Zs,Us){for(var Ol=0,qs=0,Fl=0,Ll=0,$l,Cl,wl=0,Tl=0,xl,Al=xl=$l=0,Dl=0,Ns=0,Hs=0,Gs=0,Js=Ys.length,El=Js-1,Xs,_l="",Bl="",Ks="",Sl="",Il;Dl<Js;){if(Cl=Ys.charCodeAt(Dl),Dl===El&&qs+Ll+Fl+Ol!==0&&(qs!==0&&(Cl=qs===47?10:47),Ll=Fl=Ol=0,Js++,El++),qs+Ll+Fl+Ol===0){if(Dl===El&&(0<Ns&&(_l=_l.replace(hs,"")),0<_l.trim().length)){switch(Cl){case 32:case 9:case 59:case 13:case 10:break;default:_l+=Ys.charAt(Dl)}Cl=59}switch(Cl){case 123:for(_l=_l.trim(),$l=_l.charCodeAt(0),xl=1,Gs=++Dl;Dl<Js;){switch(Cl=Ys.charCodeAt(Dl)){case 123:xl++;break;case 125:xl--;break;case 47:switch(Cl=Ys.charCodeAt(Dl+1)){case 42:case 47:e:{for(Al=Dl+1;Al<El;++Al)switch(Ys.charCodeAt(Al)){case 47:if(Cl===42&&Ys.charCodeAt(Al-1)===42&&Dl+2!==Al){Dl=Al+1;break e}break;case 10:if(Cl===47){Dl=Al+1;break e}}Dl=Al}}break;case 91:Cl++;case 40:Cl++;case 34:case 39:for(;Dl++<El&&Ys.charCodeAt(Dl)!==Cl;);}if(xl===0)break;Dl++}switch(xl=Ys.substring(Gs,Dl),$l===0&&($l=(_l=_l.replace(ps,"").trim()).charCodeAt(0)),$l){case 64:switch(0<Ns&&(_l=_l.replace(hs,"")),Cl=_l.charCodeAt(1),Cl){case 100:case 109:case 115:case 45:Ns=Ps;break;default:Ns=Fs}if(xl=ns(Ps,Ns,xl,Cl,Us+1),Gs=xl.length,0<Bs&&(Ns=rs(Fs,_l,Hs),Il=ls(3,xl,Ns,Ps,Ms,As,Gs,Cl,Us,Zs),_l=Ns.join(""),Il!==void 0&&(Gs=(xl=Il.trim()).length)===0&&(Cl=0,xl="")),0<Gs)switch(Cl){case 115:_l=_l.replace(xs,as);case 100:case 109:case 45:xl=_l+"{"+xl+"}";break;case 107:_l=_l.replace(Ss,"$1 $2"),xl=_l+"{"+xl+"}",xl=Ds===1||Ds===2&&ss("@"+xl,3)?"@-webkit-"+xl+"@"+xl:"@"+xl;break;default:xl=_l+xl,Zs===112&&(xl=(Bl+=xl,""))}else xl="";break;default:xl=ns(Ps,rs(Ps,_l,Hs),xl,Zs,Us+1)}Ks+=xl,xl=Hs=Ns=Al=$l=0,_l="",Cl=Ys.charCodeAt(++Dl);break;case 125:case 59:if(_l=(0<Ns?_l.replace(hs,""):_l).trim(),1<(Gs=_l.length))switch(Al===0&&($l=_l.charCodeAt(0),$l===45||96<$l&&123>$l)&&(Gs=(_l=_l.replace(" ",":")).length),0<Bs&&(Il=ls(1,_l,Ps,$a,Ms,As,Bl.length,Zs,Us,Zs))!==void 0&&(Gs=(_l=Il.trim()).length)===0&&(_l="\0\0"),$l=_l.charCodeAt(0),Cl=_l.charCodeAt(1),$l){case 0:break;case 64:if(Cl===105||Cl===99){Sl+=_l+Ys.charAt(Dl);break}default:_l.charCodeAt(Gs-1)!==58&&(Bl+=os(_l,$l,Cl,_l.charCodeAt(2)))}Hs=Ns=Al=$l=0,_l="",Cl=Ys.charCodeAt(++Dl)}}switch(Cl){case 13:case 10:qs===47?qs=0:1+$l===0&&Zs!==107&&0<_l.length&&(Ns=1,_l+="\0"),0<Bs*Os&&ls(0,_l,Ps,$a,Ms,As,Bl.length,Zs,Us,Zs),As=1,Ms++;break;case 59:case 125:if(qs+Ll+Fl+Ol===0){As++;break}default:switch(As++,Xs=Ys.charAt(Dl),Cl){case 9:case 32:if(Ll+Ol+qs===0)switch(wl){case 44:case 58:case 9:case 32:Xs="";break;default:Cl!==32&&(Xs=" ")}break;case 0:Xs="\\0";break;case 12:Xs="\\f";break;case 11:Xs="\\v";break;case 38:Ll+qs+Ol===0&&(Ns=Hs=1,Xs="\f"+Xs);break;case 108:if(Ll+qs+Ol+Ls===0&&0<Al)switch(Dl-Al){case 2:wl===112&&Ys.charCodeAt(Dl-3)===58&&(Ls=wl);case 8:Tl===111&&(Ls=Tl)}break;case 58:Ll+qs+Ol===0&&(Al=Dl);break;case 44:qs+Fl+Ll+Ol===0&&(Ns=1,Xs+="\r");break;case 34:case 39:qs===0&&(Ll=Ll===Cl?0:Ll===0?Cl:Ll);break;case 91:Ll+qs+Fl===0&&Ol++;break;case 93:Ll+qs+Fl===0&&Ol--;break;case 41:Ll+qs+Ol===0&&Fl--;break;case 40:if(Ll+qs+Ol===0){if($l===0)switch(2*wl+3*Tl){case 533:break;default:$l=1}Fl++}break;case 64:qs+Fl+Ll+Ol+Al+xl===0&&(xl=1);break;case 42:case 47:if(!(0<Ll+Ol+Fl))switch(qs){case 0:switch(2*Cl+3*Ys.charCodeAt(Dl+1)){case 235:qs=47;break;case 220:Gs=Dl,qs=42}break;case 42:Cl===47&&wl===42&&Gs+2!==Dl&&(Ys.charCodeAt(Gs+2)===33&&(Bl+=Ys.substring(Gs,Dl+1)),Xs="",qs=0)}}qs===0&&(_l+=Xs)}Tl=wl,wl=Cl,Dl++}if(Gs=Bl.length,0<Gs){if(Ns=Ps,0<Bs&&(Il=ls(2,Bl,Ns,$a,Ms,As,Gs,Zs,Us,Zs),Il!==void 0&&(Bl=Il).length===0))return Sl+Bl+Ks;if(Bl=Ns.join(",")+"{"+Bl+"}",Ds*Ls!==0){switch(Ds!==2||ss(Bl,2)||(Ls=0),Ls){case 111:Bl=Bl.replace(Cs,":-moz-$1")+Bl;break;case 112:Bl=Bl.replace($s,"::-webkit-input-$1")+Bl.replace($s,"::-moz-$1")+Bl.replace($s,":-ms-input-$1")+Bl}Ls=0}}return Sl+Bl+Ks}function rs($a,Ps,Ys){var Zs=Ps.trim().split(vs);Ps=Zs;var Us=Zs.length,Ol=$a.length;switch(Ol){case 0:case 1:var qs=0;for($a=Ol===0?"":$a[0]+" ";qs<Us;++qs)Ps[qs]=is($a,Ps[qs],Ys).trim();break;default:var Fl=qs=0;for(Ps=[];qs<Us;++qs)for(var Ll=0;Ll<Ol;++Ll)Ps[Fl++]=is($a[Ll]+" ",Zs[qs],Ys).trim()}return Ps}function is($a,Ps,Ys){var Zs=Ps.charCodeAt(0);switch(33>Zs&&(Zs=(Ps=Ps.trim()).charCodeAt(0)),Zs){case 38:return Ps.replace(bs,"$1"+$a.trim());case 58:return $a.trim()+Ps.replace(bs,"$1"+$a.trim());default:if(0<1*Ys&&0<Ps.indexOf("\f"))return Ps.replace(bs,($a.charCodeAt(0)===58?"":"$1")+$a.trim())}return $a+Ps}function os($a,Ps,Ys,Zs){var Us=$a+";",Ol=2*Ps+3*Ys+4*Zs;if(Ol===944){$a=Us.indexOf(":",9)+1;var qs=Us.substring($a,Us.length-1).trim();return qs=Us.substring(0,$a).trim()+qs+";",Ds===1||Ds===2&&ss(qs,1)?"-webkit-"+qs+qs:qs}if(Ds===0||Ds===2&&!ss(Us,1))return Us;switch(Ol){case 1015:return Us.charCodeAt(10)===97?"-webkit-"+Us+Us:Us;case 951:return Us.charCodeAt(3)===116?"-webkit-"+Us+Us:Us;case 963:return Us.charCodeAt(5)===110?"-webkit-"+Us+Us:Us;case 1009:if(Us.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+Us+Us;case 978:return"-webkit-"+Us+"-moz-"+Us+Us;case 1019:case 983:return"-webkit-"+Us+"-moz-"+Us+"-ms-"+Us+Us;case 883:if(Us.charCodeAt(8)===45)return"-webkit-"+Us+Us;if(0<Us.indexOf("image-set(",11))return Us.replace(Rs,"$1-webkit-$2")+Us;break;case 932:if(Us.charCodeAt(4)===45)switch(Us.charCodeAt(5)){case 103:return"-webkit-box-"+Us.replace("-grow","")+"-webkit-"+Us+"-ms-"+Us.replace("grow","positive")+Us;case 115:return"-webkit-"+Us+"-ms-"+Us.replace("shrink","negative")+Us;case 98:return"-webkit-"+Us+"-ms-"+Us.replace("basis","preferred-size")+Us}return"-webkit-"+Us+"-ms-"+Us+Us;case 964:return"-webkit-"+Us+"-ms-flex-"+Us+Us;case 1023:if(Us.charCodeAt(8)!==99)break;return qs=Us.substring(Us.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+qs+"-webkit-"+Us+"-ms-flex-pack"+qs+Us;case 1005:return gs.test(Us)?Us.replace(ms,":-webkit-")+Us.replace(ms,":-moz-")+Us:Us;case 1e3:switch(qs=Us.substring(13).trim(),Ps=qs.indexOf("-")+1,qs.charCodeAt(0)+qs.charCodeAt(Ps)){case 226:qs=Us.replace(Es,"tb");break;case 232:qs=Us.replace(Es,"tb-rl");break;case 220:qs=Us.replace(Es,"lr");break;default:return Us}return"-webkit-"+Us+"-ms-"+qs+Us;case 1017:if(Us.indexOf("sticky",9)===-1)break;case 975:switch(Ps=(Us=$a).length-10,qs=(Us.charCodeAt(Ps)===33?Us.substring(0,Ps):Us).substring($a.indexOf(":",7)+1).trim(),Ol=qs.charCodeAt(0)+(qs.charCodeAt(7)|0)){case 203:if(111>qs.charCodeAt(8))break;case 115:Us=Us.replace(qs,"-webkit-"+qs)+";"+Us;break;case 207:case 102:Us=Us.replace(qs,"-webkit-"+(102<Ol?"inline-":"")+"box")+";"+Us.replace(qs,"-webkit-"+qs)+";"+Us.replace(qs,"-ms-"+qs+"box")+";"+Us}return Us+";";case 938:if(Us.charCodeAt(5)===45)switch(Us.charCodeAt(6)){case 105:return qs=Us.replace("-items",""),"-webkit-"+Us+"-webkit-box-"+qs+"-ms-flex-"+qs+Us;case 115:return"-webkit-"+Us+"-ms-flex-item-"+Us.replace(ks,"")+Us;default:return"-webkit-"+Us+"-ms-flex-line-pack"+Us.replace("align-content","").replace(ks,"")+Us}break;case 973:case 989:if(Us.charCodeAt(3)!==45||Us.charCodeAt(4)===122)break;case 931:case 953:if(Ts.test($a)===!0)return(qs=$a.substring($a.indexOf(":")+1)).charCodeAt(0)===115?os($a.replace("stretch","fill-available"),Ps,Ys,Zs).replace(":fill-available",":stretch"):Us.replace(qs,"-webkit-"+qs)+Us.replace(qs,"-moz-"+qs.replace("fill-",""))+Us;break;case 962:if(Us="-webkit-"+Us+(Us.charCodeAt(5)===102?"-ms-"+Us:"")+Us,Ys+Zs===211&&Us.charCodeAt(13)===105&&0<Us.indexOf("transform",10))return Us.substring(0,Us.indexOf(";",27)+1).replace(ys,"$1-webkit-$2")+Us}return Us}function ss($a,Ps){var Ys=$a.indexOf(Ps===1?":":"{"),Zs=$a.substring(0,Ps!==3?Ys:10);return Ys=$a.substring(Ys+1,$a.length-1),Ws(Ps!==2?Zs:Zs.replace(Is,"$1"),Ys,Ps)}function as($a,Ps){var Ys=os(Ps,Ps.charCodeAt(0),Ps.charCodeAt(1),Ps.charCodeAt(2));return Ys!==Ps+";"?Ys.replace(ws," or ($1)").substring(4):"("+Ps+")"}function ls($a,Ps,Ys,Zs,Us,Ol,qs,Fl,Ll,$l){for(var Cl=0,wl=Ps,Tl;Cl<Bs;++Cl)switch(Tl=Vs[Cl].call(ds,$a,wl,Ys,Zs,Us,Ol,qs,Fl,Ll,$l)){case void 0:case!1:case!0:case null:break;default:wl=Tl}if(wl!==Ps)return wl}function cs($a){switch($a){case void 0:case null:Bs=Vs.length=0;break;default:if(typeof $a=="function")Vs[Bs++]=$a;else if(typeof $a=="object")for(var Ps=0,Ys=$a.length;Ps<Ys;++Ps)cs($a[Ps]);else Os=!!$a|0}return cs}function us($a){return $a=$a.prefix,$a!==void 0&&(Ws=null,$a?typeof $a!="function"?Ds=1:(Ds=2,Ws=$a):Ds=0),us}function ds($a,Ps){var Ys=$a;if(33>Ys.charCodeAt(0)&&(Ys=Ys.trim()),Nl=Ys,Ys=[Nl],0<Bs){var Zs=ls(-1,Ps,Ys,Ys,Ms,As,0,0,0,0);Zs!==void 0&&typeof Zs=="string"&&(Ps=Zs)}var Us=ns(Fs,Ys,Ps,0,0);return 0<Bs&&(Zs=ls(-2,Us,Ys,Ys,Ms,As,Us.length,0,0,0),Zs!==void 0&&(Us=Zs)),Nl="",Ls=0,As=Ms=1,Us}var ps=/^\0+/g,hs=/[\0\r\f]/g,ms=/: */g,gs=/zoo|gra/,ys=/([,: ])(transform)/g,vs=/,\r+?/g,bs=/([\t\r\n ])*\f?&/g,Ss=/@(k\w+)\s*(\S*)\s*/,$s=/::(place)/g,Cs=/:(read-only)/g,Es=/[svh]\w+-[tblr]{2}/,xs=/\(\s*(.*)\s*\)/g,ws=/([\s\S]*?);/g,ks=/-self|flex-/g,Is=/[^]*?(:[rp][el]a[\w-]+)[^]*/,Ts=/stretch|:\s*\w+\-(?:conte|avail)/,Rs=/([^-])(image-set\()/,As=1,Ms=1,Ls=0,Ds=1,Fs=[],Vs=[],Bs=0,Ws=null,Os=0,Nl="";return ds.use=cs,ds.set=us,ts!==void 0&&us(ts),ds}var unitlessKeys={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function y(){return(y=Object.assign||function(ts){for(var ns=1;ns<arguments.length;ns++){var rs=arguments[ns];for(var is in rs)Object.prototype.hasOwnProperty.call(rs,is)&&(ts[is]=rs[is])}return ts}).apply(this,arguments)}var v$1=function(ts,ns){for(var rs=[ts[0]],is=0,os=ns.length;is<os;is+=1)rs.push(ns[is],ts[is+1]);return rs},g$1=function(ts){return ts!==null&&typeof ts=="object"&&(ts.toString?ts.toString():Object.prototype.toString.call(ts))==="[object Object]"&&!reactIsExports.typeOf(ts)},S=Object.freeze([]),w=Object.freeze({});function E(ts){return typeof ts=="function"}function b$1(ts){return ts.displayName||ts.name||"Component"}function _(ts){return ts&&typeof ts.styledComponentId=="string"}var N=typeof process<"u"&&{TERM_PROGRAM:"vscode",NODE:"/usr/local/bin/node",ANDROID_HOME:"/Users/mauko/Library/Android/sdk",SHELL:"/bin/zsh",TERM:"xterm-256color",TMPDIR:"/var/folders/tj/kmmwgxxx4jjcnprg4ln4fb4m0000gp/T/",TERM_PROGRAM_VERSION:"1.93.1",MallocNanoZone:"0",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",ZDOTDIR:"/Users/mauko",ZSH:"/Users/mauko/.oh-my-zsh",npm_config_local_prefix:"/Users/mauko/Projects/Edwin/otter/packages/telemed-intake/app/",USER:"mauko",LS_COLORS:"di=1;36:ln=35:so=32:pi=33:ex=31:bd=34;46:cd=34;43:su=30;41:sg=30;46:tw=30;42:ow=30;43",COMMAND_MODE:"unix2003",CHROME_EXECUTABLE:"/Applications/Opera.app/Contents/MacOS/Opera",SSH_AUTH_SOCK:"/private/tmp/com.apple.launchd.nnqjh72rzb/Listeners",__CF_USER_TEXT_ENCODING:"0x1F6:0x0:0x0",npm_execpath:"/usr/local/Cellar/bun/1.1.27/bin/bun",PAGER:"less",LSCOLORS:"Gxfxcxdxbxegedabagacad",PATH:"/Users/mauko/Projects/Edwin/otter/packages/telemed-intake/app/node_modules/.bin:/Users/mauko/Projects/Edwin/otter/packages/telemed-intake/app/node_modules/.bin:/Users/mauko/Projects/Edwin/otter/packages/telemed-intake/node_modules/.bin:/Users/mauko/Projects/Edwin/otter/packages/node_modules/.bin:/Users/mauko/Projects/Edwin/otter/node_modules/.bin:/Users/mauko/Projects/Edwin/node_modules/.bin:/Users/mauko/Projects/node_modules/.bin:/Users/mauko/node_modules/.bin:/Users/node_modules/.bin:/node_modules/.bin:/Users/mauko/.yarn/bin:/Users/mauko/.config/yarn/global/node_modules/.bin:/Users/mauko/Library/Android/sdk/platform-tools:/Users/mauko/Library/Android/sdk/tools:/Users/mauko/.bun/bin:/usr/local/Cellar/node/21.1.0/bin:/usr/local/opt/openjdk/bin:/usr/local/sbin:/Users/mauko/.rbenv/shims:/usr/local/opt/python@2/libexec/bin:/usr/local/lib/ruby/gems/3.3.0/bin:/usr/local/opt/ruby/bin:/Users/mauko/flutter/bin:/Users/mauko/.pyenv/shims:/usr/local/bin:/System/Cryptexes/App/usr/bin:/usr/bin:/bin:/usr/sbin:/sbin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/local/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/appleinternal/bin:/Library/Apple/usr/bin:/Users/mauko/.yarn/bin:/Users/mauko/.config/yarn/global/node_modules/.bin:/Users/mauko/Library/Android/sdk/platform-tools:/Users/mauko/Library/Android/sdk/tools:/Users/mauko/.bun/bin:/usr/local/Cellar/node/21.1.0/bin:/usr/local/opt/openjdk/bin:/usr/local/sbin:/Users/mauko/.rbenv/shims:/usr/local/opt/python@2/libexec/bin:/usr/local/lib/ruby/gems/3.3.0/bin:/usr/local/opt/ruby/bin:/Users/mauko/flutter/bin:/Users/mauko/.cargo/bin:/Users/mauko/.orbstack/bin:/Users/mauko/.composer/vendor/bin:/Users/mauko/.pub-cache/bin:/Users/mauko/Library/Android/sdk/emulator:/opt/homebrew/opt/postgresql@15/bin:/Users/mauko/.orbstack/bin:/Users/mauko/.composer/vendor/bin:/Users/mauko/.pub-cache/bin:/Users/mauko/Library/Android/sdk/emulator:/opt/homebrew/opt/postgresql@15/bin",npm_package_json:"/Users/mauko/Projects/Edwin/otter/packages/telemed-intake/app/package.json",__CFBundleIdentifier:"com.microsoft.VSCode",USER_ZDOTDIR:"/Users/mauko",PWD:"/Users/mauko/Projects/Edwin/otter/packages/telemed-intake/app",npm_lifecycle_event:"build",LANG:"en_US.UTF-8",npm_package_name:"telemed-intake-app",NODE_PATH:"/Users/mauko/Projects/Edwin/otter/node_modules/.pnpm/vite@4.5.3_@types+node@18.19.42_terser@5.31.3/node_modules/vite/bin/node_modules:/Users/mauko/Projects/Edwin/otter/node_modules/.pnpm/vite@4.5.3_@types+node@18.19.42_terser@5.31.3/node_modules/vite/node_modules:/Users/mauko/Projects/Edwin/otter/node_modules/.pnpm/vite@4.5.3_@types+node@18.19.42_terser@5.31.3/node_modules:/Users/mauko/Projects/Edwin/otter/node_modules/.pnpm/node_modules",XPC_FLAGS:"0x0",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"",NODE_ENV:"production",RBENV_SHELL:"zsh",XPC_SERVICE_NAME:"0",npm_package_version:"0.7.0",VSCODE_INJECTION:"1",HOME:"/Users/mauko",SHLVL:"2",VSCODE_GIT_ASKPASS_MAIN:"/Applications/Visual Studio Code.app/Contents/Resources/app/extensions/git/dist/askpass-main.js",LOGNAME:"mauko",LESS:"-R",VSCODE_GIT_IPC_HANDLE:"/var/folders/tj/kmmwgxxx4jjcnprg4ln4fb4m0000gp/T/vscode-git-7a782488e5.sock",BUN_INSTALL:"/Users/mauko/.bun",npm_config_user_agent:"bun/1.1.27 npm/? node/v22.6.0 darwin x64",GIT_ASKPASS:"/Applications/Visual Studio Code.app/Contents/Resources/app/extensions/git/dist/askpass.sh",VSCODE_GIT_ASKPASS_NODE:"/Applications/Visual Studio Code.app/Contents/Frameworks/Code Helper (Plugin).app/Contents/MacOS/Code Helper (Plugin)",COLORTERM:"truecolor",npm_node_execpath:"/usr/local/bin/node",VITE_USER_NODE_ENV:"development",SENTRY_PIPELINE:"vite-plugin/2.21.1"}!==void 0&&({TERM_PROGRAM:"vscode",NODE:"/usr/local/bin/node",ANDROID_HOME:"/Users/mauko/Library/Android/sdk",SHELL:"/bin/zsh",TERM:"xterm-256color",TMPDIR:"/var/folders/tj/kmmwgxxx4jjcnprg4ln4fb4m0000gp/T/",TERM_PROGRAM_VERSION:"1.93.1",MallocNanoZone:"0",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",ZDOTDIR:"/Users/mauko",ZSH:"/Users/mauko/.oh-my-zsh",npm_config_local_prefix:"/Users/mauko/Projects/Edwin/otter/packages/telemed-intake/app/",USER:"mauko",LS_COLORS:"di=1;36:ln=35:so=32:pi=33:ex=31:bd=34;46:cd=34;43:su=30;41:sg=30;46:tw=30;42:ow=30;43",COMMAND_MODE:"unix2003",CHROME_EXECUTABLE:"/Applications/Opera.app/Contents/MacOS/Opera",SSH_AUTH_SOCK:"/private/tmp/com.apple.launchd.nnqjh72rzb/Listeners",__CF_USER_TEXT_ENCODING:"0x1F6:0x0:0x0",npm_execpath:"/usr/local/Cellar/bun/1.1.27/bin/bun",PAGER:"less",LSCOLORS:"Gxfxcxdxbxegedabagacad",PATH:"/Users/mauko/Projects/Edwin/otter/packages/telemed-intake/app/node_modules/.bin:/Users/mauko/Projects/Edwin/otter/packages/telemed-intake/app/node_modules/.bin:/Users/mauko/Projects/Edwin/otter/packages/telemed-intake/node_modules/.bin:/Users/mauko/Projects/Edwin/otter/packages/node_modules/.bin:/Users/mauko/Projects/Edwin/otter/node_modules/.bin:/Users/mauko/Projects/Edwin/node_modules/.bin:/Users/mauko/Projects/node_modules/.bin:/Users/mauko/node_modules/.bin:/Users/node_modules/.bin:/node_modules/.bin:/Users/mauko/.yarn/bin:/Users/mauko/.config/yarn/global/node_modules/.bin:/Users/mauko/Library/Android/sdk/platform-tools:/Users/mauko/Library/Android/sdk/tools:/Users/mauko/.bun/bin:/usr/local/Cellar/node/21.1.0/bin:/usr/local/opt/openjdk/bin:/usr/local/sbin:/Users/mauko/.rbenv/shims:/usr/local/opt/python@2/libexec/bin:/usr/local/lib/ruby/gems/3.3.0/bin:/usr/local/opt/ruby/bin:/Users/mauko/flutter/bin:/Users/mauko/.pyenv/shims:/usr/local/bin:/System/Cryptexes/App/usr/bin:/usr/bin:/bin:/usr/sbin:/sbin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/local/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/appleinternal/bin:/Library/Apple/usr/bin:/Users/mauko/.yarn/bin:/Users/mauko/.config/yarn/global/node_modules/.bin:/Users/mauko/Library/Android/sdk/platform-tools:/Users/mauko/Library/Android/sdk/tools:/Users/mauko/.bun/bin:/usr/local/Cellar/node/21.1.0/bin:/usr/local/opt/openjdk/bin:/usr/local/sbin:/Users/mauko/.rbenv/shims:/usr/local/opt/python@2/libexec/bin:/usr/local/lib/ruby/gems/3.3.0/bin:/usr/local/opt/ruby/bin:/Users/mauko/flutter/bin:/Users/mauko/.cargo/bin:/Users/mauko/.orbstack/bin:/Users/mauko/.composer/vendor/bin:/Users/mauko/.pub-cache/bin:/Users/mauko/Library/Android/sdk/emulator:/opt/homebrew/opt/postgresql@15/bin:/Users/mauko/.orbstack/bin:/Users/mauko/.composer/vendor/bin:/Users/mauko/.pub-cache/bin:/Users/mauko/Library/Android/sdk/emulator:/opt/homebrew/opt/postgresql@15/bin",npm_package_json:"/Users/mauko/Projects/Edwin/otter/packages/telemed-intake/app/package.json",__CFBundleIdentifier:"com.microsoft.VSCode",USER_ZDOTDIR:"/Users/mauko",PWD:"/Users/mauko/Projects/Edwin/otter/packages/telemed-intake/app",npm_lifecycle_event:"build",LANG:"en_US.UTF-8",npm_package_name:"telemed-intake-app",NODE_PATH:"/Users/mauko/Projects/Edwin/otter/node_modules/.pnpm/vite@4.5.3_@types+node@18.19.42_terser@5.31.3/node_modules/vite/bin/node_modules:/Users/mauko/Projects/Edwin/otter/node_modules/.pnpm/vite@4.5.3_@types+node@18.19.42_terser@5.31.3/node_modules/vite/node_modules:/Users/mauko/Projects/Edwin/otter/node_modules/.pnpm/vite@4.5.3_@types+node@18.19.42_terser@5.31.3/node_modules:/Users/mauko/Projects/Edwin/otter/node_modules/.pnpm/node_modules",XPC_FLAGS:"0x0",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"",NODE_ENV:"production",RBENV_SHELL:"zsh",XPC_SERVICE_NAME:"0",npm_package_version:"0.7.0",VSCODE_INJECTION:"1",HOME:"/Users/mauko",SHLVL:"2",VSCODE_GIT_ASKPASS_MAIN:"/Applications/Visual Studio Code.app/Contents/Resources/app/extensions/git/dist/askpass-main.js",LOGNAME:"mauko",LESS:"-R",VSCODE_GIT_IPC_HANDLE:"/var/folders/tj/kmmwgxxx4jjcnprg4ln4fb4m0000gp/T/vscode-git-7a782488e5.sock",BUN_INSTALL:"/Users/mauko/.bun",npm_config_user_agent:"bun/1.1.27 npm/? node/v22.6.0 darwin x64",GIT_ASKPASS:"/Applications/Visual Studio Code.app/Contents/Resources/app/extensions/git/dist/askpass.sh",VSCODE_GIT_ASKPASS_NODE:"/Applications/Visual Studio Code.app/Contents/Frameworks/Code Helper (Plugin).app/Contents/MacOS/Code Helper (Plugin)",COLORTERM:"truecolor",npm_node_execpath:"/usr/local/bin/node",VITE_USER_NODE_ENV:"development",SENTRY_PIPELINE:"vite-plugin/2.21.1"}.REACT_APP_SC_ATTR||{TERM_PROGRAM:"vscode",NODE:"/usr/local/bin/node",ANDROID_HOME:"/Users/mauko/Library/Android/sdk",SHELL:"/bin/zsh",TERM:"xterm-256color",TMPDIR:"/var/folders/tj/kmmwgxxx4jjcnprg4ln4fb4m0000gp/T/",TERM_PROGRAM_VERSION:"1.93.1",MallocNanoZone:"0",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",ZDOTDIR:"/Users/mauko",ZSH:"/Users/mauko/.oh-my-zsh",npm_config_local_prefix:"/Users/mauko/Projects/Edwin/otter/packages/telemed-intake/app/",USER:"mauko",LS_COLORS:"di=1;36:ln=35:so=32:pi=33:ex=31:bd=34;46:cd=34;43:su=30;41:sg=30;46:tw=30;42:ow=30;43",COMMAND_MODE:"unix2003",CHROME_EXECUTABLE:"/Applications/Opera.app/Contents/MacOS/Opera",SSH_AUTH_SOCK:"/private/tmp/com.apple.launchd.nnqjh72rzb/Listeners",__CF_USER_TEXT_ENCODING:"0x1F6:0x0:0x0",npm_execpath:"/usr/local/Cellar/bun/1.1.27/bin/bun",PAGER:"less",LSCOLORS:"Gxfxcxdxbxegedabagacad",PATH:"/Users/mauko/Projects/Edwin/otter/packages/telemed-intake/app/node_modules/.bin:/Users/mauko/Projects/Edwin/otter/packages/telemed-intake/app/node_modules/.bin:/Users/mauko/Projects/Edwin/otter/packages/telemed-intake/node_modules/.bin:/Users/mauko/Projects/Edwin/otter/packages/node_modules/.bin:/Users/mauko/Projects/Edwin/otter/node_modules/.bin:/Users/mauko/Projects/Edwin/node_modules/.bin:/Users/mauko/Projects/node_modules/.bin:/Users/mauko/node_modules/.bin:/Users/node_modules/.bin:/node_modules/.bin:/Users/mauko/.yarn/bin:/Users/mauko/.config/yarn/global/node_modules/.bin:/Users/mauko/Library/Android/sdk/platform-tools:/Users/mauko/Library/Android/sdk/tools:/Users/mauko/.bun/bin:/usr/local/Cellar/node/21.1.0/bin:/usr/local/opt/openjdk/bin:/usr/local/sbin:/Users/mauko/.rbenv/shims:/usr/local/opt/python@2/libexec/bin:/usr/local/lib/ruby/gems/3.3.0/bin:/usr/local/opt/ruby/bin:/Users/mauko/flutter/bin:/Users/mauko/.pyenv/shims:/usr/local/bin:/System/Cryptexes/App/usr/bin:/usr/bin:/bin:/usr/sbin:/sbin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/local/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/appleinternal/bin:/Library/Apple/usr/bin:/Users/mauko/.yarn/bin:/Users/mauko/.config/yarn/global/node_modules/.bin:/Users/mauko/Library/Android/sdk/platform-tools:/Users/mauko/Library/Android/sdk/tools:/Users/mauko/.bun/bin:/usr/local/Cellar/node/21.1.0/bin:/usr/local/opt/openjdk/bin:/usr/local/sbin:/Users/mauko/.rbenv/shims:/usr/local/opt/python@2/libexec/bin:/usr/local/lib/ruby/gems/3.3.0/bin:/usr/local/opt/ruby/bin:/Users/mauko/flutter/bin:/Users/mauko/.cargo/bin:/Users/mauko/.orbstack/bin:/Users/mauko/.composer/vendor/bin:/Users/mauko/.pub-cache/bin:/Users/mauko/Library/Android/sdk/emulator:/opt/homebrew/opt/postgresql@15/bin:/Users/mauko/.orbstack/bin:/Users/mauko/.composer/vendor/bin:/Users/mauko/.pub-cache/bin:/Users/mauko/Library/Android/sdk/emulator:/opt/homebrew/opt/postgresql@15/bin",npm_package_json:"/Users/mauko/Projects/Edwin/otter/packages/telemed-intake/app/package.json",__CFBundleIdentifier:"com.microsoft.VSCode",USER_ZDOTDIR:"/Users/mauko",PWD:"/Users/mauko/Projects/Edwin/otter/packages/telemed-intake/app",npm_lifecycle_event:"build",LANG:"en_US.UTF-8",npm_package_name:"telemed-intake-app",NODE_PATH:"/Users/mauko/Projects/Edwin/otter/node_modules/.pnpm/vite@4.5.3_@types+node@18.19.42_terser@5.31.3/node_modules/vite/bin/node_modules:/Users/mauko/Projects/Edwin/otter/node_modules/.pnpm/vite@4.5.3_@types+node@18.19.42_terser@5.31.3/node_modules/vite/node_modules:/Users/mauko/Projects/Edwin/otter/node_modules/.pnpm/vite@4.5.3_@types+node@18.19.42_terser@5.31.3/node_modules:/Users/mauko/Projects/Edwin/otter/node_modules/.pnpm/node_modules",XPC_FLAGS:"0x0",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"",NODE_ENV:"production",RBENV_SHELL:"zsh",XPC_SERVICE_NAME:"0",npm_package_version:"0.7.0",VSCODE_INJECTION:"1",HOME:"/Users/mauko",SHLVL:"2",VSCODE_GIT_ASKPASS_MAIN:"/Applications/Visual Studio Code.app/Contents/Resources/app/extensions/git/dist/askpass-main.js",LOGNAME:"mauko",LESS:"-R",VSCODE_GIT_IPC_HANDLE:"/var/folders/tj/kmmwgxxx4jjcnprg4ln4fb4m0000gp/T/vscode-git-7a782488e5.sock",BUN_INSTALL:"/Users/mauko/.bun",npm_config_user_agent:"bun/1.1.27 npm/? node/v22.6.0 darwin x64",GIT_ASKPASS:"/Applications/Visual Studio Code.app/Contents/Resources/app/extensions/git/dist/askpass.sh",VSCODE_GIT_ASKPASS_NODE:"/Applications/Visual Studio Code.app/Contents/Frameworks/Code Helper (Plugin).app/Contents/MacOS/Code Helper (Plugin)",COLORTERM:"truecolor",npm_node_execpath:"/usr/local/bin/node",VITE_USER_NODE_ENV:"development",SENTRY_PIPELINE:"vite-plugin/2.21.1"}.SC_ATTR)||"data-styled",C=typeof window<"u"&&"HTMLElement"in window,I=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&{TERM_PROGRAM:"vscode",NODE:"/usr/local/bin/node",ANDROID_HOME:"/Users/mauko/Library/Android/sdk",SHELL:"/bin/zsh",TERM:"xterm-256color",TMPDIR:"/var/folders/tj/kmmwgxxx4jjcnprg4ln4fb4m0000gp/T/",TERM_PROGRAM_VERSION:"1.93.1",MallocNanoZone:"0",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",ZDOTDIR:"/Users/mauko",ZSH:"/Users/mauko/.oh-my-zsh",npm_config_local_prefix:"/Users/mauko/Projects/Edwin/otter/packages/telemed-intake/app/",USER:"mauko",LS_COLORS:"di=1;36:ln=35:so=32:pi=33:ex=31:bd=34;46:cd=34;43:su=30;41:sg=30;46:tw=30;42:ow=30;43",COMMAND_MODE:"unix2003",CHROME_EXECUTABLE:"/Applications/Opera.app/Contents/MacOS/Opera",SSH_AUTH_SOCK:"/private/tmp/com.apple.launchd.nnqjh72rzb/Listeners",__CF_USER_TEXT_ENCODING:"0x1F6:0x0:0x0",npm_execpath:"/usr/local/Cellar/bun/1.1.27/bin/bun",PAGER:"less",LSCOLORS:"Gxfxcxdxbxegedabagacad",PATH:"/Users/mauko/Projects/Edwin/otter/packages/telemed-intake/app/node_modules/.bin:/Users/mauko/Projects/Edwin/otter/packages/telemed-intake/app/node_modules/.bin:/Users/mauko/Projects/Edwin/otter/packages/telemed-intake/node_modules/.bin:/Users/mauko/Projects/Edwin/otter/packages/node_modules/.bin:/Users/mauko/Projects/Edwin/otter/node_modules/.bin:/Users/mauko/Projects/Edwin/node_modules/.bin:/Users/mauko/Projects/node_modules/.bin:/Users/mauko/node_modules/.bin:/Users/node_modules/.bin:/node_modules/.bin:/Users/mauko/.yarn/bin:/Users/mauko/.config/yarn/global/node_modules/.bin:/Users/mauko/Library/Android/sdk/platform-tools:/Users/mauko/Library/Android/sdk/tools:/Users/mauko/.bun/bin:/usr/local/Cellar/node/21.1.0/bin:/usr/local/opt/openjdk/bin:/usr/local/sbin:/Users/mauko/.rbenv/shims:/usr/local/opt/python@2/libexec/bin:/usr/local/lib/ruby/gems/3.3.0/bin:/usr/local/opt/ruby/bin:/Users/mauko/flutter/bin:/Users/mauko/.pyenv/shims:/usr/local/bin:/System/Cryptexes/App/usr/bin:/usr/bin:/bin:/usr/sbin:/sbin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/local/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/appleinternal/bin:/Library/Apple/usr/bin:/Users/mauko/.yarn/bin:/Users/mauko/.config/yarn/global/node_modules/.bin:/Users/mauko/Library/Android/sdk/platform-tools:/Users/mauko/Library/Android/sdk/tools:/Users/mauko/.bun/bin:/usr/local/Cellar/node/21.1.0/bin:/usr/local/opt/openjdk/bin:/usr/local/sbin:/Users/mauko/.rbenv/shims:/usr/local/opt/python@2/libexec/bin:/usr/local/lib/ruby/gems/3.3.0/bin:/usr/local/opt/ruby/bin:/Users/mauko/flutter/bin:/Users/mauko/.cargo/bin:/Users/mauko/.orbstack/bin:/Users/mauko/.composer/vendor/bin:/Users/mauko/.pub-cache/bin:/Users/mauko/Library/Android/sdk/emulator:/opt/homebrew/opt/postgresql@15/bin:/Users/mauko/.orbstack/bin:/Users/mauko/.composer/vendor/bin:/Users/mauko/.pub-cache/bin:/Users/mauko/Library/Android/sdk/emulator:/opt/homebrew/opt/postgresql@15/bin",npm_package_json:"/Users/mauko/Projects/Edwin/otter/packages/telemed-intake/app/package.json",__CFBundleIdentifier:"com.microsoft.VSCode",USER_ZDOTDIR:"/Users/mauko",PWD:"/Users/mauko/Projects/Edwin/otter/packages/telemed-intake/app",npm_lifecycle_event:"build",LANG:"en_US.UTF-8",npm_package_name:"telemed-intake-app",NODE_PATH:"/Users/mauko/Projects/Edwin/otter/node_modules/.pnpm/vite@4.5.3_@types+node@18.19.42_terser@5.31.3/node_modules/vite/bin/node_modules:/Users/mauko/Projects/Edwin/otter/node_modules/.pnpm/vite@4.5.3_@types+node@18.19.42_terser@5.31.3/node_modules/vite/node_modules:/Users/mauko/Projects/Edwin/otter/node_modules/.pnpm/vite@4.5.3_@types+node@18.19.42_terser@5.31.3/node_modules:/Users/mauko/Projects/Edwin/otter/node_modules/.pnpm/node_modules",XPC_FLAGS:"0x0",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"",NODE_ENV:"production",RBENV_SHELL:"zsh",XPC_SERVICE_NAME:"0",npm_package_version:"0.7.0",VSCODE_INJECTION:"1",HOME:"/Users/mauko",SHLVL:"2",VSCODE_GIT_ASKPASS_MAIN:"/Applications/Visual Studio Code.app/Contents/Resources/app/extensions/git/dist/askpass-main.js",LOGNAME:"mauko",LESS:"-R",VSCODE_GIT_IPC_HANDLE:"/var/folders/tj/kmmwgxxx4jjcnprg4ln4fb4m0000gp/T/vscode-git-7a782488e5.sock",BUN_INSTALL:"/Users/mauko/.bun",npm_config_user_agent:"bun/1.1.27 npm/? node/v22.6.0 darwin x64",GIT_ASKPASS:"/Applications/Visual Studio Code.app/Contents/Resources/app/extensions/git/dist/askpass.sh",VSCODE_GIT_ASKPASS_NODE:"/Applications/Visual Studio Code.app/Contents/Frameworks/Code Helper (Plugin).app/Contents/MacOS/Code Helper (Plugin)",COLORTERM:"truecolor",npm_node_execpath:"/usr/local/bin/node",VITE_USER_NODE_ENV:"development",SENTRY_PIPELINE:"vite-plugin/2.21.1"}!==void 0&&({TERM_PROGRAM:"vscode",NODE:"/usr/local/bin/node",ANDROID_HOME:"/Users/mauko/Library/Android/sdk",SHELL:"/bin/zsh",TERM:"xterm-256color",TMPDIR:"/var/folders/tj/kmmwgxxx4jjcnprg4ln4fb4m0000gp/T/",TERM_PROGRAM_VERSION:"1.93.1",MallocNanoZone:"0",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",ZDOTDIR:"/Users/mauko",ZSH:"/Users/mauko/.oh-my-zsh",npm_config_local_prefix:"/Users/mauko/Projects/Edwin/otter/packages/telemed-intake/app/",USER:"mauko",LS_COLORS:"di=1;36:ln=35:so=32:pi=33:ex=31:bd=34;46:cd=34;43:su=30;41:sg=30;46:tw=30;42:ow=30;43",COMMAND_MODE:"unix2003",CHROME_EXECUTABLE:"/Applications/Opera.app/Contents/MacOS/Opera",SSH_AUTH_SOCK:"/private/tmp/com.apple.launchd.nnqjh72rzb/Listeners",__CF_USER_TEXT_ENCODING:"0x1F6:0x0:0x0",npm_execpath:"/usr/local/Cellar/bun/1.1.27/bin/bun",PAGER:"less",LSCOLORS:"Gxfxcxdxbxegedabagacad",PATH:"/Users/mauko/Projects/Edwin/otter/packages/telemed-intake/app/node_modules/.bin:/Users/mauko/Projects/Edwin/otter/packages/telemed-intake/app/node_modules/.bin:/Users/mauko/Projects/Edwin/otter/packages/telemed-intake/node_modules/.bin:/Users/mauko/Projects/Edwin/otter/packages/node_modules/.bin:/Users/mauko/Projects/Edwin/otter/node_modules/.bin:/Users/mauko/Projects/Edwin/node_modules/.bin:/Users/mauko/Projects/node_modules/.bin:/Users/mauko/node_modules/.bin:/Users/node_modules/.bin:/node_modules/.bin:/Users/mauko/.yarn/bin:/Users/mauko/.config/yarn/global/node_modules/.bin:/Users/mauko/Library/Android/sdk/platform-tools:/Users/mauko/Library/Android/sdk/tools:/Users/mauko/.bun/bin:/usr/local/Cellar/node/21.1.0/bin:/usr/local/opt/openjdk/bin:/usr/local/sbin:/Users/mauko/.rbenv/shims:/usr/local/opt/python@2/libexec/bin:/usr/local/lib/ruby/gems/3.3.0/bin:/usr/local/opt/ruby/bin:/Users/mauko/flutter/bin:/Users/mauko/.pyenv/shims:/usr/local/bin:/System/Cryptexes/App/usr/bin:/usr/bin:/bin:/usr/sbin:/sbin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/local/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/appleinternal/bin:/Library/Apple/usr/bin:/Users/mauko/.yarn/bin:/Users/mauko/.config/yarn/global/node_modules/.bin:/Users/mauko/Library/Android/sdk/platform-tools:/Users/mauko/Library/Android/sdk/tools:/Users/mauko/.bun/bin:/usr/local/Cellar/node/21.1.0/bin:/usr/local/opt/openjdk/bin:/usr/local/sbin:/Users/mauko/.rbenv/shims:/usr/local/opt/python@2/libexec/bin:/usr/local/lib/ruby/gems/3.3.0/bin:/usr/local/opt/ruby/bin:/Users/mauko/flutter/bin:/Users/mauko/.cargo/bin:/Users/mauko/.orbstack/bin:/Users/mauko/.composer/vendor/bin:/Users/mauko/.pub-cache/bin:/Users/mauko/Library/Android/sdk/emulator:/opt/homebrew/opt/postgresql@15/bin:/Users/mauko/.orbstack/bin:/Users/mauko/.composer/vendor/bin:/Users/mauko/.pub-cache/bin:/Users/mauko/Library/Android/sdk/emulator:/opt/homebrew/opt/postgresql@15/bin",npm_package_json:"/Users/mauko/Projects/Edwin/otter/packages/telemed-intake/app/package.json",__CFBundleIdentifier:"com.microsoft.VSCode",USER_ZDOTDIR:"/Users/mauko",PWD:"/Users/mauko/Projects/Edwin/otter/packages/telemed-intake/app",npm_lifecycle_event:"build",LANG:"en_US.UTF-8",npm_package_name:"telemed-intake-app",NODE_PATH:"/Users/mauko/Projects/Edwin/otter/node_modules/.pnpm/vite@4.5.3_@types+node@18.19.42_terser@5.31.3/node_modules/vite/bin/node_modules:/Users/mauko/Projects/Edwin/otter/node_modules/.pnpm/vite@4.5.3_@types+node@18.19.42_terser@5.31.3/node_modules/vite/node_modules:/Users/mauko/Projects/Edwin/otter/node_modules/.pnpm/vite@4.5.3_@types+node@18.19.42_terser@5.31.3/node_modules:/Users/mauko/Projects/Edwin/otter/node_modules/.pnpm/node_modules",XPC_FLAGS:"0x0",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"",NODE_ENV:"production",RBENV_SHELL:"zsh",XPC_SERVICE_NAME:"0",npm_package_version:"0.7.0",VSCODE_INJECTION:"1",HOME:"/Users/mauko",SHLVL:"2",VSCODE_GIT_ASKPASS_MAIN:"/Applications/Visual Studio Code.app/Contents/Resources/app/extensions/git/dist/askpass-main.js",LOGNAME:"mauko",LESS:"-R",VSCODE_GIT_IPC_HANDLE:"/var/folders/tj/kmmwgxxx4jjcnprg4ln4fb4m0000gp/T/vscode-git-7a782488e5.sock",BUN_INSTALL:"/Users/mauko/.bun",npm_config_user_agent:"bun/1.1.27 npm/? node/v22.6.0 darwin x64",GIT_ASKPASS:"/Applications/Visual Studio Code.app/Contents/Resources/app/extensions/git/dist/askpass.sh",VSCODE_GIT_ASKPASS_NODE:"/Applications/Visual Studio Code.app/Contents/Frameworks/Code Helper (Plugin).app/Contents/MacOS/Code Helper (Plugin)",COLORTERM:"truecolor",npm_node_execpath:"/usr/local/bin/node",VITE_USER_NODE_ENV:"development",SENTRY_PIPELINE:"vite-plugin/2.21.1"}.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&{TERM_PROGRAM:"vscode",NODE:"/usr/local/bin/node",ANDROID_HOME:"/Users/mauko/Library/Android/sdk",SHELL:"/bin/zsh",TERM:"xterm-256color",TMPDIR:"/var/folders/tj/kmmwgxxx4jjcnprg4ln4fb4m0000gp/T/",TERM_PROGRAM_VERSION:"1.93.1",MallocNanoZone:"0",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",ZDOTDIR:"/Users/mauko",ZSH:"/Users/mauko/.oh-my-zsh",npm_config_local_prefix:"/Users/mauko/Projects/Edwin/otter/packages/telemed-intake/app/",USER:"mauko",LS_COLORS:"di=1;36:ln=35:so=32:pi=33:ex=31:bd=34;46:cd=34;43:su=30;41:sg=30;46:tw=30;42:ow=30;43",COMMAND_MODE:"unix2003",CHROME_EXECUTABLE:"/Applications/Opera.app/Contents/MacOS/Opera",SSH_AUTH_SOCK:"/private/tmp/com.apple.launchd.nnqjh72rzb/Listeners",__CF_USER_TEXT_ENCODING:"0x1F6:0x0:0x0",npm_execpath:"/usr/local/Cellar/bun/1.1.27/bin/bun",PAGER:"less",LSCOLORS:"Gxfxcxdxbxegedabagacad",PATH:"/Users/mauko/Projects/Edwin/otter/packages/telemed-intake/app/node_modules/.bin:/Users/mauko/Projects/Edwin/otter/packages/telemed-intake/app/node_modules/.bin:/Users/mauko/Projects/Edwin/otter/packages/telemed-intake/node_modules/.bin:/Users/mauko/Projects/Edwin/otter/packages/node_modules/.bin:/Users/mauko/Projects/Edwin/otter/node_modules/.bin:/Users/mauko/Projects/Edwin/node_modules/.bin:/Users/mauko/Projects/node_modules/.bin:/Users/mauko/node_modules/.bin:/Users/node_modules/.bin:/node_modules/.bin:/Users/mauko/.yarn/bin:/Users/mauko/.config/yarn/global/node_modules/.bin:/Users/mauko/Library/Android/sdk/platform-tools:/Users/mauko/Library/Android/sdk/tools:/Users/mauko/.bun/bin:/usr/local/Cellar/node/21.1.0/bin:/usr/local/opt/openjdk/bin:/usr/local/sbin:/Users/mauko/.rbenv/shims:/usr/local/opt/python@2/libexec/bin:/usr/local/lib/ruby/gems/3.3.0/bin:/usr/local/opt/ruby/bin:/Users/mauko/flutter/bin:/Users/mauko/.pyenv/shims:/usr/local/bin:/System/Cryptexes/App/usr/bin:/usr/bin:/bin:/usr/sbin:/sbin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/local/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/appleinternal/bin:/Library/Apple/usr/bin:/Users/mauko/.yarn/bin:/Users/mauko/.config/yarn/global/node_modules/.bin:/Users/mauko/Library/Android/sdk/platform-tools:/Users/mauko/Library/Android/sdk/tools:/Users/mauko/.bun/bin:/usr/local/Cellar/node/21.1.0/bin:/usr/local/opt/openjdk/bin:/usr/local/sbin:/Users/mauko/.rbenv/shims:/usr/local/opt/python@2/libexec/bin:/usr/local/lib/ruby/gems/3.3.0/bin:/usr/local/opt/ruby/bin:/Users/mauko/flutter/bin:/Users/mauko/.cargo/bin:/Users/mauko/.orbstack/bin:/Users/mauko/.composer/vendor/bin:/Users/mauko/.pub-cache/bin:/Users/mauko/Library/Android/sdk/emulator:/opt/homebrew/opt/postgresql@15/bin:/Users/mauko/.orbstack/bin:/Users/mauko/.composer/vendor/bin:/Users/mauko/.pub-cache/bin:/Users/mauko/Library/Android/sdk/emulator:/opt/homebrew/opt/postgresql@15/bin",npm_package_json:"/Users/mauko/Projects/Edwin/otter/packages/telemed-intake/app/package.json",__CFBundleIdentifier:"com.microsoft.VSCode",USER_ZDOTDIR:"/Users/mauko",PWD:"/Users/mauko/Projects/Edwin/otter/packages/telemed-intake/app",npm_lifecycle_event:"build",LANG:"en_US.UTF-8",npm_package_name:"telemed-intake-app",NODE_PATH:"/Users/mauko/Projects/Edwin/otter/node_modules/.pnpm/vite@4.5.3_@types+node@18.19.42_terser@5.31.3/node_modules/vite/bin/node_modules:/Users/mauko/Projects/Edwin/otter/node_modules/.pnpm/vite@4.5.3_@types+node@18.19.42_terser@5.31.3/node_modules/vite/node_modules:/Users/mauko/Projects/Edwin/otter/node_modules/.pnpm/vite@4.5.3_@types+node@18.19.42_terser@5.31.3/node_modules:/Users/mauko/Projects/Edwin/otter/node_modules/.pnpm/node_modules",XPC_FLAGS:"0x0",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"",NODE_ENV:"production",RBENV_SHELL:"zsh",XPC_SERVICE_NAME:"0",npm_package_version:"0.7.0",VSCODE_INJECTION:"1",HOME:"/Users/mauko",SHLVL:"2",VSCODE_GIT_ASKPASS_MAIN:"/Applications/Visual Studio Code.app/Contents/Resources/app/extensions/git/dist/askpass-main.js",LOGNAME:"mauko",LESS:"-R",VSCODE_GIT_IPC_HANDLE:"/var/folders/tj/kmmwgxxx4jjcnprg4ln4fb4m0000gp/T/vscode-git-7a782488e5.sock",BUN_INSTALL:"/Users/mauko/.bun",npm_config_user_agent:"bun/1.1.27 npm/? node/v22.6.0 darwin x64",GIT_ASKPASS:"/Applications/Visual Studio Code.app/Contents/Resources/app/extensions/git/dist/askpass.sh",VSCODE_GIT_ASKPASS_NODE:"/Applications/Visual Studio Code.app/Contents/Frameworks/Code Helper (Plugin).app/Contents/MacOS/Code Helper (Plugin)",COLORTERM:"truecolor",npm_node_execpath:"/usr/local/bin/node",VITE_USER_NODE_ENV:"development",SENTRY_PIPELINE:"vite-plugin/2.21.1"}.REACT_APP_SC_DISABLE_SPEEDY!==""?{TERM_PROGRAM:"vscode",NODE:"/usr/local/bin/node",ANDROID_HOME:"/Users/mauko/Library/Android/sdk",SHELL:"/bin/zsh",TERM:"xterm-256color",TMPDIR:"/var/folders/tj/kmmwgxxx4jjcnprg4ln4fb4m0000gp/T/",TERM_PROGRAM_VERSION:"1.93.1",MallocNanoZone:"0",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",ZDOTDIR:"/Users/mauko",ZSH:"/Users/mauko/.oh-my-zsh",npm_config_local_prefix:"/Users/mauko/Projects/Edwin/otter/packages/telemed-intake/app/",USER:"mauko",LS_COLORS:"di=1;36:ln=35:so=32:pi=33:ex=31:bd=34;46:cd=34;43:su=30;41:sg=30;46:tw=30;42:ow=30;43",COMMAND_MODE:"unix2003",CHROME_EXECUTABLE:"/Applications/Opera.app/Contents/MacOS/Opera",SSH_AUTH_SOCK:"/private/tmp/com.apple.launchd.nnqjh72rzb/Listeners",__CF_USER_TEXT_ENCODING:"0x1F6:0x0:0x0",npm_execpath:"/usr/local/Cellar/bun/1.1.27/bin/bun",PAGER:"less",LSCOLORS:"Gxfxcxdxbxegedabagacad",PATH:"/Users/mauko/Projects/Edwin/otter/packages/telemed-intake/app/node_modules/.bin:/Users/mauko/Projects/Edwin/otter/packages/telemed-intake/app/node_modules/.bin:/Users/mauko/Projects/Edwin/otter/packages/telemed-intake/node_modules/.bin:/Users/mauko/Projects/Edwin/otter/packages/node_modules/.bin:/Users/mauko/Projects/Edwin/otter/node_modules/.bin:/Users/mauko/Projects/Edwin/node_modules/.bin:/Users/mauko/Projects/node_modules/.bin:/Users/mauko/node_modules/.bin:/Users/node_modules/.bin:/node_modules/.bin:/Users/mauko/.yarn/bin:/Users/mauko/.config/yarn/global/node_modules/.bin:/Users/mauko/Library/Android/sdk/platform-tools:/Users/mauko/Library/Android/sdk/tools:/Users/mauko/.bun/bin:/usr/local/Cellar/node/21.1.0/bin:/usr/local/opt/openjdk/bin:/usr/local/sbin:/Users/mauko/.rbenv/shims:/usr/local/opt/python@2/libexec/bin:/usr/local/lib/ruby/gems/3.3.0/bin:/usr/local/opt/ruby/bin:/Users/mauko/flutter/bin:/Users/mauko/.pyenv/shims:/usr/local/bin:/System/Cryptexes/App/usr/bin:/usr/bin:/bin:/usr/sbin:/sbin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/local/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/appleinternal/bin:/Library/Apple/usr/bin:/Users/mauko/.yarn/bin:/Users/mauko/.config/yarn/global/node_modules/.bin:/Users/mauko/Library/Android/sdk/platform-tools:/Users/mauko/Library/Android/sdk/tools:/Users/mauko/.bun/bin:/usr/local/Cellar/node/21.1.0/bin:/usr/local/opt/openjdk/bin:/usr/local/sbin:/Users/mauko/.rbenv/shims:/usr/local/opt/python@2/libexec/bin:/usr/local/lib/ruby/gems/3.3.0/bin:/usr/local/opt/ruby/bin:/Users/mauko/flutter/bin:/Users/mauko/.cargo/bin:/Users/mauko/.orbstack/bin:/Users/mauko/.composer/vendor/bin:/Users/mauko/.pub-cache/bin:/Users/mauko/Library/Android/sdk/emulator:/opt/homebrew/opt/postgresql@15/bin:/Users/mauko/.orbstack/bin:/Users/mauko/.composer/vendor/bin:/Users/mauko/.pub-cache/bin:/Users/mauko/Library/Android/sdk/emulator:/opt/homebrew/opt/postgresql@15/bin",npm_package_json:"/Users/mauko/Projects/Edwin/otter/packages/telemed-intake/app/package.json",__CFBundleIdentifier:"com.microsoft.VSCode",USER_ZDOTDIR:"/Users/mauko",PWD:"/Users/mauko/Projects/Edwin/otter/packages/telemed-intake/app",npm_lifecycle_event:"build",LANG:"en_US.UTF-8",npm_package_name:"telemed-intake-app",NODE_PATH:"/Users/mauko/Projects/Edwin/otter/node_modules/.pnpm/vite@4.5.3_@types+node@18.19.42_terser@5.31.3/node_modules/vite/bin/node_modules:/Users/mauko/Projects/Edwin/otter/node_modules/.pnpm/vite@4.5.3_@types+node@18.19.42_terser@5.31.3/node_modules/vite/node_modules:/Users/mauko/Projects/Edwin/otter/node_modules/.pnpm/vite@4.5.3_@types+node@18.19.42_terser@5.31.3/node_modules:/Users/mauko/Projects/Edwin/otter/node_modules/.pnpm/node_modules",XPC_FLAGS:"0x0",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"",NODE_ENV:"production",RBENV_SHELL:"zsh",XPC_SERVICE_NAME:"0",npm_package_version:"0.7.0",VSCODE_INJECTION:"1",HOME:"/Users/mauko",SHLVL:"2",VSCODE_GIT_ASKPASS_MAIN:"/Applications/Visual Studio Code.app/Contents/Resources/app/extensions/git/dist/askpass-main.js",LOGNAME:"mauko",LESS:"-R",VSCODE_GIT_IPC_HANDLE:"/var/folders/tj/kmmwgxxx4jjcnprg4ln4fb4m0000gp/T/vscode-git-7a782488e5.sock",BUN_INSTALL:"/Users/mauko/.bun",npm_config_user_agent:"bun/1.1.27 npm/? node/v22.6.0 darwin x64",GIT_ASKPASS:"/Applications/Visual Studio Code.app/Contents/Resources/app/extensions/git/dist/askpass.sh",VSCODE_GIT_ASKPASS_NODE:"/Applications/Visual Studio Code.app/Contents/Frameworks/Code Helper (Plugin).app/Contents/MacOS/Code Helper (Plugin)",COLORTERM:"truecolor",npm_node_execpath:"/usr/local/bin/node",VITE_USER_NODE_ENV:"development",SENTRY_PIPELINE:"vite-plugin/2.21.1"}.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&{TERM_PROGRAM:"vscode",NODE:"/usr/local/bin/node",ANDROID_HOME:"/Users/mauko/Library/Android/sdk",SHELL:"/bin/zsh",TERM:"xterm-256color",TMPDIR:"/var/folders/tj/kmmwgxxx4jjcnprg4ln4fb4m0000gp/T/",TERM_PROGRAM_VERSION:"1.93.1",MallocNanoZone:"0",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",ZDOTDIR:"/Users/mauko",ZSH:"/Users/mauko/.oh-my-zsh",npm_config_local_prefix:"/Users/mauko/Projects/Edwin/otter/packages/telemed-intake/app/",USER:"mauko",LS_COLORS:"di=1;36:ln=35:so=32:pi=33:ex=31:bd=34;46:cd=34;43:su=30;41:sg=30;46:tw=30;42:ow=30;43",COMMAND_MODE:"unix2003",CHROME_EXECUTABLE:"/Applications/Opera.app/Contents/MacOS/Opera",SSH_AUTH_SOCK:"/private/tmp/com.apple.launchd.nnqjh72rzb/Listeners",__CF_USER_TEXT_ENCODING:"0x1F6:0x0:0x0",npm_execpath:"/usr/local/Cellar/bun/1.1.27/bin/bun",PAGER:"less",LSCOLORS:"Gxfxcxdxbxegedabagacad",PATH:"/Users/mauko/Projects/Edwin/otter/packages/telemed-intake/app/node_modules/.bin:/Users/mauko/Projects/Edwin/otter/packages/telemed-intake/app/node_modules/.bin:/Users/mauko/Projects/Edwin/otter/packages/telemed-intake/node_modules/.bin:/Users/mauko/Projects/Edwin/otter/packages/node_modules/.bin:/Users/mauko/Projects/Edwin/otter/node_modules/.bin:/Users/mauko/Projects/Edwin/node_modules/.bin:/Users/mauko/Projects/node_modules/.bin:/Users/mauko/node_modules/.bin:/Users/node_modules/.bin:/node_modules/.bin:/Users/mauko/.yarn/bin:/Users/mauko/.config/yarn/global/node_modules/.bin:/Users/mauko/Library/Android/sdk/platform-tools:/Users/mauko/Library/Android/sdk/tools:/Users/mauko/.bun/bin:/usr/local/Cellar/node/21.1.0/bin:/usr/local/opt/openjdk/bin:/usr/local/sbin:/Users/mauko/.rbenv/shims:/usr/local/opt/python@2/libexec/bin:/usr/local/lib/ruby/gems/3.3.0/bin:/usr/local/opt/ruby/bin:/Users/mauko/flutter/bin:/Users/mauko/.pyenv/shims:/usr/local/bin:/System/Cryptexes/App/usr/bin:/usr/bin:/bin:/usr/sbin:/sbin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/local/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/appleinternal/bin:/Library/Apple/usr/bin:/Users/mauko/.yarn/bin:/Users/mauko/.config/yarn/global/node_modules/.bin:/Users/mauko/Library/Android/sdk/platform-tools:/Users/mauko/Library/Android/sdk/tools:/Users/mauko/.bun/bin:/usr/local/Cellar/node/21.1.0/bin:/usr/local/opt/openjdk/bin:/usr/local/sbin:/Users/mauko/.rbenv/shims:/usr/local/opt/python@2/libexec/bin:/usr/local/lib/ruby/gems/3.3.0/bin:/usr/local/opt/ruby/bin:/Users/mauko/flutter/bin:/Users/mauko/.cargo/bin:/Users/mauko/.orbstack/bin:/Users/mauko/.composer/vendor/bin:/Users/mauko/.pub-cache/bin:/Users/mauko/Library/Android/sdk/emulator:/opt/homebrew/opt/postgresql@15/bin:/Users/mauko/.orbstack/bin:/Users/mauko/.composer/vendor/bin:/Users/mauko/.pub-cache/bin:/Users/mauko/Library/Android/sdk/emulator:/opt/homebrew/opt/postgresql@15/bin",npm_package_json:"/Users/mauko/Projects/Edwin/otter/packages/telemed-intake/app/package.json",__CFBundleIdentifier:"com.microsoft.VSCode",USER_ZDOTDIR:"/Users/mauko",PWD:"/Users/mauko/Projects/Edwin/otter/packages/telemed-intake/app",npm_lifecycle_event:"build",LANG:"en_US.UTF-8",npm_package_name:"telemed-intake-app",NODE_PATH:"/Users/mauko/Projects/Edwin/otter/node_modules/.pnpm/vite@4.5.3_@types+node@18.19.42_terser@5.31.3/node_modules/vite/bin/node_modules:/Users/mauko/Projects/Edwin/otter/node_modules/.pnpm/vite@4.5.3_@types+node@18.19.42_terser@5.31.3/node_modules/vite/node_modules:/Users/mauko/Projects/Edwin/otter/node_modules/.pnpm/vite@4.5.3_@types+node@18.19.42_terser@5.31.3/node_modules:/Users/mauko/Projects/Edwin/otter/node_modules/.pnpm/node_modules",XPC_FLAGS:"0x0",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"",NODE_ENV:"production",RBENV_SHELL:"zsh",XPC_SERVICE_NAME:"0",npm_package_version:"0.7.0",VSCODE_INJECTION:"1",HOME:"/Users/mauko",SHLVL:"2",VSCODE_GIT_ASKPASS_MAIN:"/Applications/Visual Studio Code.app/Contents/Resources/app/extensions/git/dist/askpass-main.js",LOGNAME:"mauko",LESS:"-R",VSCODE_GIT_IPC_HANDLE:"/var/folders/tj/kmmwgxxx4jjcnprg4ln4fb4m0000gp/T/vscode-git-7a782488e5.sock",BUN_INSTALL:"/Users/mauko/.bun",npm_config_user_agent:"bun/1.1.27 npm/? node/v22.6.0 darwin x64",GIT_ASKPASS:"/Applications/Visual Studio Code.app/Contents/Resources/app/extensions/git/dist/askpass.sh",VSCODE_GIT_ASKPASS_NODE:"/Applications/Visual Studio Code.app/Contents/Frameworks/Code Helper (Plugin).app/Contents/MacOS/Code Helper (Plugin)",COLORTERM:"truecolor",npm_node_execpath:"/usr/local/bin/node",VITE_USER_NODE_ENV:"development",SENTRY_PIPELINE:"vite-plugin/2.21.1"}.REACT_APP_SC_DISABLE_SPEEDY:{TERM_PROGRAM:"vscode",NODE:"/usr/local/bin/node",ANDROID_HOME:"/Users/mauko/Library/Android/sdk",SHELL:"/bin/zsh",TERM:"xterm-256color",TMPDIR:"/var/folders/tj/kmmwgxxx4jjcnprg4ln4fb4m0000gp/T/",TERM_PROGRAM_VERSION:"1.93.1",MallocNanoZone:"0",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",ZDOTDIR:"/Users/mauko",ZSH:"/Users/mauko/.oh-my-zsh",npm_config_local_prefix:"/Users/mauko/Projects/Edwin/otter/packages/telemed-intake/app/",USER:"mauko",LS_COLORS:"di=1;36:ln=35:so=32:pi=33:ex=31:bd=34;46:cd=34;43:su=30;41:sg=30;46:tw=30;42:ow=30;43",COMMAND_MODE:"unix2003",CHROME_EXECUTABLE:"/Applications/Opera.app/Contents/MacOS/Opera",SSH_AUTH_SOCK:"/private/tmp/com.apple.launchd.nnqjh72rzb/Listeners",__CF_USER_TEXT_ENCODING:"0x1F6:0x0:0x0",npm_execpath:"/usr/local/Cellar/bun/1.1.27/bin/bun",PAGER:"less",LSCOLORS:"Gxfxcxdxbxegedabagacad",PATH:"/Users/mauko/Projects/Edwin/otter/packages/telemed-intake/app/node_modules/.bin:/Users/mauko/Projects/Edwin/otter/packages/telemed-intake/app/node_modules/.bin:/Users/mauko/Projects/Edwin/otter/packages/telemed-intake/node_modules/.bin:/Users/mauko/Projects/Edwin/otter/packages/node_modules/.bin:/Users/mauko/Projects/Edwin/otter/node_modules/.bin:/Users/mauko/Projects/Edwin/node_modules/.bin:/Users/mauko/Projects/node_modules/.bin:/Users/mauko/node_modules/.bin:/Users/node_modules/.bin:/node_modules/.bin:/Users/mauko/.yarn/bin:/Users/mauko/.config/yarn/global/node_modules/.bin:/Users/mauko/Library/Android/sdk/platform-tools:/Users/mauko/Library/Android/sdk/tools:/Users/mauko/.bun/bin:/usr/local/Cellar/node/21.1.0/bin:/usr/local/opt/openjdk/bin:/usr/local/sbin:/Users/mauko/.rbenv/shims:/usr/local/opt/python@2/libexec/bin:/usr/local/lib/ruby/gems/3.3.0/bin:/usr/local/opt/ruby/bin:/Users/mauko/flutter/bin:/Users/mauko/.pyenv/shims:/usr/local/bin:/System/Cryptexes/App/usr/bin:/usr/bin:/bin:/usr/sbin:/sbin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/local/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/appleinternal/bin:/Library/Apple/usr/bin:/Users/mauko/.yarn/bin:/Users/mauko/.config/yarn/global/node_modules/.bin:/Users/mauko/Library/Android/sdk/platform-tools:/Users/mauko/Library/Android/sdk/tools:/Users/mauko/.bun/bin:/usr/local/Cellar/node/21.1.0/bin:/usr/local/opt/openjdk/bin:/usr/local/sbin:/Users/mauko/.rbenv/shims:/usr/local/opt/python@2/libexec/bin:/usr/local/lib/ruby/gems/3.3.0/bin:/usr/local/opt/ruby/bin:/Users/mauko/flutter/bin:/Users/mauko/.cargo/bin:/Users/mauko/.orbstack/bin:/Users/mauko/.composer/vendor/bin:/Users/mauko/.pub-cache/bin:/Users/mauko/Library/Android/sdk/emulator:/opt/homebrew/opt/postgresql@15/bin:/Users/mauko/.orbstack/bin:/Users/mauko/.composer/vendor/bin:/Users/mauko/.pub-cache/bin:/Users/mauko/Library/Android/sdk/emulator:/opt/homebrew/opt/postgresql@15/bin",npm_package_json:"/Users/mauko/Projects/Edwin/otter/packages/telemed-intake/app/package.json",__CFBundleIdentifier:"com.microsoft.VSCode",USER_ZDOTDIR:"/Users/mauko",PWD:"/Users/mauko/Projects/Edwin/otter/packages/telemed-intake/app",npm_lifecycle_event:"build",LANG:"en_US.UTF-8",npm_package_name:"telemed-intake-app",NODE_PATH:"/Users/mauko/Projects/Edwin/otter/node_modules/.pnpm/vite@4.5.3_@types+node@18.19.42_terser@5.31.3/node_modules/vite/bin/node_modules:/Users/mauko/Projects/Edwin/otter/node_modules/.pnpm/vite@4.5.3_@types+node@18.19.42_terser@5.31.3/node_modules/vite/node_modules:/Users/mauko/Projects/Edwin/otter/node_modules/.pnpm/vite@4.5.3_@types+node@18.19.42_terser@5.31.3/node_modules:/Users/mauko/Projects/Edwin/otter/node_modules/.pnpm/node_modules",XPC_FLAGS:"0x0",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"",NODE_ENV:"production",RBENV_SHELL:"zsh",XPC_SERVICE_NAME:"0",npm_package_version:"0.7.0",VSCODE_INJECTION:"1",HOME:"/Users/mauko",SHLVL:"2",VSCODE_GIT_ASKPASS_MAIN:"/Applications/Visual Studio Code.app/Contents/Resources/app/extensions/git/dist/askpass-main.js",LOGNAME:"mauko",LESS:"-R",VSCODE_GIT_IPC_HANDLE:"/var/folders/tj/kmmwgxxx4jjcnprg4ln4fb4m0000gp/T/vscode-git-7a782488e5.sock",BUN_INSTALL:"/Users/mauko/.bun",npm_config_user_agent:"bun/1.1.27 npm/? node/v22.6.0 darwin x64",GIT_ASKPASS:"/Applications/Visual Studio Code.app/Contents/Resources/app/extensions/git/dist/askpass.sh",VSCODE_GIT_ASKPASS_NODE:"/Applications/Visual Studio Code.app/Contents/Frameworks/Code Helper (Plugin).app/Contents/MacOS/Code Helper (Plugin)",COLORTERM:"truecolor",npm_node_execpath:"/usr/local/bin/node",VITE_USER_NODE_ENV:"development",SENTRY_PIPELINE:"vite-plugin/2.21.1"}.SC_DISABLE_SPEEDY!==void 0&&{TERM_PROGRAM:"vscode",NODE:"/usr/local/bin/node",ANDROID_HOME:"/Users/mauko/Library/Android/sdk",SHELL:"/bin/zsh",TERM:"xterm-256color",TMPDIR:"/var/folders/tj/kmmwgxxx4jjcnprg4ln4fb4m0000gp/T/",TERM_PROGRAM_VERSION:"1.93.1",MallocNanoZone:"0",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",ZDOTDIR:"/Users/mauko",ZSH:"/Users/mauko/.oh-my-zsh",npm_config_local_prefix:"/Users/mauko/Projects/Edwin/otter/packages/telemed-intake/app/",USER:"mauko",LS_COLORS:"di=1;36:ln=35:so=32:pi=33:ex=31:bd=34;46:cd=34;43:su=30;41:sg=30;46:tw=30;42:ow=30;43",COMMAND_MODE:"unix2003",CHROME_EXECUTABLE:"/Applications/Opera.app/Contents/MacOS/Opera",SSH_AUTH_SOCK:"/private/tmp/com.apple.launchd.nnqjh72rzb/Listeners",__CF_USER_TEXT_ENCODING:"0x1F6:0x0:0x0",npm_execpath:"/usr/local/Cellar/bun/1.1.27/bin/bun",PAGER:"less",LSCOLORS:"Gxfxcxdxbxegedabagacad",PATH:"/Users/mauko/Projects/Edwin/otter/packages/telemed-intake/app/node_modules/.bin:/Users/mauko/Projects/Edwin/otter/packages/telemed-intake/app/node_modules/.bin:/Users/mauko/Projects/Edwin/otter/packages/telemed-intake/node_modules/.bin:/Users/mauko/Projects/Edwin/otter/packages/node_modules/.bin:/Users/mauko/Projects/Edwin/otter/node_modules/.bin:/Users/mauko/Projects/Edwin/node_modules/.bin:/Users/mauko/Projects/node_modules/.bin:/Users/mauko/node_modules/.bin:/Users/node_modules/.bin:/node_modules/.bin:/Users/mauko/.yarn/bin:/Users/mauko/.config/yarn/global/node_modules/.bin:/Users/mauko/Library/Android/sdk/platform-tools:/Users/mauko/Library/Android/sdk/tools:/Users/mauko/.bun/bin:/usr/local/Cellar/node/21.1.0/bin:/usr/local/opt/openjdk/bin:/usr/local/sbin:/Users/mauko/.rbenv/shims:/usr/local/opt/python@2/libexec/bin:/usr/local/lib/ruby/gems/3.3.0/bin:/usr/local/opt/ruby/bin:/Users/mauko/flutter/bin:/Users/mauko/.pyenv/shims:/usr/local/bin:/System/Cryptexes/App/usr/bin:/usr/bin:/bin:/usr/sbin:/sbin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/local/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/appleinternal/bin:/Library/Apple/usr/bin:/Users/mauko/.yarn/bin:/Users/mauko/.config/yarn/global/node_modules/.bin:/Users/mauko/Library/Android/sdk/platform-tools:/Users/mauko/Library/Android/sdk/tools:/Users/mauko/.bun/bin:/usr/local/Cellar/node/21.1.0/bin:/usr/local/opt/openjdk/bin:/usr/local/sbin:/Users/mauko/.rbenv/shims:/usr/local/opt/python@2/libexec/bin:/usr/local/lib/ruby/gems/3.3.0/bin:/usr/local/opt/ruby/bin:/Users/mauko/flutter/bin:/Users/mauko/.cargo/bin:/Users/mauko/.orbstack/bin:/Users/mauko/.composer/vendor/bin:/Users/mauko/.pub-cache/bin:/Users/mauko/Library/Android/sdk/emulator:/opt/homebrew/opt/postgresql@15/bin:/Users/mauko/.orbstack/bin:/Users/mauko/.composer/vendor/bin:/Users/mauko/.pub-cache/bin:/Users/mauko/Library/Android/sdk/emulator:/opt/homebrew/opt/postgresql@15/bin",npm_package_json:"/Users/mauko/Projects/Edwin/otter/packages/telemed-intake/app/package.json",__CFBundleIdentifier:"com.microsoft.VSCode",USER_ZDOTDIR:"/Users/mauko",PWD:"/Users/mauko/Projects/Edwin/otter/packages/telemed-intake/app",npm_lifecycle_event:"build",LANG:"en_US.UTF-8",npm_package_name:"telemed-intake-app",NODE_PATH:"/Users/mauko/Projects/Edwin/otter/node_modules/.pnpm/vite@4.5.3_@types+node@18.19.42_terser@5.31.3/node_modules/vite/bin/node_modules:/Users/mauko/Projects/Edwin/otter/node_modules/.pnpm/vite@4.5.3_@types+node@18.19.42_terser@5.31.3/node_modules/vite/node_modules:/Users/mauko/Projects/Edwin/otter/node_modules/.pnpm/vite@4.5.3_@types+node@18.19.42_terser@5.31.3/node_modules:/Users/mauko/Projects/Edwin/otter/node_modules/.pnpm/node_modules",XPC_FLAGS:"0x0",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"",NODE_ENV:"production",RBENV_SHELL:"zsh",XPC_SERVICE_NAME:"0",npm_package_version:"0.7.0",VSCODE_INJECTION:"1",HOME:"/Users/mauko",SHLVL:"2",VSCODE_GIT_ASKPASS_MAIN:"/Applications/Visual Studio Code.app/Contents/Resources/app/extensions/git/dist/askpass-main.js",LOGNAME:"mauko",LESS:"-R",VSCODE_GIT_IPC_HANDLE:"/var/folders/tj/kmmwgxxx4jjcnprg4ln4fb4m0000gp/T/vscode-git-7a782488e5.sock",BUN_INSTALL:"/Users/mauko/.bun",npm_config_user_agent:"bun/1.1.27 npm/? node/v22.6.0 darwin x64",GIT_ASKPASS:"/Applications/Visual Studio Code.app/Contents/Resources/app/extensions/git/dist/askpass.sh",VSCODE_GIT_ASKPASS_NODE:"/Applications/Visual Studio Code.app/Contents/Frameworks/Code Helper (Plugin).app/Contents/MacOS/Code Helper (Plugin)",COLORTERM:"truecolor",npm_node_execpath:"/usr/local/bin/node",VITE_USER_NODE_ENV:"development",SENTRY_PIPELINE:"vite-plugin/2.21.1"}.SC_DISABLE_SPEEDY!==""&&{TERM_PROGRAM:"vscode",NODE:"/usr/local/bin/node",ANDROID_HOME:"/Users/mauko/Library/Android/sdk",SHELL:"/bin/zsh",TERM:"xterm-256color",TMPDIR:"/var/folders/tj/kmmwgxxx4jjcnprg4ln4fb4m0000gp/T/",TERM_PROGRAM_VERSION:"1.93.1",MallocNanoZone:"0",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",ZDOTDIR:"/Users/mauko",ZSH:"/Users/mauko/.oh-my-zsh",npm_config_local_prefix:"/Users/mauko/Projects/Edwin/otter/packages/telemed-intake/app/",USER:"mauko",LS_COLORS:"di=1;36:ln=35:so=32:pi=33:ex=31:bd=34;46:cd=34;43:su=30;41:sg=30;46:tw=30;42:ow=30;43",COMMAND_MODE:"unix2003",CHROME_EXECUTABLE:"/Applications/Opera.app/Contents/MacOS/Opera",SSH_AUTH_SOCK:"/private/tmp/com.apple.launchd.nnqjh72rzb/Listeners",__CF_USER_TEXT_ENCODING:"0x1F6:0x0:0x0",npm_execpath:"/usr/local/Cellar/bun/1.1.27/bin/bun",PAGER:"less",LSCOLORS:"Gxfxcxdxbxegedabagacad",PATH:"/Users/mauko/Projects/Edwin/otter/packages/telemed-intake/app/node_modules/.bin:/Users/mauko/Projects/Edwin/otter/packages/telemed-intake/app/node_modules/.bin:/Users/mauko/Projects/Edwin/otter/packages/telemed-intake/node_modules/.bin:/Users/mauko/Projects/Edwin/otter/packages/node_modules/.bin:/Users/mauko/Projects/Edwin/otter/node_modules/.bin:/Users/mauko/Projects/Edwin/node_modules/.bin:/Users/mauko/Projects/node_modules/.bin:/Users/mauko/node_modules/.bin:/Users/node_modules/.bin:/node_modules/.bin:/Users/mauko/.yarn/bin:/Users/mauko/.config/yarn/global/node_modules/.bin:/Users/mauko/Library/Android/sdk/platform-tools:/Users/mauko/Library/Android/sdk/tools:/Users/mauko/.bun/bin:/usr/local/Cellar/node/21.1.0/bin:/usr/local/opt/openjdk/bin:/usr/local/sbin:/Users/mauko/.rbenv/shims:/usr/local/opt/python@2/libexec/bin:/usr/local/lib/ruby/gems/3.3.0/bin:/usr/local/opt/ruby/bin:/Users/mauko/flutter/bin:/Users/mauko/.pyenv/shims:/usr/local/bin:/System/Cryptexes/App/usr/bin:/usr/bin:/bin:/usr/sbin:/sbin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/local/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/appleinternal/bin:/Library/Apple/usr/bin:/Users/mauko/.yarn/bin:/Users/mauko/.config/yarn/global/node_modules/.bin:/Users/mauko/Library/Android/sdk/platform-tools:/Users/mauko/Library/Android/sdk/tools:/Users/mauko/.bun/bin:/usr/local/Cellar/node/21.1.0/bin:/usr/local/opt/openjdk/bin:/usr/local/sbin:/Users/mauko/.rbenv/shims:/usr/local/opt/python@2/libexec/bin:/usr/local/lib/ruby/gems/3.3.0/bin:/usr/local/opt/ruby/bin:/Users/mauko/flutter/bin:/Users/mauko/.cargo/bin:/Users/mauko/.orbstack/bin:/Users/mauko/.composer/vendor/bin:/Users/mauko/.pub-cache/bin:/Users/mauko/Library/Android/sdk/emulator:/opt/homebrew/opt/postgresql@15/bin:/Users/mauko/.orbstack/bin:/Users/mauko/.composer/vendor/bin:/Users/mauko/.pub-cache/bin:/Users/mauko/Library/Android/sdk/emulator:/opt/homebrew/opt/postgresql@15/bin",npm_package_json:"/Users/mauko/Projects/Edwin/otter/packages/telemed-intake/app/package.json",__CFBundleIdentifier:"com.microsoft.VSCode",USER_ZDOTDIR:"/Users/mauko",PWD:"/Users/mauko/Projects/Edwin/otter/packages/telemed-intake/app",npm_lifecycle_event:"build",LANG:"en_US.UTF-8",npm_package_name:"telemed-intake-app",NODE_PATH:"/Users/mauko/Projects/Edwin/otter/node_modules/.pnpm/vite@4.5.3_@types+node@18.19.42_terser@5.31.3/node_modules/vite/bin/node_modules:/Users/mauko/Projects/Edwin/otter/node_modules/.pnpm/vite@4.5.3_@types+node@18.19.42_terser@5.31.3/node_modules/vite/node_modules:/Users/mauko/Projects/Edwin/otter/node_modules/.pnpm/vite@4.5.3_@types+node@18.19.42_terser@5.31.3/node_modules:/Users/mauko/Projects/Edwin/otter/node_modules/.pnpm/node_modules",XPC_FLAGS:"0x0",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"",NODE_ENV:"production",RBENV_SHELL:"zsh",XPC_SERVICE_NAME:"0",npm_package_version:"0.7.0",VSCODE_INJECTION:"1",HOME:"/Users/mauko",SHLVL:"2",VSCODE_GIT_ASKPASS_MAIN:"/Applications/Visual Studio Code.app/Contents/Resources/app/extensions/git/dist/askpass-main.js",LOGNAME:"mauko",LESS:"-R",VSCODE_GIT_IPC_HANDLE:"/var/folders/tj/kmmwgxxx4jjcnprg4ln4fb4m0000gp/T/vscode-git-7a782488e5.sock",BUN_INSTALL:"/Users/mauko/.bun",npm_config_user_agent:"bun/1.1.27 npm/? node/v22.6.0 darwin x64",GIT_ASKPASS:"/Applications/Visual Studio Code.app/Contents/Resources/app/extensions/git/dist/askpass.sh",VSCODE_GIT_ASKPASS_NODE:"/Applications/Visual Studio Code.app/Contents/Frameworks/Code Helper (Plugin).app/Contents/MacOS/Code Helper (Plugin)",COLORTERM:"truecolor",npm_node_execpath:"/usr/local/bin/node",VITE_USER_NODE_ENV:"development",SENTRY_PIPELINE:"vite-plugin/2.21.1"}.SC_DISABLE_SPEEDY!=="false"&&{TERM_PROGRAM:"vscode",NODE:"/usr/local/bin/node",ANDROID_HOME:"/Users/mauko/Library/Android/sdk",SHELL:"/bin/zsh",TERM:"xterm-256color",TMPDIR:"/var/folders/tj/kmmwgxxx4jjcnprg4ln4fb4m0000gp/T/",TERM_PROGRAM_VERSION:"1.93.1",MallocNanoZone:"0",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",ZDOTDIR:"/Users/mauko",ZSH:"/Users/mauko/.oh-my-zsh",npm_config_local_prefix:"/Users/mauko/Projects/Edwin/otter/packages/telemed-intake/app/",USER:"mauko",LS_COLORS:"di=1;36:ln=35:so=32:pi=33:ex=31:bd=34;46:cd=34;43:su=30;41:sg=30;46:tw=30;42:ow=30;43",COMMAND_MODE:"unix2003",CHROME_EXECUTABLE:"/Applications/Opera.app/Contents/MacOS/Opera",SSH_AUTH_SOCK:"/private/tmp/com.apple.launchd.nnqjh72rzb/Listeners",__CF_USER_TEXT_ENCODING:"0x1F6:0x0:0x0",npm_execpath:"/usr/local/Cellar/bun/1.1.27/bin/bun",PAGER:"less",LSCOLORS:"Gxfxcxdxbxegedabagacad",PATH:"/Users/mauko/Projects/Edwin/otter/packages/telemed-intake/app/node_modules/.bin:/Users/mauko/Projects/Edwin/otter/packages/telemed-intake/app/node_modules/.bin:/Users/mauko/Projects/Edwin/otter/packages/telemed-intake/node_modules/.bin:/Users/mauko/Projects/Edwin/otter/packages/node_modules/.bin:/Users/mauko/Projects/Edwin/otter/node_modules/.bin:/Users/mauko/Projects/Edwin/node_modules/.bin:/Users/mauko/Projects/node_modules/.bin:/Users/mauko/node_modules/.bin:/Users/node_modules/.bin:/node_modules/.bin:/Users/mauko/.yarn/bin:/Users/mauko/.config/yarn/global/node_modules/.bin:/Users/mauko/Library/Android/sdk/platform-tools:/Users/mauko/Library/Android/sdk/tools:/Users/mauko/.bun/bin:/usr/local/Cellar/node/21.1.0/bin:/usr/local/opt/openjdk/bin:/usr/local/sbin:/Users/mauko/.rbenv/shims:/usr/local/opt/python@2/libexec/bin:/usr/local/lib/ruby/gems/3.3.0/bin:/usr/local/opt/ruby/bin:/Users/mauko/flutter/bin:/Users/mauko/.pyenv/shims:/usr/local/bin:/System/Cryptexes/App/usr/bin:/usr/bin:/bin:/usr/sbin:/sbin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/local/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/appleinternal/bin:/Library/Apple/usr/bin:/Users/mauko/.yarn/bin:/Users/mauko/.config/yarn/global/node_modules/.bin:/Users/mauko/Library/Android/sdk/platform-tools:/Users/mauko/Library/Android/sdk/tools:/Users/mauko/.bun/bin:/usr/local/Cellar/node/21.1.0/bin:/usr/local/opt/openjdk/bin:/usr/local/sbin:/Users/mauko/.rbenv/shims:/usr/local/opt/python@2/libexec/bin:/usr/local/lib/ruby/gems/3.3.0/bin:/usr/local/opt/ruby/bin:/Users/mauko/flutter/bin:/Users/mauko/.cargo/bin:/Users/mauko/.orbstack/bin:/Users/mauko/.composer/vendor/bin:/Users/mauko/.pub-cache/bin:/Users/mauko/Library/Android/sdk/emulator:/opt/homebrew/opt/postgresql@15/bin:/Users/mauko/.orbstack/bin:/Users/mauko/.composer/vendor/bin:/Users/mauko/.pub-cache/bin:/Users/mauko/Library/Android/sdk/emulator:/opt/homebrew/opt/postgresql@15/bin",npm_package_json:"/Users/mauko/Projects/Edwin/otter/packages/telemed-intake/app/package.json",__CFBundleIdentifier:"com.microsoft.VSCode",USER_ZDOTDIR:"/Users/mauko",PWD:"/Users/mauko/Projects/Edwin/otter/packages/telemed-intake/app",npm_lifecycle_event:"build",LANG:"en_US.UTF-8",npm_package_name:"telemed-intake-app",NODE_PATH:"/Users/mauko/Projects/Edwin/otter/node_modules/.pnpm/vite@4.5.3_@types+node@18.19.42_terser@5.31.3/node_modules/vite/bin/node_modules:/Users/mauko/Projects/Edwin/otter/node_modules/.pnpm/vite@4.5.3_@types+node@18.19.42_terser@5.31.3/node_modules/vite/node_modules:/Users/mauko/Projects/Edwin/otter/node_modules/.pnpm/vite@4.5.3_@types+node@18.19.42_terser@5.31.3/node_modules:/Users/mauko/Projects/Edwin/otter/node_modules/.pnpm/node_modules",XPC_FLAGS:"0x0",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"",NODE_ENV:"production",RBENV_SHELL:"zsh",XPC_SERVICE_NAME:"0",npm_package_version:"0.7.0",VSCODE_INJECTION:"1",HOME:"/Users/mauko",SHLVL:"2",VSCODE_GIT_ASKPASS_MAIN:"/Applications/Visual Studio Code.app/Contents/Resources/app/extensions/git/dist/askpass-main.js",LOGNAME:"mauko",LESS:"-R",VSCODE_GIT_IPC_HANDLE:"/var/folders/tj/kmmwgxxx4jjcnprg4ln4fb4m0000gp/T/vscode-git-7a782488e5.sock",BUN_INSTALL:"/Users/mauko/.bun",npm_config_user_agent:"bun/1.1.27 npm/? node/v22.6.0 darwin x64",GIT_ASKPASS:"/Applications/Visual Studio Code.app/Contents/Resources/app/extensions/git/dist/askpass.sh",VSCODE_GIT_ASKPASS_NODE:"/Applications/Visual Studio Code.app/Contents/Frameworks/Code Helper (Plugin).app/Contents/MacOS/Code Helper (Plugin)",COLORTERM:"truecolor",npm_node_execpath:"/usr/local/bin/node",VITE_USER_NODE_ENV:"development",SENTRY_PIPELINE:"vite-plugin/2.21.1"}.SC_DISABLE_SPEEDY)),P={};function D(ts){for(var ns=arguments.length,rs=new Array(ns>1?ns-1:0),is=1;is<ns;is++)rs[is-1]=arguments[is];throw new Error("An error occurred. See https://git.io/JUIaE#"+ts+" for more information."+(rs.length>0?" Args: "+rs.join(", "):""))}var j$1=function(){function ts(rs){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=rs}var ns=ts.prototype;return ns.indexOfGroup=function(rs){for(var is=0,os=0;os<rs;os++)is+=this.groupSizes[os];return is},ns.insertRules=function(rs,is){if(rs>=this.groupSizes.length){for(var os=this.groupSizes,ss=os.length,as=ss;rs>=as;)(as<<=1)<0&&D(16,""+rs);this.groupSizes=new Uint32Array(as),this.groupSizes.set(os),this.length=as;for(var ls=ss;ls<as;ls++)this.groupSizes[ls]=0}for(var cs=this.indexOfGroup(rs+1),us=0,ds=is.length;us<ds;us++)this.tag.insertRule(cs,is[us])&&(this.groupSizes[rs]++,cs++)},ns.clearGroup=function(rs){if(rs<this.length){var is=this.groupSizes[rs],os=this.indexOfGroup(rs),ss=os+is;this.groupSizes[rs]=0;for(var as=os;as<ss;as++)this.tag.deleteRule(os)}},ns.getGroup=function(rs){var is="";if(rs>=this.length||this.groupSizes[rs]===0)return is;for(var os=this.groupSizes[rs],ss=this.indexOfGroup(rs),as=ss+os,ls=ss;ls<as;ls++)is+=this.tag.getRule(ls)+"/*!sc*/\n";return is},ts}(),T=new Map,x=new Map,k$1=1,V=function(ts){if(T.has(ts))return T.get(ts);for(;x.has(k$1);)k$1++;var ns=k$1++;return T.set(ts,ns),x.set(ns,ts),ns},B=function(ts){return x.get(ts)},z=function(ts,ns){ns>=k$1&&(k$1=ns+1),T.set(ts,ns),x.set(ns,ts)},M="style["+N+'][data-styled-version="5.3.11"]',G=new RegExp("^"+N+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),L=function(ts,ns,rs){for(var is,os=rs.split(","),ss=0,as=os.length;ss<as;ss++)(is=os[ss])&&ts.registerName(ns,is)},F=function(ts,ns){for(var rs=(ns.textContent||"").split("/*!sc*/\n"),is=[],os=0,ss=rs.length;os<ss;os++){var as=rs[os].trim();if(as){var ls=as.match(G);if(ls){var cs=0|parseInt(ls[1],10),us=ls[2];cs!==0&&(z(us,cs),L(ts,us,ls[3]),ts.getTag().insertRules(cs,is)),is.length=0}else is.push(as)}}},Y=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null},q$1=function(ts){var ns=document.head,rs=ts||ns,is=document.createElement("style"),os=function(ls){for(var cs=ls.childNodes,us=cs.length;us>=0;us--){var ds=cs[us];if(ds&&ds.nodeType===1&&ds.hasAttribute(N))return ds}}(rs),ss=os!==void 0?os.nextSibling:null;is.setAttribute(N,"active"),is.setAttribute("data-styled-version","5.3.11");var as=Y();return as&&is.setAttribute("nonce",as),rs.insertBefore(is,ss),is},H=function(){function ts(rs){var is=this.element=q$1(rs);is.appendChild(document.createTextNode("")),this.sheet=function(os){if(os.sheet)return os.sheet;for(var ss=document.styleSheets,as=0,ls=ss.length;as<ls;as++){var cs=ss[as];if(cs.ownerNode===os)return cs}D(17)}(is),this.length=0}var ns=ts.prototype;return ns.insertRule=function(rs,is){try{return this.sheet.insertRule(is,rs),this.length++,!0}catch{return!1}},ns.deleteRule=function(rs){this.sheet.deleteRule(rs),this.length--},ns.getRule=function(rs){var is=this.sheet.cssRules[rs];return is!==void 0&&typeof is.cssText=="string"?is.cssText:""},ts}(),$=function(){function ts(rs){var is=this.element=q$1(rs);this.nodes=is.childNodes,this.length=0}var ns=ts.prototype;return ns.insertRule=function(rs,is){if(rs<=this.length&&rs>=0){var os=document.createTextNode(is),ss=this.nodes[rs];return this.element.insertBefore(os,ss||null),this.length++,!0}return!1},ns.deleteRule=function(rs){this.element.removeChild(this.nodes[rs]),this.length--},ns.getRule=function(rs){return rs<this.length?this.nodes[rs].textContent:""},ts}(),W=function(){function ts(rs){this.rules=[],this.length=0}var ns=ts.prototype;return ns.insertRule=function(rs,is){return rs<=this.length&&(this.rules.splice(rs,0,is),this.length++,!0)},ns.deleteRule=function(rs){this.rules.splice(rs,1),this.length--},ns.getRule=function(rs){return rs<this.length?this.rules[rs]:""},ts}(),U=C,J={isServer:!C,useCSSOMInjection:!I},X=function(){function ts(rs,is,os){rs===void 0&&(rs=w),is===void 0&&(is={}),this.options=y({},J,{},rs),this.gs=is,this.names=new Map(os),this.server=!!rs.isServer,!this.server&&C&&U&&(U=!1,function(ss){for(var as=document.querySelectorAll(M),ls=0,cs=as.length;ls<cs;ls++){var us=as[ls];us&&us.getAttribute(N)!=="active"&&(F(ss,us),us.parentNode&&us.parentNode.removeChild(us))}}(this))}ts.registerId=function(rs){return V(rs)};var ns=ts.prototype;return ns.reconstructWithOptions=function(rs,is){return is===void 0&&(is=!0),new ts(y({},this.options,{},rs),this.gs,is&&this.names||void 0)},ns.allocateGSInstance=function(rs){return this.gs[rs]=(this.gs[rs]||0)+1},ns.getTag=function(){return this.tag||(this.tag=(os=(is=this.options).isServer,ss=is.useCSSOMInjection,as=is.target,rs=os?new W(as):ss?new H(as):new $(as),new j$1(rs)));var rs,is,os,ss,as},ns.hasNameForId=function(rs,is){return this.names.has(rs)&&this.names.get(rs).has(is)},ns.registerName=function(rs,is){if(V(rs),this.names.has(rs))this.names.get(rs).add(is);else{var os=new Set;os.add(is),this.names.set(rs,os)}},ns.insertRules=function(rs,is,os){this.registerName(rs,is),this.getTag().insertRules(V(rs),os)},ns.clearNames=function(rs){this.names.has(rs)&&this.names.get(rs).clear()},ns.clearRules=function(rs){this.getTag().clearGroup(V(rs)),this.clearNames(rs)},ns.clearTag=function(){this.tag=void 0},ns.toString=function(){return function(rs){for(var is=rs.getTag(),os=is.length,ss="",as=0;as<os;as++){var ls=B(as);if(ls!==void 0){var cs=rs.names.get(ls),us=is.getGroup(as);if(cs&&us&&cs.size){var ds=N+".g"+as+'[id="'+ls+'"]',ps="";cs!==void 0&&cs.forEach(function(hs){hs.length>0&&(ps+=hs+",")}),ss+=""+us+ds+'{content:"'+ps+'"}/*!sc*/\n'}}}return ss}(this)},ts}(),Z=/(a)(d)/gi,K=function(ts){return String.fromCharCode(ts+(ts>25?39:97))};function Q(ts){var ns,rs="";for(ns=Math.abs(ts);ns>52;ns=ns/52|0)rs=K(ns%52)+rs;return(K(ns%52)+rs).replace(Z,"$1-$2")}var ee=function(ts,ns){for(var rs=ns.length;rs;)ts=33*ts^ns.charCodeAt(--rs);return ts},te=function(ts){return ee(5381,ts)};function ne(ts){for(var ns=0;ns<ts.length;ns+=1){var rs=ts[ns];if(E(rs)&&!_(rs))return!1}return!0}var re=te("5.3.11"),oe=function(){function ts(ns,rs,is){this.rules=ns,this.staticRulesId="",this.isStatic=(is===void 0||is.isStatic)&&ne(ns),this.componentId=rs,this.baseHash=ee(re,rs),this.baseStyle=is,X.registerId(rs)}return ts.prototype.generateAndInjectStyles=function(ns,rs,is){var os=this.componentId,ss=[];if(this.baseStyle&&ss.push(this.baseStyle.generateAndInjectStyles(ns,rs,is)),this.isStatic&&!is.hash)if(this.staticRulesId&&rs.hasNameForId(os,this.staticRulesId))ss.push(this.staticRulesId);else{var as=_e(this.rules,ns,rs,is).join(""),ls=Q(ee(this.baseHash,as)>>>0);if(!rs.hasNameForId(os,ls)){var cs=is(as,"."+ls,void 0,os);rs.insertRules(os,ls,cs)}ss.push(ls),this.staticRulesId=ls}else{for(var us=this.rules.length,ds=ee(this.baseHash,is.hash),ps="",hs=0;hs<us;hs++){var ms=this.rules[hs];if(typeof ms=="string")ps+=ms;else if(ms){var gs=_e(ms,ns,rs,is),ys=Array.isArray(gs)?gs.join(""):gs;ds=ee(ds,ys+hs),ps+=ys}}if(ps){var vs=Q(ds>>>0);if(!rs.hasNameForId(os,vs)){var bs=is(ps,"."+vs,void 0,os);rs.insertRules(os,vs,bs)}ss.push(vs)}}return ss.join(" ")},ts}(),se=/^\s*\/\/.*$/gm,ie=[":","[",".","#"];function ae(ts){var ns,rs,is,os,ss=ts===void 0?w:ts,as=ss.options,ls=as===void 0?w:as,cs=ss.plugins,us=cs===void 0?S:cs,ds=new stylis_min(ls),ps=[],hs=function(ys){function vs(bs){if(bs)try{ys(bs+"}")}catch{}}return function(bs,Ss,$s,Cs,Es,xs,ws,ks,Is,Ts){switch(bs){case 1:if(Is===0&&Ss.charCodeAt(0)===64)return ys(Ss+";"),"";break;case 2:if(ks===0)return Ss+"/*|*/";break;case 3:switch(ks){case 102:case 112:return ys($s[0]+Ss),"";default:return Ss+(Ts===0?"/*|*/":"")}case-2:Ss.split("/*|*/}").forEach(vs)}}}(function(ys){ps.push(ys)}),ms=function(ys,vs,bs){return vs===0&&ie.indexOf(bs[rs.length])!==-1||bs.match(os)?ys:"."+ns};function gs(ys,vs,bs,Ss){Ss===void 0&&(Ss="&");var $s=ys.replace(se,""),Cs=vs&&bs?bs+" "+vs+" { "+$s+" }":$s;return ns=Ss,rs=vs,is=new RegExp("\\"+rs+"\\b","g"),os=new RegExp("(\\"+rs+"\\b){2,}"),ds(bs||!vs?"":vs,Cs)}return ds.use([].concat(us,[function(ys,vs,bs){ys===2&&bs.length&&bs[0].lastIndexOf(rs)>0&&(bs[0]=bs[0].replace(is,ms))},hs,function(ys){if(ys===-2){var vs=ps;return ps=[],vs}}])),gs.hash=us.length?us.reduce(function(ys,vs){return vs.name||D(15),ee(ys,vs.name)},5381).toString():"",gs}var ce=React$1.createContext();ce.Consumer;var le=React$1.createContext(),de=(le.Consumer,new X),he=ae();function pe(){return reactExports.useContext(ce)||de}function fe(){return reactExports.useContext(le)||he}var ye=function(){function ts(ns,rs){var is=this;this.inject=function(os,ss){ss===void 0&&(ss=he);var as=is.name+ss.hash;os.hasNameForId(is.id,as)||os.insertRules(is.id,as,ss(is.rules,as,"@keyframes"))},this.toString=function(){return D(12,String(is.name))},this.name=ns,this.id="sc-keyframes-"+ns,this.rules=rs}return ts.prototype.getName=function(ns){return ns===void 0&&(ns=he),this.name+ns.hash},ts}(),ve=/([A-Z])/,ge=/([A-Z])/g,Se=/^ms-/,we=function(ts){return"-"+ts.toLowerCase()};function Ee(ts){return ve.test(ts)?ts.replace(ge,we).replace(Se,"-ms-"):ts}var be=function(ts){return ts==null||ts===!1||ts===""};function _e(ts,ns,rs,is){if(Array.isArray(ts)){for(var os,ss=[],as=0,ls=ts.length;as<ls;as+=1)(os=_e(ts[as],ns,rs,is))!==""&&(Array.isArray(os)?ss.push.apply(ss,os):ss.push(os));return ss}if(be(ts))return"";if(_(ts))return"."+ts.styledComponentId;if(E(ts)){if(typeof(us=ts)!="function"||us.prototype&&us.prototype.isReactComponent||!ns)return ts;var cs=ts(ns);return _e(cs,ns,rs,is)}var us;return ts instanceof ye?rs?(ts.inject(rs,is),ts.getName(is)):ts:g$1(ts)?function ds(ps,hs){var ms,gs,ys=[];for(var vs in ps)ps.hasOwnProperty(vs)&&!be(ps[vs])&&(Array.isArray(ps[vs])&&ps[vs].isCss||E(ps[vs])?ys.push(Ee(vs)+":",ps[vs],";"):g$1(ps[vs])?ys.push.apply(ys,ds(ps[vs],vs)):ys.push(Ee(vs)+": "+(ms=vs,(gs=ps[vs])==null||typeof gs=="boolean"||gs===""?"":typeof gs!="number"||gs===0||ms in unitlessKeys||ms.startsWith("--")?String(gs).trim():gs+"px")+";"));return hs?[hs+" {"].concat(ys,["}"]):ys}(ts):ts.toString()}var Ne=function(ts){return Array.isArray(ts)&&(ts.isCss=!0),ts};function Ae(ts){for(var ns=arguments.length,rs=new Array(ns>1?ns-1:0),is=1;is<ns;is++)rs[is-1]=arguments[is];return E(ts)||g$1(ts)?Ne(_e(v$1(S,[ts].concat(rs)))):rs.length===0&&ts.length===1&&typeof ts[0]=="string"?ts:Ne(_e(v$1(ts,rs)))}var Oe=function(ts,ns,rs){return rs===void 0&&(rs=w),ts.theme!==rs.theme&&ts.theme||ns||rs.theme},Re=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,De=/(^-|-$)/g;function je(ts){return ts.replace(Re,"-").replace(De,"")}var Te=function(ts){return Q(te(ts)>>>0)};function xe(ts){return typeof ts=="string"&&!0}var ke=function(ts){return typeof ts=="function"||typeof ts=="object"&&ts!==null&&!Array.isArray(ts)},Ve=function(ts){return ts!=="__proto__"&&ts!=="constructor"&&ts!=="prototype"};function Be(ts,ns,rs){var is=ts[rs];ke(ns)&&ke(is)?ze(is,ns):ts[rs]=ns}function ze(ts){for(var ns=arguments.length,rs=new Array(ns>1?ns-1:0),is=1;is<ns;is++)rs[is-1]=arguments[is];for(var os=0,ss=rs;os<ss.length;os++){var as=ss[os];if(ke(as))for(var ls in as)Ve(ls)&&Be(ts,as[ls],ls)}return ts}var Me=React$1.createContext();Me.Consumer;function Le(ts){var ns=reactExports.useContext(Me),rs=reactExports.useMemo(function(){return function(is,os){if(!is)return D(14);if(E(is)){var ss=is(os);return ss}return Array.isArray(is)||typeof is!="object"?D(8):os?y({},os,{},is):is}(ts.theme,ns)},[ts.theme,ns]);return ts.children?React$1.createElement(Me.Provider,{value:rs},ts.children):null}var Fe={};function Ye(ts,ns,rs){var is=_(ts),os=!xe(ts),ss=ns.attrs,as=ss===void 0?S:ss,ls=ns.componentId,cs=ls===void 0?function(Ss,$s){var Cs=typeof Ss!="string"?"sc":je(Ss);Fe[Cs]=(Fe[Cs]||0)+1;var Es=Cs+"-"+Te("5.3.11"+Cs+Fe[Cs]);return $s?$s+"-"+Es:Es}(ns.displayName,ns.parentComponentId):ls,us=ns.displayName,ds=us===void 0?function(Ss){return xe(Ss)?"styled."+Ss:"Styled("+b$1(Ss)+")"}(ts):us,ps=ns.displayName&&ns.componentId?je(ns.displayName)+"-"+ns.componentId:ns.componentId||cs,hs=is&&ts.attrs?Array.prototype.concat(ts.attrs,as).filter(Boolean):as,ms=ns.shouldForwardProp;is&&ts.shouldForwardProp&&(ms=ns.shouldForwardProp?function(Ss,$s,Cs){return ts.shouldForwardProp(Ss,$s,Cs)&&ns.shouldForwardProp(Ss,$s,Cs)}:ts.shouldForwardProp);var gs,ys=new oe(rs,ps,is?ts.componentStyle:void 0),vs=ys.isStatic&&as.length===0,bs=function(Ss,$s){return function(Cs,Es,xs,ws){var ks=Cs.attrs,Is=Cs.componentStyle,Ts=Cs.defaultProps,Rs=Cs.foldedComponentIds,As=Cs.shouldForwardProp,Ms=Cs.styledComponentId,Ls=Cs.target,Ds=function(Zs,Us,Ol){Zs===void 0&&(Zs=w);var qs=y({},Us,{theme:Zs}),Fl={};return Ol.forEach(function(Ll){var $l,Cl,wl,Tl=Ll;for($l in E(Tl)&&(Tl=Tl(qs)),Tl)qs[$l]=Fl[$l]=$l==="className"?(Cl=Fl[$l],wl=Tl[$l],Cl&&wl?Cl+" "+wl:Cl||wl):Tl[$l]}),[qs,Fl]}(Oe(Es,reactExports.useContext(Me),Ts)||w,Es,ks),Fs=Ds[0],Vs=Ds[1],Bs=function(Zs,Us,Ol,qs){var Fl=pe(),Ll=fe(),$l=Us?Zs.generateAndInjectStyles(w,Fl,Ll):Zs.generateAndInjectStyles(Ol,Fl,Ll);return $l}(Is,ws,Fs),Ws=xs,Os=Vs.$as||Es.$as||Vs.as||Es.as||Ls,Nl=xe(Os),$a=Vs!==Es?y({},Es,{},Vs):Es,Ps={};for(var Ys in $a)Ys[0]!=="$"&&Ys!=="as"&&(Ys==="forwardedAs"?Ps.as=$a[Ys]:(As?As(Ys,isPropValid,Os):!Nl||isPropValid(Ys))&&(Ps[Ys]=$a[Ys]));return Es.style&&Vs.style!==Es.style&&(Ps.style=y({},Es.style,{},Vs.style)),Ps.className=Array.prototype.concat(Rs,Ms,Bs!==Ms?Bs:null,Es.className,Vs.className).filter(Boolean).join(" "),Ps.ref=Ws,reactExports.createElement(Os,Ps)}(gs,Ss,$s,vs)};return bs.displayName=ds,(gs=React$1.forwardRef(bs)).attrs=hs,gs.componentStyle=ys,gs.displayName=ds,gs.shouldForwardProp=ms,gs.foldedComponentIds=is?Array.prototype.concat(ts.foldedComponentIds,ts.styledComponentId):S,gs.styledComponentId=ps,gs.target=is?ts.target:ts,gs.withComponent=function(Ss){var $s=ns.componentId,Cs=function(xs,ws){if(xs==null)return{};var ks,Is,Ts={},Rs=Object.keys(xs);for(Is=0;Is<Rs.length;Is++)ks=Rs[Is],ws.indexOf(ks)>=0||(Ts[ks]=xs[ks]);return Ts}(ns,["componentId"]),Es=$s&&$s+"-"+(xe(Ss)?Ss:je(b$1(Ss)));return Ye(Ss,y({},Cs,{attrs:hs,componentId:Es}),rs)},Object.defineProperty(gs,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(Ss){this._foldedDefaultProps=is?ze({},ts.defaultProps,Ss):Ss}}),Object.defineProperty(gs,"toString",{value:function(){return"."+gs.styledComponentId}}),os&&m$3(gs,ts,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),gs}var qe=function(ts){return function ns(rs,is,os){if(os===void 0&&(os=w),!reactIsExports.isValidElementType(is))return D(1,String(is));var ss=function(){return rs(is,os,Ae.apply(void 0,arguments))};return ss.withConfig=function(as){return ns(rs,is,y({},os,{},as))},ss.attrs=function(as){return ns(rs,is,y({},os,{attrs:Array.prototype.concat(os.attrs,as).filter(Boolean)}))},ss}(Ye,ts)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach(function(ts){qe[ts]=qe(ts)});var He=function(){function ts(rs,is){this.rules=rs,this.componentId=is,this.isStatic=ne(rs),X.registerId(this.componentId+1)}var ns=ts.prototype;return ns.createStyles=function(rs,is,os,ss){var as=ss(_e(this.rules,is,os,ss).join(""),""),ls=this.componentId+rs;os.insertRules(ls,ls,as)},ns.removeStyles=function(rs,is){is.clearRules(this.componentId+rs)},ns.renderStyles=function(rs,is,os,ss){rs>2&&X.registerId(this.componentId+rs),this.removeStyles(rs,os),this.createStyles(rs,is,os,ss)},ts}();function $e(ts){for(var ns=arguments.length,rs=new Array(ns>1?ns-1:0),is=1;is<ns;is++)rs[is-1]=arguments[is];var os=Ae.apply(void 0,[ts].concat(rs)),ss="sc-global-"+Te(JSON.stringify(os)),as=new He(os,ss);function ls(us){var ds=pe(),ps=fe(),hs=reactExports.useContext(Me),ms=reactExports.useRef(ds.allocateGSInstance(ss)).current;return ds.server&&cs(ms,us,ds,hs,ps),reactExports.useLayoutEffect(function(){if(!ds.server)return cs(ms,us,ds,hs,ps),function(){return as.removeStyles(ms,ds)}},[ms,us,ds,hs,ps]),null}function cs(us,ds,ps,hs,ms){if(as.isStatic)as.renderStyles(us,P,ps,ms);else{var gs=y({},ds,{theme:Oe(ds,hs,ls.defaultProps)});as.renderStyles(us,gs,ps,ms)}}return React$1.memo(ls)}function We(ts){for(var ns=arguments.length,rs=new Array(ns>1?ns-1:0),is=1;is<ns;is++)rs[is-1]=arguments[is];var os=Ae.apply(void 0,[ts].concat(rs)).join(""),ss=Te(os);return new ye(ss,os)}const styled=qe;/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var getOwnPropertySymbols=Object.getOwnPropertySymbols,hasOwnProperty=Object.prototype.hasOwnProperty,propIsEnumerable=Object.prototype.propertyIsEnumerable;function toObject(ts){if(ts==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(ts)}function shouldUseNative(){try{if(!Object.assign)return!1;var ts=new String("abc");if(ts[5]="de",Object.getOwnPropertyNames(ts)[0]==="5")return!1;for(var ns={},rs=0;rs<10;rs++)ns["_"+String.fromCharCode(rs)]=rs;var is=Object.getOwnPropertyNames(ns).map(function(ss){return ns[ss]});if(is.join("")!=="0123456789")return!1;var os={};return"abcdefghijklmnopqrst".split("").forEach(function(ss){os[ss]=ss}),Object.keys(Object.assign({},os)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var objectAssign=shouldUseNative()?Object.assign:function(ts,ns){for(var rs,is=toObject(ts),os,ss=1;ss<arguments.length;ss++){rs=Object(arguments[ss]);for(var as in rs)hasOwnProperty.call(rs,as)&&(is[as]=rs[as]);if(getOwnPropertySymbols){os=getOwnPropertySymbols(rs);for(var ls=0;ls<os.length;ls++)propIsEnumerable.call(rs,os[ls])&&(is[os[ls]]=rs[os[ls]])}}return is};const assign=getDefaultExportFromCjs(objectAssign);var merge=function(ns,rs){var is=assign({},ns,rs);for(var os in ns){var ss;!ns[os]||typeof rs[os]!="object"||assign(is,(ss={},ss[os]=assign(ns[os],rs[os]),ss))}return is},sort=function(ns){var rs={};return Object.keys(ns).sort(function(is,os){return is.localeCompare(os,void 0,{numeric:!0,sensitivity:"base"})}).forEach(function(is){rs[is]=ns[is]}),rs},defaults$4={breakpoints:[40,52,64].map(function(ts){return ts+"em"})},createMediaQuery=function(ns){return"@media screen and (min-width: "+ns+")"},getValue=function(ns,rs){return get$2(rs,ns,ns)},get$2=function(ns,rs,is,os,ss){for(rs=rs&&rs.split?rs.split("."):[rs],os=0;os<rs.length;os++)ns=ns?ns[rs[os]]:ss;return ns===ss?is:ns},createParser=function ts(ns){var rs={},is=function(as){var ls={},cs=!1,us=as.theme&&as.theme.disableStyledSystemCache;for(var ds in as)if(ns[ds]){var ps=ns[ds],hs=as[ds],ms=get$2(as.theme,ps.scale,ps.defaults);if(typeof hs=="object"){if(rs.breakpoints=!us&&rs.breakpoints||get$2(as.theme,"breakpoints",defaults$4.breakpoints),Array.isArray(hs)){rs.media=!us&&rs.media||[null].concat(rs.breakpoints.map(createMediaQuery)),ls=merge(ls,parseResponsiveStyle(rs.media,ps,ms,hs,as));continue}hs!==null&&(ls=merge(ls,parseResponsiveObject(rs.breakpoints,ps,ms,hs,as)),cs=!0);continue}assign(ls,ps(hs,ms,as))}return cs&&(ls=sort(ls)),ls};is.config=ns,is.propNames=Object.keys(ns),is.cache=rs;var os=Object.keys(ns).filter(function(ss){return ss!=="config"});return os.length>1&&os.forEach(function(ss){var as;is[ss]=ts((as={},as[ss]=ns[ss],as))}),is},parseResponsiveStyle=function(ns,rs,is,os,ss){var as={};return os.slice(0,ns.length).forEach(function(ls,cs){var us=ns[cs],ds=rs(ls,is,ss);if(!us)assign(as,ds);else{var ps;assign(as,(ps={},ps[us]=assign({},as[us],ds),ps))}}),as},parseResponsiveObject=function(ns,rs,is,os,ss){var as={};for(var ls in os){var cs=ns[ls],us=os[ls],ds=rs(us,is,ss);if(!cs)assign(as,ds);else{var ps,hs=createMediaQuery(cs);assign(as,(ps={},ps[hs]=assign({},as[hs],ds),ps))}}return as},createStyleFunction=function(ns){var rs=ns.properties,is=ns.property,os=ns.scale,ss=ns.transform,as=ss===void 0?getValue:ss,ls=ns.defaultScale;rs=rs||[is];var cs=function(ds,ps,hs){var ms={},gs=as(ds,ps,hs);if(gs!==null)return rs.forEach(function(ys){ms[ys]=gs}),ms};return cs.scale=os,cs.defaults=ls,cs},system=function(ns){ns===void 0&&(ns={});var rs={};Object.keys(ns).forEach(function(os){var ss=ns[os];if(ss===!0){rs[os]=createStyleFunction({property:os,scale:os});return}if(typeof ss=="function"){rs[os]=ss;return}rs[os]=createStyleFunction(ss)});var is=createParser(rs);return is},compose=function(){for(var ns={},rs=arguments.length,is=new Array(rs),os=0;os<rs;os++)is[os]=arguments[os];is.forEach(function(as){!as||!as.config||assign(ns,as.config)});var ss=createParser(ns);return ss},isNumber$1=function(ns){return typeof ns=="number"&&!isNaN(ns)},getWidth=function(ns,rs){return get$2(rs,ns,!isNumber$1(ns)||ns>1?ns:ns*100+"%")},config$7={width:{property:"width",scale:"sizes",transform:getWidth},height:{property:"height",scale:"sizes"},minWidth:{property:"minWidth",scale:"sizes"},minHeight:{property:"minHeight",scale:"sizes"},maxWidth:{property:"maxWidth",scale:"sizes"},maxHeight:{property:"maxHeight",scale:"sizes"},size:{properties:["width","height"],scale:"sizes"},overflow:!0,overflowX:!0,overflowY:!0,display:!0,verticalAlign:!0},layout=system(config$7),config$6={color:{property:"color",scale:"colors"},backgroundColor:{property:"backgroundColor",scale:"colors"},opacity:!0};config$6.bg=config$6.backgroundColor;var color=system(config$6),defaults$3={fontSizes:[12,14,16,20,24,32,48,64,72]},config$5={fontFamily:{property:"fontFamily",scale:"fonts"},fontSize:{property:"fontSize",scale:"fontSizes",defaultScale:defaults$3.fontSizes},fontWeight:{property:"fontWeight",scale:"fontWeights"},lineHeight:{property:"lineHeight",scale:"lineHeights"},letterSpacing:{property:"letterSpacing",scale:"letterSpacings"},textAlign:!0,fontStyle:!0},typography=system(config$5),config$4={alignItems:!0,alignContent:!0,justifyItems:!0,justifyContent:!0,flexWrap:!0,flexDirection:!0,flex:!0,flexGrow:!0,flexShrink:!0,flexBasis:!0,justifySelf:!0,alignSelf:!0,order:!0},flexbox=system(config$4),defaults$2={space:[0,4,8,16,32,64,128,256,512]},config$3={gridGap:{property:"gridGap",scale:"space",defaultScale:defaults$2.space},gridColumnGap:{property:"gridColumnGap",scale:"space",defaultScale:defaults$2.space},gridRowGap:{property:"gridRowGap",scale:"space",defaultScale:defaults$2.space},gridColumn:!0,gridRow:!0,gridAutoFlow:!0,gridAutoColumns:!0,gridAutoRows:!0,gridTemplateColumns:!0,gridTemplateRows:!0,gridTemplateAreas:!0,gridArea:!0},grid=system(config$3),config$2={border:{property:"border",scale:"borders"},borderWidth:{property:"borderWidth",scale:"borderWidths"},borderStyle:{property:"borderStyle",scale:"borderStyles"},borderColor:{property:"borderColor",scale:"colors"},borderRadius:{property:"borderRadius",scale:"radii"},borderTop:{property:"borderTop",scale:"borders"},borderTopLeftRadius:{property:"borderTopLeftRadius",scale:"radii"},borderTopRightRadius:{property:"borderTopRightRadius",scale:"radii"},borderRight:{property:"borderRight",scale:"borders"},borderBottom:{property:"borderBottom",scale:"borders"},borderBottomLeftRadius:{property:"borderBottomLeftRadius",scale:"radii"},borderBottomRightRadius:{property:"borderBottomRightRadius",scale:"radii"},borderLeft:{property:"borderLeft",scale:"borders"},borderX:{properties:["borderLeft","borderRight"],scale:"borders"},borderY:{properties:["borderTop","borderBottom"],scale:"borders"}};config$2.borderTopWidth={property:"borderTopWidth",scale:"borderWidths"};config$2.borderTopColor={property:"borderTopColor",scale:"colors"};config$2.borderTopStyle={property:"borderTopStyle",scale:"borderStyles"};config$2.borderTopLeftRadius={property:"borderTopLeftRadius",scale:"radii"};config$2.borderTopRightRadius={property:"borderTopRightRadius",scale:"radii"};config$2.borderBottomWidth={property:"borderBottomWidth",scale:"borderWidths"};config$2.borderBottomColor={property:"borderBottomColor",scale:"colors"};config$2.borderBottomStyle={property:"borderBottomStyle",scale:"borderStyles"};config$2.borderBottomLeftRadius={property:"borderBottomLeftRadius",scale:"radii"};config$2.borderBottomRightRadius={property:"borderBottomRightRadius",scale:"radii"};config$2.borderLeftWidth={property:"borderLeftWidth",scale:"borderWidths"};config$2.borderLeftColor={property:"borderLeftColor",scale:"colors"};config$2.borderLeftStyle={property:"borderLeftStyle",scale:"borderStyles"};config$2.borderRightWidth={property:"borderRightWidth",scale:"borderWidths"};config$2.borderRightColor={property:"borderRightColor",scale:"colors"};config$2.borderRightStyle={property:"borderRightStyle",scale:"borderStyles"};var border=system(config$2),config$1={background:!0,backgroundImage:!0,backgroundSize:!0,backgroundPosition:!0,backgroundRepeat:!0};config$1.bgImage=config$1.backgroundImage;config$1.bgSize=config$1.backgroundSize;config$1.bgPosition=config$1.backgroundPosition;config$1.bgRepeat=config$1.backgroundRepeat;var background=system(config$1),defaults$1={space:[0,4,8,16,32,64,128,256,512]},config={position:!0,zIndex:{property:"zIndex",scale:"zIndices"},top:{property:"top",scale:"space",defaultScale:defaults$1.space},right:{property:"right",scale:"space",defaultScale:defaults$1.space},bottom:{property:"bottom",scale:"space",defaultScale:defaults$1.space},left:{property:"left",scale:"space",defaultScale:defaults$1.space}},position=system(config),defaults={space:[0,4,8,16,32,64,128,256,512]},isNumber=function(ns){return typeof ns=="number"&&!isNaN(ns)},getMargin=function(ns,rs){if(!isNumber(ns))return get$2(rs,ns,ns);var is=ns<0,os=Math.abs(ns),ss=get$2(rs,os,os);return isNumber(ss)?ss*(is?-1:1):is?"-"+ss:ss},configs={};configs.margin={margin:{property:"margin",scale:"space",transform:getMargin,defaultScale:defaults.space},marginTop:{property:"marginTop",scale:"space",transform:getMargin,defaultScale:defaults.space},marginRight:{property:"marginRight",scale:"space",transform:getMargin,defaultScale:defaults.space},marginBottom:{property:"marginBottom",scale:"space",transform:getMargin,defaultScale:defaults.space},marginLeft:{property:"marginLeft",scale:"space",transform:getMargin,defaultScale:defaults.space},marginX:{properties:["marginLeft","marginRight"],scale:"space",transform:getMargin,defaultScale:defaults.space},marginY:{properties:["marginTop","marginBottom"],scale:"space",transform:getMargin,defaultScale:defaults.space}};configs.margin.m=configs.margin.margin;configs.margin.mt=configs.margin.marginTop;configs.margin.mr=configs.margin.marginRight;configs.margin.mb=configs.margin.marginBottom;configs.margin.ml=configs.margin.marginLeft;configs.margin.mx=configs.margin.marginX;configs.margin.my=configs.margin.marginY;configs.padding={padding:{property:"padding",scale:"space",defaultScale:defaults.space},paddingTop:{property:"paddingTop",scale:"space",defaultScale:defaults.space},paddingRight:{property:"paddingRight",scale:"space",defaultScale:defaults.space},paddingBottom:{property:"paddingBottom",scale:"space",defaultScale:defaults.space},paddingLeft:{property:"paddingLeft",scale:"space",defaultScale:defaults.space},paddingX:{properties:["paddingLeft","paddingRight"],scale:"space",defaultScale:defaults.space},paddingY:{properties:["paddingTop","paddingBottom"],scale:"space",defaultScale:defaults.space}};configs.padding.p=configs.padding.padding;configs.padding.pt=configs.padding.paddingTop;configs.padding.pr=configs.padding.paddingRight;configs.padding.pb=configs.padding.paddingBottom;configs.padding.pl=configs.padding.paddingLeft;configs.padding.px=configs.padding.paddingX;configs.padding.py=configs.padding.paddingY;var margin=system(configs.margin),padding=system(configs.padding),space=compose(margin,padding);system({boxShadow:{property:"boxShadow",scale:"shadows"},textShadow:{property:"textShadow",scale:"shadows"}});function _extends(){return _extends=Object.assign||function(ts){for(var ns=1;ns<arguments.length;ns++){var rs=arguments[ns];for(var is in rs)Object.prototype.hasOwnProperty.call(rs,is)&&(ts[is]=rs[is])}return ts},_extends.apply(this,arguments)}var get$1=function(ns,rs,is,os,ss){for(rs=rs&&rs.split?rs.split("."):[rs],os=0;os<rs.length;os++)ns=ns?ns[rs[os]]:ss;return ns===ss?is:ns},defaultBreakpoints=[40,52,64].map(function(ts){return ts+"em"}),defaultTheme$1={space:[0,4,8,16,32,64,128,256,512],fontSizes:[12,14,16,20,24,32,48,64,72]},aliases={bg:"backgroundColor",m:"margin",mt:"marginTop",mr:"marginRight",mb:"marginBottom",ml:"marginLeft",mx:"marginX",my:"marginY",p:"padding",pt:"paddingTop",pr:"paddingRight",pb:"paddingBottom",pl:"paddingLeft",px:"paddingX",py:"paddingY"},multiples={marginX:["marginLeft","marginRight"],marginY:["marginTop","marginBottom"],paddingX:["paddingLeft","paddingRight"],paddingY:["paddingTop","paddingBottom"],size:["width","height"]},scales={color:"colors",backgroundColor:"colors",borderColor:"colors",margin:"space",marginTop:"space",marginRight:"space",marginBottom:"space",marginLeft:"space",marginX:"space",marginY:"space",padding:"space",paddingTop:"space",paddingRight:"space",paddingBottom:"space",paddingLeft:"space",paddingX:"space",paddingY:"space",top:"space",right:"space",bottom:"space",left:"space",gridGap:"space",gridColumnGap:"space",gridRowGap:"space",gap:"space",columnGap:"space",rowGap:"space",fontFamily:"fonts",fontSize:"fontSizes",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",border:"borders",borderTop:"borders",borderRight:"borders",borderBottom:"borders",borderLeft:"borders",borderWidth:"borderWidths",borderStyle:"borderStyles",borderRadius:"radii",borderTopRightRadius:"radii",borderTopLeftRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",borderTopWidth:"borderWidths",borderTopColor:"colors",borderTopStyle:"borderStyles",borderBottomWidth:"borderWidths",borderBottomColor:"colors",borderBottomStyle:"borderStyles",borderLeftWidth:"borderWidths",borderLeftColor:"colors",borderLeftStyle:"borderStyles",borderRightWidth:"borderWidths",borderRightColor:"colors",borderRightStyle:"borderStyles",outlineColor:"colors",boxShadow:"shadows",textShadow:"shadows",zIndex:"zIndices",width:"sizes",minWidth:"sizes",maxWidth:"sizes",height:"sizes",minHeight:"sizes",maxHeight:"sizes",flexBasis:"sizes",size:"sizes",fill:"colors",stroke:"colors"},positiveOrNegative=function(ns,rs){if(typeof rs!="number"||rs>=0)return get$1(ns,rs,rs);var is=Math.abs(rs),os=get$1(ns,is,is);return typeof os=="string"?"-"+os:os*-1},transforms=["margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","top","bottom","left","right"].reduce(function(ts,ns){var rs;return _extends({},ts,(rs={},rs[ns]=positiveOrNegative,rs))},{}),responsive=function(ns){return function(rs){var is={},os=get$1(rs,"breakpoints",defaultBreakpoints),ss=[null].concat(os.map(function(ds){return"@media screen and (min-width: "+ds+")"}));for(var as in ns){var ls=typeof ns[as]=="function"?ns[as](rs):ns[as];if(ls!=null){if(!Array.isArray(ls)){is[as]=ls;continue}for(var cs=0;cs<ls.slice(0,ss.length).length;cs++){var us=ss[cs];if(!us){is[as]=ls[cs];continue}is[us]=is[us]||{},ls[cs]!=null&&(is[us][as]=ls[cs])}}}return is}},css=function ts(ns){return function(rs){rs===void 0&&(rs={});var is=_extends({},defaultTheme$1,{},rs.theme||rs),os={},ss=typeof ns=="function"?ns(is):ns,as=responsive(ss)(is);for(var ls in as){var cs=as[ls],us=typeof cs=="function"?cs(is):cs;if(ls==="variant"){var ds=ts(get$1(is,us))(is);os=_extends({},os,{},ds);continue}if(us&&typeof us=="object"){os[ls]=ts(us)(is);continue}var ps=get$1(aliases,ls,ls),hs=get$1(scales,ps),ms=get$1(is,hs,get$1(is,ps,{})),gs=get$1(transforms,ps,get$1),ys=gs(ms,us,us);if(multiples[ps])for(var vs=multiples[ps],bs=0;bs<vs.length;bs++)os[vs[bs]]=ys;else os[ps]=ys}return os}};const css$1=css;var variant=function(ns){var rs,is=ns.scale,os=ns.prop,ss=os===void 0?"variant":os,as=ns.variants,ls=as===void 0?{}:as,cs=ns.key,us;Object.keys(ls).length?us=function(ms,gs,ys){return css$1(get$2(gs,ms,null))(ys.theme)}:us=function(ms,gs){return get$2(gs,ms,null)},us.scale=is||cs,us.defaults=ls;var ds=(rs={},rs[ss]=us,rs),ps=createParser(ds);return ps};variant({key:"buttons"});variant({key:"textStyles",prop:"textStyle"});variant({key:"colorStyles",prop:"colors"});layout.width;layout.height;layout.minWidth;layout.minHeight;layout.maxWidth;layout.maxHeight;layout.size;layout.verticalAlign;layout.display;layout.overflow;layout.overflowX;layout.overflowY;color.opacity;typography.fontSize;typography.fontFamily;typography.fontWeight;typography.lineHeight;typography.textAlign;typography.fontStyle;typography.letterSpacing;flexbox.alignItems;flexbox.alignContent;flexbox.justifyItems;flexbox.justifyContent;flexbox.flexWrap;flexbox.flexDirection;flexbox.flex;flexbox.flexGrow;flexbox.flexShrink;flexbox.flexBasis;flexbox.justifySelf;flexbox.alignSelf;flexbox.order;grid.gridGap;grid.gridColumnGap;grid.gridRowGap;grid.gridColumn;grid.gridRow;grid.gridAutoFlow;grid.gridAutoColumns;grid.gridAutoRows;grid.gridTemplateColumns;grid.gridTemplateRows;grid.gridTemplateAreas;grid.gridArea;border.borderWidth;border.borderStyle;border.borderColor;border.borderTop;border.borderRight;border.borderBottom;border.borderLeft;border.borderRadius;background.backgroundImage;background.backgroundSize;background.backgroundPosition;background.backgroundRepeat;position.zIndex;position.top;position.right;position.bottom;position.left;var build$2={},AllHighestVideoBandwidthPolicy$1={},DefaultVideoStreamIdSet$1={};Object.defineProperty(DefaultVideoStreamIdSet$1,"__esModule",{value:!0});class DefaultVideoStreamIdSet{constructor(ns){this.ids=new Set(ns)}add(ns){this.ids.add(ns)}array(){return Array.from(this.ids.values()).sort((rs,is)=>rs-is)}contain(ns){return this.ids.has(ns)}forEach(ns){this.ids.forEach(ns)}empty(){return this.ids.size===0}size(){return this.ids.size}equal(ns){if(!ns)return this.ids.size===0;const rs=this.array(),is=ns.array();if(rs.length!==is.length)return!1;for(let os=0;os<rs.length;os++)if(rs[os]!==is[os])return!1;return!0}clone(){return new DefaultVideoStreamIdSet(this.array())}remove(ns){this.ids.delete(ns)}toJSON(){return this.array()}truncate(ns){const rs=this.array();return new DefaultVideoStreamIdSet(rs.splice(0,ns))}}DefaultVideoStreamIdSet$1.default=DefaultVideoStreamIdSet;var __importDefault$1N=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(AllHighestVideoBandwidthPolicy$1,"__esModule",{value:!0});const DefaultVideoStreamIdSet_1$3=__importDefault$1N(DefaultVideoStreamIdSet$1);class AllHighestVideoBandwidthPolicy{constructor(ns){this.selfAttendeeId=ns,this.reset()}reset(){this.optimalReceiveSet=new DefaultVideoStreamIdSet_1$3.default,this.subscribedReceiveSet=new DefaultVideoStreamIdSet_1$3.default,this.videoSources=void 0}updateIndex(ns){this.videoIndex=ns,this.optimalReceiveSet=this.calculateOptimalReceiveSet(ns)}updateMetrics(ns){}wantsResubscribe(){return!this.subscribedReceiveSet.equal(this.optimalReceiveSet)}chooseSubscriptions(){return this.subscribedReceiveSet=this.optimalReceiveSet.clone(),this.subscribedReceiveSet.clone()}chooseRemoteVideoSources(ns){this.videoSources=ns,this.optimalReceiveSet=this.calculateOptimalReceiveSet(this.videoIndex).clone()}calculateOptimalReceiveSet(ns){const rs=new DefaultVideoStreamIdSet_1$3.default;if(!this.videoIndex||this.videoIndex.allStreams().empty())return rs;const is=ns.highestQualityStreamFromEachGroupExcludingSelf(this.selfAttendeeId),os=this.videoSources?this.videoSources:this.videoIndex.allVideoSendingSourcesExcludingSelf(this.selfAttendeeId),ss=this.videoIndex.remoteStreamDescriptions(),as=new Map;for(const cs of ss)is.contain(cs.streamId)&&as.set(cs.attendeeId,cs);let ls=0;for(const cs of os){const us=cs.attendee.attendeeId;if(as.has(us)){const ds=as.get(us);if(ls+ds.maxBitrateKbps<=AllHighestVideoBandwidthPolicy.maxReceiveBitrateKbps)rs.add(ds.streamId),ls+=ds.maxBitrateKbps;else{console.warn("total bitrate "+(ls+ds.maxBitrateKbps)+" exceeds maximum limit (15000). Use chooseRemoteVideoSources to select a subset of participants to avoid this.");break}}}return rs}}AllHighestVideoBandwidthPolicy$1.default=AllHighestVideoBandwidthPolicy;AllHighestVideoBandwidthPolicy.maxReceiveBitrateKbps=15e3;var ApplicationMetadata$1={};Object.defineProperty(ApplicationMetadata$1,"__esModule",{value:!0});class ApplicationMetadata{constructor(ns,rs){this.appName=ns,this.appVersion=rs}static create(ns,rs){const is=/^[a-zA-Z0-9]+[a-zA-Z0-9_-]*[a-zA-Z0-9]+$/g;if(!ns||ns.length>32)throw new Error("appName should be a valid string and 1 to 32 characters in length");if(!is.test(ns))throw new Error("appName must satisfy ".concat(is," regular expression"));const os=/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/gm;if(!rs||rs.length>32)throw new Error("appVersion should be a valid string and 1 to 32 characters in length");if(!os.test(rs))throw new Error("appVersion must satisfy Semantic Versioning format");return new ApplicationMetadata(ns,rs)}}ApplicationMetadata$1.default=ApplicationMetadata;var AsyncScheduler$1={},TimeoutScheduler$1={};Object.defineProperty(TimeoutScheduler$1,"__esModule",{value:!0});class TimeoutScheduler{constructor(ns){this.timeoutMs=ns,this.timer=null}start(ns){this.stop(),this.timer=setTimeout(()=>{clearTimeout(this.timer),ns()},this.timeoutMs)}stop(){this.timer!==null&&(clearTimeout(this.timer),this.timer=null)}}TimeoutScheduler$1.default=TimeoutScheduler;var __importDefault$1M=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(AsyncScheduler$1,"__esModule",{value:!0});const TimeoutScheduler_1$3=__importDefault$1M(TimeoutScheduler$1);class AsyncScheduler extends TimeoutScheduler_1$3.default{constructor(){super(0)}static nextTick(ns){setTimeout(ns,0)}}AsyncScheduler$1.default=AsyncScheduler;var AttachMediaInputTask$1={},VideoLogEvent={};(function(ts){Object.defineProperty(ts,"__esModule",{value:!0}),ts.VideoLogEvent=void 0;var ns;(function(rs){rs[rs.InputAttached=0]="InputAttached",rs[rs.SendingFailed=1]="SendingFailed",rs[rs.SendingSuccess=2]="SendingSuccess"})(ns=ts.VideoLogEvent||(ts.VideoLogEvent={})),ts.default=ns})(VideoLogEvent);var BaseTask$1={},OnceTask$1={},LogLevel={};(function(ts){Object.defineProperty(ts,"__esModule",{value:!0}),ts.LogLevel=void 0;var ns;(function(rs){rs[rs.DEBUG=0]="DEBUG",rs[rs.INFO=1]="INFO",rs[rs.WARN=2]="WARN",rs[rs.ERROR=3]="ERROR",rs[rs.OFF=4]="OFF"})(ns=ts.LogLevel||(ts.LogLevel={})),ts.default=ns})(LogLevel);var __importDefault$1L=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(OnceTask$1,"__esModule",{value:!0});const LogLevel_1$8=__importDefault$1L(LogLevel),AsyncScheduler_1$8=__importDefault$1L(AsyncScheduler$1);class OnceTask{constructor(ns,rs,is){this.logger=ns,this.task=rs,this.dependencies=is,this.canceled=!1}name(){return"".concat(this.task.name()," (once)")}cancel(){if(!this.canceled){if(this.dependencies)for(const ns of this.dependencies)ns.cancel();this.logger.info("Canceling ".concat(this.name())),AsyncScheduler_1$8.default.nextTick(()=>this.task.cancel()),this.canceled=!0,this.cancelPromise&&AsyncScheduler_1$8.default.nextTick(()=>this.cancelPromise(new Error("canceling ".concat(this.name()))))}}logDependencies(){if(this.logger.getLogLevel()>LogLevel_1$8.default.INFO||!this.dependencies)return;const ns=this.dependencies.filter(rs=>rs).map(rs=>rs.name()).join(", ");this.logger.info("".concat(this.task.name()," waiting for dependencies: ").concat(ns))}run(){if(this.promise)return this.promise;const ns=this.dependencies?Promise.all(this.dependencies.map(rs=>rs==null?void 0:rs.run())):Promise.resolve();return this.logDependencies(),this.ongoing=ns.then(()=>this.task.run()),this.promise=new Promise((rs,is)=>{this.cancelPromise=is,this.ongoing.then(rs).catch(is)})}setParent(ns){this.task.setParent(ns)}}OnceTask$1.default=OnceTask;var TaskStatus$1={};Object.defineProperty(TaskStatus$1,"__esModule",{value:!0});var TaskStatus;(function(ts){ts.IDLE="IDLE",ts.RUNNING="RUNNING",ts.CANCELED="CANCELED",ts.FINISHED="FINISHED"})(TaskStatus||(TaskStatus={}));TaskStatus$1.default=TaskStatus;var __awaiter$17=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,ns,rs,is){function os(ss){return ss instanceof rs?ss:new rs(function(as){as(ss)})}return new(rs||(rs=Promise))(function(ss,as){function ls(ds){try{us(is.next(ds))}catch(ps){as(ps)}}function cs(ds){try{us(is.throw(ds))}catch(ps){as(ps)}}function us(ds){ds.done?ss(ds.value):os(ds.value).then(ls,cs)}us((is=is.apply(ts,ns||[])).next())})},__importDefault$1K=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(BaseTask$1,"__esModule",{value:!0});const OnceTask_1=__importDefault$1K(OnceTask$1),TaskStatus_1$1=__importDefault$1K(TaskStatus$1);class BaseTask{constructor(ns){this.logger=ns,this.taskName="BaseTask",this.parentTask=null,this.status=TaskStatus_1$1.default.IDLE,this.run=this.baseRun.bind(this,this.run),this.cancel=this.baseCancel.bind(this,this.cancel)}once(...ns){return new OnceTask_1.default(this.logger,this,ns)}cancel(){}name(){return this.parentTask?"".concat(this.parentTask.name(),"/").concat(this.taskName):this.taskName}setParent(ns){this.parentTask=ns}getStatus(){return this.status}logAndThrow(ns){throw this.logger.info(ns),new Error(ns)}baseRun(ns){return __awaiter$17(this,void 0,void 0,function*(){try{const rs=Date.now();switch(this.logger.info("running task ".concat(this.name())),this.status){case TaskStatus_1$1.default.RUNNING:this.logAndThrow("".concat(this.name()," is already running"));case TaskStatus_1$1.default.CANCELED:this.logAndThrow("".concat(this.name()," was canceled before running"));case TaskStatus_1$1.default.FINISHED:this.logAndThrow("".concat(this.name()," was already finished"))}this.status=TaskStatus_1$1.default.RUNNING,yield ns.call(this),this.logger.info("".concat(this.name()," took ").concat(Math.round(Date.now()-rs)," ms"))}catch(rs){throw rs}finally{this.status!==TaskStatus_1$1.default.CANCELED&&(this.status=TaskStatus_1$1.default.FINISHED)}})}baseCancel(ns){if(this.status===TaskStatus_1$1.default.CANCELED||this.status===TaskStatus_1$1.default.FINISHED){this.logger.info("Not canceling ".concat(this.name(),": state is ").concat(this.status));return}this.logger.info("canceling task ".concat(this.name())),this.status=TaskStatus_1$1.default.CANCELED,ns.call(this)}}BaseTask$1.default=BaseTask;var __awaiter$16=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,ns,rs,is){function os(ss){return ss instanceof rs?ss:new rs(function(as){as(ss)})}return new(rs||(rs=Promise))(function(ss,as){function ls(ds){try{us(is.next(ds))}catch(ps){as(ps)}}function cs(ds){try{us(is.throw(ds))}catch(ps){as(ps)}}function us(ds){ds.done?ss(ds.value):os(ds.value).then(ls,cs)}us((is=is.apply(ts,ns||[])).next())})},__importDefault$1J=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(AttachMediaInputTask$1,"__esModule",{value:!0});const VideoLogEvent_1$1=__importDefault$1J(VideoLogEvent),BaseTask_1$o=__importDefault$1J(BaseTask$1);class AttachMediaInputTask extends BaseTask_1$o.default{constructor(ns){super(ns.logger),this.context=ns,this.taskName="AttachMediaInputTask"}run(){return __awaiter$16(this,void 0,void 0,function*(){const ns=this.context.transceiverController;ns.setPeer(this.context.peer),ns.setupLocalTransceivers();const rs=this.context.activeAudioInput;if(rs){const os=rs.getAudioTracks();this.context.logger.info("attaching audio track to peer connection"),yield ns.setAudioInput(os.length?os[0]:null)}else yield ns.setAudioInput(null),this.context.logger.info("no audio track");this.setAudioCodecPreferences();const is=this.context.activeVideoInput;if(is){const os=is.getVideoTracks(),ss=os.length?os[0]:null;if(this.context.logger.info("attaching video track to peer connection"),yield ns.setVideoInput(ss),this.context.enableSimulcast&&this.context.videoUplinkBandwidthPolicy){const as=this.context.videoUplinkBandwidthPolicy.chooseEncodingParameters();ns.setEncodingParameters(as)}ss&&this.context.statsCollector.logVideoEvent(VideoLogEvent_1$1.default.InputAttached,this.context.videoDeviceInformation)}else yield ns.setVideoInput(null),this.context.logger.info("no video track");this.context.videoSubscriptions=ns.updateVideoTransceivers(this.context.videoStreamIndex,this.context.videosToReceive),this.context.videoStreamIndex.subscribeFrameSent()})}setAudioCodecPreferences(){const ns=window.RTCRtpTransceiver&&"setCodecPreferences"in window.RTCRtpTransceiver.prototype,rs=this.context.audioProfile.hasRedundancyEnabled();if(!ns){this.context.logger.warn("Setting codec preferences not supported");return}const is=this.context.transceiverController.localAudioTransceiver(),{codecs:os}=RTCRtpSender.getCapabilities("audio");this.context.logger.debug("Available audio codecs ".concat(JSON.stringify(os,null,4)));const ss=os.findIndex(as=>as.mimeType==="audio/red");if(!is){this.context.logger.error("audio transceiver is null");return}if(ss>=0){const as=os[ss];os.splice(ss,1),rs?(os.unshift(as),this.context.logger.info("audio/red set as preferred codec")):this.context.logger.info("audio/red removed from preferred codec"),is.setCodecPreferences(os);return}this.context.logger.info("audio/red codec not supported")}}AttachMediaInputTask$1.default=AttachMediaInputTask;var Attendee$1={};Object.defineProperty(Attendee$1,"__esModule",{value:!0});class Attendee{}Attendee$1.default=Attendee;var AudioLogEvent={};(function(ts){Object.defineProperty(ts,"__esModule",{value:!0}),ts.AudioLogEvent=void 0;var ns;(function(rs){rs[rs.DeviceChanged=0]="DeviceChanged",rs[rs.MutedLocal=1]="MutedLocal",rs[rs.UnmutedLocal=2]="UnmutedLocal",rs[rs.Connected=3]="Connected",rs[rs.ConnectFailed=4]="ConnectFailed",rs[rs.RedmicStartLoss=5]="RedmicStartLoss",rs[rs.RedmicEndLoss=6]="RedmicEndLoss"})(ns=ts.AudioLogEvent||(ts.AudioLogEvent={})),ts.default=ns})(AudioLogEvent);var AudioProfile$1={},DefaultBrowserBehavior$1={},__spreadArray=globalThis&&globalThis.__spreadArray||function(ts,ns,rs){if(rs||arguments.length===2)for(var is=0,os=ns.length,ss;is<os;is++)(ss||!(is in ns))&&(ss||(ss=Array.prototype.slice.call(ns,0,is)),ss[is]=ns[is]);return ts.concat(ss||Array.prototype.slice.call(ns))},BrowserInfo=function(){function ts(ns,rs,is){this.name=ns,this.version=rs,this.os=is,this.type="browser"}return ts}(),NodeInfo=function(){function ts(ns){this.version=ns,this.type="node",this.name="node",this.os=process.platform}return ts}(),SearchBotDeviceInfo=function(){function ts(ns,rs,is,os){this.name=ns,this.version=rs,this.os=is,this.bot=os,this.type="bot-device"}return ts}(),BotInfo=function(){function ts(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return ts}(),ReactNativeInfo=function(){function ts(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return ts}(),SEARCHBOX_UA_REGEX=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,SEARCHBOT_OS_REGEX=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,REQUIRED_VERSION_PARTS=3,userAgentRules=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",SEARCHBOX_UA_REGEX]],operatingSystemRules=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function detect(ts){return ts?parseUserAgent(ts):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new ReactNativeInfo:typeof navigator<"u"?parseUserAgent(navigator.userAgent):getNodeVersion()}function matchUserAgent(ts){return ts!==""&&userAgentRules.reduce(function(ns,rs){var is=rs[0],os=rs[1];if(ns)return ns;var ss=os.exec(ts);return!!ss&&[is,ss]},!1)}function browserName(ts){var ns=matchUserAgent(ts);return ns?ns[0]:null}function parseUserAgent(ts){var ns=matchUserAgent(ts);if(!ns)return null;var rs=ns[0],is=ns[1];if(rs==="searchbot")return new BotInfo;var os=is[1]&&is[1].split(".").join("_").split("_").slice(0,3);os?os.length<REQUIRED_VERSION_PARTS&&(os=__spreadArray(__spreadArray([],os,!0),createVersionParts(REQUIRED_VERSION_PARTS-os.length),!0)):os=[];var ss=os.join("."),as=detectOS(ts),ls=SEARCHBOT_OS_REGEX.exec(ts);return ls&&ls[1]?new SearchBotDeviceInfo(rs,ss,as,ls[1]):new BrowserInfo(rs,ss,as)}function detectOS(ts){for(var ns=0,rs=operatingSystemRules.length;ns<rs;ns++){var is=operatingSystemRules[ns],os=is[0],ss=is[1],as=ss.exec(ts);if(as)return os}return null}function getNodeVersion(){var ts=typeof process<"u"&&process.version;return ts?new NodeInfo(process.version.slice(1)):null}function createVersionParts(ts){for(var ns=[],rs=0;rs<ts;rs++)ns.push("0");return ns}const es=Object.freeze(Object.defineProperty({__proto__:null,BotInfo,BrowserInfo,NodeInfo,ReactNativeInfo,SearchBotDeviceInfo,browserName,detect,detectOS,getNodeVersion,parseUserAgent},Symbol.toStringTag,{value:"Module"})),require$$0$3=getAugmentedNamespace(es);var uaParser={exports:{}};(function(ts,ns){(function(rs,is){var os="1.0.38",ss="",as="?",ls="function",cs="undefined",us="object",ds="string",ps="major",hs="model",ms="name",gs="type",ys="vendor",vs="version",bs="architecture",Ss="console",$s="mobile",Cs="tablet",Es="smarttv",xs="wearable",ws="embedded",ks=500,Is="Amazon",Ts="Apple",Rs="ASUS",As="BlackBerry",Ms="Browser",Ls="Chrome",Ds="Edge",Fs="Firefox",Vs="Google",Bs="Huawei",Ws="LG",Os="Microsoft",Nl="Motorola",$a="Opera",Ps="Samsung",Ys="Sharp",Zs="Sony",Us="Xiaomi",Ol="Zebra",qs="Facebook",Fl="Chromium OS",Ll="Mac OS",$l=function(Bl,Ks){var Sl={};for(var Il in Bl)Ks[Il]&&Ks[Il].length%2===0?Sl[Il]=Ks[Il].concat(Bl[Il]):Sl[Il]=Bl[Il];return Sl},Cl=function(Bl){for(var Ks={},Sl=0;Sl<Bl.length;Sl++)Ks[Bl[Sl].toUpperCase()]=Bl[Sl];return Ks},wl=function(Bl,Ks){return typeof Bl===ds?Tl(Ks).indexOf(Tl(Bl))!==-1:!1},Tl=function(Bl){return Bl.toLowerCase()},xl=function(Bl){return typeof Bl===ds?Bl.replace(/[^\d\.]/g,ss).split(".")[0]:is},Al=function(Bl,Ks){if(typeof Bl===ds)return Bl=Bl.replace(/^\s\s*/,ss),typeof Ks===cs?Bl:Bl.substring(0,ks)},Dl=function(Bl,Ks){for(var Sl=0,Il,Ml,Kl,Ql,Yl,Gl;Sl<Ks.length&&!Yl;){var iu=Ks[Sl],Vl=Ks[Sl+1];for(Il=Ml=0;Il<iu.length&&!Yl&&iu[Il];)if(Yl=iu[Il++].exec(Bl),Yl)for(Kl=0;Kl<Vl.length;Kl++)Gl=Yl[++Ml],Ql=Vl[Kl],typeof Ql===us&&Ql.length>0?Ql.length===2?typeof Ql[1]==ls?this[Ql[0]]=Ql[1].call(this,Gl):this[Ql[0]]=Ql[1]:Ql.length===3?typeof Ql[1]===ls&&!(Ql[1].exec&&Ql[1].test)?this[Ql[0]]=Gl?Ql[1].call(this,Gl,Ql[2]):is:this[Ql[0]]=Gl?Gl.replace(Ql[1],Ql[2]):is:Ql.length===4&&(this[Ql[0]]=Gl?Ql[3].call(this,Gl.replace(Ql[1],Ql[2])):is):this[Ql]=Gl||is;Sl+=2}},Ns=function(Bl,Ks){for(var Sl in Ks)if(typeof Ks[Sl]===us&&Ks[Sl].length>0){for(var Il=0;Il<Ks[Sl].length;Il++)if(wl(Ks[Sl][Il],Bl))return Sl===as?is:Sl}else if(wl(Ks[Sl],Bl))return Sl===as?is:Sl;return Bl},Hs={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},Gs={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Js={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[vs,[ms,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[vs,[ms,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[ms,vs],[/opios[\/ ]+([\w\.]+)/i],[vs,[ms,$a+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[vs,[ms,$a+" GX"]],[/\bopr\/([\w\.]+)/i],[vs,[ms,$a]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[vs,[ms,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[ms,vs],[/\bddg\/([\w\.]+)/i],[vs,[ms,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[vs,[ms,"UC"+Ms]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[vs,[ms,"WeChat"]],[/konqueror\/([\w\.]+)/i],[vs,[ms,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[vs,[ms,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[vs,[ms,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[vs,[ms,"Smart Lenovo "+Ms]],[/(avast|avg)\/([\w\.]+)/i],[[ms,/(.+)/,"$1 Secure "+Ms],vs],[/\bfocus\/([\w\.]+)/i],[vs,[ms,Fs+" Focus"]],[/\bopt\/([\w\.]+)/i],[vs,[ms,$a+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[vs,[ms,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[vs,[ms,"Dolphin"]],[/coast\/([\w\.]+)/i],[vs,[ms,$a+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[vs,[ms,"MIUI "+Ms]],[/fxios\/([-\w\.]+)/i],[vs,[ms,Fs]],[/\bqihu|(qi?ho?o?|360)browser/i],[[ms,"360 "+Ms]],[/(oculus|sailfish|huawei|vivo)browser\/([\w\.]+)/i],[[ms,/(.+)/,"$1 "+Ms],vs],[/samsungbrowser\/([\w\.]+)/i],[vs,[ms,Ps+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[ms,/_/g," "],vs],[/metasr[\/ ]?([\d\.]+)/i],[vs,[ms,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[ms,"Sogou Mobile"],vs],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[ms,vs],[/(lbbrowser)/i,/\[(linkedin)app\]/i],[ms],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[ms,qs],vs],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[ms,vs],[/\bgsa\/([\w\.]+) .*safari\//i],[vs,[ms,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[vs,[ms,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[vs,[ms,Ls+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[ms,Ls+" WebView"],vs],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[vs,[ms,"Android "+Ms]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[ms,vs],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[vs,[ms,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[vs,ms],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[ms,[vs,Ns,Hs]],[/(webkit|khtml)\/([\w\.]+)/i],[ms,vs],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[ms,"Netscape"],vs],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[vs,[ms,Fs+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[ms,vs],[/(cobalt)\/([\w\.]+)/i],[ms,[vs,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[bs,"amd64"]],[/(ia32(?=;))/i],[[bs,Tl]],[/((?:i[346]|x)86)[;\)]/i],[[bs,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[bs,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[bs,"armhf"]],[/windows (ce|mobile); ppc;/i],[[bs,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[bs,/ower/,ss,Tl]],[/(sun4\w)[;\)]/i],[[bs,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[bs,Tl]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[hs,[ys,Ps],[gs,Cs]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[hs,[ys,Ps],[gs,$s]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[hs,[ys,Ts],[gs,$s]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[hs,[ys,Ts],[gs,Cs]],[/(macintosh);/i],[hs,[ys,Ts]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[hs,[ys,Ys],[gs,$s]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[hs,[ys,Bs],[gs,Cs]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[hs,[ys,Bs],[gs,$s]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[hs,/_/g," "],[ys,Us],[gs,$s]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[hs,/_/g," "],[ys,Us],[gs,Cs]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[hs,[ys,"OPPO"],[gs,$s]],[/\b(opd2\d{3}a?) bui/i],[hs,[ys,"OPPO"],[gs,Cs]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[hs,[ys,"Vivo"],[gs,$s]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[hs,[ys,"Realme"],[gs,$s]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[hs,[ys,Nl],[gs,$s]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[hs,[ys,Nl],[gs,Cs]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[hs,[ys,Ws],[gs,Cs]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[hs,[ys,Ws],[gs,$s]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[hs,[ys,"Lenovo"],[gs,Cs]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[hs,/_/g," "],[ys,"Nokia"],[gs,$s]],[/(pixel c)\b/i],[hs,[ys,Vs],[gs,Cs]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[hs,[ys,Vs],[gs,$s]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[hs,[ys,Zs],[gs,$s]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[hs,"Xperia Tablet"],[ys,Zs],[gs,Cs]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[hs,[ys,"OnePlus"],[gs,$s]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[hs,[ys,Is],[gs,Cs]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[hs,/(.+)/g,"Fire Phone $1"],[ys,Is],[gs,$s]],[/(playbook);[-\w\),; ]+(rim)/i],[hs,ys,[gs,Cs]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[hs,[ys,As],[gs,$s]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[hs,[ys,Rs],[gs,Cs]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[hs,[ys,Rs],[gs,$s]],[/(nexus 9)/i],[hs,[ys,"HTC"],[gs,Cs]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[ys,[hs,/_/g," "],[gs,$s]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[hs,[ys,"Acer"],[gs,Cs]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[hs,[ys,"Meizu"],[gs,$s]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[hs,[ys,"Ulefone"],[gs,$s]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[ys,hs,[gs,$s]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[ys,hs,[gs,Cs]],[/(surface duo)/i],[hs,[ys,Os],[gs,Cs]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[hs,[ys,"Fairphone"],[gs,$s]],[/(u304aa)/i],[hs,[ys,"AT&T"],[gs,$s]],[/\bsie-(\w*)/i],[hs,[ys,"Siemens"],[gs,$s]],[/\b(rct\w+) b/i],[hs,[ys,"RCA"],[gs,Cs]],[/\b(venue[\d ]{2,7}) b/i],[hs,[ys,"Dell"],[gs,Cs]],[/\b(q(?:mv|ta)\w+) b/i],[hs,[ys,"Verizon"],[gs,Cs]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[hs,[ys,"Barnes & Noble"],[gs,Cs]],[/\b(tm\d{3}\w+) b/i],[hs,[ys,"NuVision"],[gs,Cs]],[/\b(k88) b/i],[hs,[ys,"ZTE"],[gs,Cs]],[/\b(nx\d{3}j) b/i],[hs,[ys,"ZTE"],[gs,$s]],[/\b(gen\d{3}) b.+49h/i],[hs,[ys,"Swiss"],[gs,$s]],[/\b(zur\d{3}) b/i],[hs,[ys,"Swiss"],[gs,Cs]],[/\b((zeki)?tb.*\b) b/i],[hs,[ys,"Zeki"],[gs,Cs]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[ys,"Dragon Touch"],hs,[gs,Cs]],[/\b(ns-?\w{0,9}) b/i],[hs,[ys,"Insignia"],[gs,Cs]],[/\b((nxa|next)-?\w{0,9}) b/i],[hs,[ys,"NextBook"],[gs,Cs]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[ys,"Voice"],hs,[gs,$s]],[/\b(lvtel\-)?(v1[12]) b/i],[[ys,"LvTel"],hs,[gs,$s]],[/\b(ph-1) /i],[hs,[ys,"Essential"],[gs,$s]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[hs,[ys,"Envizen"],[gs,Cs]],[/\b(trio[-\w\. ]+) b/i],[hs,[ys,"MachSpeed"],[gs,Cs]],[/\btu_(1491) b/i],[hs,[ys,"Rotor"],[gs,Cs]],[/(shield[\w ]+) b/i],[hs,[ys,"Nvidia"],[gs,Cs]],[/(sprint) (\w+)/i],[ys,hs,[gs,$s]],[/(kin\.[onetw]{3})/i],[[hs,/\./g," "],[ys,Os],[gs,$s]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[hs,[ys,Ol],[gs,Cs]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[hs,[ys,Ol],[gs,$s]],[/smart-tv.+(samsung)/i],[ys,[gs,Es]],[/hbbtv.+maple;(\d+)/i],[[hs,/^/,"SmartTV"],[ys,Ps],[gs,Es]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[ys,Ws],[gs,Es]],[/(apple) ?tv/i],[ys,[hs,Ts+" TV"],[gs,Es]],[/crkey/i],[[hs,Ls+"cast"],[ys,Vs],[gs,Es]],[/droid.+aft(\w+)( bui|\))/i],[hs,[ys,Is],[gs,Es]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[hs,[ys,Ys],[gs,Es]],[/(bravia[\w ]+)( bui|\))/i],[hs,[ys,Zs],[gs,Es]],[/(mitv-\w{5}) bui/i],[hs,[ys,Us],[gs,Es]],[/Hbbtv.*(technisat) (.*);/i],[ys,hs,[gs,Es]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[ys,Al],[hs,Al],[gs,Es]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[gs,Es]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[ys,hs,[gs,Ss]],[/droid.+; (shield) bui/i],[hs,[ys,"Nvidia"],[gs,Ss]],[/(playstation [345portablevi]+)/i],[hs,[ys,Zs],[gs,Ss]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[hs,[ys,Os],[gs,Ss]],[/((pebble))app/i],[ys,hs,[gs,xs]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[hs,[ys,Ts],[gs,xs]],[/droid.+; (glass) \d/i],[hs,[ys,Vs],[gs,xs]],[/droid.+; (wt63?0{2,3})\)/i],[hs,[ys,Ol],[gs,xs]],[/(quest( \d| pro)?)/i],[hs,[ys,qs],[gs,xs]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[ys,[gs,ws]],[/(aeobc)\b/i],[hs,[ys,Is],[gs,ws]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[hs,[gs,$s]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[hs,[gs,Cs]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[gs,Cs]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[gs,$s]],[/(android[-\w\. ]{0,9});.+buil/i],[hs,[ys,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[vs,[ms,Ds+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[vs,[ms,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[ms,vs],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[vs,ms]],os:[[/microsoft (windows) (vista|xp)/i],[ms,vs],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[ms,[vs,Ns,Gs]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[vs,Ns,Gs],[ms,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[vs,/_/g,"."],[ms,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[ms,Ll],[vs,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[vs,ms],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[ms,vs],[/\(bb(10);/i],[vs,[ms,As]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[vs,[ms,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[vs,[ms,Fs+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[vs,[ms,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[vs,[ms,"watchOS"]],[/crkey\/([\d\.]+)/i],[vs,[ms,Ls+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[ms,Fl],vs],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[ms,vs],[/(sunos) ?([\w\.\d]*)/i],[[ms,"Solaris"],vs],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[ms,vs]]},El=function(Bl,Ks){if(typeof Bl===us&&(Ks=Bl,Bl=is),!(this instanceof El))return new El(Bl,Ks).getResult();var Sl=typeof rs!==cs&&rs.navigator?rs.navigator:is,Il=Bl||(Sl&&Sl.userAgent?Sl.userAgent:ss),Ml=Sl&&Sl.userAgentData?Sl.userAgentData:is,Kl=Ks?$l(Js,Ks):Js,Ql=Sl&&Sl.userAgent==Il;return this.getBrowser=function(){var Yl={};return Yl[ms]=is,Yl[vs]=is,Dl.call(Yl,Il,Kl.browser),Yl[ps]=xl(Yl[vs]),Ql&&Sl&&Sl.brave&&typeof Sl.brave.isBrave==ls&&(Yl[ms]="Brave"),Yl},this.getCPU=function(){var Yl={};return Yl[bs]=is,Dl.call(Yl,Il,Kl.cpu),Yl},this.getDevice=function(){var Yl={};return Yl[ys]=is,Yl[hs]=is,Yl[gs]=is,Dl.call(Yl,Il,Kl.device),Ql&&!Yl[gs]&&Ml&&Ml.mobile&&(Yl[gs]=$s),Ql&&Yl[hs]=="Macintosh"&&Sl&&typeof Sl.standalone!==cs&&Sl.maxTouchPoints&&Sl.maxTouchPoints>2&&(Yl[hs]="iPad",Yl[gs]=Cs),Yl},this.getEngine=function(){var Yl={};return Yl[ms]=is,Yl[vs]=is,Dl.call(Yl,Il,Kl.engine),Yl},this.getOS=function(){var Yl={};return Yl[ms]=is,Yl[vs]=is,Dl.call(Yl,Il,Kl.os),Ql&&!Yl[ms]&&Ml&&Ml.platform&&Ml.platform!="Unknown"&&(Yl[ms]=Ml.platform.replace(/chrome os/i,Fl).replace(/macos/i,Ll)),Yl},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return Il},this.setUA=function(Yl){return Il=typeof Yl===ds&&Yl.length>ks?Al(Yl,ks):Yl,this},this.setUA(Il),this};El.VERSION=os,El.BROWSER=Cl([ms,vs,ps]),El.CPU=Cl([bs]),El.DEVICE=Cl([hs,ys,gs,Ss,$s,Es,Cs,xs,ws]),El.ENGINE=El.OS=Cl([ms,vs]),ts.exports&&(ns=ts.exports=El),ns.UAParser=El;var Xs=typeof rs!==cs&&(rs.jQuery||rs.Zepto);if(Xs&&!Xs.ua){var _l=new El;Xs.ua=_l.getResult(),Xs.ua.get=function(){return _l.getUA()},Xs.ua.set=function(Bl){_l.setUA(Bl);var Ks=_l.getResult();for(var Sl in Ks)Xs.ua[Sl]=Ks[Sl]}}})(typeof window=="object"?window:commonjsGlobal$1)})(uaParser,uaParser.exports);var uaParserExports=uaParser.exports,__awaiter$15=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,ns,rs,is){function os(ss){return ss instanceof rs?ss:new rs(function(as){as(ss)})}return new(rs||(rs=Promise))(function(ss,as){function ls(ds){try{us(is.next(ds))}catch(ps){as(ps)}}function cs(ds){try{us(is.throw(ds))}catch(ps){as(ps)}}function us(ds){ds.done?ss(ds.value):os(ds.value).then(ls,cs)}us((is=is.apply(ts,ns||[])).next())})};Object.defineProperty(DefaultBrowserBehavior$1,"__esModule",{value:!0});const detect_browser_1=require$$0$3,ua_parser_js_1$2=uaParserExports;class DefaultBrowserBehavior{constructor(){this.FALLBACK_BROWSER={type:"browser",name:"unknown",version:"unknown",os:"unknown"},this.browser=detect_browser_1.detect()||this.FALLBACK_BROWSER,this.uaParserResult=navigator&&navigator.userAgent?new ua_parser_js_1$2.UAParser(navigator.userAgent).getResult():null,this.browserSupport={chrome:78,"edge-chromium":79,electron:7,firefox:75,ios:13,safari:13,opera:66,samsung:12,crios:86,fxios:23,"ios-webview":605,"chromium-webview":92},this.browserName={chrome:"Google Chrome","edge-chromium":"Microsoft Edge",electron:"Electron",firefox:"Mozilla Firefox",ios:"Safari iOS",safari:"Safari",opera:"Opera",samsung:"Samsung Internet",crios:"Chrome iOS",fxios:"Firefox iOS","ios-webview":"WKWebView iOS","chromium-webview":"Chrome WebView"},this.chromeLike=["chrome","edge-chromium","chromium-webview","opera","samsung"],this.webkitBrowsers=["crios","fxios","safari","ios","ios-webview","edge-ios"]}version(){return this.browser.version}majorVersion(){return this.version()!==null?parseInt(this.version().split(".")[0]):-1}osMajorVersion(){return parseInt(this.uaParserResult.os.version.split(".")[0])}engine(){return this.uaParserResult.engine.name}engineMajorVersion(){return parseInt(this.uaParserResult.engine.version.split(".")[0])}name(){return this.browser.name}hasChromiumWebRTC(){for(const ns of this.chromeLike)if(ns===this.browser.name)return!0;return!1}hasWebKitWebRTC(){for(const ns of this.webkitBrowsers)if(ns===this.browser.name)return!0;return!1}hasFirefoxWebRTC(){return this.isFirefox()}requiresPlaybackLatencyHintForAudioContext(){return navigator.userAgent.indexOf("Windows")!==-1}supportsCanvasCapturedStreamPlayback(){return!this.isIOSSafari()&&!this.isIOSChrome()&&!this.isIOSFirefox()&&!this.isIOSEdge()||this.isIOSSafari()&&this.majorVersion()>=DefaultBrowserBehavior.MIN_IOS_SUPPORT_CANVAS_STREAM_PLAYBACK||this.majorVersion()>=DefaultBrowserBehavior.MIN_IOS_NON_SAFARI_SUPPORT_CANVAS_STREAM_PLAYBACK}supportsBackgroundFilter(){return!(this.name()==="safari"&&this.majorVersion()===15||!this.supportsCanvasCapturedStreamPlayback())}supportsVideoLayersAllocationRtpHeaderExtension(){return this.hasChromiumWebRTC()}supportsDependencyDescriptorRtpHeaderExtension(){return this.hasChromiumWebRTC()}supportsScalableVideoCoding(){return this.hasChromiumWebRTC()&&this.engine()==="Blink"&&this.engineMajorVersion()>=111}supportsAudioRedundancy(){return this.hasChromiumWebRTC()?this.engineMajorVersion()>=107:!this.hasFirefoxWebRTC()}requiresResolutionAlignment(ns,rs){return this.isAndroid()&&this.isPixel3()?[Math.ceil(ns/64)*64,Math.ceil(rs/64)*64]:[ns,rs]}requiresCheckForSdpConnectionAttributes(){return!this.isIOSSafari()&&!this.isIOSChrome()&&!this.isIOSFirefox()}requiresIceCandidateGatheringTimeoutWorkaround(){return this.hasChromiumWebRTC()}requiresBundlePolicy(){return"max-bundle"}requiresNoExactMediaStreamConstraints(){return this.isSamsungInternet()}requiresGroupIdMediaStreamConstraints(){return this.isSamsungInternet()}getDisplayMediaAudioCaptureSupport(){return this.isChrome()||this.isEdge()}doesNotSupportMediaDeviceLabels(){return this.browser.name==="chromium-webview"}isSupported(){return!(!this.browserSupport[this.browser.name]||this.majorVersion()<this.browserSupport[this.browser.name]||this.browser.name==="firefox"&&this.isAndroid())}isSimulcastSupported(){return this.hasChromiumWebRTC()}supportDownlinkBandwidthEstimation(){return!this.isFirefox()}supportString(){if(this.isAndroid())return"".concat(this.browserName.chrome," ").concat(this.browserSupport.chrome,"+, ").concat(this.browserName.samsung," ").concat(this.browserSupport.samsung,"+");const ns=[];for(const rs in this.browserSupport)ns.push("".concat(this.browserName[rs]," ").concat(this.browserSupport[rs],"+"));return ns.join(", ")}supportedVideoCodecs(){return __awaiter$15(this,void 0,void 0,function*(){const ns=new RTCPeerConnection;return ns.addTransceiver("video",{direction:"inactive",streams:[]}),(yield ns.createOffer({offerToReceiveVideo:!0})).sdp.split("\r\n").filter(rs=>rs.includes("a=rtpmap:")).map(rs=>rs.replace(/.* /,"").replace(/\/.*/,"")).filter((rs,is,os)=>os.indexOf(rs)===is).filter(rs=>rs!=="rtx"&&rs!=="red"&&rs!=="ulpfec")})}supportsSetSinkId(){return"setSinkId"in HTMLAudioElement.prototype}disableResolutionScaleDown(){return this.isAndroid()}disable480pResolutionScaleDown(){return/( Chrome\/98\.)/i.test(navigator.userAgent)&&this.browser.os.startsWith("Windows")}requiresDisablingH264Encoding(){return(this.isIOSSafari()||this.isIOSChrome()||this.isIOSFirefox())&&(this.version()==="15.1.0"||/( OS 15_1)/i.test(navigator.userAgent))}requiresVideoPlayWorkaround(){return this.isSafari()}isVideoFxSupportedBrowser(){return this.supportsBackgroundFilter()}isIOSSafari(){return this.browser.name==="ios"||this.browser.name==="ios-webview"||this.browser.name==="safari"&&/( Mac )/i.test(navigator.userAgent)&&navigator.maxTouchPoints>1}isSafari(){return this.browser.name==="safari"||this.isIOSSafari()}isFirefox(){return this.browser.name==="firefox"}isIOSFirefox(){return this.browser.name==="fxios"}isIOSChrome(){return this.browser.name==="crios"}isChrome(){return this.browser.name==="chrome"}isEdge(){return this.browser.name==="edge-chromium"}isIOSEdge(){return this.browser.name==="edge-ios"}isSamsungInternet(){return this.browser.name==="samsung"}isAndroid(){return/(android)/i.test(navigator.userAgent)}isPixel3(){return/( pixel 3)/i.test(navigator.userAgent)}}DefaultBrowserBehavior$1.default=DefaultBrowserBehavior;DefaultBrowserBehavior.MIN_IOS_SUPPORT_CANVAS_STREAM_PLAYBACK=16;DefaultBrowserBehavior.MIN_IOS_NON_SAFARI_SUPPORT_CANVAS_STREAM_PLAYBACK=106;var __importDefault$1I=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(AudioProfile$1,"__esModule",{value:!0});const DefaultBrowserBehavior_1$c=__importDefault$1I(DefaultBrowserBehavior$1);class AudioProfile{constructor(ns=null,rs=!0){this.audioBitrateBps=ns,this.enableAudioRedundancy=new DefaultBrowserBehavior_1$c.default().supportsAudioRedundancy()&&rs}static fullbandSpeechMono(ns=!0){return new AudioProfile(4e4,ns)}static fullbandMusicMono(ns=!0){return new AudioProfile(64e3,ns)}static fullbandMusicStereo(ns=!0){return new AudioProfile(128e3,ns)}isStereo(){return this.audioBitrateBps===128e3}hasRedundancyEnabled(){return this.enableAudioRedundancy}}AudioProfile$1.default=AudioProfile;var AudioVideoControllerState={};(function(ts){Object.defineProperty(ts,"__esModule",{value:!0}),ts.DEFAULT_VIDEO_SUBSCRIPTION_LIMIT=void 0,ts.DEFAULT_VIDEO_SUBSCRIPTION_LIMIT=25;class ns{constructor(){this.logger=null,this.browserBehavior=null,this.meetingSessionConfiguration=null,this.signalingClient=null,this.peer=null,this.previousSdpOffer=null,this.sdpOfferInit=null,this.audioVideoController=null,this.realtimeController=null,this.videoTileController=null,this.mediaStreamBroker=null,this.activeAudioInput=void 0,this.activeVideoInput=void 0,this.audioMixController=null,this.transceiverController=null,this.indexFrame=null,this.iceCandidates=[],this.iceCandidateHandler=null,this.iceGatheringStateEventHandler=null,this.sdpAnswer=null,this.turnCredentials=null,this.reconnectController=null,this.removableObservers=[],this.audioProfile=null,this.videoStreamIndex=null,this.videoDownlinkBandwidthPolicy=null,this.videoUplinkBandwidthPolicy=null,this.lastKnownVideoAvailability=null,this.videoCaptureAndEncodeParameter=null,this.videosToReceive=null,this.lastVideosToReceive=null,this.videoSubscriptions=null,this.lastVideoSubscriptionConfiguration=new Map,this.videoSubscriptionLimit=ts.DEFAULT_VIDEO_SUBSCRIPTION_LIMIT,this.previousSdpAnswerAsString="",this.serverSupportsCompression=!1,this.videoSendCodecPreferences=[],this.currentVideoSendCodec=void 0,this.meetingSupportedVideoSendCodecPreferences=void 0,this.prioritizedSendVideoCodecCapabilities=[],this.degradedVideoSendCodecs=[],this.videosPaused=null,this.videoDuplexMode=null,this.volumeIndicatorAdapter=null,this.statsCollector=null,this.connectionMonitor=null,this.videoInputAttachedTimestampMs=0,this.audioDeviceInformation={},this.videoDeviceInformation={},this.enableSimulcast=!1,this.enableSVC=!1,this.eventController=null,this.signalingOpenDurationMs=null,this.iceGatheringDurationMs=null,this.startAudioVideoTimestamp=null,this.attendeePresenceDurationMs=null,this.meetingStartDurationMs=null,this.poorConnectionCount=0,this.maxVideoTileCount=0,this.startTimeMs=null}resetConnectionSpecificState(){this.peer&&this.peer.close(),this.peer=null,this.previousSdpOffer=null,this.sdpOfferInit=null,this.transceiverController!==void 0&&this.transceiverController.reset(),this.indexFrame=null,this.iceCandidates=[],this.iceCandidateHandler=null,this.sdpAnswer=null,this.turnCredentials=null,this.videoDownlinkBandwidthPolicy.reset(),this.videoUplinkBandwidthPolicy.reset&&this.videoUplinkBandwidthPolicy.reset(),this.lastVideosToReceive=null,this.lastVideoSubscriptionConfiguration=new Map,this.videoSubscriptions=null,this.videoSubscriptionLimit=ts.DEFAULT_VIDEO_SUBSCRIPTION_LIMIT,this.previousSdpAnswerAsString="",this.serverSupportsCompression=!1,this.currentVideoSendCodec=void 0,this.meetingSupportedVideoSendCodecPreferences=void 0,this.videoDuplexMode=null}}ts.default=ns})(AudioVideoControllerState);var BackgroundBlurStrength={};Object.defineProperty(BackgroundBlurStrength,"__esModule",{value:!0});BackgroundBlurStrength.BlurStrengthMapper=void 0;const BlurStrength={LOW:7,MEDIUM:15,HIGH:30};class BlurStrengthMapper{static getBlurAmount(ns,rs){if(ns<=0)throw new Error("invalid value for blur strength: ".concat(ns));return Math.round(ns*rs.height/this.BLUR_STRENGTH_DIVISOR)}}BackgroundBlurStrength.BlurStrengthMapper=BlurStrengthMapper;BlurStrengthMapper.BLUR_STRENGTH_DIVISOR=540;BackgroundBlurStrength.default=BlurStrength;var BackgroundBlurVideoFrameProcessor$1={},BackgroundFilterVideoFrameProcessor$1={},loader={},fetch$1={};Object.defineProperty(fetch$1,"__esModule",{value:!0});fetch$1.isValidRevisionID=fetch$1.isValidAssetGroup=fetch$1.resolveURL=fetch$1.addQueryParams=fetch$1.withQueryString=fetch$1.withRequestHeaders=fetch$1.fetchWithBehavior=void 0;function fetchWithBehavior(ts,ns,rs){if(!rs)return fetch(ts,ns);const is=withQueryString(ts,rs),os=withRequestHeaders(ns,rs);return fetch(is,os)}fetch$1.fetchWithBehavior=fetchWithBehavior;function withRequestHeaders(ts,ns){return ns!=null&&ns.headers?ts?Object.assign(Object.assign({},ts),{headers:Object.assign(Object.assign({},ts.headers||{}),ns.headers)}):{headers:ns.headers}:ts}fetch$1.withRequestHeaders=withRequestHeaders;function withQueryString(ts,ns){if(!(ns!=null&&ns.escapedQueryString))return ts;const rs=ts.lastIndexOf("?")!==-1;return"".concat(ts).concat(rs?"&":"?").concat(ns.escapedQueryString)}fetch$1.withQueryString=withQueryString;function addQueryParams(ts,ns){const rs=Object.keys(ns);if(!rs.length)return ts;const is=new URLSearchParams(ts==null?void 0:ts.escapedQueryString);for(const os of rs)is.append(os,ns[os]);return Object.assign(Object.assign({},ts),{escapedQueryString:is.toString()})}fetch$1.addQueryParams=addQueryParams;const HEAD_OPTIONS={method:"HEAD",mode:"cors",credentials:"omit",redirect:"follow",referrerPolicy:"origin"};function resolveURL(ts,ns){return fetchWithBehavior(ts,HEAD_OPTIONS,ns).then(rs=>rs.redirected?rs.url:ts)}fetch$1.resolveURL=resolveURL;function isValidAssetGroup(ts){return!!ts&&/^[-.a-zA-Z0-9]+$/.test(ts)}fetch$1.isValidAssetGroup=isValidAssetGroup;function isValidRevisionID(ts){return!!ts&&/^[123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ]{22}$/.test(ts)}fetch$1.isValidRevisionID=isValidRevisionID;Object.defineProperty(loader,"__esModule",{value:!0});loader.loadWorker=void 0;const fetch_js_1$1=fetch$1,WORKER_FETCH_OPTIONS={method:"GET",mode:"cors",credentials:"omit",redirect:"follow",referrerPolicy:"no-referrer"},loadWorker=(ts,ns,rs,is)=>{is==null||is.debug("Loading ".concat(ns," worker from ").concat(ts,"."));let os=!1;try{os=self.origin===new URL(ts).origin}catch(ss){is==null||is.error("Could not compare origins.",ss)}if(os){const ss=fetch_js_1$1.withQueryString(ts,rs);return Promise.resolve(new Worker(ss,{name:ns}))}return fetch_js_1$1.fetchWithBehavior(ts,WORKER_FETCH_OPTIONS,rs).then(ss=>{if(ss.ok)return ss.blob().then(as=>new Worker(window.URL.createObjectURL(as)));throw new Error("Fetch failed.")})};loader.loadWorker=loadWorker;var support={};(function(ts){var ns=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ys,vs,bs,Ss){function $s(Cs){return Cs instanceof bs?Cs:new bs(function(Es){Es(Cs)})}return new(bs||(bs=Promise))(function(Cs,Es){function xs(Is){try{ks(Ss.next(Is))}catch(Ts){Es(Ts)}}function ws(Is){try{ks(Ss.throw(Is))}catch(Ts){Es(Ts)}}function ks(Is){Is.done?Cs(Is.value):$s(Is.value).then(xs,ws)}ks((Ss=Ss.apply(ys,vs||[])).next())})};Object.defineProperty(ts,"__esModule",{value:!0}),ts.isOldChrome=ts.supportsWASMStreaming=ts.supportsSharedArrayBuffer=ts.supportsWASM=ts.supportsAudioWorklet=ts.supportsWorker=ts.supportsVoiceFocusWorker=ts.supportsWASMPostMessage=ts.isSafari=void 0;const rs=loader,is=(ys=globalThis)=>!!ys.navigator.userAgent.match(/Chrom(?:e|ium)\/([0-9]+)/),os=(ys=globalThis)=>{const vs=ys.navigator.userAgent,bs=vs.match(/Safari\//),Ss=vs.match(/Chrom(?:e|ium)\//);return!!(bs&&!Ss)};ts.isSafari=os;const ss=(ys=globalThis)=>ts.isSafari(ys)?!1:is(ys)?(ms(ys)||0)<95:!0;ts.supportsWASMPostMessage=ss;const as=(ys=globalThis,vs,bs)=>ns(void 0,void 0,void 0,function*(){if(!ts.supportsWorker(ys,bs))return!1;const Ss="".concat(vs.paths.workers,"worker-v1.js");try{const $s=yield rs.loadWorker(Ss,"VoiceFocusTestWorker",vs,bs);try{$s.terminate()}catch(Cs){bs==null||bs.debug("Failed to terminate worker.",Cs)}return!0}catch($s){return bs==null||bs.info("Failed to fetch and instantiate test worker",$s),!1}});ts.supportsVoiceFocusWorker=as;const ls=(ys=globalThis,vs)=>{try{return!!ys.Worker}catch(bs){return vs==null||vs.info("Does not support Worker",bs),!1}};ts.supportsWorker=ls;const cs=(ys=globalThis,vs)=>{try{return!!ys.AudioWorklet&&!!ys.AudioWorkletNode}catch(bs){return vs==null||vs.info("Does not support Audio Worklet",bs),!1}};ts.supportsAudioWorklet=cs;const us=(ys=globalThis,vs)=>{try{return!!ys.WebAssembly&&(!!ys.WebAssembly.compile||!!ys.WebAssembly.compileStreaming)}catch(bs){return vs==null||vs.info("Does not support WASM",bs),!1}};ts.supportsWASM=us;const ds=(ys=globalThis,vs=globalThis,bs)=>{try{return!!ys.SharedArrayBuffer&&(!!vs.chrome||!!ys.crossOriginIsolated)}catch{return bs==null||bs.info("Does not support SharedArrayBuffer."),!1}};ts.supportsSharedArrayBuffer=ds;const ps=(ys=globalThis,vs)=>{var bs;try{return!!(!((bs=ys.WebAssembly)===null||bs===void 0)&&bs.compileStreaming)}catch(Ss){return vs==null||vs.info("Does not support WASM streaming compilation",Ss),!1}};ts.supportsWASMStreaming=ps;const hs=90,ms=(ys=globalThis)=>{try{if(!ys.chrome)return}catch{}const vs=ys.navigator.userAgent.match(/Chrom(?:e|ium)\/([0-9]+)/);if(vs)return parseInt(vs[1],10)},gs=(ys=globalThis,vs)=>{const bs=ms(ys);return bs&&bs<hs?(vs==null||vs.debug("Chrome ".concat(bs," has incomplete SIMD support.")),!0):!1};ts.isOldChrome=gs})(support);var ModelSpecBuilder$1={};Object.defineProperty(ModelSpecBuilder$1,"__esModule",{value:!0});class ModelSpecBuilder{constructor(){this.path=null,this.input=null,this.output=null}static builder(){return new ModelSpecBuilder}withDefaultModel(){return this.withSelfieSegmentationDefaults()}withSelfieSegmentationDefaults(){const ns={height:144,width:256,range:[0,1],channels:3},rs={height:144,width:256,range:[0,1],channels:1},is="https://static.sdkassets.chime.aws/bgblur/models/selfie_segmentation_landscape.tflite";return this.path=is,this.input=ns,this.output=rs,this}withPath(ns){return this.path=ns,this}withInput(ns){return this.input=ns,this}withOutput(ns){return this.output=ns,this}validate(){if(!this.path)throw new Error("model spec path is not set");if(!this.input)throw new Error("model spec input is not set");if(!this.output)throw new Error("model spec output is not set")}build(){return this.validate(),{path:this.path,input:this.input,output:this.output}}}ModelSpecBuilder$1.default=ModelSpecBuilder;var Versioning$1={},version$2={};Object.defineProperty(version$2,"__esModule",{value:!0});version$2.default={hash:"d7eee1f",raw:"v3.23.0",semverString:"3.23.0"};var __importDefault$1H=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(Versioning$1,"__esModule",{value:!0});const DefaultBrowserBehavior_1$b=__importDefault$1H(DefaultBrowserBehavior$1),version_1=__importDefault$1H(version$2);class Versioning{static get sdkName(){return"amazon-chime-sdk-js"}static get sdkVersion(){return version_1.default.semverString}static get sdkVersionSemVer(){var ns,rs,is,os;const ss=version_1.default.semverString.match(/^(?<major>[0-9]+)\.(?<minor>[0-9]+)((?:\.(?<patch>[0-9]+))(?:-(?<preRelease>[a-zA-Z]+(\.[0-9])*))?)?/);return{major:(ns=ss==null?void 0:ss.groups)===null||ns===void 0?void 0:ns.major,minor:(rs=ss==null?void 0:ss.groups)===null||rs===void 0?void 0:rs.minor,patch:(is=ss==null?void 0:ss.groups)===null||is===void 0?void 0:is.patch,preRelease:(os=ss==null?void 0:ss.groups)===null||os===void 0?void 0:os.preRelease}}static get buildSHA(){return version_1.default.hash.substr(1)}static get sdkUserAgentLowResolution(){const ns=new DefaultBrowserBehavior_1$b.default;return"".concat(ns.name(),"-").concat(ns.majorVersion())}static urlWithVersion(ns){const rs=new URL(ns);return rs.searchParams.append(Versioning.X_AMZN_VERSION,Versioning.sdkVersion),rs.searchParams.append(Versioning.X_AMZN_USER_AGENT,Versioning.sdkUserAgentLowResolution),rs.toString()}}Versioning$1.default=Versioning;Versioning.X_AMZN_VERSION="X-Amzn-Version";Versioning.X_AMZN_USER_AGENT="X-Amzn-User-Agent";var __awaiter$14=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,ns,rs,is){function os(ss){return ss instanceof rs?ss:new rs(function(as){as(ss)})}return new(rs||(rs=Promise))(function(ss,as){function ls(ds){try{us(is.next(ds))}catch(ps){as(ps)}}function cs(ds){try{us(is.throw(ds))}catch(ps){as(ps)}}function us(ds){ds.done?ss(ds.value):os(ds.value).then(ls,cs)}us((is=is.apply(ts,ns||[])).next())})},__importDefault$1G=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(BackgroundFilterVideoFrameProcessor$1,"__esModule",{value:!0});const loader_1$2=loader,support_1$1=support,ModelSpecBuilder_1=__importDefault$1G(ModelSpecBuilder$1),DefaultBrowserBehavior_1$a=__importDefault$1G(DefaultBrowserBehavior$1),Versioning_1$8=__importDefault$1G(Versioning$1),CREATE_DEFAULT_MODEL_SPEC=()=>ModelSpecBuilder_1.default.builder().withSelfieSegmentationDefaults().build(),DEFAULT_CDN$1="https://static.sdkassets.chime.aws",DEFAULT_PATHS$1={worker:"".concat(DEFAULT_CDN$1,"/bgblur/workers/worker.js"),wasm:"".concat(DEFAULT_CDN$1,"/bgblur/wasm/_cwt-wasm.wasm"),simd:"".concat(DEFAULT_CDN$1,"/bgblur/wasm/_cwt-wasm-simd.wasm")};class BackgroundFilterVideoFrameProcessor{static defaultAssetSpec(){const ns=Versioning_1$8.default.sdkVersionSemVer;return{assetGroup:"sdk-".concat(ns.major,".").concat(ns.minor)}}static createUrlWithParams(ns,rs){const is=new URL(ns),os=Object.keys(rs);for(const ss of os)rs[ss]!==void 0&&is.searchParams.set(ss,rs[ss]);return is.toString()}static resolveSpec(ns){const{paths:rs=DEFAULT_PATHS$1,model:is=CREATE_DEFAULT_MODEL_SPEC(),assetGroup:os=this.defaultAssetSpec().assetGroup,revisionID:ss=this.defaultAssetSpec().revisionID}=ns||{},as={assetGroup:os,revisionID:ss,sdk:encodeURIComponent(Versioning_1$8.default.sdkVersion),ua:encodeURIComponent(Versioning_1$8.default.sdkUserAgentLowResolution)};return rs.worker=this.createUrlWithParams(rs.worker,as),rs.wasm=this.createUrlWithParams(rs.wasm,as),rs.simd=this.createUrlWithParams(rs.simd,as),is.path=this.createUrlWithParams(is.path,as),{paths:rs,model:is,assetGroup:os,revisionID:ss}}static resolveOptions(ns){ns.reportingPeriodMillis||(ns.reportingPeriodMillis=1e3);const rs=30;return ns.filterCPUUtilization?(ns.filterCPUUtilization<0||ns.filterCPUUtilization>100)&&(ns.logger.warn("filterCPUUtilization must be set to a range between 0 and 100 percent. Falling back to default of ".concat(rs," percent")),ns.filterCPUUtilization=rs):ns.filterCPUUtilization=rs,ns}static isSupported(ns,rs){const{logger:is}=rs;return typeof globalThis>"u"?(is.info("Browser does not have globalThis."),Promise.resolve(!1)):new DefaultBrowserBehavior_1$a.default().supportsBackgroundFilter()?support_1$1.supportsWASM(globalThis,is)?this.supportsBackgroundFilter(globalThis,ns,is):(is.info("Browser does not support WASM."),Promise.resolve(!1)):(is.info("Browser is not supported."),Promise.resolve(!1))}static supportsBackgroundFilter(ns=globalThis,rs,is){return __awaiter$14(this,void 0,void 0,function*(){if(!support_1$1.supportsWorker(ns,is))return is.info("Browser does not support web workers."),!1;const os=rs.paths.worker;try{const ss=yield loader_1$2.loadWorker(os,"BackgroundFilterWorker",{},null);try{ss.terminate()}catch(as){is.info("Failed to terminate worker. ".concat(as.message))}return!0}catch(ss){return is.info("Failed to fetch and instantiate test worker ".concat(ss.message)),!1}})}}BackgroundFilterVideoFrameProcessor$1.default=BackgroundFilterVideoFrameProcessor;var ConsoleLogger$1={},__importDefault$1F=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(ConsoleLogger$1,"__esModule",{value:!0});const LogLevel_1$7=__importDefault$1F(LogLevel);class ConsoleLogger{constructor(ns,rs=LogLevel_1$7.default.WARN){this.name=ns,this.level=rs}info(ns){this.log(LogLevel_1$7.default.INFO,ns)}warn(ns){this.log(LogLevel_1$7.default.WARN,ns)}error(ns){this.log(LogLevel_1$7.default.ERROR,ns)}debug(ns){LogLevel_1$7.default.DEBUG<this.level||(typeof ns=="string"?this.log(LogLevel_1$7.default.DEBUG,ns):ns?this.log(LogLevel_1$7.default.DEBUG,ns()):this.log(LogLevel_1$7.default.DEBUG,""+ns))}setLogLevel(ns){this.level=ns}getLogLevel(){return this.level}log(ns,rs){if(ns<this.level)return;const is=new Date().toISOString(),os="".concat(is," [").concat(LogLevel_1$7.default[ns],"] ").concat(this.name," - ").concat(rs);switch(ns){case LogLevel_1$7.default.ERROR:console.error(os);break;case LogLevel_1$7.default.WARN:console.warn(os);break;case LogLevel_1$7.default.DEBUG:console.debug(os.replace(/\\r\\n/g,"\n"));break;case LogLevel_1$7.default.INFO:console.info(os);break}}}ConsoleLogger$1.default=ConsoleLogger;var NoOpVideoFrameProcessor$1={},__awaiter$13=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,ns,rs,is){function os(ss){return ss instanceof rs?ss:new rs(function(as){as(ss)})}return new(rs||(rs=Promise))(function(ss,as){function ls(ds){try{us(is.next(ds))}catch(ps){as(ps)}}function cs(ds){try{us(is.throw(ds))}catch(ps){as(ps)}}function us(ds){ds.done?ss(ds.value):os(ds.value).then(ls,cs)}us((is=is.apply(ts,ns||[])).next())})};Object.defineProperty(NoOpVideoFrameProcessor$1,"__esModule",{value:!0});class NoOpVideoFrameProcessor{process(ns){return __awaiter$13(this,void 0,void 0,function*(){return ns})}destroy(){return __awaiter$13(this,void 0,void 0,function*(){})}}NoOpVideoFrameProcessor$1.default=NoOpVideoFrameProcessor;var BackgroundBlurProcessorBuiltIn$1={},BackgroundBlurProcessorProvided$1={},BackgroundFilterProcessor$1={},CanvasVideoFrameBuffer$1={},__awaiter$12=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,ns,rs,is){function os(ss){return ss instanceof rs?ss:new rs(function(as){as(ss)})}return new(rs||(rs=Promise))(function(ss,as){function ls(ds){try{us(is.next(ds))}catch(ps){as(ps)}}function cs(ds){try{us(is.throw(ds))}catch(ps){as(ps)}}function us(ds){ds.done?ss(ds.value):os(ds.value).then(ls,cs)}us((is=is.apply(ts,ns||[])).next())})};Object.defineProperty(CanvasVideoFrameBuffer$1,"__esModule",{value:!0});class CanvasVideoFrameBuffer{constructor(ns){this.canvas=ns,this.destroyed=!1}destroy(){this.canvas=null,this.destroyed=!0}asCanvasImageSource(){return __awaiter$12(this,void 0,void 0,function*(){return this.destroyed?Promise.reject("canvas buffer is destroyed"):Promise.resolve(this.canvas)})}asCanvasElement(){return this.canvas}}CanvasVideoFrameBuffer$1.default=CanvasVideoFrameBuffer;var BackgroundFilterFrameCounter$1={};Object.defineProperty(BackgroundFilterFrameCounter$1,"__esModule",{value:!0});const FILTER_DURATION_FACTOR=.8;class BackgroundFilterFrameCounter{constructor(ns,rs,is,os){this.delegate=ns,this.reportingPeriodMillis=rs,this.filterCPUUtilization=is,this.logger=os,this._processingFilter=!0,this.lastReportedEventTimestamp=0,this.lastFilterCompleteTimestamp=0,this.filterTotalMillis=0,this.filterCount=0,this.framerate=0,this.filterDurationNotifyMillis=0,this.setSegmentationDuration()}reportEvent(ns){const rs=ns-this.lastReportedEventTimestamp;if(rs>=this.reportingPeriodMillis){const is=this.filterCount,os=this.filterTotalMillis;if(this.filterCount=0,this.filterTotalMillis=0,this.lastReportedEventTimestamp=ns,this.framerate===0||is===0)return;const ss=Math.round(os/is),as=Math.round(this.framerate*(rs/1e3))-is,ls=Math.round(100*os/rs);ss>=this.filterDurationNotifyMillis&&this.delegate.filterFrameDurationHigh({framesDropped:as,avgFilterDurationMillis:ss,framerate:this.framerate,periodMillis:rs}),ls>=this.filterCPUUtilization&&this.delegate.filterCPUUtilizationHigh({cpuUtilization:ls,filterMillis:os,periodMillis:rs})}}setSegmentationDuration(){this.filterDurationNotifyMillis=Math.round(1e3/this.framerate*FILTER_DURATION_FACTOR)}frameReceived(ns){ns!==this.framerate&&(this.framerate=ns,this.logger.info("frame counter setting frame rate to ".concat(this.framerate)),this.setSegmentationDuration());const rs=Date.now();this.reportEvent(rs)}filterSubmitted(){this._processingFilter=!0,this.lastFilterCompleteTimestamp=Date.now()}filterComplete(){this.filterTotalMillis+=Date.now()-this.lastFilterCompleteTimestamp,this._processingFilter=!1,this.filterCount++}get processingSegment(){return this._processingFilter}}BackgroundFilterFrameCounter$1.default=BackgroundFilterFrameCounter;var __awaiter$11=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,ns,rs,is){function os(ss){return ss instanceof rs?ss:new rs(function(as){as(ss)})}return new(rs||(rs=Promise))(function(ss,as){function ls(ds){try{us(is.next(ds))}catch(ps){as(ps)}}function cs(ds){try{us(is.throw(ds))}catch(ps){as(ps)}}function us(ds){ds.done?ss(ds.value):os(ds.value).then(ls,cs)}us((is=is.apply(ts,ns||[])).next())})},__importDefault$1E=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(BackgroundFilterProcessor$1,"__esModule",{value:!0});BackgroundFilterProcessor$1.BackgroundFilterMonitor=void 0;const loader_1$1=loader,CanvasVideoFrameBuffer_1$2=__importDefault$1E(CanvasVideoFrameBuffer$1),BackgroundFilterFrameCounter_1=__importDefault$1E(BackgroundFilterFrameCounter$1);class DeferredObservable{constructor(){this.value=void 0,this.resolve=null}whenNext(){return this.promise||(this.promise=new Promise(ns=>this.resolve=ns)),this.promise}next(ns){this.value=ns,this.resolve(ns),delete this.promise}}class BackgroundFilterProcessor{constructor(ns,rs,is,os,ss){this.targetCanvas=document.createElement("canvas"),this.canvasCtx=this.targetCanvas.getContext("2d"),this.canvasVideoFrameBuffer=new CanvasVideoFrameBuffer_1$2.default(this.targetCanvas),this.mask$=new DeferredObservable,this.sourceWidth=0,this.sourceHeight=0,this.frameNumber=0,this.videoFramesPerFilterUpdate=1,this.initWorkerPromise=BackgroundFilterProcessor.createWorkerPromise(),this.loadModelPromise=BackgroundFilterProcessor.createWorkerPromise(),this.modelInitialized=!1,this.destroyed=!1,this.filterType=ns,this.validateSpec(rs),this.validateOptions(is),this.spec=rs,this.logger=is.logger,this.delegate=os,this.initCPUMonitor(is),this.eventController=ss}static createWorkerPromise(){const ns={resolve:null,reject:null,promise:null};return ns.promise=new Promise((rs,is)=>{ns.resolve=rs,ns.reject=is}),ns}validateSpec(ns){if(!ns)throw new Error("processor has null spec");if(!ns.model)throw new Error("processor spec has null model");if(!ns.paths)throw new Error("processor spec has null paths")}validateOptions(ns){if(!ns)throw new Error("processor has null options");if(!ns.logger)throw new Error("processor has null options - logger");if(!ns.reportingPeriodMillis)throw new Error("processor has null options - reportingPeriodMillis");if(!ns.filterCPUUtilization)throw new Error("processor has null options - filterCPUUtilization")}initCPUMonitor(ns){this.videoFramesPerFilterUpdate=1,this.frameCounter=new BackgroundFilterFrameCounter_1.default(this.delegate,ns.reportingPeriodMillis,ns.filterCPUUtilization,this.logger),this.cpuMonitor=new BackgroundFilterMonitor(5e3,{reduceCPUUtilization:()=>{this.updateVideoFramesPerFilterUpdate(Math.min(this.videoFramesPerFilterUpdate+1,10))},increaseCPUUtilization:()=>{this.updateVideoFramesPerFilterUpdate(Math.max(this.videoFramesPerFilterUpdate-1,1))}}),this.delegate.addObserver(this.cpuMonitor)}stringify(ns){return JSON.stringify(ns,null,2)}handleInitialize(ns){if(this.logger.info("received initialize message: ".concat(this.stringify(ns))),!ns.payload){this.logger.error("failed to initialize module"),this.initWorkerPromise.reject(new Error("failed to initialize the module"));return}const rs=this.spec.model;this.worker.postMessage({msg:"loadModel",payload:{modelUrl:rs.path,inputHeight:rs.input.height,inputWidth:rs.input.width,inputChannels:4,modelRangeMin:rs.input.range[0],modelRangeMax:rs.input.range[1],blurPixels:0}}),this.initWorkerPromise.resolve({})}handleLoadModel(ns){if(this.logger.info("received load model message: ".concat(this.stringify(ns))),ns.payload!==2){this.logger.error("failed to load model! status: "+ns.payload),this.loadModelPromise.reject(new Error("failed to load model! status: "+ns.payload));return}this.modelInitialized=!0,this.loadModelPromise.resolve({})}handlePredict(ns){this.mask$.next(ns.payload.output)}handleWorkerEvent(ns){const rs=ns.data;switch(rs.msg){case"initialize":this.handleInitialize(rs);break;case"loadModel":this.handleLoadModel(rs);break;case"predict":this.handlePredict(rs);break;default:this.logger.info("unexpected event msg: ".concat(this.stringify(rs)));break}}loadAssets(){return __awaiter$11(this,void 0,void 0,function*(){this.logger.info("start initializing the processor");try{this.worker=yield loader_1$1.loadWorker(this.spec.paths.worker,"BackgroundFilterWorker",{},null),this.worker.addEventListener("message",ns=>this.handleWorkerEvent(ns)),this.worker.postMessage({msg:"initialize",payload:{wasmPath:this.spec.paths.wasm,simdPath:this.spec.paths.simd}}),yield this.initWorkerPromise.promise,this.logger.info("successfully initialized the ".concat(this.filterType," worker")),yield this.loadModelPromise.promise,this.logger.info("successfully loaded ".concat(this.filterType," worker segmentation model"))}catch(ns){throw new Error("could not initialize the ".concat(this.filterType," video frame processor due to '").concat(ns.message,"'"))}this.logger.info("successfully initialized the ".concat(this.filterType," processor"))})}process(ns){return __awaiter$11(this,void 0,void 0,function*(){if(this.destroyed)return ns;this.frameCounter.frameReceived(ns[0].framerate),this.cpuMonitor.frameReceived();const rs=ns[0].asCanvasElement();if(!rs)return ns;if(!this.modelInitialized)return ns[0]=this.canvasVideoFrameBuffer,ns;const is=rs.width,os=rs.height;if(is===0||os===0)return ns;this.sourceWidth===0&&(this.sourceWidth=is,this.sourceHeight=os,this.targetCanvas.width=this.sourceWidth,this.targetCanvas.height=this.sourceHeight,this.logger.info("".concat(this.filterType," source width: ").concat(this.sourceWidth)),this.logger.info("".concat(this.filterType," source height: ").concat(this.sourceHeight)),this.initOnFirstExecution()),(this.sourceWidth!==is||this.sourceHeight!==os)&&(this.sourceWidth=is,this.sourceHeight=os,this.targetCanvas.width=this.sourceWidth,this.targetCanvas.height=this.sourceHeight);try{this.frameCounter.filterSubmitted();let ss=this.mask$.value;const as=this.spec.model.input.width/rs.width,ls=this.spec.model.input.height/rs.height;this.scaledCanvas===void 0&&(this.scaledCanvas=document.createElement("canvas"),this.scaledCanvas.width=this.spec.model.input.width,this.scaledCanvas.height=this.spec.model.input.height);const cs=this.scaledCanvas.getContext("2d");cs.save(),cs.scale(as,ls),cs.drawImage(rs,0,0),cs.restore();const us=cs.getImageData(0,0,this.scaledCanvas.width,this.scaledCanvas.height);if(this.frameNumber%this.videoFramesPerFilterUpdate===0){const ds=this.mask$.whenNext();this.worker.postMessage({msg:"predict",payload:us},[us.data.buffer]),ss=yield ds}this.destroyed||this.drawImageWithMask(rs,ss)}catch(ss){return this.logger.error("could not process ".concat(this.filterType," frame buffer due to ").concat(ss)),ns}finally{this.frameCounter.filterComplete(),this.frameNumber++}return ns[0]=this.canvasVideoFrameBuffer,ns})}updateVideoFramesPerFilterUpdate(ns){ns!==this.videoFramesPerFilterUpdate&&(this.videoFramesPerFilterUpdate=ns,this.logger.info("Adjusting filter rate to compensate for CPU utilization. "+"Filter rate is ".concat(this.videoFramesPerFilterUpdate," video frames per filter.")))}destroy(){var ns,rs,is,os;return __awaiter$11(this,void 0,void 0,function*(){this.destroyed=!0,this.delegate.removeObserver(this.cpuMonitor),this.canvasVideoFrameBuffer.destroy(),(ns=this.worker)===null||ns===void 0||ns.postMessage({msg:"destroy"}),(rs=this.worker)===null||rs===void 0||rs.postMessage({msg:"stop"}),(is=this.targetCanvas)===null||is===void 0||is.remove(),this.targetCanvas=void 0,(os=this.scaledCanvas)===null||os===void 0||os.remove(),this.scaledCanvas=void 0,this.logger.info("".concat(this.filterType," frame process destroyed"))})}}BackgroundFilterProcessor$1.default=BackgroundFilterProcessor;class BackgroundFilterMonitor{constructor(ns,rs){this.monitoringPeriodMillis=ns,this.observer=rs,this.lastCPUChangeTimestamp=0}filterCPUUtilizationHigh(){const ns=Date.now();ns-this.lastCPUChangeTimestamp>=this.monitoringPeriodMillis&&(this.lastCPUChangeTimestamp=ns,this.observer.reduceCPUUtilization())}frameReceived(){const ns=Date.now();ns-this.lastCPUChangeTimestamp>=this.monitoringPeriodMillis*2&&(this.lastCPUChangeTimestamp=ns,this.observer.increaseCPUUtilization())}}BackgroundFilterProcessor$1.BackgroundFilterMonitor=BackgroundFilterMonitor;var BackgroundBlurVideoFrameProcessorDelegate$1={},BackgroundFilterVideoFrameProcessorDelegate$1={};Object.defineProperty(BackgroundFilterVideoFrameProcessorDelegate$1,"__esModule",{value:!0});class BackgroundFilterVideoFrameProcessorDelegate{constructor(){this.observers=new Set}addObserver(ns){this.observers.add(ns)}removeObserver(ns){this.observers.delete(ns)}filterFrameDurationHigh(ns){var rs;for(const is of this.observers)(rs=is.filterFrameDurationHigh)===null||rs===void 0||rs.call(is,ns)}filterCPUUtilizationHigh(ns){var rs;for(const is of this.observers)(rs=is.filterCPUUtilizationHigh)===null||rs===void 0||rs.call(is,ns)}}BackgroundFilterVideoFrameProcessorDelegate$1.default=BackgroundFilterVideoFrameProcessorDelegate;var __importDefault$1D=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(BackgroundBlurVideoFrameProcessorDelegate$1,"__esModule",{value:!0});const BackgroundFilterVideoFrameProcessorDelegate_1$1=__importDefault$1D(BackgroundFilterVideoFrameProcessorDelegate$1);class BackgroundBlurVideoFrameProcessorDelegate extends BackgroundFilterVideoFrameProcessorDelegate_1$1.default{}BackgroundBlurVideoFrameProcessorDelegate$1.default=BackgroundBlurVideoFrameProcessorDelegate;var __awaiter$10=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,ns,rs,is){function os(ss){return ss instanceof rs?ss:new rs(function(as){as(ss)})}return new(rs||(rs=Promise))(function(ss,as){function ls(ds){try{us(is.next(ds))}catch(ps){as(ps)}}function cs(ds){try{us(is.throw(ds))}catch(ps){as(ps)}}function us(ds){ds.done?ss(ds.value):os(ds.value).then(ls,cs)}us((is=is.apply(ts,ns||[])).next())})},__importDefault$1C=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(BackgroundBlurProcessorProvided$1,"__esModule",{value:!0});const BackgroundFilterProcessor_1$1=__importDefault$1C(BackgroundFilterProcessor$1),BackgroundBlurStrength_1$2=BackgroundBlurStrength,BackgroundBlurVideoFrameProcessorDelegate_1=__importDefault$1C(BackgroundBlurVideoFrameProcessorDelegate$1);class BackgroundBlurProcessorProvided extends BackgroundFilterProcessor_1$1.default{constructor(ns,rs){super("background blur",ns,rs,new BackgroundBlurVideoFrameProcessorDelegate_1.default),this.blurAmount=0,this.setBlurStrength(rs.blurStrength),this.logger.info("BackgroundBlur processor successfully created"),this.logger.info("BackgroundBlur spec: ".concat(this.stringify(this.spec))),this.logger.info("BackgroundBlur options: ".concat(this.stringify(rs)))}validateOptions(ns){if(super.validateOptions(ns),!ns.blurStrength)throw new Error("processor has null options - blurStrength")}initOnFirstExecution(){this.setBlurPixels()}drawImageWithMask(ns,rs){rs||(rs=new ImageData(this.spec.model.input.width,this.spec.model.input.height)),this.scaledCanvas.getContext("2d").putImageData(rs,0,0);const{canvasCtx:os,targetCanvas:ss}=this,{width:as,height:ls}=ss;os.save(),os.clearRect(0,0,as,ls),os.drawImage(this.scaledCanvas,0,0,as,ls),os.globalCompositeOperation="source-in",os.drawImage(ns,0,0,as,ls),os.globalCompositeOperation="destination-over",os.filter="blur(".concat(this.blurAmount,"px)"),os.drawImage(ns,0,0,ss.width,ss.height),os.restore()}setBlurStrength(ns){this._blurStrength=ns,this.logger.info("blur strength set to ".concat(this._blurStrength)),this.setBlurPixels()}setBlurPixels(){this.blurAmount=BackgroundBlurStrength_1$2.BlurStrengthMapper.getBlurAmount(this._blurStrength,{height:this.sourceHeight}),this.logger.info("background blur amount set to ".concat(this.blurAmount))}addObserver(ns){this.delegate.addObserver(ns)}removeObserver(ns){this.delegate.removeObserver(ns)}static isSupported(){return __awaiter$10(this,void 0,void 0,function*(){const ns=document.createElement("canvas"),rs=ns.getContext("2d").filter!==void 0;return ns.remove(),rs})}setEventController(ns){this.eventController?this.eventController=ns:(this.eventController=ns,this.publishBackgroundFilterEvent())}publishBackgroundFilterEvent(){const ns={backgroundBlurEnabled:"true",backgroundBlurStrength:this._blurStrength,backgroundReplacementEnabled:"false",backgroundFilterVersion:1};this.eventController.publishEvent("backgroundFilterConfigSelected",ns)}}BackgroundBlurProcessorProvided$1.default=BackgroundBlurProcessorProvided;var __awaiter$$=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,ns,rs,is){function os(ss){return ss instanceof rs?ss:new rs(function(as){as(ss)})}return new(rs||(rs=Promise))(function(ss,as){function ls(ds){try{us(is.next(ds))}catch(ps){as(ps)}}function cs(ds){try{us(is.throw(ds))}catch(ps){as(ps)}}function us(ds){ds.done?ss(ds.value):os(ds.value).then(ls,cs)}us((is=is.apply(ts,ns||[])).next())})},__importDefault$1B=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(BackgroundBlurProcessorBuiltIn$1,"__esModule",{value:!0});const BackgroundBlurProcessorProvided_1$1=__importDefault$1B(BackgroundBlurProcessorProvided$1),BackgroundBlurStrength_1$1=BackgroundBlurStrength;class BackgroundBlurProcessorBuiltIn extends BackgroundBlurProcessorProvided_1$1.default{constructor(ns,rs){super(ns,rs),this.blurCanvas=document.createElement("canvas"),this.blurCanvasCtx=this.blurCanvas.getContext("2d"),this.blurCanvas.width=this.spec.model.input.width,this.blurCanvas.height=this.spec.model.input.height,this.logger.info("BackgroundBlur processor using builtin blur")}drawImageWithMask(ns,rs){const is=this.blurredImage,{canvasCtx:os,targetCanvas:ss}=this,{width:as,height:ls}=ss;if(!rs||!is){os.clearRect(0,0,as,ls);return}this.scaledCanvas.getContext("2d").putImageData(rs,0,0),this.blurCanvasCtx.putImageData(this.blurredImage,0,0),os.save(),os.clearRect(0,0,as,ls),os.drawImage(this.scaledCanvas,0,0,as,ls),os.globalCompositeOperation="source-in",os.drawImage(ns,0,0,as,ls),os.globalCompositeOperation="destination-over",os.drawImage(this.blurCanvas,0,0,as,ls),os.restore()}setBlurStrength(ns){if(super.setBlurStrength(ns),this.worker){this.modelInitialized=!1,this.worker.postMessage({msg:"destroy"});const rs=this.spec.model;this.worker.postMessage({msg:"loadModel",payload:{modelUrl:rs.path,inputHeight:rs.input.height,inputWidth:rs.input.width,inputChannels:4,modelRangeMin:rs.input.range[0],modelRangeMax:rs.input.range[1],blurPixels:this.blurAmount}})}}setBlurPixels(){this.blurAmount=BackgroundBlurStrength_1$1.BlurStrengthMapper.getBlurAmount(this._blurStrength,{height:540}),this.logger.info("background blur amount set to ".concat(this.blurAmount))}handleInitialize(ns){if(this.logger.info("received initialize message: ".concat(this.stringify(ns))),!ns.payload){this.logger.error("failed to initialize module"),this.initWorkerPromise.reject(new Error("failed to initialize the module"));return}const rs=this.spec.model;this.worker.postMessage({msg:"loadModel",payload:{modelUrl:rs.path,inputHeight:rs.input.height,inputWidth:rs.input.width,inputChannels:4,modelRangeMin:rs.input.range[0],modelRangeMax:rs.input.range[1],blurPixels:this.blurAmount}}),this.initWorkerPromise.resolve({})}handlePredict(ns){this.blurredImage=ns.payload.blurOutput,super.handlePredict(ns)}destroy(){const ns=Object.create(null,{destroy:{get:()=>super.destroy}});var rs;return __awaiter$$(this,void 0,void 0,function*(){ns.destroy.call(this),(rs=this.blurCanvas)===null||rs===void 0||rs.remove(),this.blurCanvas=void 0})}}BackgroundBlurProcessorBuiltIn$1.default=BackgroundBlurProcessorBuiltIn;var __awaiter$_=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,ns,rs,is){function os(ss){return ss instanceof rs?ss:new rs(function(as){as(ss)})}return new(rs||(rs=Promise))(function(ss,as){function ls(ds){try{us(is.next(ds))}catch(ps){as(ps)}}function cs(ds){try{us(is.throw(ds))}catch(ps){as(ps)}}function us(ds){ds.done?ss(ds.value):os(ds.value).then(ls,cs)}us((is=is.apply(ts,ns||[])).next())})},__importDefault$1A=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(BackgroundBlurVideoFrameProcessor$1,"__esModule",{value:!0});const BackgroundFilterVideoFrameProcessor_1$1=__importDefault$1A(BackgroundFilterVideoFrameProcessor$1),ConsoleLogger_1$1=__importDefault$1A(ConsoleLogger$1),LogLevel_1$6=__importDefault$1A(LogLevel),NoOpVideoFrameProcessor_1$1=__importDefault$1A(NoOpVideoFrameProcessor$1),BackgroundBlurProcessorBuiltIn_1=__importDefault$1A(BackgroundBlurProcessorBuiltIn$1),BackgroundBlurProcessorProvided_1=__importDefault$1A(BackgroundBlurProcessorProvided$1),BackgroundBlurStrength_1=__importDefault$1A(BackgroundBlurStrength);class NoOpBackgroundBlurProcessor extends NoOpVideoFrameProcessor_1$1.default{setBlurStrength(){}loadAssets(){return __awaiter$_(this,void 0,void 0,function*(){})}addObserver(){}removeObserver(){}}class BackgroundBlurVideoFrameProcessor extends BackgroundFilterVideoFrameProcessor_1$1.default{static create(ns,rs){return __awaiter$_(this,void 0,void 0,function*(){ns=BackgroundBlurVideoFrameProcessor.resolveSpec(ns),rs=BackgroundBlurVideoFrameProcessor.resolveOptions(rs);const{logger:is}=rs,os=yield BackgroundBlurVideoFrameProcessor.isSupported(ns,rs);if(is.info("processor is ".concat(os?"":"not"," supported")),!os)return is.warn("Using no-op processor because background blur is not supported"),new NoOpBackgroundBlurProcessor;let ss;return(yield BackgroundBlurProcessorProvided_1.default.isSupported())?(is.info("Using browser-provided background blur"),ss=new BackgroundBlurProcessorProvided_1.default(ns,rs)):(is.info("Using built-in background blur"),ss=new BackgroundBlurProcessorBuiltIn_1.default(ns,rs)),yield ss.loadAssets(),ss})}static resolveOptions(ns={}){let rs=Object.assign({},ns);return rs.blurStrength||(rs.blurStrength=BackgroundBlurStrength_1.default.MEDIUM),rs.logger||(rs.logger=new ConsoleLogger_1$1.default("BackgroundBlurProcessor",LogLevel_1$6.default.INFO)),rs=super.resolveOptions(rs),rs}static isSupported(ns,rs){return ns=BackgroundBlurVideoFrameProcessor.resolveSpec(ns),rs=BackgroundBlurVideoFrameProcessor.resolveOptions(rs),super.isSupported(ns,rs)}}BackgroundBlurVideoFrameProcessor$1.default=BackgroundBlurVideoFrameProcessor;var BackgroundReplacementVideoFrameProcessor$1={},BackgroundReplacementFilter$1={},BackgroundReplacementVideoFrameProcessorDelegate$1={},__importDefault$1z=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(BackgroundReplacementVideoFrameProcessorDelegate$1,"__esModule",{value:!0});const BackgroundFilterVideoFrameProcessorDelegate_1=__importDefault$1z(BackgroundFilterVideoFrameProcessorDelegate$1);class BackgroundReplacementVideoFrameProcessorDelegate extends BackgroundFilterVideoFrameProcessorDelegate_1.default{}BackgroundReplacementVideoFrameProcessorDelegate$1.default=BackgroundReplacementVideoFrameProcessorDelegate;var __awaiter$Z=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,ns,rs,is){function os(ss){return ss instanceof rs?ss:new rs(function(as){as(ss)})}return new(rs||(rs=Promise))(function(ss,as){function ls(ds){try{us(is.next(ds))}catch(ps){as(ps)}}function cs(ds){try{us(is.throw(ds))}catch(ps){as(ps)}}function us(ds){ds.done?ss(ds.value):os(ds.value).then(ls,cs)}us((is=is.apply(ts,ns||[])).next())})},__importDefault$1y=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(BackgroundReplacementFilter$1,"__esModule",{value:!0});const BackgroundFilterProcessor_1=__importDefault$1y(BackgroundFilterProcessor$1),BackgroundReplacementVideoFrameProcessorDelegate_1=__importDefault$1y(BackgroundReplacementVideoFrameProcessorDelegate$1);class BackgroundReplacementFilter extends BackgroundFilterProcessor_1.default{constructor(ns,rs){super("background replacement",ns,rs,new BackgroundReplacementVideoFrameProcessorDelegate_1.default),this.replacementBlob=rs.imageBlob,this.logger.info("BackgroundReplacement processor successfully created"),this.logger.info("BackgroundReplacement spec: ".concat(this.stringify(this.spec))),this.logger.info("BackgroundReplacement options: ".concat(this.stringify(rs)))}setImageBlob(ns){return __awaiter$Z(this,void 0,void 0,function*(){this.replacementBlob=ns,this.replacementImage=yield BackgroundReplacementFilter.loadImage(this.createReplacementObjectUrl())})}initOnFirstExecution(){}drawImageWithMask(ns,rs){rs||(rs=new ImageData(this.spec.model.input.width,this.spec.model.input.height)),this.scaledCanvas.getContext("2d").putImageData(rs,0,0);const{canvasCtx:os,targetCanvas:ss}=this,{width:as,height:ls}=ss;os.save(),os.clearRect(0,0,as,ls),os.drawImage(this.scaledCanvas,0,0,as,ls),os.globalCompositeOperation="source-in",os.drawImage(ns,0,0,as,ls),os.globalCompositeOperation="destination-over",os.drawImage(this.replacementImage,0,0,ss.width,ss.height),os.restore()}static loadImageExecutor(ns,rs,is){const os=new Image;os.crossOrigin="Anonymous",os.addEventListener("load",()=>{ns(os)},!1),os.addEventListener("error",ss=>{rs(new Error("Could not load replacement image ".concat(os.src,": ").concat(ss.message)))},!1),os.src=is}static loadImage(ns){return __awaiter$Z(this,void 0,void 0,function*(){return new Promise((rs,is)=>this.loadImageExecutor(rs,is,ns))})}revokeReplacementObjectUrl(){this.replacementObjectUrl&&URL.revokeObjectURL(this.replacementObjectUrl)}createReplacementObjectUrl(){return this.revokeReplacementObjectUrl(),this.replacementObjectUrl=URL.createObjectURL(this.replacementBlob),this.replacementObjectUrl}loadAssets(){const ns=Object.create(null,{loadAssets:{get:()=>super.loadAssets}});return __awaiter$Z(this,void 0,void 0,function*(){this.replacementImage=yield BackgroundReplacementFilter.loadImage(this.createReplacementObjectUrl()),ns.loadAssets.call(this)})}addObserver(ns){this.delegate.addObserver(ns)}removeObserver(ns){this.delegate.removeObserver(ns)}destroy(){const ns=Object.create(null,{destroy:{get:()=>super.destroy}});return __awaiter$Z(this,void 0,void 0,function*(){ns.destroy.call(this),this.revokeReplacementObjectUrl()})}setEventController(ns){this.eventController?this.eventController=ns:(this.eventController=ns,this.publishBackgroundFilterEvent())}publishBackgroundFilterEvent(){const ns={backgroundBlurEnabled:"false",backgroundBlurStrength:"low",backgroundReplacementEnabled:"true",backgroundFilterVersion:1};this.eventController.publishEvent("backgroundFilterConfigSelected",ns)}}BackgroundReplacementFilter$1.default=BackgroundReplacementFilter;var __awaiter$Y=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,ns,rs,is){function os(ss){return ss instanceof rs?ss:new rs(function(as){as(ss)})}return new(rs||(rs=Promise))(function(ss,as){function ls(ds){try{us(is.next(ds))}catch(ps){as(ps)}}function cs(ds){try{us(is.throw(ds))}catch(ps){as(ps)}}function us(ds){ds.done?ss(ds.value):os(ds.value).then(ls,cs)}us((is=is.apply(ts,ns||[])).next())})},__importDefault$1x=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(BackgroundReplacementVideoFrameProcessor$1,"__esModule",{value:!0});const BackgroundFilterVideoFrameProcessor_1=__importDefault$1x(BackgroundFilterVideoFrameProcessor$1),ConsoleLogger_1=__importDefault$1x(ConsoleLogger$1),LogLevel_1$5=__importDefault$1x(LogLevel),NoOpVideoFrameProcessor_1=__importDefault$1x(NoOpVideoFrameProcessor$1),BackgroundReplacementFilter_1=__importDefault$1x(BackgroundReplacementFilter$1);class NoOpBackgroundReplacementProcessor extends NoOpVideoFrameProcessor_1.default{loadAssets(){return __awaiter$Y(this,void 0,void 0,function*(){})}addObserver(){}removeObserver(){}setImageBlob(){return __awaiter$Y(this,void 0,void 0,function*(){})}}class BackgroundReplacementVideoFrameProcessor extends BackgroundFilterVideoFrameProcessor_1.default{static create(ns,rs){return __awaiter$Y(this,void 0,void 0,function*(){ns=this.resolveSpec(ns),rs=this.resolveOptions(rs),yield this.resolveOptionsAsync(rs);const{logger:is}=rs;if(!(yield BackgroundReplacementVideoFrameProcessor.isSupported(ns,rs)))return is.warn("Using no-op processor because background replacement is not supported"),new NoOpBackgroundReplacementProcessor;is.info("Using background replacement filter");const ss=new BackgroundReplacementFilter_1.default(ns,rs);return yield ss.loadAssets(),ss})}static resolveOptions(ns={}){const rs=Object.assign({},ns);return rs.logger||(rs.logger=new ConsoleLogger_1.default("BackgroundReplacementProcessor",LogLevel_1$5.default.INFO)),super.resolveOptions(rs)}static resolveOptionsAsync(ns){return __awaiter$Y(this,void 0,void 0,function*(){if(!ns.imageBlob){const rs=document.createElement("canvas");rs.width=100,rs.height=100;const is=rs.getContext("2d");is.fillStyle="blue",is.fillRect(0,0,100,100);const os=yield new Promise(ss=>{rs.toBlob(ss)});ns.imageBlob=os}})}static isSupported(ns,rs){const is=Object.create(null,{isSupported:{get:()=>super.isSupported}});return __awaiter$Y(this,void 0,void 0,function*(){ns=this.resolveSpec(ns),rs=this.resolveOptions(rs),yield this.resolveOptionsAsync(rs);const os=rs.imageBlob,ss=URL.createObjectURL(os);try{yield BackgroundReplacementFilter_1.default.loadImage(ss)}catch(as){return rs.logger.info("Failed to fetch load replacement image ".concat(as.message)),!1}finally{URL.revokeObjectURL(ss)}return is.isSupported.call(this,ns,rs)})}}BackgroundReplacementVideoFrameProcessor$1.default=BackgroundReplacementVideoFrameProcessor;var BaseConnectionHealthPolicy$1={};Object.defineProperty(BaseConnectionHealthPolicy$1,"__esModule",{value:!0});class BaseConnectionHealthPolicy{constructor(ns,rs,is){this.minHealth=ns.minHealth,this.maxHealth=ns.maxHealth,this.currentHealth=ns.initialHealth,this.currentData=rs.clone(),this.name=is}minimumHealth(){return this.minHealth}maximumHealth(){return this.maxHealth}health(){return this.maximumHealth()}update(ns){this.currentData=ns}getConnectionHealthData(){return this.currentData.clone()}healthy(){return this.health()>this.minimumHealth()}healthIfChanged(){const ns=this.health();return ns!==this.currentHealth?(this.currentHealth=ns,ns):null}}BaseConnectionHealthPolicy$1.default=BaseConnectionHealthPolicy;var BitrateParameters$1={};Object.defineProperty(BitrateParameters$1,"__esModule",{value:!0});class BitrateParameters{}BitrateParameters$1.default=BitrateParameters;var CSPMonitor$1={};Object.defineProperty(CSPMonitor$1,"__esModule",{value:!0});class CSPMonitor{static register(){!("document"in commonjsGlobal$1)||!document.addEventListener||CSPMonitor.shouldRegisterCSPMonitor&&(CSPMonitor.added||(document.addEventListener("securitypolicyviolation",CSPMonitor.listener),CSPMonitor.added=!0))}static unregister(){!("document"in commonjsGlobal$1)||!document.removeEventListener||(document.removeEventListener("securitypolicyviolation",CSPMonitor.listener),CSPMonitor.loggers=new Set,CSPMonitor.added=!1)}static disable(){CSPMonitor.shouldRegisterCSPMonitor=!1,CSPMonitor.unregister()}static addLogger(ns){ns&&CSPMonitor.loggers.add(ns)}static removeLogger(ns){ns&&CSPMonitor.loggers.delete(ns)}}CSPMonitor$1.default=CSPMonitor;CSPMonitor.loggers=new Set;CSPMonitor.shouldRegisterCSPMonitor=!0;CSPMonitor.added=!1;CSPMonitor.listener=ts=>{const ns="Security Policy Violation\n"+"Blocked URI: ".concat(ts.blockedURI,"\n")+"Violated Directive: ".concat(ts.violatedDirective,"\n")+"Original Policy: ".concat(ts.originalPolicy,"\n")+"Document URI: ".concat(ts.documentURI,"\n")+"Source File: ".concat(ts.sourceFile,"\n")+"Line No.: ".concat(ts.lineNumber,"\n");for(const rs of CSPMonitor.loggers)rs.error(ns);CSPMonitor.loggers.size===0&&console.error(ns)};var CheckAudioConnectivityFeedback={};(function(ts){Object.defineProperty(ts,"__esModule",{value:!0}),ts.CheckAudioConnectivityFeedback=void 0;var ns;(function(rs){rs[rs.Succeeded=0]="Succeeded",rs[rs.AudioInputRequestFailed=1]="AudioInputRequestFailed",rs[rs.AudioInputPermissionDenied=2]="AudioInputPermissionDenied",rs[rs.ConnectionFailed=3]="ConnectionFailed",rs[rs.AudioNotReceived=4]="AudioNotReceived"})(ns=ts.CheckAudioConnectivityFeedback||(ts.CheckAudioConnectivityFeedback={})),ts.default=ns})(CheckAudioConnectivityFeedback);var CheckAudioInputFeedback={};(function(ts){Object.defineProperty(ts,"__esModule",{value:!0}),ts.CheckAudioInputFeedback=void 0;var ns;(function(rs){rs[rs.Succeeded=0]="Succeeded",rs[rs.Failed=1]="Failed",rs[rs.PermissionDenied=2]="PermissionDenied"})(ns=ts.CheckAudioInputFeedback||(ts.CheckAudioInputFeedback={})),ts.default=ns})(CheckAudioInputFeedback);var CheckAudioOutputFeedback={};(function(ts){Object.defineProperty(ts,"__esModule",{value:!0}),ts.CheckAudioOutputFeedback=void 0;var ns;(function(rs){rs[rs.Succeeded=0]="Succeeded",rs[rs.Failed=1]="Failed"})(ns=ts.CheckAudioOutputFeedback||(ts.CheckAudioOutputFeedback={})),ts.default=ns})(CheckAudioOutputFeedback);var CheckCameraResolutionFeedback={};(function(ts){Object.defineProperty(ts,"__esModule",{value:!0}),ts.CheckCameraResolutionFeedback=void 0;var ns;(function(rs){rs[rs.Succeeded=0]="Succeeded",rs[rs.Failed=1]="Failed",rs[rs.ResolutionNotSupported=2]="ResolutionNotSupported",rs[rs.PermissionDenied=3]="PermissionDenied"})(ns=ts.CheckCameraResolutionFeedback||(ts.CheckCameraResolutionFeedback={})),ts.default=ns})(CheckCameraResolutionFeedback);var CheckContentShareConnectivityFeedback={};(function(ts){Object.defineProperty(ts,"__esModule",{value:!0}),ts.CheckContentShareConnectivityFeedback=void 0;var ns;(function(rs){rs[rs.Succeeded=0]="Succeeded",rs[rs.Failed=1]="Failed",rs[rs.PermissionDenied=2]="PermissionDenied",rs[rs.TimedOut=3]="TimedOut",rs[rs.ConnectionFailed=4]="ConnectionFailed"})(ns=ts.CheckContentShareConnectivityFeedback||(ts.CheckContentShareConnectivityFeedback={})),ts.default=ns})(CheckContentShareConnectivityFeedback);var CheckNetworkTCPConnectivityFeedback={};(function(ts){Object.defineProperty(ts,"__esModule",{value:!0}),ts.CheckNetworkTCPConnectivityFeedback=void 0;var ns;(function(rs){rs[rs.Succeeded=0]="Succeeded",rs[rs.MeetingSessionURLsNotInitialized=1]="MeetingSessionURLsNotInitialized",rs[rs.ConnectionFailed=2]="ConnectionFailed",rs[rs.ICENegotiationFailed=3]="ICENegotiationFailed"})(ns=ts.CheckNetworkTCPConnectivityFeedback||(ts.CheckNetworkTCPConnectivityFeedback={})),ts.default=ns})(CheckNetworkTCPConnectivityFeedback);var CheckNetworkUDPConnectivityFeedback={};(function(ts){Object.defineProperty(ts,"__esModule",{value:!0}),ts.CheckNetworkUDPConnectivityFeedback=void 0;var ns;(function(rs){rs[rs.Succeeded=0]="Succeeded",rs[rs.MeetingSessionURLsNotInitialized=1]="MeetingSessionURLsNotInitialized",rs[rs.ConnectionFailed=2]="ConnectionFailed",rs[rs.ICENegotiationFailed=3]="ICENegotiationFailed"})(ns=ts.CheckNetworkUDPConnectivityFeedback||(ts.CheckNetworkUDPConnectivityFeedback={})),ts.default=ns})(CheckNetworkUDPConnectivityFeedback);var CheckVideoConnectivityFeedback={};(function(ts){Object.defineProperty(ts,"__esModule",{value:!0}),ts.CheckVideoConnectivityFeedback=void 0;var ns;(function(rs){rs[rs.Succeeded=0]="Succeeded",rs[rs.VideoInputRequestFailed=1]="VideoInputRequestFailed",rs[rs.VideoInputPermissionDenied=2]="VideoInputPermissionDenied",rs[rs.ConnectionFailed=3]="ConnectionFailed",rs[rs.VideoNotSent=4]="VideoNotSent"})(ns=ts.CheckVideoConnectivityFeedback||(ts.CheckVideoConnectivityFeedback={})),ts.default=ns})(CheckVideoConnectivityFeedback);var CheckVideoInputFeedback={};(function(ts){Object.defineProperty(ts,"__esModule",{value:!0}),ts.CheckVideoInputFeedback=void 0;var ns;(function(rs){rs[rs.Succeeded=0]="Succeeded",rs[rs.Failed=1]="Failed",rs[rs.PermissionDenied=2]="PermissionDenied"})(ns=ts.CheckVideoInputFeedback||(ts.CheckVideoInputFeedback={})),ts.default=ns})(CheckVideoInputFeedback);var CleanRestartedSessionTask$1={},__awaiter$X=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,ns,rs,is){function os(ss){return ss instanceof rs?ss:new rs(function(as){as(ss)})}return new(rs||(rs=Promise))(function(ss,as){function ls(ds){try{us(is.next(ds))}catch(ps){as(ps)}}function cs(ds){try{us(is.throw(ds))}catch(ps){as(ps)}}function us(ds){ds.done?ss(ds.value):os(ds.value).then(ls,cs)}us((is=is.apply(ts,ns||[])).next())})},__importDefault$1w=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(CleanRestartedSessionTask$1,"__esModule",{value:!0});const BaseTask_1$n=__importDefault$1w(BaseTask$1);class CleanRestartedSessionTask extends BaseTask_1$n.default{constructor(ns){super(ns.logger),this.context=ns,this.taskName="CleanRestartedSessionTask"}run(){return __awaiter$X(this,void 0,void 0,function*(){this.context.resetConnectionSpecificState()})}}CleanRestartedSessionTask$1.default=CleanRestartedSessionTask;var CleanStoppedSessionTask$1={},SignalingClientEventType={};(function(ts){Object.defineProperty(ts,"__esModule",{value:!0}),ts.SignalingClientEventType=void 0;var ns;(function(rs){rs[rs.WebSocketConnecting=0]="WebSocketConnecting",rs[rs.WebSocketOpen=1]="WebSocketOpen",rs[rs.WebSocketError=2]="WebSocketError",rs[rs.WebSocketClosing=3]="WebSocketClosing",rs[rs.WebSocketClosed=4]="WebSocketClosed",rs[rs.WebSocketFailed=5]="WebSocketFailed",rs[rs.WebSocketMessage=6]="WebSocketMessage",rs[rs.WebSocketSendMessageFailure=7]="WebSocketSendMessageFailure",rs[rs.WebSocketSentMessage=8]="WebSocketSentMessage",rs[rs.ProtocolDecodeFailure=9]="ProtocolDecodeFailure",rs[rs.ReceivedSignalFrame=10]="ReceivedSignalFrame",rs[rs.WebSocketSkippedMessage=11]="WebSocketSkippedMessage"})(ns=ts.SignalingClientEventType||(ts.SignalingClientEventType={})),ts.default=ns})(SignalingClientEventType);var __awaiter$W=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,ns,rs,is){function os(ss){return ss instanceof rs?ss:new rs(function(as){as(ss)})}return new(rs||(rs=Promise))(function(ss,as){function ls(ds){try{us(is.next(ds))}catch(ps){as(ps)}}function cs(ds){try{us(is.throw(ds))}catch(ps){as(ps)}}function us(ds){ds.done?ss(ds.value):os(ds.value).then(ls,cs)}us((is=is.apply(ts,ns||[])).next())})},__importDefault$1v=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(CleanStoppedSessionTask$1,"__esModule",{value:!0});const SignalingClientEventType_1$c=__importDefault$1v(SignalingClientEventType),BaseTask_1$m=__importDefault$1v(BaseTask$1);class CleanStoppedSessionTask extends BaseTask_1$m.default{constructor(ns){super(ns.logger),this.context=ns,this.taskName="CleanStoppedSessionTask",this.taskCanceler=null}cancel(){this.taskCanceler&&(this.taskCanceler.cancel(),this.taskCanceler=null)}run(){return __awaiter$W(this,void 0,void 0,function*(){try{this.context.signalingClient.ready()&&(this.context.signalingClient.closeConnection(),yield this.receiveWebSocketClosedEvent())}catch(ns){throw ns}finally{for(const rs of this.context.removableObservers)rs.removeObserver();this.context.resetConnectionSpecificState(),this.context.statsCollector.stop(),this.context.statsCollector=null,this.context.connectionMonitor.stop(),this.context.connectionMonitor=null,this.context.videoUplinkBandwidthPolicy.setTransceiverController&&this.context.videoUplinkBandwidthPolicy.setTransceiverController(void 0),this.context.videoDownlinkBandwidthPolicy.bindToTileController&&this.context.videoDownlinkBandwidthPolicy.bindToTileController(void 0);const ns=this.context.videoTileController.getLocalVideoTile();ns&&ns.bindVideoStream("",!0,null,null,null,null),this.context.videoTileController.removeAllVideoTiles()}})}receiveWebSocketClosedEvent(){return new Promise((ns,rs)=>{class is{constructor(as){this.signalingClient=as}cancel(){this.signalingClient.removeObserver(this),rs(new Error("CleanStoppedSessionTask got canceled while waiting for the WebSocket closed event"))}handleSignalingClientEvent(as){as.type===SignalingClientEventType_1$c.default.WebSocketClosed&&(this.signalingClient.removeObserver(this),ns())}}const os=new is(this.context.signalingClient);this.taskCanceler=os,this.context.signalingClient.registerObserver(os)})}}CleanStoppedSessionTask$1.default=CleanStoppedSessionTask;var ClientMetricReport$1={},indexMinimal={},minimal$1={},aspromise=asPromise;function asPromise(ts,ns){for(var rs=new Array(arguments.length-1),is=0,os=2,ss=!0;os<arguments.length;)rs[is++]=arguments[os++];return new Promise(function(ls,cs){rs[is]=function(ds){if(ss)if(ss=!1,ds)cs(ds);else{for(var ps=new Array(arguments.length-1),hs=0;hs<ps.length;)ps[hs++]=arguments[hs];ls.apply(null,ps)}};try{ts.apply(ns||null,rs)}catch(us){ss&&(ss=!1,cs(us))}})}var base64$1={};(function(ts){var ns=ts;ns.length=function(ls){var cs=ls.length;if(!cs)return 0;for(var us=0;--cs%4>1&&ls.charAt(cs)==="=";)++us;return Math.ceil(ls.length*3)/4-us};for(var rs=new Array(64),is=new Array(123),os=0;os<64;)is[rs[os]=os<26?os+65:os<52?os+71:os<62?os-4:os-59|43]=os++;ns.encode=function(ls,cs,us){for(var ds=null,ps=[],hs=0,ms=0,gs;cs<us;){var ys=ls[cs++];switch(ms){case 0:ps[hs++]=rs[ys>>2],gs=(ys&3)<<4,ms=1;break;case 1:ps[hs++]=rs[gs|ys>>4],gs=(ys&15)<<2,ms=2;break;case 2:ps[hs++]=rs[gs|ys>>6],ps[hs++]=rs[ys&63],ms=0;break}hs>8191&&((ds||(ds=[])).push(String.fromCharCode.apply(String,ps)),hs=0)}return ms&&(ps[hs++]=rs[gs],ps[hs++]=61,ms===1&&(ps[hs++]=61)),ds?(hs&&ds.push(String.fromCharCode.apply(String,ps.slice(0,hs))),ds.join("")):String.fromCharCode.apply(String,ps.slice(0,hs))};var ss="invalid encoding";ns.decode=function(ls,cs,us){for(var ds=us,ps=0,hs,ms=0;ms<ls.length;){var gs=ls.charCodeAt(ms++);if(gs===61&&ps>1)break;if((gs=is[gs])===void 0)throw Error(ss);switch(ps){case 0:hs=gs,ps=1;break;case 1:cs[us++]=hs<<2|(gs&48)>>4,hs=gs,ps=2;break;case 2:cs[us++]=(hs&15)<<4|(gs&60)>>2,hs=gs,ps=3;break;case 3:cs[us++]=(hs&3)<<6|gs,ps=0;break}}if(ps===1)throw Error(ss);return us-ds},ns.test=function(ls){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(ls)}})(base64$1);var eventemitter=EventEmitter;function EventEmitter(){this._listeners={}}EventEmitter.prototype.on=function(ns,rs,is){return(this._listeners[ns]||(this._listeners[ns]=[])).push({fn:rs,ctx:is||this}),this};EventEmitter.prototype.off=function(ns,rs){if(ns===void 0)this._listeners={};else if(rs===void 0)this._listeners[ns]=[];else for(var is=this._listeners[ns],os=0;os<is.length;)is[os].fn===rs?is.splice(os,1):++os;return this};EventEmitter.prototype.emit=function(ns){var rs=this._listeners[ns];if(rs){for(var is=[],os=1;os<arguments.length;)is.push(arguments[os++]);for(os=0;os<rs.length;)rs[os].fn.apply(rs[os++].ctx,is)}return this};var float=factory(factory);function factory(ts){return typeof Float32Array<"u"?function(){var ns=new Float32Array([-0]),rs=new Uint8Array(ns.buffer),is=rs[3]===128;function os(cs,us,ds){ns[0]=cs,us[ds]=rs[0],us[ds+1]=rs[1],us[ds+2]=rs[2],us[ds+3]=rs[3]}function ss(cs,us,ds){ns[0]=cs,us[ds]=rs[3],us[ds+1]=rs[2],us[ds+2]=rs[1],us[ds+3]=rs[0]}ts.writeFloatLE=is?os:ss,ts.writeFloatBE=is?ss:os;function as(cs,us){return rs[0]=cs[us],rs[1]=cs[us+1],rs[2]=cs[us+2],rs[3]=cs[us+3],ns[0]}function ls(cs,us){return rs[3]=cs[us],rs[2]=cs[us+1],rs[1]=cs[us+2],rs[0]=cs[us+3],ns[0]}ts.readFloatLE=is?as:ls,ts.readFloatBE=is?ls:as}():function(){function ns(is,os,ss,as){var ls=os<0?1:0;if(ls&&(os=-os),os===0)is(1/os>0?0:2147483648,ss,as);else if(isNaN(os))is(2143289344,ss,as);else if(os>34028234663852886e22)is((ls<<31|2139095040)>>>0,ss,as);else if(os<11754943508222875e-54)is((ls<<31|Math.round(os/1401298464324817e-60))>>>0,ss,as);else{var cs=Math.floor(Math.log(os)/Math.LN2),us=Math.round(os*Math.pow(2,-cs)*8388608)&8388607;is((ls<<31|cs+127<<23|us)>>>0,ss,as)}}ts.writeFloatLE=ns.bind(null,writeUintLE),ts.writeFloatBE=ns.bind(null,writeUintBE);function rs(is,os,ss){var as=is(os,ss),ls=(as>>31)*2+1,cs=as>>>23&255,us=as&8388607;return cs===255?us?NaN:ls*(1/0):cs===0?ls*1401298464324817e-60*us:ls*Math.pow(2,cs-150)*(us+8388608)}ts.readFloatLE=rs.bind(null,readUintLE),ts.readFloatBE=rs.bind(null,readUintBE)}(),typeof Float64Array<"u"?function(){var ns=new Float64Array([-0]),rs=new Uint8Array(ns.buffer),is=rs[7]===128;function os(cs,us,ds){ns[0]=cs,us[ds]=rs[0],us[ds+1]=rs[1],us[ds+2]=rs[2],us[ds+3]=rs[3],us[ds+4]=rs[4],us[ds+5]=rs[5],us[ds+6]=rs[6],us[ds+7]=rs[7]}function ss(cs,us,ds){ns[0]=cs,us[ds]=rs[7],us[ds+1]=rs[6],us[ds+2]=rs[5],us[ds+3]=rs[4],us[ds+4]=rs[3],us[ds+5]=rs[2],us[ds+6]=rs[1],us[ds+7]=rs[0]}ts.writeDoubleLE=is?os:ss,ts.writeDoubleBE=is?ss:os;function as(cs,us){return rs[0]=cs[us],rs[1]=cs[us+1],rs[2]=cs[us+2],rs[3]=cs[us+3],rs[4]=cs[us+4],rs[5]=cs[us+5],rs[6]=cs[us+6],rs[7]=cs[us+7],ns[0]}function ls(cs,us){return rs[7]=cs[us],rs[6]=cs[us+1],rs[5]=cs[us+2],rs[4]=cs[us+3],rs[3]=cs[us+4],rs[2]=cs[us+5],rs[1]=cs[us+6],rs[0]=cs[us+7],ns[0]}ts.readDoubleLE=is?as:ls,ts.readDoubleBE=is?ls:as}():function(){function ns(is,os,ss,as,ls,cs){var us=as<0?1:0;if(us&&(as=-as),as===0)is(0,ls,cs+os),is(1/as>0?0:2147483648,ls,cs+ss);else if(isNaN(as))is(0,ls,cs+os),is(2146959360,ls,cs+ss);else if(as>17976931348623157e292)is(0,ls,cs+os),is((us<<31|2146435072)>>>0,ls,cs+ss);else{var ds;if(as<22250738585072014e-324)ds=as/5e-324,is(ds>>>0,ls,cs+os),is((us<<31|ds/4294967296)>>>0,ls,cs+ss);else{var ps=Math.floor(Math.log(as)/Math.LN2);ps===1024&&(ps=1023),ds=as*Math.pow(2,-ps),is(ds*4503599627370496>>>0,ls,cs+os),is((us<<31|ps+1023<<20|ds*1048576&1048575)>>>0,ls,cs+ss)}}}ts.writeDoubleLE=ns.bind(null,writeUintLE,0,4),ts.writeDoubleBE=ns.bind(null,writeUintBE,4,0);function rs(is,os,ss,as,ls){var cs=is(as,ls+os),us=is(as,ls+ss),ds=(us>>31)*2+1,ps=us>>>20&2047,hs=4294967296*(us&1048575)+cs;return ps===2047?hs?NaN:ds*(1/0):ps===0?ds*5e-324*hs:ds*Math.pow(2,ps-1075)*(hs+4503599627370496)}ts.readDoubleLE=rs.bind(null,readUintLE,0,4),ts.readDoubleBE=rs.bind(null,readUintBE,4,0)}(),ts}function writeUintLE(ts,ns,rs){ns[rs]=ts&255,ns[rs+1]=ts>>>8&255,ns[rs+2]=ts>>>16&255,ns[rs+3]=ts>>>24}function writeUintBE(ts,ns,rs){ns[rs]=ts>>>24,ns[rs+1]=ts>>>16&255,ns[rs+2]=ts>>>8&255,ns[rs+3]=ts&255}function readUintLE(ts,ns){return(ts[ns]|ts[ns+1]<<8|ts[ns+2]<<16|ts[ns+3]<<24)>>>0}function readUintBE(ts,ns){return(ts[ns]<<24|ts[ns+1]<<16|ts[ns+2]<<8|ts[ns+3])>>>0}var inquire_1=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(ts){}return null}var utf8$2={};(function(ts){var ns=ts;ns.length=function(is){for(var os=0,ss=0,as=0;as<is.length;++as)ss=is.charCodeAt(as),ss<128?os+=1:ss<2048?os+=2:(ss&64512)===55296&&(is.charCodeAt(as+1)&64512)===56320?(++as,os+=4):os+=3;return os},ns.read=function(is,os,ss){var as=ss-os;if(as<1)return"";for(var ls=null,cs=[],us=0,ds;os<ss;)ds=is[os++],ds<128?cs[us++]=ds:ds>191&&ds<224?cs[us++]=(ds&31)<<6|is[os++]&63:ds>239&&ds<365?(ds=((ds&7)<<18|(is[os++]&63)<<12|(is[os++]&63)<<6|is[os++]&63)-65536,cs[us++]=55296+(ds>>10),cs[us++]=56320+(ds&1023)):cs[us++]=(ds&15)<<12|(is[os++]&63)<<6|is[os++]&63,us>8191&&((ls||(ls=[])).push(String.fromCharCode.apply(String,cs)),us=0);return ls?(us&&ls.push(String.fromCharCode.apply(String,cs.slice(0,us))),ls.join("")):String.fromCharCode.apply(String,cs.slice(0,us))},ns.write=function(is,os,ss){for(var as=ss,ls,cs,us=0;us<is.length;++us)ls=is.charCodeAt(us),ls<128?os[ss++]=ls:ls<2048?(os[ss++]=ls>>6|192,os[ss++]=ls&63|128):(ls&64512)===55296&&((cs=is.charCodeAt(us+1))&64512)===56320?(ls=65536+((ls&1023)<<10)+(cs&1023),++us,os[ss++]=ls>>18|240,os[ss++]=ls>>12&63|128,os[ss++]=ls>>6&63|128,os[ss++]=ls&63|128):(os[ss++]=ls>>12|224,os[ss++]=ls>>6&63|128,os[ss++]=ls&63|128);return ss-as}})(utf8$2);var pool_1=pool;function pool(ts,ns,rs){var is=rs||8192,os=is>>>1,ss=null,as=is;return function(cs){if(cs<1||cs>os)return ts(cs);as+cs>is&&(ss=ts(is),as=0);var us=ns.call(ss,as,as+=cs);return as&7&&(as=(as|7)+1),us}}var longbits,hasRequiredLongbits;function requireLongbits(){if(hasRequiredLongbits)return longbits;hasRequiredLongbits=1,longbits=ns;var ts=requireMinimal();function ns(ss,as){this.lo=ss>>>0,this.hi=as>>>0}var rs=ns.zero=new ns(0,0);rs.toNumber=function(){return 0},rs.zzEncode=rs.zzDecode=function(){return this},rs.length=function(){return 1};var is=ns.zeroHash="\0\0\0\0\0\0\0\0";ns.fromNumber=function(as){if(as===0)return rs;var ls=as<0;ls&&(as=-as);var cs=as>>>0,us=(as-cs)/4294967296>>>0;return ls&&(us=~us>>>0,cs=~cs>>>0,++cs>4294967295&&(cs=0,++us>4294967295&&(us=0))),new ns(cs,us)},ns.from=function(as){if(typeof as=="number")return ns.fromNumber(as);if(ts.isString(as))if(ts.Long)as=ts.Long.fromString(as);else return ns.fromNumber(parseInt(as,10));return as.low||as.high?new ns(as.low>>>0,as.high>>>0):rs},ns.prototype.toNumber=function(as){if(!as&&this.hi>>>31){var ls=~this.lo+1>>>0,cs=~this.hi>>>0;return ls||(cs=cs+1>>>0),-(ls+cs*4294967296)}return this.lo+this.hi*4294967296},ns.prototype.toLong=function(as){return ts.Long?new ts.Long(this.lo|0,this.hi|0,!!as):{low:this.lo|0,high:this.hi|0,unsigned:!!as}};var os=String.prototype.charCodeAt;return ns.fromHash=function(as){return as===is?rs:new ns((os.call(as,0)|os.call(as,1)<<8|os.call(as,2)<<16|os.call(as,3)<<24)>>>0,(os.call(as,4)|os.call(as,5)<<8|os.call(as,6)<<16|os.call(as,7)<<24)>>>0)},ns.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},ns.prototype.zzEncode=function(){var as=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^as)>>>0,this.lo=(this.lo<<1^as)>>>0,this},ns.prototype.zzDecode=function(){var as=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^as)>>>0,this.hi=(this.hi>>>1^as)>>>0,this},ns.prototype.length=function(){var as=this.lo,ls=(this.lo>>>28|this.hi<<4)>>>0,cs=this.hi>>>24;return cs===0?ls===0?as<16384?as<128?1:2:as<2097152?3:4:ls<16384?ls<128?5:6:ls<2097152?7:8:cs<128?9:10},longbits}var hasRequiredMinimal;function requireMinimal(){return hasRequiredMinimal||(hasRequiredMinimal=1,function(ts){var ns=ts;ns.asPromise=aspromise,ns.base64=base64$1,ns.EventEmitter=eventemitter,ns.float=float,ns.inquire=inquire_1,ns.utf8=utf8$2,ns.pool=pool_1,ns.LongBits=requireLongbits(),ns.isNode=!!(typeof commonjsGlobal$1<"u"&&commonjsGlobal$1&&commonjsGlobal$1.process&&commonjsGlobal$1.process.versions&&commonjsGlobal$1.process.versions.node),ns.global=ns.isNode&&commonjsGlobal$1||typeof window<"u"&&window||typeof self<"u"&&self||commonjsGlobal$1,ns.emptyArray=Object.freeze?Object.freeze([]):[],ns.emptyObject=Object.freeze?Object.freeze({}):{},ns.isInteger=Number.isInteger||function(ss){return typeof ss=="number"&&isFinite(ss)&&Math.floor(ss)===ss},ns.isString=function(ss){return typeof ss=="string"||ss instanceof String},ns.isObject=function(ss){return ss&&typeof ss=="object"},ns.isset=ns.isSet=function(ss,as){var ls=ss[as];return ls!=null&&ss.hasOwnProperty(as)?typeof ls!="object"||(Array.isArray(ls)?ls.length:Object.keys(ls).length)>0:!1},ns.Buffer=function(){try{var os=ns.inquire("buffer").Buffer;return os.prototype.utf8Write?os:null}catch{return null}}(),ns._Buffer_from=null,ns._Buffer_allocUnsafe=null,ns.newBuffer=function(ss){return typeof ss=="number"?ns.Buffer?ns._Buffer_allocUnsafe(ss):new ns.Array(ss):ns.Buffer?ns._Buffer_from(ss):typeof Uint8Array>"u"?ss:new Uint8Array(ss)},ns.Array=typeof Uint8Array<"u"?Uint8Array:Array,ns.Long=ns.global.dcodeIO&&ns.global.dcodeIO.Long||ns.global.Long||ns.inquire("long"),ns.key2Re=/^true|false|0|1$/,ns.key32Re=/^-?(?:0|[1-9][0-9]*)$/,ns.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,ns.longToHash=function(ss){return ss?ns.LongBits.from(ss).toHash():ns.LongBits.zeroHash},ns.longFromHash=function(ss,as){var ls=ns.LongBits.fromHash(ss);return ns.Long?ns.Long.fromBits(ls.lo,ls.hi,as):ls.toNumber(!!as)};function rs(os,ss,as){for(var ls=Object.keys(ss),cs=0;cs<ls.length;++cs)(os[ls[cs]]===void 0||!as)&&(os[ls[cs]]=ss[ls[cs]]);return os}ns.merge=rs,ns.lcFirst=function(ss){return ss.charAt(0).toLowerCase()+ss.substring(1)};function is(os){function ss(as,ls){if(!(this instanceof ss))return new ss(as,ls);Object.defineProperty(this,"message",{get:function(){return as}}),Error.captureStackTrace?Error.captureStackTrace(this,ss):Object.defineProperty(this,"stack",{value:new Error().stack||""}),ls&&rs(this,ls)}return ss.prototype=Object.create(Error.prototype,{constructor:{value:ss,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return os},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),ss}ns.newError=is,ns.ProtocolError=is("ProtocolError"),ns.oneOfGetter=function(ss){for(var as={},ls=0;ls<ss.length;++ls)as[ss[ls]]=1;return function(){for(var cs=Object.keys(this),us=cs.length-1;us>-1;--us)if(as[cs[us]]===1&&this[cs[us]]!==void 0&&this[cs[us]]!==null)return cs[us]}},ns.oneOfSetter=function(ss){return function(as){for(var ls=0;ls<ss.length;++ls)ss[ls]!==as&&delete this[ss[ls]]}},ns.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},ns._configure=function(){var os=ns.Buffer;if(!os){ns._Buffer_from=ns._Buffer_allocUnsafe=null;return}ns._Buffer_from=os.from!==Uint8Array.from&&os.from||function(as,ls){return new os(as,ls)},ns._Buffer_allocUnsafe=os.allocUnsafe||function(as){return new os(as)}}}(minimal$1)),minimal$1}var writer=Writer$1,util$4=requireMinimal(),BufferWriter$1,LongBits$1=util$4.LongBits,base64=util$4.base64,utf8$1=util$4.utf8;function Op(ts,ns,rs){this.fn=ts,this.len=ns,this.next=void 0,this.val=rs}function noop$1(){}function State(ts){this.head=ts.head,this.tail=ts.tail,this.len=ts.len,this.next=ts.states}function Writer$1(){this.len=0,this.head=new Op(noop$1,0,0),this.tail=this.head,this.states=null}var create$1=function ts(){return util$4.Buffer?function(){return(Writer$1.create=function(){return new BufferWriter$1})()}:function(){return new Writer$1}};Writer$1.create=create$1();Writer$1.alloc=function ts(ns){return new util$4.Array(ns)};util$4.Array!==Array&&(Writer$1.alloc=util$4.pool(Writer$1.alloc,util$4.Array.prototype.subarray));Writer$1.prototype._push=function ts(ns,rs,is){return this.tail=this.tail.next=new Op(ns,rs,is),this.len+=rs,this};function writeByte(ts,ns,rs){ns[rs]=ts&255}function writeVarint32(ts,ns,rs){for(;ts>127;)ns[rs++]=ts&127|128,ts>>>=7;ns[rs]=ts}function VarintOp(ts,ns){this.len=ts,this.next=void 0,this.val=ns}VarintOp.prototype=Object.create(Op.prototype);VarintOp.prototype.fn=writeVarint32;Writer$1.prototype.uint32=function ts(ns){return this.len+=(this.tail=this.tail.next=new VarintOp((ns=ns>>>0)<128?1:ns<16384?2:ns<2097152?3:ns<268435456?4:5,ns)).len,this};Writer$1.prototype.int32=function ts(ns){return ns<0?this._push(writeVarint64,10,LongBits$1.fromNumber(ns)):this.uint32(ns)};Writer$1.prototype.sint32=function ts(ns){return this.uint32((ns<<1^ns>>31)>>>0)};function writeVarint64(ts,ns,rs){for(;ts.hi;)ns[rs++]=ts.lo&127|128,ts.lo=(ts.lo>>>7|ts.hi<<25)>>>0,ts.hi>>>=7;for(;ts.lo>127;)ns[rs++]=ts.lo&127|128,ts.lo=ts.lo>>>7;ns[rs++]=ts.lo}Writer$1.prototype.uint64=function ts(ns){var rs=LongBits$1.from(ns);return this._push(writeVarint64,rs.length(),rs)};Writer$1.prototype.int64=Writer$1.prototype.uint64;Writer$1.prototype.sint64=function ts(ns){var rs=LongBits$1.from(ns).zzEncode();return this._push(writeVarint64,rs.length(),rs)};Writer$1.prototype.bool=function ts(ns){return this._push(writeByte,1,ns?1:0)};function writeFixed32(ts,ns,rs){ns[rs]=ts&255,ns[rs+1]=ts>>>8&255,ns[rs+2]=ts>>>16&255,ns[rs+3]=ts>>>24}Writer$1.prototype.fixed32=function ts(ns){return this._push(writeFixed32,4,ns>>>0)};Writer$1.prototype.sfixed32=Writer$1.prototype.fixed32;Writer$1.prototype.fixed64=function ts(ns){var rs=LongBits$1.from(ns);return this._push(writeFixed32,4,rs.lo)._push(writeFixed32,4,rs.hi)};Writer$1.prototype.sfixed64=Writer$1.prototype.fixed64;Writer$1.prototype.float=function ts(ns){return this._push(util$4.float.writeFloatLE,4,ns)};Writer$1.prototype.double=function ts(ns){return this._push(util$4.float.writeDoubleLE,8,ns)};var writeBytes=util$4.Array.prototype.set?function ts(ns,rs,is){rs.set(ns,is)}:function ts(ns,rs,is){for(var os=0;os<ns.length;++os)rs[is+os]=ns[os]};Writer$1.prototype.bytes=function ts(ns){var rs=ns.length>>>0;if(!rs)return this._push(writeByte,1,0);if(util$4.isString(ns)){var is=Writer$1.alloc(rs=base64.length(ns));base64.decode(ns,is,0),ns=is}return this.uint32(rs)._push(writeBytes,rs,ns)};Writer$1.prototype.string=function ts(ns){var rs=utf8$1.length(ns);return rs?this.uint32(rs)._push(utf8$1.write,rs,ns):this._push(writeByte,1,0)};Writer$1.prototype.fork=function ts(){return this.states=new State(this),this.head=this.tail=new Op(noop$1,0,0),this.len=0,this};Writer$1.prototype.reset=function ts(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Op(noop$1,0,0),this.len=0),this};Writer$1.prototype.ldelim=function ts(){var ns=this.head,rs=this.tail,is=this.len;return this.reset().uint32(is),is&&(this.tail.next=ns.next,this.tail=rs,this.len+=is),this};Writer$1.prototype.finish=function ts(){for(var ns=this.head.next,rs=this.constructor.alloc(this.len),is=0;ns;)ns.fn(ns.val,rs,is),is+=ns.len,ns=ns.next;return rs};Writer$1._configure=function(ts){BufferWriter$1=ts,Writer$1.create=create$1(),BufferWriter$1._configure()};var writer_buffer=BufferWriter,Writer=writer;(BufferWriter.prototype=Object.create(Writer.prototype)).constructor=BufferWriter;var util$3=requireMinimal();function BufferWriter(){Writer.call(this)}BufferWriter._configure=function(){BufferWriter.alloc=util$3._Buffer_allocUnsafe,BufferWriter.writeBytesBuffer=util$3.Buffer&&util$3.Buffer.prototype instanceof Uint8Array&&util$3.Buffer.prototype.set.name==="set"?function(ns,rs,is){rs.set(ns,is)}:function(ns,rs,is){if(ns.copy)ns.copy(rs,is,0,ns.length);else for(var os=0;os<ns.length;)rs[is++]=ns[os++]}};BufferWriter.prototype.bytes=function ts(ns){util$3.isString(ns)&&(ns=util$3._Buffer_from(ns,"base64"));var rs=ns.length>>>0;return this.uint32(rs),rs&&this._push(BufferWriter.writeBytesBuffer,rs,ns),this};function writeStringBuffer(ts,ns,rs){ts.length<40?util$3.utf8.write(ts,ns,rs):ns.utf8Write?ns.utf8Write(ts,rs):ns.write(ts,rs)}BufferWriter.prototype.string=function ts(ns){var rs=util$3.Buffer.byteLength(ns);return this.uint32(rs),rs&&this._push(writeStringBuffer,rs,ns),this};BufferWriter._configure();var reader=Reader$1,util$2=requireMinimal(),BufferReader$1,LongBits=util$2.LongBits,utf8=util$2.utf8;function indexOutOfRange(ts,ns){return RangeError("index out of range: "+ts.pos+" + "+(ns||1)+" > "+ts.len)}function Reader$1(ts){this.buf=ts,this.pos=0,this.len=ts.length}var create_array=typeof Uint8Array<"u"?function ts(ns){if(ns instanceof Uint8Array||Array.isArray(ns))return new Reader$1(ns);throw Error("illegal buffer")}:function ts(ns){if(Array.isArray(ns))return new Reader$1(ns);throw Error("illegal buffer")},create=function ts(){return util$2.Buffer?function(rs){return(Reader$1.create=function(os){return util$2.Buffer.isBuffer(os)?new BufferReader$1(os):create_array(os)})(rs)}:create_array};Reader$1.create=create();Reader$1.prototype._slice=util$2.Array.prototype.subarray||util$2.Array.prototype.slice;Reader$1.prototype.uint32=function ts(){var ns=4294967295;return function(){if(ns=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(ns=(ns|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(ns=(ns|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(ns=(ns|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(ns=(ns|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return ns;if((this.pos+=5)>this.len)throw this.pos=this.len,indexOutOfRange(this,10);return ns}}();Reader$1.prototype.int32=function ts(){return this.uint32()|0};Reader$1.prototype.sint32=function ts(){var ns=this.uint32();return ns>>>1^-(ns&1)|0};function readLongVarint(){var ts=new LongBits(0,0),ns=0;if(this.len-this.pos>4){for(;ns<4;++ns)if(ts.lo=(ts.lo|(this.buf[this.pos]&127)<<ns*7)>>>0,this.buf[this.pos++]<128)return ts;if(ts.lo=(ts.lo|(this.buf[this.pos]&127)<<28)>>>0,ts.hi=(ts.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return ts;ns=0}else{for(;ns<3;++ns){if(this.pos>=this.len)throw indexOutOfRange(this);if(ts.lo=(ts.lo|(this.buf[this.pos]&127)<<ns*7)>>>0,this.buf[this.pos++]<128)return ts}return ts.lo=(ts.lo|(this.buf[this.pos++]&127)<<ns*7)>>>0,ts}if(this.len-this.pos>4){for(;ns<5;++ns)if(ts.hi=(ts.hi|(this.buf[this.pos]&127)<<ns*7+3)>>>0,this.buf[this.pos++]<128)return ts}else for(;ns<5;++ns){if(this.pos>=this.len)throw indexOutOfRange(this);if(ts.hi=(ts.hi|(this.buf[this.pos]&127)<<ns*7+3)>>>0,this.buf[this.pos++]<128)return ts}throw Error("invalid varint encoding")}Reader$1.prototype.bool=function ts(){return this.uint32()!==0};function readFixed32_end(ts,ns){return(ts[ns-4]|ts[ns-3]<<8|ts[ns-2]<<16|ts[ns-1]<<24)>>>0}Reader$1.prototype.fixed32=function ts(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return readFixed32_end(this.buf,this.pos+=4)};Reader$1.prototype.sfixed32=function ts(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return readFixed32_end(this.buf,this.pos+=4)|0};function readFixed64(){if(this.pos+8>this.len)throw indexOutOfRange(this,8);return new LongBits(readFixed32_end(this.buf,this.pos+=4),readFixed32_end(this.buf,this.pos+=4))}Reader$1.prototype.float=function ts(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);var ns=util$2.float.readFloatLE(this.buf,this.pos);return this.pos+=4,ns};Reader$1.prototype.double=function ts(){if(this.pos+8>this.len)throw indexOutOfRange(this,4);var ns=util$2.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,ns};Reader$1.prototype.bytes=function ts(){var ns=this.uint32(),rs=this.pos,is=this.pos+ns;if(is>this.len)throw indexOutOfRange(this,ns);if(this.pos+=ns,Array.isArray(this.buf))return this.buf.slice(rs,is);if(rs===is){var os=util$2.Buffer;return os?os.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,rs,is)};Reader$1.prototype.string=function ts(){var ns=this.bytes();return utf8.read(ns,0,ns.length)};Reader$1.prototype.skip=function ts(ns){if(typeof ns=="number"){if(this.pos+ns>this.len)throw indexOutOfRange(this,ns);this.pos+=ns}else do if(this.pos>=this.len)throw indexOutOfRange(this);while(this.buf[this.pos++]&128);return this};Reader$1.prototype.skipType=function(ts){switch(ts){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(ts=this.uint32()&7)!==4;)this.skipType(ts);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+ts+" at offset "+this.pos)}return this};Reader$1._configure=function(ts){BufferReader$1=ts,Reader$1.create=create(),BufferReader$1._configure();var ns=util$2.Long?"toLong":"toNumber";util$2.merge(Reader$1.prototype,{int64:function(){return readLongVarint.call(this)[ns](!1)},uint64:function(){return readLongVarint.call(this)[ns](!0)},sint64:function(){return readLongVarint.call(this).zzDecode()[ns](!1)},fixed64:function(){return readFixed64.call(this)[ns](!0)},sfixed64:function(){return readFixed64.call(this)[ns](!1)}})};var reader_buffer=BufferReader,Reader=reader;(BufferReader.prototype=Object.create(Reader.prototype)).constructor=BufferReader;var util$1=requireMinimal();function BufferReader(ts){Reader.call(this,ts)}BufferReader._configure=function(){util$1.Buffer&&(BufferReader.prototype._slice=util$1.Buffer.prototype.slice)};BufferReader.prototype.string=function ts(){var ns=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+ns,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+ns,this.len))};BufferReader._configure();var rpc={},service=Service,util=requireMinimal();(Service.prototype=Object.create(util.EventEmitter.prototype)).constructor=Service;function Service(ts,ns,rs){if(typeof ts!="function")throw TypeError("rpcImpl must be a function");util.EventEmitter.call(this),this.rpcImpl=ts,this.requestDelimited=!!ns,this.responseDelimited=!!rs}Service.prototype.rpcCall=function ts(ns,rs,is,os,ss){if(!os)throw TypeError("request must be specified");var as=this;if(!ss)return util.asPromise(ts,as,ns,rs,is,os);if(!as.rpcImpl){setTimeout(function(){ss(Error("already ended"))},0);return}try{return as.rpcImpl(ns,rs[as.requestDelimited?"encodeDelimited":"encode"](os).finish(),function(cs,us){if(cs)return as.emit("error",cs,ns),ss(cs);if(us===null){as.end(!0);return}if(!(us instanceof is))try{us=is[as.responseDelimited?"decodeDelimited":"decode"](us)}catch(ds){return as.emit("error",ds,ns),ss(ds)}return as.emit("data",us,ns),ss(null,us)})}catch(ls){as.emit("error",ls,ns),setTimeout(function(){ss(ls)},0);return}};Service.prototype.end=function ts(ns){return this.rpcImpl&&(ns||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this};(function(ts){var ns=ts;ns.Service=service})(rpc);var roots={};(function(ts){var ns=ts;ns.build="minimal",ns.Writer=writer,ns.BufferWriter=writer_buffer,ns.Reader=reader,ns.BufferReader=reader_buffer,ns.util=requireMinimal(),ns.rpc=rpc,ns.roots=roots,ns.configure=rs;function rs(){ns.util._configure(),ns.Writer._configure(ns.BufferWriter),ns.Reader._configure(ns.BufferReader)}rs()})(indexMinimal);var minimal=indexMinimal,$protobuf=minimal,$Reader=$protobuf.Reader,$Writer=$protobuf.Writer,$util=$protobuf.util,$root=$protobuf.roots.default||($protobuf.roots.default={});$root.SdkSignalFrame=function(){function ts(ns){if(ns)for(var rs=Object.keys(ns),is=0;is<rs.length;++is)ns[rs[is]]!=null&&(this[rs[is]]=ns[rs[is]])}return ts.prototype.timestampMs=$util.Long?$util.Long.fromBits(0,0,!0):0,ts.prototype.type=1,ts.prototype.error=null,ts.prototype.join=null,ts.prototype.joinack=null,ts.prototype.sub=null,ts.prototype.suback=null,ts.prototype.index=null,ts.prototype.pause=null,ts.prototype.leave=null,ts.prototype.leaveAck=null,ts.prototype.bitrates=null,ts.prototype.audioControl=null,ts.prototype.audioMetadata=null,ts.prototype.audioStreamIdInfo=null,ts.prototype.pingPong=null,ts.prototype.audioStatus=null,ts.prototype.clientMetric=null,ts.prototype.dataMessage=null,ts.prototype.remoteVideoUpdate=null,ts.prototype.primaryMeetingJoin=null,ts.prototype.primaryMeetingJoinAck=null,ts.prototype.primaryMeetingLeave=null,ts.prototype.notification=null,ts.create=function(rs){return new ts(rs)},ts.encode=function(rs,is){return is||(is=$Writer.create()),is.uint32(8).uint64(rs.timestampMs),is.uint32(16).int32(rs.type),rs.error!=null&&Object.hasOwnProperty.call(rs,"error")&&$root.SdkErrorFrame.encode(rs.error,is.uint32(26).fork()).ldelim(),rs.join!=null&&Object.hasOwnProperty.call(rs,"join")&&$root.SdkJoinFrame.encode(rs.join,is.uint32(34).fork()).ldelim(),rs.joinack!=null&&Object.hasOwnProperty.call(rs,"joinack")&&$root.SdkJoinAckFrame.encode(rs.joinack,is.uint32(42).fork()).ldelim(),rs.sub!=null&&Object.hasOwnProperty.call(rs,"sub")&&$root.SdkSubscribeFrame.encode(rs.sub,is.uint32(50).fork()).ldelim(),rs.suback!=null&&Object.hasOwnProperty.call(rs,"suback")&&$root.SdkSubscribeAckFrame.encode(rs.suback,is.uint32(58).fork()).ldelim(),rs.index!=null&&Object.hasOwnProperty.call(rs,"index")&&$root.SdkIndexFrame.encode(rs.index,is.uint32(66).fork()).ldelim(),rs.pause!=null&&Object.hasOwnProperty.call(rs,"pause")&&$root.SdkPauseResumeFrame.encode(rs.pause,is.uint32(82).fork()).ldelim(),rs.leave!=null&&Object.hasOwnProperty.call(rs,"leave")&&$root.SdkLeaveFrame.encode(rs.leave,is.uint32(90).fork()).ldelim(),rs.leaveAck!=null&&Object.hasOwnProperty.call(rs,"leaveAck")&&$root.SdkLeaveAckFrame.encode(rs.leaveAck,is.uint32(98).fork()).ldelim(),rs.bitrates!=null&&Object.hasOwnProperty.call(rs,"bitrates")&&$root.SdkBitrateFrame.encode(rs.bitrates,is.uint32(114).fork()).ldelim(),rs.audioControl!=null&&Object.hasOwnProperty.call(rs,"audioControl")&&$root.SdkAudioControlFrame.encode(rs.audioControl,is.uint32(138).fork()).ldelim(),rs.audioMetadata!=null&&Object.hasOwnProperty.call(rs,"audioMetadata")&&$root.SdkAudioMetadataFrame.encode(rs.audioMetadata,is.uint32(146).fork()).ldelim(),rs.audioStreamIdInfo!=null&&Object.hasOwnProperty.call(rs,"audioStreamIdInfo")&&$root.SdkAudioStreamIdInfoFrame.encode(rs.audioStreamIdInfo,is.uint32(154).fork()).ldelim(),rs.pingPong!=null&&Object.hasOwnProperty.call(rs,"pingPong")&&$root.SdkPingPongFrame.encode(rs.pingPong,is.uint32(162).fork()).ldelim(),rs.audioStatus!=null&&Object.hasOwnProperty.call(rs,"audioStatus")&&$root.SdkAudioStatusFrame.encode(rs.audioStatus,is.uint32(170).fork()).ldelim(),rs.clientMetric!=null&&Object.hasOwnProperty.call(rs,"clientMetric")&&$root.SdkClientMetricFrame.encode(rs.clientMetric,is.uint32(178).fork()).ldelim(),rs.dataMessage!=null&&Object.hasOwnProperty.call(rs,"dataMessage")&&$root.SdkDataMessageFrame.encode(rs.dataMessage,is.uint32(186).fork()).ldelim(),rs.remoteVideoUpdate!=null&&Object.hasOwnProperty.call(rs,"remoteVideoUpdate")&&$root.SdkRemoteVideoUpdateFrame.encode(rs.remoteVideoUpdate,is.uint32(202).fork()).ldelim(),rs.primaryMeetingJoin!=null&&Object.hasOwnProperty.call(rs,"primaryMeetingJoin")&&$root.SdkPrimaryMeetingJoinFrame.encode(rs.primaryMeetingJoin,is.uint32(210).fork()).ldelim(),rs.primaryMeetingJoinAck!=null&&Object.hasOwnProperty.call(rs,"primaryMeetingJoinAck")&&$root.SdkPrimaryMeetingJoinAckFrame.encode(rs.primaryMeetingJoinAck,is.uint32(218).fork()).ldelim(),rs.primaryMeetingLeave!=null&&Object.hasOwnProperty.call(rs,"primaryMeetingLeave")&&$root.SdkPrimaryMeetingLeaveFrame.encode(rs.primaryMeetingLeave,is.uint32(226).fork()).ldelim(),rs.notification!=null&&Object.hasOwnProperty.call(rs,"notification")&&$root.SdkNotificationFrame.encode(rs.notification,is.uint32(282).fork()).ldelim(),is},ts.encodeDelimited=function(rs,is){return this.encode(rs,is).ldelim()},ts.decode=function(rs,is){rs instanceof $Reader||(rs=$Reader.create(rs));for(var os=is===void 0?rs.len:rs.pos+is,ss=new $root.SdkSignalFrame;rs.pos<os;){var as=rs.uint32();switch(as>>>3){case 1:{ss.timestampMs=rs.uint64();break}case 2:{ss.type=rs.int32();break}case 3:{ss.error=$root.SdkErrorFrame.decode(rs,rs.uint32());break}case 4:{ss.join=$root.SdkJoinFrame.decode(rs,rs.uint32());break}case 5:{ss.joinack=$root.SdkJoinAckFrame.decode(rs,rs.uint32());break}case 6:{ss.sub=$root.SdkSubscribeFrame.decode(rs,rs.uint32());break}case 7:{ss.suback=$root.SdkSubscribeAckFrame.decode(rs,rs.uint32());break}case 8:{ss.index=$root.SdkIndexFrame.decode(rs,rs.uint32());break}case 10:{ss.pause=$root.SdkPauseResumeFrame.decode(rs,rs.uint32());break}case 11:{ss.leave=$root.SdkLeaveFrame.decode(rs,rs.uint32());break}case 12:{ss.leaveAck=$root.SdkLeaveAckFrame.decode(rs,rs.uint32());break}case 14:{ss.bitrates=$root.SdkBitrateFrame.decode(rs,rs.uint32());break}case 17:{ss.audioControl=$root.SdkAudioControlFrame.decode(rs,rs.uint32());break}case 18:{ss.audioMetadata=$root.SdkAudioMetadataFrame.decode(rs,rs.uint32());break}case 19:{ss.audioStreamIdInfo=$root.SdkAudioStreamIdInfoFrame.decode(rs,rs.uint32());break}case 20:{ss.pingPong=$root.SdkPingPongFrame.decode(rs,rs.uint32());break}case 21:{ss.audioStatus=$root.SdkAudioStatusFrame.decode(rs,rs.uint32());break}case 22:{ss.clientMetric=$root.SdkClientMetricFrame.decode(rs,rs.uint32());break}case 23:{ss.dataMessage=$root.SdkDataMessageFrame.decode(rs,rs.uint32());break}case 25:{ss.remoteVideoUpdate=$root.SdkRemoteVideoUpdateFrame.decode(rs,rs.uint32());break}case 26:{ss.primaryMeetingJoin=$root.SdkPrimaryMeetingJoinFrame.decode(rs,rs.uint32());break}case 27:{ss.primaryMeetingJoinAck=$root.SdkPrimaryMeetingJoinAckFrame.decode(rs,rs.uint32());break}case 28:{ss.primaryMeetingLeave=$root.SdkPrimaryMeetingLeaveFrame.decode(rs,rs.uint32());break}case 35:{ss.notification=$root.SdkNotificationFrame.decode(rs,rs.uint32());break}default:rs.skipType(as&7);break}}if(!ss.hasOwnProperty("timestampMs"))throw $util.ProtocolError("missing required 'timestampMs'",{instance:ss});if(!ss.hasOwnProperty("type"))throw $util.ProtocolError("missing required 'type'",{instance:ss});return ss},ts.decodeDelimited=function(rs){return rs instanceof $Reader||(rs=new $Reader(rs)),this.decode(rs,rs.uint32())},ts.verify=function(rs){if(typeof rs!="object"||rs===null)return"object expected";if(!$util.isInteger(rs.timestampMs)&&!(rs.timestampMs&&$util.isInteger(rs.timestampMs.low)&&$util.isInteger(rs.timestampMs.high)))return"timestampMs: integer|Long expected";switch(rs.type){default:return"type: enum value expected";case 1:case 2:case 3:case 4:case 5:case 7:case 8:case 9:case 10:case 13:case 16:case 17:case 18:case 19:case 20:case 21:case 22:case 24:case 25:case 26:case 27:case 34:break}if(rs.error!=null&&rs.hasOwnProperty("error")){var is=$root.SdkErrorFrame.verify(rs.error);if(is)return"error."+is}if(rs.join!=null&&rs.hasOwnProperty("join")){var is=$root.SdkJoinFrame.verify(rs.join);if(is)return"join."+is}if(rs.joinack!=null&&rs.hasOwnProperty("joinack")){var is=$root.SdkJoinAckFrame.verify(rs.joinack);if(is)return"joinack."+is}if(rs.sub!=null&&rs.hasOwnProperty("sub")){var is=$root.SdkSubscribeFrame.verify(rs.sub);if(is)return"sub."+is}if(rs.suback!=null&&rs.hasOwnProperty("suback")){var is=$root.SdkSubscribeAckFrame.verify(rs.suback);if(is)return"suback."+is}if(rs.index!=null&&rs.hasOwnProperty("index")){var is=$root.SdkIndexFrame.verify(rs.index);if(is)return"index."+is}if(rs.pause!=null&&rs.hasOwnProperty("pause")){var is=$root.SdkPauseResumeFrame.verify(rs.pause);if(is)return"pause."+is}if(rs.leave!=null&&rs.hasOwnProperty("leave")){var is=$root.SdkLeaveFrame.verify(rs.leave);if(is)return"leave."+is}if(rs.leaveAck!=null&&rs.hasOwnProperty("leaveAck")){var is=$root.SdkLeaveAckFrame.verify(rs.leaveAck);if(is)return"leaveAck."+is}if(rs.bitrates!=null&&rs.hasOwnProperty("bitrates")){var is=$root.SdkBitrateFrame.verify(rs.bitrates);if(is)return"bitrates."+is}if(rs.audioControl!=null&&rs.hasOwnProperty("audioControl")){var is=$root.SdkAudioControlFrame.verify(rs.audioControl);if(is)return"audioControl."+is}if(rs.audioMetadata!=null&&rs.hasOwnProperty("audioMetadata")){var is=$root.SdkAudioMetadataFrame.verify(rs.audioMetadata);if(is)return"audioMetadata."+is}if(rs.audioStreamIdInfo!=null&&rs.hasOwnProperty("audioStreamIdInfo")){var is=$root.SdkAudioStreamIdInfoFrame.verify(rs.audioStreamIdInfo);if(is)return"audioStreamIdInfo."+is}if(rs.pingPong!=null&&rs.hasOwnProperty("pingPong")){var is=$root.SdkPingPongFrame.verify(rs.pingPong);if(is)return"pingPong."+is}if(rs.audioStatus!=null&&rs.hasOwnProperty("audioStatus")){var is=$root.SdkAudioStatusFrame.verify(rs.audioStatus);if(is)return"audioStatus."+is}if(rs.clientMetric!=null&&rs.hasOwnProperty("clientMetric")){var is=$root.SdkClientMetricFrame.verify(rs.clientMetric);if(is)return"clientMetric."+is}if(rs.dataMessage!=null&&rs.hasOwnProperty("dataMessage")){var is=$root.SdkDataMessageFrame.verify(rs.dataMessage);if(is)return"dataMessage."+is}if(rs.remoteVideoUpdate!=null&&rs.hasOwnProperty("remoteVideoUpdate")){var is=$root.SdkRemoteVideoUpdateFrame.verify(rs.remoteVideoUpdate);if(is)return"remoteVideoUpdate."+is}if(rs.primaryMeetingJoin!=null&&rs.hasOwnProperty("primaryMeetingJoin")){var is=$root.SdkPrimaryMeetingJoinFrame.verify(rs.primaryMeetingJoin);if(is)return"primaryMeetingJoin."+is}if(rs.primaryMeetingJoinAck!=null&&rs.hasOwnProperty("primaryMeetingJoinAck")){var is=$root.SdkPrimaryMeetingJoinAckFrame.verify(rs.primaryMeetingJoinAck);if(is)return"primaryMeetingJoinAck."+is}if(rs.primaryMeetingLeave!=null&&rs.hasOwnProperty("primaryMeetingLeave")){var is=$root.SdkPrimaryMeetingLeaveFrame.verify(rs.primaryMeetingLeave);if(is)return"primaryMeetingLeave."+is}if(rs.notification!=null&&rs.hasOwnProperty("notification")){var is=$root.SdkNotificationFrame.verify(rs.notification);if(is)return"notification."+is}return null},ts.fromObject=function(rs){if(rs instanceof $root.SdkSignalFrame)return rs;var is=new $root.SdkSignalFrame;switch(rs.timestampMs!=null&&($util.Long?(is.timestampMs=$util.Long.fromValue(rs.timestampMs)).unsigned=!0:typeof rs.timestampMs=="string"?is.timestampMs=parseInt(rs.timestampMs,10):typeof rs.timestampMs=="number"?is.timestampMs=rs.timestampMs:typeof rs.timestampMs=="object"&&(is.timestampMs=new $util.LongBits(rs.timestampMs.low>>>0,rs.timestampMs.high>>>0).toNumber(!0))),rs.type){default:if(typeof rs.type=="number"){is.type=rs.type;break}break;case"JOIN":case 1:is.type=1;break;case"JOIN_ACK":case 2:is.type=2;break;case"SUBSCRIBE":case 3:is.type=3;break;case"SUBSCRIBE_ACK":case 4:is.type=4;break;case"INDEX":case 5:is.type=5;break;case"PAUSE":case 7:is.type=7;break;case"RESUME":case 8:is.type=8;break;case"LEAVE":case 9:is.type=9;break;case"LEAVE_ACK":case 10:is.type=10;break;case"BITRATES":case 13:is.type=13;break;case"AUDIO_CONTROL":case 16:is.type=16;break;case"AUDIO_METADATA":case 17:is.type=17;break;case"AUDIO_STREAM_ID_INFO":case 18:is.type=18;break;case"PING_PONG":case 19:is.type=19;break;case"AUDIO_STATUS":case 20:is.type=20;break;case"CLIENT_METRIC":case 21:is.type=21;break;case"DATA_MESSAGE":case 22:is.type=22;break;case"REMOTE_VIDEO_UPDATE":case 24:is.type=24;break;case"PRIMARY_MEETING_JOIN":case 25:is.type=25;break;case"PRIMARY_MEETING_JOIN_ACK":case 26:is.type=26;break;case"PRIMARY_MEETING_LEAVE":case 27:is.type=27;break;case"NOTIFICATION":case 34:is.type=34;break}if(rs.error!=null){if(typeof rs.error!="object")throw TypeError(".SdkSignalFrame.error: object expected");is.error=$root.SdkErrorFrame.fromObject(rs.error)}if(rs.join!=null){if(typeof rs.join!="object")throw TypeError(".SdkSignalFrame.join: object expected");is.join=$root.SdkJoinFrame.fromObject(rs.join)}if(rs.joinack!=null){if(typeof rs.joinack!="object")throw TypeError(".SdkSignalFrame.joinack: object expected");is.joinack=$root.SdkJoinAckFrame.fromObject(rs.joinack)}if(rs.sub!=null){if(typeof rs.sub!="object")throw TypeError(".SdkSignalFrame.sub: object expected");is.sub=$root.SdkSubscribeFrame.fromObject(rs.sub)}if(rs.suback!=null){if(typeof rs.suback!="object")throw TypeError(".SdkSignalFrame.suback: object expected");is.suback=$root.SdkSubscribeAckFrame.fromObject(rs.suback)}if(rs.index!=null){if(typeof rs.index!="object")throw TypeError(".SdkSignalFrame.index: object expected");is.index=$root.SdkIndexFrame.fromObject(rs.index)}if(rs.pause!=null){if(typeof rs.pause!="object")throw TypeError(".SdkSignalFrame.pause: object expected");is.pause=$root.SdkPauseResumeFrame.fromObject(rs.pause)}if(rs.leave!=null){if(typeof rs.leave!="object")throw TypeError(".SdkSignalFrame.leave: object expected");is.leave=$root.SdkLeaveFrame.fromObject(rs.leave)}if(rs.leaveAck!=null){if(typeof rs.leaveAck!="object")throw TypeError(".SdkSignalFrame.leaveAck: object expected");is.leaveAck=$root.SdkLeaveAckFrame.fromObject(rs.leaveAck)}if(rs.bitrates!=null){if(typeof rs.bitrates!="object")throw TypeError(".SdkSignalFrame.bitrates: object expected");is.bitrates=$root.SdkBitrateFrame.fromObject(rs.bitrates)}if(rs.audioControl!=null){if(typeof rs.audioControl!="object")throw TypeError(".SdkSignalFrame.audioControl: object expected");is.audioControl=$root.SdkAudioControlFrame.fromObject(rs.audioControl)}if(rs.audioMetadata!=null){if(typeof rs.audioMetadata!="object")throw TypeError(".SdkSignalFrame.audioMetadata: object expected");is.audioMetadata=$root.SdkAudioMetadataFrame.fromObject(rs.audioMetadata)}if(rs.audioStreamIdInfo!=null){if(typeof rs.audioStreamIdInfo!="object")throw TypeError(".SdkSignalFrame.audioStreamIdInfo: object expected");is.audioStreamIdInfo=$root.SdkAudioStreamIdInfoFrame.fromObject(rs.audioStreamIdInfo)}if(rs.pingPong!=null){if(typeof rs.pingPong!="object")throw TypeError(".SdkSignalFrame.pingPong: object expected");is.pingPong=$root.SdkPingPongFrame.fromObject(rs.pingPong)}if(rs.audioStatus!=null){if(typeof rs.audioStatus!="object")throw TypeError(".SdkSignalFrame.audioStatus: object expected");is.audioStatus=$root.SdkAudioStatusFrame.fromObject(rs.audioStatus)}if(rs.clientMetric!=null){if(typeof rs.clientMetric!="object")throw TypeError(".SdkSignalFrame.clientMetric: object expected");is.clientMetric=$root.SdkClientMetricFrame.fromObject(rs.clientMetric)}if(rs.dataMessage!=null){if(typeof rs.dataMessage!="object")throw TypeError(".SdkSignalFrame.dataMessage: object expected");is.dataMessage=$root.SdkDataMessageFrame.fromObject(rs.dataMessage)}if(rs.remoteVideoUpdate!=null){if(typeof rs.remoteVideoUpdate!="object")throw TypeError(".SdkSignalFrame.remoteVideoUpdate: object expected");is.remoteVideoUpdate=$root.SdkRemoteVideoUpdateFrame.fromObject(rs.remoteVideoUpdate)}if(rs.primaryMeetingJoin!=null){if(typeof rs.primaryMeetingJoin!="object")throw TypeError(".SdkSignalFrame.primaryMeetingJoin: object expected");is.primaryMeetingJoin=$root.SdkPrimaryMeetingJoinFrame.fromObject(rs.primaryMeetingJoin)}if(rs.primaryMeetingJoinAck!=null){if(typeof rs.primaryMeetingJoinAck!="object")throw TypeError(".SdkSignalFrame.primaryMeetingJoinAck: object expected");is.primaryMeetingJoinAck=$root.SdkPrimaryMeetingJoinAckFrame.fromObject(rs.primaryMeetingJoinAck)}if(rs.primaryMeetingLeave!=null){if(typeof rs.primaryMeetingLeave!="object")throw TypeError(".SdkSignalFrame.primaryMeetingLeave: object expected");is.primaryMeetingLeave=$root.SdkPrimaryMeetingLeaveFrame.fromObject(rs.primaryMeetingLeave)}if(rs.notification!=null){if(typeof rs.notification!="object")throw TypeError(".SdkSignalFrame.notification: object expected");is.notification=$root.SdkNotificationFrame.fromObject(rs.notification)}return is},ts.toObject=function(rs,is){is||(is={});var os={};if(is.defaults){if($util.Long){var ss=new $util.Long(0,0,!0);os.timestampMs=is.longs===String?ss.toString():is.longs===Number?ss.toNumber():ss}else os.timestampMs=is.longs===String?"0":0;os.type=is.enums===String?"JOIN":1,os.error=null,os.join=null,os.joinack=null,os.sub=null,os.suback=null,os.index=null,os.pause=null,os.leave=null,os.leaveAck=null,os.bitrates=null,os.audioControl=null,os.audioMetadata=null,os.audioStreamIdInfo=null,os.pingPong=null,os.audioStatus=null,os.clientMetric=null,os.dataMessage=null,os.remoteVideoUpdate=null,os.primaryMeetingJoin=null,os.primaryMeetingJoinAck=null,os.primaryMeetingLeave=null,os.notification=null}return rs.timestampMs!=null&&rs.hasOwnProperty("timestampMs")&&(typeof rs.timestampMs=="number"?os.timestampMs=is.longs===String?String(rs.timestampMs):rs.timestampMs:os.timestampMs=is.longs===String?$util.Long.prototype.toString.call(rs.timestampMs):is.longs===Number?new $util.LongBits(rs.timestampMs.low>>>0,rs.timestampMs.high>>>0).toNumber(!0):rs.timestampMs),rs.type!=null&&rs.hasOwnProperty("type")&&(os.type=is.enums===String?$root.SdkSignalFrame.Type[rs.type]===void 0?rs.type:$root.SdkSignalFrame.Type[rs.type]:rs.type),rs.error!=null&&rs.hasOwnProperty("error")&&(os.error=$root.SdkErrorFrame.toObject(rs.error,is)),rs.join!=null&&rs.hasOwnProperty("join")&&(os.join=$root.SdkJoinFrame.toObject(rs.join,is)),rs.joinack!=null&&rs.hasOwnProperty("joinack")&&(os.joinack=$root.SdkJoinAckFrame.toObject(rs.joinack,is)),rs.sub!=null&&rs.hasOwnProperty("sub")&&(os.sub=$root.SdkSubscribeFrame.toObject(rs.sub,is)),rs.suback!=null&&rs.hasOwnProperty("suback")&&(os.suback=$root.SdkSubscribeAckFrame.toObject(rs.suback,is)),rs.index!=null&&rs.hasOwnProperty("index")&&(os.index=$root.SdkIndexFrame.toObject(rs.index,is)),rs.pause!=null&&rs.hasOwnProperty("pause")&&(os.pause=$root.SdkPauseResumeFrame.toObject(rs.pause,is)),rs.leave!=null&&rs.hasOwnProperty("leave")&&(os.leave=$root.SdkLeaveFrame.toObject(rs.leave,is)),rs.leaveAck!=null&&rs.hasOwnProperty("leaveAck")&&(os.leaveAck=$root.SdkLeaveAckFrame.toObject(rs.leaveAck,is)),rs.bitrates!=null&&rs.hasOwnProperty("bitrates")&&(os.bitrates=$root.SdkBitrateFrame.toObject(rs.bitrates,is)),rs.audioControl!=null&&rs.hasOwnProperty("audioControl")&&(os.audioControl=$root.SdkAudioControlFrame.toObject(rs.audioControl,is)),rs.audioMetadata!=null&&rs.hasOwnProperty("audioMetadata")&&(os.audioMetadata=$root.SdkAudioMetadataFrame.toObject(rs.audioMetadata,is)),rs.audioStreamIdInfo!=null&&rs.hasOwnProperty("audioStreamIdInfo")&&(os.audioStreamIdInfo=$root.SdkAudioStreamIdInfoFrame.toObject(rs.audioStreamIdInfo,is)),rs.pingPong!=null&&rs.hasOwnProperty("pingPong")&&(os.pingPong=$root.SdkPingPongFrame.toObject(rs.pingPong,is)),rs.audioStatus!=null&&rs.hasOwnProperty("audioStatus")&&(os.audioStatus=$root.SdkAudioStatusFrame.toObject(rs.audioStatus,is)),rs.clientMetric!=null&&rs.hasOwnProperty("clientMetric")&&(os.clientMetric=$root.SdkClientMetricFrame.toObject(rs.clientMetric,is)),rs.dataMessage!=null&&rs.hasOwnProperty("dataMessage")&&(os.dataMessage=$root.SdkDataMessageFrame.toObject(rs.dataMessage,is)),rs.remoteVideoUpdate!=null&&rs.hasOwnProperty("remoteVideoUpdate")&&(os.remoteVideoUpdate=$root.SdkRemoteVideoUpdateFrame.toObject(rs.remoteVideoUpdate,is)),rs.primaryMeetingJoin!=null&&rs.hasOwnProperty("primaryMeetingJoin")&&(os.primaryMeetingJoin=$root.SdkPrimaryMeetingJoinFrame.toObject(rs.primaryMeetingJoin,is)),rs.primaryMeetingJoinAck!=null&&rs.hasOwnProperty("primaryMeetingJoinAck")&&(os.primaryMeetingJoinAck=$root.SdkPrimaryMeetingJoinAckFrame.toObject(rs.primaryMeetingJoinAck,is)),rs.primaryMeetingLeave!=null&&rs.hasOwnProperty("primaryMeetingLeave")&&(os.primaryMeetingLeave=$root.SdkPrimaryMeetingLeaveFrame.toObject(rs.primaryMeetingLeave,is)),rs.notification!=null&&rs.hasOwnProperty("notification")&&(os.notification=$root.SdkNotificationFrame.toObject(rs.notification,is)),os},ts.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},ts.getTypeUrl=function(rs){return rs===void 0&&(rs="type.googleapis.com"),rs+"/SdkSignalFrame"},ts.Type=function(){var ns={},rs=Object.create(ns);return rs[ns[1]="JOIN"]=1,rs[ns[2]="JOIN_ACK"]=2,rs[ns[3]="SUBSCRIBE"]=3,rs[ns[4]="SUBSCRIBE_ACK"]=4,rs[ns[5]="INDEX"]=5,rs[ns[7]="PAUSE"]=7,rs[ns[8]="RESUME"]=8,rs[ns[9]="LEAVE"]=9,rs[ns[10]="LEAVE_ACK"]=10,rs[ns[13]="BITRATES"]=13,rs[ns[16]="AUDIO_CONTROL"]=16,rs[ns[17]="AUDIO_METADATA"]=17,rs[ns[18]="AUDIO_STREAM_ID_INFO"]=18,rs[ns[19]="PING_PONG"]=19,rs[ns[20]="AUDIO_STATUS"]=20,rs[ns[21]="CLIENT_METRIC"]=21,rs[ns[22]="DATA_MESSAGE"]=22,rs[ns[24]="REMOTE_VIDEO_UPDATE"]=24,rs[ns[25]="PRIMARY_MEETING_JOIN"]=25,rs[ns[26]="PRIMARY_MEETING_JOIN_ACK"]=26,rs[ns[27]="PRIMARY_MEETING_LEAVE"]=27,rs[ns[34]="NOTIFICATION"]=34,rs}(),ts}();$root.SdkErrorFrame=function(){function ts(ns){if(ns)for(var rs=Object.keys(ns),is=0;is<rs.length;++is)ns[rs[is]]!=null&&(this[rs[is]]=ns[rs[is]])}return ts.prototype.status=0,ts.prototype.description="",ts.create=function(rs){return new ts(rs)},ts.encode=function(rs,is){return is||(is=$Writer.create()),rs.status!=null&&Object.hasOwnProperty.call(rs,"status")&&is.uint32(8).uint32(rs.status),rs.description!=null&&Object.hasOwnProperty.call(rs,"description")&&is.uint32(18).string(rs.description),is},ts.encodeDelimited=function(rs,is){return this.encode(rs,is).ldelim()},ts.decode=function(rs,is){rs instanceof $Reader||(rs=$Reader.create(rs));for(var os=is===void 0?rs.len:rs.pos+is,ss=new $root.SdkErrorFrame;rs.pos<os;){var as=rs.uint32();switch(as>>>3){case 1:{ss.status=rs.uint32();break}case 2:{ss.description=rs.string();break}default:rs.skipType(as&7);break}}return ss},ts.decodeDelimited=function(rs){return rs instanceof $Reader||(rs=new $Reader(rs)),this.decode(rs,rs.uint32())},ts.verify=function(rs){return typeof rs!="object"||rs===null?"object expected":rs.status!=null&&rs.hasOwnProperty("status")&&!$util.isInteger(rs.status)?"status: integer expected":rs.description!=null&&rs.hasOwnProperty("description")&&!$util.isString(rs.description)?"description: string expected":null},ts.fromObject=function(rs){if(rs instanceof $root.SdkErrorFrame)return rs;var is=new $root.SdkErrorFrame;return rs.status!=null&&(is.status=rs.status>>>0),rs.description!=null&&(is.description=String(rs.description)),is},ts.toObject=function(rs,is){is||(is={});var os={};return is.defaults&&(os.status=0,os.description=""),rs.status!=null&&rs.hasOwnProperty("status")&&(os.status=rs.status),rs.description!=null&&rs.hasOwnProperty("description")&&(os.description=rs.description),os},ts.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},ts.getTypeUrl=function(rs){return rs===void 0&&(rs="type.googleapis.com"),rs+"/SdkErrorFrame"},ts}();$root.SdkJoinFlags=function(){var ts={},ns=Object.create(ts);return ns[ts[2]="HAS_STREAM_UPDATE"]=2,ns[ts[16]="COMPLETE_VIDEO_SOURCES_LIST"]=16,ns[ts[32]="EXCLUDE_SELF_CONTENT_IN_INDEX"]=32,ns}();$root.SdkClientDetails=function(){function ts(ns){if(ns)for(var rs=Object.keys(ns),is=0;is<rs.length;++is)ns[rs[is]]!=null&&(this[rs[is]]=ns[rs[is]])}return ts.prototype.appName="",ts.prototype.appVersion="",ts.prototype.deviceModel="",ts.prototype.deviceMake="",ts.prototype.platformName="",ts.prototype.platformVersion="",ts.prototype.clientSource="",ts.prototype.chimeSdkVersion="",ts.prototype.clientUtcOffset="",ts.create=function(rs){return new ts(rs)},ts.encode=function(rs,is){return is||(is=$Writer.create()),rs.appName!=null&&Object.hasOwnProperty.call(rs,"appName")&&is.uint32(10).string(rs.appName),rs.appVersion!=null&&Object.hasOwnProperty.call(rs,"appVersion")&&is.uint32(18).string(rs.appVersion),rs.deviceModel!=null&&Object.hasOwnProperty.call(rs,"deviceModel")&&is.uint32(26).string(rs.deviceModel),rs.deviceMake!=null&&Object.hasOwnProperty.call(rs,"deviceMake")&&is.uint32(34).string(rs.deviceMake),rs.platformName!=null&&Object.hasOwnProperty.call(rs,"platformName")&&is.uint32(42).string(rs.platformName),rs.platformVersion!=null&&Object.hasOwnProperty.call(rs,"platformVersion")&&is.uint32(50).string(rs.platformVersion),rs.clientSource!=null&&Object.hasOwnProperty.call(rs,"clientSource")&&is.uint32(58).string(rs.clientSource),rs.chimeSdkVersion!=null&&Object.hasOwnProperty.call(rs,"chimeSdkVersion")&&is.uint32(66).string(rs.chimeSdkVersion),rs.clientUtcOffset!=null&&Object.hasOwnProperty.call(rs,"clientUtcOffset")&&is.uint32(74).string(rs.clientUtcOffset),is},ts.encodeDelimited=function(rs,is){return this.encode(rs,is).ldelim()},ts.decode=function(rs,is){rs instanceof $Reader||(rs=$Reader.create(rs));for(var os=is===void 0?rs.len:rs.pos+is,ss=new $root.SdkClientDetails;rs.pos<os;){var as=rs.uint32();switch(as>>>3){case 1:{ss.appName=rs.string();break}case 2:{ss.appVersion=rs.string();break}case 3:{ss.deviceModel=rs.string();break}case 4:{ss.deviceMake=rs.string();break}case 5:{ss.platformName=rs.string();break}case 6:{ss.platformVersion=rs.string();break}case 7:{ss.clientSource=rs.string();break}case 8:{ss.chimeSdkVersion=rs.string();break}case 9:{ss.clientUtcOffset=rs.string();break}default:rs.skipType(as&7);break}}return ss},ts.decodeDelimited=function(rs){return rs instanceof $Reader||(rs=new $Reader(rs)),this.decode(rs,rs.uint32())},ts.verify=function(rs){return typeof rs!="object"||rs===null?"object expected":rs.appName!=null&&rs.hasOwnProperty("appName")&&!$util.isString(rs.appName)?"appName: string expected":rs.appVersion!=null&&rs.hasOwnProperty("appVersion")&&!$util.isString(rs.appVersion)?"appVersion: string expected":rs.deviceModel!=null&&rs.hasOwnProperty("deviceModel")&&!$util.isString(rs.deviceModel)?"deviceModel: string expected":rs.deviceMake!=null&&rs.hasOwnProperty("deviceMake")&&!$util.isString(rs.deviceMake)?"deviceMake: string expected":rs.platformName!=null&&rs.hasOwnProperty("platformName")&&!$util.isString(rs.platformName)?"platformName: string expected":rs.platformVersion!=null&&rs.hasOwnProperty("platformVersion")&&!$util.isString(rs.platformVersion)?"platformVersion: string expected":rs.clientSource!=null&&rs.hasOwnProperty("clientSource")&&!$util.isString(rs.clientSource)?"clientSource: string expected":rs.chimeSdkVersion!=null&&rs.hasOwnProperty("chimeSdkVersion")&&!$util.isString(rs.chimeSdkVersion)?"chimeSdkVersion: string expected":rs.clientUtcOffset!=null&&rs.hasOwnProperty("clientUtcOffset")&&!$util.isString(rs.clientUtcOffset)?"clientUtcOffset: string expected":null},ts.fromObject=function(rs){if(rs instanceof $root.SdkClientDetails)return rs;var is=new $root.SdkClientDetails;return rs.appName!=null&&(is.appName=String(rs.appName)),rs.appVersion!=null&&(is.appVersion=String(rs.appVersion)),rs.deviceModel!=null&&(is.deviceModel=String(rs.deviceModel)),rs.deviceMake!=null&&(is.deviceMake=String(rs.deviceMake)),rs.platformName!=null&&(is.platformName=String(rs.platformName)),rs.platformVersion!=null&&(is.platformVersion=String(rs.platformVersion)),rs.clientSource!=null&&(is.clientSource=String(rs.clientSource)),rs.chimeSdkVersion!=null&&(is.chimeSdkVersion=String(rs.chimeSdkVersion)),rs.clientUtcOffset!=null&&(is.clientUtcOffset=String(rs.clientUtcOffset)),is},ts.toObject=function(rs,is){is||(is={});var os={};return is.defaults&&(os.appName="",os.appVersion="",os.deviceModel="",os.deviceMake="",os.platformName="",os.platformVersion="",os.clientSource="",os.chimeSdkVersion="",os.clientUtcOffset=""),rs.appName!=null&&rs.hasOwnProperty("appName")&&(os.appName=rs.appName),rs.appVersion!=null&&rs.hasOwnProperty("appVersion")&&(os.appVersion=rs.appVersion),rs.deviceModel!=null&&rs.hasOwnProperty("deviceModel")&&(os.deviceModel=rs.deviceModel),rs.deviceMake!=null&&rs.hasOwnProperty("deviceMake")&&(os.deviceMake=rs.deviceMake),rs.platformName!=null&&rs.hasOwnProperty("platformName")&&(os.platformName=rs.platformName),rs.platformVersion!=null&&rs.hasOwnProperty("platformVersion")&&(os.platformVersion=rs.platformVersion),rs.clientSource!=null&&rs.hasOwnProperty("clientSource")&&(os.clientSource=rs.clientSource),rs.chimeSdkVersion!=null&&rs.hasOwnProperty("chimeSdkVersion")&&(os.chimeSdkVersion=rs.chimeSdkVersion),rs.clientUtcOffset!=null&&rs.hasOwnProperty("clientUtcOffset")&&(os.clientUtcOffset=rs.clientUtcOffset),os},ts.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},ts.getTypeUrl=function(rs){return rs===void 0&&(rs="type.googleapis.com"),rs+"/SdkClientDetails"},ts}();$root.SdkServerSideNetworkAdaption=function(){var ts={},ns=Object.create(ts);return ns[ts[1]="DEFAULT"]=1,ns[ts[2]="NONE"]=2,ns[ts[3]="BANDWIDTH_PROBING"]=3,ns[ts[4]="BANDWIDTH_PROBING_AND_VIDEO_QUALITY_ADAPTION"]=4,ns}();$root.SdkJoinFrame=function(){function ts(ns){if(this.supportedServerSideNetworkAdaptions=[],ns)for(var rs=Object.keys(ns),is=0;is<rs.length;++is)ns[rs[is]]!=null&&(this[rs[is]]=ns[rs[is]])}return ts.prototype.protocolVersion=2,ts.prototype.maxNumOfVideos=0,ts.prototype.flags=0,ts.prototype.clientDetails=null,ts.prototype.audioSessionId=$util.Long?$util.Long.fromBits(0,0,!0):0,ts.prototype.wantsCompressedSdp=!1,ts.prototype.serverSideNetworkAdaption=1,ts.prototype.supportedServerSideNetworkAdaptions=$util.emptyArray,ts.prototype.wantsAllTemporalLayersInIndex=!1,ts.prototype.disablePeriodicKeyframeRequestOnContentSender=!1,ts.create=function(rs){return new ts(rs)},ts.encode=function(rs,is){if(is||(is=$Writer.create()),rs.protocolVersion!=null&&Object.hasOwnProperty.call(rs,"protocolVersion")&&is.uint32(8).uint32(rs.protocolVersion),rs.maxNumOfVideos!=null&&Object.hasOwnProperty.call(rs,"maxNumOfVideos")&&is.uint32(16).uint32(rs.maxNumOfVideos),rs.flags!=null&&Object.hasOwnProperty.call(rs,"flags")&&is.uint32(24).uint32(rs.flags),rs.clientDetails!=null&&Object.hasOwnProperty.call(rs,"clientDetails")&&$root.SdkClientDetails.encode(rs.clientDetails,is.uint32(34).fork()).ldelim(),rs.audioSessionId!=null&&Object.hasOwnProperty.call(rs,"audioSessionId")&&is.uint32(48).uint64(rs.audioSessionId),rs.wantsCompressedSdp!=null&&Object.hasOwnProperty.call(rs,"wantsCompressedSdp")&&is.uint32(56).bool(rs.wantsCompressedSdp),rs.serverSideNetworkAdaption!=null&&Object.hasOwnProperty.call(rs,"serverSideNetworkAdaption")&&is.uint32(80).int32(rs.serverSideNetworkAdaption),rs.supportedServerSideNetworkAdaptions!=null&&rs.supportedServerSideNetworkAdaptions.length)for(var os=0;os<rs.supportedServerSideNetworkAdaptions.length;++os)is.uint32(88).int32(rs.supportedServerSideNetworkAdaptions[os]);return rs.wantsAllTemporalLayersInIndex!=null&&Object.hasOwnProperty.call(rs,"wantsAllTemporalLayersInIndex")&&is.uint32(96).bool(rs.wantsAllTemporalLayersInIndex),rs.disablePeriodicKeyframeRequestOnContentSender!=null&&Object.hasOwnProperty.call(rs,"disablePeriodicKeyframeRequestOnContentSender")&&is.uint32(104).bool(rs.disablePeriodicKeyframeRequestOnContentSender),is},ts.encodeDelimited=function(rs,is){return this.encode(rs,is).ldelim()},ts.decode=function(rs,is){rs instanceof $Reader||(rs=$Reader.create(rs));for(var os=is===void 0?rs.len:rs.pos+is,ss=new $root.SdkJoinFrame;rs.pos<os;){var as=rs.uint32();switch(as>>>3){case 1:{ss.protocolVersion=rs.uint32();break}case 2:{ss.maxNumOfVideos=rs.uint32();break}case 3:{ss.flags=rs.uint32();break}case 4:{ss.clientDetails=$root.SdkClientDetails.decode(rs,rs.uint32());break}case 6:{ss.audioSessionId=rs.uint64();break}case 7:{ss.wantsCompressedSdp=rs.bool();break}case 10:{ss.serverSideNetworkAdaption=rs.int32();break}case 11:{if(ss.supportedServerSideNetworkAdaptions&&ss.supportedServerSideNetworkAdaptions.length||(ss.supportedServerSideNetworkAdaptions=[]),(as&7)===2)for(var ls=rs.uint32()+rs.pos;rs.pos<ls;)ss.supportedServerSideNetworkAdaptions.push(rs.int32());else ss.supportedServerSideNetworkAdaptions.push(rs.int32());break}case 12:{ss.wantsAllTemporalLayersInIndex=rs.bool();break}case 13:{ss.disablePeriodicKeyframeRequestOnContentSender=rs.bool();break}default:rs.skipType(as&7);break}}return ss},ts.decodeDelimited=function(rs){return rs instanceof $Reader||(rs=new $Reader(rs)),this.decode(rs,rs.uint32())},ts.verify=function(rs){if(typeof rs!="object"||rs===null)return"object expected";if(rs.protocolVersion!=null&&rs.hasOwnProperty("protocolVersion")&&!$util.isInteger(rs.protocolVersion))return"protocolVersion: integer expected";if(rs.maxNumOfVideos!=null&&rs.hasOwnProperty("maxNumOfVideos")&&!$util.isInteger(rs.maxNumOfVideos))return"maxNumOfVideos: integer expected";if(rs.flags!=null&&rs.hasOwnProperty("flags")&&!$util.isInteger(rs.flags))return"flags: integer expected";if(rs.clientDetails!=null&&rs.hasOwnProperty("clientDetails")){var is=$root.SdkClientDetails.verify(rs.clientDetails);if(is)return"clientDetails."+is}if(rs.audioSessionId!=null&&rs.hasOwnProperty("audioSessionId")&&!$util.isInteger(rs.audioSessionId)&&!(rs.audioSessionId&&$util.isInteger(rs.audioSessionId.low)&&$util.isInteger(rs.audioSessionId.high)))return"audioSessionId: integer|Long expected";if(rs.wantsCompressedSdp!=null&&rs.hasOwnProperty("wantsCompressedSdp")&&typeof rs.wantsCompressedSdp!="boolean")return"wantsCompressedSdp: boolean expected";if(rs.serverSideNetworkAdaption!=null&&rs.hasOwnProperty("serverSideNetworkAdaption"))switch(rs.serverSideNetworkAdaption){default:return"serverSideNetworkAdaption: enum value expected";case 1:case 2:case 3:case 4:break}if(rs.supportedServerSideNetworkAdaptions!=null&&rs.hasOwnProperty("supportedServerSideNetworkAdaptions")){if(!Array.isArray(rs.supportedServerSideNetworkAdaptions))return"supportedServerSideNetworkAdaptions: array expected";for(var os=0;os<rs.supportedServerSideNetworkAdaptions.length;++os)switch(rs.supportedServerSideNetworkAdaptions[os]){default:return"supportedServerSideNetworkAdaptions: enum value[] expected";case 1:case 2:case 3:case 4:break}}return rs.wantsAllTemporalLayersInIndex!=null&&rs.hasOwnProperty("wantsAllTemporalLayersInIndex")&&typeof rs.wantsAllTemporalLayersInIndex!="boolean"?"wantsAllTemporalLayersInIndex: boolean expected":rs.disablePeriodicKeyframeRequestOnContentSender!=null&&rs.hasOwnProperty("disablePeriodicKeyframeRequestOnContentSender")&&typeof rs.disablePeriodicKeyframeRequestOnContentSender!="boolean"?"disablePeriodicKeyframeRequestOnContentSender: boolean expected":null},ts.fromObject=function(rs){if(rs instanceof $root.SdkJoinFrame)return rs;var is=new $root.SdkJoinFrame;if(rs.protocolVersion!=null&&(is.protocolVersion=rs.protocolVersion>>>0),rs.maxNumOfVideos!=null&&(is.maxNumOfVideos=rs.maxNumOfVideos>>>0),rs.flags!=null&&(is.flags=rs.flags>>>0),rs.clientDetails!=null){if(typeof rs.clientDetails!="object")throw TypeError(".SdkJoinFrame.clientDetails: object expected");is.clientDetails=$root.SdkClientDetails.fromObject(rs.clientDetails)}switch(rs.audioSessionId!=null&&($util.Long?(is.audioSessionId=$util.Long.fromValue(rs.audioSessionId)).unsigned=!0:typeof rs.audioSessionId=="string"?is.audioSessionId=parseInt(rs.audioSessionId,10):typeof rs.audioSessionId=="number"?is.audioSessionId=rs.audioSessionId:typeof rs.audioSessionId=="object"&&(is.audioSessionId=new $util.LongBits(rs.audioSessionId.low>>>0,rs.audioSessionId.high>>>0).toNumber(!0))),rs.wantsCompressedSdp!=null&&(is.wantsCompressedSdp=!!rs.wantsCompressedSdp),rs.serverSideNetworkAdaption){default:if(typeof rs.serverSideNetworkAdaption=="number"){is.serverSideNetworkAdaption=rs.serverSideNetworkAdaption;break}break;case"DEFAULT":case 1:is.serverSideNetworkAdaption=1;break;case"NONE":case 2:is.serverSideNetworkAdaption=2;break;case"BANDWIDTH_PROBING":case 3:is.serverSideNetworkAdaption=3;break;case"BANDWIDTH_PROBING_AND_VIDEO_QUALITY_ADAPTION":case 4:is.serverSideNetworkAdaption=4;break}if(rs.supportedServerSideNetworkAdaptions){if(!Array.isArray(rs.supportedServerSideNetworkAdaptions))throw TypeError(".SdkJoinFrame.supportedServerSideNetworkAdaptions: array expected");is.supportedServerSideNetworkAdaptions=[];for(var os=0;os<rs.supportedServerSideNetworkAdaptions.length;++os)switch(rs.supportedServerSideNetworkAdaptions[os]){default:if(typeof rs.supportedServerSideNetworkAdaptions[os]=="number"){is.supportedServerSideNetworkAdaptions[os]=rs.supportedServerSideNetworkAdaptions[os];break}case"DEFAULT":case 1:is.supportedServerSideNetworkAdaptions[os]=1;break;case"NONE":case 2:is.supportedServerSideNetworkAdaptions[os]=2;break;case"BANDWIDTH_PROBING":case 3:is.supportedServerSideNetworkAdaptions[os]=3;break;case"BANDWIDTH_PROBING_AND_VIDEO_QUALITY_ADAPTION":case 4:is.supportedServerSideNetworkAdaptions[os]=4;break}}return rs.wantsAllTemporalLayersInIndex!=null&&(is.wantsAllTemporalLayersInIndex=!!rs.wantsAllTemporalLayersInIndex),rs.disablePeriodicKeyframeRequestOnContentSender!=null&&(is.disablePeriodicKeyframeRequestOnContentSender=!!rs.disablePeriodicKeyframeRequestOnContentSender),is},ts.toObject=function(rs,is){is||(is={});var os={};if((is.arrays||is.defaults)&&(os.supportedServerSideNetworkAdaptions=[]),is.defaults){if(os.protocolVersion=2,os.maxNumOfVideos=0,os.flags=0,os.clientDetails=null,$util.Long){var ss=new $util.Long(0,0,!0);os.audioSessionId=is.longs===String?ss.toString():is.longs===Number?ss.toNumber():ss}else os.audioSessionId=is.longs===String?"0":0;os.wantsCompressedSdp=!1,os.serverSideNetworkAdaption=is.enums===String?"DEFAULT":1,os.wantsAllTemporalLayersInIndex=!1,os.disablePeriodicKeyframeRequestOnContentSender=!1}if(rs.protocolVersion!=null&&rs.hasOwnProperty("protocolVersion")&&(os.protocolVersion=rs.protocolVersion),rs.maxNumOfVideos!=null&&rs.hasOwnProperty("maxNumOfVideos")&&(os.maxNumOfVideos=rs.maxNumOfVideos),rs.flags!=null&&rs.hasOwnProperty("flags")&&(os.flags=rs.flags),rs.clientDetails!=null&&rs.hasOwnProperty("clientDetails")&&(os.clientDetails=$root.SdkClientDetails.toObject(rs.clientDetails,is)),rs.audioSessionId!=null&&rs.hasOwnProperty("audioSessionId")&&(typeof rs.audioSessionId=="number"?os.audioSessionId=is.longs===String?String(rs.audioSessionId):rs.audioSessionId:os.audioSessionId=is.longs===String?$util.Long.prototype.toString.call(rs.audioSessionId):is.longs===Number?new $util.LongBits(rs.audioSessionId.low>>>0,rs.audioSessionId.high>>>0).toNumber(!0):rs.audioSessionId),rs.wantsCompressedSdp!=null&&rs.hasOwnProperty("wantsCompressedSdp")&&(os.wantsCompressedSdp=rs.wantsCompressedSdp),rs.serverSideNetworkAdaption!=null&&rs.hasOwnProperty("serverSideNetworkAdaption")&&(os.serverSideNetworkAdaption=is.enums===String?$root.SdkServerSideNetworkAdaption[rs.serverSideNetworkAdaption]===void 0?rs.serverSideNetworkAdaption:$root.SdkServerSideNetworkAdaption[rs.serverSideNetworkAdaption]:rs.serverSideNetworkAdaption),rs.supportedServerSideNetworkAdaptions&&rs.supportedServerSideNetworkAdaptions.length){os.supportedServerSideNetworkAdaptions=[];for(var as=0;as<rs.supportedServerSideNetworkAdaptions.length;++as)os.supportedServerSideNetworkAdaptions[as]=is.enums===String?$root.SdkServerSideNetworkAdaption[rs.supportedServerSideNetworkAdaptions[as]]===void 0?rs.supportedServerSideNetworkAdaptions[as]:$root.SdkServerSideNetworkAdaption[rs.supportedServerSideNetworkAdaptions[as]]:rs.supportedServerSideNetworkAdaptions[as]}return rs.wantsAllTemporalLayersInIndex!=null&&rs.hasOwnProperty("wantsAllTemporalLayersInIndex")&&(os.wantsAllTemporalLayersInIndex=rs.wantsAllTemporalLayersInIndex),rs.disablePeriodicKeyframeRequestOnContentSender!=null&&rs.hasOwnProperty("disablePeriodicKeyframeRequestOnContentSender")&&(os.disablePeriodicKeyframeRequestOnContentSender=rs.disablePeriodicKeyframeRequestOnContentSender),os},ts.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},ts.getTypeUrl=function(rs){return rs===void 0&&(rs="type.googleapis.com"),rs+"/SdkJoinFrame"},ts}();$root.SdkJoinAckFrame=function(){function ts(ns){if(ns)for(var rs=Object.keys(ns),is=0;is<rs.length;++is)ns[rs[is]]!=null&&(this[rs[is]]=ns[rs[is]])}return ts.prototype.turnCredentials=null,ts.prototype.videoSubscriptionLimit=0,ts.prototype.wantsCompressedSdp=!1,ts.prototype.defaultServerSideNetworkAdaption=1,ts.create=function(rs){return new ts(rs)},ts.encode=function(rs,is){return is||(is=$Writer.create()),rs.turnCredentials!=null&&Object.hasOwnProperty.call(rs,"turnCredentials")&&$root.SdkTurnCredentials.encode(rs.turnCredentials,is.uint32(10).fork()).ldelim(),rs.videoSubscriptionLimit!=null&&Object.hasOwnProperty.call(rs,"videoSubscriptionLimit")&&is.uint32(16).uint32(rs.videoSubscriptionLimit),rs.wantsCompressedSdp!=null&&Object.hasOwnProperty.call(rs,"wantsCompressedSdp")&&is.uint32(24).bool(rs.wantsCompressedSdp),rs.defaultServerSideNetworkAdaption!=null&&Object.hasOwnProperty.call(rs,"defaultServerSideNetworkAdaption")&&is.uint32(32).int32(rs.defaultServerSideNetworkAdaption),is},ts.encodeDelimited=function(rs,is){return this.encode(rs,is).ldelim()},ts.decode=function(rs,is){rs instanceof $Reader||(rs=$Reader.create(rs));for(var os=is===void 0?rs.len:rs.pos+is,ss=new $root.SdkJoinAckFrame;rs.pos<os;){var as=rs.uint32();switch(as>>>3){case 1:{ss.turnCredentials=$root.SdkTurnCredentials.decode(rs,rs.uint32());break}case 2:{ss.videoSubscriptionLimit=rs.uint32();break}case 3:{ss.wantsCompressedSdp=rs.bool();break}case 4:{ss.defaultServerSideNetworkAdaption=rs.int32();break}default:rs.skipType(as&7);break}}return ss},ts.decodeDelimited=function(rs){return rs instanceof $Reader||(rs=new $Reader(rs)),this.decode(rs,rs.uint32())},ts.verify=function(rs){if(typeof rs!="object"||rs===null)return"object expected";if(rs.turnCredentials!=null&&rs.hasOwnProperty("turnCredentials")){var is=$root.SdkTurnCredentials.verify(rs.turnCredentials);if(is)return"turnCredentials."+is}if(rs.videoSubscriptionLimit!=null&&rs.hasOwnProperty("videoSubscriptionLimit")&&!$util.isInteger(rs.videoSubscriptionLimit))return"videoSubscriptionLimit: integer expected";if(rs.wantsCompressedSdp!=null&&rs.hasOwnProperty("wantsCompressedSdp")&&typeof rs.wantsCompressedSdp!="boolean")return"wantsCompressedSdp: boolean expected";if(rs.defaultServerSideNetworkAdaption!=null&&rs.hasOwnProperty("defaultServerSideNetworkAdaption"))switch(rs.defaultServerSideNetworkAdaption){default:return"defaultServerSideNetworkAdaption: enum value expected";case 1:case 2:case 3:case 4:break}return null},ts.fromObject=function(rs){if(rs instanceof $root.SdkJoinAckFrame)return rs;var is=new $root.SdkJoinAckFrame;if(rs.turnCredentials!=null){if(typeof rs.turnCredentials!="object")throw TypeError(".SdkJoinAckFrame.turnCredentials: object expected");is.turnCredentials=$root.SdkTurnCredentials.fromObject(rs.turnCredentials)}switch(rs.videoSubscriptionLimit!=null&&(is.videoSubscriptionLimit=rs.videoSubscriptionLimit>>>0),rs.wantsCompressedSdp!=null&&(is.wantsCompressedSdp=!!rs.wantsCompressedSdp),rs.defaultServerSideNetworkAdaption){default:if(typeof rs.defaultServerSideNetworkAdaption=="number"){is.defaultServerSideNetworkAdaption=rs.defaultServerSideNetworkAdaption;break}break;case"DEFAULT":case 1:is.defaultServerSideNetworkAdaption=1;break;case"NONE":case 2:is.defaultServerSideNetworkAdaption=2;break;case"BANDWIDTH_PROBING":case 3:is.defaultServerSideNetworkAdaption=3;break;case"BANDWIDTH_PROBING_AND_VIDEO_QUALITY_ADAPTION":case 4:is.defaultServerSideNetworkAdaption=4;break}return is},ts.toObject=function(rs,is){is||(is={});var os={};return is.defaults&&(os.turnCredentials=null,os.videoSubscriptionLimit=0,os.wantsCompressedSdp=!1,os.defaultServerSideNetworkAdaption=is.enums===String?"DEFAULT":1),rs.turnCredentials!=null&&rs.hasOwnProperty("turnCredentials")&&(os.turnCredentials=$root.SdkTurnCredentials.toObject(rs.turnCredentials,is)),rs.videoSubscriptionLimit!=null&&rs.hasOwnProperty("videoSubscriptionLimit")&&(os.videoSubscriptionLimit=rs.videoSubscriptionLimit),rs.wantsCompressedSdp!=null&&rs.hasOwnProperty("wantsCompressedSdp")&&(os.wantsCompressedSdp=rs.wantsCompressedSdp),rs.defaultServerSideNetworkAdaption!=null&&rs.hasOwnProperty("defaultServerSideNetworkAdaption")&&(os.defaultServerSideNetworkAdaption=is.enums===String?$root.SdkServerSideNetworkAdaption[rs.defaultServerSideNetworkAdaption]===void 0?rs.defaultServerSideNetworkAdaption:$root.SdkServerSideNetworkAdaption[rs.defaultServerSideNetworkAdaption]:rs.defaultServerSideNetworkAdaption),os},ts.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},ts.getTypeUrl=function(rs){return rs===void 0&&(rs="type.googleapis.com"),rs+"/SdkJoinAckFrame"},ts}();$root.SdkLeaveFrame=function(){function ts(ns){if(ns)for(var rs=Object.keys(ns),is=0;is<rs.length;++is)ns[rs[is]]!=null&&(this[rs[is]]=ns[rs[is]])}return ts.create=function(rs){return new ts(rs)},ts.encode=function(rs,is){return is||(is=$Writer.create()),is},ts.encodeDelimited=function(rs,is){return this.encode(rs,is).ldelim()},ts.decode=function(rs,is){rs instanceof $Reader||(rs=$Reader.create(rs));for(var os=is===void 0?rs.len:rs.pos+is,ss=new $root.SdkLeaveFrame;rs.pos<os;){var as=rs.uint32();switch(as>>>3){default:rs.skipType(as&7);break}}return ss},ts.decodeDelimited=function(rs){return rs instanceof $Reader||(rs=new $Reader(rs)),this.decode(rs,rs.uint32())},ts.verify=function(rs){return typeof rs!="object"||rs===null?"object expected":null},ts.fromObject=function(rs){return rs instanceof $root.SdkLeaveFrame?rs:new $root.SdkLeaveFrame},ts.toObject=function(){return{}},ts.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},ts.getTypeUrl=function(rs){return rs===void 0&&(rs="type.googleapis.com"),rs+"/SdkLeaveFrame"},ts}();$root.SdkLeaveAckFrame=function(){function ts(ns){if(ns)for(var rs=Object.keys(ns),is=0;is<rs.length;++is)ns[rs[is]]!=null&&(this[rs[is]]=ns[rs[is]])}return ts.create=function(rs){return new ts(rs)},ts.encode=function(rs,is){return is||(is=$Writer.create()),is},ts.encodeDelimited=function(rs,is){return this.encode(rs,is).ldelim()},ts.decode=function(rs,is){rs instanceof $Reader||(rs=$Reader.create(rs));for(var os=is===void 0?rs.len:rs.pos+is,ss=new $root.SdkLeaveAckFrame;rs.pos<os;){var as=rs.uint32();switch(as>>>3){default:rs.skipType(as&7);break}}return ss},ts.decodeDelimited=function(rs){return rs instanceof $Reader||(rs=new $Reader(rs)),this.decode(rs,rs.uint32())},ts.verify=function(rs){return typeof rs!="object"||rs===null?"object expected":null},ts.fromObject=function(rs){return rs instanceof $root.SdkLeaveAckFrame?rs:new $root.SdkLeaveAckFrame},ts.toObject=function(){return{}},ts.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},ts.getTypeUrl=function(rs){return rs===void 0&&(rs="type.googleapis.com"),rs+"/SdkLeaveAckFrame"},ts}();$root.SdkStreamServiceType=function(){var ts={},ns=Object.create(ts);return ns[ts[1]="RX"]=1,ns[ts[2]="TX"]=2,ns[ts[3]="DUPLEX"]=3,ns}();$root.SdkStreamMediaType=function(){var ts={},ns=Object.create(ts);return ns[ts[1]="AUDIO"]=1,ns[ts[2]="VIDEO"]=2,ns}();$root.SdkSubscribeFrame=function(){function ts(ns){if(this.sendStreams=[],this.receiveStreamIds=[],this.videoSubscriptionConfiguration=[],ns)for(var rs=Object.keys(ns),is=0;is<rs.length;++is)ns[rs[is]]!=null&&(this[rs[is]]=ns[rs[is]])}return ts.prototype.duplex=1,ts.prototype.sendStreams=$util.emptyArray,ts.prototype.receiveStreamIds=$util.emptyArray,ts.prototype.sdpOffer="",ts.prototype.audioHost="",ts.prototype.audioCheckin=!1,ts.prototype.audioMuted=!1,ts.prototype.compressedSdpOffer=$util.newBuffer([]),ts.prototype.videoSubscriptionConfiguration=$util.emptyArray,ts.create=function(rs){return new ts(rs)},ts.encode=function(rs,is){if(is||(is=$Writer.create()),rs.duplex!=null&&Object.hasOwnProperty.call(rs,"duplex")&&is.uint32(8).int32(rs.duplex),rs.sendStreams!=null&&rs.sendStreams.length)for(var os=0;os<rs.sendStreams.length;++os)$root.SdkStreamDescriptor.encode(rs.sendStreams[os],is.uint32(18).fork()).ldelim();if(rs.receiveStreamIds!=null&&rs.receiveStreamIds.length)for(var os=0;os<rs.receiveStreamIds.length;++os)is.uint32(24).uint32(rs.receiveStreamIds[os]);if(rs.sdpOffer!=null&&Object.hasOwnProperty.call(rs,"sdpOffer")&&is.uint32(34).string(rs.sdpOffer),rs.audioHost!=null&&Object.hasOwnProperty.call(rs,"audioHost")&&is.uint32(42).string(rs.audioHost),rs.audioCheckin!=null&&Object.hasOwnProperty.call(rs,"audioCheckin")&&is.uint32(48).bool(rs.audioCheckin),rs.audioMuted!=null&&Object.hasOwnProperty.call(rs,"audioMuted")&&is.uint32(56).bool(rs.audioMuted),rs.compressedSdpOffer!=null&&Object.hasOwnProperty.call(rs,"compressedSdpOffer")&&is.uint32(66).bytes(rs.compressedSdpOffer),rs.videoSubscriptionConfiguration!=null&&rs.videoSubscriptionConfiguration.length)for(var os=0;os<rs.videoSubscriptionConfiguration.length;++os)$root.SdkVideoSubscriptionConfiguration.encode(rs.videoSubscriptionConfiguration[os],is.uint32(74).fork()).ldelim();return is},ts.encodeDelimited=function(rs,is){return this.encode(rs,is).ldelim()},ts.decode=function(rs,is){rs instanceof $Reader||(rs=$Reader.create(rs));for(var os=is===void 0?rs.len:rs.pos+is,ss=new $root.SdkSubscribeFrame;rs.pos<os;){var as=rs.uint32();switch(as>>>3){case 1:{ss.duplex=rs.int32();break}case 2:{ss.sendStreams&&ss.sendStreams.length||(ss.sendStreams=[]),ss.sendStreams.push($root.SdkStreamDescriptor.decode(rs,rs.uint32()));break}case 3:{if(ss.receiveStreamIds&&ss.receiveStreamIds.length||(ss.receiveStreamIds=[]),(as&7)===2)for(var ls=rs.uint32()+rs.pos;rs.pos<ls;)ss.receiveStreamIds.push(rs.uint32());else ss.receiveStreamIds.push(rs.uint32());break}case 4:{ss.sdpOffer=rs.string();break}case 5:{ss.audioHost=rs.string();break}case 6:{ss.audioCheckin=rs.bool();break}case 7:{ss.audioMuted=rs.bool();break}case 8:{ss.compressedSdpOffer=rs.bytes();break}case 9:{ss.videoSubscriptionConfiguration&&ss.videoSubscriptionConfiguration.length||(ss.videoSubscriptionConfiguration=[]),ss.videoSubscriptionConfiguration.push($root.SdkVideoSubscriptionConfiguration.decode(rs,rs.uint32()));break}default:rs.skipType(as&7);break}}return ss},ts.decodeDelimited=function(rs){return rs instanceof $Reader||(rs=new $Reader(rs)),this.decode(rs,rs.uint32())},ts.verify=function(rs){if(typeof rs!="object"||rs===null)return"object expected";if(rs.duplex!=null&&rs.hasOwnProperty("duplex"))switch(rs.duplex){default:return"duplex: enum value expected";case 1:case 2:case 3:break}if(rs.sendStreams!=null&&rs.hasOwnProperty("sendStreams")){if(!Array.isArray(rs.sendStreams))return"sendStreams: array expected";for(var is=0;is<rs.sendStreams.length;++is){var os=$root.SdkStreamDescriptor.verify(rs.sendStreams[is]);if(os)return"sendStreams."+os}}if(rs.receiveStreamIds!=null&&rs.hasOwnProperty("receiveStreamIds")){if(!Array.isArray(rs.receiveStreamIds))return"receiveStreamIds: array expected";for(var is=0;is<rs.receiveStreamIds.length;++is)if(!$util.isInteger(rs.receiveStreamIds[is]))return"receiveStreamIds: integer[] expected"}if(rs.sdpOffer!=null&&rs.hasOwnProperty("sdpOffer")&&!$util.isString(rs.sdpOffer))return"sdpOffer: string expected";if(rs.audioHost!=null&&rs.hasOwnProperty("audioHost")&&!$util.isString(rs.audioHost))return"audioHost: string expected";if(rs.audioCheckin!=null&&rs.hasOwnProperty("audioCheckin")&&typeof rs.audioCheckin!="boolean")return"audioCheckin: boolean expected";if(rs.audioMuted!=null&&rs.hasOwnProperty("audioMuted")&&typeof rs.audioMuted!="boolean")return"audioMuted: boolean expected";if(rs.compressedSdpOffer!=null&&rs.hasOwnProperty("compressedSdpOffer")&&!(rs.compressedSdpOffer&&typeof rs.compressedSdpOffer.length=="number"||$util.isString(rs.compressedSdpOffer)))return"compressedSdpOffer: buffer expected";if(rs.videoSubscriptionConfiguration!=null&&rs.hasOwnProperty("videoSubscriptionConfiguration")){if(!Array.isArray(rs.videoSubscriptionConfiguration))return"videoSubscriptionConfiguration: array expected";for(var is=0;is<rs.videoSubscriptionConfiguration.length;++is){var os=$root.SdkVideoSubscriptionConfiguration.verify(rs.videoSubscriptionConfiguration[is]);if(os)return"videoSubscriptionConfiguration."+os}}return null},ts.fromObject=function(rs){if(rs instanceof $root.SdkSubscribeFrame)return rs;var is=new $root.SdkSubscribeFrame;switch(rs.duplex){default:if(typeof rs.duplex=="number"){is.duplex=rs.duplex;break}break;case"RX":case 1:is.duplex=1;break;case"TX":case 2:is.duplex=2;break;case"DUPLEX":case 3:is.duplex=3;break}if(rs.sendStreams){if(!Array.isArray(rs.sendStreams))throw TypeError(".SdkSubscribeFrame.sendStreams: array expected");is.sendStreams=[];for(var os=0;os<rs.sendStreams.length;++os){if(typeof rs.sendStreams[os]!="object")throw TypeError(".SdkSubscribeFrame.sendStreams: object expected");is.sendStreams[os]=$root.SdkStreamDescriptor.fromObject(rs.sendStreams[os])}}if(rs.receiveStreamIds){if(!Array.isArray(rs.receiveStreamIds))throw TypeError(".SdkSubscribeFrame.receiveStreamIds: array expected");is.receiveStreamIds=[];for(var os=0;os<rs.receiveStreamIds.length;++os)is.receiveStreamIds[os]=rs.receiveStreamIds[os]>>>0}if(rs.sdpOffer!=null&&(is.sdpOffer=String(rs.sdpOffer)),rs.audioHost!=null&&(is.audioHost=String(rs.audioHost)),rs.audioCheckin!=null&&(is.audioCheckin=!!rs.audioCheckin),rs.audioMuted!=null&&(is.audioMuted=!!rs.audioMuted),rs.compressedSdpOffer!=null&&(typeof rs.compressedSdpOffer=="string"?$util.base64.decode(rs.compressedSdpOffer,is.compressedSdpOffer=$util.newBuffer($util.base64.length(rs.compressedSdpOffer)),0):rs.compressedSdpOffer.length>=0&&(is.compressedSdpOffer=rs.compressedSdpOffer)),rs.videoSubscriptionConfiguration){if(!Array.isArray(rs.videoSubscriptionConfiguration))throw TypeError(".SdkSubscribeFrame.videoSubscriptionConfiguration: array expected");is.videoSubscriptionConfiguration=[];for(var os=0;os<rs.videoSubscriptionConfiguration.length;++os){if(typeof rs.videoSubscriptionConfiguration[os]!="object")throw TypeError(".SdkSubscribeFrame.videoSubscriptionConfiguration: object expected");is.videoSubscriptionConfiguration[os]=$root.SdkVideoSubscriptionConfiguration.fromObject(rs.videoSubscriptionConfiguration[os])}}return is},ts.toObject=function(rs,is){is||(is={});var os={};if((is.arrays||is.defaults)&&(os.sendStreams=[],os.receiveStreamIds=[],os.videoSubscriptionConfiguration=[]),is.defaults&&(os.duplex=is.enums===String?"RX":1,os.sdpOffer="",os.audioHost="",os.audioCheckin=!1,os.audioMuted=!1,is.bytes===String?os.compressedSdpOffer="":(os.compressedSdpOffer=[],is.bytes!==Array&&(os.compressedSdpOffer=$util.newBuffer(os.compressedSdpOffer)))),rs.duplex!=null&&rs.hasOwnProperty("duplex")&&(os.duplex=is.enums===String?$root.SdkStreamServiceType[rs.duplex]===void 0?rs.duplex:$root.SdkStreamServiceType[rs.duplex]:rs.duplex),rs.sendStreams&&rs.sendStreams.length){os.sendStreams=[];for(var ss=0;ss<rs.sendStreams.length;++ss)os.sendStreams[ss]=$root.SdkStreamDescriptor.toObject(rs.sendStreams[ss],is)}if(rs.receiveStreamIds&&rs.receiveStreamIds.length){os.receiveStreamIds=[];for(var ss=0;ss<rs.receiveStreamIds.length;++ss)os.receiveStreamIds[ss]=rs.receiveStreamIds[ss]}if(rs.sdpOffer!=null&&rs.hasOwnProperty("sdpOffer")&&(os.sdpOffer=rs.sdpOffer),rs.audioHost!=null&&rs.hasOwnProperty("audioHost")&&(os.audioHost=rs.audioHost),rs.audioCheckin!=null&&rs.hasOwnProperty("audioCheckin")&&(os.audioCheckin=rs.audioCheckin),rs.audioMuted!=null&&rs.hasOwnProperty("audioMuted")&&(os.audioMuted=rs.audioMuted),rs.compressedSdpOffer!=null&&rs.hasOwnProperty("compressedSdpOffer")&&(os.compressedSdpOffer=is.bytes===String?$util.base64.encode(rs.compressedSdpOffer,0,rs.compressedSdpOffer.length):is.bytes===Array?Array.prototype.slice.call(rs.compressedSdpOffer):rs.compressedSdpOffer),rs.videoSubscriptionConfiguration&&rs.videoSubscriptionConfiguration.length){os.videoSubscriptionConfiguration=[];for(var ss=0;ss<rs.videoSubscriptionConfiguration.length;++ss)os.videoSubscriptionConfiguration[ss]=$root.SdkVideoSubscriptionConfiguration.toObject(rs.videoSubscriptionConfiguration[ss],is)}return os},ts.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},ts.getTypeUrl=function(rs){return rs===void 0&&(rs="type.googleapis.com"),rs+"/SdkSubscribeFrame"},ts}();$root.SdkSubscribeAckFrame=function(){function ts(ns){if(this.allocations=[],this.tracks=[],ns)for(var rs=Object.keys(ns),is=0;is<rs.length;++is)ns[rs[is]]!=null&&(this[rs[is]]=ns[rs[is]])}return ts.prototype.duplex=1,ts.prototype.allocations=$util.emptyArray,ts.prototype.sdpAnswer="",ts.prototype.tracks=$util.emptyArray,ts.prototype.compressedSdpAnswer=$util.newBuffer([]),ts.create=function(rs){return new ts(rs)},ts.encode=function(rs,is){if(is||(is=$Writer.create()),rs.duplex!=null&&Object.hasOwnProperty.call(rs,"duplex")&&is.uint32(8).int32(rs.duplex),rs.allocations!=null&&rs.allocations.length)for(var os=0;os<rs.allocations.length;++os)$root.SdkStreamAllocation.encode(rs.allocations[os],is.uint32(18).fork()).ldelim();if(rs.sdpAnswer!=null&&Object.hasOwnProperty.call(rs,"sdpAnswer")&&is.uint32(26).string(rs.sdpAnswer),rs.tracks!=null&&rs.tracks.length)for(var os=0;os<rs.tracks.length;++os)$root.SdkTrackMapping.encode(rs.tracks[os],is.uint32(34).fork()).ldelim();return rs.compressedSdpAnswer!=null&&Object.hasOwnProperty.call(rs,"compressedSdpAnswer")&&is.uint32(42).bytes(rs.compressedSdpAnswer),is},ts.encodeDelimited=function(rs,is){return this.encode(rs,is).ldelim()},ts.decode=function(rs,is){rs instanceof $Reader||(rs=$Reader.create(rs));for(var os=is===void 0?rs.len:rs.pos+is,ss=new $root.SdkSubscribeAckFrame;rs.pos<os;){var as=rs.uint32();switch(as>>>3){case 1:{ss.duplex=rs.int32();break}case 2:{ss.allocations&&ss.allocations.length||(ss.allocations=[]),ss.allocations.push($root.SdkStreamAllocation.decode(rs,rs.uint32()));break}case 3:{ss.sdpAnswer=rs.string();break}case 4:{ss.tracks&&ss.tracks.length||(ss.tracks=[]),ss.tracks.push($root.SdkTrackMapping.decode(rs,rs.uint32()));break}case 5:{ss.compressedSdpAnswer=rs.bytes();break}default:rs.skipType(as&7);break}}return ss},ts.decodeDelimited=function(rs){return rs instanceof $Reader||(rs=new $Reader(rs)),this.decode(rs,rs.uint32())},ts.verify=function(rs){if(typeof rs!="object"||rs===null)return"object expected";if(rs.duplex!=null&&rs.hasOwnProperty("duplex"))switch(rs.duplex){default:return"duplex: enum value expected";case 1:case 2:case 3:break}if(rs.allocations!=null&&rs.hasOwnProperty("allocations")){if(!Array.isArray(rs.allocations))return"allocations: array expected";for(var is=0;is<rs.allocations.length;++is){var os=$root.SdkStreamAllocation.verify(rs.allocations[is]);if(os)return"allocations."+os}}if(rs.sdpAnswer!=null&&rs.hasOwnProperty("sdpAnswer")&&!$util.isString(rs.sdpAnswer))return"sdpAnswer: string expected";if(rs.tracks!=null&&rs.hasOwnProperty("tracks")){if(!Array.isArray(rs.tracks))return"tracks: array expected";for(var is=0;is<rs.tracks.length;++is){var os=$root.SdkTrackMapping.verify(rs.tracks[is]);if(os)return"tracks."+os}}return rs.compressedSdpAnswer!=null&&rs.hasOwnProperty("compressedSdpAnswer")&&!(rs.compressedSdpAnswer&&typeof rs.compressedSdpAnswer.length=="number"||$util.isString(rs.compressedSdpAnswer))?"compressedSdpAnswer: buffer expected":null},ts.fromObject=function(rs){if(rs instanceof $root.SdkSubscribeAckFrame)return rs;var is=new $root.SdkSubscribeAckFrame;switch(rs.duplex){default:if(typeof rs.duplex=="number"){is.duplex=rs.duplex;break}break;case"RX":case 1:is.duplex=1;break;case"TX":case 2:is.duplex=2;break;case"DUPLEX":case 3:is.duplex=3;break}if(rs.allocations){if(!Array.isArray(rs.allocations))throw TypeError(".SdkSubscribeAckFrame.allocations: array expected");is.allocations=[];for(var os=0;os<rs.allocations.length;++os){if(typeof rs.allocations[os]!="object")throw TypeError(".SdkSubscribeAckFrame.allocations: object expected");is.allocations[os]=$root.SdkStreamAllocation.fromObject(rs.allocations[os])}}if(rs.sdpAnswer!=null&&(is.sdpAnswer=String(rs.sdpAnswer)),rs.tracks){if(!Array.isArray(rs.tracks))throw TypeError(".SdkSubscribeAckFrame.tracks: array expected");is.tracks=[];for(var os=0;os<rs.tracks.length;++os){if(typeof rs.tracks[os]!="object")throw TypeError(".SdkSubscribeAckFrame.tracks: object expected");is.tracks[os]=$root.SdkTrackMapping.fromObject(rs.tracks[os])}}return rs.compressedSdpAnswer!=null&&(typeof rs.compressedSdpAnswer=="string"?$util.base64.decode(rs.compressedSdpAnswer,is.compressedSdpAnswer=$util.newBuffer($util.base64.length(rs.compressedSdpAnswer)),0):rs.compressedSdpAnswer.length>=0&&(is.compressedSdpAnswer=rs.compressedSdpAnswer)),is},ts.toObject=function(rs,is){is||(is={});var os={};if((is.arrays||is.defaults)&&(os.allocations=[],os.tracks=[]),is.defaults&&(os.duplex=is.enums===String?"RX":1,os.sdpAnswer="",is.bytes===String?os.compressedSdpAnswer="":(os.compressedSdpAnswer=[],is.bytes!==Array&&(os.compressedSdpAnswer=$util.newBuffer(os.compressedSdpAnswer)))),rs.duplex!=null&&rs.hasOwnProperty("duplex")&&(os.duplex=is.enums===String?$root.SdkStreamServiceType[rs.duplex]===void 0?rs.duplex:$root.SdkStreamServiceType[rs.duplex]:rs.duplex),rs.allocations&&rs.allocations.length){os.allocations=[];for(var ss=0;ss<rs.allocations.length;++ss)os.allocations[ss]=$root.SdkStreamAllocation.toObject(rs.allocations[ss],is)}if(rs.sdpAnswer!=null&&rs.hasOwnProperty("sdpAnswer")&&(os.sdpAnswer=rs.sdpAnswer),rs.tracks&&rs.tracks.length){os.tracks=[];for(var ss=0;ss<rs.tracks.length;++ss)os.tracks[ss]=$root.SdkTrackMapping.toObject(rs.tracks[ss],is)}return rs.compressedSdpAnswer!=null&&rs.hasOwnProperty("compressedSdpAnswer")&&(os.compressedSdpAnswer=is.bytes===String?$util.base64.encode(rs.compressedSdpAnswer,0,rs.compressedSdpAnswer.length):is.bytes===Array?Array.prototype.slice.call(rs.compressedSdpAnswer):rs.compressedSdpAnswer),os},ts.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},ts.getTypeUrl=function(rs){return rs===void 0&&(rs="type.googleapis.com"),rs+"/SdkSubscribeAckFrame"},ts}();$root.SdkIndexFrame=function(){function ts(ns){if(this.sources=[],this.pausedAtSourceIds=[],this.supportedReceiveCodecIntersection=[],ns)for(var rs=Object.keys(ns),is=0;is<rs.length;++is)ns[rs[is]]!=null&&(this[rs[is]]=ns[rs[is]])}return ts.prototype.atCapacity=!1,ts.prototype.sources=$util.emptyArray,ts.prototype.pausedAtSourceIds=$util.emptyArray,ts.prototype.numParticipants=0,ts.prototype.supportedReceiveCodecIntersection=$util.emptyArray,ts.create=function(rs){return new ts(rs)},ts.encode=function(rs,is){if(is||(is=$Writer.create()),rs.atCapacity!=null&&Object.hasOwnProperty.call(rs,"atCapacity")&&is.uint32(8).bool(rs.atCapacity),rs.sources!=null&&rs.sources.length)for(var os=0;os<rs.sources.length;++os)$root.SdkStreamDescriptor.encode(rs.sources[os],is.uint32(18).fork()).ldelim();if(rs.pausedAtSourceIds!=null&&rs.pausedAtSourceIds.length)for(var os=0;os<rs.pausedAtSourceIds.length;++os)is.uint32(24).uint32(rs.pausedAtSourceIds[os]);if(rs.numParticipants!=null&&Object.hasOwnProperty.call(rs,"numParticipants")&&is.uint32(32).uint32(rs.numParticipants),rs.supportedReceiveCodecIntersection!=null&&rs.supportedReceiveCodecIntersection.length)for(var os=0;os<rs.supportedReceiveCodecIntersection.length;++os)is.uint32(40).int32(rs.supportedReceiveCodecIntersection[os]);return is},ts.encodeDelimited=function(rs,is){return this.encode(rs,is).ldelim()},ts.decode=function(rs,is){rs instanceof $Reader||(rs=$Reader.create(rs));for(var os=is===void 0?rs.len:rs.pos+is,ss=new $root.SdkIndexFrame;rs.pos<os;){var as=rs.uint32();switch(as>>>3){case 1:{ss.atCapacity=rs.bool();break}case 2:{ss.sources&&ss.sources.length||(ss.sources=[]),ss.sources.push($root.SdkStreamDescriptor.decode(rs,rs.uint32()));break}case 3:{if(ss.pausedAtSourceIds&&ss.pausedAtSourceIds.length||(ss.pausedAtSourceIds=[]),(as&7)===2)for(var ls=rs.uint32()+rs.pos;rs.pos<ls;)ss.pausedAtSourceIds.push(rs.uint32());else ss.pausedAtSourceIds.push(rs.uint32());break}case 4:{ss.numParticipants=rs.uint32();break}case 5:{if(ss.supportedReceiveCodecIntersection&&ss.supportedReceiveCodecIntersection.length||(ss.supportedReceiveCodecIntersection=[]),(as&7)===2)for(var ls=rs.uint32()+rs.pos;rs.pos<ls;)ss.supportedReceiveCodecIntersection.push(rs.int32());else ss.supportedReceiveCodecIntersection.push(rs.int32());break}default:rs.skipType(as&7);break}}return ss},ts.decodeDelimited=function(rs){return rs instanceof $Reader||(rs=new $Reader(rs)),this.decode(rs,rs.uint32())},ts.verify=function(rs){if(typeof rs!="object"||rs===null)return"object expected";if(rs.atCapacity!=null&&rs.hasOwnProperty("atCapacity")&&typeof rs.atCapacity!="boolean")return"atCapacity: boolean expected";if(rs.sources!=null&&rs.hasOwnProperty("sources")){if(!Array.isArray(rs.sources))return"sources: array expected";for(var is=0;is<rs.sources.length;++is){var os=$root.SdkStreamDescriptor.verify(rs.sources[is]);if(os)return"sources."+os}}if(rs.pausedAtSourceIds!=null&&rs.hasOwnProperty("pausedAtSourceIds")){if(!Array.isArray(rs.pausedAtSourceIds))return"pausedAtSourceIds: array expected";for(var is=0;is<rs.pausedAtSourceIds.length;++is)if(!$util.isInteger(rs.pausedAtSourceIds[is]))return"pausedAtSourceIds: integer[] expected"}if(rs.numParticipants!=null&&rs.hasOwnProperty("numParticipants")&&!$util.isInteger(rs.numParticipants))return"numParticipants: integer expected";if(rs.supportedReceiveCodecIntersection!=null&&rs.hasOwnProperty("supportedReceiveCodecIntersection")){if(!Array.isArray(rs.supportedReceiveCodecIntersection))return"supportedReceiveCodecIntersection: array expected";for(var is=0;is<rs.supportedReceiveCodecIntersection.length;++is)switch(rs.supportedReceiveCodecIntersection[is]){default:return"supportedReceiveCodecIntersection: enum value[] expected";case 1:case 2:case 3:case 4:case 5:case 6:case 8:case 11:break}}return null},ts.fromObject=function(rs){if(rs instanceof $root.SdkIndexFrame)return rs;var is=new $root.SdkIndexFrame;if(rs.atCapacity!=null&&(is.atCapacity=!!rs.atCapacity),rs.sources){if(!Array.isArray(rs.sources))throw TypeError(".SdkIndexFrame.sources: array expected");is.sources=[];for(var os=0;os<rs.sources.length;++os){if(typeof rs.sources[os]!="object")throw TypeError(".SdkIndexFrame.sources: object expected");is.sources[os]=$root.SdkStreamDescriptor.fromObject(rs.sources[os])}}if(rs.pausedAtSourceIds){if(!Array.isArray(rs.pausedAtSourceIds))throw TypeError(".SdkIndexFrame.pausedAtSourceIds: array expected");is.pausedAtSourceIds=[];for(var os=0;os<rs.pausedAtSourceIds.length;++os)is.pausedAtSourceIds[os]=rs.pausedAtSourceIds[os]>>>0}if(rs.numParticipants!=null&&(is.numParticipants=rs.numParticipants>>>0),rs.supportedReceiveCodecIntersection){if(!Array.isArray(rs.supportedReceiveCodecIntersection))throw TypeError(".SdkIndexFrame.supportedReceiveCodecIntersection: array expected");is.supportedReceiveCodecIntersection=[];for(var os=0;os<rs.supportedReceiveCodecIntersection.length;++os)switch(rs.supportedReceiveCodecIntersection[os]){default:if(typeof rs.supportedReceiveCodecIntersection[os]=="number"){is.supportedReceiveCodecIntersection[os]=rs.supportedReceiveCodecIntersection[os];break}case"VP8":case 1:is.supportedReceiveCodecIntersection[os]=1;break;case"H264_BASELINE_PROFILE":case 2:is.supportedReceiveCodecIntersection[os]=2;break;case"H264_CONSTRAINED_BASELINE_PROFILE":case 3:is.supportedReceiveCodecIntersection[os]=3;break;case"H264_MAIN_PROFILE":case 4:is.supportedReceiveCodecIntersection[os]=4;break;case"H264_HIGH_PROFILE":case 5:is.supportedReceiveCodecIntersection[os]=5;break;case"H264_CONSTRAINED_HIGH_PROFILE":case 6:is.supportedReceiveCodecIntersection[os]=6;break;case"VP9_PROFILE_0":case 8:is.supportedReceiveCodecIntersection[os]=8;break;case"AV1_MAIN_PROFILE":case 11:is.supportedReceiveCodecIntersection[os]=11;break}}return is},ts.toObject=function(rs,is){is||(is={});var os={};if((is.arrays||is.defaults)&&(os.sources=[],os.pausedAtSourceIds=[],os.supportedReceiveCodecIntersection=[]),is.defaults&&(os.atCapacity=!1,os.numParticipants=0),rs.atCapacity!=null&&rs.hasOwnProperty("atCapacity")&&(os.atCapacity=rs.atCapacity),rs.sources&&rs.sources.length){os.sources=[];for(var ss=0;ss<rs.sources.length;++ss)os.sources[ss]=$root.SdkStreamDescriptor.toObject(rs.sources[ss],is)}if(rs.pausedAtSourceIds&&rs.pausedAtSourceIds.length){os.pausedAtSourceIds=[];for(var ss=0;ss<rs.pausedAtSourceIds.length;++ss)os.pausedAtSourceIds[ss]=rs.pausedAtSourceIds[ss]}if(rs.numParticipants!=null&&rs.hasOwnProperty("numParticipants")&&(os.numParticipants=rs.numParticipants),rs.supportedReceiveCodecIntersection&&rs.supportedReceiveCodecIntersection.length){os.supportedReceiveCodecIntersection=[];for(var ss=0;ss<rs.supportedReceiveCodecIntersection.length;++ss)os.supportedReceiveCodecIntersection[ss]=is.enums===String?$root.SdkVideoCodecCapability[rs.supportedReceiveCodecIntersection[ss]]===void 0?rs.supportedReceiveCodecIntersection[ss]:$root.SdkVideoCodecCapability[rs.supportedReceiveCodecIntersection[ss]]:rs.supportedReceiveCodecIntersection[ss]}return os},ts.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},ts.getTypeUrl=function(rs){return rs===void 0&&(rs="type.googleapis.com"),rs+"/SdkIndexFrame"},ts}();$root.SdkPauseResumeFrame=function(){function ts(ns){if(this.streamIds=[],this.groupIds=[],ns)for(var rs=Object.keys(ns),is=0;is<rs.length;++is)ns[rs[is]]!=null&&(this[rs[is]]=ns[rs[is]])}return ts.prototype.streamIds=$util.emptyArray,ts.prototype.groupIds=$util.emptyArray,ts.create=function(rs){return new ts(rs)},ts.encode=function(rs,is){if(is||(is=$Writer.create()),rs.streamIds!=null&&rs.streamIds.length)for(var os=0;os<rs.streamIds.length;++os)is.uint32(8).uint32(rs.streamIds[os]);if(rs.groupIds!=null&&rs.groupIds.length)for(var os=0;os<rs.groupIds.length;++os)is.uint32(16).uint32(rs.groupIds[os]);return is},ts.encodeDelimited=function(rs,is){return this.encode(rs,is).ldelim()},ts.decode=function(rs,is){rs instanceof $Reader||(rs=$Reader.create(rs));for(var os=is===void 0?rs.len:rs.pos+is,ss=new $root.SdkPauseResumeFrame;rs.pos<os;){var as=rs.uint32();switch(as>>>3){case 1:{if(ss.streamIds&&ss.streamIds.length||(ss.streamIds=[]),(as&7)===2)for(var ls=rs.uint32()+rs.pos;rs.pos<ls;)ss.streamIds.push(rs.uint32());else ss.streamIds.push(rs.uint32());break}case 2:{if(ss.groupIds&&ss.groupIds.length||(ss.groupIds=[]),(as&7)===2)for(var ls=rs.uint32()+rs.pos;rs.pos<ls;)ss.groupIds.push(rs.uint32());else ss.groupIds.push(rs.uint32());break}default:rs.skipType(as&7);break}}return ss},ts.decodeDelimited=function(rs){return rs instanceof $Reader||(rs=new $Reader(rs)),this.decode(rs,rs.uint32())},ts.verify=function(rs){if(typeof rs!="object"||rs===null)return"object expected";if(rs.streamIds!=null&&rs.hasOwnProperty("streamIds")){if(!Array.isArray(rs.streamIds))return"streamIds: array expected";for(var is=0;is<rs.streamIds.length;++is)if(!$util.isInteger(rs.streamIds[is]))return"streamIds: integer[] expected"}if(rs.groupIds!=null&&rs.hasOwnProperty("groupIds")){if(!Array.isArray(rs.groupIds))return"groupIds: array expected";for(var is=0;is<rs.groupIds.length;++is)if(!$util.isInteger(rs.groupIds[is]))return"groupIds: integer[] expected"}return null},ts.fromObject=function(rs){if(rs instanceof $root.SdkPauseResumeFrame)return rs;var is=new $root.SdkPauseResumeFrame;if(rs.streamIds){if(!Array.isArray(rs.streamIds))throw TypeError(".SdkPauseResumeFrame.streamIds: array expected");is.streamIds=[];for(var os=0;os<rs.streamIds.length;++os)is.streamIds[os]=rs.streamIds[os]>>>0}if(rs.groupIds){if(!Array.isArray(rs.groupIds))throw TypeError(".SdkPauseResumeFrame.groupIds: array expected");is.groupIds=[];for(var os=0;os<rs.groupIds.length;++os)is.groupIds[os]=rs.groupIds[os]>>>0}return is},ts.toObject=function(rs,is){is||(is={});var os={};if((is.arrays||is.defaults)&&(os.streamIds=[],os.groupIds=[]),rs.streamIds&&rs.streamIds.length){os.streamIds=[];for(var ss=0;ss<rs.streamIds.length;++ss)os.streamIds[ss]=rs.streamIds[ss]}if(rs.groupIds&&rs.groupIds.length){os.groupIds=[];for(var ss=0;ss<rs.groupIds.length;++ss)os.groupIds[ss]=rs.groupIds[ss]}return os},ts.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},ts.getTypeUrl=function(rs){return rs===void 0&&(rs="type.googleapis.com"),rs+"/SdkPauseResumeFrame"},ts}();$root.SdkBitrateFrame=function(){function ts(ns){if(this.bitrates=[],ns)for(var rs=Object.keys(ns),is=0;is<rs.length;++is)ns[rs[is]]!=null&&(this[rs[is]]=ns[rs[is]])}return ts.prototype.bitrates=$util.emptyArray,ts.prototype.serverAvailableOutgoingBitrate=0,ts.create=function(rs){return new ts(rs)},ts.encode=function(rs,is){if(is||(is=$Writer.create()),rs.bitrates!=null&&rs.bitrates.length)for(var os=0;os<rs.bitrates.length;++os)$root.SdkBitrate.encode(rs.bitrates[os],is.uint32(10).fork()).ldelim();return rs.serverAvailableOutgoingBitrate!=null&&Object.hasOwnProperty.call(rs,"serverAvailableOutgoingBitrate")&&is.uint32(16).uint32(rs.serverAvailableOutgoingBitrate),is},ts.encodeDelimited=function(rs,is){return this.encode(rs,is).ldelim()},ts.decode=function(rs,is){rs instanceof $Reader||(rs=$Reader.create(rs));for(var os=is===void 0?rs.len:rs.pos+is,ss=new $root.SdkBitrateFrame;rs.pos<os;){var as=rs.uint32();switch(as>>>3){case 1:{ss.bitrates&&ss.bitrates.length||(ss.bitrates=[]),ss.bitrates.push($root.SdkBitrate.decode(rs,rs.uint32()));break}case 2:{ss.serverAvailableOutgoingBitrate=rs.uint32();break}default:rs.skipType(as&7);break}}return ss},ts.decodeDelimited=function(rs){return rs instanceof $Reader||(rs=new $Reader(rs)),this.decode(rs,rs.uint32())},ts.verify=function(rs){if(typeof rs!="object"||rs===null)return"object expected";if(rs.bitrates!=null&&rs.hasOwnProperty("bitrates")){if(!Array.isArray(rs.bitrates))return"bitrates: array expected";for(var is=0;is<rs.bitrates.length;++is){var os=$root.SdkBitrate.verify(rs.bitrates[is]);if(os)return"bitrates."+os}}return rs.serverAvailableOutgoingBitrate!=null&&rs.hasOwnProperty("serverAvailableOutgoingBitrate")&&!$util.isInteger(rs.serverAvailableOutgoingBitrate)?"serverAvailableOutgoingBitrate: integer expected":null},ts.fromObject=function(rs){if(rs instanceof $root.SdkBitrateFrame)return rs;var is=new $root.SdkBitrateFrame;if(rs.bitrates){if(!Array.isArray(rs.bitrates))throw TypeError(".SdkBitrateFrame.bitrates: array expected");is.bitrates=[];for(var os=0;os<rs.bitrates.length;++os){if(typeof rs.bitrates[os]!="object")throw TypeError(".SdkBitrateFrame.bitrates: object expected");is.bitrates[os]=$root.SdkBitrate.fromObject(rs.bitrates[os])}}return rs.serverAvailableOutgoingBitrate!=null&&(is.serverAvailableOutgoingBitrate=rs.serverAvailableOutgoingBitrate>>>0),is},ts.toObject=function(rs,is){is||(is={});var os={};if((is.arrays||is.defaults)&&(os.bitrates=[]),is.defaults&&(os.serverAvailableOutgoingBitrate=0),rs.bitrates&&rs.bitrates.length){os.bitrates=[];for(var ss=0;ss<rs.bitrates.length;++ss)os.bitrates[ss]=$root.SdkBitrate.toObject(rs.bitrates[ss],is)}return rs.serverAvailableOutgoingBitrate!=null&&rs.hasOwnProperty("serverAvailableOutgoingBitrate")&&(os.serverAvailableOutgoingBitrate=rs.serverAvailableOutgoingBitrate),os},ts.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},ts.getTypeUrl=function(rs){return rs===void 0&&(rs="type.googleapis.com"),rs+"/SdkBitrateFrame"},ts}();$root.SdkStreamDescriptor=function(){function ts(ns){if(ns)for(var rs=Object.keys(ns),is=0;is<rs.length;++is)ns[rs[is]]!=null&&(this[rs[is]]=ns[rs[is]])}return ts.prototype.streamId=0,ts.prototype.framerate=0,ts.prototype.maxBitrateKbps=0,ts.prototype.trackLabel="",ts.prototype.groupId=0,ts.prototype.avgBitrateBps=0,ts.prototype.attendeeId="",ts.prototype.mediaType=1,ts.prototype.externalUserId="",ts.prototype.width=0,ts.prototype.height=0,ts.create=function(rs){return new ts(rs)},ts.encode=function(rs,is){return is||(is=$Writer.create()),rs.streamId!=null&&Object.hasOwnProperty.call(rs,"streamId")&&is.uint32(8).uint32(rs.streamId),rs.framerate!=null&&Object.hasOwnProperty.call(rs,"framerate")&&is.uint32(16).uint32(rs.framerate),rs.maxBitrateKbps!=null&&Object.hasOwnProperty.call(rs,"maxBitrateKbps")&&is.uint32(24).uint32(rs.maxBitrateKbps),rs.trackLabel!=null&&Object.hasOwnProperty.call(rs,"trackLabel")&&is.uint32(34).string(rs.trackLabel),rs.groupId!=null&&Object.hasOwnProperty.call(rs,"groupId")&&is.uint32(48).uint32(rs.groupId),rs.avgBitrateBps!=null&&Object.hasOwnProperty.call(rs,"avgBitrateBps")&&is.uint32(56).uint32(rs.avgBitrateBps),rs.attendeeId!=null&&Object.hasOwnProperty.call(rs,"attendeeId")&&is.uint32(66).string(rs.attendeeId),rs.mediaType!=null&&Object.hasOwnProperty.call(rs,"mediaType")&&is.uint32(72).int32(rs.mediaType),rs.externalUserId!=null&&Object.hasOwnProperty.call(rs,"externalUserId")&&is.uint32(82).string(rs.externalUserId),rs.width!=null&&Object.hasOwnProperty.call(rs,"width")&&is.uint32(88).uint32(rs.width),rs.height!=null&&Object.hasOwnProperty.call(rs,"height")&&is.uint32(96).uint32(rs.height),is},ts.encodeDelimited=function(rs,is){return this.encode(rs,is).ldelim()},ts.decode=function(rs,is){rs instanceof $Reader||(rs=$Reader.create(rs));for(var os=is===void 0?rs.len:rs.pos+is,ss=new $root.SdkStreamDescriptor;rs.pos<os;){var as=rs.uint32();switch(as>>>3){case 1:{ss.streamId=rs.uint32();break}case 2:{ss.framerate=rs.uint32();break}case 3:{ss.maxBitrateKbps=rs.uint32();break}case 4:{ss.trackLabel=rs.string();break}case 6:{ss.groupId=rs.uint32();break}case 7:{ss.avgBitrateBps=rs.uint32();break}case 8:{ss.attendeeId=rs.string();break}case 9:{ss.mediaType=rs.int32();break}case 10:{ss.externalUserId=rs.string();break}case 11:{ss.width=rs.uint32();break}case 12:{ss.height=rs.uint32();break}default:rs.skipType(as&7);break}}return ss},ts.decodeDelimited=function(rs){return rs instanceof $Reader||(rs=new $Reader(rs)),this.decode(rs,rs.uint32())},ts.verify=function(rs){if(typeof rs!="object"||rs===null)return"object expected";if(rs.streamId!=null&&rs.hasOwnProperty("streamId")&&!$util.isInteger(rs.streamId))return"streamId: integer expected";if(rs.framerate!=null&&rs.hasOwnProperty("framerate")&&!$util.isInteger(rs.framerate))return"framerate: integer expected";if(rs.maxBitrateKbps!=null&&rs.hasOwnProperty("maxBitrateKbps")&&!$util.isInteger(rs.maxBitrateKbps))return"maxBitrateKbps: integer expected";if(rs.trackLabel!=null&&rs.hasOwnProperty("trackLabel")&&!$util.isString(rs.trackLabel))return"trackLabel: string expected";if(rs.groupId!=null&&rs.hasOwnProperty("groupId")&&!$util.isInteger(rs.groupId))return"groupId: integer expected";if(rs.avgBitrateBps!=null&&rs.hasOwnProperty("avgBitrateBps")&&!$util.isInteger(rs.avgBitrateBps))return"avgBitrateBps: integer expected";if(rs.attendeeId!=null&&rs.hasOwnProperty("attendeeId")&&!$util.isString(rs.attendeeId))return"attendeeId: string expected";if(rs.mediaType!=null&&rs.hasOwnProperty("mediaType"))switch(rs.mediaType){default:return"mediaType: enum value expected";case 1:case 2:break}return rs.externalUserId!=null&&rs.hasOwnProperty("externalUserId")&&!$util.isString(rs.externalUserId)?"externalUserId: string expected":rs.width!=null&&rs.hasOwnProperty("width")&&!$util.isInteger(rs.width)?"width: integer expected":rs.height!=null&&rs.hasOwnProperty("height")&&!$util.isInteger(rs.height)?"height: integer expected":null},ts.fromObject=function(rs){if(rs instanceof $root.SdkStreamDescriptor)return rs;var is=new $root.SdkStreamDescriptor;switch(rs.streamId!=null&&(is.streamId=rs.streamId>>>0),rs.framerate!=null&&(is.framerate=rs.framerate>>>0),rs.maxBitrateKbps!=null&&(is.maxBitrateKbps=rs.maxBitrateKbps>>>0),rs.trackLabel!=null&&(is.trackLabel=String(rs.trackLabel)),rs.groupId!=null&&(is.groupId=rs.groupId>>>0),rs.avgBitrateBps!=null&&(is.avgBitrateBps=rs.avgBitrateBps>>>0),rs.attendeeId!=null&&(is.attendeeId=String(rs.attendeeId)),rs.mediaType){default:if(typeof rs.mediaType=="number"){is.mediaType=rs.mediaType;break}break;case"AUDIO":case 1:is.mediaType=1;break;case"VIDEO":case 2:is.mediaType=2;break}return rs.externalUserId!=null&&(is.externalUserId=String(rs.externalUserId)),rs.width!=null&&(is.width=rs.width>>>0),rs.height!=null&&(is.height=rs.height>>>0),is},ts.toObject=function(rs,is){is||(is={});var os={};return is.defaults&&(os.streamId=0,os.framerate=0,os.maxBitrateKbps=0,os.trackLabel="",os.groupId=0,os.avgBitrateBps=0,os.attendeeId="",os.mediaType=is.enums===String?"AUDIO":1,os.externalUserId="",os.width=0,os.height=0),rs.streamId!=null&&rs.hasOwnProperty("streamId")&&(os.streamId=rs.streamId),rs.framerate!=null&&rs.hasOwnProperty("framerate")&&(os.framerate=rs.framerate),rs.maxBitrateKbps!=null&&rs.hasOwnProperty("maxBitrateKbps")&&(os.maxBitrateKbps=rs.maxBitrateKbps),rs.trackLabel!=null&&rs.hasOwnProperty("trackLabel")&&(os.trackLabel=rs.trackLabel),rs.groupId!=null&&rs.hasOwnProperty("groupId")&&(os.groupId=rs.groupId),rs.avgBitrateBps!=null&&rs.hasOwnProperty("avgBitrateBps")&&(os.avgBitrateBps=rs.avgBitrateBps),rs.attendeeId!=null&&rs.hasOwnProperty("attendeeId")&&(os.attendeeId=rs.attendeeId),rs.mediaType!=null&&rs.hasOwnProperty("mediaType")&&(os.mediaType=is.enums===String?$root.SdkStreamMediaType[rs.mediaType]===void 0?rs.mediaType:$root.SdkStreamMediaType[rs.mediaType]:rs.mediaType),rs.externalUserId!=null&&rs.hasOwnProperty("externalUserId")&&(os.externalUserId=rs.externalUserId),rs.width!=null&&rs.hasOwnProperty("width")&&(os.width=rs.width),rs.height!=null&&rs.hasOwnProperty("height")&&(os.height=rs.height),os},ts.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},ts.getTypeUrl=function(rs){return rs===void 0&&(rs="type.googleapis.com"),rs+"/SdkStreamDescriptor"},ts}();$root.SdkStreamAllocation=function(){function ts(ns){if(ns)for(var rs=Object.keys(ns),is=0;is<rs.length;++is)ns[rs[is]]!=null&&(this[rs[is]]=ns[rs[is]])}return ts.prototype.trackLabel="",ts.prototype.streamId=0,ts.prototype.groupId=0,ts.create=function(rs){return new ts(rs)},ts.encode=function(rs,is){return is||(is=$Writer.create()),rs.trackLabel!=null&&Object.hasOwnProperty.call(rs,"trackLabel")&&is.uint32(10).string(rs.trackLabel),rs.streamId!=null&&Object.hasOwnProperty.call(rs,"streamId")&&is.uint32(16).uint32(rs.streamId),rs.groupId!=null&&Object.hasOwnProperty.call(rs,"groupId")&&is.uint32(24).uint32(rs.groupId),is},ts.encodeDelimited=function(rs,is){return this.encode(rs,is).ldelim()},ts.decode=function(rs,is){rs instanceof $Reader||(rs=$Reader.create(rs));for(var os=is===void 0?rs.len:rs.pos+is,ss=new $root.SdkStreamAllocation;rs.pos<os;){var as=rs.uint32();switch(as>>>3){case 1:{ss.trackLabel=rs.string();break}case 2:{ss.streamId=rs.uint32();break}case 3:{ss.groupId=rs.uint32();break}default:rs.skipType(as&7);break}}return ss},ts.decodeDelimited=function(rs){return rs instanceof $Reader||(rs=new $Reader(rs)),this.decode(rs,rs.uint32())},ts.verify=function(rs){return typeof rs!="object"||rs===null?"object expected":rs.trackLabel!=null&&rs.hasOwnProperty("trackLabel")&&!$util.isString(rs.trackLabel)?"trackLabel: string expected":rs.streamId!=null&&rs.hasOwnProperty("streamId")&&!$util.isInteger(rs.streamId)?"streamId: integer expected":rs.groupId!=null&&rs.hasOwnProperty("groupId")&&!$util.isInteger(rs.groupId)?"groupId: integer expected":null},ts.fromObject=function(rs){if(rs instanceof $root.SdkStreamAllocation)return rs;var is=new $root.SdkStreamAllocation;return rs.trackLabel!=null&&(is.trackLabel=String(rs.trackLabel)),rs.streamId!=null&&(is.streamId=rs.streamId>>>0),rs.groupId!=null&&(is.groupId=rs.groupId>>>0),is},ts.toObject=function(rs,is){is||(is={});var os={};return is.defaults&&(os.trackLabel="",os.streamId=0,os.groupId=0),rs.trackLabel!=null&&rs.hasOwnProperty("trackLabel")&&(os.trackLabel=rs.trackLabel),rs.streamId!=null&&rs.hasOwnProperty("streamId")&&(os.streamId=rs.streamId),rs.groupId!=null&&rs.hasOwnProperty("groupId")&&(os.groupId=rs.groupId),os},ts.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},ts.getTypeUrl=function(rs){return rs===void 0&&(rs="type.googleapis.com"),rs+"/SdkStreamAllocation"},ts}();$root.SdkTrackMapping=function(){function ts(ns){if(ns)for(var rs=Object.keys(ns),is=0;is<rs.length;++is)ns[rs[is]]!=null&&(this[rs[is]]=ns[rs[is]])}return ts.prototype.streamId=0,ts.prototype.ssrc=0,ts.prototype.trackLabel="",ts.create=function(rs){return new ts(rs)},ts.encode=function(rs,is){return is||(is=$Writer.create()),rs.streamId!=null&&Object.hasOwnProperty.call(rs,"streamId")&&is.uint32(8).uint32(rs.streamId),rs.ssrc!=null&&Object.hasOwnProperty.call(rs,"ssrc")&&is.uint32(16).uint32(rs.ssrc),rs.trackLabel!=null&&Object.hasOwnProperty.call(rs,"trackLabel")&&is.uint32(26).string(rs.trackLabel),is},ts.encodeDelimited=function(rs,is){return this.encode(rs,is).ldelim()},ts.decode=function(rs,is){rs instanceof $Reader||(rs=$Reader.create(rs));for(var os=is===void 0?rs.len:rs.pos+is,ss=new $root.SdkTrackMapping;rs.pos<os;){var as=rs.uint32();switch(as>>>3){case 1:{ss.streamId=rs.uint32();break}case 2:{ss.ssrc=rs.uint32();break}case 3:{ss.trackLabel=rs.string();break}default:rs.skipType(as&7);break}}return ss},ts.decodeDelimited=function(rs){return rs instanceof $Reader||(rs=new $Reader(rs)),this.decode(rs,rs.uint32())},ts.verify=function(rs){return typeof rs!="object"||rs===null?"object expected":rs.streamId!=null&&rs.hasOwnProperty("streamId")&&!$util.isInteger(rs.streamId)?"streamId: integer expected":rs.ssrc!=null&&rs.hasOwnProperty("ssrc")&&!$util.isInteger(rs.ssrc)?"ssrc: integer expected":rs.trackLabel!=null&&rs.hasOwnProperty("trackLabel")&&!$util.isString(rs.trackLabel)?"trackLabel: string expected":null},ts.fromObject=function(rs){if(rs instanceof $root.SdkTrackMapping)return rs;var is=new $root.SdkTrackMapping;return rs.streamId!=null&&(is.streamId=rs.streamId>>>0),rs.ssrc!=null&&(is.ssrc=rs.ssrc>>>0),rs.trackLabel!=null&&(is.trackLabel=String(rs.trackLabel)),is},ts.toObject=function(rs,is){is||(is={});var os={};return is.defaults&&(os.streamId=0,os.ssrc=0,os.trackLabel=""),rs.streamId!=null&&rs.hasOwnProperty("streamId")&&(os.streamId=rs.streamId),rs.ssrc!=null&&rs.hasOwnProperty("ssrc")&&(os.ssrc=rs.ssrc),rs.trackLabel!=null&&rs.hasOwnProperty("trackLabel")&&(os.trackLabel=rs.trackLabel),os},ts.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},ts.getTypeUrl=function(rs){return rs===void 0&&(rs="type.googleapis.com"),rs+"/SdkTrackMapping"},ts}();$root.SdkBitrate=function(){function ts(ns){if(ns)for(var rs=Object.keys(ns),is=0;is<rs.length;++is)ns[rs[is]]!=null&&(this[rs[is]]=ns[rs[is]])}return ts.prototype.sourceStreamId=0,ts.prototype.avgBitrateBps=0,ts.create=function(rs){return new ts(rs)},ts.encode=function(rs,is){return is||(is=$Writer.create()),rs.sourceStreamId!=null&&Object.hasOwnProperty.call(rs,"sourceStreamId")&&is.uint32(8).uint32(rs.sourceStreamId),rs.avgBitrateBps!=null&&Object.hasOwnProperty.call(rs,"avgBitrateBps")&&is.uint32(16).uint32(rs.avgBitrateBps),is},ts.encodeDelimited=function(rs,is){return this.encode(rs,is).ldelim()},ts.decode=function(rs,is){rs instanceof $Reader||(rs=$Reader.create(rs));for(var os=is===void 0?rs.len:rs.pos+is,ss=new $root.SdkBitrate;rs.pos<os;){var as=rs.uint32();switch(as>>>3){case 1:{ss.sourceStreamId=rs.uint32();break}case 2:{ss.avgBitrateBps=rs.uint32();break}default:rs.skipType(as&7);break}}return ss},ts.decodeDelimited=function(rs){return rs instanceof $Reader||(rs=new $Reader(rs)),this.decode(rs,rs.uint32())},ts.verify=function(rs){return typeof rs!="object"||rs===null?"object expected":rs.sourceStreamId!=null&&rs.hasOwnProperty("sourceStreamId")&&!$util.isInteger(rs.sourceStreamId)?"sourceStreamId: integer expected":rs.avgBitrateBps!=null&&rs.hasOwnProperty("avgBitrateBps")&&!$util.isInteger(rs.avgBitrateBps)?"avgBitrateBps: integer expected":null},ts.fromObject=function(rs){if(rs instanceof $root.SdkBitrate)return rs;var is=new $root.SdkBitrate;return rs.sourceStreamId!=null&&(is.sourceStreamId=rs.sourceStreamId>>>0),rs.avgBitrateBps!=null&&(is.avgBitrateBps=rs.avgBitrateBps>>>0),is},ts.toObject=function(rs,is){is||(is={});var os={};return is.defaults&&(os.sourceStreamId=0,os.avgBitrateBps=0),rs.sourceStreamId!=null&&rs.hasOwnProperty("sourceStreamId")&&(os.sourceStreamId=rs.sourceStreamId),rs.avgBitrateBps!=null&&rs.hasOwnProperty("avgBitrateBps")&&(os.avgBitrateBps=rs.avgBitrateBps),os},ts.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},ts.getTypeUrl=function(rs){return rs===void 0&&(rs="type.googleapis.com"),rs+"/SdkBitrate"},ts}();$root.SdkAudioControlFrame=function(){function ts(ns){if(ns)for(var rs=Object.keys(ns),is=0;is<rs.length;++is)ns[rs[is]]!=null&&(this[rs[is]]=ns[rs[is]])}return ts.prototype.muted=!1,ts.create=function(rs){return new ts(rs)},ts.encode=function(rs,is){return is||(is=$Writer.create()),rs.muted!=null&&Object.hasOwnProperty.call(rs,"muted")&&is.uint32(8).bool(rs.muted),is},ts.encodeDelimited=function(rs,is){return this.encode(rs,is).ldelim()},ts.decode=function(rs,is){rs instanceof $Reader||(rs=$Reader.create(rs));for(var os=is===void 0?rs.len:rs.pos+is,ss=new $root.SdkAudioControlFrame;rs.pos<os;){var as=rs.uint32();switch(as>>>3){case 1:{ss.muted=rs.bool();break}default:rs.skipType(as&7);break}}return ss},ts.decodeDelimited=function(rs){return rs instanceof $Reader||(rs=new $Reader(rs)),this.decode(rs,rs.uint32())},ts.verify=function(rs){return typeof rs!="object"||rs===null?"object expected":rs.muted!=null&&rs.hasOwnProperty("muted")&&typeof rs.muted!="boolean"?"muted: boolean expected":null},ts.fromObject=function(rs){if(rs instanceof $root.SdkAudioControlFrame)return rs;var is=new $root.SdkAudioControlFrame;return rs.muted!=null&&(is.muted=!!rs.muted),is},ts.toObject=function(rs,is){is||(is={});var os={};return is.defaults&&(os.muted=!1),rs.muted!=null&&rs.hasOwnProperty("muted")&&(os.muted=rs.muted),os},ts.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},ts.getTypeUrl=function(rs){return rs===void 0&&(rs="type.googleapis.com"),rs+"/SdkAudioControlFrame"},ts}();$root.SdkAudioMetadataFrame=function(){function ts(ns){if(this.attendeeStates=[],ns)for(var rs=Object.keys(ns),is=0;is<rs.length;++is)ns[rs[is]]!=null&&(this[rs[is]]=ns[rs[is]])}return ts.prototype.attendeeStates=$util.emptyArray,ts.create=function(rs){return new ts(rs)},ts.encode=function(rs,is){if(is||(is=$Writer.create()),rs.attendeeStates!=null&&rs.attendeeStates.length)for(var os=0;os<rs.attendeeStates.length;++os)$root.SdkAudioAttendeeState.encode(rs.attendeeStates[os],is.uint32(10).fork()).ldelim();return is},ts.encodeDelimited=function(rs,is){return this.encode(rs,is).ldelim()},ts.decode=function(rs,is){rs instanceof $Reader||(rs=$Reader.create(rs));for(var os=is===void 0?rs.len:rs.pos+is,ss=new $root.SdkAudioMetadataFrame;rs.pos<os;){var as=rs.uint32();switch(as>>>3){case 1:{ss.attendeeStates&&ss.attendeeStates.length||(ss.attendeeStates=[]),ss.attendeeStates.push($root.SdkAudioAttendeeState.decode(rs,rs.uint32()));break}default:rs.skipType(as&7);break}}return ss},ts.decodeDelimited=function(rs){return rs instanceof $Reader||(rs=new $Reader(rs)),this.decode(rs,rs.uint32())},ts.verify=function(rs){if(typeof rs!="object"||rs===null)return"object expected";if(rs.attendeeStates!=null&&rs.hasOwnProperty("attendeeStates")){if(!Array.isArray(rs.attendeeStates))return"attendeeStates: array expected";for(var is=0;is<rs.attendeeStates.length;++is){var os=$root.SdkAudioAttendeeState.verify(rs.attendeeStates[is]);if(os)return"attendeeStates."+os}}return null},ts.fromObject=function(rs){if(rs instanceof $root.SdkAudioMetadataFrame)return rs;var is=new $root.SdkAudioMetadataFrame;if(rs.attendeeStates){if(!Array.isArray(rs.attendeeStates))throw TypeError(".SdkAudioMetadataFrame.attendeeStates: array expected");is.attendeeStates=[];for(var os=0;os<rs.attendeeStates.length;++os){if(typeof rs.attendeeStates[os]!="object")throw TypeError(".SdkAudioMetadataFrame.attendeeStates: object expected");is.attendeeStates[os]=$root.SdkAudioAttendeeState.fromObject(rs.attendeeStates[os])}}return is},ts.toObject=function(rs,is){is||(is={});var os={};if((is.arrays||is.defaults)&&(os.attendeeStates=[]),rs.attendeeStates&&rs.attendeeStates.length){os.attendeeStates=[];for(var ss=0;ss<rs.attendeeStates.length;++ss)os.attendeeStates[ss]=$root.SdkAudioAttendeeState.toObject(rs.attendeeStates[ss],is)}return os},ts.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},ts.getTypeUrl=function(rs){return rs===void 0&&(rs="type.googleapis.com"),rs+"/SdkAudioMetadataFrame"},ts}();$root.SdkAudioAttendeeState=function(){function ts(ns){if(ns)for(var rs=Object.keys(ns),is=0;is<rs.length;++is)ns[rs[is]]!=null&&(this[rs[is]]=ns[rs[is]])}return ts.prototype.audioStreamId=0,ts.prototype.volume=0,ts.prototype.muted=!1,ts.prototype.signalStrength=0,ts.create=function(rs){return new ts(rs)},ts.encode=function(rs,is){return is||(is=$Writer.create()),rs.audioStreamId!=null&&Object.hasOwnProperty.call(rs,"audioStreamId")&&is.uint32(8).uint32(rs.audioStreamId),rs.volume!=null&&Object.hasOwnProperty.call(rs,"volume")&&is.uint32(16).uint32(rs.volume),rs.muted!=null&&Object.hasOwnProperty.call(rs,"muted")&&is.uint32(24).bool(rs.muted),rs.signalStrength!=null&&Object.hasOwnProperty.call(rs,"signalStrength")&&is.uint32(32).uint32(rs.signalStrength),is},ts.encodeDelimited=function(rs,is){return this.encode(rs,is).ldelim()},ts.decode=function(rs,is){rs instanceof $Reader||(rs=$Reader.create(rs));for(var os=is===void 0?rs.len:rs.pos+is,ss=new $root.SdkAudioAttendeeState;rs.pos<os;){var as=rs.uint32();switch(as>>>3){case 1:{ss.audioStreamId=rs.uint32();break}case 2:{ss.volume=rs.uint32();break}case 3:{ss.muted=rs.bool();break}case 4:{ss.signalStrength=rs.uint32();break}default:rs.skipType(as&7);break}}return ss},ts.decodeDelimited=function(rs){return rs instanceof $Reader||(rs=new $Reader(rs)),this.decode(rs,rs.uint32())},ts.verify=function(rs){return typeof rs!="object"||rs===null?"object expected":rs.audioStreamId!=null&&rs.hasOwnProperty("audioStreamId")&&!$util.isInteger(rs.audioStreamId)?"audioStreamId: integer expected":rs.volume!=null&&rs.hasOwnProperty("volume")&&!$util.isInteger(rs.volume)?"volume: integer expected":rs.muted!=null&&rs.hasOwnProperty("muted")&&typeof rs.muted!="boolean"?"muted: boolean expected":rs.signalStrength!=null&&rs.hasOwnProperty("signalStrength")&&!$util.isInteger(rs.signalStrength)?"signalStrength: integer expected":null},ts.fromObject=function(rs){if(rs instanceof $root.SdkAudioAttendeeState)return rs;var is=new $root.SdkAudioAttendeeState;return rs.audioStreamId!=null&&(is.audioStreamId=rs.audioStreamId>>>0),rs.volume!=null&&(is.volume=rs.volume>>>0),rs.muted!=null&&(is.muted=!!rs.muted),rs.signalStrength!=null&&(is.signalStrength=rs.signalStrength>>>0),is},ts.toObject=function(rs,is){is||(is={});var os={};return is.defaults&&(os.audioStreamId=0,os.volume=0,os.muted=!1,os.signalStrength=0),rs.audioStreamId!=null&&rs.hasOwnProperty("audioStreamId")&&(os.audioStreamId=rs.audioStreamId),rs.volume!=null&&rs.hasOwnProperty("volume")&&(os.volume=rs.volume),rs.muted!=null&&rs.hasOwnProperty("muted")&&(os.muted=rs.muted),rs.signalStrength!=null&&rs.hasOwnProperty("signalStrength")&&(os.signalStrength=rs.signalStrength),os},ts.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},ts.getTypeUrl=function(rs){return rs===void 0&&(rs="type.googleapis.com"),rs+"/SdkAudioAttendeeState"},ts}();$root.SdkAudioStreamIdInfoFrame=function(){function ts(ns){if(this.streams=[],ns)for(var rs=Object.keys(ns),is=0;is<rs.length;++is)ns[rs[is]]!=null&&(this[rs[is]]=ns[rs[is]])}return ts.prototype.streams=$util.emptyArray,ts.create=function(rs){return new ts(rs)},ts.encode=function(rs,is){if(is||(is=$Writer.create()),rs.streams!=null&&rs.streams.length)for(var os=0;os<rs.streams.length;++os)$root.SdkAudioStreamIdInfo.encode(rs.streams[os],is.uint32(10).fork()).ldelim();return is},ts.encodeDelimited=function(rs,is){return this.encode(rs,is).ldelim()},ts.decode=function(rs,is){rs instanceof $Reader||(rs=$Reader.create(rs));for(var os=is===void 0?rs.len:rs.pos+is,ss=new $root.SdkAudioStreamIdInfoFrame;rs.pos<os;){var as=rs.uint32();switch(as>>>3){case 1:{ss.streams&&ss.streams.length||(ss.streams=[]),ss.streams.push($root.SdkAudioStreamIdInfo.decode(rs,rs.uint32()));break}default:rs.skipType(as&7);break}}return ss},ts.decodeDelimited=function(rs){return rs instanceof $Reader||(rs=new $Reader(rs)),this.decode(rs,rs.uint32())},ts.verify=function(rs){if(typeof rs!="object"||rs===null)return"object expected";if(rs.streams!=null&&rs.hasOwnProperty("streams")){if(!Array.isArray(rs.streams))return"streams: array expected";for(var is=0;is<rs.streams.length;++is){var os=$root.SdkAudioStreamIdInfo.verify(rs.streams[is]);if(os)return"streams."+os}}return null},ts.fromObject=function(rs){if(rs instanceof $root.SdkAudioStreamIdInfoFrame)return rs;var is=new $root.SdkAudioStreamIdInfoFrame;if(rs.streams){if(!Array.isArray(rs.streams))throw TypeError(".SdkAudioStreamIdInfoFrame.streams: array expected");is.streams=[];for(var os=0;os<rs.streams.length;++os){if(typeof rs.streams[os]!="object")throw TypeError(".SdkAudioStreamIdInfoFrame.streams: object expected");is.streams[os]=$root.SdkAudioStreamIdInfo.fromObject(rs.streams[os])}}return is},ts.toObject=function(rs,is){is||(is={});var os={};if((is.arrays||is.defaults)&&(os.streams=[]),rs.streams&&rs.streams.length){os.streams=[];for(var ss=0;ss<rs.streams.length;++ss)os.streams[ss]=$root.SdkAudioStreamIdInfo.toObject(rs.streams[ss],is)}return os},ts.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},ts.getTypeUrl=function(rs){return rs===void 0&&(rs="type.googleapis.com"),rs+"/SdkAudioStreamIdInfoFrame"},ts}();$root.SdkAudioStreamIdInfo=function(){function ts(ns){if(ns)for(var rs=Object.keys(ns),is=0;is<rs.length;++is)ns[rs[is]]!=null&&(this[rs[is]]=ns[rs[is]])}return ts.prototype.audioStreamId=0,ts.prototype.attendeeId="",ts.prototype.muted=!1,ts.prototype.externalUserId="",ts.prototype.dropped=!1,ts.create=function(rs){return new ts(rs)},ts.encode=function(rs,is){return is||(is=$Writer.create()),rs.audioStreamId!=null&&Object.hasOwnProperty.call(rs,"audioStreamId")&&is.uint32(8).uint32(rs.audioStreamId),rs.attendeeId!=null&&Object.hasOwnProperty.call(rs,"attendeeId")&&is.uint32(18).string(rs.attendeeId),rs.muted!=null&&Object.hasOwnProperty.call(rs,"muted")&&is.uint32(24).bool(rs.muted),rs.externalUserId!=null&&Object.hasOwnProperty.call(rs,"externalUserId")&&is.uint32(34).string(rs.externalUserId),rs.dropped!=null&&Object.hasOwnProperty.call(rs,"dropped")&&is.uint32(40).bool(rs.dropped),is},ts.encodeDelimited=function(rs,is){return this.encode(rs,is).ldelim()},ts.decode=function(rs,is){rs instanceof $Reader||(rs=$Reader.create(rs));for(var os=is===void 0?rs.len:rs.pos+is,ss=new $root.SdkAudioStreamIdInfo;rs.pos<os;){var as=rs.uint32();switch(as>>>3){case 1:{ss.audioStreamId=rs.uint32();break}case 2:{ss.attendeeId=rs.string();break}case 3:{ss.muted=rs.bool();break}case 4:{ss.externalUserId=rs.string();break}case 5:{ss.dropped=rs.bool();break}default:rs.skipType(as&7);break}}return ss},ts.decodeDelimited=function(rs){return rs instanceof $Reader||(rs=new $Reader(rs)),this.decode(rs,rs.uint32())},ts.verify=function(rs){return typeof rs!="object"||rs===null?"object expected":rs.audioStreamId!=null&&rs.hasOwnProperty("audioStreamId")&&!$util.isInteger(rs.audioStreamId)?"audioStreamId: integer expected":rs.attendeeId!=null&&rs.hasOwnProperty("attendeeId")&&!$util.isString(rs.attendeeId)?"attendeeId: string expected":rs.muted!=null&&rs.hasOwnProperty("muted")&&typeof rs.muted!="boolean"?"muted: boolean expected":rs.externalUserId!=null&&rs.hasOwnProperty("externalUserId")&&!$util.isString(rs.externalUserId)?"externalUserId: string expected":rs.dropped!=null&&rs.hasOwnProperty("dropped")&&typeof rs.dropped!="boolean"?"dropped: boolean expected":null},ts.fromObject=function(rs){if(rs instanceof $root.SdkAudioStreamIdInfo)return rs;var is=new $root.SdkAudioStreamIdInfo;return rs.audioStreamId!=null&&(is.audioStreamId=rs.audioStreamId>>>0),rs.attendeeId!=null&&(is.attendeeId=String(rs.attendeeId)),rs.muted!=null&&(is.muted=!!rs.muted),rs.externalUserId!=null&&(is.externalUserId=String(rs.externalUserId)),rs.dropped!=null&&(is.dropped=!!rs.dropped),is},ts.toObject=function(rs,is){is||(is={});var os={};return is.defaults&&(os.audioStreamId=0,os.attendeeId="",os.muted=!1,os.externalUserId="",os.dropped=!1),rs.audioStreamId!=null&&rs.hasOwnProperty("audioStreamId")&&(os.audioStreamId=rs.audioStreamId),rs.attendeeId!=null&&rs.hasOwnProperty("attendeeId")&&(os.attendeeId=rs.attendeeId),rs.muted!=null&&rs.hasOwnProperty("muted")&&(os.muted=rs.muted),rs.externalUserId!=null&&rs.hasOwnProperty("externalUserId")&&(os.externalUserId=rs.externalUserId),rs.dropped!=null&&rs.hasOwnProperty("dropped")&&(os.dropped=rs.dropped),os},ts.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},ts.getTypeUrl=function(rs){return rs===void 0&&(rs="type.googleapis.com"),rs+"/SdkAudioStreamIdInfo"},ts}();$root.SdkPingPongType=function(){var ts={},ns=Object.create(ts);return ns[ts[1]="PING"]=1,ns[ts[2]="PONG"]=2,ns}();$root.SdkPingPongFrame=function(){function ts(ns){if(ns)for(var rs=Object.keys(ns),is=0;is<rs.length;++is)ns[rs[is]]!=null&&(this[rs[is]]=ns[rs[is]])}return ts.prototype.type=1,ts.prototype.pingId=0,ts.create=function(rs){return new ts(rs)},ts.encode=function(rs,is){return is||(is=$Writer.create()),is.uint32(8).int32(rs.type),is.uint32(16).uint32(rs.pingId),is},ts.encodeDelimited=function(rs,is){return this.encode(rs,is).ldelim()},ts.decode=function(rs,is){rs instanceof $Reader||(rs=$Reader.create(rs));for(var os=is===void 0?rs.len:rs.pos+is,ss=new $root.SdkPingPongFrame;rs.pos<os;){var as=rs.uint32();switch(as>>>3){case 1:{ss.type=rs.int32();break}case 2:{ss.pingId=rs.uint32();break}default:rs.skipType(as&7);break}}if(!ss.hasOwnProperty("type"))throw $util.ProtocolError("missing required 'type'",{instance:ss});if(!ss.hasOwnProperty("pingId"))throw $util.ProtocolError("missing required 'pingId'",{instance:ss});return ss},ts.decodeDelimited=function(rs){return rs instanceof $Reader||(rs=new $Reader(rs)),this.decode(rs,rs.uint32())},ts.verify=function(rs){if(typeof rs!="object"||rs===null)return"object expected";switch(rs.type){default:return"type: enum value expected";case 1:case 2:break}return $util.isInteger(rs.pingId)?null:"pingId: integer expected"},ts.fromObject=function(rs){if(rs instanceof $root.SdkPingPongFrame)return rs;var is=new $root.SdkPingPongFrame;switch(rs.type){default:if(typeof rs.type=="number"){is.type=rs.type;break}break;case"PING":case 1:is.type=1;break;case"PONG":case 2:is.type=2;break}return rs.pingId!=null&&(is.pingId=rs.pingId>>>0),is},ts.toObject=function(rs,is){is||(is={});var os={};return is.defaults&&(os.type=is.enums===String?"PING":1,os.pingId=0),rs.type!=null&&rs.hasOwnProperty("type")&&(os.type=is.enums===String?$root.SdkPingPongType[rs.type]===void 0?rs.type:$root.SdkPingPongType[rs.type]:rs.type),rs.pingId!=null&&rs.hasOwnProperty("pingId")&&(os.pingId=rs.pingId),os},ts.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},ts.getTypeUrl=function(rs){return rs===void 0&&(rs="type.googleapis.com"),rs+"/SdkPingPongFrame"},ts}();$root.SdkAudioStatusFrame=function(){function ts(ns){if(ns)for(var rs=Object.keys(ns),is=0;is<rs.length;++is)ns[rs[is]]!=null&&(this[rs[is]]=ns[rs[is]])}return ts.prototype.audioStatus=0,ts.create=function(rs){return new ts(rs)},ts.encode=function(rs,is){return is||(is=$Writer.create()),rs.audioStatus!=null&&Object.hasOwnProperty.call(rs,"audioStatus")&&is.uint32(8).uint32(rs.audioStatus),is},ts.encodeDelimited=function(rs,is){return this.encode(rs,is).ldelim()},ts.decode=function(rs,is){rs instanceof $Reader||(rs=$Reader.create(rs));for(var os=is===void 0?rs.len:rs.pos+is,ss=new $root.SdkAudioStatusFrame;rs.pos<os;){var as=rs.uint32();switch(as>>>3){case 1:{ss.audioStatus=rs.uint32();break}default:rs.skipType(as&7);break}}return ss},ts.decodeDelimited=function(rs){return rs instanceof $Reader||(rs=new $Reader(rs)),this.decode(rs,rs.uint32())},ts.verify=function(rs){return typeof rs!="object"||rs===null?"object expected":rs.audioStatus!=null&&rs.hasOwnProperty("audioStatus")&&!$util.isInteger(rs.audioStatus)?"audioStatus: integer expected":null},ts.fromObject=function(rs){if(rs instanceof $root.SdkAudioStatusFrame)return rs;var is=new $root.SdkAudioStatusFrame;return rs.audioStatus!=null&&(is.audioStatus=rs.audioStatus>>>0),is},ts.toObject=function(rs,is){is||(is={});var os={};return is.defaults&&(os.audioStatus=0),rs.audioStatus!=null&&rs.hasOwnProperty("audioStatus")&&(os.audioStatus=rs.audioStatus),os},ts.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},ts.getTypeUrl=function(rs){return rs===void 0&&(rs="type.googleapis.com"),rs+"/SdkAudioStatusFrame"},ts}();$root.SdkMetric=function(){function ts(ns){if(ns)for(var rs=Object.keys(ns),is=0;is<rs.length;++is)ns[rs[is]]!=null&&(this[rs[is]]=ns[rs[is]])}return ts.prototype.type=1,ts.prototype.value=0,ts.create=function(rs){return new ts(rs)},ts.encode=function(rs,is){return is||(is=$Writer.create()),rs.type!=null&&Object.hasOwnProperty.call(rs,"type")&&is.uint32(8).int32(rs.type),rs.value!=null&&Object.hasOwnProperty.call(rs,"value")&&is.uint32(17).double(rs.value),is},ts.encodeDelimited=function(rs,is){return this.encode(rs,is).ldelim()},ts.decode=function(rs,is){rs instanceof $Reader||(rs=$Reader.create(rs));for(var os=is===void 0?rs.len:rs.pos+is,ss=new $root.SdkMetric;rs.pos<os;){var as=rs.uint32();switch(as>>>3){case 1:{ss.type=rs.int32();break}case 2:{ss.value=rs.double();break}default:rs.skipType(as&7);break}}return ss},ts.decodeDelimited=function(rs){return rs instanceof $Reader||(rs=new $Reader(rs)),this.decode(rs,rs.uint32())},ts.verify=function(rs){if(typeof rs!="object"||rs===null)return"object expected";if(rs.type!=null&&rs.hasOwnProperty("type"))switch(rs.type){default:return"type: enum value expected";case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:case 19:case 20:case 21:case 22:case 23:case 24:case 25:case 26:case 27:case 28:case 29:case 30:case 31:case 32:case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 48:case 49:case 64:case 66:case 69:case 72:case 86:case 87:case 88:case 89:case 90:case 91:case 92:case 93:case 94:case 95:case 96:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:break}return rs.value!=null&&rs.hasOwnProperty("value")&&typeof rs.value!="number"?"value: number expected":null},ts.fromObject=function(rs){if(rs instanceof $root.SdkMetric)return rs;var is=new $root.SdkMetric;switch(rs.type){default:if(typeof rs.type=="number"){is.type=rs.type;break}break;case"VIDEO_ACTUAL_ENCODER_BITRATE":case 1:is.type=1;break;case"VIDEO_AVAILABLE_SEND_BANDWIDTH":case 2:is.type=2;break;case"VIDEO_RETRANSMIT_BITRATE":case 3:is.type=3;break;case"VIDEO_AVAILABLE_RECEIVE_BANDWIDTH":case 4:is.type=4;break;case"VIDEO_TARGET_ENCODER_BITRATE":case 5:is.type=5;break;case"VIDEO_BUCKET_DELAY_MS":case 6:is.type=6;break;case"STUN_RTT_MS":case 7:is.type=7;break;case"SOCKET_DISCARDED_PPS":case 8:is.type=8;break;case"RTC_MIC_JITTER_MS":case 9:is.type=9;break;case"RTC_MIC_PPS":case 10:is.type=10;break;case"RTC_MIC_FRACTION_PACKET_LOST_PERCENT":case 11:is.type=11;break;case"RTC_MIC_BITRATE":case 12:is.type=12;break;case"RTC_MIC_RTT_MS":case 13:is.type=13;break;case"RTC_SPK_PPS":case 14:is.type=14;break;case"RTC_SPK_FRACTION_PACKET_LOST_PERCENT":case 15:is.type=15;break;case"RTC_SPK_JITTER_MS":case 16:is.type=16;break;case"RTC_SPK_FRACTION_DECODER_LOSS_PERCENT":case 17:is.type=17;break;case"RTC_SPK_BITRATE":case 18:is.type=18;break;case"RTC_SPK_CURRENT_DELAY_MS":case 19:is.type=19;break;case"RTC_SPK_JITTER_BUFFER_MS":case 20:is.type=20;break;case"VIDEO_SENT_RTT_MS":case 21:is.type=21;break;case"VIDEO_ENCODE_USAGE_PERCENT":case 22:is.type=22;break;case"VIDEO_NACKS_RECEIVED":case 23:is.type=23;break;case"VIDEO_PLIS_RECEIVED":case 24:is.type=24;break;case"VIDEO_ENCODE_MS":case 25:is.type=25;break;case"VIDEO_INPUT_FPS":case 26:is.type=26;break;case"VIDEO_ENCODE_FPS":case 27:is.type=27;break;case"VIDEO_SENT_FPS":case 28:is.type=28;break;case"VIDEO_FIRS_RECEIVED":case 29:is.type=29;break;case"VIDEO_SENT_PPS":case 30:is.type=30;break;case"VIDEO_SENT_FRACTION_PACKET_LOST_PERCENT":case 31:is.type=31;break;case"VIDEO_SENT_BITRATE":case 32:is.type=32;break;case"VIDEO_DROPPED_FPS":case 33:is.type=33;break;case"VIDEO_TARGET_DELAY_MS":case 34:is.type=34;break;case"VIDEO_DECODE_MS":case 35:is.type=35;break;case"VIDEO_OUTPUT_FPS":case 36:is.type=36;break;case"VIDEO_RECEIVED_PPS":case 37:is.type=37;break;case"VIDEO_RECEIVED_FRACTION_PACKET_LOST_PERCENT":case 38:is.type=38;break;case"VIDEO_RENDER_DELAY_MS":case 39:is.type=39;break;case"VIDEO_RECEIVED_FPS":case 40:is.type=40;break;case"VIDEO_DECODE_FPS":case 41:is.type=41;break;case"VIDEO_NACKS_SENT":case 42:is.type=42;break;case"VIDEO_FIRS_SENT":case 43:is.type=43;break;case"VIDEO_RECEIVED_BITRATE":case 44:is.type=44;break;case"VIDEO_CURRENT_DELAY_MS":case 45:is.type=45;break;case"VIDEO_JITTER_BUFFER_MS":case 46:is.type=46;break;case"VIDEO_DISCARDED_PPS":case 47:is.type=47;break;case"VIDEO_PLIS_SENT":case 48:is.type=48;break;case"VIDEO_RECEIVED_JITTER_MS":case 49:is.type=49;break;case"VIDEO_ENCODE_HEIGHT":case 64:is.type=64;break;case"VIDEO_SENT_QP_SUM":case 66:is.type=66;break;case"VIDEO_DECODE_HEIGHT":case 69:is.type=69;break;case"VIDEO_RECEIVED_QP_SUM":case 72:is.type=72;break;case"VIDEO_ENCODE_WIDTH":case 86:is.type=86;break;case"VIDEO_DECODE_WIDTH":case 87:is.type=87;break;case"VIDEO_ENCODER_IS_HARDWARE":case 88:is.type=88;break;case"VIDEO_DECODER_IS_HARDWARE":case 89:is.type=89;break;case"VIDEO_FREEZE_COUNT":case 90:is.type=90;break;case"VIDEO_FREEZE_DURATION":case 91:is.type=91;break;case"VIDEO_PAUSE_COUNT":case 92:is.type=92;break;case"VIDEO_PAUSE_DURATION":case 93:is.type=93;break;case"VIDEO_QUALITY_REASON":case 94:is.type=94;break;case"VIDEO_PROCESSING_TIME":case 95:is.type=95;break;case"RTC_SPK_AUDIO_LEVEL":case 96:is.type=96;break;case"RTC_MIC_AUDIO_LEVEL":case 97:is.type=97;break;case"RTC_SPK_TOTAL_LOST":case 98:is.type=98;break;case"RTC_SPK_TOTAL_EXPECTED":case 99:is.type=99;break;case"RTC_SPK_TOTAL_RECOVERED_RED":case 100:is.type=100;break;case"RTC_SPK_TOTAL_RECOVERED_FEC":case 101:is.type=101;break;case"VIDEO_QUALITY_LIMITATION_DURATION_CPU":case 102:is.type=102;break;case"VIDEO_CODEC_DEGRADATION_HIGH_ENCODE_CPU":case 103:is.type=103;break;case"VIDEO_CODEC_DEGRADATION_ENCODE_FAILURE":case 104:is.type=104;break}return rs.value!=null&&(is.value=Number(rs.value)),is},ts.toObject=function(rs,is){is||(is={});var os={};return is.defaults&&(os.type=is.enums===String?"VIDEO_ACTUAL_ENCODER_BITRATE":1,os.value=0),rs.type!=null&&rs.hasOwnProperty("type")&&(os.type=is.enums===String?$root.SdkMetric.Type[rs.type]===void 0?rs.type:$root.SdkMetric.Type[rs.type]:rs.type),rs.value!=null&&rs.hasOwnProperty("value")&&(os.value=is.json&&!isFinite(rs.value)?String(rs.value):rs.value),os},ts.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},ts.getTypeUrl=function(rs){return rs===void 0&&(rs="type.googleapis.com"),rs+"/SdkMetric"},ts.Type=function(){var ns={},rs=Object.create(ns);return rs[ns[1]="VIDEO_ACTUAL_ENCODER_BITRATE"]=1,rs[ns[2]="VIDEO_AVAILABLE_SEND_BANDWIDTH"]=2,rs[ns[3]="VIDEO_RETRANSMIT_BITRATE"]=3,rs[ns[4]="VIDEO_AVAILABLE_RECEIVE_BANDWIDTH"]=4,rs[ns[5]="VIDEO_TARGET_ENCODER_BITRATE"]=5,rs[ns[6]="VIDEO_BUCKET_DELAY_MS"]=6,rs[ns[7]="STUN_RTT_MS"]=7,rs[ns[8]="SOCKET_DISCARDED_PPS"]=8,rs[ns[9]="RTC_MIC_JITTER_MS"]=9,rs[ns[10]="RTC_MIC_PPS"]=10,rs[ns[11]="RTC_MIC_FRACTION_PACKET_LOST_PERCENT"]=11,rs[ns[12]="RTC_MIC_BITRATE"]=12,rs[ns[13]="RTC_MIC_RTT_MS"]=13,rs[ns[14]="RTC_SPK_PPS"]=14,rs[ns[15]="RTC_SPK_FRACTION_PACKET_LOST_PERCENT"]=15,rs[ns[16]="RTC_SPK_JITTER_MS"]=16,rs[ns[17]="RTC_SPK_FRACTION_DECODER_LOSS_PERCENT"]=17,rs[ns[18]="RTC_SPK_BITRATE"]=18,rs[ns[19]="RTC_SPK_CURRENT_DELAY_MS"]=19,rs[ns[20]="RTC_SPK_JITTER_BUFFER_MS"]=20,rs[ns[21]="VIDEO_SENT_RTT_MS"]=21,rs[ns[22]="VIDEO_ENCODE_USAGE_PERCENT"]=22,rs[ns[23]="VIDEO_NACKS_RECEIVED"]=23,rs[ns[24]="VIDEO_PLIS_RECEIVED"]=24,rs[ns[25]="VIDEO_ENCODE_MS"]=25,rs[ns[26]="VIDEO_INPUT_FPS"]=26,rs[ns[27]="VIDEO_ENCODE_FPS"]=27,rs[ns[28]="VIDEO_SENT_FPS"]=28,rs[ns[29]="VIDEO_FIRS_RECEIVED"]=29,rs[ns[30]="VIDEO_SENT_PPS"]=30,rs[ns[31]="VIDEO_SENT_FRACTION_PACKET_LOST_PERCENT"]=31,rs[ns[32]="VIDEO_SENT_BITRATE"]=32,rs[ns[33]="VIDEO_DROPPED_FPS"]=33,rs[ns[34]="VIDEO_TARGET_DELAY_MS"]=34,rs[ns[35]="VIDEO_DECODE_MS"]=35,rs[ns[36]="VIDEO_OUTPUT_FPS"]=36,rs[ns[37]="VIDEO_RECEIVED_PPS"]=37,rs[ns[38]="VIDEO_RECEIVED_FRACTION_PACKET_LOST_PERCENT"]=38,rs[ns[39]="VIDEO_RENDER_DELAY_MS"]=39,rs[ns[40]="VIDEO_RECEIVED_FPS"]=40,rs[ns[41]="VIDEO_DECODE_FPS"]=41,rs[ns[42]="VIDEO_NACKS_SENT"]=42,rs[ns[43]="VIDEO_FIRS_SENT"]=43,rs[ns[44]="VIDEO_RECEIVED_BITRATE"]=44,rs[ns[45]="VIDEO_CURRENT_DELAY_MS"]=45,rs[ns[46]="VIDEO_JITTER_BUFFER_MS"]=46,rs[ns[47]="VIDEO_DISCARDED_PPS"]=47,rs[ns[48]="VIDEO_PLIS_SENT"]=48,rs[ns[49]="VIDEO_RECEIVED_JITTER_MS"]=49,rs[ns[64]="VIDEO_ENCODE_HEIGHT"]=64,rs[ns[66]="VIDEO_SENT_QP_SUM"]=66,rs[ns[69]="VIDEO_DECODE_HEIGHT"]=69,rs[ns[72]="VIDEO_RECEIVED_QP_SUM"]=72,rs[ns[86]="VIDEO_ENCODE_WIDTH"]=86,rs[ns[87]="VIDEO_DECODE_WIDTH"]=87,rs[ns[88]="VIDEO_ENCODER_IS_HARDWARE"]=88,rs[ns[89]="VIDEO_DECODER_IS_HARDWARE"]=89,rs[ns[90]="VIDEO_FREEZE_COUNT"]=90,rs[ns[91]="VIDEO_FREEZE_DURATION"]=91,rs[ns[92]="VIDEO_PAUSE_COUNT"]=92,rs[ns[93]="VIDEO_PAUSE_DURATION"]=93,rs[ns[94]="VIDEO_QUALITY_REASON"]=94,rs[ns[95]="VIDEO_PROCESSING_TIME"]=95,rs[ns[96]="RTC_SPK_AUDIO_LEVEL"]=96,rs[ns[97]="RTC_MIC_AUDIO_LEVEL"]=97,rs[ns[98]="RTC_SPK_TOTAL_LOST"]=98,rs[ns[99]="RTC_SPK_TOTAL_EXPECTED"]=99,rs[ns[100]="RTC_SPK_TOTAL_RECOVERED_RED"]=100,rs[ns[101]="RTC_SPK_TOTAL_RECOVERED_FEC"]=101,rs[ns[102]="VIDEO_QUALITY_LIMITATION_DURATION_CPU"]=102,rs[ns[103]="VIDEO_CODEC_DEGRADATION_HIGH_ENCODE_CPU"]=103,rs[ns[104]="VIDEO_CODEC_DEGRADATION_ENCODE_FAILURE"]=104,rs}(),ts}();$root.SdkStreamMetricFrame=function(){function ts(ns){if(this.metrics=[],this.dimensions=[],ns)for(var rs=Object.keys(ns),is=0;is<rs.length;++is)ns[rs[is]]!=null&&(this[rs[is]]=ns[rs[is]])}return ts.prototype.streamId=0,ts.prototype.groupId=0,ts.prototype.metrics=$util.emptyArray,ts.prototype.dimensions=$util.emptyArray,ts.create=function(rs){return new ts(rs)},ts.encode=function(rs,is){if(is||(is=$Writer.create()),rs.streamId!=null&&Object.hasOwnProperty.call(rs,"streamId")&&is.uint32(24).uint32(rs.streamId),rs.groupId!=null&&Object.hasOwnProperty.call(rs,"groupId")&&is.uint32(32).uint32(rs.groupId),rs.metrics!=null&&rs.metrics.length)for(var os=0;os<rs.metrics.length;++os)$root.SdkMetric.encode(rs.metrics[os],is.uint32(42).fork()).ldelim();if(rs.dimensions!=null&&rs.dimensions.length)for(var os=0;os<rs.dimensions.length;++os)$root.SdkStreamDimension.encode(rs.dimensions[os],is.uint32(50).fork()).ldelim();return is},ts.encodeDelimited=function(rs,is){return this.encode(rs,is).ldelim()},ts.decode=function(rs,is){rs instanceof $Reader||(rs=$Reader.create(rs));for(var os=is===void 0?rs.len:rs.pos+is,ss=new $root.SdkStreamMetricFrame;rs.pos<os;){var as=rs.uint32();switch(as>>>3){case 3:{ss.streamId=rs.uint32();break}case 4:{ss.groupId=rs.uint32();break}case 5:{ss.metrics&&ss.metrics.length||(ss.metrics=[]),ss.metrics.push($root.SdkMetric.decode(rs,rs.uint32()));break}case 6:{ss.dimensions&&ss.dimensions.length||(ss.dimensions=[]),ss.dimensions.push($root.SdkStreamDimension.decode(rs,rs.uint32()));break}default:rs.skipType(as&7);break}}return ss},ts.decodeDelimited=function(rs){return rs instanceof $Reader||(rs=new $Reader(rs)),this.decode(rs,rs.uint32())},ts.verify=function(rs){if(typeof rs!="object"||rs===null)return"object expected";if(rs.streamId!=null&&rs.hasOwnProperty("streamId")&&!$util.isInteger(rs.streamId))return"streamId: integer expected";if(rs.groupId!=null&&rs.hasOwnProperty("groupId")&&!$util.isInteger(rs.groupId))return"groupId: integer expected";if(rs.metrics!=null&&rs.hasOwnProperty("metrics")){if(!Array.isArray(rs.metrics))return"metrics: array expected";for(var is=0;is<rs.metrics.length;++is){var os=$root.SdkMetric.verify(rs.metrics[is]);if(os)return"metrics."+os}}if(rs.dimensions!=null&&rs.hasOwnProperty("dimensions")){if(!Array.isArray(rs.dimensions))return"dimensions: array expected";for(var is=0;is<rs.dimensions.length;++is){var os=$root.SdkStreamDimension.verify(rs.dimensions[is]);if(os)return"dimensions."+os}}return null},ts.fromObject=function(rs){if(rs instanceof $root.SdkStreamMetricFrame)return rs;var is=new $root.SdkStreamMetricFrame;if(rs.streamId!=null&&(is.streamId=rs.streamId>>>0),rs.groupId!=null&&(is.groupId=rs.groupId>>>0),rs.metrics){if(!Array.isArray(rs.metrics))throw TypeError(".SdkStreamMetricFrame.metrics: array expected");is.metrics=[];for(var os=0;os<rs.metrics.length;++os){if(typeof rs.metrics[os]!="object")throw TypeError(".SdkStreamMetricFrame.metrics: object expected");is.metrics[os]=$root.SdkMetric.fromObject(rs.metrics[os])}}if(rs.dimensions){if(!Array.isArray(rs.dimensions))throw TypeError(".SdkStreamMetricFrame.dimensions: array expected");is.dimensions=[];for(var os=0;os<rs.dimensions.length;++os){if(typeof rs.dimensions[os]!="object")throw TypeError(".SdkStreamMetricFrame.dimensions: object expected");is.dimensions[os]=$root.SdkStreamDimension.fromObject(rs.dimensions[os])}}return is},ts.toObject=function(rs,is){is||(is={});var os={};if((is.arrays||is.defaults)&&(os.metrics=[],os.dimensions=[]),is.defaults&&(os.streamId=0,os.groupId=0),rs.streamId!=null&&rs.hasOwnProperty("streamId")&&(os.streamId=rs.streamId),rs.groupId!=null&&rs.hasOwnProperty("groupId")&&(os.groupId=rs.groupId),rs.metrics&&rs.metrics.length){os.metrics=[];for(var ss=0;ss<rs.metrics.length;++ss)os.metrics[ss]=$root.SdkMetric.toObject(rs.metrics[ss],is)}if(rs.dimensions&&rs.dimensions.length){os.dimensions=[];for(var ss=0;ss<rs.dimensions.length;++ss)os.dimensions[ss]=$root.SdkStreamDimension.toObject(rs.dimensions[ss],is)}return os},ts.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},ts.getTypeUrl=function(rs){return rs===void 0&&(rs="type.googleapis.com"),rs+"/SdkStreamMetricFrame"},ts}();$root.SdkClientMetricFrame=function(){function ts(ns){if(this.globalMetrics=[],this.streamMetricFrames=[],ns)for(var rs=Object.keys(ns),is=0;is<rs.length;++is)ns[rs[is]]!=null&&(this[rs[is]]=ns[rs[is]])}return ts.prototype.globalMetrics=$util.emptyArray,ts.prototype.streamMetricFrames=$util.emptyArray,ts.create=function(rs){return new ts(rs)},ts.encode=function(rs,is){if(is||(is=$Writer.create()),rs.globalMetrics!=null&&rs.globalMetrics.length)for(var os=0;os<rs.globalMetrics.length;++os)$root.SdkMetric.encode(rs.globalMetrics[os],is.uint32(10).fork()).ldelim();if(rs.streamMetricFrames!=null&&rs.streamMetricFrames.length)for(var os=0;os<rs.streamMetricFrames.length;++os)$root.SdkStreamMetricFrame.encode(rs.streamMetricFrames[os],is.uint32(18).fork()).ldelim();return is},ts.encodeDelimited=function(rs,is){return this.encode(rs,is).ldelim()},ts.decode=function(rs,is){rs instanceof $Reader||(rs=$Reader.create(rs));for(var os=is===void 0?rs.len:rs.pos+is,ss=new $root.SdkClientMetricFrame;rs.pos<os;){var as=rs.uint32();switch(as>>>3){case 1:{ss.globalMetrics&&ss.globalMetrics.length||(ss.globalMetrics=[]),ss.globalMetrics.push($root.SdkMetric.decode(rs,rs.uint32()));break}case 2:{ss.streamMetricFrames&&ss.streamMetricFrames.length||(ss.streamMetricFrames=[]),ss.streamMetricFrames.push($root.SdkStreamMetricFrame.decode(rs,rs.uint32()));break}default:rs.skipType(as&7);break}}return ss},ts.decodeDelimited=function(rs){return rs instanceof $Reader||(rs=new $Reader(rs)),this.decode(rs,rs.uint32())},ts.verify=function(rs){if(typeof rs!="object"||rs===null)return"object expected";if(rs.globalMetrics!=null&&rs.hasOwnProperty("globalMetrics")){if(!Array.isArray(rs.globalMetrics))return"globalMetrics: array expected";for(var is=0;is<rs.globalMetrics.length;++is){var os=$root.SdkMetric.verify(rs.globalMetrics[is]);if(os)return"globalMetrics."+os}}if(rs.streamMetricFrames!=null&&rs.hasOwnProperty("streamMetricFrames")){if(!Array.isArray(rs.streamMetricFrames))return"streamMetricFrames: array expected";for(var is=0;is<rs.streamMetricFrames.length;++is){var os=$root.SdkStreamMetricFrame.verify(rs.streamMetricFrames[is]);if(os)return"streamMetricFrames."+os}}return null},ts.fromObject=function(rs){if(rs instanceof $root.SdkClientMetricFrame)return rs;var is=new $root.SdkClientMetricFrame;if(rs.globalMetrics){if(!Array.isArray(rs.globalMetrics))throw TypeError(".SdkClientMetricFrame.globalMetrics: array expected");is.globalMetrics=[];for(var os=0;os<rs.globalMetrics.length;++os){if(typeof rs.globalMetrics[os]!="object")throw TypeError(".SdkClientMetricFrame.globalMetrics: object expected");is.globalMetrics[os]=$root.SdkMetric.fromObject(rs.globalMetrics[os])}}if(rs.streamMetricFrames){if(!Array.isArray(rs.streamMetricFrames))throw TypeError(".SdkClientMetricFrame.streamMetricFrames: array expected");is.streamMetricFrames=[];for(var os=0;os<rs.streamMetricFrames.length;++os){if(typeof rs.streamMetricFrames[os]!="object")throw TypeError(".SdkClientMetricFrame.streamMetricFrames: object expected");is.streamMetricFrames[os]=$root.SdkStreamMetricFrame.fromObject(rs.streamMetricFrames[os])}}return is},ts.toObject=function(rs,is){is||(is={});var os={};if((is.arrays||is.defaults)&&(os.globalMetrics=[],os.streamMetricFrames=[]),rs.globalMetrics&&rs.globalMetrics.length){os.globalMetrics=[];for(var ss=0;ss<rs.globalMetrics.length;++ss)os.globalMetrics[ss]=$root.SdkMetric.toObject(rs.globalMetrics[ss],is)}if(rs.streamMetricFrames&&rs.streamMetricFrames.length){os.streamMetricFrames=[];for(var ss=0;ss<rs.streamMetricFrames.length;++ss)os.streamMetricFrames[ss]=$root.SdkStreamMetricFrame.toObject(rs.streamMetricFrames[ss],is)}return os},ts.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},ts.getTypeUrl=function(rs){return rs===void 0&&(rs="type.googleapis.com"),rs+"/SdkClientMetricFrame"},ts}();$root.SdkStreamDimension=function(){function ts(ns){if(ns)for(var rs=Object.keys(ns),is=0;is<rs.length;++is)ns[rs[is]]!=null&&(this[rs[is]]=ns[rs[is]])}return ts.prototype.type=1,ts.prototype.value=null,ts.create=function(rs){return new ts(rs)},ts.encode=function(rs,is){return is||(is=$Writer.create()),rs.type!=null&&Object.hasOwnProperty.call(rs,"type")&&is.uint32(8).int32(rs.type),rs.value!=null&&Object.hasOwnProperty.call(rs,"value")&&$root.SdkDimensionValue.encode(rs.value,is.uint32(18).fork()).ldelim(),is},ts.encodeDelimited=function(rs,is){return this.encode(rs,is).ldelim()},ts.decode=function(rs,is){rs instanceof $Reader||(rs=$Reader.create(rs));for(var os=is===void 0?rs.len:rs.pos+is,ss=new $root.SdkStreamDimension;rs.pos<os;){var as=rs.uint32();switch(as>>>3){case 1:{ss.type=rs.int32();break}case 2:{ss.value=$root.SdkDimensionValue.decode(rs,rs.uint32());break}default:rs.skipType(as&7);break}}return ss},ts.decodeDelimited=function(rs){return rs instanceof $Reader||(rs=new $Reader(rs)),this.decode(rs,rs.uint32())},ts.verify=function(rs){if(typeof rs!="object"||rs===null)return"object expected";if(rs.type!=null&&rs.hasOwnProperty("type"))switch(rs.type){default:return"type: enum value expected";case 1:case 2:break}if(rs.value!=null&&rs.hasOwnProperty("value")){var is=$root.SdkDimensionValue.verify(rs.value);if(is)return"value."+is}return null},ts.fromObject=function(rs){if(rs instanceof $root.SdkStreamDimension)return rs;var is=new $root.SdkStreamDimension;switch(rs.type){default:if(typeof rs.type=="number"){is.type=rs.type;break}break;case"VIDEO_ENCODER_NAME":case 1:is.type=1;break;case"VIDEO_DECODER_NAME":case 2:is.type=2;break}if(rs.value!=null){if(typeof rs.value!="object")throw TypeError(".SdkStreamDimension.value: object expected");is.value=$root.SdkDimensionValue.fromObject(rs.value)}return is},ts.toObject=function(rs,is){is||(is={});var os={};return is.defaults&&(os.type=is.enums===String?"VIDEO_ENCODER_NAME":1,os.value=null),rs.type!=null&&rs.hasOwnProperty("type")&&(os.type=is.enums===String?$root.SdkStreamDimension.Type[rs.type]===void 0?rs.type:$root.SdkStreamDimension.Type[rs.type]:rs.type),rs.value!=null&&rs.hasOwnProperty("value")&&(os.value=$root.SdkDimensionValue.toObject(rs.value,is)),os},ts.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},ts.getTypeUrl=function(rs){return rs===void 0&&(rs="type.googleapis.com"),rs+"/SdkStreamDimension"},ts.Type=function(){var ns={},rs=Object.create(ns);return rs[ns[1]="VIDEO_ENCODER_NAME"]=1,rs[ns[2]="VIDEO_DECODER_NAME"]=2,rs}(),ts}();$root.SdkDimensionValue=function(){function ts(ns){if(ns)for(var rs=Object.keys(ns),is=0;is<rs.length;++is)ns[rs[is]]!=null&&(this[rs[is]]=ns[rs[is]])}return ts.prototype.stringValue="",ts.prototype.boolValue=!1,ts.prototype.uintValue=$util.Long?$util.Long.fromBits(0,0,!0):0,ts.create=function(rs){return new ts(rs)},ts.encode=function(rs,is){return is||(is=$Writer.create()),rs.stringValue!=null&&Object.hasOwnProperty.call(rs,"stringValue")&&is.uint32(10).string(rs.stringValue),rs.boolValue!=null&&Object.hasOwnProperty.call(rs,"boolValue")&&is.uint32(16).bool(rs.boolValue),rs.uintValue!=null&&Object.hasOwnProperty.call(rs,"uintValue")&&is.uint32(24).uint64(rs.uintValue),is},ts.encodeDelimited=function(rs,is){return this.encode(rs,is).ldelim()},ts.decode=function(rs,is){rs instanceof $Reader||(rs=$Reader.create(rs));for(var os=is===void 0?rs.len:rs.pos+is,ss=new $root.SdkDimensionValue;rs.pos<os;){var as=rs.uint32();switch(as>>>3){case 1:{ss.stringValue=rs.string();break}case 2:{ss.boolValue=rs.bool();break}case 3:{ss.uintValue=rs.uint64();break}default:rs.skipType(as&7);break}}return ss},ts.decodeDelimited=function(rs){return rs instanceof $Reader||(rs=new $Reader(rs)),this.decode(rs,rs.uint32())},ts.verify=function(rs){return typeof rs!="object"||rs===null?"object expected":rs.stringValue!=null&&rs.hasOwnProperty("stringValue")&&!$util.isString(rs.stringValue)?"stringValue: string expected":rs.boolValue!=null&&rs.hasOwnProperty("boolValue")&&typeof rs.boolValue!="boolean"?"boolValue: boolean expected":rs.uintValue!=null&&rs.hasOwnProperty("uintValue")&&!$util.isInteger(rs.uintValue)&&!(rs.uintValue&&$util.isInteger(rs.uintValue.low)&&$util.isInteger(rs.uintValue.high))?"uintValue: integer|Long expected":null},ts.fromObject=function(rs){if(rs instanceof $root.SdkDimensionValue)return rs;var is=new $root.SdkDimensionValue;return rs.stringValue!=null&&(is.stringValue=String(rs.stringValue)),rs.boolValue!=null&&(is.boolValue=!!rs.boolValue),rs.uintValue!=null&&($util.Long?(is.uintValue=$util.Long.fromValue(rs.uintValue)).unsigned=!0:typeof rs.uintValue=="string"?is.uintValue=parseInt(rs.uintValue,10):typeof rs.uintValue=="number"?is.uintValue=rs.uintValue:typeof rs.uintValue=="object"&&(is.uintValue=new $util.LongBits(rs.uintValue.low>>>0,rs.uintValue.high>>>0).toNumber(!0))),is},ts.toObject=function(rs,is){is||(is={});var os={};if(is.defaults)if(os.stringValue="",os.boolValue=!1,$util.Long){var ss=new $util.Long(0,0,!0);os.uintValue=is.longs===String?ss.toString():is.longs===Number?ss.toNumber():ss}else os.uintValue=is.longs===String?"0":0;return rs.stringValue!=null&&rs.hasOwnProperty("stringValue")&&(os.stringValue=rs.stringValue),rs.boolValue!=null&&rs.hasOwnProperty("boolValue")&&(os.boolValue=rs.boolValue),rs.uintValue!=null&&rs.hasOwnProperty("uintValue")&&(typeof rs.uintValue=="number"?os.uintValue=is.longs===String?String(rs.uintValue):rs.uintValue:os.uintValue=is.longs===String?$util.Long.prototype.toString.call(rs.uintValue):is.longs===Number?new $util.LongBits(rs.uintValue.low>>>0,rs.uintValue.high>>>0).toNumber(!0):rs.uintValue),os},ts.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},ts.getTypeUrl=function(rs){return rs===void 0&&(rs="type.googleapis.com"),rs+"/SdkDimensionValue"},ts}();$root.SdkDataMessageFrame=function(){function ts(ns){if(this.messages=[],ns)for(var rs=Object.keys(ns),is=0;is<rs.length;++is)ns[rs[is]]!=null&&(this[rs[is]]=ns[rs[is]])}return ts.prototype.messages=$util.emptyArray,ts.create=function(rs){return new ts(rs)},ts.encode=function(rs,is){if(is||(is=$Writer.create()),rs.messages!=null&&rs.messages.length)for(var os=0;os<rs.messages.length;++os)$root.SdkDataMessagePayload.encode(rs.messages[os],is.uint32(10).fork()).ldelim();return is},ts.encodeDelimited=function(rs,is){return this.encode(rs,is).ldelim()},ts.decode=function(rs,is){rs instanceof $Reader||(rs=$Reader.create(rs));for(var os=is===void 0?rs.len:rs.pos+is,ss=new $root.SdkDataMessageFrame;rs.pos<os;){var as=rs.uint32();switch(as>>>3){case 1:{ss.messages&&ss.messages.length||(ss.messages=[]),ss.messages.push($root.SdkDataMessagePayload.decode(rs,rs.uint32()));break}default:rs.skipType(as&7);break}}return ss},ts.decodeDelimited=function(rs){return rs instanceof $Reader||(rs=new $Reader(rs)),this.decode(rs,rs.uint32())},ts.verify=function(rs){if(typeof rs!="object"||rs===null)return"object expected";if(rs.messages!=null&&rs.hasOwnProperty("messages")){if(!Array.isArray(rs.messages))return"messages: array expected";for(var is=0;is<rs.messages.length;++is){var os=$root.SdkDataMessagePayload.verify(rs.messages[is]);if(os)return"messages."+os}}return null},ts.fromObject=function(rs){if(rs instanceof $root.SdkDataMessageFrame)return rs;var is=new $root.SdkDataMessageFrame;if(rs.messages){if(!Array.isArray(rs.messages))throw TypeError(".SdkDataMessageFrame.messages: array expected");is.messages=[];for(var os=0;os<rs.messages.length;++os){if(typeof rs.messages[os]!="object")throw TypeError(".SdkDataMessageFrame.messages: object expected");is.messages[os]=$root.SdkDataMessagePayload.fromObject(rs.messages[os])}}return is},ts.toObject=function(rs,is){is||(is={});var os={};if((is.arrays||is.defaults)&&(os.messages=[]),rs.messages&&rs.messages.length){os.messages=[];for(var ss=0;ss<rs.messages.length;++ss)os.messages[ss]=$root.SdkDataMessagePayload.toObject(rs.messages[ss],is)}return os},ts.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},ts.getTypeUrl=function(rs){return rs===void 0&&(rs="type.googleapis.com"),rs+"/SdkDataMessageFrame"},ts}();$root.SdkDataMessagePayload=function(){function ts(ns){if(ns)for(var rs=Object.keys(ns),is=0;is<rs.length;++is)ns[rs[is]]!=null&&(this[rs[is]]=ns[rs[is]])}return ts.prototype.topic="",ts.prototype.data=$util.newBuffer([]),ts.prototype.lifetimeMs=0,ts.prototype.senderAttendeeId="",ts.prototype.ingestTimeNs=$util.Long?$util.Long.fromBits(0,0,!1):0,ts.prototype.senderExternalUserId="",ts.create=function(rs){return new ts(rs)},ts.encode=function(rs,is){return is||(is=$Writer.create()),rs.topic!=null&&Object.hasOwnProperty.call(rs,"topic")&&is.uint32(10).string(rs.topic),rs.data!=null&&Object.hasOwnProperty.call(rs,"data")&&is.uint32(18).bytes(rs.data),rs.lifetimeMs!=null&&Object.hasOwnProperty.call(rs,"lifetimeMs")&&is.uint32(24).uint32(rs.lifetimeMs),rs.senderAttendeeId!=null&&Object.hasOwnProperty.call(rs,"senderAttendeeId")&&is.uint32(34).string(rs.senderAttendeeId),rs.ingestTimeNs!=null&&Object.hasOwnProperty.call(rs,"ingestTimeNs")&&is.uint32(40).int64(rs.ingestTimeNs),rs.senderExternalUserId!=null&&Object.hasOwnProperty.call(rs,"senderExternalUserId")&&is.uint32(50).string(rs.senderExternalUserId),is},ts.encodeDelimited=function(rs,is){return this.encode(rs,is).ldelim()},ts.decode=function(rs,is){rs instanceof $Reader||(rs=$Reader.create(rs));for(var os=is===void 0?rs.len:rs.pos+is,ss=new $root.SdkDataMessagePayload;rs.pos<os;){var as=rs.uint32();switch(as>>>3){case 1:{ss.topic=rs.string();break}case 2:{ss.data=rs.bytes();break}case 3:{ss.lifetimeMs=rs.uint32();break}case 4:{ss.senderAttendeeId=rs.string();break}case 5:{ss.ingestTimeNs=rs.int64();break}case 6:{ss.senderExternalUserId=rs.string();break}default:rs.skipType(as&7);break}}return ss},ts.decodeDelimited=function(rs){return rs instanceof $Reader||(rs=new $Reader(rs)),this.decode(rs,rs.uint32())},ts.verify=function(rs){return typeof rs!="object"||rs===null?"object expected":rs.topic!=null&&rs.hasOwnProperty("topic")&&!$util.isString(rs.topic)?"topic: string expected":rs.data!=null&&rs.hasOwnProperty("data")&&!(rs.data&&typeof rs.data.length=="number"||$util.isString(rs.data))?"data: buffer expected":rs.lifetimeMs!=null&&rs.hasOwnProperty("lifetimeMs")&&!$util.isInteger(rs.lifetimeMs)?"lifetimeMs: integer expected":rs.senderAttendeeId!=null&&rs.hasOwnProperty("senderAttendeeId")&&!$util.isString(rs.senderAttendeeId)?"senderAttendeeId: string expected":rs.ingestTimeNs!=null&&rs.hasOwnProperty("ingestTimeNs")&&!$util.isInteger(rs.ingestTimeNs)&&!(rs.ingestTimeNs&&$util.isInteger(rs.ingestTimeNs.low)&&$util.isInteger(rs.ingestTimeNs.high))?"ingestTimeNs: integer|Long expected":rs.senderExternalUserId!=null&&rs.hasOwnProperty("senderExternalUserId")&&!$util.isString(rs.senderExternalUserId)?"senderExternalUserId: string expected":null},ts.fromObject=function(rs){if(rs instanceof $root.SdkDataMessagePayload)return rs;var is=new $root.SdkDataMessagePayload;return rs.topic!=null&&(is.topic=String(rs.topic)),rs.data!=null&&(typeof rs.data=="string"?$util.base64.decode(rs.data,is.data=$util.newBuffer($util.base64.length(rs.data)),0):rs.data.length>=0&&(is.data=rs.data)),rs.lifetimeMs!=null&&(is.lifetimeMs=rs.lifetimeMs>>>0),rs.senderAttendeeId!=null&&(is.senderAttendeeId=String(rs.senderAttendeeId)),rs.ingestTimeNs!=null&&($util.Long?(is.ingestTimeNs=$util.Long.fromValue(rs.ingestTimeNs)).unsigned=!1:typeof rs.ingestTimeNs=="string"?is.ingestTimeNs=parseInt(rs.ingestTimeNs,10):typeof rs.ingestTimeNs=="number"?is.ingestTimeNs=rs.ingestTimeNs:typeof rs.ingestTimeNs=="object"&&(is.ingestTimeNs=new $util.LongBits(rs.ingestTimeNs.low>>>0,rs.ingestTimeNs.high>>>0).toNumber())),rs.senderExternalUserId!=null&&(is.senderExternalUserId=String(rs.senderExternalUserId)),is},ts.toObject=function(rs,is){is||(is={});var os={};if(is.defaults){if(os.topic="",is.bytes===String?os.data="":(os.data=[],is.bytes!==Array&&(os.data=$util.newBuffer(os.data))),os.lifetimeMs=0,os.senderAttendeeId="",$util.Long){var ss=new $util.Long(0,0,!1);os.ingestTimeNs=is.longs===String?ss.toString():is.longs===Number?ss.toNumber():ss}else os.ingestTimeNs=is.longs===String?"0":0;os.senderExternalUserId=""}return rs.topic!=null&&rs.hasOwnProperty("topic")&&(os.topic=rs.topic),rs.data!=null&&rs.hasOwnProperty("data")&&(os.data=is.bytes===String?$util.base64.encode(rs.data,0,rs.data.length):is.bytes===Array?Array.prototype.slice.call(rs.data):rs.data),rs.lifetimeMs!=null&&rs.hasOwnProperty("lifetimeMs")&&(os.lifetimeMs=rs.lifetimeMs),rs.senderAttendeeId!=null&&rs.hasOwnProperty("senderAttendeeId")&&(os.senderAttendeeId=rs.senderAttendeeId),rs.ingestTimeNs!=null&&rs.hasOwnProperty("ingestTimeNs")&&(typeof rs.ingestTimeNs=="number"?os.ingestTimeNs=is.longs===String?String(rs.ingestTimeNs):rs.ingestTimeNs:os.ingestTimeNs=is.longs===String?$util.Long.prototype.toString.call(rs.ingestTimeNs):is.longs===Number?new $util.LongBits(rs.ingestTimeNs.low>>>0,rs.ingestTimeNs.high>>>0).toNumber():rs.ingestTimeNs),rs.senderExternalUserId!=null&&rs.hasOwnProperty("senderExternalUserId")&&(os.senderExternalUserId=rs.senderExternalUserId),os},ts.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},ts.getTypeUrl=function(rs){return rs===void 0&&(rs="type.googleapis.com"),rs+"/SdkDataMessagePayload"},ts}();$root.SdkTurnCredentials=function(){function ts(ns){if(this.uris=[],ns)for(var rs=Object.keys(ns),is=0;is<rs.length;++is)ns[rs[is]]!=null&&(this[rs[is]]=ns[rs[is]])}return ts.prototype.username="",ts.prototype.password="",ts.prototype.ttl=0,ts.prototype.uris=$util.emptyArray,ts.create=function(rs){return new ts(rs)},ts.encode=function(rs,is){if(is||(is=$Writer.create()),rs.username!=null&&Object.hasOwnProperty.call(rs,"username")&&is.uint32(10).string(rs.username),rs.password!=null&&Object.hasOwnProperty.call(rs,"password")&&is.uint32(18).string(rs.password),rs.ttl!=null&&Object.hasOwnProperty.call(rs,"ttl")&&is.uint32(24).uint32(rs.ttl),rs.uris!=null&&rs.uris.length)for(var os=0;os<rs.uris.length;++os)is.uint32(34).string(rs.uris[os]);return is},ts.encodeDelimited=function(rs,is){return this.encode(rs,is).ldelim()},ts.decode=function(rs,is){rs instanceof $Reader||(rs=$Reader.create(rs));for(var os=is===void 0?rs.len:rs.pos+is,ss=new $root.SdkTurnCredentials;rs.pos<os;){var as=rs.uint32();switch(as>>>3){case 1:{ss.username=rs.string();break}case 2:{ss.password=rs.string();break}case 3:{ss.ttl=rs.uint32();break}case 4:{ss.uris&&ss.uris.length||(ss.uris=[]),ss.uris.push(rs.string());break}default:rs.skipType(as&7);break}}return ss},ts.decodeDelimited=function(rs){return rs instanceof $Reader||(rs=new $Reader(rs)),this.decode(rs,rs.uint32())},ts.verify=function(rs){if(typeof rs!="object"||rs===null)return"object expected";if(rs.username!=null&&rs.hasOwnProperty("username")&&!$util.isString(rs.username))return"username: string expected";if(rs.password!=null&&rs.hasOwnProperty("password")&&!$util.isString(rs.password))return"password: string expected";if(rs.ttl!=null&&rs.hasOwnProperty("ttl")&&!$util.isInteger(rs.ttl))return"ttl: integer expected";if(rs.uris!=null&&rs.hasOwnProperty("uris")){if(!Array.isArray(rs.uris))return"uris: array expected";for(var is=0;is<rs.uris.length;++is)if(!$util.isString(rs.uris[is]))return"uris: string[] expected"}return null},ts.fromObject=function(rs){if(rs instanceof $root.SdkTurnCredentials)return rs;var is=new $root.SdkTurnCredentials;if(rs.username!=null&&(is.username=String(rs.username)),rs.password!=null&&(is.password=String(rs.password)),rs.ttl!=null&&(is.ttl=rs.ttl>>>0),rs.uris){if(!Array.isArray(rs.uris))throw TypeError(".SdkTurnCredentials.uris: array expected");is.uris=[];for(var os=0;os<rs.uris.length;++os)is.uris[os]=String(rs.uris[os])}return is},ts.toObject=function(rs,is){is||(is={});var os={};if((is.arrays||is.defaults)&&(os.uris=[]),is.defaults&&(os.username="",os.password="",os.ttl=0),rs.username!=null&&rs.hasOwnProperty("username")&&(os.username=rs.username),rs.password!=null&&rs.hasOwnProperty("password")&&(os.password=rs.password),rs.ttl!=null&&rs.hasOwnProperty("ttl")&&(os.ttl=rs.ttl),rs.uris&&rs.uris.length){os.uris=[];for(var ss=0;ss<rs.uris.length;++ss)os.uris[ss]=rs.uris[ss]}return os},ts.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},ts.getTypeUrl=function(rs){return rs===void 0&&(rs="type.googleapis.com"),rs+"/SdkTurnCredentials"},ts}();$root.SdkTranscriptItem=function(){function ts(ns){if(ns)for(var rs=Object.keys(ns),is=0;is<rs.length;++is)ns[rs[is]]!=null&&(this[rs[is]]=ns[rs[is]])}return ts.prototype.content="",ts.prototype.endTime=$util.Long?$util.Long.fromBits(0,0,!1):0,ts.prototype.speakerAttendeeId="",ts.prototype.speakerExternalUserId="",ts.prototype.startTime=$util.Long?$util.Long.fromBits(0,0,!1):0,ts.prototype.type=1,ts.prototype.vocabularyFilterMatch=!1,ts.prototype.confidence=0,ts.prototype.stable=!1,ts.create=function(rs){return new ts(rs)},ts.encode=function(rs,is){return is||(is=$Writer.create()),rs.content!=null&&Object.hasOwnProperty.call(rs,"content")&&is.uint32(10).string(rs.content),rs.endTime!=null&&Object.hasOwnProperty.call(rs,"endTime")&&is.uint32(16).int64(rs.endTime),rs.speakerAttendeeId!=null&&Object.hasOwnProperty.call(rs,"speakerAttendeeId")&&is.uint32(26).string(rs.speakerAttendeeId),rs.speakerExternalUserId!=null&&Object.hasOwnProperty.call(rs,"speakerExternalUserId")&&is.uint32(34).string(rs.speakerExternalUserId),rs.startTime!=null&&Object.hasOwnProperty.call(rs,"startTime")&&is.uint32(40).int64(rs.startTime),rs.type!=null&&Object.hasOwnProperty.call(rs,"type")&&is.uint32(48).int32(rs.type),rs.vocabularyFilterMatch!=null&&Object.hasOwnProperty.call(rs,"vocabularyFilterMatch")&&is.uint32(56).bool(rs.vocabularyFilterMatch),rs.confidence!=null&&Object.hasOwnProperty.call(rs,"confidence")&&is.uint32(65).double(rs.confidence),rs.stable!=null&&Object.hasOwnProperty.call(rs,"stable")&&is.uint32(72).bool(rs.stable),is},ts.encodeDelimited=function(rs,is){return this.encode(rs,is).ldelim()},ts.decode=function(rs,is){rs instanceof $Reader||(rs=$Reader.create(rs));for(var os=is===void 0?rs.len:rs.pos+is,ss=new $root.SdkTranscriptItem;rs.pos<os;){var as=rs.uint32();switch(as>>>3){case 1:{ss.content=rs.string();break}case 2:{ss.endTime=rs.int64();break}case 3:{ss.speakerAttendeeId=rs.string();break}case 4:{ss.speakerExternalUserId=rs.string();break}case 5:{ss.startTime=rs.int64();break}case 6:{ss.type=rs.int32();break}case 7:{ss.vocabularyFilterMatch=rs.bool();break}case 8:{ss.confidence=rs.double();break}case 9:{ss.stable=rs.bool();break}default:rs.skipType(as&7);break}}return ss},ts.decodeDelimited=function(rs){return rs instanceof $Reader||(rs=new $Reader(rs)),this.decode(rs,rs.uint32())},ts.verify=function(rs){if(typeof rs!="object"||rs===null)return"object expected";if(rs.content!=null&&rs.hasOwnProperty("content")&&!$util.isString(rs.content))return"content: string expected";if(rs.endTime!=null&&rs.hasOwnProperty("endTime")&&!$util.isInteger(rs.endTime)&&!(rs.endTime&&$util.isInteger(rs.endTime.low)&&$util.isInteger(rs.endTime.high)))return"endTime: integer|Long expected";if(rs.speakerAttendeeId!=null&&rs.hasOwnProperty("speakerAttendeeId")&&!$util.isString(rs.speakerAttendeeId))return"speakerAttendeeId: string expected";if(rs.speakerExternalUserId!=null&&rs.hasOwnProperty("speakerExternalUserId")&&!$util.isString(rs.speakerExternalUserId))return"speakerExternalUserId: string expected";if(rs.startTime!=null&&rs.hasOwnProperty("startTime")&&!$util.isInteger(rs.startTime)&&!(rs.startTime&&$util.isInteger(rs.startTime.low)&&$util.isInteger(rs.startTime.high)))return"startTime: integer|Long expected";if(rs.type!=null&&rs.hasOwnProperty("type"))switch(rs.type){default:return"type: enum value expected";case 1:case 2:break}return rs.vocabularyFilterMatch!=null&&rs.hasOwnProperty("vocabularyFilterMatch")&&typeof rs.vocabularyFilterMatch!="boolean"?"vocabularyFilterMatch: boolean expected":rs.confidence!=null&&rs.hasOwnProperty("confidence")&&typeof rs.confidence!="number"?"confidence: number expected":rs.stable!=null&&rs.hasOwnProperty("stable")&&typeof rs.stable!="boolean"?"stable: boolean expected":null},ts.fromObject=function(rs){if(rs instanceof $root.SdkTranscriptItem)return rs;var is=new $root.SdkTranscriptItem;switch(rs.content!=null&&(is.content=String(rs.content)),rs.endTime!=null&&($util.Long?(is.endTime=$util.Long.fromValue(rs.endTime)).unsigned=!1:typeof rs.endTime=="string"?is.endTime=parseInt(rs.endTime,10):typeof rs.endTime=="number"?is.endTime=rs.endTime:typeof rs.endTime=="object"&&(is.endTime=new $util.LongBits(rs.endTime.low>>>0,rs.endTime.high>>>0).toNumber())),rs.speakerAttendeeId!=null&&(is.speakerAttendeeId=String(rs.speakerAttendeeId)),rs.speakerExternalUserId!=null&&(is.speakerExternalUserId=String(rs.speakerExternalUserId)),rs.startTime!=null&&($util.Long?(is.startTime=$util.Long.fromValue(rs.startTime)).unsigned=!1:typeof rs.startTime=="string"?is.startTime=parseInt(rs.startTime,10):typeof rs.startTime=="number"?is.startTime=rs.startTime:typeof rs.startTime=="object"&&(is.startTime=new $util.LongBits(rs.startTime.low>>>0,rs.startTime.high>>>0).toNumber())),rs.type){default:if(typeof rs.type=="number"){is.type=rs.type;break}break;case"PRONUNCIATION":case 1:is.type=1;break;case"PUNCTUATION":case 2:is.type=2;break}return rs.vocabularyFilterMatch!=null&&(is.vocabularyFilterMatch=!!rs.vocabularyFilterMatch),rs.confidence!=null&&(is.confidence=Number(rs.confidence)),rs.stable!=null&&(is.stable=!!rs.stable),is},ts.toObject=function(rs,is){is||(is={});var os={};if(is.defaults){if(os.content="",$util.Long){var ss=new $util.Long(0,0,!1);os.endTime=is.longs===String?ss.toString():is.longs===Number?ss.toNumber():ss}else os.endTime=is.longs===String?"0":0;if(os.speakerAttendeeId="",os.speakerExternalUserId="",$util.Long){var ss=new $util.Long(0,0,!1);os.startTime=is.longs===String?ss.toString():is.longs===Number?ss.toNumber():ss}else os.startTime=is.longs===String?"0":0;os.type=is.enums===String?"PRONUNCIATION":1,os.vocabularyFilterMatch=!1,os.confidence=0,os.stable=!1}return rs.content!=null&&rs.hasOwnProperty("content")&&(os.content=rs.content),rs.endTime!=null&&rs.hasOwnProperty("endTime")&&(typeof rs.endTime=="number"?os.endTime=is.longs===String?String(rs.endTime):rs.endTime:os.endTime=is.longs===String?$util.Long.prototype.toString.call(rs.endTime):is.longs===Number?new $util.LongBits(rs.endTime.low>>>0,rs.endTime.high>>>0).toNumber():rs.endTime),rs.speakerAttendeeId!=null&&rs.hasOwnProperty("speakerAttendeeId")&&(os.speakerAttendeeId=rs.speakerAttendeeId),rs.speakerExternalUserId!=null&&rs.hasOwnProperty("speakerExternalUserId")&&(os.speakerExternalUserId=rs.speakerExternalUserId),rs.startTime!=null&&rs.hasOwnProperty("startTime")&&(typeof rs.startTime=="number"?os.startTime=is.longs===String?String(rs.startTime):rs.startTime:os.startTime=is.longs===String?$util.Long.prototype.toString.call(rs.startTime):is.longs===Number?new $util.LongBits(rs.startTime.low>>>0,rs.startTime.high>>>0).toNumber():rs.startTime),rs.type!=null&&rs.hasOwnProperty("type")&&(os.type=is.enums===String?$root.SdkTranscriptItem.Type[rs.type]===void 0?rs.type:$root.SdkTranscriptItem.Type[rs.type]:rs.type),rs.vocabularyFilterMatch!=null&&rs.hasOwnProperty("vocabularyFilterMatch")&&(os.vocabularyFilterMatch=rs.vocabularyFilterMatch),rs.confidence!=null&&rs.hasOwnProperty("confidence")&&(os.confidence=is.json&&!isFinite(rs.confidence)?String(rs.confidence):rs.confidence),rs.stable!=null&&rs.hasOwnProperty("stable")&&(os.stable=rs.stable),os},ts.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},ts.getTypeUrl=function(rs){return rs===void 0&&(rs="type.googleapis.com"),rs+"/SdkTranscriptItem"},ts.Type=function(){var ns={},rs=Object.create(ns);return rs[ns[1]="PRONUNCIATION"]=1,rs[ns[2]="PUNCTUATION"]=2,rs}(),ts}();$root.SdkTranscriptEntity=function(){function ts(ns){if(ns)for(var rs=Object.keys(ns),is=0;is<rs.length;++is)ns[rs[is]]!=null&&(this[rs[is]]=ns[rs[is]])}return ts.prototype.category="",ts.prototype.confidence=0,ts.prototype.content="",ts.prototype.endTime=$util.Long?$util.Long.fromBits(0,0,!1):0,ts.prototype.startTime=$util.Long?$util.Long.fromBits(0,0,!1):0,ts.prototype.type="",ts.create=function(rs){return new ts(rs)},ts.encode=function(rs,is){return is||(is=$Writer.create()),rs.category!=null&&Object.hasOwnProperty.call(rs,"category")&&is.uint32(10).string(rs.category),rs.confidence!=null&&Object.hasOwnProperty.call(rs,"confidence")&&is.uint32(17).double(rs.confidence),rs.content!=null&&Object.hasOwnProperty.call(rs,"content")&&is.uint32(26).string(rs.content),rs.endTime!=null&&Object.hasOwnProperty.call(rs,"endTime")&&is.uint32(32).int64(rs.endTime),rs.startTime!=null&&Object.hasOwnProperty.call(rs,"startTime")&&is.uint32(40).int64(rs.startTime),rs.type!=null&&Object.hasOwnProperty.call(rs,"type")&&is.uint32(50).string(rs.type),is},ts.encodeDelimited=function(rs,is){return this.encode(rs,is).ldelim()},ts.decode=function(rs,is){rs instanceof $Reader||(rs=$Reader.create(rs));for(var os=is===void 0?rs.len:rs.pos+is,ss=new $root.SdkTranscriptEntity;rs.pos<os;){var as=rs.uint32();switch(as>>>3){case 1:{ss.category=rs.string();break}case 2:{ss.confidence=rs.double();break}case 3:{ss.content=rs.string();break}case 4:{ss.endTime=rs.int64();break}case 5:{ss.startTime=rs.int64();break}case 6:{ss.type=rs.string();break}default:rs.skipType(as&7);break}}return ss},ts.decodeDelimited=function(rs){return rs instanceof $Reader||(rs=new $Reader(rs)),this.decode(rs,rs.uint32())},ts.verify=function(rs){return typeof rs!="object"||rs===null?"object expected":rs.category!=null&&rs.hasOwnProperty("category")&&!$util.isString(rs.category)?"category: string expected":rs.confidence!=null&&rs.hasOwnProperty("confidence")&&typeof rs.confidence!="number"?"confidence: number expected":rs.content!=null&&rs.hasOwnProperty("content")&&!$util.isString(rs.content)?"content: string expected":rs.endTime!=null&&rs.hasOwnProperty("endTime")&&!$util.isInteger(rs.endTime)&&!(rs.endTime&&$util.isInteger(rs.endTime.low)&&$util.isInteger(rs.endTime.high))?"endTime: integer|Long expected":rs.startTime!=null&&rs.hasOwnProperty("startTime")&&!$util.isInteger(rs.startTime)&&!(rs.startTime&&$util.isInteger(rs.startTime.low)&&$util.isInteger(rs.startTime.high))?"startTime: integer|Long expected":rs.type!=null&&rs.hasOwnProperty("type")&&!$util.isString(rs.type)?"type: string expected":null},ts.fromObject=function(rs){if(rs instanceof $root.SdkTranscriptEntity)return rs;var is=new $root.SdkTranscriptEntity;return rs.category!=null&&(is.category=String(rs.category)),rs.confidence!=null&&(is.confidence=Number(rs.confidence)),rs.content!=null&&(is.content=String(rs.content)),rs.endTime!=null&&($util.Long?(is.endTime=$util.Long.fromValue(rs.endTime)).unsigned=!1:typeof rs.endTime=="string"?is.endTime=parseInt(rs.endTime,10):typeof rs.endTime=="number"?is.endTime=rs.endTime:typeof rs.endTime=="object"&&(is.endTime=new $util.LongBits(rs.endTime.low>>>0,rs.endTime.high>>>0).toNumber())),rs.startTime!=null&&($util.Long?(is.startTime=$util.Long.fromValue(rs.startTime)).unsigned=!1:typeof rs.startTime=="string"?is.startTime=parseInt(rs.startTime,10):typeof rs.startTime=="number"?is.startTime=rs.startTime:typeof rs.startTime=="object"&&(is.startTime=new $util.LongBits(rs.startTime.low>>>0,rs.startTime.high>>>0).toNumber())),rs.type!=null&&(is.type=String(rs.type)),is},ts.toObject=function(rs,is){is||(is={});var os={};if(is.defaults){if(os.category="",os.confidence=0,os.content="",$util.Long){var ss=new $util.Long(0,0,!1);os.endTime=is.longs===String?ss.toString():is.longs===Number?ss.toNumber():ss}else os.endTime=is.longs===String?"0":0;if($util.Long){var ss=new $util.Long(0,0,!1);os.startTime=is.longs===String?ss.toString():is.longs===Number?ss.toNumber():ss}else os.startTime=is.longs===String?"0":0;os.type=""}return rs.category!=null&&rs.hasOwnProperty("category")&&(os.category=rs.category),rs.confidence!=null&&rs.hasOwnProperty("confidence")&&(os.confidence=is.json&&!isFinite(rs.confidence)?String(rs.confidence):rs.confidence),rs.content!=null&&rs.hasOwnProperty("content")&&(os.content=rs.content),rs.endTime!=null&&rs.hasOwnProperty("endTime")&&(typeof rs.endTime=="number"?os.endTime=is.longs===String?String(rs.endTime):rs.endTime:os.endTime=is.longs===String?$util.Long.prototype.toString.call(rs.endTime):is.longs===Number?new $util.LongBits(rs.endTime.low>>>0,rs.endTime.high>>>0).toNumber():rs.endTime),rs.startTime!=null&&rs.hasOwnProperty("startTime")&&(typeof rs.startTime=="number"?os.startTime=is.longs===String?String(rs.startTime):rs.startTime:os.startTime=is.longs===String?$util.Long.prototype.toString.call(rs.startTime):is.longs===Number?new $util.LongBits(rs.startTime.low>>>0,rs.startTime.high>>>0).toNumber():rs.startTime),rs.type!=null&&rs.hasOwnProperty("type")&&(os.type=rs.type),os},ts.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},ts.getTypeUrl=function(rs){return rs===void 0&&(rs="type.googleapis.com"),rs+"/SdkTranscriptEntity"},ts}();$root.SdkTranscriptAlternative=function(){function ts(ns){if(this.items=[],this.entities=[],ns)for(var rs=Object.keys(ns),is=0;is<rs.length;++is)ns[rs[is]]!=null&&(this[rs[is]]=ns[rs[is]])}return ts.prototype.items=$util.emptyArray,ts.prototype.transcript="",ts.prototype.entities=$util.emptyArray,ts.create=function(rs){return new ts(rs)},ts.encode=function(rs,is){if(is||(is=$Writer.create()),rs.items!=null&&rs.items.length)for(var os=0;os<rs.items.length;++os)$root.SdkTranscriptItem.encode(rs.items[os],is.uint32(10).fork()).ldelim();if(rs.transcript!=null&&Object.hasOwnProperty.call(rs,"transcript")&&is.uint32(18).string(rs.transcript),rs.entities!=null&&rs.entities.length)for(var os=0;os<rs.entities.length;++os)$root.SdkTranscriptEntity.encode(rs.entities[os],is.uint32(26).fork()).ldelim();return is},ts.encodeDelimited=function(rs,is){return this.encode(rs,is).ldelim()},ts.decode=function(rs,is){rs instanceof $Reader||(rs=$Reader.create(rs));for(var os=is===void 0?rs.len:rs.pos+is,ss=new $root.SdkTranscriptAlternative;rs.pos<os;){var as=rs.uint32();switch(as>>>3){case 1:{ss.items&&ss.items.length||(ss.items=[]),ss.items.push($root.SdkTranscriptItem.decode(rs,rs.uint32()));break}case 2:{ss.transcript=rs.string();break}case 3:{ss.entities&&ss.entities.length||(ss.entities=[]),ss.entities.push($root.SdkTranscriptEntity.decode(rs,rs.uint32()));break}default:rs.skipType(as&7);break}}return ss},ts.decodeDelimited=function(rs){return rs instanceof $Reader||(rs=new $Reader(rs)),this.decode(rs,rs.uint32())},ts.verify=function(rs){if(typeof rs!="object"||rs===null)return"object expected";if(rs.items!=null&&rs.hasOwnProperty("items")){if(!Array.isArray(rs.items))return"items: array expected";for(var is=0;is<rs.items.length;++is){var os=$root.SdkTranscriptItem.verify(rs.items[is]);if(os)return"items."+os}}if(rs.transcript!=null&&rs.hasOwnProperty("transcript")&&!$util.isString(rs.transcript))return"transcript: string expected";if(rs.entities!=null&&rs.hasOwnProperty("entities")){if(!Array.isArray(rs.entities))return"entities: array expected";for(var is=0;is<rs.entities.length;++is){var os=$root.SdkTranscriptEntity.verify(rs.entities[is]);if(os)return"entities."+os}}return null},ts.fromObject=function(rs){if(rs instanceof $root.SdkTranscriptAlternative)return rs;var is=new $root.SdkTranscriptAlternative;if(rs.items){if(!Array.isArray(rs.items))throw TypeError(".SdkTranscriptAlternative.items: array expected");is.items=[];for(var os=0;os<rs.items.length;++os){if(typeof rs.items[os]!="object")throw TypeError(".SdkTranscriptAlternative.items: object expected");is.items[os]=$root.SdkTranscriptItem.fromObject(rs.items[os])}}if(rs.transcript!=null&&(is.transcript=String(rs.transcript)),rs.entities){if(!Array.isArray(rs.entities))throw TypeError(".SdkTranscriptAlternative.entities: array expected");is.entities=[];for(var os=0;os<rs.entities.length;++os){if(typeof rs.entities[os]!="object")throw TypeError(".SdkTranscriptAlternative.entities: object expected");is.entities[os]=$root.SdkTranscriptEntity.fromObject(rs.entities[os])}}return is},ts.toObject=function(rs,is){is||(is={});var os={};if((is.arrays||is.defaults)&&(os.items=[],os.entities=[]),is.defaults&&(os.transcript=""),rs.items&&rs.items.length){os.items=[];for(var ss=0;ss<rs.items.length;++ss)os.items[ss]=$root.SdkTranscriptItem.toObject(rs.items[ss],is)}if(rs.transcript!=null&&rs.hasOwnProperty("transcript")&&(os.transcript=rs.transcript),rs.entities&&rs.entities.length){os.entities=[];for(var ss=0;ss<rs.entities.length;++ss)os.entities[ss]=$root.SdkTranscriptEntity.toObject(rs.entities[ss],is)}return os},ts.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},ts.getTypeUrl=function(rs){return rs===void 0&&(rs="type.googleapis.com"),rs+"/SdkTranscriptAlternative"},ts}();$root.SdkTranscriptLanguageWithScore=function(){function ts(ns){if(ns)for(var rs=Object.keys(ns),is=0;is<rs.length;++is)ns[rs[is]]!=null&&(this[rs[is]]=ns[rs[is]])}return ts.prototype.languageCode="",ts.prototype.score=0,ts.create=function(rs){return new ts(rs)},ts.encode=function(rs,is){return is||(is=$Writer.create()),rs.languageCode!=null&&Object.hasOwnProperty.call(rs,"languageCode")&&is.uint32(10).string(rs.languageCode),rs.score!=null&&Object.hasOwnProperty.call(rs,"score")&&is.uint32(17).double(rs.score),is},ts.encodeDelimited=function(rs,is){return this.encode(rs,is).ldelim()},ts.decode=function(rs,is){rs instanceof $Reader||(rs=$Reader.create(rs));for(var os=is===void 0?rs.len:rs.pos+is,ss=new $root.SdkTranscriptLanguageWithScore;rs.pos<os;){var as=rs.uint32();switch(as>>>3){case 1:{ss.languageCode=rs.string();break}case 2:{ss.score=rs.double();break}default:rs.skipType(as&7);break}}return ss},ts.decodeDelimited=function(rs){return rs instanceof $Reader||(rs=new $Reader(rs)),this.decode(rs,rs.uint32())},ts.verify=function(rs){return typeof rs!="object"||rs===null?"object expected":rs.languageCode!=null&&rs.hasOwnProperty("languageCode")&&!$util.isString(rs.languageCode)?"languageCode: string expected":rs.score!=null&&rs.hasOwnProperty("score")&&typeof rs.score!="number"?"score: number expected":null},ts.fromObject=function(rs){if(rs instanceof $root.SdkTranscriptLanguageWithScore)return rs;var is=new $root.SdkTranscriptLanguageWithScore;return rs.languageCode!=null&&(is.languageCode=String(rs.languageCode)),rs.score!=null&&(is.score=Number(rs.score)),is},ts.toObject=function(rs,is){is||(is={});var os={};return is.defaults&&(os.languageCode="",os.score=0),rs.languageCode!=null&&rs.hasOwnProperty("languageCode")&&(os.languageCode=rs.languageCode),rs.score!=null&&rs.hasOwnProperty("score")&&(os.score=is.json&&!isFinite(rs.score)?String(rs.score):rs.score),os},ts.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},ts.getTypeUrl=function(rs){return rs===void 0&&(rs="type.googleapis.com"),rs+"/SdkTranscriptLanguageWithScore"},ts}();$root.SdkTranscriptResult=function(){function ts(ns){if(this.alternatives=[],this.languageIdentification=[],ns)for(var rs=Object.keys(ns),is=0;is<rs.length;++is)ns[rs[is]]!=null&&(this[rs[is]]=ns[rs[is]])}return ts.prototype.alternatives=$util.emptyArray,ts.prototype.channelId="",ts.prototype.endTime=$util.Long?$util.Long.fromBits(0,0,!1):0,ts.prototype.isPartial=!1,ts.prototype.resultId="",ts.prototype.startTime=$util.Long?$util.Long.fromBits(0,0,!1):0,ts.prototype.languageCode="",ts.prototype.languageIdentification=$util.emptyArray,ts.create=function(rs){return new ts(rs)},ts.encode=function(rs,is){if(is||(is=$Writer.create()),rs.alternatives!=null&&rs.alternatives.length)for(var os=0;os<rs.alternatives.length;++os)$root.SdkTranscriptAlternative.encode(rs.alternatives[os],is.uint32(10).fork()).ldelim();if(rs.channelId!=null&&Object.hasOwnProperty.call(rs,"channelId")&&is.uint32(18).string(rs.channelId),rs.endTime!=null&&Object.hasOwnProperty.call(rs,"endTime")&&is.uint32(24).int64(rs.endTime),rs.isPartial!=null&&Object.hasOwnProperty.call(rs,"isPartial")&&is.uint32(32).bool(rs.isPartial),rs.resultId!=null&&Object.hasOwnProperty.call(rs,"resultId")&&is.uint32(42).string(rs.resultId),rs.startTime!=null&&Object.hasOwnProperty.call(rs,"startTime")&&is.uint32(48).int64(rs.startTime),rs.languageCode!=null&&Object.hasOwnProperty.call(rs,"languageCode")&&is.uint32(58).string(rs.languageCode),rs.languageIdentification!=null&&rs.languageIdentification.length)for(var os=0;os<rs.languageIdentification.length;++os)$root.SdkTranscriptLanguageWithScore.encode(rs.languageIdentification[os],is.uint32(66).fork()).ldelim();return is},ts.encodeDelimited=function(rs,is){return this.encode(rs,is).ldelim()},ts.decode=function(rs,is){rs instanceof $Reader||(rs=$Reader.create(rs));for(var os=is===void 0?rs.len:rs.pos+is,ss=new $root.SdkTranscriptResult;rs.pos<os;){var as=rs.uint32();switch(as>>>3){case 1:{ss.alternatives&&ss.alternatives.length||(ss.alternatives=[]),ss.alternatives.push($root.SdkTranscriptAlternative.decode(rs,rs.uint32()));break}case 2:{ss.channelId=rs.string();break}case 3:{ss.endTime=rs.int64();break}case 4:{ss.isPartial=rs.bool();break}case 5:{ss.resultId=rs.string();break}case 6:{ss.startTime=rs.int64();break}case 7:{ss.languageCode=rs.string();break}case 8:{ss.languageIdentification&&ss.languageIdentification.length||(ss.languageIdentification=[]),ss.languageIdentification.push($root.SdkTranscriptLanguageWithScore.decode(rs,rs.uint32()));break}default:rs.skipType(as&7);break}}return ss},ts.decodeDelimited=function(rs){return rs instanceof $Reader||(rs=new $Reader(rs)),this.decode(rs,rs.uint32())},ts.verify=function(rs){if(typeof rs!="object"||rs===null)return"object expected";if(rs.alternatives!=null&&rs.hasOwnProperty("alternatives")){if(!Array.isArray(rs.alternatives))return"alternatives: array expected";for(var is=0;is<rs.alternatives.length;++is){var os=$root.SdkTranscriptAlternative.verify(rs.alternatives[is]);if(os)return"alternatives."+os}}if(rs.channelId!=null&&rs.hasOwnProperty("channelId")&&!$util.isString(rs.channelId))return"channelId: string expected";if(rs.endTime!=null&&rs.hasOwnProperty("endTime")&&!$util.isInteger(rs.endTime)&&!(rs.endTime&&$util.isInteger(rs.endTime.low)&&$util.isInteger(rs.endTime.high)))return"endTime: integer|Long expected";if(rs.isPartial!=null&&rs.hasOwnProperty("isPartial")&&typeof rs.isPartial!="boolean")return"isPartial: boolean expected";if(rs.resultId!=null&&rs.hasOwnProperty("resultId")&&!$util.isString(rs.resultId))return"resultId: string expected";if(rs.startTime!=null&&rs.hasOwnProperty("startTime")&&!$util.isInteger(rs.startTime)&&!(rs.startTime&&$util.isInteger(rs.startTime.low)&&$util.isInteger(rs.startTime.high)))return"startTime: integer|Long expected";if(rs.languageCode!=null&&rs.hasOwnProperty("languageCode")&&!$util.isString(rs.languageCode))return"languageCode: string expected";if(rs.languageIdentification!=null&&rs.hasOwnProperty("languageIdentification")){if(!Array.isArray(rs.languageIdentification))return"languageIdentification: array expected";for(var is=0;is<rs.languageIdentification.length;++is){var os=$root.SdkTranscriptLanguageWithScore.verify(rs.languageIdentification[is]);if(os)return"languageIdentification."+os}}return null},ts.fromObject=function(rs){if(rs instanceof $root.SdkTranscriptResult)return rs;var is=new $root.SdkTranscriptResult;if(rs.alternatives){if(!Array.isArray(rs.alternatives))throw TypeError(".SdkTranscriptResult.alternatives: array expected");is.alternatives=[];for(var os=0;os<rs.alternatives.length;++os){if(typeof rs.alternatives[os]!="object")throw TypeError(".SdkTranscriptResult.alternatives: object expected");is.alternatives[os]=$root.SdkTranscriptAlternative.fromObject(rs.alternatives[os])}}if(rs.channelId!=null&&(is.channelId=String(rs.channelId)),rs.endTime!=null&&($util.Long?(is.endTime=$util.Long.fromValue(rs.endTime)).unsigned=!1:typeof rs.endTime=="string"?is.endTime=parseInt(rs.endTime,10):typeof rs.endTime=="number"?is.endTime=rs.endTime:typeof rs.endTime=="object"&&(is.endTime=new $util.LongBits(rs.endTime.low>>>0,rs.endTime.high>>>0).toNumber())),rs.isPartial!=null&&(is.isPartial=!!rs.isPartial),rs.resultId!=null&&(is.resultId=String(rs.resultId)),rs.startTime!=null&&($util.Long?(is.startTime=$util.Long.fromValue(rs.startTime)).unsigned=!1:typeof rs.startTime=="string"?is.startTime=parseInt(rs.startTime,10):typeof rs.startTime=="number"?is.startTime=rs.startTime:typeof rs.startTime=="object"&&(is.startTime=new $util.LongBits(rs.startTime.low>>>0,rs.startTime.high>>>0).toNumber())),rs.languageCode!=null&&(is.languageCode=String(rs.languageCode)),rs.languageIdentification){if(!Array.isArray(rs.languageIdentification))throw TypeError(".SdkTranscriptResult.languageIdentification: array expected");is.languageIdentification=[];for(var os=0;os<rs.languageIdentification.length;++os){if(typeof rs.languageIdentification[os]!="object")throw TypeError(".SdkTranscriptResult.languageIdentification: object expected");is.languageIdentification[os]=$root.SdkTranscriptLanguageWithScore.fromObject(rs.languageIdentification[os])}}return is},ts.toObject=function(rs,is){is||(is={});var os={};if((is.arrays||is.defaults)&&(os.alternatives=[],os.languageIdentification=[]),is.defaults){if(os.channelId="",$util.Long){var ss=new $util.Long(0,0,!1);os.endTime=is.longs===String?ss.toString():is.longs===Number?ss.toNumber():ss}else os.endTime=is.longs===String?"0":0;if(os.isPartial=!1,os.resultId="",$util.Long){var ss=new $util.Long(0,0,!1);os.startTime=is.longs===String?ss.toString():is.longs===Number?ss.toNumber():ss}else os.startTime=is.longs===String?"0":0;os.languageCode=""}if(rs.alternatives&&rs.alternatives.length){os.alternatives=[];for(var as=0;as<rs.alternatives.length;++as)os.alternatives[as]=$root.SdkTranscriptAlternative.toObject(rs.alternatives[as],is)}if(rs.channelId!=null&&rs.hasOwnProperty("channelId")&&(os.channelId=rs.channelId),rs.endTime!=null&&rs.hasOwnProperty("endTime")&&(typeof rs.endTime=="number"?os.endTime=is.longs===String?String(rs.endTime):rs.endTime:os.endTime=is.longs===String?$util.Long.prototype.toString.call(rs.endTime):is.longs===Number?new $util.LongBits(rs.endTime.low>>>0,rs.endTime.high>>>0).toNumber():rs.endTime),rs.isPartial!=null&&rs.hasOwnProperty("isPartial")&&(os.isPartial=rs.isPartial),rs.resultId!=null&&rs.hasOwnProperty("resultId")&&(os.resultId=rs.resultId),rs.startTime!=null&&rs.hasOwnProperty("startTime")&&(typeof rs.startTime=="number"?os.startTime=is.longs===String?String(rs.startTime):rs.startTime:os.startTime=is.longs===String?$util.Long.prototype.toString.call(rs.startTime):is.longs===Number?new $util.LongBits(rs.startTime.low>>>0,rs.startTime.high>>>0).toNumber():rs.startTime),rs.languageCode!=null&&rs.hasOwnProperty("languageCode")&&(os.languageCode=rs.languageCode),rs.languageIdentification&&rs.languageIdentification.length){os.languageIdentification=[];for(var as=0;as<rs.languageIdentification.length;++as)os.languageIdentification[as]=$root.SdkTranscriptLanguageWithScore.toObject(rs.languageIdentification[as],is)}return os},ts.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},ts.getTypeUrl=function(rs){return rs===void 0&&(rs="type.googleapis.com"),rs+"/SdkTranscriptResult"},ts}();$root.SdkTranscript=function(){function ts(ns){if(this.results=[],ns)for(var rs=Object.keys(ns),is=0;is<rs.length;++is)ns[rs[is]]!=null&&(this[rs[is]]=ns[rs[is]])}return ts.prototype.results=$util.emptyArray,ts.create=function(rs){return new ts(rs)},ts.encode=function(rs,is){if(is||(is=$Writer.create()),rs.results!=null&&rs.results.length)for(var os=0;os<rs.results.length;++os)$root.SdkTranscriptResult.encode(rs.results[os],is.uint32(10).fork()).ldelim();return is},ts.encodeDelimited=function(rs,is){return this.encode(rs,is).ldelim()},ts.decode=function(rs,is){rs instanceof $Reader||(rs=$Reader.create(rs));for(var os=is===void 0?rs.len:rs.pos+is,ss=new $root.SdkTranscript;rs.pos<os;){var as=rs.uint32();switch(as>>>3){case 1:{ss.results&&ss.results.length||(ss.results=[]),ss.results.push($root.SdkTranscriptResult.decode(rs,rs.uint32()));break}default:rs.skipType(as&7);break}}return ss},ts.decodeDelimited=function(rs){return rs instanceof $Reader||(rs=new $Reader(rs)),this.decode(rs,rs.uint32())},ts.verify=function(rs){if(typeof rs!="object"||rs===null)return"object expected";if(rs.results!=null&&rs.hasOwnProperty("results")){if(!Array.isArray(rs.results))return"results: array expected";for(var is=0;is<rs.results.length;++is){var os=$root.SdkTranscriptResult.verify(rs.results[is]);if(os)return"results."+os}}return null},ts.fromObject=function(rs){if(rs instanceof $root.SdkTranscript)return rs;var is=new $root.SdkTranscript;if(rs.results){if(!Array.isArray(rs.results))throw TypeError(".SdkTranscript.results: array expected");is.results=[];for(var os=0;os<rs.results.length;++os){if(typeof rs.results[os]!="object")throw TypeError(".SdkTranscript.results: object expected");is.results[os]=$root.SdkTranscriptResult.fromObject(rs.results[os])}}return is},ts.toObject=function(rs,is){is||(is={});var os={};if((is.arrays||is.defaults)&&(os.results=[]),rs.results&&rs.results.length){os.results=[];for(var ss=0;ss<rs.results.length;++ss)os.results[ss]=$root.SdkTranscriptResult.toObject(rs.results[ss],is)}return os},ts.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},ts.getTypeUrl=function(rs){return rs===void 0&&(rs="type.googleapis.com"),rs+"/SdkTranscript"},ts}();$root.SdkTranscriptionStatus=function(){function ts(ns){if(ns)for(var rs=Object.keys(ns),is=0;is<rs.length;++is)ns[rs[is]]!=null&&(this[rs[is]]=ns[rs[is]])}return ts.prototype.type=1,ts.prototype.eventTime=$util.Long?$util.Long.fromBits(0,0,!1):0,ts.prototype.transcriptionRegion="",ts.prototype.transcriptionConfiguration="",ts.prototype.message="",ts.create=function(rs){return new ts(rs)},ts.encode=function(rs,is){return is||(is=$Writer.create()),rs.type!=null&&Object.hasOwnProperty.call(rs,"type")&&is.uint32(8).int32(rs.type),rs.eventTime!=null&&Object.hasOwnProperty.call(rs,"eventTime")&&is.uint32(16).int64(rs.eventTime),rs.transcriptionRegion!=null&&Object.hasOwnProperty.call(rs,"transcriptionRegion")&&is.uint32(26).string(rs.transcriptionRegion),rs.transcriptionConfiguration!=null&&Object.hasOwnProperty.call(rs,"transcriptionConfiguration")&&is.uint32(34).string(rs.transcriptionConfiguration),rs.message!=null&&Object.hasOwnProperty.call(rs,"message")&&is.uint32(42).string(rs.message),is},ts.encodeDelimited=function(rs,is){return this.encode(rs,is).ldelim()},ts.decode=function(rs,is){rs instanceof $Reader||(rs=$Reader.create(rs));for(var os=is===void 0?rs.len:rs.pos+is,ss=new $root.SdkTranscriptionStatus;rs.pos<os;){var as=rs.uint32();switch(as>>>3){case 1:{ss.type=rs.int32();break}case 2:{ss.eventTime=rs.int64();break}case 3:{ss.transcriptionRegion=rs.string();break}case 4:{ss.transcriptionConfiguration=rs.string();break}case 5:{ss.message=rs.string();break}default:rs.skipType(as&7);break}}return ss},ts.decodeDelimited=function(rs){return rs instanceof $Reader||(rs=new $Reader(rs)),this.decode(rs,rs.uint32())},ts.verify=function(rs){if(typeof rs!="object"||rs===null)return"object expected";if(rs.type!=null&&rs.hasOwnProperty("type"))switch(rs.type){default:return"type: enum value expected";case 1:case 2:case 3:case 4:case 5:break}return rs.eventTime!=null&&rs.hasOwnProperty("eventTime")&&!$util.isInteger(rs.eventTime)&&!(rs.eventTime&&$util.isInteger(rs.eventTime.low)&&$util.isInteger(rs.eventTime.high))?"eventTime: integer|Long expected":rs.transcriptionRegion!=null&&rs.hasOwnProperty("transcriptionRegion")&&!$util.isString(rs.transcriptionRegion)?"transcriptionRegion: string expected":rs.transcriptionConfiguration!=null&&rs.hasOwnProperty("transcriptionConfiguration")&&!$util.isString(rs.transcriptionConfiguration)?"transcriptionConfiguration: string expected":rs.message!=null&&rs.hasOwnProperty("message")&&!$util.isString(rs.message)?"message: string expected":null},ts.fromObject=function(rs){if(rs instanceof $root.SdkTranscriptionStatus)return rs;var is=new $root.SdkTranscriptionStatus;switch(rs.type){default:if(typeof rs.type=="number"){is.type=rs.type;break}break;case"STARTED":case 1:is.type=1;break;case"INTERRUPTED":case 2:is.type=2;break;case"RESUMED":case 3:is.type=3;break;case"STOPPED":case 4:is.type=4;break;case"FAILED":case 5:is.type=5;break}return rs.eventTime!=null&&($util.Long?(is.eventTime=$util.Long.fromValue(rs.eventTime)).unsigned=!1:typeof rs.eventTime=="string"?is.eventTime=parseInt(rs.eventTime,10):typeof rs.eventTime=="number"?is.eventTime=rs.eventTime:typeof rs.eventTime=="object"&&(is.eventTime=new $util.LongBits(rs.eventTime.low>>>0,rs.eventTime.high>>>0).toNumber())),rs.transcriptionRegion!=null&&(is.transcriptionRegion=String(rs.transcriptionRegion)),rs.transcriptionConfiguration!=null&&(is.transcriptionConfiguration=String(rs.transcriptionConfiguration)),rs.message!=null&&(is.message=String(rs.message)),is},ts.toObject=function(rs,is){is||(is={});var os={};if(is.defaults){if(os.type=is.enums===String?"STARTED":1,$util.Long){var ss=new $util.Long(0,0,!1);os.eventTime=is.longs===String?ss.toString():is.longs===Number?ss.toNumber():ss}else os.eventTime=is.longs===String?"0":0;os.transcriptionRegion="",os.transcriptionConfiguration="",os.message=""}return rs.type!=null&&rs.hasOwnProperty("type")&&(os.type=is.enums===String?$root.SdkTranscriptionStatus.Type[rs.type]===void 0?rs.type:$root.SdkTranscriptionStatus.Type[rs.type]:rs.type),rs.eventTime!=null&&rs.hasOwnProperty("eventTime")&&(typeof rs.eventTime=="number"?os.eventTime=is.longs===String?String(rs.eventTime):rs.eventTime:os.eventTime=is.longs===String?$util.Long.prototype.toString.call(rs.eventTime):is.longs===Number?new $util.LongBits(rs.eventTime.low>>>0,rs.eventTime.high>>>0).toNumber():rs.eventTime),rs.transcriptionRegion!=null&&rs.hasOwnProperty("transcriptionRegion")&&(os.transcriptionRegion=rs.transcriptionRegion),rs.transcriptionConfiguration!=null&&rs.hasOwnProperty("transcriptionConfiguration")&&(os.transcriptionConfiguration=rs.transcriptionConfiguration),rs.message!=null&&rs.hasOwnProperty("message")&&(os.message=rs.message),os},ts.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},ts.getTypeUrl=function(rs){return rs===void 0&&(rs="type.googleapis.com"),rs+"/SdkTranscriptionStatus"},ts.Type=function(){var ns={},rs=Object.create(ns);return rs[ns[1]="STARTED"]=1,rs[ns[2]="INTERRUPTED"]=2,rs[ns[3]="RESUMED"]=3,rs[ns[4]="STOPPED"]=4,rs[ns[5]="FAILED"]=5,rs}(),ts}();$root.SdkTranscriptEvent=function(){function ts(rs){if(rs)for(var is=Object.keys(rs),os=0;os<is.length;++os)rs[is[os]]!=null&&(this[is[os]]=rs[is[os]])}ts.prototype.status=null,ts.prototype.transcript=null;var ns;return Object.defineProperty(ts.prototype,"Event",{get:$util.oneOfGetter(ns=["status","transcript"]),set:$util.oneOfSetter(ns)}),ts.create=function(is){return new ts(is)},ts.encode=function(is,os){return os||(os=$Writer.create()),is.status!=null&&Object.hasOwnProperty.call(is,"status")&&$root.SdkTranscriptionStatus.encode(is.status,os.uint32(10).fork()).ldelim(),is.transcript!=null&&Object.hasOwnProperty.call(is,"transcript")&&$root.SdkTranscript.encode(is.transcript,os.uint32(18).fork()).ldelim(),os},ts.encodeDelimited=function(is,os){return this.encode(is,os).ldelim()},ts.decode=function(is,os){is instanceof $Reader||(is=$Reader.create(is));for(var ss=os===void 0?is.len:is.pos+os,as=new $root.SdkTranscriptEvent;is.pos<ss;){var ls=is.uint32();switch(ls>>>3){case 1:{as.status=$root.SdkTranscriptionStatus.decode(is,is.uint32());break}case 2:{as.transcript=$root.SdkTranscript.decode(is,is.uint32());break}default:is.skipType(ls&7);break}}return as},ts.decodeDelimited=function(is){return is instanceof $Reader||(is=new $Reader(is)),this.decode(is,is.uint32())},ts.verify=function(is){if(typeof is!="object"||is===null)return"object expected";var os={};if(is.status!=null&&is.hasOwnProperty("status")){os.Event=1;{var ss=$root.SdkTranscriptionStatus.verify(is.status);if(ss)return"status."+ss}}if(is.transcript!=null&&is.hasOwnProperty("transcript")){if(os.Event===1)return"Event: multiple values";os.Event=1;{var ss=$root.SdkTranscript.verify(is.transcript);if(ss)return"transcript."+ss}}return null},ts.fromObject=function(is){if(is instanceof $root.SdkTranscriptEvent)return is;var os=new $root.SdkTranscriptEvent;if(is.status!=null){if(typeof is.status!="object")throw TypeError(".SdkTranscriptEvent.status: object expected");os.status=$root.SdkTranscriptionStatus.fromObject(is.status)}if(is.transcript!=null){if(typeof is.transcript!="object")throw TypeError(".SdkTranscriptEvent.transcript: object expected");os.transcript=$root.SdkTranscript.fromObject(is.transcript)}return os},ts.toObject=function(is,os){os||(os={});var ss={};return is.status!=null&&is.hasOwnProperty("status")&&(ss.status=$root.SdkTranscriptionStatus.toObject(is.status,os),os.oneofs&&(ss.Event="status")),is.transcript!=null&&is.hasOwnProperty("transcript")&&(ss.transcript=$root.SdkTranscript.toObject(is.transcript,os),os.oneofs&&(ss.Event="transcript")),ss},ts.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},ts.getTypeUrl=function(is){return is===void 0&&(is="type.googleapis.com"),is+"/SdkTranscriptEvent"},ts}();$root.SdkTranscriptFrame=function(){function ts(ns){if(this.events=[],ns)for(var rs=Object.keys(ns),is=0;is<rs.length;++is)ns[rs[is]]!=null&&(this[rs[is]]=ns[rs[is]])}return ts.prototype.events=$util.emptyArray,ts.create=function(rs){return new ts(rs)},ts.encode=function(rs,is){if(is||(is=$Writer.create()),rs.events!=null&&rs.events.length)for(var os=0;os<rs.events.length;++os)$root.SdkTranscriptEvent.encode(rs.events[os],is.uint32(10).fork()).ldelim();return is},ts.encodeDelimited=function(rs,is){return this.encode(rs,is).ldelim()},ts.decode=function(rs,is){rs instanceof $Reader||(rs=$Reader.create(rs));for(var os=is===void 0?rs.len:rs.pos+is,ss=new $root.SdkTranscriptFrame;rs.pos<os;){var as=rs.uint32();switch(as>>>3){case 1:{ss.events&&ss.events.length||(ss.events=[]),ss.events.push($root.SdkTranscriptEvent.decode(rs,rs.uint32()));break}default:rs.skipType(as&7);break}}return ss},ts.decodeDelimited=function(rs){return rs instanceof $Reader||(rs=new $Reader(rs)),this.decode(rs,rs.uint32())},ts.verify=function(rs){if(typeof rs!="object"||rs===null)return"object expected";if(rs.events!=null&&rs.hasOwnProperty("events")){if(!Array.isArray(rs.events))return"events: array expected";for(var is=0;is<rs.events.length;++is){var os=$root.SdkTranscriptEvent.verify(rs.events[is]);if(os)return"events."+os}}return null},ts.fromObject=function(rs){if(rs instanceof $root.SdkTranscriptFrame)return rs;var is=new $root.SdkTranscriptFrame;if(rs.events){if(!Array.isArray(rs.events))throw TypeError(".SdkTranscriptFrame.events: array expected");is.events=[];for(var os=0;os<rs.events.length;++os){if(typeof rs.events[os]!="object")throw TypeError(".SdkTranscriptFrame.events: object expected");is.events[os]=$root.SdkTranscriptEvent.fromObject(rs.events[os])}}return is},ts.toObject=function(rs,is){is||(is={});var os={};if((is.arrays||is.defaults)&&(os.events=[]),rs.events&&rs.events.length){os.events=[];for(var ss=0;ss<rs.events.length;++ss)os.events[ss]=$root.SdkTranscriptEvent.toObject(rs.events[ss],is)}return os},ts.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},ts.getTypeUrl=function(rs){return rs===void 0&&(rs="type.googleapis.com"),rs+"/SdkTranscriptFrame"},ts}();$root.SdkRemoteVideoUpdateFrame=function(){function ts(ns){if(this.addedOrUpdatedVideoSubscriptions=[],this.removedVideoSubscriptionMids=[],ns)for(var rs=Object.keys(ns),is=0;is<rs.length;++is)ns[rs[is]]!=null&&(this[rs[is]]=ns[rs[is]])}return ts.prototype.addedOrUpdatedVideoSubscriptions=$util.emptyArray,ts.prototype.removedVideoSubscriptionMids=$util.emptyArray,ts.create=function(rs){return new ts(rs)},ts.encode=function(rs,is){if(is||(is=$Writer.create()),rs.addedOrUpdatedVideoSubscriptions!=null&&rs.addedOrUpdatedVideoSubscriptions.length)for(var os=0;os<rs.addedOrUpdatedVideoSubscriptions.length;++os)$root.SdkVideoSubscriptionConfiguration.encode(rs.addedOrUpdatedVideoSubscriptions[os],is.uint32(10).fork()).ldelim();if(rs.removedVideoSubscriptionMids!=null&&rs.removedVideoSubscriptionMids.length)for(var os=0;os<rs.removedVideoSubscriptionMids.length;++os)is.uint32(18).string(rs.removedVideoSubscriptionMids[os]);return is},ts.encodeDelimited=function(rs,is){return this.encode(rs,is).ldelim()},ts.decode=function(rs,is){rs instanceof $Reader||(rs=$Reader.create(rs));for(var os=is===void 0?rs.len:rs.pos+is,ss=new $root.SdkRemoteVideoUpdateFrame;rs.pos<os;){var as=rs.uint32();switch(as>>>3){case 1:{ss.addedOrUpdatedVideoSubscriptions&&ss.addedOrUpdatedVideoSubscriptions.length||(ss.addedOrUpdatedVideoSubscriptions=[]),ss.addedOrUpdatedVideoSubscriptions.push($root.SdkVideoSubscriptionConfiguration.decode(rs,rs.uint32()));break}case 2:{ss.removedVideoSubscriptionMids&&ss.removedVideoSubscriptionMids.length||(ss.removedVideoSubscriptionMids=[]),ss.removedVideoSubscriptionMids.push(rs.string());break}default:rs.skipType(as&7);break}}return ss},ts.decodeDelimited=function(rs){return rs instanceof $Reader||(rs=new $Reader(rs)),this.decode(rs,rs.uint32())},ts.verify=function(rs){if(typeof rs!="object"||rs===null)return"object expected";if(rs.addedOrUpdatedVideoSubscriptions!=null&&rs.hasOwnProperty("addedOrUpdatedVideoSubscriptions")){if(!Array.isArray(rs.addedOrUpdatedVideoSubscriptions))return"addedOrUpdatedVideoSubscriptions: array expected";for(var is=0;is<rs.addedOrUpdatedVideoSubscriptions.length;++is){var os=$root.SdkVideoSubscriptionConfiguration.verify(rs.addedOrUpdatedVideoSubscriptions[is]);if(os)return"addedOrUpdatedVideoSubscriptions."+os}}if(rs.removedVideoSubscriptionMids!=null&&rs.hasOwnProperty("removedVideoSubscriptionMids")){if(!Array.isArray(rs.removedVideoSubscriptionMids))return"removedVideoSubscriptionMids: array expected";for(var is=0;is<rs.removedVideoSubscriptionMids.length;++is)if(!$util.isString(rs.removedVideoSubscriptionMids[is]))return"removedVideoSubscriptionMids: string[] expected"}return null},ts.fromObject=function(rs){if(rs instanceof $root.SdkRemoteVideoUpdateFrame)return rs;var is=new $root.SdkRemoteVideoUpdateFrame;if(rs.addedOrUpdatedVideoSubscriptions){if(!Array.isArray(rs.addedOrUpdatedVideoSubscriptions))throw TypeError(".SdkRemoteVideoUpdateFrame.addedOrUpdatedVideoSubscriptions: array expected");is.addedOrUpdatedVideoSubscriptions=[];for(var os=0;os<rs.addedOrUpdatedVideoSubscriptions.length;++os){if(typeof rs.addedOrUpdatedVideoSubscriptions[os]!="object")throw TypeError(".SdkRemoteVideoUpdateFrame.addedOrUpdatedVideoSubscriptions: object expected");is.addedOrUpdatedVideoSubscriptions[os]=$root.SdkVideoSubscriptionConfiguration.fromObject(rs.addedOrUpdatedVideoSubscriptions[os])}}if(rs.removedVideoSubscriptionMids){if(!Array.isArray(rs.removedVideoSubscriptionMids))throw TypeError(".SdkRemoteVideoUpdateFrame.removedVideoSubscriptionMids: array expected");is.removedVideoSubscriptionMids=[];for(var os=0;os<rs.removedVideoSubscriptionMids.length;++os)is.removedVideoSubscriptionMids[os]=String(rs.removedVideoSubscriptionMids[os])}return is},ts.toObject=function(rs,is){is||(is={});var os={};if((is.arrays||is.defaults)&&(os.addedOrUpdatedVideoSubscriptions=[],os.removedVideoSubscriptionMids=[]),rs.addedOrUpdatedVideoSubscriptions&&rs.addedOrUpdatedVideoSubscriptions.length){os.addedOrUpdatedVideoSubscriptions=[];for(var ss=0;ss<rs.addedOrUpdatedVideoSubscriptions.length;++ss)os.addedOrUpdatedVideoSubscriptions[ss]=$root.SdkVideoSubscriptionConfiguration.toObject(rs.addedOrUpdatedVideoSubscriptions[ss],is)}if(rs.removedVideoSubscriptionMids&&rs.removedVideoSubscriptionMids.length){os.removedVideoSubscriptionMids=[];for(var ss=0;ss<rs.removedVideoSubscriptionMids.length;++ss)os.removedVideoSubscriptionMids[ss]=rs.removedVideoSubscriptionMids[ss]}return os},ts.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},ts.getTypeUrl=function(rs){return rs===void 0&&(rs="type.googleapis.com"),rs+"/SdkRemoteVideoUpdateFrame"},ts}();$root.SdkVideoQualityAdaptationPreference=function(){var ts={},ns=Object.create(ts);return ns[ts[1]="BALANCED"]=1,ns[ts[2]="MAINTAIN_FRAMERATE"]=2,ns[ts[3]="MAINTAIN_RESOLUTION"]=3,ns}();$root.SdkVideoSubscriptionConfiguration=function(){function ts(ns){if(ns)for(var rs=Object.keys(ns),is=0;is<rs.length;++is)ns[rs[is]]!=null&&(this[rs[is]]=ns[rs[is]])}return ts.prototype.mid="",ts.prototype.attendeeId="",ts.prototype.streamId=0,ts.prototype.priority=0,ts.prototype.targetBitrateKbps=0,ts.prototype.groupId=0,ts.prototype.qualityAdaptationPreference=1,ts.create=function(rs){return new ts(rs)},ts.encode=function(rs,is){return is||(is=$Writer.create()),is.uint32(10).string(rs.mid),rs.attendeeId!=null&&Object.hasOwnProperty.call(rs,"attendeeId")&&is.uint32(18).string(rs.attendeeId),rs.streamId!=null&&Object.hasOwnProperty.call(rs,"streamId")&&is.uint32(24).uint32(rs.streamId),rs.priority!=null&&Object.hasOwnProperty.call(rs,"priority")&&is.uint32(32).uint32(rs.priority),rs.targetBitrateKbps!=null&&Object.hasOwnProperty.call(rs,"targetBitrateKbps")&&is.uint32(40).uint32(rs.targetBitrateKbps),rs.groupId!=null&&Object.hasOwnProperty.call(rs,"groupId")&&is.uint32(48).uint32(rs.groupId),rs.qualityAdaptationPreference!=null&&Object.hasOwnProperty.call(rs,"qualityAdaptationPreference")&&is.uint32(56).int32(rs.qualityAdaptationPreference),is},ts.encodeDelimited=function(rs,is){return this.encode(rs,is).ldelim()},ts.decode=function(rs,is){rs instanceof $Reader||(rs=$Reader.create(rs));for(var os=is===void 0?rs.len:rs.pos+is,ss=new $root.SdkVideoSubscriptionConfiguration;rs.pos<os;){var as=rs.uint32();switch(as>>>3){case 1:{ss.mid=rs.string();break}case 2:{ss.attendeeId=rs.string();break}case 3:{ss.streamId=rs.uint32();break}case 4:{ss.priority=rs.uint32();break}case 5:{ss.targetBitrateKbps=rs.uint32();break}case 6:{ss.groupId=rs.uint32();break}case 7:{ss.qualityAdaptationPreference=rs.int32();break}default:rs.skipType(as&7);break}}if(!ss.hasOwnProperty("mid"))throw $util.ProtocolError("missing required 'mid'",{instance:ss});return ss},ts.decodeDelimited=function(rs){return rs instanceof $Reader||(rs=new $Reader(rs)),this.decode(rs,rs.uint32())},ts.verify=function(rs){if(typeof rs!="object"||rs===null)return"object expected";if(!$util.isString(rs.mid))return"mid: string expected";if(rs.attendeeId!=null&&rs.hasOwnProperty("attendeeId")&&!$util.isString(rs.attendeeId))return"attendeeId: string expected";if(rs.streamId!=null&&rs.hasOwnProperty("streamId")&&!$util.isInteger(rs.streamId))return"streamId: integer expected";if(rs.priority!=null&&rs.hasOwnProperty("priority")&&!$util.isInteger(rs.priority))return"priority: integer expected";if(rs.targetBitrateKbps!=null&&rs.hasOwnProperty("targetBitrateKbps")&&!$util.isInteger(rs.targetBitrateKbps))return"targetBitrateKbps: integer expected";if(rs.groupId!=null&&rs.hasOwnProperty("groupId")&&!$util.isInteger(rs.groupId))return"groupId: integer expected";if(rs.qualityAdaptationPreference!=null&&rs.hasOwnProperty("qualityAdaptationPreference"))switch(rs.qualityAdaptationPreference){default:return"qualityAdaptationPreference: enum value expected";case 1:case 2:case 3:break}return null},ts.fromObject=function(rs){if(rs instanceof $root.SdkVideoSubscriptionConfiguration)return rs;var is=new $root.SdkVideoSubscriptionConfiguration;switch(rs.mid!=null&&(is.mid=String(rs.mid)),rs.attendeeId!=null&&(is.attendeeId=String(rs.attendeeId)),rs.streamId!=null&&(is.streamId=rs.streamId>>>0),rs.priority!=null&&(is.priority=rs.priority>>>0),rs.targetBitrateKbps!=null&&(is.targetBitrateKbps=rs.targetBitrateKbps>>>0),rs.groupId!=null&&(is.groupId=rs.groupId>>>0),rs.qualityAdaptationPreference){default:if(typeof rs.qualityAdaptationPreference=="number"){is.qualityAdaptationPreference=rs.qualityAdaptationPreference;break}break;case"BALANCED":case 1:is.qualityAdaptationPreference=1;break;case"MAINTAIN_FRAMERATE":case 2:is.qualityAdaptationPreference=2;break;case"MAINTAIN_RESOLUTION":case 3:is.qualityAdaptationPreference=3;break}return is},ts.toObject=function(rs,is){is||(is={});var os={};return is.defaults&&(os.mid="",os.attendeeId="",os.streamId=0,os.priority=0,os.targetBitrateKbps=0,os.groupId=0,os.qualityAdaptationPreference=is.enums===String?"BALANCED":1),rs.mid!=null&&rs.hasOwnProperty("mid")&&(os.mid=rs.mid),rs.attendeeId!=null&&rs.hasOwnProperty("attendeeId")&&(os.attendeeId=rs.attendeeId),rs.streamId!=null&&rs.hasOwnProperty("streamId")&&(os.streamId=rs.streamId),rs.priority!=null&&rs.hasOwnProperty("priority")&&(os.priority=rs.priority),rs.targetBitrateKbps!=null&&rs.hasOwnProperty("targetBitrateKbps")&&(os.targetBitrateKbps=rs.targetBitrateKbps),rs.groupId!=null&&rs.hasOwnProperty("groupId")&&(os.groupId=rs.groupId),rs.qualityAdaptationPreference!=null&&rs.hasOwnProperty("qualityAdaptationPreference")&&(os.qualityAdaptationPreference=is.enums===String?$root.SdkVideoQualityAdaptationPreference[rs.qualityAdaptationPreference]===void 0?rs.qualityAdaptationPreference:$root.SdkVideoQualityAdaptationPreference[rs.qualityAdaptationPreference]:rs.qualityAdaptationPreference),os},ts.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},ts.getTypeUrl=function(rs){return rs===void 0&&(rs="type.googleapis.com"),rs+"/SdkVideoSubscriptionConfiguration"},ts}();$root.SdkNotificationFrame=function(){function ts(ns){if(ns)for(var rs=Object.keys(ns),is=0;is<rs.length;++is)ns[rs[is]]!=null&&(this[rs[is]]=ns[rs[is]])}return ts.prototype.level=3,ts.prototype.message="",ts.create=function(rs){return new ts(rs)},ts.encode=function(rs,is){return is||(is=$Writer.create()),rs.level!=null&&Object.hasOwnProperty.call(rs,"level")&&is.uint32(8).int32(rs.level),rs.message!=null&&Object.hasOwnProperty.call(rs,"message")&&is.uint32(18).string(rs.message),is},ts.encodeDelimited=function(rs,is){return this.encode(rs,is).ldelim()},ts.decode=function(rs,is){rs instanceof $Reader||(rs=$Reader.create(rs));for(var os=is===void 0?rs.len:rs.pos+is,ss=new $root.SdkNotificationFrame;rs.pos<os;){var as=rs.uint32();switch(as>>>3){case 1:{ss.level=rs.int32();break}case 2:{ss.message=rs.string();break}default:rs.skipType(as&7);break}}return ss},ts.decodeDelimited=function(rs){return rs instanceof $Reader||(rs=new $Reader(rs)),this.decode(rs,rs.uint32())},ts.verify=function(rs){if(typeof rs!="object"||rs===null)return"object expected";if(rs.level!=null&&rs.hasOwnProperty("level"))switch(rs.level){default:return"level: enum value expected";case 1:case 2:case 3:break}return rs.message!=null&&rs.hasOwnProperty("message")&&!$util.isString(rs.message)?"message: string expected":null},ts.fromObject=function(rs){if(rs instanceof $root.SdkNotificationFrame)return rs;var is=new $root.SdkNotificationFrame;switch(rs.level){case"INFO":case 1:is.level=1;break;case"WARNING":case 2:is.level=2;break;default:if(typeof rs.level=="number"){is.level=rs.level;break}break;case"ERROR":case 3:is.level=3;break}return rs.message!=null&&(is.message=String(rs.message)),is},ts.toObject=function(rs,is){is||(is={});var os={};return is.defaults&&(os.level=is.enums===String?"ERROR":3,os.message=""),rs.level!=null&&rs.hasOwnProperty("level")&&(os.level=is.enums===String?$root.SdkNotificationFrame.NotificationLevel[rs.level]===void 0?rs.level:$root.SdkNotificationFrame.NotificationLevel[rs.level]:rs.level),rs.message!=null&&rs.hasOwnProperty("message")&&(os.message=rs.message),os},ts.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},ts.getTypeUrl=function(rs){return rs===void 0&&(rs="type.googleapis.com"),rs+"/SdkNotificationFrame"},ts.NotificationLevel=function(){var ns={},rs=Object.create(ns);return rs[ns[1]="INFO"]=1,rs[ns[2]="WARNING"]=2,rs[ns[3]="ERROR"]=3,rs}(),ts}();$root.SdkPrimaryMeetingJoinFrame=function(){function ts(ns){if(ns)for(var rs=Object.keys(ns),is=0;is<rs.length;++is)ns[rs[is]]!=null&&(this[rs[is]]=ns[rs[is]])}return ts.prototype.credentials=null,ts.create=function(rs){return new ts(rs)},ts.encode=function(rs,is){return is||(is=$Writer.create()),rs.credentials!=null&&Object.hasOwnProperty.call(rs,"credentials")&&$root.SdkMeetingSessionCredentials.encode(rs.credentials,is.uint32(10).fork()).ldelim(),is},ts.encodeDelimited=function(rs,is){return this.encode(rs,is).ldelim()},ts.decode=function(rs,is){rs instanceof $Reader||(rs=$Reader.create(rs));for(var os=is===void 0?rs.len:rs.pos+is,ss=new $root.SdkPrimaryMeetingJoinFrame;rs.pos<os;){var as=rs.uint32();switch(as>>>3){case 1:{ss.credentials=$root.SdkMeetingSessionCredentials.decode(rs,rs.uint32());break}default:rs.skipType(as&7);break}}return ss},ts.decodeDelimited=function(rs){return rs instanceof $Reader||(rs=new $Reader(rs)),this.decode(rs,rs.uint32())},ts.verify=function(rs){if(typeof rs!="object"||rs===null)return"object expected";if(rs.credentials!=null&&rs.hasOwnProperty("credentials")){var is=$root.SdkMeetingSessionCredentials.verify(rs.credentials);if(is)return"credentials."+is}return null},ts.fromObject=function(rs){if(rs instanceof $root.SdkPrimaryMeetingJoinFrame)return rs;var is=new $root.SdkPrimaryMeetingJoinFrame;if(rs.credentials!=null){if(typeof rs.credentials!="object")throw TypeError(".SdkPrimaryMeetingJoinFrame.credentials: object expected");is.credentials=$root.SdkMeetingSessionCredentials.fromObject(rs.credentials)}return is},ts.toObject=function(rs,is){is||(is={});var os={};return is.defaults&&(os.credentials=null),rs.credentials!=null&&rs.hasOwnProperty("credentials")&&(os.credentials=$root.SdkMeetingSessionCredentials.toObject(rs.credentials,is)),os},ts.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},ts.getTypeUrl=function(rs){return rs===void 0&&(rs="type.googleapis.com"),rs+"/SdkPrimaryMeetingJoinFrame"},ts}();$root.SdkPrimaryMeetingJoinAckFrame=function(){function ts(ns){if(ns)for(var rs=Object.keys(ns),is=0;is<rs.length;++is)ns[rs[is]]!=null&&(this[rs[is]]=ns[rs[is]])}return ts.create=function(rs){return new ts(rs)},ts.encode=function(rs,is){return is||(is=$Writer.create()),is},ts.encodeDelimited=function(rs,is){return this.encode(rs,is).ldelim()},ts.decode=function(rs,is){rs instanceof $Reader||(rs=$Reader.create(rs));for(var os=is===void 0?rs.len:rs.pos+is,ss=new $root.SdkPrimaryMeetingJoinAckFrame;rs.pos<os;){var as=rs.uint32();switch(as>>>3){default:rs.skipType(as&7);break}}return ss},ts.decodeDelimited=function(rs){return rs instanceof $Reader||(rs=new $Reader(rs)),this.decode(rs,rs.uint32())},ts.verify=function(rs){return typeof rs!="object"||rs===null?"object expected":null},ts.fromObject=function(rs){return rs instanceof $root.SdkPrimaryMeetingJoinAckFrame?rs:new $root.SdkPrimaryMeetingJoinAckFrame},ts.toObject=function(){return{}},ts.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},ts.getTypeUrl=function(rs){return rs===void 0&&(rs="type.googleapis.com"),rs+"/SdkPrimaryMeetingJoinAckFrame"},ts}();$root.SdkPrimaryMeetingLeaveFrame=function(){function ts(ns){if(ns)for(var rs=Object.keys(ns),is=0;is<rs.length;++is)ns[rs[is]]!=null&&(this[rs[is]]=ns[rs[is]])}return ts.create=function(rs){return new ts(rs)},ts.encode=function(rs,is){return is||(is=$Writer.create()),is},ts.encodeDelimited=function(rs,is){return this.encode(rs,is).ldelim()},ts.decode=function(rs,is){rs instanceof $Reader||(rs=$Reader.create(rs));for(var os=is===void 0?rs.len:rs.pos+is,ss=new $root.SdkPrimaryMeetingLeaveFrame;rs.pos<os;){var as=rs.uint32();switch(as>>>3){default:rs.skipType(as&7);break}}return ss},ts.decodeDelimited=function(rs){return rs instanceof $Reader||(rs=new $Reader(rs)),this.decode(rs,rs.uint32())},ts.verify=function(rs){return typeof rs!="object"||rs===null?"object expected":null},ts.fromObject=function(rs){return rs instanceof $root.SdkPrimaryMeetingLeaveFrame?rs:new $root.SdkPrimaryMeetingLeaveFrame},ts.toObject=function(){return{}},ts.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},ts.getTypeUrl=function(rs){return rs===void 0&&(rs="type.googleapis.com"),rs+"/SdkPrimaryMeetingLeaveFrame"},ts}();$root.SdkMeetingSessionCredentials=function(){function ts(ns){if(ns)for(var rs=Object.keys(ns),is=0;is<rs.length;++is)ns[rs[is]]!=null&&(this[rs[is]]=ns[rs[is]])}return ts.prototype.attendeeId="",ts.prototype.externalUserId="",ts.prototype.joinToken="",ts.create=function(rs){return new ts(rs)},ts.encode=function(rs,is){return is||(is=$Writer.create()),rs.attendeeId!=null&&Object.hasOwnProperty.call(rs,"attendeeId")&&is.uint32(10).string(rs.attendeeId),rs.externalUserId!=null&&Object.hasOwnProperty.call(rs,"externalUserId")&&is.uint32(18).string(rs.externalUserId),rs.joinToken!=null&&Object.hasOwnProperty.call(rs,"joinToken")&&is.uint32(26).string(rs.joinToken),is},ts.encodeDelimited=function(rs,is){return this.encode(rs,is).ldelim()},ts.decode=function(rs,is){rs instanceof $Reader||(rs=$Reader.create(rs));for(var os=is===void 0?rs.len:rs.pos+is,ss=new $root.SdkMeetingSessionCredentials;rs.pos<os;){var as=rs.uint32();switch(as>>>3){case 1:{ss.attendeeId=rs.string();break}case 2:{ss.externalUserId=rs.string();break}case 3:{ss.joinToken=rs.string();break}default:rs.skipType(as&7);break}}return ss},ts.decodeDelimited=function(rs){return rs instanceof $Reader||(rs=new $Reader(rs)),this.decode(rs,rs.uint32())},ts.verify=function(rs){return typeof rs!="object"||rs===null?"object expected":rs.attendeeId!=null&&rs.hasOwnProperty("attendeeId")&&!$util.isString(rs.attendeeId)?"attendeeId: string expected":rs.externalUserId!=null&&rs.hasOwnProperty("externalUserId")&&!$util.isString(rs.externalUserId)?"externalUserId: string expected":rs.joinToken!=null&&rs.hasOwnProperty("joinToken")&&!$util.isString(rs.joinToken)?"joinToken: string expected":null},ts.fromObject=function(rs){if(rs instanceof $root.SdkMeetingSessionCredentials)return rs;var is=new $root.SdkMeetingSessionCredentials;return rs.attendeeId!=null&&(is.attendeeId=String(rs.attendeeId)),rs.externalUserId!=null&&(is.externalUserId=String(rs.externalUserId)),rs.joinToken!=null&&(is.joinToken=String(rs.joinToken)),is},ts.toObject=function(rs,is){is||(is={});var os={};return is.defaults&&(os.attendeeId="",os.externalUserId="",os.joinToken=""),rs.attendeeId!=null&&rs.hasOwnProperty("attendeeId")&&(os.attendeeId=rs.attendeeId),rs.externalUserId!=null&&rs.hasOwnProperty("externalUserId")&&(os.externalUserId=rs.externalUserId),rs.joinToken!=null&&rs.hasOwnProperty("joinToken")&&(os.joinToken=rs.joinToken),os},ts.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},ts.getTypeUrl=function(rs){return rs===void 0&&(rs="type.googleapis.com"),rs+"/SdkMeetingSessionCredentials"},ts}();$root.SdkVideoCodecCapability=function(){var ts={},ns=Object.create(ts);return ns[ts[1]="VP8"]=1,ns[ts[2]="H264_BASELINE_PROFILE"]=2,ns[ts[3]="H264_CONSTRAINED_BASELINE_PROFILE"]=3,ns[ts[4]="H264_MAIN_PROFILE"]=4,ns[ts[5]="H264_HIGH_PROFILE"]=5,ns[ts[6]="H264_CONSTRAINED_HIGH_PROFILE"]=6,ns[ts[8]="VP9_PROFILE_0"]=8,ns[ts[11]="AV1_MAIN_PROFILE"]=11,ns}();var SignalingProtocol=$root;$util.Long=void 0;$protobuf.configure();var ClientMetricReportDirection={};(function(ts){Object.defineProperty(ts,"__esModule",{value:!0}),ts.ClientMetricReportDirection=void 0;var ns;(function(rs){rs[rs.UPSTREAM=0]="UPSTREAM",rs[rs.DOWNSTREAM=1]="DOWNSTREAM"})(ns=ts.ClientMetricReportDirection||(ts.ClientMetricReportDirection={})),ts.default=ns})(ClientMetricReportDirection);var ClientMetricReportMediaType={};(function(ts){Object.defineProperty(ts,"__esModule",{value:!0}),ts.ClientMetricReportMediaType=void 0;var ns;(function(rs){rs[rs.AUDIO=0]="AUDIO",rs[rs.VIDEO=1]="VIDEO"})(ns=ts.ClientMetricReportMediaType||(ts.ClientMetricReportMediaType={})),ts.default=ns})(ClientMetricReportMediaType);var GlobalMetricReport$1={};Object.defineProperty(GlobalMetricReport$1,"__esModule",{value:!0});class GlobalMetricReport{constructor(){this.previousMetrics={},this.currentMetrics={},this.currentStringMetrics={},this.previousObjectMetrics={},this.currentObjectMetrics={}}}GlobalMetricReport$1.default=GlobalMetricReport;var __importDefault$1u=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(ClientMetricReport$1,"__esModule",{value:!0});const SignalingProtocol_js_1$f=SignalingProtocol,ClientMetricReportDirection_1$3=__importDefault$1u(ClientMetricReportDirection),ClientMetricReportMediaType_1$3=__importDefault$1u(ClientMetricReportMediaType),GlobalMetricReport_1=__importDefault$1u(GlobalMetricReport$1);class ClientMetricReport{constructor(ns,rs,is){this.logger=ns,this.videoStreamIndex=rs,this.selfAttendeeId=is,this.globalMetricReport=new GlobalMetricReport_1.default,this.streamMetricReports={},this.rtcStatsReport={},this.customStatsReports=[],this.currentTimestampMs=0,this.previousTimestampMs=0,this.currentSsrcs={},this.overriddenObservableMetrics=new Map,this.identityValue=(os,ss)=>{const as=ss?this.streamMetricReports[ss]:this.globalMetricReport;return Number(as.currentMetrics[os])},this.decoderLossPercent=(os,ss)=>{const as=this.streamMetricReports[ss],ls=as.currentMetrics.concealedSamples-(as.previousMetrics.concealedSamples||0),cs=as.currentMetrics.totalSamplesReceived-(as.previousMetrics.totalSamplesReceived||0);return cs<=0||cs-ls<=0?0:ls/cs*100},this.packetLossPercent=(os,ss)=>{const as=this.streamMetricReports[ss],ls=as.currentMetrics[os]-(as.previousMetrics[os]||0),cs=as.currentMetrics.packetsLost-(as.previousMetrics.packetsLost||0),us=ls+cs;return us<=0||cs<=0?0:cs*100/us},this.jitterBufferMs=(os,ss)=>{const as=this.streamMetricReports[ss],ls=as.currentMetrics.jitterBufferDelay-(as.previousMetrics.jitterBufferDelay||0),cs=as.currentMetrics.jitterBufferEmittedCount-(as.previousMetrics.jitterBufferEmittedCount||0);return ls<=0||cs<=0?0:ls/cs*1e3},this.countPerSecond=(os,ss)=>{const as=ss?this.streamMetricReports[ss]:this.globalMetricReport;let ls=(this.currentTimestampMs-this.previousTimestampMs)/1e3;if(ls<=0)return 0;this.previousTimestampMs<=0&&(ls=1);const cs=as.currentMetrics[os]-(as.previousMetrics[os]||0);return cs<=0?0:Math.trunc(cs/ls)},this.bitsPerSecond=(os,ss)=>{const as=ss?this.streamMetricReports[ss]:this.globalMetricReport;let ls=(this.currentTimestampMs-this.previousTimestampMs)/1e3;if(ls<=0)return 0;this.previousTimestampMs<=0&&(ls=1);const cs=(as.currentMetrics[os]-(as.previousMetrics[os]||0))*8;return cs<=0?0:Math.trunc(cs/ls)},this.secondsToMilliseconds=(os,ss)=>{const as=ss?this.streamMetricReports[ss]:this.globalMetricReport;return Number(as.currentMetrics[os]*1e3)},this.averageTimeSpentPerSecondInMilliseconds=(os,ss)=>{const as=ss?this.streamMetricReports[ss]:this.globalMetricReport;let ls=(this.currentTimestampMs-this.previousTimestampMs)/1e3;if(ls<=0)return 0;this.previousTimestampMs<=0&&(ls=1);const cs=as.currentMetrics[os]-(as.previousMetrics[os]||0);return cs<=0?0:cs*1e3/ls},this.averageCpuQualityLimitationDurationPerSecondInMilliseconds=(os,ss)=>{const as=this.streamMetricReports[ss];if(as.previousObjectMetrics[os]===void 0||as.currentObjectMetrics[os]===void 0)return NaN;let ls=(this.currentTimestampMs-this.previousTimestampMs)/1e3;if(ls<=0)return 0;this.previousTimestampMs<=0&&(ls=1);let cs=0,us=0;for(const[ps,hs]of Object.entries(as.previousObjectMetrics[os]))ps==="cpu"&&(cs=hs);for(const[ps,hs]of Object.entries(as.currentObjectMetrics[os]))ps==="cpu"&&(us=hs);const ds=us-cs;return ds<=0?0:ds*1e3/ls},this.isHardwareImplementation=(os,ss)=>{const as=this.streamMetricReports[ss];if(as.currentStringMetrics[os]===void 0)return NaN;const ls=String(as.currentStringMetrics[os]),cs=ls.includes("ExternalDecoder")||ls.includes("ExternalEncoder")||ls.includes("EncodeAccelerator")||ls.includes("DecodeAccelerator"),us=ls.includes("fallback from");return cs&&!us?1:0},this.globalMetricMap={retransmittedBytesSent:{transform:this.identityValue,type:SignalingProtocol_js_1$f.SdkMetric.Type.VIDEO_RETRANSMIT_BITRATE},totalEncodedBytesTarget:{transform:this.identityValue,type:SignalingProtocol_js_1$f.SdkMetric.Type.VIDEO_TARGET_ENCODER_BITRATE},totalPacketSendDelay:{transform:this.identityValue,type:SignalingProtocol_js_1$f.SdkMetric.Type.VIDEO_BUCKET_DELAY_MS},packetsDiscardedOnSend:{transform:this.countPerSecond,type:SignalingProtocol_js_1$f.SdkMetric.Type.SOCKET_DISCARDED_PPS},availableIncomingBitrate:{transform:this.identityValue,type:SignalingProtocol_js_1$f.SdkMetric.Type.VIDEO_AVAILABLE_RECEIVE_BANDWIDTH},availableOutgoingBitrate:{transform:this.identityValue,type:SignalingProtocol_js_1$f.SdkMetric.Type.VIDEO_AVAILABLE_SEND_BANDWIDTH},currentRoundTripTime:{transform:this.secondsToMilliseconds,type:SignalingProtocol_js_1$f.SdkMetric.Type.STUN_RTT_MS},audioLevel:{transform:this.identityValue,type:SignalingProtocol_js_1$f.SdkMetric.Type.RTC_MIC_AUDIO_LEVEL,source:"audioLevel"}},this.audioUpstreamMetricMap={jitter:{transform:this.secondsToMilliseconds,type:SignalingProtocol_js_1$f.SdkMetric.Type.RTC_MIC_JITTER_MS},packetsSent:{transform:this.countPerSecond,type:SignalingProtocol_js_1$f.SdkMetric.Type.RTC_MIC_PPS},bytesSent:{transform:this.bitsPerSecond,type:SignalingProtocol_js_1$f.SdkMetric.Type.RTC_MIC_BITRATE},roundTripTime:{transform:this.secondsToMilliseconds,type:SignalingProtocol_js_1$f.SdkMetric.Type.RTC_MIC_RTT_MS},packetsLost:{transform:this.packetLossPercent,type:SignalingProtocol_js_1$f.SdkMetric.Type.RTC_MIC_FRACTION_PACKET_LOST_PERCENT,source:"packetsSent"}},this.audioDownstreamMetricMap={concealedSamples:{transform:this.countPerSecond},totalSamplesReceived:{transform:this.countPerSecond},decoderLoss:{transform:this.decoderLossPercent,type:SignalingProtocol_js_1$f.SdkMetric.Type.RTC_SPK_FRACTION_DECODER_LOSS_PERCENT},packetsReceived:{transform:this.countPerSecond,type:SignalingProtocol_js_1$f.SdkMetric.Type.RTC_SPK_PPS},packetsLost:{transform:this.packetLossPercent,type:SignalingProtocol_js_1$f.SdkMetric.Type.RTC_SPK_FRACTION_PACKET_LOST_PERCENT,source:"packetsReceived"},jitter:{transform:this.secondsToMilliseconds,type:SignalingProtocol_js_1$f.SdkMetric.Type.RTC_SPK_JITTER_MS},jitterBufferDelay:{transform:this.countPerSecond},jitterBufferEmittedCount:{transform:this.countPerSecond},jitterBufferMs:{transform:this.jitterBufferMs,type:SignalingProtocol_js_1$f.SdkMetric.Type.RTC_SPK_JITTER_BUFFER_MS},bytesReceived:{transform:this.bitsPerSecond,type:SignalingProtocol_js_1$f.SdkMetric.Type.RTC_SPK_BITRATE},audioLevel:{transform:this.identityValue,type:SignalingProtocol_js_1$f.SdkMetric.Type.RTC_SPK_AUDIO_LEVEL},totalAudioPacketsLost:{transform:this.identityValue,type:SignalingProtocol_js_1$f.SdkMetric.Type.RTC_SPK_TOTAL_LOST},totalAudioPacketsExpected:{transform:this.identityValue,type:SignalingProtocol_js_1$f.SdkMetric.Type.RTC_SPK_TOTAL_EXPECTED},totalAudioPacketsRecoveredRed:{transform:this.identityValue,type:SignalingProtocol_js_1$f.SdkMetric.Type.RTC_SPK_TOTAL_RECOVERED_RED},totalAudioPacketsRecoveredFec:{transform:this.identityValue,type:SignalingProtocol_js_1$f.SdkMetric.Type.RTC_SPK_TOTAL_RECOVERED_FEC}},this.videoUpstreamMetricMap={roundTripTime:{transform:this.secondsToMilliseconds,type:SignalingProtocol_js_1$f.SdkMetric.Type.VIDEO_SENT_RTT_MS},nackCount:{transform:this.countPerSecond,type:SignalingProtocol_js_1$f.SdkMetric.Type.VIDEO_NACKS_RECEIVED},pliCount:{transform:this.countPerSecond,type:SignalingProtocol_js_1$f.SdkMetric.Type.VIDEO_PLIS_RECEIVED},firCount:{transform:this.countPerSecond,type:SignalingProtocol_js_1$f.SdkMetric.Type.VIDEO_FIRS_RECEIVED},framesPerSecond:{transform:this.identityValue,type:SignalingProtocol_js_1$f.SdkMetric.Type.VIDEO_INPUT_FPS},framesEncoded:{transform:this.countPerSecond,type:SignalingProtocol_js_1$f.SdkMetric.Type.VIDEO_ENCODE_FPS},packetsSent:{transform:this.countPerSecond,type:SignalingProtocol_js_1$f.SdkMetric.Type.VIDEO_SENT_PPS},packetsLost:{transform:this.packetLossPercent,type:SignalingProtocol_js_1$f.SdkMetric.Type.VIDEO_SENT_FRACTION_PACKET_LOST_PERCENT,source:"packetsSent"},bytesSent:{transform:this.bitsPerSecond,type:SignalingProtocol_js_1$f.SdkMetric.Type.VIDEO_SENT_BITRATE},qpSum:{transform:this.countPerSecond,type:SignalingProtocol_js_1$f.SdkMetric.Type.VIDEO_SENT_QP_SUM},frameHeight:{transform:this.identityValue,type:SignalingProtocol_js_1$f.SdkMetric.Type.VIDEO_ENCODE_HEIGHT},frameWidth:{transform:this.identityValue,type:SignalingProtocol_js_1$f.SdkMetric.Type.VIDEO_ENCODE_WIDTH},jitter:{transform:this.secondsToMilliseconds},totalEncodeTime:{transform:this.averageTimeSpentPerSecondInMilliseconds,type:SignalingProtocol_js_1$f.SdkMetric.Type.VIDEO_ENCODE_MS},encoderImplementation:{transform:this.isHardwareImplementation,type:SignalingProtocol_js_1$f.SdkMetric.Type.VIDEO_ENCODER_IS_HARDWARE},qualityLimitationDurations:{transform:this.averageCpuQualityLimitationDurationPerSecondInMilliseconds,type:SignalingProtocol_js_1$f.SdkMetric.Type.VIDEO_QUALITY_LIMITATION_DURATION_CPU},videoCodecDegradationHighEncodeCpu:{transform:this.identityValue,type:SignalingProtocol_js_1$f.SdkMetric.Type.VIDEO_CODEC_DEGRADATION_HIGH_ENCODE_CPU},videoCodecDegradationEncodeFailure:{transform:this.identityValue,type:SignalingProtocol_js_1$f.SdkMetric.Type.VIDEO_CODEC_DEGRADATION_ENCODE_FAILURE}},this.videoDownstreamMetricMap={packetsReceived:{transform:this.countPerSecond,type:SignalingProtocol_js_1$f.SdkMetric.Type.VIDEO_RECEIVED_PPS},packetsLost:{transform:this.packetLossPercent,type:SignalingProtocol_js_1$f.SdkMetric.Type.VIDEO_RECEIVED_FRACTION_PACKET_LOST_PERCENT,source:"packetsReceived"},framesReceived:{transform:this.identityValue,type:SignalingProtocol_js_1$f.SdkMetric.Type.VIDEO_RECEIVED_FPS},framesDecoded:{transform:this.countPerSecond,type:SignalingProtocol_js_1$f.SdkMetric.Type.VIDEO_DECODE_FPS},nackCount:{transform:this.countPerSecond,type:SignalingProtocol_js_1$f.SdkMetric.Type.VIDEO_NACKS_SENT},firCount:{transform:this.countPerSecond,type:SignalingProtocol_js_1$f.SdkMetric.Type.VIDEO_FIRS_SENT},pliCount:{transform:this.countPerSecond,type:SignalingProtocol_js_1$f.SdkMetric.Type.VIDEO_PLIS_SENT},bytesReceived:{transform:this.bitsPerSecond,type:SignalingProtocol_js_1$f.SdkMetric.Type.VIDEO_RECEIVED_BITRATE},jitter:{transform:this.secondsToMilliseconds,type:SignalingProtocol_js_1$f.SdkMetric.Type.VIDEO_RECEIVED_JITTER_MS},jitterBufferDelay:{transform:this.countPerSecond},jitterBufferEmittedCount:{transform:this.countPerSecond},jitterBufferMs:{transform:this.jitterBufferMs,type:SignalingProtocol_js_1$f.SdkMetric.Type.VIDEO_JITTER_BUFFER_MS},qpSum:{transform:this.countPerSecond,type:SignalingProtocol_js_1$f.SdkMetric.Type.VIDEO_RECEIVED_QP_SUM},frameHeight:{transform:this.identityValue,type:SignalingProtocol_js_1$f.SdkMetric.Type.VIDEO_DECODE_HEIGHT},frameWidth:{transform:this.identityValue,type:SignalingProtocol_js_1$f.SdkMetric.Type.VIDEO_DECODE_WIDTH},totalDecodeTime:{transform:this.averageTimeSpentPerSecondInMilliseconds,type:SignalingProtocol_js_1$f.SdkMetric.Type.VIDEO_DECODE_MS},decoderImplementation:{transform:this.isHardwareImplementation,type:SignalingProtocol_js_1$f.SdkMetric.Type.VIDEO_DECODER_IS_HARDWARE},totalFreezesDuration:{transform:this.averageTimeSpentPerSecondInMilliseconds,type:SignalingProtocol_js_1$f.SdkMetric.Type.VIDEO_FREEZE_DURATION},freezeCount:{transform:this.countPerSecond,type:SignalingProtocol_js_1$f.SdkMetric.Type.VIDEO_FREEZE_COUNT},totalPausesDuration:{transform:this.averageTimeSpentPerSecondInMilliseconds,type:SignalingProtocol_js_1$f.SdkMetric.Type.VIDEO_PAUSE_DURATION},pauseCount:{transform:this.countPerSecond,type:SignalingProtocol_js_1$f.SdkMetric.Type.VIDEO_PAUSE_COUNT},framesDropped:{transform:this.countPerSecond,type:SignalingProtocol_js_1$f.SdkMetric.Type.VIDEO_DROPPED_FPS}},this.streamDimensionMap={encoderImplementation:SignalingProtocol_js_1$f.SdkStreamDimension.Type.VIDEO_ENCODER_NAME,decoderImplementation:SignalingProtocol_js_1$f.SdkStreamDimension.Type.VIDEO_DECODER_NAME},this.observableVideoMetricSpec={videoUpstreamBitrate:{source:"bytesSent",media:ClientMetricReportMediaType_1$3.default.VIDEO,dir:ClientMetricReportDirection_1$3.default.UPSTREAM},videoUpstreamPacketsSent:{source:"packetsSent",media:ClientMetricReportMediaType_1$3.default.VIDEO,dir:ClientMetricReportDirection_1$3.default.UPSTREAM},videoUpstreamPacketLossPercent:{source:"packetsLost",media:ClientMetricReportMediaType_1$3.default.VIDEO,dir:ClientMetricReportDirection_1$3.default.UPSTREAM},videoUpstreamFramesEncodedPerSecond:{source:"framesEncoded",media:ClientMetricReportMediaType_1$3.default.VIDEO,dir:ClientMetricReportDirection_1$3.default.UPSTREAM},videoUpstreamFramesInputPerSecond:{source:"framesPerSecond",media:ClientMetricReportMediaType_1$3.default.VIDEO,dir:ClientMetricReportDirection_1$3.default.UPSTREAM},videoUpstreamFrameHeight:{source:"frameHeight",media:ClientMetricReportMediaType_1$3.default.VIDEO,dir:ClientMetricReportDirection_1$3.default.UPSTREAM},videoUpstreamFrameWidth:{source:"frameWidth",media:ClientMetricReportMediaType_1$3.default.VIDEO,dir:ClientMetricReportDirection_1$3.default.UPSTREAM},videoUpstreamJitterMs:{source:"jitter",media:ClientMetricReportMediaType_1$3.default.VIDEO,dir:ClientMetricReportDirection_1$3.default.UPSTREAM},videoUpstreamRoundTripTimeMs:{source:"roundTripTime",media:ClientMetricReportMediaType_1$3.default.VIDEO,dir:ClientMetricReportDirection_1$3.default.UPSTREAM},videoUpstreamEncoderImplementation:{source:"encoderImplementation",media:ClientMetricReportMediaType_1$3.default.VIDEO,dir:ClientMetricReportDirection_1$3.default.UPSTREAM},videoUpstreamTotalEncodeTimePerSecond:{source:"totalEncodeTime",media:ClientMetricReportMediaType_1$3.default.VIDEO,dir:ClientMetricReportDirection_1$3.default.UPSTREAM},videoUpstreamCpuQualityLimitationDurationPerSecond:{source:"qualityLimitationDurations",media:ClientMetricReportMediaType_1$3.default.VIDEO,dir:ClientMetricReportDirection_1$3.default.UPSTREAM},videoDownstreamBitrate:{source:"bytesReceived",media:ClientMetricReportMediaType_1$3.default.VIDEO,dir:ClientMetricReportDirection_1$3.default.DOWNSTREAM},videoDownstreamPacketLossPercent:{source:"packetsLost",media:ClientMetricReportMediaType_1$3.default.VIDEO,dir:ClientMetricReportDirection_1$3.default.DOWNSTREAM},videoDownstreamPacketsReceived:{source:"packetsReceived",media:ClientMetricReportMediaType_1$3.default.VIDEO,dir:ClientMetricReportDirection_1$3.default.DOWNSTREAM},videoDownstreamFramesDecodedPerSecond:{source:"framesDecoded",media:ClientMetricReportMediaType_1$3.default.VIDEO,dir:ClientMetricReportDirection_1$3.default.DOWNSTREAM},videoDownstreamFrameHeight:{source:"frameHeight",media:ClientMetricReportMediaType_1$3.default.VIDEO,dir:ClientMetricReportDirection_1$3.default.DOWNSTREAM},videoDownstreamFrameWidth:{source:"frameWidth",media:ClientMetricReportMediaType_1$3.default.VIDEO,dir:ClientMetricReportDirection_1$3.default.DOWNSTREAM},videoDownstreamJitterMs:{source:"jitter",media:ClientMetricReportMediaType_1$3.default.VIDEO,dir:ClientMetricReportDirection_1$3.default.DOWNSTREAM},videoDownstreamDelayMs:{source:"jitterBufferMs",media:ClientMetricReportMediaType_1$3.default.VIDEO,dir:ClientMetricReportDirection_1$3.default.DOWNSTREAM}},this.observableMetricSpec={audioPacketsReceived:{source:"packetsReceived",media:ClientMetricReportMediaType_1$3.default.AUDIO,dir:ClientMetricReportDirection_1$3.default.DOWNSTREAM},audioPacketsReceivedFractionLoss:{source:"packetsLost",media:ClientMetricReportMediaType_1$3.default.AUDIO,dir:ClientMetricReportDirection_1$3.default.DOWNSTREAM},audioDecoderLoss:{source:"decoderLoss",media:ClientMetricReportMediaType_1$3.default.AUDIO,dir:ClientMetricReportDirection_1$3.default.DOWNSTREAM},audioPacketsSent:{source:"packetsSent",media:ClientMetricReportMediaType_1$3.default.AUDIO,dir:ClientMetricReportDirection_1$3.default.UPSTREAM},audioPacketLossPercent:{source:"packetsLost",media:ClientMetricReportMediaType_1$3.default.AUDIO,dir:ClientMetricReportDirection_1$3.default.UPSTREAM},audioUpstreamRoundTripTimeMs:{source:"roundTripTime",media:ClientMetricReportMediaType_1$3.default.AUDIO,dir:ClientMetricReportDirection_1$3.default.UPSTREAM},videoUpstreamBitrate:{source:"bytesSent",media:ClientMetricReportMediaType_1$3.default.VIDEO,dir:ClientMetricReportDirection_1$3.default.UPSTREAM},videoPacketSentPerSecond:{source:"packetsSent",media:ClientMetricReportMediaType_1$3.default.VIDEO,dir:ClientMetricReportDirection_1$3.default.UPSTREAM},audioSpeakerDelayMs:{source:"jitterBufferMs",media:ClientMetricReportMediaType_1$3.default.AUDIO,dir:ClientMetricReportDirection_1$3.default.DOWNSTREAM},audioUpstreamJitterMs:{source:"jitter",media:ClientMetricReportMediaType_1$3.default.AUDIO,dir:ClientMetricReportDirection_1$3.default.UPSTREAM},audioDownstreamJitterMs:{source:"jitter",media:ClientMetricReportMediaType_1$3.default.AUDIO,dir:ClientMetricReportDirection_1$3.default.DOWNSTREAM},nackCountReceivedPerSecond:{source:"nackCount",media:ClientMetricReportMediaType_1$3.default.VIDEO,dir:ClientMetricReportDirection_1$3.default.UPSTREAM},availableOutgoingBitrate:{source:"availableOutgoingBitrate"},availableIncomingBitrate:{source:"availableIncomingBitrate"},currentRoundTripTimeMs:{source:"currentRoundTripTime"},audioDownstreamLevel:{source:"audioLevel",media:ClientMetricReportMediaType_1$3.default.AUDIO,dir:ClientMetricReportDirection_1$3.default.DOWNSTREAM},audioUpstreamLevel:{source:"audioLevel"}}}getMetricMap(ns,rs){switch(ns){case ClientMetricReportMediaType_1$3.default.AUDIO:switch(rs){case ClientMetricReportDirection_1$3.default.UPSTREAM:return this.audioUpstreamMetricMap;case ClientMetricReportDirection_1$3.default.DOWNSTREAM:return this.audioDownstreamMetricMap}case ClientMetricReportMediaType_1$3.default.VIDEO:switch(rs){case ClientMetricReportDirection_1$3.default.UPSTREAM:return this.videoUpstreamMetricMap;case ClientMetricReportDirection_1$3.default.DOWNSTREAM:return this.videoDownstreamMetricMap}default:return this.globalMetricMap}}getStreamDimensionMap(){return this.streamDimensionMap}getObservableMetricValue(ns){if(this.overriddenObservableMetrics.has(ns))return this.overriddenObservableMetrics.get(ns);const rs=this.observableMetricSpec[ns],os=this.getMetricMap(rs.media,rs.dir)[rs.source],{transform:ss,source:as}=os;if(rs.hasOwnProperty("media"))for(const ls in this.streamMetricReports){const cs=this.streamMetricReports[ls];if(cs.direction===rs.dir&&cs.mediaType===rs.media)return ss(as||rs.source,Number(ls))}else return ss(as||rs.source);return 0}getObservableVideoMetricValue(ns,rs){const is=this.observableVideoMetricSpec[ns],ss=this.getMetricMap(is.media,is.dir)[is.source],{transform:as,source:ls}=ss;return as(ls||is.source,rs)}getVideoUpstreamSsrc(){for(const ns in this.streamMetricReports)if(this.streamMetricReports[ns].mediaType===ClientMetricReportMediaType_1$3.default.VIDEO&&this.streamMetricReports[ns].direction===ClientMetricReportDirection_1$3.default.UPSTREAM)return Number(ns);return null}getObservableMetrics(){const ns={};for(const rs in this.observableMetricSpec)ns[rs]=this.getObservableMetricValue(rs);return ns}getObservableVideoMetrics(){const ns={};if(!this.videoStreamIndex||!this.selfAttendeeId)return this.logger.error("Need to define VideoStreamIndex and selfAttendeeId if using getObservableVideoMetrics API"),ns;for(const rs in this.streamMetricReports)if(this.streamMetricReports[rs].mediaType===ClientMetricReportMediaType_1$3.default.VIDEO){const is={};for(const ls in this.observableVideoMetricSpec)if(this.observableVideoMetricSpec[ls].dir===this.streamMetricReports[rs].direction){const cs=this.getObservableVideoMetricValue(ls,Number(rs));isNaN(cs)||(is[ls]=cs)}const os=this.streamMetricReports[rs].groupId,ss=this.streamMetricReports[rs].streamId;let as="";this.videoStreamIndex.attendeeIdForGroupId!==void 0?as=os?this.videoStreamIndex.attendeeIdForGroupId(os):this.selfAttendeeId:as=ss?this.videoStreamIndex.attendeeIdForStreamId(ss):this.selfAttendeeId,ns[as]=ns[as]?ns[as]:{},ns[as][rs]=is}return ns}getRTCStatsReport(){return this.rtcStatsReport}clone(){const ns=new ClientMetricReport(this.logger,this.videoStreamIndex,this.selfAttendeeId);return ns.globalMetricReport=this.globalMetricReport,ns.streamMetricReports=this.streamMetricReports,ns.rtcStatsReport=this.rtcStatsReport,ns.customStatsReports=this.customStatsReports,ns.currentTimestampMs=this.currentTimestampMs,ns.previousTimestampMs=this.previousTimestampMs,ns.overriddenObservableMetrics=this.overriddenObservableMetrics,ns}print(){const ns={globalMetricReport:this.globalMetricReport,streamMetricReports:this.streamMetricReports,currentTimestampMs:this.currentTimestampMs,previousTimestampMs:this.previousTimestampMs};this.logger.debug(()=>"Client Metric Report: ".concat(JSON.stringify(ns)))}removeDestroyedSsrcs(){for(const ns in this.streamMetricReports)this.currentSsrcs[ns]||delete this.streamMetricReports[ns]}overrideObservableMetric(ns,rs){this.overriddenObservableMetrics.set(ns,rs)}}ClientMetricReport$1.default=ClientMetricReport;var ClientVideoStreamReceivingReport$1={};Object.defineProperty(ClientVideoStreamReceivingReport$1,"__esModule",{value:!0});class ClientVideoStreamReceivingReport{}ClientVideoStreamReceivingReport$1.default=ClientVideoStreamReceivingReport;var ConnectionHealthData$1={};Object.defineProperty(ConnectionHealthData$1,"__esModule",{value:!0});class ConnectionHealthData{constructor(){this.connectionStartTimestampMs=0,this.consecutiveStatsWithNoPackets=0,this.consecutiveStatsWithNoAudioPacketsSent=0,this.lastPacketLossInboundTimestampMs=0,this.lastGoodSignalTimestampMs=0,this.lastWeakSignalTimestampMs=0,this.lastNoSignalTimestampMs=0,this.consecutiveMissedPongs=0,this.packetsReceivedInLastMinute=[],this.fractionPacketsLostInboundInLastMinute=[],this.audioSpeakerDelayMs=0,this.isVideoEncoderHardware=!1,this.videoEncodingTimeInMs=0,this.cpuLimitationDuration=0,this.videoInputFps=0,this.videoEncodeFps=0,this.connectionStartTimestampMs=Date.now(),this.lastGoodSignalTimestampMs=Date.now()}static isTimestampRecent(ns,rs){return Date.now()<ns+rs}setConnectionStartTime(){this.connectionStartTimestampMs=Date.now(),this.lastGoodSignalTimestampMs=Date.now()}reset(){this.connectionStartTimestampMs=0,this.consecutiveStatsWithNoPackets=0,this.consecutiveStatsWithNoAudioPacketsSent=0,this.lastPacketLossInboundTimestampMs=0,this.lastGoodSignalTimestampMs=0,this.lastWeakSignalTimestampMs=0,this.lastNoSignalTimestampMs=0,this.consecutiveMissedPongs=0,this.packetsReceivedInLastMinute=[],this.fractionPacketsLostInboundInLastMinute=[],this.audioSpeakerDelayMs=0,this.connectionStartTimestampMs=Date.now(),this.lastGoodSignalTimestampMs=Date.now(),this.isVideoEncoderHardware=!1,this.videoEncodingTimeInMs=0,this.cpuLimitationDuration=0,this.videoInputFps=0,this.videoEncodeFps=0}isConnectionStartRecent(ns){return ConnectionHealthData.isTimestampRecent(this.connectionStartTimestampMs,ns)}isLastPacketLossRecent(ns){return ConnectionHealthData.isTimestampRecent(this.lastPacketLossInboundTimestampMs,ns)}isGoodSignalRecent(ns){return ConnectionHealthData.isTimestampRecent(this.lastGoodSignalTimestampMs,ns)}isWeakSignalRecent(ns){return ConnectionHealthData.isTimestampRecent(this.lastWeakSignalTimestampMs,ns)}isNoSignalRecent(ns){return ConnectionHealthData.isTimestampRecent(this.lastNoSignalTimestampMs,ns)}clone(){const ns=new ConnectionHealthData;return ns.connectionStartTimestampMs=this.connectionStartTimestampMs,ns.consecutiveStatsWithNoPackets=this.consecutiveStatsWithNoPackets,ns.consecutiveStatsWithNoAudioPacketsSent=this.consecutiveStatsWithNoAudioPacketsSent,ns.lastPacketLossInboundTimestampMs=this.lastPacketLossInboundTimestampMs,ns.lastGoodSignalTimestampMs=this.lastGoodSignalTimestampMs,ns.lastWeakSignalTimestampMs=this.lastWeakSignalTimestampMs,ns.lastNoSignalTimestampMs=this.lastNoSignalTimestampMs,ns.consecutiveMissedPongs=this.consecutiveMissedPongs,ns.packetsReceivedInLastMinute=this.packetsReceivedInLastMinute.slice(0),ns.fractionPacketsLostInboundInLastMinute=this.fractionPacketsLostInboundInLastMinute.slice(0),ns.audioSpeakerDelayMs=this.audioSpeakerDelayMs,ns.isVideoEncoderHardware=this.isVideoEncoderHardware,ns.videoEncodingTimeInMs=this.videoEncodingTimeInMs,ns.cpuLimitationDuration=this.cpuLimitationDuration,ns.videoInputFps=this.videoInputFps,ns.videoEncodeFps=this.videoEncodeFps,ns}setConsecutiveMissedPongs(ns){this.consecutiveMissedPongs=ns}setConsecutiveStatsWithNoPackets(ns){this.consecutiveStatsWithNoPackets=ns}setConsecutiveStatsWithNoAudioPacketsSent(ns){this.consecutiveStatsWithNoAudioPacketsSent=ns}setLastPacketLossInboundTimestampMs(ns){this.lastPacketLossInboundTimestampMs=ns}setLastNoSignalTimestampMs(ns){this.lastNoSignalTimestampMs=ns}setLastWeakSignalTimestampMs(ns){this.lastWeakSignalTimestampMs=ns}setLastGoodSignalTimestampMs(ns){this.lastGoodSignalTimestampMs=ns}setAudioSpeakerDelayMs(ns){this.audioSpeakerDelayMs=ns}setIsVideoEncoderHardware(ns){this.isVideoEncoderHardware=ns}setVideoEncodingTimeInMs(ns){this.videoEncodingTimeInMs=ns}setCpuLimitationDuration(ns){this.cpuLimitationDuration=ns}setVideoInputFps(ns){this.videoInputFps=ns}setVideoEncodeFps(ns){this.videoEncodeFps=ns}}ConnectionHealthData$1.default=ConnectionHealthData;var ConnectionHealthPolicyConfiguration$1={},VideoEncodingCpuConnectionHealthPolicy$1={},VideoEncodingConnectionHealthPolicyName={};(function(ts){Object.defineProperty(ts,"__esModule",{value:!0}),ts.VideoEncodingConnectionHealthPolicyName=void 0;var ns;(function(rs){rs.VideoEncodingCpuHealth="Video Encoding CPU Health",rs.VideoEncodingFramerateHealth="Video Encoding framerate Health"})(ns=ts.VideoEncodingConnectionHealthPolicyName||(ts.VideoEncodingConnectionHealthPolicyName={})),ts.default=ns})(VideoEncodingConnectionHealthPolicyName);var __importDefault$1t=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(VideoEncodingCpuConnectionHealthPolicy$1,"__esModule",{value:!0});const BaseConnectionHealthPolicy_1$4=__importDefault$1t(BaseConnectionHealthPolicy$1),VideoEncodingConnectionHealthPolicyName_1$2=__importDefault$1t(VideoEncodingConnectionHealthPolicyName);class VideoEncodingCpuConnectionHealthPolicy extends BaseConnectionHealthPolicy_1$4.default{constructor(ns,rs){super(ns,rs,VideoEncodingConnectionHealthPolicyName_1$2.default.VideoEncodingCpuHealth),this.consecutiveHighEncodeCpuCnt=0,this.consecutiveHighEncodeCpuThreshold=ns.consecutiveHighEncodeCpuThreshold,this.highEncodeCpuMsThreshold=ns.highEncodeCpuMsThreshold}health(){if(!this.currentData.isVideoEncoderHardware&&(this.currentData.videoEncodingTimeInMs>=this.highEncodeCpuMsThreshold||this.currentData.cpuLimitationDuration>0)){if(this.consecutiveHighEncodeCpuCnt++,this.consecutiveHighEncodeCpuCnt>this.consecutiveHighEncodeCpuThreshold)return this.consecutiveHighEncodeCpuCnt=0,this.minimumHealth()}else this.consecutiveHighEncodeCpuCnt=0;return this.maximumHealth()}}VideoEncodingCpuConnectionHealthPolicy$1.default=VideoEncodingCpuConnectionHealthPolicy;var VideoEncodingFramerateConnectionHealthPolicy$1={},__importDefault$1s=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(VideoEncodingFramerateConnectionHealthPolicy$1,"__esModule",{value:!0});const BaseConnectionHealthPolicy_1$3=__importDefault$1s(BaseConnectionHealthPolicy$1),VideoEncodingConnectionHealthPolicyName_1$1=__importDefault$1s(VideoEncodingConnectionHealthPolicyName);class VideoEncodingFramerateConnectionHealthPolicy extends BaseConnectionHealthPolicy_1$3.default{constructor(ns,rs){super(ns,rs,VideoEncodingConnectionHealthPolicyName_1$1.default.VideoEncodingFramerateHealth),this.consecutiveEncodeFailureCnt=0,this.consecutiveVideoEncodingFailureThreshold=ns.consecutiveVideoEncodingFailureThreshold}health(){if(this.currentData.videoEncodeFps===0&&this.currentData.videoInputFps>0){if(this.consecutiveEncodeFailureCnt++,this.consecutiveEncodeFailureCnt>this.consecutiveVideoEncodingFailureThreshold)return this.consecutiveEncodeFailureCnt=0,this.minimumHealth()}else this.consecutiveEncodeFailureCnt=0;return this.maximumHealth()}}VideoEncodingFramerateConnectionHealthPolicy$1.default=VideoEncodingFramerateConnectionHealthPolicy;var __importDefault$1r=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(ConnectionHealthPolicyConfiguration$1,"__esModule",{value:!0});const VideoEncodingCpuConnectionHealthPolicy_1=__importDefault$1r(VideoEncodingCpuConnectionHealthPolicy$1),VideoEncodingFramerateConnectionHealthPolicy_1=__importDefault$1r(VideoEncodingFramerateConnectionHealthPolicy$1);class ConnectionHealthPolicyConfiguration{constructor(){this.minHealth=0,this.maxHealth=1,this.initialHealth=1,this.connectionUnhealthyThreshold=25,this.noSignalThresholdTimeMs=1e4,this.connectionWaitTimeMs=1e4,this.zeroBarsNoSignalTimeMs=5e3,this.oneBarWeakSignalTimeMs=5e3,this.twoBarsTimeMs=5e3,this.threeBarsTimeMs=1e4,this.fourBarsTimeMs=2e4,this.fiveBarsTimeMs=6e4,this.cooldownTimeMs=6e4,this.pastSamplesToConsider=15,this.goodSignalTimeMs=15e3,this.fractionalLoss=.5,this.packetsExpected=50,this.maximumTimesToWarn=2,this.missedPongsLowerThreshold=1,this.missedPongsUpperThreshold=4,this.maximumAudioDelayMs=6e4,this.maximumAudioDelayDataPoints=10,this.sendingAudioFailureSamplesToConsider=2,this.sendingAudioFailureInitialWaitTimeMs=3e3,this.videoEncodingHealthPolicies=[VideoEncodingCpuConnectionHealthPolicy_1.default,VideoEncodingFramerateConnectionHealthPolicy_1.default],this.consecutiveHighEncodeCpuThreshold=10,this.highEncodeCpuMsThreshold=500,this.consecutiveVideoEncodingFailureThreshold=5}}ConnectionHealthPolicyConfiguration$1.default=ConnectionHealthPolicyConfiguration;var ContentShareConstants$1={};Object.defineProperty(ContentShareConstants$1,"__esModule",{value:!0});var ContentShareConstants;(function(ts){ts.Modality="#content"})(ContentShareConstants||(ContentShareConstants={}));ContentShareConstants$1.default=ContentShareConstants;var ContentShareMediaStreamBroker$1={},DefaultDeviceController$1={},DefaultMediaDeviceFactory$1={},MediaDeviceProxyHandler$1={},IntervalScheduler$1={};Object.defineProperty(IntervalScheduler$1,"__esModule",{value:!0});class IntervalScheduler{constructor(ns){this.intervalMs=ns}start(ns){this.stop(),this.timer=setInterval(ns,this.intervalMs)}stop(){this.timer!==void 0&&(clearInterval(this.timer),this.timer=void 0)}running(){return this.timer!==void 0}}IntervalScheduler$1.default=IntervalScheduler;var __awaiter$V=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,ns,rs,is){function os(ss){return ss instanceof rs?ss:new rs(function(as){as(ss)})}return new(rs||(rs=Promise))(function(ss,as){function ls(ds){try{us(is.next(ds))}catch(ps){as(ps)}}function cs(ds){try{us(is.throw(ds))}catch(ps){as(ps)}}function us(ds){ds.done?ss(ds.value):os(ds.value).then(ls,cs)}us((is=is.apply(ts,ns||[])).next())})},__importDefault$1q=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(MediaDeviceProxyHandler$1,"__esModule",{value:!0});const AsyncScheduler_1$7=__importDefault$1q(AsyncScheduler$1),IntervalScheduler_1$5=__importDefault$1q(IntervalScheduler$1);class MediaDeviceProxyHandler{constructor(){this.scheduler=null,this.devices=null,this.deviceChangeListeners=new Set,this.get=(ns,rs,is)=>{if(!Reflect.has(ns,rs))return;if(!("ondevicechange"in navigator.mediaDevices)){if(rs==="addEventListener")return this.patchAddEventListener(ns,rs,is);if(rs==="removeEventListener")return this.patchRemoveEventListener(ns,rs,is)}const os=Reflect.get(ns,rs,is);return typeof os=="function"?os.bind(ns):os},this.patchAddEventListener=(ns,rs,is)=>{const os=Reflect.get(ns,rs,is);return(ss,as,ls)=>{if(ss==="devicechange")this.deviceChangeListeners.add(as),this.scheduler||(this.scheduler=new IntervalScheduler_1$5.default(MediaDeviceProxyHandler.INTERVAL_MS),this.scheduler.start(this.pollDeviceLists));else return Reflect.apply(os,ns,[ss,as,ls])}},this.patchRemoveEventListener=(ns,rs,is)=>{const os=Reflect.get(ns,rs,is);return(ss,as,ls)=>{if(ss==="devicechange")this.deviceChangeListeners.delete(as),this.deviceChangeListeners.size===0&&this.scheduler&&(this.scheduler.stop(),this.scheduler=null);else return Reflect.apply(os,ns,[ss,as,ls])}},this.pollDeviceLists=()=>__awaiter$V(this,void 0,void 0,function*(){const ns=yield this.sortedDeviceList();this.devices&&(ns.length!==this.devices.length||ns.some((is,os)=>is.deviceId!==this.devices[os].deviceId))&&this.handleDeviceChangeEvent(),this.devices=ns})}sortedDeviceList(){return __awaiter$V(this,void 0,void 0,function*(){return(yield navigator.mediaDevices.enumerateDevices()).sort((rs,is)=>rs.deviceId<is.deviceId?1:rs.deviceId>is.deviceId?-1:0)})}handleDeviceChangeEvent(){for(const ns of this.deviceChangeListeners)AsyncScheduler_1$7.default.nextTick(()=>{if(this.deviceChangeListeners.has(ns)){const rs=new Event("devicechange");typeof ns=="function"?ns(rs):ns.handleEvent(rs)}})}}MediaDeviceProxyHandler$1.default=MediaDeviceProxyHandler;MediaDeviceProxyHandler.INTERVAL_MS=1e3;var __importDefault$1p=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(DefaultMediaDeviceFactory$1,"__esModule",{value:!0});const MediaDeviceProxyHandler_1=__importDefault$1p(MediaDeviceProxyHandler$1);class DefaultMediaDeviceFactory{constructor(){this.isMediaDevicesSupported=typeof navigator<"u"&&!!navigator.mediaDevices}create(){if(this.isMediaDevicesSupported)return new Proxy(navigator.mediaDevices,new MediaDeviceProxyHandler_1.default);throw new Error("navigator.mediaDevices is not supported")}}DefaultMediaDeviceFactory$1.default=DefaultMediaDeviceFactory;var PromiseQueue$1={};Object.defineProperty(PromiseQueue$1,"__esModule",{value:!0});class PromiseQueue{constructor(){this.queue=Promise.resolve()}add(ns){return new Promise((rs,is)=>{this.queue=this.queue.then(ns).then(rs).catch(is)})}}PromiseQueue$1.default=PromiseQueue;var Types={};Object.defineProperty(Types,"__esModule",{value:!0});Types.None=Types.Some=Types.Maybe=void 0;class Maybe{static of(ns){return ns==null?None.of():Some.of(ns)}}Types.Maybe=Maybe;class Some{constructor(ns){this.value=ns,this.isSome=!0,this.isNone=!1}map(ns){return Maybe.of(ns(this.value))}flatMap(ns){return ns(this.value)}get(){return this.value}getOrElse(ns){return this.value}defaulting(ns){return Maybe.of(this.getOrElse(ns))}static of(ns){if(ns==null)throw new Error("value is ${value}");return new Some(ns)}}Types.Some=Some;class None{constructor(){this.isSome=!1,this.isNone=!0}get(){throw new Error("value is null")}getOrElse(ns){return ns}map(ns){return new None}flatMap(ns){return new None}defaulting(ns){return Maybe.of(this.getOrElse(ns))}static of(){return new None}}Types.None=None;var DefaultVideoTransformDevice$1={},DefaultVideoFrameProcessorPipeline$1={},DefaultVideoFrameProcessorTimer$1={},__awaiter$U=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,ns,rs,is){function os(ss){return ss instanceof rs?ss:new rs(function(as){as(ss)})}return new(rs||(rs=Promise))(function(ss,as){function ls(ds){try{us(is.next(ds))}catch(ps){as(ps)}}function cs(ds){try{us(is.throw(ds))}catch(ps){as(ps)}}function us(ds){ds.done?ss(ds.value):os(ds.value).then(ls,cs)}us((is=is.apply(ts,ns||[])).next())})};Object.defineProperty(DefaultVideoFrameProcessorTimer$1,"__esModule",{value:!0});class DefaultVideoFrameProcessorTimer{constructor(){this.workerTimer=void 0,this.callback=void 0,this.workerTimer=this.createWorkerTimer()}createWorkerTimer(){try{const ns=new Blob(["self.onmessage = async function(e){ \n            var timerID = null;\n            const awaitTimeout = delay => new Promise( resolve => {\n              timerID = setTimeout(resolve, delay);\n            })\n            await awaitTimeout(e.data);\n            postMessage(timerID);\n          }"],{type:"application/javascript"});return new Worker(window.URL.createObjectURL(ns))}catch{}}start(ns,rs){return __awaiter$U(this,void 0,void 0,function*(){this.callback=rs,this.workerTimer?(this.workerTimer.onmessage=is=>{this.lastTimeout=is.data,this.callback()},this.workerTimer.postMessage(ns)):this.lastTimeout=setTimeout(()=>{this.callback()},ns)})}destroy(){return __awaiter$U(this,void 0,void 0,function*(){this.callback=void 0,this.lastTimeout&&(clearTimeout(this.lastTimeout),this.lastTimeout=void 0),this.workerTimer&&(this.workerTimer.terminate(),this.workerTimer=void 0)})}}DefaultVideoFrameProcessorTimer$1.default=DefaultVideoFrameProcessorTimer;var __awaiter$T=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,ns,rs,is){function os(ss){return ss instanceof rs?ss:new rs(function(as){as(ss)})}return new(rs||(rs=Promise))(function(ss,as){function ls(ds){try{us(is.next(ds))}catch(ps){as(ps)}}function cs(ds){try{us(is.throw(ds))}catch(ps){as(ps)}}function us(ds){ds.done?ss(ds.value):os(ds.value).then(ls,cs)}us((is=is.apply(ts,ns||[])).next())})},__importDefault$1o=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(DefaultVideoFrameProcessorPipeline$1,"__esModule",{value:!0});const CanvasVideoFrameBuffer_1$1=__importDefault$1o(CanvasVideoFrameBuffer$1),DefaultVideoFrameProcessorTimer_1=__importDefault$1o(DefaultVideoFrameProcessorTimer$1),DEFAULT_FRAMERATE=15;class DefaultVideoFrameProcessorPipeline{constructor(ns,rs,is=new DefaultVideoFrameProcessorTimer_1.default){this.logger=ns,this.stages=rs,this.fr=DEFAULT_FRAMERATE,this.outputMediaStream=new MediaStream,this.videoInput=document.createElement("video"),this.canvasOutput=document.createElement("canvas"),this.outputCtx=this.canvasOutput.getContext("2d"),this.canvasInput=document.createElement("canvas"),this.inputCtx=this.canvasInput.getContext("2d"),this.inputVideoStream=null,this.sourceBuffers=[],this.destBuffers=[],this.observers=new Set,this.hasStarted=!1,this.process=os=>__awaiter$T(this,void 0,void 0,function*(){if(!this.inputVideoStream)return;const ss=performance.now();this.videoInput.videoWidth&&(this.canvasInput.width!==this.videoInput.videoWidth&&(this.canvasInput.width=this.videoInput.videoWidth,this.canvasInput.height=this.videoInput.videoHeight,this.sourceBuffers[0].height=this.canvasInput.height,this.sourceBuffers[0].width=this.canvasInput.width,this.sourceBuffers[0].framerate=this.framerate),this.inputCtx.drawImage(this.videoInput,0,0));let as=[];as.push(this.sourceBuffers[0]);try{for(const ms of this.processors)as=yield ms.process(as)}catch{this.forEachObserver(gs=>{gs.processingDidFailToStart&&gs.processingDidFailToStart()});return}this.destBuffers=as;let ls;try{ls=yield this.destBuffers[0].asCanvasImageSource()}catch{this.inputVideoStream&&(this.logger.info("buffers are destroyed and pipeline could not start"),this.forEachObserver(gs=>{gs.processingDidFailToStart&&gs.processingDidFailToStart()}));return}const cs=ls.width,us=ls.height;cs!==0&&us!==0&&(this.canvasOutput.width!==cs&&this.canvasOutput.height!==us&&(this.canvasOutput.width=cs,this.canvasOutput.height=us),this.outputCtx.drawImage(ls,0,0,cs,us,0,0,cs,us),this.hasStarted||(this.hasStarted=!0,this.forEachObserver(ms=>{ms.processingDidStart&&ms.processingDidStart()})));const ds=performance.now()-ss,ps=1e3*2/this.framerate-ds,hs=Math.max(0,1e3/this.framerate-ds);ps<=0&&this.forEachObserver(ms=>{ms.processingLatencyTooHigh&&ms.processingLatencyTooHigh(ds)}),yield this.timer.start(hs,this.process.bind(this))}),this.timer=is}destroy(){if(this.stop(),this.stages)for(const ns of this.stages)ns.destroy();this.timer.destroy()}get framerate(){return this.fr}set framerate(ns){this.fr=ns<0?DEFAULT_FRAMERATE:ns}stop(){if(this.videoInput.removeEventListener("loadedmetadata",this.process),this.videoInput.srcObject=null,this.destroyInputMediaStreamAndBuffers(),this.outputMediaStream)for(const ns of this.outputMediaStream.getVideoTracks())ns.stop();this.hasStarted&&(this.hasStarted=!1,this.forEachObserver(ns=>{ns.processingDidStop&&ns.processingDidStop()}))}addObserver(ns){this.observers.add(ns)}removeObserver(ns){this.observers.delete(ns)}getInputMediaStream(){return __awaiter$T(this,void 0,void 0,function*(){return this.inputVideoStream})}getActiveOutputMediaStream(){return this.isOutputMediaStreamActive()?this.outputMediaStream:(this.outputMediaStream=this.canvasOutput.captureStream(this.framerate),this.cloneInputAudioTracksToOutput(),this.outputMediaStream)}setInputMediaStream(ns){return __awaiter$T(this,void 0,void 0,function*(){if(!ns){this.stop();return}if(ns.getVideoTracks().length===0){this.logger.error("No video tracks in input media stream, ignoring");return}this.inputVideoStream=ns;const rs=this.inputVideoStream.getVideoTracks()[0].getSettings();this.logger.info("processing pipeline input stream settings ".concat(JSON.stringify(rs))),this.canvasOutput.width=rs.width,this.canvasOutput.height=rs.height,this.videoInput.addEventListener("loadedmetadata",this.process),this.videoInput.srcObject=this.inputVideoStream,this.videoInput.setAttribute("playsinline","true");const is=new CanvasVideoFrameBuffer_1$1.default(this.canvasInput);this.sourceBuffers.push(is),this.videoInput.load();try{yield this.videoInput.play()}catch{this.logger.warn("Video element play() overrided by another load().")}this.cloneInputAudioTracksToOutput()})}cloneInputAudioTracksToOutput(){if(!this.isOutputMediaStreamActive()||this.inputVideoStream===null){this.logger.info("Not cloning input audio tracks to output, do not have media streams ready");return}for(const ns of this.outputMediaStream.getAudioTracks())this.logger.info("Removing audio track ".concat(ns.id," from output stream")),this.outputMediaStream.removeTrack(ns);for(const ns of this.inputVideoStream.getAudioTracks())this.logger.info("Adding audio track ".concat(ns.id," to output stream")),this.outputMediaStream.addTrack(ns)}isOutputMediaStreamActive(){return this.outputMediaStream&&this.outputMediaStream.active}set processors(ns){this.stages=ns}get processors(){return this.stages}forEachObserver(ns){for(const rs of this.observers)setTimeout(()=>{ns(rs)},0)}destroyInputMediaStreamAndBuffers(){if(this.inputVideoStream)for(const ns of this.inputVideoStream.getTracks())ns.stop();this.inputVideoStream=null;for(const ns of this.sourceBuffers)ns.destroy();this.sourceBuffers=[]}}DefaultVideoFrameProcessorPipeline$1.default=DefaultVideoFrameProcessorPipeline;var __awaiter$S=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,ns,rs,is){function os(ss){return ss instanceof rs?ss:new rs(function(as){as(ss)})}return new(rs||(rs=Promise))(function(ss,as){function ls(ds){try{us(is.next(ds))}catch(ps){as(ps)}}function cs(ds){try{us(is.throw(ds))}catch(ps){as(ps)}}function us(ds){ds.done?ss(ds.value):os(ds.value).then(ls,cs)}us((is=is.apply(ts,ns||[])).next())})},__importDefault$1n=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(DefaultVideoTransformDevice$1,"__esModule",{value:!0});const DefaultBrowserBehavior_1$9=__importDefault$1n(DefaultBrowserBehavior$1),DefaultVideoFrameProcessorPipeline_1=__importDefault$1n(DefaultVideoFrameProcessorPipeline$1);class DefaultVideoTransformDevice{constructor(ns,rs,is,os=new DefaultBrowserBehavior_1$9.default){this.logger=ns,this.device=rs,this.processors=is,this.browserBehavior=os,this.observers=new Set,this.pipe=new DefaultVideoFrameProcessorPipeline_1.default(this.logger,this.processors),this.pipe.addObserver(this)}get outputMediaStream(){return this.pipe.outputMediaStream}passEventControllerToProcessors(ns){if(this.pipe.processors)for(const rs of this.pipe.processors)typeof rs.setEventController=="function"&&rs.setEventController(ns)}chooseNewInnerDevice(ns){const rs=new DefaultVideoTransformDevice(this.logger,ns,this.processors,this.browserBehavior);return rs.pipe=this.pipe,rs}getInnerDevice(){return this.device}intrinsicDevice(){return __awaiter$S(this,void 0,void 0,function*(){return this.device})}transformStream(ns){return __awaiter$S(this,void 0,void 0,function*(){return yield this.pipe.setInputMediaStream(ns),this.inputMediaStream=ns,this.pipe.getActiveOutputMediaStream()})}onOutputStreamDisconnect(){this.logger.info("DefaultVideoTransformDevice: detach stopping input media stream");const ns=this.device&&this.device.id;if(this.pipe.stop(),!ns&&this.inputMediaStream)for(const rs of this.inputMediaStream.getVideoTracks())rs.stop()}stop(){return __awaiter$S(this,void 0,void 0,function*(){if(this.inputMediaStream)for(const ns of this.inputMediaStream.getVideoTracks())ns.stop();this.pipe.destroy(),this.inputMediaStream=null})}addObserver(ns){this.observers.add(ns)}removeObserver(ns){this.observers.delete(ns)}processingDidStart(){this.logger.info("video transform device processing started"),this.forEachObserver(ns=>{ns.processingDidStart&&ns.processingDidStart()})}processingLatencyTooHigh(ns){this.forEachObserver(rs=>{rs.processingLatencyTooHigh&&rs.processingLatencyTooHigh(ns)})}processingDidFailToStart(){this.logger.info("video transform device processing failed to start"),this.forEachObserver(ns=>{ns.processingDidFailToStart&&ns.processingDidFailToStart()})}processingDidStop(){this.logger.info("video transform device processing stopped"),this.forEachObserver(ns=>{ns.processingDidStop&&ns.processingDidStop()})}forEachObserver(ns){for(const rs of this.observers)setTimeout(()=>{ns(rs)},0)}}DefaultVideoTransformDevice$1.default=DefaultVideoTransformDevice;var DefaultVideoTile$1={},DefaultModality$1={},__importDefault$1m=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(DefaultModality$1,"__esModule",{value:!0});const ContentShareConstants_1$3=__importDefault$1m(ContentShareConstants$1);class DefaultModality{constructor(ns){this._id=ns}id(){return this._id}base(){return this._id?this._id.split(DefaultModality.MODALITY_SEPARATOR)[0]:""}modality(){if(!this._id)return"";const ns=this._id.split(DefaultModality.MODALITY_SEPARATOR);return ns.length===2?ns[1]:""}hasModality(ns){return ns!==""&&this.modality()===ns}withModality(ns){const rs=new DefaultModality(this.base()+DefaultModality.MODALITY_SEPARATOR+ns);return ns===""||this.base()===""||new DefaultModality(rs._id).modality()!==ns?new DefaultModality(this.base()):rs}}DefaultModality$1.default=DefaultModality;DefaultModality.MODALITY_SEPARATOR=ContentShareConstants_1$3.default.Modality[0];DefaultModality.MODALITY_CONTENT=ContentShareConstants_1$3.default.Modality.substr(1);var VideoTileState$1={};Object.defineProperty(VideoTileState$1,"__esModule",{value:!0});class VideoTileState{constructor(){this.tileId=null,this.localTile=!1,this.localTileStarted=!1,this.isContent=!1,this.active=!1,this.paused=!1,this.poorConnection=!1,this.boundAttendeeId=null,this.boundExternalUserId=null,this.boundVideoStream=null,this.boundVideoElement=null,this.nameplate=null,this.videoStreamContentWidth=null,this.videoStreamContentHeight=null,this.videoElementCSSWidthPixels=null,this.videoElementCSSHeightPixels=null,this.devicePixelRatio=0,this.videoElementPhysicalWidthPixels=null,this.videoElementPhysicalHeightPixels=null,this.streamId=null,this.groupId=null}clone(){const ns=new VideoTileState;return ns.tileId=this.tileId,ns.localTile=this.localTile,ns.isContent=this.isContent,ns.active=this.active,ns.paused=this.paused,ns.poorConnection=this.poorConnection,ns.boundAttendeeId=this.boundAttendeeId,ns.boundExternalUserId=this.boundExternalUserId,ns.boundVideoStream=this.boundVideoStream,ns.boundVideoElement=this.boundVideoElement,ns.nameplate=this.nameplate,ns.videoStreamContentWidth=this.videoStreamContentWidth,ns.videoStreamContentHeight=this.videoStreamContentHeight,ns.videoElementCSSWidthPixels=this.videoElementCSSWidthPixels,ns.videoElementCSSHeightPixels=this.videoElementCSSHeightPixels,ns.devicePixelRatio=this.devicePixelRatio,ns.videoElementPhysicalWidthPixels=this.videoElementPhysicalWidthPixels,ns.videoElementPhysicalHeightPixels=this.videoElementPhysicalHeightPixels,ns.streamId=this.streamId,ns.groupId=this.groupId,ns}}VideoTileState$1.default=VideoTileState;var __importDefault$1l=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(DefaultVideoTile$1,"__esModule",{value:!0});const DefaultBrowserBehavior_1$8=__importDefault$1l(DefaultBrowserBehavior$1),DefaultModality_1$5=__importDefault$1l(DefaultModality$1),VideoTileState_1=__importDefault$1l(VideoTileState$1);class DefaultVideoTile{constructor(ns,rs,is,os){this.tileController=is,this.devicePixelRatioMonitor=os,this.tileState=new VideoTileState_1.default,this.tileState.tileId=ns,this.tileState.localTile=rs,this.devicePixelRatioMonitor.registerObserver(this)}static connectVideoStreamToVideoElement(ns,rs,is){const os=is&&ns.getVideoTracks()[0].getSettings().facingMode!=="environment"?"rotateY(180deg)":"";if(DefaultVideoTile.setVideoElementFlag(rs,"disablePictureInPicture",is),DefaultVideoTile.setVideoElementFlag(rs,"disableRemotePlayback",is),rs.style.transform!==os&&(rs.style.transform=os),rs.hasAttribute("controls")&&rs.removeAttribute("controls"),rs.hasAttribute("autoplay")||rs.setAttribute("autoplay","true"),rs.hasAttribute("playsinline")||rs.setAttribute("playsinline","true"),rs.hasAttribute("muted")||(rs.setAttribute("muted","true"),rs.muted=!0),rs.srcObject!==ns&&(rs.srcObject=ns,new DefaultBrowserBehavior_1$8.default().requiresVideoPlayWorkaround()&&rs.paused)){const ss=rs.play();ss!==void 0&&ss.catch(as=>{console.warn("Error playing video in Safari",as)}).then(()=>{console.debug("Video played successfully in Safari")})}}static disconnectVideoStreamFromVideoElement(ns,rs,is=!1){if(ns)if(rs)is||(ns.srcObject=null,ns.style.transform="");else{if(!ns.srcObject)return;ns.pause(),ns.style.transform="",DefaultVideoTile.setVideoElementFlag(ns,"disablePictureInPicture",!1),DefaultVideoTile.setVideoElementFlag(ns,"disableRemotePlayback",!1),ns.srcObject=null}}destroy(){this.devicePixelRatioMonitor.removeObserver(this),this.tileState.boundVideoElement&&this.tileState.boundVideoElement.srcObject===this.tileState.boundVideoStream&&DefaultVideoTile.disconnectVideoStreamFromVideoElement(this.tileState.boundVideoElement,!1),this.tileState=new VideoTileState_1.default}devicePixelRatioChanged(ns){this.tileState.devicePixelRatio=ns,this.sendTileStateUpdate()}id(){return this.tileState.tileId}state(){return this.tileState.clone()}stateRef(){return this.tileState}bindVideoStream(ns,rs,is,os,ss,as,ls,cs){let us=!1;this.tileState.boundAttendeeId!==ns&&(this.tileState.boundAttendeeId=ns,new DefaultModality_1$5.default(ns).hasModality(DefaultModality_1$5.default.MODALITY_CONTENT)&&(this.tileState.isContent=!0),us=!0),this.tileState.boundExternalUserId!==ls&&(this.tileState.boundExternalUserId=ls,us=!0),this.tileState.localTile!==rs&&(this.tileState.localTile=rs,us=!0),this.tileState.boundVideoStream!==is&&(this.tileState.boundVideoStream=is,us=!0),this.tileState.videoStreamContentWidth!==os&&(this.tileState.videoStreamContentWidth=os,us=!0),this.tileState.videoStreamContentHeight!==ss&&(this.tileState.videoStreamContentHeight=ss,us=!0),this.tileState.streamId!==as&&(this.tileState.streamId=as,us=!0),this.tileState.groupId!==cs&&(this.tileState.groupId=cs,us=!0),us&&this.sendTileStateUpdate()}bindVideoElement(ns){let rs=!1;this.tileState.boundVideoElement!==ns&&(this.tileState.boundVideoElement=ns,rs=!0),this.tileState.boundVideoElement!==null?(this.tileState.videoElementCSSWidthPixels!==ns.clientWidth&&(this.tileState.videoElementCSSWidthPixels=ns.clientWidth,rs=!0),this.tileState.videoElementCSSHeightPixels!==ns.clientHeight&&(this.tileState.videoElementCSSHeightPixels=ns.clientHeight,rs=!0)):(this.tileState.videoElementCSSWidthPixels=null,this.tileState.videoElementCSSHeightPixels=null),rs&&this.sendTileStateUpdate()}pause(){this.tileState.paused||(this.tileState.paused=!0,this.sendTileStateUpdate())}unpause(){this.tileState.paused&&(this.tileState.paused=!1,this.sendTileStateUpdate())}markPoorConnection(){return this.tileState.poorConnection?!1:(this.tileState.poorConnection=!0,this.sendTileStateUpdate(),!0)}unmarkPoorConnection(){return this.tileState.poorConnection?(this.tileState.poorConnection=!1,this.sendTileStateUpdate(),!0):!1}capture(){if(!this.tileState.active)return null;const ns=document.createElement("canvas"),rs=this.tileState.boundVideoElement;ns.width=rs.videoWidth||rs.width,ns.height=rs.videoHeight||rs.height;const is=ns.getContext("2d");return is.drawImage(rs,0,0,ns.width,ns.height),is.getImageData(0,0,ns.width,ns.height)}setStreamId(ns){this.tileState.streamId=ns,this.tileController.sendTileStateUpdate(this.state())}sendTileStateUpdate(){this.updateActiveState(),this.updateVideoStreamOnVideoElement(),this.updateVideoElementPhysicalPixels(),this.tileController.sendTileStateUpdate(this.state())}updateActiveState(){this.tileState.active=!!(!this.tileState.paused&&!this.tileState.poorConnection&&this.tileState.boundAttendeeId&&this.tileState.boundVideoElement&&this.tileState.boundVideoStream)}updateVideoElementPhysicalPixels(){typeof this.tileState.videoElementCSSWidthPixels=="number"&&typeof this.tileState.videoElementCSSHeightPixels=="number"?(this.tileState.videoElementPhysicalWidthPixels=this.tileState.devicePixelRatio*this.tileState.videoElementCSSWidthPixels,this.tileState.videoElementPhysicalHeightPixels=this.tileState.devicePixelRatio*this.tileState.videoElementCSSHeightPixels):(this.tileState.videoElementPhysicalWidthPixels=null,this.tileState.videoElementPhysicalHeightPixels=null)}updateVideoStreamOnVideoElement(){this.tileState.active?DefaultVideoTile.connectVideoStreamToVideoElement(this.tileState.boundVideoStream,this.tileState.boundVideoElement,this.tileState.localTile):DefaultVideoTile.disconnectVideoStreamFromVideoElement(this.tileState.boundVideoElement,this.tileState.paused,this.tileController.keepLastFrameWhenPaused)}static setVideoElementFlag(ns,rs,is){rs in ns&&(ns[rs]=is)}}DefaultVideoTile$1.default=DefaultVideoTile;var AudioTransformDevice={};Object.defineProperty(AudioTransformDevice,"__esModule",{value:!0});AudioTransformDevice.isAudioTransformDevice=void 0;function isAudioTransformDevice(ts){return!!ts&&typeof ts=="object"&&"mute"in ts&&"stop"in ts&&"intrinsicDevice"in ts}AudioTransformDevice.isAudioTransformDevice=isAudioTransformDevice;var DeviceSelection$1={};Object.defineProperty(DeviceSelection$1,"__esModule",{value:!0});class DeviceSelection{constructor(){this.groupId=""}matchesConstraints(ns){return JSON.stringify(this.constraints)===JSON.stringify(ns)}}DeviceSelection$1.default=DeviceSelection;var GetUserMediaError$1={};Object.defineProperty(GetUserMediaError$1,"__esModule",{value:!0});class GetUserMediaError extends Error{constructor(ns,rs){super(rs||"Error fetching device."),this.cause=ns,this.name="GetUserMediaError"}}GetUserMediaError$1.default=GetUserMediaError;var NotFoundError$1={},__importDefault$1k=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(NotFoundError$1,"__esModule",{value:!0});const GetUserMediaError_1$5=__importDefault$1k(GetUserMediaError$1);class NotFoundError extends GetUserMediaError_1$5.default{constructor(ns){super(ns),this.name="NotFoundError"}}NotFoundError$1.default=NotFoundError;var NotReadableError$1={},__importDefault$1j=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(NotReadableError$1,"__esModule",{value:!0});const GetUserMediaError_1$4=__importDefault$1j(GetUserMediaError$1);class NotReadableError extends GetUserMediaError_1$4.default{constructor(ns){super(ns),this.name="NotReadableError"}}NotReadableError$1.default=NotReadableError;var OverconstrainedError$1={},__importDefault$1i=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(OverconstrainedError$1,"__esModule",{value:!0});const GetUserMediaError_1$3=__importDefault$1i(GetUserMediaError$1);class OverconstrainedError extends GetUserMediaError_1$3.default{constructor(ns,rs){super(ns),this.constraint=rs,this.name="OverconstrainedError"}}OverconstrainedError$1.default=OverconstrainedError;var PermissionDeniedError$1={},__importDefault$1h=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(PermissionDeniedError$1,"__esModule",{value:!0});const GetUserMediaError_1$2=__importDefault$1h(GetUserMediaError$1);class PermissionDeniedError extends GetUserMediaError_1$2.default{constructor(ns,rs){super(ns,rs),this.name="PermissionDeniedError"}}PermissionDeniedError$1.default=PermissionDeniedError;var _TypeError={},__importDefault$1g=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(_TypeError,"__esModule",{value:!0});const GetUserMediaError_1$1=__importDefault$1g(GetUserMediaError$1);let TypeError$1=class extends GetUserMediaError_1$1.default{constructor(ns){super(ns),this.name="TypeError"}};_TypeError.default=TypeError$1;var VideoQualitySettings$1={};Object.defineProperty(VideoQualitySettings$1,"__esModule",{value:!0});class VideoQualitySettings{constructor(ns,rs,is){this.videoWidth=ns,this.videoHeight=rs,this.videoFrameRate=is}equals(ns){return this.videoWidth===ns.videoWidth&&this.videoHeight===ns.videoHeight&&this.videoFrameRate===ns.videoFrameRate}}VideoQualitySettings$1.default=VideoQualitySettings;VideoQualitySettings.VideoDisabled=new VideoQualitySettings(0,0,0);VideoQualitySettings.VideoResolutionHD=new VideoQualitySettings(1280,720,30);VideoQualitySettings.VideoResolutionFHD=new VideoQualitySettings(1920,1080,30);VideoQualitySettings.VideoResolutionUHD=new VideoQualitySettings(3840,2160,30);var VideoTransformDevice={};Object.defineProperty(VideoTransformDevice,"__esModule",{value:!0});VideoTransformDevice.isVideoTransformDevice=void 0;function isVideoTransformDevice(ts){return!!ts&&typeof ts=="object"&&"transformStream"in ts&&"stop"in ts&&"intrinsicDevice"in ts}VideoTransformDevice.isVideoTransformDevice=isVideoTransformDevice;var __awaiter$R=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,ns,rs,is){function os(ss){return ss instanceof rs?ss:new rs(function(as){as(ss)})}return new(rs||(rs=Promise))(function(ss,as){function ls(ds){try{us(is.next(ds))}catch(ps){as(ps)}}function cs(ds){try{us(is.throw(ds))}catch(ps){as(ps)}}function us(ds){ds.done?ss(ds.value):os(ds.value).then(ls,cs)}us((is=is.apply(ts,ns||[])).next())})},__importDefault$1f=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(DefaultDeviceController$1,"__esModule",{value:!0});const DefaultBrowserBehavior_1$7=__importDefault$1f(DefaultBrowserBehavior$1),DefaultMediaDeviceFactory_1=__importDefault$1f(DefaultMediaDeviceFactory$1),AsyncScheduler_1$6=__importDefault$1f(AsyncScheduler$1),PromiseQueue_1=__importDefault$1f(PromiseQueue$1),Types_1$8=Types,DefaultVideoTransformDevice_1=__importDefault$1f(DefaultVideoTransformDevice$1),DefaultVideoTile_1$2=__importDefault$1f(DefaultVideoTile$1),AudioTransformDevice_1=AudioTransformDevice,DeviceSelection_1=__importDefault$1f(DeviceSelection$1),GetUserMediaError_1=__importDefault$1f(GetUserMediaError$1),NotFoundError_1=__importDefault$1f(NotFoundError$1),NotReadableError_1=__importDefault$1f(NotReadableError$1),OverconstrainedError_1=__importDefault$1f(OverconstrainedError$1),PermissionDeniedError_1$1=__importDefault$1f(PermissionDeniedError$1),TypeError_1=__importDefault$1f(_TypeError),VideoQualitySettings_1$5=__importDefault$1f(VideoQualitySettings$1),VideoTransformDevice_1$1=VideoTransformDevice;class DefaultDeviceController{constructor(ns,rs,is=new DefaultBrowserBehavior_1$7.default,os){this.logger=ns,this.browserBehavior=is,this.eventController=os,this.deviceInfoCache=null,this.activeDevices={audio:null,video:null},this.chosenVideoTransformDevice=null,this.audioOutputDeviceId=void 0,this.deviceChangeObservers=new Set,this.mediaStreamBrokerObservers=new Set,this.deviceLabelTrigger=()=>navigator.mediaDevices.getUserMedia({audio:!0,video:!0}),this.audioInputDestinationNode=null,this.audioInputSourceNode=null,this.videoInputQualitySettings=null,this.useWebAudio=!1,this.useMediaConstraintsFallback=!0,this.audioInputTaskQueue=new PromiseQueue_1.default,this.videoInputTaskQueue=new PromiseQueue_1.default,this.muted=!1,this.mediaStreamMuteObserver=(cs,us)=>{for(const ds of this.deviceChangeObservers)AsyncScheduler_1$6.default.nextTick(()=>{this.deviceChangeObservers.has(ds)&&ds.audioInputMuteStateChanged&&ds.audioInputMuteStateChanged(cs,us)})},this.alreadyHandlingDeviceChange=!1;const{enableWebAudio:ss=!1,useMediaConstraintsFallback:as=!0}=rs||{};this.useWebAudio=ss,this.useMediaConstraintsFallback=as,this.videoInputQualitySettings=new VideoQualitySettings_1$5.default(DefaultDeviceController.defaultVideoWidth,DefaultDeviceController.defaultVideoHeight,DefaultDeviceController.defaultVideoFrameRate);const ls=this.browserBehavior.requiresResolutionAlignment(this.videoInputQualitySettings.videoWidth,this.videoInputQualitySettings.videoHeight);this.videoInputQualitySettings.videoWidth=ls[0],this.videoInputQualitySettings.videoHeight=ls[1],this.logger.info("DefaultDeviceController video dimension ".concat(this.videoInputQualitySettings.videoWidth," x ").concat(this.videoInputQualitySettings.videoHeight));try{this.mediaDeviceWrapper=new DefaultMediaDeviceFactory_1.default().create();const cs=navigator.mediaDevices.getSupportedConstraints();this.logger.info("Supported Constraints in this browser ".concat(JSON.stringify(cs)))}catch(cs){ns.error(cs.message)}}isWatchingForDeviceChanges(){return!!this.onDeviceChangeCallback}ensureWatchingDeviceChanges(){var ns;this.isWatchingForDeviceChanges()||(this.logger.info("Starting devicechange listener."),this.onDeviceChangeCallback=()=>{this.logger.info("Device change event callback is triggered"),this.handleDeviceChange()},(ns=this.mediaDeviceWrapper)===null||ns===void 0||ns.addEventListener("devicechange",this.onDeviceChangeCallback))}stopWatchingDeviceChanges(){var ns;this.isWatchingForDeviceChanges()&&(this.logger.info("Stopping devicechange listener."),(ns=this.mediaDeviceWrapper)===null||ns===void 0||ns.removeEventListener("devicechange",this.onDeviceChangeCallback),this.onDeviceChangeCallback=void 0)}shouldObserveDeviceChanges(){return this.deviceChangeObservers.size?!0:this.activeDevices.audio&&this.activeDevices.audio.constraints!==null||this.activeDevices.video&&this.activeDevices.video.constraints!==null||!!this.audioOutputDeviceId}watchForDeviceChangesIfNecessary(){this.shouldObserveDeviceChanges()?this.ensureWatchingDeviceChanges():this.stopWatchingDeviceChanges()}destroy(){return __awaiter$R(this,void 0,void 0,function*(){this.stopWatchingDeviceChanges(),yield this.stopAudioInput(),yield this.stopVideoInput()})}listAudioInputDevices(ns=!1){return __awaiter$R(this,void 0,void 0,function*(){const rs=yield this.listDevicesOfKind("audioinput",ns);return this.trace("listAudioInputDevices",ns,rs),rs})}listVideoInputDevices(ns=!1){return __awaiter$R(this,void 0,void 0,function*(){const rs=yield this.listDevicesOfKind("videoinput",ns);return this.trace("listVideoInputDevices",ns,rs),rs})}listAudioOutputDevices(ns=!1){return __awaiter$R(this,void 0,void 0,function*(){const rs=yield this.listDevicesOfKind("audiooutput",ns);return this.trace("listAudioOutputDevices",ns,rs),rs})}pushAudioMeetingStateForPermissions(ns){var rs;(rs=this.eventController)===null||rs===void 0||rs.publishEvent(ns===void 0?"audioInputUnselected":"audioInputSelected")}pushVideoMeetingStateForPermissions(ns){var rs;(rs=this.eventController)===null||rs===void 0||rs.publishEvent(ns===void 0?"videoInputUnselected":"videoInputSelected")}startAudioInput(ns){return __awaiter$R(this,void 0,void 0,function*(){return yield this.audioInputTaskQueue.add(()=>this.startAudioInputTask(ns))})}startAudioInputTask(ns){var rs;return __awaiter$R(this,void 0,void 0,function*(){if(ns===void 0){this.logger.error("Audio input device cannot be undefined");return}try{return AudioTransformDevice_1.isAudioTransformDevice(ns)?(this.logger.info("Choosing transform input device ".concat(ns)),yield this.chooseAudioTransformInputDevice(ns)):(this.logger.info("Choosing intrinsic audio input device ".concat(ns)),this.removeTransform(),yield this.chooseInputIntrinsicDevice("audio",ns)),this.trace("startAudioInputDevice",ns,"success"),this.useWebAudio?(this.attachAudioInputStreamToAudioContext(this.activeDevices.audio.stream),this.pushAudioMeetingStateForPermissions(this.getMediaStreamDestinationNode().stream),yield(rs=this.transform)===null||rs===void 0?void 0:rs.device.mute(this.muted),this.getMediaStreamDestinationNode().stream):(this.publishAudioInputDidChangeEvent(this.activeDevices.audio.stream),this.activeDevices.audio.stream)}catch(is){throw is}})}stopAudioInput(){return __awaiter$R(this,void 0,void 0,function*(){return this.audioInputTaskQueue.add(()=>this.stopAudioInputTask())})}stopAudioInputTask(){return __awaiter$R(this,void 0,void 0,function*(){try{if(this.useWebAudio){this.releaseAudioTransformStream();return}this.stopTracksAndRemoveCallbacks("audio")}finally{this.watchForDeviceChangesIfNecessary(),this.publishAudioInputDidChangeEvent(void 0)}})}chooseAudioTransformInputDevice(ns){var rs;return __awaiter$R(this,void 0,void 0,function*(){if(((rs=this.transform)===null||rs===void 0?void 0:rs.device)===ns)return;if(!this.useWebAudio)throw new Error("Cannot apply transform device without enabling Web Audio.");const is=DefaultDeviceController.getAudioContext();if(!(is instanceof OfflineAudioContext))switch(is.state){case"running":break;case"closed":throw new Error("Cannot choose a transform device with a closed audio context.");case"suspended":yield is.resume()}let os;try{os=yield ns.createAudioNode(is)}catch(as){throw this.logger.error("Unable to create transform device node: ".concat(as,".")),as}const ss=yield ns.intrinsicDevice();yield this.chooseInputIntrinsicDevice("audio",ss),this.logger.debug("Got inner stream: ".concat(ss,".")),this.setTransform(ns,os)})}chooseVideoTransformInputDevice(ns){var rs;return __awaiter$R(this,void 0,void 0,function*(){if(this.eventController&&ns instanceof DefaultVideoTransformDevice_1.default&&ns.passEventControllerToProcessors(this.eventController),ns===this.chosenVideoTransformDevice){this.logger.info("Reselecting same VideoTransformDevice");return}const is=this.chosenVideoTransformDevice;is&&this.logger.info("Switched from previous VideoTransformDevice");const os=!!is,ss=yield ns.intrinsicDevice();if(!this.isMediaStreamReusableByDeviceId((rs=this.activeDevices.video)===null||rs===void 0?void 0:rs.stream,ss)){this.logger.info("video transform device needs new intrinsic device"),os&&is.onOutputStreamDisconnect(),this.chosenVideoTransformDevice=ns,this.activeDevices.video=null,yield this.chooseInputIntrinsicDevice("video",ss),this.logger.info("apply processors to transform"),yield this.chosenVideoTransformDevice.transformStream(this.activeDevices.video.stream);return}this.chosenVideoTransformDevice=ns,this.logger.info("video transform device uses previous stream"),this.logger.info("apply processors to transform"),yield ns.transformStream(this.activeDevices.video.stream)})}startVideoInput(ns){return __awaiter$R(this,void 0,void 0,function*(){return yield this.videoInputTaskQueue.add(()=>this.startVideoInputTask(ns))})}startVideoInputTask(ns){return __awaiter$R(this,void 0,void 0,function*(){if(!ns){this.logger.error("Invalid video input device");return}try{return VideoTransformDevice_1$1.isVideoTransformDevice(ns)?(this.logger.info("Choosing video transform device ".concat(ns)),yield this.chooseVideoTransformInputDevice(ns),this.publishVideoInputDidChangeEvent(this.chosenVideoTransformDevice.outputMediaStream),this.chosenVideoTransformDevice.outputMediaStream):(this.chosenVideoInputIsTransformDevice()&&(this.chosenVideoTransformDevice.onOutputStreamDisconnect(),this.chosenVideoTransformDevice=null),yield this.chooseInputIntrinsicDevice("video",ns),this.trace("startVideoInputDevice",ns),this.publishVideoInputDidChangeEvent(this.activeDevices.video.stream),this.activeDevices.video.stream)}catch(rs){throw rs}})}stopVideoInput(){return __awaiter$R(this,void 0,void 0,function*(){return this.videoInputTaskQueue.add(()=>this.stopVideoInputTask())})}stopVideoInputTask(){return __awaiter$R(this,void 0,void 0,function*(){try{if(this.chosenVideoInputIsTransformDevice()){this.releaseVideoTransformStream();return}this.stopTracksAndRemoveCallbacks("video")}finally{this.watchForDeviceChangesIfNecessary(),this.publishVideoInputDidChangeEvent(void 0)}})}chooseAudioOutput(ns){return __awaiter$R(this,void 0,void 0,function*(){this.audioOutputDeviceId=ns,this.watchForDeviceChangesIfNecessary();const rs=this.deviceInfoFromDeviceId("audiooutput",this.audioOutputDeviceId);this.publishAudioOutputDidChangeEvent(rs),this.trace("chooseAudioOutput",ns,null)})}addDeviceChangeObserver(ns){this.logger.info("adding device change observer"),this.deviceChangeObservers.add(ns),this.watchForDeviceChangesIfNecessary(),this.trace("addDeviceChangeObserver")}removeDeviceChangeObserver(ns){this.logger.info("removing device change observer"),this.deviceChangeObservers.delete(ns),this.watchForDeviceChangesIfNecessary(),this.trace("removeDeviceChangeObserver")}createAnalyserNodeForAudioInput(){var ns,rs;if(!this.activeDevices.audio)return null;const is=(rs=(ns=this.transform)===null||ns===void 0?void 0:ns.nodes)===null||rs===void 0?void 0:rs.end;if(is){const os=is.context.createAnalyser();return os.removeOriginalInputs=()=>{try{is.disconnect(os)}catch{}},is.connect(os),os}return this.createAnalyserNodeForRawAudioInput()}createAnalyserNodeForRawAudioInput(){return this.activeDevices.audio?this.createAnalyserNodeForStream(this.activeDevices.audio.stream):null}createAnalyserNodeForStream(ns){const rs=DefaultDeviceController.getAudioContext(),is=rs.createAnalyser(),os=rs.createMediaStreamSource(ns);return os.connect(is),this.trace("createAnalyserNodeForAudioInput"),is.removeOriginalInputs=()=>{try{os.disconnect(is)}catch{}},is}startVideoPreviewForVideoInput(ns){if(!this.activeDevices.video){this.logger.warn("cannot bind video preview since video input device has not been chosen"),this.trace("startVideoPreviewForVideoInput",ns.id);return}DefaultVideoTile_1$2.default.connectVideoStreamToVideoElement(this.chosenVideoTransformDevice?this.chosenVideoTransformDevice.outputMediaStream:this.activeDevices.video.stream,ns,!0),this.trace("startVideoPreviewForVideoInput",ns.id)}stopVideoPreviewForVideoInput(ns){DefaultVideoTile_1$2.default.disconnectVideoStreamFromVideoElement(ns,!1),this.trace("stopVideoPreviewForVideoInput",ns.id)}setDeviceLabelTrigger(ns){if(this.deviceInfoCache){for(const rs of this.deviceInfoCache)if(!rs.label){this.deviceInfoCache=null;break}}this.deviceLabelTrigger=ns,this.trace("setDeviceLabelTrigger")}mixIntoAudioInput(ns){let rs=null;return this.useWebAudio?(rs=DefaultDeviceController.getAudioContext().createMediaStreamSource(ns),rs.connect(this.getMediaStreamOutputNode())):this.logger.warn("WebAudio is not enabled, mixIntoAudioInput will not work"),this.trace("mixIntoAudioInput",ns.id),rs}chooseVideoInputQuality(ns,rs,is){const os=this.browserBehavior.requiresResolutionAlignment(ns,rs);this.videoInputQualitySettings=new VideoQualitySettings_1$5.default(os[0],os[1],is)}getVideoInputQualitySettings(){return this.videoInputQualitySettings}acquireAudioInputStream(){return __awaiter$R(this,void 0,void 0,function*(){return this.activeDevices.audio||(this.logger.info("No audio device chosen, creating empty audio device"),yield this.startAudioInput(null)),this.useWebAudio?this.getMediaStreamDestinationNode().stream:this.activeDevices.audio.stream})}acquireVideoInputStream(){return __awaiter$R(this,void 0,void 0,function*(){if(!this.activeDevices.video)throw new Error("No video device chosen");return this.chosenVideoInputIsTransformDevice()?this.chosenVideoTransformDevice.outputMediaStream:this.activeDevices.video.stream})}acquireDisplayInputStream(ns){return __awaiter$R(this,void 0,void 0,function*(){throw new Error("unsupported")})}releaseAudioTransformStream(){this.logger.info("Stopping audio track for Web Audio graph"),this.stopTracksAndRemoveCallbacks("audio"),this.logger.info("Removing audio transform, if there is one."),this.removeTransform(),this.audioInputSourceNode&&(this.audioInputSourceNode.disconnect(),this.audioInputSourceNode=void 0),this.audioInputDestinationNode&&(this.audioInputDestinationNode.disconnect(),this.audioInputDestinationNode=void 0)}releaseVideoTransformStream(){this.logger.info("Stopping video track for transform"),this.stopTracksAndRemoveCallbacks("video"),this.logger.info("Disconnecting video transform"),this.chosenVideoTransformDevice.onOutputStreamDisconnect(),this.chosenVideoTransformDevice=null}stopTracksAndRemoveCallbacks(ns){const rs=this.activeDevices[ns];if(!rs)return;const is=rs.endedCallback,os=rs.trackMuteCallback,ss=rs.trackUnmuteCallback;for(const as of rs.stream.getTracks())as.stop(),is&&as.removeEventListener("ended",is),os&&as.removeEventListener("mute",os),ss&&as.removeEventListener("unmute",ss),delete rs.endedCallback,delete rs.trackMuteCallback,delete rs.trackUnmuteCallback,delete this.activeDevices[ns]}chosenVideoInputIsTransformDevice(){return!!this.chosenVideoTransformDevice}muteLocalAudioInputStream(){this.toggleLocalAudioInputStream(!1)}unmuteLocalAudioInputStream(){this.toggleLocalAudioInputStream(!0)}toggleLocalAudioInputStream(ns){var rs;let is=this.activeDevices.audio;if(this.useWebAudio&&(is=this.getMediaStreamDestinationNode()),!!is){for(const os of is.stream.getTracks())os.enabled!==ns&&(os.enabled=ns);this.muted!==!ns&&(this.muted=!ns,(rs=this.transform)===null||rs===void 0||rs.device.mute(this.muted))}}static getIntrinsicDeviceId(ns){if(!ns)return;if(typeof ns=="string")return ns;if(ns.id)return ns.id;const is=ns.deviceId;if(!is)return;if(typeof is=="string"||Array.isArray(is))return is;const os=is;if(typeof os.exact=="string"||Array.isArray(os.exact))return os.exact}static createEmptyAudioDevice(){return DefaultDeviceController.synthesizeAudioDevice(0)}static synthesizeAudioDevice(ns){const rs=DefaultDeviceController.getAudioContext(),is=rs.createMediaStreamDestination();if(ns){const os=rs.createGain();os.gain.value=.1,os.connect(is);const ss=rs.createOscillator();ss.frequency.value=ns,ss.connect(os),ss.start()}else{const os=rs.createBufferSource();try{os.buffer=rs.createBuffer(1,rs.sampleRate*5,rs.sampleRate)}catch(ss){if(ss&&ss.name==="NotSupportedError")os.buffer=rs.createBuffer(1,DefaultDeviceController.defaultSampleRate*5,DefaultDeviceController.defaultSampleRate);else throw ss}os.buffer.getChannelData(0)[0]=3e-4,os.loop=!0,os.connect(is),os.start()}return is.stream}listDevicesOfKind(ns,rs){return __awaiter$R(this,void 0,void 0,function*(){return(rs||this.deviceInfoCache===null||!this.isWatchingForDeviceChanges())&&(yield this.updateDeviceInfoCacheFromBrowser()),this.listCachedDevicesOfKind(ns)})}updateDeviceInfoCacheFromBrowser(){var ns;return __awaiter$R(this,void 0,void 0,function*(){if(typeof MediaDeviceInfo>"u"){this.deviceInfoCache=[];return}let is=yield navigator.mediaDevices.enumerateDevices(),os=!0;for(const ss of is)if(!ss.label){os=!1;break}if(!os)try{this.logger.info("attempting to trigger media device labels since they are hidden");const ss=yield this.deviceLabelTrigger();is=yield navigator.mediaDevices.enumerateDevices();for(const as of ss.getTracks())as.stop()}catch(ss){this.logger.info("unable to get media device labels"),(ns=this.eventController)===null||ns===void 0||ns.publishEvent("deviceLabelTriggerFailed",{deviceLabelTriggerErrorMessage:this.getErrorMessage(ss)})}this.logger.debug("Update device info cache with devices: ".concat(JSON.stringify(is))),this.deviceInfoCache=is})}listCachedDevicesOfKind(ns){const rs=[];if(this.deviceInfoCache)for(const is of this.deviceInfoCache)is.kind===ns&&rs.push(is);return rs}handleDeviceChange(){return __awaiter$R(this,void 0,void 0,function*(){if(this.deviceInfoCache===null)return;if(this.alreadyHandlingDeviceChange){AsyncScheduler_1$6.default.nextTick(()=>{this.handleDeviceChange()});return}this.alreadyHandlingDeviceChange=!0;const ns=this.listCachedDevicesOfKind("audioinput"),rs=this.listCachedDevicesOfKind("videoinput"),is=this.listCachedDevicesOfKind("audiooutput");yield this.updateDeviceInfoCacheFromBrowser();const os=this.listCachedDevicesOfKind("audioinput"),ss=this.listCachedDevicesOfKind("videoinput"),as=this.listCachedDevicesOfKind("audiooutput");this.forEachObserver(ls=>{this.areDeviceListsEqual(ns,os)||Types_1$8.Maybe.of(ls.audioInputsChanged).map(cs=>cs.bind(ls)(os)),this.areDeviceListsEqual(rs,ss)||Types_1$8.Maybe.of(ls.videoInputsChanged).map(cs=>cs.bind(ls)(ss)),this.areDeviceListsEqual(is,as)||Types_1$8.Maybe.of(ls.audioOutputsChanged).map(cs=>cs.bind(ls)(as))}),this.alreadyHandlingDeviceChange=!1})}handleDeviceStreamEnded(ns,rs){return __awaiter$R(this,void 0,void 0,function*(){try{ns==="audio"?(this.logger.warn("Audio input device which was active is no longer available, resetting to null device"),yield this.startAudioInput(null)):(this.logger.warn("Video input device which was active is no longer available, stopping video"),yield this.stopVideoInput())}catch{this.logger.error("Failed to choose null device after stream ended.")}ns==="audio"?this.forEachObserver(is=>{Types_1$8.Maybe.of(is.audioInputStreamEnded).map(os=>os.bind(is)(rs))}):this.forEachObserver(is=>{Types_1$8.Maybe.of(is.videoInputStreamEnded).map(os=>os.bind(is)(rs))})})}forEachObserver(ns){for(const rs of this.deviceChangeObservers)AsyncScheduler_1$6.default.nextTick(()=>{this.deviceChangeObservers.has(rs)&&ns(rs)})}forEachMediaStreamBrokerObserver(ns){for(const rs of this.mediaStreamBrokerObservers)AsyncScheduler_1$6.default.nextTick(()=>{this.mediaStreamBrokerObservers.has(rs)&&ns(rs)})}areDeviceListsEqual(ns,rs){return JSON.stringify(ns.map(is=>JSON.stringify(is)).sort())===JSON.stringify(rs.map(is=>JSON.stringify(is)).sort())}intrinsicDeviceAsMediaStream(ns){return ns&&ns.id?ns:null}hasSameMediaStreamId(ns,rs,is){var os,ss,as,ls;let cs;return ns==="audio"?(cs=is==null?void 0:is.audio.streamId,!!cs&&cs===((ss=(os=rs.constraints)===null||os===void 0?void 0:os.audio)===null||ss===void 0?void 0:ss.streamId)):(cs=is==null?void 0:is.video.streamId,!!cs&&cs===((ls=(as=rs==null?void 0:rs.constraints)===null||as===void 0?void 0:as.video)===null||ls===void 0?void 0:ls.streamId))}hasSameGroupId(ns,rs,is){if(ns==="")return!0;const os=DefaultDeviceController.getIntrinsicDeviceId(is);return this.logger.debug("Checking deviceIds ".concat(os," of type ").concat(typeof os," with groupId ").concat(ns)),typeof os=="string"&&ns===this.getGroupIdFromDeviceId(rs,os)}getGroupIdFromDeviceId(ns,rs){if(this.deviceInfoCache!==null){const is=this.listCachedDevicesOfKind("".concat(ns,"input")).find(os=>os.deviceId===rs);if(is&&is.groupId)return this.logger.debug("GroupId of deviceId ".concat(rs," found in cache is ").concat(is.groupId)),is.groupId}return this.logger.debug("GroupId of deviceId ".concat(rs," found in cache is empty")),""}handleGetUserMediaError(ns,rs){if(!ns)throw new GetUserMediaError_1.default(ns);switch(ns.name){case"NotReadableError":case"TrackStartError":throw new NotReadableError_1.default(ns);case"NotFoundError":case"DevicesNotFoundError":throw new NotFoundError_1.default(ns);case"NotAllowedError":case"PermissionDeniedError":case"SecurityError":throw rs&&rs<DefaultDeviceController.permissionDeniedOriginDetectionThresholdMs?new PermissionDeniedError_1$1.default(ns,"Permission denied by browser"):new PermissionDeniedError_1$1.default(ns,"Permission denied by user");case"OverconstrainedError":case"ConstraintNotSatisfiedError":throw new OverconstrainedError_1.default(ns);case"TypeError":throw new TypeError_1.default(ns);case"AbortError":default:throw new GetUserMediaError_1.default(ns)}}matchesDeviceSelection(ns,rs,is,os){return is&&is.stream.active&&(this.hasSameMediaStreamId(ns,is,os)||is.groupId!==null&&this.hasSameGroupId(is.groupId,ns,rs))?(this.logger.debug("Compare current device constraint ".concat(JSON.stringify(is.constraints)," to proposed constraints ").concat(JSON.stringify(os))),is.matchesConstraints(os)):!1}chooseInputIntrinsicDevice(ns,rs){var is,os;return __awaiter$R(this,void 0,void 0,function*(){const ss=this.getMediaStreamConstraints(ns,rs);if(this.matchesDeviceSelection(ns,rs,this.activeDevices[ns],ss)){this.logger.info("reusing existing ".concat(ns," input device"));return}this.activeDevices[ns]&&this.activeDevices[ns].stream&&this.stopTracksAndRemoveCallbacks(ns);const as=Date.now(),ls=new DeviceSelection_1.default;try{this.logger.info("requesting new ".concat(ns," device with constraint ").concat(JSON.stringify(ss)));const cs=this.intrinsicDeviceAsMediaStream(rs);ns==="audio"&&rs===null?(ls.stream=DefaultDeviceController.createEmptyAudioDevice(),ls.constraints=null):cs?(this.logger.info("using media stream ".concat(cs.id," for ").concat(ns," device")),ls.stream=cs,ls.constraints=ss):(ls.stream=yield navigator.mediaDevices.getUserMedia(ss),ls.constraints=ss),yield this.handleNewInputDevice(ns,ls)}catch(cs){const us=this.getErrorMessage(cs);ns==="audio"?(is=this.eventController)===null||is===void 0||is.publishEvent("audioInputFailed",{audioInputErrorMessage:us}):(os=this.eventController)===null||os===void 0||os.publishEvent("videoInputFailed",{videoInputErrorMessage:us}),this.logger.error("failed to get ".concat(ns," device for constraints ").concat(JSON.stringify(ss),": ").concat(us));let ds=!0;if(cs&&"constraint"in cs&&(this.logger.error("Over-constrained by constraint: ".concat(cs.constraint)),this.useMediaConstraintsFallback)){const ps=this.getMediaStreamConstraints(ns,rs,!0),hs=JSON.stringify(ps);if(hs!==JSON.stringify(ss)){this.logger.info("retry requesting new ".concat(ns," device with minimal constraint ").concat(hs));try{ls.stream=yield navigator.mediaDevices.getUserMedia(ps),ls.constraints=ps,yield this.handleNewInputDevice(ns,ls),ds=!1}catch(ms){this.logger.error("failed to get ".concat(ns," device for constraints ").concat(hs,": ").concat(this.getErrorMessage(ms)))}}}if(ds){if(ns==="audio"){this.logger.info("choosing null ".concat(ns," device instead"));try{ls.stream=DefaultDeviceController.createEmptyAudioDevice(),ls.constraints=null,yield this.handleNewInputDevice(ns,ls)}catch(ps){this.logger.error("failed to choose null ".concat(ns," device. ").concat(ps.name,": ").concat(ps.message))}}this.handleGetUserMediaError(cs,Date.now()-as)}}finally{this.watchForDeviceChangesIfNecessary()}})}getErrorMessage(ns){return ns?ns.name&&ns.message?"".concat(ns.name,": ").concat(ns.message):ns.name?ns.name:ns.message?ns.message:"UnknownError":"UnknownError"}handleNewInputDevice(ns,rs){var is;return __awaiter$R(this,void 0,void 0,function*(){this.logger.info("got ".concat(ns," device for constraints ").concat(JSON.stringify(rs.constraints)));const os=(is=this.getMediaTrackSettings(rs.stream))===null||is===void 0?void 0:is.deviceId;rs.groupId=os?this.getGroupIdFromDeviceId(ns,os):"",this.activeDevices[ns]=rs,this.logger.debug("Set activeDevice to ".concat(JSON.stringify(rs))),this.watchForDeviceChangesIfNecessary();const ss=rs.stream.getTracks()[0];if(ss&&(rs.endedCallback=()=>{this.activeDevices[ns]&&this.activeDevices[ns].stream===rs.stream&&(this.handleDeviceStreamEnded(ns,os),delete rs.endedCallback)},ss.addEventListener("ended",rs.endedCallback,{once:!0})),ns==="audio"){const as=rs.stream.getAudioTracks()[0];if(as){const ls=as.getSettings().deviceId||rs.stream;rs.trackMuteCallback=()=>{this.mediaStreamMuteObserver(ls,!0)},rs.trackUnmuteCallback=()=>{this.mediaStreamMuteObserver(ls,!1)},as.addEventListener("mute",rs.trackMuteCallback,{once:!1}),as.addEventListener("unmute",rs.trackUnmuteCallback,{once:!1}),this.logger.debug("Notifying mute state after selection"),as.muted?rs.trackMuteCallback():rs.trackUnmuteCallback()}}})}calculateMediaStreamConstraints(ns,rs,is,os){if(os&&this.listCachedDevicesOfKind("".concat(ns,"input")).length===1)return!0;const ss={};return this.browserBehavior.requiresNoExactMediaStreamConstraints()?ss.deviceId=rs:ss.deviceId={exact:rs},is&&(ss.groupId=is),os?ss:ns==="video"?(ss.width={ideal:this.videoInputQualitySettings.videoWidth},ss.height={ideal:this.videoInputQualitySettings.videoHeight},ss.frameRate={ideal:this.videoInputQualitySettings.videoFrameRate},ss):(this.supportSampleRateConstraint()&&(ss.sampleRate={ideal:DefaultDeviceController.defaultSampleRate}),this.supportSampleSizeConstraint()&&(ss.sampleSize={ideal:DefaultDeviceController.defaultSampleSize}),this.supportChannelCountConstraint()&&(ss.channelCount={ideal:DefaultDeviceController.defaultChannelCount}),Object.assign({echoCancellation:!0,googEchoCancellation:!0,googEchoCancellation2:!0,googAutoGainControl:!0,googAutoGainControl2:!0,googNoiseSuppression:!0,googNoiseSuppression2:!0,googHighpassFilter:!0},ss))}getMediaStreamConstraintsFromTrackConstraints(ns,rs){return ns==="audio"?{audio:rs}:{video:rs}}getMediaStreamConstraints(ns,rs,is=!1){let os={};if(!rs)return null;const ss=this.intrinsicDeviceAsMediaStream(rs);if(ss)return os.streamId=ss.id,this.getMediaStreamConstraintsFromTrackConstraints(ns,os);if(typeof rs=="string"){let as="";return this.browserBehavior.requiresGroupIdMediaStreamConstraints()&&(this.deviceInfoCache!==null?as=this.getGroupIdFromDeviceId(ns,rs):this.logger.error("Device cache is not populated. Please make sure to call list devices first")),os=this.calculateMediaStreamConstraints(ns,rs,as,is),this.getMediaStreamConstraintsFromTrackConstraints(ns,os)}return isMediaDeviceInfo(rs)?(os=this.calculateMediaStreamConstraints(ns,rs.deviceId,rs.groupId,is),this.getMediaStreamConstraintsFromTrackConstraints(ns,os)):(os=rs,this.getMediaStreamConstraintsFromTrackConstraints(ns,os))}deviceInfoFromDeviceId(ns,rs){if(this.deviceInfoCache===null)return null;for(const is of this.deviceInfoCache)if(is.kind===ns&&is.deviceId===rs)return is;return null}hasAppliedTransform(){return!!this.transform}isMediaStreamReusableByDeviceId(ns,rs){if(!ns||!ns.active||!rs)return!1;if(rs.id)return ns.id===rs.id;const is=this.getMediaTrackSettings(ns);if(!is.deviceId)return!1;const os=DefaultDeviceController.getIntrinsicDeviceId(rs);return typeof os=="string"?is.deviceId===os:!1}getMediaTrackSettings(ns){var rs;return(rs=ns.getTracks()[0])===null||rs===void 0?void 0:rs.getSettings()}reconnectAudioInputs(){if(!this.audioInputSourceNode)return;this.audioInputSourceNode.disconnect();const ns=this.getMediaStreamOutputNode();this.audioInputSourceNode.connect(ns)}setTransform(ns,rs){var is,os;(os=(is=this.transform)===null||is===void 0?void 0:is.nodes)===null||os===void 0||os.end.disconnect(),this.transform={nodes:rs,device:ns};const ss=rs==null?void 0:rs.end,as=this.getMediaStreamDestinationNode();this.logger.debug("Connecting transform node ".concat(ss," to destination ").concat(as,".")),ss==null||ss.connect(as),this.reconnectAudioInputs()}removeTransform(){var ns;const rs=this.transform;if(rs)return(ns=this.transform.nodes)===null||ns===void 0||ns.end.disconnect(),this.transform=void 0,this.reconnectAudioInputs(),rs}attachAudioInputStreamToAudioContext(ns){var rs;(rs=this.audioInputSourceNode)===null||rs===void 0||rs.disconnect(),this.audioInputSourceNode=DefaultDeviceController.getAudioContext().createMediaStreamSource(ns);const is=this.getMediaStreamOutputNode();this.audioInputSourceNode.connect(is)}getMediaStreamDestinationNode(){return this.audioInputDestinationNode||(this.audioInputDestinationNode=DefaultDeviceController.getAudioContext().createMediaStreamDestination()),this.audioInputDestinationNode}getMediaStreamOutputNode(){var ns,rs;return((rs=(ns=this.transform)===null||ns===void 0?void 0:ns.nodes)===null||rs===void 0?void 0:rs.start)||this.getMediaStreamDestinationNode()}static setDefaultLatencyHint(ns){DefaultDeviceController.defaultLatencyHint=ns}static getAudioContext(){if(!DefaultDeviceController.audioContext){const ns={};navigator.mediaDevices.getSupportedConstraints().sampleRate&&(ns.sampleRate=DefaultDeviceController.defaultSampleRate),new DefaultBrowserBehavior_1$7.default().requiresPlaybackLatencyHintForAudioContext()&&(ns.latencyHint="playback"),DefaultDeviceController.defaultLatencyHint&&(ns.latencyHint=DefaultDeviceController.defaultLatencyHint),DefaultDeviceController.audioContext=new(window.AudioContext||window.webkitAudioContext)(ns)}return DefaultDeviceController.audioContext}static suspendAudioContext(){return __awaiter$R(this,void 0,void 0,function*(){return DefaultDeviceController.audioContext?DefaultDeviceController.audioContext.suspend():Promise.resolve()})}static resumeAudioContext(){return __awaiter$R(this,void 0,void 0,function*(){return DefaultDeviceController.audioContext?DefaultDeviceController.audioContext.resume():Promise.resolve()})}static closeAudioContext(){if(DefaultDeviceController.audioContext)try{DefaultDeviceController.audioContext.close()}catch{}DefaultDeviceController.audioContext=null}addMediaStreamBrokerObserver(ns){this.mediaStreamBrokerObservers.add(ns)}removeMediaStreamBrokerObserver(ns){this.mediaStreamBrokerObservers.delete(ns)}publishVideoInputDidChangeEvent(ns){this.forEachMediaStreamBrokerObserver(rs=>{rs.videoInputDidChange&&rs.videoInputDidChange(ns)}),this.pushVideoMeetingStateForPermissions(ns)}publishAudioInputDidChangeEvent(ns){this.forEachMediaStreamBrokerObserver(rs=>{rs.audioInputDidChange&&rs.audioInputDidChange(ns)}),this.pushAudioMeetingStateForPermissions(ns)}publishAudioOutputDidChangeEvent(ns){this.forEachMediaStreamBrokerObserver(rs=>{rs.audioOutputDidChange&&rs.audioOutputDidChange(ns)})}supportSampleRateConstraint(){return this.useWebAudio&&!!navigator.mediaDevices.getSupportedConstraints().sampleRate}supportSampleSizeConstraint(){return this.useWebAudio&&!!navigator.mediaDevices.getSupportedConstraints().sampleSize}supportChannelCountConstraint(){return this.useWebAudio&&!!navigator.mediaDevices.getSupportedConstraints().channelCount}trace(ns,rs,is){let os="API/DefaultDeviceController/".concat(ns);typeof rs<"u"&&(os+=" ".concat(JSON.stringify(rs))),typeof is<"u"&&(os+=" -> ".concat(JSON.stringify(is))),this.logger.info(os)}}DefaultDeviceController$1.default=DefaultDeviceController;DefaultDeviceController.permissionDeniedOriginDetectionThresholdMs=500;DefaultDeviceController.defaultVideoWidth=960;DefaultDeviceController.defaultVideoHeight=540;DefaultDeviceController.defaultVideoFrameRate=15;DefaultDeviceController.defaultSampleRate=48e3;DefaultDeviceController.defaultSampleSize=16;DefaultDeviceController.defaultChannelCount=1;DefaultDeviceController.audioContext=null;function isMediaDeviceInfo(ts){return typeof ts=="object"&&"deviceId"in ts&&"groupId"in ts&&"kind"in ts&&"label"in ts}var __awaiter$Q=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,ns,rs,is){function os(ss){return ss instanceof rs?ss:new rs(function(as){as(ss)})}return new(rs||(rs=Promise))(function(ss,as){function ls(ds){try{us(is.next(ds))}catch(ps){as(ps)}}function cs(ds){try{us(is.throw(ds))}catch(ps){as(ps)}}function us(ds){ds.done?ss(ds.value):os(ds.value).then(ls,cs)}us((is=is.apply(ts,ns||[])).next())})},__importDefault$1e=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(ContentShareMediaStreamBroker$1,"__esModule",{value:!0});const DefaultBrowserBehavior_1$6=__importDefault$1e(DefaultBrowserBehavior$1),DefaultDeviceController_1$1=__importDefault$1e(DefaultDeviceController$1);class ContentShareMediaStreamBroker{constructor(ns){this.logger=ns}get mediaStream(){return this._mediaStream}set mediaStream(ns){this._mediaStream=ns}acquireAudioInputStream(){return __awaiter$Q(this,void 0,void 0,function*(){return this._mediaStream.getAudioTracks().length===0?(this.logger.info("No audio stream available. Synthesizing an audio stream."),DefaultDeviceController_1$1.default.synthesizeAudioDevice(0)):this._mediaStream})}acquireVideoInputStream(){return __awaiter$Q(this,void 0,void 0,function*(){return this._mediaStream})}acquireDisplayInputStream(ns){return __awaiter$Q(this,void 0,void 0,function*(){return ns&&ns.video&&ns.video.mandatory&&ns.video.mandatory.chromeMediaSource&&ns.video.mandatory.chromeMediaSourceId?navigator.mediaDevices.getUserMedia(ns):navigator.mediaDevices.getDisplayMedia(ns)})}acquireScreenCaptureDisplayInputStream(ns,rs){return __awaiter$Q(this,void 0,void 0,function*(){return this.acquireDisplayInputStream(this.screenCaptureDisplayMediaConstraints(ns,rs))})}screenCaptureDisplayMediaConstraints(ns,rs){return{audio:!!(!ns&&new DefaultBrowserBehavior_1$6.default().getDisplayMediaAudioCaptureSupport()),video:Object.assign(Object.assign({},!ns&&{frameRate:{max:rs||ContentShareMediaStreamBroker.defaultFrameRate}}),ns&&{mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:ns,maxFrameRate:rs||ContentShareMediaStreamBroker.defaultFrameRate}})}}toggleMediaStream(ns){let rs=!1;if(this.mediaStream)for(let is=0;is<this.mediaStream.getTracks().length;is++)this.mediaStream.getTracks()[is].enabled!==ns&&(this.mediaStream.getTracks()[is].enabled=ns,rs=!0);return rs}cleanup(){if(this.mediaStream)for(let ns=0;ns<this.mediaStream.getTracks().length;ns++)this.mediaStream.getTracks()[ns].stop();this.mediaStream=null}muteLocalAudioInputStream(){throw new Error("unsupported")}unmuteLocalAudioInputStream(){throw new Error("unsupported")}addMediaStreamBrokerObserver(ns){}removeMediaStreamBrokerObserver(ns){}}ContentShareMediaStreamBroker$1.default=ContentShareMediaStreamBroker;ContentShareMediaStreamBroker.defaultFrameRate=15;var CreatePeerConnectionTask$1={},__awaiter$P=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,ns,rs,is){function os(ss){return ss instanceof rs?ss:new rs(function(as){as(ss)})}return new(rs||(rs=Promise))(function(ss,as){function ls(ds){try{us(is.next(ds))}catch(ps){as(ps)}}function cs(ds){try{us(is.throw(ds))}catch(ps){as(ps)}}function us(ds){ds.done?ss(ds.value):os(ds.value).then(ls,cs)}us((is=is.apply(ts,ns||[])).next())})},__importDefault$1d=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(CreatePeerConnectionTask$1,"__esModule",{value:!0});const BaseTask_1$l=__importDefault$1d(BaseTask$1);class CreatePeerConnectionTask extends BaseTask_1$l.default{constructor(ns){super(ns.logger),this.context=ns,this.taskName="CreatePeerConnectionTask",this.removeTrackAddedEventListener=null,this.removeTrackRemovedEventListeners={},this.trackEvents=["ended","mute","unmute","isolationchange","overconstrained"],this.removeVideoTrackEventListeners={},this.trackAddedHandler=rs=>{const is=rs.track;if(this.context.logger.info("received track event: kind=".concat(is.kind," id=").concat(is.id," label=").concat(is.label)),rs.transceiver&&rs.transceiver.currentDirection==="inactive")return;if(rs.streams.length===0){this.context.logger.warn("Track event but no stream");return}const os=rs.streams[0];is.kind==="audio"?this.context.audioMixController.bindAudioStream(os):is.kind==="video"&&!this.trackIsVideoInput(is)&&this.addRemoteVideoTrack(is,os)}}removeObserver(){this.removeTrackAddedEventListener&&this.removeTrackAddedEventListener();for(const ns in this.removeTrackRemovedEventListeners)this.removeTrackRemovedEventListeners[ns]()}addPeerConnectionEventLogger(){const ns=this.context.peer;ns.addEventListener("connectionstatechange",()=>{this.context.logger.info("peer connection state changed: ".concat(ns.connectionState))}),ns.addEventListener("negotiationneeded",()=>{this.context.logger.info("peer connection negotiation is needed")}),ns.addEventListener("icegatheringstatechange",()=>{this.context.logger.info("peer connection ice gathering state changed: ".concat(ns.iceGatheringState))}),ns.addEventListener("icecandidate",rs=>{this.context.logger.info("peer connection ice candidate: ".concat(rs.candidate?rs.candidate.candidate:"(null)"))}),ns.addEventListener("iceconnectionstatechange",()=>{this.context.logger.info("peer connection ice connection state changed: ".concat(ns.iceConnectionState))})}run(){return __awaiter$P(this,void 0,void 0,function*(){this.context.removableObservers.push(this);const rs=this.context.turnCredentials&&this.context.turnCredentials.uris.length>0?{iceServers:[{urls:this.context.turnCredentials.uris,username:this.context.turnCredentials.username,credential:this.context.turnCredentials.password,credentialType:"password"}],iceTransportPolicy:"relay"}:{};rs.bundlePolicy=this.context.browserBehavior.requiresBundlePolicy(),rs.sdpSemantics="unified-plan",rs.encodedInsertableStreams=this.context.audioProfile.hasRedundancyEnabled(),this.context.peer?this.context.logger.info("reusing peer connection"):(this.context.logger.info("creating new peer connection"),this.context.peer=new RTCPeerConnection(rs),this.addPeerConnectionEventLogger()),this.removeTrackAddedEventListener=()=>{this.context.peer&&this.context.peer.removeEventListener("track",this.trackAddedHandler),this.removeTrackAddedEventListener=null},this.context.peer.addEventListener("track",this.trackAddedHandler)})}trackIsVideoInput(ns){return this.context.transceiverController.useTransceivers()?(this.logger.debug(()=>"getting video track type"),this.context.transceiverController.trackIsVideoInput(ns)):!1}addRemoteVideoTrack(ns,rs){var is;const os=rs.id,ss=this.context.videoStreamIndex.attendeeIdForTrack(os);let as,ls;if(this.context.videoTileController.getVideoTileForAttendeeId?(ls=this.context.videoTileController.getVideoTileForAttendeeId(ss),as=!!(!((is=ls==null?void 0:ls.state())===null||is===void 0)&&is.boundVideoStream)):as=this.context.videoTileController.haveVideoTileForAttendeeId(ss),as){this.context.logger.info("Not adding remote track. Already have tile for attendeeId:  ".concat(ss));return}ls||(ls=this.context.videoTileController.addVideoTile(),this.logger.info("Created video tile ".concat(ls.id())));let cs=this.context.videoStreamIndex.streamIdForTrack(os);typeof cs>"u"&&(this.logger.warn("stream not found for tile=".concat(ls.id()," track=").concat(os)),cs=null);let us=this.context.videoStreamIndex.groupIdForStreamId(cs);us===void 0&&(us=null);for(let vs=0;vs<this.trackEvents.length;vs++){const bs=this.trackEvents[vs],Ss=rs.getVideoTracks();if(Ss&&Ss.length){const $s=Ss[0],Cs=()=>{this.context.logger.info("received the ".concat(bs," event for tile=").concat(ls.id()," id=").concat(ns.id," streamId=").concat(cs)),bs==="ended"&&this.removeRemoteVideoTrack(ns,ls.state())};$s.addEventListener(bs,Cs),this.removeVideoTrackEventListeners[ns.id]||(this.removeVideoTrackEventListeners[ns.id]=[]),this.removeVideoTrackEventListeners[ns.id].push(()=>{$s.removeEventListener(bs,Cs)})}}let ds,ps;if(ns.getSettings){const vs=ns.getSettings();ds=vs.width,ps=vs.height}else{const vs=ns.getCapabilities();ds=vs.width,ps=vs.height}const hs=this.context.videoStreamIndex.externalUserIdForTrack(os);ls.bindVideoStream(ss,!1,rs,ds,ps,cs,hs,us),this.logger.info("video track added, use tile=".concat(ls.id()," track=").concat(os," streamId=").concat(cs," groupId=").concat(us));const ms="removetrack",gs=rs,ys=()=>this.removeRemoteVideoTrack(ns,ls.state());this.removeTrackRemovedEventListeners[ns.id]=()=>{gs.removeEventListener(ms,ys),delete this.removeTrackRemovedEventListeners[ns.id]},gs.addEventListener(ms,ys)}removeRemoteVideoTrack(ns,rs){if(this.removeTrackRemovedEventListeners.hasOwnProperty(ns.id)){this.removeTrackRemovedEventListeners[ns.id]();for(const is of this.removeVideoTrackEventListeners[ns.id])is();delete this.removeVideoTrackEventListeners[ns.id]}this.logger.info("video track ended, removing tile=".concat(rs.tileId," id=").concat(ns.id," stream=").concat(rs.streamId)),rs.streamId?this.context.videosPaused.remove(rs.streamId):this.logger.warn("no stream found for tile=".concat(rs.tileId)),this.context.videoTileController.removeVideoTile(rs.tileId)}}CreatePeerConnectionTask$1.default=CreatePeerConnectionTask;CreatePeerConnectionTask.REMOVE_HANDLER_INTERVAL_MS=1e4;var CreateSDPTask$1={},MeetingSessionStatusCode={};(function(ts){Object.defineProperty(ts,"__esModule",{value:!0}),ts.MeetingSessionStatusCode=void 0;var ns;(function(rs){rs[rs.OK=0]="OK",rs[rs.Left=1]="Left",rs[rs.AudioJoinedFromAnotherDevice=2]="AudioJoinedFromAnotherDevice",rs[rs.AudioAuthenticationRejected=3]="AudioAuthenticationRejected",rs[rs.AudioCallAtCapacity=4]="AudioCallAtCapacity",rs[rs.MeetingEnded=5]="MeetingEnded",rs[rs.AudioInternalServerError=6]="AudioInternalServerError",rs[rs.AudioServiceUnavailable=7]="AudioServiceUnavailable",rs[rs.AudioDisconnected=8]="AudioDisconnected",rs[rs.VideoCallSwitchToViewOnly=9]="VideoCallSwitchToViewOnly",rs[rs.VideoCallAtSourceCapacity=10]="VideoCallAtSourceCapacity",rs[rs.SignalingBadRequest=11]="SignalingBadRequest",rs[rs.SignalingInternalServerError=12]="SignalingInternalServerError",rs[rs.SignalingRequestFailed=13]="SignalingRequestFailed",rs[rs.ICEGatheringTimeoutWorkaround=14]="ICEGatheringTimeoutWorkaround",rs[rs.ConnectionHealthReconnect=15]="ConnectionHealthReconnect",rs[rs.RealtimeApiFailed=16]="RealtimeApiFailed",rs[rs.TaskFailed=17]="TaskFailed",rs[rs.IncompatibleSDP=18]="IncompatibleSDP",rs[rs.TURNCredentialsForbidden=19]="TURNCredentialsForbidden",rs[rs.NoAttendeePresent=20]="NoAttendeePresent",rs[rs.AudioAttendeeRemoved=21]="AudioAttendeeRemoved",rs[rs.AudioVideoWasRemovedFromPrimaryMeeting=22]="AudioVideoWasRemovedFromPrimaryMeeting",rs[rs.AudioVideoDisconnectedWhilePromoted=23]="AudioVideoDisconnectedWhilePromoted",rs[rs.AudioDisconnectAudio=24]="AudioDisconnectAudio"})(ns=ts.MeetingSessionStatusCode||(ts.MeetingSessionStatusCode={})),ts.default=ns})(MeetingSessionStatusCode);var SDP$1={},SDPCandidateType={};(function(ts){Object.defineProperty(ts,"__esModule",{value:!0}),ts.SDPCandidateType=void 0;var ns;(function(rs){rs.Host="host",rs.ServerReflexive="srflx",rs.PeerReflexive="prflx",rs.Relay="relay"})(ns=ts.SDPCandidateType||(ts.SDPCandidateType={})),ts.default=ns})(SDPCandidateType);var SDPMediaSection$1={};Object.defineProperty(SDPMediaSection$1,"__esModule",{value:!0});class SDPMediaSection{}SDPMediaSection$1.default=SDPMediaSection;var VideoCodecCapability$1={};Object.defineProperty(VideoCodecCapability$1,"__esModule",{value:!0});const SignalingProtocol_1$2=SignalingProtocol;class VideoCodecCapability{constructor(ns,rs){this.codecName=ns,this.codecCapability=rs}equals(ns){return ns!==void 0&&this.codecName===ns.codecName&&this.codecCapability.mimeType===ns.codecCapability.mimeType&&this.codecCapability.clockRate===ns.codecCapability.clockRate&&this.codecCapability.sdpFmtpLine===ns.codecCapability.sdpFmtpLine}fmtpLineMatches(ns,rs){const is=this.codecCapability.sdpFmtpLine;if(!is)return!1;if(this.codecName==="H264"){const os=/profile-level-id=([0-9a-f]{4})[0-9a-f]{2}/i,ss=is.replace(os,"profile-level-id=$1");return ns.replace(os,"profile-level-id=$1").startsWith("a=fmtp:".concat(rs," ").concat(ss))}return ns.startsWith("a=fmtp:".concat(rs," ").concat(is))}static vp8(){return new VideoCodecCapability("VP8",{clockRate:9e4,mimeType:"video/VP8"})}static h264BaselineProfile(){return new VideoCodecCapability("H264",{clockRate:9e4,mimeType:"video/H264",sdpFmtpLine:"level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42001f"})}static h264ConstrainedBaselineProfile(){return new VideoCodecCapability("H264",{clockRate:9e4,mimeType:"video/H264",sdpFmtpLine:"level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f"})}static h264MainProfile(){return new VideoCodecCapability("H264",{clockRate:9e4,mimeType:"video/H264",sdpFmtpLine:"level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=4d001f"})}static h264HighProfile(){return new VideoCodecCapability("H264",{clockRate:9e4,mimeType:"video/H264",sdpFmtpLine:"level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=64001f"})}static h264ConstrainedHighProfile(){return new VideoCodecCapability("H264",{clockRate:9e4,mimeType:"video/H264",sdpFmtpLine:"level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=640c1f"})}static h264(){return VideoCodecCapability.h264ConstrainedBaselineProfile()}static vp9Profile0(){return new VideoCodecCapability("VP9",{clockRate:9e4,mimeType:"video/VP9",sdpFmtpLine:"profile-id=0"})}static vp9(){return VideoCodecCapability.vp9Profile0()}static av1Main(){return new VideoCodecCapability("AV1",{clockRate:9e4,mimeType:"video/AV1"})}static av1(){return VideoCodecCapability.av1Main()}static fromSignaled(ns){switch(ns){case SignalingProtocol_1$2.SdkVideoCodecCapability.VP8:return VideoCodecCapability.vp8();case SignalingProtocol_1$2.SdkVideoCodecCapability.H264_BASELINE_PROFILE:return VideoCodecCapability.h264BaselineProfile();case SignalingProtocol_1$2.SdkVideoCodecCapability.H264_CONSTRAINED_BASELINE_PROFILE:return VideoCodecCapability.h264ConstrainedBaselineProfile();case SignalingProtocol_1$2.SdkVideoCodecCapability.H264_MAIN_PROFILE:return VideoCodecCapability.h264MainProfile();case SignalingProtocol_1$2.SdkVideoCodecCapability.H264_HIGH_PROFILE:return VideoCodecCapability.h264HighProfile();case SignalingProtocol_1$2.SdkVideoCodecCapability.H264_CONSTRAINED_HIGH_PROFILE:return VideoCodecCapability.h264ConstrainedHighProfile();case SignalingProtocol_1$2.SdkVideoCodecCapability.VP9_PROFILE_0:return VideoCodecCapability.vp9Profile0();case SignalingProtocol_1$2.SdkVideoCodecCapability.AV1_MAIN_PROFILE:return VideoCodecCapability.av1Main();default:return}}}VideoCodecCapability$1.default=VideoCodecCapability;var __importDefault$1c=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(SDP$1,"__esModule",{value:!0});const SDPCandidateType_1=__importDefault$1c(SDPCandidateType),SDPMediaSection_1=__importDefault$1c(SDPMediaSection$1),VideoCodecCapability_1$3=__importDefault$1c(VideoCodecCapability$1);class SDP{constructor(ns){this.sdp=ns}clone(){return new SDP(this.sdp)}static isRTPCandidate(ns){const rs=/candidate[:](\S+) (\d+)/g.exec(ns);return!(rs===null||rs[2]!=="1")}static linesToSDP(ns){return new SDP(ns.join(SDP.CRLF))}static candidateTypeFromString(ns){switch(ns){case SDPCandidateType_1.default.Host:return SDPCandidateType_1.default.Host;case SDPCandidateType_1.default.ServerReflexive:return SDPCandidateType_1.default.ServerReflexive;case SDPCandidateType_1.default.PeerReflexive:return SDPCandidateType_1.default.PeerReflexive;case SDPCandidateType_1.default.Relay:return SDPCandidateType_1.default.Relay}return null}static candidateType(ns){const rs=/a[=]candidate[:].* typ ([a-z]+) /g.exec(ns);return rs===null?null:SDP.candidateTypeFromString(rs[1])}static mediaType(ns){const rs=/m=(audio|video)/g.exec(ns);if(rs!==null)return rs[1]}static mid(ns){if(ns.includes("a=mid:"))return ns.replace(/^(a=mid:)/,"")}static direction(ns){const rs=/a=(sendrecv|sendonly|recvonly|inactive)/g.exec(ns);if(rs!==null)return rs[1]}static splitLines(ns){return ns.trim().split("\n").map(rs=>rs.trim())}static splitSections(ns){return ns.split("\nm=").map((is,os)=>(os>0?"m="+is:is).trim()+SDP.CRLF)}static findActiveCameraSection(ns){let rs=0,is=!1;for(const os of ns){if(/^m=video/.test(os)&&(os.indexOf("sendrecv")>-1||os.indexOf("sendonly")===-1&&os.indexOf("recvonly")===-1&&os.indexOf("inactive")===-1)){is=!0;break}rs++}return is===!1&&(rs=-1),rs}static extractSSRCsFromFIDGroupLine(ns){return/^a=ssrc-group:FID\s(.+)/.exec(ns)[1]}static matchPrefix(ns,rs){return SDP.splitLines(ns).filter(is=>is.indexOf(rs)===0)}lines(){return this.sdp.split(SDP.CRLF)}hasVideo(){return/^m=video/gm.exec(this.sdp)!==null}hasCandidates(){return/a[=]candidate[:]/g.exec(this.sdp)!==null}hasCandidatesForAllMLines(){return!(this.sdp.indexOf("c=IN IP4 0.0.0.0")>-1)}withoutCandidateType(ns){return SDP.linesToSDP(this.lines().filter(rs=>SDP.candidateType(rs)!==ns))}withoutServerReflexiveCandidates(){return this.withoutCandidateType(SDPCandidateType_1.default.ServerReflexive)}withAudioMaxAverageBitrate(ns){if(!ns)return this.clone();ns=Math.trunc(Math.min(Math.max(ns,SDP.rfc7587LowestBitrate),SDP.rfc7587HighestBitrate));const rs=this.lines(),is=SDP.findOpusFmtpAttributes(rs),os=SDP.updateOpusFmtpAttributes(rs,is,["maxaveragebitrate=".concat(ns)]);return SDP.linesToSDP(os)}withStereoAudio(){const ns=this.lines(),rs=SDP.findOpusFmtpAttributes(ns),is=SDP.updateOpusFmtpAttributes(ns,rs,["stereo=1","sprop-stereo=1"]);return SDP.linesToSDP(is)}static findOpusFmtpAttributes(ns){const rs=/^a=rtpmap:\s*(\d+)\s+opus\/48000/;let is=!1;const os=[];for(const ss of ns)if(ss.startsWith("m=audio")&&(os.push(null),is=!0),ss.startsWith("m=video")&&(is=!1),is){const as=rs.exec(ss);as!==null&&(os[os.length-1]="a=fmtp:".concat(as[1]," "))}return os}static updateOpusFmtpAttributes(ns,rs,is){const os=[];let ss=0,as=null;for(const ls of ns)if(ls.startsWith("m=audio")&&(as=rs[ss],ss++),ls.startsWith("m=video")&&(as=null),as&&ls.startsWith(as)){const cs=ls.slice(as.length).split(";"),us=[];for(const ds of cs)is.findIndex(hs=>hs.startsWith(ds.split("=")[0]))<0&&us.push(ds);for(const ds of is)us.push(ds);os.push(as+us.join(";"))}else os.push(ls);return os}withUnifiedPlanFormat(){let ns=this.sdp;return ns.includes("mozilla")?this.clone():(ns=ns.replace("o=-","o=mozilla-chrome"),new SDP(ns))}getUniqueRtpHeaderExtensionId(ns){const rs=[];for(const os of ns)if(/^a=extmap:/.test(os.trim())){const as=+os.split("a=extmap:")[1].split(" ")[0];rs.includes(as)||rs.push(as)}rs.sort((os,ss)=>os-ss);let is=0;for(const os of rs){if(os-is>1)return is+1;is=os}return is===14?-1:is+1}withVideoLayersAllocationRtpHeaderExtension(ns){return this.withRtpHeaderExtension(ns,SDP.videoLayersAllocationRtpHeaderExtensionUrl)}withDependencyDescriptorRtpHeaderExtension(ns){return this.withRtpHeaderExtension(ns,SDP.dependencyDescriptorRtpHeaderExtensionUrl)}withoutDependencyDescriptorRtpHeaderExtension(){const ns=SDP.splitLines(this.sdp).filter(rs=>!rs.includes(SDP.dependencyDescriptorRtpHeaderExtensionUrl));return new SDP(ns.join(SDP.CRLF)+SDP.CRLF)}withRtpHeaderExtension(ns,rs){const is=ns?ns.getRtpHeaderExtensionId(rs):-1,os=is===-1?this.getUniqueRtpHeaderExtensionId(SDP.splitLines(this.sdp)):is,ss=SDP.splitSections(this.sdp),as=[];for(let cs of ss){if(/^m=video/.test(cs)&&SDP.getRtpHeaderExtensionIdInSection(cs,rs)===-1){const us=SDP.splitLines(cs),ds=[];if(os===-1||this.hasRtpHeaderExtensionId(os)){as.push(cs);continue}for(const ps of us)if(ds.push(ps),/^a=sendrecv/.test(ps.trim())){const hs="a=extmap:"+os+" "+rs;ds.push(hs)}cs=ds.join(SDP.CRLF)+SDP.CRLF}else if(is!==-1&&/^m=video/.test(cs)&&SDP.getRtpHeaderExtensionIdInSection(cs,rs)!==is){const us=SDP.splitLines(cs),ds=[];for(const ps of us){if(/^a=extmap:/.test(ps.trim())&&ps.split("a=extmap:")[1].split(" ")[1]===rs){if(!this.hasRtpHeaderExtensionId(is)){const ms="a=extmap:"+is+" "+rs;ds.push(ms)}continue}ds.push(ps)}cs=ds.join(SDP.CRLF)+SDP.CRLF}as.push(cs)}const ls=as.join("");return new SDP(ls)}ssrcForVideoSendingSection(){const ns=this.sdp,rs=SDP.splitSections(ns);if(rs.length<2)return"";const is=SDP.findActiveCameraSection(rs);if(is===-1)return"";const os=SDP.matchPrefix(rs[is],"a=ssrc-group:FID ");if(os.length<1)return"";const ss=SDP.extractSSRCsFromFIDGroupLine(os[0]),[as]=ss.split(" ").map(ls=>parseInt(ls,10));return as.toString()}videoSendSectionHasDifferentSSRC(ns){const rs=this.ssrcForVideoSendingSection(),is=ns.ssrcForVideoSendingSection();if(rs===""||is==="")return!1;const os=parseInt(rs,10),ss=parseInt(is,10);return os!==ss}removeH264SupportFromSendSection(){const ns=this.sdp,rs=SDP.splitSections(ns),is=SDP.findActiveCameraSection(rs);if(is===-1)return new SDP(this.sdp);const os=rs[is],ss=SDP.splitLines(os),as=[],ls=new Map;ss.forEach(ps=>{if(/^a=rtpmap:/.test(ps)){const hs=/^a=rtpmap:([0-9]+)\s/.exec(ps);hs&&ps.toLowerCase().includes("h264")&&as.push(parseInt(hs[1],10))}if(/^a=fmtp:/.test(ps)){const hs=/^a=fmtp:([0-9]+) apt=([0-9]+)/.exec(ps);if(hs&&hs.length===3){const ms=parseInt(hs[1],10),gs=parseInt(hs[2],10);ls.has(gs)?ls.get(gs).push(ms):ls.set(gs,[ms])}}});const cs=new Set;for(const ps of as){cs.add(ps);const hs=ls.get(ps);if(hs)for(const ms of hs)cs.add(ms)}if(as.length>0){const ps=ss[0].split(" ");ss[0]=ps.filter(hs=>!cs.has(parseInt(hs))).join(" ")}const us=ss.filter(ps=>{if(!ps.includes("rtpmap")&&!ps.includes("rtcp-fb")&&!ps.includes("fmtp"))return!0;for(const hs of cs)if(ps.includes(hs.toString()))return!1;return!0});rs[is]=us.join(SDP.CRLF)+SDP.CRLF;const ds=rs.join("");return new SDP(ds)}mediaSections(){const ns=SDP.splitSections(this.sdp);if(ns.length<2)return[];const rs=[];for(let is=1;is<ns.length;is++){const os=new SDPMediaSection_1.default,ss=SDP.splitLines(ns[is]);for(const as of ss){const ls=SDP.mediaType(as);if(ls!==void 0){os.mediaType=ls;continue}const cs=SDP.direction(as);if(cs!==void 0){os.direction=cs;continue}const us=SDP.mid(as);if(us!==void 0){os.mid=us;continue}}rs.push(os)}return rs}static getRtpHeaderExtensionIdInSection(ns,rs){const is=SDP.splitLines(ns);for(const os of is)if(/^a=extmap:/.test(os.trim())){const ss=os.split("a=extmap:")[1].split(" "),as=+ss[0];if(ss[1]===rs)return as}return-1}getRtpHeaderExtensionId(ns){const rs=SDP.splitSections(this.sdp);for(const is of rs)if(/^m=video/.test(is)){const os=SDP.getRtpHeaderExtensionIdInSection(is,ns);if(os!==-1)return os}return-1}hasRtpHeaderExtensionId(ns){const rs=SDP.splitLines(this.sdp);for(const is of rs)if(/^a=extmap:/.test(is.trim())&&+is.split("a=extmap:")[1].split(" ")[0]===ns)return!0;return!1}withVideoSendCodecPreferences(ns){const rs=this.sdp,is=SDP.splitSections(rs),os=SDP.findActiveCameraSection(is);if(os===-1)return new SDP(this.sdp);is[os]=this.sectionWithCodecPreferences(is[os],ns);const ss=is.join("");return new SDP(ss)}sectionWithCodecPreferences(ns,rs){const is=new Map,os=SDP.splitLines(ns);os.forEach(cs=>{if(!cs.startsWith("a=rtpmap:"))return;const us=/^a=rtpmap:(\d+)\s/.exec(cs);if(!us)return;const ds=us[1];for(const ps of rs){if(!cs.includes("".concat(ps.codecName,"/").concat(ps.codecCapability.clockRate)))continue;let hs=!1;if(ps.codecCapability.sdpFmtpLine!==void 0){let ms=!1;for(const gs of os){if(ps.fmtpLineMatches(gs,parseInt(ds))){hs=!0;break}ms||(ms=gs.startsWith("a=fmtp:".concat(ds," profile-id=")))}ps.equals(VideoCodecCapability_1$3.default.vp9Profile0())&&!ms&&(hs=!0)}else hs=!0;if(hs){is.set(ds,ps);break}}});const ss=new Set(is.keys()),as=os[0].split(" ").filter(cs=>!ss.has(cs)),ls=Array.from(is.entries()).sort(([cs,us],[ds,ps])=>{const hs=rs.indexOf(us),ms=rs.indexOf(ps);return hs-ms}).map(([cs,us])=>cs);return as.splice(3,0,...ls),os[0]=as.join(" "),os.join(SDP.CRLF)+SDP.CRLF}highestPriorityVideoSendCodec(){const ns=this.prioritizedSendVideoCodecCapabilities();return ns.length>0?ns[0]:void 0}prioritizedSendVideoCodecCapabilities(){const ns=this.sdp,rs=SDP.splitSections(ns),is=SDP.findActiveCameraSection(rs);if(is===-1)return[];const os=SDP.splitLines(rs[is]),ss=os[0].split(" ");return ss.length<4?[]:ss.slice(3).map(cs=>this.videoCodecCapabilityForPayloadType(os,cs)).filter(cs=>cs!==void 0&&["VP8","H264","VP9","AV1"].includes(cs.codecName))}videoCodecCapabilityForPayloadType(ns,rs){let is,os,ss;for(const as of ns){const ls=/^a=rtpmap:([0-9]+)\s/.exec(as);if(ls&&ls[1]===rs){const us=as.split(" ")[1].split("/");us.length>=2&&(is=us[0],os=us[1])}as.startsWith("a=fmtp:".concat(rs," "))&&(ss=as.split(" ")[1])}if(is!==void 0)return new VideoCodecCapability_1$3.default(is,{clockRate:parseInt(os),mimeType:"video/".concat(is),sdpFmtpLine:ss})}getAudioPayloadTypes(){const ns=new Map,rs=this.sdp,is=SDP.splitSections(rs);return ns.set("opus",SDP.findAudioPayloadType("opus",is)),ns.set("red",SDP.findAudioPayloadType("red",is)),ns}static findAudioPayloadType(ns,rs){const is="a=rtpmap:\\s*(\\d+)\\s+".concat(ns,"\\/48000"),os=new RegExp(is);for(const ss of rs)if(/^m=audio/.test(ss)){const as=os.exec(ss);if(as!==null)return Number(as[1])}return 0}withStartingVideoSendBitrate(ns){const rs=SDP.splitSections(this.sdp),is=SDP.findActiveCameraSection(rs);if(is===-1)return this;const os=SDP.splitLines(rs[is]),ss=[];for(const ls of os)if(/^a=fmtp:\d*/.test(ls)){const cs=ls+";x-google-start-bitrate=".concat(ns*1e3);ss.push(cs)}else ss.push(ls);rs[is]=ss.join(SDP.CRLF)+SDP.CRLF;const as=rs.join("");return new SDP(as)}}SDP$1.default=SDP;SDP.CRLF="\r\n";SDP.rfc7587LowestBitrate=6e3;SDP.rfc7587HighestBitrate=51e4;SDP.dependencyDescriptorRtpHeaderExtensionUrl="https://aomediacodec.github.io/av1-rtp-spec/#dependency-descriptor-rtp-header-extension";SDP.videoLayersAllocationRtpHeaderExtensionUrl="http://www.webrtc.org/experiments/rtp-hdrext/video-layers-allocation00";var __awaiter$O=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,ns,rs,is){function os(ss){return ss instanceof rs?ss:new rs(function(as){as(ss)})}return new(rs||(rs=Promise))(function(ss,as){function ls(ds){try{us(is.next(ds))}catch(ps){as(ps)}}function cs(ds){try{us(is.throw(ds))}catch(ps){as(ps)}}function us(ds){ds.done?ss(ds.value):os(ds.value).then(ls,cs)}us((is=is.apply(ts,ns||[])).next())})},__importDefault$1b=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(CreateSDPTask$1,"__esModule",{value:!0});const MeetingSessionStatusCode_1$6=__importDefault$1b(MeetingSessionStatusCode),SDP_1$4=__importDefault$1b(SDP$1),BaseTask_1$k=__importDefault$1b(BaseTask$1);class CreateSDPTask extends BaseTask_1$k.default{constructor(ns){super(ns.logger),this.context=ns,this.taskName="CreateSDPTask"}cancel(){if(this.cancelPromise){const ns=new Error("canceling ".concat(this.name()));this.cancelPromise(ns),delete this.cancelPromise}}sessionUsesAudio(){var ns,rs;return!!(!((rs=(ns=this.context.meetingSessionConfiguration)===null||ns===void 0?void 0:ns.urls)===null||rs===void 0)&&rs.audioHostURL)}sessionUsesVideo(){let rs;this.context.transceiverController.useTransceivers()?rs=this.context.transceiverController.hasVideoInput():rs=this.context.videoTileController.hasStartedLocalVideoTile();const is=!!this.context.videosToReceive&&!this.context.videosToReceive.empty(),os=rs||is;return this.context.logger.info("uses video: ".concat(os," (enabled: ").concat(!0,", sending: ").concat(rs,", receiving: ").concat(is,")")),os}run(){return __awaiter$O(this,void 0,void 0,function*(){const ns={offerToReceiveAudio:this.sessionUsesAudio(),offerToReceiveVideo:this.sessionUsesVideo()};this.logger.info("peer connection offerOptions: ".concat(JSON.stringify(ns))),yield new Promise((rs,is)=>__awaiter$O(this,void 0,void 0,function*(){this.cancelPromise=os=>{is(os)};try{if(this.context.sdpOfferInit=yield this.context.peer.createOffer(ns),this.context.logger.info("peer connection created offer"),this.context.previousSdpOffer&&new SDP_1$4.default(this.context.sdpOfferInit.sdp).videoSendSectionHasDifferentSSRC(this.context.previousSdpOffer)){const os=new Error("canceling ".concat(this.name()," due to the meeting status code: ").concat(MeetingSessionStatusCode_1$6.default.IncompatibleSDP));this.context.previousSdpOffer=null,is(os);return}rs()}catch(os){is(os)}finally{delete this.cancelPromise}}))})}}CreateSDPTask$1.default=CreateSDPTask;var DataMessage$1={};Object.defineProperty(DataMessage$1,"__esModule",{value:!0});class DataMessage{constructor(ns,rs,is,os,ss,as){this.timestampMs=ns,this.topic=rs,this.data=is,this.senderAttendeeId=os,this.senderExternalUserId=ss,this.throttled=!!as}text(){return new TextDecoder().decode(this.data)}json(){return JSON.parse(new TextDecoder().decode(this.data))}}DataMessage$1.default=DataMessage;var DefaultActiveSpeakerDetector$1={},__awaiter$N=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,ns,rs,is){function os(ss){return ss instanceof rs?ss:new rs(function(as){as(ss)})}return new(rs||(rs=Promise))(function(ss,as){function ls(ds){try{us(is.next(ds))}catch(ps){as(ps)}}function cs(ds){try{us(is.throw(ds))}catch(ps){as(ps)}}function us(ds){ds.done?ss(ds.value):os(ds.value).then(ls,cs)}us((is=is.apply(ts,ns||[])).next())})},__importDefault$1a=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(DefaultActiveSpeakerDetector$1,"__esModule",{value:!0});const IntervalScheduler_1$4=__importDefault$1a(IntervalScheduler$1);class DefaultActiveSpeakerDetector{constructor(ns,rs,is,os=1e3,ss=200){this.realtimeController=ns,this.selfAttendeeId=rs,this.hasBandwidthPriorityCallback=is,this.waitIntervalMs=os,this.updateIntervalMs=ss,this.speakerScores={},this.speakerMuteState={},this.detectorCallbackToHandler=new Map,this.detectorCallbackToScoresTimer=new Map,this.detectorCallbackToActivityTimer=new Map,this.hasBandwidthPriority=!1,this.mostRecentUpdateTimestamp={}}needUpdate(ns){return this.activeSpeakers?this.speakerScores[ns]===0&&this.activeSpeakers.includes(ns)||this.speakerScores[ns]>0&&!this.activeSpeakers.includes(ns):!0}updateActiveSpeakers(ns,rs,is){if(!this.needUpdate(is))return;const os=[],ss=Object.keys(this.speakerScores);for(let ds=0;ds<ss.length;ds++){const ps=ss[ds];os.push({attendeeId:ps,activeScore:this.speakerScores[ps]})}const as=os.sort((ds,ps)=>ps.activeScore-ds.activeScore).filter(function(ds){return ds.activeScore>0}).map(function(ds){return ds.attendeeId});this.activeSpeakers=as,rs(as);const cs=as.length>0&&as[0]===this.selfAttendeeId&&ns.prioritizeVideoSendBandwidthForActiveSpeaker();this.hasBandwidthPriority!==cs&&(this.hasBandwidthPriority=cs,this.hasBandwidthPriorityCallback(cs))}updateScore(ns,rs,is,os,ss){const as=ns.calculateScore(is,os,ss);this.speakerScores[is]!==as&&(this.speakerScores[is]=as,this.mostRecentUpdateTimestamp[is]=Date.now(),this.updateActiveSpeakers(ns,rs,is))}subscribe(ns,rs,is,os){const ss=(ls,cs)=>{if(!cs){this.speakerScores[ls]=0,this.mostRecentUpdateTimestamp[ls]=Date.now(),this.updateActiveSpeakers(ns,rs,ls);return}this.realtimeController.realtimeSubscribeToVolumeIndicator(ls,(us,ds,ps,hs)=>{this.mostRecentUpdateTimestamp[us]=Date.now(),ps!==null&&(this.speakerMuteState[us]=ps),this.updateScore(ns,rs,us,ds,ps)})};this.detectorCallbackToHandler.set(rs,ss);const as=new IntervalScheduler_1$4.default(this.updateIntervalMs);if(as.start(()=>{for(const ls in this.speakerScores)Date.now()-this.mostRecentUpdateTimestamp[ls]>this.waitIntervalMs&&this.updateScore(ns,rs,ls,0,this.speakerMuteState[ls])}),this.detectorCallbackToActivityTimer.set(rs,as),is&&os){const ls=new IntervalScheduler_1$4.default(os);ls.start(()=>{is(this.speakerScores)}),this.detectorCallbackToScoresTimer.set(rs,ls)}this.realtimeController.realtimeSubscribeToAttendeeIdPresence(ss)}unsubscribe(ns){const rs=this.detectorCallbackToHandler.get(ns);this.detectorCallbackToHandler.delete(ns),rs&&this.realtimeController.realtimeUnsubscribeToAttendeeIdPresence(rs);const is=this.detectorCallbackToActivityTimer.get(ns);is&&(is.stop(),this.detectorCallbackToActivityTimer.delete(ns));const os=this.detectorCallbackToScoresTimer.get(ns);os&&(os.stop(),this.detectorCallbackToHandler.delete(ns))}destroy(){return __awaiter$N(this,void 0,void 0,function*(){for(const ns of this.detectorCallbackToHandler.values())this.realtimeController.realtimeUnsubscribeToAttendeeIdPresence(ns);for(const ns of this.detectorCallbackToActivityTimer.values())ns.stop();for(const ns of this.detectorCallbackToScoresTimer.values())ns.stop();this.detectorCallbackToHandler.clear(),this.detectorCallbackToActivityTimer.clear(),this.detectorCallbackToScoresTimer.clear()})}}DefaultActiveSpeakerDetector$1.default=DefaultActiveSpeakerDetector;var DefaultActiveSpeakerPolicy$1={};Object.defineProperty(DefaultActiveSpeakerPolicy$1,"__esModule",{value:!0});class DefaultActiveSpeakerPolicy{constructor(ns=.9,rs=.01,is=.2,os=.2){this.speakerWeight=ns,this.cutoffThreshold=rs,this.silenceThreshold=is,this.takeoverRate=os,this.volumes={}}calculateScore(ns,rs,is){(is||rs===null)&&(rs=0),this.volumes.hasOwnProperty(ns)||(this.volumes[ns]=0),rs>this.silenceThreshold?rs=1:rs=0;const os=this.volumes[ns]*this.speakerWeight+rs*(1-this.speakerWeight);this.volumes[ns]=os;for(const ss in this.volumes)ss!==ns&&(this.volumes[ss]=Math.max(this.volumes[ss]-this.takeoverRate*rs,0));return os<this.cutoffThreshold?0:os}prioritizeVideoSendBandwidthForActiveSpeaker(){return!0}}DefaultActiveSpeakerPolicy$1.default=DefaultActiveSpeakerPolicy;var DefaultAudioMixController$1={},__awaiter$M=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,ns,rs,is){function os(ss){return ss instanceof rs?ss:new rs(function(as){as(ss)})}return new(rs||(rs=Promise))(function(ss,as){function ls(ds){try{us(is.next(ds))}catch(ps){as(ps)}}function cs(ds){try{us(is.throw(ds))}catch(ps){as(ps)}}function us(ds){ds.done?ss(ds.value):os(ds.value).then(ls,cs)}us((is=is.apply(ts,ns||[])).next())})},__importDefault$19=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(DefaultAudioMixController$1,"__esModule",{value:!0});const DefaultBrowserBehavior_1$5=__importDefault$19(DefaultBrowserBehavior$1),AsyncScheduler_1$5=__importDefault$19(AsyncScheduler$1);class DefaultAudioMixController{constructor(ns){this.logger=ns,this.audioDevice=null,this.audioElement=null,this.audioStream=null,this.browserBehavior=new DefaultBrowserBehavior_1$5.default,this.observers=new Set}bindAudioElement(ns){return __awaiter$M(this,void 0,void 0,function*(){if(!ns)throw new Error("Cannot bind audio element: ".concat(ns));return this.audioElement=ns,this.audioElement.autoplay=!0,this.bindAudioMix()})}unbindAudioElement(){this.audioElement&&(this.audioElement.srcObject=null,this.audioElement=null,this.forEachObserver(ns=>{this.audioStream&&ns.meetingAudioStreamBecameInactive(this.audioStream)}))}bindAudioStream(ns){return __awaiter$M(this,void 0,void 0,function*(){if(ns){this.audioStream=ns;try{yield this.bindAudioMix()}catch(rs){this.logger&&this.logger.warn("Failed to bind audio stream: ".concat(rs))}}})}bindAudioDevice(ns){return __awaiter$M(this,void 0,void 0,function*(){if(ns&&!this.browserBehavior.supportsSetSinkId())throw new Error("Cannot select audio output device. This browser does not support setSinkId.");return this.audioDevice=ns,this.bindAudioMix()})}forEachObserver(ns){for(const rs of this.observers)AsyncScheduler_1$5.default.nextTick(()=>{ns(rs)})}bindAudioMix(){var ns,rs;return __awaiter$M(this,void 0,void 0,function*(){if(!this.audioElement)return;const is=this.audioElement.srcObject;this.audioStream&&(this.audioElement.srcObject=this.audioStream),is!==this.audioStream&&this.forEachObserver(us=>{is&&us.meetingAudioStreamBecameInactive(is),this.audioStream&&us.meetingAudioStreamBecameActive(this.audioStream)});const os=((ns=this.audioDevice)===null||ns===void 0?void 0:ns.deviceId)!==this.audioElement.sinkId;if(os&&typeof this.audioElement.sinkId>"u")throw new Error("Cannot select audio output device. This browser does not support setSinkId.");const ss=this.audioDevice?this.audioDevice.deviceId:"",as=this.audioElement.sinkId;if(ss===as)return;const ls=this.audioElement,cs=this.audioStream;if(this.browserBehavior.hasChromiumWebRTC()&&(ls.srcObject=null),os)try{yield ls.setSinkId(ss)}catch(us){throw(rs=this.logger)===null||rs===void 0||rs.error("Failed to set sinkId for audio element: ".concat(us)),us}this.browserBehavior.hasChromiumWebRTC()&&(ls.srcObject=cs)})}getCurrentMeetingAudioStream(){return __awaiter$M(this,void 0,void 0,function*(){return this.audioStream})}addAudioMixObserver(ns){return __awaiter$M(this,void 0,void 0,function*(){this.observers.add(ns)})}removeAudioMixObserver(ns){return __awaiter$M(this,void 0,void 0,function*(){this.observers.delete(ns)})}audioOutputDidChange(ns){return __awaiter$M(this,void 0,void 0,function*(){return this.logger.info("Receive an audio output change event"),this.bindAudioDevice(ns)})}}DefaultAudioMixController$1.default=DefaultAudioMixController;var DefaultAudioVideoController={},SignalingAndMetricsConnectionMonitor$1={};Object.defineProperty(SignalingAndMetricsConnectionMonitor$1,"__esModule",{value:!0});const Types_1$7=Types;class SignalingAndMetricsConnectionMonitor{constructor(ns,rs,is,os,ss){this.audioVideoController=ns,this.realtimeController=rs,this.connectionHealthData=is,this.pingPong=os,this.statsCollector=ss,this.isActive=!1,this.hasSeenValidCandidatePairMetricsBefore=!1,this.lastTotalBytesReceived=0,this.realtimeController.realtimeSubscribeToLocalSignalStrengthChange(as=>{this.isActive&&this.receiveSignalStrengthChange(as)})}start(){this.isActive=!0,this.pingPong.addObserver(this),this.pingPong.start(),this.audioVideoController.addObserver(this)}stop(){this.isActive=!1,this.pingPong.removeObserver(this),this.pingPong.stop(),this.audioVideoController.removeObserver(this)}receiveSignalStrengthChange(ns){ns===0?this.connectionHealthData.setLastNoSignalTimestampMs(Date.now()):ns<=.5?this.connectionHealthData.setLastWeakSignalTimestampMs(Date.now()):this.connectionHealthData.setLastGoodSignalTimestampMs(Date.now()),this.updateConnectionHealth()}didReceivePong(ns,rs,is){this.connectionHealthData.setConsecutiveMissedPongs(0),this.statsCollector.logLatency("ping_pong",rs),this.statsCollector.logLatency("ping_pong_clock_skew",is),this.updateConnectionHealth()}didMissPongs(){this.connectionHealthData.setConsecutiveMissedPongs(this.connectionHealthData.consecutiveMissedPongs+1),this.updateConnectionHealth()}metricsDidReceive(ns){let rs=0,is=0;const os=ns.getObservableMetrics(),ss=os.audioPacketsReceived,as=os.audioPacketsReceivedFractionLoss,ls=os.audioSpeakerDelayMs;typeof ls=="number"&&!isNaN(ls)&&this.connectionHealthData.setAudioSpeakerDelayMs(ls);const cs=ns.getRTCStatsReport();let us=0;cs.forEach(ps=>{ps.type==="candidate-pair"&&ps.bytesReceived&&(us+=ps.bytesReceived)});const ds=us-this.lastTotalBytesReceived;if(this.lastTotalBytesReceived=us,typeof ss=="number"&&typeof as=="number"){if(rs=ss,is=as,rs<0||is<0||ds<0)return}else return;this.addToMinuteWindow(this.connectionHealthData.packetsReceivedInLastMinute,rs),this.addToMinuteWindow(this.connectionHealthData.fractionPacketsLostInboundInLastMinute,is),ds>0?(this.hasSeenValidCandidatePairMetricsBefore=!0,this.connectionHealthData.setConsecutiveStatsWithNoPackets(0)):this.hasSeenValidCandidatePairMetricsBefore&&this.connectionHealthData.setConsecutiveStatsWithNoPackets(this.connectionHealthData.consecutiveStatsWithNoPackets+1),(rs===0||is>0)&&this.connectionHealthData.setLastPacketLossInboundTimestampMs(Date.now()),typeof os.audioPacketsSent=="number"&&this.updateAudioPacketsSentInConnectionHealth(os.audioPacketsSent),this.updateVideoEncodingHealth(ns),this.updateConnectionHealth()}updateAudioPacketsSentInConnectionHealth(ns){ns>0?this.connectionHealthData.setConsecutiveStatsWithNoAudioPacketsSent(0):this.connectionHealthData.setConsecutiveStatsWithNoAudioPacketsSent(this.connectionHealthData.consecutiveStatsWithNoAudioPacketsSent+1)}updateVideoEncodingHealth(ns){const rs=this.audioVideoController.videoTileController.hasStartedLocalVideoTile(),is=ns.getVideoUpstreamSsrc();if(!rs||is===null){this.connectionHealthData.setIsVideoEncoderHardware(!1),this.connectionHealthData.setVideoEncodingTimeInMs(0),this.connectionHealthData.setCpuLimitationDuration(0),this.connectionHealthData.setVideoInputFps(0),this.connectionHealthData.setVideoEncodeFps(0);return}const os=ns.getObservableVideoMetricValue("videoUpstreamEncoderImplementation",is),ss=ns.getObservableVideoMetricValue("videoUpstreamTotalEncodeTimePerSecond",is),as=ns.getObservableVideoMetricValue("videoUpstreamCpuQualityLimitationDurationPerSecond",is),ls=ns.getObservableVideoMetricValue("videoUpstreamFramesInputPerSecond",is),cs=ns.getObservableVideoMetricValue("videoUpstreamFramesEncodedPerSecond",is);this.connectionHealthData.setIsVideoEncoderHardware(!!os),this.connectionHealthData.setVideoEncodingTimeInMs(ss),this.connectionHealthData.setCpuLimitationDuration(as),this.connectionHealthData.setVideoInputFps(ls),this.connectionHealthData.setVideoEncodeFps(cs)}addToMinuteWindow(ns,rs){ns.unshift(rs),ns.length>60&&ns.pop()}updateConnectionHealth(){this.audioVideoController.forEachObserver(ns=>{Types_1$7.Maybe.of(ns.connectionHealthDidChange).map(rs=>rs.bind(ns)(this.connectionHealthData.clone()))})}}SignalingAndMetricsConnectionMonitor$1.default=SignalingAndMetricsConnectionMonitor;var MeetingSessionStatus$1={},__importDefault$18=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(MeetingSessionStatus$1,"__esModule",{value:!0});const SignalingProtocol_js_1$e=SignalingProtocol,MeetingSessionStatusCode_1$5=__importDefault$18(MeetingSessionStatusCode);class MeetingSessionStatus{constructor(ns){this._statusCode=ns}statusCode(){return this._statusCode}isFailure(){switch(this._statusCode){case MeetingSessionStatusCode_1$5.default.AudioAuthenticationRejected:case MeetingSessionStatusCode_1$5.default.AudioCallAtCapacity:case MeetingSessionStatusCode_1$5.default.AudioInternalServerError:case MeetingSessionStatusCode_1$5.default.AudioServiceUnavailable:case MeetingSessionStatusCode_1$5.default.AudioDisconnected:case MeetingSessionStatusCode_1$5.default.VideoCallAtSourceCapacity:case MeetingSessionStatusCode_1$5.default.SignalingBadRequest:case MeetingSessionStatusCode_1$5.default.SignalingInternalServerError:case MeetingSessionStatusCode_1$5.default.SignalingRequestFailed:case MeetingSessionStatusCode_1$5.default.ICEGatheringTimeoutWorkaround:case MeetingSessionStatusCode_1$5.default.ConnectionHealthReconnect:case MeetingSessionStatusCode_1$5.default.RealtimeApiFailed:case MeetingSessionStatusCode_1$5.default.TaskFailed:case MeetingSessionStatusCode_1$5.default.NoAttendeePresent:return!0;default:return!1}}isTerminal(){switch(this._statusCode){case MeetingSessionStatusCode_1$5.default.Left:case MeetingSessionStatusCode_1$5.default.AudioJoinedFromAnotherDevice:case MeetingSessionStatusCode_1$5.default.AudioAuthenticationRejected:case MeetingSessionStatusCode_1$5.default.AudioCallAtCapacity:case MeetingSessionStatusCode_1$5.default.MeetingEnded:case MeetingSessionStatusCode_1$5.default.AudioDisconnected:case MeetingSessionStatusCode_1$5.default.TURNCredentialsForbidden:case MeetingSessionStatusCode_1$5.default.SignalingBadRequest:case MeetingSessionStatusCode_1$5.default.SignalingRequestFailed:case MeetingSessionStatusCode_1$5.default.VideoCallAtSourceCapacity:case MeetingSessionStatusCode_1$5.default.RealtimeApiFailed:case MeetingSessionStatusCode_1$5.default.AudioAttendeeRemoved:return!0;default:return!1}}isAudioConnectionFailure(){switch(this._statusCode){case MeetingSessionStatusCode_1$5.default.AudioAuthenticationRejected:case MeetingSessionStatusCode_1$5.default.AudioInternalServerError:case MeetingSessionStatusCode_1$5.default.AudioServiceUnavailable:case MeetingSessionStatusCode_1$5.default.ICEGatheringTimeoutWorkaround:case MeetingSessionStatusCode_1$5.default.SignalingBadRequest:case MeetingSessionStatusCode_1$5.default.SignalingInternalServerError:case MeetingSessionStatusCode_1$5.default.SignalingRequestFailed:case MeetingSessionStatusCode_1$5.default.RealtimeApiFailed:case MeetingSessionStatusCode_1$5.default.NoAttendeePresent:return!0;default:return!1}}toString(){switch(this._statusCode){case MeetingSessionStatusCode_1$5.default.OK:return"Everything is OK so far.";case MeetingSessionStatusCode_1$5.default.Left:return"The attendee left the meeting.";case MeetingSessionStatusCode_1$5.default.AudioJoinedFromAnotherDevice:return"The attendee joined from another device.";case MeetingSessionStatusCode_1$5.default.AudioAuthenticationRejected:return"The meeting rejected the attendee.";case MeetingSessionStatusCode_1$5.default.AudioCallAtCapacity:return"The attendee couldn't join because the meeting was at capacity.";case MeetingSessionStatusCode_1$5.default.MeetingEnded:return"The meeting ended.";case MeetingSessionStatusCode_1$5.default.AudioInternalServerError:case MeetingSessionStatusCode_1$5.default.AudioServiceUnavailable:case MeetingSessionStatusCode_1$5.default.AudioDisconnected:return"The audio connection failed.";case MeetingSessionStatusCode_1$5.default.VideoCallSwitchToViewOnly:return"The attendee couldn't start the local video because the maximum video capacity was reached.";case MeetingSessionStatusCode_1$5.default.VideoCallAtSourceCapacity:return"The connection failed due to an internal server error.";case MeetingSessionStatusCode_1$5.default.SignalingBadRequest:case MeetingSessionStatusCode_1$5.default.SignalingInternalServerError:case MeetingSessionStatusCode_1$5.default.SignalingRequestFailed:return"The signaling connection failed.";case MeetingSessionStatusCode_1$5.default.ICEGatheringTimeoutWorkaround:return"Gathering ICE candidates timed out. In Chrome, this might indicate that the browser is in a bad state after reconnecting to VPN.";case MeetingSessionStatusCode_1$5.default.ConnectionHealthReconnect:return"The meeting was reconnected.";case MeetingSessionStatusCode_1$5.default.RealtimeApiFailed:return"The real-time API failed. This status code might indicate that the callback you passed to the real-time API threw an exception.";case MeetingSessionStatusCode_1$5.default.TaskFailed:return"The connection failed. See the error message for more details.";case MeetingSessionStatusCode_1$5.default.IncompatibleSDP:return"The connection failed due to incompatible SDP.";case MeetingSessionStatusCode_1$5.default.TURNCredentialsForbidden:return"The meeting ended, or the attendee was removed.";case MeetingSessionStatusCode_1$5.default.NoAttendeePresent:return"The attendee was not present.";case MeetingSessionStatusCode_1$5.default.AudioAttendeeRemoved:return"The meeting ended because attendee removed.";case MeetingSessionStatusCode_1$5.default.AudioVideoWasRemovedFromPrimaryMeeting:return"The Primary meeting credentials provided are no longer valid. chime::DeleteAttendee may have been called on them.";case MeetingSessionStatusCode_1$5.default.AudioVideoDisconnectedWhilePromoted:return"The client disconnected while promoted, which will automatically demote. The attendee must promote again to participate.";case MeetingSessionStatusCode_1$5.default.AudioDisconnectAudio:return"The audio connection failed.";default:{const ns=this._statusCode;throw new Error("Unhandled case: ".concat(ns))}}}static fromSignalFrame(ns){return ns.error&&ns.error.status?this.fromSignalingStatus(ns.error.status):ns.type===SignalingProtocol_js_1$e.SdkSignalFrame.Type.AUDIO_STATUS?ns.audioStatus?this.fromAudioStatus(ns.audioStatus.audioStatus):new MeetingSessionStatus(MeetingSessionStatusCode_1$5.default.SignalingRequestFailed):ns.type===SignalingProtocol_js_1$e.SdkSignalFrame.Type.PRIMARY_MEETING_LEAVE?new MeetingSessionStatus(MeetingSessionStatusCode_1$5.default.AudioVideoWasRemovedFromPrimaryMeeting):new MeetingSessionStatus(MeetingSessionStatusCode_1$5.default.OK)}static fromAudioStatus(ns){switch(ns){case 200:return new MeetingSessionStatus(MeetingSessionStatusCode_1$5.default.OK);case 301:return new MeetingSessionStatus(MeetingSessionStatusCode_1$5.default.AudioJoinedFromAnotherDevice);case 302:return new MeetingSessionStatus(MeetingSessionStatusCode_1$5.default.AudioDisconnectAudio);case 403:return new MeetingSessionStatus(MeetingSessionStatusCode_1$5.default.AudioAuthenticationRejected);case 409:return new MeetingSessionStatus(MeetingSessionStatusCode_1$5.default.AudioCallAtCapacity);case 410:return new MeetingSessionStatus(MeetingSessionStatusCode_1$5.default.MeetingEnded);case 411:return new MeetingSessionStatus(MeetingSessionStatusCode_1$5.default.AudioAttendeeRemoved);case 500:return new MeetingSessionStatus(MeetingSessionStatusCode_1$5.default.AudioInternalServerError);case 503:return new MeetingSessionStatus(MeetingSessionStatusCode_1$5.default.AudioServiceUnavailable);default:switch(Math.floor(ns/100)){case 2:return new MeetingSessionStatus(MeetingSessionStatusCode_1$5.default.OK);default:return new MeetingSessionStatus(MeetingSessionStatusCode_1$5.default.AudioDisconnected)}}}static fromSignalingStatus(ns){switch(ns){case 206:return new MeetingSessionStatus(MeetingSessionStatusCode_1$5.default.VideoCallSwitchToViewOnly);case 509:return new MeetingSessionStatus(MeetingSessionStatusCode_1$5.default.VideoCallAtSourceCapacity);case 403:return new MeetingSessionStatus(MeetingSessionStatusCode_1$5.default.AudioAuthenticationRejected);case 409:return new MeetingSessionStatus(MeetingSessionStatusCode_1$5.default.AudioCallAtCapacity);default:switch(Math.floor(ns/100)){case 2:return new MeetingSessionStatus(MeetingSessionStatusCode_1$5.default.OK);case 4:return new MeetingSessionStatus(MeetingSessionStatusCode_1$5.default.SignalingBadRequest);case 5:return new MeetingSessionStatus(MeetingSessionStatusCode_1$5.default.SignalingInternalServerError);default:return new MeetingSessionStatus(MeetingSessionStatusCode_1$5.default.SignalingRequestFailed)}}}}MeetingSessionStatus$1.default=MeetingSessionStatus;var MeetingSessionVideoAvailability$1={};Object.defineProperty(MeetingSessionVideoAvailability$1,"__esModule",{value:!0});class MeetingSessionVideoAvailability{constructor(){this.remoteVideoAvailable=!1,this.canStartLocalVideo=!1}equal(ns){return this.remoteVideoAvailable===ns.remoteVideoAvailable&&this.canStartLocalVideo===ns.canStartLocalVideo}clone(){const ns=new MeetingSessionVideoAvailability;return ns.remoteVideoAvailable=this.remoteVideoAvailable,ns.canStartLocalVideo=this.canStartLocalVideo,ns}}MeetingSessionVideoAvailability$1.default=MeetingSessionVideoAvailability;var DefaultPingPong$1={},__importDefault$17=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(DefaultPingPong$1,"__esModule",{value:!0});const AsyncScheduler_1$4=__importDefault$17(AsyncScheduler$1),IntervalScheduler_1$3=__importDefault$17(IntervalScheduler$1),SignalingClientEventType_1$b=__importDefault$17(SignalingClientEventType),SignalingProtocol_js_1$d=SignalingProtocol,Types_1$6=Types;class DefaultPingPong{constructor(ns,rs,is){this.signalingClient=ns,this.intervalMs=rs,this.logger=is,this.observerQueue=new Set,this.consecutivePongsUnaccountedFor=0,this.intervalScheduler=new IntervalScheduler_1$3.default(this.intervalMs),this.pingId=0}addObserver(ns){this.logger.info("adding a ping-pong observer"),this.observerQueue.add(ns)}removeObserver(ns){this.logger.info("removing a ping-pong observer"),this.observerQueue.delete(ns)}forEachObserver(ns){for(const rs of this.observerQueue)AsyncScheduler_1$4.default.nextTick(()=>{this.observerQueue.has(rs)&&ns(rs)})}start(){this.stop(),this.signalingClient.registerObserver(this),this.signalingClient.ready()&&this.startPingInterval()}stop(){this.stopPingInterval(),this.signalingClient.removeObserver(this)}startPingInterval(){this.intervalScheduler.start(()=>{this.ping()}),this.ping()}stopPingInterval(){this.intervalScheduler.stop(),this.pingId=0,this.consecutivePongsUnaccountedFor=0}ping(){this.consecutivePongsUnaccountedFor>0&&(this.logger.warn("missed pong ".concat(this.consecutivePongsUnaccountedFor," time(s)")),this.forEachObserver(rs=>{Types_1$6.Maybe.of(rs.didMissPongs).map(is=>is.bind(rs)(this.consecutivePongsUnaccountedFor))})),this.consecutivePongsUnaccountedFor+=1,this.pingId=this.pingId+1&4294967295;const ns=SignalingProtocol_js_1$d.SdkPingPongFrame.create();ns.pingId=this.pingId,ns.type=SignalingProtocol_js_1$d.SdkPingPongType.PING,this.pingTimestampLocalMs=this.signalingClient.pingPong(ns),this.logger.debug(()=>"sent ping ".concat(this.pingId))}pong(ns){const rs=SignalingProtocol_js_1$d.SdkPingPongFrame.create();rs.pingId=ns,rs.type=SignalingProtocol_js_1$d.SdkPingPongType.PONG,this.signalingClient.pingPong(rs)}handleSignalingClientEvent(ns){switch(ns.type){case SignalingClientEventType_1$b.default.WebSocketOpen:this.startPingInterval();break;case SignalingClientEventType_1$b.default.WebSocketFailed:case SignalingClientEventType_1$b.default.WebSocketError:this.logger.warn("stopped pinging (".concat(SignalingClientEventType_1$b.default[ns.type],")")),this.stopPingInterval();break;case SignalingClientEventType_1$b.default.WebSocketClosing:case SignalingClientEventType_1$b.default.WebSocketClosed:this.logger.info("stopped pinging (".concat(SignalingClientEventType_1$b.default[ns.type],")")),this.stopPingInterval();break;case SignalingClientEventType_1$b.default.ReceivedSignalFrame:if(ns.message.type!==SignalingProtocol_js_1$d.SdkSignalFrame.Type.PING_PONG)break;if(ns.message.pingPong.type===SignalingProtocol_js_1$d.SdkPingPongType.PONG){const rs=ns.message.pingPong.pingId;if(rs!==this.pingId){this.logger.warn("unexpected ping id ".concat(rs," (expected ").concat(this.pingId,")"));break}this.consecutivePongsUnaccountedFor=0;let is;if(typeof ns.message.timestampMs=="number")is=ns.message.timestampMs;else break;this.logger.debug(()=>"received pong ".concat(rs," with timestamp ").concat(is));const ss=ns.timestampMs-this.pingTimestampLocalMs,as=Math.round(is-ss/2),ls=this.pingTimestampLocalMs-as;this.logger.info("local clock skew estimate=".concat(ls,"ms from ping-pong time=").concat(ss,"ms")),this.forEachObserver(cs=>{Types_1$6.Maybe.of(cs.didReceivePong).map(us=>us.bind(cs)(rs,ls,ss))})}else this.pong(ns.message.pingPong.pingId);break}}}DefaultPingPong$1.default=DefaultPingPong;var DefaultRealtimeController$1={},DefaultTranscriptionController={},TranscriptEvent={},Transcript$1={};Object.defineProperty(Transcript$1,"__esModule",{value:!0});class Transcript{}Transcript$1.default=Transcript;var TranscriptionStatus$1={};Object.defineProperty(TranscriptionStatus$1,"__esModule",{value:!0});class TranscriptionStatus{}TranscriptionStatus$1.default=TranscriptionStatus;var TranscriptionStatusType$1={};Object.defineProperty(TranscriptionStatusType$1,"__esModule",{value:!0});var TranscriptionStatusType;(function(ts){ts.STARTED="started",ts.INTERRUPTED="interrupted",ts.RESUMED="resumed",ts.STOPPED="stopped",ts.FAILED="failed"})(TranscriptionStatusType||(TranscriptionStatusType={}));TranscriptionStatusType$1.default=TranscriptionStatusType;var TranscriptItemType$1={};Object.defineProperty(TranscriptItemType$1,"__esModule",{value:!0});var TranscriptItemType;(function(ts){ts.PRONUNCIATION="pronunciation",ts.PUNCTUATION="punctuation"})(TranscriptItemType||(TranscriptItemType={}));TranscriptItemType$1.default=TranscriptItemType;var __importDefault$16=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(TranscriptEvent,"__esModule",{value:!0});TranscriptEvent.TranscriptEventConverter=void 0;const SignalingProtocol_1$1=SignalingProtocol,Transcript_1=__importDefault$16(Transcript$1),TranscriptionStatus_1=__importDefault$16(TranscriptionStatus$1),TranscriptionStatusType_1=__importDefault$16(TranscriptionStatusType$1),TranscriptItemType_1=__importDefault$16(TranscriptItemType$1),TranscriptionStatusTypes={[SignalingProtocol_1$1.SdkTranscriptionStatus.Type.STARTED]:TranscriptionStatusType_1.default.STARTED,[SignalingProtocol_1$1.SdkTranscriptionStatus.Type.INTERRUPTED]:TranscriptionStatusType_1.default.INTERRUPTED,[SignalingProtocol_1$1.SdkTranscriptionStatus.Type.RESUMED]:TranscriptionStatusType_1.default.RESUMED,[SignalingProtocol_1$1.SdkTranscriptionStatus.Type.STOPPED]:TranscriptionStatusType_1.default.STOPPED,[SignalingProtocol_1$1.SdkTranscriptionStatus.Type.FAILED]:TranscriptionStatusType_1.default.FAILED};class TranscriptEventConverter{static from(ns){let rs;try{rs=SignalingProtocol_1$1.SdkTranscriptFrame.decode(ns.data)}catch(os){throw new Error("Cannot decode transcript data message: "+os)}const is=[];for(const os of rs.events)if(os.status){const ss=TranscriptionStatusTypes[os.status.type];if(!ss)continue;const as=new TranscriptionStatus_1.default;as.type=ss,as.eventTimeMs=os.status.eventTime,as.transcriptionRegion=os.status.transcriptionRegion,as.transcriptionConfiguration=os.status.transcriptionConfiguration,os.status.message&&(as.message=os.status.message),is.push(as)}else if(os.transcript){const ss=new Transcript_1.default;ss.results=[];for(const as of os.transcript.results){const ls={channelId:as.channelId,isPartial:as.isPartial,resultId:as.resultId,startTimeMs:as.startTime,endTimeMs:as.endTime,alternatives:[]};if(as.languageCode&&(ls.languageCode=as.languageCode),as.languageIdentification&&as.languageIdentification.length>0){ls.languageIdentification=[];for(const cs of as.languageIdentification){const us={languageCode:cs.languageCode,score:cs.score};ls.languageIdentification.push(us)}}for(const cs of as.alternatives){const us={items:[],transcript:cs.transcript};for(const ds of cs.items){const ps={content:ds.content,attendee:{attendeeId:ds.speakerAttendeeId,externalUserId:ds.speakerExternalUserId},startTimeMs:ds.startTime,endTimeMs:ds.endTime,type:null};switch(ds.vocabularyFilterMatch&&(ps.vocabularyFilterMatch=ds.vocabularyFilterMatch),ds.hasOwnProperty("stable")&&(ps.stable=ds.stable),ds.hasOwnProperty("confidence")&&(ps.confidence=ds.confidence),ds.type){case SignalingProtocol_1$1.SdkTranscriptItem.Type.PRONUNCIATION:ps.type=TranscriptItemType_1.default.PRONUNCIATION;break;case SignalingProtocol_1$1.SdkTranscriptItem.Type.PUNCTUATION:ps.type=TranscriptItemType_1.default.PUNCTUATION;break}us.items.push(ps)}for(const ds of cs.entities){us.entities||(us.entities=[]);const ps={category:ds.category,confidence:ds.confidence,content:ds.content,startTimeMs:ds.startTime,endTimeMs:ds.endTime};ds.type&&(ps.type=ds.type),us.entities.push(ps)}ls.alternatives.push(us)}ss.results.push(ls)}is.push(ss)}return is}}TranscriptEvent.TranscriptEventConverter=TranscriptEventConverter;(function(ts){Object.defineProperty(ts,"__esModule",{value:!0}),ts.TRANSCRIPTION_DATA_MESSAGE_TOPIC=void 0;const ns=TranscriptEvent;ts.TRANSCRIPTION_DATA_MESSAGE_TOPIC="aws:chime:transcription";class rs{constructor(os){this.realtimeController=os,this.transcriptEventCallbacks=new Set}subscribeToTranscriptEvent(os){this.transcriptEventCallbacks.size===0&&this.realtimeController.realtimeSubscribeToReceiveDataMessage(ts.TRANSCRIPTION_DATA_MESSAGE_TOPIC,ss=>{for(const as of ns.TranscriptEventConverter.from(ss))for(const ls of this.transcriptEventCallbacks)ls(as)}),this.transcriptEventCallbacks.add(os)}unsubscribeFromTranscriptEvent(os){this.transcriptEventCallbacks.delete(os),this.transcriptEventCallbacks.size===0&&this.realtimeController.realtimeUnsubscribeFromReceiveDataMessage(ts.TRANSCRIPTION_DATA_MESSAGE_TOPIC)}}ts.default=rs})(DefaultTranscriptionController);var RealtimeState$1={};Object.defineProperty(RealtimeState$1,"__esModule",{value:!0});class RealtimeState{constructor(){this.localAttendeeId=null,this.localExternalUserId=null,this.attendeeIdChangesCallbacks=[],this.canUnmute=!0,this.setCanUnmuteLocalAudioCallbacks=[],this.muted=!1,this.muteAndUnmuteLocalAudioCallbacks=[],this.volumeIndicatorState={},this.attendeeIdToExternalUserId={},this.volumeIndicatorCallbacks={},this.localSignalStrengthChangeCallbacks=[],this.fatalErrorCallbacks=[],this.sendDataMessageCallbacks=[],this.receiveDataMessageCallbacks=new Map}}RealtimeState$1.default=RealtimeState;var RealtimeVolumeIndicator$1={};Object.defineProperty(RealtimeVolumeIndicator$1,"__esModule",{value:!0});class RealtimeVolumeIndicator{constructor(){this.volume=null,this.muted=null,this.signalStrength=null}}RealtimeVolumeIndicator$1.default=RealtimeVolumeIndicator;var __importDefault$15=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(DefaultRealtimeController$1,"__esModule",{value:!0});const DefaultTranscriptionController_1=__importDefault$15(DefaultTranscriptionController),RealtimeState_1=__importDefault$15(RealtimeState$1),RealtimeVolumeIndicator_1=__importDefault$15(RealtimeVolumeIndicator$1);class DefaultRealtimeController{constructor(ns,rs){this.mediaStreamBroker=ns,this.state=new RealtimeState_1.default,this._transcriptionController=rs||new DefaultTranscriptionController_1.default(this)}realtimeSetLocalAttendeeId(ns,rs){this.state.localAttendeeId=ns,this.state.localExternalUserId=rs}realtimeSetAttendeeIdPresence(ns,rs,is,os,ss){try{rs&&(this.state.attendeeIdToExternalUserId[ns]=is);for(const as of this.state.attendeeIdChangesCallbacks)as(ns,rs,is,os,ss)}catch(as){this.onError(as)}}realtimeSubscribeToAttendeeIdPresence(ns){try{this.state.attendeeIdChangesCallbacks.push(ns)}catch(rs){this.onError(rs)}}realtimeUnsubscribeToAttendeeIdPresence(ns){try{const rs=this.state.attendeeIdChangesCallbacks.indexOf(ns);rs!==-1&&this.state.attendeeIdChangesCallbacks.splice(rs,1)}catch(rs){this.onError(rs)}}realtimeSetCanUnmuteLocalAudio(ns){try{if(this.state.canUnmute===ns)return;this.state.canUnmute=ns;for(const rs of this.state.setCanUnmuteLocalAudioCallbacks)rs(ns)}catch(rs){this.onError(rs)}}realtimeSubscribeToSetCanUnmuteLocalAudio(ns){try{this.state.setCanUnmuteLocalAudioCallbacks.push(ns)}catch(rs){this.onError(rs)}}realtimeUnsubscribeToSetCanUnmuteLocalAudio(ns){try{const rs=this.state.setCanUnmuteLocalAudioCallbacks.indexOf(ns);rs!==-1&&this.state.setCanUnmuteLocalAudioCallbacks.splice(rs,1)}catch(rs){this.onError(rs)}}realtimeCanUnmuteLocalAudio(){return this.state.canUnmute}realtimeMuteLocalAudio(){if(!this.state.muted)try{this.setAudioInputEnabled(!1),this.state.muted=!0,this.realtimeUpdateVolumeIndicator(this.state.localAttendeeId,null,null,null,this.state.localExternalUserId);for(const ns of this.state.muteAndUnmuteLocalAudioCallbacks)ns(!0)}catch(ns){this.onError(ns)}}realtimeUnmuteLocalAudio(){if(!this.state.muted)return!0;if(!this.state.canUnmute)return!1;try{this.setAudioInputEnabled(!0),this.state.muted=!1,this.realtimeUpdateVolumeIndicator(this.state.localAttendeeId,null,null,null,this.state.localExternalUserId);for(const ns of this.state.muteAndUnmuteLocalAudioCallbacks)ns(!1);return!0}catch(ns){return this.onError(ns),!1}}realtimeSubscribeToMuteAndUnmuteLocalAudio(ns){try{this.state.muteAndUnmuteLocalAudioCallbacks.push(ns)}catch(rs){this.onError(rs)}}realtimeUnsubscribeToMuteAndUnmuteLocalAudio(ns){try{const rs=this.state.muteAndUnmuteLocalAudioCallbacks.indexOf(ns);rs!==-1&&this.state.muteAndUnmuteLocalAudioCallbacks.splice(rs,1)}catch(rs){this.onError(rs)}}realtimeIsLocalAudioMuted(){return this.state.muted}realtimeSubscribeToVolumeIndicator(ns,rs){try{this.state.volumeIndicatorCallbacks.hasOwnProperty(ns)||(this.state.volumeIndicatorCallbacks[ns]=[]),this.state.volumeIndicatorCallbacks[ns].push(rs),this.sendVolumeIndicatorChange(ns,!0,!0,!0,this.state.attendeeIdToExternalUserId[ns])}catch(is){this.onError(is)}}realtimeUnsubscribeFromVolumeIndicator(ns,rs){if(this.state.volumeIndicatorCallbacks[ns])if(rs){const os=this.state.volumeIndicatorCallbacks[ns].indexOf(rs);os>=0&&this.state.volumeIndicatorCallbacks[ns].splice(os,1)}else delete this.state.volumeIndicatorCallbacks[ns]}realtimeUpdateVolumeIndicator(ns,rs,is,os,ss){try{is=this.applyLocalMuteOverride(ns,is);const as=this.getVolumeIndicatorState(ns);let ls=!1,cs=!1,us=!1;is!==null&&as.muted!==is&&(as.muted=is,cs=!0,as.muted&&as.volume!==0&&(as.volume=0,ls=!0)),!as.muted&&rs!==null&&(as.volume!==rs&&(as.volume=rs,ls=!0),as.muted===null&&(as.muted=!1,cs=!0)),os!==null&&as.signalStrength!==os&&(as.signalStrength=os,us=!0),this.sendVolumeIndicatorChange(ns,ls,cs,us,ss)}catch(as){this.onError(as)}}realtimeSubscribeToLocalSignalStrengthChange(ns){try{if(this.state.localSignalStrengthChangeCallbacks.push(ns),this.state.localAttendeeId===null)return;this.sendLocalSignalStrengthChange(this.state.localAttendeeId,!0)}catch(rs){this.onError(rs)}}realtimeUnsubscribeToLocalSignalStrengthChange(ns){try{const rs=this.state.localSignalStrengthChangeCallbacks.indexOf(ns);rs!==-1&&this.state.localSignalStrengthChangeCallbacks.splice(rs,1)}catch(rs){this.onError(rs)}}realtimeSubscribeToSendDataMessage(ns){try{this.state.sendDataMessageCallbacks.push(ns)}catch(rs){this.onError(rs)}}realtimeUnsubscribeFromSendDataMessage(ns){try{const rs=this.state.sendDataMessageCallbacks.indexOf(ns);rs!==-1&&this.state.sendDataMessageCallbacks.splice(rs,1)}catch(rs){this.onError(rs)}}realtimeSendDataMessage(ns,rs,is){try{for(const os of this.state.sendDataMessageCallbacks)os(ns,rs,is)}catch(os){this.onError(os)}}realtimeSubscribeToReceiveDataMessage(ns,rs){try{this.state.receiveDataMessageCallbacks.has(ns)?this.state.receiveDataMessageCallbacks.get(ns).push(rs):this.state.receiveDataMessageCallbacks.set(ns,[rs])}catch(is){this.onError(is)}}realtimeUnsubscribeFromReceiveDataMessage(ns){try{this.state.receiveDataMessageCallbacks.delete(ns)}catch(rs){this.onError(rs)}}realtimeReceiveDataMessage(ns){try{if(this.state.receiveDataMessageCallbacks.has(ns.topic))for(const rs of this.state.receiveDataMessageCallbacks.get(ns.topic))rs(ns)}catch(rs){this.onError(rs)}}realtimeSubscribeToFatalError(ns){try{this.state.fatalErrorCallbacks.push(ns)}catch(rs){this.onError(rs)}}realtimeUnsubscribeToFatalError(ns){try{const rs=this.state.fatalErrorCallbacks.indexOf(ns);rs!==-1&&this.state.fatalErrorCallbacks.splice(rs,1)}catch(rs){this.onError(rs)}}get transcriptionController(){return this._transcriptionController}setAudioInputEnabled(ns){ns?this.mediaStreamBroker.unmuteLocalAudioInputStream():this.mediaStreamBroker.muteLocalAudioInputStream()}applyLocalMuteOverride(ns,rs){const is=this.state.localAttendeeId,os=this.state.muted;return ns!==is||!("activeDevices"in this.mediaStreamBroker&&this.mediaStreamBroker.activeDevices.audio)?rs:os}sendVolumeIndicatorChange(ns,rs,is,os,ss){if(this.sendLocalSignalStrengthChange(ns,os),!this.state.volumeIndicatorCallbacks.hasOwnProperty(ns))return;const as=this.getVolumeIndicatorState(ns),ls=new RealtimeVolumeIndicator_1.default;if(rs&&(ls.volume=as.volume),is&&(ls.muted=as.muted),os&&(ls.signalStrength=as.signalStrength),!this.stateIsEmpty(ls))for(const cs of this.state.volumeIndicatorCallbacks[ns])cs(ns,ls.volume,ls.muted,ls.signalStrength,ss)}sendLocalSignalStrengthChange(ns,rs){if(!rs||ns!==this.state.localAttendeeId)return;const os=this.getVolumeIndicatorState(ns).signalStrength;if(os!==null)for(const ss of this.state.localSignalStrengthChangeCallbacks)ss(os)}getVolumeIndicatorState(ns){return this.state.volumeIndicatorState.hasOwnProperty(ns)||(this.state.volumeIndicatorState[ns]=new RealtimeVolumeIndicator_1.default),this.state.volumeIndicatorState[ns]}stateIsEmpty(ns){return ns.volume===null&&ns.muted===null&&ns.signalStrength===null}onError(ns){try{for(const rs of this.state.fatalErrorCallbacks)rs(ns)}catch(rs){try{console.error(ns),console.error(rs)}catch{}}}}DefaultRealtimeController$1.default=DefaultRealtimeController;var DefaultSessionStateController$1={},SessionStateControllerAction={};(function(ts){Object.defineProperty(ts,"__esModule",{value:!0}),ts.SessionStateControllerAction=void 0;var ns;(function(rs){rs[rs.Connect=0]="Connect",rs[rs.FinishConnecting=1]="FinishConnecting",rs[rs.Update=2]="Update",rs[rs.FinishUpdating=3]="FinishUpdating",rs[rs.Reconnect=4]="Reconnect",rs[rs.Disconnect=5]="Disconnect",rs[rs.Fail=6]="Fail",rs[rs.FinishDisconnecting=7]="FinishDisconnecting"})(ns=ts.SessionStateControllerAction||(ts.SessionStateControllerAction={})),ts.default=ns})(SessionStateControllerAction);var SessionStateControllerDeferPriority={};(function(ts){Object.defineProperty(ts,"__esModule",{value:!0}),ts.SessionStateControllerDeferPriority=void 0;var ns;(function(rs){rs[rs.DoNotDefer=0]="DoNotDefer",rs[rs.Low=1]="Low",rs[rs.Medium=2]="Medium",rs[rs.High=3]="High",rs[rs.VeryHigh=4]="VeryHigh"})(ns=ts.SessionStateControllerDeferPriority||(ts.SessionStateControllerDeferPriority={})),ts.default=ns})(SessionStateControllerDeferPriority);var SessionStateControllerState={};(function(ts){Object.defineProperty(ts,"__esModule",{value:!0}),ts.SessionStateControllerState=void 0;var ns;(function(rs){rs[rs.NotConnected=0]="NotConnected",rs[rs.Connecting=1]="Connecting",rs[rs.Connected=2]="Connected",rs[rs.Updating=3]="Updating",rs[rs.Disconnecting=4]="Disconnecting"})(ns=ts.SessionStateControllerState||(ts.SessionStateControllerState={})),ts.default=ns})(SessionStateControllerState);var SessionStateControllerTransitionResult={};(function(ts){Object.defineProperty(ts,"__esModule",{value:!0}),ts.SessionStateControllerTransitionResult=void 0;var ns;(function(rs){rs[rs.Transitioned=0]="Transitioned",rs[rs.NoTransitionAvailable=1]="NoTransitionAvailable",rs[rs.DeferredTransition=2]="DeferredTransition",rs[rs.TransitionFailed=3]="TransitionFailed"})(ns=ts.SessionStateControllerTransitionResult||(ts.SessionStateControllerTransitionResult={})),ts.default=ns})(SessionStateControllerTransitionResult);Object.defineProperty(DefaultSessionStateController$1,"__esModule",{value:!0});const SessionStateControllerAction_1=SessionStateControllerAction,SessionStateControllerDeferPriority_1=SessionStateControllerDeferPriority,SessionStateControllerState_1=SessionStateControllerState,SessionStateControllerTransitionResult_1=SessionStateControllerTransitionResult;class DefaultSessionStateController{constructor(ns){this.logger=ns,this.currentState=SessionStateControllerState_1.SessionStateControllerState.NotConnected,this.deferredAction=null,this.deferredWork=null}perform(ns,rs){const is=this.currentState;if(is===SessionStateControllerState_1.SessionStateControllerState.NotConnected&&ns===SessionStateControllerAction_1.SessionStateControllerAction.Connect)this.transition(SessionStateControllerState_1.SessionStateControllerState.Connecting,ns);else if(is===SessionStateControllerState_1.SessionStateControllerState.Connecting&&ns===SessionStateControllerAction_1.SessionStateControllerAction.Fail)this.transition(SessionStateControllerState_1.SessionStateControllerState.Disconnecting,ns);else if(is===SessionStateControllerState_1.SessionStateControllerState.Connecting&&ns===SessionStateControllerAction_1.SessionStateControllerAction.FinishConnecting)this.transition(SessionStateControllerState_1.SessionStateControllerState.Connected,ns);else if(is===SessionStateControllerState_1.SessionStateControllerState.Connected&&ns===SessionStateControllerAction_1.SessionStateControllerAction.Disconnect)this.transition(SessionStateControllerState_1.SessionStateControllerState.Disconnecting,ns);else if(is===SessionStateControllerState_1.SessionStateControllerState.Connected&&ns===SessionStateControllerAction_1.SessionStateControllerAction.Reconnect)this.transition(SessionStateControllerState_1.SessionStateControllerState.Connecting,ns);else if(is===SessionStateControllerState_1.SessionStateControllerState.Connected&&ns===SessionStateControllerAction_1.SessionStateControllerAction.Fail)this.transition(SessionStateControllerState_1.SessionStateControllerState.Disconnecting,ns);else if(is===SessionStateControllerState_1.SessionStateControllerState.Connected&&ns===SessionStateControllerAction_1.SessionStateControllerAction.Update)this.transition(SessionStateControllerState_1.SessionStateControllerState.Updating,ns);else if(is===SessionStateControllerState_1.SessionStateControllerState.Updating&&ns===SessionStateControllerAction_1.SessionStateControllerAction.Fail)this.transition(SessionStateControllerState_1.SessionStateControllerState.Disconnecting,ns);else if(is===SessionStateControllerState_1.SessionStateControllerState.Updating&&ns===SessionStateControllerAction_1.SessionStateControllerAction.FinishUpdating)this.transition(SessionStateControllerState_1.SessionStateControllerState.Connected,ns);else if(is===SessionStateControllerState_1.SessionStateControllerState.Disconnecting&&ns===SessionStateControllerAction_1.SessionStateControllerAction.FinishDisconnecting)this.transition(SessionStateControllerState_1.SessionStateControllerState.NotConnected,ns);else return this.canDefer(ns)?(this.logger.info("deferring transition from ".concat(SessionStateControllerState_1.SessionStateControllerState[this.currentState]," with ").concat(SessionStateControllerAction_1.SessionStateControllerAction[ns])),this.deferAction(ns,rs),SessionStateControllerTransitionResult_1.SessionStateControllerTransitionResult.DeferredTransition):(this.logger.warn("no transition found from ".concat(SessionStateControllerState_1.SessionStateControllerState[this.currentState]," with ").concat(SessionStateControllerAction_1.SessionStateControllerAction[ns])),SessionStateControllerTransitionResult_1.SessionStateControllerTransitionResult.NoTransitionAvailable);try{rs()}catch(os){return this.logger.error("error during state ".concat(SessionStateControllerState_1.SessionStateControllerState[this.currentState]," with action ").concat(SessionStateControllerAction_1.SessionStateControllerAction[ns],": ").concat(os)),this.logger.info("rolling back transition to ".concat(SessionStateControllerState_1.SessionStateControllerState[is])),this.currentState=is,SessionStateControllerTransitionResult_1.SessionStateControllerTransitionResult.TransitionFailed}return this.performDeferredAction(),SessionStateControllerTransitionResult_1.SessionStateControllerTransitionResult.Transitioned}state(){return this.currentState}transition(ns,rs){this.logger.info("transitioning from ".concat(SessionStateControllerState_1.SessionStateControllerState[this.currentState]," to ").concat(SessionStateControllerState_1.SessionStateControllerState[ns]," with ").concat(SessionStateControllerAction_1.SessionStateControllerAction[rs])),this.currentState=ns}deferPriority(ns){switch(ns){case SessionStateControllerAction_1.SessionStateControllerAction.Disconnect:return SessionStateControllerDeferPriority_1.SessionStateControllerDeferPriority.VeryHigh;case SessionStateControllerAction_1.SessionStateControllerAction.Fail:return SessionStateControllerDeferPriority_1.SessionStateControllerDeferPriority.High;case SessionStateControllerAction_1.SessionStateControllerAction.Reconnect:return SessionStateControllerDeferPriority_1.SessionStateControllerDeferPriority.Medium;case SessionStateControllerAction_1.SessionStateControllerAction.Update:return SessionStateControllerDeferPriority_1.SessionStateControllerDeferPriority.Low;default:return SessionStateControllerDeferPriority_1.SessionStateControllerDeferPriority.DoNotDefer}}deferAction(ns,rs){this.deferredAction!==null&&this.deferPriority(this.deferredAction)>this.deferPriority(ns)||(this.deferredAction=ns,this.deferredWork=rs)}canDefer(ns){return this.deferPriority(ns)!==SessionStateControllerDeferPriority_1.SessionStateControllerDeferPriority.DoNotDefer&&(this.currentState===SessionStateControllerState_1.SessionStateControllerState.Connecting||this.currentState===SessionStateControllerState_1.SessionStateControllerState.Updating)}performDeferredAction(){if(!this.deferredAction)return;const ns=this.deferredAction,rs=this.deferredWork;this.deferredAction=null,this.deferredWork=null,this.logger.info("performing deferred action ".concat(SessionStateControllerAction_1.SessionStateControllerAction[ns])),this.perform(ns,rs)!==SessionStateControllerTransitionResult_1.SessionStateControllerTransitionResult.Transitioned&&this.logger.info("unable to perform deferred action ".concat(SessionStateControllerAction_1.SessionStateControllerAction[ns]," in state ").concat(SessionStateControllerState_1.SessionStateControllerState[this.currentState]))}}DefaultSessionStateController$1.default=DefaultSessionStateController;var DefaultSignalingClient$1={},Utils$1={},__importDefault$14=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(Utils$1,"__esModule",{value:!0});Utils$1.getRandomValues=Utils$1.getFormattedOffset=Utils$1.getDefaultAssetSpec=Utils$1.toLowerCasePropertyNames=Utils$1.isIFramed=Utils$1.wait=void 0;const Versioning_1$7=__importDefault$14(Versioning$1);function wait(ts){return new Promise(ns=>setTimeout(ns,ts))}Utils$1.wait=wait;function isIFramed(){var ts;try{return((ts=window.frameElement)===null||ts===void 0?void 0:ts.nodeName)==="IFRAME"||parent!==top}catch{return!0}}Utils$1.isIFramed=isIFramed;function toLowerCasePropertyNames(ts){return ts===null?null:typeof ts!="object"?ts:Array.isArray(ts)?ts.map(toLowerCasePropertyNames):Object.keys(ts).reduce((ns,rs)=>{const is=ts[rs],os=typeof is=="object"?toLowerCasePropertyNames(is):is;return ns[rs.toLowerCase()]=os,ns},{})}Utils$1.toLowerCasePropertyNames=toLowerCasePropertyNames;function getDefaultAssetSpec(){const ts=Versioning_1$7.default.sdkVersionSemVer;return{assetGroup:"sdk-".concat(ts.major,".").concat(ts.minor)}}Utils$1.getDefaultAssetSpec=getDefaultAssetSpec;function getFormattedOffset(ts){const ns=Math.abs(ts),rs=ts<=0?"+":"-",is=Math.floor(ns/60).toString().padStart(2,"0"),os=Math.floor(ns%60).toString().padStart(2,"0");return"".concat(rs).concat(is,":").concat(os)}Utils$1.getFormattedOffset=getFormattedOffset;function getRandomValues$2(ts){try{window.crypto.getRandomValues(ts)}catch{new DataView(ts.buffer).setUint32(0,Math.trunc(Math.random()*Math.pow(2,32)),!0)}}Utils$1.getRandomValues=getRandomValues$2;var VideoQualityAdaptationPreference={};(function(ts){Object.defineProperty(ts,"__esModule",{value:!0}),ts.VideoQualityAdaptationPreference=void 0;var ns;(function(rs){rs[rs.Balanced=0]="Balanced",rs[rs.MaintainFramerate=1]="MaintainFramerate",rs[rs.MaintainResolution=2]="MaintainResolution"})(ns=ts.VideoQualityAdaptationPreference||(ts.VideoQualityAdaptationPreference={})),ts.default=ns})(VideoQualityAdaptationPreference);var WebSocketReadyState={};(function(ts){Object.defineProperty(ts,"__esModule",{value:!0}),ts.WebSocketReadyState=void 0;var ns;(function(rs){rs[rs.None=0]="None",rs[rs.Connecting=1]="Connecting",rs[rs.Open=2]="Open",rs[rs.Closing=3]="Closing",rs[rs.Closed=4]="Closed"})(ns=ts.WebSocketReadyState||(ts.WebSocketReadyState={})),ts.default=ns})(WebSocketReadyState);var ServerSideNetworkAdaption={};(function(ts){Object.defineProperty(ts,"__esModule",{value:!0}),ts.convertServerSideNetworkAdaptionEnumToSignaled=ts.convertServerSideNetworkAdaptionEnumFromSignaled=ts.serverSideNetworkAdaptionIsNoneOrDefault=ts.ServerSideNetworkAdaption=void 0;const ns=SignalingProtocol;var rs;(function(as){as[as.Default=0]="Default",as[as.None=1]="None",as[as.BandwidthProbing=2]="BandwidthProbing",as[as.BandwidthProbingAndRemoteVideoQualityAdaption=3]="BandwidthProbingAndRemoteVideoQualityAdaption"})(rs=ts.ServerSideNetworkAdaption||(ts.ServerSideNetworkAdaption={})),ts.default=rs;function is(as){return as===rs.None||as===rs.Default}ts.serverSideNetworkAdaptionIsNoneOrDefault=is;function os(as){switch(as){case ns.SdkServerSideNetworkAdaption.DEFAULT:return rs.Default;case ns.SdkServerSideNetworkAdaption.NONE:return rs.None;case ns.SdkServerSideNetworkAdaption.BANDWIDTH_PROBING:return rs.BandwidthProbing;case ns.SdkServerSideNetworkAdaption.BANDWIDTH_PROBING_AND_VIDEO_QUALITY_ADAPTION:return rs.BandwidthProbingAndRemoteVideoQualityAdaption}}ts.convertServerSideNetworkAdaptionEnumFromSignaled=os;function ss(as){switch(as){case rs.Default:return ns.SdkServerSideNetworkAdaption.DEFAULT;case rs.None:return ns.SdkServerSideNetworkAdaption.NONE;case rs.BandwidthProbing:return ns.SdkServerSideNetworkAdaption.BANDWIDTH_PROBING;case rs.BandwidthProbingAndRemoteVideoQualityAdaption:return ns.SdkServerSideNetworkAdaption.BANDWIDTH_PROBING_AND_VIDEO_QUALITY_ADAPTION}}ts.convertServerSideNetworkAdaptionEnumToSignaled=ss})(ServerSideNetworkAdaption);var SignalingClientEvent$1={},__importDefault$13=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(SignalingClientEvent$1,"__esModule",{value:!0});const SignalingClientEventType_1$a=__importDefault$13(SignalingClientEventType);class SignalingClientEvent{constructor(ns,rs,is,os,ss){this.client=ns,this.type=rs,this.message=is,this.closeCode=os,this.closeReason=ss,this.timestampMs=Date.now()}isConnectionTerminated(){switch(this.type){case SignalingClientEventType_1$a.default.WebSocketFailed:case SignalingClientEventType_1$a.default.WebSocketError:case SignalingClientEventType_1$a.default.WebSocketClosing:case SignalingClientEventType_1$a.default.WebSocketClosed:return!0;default:return!1}}}SignalingClientEvent$1.default=SignalingClientEvent;var __importDefault$12=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(DefaultSignalingClient$1,"__esModule",{value:!0});const DefaultBrowserBehavior_1$4=__importDefault$12(DefaultBrowserBehavior$1),TimeoutScheduler_1$2=__importDefault$12(TimeoutScheduler$1),SignalingProtocol_js_1$c=SignalingProtocol,Utils_1$5=Utils$1,Versioning_1$6=__importDefault$12(Versioning$1),VideoQualityAdaptationPreference_1$2=__importDefault$12(VideoQualityAdaptationPreference),WebSocketReadyState_1$2=__importDefault$12(WebSocketReadyState),ServerSideNetworkAdaption_1$6=ServerSideNetworkAdaption,SignalingClientEvent_1=__importDefault$12(SignalingClientEvent$1),SignalingClientEventType_1$9=__importDefault$12(SignalingClientEventType);class DefaultSignalingClient{constructor(ns,rs){this.webSocket=ns,this.logger=rs,this.unloadHandler=null,this.closeEventHandler=is=>{this.deactivatePageUnloadHandler(),this.resetConnection(),this.sendEvent(new SignalingClientEvent_1.default(this,SignalingClientEventType_1$9.default.WebSocketClosed,null,is.code,is.reason)),this.serviceConnectionRequestQueue()},this.observerQueue=new Set,this.connectionRequestQueue=[],this.resetConnection(),this.logger.debug(()=>"signaling client init"),this.audioSessionId=this.generateNewAudioSessionId()}registerObserver(ns){this.logger.debug(()=>"registering signaling client observer"),this.observerQueue.add(ns)}removeObserver(ns){this.logger.debug(()=>"removing signaling client observer"),this.observerQueue.delete(ns)}openConnection(ns){this.logger.info("adding connection request to queue: "+ns.url()),this.connectionRequestQueue.push(ns),this.closeConnection()}pingPong(ns){this.logger.debug(()=>"sending ping");const rs=SignalingProtocol_js_1$c.SdkSignalFrame.create();return rs.type=SignalingProtocol_js_1$c.SdkSignalFrame.Type.PING_PONG,rs.pingPong=ns,this.sendMessage(rs),rs.timestampMs}join(ns){this.logger.info("sending join");const rs=SignalingProtocol_js_1$c.SdkJoinFrame.create();rs.protocolVersion=2,rs.flags=SignalingProtocol_js_1$c.SdkJoinFlags.HAS_STREAM_UPDATE;const is=new DefaultBrowserBehavior_1$4.default,os={platformName:is.name(),platformVersion:is.version(),clientSource:Versioning_1$6.default.sdkName,chimeSdkVersion:Versioning_1$6.default.sdkVersion,clientUtcOffset:Utils_1$5.getFormattedOffset(new Date().getTimezoneOffset())};if(ns.applicationMetadata){const{appName:as,appVersion:ls}=ns.applicationMetadata;os.appName=as,os.appVersion=ls}rs.clientDetails=SignalingProtocol_js_1$c.SdkClientDetails.create(os),rs.audioSessionId=this.audioSessionId,rs.wantsCompressedSdp=DefaultSignalingClient.CLIENT_SUPPORTS_COMPRESSION,rs.disablePeriodicKeyframeRequestOnContentSender=ns.disablePeriodicKeyframeRequestOnContentSender,rs.serverSideNetworkAdaption=ServerSideNetworkAdaption_1$6.convertServerSideNetworkAdaptionEnumToSignaled(ns.serverSideNetworkAdaption),rs.supportedServerSideNetworkAdaptions=ns.supportedServerSideNetworkAdaptions.map(ServerSideNetworkAdaption_1$6.convertServerSideNetworkAdaptionEnumToSignaled),rs.wantsAllTemporalLayersInIndex=ns.wantsAllTemporalLayersInIndex;const ss=SignalingProtocol_js_1$c.SdkSignalFrame.create();ss.type=SignalingProtocol_js_1$c.SdkSignalFrame.Type.JOIN,ss.join=rs,this.sendMessage(ss)}subscribe(ns){const rs=SignalingProtocol_js_1$c.SdkSubscribeFrame.create();if(rs.sendStreams=[],rs.sdpOffer=ns.sdpOffer,ns.connectionTypeHasVideo&&(rs.receiveStreamIds=ns.receiveStreamIds),ns.audioHost&&(rs.audioCheckin=ns.audioCheckin,rs.audioHost=ns.audioHost,rs.audioMuted=ns.audioMuted,!ns.audioCheckin)){const os=SignalingProtocol_js_1$c.SdkStreamDescriptor.create();os.mediaType=SignalingProtocol_js_1$c.SdkStreamMediaType.AUDIO,os.trackLabel="AmazonChimeExpressAudio",os.attendeeId=ns.attendeeId,os.streamId=1,os.groupId=1,os.framerate=15,os.maxBitrateKbps=600,os.avgBitrateBps=4e5,rs.sendStreams.push(os)}if(rs.compressedSdpOffer=ns.compressedSdpOffer,rs.duplex=SignalingProtocol_js_1$c.SdkStreamServiceType.RX,ns.localVideoEnabled){rs.duplex=SignalingProtocol_js_1$c.SdkStreamServiceType.DUPLEX;for(let os=0;os<ns.videoStreamDescriptions.length;os++){const ss=ns.videoStreamDescriptions[os].clone();ss.attendeeId=ns.attendeeId,rs.sendStreams.push(ss.toStreamDescriptor())}}ns.videoSubscriptionConfiguration.length>0&&(rs.videoSubscriptionConfiguration=ns.videoSubscriptionConfiguration.map(this.convertSignalingClientVideoSubscriptionConfiguration));const is=SignalingProtocol_js_1$c.SdkSignalFrame.create();is.type=SignalingProtocol_js_1$c.SdkSignalFrame.Type.SUBSCRIBE,is.sub=rs,this.sendMessage(is)}remoteVideoUpdate(ns,rs){const is=SignalingProtocol_js_1$c.SdkRemoteVideoUpdateFrame.create();is.addedOrUpdatedVideoSubscriptions=ns.map(this.convertSignalingClientVideoSubscriptionConfiguration),is.removedVideoSubscriptionMids=rs;const os=SignalingProtocol_js_1$c.SdkSignalFrame.create();os.type=SignalingProtocol_js_1$c.SdkSignalFrame.Type.REMOTE_VIDEO_UPDATE,os.remoteVideoUpdate=is,this.sendMessage(os)}convertSignalingClientVideoSubscriptionConfiguration(ns){const rs=new SignalingProtocol_js_1$c.SdkVideoSubscriptionConfiguration;switch(rs.mid=ns.mid,rs.attendeeId=ns.attendeeId,rs.streamId=ns.streamId,rs.groupId=ns.groupId,rs.priority=ns.priority,rs.targetBitrateKbps=ns.targetBitrateKbps,ns.qualityAdaptationPreference){case VideoQualityAdaptationPreference_1$2.default.Balanced:rs.qualityAdaptationPreference=SignalingProtocol_js_1$c.SdkVideoQualityAdaptationPreference.BALANCED;break;case VideoQualityAdaptationPreference_1$2.default.MaintainFramerate:rs.qualityAdaptationPreference=SignalingProtocol_js_1$c.SdkVideoQualityAdaptationPreference.MAINTAIN_FRAMERATE;break;case VideoQualityAdaptationPreference_1$2.default.MaintainResolution:rs.qualityAdaptationPreference=SignalingProtocol_js_1$c.SdkVideoQualityAdaptationPreference.MAINTAIN_RESOLUTION;break;default:rs.qualityAdaptationPreference=SignalingProtocol_js_1$c.SdkVideoQualityAdaptationPreference.BALANCED}return rs}leave(){const ns=SignalingProtocol_js_1$c.SdkSignalFrame.create();ns.type=SignalingProtocol_js_1$c.SdkSignalFrame.Type.LEAVE,ns.leave=SignalingProtocol_js_1$c.SdkLeaveFrame.create(),this.sendMessage(ns),this.logger.debug(()=>"sent leave")}sendClientMetrics(ns){const rs=SignalingProtocol_js_1$c.SdkSignalFrame.create();rs.type=SignalingProtocol_js_1$c.SdkSignalFrame.Type.CLIENT_METRIC,rs.clientMetric=ns,this.sendMessage(rs)}sendDataMessage(ns){const rs=SignalingProtocol_js_1$c.SdkSignalFrame.create();rs.type=SignalingProtocol_js_1$c.SdkSignalFrame.Type.DATA_MESSAGE,rs.dataMessage=ns,this.sendMessage(rs)}closeConnection(){var ns,rs;if(this.webSocket.readyState()!==WebSocketReadyState_1$2.default.None&&this.webSocket.readyState()!==WebSocketReadyState_1$2.default.Closed){this.isClosing=!0,this.sendEvent(new SignalingClientEvent_1.default(this,SignalingClientEventType_1$9.default.WebSocketClosing,null));const is=new TimeoutScheduler_1$2.default(DefaultSignalingClient.CLOSE_EVENT_TIMEOUT_MS),os=ss=>{var as,ls;(ls=(as=this.webSocket).removeEventListener)===null||ls===void 0||ls.call(as,"close",os),is.stop(),this.closeEventHandler(ss)};(rs=(ns=this.webSocket).removeEventListener)===null||rs===void 0||rs.call(ns,"close",this.closeEventHandler),this.webSocket.addEventListener("close",os),is.start(()=>{os(new CloseEvent("close",{wasClean:!1,code:1006,reason:"",bubbles:!1}))}),this.webSocket.close(),this.deactivatePageUnloadHandler()}else this.logger.info("no existing signaling client connection needs closing"),this.serviceConnectionRequestQueue()}ready(){return this.webSocket.readyState()===WebSocketReadyState_1$2.default.Open&&!this.isClosing&&this.wasOpened}mute(ns){const rs=SignalingProtocol_js_1$c.SdkSignalFrame.create();rs.type=SignalingProtocol_js_1$c.SdkSignalFrame.Type.AUDIO_CONTROL;const is=SignalingProtocol_js_1$c.SdkAudioControlFrame.create();is.muted=ns,rs.audioControl=is,this.sendMessage(rs)}pause(ns){const rs=SignalingProtocol_js_1$c.SdkSignalFrame.create();rs.type=SignalingProtocol_js_1$c.SdkSignalFrame.Type.PAUSE,rs.pause=SignalingProtocol_js_1$c.SdkPauseResumeFrame.create(),rs.pause.streamIds=ns,this.sendMessage(rs)}resume(ns){const rs=SignalingProtocol_js_1$c.SdkSignalFrame.create();rs.type=SignalingProtocol_js_1$c.SdkSignalFrame.Type.RESUME,rs.pause=SignalingProtocol_js_1$c.SdkPauseResumeFrame.create(),rs.pause.streamIds=ns,this.sendMessage(rs)}resetConnection(){this.webSocket.destroy(),this.wasOpened=!1}sendMessage(ns){ns.timestampMs=Date.now(),this.logger.debug(()=>"sending: ".concat(JSON.stringify(ns)));const rs=this.prependWithFrameTypeRTC(SignalingProtocol_js_1$c.SdkSignalFrame.encode(ns).finish());if(this.ready()){if(!this.webSocket.send(rs)){this.sendEvent(new SignalingClientEvent_1.default(this,SignalingClientEventType_1$9.default.WebSocketSendMessageFailure,null));return}this.sendEvent(new SignalingClientEvent_1.default(this,SignalingClientEventType_1$9.default.WebSocketSentMessage,null))}else this.sendEvent(new SignalingClientEvent_1.default(this,SignalingClientEventType_1$9.default.WebSocketSkippedMessage,null))}receiveMessage(ns){let rs;try{rs=SignalingProtocol_js_1$c.SdkSignalFrame.decode(ns)}catch{this.logger.info("failed to decode: ".concat(ns)),this.sendEvent(new SignalingClientEvent_1.default(this,SignalingClientEventType_1$9.default.ProtocolDecodeFailure,null));return}this.logger.debug(()=>"received: ".concat(JSON.stringify(rs))),this.webSocket.readyState()===WebSocketReadyState_1$2.default.Open?this.sendEvent(new SignalingClientEvent_1.default(this,SignalingClientEventType_1$9.default.ReceivedSignalFrame,rs)):this.logger.info("skipping notification of message since WebSocket is not open: ".concat(JSON.stringify(rs)))}stripFrameTypeRTC(ns){const rs=ns[0];return rs!==DefaultSignalingClient.FRAME_TYPE_RTC&&rs!==2&&this.logger.warn("expected FrameTypeRTC for message but got ".concat(rs)),ns.slice(1)}prependWithFrameTypeRTC(ns){const rs=new Uint8Array(ns.length+1);return rs[0]=DefaultSignalingClient.FRAME_TYPE_RTC,rs.set(ns,1),rs}serviceConnectionRequestQueue(){if(this.connectionRequestQueue.length===0){this.logger.info("no connection requests to service");return}const ns=this.connectionRequestQueue.shift();this.logger.info("opening connection to ".concat(ns.url())),this.isClosing=!1,this.webSocket.create(ns.url(),ns.protocols()),this.setUpEventListeners(),this.sendEvent(new SignalingClientEvent_1.default(this,SignalingClientEventType_1$9.default.WebSocketConnecting,null))}sendEvent(ns){switch(ns.type){case SignalingClientEventType_1$9.default.WebSocketMessage:case SignalingClientEventType_1$9.default.ReceivedSignalFrame:case SignalingClientEventType_1$9.default.WebSocketSentMessage:this.logger.debug(()=>"notifying event: ".concat(SignalingClientEventType_1$9.default[ns.type]));break;case SignalingClientEventType_1$9.default.WebSocketSkippedMessage:this.logger.debug(()=>"notifying event: ".concat(SignalingClientEventType_1$9.default[ns.type],", websocket state=").concat(WebSocketReadyState_1$2.default[this.webSocket.readyState()]));break;default:this.logger.info("notifying event: ".concat(SignalingClientEventType_1$9.default[ns.type]));break}for(const rs of this.observerQueue)rs.handleSignalingClientEvent(ns)}setUpEventListeners(){this.webSocket.addEventListener("open",()=>{this.activatePageUnloadHandler(),this.wasOpened=!0,this.sendEvent(new SignalingClientEvent_1.default(this,SignalingClientEventType_1$9.default.WebSocketOpen,null))}),this.webSocket.addEventListener("message",ns=>{this.sendEvent(new SignalingClientEvent_1.default(this,SignalingClientEventType_1$9.default.WebSocketMessage,null)),this.receiveMessage(this.stripFrameTypeRTC(new Uint8Array(ns.data)))}),this.webSocket.addEventListener("close",this.closeEventHandler),this.webSocket.addEventListener("error",()=>{if(this.isClosing&&!this.wasOpened){this.logger.info("ignoring error closing signaling while connecting");return}this.wasOpened?(this.logger.error("received error while connected"),this.sendEvent(new SignalingClientEvent_1.default(this,SignalingClientEventType_1$9.default.WebSocketError,null))):(this.logger.error("failed to connect"),this.sendEvent(new SignalingClientEvent_1.default(this,SignalingClientEventType_1$9.default.WebSocketFailed,null)))})}activatePageUnloadHandler(){this.unloadHandler=()=>{this.leave()};const ns=commonjsGlobal$1;ns.window&&ns.window.addEventListener&&window.addEventListener("unload",this.unloadHandler)}deactivatePageUnloadHandler(){const ns=commonjsGlobal$1;ns.window&&ns.window.removeEventListener&&window.removeEventListener("unload",this.unloadHandler),this.unloadHandler=null}generateNewAudioSessionId(){const ns=new Uint32Array(1);return Utils_1$5.getRandomValues(ns),ns[0]}promoteToPrimaryMeeting(ns){const rs=SignalingProtocol_js_1$c.SdkMeetingSessionCredentials.create();rs.attendeeId=ns.attendeeId,rs.externalUserId=ns.externalUserId,rs.joinToken=ns.joinToken;const is=SignalingProtocol_js_1$c.SdkPrimaryMeetingJoinFrame.create();is.credentials=rs;const os=SignalingProtocol_js_1$c.SdkSignalFrame.create();os.type=SignalingProtocol_js_1$c.SdkSignalFrame.Type.PRIMARY_MEETING_JOIN,os.primaryMeetingJoin=is,this.sendMessage(os)}demoteFromPrimaryMeeting(){const ns=SignalingProtocol_js_1$c.SdkPrimaryMeetingLeaveFrame.create(),rs=SignalingProtocol_js_1$c.SdkSignalFrame.create();rs.type=SignalingProtocol_js_1$c.SdkSignalFrame.Type.PRIMARY_MEETING_LEAVE,rs.primaryMeetingLeave=ns,this.sendMessage(rs)}}DefaultSignalingClient$1.default=DefaultSignalingClient;DefaultSignalingClient.FRAME_TYPE_RTC=5;DefaultSignalingClient.CLOSE_EVENT_TIMEOUT_MS=2e3;DefaultSignalingClient.CLIENT_SUPPORTS_COMPRESSION=!0;var SignalingClientVideoSubscriptionConfiguration$1={};Object.defineProperty(SignalingClientVideoSubscriptionConfiguration$1,"__esModule",{value:!0});class SignalingClientVideoSubscriptionConfiguration{equals(ns){return ns!==void 0&&this.mid===ns.mid&&this.attendeeId===ns.attendeeId&&this.streamId===ns.streamId&&this.groupId===ns.groupId&&this.priority===ns.priority&&this.targetBitrateKbps===ns.targetBitrateKbps&&this.qualityAdaptationPreference===ns.qualityAdaptationPreference}}SignalingClientVideoSubscriptionConfiguration$1.default=SignalingClientVideoSubscriptionConfiguration;var StatsCollector$1={},RedundantAudioRecoveryMetricReport$1={};Object.defineProperty(RedundantAudioRecoveryMetricReport$1,"__esModule",{value:!0});class RedundantAudioRecoveryMetricReport{constructor(){this.currentTimestampMs=0,this.ssrc=0,this.totalAudioPacketsLost=0,this.totalAudioPacketsExpected=0,this.totalAudioPacketsRecoveredRed=0,this.totalAudioPacketsRecoveredFec=0}}RedundantAudioRecoveryMetricReport$1.default=RedundantAudioRecoveryMetricReport;var StreamMetricReport$1={};Object.defineProperty(StreamMetricReport$1,"__esModule",{value:!0});class StreamMetricReport{constructor(){this.previousMetrics={},this.currentMetrics={},this.currentStringMetrics={},this.previousObjectMetrics={},this.currentObjectMetrics={}}}StreamMetricReport$1.default=StreamMetricReport;var MeetingSessionLifecycleEvent={};(function(ts){Object.defineProperty(ts,"__esModule",{value:!0}),ts.MeetingSessionLifecycleEvent=void 0;var ns;(function(rs){rs[rs.Connecting=0]="Connecting",rs[rs.Started=1]="Started",rs[rs.Stopped=2]="Stopped"})(ns=ts.MeetingSessionLifecycleEvent||(ts.MeetingSessionLifecycleEvent={})),ts.default=ns})(MeetingSessionLifecycleEvent);var MeetingSessionLifecycleEventCondition={};(function(ts){Object.defineProperty(ts,"__esModule",{value:!0}),ts.MeetingSessionLifecycleEventCondition=void 0;var ns;(function(rs){rs[rs.ConnectingNew=0]="ConnectingNew",rs[rs.ReconnectingExisting=1]="ReconnectingExisting",rs[rs.StartedNew=2]="StartedNew",rs[rs.StartedExisting=3]="StartedExisting",rs[rs.StartedAfterReconnect=4]="StartedAfterReconnect",rs[rs.StoppedCleanly=5]="StoppedCleanly",rs[rs.StoppedWithFailure=6]="StoppedWithFailure"})(ns=ts.MeetingSessionLifecycleEventCondition||(ts.MeetingSessionLifecycleEventCondition={})),ts.default=ns})(MeetingSessionLifecycleEventCondition);var __awaiter$L=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,ns,rs,is){function os(ss){return ss instanceof rs?ss:new rs(function(as){as(ss)})}return new(rs||(rs=Promise))(function(ss,as){function ls(ds){try{us(is.next(ds))}catch(ps){as(ps)}}function cs(ds){try{us(is.throw(ds))}catch(ps){as(ps)}}function us(ds){ds.done?ss(ds.value):os(ds.value).then(ls,cs)}us((is=is.apply(ts,ns||[])).next())})},__importDefault$11=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(StatsCollector$1,"__esModule",{value:!0});const ClientMetricReport_1=__importDefault$11(ClientMetricReport$1),ClientMetricReportDirection_1$2=__importDefault$11(ClientMetricReportDirection),ClientMetricReportMediaType_1$2=__importDefault$11(ClientMetricReportMediaType),RedundantAudioRecoveryMetricReport_1$1=__importDefault$11(RedundantAudioRecoveryMetricReport$1),StreamMetricReport_1=__importDefault$11(StreamMetricReport$1),MeetingSessionLifecycleEvent_1=__importDefault$11(MeetingSessionLifecycleEvent),MeetingSessionLifecycleEventCondition_1=__importDefault$11(MeetingSessionLifecycleEventCondition),IntervalScheduler_1$2=__importDefault$11(IntervalScheduler$1),SignalingProtocol_js_1$b=SignalingProtocol,Types_1$5=Types,AudioLogEvent_1$1=__importDefault$11(AudioLogEvent),VideoLogEvent_1=__importDefault$11(VideoLogEvent);class StatsCollector{constructor(ns,rs,is=StatsCollector.INTERVAL_MS){this.audioVideoController=ns,this.logger=rs,this.interval=is,this.intervalScheduler=null,this.redRecoveryMetricReport=new RedundantAudioRecoveryMetricReport_1$1.default,this.lastRedRecoveryMetricReportConsumedTimestampMs=0,this.videoCodecDegradationHighEncodeCpuCount=0,this.videoCodecDegradationEncodeFailureCount=0,this.metricsAddTime=(os,ss,as)=>{},this.metricsLogEvent=(os,ss)=>{}}toAttribute(ns){return this.toSuffix(ns).substring(1)}toSuffix(ns){return ns.toLowerCase()===ns?"_".concat(ns):ns.toUpperCase()===ns?"_".concat(ns.toLowerCase()):ns.replace(/([A-Z][a-z]+)/g,function(rs){return"_".concat(rs)}).replace(/([A-Z][A-Z]+)/g,function(rs){return"_".concat(rs)}).toLowerCase()}logLatency(ns,rs,is){const os=this.toSuffix(ns);this.logEventTime("meeting"+os,rs,is)}logStateTimeout(ns,rs){const is=this.toSuffix(ns);this.logEvent("meeting_session_state_timeout",Object.assign(Object.assign({},rs),{state:"state".concat(is)}))}logAudioEvent(ns,rs){const is="audio"+this.toSuffix(AudioLogEvent_1$1.default[ns]);this.logEvent(is,rs)}logVideoEvent(ns,rs){const is="video"+this.toSuffix(VideoLogEvent_1.default[ns]);this.logEvent(is,rs)}logEventTime(ns,rs,is={}){const os=Object.assign(Object.assign({},is),{call_id:this.audioVideoController.configuration.meetingId,client_type:StatsCollector.CLIENT_TYPE,metric_type:"latency"});this.logger.debug(()=>"[StatsCollector] ".concat(ns,": ").concat(JSON.stringify(os))),this.metricsAddTime(ns,rs,os)}logMeetingSessionStatus(ns){const rs="".concat(ns.statusCode());this.logEvent(rs);const is={status:rs,status_code:"".concat(ns.statusCode())};this.logEvent("meeting_session_status",is),ns.isTerminal()&&this.logEvent("meeting_session_stopped",is),ns.isAudioConnectionFailure()&&this.logEvent("meeting_session_audio_failed",is),ns.isFailure()&&this.logEvent("meeting_session_failed",is)}logLifecycleEvent(ns,rs){const is={lifecycle_event:"lifecycle".concat(this.toSuffix(MeetingSessionLifecycleEvent_1.default[ns])),lifecycle_event_code:"".concat(ns),lifecycle_event_condition:"condition".concat(this.toSuffix(MeetingSessionLifecycleEventCondition_1.default[rs])),lifecycle_event_condition_code:"".concat(rs)};this.logEvent("meeting_session_lifecycle",is)}logEvent(ns,rs={}){const is=Object.assign(Object.assign({},rs),{call_id:this.audioVideoController.configuration.meetingId,client_type:StatsCollector.CLIENT_TYPE});this.logger.debug(()=>"[StatsCollector] ".concat(ns,": ").concat(JSON.stringify(is))),this.metricsLogEvent(ns,is)}start(ns,rs){return this.intervalScheduler?!1:(this.logger.info("Starting StatsCollector"),this.signalingClient=ns,this.videoStreamIndex=rs,this.clientMetricReport=new ClientMetricReport_1.default(this.logger,this.videoStreamIndex,this.audioVideoController.configuration.credentials.attendeeId),this.intervalScheduler=new IntervalScheduler_1$2.default(this.interval),this.intervalScheduler.start(()=>__awaiter$L(this,void 0,void 0,function*(){yield this.getStatsWrapper()})),!0)}stop(){this.logger.info("Stopping StatsCollector"),this.intervalScheduler&&this.intervalScheduler.stop(),this.intervalScheduler=null}updateMetricValues(ns,rs){const is=rs?this.clientMetricReport.streamMetricReports[Number(ns.ssrc)]:this.clientMetricReport.globalMetricReport;let os;rs?os=this.clientMetricReport.getMetricMap(is.mediaType,is.direction):os=this.clientMetricReport.getMetricMap();for(const ss in ns)ss in os&&(typeof ns[ss]=="number"?(is.previousMetrics[ss]=is.currentMetrics[ss],is.currentMetrics[ss]=ns[ss]):typeof ns[ss]=="string"?is.currentStringMetrics[ss]=ns[ss]:typeof ns[ss]=="object"?(is.previousObjectMetrics[ss]=is.currentObjectMetrics[ss]===void 0?ns[ss]:is.currentObjectMetrics[ss],is.currentObjectMetrics[ss]=ns[ss]):this.logger.error("Unknown metric value type ".concat(typeof ns[ss]," for metric ").concat(ss)))}processRawMetricReports(ns){this.clientMetricReport.currentSsrcs={};const rs=Date.now();for(const is of ns){const os=this.isStreamRawMetricReport(is.type);if(os){const ss=this.clientMetricReport.streamMetricReports[Number(is.ssrc)];if(ss)ss.mediaType===ClientMetricReportMediaType_1$2.default.VIDEO&&ss.direction===ClientMetricReportDirection_1$2.default.UPSTREAM?ss.streamId=this.videoStreamIndex.sendVideoStreamIdFromRid(is.rid):ss.streamId=this.videoStreamIndex.streamIdForSSRC(Number(is.ssrc));else{const as=new StreamMetricReport_1.default;as.mediaType=this.getMediaType(is),as.direction=this.getDirectionType(is),as.mediaType===ClientMetricReportMediaType_1$2.default.VIDEO&&as.direction===ClientMetricReportDirection_1$2.default.UPSTREAM?as.streamId=this.videoStreamIndex.sendVideoStreamIdFromRid(is.rid):this.videoStreamIndex.allStreams().empty()||(as.streamId=this.videoStreamIndex.streamIdForSSRC(Number(is.ssrc)),this.videoStreamIndex.groupIdForSSRC!==void 0&&(as.groupId=this.videoStreamIndex.groupIdForSSRC(Number(is.ssrc)))),this.clientMetricReport.streamMetricReports[Number(is.ssrc)]=as}this.clientMetricReport.currentSsrcs[Number(is.ssrc)]=1}this.updateMetricValues(is,os)}this.clientMetricReport.removeDestroyedSsrcs(),this.clientMetricReport.previousTimestampMs=this.clientMetricReport.currentTimestampMs,this.clientMetricReport.currentTimestampMs=rs,this.clientMetricReport.print()}addStreamMetricDimensionFrames(ns,rs){const is=this.clientMetricReport.getStreamDimensionMap();for(const os in rs.currentStringMetrics)if(os in is){const ss=SignalingProtocol_js_1$b.SdkStreamDimension.create();ss.type=is[os];const as=SignalingProtocol_js_1$b.SdkDimensionValue.create();as.stringValue=rs.currentStringMetrics[os],ss.value=as,ns.dimensions.push(ss)}}addMetricFrame(ns,rs,is,os){const ss=is.type,as=is.transform,ls=is.source,cs=rs.streamMetricFrames.length,us=rs.streamMetricFrames[cs-1];if(ss){const ds=SignalingProtocol_js_1$b.SdkMetric.create();ds.type=ss,ds.value=as(ls||ns,os),os?us.metrics.push(ds):rs.globalMetrics.push(ds)}}addGlobalMetricsToProtobuf(ns){const rs=this.clientMetricReport.getMetricMap();for(const is in this.clientMetricReport.globalMetricReport.currentMetrics)this.addMetricFrame(is,ns,rs[is])}addStreamMetricsToProtobuf(ns){for(const rs in this.clientMetricReport.streamMetricReports){const is=this.clientMetricReport.streamMetricReports[rs],os=SignalingProtocol_js_1$b.SdkStreamMetricFrame.create();os.streamId=is.streamId,os.metrics=[],this.addStreamMetricDimensionFrames(os,is),ns.streamMetricFrames.push(os);const ss=this.clientMetricReport.getMetricMap(is.mediaType,is.direction);for(const as in is.currentMetrics)this.addMetricFrame(as,ns,ss[as],Number(rs));for(const as in is.currentStringMetrics)this.addMetricFrame(as,ns,ss[as],Number(rs));for(const as in is.currentObjectMetrics)this.addMetricFrame(as,ns,ss[as],Number(rs))}}makeClientMetricProtobuf(){const ns=SignalingProtocol_js_1$b.SdkClientMetricFrame.create();return ns.globalMetrics=[],ns.streamMetricFrames=[],this.addGlobalMetricsToProtobuf(ns),this.addStreamMetricsToProtobuf(ns),ns}sendClientMetricProtobuf(ns){this.signalingClient.sendClientMetrics(ns)}isStreamRawMetricReport(ns){return["inbound-rtp","inbound-rtp-red","outbound-rtp","remote-inbound-rtp","remote-outbound-rtp"].includes(ns)}getMediaType(ns){return ns.kind==="audio"?ClientMetricReportMediaType_1$2.default.AUDIO:ClientMetricReportMediaType_1$2.default.VIDEO}getDirectionType(ns){const{type:rs}=ns;return rs==="inbound-rtp"||rs==="remote-outbound-rtp"||rs==="inbound-rtp-red"?ClientMetricReportDirection_1$2.default.DOWNSTREAM:ClientMetricReportDirection_1$2.default.UPSTREAM}isValidStandardRawMetric(ns){return ns.type==="inbound-rtp"||ns.type==="inbound-rtp-red"||ns.type==="outbound-rtp"||ns.type==="remote-inbound-rtp"||ns.type==="remote-outbound-rtp"||ns.type==="candidate-pair"&&ns.state==="succeeded"||ns.type==="media-source"&&ns.kind==="audio"}isValidSsrc(ns){let rs=!0;return this.isStreamRawMetricReport(ns.type)&&this.getDirectionType(ns)===ClientMetricReportDirection_1$2.default.DOWNSTREAM&&this.getMediaType(ns)===ClientMetricReportMediaType_1$2.default.VIDEO&&(rs=this.videoStreamIndex.streamIdForSSRC(Number(ns.ssrc))>0),rs}isValidRawMetricReport(ns){return this.isValidStandardRawMetric(ns)&&this.isValidSsrc(ns)}filterRawMetricReports(ns){const rs=[];for(const is of ns)this.isValidRawMetricReport(is)&&rs.push(is);return rs}handleRawMetricReports(ns){const rs=this.filterRawMetricReports(ns);this.logger.debug(()=>"Filtered raw metrics : ".concat(JSON.stringify(rs)));const is=[];this.maybeAddRedRecoveryMetrics(is),this.addVideoCodecDegradationMetrics(is),this.clientMetricReport.customStatsReports=is,rs.push(...is),this.processRawMetricReports(rs);const os=this.makeClientMetricProtobuf();this.sendClientMetricProtobuf(os),this.audioVideoController.forEachObserver(ss=>{Types_1$5.Maybe.of(ss.metricsDidReceive).map(as=>as.bind(ss)(this.clientMetricReport.clone()))})}getStatsWrapper(){return __awaiter$L(this,void 0,void 0,function*(){if(!this.audioVideoController.rtcPeerConnection)return;const ns=[];try{const rs=yield this.audioVideoController.rtcPeerConnection.getStats();this.clientMetricReport.rtcStatsReport=rs,rs.forEach(is=>{ns.push(is)}),this.handleRawMetricReports(ns)}catch(rs){this.logger.error(rs.message)}})}overrideObservableMetric(ns,rs){this.clientMetricReport.overrideObservableMetric(ns,rs)}recoveryMetricsDidReceive(ns){this.redRecoveryMetricReport=ns}maybeAddRedRecoveryMetrics(ns){this.redRecoveryMetricReport.currentTimestampMs!==this.lastRedRecoveryMetricReportConsumedTimestampMs&&(ns.push({kind:"audio",type:"inbound-rtp-red",ssrc:this.redRecoveryMetricReport.ssrc,timestamp:this.redRecoveryMetricReport.currentTimestampMs,totalAudioPacketsLost:this.redRecoveryMetricReport.totalAudioPacketsLost,totalAudioPacketsExpected:this.redRecoveryMetricReport.totalAudioPacketsExpected,totalAudioPacketsRecoveredRed:this.redRecoveryMetricReport.totalAudioPacketsRecoveredRed,totalAudioPacketsRecoveredFec:this.redRecoveryMetricReport.totalAudioPacketsRecoveredFec}),this.lastRedRecoveryMetricReportConsumedTimestampMs=this.redRecoveryMetricReport.currentTimestampMs)}videoCodecDegradationHighEncodeCpuDidReceive(){this.videoCodecDegradationHighEncodeCpuCount+=1}videoCodecDegradationEncodeFailureDidReceive(){this.videoCodecDegradationEncodeFailureCount+=1}addVideoCodecDegradationMetrics(ns){const rs=this.clientMetricReport.getVideoUpstreamSsrc();rs!==null&&ns.push({kind:"video",type:"outbound-rtp",ssrc:rs,timestamp:Date.now(),videoCodecDegradationHighEncodeCpu:this.videoCodecDegradationHighEncodeCpuCount,videoCodecDegradationEncodeFailure:this.videoCodecDegradationEncodeFailureCount}),this.videoCodecDegradationHighEncodeCpuCount=0,this.videoCodecDegradationEncodeFailureCount=0}}StatsCollector$1.default=StatsCollector;StatsCollector.INTERVAL_MS=1e3;StatsCollector.CLIENT_TYPE="amazon-chime-sdk-js";var FinishGatheringICECandidatesTask$1={},__awaiter$K=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,ns,rs,is){function os(ss){return ss instanceof rs?ss:new rs(function(as){as(ss)})}return new(rs||(rs=Promise))(function(ss,as){function ls(ds){try{us(is.next(ds))}catch(ps){as(ps)}}function cs(ds){try{us(is.throw(ds))}catch(ps){as(ps)}}function us(ds){ds.done?ss(ds.value):os(ds.value).then(ls,cs)}us((is=is.apply(ts,ns||[])).next())})},__importDefault$10=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(FinishGatheringICECandidatesTask$1,"__esModule",{value:!0});const MeetingSessionStatusCode_1$4=__importDefault$10(MeetingSessionStatusCode),SDP_1$3=__importDefault$10(SDP$1),BaseTask_1$j=__importDefault$10(BaseTask$1);class FinishGatheringICECandidatesTask extends BaseTask_1$j.default{constructor(ns,rs=FinishGatheringICECandidatesTask.CHROME_VPN_TIMEOUT_MS){super(ns.logger),this.context=ns,this.chromeVpnTimeoutMs=rs,this.taskName="FinishGatheringICECandidatesTask"}removeEventListener(){this.context.peer&&(this.context.peer.removeEventListener("icecandidate",this.context.iceCandidateHandler),this.context.turnCredentials||this.context.peer.removeEventListener("icegatheringstatechange",this.context.iceGatheringStateEventHandler))}cancel(){let ns;this.context.browserBehavior.requiresIceCandidateGatheringTimeoutWorkaround()&&this.chromeVpnTimeoutMs<this.context.meetingSessionConfiguration.connectionTimeoutMs&&Date.now()-this.startTimestampMs>this.chromeVpnTimeoutMs&&(ns=new Error("canceling ".concat(this.name()," due to the meeting status code: ").concat(MeetingSessionStatusCode_1$4.default.ICEGatheringTimeoutWorkaround))),this.cancelPromise&&(ns=ns||new Error("canceling ".concat(this.name())),this.cancelPromise(ns),delete this.cancelPromise)}run(){return __awaiter$K(this,void 0,void 0,function*(){if(this.context.peer||this.logAndThrow("session does not have peer connection; bypass ice gathering"),this.context.browserBehavior.requiresCheckForSdpConnectionAttributes()){if(new SDP_1$3.default(this.context.peer.localDescription.sdp).hasCandidatesForAllMLines()){this.context.logger.info("ice gathering already complete; bypass gathering, current local description ".concat(this.context.peer.localDescription.sdp));return}}else this.context.logger.info("iOS device does not require checking for connection attributes in SDP, current local description ".concat(this.context.peer.localDescription.sdp));if((this.context.browserBehavior.hasFirefoxWebRTC()||this.context.peer.iceGatheringState==="complete")&&new SDP_1$3.default(this.context.peer.localDescription.sdp).hasCandidates()){this.context.logger.info("ice gathering state is complete and candidates are in SDP; bypass gathering");return}try{yield new Promise((ns,rs)=>{this.cancelPromise=is=>{this.removeEventListener(),rs(is)},this.context.turnCredentials||(this.context.iceGatheringStateEventHandler=()=>{if(this.context.peer.iceGatheringState==="complete"){this.removeEventListener(),ns(),delete this.cancelPromise;return}},this.context.peer.addEventListener("icegatheringstatechange",this.context.iceGatheringStateEventHandler)),this.context.iceCandidateHandler=is=>{if(this.context.logger.info("ice candidate: ".concat(is.candidate?is.candidate.candidate:"(null)"," state: ").concat(this.context.peer.iceGatheringState)),is.candidate&&(SDP_1$3.default.isRTPCandidate(is.candidate.candidate)&&this.context.iceCandidates.push(is.candidate),this.context.turnCredentials&&this.context.iceCandidates.length>=1)){this.context.logger.info("gathered at least one relay candidate"),this.removeEventListener(),ns(),delete this.cancelPromise;return}this.context.peer.iceGatheringState==="complete"&&(this.context.logger.info("done gathering ice candidates"),this.removeEventListener(),!new SDP_1$3.default(this.context.peer.localDescription.sdp).hasCandidates()||this.context.iceCandidates.length===0?(rs(new Error("no ice candidates were gathered")),delete this.cancelPromise):(ns(),delete this.cancelPromise))},this.context.peer.addEventListener("icecandidate",this.context.iceCandidateHandler),this.startTimestampMs=Date.now()})}catch(ns){throw ns}finally{this.startTimestampMs&&(this.context.iceGatheringDurationMs=Math.round(Date.now()-this.startTimestampMs))}})}}FinishGatheringICECandidatesTask$1.default=FinishGatheringICECandidatesTask;FinishGatheringICECandidatesTask.CHROME_VPN_TIMEOUT_MS=5e3;var JoinAndReceiveIndexTask$1={},MeetingSessionTURNCredentials$1={};Object.defineProperty(MeetingSessionTURNCredentials$1,"__esModule",{value:!0});class MeetingSessionTURNCredentials{constructor(){this.username=null,this.password=null,this.ttl=null,this.uris=null}}MeetingSessionTURNCredentials$1.default=MeetingSessionTURNCredentials;var SignalingClientJoin$1={},__importDefault$$=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(SignalingClientJoin$1,"__esModule",{value:!0});const ServerSideNetworkAdaption_1$5=__importDefault$$(ServerSideNetworkAdaption);class SignalingClientJoin{constructor(ns){this.applicationMetadata=ns,this.serverSideNetworkAdaption=ServerSideNetworkAdaption_1$5.default.Default,this.supportedServerSideNetworkAdaptions=[],this.wantsAllTemporalLayersInIndex=!1,this.disablePeriodicKeyframeRequestOnContentSender=!1}}SignalingClientJoin$1.default=SignalingClientJoin;var __createBinding$2=commonjsGlobal$1&&commonjsGlobal$1.__createBinding||(Object.create?function(ts,ns,rs,is){is===void 0&&(is=rs),Object.defineProperty(ts,is,{enumerable:!0,get:function(){return ns[rs]}})}:function(ts,ns,rs,is){is===void 0&&(is=rs),ts[is]=ns[rs]}),__setModuleDefault$1=commonjsGlobal$1&&commonjsGlobal$1.__setModuleDefault||(Object.create?function(ts,ns){Object.defineProperty(ts,"default",{enumerable:!0,value:ns})}:function(ts,ns){ts.default=ns}),__importStar$2=commonjsGlobal$1&&commonjsGlobal$1.__importStar||function(ts){if(ts&&ts.__esModule)return ts;var ns={};if(ts!=null)for(var rs in ts)rs!=="default"&&Object.prototype.hasOwnProperty.call(ts,rs)&&__createBinding$2(ns,ts,rs);return __setModuleDefault$1(ns,ts),ns},__awaiter$J=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,ns,rs,is){function os(ss){return ss instanceof rs?ss:new rs(function(as){as(ss)})}return new(rs||(rs=Promise))(function(ss,as){function ls(ds){try{us(is.next(ds))}catch(ps){as(ps)}}function cs(ds){try{us(is.throw(ds))}catch(ps){as(ps)}}function us(ds){ds.done?ss(ds.value):os(ds.value).then(ls,cs)}us((is=is.apply(ts,ns||[])).next())})},__importDefault$_=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(JoinAndReceiveIndexTask$1,"__esModule",{value:!0});const MeetingSessionStatus_1$2=__importDefault$_(MeetingSessionStatus$1),MeetingSessionStatusCode_1$3=__importDefault$_(MeetingSessionStatusCode),MeetingSessionTURNCredentials_1=__importDefault$_(MeetingSessionTURNCredentials$1),ServerSideNetworkAdaption_1$4=__importStar$2(ServerSideNetworkAdaption),SignalingClientEventType_1$8=__importDefault$_(SignalingClientEventType),SignalingClientJoin_1=__importDefault$_(SignalingClientJoin$1),SignalingProtocol_js_1$a=SignalingProtocol,BaseTask_1$i=__importDefault$_(BaseTask$1);class JoinAndReceiveIndexTask extends BaseTask_1$i.default{constructor(ns){super(ns.logger),this.context=ns,this.taskName="JoinAndReceiveIndexTask",this.taskCanceler=null}cancel(){this.taskCanceler&&(this.taskCanceler.cancel(),this.taskCanceler=null)}run(){return __awaiter$J(this,void 0,void 0,function*(){const ns=yield new Promise((rs,is)=>{const os=this.context;os.turnCredentials=null;class ss{constructor(us){this.signalingClient=us}cancel(){this.signalingClient.removeObserver(this),is(new Error("JoinAndReceiveIndexTask got canceled while waiting for SdkIndexFrame"))}handleSignalingClientEvent(us){if(us.type===SignalingClientEventType_1$8.default.WebSocketClosed){let ps="The signaling connection was closed with code ".concat(us.closeCode," and reason: ").concat(us.closeReason);os.logger.warn(ps);let hs=MeetingSessionStatusCode_1$3.default.SignalingBadRequest;us.closeCode===4410?(ps="The meeting already ended.",os.logger.warn(ps),hs=MeetingSessionStatusCode_1$3.default.MeetingEnded):us.closeCode>=4500&&us.closeCode<4600&&(hs=MeetingSessionStatusCode_1$3.default.SignalingInternalServerError),os.audioVideoController.handleMeetingSessionStatus(new MeetingSessionStatus_1$2.default(hs),new Error(ps));return}if(us.type!==SignalingClientEventType_1$8.default.ReceivedSignalFrame)return;if(us.message.type===SignalingProtocol_js_1$a.SdkSignalFrame.Type.JOIN_ACK){const ps=us.message.joinack;if(!ps){os.audioVideoController.handleMeetingSessionStatus(new MeetingSessionStatus_1$2.default(MeetingSessionStatusCode_1$3.default.SignalingRequestFailed),new Error("Join ACK message did not include expected frame"));return}if(ps.videoSubscriptionLimit&&(os.videoSubscriptionLimit=ps.videoSubscriptionLimit),os.serverSupportsCompression=ps.wantsCompressedSdp,ps.defaultServerSideNetworkAdaption!==void 0&&ps.defaultServerSideNetworkAdaption!==ServerSideNetworkAdaption_1$4.default.Default&&os.videoDownlinkBandwidthPolicy.setServerSideNetworkAdaption!==void 0){const hs=ps.defaultServerSideNetworkAdaption;os.logger.info("Overriding server side network adaption value to ".concat(hs)),os.videoDownlinkBandwidthPolicy.setServerSideNetworkAdaption(ServerSideNetworkAdaption_1$4.convertServerSideNetworkAdaptionEnumFromSignaled(hs))}ps&&ps.turnCredentials?(os.turnCredentials=new MeetingSessionTURNCredentials_1.default,os.turnCredentials.username=ps.turnCredentials.username,os.turnCredentials.password=ps.turnCredentials.password,os.turnCredentials.ttl=ps.turnCredentials.ttl,os.turnCredentials.uris=ps.turnCredentials.uris.map(hs=>os.meetingSessionConfiguration.urls.urlRewriter(hs)).filter(hs=>!!hs)):os.logger.error("missing TURN credentials in JoinAckFrame");return}if(us.message.type!==SignalingProtocol_js_1$a.SdkSignalFrame.Type.INDEX)return;this.signalingClient.removeObserver(this);const ds=us.message.index;rs(ds)}}const as=new ss(this.context.signalingClient);this.context.signalingClient.registerObserver(as),this.taskCanceler=as,this.context.previousSdpAnswerAsString="",this.context.previousSdpOffer=null,this.context.serverSupportsCompression=!1;const ls=new SignalingClientJoin_1.default(this.context.meetingSessionConfiguration.applicationMetadata);this.context.videoDownlinkBandwidthPolicy.getServerSideNetworkAdaption!==void 0&&this.context.videoDownlinkBandwidthPolicy.supportedServerSideNetworkAdaptions!==void 0&&(ls.serverSideNetworkAdaption=this.context.videoDownlinkBandwidthPolicy.getServerSideNetworkAdaption(),ls.supportedServerSideNetworkAdaptions=this.context.videoDownlinkBandwidthPolicy.supportedServerSideNetworkAdaptions()),this.context.videoDownlinkBandwidthPolicy.wantsAllTemporalLayersInIndex!==void 0&&(ls.wantsAllTemporalLayersInIndex=this.context.videoDownlinkBandwidthPolicy.wantsAllTemporalLayersInIndex()),ls.disablePeriodicKeyframeRequestOnContentSender=this.context.meetingSessionConfiguration.disablePeriodicKeyframeRequestOnContentSender,this.context.signalingClient.join(ls)});this.context.logger.info("received first index ".concat(JSON.stringify(ns))),this.context.indexFrame=ns})}}JoinAndReceiveIndexTask$1.default=JoinAndReceiveIndexTask;var LeaveAndReceiveLeaveAckTask$1={},__awaiter$I=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,ns,rs,is){function os(ss){return ss instanceof rs?ss:new rs(function(as){as(ss)})}return new(rs||(rs=Promise))(function(ss,as){function ls(ds){try{us(is.next(ds))}catch(ps){as(ps)}}function cs(ds){try{us(is.throw(ds))}catch(ps){as(ps)}}function us(ds){ds.done?ss(ds.value):os(ds.value).then(ls,cs)}us((is=is.apply(ts,ns||[])).next())})},__importDefault$Z=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(LeaveAndReceiveLeaveAckTask$1,"__esModule",{value:!0});const SignalingClientEventType_1$7=__importDefault$Z(SignalingClientEventType),SignalingProtocol_js_1$9=SignalingProtocol,BaseTask_1$h=__importDefault$Z(BaseTask$1);class LeaveAndReceiveLeaveAckTask extends BaseTask_1$h.default{constructor(ns){super(ns.logger),this.context=ns,this.taskName="LeaveAndReceiveLeaveAckTask",this.taskCanceler=null}cancel(){this.taskCanceler&&(this.taskCanceler.cancel(),this.taskCanceler=null)}run(){return __awaiter$I(this,void 0,void 0,function*(){this.context.signalingClient.ready()&&(this.context.signalingClient.leave(),this.context.logger.info("sent leave"),yield this.receiveLeaveAck())})}receiveLeaveAck(){return new Promise((ns,rs)=>{class is{constructor(as,ls){this.signalingClient=as,this.logger=ls}cancel(){this.signalingClient.removeObserver(this),rs(new Error("LeaveAndReceiveLeaveAckTask got canceled while waiting for IndexFrame"))}handleSignalingClientEvent(as){if(as.isConnectionTerminated()){this.signalingClient.removeObserver(this),this.logger.info("LeaveAndReceiveLeaveAckTask connection terminated"),ns();return}as.type===SignalingClientEventType_1$7.default.ReceivedSignalFrame&&as.message.type===SignalingProtocol_js_1$9.SdkSignalFrame.Type.LEAVE_ACK&&(this.signalingClient.removeObserver(this),this.logger.info("got leave ack"),ns())}}const os=new is(this.context.signalingClient,this.context.logger);this.taskCanceler=os,this.context.signalingClient.registerObserver(os)})}}LeaveAndReceiveLeaveAckTask$1.default=LeaveAndReceiveLeaveAckTask;var ListenForVolumeIndicatorsTask$1={},__awaiter$H=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,ns,rs,is){function os(ss){return ss instanceof rs?ss:new rs(function(as){as(ss)})}return new(rs||(rs=Promise))(function(ss,as){function ls(ds){try{us(is.next(ds))}catch(ps){as(ps)}}function cs(ds){try{us(is.throw(ds))}catch(ps){as(ps)}}function us(ds){ds.done?ss(ds.value):os(ds.value).then(ls,cs)}us((is=is.apply(ts,ns||[])).next())})},__importDefault$Y=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(ListenForVolumeIndicatorsTask$1,"__esModule",{value:!0});const SignalingClientEventType_1$6=__importDefault$Y(SignalingClientEventType),SignalingProtocol_js_1$8=SignalingProtocol,BaseTask_1$g=__importDefault$Y(BaseTask$1);class ListenForVolumeIndicatorsTask extends BaseTask_1$g.default{constructor(ns){super(ns.logger),this.context=ns,this.taskName="ListenForVolumeIndicatorsTask",this.realtimeMuteAndUnmuteHandler=rs=>{this.context.signalingClient.mute(rs)}}run(){return __awaiter$H(this,void 0,void 0,function*(){this.context.removableObservers.push(this),this.context.signalingClient.registerObserver(this),this.context.realtimeController.realtimeSubscribeToMuteAndUnmuteLocalAudio(this.realtimeMuteAndUnmuteHandler)})}removeObserver(){this.context.realtimeController.realtimeUnsubscribeToMuteAndUnmuteLocalAudio(this.realtimeMuteAndUnmuteHandler),this.context.signalingClient.removeObserver(this)}handleSignalingClientEvent(ns){if(ns.type===SignalingClientEventType_1$6.default.ReceivedSignalFrame){if(ns.message.type===SignalingProtocol_js_1$8.SdkSignalFrame.Type.AUDIO_STREAM_ID_INFO){const rs=ns.message.audioStreamIdInfo;this.context.volumeIndicatorAdapter.sendRealtimeUpdatesForAudioStreamIdInfo(rs)}else if(ns.message.type===SignalingProtocol_js_1$8.SdkSignalFrame.Type.AUDIO_METADATA){const rs=ns.message.audioMetadata;this.context.volumeIndicatorAdapter.sendRealtimeUpdatesForAudioMetadata(rs)}}}}ListenForVolumeIndicatorsTask$1.default=ListenForVolumeIndicatorsTask;var MonitorTask$1={},ReconnectionHealthPolicy$1={},__importDefault$X=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(ReconnectionHealthPolicy$1,"__esModule",{value:!0});const BaseConnectionHealthPolicy_1$2=__importDefault$X(BaseConnectionHealthPolicy$1);class ReconnectionHealthPolicy extends BaseConnectionHealthPolicy_1$2.default{constructor(ns,rs,is){super(rs,is,"Reconnection Health"),this.logger=ns,this.audioDelayPointsOverMaximum=0,ReconnectionHealthPolicy.CONNECTION_UNHEALTHY_THRESHOLD=rs.connectionUnhealthyThreshold,ReconnectionHealthPolicy.CONNECTION_WAIT_TIME_MS=rs.connectionWaitTimeMs,ReconnectionHealthPolicy.MISSED_PONGS_THRESHOLD=rs.missedPongsUpperThreshold,ReconnectionHealthPolicy.MAXIMUM_AUDIO_DELAY_MS=rs.maximumAudioDelayMs,ReconnectionHealthPolicy.MAXIMUM_AUDIO_DELAY_DATA_POINTS=rs.maximumAudioDelayDataPoints}health(){if(this.currentData.isConnectionStartRecent(ReconnectionHealthPolicy.CONNECTION_WAIT_TIME_MS))return 1;const rs=this.currentData.consecutiveStatsWithNoPackets>=ReconnectionHealthPolicy.CONNECTION_UNHEALTHY_THRESHOLD,is=this.currentData.consecutiveMissedPongs>=ReconnectionHealthPolicy.MISSED_PONGS_THRESHOLD;this.currentData.audioSpeakerDelayMs>ReconnectionHealthPolicy.MAXIMUM_AUDIO_DELAY_MS?this.audioDelayPointsOverMaximum+=1:this.audioDelayPointsOverMaximum=0;const os=this.audioDelayPointsOverMaximum>ReconnectionHealthPolicy.MAXIMUM_AUDIO_DELAY_DATA_POINTS;return os&&(this.audioDelayPointsOverMaximum=0),rs||is||os?(this.logger.warn("reconnection recommended due to: no packets received: ".concat(rs,", missed pongs: ").concat(is,", bad audio delay: ").concat(os)),0):1}}ReconnectionHealthPolicy$1.default=ReconnectionHealthPolicy;var SendingAudioFailureConnectionHealthPolicy$1={},__importDefault$W=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(SendingAudioFailureConnectionHealthPolicy$1,"__esModule",{value:!0});const BaseConnectionHealthPolicy_1$1=__importDefault$W(BaseConnectionHealthPolicy$1);class SendingAudioFailureConnectionHealthPolicy extends BaseConnectionHealthPolicy_1$1.default{constructor(ns,rs,is){super(rs,is,"Sending Audio Health"),this.logger=ns,this.sendingAudioFailureSamplesToConsider=rs.sendingAudioFailureSamplesToConsider>0?rs.sendingAudioFailureSamplesToConsider:1,this.sendingAudioFailureInitialWaitTimeMs=rs.sendingAudioFailureInitialWaitTimeMs,this.maximumTimesToWarn=rs.maximumTimesToWarn,this.coolDownTimeMs=rs.cooldownTimeMs,this.lastWarnTimestampMs=0,this.warnCount=0}isSendingAudioUnhealthy(){const ns=!this.currentData.isConnectionStartRecent(this.sendingAudioFailureInitialWaitTimeMs),rs=this.currentData.consecutiveStatsWithNoAudioPacketsSent>=this.sendingAudioFailureSamplesToConsider;return ns&&rs}health(){if(this.isSendingAudioUnhealthy()){const ns=Date.now()-this.lastWarnTimestampMs<this.coolDownTimeMs;return this.currentHealth>this.minimumHealth()&&!ns?(this.logger.warn("Sending Audio is unhealthy for ".concat(this.sendingAudioFailureSamplesToConsider," seconds consecutively.")),this.warnCount++,this.warnCount>this.maximumTimesToWarn?(this.logger.warn("SendingAudioFailure health policy maximum warnings breached. Falling back to reporting healthy."),this.maximumHealth()):(this.lastWarnTimestampMs=Date.now(),this.minimumHealth())):this.currentHealth}return this.maximumHealth()}}SendingAudioFailureConnectionHealthPolicy$1.default=SendingAudioFailureConnectionHealthPolicy;var UnusableAudioWarningConnectionHealthPolicy$1={},__importDefault$V=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(UnusableAudioWarningConnectionHealthPolicy$1,"__esModule",{value:!0});const BaseConnectionHealthPolicy_1=__importDefault$V(BaseConnectionHealthPolicy$1);class UnusableAudioWarningConnectionHealthPolicy extends BaseConnectionHealthPolicy_1.default{constructor(ns,rs){super(ns,rs,"Unusable Audio Warning"),this.coolDownTimeMs=ns.cooldownTimeMs,this.pastSamplesToConsider=ns.pastSamplesToConsider,this.fractionalLoss=ns.fractionalLoss,this.packetsExpected=ns.packetsExpected,this.maximumTimesToWarn=ns.maximumTimesToWarn,this.lastWarnTimestampMs=0,this.warnCount=0}calculateFractionalLoss(){if(this.currentData.packetsReceivedInLastMinute.length<this.pastSamplesToConsider)return 0;const ns=this.pastSamplesToConsider,rs=ns*this.packetsExpected;let is=0;for(let os=0;os<ns;os++)is+=this.currentData.packetsReceivedInLastMinute[os];return Math.min(Math.max(1-is/rs,0),1)}health(){return Date.now()-this.lastWarnTimestampMs<this.coolDownTimeMs?this.currentHealth:this.calculateFractionalLoss()>=this.fractionalLoss?this.currentHealth!==0&&(this.lastWarnTimestampMs=Date.now(),this.warnCount++,this.warnCount>this.maximumTimesToWarn)?1:0:1}}UnusableAudioWarningConnectionHealthPolicy$1.default=UnusableAudioWarningConnectionHealthPolicy;var __awaiter$G=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,ns,rs,is){function os(ss){return ss instanceof rs?ss:new rs(function(as){as(ss)})}return new(rs||(rs=Promise))(function(ss,as){function ls(ds){try{us(is.next(ds))}catch(ps){as(ps)}}function cs(ds){try{us(is.throw(ds))}catch(ps){as(ps)}}function us(ds){ds.done?ss(ds.value):os(ds.value).then(ls,cs)}us((is=is.apply(ts,ns||[])).next())})},__importDefault$U=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(MonitorTask$1,"__esModule",{value:!0});const ClientMetricReportDirection_1$1=__importDefault$U(ClientMetricReportDirection),ClientMetricReportMediaType_1$1=__importDefault$U(ClientMetricReportMediaType),ReconnectionHealthPolicy_1=__importDefault$U(ReconnectionHealthPolicy$1),SendingAudioFailureConnectionHealthPolicy_1=__importDefault$U(SendingAudioFailureConnectionHealthPolicy$1),UnusableAudioWarningConnectionHealthPolicy_1=__importDefault$U(UnusableAudioWarningConnectionHealthPolicy$1),VideoEncodingConnectionHealthPolicyName_1=__importDefault$U(VideoEncodingConnectionHealthPolicyName),MeetingSessionStatus_1$1=__importDefault$U(MeetingSessionStatus$1),MeetingSessionStatusCode_1$2=__importDefault$U(MeetingSessionStatusCode),VideoCodecCapability_1$2=__importDefault$U(VideoCodecCapability$1),SignalingClientEventType_1$5=__importDefault$U(SignalingClientEventType),SignalingProtocol_1=SignalingProtocol,AudioLogEvent_1=__importDefault$U(AudioLogEvent),Types_1$4=Types,BaseTask_1$f=__importDefault$U(BaseTask$1);class MonitorTask extends BaseTask_1$f.default{constructor(ns,rs,is){super(ns.logger),this.context=ns,this.initialConnectionHealthData=is,this.taskName="MonitorTask",this.prevSignalStrength=1,this.currentAvailableStreamAvgBitrates=null,this.hasSignalingError=!1,this.presenceHandlerCalled=!1,this.isResubscribeCheckPaused=!1,this.pendingMetricsReport=void 0,this.isMeetingConnected=!1,this.videoEncodingHealthPolicies=[],this.checkAndSendWeakSignalEvent=os=>{const ss=os<1,as=this.prevSignalStrength<1,ls=ss?as?null:AudioLogEvent_1.default.RedmicStartLoss:as?AudioLogEvent_1.default.RedmicEndLoss:null;ls&&this.context.statsCollector.logAudioEvent(ls),this.prevSignalStrength=os},this.realtimeFatalErrorCallback=os=>{this.logger.error("realtime error: ".concat(os,": ").concat(os.stack)),this.context.audioVideoController.handleMeetingSessionStatus(new MeetingSessionStatus_1$1.default(MeetingSessionStatusCode_1$2.default.RealtimeApiFailed),os)},this.realtimeAttendeeIdPresenceHandler=(os,ss)=>{var as;const ls=this.context.meetingSessionConfiguration.credentials.attendeeId;this.logger.info("attendeePresenceReceived: ".concat(ls)),ls===os&&ss&&!this.presenceHandlerCalled&&(this.presenceHandlerCalled=!0,this.context.attendeePresenceDurationMs=Date.now()-this.context.startAudioVideoTimestamp,(as=this.context.eventController)===null||as===void 0||as.publishEvent("attendeePresenceReceived",{attendeePresenceDurationMs:this.context.attendeePresenceDurationMs}))},this.generateBaseAudioVideoEventAttributes=()=>{const{signalingOpenDurationMs:os,startTimeMs:ss,iceGatheringDurationMs:as,attendeePresenceDurationMs:ls,meetingStartDurationMs:cs}=this.context;return{meetingDurationMs:ss===null?0:Math.round(Date.now()-ss),signalingOpenDurationMs:os,iceGatheringDurationMs:as,attendeePresenceDurationMs:ls,meetingStartDurationMs:cs}},this.generateAudioVideoEventAttributesForReceivingAudioDropped=()=>{const os=this.generateBaseAudioVideoEventAttributes();return Object.assign(Object.assign({},os),{maxVideoTileCount:this.context.maxVideoTileCount,poorConnectionCount:this.context.poorConnectionCount})},this.reconnectionHealthPolicy=new ReconnectionHealthPolicy_1.default(ns.logger,Object.assign({},rs),this.initialConnectionHealthData.clone()),this.unusableAudioWarningHealthPolicy=new UnusableAudioWarningConnectionHealthPolicy_1.default(Object.assign({},rs),this.initialConnectionHealthData.clone()),this.sendingAudioFailureHealthPolicy=new SendingAudioFailureConnectionHealthPolicy_1.default(ns.logger,Object.assign({},rs),this.initialConnectionHealthData.clone());for(const os of rs.videoEncodingHealthPolicies)this.videoEncodingHealthPolicies.push(new os(Object.assign({},rs),this.initialConnectionHealthData.clone()))}removeObserver(){this.context.audioVideoController.removeObserver(this),this.context.realtimeController.realtimeUnsubscribeToFatalError(this.realtimeFatalErrorCallback),this.context.realtimeController.realtimeUnsubscribeToLocalSignalStrengthChange(this.checkAndSendWeakSignalEvent),this.context.realtimeController.realtimeUnsubscribeToAttendeeIdPresence(this.realtimeAttendeeIdPresenceHandler),this.context.signalingClient.removeObserver(this)}run(){return __awaiter$G(this,void 0,void 0,function*(){this.context.removableObservers.push(this),this.context.audioVideoController.addObserver(this),this.context.realtimeController.realtimeSubscribeToFatalError(this.realtimeFatalErrorCallback),this.context.realtimeController.realtimeSubscribeToLocalSignalStrengthChange(this.checkAndSendWeakSignalEvent),this.context.realtimeController.realtimeSubscribeToAttendeeIdPresence(this.realtimeAttendeeIdPresenceHandler),this.context.connectionMonitor.start(),this.context.statsCollector.start(this.context.signalingClient,this.context.videoStreamIndex),this.context.signalingClient.registerObserver(this)})}pauseResubscribeCheck(){this.isResubscribeCheckPaused=!0}resumeResubscribeCheck(){this.isResubscribeCheckPaused&&(this.isResubscribeCheckPaused=!1,this.pendingMetricsReport&&(this.context.logger.info("Resuming resubscribe check with pending metrics report"),this.checkResubscribe(this.pendingMetricsReport)&&this.context.audioVideoController.update({needsRenegotiation:!1})))}videoTileDidUpdate(ns){this.context.maxVideoTileCount=Math.max(this.context.maxVideoTileCount,this.context.videoTileController.getAllVideoTiles().length)}checkResubscribe(ns){if(this.isResubscribeCheckPaused){this.context.logger.info("Resubscribe check is paused, setting incoming client metric report as pending"),this.pendingMetricsReport=ns;return}else this.pendingMetricsReport=void 0;const rs=ns.getObservableMetrics(),is=rs.availableOutgoingBitrate,os=rs.nackCountReceivedPerSecond;let ss=!1;this.context.videoDownlinkBandwidthPolicy.updateMetrics(ns);const as=this.context.videoDownlinkBandwidthPolicy.wantsResubscribe();if(ss=ss||as,as){const ls=this.context.videoDownlinkBandwidthPolicy.chooseSubscriptions();this.context.videosToReceive=ls.truncate(this.context.videoSubscriptionLimit),ls.size()>this.context.videosToReceive.size()&&this.logger.warn("Video receive limit exceeded. Limiting the videos to ".concat(this.context.videosToReceive.size(),". Please consider using AllHighestVideoBandwidthPolicy or VideoPriorityBasedPolicy along with chooseRemoteVideoSources api to select the video sources to be displayed.")),this.logger.info("trigger resubscribe for down=".concat(as,"; videosToReceive=[").concat(this.context.videosToReceive.array(),"]"))}if(this.context.videoTileController.hasStartedLocalVideoTile()){this.context.videoUplinkBandwidthPolicy.updateConnectionMetric({uplinkKbps:is/1e3,nackCountPerSecond:os});const ls=this.context.videoUplinkBandwidthPolicy.wantsResubscribe();ss=ss||ls,ls&&(this.logger.info("trigger resubscribe for up=".concat(ls,"; videosToReceive=[").concat(this.context.videosToReceive.array(),"]")),this.context.videoUplinkBandwidthPolicy.chooseEncodingParameters())}return ss}metricsDidReceive(ns){if(this.checkResubscribe(ns)&&this.context.audioVideoController.update({needsRenegotiation:!1}),!this.currentAvailableStreamAvgBitrates)return;const rs=ns.streamMetricReports,is=new Map;for(const os in rs)rs[os].mediaType===ClientMetricReportMediaType_1$1.default.VIDEO&&rs[os].direction===ClientMetricReportDirection_1$1.default.DOWNSTREAM&&is.set(rs[os].streamId,rs[os])}connectionHealthDidChange(ns){ns.consecutiveMissedPongs===0&&this.context.reconnectController&&this.context.reconnectController.setLastActiveTimestampMs(Date.now()),this.applyHealthPolicy(this.reconnectionHealthPolicy,ns,()=>{this.context.audioVideoController.handleMeetingSessionStatus(new MeetingSessionStatus_1$1.default(MeetingSessionStatusCode_1$2.default.ConnectionHealthReconnect),null)}),this.applyHealthPolicy(this.unusableAudioWarningHealthPolicy,ns,()=>{var rs;this.context.poorConnectionCount+=1;const is=this.generateAudioVideoEventAttributesForReceivingAudioDropped();(rs=this.context.eventController)===null||rs===void 0||rs.publishEvent("receivingAudioDropped",is),this.context.videoTileController.haveVideoTilesWithStreams()?this.context.audioVideoController.forEachObserver(os=>{Types_1$4.Maybe.of(os.connectionDidSuggestStopVideo).map(ss=>ss.bind(os)())}):this.context.audioVideoController.forEachObserver(os=>{Types_1$4.Maybe.of(os.connectionDidBecomePoor).map(ss=>ss.bind(os)())})},()=>{this.context.audioVideoController.forEachObserver(rs=>{Types_1$4.Maybe.of(rs.connectionDidBecomeGood).map(is=>is.bind(rs)())})});for(const rs of this.videoEncodingHealthPolicies)this.applyHealthPolicy(rs,ns,()=>{switch(this.degradeVideoCodec(rs.name),rs.name){case VideoEncodingConnectionHealthPolicyName_1.default.VideoEncodingCpuHealth:this.context.statsCollector.videoCodecDegradationHighEncodeCpuDidReceive();break;case VideoEncodingConnectionHealthPolicyName_1.default.VideoEncodingFramerateHealth:this.context.statsCollector.videoCodecDegradationEncodeFailureDidReceive();break}});this.isMeetingConnected&&this.applyHealthPolicy(this.sendingAudioFailureHealthPolicy,ns,()=>{var rs;const is=this.generateBaseAudioVideoEventAttributes();(rs=this.context.eventController)===null||rs===void 0||rs.publishEvent("sendingAudioFailed",is)},()=>{var rs;const is=this.generateBaseAudioVideoEventAttributes();(rs=this.context.eventController)===null||rs===void 0||rs.publishEvent("sendingAudioRecovered",is)})}audioVideoDidStart(){this.isMeetingConnected=!0}audioVideoDidStartConnecting(ns){this.isMeetingConnected=!1}audioVideoDidStop(ns){this.isMeetingConnected=!1}applyHealthPolicy(ns,rs,is,os){ns.update(rs);const ss=ns.healthIfChanged();ss!==null&&(this.logger.info("".concat(ns.name," value is now ").concat(ss)),ss<=ns.minimumHealth()?Types_1$4.Maybe.of(is).map(as=>as.bind(this)()):Types_1$4.Maybe.of(os).map(as=>as.bind(this)()))}handleBitrateFrame(ns){this.currentAvailableStreamAvgBitrates=ns,ns.serverAvailableOutgoingBitrate>0&&(this.logger.info("Received server side estimation of available incoming bitrate ".concat(ns.serverAvailableOutgoingBitrate,"kbps")),this.context.statsCollector.overrideObservableMetric("availableIncomingBitrate",ns.serverAvailableOutgoingBitrate*1e3))}handleSignalingClientEvent(ns){var rs;if(ns.type===SignalingClientEventType_1$5.default.WebSocketClosed&&(ns.closeCode===4410||ns.closeCode>=4500&&ns.closeCode<4600)||ns.type===SignalingClientEventType_1$5.default.WebSocketError||ns.type===SignalingClientEventType_1$5.default.WebSocketFailed){if(!this.hasSignalingError){const is=this.generateAudioVideoEventAttributesForReceivingAudioDropped();(rs=this.context.eventController)===null||rs===void 0||rs.publishEvent("signalingDropped",is),this.hasSignalingError=!0}}else ns.type===SignalingClientEventType_1$5.default.WebSocketOpen&&(this.hasSignalingError=!1);if(ns.type===SignalingClientEventType_1$5.default.ReceivedSignalFrame){if(ns.message.type===SignalingProtocol_1.SdkSignalFrame.Type.NOTIFICATION){switch(ns.message.notification.level){case SignalingProtocol_1.SdkNotificationFrame.NotificationLevel.INFO:this.logger.info("Received notification from server: ".concat(ns.message.notification.message));break;case SignalingProtocol_1.SdkNotificationFrame.NotificationLevel.WARNING:this.logger.warn("Received warning from server: ".concat(ns.message.notification.message));break;case SignalingProtocol_1.SdkNotificationFrame.NotificationLevel.ERROR:this.logger.error("Received error from server: ".concat(ns.message.notification.message));break;default:this.logger.error("Received notification from server with unknown level ".concat(ns.message.notification.level,": ").concat(ns.message.notification.message));break}return}if(ns.message.bitrates){const os=ns.message.bitrates;this.context.videoStreamIndex.integrateBitratesFrame(os),this.context.videoDownlinkBandwidthPolicy.updateIndex(this.context.videoStreamIndex),this.handleBitrateFrame(ns.message.bitrates)}const is=MeetingSessionStatus_1$1.default.fromSignalFrame(ns.message);ns.message.type!==SignalingProtocol_1.SdkSignalFrame.Type.PRIMARY_MEETING_JOIN_ACK&&is.statusCode()!==MeetingSessionStatusCode_1$2.default.OK&&this.context.audioVideoController.handleMeetingSessionStatus(is,null)}}degradeVideoCodec(ns){if(this.context.meetingSupportedVideoSendCodecPreferences!==void 0&&this.context.meetingSupportedVideoSendCodecPreferences.length>1&&!(this.context.meetingSupportedVideoSendCodecPreferences[0].equals(VideoCodecCapability_1$2.default.h264ConstrainedBaselineProfile())||this.context.meetingSupportedVideoSendCodecPreferences[0].equals(VideoCodecCapability_1$2.default.vp8()))){const rs=[];for(const is of this.context.videoSendCodecPreferences)is.equals(this.context.meetingSupportedVideoSendCodecPreferences[0])||rs.push(is);rs.length>0?(this.context.logger.info("Downgrading codec from ".concat(this.context.meetingSupportedVideoSendCodecPreferences[0].codecName," to ").concat(rs[0].codecName," due to ").concat(ns)),this.context.degradedVideoSendCodecs.push(this.context.meetingSupportedVideoSendCodecPreferences[0]),this.context.meetingSupportedVideoSendCodecPreferences=rs,this.context.audioVideoController.update({needsRenegotiation:!0})):this.context.logger.warn("Degrading video codec failed since there is no alternative codec to select. Currently degraded codecs: ".concat(this.context.degradedVideoSendCodecs.map(is=>is.codecName).join(",")))}}}MonitorTask$1.default=MonitorTask;var OpenSignalingConnectionTask$1={},SignalingClientConnectionRequest$1={};Object.defineProperty(SignalingClientConnectionRequest$1,"__esModule",{value:!0});class SignalingClientConnectionRequest{constructor(ns,rs){this.signalingURL=ns,this.joinToken=rs}url(){return this.signalingURL+"?X-Chime-Control-Protocol-Version=3&X-Amzn-Chime-Send-Close-On-Error=1"}protocols(){return["_aws_wt_session",this.joinToken]}}SignalingClientConnectionRequest$1.default=SignalingClientConnectionRequest;var __awaiter$F=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,ns,rs,is){function os(ss){return ss instanceof rs?ss:new rs(function(as){as(ss)})}return new(rs||(rs=Promise))(function(ss,as){function ls(ds){try{us(is.next(ds))}catch(ps){as(ps)}}function cs(ds){try{us(is.throw(ds))}catch(ps){as(ps)}}function us(ds){ds.done?ss(ds.value):os(ds.value).then(ls,cs)}us((is=is.apply(ts,ns||[])).next())})},__importDefault$T=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(OpenSignalingConnectionTask$1,"__esModule",{value:!0});const SignalingClientConnectionRequest_1=__importDefault$T(SignalingClientConnectionRequest$1),SignalingClientEventType_1$4=__importDefault$T(SignalingClientEventType),BaseTask_1$e=__importDefault$T(BaseTask$1);class OpenSignalingConnectionTask extends BaseTask_1$e.default{constructor(ns){super(ns.logger),this.context=ns,this.taskName="OpenSignalingConnectionTask",this.taskCanceler=null}cancel(){this.taskCanceler&&(this.taskCanceler.cancel(),this.taskCanceler=null)}run(){return __awaiter$F(this,void 0,void 0,function*(){const ns=this.context.meetingSessionConfiguration;this.context.signalingClient.openConnection(new SignalingClientConnectionRequest_1.default(ns.urls.signalingURL,ns.credentials.joinToken));const rs=Date.now();try{yield new Promise((is,os)=>{class ss{constructor(cs){this.signalingClient=cs}cancel(){this.signalingClient.removeObserver(this),os(new Error("OpenSignalingConnectionTask got canceled while waiting to open signaling connection"))}handleSignalingClientEvent(cs){switch(cs.type){case SignalingClientEventType_1$4.default.WebSocketOpen:this.signalingClient.removeObserver(this),is();break;case SignalingClientEventType_1$4.default.WebSocketFailed:this.signalingClient.removeObserver(this),os(new Error("WebSocket connection failed"));break}}}const as=new ss(this.context.signalingClient);this.context.signalingClient.registerObserver(as),this.taskCanceler=as})}catch(is){throw is}finally{this.context.signalingOpenDurationMs=Math.round(Date.now()-rs),this.logger.info("Opening signaling connection took ".concat(this.context.signalingOpenDurationMs," ms"))}})}}OpenSignalingConnectionTask$1.default=OpenSignalingConnectionTask;var ParallelGroupTask$1={},__awaiter$E=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,ns,rs,is){function os(ss){return ss instanceof rs?ss:new rs(function(as){as(ss)})}return new(rs||(rs=Promise))(function(ss,as){function ls(ds){try{us(is.next(ds))}catch(ps){as(ps)}}function cs(ds){try{us(is.throw(ds))}catch(ps){as(ps)}}function us(ds){ds.done?ss(ds.value):os(ds.value).then(ls,cs)}us((is=is.apply(ts,ns||[])).next())})},__importDefault$S=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(ParallelGroupTask$1,"__esModule",{value:!0});const BaseTask_1$d=__importDefault$S(BaseTask$1);class ParallelGroupTask extends BaseTask_1$d.default{constructor(ns,rs,is){super(ns),this.taskName=rs,this.tasksToRunParallel=is;for(const os of is)os.setParent(this)}cancel(){for(const ns of this.tasksToRunParallel)this.logger.info("canceling parallel group task ".concat(this.name()," subtask ").concat(ns.name())),ns.cancel()}run(){return __awaiter$E(this,void 0,void 0,function*(){const ns=[];for(const is of this.tasksToRunParallel)this.logger.info("parallel group task ".concat(this.name()," running subtask ").concat(is.name())),ns.push(is.run());const rs=[];for(let is=0;is<ns.length;is++){try{yield ns[is]}catch(os){rs.push("task ".concat(this.tasksToRunParallel[is].name()," failed: ").concat(os.message))}this.logger.info("parallel group task ".concat(this.name()," completed subtask ").concat(this.tasksToRunParallel[is].name()))}if(rs.length>0){const is=rs.join(", ");this.logAndThrow("parallel group task ".concat(this.name()," failed for tasks: ").concat(is))}this.logger.info("parallel group task ".concat(this.name()," completed"))})}}ParallelGroupTask$1.default=ParallelGroupTask;var PromoteToPrimaryMeetingTask={},hasRequiredPromoteToPrimaryMeetingTask;function requirePromoteToPrimaryMeetingTask(){if(hasRequiredPromoteToPrimaryMeetingTask)return PromoteToPrimaryMeetingTask;hasRequiredPromoteToPrimaryMeetingTask=1;var ts=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ls,cs,us,ds){function ps(hs){return hs instanceof us?hs:new us(function(ms){ms(hs)})}return new(us||(us=Promise))(function(hs,ms){function gs(bs){try{vs(ds.next(bs))}catch(Ss){ms(Ss)}}function ys(bs){try{vs(ds.throw(bs))}catch(Ss){ms(Ss)}}function vs(bs){bs.done?hs(bs.value):ps(bs.value).then(gs,ys)}vs((ds=ds.apply(ls,cs||[])).next())})},ns=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ls){return ls&&ls.__esModule?ls:{default:ls}};Object.defineProperty(PromoteToPrimaryMeetingTask,"__esModule",{value:!0});const rs=requireBuild(),is=ns(SignalingClientEventType),os=SignalingProtocol,ss=ns(BaseTask$1);let as=class extends ss.default{constructor(cs,us,ds){super(cs.logger),this.context=cs,this.credentials=us,this.completionCallback=ds,this.taskName="PromoteToPrimaryMeetingTask",this.taskCanceler=null}cancel(){this.taskCanceler&&(this.taskCanceler.cancel(),this.taskCanceler=null)}run(){return ts(this,void 0,void 0,function*(){this.context.signalingClient.ready()?(this.context.signalingClient.promoteToPrimaryMeeting(this.credentials),this.context.logger.info("Sent request to join primary meeting"),yield this.receivePrimaryMeetingJoinAck()):this.completionCallback(new rs.MeetingSessionStatus(rs.MeetingSessionStatusCode.SignalingRequestFailed))})}receivePrimaryMeetingJoinAck(){return new Promise((cs,us)=>{class ds{constructor(ms,gs,ys){this.signalingClient=ms,this.completionCallback=gs,this.logger=ys}cancel(){this.signalingClient.removeObserver(this),this.completionCallback(new rs.MeetingSessionStatus(rs.MeetingSessionStatusCode.SignalingRequestFailed)),cs()}handleSignalingClientEvent(ms){ms.isConnectionTerminated()&&(this.signalingClient.removeObserver(this),this.logger.info("PromoteToPrimaryMeetingTask connection terminated"),this.completionCallback(new rs.MeetingSessionStatus(rs.MeetingSessionStatusCode.SignalingRequestFailed)),cs()),ms.type===is.default.ReceivedSignalFrame&&ms.message.type===os.SdkSignalFrame.Type.PRIMARY_MEETING_JOIN_ACK&&(this.signalingClient.removeObserver(this),this.logger.info("Got a primary meeting join ACK"),this.completionCallback(rs.MeetingSessionStatus.fromSignalFrame(ms.message)),cs())}}const ps=new ds(this.context.signalingClient,this.completionCallback,this.context.logger);this.taskCanceler=ps,this.context.signalingClient.registerObserver(ps)})}};return PromoteToPrimaryMeetingTask.default=as,PromoteToPrimaryMeetingTask}var ReceiveAudioInputTask$1={},__awaiter$D=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,ns,rs,is){function os(ss){return ss instanceof rs?ss:new rs(function(as){as(ss)})}return new(rs||(rs=Promise))(function(ss,as){function ls(ds){try{us(is.next(ds))}catch(ps){as(ps)}}function cs(ds){try{us(is.throw(ds))}catch(ps){as(ps)}}function us(ds){ds.done?ss(ds.value):os(ds.value).then(ls,cs)}us((is=is.apply(ts,ns||[])).next())})},__importDefault$R=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(ReceiveAudioInputTask$1,"__esModule",{value:!0});const BaseTask_1$c=__importDefault$R(BaseTask$1);class ReceiveAudioInputTask extends BaseTask_1$c.default{constructor(ns){super(ns.logger),this.context=ns,this.taskName="ReceiveAudioInputTask"}run(){var ns,rs;return __awaiter$D(this,void 0,void 0,function*(){if(!(!((rs=(ns=this.context.meetingSessionConfiguration)===null||ns===void 0?void 0:ns.urls)===null||rs===void 0)&&rs.audioHostURL)){this.context.logger.info("No audio connection: not acquiring audio input");return}if(this.context.activeAudioInput){this.context.logger.info("an active audio input exists");return}let is;try{is=yield this.context.mediaStreamBroker.acquireAudioInputStream()}catch{this.context.logger.warn("could not acquire audio input from current device")}is?this.context.activeAudioInput=is:this.context.logger.warn("an audio input is not available")})}}ReceiveAudioInputTask$1.default=ReceiveAudioInputTask;var ReceiveRemoteVideoPauseResumeTask={},__awaiter$C=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,ns,rs,is){function os(ss){return ss instanceof rs?ss:new rs(function(as){as(ss)})}return new(rs||(rs=Promise))(function(ss,as){function ls(ds){try{us(is.next(ds))}catch(ps){as(ps)}}function cs(ds){try{us(is.throw(ds))}catch(ps){as(ps)}}function us(ds){ds.done?ss(ds.value):os(ds.value).then(ls,cs)}us((is=is.apply(ts,ns||[])).next())})},__importDefault$Q=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(ReceiveRemoteVideoPauseResumeTask,"__esModule",{value:!0});const SignalingClientEventType_1$3=__importDefault$Q(SignalingClientEventType),SignalingProtocol_js_1$7=SignalingProtocol,BaseTask_1$b=__importDefault$Q(BaseTask$1);class ReceiveRemoteVideoPauseResume extends BaseTask_1$b.default{constructor(ns){super(ns.logger),this.context=ns,this.taskName="ReceiveRemoteVideoPauseResume",this.serverPausedVideoTileIds=new Set}removeObserver(){this.context.signalingClient.removeObserver(this)}run(){return __awaiter$C(this,void 0,void 0,function*(){this.context.signalingClient.registerObserver(this),this.context.removableObservers.push(this)})}updateSubscribedGroupdIds(ns){const rs=new Set;for(const is of ns){const os=this.context.videoStreamIndex.attendeeIdForGroupId(is);if(os.length===0){this.logger.warn("Could not find attendee ID for newly subscribed group ID ".concat(is));continue}let ss=this.context.videoTileController.getVideoTileForAttendeeId(os);ss===void 0&&(this.logger.info("No existing video tile for attendee ID ".concat(os," with new group ID ").concat(is,". Creating new one.")),ss=this.context.videoTileController.addVideoTile(),ss.bindVideoStream(os,!1,null,0,0,0,null)),rs.add(ss.id())}this.serverPausedVideoTileIds.forEach(is=>{rs.has(is)||this.serverPausedVideoTileIds.delete(is)})}handleSignalingClientEvent(ns){if(ns.type!==SignalingClientEventType_1$3.default.ReceivedSignalFrame||ns.message.type!==SignalingProtocol_js_1$7.SdkSignalFrame.Type.PAUSE&&ns.message.type!==SignalingProtocol_js_1$7.SdkSignalFrame.Type.RESUME)return;const rs=ns.message.pause,is=ns.message.type;if(this.logger.info("Received new ".concat(is===SignalingProtocol_js_1$7.SdkSignalFrame.Type.PAUSE?"pause":"resume"," frame: ").concat(JSON.stringify(rs))),!rs||this.context.videoTileController.getVideoTileForAttendeeId===void 0||this.context.videoDownlinkBandwidthPolicy.forEachObserver===void 0||this.context.videoStreamIndex.attendeeIdForGroupId===void 0)return;const os=rs.groupIds.map(ss=>{const as=this.context.videoStreamIndex.attendeeIdForGroupId(ss);if(as.length===0){this.logger.warn("Could not find attendee ID for paused group ID ".concat(ss));return}return this.context.videoTileController.getVideoTileForAttendeeId(as)});for(const ss of os)ss!==void 0&&(is===SignalingProtocol_js_1$7.SdkSignalFrame.Type.PAUSE?ss.state().paused||(this.serverPausedVideoTileIds.add(ss.id()),this.context.videoDownlinkBandwidthPolicy.forEachObserver(as=>{as.tileWillBePausedByDownlinkPolicy(ss.id())}),ss.pause()):ss.state().paused&&this.serverPausedVideoTileIds.has(ss.id())&&(this.serverPausedVideoTileIds.delete(ss.id()),this.context.videoDownlinkBandwidthPolicy.forEachObserver(as=>{as.tileWillBeUnpausedByDownlinkPolicy(ss.id())}),ss.unpause()))}}ReceiveRemoteVideoPauseResumeTask.default=ReceiveRemoteVideoPauseResume;var ReceiveVideoInputTask$1={},__awaiter$B=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,ns,rs,is){function os(ss){return ss instanceof rs?ss:new rs(function(as){as(ss)})}return new(rs||(rs=Promise))(function(ss,as){function ls(ds){try{us(is.next(ds))}catch(ps){as(ps)}}function cs(ds){try{us(is.throw(ds))}catch(ps){as(ps)}}function us(ds){ds.done?ss(ds.value):os(ds.value).then(ls,cs)}us((is=is.apply(ts,ns||[])).next())})},__importDefault$P=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(ReceiveVideoInputTask$1,"__esModule",{value:!0});const DefaultModality_1$4=__importDefault$P(DefaultModality$1),SignalingProtocol_js_1$6=SignalingProtocol,BaseTask_1$a=__importDefault$P(BaseTask$1);class ReceiveVideoInputTask extends BaseTask_1$a.default{constructor(ns){super(ns.logger),this.context=ns,this.taskName="ReceiveVideoInputTask"}checkAndApplyVideoConstraint(ns,rs,is,os,ss){return __awaiter$B(this,void 0,void 0,function*(){const as=rs.getSettings();let ls;if(ns?ls=this.context.meetingSessionConfiguration.meetingFeatures.contentMaxResolution:ls=this.context.meetingSessionConfiguration.meetingFeatures.videoMaxResolution,is>ls.videoWidth||os>ls.videoHeight||ss>ls.videoFrameRate){const cs={width:{ideal:ls.videoWidth},height:{ideal:ls.videoHeight},frameRate:{ideal:ls.videoFrameRate}};this.context.logger.warn("Video track (content = ".concat(ns,") will be constrained to: ").concat(JSON.stringify(cs)," to remain below configured video quality settings, trackSettings: ").concat(JSON.stringify(as)));try{yield rs.applyConstraints(cs)}catch{this.context.logger.info("Could not apply constraint for video track (content = ".concat(ns,")"))}}})}run(){return __awaiter$B(this,void 0,void 0,function*(){const ns=this.context.videoDuplexMode===SignalingProtocol_js_1$6.SdkStreamServiceType.RX||this.context.videoDuplexMode===SignalingProtocol_js_1$6.SdkStreamServiceType.DUPLEX;if(this.context.videoTileController.hasStartedLocalVideoTile()?this.context.videoDuplexMode=ns?SignalingProtocol_js_1$6.SdkStreamServiceType.DUPLEX:SignalingProtocol_js_1$6.SdkStreamServiceType.TX:this.context.videoDuplexMode=ns?SignalingProtocol_js_1$6.SdkStreamServiceType.RX:0,this.context.videoCaptureAndEncodeParameter=this.context.videoUplinkBandwidthPolicy.chooseCaptureAndEncodeParameters(),!this.context.videoTileController.hasStartedLocalVideoTile()){this.context.logger.info("has not started local video tile"),this.context.activeVideoInput&&(this.context.activeVideoInput=void 0,this.context.videoStreamIndex.integrateUplinkPolicyDecision([]));return}const rs=this.context.videoTileController.getLocalVideoTile();let is;try{is=yield this.context.mediaStreamBroker.acquireVideoInputStream()}catch{this.context.logger.warn("could not acquire video input from current device"),this.context.videoTileController.stopLocalVideoTile()}if(this.context.enableSimulcast){const os=this.context.videoUplinkBandwidthPolicy.chooseEncodingParameters();this.context.videoStreamIndex.integrateUplinkPolicyDecision(Array.from(os.values()))}if(this.context.activeVideoInput=is,is){const os=is.getVideoTracks();if(!os||os.length===0)return;const ss=this.context.meetingSessionConfiguration.credentials.attendeeId,as=new DefaultModality_1$4.default(ss).hasModality(DefaultModality_1$4.default.MODALITY_CONTENT),ls=os[0].getSettings();this.checkAndApplyVideoConstraint(as,os[0],ls.width,ls.height,ls.frameRate);const cs=this.context.audioVideoController.configuration.credentials.externalUserId;rs.bindVideoStream(ss,!0,is,ls.width,ls.height,null,cs);for(const us of os)this.logger.info("Using video device label=".concat(us.label," id=").concat(us.id)),this.context.videoDeviceInformation.current_camera_name=us.label,this.context.videoDeviceInformation.current_camera_id=us.id}})}}ReceiveVideoInputTask$1.default=ReceiveVideoInputTask;var ReceiveVideoStreamIndexTask$1={},__awaiter$A=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,ns,rs,is){function os(ss){return ss instanceof rs?ss:new rs(function(as){as(ss)})}return new(rs||(rs=Promise))(function(ss,as){function ls(ds){try{us(is.next(ds))}catch(ps){as(ps)}}function cs(ds){try{us(is.throw(ds))}catch(ps){as(ps)}}function us(ds){ds.done?ss(ds.value):os(ds.value).then(ls,cs)}us((is=is.apply(ts,ns||[])).next())})},__importDefault$O=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(ReceiveVideoStreamIndexTask$1,"__esModule",{value:!0});const MeetingSessionVideoAvailability_1=__importDefault$O(MeetingSessionVideoAvailability$1),DefaultModality_1$3=__importDefault$O(DefaultModality$1),VideoCodecCapability_1$1=__importDefault$O(VideoCodecCapability$1),SignalingClientEventType_1$2=__importDefault$O(SignalingClientEventType),SignalingProtocol_js_1$5=SignalingProtocol,Types_1$3=Types,BaseTask_1$9=__importDefault$O(BaseTask$1);class ReceiveVideoStreamIndexTask extends BaseTask_1$9.default{constructor(ns){super(ns.logger),this.context=ns,this.taskName="ReceiveVideoStreamIndexTask",this.isIngestionPaused=!1,this.pendingIndex=null}removeObserver(){this.context.signalingClient.removeObserver(this)}run(){return __awaiter$A(this,void 0,void 0,function*(){this.handleIndexFrame(this.context.indexFrame),this.context.signalingClient.registerObserver(this),this.context.removableObservers.push(this)})}handleSignalingClientEvent(ns){if(ns.type!==SignalingClientEventType_1$2.default.ReceivedSignalFrame||ns.message.type!==SignalingProtocol_js_1$5.SdkSignalFrame.Type.INDEX)return;const rs=ns.message.index;this.context.logger.info("received new index ".concat(JSON.stringify(rs))),this.handleIndexFrame(rs)}pauseIngestion(){this.isIngestionPaused=!0}resumeIngestion(){this.isIngestionPaused&&(this.isIngestionPaused=!1,this.pendingIndex&&(this.context.logger.info("Resuming index ingestion with pending index"),this.handleIndexFrame(this.pendingIndex)))}handleIndexFrame(ns){if(!ns)return;if(this.isIngestionPaused){this.context.logger.info("Index ingestion is paused, setting most recent index as pending"),this.pendingIndex=ns;return}else this.pendingIndex=null;const rs=this.context.audioVideoController.configuration.credentials.attendeeId;ns.sources=ns.sources.filter(cs=>{const us=new DefaultModality_1$3.default(cs.attendeeId);return!(us.base()===rs&&us.hasModality(DefaultModality_1$3.default.MODALITY_CONTENT))});const{videoStreamIndex:is,videoDownlinkBandwidthPolicy:os,videoUplinkBandwidthPolicy:ss}=this.context,as=is.allVideoSendingSourcesExcludingSelf(rs);is.integrateIndexFrame(ns),os.updateIndex(is),ss.updateIndex(is),this.resubscribe(os,ss),this.updateVideoAvailability(ns),this.handleIndexVideosPausedAtSource(),ns.supportedReceiveCodecIntersection.length>0&&this.handleSupportedVideoReceiveCodecIntersection(ns);const ls=is.allVideoSendingSourcesExcludingSelf(rs);this.areVideoSourcesEqual(as,ls)||this.context.audioVideoController.forEachObserver(cs=>{Types_1$3.Maybe.of(cs.remoteVideoSourcesDidChange).map(us=>us.bind(cs)(ls))})}areVideoSourcesEqual(ns,rs){if(ns.length!==rs.length)return!1;const is=(as,ls)=>as.attendee.attendeeId.localeCompare(ls.attendee.attendeeId),os=[...ns].sort(is),ss=[...rs].sort(is);for(let as=0;as<os.length;as++)if(os[as].attendee.attendeeId!==ss[as].attendee.attendeeId)return!1;return!0}resubscribe(ns,rs){const is=ns.wantsResubscribe(),os=(this.context.videoDuplexMode===SignalingProtocol_js_1$5.SdkStreamServiceType.TX||this.context.videoDuplexMode===SignalingProtocol_js_1$5.SdkStreamServiceType.DUPLEX)&&rs.wantsResubscribe(),ss=is||os;if(this.logger.info("should resubscribe: ".concat(ss," (downlink: ").concat(is," uplink: ").concat(os,")")),!ss)return;const as=ns.chooseSubscriptions();this.context.videosToReceive=as.truncate(this.context.videoSubscriptionLimit),as.size()>this.context.videosToReceive.size()&&this.logger.warn("Video receive limit exceeded. Limiting the videos to ".concat(this.context.videosToReceive.size(),". Please consider using AllHighestVideoBandwidthPolicy or VideoPriorityBasedPolicy along with chooseRemoteVideoSources api to select the video sources to be displayed.")),this.context.videoCaptureAndEncodeParameter=rs.chooseCaptureAndEncodeParameters(),this.logger.info("trigger resubscribe for up=".concat(os," down=").concat(is,"; videosToReceive=[").concat(this.context.videosToReceive.array(),"] captureParams=").concat(JSON.stringify(this.context.videoCaptureAndEncodeParameter))),this.context.audioVideoController.update({needsRenegotiation:!1})}updateVideoAvailability(ns){if(!this.context.videosToReceive){this.logger.error("videosToReceive must be set in the meeting context.");return}const rs=new MeetingSessionVideoAvailability_1.default;rs.remoteVideoAvailable=!this.context.videosToReceive.empty(),rs.canStartLocalVideo=!ns.atCapacity,(!this.context.lastKnownVideoAvailability||!this.context.lastKnownVideoAvailability.equal(rs))&&(this.context.lastKnownVideoAvailability=rs.clone(),this.context.audioVideoController.forEachObserver(is=>{Types_1$3.Maybe.of(is.videoAvailabilityDidChange).map(os=>os.bind(is)(rs.clone()))}))}handleSupportedVideoReceiveCodecIntersection(ns){if(this.context.videoSendCodecPreferences===void 0)return;const rs=[];let is=!1;for(const os of this.context.videoSendCodecPreferences){if(this.context.degradedVideoSendCodecs.some(ss=>os.equals(ss))){this.logger.info("Skipping ".concat(os.codecName," since the codec has been identfied as degraded"));continue}for(const ss of ns.supportedReceiveCodecIntersection)if(os.equals(VideoCodecCapability_1$1.default.fromSignaled(ss))){rs.push(os);break}}if(rs.length>0){const os=rs.find(ss=>this.context.prioritizedSendVideoCodecCapabilities.some(as=>ss.equals(as)));this.context.currentVideoSendCodec!==void 0&&(os===void 0||!this.context.currentVideoSendCodec.equals(os))&&(is=!0),this.context.meetingSupportedVideoSendCodecPreferences=rs}else this.logger.warn("Interesection of meeting receive codec support and send codec preferences has no overlap, falling back to just values provided in `setVideoCodecSendPreferences`"),this.context.meetingSupportedVideoSendCodecPreferences=void 0;this.context.videoUplinkBandwidthPolicy.setMeetingSupportedVideoSendCodecs&&this.context.videoUplinkBandwidthPolicy.setMeetingSupportedVideoSendCodecs(this.context.meetingSupportedVideoSendCodecPreferences,this.context.videoSendCodecPreferences),is&&this.context.audioVideoController.update({needsRenegotiation:!0})}handleIndexVideosPausedAtSource(){const ns=this.context.videoStreamIndex.streamsPausedAtSource();for(const rs of this.context.videoTileController.getAllVideoTiles()){const is=rs.state();ns.contain(is.streamId)?rs.markPoorConnection()&&this.logger.info("marks the tile ".concat(is.tileId," as having a poor connection")):rs.unmarkPoorConnection()&&this.logger.info("unmarks the tile ".concat(is.tileId," as having a poor connection"))}}}ReceiveVideoStreamIndexTask$1.default=ReceiveVideoStreamIndexTask;var SendAndReceiveDataMessagesTask$1={},__awaiter$z=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,ns,rs,is){function os(ss){return ss instanceof rs?ss:new rs(function(as){as(ss)})}return new(rs||(rs=Promise))(function(ss,as){function ls(ds){try{us(is.next(ds))}catch(ps){as(ps)}}function cs(ds){try{us(is.throw(ds))}catch(ps){as(ps)}}function us(ds){ds.done?ss(ds.value):os(ds.value).then(ls,cs)}us((is=is.apply(ts,ns||[])).next())})},__importDefault$N=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(SendAndReceiveDataMessagesTask$1,"__esModule",{value:!0});const DataMessage_1=__importDefault$N(DataMessage$1),SignalingClientEventType_1$1=__importDefault$N(SignalingClientEventType),SignalingProtocol_js_1$4=SignalingProtocol,BaseTask_1$8=__importDefault$N(BaseTask$1);class SendAndReceiveDataMessagesTask extends BaseTask_1$8.default{constructor(ns){super(ns.logger),this.context=ns,this.taskName="SendAndReceiveDataMessagesTask",this.sendDataMessageHandler=(rs,is,os)=>{if(this.context.signalingClient.ready()){let ss;is instanceof Uint8Array?ss=is:typeof is=="string"?ss=new TextEncoder().encode(is):ss=new TextEncoder().encode(JSON.stringify(is)),this.validateDataMessage(rs,ss,os);const as=SignalingProtocol_js_1$4.SdkDataMessagePayload.create();as.topic=rs,as.lifetimeMs=os,as.data=ss;const ls=SignalingProtocol_js_1$4.SdkDataMessageFrame.create();ls.messages=[as],this.context.signalingClient.sendDataMessage(ls)}else this.context.logger.error("Signaling client is not ready")}}run(){return __awaiter$z(this,void 0,void 0,function*(){this.context.removableObservers.push(this),this.context.signalingClient.registerObserver(this),this.context.realtimeController.realtimeSubscribeToSendDataMessage(this.sendDataMessageHandler)})}removeObserver(){this.context.realtimeController.realtimeUnsubscribeFromSendDataMessage(this.sendDataMessageHandler),this.context.signalingClient.removeObserver(this)}handleSignalingClientEvent(ns){if(ns.type===SignalingClientEventType_1$1.default.ReceivedSignalFrame&&ns.message.type===SignalingProtocol_js_1$4.SdkSignalFrame.Type.DATA_MESSAGE)for(const rs of ns.message.dataMessage.messages){const is=new DataMessage_1.default(rs.ingestTimeNs/1e6,rs.topic,rs.data,rs.senderAttendeeId,rs.senderExternalUserId,rs.ingestTimeNs===0);this.context.realtimeController.realtimeReceiveDataMessage(is)}}validateDataMessage(ns,rs,is){if(!SendAndReceiveDataMessagesTask.TOPIC_REGEX.test(ns))throw new Error("Invalid topic");if(rs.length>SendAndReceiveDataMessagesTask.DATA_SIZE)throw new Error("Data size has to be less than 2048 bytes");if(is&&is<0)throw new Error("The life time of the message has to be non negative")}}SendAndReceiveDataMessagesTask$1.default=SendAndReceiveDataMessagesTask;SendAndReceiveDataMessagesTask.TOPIC_REGEX=new RegExp(/^[a-zA-Z0-9_-]{1,36}$/);SendAndReceiveDataMessagesTask.DATA_SIZE=2048;var SerialGroupTask$1={},__awaiter$y=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,ns,rs,is){function os(ss){return ss instanceof rs?ss:new rs(function(as){as(ss)})}return new(rs||(rs=Promise))(function(ss,as){function ls(ds){try{us(is.next(ds))}catch(ps){as(ps)}}function cs(ds){try{us(is.throw(ds))}catch(ps){as(ps)}}function us(ds){ds.done?ss(ds.value):os(ds.value).then(ls,cs)}us((is=is.apply(ts,ns||[])).next())})},__importDefault$M=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(SerialGroupTask$1,"__esModule",{value:!0});const BaseTask_1$7=__importDefault$M(BaseTask$1),TaskStatus_1=__importDefault$M(TaskStatus$1);class SerialGroupTask extends BaseTask_1$7.default{constructor(ns,rs,is){super(ns),this.taskName=rs,this.tasksToRunSerially=is,this.currentTask=null;for(const os of is)os.setParent(this)}cancel(){this.currentTask&&(this.logger.info("canceling serial group task ".concat(this.name()," subtask ").concat(this.currentTask.name())),this.currentTask.cancel())}run(){return __awaiter$y(this,void 0,void 0,function*(){for(const ns of this.tasksToRunSerially){this.getStatus()===TaskStatus_1.default.CANCELED&&this.logAndThrow("serial group task ".concat(this.name()," was canceled"));try{this.logger.info("serial group task ".concat(this.name()," running subtask ").concat(ns.name())),this.currentTask=ns,yield ns.run(),this.logger.info("serial group task ".concat(this.name()," completed subtask ").concat(ns.name()))}catch(rs){this.logAndThrow("serial group task ".concat(this.name()," was canceled due to subtask ")+"".concat(this.currentTask.name()," error: ").concat(rs.message))}finally{this.currentTask=null}}this.logger.info("serial group task ".concat(this.name()," completed"))})}}SerialGroupTask$1.default=SerialGroupTask;var SetLocalDescriptionTask$1={},__awaiter$x=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,ns,rs,is){function os(ss){return ss instanceof rs?ss:new rs(function(as){as(ss)})}return new(rs||(rs=Promise))(function(ss,as){function ls(ds){try{us(is.next(ds))}catch(ps){as(ps)}}function cs(ds){try{us(is.throw(ds))}catch(ps){as(ps)}}function us(ds){ds.done?ss(ds.value):os(ds.value).then(ls,cs)}us((is=is.apply(ts,ns||[])).next())})},__importDefault$L=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(SetLocalDescriptionTask$1,"__esModule",{value:!0});const DefaultBrowserBehavior_1$3=__importDefault$L(DefaultBrowserBehavior$1),DefaultModality_1$2=__importDefault$L(DefaultModality$1),SDP_1$2=__importDefault$L(SDP$1),BaseTask_1$6=__importDefault$L(BaseTask$1);class SetLocalDescriptionTask extends BaseTask_1$6.default{constructor(ns){super(ns.logger),this.context=ns,this.taskName="SetLocalDescriptionTask"}cancel(){if(this.cancelPromise){const ns=new Error("canceling ".concat(this.name()));this.cancelPromise(ns),delete this.cancelPromise}}run(){return __awaiter$x(this,void 0,void 0,function*(){const ns=this.context.peer;let is=this.context.sdpOfferInit.sdp;this.context.browserBehavior.supportsVideoLayersAllocationRtpHeaderExtension()&&(is=new SDP_1$2.default(is).withVideoLayersAllocationRtpHeaderExtension(this.context.previousSdpOffer).sdp),this.context.browserBehavior.supportsDependencyDescriptorRtpHeaderExtension()&&this.context.videoUplinkBandwidthPolicy.wantsVideoDependencyDescriptorRtpHeaderExtension!==void 0&&this.context.videoUplinkBandwidthPolicy.wantsVideoDependencyDescriptorRtpHeaderExtension()&&(is=new SDP_1$2.default(is).withDependencyDescriptorRtpHeaderExtension(this.context.previousSdpOffer).sdp),new DefaultBrowserBehavior_1$3.default().requiresDisablingH264Encoding()&&(is=new SDP_1$2.default(is).removeH264SupportFromSendSection().sdp);const os=this.context.audioVideoController.configuration.credentials.attendeeId;if(new DefaultModality_1$2.default(os).hasModality(DefaultModality_1$2.default.MODALITY_CONTENT)&&this.context.audioVideoController.configuration.enableSVC&&(is=new SDP_1$2.default(is).withStartingVideoSendBitrate(100).sdp),this.context.videoSendCodecPreferences!==void 0&&this.context.videoSendCodecPreferences.length>0&&(is=new SDP_1$2.default(is).withVideoSendCodecPreferences(this.context.meetingSupportedVideoSendCodecPreferences!==void 0?this.context.meetingSupportedVideoSendCodecPreferences:this.context.videoSendCodecPreferences).sdp),this.context.audioProfile&&(is=new SDP_1$2.default(is).withAudioMaxAverageBitrate(this.context.audioProfile.audioBitrateBps).sdp,this.context.audioProfile.isStereo()&&(is=new SDP_1$2.default(is).withStereoAudio().sdp),this.context.audioProfile.hasRedundancyEnabled())){const ls=new SDP_1$2.default(is).getAudioPayloadTypes();this.context.transceiverController&&this.context.transceiverController.setAudioPayloadTypes&&this.context.transceiverController.setAudioPayloadTypes(ls)}this.logger.debug(()=>"local description is >>>".concat(is,"<<<"));const as={type:"offer",sdp:is,toJSON:null};yield new Promise((ls,cs)=>__awaiter$x(this,void 0,void 0,function*(){this.cancelPromise=us=>{cs(us)};try{yield ns.setLocalDescription(as),ls()}catch(us){cs(us)}finally{delete this.cancelPromise}})),this.context.logger.info("set local description")})}}SetLocalDescriptionTask$1.default=SetLocalDescriptionTask;var SetRemoteDescriptionTask$1={},__awaiter$w=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,ns,rs,is){function os(ss){return ss instanceof rs?ss:new rs(function(as){as(ss)})}return new(rs||(rs=Promise))(function(ss,as){function ls(ds){try{us(is.next(ds))}catch(ps){as(ps)}}function cs(ds){try{us(is.throw(ds))}catch(ps){as(ps)}}function us(ds){ds.done?ss(ds.value):os(ds.value).then(ls,cs)}us((is=is.apply(ts,ns||[])).next())})},__importDefault$K=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(SetRemoteDescriptionTask$1,"__esModule",{value:!0});const DefaultModality_1$1=__importDefault$K(DefaultModality$1),SDP_1$1=__importDefault$K(SDP$1),VideoCodecCapability_1=__importDefault$K(VideoCodecCapability$1),BaseTask_1$5=__importDefault$K(BaseTask$1);class SetRemoteDescriptionTask extends BaseTask_1$5.default{constructor(ns){super(ns.logger),this.context=ns,this.taskName="SetRemoteDescriptionTask"}cancel(){this.cancelICEPromise&&this.cancelICEPromise()}run(){var ns;return __awaiter$w(this,void 0,void 0,function*(){this.context.peer||this.logAndThrow("session does not have peer connection; bypass set remote description");let is=this.context.sdpAnswer;is=new SDP_1$1.default(is).withoutServerReflexiveCandidates().sdp,this.context.audioProfile&&(is=new SDP_1$1.default(is).withAudioMaxAverageBitrate(this.context.audioProfile.audioBitrateBps).sdp,this.context.audioProfile.isStereo()&&(is=new SDP_1$1.default(is).withStereoAudio().sdp)),this.context.videoSendCodecPreferences!==void 0&&this.context.videoSendCodecPreferences.length>0&&(is=new SDP_1$1.default(is).withVideoSendCodecPreferences(this.context.meetingSupportedVideoSendCodecPreferences!==void 0?this.context.meetingSupportedVideoSendCodecPreferences:this.context.videoSendCodecPreferences).sdp),this.context.prioritizedSendVideoCodecCapabilities=new SDP_1$1.default(is).prioritizedSendVideoCodecCapabilities(),this.context.currentVideoSendCodec=this.context.prioritizedSendVideoCodecCapabilities.length>0?this.context.prioritizedSendVideoCodecCapabilities[0]:void 0;const os=this.context.activeVideoInput;if(os!==void 0){const as=this.context.audioVideoController.configuration.credentials.attendeeId,ls=new DefaultModality_1$1.default(as).hasModality(DefaultModality_1$1.default.MODALITY_CONTENT),cs=os.getVideoTracks()[0];ls&&(((ns=this.context.currentVideoSendCodec)===null||ns===void 0?void 0:ns.codecName)===VideoCodecCapability_1.default.av1Main().codecName?(cs.contentHint="text",this.logger.info("Setting content hint to text for AV1, attendee: ".concat(as))):this.context.audioVideoController.configuration.enableSVC&&(cs.contentHint="motion",this.logger.info("Setting content hint to motion to enable SVC, attendee: ".concat(as))))}this.logger.info("processed remote description is >>>".concat(is,"<<<"));const ss={type:"answer",sdp:is,toJSON:null};try{yield this.createICEConnectionCompletedPromise(ss)}catch(as){throw as}})}createICEConnectionCompletedPromise(ns){return new Promise((rs,is)=>__awaiter$w(this,void 0,void 0,function*(){const os=()=>{(this.context.peer.iceConnectionState==="connected"||this.context.peer.iceConnectionState==="completed")&&(this.context.peer.removeEventListener("iceconnectionstatechange",os),rs())};this.cancelICEPromise=()=>{this.context.peer&&this.context.peer.removeEventListener("iceconnectionstatechange",os),is(new Error("".concat(this.name()," got canceled while waiting for the ICE connection state")))},this.context.peer.addEventListener("iceconnectionstatechange",os);try{yield this.context.peer.setRemoteDescription(ns),this.logger.info("set remote description, waiting for ICE connection"),os()}catch(ss){is(ss)}}))}}SetRemoteDescriptionTask$1.default=SetRemoteDescriptionTask;var SubscribeAndReceiveSubscribeAckTask$1={},ZLIBTextCompressor$1={},pako$1={},deflate$4={},deflate$3={},trees={};const Z_FIXED$1=4,Z_BINARY=0,Z_TEXT=1,Z_UNKNOWN$1=2;function zero$1(ts){let ns=ts.length;for(;--ns>=0;)ts[ns]=0}const STORED_BLOCK=0,STATIC_TREES=1,DYN_TREES=2,MIN_MATCH$1=3,MAX_MATCH$1=258,LENGTH_CODES$1=29,LITERALS$1=256,L_CODES$1=LITERALS$1+1+LENGTH_CODES$1,D_CODES$1=30,BL_CODES$1=19,HEAP_SIZE$1=2*L_CODES$1+1,MAX_BITS$1=15,Buf_size=16,MAX_BL_BITS=7,END_BLOCK=256,REP_3_6=16,REPZ_3_10=17,REPZ_11_138=18,extra_lbits=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),extra_dbits=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),extra_blbits=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),bl_order=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),DIST_CODE_LEN=512,static_ltree=new Array((L_CODES$1+2)*2);zero$1(static_ltree);const static_dtree=new Array(D_CODES$1*2);zero$1(static_dtree);const _dist_code=new Array(DIST_CODE_LEN);zero$1(_dist_code);const _length_code=new Array(MAX_MATCH$1-MIN_MATCH$1+1);zero$1(_length_code);const base_length=new Array(LENGTH_CODES$1);zero$1(base_length);const base_dist=new Array(D_CODES$1);zero$1(base_dist);function StaticTreeDesc(ts,ns,rs,is,os){this.static_tree=ts,this.extra_bits=ns,this.extra_base=rs,this.elems=is,this.max_length=os,this.has_stree=ts&&ts.length}let static_l_desc,static_d_desc,static_bl_desc;function TreeDesc(ts,ns){this.dyn_tree=ts,this.max_code=0,this.stat_desc=ns}const d_code=ts=>ts<256?_dist_code[ts]:_dist_code[256+(ts>>>7)],put_short=(ts,ns)=>{ts.pending_buf[ts.pending++]=ns&255,ts.pending_buf[ts.pending++]=ns>>>8&255},send_bits=(ts,ns,rs)=>{ts.bi_valid>Buf_size-rs?(ts.bi_buf|=ns<<ts.bi_valid&65535,put_short(ts,ts.bi_buf),ts.bi_buf=ns>>Buf_size-ts.bi_valid,ts.bi_valid+=rs-Buf_size):(ts.bi_buf|=ns<<ts.bi_valid&65535,ts.bi_valid+=rs)},send_code=(ts,ns,rs)=>{send_bits(ts,rs[ns*2],rs[ns*2+1])},bi_reverse=(ts,ns)=>{let rs=0;do rs|=ts&1,ts>>>=1,rs<<=1;while(--ns>0);return rs>>>1},bi_flush=ts=>{ts.bi_valid===16?(put_short(ts,ts.bi_buf),ts.bi_buf=0,ts.bi_valid=0):ts.bi_valid>=8&&(ts.pending_buf[ts.pending++]=ts.bi_buf&255,ts.bi_buf>>=8,ts.bi_valid-=8)},gen_bitlen=(ts,ns)=>{const rs=ns.dyn_tree,is=ns.max_code,os=ns.stat_desc.static_tree,ss=ns.stat_desc.has_stree,as=ns.stat_desc.extra_bits,ls=ns.stat_desc.extra_base,cs=ns.stat_desc.max_length;let us,ds,ps,hs,ms,gs,ys=0;for(hs=0;hs<=MAX_BITS$1;hs++)ts.bl_count[hs]=0;for(rs[ts.heap[ts.heap_max]*2+1]=0,us=ts.heap_max+1;us<HEAP_SIZE$1;us++)ds=ts.heap[us],hs=rs[rs[ds*2+1]*2+1]+1,hs>cs&&(hs=cs,ys++),rs[ds*2+1]=hs,!(ds>is)&&(ts.bl_count[hs]++,ms=0,ds>=ls&&(ms=as[ds-ls]),gs=rs[ds*2],ts.opt_len+=gs*(hs+ms),ss&&(ts.static_len+=gs*(os[ds*2+1]+ms)));if(ys!==0){do{for(hs=cs-1;ts.bl_count[hs]===0;)hs--;ts.bl_count[hs]--,ts.bl_count[hs+1]+=2,ts.bl_count[cs]--,ys-=2}while(ys>0);for(hs=cs;hs!==0;hs--)for(ds=ts.bl_count[hs];ds!==0;)ps=ts.heap[--us],!(ps>is)&&(rs[ps*2+1]!==hs&&(ts.opt_len+=(hs-rs[ps*2+1])*rs[ps*2],rs[ps*2+1]=hs),ds--)}},gen_codes=(ts,ns,rs)=>{const is=new Array(MAX_BITS$1+1);let os=0,ss,as;for(ss=1;ss<=MAX_BITS$1;ss++)os=os+rs[ss-1]<<1,is[ss]=os;for(as=0;as<=ns;as++){let ls=ts[as*2+1];ls!==0&&(ts[as*2]=bi_reverse(is[ls]++,ls))}},tr_static_init=()=>{let ts,ns,rs,is,os;const ss=new Array(MAX_BITS$1+1);for(rs=0,is=0;is<LENGTH_CODES$1-1;is++)for(base_length[is]=rs,ts=0;ts<1<<extra_lbits[is];ts++)_length_code[rs++]=is;for(_length_code[rs-1]=is,os=0,is=0;is<16;is++)for(base_dist[is]=os,ts=0;ts<1<<extra_dbits[is];ts++)_dist_code[os++]=is;for(os>>=7;is<D_CODES$1;is++)for(base_dist[is]=os<<7,ts=0;ts<1<<extra_dbits[is]-7;ts++)_dist_code[256+os++]=is;for(ns=0;ns<=MAX_BITS$1;ns++)ss[ns]=0;for(ts=0;ts<=143;)static_ltree[ts*2+1]=8,ts++,ss[8]++;for(;ts<=255;)static_ltree[ts*2+1]=9,ts++,ss[9]++;for(;ts<=279;)static_ltree[ts*2+1]=7,ts++,ss[7]++;for(;ts<=287;)static_ltree[ts*2+1]=8,ts++,ss[8]++;for(gen_codes(static_ltree,L_CODES$1+1,ss),ts=0;ts<D_CODES$1;ts++)static_dtree[ts*2+1]=5,static_dtree[ts*2]=bi_reverse(ts,5);static_l_desc=new StaticTreeDesc(static_ltree,extra_lbits,LITERALS$1+1,L_CODES$1,MAX_BITS$1),static_d_desc=new StaticTreeDesc(static_dtree,extra_dbits,0,D_CODES$1,MAX_BITS$1),static_bl_desc=new StaticTreeDesc(new Array(0),extra_blbits,0,BL_CODES$1,MAX_BL_BITS)},init_block=ts=>{let ns;for(ns=0;ns<L_CODES$1;ns++)ts.dyn_ltree[ns*2]=0;for(ns=0;ns<D_CODES$1;ns++)ts.dyn_dtree[ns*2]=0;for(ns=0;ns<BL_CODES$1;ns++)ts.bl_tree[ns*2]=0;ts.dyn_ltree[END_BLOCK*2]=1,ts.opt_len=ts.static_len=0,ts.sym_next=ts.matches=0},bi_windup=ts=>{ts.bi_valid>8?put_short(ts,ts.bi_buf):ts.bi_valid>0&&(ts.pending_buf[ts.pending++]=ts.bi_buf),ts.bi_buf=0,ts.bi_valid=0},smaller=(ts,ns,rs,is)=>{const os=ns*2,ss=rs*2;return ts[os]<ts[ss]||ts[os]===ts[ss]&&is[ns]<=is[rs]},pqdownheap=(ts,ns,rs)=>{const is=ts.heap[rs];let os=rs<<1;for(;os<=ts.heap_len&&(os<ts.heap_len&&smaller(ns,ts.heap[os+1],ts.heap[os],ts.depth)&&os++,!smaller(ns,is,ts.heap[os],ts.depth));)ts.heap[rs]=ts.heap[os],rs=os,os<<=1;ts.heap[rs]=is},compress_block=(ts,ns,rs)=>{let is,os,ss=0,as,ls;if(ts.sym_next!==0)do is=ts.pending_buf[ts.sym_buf+ss++]&255,is+=(ts.pending_buf[ts.sym_buf+ss++]&255)<<8,os=ts.pending_buf[ts.sym_buf+ss++],is===0?send_code(ts,os,ns):(as=_length_code[os],send_code(ts,as+LITERALS$1+1,ns),ls=extra_lbits[as],ls!==0&&(os-=base_length[as],send_bits(ts,os,ls)),is--,as=d_code(is),send_code(ts,as,rs),ls=extra_dbits[as],ls!==0&&(is-=base_dist[as],send_bits(ts,is,ls)));while(ss<ts.sym_next);send_code(ts,END_BLOCK,ns)},build_tree=(ts,ns)=>{const rs=ns.dyn_tree,is=ns.stat_desc.static_tree,os=ns.stat_desc.has_stree,ss=ns.stat_desc.elems;let as,ls,cs=-1,us;for(ts.heap_len=0,ts.heap_max=HEAP_SIZE$1,as=0;as<ss;as++)rs[as*2]!==0?(ts.heap[++ts.heap_len]=cs=as,ts.depth[as]=0):rs[as*2+1]=0;for(;ts.heap_len<2;)us=ts.heap[++ts.heap_len]=cs<2?++cs:0,rs[us*2]=1,ts.depth[us]=0,ts.opt_len--,os&&(ts.static_len-=is[us*2+1]);for(ns.max_code=cs,as=ts.heap_len>>1;as>=1;as--)pqdownheap(ts,rs,as);us=ss;do as=ts.heap[1],ts.heap[1]=ts.heap[ts.heap_len--],pqdownheap(ts,rs,1),ls=ts.heap[1],ts.heap[--ts.heap_max]=as,ts.heap[--ts.heap_max]=ls,rs[us*2]=rs[as*2]+rs[ls*2],ts.depth[us]=(ts.depth[as]>=ts.depth[ls]?ts.depth[as]:ts.depth[ls])+1,rs[as*2+1]=rs[ls*2+1]=us,ts.heap[1]=us++,pqdownheap(ts,rs,1);while(ts.heap_len>=2);ts.heap[--ts.heap_max]=ts.heap[1],gen_bitlen(ts,ns),gen_codes(rs,cs,ts.bl_count)},scan_tree=(ts,ns,rs)=>{let is,os=-1,ss,as=ns[0*2+1],ls=0,cs=7,us=4;for(as===0&&(cs=138,us=3),ns[(rs+1)*2+1]=65535,is=0;is<=rs;is++)ss=as,as=ns[(is+1)*2+1],!(++ls<cs&&ss===as)&&(ls<us?ts.bl_tree[ss*2]+=ls:ss!==0?(ss!==os&&ts.bl_tree[ss*2]++,ts.bl_tree[REP_3_6*2]++):ls<=10?ts.bl_tree[REPZ_3_10*2]++:ts.bl_tree[REPZ_11_138*2]++,ls=0,os=ss,as===0?(cs=138,us=3):ss===as?(cs=6,us=3):(cs=7,us=4))},send_tree=(ts,ns,rs)=>{let is,os=-1,ss,as=ns[0*2+1],ls=0,cs=7,us=4;for(as===0&&(cs=138,us=3),is=0;is<=rs;is++)if(ss=as,as=ns[(is+1)*2+1],!(++ls<cs&&ss===as)){if(ls<us)do send_code(ts,ss,ts.bl_tree);while(--ls!==0);else ss!==0?(ss!==os&&(send_code(ts,ss,ts.bl_tree),ls--),send_code(ts,REP_3_6,ts.bl_tree),send_bits(ts,ls-3,2)):ls<=10?(send_code(ts,REPZ_3_10,ts.bl_tree),send_bits(ts,ls-3,3)):(send_code(ts,REPZ_11_138,ts.bl_tree),send_bits(ts,ls-11,7));ls=0,os=ss,as===0?(cs=138,us=3):ss===as?(cs=6,us=3):(cs=7,us=4)}},build_bl_tree=ts=>{let ns;for(scan_tree(ts,ts.dyn_ltree,ts.l_desc.max_code),scan_tree(ts,ts.dyn_dtree,ts.d_desc.max_code),build_tree(ts,ts.bl_desc),ns=BL_CODES$1-1;ns>=3&&ts.bl_tree[bl_order[ns]*2+1]===0;ns--);return ts.opt_len+=3*(ns+1)+5+5+4,ns},send_all_trees=(ts,ns,rs,is)=>{let os;for(send_bits(ts,ns-257,5),send_bits(ts,rs-1,5),send_bits(ts,is-4,4),os=0;os<is;os++)send_bits(ts,ts.bl_tree[bl_order[os]*2+1],3);send_tree(ts,ts.dyn_ltree,ns-1),send_tree(ts,ts.dyn_dtree,rs-1)},detect_data_type=ts=>{let ns=4093624447,rs;for(rs=0;rs<=31;rs++,ns>>>=1)if(ns&1&&ts.dyn_ltree[rs*2]!==0)return Z_BINARY;if(ts.dyn_ltree[9*2]!==0||ts.dyn_ltree[10*2]!==0||ts.dyn_ltree[13*2]!==0)return Z_TEXT;for(rs=32;rs<LITERALS$1;rs++)if(ts.dyn_ltree[rs*2]!==0)return Z_TEXT;return Z_BINARY};let static_init_done=!1;const _tr_init$1=ts=>{static_init_done||(tr_static_init(),static_init_done=!0),ts.l_desc=new TreeDesc(ts.dyn_ltree,static_l_desc),ts.d_desc=new TreeDesc(ts.dyn_dtree,static_d_desc),ts.bl_desc=new TreeDesc(ts.bl_tree,static_bl_desc),ts.bi_buf=0,ts.bi_valid=0,init_block(ts)},_tr_stored_block$1=(ts,ns,rs,is)=>{send_bits(ts,(STORED_BLOCK<<1)+(is?1:0),3),bi_windup(ts),put_short(ts,rs),put_short(ts,~rs),rs&&ts.pending_buf.set(ts.window.subarray(ns,ns+rs),ts.pending),ts.pending+=rs},_tr_align$1=ts=>{send_bits(ts,STATIC_TREES<<1,3),send_code(ts,END_BLOCK,static_ltree),bi_flush(ts)},_tr_flush_block$1=(ts,ns,rs,is)=>{let os,ss,as=0;ts.level>0?(ts.strm.data_type===Z_UNKNOWN$1&&(ts.strm.data_type=detect_data_type(ts)),build_tree(ts,ts.l_desc),build_tree(ts,ts.d_desc),as=build_bl_tree(ts),os=ts.opt_len+3+7>>>3,ss=ts.static_len+3+7>>>3,ss<=os&&(os=ss)):os=ss=rs+5,rs+4<=os&&ns!==-1?_tr_stored_block$1(ts,ns,rs,is):ts.strategy===Z_FIXED$1||ss===os?(send_bits(ts,(STATIC_TREES<<1)+(is?1:0),3),compress_block(ts,static_ltree,static_dtree)):(send_bits(ts,(DYN_TREES<<1)+(is?1:0),3),send_all_trees(ts,ts.l_desc.max_code+1,ts.d_desc.max_code+1,as+1),compress_block(ts,ts.dyn_ltree,ts.dyn_dtree)),init_block(ts),is&&bi_windup(ts)},_tr_tally$1=(ts,ns,rs)=>(ts.pending_buf[ts.sym_buf+ts.sym_next++]=ns,ts.pending_buf[ts.sym_buf+ts.sym_next++]=ns>>8,ts.pending_buf[ts.sym_buf+ts.sym_next++]=rs,ns===0?ts.dyn_ltree[rs*2]++:(ts.matches++,ns--,ts.dyn_ltree[(_length_code[rs]+LITERALS$1+1)*2]++,ts.dyn_dtree[d_code(ns)*2]++),ts.sym_next===ts.sym_end);trees._tr_init=_tr_init$1;trees._tr_stored_block=_tr_stored_block$1;trees._tr_flush_block=_tr_flush_block$1;trees._tr_tally=_tr_tally$1;trees._tr_align=_tr_align$1;const adler32$2=(ts,ns,rs,is)=>{let os=ts&65535|0,ss=ts>>>16&65535|0,as=0;for(;rs!==0;){as=rs>2e3?2e3:rs,rs-=as;do os=os+ns[is++]|0,ss=ss+os|0;while(--as);os%=65521,ss%=65521}return os|ss<<16|0};var adler32_1=adler32$2;const makeTable=()=>{let ts,ns=[];for(var rs=0;rs<256;rs++){ts=rs;for(var is=0;is<8;is++)ts=ts&1?3988292384^ts>>>1:ts>>>1;ns[rs]=ts}return ns},crcTable=new Uint32Array(makeTable()),crc32$2=(ts,ns,rs,is)=>{const os=crcTable,ss=is+rs;ts^=-1;for(let as=is;as<ss;as++)ts=ts>>>8^os[(ts^ns[as])&255];return ts^-1};var crc32_1=crc32$2,messages={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},constants$2={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init,_tr_stored_block,_tr_flush_block,_tr_tally,_tr_align}=trees,adler32$1=adler32_1,crc32$1=crc32_1,msg$2=messages,{Z_NO_FLUSH:Z_NO_FLUSH$2,Z_PARTIAL_FLUSH,Z_FULL_FLUSH:Z_FULL_FLUSH$1,Z_FINISH:Z_FINISH$3,Z_BLOCK:Z_BLOCK$1,Z_OK:Z_OK$3,Z_STREAM_END:Z_STREAM_END$3,Z_STREAM_ERROR:Z_STREAM_ERROR$2,Z_DATA_ERROR:Z_DATA_ERROR$2,Z_BUF_ERROR:Z_BUF_ERROR$1,Z_DEFAULT_COMPRESSION:Z_DEFAULT_COMPRESSION$1,Z_FILTERED,Z_HUFFMAN_ONLY,Z_RLE,Z_FIXED,Z_DEFAULT_STRATEGY:Z_DEFAULT_STRATEGY$1,Z_UNKNOWN,Z_DEFLATED:Z_DEFLATED$2}=constants$2,MAX_MEM_LEVEL=9,MAX_WBITS$1=15,DEF_MEM_LEVEL=8,LENGTH_CODES=29,LITERALS=256,L_CODES=LITERALS+1+LENGTH_CODES,D_CODES=30,BL_CODES=19,HEAP_SIZE=2*L_CODES+1,MAX_BITS=15,MIN_MATCH=3,MAX_MATCH=258,MIN_LOOKAHEAD=MAX_MATCH+MIN_MATCH+1,PRESET_DICT=32,INIT_STATE=42,GZIP_STATE=57,EXTRA_STATE=69,NAME_STATE=73,COMMENT_STATE=91,HCRC_STATE=103,BUSY_STATE=113,FINISH_STATE=666,BS_NEED_MORE=1,BS_BLOCK_DONE=2,BS_FINISH_STARTED=3,BS_FINISH_DONE=4,OS_CODE=3,err=(ts,ns)=>(ts.msg=msg$2[ns],ns),rank=ts=>ts*2-(ts>4?9:0),zero=ts=>{let ns=ts.length;for(;--ns>=0;)ts[ns]=0},slide_hash=ts=>{let ns,rs,is,os=ts.w_size;ns=ts.hash_size,is=ns;do rs=ts.head[--is],ts.head[is]=rs>=os?rs-os:0;while(--ns);ns=os,is=ns;do rs=ts.prev[--is],ts.prev[is]=rs>=os?rs-os:0;while(--ns)};let HASH_ZLIB=(ts,ns,rs)=>(ns<<ts.hash_shift^rs)&ts.hash_mask,HASH=HASH_ZLIB;const flush_pending=ts=>{const ns=ts.state;let rs=ns.pending;rs>ts.avail_out&&(rs=ts.avail_out),rs!==0&&(ts.output.set(ns.pending_buf.subarray(ns.pending_out,ns.pending_out+rs),ts.next_out),ts.next_out+=rs,ns.pending_out+=rs,ts.total_out+=rs,ts.avail_out-=rs,ns.pending-=rs,ns.pending===0&&(ns.pending_out=0))},flush_block_only=(ts,ns)=>{_tr_flush_block(ts,ts.block_start>=0?ts.block_start:-1,ts.strstart-ts.block_start,ns),ts.block_start=ts.strstart,flush_pending(ts.strm)},put_byte=(ts,ns)=>{ts.pending_buf[ts.pending++]=ns},putShortMSB=(ts,ns)=>{ts.pending_buf[ts.pending++]=ns>>>8&255,ts.pending_buf[ts.pending++]=ns&255},read_buf=(ts,ns,rs,is)=>{let os=ts.avail_in;return os>is&&(os=is),os===0?0:(ts.avail_in-=os,ns.set(ts.input.subarray(ts.next_in,ts.next_in+os),rs),ts.state.wrap===1?ts.adler=adler32$1(ts.adler,ns,os,rs):ts.state.wrap===2&&(ts.adler=crc32$1(ts.adler,ns,os,rs)),ts.next_in+=os,ts.total_in+=os,os)},longest_match=(ts,ns)=>{let rs=ts.max_chain_length,is=ts.strstart,os,ss,as=ts.prev_length,ls=ts.nice_match;const cs=ts.strstart>ts.w_size-MIN_LOOKAHEAD?ts.strstart-(ts.w_size-MIN_LOOKAHEAD):0,us=ts.window,ds=ts.w_mask,ps=ts.prev,hs=ts.strstart+MAX_MATCH;let ms=us[is+as-1],gs=us[is+as];ts.prev_length>=ts.good_match&&(rs>>=2),ls>ts.lookahead&&(ls=ts.lookahead);do if(os=ns,!(us[os+as]!==gs||us[os+as-1]!==ms||us[os]!==us[is]||us[++os]!==us[is+1])){is+=2,os++;do;while(us[++is]===us[++os]&&us[++is]===us[++os]&&us[++is]===us[++os]&&us[++is]===us[++os]&&us[++is]===us[++os]&&us[++is]===us[++os]&&us[++is]===us[++os]&&us[++is]===us[++os]&&is<hs);if(ss=MAX_MATCH-(hs-is),is=hs-MAX_MATCH,ss>as){if(ts.match_start=ns,as=ss,ss>=ls)break;ms=us[is+as-1],gs=us[is+as]}}while((ns=ps[ns&ds])>cs&&--rs!==0);return as<=ts.lookahead?as:ts.lookahead},fill_window=ts=>{const ns=ts.w_size;let rs,is,os;do{if(is=ts.window_size-ts.lookahead-ts.strstart,ts.strstart>=ns+(ns-MIN_LOOKAHEAD)&&(ts.window.set(ts.window.subarray(ns,ns+ns-is),0),ts.match_start-=ns,ts.strstart-=ns,ts.block_start-=ns,ts.insert>ts.strstart&&(ts.insert=ts.strstart),slide_hash(ts),is+=ns),ts.strm.avail_in===0)break;if(rs=read_buf(ts.strm,ts.window,ts.strstart+ts.lookahead,is),ts.lookahead+=rs,ts.lookahead+ts.insert>=MIN_MATCH)for(os=ts.strstart-ts.insert,ts.ins_h=ts.window[os],ts.ins_h=HASH(ts,ts.ins_h,ts.window[os+1]);ts.insert&&(ts.ins_h=HASH(ts,ts.ins_h,ts.window[os+MIN_MATCH-1]),ts.prev[os&ts.w_mask]=ts.head[ts.ins_h],ts.head[ts.ins_h]=os,os++,ts.insert--,!(ts.lookahead+ts.insert<MIN_MATCH)););}while(ts.lookahead<MIN_LOOKAHEAD&&ts.strm.avail_in!==0)},deflate_stored=(ts,ns)=>{let rs=ts.pending_buf_size-5>ts.w_size?ts.w_size:ts.pending_buf_size-5,is,os,ss,as=0,ls=ts.strm.avail_in;do{if(is=65535,ss=ts.bi_valid+42>>3,ts.strm.avail_out<ss||(ss=ts.strm.avail_out-ss,os=ts.strstart-ts.block_start,is>os+ts.strm.avail_in&&(is=os+ts.strm.avail_in),is>ss&&(is=ss),is<rs&&(is===0&&ns!==Z_FINISH$3||ns===Z_NO_FLUSH$2||is!==os+ts.strm.avail_in)))break;as=ns===Z_FINISH$3&&is===os+ts.strm.avail_in?1:0,_tr_stored_block(ts,0,0,as),ts.pending_buf[ts.pending-4]=is,ts.pending_buf[ts.pending-3]=is>>8,ts.pending_buf[ts.pending-2]=~is,ts.pending_buf[ts.pending-1]=~is>>8,flush_pending(ts.strm),os&&(os>is&&(os=is),ts.strm.output.set(ts.window.subarray(ts.block_start,ts.block_start+os),ts.strm.next_out),ts.strm.next_out+=os,ts.strm.avail_out-=os,ts.strm.total_out+=os,ts.block_start+=os,is-=os),is&&(read_buf(ts.strm,ts.strm.output,ts.strm.next_out,is),ts.strm.next_out+=is,ts.strm.avail_out-=is,ts.strm.total_out+=is)}while(as===0);return ls-=ts.strm.avail_in,ls&&(ls>=ts.w_size?(ts.matches=2,ts.window.set(ts.strm.input.subarray(ts.strm.next_in-ts.w_size,ts.strm.next_in),0),ts.strstart=ts.w_size,ts.insert=ts.strstart):(ts.window_size-ts.strstart<=ls&&(ts.strstart-=ts.w_size,ts.window.set(ts.window.subarray(ts.w_size,ts.w_size+ts.strstart),0),ts.matches<2&&ts.matches++,ts.insert>ts.strstart&&(ts.insert=ts.strstart)),ts.window.set(ts.strm.input.subarray(ts.strm.next_in-ls,ts.strm.next_in),ts.strstart),ts.strstart+=ls,ts.insert+=ls>ts.w_size-ts.insert?ts.w_size-ts.insert:ls),ts.block_start=ts.strstart),ts.high_water<ts.strstart&&(ts.high_water=ts.strstart),as?BS_FINISH_DONE:ns!==Z_NO_FLUSH$2&&ns!==Z_FINISH$3&&ts.strm.avail_in===0&&ts.strstart===ts.block_start?BS_BLOCK_DONE:(ss=ts.window_size-ts.strstart,ts.strm.avail_in>ss&&ts.block_start>=ts.w_size&&(ts.block_start-=ts.w_size,ts.strstart-=ts.w_size,ts.window.set(ts.window.subarray(ts.w_size,ts.w_size+ts.strstart),0),ts.matches<2&&ts.matches++,ss+=ts.w_size,ts.insert>ts.strstart&&(ts.insert=ts.strstart)),ss>ts.strm.avail_in&&(ss=ts.strm.avail_in),ss&&(read_buf(ts.strm,ts.window,ts.strstart,ss),ts.strstart+=ss,ts.insert+=ss>ts.w_size-ts.insert?ts.w_size-ts.insert:ss),ts.high_water<ts.strstart&&(ts.high_water=ts.strstart),ss=ts.bi_valid+42>>3,ss=ts.pending_buf_size-ss>65535?65535:ts.pending_buf_size-ss,rs=ss>ts.w_size?ts.w_size:ss,os=ts.strstart-ts.block_start,(os>=rs||(os||ns===Z_FINISH$3)&&ns!==Z_NO_FLUSH$2&&ts.strm.avail_in===0&&os<=ss)&&(is=os>ss?ss:os,as=ns===Z_FINISH$3&&ts.strm.avail_in===0&&is===os?1:0,_tr_stored_block(ts,ts.block_start,is,as),ts.block_start+=is,flush_pending(ts.strm)),as?BS_FINISH_STARTED:BS_NEED_MORE)},deflate_fast=(ts,ns)=>{let rs,is;for(;;){if(ts.lookahead<MIN_LOOKAHEAD){if(fill_window(ts),ts.lookahead<MIN_LOOKAHEAD&&ns===Z_NO_FLUSH$2)return BS_NEED_MORE;if(ts.lookahead===0)break}if(rs=0,ts.lookahead>=MIN_MATCH&&(ts.ins_h=HASH(ts,ts.ins_h,ts.window[ts.strstart+MIN_MATCH-1]),rs=ts.prev[ts.strstart&ts.w_mask]=ts.head[ts.ins_h],ts.head[ts.ins_h]=ts.strstart),rs!==0&&ts.strstart-rs<=ts.w_size-MIN_LOOKAHEAD&&(ts.match_length=longest_match(ts,rs)),ts.match_length>=MIN_MATCH)if(is=_tr_tally(ts,ts.strstart-ts.match_start,ts.match_length-MIN_MATCH),ts.lookahead-=ts.match_length,ts.match_length<=ts.max_lazy_match&&ts.lookahead>=MIN_MATCH){ts.match_length--;do ts.strstart++,ts.ins_h=HASH(ts,ts.ins_h,ts.window[ts.strstart+MIN_MATCH-1]),rs=ts.prev[ts.strstart&ts.w_mask]=ts.head[ts.ins_h],ts.head[ts.ins_h]=ts.strstart;while(--ts.match_length!==0);ts.strstart++}else ts.strstart+=ts.match_length,ts.match_length=0,ts.ins_h=ts.window[ts.strstart],ts.ins_h=HASH(ts,ts.ins_h,ts.window[ts.strstart+1]);else is=_tr_tally(ts,0,ts.window[ts.strstart]),ts.lookahead--,ts.strstart++;if(is&&(flush_block_only(ts,!1),ts.strm.avail_out===0))return BS_NEED_MORE}return ts.insert=ts.strstart<MIN_MATCH-1?ts.strstart:MIN_MATCH-1,ns===Z_FINISH$3?(flush_block_only(ts,!0),ts.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):ts.sym_next&&(flush_block_only(ts,!1),ts.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_slow=(ts,ns)=>{let rs,is,os;for(;;){if(ts.lookahead<MIN_LOOKAHEAD){if(fill_window(ts),ts.lookahead<MIN_LOOKAHEAD&&ns===Z_NO_FLUSH$2)return BS_NEED_MORE;if(ts.lookahead===0)break}if(rs=0,ts.lookahead>=MIN_MATCH&&(ts.ins_h=HASH(ts,ts.ins_h,ts.window[ts.strstart+MIN_MATCH-1]),rs=ts.prev[ts.strstart&ts.w_mask]=ts.head[ts.ins_h],ts.head[ts.ins_h]=ts.strstart),ts.prev_length=ts.match_length,ts.prev_match=ts.match_start,ts.match_length=MIN_MATCH-1,rs!==0&&ts.prev_length<ts.max_lazy_match&&ts.strstart-rs<=ts.w_size-MIN_LOOKAHEAD&&(ts.match_length=longest_match(ts,rs),ts.match_length<=5&&(ts.strategy===Z_FILTERED||ts.match_length===MIN_MATCH&&ts.strstart-ts.match_start>4096)&&(ts.match_length=MIN_MATCH-1)),ts.prev_length>=MIN_MATCH&&ts.match_length<=ts.prev_length){os=ts.strstart+ts.lookahead-MIN_MATCH,is=_tr_tally(ts,ts.strstart-1-ts.prev_match,ts.prev_length-MIN_MATCH),ts.lookahead-=ts.prev_length-1,ts.prev_length-=2;do++ts.strstart<=os&&(ts.ins_h=HASH(ts,ts.ins_h,ts.window[ts.strstart+MIN_MATCH-1]),rs=ts.prev[ts.strstart&ts.w_mask]=ts.head[ts.ins_h],ts.head[ts.ins_h]=ts.strstart);while(--ts.prev_length!==0);if(ts.match_available=0,ts.match_length=MIN_MATCH-1,ts.strstart++,is&&(flush_block_only(ts,!1),ts.strm.avail_out===0))return BS_NEED_MORE}else if(ts.match_available){if(is=_tr_tally(ts,0,ts.window[ts.strstart-1]),is&&flush_block_only(ts,!1),ts.strstart++,ts.lookahead--,ts.strm.avail_out===0)return BS_NEED_MORE}else ts.match_available=1,ts.strstart++,ts.lookahead--}return ts.match_available&&(is=_tr_tally(ts,0,ts.window[ts.strstart-1]),ts.match_available=0),ts.insert=ts.strstart<MIN_MATCH-1?ts.strstart:MIN_MATCH-1,ns===Z_FINISH$3?(flush_block_only(ts,!0),ts.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):ts.sym_next&&(flush_block_only(ts,!1),ts.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_rle=(ts,ns)=>{let rs,is,os,ss;const as=ts.window;for(;;){if(ts.lookahead<=MAX_MATCH){if(fill_window(ts),ts.lookahead<=MAX_MATCH&&ns===Z_NO_FLUSH$2)return BS_NEED_MORE;if(ts.lookahead===0)break}if(ts.match_length=0,ts.lookahead>=MIN_MATCH&&ts.strstart>0&&(os=ts.strstart-1,is=as[os],is===as[++os]&&is===as[++os]&&is===as[++os])){ss=ts.strstart+MAX_MATCH;do;while(is===as[++os]&&is===as[++os]&&is===as[++os]&&is===as[++os]&&is===as[++os]&&is===as[++os]&&is===as[++os]&&is===as[++os]&&os<ss);ts.match_length=MAX_MATCH-(ss-os),ts.match_length>ts.lookahead&&(ts.match_length=ts.lookahead)}if(ts.match_length>=MIN_MATCH?(rs=_tr_tally(ts,1,ts.match_length-MIN_MATCH),ts.lookahead-=ts.match_length,ts.strstart+=ts.match_length,ts.match_length=0):(rs=_tr_tally(ts,0,ts.window[ts.strstart]),ts.lookahead--,ts.strstart++),rs&&(flush_block_only(ts,!1),ts.strm.avail_out===0))return BS_NEED_MORE}return ts.insert=0,ns===Z_FINISH$3?(flush_block_only(ts,!0),ts.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):ts.sym_next&&(flush_block_only(ts,!1),ts.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_huff=(ts,ns)=>{let rs;for(;;){if(ts.lookahead===0&&(fill_window(ts),ts.lookahead===0)){if(ns===Z_NO_FLUSH$2)return BS_NEED_MORE;break}if(ts.match_length=0,rs=_tr_tally(ts,0,ts.window[ts.strstart]),ts.lookahead--,ts.strstart++,rs&&(flush_block_only(ts,!1),ts.strm.avail_out===0))return BS_NEED_MORE}return ts.insert=0,ns===Z_FINISH$3?(flush_block_only(ts,!0),ts.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):ts.sym_next&&(flush_block_only(ts,!1),ts.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE};function Config(ts,ns,rs,is,os){this.good_length=ts,this.max_lazy=ns,this.nice_length=rs,this.max_chain=is,this.func=os}const configuration_table=[new Config(0,0,0,0,deflate_stored),new Config(4,4,8,4,deflate_fast),new Config(4,5,16,8,deflate_fast),new Config(4,6,32,32,deflate_fast),new Config(4,4,16,16,deflate_slow),new Config(8,16,32,32,deflate_slow),new Config(8,16,128,128,deflate_slow),new Config(8,32,128,256,deflate_slow),new Config(32,128,258,1024,deflate_slow),new Config(32,258,258,4096,deflate_slow)],lm_init=ts=>{ts.window_size=2*ts.w_size,zero(ts.head),ts.max_lazy_match=configuration_table[ts.level].max_lazy,ts.good_match=configuration_table[ts.level].good_length,ts.nice_match=configuration_table[ts.level].nice_length,ts.max_chain_length=configuration_table[ts.level].max_chain,ts.strstart=0,ts.block_start=0,ts.lookahead=0,ts.insert=0,ts.match_length=ts.prev_length=MIN_MATCH-1,ts.match_available=0,ts.ins_h=0};function DeflateState(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Z_DEFLATED$2,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(HEAP_SIZE*2),this.dyn_dtree=new Uint16Array((2*D_CODES+1)*2),this.bl_tree=new Uint16Array((2*BL_CODES+1)*2),zero(this.dyn_ltree),zero(this.dyn_dtree),zero(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(MAX_BITS+1),this.heap=new Uint16Array(2*L_CODES+1),zero(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*L_CODES+1),zero(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const deflateStateCheck=ts=>{if(!ts)return 1;const ns=ts.state;return!ns||ns.strm!==ts||ns.status!==INIT_STATE&&ns.status!==GZIP_STATE&&ns.status!==EXTRA_STATE&&ns.status!==NAME_STATE&&ns.status!==COMMENT_STATE&&ns.status!==HCRC_STATE&&ns.status!==BUSY_STATE&&ns.status!==FINISH_STATE?1:0},deflateResetKeep=ts=>{if(deflateStateCheck(ts))return err(ts,Z_STREAM_ERROR$2);ts.total_in=ts.total_out=0,ts.data_type=Z_UNKNOWN;const ns=ts.state;return ns.pending=0,ns.pending_out=0,ns.wrap<0&&(ns.wrap=-ns.wrap),ns.status=ns.wrap===2?GZIP_STATE:ns.wrap?INIT_STATE:BUSY_STATE,ts.adler=ns.wrap===2?0:1,ns.last_flush=-2,_tr_init(ns),Z_OK$3},deflateReset=ts=>{const ns=deflateResetKeep(ts);return ns===Z_OK$3&&lm_init(ts.state),ns},deflateSetHeader=(ts,ns)=>deflateStateCheck(ts)||ts.state.wrap!==2?Z_STREAM_ERROR$2:(ts.state.gzhead=ns,Z_OK$3),deflateInit2=(ts,ns,rs,is,os,ss)=>{if(!ts)return Z_STREAM_ERROR$2;let as=1;if(ns===Z_DEFAULT_COMPRESSION$1&&(ns=6),is<0?(as=0,is=-is):is>15&&(as=2,is-=16),os<1||os>MAX_MEM_LEVEL||rs!==Z_DEFLATED$2||is<8||is>15||ns<0||ns>9||ss<0||ss>Z_FIXED||is===8&&as!==1)return err(ts,Z_STREAM_ERROR$2);is===8&&(is=9);const ls=new DeflateState;return ts.state=ls,ls.strm=ts,ls.status=INIT_STATE,ls.wrap=as,ls.gzhead=null,ls.w_bits=is,ls.w_size=1<<ls.w_bits,ls.w_mask=ls.w_size-1,ls.hash_bits=os+7,ls.hash_size=1<<ls.hash_bits,ls.hash_mask=ls.hash_size-1,ls.hash_shift=~~((ls.hash_bits+MIN_MATCH-1)/MIN_MATCH),ls.window=new Uint8Array(ls.w_size*2),ls.head=new Uint16Array(ls.hash_size),ls.prev=new Uint16Array(ls.w_size),ls.lit_bufsize=1<<os+6,ls.pending_buf_size=ls.lit_bufsize*4,ls.pending_buf=new Uint8Array(ls.pending_buf_size),ls.sym_buf=ls.lit_bufsize,ls.sym_end=(ls.lit_bufsize-1)*3,ls.level=ns,ls.strategy=ss,ls.method=rs,deflateReset(ts)},deflateInit=(ts,ns)=>deflateInit2(ts,ns,Z_DEFLATED$2,MAX_WBITS$1,DEF_MEM_LEVEL,Z_DEFAULT_STRATEGY$1),deflate$2=(ts,ns)=>{if(deflateStateCheck(ts)||ns>Z_BLOCK$1||ns<0)return ts?err(ts,Z_STREAM_ERROR$2):Z_STREAM_ERROR$2;const rs=ts.state;if(!ts.output||ts.avail_in!==0&&!ts.input||rs.status===FINISH_STATE&&ns!==Z_FINISH$3)return err(ts,ts.avail_out===0?Z_BUF_ERROR$1:Z_STREAM_ERROR$2);const is=rs.last_flush;if(rs.last_flush=ns,rs.pending!==0){if(flush_pending(ts),ts.avail_out===0)return rs.last_flush=-1,Z_OK$3}else if(ts.avail_in===0&&rank(ns)<=rank(is)&&ns!==Z_FINISH$3)return err(ts,Z_BUF_ERROR$1);if(rs.status===FINISH_STATE&&ts.avail_in!==0)return err(ts,Z_BUF_ERROR$1);if(rs.status===INIT_STATE&&rs.wrap===0&&(rs.status=BUSY_STATE),rs.status===INIT_STATE){let os=Z_DEFLATED$2+(rs.w_bits-8<<4)<<8,ss=-1;if(rs.strategy>=Z_HUFFMAN_ONLY||rs.level<2?ss=0:rs.level<6?ss=1:rs.level===6?ss=2:ss=3,os|=ss<<6,rs.strstart!==0&&(os|=PRESET_DICT),os+=31-os%31,putShortMSB(rs,os),rs.strstart!==0&&(putShortMSB(rs,ts.adler>>>16),putShortMSB(rs,ts.adler&65535)),ts.adler=1,rs.status=BUSY_STATE,flush_pending(ts),rs.pending!==0)return rs.last_flush=-1,Z_OK$3}if(rs.status===GZIP_STATE){if(ts.adler=0,put_byte(rs,31),put_byte(rs,139),put_byte(rs,8),rs.gzhead)put_byte(rs,(rs.gzhead.text?1:0)+(rs.gzhead.hcrc?2:0)+(rs.gzhead.extra?4:0)+(rs.gzhead.name?8:0)+(rs.gzhead.comment?16:0)),put_byte(rs,rs.gzhead.time&255),put_byte(rs,rs.gzhead.time>>8&255),put_byte(rs,rs.gzhead.time>>16&255),put_byte(rs,rs.gzhead.time>>24&255),put_byte(rs,rs.level===9?2:rs.strategy>=Z_HUFFMAN_ONLY||rs.level<2?4:0),put_byte(rs,rs.gzhead.os&255),rs.gzhead.extra&&rs.gzhead.extra.length&&(put_byte(rs,rs.gzhead.extra.length&255),put_byte(rs,rs.gzhead.extra.length>>8&255)),rs.gzhead.hcrc&&(ts.adler=crc32$1(ts.adler,rs.pending_buf,rs.pending,0)),rs.gzindex=0,rs.status=EXTRA_STATE;else if(put_byte(rs,0),put_byte(rs,0),put_byte(rs,0),put_byte(rs,0),put_byte(rs,0),put_byte(rs,rs.level===9?2:rs.strategy>=Z_HUFFMAN_ONLY||rs.level<2?4:0),put_byte(rs,OS_CODE),rs.status=BUSY_STATE,flush_pending(ts),rs.pending!==0)return rs.last_flush=-1,Z_OK$3}if(rs.status===EXTRA_STATE){if(rs.gzhead.extra){let os=rs.pending,ss=(rs.gzhead.extra.length&65535)-rs.gzindex;for(;rs.pending+ss>rs.pending_buf_size;){let ls=rs.pending_buf_size-rs.pending;if(rs.pending_buf.set(rs.gzhead.extra.subarray(rs.gzindex,rs.gzindex+ls),rs.pending),rs.pending=rs.pending_buf_size,rs.gzhead.hcrc&&rs.pending>os&&(ts.adler=crc32$1(ts.adler,rs.pending_buf,rs.pending-os,os)),rs.gzindex+=ls,flush_pending(ts),rs.pending!==0)return rs.last_flush=-1,Z_OK$3;os=0,ss-=ls}let as=new Uint8Array(rs.gzhead.extra);rs.pending_buf.set(as.subarray(rs.gzindex,rs.gzindex+ss),rs.pending),rs.pending+=ss,rs.gzhead.hcrc&&rs.pending>os&&(ts.adler=crc32$1(ts.adler,rs.pending_buf,rs.pending-os,os)),rs.gzindex=0}rs.status=NAME_STATE}if(rs.status===NAME_STATE){if(rs.gzhead.name){let os=rs.pending,ss;do{if(rs.pending===rs.pending_buf_size){if(rs.gzhead.hcrc&&rs.pending>os&&(ts.adler=crc32$1(ts.adler,rs.pending_buf,rs.pending-os,os)),flush_pending(ts),rs.pending!==0)return rs.last_flush=-1,Z_OK$3;os=0}rs.gzindex<rs.gzhead.name.length?ss=rs.gzhead.name.charCodeAt(rs.gzindex++)&255:ss=0,put_byte(rs,ss)}while(ss!==0);rs.gzhead.hcrc&&rs.pending>os&&(ts.adler=crc32$1(ts.adler,rs.pending_buf,rs.pending-os,os)),rs.gzindex=0}rs.status=COMMENT_STATE}if(rs.status===COMMENT_STATE){if(rs.gzhead.comment){let os=rs.pending,ss;do{if(rs.pending===rs.pending_buf_size){if(rs.gzhead.hcrc&&rs.pending>os&&(ts.adler=crc32$1(ts.adler,rs.pending_buf,rs.pending-os,os)),flush_pending(ts),rs.pending!==0)return rs.last_flush=-1,Z_OK$3;os=0}rs.gzindex<rs.gzhead.comment.length?ss=rs.gzhead.comment.charCodeAt(rs.gzindex++)&255:ss=0,put_byte(rs,ss)}while(ss!==0);rs.gzhead.hcrc&&rs.pending>os&&(ts.adler=crc32$1(ts.adler,rs.pending_buf,rs.pending-os,os))}rs.status=HCRC_STATE}if(rs.status===HCRC_STATE){if(rs.gzhead.hcrc){if(rs.pending+2>rs.pending_buf_size&&(flush_pending(ts),rs.pending!==0))return rs.last_flush=-1,Z_OK$3;put_byte(rs,ts.adler&255),put_byte(rs,ts.adler>>8&255),ts.adler=0}if(rs.status=BUSY_STATE,flush_pending(ts),rs.pending!==0)return rs.last_flush=-1,Z_OK$3}if(ts.avail_in!==0||rs.lookahead!==0||ns!==Z_NO_FLUSH$2&&rs.status!==FINISH_STATE){let os=rs.level===0?deflate_stored(rs,ns):rs.strategy===Z_HUFFMAN_ONLY?deflate_huff(rs,ns):rs.strategy===Z_RLE?deflate_rle(rs,ns):configuration_table[rs.level].func(rs,ns);if((os===BS_FINISH_STARTED||os===BS_FINISH_DONE)&&(rs.status=FINISH_STATE),os===BS_NEED_MORE||os===BS_FINISH_STARTED)return ts.avail_out===0&&(rs.last_flush=-1),Z_OK$3;if(os===BS_BLOCK_DONE&&(ns===Z_PARTIAL_FLUSH?_tr_align(rs):ns!==Z_BLOCK$1&&(_tr_stored_block(rs,0,0,!1),ns===Z_FULL_FLUSH$1&&(zero(rs.head),rs.lookahead===0&&(rs.strstart=0,rs.block_start=0,rs.insert=0))),flush_pending(ts),ts.avail_out===0))return rs.last_flush=-1,Z_OK$3}return ns!==Z_FINISH$3?Z_OK$3:rs.wrap<=0?Z_STREAM_END$3:(rs.wrap===2?(put_byte(rs,ts.adler&255),put_byte(rs,ts.adler>>8&255),put_byte(rs,ts.adler>>16&255),put_byte(rs,ts.adler>>24&255),put_byte(rs,ts.total_in&255),put_byte(rs,ts.total_in>>8&255),put_byte(rs,ts.total_in>>16&255),put_byte(rs,ts.total_in>>24&255)):(putShortMSB(rs,ts.adler>>>16),putShortMSB(rs,ts.adler&65535)),flush_pending(ts),rs.wrap>0&&(rs.wrap=-rs.wrap),rs.pending!==0?Z_OK$3:Z_STREAM_END$3)},deflateEnd=ts=>{if(deflateStateCheck(ts))return Z_STREAM_ERROR$2;const ns=ts.state.status;return ts.state=null,ns===BUSY_STATE?err(ts,Z_DATA_ERROR$2):Z_OK$3},deflateSetDictionary=(ts,ns)=>{let rs=ns.length;if(deflateStateCheck(ts))return Z_STREAM_ERROR$2;const is=ts.state,os=is.wrap;if(os===2||os===1&&is.status!==INIT_STATE||is.lookahead)return Z_STREAM_ERROR$2;if(os===1&&(ts.adler=adler32$1(ts.adler,ns,rs,0)),is.wrap=0,rs>=is.w_size){os===0&&(zero(is.head),is.strstart=0,is.block_start=0,is.insert=0);let cs=new Uint8Array(is.w_size);cs.set(ns.subarray(rs-is.w_size,rs),0),ns=cs,rs=is.w_size}const ss=ts.avail_in,as=ts.next_in,ls=ts.input;for(ts.avail_in=rs,ts.next_in=0,ts.input=ns,fill_window(is);is.lookahead>=MIN_MATCH;){let cs=is.strstart,us=is.lookahead-(MIN_MATCH-1);do is.ins_h=HASH(is,is.ins_h,is.window[cs+MIN_MATCH-1]),is.prev[cs&is.w_mask]=is.head[is.ins_h],is.head[is.ins_h]=cs,cs++;while(--us);is.strstart=cs,is.lookahead=MIN_MATCH-1,fill_window(is)}return is.strstart+=is.lookahead,is.block_start=is.strstart,is.insert=is.lookahead,is.lookahead=0,is.match_length=is.prev_length=MIN_MATCH-1,is.match_available=0,ts.next_in=as,ts.input=ls,ts.avail_in=ss,is.wrap=os,Z_OK$3};deflate$3.deflateInit=deflateInit;deflate$3.deflateInit2=deflateInit2;deflate$3.deflateReset=deflateReset;deflate$3.deflateResetKeep=deflateResetKeep;deflate$3.deflateSetHeader=deflateSetHeader;deflate$3.deflate=deflate$2;deflate$3.deflateEnd=deflateEnd;deflate$3.deflateSetDictionary=deflateSetDictionary;deflate$3.deflateInfo="pako deflate (from Nodeca project)";var common={};const _has=(ts,ns)=>Object.prototype.hasOwnProperty.call(ts,ns);common.assign=function(ts){const ns=Array.prototype.slice.call(arguments,1);for(;ns.length;){const rs=ns.shift();if(rs){if(typeof rs!="object")throw new TypeError(rs+"must be non-object");for(const is in rs)_has(rs,is)&&(ts[is]=rs[is])}}return ts};common.flattenChunks=ts=>{let ns=0;for(let is=0,os=ts.length;is<os;is++)ns+=ts[is].length;const rs=new Uint8Array(ns);for(let is=0,os=0,ss=ts.length;is<ss;is++){let as=ts[is];rs.set(as,os),os+=as.length}return rs};var strings$2={};let STR_APPLY_UIA_OK=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(ts){STR_APPLY_UIA_OK=!1}const _utf8len=new Uint8Array(256);for(let ts=0;ts<256;ts++)_utf8len[ts]=ts>=252?6:ts>=248?5:ts>=240?4:ts>=224?3:ts>=192?2:1;_utf8len[254]=_utf8len[254]=1;strings$2.string2buf=ts=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(ts);let ns,rs,is,os,ss,as=ts.length,ls=0;for(os=0;os<as;os++)rs=ts.charCodeAt(os),(rs&64512)===55296&&os+1<as&&(is=ts.charCodeAt(os+1),(is&64512)===56320&&(rs=65536+(rs-55296<<10)+(is-56320),os++)),ls+=rs<128?1:rs<2048?2:rs<65536?3:4;for(ns=new Uint8Array(ls),ss=0,os=0;ss<ls;os++)rs=ts.charCodeAt(os),(rs&64512)===55296&&os+1<as&&(is=ts.charCodeAt(os+1),(is&64512)===56320&&(rs=65536+(rs-55296<<10)+(is-56320),os++)),rs<128?ns[ss++]=rs:rs<2048?(ns[ss++]=192|rs>>>6,ns[ss++]=128|rs&63):rs<65536?(ns[ss++]=224|rs>>>12,ns[ss++]=128|rs>>>6&63,ns[ss++]=128|rs&63):(ns[ss++]=240|rs>>>18,ns[ss++]=128|rs>>>12&63,ns[ss++]=128|rs>>>6&63,ns[ss++]=128|rs&63);return ns};const buf2binstring=(ts,ns)=>{if(ns<65534&&ts.subarray&&STR_APPLY_UIA_OK)return String.fromCharCode.apply(null,ts.length===ns?ts:ts.subarray(0,ns));let rs="";for(let is=0;is<ns;is++)rs+=String.fromCharCode(ts[is]);return rs};strings$2.buf2string=(ts,ns)=>{const rs=ns||ts.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(ts.subarray(0,ns));let is,os;const ss=new Array(rs*2);for(os=0,is=0;is<rs;){let as=ts[is++];if(as<128){ss[os++]=as;continue}let ls=_utf8len[as];if(ls>4){ss[os++]=65533,is+=ls-1;continue}for(as&=ls===2?31:ls===3?15:7;ls>1&&is<rs;)as=as<<6|ts[is++]&63,ls--;if(ls>1){ss[os++]=65533;continue}as<65536?ss[os++]=as:(as-=65536,ss[os++]=55296|as>>10&1023,ss[os++]=56320|as&1023)}return buf2binstring(ss,os)};strings$2.utf8border=(ts,ns)=>{ns=ns||ts.length,ns>ts.length&&(ns=ts.length);let rs=ns-1;for(;rs>=0&&(ts[rs]&192)===128;)rs--;return rs<0||rs===0?ns:rs+_utf8len[ts[rs]]>ns?rs:ns};function ZStream$2(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var zstream=ZStream$2;const zlib_deflate=deflate$3,utils$1=common,strings$1=strings$2,msg$1=messages,ZStream$1=zstream,toString$1=Object.prototype.toString,{Z_NO_FLUSH:Z_NO_FLUSH$1,Z_SYNC_FLUSH,Z_FULL_FLUSH,Z_FINISH:Z_FINISH$2,Z_OK:Z_OK$2,Z_STREAM_END:Z_STREAM_END$2,Z_DEFAULT_COMPRESSION,Z_DEFAULT_STRATEGY,Z_DEFLATED:Z_DEFLATED$1}=constants$2;function Deflate$1(ts){this.options=utils$1.assign({level:Z_DEFAULT_COMPRESSION,method:Z_DEFLATED$1,chunkSize:16384,windowBits:15,memLevel:8,strategy:Z_DEFAULT_STRATEGY},ts||{});let ns=this.options;ns.raw&&ns.windowBits>0?ns.windowBits=-ns.windowBits:ns.gzip&&ns.windowBits>0&&ns.windowBits<16&&(ns.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ZStream$1,this.strm.avail_out=0;let rs=zlib_deflate.deflateInit2(this.strm,ns.level,ns.method,ns.windowBits,ns.memLevel,ns.strategy);if(rs!==Z_OK$2)throw new Error(msg$1[rs]);if(ns.header&&zlib_deflate.deflateSetHeader(this.strm,ns.header),ns.dictionary){let is;if(typeof ns.dictionary=="string"?is=strings$1.string2buf(ns.dictionary):toString$1.call(ns.dictionary)==="[object ArrayBuffer]"?is=new Uint8Array(ns.dictionary):is=ns.dictionary,rs=zlib_deflate.deflateSetDictionary(this.strm,is),rs!==Z_OK$2)throw new Error(msg$1[rs]);this._dict_set=!0}}Deflate$1.prototype.push=function(ts,ns){const rs=this.strm,is=this.options.chunkSize;let os,ss;if(this.ended)return!1;for(ns===~~ns?ss=ns:ss=ns===!0?Z_FINISH$2:Z_NO_FLUSH$1,typeof ts=="string"?rs.input=strings$1.string2buf(ts):toString$1.call(ts)==="[object ArrayBuffer]"?rs.input=new Uint8Array(ts):rs.input=ts,rs.next_in=0,rs.avail_in=rs.input.length;;){if(rs.avail_out===0&&(rs.output=new Uint8Array(is),rs.next_out=0,rs.avail_out=is),(ss===Z_SYNC_FLUSH||ss===Z_FULL_FLUSH)&&rs.avail_out<=6){this.onData(rs.output.subarray(0,rs.next_out)),rs.avail_out=0;continue}if(os=zlib_deflate.deflate(rs,ss),os===Z_STREAM_END$2)return rs.next_out>0&&this.onData(rs.output.subarray(0,rs.next_out)),os=zlib_deflate.deflateEnd(this.strm),this.onEnd(os),this.ended=!0,os===Z_OK$2;if(rs.avail_out===0){this.onData(rs.output);continue}if(ss>0&&rs.next_out>0){this.onData(rs.output.subarray(0,rs.next_out)),rs.avail_out=0;continue}if(rs.avail_in===0)break}return!0};Deflate$1.prototype.onData=function(ts){this.chunks.push(ts)};Deflate$1.prototype.onEnd=function(ts){ts===Z_OK$2&&(this.result=utils$1.flattenChunks(this.chunks)),this.chunks=[],this.err=ts,this.msg=this.strm.msg};function deflate$1(ts,ns){const rs=new Deflate$1(ns);if(rs.push(ts,!0),rs.err)throw rs.msg||msg$1[rs.err];return rs.result}function deflateRaw$1(ts,ns){return ns=ns||{},ns.raw=!0,deflate$1(ts,ns)}function gzip$1(ts,ns){return ns=ns||{},ns.gzip=!0,deflate$1(ts,ns)}deflate$4.Deflate=Deflate$1;deflate$4.deflate=deflate$1;deflate$4.deflateRaw=deflateRaw$1;deflate$4.gzip=gzip$1;deflate$4.constants=constants$2;var inflate$4={},inflate$3={};const BAD$1=16209,TYPE$1=16191;var inffast=function ts(ns,rs){let is,os,ss,as,ls,cs,us,ds,ps,hs,ms,gs,ys,vs,bs,Ss,$s,Cs,Es,xs,ws,ks,Is,Ts;const Rs=ns.state;is=ns.next_in,Is=ns.input,os=is+(ns.avail_in-5),ss=ns.next_out,Ts=ns.output,as=ss-(rs-ns.avail_out),ls=ss+(ns.avail_out-257),cs=Rs.dmax,us=Rs.wsize,ds=Rs.whave,ps=Rs.wnext,hs=Rs.window,ms=Rs.hold,gs=Rs.bits,ys=Rs.lencode,vs=Rs.distcode,bs=(1<<Rs.lenbits)-1,Ss=(1<<Rs.distbits)-1;e:do{gs<15&&(ms+=Is[is++]<<gs,gs+=8,ms+=Is[is++]<<gs,gs+=8),$s=ys[ms&bs];t:for(;;){if(Cs=$s>>>24,ms>>>=Cs,gs-=Cs,Cs=$s>>>16&255,Cs===0)Ts[ss++]=$s&65535;else if(Cs&16){Es=$s&65535,Cs&=15,Cs&&(gs<Cs&&(ms+=Is[is++]<<gs,gs+=8),Es+=ms&(1<<Cs)-1,ms>>>=Cs,gs-=Cs),gs<15&&(ms+=Is[is++]<<gs,gs+=8,ms+=Is[is++]<<gs,gs+=8),$s=vs[ms&Ss];n:for(;;){if(Cs=$s>>>24,ms>>>=Cs,gs-=Cs,Cs=$s>>>16&255,Cs&16){if(xs=$s&65535,Cs&=15,gs<Cs&&(ms+=Is[is++]<<gs,gs+=8,gs<Cs&&(ms+=Is[is++]<<gs,gs+=8)),xs+=ms&(1<<Cs)-1,xs>cs){ns.msg="invalid distance too far back",Rs.mode=BAD$1;break e}if(ms>>>=Cs,gs-=Cs,Cs=ss-as,xs>Cs){if(Cs=xs-Cs,Cs>ds&&Rs.sane){ns.msg="invalid distance too far back",Rs.mode=BAD$1;break e}if(ws=0,ks=hs,ps===0){if(ws+=us-Cs,Cs<Es){Es-=Cs;do Ts[ss++]=hs[ws++];while(--Cs);ws=ss-xs,ks=Ts}}else if(ps<Cs){if(ws+=us+ps-Cs,Cs-=ps,Cs<Es){Es-=Cs;do Ts[ss++]=hs[ws++];while(--Cs);if(ws=0,ps<Es){Cs=ps,Es-=Cs;do Ts[ss++]=hs[ws++];while(--Cs);ws=ss-xs,ks=Ts}}}else if(ws+=ps-Cs,Cs<Es){Es-=Cs;do Ts[ss++]=hs[ws++];while(--Cs);ws=ss-xs,ks=Ts}for(;Es>2;)Ts[ss++]=ks[ws++],Ts[ss++]=ks[ws++],Ts[ss++]=ks[ws++],Es-=3;Es&&(Ts[ss++]=ks[ws++],Es>1&&(Ts[ss++]=ks[ws++]))}else{ws=ss-xs;do Ts[ss++]=Ts[ws++],Ts[ss++]=Ts[ws++],Ts[ss++]=Ts[ws++],Es-=3;while(Es>2);Es&&(Ts[ss++]=Ts[ws++],Es>1&&(Ts[ss++]=Ts[ws++]))}}else if(Cs&64){ns.msg="invalid distance code",Rs.mode=BAD$1;break e}else{$s=vs[($s&65535)+(ms&(1<<Cs)-1)];continue n}break}}else if(Cs&64)if(Cs&32){Rs.mode=TYPE$1;break e}else{ns.msg="invalid literal/length code",Rs.mode=BAD$1;break e}else{$s=ys[($s&65535)+(ms&(1<<Cs)-1)];continue t}break}}while(is<os&&ss<ls);Es=gs>>3,is-=Es,gs-=Es<<3,ms&=(1<<gs)-1,ns.next_in=is,ns.next_out=ss,ns.avail_in=is<os?5+(os-is):5-(is-os),ns.avail_out=ss<ls?257+(ls-ss):257-(ss-ls),Rs.hold=ms,Rs.bits=gs};const MAXBITS=15,ENOUGH_LENS$1=852,ENOUGH_DISTS$1=592,CODES$1=0,LENS$1=1,DISTS$1=2,lbase=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),lext=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),dbase=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),dext=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),inflate_table$1=(ts,ns,rs,is,os,ss,as,ls)=>{const cs=ls.bits;let us=0,ds=0,ps=0,hs=0,ms=0,gs=0,ys=0,vs=0,bs=0,Ss=0,$s,Cs,Es,xs,ws,ks=null,Is;const Ts=new Uint16Array(MAXBITS+1),Rs=new Uint16Array(MAXBITS+1);let As=null,Ms,Ls,Ds;for(us=0;us<=MAXBITS;us++)Ts[us]=0;for(ds=0;ds<is;ds++)Ts[ns[rs+ds]]++;for(ms=cs,hs=MAXBITS;hs>=1&&Ts[hs]===0;hs--);if(ms>hs&&(ms=hs),hs===0)return os[ss++]=1<<24|64<<16|0,os[ss++]=1<<24|64<<16|0,ls.bits=1,0;for(ps=1;ps<hs&&Ts[ps]===0;ps++);for(ms<ps&&(ms=ps),vs=1,us=1;us<=MAXBITS;us++)if(vs<<=1,vs-=Ts[us],vs<0)return-1;if(vs>0&&(ts===CODES$1||hs!==1))return-1;for(Rs[1]=0,us=1;us<MAXBITS;us++)Rs[us+1]=Rs[us]+Ts[us];for(ds=0;ds<is;ds++)ns[rs+ds]!==0&&(as[Rs[ns[rs+ds]]++]=ds);if(ts===CODES$1?(ks=As=as,Is=20):ts===LENS$1?(ks=lbase,As=lext,Is=257):(ks=dbase,As=dext,Is=0),Ss=0,ds=0,us=ps,ws=ss,gs=ms,ys=0,Es=-1,bs=1<<ms,xs=bs-1,ts===LENS$1&&bs>ENOUGH_LENS$1||ts===DISTS$1&&bs>ENOUGH_DISTS$1)return 1;for(;;){Ms=us-ys,as[ds]+1<Is?(Ls=0,Ds=as[ds]):as[ds]>=Is?(Ls=As[as[ds]-Is],Ds=ks[as[ds]-Is]):(Ls=32+64,Ds=0),$s=1<<us-ys,Cs=1<<gs,ps=Cs;do Cs-=$s,os[ws+(Ss>>ys)+Cs]=Ms<<24|Ls<<16|Ds|0;while(Cs!==0);for($s=1<<us-1;Ss&$s;)$s>>=1;if($s!==0?(Ss&=$s-1,Ss+=$s):Ss=0,ds++,--Ts[us]===0){if(us===hs)break;us=ns[rs+as[ds]]}if(us>ms&&(Ss&xs)!==Es){for(ys===0&&(ys=ms),ws+=ps,gs=us-ys,vs=1<<gs;gs+ys<hs&&(vs-=Ts[gs+ys],!(vs<=0));)gs++,vs<<=1;if(bs+=1<<gs,ts===LENS$1&&bs>ENOUGH_LENS$1||ts===DISTS$1&&bs>ENOUGH_DISTS$1)return 1;Es=Ss&xs,os[Es]=ms<<24|gs<<16|ws-ss|0}}return Ss!==0&&(os[ws+Ss]=us-ys<<24|64<<16|0),ls.bits=ms,0};var inftrees=inflate_table$1;const adler32=adler32_1,crc32=crc32_1,inflate_fast=inffast,inflate_table=inftrees,CODES=0,LENS=1,DISTS=2,{Z_FINISH:Z_FINISH$1,Z_BLOCK,Z_TREES,Z_OK:Z_OK$1,Z_STREAM_END:Z_STREAM_END$1,Z_NEED_DICT:Z_NEED_DICT$1,Z_STREAM_ERROR:Z_STREAM_ERROR$1,Z_DATA_ERROR:Z_DATA_ERROR$1,Z_MEM_ERROR:Z_MEM_ERROR$1,Z_BUF_ERROR,Z_DEFLATED}=constants$2,HEAD=16180,FLAGS=16181,TIME=16182,OS=16183,EXLEN=16184,EXTRA=16185,NAME=16186,COMMENT=16187,HCRC=16188,DICTID=16189,DICT=16190,TYPE=16191,TYPEDO=16192,STORED=16193,COPY_=16194,COPY=16195,TABLE=16196,LENLENS=16197,CODELENS=16198,LEN_=16199,LEN=16200,LENEXT=16201,DIST=16202,DISTEXT=16203,MATCH=16204,LIT=16205,CHECK=16206,LENGTH=16207,DONE=16208,BAD=16209,MEM=16210,SYNC=16211,ENOUGH_LENS=852,ENOUGH_DISTS=592,MAX_WBITS=15,DEF_WBITS=MAX_WBITS,zswap32=ts=>(ts>>>24&255)+(ts>>>8&65280)+((ts&65280)<<8)+((ts&255)<<24);function InflateState(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const inflateStateCheck=ts=>{if(!ts)return 1;const ns=ts.state;return!ns||ns.strm!==ts||ns.mode<HEAD||ns.mode>SYNC?1:0},inflateResetKeep=ts=>{if(inflateStateCheck(ts))return Z_STREAM_ERROR$1;const ns=ts.state;return ts.total_in=ts.total_out=ns.total=0,ts.msg="",ns.wrap&&(ts.adler=ns.wrap&1),ns.mode=HEAD,ns.last=0,ns.havedict=0,ns.flags=-1,ns.dmax=32768,ns.head=null,ns.hold=0,ns.bits=0,ns.lencode=ns.lendyn=new Int32Array(ENOUGH_LENS),ns.distcode=ns.distdyn=new Int32Array(ENOUGH_DISTS),ns.sane=1,ns.back=-1,Z_OK$1},inflateReset=ts=>{if(inflateStateCheck(ts))return Z_STREAM_ERROR$1;const ns=ts.state;return ns.wsize=0,ns.whave=0,ns.wnext=0,inflateResetKeep(ts)},inflateReset2=(ts,ns)=>{let rs;if(inflateStateCheck(ts))return Z_STREAM_ERROR$1;const is=ts.state;return ns<0?(rs=0,ns=-ns):(rs=(ns>>4)+5,ns<48&&(ns&=15)),ns&&(ns<8||ns>15)?Z_STREAM_ERROR$1:(is.window!==null&&is.wbits!==ns&&(is.window=null),is.wrap=rs,is.wbits=ns,inflateReset(ts))},inflateInit2=(ts,ns)=>{if(!ts)return Z_STREAM_ERROR$1;const rs=new InflateState;ts.state=rs,rs.strm=ts,rs.window=null,rs.mode=HEAD;const is=inflateReset2(ts,ns);return is!==Z_OK$1&&(ts.state=null),is},inflateInit=ts=>inflateInit2(ts,DEF_WBITS);let virgin=!0,lenfix,distfix;const fixedtables=ts=>{if(virgin){lenfix=new Int32Array(512),distfix=new Int32Array(32);let ns=0;for(;ns<144;)ts.lens[ns++]=8;for(;ns<256;)ts.lens[ns++]=9;for(;ns<280;)ts.lens[ns++]=7;for(;ns<288;)ts.lens[ns++]=8;for(inflate_table(LENS,ts.lens,0,288,lenfix,0,ts.work,{bits:9}),ns=0;ns<32;)ts.lens[ns++]=5;inflate_table(DISTS,ts.lens,0,32,distfix,0,ts.work,{bits:5}),virgin=!1}ts.lencode=lenfix,ts.lenbits=9,ts.distcode=distfix,ts.distbits=5},updatewindow=(ts,ns,rs,is)=>{let os;const ss=ts.state;return ss.window===null&&(ss.wsize=1<<ss.wbits,ss.wnext=0,ss.whave=0,ss.window=new Uint8Array(ss.wsize)),is>=ss.wsize?(ss.window.set(ns.subarray(rs-ss.wsize,rs),0),ss.wnext=0,ss.whave=ss.wsize):(os=ss.wsize-ss.wnext,os>is&&(os=is),ss.window.set(ns.subarray(rs-is,rs-is+os),ss.wnext),is-=os,is?(ss.window.set(ns.subarray(rs-is,rs),0),ss.wnext=is,ss.whave=ss.wsize):(ss.wnext+=os,ss.wnext===ss.wsize&&(ss.wnext=0),ss.whave<ss.wsize&&(ss.whave+=os))),0},inflate$2=(ts,ns)=>{let rs,is,os,ss,as,ls,cs,us,ds,ps,hs,ms,gs,ys,vs=0,bs,Ss,$s,Cs,Es,xs,ws,ks;const Is=new Uint8Array(4);let Ts,Rs;const As=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(inflateStateCheck(ts)||!ts.output||!ts.input&&ts.avail_in!==0)return Z_STREAM_ERROR$1;rs=ts.state,rs.mode===TYPE&&(rs.mode=TYPEDO),as=ts.next_out,os=ts.output,cs=ts.avail_out,ss=ts.next_in,is=ts.input,ls=ts.avail_in,us=rs.hold,ds=rs.bits,ps=ls,hs=cs,ks=Z_OK$1;e:for(;;)switch(rs.mode){case HEAD:if(rs.wrap===0){rs.mode=TYPEDO;break}for(;ds<16;){if(ls===0)break e;ls--,us+=is[ss++]<<ds,ds+=8}if(rs.wrap&2&&us===35615){rs.wbits===0&&(rs.wbits=15),rs.check=0,Is[0]=us&255,Is[1]=us>>>8&255,rs.check=crc32(rs.check,Is,2,0),us=0,ds=0,rs.mode=FLAGS;break}if(rs.head&&(rs.head.done=!1),!(rs.wrap&1)||(((us&255)<<8)+(us>>8))%31){ts.msg="incorrect header check",rs.mode=BAD;break}if((us&15)!==Z_DEFLATED){ts.msg="unknown compression method",rs.mode=BAD;break}if(us>>>=4,ds-=4,ws=(us&15)+8,rs.wbits===0&&(rs.wbits=ws),ws>15||ws>rs.wbits){ts.msg="invalid window size",rs.mode=BAD;break}rs.dmax=1<<rs.wbits,rs.flags=0,ts.adler=rs.check=1,rs.mode=us&512?DICTID:TYPE,us=0,ds=0;break;case FLAGS:for(;ds<16;){if(ls===0)break e;ls--,us+=is[ss++]<<ds,ds+=8}if(rs.flags=us,(rs.flags&255)!==Z_DEFLATED){ts.msg="unknown compression method",rs.mode=BAD;break}if(rs.flags&57344){ts.msg="unknown header flags set",rs.mode=BAD;break}rs.head&&(rs.head.text=us>>8&1),rs.flags&512&&rs.wrap&4&&(Is[0]=us&255,Is[1]=us>>>8&255,rs.check=crc32(rs.check,Is,2,0)),us=0,ds=0,rs.mode=TIME;case TIME:for(;ds<32;){if(ls===0)break e;ls--,us+=is[ss++]<<ds,ds+=8}rs.head&&(rs.head.time=us),rs.flags&512&&rs.wrap&4&&(Is[0]=us&255,Is[1]=us>>>8&255,Is[2]=us>>>16&255,Is[3]=us>>>24&255,rs.check=crc32(rs.check,Is,4,0)),us=0,ds=0,rs.mode=OS;case OS:for(;ds<16;){if(ls===0)break e;ls--,us+=is[ss++]<<ds,ds+=8}rs.head&&(rs.head.xflags=us&255,rs.head.os=us>>8),rs.flags&512&&rs.wrap&4&&(Is[0]=us&255,Is[1]=us>>>8&255,rs.check=crc32(rs.check,Is,2,0)),us=0,ds=0,rs.mode=EXLEN;case EXLEN:if(rs.flags&1024){for(;ds<16;){if(ls===0)break e;ls--,us+=is[ss++]<<ds,ds+=8}rs.length=us,rs.head&&(rs.head.extra_len=us),rs.flags&512&&rs.wrap&4&&(Is[0]=us&255,Is[1]=us>>>8&255,rs.check=crc32(rs.check,Is,2,0)),us=0,ds=0}else rs.head&&(rs.head.extra=null);rs.mode=EXTRA;case EXTRA:if(rs.flags&1024&&(ms=rs.length,ms>ls&&(ms=ls),ms&&(rs.head&&(ws=rs.head.extra_len-rs.length,rs.head.extra||(rs.head.extra=new Uint8Array(rs.head.extra_len)),rs.head.extra.set(is.subarray(ss,ss+ms),ws)),rs.flags&512&&rs.wrap&4&&(rs.check=crc32(rs.check,is,ms,ss)),ls-=ms,ss+=ms,rs.length-=ms),rs.length))break e;rs.length=0,rs.mode=NAME;case NAME:if(rs.flags&2048){if(ls===0)break e;ms=0;do ws=is[ss+ms++],rs.head&&ws&&rs.length<65536&&(rs.head.name+=String.fromCharCode(ws));while(ws&&ms<ls);if(rs.flags&512&&rs.wrap&4&&(rs.check=crc32(rs.check,is,ms,ss)),ls-=ms,ss+=ms,ws)break e}else rs.head&&(rs.head.name=null);rs.length=0,rs.mode=COMMENT;case COMMENT:if(rs.flags&4096){if(ls===0)break e;ms=0;do ws=is[ss+ms++],rs.head&&ws&&rs.length<65536&&(rs.head.comment+=String.fromCharCode(ws));while(ws&&ms<ls);if(rs.flags&512&&rs.wrap&4&&(rs.check=crc32(rs.check,is,ms,ss)),ls-=ms,ss+=ms,ws)break e}else rs.head&&(rs.head.comment=null);rs.mode=HCRC;case HCRC:if(rs.flags&512){for(;ds<16;){if(ls===0)break e;ls--,us+=is[ss++]<<ds,ds+=8}if(rs.wrap&4&&us!==(rs.check&65535)){ts.msg="header crc mismatch",rs.mode=BAD;break}us=0,ds=0}rs.head&&(rs.head.hcrc=rs.flags>>9&1,rs.head.done=!0),ts.adler=rs.check=0,rs.mode=TYPE;break;case DICTID:for(;ds<32;){if(ls===0)break e;ls--,us+=is[ss++]<<ds,ds+=8}ts.adler=rs.check=zswap32(us),us=0,ds=0,rs.mode=DICT;case DICT:if(rs.havedict===0)return ts.next_out=as,ts.avail_out=cs,ts.next_in=ss,ts.avail_in=ls,rs.hold=us,rs.bits=ds,Z_NEED_DICT$1;ts.adler=rs.check=1,rs.mode=TYPE;case TYPE:if(ns===Z_BLOCK||ns===Z_TREES)break e;case TYPEDO:if(rs.last){us>>>=ds&7,ds-=ds&7,rs.mode=CHECK;break}for(;ds<3;){if(ls===0)break e;ls--,us+=is[ss++]<<ds,ds+=8}switch(rs.last=us&1,us>>>=1,ds-=1,us&3){case 0:rs.mode=STORED;break;case 1:if(fixedtables(rs),rs.mode=LEN_,ns===Z_TREES){us>>>=2,ds-=2;break e}break;case 2:rs.mode=TABLE;break;case 3:ts.msg="invalid block type",rs.mode=BAD}us>>>=2,ds-=2;break;case STORED:for(us>>>=ds&7,ds-=ds&7;ds<32;){if(ls===0)break e;ls--,us+=is[ss++]<<ds,ds+=8}if((us&65535)!==(us>>>16^65535)){ts.msg="invalid stored block lengths",rs.mode=BAD;break}if(rs.length=us&65535,us=0,ds=0,rs.mode=COPY_,ns===Z_TREES)break e;case COPY_:rs.mode=COPY;case COPY:if(ms=rs.length,ms){if(ms>ls&&(ms=ls),ms>cs&&(ms=cs),ms===0)break e;os.set(is.subarray(ss,ss+ms),as),ls-=ms,ss+=ms,cs-=ms,as+=ms,rs.length-=ms;break}rs.mode=TYPE;break;case TABLE:for(;ds<14;){if(ls===0)break e;ls--,us+=is[ss++]<<ds,ds+=8}if(rs.nlen=(us&31)+257,us>>>=5,ds-=5,rs.ndist=(us&31)+1,us>>>=5,ds-=5,rs.ncode=(us&15)+4,us>>>=4,ds-=4,rs.nlen>286||rs.ndist>30){ts.msg="too many length or distance symbols",rs.mode=BAD;break}rs.have=0,rs.mode=LENLENS;case LENLENS:for(;rs.have<rs.ncode;){for(;ds<3;){if(ls===0)break e;ls--,us+=is[ss++]<<ds,ds+=8}rs.lens[As[rs.have++]]=us&7,us>>>=3,ds-=3}for(;rs.have<19;)rs.lens[As[rs.have++]]=0;if(rs.lencode=rs.lendyn,rs.lenbits=7,Ts={bits:rs.lenbits},ks=inflate_table(CODES,rs.lens,0,19,rs.lencode,0,rs.work,Ts),rs.lenbits=Ts.bits,ks){ts.msg="invalid code lengths set",rs.mode=BAD;break}rs.have=0,rs.mode=CODELENS;case CODELENS:for(;rs.have<rs.nlen+rs.ndist;){for(;vs=rs.lencode[us&(1<<rs.lenbits)-1],bs=vs>>>24,Ss=vs>>>16&255,$s=vs&65535,!(bs<=ds);){if(ls===0)break e;ls--,us+=is[ss++]<<ds,ds+=8}if($s<16)us>>>=bs,ds-=bs,rs.lens[rs.have++]=$s;else{if($s===16){for(Rs=bs+2;ds<Rs;){if(ls===0)break e;ls--,us+=is[ss++]<<ds,ds+=8}if(us>>>=bs,ds-=bs,rs.have===0){ts.msg="invalid bit length repeat",rs.mode=BAD;break}ws=rs.lens[rs.have-1],ms=3+(us&3),us>>>=2,ds-=2}else if($s===17){for(Rs=bs+3;ds<Rs;){if(ls===0)break e;ls--,us+=is[ss++]<<ds,ds+=8}us>>>=bs,ds-=bs,ws=0,ms=3+(us&7),us>>>=3,ds-=3}else{for(Rs=bs+7;ds<Rs;){if(ls===0)break e;ls--,us+=is[ss++]<<ds,ds+=8}us>>>=bs,ds-=bs,ws=0,ms=11+(us&127),us>>>=7,ds-=7}if(rs.have+ms>rs.nlen+rs.ndist){ts.msg="invalid bit length repeat",rs.mode=BAD;break}for(;ms--;)rs.lens[rs.have++]=ws}}if(rs.mode===BAD)break;if(rs.lens[256]===0){ts.msg="invalid code -- missing end-of-block",rs.mode=BAD;break}if(rs.lenbits=9,Ts={bits:rs.lenbits},ks=inflate_table(LENS,rs.lens,0,rs.nlen,rs.lencode,0,rs.work,Ts),rs.lenbits=Ts.bits,ks){ts.msg="invalid literal/lengths set",rs.mode=BAD;break}if(rs.distbits=6,rs.distcode=rs.distdyn,Ts={bits:rs.distbits},ks=inflate_table(DISTS,rs.lens,rs.nlen,rs.ndist,rs.distcode,0,rs.work,Ts),rs.distbits=Ts.bits,ks){ts.msg="invalid distances set",rs.mode=BAD;break}if(rs.mode=LEN_,ns===Z_TREES)break e;case LEN_:rs.mode=LEN;case LEN:if(ls>=6&&cs>=258){ts.next_out=as,ts.avail_out=cs,ts.next_in=ss,ts.avail_in=ls,rs.hold=us,rs.bits=ds,inflate_fast(ts,hs),as=ts.next_out,os=ts.output,cs=ts.avail_out,ss=ts.next_in,is=ts.input,ls=ts.avail_in,us=rs.hold,ds=rs.bits,rs.mode===TYPE&&(rs.back=-1);break}for(rs.back=0;vs=rs.lencode[us&(1<<rs.lenbits)-1],bs=vs>>>24,Ss=vs>>>16&255,$s=vs&65535,!(bs<=ds);){if(ls===0)break e;ls--,us+=is[ss++]<<ds,ds+=8}if(Ss&&!(Ss&240)){for(Cs=bs,Es=Ss,xs=$s;vs=rs.lencode[xs+((us&(1<<Cs+Es)-1)>>Cs)],bs=vs>>>24,Ss=vs>>>16&255,$s=vs&65535,!(Cs+bs<=ds);){if(ls===0)break e;ls--,us+=is[ss++]<<ds,ds+=8}us>>>=Cs,ds-=Cs,rs.back+=Cs}if(us>>>=bs,ds-=bs,rs.back+=bs,rs.length=$s,Ss===0){rs.mode=LIT;break}if(Ss&32){rs.back=-1,rs.mode=TYPE;break}if(Ss&64){ts.msg="invalid literal/length code",rs.mode=BAD;break}rs.extra=Ss&15,rs.mode=LENEXT;case LENEXT:if(rs.extra){for(Rs=rs.extra;ds<Rs;){if(ls===0)break e;ls--,us+=is[ss++]<<ds,ds+=8}rs.length+=us&(1<<rs.extra)-1,us>>>=rs.extra,ds-=rs.extra,rs.back+=rs.extra}rs.was=rs.length,rs.mode=DIST;case DIST:for(;vs=rs.distcode[us&(1<<rs.distbits)-1],bs=vs>>>24,Ss=vs>>>16&255,$s=vs&65535,!(bs<=ds);){if(ls===0)break e;ls--,us+=is[ss++]<<ds,ds+=8}if(!(Ss&240)){for(Cs=bs,Es=Ss,xs=$s;vs=rs.distcode[xs+((us&(1<<Cs+Es)-1)>>Cs)],bs=vs>>>24,Ss=vs>>>16&255,$s=vs&65535,!(Cs+bs<=ds);){if(ls===0)break e;ls--,us+=is[ss++]<<ds,ds+=8}us>>>=Cs,ds-=Cs,rs.back+=Cs}if(us>>>=bs,ds-=bs,rs.back+=bs,Ss&64){ts.msg="invalid distance code",rs.mode=BAD;break}rs.offset=$s,rs.extra=Ss&15,rs.mode=DISTEXT;case DISTEXT:if(rs.extra){for(Rs=rs.extra;ds<Rs;){if(ls===0)break e;ls--,us+=is[ss++]<<ds,ds+=8}rs.offset+=us&(1<<rs.extra)-1,us>>>=rs.extra,ds-=rs.extra,rs.back+=rs.extra}if(rs.offset>rs.dmax){ts.msg="invalid distance too far back",rs.mode=BAD;break}rs.mode=MATCH;case MATCH:if(cs===0)break e;if(ms=hs-cs,rs.offset>ms){if(ms=rs.offset-ms,ms>rs.whave&&rs.sane){ts.msg="invalid distance too far back",rs.mode=BAD;break}ms>rs.wnext?(ms-=rs.wnext,gs=rs.wsize-ms):gs=rs.wnext-ms,ms>rs.length&&(ms=rs.length),ys=rs.window}else ys=os,gs=as-rs.offset,ms=rs.length;ms>cs&&(ms=cs),cs-=ms,rs.length-=ms;do os[as++]=ys[gs++];while(--ms);rs.length===0&&(rs.mode=LEN);break;case LIT:if(cs===0)break e;os[as++]=rs.length,cs--,rs.mode=LEN;break;case CHECK:if(rs.wrap){for(;ds<32;){if(ls===0)break e;ls--,us|=is[ss++]<<ds,ds+=8}if(hs-=cs,ts.total_out+=hs,rs.total+=hs,rs.wrap&4&&hs&&(ts.adler=rs.check=rs.flags?crc32(rs.check,os,hs,as-hs):adler32(rs.check,os,hs,as-hs)),hs=cs,rs.wrap&4&&(rs.flags?us:zswap32(us))!==rs.check){ts.msg="incorrect data check",rs.mode=BAD;break}us=0,ds=0}rs.mode=LENGTH;case LENGTH:if(rs.wrap&&rs.flags){for(;ds<32;){if(ls===0)break e;ls--,us+=is[ss++]<<ds,ds+=8}if(rs.wrap&4&&us!==(rs.total&4294967295)){ts.msg="incorrect length check",rs.mode=BAD;break}us=0,ds=0}rs.mode=DONE;case DONE:ks=Z_STREAM_END$1;break e;case BAD:ks=Z_DATA_ERROR$1;break e;case MEM:return Z_MEM_ERROR$1;case SYNC:default:return Z_STREAM_ERROR$1}return ts.next_out=as,ts.avail_out=cs,ts.next_in=ss,ts.avail_in=ls,rs.hold=us,rs.bits=ds,(rs.wsize||hs!==ts.avail_out&&rs.mode<BAD&&(rs.mode<CHECK||ns!==Z_FINISH$1))&&updatewindow(ts,ts.output,ts.next_out,hs-ts.avail_out),ps-=ts.avail_in,hs-=ts.avail_out,ts.total_in+=ps,ts.total_out+=hs,rs.total+=hs,rs.wrap&4&&hs&&(ts.adler=rs.check=rs.flags?crc32(rs.check,os,hs,ts.next_out-hs):adler32(rs.check,os,hs,ts.next_out-hs)),ts.data_type=rs.bits+(rs.last?64:0)+(rs.mode===TYPE?128:0)+(rs.mode===LEN_||rs.mode===COPY_?256:0),(ps===0&&hs===0||ns===Z_FINISH$1)&&ks===Z_OK$1&&(ks=Z_BUF_ERROR),ks},inflateEnd=ts=>{if(inflateStateCheck(ts))return Z_STREAM_ERROR$1;let ns=ts.state;return ns.window&&(ns.window=null),ts.state=null,Z_OK$1},inflateGetHeader=(ts,ns)=>{if(inflateStateCheck(ts))return Z_STREAM_ERROR$1;const rs=ts.state;return rs.wrap&2?(rs.head=ns,ns.done=!1,Z_OK$1):Z_STREAM_ERROR$1},inflateSetDictionary=(ts,ns)=>{const rs=ns.length;let is,os,ss;return inflateStateCheck(ts)||(is=ts.state,is.wrap!==0&&is.mode!==DICT)?Z_STREAM_ERROR$1:is.mode===DICT&&(os=1,os=adler32(os,ns,rs,0),os!==is.check)?Z_DATA_ERROR$1:(ss=updatewindow(ts,ns,rs,rs),ss?(is.mode=MEM,Z_MEM_ERROR$1):(is.havedict=1,Z_OK$1))};inflate$3.inflateReset=inflateReset;inflate$3.inflateReset2=inflateReset2;inflate$3.inflateResetKeep=inflateResetKeep;inflate$3.inflateInit=inflateInit;inflate$3.inflateInit2=inflateInit2;inflate$3.inflate=inflate$2;inflate$3.inflateEnd=inflateEnd;inflate$3.inflateGetHeader=inflateGetHeader;inflate$3.inflateSetDictionary=inflateSetDictionary;inflate$3.inflateInfo="pako inflate (from Nodeca project)";function GZheader$1(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var gzheader=GZheader$1;const zlib_inflate=inflate$3,utils=common,strings=strings$2,msg=messages,ZStream=zstream,GZheader=gzheader,toString=Object.prototype.toString,{Z_NO_FLUSH,Z_FINISH,Z_OK,Z_STREAM_END,Z_NEED_DICT,Z_STREAM_ERROR,Z_DATA_ERROR,Z_MEM_ERROR}=constants$2;function Inflate$1(ts){this.options=utils.assign({chunkSize:1024*64,windowBits:15,to:""},ts||{});const ns=this.options;ns.raw&&ns.windowBits>=0&&ns.windowBits<16&&(ns.windowBits=-ns.windowBits,ns.windowBits===0&&(ns.windowBits=-15)),ns.windowBits>=0&&ns.windowBits<16&&!(ts&&ts.windowBits)&&(ns.windowBits+=32),ns.windowBits>15&&ns.windowBits<48&&(ns.windowBits&15||(ns.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ZStream,this.strm.avail_out=0;let rs=zlib_inflate.inflateInit2(this.strm,ns.windowBits);if(rs!==Z_OK)throw new Error(msg[rs]);if(this.header=new GZheader,zlib_inflate.inflateGetHeader(this.strm,this.header),ns.dictionary&&(typeof ns.dictionary=="string"?ns.dictionary=strings.string2buf(ns.dictionary):toString.call(ns.dictionary)==="[object ArrayBuffer]"&&(ns.dictionary=new Uint8Array(ns.dictionary)),ns.raw&&(rs=zlib_inflate.inflateSetDictionary(this.strm,ns.dictionary),rs!==Z_OK)))throw new Error(msg[rs])}Inflate$1.prototype.push=function(ts,ns){const rs=this.strm,is=this.options.chunkSize,os=this.options.dictionary;let ss,as,ls;if(this.ended)return!1;for(ns===~~ns?as=ns:as=ns===!0?Z_FINISH:Z_NO_FLUSH,toString.call(ts)==="[object ArrayBuffer]"?rs.input=new Uint8Array(ts):rs.input=ts,rs.next_in=0,rs.avail_in=rs.input.length;;){for(rs.avail_out===0&&(rs.output=new Uint8Array(is),rs.next_out=0,rs.avail_out=is),ss=zlib_inflate.inflate(rs,as),ss===Z_NEED_DICT&&os&&(ss=zlib_inflate.inflateSetDictionary(rs,os),ss===Z_OK?ss=zlib_inflate.inflate(rs,as):ss===Z_DATA_ERROR&&(ss=Z_NEED_DICT));rs.avail_in>0&&ss===Z_STREAM_END&&rs.state.wrap>0&&ts[rs.next_in]!==0;)zlib_inflate.inflateReset(rs),ss=zlib_inflate.inflate(rs,as);switch(ss){case Z_STREAM_ERROR:case Z_DATA_ERROR:case Z_NEED_DICT:case Z_MEM_ERROR:return this.onEnd(ss),this.ended=!0,!1}if(ls=rs.avail_out,rs.next_out&&(rs.avail_out===0||ss===Z_STREAM_END))if(this.options.to==="string"){let cs=strings.utf8border(rs.output,rs.next_out),us=rs.next_out-cs,ds=strings.buf2string(rs.output,cs);rs.next_out=us,rs.avail_out=is-us,us&&rs.output.set(rs.output.subarray(cs,cs+us),0),this.onData(ds)}else this.onData(rs.output.length===rs.next_out?rs.output:rs.output.subarray(0,rs.next_out));if(!(ss===Z_OK&&ls===0)){if(ss===Z_STREAM_END)return ss=zlib_inflate.inflateEnd(this.strm),this.onEnd(ss),this.ended=!0,!0;if(rs.avail_in===0)break}}return!0};Inflate$1.prototype.onData=function(ts){this.chunks.push(ts)};Inflate$1.prototype.onEnd=function(ts){ts===Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=utils.flattenChunks(this.chunks)),this.chunks=[],this.err=ts,this.msg=this.strm.msg};function inflate$1(ts,ns){const rs=new Inflate$1(ns);if(rs.push(ts),rs.err)throw rs.msg||msg[rs.err];return rs.result}function inflateRaw$1(ts,ns){return ns=ns||{},ns.raw=!0,inflate$1(ts,ns)}inflate$4.Inflate=Inflate$1;inflate$4.inflate=inflate$1;inflate$4.inflateRaw=inflateRaw$1;inflate$4.ungzip=inflate$1;inflate$4.constants=constants$2;const{Deflate,deflate,deflateRaw,gzip}=deflate$4,{Inflate,inflate,inflateRaw,ungzip}=inflate$4,constants$1=constants$2;pako$1.Deflate=Deflate;pako$1.deflate=deflate;pako$1.deflateRaw=deflateRaw;pako$1.gzip=gzip;pako$1.Inflate=Inflate;pako$1.inflate=inflate;pako$1.inflateRaw=inflateRaw;pako$1.ungzip=ungzip;pako$1.constants=constants$1;Object.defineProperty(ZLIBTextCompressor$1,"__esModule",{value:!0});const pako=pako$1;class ZLIBTextCompressor{constructor(ns){this.logger=ns}compress(ns,rs){if(rs.length>0){const ss=Math.min(rs.length,ZLIBTextCompressor.MAX_DICTIONARY_SIZE);rs=rs.slice(0,ss)}const is={memLevel:ZLIBTextCompressor.Z_MEM_LEVEL,dictionary:rs};return pako.deflateRaw(ns,is)}decompress(ns,rs){if(rs.length>0){const ss=Math.min(rs.length,ZLIBTextCompressor.MAX_DICTIONARY_SIZE);rs=rs.slice(0,ss)}const is={to:"string",dictionary:rs,chunkSize:4096};let os="";try{os=pako.inflateRaw(ns,is)}catch(ss){this.logger.error("failed to decompress the string with error: [".concat(ss,"]"))}return os}}ZLIBTextCompressor$1.default=ZLIBTextCompressor;ZLIBTextCompressor.Z_MEM_LEVEL=9;ZLIBTextCompressor.MAX_DICTIONARY_SIZE=31744;var SignalingClientSubscribe$1={};Object.defineProperty(SignalingClientSubscribe$1,"__esModule",{value:!0});class SignalingClientSubscribe{constructor(ns,rs,is,os,ss,as,ls,cs,us,ds){this.attendeeId=ns,this.sdpOffer=rs,this.audioHost=is,this.audioMuted=os,this.audioCheckin=ss,this.receiveStreamIds=as,this.localVideoEnabled=ls,this.videoStreamDescriptions=cs,this.connectionTypeHasVideo=us,this.compressedSdpOffer=ds,this.videoSubscriptionConfiguration=[]}}SignalingClientSubscribe$1.default=SignalingClientSubscribe;var VideoPreferences$1={},__importDefault$J=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(VideoPreferences$1,"__esModule",{value:!0});VideoPreferences$1.VideoPreferences=VideoPreferences$1.MutableVideoPreferences=VideoPreferences$1.convertVideoPreferencesToSignalingClientVideoSubscriptionConfiguration=void 0;const SignalingClientVideoSubscriptionConfiguration_1=__importDefault$J(SignalingClientVideoSubscriptionConfiguration$1);function convertVideoPreferencesToSignalingClientVideoSubscriptionConfiguration(ts,ns,rs){if(ts.transceiverController.getMidForGroupId===void 0||ts.videoStreamIndex.attendeeIdForGroupId===void 0||rs===void 0)return[];const is=new Array,os=new Map,ss=new Map;for(const as of ns){const ls=ts.transceiverController.getMidForGroupId(as);if(ls===void 0)continue;const cs=ts.videoStreamIndex.attendeeIdForGroupId(as);os.set(cs,ls),ss.set(cs,as)}for(const as of rs){const ls=new SignalingClientVideoSubscriptionConfiguration_1.default,cs=os.get(as.attendeeId);cs!==void 0&&(ls.mid=cs,ls.attendeeId=as.attendeeId,ls.groupId=ss.get(as.attendeeId),ls.priority=Number.MAX_SAFE_INTEGER-as.priority,ls.targetBitrateKbps=as.targetSizeToBitrateKbps(as.targetSize),ls.qualityAdaptationPreference=as.degradationPreference,is.push(ls))}return is}VideoPreferences$1.convertVideoPreferencesToSignalingClientVideoSubscriptionConfiguration=convertVideoPreferencesToSignalingClientVideoSubscriptionConfiguration;class ObjectSet{constructor(ns=[]){this.items=ns}static default(){return new ObjectSet([])}[Symbol.iterator](){let ns=0;const rs=this.items;return{next(){return ns<rs.length?{done:!1,value:rs[ns++]}:{done:!0,value:null}}}}first(){return this.items[0]}add(ns){this.items.push(ns)}replaceFirst(ns,rs){const is=this.items.findIndex(rs);is===-1?this.items.push(ns):this.has(ns)?this.items.splice(is,1):this.items[is]=ns}remove(ns){this.items=this.items.filter(rs=>!rs.equals(ns))}clear(){this.items=[]}isEmpty(){return this.items.length===0}equals(ns){if(ns===this)return!0;if(ns.items.length!==this.items.length)return!1;for(const rs of this.items)if(!ns.items.some(is=>is.equals(rs)))return!1;return!0}has(ns){return this.items.some(rs=>rs.equals(ns))}some(ns){return this.items.some(ns)}clone(){return new ObjectSet([...this.items])}sort(){this.items.sort((ns,rs)=>ns.partialCompare(rs))}modify(){return new SetBuilder(this)}}class SetBuilder{constructor(ns=new ObjectSet){this.items=ns,this.copied=!1}cow(){this.copied||(this.items=this.items.clone(),this.copied=!0)}add(ns){this.items.has(ns)||(this.cow(),this.items.add(ns))}replaceFirst(ns,rs){this.items.has(ns)&&!this.items.some(rs)||(this.cow(),this.items.replaceFirst(ns,rs))}remove(ns){this.items.has(ns)&&(this.cow(),this.items.remove(ns))}some(ns){return this.items.some(ns)}clear(){this.items.isEmpty()||(this.cow(),this.items.clear())}build(){return this.copied&&this.items.sort(),this.copied=!1,this.items}}class MutableVideoPreferences{constructor(ns){this.builder=ns}add(ns){this.builder.add(ns)}replaceFirst(ns,rs){this.builder.replaceFirst(ns,rs)}remove(ns){this.builder.remove(ns)}some(ns){return this.builder.some(ns)}clear(){this.builder.clear()}build(){return new VideoPreferences(this.builder.build())}}VideoPreferences$1.MutableVideoPreferences=MutableVideoPreferences;class VideoPreferences{constructor(ns){this.items=ns}static prepare(){return new MutableVideoPreferences(new SetBuilder)}static default(){return new VideoPreferences(ObjectSet.default())}[Symbol.iterator](){return this.items[Symbol.iterator]()}highestPriority(){var ns;return(ns=this.items.first())===null||ns===void 0?void 0:ns.priority}sorted(){return this.items[Symbol.iterator]()}equals(ns){return ns===this||this.items.equals(ns.items)}modify(){return new MutableVideoPreferences(this.items.modify())}some(ns){return this.items.some(ns)}isEmpty(){return this.items.isEmpty()}clone(){const ns=VideoPreferences.prepare();for(const rs of this.items)ns.add(rs.clone());return ns.build()}}VideoPreferences$1.VideoPreferences=VideoPreferences;VideoPreferences$1.default=VideoPreferences;var __awaiter$v=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,ns,rs,is){function os(ss){return ss instanceof rs?ss:new rs(function(as){as(ss)})}return new(rs||(rs=Promise))(function(ss,as){function ls(ds){try{us(is.next(ds))}catch(ps){as(ps)}}function cs(ds){try{us(is.throw(ds))}catch(ps){as(ps)}}function us(ds){ds.done?ss(ds.value):os(ds.value).then(ls,cs)}us((is=is.apply(ts,ns||[])).next())})},__importDefault$I=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(SubscribeAndReceiveSubscribeAckTask$1,"__esModule",{value:!0});const MeetingSessionStatus_1=__importDefault$I(MeetingSessionStatus$1),MeetingSessionStatusCode_1$1=__importDefault$I(MeetingSessionStatusCode),SDP_1=__importDefault$I(SDP$1),ZLIBTextCompressor_1=__importDefault$I(ZLIBTextCompressor$1),ServerSideNetworkAdaption_1$3=ServerSideNetworkAdaption,SignalingClientEventType_1=__importDefault$I(SignalingClientEventType),SignalingClientSubscribe_1=__importDefault$I(SignalingClientSubscribe$1),SignalingProtocol_js_1$3=SignalingProtocol,VideoPreferences_1$2=VideoPreferences$1,BaseTask_1$4=__importDefault$I(BaseTask$1);class SubscribeAndReceiveSubscribeAckTask extends BaseTask_1$4.default{constructor(ns){super(ns.logger),this.context=ns,this.taskName="SubscribeAndReceiveSubscribeAckTask",this.taskCanceler=null,this.textCompressor=new ZLIBTextCompressor_1.default(ns.logger)}cancel(){this.taskCanceler&&(this.taskCanceler.cancel(),this.taskCanceler=null)}run(){return __awaiter$v(this,void 0,void 0,function*(){let ns="";if(this.context.peer&&this.context.peer.localDescription&&(ns=new SDP_1.default(this.context.peer.localDescription.sdp).withUnifiedPlanFormat().sdp),!this.context.enableSimulcast){let us=0,ds=0;this.context.videoCaptureAndEncodeParameter&&(us=this.context.videoCaptureAndEncodeParameter.captureFrameRate(),ds=this.context.videoCaptureAndEncodeParameter.encodeBitrates()[0]);const ps={rid:"hi",maxBitrate:ds*1e3,maxFramerate:us,active:!0};this.context.videoStreamIndex.integrateUplinkPolicyDecision([ps])}const rs=this.fixUpSubscriptionOrder(ns,this.context.videoSubscriptions),is=this.context.videoDuplexMode===SignalingProtocol_js_1$3.SdkStreamServiceType.TX||this.context.videoDuplexMode===SignalingProtocol_js_1$3.SdkStreamServiceType.DUPLEX;let os,ss=ns;if((this.context.videoUplinkBandwidthPolicy.wantsVideoDependencyDescriptorRtpHeaderExtension===void 0||!this.context.videoUplinkBandwidthPolicy.wantsVideoDependencyDescriptorRtpHeaderExtension())&&(ss=new SDP_1.default(ss).withoutDependencyDescriptorRtpHeaderExtension().sdp),this.context.serverSupportsCompression){const us=this.context.previousSdpOffer?this.context.previousSdpOffer.sdp:"";os=this.textCompressor.compress(ss,us),this.context.logger.info("Compressed the SDP message from ".concat(ss.length," to ").concat(os.length," bytes.")),ns=""}this.context.previousSdpOffer=new SDP_1.default(ns);const as=new SignalingClientSubscribe_1.default(this.context.meetingSessionConfiguration.credentials.attendeeId,ns,this.context.meetingSessionConfiguration.urls.audioHostURL,this.context.realtimeController.realtimeIsLocalAudioMuted(),!1,rs,is,this.context.videoStreamIndex.localStreamDescriptions(),!0,os);this.context.videoDownlinkBandwidthPolicy.getServerSideNetworkAdaption!==void 0&&!ServerSideNetworkAdaption_1$3.serverSideNetworkAdaptionIsNoneOrDefault(this.context.videoDownlinkBandwidthPolicy.getServerSideNetworkAdaption())&&this.context.videoDownlinkBandwidthPolicy.getVideoPreferences!==void 0&&(as.videoSubscriptionConfiguration=VideoPreferences_1$2.convertVideoPreferencesToSignalingClientVideoSubscriptionConfiguration(this.context,rs.map(us=>us===0?0:this.context.videoStreamIndex.groupIdForStreamId(us)),this.context.videoDownlinkBandwidthPolicy.getVideoPreferences())),this.context.logger.info("sending subscribe: ".concat(JSON.stringify(as))),this.context.signalingClient.subscribe(as);const ls=yield this.receiveSubscribeAck();this.context.logger.info("got subscribe ack: ".concat(JSON.stringify(ls)));let cs="";ls.compressedSdpAnswer&&ls.compressedSdpAnswer.length?(cs=this.textCompressor.decompress(ls.compressedSdpAnswer,this.context.previousSdpAnswerAsString),cs.length===0&&(this.context.sdpAnswer="",this.context.previousSdpAnswerAsString="",this.logAndThrow("Error occurred while trying to decompress the SDP answer.")),this.context.logger.info("Decompressed the SDP message from ".concat(ls.compressedSdpAnswer.length," to ").concat(cs.length," bytes.")),this.context.sdpAnswer=cs):this.context.sdpAnswer=ls.sdpAnswer,this.context.previousSdpAnswerAsString=this.context.sdpAnswer,this.context.videoStreamIndex.integrateSubscribeAckFrame(ls)})}fixUpSubscriptionOrder(ns,rs){if(this.context.transceiverController.getMidForStreamId===void 0)return rs;const is=new Map;for(const as of rs){const ls=this.context.transceiverController.getMidForStreamId(as);if(ls===void 0){as!==0&&this.logger.warn("Could not find MID for stream ID: ".concat(as));continue}is.set(ls,as)}const os=new SDP_1.default(ns).mediaSections(),ss=[];for(const as of os)if(as.mediaType==="video")if(as.direction==="recvonly"){const ls=is.get(as.mid);if(ls===void 0){this.logger.warn("Could not find stream ID for MID: ".concat(as.mid));continue}ss.push(ls)}else ss.push(0);return this.logger.info("Fixed up ".concat(JSON.stringify(rs)," to ").concat(JSON.stringify(ss)," (may be same))}")),ss}receiveSubscribeAck(){return new Promise((ns,rs)=>{const is=this.context;class os{constructor(ls){this.signalingClient=ls}cancel(){this.signalingClient.removeObserver(this),rs(new Error("SubscribeAndReceiveSubscribeAckTask got canceled while waiting for SdkSubscribeAckFrame"))}handleSignalingClientEvent(ls){if(ls.isConnectionTerminated()){const us="SubscribeAndReceiveSubscribeAckTask connection was terminated with code ".concat(ls.closeCode," and reason: ").concat(ls.closeReason);is.logger.warn(us);let ds=MeetingSessionStatusCode_1$1.default.TaskFailed;ls.closeCode>=4500&&ls.closeCode<4600&&(ds=MeetingSessionStatusCode_1$1.default.SignalingInternalServerError),is.audioVideoController.handleMeetingSessionStatus(new MeetingSessionStatus_1.default(ds),new Error(us));return}if(ls.type!==SignalingClientEventType_1.default.ReceivedSignalFrame||ls.message.type!==SignalingProtocol_js_1$3.SdkSignalFrame.Type.SUBSCRIBE_ACK)return;this.signalingClient.removeObserver(this);const cs=ls.message.suback;ns(cs)}}const ss=new os(this.context.signalingClient);this.context.signalingClient.registerObserver(ss),this.taskCanceler=ss})}}SubscribeAndReceiveSubscribeAckTask$1.default=SubscribeAndReceiveSubscribeAckTask;var TimeoutTask$1={},__awaiter$u=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,ns,rs,is){function os(ss){return ss instanceof rs?ss:new rs(function(as){as(ss)})}return new(rs||(rs=Promise))(function(ss,as){function ls(ds){try{us(is.next(ds))}catch(ps){as(ps)}}function cs(ds){try{us(is.throw(ds))}catch(ps){as(ps)}}function us(ds){ds.done?ss(ds.value):os(ds.value).then(ls,cs)}us((is=is.apply(ts,ns||[])).next())})},__importDefault$H=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(TimeoutTask$1,"__esModule",{value:!0});const TimeoutScheduler_1$1=__importDefault$H(TimeoutScheduler$1),BaseTask_1$3=__importDefault$H(BaseTask$1);class TimeoutTask extends BaseTask_1$3.default{constructor(ns,rs,is){super(ns),this.taskToRunBeforeTimeout=rs,this.timeoutMs=is,this.taskName="Timeout".concat(this.timeoutMs,"ms"),rs.setParent(this)}cancel(){this.logger.info("canceling timeout task ".concat(this.name()," subtask ").concat(this.taskToRunBeforeTimeout)),this.taskToRunBeforeTimeout.cancel()}run(){return __awaiter$u(this,void 0,void 0,function*(){const ns=new TimeoutScheduler_1$1.default(this.timeoutMs);ns.start(()=>{this.logger.info("timeout reached for task ".concat(this.name())),this.taskToRunBeforeTimeout.cancel()});try{yield this.taskToRunBeforeTimeout.run()}finally{ns.stop()}this.logger.info("timeout task ".concat(this.name()," completed"))})}}TimeoutTask$1.default=TimeoutTask;var WaitForAttendeePresenceTask$1={},__awaiter$t=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,ns,rs,is){function os(ss){return ss instanceof rs?ss:new rs(function(as){as(ss)})}return new(rs||(rs=Promise))(function(ss,as){function ls(ds){try{us(is.next(ds))}catch(ps){as(ps)}}function cs(ds){try{us(is.throw(ds))}catch(ps){as(ps)}}function us(ds){ds.done?ss(ds.value):os(ds.value).then(ls,cs)}us((is=is.apply(ts,ns||[])).next())})},__importDefault$G=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(WaitForAttendeePresenceTask$1,"__esModule",{value:!0});const MeetingSessionStatusCode_1=__importDefault$G(MeetingSessionStatusCode),BaseTask_1$2=__importDefault$G(BaseTask$1);class WaitForAttendeePresenceTask extends BaseTask_1$2.default{constructor(ns){super(ns.logger),this.context=ns,this.taskName="WaitForAttendeePresenceTask"}cancel(){if(this.cancelPromise){const ns=new Error("canceling ".concat(this.name()," due to the meeting status code: ").concat(MeetingSessionStatusCode_1.default.NoAttendeePresent));this.cancelPromise(ns),delete this.cancelPromise}}run(){return __awaiter$t(this,void 0,void 0,function*(){const ns=this.context.meetingSessionConfiguration.credentials.attendeeId;return new Promise((rs,is)=>{const os=(ss,as,ls,cs,us)=>{ns===ss&&as&&(this.context.realtimeController.realtimeUnsubscribeToAttendeeIdPresence(os),rs(),delete this.cancelPromise)};this.cancelPromise=ss=>{this.context.realtimeController.realtimeUnsubscribeToAttendeeIdPresence(os),is(ss)},this.context.realtimeController.realtimeSubscribeToAttendeeIdPresence(os)})})}}WaitForAttendeePresenceTask$1.default=WaitForAttendeePresenceTask;var DefaultTransceiverController$1={},RedundantAudioEncoder$1={};Object.defineProperty(RedundantAudioEncoder$1,"__esModule",{value:!0});class RedundantAudioEncoder{constructor(){this.maxRedPacketSizeBytes=1024,this.maxAudioPayloadSizeBytes=1e3,this.maxRedTimestampOffset=16384,this.redHeaderSizeBytes=4,this.redLastHeaderSizeBytes=1,this.redPacketizationTime=960,this.redPacketDistance=2,this.maxRedEncodings=2,this.redMaxRecoveryDistance=this.redPacketDistance*this.maxRedEncodings+1,this.maxEncodingHistorySize=10,this.numRedundantEncodings=0,this.redundancyEnabled=!0,this.lossReportInterval=48e3*5,this.maxOutOfOrderPacketDistance=16,this.OPUS_BAD_ARG=-1,this.OPUS_INVALID_PACKET=-4,this.OPUS_MAX_OPUS_FRAMES=48,this.OPUS_MAX_FRAME_SIZE_BYTES=1275,this.encodingHistory=new Array,this.opusPayloadType=0,this.redPayloadType=0,this.initializePacketLogs()}static initializeWorker(){RedundantAudioEncoder.log("Initializing RedundantAudioEncoder");const ns=new RedundantAudioEncoder;self.RTCRtpScriptTransformer&&(self.onrtctransform=rs=>{rs.transformer.options.type==="SenderTransform"?ns.setupSenderTransform(rs.transformer.readable,rs.transformer.writable):rs.transformer.options.type==="ReceiverTransform"?ns.setupReceiverTransform(rs.transformer.readable,rs.transformer.writable):rs.transformer.options.type==="PassthroughTransform"&&ns.setupPassthroughTransform(rs.transformer.readable,rs.transformer.writable)}),self.onmessage=rs=>{rs.data.msgType==="StartRedWorker"?(ns.setupSenderTransform(rs.data.send.readable,rs.data.send.writable),ns.setupReceiverTransform(rs.data.receive.readable,rs.data.receive.writable)):rs.data.msgType==="PassthroughTransform"?(ns.setupPassthroughTransform(rs.data.send.readable,rs.data.send.writable),ns.setupPassthroughTransform(rs.data.receive.readable,rs.data.receive.writable)):rs.data.msgType==="RedPayloadType"?ns.setRedPayloadType(rs.data.payloadType):rs.data.msgType==="OpusPayloadType"?ns.setOpusPayloadType(rs.data.payloadType):rs.data.msgType==="UpdateNumRedundantEncodings"?ns.setNumRedundantEncodings(rs.data.numRedundantEncodings):rs.data.msgType==="Enable"?ns.setRedundancyEnabled(!0):rs.data.msgType==="Disable"&&ns.setRedundancyEnabled(!1)}}static log(ns){RedundantAudioEncoder.shouldLog&&self.postMessage({type:"REDWorkerLog",log:"[AudioRed] ".concat(ns)})}static getNumRedundantEncodingsForPacketLoss(ns){let rs=0,is=!1;return ns<=8?rs=0:ns<=18?rs=1:ns<=75?rs=2:(rs=0,is=!0),[rs,is]}setupPassthroughTransform(ns,rs){RedundantAudioEncoder.log("Setting up passthrough transform"),ns.pipeTo(rs)}setupSenderTransform(ns,rs){RedundantAudioEncoder.log("Setting up sender RED transform");const is=new TransformStream({transform:this.senderTransform.bind(this)});ns.pipeThrough(is).pipeTo(rs)}setupReceiverTransform(ns,rs){RedundantAudioEncoder.log("Setting up receiver RED transform");const is=new TransformStream({transform:this.receivePacketLogTransform.bind(this)});ns.pipeThrough(is).pipeTo(rs)}setRedPayloadType(ns){this.redPayloadType=ns,RedundantAudioEncoder.log("red payload type set to ".concat(this.redPayloadType))}setOpusPayloadType(ns){this.opusPayloadType=ns,RedundantAudioEncoder.log("opus payload type set to ".concat(this.opusPayloadType))}setNumRedundantEncodings(ns){this.numRedundantEncodings=ns,this.numRedundantEncodings>this.maxRedEncodings&&(this.numRedundantEncodings=this.maxRedEncodings),RedundantAudioEncoder.log("Updated numRedundantEncodings to ".concat(this.numRedundantEncodings))}setRedundancyEnabled(ns){this.redundancyEnabled=ns,RedundantAudioEncoder.log("redundancy ".concat(this.redundancyEnabled?"enabled":"disabled"))}enqueueAudioFrameIfPayloadSizeIsValid(ns,rs){ns.data.byteLength>this.maxAudioPayloadSizeBytes||rs.enqueue(ns)}senderTransform(ns,rs){if(ns.getMetadata().payloadType!==this.redPayloadType){this.enqueueAudioFrameIfPayloadSizeIsValid(ns,rs);return}const os=this.getPrimaryPayload(ns.timestamp,ns.data);if(!os){this.enqueueAudioFrameIfPayloadSizeIsValid(ns,rs);return}const ss=this.encode(ns.timestamp,os);if(!ss){this.enqueueAudioFrameIfPayloadSizeIsValid(ns,rs);return}ns.data=ss,this.enqueueAudioFrameIfPayloadSizeIsValid(ns,rs)}getPrimaryPayload(ns,rs){const is=this.splitEncodings(ns,rs);return!is||is.length<1?null:is[is.length-1].payload}splitEncodings(ns,rs,is=!1,os=void 0){const ss=new DataView(rs);let as=ss.byteLength,ls=0,cs=0,us=0,ds=0,ps=!1;const hs=new Array,ms=new Array,gs=new Array;for(;as>0;)if(ps=(ss.getUint8(ds)&128)===0,ps){if((ss.getUint8(ds)&127)!==this.opusPayloadType||(ls+=this.redLastHeaderSizeBytes,cs+=this.redLastHeaderSizeBytes,ls>=ss.byteLength))return null;us=ss.byteLength-ls;break}else{if(as<this.redHeaderSizeBytes)return null;const Cs=((ss.getUint8(ds+2)&3)<<8)+ss.getUint8(ds+3);ms.push(Cs);const Es=ss.getUint16(ds+1)>>2,xs=ns-Es;gs.push(xs),ls+=Cs+this.redHeaderSizeBytes,cs+=this.redHeaderSizeBytes,ds+=this.redHeaderSizeBytes,as-=this.redHeaderSizeBytes}if(!ps)return null;let ys=cs;for(let Cs=0;Cs<gs.length;Cs++){const Es=new ArrayBuffer(ms[Cs]);new Uint8Array(Es).set(new Uint8Array(ss.buffer,ys,ms[Cs]),0);const ws={timestamp:gs[Cs],payload:Es,isRedundant:!0};is&&(ws.hasFec=this.opusPacketHasFec(new DataView(Es),Es.byteLength)),hs.push(ws),ys+=ms[Cs]}const vs=ss.byteLength-us,bs=new ArrayBuffer(us);new Uint8Array(bs).set(new Uint8Array(ss.buffer,vs,us),0);const $s={timestamp:ns,payload:bs,isRedundant:!1,seq:os};return is&&($s.hasFec=this.opusPacketHasFec(new DataView(bs),bs.byteLength)),hs.push($s),hs}encode(ns,rs){const is=rs.byteLength;if(is===0||is>=this.maxRedPacketSizeBytes||is>=this.maxAudioPayloadSizeBytes)return null;const os=this.numRedundantEncodings;let ss=this.redLastHeaderSizeBytes,as=is,ls=this.maxAudioPayloadSizeBytes-is-ss;const cs=new Array,us=new Array;if(this.redundancyEnabled){let gs=this.uint32WrapAround(ns-this.redPacketizationTime*this.redPacketDistance);for(let ys=0;ys<os&&!(this.uint32WrapAround(ns-gs)>=this.maxRedTimestampOffset);ys++){let vs=gs,bs=this.encodingHistory.find(Ss=>Ss.timestamp===vs);if(bs||(vs=this.uint32WrapAround(gs-this.redPacketizationTime),bs=this.encodingHistory.find(Ss=>Ss.timestamp===vs)),bs){const Ss=bs.payload.byteLength;if(ls<this.redHeaderSizeBytes+Ss)break;ls-=this.redHeaderSizeBytes+Ss,ss+=this.redHeaderSizeBytes,as+=Ss,cs.unshift(bs.timestamp),us.unshift(bs.payload)}gs-=this.redPacketizationTime*this.redPacketDistance,gs=this.uint32WrapAround(gs)}}const ds=new ArrayBuffer(ss+as),ps=new DataView(ds);let hs=0;for(let gs=0;gs<cs.length;gs++){const ys=ns-cs[gs];ps.setUint8(hs,this.opusPayloadType|128),ps.setUint16(hs+1,ys<<2|us[gs].byteLength>>8),ps.setUint8(hs+3,us[gs].byteLength&255),hs+=this.redHeaderSizeBytes}ps.setUint8(hs,this.opusPayloadType),hs+=this.redLastHeaderSizeBytes;const ms=new Uint8Array(ds);for(let gs=0;gs<us.length;gs++)ms.set(new Uint8Array(us[gs]),hs),hs+=us[gs].byteLength;return ms.set(new Uint8Array(rs),hs),hs+=rs.byteLength,hs!==ss+as?null:(this.updateEncodingHistory(ns,rs),ds)}updateEncodingHistory(ns,rs){for(const os of this.encodingHistory){const ss=this.redPacketizationTime*this.redMaxRecoveryDistance;if(ns-os.timestamp>=ss)this.encodingHistory.shift();else break}const is=new DataView(rs);(this.opusPacketIsCeltOnly(is)||this.opusPacketHasVoiceActivity(is,is.byteLength)>0)&&(this.encodingHistory.length+1>this.maxEncodingHistorySize&&(this.encodingHistory.length=0),this.encodingHistory.push({timestamp:ns,payload:rs}))}initializePacketLogs(){const ns=this.maxOutOfOrderPacketDistance+this.redMaxRecoveryDistance;this.primaryPacketLog={window:new Array(ns),index:0,windowSize:ns},this.redRecoveryLog={window:new Array(ns),index:0,windowSize:ns},this.fecRecoveryLog={window:new Array(ns),index:0,windowSize:ns},this.totalAudioPacketsExpected=0,this.totalAudioPacketsLost=0,this.totalAudioPacketsRecoveredRed=0,this.totalAudioPacketsRecoveredFec=0}receivePacketLogTransform(ns,rs){const is=ns.getMetadata();if(is.payloadType!==this.redPayloadType){this.enqueueAudioFrameIfPayloadSizeIsValid(ns,rs);return}const os=this.splitEncodings(ns.timestamp,ns.data,!0,is.sequenceNumber);if(!os){this.enqueueAudioFrameIfPayloadSizeIsValid(ns,rs);return}for(let ss=os.length-1;ss>=0;ss--)this.updateLossStats(os[ss])&&(this.updateRedStats(os[ss]),this.updateFecStats(os[ss]));this.maybeReportLossStats(os[os.length-1].timestamp,is.synchronizationSource),this.enqueueAudioFrameIfPayloadSizeIsValid(ns,rs)}updateLossStats(ns){if(ns.isRedundant)return!0;const rs=ns.timestamp,is=ns.seq;if(this.totalAudioPacketsExpected===0)return this.totalAudioPacketsExpected=1,this.newestSequenceNumber=is,this.addTimestamp(this.primaryPacketLog,rs),!0;const os=this.int16(is-this.newestSequenceNumber);return os<-this.maxOutOfOrderPacketDistance?!1:(os<0?this.hasTimestamp(this.primaryPacketLog,rs)||(this.totalAudioPacketsLost>0&&this.totalAudioPacketsLost--,this.addTimestamp(this.primaryPacketLog,rs),this.removeFromRecoveryWindows(rs)):os>1&&(this.totalAudioPacketsLost+=os-1),os>0&&(this.totalAudioPacketsExpected+=os,this.newestSequenceNumber=ns.seq,this.addTimestamp(this.primaryPacketLog,rs)),!0)}updateRedStats(ns){if(!ns.isRedundant||this.totalAudioPacketsLost===0)return;const rs=ns.timestamp;this.hasTimestamp(this.primaryPacketLog,rs)||(this.hasTimestamp(this.redRecoveryLog,rs)||(this.totalAudioPacketsRecoveredRed++,this.addTimestamp(this.redRecoveryLog,rs)),this.removeTimestamp(this.fecRecoveryLog,rs)&&this.totalAudioPacketsRecoveredFec>0&&this.totalAudioPacketsRecoveredFec--)}updateFecStats(ns){if(!ns.hasFec||this.totalAudioPacketsLost===0)return;const rs=ns.timestamp-this.redPacketizationTime;this.hasTimestamp(this.primaryPacketLog,rs)||this.hasTimestamp(this.redRecoveryLog,rs)||this.hasTimestamp(this.fecRecoveryLog,rs)||(this.totalAudioPacketsRecoveredFec++,this.addTimestamp(this.fecRecoveryLog,rs))}maybeReportLossStats(ns,rs){ns-this.lastLossReportTimestamp<this.lossReportInterval||(RedundantAudioEncoder.shouldReportStats&&self.postMessage({type:"RedundantAudioEncoderStats",ssrc:rs,totalAudioPacketsLost:this.totalAudioPacketsLost,totalAudioPacketsExpected:this.totalAudioPacketsExpected,totalAudioPacketsRecoveredRed:this.totalAudioPacketsRecoveredRed,totalAudioPacketsRecoveredFec:this.totalAudioPacketsRecoveredFec}),this.lastLossReportTimestamp=ns)}addTimestamp(ns,rs){ns.window[ns.index]=rs,ns.index=(ns.index+1)%ns.windowSize}hasTimestamp(ns,rs){return!!ns.window.find(os=>os===rs)}removeTimestamp(ns,rs){const is=ns.window.indexOf(rs);return is>=0?(ns.window[is]=void 0,!0):!1}removeFromRecoveryWindows(ns){let rs=this.removeTimestamp(this.redRecoveryLog,ns);rs&&this.totalAudioPacketsRecoveredRed>0&&this.totalAudioPacketsRecoveredRed--,rs=this.removeTimestamp(this.fecRecoveryLog,ns),rs&&this.totalAudioPacketsRecoveredFec>0&&this.totalAudioPacketsRecoveredFec--}uint32WrapAround(ns){let is=ns;return ns>=4294967296?is=ns-4294967296:ns<0&&(is=4294967296+ns),is}int16(ns){return ns<<16>>16}opusPacketIsCeltOnly(ns){return!!(ns.getUint8(0)&128)}opusPacketGetSamplesPerFrame(ns,rs){rs=Math.round(rs),rs=Math.min(Math.max(rs,-Math.pow(2,32)),Math.pow(2,32)-1);let is,os;return this.opusPacketIsCeltOnly(ns)?(os=ns.getUint8(0)>>3&3,is=(rs<<os)/400):(ns.getUint8(0)&96)===96?is=ns.getUint8(0)&8?rs/50:rs/100:(os=ns.getUint8(0)>>3&3,os===3?is=rs*60/1e3:is=(rs<<os)/100),is}opusNumSilkFrames(ns){let rs=this.opusPacketGetSamplesPerFrame(ns,48e3)/48;switch(rs<10&&(rs=10),rs){case 10:case 20:return 1;case 40:return 2;case 60:return 3;default:return 0}}opusPacketGetNumChannels(ns){return ns.getUint8(0)&4?2:1}opusParseSize(ns,rs,is,os){return is<1?(os[0]=-1,-1):ns.getUint8(rs)<252?(os[0]=ns.getUint8(rs),1):is<2?(os[0]=-1,-1):(os[0]=4*ns.getUint8(rs+1)+ns.getUint8(rs),2)}opusPacketParseImpl(ns,rs,is,os,ss,as,ls,cs){if(!as||rs<0)return this.OPUS_BAD_ARG;if(rs===0)return this.OPUS_INVALID_PACKET;let us,ds,ps=0,hs=!1;const ms=ns.getUint8(0);os&&(os[0]=ms);let gs=rs-1,ys=1,vs=gs;switch(ms&3){case 0:us=1;break;case 1:if(us=2,hs=!0,!is){if(gs&1)return this.OPUS_INVALID_PACKET;vs=gs/2,as[0][0]=vs}break;case 2:if(us=2,ds=this.opusParseSize(ns,ys,gs,as[0]),gs-=ds,as[0][0]<0||as[0][0]>gs)return this.OPUS_INVALID_PACKET;ys+=ds,vs=gs-as[0][0];break;default:if(gs<1)return this.OPUS_INVALID_PACKET;const bs=ns.getUint8(ys++);if(--gs,us=bs&63,us<=0)return this.OPUS_INVALID_PACKET;if(this.opusPacketGetSamplesPerFrame(ns,48e3)*us>5760)return this.OPUS_INVALID_PACKET;if(bs&64){let $s,Cs;do{if(gs<=0)return this.OPUS_INVALID_PACKET;$s=ns.getUint8(ys++),--gs,Cs=$s===255?254:$s,gs-=Cs,ps+=Cs}while($s===255)}if(gs<0)return this.OPUS_INVALID_PACKET;if(hs=!(bs&128),hs){if(!is){if(vs=Math.trunc(gs/us),vs*us!==gs)return this.OPUS_INVALID_PACKET;for(let $s=0;$s<us-1;++$s)as[$s][0]=vs}}else{vs=gs;for(let $s=0;$s<us-1;++$s){if(ds=this.opusParseSize(ns,ys,gs,as[$s]),gs-=ds,as[$s][0]<0||as[$s][0]>gs)return this.OPUS_INVALID_PACKET;ys+=ds,vs-=ds+as[$s][0]}if(vs<0)return this.OPUS_INVALID_PACKET}}if(is){if(ds=this.opusParseSize(ns,ys,gs,as[us-1]),gs-=ds,as[us-1][0]<0||as[us-1][0]>gs)return this.OPUS_INVALID_PACKET;if(ys+=ds,hs){if(as[us-1][0]*us>gs)return this.OPUS_INVALID_PACKET;for(let bs=0;bs<us-1;++bs)as[bs][0]=as[us-1][0]}else if(!(ds+as[us-1][0]<=vs))return this.OPUS_INVALID_PACKET}else{if(vs>this.OPUS_MAX_FRAME_SIZE_BYTES)return this.OPUS_INVALID_PACKET;as[us-1][0]=vs}ls&&(ls[0]=ys);for(let bs=0;bs<us;++bs)ss&&(ss[bs][0]=ys),ys+=as[bs][0];return cs&&(cs[0]=ys+ps),us}opusPacketParse(ns,rs,is,os,ss,as){return this.opusPacketParseImpl(ns,rs,!1,is,os,ss,as,null)}opusPacketHasVoiceActivity(ns,rs){if(!ns||rs<=0)return 0;if(this.opusPacketIsCeltOnly(ns))return-1;const is=this.opusNumSilkFrames(ns);if(is===0)return-1;const os=new Array(this.OPUS_MAX_OPUS_FRAMES),ss=new Array(this.OPUS_MAX_OPUS_FRAMES);for(let ls=0;ls<this.OPUS_MAX_OPUS_FRAMES;++ls)os[ls]=[void 0],ss[ls]=[void 0];const as=this.opusPacketParse(ns,rs,null,os,ss,null);if(as<0)return-1;for(let ls=0;ls<as;++ls){if(ss[ls][0]<1)continue;if(ns.getUint8(os[ls][0])>>8-is||this.opusPacketGetNumChannels(ns)===2&&ns.getUint8(os[ls][0])<<is+1>>8-is)return 1}return 0}opusPacketHasFec(ns,rs){if(!ns||rs<=0||this.opusPacketIsCeltOnly(ns))return!1;const is=new Array(this.OPUS_MAX_OPUS_FRAMES),os=new Array(this.OPUS_MAX_OPUS_FRAMES);for(let cs=0;cs<this.OPUS_MAX_OPUS_FRAMES;++cs)is[cs]=[void 0],os[cs]=[void 0];if(this.opusPacketParse(ns,rs,null,is,os,null)<0||os[0][0]<=1)return!1;const as=this.opusNumSilkFrames(ns);if(as===0)return!1;const ls=this.opusPacketGetNumChannels(ns);if(ls!==1&&ls!==2)return!1;for(let cs=0;cs<ls;cs++)if(ns.getUint8(is[0][0])&128>>(cs+1)*(as+1)-1)return!0;return!1}}RedundantAudioEncoder$1.default=RedundantAudioEncoder;RedundantAudioEncoder.shouldLog=!1;RedundantAudioEncoder.shouldReportStats=!1;var RedundantAudioEncoderWorkerCode$1={};Object.defineProperty(RedundantAudioEncoderWorkerCode$1,"__esModule",{value:!0});const RedundantAudioEncoderWorkerCode="class RedundantAudioEncoder {\n    constructor() {\n        // Each payload must be less than 1024 bytes to fit the 10 bit block length\n        this.maxRedPacketSizeBytes = 1 << 10;\n        // Limit payload to 1000 bytes to handle small MTU. 1000 is chosen because in Chromium-based browsers, writing audio\n        // payloads larger than 1000 bytes using the WebRTC Insertable Streams API (which is used to enable dynamic audio\n        // redundancy) will cause an error to be thrown and cause audio flow to permanently stop. See\n        // https://crbug.com/1248479.\n        this.maxAudioPayloadSizeBytes = 1000;\n        // Each payload can encode a timestamp delta of 14 bits\n        this.maxRedTimestampOffset = 1 << 14;\n        // 4 byte RED header\n        this.redHeaderSizeBytes = 4;\n        // reduced size for last RED header\n        this.redLastHeaderSizeBytes = 1;\n        // P-Time for Opus 20 msec packets\n        // We do not support other p-times or clock rates\n        this.redPacketizationTime = 960;\n        // distance between redundant payloads, Opus FEC handles a distance of 1\n        // TODO(https://issues.amazon.com/issues/ChimeSDKAudio-55):\n        // Consider making this dynamic\n        this.redPacketDistance = 2;\n        // maximum number of redundant payloads per RTP packet\n        this.maxRedEncodings = 2;\n        // Maximum number of encodings that can be recovered with a single RED packet, assuming the primary and redundant\n        // payloads have FEC.\n        this.redMaxRecoveryDistance = this.redPacketDistance * this.maxRedEncodings + 1;\n        // maximum history of prior payloads to keep\n        // generally we will expire old entries based on timestamp\n        // this limit is in place just to make sure the history does not\n        // grow too large in the case of erroneous timestamp inputs\n        this.maxEncodingHistorySize = 10;\n        // Current number of encodings we want to send\n        // to the remote end. This will be dynamically\n        // updated through the setNumEncodingsFromPacketloss API\n        this.numRedundantEncodings = 0;\n        // Used to enable or disable redundancy\n        // in response to very high packet loss events\n        this.redundancyEnabled = true;\n        // Loss stats are reported to the main thread every 5 seconds.\n        // Since timestamp differences between 2 consecutive packets\n        // give us the number of samples in each channel, 1 second\n        // is equivalent to 48000 samples:\n        // P-time * (1000ms/1s)\n        // = (960 samples/20ms) * (1000ms/1s)\n        // = 48000 samples/s\n        this.lossReportInterval = 48000 * 5;\n        // Maximum distance of a packet from the most recent packet timestamp\n        // that we will consider for recovery.\n        this.maxOutOfOrderPacketDistance = 16;\n        /**\n         * Below are Opus helper methods and constants.\n         */\n        this.OPUS_BAD_ARG = -1;\n        this.OPUS_INVALID_PACKET = -4;\n        // Max number of Opus frames in an Opus packet is 48 (https://www.rfc-editor.org/rfc/rfc6716#section-3.2.5).\n        this.OPUS_MAX_OPUS_FRAMES = 48;\n        // Max number of bytes that any individual Opus frame can have.\n        this.OPUS_MAX_FRAME_SIZE_BYTES = 1275;\n        this.encodingHistory = new Array();\n        this.opusPayloadType = 0;\n        this.redPayloadType = 0;\n        this.initializePacketLogs();\n    }\n    /**\n     * Creates an instance of RedundantAudioEncoder and sets up callbacks.\n     */\n    static initializeWorker() {\n        RedundantAudioEncoder.log('Initializing RedundantAudioEncoder');\n        const encoder = new RedundantAudioEncoder();\n        // RED encoding is done using WebRTC Encoded Transform\n        // https://github.com/w3c/webrtc-encoded-transform/blob/main/explainer.md\n        // Check the DedicatedWorkerGlobalScope for existence of\n        // RTCRtpScriptTransformer interface. If exists, then\n        // RTCRtpScriptTransform is supported by this browser.\n        // @ts-ignore\n        if (self.RTCRtpScriptTransformer) {\n            // @ts-ignore\n            self.onrtctransform = (event) => {\n                if (event.transformer.options.type === 'SenderTransform') {\n                    encoder.setupSenderTransform(event.transformer.readable, event.transformer.writable);\n                }\n                else if (event.transformer.options.type === 'ReceiverTransform') {\n                    encoder.setupReceiverTransform(event.transformer.readable, event.transformer.writable);\n                }\n                else if (event.transformer.options.type === 'PassthroughTransform') {\n                    encoder.setupPassthroughTransform(event.transformer.readable, event.transformer.writable);\n                }\n            };\n        }\n        self.onmessage = (event) => {\n            if (event.data.msgType === 'StartRedWorker') {\n                encoder.setupSenderTransform(event.data.send.readable, event.data.send.writable);\n                encoder.setupReceiverTransform(event.data.receive.readable, event.data.receive.writable);\n            }\n            else if (event.data.msgType === 'PassthroughTransform') {\n                encoder.setupPassthroughTransform(event.data.send.readable, event.data.send.writable);\n                encoder.setupPassthroughTransform(event.data.receive.readable, event.data.receive.writable);\n            }\n            else if (event.data.msgType === 'RedPayloadType') {\n                encoder.setRedPayloadType(event.data.payloadType);\n            }\n            else if (event.data.msgType === 'OpusPayloadType') {\n                encoder.setOpusPayloadType(event.data.payloadType);\n            }\n            else if (event.data.msgType === 'UpdateNumRedundantEncodings') {\n                encoder.setNumRedundantEncodings(event.data.numRedundantEncodings);\n            }\n            else if (event.data.msgType === 'Enable') {\n                encoder.setRedundancyEnabled(true);\n            }\n            else if (event.data.msgType === 'Disable') {\n                encoder.setRedundancyEnabled(false);\n            }\n        };\n    }\n    /**\n     * Post logs to the main thread\n     */\n    static log(msg) {\n        if (RedundantAudioEncoder.shouldLog) {\n            // @ts-ignore\n            self.postMessage({\n                type: 'REDWorkerLog',\n                log: `[AudioRed] ${msg}`,\n            });\n        }\n    }\n    /**\n     * Returns the number of encodings based on packetLoss value. This is used by `DefaultTransceiverController` to\n     * determine when to alert the encoder to update the number of encodings. It also determines if we need to\n     * turn off red in cases of very high packet loss to avoid congestion collapse.\n     */\n    static getNumRedundantEncodingsForPacketLoss(packetLoss) {\n        let recommendedRedundantEncodings = 0;\n        let shouldTurnOffRed = false;\n        if (packetLoss <= 8) {\n            recommendedRedundantEncodings = 0;\n        }\n        else if (packetLoss <= 18) {\n            recommendedRedundantEncodings = 1;\n        }\n        else if (packetLoss <= 75) {\n            recommendedRedundantEncodings = 2;\n        }\n        else {\n            recommendedRedundantEncodings = 0;\n            shouldTurnOffRed = true;\n        }\n        return [recommendedRedundantEncodings, shouldTurnOffRed];\n    }\n    /**\n     * Sets up a passthrough (no-op) transform for the given streams.\n     */\n    setupPassthroughTransform(readable, writable) {\n        RedundantAudioEncoder.log('Setting up passthrough transform');\n        readable.pipeTo(writable);\n    }\n    /**\n     * Sets up the transform stream and pipes the outgoing encoded audio frames through the transform function.\n     */\n    setupSenderTransform(readable, writable) {\n        RedundantAudioEncoder.log('Setting up sender RED transform');\n        const transformStream = new TransformStream({\n            transform: this.senderTransform.bind(this),\n        });\n        readable.pipeThrough(transformStream).pipeTo(writable);\n        return;\n    }\n    /**\n     * Sets up the transform stream and pipes the received encoded audio frames through the transform function.\n     */\n    setupReceiverTransform(readable, writable) {\n        RedundantAudioEncoder.log('Setting up receiver RED transform');\n        const transformStream = new TransformStream({\n            transform: this.receivePacketLogTransform.bind(this),\n        });\n        readable.pipeThrough(transformStream).pipeTo(writable);\n        return;\n    }\n    /**\n     * Set the RED payload type ideally obtained from local offer.\n     */\n    setRedPayloadType(payloadType) {\n        this.redPayloadType = payloadType;\n        RedundantAudioEncoder.log(`red payload type set to ${this.redPayloadType}`);\n    }\n    /**\n     * Set the opus payload type ideally obtained from local offer.\n     */\n    setOpusPayloadType(payloadType) {\n        this.opusPayloadType = payloadType;\n        RedundantAudioEncoder.log(`opus payload type set to ${this.opusPayloadType}`);\n    }\n    /**\n     * Set the number of redundant encodings\n     */\n    setNumRedundantEncodings(numRedundantEncodings) {\n        this.numRedundantEncodings = numRedundantEncodings;\n        if (this.numRedundantEncodings > this.maxRedEncodings) {\n            this.numRedundantEncodings = this.maxRedEncodings;\n        }\n        RedundantAudioEncoder.log(`Updated numRedundantEncodings to ${this.numRedundantEncodings}`);\n    }\n    /**\n     * Enable or disable redundancy in response to\n     * high packet loss event.\n     */\n    setRedundancyEnabled(enabled) {\n        this.redundancyEnabled = enabled;\n        RedundantAudioEncoder.log(`redundancy ${this.redundancyEnabled ? 'enabled' : 'disabled'}`);\n    }\n    /**\n     * Helper function to only enqueue audio frames if they do not exceed the audio payload byte limit imposed by\n     * Chromium-based browsers. Chromium will throw an error (https://crbug.com/1248479) if an audio payload larger than\n     * 1000 bytes is enqueued. Any controller that attempts to enqueue an audio payload larger than 1000 bytes will\n     * encounter this error and will permanently stop sending or receiving audio.\n     */\n    enqueueAudioFrameIfPayloadSizeIsValid(\n    // @ts-ignore\n    frame, controller) {\n        if (frame.data.byteLength > this.maxAudioPayloadSizeBytes)\n            return;\n        controller.enqueue(frame);\n    }\n    /**\n     * Receives encoded frames and modifies as needed before sending to transport.\n     */\n    senderTransform(\n    // @ts-ignore\n    frame, controller) {\n        const frameMetadata = frame.getMetadata();\n        // @ts-ignore\n        if (frameMetadata.payloadType !== this.redPayloadType) {\n            this.enqueueAudioFrameIfPayloadSizeIsValid(frame, controller);\n            return;\n        }\n        const primaryPayloadBuffer = this.getPrimaryPayload(frame.timestamp, frame.data);\n        if (!primaryPayloadBuffer) {\n            this.enqueueAudioFrameIfPayloadSizeIsValid(frame, controller);\n            return;\n        }\n        const encodedBuffer = this.encode(frame.timestamp, primaryPayloadBuffer);\n        /* istanbul ignore next */\n        if (!encodedBuffer) {\n            this.enqueueAudioFrameIfPayloadSizeIsValid(frame, controller);\n            return;\n        }\n        frame.data = encodedBuffer;\n        this.enqueueAudioFrameIfPayloadSizeIsValid(frame, controller);\n        return;\n    }\n    /**\n     * Get the primary payload from encoding\n     */\n    getPrimaryPayload(primaryTimestamp, frame) {\n        const encodings = this.splitEncodings(primaryTimestamp, frame);\n        if (!encodings || encodings.length < 1)\n            return null;\n        return encodings[encodings.length - 1].payload;\n    }\n    /**\n     * Split up the encoding received into primary and redundant encodings\n     * These will be ordered oldest to newest which is the same ordering\n     * in the RTP red payload.\n     */\n    splitEncodings(primaryTimestamp, frame, getFecInfo = false, primarySequenceNumber = undefined) {\n        // process RED headers (according to RFC 2198)\n        //   0                   1                   2                   3\n        //   0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n        //  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n        //  |F|   block PT  |  timestamp offset         |   block length    |\n        //  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n        //\n        // last header\n        //   0 1 2 3 4 5 6 7\n        //  +-+-+-+-+-+-+-+-+\n        //  |0|   Block PT  |\n        //  +-+-+-+-+-+-+-+-+\n        const payload = new DataView(frame);\n        let payloadSizeBytes = payload.byteLength;\n        let totalPayloadSizeBytes = 0;\n        let totalHeaderSizeBytes = 0;\n        let primaryPayloadSizeBytes = 0;\n        let payloadOffset = 0;\n        let gotLastBlock = false;\n        const encodings = new Array();\n        const redundantEncodingBlockLengths = new Array();\n        const redundantEncodingTimestamps = new Array();\n        while (payloadSizeBytes > 0) {\n            gotLastBlock = (payload.getUint8(payloadOffset) & 0x80) === 0;\n            if (gotLastBlock) {\n                // Bits 1 through 7 are payload type\n                const payloadType = payload.getUint8(payloadOffset) & 0x7f;\n                // Unexpected payload type. This is a bad packet.\n                if (payloadType !== this.opusPayloadType) {\n                    return null;\n                }\n                totalPayloadSizeBytes += this.redLastHeaderSizeBytes;\n                totalHeaderSizeBytes += this.redLastHeaderSizeBytes;\n                // Accumulated block lengths are equal to or larger than the buffer, which means there is no primary block. This\n                // is a bad packet.\n                if (totalPayloadSizeBytes >= payload.byteLength) {\n                    return null;\n                }\n                primaryPayloadSizeBytes = payload.byteLength - totalPayloadSizeBytes;\n                break;\n            }\n            else {\n                if (payloadSizeBytes < this.redHeaderSizeBytes) {\n                    return null;\n                }\n                // Bits 22 through 31 are payload length\n                const blockLength = ((payload.getUint8(payloadOffset + 2) & 0x03) << 8) + payload.getUint8(payloadOffset + 3);\n                redundantEncodingBlockLengths.push(blockLength);\n                const timestampOffset = payload.getUint16(payloadOffset + 1) >> 2;\n                const timestamp = primaryTimestamp - timestampOffset;\n                redundantEncodingTimestamps.push(timestamp);\n                totalPayloadSizeBytes += blockLength + this.redHeaderSizeBytes;\n                totalHeaderSizeBytes += this.redHeaderSizeBytes;\n                payloadOffset += this.redHeaderSizeBytes;\n                payloadSizeBytes -= this.redHeaderSizeBytes;\n            }\n        }\n        // The last block was never found. This is a bad packet.\n        if (!gotLastBlock) {\n            return null;\n        }\n        let redundantPayloadOffset = totalHeaderSizeBytes;\n        for (let i = 0; i < redundantEncodingTimestamps.length; i++) {\n            const redundantPayloadBuffer = new ArrayBuffer(redundantEncodingBlockLengths[i]);\n            const redundantPayloadArray = new Uint8Array(redundantPayloadBuffer);\n            redundantPayloadArray.set(new Uint8Array(payload.buffer, redundantPayloadOffset, redundantEncodingBlockLengths[i]), 0);\n            const encoding = {\n                timestamp: redundantEncodingTimestamps[i],\n                payload: redundantPayloadBuffer,\n                isRedundant: true,\n            };\n            if (getFecInfo) {\n                encoding.hasFec = this.opusPacketHasFec(new DataView(redundantPayloadBuffer), redundantPayloadBuffer.byteLength);\n            }\n            encodings.push(encoding);\n            redundantPayloadOffset += redundantEncodingBlockLengths[i];\n        }\n        const primaryPayloadOffset = payload.byteLength - primaryPayloadSizeBytes;\n        const primaryPayloadBuffer = new ArrayBuffer(primaryPayloadSizeBytes);\n        const primaryArray = new Uint8Array(primaryPayloadBuffer);\n        primaryArray.set(new Uint8Array(payload.buffer, primaryPayloadOffset, primaryPayloadSizeBytes), 0);\n        const encoding = {\n            timestamp: primaryTimestamp,\n            payload: primaryPayloadBuffer,\n            isRedundant: false,\n            seq: primarySequenceNumber,\n        };\n        if (getFecInfo) {\n            encoding.hasFec = this.opusPacketHasFec(new DataView(primaryPayloadBuffer), primaryPayloadBuffer.byteLength);\n        }\n        encodings.push(encoding);\n        return encodings;\n    }\n    /**\n     * Create a new encoding with current primary payload and the older payloads of choice.\n     */\n    encode(primaryTimestamp, primaryPayload) {\n        const primaryPayloadSize = primaryPayload.byteLength;\n        // Payload size needs to be valid.\n        if (primaryPayloadSize === 0 ||\n            primaryPayloadSize >= this.maxRedPacketSizeBytes ||\n            primaryPayloadSize >= this.maxAudioPayloadSizeBytes) {\n            return null;\n        }\n        const numRedundantEncodings = this.numRedundantEncodings;\n        let headerSizeBytes = this.redLastHeaderSizeBytes;\n        let payloadSizeBytes = primaryPayloadSize;\n        let bytesAvailable = this.maxAudioPayloadSizeBytes - primaryPayloadSize - headerSizeBytes;\n        const redundantEncodingTimestamps = new Array();\n        const redundantEncodingPayloads = new Array();\n        // If redundancy is disabled then only send the primary payload\n        if (this.redundancyEnabled) {\n            // Determine how much redundancy we can fit into our packet\n            let redundantTimestamp = this.uint32WrapAround(primaryTimestamp - this.redPacketizationTime * this.redPacketDistance);\n            for (let i = 0; i < numRedundantEncodings; i++) {\n                // Do not add redundant encodings that are beyond the maximum timestamp offset.\n                if (this.uint32WrapAround(primaryTimestamp - redundantTimestamp) >= this.maxRedTimestampOffset) {\n                    break;\n                }\n                let findTimestamp = redundantTimestamp;\n                let encoding = this.encodingHistory.find(e => e.timestamp === findTimestamp);\n                if (!encoding) {\n                    // If not found or not important then look for the previous packet.\n                    // The current packet may have included FEC for the previous, so just\n                    // use the previous packet instead provided that it has voice activity.\n                    findTimestamp = this.uint32WrapAround(redundantTimestamp - this.redPacketizationTime);\n                    encoding = this.encodingHistory.find(e => e.timestamp === findTimestamp);\n                }\n                if (encoding) {\n                    const redundantEncodingSizeBytes = encoding.payload.byteLength;\n                    // Only add redundancy if there are enough bytes available.\n                    if (bytesAvailable < this.redHeaderSizeBytes + redundantEncodingSizeBytes)\n                        break;\n                    bytesAvailable -= this.redHeaderSizeBytes + redundantEncodingSizeBytes;\n                    headerSizeBytes += this.redHeaderSizeBytes;\n                    payloadSizeBytes += redundantEncodingSizeBytes;\n                    redundantEncodingTimestamps.unshift(encoding.timestamp);\n                    redundantEncodingPayloads.unshift(encoding.payload);\n                }\n                redundantTimestamp -= this.redPacketizationTime * this.redPacketDistance;\n                redundantTimestamp = this.uint32WrapAround(redundantTimestamp);\n            }\n        }\n        const redPayloadBuffer = new ArrayBuffer(headerSizeBytes + payloadSizeBytes);\n        const redPayloadView = new DataView(redPayloadBuffer);\n        // Add redundant encoding header(s) to new buffer\n        let redPayloadOffset = 0;\n        for (let i = 0; i < redundantEncodingTimestamps.length; i++) {\n            const timestampDelta = primaryTimestamp - redundantEncodingTimestamps[i];\n            redPayloadView.setUint8(redPayloadOffset, this.opusPayloadType | 0x80);\n            redPayloadView.setUint16(redPayloadOffset + 1, (timestampDelta << 2) | (redundantEncodingPayloads[i].byteLength >> 8));\n            redPayloadView.setUint8(redPayloadOffset + 3, redundantEncodingPayloads[i].byteLength & 0xff);\n            redPayloadOffset += this.redHeaderSizeBytes;\n        }\n        // Add primary encoding header to new buffer\n        redPayloadView.setUint8(redPayloadOffset, this.opusPayloadType);\n        redPayloadOffset += this.redLastHeaderSizeBytes;\n        // Add redundant payload(s) to new buffer\n        const redPayloadArray = new Uint8Array(redPayloadBuffer);\n        for (let i = 0; i < redundantEncodingPayloads.length; i++) {\n            redPayloadArray.set(new Uint8Array(redundantEncodingPayloads[i]), redPayloadOffset);\n            redPayloadOffset += redundantEncodingPayloads[i].byteLength;\n        }\n        // Add primary payload to new buffer\n        redPayloadArray.set(new Uint8Array(primaryPayload), redPayloadOffset);\n        redPayloadOffset += primaryPayload.byteLength;\n        /* istanbul ignore next */\n        // Sanity check that we got the expected total payload size.\n        if (redPayloadOffset !== headerSizeBytes + payloadSizeBytes)\n            return null;\n        this.updateEncodingHistory(primaryTimestamp, primaryPayload);\n        return redPayloadBuffer;\n    }\n    /**\n     * Update the encoding history with the latest primary encoding\n     */\n    updateEncodingHistory(primaryTimestamp, primaryPayload) {\n        // Remove encodings from the history if they are too old.\n        for (const encoding of this.encodingHistory) {\n            const maxTimestampDelta = this.redPacketizationTime * this.redMaxRecoveryDistance;\n            if (primaryTimestamp - encoding.timestamp >= maxTimestampDelta) {\n                this.encodingHistory.shift();\n            }\n            else {\n                break;\n            }\n        }\n        // Only add an encoding to the history if the encoding is deemed to be important. An encoding is important if it is\n        // a CELT-only packet or contains voice activity.\n        const packet = new DataView(primaryPayload);\n        if (this.opusPacketIsCeltOnly(packet) ||\n            this.opusPacketHasVoiceActivity(packet, packet.byteLength) > 0) {\n            // Check if adding an encoding will cause the length of the encoding history to exceed the maximum history size.\n            // This is not expected to happen but could occur if we get incorrect timestamps. We want to make sure our memory\n            // usage is bounded. In this case, just clear the history and start over from empty.\n            if (this.encodingHistory.length + 1 > this.maxEncodingHistorySize)\n                this.encodingHistory.length = 0;\n            this.encodingHistory.push({ timestamp: primaryTimestamp, payload: primaryPayload });\n        }\n    }\n    /**\n     * Initialize packet logs and metric values.\n     */\n    initializePacketLogs() {\n        // The extra space from the max RED recovery distance is to ensure that we do not incorrectly count recovery for\n        // packets that have already been received but are outside of the max out-of-order distance.\n        const packetLogSize = this.maxOutOfOrderPacketDistance + this.redMaxRecoveryDistance;\n        this.primaryPacketLog = {\n            window: new Array(packetLogSize),\n            index: 0,\n            windowSize: packetLogSize,\n        };\n        this.redRecoveryLog = {\n            window: new Array(packetLogSize),\n            index: 0,\n            windowSize: packetLogSize,\n        };\n        this.fecRecoveryLog = {\n            window: new Array(packetLogSize),\n            index: 0,\n            windowSize: packetLogSize,\n        };\n        this.totalAudioPacketsExpected = 0;\n        this.totalAudioPacketsLost = 0;\n        this.totalAudioPacketsRecoveredRed = 0;\n        this.totalAudioPacketsRecoveredFec = 0;\n    }\n    /**\n     * Receives encoded frames from the server\n     * and adds the timestamps to a packet log\n     * to calculate an approximate recovery metric.\n     */\n    receivePacketLogTransform(\n    // @ts-ignore\n    frame, controller) {\n        const frameMetadata = frame.getMetadata();\n        // @ts-ignore\n        if (frameMetadata.payloadType !== this.redPayloadType) {\n            this.enqueueAudioFrameIfPayloadSizeIsValid(frame, controller);\n            return;\n        }\n        // @ts-ignore\n        const encodings = this.splitEncodings(frame.timestamp, frame.data, \n        /*getFecInfo*/ true, frameMetadata.sequenceNumber);\n        if (!encodings) {\n            this.enqueueAudioFrameIfPayloadSizeIsValid(frame, controller);\n            return;\n        }\n        for (let i = encodings.length - 1; i >= 0; i--) {\n            if (this.updateLossStats(encodings[i])) {\n                this.updateRedStats(encodings[i]);\n                this.updateFecStats(encodings[i]);\n            }\n        }\n        this.maybeReportLossStats(encodings[encodings.length - 1].timestamp, frameMetadata.synchronizationSource);\n        this.enqueueAudioFrameIfPayloadSizeIsValid(frame, controller);\n    }\n    /**\n     * Adds a timestamp to the primary packet log.\n     * This also updates totalAudioPacketsLost and totalAudioPacketsExpected by looking\n     * at the difference between timestamps.\n     *\n     * @param encoding : The encoding to be analyzed\n     * @returns false if sequence number was greater than max out of order distance\n     *          true otherwise\n     */\n    updateLossStats(encoding) {\n        if (encoding.isRedundant)\n            return true;\n        const timestamp = encoding.timestamp;\n        const seq = encoding.seq;\n        if (this.totalAudioPacketsExpected === 0) {\n            this.totalAudioPacketsExpected = 1;\n            this.newestSequenceNumber = seq;\n            this.addTimestamp(this.primaryPacketLog, timestamp);\n            return true;\n        }\n        const diff = this.int16(seq - this.newestSequenceNumber);\n        if (diff < -this.maxOutOfOrderPacketDistance)\n            return false;\n        if (diff < 0) {\n            if (!this.hasTimestamp(this.primaryPacketLog, timestamp)) {\n                if (this.totalAudioPacketsLost > 0)\n                    this.totalAudioPacketsLost--;\n                this.addTimestamp(this.primaryPacketLog, timestamp);\n                this.removeFromRecoveryWindows(timestamp);\n            }\n        }\n        else if (diff > 1) {\n            this.totalAudioPacketsLost += diff - 1;\n        }\n        if (diff > 0) {\n            this.totalAudioPacketsExpected += diff;\n            this.newestSequenceNumber = encoding.seq;\n            this.addTimestamp(this.primaryPacketLog, timestamp);\n        }\n        return true;\n    }\n    /**\n     * Adds a timestamp to the red recovery log if it is not present in\n     * the primary packet log and if it's not too old.\n     *\n     * @param encoding : The encoding to be analyzed\n     */\n    updateRedStats(encoding) {\n        if (!encoding.isRedundant || this.totalAudioPacketsLost === 0)\n            return;\n        const timestamp = encoding.timestamp;\n        if (!this.hasTimestamp(this.primaryPacketLog, timestamp)) {\n            if (!this.hasTimestamp(this.redRecoveryLog, timestamp)) {\n                this.totalAudioPacketsRecoveredRed++;\n                this.addTimestamp(this.redRecoveryLog, timestamp);\n            }\n            if (this.removeTimestamp(this.fecRecoveryLog, timestamp)) {\n                /* istanbul ignore else */\n                if (this.totalAudioPacketsRecoveredFec > 0)\n                    this.totalAudioPacketsRecoveredFec--;\n            }\n        }\n    }\n    /**\n     * Adds a timestamp to the fec recovery log if it is not present in\n     * the primary packet log and red recovery log and if it is not too old.\n     *\n     * @param encoding : The encoding to be analyzed\n     */\n    updateFecStats(encoding) {\n        if (!encoding.hasFec || this.totalAudioPacketsLost === 0)\n            return;\n        const fecTimestamp = encoding.timestamp - this.redPacketizationTime;\n        if (this.hasTimestamp(this.primaryPacketLog, fecTimestamp) ||\n            this.hasTimestamp(this.redRecoveryLog, fecTimestamp) ||\n            this.hasTimestamp(this.fecRecoveryLog, fecTimestamp)) {\n            return;\n        }\n        this.totalAudioPacketsRecoveredFec++;\n        this.addTimestamp(this.fecRecoveryLog, fecTimestamp);\n    }\n    /**\n     * Reports loss metrics to DefaultTransceiverController\n     *\n     * @param timestamp : Timestamp of most recent primary packet\n     */\n    maybeReportLossStats(timestamp, ssrc) {\n        if (timestamp - this.lastLossReportTimestamp < this.lossReportInterval)\n            return;\n        /* istanbul ignore next */\n        if (RedundantAudioEncoder.shouldReportStats) {\n            // @ts-ignore\n            self.postMessage({\n                type: 'RedundantAudioEncoderStats',\n                ssrc,\n                totalAudioPacketsLost: this.totalAudioPacketsLost,\n                totalAudioPacketsExpected: this.totalAudioPacketsExpected,\n                totalAudioPacketsRecoveredRed: this.totalAudioPacketsRecoveredRed,\n                totalAudioPacketsRecoveredFec: this.totalAudioPacketsRecoveredFec,\n            });\n        }\n        this.lastLossReportTimestamp = timestamp;\n    }\n    /**\n     * Adds a timestamp to a packet log\n     *\n     * @param packetLog : The packetlog to add the timestamp to\n     * @param timestamp : The timestamp that should be added\n     */\n    addTimestamp(packetLog, timestamp) {\n        packetLog.window[packetLog.index] = timestamp;\n        packetLog.index = (packetLog.index + 1) % packetLog.windowSize;\n    }\n    /**\n     * Checks if a timestamp is in a packetlog\n     *\n     * @param packetLog : The packetlog to search\n     * @param timestamp : The timestamp to search for\n     * @returns true if timestamp is present, false otherwise\n     */\n    hasTimestamp(packetLog, timestamp) {\n        const element = packetLog.window.find(t => t === timestamp);\n        return !!element;\n    }\n    /**\n     * Removes a timestamp from a packet log\n     *\n     * @param packetLog : The packetlog from which the timestamp should be removed\n     * @param timestamp : The timestamp to be removed\n     * @returns true if timestamp was present in the log and removed, false otherwise\n     */\n    removeTimestamp(packetLog, timestamp) {\n        const index = packetLog.window.indexOf(timestamp);\n        if (index >= 0) {\n            packetLog.window[index] = undefined;\n            return true;\n        }\n        return false;\n    }\n    /**\n     * Removes a timestamp from red and fec recovery windows.\n     *\n     * @param timestamp : The timestamp to be removed\n     */\n    removeFromRecoveryWindows(timestamp) {\n        let removed = this.removeTimestamp(this.redRecoveryLog, timestamp);\n        if (removed) {\n            if (this.totalAudioPacketsRecoveredRed > 0)\n                this.totalAudioPacketsRecoveredRed--;\n        }\n        removed = this.removeTimestamp(this.fecRecoveryLog, timestamp);\n        if (removed) {\n            if (this.totalAudioPacketsRecoveredFec > 0)\n                this.totalAudioPacketsRecoveredFec--;\n        }\n    }\n    /**\n     * Converts the supplied argument to 32-bit unsigned integer\n     */\n    uint32WrapAround(num) {\n        const mod = 4294967296; // 2^32\n        let res = num;\n        if (num >= mod) {\n            res = num - mod;\n        }\n        else if (num < 0) {\n            res = mod + num;\n        }\n        return res;\n    }\n    /**\n     * Converts the supplied argument to 16-bit signed integer\n     */\n    int16(num) {\n        return (num << 16) >> 16;\n    }\n    /**\n     * Determines if an Opus packet is in CELT-only mode.\n     *\n     * @param packet Opus packet.\n     * @returns `true` if the packet is in CELT-only mode.\n     */\n    opusPacketIsCeltOnly(packet) {\n        // TOC byte format (https://www.rfc-editor.org/rfc/rfc6716#section-3.1):\n        //  0\n        //  0 1 2 3 4 5 6 7\n        // +-+-+-+-+-+-+-+-+\n        // | config  |s| c |\n        // +-+-+-+-+-+-+-+-+\n        // Since CELT-only packets are represented using configurations 16 to 31, the highest 'config' bit will always be 1\n        // for CELT-only packets.\n        return !!(packet.getUint8(0) & 0x80);\n    }\n    /**\n     * Gets the number of samples per frame from an Opus packet.\n     *\n     * @param packet Opus packet. This must contain at least one byte of data.\n     * @param sampleRateHz 32-bit integer sampling rate in Hz. This must be a multiple of 400 or inaccurate results will\n     *                     be returned.\n     * @returns Number of samples per frame.\n     */\n    opusPacketGetSamplesPerFrame(packet, sampleRateHz) {\n        // Sample rate must be a 32-bit integer.\n        sampleRateHz = Math.round(sampleRateHz);\n        sampleRateHz = Math.min(Math.max(sampleRateHz, -(Math.pow(2, 32))), Math.pow(2, 32) - 1);\n        // TOC byte format (https://www.rfc-editor.org/rfc/rfc6716#section-3.1):\n        //  0\n        //  0 1 2 3 4 5 6 7\n        // +-+-+-+-+-+-+-+-+\n        // | config  |s| c |\n        // +-+-+-+-+-+-+-+-+\n        let numSamples;\n        let frameSizeOption;\n        // Case for CELT-only packet.\n        if (this.opusPacketIsCeltOnly(packet)) {\n            // The lower 3 'config' bits indicate the frame size option.\n            frameSizeOption = (packet.getUint8(0) >> 3) & 0x3;\n            // The frame size options 0, 1, 2, 3 correspond to frame sizes of 2.5, 5, 10, 20 ms. Notice that the frame sizes\n            // can be represented as (2.5 * 2^0), (2.5 * 2^1), (2.5 * 2^2), (2.5 * 2^3) ms. So, the number of samples can be\n            // calculated as follows:\n            // (sample/s) * (1s/1000ms) * (2.5ms) * 2^(frameSizeOption)\n            // = (sample/s) * (1s/400) * 2^(frameSizeOption)\n            // = (sample/s) * 2^(frameSizeOption) * (1s/400)\n            numSamples = (sampleRateHz << frameSizeOption) / 400;\n        }\n        // Case for Hybrid packet. Since Hybrid packets are represented using configurations 12 to 15, bits 1 and 2 in the\n        // above TOC byte diagram will both be 1.\n        else if ((packet.getUint8(0) & 0x60) === 0x60) {\n            // In the case of configuration 13 or 15, bit 4 in the above TOC byte diagram will be 1. Configurations 13 and 15\n            // correspond to a 20ms frame size, so the number of samples is calculated as follows:\n            // (sample/s) * (1s/1000ms) * (20ms)\n            // = (sample/s) * (1s/50)\n            //\n            // In the case of configuration 12 or 14, bit 4 in the above TOC byte diagram will be 0. Configurations 12 and 14\n            // correspond to a 10ms frame size, so the number of samples is calculated as follows:\n            // (sample/s) * (1s/1000ms) * (10ms)\n            // = (sample/s) * (1s/100)\n            numSamples = packet.getUint8(0) & 0x08 ? sampleRateHz / 50 : sampleRateHz / 100;\n        }\n        // Case for SILK-only packet.\n        else {\n            // The lower 3 'config' bits indicate the frame size option for SILK-only packets.\n            frameSizeOption = (packet.getUint8(0) >> 3) & 0x3;\n            if (frameSizeOption === 3) {\n                // Frame size option 3 corresponds to a frame size of 60ms, so the number of samples is calculated as follows:\n                // (sample/s) * (1s/1000ms) * (60ms)\n                // = (sample/s) * (60ms) * (1s/1000ms)\n                numSamples = (sampleRateHz * 60) / 1000;\n            }\n            else {\n                // The frame size options 0, 1, 2 correspond to frame sizes of 10, 20, 40 ms. Notice that the frame sizes can be\n                // represented as (10 * 2^0), (10 * 2^1), (10 * 2^2) ms. So, the number of samples can be calculated as follows:\n                // (sample/s) * (1s/1000ms) * (10ms) * 2^(frameSizeOption)\n                // = (sample/s) * (1s/100) * 2^(frameSizeOption)\n                // = (sample/s) * 2^(frameSizeOption) * (1s/100)\n                numSamples = (sampleRateHz << frameSizeOption) / 100;\n            }\n        }\n        return numSamples;\n    }\n    /**\n     * Gets the number of SILK frames per Opus frame.\n     *\n     * @param packet Opus packet.\n     * @returns Number of SILK frames per Opus frame.\n     */\n    opusNumSilkFrames(packet) {\n        // For computing the frame length in ms, the sample rate is not important since it cancels out. We use 48 kHz, but\n        // any valid sample rate would work.\n        //\n        // To calculate the length of a frame (with a 48kHz sample rate) in ms:\n        // (samples/frame) * (1s/48000 samples) * (1000ms/s)\n        // = (samples/frame) * (1000ms/48000 samples)\n        // = (samples/frame) * (1ms/48 samples)\n        let frameLengthMs = this.opusPacketGetSamplesPerFrame(packet, 48000) / 48;\n        if (frameLengthMs < 10)\n            frameLengthMs = 10;\n        // The number of SILK frames per Opus frame is described in https://www.rfc-editor.org/rfc/rfc6716#section-4.2.2.\n        switch (frameLengthMs) {\n            case 10:\n            case 20:\n                return 1;\n            case 40:\n                return 2;\n            case 60:\n                return 3;\n            // It is not possible to reach the default case since an Opus packet can only encode sizes of 2.5, 5, 10, 20, 40,\n            // or 60 ms, so we ignore the default case for test coverage.\n            /* istanbul ignore next */\n            default:\n                return 0;\n        }\n    }\n    /**\n     * Gets the number of channels from an Opus packet.\n     *\n     * @param packet Opus packet.\n     * @returns Number of channels.\n     */\n    opusPacketGetNumChannels(packet) {\n        // TOC byte format (https://www.rfc-editor.org/rfc/rfc6716#section-3.1):\n        //  0\n        //  0 1 2 3 4 5 6 7\n        // +-+-+-+-+-+-+-+-+\n        // | config  |s| c |\n        // +-+-+-+-+-+-+-+-+\n        // The 's' bit indicates mono or stereo audio, with 0 indicating mono and 1 indicating stereo.\n        return packet.getUint8(0) & 0x4 ? 2 : 1;\n    }\n    /**\n     * Determine the size (in bytes) of an Opus frame.\n     *\n     * @param packet Opus packet.\n     * @param byteOffset Offset (from the start of the packet) to the byte containing the size information.\n     * @param remainingBytes Remaining number of bytes to parse from the Opus packet.\n     * @param sizeBytes Variable to store the parsed frame size (in bytes).\n     * @returns Number of bytes that were parsed to determine the frame size.\n     */\n    opusParseSize(packet, byteOffset, remainingBytes, sizeBytes) {\n        // See https://www.rfc-editor.org/rfc/rfc6716#section-3.2.1 for an explanation of how frame size is represented.\n        // If there are no remaining bytes to parse the size from, then the size cannot be determined.\n        if (remainingBytes < 1) {\n            sizeBytes[0] = -1;\n            return -1;\n        }\n        // If the first byte is in the range 0...251, then this value is the size of the frame.\n        else if (packet.getUint8(byteOffset) < 252) {\n            sizeBytes[0] = packet.getUint8(byteOffset);\n            return 1;\n        }\n        // If the first byte is in the range 252...255, a second byte is needed. If there is no second byte, then the size\n        // cannot be determined.\n        else if (remainingBytes < 2) {\n            sizeBytes[0] = -1;\n            return -1;\n        }\n        // The total size of the frame given two size bytes is:\n        // (4 * secondSizeByte) + firstSizeByte\n        else {\n            sizeBytes[0] = 4 * packet.getUint8(byteOffset + 1) + packet.getUint8(byteOffset);\n            return 2;\n        }\n    }\n    /**\n     * Parse binary data containing an Opus packet into one or more Opus frames.\n     *\n     * @param data Binary data containing an Opus packet to be parsed. The data should begin with the first byte (i.e the\n     *             TOC byte) of an Opus packet. Note that the size of the data does not have to equal the size of the\n     *             contained Opus packet.\n     * @param lenBytes Size of the data (in bytes).\n     * @param selfDelimited Indicates if the Opus packet is self-delimiting\n     *                      (https://www.rfc-editor.org/rfc/rfc6716#appendix-B).\n     * @param tocByte Optional variable to store the TOC (table of contents) byte.\n     * @param frameOffsets Optional variable to store the offsets (from the start of the data) to the first bytes of each\n     *                     Opus frame.\n     * @param frameSizes Required variable to store the sizes (in bytes) of each Opus frame.\n     * @param payloadOffset Optional variable to store the offset (from the start of the data) to the first byte of the\n     *                      payload.\n     * @param packetLenBytes Optional variable to store the length of the Opus packet (in bytes).\n     * @returns Number of Opus frames.\n     */\n    opusPacketParseImpl(data, lenBytes, selfDelimited, tocByte, frameOffsets, frameSizes, payloadOffset, packetLenBytes) {\n        if (!frameSizes || lenBytes < 0)\n            return this.OPUS_BAD_ARG;\n        if (lenBytes === 0)\n            return this.OPUS_INVALID_PACKET;\n        // The number of Opus frames in the packet.\n        let numFrames;\n        // Intermediate storage for the number of bytes parsed to determine the size of a frame.\n        let numBytesParsed;\n        // The number of the padding bytes (excluding the padding count bytes) in the packet.\n        let paddingBytes = 0;\n        // Indicates whether CBR (constant bitrate) framing is used.\n        let cbr = false;\n        // The TOC (table of contents) byte (https://www.rfc-editor.org/rfc/rfc6716#section-3.1).\n        const toc = data.getUint8(0);\n        // Store the TOC byte.\n        if (tocByte)\n            tocByte[0] = toc;\n        // The remaining number of bytes to parse from the packet. Note that the TOC byte has already been parsed, hence the\n        // minus 1.\n        let remainingBytes = lenBytes - 1;\n        // This keeps track of where we are in the packet. This starts at 1 since the TOC byte has already been read.\n        let byteOffset = 1;\n        // The size of the last Opus frame in bytes.\n        let lastSizeBytes = remainingBytes;\n        // Read the `c` bits (i.e. code bits) from the TOC byte.\n        switch (toc & 0x3) {\n            // A code 0 packet (https://www.rfc-editor.org/rfc/rfc6716#section-3.2.2) has one frame.\n            case 0:\n                numFrames = 1;\n                break;\n            // A code 1 packet (https://www.rfc-editor.org/rfc/rfc6716#section-3.2.3) has two CBR (constant bitrate) frames.\n            case 1:\n                numFrames = 2;\n                cbr = true;\n                if (!selfDelimited) {\n                    // Undelimited code 1 packets must be an even number of data bytes, otherwise the packet is invalid.\n                    if (remainingBytes & 0x1)\n                        return this.OPUS_INVALID_PACKET;\n                    // The sizes of both frames are equal (i.e. half of the number of data bytes).\n                    lastSizeBytes = remainingBytes / 2;\n                    // If `lastSizeBytes` is too large, we will catch it later.\n                    frameSizes[0][0] = lastSizeBytes;\n                }\n                break;\n            // A code 2 packet (https://www.rfc-editor.org/rfc/rfc6716#section-3.2.4) has two VBR (variable bitrate) frames.\n            case 2:\n                numFrames = 2;\n                numBytesParsed = this.opusParseSize(data, byteOffset, remainingBytes, frameSizes[0]);\n                remainingBytes -= numBytesParsed;\n                // The parsed size of the first frame cannot be larger than the number of remaining bytes in the packet.\n                if (frameSizes[0][0] < 0 || frameSizes[0][0] > remainingBytes) {\n                    return this.OPUS_INVALID_PACKET;\n                }\n                byteOffset += numBytesParsed;\n                // The size of the second frame is the remaining number of bytes after the first frame.\n                lastSizeBytes = remainingBytes - frameSizes[0][0];\n                break;\n            // A code 3 packet (https://www.rfc-editor.org/rfc/rfc6716#section-3.2.5) has multiple CBR/VBR frames (from 0 to\n            // 120 ms).\n            default:\n                // Code 3 packets must have at least 2 bytes (i.e. at least 1 byte after the TOC byte).\n                if (remainingBytes < 1)\n                    return this.OPUS_INVALID_PACKET;\n                // Frame count byte format:\n                //  0\n                //  0 1 2 3 4 5 6 7\n                // +-+-+-+-+-+-+-+-+\n                // |v|p|     M     |\n                // +-+-+-+-+-+-+-+-+\n                //\n                // Read the frame count byte, which immediately follows the TOC byte.\n                const frameCountByte = data.getUint8(byteOffset++);\n                --remainingBytes;\n                // Read the 'M' bits of the frame count byte, which encode the number of frames.\n                numFrames = frameCountByte & 0x3f;\n                // The number of frames in a code 3 packet must not be 0.\n                if (numFrames <= 0)\n                    return this.OPUS_INVALID_PACKET;\n                const samplesPerFrame = this.opusPacketGetSamplesPerFrame(data, 48000);\n                // A single frame can have at most 2880 samples, which happens in the case where 60ms of 48kHz audio is encoded\n                // per frame. A code 3 packet cannot contain more than 120ms of audio, so the total number of samples cannot\n                // exceed 2880 * 2 = 5760.\n                if (samplesPerFrame * numFrames > 5760)\n                    return this.OPUS_INVALID_PACKET;\n                // Parse padding bytes if the 'p' bit is 1.\n                if (frameCountByte & 0x40) {\n                    let paddingCountByte;\n                    let numPaddingBytes;\n                    // Remove padding bytes (including padding count bytes) from the remaining byte count.\n                    do {\n                        // Sanity check that there are enough bytes to parse and remove the padding.\n                        if (remainingBytes <= 0)\n                            return this.OPUS_INVALID_PACKET;\n                        // Get the next padding count byte.\n                        paddingCountByte = data.getUint8(byteOffset++);\n                        --remainingBytes;\n                        // If the padding count byte has a value in the range 0...254, then the total size of the padding is the\n                        // value in the padding count byte.\n                        //\n                        // If the padding count byte has value 255, then the total size of the padding is 254 plus the value in the\n                        // next padding count byte. Therefore, keep reading padding count bytes while the value is 255.\n                        numPaddingBytes = paddingCountByte === 255 ? 254 : paddingCountByte;\n                        remainingBytes -= numPaddingBytes;\n                        paddingBytes += numPaddingBytes;\n                    } while (paddingCountByte === 255);\n                }\n                // Sanity check that the remaining number of bytes is not negative after removing the padding.\n                if (remainingBytes < 0)\n                    return this.OPUS_INVALID_PACKET;\n                // Read the 'v' bit (i.e. VBR bit).\n                cbr = !(frameCountByte & 0x80);\n                // VBR case\n                if (!cbr) {\n                    lastSizeBytes = remainingBytes;\n                    // Let M be the number of frames. There will be M - 1 frame length indicators (which can be 1 or 2 bytes)\n                    // corresponding to the lengths of frames 0 to M - 2. The size of the last frame (i.e. frame M - 1) is the\n                    // number of data bytes after the end of frame M - 2 and before the start of the padding bytes.\n                    for (let i = 0; i < numFrames - 1; ++i) {\n                        numBytesParsed = this.opusParseSize(data, byteOffset, remainingBytes, frameSizes[i]);\n                        remainingBytes -= numBytesParsed;\n                        // The remaining number of data bytes must be enough to contain each frame.\n                        if (frameSizes[i][0] < 0 || frameSizes[i][0] > remainingBytes) {\n                            return this.OPUS_INVALID_PACKET;\n                        }\n                        byteOffset += numBytesParsed;\n                        lastSizeBytes -= numBytesParsed + frameSizes[i][0];\n                    }\n                    // Sanity check that the size of the last frame is not negative.\n                    if (lastSizeBytes < 0)\n                        return this.OPUS_INVALID_PACKET;\n                }\n                // CBR case\n                else if (!selfDelimited) {\n                    // The size of each frame is the number of data bytes divided by the number of frames.\n                    lastSizeBytes = Math.trunc(remainingBytes / numFrames);\n                    // The number of data bytes must be a non-negative integer multiple of the number of frames.\n                    if (lastSizeBytes * numFrames !== remainingBytes)\n                        return this.OPUS_INVALID_PACKET;\n                    // All frames have equal size in the undelimited CBR case.\n                    for (let i = 0; i < numFrames - 1; ++i) {\n                        frameSizes[i][0] = lastSizeBytes;\n                    }\n                }\n        }\n        // Self-delimited framing uses an extra 1 or 2 bytes, immediately preceding the data bytes, to indicate either the\n        // size of the last frame (for code 0, code 2, and VBR code 3 packets) or the size of all the frames (for code 1 and\n        // CBR code 3 packets). See https://www.rfc-editor.org/rfc/rfc6716#appendix-B.\n        if (selfDelimited) {\n            // The extra frame size byte(s) will always indicate the size of the last frame.\n            numBytesParsed = this.opusParseSize(data, byteOffset, remainingBytes, frameSizes[numFrames - 1]);\n            remainingBytes -= numBytesParsed;\n            // There must be enough data bytes for the last frame.\n            if (frameSizes[numFrames - 1][0] < 0 || frameSizes[numFrames - 1][0] > remainingBytes) {\n                return this.OPUS_INVALID_PACKET;\n            }\n            byteOffset += numBytesParsed;\n            // For CBR packets, the sizes of all the frames are equal.\n            if (cbr) {\n                // There must be enough data bytes for all the frames.\n                if (frameSizes[numFrames - 1][0] * numFrames > remainingBytes) {\n                    return this.OPUS_INVALID_PACKET;\n                }\n                for (let i = 0; i < numFrames - 1; ++i) {\n                    frameSizes[i][0] = frameSizes[numFrames - 1][0];\n                }\n            }\n            // At this point, `lastSizeBytes` contains the size of the last frame plus the size of the extra frame size\n            // byte(s), so sanity check that `lastSizeBytes` is the upper bound for the size of the last frame.\n            else if (!(numBytesParsed + frameSizes[numFrames - 1][0] <= lastSizeBytes)) {\n                return this.OPUS_INVALID_PACKET;\n            }\n        }\n        // Undelimited case\n        else {\n            // Because the size of the last packet is not encoded explicitly, it is possible that the size of the last packet\n            // (or of all the packets, for the CBR case) is larger than maximum frame size.\n            if (lastSizeBytes > this.OPUS_MAX_FRAME_SIZE_BYTES)\n                return this.OPUS_INVALID_PACKET;\n            frameSizes[numFrames - 1][0] = lastSizeBytes;\n        }\n        // Store the offset to the start of the payload.\n        if (payloadOffset)\n            payloadOffset[0] = byteOffset;\n        // Store the offsets to the start of each frame.\n        for (let i = 0; i < numFrames; ++i) {\n            if (frameOffsets)\n                frameOffsets[i][0] = byteOffset;\n            byteOffset += frameSizes[i][0];\n        }\n        // Store the length of the Opus packet.\n        if (packetLenBytes)\n            packetLenBytes[0] = byteOffset + paddingBytes;\n        return numFrames;\n    }\n    /**\n     * Parse a single undelimited Opus packet into one or more Opus frames.\n     *\n     * @param packet Opus packet to be parsed.\n     * @param lenBytes Size of the packet (in bytes).\n     * @param tocByte Optional variable to store the TOC (table of contents) byte.\n     * @param frameOffsets Optional variable to store the offsets (from the start of the packet) to the first bytes of\n     *                     each Opus frame.\n     * @param frameSizes Required variable to store the sizes (in bytes) of each Opus frame.\n     * @param payloadOffset Optional variable to store the offset (from the start of the packet) to the first byte of the\n     *                      payload.\n     * @returns Number of Opus frames.\n     */\n    opusPacketParse(packet, lenBytes, tocByte, frameOffsets, frameSizes, payloadOffset) {\n        return this.opusPacketParseImpl(packet, lenBytes, \n        /* selfDelimited */ false, tocByte, frameOffsets, frameSizes, payloadOffset, null);\n    }\n    /**\n     * This function returns the SILK VAD (voice activity detection) information encoded in the Opus packet. For CELT-only\n     * packets that do not have VAD information, it returns -1.\n     *\n     * @param packet Opus packet.\n     * @param lenBytes Size of the packet (in bytes).\n     * @returns  0: no frame had the VAD flag set.\n     *           1: at least one frame had the VAD flag set.\n     *          -1: VAD status could not be determined.\n     */\n    opusPacketHasVoiceActivity(packet, lenBytes) {\n        if (!packet || lenBytes <= 0)\n            return 0;\n        // In CELT-only mode, we can not determine whether there is VAD.\n        if (this.opusPacketIsCeltOnly(packet))\n            return -1;\n        const numSilkFrames = this.opusNumSilkFrames(packet);\n        // It is not possible for `opusNumSilkFrames()` to return 0, so we ignore the next sanity check for test coverage.\n        /* istanbul ignore next */\n        if (numSilkFrames === 0)\n            return -1;\n        const opusFrameOffsets = new Array(this.OPUS_MAX_OPUS_FRAMES);\n        const opusFrameSizes = new Array(this.OPUS_MAX_OPUS_FRAMES);\n        for (let i = 0; i < this.OPUS_MAX_OPUS_FRAMES; ++i) {\n            opusFrameOffsets[i] = [undefined];\n            opusFrameSizes[i] = [undefined];\n        }\n        // Parse packet to get the Opus frames.\n        const numOpusFrames = this.opusPacketParse(packet, lenBytes, null, opusFrameOffsets, opusFrameSizes, null);\n        // VAD status cannot be determined for invalid packets.\n        if (numOpusFrames < 0)\n            return -1;\n        // Iterate over all Opus frames, which may contain multiple SILK frames, to determine the VAD status.\n        for (let i = 0; i < numOpusFrames; ++i) {\n            if (opusFrameSizes[i][0] < 1)\n                continue;\n            // LP layer header bits format (https://www.rfc-editor.org/rfc/rfc6716#section-4.2.3):\n            //\n            // Mono case:\n            // +-----------------+----------+\n            // | 1 to 3 VAD bits | LBRR bit |\n            // +-----------------+----------+\n            //\n            // Stereo case:\n            // +---------------------+--------------+----------------------+---------------+\n            // | 1 to 3 mid VAD bits | mid LBRR bit | 1 to 3 side VAD bits | side LBRR bit |\n            // +---------------------+--------------+----------------------+---------------+\n            // The upper 1 to 3 bits (dependent on the number of SILK frames) of the LP layer contain VAD bits. If any of\n            // these VAD bits are 1, then voice activity is present.\n            if (packet.getUint8(opusFrameOffsets[i][0]) >> (8 - numSilkFrames))\n                return 1;\n            // In the stereo case, there is a second set of 1 to 3 VAD bits, so also check these VAD bits.\n            const channels = this.opusPacketGetNumChannels(packet);\n            if (channels === 2 &&\n                (packet.getUint8(opusFrameOffsets[i][0]) << (numSilkFrames + 1)) >> (8 - numSilkFrames)) {\n                return 1;\n            }\n        }\n        // No voice activity was detected.\n        return 0;\n    }\n    /**\n     * This method is based on Definition of the Opus Audio Codec\n     * (https://tools.ietf.org/html/rfc6716). Basically, this method is based on\n     * parsing the LP layer of an Opus packet, particularly the LBRR flag.\n     *\n     * @param packet Opus packet.\n     * @param lenBytes Size of the packet (in bytes).\n     * @returns  true: packet has fec encoding about previous packet.\n     *           false: no fec encoding present.\n     */\n    opusPacketHasFec(packet, lenBytes) {\n        if (!packet || lenBytes <= 0)\n            return false;\n        // In CELT-only mode, packets should not have FEC.\n        if (this.opusPacketIsCeltOnly(packet))\n            return false;\n        const opusFrameOffsets = new Array(this.OPUS_MAX_OPUS_FRAMES);\n        const opusFrameSizes = new Array(this.OPUS_MAX_OPUS_FRAMES);\n        for (let i = 0; i < this.OPUS_MAX_OPUS_FRAMES; ++i) {\n            opusFrameOffsets[i] = [undefined];\n            opusFrameSizes[i] = [undefined];\n        }\n        // Parse packet to get the Opus frames.\n        const numOpusFrames = this.opusPacketParse(packet, lenBytes, null, opusFrameOffsets, opusFrameSizes, null);\n        if (numOpusFrames < 0)\n            return false;\n        /* istanbul ignore next */\n        if (opusFrameSizes[0][0] <= 1)\n            return false;\n        const numSilkFrames = this.opusNumSilkFrames(packet);\n        /* istanbul ignore next */\n        if (numSilkFrames === 0)\n            return false;\n        const channels = this.opusPacketGetNumChannels(packet);\n        /* istanbul ignore next */\n        if (channels !== 1 && channels !== 2)\n            return false;\n        // A frame starts with the LP layer. The LP layer begins with two to eight\n        // header bits.These consist of one VAD bit per SILK frame (up to 3),\n        // followed by a single flag indicating the presence of LBRR frames.\n        // For a stereo packet, these first flags correspond to the mid channel, and\n        // a second set of flags is included for the side channel. Because these are\n        // the first symbols decoded by the range coder and because they are coded\n        // as binary values with uniform probability, they can be extracted directly\n        // from the most significant bits of the first byte of compressed data.\n        for (let i = 0; i < channels; i++) {\n            if (packet.getUint8(opusFrameOffsets[0][0]) & (0x80 >> ((i + 1) * (numSilkFrames + 1) - 1)))\n                return true;\n        }\n        return false;\n    }\n}\nRedundantAudioEncoder.shouldLog = true;\nRedundantAudioEncoder.shouldReportStats = true;\nRedundantAudioEncoder.initializeWorker();\n";RedundantAudioEncoderWorkerCode$1.default=RedundantAudioEncoderWorkerCode;var __awaiter$s=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,ns,rs,is){function os(ss){return ss instanceof rs?ss:new rs(function(as){as(ss)})}return new(rs||(rs=Promise))(function(ss,as){function ls(ds){try{us(is.next(ds))}catch(ps){as(ps)}}function cs(ds){try{us(is.throw(ds))}catch(ps){as(ps)}}function us(ds){ds.done?ss(ds.value):os(ds.value).then(ls,cs)}us((is=is.apply(ts,ns||[])).next())})},__importDefault$F=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(DefaultTransceiverController$1,"__esModule",{value:!0});const AudioProfile_1=__importDefault$F(AudioProfile$1),RedundantAudioRecoveryMetricReport_1=__importDefault$F(RedundantAudioRecoveryMetricReport$1),RedundantAudioEncoder_1=__importDefault$F(RedundantAudioEncoder$1),RedundantAudioEncoderWorkerCode_1=__importDefault$F(RedundantAudioEncoderWorkerCode$1),AsyncScheduler_1$3=__importDefault$F(AsyncScheduler$1);class DefaultTransceiverController{constructor(ns,rs,is){this.logger=ns,this.browserBehavior=rs,this.meetingSessionContext=is,this._localCameraTransceiver=null,this._localAudioTransceiver=null,this.videoSubscriptions=[],this.defaultMediaStream=null,this.peer=null,this.streamIdToTransceiver=new Map,this.groupIdToTransceiver=new Map,this.audioRedWorker=null,this.audioRedWorkerURL=null,this.audioMetricsHistory=new Array,this.redMetricsObservers=new Set,this.currentNumRedundantEncodings=0,this.lastRedHolddownTimerStartTimestampMs=0,this.lastHighPacketLossEventTimestampMs=0,this.lastAudioRedTurnOffTimestampMs=0,this.maxAudioMetricsHistory=20,this.audioRedPacketLossShortEvalPeriodMs=5*1e3,this.audioRedPacketLossLongEvalPeriodMs=15*1e3,this.audioRedHoldDownTimeMs=5*60*1e3,this.redRecoveryTimeMs=1*60*1e3}setEncodingParameters(ns){return __awaiter$s(this,void 0,void 0,function*(){if(!this._localCameraTransceiver||this._localCameraTransceiver.direction!=="sendrecv")return;const rs=this._localCameraTransceiver.sender;if(!ns||ns.size===0)return;const is=Array.from(ns.values()),os=rs.getParameters();if(!os.encodings||os.encodings.length===0)os.encodings=is;else for(const ss of os.encodings)for(const as of is){if((ss.rid||as.rid)&&ss.rid!==as.rid)continue;let ls;for(ls in as)ls==="rid"||ls==="codecPayloadType"||as.hasOwnProperty(ls)&&(ss[ls]=as[ls])}yield rs.setParameters(os)})}localAudioTransceiver(){return this._localAudioTransceiver}localVideoTransceiver(){return this._localCameraTransceiver}setVideoSendingBitrateKbps(ns){return __awaiter$s(this,void 0,void 0,function*(){if(!this._localCameraTransceiver||this._localCameraTransceiver.direction!=="sendrecv")return;const rs=this._localCameraTransceiver.sender;if(!rs||ns<=0)return;const is=rs.getParameters();is.encodings||(is.encodings=[{}]);for(const os of is.encodings)os.maxBitrate=ns*1e3;yield rs.setParameters(is)})}setPeer(ns){this.peer=ns}reset(){this.destroyAudioRedWorkerAndStates(),this._localCameraTransceiver=null,this._localAudioTransceiver=null,this.videoSubscriptions=[],this.defaultMediaStream=null,this.peer=null}useTransceivers(){return!!this.peer&&typeof this.peer.getTransceivers<"u"}hasVideoInput(){return!(!this._localCameraTransceiver||this._localCameraTransceiver.direction!=="sendrecv")}trackIsVideoInput(ns){return this._localCameraTransceiver?ns===this._localCameraTransceiver.sender.track||ns===this._localCameraTransceiver.receiver.track:!1}setupLocalTransceivers(){var ns,rs;this.useTransceivers()&&(!this.defaultMediaStream&&typeof MediaStream<"u"&&(this.defaultMediaStream=new MediaStream),this._localAudioTransceiver||(this._localAudioTransceiver=this.peer.addTransceiver("audio",{direction:"inactive",streams:[this.defaultMediaStream]}),!((rs=(ns=this.meetingSessionContext)===null||ns===void 0?void 0:ns.audioProfile)===null||rs===void 0)&&rs.hasRedundancyEnabled()&&this.setupAudioRedWorker()),this._localCameraTransceiver||(this._localCameraTransceiver=this.addTransceiver("video",{direction:"inactive",streams:[this.defaultMediaStream]})))}replaceAudioTrack(ns){return __awaiter$s(this,void 0,void 0,function*(){return!this._localAudioTransceiver||this._localAudioTransceiver.direction!=="sendrecv"?(this.logger.info("audio transceiver direction is not set up or not activated"),!1):(yield this._localAudioTransceiver.sender.replaceTrack(ns),!0)})}setAudioInput(ns){return __awaiter$s(this,void 0,void 0,function*(){yield this.setTransceiverInput(this._localAudioTransceiver,ns)})}setVideoInput(ns){return __awaiter$s(this,void 0,void 0,function*(){yield this.setTransceiverInput(this._localCameraTransceiver,ns)})}updateVideoTransceivers(ns,rs){if(!this.useTransceivers())return rs.array();const is=this.peer.getTransceivers();return this.videoSubscriptions=[0],rs=rs.clone(),this.updateTransceivers(is,ns,rs),this.logger.debug(()=>this.debugDumpTransceivers()),this.videoSubscriptions}updateTransceivers(ns,rs,is){const os=is.array();ns.length!==0&&!ns[0].stop?(this.logger.info("Updating transceivers without `stop` function"),this.updateTransceiverWithoutStop(ns,rs,os)):ns.length!==0&&this.updateTransceiverWithStop(ns,rs,os);for(const ss of os){const as=this.addTransceiver("video",{direction:"recvonly",streams:[new MediaStream]});this.streamIdToTransceiver.set(ss,as),this.groupIdToTransceiver.set(rs.groupIdForStreamId(ss),as),this.videoSubscriptions.push(ss),this.logger.info("adding transceiver mid: ".concat(as.mid," subscription: ").concat(ss," direction: recvonly"))}}updateTransceiverWithStop(ns,rs,is){let os=1;this.videoSubscriptions=[0];for(const ss of ns){if(ss===this._localCameraTransceiver||!this.transceiverIsVideo(ss)||!ss.mid)continue;let as=!1;const ls=rs.streamIdForTrack("v_"+ss.mid);if(ss.direction!=="inactive"&&ls!==void 0){for(const[cs,us]of is.entries())if(rs.StreamIdsInSameGroup(ls,us)){ss.direction="recvonly",this.videoSubscriptions[os]=us,as=!0,this.streamIdToTransceiver.delete(ls),this.streamIdToTransceiver.set(us,ss),is.splice(cs,1);break}}if(!as){this.videoSubscriptions[os]=0,this.logger.info("Stopping MID: ".concat(ss.mid,", direction: ").concat(ss.direction,", current direction: ").concat(ss.currentDirection)),ss.stop();for(const[cs,us]of this.streamIdToTransceiver.entries())ss.mid===us.mid&&(this.streamIdToTransceiver.delete(cs),this.groupIdToTransceiver.delete(rs.groupIdForStreamId(cs)))}os+=1}}updateTransceiverWithoutStop(ns,rs,is){let os=1;for(const ss of ns)if(!(ss===this._localCameraTransceiver||!this.transceiverIsVideo(ss))){if(this.videoSubscriptions[os]=0,ss.direction!=="inactive"){const as=rs.streamIdForTrack("v_"+ss.mid);if(as!==void 0){for(const[ls,cs]of is.entries())if(rs.StreamIdsInSameGroup(as,cs)){ss.direction="recvonly",this.videoSubscriptions[os]=cs,this.streamIdToTransceiver.delete(as),this.streamIdToTransceiver.set(cs,ss),is.splice(ls,1);break}}}os+=1}os=1;for(const ss of ns)if(!(ss===this._localCameraTransceiver||!this.transceiverIsVideo(ss))){if(ss.direction==="inactive"&&is.length>0){ss.direction="recvonly";const as=is.shift();this.videoSubscriptions[os]=as,this.streamIdToTransceiver.set(as,ss),this.groupIdToTransceiver.set(rs.groupIdForStreamId(as),ss)}else if(this.videoSubscriptions[os]===0){ss.direction="inactive";for(const[as,ls]of this.streamIdToTransceiver.entries())ss===ls&&(this.streamIdToTransceiver.delete(as),this.groupIdToTransceiver.delete(rs.groupIdForStreamId(as)))}os+=1}}getMidForStreamId(ns){var rs;return(rs=this.streamIdToTransceiver.get(ns))===null||rs===void 0?void 0:rs.mid}setStreamIdForMid(ns,rs){for(const[is,os]of this.streamIdToTransceiver.entries())if(os.mid===ns){this.streamIdToTransceiver.delete(is),this.streamIdToTransceiver.set(rs,os);return}}getMidForGroupId(ns){var rs,is;return(is=(rs=this.groupIdToTransceiver.get(ns))===null||rs===void 0?void 0:rs.mid)!==null&&is!==void 0?is:void 0}transceiverIsVideo(ns){return ns.receiver&&ns.receiver.track&&ns.receiver.track.kind==="video"||ns.sender&&ns.sender.track&&ns.sender.track.kind==="video"}debugDumpTransceivers(){let ns="",rs=0;for(const is of this.peer.getTransceivers())this.transceiverIsVideo(is)&&(ns+="transceiver index=".concat(rs," mid=").concat(is.mid," subscription=").concat(this.videoSubscriptions[rs]," direction=").concat(is.direction,"\n"),rs+=1);return ns}setTransceiverInput(ns,rs){return __awaiter$s(this,void 0,void 0,function*(){ns&&(rs?ns.direction="sendrecv":ns.direction="inactive",yield ns.sender.replaceTrack(rs))})}forEachRedMetricsObserver(ns){for(const rs of this.redMetricsObservers)AsyncScheduler_1$3.default.nextTick(()=>{this.redMetricsObservers.has(rs)&&rs.recoveryMetricsDidReceive(ns)})}disableAudioRedundancy(){this.meetingSessionContext.audioProfile=new AudioProfile_1.default(this.meetingSessionContext.audioProfile.audioBitrateBps,!1),this.meetingSessionContext.audioVideoController.setAudioProfile(this.meetingSessionContext.audioProfile)}setupAudioRedWorker(){var ns,rs;const is=!!window.RTCRtpScriptTransform,os=!!RTCRtpSender.prototype.createEncodedStreams;if(is)this.logger.info("[AudioRed] Supports encoded insertable streams using RTCRtpScriptTransform");else if(os)this.logger.info("[AudioRed] Supports encoded insertable streams using TransformStream");else throw this.disableAudioRedundancy(),new Error("[AudioRed] Encoded insertable streams not supported. Recreating peer connection with audio redundancy disabled.");try{this.audioRedWorkerURL=URL.createObjectURL(new Blob([RedundantAudioEncoderWorkerCode_1.default],{type:"application/javascript"})),this.logger.info("[AudioRed] Redundant audio worker URL ".concat(this.audioRedWorkerURL)),this.audioRedWorker=new Worker(this.audioRedWorkerURL)}catch(ss){throw this.logger.error("[AudioRed] Unable to create audio red worker due to ".concat(ss)),URL.revokeObjectURL(this.audioRedWorkerURL),this.audioRedWorkerURL=null,this.audioRedWorker=null,this.disableAudioRedundancy(),this.logger.info("[AudioRed] Recreating peer connection with audio redundancy disabled"),ss}if(this.audioRedEnabled=!0,this.audioRedWorker.onmessage=ss=>{if(ss.data.type==="REDWorkerLog")this.logger.info(ss.data.log);else if(ss.data.type==="RedundantAudioEncoderStats"){const as=new RedundantAudioRecoveryMetricReport_1.default;as.currentTimestampMs=Date.now(),as.ssrc=ss.data.ssrc,as.totalAudioPacketsLost=ss.data.totalAudioPacketsLost,as.totalAudioPacketsExpected=ss.data.totalAudioPacketsExpected,as.totalAudioPacketsRecoveredRed=ss.data.totalAudioPacketsRecoveredRed,as.totalAudioPacketsRecoveredFec=ss.data.totalAudioPacketsRecoveredFec,this.forEachRedMetricsObserver(as)}},is)this._localAudioTransceiver.sender.transform=new RTCRtpScriptTransform(this.audioRedWorker,{type:"SenderTransform"}),this._localAudioTransceiver.receiver.transform=new RTCRtpScriptTransform(this.audioRedWorker,{type:"ReceiverTransform"});else if(os){const ss=this._localAudioTransceiver.sender.createEncodedStreams(),as=this._localAudioTransceiver.receiver.createEncodedStreams();this.audioRedWorker.postMessage({msgType:"StartRedWorker",send:ss,receive:as},[ss.readable,ss.writable,as.readable,as.writable])}(ns=this.meetingSessionContext)===null||ns===void 0||ns.audioVideoController.addObserver(this),this.addRedundantAudioRecoveryMetricsObserver((rs=this.meetingSessionContext)===null||rs===void 0?void 0:rs.statsCollector)}addTransceiver(ns,rs){var is;const os=this.peer.addTransceiver(ns,rs);if(!(!((is=this.peer.getConfiguration())===null||is===void 0)&&is.encodedInsertableStreams)||!this.audioRedWorker)return os;const ss=!!window.RTCRtpScriptTransform,as=!!RTCRtpSender.prototype.createEncodedStreams;if(ss)os.sender.transform=new RTCRtpScriptTransform(this.audioRedWorker,{type:"PassthroughTransform"}),os.receiver.transform=new RTCRtpScriptTransform(this.audioRedWorker,{type:"PassthroughTransform"});else if(as){const ls=os.sender.createEncodedStreams(),cs=os.receiver.createEncodedStreams();this.audioRedWorker.postMessage({msgType:"PassthroughTransform",send:ls,receive:cs},[ls.readable,ls.writable,cs.readable,cs.writable])}return os}destroyAudioRedWorkerAndStates(){var ns,rs;this.audioRedWorker&&(URL.revokeObjectURL(this.audioRedWorkerURL),this.audioRedWorkerURL=null,this.audioRedWorker=null,this.currentNumRedundantEncodings=0,this.lastRedHolddownTimerStartTimestampMs=0,this.lastAudioRedTurnOffTimestampMs=0,this.lastHighPacketLossEventTimestampMs=0,this.audioRedEnabled=!0,(ns=this.meetingSessionContext)===null||ns===void 0||ns.audioVideoController.removeObserver(this),this.removeRedundantAudioRecoveryMetricsObserver((rs=this.meetingSessionContext)===null||rs===void 0?void 0:rs.statsCollector))}setAudioPayloadTypes(ns){this.audioRedWorker&&(this.audioRedWorker.postMessage({msgType:"RedPayloadType",payloadType:ns.get("red")}),this.audioRedWorker.postMessage({msgType:"OpusPayloadType",payloadType:ns.get("opus")}))}metricsDidReceive(ns){const{currentTimestampMs:rs}=ns,is=ns.getRTCStatsReport();let os=0,ss=0,as=0;is.forEach(hs=>{hs.kind==="audio"&&(hs.type==="outbound-rtp"?ss=hs.packetsSent:hs.type==="remote-inbound-rtp"&&(os=hs.timestamp,as=hs.packetsLost))}),(this.audioMetricsHistory.length===0||os>this.audioMetricsHistory[this.audioMetricsHistory.length-1].timestampMs&&ss>this.audioMetricsHistory[this.audioMetricsHistory.length-1].totalPacketsSent)&&this.audioMetricsHistory.push({timestampMs:os,totalPacketsSent:ss,totalPacketsLost:as}),this.audioMetricsHistory.length>this.maxAudioMetricsHistory&&this.audioMetricsHistory.shift();const ls=this.lossPercent(this.audioRedPacketLossShortEvalPeriodMs),cs=this.lossPercent(this.audioRedPacketLossLongEvalPeriodMs),us=Math.max(ls,cs),[ds,ps]=RedundantAudioEncoder_1.default.getNumRedundantEncodingsForPacketLoss(us);if(ps){this.lastHighPacketLossEventTimestampMs=rs,this.audioRedEnabled&&(this.audioRedWorker&&this.audioRedWorker.postMessage({msgType:"Disable"}),this.audioRedEnabled=!1,this.lastAudioRedTurnOffTimestampMs=rs);return}else if(!this.audioRedEnabled){const hs=rs-this.lastAudioRedTurnOffTimestampMs,ms=rs-this.lastHighPacketLossEventTimestampMs;if(hs>=this.audioRedPacketLossLongEvalPeriodMs&&ms<this.redRecoveryTimeMs)return;this.audioRedWorker&&this.audioRedWorker.postMessage({msgType:"Enable"}),this.audioRedEnabled=!0,this.maybeResetHoldDownTimer(rs)}this.shouldUpdateAudioRedWorkerEncodings(rs,ds)&&this.audioRedWorker&&this.audioRedWorker.postMessage({msgType:"UpdateNumRedundantEncodings",numRedundantEncodings:ds})}maybeResetHoldDownTimer(ns){this.currentNumRedundantEncodings>0&&(this.lastRedHolddownTimerStartTimestampMs=ns)}lossPercent(ns){if(this.audioMetricsHistory.length<2)return 0;const rs=this.audioMetricsHistory[this.audioMetricsHistory.length-1].timestampMs,is=this.audioMetricsHistory[this.audioMetricsHistory.length-1].totalPacketsSent,os=this.audioMetricsHistory[this.audioMetricsHistory.length-1].totalPacketsLost;for(let ss=this.audioMetricsHistory.length-2;ss>=0;ss--)if(rs-this.audioMetricsHistory[ss].timestampMs>=ns){const as=os-this.audioMetricsHistory[ss].totalPacketsLost,ls=is-this.audioMetricsHistory[ss].totalPacketsSent,cs=100*(as/ls);return Math.max(0,Math.min(cs,100))}return 0}shouldUpdateAudioRedWorkerEncodings(ns,rs){return this.currentNumRedundantEncodings===rs?(this.maybeResetHoldDownTimer(ns),!1):rs<this.currentNumRedundantEncodings&&ns-this.lastRedHolddownTimerStartTimestampMs<this.audioRedHoldDownTimeMs?!1:(this.currentNumRedundantEncodings=rs,this.maybeResetHoldDownTimer(ns),!0)}addRedundantAudioRecoveryMetricsObserver(ns){this.redMetricsObservers.add(ns)}removeRedundantAudioRecoveryMetricsObserver(ns){this.redMetricsObservers.delete(ns)}}DefaultTransceiverController$1.default=DefaultTransceiverController;var SimulcastContentShareTransceiverController$1={},SimulcastTransceiverController$1={},__awaiter$r=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,ns,rs,is){function os(ss){return ss instanceof rs?ss:new rs(function(as){as(ss)})}return new(rs||(rs=Promise))(function(ss,as){function ls(ds){try{us(is.next(ds))}catch(ps){as(ps)}}function cs(ds){try{us(is.throw(ds))}catch(ps){as(ps)}}function us(ds){ds.done?ss(ds.value):os(ds.value).then(ls,cs)}us((is=is.apply(ts,ns||[])).next())})},__importDefault$E=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(SimulcastTransceiverController$1,"__esModule",{value:!0});const DefaultTransceiverController_1$1=__importDefault$E(DefaultTransceiverController$1);class SimulcastTransceiverController extends DefaultTransceiverController_1$1.default{constructor(ns,rs,is){super(ns,rs,is),this.videoQualityControlParameterMap=new Map;let os=4;for(let ss=0;ss<SimulcastTransceiverController.NAME_ARR_ASCENDING.length;ss++){const as=SimulcastTransceiverController.NAME_ARR_ASCENDING[ss];this.videoQualityControlParameterMap.set(as,{rid:as,scaleResolutionDownBy:os,maxBitrate:SimulcastTransceiverController.BITRATE_ARR_ASCENDING[ss]*1e3}),os=os/2}}setEncodingParameters(ns){return __awaiter$r(this,void 0,void 0,function*(){if(!this._localCameraTransceiver||this._localCameraTransceiver.direction!=="sendrecv")return;const rs=this._localCameraTransceiver.sender,is=Array.from(ns.values());if(is.length<=0)return;const os=rs.getParameters();if(!os.encodings)os.encodings=is;else for(const ss of os.encodings)ss.rid===SimulcastTransceiverController.LOW_LEVEL_NAME&&this.copyEncodingParams(ns.get(SimulcastTransceiverController.LOW_LEVEL_NAME),ss),ss.rid===SimulcastTransceiverController.MID_LEVEL_NAME&&this.copyEncodingParams(ns.get(SimulcastTransceiverController.MID_LEVEL_NAME),ss),ss.rid===SimulcastTransceiverController.HIGH_LEVEL_NAME&&this.copyEncodingParams(ns.get(SimulcastTransceiverController.HIGH_LEVEL_NAME),ss);yield rs.setParameters(os),this.logVideoTransceiverParameters()})}setVideoSendingBitrateKbps(ns){return __awaiter$r(this,void 0,void 0,function*(){})}setupLocalTransceivers(){var ns,rs;if(this.useTransceivers()&&(!this.defaultMediaStream&&typeof MediaStream<"u"&&(this.defaultMediaStream=new MediaStream),this._localAudioTransceiver||(this._localAudioTransceiver=this.peer.addTransceiver("audio",{direction:"inactive",streams:[this.defaultMediaStream]}),!((rs=(ns=this.meetingSessionContext)===null||ns===void 0?void 0:ns.audioProfile)===null||rs===void 0)&&rs.hasRedundancyEnabled()&&this.setupAudioRedWorker()),!this._localCameraTransceiver)){const is=Array.from(this.videoQualityControlParameterMap.values());this._localCameraTransceiver=this.addTransceiver("video",{direction:"inactive",streams:[this.defaultMediaStream],sendEncodings:is})}}logVideoTransceiverParameters(){const rs=this._localCameraTransceiver.sender.getParameters().encodings;let is="simulcast: current encoding parameters \n";for(const os of rs)is+="rid=".concat(os.rid," maxBitrate=").concat(os.maxBitrate," active=").concat(os.active," scaleDownBy=").concat(os.scaleResolutionDownBy," maxFrameRate = ").concat(os.maxFramerate," \n");this.logger.info(is)}copyEncodingParams(ns,rs){rs.active=ns.active,rs.maxBitrate=ns.maxBitrate,rs.scaleResolutionDownBy=ns.scaleResolutionDownBy,rs.maxFramerate=ns.maxFramerate}}SimulcastTransceiverController$1.default=SimulcastTransceiverController;SimulcastTransceiverController.LOW_LEVEL_NAME="low";SimulcastTransceiverController.MID_LEVEL_NAME="mid";SimulcastTransceiverController.HIGH_LEVEL_NAME="hi";SimulcastTransceiverController.NAME_ARR_ASCENDING=["low","mid","hi"];SimulcastTransceiverController.BITRATE_ARR_ASCENDING=[200,400,1100];var __awaiter$q=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,ns,rs,is){function os(ss){return ss instanceof rs?ss:new rs(function(as){as(ss)})}return new(rs||(rs=Promise))(function(ss,as){function ls(ds){try{us(is.next(ds))}catch(ps){as(ps)}}function cs(ds){try{us(is.throw(ds))}catch(ps){as(ps)}}function us(ds){ds.done?ss(ds.value):os(ds.value).then(ls,cs)}us((is=is.apply(ts,ns||[])).next())})},__importDefault$D=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(SimulcastContentShareTransceiverController$1,"__esModule",{value:!0});const SimulcastTransceiverController_1$1=__importDefault$D(SimulcastTransceiverController$1);class SimulcastContentShareTransceiverController extends SimulcastTransceiverController_1$1.default{constructor(ns,rs,is){super(ns,rs,is);let os=2;this.videoQualityControlParameterMap=new Map;for(let ss=0;ss<SimulcastContentShareTransceiverController.NAME_ARR_ASCENDING.length;ss++){const as=SimulcastContentShareTransceiverController.NAME_ARR_ASCENDING[ss];this.videoQualityControlParameterMap.set(as,{rid:as,scaleResolutionDownBy:os,maxBitrate:SimulcastContentShareTransceiverController.BITRATE_ARR_ASCENDING[ss]*1e3}),os=os/2}}setEncodingParameters(ns){return __awaiter$q(this,void 0,void 0,function*(){if(!this._localCameraTransceiver||this._localCameraTransceiver.direction!=="sendrecv")return;const rs=this._localCameraTransceiver.sender,is=Array.from(ns.values());if(is.length<=0)return;const os=rs.getParameters();if(!os.encodings)os.encodings=is;else for(let ss=0;ss<os.encodings.length;ss++)os.encodings[ss].rid===SimulcastTransceiverController_1$1.default.LOW_LEVEL_NAME&&this.copyEncodingParams(ns.get(SimulcastTransceiverController_1$1.default.LOW_LEVEL_NAME),os.encodings[ss]),os.encodings[ss].rid===SimulcastTransceiverController_1$1.default.HIGH_LEVEL_NAME&&this.copyEncodingParams(ns.get(SimulcastTransceiverController_1$1.default.HIGH_LEVEL_NAME),os.encodings[ss]);yield rs.setParameters(os),this.logVideoTransceiverParameters()})}}SimulcastContentShareTransceiverController$1.default=SimulcastContentShareTransceiverController;SimulcastContentShareTransceiverController.NAME_ARR_ASCENDING=["low","hi"];SimulcastContentShareTransceiverController.BITRATE_ARR_ASCENDING=[300,1200];var VideoOnlyTransceiverController$1={},__importDefault$C=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(VideoOnlyTransceiverController$1,"__esModule",{value:!0});const DefaultTransceiverController_1=__importDefault$C(DefaultTransceiverController$1);class VideoOnlyTransceiverController extends DefaultTransceiverController_1.default{constructor(ns,rs,is){super(ns,rs,is)}setupLocalTransceivers(){this.useTransceivers()&&(!this.defaultMediaStream&&typeof MediaStream<"u"&&(this.defaultMediaStream=new MediaStream),this._localCameraTransceiver||(this._localCameraTransceiver=this.peer.addTransceiver("video",{direction:"inactive",streams:[this.defaultMediaStream]})))}}VideoOnlyTransceiverController$1.default=VideoOnlyTransceiverController;var DefaultVideoCaptureAndEncodeParameter$1={};Object.defineProperty(DefaultVideoCaptureAndEncodeParameter$1,"__esModule",{value:!0});class DefaultVideoCaptureAndEncodeParameter{constructor(ns,rs,is,os,ss,as=1,ls=!1){this.cameraWidth=ns,this.cameraHeight=rs,this.cameraFrameRate=is,this.maxEncodeBitrateKbps=os,this.isSimulcast=ss,this.scaleResolutionDownBy=as,this.isSVC=ls}equal(ns){let rs=ns.captureWidth()===this.cameraWidth&&ns.captureHeight()===this.cameraHeight&&ns.captureFrameRate()===this.cameraFrameRate&&ns.encodeBitrates().length===this.encodeBitrates().length&&ns.encodeScaleResolutionDownBy().length===this.encodeScaleResolutionDownBy().length&&ns.encodeWidths().length===this.encodeWidths().length&&ns.encodeHeights().length===this.encodeHeights().length&&ns.isSVCEncoding()===this.isSVC;if(rs){for(let is=0;is<ns.encodeWidths().length;is++)if(ns.encodeWidths()[is]!==this.encodeWidths()[is]||ns.encodeHeights()[is]!==this.encodeHeights()[is]||ns.encodeBitrates()[is]!==this.encodeBitrates()[is]||ns.encodeScaleResolutionDownBy()[is]!==this.encodeScaleResolutionDownBy()[is])return rs=!1,rs}return rs}clone(){return new DefaultVideoCaptureAndEncodeParameter(this.cameraWidth,this.cameraHeight,this.cameraFrameRate,this.maxEncodeBitrateKbps,this.isSimulcast,this.scaleResolutionDownBy,this.isSVC)}captureWidth(){return this.cameraWidth}captureHeight(){return this.cameraHeight}captureFrameRate(){return this.cameraFrameRate}encodeBitrates(){return[this.maxEncodeBitrateKbps]}encodeScaleResolutionDownBy(){return[this.scaleResolutionDownBy]}encodeWidths(){return[this.cameraWidth]}encodeHeights(){return[this.cameraHeight]}isSVCEncoding(){return this.isSVC}}DefaultVideoCaptureAndEncodeParameter$1.default=DefaultVideoCaptureAndEncodeParameter;var VideoAdaptiveProbePolicy$1={},VideoPreference$1={},TargetDisplaySize={};(function(ts){Object.defineProperty(ts,"__esModule",{value:!0}),ts.TargetDisplaySize=void 0;var ns;(function(rs){rs[rs.Low=0]="Low",rs[rs.Medium=1]="Medium",rs[rs.High=2]="High",rs[rs.Maximum=3]="Maximum"})(ns=ts.TargetDisplaySize||(ts.TargetDisplaySize={})),ts.default=ns})(TargetDisplaySize);var __importDefault$B=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(VideoPreference$1,"__esModule",{value:!0});const TargetDisplaySize_1$1=__importDefault$B(TargetDisplaySize),VideoQualityAdaptationPreference_1$1=__importDefault$B(VideoQualityAdaptationPreference);class VideoPreference{constructor(ns,rs,is,os){this.attendeeId=ns,this.priority=rs,this.targetSize=is!==void 0?is:TargetDisplaySize_1$1.default.Maximum,this.degradationPreference=os!==void 0?os:VideoQualityAdaptationPreference_1$1.default.Balanced}partialCompare(ns){return this.priority-ns.priority}equals(ns){return this.attendeeId===ns.attendeeId&&this.targetSize===ns.targetSize&&this.priority===ns.priority&&this.degradationPreference===ns.degradationPreference}clone(){return new VideoPreference(this.attendeeId,this.priority,this.targetSize,this.degradationPreference)}targetSizeToBitrateKbps(ns){switch(ns){case TargetDisplaySize_1$1.default.Maximum:return VideoPreference.MAXIMUM_BITRATE_KBPS;case TargetDisplaySize_1$1.default.High:return VideoPreference.HIGH_BITRATE_KBPS;case TargetDisplaySize_1$1.default.Medium:return VideoPreference.MID_BITRATE_KBPS;case TargetDisplaySize_1$1.default.Low:return VideoPreference.LOW_BITRATE_KBPS}}}VideoPreference$1.default=VideoPreference;VideoPreference.LOW_BITRATE_KBPS=300;VideoPreference.MID_BITRATE_KBPS=600;VideoPreference.HIGH_BITRATE_KBPS=1500;VideoPreference.MAXIMUM_BITRATE_KBPS=1e4;var VideoPriorityBasedPolicy$1={},VideoSource$1={};Object.defineProperty(VideoSource$1,"__esModule",{value:!0});class VideoSource{}VideoSource$1.default=VideoSource;var VideoPriorityBasedPolicyConfig$1={},__importDefault$A=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(VideoPriorityBasedPolicyConfig$1,"__esModule",{value:!0});const ServerSideNetworkAdaption_1$2=__importDefault$A(ServerSideNetworkAdaption);class VideoPriorityBasedPolicyConfig{constructor(ns=0,rs=0){this.networkIssueResponseDelayFactor=ns,this.networkIssueRecoveryDelayFactor=rs,this.currentNetworkEvent=0,this.bandwidthDecreaseTimestamp=0,this.referenceBitrate=0,this.serverSideNetworkAdaption=ServerSideNetworkAdaption_1$2.default.BandwidthProbingAndRemoteVideoQualityAdaption,ns<0?ns=0:ns>1&&(ns=1),this.networkIssueResponseDelayFactor=ns,rs<0?rs=0:rs>1&&(rs=1),this.networkIssueRecoveryDelayFactor=rs}allowSubscribe(ns,rs){let is=0;const os=this.currentNetworkEvent;if(rs>this.referenceBitrate)return this.currentNetworkEvent=2,this.referenceBitrate=rs,!0;if(rs<this.referenceBitrate){if(this.currentNetworkEvent=1,is=this.getSubscribeDelay(this.currentNetworkEvent,ns),os!==1)this.bandwidthDecreaseTimestamp=Date.now();else if(Date.now()-this.bandwidthDecreaseTimestamp>is)return this.referenceBitrate=rs,!0;return!1}else return this.currentNetworkEvent=0,!1}getSubscribeDelay(ns,rs){let is=VideoPriorityBasedPolicyConfig.MINIMUM_DELAY_MS;const os=VideoPriorityBasedPolicyConfig.MAXIMUM_DELAY_MS-VideoPriorityBasedPolicyConfig.MINIMUM_DELAY_MS,ss=this.networkIssueResponseDelayFactor;switch(ns){case 1:is+=os*ss*(1+rs/10),is=Math.min(VideoPriorityBasedPolicyConfig.MAXIMUM_DELAY_MS,is);break}return is}}VideoPriorityBasedPolicyConfig$1.default=VideoPriorityBasedPolicyConfig;VideoPriorityBasedPolicyConfig.MINIMUM_DELAY_MS=2e3;VideoPriorityBasedPolicyConfig.MAXIMUM_DELAY_MS=8e3;VideoPriorityBasedPolicyConfig.Default=new VideoPriorityBasedPolicyConfig(0,0);VideoPriorityBasedPolicyConfig.UnstableNetworkPreset=new VideoPriorityBasedPolicyConfig(0,1);VideoPriorityBasedPolicyConfig.StableNetworkPreset=new VideoPriorityBasedPolicyConfig(1,0);var __createBinding$1=commonjsGlobal$1&&commonjsGlobal$1.__createBinding||(Object.create?function(ts,ns,rs,is){is===void 0&&(is=rs),Object.defineProperty(ts,is,{enumerable:!0,get:function(){return ns[rs]}})}:function(ts,ns,rs,is){is===void 0&&(is=rs),ts[is]=ns[rs]}),__setModuleDefault=commonjsGlobal$1&&commonjsGlobal$1.__setModuleDefault||(Object.create?function(ts,ns){Object.defineProperty(ts,"default",{enumerable:!0,value:ns})}:function(ts,ns){ts.default=ns}),__importStar$1=commonjsGlobal$1&&commonjsGlobal$1.__importStar||function(ts){if(ts&&ts.__esModule)return ts;var ns={};if(ts!=null)for(var rs in ts)rs!=="default"&&Object.prototype.hasOwnProperty.call(ts,rs)&&__createBinding$1(ns,ts,rs);return __setModuleDefault(ns,ts),ns},__importDefault$z=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(VideoPriorityBasedPolicy$1,"__esModule",{value:!0});const Attendee_1=__importDefault$z(Attendee$1),ClientMetricReportDirection_1=__importDefault$z(ClientMetricReportDirection),ClientMetricReportMediaType_1=__importDefault$z(ClientMetricReportMediaType),ContentShareConstants_1$2=__importDefault$z(ContentShareConstants$1),LogLevel_1$4=LogLevel,ServerSideNetworkAdaption_1$1=__importStar$1(ServerSideNetworkAdaption),VideoSource_1=__importDefault$z(VideoSource$1),DefaultVideoStreamIdSet_1$2=__importDefault$z(DefaultVideoStreamIdSet$1),AllHighestVideoBandwidthPolicy_1=__importDefault$z(AllHighestVideoBandwidthPolicy$1),TargetDisplaySize_1=__importDefault$z(TargetDisplaySize),VideoPreference_1$1=__importDefault$z(VideoPreference$1),VideoPreferences_1$1=VideoPreferences$1,VideoPriorityBasedPolicyConfig_1$1=__importDefault$z(VideoPriorityBasedPolicyConfig$1),VideoQualityAdaptationPreference_1=__importDefault$z(VideoQualityAdaptationPreference);class LinkMediaStats{constructor(){this.bandwidthEstimateKbps=0,this.usedBandwidthKbps=0,this.packetsLost=0,this.nackCount=0,this.rttMs=0}}class VideoPriorityBasedPolicy{constructor(ns,rs=VideoPriorityBasedPolicyConfig_1$1.default.Default){this.logger=ns,this.videoPriorityBasedPolicyConfig=rs,this.shouldPauseTiles=!0,this.observerQueue=new Set,this.pausedBwAttendeeIds=new Set,this.wantsResubscribeObserver=void 0,this.videoPriorityBasedPolicyConfig.serverSideNetworkAdaption===ServerSideNetworkAdaption_1$1.default.Default&&(this.videoPriorityBasedPolicyConfig.serverSideNetworkAdaption=ServerSideNetworkAdaption_1$1.default.BandwidthProbingAndRemoteVideoQualityAdaption),this.reset()}reset(){this.allHighestPolicy=new AllHighestVideoBandwidthPolicy_1.default(""),this.optimalReceiveSet=new DefaultVideoStreamIdSet_1$2.default,this.optimalReceiveStreams=[],this.optimalNonPausedReceiveStreams=[],this.subscribedReceiveSet=new DefaultVideoStreamIdSet_1$2.default,this.subscribedReceiveStreams=[],this.videoPreferences=void 0,this.defaultVideoPreferences=void 0,this.shouldPauseTiles=!0,this.pausedStreamIds=new DefaultVideoStreamIdSet_1$2.default,this.pausedBwAttendeeIds=new Set,this.videoPreferencesUpdated=!1,this.logCount=0,this.startupPeriod=!0,this.usingPrevTargetRate=!1,this.rateProbeState="Not Probing",this.firstEstimateTimestamp=0,this.lastUpgradeRateKbps=0,this.timeBeforeAllowSubscribeMs=VideoPriorityBasedPolicy.MIN_TIME_BETWEEN_SUBSCRIBE_MS,this.lastProbeTimestamp=Date.now(),this.timeBeforeAllowProbeMs=VideoPriorityBasedPolicy.MIN_TIME_BETWEEN_PROBE_MS,this.downlinkStats=new LinkMediaStats,this.prevDownlinkStats=new LinkMediaStats,this.probeFailed=!1,this.serverSideNetworkAdaption=this.videoPriorityBasedPolicyConfig.serverSideNetworkAdaption,this.pendingActionAfterUpdatedPreferences=!1}bindToTileController(ns){this.tileController=ns,this.logger.info("tileController bound")}setWantsResubscribeObserver(ns){this.wantsResubscribeObserver=ns}chooseRemoteVideoSources(ns){var rs;if(!(!((rs=this.videoPreferences)===null||rs===void 0)&&rs.equals(ns))){if(this.videoPreferences=ns==null?void 0:ns.clone(),!ServerSideNetworkAdaption_1$1.serverSideNetworkAdaptionIsNoneOrDefault(this.serverSideNetworkAdaption)&&(this.pendingActionAfterUpdatedPreferences=!0,this.wantsResubscribeObserver!==void 0&&(this.wantsResubscribeObserver(),this.pendingActionAfterUpdatedPreferences=!1),this.serverSideNetworkAdaption===ServerSideNetworkAdaption_1$1.default.BandwidthProbingAndRemoteVideoQualityAdaption)){const is=new Array;for(const os of this.videoPreferences){const ss=new VideoSource_1.default;ss.attendee=new Attendee_1.default,ss.attendee.attendeeId=os.attendeeId,is.push(ss)}this.allHighestPolicy.chooseRemoteVideoSources(is);return}this.videoPreferencesUpdated=!0,this.logger.info("bwe: setVideoPreferences bwe: new preferences: ".concat(JSON.stringify(ns)))}}updateIndex(ns){this.videoIndex=ns,this.serverSideNetworkAdaption===ServerSideNetworkAdaption_1$1.default.BandwidthProbingAndRemoteVideoQualityAdaption&&this.allHighestPolicy.updateIndex(ns),this.videoPreferences||this.updateDefaultVideoPreferences()}updateDefaultVideoPreferences(){const ns=new Set;for(const ss of this.videoIndex.remoteStreamDescriptions())ns.add(ss.attendeeId);const rs=VideoPreferences_1$1.VideoPreferences.prepare(),is=ns.size;let os=TargetDisplaySize_1.default.Maximum;is>8?os=TargetDisplaySize_1.default.Low:is>4&&(os=TargetDisplaySize_1.default.Medium);for(const ss of ns)rs.add(new VideoPreference_1$1.default(ss,1,os));this.defaultVideoPreferences=rs.build()}updateMetrics(ns){if(!this.videoIndex||this.videoIndex.allStreams().empty())return;this.prevDownlinkStats=this.downlinkStats,this.downlinkStats=new LinkMediaStats;const rs=ns.getObservableMetrics();this.downlinkStats.bandwidthEstimateKbps=rs.availableIncomingBitrate/1e3;for(const is in ns.streamMetricReports){const os=Number.parseInt(is,10),ss=ns.streamMetricReports[os];ss.direction===ClientMetricReportDirection_1.default.DOWNSTREAM&&ss.mediaType===ClientMetricReportMediaType_1.default.VIDEO&&(ss.currentMetrics.hasOwnProperty("nackCount")&&(this.downlinkStats.nackCount+=ns.countPerSecond("nackCount",os)),ss.currentMetrics.hasOwnProperty("packetsLost")&&(this.downlinkStats.packetsLost+=ns.countPerSecond("packetsLost",os)),ss.currentMetrics.hasOwnProperty("bytesReceived")&&(this.downlinkStats.usedBandwidthKbps+=ns.bitsPerSecond("bytesReceived",os)/1e3))}}wantsResubscribe(){let ns=!1;return!ServerSideNetworkAdaption_1$1.serverSideNetworkAdaptionIsNoneOrDefault(this.serverSideNetworkAdaption)&&(ns||(ns=this.pendingActionAfterUpdatedPreferences),this.serverSideNetworkAdaption===ServerSideNetworkAdaption_1$1.default.BandwidthProbingAndRemoteVideoQualityAdaption)?ns||this.allHighestPolicy.wantsResubscribe():(this.calculateOptimalReceiveSet(),ns||(ns=!this.subscribedReceiveSet.equal(this.optimalReceiveSet)),ns)}chooseSubscriptions(){return!ServerSideNetworkAdaption_1$1.serverSideNetworkAdaptionIsNoneOrDefault(this.serverSideNetworkAdaption)&&(this.pendingActionAfterUpdatedPreferences=!1,this.serverSideNetworkAdaption===ServerSideNetworkAdaption_1$1.default.BandwidthProbingAndRemoteVideoQualityAdaption)?this.allHighestPolicy.chooseSubscriptions():(this.subscribedReceiveSet.equal(this.optimalReceiveSet)||(this.lastSubscribeTimestamp=Date.now()),this.subscribedReceiveSet=this.optimalReceiveSet.clone(),this.subscribedReceiveStreams=this.optimalReceiveStreams.slice(),this.subscribedReceiveSet.clone())}addObserver(ns){this.observerQueue.add(ns)}removeObserver(ns){this.observerQueue.delete(ns)}forEachObserver(ns){for(const rs of this.observerQueue)ns(rs)}setVideoPriorityBasedPolicyConfigs(ns){this.videoPriorityBasedPolicyConfig=ns}calculateOptimalReceiveStreams(){var ns;const rs=[],is=this.videoIndex.remoteStreamDescriptions();if(is.length===0||!((ns=this.videoPreferences)===null||ns===void 0)&&ns.isEmpty()){this.optimalReceiveStreams=[];return}const os=this.rateProbeState;this.cleanBwPausedTiles(is),this.handleAppPausedStreams(rs,is);const ss=new Map;for(const $s of this.getCurrentVideoPreferences())ss.set($s.attendeeId,$s);const as=is.filter($s=>ss.has($s.attendeeId)),ls=!this.streamsWithPreferenceDidChange(as),cs=!this.startupPeriod&&ls;if(cs&&Date.now()-this.lastSubscribeTimestamp<this.timeBeforeAllowSubscribeMs)return;as.sort(($s,Cs)=>$s.maxBitrateKbps===Cs.maxBitrateKbps?$s.streamId-Cs.streamId:$s.maxBitrateKbps-Cs.maxBitrateKbps);for(const $s of as)($s.avgBitrateKbps===0||$s.avgBitrateKbps>$s.maxBitrateKbps)&&($s.attendeeId.endsWith(ContentShareConstants_1$2.default.Modality)&&$s.maxBitrateKbps<100?$s.maxBitrateKbps=$s.avgBitrateKbps:$s.avgBitrateKbps=$s.maxBitrateKbps);const us=new Set;for(const $s of this.getCurrentVideoPreferences()){const Cs=as.filter(ks=>ks.attendeeId===$s.attendeeId);if(Cs.length<3)continue;let Es=15,xs=320*480;Cs.forEach(ks=>{Es=Math.max(Es,ks.maxFrameRate),xs=Math.max(xs,ks.totalPixels())}),Cs.sort((ks,Is)=>{if($s.degradationPreference===VideoQualityAdaptationPreference_1.default.MaintainResolution)return Math.abs(ks.maxFrameRate-Is.maxFrameRate)<2?ks.totalPixels()-Is.totalPixels():ks.maxFrameRate-Is.maxFrameRate;if($s.degradationPreference===VideoQualityAdaptationPreference_1.default.MaintainFramerate)return ks.totalPixels()===Is.totalPixels()?ks.maxFrameRate-Is.maxFrameRate:ks.totalPixels()-Is.totalPixels();{const As=Ms=>Ms.avgBitrateKbps*Math.pow(2,5*Ms.maxFrameRate/Es*Math.pow(4,Ms.totalPixels()/xs));return As(ks)-As(Is)}});let ws;for(const ks of Cs){if(ws!==void 0&&(ks.maxFrameRate<ws.maxFrameRate&&Math.abs(ws.maxFrameRate-ks.maxFrameRate)>2||ks.totalPixels()<ws.totalPixels())){us.add(ks.streamId);continue}ws=ks}}const ds=as.filter($s=>!us.has($s.streamId));this.logger.info("Filtered to ".concat(JSON.stringify(ds)));const ps={targetDownlinkBitrate:0,chosenTotalBitrate:0,deltaToNextUpgrade:0};ps.targetDownlinkBitrate=this.determineTargetRate();const hs=this.subscribedReceiveSet.size(),ms=this.downlinkStats.bandwidthEstimateKbps,gs=!this.videoPriorityBasedPolicyConfig.allowSubscribe(hs,ms);if(this.probeFailed&&(this.probeFailed=!1,this.timeBeforeAllowSubscribeMs=VideoPriorityBasedPolicy.MIN_TIME_BETWEEN_SUBSCRIBE_MS,cs&&gs))return;const ys=this.priorityPolicy(ps,ds,rs),vs=!ServerSideNetworkAdaption_1$1.serverSideNetworkAdaptionIsNoneOrDefault(this.serverSideNetworkAdaption);let bs=0;if(!vs&&!this.startupPeriod&&ls?this.rateProbeState==="Probing"?bs=this.handleProbe(rs,ps.targetDownlinkBitrate):ps.deltaToNextUpgrade!==0&&(bs=this.maybeOverrideOrProbe(rs,ps,ys)):(this.setProbeState("Not Probing"),this.lastUpgradeRateKbps=0),this.previousStreamsWithPreference=as,this.videoPreferencesUpdated=!1,bs===1){this.logger.info("bwe: keepSameSubscriptions stats:".concat(JSON.stringify(this.downlinkStats))),this.prevTargetRateKbps=ps.targetDownlinkBitrate;return}if(bs===2){const $s=this.calculateSubscribeRate(this.preProbeNonPausedReceiveStreams);this.optimalReceiveStreams=this.preProbeReceiveStreams.slice(),this.processBwPausedStreams(as,this.preProbeNonPausedReceiveStreams),this.logger.info("bwe: Use Pre-Probe subscription subscribedRate:"+$s);return}this.optimalNonPausedReceiveStreams=rs.slice();const Ss=this.pausedBwAttendeeIds.size;this.processBwPausedStreams(as,rs),this.logger.getLogLevel()<=LogLevel_1$4.LogLevel.INFO&&(this.logCount%15===0||this.rateProbeState!==os||this.optimalReceiveStreams.length!==rs.length||Ss!==this.pausedBwAttendeeIds.size)&&(this.logger.info(this.policyStateLogStr(is,ps.targetDownlinkBitrate)),this.logCount=0),this.logCount++,this.prevTargetRateKbps=ps.targetDownlinkBitrate,this.optimalReceiveStreams=rs.slice()}calculateOptimalReceiveSet(){const ns=new DefaultVideoStreamIdSet_1$2.default;this.calculateOptimalReceiveStreams();for(const rs of this.optimalReceiveStreams)ns.add(rs.streamId);if(!this.optimalReceiveSet.equal(ns)){const rs=this.calculateSubscribeRate(this.optimalReceiveStreams);this.logger.info("bwe: new streamSelection: ".concat(JSON.stringify(ns)," subscribedRate:").concat(rs))}this.optimalReceiveSet=ns}determineTargetRate(){let ns=0;const rs=Date.now();return this.downlinkStats.bandwidthEstimateKbps!==0?(this.firstEstimateTimestamp===0&&(this.firstEstimateTimestamp=rs),this.startupPeriod&&(this.downlinkStats.bandwidthEstimateKbps>VideoPriorityBasedPolicy.DEFAULT_BANDWIDTH_KBPS||this.downlinkStats.packetsLost>0||rs-this.firstEstimateTimestamp>VideoPriorityBasedPolicy.STARTUP_PERIOD_MS&&this.downlinkStats.bandwidthEstimateKbps<=this.prevDownlinkStats.bandwidthEstimateKbps)&&(this.startupPeriod=!1,this.prevTargetRateKbps=this.downlinkStats.bandwidthEstimateKbps),this.startupPeriod?ns=VideoPriorityBasedPolicy.DEFAULT_BANDWIDTH_KBPS:this.rateProbeState==="Probing"&&this.downlinkStats.usedBandwidthKbps>this.downlinkStats.bandwidthEstimateKbps&&this.downlinkStats.packetsLost<VideoPriorityBasedPolicy.SPURIOUS_PACKET_LOST_THRESHOLD?(this.logger.info("bwe: In probe state, overriding estimate ".concat(this.downlinkStats.bandwidthEstimateKbps," with actual receive bitrate ").concat(this.downlinkStats.usedBandwidthKbps)),ns=this.downlinkStats.usedBandwidthKbps+VideoPriorityBasedPolicy.USED_BANDWIDTH_OVERRIDE_BUFFER_KBPS):ns=this.downlinkStats.bandwidthEstimateKbps):this.firstEstimateTimestamp===0?ns=VideoPriorityBasedPolicy.DEFAULT_BANDWIDTH_KBPS:ns=this.prevTargetRateKbps,!this.startupPeriod&&(this.usingPrevTargetRate&&this.downlinkStats.bandwidthEstimateKbps<this.prevTargetRateKbps||this.downlinkStats.bandwidthEstimateKbps<this.prevTargetRateKbps*(100-VideoPriorityBasedPolicy.LARGE_RATE_CHANGE_TRIGGER_PERCENT)/100||this.downlinkStats.bandwidthEstimateKbps<this.downlinkStats.usedBandwidthKbps*VideoPriorityBasedPolicy.LARGE_RATE_CHANGE_TRIGGER_PERCENT/100)&&this.downlinkStats.packetsLost===0?(this.logger.debug(()=>"bwe: ValidateRate: Using Previous rate "+this.prevTargetRateKbps),this.usingPrevTargetRate=!0,ns=this.prevTargetRateKbps):this.usingPrevTargetRate=!1,ns>15e3&&this.logger.warn("bwe: "+ns+" exceeds maximum limit (15000). Limit TargetDisplaySize with VideoPreferences to avoid this."),Math.min(ns,15e3)}setProbeState(ns){if(this.rateProbeState===ns)return!1;const rs=Date.now();switch(ns){case"Not Probing":this.probePendingStartTimestamp=0;break;case"Probe Pending":if(this.lastProbeTimestamp===0||rs-this.lastProbeTimestamp>VideoPriorityBasedPolicy.MIN_TIME_BETWEEN_PROBE_MS)this.probePendingStartTimestamp=rs;else return!1;break;case"Probing":if(rs-this.probePendingStartTimestamp>this.timeBeforeAllowProbeMs)this.lastProbeTimestamp=rs,this.preProbeReceiveStreams=this.subscribedReceiveStreams.slice(),this.preProbeNonPausedReceiveStreams=this.optimalNonPausedReceiveStreams,this.timeBeforeAllowProbeMs=Math.min(this.timeBeforeAllowProbeMs*2,VideoPriorityBasedPolicy.MAX_HOLD_BEFORE_PROBE_MS);else return!1;break}return this.logger.info("bwe: setProbeState to "+ns+" from "+this.rateProbeState),this.rateProbeState=ns,!0}upgradeToStream(ns,rs){for(let is=0;is<ns.length;is++)if(ns[is].groupId===rs.groupId){const os=rs.avgBitrateKbps-ns[is].avgBitrateKbps;return this.logger.info("bwe: upgradeStream from "+JSON.stringify(ns[is])+" to "+rs),this.lastUpgradeRateKbps=os,ns[is]=rs,os}return ns.push(rs),this.lastUpgradeRateKbps=rs.avgBitrateKbps,this.lastUpgradeRateKbps}handleProbe(ns,rs){if(Date.now()-this.lastProbeTimestamp>VideoPriorityBasedPolicy.MAX_ALLOWED_PROBE_TIME_MS)return this.logger.info("bwe: Canceling probe due to timeout"),this.setProbeState("Not Probing"),0;if(this.downlinkStats.packetsLost>0&&(this.logger.info("bwe: Probe encountering packets lost:".concat(this.downlinkStats.packetsLost)),this.downlinkStats.packetsLost>VideoPriorityBasedPolicy.SPURIOUS_PACKET_LOST_THRESHOLD))return this.setProbeState("Not Probing"),this.logger.info("bwe: Canceling probe due to packets lost:".concat(this.downlinkStats.packetsLost)),this.probeFailed=!0,this.timeBeforeAllowSubscribeMs=Math.max(VideoPriorityBasedPolicy.MIN_TIME_BETWEEN_SUBSCRIBE_MS,this.timeBeforeAllowSubscribeMs)*3,2;const is=this.calculateSubscribeRate(this.optimalReceiveStreams);return this.chosenStreamsSameAsLast(ns)||rs>is?(this.logger.info("bwe: Probe successful"),this.setProbeState("Not Probing"),this.timeBeforeAllowProbeMs=VideoPriorityBasedPolicy.MIN_TIME_BETWEEN_PROBE_MS,0):1}maybeOverrideOrProbe(ns,rs,is){const os=this.chosenStreamsSameAsLast(ns);let ss=0;const as=rs.targetDownlinkBitrate>VideoPriorityBasedPolicy.LOW_BITRATE_THRESHOLD_KBPS?VideoPriorityBasedPolicy.TARGET_RATE_CHANGE_TRIGGER_PERCENT:VideoPriorityBasedPolicy.TARGET_RATE_CHANGE_TRIGGER_PERCENT*2,ls=rs.targetDownlinkBitrate*as/100;if(this.targetRateBaselineForDeltaCheckKbps=this.targetRateBaselineForDeltaCheckKbps!==void 0?this.targetRateBaselineForDeltaCheckKbps:this.prevTargetRateKbps,!os&&Math.abs(rs.targetDownlinkBitrate-this.targetRateBaselineForDeltaCheckKbps)<ls?(this.logger.info("bwe: MaybeOverrideOrProbe: Reuse last decision based on delta rate. {"+JSON.stringify(this.subscribedReceiveSet)+"}"),ss=1):this.targetRateBaselineForDeltaCheckKbps=rs.targetDownlinkBitrate,this.downlinkStats.packetsLost>this.prevDownlinkStats.packetsLost)return this.setProbeState("Not Probing"),this.lastUpgradeRateKbps=0,ss;if(os||ss===1)switch(this.rateProbeState){case"Not Probing":this.setProbeState("Probe Pending");break;case"Probe Pending":this.setProbeState("Probing")&&(this.upgradeToStream(ns,is),ss=0);break}else this.setProbeState("Not Probing");return ss}calculateSubscribeRate(ns){let rs=0;for(const is of ns)!this.pausedStreamIds.contain(is.streamId)&&!this.pausedBwAttendeeIds.has(is.attendeeId)&&(rs+=is.maxBitrateKbps);return rs}handleAppPausedStreams(ns,rs){if(!this.tileController){this.logger.warn("tileController not found!");return}this.pausedStreamIds=new DefaultVideoStreamIdSet_1$2.default;const is=this.tileController.getAllRemoteVideoTiles();for(const os of is){const ss=os.state();if(ss.paused&&!this.pausedBwAttendeeIds.has(ss.boundAttendeeId)){let as=rs.length;for(;as--;)rs[as].attendeeId===ss.boundAttendeeId&&(this.logger.info("bwe: removed paused attendee "+ss.boundAttendeeId+" streamId: "+rs[as].streamId),this.pausedStreamIds.add(rs[as].streamId),this.subscribedReceiveSet.contain(rs[as].streamId)&&ns.push(rs[as]),rs.splice(as,1))}}}processBwPausedStreams(ns,rs){if(!this.tileController){this.logger.warn("tileController not found!");return}const is=this.getCurrentVideoPreferences();if(is&&this.shouldPauseTiles){const os=this.tileController.getAllVideoTiles();for(const ss of is){const as=this.getVideoTileForAttendeeId(ss.attendeeId,os),ls=(as==null?void 0:as.state().paused)||!1;if(rs.some(cs=>cs.attendeeId===ss.attendeeId))ls&&this.pausedBwAttendeeIds.has(ss.attendeeId)&&(this.logger.info("bwe: unpausing attendee ".concat(ss.attendeeId," due to bandwidth")),this.forEachObserver(cs=>{cs.tileWillBeUnpausedByDownlinkPolicy(as.id())}),this.tileController.unpauseVideoTile(as.id()),this.pausedBwAttendeeIds.delete(ss.attendeeId));else{const cs=ns.some(us=>us.attendeeId===ss.attendeeId);if(as&&cs){const us=this.optimalReceiveStreams.find(ds=>ds.attendeeId===ss.attendeeId);us!==void 0&&(ls||(this.logger.info("bwe: pausing streamId ".concat(us.streamId," attendee ").concat(ss.attendeeId," due to bandwidth")),this.forEachObserver(ds=>{ds.tileWillBePausedByDownlinkPolicy(as.id())}),this.tileController.pauseVideoTile(as.id())),rs.push(us)),this.pausedBwAttendeeIds.add(ss.attendeeId)}else if(cs){const us=this.tileController.addVideoTile();us.bindVideoStream(ss.attendeeId,!1,null,0,0,0,null),this.forEachObserver(ds=>{ds.tileWillBePausedByDownlinkPolicy(us.id())}),us.pause(),this.logger.info("bwe: Created video tile ".concat(us.id()," for bw paused attendee ").concat(ss.attendeeId)),this.pausedBwAttendeeIds.add(ss.attendeeId)}}}}}cleanBwPausedTiles(ns){if(!this.tileController){this.logger.warn("tileController not found!");return}const rs=this.tileController.getAllRemoteVideoTiles(),is=this.getCurrentVideoPreferences();for(const os of rs){const ss=os.state();ss.boundVideoStream||(ns.some(as=>as.attendeeId===ss.boundAttendeeId)?is!==void 0&&!is.some(as=>as.attendeeId===ss.boundAttendeeId)&&this.tileController.removeVideoTile(ss.tileId):(this.tileController.removeVideoTile(ss.tileId),this.logger.info("bwe: Removed video tile ".concat(ss.tileId," for bw paused attendee ").concat(ss.boundAttendeeId))))}}priorityPolicy(ns,rs,is){let os;const ss=this.getCurrentVideoPreferences(),as=ss.highestPriority();let ls,cs=as;for(;cs!==-1;){ls=-1;for(const us of ss)if(us.priority===cs)for(const ds of rs)ds.attendeeId===us.attendeeId&&(is.some(ps=>ps.groupId===ds.groupId)||(ns.chosenTotalBitrate+ds.avgBitrateKbps<=ns.targetDownlinkBitrate?(is.push(ds),ns.chosenTotalBitrate+=ds.avgBitrateKbps):ns.deltaToNextUpgrade===0&&(ns.deltaToNextUpgrade=ds.avgBitrateKbps,os=ds)));else if(us.priority>cs){ls=us.priority;break}for(const us of ss)if(us.priority===cs){for(const ds of rs)if(ds.attendeeId===us.attendeeId){const ps=is.findIndex(hs=>hs.groupId===ds.groupId&&hs.maxBitrateKbps<=ds.maxBitrateKbps&&hs.avgBitrateKbps<ds.avgBitrateKbps);if(ps!==-1){const hs=ds.avgBitrateKbps-is[ps].avgBitrateKbps;this.hasSimulcastStreams(rs,ds.attendeeId,ds.groupId)&&this.canUpgrade(ds.avgBitrateKbps,us.targetSize,us.targetSizeToBitrateKbps(us.targetSize),ds.attendeeId.endsWith(ContentShareConstants_1$2.default.Modality))?(this.logger.info("bwe: attendee: ".concat(ds.attendeeId," group: ").concat(ds.groupId," has simulcast and can upgrade avgBitrate: ").concat(ds.avgBitrateKbps," target: ").concat(us.targetSizeToBitrateKbps(us.targetSize)," targetTotalBitrate: ").concat(ns.targetDownlinkBitrate)),ns.chosenTotalBitrate+hs<=ns.targetDownlinkBitrate?(ns.chosenTotalBitrate+=hs,is[ps]=ds):ns.deltaToNextUpgrade===0&&(ns.deltaToNextUpgrade=hs,os=ds)):this.logger.info("bwe: cannot upgrade stream quality beyond target size")}}}else if(us.priority>cs)break;if(cs===as&&ns.deltaToNextUpgrade!==0)break;cs=ls}return os}getVideoTileForAttendeeId(ns,rs){for(const is of rs)if(is.state().boundAttendeeId===ns)return is;return null}canUpgrade(ns,rs,is,os){let ss=!1;return(rs===TargetDisplaySize_1.default.High||!os&&ns<=is||os&&rs===TargetDisplaySize_1.default.Medium&&ns<=is)&&(ss=!0),ss?(this.logger.info("bwe: canUpgrade: bitrateKbps: ".concat(ns," targetBitrateKbps: ").concat(is)),!0):(this.logger.info("bwe: cannot Upgrade: bitrateKbps: ".concat(ns," targetBitrateKbps: ").concat(is)),!1)}hasSimulcastStreams(ns,rs,is){let os=0;for(const ss of ns)ss.attendeeId===rs&&ss.groupId===is&&os++;return this.logger.info("bwe: attendeeId: ".concat(rs," groupId: ").concat(is," hasSimulcastStreams: streamCount: ").concat(os)),os>1}streamsWithPreferenceDidChange(ns){if(this.previousStreamsWithPreference===void 0||ns.length!==this.previousStreamsWithPreference.length||this.videoPreferencesUpdated===!0)return!0;for(const rs of ns)if(this.previousStreamsWithPreference.find(os=>os.groupId===rs.groupId&&os.streamId===rs.streamId&&os.maxBitrateKbps===rs.maxBitrateKbps)===void 0)return!0;return!1}chosenStreamsSameAsLast(ns){if(this.optimalNonPausedReceiveStreams.length!==ns.length)return!1;for(const rs of this.optimalNonPausedReceiveStreams)if(!ns.some(is=>is.streamId===rs.streamId))return!1;return!0}policyStateLogStr(ns,rs){const is=this.calculateSubscribeRate(this.optimalReceiveStreams),os={targetBitrate:rs,subscribedRate:is,probeState:this.rateProbeState,startupPeriod:this.startupPeriod};let ss="remoteInfos: [";for(const ls of ns)ss+="{grpId:".concat(ls.groupId," strId:").concat(ls.streamId," maxBr:").concat(ls.maxBitrateKbps," avgBr:").concat(ls.avgBitrateKbps,"}, ");ss+="]";let as="bwe: optimalReceiveSet ".concat(JSON.stringify(os),"\n")+"bwe:   prev ".concat(JSON.stringify(this.prevDownlinkStats),"\n")+"bwe:   now  ".concat(JSON.stringify(this.downlinkStats),"\n")+"bwe:   ".concat(ss,"\n");return(this.pausedStreamIds.size()>0||this.pausedBwAttendeeIds.size>0)&&(as+="bwe:   paused: app stream ids ".concat(JSON.stringify(this.pausedStreamIds),"  bw attendees { ").concat(Array.from(this.pausedBwAttendeeIds).join(" ")," }\n")),this.videoPreferences?as+="bwe:   preferences: ".concat(JSON.stringify(this.videoPreferences)):as+="bwe:   default preferences: ".concat(JSON.stringify(this.defaultVideoPreferences)),as}getCurrentVideoPreferences(){return this.videoPreferences||this.defaultVideoPreferences}getServerSideNetworkAdaption(){return this.serverSideNetworkAdaption}setServerSideNetworkAdaption(ns){this.serverSideNetworkAdaption=ns,this.setProbeState("Not Probing")}supportedServerSideNetworkAdaptions(){return[ServerSideNetworkAdaption_1$1.default.None,ServerSideNetworkAdaption_1$1.default.BandwidthProbing,ServerSideNetworkAdaption_1$1.default.BandwidthProbingAndRemoteVideoQualityAdaption]}getVideoPreferences(){let ns=this.getCurrentVideoPreferences();return ns||(ns=VideoPreferences_1$1.VideoPreferences.prepare().build()),ns}wantsAllTemporalLayersInIndex(){return!0}}VideoPriorityBasedPolicy$1.default=VideoPriorityBasedPolicy;VideoPriorityBasedPolicy.DEFAULT_BANDWIDTH_KBPS=2800;VideoPriorityBasedPolicy.STARTUP_PERIOD_MS=6e3;VideoPriorityBasedPolicy.LARGE_RATE_CHANGE_TRIGGER_PERCENT=20;VideoPriorityBasedPolicy.TARGET_RATE_CHANGE_TRIGGER_PERCENT=15;VideoPriorityBasedPolicy.LOW_BITRATE_THRESHOLD_KBPS=300;VideoPriorityBasedPolicy.MIN_TIME_BETWEEN_PROBE_MS=5e3;VideoPriorityBasedPolicy.MIN_TIME_BETWEEN_SUBSCRIBE_MS=2e3;VideoPriorityBasedPolicy.MAX_HOLD_BEFORE_PROBE_MS=3e4;VideoPriorityBasedPolicy.MAX_ALLOWED_PROBE_TIME_MS=6e4;VideoPriorityBasedPolicy.SPURIOUS_PACKET_LOST_THRESHOLD=2;VideoPriorityBasedPolicy.USED_BANDWIDTH_OVERRIDE_BUFFER_KBPS=100;var __importDefault$y=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(VideoAdaptiveProbePolicy$1,"__esModule",{value:!0});const ContentShareConstants_1$1=__importDefault$y(ContentShareConstants$1),ServerSideNetworkAdaption_1=__importDefault$y(ServerSideNetworkAdaption),VideoPreference_1=__importDefault$y(VideoPreference$1),VideoPreferences_1=VideoPreferences$1,VideoPriorityBasedPolicy_1=__importDefault$y(VideoPriorityBasedPolicy$1),VideoPriorityBasedPolicyConfig_1=__importDefault$y(VideoPriorityBasedPolicyConfig$1);class VideoAdaptiveProbePolicy extends VideoPriorityBasedPolicy_1.default{constructor(ns){super(ns,VideoAdaptiveProbePolicy.createConfig()),this.logger=ns,super.shouldPauseTiles=!1,this.videoPreferences=void 0}static createConfig(){const ns=new VideoPriorityBasedPolicyConfig_1.default;return ns.serverSideNetworkAdaption=ServerSideNetworkAdaption_1.default.None,ns}reset(){super.reset(),super.shouldPauseTiles=!1,this.videoPreferences=void 0}updateIndex(ns){super.updateIndex(ns);const rs=VideoPreferences_1.VideoPreferences.prepare();let is=!1;const os=ns.remoteStreamDescriptions();for(const ss of os)rs.some(as=>as.attendeeId===ss.attendeeId)||(ss.attendeeId.endsWith(ContentShareConstants_1$1.default.Modality)?(rs.add(new VideoPreference_1.default(ss.attendeeId,1)),is=!0):rs.add(new VideoPreference_1.default(ss.attendeeId,2)));is?(this.videoPreferences=rs.build(),this.videoPreferencesUpdated=!0):this.videoPreferences=void 0}chooseRemoteVideoSources(ns){this.logger.error("chooseRemoteVideoSources should not be called by VideoAdaptiveProbePolicy")}}VideoAdaptiveProbePolicy$1.default=VideoAdaptiveProbePolicy;var DefaultVideoStreamIndex$1={},VideoStreamDescription$1={};Object.defineProperty(VideoStreamDescription$1,"__esModule",{value:!0});const SignalingProtocol_js_1$2=SignalingProtocol;class VideoStreamDescription{constructor(ns,rs,is,os,ss){this.attendeeId="",this.groupId=0,this.streamId=0,this.ssrc=0,this.trackLabel="",this.maxBitrateKbps=0,this.avgBitrateKbps=0,this.maxFrameRate=0,this.width=0,this.height=0,this.timeEnabled=0,this.disabledByWebRTC=!1,this.disabledByUplinkPolicy=!1,this.rid="",this.attendeeId=ns,this.groupId=rs,this.streamId=is,this.maxBitrateKbps=os,this.avgBitrateKbps=ss}clone(){const ns=new VideoStreamDescription;return ns.attendeeId=this.attendeeId,ns.groupId=this.groupId,ns.streamId=this.streamId,ns.ssrc=this.ssrc,ns.trackLabel=this.trackLabel,ns.maxBitrateKbps=this.maxBitrateKbps,ns.avgBitrateKbps=this.avgBitrateKbps,ns.maxFrameRate=this.maxFrameRate,ns.timeEnabled=this.timeEnabled,ns.disabledByUplinkPolicy=this.disabledByUplinkPolicy,ns.width=this.width,ns.height=this.height,ns}toStreamDescriptor(){const ns=SignalingProtocol_js_1$2.SdkStreamDescriptor.create();return ns.mediaType=SignalingProtocol_js_1$2.SdkStreamMediaType.VIDEO,ns.trackLabel=this.trackLabel,ns.attendeeId=this.attendeeId,ns.streamId=this.streamId,ns.groupId=this.groupId,ns.framerate=this.maxFrameRate,ns.maxBitrateKbps=this.disabledByUplinkPolicy?0:this.maxBitrateKbps,ns.avgBitrateBps=this.avgBitrateKbps,ns}totalPixels(){return this.width*this.height}}VideoStreamDescription$1.default=VideoStreamDescription;var __importDefault$x=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(DefaultVideoStreamIndex$1,"__esModule",{value:!0});const SignalingProtocol_js_1$1=SignalingProtocol,DefaultVideoStreamIdSet_1$1=__importDefault$x(DefaultVideoStreamIdSet$1),VideoStreamDescription_1$1=__importDefault$x(VideoStreamDescription$1);class DefaultVideoStreamIndex{constructor(ns){this.logger=ns,this.currentIndex=null,this.indexForSubscribe=null,this.indexForLastRemoteVideoUpdate=null,this.currentSubscribeAck=null,this.subscribeTrackToStreamMap=null,this.subscribeStreamToAttendeeMap=null,this.subscribeStreamToExternalUserIdMap=null,this.subscribeSsrcToStreamMap=null,this.subscribeSsrcToGroupMap=null,this.streamToAttendeeMap=null,this.groupIdToAttendeeMap=null,this.streamToExternalUserIdMap=null,this.videoStreamDescription=new VideoStreamDescription_1$1.default,this.sendVideoStreamId=0,this.videoStreamDescription.trackLabel="AmazonChimeExpressVideo",this.videoStreamDescription.streamId=2,this.videoStreamDescription.groupId=2}localStreamDescriptions(){return[this.videoStreamDescription.clone()]}convertBpsToKbps(ns){return ns>0&&ns<1e3?1:Math.trunc(ns/1e3)}remoteStreamDescriptions(){if(!this.currentIndex||!this.currentIndex.sources)return[];const ns=[];return this.currentIndex.sources.forEach(rs=>{const is=new VideoStreamDescription_1$1.default;is.attendeeId=rs.attendeeId,is.groupId=rs.groupId,is.streamId=rs.streamId,is.maxBitrateKbps=rs.maxBitrateKbps,is.avgBitrateKbps=this.convertBpsToKbps(rs.avgBitrateBps),is.width=rs.width,is.height=rs.height,is.maxFrameRate=rs.framerate,ns.push(is)}),ns}integrateUplinkPolicyDecision(ns){if(ns&&ns.length){const rs=ns[0];this.videoStreamDescription.maxBitrateKbps=rs.maxBitrate/1e3,this.videoStreamDescription.maxFrameRate=rs.maxFramerate}}integrateIndexFrame(ns){if(this.currentIndex=ns,!ns)return;const rs=new Map;let is=!1;for(const os of ns.sources){if(!rs.has(os.attendeeId)){rs.set(os.attendeeId,os.groupId);continue}const ss=rs.get(os.attendeeId);ss<os.groupId&&(this.logger.warn("Old group ID ".concat(ss," found for attendee ID ").concat(os.attendeeId,", replacing with newer group ID ").concat(os.groupId)),rs.set(os.attendeeId,os.groupId)),is=!0}is&&(this.currentIndex.sources=this.currentIndex.sources.filter(os=>rs.get(os.attendeeId)===os.groupId)),this.streamToAttendeeMap=null,this.groupIdToAttendeeMap=null,this.streamToExternalUserIdMap=null}subscribeFrameSent(){this.indexForSubscribe=this.currentIndex}remoteVideoUpdateSent(){this.indexForLastRemoteVideoUpdate=this.currentIndex}integrateSubscribeAckFrame(ns){this.currentSubscribeAck=ns,this.subscribeTrackToStreamMap=this.buildTrackToStreamMap(this.currentSubscribeAck),this.subscribeSsrcToStreamMap=this.buildSSRCToStreamMap(this.currentSubscribeAck),this.subscribeSsrcToGroupMap=this.buildSSRCToGroupMap(this.currentSubscribeAck),this.subscribeStreamToAttendeeMap=this.buildStreamToAttendeeMap(this.indexForSubscribe),this.subscribeStreamToExternalUserIdMap=this.buildStreamExternalUserIdMap(this.indexForSubscribe),this.sendVideoStreamId=0,ns.allocations&&ns.allocations!==void 0&&ns.allocations.length>0&&(this.sendVideoStreamId=ns.allocations[0].streamId)}integrateBitratesFrame(ns){if(this.currentIndex)for(const rs of ns.bitrates){const is=this.currentIndex.sources.find(os=>os.streamId===rs.sourceStreamId);is!==void 0&&(is.avgBitrateBps=rs.avgBitrateBps)}}allStreams(){const ns=new DefaultVideoStreamIdSet_1$1.default;if(this.currentIndex)for(const rs of this.currentIndex.sources)ns.add(rs.streamId);return ns}allVideoSendingSourcesExcludingSelf(ns){const rs=[],is=new Set;if(this.currentIndex&&this.currentIndex.sources&&this.currentIndex.sources.length)for(const os of this.currentIndex.sources){const{attendeeId:ss,externalUserId:as,mediaType:ls}=os;ss!==ns&&ls===SignalingProtocol_js_1$1.SdkStreamMediaType.VIDEO&&(is.has(ss)||(rs.push({attendee:{attendeeId:ss,externalUserId:as}}),is.add(ss)))}return rs}streamSelectionUnderBandwidthConstraint(ns,rs,is,os){const ss=new Set;if(this.currentIndex)for(const ds of this.currentIndex.sources)ds.attendeeId===ns||ds.mediaType!==SignalingProtocol_js_1$1.SdkStreamMediaType.VIDEO||!rs.has(ds.attendeeId)&&!is.has(ds.attendeeId)&&ss.add(ds.attendeeId);const as=this.buildAttendeeToSortedStreamDescriptorMapExcludingSelf(ns),ls=new Map;let cs=0;as.forEach((ds,ps)=>{ls.set(ps,ds[0]),cs+=ds[0].maxBitrateKbps}),cs=this.trySelectHighBitrateForAttendees(as,rs,cs,os,ls),this.trySelectHighBitrateForAttendees(as,ss,cs,os,ls);const us=new DefaultVideoStreamIdSet_1$1.default;for(const ds of ls.values())us.add(ds.streamId);return us}highestQualityStreamFromEachGroupExcludingSelf(ns){const rs=new DefaultVideoStreamIdSet_1$1.default;if(this.currentIndex){const is=new Map;for(const os of this.currentIndex.sources)os.attendeeId===ns||os.mediaType!==SignalingProtocol_js_1$1.SdkStreamMediaType.VIDEO||(!is.has(os.groupId)||os.maxBitrateKbps>is.get(os.groupId).maxBitrateKbps)&&is.set(os.groupId,os);for(const os of is.values())rs.add(os.streamId)}return rs}numberOfVideoPublishingParticipantsExcludingSelf(ns){return this.highestQualityStreamFromEachGroupExcludingSelf(ns).array().length}numberOfParticipants(){return this.currentIndex.numParticipants?this.currentIndex.numParticipants:-1}attendeeIdForTrack(ns){const rs=this.streamIdForTrack(ns);if(rs===void 0||!this.subscribeStreamToAttendeeMap)return this.logger.warn("no attendee found for track ".concat(ns)),"";const is=this.subscribeStreamToAttendeeMap.get(rs);return is||(this.logger.info("track ".concat(ns," (stream ").concat(rs,") does not correspond to a known attendee")),"")}externalUserIdForTrack(ns){const rs=this.streamIdForTrack(ns);if(rs===void 0||!this.subscribeStreamToExternalUserIdMap)return this.logger.warn("no external user id found for track ".concat(ns)),"";const is=this.subscribeStreamToExternalUserIdMap.get(rs);return is||(this.logger.info("track ".concat(ns," (stream ").concat(rs,") does not correspond to a known externalUserId")),"")}attendeeIdForStreamId(ns){if(!this.streamToAttendeeMap)if(this.currentIndex)this.streamToAttendeeMap=this.buildStreamToAttendeeMap(this.currentIndex);else return"";const rs=this.streamToAttendeeMap.get(ns);return rs||(this.logger.info("stream ID ".concat(ns," does not correspond to a known attendee")),"")}attendeeIdForGroupId(ns){if(!this.groupIdToAttendeeMap)if(this.currentIndex)this.groupIdToAttendeeMap=this.buildGroupIdToAttendeeMap(this.currentIndex);else return"";const rs=this.groupIdToAttendeeMap.get(ns);return rs||(this.logger.info("group ID ".concat(ns," does not correspond to a known attendee")),"")}groupIdForStreamId(ns){if(!(!this.currentIndex||!this.currentIndex.sources)){for(const rs of this.currentIndex.sources)if(rs.streamId===ns)return rs.groupId;if(this.indexForSubscribe){for(const rs of this.indexForSubscribe.sources)if(rs.streamId===ns)return rs.groupId}if(this.indexForLastRemoteVideoUpdate){for(const rs of this.indexForLastRemoteVideoUpdate.sources)if(rs.streamId===ns)return rs.groupId}}}StreamIdsInSameGroup(ns,rs){return this.groupIdForStreamId(ns)===this.groupIdForStreamId(rs)}streamIdForTrack(ns){if(this.subscribeTrackToStreamMap)return this.subscribeTrackToStreamMap.get(ns)}streamIdForSSRC(ns){if(this.subscribeSsrcToStreamMap)return this.subscribeSsrcToStreamMap.get(ns)}overrideStreamIdMappings(ns,rs){if(this.subscribeTrackToStreamMap){for(const[is,os]of this.subscribeTrackToStreamMap.entries())if(ns===os){this.subscribeTrackToStreamMap.set(is,rs);break}}if(this.subscribeSsrcToStreamMap){for(const[is,os]of this.subscribeSsrcToStreamMap.entries())if(ns===os){this.subscribeSsrcToStreamMap.set(is,rs);break}}}groupIdForSSRC(ns){if(this.subscribeSsrcToGroupMap)return this.subscribeSsrcToGroupMap.get(ns)}streamsPausedAtSource(){const ns=new DefaultVideoStreamIdSet_1$1.default;if(this.currentIndex)for(const rs of this.currentIndex.pausedAtSourceIds)ns.add(rs);return ns}sendVideoStreamIdFromRid(ns){return this.sendVideoStreamId}buildTrackToStreamMap(ns){const rs=new Map;this.logger.debug(()=>"trackMap ".concat(JSON.stringify(ns.tracks)));for(const is of ns.tracks)is.trackLabel.length>0&&is.streamId>0&&rs.set(is.trackLabel,is.streamId);return rs}buildSSRCToStreamMap(ns){const rs=new Map;this.logger.debug(()=>"ssrcMap ".concat(JSON.stringify(ns.tracks)));for(const is of ns.tracks)is.trackLabel.length>0&&is.streamId>0&&rs.set(is.ssrc,is.streamId);return rs}buildSSRCToGroupMap(ns){const rs=new Map;for(const is of ns.tracks)is.trackLabel.length>0&&is.streamId>0&&rs.set(is.ssrc,this.groupIdForStreamId(is.streamId));return rs}buildStreamToAttendeeMap(ns){const rs=new Map;if(ns)for(const is of ns.sources)rs.set(is.streamId,is.attendeeId);return rs}buildGroupIdToAttendeeMap(ns){const rs=new Map;for(const is of ns.sources)rs.set(is.groupId,is.attendeeId);return rs}buildStreamExternalUserIdMap(ns){const rs=new Map;if(ns)for(const is of ns.sources)is.externalUserId&&rs.set(is.streamId,is.externalUserId);return rs}trySelectHighBitrateForAttendees(ns,rs,is,os,ss){for(const as of rs){if(is>=os)break;if(ns.has(as)){const ls=ns.get(as);for(const cs of ls.reverse())if(is-ss.get(as).maxBitrateKbps+cs.maxBitrateKbps<os){is=is-ss.get(as).maxBitrateKbps+cs.maxBitrateKbps,ss.set(as,cs);break}}}return is}buildAttendeeToSortedStreamDescriptorMapExcludingSelf(ns){const rs=new Map;if(this.currentIndex)for(const is of this.currentIndex.sources)is.attendeeId===ns||is.mediaType!==SignalingProtocol_js_1$1.SdkStreamMediaType.VIDEO||(rs.has(is.attendeeId)?rs.get(is.attendeeId).push(is):rs.set(is.attendeeId,[is]));return rs.forEach((is,os)=>{is.sort((ss,as)=>ss.maxBitrateKbps>as.maxBitrateKbps?1:ss.maxBitrateKbps<as.maxBitrateKbps?-1:0)}),rs}}DefaultVideoStreamIndex$1.default=DefaultVideoStreamIndex;var SimulcastVideoStreamIndex$1={},__importDefault$w=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(SimulcastVideoStreamIndex$1,"__esModule",{value:!0});const SignalingProtocol_js_1=SignalingProtocol,DefaultVideoStreamIndex_1=__importDefault$w(DefaultVideoStreamIndex$1),VideoStreamDescription_1=__importDefault$w(VideoStreamDescription$1);class SimulcastVideoStreamIndex extends DefaultVideoStreamIndex_1.default{constructor(){super(...arguments),this.streamIdToBitrateKbpsMap=new Map,this._localStreamInfos=[],this._sendRidToVideoStreamIdMap=new Map}localStreamDescriptions(){const ns=[];return this._localStreamInfos.forEach(rs=>{ns.push(rs.clone())}),ns}integrateUplinkPolicyDecision(ns){let rs=!0,is=0;for(let os=0;os<ns.length;os++){const ss=ns[os].maxBitrate/1e3,as=ns[os].maxFramerate;if(!rs||os===this._localStreamInfos.length){rs=!1;const ls=new VideoStreamDescription_1.default;ls.maxBitrateKbps=ss,ls.maxFrameRate=as,ls.disabledByUplinkPolicy=ss===0,ls.rid=ns[os].rid,ss!==0&&(ls.timeEnabled=Date.now()),this._localStreamInfos.push(ls),is++;continue}this._localStreamInfos[is].maxBitrateKbps===0&&ss>0&&(this._localStreamInfos[is].timeEnabled=Date.now()),this._localStreamInfos[is].maxBitrateKbps=ss,this._localStreamInfos[is].maxFrameRate=as,this._localStreamInfos[is].disabledByUplinkPolicy=ss===0,is++}rs&&this._localStreamInfos.splice(is)}integrateBitratesFrame(ns){super.integrateBitratesFrame(ns);const rs=new Set,is=new Set(this.streamIdToBitrateKbpsMap.keys());for(const os of ns.bitrates)rs.add(os.sourceStreamId),this.streamIdToBitrateKbpsMap.set(os.sourceStreamId,this.convertBpsToKbps(os.avgBitrateBps));for(const os of is)rs.has(os)||(this.streamIdToBitrateKbpsMap.get(os)===SimulcastVideoStreamIndex.UNSEEN_STREAM_BITRATE?this.streamIdToBitrateKbpsMap.set(os,SimulcastVideoStreamIndex.RECENTLY_INACTIVE_STREAM_BITRATE):this.streamIdToBitrateKbpsMap.set(os,SimulcastVideoStreamIndex.NOT_SENDING_STREAM_BITRATE));this.logLocalStreamDescriptions()}logLocalStreamDescriptions(){let ns="";for(const rs of this._localStreamInfos)ns+="streamId=".concat(rs.streamId," maxBitrate=").concat(rs.maxBitrateKbps," disabledByUplink=").concat(rs.disabledByUplinkPolicy,"\n");this.logger.debug(()=>ns)}integrateIndexFrame(ns){super.integrateIndexFrame(ns);const rs=new Set,is=new Set(this.streamIdToBitrateKbpsMap.keys());for(const os of this.currentIndex.sources)os.mediaType===SignalingProtocol_js_1.SdkStreamMediaType.VIDEO&&(rs.add(os.streamId),this.streamIdToBitrateKbpsMap.has(os.streamId)||this.streamIdToBitrateKbpsMap.set(os.streamId,SimulcastVideoStreamIndex.UNSEEN_STREAM_BITRATE));for(const os of is)rs.has(os)||this.streamIdToBitrateKbpsMap.delete(os)}integrateSubscribeAckFrame(ns){if(super.integrateSubscribeAckFrame(ns),!ns.allocations||ns.allocations===void 0)return;let rs=0;this._sendRidToVideoStreamIdMap.clear();for(const is of ns.allocations){if(this._localStreamInfos.length<rs+1){this.logger.info("simulcast: allocation has more than number of local streams");break}this._localStreamInfos[rs].groupId=is.groupId,this._localStreamInfos[rs].streamId=is.streamId,this.streamIdToBitrateKbpsMap.has(is.streamId)||this.streamIdToBitrateKbpsMap.set(is.streamId,SimulcastVideoStreamIndex.UNSEEN_STREAM_BITRATE),this._sendRidToVideoStreamIdMap.set(this._localStreamInfos[rs].rid,is.streamId),rs++}}sendVideoStreamIdFromRid(ns){let rs=0;return this._sendRidToVideoStreamIdMap.has(ns)&&(rs=this._sendRidToVideoStreamIdMap.get(ns)),rs}}SimulcastVideoStreamIndex$1.default=SimulcastVideoStreamIndex;SimulcastVideoStreamIndex.UNSEEN_STREAM_BITRATE=-2;SimulcastVideoStreamIndex.RECENTLY_INACTIVE_STREAM_BITRATE=-1;SimulcastVideoStreamIndex.NOT_SENDING_STREAM_BITRATE=0;SimulcastVideoStreamIndex.BitratesMsgFrequencyMs=4e3;var DefaultVideoTileController$1={},DefaultDevicePixelRatioMonitor$1={},__awaiter$p=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,ns,rs,is){function os(ss){return ss instanceof rs?ss:new rs(function(as){as(ss)})}return new(rs||(rs=Promise))(function(ss,as){function ls(ds){try{us(is.next(ds))}catch(ps){as(ps)}}function cs(ds){try{us(is.throw(ds))}catch(ps){as(ps)}}function us(ds){ds.done?ss(ds.value):os(ds.value).then(ls,cs)}us((is=is.apply(ts,ns||[])).next())})};Object.defineProperty(DefaultDevicePixelRatioMonitor$1,"__esModule",{value:!0});class DefaultDevicePixelRatioMonitor{constructor(ns,rs){if(this.devicePixelRatioSource=ns,this.observerQueue=new Set,this.mediaQueryListener=()=>{this.observerQueue.forEach(os=>{os.devicePixelRatioChanged(this.devicePixelRatioSource.devicePixelRatio())})},typeof window>"u")return;const is=matchMedia("(resolution: ".concat(this.devicePixelRatioSource.devicePixelRatio(),"dppx)"));typeof is.addEventListener=="function"?(is.addEventListener("change",this.mediaQueryListener),this.mediaQueryList=is):typeof is.addListener=="function"?(is.addListener(this.mediaQueryListener),this.mediaQueryList=is):rs.warn("ignoring DefaultDevicePixelRatioMonitor")}destroy(){return __awaiter$p(this,void 0,void 0,function*(){this.mediaQueryList&&(typeof this.mediaQueryList.addEventListener=="function"?this.mediaQueryList.removeEventListener("change",this.mediaQueryListener):this.mediaQueryList.removeListener(this.mediaQueryListener)),delete this.mediaQueryListener,this.observerQueue.clear()})}registerObserver(ns){this.observerQueue.add(ns),ns.devicePixelRatioChanged(this.devicePixelRatioSource.devicePixelRatio())}removeObserver(ns){this.observerQueue.delete(ns)}}DefaultDevicePixelRatioMonitor$1.default=DefaultDevicePixelRatioMonitor;var DevicePixelRatioWindowSource$1={};Object.defineProperty(DevicePixelRatioWindowSource$1,"__esModule",{value:!0});class DevicePixelRatioWindowSource{devicePixelRatio(){return typeof window>"u"||!window||!window.devicePixelRatio?1:window.devicePixelRatio}}DevicePixelRatioWindowSource$1.default=DevicePixelRatioWindowSource;var __awaiter$o=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,ns,rs,is){function os(ss){return ss instanceof rs?ss:new rs(function(as){as(ss)})}return new(rs||(rs=Promise))(function(ss,as){function ls(ds){try{us(is.next(ds))}catch(ps){as(ps)}}function cs(ds){try{us(is.throw(ds))}catch(ps){as(ps)}}function us(ds){ds.done?ss(ds.value):os(ds.value).then(ls,cs)}us((is=is.apply(ts,ns||[])).next())})},__importDefault$v=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(DefaultVideoTileController$1,"__esModule",{value:!0});const VideoQualitySettings_1$4=__importDefault$v(VideoQualitySettings$1),DefaultDevicePixelRatioMonitor_1=__importDefault$v(DefaultDevicePixelRatioMonitor$1),DevicePixelRatioWindowSource_1=__importDefault$v(DevicePixelRatioWindowSource$1),Types_1$2=Types,DefaultVideoTile_1$1=__importDefault$v(DefaultVideoTile$1);class DefaultVideoTileController{constructor(ns,rs,is){this.tileFactory=ns,this.audioVideoController=rs,this.logger=is,this.tileMap=new Map,this.nextTileId=1,this.currentLocalTile=null,this.currentPausedTilesByIds=new Set,this.keepLastFrameWhenPaused=!1,this.keepLastFrameWhenPaused=rs.configuration.keepLastFrameWhenPaused}createDevicePixelRatioMonitorIfNeeded(){this.devicePixelRatioMonitor||(this.devicePixelRatioMonitor=new DefaultDevicePixelRatioMonitor_1.default(new DevicePixelRatioWindowSource_1.default,this.logger))}discardDevicePixelRatioMonitorIfNotNeeded(){return __awaiter$o(this,void 0,void 0,function*(){if(this.tileMap.size||!this.devicePixelRatioMonitor)return;const ns=this.devicePixelRatioMonitor;return this.devicePixelRatioMonitor=void 0,ns.destroy()})}bindVideoElement(ns,rs){const is=this.getVideoTile(ns);if(is===null){this.logger.warn("Ignoring video element binding for unknown tile id ".concat(ns));return}is.bindVideoElement(rs)}unbindVideoElement(ns,rs=!0){const is=this.getVideoTile(ns);if(is===null){this.logger.warn("Ignoring video element unbinding for unknown tile id ".concat(ns));return}this.logger.info("Unbinding the video element");const os=is.stateRef().boundVideoElement;is.bindVideoElement(null),rs&&(this.logger.info("Cleaning up the video element"),DefaultVideoTile_1$1.default.disconnectVideoStreamFromVideoElement(os,!1))}startLocalVideoTile(){if(this.audioVideoController.configuration.meetingFeatures.videoMaxResolution===VideoQualitySettings_1$4.default.VideoDisabled)return this.logger.warn("Could not start camera video because max video resolution was set to None"),-1;const ns=this.findOrCreateLocalVideoTile();return this.currentLocalTile.stateRef().localTileStarted=!0,this.audioVideoController.update({needsRenegotiation:!0}),ns.id()}stopLocalVideoTile(){this.currentLocalTile&&(this.currentLocalTile.stateRef().localTileStarted=!1,this.currentLocalTile.bindVideoStream(this.audioVideoController.configuration.credentials.attendeeId,!0,null,null,null,null,this.audioVideoController.configuration.credentials.externalUserId),this.audioVideoController.update({needsRenegotiation:!0}))}hasStartedLocalVideoTile(){return!!(this.currentLocalTile&&this.currentLocalTile.stateRef().localTileStarted)}removeLocalVideoTile(){this.currentLocalTile&&this.removeVideoTile(this.currentLocalTile.id())}getLocalVideoTile(){return this.currentLocalTile}pauseVideoTile(ns){const rs=this.getVideoTile(ns);rs&&(this.currentPausedTilesByIds.has(ns)||(this.audioVideoController.pauseReceivingStream(rs.stateRef().streamId),this.currentPausedTilesByIds.add(ns)),rs.pause())}unpauseVideoTile(ns){const rs=this.getVideoTile(ns);rs&&(this.currentPausedTilesByIds.has(ns)&&(this.audioVideoController.resumeReceivingStream(rs.stateRef().streamId),this.currentPausedTilesByIds.delete(ns)),rs.unpause())}getVideoTile(ns){return this.tileMap.has(ns)?this.tileMap.get(ns):null}getVideoTileArea(ns){const rs=ns.state();let is=0,os=0;return rs.boundVideoElement&&(is=rs.boundVideoElement.clientHeight*rs.devicePixelRatio,os=rs.boundVideoElement.clientWidth*rs.devicePixelRatio),is*os}getAllRemoteVideoTiles(){const ns=new Array;return this.tileMap.forEach((rs,is)=>{(!this.currentLocalTile||is!==this.currentLocalTile.id())&&ns.push(rs)}),ns}getAllVideoTiles(){return Array.from(this.tileMap.values())}addVideoTile(ns=!1){const rs=this.nextTileId;this.nextTileId+=1,this.createDevicePixelRatioMonitorIfNeeded();const is=this.tileFactory.makeTile(rs,ns,this,this.devicePixelRatioMonitor);return this.tileMap.set(rs,is),is}removeVideoTile(ns){if(!this.tileMap.has(ns))return;const rs=this.tileMap.get(ns);this.currentLocalTile===rs&&(this.currentLocalTile=null),rs.destroy(),this.tileMap.delete(ns),this.audioVideoController.forEachObserver(is=>{Types_1$2.Maybe.of(is.videoTileWasRemoved).map(os=>os.bind(is)(ns))}),this.discardDevicePixelRatioMonitorIfNotNeeded()}removeVideoTilesByAttendeeId(ns){const rs=[];for(const is of this.getAllVideoTiles()){const os=is.state();os.boundAttendeeId===ns&&(this.removeVideoTile(os.tileId),rs.push(os.tileId))}return rs}removeAllVideoTiles(){const ns=Array.from(this.tileMap.keys());for(const rs of ns)this.removeVideoTile(rs)}sendTileStateUpdate(ns){this.audioVideoController.forEachObserver(rs=>{Types_1$2.Maybe.of(rs.videoTileDidUpdate).map(is=>is.bind(rs)(ns))})}haveVideoTilesWithStreams(){for(const ns of this.getAllVideoTiles())if(ns.state().boundVideoStream)return!0;return!1}haveVideoTileForAttendeeId(ns){return!!this.getVideoTileForAttendeeId(ns)}getVideoTileForAttendeeId(ns){for(const rs of this.getAllVideoTiles())if(rs.state().boundAttendeeId===ns)return rs}captureVideoTile(ns){const rs=this.getVideoTile(ns);return rs?rs.capture():null}findOrCreateLocalVideoTile(){return this.currentLocalTile?this.currentLocalTile:(this.currentLocalTile=this.addVideoTile(!0),this.currentLocalTile.bindVideoStream(this.audioVideoController.configuration.credentials.attendeeId,!0,null,null,null,null,this.audioVideoController.configuration.credentials.externalUserId),this.currentLocalTile)}}DefaultVideoTileController$1.default=DefaultVideoTileController;var DefaultVideoTileFactory$1={},__importDefault$u=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(DefaultVideoTileFactory$1,"__esModule",{value:!0});const DefaultVideoTile_1=__importDefault$u(DefaultVideoTile$1);class DefaultVideoTileFactory{makeTile(ns,rs,is,os){return new DefaultVideoTile_1.default(ns,rs,is,os)}}DefaultVideoTileFactory$1.default=DefaultVideoTileFactory;var DefaultSimulcastUplinkPolicy$1={},SimulcastLayers={};(function(ts){Object.defineProperty(ts,"__esModule",{value:!0}),ts.SimulcastLayers=void 0;var ns;(function(rs){rs[rs.Low=0]="Low",rs[rs.LowAndMedium=1]="LowAndMedium",rs[rs.LowAndHigh=2]="LowAndHigh",rs[rs.Medium=3]="Medium",rs[rs.MediumAndHigh=4]="MediumAndHigh",rs[rs.High=5]="High"})(ns=ts.SimulcastLayers||(ts.SimulcastLayers={})),ts.default=ns})(SimulcastLayers);var __importDefault$t=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(DefaultSimulcastUplinkPolicy$1,"__esModule",{value:!0});const SimulcastLayers_1=__importDefault$t(SimulcastLayers),SimulcastTransceiverController_1=__importDefault$t(SimulcastTransceiverController$1),Types_1$1=Types,DefaultVideoCaptureAndEncodeParameter_1$2=__importDefault$t(DefaultVideoCaptureAndEncodeParameter$1),BitrateParameters_1=__importDefault$t(BitrateParameters$1);class DefaultSimulcastUplinkPolicy{constructor(ns,rs){this.selfAttendeeId=ns,this.logger=rs,this.numSenders=0,this.shouldDisableSimulcast=!1,this.newQualityMap=new Map,this.currentQualityMap=new Map,this.newActiveStreams=1,this.videoIndex=null,this.observerQueue=new Set,this.hiTargetBitrateKbps=DefaultSimulcastUplinkPolicy.kHiTargetBitrateKbpsHd,this.midTargetBitrateKbps=DefaultSimulcastUplinkPolicy.kMidTargetBitrateKbpsHd,this.lowTargetBitrateKbps=DefaultSimulcastUplinkPolicy.kLowTargetBitrateKbpsHd,this.enableFhdVideo=!1,this.optimalParameters=new DefaultVideoCaptureAndEncodeParameter_1$2.default(0,0,0,0,!0),this.parametersInEffect=new DefaultVideoCaptureAndEncodeParameter_1$2.default(0,0,0,0,!0),this.currentQualityMap=this.fillEncodingParamWithBitrates([this.lowTargetBitrateKbps,0,this.hiTargetBitrateKbps]),this.newQualityMap=this.fillEncodingParamWithBitrates([this.lowTargetBitrateKbps,0,this.hiTargetBitrateKbps])}updateConnectionMetric(ns){}calculateEncodingParameters(){const ns=[new BitrateParameters_1.default,new BitrateParameters_1.default,new BitrateParameters_1.default];this.shouldDisableSimulcast?(this.newActiveStreams=0,ns[0].maxBitrateKbps=0,ns[1].maxBitrateKbps=this.hiTargetBitrateKbps,ns[2].maxBitrateKbps=0):this.numSenders<=4?(this.newActiveStreams=1,ns[0].maxBitrateKbps=this.lowTargetBitrateKbps,ns[1].maxBitrateKbps=0,ns[2].maxBitrateKbps=this.hiTargetBitrateKbps):(this.newActiveStreams=2,ns[0].maxBitrateKbps=this.lowTargetBitrateKbps*2/3,ns[1].maxBitrateKbps=this.numSenders<=6?this.midTargetBitrateKbps:this.midTargetBitrateKbps*.6,ns[2].maxBitrateKbps=0);const rs=ns.map((is,os,ss)=>is.maxBitrateKbps);return this.newQualityMap=this.fillEncodingParamWithBitrates(rs),this.encodingParametersEqual()||this.logger.info("simulcast: policy:calculateEncodingParameters numSources:".concat(this.numSenders," shouldDisableSimulcast:").concat(this.shouldDisableSimulcast," newQualityMap: ").concat(this.getQualityMapString(this.newQualityMap))),this.newQualityMap}chooseMediaTrackConstraints(){}chooseEncodingParameters(){return this.currentQualityMap=this.newQualityMap,this.activeStreamsToPublish!==this.newActiveStreams&&(this.activeStreamsToPublish=this.newActiveStreams,this.publishEncodingSimulcastLayer()),this.currentQualityMap}updateIndex(ns){const rs=ns.numberOfVideoPublishingParticipantsExcludingSelf(this.selfAttendeeId)+1,is=rs!==this.numSenders,os=ns.numberOfParticipants(),ss=os>=0&&os<=2,as=this.shouldDisableSimulcast!==ss;this.numSenders=rs,this.shouldDisableSimulcast=ss,this.optimalParameters=new DefaultVideoCaptureAndEncodeParameter_1$2.default(this.captureWidth(),this.captureHeight(),this.captureFrameRate(),this.maxBandwidthKbps(),!1),this.videoIndex=ns,(is||as)&&(this.newQualityMap=this.calculateEncodingParameters())}wantsResubscribe(){return!this.encodingParametersEqual()}compareEncodingParameter(ns,rs){return JSON.stringify(ns)===JSON.stringify(rs)}encodingParametersEqual(){let ns=!1;for(const rs of SimulcastTransceiverController_1.default.NAME_ARR_ASCENDING)if(ns=ns||!this.compareEncodingParameter(this.newQualityMap.get(rs),this.currentQualityMap.get(rs)),ns)break;return!ns}chooseCaptureAndEncodeParameters(){return this.parametersInEffect=this.optimalParameters.clone(),this.parametersInEffect.clone()}captureWidth(){return this.enableFhdVideo?1920:1280}captureHeight(){return this.enableFhdVideo?1080:768}captureFrameRate(){return 15}maxBandwidthKbps(){return this.enableFhdVideo?2500:1400}setIdealMaxBandwidthKbps(ns){}setHasBandwidthPriority(ns){}setHighResolutionFeatureEnabled(ns){this.enableFhdVideo=ns,this.hiTargetBitrateKbps=ns?DefaultSimulcastUplinkPolicy.kHiTargetBitrateKbpsFhd:DefaultSimulcastUplinkPolicy.kHiTargetBitrateKbpsHd,this.midTargetBitrateKbps=ns?DefaultSimulcastUplinkPolicy.kMidTargetBitrateKbpsFhd:DefaultSimulcastUplinkPolicy.kMidTargetBitrateKbpsHd,this.lowTargetBitrateKbps=ns?DefaultSimulcastUplinkPolicy.kLowTargetBitrateKbpsFhd:DefaultSimulcastUplinkPolicy.kLowTargetBitrateKbpsHd}wantsVideoDependencyDescriptorRtpHeaderExtension(){return!0}fillEncodingParamWithBitrates(ns){const rs=new Map,is=1e3,os=SimulcastTransceiverController_1.default.NAME_ARR_ASCENDING,ss=ns;let as=this.shouldDisableSimulcast?1:4;for(let ls=0;ls<os.length;ls++){const cs=os[ls];rs.set(cs,{rid:cs,active:ss[ls]>0,scaleResolutionDownBy:Math.max(as,1),maxBitrate:ss[ls]*is}),as=as/2}return rs}getQualityMapString(ns){let rs="";return this.videoIndex.localStreamDescriptions().length===3&&ns.forEach(os=>{rs+="{ rid: ".concat(os.rid," active:").concat(os.active," maxBitrate:").concat(os.maxBitrate,"}")}),rs}getEncodingSimulcastLayer(ns){switch(ns){case 0:return SimulcastLayers_1.default.High;case 1:return SimulcastLayers_1.default.LowAndHigh;case 2:return SimulcastLayers_1.default.LowAndMedium}}publishEncodingSimulcastLayer(){const ns=this.getEncodingSimulcastLayer(this.activeStreamsToPublish);this.forEachObserver(rs=>{Types_1$1.Maybe.of(rs.encodingSimulcastLayersDidChange).map(is=>is.bind(rs)(ns))})}addObserver(ns){this.logger.info("adding simulcast uplink observer"),this.observerQueue.add(ns)}removeObserver(ns){this.logger.info("removing simulcast uplink observer"),this.observerQueue.delete(ns)}forEachObserver(ns){for(const rs of this.observerQueue)ns(rs)}}DefaultSimulcastUplinkPolicy$1.default=DefaultSimulcastUplinkPolicy;DefaultSimulcastUplinkPolicy.kHiTargetBitrateKbpsHd=1200;DefaultSimulcastUplinkPolicy.kMidTargetBitrateKbpsHd=600;DefaultSimulcastUplinkPolicy.kLowTargetBitrateKbpsHd=300;DefaultSimulcastUplinkPolicy.kHiTargetBitrateKbpsFhd=2e3;DefaultSimulcastUplinkPolicy.kMidTargetBitrateKbpsFhd=1e3;DefaultSimulcastUplinkPolicy.kLowTargetBitrateKbpsFhd=500;var NScaleVideoUplinkBandwidthPolicy$1={},__awaiter$n=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,ns,rs,is){function os(ss){return ss instanceof rs?ss:new rs(function(as){as(ss)})}return new(rs||(rs=Promise))(function(ss,as){function ls(ds){try{us(is.next(ds))}catch(ps){as(ps)}}function cs(ds){try{us(is.throw(ds))}catch(ps){as(ps)}}function us(ds){ds.done?ss(ds.value):os(ds.value).then(ls,cs)}us((is=is.apply(ts,ns||[])).next())})},__importDefault$s=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(NScaleVideoUplinkBandwidthPolicy$1,"__esModule",{value:!0});const DefaultVideoCaptureAndEncodeParameter_1$1=__importDefault$s(DefaultVideoCaptureAndEncodeParameter$1);class NScaleVideoUplinkBandwidthPolicy{constructor(ns,rs=!0,is=void 0,os=void 0){this.selfAttendeeId=ns,this.scaleResolution=rs,this.logger=is,this.browserBehavior=os,this.numberOfPublishedVideoSources=void 0,this.idealMaxBandwidthKbps=1500,this.hasBandwidthPriority=!1,this.encodingParamMap=new Map,this.enableHighResolutionFeature=!1,this.enableSVC=!1,this.isUsingSVCCodec=!0,this.numParticipants=0,this.reset()}reset(){this.numberOfPublishedVideoSources=void 0,this.optimalParameters=new DefaultVideoCaptureAndEncodeParameter_1$1.default(0,0,0,0,!1),this.parametersInEffect=new DefaultVideoCaptureAndEncodeParameter_1$1.default(0,0,0,0,!1),this.encodingParamMap.set(NScaleVideoUplinkBandwidthPolicy.encodingMapKey,{maxBitrate:0})}updateConnectionMetric(ns){}chooseMediaTrackConstraints(){return{}}chooseEncodingParameters(){return new Map}updateIndex(ns){var rs;let is=!0;this.transceiverController&&(is=this.transceiverController.hasVideoInput());const os=ns.numberOfVideoPublishingParticipantsExcludingSelf(this.selfAttendeeId)+(is?1:0),ss=ns.numberOfParticipants();if(this.numParticipants===ss&&this.numberOfPublishedVideoSources===os){(rs=this.logger)===null||rs===void 0||rs.debug("Skipping update index; Number of participants has not changed");return}this.numberOfPublishedVideoSources=os,this.numParticipants=ss,this.updateOptimalParameters()}wantsResubscribe(){return!this.parametersInEffect.equal(this.optimalParameters)}chooseCaptureAndEncodeParameters(){return this.parametersInEffect=this.optimalParameters.clone(),this.parametersInEffect.clone()}updateOptimalParameters(){let ns=1;if(this.transceiverController){const rs=this.getStreamCaptureSetting();rs&&(ns=this.calculateEncodingParameters(rs).scaleResolutionDownBy)}this.optimalParameters=new DefaultVideoCaptureAndEncodeParameter_1$1.default(this.captureWidth(),this.captureHeight(),this.captureFrameRate(),this.maxBandwidthKbps(),!1,ns,this.enableSVC&&this.numParticipants>2&&this.isUsingSVCCodec)}captureWidth(){let ns=640;return this.getNumberOfPublishedVideoSources()>4&&(ns=320),ns}captureHeight(){let ns=384;return this.getNumberOfPublishedVideoSources()>4&&(ns=192),ns}captureFrameRate(){return 15}maxBandwidthKbps(){if(this.hasBandwidthPriority)return Math.trunc(this.idealMaxBandwidthKbps);let ns=0;return this.getNumberOfPublishedVideoSources()<=2?ns=this.idealMaxBandwidthKbps:this.getNumberOfPublishedVideoSources()<=4?ns=this.idealMaxBandwidthKbps*2/3:ns=(544/11+14880/(11*this.getNumberOfPublishedVideoSources()))/600*this.idealMaxBandwidthKbps,Math.trunc(ns)}setIdealMaxBandwidthKbps(ns){this.idealMaxBandwidthKbps=ns}setHasBandwidthPriority(ns){this.hasBandwidthPriority=ns}setTransceiverController(ns){this.transceiverController=ns}setSVCEnabled(ns){var rs;this.enableSVC=ns,(rs=this.logger)===null||rs===void 0||rs.info("setSVCEnabled, enable: ".concat(ns,"}"))}setHighResolutionFeatureEnabled(ns){this.enableHighResolutionFeature=ns}updateTransceiverController(){return __awaiter$n(this,void 0,void 0,function*(){const ns=this.getStreamCaptureSetting();if(!ns)return;const rs=this.calculateEncodingParameters(ns);this.shouldUpdateEndcodingParameters(rs)&&(this.encodingParamMap.set(NScaleVideoUplinkBandwidthPolicy.encodingMapKey,rs),this.transceiverController.setEncodingParameters(this.encodingParamMap))})}shouldUpdateEndcodingParameters(ns){var rs,is;const os=(is=(rs=this.transceiverController.localVideoTransceiver().sender.getParameters())===null||rs===void 0?void 0:rs.encodings)===null||is===void 0?void 0:is[0];return ns.maxBitrate!==(os==null?void 0:os.maxBitrate)||ns.scaleResolutionDownBy!==(os==null?void 0:os.scaleResolutionDownBy)||(ns==null?void 0:ns.scalabilityMode)!==(os==null?void 0:os.scalabilityMode)}calculateEncodingParameters(ns){var rs,is,os;const ss=this.maxBandwidthKbps()*1e3;let as=1,ls=720;if(ns.height!==void 0&&ns.width!==void 0&&this.scaleResolution&&!this.hasBandwidthPriority&&this.getNumberOfPublishedVideoSources()>2&&(ls=NScaleVideoUplinkBandwidthPolicy.targetHeightArray[Math.min(this.getNumberOfPublishedVideoSources(),NScaleVideoUplinkBandwidthPolicy.targetHeightArray.length-1)][this.enableHighResolutionFeature?1:0],ls===480&&(!((rs=this.browserBehavior)===null||rs===void 0)&&rs.disable480pResolutionScaleDown())&&(ls=360),as=Math.max(Math.min(ns.height,ns.width)/ls,1),(is=this.logger)===null||is===void 0||is.info("Resolution scale factor is ".concat(as," for capture resolution ").concat(ns.width,"x").concat(ns.height,". New dimension is ").concat(ns.width/as,"x").concat(ns.height/as))),this.enableSVC){let cs;return this.numParticipants>=0&&this.numParticipants<3||!this.isUsingSVCCodec?cs="L1T1":cs="L3T3",(os=this.logger)===null||os===void 0||os.info("calculateEncodingParameters: SVC: ".concat(this.enableSVC,"    participants: ").concat(this.numParticipants,"     publishers: ").concat(this.getNumberOfPublishedVideoSources(),"     bitrate: ").concat(ss,"  targetHeight: ").concat(ls,"  scalabilityMode: ").concat(cs,"   isUsingSVCCodec: ").concat(this.isUsingSVCCodec)),{scaleResolutionDownBy:as,maxBitrate:ss,scalabilityMode:cs}}else return{scaleResolutionDownBy:as,maxBitrate:ss}}getStreamCaptureSetting(){var ns,rs,is,os;return(os=(is=(rs=(ns=this.transceiverController)===null||ns===void 0?void 0:ns.localVideoTransceiver())===null||rs===void 0?void 0:rs.sender)===null||is===void 0?void 0:is.track)===null||os===void 0?void 0:os.getSettings()}getNumberOfPublishedVideoSources(){var ns;return(ns=this.numberOfPublishedVideoSources)!==null&&ns!==void 0?ns:0}wantsVideoDependencyDescriptorRtpHeaderExtension(){return this.enableSVC}setMeetingSupportedVideoSendCodecs(ns,rs){const is=ns!=null?ns:rs,os=is.length>0&&NScaleVideoUplinkBandwidthPolicy.SVCCodecNames.includes(is[0].codecName);os!==this.isUsingSVCCodec&&(this.isUsingSVCCodec=os,this.updateOptimalParameters())}}NScaleVideoUplinkBandwidthPolicy$1.default=NScaleVideoUplinkBandwidthPolicy;NScaleVideoUplinkBandwidthPolicy.encodingMapKey="video";NScaleVideoUplinkBandwidthPolicy.targetHeightArray=[[0,0],[0,0],[0,0],[540,720],[540,720],[480,540],[480,540],[480,540],[480,540],[360,480],[360,480],[360,480],[360,480],[270,360],[270,360],[270,360],[270,360],[180,270],[180,270],[180,270],[180,270],[180,270],[180,270],[180,270],[180,270],[180,270]];NScaleVideoUplinkBandwidthPolicy.SVCCodecNames=["VP9"];var DefaultVolumeIndicatorAdapter$1={};Object.defineProperty(DefaultVolumeIndicatorAdapter$1,"__esModule",{value:!0});class DefaultVolumeIndicatorAdapter{constructor(ns,rs,is,os,ss){this.logger=ns,this.realtimeController=rs,this.minVolumeDecibels=is,this.maxVolumeDecibels=os,this.selfAttendeeId=ss,this.streamIdToAttendeeId={},this.streamIdToExternalUserId={},this.warnedAboutMissingStreamIdMapping={},this.attendeeIdToStreamId={},this.sessionReconnected=!1}onReconnect(){this.sessionReconnected=!0}sendRealtimeUpdatesForAudioStreamIdInfo(ns){let rs=0;for(const is of ns.streams){const os=!!is.attendeeId,ss=!!is.externalUserId,as=is.hasOwnProperty("muted"),ls=!!is.dropped;if(os){this.attendeeIdToStreamId[is.attendeeId]&&this.attendeeIdToStreamId[is.attendeeId]<is.audioStreamId&&delete this.attendeeIdToStreamId[is.attendeeId],this.streamIdToAttendeeId[is.audioStreamId]=is.attendeeId;const cs=ss?is.externalUserId:is.attendeeId;this.streamIdToExternalUserId[is.audioStreamId]=cs,this.attendeeIdToStreamId[is.attendeeId]=is.audioStreamId,this.realtimeController.realtimeSetAttendeeIdPresence(is.attendeeId,!0,cs,!1,{attendeeIndex:rs++,attendeesInFrame:ns.streams.length})}if(as){const cs=this.streamIdToAttendeeId[is.audioStreamId],us=this.streamIdToExternalUserId[is.audioStreamId];this.realtimeController.realtimeUpdateVolumeIndicator(cs,null,is.muted,null,us)}if(!os&&!as){const cs=this.streamIdToAttendeeId[is.audioStreamId];if(cs){const us=this.streamIdToExternalUserId[is.audioStreamId];delete this.streamIdToAttendeeId[is.audioStreamId],delete this.streamIdToExternalUserId[is.audioStreamId],delete this.warnedAboutMissingStreamIdMapping[is.audioStreamId],this.attendeeIdToStreamId[cs]===is.audioStreamId&&delete this.attendeeIdToStreamId[cs];let ds=!1;for(const ps of Object.keys(this.streamIdToAttendeeId)){const hs=parseInt(ps);if(hs>is.audioStreamId&&this.streamIdToAttendeeId[hs]===cs){ds=!0;break}}ds||this.realtimeController.realtimeSetAttendeeIdPresence(cs,!1,us,ls,{attendeeIndex:rs++,attendeesInFrame:ns.streams.length})}}}this.sessionReconnected&&(this.cleanUpState(ns),this.sessionReconnected=!1)}cleanUpState(ns){const rs=Object.values(this.streamIdToAttendeeId),is=ns.streams.map(ss=>ss.attendeeId),os=rs.filter(ss=>!is.includes(ss));for(const[ss,as]of os.entries()){const ls=this.attendeeIdToStreamId[as],cs=this.streamIdToExternalUserId[ls];if(delete this.streamIdToAttendeeId[ls],delete this.streamIdToExternalUserId[ls],delete this.warnedAboutMissingStreamIdMapping[ls],delete this.attendeeIdToStreamId[as],as===this.selfAttendeeId){this.logger.warn("the volume indicator adapter cleans up the current attendee (presence = false) after reconnection");continue}this.realtimeController.realtimeSetAttendeeIdPresence(as,!1,cs,!1,{attendeeIndex:ss,attendeesInFrame:as.length})}}sendRealtimeUpdatesForAudioMetadata(ns){let rs=null,is=null;for(const os of ns.attendeeStates){const ss=this.attendeeIdForStreamId(os.audioStreamId);os.hasOwnProperty("volume")&&(rs===null&&(rs={}),ss!==null&&(rs[ss]=this.normalizedVolume(os))),os.hasOwnProperty("signalStrength")&&(is===null&&(is={}),ss!==null&&(is[ss]=this.normalizedSignalStrength(os)))}this.applyRealtimeUpdatesForAudioMetadata(rs,is)}normalizedVolume(ns){const is=1-(-ns.volume-this.maxVolumeDecibels)/(this.minVolumeDecibels-this.maxVolumeDecibels);return Math.min(Math.max(is,0),1)}normalizedSignalStrength(ns){const rs=ns.signalStrength/DefaultVolumeIndicatorAdapter.MAX_SIGNAL_STRENGTH_LEVELS;return Math.min(Math.max(rs,0),1)}applyRealtimeUpdatesForAudioMetadata(ns,rs){for(const is in this.streamIdToAttendeeId){const os=this.streamIdToAttendeeId[is],ss=this.streamIdToExternalUserId[is];let as=null,ls=null;ns!==null&&(ns.hasOwnProperty(os)?as=ns[os]:as=DefaultVolumeIndicatorAdapter.IMPLICIT_VOLUME),rs!==null&&(rs.hasOwnProperty(os)?ls=rs[os]:ls=DefaultVolumeIndicatorAdapter.IMPLICIT_SIGNAL_STRENGTH),(as!==null||ls!==null)&&this.realtimeController.realtimeUpdateVolumeIndicator(os,as,null,ls,ss)}}attendeeIdForStreamId(ns){if(ns===0)return null;const rs=this.streamIdToAttendeeId[ns];return rs||(this.warnedAboutMissingStreamIdMapping[ns]||(this.warnedAboutMissingStreamIdMapping[ns]=!0,this.logger.warn("volume indicator stream id ".concat(ns," seen before being defined"))),null)}}DefaultVolumeIndicatorAdapter$1.default=DefaultVolumeIndicatorAdapter;DefaultVolumeIndicatorAdapter.MAX_SIGNAL_STRENGTH_LEVELS=2;DefaultVolumeIndicatorAdapter.IMPLICIT_VOLUME=0;DefaultVolumeIndicatorAdapter.IMPLICIT_SIGNAL_STRENGTH=1;var hasRequiredDefaultAudioVideoController;function requireDefaultAudioVideoController(){if(hasRequiredDefaultAudioVideoController)return DefaultAudioVideoController;hasRequiredDefaultAudioVideoController=1;var ts=commonjsGlobal$1&&commonjsGlobal$1.__createBinding||(Object.create?function(Hl,zs,yl,Rl){Rl===void 0&&(Rl=yl),Object.defineProperty(Hl,Rl,{enumerable:!0,get:function(){return zs[yl]}})}:function(Hl,zs,yl,Rl){Rl===void 0&&(Rl=yl),Hl[Rl]=zs[yl]}),ns=commonjsGlobal$1&&commonjsGlobal$1.__setModuleDefault||(Object.create?function(Hl,zs){Object.defineProperty(Hl,"default",{enumerable:!0,value:zs})}:function(Hl,zs){Hl.default=zs}),rs=commonjsGlobal$1&&commonjsGlobal$1.__importStar||function(Hl){if(Hl&&Hl.__esModule)return Hl;var zs={};if(Hl!=null)for(var yl in Hl)yl!=="default"&&Object.prototype.hasOwnProperty.call(Hl,yl)&&ts(zs,Hl,yl);return ns(zs,Hl),zs},is=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(Hl,zs,yl,Rl){function Jl(tu){return tu instanceof yl?tu:new yl(function(Xl){Xl(tu)})}return new(yl||(yl=Promise))(function(tu,Xl){function ou(du){try{fu(Rl.next(du))}catch(Su){Xl(Su)}}function au(du){try{fu(Rl.throw(du))}catch(Su){Xl(Su)}}function fu(du){du.done?tu(du.value):Jl(du.value).then(ou,au)}fu((Rl=Rl.apply(Hl,zs||[])).next())})},os=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(Hl){return Hl&&Hl.__esModule?Hl:{default:Hl}};Object.defineProperty(DefaultAudioVideoController,"__esModule",{value:!0});const ss=os(DefaultActiveSpeakerDetector$1),as=os(DefaultAudioMixController$1),ls=os(AudioProfile$1),cs=os(DefaultBrowserBehavior$1),us=os(ConnectionHealthData$1),ds=os(SignalingAndMetricsConnectionMonitor$1),ps=os(VideoQualitySettings$1),hs=os(MeetingSessionStatus$1),ms=os(MeetingSessionStatusCode),gs=os(MeetingSessionVideoAvailability$1),ys=os(DefaultModality$1),vs=os(DefaultPingPong$1),bs=os(DefaultRealtimeController$1),Ss=os(AsyncScheduler$1),$s=os(DefaultSessionStateController$1),Cs=os(SessionStateControllerAction),Es=os(SessionStateControllerState),xs=os(SessionStateControllerTransitionResult),ws=os(DefaultSignalingClient$1),ks=rs(ServerSideNetworkAdaption),Is=os(SignalingClientEventType),Ts=os(SignalingClientVideoSubscriptionConfiguration$1),Rs=SignalingProtocol,As=os(StatsCollector$1),Ms=os(AttachMediaInputTask$1),Ls=os(CleanRestartedSessionTask$1),Ds=os(CleanStoppedSessionTask$1),Fs=os(CreatePeerConnectionTask$1),Vs=os(CreateSDPTask$1),Bs=os(FinishGatheringICECandidatesTask$1),Ws=os(JoinAndReceiveIndexTask$1),Os=os(LeaveAndReceiveLeaveAckTask$1),Nl=os(ListenForVolumeIndicatorsTask$1),$a=os(MonitorTask$1),Ps=os(OpenSignalingConnectionTask$1),Ys=os(ParallelGroupTask$1),Zs=os(requirePromoteToPrimaryMeetingTask()),Us=os(ReceiveAudioInputTask$1),Ol=os(ReceiveRemoteVideoPauseResumeTask),qs=os(ReceiveVideoInputTask$1),Fl=os(ReceiveVideoStreamIndexTask$1),Ll=os(SendAndReceiveDataMessagesTask$1),$l=os(SerialGroupTask$1),Cl=os(SetLocalDescriptionTask$1),wl=os(SetRemoteDescriptionTask$1),Tl=os(SubscribeAndReceiveSubscribeAckTask$1),xl=os(TimeoutTask$1),Al=os(WaitForAttendeePresenceTask$1),Dl=os(DefaultTransceiverController$1),Ns=os(SimulcastContentShareTransceiverController$1),Hs=os(SimulcastTransceiverController$1),Gs=os(VideoOnlyTransceiverController$1),Js=Types,El=os(DefaultVideoCaptureAndEncodeParameter$1),Xs=os(AllHighestVideoBandwidthPolicy$1),_l=os(VideoAdaptiveProbePolicy$1),Bl=VideoPreferences$1,Ks=os(DefaultVideoStreamIdSet$1),Sl=os(DefaultVideoStreamIndex$1),Il=os(SimulcastVideoStreamIndex$1),Ml=os(DefaultVideoTileController$1),Kl=os(DefaultVideoTileFactory$1),Ql=os(DefaultSimulcastUplinkPolicy$1),Yl=os(NScaleVideoUplinkBandwidthPolicy$1),Gl=os(DefaultVolumeIndicatorAdapter$1),iu=os(AudioVideoControllerState);let Vl=class dp{constructor(zs,yl,Rl,Jl,tu,Xl){this._audioProfile=new ls.default,this.connectionHealthData=new us.default,this.observerQueue=new Set,this.meetingSessionContext=new iu.default,this.enableSimulcast=!1,this.enableSVC=!1,this.useUpdateTransceiverControllerForUplink=!1,this.totalRetryCount=0,this.startAudioVideoTimestamp=0,this.mayNeedRenegotiationForSimulcastLayerChange=!1,this.promotedToPrimaryMeeting=!1,this.hasGetRTCPeerConnectionStatsDeprecationMessageBeenSent=!1,this.receiveIndexTask=void 0,this.monitorTask=void 0,this.receiveRemotePauseResumeTask=void 0,this.destroyed=!1,this._logger=yl,this.sessionStateController=new $s.default(this._logger),this._configuration=zs,this._webSocketAdapter=Rl,this._realtimeController=new bs.default(Jl),this._realtimeController.realtimeSetLocalAttendeeId(zs.credentials.attendeeId,zs.credentials.externalUserId),this._mediaStreamBroker=Jl,this._reconnectController=tu,this._videoTileController=new Ml.default(new Kl.default,this,this._logger),this._audioMixController=new as.default(this._logger),this._mediaStreamBroker.addMediaStreamBrokerObserver(this._audioMixController),this.meetingSessionContext.logger=this._logger,this._eventController=Xl}destroy(){return is(this,void 0,void 0,function*(){this.observerQueue.clear(),this._mediaStreamBroker.removeMediaStreamBrokerObserver(this._audioMixController),this.destroyed=!0})}get configuration(){return this._configuration}get realtimeController(){return this._realtimeController}get activeSpeakerDetector(){return this._activeSpeakerDetector||(this._activeSpeakerDetector=new ss.default(this._realtimeController,this._configuration.credentials.attendeeId,this.handleHasBandwidthPriority.bind(this))),this._activeSpeakerDetector}get videoTileController(){return this._videoTileController}get audioMixController(){return this._audioMixController}get logger(){return this._logger}get rtcPeerConnection(){return this.meetingSessionContext&&this.meetingSessionContext.peer||null}get mediaStreamBroker(){return this._mediaStreamBroker}get eventController(){return this._eventController}getRTCPeerConnectionStats(zs){return this.hasGetRTCPeerConnectionStatsDeprecationMessageBeenSent||(this.logger.warn("The `getRTCPeerConnectionStats()` is on its way to be deprecated. It makes an additional call to the `getStats` API and therefore may cause slight performance degradation. Please use the new API `clientMetricReport.getRTCStatsReport()` returned by `metricsDidReceive(clientMetricReport)` callback instead."),this.hasGetRTCPeerConnectionStatsDeprecationMessageBeenSent=!0),this.rtcPeerConnection?this.rtcPeerConnection.getStats(zs):null}setAudioProfile(zs){this._audioProfile=zs}addObserver(zs){this.logger.info("adding meeting observer"),this.observerQueue.add(zs)}removeObserver(zs){this.logger.info("removing meeting observer"),this.observerQueue.delete(zs)}forEachObserver(zs){for(const yl of this.observerQueue)Ss.default.nextTick(()=>{this.observerQueue.has(yl)&&zs(yl)})}initSignalingClient(){this.connectionHealthData.reset(),!this.meetingSessionContext.signalingClient&&(this.meetingSessionContext=new iu.default,this.meetingSessionContext.logger=this.logger,this.meetingSessionContext.eventController=this.eventController,this.meetingSessionContext.browserBehavior=new cs.default,this.meetingSessionContext.videoSendCodecPreferences=this.videoSendCodecPreferences,this.meetingSessionContext.audioProfile=this._audioProfile,this.meetingSessionContext.meetingSessionConfiguration=this.configuration,this.meetingSessionContext.signalingClient=new ws.default(this._webSocketAdapter,this.logger))}uninstallPreStartObserver(){this.meetingSessionContext.signalingClient.removeObserver(this.preStartObserver),this.preStartObserver=void 0}prestart(){return this.logger.info("Pre-connecting signaling connection."),this.createOrReuseSignalingTask().run().then(()=>{const zs=()=>is(this,void 0,void 0,function*(){this.logger.info("Early connection closed; discarding signaling task."),this.signalingTask=void 0,this.uninstallPreStartObserver()});this.preStartObserver={handleSignalingClientEvent(yl){yl.type===Is.default.WebSocketClosed&&zs()}},this.meetingSessionContext.signalingClient.registerObserver(this.preStartObserver)}).catch(zs=>{this.logger.error("Signaling task pre-start failed: ".concat(zs)),this.signalingTask=void 0})}start(zs){this.startReturningPromise(zs).then(()=>{this.logger.info("start completed")}).catch(yl=>{this.logger.error("start failed: ".concat(yl))})}startReturningPromise(zs){return(zs==null?void 0:zs.signalingOnly)===!0?this.prestart():(this.activeSpeakerDetector,new Promise((yl,Rl)=>{this.sessionStateController.perform(Cs.default.Connect,()=>{this.actionConnect(!1).then(yl).catch(Rl)})}))}connectWithPromises(zs){const yl=this.meetingSessionContext,Rl=(Tu,gu)=>new xl.default(this.logger,gu,Tu);this.monitorTask=new $a.default(yl,this.configuration.connectionHealthPolicyConfiguration,this.connectionHealthData);const Jl=this.monitorTask.once(),tu=new Us.default(yl).once();this.receiveIndexTask=new Fl.default(yl),this.monitorTask.pauseResubscribeCheck(),this.receiveIndexTask.pauseIngestion();const Xl=new $l.default(this.logger,"Signaling",[this.createOrReuseSignalingTask(),new Nl.default(yl),new Ll.default(yl),new Ws.default(yl),this.receiveIndexTask]).once(),ou=new Fs.default(yl).once(Xl),au=new Ms.default(yl).once(ou,tu),fu=new Vs.default(yl).once(au),du=new Cl.default(yl).once(fu),Su=new Bs.default(yl).once(du),ku=new Tl.default(yl).once(Su);return this.receiveRemotePauseResumeTask=new Ol.default(yl),this.receiveRemotePauseResumeTask.once(ku),new $l.default(this.logger,this.wrapTaskName("AudioVideoStart"),[Jl,Rl(this.configuration.connectionTimeoutMs,new $l.default(this.logger,"Peer",[ku,this.receiveRemotePauseResumeTask,zs?new xl.default(this.logger,new Ys.default(this.logger,"FinalizeConnection",[new Al.default(yl),new wl.default(yl)]),this.meetingSessionContext.meetingSessionConfiguration.attendeePresenceTimeoutMs):new wl.default(yl)]))])}actionConnect(zs){var yl;return is(this,void 0,void 0,function*(){this.initSignalingClient(),this.uninstallPreStartObserver(),this.meetingSessionContext.mediaStreamBroker=this._mediaStreamBroker,this.meetingSessionContext.realtimeController=this._realtimeController,this.meetingSessionContext.audioMixController=this._audioMixController,this.meetingSessionContext.audioVideoController=this,this.enableSimulcast=this.configuration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers&&new cs.default().hasChromiumWebRTC(),this.enableSimulcast&&this.configuration.enableSVC&&this.logger.warn("SVC cannot be enabled at the same time as simulcast. Disabling SVC, using simulcast."),this.enableSVC=!this.enableSimulcast&&this.configuration.enableSVC&&new cs.default().supportsScalableVideoCoding();const Rl=!!this.configuration.urls.audioHostURL;if(Rl?this.enableSimulcast?(this.logger.info("Using transceiver controller with simulcast support"),new ys.default(this.configuration.credentials.attendeeId).hasModality(ys.default.MODALITY_CONTENT)?this.meetingSessionContext.transceiverController=new Ns.default(this.logger,this.meetingSessionContext.browserBehavior,this.meetingSessionContext):this.meetingSessionContext.transceiverController=new Hs.default(this.logger,this.meetingSessionContext.browserBehavior,this.meetingSessionContext)):(this.logger.info("Using default transceiver controller"),this.meetingSessionContext.transceiverController=new Dl.default(this.logger,this.meetingSessionContext.browserBehavior,this.meetingSessionContext)):(this.logger.info("Using video only transceiver controller"),this.meetingSessionContext.transceiverController=new Gs.default(this.logger,this.meetingSessionContext.browserBehavior,this.meetingSessionContext)),this.meetingSessionContext.volumeIndicatorAdapter=new Gl.default(this.logger,this._realtimeController,dp.MIN_VOLUME_DECIBELS,dp.MAX_VOLUME_DECIBELS,this.configuration.credentials.attendeeId),this.meetingSessionContext.videoTileController=this._videoTileController,this.meetingSessionContext.videoDownlinkBandwidthPolicy=this.configuration.videoDownlinkBandwidthPolicy,this.meetingSessionContext.videoUplinkBandwidthPolicy=this.configuration.videoUplinkBandwidthPolicy,this.meetingSessionContext.enableSimulcast=this.enableSimulcast,this.meetingSessionContext.enableSVC=this.enableSVC,this.enableSimulcast){let Xl=this.meetingSessionContext.videoUplinkBandwidthPolicy;Xl||(Xl=new Ql.default(this.configuration.credentials.attendeeId,this.meetingSessionContext.logger),this.meetingSessionContext.videoUplinkBandwidthPolicy=Xl),Xl.addObserver(this),this.meetingSessionContext.videoDownlinkBandwidthPolicy||(this.meetingSessionContext.videoDownlinkBandwidthPolicy=new _l.default(this.meetingSessionContext.logger)),this.meetingSessionContext.videoStreamIndex=new Il.default(this.logger)}else this.meetingSessionContext.enableSimulcast=!1,this.meetingSessionContext.videoStreamIndex=new Sl.default(this.logger),this.meetingSessionContext.videoUplinkBandwidthPolicy||(this.meetingSessionContext.videoUplinkBandwidthPolicy=new Yl.default(this.configuration.credentials.attendeeId,!this.meetingSessionContext.browserBehavior.disableResolutionScaleDown(),this.meetingSessionContext.logger,this.meetingSessionContext.browserBehavior),this.meetingSessionContext.videoUplinkBandwidthPolicy.setSVCEnabled(this.enableSVC)),this.meetingSessionContext.videoDownlinkBandwidthPolicy||(this.meetingSessionContext.videoDownlinkBandwidthPolicy=new Xs.default(this.configuration.credentials.attendeeId)),this.meetingSessionContext.videoUplinkBandwidthPolicy.setTransceiverController&&this.meetingSessionContext.videoUplinkBandwidthPolicy.updateTransceiverController&&(this.useUpdateTransceiverControllerForUplink=!0,this.meetingSessionContext.videoUplinkBandwidthPolicy.setTransceiverController(this.meetingSessionContext.transceiverController)),this.meetingSessionContext.audioProfile=this._audioProfile;if(new ys.default(this.configuration.credentials.attendeeId).hasModality(ys.default.MODALITY_CONTENT)){const Xl=this.configuration.meetingFeatures.contentMaxResolution===ps.default.VideoResolutionUHD;Xl&&this.setVideoMaxBandwidthKbps(2500),this.meetingSessionContext.videoUplinkBandwidthPolicy.setHighResolutionFeatureEnabled(Xl)}else{const Xl=this.configuration.meetingFeatures.videoMaxResolution===ps.default.VideoResolutionFHD;this.meetingSessionContext.videoUplinkBandwidthPolicy.setHighResolutionFeatureEnabled(Xl)}this.meetingSessionContext.videoUplinkBandwidthPolicy&&this.maxUplinkBandwidthKbps&&this.meetingSessionContext.videoUplinkBandwidthPolicy.setIdealMaxBandwidthKbps(this.maxUplinkBandwidthKbps),this.meetingSessionContext.videoDownlinkBandwidthPolicy.bindToTileController&&this.meetingSessionContext.videoDownlinkBandwidthPolicy.bindToTileController(this._videoTileController),this.meetingSessionContext.videoDownlinkBandwidthPolicy.setWantsResubscribeObserver&&this.meetingSessionContext.videoDownlinkBandwidthPolicy.setWantsResubscribeObserver(()=>this.update({needsRenegotiation:!1})),this.meetingSessionContext.lastKnownVideoAvailability=new gs.default,this.meetingSessionContext.videoCaptureAndEncodeParameter=new El.default(0,0,0,0,!1),this.meetingSessionContext.videosToReceive=new Ks.default,this.meetingSessionContext.videosPaused=new Ks.default,this.meetingSessionContext.statsCollector=new As.default(this,this.logger),this.meetingSessionContext.connectionMonitor=new ds.default(this,this._realtimeController,this.connectionHealthData,new vs.default(this.meetingSessionContext.signalingClient,dp.PING_PONG_INTERVAL_MS,this.logger),this.meetingSessionContext.statsCollector),this.meetingSessionContext.reconnectController=this._reconnectController,this.meetingSessionContext.videoDeviceInformation={},zs||(this.totalRetryCount=0,this._reconnectController.reset(),this.startAudioVideoTimestamp=Date.now(),this.forEachObserver(Xl=>{Js.Maybe.of(Xl.audioVideoDidStartConnecting).map(ou=>ou.bind(Xl)(!1))}),(yl=this.eventController)===null||yl===void 0||yl.publishEvent("meetingStartRequested")),this.meetingSessionContext.startAudioVideoTimestamp=this.startAudioVideoTimestamp,this._reconnectController.hasStartedConnectionAttempt()?this._reconnectController.startedConnectionAttempt(!1):this._reconnectController.startedConnectionAttempt(!0);const Jl=Rl&&this.meetingSessionContext.meetingSessionConfiguration.attendeePresenceTimeoutMs>0;this.logger.info("Needs to wait for attendee presence? "+Jl);const tu=this.connectWithPromises(Jl);try{yield tu.run(),this.connectionHealthData.setConnectionStartTime(),this._mediaStreamBroker.addMediaStreamBrokerObserver(this),this.sessionStateController.perform(Cs.default.FinishConnecting,()=>{this.eventController&&(this.meetingSessionContext.meetingStartDurationMs=Date.now()-this.startAudioVideoTimestamp,this.eventController.publishEvent("meetingStartSucceeded",{maxVideoTileCount:this.meetingSessionContext.maxVideoTileCount,poorConnectionCount:this.meetingSessionContext.poorConnectionCount,retryCount:this.totalRetryCount,signalingOpenDurationMs:this.meetingSessionContext.signalingOpenDurationMs,iceGatheringDurationMs:this.meetingSessionContext.iceGatheringDurationMs,meetingStartDurationMs:this.meetingSessionContext.meetingStartDurationMs})),this.meetingSessionContext.startTimeMs=Date.now(),this.actionFinishConnecting()})}catch(Xl){this.signalingTask=void 0;const ou=new hs.default(this.getMeetingStatusCode(Xl)||ms.default.TaskFailed);if(this.logger.info("Start failed: ".concat(ou," due to error ").concat(Xl,".")),this.sessionStateController.state()===Es.default.NotConnected){this.logger.info("Start failed and not connected. Not cleaning up.");return}this.sessionStateController.perform(Cs.default.Fail,()=>is(this,void 0,void 0,function*(){yield this.actionDisconnect(ou,!0,Xl),this.handleMeetingSessionStatus(ou,Xl)||this.notifyStop(ou,Xl)}))}})}createOrReuseSignalingTask(){return this.signalingTask||(this.initSignalingClient(),this.signalingTask=new xl.default(this.logger,new Ps.default(this.meetingSessionContext),this.configuration.connectionTimeoutMs).once()),this.signalingTask}actionFinishConnecting(){this.signalingTask=void 0,this.meetingSessionContext.videoDuplexMode=Rs.SdkStreamServiceType.RX,this.meetingSessionContext.enableSimulcast||(this.useUpdateTransceiverControllerForUplink?this.meetingSessionContext.videoUplinkBandwidthPolicy.updateTransceiverController():this.enforceBandwidthLimitationForSender(this.meetingSessionContext.videoCaptureAndEncodeParameter.encodeBitrates()[0])),this.forEachObserver(zs=>{Js.Maybe.of(zs.audioVideoDidStart).map(yl=>yl.bind(zs)())}),this._reconnectController.reset(),this.receiveIndexTask.resumeIngestion(),this.monitorTask.resumeResubscribeCheck()}stopReturningPromise(){var zs;return this.sessionStateController.state()===Es.default.NotConnected?((zs=this.meetingSessionContext.signalingClient)===null||zs===void 0||zs.closeConnection(),this.cleanUpMediaStreamsAfterStop(),Promise.resolve()):new Promise((yl,Rl)=>{this.sessionStateController.perform(Cs.default.Disconnect,()=>{this._reconnectController.disableReconnect(),this.logger.info("attendee left meeting, session will not be reconnected"),this.actionDisconnect(new hs.default(ms.default.Left),!1,null).then(yl).catch(Rl)})})}stop(){this.stopReturningPromise()}actionDisconnect(zs,yl,Rl){return is(this,void 0,void 0,function*(){try{yield new $l.default(this.logger,this.wrapTaskName("AudioVideoStop"),[new xl.default(this.logger,new Os.default(this.meetingSessionContext),this.configuration.connectionTimeoutMs)]).run()}catch{this.logger.info("fail to stop")}try{const Jl=[new xl.default(this.logger,new Ds.default(this.meetingSessionContext),this.configuration.connectionTimeoutMs)];this.cleanUpMediaStreamsAfterStop(),yield new $l.default(this.logger,this.wrapTaskName("AudioVideoClean"),Jl).run()}catch{this.logger.info("fail to clean")}this.sessionStateController.perform(Cs.default.FinishDisconnecting,()=>{yl||this.notifyStop(zs,Rl)})})}update(zs={needsRenegotiation:!0}){let yl=zs.needsRenegotiation;if(yl||(yl=this.meetingSessionContext.peer===void 0),yl||(yl=!this.updateRemoteVideosFromPolicy()),yl||(yl=!this.updateLocalVideoFromPolicy()),this.meetingSessionContext.lastVideosToReceive=this.meetingSessionContext.videosToReceive,!yl)return this.logger.info("Update request does not require resubscribe"),this.actionFinishUpdating(),!0;this.logger.info("Update request requires resubscribe");const Rl=this.sessionStateController.perform(Cs.default.Update,()=>{this.actionUpdateWithRenegotiation(!0)});return Rl===xs.default.Transitioned||Rl===xs.default.DeferredTransition}updateRemoteVideosFromPolicy(){if(this.meetingSessionContext.videoDownlinkBandwidthPolicy&&this.meetingSessionContext.videoDownlinkBandwidthPolicy.getVideoPreferences!==void 0&&this.meetingSessionContext.videoDownlinkBandwidthPolicy.getServerSideNetworkAdaption!==void 0&&!ks.serverSideNetworkAdaptionIsNoneOrDefault(this.meetingSessionContext.videoDownlinkBandwidthPolicy.getServerSideNetworkAdaption())){if(!this.sendRemoteVideoUpdate())return!1;if(this.meetingSessionContext.videoDownlinkBandwidthPolicy.getServerSideNetworkAdaption()===ks.default.BandwidthProbingAndRemoteVideoQualityAdaption)return this.isNotAddingOrRemovingStreams()}return this.updateRemoteVideosIfNotAddingOrRemovingStreams()}updateRemoteVideosIfNotAddingOrRemovingStreams(){const zs=this.detectChangesInVideosToReceive();if(zs===void 0)return!1;const yl=zs.added,Rl=zs.simulcastStreamUpdates,Jl=zs.removed,tu=this.meetingSessionContext,Xl=[];for(const[ou,au]of Rl.entries()){const fu=new Ts.default;if(fu.streamId=au,fu.attendeeId=tu.videoStreamIndex.attendeeIdForStreamId(au),fu.mid=tu.transceiverController.getMidForStreamId(ou),fu.mid===void 0)return this.logger.info("No MID found for stream ID ".concat(ou,", cannot update stream without renegotiation")),!1;if(Xl.push(fu),tu.transceiverController.setStreamIdForMid(fu.mid,au),tu.videoStreamIndex.overrideStreamIdMappings(ou,au),tu.videoTileController.haveVideoTileForAttendeeId(fu.attendeeId)){const du=tu.videoTileController.getVideoTileForAttendeeId(fu.attendeeId);if(!du.setStreamId)return!1;du.setStreamId(au)}}return Xl.length!==0&&tu.signalingClient.remoteVideoUpdate(Xl,[]),yl.length!==0||Jl.length!==0?!1:(tu.videoStreamIndex.remoteVideoUpdateSent(),!0)}detectChangesInVideosToReceive(){const zs=this.meetingSessionContext;if(zs.videosToReceive===null||!zs.transceiverController||!zs.transceiverController.getMidForStreamId||!zs.transceiverController.setStreamIdForMid||!zs.videosToReceive.forEach||!zs.signalingClient.remoteVideoUpdate||!zs.videoStreamIndex.overrideStreamIdMappings)return;let yl=[];const Rl=new Map;let Jl=[];if(zs.lastVideosToReceive===null)yl=zs.videosToReceive.array();else{const tu=zs.videoStreamIndex;zs.videosToReceive.forEach(Xl=>{if(zs.lastVideosToReceive.contain(Xl))return;let ou=!1;zs.lastVideosToReceive.forEach(au=>{ou||tu.StreamIdsInSameGroup(au,Xl)&&(Rl.set(au,Xl),ou=!0)}),ou||yl.push(Xl)}),Jl=zs.lastVideosToReceive.array().filter(Xl=>{const ou=zs.videosToReceive.contain(Xl),au=Rl.has(Xl);return!ou&&!au})}return this.logger.info("Request to update remote videos with added: [".concat(yl,"], updated: [").concat(Array.from(Rl.entries()).map(([tu,Xl])=>"".concat(tu,"->").concat(Xl)).join(","),"], removed: [").concat(Jl,"]")),{added:yl,removed:Jl,simulcastStreamUpdates:Rl}}isNotAddingOrRemovingStreams(){const zs=this.detectChangesInVideosToReceive();if(zs===void 0)return!1;const yl=zs.added,Rl=zs.removed;return yl.length!==0||Rl.length!==0?!1:(this.meetingSessionContext.videoStreamIndex.remoteVideoUpdateSent(),!0)}sendRemoteVideoUpdate(){const zs=this.meetingSessionContext;if(zs.videosToReceive===null)return!1;const yl=zs.videosToReceive.array().map(ou=>zs.videoStreamIndex.groupIdForStreamId(ou));this.receiveRemotePauseResumeTask.updateSubscribedGroupdIds(new Set(yl));const Rl=Bl.convertVideoPreferencesToSignalingClientVideoSubscriptionConfiguration(zs,yl,zs.videoDownlinkBandwidthPolicy.getVideoPreferences()),Jl=new Map,tu=[];for(const ou of Rl){let au=!1;if(!zs.lastVideoSubscriptionConfiguration.has(ou.groupId))au=!0;else{const fu=zs.lastVideoSubscriptionConfiguration.get(ou.groupId);ou.equals(fu)||(this.logger.debug("".concat(JSON.stringify(ou)," does not equal ").concat(JSON.stringify(fu),", sending update")),au=!0)}Jl.set(ou.groupId,ou),au&&tu.push(ou)}zs.lastVideoSubscriptionConfiguration=Jl;const Xl=[];if(zs.lastVideosToReceive!==null){const ou=new Set(yl);for(const au of zs.lastVideosToReceive.array()){const fu=zs.videoStreamIndex.groupIdForStreamId(au);if(!ou.has(fu)){const du=zs.transceiverController.getMidForGroupId(fu);if(du===void 0){zs.logger.warn("Could not find MID for group ID to remove: ".concat(fu));continue}Xl.push(du)}}}return(tu.length!==0||Xl.length!==0)&&zs.signalingClient.remoteVideoUpdate(tu,Xl),!0}updateLocalVideoFromPolicy(){if(this.meetingSessionContext.enableSimulcast){const zs=this.meetingSessionContext.videoUplinkBandwidthPolicy.chooseEncodingParameters();if(this.mayNeedRenegotiationForSimulcastLayerChange&&this.meetingSessionContext.transceiverController.hasVideoInput()&&!this.negotiatedBitrateLayersAllocationRtpHeaderExtension())return this.logger.info("Needs regenotiation for local video simulcast layer change"),this.mayNeedRenegotiationForSimulcastLayerChange=!1,!1;this.meetingSessionContext.transceiverController.setEncodingParameters(zs)}else this.meetingSessionContext.videoCaptureAndEncodeParameter=this.meetingSessionContext.videoUplinkBandwidthPolicy.chooseCaptureAndEncodeParameters();return this.logger.info("Updated local video from policy without renegotiation"),!0}negotiatedBitrateLayersAllocationRtpHeaderExtension(){if(!this.meetingSessionContext.transceiverController.localVideoTransceiver())return!1;const zs=this.meetingSessionContext.transceiverController.localVideoTransceiver().sender.getParameters();return!zs||!zs.headerExtensions?!1:zs.headerExtensions.some(yl=>yl.uri==="http://www.webrtc.org/experiments/rtp-hdrext/video-layers-allocation00")}restartLocalVideo(zs){const yl=()=>is(this,void 0,void 0,function*(){this._videoTileController.hasStartedLocalVideoTile()&&(this.logger.info("stopping local video tile prior to local video restart"),this._videoTileController.stopLocalVideoTile(),this.logger.info("preparing local video restart update"),yield this.actionUpdateWithRenegotiation(!1),this.logger.info("starting local video tile for local video restart"),this._videoTileController.startLocalVideoTile()),this.logger.info("finalizing local video restart update"),yield this.actionUpdateWithRenegotiation(!0),zs()}),Rl=this.sessionStateController.perform(Cs.default.Update,()=>{yl()});return Rl===xs.default.Transitioned||Rl===xs.default.DeferredTransition}replaceLocalVideo(zs){return is(this,void 0,void 0,function*(){if(!zs||zs.getVideoTracks().length<1)throw new Error("could not acquire video track");if(!this.meetingSessionContext||!this.meetingSessionContext.peer)throw new Error("no active meeting and peer connection");const yl=this.meetingSessionContext.videoTileController.getLocalVideoTile();if(yl){const Rl=yl.state(),Jl=zs.getVideoTracks()[0].getSettings();yl.bindVideoStream(Rl.boundAttendeeId,!0,zs,Jl.width,Jl.height,Rl.streamId,Rl.boundExternalUserId)}yield this.meetingSessionContext.transceiverController.setVideoInput(zs.getVideoTracks()[0]),this.meetingSessionContext.activeVideoInput=zs,this.logger.info("Local video input is updated")})}replaceLocalAudio(zs){return is(this,void 0,void 0,function*(){if(!zs||zs.getAudioTracks().length<1)throw new Error("could not acquire audio track");if(!this.meetingSessionContext||!this.meetingSessionContext.peer)throw new Error("no active meeting and peer connection");if(this.connectionHealthData.reset(),this.connectionHealthData.setConnectionStartTime(),!(yield this.meetingSessionContext.transceiverController.replaceAudioTrack(zs.getAudioTracks()[0])))throw new Error("Failed to replace audio track");this.meetingSessionContext.activeAudioInput=zs,this.logger.info("Local audio input is updated")})}actionUpdateWithRenegotiation(zs){return is(this,void 0,void 0,function*(){this.monitorTask.pauseResubscribeCheck(),this.receiveIndexTask.pauseIngestion();try{yield new $l.default(this.logger,this.wrapTaskName("AudioVideoUpdate"),[new qs.default(this.meetingSessionContext),new xl.default(this.logger,new $l.default(this.logger,"UpdateSession",[new Ms.default(this.meetingSessionContext),new Vs.default(this.meetingSessionContext),new Cl.default(this.meetingSessionContext),new Bs.default(this.meetingSessionContext),new Tl.default(this.meetingSessionContext),new wl.default(this.meetingSessionContext)]),this.configuration.connectionTimeoutMs)]).run(),zs&&this.sessionStateController.perform(Cs.default.FinishUpdating,()=>{this.actionFinishUpdating()})}catch(yl){this.sessionStateController.perform(Cs.default.FinishUpdating,()=>{const Rl=new hs.default(this.getMeetingStatusCode(yl)||ms.default.TaskFailed);Rl.statusCode()!==ms.default.IncompatibleSDP&&this.logger.info("failed to update audio-video session"),this.handleMeetingSessionStatus(Rl,yl)})}})}notifyStop(zs,yl){var Rl;if(this.forEachObserver(Jl=>{Js.Maybe.of(Jl.audioVideoDidStop).map(tu=>tu.bind(Jl)(zs))}),this.eventController){const{signalingOpenDurationMs:Jl,poorConnectionCount:tu,startTimeMs:Xl,iceGatheringDurationMs:ou,attendeePresenceDurationMs:au,meetingStartDurationMs:fu}=this.meetingSessionContext,du={maxVideoTileCount:this.meetingSessionContext.maxVideoTileCount,meetingDurationMs:Xl===null?0:Math.round(Date.now()-Xl),meetingStatus:ms.default[zs.statusCode()],signalingOpenDurationMs:Jl,iceGatheringDurationMs:ou,attendeePresenceDurationMs:au,poorConnectionCount:tu,meetingStartDurationMs:fu,retryCount:this.totalRetryCount},Su=yl&&yl.message||((Rl=zs.toString)===null||Rl===void 0?void 0:Rl.call(zs))||"";du.meetingDurationMs===0?(du.meetingErrorMessage=Su,delete du.meetingDurationMs,delete du.attendeePresenceDurationMs,delete du.meetingStartDurationMs,this.eventController.publishEvent("meetingStartFailed",du)):zs.isFailure()||zs.isAudioConnectionFailure()?(du.meetingErrorMessage=Su,this.eventController.publishEvent("meetingFailed",du)):this.eventController.publishEvent("meetingEnded",du)}}actionFinishUpdating(){if(!this.meetingSessionContext.enableSimulcast)if(this.useUpdateTransceiverControllerForUplink)this.meetingSessionContext.videoUplinkBandwidthPolicy.updateTransceiverController();else{const zs=this.meetingSessionContext.videoCaptureAndEncodeParameter.encodeBitrates()[0];this.enforceBandwidthLimitationForSender(zs)}this.monitorTask.resumeResubscribeCheck(),this.receiveIndexTask.resumeIngestion(),this.logger.info("updated audio-video session")}reconnect(zs,yl){this.promotedToPrimaryMeeting&&(this.promotedToPrimaryMeeting=!1,this.forEachObserver(Jl=>{Js.Maybe.of(Jl.audioVideoWasDemotedFromPrimaryMeeting).map(tu=>tu.bind(Jl)(new hs.default(ms.default.AudioVideoDisconnectedWhilePromoted)))}));const Rl=this._reconnectController.retryWithBackoff(()=>is(this,void 0,void 0,function*(){this.sessionStateController.state()===Es.default.NotConnected?this.sessionStateController.perform(Cs.default.Connect,()=>{this.actionConnect(!0)}):this.sessionStateController.perform(Cs.default.Reconnect,()=>{this.actionReconnect(zs)}),this.totalRetryCount+=1}),()=>{this.logger.info("canceled retry")});return Rl||this.sessionStateController.perform(Cs.default.Fail,()=>{this.actionDisconnect(zs,!1,yl)}),Rl}actionReconnect(zs){return is(this,void 0,void 0,function*(){this._reconnectController.hasStartedConnectionAttempt()||(this._reconnectController.startedConnectionAttempt(!1),this.forEachObserver(yl=>{Js.Maybe.of(yl.audioVideoDidStartConnecting).map(Rl=>Rl.bind(yl)(!0))})),this.meetingSessionContext.volumeIndicatorAdapter.onReconnect(),this.connectionHealthData.reset(),this.receiveRemotePauseResumeTask=new Ol.default(this.meetingSessionContext);try{yield new $l.default(this.logger,this.wrapTaskName("AudioVideoReconnect"),[new xl.default(this.logger,new $l.default(this.logger,"Media",[new Ls.default(this.meetingSessionContext),new $l.default(this.logger,"Signaling",[new Ps.default(this.meetingSessionContext),new Ws.default(this.meetingSessionContext)]),new Fs.default(this.meetingSessionContext)]),this.configuration.connectionTimeoutMs),new qs.default(this.meetingSessionContext),new xl.default(this.logger,new $l.default(this.logger,"UpdateSession",[new Ms.default(this.meetingSessionContext),new Vs.default(this.meetingSessionContext),new Cl.default(this.meetingSessionContext),new Bs.default(this.meetingSessionContext),new Tl.default(this.meetingSessionContext),new wl.default(this.meetingSessionContext),this.receiveRemotePauseResumeTask]),this.configuration.connectionTimeoutMs)]).run(),this.sessionStateController.perform(Cs.default.FinishConnecting,()=>{if(this.eventController){const{signalingOpenDurationMs:yl,poorConnectionCount:Rl,startTimeMs:Jl,iceGatheringDurationMs:tu,attendeePresenceDurationMs:Xl,meetingStartDurationMs:ou}=this.meetingSessionContext,au={maxVideoTileCount:this.meetingSessionContext.maxVideoTileCount,meetingDurationMs:Math.round(Date.now()-Jl),meetingStatus:ms.default[zs.statusCode()],signalingOpenDurationMs:yl,iceGatheringDurationMs:tu,attendeePresenceDurationMs:Xl,poorConnectionCount:Rl,meetingStartDurationMs:ou,retryCount:this.totalRetryCount};this.eventController.publishEvent("meetingReconnected",au)}this.actionFinishConnecting()})}catch(yl){this.sessionStateController.perform(Cs.default.FinishConnecting,()=>{this.logger.info("failed to reconnect audio-video session");const Rl=new hs.default(this.getMeetingStatusCode(yl)||ms.default.TaskFailed);this.handleMeetingSessionStatus(Rl,yl)})}this.connectionHealthData.setConnectionStartTime()})}wrapTaskName(zs){return"".concat(zs,"/").concat(this.configuration.meetingId,"/").concat(this.configuration.credentials.attendeeId)}cleanUpMediaStreamsAfterStop(){this._mediaStreamBroker.removeMediaStreamBrokerObserver(this),this.meetingSessionContext.activeAudioInput=void 0,this.meetingSessionContext.activeVideoInput=void 0}getMeetingStatusCode(zs){const yl=/the meeting status code: (\d+)/.exec(zs&&zs.message);return yl&&yl.length>1?Number.parseInt(yl[1],10):null}enforceBandwidthLimitationForSender(zs){return is(this,void 0,void 0,function*(){yield this.meetingSessionContext.transceiverController.setVideoSendingBitrateKbps(zs)})}handleMeetingSessionStatus(zs,yl){if(this.logger.info("handling status: ".concat(ms.default[zs.statusCode()])),zs.isTerminal()||this.meetingSessionContext.statsCollector&&this.meetingSessionContext.statsCollector.logMeetingSessionStatus(zs),zs.statusCode()===ms.default.IncompatibleSDP)return this.restartLocalVideo(()=>{this.logger.info("handled incompatible SDP by attempting to restart video")}),!0;if(zs.statusCode()===ms.default.VideoCallSwitchToViewOnly)return this._videoTileController.removeLocalVideoTile(),this.forEachObserver(Rl=>{Js.Maybe.of(Rl.videoSendDidBecomeUnavailable).map(Jl=>Jl.bind(Rl)())}),!1;if(zs.statusCode()===ms.default.AudioVideoWasRemovedFromPrimaryMeeting)return this.forEachObserver(Rl=>{Js.Maybe.of(Rl.audioVideoWasDemotedFromPrimaryMeeting).map(Jl=>Jl.bind(Rl)(zs))}),!1;if(zs.isTerminal()&&(this.logger.error("session will not be reconnected"),this.meetingSessionContext.reconnectController&&this.meetingSessionContext.reconnectController.disableReconnect()),(zs.isFailure()||zs.isTerminal())&&this.meetingSessionContext.reconnectController){const Rl=this.reconnect(zs,yl);return Rl?this.logger.warn("will retry due to status code ".concat(ms.default[zs.statusCode()]).concat(yl?" and error: ".concat(yl.message):"")):this.logger.error("failed with status code ".concat(ms.default[zs.statusCode()]).concat(yl?" and error: ".concat(yl.message):"")),Rl}return!1}setVideoMaxBandwidthKbps(zs){if(zs<=0)throw new Error("Max bandwidth kbps has to be greater than 0");this.meetingSessionContext&&this.meetingSessionContext.videoUplinkBandwidthPolicy&&(this.logger.info("video send has ideal max bandwidth ".concat(zs," kbps")),this.meetingSessionContext.videoUplinkBandwidthPolicy.setIdealMaxBandwidthKbps(zs)),this.maxUplinkBandwidthKbps=zs}handleHasBandwidthPriority(zs){return is(this,void 0,void 0,function*(){if(this.meetingSessionContext&&this.meetingSessionContext.videoUplinkBandwidthPolicy&&!this.meetingSessionContext.enableSimulcast){if(this.useUpdateTransceiverControllerForUplink){this.meetingSessionContext.videoUplinkBandwidthPolicy.setHasBandwidthPriority(zs),yield this.meetingSessionContext.videoUplinkBandwidthPolicy.updateTransceiverController();return}const yl=this.meetingSessionContext.videoUplinkBandwidthPolicy.maxBandwidthKbps();this.meetingSessionContext.videoUplinkBandwidthPolicy.setHasBandwidthPriority(zs);const Rl=this.meetingSessionContext.videoUplinkBandwidthPolicy.maxBandwidthKbps();yl!==Rl&&(this.logger.info("video send bandwidth priority ".concat(zs," max has changed from ").concat(yl," kbps to ").concat(Rl," kbps")),yield this.enforceBandwidthLimitationForSender(Rl))}})}pauseReceivingStream(zs){this.meetingSessionContext&&this.meetingSessionContext.signalingClient&&this.meetingSessionContext.signalingClient.pause([zs])}resumeReceivingStream(zs){this.meetingSessionContext&&this.meetingSessionContext.signalingClient&&this.meetingSessionContext.signalingClient.resume([zs])}setVideoCodecSendPreferences(zs){this.videoSendCodecPreferences=zs,this.meetingSessionContext.videoSendCodecPreferences=zs,this.sessionStateController.state()!==Es.default.NotConnected&&this.update({needsRenegotiation:!0})}getRemoteVideoSources(){const{videoStreamIndex:zs}=this.meetingSessionContext;if(!zs)return this.logger.info("meeting has not started"),[];const yl=this.configuration.credentials.attendeeId;return zs.allVideoSendingSourcesExcludingSelf(yl)}encodingSimulcastLayersDidChange(zs){this.mayNeedRenegotiationForSimulcastLayerChange=!0,this.forEachObserver(yl=>{Js.Maybe.of(yl.encodingSimulcastLayersDidChange).map(Rl=>Rl.bind(yl)(zs))})}promoteToPrimaryMeeting(zs){return this.actionPromoteToPrimaryMeeting(zs)}actionPromoteToPrimaryMeeting(zs){return is(this,void 0,void 0,function*(){let yl=new hs.default(ms.default.SignalingRequestFailed);return yield new $l.default(this.logger,this.wrapTaskName("PromoteToPrimaryMeeting"),[new xl.default(this.logger,new Zs.default(this.meetingSessionContext,zs,Rl=>{yl=Rl}),this.configuration.connectionTimeoutMs)]).run(),this.promotedToPrimaryMeeting=yl.statusCode()===ms.default.OK,yl})}demoteFromPrimaryMeeting(){this.meetingSessionContext.signalingClient.demoteFromPrimaryMeeting(),this.forEachObserver(zs=>{Js.Maybe.of(zs.audioVideoWasDemotedFromPrimaryMeeting).map(yl=>yl.bind(zs)(new hs.default(ms.default.OK)))})}videoInputDidChange(zs){return is(this,void 0,void 0,function*(){if(this.logger.info("Receive a video input change event"),!this.meetingSessionContext||!this.meetingSessionContext.peer){this.logger.info("Skip updating video input because there is no active meeting and peer connection");return}this._videoTileController.hasStartedLocalVideoTile()&&(zs?yield this.replaceLocalVideo(zs):this._videoTileController.stopLocalVideoTile())})}audioInputDidChange(zs){return is(this,void 0,void 0,function*(){if(this.logger.info("Receive an audio input change event"),!this.meetingSessionContext||!this.meetingSessionContext.peer){this.logger.info("Skip updating audio input because there is no active meeting and peer connection");return}if(!zs)try{zs=yield this.mediaStreamBroker.acquireAudioInputStream()}catch{this.logger.error("Could not acquire audio track from mediaStreamBroker");return}yield this.replaceLocalAudio(zs)})}};return DefaultAudioVideoController.default=Vl,Vl.MIN_VOLUME_DECIBELS=-42,Vl.MAX_VOLUME_DECIBELS=-14,Vl.PING_PONG_INTERVAL_MS=1e4,DefaultAudioVideoController}var DefaultAudioVideoFacade$1={},__awaiter$m=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,ns,rs,is){function os(ss){return ss instanceof rs?ss:new rs(function(as){as(ss)})}return new(rs||(rs=Promise))(function(ss,as){function ls(ds){try{us(is.next(ds))}catch(ps){as(ps)}}function cs(ds){try{us(is.throw(ds))}catch(ps){as(ps)}}function us(ds){ds.done?ss(ds.value):os(ds.value).then(ls,cs)}us((is=is.apply(ts,ns||[])).next())})};Object.defineProperty(DefaultAudioVideoFacade$1,"__esModule",{value:!0});const VideoTransformDevice_1=VideoTransformDevice;class DefaultAudioVideoFacade{constructor(ns,rs,is,os,ss,as){this.audioVideoController=ns,this.videoTileController=rs,this.realtimeController=is,this.audioMixController=os,this.deviceController=ss,this.contentShareController=as}addObserver(ns){this.audioVideoController.addObserver(ns),this.trace("addObserver")}removeObserver(ns){this.audioVideoController.removeObserver(ns),this.trace("removeObserver")}setAudioProfile(ns){this.trace("setAudioProfile",ns),this.audioVideoController.setAudioProfile(ns)}start(ns){this.audioVideoController.start(ns),this.trace("start")}stop(){this.audioVideoController.stop(),this.trace("stop")}getRTCPeerConnectionStats(ns){return this.trace("getRTCPeerConnectionStats",ns?ns.id:null),this.audioVideoController.getRTCPeerConnectionStats(ns)}bindAudioElement(ns){const rs=this.audioMixController.bindAudioElement(ns);return this.trace("bindAudioElement",ns.id,rs),rs}unbindAudioElement(){this.audioMixController.unbindAudioElement(),this.trace("unbindAudioElement")}getCurrentMeetingAudioStream(){return this.trace("getCurrentConferenceStream"),this.audioMixController.getCurrentMeetingAudioStream()}addAudioMixObserver(ns){this.trace("addAudioMixObserver"),this.audioMixController.addAudioMixObserver(ns)}removeAudioMixObserver(ns){this.trace("removeAudioMixObserver"),this.audioMixController.removeAudioMixObserver(ns)}bindVideoElement(ns,rs){this.videoTileController.bindVideoElement(ns,rs),this.trace("bindVideoElement",{tileId:ns,videoElementId:rs.id})}unbindVideoElement(ns,rs=!0){this.videoTileController.unbindVideoElement(ns,rs),this.trace("unbindVideoElement",{tileId:ns,cleanUpVideoElement:rs})}startLocalVideoTile(){const ns=this.videoTileController.startLocalVideoTile();return this.trace("startLocalVideoTile",null,ns),ns}stopLocalVideoTile(){this.videoTileController.stopLocalVideoTile(),this.trace("stopLocalVideoTile")}hasStartedLocalVideoTile(){const ns=this.videoTileController.hasStartedLocalVideoTile();return this.trace("hasStartedLocalVideoTile",null,ns),ns}removeLocalVideoTile(){this.videoTileController.removeLocalVideoTile(),this.trace("removeLocalVideoTile")}getLocalVideoTile(){const ns=this.videoTileController.getLocalVideoTile();return this.trace("getLocalVideoTile"),ns}pauseVideoTile(ns){this.videoTileController.pauseVideoTile(ns),this.trace("pauseVideoTile",ns)}unpauseVideoTile(ns){this.videoTileController.unpauseVideoTile(ns),this.trace("unpauseVideoTile",ns)}getVideoTile(ns){const rs=this.videoTileController.getVideoTile(ns);return this.trace("getVideoTile",ns),rs}getAllRemoteVideoTiles(){const ns=this.videoTileController.getAllRemoteVideoTiles();return this.trace("getAllRemoteVideoTiles"),ns}getAllVideoTiles(){const ns=this.videoTileController.getAllVideoTiles();return this.trace("getAllVideoTiles"),ns}addVideoTile(){const ns=this.videoTileController.addVideoTile();return this.trace("addVideoTile",null,ns.state()),ns}removeVideoTile(ns){this.videoTileController.removeVideoTile(ns),this.trace("removeVideoTile",ns)}removeVideoTilesByAttendeeId(ns){const rs=this.videoTileController.removeVideoTilesByAttendeeId(ns);return this.trace("removeVideoTilesByAttendeeId",ns,rs),rs}removeAllVideoTiles(){this.videoTileController.removeAllVideoTiles(),this.trace("removeAllVideoTiles")}captureVideoTile(ns){const rs=this.videoTileController.captureVideoTile(ns);return this.trace("captureVideoTile",ns),rs}realtimeSubscribeToAttendeeIdPresence(ns){this.realtimeController.realtimeSubscribeToAttendeeIdPresence(ns),this.trace("realtimeSubscribeToAttendeeIdPresence")}realtimeUnsubscribeToAttendeeIdPresence(ns){this.realtimeController.realtimeUnsubscribeToAttendeeIdPresence(ns),this.trace("realtimeUnsubscribeToAttendeeIdPresence")}realtimeSetCanUnmuteLocalAudio(ns){this.realtimeController.realtimeSetCanUnmuteLocalAudio(ns),this.trace("realtimeSetCanUnmuteLocalAudio",ns)}realtimeSubscribeToSetCanUnmuteLocalAudio(ns){this.realtimeController.realtimeSubscribeToSetCanUnmuteLocalAudio(ns),this.trace("realtimeSubscribeToSetCanUnmuteLocalAudio")}realtimeUnsubscribeToSetCanUnmuteLocalAudio(ns){this.realtimeController.realtimeUnsubscribeToSetCanUnmuteLocalAudio(ns),this.trace("realtimeUnsubscribeToSetCanUnmuteLocalAudio")}realtimeCanUnmuteLocalAudio(){const ns=this.realtimeController.realtimeCanUnmuteLocalAudio();return this.trace("realtimeCanUnmuteLocalAudio",null,ns),ns}realtimeMuteLocalAudio(){this.realtimeController.realtimeMuteLocalAudio(),this.trace("realtimeMuteLocalAudio")}realtimeUnmuteLocalAudio(){const ns=this.realtimeController.realtimeUnmuteLocalAudio();return this.trace("realtimeUnmuteLocalAudio"),ns}realtimeSubscribeToMuteAndUnmuteLocalAudio(ns){this.realtimeController.realtimeSubscribeToMuteAndUnmuteLocalAudio(ns),this.trace("realtimeSubscribeToMuteAndUnmuteLocalAudio")}realtimeUnsubscribeToMuteAndUnmuteLocalAudio(ns){this.realtimeController.realtimeUnsubscribeToMuteAndUnmuteLocalAudio(ns),this.trace("realtimeUnsubscribeToMuteAndUnmuteLocalAudio")}realtimeIsLocalAudioMuted(){const ns=this.realtimeController.realtimeIsLocalAudioMuted();return this.trace("realtimeIsLocalAudioMuted"),ns}realtimeSubscribeToVolumeIndicator(ns,rs){this.realtimeController.realtimeSubscribeToVolumeIndicator(ns,rs),this.trace("realtimeSubscribeToVolumeIndicator",ns)}realtimeUnsubscribeFromVolumeIndicator(ns,rs){this.realtimeController.realtimeUnsubscribeFromVolumeIndicator(ns,rs),this.trace("realtimeUnsubscribeFromVolumeIndicator",ns,rs)}realtimeSubscribeToLocalSignalStrengthChange(ns){this.realtimeController.realtimeSubscribeToLocalSignalStrengthChange(ns),this.trace("realtimeSubscribeToLocalSignalStrengthChange")}realtimeUnsubscribeToLocalSignalStrengthChange(ns){this.realtimeController.realtimeUnsubscribeToLocalSignalStrengthChange(ns),this.trace("realtimeUnsubscribeToLocalSignalStrengthChange")}realtimeSendDataMessage(ns,rs,is){this.realtimeController.realtimeSendDataMessage(ns,rs,is),this.trace("realtimeSendDataMessage")}realtimeSubscribeToReceiveDataMessage(ns,rs){this.realtimeController.realtimeSubscribeToReceiveDataMessage(ns,rs),this.trace("realtimeSubscribeToReceiveDataMessage")}realtimeUnsubscribeFromReceiveDataMessage(ns){this.realtimeController.realtimeUnsubscribeFromReceiveDataMessage(ns),this.trace("realtimeUnsubscribeFromReceiveDataMessage")}realtimeSubscribeToFatalError(ns){this.realtimeController.realtimeSubscribeToFatalError(ns),this.trace("realtimeSubscribeToFatalError")}realtimeUnsubscribeToFatalError(ns){this.realtimeController.realtimeUnsubscribeToFatalError(ns),this.trace("realtimeUnsubscribeToFatalError")}subscribeToActiveSpeakerDetector(ns,rs,is,os){this.audioVideoController.activeSpeakerDetector.subscribe(ns,rs,is,os),this.trace("subscribeToActiveSpeakerDetector")}unsubscribeFromActiveSpeakerDetector(ns){this.audioVideoController.activeSpeakerDetector.unsubscribe(ns),this.trace("unsubscribeFromActiveSpeakerDetector")}listAudioInputDevices(ns=!1){return __awaiter$m(this,void 0,void 0,function*(){const rs=yield this.deviceController.listAudioInputDevices(ns);return this.trace("listAudioInputDevices",ns,rs),rs})}listVideoInputDevices(ns=!1){return __awaiter$m(this,void 0,void 0,function*(){const rs=yield this.deviceController.listVideoInputDevices(ns);return this.trace("listVideoInputDevices",ns,rs),rs})}listAudioOutputDevices(ns=!1){return __awaiter$m(this,void 0,void 0,function*(){const rs=yield this.deviceController.listAudioOutputDevices(ns);return this.trace("listAudioOutputDevices",ns,rs),rs})}startAudioInput(ns){return __awaiter$m(this,void 0,void 0,function*(){return this.trace("startAudioInput",ns),this.deviceController.startAudioInput(ns)})}stopAudioInput(){return __awaiter$m(this,void 0,void 0,function*(){return this.trace("stopAudioInput"),this.deviceController.stopAudioInput()})}startVideoInput(ns){return __awaiter$m(this,void 0,void 0,function*(){return VideoTransformDevice_1.isVideoTransformDevice(ns)?this.trace("startVideoInput with transform device"):this.trace("startVideoInput",ns),this.deviceController.startVideoInput(ns)})}stopVideoInput(){return __awaiter$m(this,void 0,void 0,function*(){return this.trace("stopVideoInput"),this.deviceController.stopVideoInput()})}chooseAudioOutput(ns){const rs=this.deviceController.chooseAudioOutput(ns);return this.trace("chooseAudioOutput",ns),rs}addDeviceChangeObserver(ns){this.deviceController.addDeviceChangeObserver(ns),this.trace("addDeviceChangeObserver")}removeDeviceChangeObserver(ns){this.deviceController.removeDeviceChangeObserver(ns),this.trace("removeDeviceChangeObserver")}createAnalyserNodeForAudioInput(){const ns=this.deviceController.createAnalyserNodeForAudioInput();return this.trace("createAnalyserNodeForAudioInput"),ns}startVideoPreviewForVideoInput(ns){this.deviceController.startVideoPreviewForVideoInput(ns),this.trace("startVideoPreviewForVideoInput",ns.id)}stopVideoPreviewForVideoInput(ns){this.deviceController.stopVideoPreviewForVideoInput(ns),this.trace("stopVideoPreviewForVideoInput",ns.id)}setDeviceLabelTrigger(ns){this.deviceController.setDeviceLabelTrigger(ns),this.trace("setDeviceLabelTrigger")}mixIntoAudioInput(ns){const rs=this.deviceController.mixIntoAudioInput(ns);return this.trace("mixIntoAudioInput",ns.id),rs}chooseVideoInputQuality(ns,rs,is){this.deviceController.chooseVideoInputQuality(ns,rs,is),this.trace("chooseVideoInputQuality",{width:ns,height:rs,frameRate:is})}setVideoMaxBandwidthKbps(ns){this.audioVideoController.setVideoMaxBandwidthKbps(ns),this.trace("setVideoMaxBandwidthKbps",ns)}setVideoCodecSendPreferences(ns){this.audioVideoController.setVideoCodecSendPreferences(ns),this.trace("setVideoCodecSendPreferences",ns)}getVideoInputQualitySettings(){const ns=this.deviceController.getVideoInputQualitySettings();return this.trace("getVideoInputQualitySettings"),ns}setContentAudioProfile(ns){this.trace("setContentAudioProfile",ns),this.contentShareController.setContentAudioProfile(ns)}enableSimulcastForContentShare(ns,rs){this.trace("enableSimulcastForContentShare"),this.contentShareController.enableSimulcastForContentShare(ns,rs)}enableSVCForContentShare(ns){this.trace("enableSVCForContentShare"),this.contentShareController.enableSVCForContentShare(ns)}startContentShare(ns){const rs=this.contentShareController.startContentShare(ns);return this.trace("startContentShare"),rs}startContentShareFromScreenCapture(ns,rs){const is=this.contentShareController.startContentShareFromScreenCapture(ns,rs);return this.trace("startContentShareFromScreenCapture"),is}pauseContentShare(){this.contentShareController.pauseContentShare(),this.trace("pauseContentShare")}unpauseContentShare(){this.contentShareController.unpauseContentShare(),this.trace("unpauseContentShare")}stopContentShare(){this.contentShareController.stopContentShare(),this.trace("stopContentShare")}addContentShareObserver(ns){this.contentShareController.addContentShareObserver(ns),this.trace("addContentShareObserver")}removeContentShareObserver(ns){this.contentShareController.removeContentShareObserver(ns),this.trace("removeContentShareObserver")}setContentShareVideoCodecPreferences(ns){this.contentShareController.setContentShareVideoCodecPreferences(ns),this.trace("setContentShareVideoCodecPreferences")}trace(ns,rs,is){const os=this.audioVideoController.configuration.meetingId,ss=this.audioVideoController.configuration.credentials.attendeeId;let as="API/DefaultAudioVideoFacade/".concat(os,"/").concat(ss,"/").concat(ns);typeof rs<"u"&&(as+=" ".concat(JSON.stringify(rs))),typeof is<"u"&&(as+=" -> ".concat(JSON.stringify(is))),this.audioVideoController.logger.info(as)}getRemoteVideoSources(){const ns=this.audioVideoController.getRemoteVideoSources();return this.trace("getRemoteVideoSources",null,ns),ns}get transcriptionController(){return this.realtimeController.transcriptionController}promoteToPrimaryMeeting(ns){this.audioVideoController.removeObserver(this),this.audioVideoController.addObserver(this);const rs=this.audioVideoController.promoteToPrimaryMeeting(ns);return this.trace("promoteToPrimaryMeeting",null,rs),rs}demoteFromPrimaryMeeting(){this.trace("demoteFromPrimaryMeeting"),this.audioVideoController.demoteFromPrimaryMeeting()}audioVideoWasDemotedFromPrimaryMeeting(ns){this.contentShareController.stopContentShare(),this.audioVideoController.removeObserver(this)}}DefaultAudioVideoFacade$1.default=DefaultAudioVideoFacade;var DefaultContentShareController$1={},MeetingSessionConfiguration$1={},MeetingFeatures$1={},__importDefault$r=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(MeetingFeatures$1,"__esModule",{value:!0});const VideoQualitySettings_1$3=__importDefault$r(VideoQualitySettings$1);class MeetingFeatures{constructor(ns=VideoQualitySettings_1$3.default.VideoResolutionHD,rs=VideoQualitySettings_1$3.default.VideoResolutionFHD){this.videoMaxResolution=ns,this.contentMaxResolution=rs}clone(){return new MeetingFeatures(this.videoMaxResolution,this.contentMaxResolution)}}MeetingFeatures$1.default=MeetingFeatures;var MeetingSessionCredentials$1={};Object.defineProperty(MeetingSessionCredentials$1,"__esModule",{value:!0});class MeetingSessionCredentials{constructor(){this.attendeeId=null,this.externalUserId=null,this.joinToken=null}toJSON(){return{attendeeId:this.attendeeId,joinToken:this.joinToken===null?null:"<redacted>"}}}MeetingSessionCredentials$1.default=MeetingSessionCredentials;var MeetingSessionURLs$1={};Object.defineProperty(MeetingSessionURLs$1,"__esModule",{value:!0});class MeetingSessionURLs{constructor(){this._audioHostURL=null,this._signalingURL=null,this._turnControlURL=null,this._eventIngestionURL=null,this.urlRewriter=ns=>ns}get audioHostURL(){return this.urlRewriter(this._audioHostURL)}set audioHostURL(ns){this._audioHostURL=ns}get signalingURL(){return this.urlRewriter(this._signalingURL)}set signalingURL(ns){this._signalingURL=ns}get turnControlURL(){return this.urlRewriter(this._turnControlURL)}set turnControlURL(ns){this._turnControlURL=ns}get eventIngestionURL(){return this.urlRewriter(this._eventIngestionURL)}set eventIngestionURL(ns){this._eventIngestionURL=ns}}MeetingSessionURLs$1.default=MeetingSessionURLs;var __importDefault$q=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(MeetingSessionConfiguration$1,"__esModule",{value:!0});const ConnectionHealthPolicyConfiguration_1=__importDefault$q(ConnectionHealthPolicyConfiguration$1),VideoQualitySettings_1$2=__importDefault$q(VideoQualitySettings$1),Utils_1$4=Utils$1,MeetingFeatures_1=__importDefault$q(MeetingFeatures$1),MeetingSessionCredentials_1$1=__importDefault$q(MeetingSessionCredentials$1),MeetingSessionURLs_1=__importDefault$q(MeetingSessionURLs$1);class MeetingSessionConfiguration{constructor(ns,rs){var is,os;if(this.meetingId=null,this.externalMeetingId=null,this.credentials=null,this.urls=null,this.connectionTimeoutMs=15e3,this.attendeePresenceTimeoutMs=0,this.connectionHealthPolicyConfiguration=new ConnectionHealthPolicyConfiguration_1.default,this.reconnectTimeoutMs=120*1e3,this.reconnectFixedWaitMs=0,this.reconnectShortBackOffMs=1*1e3,this.reconnectLongBackOffMs=5*1e3,this.enableSimulcastForUnifiedPlanChromiumBasedBrowsers=!1,this.enableSVC=!1,this.videoDownlinkBandwidthPolicy=null,this.videoUplinkBandwidthPolicy=null,this.keepLastFrameWhenPaused=!1,this.disablePeriodicKeyframeRequestOnContentSender=!1,this.meetingFeatures=new MeetingFeatures_1.default,ns){ns=Utils_1$4.toLowerCasePropertyNames(ns),ns.meeting&&(ns=ns.meeting),this.meetingId=ns.meetingid,this.externalMeetingId=ns.externalmeetingid,this.urls=new MeetingSessionURLs_1.default,this.urls.audioHostURL=ns.mediaplacement.audiohosturl,this.urls.signalingURL=ns.mediaplacement.signalingurl,this.urls.turnControlURL=ns.mediaplacement.turncontrolurl,ns.mediaplacement.eventingestionurl&&(this.urls.eventIngestionURL=ns.mediaplacement.eventingestionurl);const ss=(as,ls)=>{switch(as){case"None":return VideoQualitySettings_1$2.default.VideoDisabled;case"HD":return VideoQualitySettings_1$2.default.VideoResolutionHD;case"FHD":return VideoQualitySettings_1$2.default.VideoResolutionFHD;case"UHD":return VideoQualitySettings_1$2.default.VideoResolutionUHD;default:return ls}};if(((is=ns.meetingfeatures)===null||is===void 0?void 0:is.video)!==void 0||((os=ns.meetingfeatures)===null||os===void 0?void 0:os.content)!==void 0){const as=ns.meetingfeatures.video===void 0?"HD":ns.meetingfeatures.video.maxresolution,ls=ns.meetingfeatures.content===void 0?"FHD":ns.meetingfeatures.content.maxresolution;this.meetingFeatures=new MeetingFeatures_1.default(ss(as,VideoQualitySettings_1$2.default.VideoResolutionHD),ss(ls,VideoQualitySettings_1$2.default.VideoResolutionFHD))}}rs&&(rs=Utils_1$4.toLowerCasePropertyNames(rs),rs.attendee&&(rs=rs.attendee),this.credentials=new MeetingSessionCredentials_1$1.default,this.credentials.attendeeId=rs.attendeeid,this.credentials.externalUserId=rs.externaluserid,this.credentials.joinToken=rs.jointoken)}}MeetingSessionConfiguration$1.default=MeetingSessionConfiguration;var NoVideoDownlinkBandwidthPolicy$1={},__importDefault$p=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(NoVideoDownlinkBandwidthPolicy$1,"__esModule",{value:!0});const DefaultVideoStreamIdSet_1=__importDefault$p(DefaultVideoStreamIdSet$1);class NoVideoDownlinkBandwidthPolicy{reset(){}updateIndex(ns){}updateMetrics(ns){}wantsResubscribe(){return!1}chooseSubscriptions(){return new DefaultVideoStreamIdSet_1.default}}NoVideoDownlinkBandwidthPolicy$1.default=NoVideoDownlinkBandwidthPolicy;var DefaultSimulcastUplinkPolicyForContentShare$1={},__importDefault$o=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(DefaultSimulcastUplinkPolicyForContentShare$1,"__esModule",{value:!0});const SimulcastContentShareTransceiverController_1=__importDefault$o(SimulcastContentShareTransceiverController$1);class DefaultSimulcastUplinkPolicyForContentShare{constructor(ns,rs){this.encodingParams=rs,this.enableUhdContent=!1,this.defaultHiTargetBitrateKbps=1200,this.defaultLowTargetBitrateKbps=300}updateConnectionMetric(ns){}chooseMediaTrackConstraints(){}chooseEncodingParameters(){var ns,rs,is,os,ss,as,ls,cs,us,ds,ps,hs;const ms=new Map,gs=1e3,ys=SimulcastContentShareTransceiverController_1.default.NAME_ARR_ASCENDING;return ms.set(ys[0],{rid:ys[0],active:!0,scaleResolutionDownBy:((rs=(ns=this.encodingParams)===null||ns===void 0?void 0:ns.low)===null||rs===void 0?void 0:rs.scaleResolutionDownBy)||2,maxBitrate:(((os=(is=this.encodingParams)===null||is===void 0?void 0:is.low)===null||os===void 0?void 0:os.maxBitrateKbps)||this.defaultLowTargetBitrateKbps)*gs,maxFramerate:((as=(ss=this.encodingParams)===null||ss===void 0?void 0:ss.low)===null||as===void 0?void 0:as.maxFramerate)||5}),ms.set(ys[1],{rid:ys[1],active:!0,scaleResolutionDownBy:((cs=(ls=this.encodingParams)===null||ls===void 0?void 0:ls.high)===null||cs===void 0?void 0:cs.scaleResolutionDownBy)||1,maxBitrate:(((ds=(us=this.encodingParams)===null||us===void 0?void 0:us.high)===null||ds===void 0?void 0:ds.maxBitrateKbps)||this.defaultHiTargetBitrateKbps)*gs,maxFramerate:(hs=(ps=this.encodingParams)===null||ps===void 0?void 0:ps.high)===null||hs===void 0?void 0:hs.maxFramerate}),ms}updateIndex(ns){}wantsResubscribe(){return!1}chooseCaptureAndEncodeParameters(){}maxBandwidthKbps(){return this.enableUhdContent?2e3:1200}setIdealMaxBandwidthKbps(ns){}setHasBandwidthPriority(ns){}setHighResolutionFeatureEnabled(ns){this.enableUhdContent=ns,this.defaultHiTargetBitrateKbps=ns?2e3:1200,this.defaultLowTargetBitrateKbps=ns?500:300}addObserver(ns){}removeObserver(ns){}forEachObserver(ns){}}DefaultSimulcastUplinkPolicyForContentShare$1.default=DefaultSimulcastUplinkPolicyForContentShare;var __awaiter$l=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,ns,rs,is){function os(ss){return ss instanceof rs?ss:new rs(function(as){as(ss)})}return new(rs||(rs=Promise))(function(ss,as){function ls(ds){try{us(is.next(ds))}catch(ps){as(ps)}}function cs(ds){try{us(is.throw(ds))}catch(ps){as(ps)}}function us(ds){ds.done?ss(ds.value):os(ds.value).then(ls,cs)}us((is=is.apply(ts,ns||[])).next())})},__importDefault$n=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(DefaultContentShareController$1,"__esModule",{value:!0});const VideoQualitySettings_1$1=__importDefault$n(VideoQualitySettings$1),MeetingSessionConfiguration_1=__importDefault$n(MeetingSessionConfiguration$1),MeetingSessionCredentials_1=__importDefault$n(MeetingSessionCredentials$1),DefaultModality_1=__importDefault$n(DefaultModality$1),AsyncScheduler_1$2=__importDefault$n(AsyncScheduler$1),Types_1=Types,NoVideoDownlinkBandwidthPolicy_1=__importDefault$n(NoVideoDownlinkBandwidthPolicy$1),DefaultSimulcastUplinkPolicyForContentShare_1=__importDefault$n(DefaultSimulcastUplinkPolicyForContentShare$1),ContentShareConstants_1=__importDefault$n(ContentShareConstants$1);class DefaultContentShareController{constructor(ns,rs,is){this.mediaStreamBroker=ns,this.contentAudioVideo=rs,this.attendeeAudioVideo=is,this.observerQueue=new Set,this.destroyed=!1,this.contentAudioVideo.addObserver(this),this.setupContentShareEvents()}static createContentShareMeetingSessionConfigure(ns){const rs=new MeetingSessionConfiguration_1.default;return rs.meetingId=ns.meetingId,rs.externalMeetingId=ns.externalMeetingId,rs.urls=ns.urls,rs.disablePeriodicKeyframeRequestOnContentSender=ns.disablePeriodicKeyframeRequestOnContentSender,rs.credentials=new MeetingSessionCredentials_1.default,rs.credentials.attendeeId=ns.credentials.attendeeId+ContentShareConstants_1.default.Modality,rs.credentials.externalUserId=ns.credentials.externalUserId,rs.credentials.joinToken=ns.credentials.joinToken+ContentShareConstants_1.default.Modality,rs.meetingFeatures=ns.meetingFeatures.clone(),rs.videoDownlinkBandwidthPolicy=new NoVideoDownlinkBandwidthPolicy_1.default,rs}setContentAudioProfile(ns){this.contentAudioVideo.setAudioProfile(ns)}enableSimulcastForContentShare(ns,rs){ns?(this.contentAudioVideo.configuration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers=!0,this.contentAudioVideo.configuration.videoUplinkBandwidthPolicy=new DefaultSimulcastUplinkPolicyForContentShare_1.default(this.contentAudioVideo.logger,rs)):(this.contentAudioVideo.configuration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers=!1,this.contentAudioVideo.configuration.videoUplinkBandwidthPolicy=void 0)}enableSVCForContentShare(ns){ns?this.contentAudioVideo.configuration.enableSVC=!0:this.contentAudioVideo.configuration.enableSVC=!1}startContentShare(ns){return __awaiter$l(this,void 0,void 0,function*(){if(ns){if(this.contentAudioVideo.configuration.meetingFeatures.contentMaxResolution===VideoQualitySettings_1$1.default.VideoDisabled){this.contentAudioVideo.logger.info("Could not start content because max content resolution was set to None");return}this.mediaStreamBroker.mediaStream=ns;for(let rs=0;rs<this.mediaStreamBroker.mediaStream.getTracks().length;rs++)this.mediaStreamBroker.mediaStream.getTracks()[rs].addEventListener("ended",()=>{this.stopContentShare()});this.contentAudioVideo.start()}})}startContentShareFromScreenCapture(ns,rs){return __awaiter$l(this,void 0,void 0,function*(){const is=yield this.mediaStreamBroker.acquireScreenCaptureDisplayInputStream(ns,rs);return yield this.startContentShare(is),is})}pauseContentShare(){this.mediaStreamBroker.toggleMediaStream(!1)&&this.forEachContentShareObserver(ns=>{Types_1.Maybe.of(ns.contentShareDidPause).map(rs=>rs.call(ns))})}unpauseContentShare(){this.mediaStreamBroker.toggleMediaStream(!0)&&this.forEachContentShareObserver(ns=>{Types_1.Maybe.of(ns.contentShareDidUnpause).map(rs=>rs.call(ns))})}setContentShareVideoCodecPreferences(ns){this.contentAudioVideo.setVideoCodecSendPreferences(ns)}destroy(){return __awaiter$l(this,void 0,void 0,function*(){this.contentAudioVideo&&(this.destroyed=!0,this.contentAudioVideo.removeObserver(this),this.stopContentShare(),this.observerQueue.clear(),this.contentAudioVideo=void 0,this.attendeeAudioVideo=void 0,this.mediaStreamBroker=void 0)})}stopContentShare(){this.contentAudioVideo.stop(),this.mediaStreamBroker.cleanup()}addContentShareObserver(ns){this.observerQueue.add(ns)}removeContentShareObserver(ns){this.observerQueue.delete(ns)}forEachContentShareObserver(ns){for(const rs of this.observerQueue)AsyncScheduler_1$2.default.nextTick(()=>{this.observerQueue.has(rs)&&ns(rs)})}audioVideoDidStart(){var ns;((ns=this.mediaStreamBroker.mediaStream)===null||ns===void 0?void 0:ns.getVideoTracks().length)>0&&this.contentAudioVideo.videoTileController.startLocalVideoTile()}audioVideoDidStop(ns){this.mediaStreamBroker.cleanup(),this.contentShareTile&&(this.attendeeAudioVideo.videoTileController.removeVideoTile(this.contentShareTile.id()),this.contentShareTile=null),this.forEachContentShareObserver(rs=>{Types_1.Maybe.of(rs.contentShareDidStop).map(is=>is.call(rs))})}setupContentShareEvents(){this.attendeeAudioVideo.realtimeController.realtimeSubscribeToAttendeeIdPresence((ns,rs,is,os)=>{const ss=new DefaultModality_1.default(ns).hasModality(DefaultModality_1.default.MODALITY_CONTENT),as=new DefaultModality_1.default(ns).base()===this.attendeeAudioVideo.configuration.credentials.attendeeId;if(!ss||!as||!rs||this.contentShareTile)return;const ls=this.mediaStreamBroker.mediaStream;if(ls!=null&&ls.getVideoTracks().length){this.contentShareTile=this.attendeeAudioVideo.videoTileController.addVideoTile();const cs=ls.getVideoTracks()[0];let us,ds;if(cs.getSettings){const ps=cs.getSettings();us=ps.width,ds=ps.height}else{const ps=cs.getCapabilities();us=ps.width,ds=ps.height}this.contentShareTile.bindVideoStream(this.contentAudioVideo.configuration.credentials.attendeeId,!1,ls,us,ds,null,this.contentAudioVideo.configuration.credentials.externalUserId)}this.forEachContentShareObserver(cs=>{Types_1.Maybe.of(cs.contentShareDidStart).map(us=>us.call(cs))})})}}DefaultContentShareController$1.default=DefaultContentShareController;var DefaultEventController$1={},Destroyable={};Object.defineProperty(Destroyable,"__esModule",{value:!0});Destroyable.isDestroyable=void 0;function isDestroyable(ts){return ts&&"destroy"in ts}Destroyable.isDestroyable=isDestroyable;var EventIngestionConfiguration$1={},EventBufferConfiguration$1={};Object.defineProperty(EventBufferConfiguration$1,"__esModule",{value:!0});class EventBufferConfiguration{constructor(ns=5e3,rs=2,is=64,os=100,ss=15){this.flushIntervalMs=ns,this.flushSize=rs,this.maxBufferCapacityKb=is,this.totalBufferItems=os,this.retryCountLimit=ss}}EventBufferConfiguration$1.default=EventBufferConfiguration;var __importDefault$m=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(EventIngestionConfiguration$1,"__esModule",{value:!0});const EventBufferConfiguration_1=__importDefault$m(EventBufferConfiguration$1);class EventIngestionConfiguration{constructor(ns,rs,is=new EventBufferConfiguration_1.default){this.eventsClientConfiguration=ns,this.ingestionURL=rs,this.eventBufferConfiguration=is}}EventIngestionConfiguration$1.default=EventIngestionConfiguration;var DefaultMeetingEventReporter$1={},InMemoryJSONEventBuffer$1={},FullJitterBackoff$1={};Object.defineProperty(FullJitterBackoff$1,"__esModule",{value:!0});class FullJitterBackoff{constructor(ns,rs,is){this.fixedWaitMs=ns,this.shortBackoffMs=rs,this.longBackoffMs=is,this.currentRetry=0,this.fixedWaitMs<0&&(this.fixedWaitMs=0),this.shortBackoffMs<0&&(this.shortBackoffMs=0),this.longBackoffMs<0&&(this.longBackoffMs=0),this.reset()}reset(){this.currentRetry=0}nextBackoffAmountMs(){const ns=Math.random()*Math.min(this.longBackoffMs,this.shortBackoffMs*Math.pow(2,this.currentRetry))+this.fixedWaitMs;return this.currentRetry+=1,ns}}FullJitterBackoff$1.default=FullJitterBackoff;var DefaultUserAgentParser$1={},__importDefault$l=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(DefaultUserAgentParser$1,"__esModule",{value:!0});const ua_parser_js_1$1=uaParserExports,Versioning_1$5=__importDefault$l(Versioning$1);class DefaultUserAgentParser{constructor(ns){var rs,is,os,ss,as,ls,cs;try{this.parserResult=navigator&&navigator.userAgent?new ua_parser_js_1$1.UAParser(navigator.userAgent).getResult():void 0}catch(us){ns.error(us.message)}this.browserMajorVersion=((os=(is=(rs=this.parserResult)===null||rs===void 0?void 0:rs.browser)===null||is===void 0?void 0:is.version)===null||os===void 0?void 0:os.split(".")[0])||DefaultUserAgentParser.UNAVAILABLE,this.browserName=((ss=this.parserResult)===null||ss===void 0?void 0:ss.browser.name)||DefaultUserAgentParser.UNAVAILABLE,this.browserVersion=((as=this.parserResult)===null||as===void 0?void 0:as.browser.version)||DefaultUserAgentParser.UNAVAILABLE,this.deviceName=[((ls=this.parserResult)===null||ls===void 0?void 0:ls.device.vendor)||"",((cs=this.parserResult)===null||cs===void 0?void 0:cs.device.model)||""].join(" ").trim()||DefaultUserAgentParser.UNAVAILABLE}getParserResult(){var ns,rs;return{browserMajorVersion:this.browserMajorVersion,browserName:this.browserName,browserVersion:this.browserVersion,deviceName:this.deviceName,osName:((ns=this.parserResult)===null||ns===void 0?void 0:ns.os.name)||DefaultUserAgentParser.UNAVAILABLE,osVersion:((rs=this.parserResult)===null||rs===void 0?void 0:rs.os.version)||DefaultUserAgentParser.UNAVAILABLE,sdkVersion:Versioning_1$5.default.sdkVersion,sdkName:Versioning_1$5.default.sdkName}}}DefaultUserAgentParser$1.default=DefaultUserAgentParser;DefaultUserAgentParser.UNAVAILABLE="Unavailable";var __awaiter$k=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,ns,rs,is){function os(ss){return ss instanceof rs?ss:new rs(function(as){as(ss)})}return new(rs||(rs=Promise))(function(ss,as){function ls(ds){try{us(is.next(ds))}catch(ps){as(ps)}}function cs(ds){try{us(is.throw(ds))}catch(ps){as(ps)}}function us(ds){ds.done?ss(ds.value):os(ds.value).then(ls,cs)}us((is=is.apply(ts,ns||[])).next())})},__rest$2=commonjsGlobal$1&&commonjsGlobal$1.__rest||function(ts,ns){var rs={};for(var is in ts)Object.prototype.hasOwnProperty.call(ts,is)&&ns.indexOf(is)<0&&(rs[is]=ts[is]);if(ts!=null&&typeof Object.getOwnPropertySymbols=="function")for(var os=0,is=Object.getOwnPropertySymbols(ts);os<is.length;os++)ns.indexOf(is[os])<0&&Object.prototype.propertyIsEnumerable.call(ts,is[os])&&(rs[is[os]]=ts[is[os]]);return rs},__importDefault$k=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(InMemoryJSONEventBuffer$1,"__esModule",{value:!0});const FullJitterBackoff_1$3=__importDefault$k(FullJitterBackoff$1),IntervalScheduler_1$1=__importDefault$k(IntervalScheduler$1),DefaultUserAgentParser_1=__importDefault$k(DefaultUserAgentParser$1),Utils_1$3=Utils$1;class InMemoryJSONEventBuffer{constructor(ns,rs,is,os,ss){this.buffer=[],this.bufferSize=0,this.maxBufferItemCapacityBytes=0,this.ingestionEventSize=0,this.flushIntervalMs=0,this.flushSize=0,this.failedIngestionEvents=[],this.retryCountLimit=15,this.lock=!1,this.cancellableEvents=new Map,this.attributesToFilter=["externalUserId","externalMeetingId","timestampMs"],this.deepCopyCurrentIngestionEvent=bs=>({type:bs.type,v:bs.v,payloads:[...bs.payloads]}),this.sendEvents=()=>__awaiter$k(this,void 0,void 0,function*(){if(this.lock)return;const bs=this.getItems(this.flushSize);if(bs.length===0)return;this.lock=!0;const Ss=this.makeRequestBody(bs);let $s=!1;const Cs=Date.now();this.metadata.browserName.toLowerCase()==="firefox"&&this.cancellableEvents.set(Cs,bs);try{this.logger.debug("Event Reporting - InMemoryJSONEventBuffer - sendEvents - sending body ".concat(Ss));const Es=yield this.send(Ss);if(this.cancellableEvents.delete(Cs),!Es.ok)this.logger.error("Event Reporting - InMemoryJSONEventBuffer - sendEvents - Failed to send events ".concat(Ss," with response status ").concat(Es.status)),$s=!0;else try{const xs=yield Es.json();this.logger.debug("Event Reporting - InMemoryJSONEventBuffer - sendEvents - send successful events: ".concat(Ss," message: ").concat(JSON.stringify(xs)))}catch(xs){this.logger.warn("Event Reporting - InMemoryJSONEventBuffer - sendEvents error reading OK response ".concat(xs," for events ").concat(Ss))}}catch(Es){$s=!0,this.logger.warn("Event Reporting - InMemoryJSONEventBuffer - sendEvents - Error in sending events ".concat(Ss," to the ingestion endpoint ").concat(Es))}finally{this.lock=!1}$s&&(this.cancellableEvents.delete(Cs),this.failedIngestionEvents.push(...bs))});const as=new DefaultUserAgentParser_1.default(ss).getParserResult(),ls=__rest$2(as,["browserMajorVersion"]),cs=rs.toJSON(),{type:us,v:ds}=cs,ps=__rest$2(cs,["type","v"]);this.authenticationToken=rs.getAuthenticationToken(),this.metadata=Object.assign(Object.assign({},ls),ps),Object.keys(this.metadata).forEach(bs=>this.attributesToFilter.push(bs)),this.type=us,this.v=ds,this.ingestionURL=is,this.logger=ss,this.importantEvents=new Set(os);const{maxBufferCapacityKb:hs,totalBufferItems:ms,flushSize:gs,flushIntervalMs:ys,retryCountLimit:vs}=ns;this.maxBufferCapacityBytes=hs*1024,this.totalBufferItems=ms,this.maxBufferItemCapacityBytes=Math.round(this.maxBufferCapacityBytes/ms),this.flushIntervalMs=ys,this.flushSize=gs,this.retryCountLimit=vs,this.currentIngestionEvent=this.initializeAndGetCurrentIngestionEvent(),this.beaconEventListener=bs=>this.beaconEventHandler(bs),this.addEventListeners()}addEventListeners(){!this.beaconEventListener||!("window"in commonjsGlobal$1)||!window.addEventListener||!("document"in commonjsGlobal$1)||!document.addEventListener||(this.logger.debug("Event Reporting - InMemoryJSONEventBuffer - addEventListeners - adding pagehide and visibility change event listeners"),window.addEventListener("pagehide",this.beaconEventListener),document.addEventListener("visibilitychange",this.beaconEventListener))}beaconEventHandler(ns){(ns.type==="visibilitychange"&&document.visibilityState==="hidden"||ns.type==="pagehide")&&(this.logger.debug("Event Reporting - InMemoryJSONEventBuffer - beaconEventHandler is triggered calling sendBeacon"),this.sendBeacon())}removeEventListeners(){!this.beaconEventListener||!("window"in commonjsGlobal$1)||!window.removeEventListener||!("document"in commonjsGlobal$1)||!document.removeEventListener||(window.removeEventListener("pagehide",this.beaconEventListener),document.removeEventListener("visibilitychange",this.beaconEventListener),this.logger.debug("Event Reporting - InMemoryJSONEventBuffer - removeEventListeners - removing pagehide and visibility change event listeners"))}start(){var ns;this.removeEventListeners(),this.addEventListeners(),(ns=this.intervalScheduler)===null||ns===void 0||ns.stop(),this.intervalScheduler=new IntervalScheduler_1$1.default(this.flushIntervalMs),this.intervalScheduler.start(()=>this.sendEvents())}stop(){var ns;(ns=this.intervalScheduler)===null||ns===void 0||ns.stop(),this.intervalScheduler=void 0,this.sendBeacon(),this.removeEventListeners()}addItem(ns){return __awaiter$k(this,void 0,void 0,function*(){this.logger.debug("Event Reporting - InMemoryJSONEventBuffer - addItem - received event ".concat(JSON.stringify(ns)));const{name:rs,ts:is,attributes:os}=ns,ss=os&&this.filterAttributes(os,this.attributesToFilter),as=Object.assign({name:rs,ts:is},ss);this.logger.debug("Event Reporting - InMemoryJSONEventBuffer - addItem - event after filtering attributes ".concat(JSON.stringify(as)));const ls=this.getSize(as);if(ls>InMemoryJSONEventBuffer.MAX_ITEM_SIZE_BYTES_ALLOWED)throw new Error("Event Reporting - Item to be added has size ".concat(ls," bytes. Item cannot exceed max item size allowed of ").concat(InMemoryJSONEventBuffer.MAX_ITEM_SIZE_BYTES_ALLOWED," bytes."));if(this.importantEvents.has(rs)){this.logger.debug("Event Reporting - InMemoryJSONEventBuffer - addItem - sending important event ".concat(JSON.stringify(as))),this.sendEventImmediately({name:rs,ts:is,attributes:ss});return}if(this.isFull())throw this.logger.warn("Event Reporting - Event buffer is full"),new Error("Buffer full");if(this.currentIngestionEvent.payloads.push(as),this.ingestionEventSize+=ls,this.bufferItemThresholdReached(ls)){const cs=this.deepCopyCurrentIngestionEvent(this.currentIngestionEvent);this.buffer.push(cs),this.bufferSize+=this.ingestionEventSize,this.currentIngestionEvent=this.initializeAndGetCurrentIngestionEvent(),this.logger.debug("Event Reporting - InMemoryJSONEventBuffer - addItem - buffer item threshold reached updated buffer ".concat(JSON.stringify(this.buffer)))}})}filterAttributes(ns,rs){const is=new Set(rs);return Object.keys(ns).filter(ss=>is.has(ss)).forEach(ss=>delete ns[ss]),ns}initializeAndGetCurrentIngestionEvent(){const ns={type:this.type,v:this.v,payloads:[]};return this.ingestionEventSize=this.getSize(ns),ns}bufferItemThresholdReached(ns){return ns+this.ingestionEventSize>=this.maxBufferItemCapacityBytes||this.currentIngestionEvent.payloads.length===InMemoryJSONEventBuffer.MAX_PAYLOAD_ITEMS}getSize(ns){let rs=0;if(typeof ns=="object")for(const[is,os]of Object.entries(ns))rs+=this.getPrimitiveSize(is),rs+=this.getSize(os);else rs+=this.getPrimitiveSize(ns);return rs}getPrimitiveSize(ns){let rs=0;return typeof ns=="string"?rs+=ns.length*2:typeof ns=="number"&&(rs+=8),rs}isFull(){return this.bufferSize===this.maxBufferCapacityBytes||this.buffer.length===this.totalBufferItems}isEmpty(){return this.buffer.length===0||this.bufferSize===0}getItems(ns,rs=0){return this.isEmpty()?[]:(ns=Math.min(this.buffer.length,ns+1),this.buffer.splice(rs,ns))}makeBeaconRequestBody(ns){const rs={metadata:this.metadata,events:ns,authorization:this.authenticationToken};return JSON.stringify(rs)}makeRequestBody(ns){const rs={metadata:this.metadata,events:ns};return JSON.stringify(rs)}sendEventImmediately(ns){return __awaiter$k(this,void 0,void 0,function*(){this.logger.debug("Event Reporting - InMemoryJSONEventBuffer - sendEventImmediately - important event received ".concat(JSON.stringify(ns)));const{name:rs,ts:is,attributes:os}=ns,ss={type:this.type,v:this.v,payloads:[Object.assign({name:rs,ts:is},os)]};let as=!1,ls=null;const cs=this.makeRequestBody([ss]);try{if(ls=yield this.send(cs),ls.ok){try{const us=yield ls.json();this.logger.debug("Event Reporting - InMemoryJSONEventBuffer - sendEventImmediately - send successful event: ".concat(cs,", message: ").concat(JSON.stringify(us)))}catch(us){this.logger.warn("Event Reporting - InMemoryJSONEventBuffer - sendEventImmediately - Error reading OK response ".concat(us," for event ").concat(cs))}return}else this.logger.error("Event Reporting - InMemoryJSONEventBuffer - sendEventImmediately - Failed to send an important event ".concat(cs," with response status ").concat(ls.status)),as=!0}catch(us){this.logger.warn("Event Reporting - There may be a failure in sending an important event ".concat(cs," to the ingestion endpoint ").concat(us,".")),as=!0;try{if(this.metadata.browserName.toLowerCase()==="firefox"){const ds=this.makeBeaconRequestBody([ss]);this.logger.debug("Event Reporting - InMemoryJSONEventBuffer - sendEventImmediately - beaconing data out ".concat(ds)),navigator.sendBeacon("".concat(this.ingestionURL,"?beacon=1"),ds)?as=!1:as=!0}}catch{this.logger.warn("Event Reporting - Error sending beacon for an important event ".concat(cs)),as=!0}}as&&(this.logger.debug("Event Reporting - InMemoryJSONEventBuffer - sendEventImmediately - pushing to failed events ".concat(cs)),this.failedIngestionEvents.push(ss))})}send(ns){return __awaiter$k(this,void 0,void 0,function*(){const rs=new FullJitterBackoff_1$3.default(InMemoryJSONEventBuffer.RETRY_FIXED_BACKOFF_WAIT_MS,InMemoryJSONEventBuffer.RETRY_SHORT_BACKOFF_MS,InMemoryJSONEventBuffer.RETRY_LONG_BACKOFF_MS);try{let is=0;for(;is<this.retryCountLimit;){const os=yield fetch(this.ingestionURL,{method:"POST",headers:{Authorization:"Bearer ".concat(this.authenticationToken)},body:ns});if(os.ok||!InMemoryJSONEventBuffer.SENDING_FAILURE_CODES.has(os.status))return os;if(this.logger.warn("Will retry sending failure for ".concat(ns," due to status code ").concat(os.status,".")),is++,is<this.retryCountLimit){const ss=rs.nextBackoffAmountMs();yield Utils_1$3.wait(ss)}}if(is===this.retryCountLimit)throw new Error("Retry count limit reached for ".concat(ns))}catch(is){throw is}})}sendBeacon(){return __awaiter$k(this,void 0,void 0,function*(){const ns=this.buffer;if(this.logger.debug("Event Reporting - InMemoryJSONEventBuffer - sendBeacon - clearing out buffer events ".concat(JSON.stringify(ns))),this.buffer=[],this.currentIngestionEvent.payloads.length>0){const is=this.deepCopyCurrentIngestionEvent(this.currentIngestionEvent);ns.push(is),this.logger.debug("Event Reporting - InMemoryJSONEventBuffer - sendBeacon - clearing out current ingestion event ".concat(JSON.stringify(is))),this.currentIngestionEvent=this.initializeAndGetCurrentIngestionEvent()}if(this.failedIngestionEvents.length>0){const is=this.failedIngestionEvents.map(os=>this.deepCopyCurrentIngestionEvent(os));ns.push(...is),this.logger.debug("Event Reporting - InMemoryJSONEventBuffer - sendBeacon - clearing out any failed ingestion event ".concat(JSON.stringify(is))),this.failedIngestionEvents=[]}if(this.cancellableEvents.size>0&&(this.cancellableEvents.forEach(is=>{ns.push(...is),this.logger.debug("Event Reporting - InMemoryJSONEventBuffer - sendBeacon - clearing out each cancellable event ".concat(JSON.stringify(is)))}),this.cancellableEvents.clear()),ns.length===0)return;const rs=this.makeBeaconRequestBody(ns);this.logger.debug("Event Reporting - InMemoryJSONEventBuffer - sendBeacon - beacon data to send ".concat(rs));try{navigator.sendBeacon("".concat(this.ingestionURL,"?beacon=1"),rs)||this.logger.warn("Event Reporting - Browser failed to queue beacon data ".concat(rs))}catch(is){this.logger.warn("Event Reporting - Sending beacon data ".concat(rs," failed with error ").concat(is))}})}reset(){this.maxBufferCapacityBytes=0,this.totalBufferItems=0,this.buffer=[],this.bufferSize=0,this.maxBufferItemCapacityBytes=0,this.ingestionEventSize=0,this.flushIntervalMs=0,this.flushSize=0,this.failedIngestionEvents=[],this.lock=!1,this.beaconEventListener=void 0,this.cancellableEvents.clear()}destroy(){return __awaiter$k(this,void 0,void 0,function*(){this.stop(),this.reset()})}}InMemoryJSONEventBuffer$1.default=InMemoryJSONEventBuffer;InMemoryJSONEventBuffer.SENDING_FAILURE_CODES=new Set([408,429,500,502,503,504]);InMemoryJSONEventBuffer.RETRY_FIXED_BACKOFF_WAIT_MS=0;InMemoryJSONEventBuffer.RETRY_SHORT_BACKOFF_MS=1e3;InMemoryJSONEventBuffer.RETRY_LONG_BACKOFF_MS=15e3;InMemoryJSONEventBuffer.MAX_PAYLOAD_ITEMS=2;InMemoryJSONEventBuffer.MAX_ITEM_SIZE_BYTES_ALLOWED=3e3;var __awaiter$j=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,ns,rs,is){function os(ss){return ss instanceof rs?ss:new rs(function(as){as(ss)})}return new(rs||(rs=Promise))(function(ss,as){function ls(ds){try{us(is.next(ds))}catch(ps){as(ps)}}function cs(ds){try{us(is.throw(ds))}catch(ps){as(ps)}}function us(ds){ds.done?ss(ds.value):os(ds.value).then(ls,cs)}us((is=is.apply(ts,ns||[])).next())})},__importDefault$j=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(DefaultMeetingEventReporter$1,"__esModule",{value:!0});const Destroyable_1$1=Destroyable,InMemoryJSONEventBuffer_1=__importDefault$j(InMemoryJSONEventBuffer$1);class DefaultMeetingEventReporter{constructor(ns,rs){this.reportingEvents=!1,this.importantEvents=["meetingEnded","meetingFailed","meetingStartFailed","audioInputFailed","videoInputFailed","meetingStartSucceeded","deviceLabelTriggerFailed"],this.destroyed=!1;const{eventsClientConfiguration:is,ingestionURL:os,eventBufferConfiguration:ss}=ns,{eventsToIgnore:as}=is;this.eventBuffer=new InMemoryJSONEventBuffer_1.default(ss,is,os,this.importantEvents,rs),this.logger=rs,this.eventsToIgnore=as,this.start()}start(){if(!this.reportingEvents)try{this.eventBuffer.start(),this.logger.info("Event reporting started"),this.reportingEvents=!0}catch(ns){this.logger.error("Event Reporting - Error starting the event buffer ".concat(ns))}}stop(){if(this.reportingEvents)try{this.eventBuffer.stop(),this.logger.info("Event reporting stopped"),this.reportingEvents=!1}catch(ns){this.logger.error("Event Reporting - Error stopping the event buffer ".concat(ns))}}reportEvent(ns,rs,is){return __awaiter$j(this,void 0,void 0,function*(){if(this.logger.debug("Event Reporting - DefaultMeetingEventReporter - event received in reportEvent ".concat(ns,", ").concat(rs,", ").concat(JSON.stringify(is))),this.eventsToIgnore.includes(rs)){this.logger.debug("Event Reporting - DefaultMeetingEventReporter - ".concat(rs," event will be ignored as it is in events to ignore"));return}try{this.logger.debug("Event Reporting - DefaultMeetingEventReporter - adding item to event buffer"),yield this.eventBuffer.addItem({ts:ns,name:rs,attributes:is})}catch(os){this.logger.error("Event Reporting - Error adding event to buffer ".concat(os))}})}destroy(){return __awaiter$j(this,void 0,void 0,function*(){this.destroyed=!0,this.stop(),Destroyable_1$1.isDestroyable(this.eventBuffer)&&this.eventBuffer.destroy(),this.eventBuffer=void 0})}}DefaultMeetingEventReporter$1.default=DefaultMeetingEventReporter;var MeetingEventsClientConfiguration$1={};Object.defineProperty(MeetingEventsClientConfiguration$1,"__esModule",{value:!0});class MeetingEventsClientConfiguration{constructor(ns,rs,is,os=[]){this.type="Meet",this.v=1,this.meetingId=ns,this.attendeeId=rs,this.eventsToIgnore=os,this.authenticationToken=is}getAuthenticationToken(){return this.authenticationToken}toJSON(){const ns={};return ns.type=this.type,ns.v=this.v,ns.meetingId=this.meetingId,ns.attendeeId=this.attendeeId,ns}}MeetingEventsClientConfiguration$1.default=MeetingEventsClientConfiguration;var flattenEventAttributes$1={};Object.defineProperty(flattenEventAttributes$1,"__esModule",{value:!0});const flattenEventAttributes=ts=>{const ns={};for(const[rs,is]of Object.entries(ts))if(!(is==null||is===""))if(typeof is=="number"||typeof is=="string")ns[rs]=is;else throw new TypeError("Unhandled type received while flattening attributes.");return ns};flattenEventAttributes$1.default=flattenEventAttributes;var __awaiter$i=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,ns,rs,is){function os(ss){return ss instanceof rs?ss:new rs(function(as){as(ss)})}return new(rs||(rs=Promise))(function(ss,as){function ls(ds){try{us(is.next(ds))}catch(ps){as(ps)}}function cs(ds){try{us(is.throw(ds))}catch(ps){as(ps)}}function us(ds){ds.done?ss(ds.value):os(ds.value).then(ls,cs)}us((is=is.apply(ts,ns||[])).next())})},__importDefault$i=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(DefaultEventController$1,"__esModule",{value:!0});const ua_parser_js_1=uaParserExports,Destroyable_1=Destroyable,EventIngestionConfiguration_1=__importDefault$i(EventIngestionConfiguration$1),DefaultMeetingEventReporter_1=__importDefault$i(DefaultMeetingEventReporter$1),MeetingEventsClientConfiguration_1=__importDefault$i(MeetingEventsClientConfiguration$1),AsyncScheduler_1$1=__importDefault$i(AsyncScheduler$1),Versioning_1$4=__importDefault$i(Versioning$1),flattenEventAttributes_1=__importDefault$i(flattenEventAttributes$1);class DefaultEventController{constructor(ns,rs,is){var os,ss,as,ls,cs,us,ds;this.meetingHistoryStates=[],this.observerSet=new Set,this.destroyed=!1,this.logger=rs,this.configuration=ns,this.setupEventReporter(ns,rs,is);try{this.parserResult=navigator&&navigator.userAgent?new ua_parser_js_1.UAParser(navigator.userAgent).getResult():null}catch(ps){this.logger.error(ps.message)}this.browserMajorVersion=((as=(ss=(os=this.parserResult)===null||os===void 0?void 0:os.browser)===null||ss===void 0?void 0:ss.version)===null||as===void 0?void 0:as.split(".")[0])||DefaultEventController.UNAVAILABLE,this.browserName=((ls=this.parserResult)===null||ls===void 0?void 0:ls.browser.name)||DefaultEventController.UNAVAILABLE,this.browserVersion=((cs=this.parserResult)===null||cs===void 0?void 0:cs.browser.version)||DefaultEventController.UNAVAILABLE,this.deviceName=[((us=this.parserResult)===null||us===void 0?void 0:us.device.vendor)||"",((ds=this.parserResult)===null||ds===void 0?void 0:ds.device.model)||""].join(" ").trim()||DefaultEventController.UNAVAILABLE}addObserver(ns){this.observerSet.add(ns)}removeObserver(ns){this.observerSet.delete(ns)}forEachObserver(ns){for(const rs of this.observerSet)AsyncScheduler_1$1.default.nextTick(()=>{this.observerSet.has(rs)&&ns(rs)})}publishEvent(ns,rs){return __awaiter$i(this,void 0,void 0,function*(){const is=Date.now();this.meetingHistoryStates.push({name:ns,timestampMs:is});const os=Object.freeze(Object.assign(this.getAttributes(is),rs));this.forEachObserver(ss=>{ss.eventDidReceive(ns,os)}),this.reportEvent(ns,is,rs)})}reportEvent(ns,rs,is){var os;return __awaiter$i(this,void 0,void 0,function*(){let ss;try{is&&(ss=flattenEventAttributes_1.default(is)),yield(os=this.eventReporter)===null||os===void 0?void 0:os.reportEvent(rs,ns,ss)}catch(as){this.logger.error("Error reporting event ".concat(as))}})}setupEventReporter(ns,rs,is){if(is)this._eventReporter=is;else if(ns.urls){const os=ns.urls.eventIngestionURL;if(os){this.logger.info("Event ingestion URL is present in the configuration");const{meetingId:ss,credentials:{attendeeId:as,joinToken:ls}}=ns,cs=new MeetingEventsClientConfiguration_1.default(ss,as,ls),us=new EventIngestionConfiguration_1.default(cs,os);this._eventReporter=new DefaultMeetingEventReporter_1.default(us,rs)}}}getAttributes(ns){var rs,is;return{attendeeId:this.configuration.credentials.attendeeId,browserMajorVersion:this.browserMajorVersion,browserName:this.browserName,browserVersion:this.browserVersion,deviceName:this.deviceName,externalMeetingId:typeof this.configuration.externalMeetingId=="string"?this.configuration.externalMeetingId:"",externalUserId:this.configuration.credentials.externalUserId,meetingHistory:this.meetingHistoryStates,meetingId:this.configuration.meetingId,osName:((rs=this.parserResult)===null||rs===void 0?void 0:rs.os.name)||DefaultEventController.UNAVAILABLE,osVersion:((is=this.parserResult)===null||is===void 0?void 0:is.os.version)||DefaultEventController.UNAVAILABLE,sdkVersion:Versioning_1$4.default.sdkVersion,sdkName:Versioning_1$4.default.sdkName,timestampMs:ns}}get eventReporter(){return this._eventReporter}destroy(){return __awaiter$i(this,void 0,void 0,function*(){Destroyable_1.isDestroyable(this.eventReporter)&&(yield this.eventReporter.destroy()),this.logger=void 0,this.configuration=void 0,this._eventReporter=void 0,this.destroyed=!0})}}DefaultEventController$1.default=DefaultEventController;DefaultEventController.UNAVAILABLE="Unavailable";var DefaultMeetingReadinessChecker$1={},MeetingReadinessCheckerConfiguration$1={};Object.defineProperty(MeetingReadinessCheckerConfiguration$1,"__esModule",{value:!0});class MeetingReadinessCheckerConfiguration{constructor(){this.timeoutMs=1e4,this.waitDurationMs=3e3,this.audioOutputFrequency=440,this.audioOutputGain=.1}}MeetingReadinessCheckerConfiguration$1.default=MeetingReadinessCheckerConfiguration;var __awaiter$h=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,ns,rs,is){function os(ss){return ss instanceof rs?ss:new rs(function(as){as(ss)})}return new(rs||(rs=Promise))(function(ss,as){function ls(ds){try{us(is.next(ds))}catch(ps){as(ps)}}function cs(ds){try{us(is.throw(ds))}catch(ps){as(ps)}}function us(ds){ds.done?ss(ds.value):os(ds.value).then(ls,cs)}us((is=is.apply(ts,ns||[])).next())})},__importDefault$h=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(DefaultMeetingReadinessChecker$1,"__esModule",{value:!0});const DefaultAudioMixController_1=__importDefault$h(DefaultAudioMixController$1),DefaultBrowserBehavior_1$2=__importDefault$h(DefaultBrowserBehavior$1),DefaultDeviceController_1=__importDefault$h(DefaultDeviceController$1),PermissionDeniedError_1=__importDefault$h(PermissionDeniedError$1),BaseTask_1$1=__importDefault$h(BaseTask$1),TimeoutTask_1=__importDefault$h(TimeoutTask$1),CheckAudioConnectivityFeedback_1=__importDefault$h(CheckAudioConnectivityFeedback),CheckAudioInputFeedback_1=__importDefault$h(CheckAudioInputFeedback),CheckAudioOutputFeedback_1=__importDefault$h(CheckAudioOutputFeedback),CheckCameraResolutionFeedback_1=__importDefault$h(CheckCameraResolutionFeedback),CheckContentShareConnectivityFeedback_1=__importDefault$h(CheckContentShareConnectivityFeedback),CheckNetworkTCPConnectivityFeedback_1=__importDefault$h(CheckNetworkTCPConnectivityFeedback),CheckNetworkUDPConnectivityFeedback_1=__importDefault$h(CheckNetworkUDPConnectivityFeedback),CheckVideoConnectivityFeedback_1=__importDefault$h(CheckVideoConnectivityFeedback),CheckVideoInputFeedback_1=__importDefault$h(CheckVideoInputFeedback),MeetingReadinessCheckerConfiguration_1=__importDefault$h(MeetingReadinessCheckerConfiguration$1);class DefaultMeetingReadinessChecker{constructor(ns,rs,is=new MeetingReadinessCheckerConfiguration_1.default){this.logger=ns,this.meetingSession=rs,this.configuration=is,this.browserBehavior=new DefaultBrowserBehavior_1$2.default}static delay(ns){return __awaiter$h(this,void 0,void 0,function*(){return new Promise(rs=>setTimeout(rs,ns))})}checkAudioInput(ns){return __awaiter$h(this,void 0,void 0,function*(){try{return yield this.meetingSession.audioVideo.startAudioInput(ns),yield this.meetingSession.audioVideo.stopAudioInput(),CheckAudioInputFeedback_1.default.Succeeded}catch(rs){return this.logger.error("MeetingReadinessChecker: Audio input check failed with error ".concat(rs)),rs instanceof PermissionDeniedError_1.default?CheckAudioInputFeedback_1.default.PermissionDenied:CheckAudioInputFeedback_1.default.Failed}})}checkAudioOutput(ns,rs,is=null){return __awaiter$h(this,void 0,void 0,function*(){try{const os=ns?DefaultDeviceController_1.default.getIntrinsicDeviceId(ns):"";return yield this.playTone(os,this.configuration.audioOutputFrequency,is),(yield rs())?CheckAudioOutputFeedback_1.default.Succeeded:CheckAudioOutputFeedback_1.default.Failed}catch(os){return this.logger.error("MeetingReadinessChecker: Audio output check failed with error: ".concat(os)),CheckAudioOutputFeedback_1.default.Failed}finally{this.stopTone()}})}playTone(ns,rs,is){return __awaiter$h(this,void 0,void 0,function*(){const ss=this.configuration.audioOutputGain;this.oscillatorNode&&this.stopTone(),this.audioContext=DefaultDeviceController_1.default.getAudioContext(),this.gainNode=this.audioContext.createGain(),this.gainNode.gain.value=0,this.oscillatorNode=this.audioContext.createOscillator(),this.oscillatorNode.frequency.value=rs,this.oscillatorNode.connect(this.gainNode),this.destinationStream=this.audioContext.createMediaStreamDestination(),this.gainNode.connect(this.destinationStream);const ls=this.audioContext.currentTime+.1;this.gainNode.gain.linearRampToValueAtTime(0,ls),this.gainNode.gain.linearRampToValueAtTime(ss,ls+.1),this.oscillatorNode.start();const cs=new DefaultAudioMixController_1.default(this.logger);try{this.browserBehavior.supportsSetSinkId()&&(yield cs.bindAudioDevice({deviceId:ns}))}catch(us){this.logger.error("Failed to bind audio device: ".concat(us))}try{yield cs.bindAudioElement(is||new Audio)}catch(us){this.logger.error("Failed to bind audio element: ".concat(us))}yield cs.bindAudioStream(this.destinationStream.stream)})}stopTone(){if(!this.audioContext||!this.gainNode||!this.oscillatorNode||!this.destinationStream)return;const ns=1,rs=.1,is=this.configuration.audioOutputGain,os=this.audioContext.currentTime;this.gainNode.gain.linearRampToValueAtTime(is,os+rs+ns),this.gainNode.gain.linearRampToValueAtTime(0,os+rs*2+ns),this.oscillatorNode.stop(),this.oscillatorNode.disconnect(this.gainNode),this.gainNode.disconnect(this.destinationStream),this.oscillatorNode=null,this.gainNode=null,this.destinationStream=null}checkVideoInput(ns){return __awaiter$h(this,void 0,void 0,function*(){try{return yield this.meetingSession.audioVideo.startVideoInput(ns),yield this.meetingSession.audioVideo.stopVideoInput(),CheckVideoInputFeedback_1.default.Succeeded}catch(rs){return this.logger.error("MeetingReadinessChecker: Video check failed with error ".concat(rs)),rs instanceof PermissionDeniedError_1.default?CheckVideoInputFeedback_1.default.PermissionDenied:CheckVideoInputFeedback_1.default.Failed}})}checkCameraResolution(ns,rs,is){return __awaiter$h(this,void 0,void 0,function*(){let os;try{const ss=DefaultDeviceController_1.default.getIntrinsicDeviceId(ns),as={video:this.calculateVideoConstraint(ss,rs,is)};os=yield navigator.mediaDevices.getUserMedia(as)}catch(ss){return this.logger.error("MeetingReadinessChecker: Camera resolution check with width: ".concat(rs," height ").concat(is," failed with error ").concat(ss)),ss&&ss.name==="OverconstrainedError"?CheckCameraResolutionFeedback_1.default.ResolutionNotSupported:ss&&ss.name==="NotAllowedError"?CheckCameraResolutionFeedback_1.default.PermissionDenied:CheckCameraResolutionFeedback_1.default.Failed}finally{os&&os.getTracks().forEach(function(ss){ss.stop()})}return CheckCameraResolutionFeedback_1.default.Succeeded})}calculateVideoConstraint(ns,rs,is){const os=this.browserBehavior.requiresResolutionAlignment(rs,is),ss={};return this.browserBehavior.requiresNoExactMediaStreamConstraints()?(ss.deviceId=ns,ss.width=rs,ss.height=is):(ss.deviceId={exact:ns},ss.width={exact:os[0]},ss.height={exact:os[1]}),ss}checkContentShareConnectivity(ns){return __awaiter$h(this,void 0,void 0,function*(){let rs=!1,is=!1;const os={contentShareDidStart:()=>{rs=!0}},ss={audioVideoDidStart:()=>{is=!0}};try{return this.meetingSession.audioVideo.addObserver(ss),this.meetingSession.audioVideo.start(),this.meetingSession.audioVideo.addContentShareObserver(os),yield this.meetingSession.audioVideo.startContentShareFromScreenCapture(ns),yield this.executeTimeoutTask(()=>__awaiter$h(this,void 0,void 0,function*(){return is&&rs})),is?(yield this.stopMeeting(),rs?CheckContentShareConnectivityFeedback_1.default.Succeeded:CheckContentShareConnectivityFeedback_1.default.TimedOut):CheckContentShareConnectivityFeedback_1.default.ConnectionFailed}catch(as){return this.logger.error("MeetingReadinessChecker: Content share check failed with error ".concat(as)),as.name==="NotAllowedError"?CheckContentShareConnectivityFeedback_1.default.PermissionDenied:CheckContentShareConnectivityFeedback_1.default.Failed}finally{this.meetingSession.audioVideo.removeObserver(ss),this.meetingSession.audioVideo.stopContentShare(),this.meetingSession.audioVideo.removeContentShareObserver(os)}})}checkAudioConnectivity(ns){return __awaiter$h(this,void 0,void 0,function*(){let rs=!1;const is={packetsReceived:0},os=this.meetingSession.audioVideo,ss={metricsDidReceive(ls){ls.getRTCStatsReport().forEach(cs=>{cs.type==="inbound-rtp"&&(cs.mediaType==="audio"||cs.kind==="audio")&&(is.packetsReceived=cs.packetsReceived)})}},as=(ls,cs,us,ds)=>{ls===this.meetingSession.configuration.credentials.attendeeId&&cs&&(rs=!0)};try{yield os.startAudioInput(ns)}catch(ls){return this.logger.error("MeetingReadinessChecker: Failed to get audio input device with error ".concat(ls)),ls instanceof PermissionDeniedError_1.default?CheckAudioConnectivityFeedback_1.default.AudioInputPermissionDenied:CheckAudioConnectivityFeedback_1.default.AudioInputRequestFailed}return os.realtimeSubscribeToAttendeeIdPresence(as),os.addObserver(ss),(yield this.startMeeting())?(yield this.executeTimeoutTask(()=>__awaiter$h(this,void 0,void 0,function*(){return this.isAudioConnectionSuccessful(rs,is)})),os.removeObserver(ss),os.realtimeUnsubscribeToAttendeeIdPresence(as),yield this.stopMeeting(),yield this.meetingSession.audioVideo.stopAudioInput(),this.isAudioConnectionSuccessful(rs,is)?CheckAudioConnectivityFeedback_1.default.Succeeded:CheckAudioConnectivityFeedback_1.default.AudioNotReceived):(os.removeObserver(ss),os.realtimeUnsubscribeToAttendeeIdPresence(as),yield this.meetingSession.audioVideo.stopAudioInput(),CheckAudioConnectivityFeedback_1.default.ConnectionFailed)})}checkVideoConnectivity(ns){return __awaiter$h(this,void 0,void 0,function*(){const rs=this.meetingSession.audioVideo;let is=0;const os={metricsDidReceive(ss){ss.getRTCStatsReport().forEach(ls=>{ls.type==="outbound-rtp"&&(ls.mediaType==="video"||ls.kind==="video")&&(is=ls.packetsSent)})}};try{yield rs.startVideoInput(ns)}catch(ss){return this.logger.error("MeetingReadinessChecker: Failed to get video input device with error ".concat(ss)),ss instanceof PermissionDeniedError_1.default?CheckVideoConnectivityFeedback_1.default.VideoInputPermissionDenied:CheckVideoConnectivityFeedback_1.default.VideoInputRequestFailed}return rs.addObserver(os),(yield this.startMeeting())?(rs.startLocalVideoTile(),yield this.executeTimeoutTask(()=>__awaiter$h(this,void 0,void 0,function*(){return is>0})),yield rs.stopVideoInput(),yield this.stopMeeting(),rs.removeObserver(os),is<=0?CheckVideoConnectivityFeedback_1.default.VideoNotSent:CheckVideoConnectivityFeedback_1.default.Succeeded):CheckVideoConnectivityFeedback_1.default.ConnectionFailed})}checkNetworkUDPConnectivity(){return __awaiter$h(this,void 0,void 0,function*(){let ns=!1;const rs={metricsDidReceive(os){os.getRTCStatsReport().forEach(as=>{as.type==="candidate-pair"&&as.state==="succeeded"&&(ns=!0)})}};try{this.originalURLRewriter=this.meetingSession.configuration.urls.urlRewriter}catch(os){return this.logger.error("MeetingSessionConfiguration.urls doesn't exist. Error: ".concat(os)),CheckNetworkUDPConnectivityFeedback_1.default.MeetingSessionURLsNotInitialized}this.meetingSession.configuration.urls.urlRewriter=os=>{const ss=this.originalURLRewriter(os);return ss.includes("transport=tcp")?"":ss};const is=this.meetingSession.audioVideo;return is.addObserver(rs),(yield this.startMeeting())?(yield this.executeTimeoutTask(()=>__awaiter$h(this,void 0,void 0,function*(){return ns})),this.meetingSession.configuration.urls.urlRewriter=this.originalURLRewriter,yield this.stopMeeting(),is.removeObserver(rs),ns?CheckNetworkUDPConnectivityFeedback_1.default.Succeeded:CheckNetworkUDPConnectivityFeedback_1.default.ICENegotiationFailed):(this.meetingSession.configuration.urls.urlRewriter=this.originalURLRewriter,CheckNetworkUDPConnectivityFeedback_1.default.ConnectionFailed)})}checkNetworkTCPConnectivity(){return __awaiter$h(this,void 0,void 0,function*(){let ns=!1;const rs={metricsDidReceive(os){os.getRTCStatsReport().forEach(as=>{as.type==="candidate-pair"&&as.state==="succeeded"&&(ns=!0)})}};try{this.originalURLRewriter=this.meetingSession.configuration.urls.urlRewriter}catch(os){return this.logger.error("MeetingSessionConfiguration.urls doesn't exist. Error: ".concat(os)),CheckNetworkTCPConnectivityFeedback_1.default.MeetingSessionURLsNotInitialized}this.meetingSession.configuration.urls.urlRewriter=os=>{const ss=this.originalURLRewriter(os);return ss.includes("transport=udp")?"":ss};const is=this.meetingSession.audioVideo;return is.addObserver(rs),(yield this.startMeeting())?(yield this.executeTimeoutTask(()=>__awaiter$h(this,void 0,void 0,function*(){return ns})),this.meetingSession.configuration.urls.urlRewriter=this.originalURLRewriter,yield this.stopMeeting(),is.removeObserver(rs),ns?CheckNetworkTCPConnectivityFeedback_1.default.Succeeded:CheckNetworkTCPConnectivityFeedback_1.default.ICENegotiationFailed):(this.meetingSession.configuration.urls.urlRewriter=this.originalURLRewriter,CheckNetworkTCPConnectivityFeedback_1.default.ConnectionFailed)})}startMeeting(){return __awaiter$h(this,void 0,void 0,function*(){let ns=!1;const rs={audioVideoDidStart:()=>{ns=!0}};return this.meetingSession.audioVideo.addObserver(rs),this.meetingSession.audioVideo.start(),yield this.executeTimeoutTask(()=>__awaiter$h(this,void 0,void 0,function*(){return ns})),this.meetingSession.audioVideo.removeObserver(rs),ns})}stopMeeting(){return __awaiter$h(this,void 0,void 0,function*(){let ns=!1;const rs={audioVideoDidStop:is=>{ns=!0}};return this.meetingSession.audioVideo.addObserver(rs),this.meetingSession.audioVideo.stop(),yield this.executeTimeoutTask(()=>__awaiter$h(this,void 0,void 0,function*(){return ns})),this.meetingSession.audioVideo.removeObserver(rs),ns})}executeTimeoutTask(ns){return __awaiter$h(this,void 0,void 0,function*(){let rs=!1;class is extends BaseTask_1$1.default{constructor(as,ls){super(as),this.waitDurationMs=ls,this.isCancelled=!1}cancel(){this.isCancelled=!0}run(){return __awaiter$h(this,void 0,void 0,function*(){for(;!this.isCancelled;){if(yield ns()){rs=!0;break}yield DefaultMeetingReadinessChecker.delay(this.waitDurationMs)}})}}return yield new TimeoutTask_1.default(this.logger,new is(this.logger,this.configuration.waitDurationMs),this.configuration.timeoutMs).run(),rs})}isAudioConnectionSuccessful(ns,rs){return ns&&rs.packetsReceived>0}}DefaultMeetingReadinessChecker$1.default=DefaultMeetingReadinessChecker;var DefaultMeetingSession={},DefaultReconnectController$1={},__importDefault$g=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(DefaultReconnectController$1,"__esModule",{value:!0});const TimeoutScheduler_1=__importDefault$g(TimeoutScheduler$1);class DefaultReconnectController{constructor(ns,rs){this.reconnectTimeoutMs=ns,this.backoffPolicy=rs,this.shouldReconnect=!0,this.onlyRestartPeerConnection=!1,this.firstConnectionAttempted=!1,this.firstConnectionAttemptTimestampMs=0,this.lastActiveTimestampMs=1/0,this._isFirstConnection=!0,this.backoffTimer=null,this.backoffCancel=null,this.reset()}timeSpentReconnectingMs(){return this.firstConnectionAttempted?Date.now()-this.firstConnectionAttemptTimestampMs:0}hasPastReconnectDeadline(){return Date.now()-this.lastActiveTimestampMs>=this.reconnectTimeoutMs?!0:this.timeSpentReconnectingMs()>=this.reconnectTimeoutMs}reset(){this.cancel(),this.shouldReconnect=!0,this.onlyRestartPeerConnection=!1,this.firstConnectionAttempted=!1,this.firstConnectionAttemptTimestampMs=0,this.lastActiveTimestampMs=1/0,this.backoffPolicy.reset()}startedConnectionAttempt(ns){this._isFirstConnection=ns,this.firstConnectionAttempted||(this.firstConnectionAttempted=!0,this.firstConnectionAttemptTimestampMs=Date.now())}hasStartedConnectionAttempt(){return this.firstConnectionAttempted}isFirstConnection(){return this._isFirstConnection}disableReconnect(){this.shouldReconnect=!1}enableRestartPeerConnection(){this.onlyRestartPeerConnection=!0}cancel(){this.disableReconnect(),this.backoffTimer&&(this.backoffTimer.stop(),this.backoffCancel&&(this.backoffCancel(),this.backoffCancel=null))}retryWithBackoff(ns,rs){const is=this.shouldReconnect&&!this.hasPastReconnectDeadline();return is&&(this.backoffCancel=rs,this.backoffTimer=new TimeoutScheduler_1.default(this.backoffPolicy.nextBackoffAmountMs()),this.backoffTimer.start(()=>{this.backoffCancel=null,ns()})),is}shouldOnlyRestartPeerConnection(){return this.onlyRestartPeerConnection}clone(){return new DefaultReconnectController(this.reconnectTimeoutMs,this.backoffPolicy)}setLastActiveTimestampMs(ns){this.lastActiveTimestampMs=ns}}DefaultReconnectController$1.default=DefaultReconnectController;var DefaultWebSocketAdapter$1={},__importDefault$f=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(DefaultWebSocketAdapter$1,"__esModule",{value:!0});const Versioning_1$3=__importDefault$f(Versioning$1),WebSocketReadyState_1$1=__importDefault$f(WebSocketReadyState);class DefaultWebSocketAdapter{constructor(ns){this.logger=ns}create(ns,rs,is){this.connection=new WebSocket(is?ns:Versioning_1$3.default.urlWithVersion(ns),rs),this.connection.binaryType="arraybuffer"}send(ns){if(!this.connection)return this.logger.error("WebSocket not yet created or already destroyed."),!1;try{return ns instanceof Uint8Array?this.connection.send(ns.buffer):this.connection.send(ns),!0}catch(rs){return this.logger.debug(()=>"send error: ".concat(rs.message,", websocket state=").concat(WebSocketReadyState_1$1.default[this.readyState()])),!1}}close(ns,rs){var is;(is=this.connection)===null||is===void 0||is.close(ns,rs)}destroy(){this.connection=void 0}addEventListener(ns,rs){if(!this.connection){this.logger.warn("Cannot add event listener with no WebSocket connection.");return}this.connection.addEventListener(ns,rs)}removeEventListener(ns,rs){var is;(is=this.connection)===null||is===void 0||is.removeEventListener(ns,rs)}readyState(){if(!this.connection)return WebSocketReadyState_1$1.default.None;switch(this.connection.readyState){case WebSocket.CONNECTING:return WebSocketReadyState_1$1.default.Connecting;case WebSocket.OPEN:return WebSocketReadyState_1$1.default.Open;case WebSocket.CLOSING:return WebSocketReadyState_1$1.default.Closing;case WebSocket.CLOSED:return WebSocketReadyState_1$1.default.Closed}}}DefaultWebSocketAdapter$1.default=DefaultWebSocketAdapter;var hasRequiredDefaultMeetingSession;function requireDefaultMeetingSession(){if(hasRequiredDefaultMeetingSession)return DefaultMeetingSession;hasRequiredDefaultMeetingSession=1;var ts=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(gs,ys,vs,bs){function Ss($s){return $s instanceof vs?$s:new vs(function(Cs){Cs($s)})}return new(vs||(vs=Promise))(function($s,Cs){function Es(ks){try{ws(bs.next(ks))}catch(Is){Cs(Is)}}function xs(ks){try{ws(bs.throw(ks))}catch(Is){Cs(Is)}}function ws(ks){ks.done?$s(ks.value):Ss(ks.value).then(Es,xs)}ws((bs=bs.apply(gs,ys||[])).next())})},ns=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(gs){return gs&&gs.__esModule?gs:{default:gs}};Object.defineProperty(DefaultMeetingSession,"__esModule",{value:!0});const rs=ns(requireDefaultAudioVideoController()),is=ns(DefaultAudioVideoFacade$1),os=ns(FullJitterBackoff$1),ss=ns(DefaultBrowserBehavior$1),as=ns(ContentShareMediaStreamBroker$1),ls=ns(DefaultContentShareController$1),cs=ns(CSPMonitor$1),us=Destroyable,ds=ns(DefaultEventController$1),ps=ns(DefaultReconnectController$1),hs=ns(DefaultWebSocketAdapter$1);let ms=class{constructor(ys,vs,bs,Ss){this._eventController=Ss,this._configuration=ys,this._logger=vs,this.checkBrowserSupportAndFeatureConfiguration(),cs.default.addLogger(this._logger),cs.default.register(),this._eventController||(this._eventController=new ds.default(ys,vs)),bs.eventController||(bs.eventController=this.eventController),this.audioVideoController=new rs.default(this._configuration,this._logger,new hs.default(this._logger),bs,new ps.default(this._configuration.reconnectTimeoutMs,new os.default(this._configuration.reconnectFixedWaitMs,this._configuration.reconnectShortBackOffMs,this._configuration.reconnectLongBackOffMs)),this.eventController),this._deviceController=bs,this.logger.info("MeetingFeatures: ".concat(JSON.stringify(ys.meetingFeatures)));const $s=new as.default(this._logger);this.contentShareController=new ls.default($s,new rs.default(ls.default.createContentShareMeetingSessionConfigure(this._configuration),this._logger,new hs.default(this._logger),$s,new ps.default(this._configuration.reconnectTimeoutMs,new os.default(this._configuration.reconnectFixedWaitMs,this._configuration.reconnectShortBackOffMs,this._configuration.reconnectLongBackOffMs))),this.audioVideoController),this.audioVideoFacade=new is.default(this.audioVideoController,this.audioVideoController.videoTileController,this.audioVideoController.realtimeController,this.audioVideoController.audioMixController,this._deviceController,this.contentShareController)}get configuration(){return this._configuration}get logger(){return this._logger}get audioVideo(){return this.audioVideoFacade}get contentShare(){return this.contentShareController}get deviceController(){return this._deviceController}get eventController(){return this._eventController}destroy(){return ts(this,void 0,void 0,function*(){us.isDestroyable(this.contentShareController)&&(yield this.contentShareController.destroy()),us.isDestroyable(this.audioVideoController)&&(yield this.audioVideoController.destroy()),us.isDestroyable(this.eventController)&&(yield this.eventController.destroy()),cs.default.removeLogger(this._logger),this._logger=void 0,this._configuration=void 0,this._deviceController=void 0,this.audioVideoFacade=void 0,this.audioVideoController=void 0,this.contentShareController=void 0,this._eventController=void 0})}checkBrowserSupportAndFeatureConfiguration(){const ys=new ss.default,vs="".concat(ys.name()," ").concat(ys.majorVersion()," (").concat(ys.version(),")");if(this.logger.info("browser is ".concat(vs)),ys.isSupported()||this.logger.warn("this browser is not currently supported. Stability may suffer. "+"Supported browsers are: ".concat(ys.supportString(),".")),this._configuration.videoUplinkBandwidthPolicy)if(this.isSimulcastUplinkPolicy(this._configuration.videoUplinkBandwidthPolicy)){if(!ys.hasChromiumWebRTC())throw new Error("Simulcast is only supported on Chromium-based browsers");this._configuration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers=!0}else this._configuration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers=!1;this._configuration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers&&(ys.hasChromiumWebRTC()?this.logger.info("Simulcast is enabled for ".concat(ys.name())):(this._configuration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers=!1,this.logger.info("Simulcast is only supported on Chromium-based browsers")),this._configuration.enableSVC&&(this._configuration.enableSVC=!1,this.logger.info("SVC is not successfully enabled since simulcast is enabled"))),this._configuration.enableSVC&&!ys.supportsScalableVideoCoding()&&(this._configuration.enableSVC=!1,this.logger.info("SVC is only supported on Chromium-based browsers with version 111 or above"))}isSimulcastUplinkPolicy(ys){return!!(ys&&ys.addObserver)}};return DefaultMeetingSession.default=ms,DefaultMeetingSession}var DefaultMessagingSession$1={};const getHttpHandlerExtensionConfiguration=ts=>{let ns=ts.httpHandler;return{setHttpHandler(rs){ns=rs},httpHandler(){return ns},updateHttpClientConfig(rs,is){ns.updateHttpClientConfig(rs,is)},httpHandlerConfigs(){return ns.httpHandlerConfigs()}}},resolveHttpHandlerRuntimeConfig=ts=>({httpHandler:ts.httpHandler()});var HttpAuthLocation;(function(ts){ts.HEADER="header",ts.QUERY="query"})(HttpAuthLocation||(HttpAuthLocation={}));var HttpApiKeyAuthLocation;(function(ts){ts.HEADER="header",ts.QUERY="query"})(HttpApiKeyAuthLocation||(HttpApiKeyAuthLocation={}));var EndpointURLScheme;(function(ts){ts.HTTP="http",ts.HTTPS="https"})(EndpointURLScheme||(EndpointURLScheme={}));var AlgorithmId;(function(ts){ts.MD5="md5",ts.CRC32="crc32",ts.CRC32C="crc32c",ts.SHA1="sha1",ts.SHA256="sha256"})(AlgorithmId||(AlgorithmId={}));var FieldPosition;(function(ts){ts[ts.HEADER=0]="HEADER",ts[ts.TRAILER=1]="TRAILER"})(FieldPosition||(FieldPosition={}));const SMITHY_CONTEXT_KEY="__smithy_context";var IniSectionType;(function(ts){ts.PROFILE="profile",ts.SSO_SESSION="sso-session",ts.SERVICES="services"})(IniSectionType||(IniSectionType={}));var RequestHandlerProtocol;(function(ts){ts.HTTP_0_9="http/0.9",ts.HTTP_1_0="http/1.0",ts.TDS_8_0="tds/8.0"})(RequestHandlerProtocol||(RequestHandlerProtocol={}));class HttpRequest{constructor(ns){this.method=ns.method||"GET",this.hostname=ns.hostname||"localhost",this.port=ns.port,this.query=ns.query||{},this.headers=ns.headers||{},this.body=ns.body,this.protocol=ns.protocol?ns.protocol.slice(-1)!==":"?"".concat(ns.protocol,":"):ns.protocol:"https:",this.path=ns.path?ns.path.charAt(0)!=="/"?"/".concat(ns.path):ns.path:"/",this.username=ns.username,this.password=ns.password,this.fragment=ns.fragment}static clone(ns){const rs=new HttpRequest({...ns,headers:{...ns.headers}});return rs.query&&(rs.query=cloneQuery(rs.query)),rs}static isInstance(ns){if(!ns)return!1;const rs=ns;return"method"in rs&&"protocol"in rs&&"hostname"in rs&&"path"in rs&&typeof rs.query=="object"&&typeof rs.headers=="object"}clone(){return HttpRequest.clone(this)}}function cloneQuery(ts){return Object.keys(ts).reduce((ns,rs)=>{const is=ts[rs];return{...ns,[rs]:Array.isArray(is)?[...is]:is}},{})}class HttpResponse{constructor(ns){this.statusCode=ns.statusCode,this.reason=ns.reason,this.headers=ns.headers||{},this.body=ns.body}static isInstance(ns){if(!ns)return!1;const rs=ns;return typeof rs.statusCode=="number"&&typeof rs.headers=="object"}}function resolveHostHeaderConfig(ts){return ts}const hostHeaderMiddleware=ts=>ns=>async rs=>{if(!HttpRequest.isInstance(rs.request))return ns(rs);const{request:is}=rs,{handlerProtocol:os=""}=ts.requestHandler.metadata||{};if(os.indexOf("h2")>=0&&!is.headers[":authority"])delete is.headers.host,is.headers[":authority"]=is.hostname+(is.port?":"+is.port:"");else if(!is.headers.host){let ss=is.hostname;is.port!=null&&(ss+=":".concat(is.port)),is.headers.host=ss}return ns(rs)},hostHeaderMiddlewareOptions={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},getHostHeaderPlugin=ts=>({applyToStack:ns=>{ns.add(hostHeaderMiddleware(ts),hostHeaderMiddlewareOptions)}}),loggerMiddleware=()=>(ts,ns)=>async rs=>{var is,os;try{const ss=await ts(rs),{clientName:as,commandName:ls,logger:cs,dynamoDbDocumentClientOptions:us={}}=ns,{overrideInputFilterSensitiveLog:ds,overrideOutputFilterSensitiveLog:ps}=us,hs=ds!=null?ds:ns.inputFilterSensitiveLog,ms=ps!=null?ps:ns.outputFilterSensitiveLog,{$metadata:gs,...ys}=ss.output;return(is=cs==null?void 0:cs.info)==null||is.call(cs,{clientName:as,commandName:ls,input:hs(rs.input),output:ms(ys),metadata:gs}),ss}catch(ss){const{clientName:as,commandName:ls,logger:cs,dynamoDbDocumentClientOptions:us={}}=ns,{overrideInputFilterSensitiveLog:ds}=us,ps=ds!=null?ds:ns.inputFilterSensitiveLog;throw(os=cs==null?void 0:cs.error)==null||os.call(cs,{clientName:as,commandName:ls,input:ps(rs.input),error:ss,metadata:ss.$metadata}),ss}},loggerMiddlewareOptions={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},getLoggerPlugin=ts=>({applyToStack:ns=>{ns.add(loggerMiddleware(),loggerMiddlewareOptions)}}),TRACE_ID_HEADER_NAME="X-Amzn-Trace-Id",ENV_LAMBDA_FUNCTION_NAME="AWS_LAMBDA_FUNCTION_NAME",ENV_TRACE_ID="_X_AMZN_TRACE_ID",recursionDetectionMiddleware=ts=>ns=>async rs=>{const{request:is}=rs;if(!HttpRequest.isInstance(is)||ts.runtime!=="node"||is.headers.hasOwnProperty(TRACE_ID_HEADER_NAME))return ns(rs);const os={TERM_PROGRAM:"vscode",NODE:"/usr/local/bin/node",ANDROID_HOME:"/Users/mauko/Library/Android/sdk",SHELL:"/bin/zsh",TERM:"xterm-256color",TMPDIR:"/var/folders/tj/kmmwgxxx4jjcnprg4ln4fb4m0000gp/T/",TERM_PROGRAM_VERSION:"1.93.1",MallocNanoZone:"0",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",ZDOTDIR:"/Users/mauko",ZSH:"/Users/mauko/.oh-my-zsh",npm_config_local_prefix:"/Users/mauko/Projects/Edwin/otter/packages/telemed-intake/app/",USER:"mauko",LS_COLORS:"di=1;36:ln=35:so=32:pi=33:ex=31:bd=34;46:cd=34;43:su=30;41:sg=30;46:tw=30;42:ow=30;43",COMMAND_MODE:"unix2003",CHROME_EXECUTABLE:"/Applications/Opera.app/Contents/MacOS/Opera",SSH_AUTH_SOCK:"/private/tmp/com.apple.launchd.nnqjh72rzb/Listeners",__CF_USER_TEXT_ENCODING:"0x1F6:0x0:0x0",npm_execpath:"/usr/local/Cellar/bun/1.1.27/bin/bun",PAGER:"less",LSCOLORS:"Gxfxcxdxbxegedabagacad",PATH:"/Users/mauko/Projects/Edwin/otter/packages/telemed-intake/app/node_modules/.bin:/Users/mauko/Projects/Edwin/otter/packages/telemed-intake/app/node_modules/.bin:/Users/mauko/Projects/Edwin/otter/packages/telemed-intake/node_modules/.bin:/Users/mauko/Projects/Edwin/otter/packages/node_modules/.bin:/Users/mauko/Projects/Edwin/otter/node_modules/.bin:/Users/mauko/Projects/Edwin/node_modules/.bin:/Users/mauko/Projects/node_modules/.bin:/Users/mauko/node_modules/.bin:/Users/node_modules/.bin:/node_modules/.bin:/Users/mauko/.yarn/bin:/Users/mauko/.config/yarn/global/node_modules/.bin:/Users/mauko/Library/Android/sdk/platform-tools:/Users/mauko/Library/Android/sdk/tools:/Users/mauko/.bun/bin:/usr/local/Cellar/node/21.1.0/bin:/usr/local/opt/openjdk/bin:/usr/local/sbin:/Users/mauko/.rbenv/shims:/usr/local/opt/python@2/libexec/bin:/usr/local/lib/ruby/gems/3.3.0/bin:/usr/local/opt/ruby/bin:/Users/mauko/flutter/bin:/Users/mauko/.pyenv/shims:/usr/local/bin:/System/Cryptexes/App/usr/bin:/usr/bin:/bin:/usr/sbin:/sbin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/local/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/appleinternal/bin:/Library/Apple/usr/bin:/Users/mauko/.yarn/bin:/Users/mauko/.config/yarn/global/node_modules/.bin:/Users/mauko/Library/Android/sdk/platform-tools:/Users/mauko/Library/Android/sdk/tools:/Users/mauko/.bun/bin:/usr/local/Cellar/node/21.1.0/bin:/usr/local/opt/openjdk/bin:/usr/local/sbin:/Users/mauko/.rbenv/shims:/usr/local/opt/python@2/libexec/bin:/usr/local/lib/ruby/gems/3.3.0/bin:/usr/local/opt/ruby/bin:/Users/mauko/flutter/bin:/Users/mauko/.cargo/bin:/Users/mauko/.orbstack/bin:/Users/mauko/.composer/vendor/bin:/Users/mauko/.pub-cache/bin:/Users/mauko/Library/Android/sdk/emulator:/opt/homebrew/opt/postgresql@15/bin:/Users/mauko/.orbstack/bin:/Users/mauko/.composer/vendor/bin:/Users/mauko/.pub-cache/bin:/Users/mauko/Library/Android/sdk/emulator:/opt/homebrew/opt/postgresql@15/bin",npm_package_json:"/Users/mauko/Projects/Edwin/otter/packages/telemed-intake/app/package.json",__CFBundleIdentifier:"com.microsoft.VSCode",USER_ZDOTDIR:"/Users/mauko",PWD:"/Users/mauko/Projects/Edwin/otter/packages/telemed-intake/app",npm_lifecycle_event:"build",LANG:"en_US.UTF-8",npm_package_name:"telemed-intake-app",NODE_PATH:"/Users/mauko/Projects/Edwin/otter/node_modules/.pnpm/vite@4.5.3_@types+node@18.19.42_terser@5.31.3/node_modules/vite/bin/node_modules:/Users/mauko/Projects/Edwin/otter/node_modules/.pnpm/vite@4.5.3_@types+node@18.19.42_terser@5.31.3/node_modules/vite/node_modules:/Users/mauko/Projects/Edwin/otter/node_modules/.pnpm/vite@4.5.3_@types+node@18.19.42_terser@5.31.3/node_modules:/Users/mauko/Projects/Edwin/otter/node_modules/.pnpm/node_modules",XPC_FLAGS:"0x0",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"",NODE_ENV:"production",RBENV_SHELL:"zsh",XPC_SERVICE_NAME:"0",npm_package_version:"0.7.0",VSCODE_INJECTION:"1",HOME:"/Users/mauko",SHLVL:"2",VSCODE_GIT_ASKPASS_MAIN:"/Applications/Visual Studio Code.app/Contents/Resources/app/extensions/git/dist/askpass-main.js",LOGNAME:"mauko",LESS:"-R",VSCODE_GIT_IPC_HANDLE:"/var/folders/tj/kmmwgxxx4jjcnprg4ln4fb4m0000gp/T/vscode-git-7a782488e5.sock",BUN_INSTALL:"/Users/mauko/.bun",npm_config_user_agent:"bun/1.1.27 npm/? node/v22.6.0 darwin x64",GIT_ASKPASS:"/Applications/Visual Studio Code.app/Contents/Resources/app/extensions/git/dist/askpass.sh",VSCODE_GIT_ASKPASS_NODE:"/Applications/Visual Studio Code.app/Contents/Frameworks/Code Helper (Plugin).app/Contents/MacOS/Code Helper (Plugin)",COLORTERM:"truecolor",npm_node_execpath:"/usr/local/bin/node",VITE_USER_NODE_ENV:"development",SENTRY_PIPELINE:"vite-plugin/2.21.1"}[ENV_LAMBDA_FUNCTION_NAME],ss={TERM_PROGRAM:"vscode",NODE:"/usr/local/bin/node",ANDROID_HOME:"/Users/mauko/Library/Android/sdk",SHELL:"/bin/zsh",TERM:"xterm-256color",TMPDIR:"/var/folders/tj/kmmwgxxx4jjcnprg4ln4fb4m0000gp/T/",TERM_PROGRAM_VERSION:"1.93.1",MallocNanoZone:"0",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",ZDOTDIR:"/Users/mauko",ZSH:"/Users/mauko/.oh-my-zsh",npm_config_local_prefix:"/Users/mauko/Projects/Edwin/otter/packages/telemed-intake/app/",USER:"mauko",LS_COLORS:"di=1;36:ln=35:so=32:pi=33:ex=31:bd=34;46:cd=34;43:su=30;41:sg=30;46:tw=30;42:ow=30;43",COMMAND_MODE:"unix2003",CHROME_EXECUTABLE:"/Applications/Opera.app/Contents/MacOS/Opera",SSH_AUTH_SOCK:"/private/tmp/com.apple.launchd.nnqjh72rzb/Listeners",__CF_USER_TEXT_ENCODING:"0x1F6:0x0:0x0",npm_execpath:"/usr/local/Cellar/bun/1.1.27/bin/bun",PAGER:"less",LSCOLORS:"Gxfxcxdxbxegedabagacad",PATH:"/Users/mauko/Projects/Edwin/otter/packages/telemed-intake/app/node_modules/.bin:/Users/mauko/Projects/Edwin/otter/packages/telemed-intake/app/node_modules/.bin:/Users/mauko/Projects/Edwin/otter/packages/telemed-intake/node_modules/.bin:/Users/mauko/Projects/Edwin/otter/packages/node_modules/.bin:/Users/mauko/Projects/Edwin/otter/node_modules/.bin:/Users/mauko/Projects/Edwin/node_modules/.bin:/Users/mauko/Projects/node_modules/.bin:/Users/mauko/node_modules/.bin:/Users/node_modules/.bin:/node_modules/.bin:/Users/mauko/.yarn/bin:/Users/mauko/.config/yarn/global/node_modules/.bin:/Users/mauko/Library/Android/sdk/platform-tools:/Users/mauko/Library/Android/sdk/tools:/Users/mauko/.bun/bin:/usr/local/Cellar/node/21.1.0/bin:/usr/local/opt/openjdk/bin:/usr/local/sbin:/Users/mauko/.rbenv/shims:/usr/local/opt/python@2/libexec/bin:/usr/local/lib/ruby/gems/3.3.0/bin:/usr/local/opt/ruby/bin:/Users/mauko/flutter/bin:/Users/mauko/.pyenv/shims:/usr/local/bin:/System/Cryptexes/App/usr/bin:/usr/bin:/bin:/usr/sbin:/sbin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/local/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/appleinternal/bin:/Library/Apple/usr/bin:/Users/mauko/.yarn/bin:/Users/mauko/.config/yarn/global/node_modules/.bin:/Users/mauko/Library/Android/sdk/platform-tools:/Users/mauko/Library/Android/sdk/tools:/Users/mauko/.bun/bin:/usr/local/Cellar/node/21.1.0/bin:/usr/local/opt/openjdk/bin:/usr/local/sbin:/Users/mauko/.rbenv/shims:/usr/local/opt/python@2/libexec/bin:/usr/local/lib/ruby/gems/3.3.0/bin:/usr/local/opt/ruby/bin:/Users/mauko/flutter/bin:/Users/mauko/.cargo/bin:/Users/mauko/.orbstack/bin:/Users/mauko/.composer/vendor/bin:/Users/mauko/.pub-cache/bin:/Users/mauko/Library/Android/sdk/emulator:/opt/homebrew/opt/postgresql@15/bin:/Users/mauko/.orbstack/bin:/Users/mauko/.composer/vendor/bin:/Users/mauko/.pub-cache/bin:/Users/mauko/Library/Android/sdk/emulator:/opt/homebrew/opt/postgresql@15/bin",npm_package_json:"/Users/mauko/Projects/Edwin/otter/packages/telemed-intake/app/package.json",__CFBundleIdentifier:"com.microsoft.VSCode",USER_ZDOTDIR:"/Users/mauko",PWD:"/Users/mauko/Projects/Edwin/otter/packages/telemed-intake/app",npm_lifecycle_event:"build",LANG:"en_US.UTF-8",npm_package_name:"telemed-intake-app",NODE_PATH:"/Users/mauko/Projects/Edwin/otter/node_modules/.pnpm/vite@4.5.3_@types+node@18.19.42_terser@5.31.3/node_modules/vite/bin/node_modules:/Users/mauko/Projects/Edwin/otter/node_modules/.pnpm/vite@4.5.3_@types+node@18.19.42_terser@5.31.3/node_modules/vite/node_modules:/Users/mauko/Projects/Edwin/otter/node_modules/.pnpm/vite@4.5.3_@types+node@18.19.42_terser@5.31.3/node_modules:/Users/mauko/Projects/Edwin/otter/node_modules/.pnpm/node_modules",XPC_FLAGS:"0x0",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"",NODE_ENV:"production",RBENV_SHELL:"zsh",XPC_SERVICE_NAME:"0",npm_package_version:"0.7.0",VSCODE_INJECTION:"1",HOME:"/Users/mauko",SHLVL:"2",VSCODE_GIT_ASKPASS_MAIN:"/Applications/Visual Studio Code.app/Contents/Resources/app/extensions/git/dist/askpass-main.js",LOGNAME:"mauko",LESS:"-R",VSCODE_GIT_IPC_HANDLE:"/var/folders/tj/kmmwgxxx4jjcnprg4ln4fb4m0000gp/T/vscode-git-7a782488e5.sock",BUN_INSTALL:"/Users/mauko/.bun",npm_config_user_agent:"bun/1.1.27 npm/? node/v22.6.0 darwin x64",GIT_ASKPASS:"/Applications/Visual Studio Code.app/Contents/Resources/app/extensions/git/dist/askpass.sh",VSCODE_GIT_ASKPASS_NODE:"/Applications/Visual Studio Code.app/Contents/Frameworks/Code Helper (Plugin).app/Contents/MacOS/Code Helper (Plugin)",COLORTERM:"truecolor",npm_node_execpath:"/usr/local/bin/node",VITE_USER_NODE_ENV:"development",SENTRY_PIPELINE:"vite-plugin/2.21.1"}[ENV_TRACE_ID],as=ls=>typeof ls=="string"&&ls.length>0;return as(os)&&as(ss)&&(is.headers[TRACE_ID_HEADER_NAME]=ss),ns({...rs,request:is})},addRecursionDetectionMiddlewareOptions={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},getRecursionDetectionPlugin=ts=>({applyToStack:ns=>{ns.add(recursionDetectionMiddleware(ts),addRecursionDetectionMiddlewareOptions)}});function resolveUserAgentConfig(ts){return{...ts,customUserAgent:typeof ts.customUserAgent=="string"?[[ts.customUserAgent]]:ts.customUserAgent}}const IP_V4_REGEX=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),isIpAddress=ts=>IP_V4_REGEX.test(ts)||ts.startsWith("[")&&ts.endsWith("]"),VALID_HOST_LABEL_REGEX=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),isValidHostLabel=(ts,ns=!1)=>{if(!ns)return VALID_HOST_LABEL_REGEX.test(ts);const rs=ts.split(".");for(const is of rs)if(!isValidHostLabel(is))return!1;return!0},customEndpointFunctions={},debugId="endpoints";function toDebugString(ts){return typeof ts!="object"||ts==null?ts:"ref"in ts?"$".concat(toDebugString(ts.ref)):"fn"in ts?"".concat(ts.fn,"(").concat((ts.argv||[]).map(toDebugString).join(", "),")"):JSON.stringify(ts,null,2)}class EndpointError extends Error{constructor(ns){super(ns),this.name="EndpointError"}}const booleanEquals=(ts,ns)=>ts===ns,getAttrPathList=ts=>{const ns=ts.split("."),rs=[];for(const is of ns){const os=is.indexOf("[");if(os!==-1){if(is.indexOf("]")!==is.length-1)throw new EndpointError("Path: '".concat(ts,"' does not end with ']'"));const ss=is.slice(os+1,-1);if(Number.isNaN(parseInt(ss)))throw new EndpointError("Invalid array index: '".concat(ss,"' in path: '").concat(ts,"'"));os!==0&&rs.push(is.slice(0,os)),rs.push(ss)}else rs.push(is)}return rs},getAttr=(ts,ns)=>getAttrPathList(ns).reduce((rs,is)=>{if(typeof rs!="object")throw new EndpointError("Index '".concat(is,"' in '").concat(ns,"' not found in '").concat(JSON.stringify(ts),"'"));return Array.isArray(rs)?rs[parseInt(is)]:rs[is]},ts),isSet=ts=>ts!=null,not=ts=>!ts,DEFAULT_PORTS={[EndpointURLScheme.HTTP]:80,[EndpointURLScheme.HTTPS]:443},parseURL=ts=>{const ns=(()=>{try{if(ts instanceof URL)return ts;if(typeof ts=="object"&&"hostname"in ts){const{hostname:hs,port:ms,protocol:gs="",path:ys="",query:vs={}}=ts,bs=new URL("".concat(gs,"//").concat(hs).concat(ms?":".concat(ms):"").concat(ys));return bs.search=Object.entries(vs).map(([Ss,$s])=>"".concat(Ss,"=").concat($s)).join("&"),bs}return new URL(ts)}catch{return null}})();if(!ns)return console.error("Unable to parse ".concat(JSON.stringify(ts)," as a whatwg URL.")),null;const rs=ns.href,{host:is,hostname:os,pathname:ss,protocol:as,search:ls}=ns;if(ls)return null;const cs=as.slice(0,-1);if(!Object.values(EndpointURLScheme).includes(cs))return null;const us=isIpAddress(os),ds=rs.includes("".concat(is,":").concat(DEFAULT_PORTS[cs]))||typeof ts=="string"&&ts.includes("".concat(is,":").concat(DEFAULT_PORTS[cs])),ps="".concat(is).concat(ds?":".concat(DEFAULT_PORTS[cs]):"");return{scheme:cs,authority:ps,path:ss,normalizedPath:ss.endsWith("/")?ss:"".concat(ss,"/"),isIp:us}},stringEquals=(ts,ns)=>ts===ns,substring=(ts,ns,rs,is)=>ns>=rs||ts.length<rs?null:is?ts.substring(ts.length-rs,ts.length-ns):ts.substring(ns,rs),uriEncode=ts=>encodeURIComponent(ts).replace(/[!*'()]/g,ns=>"%".concat(ns.charCodeAt(0).toString(16).toUpperCase())),endpointFunctions={booleanEquals,getAttr,isSet,isValidHostLabel,not,parseURL,stringEquals,substring,uriEncode},evaluateTemplate=(ts,ns)=>{const rs=[],is={...ns.endpointParams,...ns.referenceRecord};let os=0;for(;os<ts.length;){const ss=ts.indexOf("{",os);if(ss===-1){rs.push(ts.slice(os));break}rs.push(ts.slice(os,ss));const as=ts.indexOf("}",ss);if(as===-1){rs.push(ts.slice(ss));break}ts[ss+1]==="{"&&ts[as+1]==="}"&&(rs.push(ts.slice(ss+1,as)),os=as+2);const ls=ts.substring(ss+1,as);if(ls.includes("#")){const[cs,us]=ls.split("#");rs.push(getAttr(is[cs],us))}else rs.push(is[ls]);os=as+1}return rs.join("")},getReferenceValue=({ref:ts},ns)=>({...ns.endpointParams,...ns.referenceRecord})[ts],evaluateExpression=(ts,ns,rs)=>{if(typeof ts=="string")return evaluateTemplate(ts,rs);if(ts.fn)return callFunction(ts,rs);if(ts.ref)return getReferenceValue(ts,rs);throw new EndpointError("'".concat(ns,"': ").concat(String(ts)," is not a string, function or reference."))},callFunction=({fn:ts,argv:ns},rs)=>{const is=ns.map(ss=>["boolean","number"].includes(typeof ss)?ss:evaluateExpression(ss,"arg",rs)),os=ts.split(".");return os[0]in customEndpointFunctions&&os[1]!=null?customEndpointFunctions[os[0]][os[1]](...is):endpointFunctions[ts](...is)},evaluateCondition=({assign:ts,...ns},rs)=>{var os,ss;if(ts&&ts in rs.referenceRecord)throw new EndpointError("'".concat(ts,"' is already defined in Reference Record."));const is=callFunction(ns,rs);return(ss=(os=rs.logger)==null?void 0:os.debug)==null||ss.call(os,"".concat(debugId," evaluateCondition: ").concat(toDebugString(ns)," = ").concat(toDebugString(is))),{result:is===""?!0:!!is,...ts!=null&&{toAssign:{name:ts,value:is}}}},evaluateConditions=(ts=[],ns)=>{var is,os;const rs={};for(const ss of ts){const{result:as,toAssign:ls}=evaluateCondition(ss,{...ns,referenceRecord:{...ns.referenceRecord,...rs}});if(!as)return{result:as};ls&&(rs[ls.name]=ls.value,(os=(is=ns.logger)==null?void 0:is.debug)==null||os.call(is,"".concat(debugId," assign: ").concat(ls.name," := ").concat(toDebugString(ls.value))))}return{result:!0,referenceRecord:rs}},getEndpointHeaders=(ts,ns)=>Object.entries(ts).reduce((rs,[is,os])=>({...rs,[is]:os.map(ss=>{const as=evaluateExpression(ss,"Header value entry",ns);if(typeof as!="string")throw new EndpointError("Header '".concat(is,"' value '").concat(as,"' is not a string"));return as})}),{}),getEndpointProperty=(ts,ns)=>{if(Array.isArray(ts))return ts.map(rs=>getEndpointProperty(rs,ns));switch(typeof ts){case"string":return evaluateTemplate(ts,ns);case"object":if(ts===null)throw new EndpointError("Unexpected endpoint property: ".concat(ts));return getEndpointProperties(ts,ns);case"boolean":return ts;default:throw new EndpointError("Unexpected endpoint property type: ".concat(typeof ts))}},getEndpointProperties=(ts,ns)=>Object.entries(ts).reduce((rs,[is,os])=>({...rs,[is]:getEndpointProperty(os,ns)}),{}),getEndpointUrl=(ts,ns)=>{const rs=evaluateExpression(ts,"Endpoint URL",ns);if(typeof rs=="string")try{return new URL(rs)}catch(is){throw console.error("Failed to construct URL with ".concat(rs),is),is}throw new EndpointError("Endpoint URL must be a string, got ".concat(typeof rs))},evaluateEndpointRule=(ts,ns)=>{var ds,ps;const{conditions:rs,endpoint:is}=ts,{result:os,referenceRecord:ss}=evaluateConditions(rs,ns);if(!os)return;const as={...ns,referenceRecord:{...ns.referenceRecord,...ss}},{url:ls,properties:cs,headers:us}=is;return(ps=(ds=ns.logger)==null?void 0:ds.debug)==null||ps.call(ds,"".concat(debugId," Resolving endpoint from template: ").concat(toDebugString(is))),{...us!=null&&{headers:getEndpointHeaders(us,as)},...cs!=null&&{properties:getEndpointProperties(cs,as)},url:getEndpointUrl(ls,as)}},evaluateErrorRule=(ts,ns)=>{const{conditions:rs,error:is}=ts,{result:os,referenceRecord:ss}=evaluateConditions(rs,ns);if(os)throw new EndpointError(evaluateExpression(is,"Error",{...ns,referenceRecord:{...ns.referenceRecord,...ss}}))},evaluateTreeRule=(ts,ns)=>{const{conditions:rs,rules:is}=ts,{result:os,referenceRecord:ss}=evaluateConditions(rs,ns);if(os)return evaluateRules(is,{...ns,referenceRecord:{...ns.referenceRecord,...ss}})},evaluateRules=(ts,ns)=>{for(const rs of ts)if(rs.type==="endpoint"){const is=evaluateEndpointRule(rs,ns);if(is)return is}else if(rs.type==="error")evaluateErrorRule(rs,ns);else if(rs.type==="tree"){const is=evaluateTreeRule(rs,ns);if(is)return is}else throw new EndpointError("Unknown endpoint rule: ".concat(rs));throw new EndpointError("Rules evaluation failed")},resolveEndpoint=(ts,ns)=>{var us,ds,ps,hs,ms,gs;const{endpointParams:rs,logger:is}=ns,{parameters:os,rules:ss}=ts;(ds=(us=ns.logger)==null?void 0:us.debug)==null||ds.call(us,"".concat(debugId," Initial EndpointParams: ").concat(toDebugString(rs)));const as=Object.entries(os).filter(([,ys])=>ys.default!=null).map(([ys,vs])=>[ys,vs.default]);if(as.length>0)for(const[ys,vs]of as)rs[ys]=(ps=rs[ys])!=null?ps:vs;const ls=Object.entries(os).filter(([,ys])=>ys.required).map(([ys])=>ys);for(const ys of ls)if(rs[ys]==null)throw new EndpointError("Missing required parameter: '".concat(ys,"'"));const cs=evaluateRules(ss,{endpointParams:rs,logger:is,referenceRecord:{}});if((hs=ns.endpointParams)!=null&&hs.Endpoint)try{const ys=new URL(ns.endpointParams.Endpoint),{protocol:vs,port:bs}=ys;cs.url.protocol=vs,cs.url.port=bs}catch{}return(gs=(ms=ns.logger)==null?void 0:ms.debug)==null||gs.call(ms,"".concat(debugId," Resolved endpoint: ").concat(toDebugString(cs))),cs},isVirtualHostableS3Bucket=(ts,ns=!1)=>{if(ns){for(const rs of ts.split("."))if(!isVirtualHostableS3Bucket(rs))return!1;return!0}return!(!isValidHostLabel(ts)||ts.length<3||ts.length>63||ts!==ts.toLowerCase()||isIpAddress(ts))},parseArn=ts=>{const ns=ts.split(":");if(ns.length<6)return null;const[rs,is,os,ss,as,...ls]=ns;return rs!=="arn"||is===""||os===""||ls[0]===""?null:{partition:is,service:os,region:ss,accountId:as,resourceId:ls[0].includes("/")?ls[0].split("/"):ls}},partitions=[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"aws-global":{description:"AWS Standard global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"AWS China global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"AWS GovCloud (US) global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"c2s.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"AWS ISO (US) global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"sc2s.sgov.gov",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"AWS ISOB (US) global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"cloud.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"csp.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{}}],version$1="1.1",partitionsInfo={partitions,version:version$1};let selectedPartitionsInfo=partitionsInfo;const partition=ts=>{const{partitions:ns}=selectedPartitionsInfo;for(const is of ns){const{regions:os,outputs:ss}=is;for(const[as,ls]of Object.entries(os))if(as===ts)return{...ss,...ls}}for(const is of ns){const{regionRegex:os,outputs:ss}=is;if(new RegExp(os).test(ts))return{...ss}}const rs=ns.find(is=>is.id==="aws");if(!rs)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...rs.outputs}},awsEndpointFunctions={isVirtualHostableS3Bucket,parseArn,partition};customEndpointFunctions.aws=awsEndpointFunctions;const USER_AGENT="user-agent",X_AMZ_USER_AGENT="x-amz-user-agent",SPACE=" ",UA_NAME_SEPARATOR="/",UA_NAME_ESCAPE_REGEX=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,UA_VALUE_ESCAPE_REGEX=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,UA_ESCAPE_CHAR="-",userAgentMiddleware=ts=>(ns,rs)=>async is=>{var ps,hs;const{request:os}=is;if(!HttpRequest.isInstance(os))return ns(is);const{headers:ss}=os,as=((ps=rs==null?void 0:rs.userAgent)==null?void 0:ps.map(escapeUserAgent))||[],ls=(await ts.defaultUserAgentProvider()).map(escapeUserAgent),cs=((hs=ts==null?void 0:ts.customUserAgent)==null?void 0:hs.map(escapeUserAgent))||[],us=[].concat([...ls,...as,...cs]).join(SPACE),ds=[...ls.filter(ms=>ms.startsWith("aws-sdk-")),...cs].join(SPACE);return ts.runtime!=="browser"?(ds&&(ss[X_AMZ_USER_AGENT]=ss[X_AMZ_USER_AGENT]?"".concat(ss[USER_AGENT]," ").concat(ds):ds),ss[USER_AGENT]=us):ss[X_AMZ_USER_AGENT]=us,ns({...is,request:os})},escapeUserAgent=ts=>{var as;const ns=ts[0].split(UA_NAME_SEPARATOR).map(ls=>ls.replace(UA_NAME_ESCAPE_REGEX,UA_ESCAPE_CHAR)).join(UA_NAME_SEPARATOR),rs=(as=ts[1])==null?void 0:as.replace(UA_VALUE_ESCAPE_REGEX,UA_ESCAPE_CHAR),is=ns.indexOf(UA_NAME_SEPARATOR),os=ns.substring(0,is);let ss=ns.substring(is+1);return os==="api"&&(ss=ss.toLowerCase()),[os,ss,rs].filter(ls=>ls&&ls.length>0).reduce((ls,cs,us)=>{switch(us){case 0:return cs;case 1:return"".concat(ls,"/").concat(cs);default:return"".concat(ls,"#").concat(cs)}},"")},getUserAgentMiddlewareOptions={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},getUserAgentPlugin=ts=>({applyToStack:ns=>{ns.add(userAgentMiddleware(ts),getUserAgentMiddlewareOptions)}});var SelectorType;(function(ts){ts.ENV="env",ts.CONFIG="shared config entry"})(SelectorType||(SelectorType={}));const DEFAULT_USE_DUALSTACK_ENDPOINT=!1,DEFAULT_USE_FIPS_ENDPOINT=!1,getSmithyContext=ts=>ts[SMITHY_CONTEXT_KEY]||(ts[SMITHY_CONTEXT_KEY]={}),normalizeProvider$1=ts=>{if(typeof ts=="function")return ts;const ns=Promise.resolve(ts);return()=>ns},isFipsRegion=ts=>typeof ts=="string"&&(ts.startsWith("fips-")||ts.endsWith("-fips")),getRealRegion=ts=>isFipsRegion(ts)?["fips-aws-global","aws-fips"].includes(ts)?"us-east-1":ts.replace(/fips-(dkr-|prod-)?|-fips/,""):ts,resolveRegionConfig=ts=>{const{region:ns,useFipsEndpoint:rs}=ts;if(!ns)throw new Error("Region is missing");return{...ts,region:async()=>{if(typeof ns=="string")return getRealRegion(ns);const is=await ns();return getRealRegion(is)},useFipsEndpoint:async()=>{const is=typeof ns=="string"?ns:await ns();return isFipsRegion(is)?!0:typeof rs!="function"?Promise.resolve(!!rs):rs()}}};function convertHttpAuthSchemesToMap(ts){const ns=new Map;for(const rs of ts)ns.set(rs.schemeId,rs);return ns}const httpAuthSchemeMiddleware=(ts,ns)=>(rs,is)=>async os=>{var us;const ss=ts.httpAuthSchemeProvider(await ns.httpAuthSchemeParametersProvider(ts,is,os.input)),as=convertHttpAuthSchemesToMap(ts.httpAuthSchemes),ls=getSmithyContext(is),cs=[];for(const ds of ss){const ps=as.get(ds.schemeId);if(!ps){cs.push("HttpAuthScheme `".concat(ds.schemeId,"` was not enabled for this service."));continue}const hs=ps.identityProvider(await ns.identityProviderConfigProvider(ts));if(!hs){cs.push("HttpAuthScheme `".concat(ds.schemeId,"` did not have an IdentityProvider configured."));continue}const{identityProperties:ms={},signingProperties:gs={}}=((us=ds.propertiesExtractor)==null?void 0:us.call(ds,ts,is))||{};ds.identityProperties=Object.assign(ds.identityProperties||{},ms),ds.signingProperties=Object.assign(ds.signingProperties||{},gs),ls.selectedHttpAuthScheme={httpAuthOption:ds,identity:await hs(ds.identityProperties),signer:ps.signer};break}if(!ls.selectedHttpAuthScheme)throw new Error(cs.join("\n"));return rs(os)},resolveParamsForS3=async ts=>{const ns=(ts==null?void 0:ts.Bucket)||"";if(typeof ts.Bucket=="string"&&(ts.Bucket=ns.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),isArnBucketName(ns)){if(ts.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!isDnsCompatibleBucketName(ns)||ns.indexOf(".")!==-1&&!String(ts.Endpoint).startsWith("http:")||ns.toLowerCase()!==ns||ns.length<3)&&(ts.ForcePathStyle=!0);return ts.DisableMultiRegionAccessPoints&&(ts.disableMultiRegionAccessPoints=!0,ts.DisableMRAP=!0),ts},DOMAIN_PATTERN=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,IP_ADDRESS_PATTERN=/(\d+\.){3}\d+/,DOTS_PATTERN=/\.\./,isDnsCompatibleBucketName=ts=>DOMAIN_PATTERN.test(ts)&&!IP_ADDRESS_PATTERN.test(ts)&&!DOTS_PATTERN.test(ts),isArnBucketName=ts=>{const[ns,rs,is,,,os]=ts.split(":"),ss=ns==="arn"&&ts.split(":").length>=6,as=!!(ss&&rs&&is&&os);if(ss&&!as)throw new Error("Invalid ARN: ".concat(ts," was an invalid ARN."));return as},createConfigValueProvider=(ts,ns,rs)=>{const is=async()=>{var ss;const os=(ss=rs[ts])!=null?ss:rs[ns];return typeof os=="function"?os():os};return ts==="credentialScope"||ns==="CredentialScope"?async()=>{var as;const os=typeof rs.credentials=="function"?await rs.credentials():rs.credentials;return(as=os==null?void 0:os.credentialScope)!=null?as:os==null?void 0:os.CredentialScope}:ts==="accountId"||ns==="AccountId"?async()=>{var as;const os=typeof rs.credentials=="function"?await rs.credentials():rs.credentials;return(as=os==null?void 0:os.accountId)!=null?as:os==null?void 0:os.AccountId}:ts==="endpoint"||ns==="endpoint"?async()=>{const os=await is();if(os&&typeof os=="object"){if("url"in os)return os.url.href;if("hostname"in os){const{protocol:ss,hostname:as,port:ls,path:cs}=os;return"".concat(ss,"//").concat(as).concat(ls?":"+ls:"").concat(cs)}}return os}:is},getEndpointFromConfig=async ts=>{};function parseQueryString(ts){const ns={};if(ts=ts.replace(/^\?/,""),ts)for(const rs of ts.split("&")){let[is,os=null]=rs.split("=");is=decodeURIComponent(is),os&&(os=decodeURIComponent(os)),is in ns?Array.isArray(ns[is])?ns[is].push(os):ns[is]=[ns[is],os]:ns[is]=os}return ns}const parseUrl=ts=>{if(typeof ts=="string")return parseUrl(new URL(ts));const{hostname:ns,pathname:rs,port:is,protocol:os,search:ss}=ts;let as;return ss&&(as=parseQueryString(ss)),{hostname:ns,port:is?parseInt(is):void 0,protocol:os,path:rs,query:as}},toEndpointV1=ts=>typeof ts=="object"?"url"in ts?parseUrl(ts.url):ts:parseUrl(ts),getEndpointFromInstructions=async(ts,ns,rs,is)=>{if(!rs.endpoint){const as=await getEndpointFromConfig(rs.serviceId||"");as&&(rs.endpoint=()=>Promise.resolve(toEndpointV1(as)))}const os=await resolveParams(ts,ns,rs);if(typeof rs.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return rs.endpointProvider(os,is)},resolveParams=async(ts,ns,rs)=>{var ss;const is={},os=((ss=ns==null?void 0:ns.getEndpointParameterInstructions)==null?void 0:ss.call(ns))||{};for(const[as,ls]of Object.entries(os))switch(ls.type){case"staticContextParams":is[as]=ls.value;break;case"contextParams":is[as]=ts[ls.name];break;case"clientContextParams":case"builtInParams":is[as]=await createConfigValueProvider(ls.name,as,rs)();break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(ls))}return Object.keys(os).length===0&&Object.assign(is,rs),String(rs.serviceId).toLowerCase()==="s3"&&await resolveParamsForS3(is),is},endpointMiddleware=({config:ts,instructions:ns})=>(rs,is)=>async os=>{var ls,cs,us;const ss=await getEndpointFromInstructions(os.input,{getEndpointParameterInstructions(){return ns}},{...ts},is);is.endpointV2=ss,is.authSchemes=(ls=ss.properties)==null?void 0:ls.authSchemes;const as=(cs=is.authSchemes)==null?void 0:cs[0];if(as){is.signing_region=as.signingRegion,is.signing_service=as.signingName;const ds=getSmithyContext(is),ps=(us=ds==null?void 0:ds.selectedHttpAuthScheme)==null?void 0:us.httpAuthOption;ps&&(ps.signingProperties=Object.assign(ps.signingProperties||{},{signing_region:as.signingRegion,signingRegion:as.signingRegion,signing_service:as.signingName,signingName:as.signingName,signingRegionSet:as.signingRegionSet},as.properties))}return rs({...os})},deserializerMiddleware=(ts,ns)=>rs=>async is=>{const{response:os}=await rs(is);try{const ss=await ns(os,ts);return{response:os,output:ss}}catch(ss){if(Object.defineProperty(ss,"$response",{value:os}),!("$metadata"in ss)){const as="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";ss.message+="\n  "+as,typeof ss.$responseBodyText<"u"&&ss.$response&&(ss.$response.body=ss.$responseBodyText)}throw ss}},serializerMiddleware=(ts,ns)=>(rs,is)=>async os=>{var ls;const ss=(ls=is.endpointV2)!=null&&ls.url&&ts.urlParser?async()=>ts.urlParser(is.endpointV2.url):ts.endpoint;if(!ss)throw new Error("No valid endpoint provider available.");const as=await ns(os.input,{...ts,endpoint:ss});return rs({...os,request:as})},deserializerMiddlewareOption={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},serializerMiddlewareOption={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function getSerdePlugin(ts,ns,rs){return{applyToStack:is=>{is.add(deserializerMiddleware(ts,rs),deserializerMiddlewareOption),is.add(serializerMiddleware(ts,ns),serializerMiddlewareOption)}}}const endpointMiddlewareOptions={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:serializerMiddlewareOption.name},getEndpointPlugin=(ts,ns)=>({applyToStack:rs=>{rs.addRelativeTo(endpointMiddleware({config:ts,instructions:ns}),endpointMiddlewareOptions)}}),resolveEndpointConfig=ts=>{var ss,as,ls;const ns=(ss=ts.tls)!=null?ss:!0,{endpoint:rs}=ts,is=rs!=null?async()=>toEndpointV1(await normalizeProvider$1(rs)()):void 0;return{...ts,endpoint:is,tls:ns,isCustomEndpoint:!!rs,useDualstackEndpoint:normalizeProvider$1((as=ts.useDualstackEndpoint)!=null?as:!1),useFipsEndpoint:normalizeProvider$1((ls=ts.useFipsEndpoint)!=null?ls:!1)}},httpAuthSchemeEndpointRuleSetMiddlewareOptions={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:endpointMiddlewareOptions.name},getHttpAuthSchemeEndpointRuleSetPlugin=(ts,{httpAuthSchemeParametersProvider:ns,identityProviderConfigProvider:rs})=>({applyToStack:is=>{is.addRelativeTo(httpAuthSchemeMiddleware(ts,{httpAuthSchemeParametersProvider:ns,identityProviderConfigProvider:rs}),httpAuthSchemeEndpointRuleSetMiddlewareOptions)}});serializerMiddlewareOption.name;const defaultErrorHandler=ts=>ns=>{throw ns},defaultSuccessHandler=(ts,ns)=>{},httpSigningMiddleware=ts=>(ns,rs)=>async is=>{if(!HttpRequest.isInstance(is.request))return ns(is);const ss=getSmithyContext(rs).selectedHttpAuthScheme;if(!ss)throw new Error("No HttpAuthScheme was selected: unable to sign request");const{httpAuthOption:{signingProperties:as={}},identity:ls,signer:cs}=ss,us=await ns({...is,request:await cs.sign(is.request,ls,as)}).catch((cs.errorHandler||defaultErrorHandler)(as));return(cs.successHandler||defaultSuccessHandler)(us.response,as),us};var RETRY_MODES;(function(ts){ts.STANDARD="standard",ts.ADAPTIVE="adaptive"})(RETRY_MODES||(RETRY_MODES={}));const DEFAULT_MAX_ATTEMPTS=3,DEFAULT_RETRY_MODE=RETRY_MODES.STANDARD,THROTTLING_ERROR_CODES=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],TRANSIENT_ERROR_CODES=["TimeoutError","RequestTimeout","RequestTimeoutException"],TRANSIENT_ERROR_STATUS_CODES=[500,502,503,504],NODEJS_TIMEOUT_ERROR_CODES=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],isClockSkewCorrectedError=ts=>{var ns;return(ns=ts.$metadata)==null?void 0:ns.clockSkewCorrected},isThrottlingError=ts=>{var ns,rs;return((ns=ts.$metadata)==null?void 0:ns.httpStatusCode)===429||THROTTLING_ERROR_CODES.includes(ts.name)||((rs=ts.$retryable)==null?void 0:rs.throttling)==!0},isTransientError=ts=>{var ns;return isClockSkewCorrectedError(ts)||TRANSIENT_ERROR_CODES.includes(ts.name)||NODEJS_TIMEOUT_ERROR_CODES.includes((ts==null?void 0:ts.code)||"")||TRANSIENT_ERROR_STATUS_CODES.includes(((ns=ts.$metadata)==null?void 0:ns.httpStatusCode)||0)},isServerError=ts=>{var ns;if(((ns=ts.$metadata)==null?void 0:ns.httpStatusCode)!==void 0){const rs=ts.$metadata.httpStatusCode;return 500<=rs&&rs<=599&&!isTransientError(ts)}return!1};class DefaultRateLimiter{constructor(ns){var is,os,ss,as,ls;this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=(is=ns==null?void 0:ns.beta)!=null?is:.7,this.minCapacity=(os=ns==null?void 0:ns.minCapacity)!=null?os:1,this.minFillRate=(ss=ns==null?void 0:ns.minFillRate)!=null?ss:.5,this.scaleConstant=(as=ns==null?void 0:ns.scaleConstant)!=null?as:.4,this.smooth=(ls=ns==null?void 0:ns.smooth)!=null?ls:.8;const rs=this.getCurrentTimeInSeconds();this.lastThrottleTime=rs,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(ns){if(this.enabled){if(this.refillTokenBucket(),ns>this.currentCapacity){const rs=(ns-this.currentCapacity)/this.fillRate*1e3;await new Promise(is=>setTimeout(is,rs))}this.currentCapacity=this.currentCapacity-ns}}refillTokenBucket(){const ns=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=ns;return}const rs=(ns-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+rs),this.lastTimestamp=ns}updateClientSendingRate(ns){let rs;if(this.updateMeasuredRate(),isThrottlingError(ns)){const os=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=os,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),rs=this.cubicThrottle(os),this.enableTokenBucket()}else this.calculateTimeWindow(),rs=this.cubicSuccess(this.getCurrentTimeInSeconds());const is=Math.min(rs,2*this.measuredTxRate);this.updateTokenBucketRate(is)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(ns){return this.getPrecise(ns*this.beta)}cubicSuccess(ns){return this.getPrecise(this.scaleConstant*Math.pow(ns-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(ns){this.refillTokenBucket(),this.fillRate=Math.max(ns,this.minFillRate),this.maxCapacity=Math.max(ns,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){const ns=this.getCurrentTimeInSeconds(),rs=Math.floor(ns*2)/2;if(this.requestCount++,rs>this.lastTxRateBucket){const is=this.requestCount/(rs-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(is*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=rs}}getPrecise(ns){return parseFloat(ns.toFixed(8))}}const DEFAULT_RETRY_DELAY_BASE=100,MAXIMUM_RETRY_DELAY=20*1e3,THROTTLING_RETRY_DELAY_BASE=500,INITIAL_RETRY_TOKENS=500,RETRY_COST=5,TIMEOUT_RETRY_COST=10,NO_RETRY_INCREMENT=1,INVOCATION_ID_HEADER="amz-sdk-invocation-id",REQUEST_HEADER="amz-sdk-request",getDefaultRetryBackoffStrategy=()=>{let ts=DEFAULT_RETRY_DELAY_BASE;return{computeNextBackoffDelay:is=>Math.floor(Math.min(MAXIMUM_RETRY_DELAY,Math.random()*2**is*ts)),setDelayBase:is=>{ts=is}}},createDefaultRetryToken=({retryDelay:ts,retryCount:ns,retryCost:rs})=>({getRetryCount:()=>ns,getRetryDelay:()=>Math.min(MAXIMUM_RETRY_DELAY,ts),getRetryCost:()=>rs});class StandardRetryStrategy{constructor(ns){this.maxAttempts=ns,this.mode=RETRY_MODES.STANDARD,this.capacity=INITIAL_RETRY_TOKENS,this.retryBackoffStrategy=getDefaultRetryBackoffStrategy(),this.maxAttemptsProvider=typeof ns=="function"?ns:async()=>ns}async acquireInitialRetryToken(ns){return createDefaultRetryToken({retryDelay:DEFAULT_RETRY_DELAY_BASE,retryCount:0})}async refreshRetryTokenForRetry(ns,rs){const is=await this.getMaxAttempts();if(this.shouldRetry(ns,rs,is)){const os=rs.errorType;this.retryBackoffStrategy.setDelayBase(os==="THROTTLING"?THROTTLING_RETRY_DELAY_BASE:DEFAULT_RETRY_DELAY_BASE);const ss=this.retryBackoffStrategy.computeNextBackoffDelay(ns.getRetryCount()),as=rs.retryAfterHint?Math.max(rs.retryAfterHint.getTime()-Date.now()||0,ss):ss,ls=this.getCapacityCost(os);return this.capacity-=ls,createDefaultRetryToken({retryDelay:as,retryCount:ns.getRetryCount()+1,retryCost:ls})}throw new Error("No retry token available")}recordSuccess(ns){var rs;this.capacity=Math.max(INITIAL_RETRY_TOKENS,this.capacity+((rs=ns.getRetryCost())!=null?rs:NO_RETRY_INCREMENT))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn("Max attempts provider could not resolve. Using default of ".concat(DEFAULT_MAX_ATTEMPTS)),DEFAULT_MAX_ATTEMPTS}}shouldRetry(ns,rs,is){return ns.getRetryCount()+1<is&&this.capacity>=this.getCapacityCost(rs.errorType)&&this.isRetryableError(rs.errorType)}getCapacityCost(ns){return ns==="TRANSIENT"?TIMEOUT_RETRY_COST:RETRY_COST}isRetryableError(ns){return ns==="THROTTLING"||ns==="TRANSIENT"}}class AdaptiveRetryStrategy{constructor(ns,rs){this.maxAttemptsProvider=ns,this.mode=RETRY_MODES.ADAPTIVE;const{rateLimiter:is}=rs!=null?rs:{};this.rateLimiter=is!=null?is:new DefaultRateLimiter,this.standardRetryStrategy=new StandardRetryStrategy(ns)}async acquireInitialRetryToken(ns){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(ns)}async refreshRetryTokenForRetry(ns,rs){return this.rateLimiter.updateClientSendingRate(rs),this.standardRetryStrategy.refreshRetryTokenForRetry(ns,rs)}recordSuccess(ns){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(ns)}}let getRandomValues$1;const rnds8$1=new Uint8Array(16);function rng$1(){if(!getRandomValues$1&&(getRandomValues$1=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!getRandomValues$1))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues$1(rnds8$1)}const byteToHex$1=[];for(let ts=0;ts<256;++ts)byteToHex$1.push((ts+256).toString(16).slice(1));function unsafeStringify(ts,ns=0){return byteToHex$1[ts[ns+0]]+byteToHex$1[ts[ns+1]]+byteToHex$1[ts[ns+2]]+byteToHex$1[ts[ns+3]]+"-"+byteToHex$1[ts[ns+4]]+byteToHex$1[ts[ns+5]]+"-"+byteToHex$1[ts[ns+6]]+byteToHex$1[ts[ns+7]]+"-"+byteToHex$1[ts[ns+8]]+byteToHex$1[ts[ns+9]]+"-"+byteToHex$1[ts[ns+10]]+byteToHex$1[ts[ns+11]]+byteToHex$1[ts[ns+12]]+byteToHex$1[ts[ns+13]]+byteToHex$1[ts[ns+14]]+byteToHex$1[ts[ns+15]]}const randomUUID=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),native={randomUUID};function v4$1(ts,ns,rs){if(native.randomUUID&&!ns&&!ts)return native.randomUUID();ts=ts||{};const is=ts.random||(ts.rng||rng$1)();if(is[6]=is[6]&15|64,is[8]=is[8]&63|128,ns){rs=rs||0;for(let os=0;os<16;++os)ns[rs+os]=is[os];return ns}return unsafeStringify(is)}const asSdkError=ts=>ts instanceof Error?ts:ts instanceof Object?Object.assign(new Error,ts):typeof ts=="string"?new Error(ts):new Error("AWS SDK error wrapper for ".concat(ts)),resolveRetryConfig=ts=>{var is;const{retryStrategy:ns}=ts,rs=normalizeProvider$1((is=ts.maxAttempts)!=null?is:DEFAULT_MAX_ATTEMPTS);return{...ts,maxAttempts:rs,retryStrategy:async()=>ns||(await normalizeProvider$1(ts.retryMode)()===RETRY_MODES.ADAPTIVE?new AdaptiveRetryStrategy(rs):new StandardRetryStrategy(rs))}};let NoOpLogger$2=class{trace(){}debug(){}info(){}warn(){}error(){}};const getAllAliases=(ts,ns)=>{const rs=[];if(ts&&rs.push(ts),ns)for(const is of ns)rs.push(is);return rs},getMiddlewareNameWithAliases=(ts,ns)=>"".concat(ts||"anonymous").concat(ns&&ns.length>0?" (a.k.a. ".concat(ns.join(","),")"):""),constructStack=()=>{let ts=[],ns=[],rs=!1;const is=new Set,os=ps=>ps.sort((hs,ms)=>stepWeights[ms.step]-stepWeights[hs.step]||priorityWeights[ms.priority||"normal"]-priorityWeights[hs.priority||"normal"]),ss=ps=>{let hs=!1;const ms=gs=>{const ys=getAllAliases(gs.name,gs.aliases);if(ys.includes(ps)){hs=!0;for(const vs of ys)is.delete(vs);return!1}return!0};return ts=ts.filter(ms),ns=ns.filter(ms),hs},as=ps=>{let hs=!1;const ms=gs=>{if(gs.middleware===ps){hs=!0;for(const ys of getAllAliases(gs.name,gs.aliases))is.delete(ys);return!1}return!0};return ts=ts.filter(ms),ns=ns.filter(ms),hs},ls=ps=>{var hs;return ts.forEach(ms=>{ps.add(ms.middleware,{...ms})}),ns.forEach(ms=>{ps.addRelativeTo(ms.middleware,{...ms})}),(hs=ps.identifyOnResolve)==null||hs.call(ps,ds.identifyOnResolve()),ps},cs=ps=>{const hs=[];return ps.before.forEach(ms=>{ms.before.length===0&&ms.after.length===0?hs.push(ms):hs.push(...cs(ms))}),hs.push(ps),ps.after.reverse().forEach(ms=>{ms.before.length===0&&ms.after.length===0?hs.push(ms):hs.push(...cs(ms))}),hs},us=(ps=!1)=>{const hs=[],ms=[],gs={};return ts.forEach(vs=>{const bs={...vs,before:[],after:[]};for(const Ss of getAllAliases(bs.name,bs.aliases))gs[Ss]=bs;hs.push(bs)}),ns.forEach(vs=>{const bs={...vs,before:[],after:[]};for(const Ss of getAllAliases(bs.name,bs.aliases))gs[Ss]=bs;ms.push(bs)}),ms.forEach(vs=>{if(vs.toMiddleware){const bs=gs[vs.toMiddleware];if(bs===void 0){if(ps)return;throw new Error("".concat(vs.toMiddleware," is not found when adding ")+"".concat(getMiddlewareNameWithAliases(vs.name,vs.aliases)," ")+"middleware ".concat(vs.relation," ").concat(vs.toMiddleware))}vs.relation==="after"&&bs.after.push(vs),vs.relation==="before"&&bs.before.push(vs)}}),os(hs).map(cs).reduce((vs,bs)=>(vs.push(...bs),vs),[])},ds={add:(ps,hs={})=>{const{name:ms,override:gs,aliases:ys}=hs,vs={step:"initialize",priority:"normal",middleware:ps,...hs},bs=getAllAliases(ms,ys);if(bs.length>0){if(bs.some(Ss=>is.has(Ss))){if(!gs)throw new Error("Duplicate middleware name '".concat(getMiddlewareNameWithAliases(ms,ys),"'"));for(const Ss of bs){const $s=ts.findIndex(Es=>{var xs;return Es.name===Ss||((xs=Es.aliases)==null?void 0:xs.some(ws=>ws===Ss))});if($s===-1)continue;const Cs=ts[$s];if(Cs.step!==vs.step||vs.priority!==Cs.priority)throw new Error('"'.concat(getMiddlewareNameWithAliases(Cs.name,Cs.aliases),'" middleware with ')+"".concat(Cs.priority," priority in ").concat(Cs.step," step cannot ")+'be overridden by "'.concat(getMiddlewareNameWithAliases(ms,ys),'" middleware with ')+"".concat(vs.priority," priority in ").concat(vs.step," step."));ts.splice($s,1)}}for(const Ss of bs)is.add(Ss)}ts.push(vs)},addRelativeTo:(ps,hs)=>{const{name:ms,override:gs,aliases:ys}=hs,vs={middleware:ps,...hs},bs=getAllAliases(ms,ys);if(bs.length>0){if(bs.some(Ss=>is.has(Ss))){if(!gs)throw new Error("Duplicate middleware name '".concat(getMiddlewareNameWithAliases(ms,ys),"'"));for(const Ss of bs){const $s=ns.findIndex(Es=>{var xs;return Es.name===Ss||((xs=Es.aliases)==null?void 0:xs.some(ws=>ws===Ss))});if($s===-1)continue;const Cs=ns[$s];if(Cs.toMiddleware!==vs.toMiddleware||Cs.relation!==vs.relation)throw new Error('"'.concat(getMiddlewareNameWithAliases(Cs.name,Cs.aliases),'" middleware ')+"".concat(Cs.relation,' "').concat(Cs.toMiddleware,'" middleware cannot be overridden ')+'by "'.concat(getMiddlewareNameWithAliases(ms,ys),'" middleware ').concat(vs.relation," ")+'"'.concat(vs.toMiddleware,'" middleware.'));ns.splice($s,1)}}for(const Ss of bs)is.add(Ss)}ns.push(vs)},clone:()=>ls(constructStack()),use:ps=>{ps.applyToStack(ds)},remove:ps=>typeof ps=="string"?ss(ps):as(ps),removeByTag:ps=>{let hs=!1;const ms=gs=>{const{tags:ys,name:vs,aliases:bs}=gs;if(ys&&ys.includes(ps)){const Ss=getAllAliases(vs,bs);for(const $s of Ss)is.delete($s);return hs=!0,!1}return!0};return ts=ts.filter(ms),ns=ns.filter(ms),hs},concat:ps=>{var ms,gs;const hs=ls(constructStack());return hs.use(ps),hs.identifyOnResolve(rs||hs.identifyOnResolve()||((gs=(ms=ps.identifyOnResolve)==null?void 0:ms.call(ps))!=null?gs:!1)),hs},applyToStack:ls,identify:()=>us(!0).map(ps=>{var ms;const hs=(ms=ps.step)!=null?ms:ps.relation+" "+ps.toMiddleware;return getMiddlewareNameWithAliases(ps.name,ps.aliases)+" - "+hs}),identifyOnResolve(ps){return typeof ps=="boolean"&&(rs=ps),rs},resolve:(ps,hs)=>{for(const ms of us().map(gs=>gs.middleware).reverse())ps=ms(ps,hs);return rs&&console.log(ds.identify()),ps}};return ds},stepWeights={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},priorityWeights={high:3,normal:2,low:1};class Client{constructor(ns){this.middlewareStack=constructStack(),this.config=ns}send(ns,rs,is){const os=typeof rs!="function"?rs:void 0,ss=typeof rs=="function"?rs:is,as=ns.resolveMiddleware(this.middlewareStack,this.config,os);if(ss)as(ns).then(ls=>ss(null,ls.output),ls=>ss(ls)).catch(()=>{});else return as(ns).then(ls=>ls.output)}destroy(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()}}const alphabetByEncoding={},alphabetByValue=new Array(64);for(let ts=0,ns="A".charCodeAt(0),rs="Z".charCodeAt(0);ts+ns<=rs;ts++){const is=String.fromCharCode(ts+ns);alphabetByEncoding[is]=ts,alphabetByValue[ts]=is}for(let ts=0,ns="a".charCodeAt(0),rs="z".charCodeAt(0);ts+ns<=rs;ts++){const is=String.fromCharCode(ts+ns),os=ts+26;alphabetByEncoding[is]=os,alphabetByValue[os]=is}for(let ts=0;ts<10;ts++){alphabetByEncoding[ts.toString(10)]=ts+52;const ns=ts.toString(10),rs=ts+52;alphabetByEncoding[ns]=rs,alphabetByValue[rs]=ns}alphabetByEncoding["+"]=62;alphabetByValue[62]="+";alphabetByEncoding["/"]=63;alphabetByValue[63]="/";const bitsPerLetter=6,bitsPerByte=8,maxLetterValue=63,fromBase64=ts=>{let ns=ts.length/4*3;ts.slice(-2)==="=="?ns-=2:ts.slice(-1)==="="&&ns--;const rs=new ArrayBuffer(ns),is=new DataView(rs);for(let os=0;os<ts.length;os+=4){let ss=0,as=0;for(let us=os,ds=os+3;us<=ds;us++)if(ts[us]!=="="){if(!(ts[us]in alphabetByEncoding))throw new TypeError("Invalid character ".concat(ts[us]," in base64 string."));ss|=alphabetByEncoding[ts[us]]<<(ds-us)*bitsPerLetter,as+=bitsPerLetter}else ss>>=bitsPerLetter;const ls=os/4*3;ss>>=as%bitsPerByte;const cs=Math.floor(as/bitsPerByte);for(let us=0;us<cs;us++){const ds=(cs-us-1)*bitsPerByte;is.setUint8(ls+us,(ss&255<<ds)>>ds)}}return new Uint8Array(rs)},fromUtf8$5=ts=>new TextEncoder().encode(ts),toUint8Array=ts=>typeof ts=="string"?fromUtf8$5(ts):ArrayBuffer.isView(ts)?new Uint8Array(ts.buffer,ts.byteOffset,ts.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(ts),toUtf8$3=ts=>{if(typeof ts=="string")return ts;if(typeof ts!="object"||typeof ts.byteOffset!="number"||typeof ts.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return new TextDecoder("utf-8").decode(ts)};function toBase64(ts){let ns;typeof ts=="string"?ns=fromUtf8$5(ts):ns=ts;const rs=typeof ns=="object"&&typeof ns.length=="number",is=typeof ns=="object"&&typeof ns.byteOffset=="number"&&typeof ns.byteLength=="number";if(!rs&&!is)throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");let os="";for(let ss=0;ss<ns.length;ss+=3){let as=0,ls=0;for(let us=ss,ds=Math.min(ss+3,ns.length);us<ds;us++)as|=ns[us]<<(ds-us-1)*bitsPerByte,ls+=bitsPerByte;const cs=Math.ceil(ls/bitsPerLetter);as<<=cs*bitsPerLetter-ls;for(let us=1;us<=cs;us++){const ds=(cs-us)*bitsPerLetter;os+=alphabetByValue[(as&maxLetterValue<<ds)>>ds]}os+="==".slice(0,4-cs)}return os}function transformToString(ts,ns="utf-8"){return ns==="base64"?toBase64(ts):toUtf8$3(ts)}function transformFromString(ts,ns){return ns==="base64"?Uint8ArrayBlobAdapter.mutate(fromBase64(ts)):Uint8ArrayBlobAdapter.mutate(fromUtf8$5(ts))}class Uint8ArrayBlobAdapter extends Uint8Array{static fromString(ns,rs="utf-8"){switch(typeof ns){case"string":return transformFromString(ns,rs);default:throw new Error("Unsupported conversion from ".concat(typeof ns," to Uint8ArrayBlobAdapter."))}}static mutate(ns){return Object.setPrototypeOf(ns,Uint8ArrayBlobAdapter.prototype),ns}transformToString(ns="utf-8"){return transformToString(this,ns)}}const escapeUri=ts=>encodeURIComponent(ts).replace(/[!'()*]/g,hexEncode),hexEncode=ts=>"%".concat(ts.charCodeAt(0).toString(16).toUpperCase());function buildQueryString(ts){const ns=[];for(let rs of Object.keys(ts).sort()){const is=ts[rs];if(rs=escapeUri(rs),Array.isArray(is))for(let os=0,ss=is.length;os<ss;os++)ns.push("".concat(rs,"=").concat(escapeUri(is[os])));else{let os=rs;(is||typeof is=="string")&&(os+="=".concat(escapeUri(is))),ns.push(os)}}return ns.join("&")}function requestTimeout(ts=0){return new Promise((ns,rs)=>{ts&&setTimeout(()=>{const is=new Error("Request did not complete within ".concat(ts," ms"));is.name="TimeoutError",rs(is)},ts)})}const keepAliveSupport={supported:void 0};class FetchHttpHandler{static create(ns){return typeof(ns==null?void 0:ns.handle)=="function"?ns:new FetchHttpHandler(ns)}constructor(ns){typeof ns=="function"?this.configProvider=ns().then(rs=>rs||{}):(this.config=ns!=null?ns:{},this.configProvider=Promise.resolve(this.config)),keepAliveSupport.supported===void 0&&(keepAliveSupport.supported=typeof Request<"u"&&"keepalive"in new Request("https://[::1]"))}destroy(){}async handle(ns,{abortSignal:rs}={}){var bs,Ss;this.config||(this.config=await this.configProvider);const is=this.config.requestTimeout,os=this.config.keepAlive===!0,ss=this.config.credentials;if(rs!=null&&rs.aborted){const $s=new Error("Request aborted");return $s.name="AbortError",Promise.reject($s)}let as=ns.path;const ls=buildQueryString(ns.query||{});ls&&(as+="?".concat(ls)),ns.fragment&&(as+="#".concat(ns.fragment));let cs="";if(ns.username!=null||ns.password!=null){const $s=(bs=ns.username)!=null?bs:"",Cs=(Ss=ns.password)!=null?Ss:"";cs="".concat($s,":").concat(Cs,"@")}const{port:us,method:ds}=ns,ps="".concat(ns.protocol,"//").concat(cs).concat(ns.hostname).concat(us?":".concat(us):"").concat(as),hs=ds==="GET"||ds==="HEAD"?void 0:ns.body,ms={body:hs,headers:new Headers(ns.headers),method:ds,credentials:ss};hs&&(ms.duplex="half"),typeof AbortController<"u"&&(ms.signal=rs),keepAliveSupport.supported&&(ms.keepalive=os);let gs=null;const ys=new Request(ps,ms),vs=[fetch(ys).then($s=>{const Cs=$s.headers,Es={};for(const ws of Cs.entries())Es[ws[0]]=ws[1];return $s.body!=null?{response:new HttpResponse({headers:Es,reason:$s.statusText,statusCode:$s.status,body:$s.body})}:$s.blob().then(ws=>({response:new HttpResponse({headers:Es,reason:$s.statusText,statusCode:$s.status,body:ws})}))}),requestTimeout(is)];return rs&&vs.push(new Promise(($s,Cs)=>{const Es=()=>{const xs=new Error("Request aborted");xs.name="AbortError",Cs(xs)};if(typeof rs.addEventListener=="function"){const xs=rs;xs.addEventListener("abort",Es,{once:!0}),gs=()=>xs.removeEventListener("abort",Es)}else rs.onabort=Es})),Promise.race(vs).finally(gs)}updateHttpClientConfig(ns,rs){this.config=void 0,this.configProvider=this.configProvider.then(is=>(is[ns]=rs,is))}httpHandlerConfigs(){var ns;return(ns=this.config)!=null?ns:{}}}const streamCollector=ts=>typeof Blob=="function"&&ts instanceof Blob?collectBlob(ts):collectStream(ts);async function collectBlob(ts){const ns=await readToBase64(ts),rs=fromBase64(ns);return new Uint8Array(rs)}async function collectStream(ts){const ns=[],rs=ts.getReader();let is=!1,os=0;for(;!is;){const{done:ls,value:cs}=await rs.read();cs&&(ns.push(cs),os+=cs.length),is=ls}const ss=new Uint8Array(os);let as=0;for(const ls of ns)ss.set(ls,as),as+=ls.length;return ss}function readToBase64(ts){return new Promise((ns,rs)=>{const is=new FileReader;is.onloadend=()=>{var ls;if(is.readyState!==2)return rs(new Error("Reader aborted too early"));const os=(ls=is.result)!=null?ls:"",ss=os.indexOf(","),as=ss>-1?ss+1:os.length;ns(os.substring(as))},is.onabort=()=>rs(new Error("Read aborted")),is.onerror=()=>rs(is.error),is.readAsDataURL(ts)})}const SHORT_TO_HEX$1={},HEX_TO_SHORT$1={};for(let ts=0;ts<256;ts++){let ns=ts.toString(16).toLowerCase();ns.length===1&&(ns="0".concat(ns)),SHORT_TO_HEX$1[ts]=ns,HEX_TO_SHORT$1[ns]=ts}function fromHex$1(ts){if(ts.length%2!==0)throw new Error("Hex encoded strings must have an even number length");const ns=new Uint8Array(ts.length/2);for(let rs=0;rs<ts.length;rs+=2){const is=ts.slice(rs,rs+2).toLowerCase();if(is in HEX_TO_SHORT$1)ns[rs/2]=HEX_TO_SHORT$1[is];else throw new Error("Cannot decode unrecognized sequence ".concat(is," as hexadecimal"))}return ns}function toHex$1(ts){let ns="";for(let rs=0;rs<ts.byteLength;rs++)ns+=SHORT_TO_HEX$1[ts[rs]];return ns}const collectBody=async(ts=new Uint8Array,ns)=>{if(ts instanceof Uint8Array)return Uint8ArrayBlobAdapter.mutate(ts);if(!ts)return Uint8ArrayBlobAdapter.mutate(new Uint8Array);const rs=ns.streamCollector(ts);return Uint8ArrayBlobAdapter.mutate(await rs)};class Command{constructor(){this.middlewareStack=constructStack()}static classBuilder(){return new ClassBuilder}resolveMiddlewareWithContext(ns,rs,is,{middlewareFn:os,clientName:ss,commandName:as,inputFilterSensitiveLog:ls,outputFilterSensitiveLog:cs,smithyContext:us,additionalContext:ds,CommandCtor:ps}){for(const vs of os.bind(this)(ps,ns,rs,is))this.middlewareStack.use(vs);const hs=ns.concat(this.middlewareStack),{logger:ms}=rs,gs={logger:ms,clientName:ss,commandName:as,inputFilterSensitiveLog:ls,outputFilterSensitiveLog:cs,[SMITHY_CONTEXT_KEY]:{...us},...ds},{requestHandler:ys}=rs;return hs.resolve(vs=>ys.handle(vs.request,is||{}),gs)}}class ClassBuilder{constructor(){this._init=()=>{},this._ep={},this._middlewareFn=()=>[],this._commandName="",this._clientName="",this._additionalContext={},this._smithyContext={},this._inputFilterSensitiveLog=ns=>ns,this._outputFilterSensitiveLog=ns=>ns,this._serializer=null,this._deserializer=null}init(ns){this._init=ns}ep(ns){return this._ep=ns,this}m(ns){return this._middlewareFn=ns,this}s(ns,rs,is={}){return this._smithyContext={service:ns,operation:rs,...is},this}c(ns={}){return this._additionalContext=ns,this}n(ns,rs){return this._clientName=ns,this._commandName=rs,this}f(ns=is=>is,rs=is=>is){return this._inputFilterSensitiveLog=ns,this._outputFilterSensitiveLog=rs,this}ser(ns){return this._serializer=ns,this}de(ns){return this._deserializer=ns,this}build(){const ns=this;let rs;return rs=class extends Command{static getEndpointParameterInstructions(){return ns._ep}constructor(...[is]){super(),this.serialize=ns._serializer,this.deserialize=ns._deserializer,this.input=is!=null?is:{},ns._init(this)}resolveMiddleware(is,os,ss){return this.resolveMiddlewareWithContext(is,os,ss,{CommandCtor:rs,middlewareFn:ns._middlewareFn,clientName:ns._clientName,commandName:ns._commandName,inputFilterSensitiveLog:ns._inputFilterSensitiveLog,outputFilterSensitiveLog:ns._outputFilterSensitiveLog,smithyContext:ns._smithyContext,additionalContext:ns._additionalContext})}}}}const SENSITIVE_STRING="***SensitiveInformation***",createAggregatedClient=(ts,ns)=>{for(const rs of Object.keys(ts)){const is=ts[rs],os=async function(as,ls,cs){const us=new is(as);if(typeof ls=="function")this.send(us,ls);else if(typeof cs=="function"){if(typeof ls!="object")throw new Error("Expected http options but got ".concat(typeof ls));this.send(us,ls||{},cs)}else return this.send(us,ls)},ss=(rs[0].toLowerCase()+rs.slice(1)).replace(/Command$/,"");ns.prototype[ss]=os}},expectBoolean=ts=>{if(ts!=null){if(typeof ts=="number"){if((ts===0||ts===1)&&logger.warn(stackTraceWarning("Expected boolean, got ".concat(typeof ts,": ").concat(ts))),ts===0)return!1;if(ts===1)return!0}if(typeof ts=="string"){const ns=ts.toLowerCase();if((ns==="false"||ns==="true")&&logger.warn(stackTraceWarning("Expected boolean, got ".concat(typeof ts,": ").concat(ts))),ns==="false")return!1;if(ns==="true")return!0}if(typeof ts=="boolean")return ts;throw new TypeError("Expected boolean, got ".concat(typeof ts,": ").concat(ts))}},expectNumber=ts=>{if(ts!=null){if(typeof ts=="string"){const ns=parseFloat(ts);if(!Number.isNaN(ns))return String(ns)!==String(ts)&&logger.warn(stackTraceWarning("Expected number but observed string: ".concat(ts))),ns}if(typeof ts=="number")return ts;throw new TypeError("Expected number, got ".concat(typeof ts,": ").concat(ts))}},expectNonNull=(ts,ns)=>{if(ts==null)throw ns?new TypeError("Expected a non-null value for ".concat(ns)):new TypeError("Expected a non-null value");return ts},expectObject=ts=>{if(ts==null)return;if(typeof ts=="object"&&!Array.isArray(ts))return ts;const ns=Array.isArray(ts)?"array":typeof ts;throw new TypeError("Expected object, got ".concat(ns,": ").concat(ts))},expectString=ts=>{if(ts!=null){if(typeof ts=="string")return ts;if(["boolean","number","bigint"].includes(typeof ts))return logger.warn(stackTraceWarning("Expected string, got ".concat(typeof ts,": ").concat(ts))),String(ts);throw new TypeError("Expected string, got ".concat(typeof ts,": ").concat(ts))}},strictParseDouble=ts=>expectNumber(typeof ts=="string"?parseNumber(ts):ts),NUMBER_REGEX=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,parseNumber=ts=>{const ns=ts.match(NUMBER_REGEX);if(ns===null||ns[0].length!==ts.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(ts)},stackTraceWarning=ts=>String(new TypeError(ts).stack||ts).split("\n").slice(0,5).filter(ns=>!ns.includes("stackTraceWarning")).join("\n"),logger={warn:console.warn},parseEpochTimestamp=ts=>{if(ts==null)return;let ns;if(typeof ts=="number")ns=ts;else if(typeof ts=="string")ns=strictParseDouble(ts);else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(ns)||ns===1/0||ns===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(ns*1e3))};class ServiceException extends Error{constructor(ns){super(ns.message),Object.setPrototypeOf(this,ServiceException.prototype),this.name=ns.name,this.$fault=ns.$fault,this.$metadata=ns.$metadata}}const decorateServiceException=(ts,ns={})=>{Object.entries(ns).filter(([,is])=>is!==void 0).forEach(([is,os])=>{(ts[is]==null||ts[is]==="")&&(ts[is]=os)});const rs=ts.message||ts.Message||"UnknownError";return ts.message=rs,delete ts.Message,ts},throwDefaultError$1=({output:ts,parsedBody:ns,exceptionCtor:rs,errorCode:is})=>{const os=deserializeMetadata$1(ts),ss=os.httpStatusCode?os.httpStatusCode+"":void 0,as=new rs({name:(ns==null?void 0:ns.code)||(ns==null?void 0:ns.Code)||is||ss||"UnknownError",$fault:"client",$metadata:os});throw decorateServiceException(as,ns)},withBaseException=ts=>({output:ns,parsedBody:rs,errorCode:is})=>{throwDefaultError$1({output:ns,parsedBody:rs,exceptionCtor:ts,errorCode:is})},deserializeMetadata$1=ts=>{var ns,rs;return{httpStatusCode:ts.statusCode,requestId:(rs=(ns=ts.headers["x-amzn-requestid"])!=null?ns:ts.headers["x-amzn-request-id"])!=null?rs:ts.headers["x-amz-request-id"],extendedRequestId:ts.headers["x-amz-id-2"],cfId:ts.headers["x-amz-cf-id"]}},loadConfigsForDefaultMode=ts=>{switch(ts){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},getChecksumConfiguration=ts=>{const ns=[];for(const rs in AlgorithmId){const is=AlgorithmId[rs];ts[is]!==void 0&&ns.push({algorithmId:()=>is,checksumConstructor:()=>ts[is]})}return{_checksumAlgorithms:ns,addChecksumAlgorithm(rs){this._checksumAlgorithms.push(rs)},checksumAlgorithms(){return this._checksumAlgorithms}}},resolveChecksumRuntimeConfig=ts=>{const ns={};return ts.checksumAlgorithms().forEach(rs=>{ns[rs.algorithmId()]=rs.checksumConstructor()}),ns},getRetryConfiguration=ts=>{let ns=ts.retryStrategy;return{setRetryStrategy(rs){ns=rs},retryStrategy(){return ns}}},resolveRetryRuntimeConfig=ts=>{const ns={};return ns.retryStrategy=ts.retryStrategy(),ns},getDefaultExtensionConfiguration=ts=>({...getChecksumConfiguration(ts),...getRetryConfiguration(ts)}),resolveDefaultRuntimeConfig=ts=>({...resolveChecksumRuntimeConfig(ts),...resolveRetryRuntimeConfig(ts)});function extendedEncodeURIComponent(ts){return encodeURIComponent(ts).replace(/[!'()*]/g,function(ns){return"%"+ns.charCodeAt(0).toString(16).toUpperCase()})}const StringWrapper=function(){const ts=Object.getPrototypeOf(this).constructor,ns=Function.bind.apply(String,[null,...arguments]),rs=new ns;return Object.setPrototypeOf(rs,ts.prototype),rs};StringWrapper.prototype=Object.create(String.prototype,{constructor:{value:StringWrapper,enumerable:!1,writable:!0,configurable:!0}});Object.setPrototypeOf(StringWrapper,String);function map(ts,ns,rs){let is,os,ss;if(typeof ns>"u"&&typeof rs>"u")is={},ss=ts;else{if(is=ts,typeof ns=="function")return os=ns,ss=rs,mapWithFilter(is,os,ss);ss=ns}for(const as of Object.keys(ss)){if(!Array.isArray(ss[as])){is[as]=ss[as];continue}applyInstruction(is,null,ss,as)}return is}const take=(ts,ns)=>{const rs={};for(const is in ns)applyInstruction(rs,ts,ns,is);return rs},mapWithFilter=(ts,ns,rs)=>map(ts,Object.entries(rs).reduce((is,[os,ss])=>(Array.isArray(ss)?is[os]=ss:typeof ss=="function"?is[os]=[ns,ss()]:is[os]=[ns,ss],is),{})),applyInstruction=(ts,ns,rs,is)=>{if(ns!==null){let as=rs[is];typeof as=="function"&&(as=[,as]);const[ls=nonNullish,cs=pass,us=is]=as;(typeof ls=="function"&&ls(ns[us])||typeof ls!="function"&&ls)&&(ts[is]=cs(ns[us]));return}let[os,ss]=rs[is];if(typeof ss=="function"){let as;const ls=os===void 0&&(as=ss())!=null,cs=typeof os=="function"&&!!os(void 0)||typeof os!="function"&&!!os;ls?ts[is]=as:cs&&(ts[is]=ss())}else{const as=os===void 0&&ss!=null,ls=typeof os=="function"&&!!os(ss)||typeof os!="function"&&!!os;(as||ls)&&(ts[is]=ss)}},nonNullish=ts=>ts!=null,pass=ts=>ts,resolvedPath=(ts,ns,rs,is,os,ss)=>{if(ns!=null&&ns[rs]!==void 0){const as=is();if(as.length<=0)throw new Error("Empty value provided for input HTTP label: "+rs+".");ts=ts.replace(os,ss?as.split("/").map(ls=>extendedEncodeURIComponent(ls)).join("/"):extendedEncodeURIComponent(as))}else throw new Error("No value provided for input HTTP label: "+rs+".");return ts},serializeDateTime=ts=>ts.toISOString().replace(".000Z","Z"),_json=ts=>{if(ts==null)return{};if(Array.isArray(ts))return ts.filter(ns=>ns!=null).map(_json);if(typeof ts=="object"){const ns={};for(const rs of Object.keys(ts))ts[rs]!=null&&(ns[rs]=_json(ts[rs]));return ns}return ts},isStreamingPayload=ts=>(ts==null?void 0:ts.body)instanceof ReadableStream,retryMiddleware=ts=>(ns,rs)=>async is=>{var as;let os=await ts.retryStrategy();const ss=await ts.maxAttempts();if(isRetryStrategyV2(os)){os=os;let ls=await os.acquireInitialRetryToken(rs.partition_id),cs=new Error,us=0,ds=0;const{request:ps}=is,hs=HttpRequest.isInstance(ps);for(hs&&(ps.headers[INVOCATION_ID_HEADER]=v4$1());;)try{hs&&(ps.headers[REQUEST_HEADER]="attempt=".concat(us+1,"; max=").concat(ss));const{response:ms,output:gs}=await ns(is);return os.recordSuccess(ls),gs.$metadata.attempts=us+1,gs.$metadata.totalRetryDelay=ds,{response:ms,output:gs}}catch(ms){const gs=getRetryErrorInfo(ms);if(cs=asSdkError(ms),hs&&isStreamingPayload(ps))throw(as=rs.logger instanceof NoOpLogger$2?console:rs.logger)==null||as.warn("An error was encountered in a non-retryable streaming request."),cs;try{ls=await os.refreshRetryTokenForRetry(ls,gs)}catch{throw cs.$metadata||(cs.$metadata={}),cs.$metadata.attempts=us+1,cs.$metadata.totalRetryDelay=ds,cs}us=ls.getRetryCount();const ys=ls.getRetryDelay();ds+=ys,await new Promise(vs=>setTimeout(vs,ys))}}else return os=os,os!=null&&os.mode&&(rs.userAgent=[...rs.userAgent||[],["cfg/retry-mode",os.mode]]),os.retry(ns,is)},isRetryStrategyV2=ts=>typeof ts.acquireInitialRetryToken<"u"&&typeof ts.refreshRetryTokenForRetry<"u"&&typeof ts.recordSuccess<"u",getRetryErrorInfo=ts=>{const ns={error:ts,errorType:getRetryErrorType(ts)},rs=getRetryAfterHint(ts.$response);return rs&&(ns.retryAfterHint=rs),ns},getRetryErrorType=ts=>isThrottlingError(ts)?"THROTTLING":isTransientError(ts)?"TRANSIENT":isServerError(ts)?"SERVER_ERROR":"CLIENT_ERROR",retryMiddlewareOptions={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},getRetryPlugin=ts=>({applyToStack:ns=>{ns.add(retryMiddleware(ts),retryMiddlewareOptions)}}),getRetryAfterHint=ts=>{if(!HttpResponse.isInstance(ts))return;const ns=Object.keys(ts.headers).find(ss=>ss.toLowerCase()==="retry-after");if(!ns)return;const rs=ts.headers[ns],is=Number(rs);return Number.isNaN(is)?new Date(rs):new Date(is*1e3)},httpSigningMiddlewareOptions={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:retryMiddlewareOptions.name},getHttpSigningPlugin=ts=>({applyToStack:ns=>{ns.addRelativeTo(httpSigningMiddleware(),httpSigningMiddlewareOptions)}});class DefaultIdentityProviderConfig{constructor(ns){this.authSchemes=new Map;for(const[rs,is]of Object.entries(ns))is!==void 0&&this.authSchemes.set(rs,is)}getIdentityProvider(ns){return this.authSchemes.get(ns)}}const createIsIdentityExpiredFunction=ts=>ns=>doesIdentityRequireRefresh(ns)&&ns.expiration.getTime()-Date.now()<ts,EXPIRATION_MS=3e5,isIdentityExpired=createIsIdentityExpiredFunction(EXPIRATION_MS),doesIdentityRequireRefresh=ts=>ts.expiration!==void 0,memoizeIdentityProvider=(ts,ns,rs)=>{if(ts===void 0)return;const is=typeof ts!="function"?async()=>Promise.resolve(ts):ts;let os,ss,as,ls=!1;const cs=async us=>{ss||(ss=is(us));try{os=await ss,as=!0,ls=!1}finally{ss=void 0}return os};return ns===void 0?async us=>((!as||us!=null&&us.forceRefresh)&&(os=await cs(us)),os):async us=>((!as||us!=null&&us.forceRefresh)&&(os=await cs(us)),ls?os:rs(os)?(ns(os)&&await cs(us),os):(ls=!0,os))},normalizeProvider=ts=>{if(typeof ts=="function")return ts;const ns=Promise.resolve(ts);return()=>ns};function requestBuilder(ts,ns){return new RequestBuilder(ts,ns)}class RequestBuilder{constructor(ns,rs){this.input=ns,this.context=rs,this.query={},this.method="",this.headers={},this.path="",this.body=null,this.hostname="",this.resolvePathStack=[]}async build(){const{hostname:ns,protocol:rs="https",port:is,path:os}=await this.context.endpoint();this.path=os;for(const ss of this.resolvePathStack)ss(this.path);return new HttpRequest({protocol:rs,hostname:this.hostname||ns,port:is,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(ns){return this.hostname=ns,this}bp(ns){return this.resolvePathStack.push(rs=>{this.path="".concat(rs!=null&&rs.endsWith("/")?rs.slice(0,-1):rs||"")+ns}),this}p(ns,rs,is,os){return this.resolvePathStack.push(ss=>{this.path=resolvedPath(ss,this.input,ns,rs,is,os)}),this}h(ns){return this.headers=ns,this}q(ns){return this.query=ns,this}b(ns){return this.body=ns,this}m(ns){return this.method=ns,this}}const makePagedClientRequest=async(ts,ns,rs,...is)=>await ns.send(new ts(rs),...is);function createPaginator(ts,ns,rs,is,os){return async function*(as,ls,...cs){var hs;let us=as.startingToken||void 0,ds=!0,ps;for(;ds;){if(ls[rs]=us,os&&(ls[os]=(hs=ls[os])!=null?hs:as.pageSize),as.client instanceof ts)ps=await makePagedClientRequest(ns,as.client,ls,...cs);else throw new Error("Invalid client, expected instance of ".concat(ts.name));yield ps;const ms=us;us=get(ps,is),ds=!!(us&&(!as.stopOnSameToken||us!==ms))}return void 0}}const get=(ts,ns)=>{let rs=ts;const is=ns.split(".");for(const os of is){if(!rs||typeof rs!="object")return;rs=rs[os]}return rs},CONTENT_LENGTH_HEADER="content-length";function contentLengthMiddleware(ts){return ns=>async rs=>{const is=rs.request;if(HttpRequest.isInstance(is)){const{body:os,headers:ss}=is;if(os&&Object.keys(ss).map(as=>as.toLowerCase()).indexOf(CONTENT_LENGTH_HEADER)===-1)try{const as=ts(os);is.headers={...is.headers,[CONTENT_LENGTH_HEADER]:String(as)}}catch{}}return ns({...rs,request:is})}}const contentLengthMiddlewareOptions={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},getContentLengthPlugin=ts=>({applyToStack:ns=>{ns.add(contentLengthMiddleware(ts.bodyLengthChecker),contentLengthMiddlewareOptions)}}),getDateHeader=ts=>{var ns,rs,is;return HttpResponse.isInstance(ts)?(is=(ns=ts.headers)==null?void 0:ns.date)!=null?is:(rs=ts.headers)==null?void 0:rs.Date:void 0},getSkewCorrectedDate=ts=>new Date(Date.now()+ts),isClockSkewed=(ts,ns)=>Math.abs(getSkewCorrectedDate(ns).getTime()-ts)>=3e5,getUpdatedSystemClockOffset=(ts,ns)=>{const rs=Date.parse(ts);return isClockSkewed(rs,ns)?rs-Date.now():ns},throwSigningPropertyError=(ts,ns)=>{if(!ns)throw new Error("Property `".concat(ts,"` is not resolved for AWS SDK SigV4Auth"));return ns},validateSigningProperties=async ts=>{var cs,us,ds;const ns=throwSigningPropertyError("context",ts.context),rs=throwSigningPropertyError("config",ts.config),is=(ds=(us=(cs=ns.endpointV2)==null?void 0:cs.properties)==null?void 0:us.authSchemes)==null?void 0:ds[0],ss=await throwSigningPropertyError("signer",rs.signer)(is),as=ts==null?void 0:ts.signingRegion,ls=ts==null?void 0:ts.signingName;return{config:rs,signer:ss,signingRegion:as,signingName:ls}};class AwsSdkSigV4Signer{async sign(ns,rs,is){if(!HttpRequest.isInstance(ns))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");const{config:os,signer:ss,signingRegion:as,signingName:ls}=await validateSigningProperties(is);return await ss.sign(ns,{signingDate:getSkewCorrectedDate(os.systemClockOffset),signingRegion:as,signingService:ls})}errorHandler(ns){return rs=>{var os;const is=(os=rs.ServerTime)!=null?os:getDateHeader(rs.$response);if(is){const ss=throwSigningPropertyError("config",ns.config),as=ss.systemClockOffset;ss.systemClockOffset=getUpdatedSystemClockOffset(is,ss.systemClockOffset),ss.systemClockOffset!==as&&rs.$metadata&&(rs.$metadata.clockSkewCorrected=!0)}throw rs}}successHandler(ns,rs){const is=getDateHeader(ns);if(is){const os=throwSigningPropertyError("config",rs.config);os.systemClockOffset=getUpdatedSystemClockOffset(is,os.systemClockOffset)}}}const ALGORITHM_QUERY_PARAM="X-Amz-Algorithm",CREDENTIAL_QUERY_PARAM="X-Amz-Credential",AMZ_DATE_QUERY_PARAM="X-Amz-Date",SIGNED_HEADERS_QUERY_PARAM="X-Amz-SignedHeaders",EXPIRES_QUERY_PARAM="X-Amz-Expires",SIGNATURE_QUERY_PARAM="X-Amz-Signature",TOKEN_QUERY_PARAM="X-Amz-Security-Token",AUTH_HEADER="authorization",AMZ_DATE_HEADER=AMZ_DATE_QUERY_PARAM.toLowerCase(),DATE_HEADER="date",GENERATED_HEADERS=[AUTH_HEADER,AMZ_DATE_HEADER,DATE_HEADER],SIGNATURE_HEADER=SIGNATURE_QUERY_PARAM.toLowerCase(),SHA256_HEADER="x-amz-content-sha256",TOKEN_HEADER=TOKEN_QUERY_PARAM.toLowerCase(),ALWAYS_UNSIGNABLE_HEADERS={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},PROXY_HEADER_PATTERN=/^proxy-/,SEC_HEADER_PATTERN=/^sec-/,ALGORITHM_IDENTIFIER="AWS4-HMAC-SHA256",EVENT_ALGORITHM_IDENTIFIER="AWS4-HMAC-SHA256-PAYLOAD",UNSIGNED_PAYLOAD="UNSIGNED-PAYLOAD",MAX_CACHE_SIZE=50,KEY_TYPE_IDENTIFIER="aws4_request",MAX_PRESIGNED_TTL=60*60*24*7,signingKeyCache={},cacheQueue=[],createScope=(ts,ns,rs)=>"".concat(ts,"/").concat(ns,"/").concat(rs,"/").concat(KEY_TYPE_IDENTIFIER),getSigningKey=async(ts,ns,rs,is,os)=>{const ss=await hmac(ts,ns.secretAccessKey,ns.accessKeyId),as="".concat(rs,":").concat(is,":").concat(os,":").concat(toHex$1(ss),":").concat(ns.sessionToken);if(as in signingKeyCache)return signingKeyCache[as];for(cacheQueue.push(as);cacheQueue.length>MAX_CACHE_SIZE;)delete signingKeyCache[cacheQueue.shift()];let ls="AWS4".concat(ns.secretAccessKey);for(const cs of[rs,is,os,KEY_TYPE_IDENTIFIER])ls=await hmac(ts,ls,cs);return signingKeyCache[as]=ls},hmac=(ts,ns,rs)=>{const is=new ts(ns);return is.update(toUint8Array(rs)),is.digest()},getCanonicalHeaders=({headers:ts},ns,rs)=>{const is={};for(const os of Object.keys(ts).sort()){if(ts[os]==null)continue;const ss=os.toLowerCase();(ss in ALWAYS_UNSIGNABLE_HEADERS||ns!=null&&ns.has(ss)||PROXY_HEADER_PATTERN.test(ss)||SEC_HEADER_PATTERN.test(ss))&&(!rs||rs&&!rs.has(ss))||(is[ss]=ts[os].trim().replace(/\s+/g," "))}return is},getCanonicalQuery=({query:ts={}})=>{const ns=[],rs={};for(const is of Object.keys(ts).sort()){if(is.toLowerCase()===SIGNATURE_HEADER)continue;ns.push(is);const os=ts[is];typeof os=="string"?rs[is]="".concat(escapeUri(is),"=").concat(escapeUri(os)):Array.isArray(os)&&(rs[is]=os.slice(0).reduce((ss,as)=>ss.concat(["".concat(escapeUri(is),"=").concat(escapeUri(as))]),[]).sort().join("&"))}return ns.map(is=>rs[is]).filter(is=>is).join("&")},isArrayBuffer=ts=>typeof ArrayBuffer=="function"&&ts instanceof ArrayBuffer||Object.prototype.toString.call(ts)==="[object ArrayBuffer]",getPayloadHash=async({headers:ts,body:ns},rs)=>{for(const is of Object.keys(ts))if(is.toLowerCase()===SHA256_HEADER)return ts[is];if(ns==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof ns=="string"||ArrayBuffer.isView(ns)||isArrayBuffer(ns)){const is=new rs;return is.update(toUint8Array(ns)),toHex$1(await is.digest())}return UNSIGNED_PAYLOAD};class HeaderFormatter{format(ns){const rs=[];for(const ss of Object.keys(ns)){const as=fromUtf8$5(ss);rs.push(Uint8Array.from([as.byteLength]),as,this.formatHeaderValue(ns[ss]))}const is=new Uint8Array(rs.reduce((ss,as)=>ss+as.byteLength,0));let os=0;for(const ss of rs)is.set(ss,os),os+=ss.byteLength;return is}formatHeaderValue(ns){switch(ns.type){case"boolean":return Uint8Array.from([ns.value?0:1]);case"byte":return Uint8Array.from([2,ns.value]);case"short":const rs=new DataView(new ArrayBuffer(3));return rs.setUint8(0,3),rs.setInt16(1,ns.value,!1),new Uint8Array(rs.buffer);case"integer":const is=new DataView(new ArrayBuffer(5));return is.setUint8(0,4),is.setInt32(1,ns.value,!1),new Uint8Array(is.buffer);case"long":const os=new Uint8Array(9);return os[0]=5,os.set(ns.value.bytes,1),os;case"binary":const ss=new DataView(new ArrayBuffer(3+ns.value.byteLength));ss.setUint8(0,6),ss.setUint16(1,ns.value.byteLength,!1);const as=new Uint8Array(ss.buffer);return as.set(ns.value,3),as;case"string":const ls=fromUtf8$5(ns.value),cs=new DataView(new ArrayBuffer(3+ls.byteLength));cs.setUint8(0,7),cs.setUint16(1,ls.byteLength,!1);const us=new Uint8Array(cs.buffer);return us.set(ls,3),us;case"timestamp":const ds=new Uint8Array(9);return ds[0]=8,ds.set(Int64.fromNumber(ns.value.valueOf()).bytes,1),ds;case"uuid":if(!UUID_PATTERN.test(ns.value))throw new Error("Invalid UUID received: ".concat(ns.value));const ps=new Uint8Array(17);return ps[0]=9,ps.set(fromHex$1(ns.value.replace(/\-/g,"")),1),ps}}}var HEADER_VALUE_TYPE;(function(ts){ts[ts.boolTrue=0]="boolTrue",ts[ts.boolFalse=1]="boolFalse",ts[ts.byte=2]="byte",ts[ts.short=3]="short",ts[ts.integer=4]="integer",ts[ts.long=5]="long",ts[ts.byteArray=6]="byteArray",ts[ts.string=7]="string",ts[ts.timestamp=8]="timestamp",ts[ts.uuid=9]="uuid"})(HEADER_VALUE_TYPE||(HEADER_VALUE_TYPE={}));const UUID_PATTERN=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/;class Int64{constructor(ns){if(this.bytes=ns,ns.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(ns){if(ns>9223372036854776e3||ns<-9223372036854776e3)throw new Error("".concat(ns," is too large (or, if negative, too small) to represent as an Int64"));const rs=new Uint8Array(8);for(let is=7,os=Math.abs(Math.round(ns));is>-1&&os>0;is--,os/=256)rs[is]=os;return ns<0&&negate(rs),new Int64(rs)}valueOf(){const ns=this.bytes.slice(0),rs=ns[0]&128;return rs&&negate(ns),parseInt(toHex$1(ns),16)*(rs?-1:1)}toString(){return String(this.valueOf())}}function negate(ts){for(let ns=0;ns<8;ns++)ts[ns]^=255;for(let ns=7;ns>-1&&(ts[ns]++,ts[ns]===0);ns--);}const hasHeader=(ts,ns)=>{ts=ts.toLowerCase();for(const rs of Object.keys(ns))if(ts===rs.toLowerCase())return!0;return!1},moveHeadersToQuery=(ts,ns={})=>{var os;const{headers:rs,query:is={}}=HttpRequest.clone(ts);for(const ss of Object.keys(rs)){const as=ss.toLowerCase();as.slice(0,6)==="x-amz-"&&!((os=ns.unhoistableHeaders)!=null&&os.has(as))&&(is[ss]=rs[ss],delete rs[ss])}return{...ts,headers:rs,query:is}},prepareRequest=ts=>{ts=HttpRequest.clone(ts);for(const ns of Object.keys(ts.headers))GENERATED_HEADERS.indexOf(ns.toLowerCase())>-1&&delete ts.headers[ns];return ts},iso8601=ts=>toDate(ts).toISOString().replace(/\.\d{3}Z$/,"Z"),toDate=ts=>typeof ts=="number"?new Date(ts*1e3):typeof ts=="string"?Number(ts)?new Date(Number(ts)*1e3):new Date(ts):ts;class SignatureV4{constructor({applyChecksum:ns,credentials:rs,region:is,service:os,sha256:ss,uriEscapePath:as=!0}){this.headerFormatter=new HeaderFormatter,this.service=os,this.sha256=ss,this.uriEscapePath=as,this.applyChecksum=typeof ns=="boolean"?ns:!0,this.regionProvider=normalizeProvider$1(is),this.credentialProvider=normalizeProvider$1(rs)}async presign(ns,rs={}){const{signingDate:is=new Date,expiresIn:os=3600,unsignableHeaders:ss,unhoistableHeaders:as,signableHeaders:ls,signingRegion:cs,signingService:us}=rs,ds=await this.credentialProvider();this.validateResolvedCredentials(ds);const ps=cs!=null?cs:await this.regionProvider(),{longDate:hs,shortDate:ms}=formatDate(is);if(os>MAX_PRESIGNED_TTL)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");const gs=createScope(ms,ps,us!=null?us:this.service),ys=moveHeadersToQuery(prepareRequest(ns),{unhoistableHeaders:as});ds.sessionToken&&(ys.query[TOKEN_QUERY_PARAM]=ds.sessionToken),ys.query[ALGORITHM_QUERY_PARAM]=ALGORITHM_IDENTIFIER,ys.query[CREDENTIAL_QUERY_PARAM]="".concat(ds.accessKeyId,"/").concat(gs),ys.query[AMZ_DATE_QUERY_PARAM]=hs,ys.query[EXPIRES_QUERY_PARAM]=os.toString(10);const vs=getCanonicalHeaders(ys,ss,ls);return ys.query[SIGNED_HEADERS_QUERY_PARAM]=getCanonicalHeaderList(vs),ys.query[SIGNATURE_QUERY_PARAM]=await this.getSignature(hs,gs,this.getSigningKey(ds,ps,ms,us),this.createCanonicalRequest(ys,vs,await getPayloadHash(ns,this.sha256))),ys}async sign(ns,rs){return typeof ns=="string"?this.signString(ns,rs):ns.headers&&ns.payload?this.signEvent(ns,rs):ns.message?this.signMessage(ns,rs):this.signRequest(ns,rs)}async signEvent({headers:ns,payload:rs},{signingDate:is=new Date,priorSignature:os,signingRegion:ss,signingService:as}){const ls=ss!=null?ss:await this.regionProvider(),{shortDate:cs,longDate:us}=formatDate(is),ds=createScope(cs,ls,as!=null?as:this.service),ps=await getPayloadHash({headers:{},body:rs},this.sha256),hs=new this.sha256;hs.update(ns);const ms=toHex$1(await hs.digest()),gs=[EVENT_ALGORITHM_IDENTIFIER,us,ds,os,ms,ps].join("\n");return this.signString(gs,{signingDate:is,signingRegion:ls,signingService:as})}async signMessage(ns,{signingDate:rs=new Date,signingRegion:is,signingService:os}){return this.signEvent({headers:this.headerFormatter.format(ns.message.headers),payload:ns.message.body},{signingDate:rs,signingRegion:is,signingService:os,priorSignature:ns.priorSignature}).then(as=>({message:ns.message,signature:as}))}async signString(ns,{signingDate:rs=new Date,signingRegion:is,signingService:os}={}){const ss=await this.credentialProvider();this.validateResolvedCredentials(ss);const as=is!=null?is:await this.regionProvider(),{shortDate:ls}=formatDate(rs),cs=new this.sha256(await this.getSigningKey(ss,as,ls,os));return cs.update(toUint8Array(ns)),toHex$1(await cs.digest())}async signRequest(ns,{signingDate:rs=new Date,signableHeaders:is,unsignableHeaders:os,signingRegion:ss,signingService:as}={}){const ls=await this.credentialProvider();this.validateResolvedCredentials(ls);const cs=ss!=null?ss:await this.regionProvider(),us=prepareRequest(ns),{longDate:ds,shortDate:ps}=formatDate(rs),hs=createScope(ps,cs,as!=null?as:this.service);us.headers[AMZ_DATE_HEADER]=ds,ls.sessionToken&&(us.headers[TOKEN_HEADER]=ls.sessionToken);const ms=await getPayloadHash(us,this.sha256);!hasHeader(SHA256_HEADER,us.headers)&&this.applyChecksum&&(us.headers[SHA256_HEADER]=ms);const gs=getCanonicalHeaders(us,os,is),ys=await this.getSignature(ds,hs,this.getSigningKey(ls,cs,ps,as),this.createCanonicalRequest(us,gs,ms));return us.headers[AUTH_HEADER]="".concat(ALGORITHM_IDENTIFIER," ")+"Credential=".concat(ls.accessKeyId,"/").concat(hs,", ")+"SignedHeaders=".concat(getCanonicalHeaderList(gs),", ")+"Signature=".concat(ys),us}createCanonicalRequest(ns,rs,is){const os=Object.keys(rs).sort();return"".concat(ns.method,"\n").concat(this.getCanonicalPath(ns),"\n").concat(getCanonicalQuery(ns),"\n").concat(os.map(ss=>"".concat(ss,":").concat(rs[ss])).join("\n"),"\n\n").concat(os.join(";"),"\n").concat(is)}async createStringToSign(ns,rs,is){const os=new this.sha256;os.update(toUint8Array(is));const ss=await os.digest();return"".concat(ALGORITHM_IDENTIFIER,"\n").concat(ns,"\n").concat(rs,"\n").concat(toHex$1(ss))}getCanonicalPath({path:ns}){if(this.uriEscapePath){const rs=[];for(const ss of ns.split("/"))(ss==null?void 0:ss.length)!==0&&ss!=="."&&(ss===".."?rs.pop():rs.push(ss));const is="".concat(ns!=null&&ns.startsWith("/")?"/":"").concat(rs.join("/")).concat(rs.length>0&&(ns!=null&&ns.endsWith("/"))?"/":"");return escapeUri(is).replace(/%2F/g,"/")}return ns}async getSignature(ns,rs,is,os){const ss=await this.createStringToSign(ns,rs,os),as=new this.sha256(await is);return as.update(toUint8Array(ss)),toHex$1(await as.digest())}getSigningKey(ns,rs,is,os){return getSigningKey(this.sha256,ns,is,rs,os||this.service)}validateResolvedCredentials(ns){if(typeof ns!="object"||typeof ns.accessKeyId!="string"||typeof ns.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}}const formatDate=ts=>{const ns=iso8601(ts).replace(/[\-:]/g,"");return{longDate:ns,shortDate:ns.slice(0,8)}},getCanonicalHeaderList=ts=>Object.keys(ts).sort().join(";"),resolveAwsSdkSigV4Config=ts=>{let ns;ts.credentials&&(ns=memoizeIdentityProvider(ts.credentials,isIdentityExpired,doesIdentityRequireRefresh)),ns||(ts.credentialDefaultProvider?ns=normalizeProvider(ts.credentialDefaultProvider(Object.assign({},ts,{parentClientConfig:ts}))):ns=async()=>{throw new Error("`credentials` is missing")});const{signingEscapePath:rs=!0,systemClockOffset:is=ts.systemClockOffset||0,sha256:os}=ts;let ss;return ts.signer?ss=normalizeProvider(ts.signer):ts.regionInfoProvider?ss=()=>normalizeProvider(ts.region)().then(async as=>[await ts.regionInfoProvider(as,{useFipsEndpoint:await ts.useFipsEndpoint(),useDualstackEndpoint:await ts.useDualstackEndpoint()})||{},as]).then(([as,ls])=>{const{signingRegion:cs,signingService:us}=as;ts.signingRegion=ts.signingRegion||cs||ls,ts.signingName=ts.signingName||us||ts.serviceId;const ds={...ts,credentials:ns,region:ts.signingRegion,service:ts.signingName,sha256:os,uriEscapePath:rs},ps=ts.signerConstructor||SignatureV4;return new ps(ds)}):ss=async as=>{as=Object.assign({},{name:"sigv4",signingName:ts.signingName||ts.defaultSigningName,signingRegion:await normalizeProvider(ts.region)(),properties:{}},as);const ls=as.signingRegion,cs=as.signingName;ts.signingRegion=ts.signingRegion||ls,ts.signingName=ts.signingName||cs||ts.serviceId;const us={...ts,credentials:ns,region:ts.signingRegion,service:ts.signingName,sha256:os,uriEscapePath:rs},ds=ts.signerConstructor||SignatureV4;return new ds(us)},{...ts,systemClockOffset:is,signingEscapePath:rs,credentials:ns,signer:ss}},collectBodyString=(ts,ns)=>collectBody(ts,ns).then(rs=>ns.utf8Encoder(rs)),parseJsonBody=(ts,ns)=>collectBodyString(ts,ns).then(rs=>{if(rs.length)try{return JSON.parse(rs)}catch(is){throw(is==null?void 0:is.name)==="SyntaxError"&&Object.defineProperty(is,"$responseBodyText",{value:rs}),is}return{}}),parseJsonErrorBody=async(ts,ns)=>{var is;const rs=await parseJsonBody(ts,ns);return rs.message=(is=rs.message)!=null?is:rs.Message,rs},loadRestJsonErrorCode=(ts,ns)=>{const rs=(ss,as)=>Object.keys(ss).find(ls=>ls.toLowerCase()===as.toLowerCase()),is=ss=>{let as=ss;return typeof as=="number"&&(as=as.toString()),as.indexOf(",")>=0&&(as=as.split(",")[0]),as.indexOf(":")>=0&&(as=as.split(":")[0]),as.indexOf("#")>=0&&(as=as.split("#")[1]),as},os=rs(ts.headers,"x-amzn-errortype");if(os!==void 0)return is(ts.headers[os]);if(ns.code!==void 0)return is(ns.code);if(ns.__type!==void 0)return is(ns.__type)},defaultChimeSDKMessagingHttpAuthSchemeParametersProvider=async(ts,ns,rs)=>({operation:getSmithyContext(ns).operation,region:await normalizeProvider$1(ts.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});function createAwsAuthSigv4HttpAuthOption(ts){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"chime",region:ts.region},propertiesExtractor:(ns,rs)=>({signingProperties:{config:ns,context:rs}})}}const defaultChimeSDKMessagingHttpAuthSchemeProvider=ts=>{const ns=[];switch(ts.operation){default:ns.push(createAwsAuthSigv4HttpAuthOption(ts))}return ns},resolveHttpAuthSchemeConfig=ts=>({...resolveAwsSdkSigV4Config(ts)}),resolveClientEndpointParameters=ts=>{var ns,rs;return{...ts,useDualstackEndpoint:(ns=ts.useDualstackEndpoint)!=null?ns:!1,useFipsEndpoint:(rs=ts.useFipsEndpoint)!=null?rs:!1,defaultSigningName:"chime"}},commonParams={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},name="@aws-sdk/client-chime-sdk-messaging",description="AWS SDK for JavaScript Chime Sdk Messaging Client for Node.js, Browser and React Native",version="3.616.0",scripts={build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-chime-sdk-messaging","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo chime-sdk-messaging"},main$1="./dist-cjs/index.js",types$1="./dist-types/index.d.ts",module="./dist-es/index.js",sideEffects=!1,dependencies={"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/client-sso-oidc":"3.616.0","@aws-sdk/client-sts":"3.616.0","@aws-sdk/core":"3.616.0","@aws-sdk/credential-provider-node":"3.616.0","@aws-sdk/middleware-host-header":"3.616.0","@aws-sdk/middleware-logger":"3.609.0","@aws-sdk/middleware-recursion-detection":"3.616.0","@aws-sdk/middleware-user-agent":"3.616.0","@aws-sdk/region-config-resolver":"3.614.0","@aws-sdk/types":"3.609.0","@aws-sdk/util-endpoints":"3.614.0","@aws-sdk/util-user-agent-browser":"3.609.0","@aws-sdk/util-user-agent-node":"3.614.0","@smithy/config-resolver":"^3.0.5","@smithy/core":"^2.2.7","@smithy/fetch-http-handler":"^3.2.2","@smithy/hash-node":"^3.0.3","@smithy/invalid-dependency":"^3.0.3","@smithy/middleware-content-length":"^3.0.4","@smithy/middleware-endpoint":"^3.0.5","@smithy/middleware-retry":"^3.0.10","@smithy/middleware-serde":"^3.0.3","@smithy/middleware-stack":"^3.0.3","@smithy/node-config-provider":"^3.1.4","@smithy/node-http-handler":"^3.1.3","@smithy/protocol-http":"^4.0.4","@smithy/smithy-client":"^3.1.8","@smithy/types":"^3.3.0","@smithy/url-parser":"^3.0.3","@smithy/util-base64":"^3.0.0","@smithy/util-body-length-browser":"^3.0.0","@smithy/util-body-length-node":"^3.0.0","@smithy/util-defaults-mode-browser":"^3.0.10","@smithy/util-defaults-mode-node":"^3.0.10","@smithy/util-endpoints":"^2.0.5","@smithy/util-middleware":"^3.0.3","@smithy/util-retry":"^3.0.3","@smithy/util-utf8":"^3.0.0",tslib:"^2.6.2",uuid:"^9.0.1"},devDependencies={"@tsconfig/node16":"16.1.3","@types/node":"^16.18.96","@types/uuid":"^9.0.4",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~4.9.5"},engines={node:">=16.0.0"},typesVersions={"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files=["dist-*/**"],author={name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license="Apache-2.0",browser={"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},homepage="https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-chime-sdk-messaging",repository={type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-chime-sdk-messaging"},packageInfo={name,description,version,scripts,main:main$1,types:types$1,module,sideEffects,dependencies,devDependencies,engines,typesVersions,files,author,license,browser,"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage,repository},fromUtf8$4=ts=>new TextEncoder().encode(ts);var fromUtf8$3=typeof Buffer<"u"&&Buffer.from?function(ts){return Buffer.from(ts,"utf8")}:fromUtf8$4;function convertToBuffer$1(ts){return ts instanceof Uint8Array?ts:typeof ts=="string"?fromUtf8$3(ts):ArrayBuffer.isView(ts)?new Uint8Array(ts.buffer,ts.byteOffset,ts.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(ts)}function isEmptyData$1(ts){return typeof ts=="string"?ts.length===0:ts.byteLength===0}var SHA_256_HASH={name:"SHA-256"},SHA_256_HMAC_ALGO={name:"HMAC",hash:SHA_256_HASH},EMPTY_DATA_SHA_256=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85]);const fallbackWindow={};function locateWindow(){return typeof window<"u"?window:typeof self<"u"?self:fallbackWindow}var Sha256$2=function(){function ts(ns){this.toHash=new Uint8Array(0),this.secret=ns,this.reset()}return ts.prototype.update=function(ns){if(!isEmptyData$1(ns)){var rs=convertToBuffer$1(ns),is=new Uint8Array(this.toHash.byteLength+rs.byteLength);is.set(this.toHash,0),is.set(rs,this.toHash.byteLength),this.toHash=is}},ts.prototype.digest=function(){var ns=this;return this.key?this.key.then(function(rs){return locateWindow().crypto.subtle.sign(SHA_256_HMAC_ALGO,rs,ns.toHash).then(function(is){return new Uint8Array(is)})}):isEmptyData$1(this.toHash)?Promise.resolve(EMPTY_DATA_SHA_256):Promise.resolve().then(function(){return locateWindow().crypto.subtle.digest(SHA_256_HASH,ns.toHash)}).then(function(rs){return Promise.resolve(new Uint8Array(rs))})},ts.prototype.reset=function(){var ns=this;this.toHash=new Uint8Array(0),this.secret&&this.secret!==void 0&&(this.key=new Promise(function(rs,is){locateWindow().crypto.subtle.importKey("raw",convertToBuffer$1(ns.secret),SHA_256_HMAC_ALGO,!1,["sign"]).then(rs,is)}),this.key.catch(function(){}))},ts}();function __awaiter$g(ts,ns,rs,is){function os(ss){return ss instanceof rs?ss:new rs(function(as){as(ss)})}return new(rs||(rs=Promise))(function(ss,as){function ls(ds){try{us(is.next(ds))}catch(ps){as(ps)}}function cs(ds){try{us(is.throw(ds))}catch(ps){as(ps)}}function us(ds){ds.done?ss(ds.value):os(ds.value).then(ls,cs)}us((is=is.apply(ts,ns||[])).next())})}function __generator$1(ts,ns){var rs={label:0,sent:function(){if(ss[0]&1)throw ss[1];return ss[1]},trys:[],ops:[]},is,os,ss,as;return as={next:ls(0),throw:ls(1),return:ls(2)},typeof Symbol=="function"&&(as[Symbol.iterator]=function(){return this}),as;function ls(us){return function(ds){return cs([us,ds])}}function cs(us){if(is)throw new TypeError("Generator is already executing.");for(;as&&(as=0,us[0]&&(rs=0)),rs;)try{if(is=1,os&&(ss=us[0]&2?os.return:us[0]?os.throw||((ss=os.return)&&ss.call(os),0):os.next)&&!(ss=ss.call(os,us[1])).done)return ss;switch(os=0,ss&&(us=[us[0]&2,ss.value]),us[0]){case 0:case 1:ss=us;break;case 4:return rs.label++,{value:us[1],done:!1};case 5:rs.label++,os=us[1],us=[0];continue;case 7:us=rs.ops.pop(),rs.trys.pop();continue;default:if(ss=rs.trys,!(ss=ss.length>0&&ss[ss.length-1])&&(us[0]===6||us[0]===2)){rs=0;continue}if(us[0]===3&&(!ss||us[1]>ss[0]&&us[1]<ss[3])){rs.label=us[1];break}if(us[0]===6&&rs.label<ss[1]){rs.label=ss[1],ss=us;break}if(ss&&rs.label<ss[2]){rs.label=ss[2],rs.ops.push(us);break}ss[2]&&rs.ops.pop(),rs.trys.pop();continue}us=ns.call(ts,rs)}catch(ds){us=[6,ds],os=0}finally{is=ss=0}if(us[0]&5)throw us[1];return{value:us[0]?us[1]:void 0,done:!0}}}typeof SuppressedError=="function"&&SuppressedError;var BLOCK_SIZE=64,DIGEST_LENGTH=32,KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],MAX_HASHABLE_LENGTH=Math.pow(2,53)-1,RawSha256$1=function(){function ts(){this.state=Int32Array.from(INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return ts.prototype.update=function(ns){if(this.finished)throw new Error("Attempted to update an already finished hash.");var rs=0,is=ns.byteLength;if(this.bytesHashed+=is,this.bytesHashed*8>MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;is>0;)this.buffer[this.bufferLength++]=ns[rs++],is--,this.bufferLength===BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},ts.prototype.digest=function(){if(!this.finished){var ns=this.bytesHashed*8,rs=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),is=this.bufferLength;if(rs.setUint8(this.bufferLength++,128),is%BLOCK_SIZE>=BLOCK_SIZE-8){for(var os=this.bufferLength;os<BLOCK_SIZE;os++)rs.setUint8(os,0);this.hashBuffer(),this.bufferLength=0}for(var os=this.bufferLength;os<BLOCK_SIZE-8;os++)rs.setUint8(os,0);rs.setUint32(BLOCK_SIZE-8,Math.floor(ns/4294967296),!0),rs.setUint32(BLOCK_SIZE-4,ns),this.hashBuffer(),this.finished=!0}for(var ss=new Uint8Array(DIGEST_LENGTH),os=0;os<8;os++)ss[os*4]=this.state[os]>>>24&255,ss[os*4+1]=this.state[os]>>>16&255,ss[os*4+2]=this.state[os]>>>8&255,ss[os*4+3]=this.state[os]>>>0&255;return ss},ts.prototype.hashBuffer=function(){for(var ns=this,rs=ns.buffer,is=ns.state,os=is[0],ss=is[1],as=is[2],ls=is[3],cs=is[4],us=is[5],ds=is[6],ps=is[7],hs=0;hs<BLOCK_SIZE;hs++){if(hs<16)this.temp[hs]=(rs[hs*4]&255)<<24|(rs[hs*4+1]&255)<<16|(rs[hs*4+2]&255)<<8|rs[hs*4+3]&255;else{var ms=this.temp[hs-2],gs=(ms>>>17|ms<<15)^(ms>>>19|ms<<13)^ms>>>10;ms=this.temp[hs-15];var ys=(ms>>>7|ms<<25)^(ms>>>18|ms<<14)^ms>>>3;this.temp[hs]=(gs+this.temp[hs-7]|0)+(ys+this.temp[hs-16]|0)}var vs=(((cs>>>6|cs<<26)^(cs>>>11|cs<<21)^(cs>>>25|cs<<7))+(cs&us^~cs&ds)|0)+(ps+(KEY[hs]+this.temp[hs]|0)|0)|0,bs=((os>>>2|os<<30)^(os>>>13|os<<19)^(os>>>22|os<<10))+(os&ss^os&as^ss&as)|0;ps=ds,ds=us,us=cs,cs=ls+vs|0,ls=as,as=ss,ss=os,os=vs+bs|0}is[0]+=os,is[1]+=ss,is[2]+=as,is[3]+=ls,is[4]+=cs,is[5]+=us,is[6]+=ds,is[7]+=ps},ts}(),Sha256$1=function(){function ts(ns){this.secret=ns,this.hash=new RawSha256$1,this.reset()}return ts.prototype.update=function(ns){if(!(isEmptyData$1(ns)||this.error))try{this.hash.update(convertToBuffer$1(ns))}catch(rs){this.error=rs}},ts.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},ts.prototype.digest=function(){return __awaiter$g(this,void 0,void 0,function(){return __generator$1(this,function(ns){return[2,this.digestSync()]})})},ts.prototype.reset=function(){if(this.hash=new RawSha256$1,this.secret){this.outer=new RawSha256$1;var ns=bufferFromSecret(this.secret),rs=new Uint8Array(BLOCK_SIZE);rs.set(ns);for(var is=0;is<BLOCK_SIZE;is++)ns[is]^=54,rs[is]^=92;this.hash.update(ns),this.outer.update(rs);for(var is=0;is<ns.byteLength;is++)ns[is]=0}},ts}();function bufferFromSecret(ts){var ns=convertToBuffer$1(ts);if(ns.byteLength>BLOCK_SIZE){var rs=new RawSha256$1;rs.update(ns),ns=rs.digest()}var is=new Uint8Array(BLOCK_SIZE);return is.set(ns),is}var subtleCryptoMethods=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function supportsWebCrypto(ts){if(supportsSecureRandom(ts)&&typeof ts.crypto.subtle=="object"){var ns=ts.crypto.subtle;return supportsSubtleCrypto(ns)}return!1}function supportsSecureRandom(ts){if(typeof ts=="object"&&typeof ts.crypto=="object"){var ns=ts.crypto.getRandomValues;return typeof ns=="function"}return!1}function supportsSubtleCrypto(ts){return ts&&subtleCryptoMethods.every(function(ns){return typeof ts[ns]=="function"})}var Sha256=function(){function ts(ns){supportsWebCrypto(locateWindow())?this.hash=new Sha256$2(ns):this.hash=new Sha256$1(ns)}return ts.prototype.update=function(ns,rs){this.hash.update(convertToBuffer$1(ns))},ts.prototype.digest=function(){return this.hash.digest()},ts.prototype.reset=function(){this.hash.reset()},ts}();const BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class Utils{static getFirstMatch(ns,rs){const is=rs.match(ns);return is&&is.length>0&&is[1]||""}static getSecondMatch(ns,rs){const is=rs.match(ns);return is&&is.length>1&&is[2]||""}static matchAndReturnConst(ns,rs,is){if(ns.test(rs))return is}static getWindowsVersionName(ns){switch(ns){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(ns){const rs=ns.split(".").splice(0,2).map(is=>parseInt(is,10)||0);if(rs.push(0),rs[0]===10)switch(rs[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(ns){const rs=ns.split(".").splice(0,2).map(is=>parseInt(is,10)||0);if(rs.push(0),!(rs[0]===1&&rs[1]<5)){if(rs[0]===1&&rs[1]<6)return"Cupcake";if(rs[0]===1&&rs[1]>=6)return"Donut";if(rs[0]===2&&rs[1]<2)return"Eclair";if(rs[0]===2&&rs[1]===2)return"Froyo";if(rs[0]===2&&rs[1]>2)return"Gingerbread";if(rs[0]===3)return"Honeycomb";if(rs[0]===4&&rs[1]<1)return"Ice Cream Sandwich";if(rs[0]===4&&rs[1]<4)return"Jelly Bean";if(rs[0]===4&&rs[1]>=4)return"KitKat";if(rs[0]===5)return"Lollipop";if(rs[0]===6)return"Marshmallow";if(rs[0]===7)return"Nougat";if(rs[0]===8)return"Oreo";if(rs[0]===9)return"Pie"}}static getVersionPrecision(ns){return ns.split(".").length}static compareVersions(ns,rs,is=!1){const os=Utils.getVersionPrecision(ns),ss=Utils.getVersionPrecision(rs);let as=Math.max(os,ss),ls=0;const cs=Utils.map([ns,rs],us=>{const ds=as-Utils.getVersionPrecision(us),ps=us+new Array(ds+1).join(".0");return Utils.map(ps.split("."),hs=>new Array(20-hs.length).join("0")+hs).reverse()});for(is&&(ls=as-Math.min(os,ss)),as-=1;as>=ls;){if(cs[0][as]>cs[1][as])return 1;if(cs[0][as]===cs[1][as]){if(as===ls)return 0;as-=1}else if(cs[0][as]<cs[1][as])return-1}}static map(ns,rs){const is=[];let os;if(Array.prototype.map)return Array.prototype.map.call(ns,rs);for(os=0;os<ns.length;os+=1)is.push(rs(ns[os]));return is}static find(ns,rs){let is,os;if(Array.prototype.find)return Array.prototype.find.call(ns,rs);for(is=0,os=ns.length;is<os;is+=1){const ss=ns[is];if(rs(ss,is))return ss}}static assign(ns,...rs){const is=ns;let os,ss;if(Object.assign)return Object.assign(ns,...rs);for(os=0,ss=rs.length;os<ss;os+=1){const as=rs[os];typeof as=="object"&&as!==null&&Object.keys(as).forEach(cs=>{is[cs]=as[cs]})}return ns}static getBrowserAlias(ns){return BROWSER_ALIASES_MAP[ns]}static getBrowserTypeByAlias(ns){return BROWSER_MAP[ns]||""}}const commonVersionIdentifier=/version\/(\d+(\.?_?\d+)+)/i,browsersList=[{test:[/googlebot/i],describe(ts){const ns={name:"Googlebot"},rs=Utils.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,ts)||Utils.getFirstMatch(commonVersionIdentifier,ts);return rs&&(ns.version=rs),ns}},{test:[/opera/i],describe(ts){const ns={name:"Opera"},rs=Utils.getFirstMatch(commonVersionIdentifier,ts)||Utils.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,ts);return rs&&(ns.version=rs),ns}},{test:[/opr\/|opios/i],describe(ts){const ns={name:"Opera"},rs=Utils.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,ts)||Utils.getFirstMatch(commonVersionIdentifier,ts);return rs&&(ns.version=rs),ns}},{test:[/SamsungBrowser/i],describe(ts){const ns={name:"Samsung Internet for Android"},rs=Utils.getFirstMatch(commonVersionIdentifier,ts)||Utils.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,ts);return rs&&(ns.version=rs),ns}},{test:[/Whale/i],describe(ts){const ns={name:"NAVER Whale Browser"},rs=Utils.getFirstMatch(commonVersionIdentifier,ts)||Utils.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,ts);return rs&&(ns.version=rs),ns}},{test:[/MZBrowser/i],describe(ts){const ns={name:"MZ Browser"},rs=Utils.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,ts)||Utils.getFirstMatch(commonVersionIdentifier,ts);return rs&&(ns.version=rs),ns}},{test:[/focus/i],describe(ts){const ns={name:"Focus"},rs=Utils.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,ts)||Utils.getFirstMatch(commonVersionIdentifier,ts);return rs&&(ns.version=rs),ns}},{test:[/swing/i],describe(ts){const ns={name:"Swing"},rs=Utils.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,ts)||Utils.getFirstMatch(commonVersionIdentifier,ts);return rs&&(ns.version=rs),ns}},{test:[/coast/i],describe(ts){const ns={name:"Opera Coast"},rs=Utils.getFirstMatch(commonVersionIdentifier,ts)||Utils.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,ts);return rs&&(ns.version=rs),ns}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(ts){const ns={name:"Opera Touch"},rs=Utils.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,ts)||Utils.getFirstMatch(commonVersionIdentifier,ts);return rs&&(ns.version=rs),ns}},{test:[/yabrowser/i],describe(ts){const ns={name:"Yandex Browser"},rs=Utils.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,ts)||Utils.getFirstMatch(commonVersionIdentifier,ts);return rs&&(ns.version=rs),ns}},{test:[/ucbrowser/i],describe(ts){const ns={name:"UC Browser"},rs=Utils.getFirstMatch(commonVersionIdentifier,ts)||Utils.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,ts);return rs&&(ns.version=rs),ns}},{test:[/Maxthon|mxios/i],describe(ts){const ns={name:"Maxthon"},rs=Utils.getFirstMatch(commonVersionIdentifier,ts)||Utils.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,ts);return rs&&(ns.version=rs),ns}},{test:[/epiphany/i],describe(ts){const ns={name:"Epiphany"},rs=Utils.getFirstMatch(commonVersionIdentifier,ts)||Utils.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,ts);return rs&&(ns.version=rs),ns}},{test:[/puffin/i],describe(ts){const ns={name:"Puffin"},rs=Utils.getFirstMatch(commonVersionIdentifier,ts)||Utils.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,ts);return rs&&(ns.version=rs),ns}},{test:[/sleipnir/i],describe(ts){const ns={name:"Sleipnir"},rs=Utils.getFirstMatch(commonVersionIdentifier,ts)||Utils.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,ts);return rs&&(ns.version=rs),ns}},{test:[/k-meleon/i],describe(ts){const ns={name:"K-Meleon"},rs=Utils.getFirstMatch(commonVersionIdentifier,ts)||Utils.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,ts);return rs&&(ns.version=rs),ns}},{test:[/micromessenger/i],describe(ts){const ns={name:"WeChat"},rs=Utils.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,ts)||Utils.getFirstMatch(commonVersionIdentifier,ts);return rs&&(ns.version=rs),ns}},{test:[/qqbrowser/i],describe(ts){const ns={name:/qqbrowserlite/i.test(ts)?"QQ Browser Lite":"QQ Browser"},rs=Utils.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,ts)||Utils.getFirstMatch(commonVersionIdentifier,ts);return rs&&(ns.version=rs),ns}},{test:[/msie|trident/i],describe(ts){const ns={name:"Internet Explorer"},rs=Utils.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,ts);return rs&&(ns.version=rs),ns}},{test:[/\sedg\//i],describe(ts){const ns={name:"Microsoft Edge"},rs=Utils.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,ts);return rs&&(ns.version=rs),ns}},{test:[/edg([ea]|ios)/i],describe(ts){const ns={name:"Microsoft Edge"},rs=Utils.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,ts);return rs&&(ns.version=rs),ns}},{test:[/vivaldi/i],describe(ts){const ns={name:"Vivaldi"},rs=Utils.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,ts);return rs&&(ns.version=rs),ns}},{test:[/seamonkey/i],describe(ts){const ns={name:"SeaMonkey"},rs=Utils.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,ts);return rs&&(ns.version=rs),ns}},{test:[/sailfish/i],describe(ts){const ns={name:"Sailfish"},rs=Utils.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,ts);return rs&&(ns.version=rs),ns}},{test:[/silk/i],describe(ts){const ns={name:"Amazon Silk"},rs=Utils.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,ts);return rs&&(ns.version=rs),ns}},{test:[/phantom/i],describe(ts){const ns={name:"PhantomJS"},rs=Utils.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,ts);return rs&&(ns.version=rs),ns}},{test:[/slimerjs/i],describe(ts){const ns={name:"SlimerJS"},rs=Utils.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,ts);return rs&&(ns.version=rs),ns}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(ts){const ns={name:"BlackBerry"},rs=Utils.getFirstMatch(commonVersionIdentifier,ts)||Utils.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,ts);return rs&&(ns.version=rs),ns}},{test:[/(web|hpw)[o0]s/i],describe(ts){const ns={name:"WebOS Browser"},rs=Utils.getFirstMatch(commonVersionIdentifier,ts)||Utils.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,ts);return rs&&(ns.version=rs),ns}},{test:[/bada/i],describe(ts){const ns={name:"Bada"},rs=Utils.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,ts);return rs&&(ns.version=rs),ns}},{test:[/tizen/i],describe(ts){const ns={name:"Tizen"},rs=Utils.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,ts)||Utils.getFirstMatch(commonVersionIdentifier,ts);return rs&&(ns.version=rs),ns}},{test:[/qupzilla/i],describe(ts){const ns={name:"QupZilla"},rs=Utils.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,ts)||Utils.getFirstMatch(commonVersionIdentifier,ts);return rs&&(ns.version=rs),ns}},{test:[/firefox|iceweasel|fxios/i],describe(ts){const ns={name:"Firefox"},rs=Utils.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,ts);return rs&&(ns.version=rs),ns}},{test:[/electron/i],describe(ts){const ns={name:"Electron"},rs=Utils.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,ts);return rs&&(ns.version=rs),ns}},{test:[/MiuiBrowser/i],describe(ts){const ns={name:"Miui"},rs=Utils.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,ts);return rs&&(ns.version=rs),ns}},{test:[/chromium/i],describe(ts){const ns={name:"Chromium"},rs=Utils.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,ts)||Utils.getFirstMatch(commonVersionIdentifier,ts);return rs&&(ns.version=rs),ns}},{test:[/chrome|crios|crmo/i],describe(ts){const ns={name:"Chrome"},rs=Utils.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,ts);return rs&&(ns.version=rs),ns}},{test:[/GSA/i],describe(ts){const ns={name:"Google Search"},rs=Utils.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,ts);return rs&&(ns.version=rs),ns}},{test(ts){const ns=!ts.test(/like android/i),rs=ts.test(/android/i);return ns&&rs},describe(ts){const ns={name:"Android Browser"},rs=Utils.getFirstMatch(commonVersionIdentifier,ts);return rs&&(ns.version=rs),ns}},{test:[/playstation 4/i],describe(ts){const ns={name:"PlayStation 4"},rs=Utils.getFirstMatch(commonVersionIdentifier,ts);return rs&&(ns.version=rs),ns}},{test:[/safari|applewebkit/i],describe(ts){const ns={name:"Safari"},rs=Utils.getFirstMatch(commonVersionIdentifier,ts);return rs&&(ns.version=rs),ns}},{test:[/.*/i],describe(ts){const ns=/^(.*)\/(.*) /,rs=/^(.*)\/(.*)[ \t]\((.*)/,os=ts.search("\\(")!==-1?rs:ns;return{name:Utils.getFirstMatch(os,ts),version:Utils.getSecondMatch(os,ts)}}}],osParsersList=[{test:[/Roku\/DVP/],describe(ts){const ns=Utils.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,ts);return{name:OS_MAP.Roku,version:ns}}},{test:[/windows phone/i],describe(ts){const ns=Utils.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,ts);return{name:OS_MAP.WindowsPhone,version:ns}}},{test:[/windows /i],describe(ts){const ns=Utils.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,ts),rs=Utils.getWindowsVersionName(ns);return{name:OS_MAP.Windows,version:ns,versionName:rs}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(ts){const ns={name:OS_MAP.iOS},rs=Utils.getSecondMatch(/(Version\/)(\d[\d.]+)/,ts);return rs&&(ns.version=rs),ns}},{test:[/macintosh/i],describe(ts){const ns=Utils.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,ts).replace(/[_\s]/g,"."),rs=Utils.getMacOSVersionName(ns),is={name:OS_MAP.MacOS,version:ns};return rs&&(is.versionName=rs),is}},{test:[/(ipod|iphone|ipad)/i],describe(ts){const ns=Utils.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,ts).replace(/[_\s]/g,".");return{name:OS_MAP.iOS,version:ns}}},{test(ts){const ns=!ts.test(/like android/i),rs=ts.test(/android/i);return ns&&rs},describe(ts){const ns=Utils.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,ts),rs=Utils.getAndroidVersionName(ns),is={name:OS_MAP.Android,version:ns};return rs&&(is.versionName=rs),is}},{test:[/(web|hpw)[o0]s/i],describe(ts){const ns=Utils.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,ts),rs={name:OS_MAP.WebOS};return ns&&ns.length&&(rs.version=ns),rs}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(ts){const ns=Utils.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,ts)||Utils.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,ts)||Utils.getFirstMatch(/\bbb(\d+)/i,ts);return{name:OS_MAP.BlackBerry,version:ns}}},{test:[/bada/i],describe(ts){const ns=Utils.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,ts);return{name:OS_MAP.Bada,version:ns}}},{test:[/tizen/i],describe(ts){const ns=Utils.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,ts);return{name:OS_MAP.Tizen,version:ns}}},{test:[/linux/i],describe(){return{name:OS_MAP.Linux}}},{test:[/CrOS/],describe(){return{name:OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe(ts){const ns=Utils.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,ts);return{name:OS_MAP.PlayStation4,version:ns}}}],platformParsersList=[{test:[/googlebot/i],describe(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe(ts){const ns=Utils.getFirstMatch(/(can-l01)/i,ts)&&"Nova",rs={type:PLATFORMS_MAP.mobile,vendor:"Huawei"};return ns&&(rs.model=ns),rs}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe(){return{type:PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe(){return{type:PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(){return{type:PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe(){return{type:PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe(){return{type:PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe(){return{type:PLATFORMS_MAP.tablet}}},{test(ts){const ns=ts.test(/ipod|iphone/i),rs=ts.test(/like (ipod|iphone)/i);return ns&&!rs},describe(ts){const ns=Utils.getFirstMatch(/(ipod|iphone)/i,ts);return{type:PLATFORMS_MAP.mobile,vendor:"Apple",model:ns}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe(){return{type:PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe(){return{type:PLATFORMS_MAP.mobile}}},{test(ts){return ts.getBrowserName(!0)==="blackberry"},describe(){return{type:PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test(ts){return ts.getBrowserName(!0)==="bada"},describe(){return{type:PLATFORMS_MAP.mobile}}},{test(ts){return ts.getBrowserName()==="windows phone"},describe(){return{type:PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test(ts){const ns=Number(String(ts.getOSVersion()).split(".")[0]);return ts.getOSName(!0)==="android"&&ns>=3},describe(){return{type:PLATFORMS_MAP.tablet}}},{test(ts){return ts.getOSName(!0)==="android"},describe(){return{type:PLATFORMS_MAP.mobile}}},{test(ts){return ts.getOSName(!0)==="macos"},describe(){return{type:PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test(ts){return ts.getOSName(!0)==="windows"},describe(){return{type:PLATFORMS_MAP.desktop}}},{test(ts){return ts.getOSName(!0)==="linux"},describe(){return{type:PLATFORMS_MAP.desktop}}},{test(ts){return ts.getOSName(!0)==="playstation 4"},describe(){return{type:PLATFORMS_MAP.tv}}},{test(ts){return ts.getOSName(!0)==="roku"},describe(){return{type:PLATFORMS_MAP.tv}}}],enginesParsersList=[{test(ts){return ts.getBrowserName(!0)==="microsoft edge"},describe(ts){if(/\sedg\//i.test(ts))return{name:ENGINE_MAP.Blink};const rs=Utils.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,ts);return{name:ENGINE_MAP.EdgeHTML,version:rs}}},{test:[/trident/i],describe(ts){const ns={name:ENGINE_MAP.Trident},rs=Utils.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,ts);return rs&&(ns.version=rs),ns}},{test(ts){return ts.test(/presto/i)},describe(ts){const ns={name:ENGINE_MAP.Presto},rs=Utils.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,ts);return rs&&(ns.version=rs),ns}},{test(ts){const ns=ts.test(/gecko/i),rs=ts.test(/like gecko/i);return ns&&!rs},describe(ts){const ns={name:ENGINE_MAP.Gecko},rs=Utils.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,ts);return rs&&(ns.version=rs),ns}},{test:[/(apple)?webkit\/537\.36/i],describe(){return{name:ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe(ts){const ns={name:ENGINE_MAP.WebKit},rs=Utils.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,ts);return rs&&(ns.version=rs),ns}}];class Parser{constructor(ns,rs=!1){if(ns==null||ns==="")throw new Error("UserAgent parameter can't be empty");this._ua=ns,this.parsedResult={},rs!==!0&&this.parse()}getUA(){return this._ua}test(ns){return ns.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const ns=Utils.find(browsersList,rs=>{if(typeof rs.test=="function")return rs.test(this);if(rs.test instanceof Array)return rs.test.some(is=>this.test(is));throw new Error("Browser's test function is not valid")});return ns&&(this.parsedResult.browser=ns.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(ns){return ns?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const ns=Utils.find(osParsersList,rs=>{if(typeof rs.test=="function")return rs.test(this);if(rs.test instanceof Array)return rs.test.some(is=>this.test(is));throw new Error("Browser's test function is not valid")});return ns&&(this.parsedResult.os=ns.describe(this.getUA())),this.parsedResult.os}getOSName(ns){const{name:rs}=this.getOS();return ns?String(rs).toLowerCase()||"":rs||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(ns=!1){const{type:rs}=this.getPlatform();return ns?String(rs).toLowerCase()||"":rs||""}parsePlatform(){this.parsedResult.platform={};const ns=Utils.find(platformParsersList,rs=>{if(typeof rs.test=="function")return rs.test(this);if(rs.test instanceof Array)return rs.test.some(is=>this.test(is));throw new Error("Browser's test function is not valid")});return ns&&(this.parsedResult.platform=ns.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(ns){return ns?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const ns=Utils.find(enginesParsersList,rs=>{if(typeof rs.test=="function")return rs.test(this);if(rs.test instanceof Array)return rs.test.some(is=>this.test(is));throw new Error("Browser's test function is not valid")});return ns&&(this.parsedResult.engine=ns.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return Utils.assign({},this.parsedResult)}satisfies(ns){const rs={};let is=0;const os={};let ss=0;if(Object.keys(ns).forEach(ls=>{const cs=ns[ls];typeof cs=="string"?(os[ls]=cs,ss+=1):typeof cs=="object"&&(rs[ls]=cs,is+=1)}),is>0){const ls=Object.keys(rs),cs=Utils.find(ls,ds=>this.isOS(ds));if(cs){const ds=this.satisfies(rs[cs]);if(ds!==void 0)return ds}const us=Utils.find(ls,ds=>this.isPlatform(ds));if(us){const ds=this.satisfies(rs[us]);if(ds!==void 0)return ds}}if(ss>0){const ls=Object.keys(os),cs=Utils.find(ls,us=>this.isBrowser(us,!0));if(cs!==void 0)return this.compareVersion(os[cs])}}isBrowser(ns,rs=!1){const is=this.getBrowserName().toLowerCase();let os=ns.toLowerCase();const ss=Utils.getBrowserTypeByAlias(os);return rs&&ss&&(os=ss.toLowerCase()),os===is}compareVersion(ns){let rs=[0],is=ns,os=!1;const ss=this.getBrowserVersion();if(typeof ss=="string")return ns[0]===">"||ns[0]==="<"?(is=ns.substr(1),ns[1]==="="?(os=!0,is=ns.substr(2)):rs=[],ns[0]===">"?rs.push(1):rs.push(-1)):ns[0]==="="?is=ns.substr(1):ns[0]==="~"&&(os=!0,is=ns.substr(1)),rs.indexOf(Utils.compareVersions(ss,is,os))>-1}isOS(ns){return this.getOSName(!0)===String(ns).toLowerCase()}isPlatform(ns){return this.getPlatformType(!0)===String(ns).toLowerCase()}isEngine(ns){return this.getEngineName(!0)===String(ns).toLowerCase()}is(ns,rs=!1){return this.isBrowser(ns,rs)||this.isOS(ns)||this.isPlatform(ns)}some(ns=[]){return ns.some(rs=>this.is(rs))}}/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */class Bowser{static getParser(ns,rs=!1){if(typeof ns!="string")throw new Error("UserAgent should be a string");return new Parser(ns,rs)}static parse(ns){return new Parser(ns).getResult()}static get BROWSER_MAP(){return BROWSER_MAP}static get ENGINE_MAP(){return ENGINE_MAP}static get OS_MAP(){return OS_MAP}static get PLATFORMS_MAP(){return PLATFORMS_MAP}}const defaultUserAgent=({serviceId:ts,clientVersion:ns})=>async()=>{var os,ss,as,ls,cs,us,ds;const rs=typeof window<"u"&&((os=window==null?void 0:window.navigator)!=null&&os.userAgent)?Bowser.parse(window.navigator.userAgent):void 0,is=[["aws-sdk-js",ns],["ua","2.0"],["os/".concat(((ss=rs==null?void 0:rs.os)==null?void 0:ss.name)||"other"),(as=rs==null?void 0:rs.os)==null?void 0:as.version],["lang/js"],["md/browser","".concat((cs=(ls=rs==null?void 0:rs.browser)==null?void 0:ls.name)!=null?cs:"unknown","_").concat((ds=(us=rs==null?void 0:rs.browser)==null?void 0:us.version)!=null?ds:"unknown")]];return ts&&is.push(["api/".concat(ts),ns]),is},invalidProvider=ts=>()=>Promise.reject(ts),TEXT_ENCODER=typeof TextEncoder=="function"?new TextEncoder:null,calculateBodyLength=ts=>{if(typeof ts=="string"){if(TEXT_ENCODER)return TEXT_ENCODER.encode(ts).byteLength;let ns=ts.length;for(let rs=ns-1;rs>=0;rs--){const is=ts.charCodeAt(rs);is>127&&is<=2047?ns++:is>2047&&is<=65535&&(ns+=2),is>=56320&&is<=57343&&rs--}return ns}else{if(typeof ts.byteLength=="number")return ts.byteLength;if(typeof ts.size=="number")return ts.size}throw new Error("Body Length computation failed for ".concat(ts))},s="required",t="fn",u="argv",v="ref",a=!0,b="isSet",c="booleanEquals",d="error",e="endpoint",f="tree",g="PartitionResult",h={[s]:!1,type:"String"},i$1={[s]:!0,default:!1,type:"Boolean"},j={[v]:"Endpoint"},k={[t]:c,[u]:[{[v]:"UseFIPS"},!0]},l={[t]:c,[u]:[{[v]:"UseDualStack"},!0]},m={},n={[t]:"getAttr",[u]:[{[v]:g},"supportsFIPS"]},o={[t]:c,[u]:[!0,{[t]:"getAttr",[u]:[{[v]:g},"supportsDualStack"]}]},p=[k],q=[l],r=[{[v]:"Region"}],_data={version:"1.0",parameters:{Region:h,UseDualStack:i$1,UseFIPS:i$1,Endpoint:h},rules:[{conditions:[{[t]:b,[u]:[j]}],rules:[{conditions:p,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:d},{conditions:q,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:d},{endpoint:{url:j,properties:m,headers:m},type:e}],type:f},{conditions:[{[t]:b,[u]:r}],rules:[{conditions:[{[t]:"aws.partition",[u]:r,assign:g}],rules:[{conditions:[k,l],rules:[{conditions:[{[t]:c,[u]:[a,n]},o],rules:[{endpoint:{url:"https://messaging-chime-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:m,headers:m},type:e}],type:f},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:d}],type:f},{conditions:p,rules:[{conditions:[{[t]:c,[u]:[n,a]}],rules:[{endpoint:{url:"https://messaging-chime-fips.{Region}.{PartitionResult#dnsSuffix}",properties:m,headers:m},type:e}],type:f},{error:"FIPS is enabled but this partition does not support FIPS",type:d}],type:f},{conditions:q,rules:[{conditions:[o],rules:[{endpoint:{url:"https://messaging-chime.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:m,headers:m},type:e}],type:f},{error:"DualStack is enabled but this partition does not support DualStack",type:d}],type:f},{endpoint:{url:"https://messaging-chime.{Region}.{PartitionResult#dnsSuffix}",properties:m,headers:m},type:e}],type:f}],type:f},{error:"Invalid Configuration: Missing Region",type:d}]},ruleSet=_data,defaultEndpointResolver=(ts,ns={})=>resolveEndpoint(ruleSet,{endpointParams:ts,logger:ns.logger});customEndpointFunctions.aws=awsEndpointFunctions;const getRuntimeConfig$1=ts=>{var ns,rs,is,os,ss,as,ls,cs,us,ds,ps,hs;return{apiVersion:"2021-05-15",base64Decoder:(ns=ts==null?void 0:ts.base64Decoder)!=null?ns:fromBase64,base64Encoder:(rs=ts==null?void 0:ts.base64Encoder)!=null?rs:toBase64,disableHostPrefix:(is=ts==null?void 0:ts.disableHostPrefix)!=null?is:!1,endpointProvider:(os=ts==null?void 0:ts.endpointProvider)!=null?os:defaultEndpointResolver,extensions:(ss=ts==null?void 0:ts.extensions)!=null?ss:[],httpAuthSchemeProvider:(as=ts==null?void 0:ts.httpAuthSchemeProvider)!=null?as:defaultChimeSDKMessagingHttpAuthSchemeProvider,httpAuthSchemes:(ls=ts==null?void 0:ts.httpAuthSchemes)!=null?ls:[{schemeId:"aws.auth#sigv4",identityProvider:ms=>ms.getIdentityProvider("aws.auth#sigv4"),signer:new AwsSdkSigV4Signer}],logger:(cs=ts==null?void 0:ts.logger)!=null?cs:new NoOpLogger$2,serviceId:(us=ts==null?void 0:ts.serviceId)!=null?us:"Chime SDK Messaging",urlParser:(ds=ts==null?void 0:ts.urlParser)!=null?ds:parseUrl,utf8Decoder:(ps=ts==null?void 0:ts.utf8Decoder)!=null?ps:fromUtf8$5,utf8Encoder:(hs=ts==null?void 0:ts.utf8Encoder)!=null?hs:toUtf8$3}},memoize$1=(ts,ns,rs)=>{let is,os,ss,as=!1;const ls=async()=>{os||(os=ts());try{is=await os,ss=!0,as=!1}finally{os=void 0}return is};return ns===void 0?async cs=>((!ss||cs!=null&&cs.forceRefresh)&&(is=await ls()),is):async cs=>((!ss||cs!=null&&cs.forceRefresh)&&(is=await ls()),as?is:rs&&!rs(is)?(as=!0,is):(ns(is)&&await ls(),is))},DEFAULTS_MODE_OPTIONS=["in-region","cross-region","mobile","standard","legacy"],resolveDefaultsModeConfig=({defaultsMode:ts}={})=>memoize$1(async()=>{const ns=typeof ts=="function"?await ts():ts;switch(ns==null?void 0:ns.toLowerCase()){case"auto":return Promise.resolve(isMobileBrowser()?"mobile":"standard");case"mobile":case"in-region":case"cross-region":case"standard":case"legacy":return Promise.resolve(ns==null?void 0:ns.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error('Invalid parameter for "defaultsMode", expect '.concat(DEFAULTS_MODE_OPTIONS.join(", "),", got ").concat(ns))}}),isMobileBrowser=()=>{var rs,is;const ts=typeof window<"u"&&((rs=window==null?void 0:window.navigator)!=null&&rs.userAgent)?Bowser.parse(window.navigator.userAgent):void 0,ns=(is=ts==null?void 0:ts.platform)==null?void 0:is.type;return ns==="tablet"||ns==="mobile"},getRuntimeConfig=ts=>{var os,ss,as,ls,cs,us,ds,ps,hs,ms,gs;const ns=resolveDefaultsModeConfig(ts),rs=()=>ns().then(loadConfigsForDefaultMode),is=getRuntimeConfig$1(ts);return{...is,...ts,runtime:"browser",defaultsMode:ns,bodyLengthChecker:(os=ts==null?void 0:ts.bodyLengthChecker)!=null?os:calculateBodyLength,credentialDefaultProvider:(ss=ts==null?void 0:ts.credentialDefaultProvider)!=null?ss:ys=>()=>Promise.reject(new Error("Credential is missing")),defaultUserAgentProvider:(as=ts==null?void 0:ts.defaultUserAgentProvider)!=null?as:defaultUserAgent({serviceId:is.serviceId,clientVersion:packageInfo.version}),maxAttempts:(ls=ts==null?void 0:ts.maxAttempts)!=null?ls:DEFAULT_MAX_ATTEMPTS,region:(cs=ts==null?void 0:ts.region)!=null?cs:invalidProvider("Region is missing"),requestHandler:FetchHttpHandler.create((us=ts==null?void 0:ts.requestHandler)!=null?us:rs),retryMode:(ds=ts==null?void 0:ts.retryMode)!=null?ds:async()=>(await rs()).retryMode||DEFAULT_RETRY_MODE,sha256:(ps=ts==null?void 0:ts.sha256)!=null?ps:Sha256,streamCollector:(hs=ts==null?void 0:ts.streamCollector)!=null?hs:streamCollector,useDualstackEndpoint:(ms=ts==null?void 0:ts.useDualstackEndpoint)!=null?ms:()=>Promise.resolve(DEFAULT_USE_DUALSTACK_ENDPOINT),useFipsEndpoint:(gs=ts==null?void 0:ts.useFipsEndpoint)!=null?gs:()=>Promise.resolve(DEFAULT_USE_FIPS_ENDPOINT)}},getAwsRegionExtensionConfiguration=ts=>{let ns=async()=>{if(ts.region===void 0)throw new Error("Region is missing from runtimeConfig");const rs=ts.region;return typeof rs=="string"?rs:rs()};return{setRegion(rs){ns=rs},region(){return ns}}},resolveAwsRegionExtensionConfiguration=ts=>({region:ts.region()}),getHttpAuthExtensionConfiguration=ts=>{const ns=ts.httpAuthSchemes;let rs=ts.httpAuthSchemeProvider,is=ts.credentials;return{setHttpAuthScheme(os){const ss=ns.findIndex(as=>as.schemeId===os.schemeId);ss===-1?ns.push(os):ns.splice(ss,1,os)},httpAuthSchemes(){return ns},setHttpAuthSchemeProvider(os){rs=os},httpAuthSchemeProvider(){return rs},setCredentials(os){is=os},credentials(){return is}}},resolveHttpAuthRuntimeConfig=ts=>({httpAuthSchemes:ts.httpAuthSchemes(),httpAuthSchemeProvider:ts.httpAuthSchemeProvider(),credentials:ts.credentials()}),asPartial=ts=>ts,resolveRuntimeExtensions=(ts,ns)=>{const rs={...asPartial(getAwsRegionExtensionConfiguration(ts)),...asPartial(getDefaultExtensionConfiguration(ts)),...asPartial(getHttpHandlerExtensionConfiguration(ts)),...asPartial(getHttpAuthExtensionConfiguration(ts))};return ns.forEach(is=>is.configure(rs)),{...ts,...resolveAwsRegionExtensionConfiguration(rs),...resolveDefaultRuntimeConfig(rs),...resolveHttpHandlerRuntimeConfig(rs),...resolveHttpAuthRuntimeConfig(rs)}};class ChimeSDKMessagingClient extends Client{constructor(...[ns]){const rs=getRuntimeConfig(ns||{}),is=resolveClientEndpointParameters(rs),os=resolveRegionConfig(is),ss=resolveEndpointConfig(os),as=ss,ls=resolveUserAgentConfig(as),cs=resolveRetryConfig(ls),us=resolveHttpAuthSchemeConfig(cs),ds=resolveRuntimeExtensions(us,(ns==null?void 0:ns.extensions)||[]);super(ds),this.config=ds,this.middlewareStack.use(getHostHeaderPlugin(this.config)),this.middlewareStack.use(getLoggerPlugin(this.config)),this.middlewareStack.use(getRecursionDetectionPlugin(this.config)),this.middlewareStack.use(getUserAgentPlugin(this.config)),this.middlewareStack.use(getRetryPlugin(this.config)),this.middlewareStack.use(getContentLengthPlugin(this.config)),this.middlewareStack.use(getHttpAuthSchemeEndpointRuleSetPlugin(this.config,{httpAuthSchemeParametersProvider:this.getDefaultHttpAuthSchemeParametersProvider(),identityProviderConfigProvider:this.getIdentityProviderConfigProvider()})),this.middlewareStack.use(getHttpSigningPlugin(this.config))}destroy(){super.destroy()}getDefaultHttpAuthSchemeParametersProvider(){return defaultChimeSDKMessagingHttpAuthSchemeParametersProvider}getIdentityProviderConfigProvider(){return async ns=>new DefaultIdentityProviderConfig({"aws.auth#sigv4":ns.credentials})}}class ChimeSDKMessagingServiceException extends ServiceException{constructor(ns){super(ns),Object.setPrototypeOf(this,ChimeSDKMessagingServiceException.prototype)}}const AllowNotifications={ALL:"ALL",FILTERED:"FILTERED",NONE:"NONE"},ChannelMembershipType={DEFAULT:"DEFAULT",HIDDEN:"HIDDEN"},ErrorCode={AccessDenied:"AccessDenied",BadRequest:"BadRequest",Conflict:"Conflict",Forbidden:"Forbidden",NotFound:"NotFound",PhoneNumberAssociationsExist:"PhoneNumberAssociationsExist",PreconditionFailed:"PreconditionFailed",ResourceLimitExceeded:"ResourceLimitExceeded",ServiceFailure:"ServiceFailure",ServiceUnavailable:"ServiceUnavailable",Throttled:"Throttled",Throttling:"Throttling",Unauthorized:"Unauthorized",Unprocessable:"Unprocessable",VoiceConnectorGroupAssociationsExist:"VoiceConnectorGroupAssociationsExist"};class BadRequestException extends ChimeSDKMessagingServiceException{constructor(ns){super({name:"BadRequestException",$fault:"client",...ns}),this.name="BadRequestException",this.$fault="client",Object.setPrototypeOf(this,BadRequestException.prototype),this.Code=ns.Code,this.Message=ns.Message}}class ConflictException extends ChimeSDKMessagingServiceException{constructor(ns){super({name:"ConflictException",$fault:"client",...ns}),this.name="ConflictException",this.$fault="client",Object.setPrototypeOf(this,ConflictException.prototype),this.Code=ns.Code,this.Message=ns.Message}}class ForbiddenException extends ChimeSDKMessagingServiceException{constructor(ns){super({name:"ForbiddenException",$fault:"client",...ns}),this.name="ForbiddenException",this.$fault="client",Object.setPrototypeOf(this,ForbiddenException.prototype),this.Code=ns.Code,this.Message=ns.Message}}class NotFoundException extends ChimeSDKMessagingServiceException{constructor(ns){super({name:"NotFoundException",$fault:"client",...ns}),this.name="NotFoundException",this.$fault="client",Object.setPrototypeOf(this,NotFoundException.prototype),this.Code=ns.Code,this.Message=ns.Message}}class ServiceFailureException extends ChimeSDKMessagingServiceException{constructor(ns){super({name:"ServiceFailureException",$fault:"server",...ns}),this.name="ServiceFailureException",this.$fault="server",Object.setPrototypeOf(this,ServiceFailureException.prototype),this.Code=ns.Code,this.Message=ns.Message}}class ServiceUnavailableException extends ChimeSDKMessagingServiceException{constructor(ns){super({name:"ServiceUnavailableException",$fault:"server",...ns}),this.name="ServiceUnavailableException",this.$fault="server",Object.setPrototypeOf(this,ServiceUnavailableException.prototype),this.Code=ns.Code,this.Message=ns.Message}}class ThrottledClientException extends ChimeSDKMessagingServiceException{constructor(ns){super({name:"ThrottledClientException",$fault:"client",...ns}),this.name="ThrottledClientException",this.$fault="client",Object.setPrototypeOf(this,ThrottledClientException.prototype),this.Code=ns.Code,this.Message=ns.Message}}class UnauthorizedClientException extends ChimeSDKMessagingServiceException{constructor(ns){super({name:"UnauthorizedClientException",$fault:"client",...ns}),this.name="UnauthorizedClientException",this.$fault="client",Object.setPrototypeOf(this,UnauthorizedClientException.prototype),this.Code=ns.Code,this.Message=ns.Message}}class ResourceLimitExceededException extends ChimeSDKMessagingServiceException{constructor(ns){super({name:"ResourceLimitExceededException",$fault:"client",...ns}),this.name="ResourceLimitExceededException",this.$fault="client",Object.setPrototypeOf(this,ResourceLimitExceededException.prototype),this.Code=ns.Code,this.Message=ns.Message}}const ExpirationCriterion={CREATED_TIMESTAMP:"CREATED_TIMESTAMP",LAST_MESSAGE_TIMESTAMP:"LAST_MESSAGE_TIMESTAMP"},ChannelMode={RESTRICTED:"RESTRICTED",UNRESTRICTED:"UNRESTRICTED"},ChannelPrivacy={PRIVATE:"PRIVATE",PUBLIC:"PUBLIC"},InvocationType={ASYNC:"ASYNC"},FallbackAction={ABORT:"ABORT",CONTINUE:"CONTINUE"},PushNotificationType={DEFAULT:"DEFAULT",VOIP:"VOIP"},ChannelMessagePersistenceType={NON_PERSISTENT:"NON_PERSISTENT",PERSISTENT:"PERSISTENT"},ChannelMessageStatus={DENIED:"DENIED",FAILED:"FAILED",PENDING:"PENDING",SENT:"SENT"},ChannelMessageType={CONTROL:"CONTROL",STANDARD:"STANDARD"},MessagingDataType={Channel:"Channel",ChannelMessage:"ChannelMessage"},SortOrder={ASCENDING:"ASCENDING",DESCENDING:"DESCENDING"},SearchFieldKey={MEMBERS:"MEMBERS"},SearchFieldOperator={EQUALS:"EQUALS",INCLUDES:"INCLUDES"},IdentityFilterSensitiveLog=ts=>({...ts,...ts.Name&&{Name:SENSITIVE_STRING}}),BatchChannelMembershipsFilterSensitiveLog=ts=>({...ts,...ts.InvitedBy&&{InvitedBy:IdentityFilterSensitiveLog(ts.InvitedBy)},...ts.Members&&{Members:ts.Members.map(ns=>IdentityFilterSensitiveLog(ns))}}),BatchCreateChannelMembershipResponseFilterSensitiveLog=ts=>({...ts,...ts.BatchChannelMemberships&&{BatchChannelMemberships:BatchChannelMembershipsFilterSensitiveLog(ts.BatchChannelMemberships)}}),ChannelFilterSensitiveLog=ts=>({...ts,...ts.Name&&{Name:SENSITIVE_STRING},...ts.Metadata&&{Metadata:SENSITIVE_STRING},...ts.CreatedBy&&{CreatedBy:IdentityFilterSensitiveLog(ts.CreatedBy)}}),ChannelAssociatedWithFlowSummaryFilterSensitiveLog=ts=>({...ts,...ts.Name&&{Name:SENSITIVE_STRING},...ts.Metadata&&{Metadata:SENSITIVE_STRING}}),ChannelBanFilterSensitiveLog=ts=>({...ts,...ts.Member&&{Member:IdentityFilterSensitiveLog(ts.Member)},...ts.CreatedBy&&{CreatedBy:IdentityFilterSensitiveLog(ts.CreatedBy)}}),ChannelBanSummaryFilterSensitiveLog=ts=>({...ts,...ts.Member&&{Member:IdentityFilterSensitiveLog(ts.Member)}}),ProcessorFilterSensitiveLog=ts=>({...ts,...ts.Name&&{Name:SENSITIVE_STRING}}),ChannelFlowFilterSensitiveLog=ts=>({...ts,...ts.Processors&&{Processors:ts.Processors.map(ns=>ProcessorFilterSensitiveLog(ns))},...ts.Name&&{Name:SENSITIVE_STRING}}),MessageAttributeValueFilterSensitiveLog=ts=>({...ts,...ts.StringValues&&{StringValues:SENSITIVE_STRING}}),PushNotificationConfigurationFilterSensitiveLog=ts=>({...ts,...ts.Title&&{Title:SENSITIVE_STRING},...ts.Body&&{Body:SENSITIVE_STRING}}),ChannelMessageCallbackFilterSensitiveLog=ts=>({...ts,...ts.Content&&{Content:SENSITIVE_STRING},...ts.Metadata&&{Metadata:SENSITIVE_STRING},...ts.PushNotification&&{PushNotification:PushNotificationConfigurationFilterSensitiveLog(ts.PushNotification)},...ts.MessageAttributes&&{MessageAttributes:Object.entries(ts.MessageAttributes).reduce((ns,[rs,is])=>(ns[rs]=MessageAttributeValueFilterSensitiveLog(is),ns),{})},...ts.ContentType&&{ContentType:SENSITIVE_STRING}}),ChannelFlowCallbackRequestFilterSensitiveLog=ts=>({...ts,...ts.ChannelMessage&&{ChannelMessage:ChannelMessageCallbackFilterSensitiveLog(ts.ChannelMessage)}}),ChannelFlowSummaryFilterSensitiveLog=ts=>({...ts,...ts.Name&&{Name:SENSITIVE_STRING},...ts.Processors&&{Processors:ts.Processors.map(ns=>ProcessorFilterSensitiveLog(ns))}}),ChannelMembershipFilterSensitiveLog=ts=>({...ts,...ts.InvitedBy&&{InvitedBy:IdentityFilterSensitiveLog(ts.InvitedBy)},...ts.Member&&{Member:IdentityFilterSensitiveLog(ts.Member)}}),ChannelSummaryFilterSensitiveLog=ts=>({...ts,...ts.Name&&{Name:SENSITIVE_STRING},...ts.Metadata&&{Metadata:SENSITIVE_STRING}}),ChannelMembershipForAppInstanceUserSummaryFilterSensitiveLog=ts=>({...ts,...ts.ChannelSummary&&{ChannelSummary:ChannelSummaryFilterSensitiveLog(ts.ChannelSummary)}}),PushNotificationPreferencesFilterSensitiveLog=ts=>({...ts,...ts.FilterRule&&{FilterRule:SENSITIVE_STRING}}),ChannelMembershipPreferencesFilterSensitiveLog=ts=>({...ts,...ts.PushNotifications&&{PushNotifications:PushNotificationPreferencesFilterSensitiveLog(ts.PushNotifications)}}),ChannelMembershipSummaryFilterSensitiveLog=ts=>({...ts,...ts.Member&&{Member:IdentityFilterSensitiveLog(ts.Member)}}),ChannelMessageFilterSensitiveLog=ts=>({...ts,...ts.Content&&{Content:SENSITIVE_STRING},...ts.Metadata&&{Metadata:SENSITIVE_STRING},...ts.Sender&&{Sender:IdentityFilterSensitiveLog(ts.Sender)},...ts.MessageAttributes&&{MessageAttributes:Object.entries(ts.MessageAttributes).reduce((ns,[rs,is])=>(ns[rs]=MessageAttributeValueFilterSensitiveLog(is),ns),{})},...ts.ContentType&&{ContentType:SENSITIVE_STRING}}),ChannelMessageSummaryFilterSensitiveLog=ts=>({...ts,...ts.Content&&{Content:SENSITIVE_STRING},...ts.Metadata&&{Metadata:SENSITIVE_STRING},...ts.Sender&&{Sender:IdentityFilterSensitiveLog(ts.Sender)},...ts.MessageAttributes&&{MessageAttributes:Object.entries(ts.MessageAttributes).reduce((ns,[rs,is])=>(ns[rs]=MessageAttributeValueFilterSensitiveLog(is),ns),{})},...ts.ContentType&&{ContentType:SENSITIVE_STRING}}),ChannelModeratedByAppInstanceUserSummaryFilterSensitiveLog=ts=>({...ts,...ts.ChannelSummary&&{ChannelSummary:ChannelSummaryFilterSensitiveLog(ts.ChannelSummary)}}),ChannelModeratorFilterSensitiveLog=ts=>({...ts,...ts.Moderator&&{Moderator:IdentityFilterSensitiveLog(ts.Moderator)},...ts.CreatedBy&&{CreatedBy:IdentityFilterSensitiveLog(ts.CreatedBy)}}),ChannelModeratorSummaryFilterSensitiveLog=ts=>({...ts,...ts.Moderator&&{Moderator:IdentityFilterSensitiveLog(ts.Moderator)}}),TagFilterSensitiveLog=ts=>({...ts,...ts.Key&&{Key:SENSITIVE_STRING},...ts.Value&&{Value:SENSITIVE_STRING}}),CreateChannelRequestFilterSensitiveLog=ts=>({...ts,...ts.Name&&{Name:SENSITIVE_STRING},...ts.Metadata&&{Metadata:SENSITIVE_STRING},...ts.ClientRequestToken&&{ClientRequestToken:SENSITIVE_STRING},...ts.Tags&&{Tags:ts.Tags.map(ns=>TagFilterSensitiveLog(ns))},...ts.ChannelId&&{ChannelId:SENSITIVE_STRING}}),CreateChannelBanResponseFilterSensitiveLog=ts=>({...ts,...ts.Member&&{Member:IdentityFilterSensitiveLog(ts.Member)}}),CreateChannelFlowRequestFilterSensitiveLog=ts=>({...ts,...ts.Processors&&{Processors:ts.Processors.map(ns=>ProcessorFilterSensitiveLog(ns))},...ts.Name&&{Name:SENSITIVE_STRING},...ts.Tags&&{Tags:ts.Tags.map(ns=>TagFilterSensitiveLog(ns))},...ts.ClientRequestToken&&{ClientRequestToken:SENSITIVE_STRING}}),CreateChannelMembershipResponseFilterSensitiveLog=ts=>({...ts,...ts.Member&&{Member:IdentityFilterSensitiveLog(ts.Member)}}),CreateChannelModeratorResponseFilterSensitiveLog=ts=>({...ts,...ts.ChannelModerator&&{ChannelModerator:IdentityFilterSensitiveLog(ts.ChannelModerator)}}),DescribeChannelResponseFilterSensitiveLog=ts=>({...ts,...ts.Channel&&{Channel:ChannelFilterSensitiveLog(ts.Channel)}}),DescribeChannelBanResponseFilterSensitiveLog=ts=>({...ts,...ts.ChannelBan&&{ChannelBan:ChannelBanFilterSensitiveLog(ts.ChannelBan)}}),DescribeChannelFlowResponseFilterSensitiveLog=ts=>({...ts,...ts.ChannelFlow&&{ChannelFlow:ChannelFlowFilterSensitiveLog(ts.ChannelFlow)}}),DescribeChannelMembershipResponseFilterSensitiveLog=ts=>({...ts,...ts.ChannelMembership&&{ChannelMembership:ChannelMembershipFilterSensitiveLog(ts.ChannelMembership)}}),DescribeChannelMembershipForAppInstanceUserResponseFilterSensitiveLog=ts=>({...ts,...ts.ChannelMembership&&{ChannelMembership:ChannelMembershipForAppInstanceUserSummaryFilterSensitiveLog(ts.ChannelMembership)}}),DescribeChannelModeratedByAppInstanceUserResponseFilterSensitiveLog=ts=>({...ts,...ts.Channel&&{Channel:ChannelModeratedByAppInstanceUserSummaryFilterSensitiveLog(ts.Channel)}}),DescribeChannelModeratorResponseFilterSensitiveLog=ts=>({...ts,...ts.ChannelModerator&&{ChannelModerator:ChannelModeratorFilterSensitiveLog(ts.ChannelModerator)}}),GetChannelMembershipPreferencesResponseFilterSensitiveLog=ts=>({...ts,...ts.Member&&{Member:IdentityFilterSensitiveLog(ts.Member)},...ts.Preferences&&{Preferences:ChannelMembershipPreferencesFilterSensitiveLog(ts.Preferences)}}),GetChannelMessageResponseFilterSensitiveLog=ts=>({...ts,...ts.ChannelMessage&&{ChannelMessage:ChannelMessageFilterSensitiveLog(ts.ChannelMessage)}}),ListChannelBansRequestFilterSensitiveLog=ts=>({...ts,...ts.NextToken&&{NextToken:SENSITIVE_STRING}}),ListChannelBansResponseFilterSensitiveLog=ts=>({...ts,...ts.NextToken&&{NextToken:SENSITIVE_STRING},...ts.ChannelBans&&{ChannelBans:ts.ChannelBans.map(ns=>ChannelBanSummaryFilterSensitiveLog(ns))}}),ListChannelFlowsRequestFilterSensitiveLog=ts=>({...ts,...ts.NextToken&&{NextToken:SENSITIVE_STRING}}),ListChannelFlowsResponseFilterSensitiveLog=ts=>({...ts,...ts.ChannelFlows&&{ChannelFlows:ts.ChannelFlows.map(ns=>ChannelFlowSummaryFilterSensitiveLog(ns))},...ts.NextToken&&{NextToken:SENSITIVE_STRING}}),ListChannelMembershipsRequestFilterSensitiveLog=ts=>({...ts,...ts.NextToken&&{NextToken:SENSITIVE_STRING}}),ListChannelMembershipsResponseFilterSensitiveLog=ts=>({...ts,...ts.ChannelMemberships&&{ChannelMemberships:ts.ChannelMemberships.map(ns=>ChannelMembershipSummaryFilterSensitiveLog(ns))},...ts.NextToken&&{NextToken:SENSITIVE_STRING}}),ListChannelMembershipsForAppInstanceUserRequestFilterSensitiveLog=ts=>({...ts,...ts.NextToken&&{NextToken:SENSITIVE_STRING}}),ListChannelMembershipsForAppInstanceUserResponseFilterSensitiveLog=ts=>({...ts,...ts.ChannelMemberships&&{ChannelMemberships:ts.ChannelMemberships.map(ns=>ChannelMembershipForAppInstanceUserSummaryFilterSensitiveLog(ns))},...ts.NextToken&&{NextToken:SENSITIVE_STRING}}),ListChannelMessagesRequestFilterSensitiveLog=ts=>({...ts,...ts.NextToken&&{NextToken:SENSITIVE_STRING}}),ListChannelMessagesResponseFilterSensitiveLog=ts=>({...ts,...ts.NextToken&&{NextToken:SENSITIVE_STRING},...ts.ChannelMessages&&{ChannelMessages:ts.ChannelMessages.map(ns=>ChannelMessageSummaryFilterSensitiveLog(ns))}}),ListChannelModeratorsRequestFilterSensitiveLog=ts=>({...ts,...ts.NextToken&&{NextToken:SENSITIVE_STRING}}),ListChannelModeratorsResponseFilterSensitiveLog=ts=>({...ts,...ts.NextToken&&{NextToken:SENSITIVE_STRING},...ts.ChannelModerators&&{ChannelModerators:ts.ChannelModerators.map(ns=>ChannelModeratorSummaryFilterSensitiveLog(ns))}}),ListChannelsRequestFilterSensitiveLog=ts=>({...ts,...ts.NextToken&&{NextToken:SENSITIVE_STRING}}),ListChannelsResponseFilterSensitiveLog=ts=>({...ts,...ts.Channels&&{Channels:ts.Channels.map(ns=>ChannelSummaryFilterSensitiveLog(ns))},...ts.NextToken&&{NextToken:SENSITIVE_STRING}}),ListChannelsAssociatedWithChannelFlowRequestFilterSensitiveLog=ts=>({...ts,...ts.NextToken&&{NextToken:SENSITIVE_STRING}}),ListChannelsAssociatedWithChannelFlowResponseFilterSensitiveLog=ts=>({...ts,...ts.Channels&&{Channels:ts.Channels.map(ns=>ChannelAssociatedWithFlowSummaryFilterSensitiveLog(ns))},...ts.NextToken&&{NextToken:SENSITIVE_STRING}}),ListChannelsModeratedByAppInstanceUserRequestFilterSensitiveLog=ts=>({...ts,...ts.NextToken&&{NextToken:SENSITIVE_STRING}}),ListChannelsModeratedByAppInstanceUserResponseFilterSensitiveLog=ts=>({...ts,...ts.Channels&&{Channels:ts.Channels.map(ns=>ChannelModeratedByAppInstanceUserSummaryFilterSensitiveLog(ns))},...ts.NextToken&&{NextToken:SENSITIVE_STRING}}),ListSubChannelsRequestFilterSensitiveLog=ts=>({...ts,...ts.NextToken&&{NextToken:SENSITIVE_STRING}}),ListSubChannelsResponseFilterSensitiveLog=ts=>({...ts,...ts.NextToken&&{NextToken:SENSITIVE_STRING}}),ListTagsForResourceResponseFilterSensitiveLog=ts=>({...ts,...ts.Tags&&{Tags:ts.Tags.map(ns=>TagFilterSensitiveLog(ns))}}),PutChannelMembershipPreferencesRequestFilterSensitiveLog=ts=>({...ts,...ts.Preferences&&{Preferences:ChannelMembershipPreferencesFilterSensitiveLog(ts.Preferences)}}),PutChannelMembershipPreferencesResponseFilterSensitiveLog=ts=>({...ts,...ts.Member&&{Member:IdentityFilterSensitiveLog(ts.Member)},...ts.Preferences&&{Preferences:ChannelMembershipPreferencesFilterSensitiveLog(ts.Preferences)}}),SearchChannelsRequestFilterSensitiveLog=ts=>({...ts,...ts.NextToken&&{NextToken:SENSITIVE_STRING}}),SearchChannelsResponseFilterSensitiveLog=ts=>({...ts,...ts.Channels&&{Channels:ts.Channels.map(ns=>ChannelSummaryFilterSensitiveLog(ns))},...ts.NextToken&&{NextToken:SENSITIVE_STRING}}),SendChannelMessageRequestFilterSensitiveLog=ts=>({...ts,...ts.Content&&{Content:SENSITIVE_STRING},...ts.Metadata&&{Metadata:SENSITIVE_STRING},...ts.ClientRequestToken&&{ClientRequestToken:SENSITIVE_STRING},...ts.PushNotification&&{PushNotification:PushNotificationConfigurationFilterSensitiveLog(ts.PushNotification)},...ts.MessageAttributes&&{MessageAttributes:Object.entries(ts.MessageAttributes).reduce((ns,[rs,is])=>(ns[rs]=MessageAttributeValueFilterSensitiveLog(is),ns),{})},...ts.ContentType&&{ContentType:SENSITIVE_STRING}}),TagResourceRequestFilterSensitiveLog=ts=>({...ts,...ts.Tags&&{Tags:ts.Tags.map(ns=>TagFilterSensitiveLog(ns))}}),UntagResourceRequestFilterSensitiveLog=ts=>({...ts,...ts.TagKeys&&{TagKeys:SENSITIVE_STRING}}),UpdateChannelRequestFilterSensitiveLog=ts=>({...ts,...ts.Name&&{Name:SENSITIVE_STRING},...ts.Metadata&&{Metadata:SENSITIVE_STRING}}),UpdateChannelFlowRequestFilterSensitiveLog=ts=>({...ts,...ts.Processors&&{Processors:ts.Processors.map(ns=>ProcessorFilterSensitiveLog(ns))},...ts.Name&&{Name:SENSITIVE_STRING}}),UpdateChannelMessageRequestFilterSensitiveLog=ts=>({...ts,...ts.Content&&{Content:SENSITIVE_STRING},...ts.Metadata&&{Metadata:SENSITIVE_STRING},...ts.ContentType&&{ContentType:SENSITIVE_STRING}}),se_AssociateChannelFlowCommand=async(ts,ns)=>{const rs=requestBuilder(ts,ns),is=map({},isSerializableHeaderValue,{"content-type":"application/json",[_xacb]:ts[_CB]});rs.bp("/channels/{ChannelArn}/channel-flow"),rs.p("ChannelArn",()=>ts.ChannelArn,"{ChannelArn}",!1);let os;return os=JSON.stringify(take(ts,{ChannelFlowArn:[]})),rs.m("PUT").h(is).b(os),rs.build()},se_BatchCreateChannelMembershipCommand=async(ts,ns)=>{const rs=requestBuilder(ts,ns),is=map({},isSerializableHeaderValue,{"content-type":"application/json",[_xacb]:ts[_CB]});rs.bp("/channels/{ChannelArn}/memberships"),rs.p("ChannelArn",()=>ts.ChannelArn,"{ChannelArn}",!1);const os=map({[_o]:[,"batch-create"]});let ss;return ss=JSON.stringify(take(ts,{MemberArns:as=>_json(as),SubChannelId:[],Type:[]})),rs.m("POST").h(is).q(os).b(ss),rs.build()},se_ChannelFlowCallbackCommand=async(ts,ns)=>{const rs=requestBuilder(ts,ns),is={"content-type":"application/json"};rs.bp("/channels/{ChannelArn}"),rs.p("ChannelArn",()=>ts.ChannelArn,"{ChannelArn}",!1);const os=map({[_o]:[,"channel-flow-callback"]});let ss;return ss=JSON.stringify(take(ts,{CallbackId:[!0,as=>as!=null?as:v4$1()],ChannelMessage:as=>_json(as),DeleteResource:[]})),rs.m("POST").h(is).q(os).b(ss),rs.build()},se_CreateChannelCommand=async(ts,ns)=>{const rs=requestBuilder(ts,ns),is=map({},isSerializableHeaderValue,{"content-type":"application/json",[_xacb]:ts[_CB]});rs.bp("/channels");let os;return os=JSON.stringify(take(ts,{AppInstanceArn:[],ChannelId:[],ClientRequestToken:[!0,ss=>ss!=null?ss:v4$1()],ElasticChannelConfiguration:ss=>_json(ss),ExpirationSettings:ss=>_json(ss),MemberArns:ss=>_json(ss),Metadata:[],Mode:[],ModeratorArns:ss=>_json(ss),Name:[],Privacy:[],Tags:ss=>_json(ss)})),rs.m("POST").h(is).b(os),rs.build()},se_CreateChannelBanCommand=async(ts,ns)=>{const rs=requestBuilder(ts,ns),is=map({},isSerializableHeaderValue,{"content-type":"application/json",[_xacb]:ts[_CB]});rs.bp("/channels/{ChannelArn}/bans"),rs.p("ChannelArn",()=>ts.ChannelArn,"{ChannelArn}",!1);let os;return os=JSON.stringify(take(ts,{MemberArn:[]})),rs.m("POST").h(is).b(os),rs.build()},se_CreateChannelFlowCommand=async(ts,ns)=>{const rs=requestBuilder(ts,ns),is={"content-type":"application/json"};rs.bp("/channel-flows");let os;return os=JSON.stringify(take(ts,{AppInstanceArn:[],ClientRequestToken:[!0,ss=>ss!=null?ss:v4$1()],Name:[],Processors:ss=>_json(ss),Tags:ss=>_json(ss)})),rs.m("POST").h(is).b(os),rs.build()},se_CreateChannelMembershipCommand=async(ts,ns)=>{const rs=requestBuilder(ts,ns),is=map({},isSerializableHeaderValue,{"content-type":"application/json",[_xacb]:ts[_CB]});rs.bp("/channels/{ChannelArn}/memberships"),rs.p("ChannelArn",()=>ts.ChannelArn,"{ChannelArn}",!1);let os;return os=JSON.stringify(take(ts,{MemberArn:[],SubChannelId:[],Type:[]})),rs.m("POST").h(is).b(os),rs.build()},se_CreateChannelModeratorCommand=async(ts,ns)=>{const rs=requestBuilder(ts,ns),is=map({},isSerializableHeaderValue,{"content-type":"application/json",[_xacb]:ts[_CB]});rs.bp("/channels/{ChannelArn}/moderators"),rs.p("ChannelArn",()=>ts.ChannelArn,"{ChannelArn}",!1);let os;return os=JSON.stringify(take(ts,{ChannelModeratorArn:[]})),rs.m("POST").h(is).b(os),rs.build()},se_DeleteChannelCommand=async(ts,ns)=>{const rs=requestBuilder(ts,ns),is=map({},isSerializableHeaderValue,{[_xacb]:ts[_CB]});rs.bp("/channels/{ChannelArn}"),rs.p("ChannelArn",()=>ts.ChannelArn,"{ChannelArn}",!1);let os;return rs.m("DELETE").h(is).b(os),rs.build()},se_DeleteChannelBanCommand=async(ts,ns)=>{const rs=requestBuilder(ts,ns),is=map({},isSerializableHeaderValue,{[_xacb]:ts[_CB]});rs.bp("/channels/{ChannelArn}/bans/{MemberArn}"),rs.p("ChannelArn",()=>ts.ChannelArn,"{ChannelArn}",!1),rs.p("MemberArn",()=>ts.MemberArn,"{MemberArn}",!1);let os;return rs.m("DELETE").h(is).b(os),rs.build()},se_DeleteChannelFlowCommand=async(ts,ns)=>{const rs=requestBuilder(ts,ns),is={};rs.bp("/channel-flows/{ChannelFlowArn}"),rs.p("ChannelFlowArn",()=>ts.ChannelFlowArn,"{ChannelFlowArn}",!1);let os;return rs.m("DELETE").h(is).b(os),rs.build()},se_DeleteChannelMembershipCommand=async(ts,ns)=>{const rs=requestBuilder(ts,ns),is=map({},isSerializableHeaderValue,{[_xacb]:ts[_CB]});rs.bp("/channels/{ChannelArn}/memberships/{MemberArn}"),rs.p("ChannelArn",()=>ts.ChannelArn,"{ChannelArn}",!1),rs.p("MemberArn",()=>ts.MemberArn,"{MemberArn}",!1);const os=map({[_sci]:[,ts[_SCI]]});let ss;return rs.m("DELETE").h(is).q(os).b(ss),rs.build()},se_DeleteChannelMessageCommand=async(ts,ns)=>{const rs=requestBuilder(ts,ns),is=map({},isSerializableHeaderValue,{[_xacb]:ts[_CB]});rs.bp("/channels/{ChannelArn}/messages/{MessageId}"),rs.p("ChannelArn",()=>ts.ChannelArn,"{ChannelArn}",!1),rs.p("MessageId",()=>ts.MessageId,"{MessageId}",!1);const os=map({[_sci]:[,ts[_SCI]]});let ss;return rs.m("DELETE").h(is).q(os).b(ss),rs.build()},se_DeleteChannelModeratorCommand=async(ts,ns)=>{const rs=requestBuilder(ts,ns),is=map({},isSerializableHeaderValue,{[_xacb]:ts[_CB]});rs.bp("/channels/{ChannelArn}/moderators/{ChannelModeratorArn}"),rs.p("ChannelArn",()=>ts.ChannelArn,"{ChannelArn}",!1),rs.p("ChannelModeratorArn",()=>ts.ChannelModeratorArn,"{ChannelModeratorArn}",!1);let os;return rs.m("DELETE").h(is).b(os),rs.build()},se_DeleteMessagingStreamingConfigurationsCommand=async(ts,ns)=>{const rs=requestBuilder(ts,ns),is={};rs.bp("/app-instances/{AppInstanceArn}/streaming-configurations"),rs.p("AppInstanceArn",()=>ts.AppInstanceArn,"{AppInstanceArn}",!1);let os;return rs.m("DELETE").h(is).b(os),rs.build()},se_DescribeChannelCommand=async(ts,ns)=>{const rs=requestBuilder(ts,ns),is=map({},isSerializableHeaderValue,{[_xacb]:ts[_CB]});rs.bp("/channels/{ChannelArn}"),rs.p("ChannelArn",()=>ts.ChannelArn,"{ChannelArn}",!1);let os;return rs.m("GET").h(is).b(os),rs.build()},se_DescribeChannelBanCommand=async(ts,ns)=>{const rs=requestBuilder(ts,ns),is=map({},isSerializableHeaderValue,{[_xacb]:ts[_CB]});rs.bp("/channels/{ChannelArn}/bans/{MemberArn}"),rs.p("ChannelArn",()=>ts.ChannelArn,"{ChannelArn}",!1),rs.p("MemberArn",()=>ts.MemberArn,"{MemberArn}",!1);let os;return rs.m("GET").h(is).b(os),rs.build()},se_DescribeChannelFlowCommand=async(ts,ns)=>{const rs=requestBuilder(ts,ns),is={};rs.bp("/channel-flows/{ChannelFlowArn}"),rs.p("ChannelFlowArn",()=>ts.ChannelFlowArn,"{ChannelFlowArn}",!1);let os;return rs.m("GET").h(is).b(os),rs.build()},se_DescribeChannelMembershipCommand=async(ts,ns)=>{const rs=requestBuilder(ts,ns),is=map({},isSerializableHeaderValue,{[_xacb]:ts[_CB]});rs.bp("/channels/{ChannelArn}/memberships/{MemberArn}"),rs.p("ChannelArn",()=>ts.ChannelArn,"{ChannelArn}",!1),rs.p("MemberArn",()=>ts.MemberArn,"{MemberArn}",!1);const os=map({[_sci]:[,ts[_SCI]]});let ss;return rs.m("GET").h(is).q(os).b(ss),rs.build()},se_DescribeChannelMembershipForAppInstanceUserCommand=async(ts,ns)=>{const rs=requestBuilder(ts,ns),is=map({},isSerializableHeaderValue,{[_xacb]:ts[_CB]});rs.bp("/channels/{ChannelArn}"),rs.p("ChannelArn",()=>ts.ChannelArn,"{ChannelArn}",!1);const os=map({[_s]:[,"app-instance-user-membership"],[_aiua]:[,expectNonNull(ts[_AIUA],"AppInstanceUserArn")]});let ss;return rs.m("GET").h(is).q(os).b(ss),rs.build()},se_DescribeChannelModeratedByAppInstanceUserCommand=async(ts,ns)=>{const rs=requestBuilder(ts,ns),is=map({},isSerializableHeaderValue,{[_xacb]:ts[_CB]});rs.bp("/channels/{ChannelArn}"),rs.p("ChannelArn",()=>ts.ChannelArn,"{ChannelArn}",!1);const os=map({[_s]:[,"app-instance-user-moderated-channel"],[_aiua]:[,expectNonNull(ts[_AIUA],"AppInstanceUserArn")]});let ss;return rs.m("GET").h(is).q(os).b(ss),rs.build()},se_DescribeChannelModeratorCommand=async(ts,ns)=>{const rs=requestBuilder(ts,ns),is=map({},isSerializableHeaderValue,{[_xacb]:ts[_CB]});rs.bp("/channels/{ChannelArn}/moderators/{ChannelModeratorArn}"),rs.p("ChannelArn",()=>ts.ChannelArn,"{ChannelArn}",!1),rs.p("ChannelModeratorArn",()=>ts.ChannelModeratorArn,"{ChannelModeratorArn}",!1);let os;return rs.m("GET").h(is).b(os),rs.build()},se_DisassociateChannelFlowCommand=async(ts,ns)=>{const rs=requestBuilder(ts,ns),is=map({},isSerializableHeaderValue,{[_xacb]:ts[_CB]});rs.bp("/channels/{ChannelArn}/channel-flow/{ChannelFlowArn}"),rs.p("ChannelArn",()=>ts.ChannelArn,"{ChannelArn}",!1),rs.p("ChannelFlowArn",()=>ts.ChannelFlowArn,"{ChannelFlowArn}",!1);let os;return rs.m("DELETE").h(is).b(os),rs.build()},se_GetChannelMembershipPreferencesCommand=async(ts,ns)=>{const rs=requestBuilder(ts,ns),is=map({},isSerializableHeaderValue,{[_xacb]:ts[_CB]});rs.bp("/channels/{ChannelArn}/memberships/{MemberArn}/preferences"),rs.p("ChannelArn",()=>ts.ChannelArn,"{ChannelArn}",!1),rs.p("MemberArn",()=>ts.MemberArn,"{MemberArn}",!1);let os;return rs.m("GET").h(is).b(os),rs.build()},se_GetChannelMessageCommand=async(ts,ns)=>{const rs=requestBuilder(ts,ns),is=map({},isSerializableHeaderValue,{[_xacb]:ts[_CB]});rs.bp("/channels/{ChannelArn}/messages/{MessageId}"),rs.p("ChannelArn",()=>ts.ChannelArn,"{ChannelArn}",!1),rs.p("MessageId",()=>ts.MessageId,"{MessageId}",!1);const os=map({[_sci]:[,ts[_SCI]]});let ss;return rs.m("GET").h(is).q(os).b(ss),rs.build()},se_GetChannelMessageStatusCommand=async(ts,ns)=>{const rs=requestBuilder(ts,ns),is=map({},isSerializableHeaderValue,{[_xacb]:ts[_CB]});rs.bp("/channels/{ChannelArn}/messages/{MessageId}"),rs.p("ChannelArn",()=>ts.ChannelArn,"{ChannelArn}",!1),rs.p("MessageId",()=>ts.MessageId,"{MessageId}",!1);const os=map({[_s]:[,"message-status"],[_sci]:[,ts[_SCI]]});let ss;return rs.m("GET").h(is).q(os).b(ss),rs.build()},se_GetMessagingSessionEndpointCommand=async(ts,ns)=>{const rs=requestBuilder(ts,ns),is={};rs.bp("/endpoints/messaging-session");let os;return rs.m("GET").h(is).b(os),rs.build()},se_GetMessagingStreamingConfigurationsCommand=async(ts,ns)=>{const rs=requestBuilder(ts,ns),is={};rs.bp("/app-instances/{AppInstanceArn}/streaming-configurations"),rs.p("AppInstanceArn",()=>ts.AppInstanceArn,"{AppInstanceArn}",!1);let os;return rs.m("GET").h(is).b(os),rs.build()},se_ListChannelBansCommand=async(ts,ns)=>{const rs=requestBuilder(ts,ns),is=map({},isSerializableHeaderValue,{[_xacb]:ts[_CB]});rs.bp("/channels/{ChannelArn}/bans"),rs.p("ChannelArn",()=>ts.ChannelArn,"{ChannelArn}",!1);const os=map({[_mr]:[()=>ts.MaxResults!==void 0,()=>ts[_MR].toString()],[_nt]:[,ts[_NT]]});let ss;return rs.m("GET").h(is).q(os).b(ss),rs.build()},se_ListChannelFlowsCommand=async(ts,ns)=>{const rs=requestBuilder(ts,ns),is={};rs.bp("/channel-flows");const os=map({[_aia]:[,expectNonNull(ts[_AIA],"AppInstanceArn")],[_mr]:[()=>ts.MaxResults!==void 0,()=>ts[_MR].toString()],[_nt]:[,ts[_NT]]});let ss;return rs.m("GET").h(is).q(os).b(ss),rs.build()},se_ListChannelMembershipsCommand=async(ts,ns)=>{const rs=requestBuilder(ts,ns),is=map({},isSerializableHeaderValue,{[_xacb]:ts[_CB]});rs.bp("/channels/{ChannelArn}/memberships"),rs.p("ChannelArn",()=>ts.ChannelArn,"{ChannelArn}",!1);const os=map({[_t]:[,ts[_T]],[_mr]:[()=>ts.MaxResults!==void 0,()=>ts[_MR].toString()],[_nt]:[,ts[_NT]],[_sci]:[,ts[_SCI]]});let ss;return rs.m("GET").h(is).q(os).b(ss),rs.build()},se_ListChannelMembershipsForAppInstanceUserCommand=async(ts,ns)=>{const rs=requestBuilder(ts,ns),is=map({},isSerializableHeaderValue,{[_xacb]:ts[_CB]});rs.bp("/channels");const os=map({[_s]:[,"app-instance-user-memberships"],[_aiua]:[,ts[_AIUA]],[_mr]:[()=>ts.MaxResults!==void 0,()=>ts[_MR].toString()],[_nt]:[,ts[_NT]]});let ss;return rs.m("GET").h(is).q(os).b(ss),rs.build()},se_ListChannelMessagesCommand=async(ts,ns)=>{const rs=requestBuilder(ts,ns),is=map({},isSerializableHeaderValue,{[_xacb]:ts[_CB]});rs.bp("/channels/{ChannelArn}/messages"),rs.p("ChannelArn",()=>ts.ChannelArn,"{ChannelArn}",!1);const os=map({[_so]:[,ts[_SO]],[_nb]:[()=>ts.NotBefore!==void 0,()=>serializeDateTime(ts[_NB]).toString()],[_na]:[()=>ts.NotAfter!==void 0,()=>serializeDateTime(ts[_NA]).toString()],[_mr]:[()=>ts.MaxResults!==void 0,()=>ts[_MR].toString()],[_nt]:[,ts[_NT]],[_sci]:[,ts[_SCI]]});let ss;return rs.m("GET").h(is).q(os).b(ss),rs.build()},se_ListChannelModeratorsCommand=async(ts,ns)=>{const rs=requestBuilder(ts,ns),is=map({},isSerializableHeaderValue,{[_xacb]:ts[_CB]});rs.bp("/channels/{ChannelArn}/moderators"),rs.p("ChannelArn",()=>ts.ChannelArn,"{ChannelArn}",!1);const os=map({[_mr]:[()=>ts.MaxResults!==void 0,()=>ts[_MR].toString()],[_nt]:[,ts[_NT]]});let ss;return rs.m("GET").h(is).q(os).b(ss),rs.build()},se_ListChannelsCommand=async(ts,ns)=>{const rs=requestBuilder(ts,ns),is=map({},isSerializableHeaderValue,{[_xacb]:ts[_CB]});rs.bp("/channels");const os=map({[_aia]:[,expectNonNull(ts[_AIA],"AppInstanceArn")],[_p]:[,ts[_P]],[_mr]:[()=>ts.MaxResults!==void 0,()=>ts[_MR].toString()],[_nt]:[,ts[_NT]]});let ss;return rs.m("GET").h(is).q(os).b(ss),rs.build()},se_ListChannelsAssociatedWithChannelFlowCommand=async(ts,ns)=>{const rs=requestBuilder(ts,ns),is={};rs.bp("/channels");const os=map({[_s]:[,"channel-flow-associations"],[_cfa]:[,expectNonNull(ts[_CFA],"ChannelFlowArn")],[_mr]:[()=>ts.MaxResults!==void 0,()=>ts[_MR].toString()],[_nt]:[,ts[_NT]]});let ss;return rs.m("GET").h(is).q(os).b(ss),rs.build()},se_ListChannelsModeratedByAppInstanceUserCommand=async(ts,ns)=>{const rs=requestBuilder(ts,ns),is=map({},isSerializableHeaderValue,{[_xacb]:ts[_CB]});rs.bp("/channels");const os=map({[_s]:[,"app-instance-user-moderated-channels"],[_aiua]:[,ts[_AIUA]],[_mr]:[()=>ts.MaxResults!==void 0,()=>ts[_MR].toString()],[_nt]:[,ts[_NT]]});let ss;return rs.m("GET").h(is).q(os).b(ss),rs.build()},se_ListSubChannelsCommand=async(ts,ns)=>{const rs=requestBuilder(ts,ns),is=map({},isSerializableHeaderValue,{[_xacb]:ts[_CB]});rs.bp("/channels/{ChannelArn}/subchannels"),rs.p("ChannelArn",()=>ts.ChannelArn,"{ChannelArn}",!1);const os=map({[_mr]:[()=>ts.MaxResults!==void 0,()=>ts[_MR].toString()],[_nt]:[,ts[_NT]]});let ss;return rs.m("GET").h(is).q(os).b(ss),rs.build()},se_ListTagsForResourceCommand=async(ts,ns)=>{const rs=requestBuilder(ts,ns),is={};rs.bp("/tags");const os=map({[_a]:[,expectNonNull(ts[_RARN],"ResourceARN")]});let ss;return rs.m("GET").h(is).q(os).b(ss),rs.build()},se_PutChannelExpirationSettingsCommand=async(ts,ns)=>{const rs=requestBuilder(ts,ns),is=map({},isSerializableHeaderValue,{"content-type":"application/json",[_xacb]:ts[_CB]});rs.bp("/channels/{ChannelArn}/expiration-settings"),rs.p("ChannelArn",()=>ts.ChannelArn,"{ChannelArn}",!1);let os;return os=JSON.stringify(take(ts,{ExpirationSettings:ss=>_json(ss)})),rs.m("PUT").h(is).b(os),rs.build()},se_PutChannelMembershipPreferencesCommand=async(ts,ns)=>{const rs=requestBuilder(ts,ns),is=map({},isSerializableHeaderValue,{"content-type":"application/json",[_xacb]:ts[_CB]});rs.bp("/channels/{ChannelArn}/memberships/{MemberArn}/preferences"),rs.p("ChannelArn",()=>ts.ChannelArn,"{ChannelArn}",!1),rs.p("MemberArn",()=>ts.MemberArn,"{MemberArn}",!1);let os;return os=JSON.stringify(take(ts,{Preferences:ss=>_json(ss)})),rs.m("PUT").h(is).b(os),rs.build()},se_PutMessagingStreamingConfigurationsCommand=async(ts,ns)=>{const rs=requestBuilder(ts,ns),is={"content-type":"application/json"};rs.bp("/app-instances/{AppInstanceArn}/streaming-configurations"),rs.p("AppInstanceArn",()=>ts.AppInstanceArn,"{AppInstanceArn}",!1);let os;return os=JSON.stringify(take(ts,{StreamingConfigurations:ss=>_json(ss)})),rs.m("PUT").h(is).b(os),rs.build()},se_RedactChannelMessageCommand=async(ts,ns)=>{const rs=requestBuilder(ts,ns),is=map({},isSerializableHeaderValue,{"content-type":"application/json",[_xacb]:ts[_CB]});rs.bp("/channels/{ChannelArn}/messages/{MessageId}"),rs.p("ChannelArn",()=>ts.ChannelArn,"{ChannelArn}",!1),rs.p("MessageId",()=>ts.MessageId,"{MessageId}",!1);const os=map({[_o]:[,"redact"]});let ss;return ss=JSON.stringify(take(ts,{SubChannelId:[]})),rs.m("POST").h(is).q(os).b(ss),rs.build()},se_SearchChannelsCommand=async(ts,ns)=>{const rs=requestBuilder(ts,ns),is=map({},isSerializableHeaderValue,{"content-type":"application/json",[_xacb]:ts[_CB]});rs.bp("/channels");const os=map({[_o]:[,"search"],[_mr]:[()=>ts.MaxResults!==void 0,()=>ts[_MR].toString()],[_nt]:[,ts[_NT]]});let ss;return ss=JSON.stringify(take(ts,{Fields:as=>_json(as)})),rs.m("POST").h(is).q(os).b(ss),rs.build()},se_SendChannelMessageCommand=async(ts,ns)=>{const rs=requestBuilder(ts,ns),is=map({},isSerializableHeaderValue,{"content-type":"application/json",[_xacb]:ts[_CB]});rs.bp("/channels/{ChannelArn}/messages"),rs.p("ChannelArn",()=>ts.ChannelArn,"{ChannelArn}",!1);let os;return os=JSON.stringify(take(ts,{ClientRequestToken:[!0,ss=>ss!=null?ss:v4$1()],Content:[],ContentType:[],MessageAttributes:ss=>_json(ss),Metadata:[],Persistence:[],PushNotification:ss=>_json(ss),SubChannelId:[],Target:ss=>_json(ss),Type:[]})),rs.m("POST").h(is).b(os),rs.build()},se_TagResourceCommand=async(ts,ns)=>{const rs=requestBuilder(ts,ns),is={"content-type":"application/json"};rs.bp("/tags");const os=map({[_o]:[,"tag-resource"]});let ss;return ss=JSON.stringify(take(ts,{ResourceARN:[],Tags:as=>_json(as)})),rs.m("POST").h(is).q(os).b(ss),rs.build()},se_UntagResourceCommand=async(ts,ns)=>{const rs=requestBuilder(ts,ns),is={"content-type":"application/json"};rs.bp("/tags");const os=map({[_o]:[,"untag-resource"]});let ss;return ss=JSON.stringify(take(ts,{ResourceARN:[],TagKeys:as=>_json(as)})),rs.m("POST").h(is).q(os).b(ss),rs.build()},se_UpdateChannelCommand=async(ts,ns)=>{const rs=requestBuilder(ts,ns),is=map({},isSerializableHeaderValue,{"content-type":"application/json",[_xacb]:ts[_CB]});rs.bp("/channels/{ChannelArn}"),rs.p("ChannelArn",()=>ts.ChannelArn,"{ChannelArn}",!1);let os;return os=JSON.stringify(take(ts,{Metadata:[],Mode:[],Name:[]})),rs.m("PUT").h(is).b(os),rs.build()},se_UpdateChannelFlowCommand=async(ts,ns)=>{const rs=requestBuilder(ts,ns),is={"content-type":"application/json"};rs.bp("/channel-flows/{ChannelFlowArn}"),rs.p("ChannelFlowArn",()=>ts.ChannelFlowArn,"{ChannelFlowArn}",!1);let os;return os=JSON.stringify(take(ts,{Name:[],Processors:ss=>_json(ss)})),rs.m("PUT").h(is).b(os),rs.build()},se_UpdateChannelMessageCommand=async(ts,ns)=>{const rs=requestBuilder(ts,ns),is=map({},isSerializableHeaderValue,{"content-type":"application/json",[_xacb]:ts[_CB]});rs.bp("/channels/{ChannelArn}/messages/{MessageId}"),rs.p("ChannelArn",()=>ts.ChannelArn,"{ChannelArn}",!1),rs.p("MessageId",()=>ts.MessageId,"{MessageId}",!1);let os;return os=JSON.stringify(take(ts,{Content:[],ContentType:[],Metadata:[],SubChannelId:[]})),rs.m("PUT").h(is).b(os),rs.build()},se_UpdateChannelReadMarkerCommand=async(ts,ns)=>{const rs=requestBuilder(ts,ns),is=map({},isSerializableHeaderValue,{[_xacb]:ts[_CB]});rs.bp("/channels/{ChannelArn}/readMarker"),rs.p("ChannelArn",()=>ts.ChannelArn,"{ChannelArn}",!1);let os;return rs.m("PUT").h(is).b(os),rs.build()},de_AssociateChannelFlowCommand=async(ts,ns)=>{if(ts.statusCode!==200&&ts.statusCode>=300)return de_CommandError(ts,ns);const rs=map({$metadata:deserializeMetadata(ts)});return await collectBody(ts.body,ns),rs},de_BatchCreateChannelMembershipCommand=async(ts,ns)=>{if(ts.statusCode!==200&&ts.statusCode>=300)return de_CommandError(ts,ns);const rs=map({$metadata:deserializeMetadata(ts)}),is=expectNonNull(expectObject(await parseJsonBody(ts.body,ns)),"body"),os=take(is,{BatchChannelMemberships:_json,Errors:_json});return Object.assign(rs,os),rs},de_ChannelFlowCallbackCommand=async(ts,ns)=>{if(ts.statusCode!==200&&ts.statusCode>=300)return de_CommandError(ts,ns);const rs=map({$metadata:deserializeMetadata(ts)}),is=expectNonNull(expectObject(await parseJsonBody(ts.body,ns)),"body"),os=take(is,{CallbackId:expectString,ChannelArn:expectString});return Object.assign(rs,os),rs},de_CreateChannelCommand=async(ts,ns)=>{if(ts.statusCode!==201&&ts.statusCode>=300)return de_CommandError(ts,ns);const rs=map({$metadata:deserializeMetadata(ts)}),is=expectNonNull(expectObject(await parseJsonBody(ts.body,ns)),"body"),os=take(is,{ChannelArn:expectString});return Object.assign(rs,os),rs},de_CreateChannelBanCommand=async(ts,ns)=>{if(ts.statusCode!==201&&ts.statusCode>=300)return de_CommandError(ts,ns);const rs=map({$metadata:deserializeMetadata(ts)}),is=expectNonNull(expectObject(await parseJsonBody(ts.body,ns)),"body"),os=take(is,{ChannelArn:expectString,Member:_json});return Object.assign(rs,os),rs},de_CreateChannelFlowCommand=async(ts,ns)=>{if(ts.statusCode!==201&&ts.statusCode>=300)return de_CommandError(ts,ns);const rs=map({$metadata:deserializeMetadata(ts)}),is=expectNonNull(expectObject(await parseJsonBody(ts.body,ns)),"body"),os=take(is,{ChannelFlowArn:expectString});return Object.assign(rs,os),rs},de_CreateChannelMembershipCommand=async(ts,ns)=>{if(ts.statusCode!==201&&ts.statusCode>=300)return de_CommandError(ts,ns);const rs=map({$metadata:deserializeMetadata(ts)}),is=expectNonNull(expectObject(await parseJsonBody(ts.body,ns)),"body"),os=take(is,{ChannelArn:expectString,Member:_json,SubChannelId:expectString});return Object.assign(rs,os),rs},de_CreateChannelModeratorCommand=async(ts,ns)=>{if(ts.statusCode!==201&&ts.statusCode>=300)return de_CommandError(ts,ns);const rs=map({$metadata:deserializeMetadata(ts)}),is=expectNonNull(expectObject(await parseJsonBody(ts.body,ns)),"body"),os=take(is,{ChannelArn:expectString,ChannelModerator:_json});return Object.assign(rs,os),rs},de_DeleteChannelCommand=async(ts,ns)=>{if(ts.statusCode!==204&&ts.statusCode>=300)return de_CommandError(ts,ns);const rs=map({$metadata:deserializeMetadata(ts)});return await collectBody(ts.body,ns),rs},de_DeleteChannelBanCommand=async(ts,ns)=>{if(ts.statusCode!==204&&ts.statusCode>=300)return de_CommandError(ts,ns);const rs=map({$metadata:deserializeMetadata(ts)});return await collectBody(ts.body,ns),rs},de_DeleteChannelFlowCommand=async(ts,ns)=>{if(ts.statusCode!==204&&ts.statusCode>=300)return de_CommandError(ts,ns);const rs=map({$metadata:deserializeMetadata(ts)});return await collectBody(ts.body,ns),rs},de_DeleteChannelMembershipCommand=async(ts,ns)=>{if(ts.statusCode!==204&&ts.statusCode>=300)return de_CommandError(ts,ns);const rs=map({$metadata:deserializeMetadata(ts)});return await collectBody(ts.body,ns),rs},de_DeleteChannelMessageCommand=async(ts,ns)=>{if(ts.statusCode!==204&&ts.statusCode>=300)return de_CommandError(ts,ns);const rs=map({$metadata:deserializeMetadata(ts)});return await collectBody(ts.body,ns),rs},de_DeleteChannelModeratorCommand=async(ts,ns)=>{if(ts.statusCode!==204&&ts.statusCode>=300)return de_CommandError(ts,ns);const rs=map({$metadata:deserializeMetadata(ts)});return await collectBody(ts.body,ns),rs},de_DeleteMessagingStreamingConfigurationsCommand=async(ts,ns)=>{if(ts.statusCode!==204&&ts.statusCode>=300)return de_CommandError(ts,ns);const rs=map({$metadata:deserializeMetadata(ts)});return await collectBody(ts.body,ns),rs},de_DescribeChannelCommand=async(ts,ns)=>{if(ts.statusCode!==200&&ts.statusCode>=300)return de_CommandError(ts,ns);const rs=map({$metadata:deserializeMetadata(ts)}),is=expectNonNull(expectObject(await parseJsonBody(ts.body,ns)),"body"),os=take(is,{Channel:ss=>de_Channel(ss)});return Object.assign(rs,os),rs},de_DescribeChannelBanCommand=async(ts,ns)=>{if(ts.statusCode!==200&&ts.statusCode>=300)return de_CommandError(ts,ns);const rs=map({$metadata:deserializeMetadata(ts)}),is=expectNonNull(expectObject(await parseJsonBody(ts.body,ns)),"body"),os=take(is,{ChannelBan:ss=>de_ChannelBan(ss)});return Object.assign(rs,os),rs},de_DescribeChannelFlowCommand=async(ts,ns)=>{if(ts.statusCode!==200&&ts.statusCode>=300)return de_CommandError(ts,ns);const rs=map({$metadata:deserializeMetadata(ts)}),is=expectNonNull(expectObject(await parseJsonBody(ts.body,ns)),"body"),os=take(is,{ChannelFlow:ss=>de_ChannelFlow(ss)});return Object.assign(rs,os),rs},de_DescribeChannelMembershipCommand=async(ts,ns)=>{if(ts.statusCode!==200&&ts.statusCode>=300)return de_CommandError(ts,ns);const rs=map({$metadata:deserializeMetadata(ts)}),is=expectNonNull(expectObject(await parseJsonBody(ts.body,ns)),"body"),os=take(is,{ChannelMembership:ss=>de_ChannelMembership(ss)});return Object.assign(rs,os),rs},de_DescribeChannelMembershipForAppInstanceUserCommand=async(ts,ns)=>{if(ts.statusCode!==200&&ts.statusCode>=300)return de_CommandError(ts,ns);const rs=map({$metadata:deserializeMetadata(ts)}),is=expectNonNull(expectObject(await parseJsonBody(ts.body,ns)),"body"),os=take(is,{ChannelMembership:ss=>de_ChannelMembershipForAppInstanceUserSummary(ss)});return Object.assign(rs,os),rs},de_DescribeChannelModeratedByAppInstanceUserCommand=async(ts,ns)=>{if(ts.statusCode!==200&&ts.statusCode>=300)return de_CommandError(ts,ns);const rs=map({$metadata:deserializeMetadata(ts)}),is=expectNonNull(expectObject(await parseJsonBody(ts.body,ns)),"body"),os=take(is,{Channel:ss=>de_ChannelModeratedByAppInstanceUserSummary(ss)});return Object.assign(rs,os),rs},de_DescribeChannelModeratorCommand=async(ts,ns)=>{if(ts.statusCode!==200&&ts.statusCode>=300)return de_CommandError(ts,ns);const rs=map({$metadata:deserializeMetadata(ts)}),is=expectNonNull(expectObject(await parseJsonBody(ts.body,ns)),"body"),os=take(is,{ChannelModerator:ss=>de_ChannelModerator(ss)});return Object.assign(rs,os),rs},de_DisassociateChannelFlowCommand=async(ts,ns)=>{if(ts.statusCode!==204&&ts.statusCode>=300)return de_CommandError(ts,ns);const rs=map({$metadata:deserializeMetadata(ts)});return await collectBody(ts.body,ns),rs},de_GetChannelMembershipPreferencesCommand=async(ts,ns)=>{if(ts.statusCode!==200&&ts.statusCode>=300)return de_CommandError(ts,ns);const rs=map({$metadata:deserializeMetadata(ts)}),is=expectNonNull(expectObject(await parseJsonBody(ts.body,ns)),"body"),os=take(is,{ChannelArn:expectString,Member:_json,Preferences:_json});return Object.assign(rs,os),rs},de_GetChannelMessageCommand=async(ts,ns)=>{if(ts.statusCode!==200&&ts.statusCode>=300)return de_CommandError(ts,ns);const rs=map({$metadata:deserializeMetadata(ts)}),is=expectNonNull(expectObject(await parseJsonBody(ts.body,ns)),"body"),os=take(is,{ChannelMessage:ss=>de_ChannelMessage(ss)});return Object.assign(rs,os),rs},de_GetChannelMessageStatusCommand=async(ts,ns)=>{if(ts.statusCode!==200&&ts.statusCode>=300)return de_CommandError(ts,ns);const rs=map({$metadata:deserializeMetadata(ts)}),is=expectNonNull(expectObject(await parseJsonBody(ts.body,ns)),"body"),os=take(is,{Status:_json});return Object.assign(rs,os),rs},de_GetMessagingSessionEndpointCommand=async(ts,ns)=>{if(ts.statusCode!==200&&ts.statusCode>=300)return de_CommandError(ts,ns);const rs=map({$metadata:deserializeMetadata(ts)}),is=expectNonNull(expectObject(await parseJsonBody(ts.body,ns)),"body"),os=take(is,{Endpoint:_json});return Object.assign(rs,os),rs},de_GetMessagingStreamingConfigurationsCommand=async(ts,ns)=>{if(ts.statusCode!==200&&ts.statusCode>=300)return de_CommandError(ts,ns);const rs=map({$metadata:deserializeMetadata(ts)}),is=expectNonNull(expectObject(await parseJsonBody(ts.body,ns)),"body"),os=take(is,{StreamingConfigurations:_json});return Object.assign(rs,os),rs},de_ListChannelBansCommand=async(ts,ns)=>{if(ts.statusCode!==200&&ts.statusCode>=300)return de_CommandError(ts,ns);const rs=map({$metadata:deserializeMetadata(ts)}),is=expectNonNull(expectObject(await parseJsonBody(ts.body,ns)),"body"),os=take(is,{ChannelArn:expectString,ChannelBans:_json,NextToken:expectString});return Object.assign(rs,os),rs},de_ListChannelFlowsCommand=async(ts,ns)=>{if(ts.statusCode!==200&&ts.statusCode>=300)return de_CommandError(ts,ns);const rs=map({$metadata:deserializeMetadata(ts)}),is=expectNonNull(expectObject(await parseJsonBody(ts.body,ns)),"body"),os=take(is,{ChannelFlows:_json,NextToken:expectString});return Object.assign(rs,os),rs},de_ListChannelMembershipsCommand=async(ts,ns)=>{if(ts.statusCode!==200&&ts.statusCode>=300)return de_CommandError(ts,ns);const rs=map({$metadata:deserializeMetadata(ts)}),is=expectNonNull(expectObject(await parseJsonBody(ts.body,ns)),"body"),os=take(is,{ChannelArn:expectString,ChannelMemberships:_json,NextToken:expectString});return Object.assign(rs,os),rs},de_ListChannelMembershipsForAppInstanceUserCommand=async(ts,ns)=>{if(ts.statusCode!==200&&ts.statusCode>=300)return de_CommandError(ts,ns);const rs=map({$metadata:deserializeMetadata(ts)}),is=expectNonNull(expectObject(await parseJsonBody(ts.body,ns)),"body"),os=take(is,{ChannelMemberships:ss=>de_ChannelMembershipForAppInstanceUserSummaryList(ss),NextToken:expectString});return Object.assign(rs,os),rs},de_ListChannelMessagesCommand=async(ts,ns)=>{if(ts.statusCode!==200&&ts.statusCode>=300)return de_CommandError(ts,ns);const rs=map({$metadata:deserializeMetadata(ts)}),is=expectNonNull(expectObject(await parseJsonBody(ts.body,ns)),"body"),os=take(is,{ChannelArn:expectString,ChannelMessages:ss=>de_ChannelMessageSummaryList(ss),NextToken:expectString,SubChannelId:expectString});return Object.assign(rs,os),rs},de_ListChannelModeratorsCommand=async(ts,ns)=>{if(ts.statusCode!==200&&ts.statusCode>=300)return de_CommandError(ts,ns);const rs=map({$metadata:deserializeMetadata(ts)}),is=expectNonNull(expectObject(await parseJsonBody(ts.body,ns)),"body"),os=take(is,{ChannelArn:expectString,ChannelModerators:_json,NextToken:expectString});return Object.assign(rs,os),rs},de_ListChannelsCommand=async(ts,ns)=>{if(ts.statusCode!==200&&ts.statusCode>=300)return de_CommandError(ts,ns);const rs=map({$metadata:deserializeMetadata(ts)}),is=expectNonNull(expectObject(await parseJsonBody(ts.body,ns)),"body"),os=take(is,{Channels:ss=>de_ChannelSummaryList(ss),NextToken:expectString});return Object.assign(rs,os),rs},de_ListChannelsAssociatedWithChannelFlowCommand=async(ts,ns)=>{if(ts.statusCode!==200&&ts.statusCode>=300)return de_CommandError(ts,ns);const rs=map({$metadata:deserializeMetadata(ts)}),is=expectNonNull(expectObject(await parseJsonBody(ts.body,ns)),"body"),os=take(is,{Channels:_json,NextToken:expectString});return Object.assign(rs,os),rs},de_ListChannelsModeratedByAppInstanceUserCommand=async(ts,ns)=>{if(ts.statusCode!==200&&ts.statusCode>=300)return de_CommandError(ts,ns);const rs=map({$metadata:deserializeMetadata(ts)}),is=expectNonNull(expectObject(await parseJsonBody(ts.body,ns)),"body"),os=take(is,{Channels:ss=>de_ChannelModeratedByAppInstanceUserSummaryList(ss),NextToken:expectString});return Object.assign(rs,os),rs},de_ListSubChannelsCommand=async(ts,ns)=>{if(ts.statusCode!==200&&ts.statusCode>=300)return de_CommandError(ts,ns);const rs=map({$metadata:deserializeMetadata(ts)}),is=expectNonNull(expectObject(await parseJsonBody(ts.body,ns)),"body"),os=take(is,{ChannelArn:expectString,NextToken:expectString,SubChannels:_json});return Object.assign(rs,os),rs},de_ListTagsForResourceCommand=async(ts,ns)=>{if(ts.statusCode!==200&&ts.statusCode>=300)return de_CommandError(ts,ns);const rs=map({$metadata:deserializeMetadata(ts)}),is=expectNonNull(expectObject(await parseJsonBody(ts.body,ns)),"body"),os=take(is,{Tags:_json});return Object.assign(rs,os),rs},de_PutChannelExpirationSettingsCommand=async(ts,ns)=>{if(ts.statusCode!==200&&ts.statusCode>=300)return de_CommandError(ts,ns);const rs=map({$metadata:deserializeMetadata(ts)}),is=expectNonNull(expectObject(await parseJsonBody(ts.body,ns)),"body"),os=take(is,{ChannelArn:expectString,ExpirationSettings:_json});return Object.assign(rs,os),rs},de_PutChannelMembershipPreferencesCommand=async(ts,ns)=>{if(ts.statusCode!==200&&ts.statusCode>=300)return de_CommandError(ts,ns);const rs=map({$metadata:deserializeMetadata(ts)}),is=expectNonNull(expectObject(await parseJsonBody(ts.body,ns)),"body"),os=take(is,{ChannelArn:expectString,Member:_json,Preferences:_json});return Object.assign(rs,os),rs},de_PutMessagingStreamingConfigurationsCommand=async(ts,ns)=>{if(ts.statusCode!==200&&ts.statusCode>=300)return de_CommandError(ts,ns);const rs=map({$metadata:deserializeMetadata(ts)}),is=expectNonNull(expectObject(await parseJsonBody(ts.body,ns)),"body"),os=take(is,{StreamingConfigurations:_json});return Object.assign(rs,os),rs},de_RedactChannelMessageCommand=async(ts,ns)=>{if(ts.statusCode!==200&&ts.statusCode>=300)return de_CommandError(ts,ns);const rs=map({$metadata:deserializeMetadata(ts)}),is=expectNonNull(expectObject(await parseJsonBody(ts.body,ns)),"body"),os=take(is,{ChannelArn:expectString,MessageId:expectString,SubChannelId:expectString});return Object.assign(rs,os),rs},de_SearchChannelsCommand=async(ts,ns)=>{if(ts.statusCode!==200&&ts.statusCode>=300)return de_CommandError(ts,ns);const rs=map({$metadata:deserializeMetadata(ts)}),is=expectNonNull(expectObject(await parseJsonBody(ts.body,ns)),"body"),os=take(is,{Channels:ss=>de_ChannelSummaryList(ss),NextToken:expectString});return Object.assign(rs,os),rs},de_SendChannelMessageCommand=async(ts,ns)=>{if(ts.statusCode!==201&&ts.statusCode>=300)return de_CommandError(ts,ns);const rs=map({$metadata:deserializeMetadata(ts)}),is=expectNonNull(expectObject(await parseJsonBody(ts.body,ns)),"body"),os=take(is,{ChannelArn:expectString,MessageId:expectString,Status:_json,SubChannelId:expectString});return Object.assign(rs,os),rs},de_TagResourceCommand=async(ts,ns)=>{if(ts.statusCode!==204&&ts.statusCode>=300)return de_CommandError(ts,ns);const rs=map({$metadata:deserializeMetadata(ts)});return await collectBody(ts.body,ns),rs},de_UntagResourceCommand=async(ts,ns)=>{if(ts.statusCode!==204&&ts.statusCode>=300)return de_CommandError(ts,ns);const rs=map({$metadata:deserializeMetadata(ts)});return await collectBody(ts.body,ns),rs},de_UpdateChannelCommand=async(ts,ns)=>{if(ts.statusCode!==200&&ts.statusCode>=300)return de_CommandError(ts,ns);const rs=map({$metadata:deserializeMetadata(ts)}),is=expectNonNull(expectObject(await parseJsonBody(ts.body,ns)),"body"),os=take(is,{ChannelArn:expectString});return Object.assign(rs,os),rs},de_UpdateChannelFlowCommand=async(ts,ns)=>{if(ts.statusCode!==200&&ts.statusCode>=300)return de_CommandError(ts,ns);const rs=map({$metadata:deserializeMetadata(ts)}),is=expectNonNull(expectObject(await parseJsonBody(ts.body,ns)),"body"),os=take(is,{ChannelFlowArn:expectString});return Object.assign(rs,os),rs},de_UpdateChannelMessageCommand=async(ts,ns)=>{if(ts.statusCode!==200&&ts.statusCode>=300)return de_CommandError(ts,ns);const rs=map({$metadata:deserializeMetadata(ts)}),is=expectNonNull(expectObject(await parseJsonBody(ts.body,ns)),"body"),os=take(is,{ChannelArn:expectString,MessageId:expectString,Status:_json,SubChannelId:expectString});return Object.assign(rs,os),rs},de_UpdateChannelReadMarkerCommand=async(ts,ns)=>{if(ts.statusCode!==200&&ts.statusCode>=300)return de_CommandError(ts,ns);const rs=map({$metadata:deserializeMetadata(ts)}),is=expectNonNull(expectObject(await parseJsonBody(ts.body,ns)),"body"),os=take(is,{ChannelArn:expectString});return Object.assign(rs,os),rs},de_CommandError=async(ts,ns)=>{const rs={...ts,body:await parseJsonErrorBody(ts.body,ns)},is=loadRestJsonErrorCode(ts,rs.body);switch(is){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw await de_BadRequestExceptionRes(rs);case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":throw await de_ConflictExceptionRes(rs);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw await de_ForbiddenExceptionRes(rs);case"NotFoundException":case"com.amazonaws.chimesdkmessaging#NotFoundException":throw await de_NotFoundExceptionRes(rs);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw await de_ServiceFailureExceptionRes(rs);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw await de_ServiceUnavailableExceptionRes(rs);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw await de_ThrottledClientExceptionRes(rs);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw await de_UnauthorizedClientExceptionRes(rs);case"ResourceLimitExceededException":case"com.amazonaws.chimesdkmessaging#ResourceLimitExceededException":throw await de_ResourceLimitExceededExceptionRes(rs);default:const os=rs.body;return throwDefaultError({output:ts,parsedBody:os,errorCode:is})}},throwDefaultError=withBaseException(ChimeSDKMessagingServiceException),de_BadRequestExceptionRes=async(ts,ns)=>{const rs=map({}),is=ts.body,os=take(is,{Code:expectString,Message:expectString});Object.assign(rs,os);const ss=new BadRequestException({$metadata:deserializeMetadata(ts),...rs});return decorateServiceException(ss,ts.body)},de_ConflictExceptionRes=async(ts,ns)=>{const rs=map({}),is=ts.body,os=take(is,{Code:expectString,Message:expectString});Object.assign(rs,os);const ss=new ConflictException({$metadata:deserializeMetadata(ts),...rs});return decorateServiceException(ss,ts.body)},de_ForbiddenExceptionRes=async(ts,ns)=>{const rs=map({}),is=ts.body,os=take(is,{Code:expectString,Message:expectString});Object.assign(rs,os);const ss=new ForbiddenException({$metadata:deserializeMetadata(ts),...rs});return decorateServiceException(ss,ts.body)},de_NotFoundExceptionRes=async(ts,ns)=>{const rs=map({}),is=ts.body,os=take(is,{Code:expectString,Message:expectString});Object.assign(rs,os);const ss=new NotFoundException({$metadata:deserializeMetadata(ts),...rs});return decorateServiceException(ss,ts.body)},de_ResourceLimitExceededExceptionRes=async(ts,ns)=>{const rs=map({}),is=ts.body,os=take(is,{Code:expectString,Message:expectString});Object.assign(rs,os);const ss=new ResourceLimitExceededException({$metadata:deserializeMetadata(ts),...rs});return decorateServiceException(ss,ts.body)},de_ServiceFailureExceptionRes=async(ts,ns)=>{const rs=map({}),is=ts.body,os=take(is,{Code:expectString,Message:expectString});Object.assign(rs,os);const ss=new ServiceFailureException({$metadata:deserializeMetadata(ts),...rs});return decorateServiceException(ss,ts.body)},de_ServiceUnavailableExceptionRes=async(ts,ns)=>{const rs=map({}),is=ts.body,os=take(is,{Code:expectString,Message:expectString});Object.assign(rs,os);const ss=new ServiceUnavailableException({$metadata:deserializeMetadata(ts),...rs});return decorateServiceException(ss,ts.body)},de_ThrottledClientExceptionRes=async(ts,ns)=>{const rs=map({}),is=ts.body,os=take(is,{Code:expectString,Message:expectString});Object.assign(rs,os);const ss=new ThrottledClientException({$metadata:deserializeMetadata(ts),...rs});return decorateServiceException(ss,ts.body)},de_UnauthorizedClientExceptionRes=async(ts,ns)=>{const rs=map({}),is=ts.body,os=take(is,{Code:expectString,Message:expectString});Object.assign(rs,os);const ss=new UnauthorizedClientException({$metadata:deserializeMetadata(ts),...rs});return decorateServiceException(ss,ts.body)},de_AppInstanceUserMembershipSummary=(ts,ns)=>take(ts,{ReadMarkerTimestamp:rs=>expectNonNull(parseEpochTimestamp(expectNumber(rs))),SubChannelId:expectString,Type:expectString}),de_Channel=(ts,ns)=>take(ts,{ChannelArn:expectString,ChannelFlowArn:expectString,CreatedBy:_json,CreatedTimestamp:rs=>expectNonNull(parseEpochTimestamp(expectNumber(rs))),ElasticChannelConfiguration:_json,ExpirationSettings:_json,LastMessageTimestamp:rs=>expectNonNull(parseEpochTimestamp(expectNumber(rs))),LastUpdatedTimestamp:rs=>expectNonNull(parseEpochTimestamp(expectNumber(rs))),Metadata:expectString,Mode:expectString,Name:expectString,Privacy:expectString}),de_ChannelBan=(ts,ns)=>take(ts,{ChannelArn:expectString,CreatedBy:_json,CreatedTimestamp:rs=>expectNonNull(parseEpochTimestamp(expectNumber(rs))),Member:_json}),de_ChannelFlow=(ts,ns)=>take(ts,{ChannelFlowArn:expectString,CreatedTimestamp:rs=>expectNonNull(parseEpochTimestamp(expectNumber(rs))),LastUpdatedTimestamp:rs=>expectNonNull(parseEpochTimestamp(expectNumber(rs))),Name:expectString,Processors:_json}),de_ChannelMembership=(ts,ns)=>take(ts,{ChannelArn:expectString,CreatedTimestamp:rs=>expectNonNull(parseEpochTimestamp(expectNumber(rs))),InvitedBy:_json,LastUpdatedTimestamp:rs=>expectNonNull(parseEpochTimestamp(expectNumber(rs))),Member:_json,SubChannelId:expectString,Type:expectString}),de_ChannelMembershipForAppInstanceUserSummary=(ts,ns)=>take(ts,{AppInstanceUserMembershipSummary:rs=>de_AppInstanceUserMembershipSummary(rs),ChannelSummary:rs=>de_ChannelSummary(rs)}),de_ChannelMembershipForAppInstanceUserSummaryList=(ts,ns)=>(ts||[]).filter(is=>is!=null).map(is=>de_ChannelMembershipForAppInstanceUserSummary(is)),de_ChannelMessage=(ts,ns)=>take(ts,{ChannelArn:expectString,Content:expectString,ContentType:expectString,CreatedTimestamp:rs=>expectNonNull(parseEpochTimestamp(expectNumber(rs))),LastEditedTimestamp:rs=>expectNonNull(parseEpochTimestamp(expectNumber(rs))),LastUpdatedTimestamp:rs=>expectNonNull(parseEpochTimestamp(expectNumber(rs))),MessageAttributes:_json,MessageId:expectString,Metadata:expectString,Persistence:expectString,Redacted:expectBoolean,Sender:_json,Status:_json,SubChannelId:expectString,Target:_json,Type:expectString}),de_ChannelMessageSummary=(ts,ns)=>take(ts,{Content:expectString,ContentType:expectString,CreatedTimestamp:rs=>expectNonNull(parseEpochTimestamp(expectNumber(rs))),LastEditedTimestamp:rs=>expectNonNull(parseEpochTimestamp(expectNumber(rs))),LastUpdatedTimestamp:rs=>expectNonNull(parseEpochTimestamp(expectNumber(rs))),MessageAttributes:_json,MessageId:expectString,Metadata:expectString,Redacted:expectBoolean,Sender:_json,Status:_json,Target:_json,Type:expectString}),de_ChannelMessageSummaryList=(ts,ns)=>(ts||[]).filter(is=>is!=null).map(is=>de_ChannelMessageSummary(is)),de_ChannelModeratedByAppInstanceUserSummary=(ts,ns)=>take(ts,{ChannelSummary:rs=>de_ChannelSummary(rs)}),de_ChannelModeratedByAppInstanceUserSummaryList=(ts,ns)=>(ts||[]).filter(is=>is!=null).map(is=>de_ChannelModeratedByAppInstanceUserSummary(is)),de_ChannelModerator=(ts,ns)=>take(ts,{ChannelArn:expectString,CreatedBy:_json,CreatedTimestamp:rs=>expectNonNull(parseEpochTimestamp(expectNumber(rs))),Moderator:_json}),de_ChannelSummary=(ts,ns)=>take(ts,{ChannelArn:expectString,LastMessageTimestamp:rs=>expectNonNull(parseEpochTimestamp(expectNumber(rs))),Metadata:expectString,Mode:expectString,Name:expectString,Privacy:expectString}),de_ChannelSummaryList=(ts,ns)=>(ts||[]).filter(is=>is!=null).map(is=>de_ChannelSummary(is)),deserializeMetadata=ts=>{var ns,rs;return{httpStatusCode:ts.statusCode,requestId:(rs=(ns=ts.headers["x-amzn-requestid"])!=null?ns:ts.headers["x-amzn-request-id"])!=null?rs:ts.headers["x-amz-request-id"],extendedRequestId:ts.headers["x-amz-id-2"],cfId:ts.headers["x-amz-cf-id"]}},isSerializableHeaderValue=ts=>ts!=null&&ts!==""&&(!Object.getOwnPropertyNames(ts).includes("length")||ts.length!=0)&&(!Object.getOwnPropertyNames(ts).includes("size")||ts.size!=0),_AIA="AppInstanceArn",_AIUA="AppInstanceUserArn",_CB="ChimeBearer",_CFA="ChannelFlowArn",_MR="MaxResults",_NA="NotAfter",_NB="NotBefore",_NT="NextToken",_P="Privacy",_RARN="ResourceARN",_SCI="SubChannelId",_SO="SortOrder",_T="Type",_a="arn",_aia="app-instance-arn",_aiua="app-instance-user-arn",_cfa="channel-flow-arn",_mr="max-results",_na="not-after",_nb="not-before",_nt="next-token",_o="operation",_p="privacy",_s="scope",_sci="sub-channel-id",_so="sort-order",_t="type",_xacb="x-amz-chime-bearer";class AssociateChannelFlowCommand extends Command.classBuilder().ep({...commonParams}).m(function(ns,rs,is,os){return[getSerdePlugin(is,this.serialize,this.deserialize),getEndpointPlugin(is,ns.getEndpointParameterInstructions())]}).s("ChimeMessagingService","AssociateChannelFlow",{}).n("ChimeSDKMessagingClient","AssociateChannelFlowCommand").f(void 0,void 0).ser(se_AssociateChannelFlowCommand).de(de_AssociateChannelFlowCommand).build(){}class BatchCreateChannelMembershipCommand extends Command.classBuilder().ep({...commonParams}).m(function(ns,rs,is,os){return[getSerdePlugin(is,this.serialize,this.deserialize),getEndpointPlugin(is,ns.getEndpointParameterInstructions())]}).s("ChimeMessagingService","BatchCreateChannelMembership",{}).n("ChimeSDKMessagingClient","BatchCreateChannelMembershipCommand").f(void 0,BatchCreateChannelMembershipResponseFilterSensitiveLog).ser(se_BatchCreateChannelMembershipCommand).de(de_BatchCreateChannelMembershipCommand).build(){}class ChannelFlowCallbackCommand extends Command.classBuilder().ep({...commonParams}).m(function(ns,rs,is,os){return[getSerdePlugin(is,this.serialize,this.deserialize),getEndpointPlugin(is,ns.getEndpointParameterInstructions())]}).s("ChimeMessagingService","ChannelFlowCallback",{}).n("ChimeSDKMessagingClient","ChannelFlowCallbackCommand").f(ChannelFlowCallbackRequestFilterSensitiveLog,void 0).ser(se_ChannelFlowCallbackCommand).de(de_ChannelFlowCallbackCommand).build(){}class CreateChannelBanCommand extends Command.classBuilder().ep({...commonParams}).m(function(ns,rs,is,os){return[getSerdePlugin(is,this.serialize,this.deserialize),getEndpointPlugin(is,ns.getEndpointParameterInstructions())]}).s("ChimeMessagingService","CreateChannelBan",{}).n("ChimeSDKMessagingClient","CreateChannelBanCommand").f(void 0,CreateChannelBanResponseFilterSensitiveLog).ser(se_CreateChannelBanCommand).de(de_CreateChannelBanCommand).build(){}class CreateChannelCommand extends Command.classBuilder().ep({...commonParams}).m(function(ns,rs,is,os){return[getSerdePlugin(is,this.serialize,this.deserialize),getEndpointPlugin(is,ns.getEndpointParameterInstructions())]}).s("ChimeMessagingService","CreateChannel",{}).n("ChimeSDKMessagingClient","CreateChannelCommand").f(CreateChannelRequestFilterSensitiveLog,void 0).ser(se_CreateChannelCommand).de(de_CreateChannelCommand).build(){}class CreateChannelFlowCommand extends Command.classBuilder().ep({...commonParams}).m(function(ns,rs,is,os){return[getSerdePlugin(is,this.serialize,this.deserialize),getEndpointPlugin(is,ns.getEndpointParameterInstructions())]}).s("ChimeMessagingService","CreateChannelFlow",{}).n("ChimeSDKMessagingClient","CreateChannelFlowCommand").f(CreateChannelFlowRequestFilterSensitiveLog,void 0).ser(se_CreateChannelFlowCommand).de(de_CreateChannelFlowCommand).build(){}class CreateChannelMembershipCommand extends Command.classBuilder().ep({...commonParams}).m(function(ns,rs,is,os){return[getSerdePlugin(is,this.serialize,this.deserialize),getEndpointPlugin(is,ns.getEndpointParameterInstructions())]}).s("ChimeMessagingService","CreateChannelMembership",{}).n("ChimeSDKMessagingClient","CreateChannelMembershipCommand").f(void 0,CreateChannelMembershipResponseFilterSensitiveLog).ser(se_CreateChannelMembershipCommand).de(de_CreateChannelMembershipCommand).build(){}class CreateChannelModeratorCommand extends Command.classBuilder().ep({...commonParams}).m(function(ns,rs,is,os){return[getSerdePlugin(is,this.serialize,this.deserialize),getEndpointPlugin(is,ns.getEndpointParameterInstructions())]}).s("ChimeMessagingService","CreateChannelModerator",{}).n("ChimeSDKMessagingClient","CreateChannelModeratorCommand").f(void 0,CreateChannelModeratorResponseFilterSensitiveLog).ser(se_CreateChannelModeratorCommand).de(de_CreateChannelModeratorCommand).build(){}class DeleteChannelBanCommand extends Command.classBuilder().ep({...commonParams}).m(function(ns,rs,is,os){return[getSerdePlugin(is,this.serialize,this.deserialize),getEndpointPlugin(is,ns.getEndpointParameterInstructions())]}).s("ChimeMessagingService","DeleteChannelBan",{}).n("ChimeSDKMessagingClient","DeleteChannelBanCommand").f(void 0,void 0).ser(se_DeleteChannelBanCommand).de(de_DeleteChannelBanCommand).build(){}class DeleteChannelCommand extends Command.classBuilder().ep({...commonParams}).m(function(ns,rs,is,os){return[getSerdePlugin(is,this.serialize,this.deserialize),getEndpointPlugin(is,ns.getEndpointParameterInstructions())]}).s("ChimeMessagingService","DeleteChannel",{}).n("ChimeSDKMessagingClient","DeleteChannelCommand").f(void 0,void 0).ser(se_DeleteChannelCommand).de(de_DeleteChannelCommand).build(){}class DeleteChannelFlowCommand extends Command.classBuilder().ep({...commonParams}).m(function(ns,rs,is,os){return[getSerdePlugin(is,this.serialize,this.deserialize),getEndpointPlugin(is,ns.getEndpointParameterInstructions())]}).s("ChimeMessagingService","DeleteChannelFlow",{}).n("ChimeSDKMessagingClient","DeleteChannelFlowCommand").f(void 0,void 0).ser(se_DeleteChannelFlowCommand).de(de_DeleteChannelFlowCommand).build(){}class DeleteChannelMembershipCommand extends Command.classBuilder().ep({...commonParams}).m(function(ns,rs,is,os){return[getSerdePlugin(is,this.serialize,this.deserialize),getEndpointPlugin(is,ns.getEndpointParameterInstructions())]}).s("ChimeMessagingService","DeleteChannelMembership",{}).n("ChimeSDKMessagingClient","DeleteChannelMembershipCommand").f(void 0,void 0).ser(se_DeleteChannelMembershipCommand).de(de_DeleteChannelMembershipCommand).build(){}class DeleteChannelMessageCommand extends Command.classBuilder().ep({...commonParams}).m(function(ns,rs,is,os){return[getSerdePlugin(is,this.serialize,this.deserialize),getEndpointPlugin(is,ns.getEndpointParameterInstructions())]}).s("ChimeMessagingService","DeleteChannelMessage",{}).n("ChimeSDKMessagingClient","DeleteChannelMessageCommand").f(void 0,void 0).ser(se_DeleteChannelMessageCommand).de(de_DeleteChannelMessageCommand).build(){}class DeleteChannelModeratorCommand extends Command.classBuilder().ep({...commonParams}).m(function(ns,rs,is,os){return[getSerdePlugin(is,this.serialize,this.deserialize),getEndpointPlugin(is,ns.getEndpointParameterInstructions())]}).s("ChimeMessagingService","DeleteChannelModerator",{}).n("ChimeSDKMessagingClient","DeleteChannelModeratorCommand").f(void 0,void 0).ser(se_DeleteChannelModeratorCommand).de(de_DeleteChannelModeratorCommand).build(){}class DeleteMessagingStreamingConfigurationsCommand extends Command.classBuilder().ep({...commonParams}).m(function(ns,rs,is,os){return[getSerdePlugin(is,this.serialize,this.deserialize),getEndpointPlugin(is,ns.getEndpointParameterInstructions())]}).s("ChimeMessagingService","DeleteMessagingStreamingConfigurations",{}).n("ChimeSDKMessagingClient","DeleteMessagingStreamingConfigurationsCommand").f(void 0,void 0).ser(se_DeleteMessagingStreamingConfigurationsCommand).de(de_DeleteMessagingStreamingConfigurationsCommand).build(){}class DescribeChannelBanCommand extends Command.classBuilder().ep({...commonParams}).m(function(ns,rs,is,os){return[getSerdePlugin(is,this.serialize,this.deserialize),getEndpointPlugin(is,ns.getEndpointParameterInstructions())]}).s("ChimeMessagingService","DescribeChannelBan",{}).n("ChimeSDKMessagingClient","DescribeChannelBanCommand").f(void 0,DescribeChannelBanResponseFilterSensitiveLog).ser(se_DescribeChannelBanCommand).de(de_DescribeChannelBanCommand).build(){}class DescribeChannelCommand extends Command.classBuilder().ep({...commonParams}).m(function(ns,rs,is,os){return[getSerdePlugin(is,this.serialize,this.deserialize),getEndpointPlugin(is,ns.getEndpointParameterInstructions())]}).s("ChimeMessagingService","DescribeChannel",{}).n("ChimeSDKMessagingClient","DescribeChannelCommand").f(void 0,DescribeChannelResponseFilterSensitiveLog).ser(se_DescribeChannelCommand).de(de_DescribeChannelCommand).build(){}class DescribeChannelFlowCommand extends Command.classBuilder().ep({...commonParams}).m(function(ns,rs,is,os){return[getSerdePlugin(is,this.serialize,this.deserialize),getEndpointPlugin(is,ns.getEndpointParameterInstructions())]}).s("ChimeMessagingService","DescribeChannelFlow",{}).n("ChimeSDKMessagingClient","DescribeChannelFlowCommand").f(void 0,DescribeChannelFlowResponseFilterSensitiveLog).ser(se_DescribeChannelFlowCommand).de(de_DescribeChannelFlowCommand).build(){}class DescribeChannelMembershipCommand extends Command.classBuilder().ep({...commonParams}).m(function(ns,rs,is,os){return[getSerdePlugin(is,this.serialize,this.deserialize),getEndpointPlugin(is,ns.getEndpointParameterInstructions())]}).s("ChimeMessagingService","DescribeChannelMembership",{}).n("ChimeSDKMessagingClient","DescribeChannelMembershipCommand").f(void 0,DescribeChannelMembershipResponseFilterSensitiveLog).ser(se_DescribeChannelMembershipCommand).de(de_DescribeChannelMembershipCommand).build(){}class DescribeChannelMembershipForAppInstanceUserCommand extends Command.classBuilder().ep({...commonParams}).m(function(ns,rs,is,os){return[getSerdePlugin(is,this.serialize,this.deserialize),getEndpointPlugin(is,ns.getEndpointParameterInstructions())]}).s("ChimeMessagingService","DescribeChannelMembershipForAppInstanceUser",{}).n("ChimeSDKMessagingClient","DescribeChannelMembershipForAppInstanceUserCommand").f(void 0,DescribeChannelMembershipForAppInstanceUserResponseFilterSensitiveLog).ser(se_DescribeChannelMembershipForAppInstanceUserCommand).de(de_DescribeChannelMembershipForAppInstanceUserCommand).build(){}class DescribeChannelModeratedByAppInstanceUserCommand extends Command.classBuilder().ep({...commonParams}).m(function(ns,rs,is,os){return[getSerdePlugin(is,this.serialize,this.deserialize),getEndpointPlugin(is,ns.getEndpointParameterInstructions())]}).s("ChimeMessagingService","DescribeChannelModeratedByAppInstanceUser",{}).n("ChimeSDKMessagingClient","DescribeChannelModeratedByAppInstanceUserCommand").f(void 0,DescribeChannelModeratedByAppInstanceUserResponseFilterSensitiveLog).ser(se_DescribeChannelModeratedByAppInstanceUserCommand).de(de_DescribeChannelModeratedByAppInstanceUserCommand).build(){}class DescribeChannelModeratorCommand extends Command.classBuilder().ep({...commonParams}).m(function(ns,rs,is,os){return[getSerdePlugin(is,this.serialize,this.deserialize),getEndpointPlugin(is,ns.getEndpointParameterInstructions())]}).s("ChimeMessagingService","DescribeChannelModerator",{}).n("ChimeSDKMessagingClient","DescribeChannelModeratorCommand").f(void 0,DescribeChannelModeratorResponseFilterSensitiveLog).ser(se_DescribeChannelModeratorCommand).de(de_DescribeChannelModeratorCommand).build(){}class DisassociateChannelFlowCommand extends Command.classBuilder().ep({...commonParams}).m(function(ns,rs,is,os){return[getSerdePlugin(is,this.serialize,this.deserialize),getEndpointPlugin(is,ns.getEndpointParameterInstructions())]}).s("ChimeMessagingService","DisassociateChannelFlow",{}).n("ChimeSDKMessagingClient","DisassociateChannelFlowCommand").f(void 0,void 0).ser(se_DisassociateChannelFlowCommand).de(de_DisassociateChannelFlowCommand).build(){}class GetChannelMembershipPreferencesCommand extends Command.classBuilder().ep({...commonParams}).m(function(ns,rs,is,os){return[getSerdePlugin(is,this.serialize,this.deserialize),getEndpointPlugin(is,ns.getEndpointParameterInstructions())]}).s("ChimeMessagingService","GetChannelMembershipPreferences",{}).n("ChimeSDKMessagingClient","GetChannelMembershipPreferencesCommand").f(void 0,GetChannelMembershipPreferencesResponseFilterSensitiveLog).ser(se_GetChannelMembershipPreferencesCommand).de(de_GetChannelMembershipPreferencesCommand).build(){}class GetChannelMessageCommand extends Command.classBuilder().ep({...commonParams}).m(function(ns,rs,is,os){return[getSerdePlugin(is,this.serialize,this.deserialize),getEndpointPlugin(is,ns.getEndpointParameterInstructions())]}).s("ChimeMessagingService","GetChannelMessage",{}).n("ChimeSDKMessagingClient","GetChannelMessageCommand").f(void 0,GetChannelMessageResponseFilterSensitiveLog).ser(se_GetChannelMessageCommand).de(de_GetChannelMessageCommand).build(){}class GetChannelMessageStatusCommand extends Command.classBuilder().ep({...commonParams}).m(function(ns,rs,is,os){return[getSerdePlugin(is,this.serialize,this.deserialize),getEndpointPlugin(is,ns.getEndpointParameterInstructions())]}).s("ChimeMessagingService","GetChannelMessageStatus",{}).n("ChimeSDKMessagingClient","GetChannelMessageStatusCommand").f(void 0,void 0).ser(se_GetChannelMessageStatusCommand).de(de_GetChannelMessageStatusCommand).build(){}class GetMessagingSessionEndpointCommand extends Command.classBuilder().ep({...commonParams}).m(function(ns,rs,is,os){return[getSerdePlugin(is,this.serialize,this.deserialize),getEndpointPlugin(is,ns.getEndpointParameterInstructions())]}).s("ChimeMessagingService","GetMessagingSessionEndpoint",{}).n("ChimeSDKMessagingClient","GetMessagingSessionEndpointCommand").f(void 0,void 0).ser(se_GetMessagingSessionEndpointCommand).de(de_GetMessagingSessionEndpointCommand).build(){}class GetMessagingStreamingConfigurationsCommand extends Command.classBuilder().ep({...commonParams}).m(function(ns,rs,is,os){return[getSerdePlugin(is,this.serialize,this.deserialize),getEndpointPlugin(is,ns.getEndpointParameterInstructions())]}).s("ChimeMessagingService","GetMessagingStreamingConfigurations",{}).n("ChimeSDKMessagingClient","GetMessagingStreamingConfigurationsCommand").f(void 0,void 0).ser(se_GetMessagingStreamingConfigurationsCommand).de(de_GetMessagingStreamingConfigurationsCommand).build(){}class ListChannelBansCommand extends Command.classBuilder().ep({...commonParams}).m(function(ns,rs,is,os){return[getSerdePlugin(is,this.serialize,this.deserialize),getEndpointPlugin(is,ns.getEndpointParameterInstructions())]}).s("ChimeMessagingService","ListChannelBans",{}).n("ChimeSDKMessagingClient","ListChannelBansCommand").f(ListChannelBansRequestFilterSensitiveLog,ListChannelBansResponseFilterSensitiveLog).ser(se_ListChannelBansCommand).de(de_ListChannelBansCommand).build(){}class ListChannelFlowsCommand extends Command.classBuilder().ep({...commonParams}).m(function(ns,rs,is,os){return[getSerdePlugin(is,this.serialize,this.deserialize),getEndpointPlugin(is,ns.getEndpointParameterInstructions())]}).s("ChimeMessagingService","ListChannelFlows",{}).n("ChimeSDKMessagingClient","ListChannelFlowsCommand").f(ListChannelFlowsRequestFilterSensitiveLog,ListChannelFlowsResponseFilterSensitiveLog).ser(se_ListChannelFlowsCommand).de(de_ListChannelFlowsCommand).build(){}class ListChannelMembershipsCommand extends Command.classBuilder().ep({...commonParams}).m(function(ns,rs,is,os){return[getSerdePlugin(is,this.serialize,this.deserialize),getEndpointPlugin(is,ns.getEndpointParameterInstructions())]}).s("ChimeMessagingService","ListChannelMemberships",{}).n("ChimeSDKMessagingClient","ListChannelMembershipsCommand").f(ListChannelMembershipsRequestFilterSensitiveLog,ListChannelMembershipsResponseFilterSensitiveLog).ser(se_ListChannelMembershipsCommand).de(de_ListChannelMembershipsCommand).build(){}class ListChannelMembershipsForAppInstanceUserCommand extends Command.classBuilder().ep({...commonParams}).m(function(ns,rs,is,os){return[getSerdePlugin(is,this.serialize,this.deserialize),getEndpointPlugin(is,ns.getEndpointParameterInstructions())]}).s("ChimeMessagingService","ListChannelMembershipsForAppInstanceUser",{}).n("ChimeSDKMessagingClient","ListChannelMembershipsForAppInstanceUserCommand").f(ListChannelMembershipsForAppInstanceUserRequestFilterSensitiveLog,ListChannelMembershipsForAppInstanceUserResponseFilterSensitiveLog).ser(se_ListChannelMembershipsForAppInstanceUserCommand).de(de_ListChannelMembershipsForAppInstanceUserCommand).build(){}class ListChannelMessagesCommand extends Command.classBuilder().ep({...commonParams}).m(function(ns,rs,is,os){return[getSerdePlugin(is,this.serialize,this.deserialize),getEndpointPlugin(is,ns.getEndpointParameterInstructions())]}).s("ChimeMessagingService","ListChannelMessages",{}).n("ChimeSDKMessagingClient","ListChannelMessagesCommand").f(ListChannelMessagesRequestFilterSensitiveLog,ListChannelMessagesResponseFilterSensitiveLog).ser(se_ListChannelMessagesCommand).de(de_ListChannelMessagesCommand).build(){}class ListChannelModeratorsCommand extends Command.classBuilder().ep({...commonParams}).m(function(ns,rs,is,os){return[getSerdePlugin(is,this.serialize,this.deserialize),getEndpointPlugin(is,ns.getEndpointParameterInstructions())]}).s("ChimeMessagingService","ListChannelModerators",{}).n("ChimeSDKMessagingClient","ListChannelModeratorsCommand").f(ListChannelModeratorsRequestFilterSensitiveLog,ListChannelModeratorsResponseFilterSensitiveLog).ser(se_ListChannelModeratorsCommand).de(de_ListChannelModeratorsCommand).build(){}class ListChannelsAssociatedWithChannelFlowCommand extends Command.classBuilder().ep({...commonParams}).m(function(ns,rs,is,os){return[getSerdePlugin(is,this.serialize,this.deserialize),getEndpointPlugin(is,ns.getEndpointParameterInstructions())]}).s("ChimeMessagingService","ListChannelsAssociatedWithChannelFlow",{}).n("ChimeSDKMessagingClient","ListChannelsAssociatedWithChannelFlowCommand").f(ListChannelsAssociatedWithChannelFlowRequestFilterSensitiveLog,ListChannelsAssociatedWithChannelFlowResponseFilterSensitiveLog).ser(se_ListChannelsAssociatedWithChannelFlowCommand).de(de_ListChannelsAssociatedWithChannelFlowCommand).build(){}class ListChannelsCommand extends Command.classBuilder().ep({...commonParams}).m(function(ns,rs,is,os){return[getSerdePlugin(is,this.serialize,this.deserialize),getEndpointPlugin(is,ns.getEndpointParameterInstructions())]}).s("ChimeMessagingService","ListChannels",{}).n("ChimeSDKMessagingClient","ListChannelsCommand").f(ListChannelsRequestFilterSensitiveLog,ListChannelsResponseFilterSensitiveLog).ser(se_ListChannelsCommand).de(de_ListChannelsCommand).build(){}class ListChannelsModeratedByAppInstanceUserCommand extends Command.classBuilder().ep({...commonParams}).m(function(ns,rs,is,os){return[getSerdePlugin(is,this.serialize,this.deserialize),getEndpointPlugin(is,ns.getEndpointParameterInstructions())]}).s("ChimeMessagingService","ListChannelsModeratedByAppInstanceUser",{}).n("ChimeSDKMessagingClient","ListChannelsModeratedByAppInstanceUserCommand").f(ListChannelsModeratedByAppInstanceUserRequestFilterSensitiveLog,ListChannelsModeratedByAppInstanceUserResponseFilterSensitiveLog).ser(se_ListChannelsModeratedByAppInstanceUserCommand).de(de_ListChannelsModeratedByAppInstanceUserCommand).build(){}class ListSubChannelsCommand extends Command.classBuilder().ep({...commonParams}).m(function(ns,rs,is,os){return[getSerdePlugin(is,this.serialize,this.deserialize),getEndpointPlugin(is,ns.getEndpointParameterInstructions())]}).s("ChimeMessagingService","ListSubChannels",{}).n("ChimeSDKMessagingClient","ListSubChannelsCommand").f(ListSubChannelsRequestFilterSensitiveLog,ListSubChannelsResponseFilterSensitiveLog).ser(se_ListSubChannelsCommand).de(de_ListSubChannelsCommand).build(){}class ListTagsForResourceCommand extends Command.classBuilder().ep({...commonParams}).m(function(ns,rs,is,os){return[getSerdePlugin(is,this.serialize,this.deserialize),getEndpointPlugin(is,ns.getEndpointParameterInstructions())]}).s("ChimeMessagingService","ListTagsForResource",{}).n("ChimeSDKMessagingClient","ListTagsForResourceCommand").f(void 0,ListTagsForResourceResponseFilterSensitiveLog).ser(se_ListTagsForResourceCommand).de(de_ListTagsForResourceCommand).build(){}class PutChannelExpirationSettingsCommand extends Command.classBuilder().ep({...commonParams}).m(function(ns,rs,is,os){return[getSerdePlugin(is,this.serialize,this.deserialize),getEndpointPlugin(is,ns.getEndpointParameterInstructions())]}).s("ChimeMessagingService","PutChannelExpirationSettings",{}).n("ChimeSDKMessagingClient","PutChannelExpirationSettingsCommand").f(void 0,void 0).ser(se_PutChannelExpirationSettingsCommand).de(de_PutChannelExpirationSettingsCommand).build(){}class PutChannelMembershipPreferencesCommand extends Command.classBuilder().ep({...commonParams}).m(function(ns,rs,is,os){return[getSerdePlugin(is,this.serialize,this.deserialize),getEndpointPlugin(is,ns.getEndpointParameterInstructions())]}).s("ChimeMessagingService","PutChannelMembershipPreferences",{}).n("ChimeSDKMessagingClient","PutChannelMembershipPreferencesCommand").f(PutChannelMembershipPreferencesRequestFilterSensitiveLog,PutChannelMembershipPreferencesResponseFilterSensitiveLog).ser(se_PutChannelMembershipPreferencesCommand).de(de_PutChannelMembershipPreferencesCommand).build(){}class PutMessagingStreamingConfigurationsCommand extends Command.classBuilder().ep({...commonParams}).m(function(ns,rs,is,os){return[getSerdePlugin(is,this.serialize,this.deserialize),getEndpointPlugin(is,ns.getEndpointParameterInstructions())]}).s("ChimeMessagingService","PutMessagingStreamingConfigurations",{}).n("ChimeSDKMessagingClient","PutMessagingStreamingConfigurationsCommand").f(void 0,void 0).ser(se_PutMessagingStreamingConfigurationsCommand).de(de_PutMessagingStreamingConfigurationsCommand).build(){}class RedactChannelMessageCommand extends Command.classBuilder().ep({...commonParams}).m(function(ns,rs,is,os){return[getSerdePlugin(is,this.serialize,this.deserialize),getEndpointPlugin(is,ns.getEndpointParameterInstructions())]}).s("ChimeMessagingService","RedactChannelMessage",{}).n("ChimeSDKMessagingClient","RedactChannelMessageCommand").f(void 0,void 0).ser(se_RedactChannelMessageCommand).de(de_RedactChannelMessageCommand).build(){}class SearchChannelsCommand extends Command.classBuilder().ep({...commonParams}).m(function(ns,rs,is,os){return[getSerdePlugin(is,this.serialize,this.deserialize),getEndpointPlugin(is,ns.getEndpointParameterInstructions())]}).s("ChimeMessagingService","SearchChannels",{}).n("ChimeSDKMessagingClient","SearchChannelsCommand").f(SearchChannelsRequestFilterSensitiveLog,SearchChannelsResponseFilterSensitiveLog).ser(se_SearchChannelsCommand).de(de_SearchChannelsCommand).build(){}class SendChannelMessageCommand extends Command.classBuilder().ep({...commonParams}).m(function(ns,rs,is,os){return[getSerdePlugin(is,this.serialize,this.deserialize),getEndpointPlugin(is,ns.getEndpointParameterInstructions())]}).s("ChimeMessagingService","SendChannelMessage",{}).n("ChimeSDKMessagingClient","SendChannelMessageCommand").f(SendChannelMessageRequestFilterSensitiveLog,void 0).ser(se_SendChannelMessageCommand).de(de_SendChannelMessageCommand).build(){}class TagResourceCommand extends Command.classBuilder().ep({...commonParams}).m(function(ns,rs,is,os){return[getSerdePlugin(is,this.serialize,this.deserialize),getEndpointPlugin(is,ns.getEndpointParameterInstructions())]}).s("ChimeMessagingService","TagResource",{}).n("ChimeSDKMessagingClient","TagResourceCommand").f(TagResourceRequestFilterSensitiveLog,void 0).ser(se_TagResourceCommand).de(de_TagResourceCommand).build(){}class UntagResourceCommand extends Command.classBuilder().ep({...commonParams}).m(function(ns,rs,is,os){return[getSerdePlugin(is,this.serialize,this.deserialize),getEndpointPlugin(is,ns.getEndpointParameterInstructions())]}).s("ChimeMessagingService","UntagResource",{}).n("ChimeSDKMessagingClient","UntagResourceCommand").f(UntagResourceRequestFilterSensitiveLog,void 0).ser(se_UntagResourceCommand).de(de_UntagResourceCommand).build(){}class UpdateChannelCommand extends Command.classBuilder().ep({...commonParams}).m(function(ns,rs,is,os){return[getSerdePlugin(is,this.serialize,this.deserialize),getEndpointPlugin(is,ns.getEndpointParameterInstructions())]}).s("ChimeMessagingService","UpdateChannel",{}).n("ChimeSDKMessagingClient","UpdateChannelCommand").f(UpdateChannelRequestFilterSensitiveLog,void 0).ser(se_UpdateChannelCommand).de(de_UpdateChannelCommand).build(){}class UpdateChannelFlowCommand extends Command.classBuilder().ep({...commonParams}).m(function(ns,rs,is,os){return[getSerdePlugin(is,this.serialize,this.deserialize),getEndpointPlugin(is,ns.getEndpointParameterInstructions())]}).s("ChimeMessagingService","UpdateChannelFlow",{}).n("ChimeSDKMessagingClient","UpdateChannelFlowCommand").f(UpdateChannelFlowRequestFilterSensitiveLog,void 0).ser(se_UpdateChannelFlowCommand).de(de_UpdateChannelFlowCommand).build(){}class UpdateChannelMessageCommand extends Command.classBuilder().ep({...commonParams}).m(function(ns,rs,is,os){return[getSerdePlugin(is,this.serialize,this.deserialize),getEndpointPlugin(is,ns.getEndpointParameterInstructions())]}).s("ChimeMessagingService","UpdateChannelMessage",{}).n("ChimeSDKMessagingClient","UpdateChannelMessageCommand").f(UpdateChannelMessageRequestFilterSensitiveLog,void 0).ser(se_UpdateChannelMessageCommand).de(de_UpdateChannelMessageCommand).build(){}class UpdateChannelReadMarkerCommand extends Command.classBuilder().ep({...commonParams}).m(function(ns,rs,is,os){return[getSerdePlugin(is,this.serialize,this.deserialize),getEndpointPlugin(is,ns.getEndpointParameterInstructions())]}).s("ChimeMessagingService","UpdateChannelReadMarker",{}).n("ChimeSDKMessagingClient","UpdateChannelReadMarkerCommand").f(void 0,void 0).ser(se_UpdateChannelReadMarkerCommand).de(de_UpdateChannelReadMarkerCommand).build(){}const commands={AssociateChannelFlowCommand,BatchCreateChannelMembershipCommand,ChannelFlowCallbackCommand,CreateChannelCommand,CreateChannelBanCommand,CreateChannelFlowCommand,CreateChannelMembershipCommand,CreateChannelModeratorCommand,DeleteChannelCommand,DeleteChannelBanCommand,DeleteChannelFlowCommand,DeleteChannelMembershipCommand,DeleteChannelMessageCommand,DeleteChannelModeratorCommand,DeleteMessagingStreamingConfigurationsCommand,DescribeChannelCommand,DescribeChannelBanCommand,DescribeChannelFlowCommand,DescribeChannelMembershipCommand,DescribeChannelMembershipForAppInstanceUserCommand,DescribeChannelModeratedByAppInstanceUserCommand,DescribeChannelModeratorCommand,DisassociateChannelFlowCommand,GetChannelMembershipPreferencesCommand,GetChannelMessageCommand,GetChannelMessageStatusCommand,GetMessagingSessionEndpointCommand,GetMessagingStreamingConfigurationsCommand,ListChannelBansCommand,ListChannelFlowsCommand,ListChannelMembershipsCommand,ListChannelMembershipsForAppInstanceUserCommand,ListChannelMessagesCommand,ListChannelModeratorsCommand,ListChannelsCommand,ListChannelsAssociatedWithChannelFlowCommand,ListChannelsModeratedByAppInstanceUserCommand,ListSubChannelsCommand,ListTagsForResourceCommand,PutChannelExpirationSettingsCommand,PutChannelMembershipPreferencesCommand,PutMessagingStreamingConfigurationsCommand,RedactChannelMessageCommand,SearchChannelsCommand,SendChannelMessageCommand,TagResourceCommand,UntagResourceCommand,UpdateChannelCommand,UpdateChannelFlowCommand,UpdateChannelMessageCommand,UpdateChannelReadMarkerCommand};class ChimeSDKMessaging extends ChimeSDKMessagingClient{}createAggregatedClient(commands,ChimeSDKMessaging);const paginateListChannelBans=createPaginator(ChimeSDKMessagingClient,ListChannelBansCommand,"NextToken","NextToken","MaxResults"),paginateListChannelFlows=createPaginator(ChimeSDKMessagingClient,ListChannelFlowsCommand,"NextToken","NextToken","MaxResults"),paginateListChannelMembershipsForAppInstanceUser=createPaginator(ChimeSDKMessagingClient,ListChannelMembershipsForAppInstanceUserCommand,"NextToken","NextToken","MaxResults"),paginateListChannelMemberships=createPaginator(ChimeSDKMessagingClient,ListChannelMembershipsCommand,"NextToken","NextToken","MaxResults"),paginateListChannelMessages=createPaginator(ChimeSDKMessagingClient,ListChannelMessagesCommand,"NextToken","NextToken","MaxResults"),paginateListChannelModerators=createPaginator(ChimeSDKMessagingClient,ListChannelModeratorsCommand,"NextToken","NextToken","MaxResults"),paginateListChannelsAssociatedWithChannelFlow=createPaginator(ChimeSDKMessagingClient,ListChannelsAssociatedWithChannelFlowCommand,"NextToken","NextToken","MaxResults"),paginateListChannelsModeratedByAppInstanceUser=createPaginator(ChimeSDKMessagingClient,ListChannelsModeratedByAppInstanceUserCommand,"NextToken","NextToken","MaxResults"),paginateListChannels=createPaginator(ChimeSDKMessagingClient,ListChannelsCommand,"NextToken","NextToken","MaxResults"),paginateListSubChannels=createPaginator(ChimeSDKMessagingClient,ListSubChannelsCommand,"NextToken","NextToken","MaxResults"),paginateSearchChannels=createPaginator(ChimeSDKMessagingClient,SearchChannelsCommand,"NextToken","NextToken","MaxResults"),distEs$2=Object.freeze(Object.defineProperty({__proto__:null,$Command:Command,AllowNotifications,AssociateChannelFlowCommand,BadRequestException,BatchChannelMembershipsFilterSensitiveLog,BatchCreateChannelMembershipCommand,BatchCreateChannelMembershipResponseFilterSensitiveLog,ChannelAssociatedWithFlowSummaryFilterSensitiveLog,ChannelBanFilterSensitiveLog,ChannelBanSummaryFilterSensitiveLog,ChannelFilterSensitiveLog,ChannelFlowCallbackCommand,ChannelFlowCallbackRequestFilterSensitiveLog,ChannelFlowFilterSensitiveLog,ChannelFlowSummaryFilterSensitiveLog,ChannelMembershipFilterSensitiveLog,ChannelMembershipForAppInstanceUserSummaryFilterSensitiveLog,ChannelMembershipPreferencesFilterSensitiveLog,ChannelMembershipSummaryFilterSensitiveLog,ChannelMembershipType,ChannelMessageCallbackFilterSensitiveLog,ChannelMessageFilterSensitiveLog,ChannelMessagePersistenceType,ChannelMessageStatus,ChannelMessageSummaryFilterSensitiveLog,ChannelMessageType,ChannelMode,ChannelModeratedByAppInstanceUserSummaryFilterSensitiveLog,ChannelModeratorFilterSensitiveLog,ChannelModeratorSummaryFilterSensitiveLog,ChannelPrivacy,ChannelSummaryFilterSensitiveLog,ChimeSDKMessaging,ChimeSDKMessagingClient,ChimeSDKMessagingServiceException,ConflictException,CreateChannelBanCommand,CreateChannelBanResponseFilterSensitiveLog,CreateChannelCommand,CreateChannelFlowCommand,CreateChannelFlowRequestFilterSensitiveLog,CreateChannelMembershipCommand,CreateChannelMembershipResponseFilterSensitiveLog,CreateChannelModeratorCommand,CreateChannelModeratorResponseFilterSensitiveLog,CreateChannelRequestFilterSensitiveLog,DeleteChannelBanCommand,DeleteChannelCommand,DeleteChannelFlowCommand,DeleteChannelMembershipCommand,DeleteChannelMessageCommand,DeleteChannelModeratorCommand,DeleteMessagingStreamingConfigurationsCommand,DescribeChannelBanCommand,DescribeChannelBanResponseFilterSensitiveLog,DescribeChannelCommand,DescribeChannelFlowCommand,DescribeChannelFlowResponseFilterSensitiveLog,DescribeChannelMembershipCommand,DescribeChannelMembershipForAppInstanceUserCommand,DescribeChannelMembershipForAppInstanceUserResponseFilterSensitiveLog,DescribeChannelMembershipResponseFilterSensitiveLog,DescribeChannelModeratedByAppInstanceUserCommand,DescribeChannelModeratedByAppInstanceUserResponseFilterSensitiveLog,DescribeChannelModeratorCommand,DescribeChannelModeratorResponseFilterSensitiveLog,DescribeChannelResponseFilterSensitiveLog,DisassociateChannelFlowCommand,ErrorCode,ExpirationCriterion,FallbackAction,ForbiddenException,GetChannelMembershipPreferencesCommand,GetChannelMembershipPreferencesResponseFilterSensitiveLog,GetChannelMessageCommand,GetChannelMessageResponseFilterSensitiveLog,GetChannelMessageStatusCommand,GetMessagingSessionEndpointCommand,GetMessagingStreamingConfigurationsCommand,IdentityFilterSensitiveLog,InvocationType,ListChannelBansCommand,ListChannelBansRequestFilterSensitiveLog,ListChannelBansResponseFilterSensitiveLog,ListChannelFlowsCommand,ListChannelFlowsRequestFilterSensitiveLog,ListChannelFlowsResponseFilterSensitiveLog,ListChannelMembershipsCommand,ListChannelMembershipsForAppInstanceUserCommand,ListChannelMembershipsForAppInstanceUserRequestFilterSensitiveLog,ListChannelMembershipsForAppInstanceUserResponseFilterSensitiveLog,ListChannelMembershipsRequestFilterSensitiveLog,ListChannelMembershipsResponseFilterSensitiveLog,ListChannelMessagesCommand,ListChannelMessagesRequestFilterSensitiveLog,ListChannelMessagesResponseFilterSensitiveLog,ListChannelModeratorsCommand,ListChannelModeratorsRequestFilterSensitiveLog,ListChannelModeratorsResponseFilterSensitiveLog,ListChannelsAssociatedWithChannelFlowCommand,ListChannelsAssociatedWithChannelFlowRequestFilterSensitiveLog,ListChannelsAssociatedWithChannelFlowResponseFilterSensitiveLog,ListChannelsCommand,ListChannelsModeratedByAppInstanceUserCommand,ListChannelsModeratedByAppInstanceUserRequestFilterSensitiveLog,ListChannelsModeratedByAppInstanceUserResponseFilterSensitiveLog,ListChannelsRequestFilterSensitiveLog,ListChannelsResponseFilterSensitiveLog,ListSubChannelsCommand,ListSubChannelsRequestFilterSensitiveLog,ListSubChannelsResponseFilterSensitiveLog,ListTagsForResourceCommand,ListTagsForResourceResponseFilterSensitiveLog,MessageAttributeValueFilterSensitiveLog,MessagingDataType,NotFoundException,ProcessorFilterSensitiveLog,PushNotificationConfigurationFilterSensitiveLog,PushNotificationPreferencesFilterSensitiveLog,PushNotificationType,PutChannelExpirationSettingsCommand,PutChannelMembershipPreferencesCommand,PutChannelMembershipPreferencesRequestFilterSensitiveLog,PutChannelMembershipPreferencesResponseFilterSensitiveLog,PutMessagingStreamingConfigurationsCommand,RedactChannelMessageCommand,ResourceLimitExceededException,SearchChannelsCommand,SearchChannelsRequestFilterSensitiveLog,SearchChannelsResponseFilterSensitiveLog,SearchFieldKey,SearchFieldOperator,SendChannelMessageCommand,SendChannelMessageRequestFilterSensitiveLog,ServiceFailureException,ServiceUnavailableException,SortOrder,TagFilterSensitiveLog,TagResourceCommand,TagResourceRequestFilterSensitiveLog,ThrottledClientException,UnauthorizedClientException,UntagResourceCommand,UntagResourceRequestFilterSensitiveLog,UpdateChannelCommand,UpdateChannelFlowCommand,UpdateChannelFlowRequestFilterSensitiveLog,UpdateChannelMessageCommand,UpdateChannelMessageRequestFilterSensitiveLog,UpdateChannelReadMarkerCommand,UpdateChannelRequestFilterSensitiveLog,__Client:Client,paginateListChannelBans,paginateListChannelFlows,paginateListChannelMemberships,paginateListChannelMembershipsForAppInstanceUser,paginateListChannelMessages,paginateListChannelModerators,paginateListChannels,paginateListChannelsAssociatedWithChannelFlow,paginateListChannelsModeratedByAppInstanceUser,paginateListSubChannels,paginateSearchChannels},Symbol.toStringTag,{value:"Module"})),require$$0$2=getAugmentedNamespace(distEs$2);var Message$1={};Object.defineProperty(Message$1,"__esModule",{value:!0});class Message{constructor(ns,rs,is){this.type=ns,this.headers=rs,this.payload=is}}Message$1.default=Message;var DefaultSigV4$1={},build$1={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics=function(ts,ns){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(rs,is){rs.__proto__=is}||function(rs,is){for(var os in is)is.hasOwnProperty(os)&&(rs[os]=is[os])},extendStatics(ts,ns)};function __extends(ts,ns){extendStatics(ts,ns);function rs(){this.constructor=ts}ts.prototype=ns===null?Object.create(ns):(rs.prototype=ns.prototype,new rs)}var __assign=function(){return __assign=Object.assign||function(ns){for(var rs,is=1,os=arguments.length;is<os;is++){rs=arguments[is];for(var ss in rs)Object.prototype.hasOwnProperty.call(rs,ss)&&(ns[ss]=rs[ss])}return ns},__assign.apply(this,arguments)};function __rest$1(ts,ns){var rs={};for(var is in ts)Object.prototype.hasOwnProperty.call(ts,is)&&ns.indexOf(is)<0&&(rs[is]=ts[is]);if(ts!=null&&typeof Object.getOwnPropertySymbols=="function")for(var os=0,is=Object.getOwnPropertySymbols(ts);os<is.length;os++)ns.indexOf(is[os])<0&&Object.prototype.propertyIsEnumerable.call(ts,is[os])&&(rs[is[os]]=ts[is[os]]);return rs}function __decorate(ts,ns,rs,is){var os=arguments.length,ss=os<3?ns:is===null?is=Object.getOwnPropertyDescriptor(ns,rs):is,as;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ss=Reflect.decorate(ts,ns,rs,is);else for(var ls=ts.length-1;ls>=0;ls--)(as=ts[ls])&&(ss=(os<3?as(ss):os>3?as(ns,rs,ss):as(ns,rs))||ss);return os>3&&ss&&Object.defineProperty(ns,rs,ss),ss}function __param(ts,ns){return function(rs,is){ns(rs,is,ts)}}function __metadata(ts,ns){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(ts,ns)}function __awaiter$f(ts,ns,rs,is){function os(ss){return ss instanceof rs?ss:new rs(function(as){as(ss)})}return new(rs||(rs=Promise))(function(ss,as){function ls(ds){try{us(is.next(ds))}catch(ps){as(ps)}}function cs(ds){try{us(is.throw(ds))}catch(ps){as(ps)}}function us(ds){ds.done?ss(ds.value):os(ds.value).then(ls,cs)}us((is=is.apply(ts,ns||[])).next())})}function __generator(ts,ns){var rs={label:0,sent:function(){if(ss[0]&1)throw ss[1];return ss[1]},trys:[],ops:[]},is,os,ss,as;return as={next:ls(0),throw:ls(1),return:ls(2)},typeof Symbol=="function"&&(as[Symbol.iterator]=function(){return this}),as;function ls(us){return function(ds){return cs([us,ds])}}function cs(us){if(is)throw new TypeError("Generator is already executing.");for(;rs;)try{if(is=1,os&&(ss=us[0]&2?os.return:us[0]?os.throw||((ss=os.return)&&ss.call(os),0):os.next)&&!(ss=ss.call(os,us[1])).done)return ss;switch(os=0,ss&&(us=[us[0]&2,ss.value]),us[0]){case 0:case 1:ss=us;break;case 4:return rs.label++,{value:us[1],done:!1};case 5:rs.label++,os=us[1],us=[0];continue;case 7:us=rs.ops.pop(),rs.trys.pop();continue;default:if(ss=rs.trys,!(ss=ss.length>0&&ss[ss.length-1])&&(us[0]===6||us[0]===2)){rs=0;continue}if(us[0]===3&&(!ss||us[1]>ss[0]&&us[1]<ss[3])){rs.label=us[1];break}if(us[0]===6&&rs.label<ss[1]){rs.label=ss[1],ss=us;break}if(ss&&rs.label<ss[2]){rs.label=ss[2],rs.ops.push(us);break}ss[2]&&rs.ops.pop(),rs.trys.pop();continue}us=ns.call(ts,rs)}catch(ds){us=[6,ds],os=0}finally{is=ss=0}if(us[0]&5)throw us[1];return{value:us[0]?us[1]:void 0,done:!0}}}function __createBinding(ts,ns,rs,is){is===void 0&&(is=rs),ts[is]=ns[rs]}function __exportStar(ts,ns){for(var rs in ts)rs!=="default"&&!ns.hasOwnProperty(rs)&&(ns[rs]=ts[rs])}function __values(ts){var ns=typeof Symbol=="function"&&Symbol.iterator,rs=ns&&ts[ns],is=0;if(rs)return rs.call(ts);if(ts&&typeof ts.length=="number")return{next:function(){return ts&&is>=ts.length&&(ts=void 0),{value:ts&&ts[is++],done:!ts}}};throw new TypeError(ns?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(ts,ns){var rs=typeof Symbol=="function"&&ts[Symbol.iterator];if(!rs)return ts;var is=rs.call(ts),os,ss=[],as;try{for(;(ns===void 0||ns-- >0)&&!(os=is.next()).done;)ss.push(os.value)}catch(ls){as={error:ls}}finally{try{os&&!os.done&&(rs=is.return)&&rs.call(is)}finally{if(as)throw as.error}}return ss}function __spread(){for(var ts=[],ns=0;ns<arguments.length;ns++)ts=ts.concat(__read(arguments[ns]));return ts}function __spreadArrays(){for(var ts=0,ns=0,rs=arguments.length;ns<rs;ns++)ts+=arguments[ns].length;for(var is=Array(ts),os=0,ns=0;ns<rs;ns++)for(var ss=arguments[ns],as=0,ls=ss.length;as<ls;as++,os++)is[os]=ss[as];return is}function __await(ts){return this instanceof __await?(this.v=ts,this):new __await(ts)}function __asyncGenerator(ts,ns,rs){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var is=rs.apply(ts,ns||[]),os,ss=[];return os={},as("next"),as("throw"),as("return"),os[Symbol.asyncIterator]=function(){return this},os;function as(hs){is[hs]&&(os[hs]=function(ms){return new Promise(function(gs,ys){ss.push([hs,ms,gs,ys])>1||ls(hs,ms)})})}function ls(hs,ms){try{cs(is[hs](ms))}catch(gs){ps(ss[0][3],gs)}}function cs(hs){hs.value instanceof __await?Promise.resolve(hs.value.v).then(us,ds):ps(ss[0][2],hs)}function us(hs){ls("next",hs)}function ds(hs){ls("throw",hs)}function ps(hs,ms){hs(ms),ss.shift(),ss.length&&ls(ss[0][0],ss[0][1])}}function __asyncDelegator(ts){var ns,rs;return ns={},is("next"),is("throw",function(os){throw os}),is("return"),ns[Symbol.iterator]=function(){return this},ns;function is(os,ss){ns[os]=ts[os]?function(as){return(rs=!rs)?{value:__await(ts[os](as)),done:os==="return"}:ss?ss(as):as}:ss}}function __asyncValues(ts){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ns=ts[Symbol.asyncIterator],rs;return ns?ns.call(ts):(ts=typeof __values=="function"?__values(ts):ts[Symbol.iterator](),rs={},is("next"),is("throw"),is("return"),rs[Symbol.asyncIterator]=function(){return this},rs);function is(ss){rs[ss]=ts[ss]&&function(as){return new Promise(function(ls,cs){as=ts[ss](as),os(ls,cs,as.done,as.value)})}}function os(ss,as,ls,cs){Promise.resolve(cs).then(function(us){ss({value:us,done:ls})},as)}}function __makeTemplateObject(ts,ns){return Object.defineProperty?Object.defineProperty(ts,"raw",{value:ns}):ts.raw=ns,ts}function __importStar(ts){if(ts&&ts.__esModule)return ts;var ns={};if(ts!=null)for(var rs in ts)Object.hasOwnProperty.call(ts,rs)&&(ns[rs]=ts[rs]);return ns.default=ts,ns}function __importDefault$e(ts){return ts&&ts.__esModule?ts:{default:ts}}function __classPrivateFieldGet(ts,ns){if(!ns.has(ts))throw new TypeError("attempted to get private field on non-instance");return ns.get(ts)}function __classPrivateFieldSet(ts,ns,rs){if(!ns.has(ts))throw new TypeError("attempted to set private field on non-instance");return ns.set(ts,rs),rs}const tslib_es6=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return __assign},__asyncDelegator,__asyncGenerator,__asyncValues,__await,__awaiter:__awaiter$f,__classPrivateFieldGet,__classPrivateFieldSet,__createBinding,__decorate,__exportStar,__extends,__generator,__importDefault:__importDefault$e,__importStar,__makeTemplateObject,__metadata,__param,__read,__rest:__rest$1,__spread,__spreadArrays,__values},Symbol.toStringTag,{value:"Module"})),require$$0$1=getAugmentedNamespace(tslib_es6);var jsSha256={},constants={},hasRequiredConstants;function requireConstants(){return hasRequiredConstants||(hasRequiredConstants=1,Object.defineProperty(constants,"__esModule",{value:!0}),constants.MAX_HASHABLE_LENGTH=constants.INIT=constants.KEY=constants.DIGEST_LENGTH=constants.BLOCK_SIZE=void 0,constants.BLOCK_SIZE=64,constants.DIGEST_LENGTH=32,constants.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),constants.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],constants.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1),constants}var RawSha256={},hasRequiredRawSha256;function requireRawSha256(){if(hasRequiredRawSha256)return RawSha256;hasRequiredRawSha256=1,Object.defineProperty(RawSha256,"__esModule",{value:!0}),RawSha256.RawSha256=void 0;var ts=requireConstants(),ns=function(){function rs(){this.state=Int32Array.from(ts.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return rs.prototype.update=function(is){if(this.finished)throw new Error("Attempted to update an already finished hash.");var os=0,ss=is.byteLength;if(this.bytesHashed+=ss,this.bytesHashed*8>ts.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;ss>0;)this.buffer[this.bufferLength++]=is[os++],ss--,this.bufferLength===ts.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},rs.prototype.digest=function(){if(!this.finished){var is=this.bytesHashed*8,os=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),ss=this.bufferLength;if(os.setUint8(this.bufferLength++,128),ss%ts.BLOCK_SIZE>=ts.BLOCK_SIZE-8){for(var as=this.bufferLength;as<ts.BLOCK_SIZE;as++)os.setUint8(as,0);this.hashBuffer(),this.bufferLength=0}for(var as=this.bufferLength;as<ts.BLOCK_SIZE-8;as++)os.setUint8(as,0);os.setUint32(ts.BLOCK_SIZE-8,Math.floor(is/4294967296),!0),os.setUint32(ts.BLOCK_SIZE-4,is),this.hashBuffer(),this.finished=!0}for(var ls=new Uint8Array(ts.DIGEST_LENGTH),as=0;as<8;as++)ls[as*4]=this.state[as]>>>24&255,ls[as*4+1]=this.state[as]>>>16&255,ls[as*4+2]=this.state[as]>>>8&255,ls[as*4+3]=this.state[as]>>>0&255;return ls},rs.prototype.hashBuffer=function(){for(var is=this,os=is.buffer,ss=is.state,as=ss[0],ls=ss[1],cs=ss[2],us=ss[3],ds=ss[4],ps=ss[5],hs=ss[6],ms=ss[7],gs=0;gs<ts.BLOCK_SIZE;gs++){if(gs<16)this.temp[gs]=(os[gs*4]&255)<<24|(os[gs*4+1]&255)<<16|(os[gs*4+2]&255)<<8|os[gs*4+3]&255;else{var ys=this.temp[gs-2],vs=(ys>>>17|ys<<15)^(ys>>>19|ys<<13)^ys>>>10;ys=this.temp[gs-15];var bs=(ys>>>7|ys<<25)^(ys>>>18|ys<<14)^ys>>>3;this.temp[gs]=(vs+this.temp[gs-7]|0)+(bs+this.temp[gs-16]|0)}var Ss=(((ds>>>6|ds<<26)^(ds>>>11|ds<<21)^(ds>>>25|ds<<7))+(ds&ps^~ds&hs)|0)+(ms+(ts.KEY[gs]+this.temp[gs]|0)|0)|0,$s=((as>>>2|as<<30)^(as>>>13|as<<19)^(as>>>22|as<<10))+(as&ls^as&cs^ls&cs)|0;ms=hs,hs=ps,ps=ds,ds=us+Ss|0,us=cs,cs=ls,ls=as,as=Ss+$s|0}ss[0]+=as,ss[1]+=ls,ss[2]+=cs,ss[3]+=us,ss[4]+=ds,ss[5]+=ps,ss[6]+=hs,ss[7]+=ms},rs}();return RawSha256.RawSha256=ns,RawSha256}var build={},convertToBuffer={};const fromUtf8$2=ts=>{const ns=[];for(let rs=0,is=ts.length;rs<is;rs++){const os=ts.charCodeAt(rs);if(os<128)ns.push(os);else if(os<2048)ns.push(os>>6|192,os&63|128);else if(rs+1<ts.length&&(os&64512)===55296&&(ts.charCodeAt(rs+1)&64512)===56320){const ss=65536+((os&1023)<<10)+(ts.charCodeAt(++rs)&1023);ns.push(ss>>18|240,ss>>12&63|128,ss>>6&63|128,ss&63|128)}else ns.push(os>>12|224,os>>6&63|128,os&63|128)}return Uint8Array.from(ns)},toUtf8$2=ts=>{let ns="";for(let rs=0,is=ts.length;rs<is;rs++){const os=ts[rs];if(os<128)ns+=String.fromCharCode(os);else if(192<=os&&os<224){const ss=ts[++rs];ns+=String.fromCharCode((os&31)<<6|ss&63)}else if(240<=os&&os<365){const as="%"+[os,ts[++rs],ts[++rs],ts[++rs]].map(ls=>ls.toString(16)).join("%");ns+=decodeURIComponent(as)}else ns+=String.fromCharCode((os&15)<<12|(ts[++rs]&63)<<6|ts[++rs]&63)}return ns};function fromUtf8$1(ts){return new TextEncoder().encode(ts)}function toUtf8$1(ts){return new TextDecoder("utf-8").decode(ts)}const fromUtf8=ts=>typeof TextEncoder=="function"?fromUtf8$1(ts):fromUtf8$2(ts),toUtf8=ts=>typeof TextDecoder=="function"?toUtf8$1(ts):toUtf8$2(ts),distEs$1=Object.freeze(Object.defineProperty({__proto__:null,fromUtf8,toUtf8},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(distEs$1);var hasRequiredConvertToBuffer;function requireConvertToBuffer(){if(hasRequiredConvertToBuffer)return convertToBuffer;hasRequiredConvertToBuffer=1,Object.defineProperty(convertToBuffer,"__esModule",{value:!0}),convertToBuffer.convertToBuffer=void 0;var ts=require$$0,ns=typeof Buffer<"u"&&Buffer.from?function(is){return Buffer.from(is,"utf8")}:ts.fromUtf8;function rs(is){return is instanceof Uint8Array?is:typeof is=="string"?ns(is):ArrayBuffer.isView(is)?new Uint8Array(is.buffer,is.byteOffset,is.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(is)}return convertToBuffer.convertToBuffer=rs,convertToBuffer}var isEmptyData={},hasRequiredIsEmptyData;function requireIsEmptyData(){if(hasRequiredIsEmptyData)return isEmptyData;hasRequiredIsEmptyData=1,Object.defineProperty(isEmptyData,"__esModule",{value:!0}),isEmptyData.isEmptyData=void 0;function ts(ns){return typeof ns=="string"?ns.length===0:ns.byteLength===0}return isEmptyData.isEmptyData=ts,isEmptyData}var numToUint8={},hasRequiredNumToUint8;function requireNumToUint8(){if(hasRequiredNumToUint8)return numToUint8;hasRequiredNumToUint8=1,Object.defineProperty(numToUint8,"__esModule",{value:!0}),numToUint8.numToUint8=void 0;function ts(ns){return new Uint8Array([(ns&4278190080)>>24,(ns&16711680)>>16,(ns&65280)>>8,ns&255])}return numToUint8.numToUint8=ts,numToUint8}var uint32ArrayFrom={},hasRequiredUint32ArrayFrom;function requireUint32ArrayFrom(){if(hasRequiredUint32ArrayFrom)return uint32ArrayFrom;hasRequiredUint32ArrayFrom=1,Object.defineProperty(uint32ArrayFrom,"__esModule",{value:!0}),uint32ArrayFrom.uint32ArrayFrom=void 0;function ts(ns){if(!Uint32Array.from){for(var rs=new Uint32Array(ns.length),is=0;is<ns.length;)rs[is]=ns[is],is+=1;return rs}return Uint32Array.from(ns)}return uint32ArrayFrom.uint32ArrayFrom=ts,uint32ArrayFrom}var hasRequiredBuild$1;function requireBuild$1(){return hasRequiredBuild$1||(hasRequiredBuild$1=1,function(ts){Object.defineProperty(ts,"__esModule",{value:!0}),ts.uint32ArrayFrom=ts.numToUint8=ts.isEmptyData=ts.convertToBuffer=void 0;var ns=requireConvertToBuffer();Object.defineProperty(ts,"convertToBuffer",{enumerable:!0,get:function(){return ns.convertToBuffer}});var rs=requireIsEmptyData();Object.defineProperty(ts,"isEmptyData",{enumerable:!0,get:function(){return rs.isEmptyData}});var is=requireNumToUint8();Object.defineProperty(ts,"numToUint8",{enumerable:!0,get:function(){return is.numToUint8}});var os=requireUint32ArrayFrom();Object.defineProperty(ts,"uint32ArrayFrom",{enumerable:!0,get:function(){return os.uint32ArrayFrom}})}(build)),build}var hasRequiredJsSha256;function requireJsSha256(){if(hasRequiredJsSha256)return jsSha256;hasRequiredJsSha256=1,Object.defineProperty(jsSha256,"__esModule",{value:!0}),jsSha256.Sha256=void 0;var ts=require$$0$1,ns=requireConstants(),rs=requireRawSha256(),is=requireBuild$1(),os=function(){function as(ls){if(this.hash=new rs.RawSha256,ls){this.outer=new rs.RawSha256;var cs=ss(ls),us=new Uint8Array(ns.BLOCK_SIZE);us.set(cs);for(var ds=0;ds<ns.BLOCK_SIZE;ds++)cs[ds]^=54,us[ds]^=92;this.hash.update(cs),this.outer.update(us);for(var ds=0;ds<cs.byteLength;ds++)cs[ds]=0}}return as.prototype.update=function(ls){if(!((0,is.isEmptyData)(ls)||this.error))try{this.hash.update((0,is.convertToBuffer)(ls))}catch(cs){this.error=cs}},as.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},as.prototype.digest=function(){return ts.__awaiter(this,void 0,void 0,function(){return ts.__generator(this,function(ls){return[2,this.digestSync()]})})},as}();jsSha256.Sha256=os;function ss(as){var ls=(0,is.convertToBuffer)(as);if(ls.byteLength>ns.BLOCK_SIZE){var cs=new rs.RawSha256;cs.update(ls),ls=cs.digest()}var us=new Uint8Array(ns.BLOCK_SIZE);return us.set(ls),us}return jsSha256}(function(ts){Object.defineProperty(ts,"__esModule",{value:!0});var ns=require$$0$1;ns.__exportStar(requireJsSha256(),ts)})(build$1);const SHORT_TO_HEX={},HEX_TO_SHORT={};for(let ts=0;ts<256;ts++){let ns=ts.toString(16).toLowerCase();ns.length===1&&(ns="0".concat(ns)),SHORT_TO_HEX[ts]=ns,HEX_TO_SHORT[ns]=ts}function fromHex(ts){if(ts.length%2!==0)throw new Error("Hex encoded strings must have an even number length");const ns=new Uint8Array(ts.length/2);for(let rs=0;rs<ts.length;rs+=2){const is=ts.slice(rs,rs+2).toLowerCase();if(is in HEX_TO_SHORT)ns[rs/2]=HEX_TO_SHORT[is];else throw new Error("Cannot decode unrecognized sequence ".concat(is," as hexadecimal"))}return ns}function toHex(ts){let ns="";for(let rs=0;rs<ts.byteLength;rs++)ns+=SHORT_TO_HEX[ts[rs]];return ns}const distEs=Object.freeze(Object.defineProperty({__proto__:null,fromHex,toHex},Symbol.toStringTag,{value:"Module"})),require$$1=getAugmentedNamespace(distEs);var __awaiter$e=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,ns,rs,is){function os(ss){return ss instanceof rs?ss:new rs(function(as){as(ss)})}return new(rs||(rs=Promise))(function(ss,as){function ls(ds){try{us(is.next(ds))}catch(ps){as(ps)}}function cs(ds){try{us(is.throw(ds))}catch(ps){as(ps)}}function us(ds){ds.done?ss(ds.value):os(ds.value).then(ls,cs)}us((is=is.apply(ts,ns||[])).next())})},__importDefault$d=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(DefaultSigV4$1,"__esModule",{value:!0});const sha256_js_1=build$1,util_hex_encoding_1=require$$1,Versioning_1$2=__importDefault$d(Versioning$1);class DefaultSigV4{constructor(ns){this.chimeClient=ns}makeTwoDigits(ns){return ns>9?ns.toString():"0"+ns.toString()}hmac(ns,rs){const is=new sha256_js_1.Sha256(rs);return is.update(ns),is.digest()}getDateTimeString(){const ns=new Date;return ns.getUTCFullYear()+this.makeTwoDigits(ns.getUTCMonth()+1)+this.makeTwoDigits(ns.getUTCDate())+"T"+this.makeTwoDigits(ns.getUTCHours())+this.makeTwoDigits(ns.getUTCMinutes())+this.makeTwoDigits(ns.getUTCSeconds())+"Z"}getDateString(ns){return ns.substring(0,ns.indexOf("T"))}getSignatureKey(ns,rs,is,os){return __awaiter$e(this,void 0,void 0,function*(){const ss=yield this.hmac(rs,"AWS4"+ns),as=yield this.hmac(is,ss),ls=yield this.hmac(os,as);return yield this.hmac("aws4_request",ls)})}signURL(ns,rs,is,os,ss,as,ls){return __awaiter$e(this,void 0,void 0,function*(){const cs=this.getDateTimeString(),us=this.getDateString(cs),ds="AWS4-HMAC-SHA256";let ps="";this.chimeClient.config.region instanceof Function?ps=yield this.chimeClient.config.region():ps=this.chimeClient.config.region;const hs="host",ms="host:"+os.toLowerCase()+"\n",gs=us+"/"+ps+"/"+is+"/aws4_request";let ys;this.chimeClient.config.credentials instanceof Function?ys=yield this.chimeClient.config.credentials():ys=this.chimeClient.config.credentials;let vs=new Map;vs.set("X-Amz-Algorithm",[ds]),vs.set("X-Amz-Credential",[encodeURIComponent(ys.accessKeyId+"/"+gs)]),vs.set("X-Amz-Date",[cs]),vs.set("X-Amz-Expires",["10"]),vs.set("X-Amz-SignedHeaders",["host"]),ys.sessionToken&&vs.set("X-Amz-Security-Token",[encodeURIComponent(ys.sessionToken)]),vs.set(Versioning_1$2.default.X_AMZN_VERSION,[encodeURIComponent(Versioning_1$2.default.sdkVersion)]),vs.set(Versioning_1$2.default.X_AMZN_USER_AGENT,[encodeURIComponent(Versioning_1$2.default.sdkUserAgentLowResolution)]),ls==null||ls.forEach((ks,Is)=>{const Ts=encodeURIComponent(Is);ks.sort().forEach(Rs=>{vs.has(Ts)||vs.set(Ts,[]),vs.get(Ts).push(encodeURIComponent(Rs))})});let bs="";vs=new Map([...vs.entries()].sort()),vs.forEach((ks,Is)=>{ks.forEach(Ts=>{bs.length&&(bs+="&"),bs+=Is+"="+Ts})});const Ss=ns+"\n"+ss+"\n"+bs+"\n"+ms+"\n"+hs+"\n"+util_hex_encoding_1.toHex(yield this.hmac(as)),$s=util_hex_encoding_1.toHex(yield this.hmac(Ss)),Cs="AWS4-HMAC-SHA256\n"+cs+"\n"+us+"/"+ps+"/"+is+"/aws4_request\n"+$s,Es=yield this.getSignatureKey(ys.secretAccessKey,us,ps,is),xs=util_hex_encoding_1.toHex(yield this.hmac(Cs,Es)),ws=bs+"&X-Amz-Signature="+xs;return rs+"://"+os+ss+"?"+ws})}}DefaultSigV4$1.default=DefaultSigV4;var PrefetchOn$1={};Object.defineProperty(PrefetchOn$1,"__esModule",{value:!0});var PrefetchOn;(function(ts){ts.Connect="connect"})(PrefetchOn||(PrefetchOn={}));PrefetchOn$1.default=PrefetchOn;var __awaiter$d=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,ns,rs,is){function os(ss){return ss instanceof rs?ss:new rs(function(as){as(ss)})}return new(rs||(rs=Promise))(function(ss,as){function ls(ds){try{us(is.next(ds))}catch(ps){as(ps)}}function cs(ds){try{us(is.throw(ds))}catch(ps){as(ps)}}function us(ds){ds.done?ss(ds.value):os(ds.value).then(ls,cs)}us((is=is.apply(ts,ns||[])).next())})},__importDefault$c=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(DefaultMessagingSession$1,"__esModule",{value:!0});const client_chime_sdk_messaging_1=require$$0$2,FullJitterBackoff_1$2=__importDefault$c(FullJitterBackoff$1),CSPMonitor_1=__importDefault$c(CSPMonitor$1),Message_1=__importDefault$c(Message$1),DefaultReconnectController_1=__importDefault$c(DefaultReconnectController$1),AsyncScheduler_1=__importDefault$c(AsyncScheduler$1),DefaultSigV4_1=__importDefault$c(DefaultSigV4$1),DefaultWebSocketAdapter_1=__importDefault$c(DefaultWebSocketAdapter$1),WebSocketReadyState_1=__importDefault$c(WebSocketReadyState),PrefetchOn_1=__importDefault$c(PrefetchOn$1);class DefaultMessagingSession{constructor(ns,rs,is,os,ss){this.configuration=ns,this.logger=rs,this.webSocket=is,this.reconnectController=os,this.sigV4=ss,this.observerQueue=new Set,this.webSocket||(this.webSocket=new DefaultWebSocketAdapter_1.default(this.logger)),this.reconnectController||(this.reconnectController=new DefaultReconnectController_1.default(ns.reconnectTimeoutMs,new FullJitterBackoff_1$2.default(ns.reconnectFixedWaitMs,ns.reconnectShortBackoffMs,ns.reconnectLongBackoffMs))),this.sigV4||(this.sigV4=new DefaultSigV4_1.default(this.configuration.chimeClient)),CSPMonitor_1.default.addLogger(this.logger),CSPMonitor_1.default.register(),this.preBootstrapMessages=[]}addObserver(ns){this.logger.info("adding messaging observer"),this.observerQueue.add(ns)}removeObserver(ns){this.logger.info("removing messaging observer"),this.observerQueue.delete(ns)}start(){return __awaiter$d(this,void 0,void 0,function*(){this.isClosed()?yield this.startConnecting(!1):this.logger.info("messaging session already started")})}stop(){this.isClosed()?this.logger.info("no existing messaging session needs closing"):(this.isClosing=!0,this.webSocket.close(),CSPMonitor_1.default.removeLogger(this.logger))}forEachObserver(ns){for(const rs of this.observerQueue)AsyncScheduler_1.default.nextTick(()=>{this.observerQueue.has(rs)&&ns(rs)})}setUpEventListeners(){this.webSocket.addEventListener("open",()=>{this.openEventHandler()}),this.webSocket.addEventListener("message",ns=>{this.receiveMessageHandler(ns.data)}),this.webSocket.addEventListener("close",ns=>{this.closeEventHandler(ns)}),this.webSocket.addEventListener("error",()=>{this.logger.error("WebSocket error")})}startConnecting(ns){return __awaiter$d(this,void 0,void 0,function*(){return yield this.startConnectingInternal(ns),yield new Promise((rs,is)=>{this.bootstrapResolved=rs,this.bootstrapRejected=is})})}startConnectingInternal(ns){var rs;return __awaiter$d(this,void 0,void 0,function*(){let is=this.configuration.endpointUrl;if(ns||this.reconnectController.reset(),this.reconnectController.hasStartedConnectionAttempt()?this.reconnectController.startedConnectionAttempt(!1):this.reconnectController.startedConnectionAttempt(!0),ns||is===void 0)try{if(this.configuration.chimeClient.getMessagingSessionEndpoint instanceof Function){const ss=yield this.configuration.chimeClient.getMessagingSessionEndpoint();!((rs=ss.Endpoint)===null||rs===void 0)&&rs.Url?is=ss.Endpoint.Url:is=(yield this.configuration.chimeClient.getMessagingSessionEndpoint().promise()).Endpoint.Url}else is=(yield this.configuration.chimeClient.send(new client_chime_sdk_messaging_1.GetMessagingSessionEndpointCommand({}))).Endpoint.Url;this.logger.debug("Messaging endpoint resolved to: ".concat(is))}catch(ss){this.logger.error("Messaging Session failed to resolve endpoint: ".concat(ss));const as=new CloseEvent("close",{wasClean:!1,code:4999,reason:"Failed to get messaging session endpoint URL",bubbles:!1});this.closeEventHandler(as);return}const os=yield this.prepareWebSocketUrl(is);this.logger.info("opening connection to ".concat(os)),ns||this.reconnectController.reset(),this.reconnectController.hasStartedConnectionAttempt()?this.reconnectController.startedConnectionAttempt(!1):this.reconnectController.startedConnectionAttempt(!0),this.webSocket.create(os,[],!0),this.forEachObserver(ss=>{ss.messagingSessionDidStartConnecting&&ss.messagingSessionDidStartConnecting(ns)}),this.setUpEventListeners()})}prepareWebSocketUrl(ns){return __awaiter$d(this,void 0,void 0,function*(){const rs=new Map;return rs.set("userArn",[this.configuration.userArn]),rs.set("sessionId",[this.configuration.messagingSessionId]),this.configuration.prefetchOn===PrefetchOn_1.default.Connect&&rs.set("prefetch-on",[PrefetchOn_1.default.Connect]),this.configuration.prefetchSortBy&&rs.set("prefetch-sort-by",[this.configuration.prefetchSortBy]),yield this.sigV4.signURL("GET","wss","chime",ns,"/connect","",rs)})}isClosed(){return this.webSocket.readyState()===WebSocketReadyState_1.default.None||this.webSocket.readyState()===WebSocketReadyState_1.default.Closed}openEventHandler(){this.reconnectController.reset(),this.isSessionEstablished=!1}receiveMessageHandler(ns){try{const rs=JSON.parse(ns),is=rs.Headers["x-amz-chime-event-type"],os=new Message_1.default(is,rs.Headers,rs.Payload||null);if(!this.isSessionEstablished&&is==="SESSION_ESTABLISHED"){this.forEachObserver(as=>{as.messagingSessionDidStart&&as.messagingSessionDidStart()}),this.bootstrapResolved(),this.isSessionEstablished=!0;const ss=this.preBootstrapMessages.length;for(let as=0;as<ss;as++){const ls=this.preBootstrapMessages.shift();this.forEachObserver(cs=>{this.sendMessageToObserver(cs,ls)})}}else if(!this.isSessionEstablished){this.preBootstrapMessages.push(os);return}this.forEachObserver(ss=>{this.sendMessageToObserver(ss,os)})}catch(rs){this.logger.error("Messaging parsing failed: ".concat(rs))}}sendMessageToObserver(ns,rs){ns.messagingSessionDidReceiveMessage&&ns.messagingSessionDidReceiveMessage(rs)}retryConnection(){return this.reconnectController.retryWithBackoff(()=>__awaiter$d(this,void 0,void 0,function*(){yield this.startConnecting(!0)}),null)}closeEventHandler(ns){this.logger.info("WebSocket close: ".concat(ns.code," ").concat(ns.reason)),ns.code!==4999&&this.webSocket.destroy(),!(!this.isClosing&&this.canReconnect(ns.code)&&this.retryConnection())&&(this.isClosing=!1,this.isSessionEstablished?this.forEachObserver(rs=>{rs.messagingSessionDidStop&&rs.messagingSessionDidStop(ns)}):this.bootstrapRejected(ns))}canReconnect(ns){return ns===1001||ns===1006||ns>=1011&&ns<=1014||ns>4e3&&ns!==4002&&ns!==4003&&ns!==4401}}DefaultMessagingSession$1.default=DefaultMessagingSession;var FullJitterBackoffFactory$1={},FullJitterLimitedBackoff$1={},__importDefault$b=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(FullJitterLimitedBackoff$1,"__esModule",{value:!0});const FullJitterBackoff_1$1=__importDefault$b(FullJitterBackoff$1);class FullJitterLimitedBackoff extends FullJitterBackoff_1$1.default{constructor(ns,rs,is,os){super(ns,rs,is),this.limit=os,this.attempts=0}nextBackoffAmountMs(){if(this.attempts++,this.attempts>this.limit)throw new Error("retry limit exceeded");return super.nextBackoffAmountMs()}}FullJitterLimitedBackoff$1.default=FullJitterLimitedBackoff;var __importDefault$a=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(FullJitterBackoffFactory$1,"__esModule",{value:!0});const FullJitterBackoff_1=__importDefault$a(FullJitterBackoff$1),FullJitterLimitedBackoff_1=__importDefault$a(FullJitterLimitedBackoff$1);class FullJitterBackoffFactory{constructor(ns,rs,is){this.fixedWaitMs=ns,this.shortBackoffMs=rs,this.longBackoffMs=is}create(){return new FullJitterBackoff_1.default(this.fixedWaitMs,this.shortBackoffMs,this.longBackoffMs)}createWithLimit(ns){return new FullJitterLimitedBackoff_1.default(this.fixedWaitMs,this.shortBackoffMs,this.longBackoffMs,ns)}}FullJitterBackoffFactory$1.default=FullJitterBackoffFactory;var Log$1={};Object.defineProperty(Log$1,"__esModule",{value:!0});class Log{constructor(ns,rs,is,os){this.sequenceNumber=ns,this.message=rs,this.timestampMs=is,this.logLevel=os}}Log$1.default=Log;var MessagingSessionConfiguration$1={};Object.defineProperty(MessagingSessionConfiguration$1,"__esModule",{value:!0});const Utils_1$2=Utils$1;class MessagingSessionConfiguration{constructor(ns,rs,is,os){this.userArn=ns,this.messagingSessionId=rs,this.endpointUrl=is,this.chimeClient=os,this.reconnectTimeoutMs=10*1e3,this.reconnectFixedWaitMs=0,this.reconnectShortBackoffMs=1*1e3,this.reconnectLongBackoffMs=5*1e3,this.prefetchOn=void 0,this.prefetchSortBy=void 0,this.messagingSessionId||(this.messagingSessionId=this.generateSessionId())}generateSessionId(){const ns=new Uint32Array(1);return Utils_1$2.getRandomValues(ns),ns[0].toString()}}MessagingSessionConfiguration$1.default=MessagingSessionConfiguration;var MultiLogger$1={},__importDefault$9=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(MultiLogger$1,"__esModule",{value:!0});const LogLevel_1$3=__importDefault$9(LogLevel);class MultiLogger{constructor(...ns){this._loggers=ns}info(ns){for(const rs of this._loggers)rs.info(ns)}warn(ns){for(const rs of this._loggers)rs.warn(ns)}error(ns){for(const rs of this._loggers)rs.error(ns)}debug(ns){let rs,is;typeof ns=="string"?is=ns:ns?is=()=>(rs||(rs=ns()),rs):is=""+ns;for(const os of this._loggers)os.debug(is)}setLogLevel(ns){for(const rs of this._loggers)rs.setLogLevel(ns)}getLogLevel(){for(const ns of this._loggers)return ns.getLogLevel();return LogLevel_1$3.default.OFF}}MultiLogger$1.default=MultiLogger;var NoOpAudioVideoController={},NoOpDebugLogger$1={},NoOpLogger$1={},__importDefault$8=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(NoOpLogger$1,"__esModule",{value:!0});const LogLevel_1$2=__importDefault$8(LogLevel);class NoOpLogger{constructor(ns=LogLevel_1$2.default.OFF){this.level=ns}info(ns){}warn(ns){}error(ns){}debug(ns){LogLevel_1$2.default.DEBUG<this.level||typeof ns!="string"&&ns()}setLogLevel(ns){this.level=ns}getLogLevel(){return this.level}}NoOpLogger$1.default=NoOpLogger;var __importDefault$7=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(NoOpDebugLogger$1,"__esModule",{value:!0});const LogLevel_1$1=__importDefault$7(LogLevel),NoOpLogger_1$1=__importDefault$7(NoOpLogger$1);class NoOpDebugLogger extends NoOpLogger_1$1.default{constructor(){super(LogLevel_1$1.default.DEBUG)}}NoOpDebugLogger$1.default=NoOpDebugLogger;var NoOpMediaStreamBroker$1={};Object.defineProperty(NoOpMediaStreamBroker$1,"__esModule",{value:!0});class NoOpMediaStreamBroker{acquireAudioInputStream(){return Promise.reject()}acquireVideoInputStream(){return Promise.reject()}acquireDisplayInputStream(ns){return Promise.reject()}muteLocalAudioInputStream(){}unmuteLocalAudioInputStream(){}addMediaStreamBrokerObserver(ns){}removeMediaStreamBrokerObserver(ns){}}NoOpMediaStreamBroker$1.default=NoOpMediaStreamBroker;var hasRequiredNoOpAudioVideoController;function requireNoOpAudioVideoController(){if(hasRequiredNoOpAudioVideoController)return NoOpAudioVideoController;hasRequiredNoOpAudioVideoController=1;var ts=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(gs){return gs&&gs.__esModule?gs:{default:gs}};Object.defineProperty(NoOpAudioVideoController,"__esModule",{value:!0});const ns=ts(FullJitterBackoff$1),rs=ts(DefaultEventController$1),is=ts(NoOpDebugLogger$1),os=ts(NoOpMediaStreamBroker$1),ss=ts(MeetingSessionConfiguration$1),as=ts(MeetingSessionCredentials$1),ls=ts(MeetingSessionStatus$1),cs=ts(MeetingSessionStatusCode),us=ts(MeetingSessionURLs$1),ds=ts(DefaultReconnectController$1),ps=ts(DefaultWebSocketAdapter$1),hs=ts(requireDefaultAudioVideoController());let ms=class extends hs.default{constructor(ys){const vs=new ss.default;vs.meetingId="",vs.externalMeetingId="",vs.credentials=new as.default,vs.credentials.attendeeId="",vs.credentials.joinToken="",vs.urls=new us.default,vs.urls.turnControlURL="",vs.urls.audioHostURL="",vs.urls.signalingURL="wss://localhost/";const bs=new is.default;super(ys||vs,bs,new ps.default(new is.default),new os.default,new ds.default(0,new ns.default(0,0,0)),new rs.default(ys||vs,bs))}setAudioProfile(ys){}start(){}stop(){}promoteToPrimaryMeeting(ys){return Promise.resolve(new ls.default(cs.default.OK))}demoteFromPrimaryMeeting(){}};return NoOpAudioVideoController.default=ms,NoOpAudioVideoController}var NoOpDeviceController$1={},__awaiter$c=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,ns,rs,is){function os(ss){return ss instanceof rs?ss:new rs(function(as){as(ss)})}return new(rs||(rs=Promise))(function(ss,as){function ls(ds){try{us(is.next(ds))}catch(ps){as(ps)}}function cs(ds){try{us(is.throw(ds))}catch(ps){as(ps)}}function us(ds){ds.done?ss(ds.value):os(ds.value).then(ls,cs)}us((is=is.apply(ts,ns||[])).next())})},__importDefault$6=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(NoOpDeviceController$1,"__esModule",{value:!0});NoOpDeviceController$1.NoOpDeviceControllerWithEventController=void 0;const NoOpMediaStreamBroker_1=__importDefault$6(NoOpMediaStreamBroker$1),VideoQualitySettings_1=__importDefault$6(VideoQualitySettings$1);class NoOpDeviceController extends NoOpMediaStreamBroker_1.default{constructor(ns){super(),this.destroyed=!1}destroy(){return __awaiter$c(this,void 0,void 0,function*(){this.destroyed=!0})}listAudioInputDevices(){return Promise.resolve([])}listVideoInputDevices(){return Promise.resolve([])}listAudioOutputDevices(){return Promise.resolve([])}startAudioInput(ns){return Promise.reject()}stopAudioInput(){return Promise.resolve()}startVideoInput(ns){return Promise.reject()}stopVideoInput(){return Promise.resolve()}chooseAudioOutput(ns){return Promise.reject()}addDeviceChangeObserver(ns){}removeDeviceChangeObserver(ns){}createAnalyserNodeForAudioInput(){return null}startVideoPreviewForVideoInput(ns){}stopVideoPreviewForVideoInput(ns){}setDeviceLabelTrigger(ns){}mixIntoAudioInput(ns){return null}chooseVideoInputQuality(ns,rs,is){}getVideoInputQualitySettings(){return VideoQualitySettings_1.default.VideoDisabled}}NoOpDeviceController$1.default=NoOpDeviceController;class NoOpDeviceControllerWithEventController extends NoOpDeviceController{constructor(ns){super(),this.eventController=ns}}NoOpDeviceController$1.NoOpDeviceControllerWithEventController=NoOpDeviceControllerWithEventController;var NoOpEventReporter$1={};Object.defineProperty(NoOpEventReporter$1,"__esModule",{value:!0});class NoOpEventReporter{constructor(){}reportEvent(ns,rs,is){}start(){}stop(){}}NoOpEventReporter$1.default=NoOpEventReporter;var NoOpTask$1={};Object.defineProperty(NoOpTask$1,"__esModule",{value:!0});class NoOpTask{cancel(){}name(){return"NoOpTask"}run(){return Promise.resolve()}setParent(ns){}}NoOpTask$1.default=NoOpTask;var NoOpVideoElementFactory$1={};Object.defineProperty(NoOpVideoElementFactory$1,"__esModule",{value:!0});class NoOpVideoElementFactory{create(){const ns={clientWidth:400,clientHeight:300,width:400,height:300,videoWidth:400,videoHeight:300,style:{transform:""},hasAttribute:()=>!1,removeAttribute:()=>{},setAttribute:()=>{},srcObject:!1,paused:!0,pause:()=>{ns.paused=!0},play:()=>(ns.paused=!1,Promise.resolve())};return ns}}NoOpVideoElementFactory$1.default=NoOpVideoElementFactory;var NoVideoUplinkBandwidthPolicy$1={},__importDefault$5=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(NoVideoUplinkBandwidthPolicy$1,"__esModule",{value:!0});const DefaultVideoCaptureAndEncodeParameter_1=__importDefault$5(DefaultVideoCaptureAndEncodeParameter$1);class NoVideoUplinkBandwidthPolicy{constructor(){}updateConnectionMetric(ns){}chooseMediaTrackConstraints(){return{}}chooseEncodingParameters(){return new Map}updateIndex(ns){}wantsResubscribe(){return!1}chooseCaptureAndEncodeParameters(){return new DefaultVideoCaptureAndEncodeParameter_1.default(0,0,0,0,!1)}maxBandwidthKbps(){return 0}setIdealMaxBandwidthKbps(ns){}setHasBandwidthPriority(ns){}setHighResolutionFeatureEnabled(ns){}wantsVideoDependencyDescriptorRtpHeaderExtension(){return!1}}NoVideoUplinkBandwidthPolicy$1.default=NoVideoUplinkBandwidthPolicy;var POSTLogger$1={},__awaiter$b=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,ns,rs,is){function os(ss){return ss instanceof rs?ss:new rs(function(as){as(ss)})}return new(rs||(rs=Promise))(function(ss,as){function ls(ds){try{us(is.next(ds))}catch(ps){as(ps)}}function cs(ds){try{us(is.throw(ds))}catch(ps){as(ps)}}function us(ds){ds.done?ss(ds.value):os(ds.value).then(ls,cs)}us((is=is.apply(ts,ns||[])).next())})},__importDefault$4=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(POSTLogger$1,"__esModule",{value:!0});const IntervalScheduler_1=__importDefault$4(IntervalScheduler$1),Log_1=__importDefault$4(Log$1),LogLevel_1=__importDefault$4(LogLevel);class POSTLogger{constructor(ns){this.logCapture=[],this.lock=!1,this.sequenceNumber=0;const{url:rs,batchSize:is=POSTLogger.BATCH_SIZE,intervalMs:os=POSTLogger.INTERVAL_MS,logLevel:ss=LogLevel_1.default.WARN,metadata:as,headers:ls}=ns;this.url=rs,this.batchSize=is,this.intervalMs=os,this.logLevel=ss,this.metadata=as,this.headers=ls,this.start(),this.eventListener=()=>{this.stop()},this.addEventListener()}addEventListener(){!this.eventListener||!("window"in commonjsGlobal$1)||!window.addEventListener||window.addEventListener("unload",this.eventListener)}removeEventListener(){!this.eventListener||!("window"in commonjsGlobal$1)||!window.removeEventListener||window.removeEventListener("unload",this.eventListener)}debug(ns){LogLevel_1.default.DEBUG<this.logLevel||(typeof ns=="string"?this.log(LogLevel_1.default.DEBUG,ns):ns?this.log(LogLevel_1.default.DEBUG,ns()):this.log(LogLevel_1.default.DEBUG,""+ns))}info(ns){this.log(LogLevel_1.default.INFO,ns)}warn(ns){this.log(LogLevel_1.default.WARN,ns)}error(ns){this.log(LogLevel_1.default.ERROR,ns)}setLogLevel(ns){this.logLevel=ns}getLogLevel(){return this.logLevel}getLogCaptureSize(){return this.logCapture.length}start(){this.addEventListener(),this.intervalScheduler=new IntervalScheduler_1.default(this.intervalMs),this.intervalScheduler.start(()=>__awaiter$b(this,void 0,void 0,function*(){if(this.lock===!0||this.getLogCaptureSize()===0)return;this.lock=!0;const ns=this.logCapture.slice(0,this.batchSize),rs=this.makeRequestBody(ns);try{(yield fetch(this.url,Object.assign({method:"POST",body:rs},this.headers?{headers:this.headers}:{}))).status===200&&(this.logCapture=this.logCapture.slice(ns.length))}catch(is){console.warn("[POSTLogger] "+is.message)}finally{this.lock=!1}}))}stop(){var ns;(ns=this.intervalScheduler)===null||ns===void 0||ns.stop(),this.intervalScheduler=void 0,this.removeEventListener();const rs=this.makeRequestBody(this.logCapture);navigator.sendBeacon(this.url,rs)}destroy(){return __awaiter$b(this,void 0,void 0,function*(){this.stop(),this.metadata=void 0,this.headers=void 0,this.logCapture=[],this.sequenceNumber=0,this.lock=!1,this.batchSize=0,this.intervalMs=0,this.url=void 0})}makeRequestBody(ns){return JSON.stringify(Object.assign(Object.assign({},this.metadata),{logs:ns}))}log(ns,rs){if(ns<this.logLevel)return;const is=Date.now();this.logCapture.push(new Log_1.default(this.sequenceNumber,rs,is,LogLevel_1.default[ns])),this.sequenceNumber+=1}}POSTLogger$1.default=POSTLogger;POSTLogger.BATCH_SIZE=85;POSTLogger.INTERVAL_MS=2e3;var PrefetchSortBy$1={};Object.defineProperty(PrefetchSortBy$1,"__esModule",{value:!0});var PrefetchSortBy;(function(ts){ts.Unread="unread",ts.LastMessageTimestamp="last-message-timestamp"})(PrefetchSortBy||(PrefetchSortBy={}));PrefetchSortBy$1.default=PrefetchSortBy;var RealtimeAttendeePositionInFrame$1={};Object.defineProperty(RealtimeAttendeePositionInFrame$1,"__esModule",{value:!0});class RealtimeAttendeePositionInFrame{constructor(){this.attendeeIndex=null,this.attendeesInFrame=null}}RealtimeAttendeePositionInFrame$1.default=RealtimeAttendeePositionInFrame;var RunnableTask$1={},__importDefault$3=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(RunnableTask$1,"__esModule",{value:!0});const BaseTask_1=__importDefault$3(BaseTask$1);class RunnableTask extends BaseTask_1.default{constructor(ns,rs,is="RunnableTask"){super(ns),this.fn=rs,this.taskName=is}run(){return this.fn().then(()=>{})}}RunnableTask$1.default=RunnableTask;var SingleNodeAudioTransformDevice$1={},__awaiter$a=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,ns,rs,is){function os(ss){return ss instanceof rs?ss:new rs(function(as){as(ss)})}return new(rs||(rs=Promise))(function(ss,as){function ls(ds){try{us(is.next(ds))}catch(ps){as(ps)}}function cs(ds){try{us(is.throw(ds))}catch(ps){as(ps)}}function us(ds){ds.done?ss(ds.value):os(ds.value).then(ls,cs)}us((is=is.apply(ts,ns||[])).next())})};Object.defineProperty(SingleNodeAudioTransformDevice$1,"__esModule",{value:!0});class SingleNodeAudioTransformDevice{constructor(ns){this.inner=ns}mute(ns){return __awaiter$a(this,void 0,void 0,function*(){})}stop(){var ns;return __awaiter$a(this,void 0,void 0,function*(){(ns=this.node)===null||ns===void 0||ns.disconnect()})}intrinsicDevice(){return __awaiter$a(this,void 0,void 0,function*(){return this.inner})}createAudioNode(ns){var rs;return __awaiter$a(this,void 0,void 0,function*(){return(rs=this.node)===null||rs===void 0||rs.disconnect(),this.node=yield this.createSingleAudioNode(ns),{start:this.node,end:this.node}})}}SingleNodeAudioTransformDevice$1.default=SingleNodeAudioTransformDevice;var TranscriptAlternative$1={};Object.defineProperty(TranscriptAlternative$1,"__esModule",{value:!0});class TranscriptAlternative{}TranscriptAlternative$1.default=TranscriptAlternative;var TranscriptEntity$1={};Object.defineProperty(TranscriptEntity$1,"__esModule",{value:!0});class TranscriptEntity{}TranscriptEntity$1.default=TranscriptEntity;var TranscriptItem$1={};Object.defineProperty(TranscriptItem$1,"__esModule",{value:!0});class TranscriptItem{}TranscriptItem$1.default=TranscriptItem;var TranscriptLanguageWithScore$1={};Object.defineProperty(TranscriptLanguageWithScore$1,"__esModule",{value:!0});class TranscriptLanguageWithScore{}TranscriptLanguageWithScore$1.default=TranscriptLanguageWithScore;var TranscriptResult$1={};Object.defineProperty(TranscriptResult$1,"__esModule",{value:!0});class TranscriptResult{}TranscriptResult$1.default=TranscriptResult;var VideoFxProcessor$1={},DeferredPromise$1={};Object.defineProperty(DeferredPromise$1,"__esModule",{value:!0});DeferredPromise$1.DeferredPromise=void 0;class DeferredPromise{constructor(){this.promise=new Promise((ns,rs)=>{this.resolve=ns,this.reject=rs})}getPromise(){return this.promise}resolvePromise(ns){this.resolve(ns)}resolveAndReplacePromise(ns){this.resolve(ns),this.promise=new Promise((rs,is)=>{this.resolve=rs,this.reject=is})}rejectPromise(ns){this.reject(ns)}rejectAndReplacePromise(ns){this.reject(ns),this.promise=new Promise((rs,is)=>{this.resolve=rs,this.reject=is})}}DeferredPromise$1.DeferredPromise=DeferredPromise;var VideoFxCanvasOpsManager$1={},VideoFxConstants={};Object.defineProperty(VideoFxConstants,"__esModule",{value:!0});VideoFxConstants.FXLIB_PATH=VideoFxConstants.WORKER_PATH=VideoFxConstants.CDN_BASE_PATH=VideoFxConstants.RESOURCE_CONSTRAINTS=VideoFxConstants.SEGMENTATION_MODEL=VideoFxConstants.DEFAULT_STREAM_PARAMETERS=VideoFxConstants.WORKER_MSG=void 0;VideoFxConstants.WORKER_MSG={BUILD_ENGINE_REQUEST:"BuildEngineRequest",BUILD_ENGINE_RESPONSE:"BuildEngineResponse",PERFORM_SEGMENTATION_REQUEST:"PerformSegmentationRequest",PERFORM_SEGMENTATION_RESPONSE:"PerformSegmentationResponse",PERFORM_SEGMENTATION_SAB_REQUEST:"PerformSegmentationSABRequest",PERFORM_SEGMENTATION_SAB_RESPONSE:"PerformSegmentationSABResponse",DESTROY_ASSETS_REQUEST:"DestroyAssetsRequest",DESTROY_ASSETS_RESPONSE:"DestroyAssetsResponse",CLOSE_WORKER_REQUEST:"CloseWorkerRequest"};VideoFxConstants.DEFAULT_STREAM_PARAMETERS={FRAMES_PER_SECOND:15,WIDTH_IN_PIXEL:960,HEIGHT_IN_PIXEL:540,CHANNEL_COUNT:4};VideoFxConstants.SEGMENTATION_MODEL={LOAD_SUCCESS:2,WIDTH_IN_PIXELS:176,HEIGHT_IN_PIXELS:160};VideoFxConstants.RESOURCE_CONSTRAINTS={DEFAULT_PROCESSING_BUDGET_PER_FRAME:50,SEGMENTATION_DEFAULT_FRAMES_PER_SEGMENTATION:1,SEGMENTATION_SAMPLING_PERIOD_FRAME_COUNT:500,BLUR_DEFAULT_CYCLE_PERCENTAGE:10,BLUR_SAMPLING_PERIOD_FRAME_COUNT:1e3,MIN_PROCESSING_BUDGET:0,MAX_PROCESSING_BUDGET:100};VideoFxConstants.CDN_BASE_PATH="https://static.sdkassets.chime.aws";const MFX_ASSET_PATH="/ml_media_fx/otherassets";VideoFxConstants.WORKER_PATH="".concat(MFX_ASSET_PATH,"/worker.js");VideoFxConstants.FXLIB_PATH="".concat(MFX_ASSET_PATH,"/fxlib.js");var __awaiter$9=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,ns,rs,is){function os(ss){return ss instanceof rs?ss:new rs(function(as){as(ss)})}return new(rs||(rs=Promise))(function(ss,as){function ls(ds){try{us(is.next(ds))}catch(ps){as(ps)}}function cs(ds){try{us(is.throw(ds))}catch(ps){as(ps)}}function us(ds){ds.done?ss(ds.value):os(ds.value).then(ls,cs)}us((is=is.apply(ts,ns||[])).next())})};Object.defineProperty(VideoFxCanvasOpsManager$1,"__esModule",{value:!0});VideoFxCanvasOpsManager$1.VideoFxCanvasOpsManager=void 0;const VideoFxConstants_1$2=VideoFxConstants;class VideoFxCanvasOpsManager{constructor(ns,rs){this.streamParameters=ns,this.outputCanvas=rs,this.configureCanvasPipeline()}getInferenceInputData(ns){return this.inferenceCtx.save(),this.inferenceCtx.scale(this.horizontalResizeScalar,this.verticalResizeScalar),this.inferenceCtx.drawImage(ns,0,0),this.inferenceCtx.restore(),this.inferenceCtx.getImageData(0,0,VideoFxConstants_1$2.SEGMENTATION_MODEL.WIDTH_IN_PIXELS,VideoFxConstants_1$2.SEGMENTATION_MODEL.HEIGHT_IN_PIXELS)}configureForStreamParameters(ns){return __awaiter$9(this,void 0,void 0,function*(){if(this.streamParameters=ns,this.outputCanvas.width=this.streamParameters.width,this.outputCanvas.height=this.streamParameters.height,this.backgroundReplacementCanvas){const rs=document.createElement("canvas");rs.width=this.streamParameters.width,rs.height=this.streamParameters.height,rs.getContext("2d").drawImage(this.backgroundReplacementCanvas,0,0,this.streamParameters.width,this.streamParameters.height),this.backgroundReplacementCanvas=rs}this.configureCanvasPipeline()})}configureCanvasPipeline(){this.inferenceCanvas=document.createElement("canvas"),this.inferenceCtx=this.inferenceCanvas.getContext("2d",{willReadFrequently:!0}),this.inferenceCanvas.width=VideoFxConstants_1$2.SEGMENTATION_MODEL.WIDTH_IN_PIXELS,this.inferenceCanvas.height=VideoFxConstants_1$2.SEGMENTATION_MODEL.HEIGHT_IN_PIXELS,this.horizontalResizeScalar=VideoFxConstants_1$2.SEGMENTATION_MODEL.WIDTH_IN_PIXELS/this.streamParameters.width,this.verticalResizeScalar=VideoFxConstants_1$2.SEGMENTATION_MODEL.HEIGHT_IN_PIXELS/this.streamParameters.height}getBackgroundReplacementCanvas(){return this.backgroundReplacementCanvas}loadReplacementBackground(ns){return __awaiter$9(this,void 0,void 0,function*(){const rs=ns.backgroundReplacement.backgroundImageURL,is=ns.backgroundReplacement.defaultColor;if(rs)try{const os=yield this.loadImage(rs);this.backgroundReplacementImage=os,this.resizeAndSetReplacementImage(this.backgroundReplacementImage)}catch(os){throw this.logger.error(os),new Error("Failed to set the replacement image.")}else this.resizeAndSetReplacementColor(is)})}resizeAndSetReplacementImage(ns){const rs=document.createElement("canvas"),is=rs.getContext("2d");rs.width=this.streamParameters.width,rs.height=this.streamParameters.height,is.drawImage(ns,0,0,this.streamParameters.width,this.streamParameters.height),this.backgroundReplacementCanvas=rs}resizeAndSetReplacementColor(ns){const rs=document.createElement("canvas"),is=rs.getContext("2d");rs.width=this.streamParameters.width,rs.height=this.streamParameters.height,is.fillStyle=ns,is.fillRect(0,0,this.streamParameters.width,this.streamParameters.height),this.backgroundReplacementCanvas=rs}loadImage(ns){return __awaiter$9(this,void 0,void 0,function*(){const is=yield(yield fetch(ns).catch(ss=>{throw this.logger.error(ss.toString()),new Error("Failed to fetch image.")})).blob(),os=new Image;return os.src=URL.createObjectURL(is),new Promise((ss,as)=>{os.onload=()=>{ss(os)},os.onerror=ls=>{as(ls)}})})}}VideoFxCanvasOpsManager$1.VideoFxCanvasOpsManager=VideoFxCanvasOpsManager;var VideoFxSegmentationRateManager$1={};Object.defineProperty(VideoFxSegmentationRateManager$1,"__esModule",{value:!0});VideoFxSegmentationRateManager$1.VideoFxSegmentationRateManager=void 0;const VideoFxConstants_1$1=VideoFxConstants;class VideoFxSegmentationRateManager{constructor(ns,rs){this.logger=ns,this.targetSegmentationCyclePercentage=rs/100,this.frameCountOverSamplingPeriod=0,this.totalSegmentationDurationOverSamplingPeriod=0,this.samplingPeriodStartTime=performance.now(),this.framesPerSegmentation=VideoFxConstants_1$1.RESOURCE_CONSTRAINTS.SEGMENTATION_DEFAULT_FRAMES_PER_SEGMENTATION}submitFrame(){this.frameCountOverSamplingPeriod++}shouldApplySegmentation(){return this.frameCountOverSamplingPeriod%this.framesPerSegmentation===0}startSegmentation(){this.frameSegmentationStartTime=performance.now()}completeSegmentation(){this.totalSegmentationDurationOverSamplingPeriod+=performance.now()-this.frameSegmentationStartTime,this.frameCountOverSamplingPeriod>=VideoFxConstants_1$1.RESOURCE_CONSTRAINTS.SEGMENTATION_SAMPLING_PERIOD_FRAME_COUNT&&this.adjustFramesPerSegmentation(this.totalSegmentationDurationOverSamplingPeriod/(performance.now()-this.samplingPeriodStartTime))}adjustFramesPerSegmentation(ns){ns>this.targetSegmentationCyclePercentage?(this.framesPerSegmentation++,this.logger.info("Segmentation cycle percentage above the configured maximal value. Decreasing segmentation rate to 1 segmentation per "+"".concat(this.framesPerSegmentation," frames"))):this.framesPerSegmentation>1&&ns<this.targetSegmentationCyclePercentage&&(this.framesPerSegmentation--,this.logger.info("Segmentation cycle percentage below the configured maximal value. Increasing segmentation rate to 1 segmentation per "+"".concat(this.framesPerSegmentation," frames"))),this.totalSegmentationDurationOverSamplingPeriod=0,this.frameCountOverSamplingPeriod=0,this.samplingPeriodStartTime=performance.now()}}VideoFxSegmentationRateManager$1.VideoFxSegmentationRateManager=VideoFxSegmentationRateManager;var __awaiter$8=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,ns,rs,is){function os(ss){return ss instanceof rs?ss:new rs(function(as){as(ss)})}return new(rs||(rs=Promise))(function(ss,as){function ls(ds){try{us(is.next(ds))}catch(ps){as(ps)}}function cs(ds){try{us(is.throw(ds))}catch(ps){as(ps)}}function us(ds){ds.done?ss(ds.value):os(ds.value).then(ls,cs)}us((is=is.apply(ts,ns||[])).next())})},__importDefault$2=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(VideoFxProcessor$1,"__esModule",{value:!0});const fetch_1=fetch$1,loader_1=loader,support_1=support,DefaultBrowserBehavior_1$1=__importDefault$2(DefaultBrowserBehavior$1),NoOpLogger_1=__importDefault$2(NoOpLogger$1),Utils_1$1=Utils$1,Versioning_1$1=__importDefault$2(Versioning$1),CanvasVideoFrameBuffer_1=__importDefault$2(CanvasVideoFrameBuffer$1),DeferredPromise_1=DeferredPromise$1,VideoFxCanvasOpsManager_1=VideoFxCanvasOpsManager$1,VideoFxConstants_1=VideoFxConstants,VideoFxSegmentationRateManager_1=VideoFxSegmentationRateManager$1;class VideoFxProcessor{constructor(ns,rs=VideoFxConstants_1.RESOURCE_CONSTRAINTS.DEFAULT_PROCESSING_BUDGET_PER_FRAME,is){this.logger=ns,this.outputCanvas=document.createElement("canvas"),this.canvasVideoFrameBuffer=new CanvasVideoFrameBuffer_1.default(this.outputCanvas);try{this.validateProcessingBudgetPerFrame(rs)}catch(os){throw this.logger.error(os),new Error("Cannot instantiate VideoFxProcessor due to invalid "+"processingBudgetPerFrame of ".concat(rs))}is&&(this.eventController=is),this.effectConfig={backgroundBlur:{isEnabled:!1,strength:"low"},backgroundReplacement:{isEnabled:!1,backgroundImageURL:null,defaultColor:"black"}},this.segmentationRequestPromise=new DeferredPromise_1.DeferredPromise,this.segmentationRateManager=new VideoFxSegmentationRateManager_1.VideoFxSegmentationRateManager(this.logger,rs),this.streamParameters={framerate:VideoFxConstants_1.DEFAULT_STREAM_PARAMETERS.FRAMES_PER_SECOND,width:VideoFxConstants_1.DEFAULT_STREAM_PARAMETERS.WIDTH_IN_PIXEL,height:VideoFxConstants_1.DEFAULT_STREAM_PARAMETERS.HEIGHT_IN_PIXEL,channels:VideoFxConstants_1.DEFAULT_STREAM_PARAMETERS.CHANNEL_COUNT},VideoFxProcessor.isSharedArrayBufferSupported&&(this.sharedImageBuffer=new SharedArrayBuffer(VideoFxConstants_1.SEGMENTATION_MODEL.WIDTH_IN_PIXELS*VideoFxConstants_1.SEGMENTATION_MODEL.HEIGHT_IN_PIXELS*this.streamParameters.channels),this.sharedImageData=new Uint8ClampedArray(this.sharedImageBuffer)),this.logger.info("VideoFx supports Shared Array Buffer: "+"".concat(VideoFxProcessor.isSharedArrayBufferSupported)),this.canvasOpsManager=new VideoFxCanvasOpsManager_1.VideoFxCanvasOpsManager(this.streamParameters,this.outputCanvas),this.outputCanvas.width=this.streamParameters.width,this.outputCanvas.height=this.streamParameters.height,this.segmentationMask=new ImageData(this.streamParameters.width,this.streamParameters.height),this.logger.info("VideoFxProcessor instantiated with a processingBudgetPerFrame of ".concat(rs))}process(ns){return __awaiter$8(this,void 0,void 0,function*(){return ns})}fxProcess(ns){return __awaiter$8(this,void 0,void 0,function*(){const rs=ns[0].asCanvasElement();this.didStreamParametersChange(rs)&&(yield this.adjustProcessorForNewStreamParameters(rs));try{yield this.manageSegmentationMask(rs)}catch(is){throw this.logger.error(is),new Error("Video stream could not be processed")}return yield this.renderer.render(rs,this.segmentationMask),ns[0]=this.canvasVideoFrameBuffer,ns})}noOpProcess(ns){return __awaiter$8(this,void 0,void 0,function*(){return ns})}didStreamParametersChange(ns){return ns.width!==this.streamParameters.width||ns.height!==this.streamParameters.height}adjustProcessorForNewStreamParameters(ns){return __awaiter$8(this,void 0,void 0,function*(){this.streamParameters.width=ns.width,this.streamParameters.height=ns.height,yield this.canvasOpsManager.configureForStreamParameters(this.streamParameters),yield this.renderer.configure(this.streamParameters.width,this.streamParameters.height,this.effectConfig)})}destroy(){return __awaiter$8(this,void 0,void 0,function*(){this.canvasVideoFrameBuffer.destroy(),this.fxLibScript&&this.fxLibScript.parentNode&&this.fxLibScript.parentNode.removeChild(this.fxLibScript),this.engineWorker&&(this.destroyedAssetsPromise=new DeferredPromise_1.DeferredPromise,this.engineWorker.postMessage({msg:VideoFxConstants_1.WORKER_MSG.DESTROY_ASSETS_REQUEST}),yield this.destroyedAssetsPromise.getPromise(),this.engineWorker.postMessage({msg:VideoFxConstants_1.WORKER_MSG.CLOSE_WORKER_REQUEST})),this.logger.info("VideoFxProcessor destroyed.")})}manageSegmentationMask(ns){return __awaiter$8(this,void 0,void 0,function*(){try{if(this.segmentationRateManager.submitFrame(),this.segmentationRateManager.shouldApplySegmentation()){this.segmentationRateManager.startSegmentation();const rs=this.canvasOpsManager.getInferenceInputData(ns);this.segmentationMask=yield this.generateSegmentationMask(rs),this.segmentationRateManager.completeSegmentation()}}catch(rs){throw this.logger.error(rs.toString()),new Error("Can not properly manage the returned segmentation mask")}})}generateSegmentationMask(ns){return __awaiter$8(this,void 0,void 0,function*(){VideoFxProcessor.isSharedArrayBufferSupported?(this.sharedImageData.set(ns.data),this.engineWorker.postMessage({msg:VideoFxConstants_1.WORKER_MSG.PERFORM_SEGMENTATION_SAB_REQUEST,payload:this.sharedImageBuffer})):this.engineWorker.postMessage({msg:VideoFxConstants_1.WORKER_MSG.PERFORM_SEGMENTATION_REQUEST,payload:ns},[ns.data.buffer]);try{return yield this.segmentationRequestPromise.getPromise()}catch(rs){throw this.logger.error(rs.toString()),new Error("Segmentation mask could not be generated")}})}cloneConfigFrom(ns){return{backgroundBlur:{isEnabled:ns.backgroundBlur.isEnabled,strength:ns.backgroundBlur.strength},backgroundReplacement:{isEnabled:ns.backgroundReplacement.isEnabled,backgroundImageURL:ns.backgroundReplacement.backgroundImageURL,defaultColor:ns.backgroundReplacement.defaultColor}}}setEffectConfig(ns){return __awaiter$8(this,void 0,void 0,function*(){if(this.sameVideoFxConfig(ns,this.effectConfig))return;const rs=this.cloneConfigFrom(ns);try{yield this.validateEffectConfig(rs)}catch(is){throw this.logger.error(is.toString()),new Error("Provided effect config is invalid, not updating VideoFxProcessor")}rs.backgroundReplacement.isEnabled&&(yield this.canvasOpsManager.loadReplacementBackground(rs),yield this.renderer.setBackgroundReplacementCanvas(this.canvasOpsManager.getBackgroundReplacementCanvas())),yield this.renderer.configure(this.streamParameters.width,this.streamParameters.height,rs),this.effectConfig=rs,!this.effectConfig.backgroundBlur.isEnabled&&!this.effectConfig.backgroundReplacement.isEnabled?this.process=this.noOpProcess:this.process=this.fxProcess,this.logger.info("VideoFxProcessor effect configuration updated to: ".concat(JSON.stringify(this.effectConfig))),this.eventController&&this.publishVideoFxConfigEvent()})}validateEffectConfig(ns){return __awaiter$8(this,void 0,void 0,function*(){if(ns.backgroundBlur.isEnabled&&ns.backgroundReplacement.isEnabled)throw new Error("Invalid VideoFx configuration: Background Blur and Background Replacement can not both be enabled");ns.backgroundReplacement.isEnabled&&(yield this.validateReplacementConfig(ns))})}validateReplacementConfig(ns){return __awaiter$8(this,void 0,void 0,function*(){if(ns.backgroundReplacement.backgroundImageURL&&ns.backgroundReplacement.defaultColor)throw new Error("Invalid VideoFx configuration: Background Replacement can not have both an image URL and default color");if(!ns.backgroundReplacement.backgroundImageURL&&!ns.backgroundReplacement.defaultColor)throw new Error("Invalid VideoFx configuration: Background Replacement image URL and default can not both be null/undefined");try{ns.backgroundReplacement.backgroundImageURL&&(yield this.canvasOpsManager.loadImage(ns.backgroundReplacement.backgroundImageURL))}catch(is){throw this.logger.error(is.toString()),new Error("Invalid VideoFx configuration: backgroundImageURL failed to load")}const rs=ns.backgroundReplacement.defaultColor;if(rs&&rs!=="black"&&rs!=="#000000"&&rs!=="#000"){if(rs.includes("#")&&!new RegExp(/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/).test(rs))throw new Error("Invalid hexadecimal color code for default replacement "+"background: ".concat(rs));const os=document.createElement("canvas").getContext("2d"),ss=os.fillStyle;if(os.fillStyle=rs,os.fillStyle===ss)throw new Error("Invalid color for default replacement background: ".concat(rs))}})}validateProcessingBudgetPerFrame(ns){if(ns<VideoFxConstants_1.RESOURCE_CONSTRAINTS.MIN_PROCESSING_BUDGET||ns>VideoFxConstants_1.RESOURCE_CONSTRAINTS.MAX_PROCESSING_BUDGET)throw new Error("Invalid resource constraint: cycle percentage must be within "+"range of ".concat(VideoFxConstants_1.RESOURCE_CONSTRAINTS.MIN_PROCESSING_BUDGET," and ")+"".concat(VideoFxConstants_1.RESOURCE_CONSTRAINTS.MAX_PROCESSING_BUDGET))}loadAssets(){return __awaiter$8(this,void 0,void 0,function*(){this.logger.info("Loading required assets for the VideoFxProcessor");try{const ns=this.getVideoFxAssetParams();yield this.loadEngineWorker(ns),yield this.buildEngine(ns),yield this.loadFxLib(ns),this.renderer=constructRenderer(VideoFxConstants_1.SEGMENTATION_MODEL.WIDTH_IN_PIXELS,VideoFxConstants_1.SEGMENTATION_MODEL.HEIGHT_IN_PIXELS,this.effectConfig,this.outputCanvas)}catch(ns){throw this.logger.error(ns.toString()),new Error("Failed to load necessary assets for the VideoFxProcessor")}this.logger.info("Finished loading of essential VideoFxProcessor assets.")})}getVideoFxAssetParams(){const ns=Utils_1$1.getDefaultAssetSpec();return{assetGroup:ns.assetGroup,revisionID:ns.revisionID,sdk:encodeURIComponent(Versioning_1$1.default.sdkVersion),ua:encodeURIComponent(Versioning_1$1.default.sdkUserAgentLowResolution)}}getPathFromVideoFxAssetParams(ns,rs){const is=new URL(ns);for(const[os,ss]of Object.entries(rs))if(ss!==void 0){const as=encodeURIComponent(os),ls=encodeURIComponent(ss);is.searchParams.set(as,ls)}return is.toString()}loadEngineWorker(ns){return __awaiter$8(this,void 0,void 0,function*(){try{const rs=this.getPathFromVideoFxAssetParams(VideoFxConstants_1.CDN_BASE_PATH+VideoFxConstants_1.WORKER_PATH,ns);this.engineWorker=yield loader_1.loadWorker(rs,"VideoFxEngineWorker",{},null),this.logger.info("Successfully loaded the VideoFxProcessor's engine worker"),this.engineWorker.addEventListener("message",is=>this.engineWorkerReceiver(is))}catch(rs){throw this.logger.error(rs.toString()),new Error("Failed to load the VideoFxProcessor's engine worker")}})}buildEngine(ns){return __awaiter$8(this,void 0,void 0,function*(){this.buildEnginePromise=new DeferredPromise_1.DeferredPromise,this.engineWorker.postMessage({msg:VideoFxConstants_1.WORKER_MSG.BUILD_ENGINE_REQUEST,payload:{cdnBasePath:VideoFxConstants_1.CDN_BASE_PATH,sdkVersioningParams:ns}});try{yield this.buildEnginePromise.getPromise()}catch(rs){throw this.logger.error(rs.toString()),new Error("Failed to instantiate the VideoFxEngine")}})}loadFxLib(ns){return __awaiter$8(this,void 0,void 0,function*(){const rs=this.getPathFromVideoFxAssetParams(VideoFxConstants_1.CDN_BASE_PATH+VideoFxConstants_1.FXLIB_PATH,ns),is={method:"GET",mode:"cors",credentials:"omit",redirect:"follow",referrerPolicy:"no-referrer"};try{const os=yield fetch_1.fetchWithBehavior(rs,is,{});if(!os.ok)throw new Error("Fetch failed.");const ss=window.URL.createObjectURL(yield os.blob());yield new Promise((as,ls)=>{this.fxLibScript=document.createElement("script"),this.fxLibScript.setAttribute("src",ss),this.fxLibScript.setAttribute("type","module"),this.fxLibScript.setAttribute("async","false"),this.fxLibScript.addEventListener("load",as),this.fxLibScript.addEventListener("error",ls),document.body.appendChild(this.fxLibScript)})}catch(os){throw this.logger.error(os.toString()),new Error("Failed to load the fxlib")}})}getEffectConfig(){return this.cloneConfigFrom(this.effectConfig)}engineWorkerReceiver(ns){const rs=ns.data;switch(rs.msg){case VideoFxConstants_1.WORKER_MSG.BUILD_ENGINE_RESPONSE:this.settleEngineBuildPromise(rs.payload);break;case VideoFxConstants_1.WORKER_MSG.PERFORM_SEGMENTATION_RESPONSE:this.settleSegmentationPromise(rs.payload.output);break;case VideoFxConstants_1.WORKER_MSG.PERFORM_SEGMENTATION_SAB_RESPONSE:this.settleSegmentationPromiseSAB();break;case VideoFxConstants_1.WORKER_MSG.DESTROY_ASSETS_RESPONSE:this.destroyedAssetsPromise.resolvePromise();break;default:this.logger.info("VideoFx worker received unknown event msg: ".concat(JSON.stringify(rs)));break}}settleEngineBuildPromise(ns){ns!==VideoFxConstants_1.SEGMENTATION_MODEL.LOAD_SUCCESS?this.buildEnginePromise.rejectPromise(new Error("Failed to build VideoFxProcessor's engine")):(this.logger.info("Successfully built the VideoFxEngine"),this.buildEnginePromise.resolvePromise())}settleSegmentationPromise(ns){ns?this.segmentationRequestPromise.resolveAndReplacePromise(ns):this.segmentationRequestPromise.rejectAndReplacePromise(new Error("Failed to perform a segmentation on the input image"))}settleSegmentationPromiseSAB(){try{const ns=new ImageData(new Uint8ClampedArray(this.sharedImageData),VideoFxConstants_1.SEGMENTATION_MODEL.WIDTH_IN_PIXELS,VideoFxConstants_1.SEGMENTATION_MODEL.HEIGHT_IN_PIXELS);this.segmentationRequestPromise.resolveAndReplacePromise(ns)}catch{this.segmentationRequestPromise.rejectAndReplacePromise(new Error("Failed to perform a segmentation with a shared array buffer on the input image"))}}setToNoOpProcess(){this.process=this.noOpProcess}static isSupported(ns=new NoOpLogger_1.default,rs=!0){return __awaiter$8(this,void 0,void 0,function*(){let is=!0;const os=(ls,cs)=>{ls&&(ns.info(cs),is=!1)};os(typeof globalThis>"u","Browser does not have globalThis."),os(!support_1.supportsWorker(globalThis,ns),"Browser does not support web workers."),os(!support_1.supportsWASM(globalThis,ns),"Browser does not support wasm."),os(!document.createElement("canvas").getContext("webgl2"),"Browser does not support webgl.");const ss=new DefaultBrowserBehavior_1$1.default;os(!ss.isVideoFxSupportedBrowser(),"Browser is unsupported for VideoFxProcessor");const as=()=>__awaiter$8(this,void 0,void 0,function*(){if(rs)try{const ls=new VideoFxProcessor(ns);yield ls.loadAssets(),yield ls.destroy()}catch{return ns.info("Browser environment is unable to access the required external assets."),Promise.resolve(!1)}return Promise.resolve(!0)});return Promise.resolve(is?yield as():!1)})}static create(ns,rs,is=VideoFxConstants_1.RESOURCE_CONSTRAINTS.DEFAULT_PROCESSING_BUDGET_PER_FRAME){return __awaiter$8(this,void 0,void 0,function*(){const os=new VideoFxProcessor(ns,is);try{return yield os.loadAssets(),yield os.setEffectConfig(rs),os}catch(ss){throw ns.error(ss.toString()),os.setToNoOpProcess(),new Error("VideoFxProcessor built with support for only NoOp processing")}})}setEventController(ns){this.eventController?this.eventController=ns:(this.eventController=ns,this.publishVideoFxConfigEvent())}publishVideoFxConfigEvent(){const ns={backgroundBlurEnabled:this.effectConfig.backgroundBlur.isEnabled.toString(),backgroundBlurStrength:this.effectConfig.backgroundBlur.strength,backgroundReplacementEnabled:this.effectConfig.backgroundReplacement.isEnabled.toString(),backgroundFilterVersion:2};this.eventController.publishEvent("backgroundFilterConfigSelected",ns)}sameVideoFxConfig(ns,rs){return ns.backgroundBlur.isEnabled===rs.backgroundBlur.isEnabled&&ns.backgroundBlur.strength===rs.backgroundBlur.strength&&ns.backgroundReplacement.backgroundImageURL===rs.backgroundReplacement.backgroundImageURL&&ns.backgroundReplacement.defaultColor===rs.backgroundReplacement.defaultColor&&ns.backgroundReplacement.isEnabled===rs.backgroundReplacement.isEnabled}}VideoFxProcessor$1.default=VideoFxProcessor;VideoFxProcessor.isSharedArrayBufferSupported=typeof SharedArrayBuffer<"u";var VoiceFocusDeviceTransformer$1={},voicefocus={},decider={},__awaiter$7=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,ns,rs,is){function os(ss){return ss instanceof rs?ss:new rs(function(as){as(ss)})}return new(rs||(rs=Promise))(function(ss,as){function ls(ds){try{us(is.next(ds))}catch(ps){as(ps)}}function cs(ds){try{us(is.throw(ds))}catch(ps){as(ps)}}function us(ds){ds.done?ss(ds.value):os(ds.value).then(ls,cs)}us((is=is.apply(ts,ns||[])).next())})};Object.defineProperty(decider,"__esModule",{value:!0});decider.decideModel=decider.measureAndDecideExecutionApproach=void 0;const loader_js_1$1=loader,support_js_1$4=support,DEFAULT_EXECUTION_QUANTA=3,SIMD_SCORE_FIXED_POINT=2.5,WASM_SCORE_FIXED_POINT=2.63,SINGLE_INLINE_SCORE_MULTIPLIER=.6,QUALITY_MULTIPLE_QUANTA_SCORE_MULTIPLIER=.65,INTERACTIVITY_MULTIPLE_QUANTA_SCORE_MULTIPLIER=.5,WORKER_SCORE_MULTIPLIER=.7,PERFORMANCE_THRESHOLDS={wasm:{noSupport:.07,inline:{c100:1,c50:.36,c20:.16,c10:.07},worker:{c100:.5,c50:.18,c20:.08,c10:.06}},simd:{noSupport:.1,inline:{c100:1,c50:.43,c20:.3,c10:.2},worker:{c100:.5,c50:.21,c20:.15,c10:.1}}};class Estimator{constructor(ns,rs){this.fetchConfig=ns,this.logger=rs;const is="".concat(ns.paths.workers,"estimator-v1.js");this.fetchBehavior={headers:ns.headers,escapedQueryString:ns.escapedQueryString},this.worker=loader_js_1$1.loadWorker(is,"VoiceFocusEstimator",this.fetchBehavior,rs)}roundtrip(ns,rs,is){return new Promise((os,ss)=>{this.worker.then(as=>{let ls;ls=cs=>{const{message:us,key:ds}=cs.data;us===rs&&ds===is&&(as.removeEventListener("message",ls),os(cs.data))},as.addEventListener("message",ls),as.postMessage(ns)}).catch(as=>{var ls;(ls=this.logger)===null||ls===void 0||ls.error("Failed to load worker.",as),ss(as)})})}supportsSIMD(ns){const rs="simd",is=ns||"".concat(this.fetchConfig.paths.wasm,"simd-v1.wasm"),os={message:"supports-simd",fetchBehavior:this.fetchBehavior,path:is,key:rs};return this.roundtrip(os,"simd-support",rs).then(ss=>ss.supports)}measure(ns,rs){const is="".concat(this.fetchConfig.paths.wasm,"bench-v1.wasm"),os="".concat(this.fetchConfig.paths.wasm,"bench-v1_simd.wasm"),ss=ns?os:is,as="bench:".concat(ns),ls={message:"measure",fetchBehavior:this.fetchBehavior,budget:rs,path:ss,key:as};return this.roundtrip(ls,"measurement",as).then(cs=>{if(cs.measurement)return cs.measurement;throw new Error("Failed to measure.")})}stop(){this.worker.then(ns=>{var rs;(rs=this.logger)===null||rs===void 0||rs.debug("Stopping estimator worker."),ns.terminate()}).catch(ns=>{})}}const inlineScoreMultiplier=(ts,ns)=>ts===1?SINGLE_INLINE_SCORE_MULTIPLIER:ns==="quality"?QUALITY_MULTIPLE_QUANTA_SCORE_MULTIPLIER*ts:INTERACTIVITY_MULTIPLE_QUANTA_SCORE_MULTIPLIER*ts,decideExecutionApproach=({supportsSIMD:ts,supportsSAB:ns,duration:rs,executionPreference:is="auto",simdPreference:os,variantPreference:ss="auto",namePreference:as="default",usagePreference:ls,executionQuantaPreference:cs=DEFAULT_EXECUTION_QUANTA},us=PERFORMANCE_THRESHOLDS,ds)=>{const hs=os==="force"||os!=="disable"&&ts,ms=rs!==-1,gs=ms?(hs?SIMD_SCORE_FIXED_POINT:WASM_SCORE_FIXED_POINT)/rs:0,ys=hs?us.simd:us.wasm,vs=ms?inlineScoreMultiplier(cs,ls)*gs:0,bs=ms?WORKER_SCORE_MULTIPLIER*gs:0,Ss=as,$s=ws=>({supported:!1,reason:ws});if(ms){if(gs<ys.noSupport)return $s("Performance score ".concat(gs," worse than threshold ").concat(ys.noSupport,"."))}else if(is==="auto"||ss==="auto")return $s("Missing explicit execution (".concat(is,") or variant (").concat(ss,") preference, but no scoring performed."));ds==null||ds.debug("Bench duration ".concat(rs," yields inline score ").concat(vs," and worker score ").concat(bs,"."));const Cs=(ws,ks,Is)=>({supported:!0,useSIMD:hs,processor:ws,executionApproach:ks,variant:Is,executionQuanta:ks==="inline"?cs:void 0,name:Ss}),Es=(ws,ks,Is)=>ks!=="auto"?!ms||ws>Is[ks]?ks:"failed":ws>Is.c100?"c100":ws>Is.c50?"c50":ws>Is.c20?"c20":ws>Is.c10?"c10":"failed",xs=ws=>{switch(ws||"auto"){case"auto":{let ks=xs("inline"),Is=xs("worker");return ds==null||ds.debug("Reducing auto preference: ".concat(JSON.stringify(ks)," vs ").concat(JSON.stringify(Is))),ks.supported===!1||Is.supported===!1?Is:ks.variant===Is.variant||ks.variant==="c50"?ks:Is}case"worker":return support_js_1$4.supportsSharedArrayBuffer(globalThis,window,ds)?xs("worker-sab"):xs("worker-postMessage");case"inline":{const ks=Es(vs,ss,ys.inline);return ks==="failed"?$s("Performance score ".concat(vs," not sufficient for inline use with variant preference ").concat(ss,".")):Cs("voicefocus-inline-processor","inline",ks)}case"worker-sab":{if(!ns){const Is="Requested worker-sab but no SharedArrayBuffer support.";return ds==null||ds.warn(Is),{supported:!1,reason:Is}}const ks=Es(bs,ss,ys.worker);return ks==="failed"?$s("Performance score ".concat(bs," not sufficient for worker use with variant preference ").concat(ss,".")):Cs("voicefocus-worker-sab-processor","worker-sab",ks)}case"worker-postMessage":{const ks=Es(bs,ss,ys.worker);if(ks==="failed")return $s("Performance score ".concat(bs," not sufficient for worker use."));if(Ss==="ns_es"){const Is="Requested echo suppression but postMessage executor does not support it.";return ds==null||ds.warn(Is),{supported:!1,reason:Is}}return Cs("voicefocus-worker-postMessage-processor","worker-postMessage",ks)}}};return xs(is)},featureCheck=(ts,ns,rs,is)=>__awaiter$7(void 0,void 0,void 0,function*(){const os={supportsSIMD:ts,supportsSAB:support_js_1$4.supportsSharedArrayBuffer(globalThis,window,rs),duration:-1};if(ts)return rs==null||rs.info("Supports SIMD: true (force)"),os;const ss=!is,as=is||new Estimator(ns,rs);try{const ls=!support_js_1$4.isOldChrome(window,rs)&&(yield as.supportsSIMD());return rs==null||rs.info("Supports SIMD: ".concat(ls," (force: ").concat(ts,")")),os.supportsSIMD=ls,os}finally{ss&&as.stop()}}),estimateAndFeatureCheck=(ts,ns,rs,is)=>__awaiter$7(void 0,void 0,void 0,function*(){const os=new Estimator(ns,is);try{const ss=yield featureCheck(ts,ns,is,os);if(ss.supportsSIMD)try{return ss.duration=yield os.measure(!0,rs),is==null||is.info("SIMD timing:",ss.duration),ss}catch{is==null||is.warn("Failed SIMD estimation; falling back to non-SIMD."),ss.supportsSIMD=!1}return ss.duration=yield os.measure(!1,rs),is==null||is.info("No-SIMD timing:",ss.duration),ss}catch(ss){throw is==null||is.error("Could not feature check.",ss),ss}finally{os.stop()}}),measureAndDecideExecutionApproach=(ts,ns,rs,is=PERFORMANCE_THRESHOLDS)=>__awaiter$7(void 0,void 0,void 0,function*(){let os=ts.executionPreference;const{usagePreference:ss,variantPreference:as,namePreference:ls,simdPreference:cs,estimatorBudget:us,executionQuantaPreference:ds}=ts;ss==="interactivity"&&os!=="inline"&&(rs==null||rs.debug("Overriding execution preference ".concat(os," to reflect interactivity preference.")),os="inline");const ps=cs==="force",hs=as!=="auto",ms=os!=="auto";let gs;try{hs&&ms?gs=yield featureCheck(ps,ns,rs):gs=yield estimateAndFeatureCheck(ps,ns,us,rs)}catch(ys){throw rs==null||rs.error("Could not load estimator.",ys),new Error("Could not load Voice Focus estimator.")}return decideExecutionApproach(Object.assign(Object.assign({},gs),{simdPreference:cs,executionPreference:os,variantPreference:as,namePreference:ls,usagePreference:ss,executionQuantaPreference:ds}),is,rs)});decider.measureAndDecideExecutionApproach=measureAndDecideExecutionApproach;const decideModel=({category:ts,name:ns,variant:rs,simd:is,url:os})=>"".concat(ts,"-").concat(ns,"-").concat(rs,"-v1").concat(is?"_simd":"");decider.decideModel=decideModel;var workletInlineNode={},types={};Object.defineProperty(types,"__esModule",{value:!0});types.VoiceFocusAudioWorkletNode=void 0;class VoiceFocusAudioWorkletNode extends(typeof globalThis<"u"&&globalThis.AudioWorkletNode||class{}){}types.VoiceFocusAudioWorkletNode=VoiceFocusAudioWorkletNode;var __awaiter$6=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,ns,rs,is){function os(ss){return ss instanceof rs?ss:new rs(function(as){as(ss)})}return new(rs||(rs=Promise))(function(ss,as){function ls(ds){try{us(is.next(ds))}catch(ps){as(ps)}}function cs(ds){try{us(is.throw(ds))}catch(ps){as(ps)}}function us(ds){ds.done?ss(ds.value):os(ds.value).then(ls,cs)}us((is=is.apply(ts,ns||[])).next())})};Object.defineProperty(workletInlineNode,"__esModule",{value:!0});const support_js_1$3=support,types_js_1$2=types,CPU_WARNING_MAX_INTERVAL_MS=5*1e3;class VoiceFocusInlineNode extends types_js_1$2.VoiceFocusAudioWorkletNode{constructor(ns,rs){super(ns,rs.processor,rs),this.cpuWarningCount=0,this.channelCountMode="explicit",this.channelCount=1;const{modelURL:is,worker:os,fetchBehavior:ss,logger:as,delegate:ls}=rs;this.logger=as,this.port.onmessage=this.onProcessorMessage.bind(this),this.delegate=ls,as&&as.debug("VoiceFocusInlineNode:",is),this.worker=os,this.worker.onmessage=this.onWorkerMessage.bind(this);const cs=support_js_1$3.supportsWASMPostMessage(globalThis)?"get-module":"get-module-buffer";this.worker.postMessage({message:cs,key:"model",fetchBehavior:ss,path:is})}onModuleBufferLoaded(ns,rs){this.port.postMessage({message:"module-buffer",buffer:ns,key:rs})}onModuleLoaded(ns,rs){this.port.postMessage({message:"module",module:ns,key:rs})}enable(){return __awaiter$6(this,void 0,void 0,function*(){this.port.postMessage({message:"enable"})})}disable(){return __awaiter$6(this,void 0,void 0,function*(){this.port.postMessage({message:"disable"})})}stop(){var ns;return __awaiter$6(this,void 0,void 0,function*(){this.port.postMessage({message:"stop"});try{(ns=this.worker)===null||ns===void 0||ns.terminate()}catch(rs){console.error("failed to terminate worker:",rs)}this.disconnect()})}onProcessorMessage(ns){var rs,is,os;const ss=ns.data;switch(ss.message){case"cpu":this.cpuWarningCount++;const as=Date.now(),ls=this.cpuWarningLastTriggered||as,cs=Math.abs(as-ls);(!this.cpuWarningLastTriggered||cs>CPU_WARNING_MAX_INTERVAL_MS)&&((rs=this.logger)===null||rs===void 0||rs.warn("CPU warning (count: ".concat(this.cpuWarningCount,"):"),ss.message),this.cpuWarningCount=0,this.cpuWarningLastTriggered=as),(is=this.delegate)===null||is===void 0||is.onCPUWarning();break;default:(os=this.logger)===null||os===void 0||os.debug("Ignoring processor message.")}}onWorkerMessage(ns){const rs=ns.data;switch(rs.message){case"module-buffer":if(!rs.buffer||!rs.key)return;this.onModuleBufferLoaded(rs.buffer,rs.key);break;case"module":if(!rs.module||!rs.key)return;this.onModuleLoaded(rs.module,rs.key);break;case"stopped":this.worker&&this.worker.terminate();break;default:return}}}workletInlineNode.default=VoiceFocusInlineNode;var workletWorkerSabNode={},__awaiter$5=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,ns,rs,is){function os(ss){return ss instanceof rs?ss:new rs(function(as){as(ss)})}return new(rs||(rs=Promise))(function(ss,as){function ls(ds){try{us(is.next(ds))}catch(ps){as(ps)}}function cs(ds){try{us(is.throw(ds))}catch(ps){as(ps)}}function us(ds){ds.done?ss(ds.value):os(ds.value).then(ls,cs)}us((is=is.apply(ts,ns||[])).next())})};Object.defineProperty(workletWorkerSabNode,"__esModule",{value:!0});const support_js_1$2=support,types_js_1$1=types,INDICES={ready:0,enabled:1},STATES={disabled:0,enabled:1,stopped:2};class VoiceFocusWorkerBufferNode extends types_js_1$1.VoiceFocusAudioWorkletNode{constructor(ns,rs){super(ns,rs.processor,rs),this.channelCountMode="explicit",this.channelCount=1;const{modelURL:is,resamplerURL:os,worker:ss,fetchBehavior:as,delegate:ls}=rs;this.delegate=ls,this.worker=ss,this.worker.onmessage=this.onWorkerMessage.bind(this),this.port.onmessage=this.onProcessorMessage.bind(this);const{enabled:cs,supportFarendStream:us}=rs.processorOptions;this.worker.postMessage({message:"init",approach:"sab",frames:ns.sampleRate===16e3?160:480,enabled:cs,model:is,supportFarendStream:us});const ds=support_js_1$2.supportsWASMPostMessage(globalThis)?"get-module":"get-module-buffer";this.worker.postMessage({message:ds,key:"resampler",fetchBehavior:as,path:os})}enable(){return __awaiter$5(this,void 0,void 0,function*(){this.state?(Atomics.store(this.state,INDICES.enabled,STATES.enabled),Atomics.notify(this.state,INDICES.ready,1)):this.worker.postMessage({message:"enable"})})}disable(){return __awaiter$5(this,void 0,void 0,function*(){this.state?(Atomics.store(this.state,INDICES.enabled,STATES.disabled),Atomics.notify(this.state,INDICES.ready,1)):this.worker.postMessage({message:"disable"})})}stop(){return __awaiter$5(this,void 0,void 0,function*(){if(this.state)Atomics.store(this.state,INDICES.enabled,STATES.stopped),Atomics.notify(this.state,INDICES.ready,1);else try{this.worker.postMessage({message:"stop"})}catch{}this.disconnect()})}onWorkerMessage(ns){var rs;const is=ns.data;switch(is.message){case"ready":if(!is.shared)throw new Error("No shared state.");this.state=new Int32Array(is.shared.state),this.port.postMessage(is);break;case"stopped":this.worker.terminate();break;case"module-buffer":case"module":this.port.postMessage(is);break;case"cpu":(rs=this.delegate)===null||rs===void 0||rs.onCPUWarning();break;case"processing":this.port.postMessage(is);break;default:return}}onProcessorMessage(ns){var rs;const is=ns.data;switch(is.message){case"cpu":(rs=this.delegate)===null||rs===void 0||rs.onCPUWarning();break;case"prepare-for-frames":this.worker.postMessage(is);break}}}workletWorkerSabNode.default=VoiceFocusWorkerBufferNode;var workletWorkerPostMessageNode={},__awaiter$4=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,ns,rs,is){function os(ss){return ss instanceof rs?ss:new rs(function(as){as(ss)})}return new(rs||(rs=Promise))(function(ss,as){function ls(ds){try{us(is.next(ds))}catch(ps){as(ps)}}function cs(ds){try{us(is.throw(ds))}catch(ps){as(ps)}}function us(ds){ds.done?ss(ds.value):os(ds.value).then(ls,cs)}us((is=is.apply(ts,ns||[])).next())})};Object.defineProperty(workletWorkerPostMessageNode,"__esModule",{value:!0});const support_js_1$1=support,types_js_1=types;class VoiceFocusWorkerPostMessageNode extends types_js_1.VoiceFocusAudioWorkletNode{constructor(ns,rs){super(ns,rs.processor,rs),this.channelCountMode="explicit",this.channelCount=1;const{modelURL:is,audioBufferURL:os,worker:ss,fetchBehavior:as,delegate:ls}=rs;this.delegate=ls,this.worker=ss,this.worker.onmessage=this.onWorkerMessage.bind(this),this.port.onmessage=this.onProcessorMessage.bind(this);const{enabled:cs,agc:us,supportFarendStream:ds}=rs.processorOptions;this.worker.postMessage({message:"init",approach:"postMessage",frames:ns.sampleRate===16e3?160:480,enabled:cs,agc:us,fetchBehavior:as,model:is,supportFarendStream:ds});const ps=support_js_1$1.supportsWASMPostMessage(globalThis)?"get-module":"get-module-buffer";this.worker.postMessage({message:ps,key:"buffer",fetchBehavior:as,path:os})}enable(){return __awaiter$4(this,void 0,void 0,function*(){this.worker.postMessage({message:"enable"})})}disable(){return __awaiter$4(this,void 0,void 0,function*(){this.worker.postMessage({message:"disable"})})}stop(){return __awaiter$4(this,void 0,void 0,function*(){try{this.worker.postMessage({message:"stop"})}catch{}this.disconnect()})}onWorkerMessage(ns){var rs;const is=ns.data;switch(is.message){case"ready":this.port.postMessage({message:"ready",shared:is.shared},is.shared?Object.values(is.shared):[]);break;case"data":if(!is.buffer)return;this.port.postMessage({message:"data",buffer:is.buffer},[is.buffer]);break;case"stopped":this.worker.terminate();break;case"module-buffer":case"module":this.port.postMessage(is);break;case"cpu":(rs=this.delegate)===null||rs===void 0||rs.onCPUWarning();break;case"processing":this.port.postMessage(is);break;default:return}}onProcessorMessage(ns){var rs;const is=ns.data;switch(is.message){case"data":if(!is.buffer)return;this.worker.postMessage({message:"data",buffer:is.buffer},[is.buffer]);break;case"cpu":(rs=this.delegate)===null||rs===void 0||rs.onCPUWarning();break;case"prepare-for-frames":this.worker.postMessage(is);break;default:return}}}workletWorkerPostMessageNode.default=VoiceFocusWorkerPostMessageNode;var __awaiter$3=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,ns,rs,is){function os(ss){return ss instanceof rs?ss:new rs(function(as){as(ss)})}return new(rs||(rs=Promise))(function(ss,as){function ls(ds){try{us(is.next(ds))}catch(ps){as(ps)}}function cs(ds){try{us(is.throw(ds))}catch(ps){as(ps)}}function us(ds){ds.done?ss(ds.value):os(ds.value).then(ls,cs)}us((is=is.apply(ts,ns||[])).next())})};Object.defineProperty(voicefocus,"__esModule",{value:!0});voicefocus.getAudioInput=voicefocus.createAudioContext=voicefocus.VoiceFocus=void 0;const decider_js_1=decider,fetch_js_1=fetch$1,loader_js_1=loader,support_js_1=support,worklet_inline_node_js_1=workletInlineNode,worklet_worker_sab_node_js_1=workletWorkerSabNode,worklet_worker_postMessage_node_js_1=workletWorkerPostMessageNode,DEFAULT_AGC_DISABLED_SETTING={useVoiceFocusAGC:!1,useBuiltInAGC:!0},DEFAULT_AGC_SETTING=DEFAULT_AGC_DISABLED_SETTING,DEFAULT_ASSET_GROUP="stable-v1",DEFAULT_CDN="https://static.sdkassets.chime.aws",DEFAULT_PATHS={processors:"".concat(DEFAULT_CDN,"/processors/"),workers:"".concat(DEFAULT_CDN,"/workers/"),wasm:"".concat(DEFAULT_CDN,"/wasm/"),models:"".concat(DEFAULT_CDN,"/wasm/")},DEFAULT_CONTEXT_HINT={latencyHint:0},BASE_AUDIO_CONSTRAINTS={channelCount:1,echoCancellation:!0,googEchoCancellation:!0,noiseSuppression:!1,googNoiseSuppression:!1,googHighpassFilter:!1,googTypingNoiseDetection:!1},DEFAULT_AUDIO_CONSTRAINTS_WITH_BUILTIN_AGC=Object.assign(Object.assign({},BASE_AUDIO_CONSTRAINTS),{autoGainControl:!0,googAutoGainControl:!0,googAutoGainControl2:!0}),DEFAULT_AUDIO_CONSTRAINTS_WITHOUT_BUILTIN_AGC=Object.assign(Object.assign({},BASE_AUDIO_CONSTRAINTS),{autoGainControl:!1,googAutoGainControl:!1,googAutoGainControl2:!1}),PROCESSORS={"voicefocus-worker-sab-processor":{file:"worklet-worker-sab-processor-v1.js",node:worklet_worker_sab_node_js_1.default},"voicefocus-worker-postMessage-processor":{file:"worklet-worker-postMessage-processor-v1.js",node:worklet_worker_postMessage_node_js_1.default},"voicefocus-inline-processor":{file:"worklet-inline-processor-v1.js",node:worklet_inline_node_js_1.default}},validateAssetSpec=(ts,ns)=>{if(ts!==void 0&&!fetch_js_1.isValidAssetGroup(ts))throw new Error("Invalid asset group ".concat(ts));if(ns!==void 0&&!fetch_js_1.isValidRevisionID(ns))throw new Error("Invalid revision ID ".concat(ns))},mungeConstraints=(ts,ns)=>{let rs;if(ns.useBuiltInAGC?rs=DEFAULT_AUDIO_CONSTRAINTS_WITH_BUILTIN_AGC:rs=DEFAULT_AUDIO_CONSTRAINTS_WITHOUT_BUILTIN_AGC,!ts)return{audio:rs};if(!ts.audio)return ts;if(ts.video)throw new Error("Not adding Voice Focus to multi-device getUserMedia call.");return Object.assign(Object.assign({},ts),{audio:ts.audio===!0?rs:Object.assign(Object.assign({},ts.audio),rs)})},urlForModel=(ts,ns)=>"".concat(ns.models).concat(decider_js_1.decideModel(ts),".wasm");class VoiceFocus{constructor(ns,rs,is,os,ss){this.processorURL=rs,this.nodeConstructor=is,this.nodeOptions=os,this.executionQuanta=ss,this.internal={worker:ns,nodeOptions:os,isDestroyed:!1}}static isSupported(ns,rs){const{fetchBehavior:is,logger:os}=rs||{};if(typeof globalThis>"u")return os==null||os.debug("Browser does not have globalThis."),Promise.resolve(!1);if(!support_js_1.supportsAudioWorklet(globalThis,os))return os==null||os.debug("Browser does not support Audio Worklet."),Promise.resolve(!1);if(!support_js_1.supportsWASM(globalThis,os))return os==null||os.debug("Browser does not support WASM."),Promise.resolve(!1);support_js_1.supportsWASMStreaming(globalThis,os)||os==null||os.debug("Browser does not support streaming WASM compilation.");const{assetGroup:ss=DEFAULT_ASSET_GROUP,revisionID:as,paths:ls=DEFAULT_PATHS}=ns||{};validateAssetSpec(ss,as);const cs=as?{revisionID:as}:{assetGroup:ss},us=fetch_js_1.addQueryParams(is,cs),ds=Object.assign(Object.assign({},us),{paths:ls});return support_js_1.supportsVoiceFocusWorker(globalThis,ds,os)}static mungeExecutionPreference(ns,rs){const is=ns===void 0||ns==="auto";if(support_js_1.isSafari(globalThis)){if(is||ns==="inline")return"inline";if(!is)throw new Error("Unsupported execution preference ".concat(ns))}if(ns==="worker-sab"&&!support_js_1.supportsSharedArrayBuffer(globalThis,globalThis,rs))throw new Error("Unsupported execution preference ".concat(ns));return ns||"auto"}static configure(ns,rs){return __awaiter$3(this,void 0,void 0,function*(){const{fetchBehavior:is,preResolve:os,logger:ss}=rs||{},{category:as="voicefocus",name:ls="default",variant:cs="auto",assetGroup:us=DEFAULT_ASSET_GROUP,revisionID:ds,simd:ps="detect",executionPreference:hs="auto",executionQuantaPreference:ms,usagePreference:gs="interactivity",estimatorBudget:ys=100,paths:vs=DEFAULT_PATHS,thresholds:bs}=ns||{};if(ss==null||ss.debug("Configuring Voice Focus with spec",ns),as!==void 0&&as!=="voicefocus")throw new Error("Unrecognized category ".concat(as));if(ls!==void 0&&ls!=="default"&&ls!=="ns_es")throw new Error("Unrecognized feature name ".concat(ls));if(cs!==void 0&&!["auto","c100","c50","c20","c10"].includes(cs))throw new Error("Unrecognized feature variant ".concat(cs));if(ms!==void 0&&![1,2,3].includes(ms))throw new Error("Unrecognized execution quanta preference ".concat(ms));if(validateAssetSpec(us,ds),ps!==void 0&&!["detect","force","disable"].includes(ps))throw new Error("Unrecognized SIMD option ".concat(ps));if(hs!==void 0&&!["auto","inline","worker","worker-sab","worker-postMessage"].includes(hs))throw new Error("Unrecognized execution preference ".concat(hs));if(gs!==void 0&&!["quality","interactivity"].includes(gs))throw new Error("Unrecognized usage preference ".concat(gs));const Ss={executionPreference:this.mungeExecutionPreference(hs,ss),usagePreference:gs,executionQuantaPreference:ms,variantPreference:cs,namePreference:ls,simdPreference:ps,estimatorBudget:ys},$s=ds?{revisionID:ds}:{assetGroup:us},Cs=fetch_js_1.addQueryParams(is,$s),Es=Object.assign({paths:vs},Cs),xs=yield decider_js_1.measureAndDecideExecutionApproach(Ss,Es,ss,bs);if(xs.supported===!1)return{supported:!1,reason:xs.reason};ss==null||ss.info("Decided execution approach",xs);const{useSIMD:ws,processor:ks,variant:Is,executionQuanta:Ts}=xs,Rs={category:as||"voicefocus",name:ls||"default",variant:Is,simd:ws};if(os){const As=urlForModel(Rs,vs);Rs.url=yield fetch_js_1.resolveURL(As,Cs)}return{fetchConfig:Es,model:Rs,processor:ks,executionQuanta:Ts,supported:!0}})}static init(ns,{delegate:rs,preload:is=!0,logger:os}){return __awaiter$3(this,void 0,void 0,function*(){if(ns.supported===!1)throw new Error("Voice Focus not supported. Reason: "+ns.reason);const{model:ss,processor:as,fetchConfig:ls,executionQuanta:cs}=ns,{simd:us,name:ds}=ss,{paths:ps}=ls;if(as!=="voicefocus-inline-processor"&&as!=="voicefocus-worker-postMessage-processor"&&as!=="voicefocus-worker-sab-processor")throw new Error("Unknown processor ".concat(as));const hs=ss.url||urlForModel(ss,ps);os==null||os.debug("Using model URL ".concat(hs,"."));const ms="".concat(ps.wasm,"audio_buffer-v1").concat(us?"_simd":"",".wasm"),gs="".concat(ps.wasm,"resampler-v1").concat(us?"_simd":"",".wasm"),ys="".concat(ps.workers,"worker-v1.js"),{file:vs,node:bs}=PROCESSORS[as],Ss="".concat(ps.processors).concat(vs),$s=yield loader_js_1.loadWorker(ys,"VoiceFocusWorker",ls,os);if(is){os==null||os.debug("Preloading",hs);let ws=support_js_1.supportsWASMPostMessage(globalThis)?"get-module":"get-module-buffer";$s.postMessage({message:ws,preload:!0,key:"model",fetchBehavior:ls,path:hs})}const Es={processor:as,worker:$s,audioBufferURL:ms,resamplerURL:gs,fetchBehavior:ls,modelURL:hs,delegate:rs,logger:os,numberOfInputs:ds==="ns_es"?2:1},xs=new VoiceFocus($s,Ss,bs,Es,cs);return Promise.resolve(xs)})}createNode(ns,rs){var is;if(this.internal.isDestroyed)throw new Error("Unable to create node because VoiceFocus worker has been destroyed.");const{voiceFocusSampleRate:os=ns.sampleRate===16e3?16e3:48e3,enabled:ss=!0,agc:as=DEFAULT_AGC_SETTING}=rs||{},ls=rs==null?void 0:rs.es,cs={voiceFocusSampleRate:os,enabled:ss,sendBufferCount:10,prefill:6,agc:as,executionQuanta:this.executionQuanta,supportFarendStream:ls},us=fetch_js_1.withQueryString(this.processorURL,(is=this.nodeOptions)===null||is===void 0?void 0:is.fetchBehavior);return ns.audioWorklet.addModule(us).then(()=>new this.nodeConstructor(ns,Object.assign(Object.assign({},this.nodeOptions),{processorOptions:cs})))}applyToStream(ns,rs,is){return __awaiter$3(this,void 0,void 0,function*(){if(this.internal.isDestroyed)throw new Error("Unable to apply stream because VoiceFocus worker has been destroyed");const os=rs.createMediaStreamSource(ns),ss=yield this.applyToSourceNode(os,rs,is),as=rs.createMediaStreamDestination();return ss.connect(as),{node:ss,source:os,destination:as,stream:as.stream}})}applyToSourceNode(ns,rs,is){return __awaiter$3(this,void 0,void 0,function*(){const os=yield this.createNode(rs,is);return ns.connect(os),os})}destroy(){this.internal.worker&&this.internal.worker.terminate(),this.internal.isDestroyed=!0}}voicefocus.VoiceFocus=VoiceFocus;const createAudioContext=(ts=DEFAULT_CONTEXT_HINT)=>new(window.AudioContext||window.webkitAudioContext)(ts);voicefocus.createAudioContext=createAudioContext;const getAudioInput=(ts,ns,rs)=>__awaiter$3(void 0,void 0,void 0,function*(){var is,os;const{constraints:ss,spec:as,delegate:ls,preload:cs=!0,options:us}=ns,{logger:ds}=rs,ps=yield VoiceFocus.configure(as,rs);if(!ps.supported)return(is=rs.logger)===null||is===void 0||is.warn("Voice Focus not supported; returning standard stream."),window.navigator.mediaDevices.getUserMedia(ss);const hs=yield VoiceFocus.init(ps,{delegate:ls,preload:cs,logger:ds}),ms=((os=ns.options)===null||os===void 0?void 0:os.agc)||DEFAULT_AGC_SETTING,gs=yield window.navigator.mediaDevices.getUserMedia(mungeConstraints(ss,ms));return hs.applyToStream(gs,ts,us).then(ys=>ys.stream)});voicefocus.getAudioInput=getAudioInput;var LoggerAdapter$1={};Object.defineProperty(LoggerAdapter$1,"__esModule",{value:!0});function stringify$1(ts){return ts.map(ns=>typeof ns=="object"?JSON.stringify(ns):"".concat(ns)).join(" ")}class LoggerAdapter{constructor(ns){this.base=ns}debug(...ns){this.base.debug(stringify$1(ns))}info(...ns){this.base.info(stringify$1(ns))}warn(...ns){this.base.warn(stringify$1(ns))}error(...ns){this.base.error(stringify$1(ns))}}LoggerAdapter$1.default=LoggerAdapter;var VoiceFocusTransformDevice$1={},__awaiter$2=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,ns,rs,is){function os(ss){return ss instanceof rs?ss:new rs(function(as){as(ss)})}return new(rs||(rs=Promise))(function(ss,as){function ls(ds){try{us(is.next(ds))}catch(ps){as(ps)}}function cs(ds){try{us(is.throw(ds))}catch(ps){as(ps)}}function us(ds){ds.done?ss(ds.value):os(ds.value).then(ls,cs)}us((is=is.apply(ts,ns||[])).next())})},__importDefault$1=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(VoiceFocusTransformDevice$1,"__esModule",{value:!0});const DefaultBrowserBehavior_1=__importDefault$1(DefaultBrowserBehavior$1);class VoiceFocusTransformDevice{constructor(ns,rs,is,os,ss=!1,as=void 0,ls=new DefaultBrowserBehavior_1.default,cs=new Map,us=void 0,ds=void 0){this.device=ns,this.voiceFocus=rs,this.delegate=is,this.nodeOptions=os,this.failed=ss,this.node=as,this.browserBehavior=ls,this.farEndStreamToAudioSourceNode=cs,this.mixDestNode=us,this.mixSourceNode=ds}getInnerDevice(){return this.device}mute(ns){return __awaiter$2(this,void 0,void 0,function*(){this.node&&(ns?yield this.node.disable():yield this.node.enable())})}stop(){return __awaiter$2(this,void 0,void 0,function*(){this.node&&(this.node.disconnect(),yield this.node.stop())})}chooseNewInnerDevice(ns){return __awaiter$2(this,void 0,void 0,function*(){return this.device===ns&&!isDefaultDevice(ns)?this:new VoiceFocusTransformDevice(ns,this.voiceFocus,this.delegate,this.nodeOptions,this.failed,this.node,this.browserBehavior,this.farEndStreamToAudioSourceNode,this.mixDestNode,this.mixSourceNode)})}intrinsicDevice(){return __awaiter$2(this,void 0,void 0,function*(){if(this.failed)return this.device;const ns=this.nodeOptions.es,rs={echoCancellation:!ns,googEchoCancellation:!ns,googEchoCancellation2:!ns,noiseSuppression:!1,googNoiseSuppression:!1,googHighpassFilter:!1,googNoiseSuppression2:!1};let is;return this.nodeOptions&&this.nodeOptions.agc!==void 0?is=this.nodeOptions.agc.useBuiltInAGC:is=!0,rs.autoGainControl=is,rs.googAutoGainControl=is,rs.googAutoGainControl2=is,this.device?typeof this.device=="string"?(this.browserBehavior.requiresNoExactMediaStreamConstraints()?rs.deviceId=this.device:rs.deviceId={exact:this.device},rs):this.device.id?this.device:Object.assign(Object.assign({},this.device),rs):rs})}createAudioNode(ns){var rs,is;return __awaiter$2(this,void 0,void 0,function*(){if(((rs=this.node)===null||rs===void 0?void 0:rs.context)===ns)return{start:this.node,end:this.node};const ss=Object.assign({enabled:!0,agc:{useVoiceFocusAGC:!1}},this.nodeOptions);try{if((is=this.node)===null||is===void 0||is.disconnect(),this.node=yield this.voiceFocus.createNode(ns,ss),this.nodeOptions.es){this.mixDestNode=new MediaStreamAudioDestinationNode(ns,{channelCount:1,channelCountMode:"explicit"});for(const cs of this.farEndStreamToAudioSourceNode.keys())this.assignFarEndStreamToAudioSourceNode(cs);this.createMixSourceNode()}const as=this.node,ls=this.node;return{start:as,end:ls}}catch(as){throw this.failed=!0,this.delegate.onFallback(this,as),as}})}observeMeetingAudio(ns){return __awaiter$2(this,void 0,void 0,function*(){if(!this.nodeOptions.es)return;ns.addAudioMixObserver(this);const rs=yield ns.getCurrentMeetingAudioStream();rs&&this.addFarEndStream(rs)})}unObserveMeetingAudio(ns){return __awaiter$2(this,void 0,void 0,function*(){if(!this.nodeOptions.es)return;ns.removeAudioMixObserver(this);const rs=yield ns.getCurrentMeetingAudioStream();rs&&this.removeFarendStream(rs)})}addObserver(ns){this.delegate.addObserver(ns)}removeObserver(ns){this.delegate.removeObserver(ns)}addFarEndStream(ns){return __awaiter$2(this,void 0,void 0,function*(){!this.nodeOptions.es||!ns||this.farEndStreamToAudioSourceNode.has(ns)||(this.node?this.assignFarEndStreamToAudioSourceNode(ns):this.farEndStreamToAudioSourceNode.set(ns,null))})}removeFarendStream(ns){var rs;return __awaiter$2(this,void 0,void 0,function*(){(rs=this.farEndStreamToAudioSourceNode.get(ns))===null||rs===void 0||rs.disconnect(),this.farEndStreamToAudioSourceNode.delete(ns)})}meetingAudioStreamBecameActive(ns){return __awaiter$2(this,void 0,void 0,function*(){this.addFarEndStream(ns)})}meetingAudioStreamBecameInactive(ns){return __awaiter$2(this,void 0,void 0,function*(){this.removeFarendStream(ns)})}assignFarEndStreamToAudioSourceNode(ns){const rs=this.node.context.createMediaStreamSource(ns);rs.channelCount=1,rs.channelCountMode="explicit",this.farEndStreamToAudioSourceNode.set(ns,rs),rs.connect(this.mixDestNode,0)}createMixSourceNode(){this.mixSourceNode=this.node.context.createMediaStreamSource(this.mixDestNode.stream),this.mixSourceNode.channelCount=1,this.mixSourceNode.channelCountMode="explicit",this.mixSourceNode.connect(this.node,0,1)}}function isDefaultDevice(ts){return ts==="default"?!0:!ts||typeof ts!="object"?!1:"deviceId"in ts&&ts.deviceId==="default"||"id"in ts&&ts.id==="default"}VoiceFocusTransformDevice$1.default=VoiceFocusTransformDevice;var VoiceFocusTransformDeviceDelegate$1={};Object.defineProperty(VoiceFocusTransformDeviceDelegate$1,"__esModule",{value:!0});class VoiceFocusTransformDeviceDelegate{constructor(){this.observers=new Set}addObserver(ns){this.observers.add(ns)}removeObserver(ns){this.observers.delete(ns)}onFallback(ns,rs){var is;for(const os of this.observers)(is=os.voiceFocusFellBackToInnerStream)===null||is===void 0||is.call(os,ns,rs)}onCPUWarning(){var ns;for(const rs of this.observers)(ns=rs.voiceFocusInsufficientResources)===null||ns===void 0||ns.call(rs)}}VoiceFocusTransformDeviceDelegate$1.default=VoiceFocusTransformDeviceDelegate;var __awaiter$1=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,ns,rs,is){function os(ss){return ss instanceof rs?ss:new rs(function(as){as(ss)})}return new(rs||(rs=Promise))(function(ss,as){function ls(ds){try{us(is.next(ds))}catch(ps){as(ps)}}function cs(ds){try{us(is.throw(ds))}catch(ps){as(ps)}}function us(ds){ds.done?ss(ds.value):os(ds.value).then(ls,cs)}us((is=is.apply(ts,ns||[])).next())})},__importDefault=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(VoiceFocusDeviceTransformer$1,"__esModule",{value:!0});VoiceFocusDeviceTransformer$1.VoiceFocusDeviceTransformer=void 0;const voicefocus_1=voicefocus,Utils_1=Utils$1,Versioning_1=__importDefault(Versioning$1),LoggerAdapter_1=__importDefault(LoggerAdapter$1),VoiceFocusTransformDevice_1=__importDefault(VoiceFocusTransformDevice$1),VoiceFocusTransformDeviceDelegate_1=__importDefault(VoiceFocusTransformDeviceDelegate$1);class VoiceFocusDeviceTransformer{constructor(ns,{preload:rs=!0,logger:is,fetchBehavior:os=VoiceFocusDeviceTransformer.defaultFetchBehavior()},ss){this.spec=ns,this.supported=!0,this.logger=is,this.vfLogger=is?new LoggerAdapter_1.default(is):void 0,this.preload=rs,this.fetchBehavior=os,this.spec=VoiceFocusDeviceTransformer.augmentSpec(this.spec),ss&&(this.configuration=Promise.resolve(ss))}static isSupported(ns,rs){var is,os;const ss=VoiceFocusDeviceTransformer.defaultFetchBehavior(),as=rs!=null&&rs.logger?new LoggerAdapter_1.default(rs.logger):void 0,ls={fetchBehavior:ss,logger:as};if(Utils_1.isIFramed()){if((rs==null?void 0:rs.allowIFrame)===!1)return(is=rs==null?void 0:rs.logger)===null||is===void 0||is.error("Amazon Voice Focus support check inside iframe: not supported."),Promise.resolve(!1);(os=rs==null?void 0:rs.logger)===null||os===void 0||os.warn("Amazon Voice Focus support check inside iframe: not recommended.")}return voicefocus_1.VoiceFocus.isSupported(VoiceFocusDeviceTransformer.augmentSpec(ns),ls)}static create(ns={},rs={},is,os,ss){var as,ls,cs;return __awaiter$1(this,void 0,void 0,function*(){os&&os.Meeting.Meeting&&(os=os.Meeting);const us=((cs=(ls=(as=os==null?void 0:os.Meeting)===null||as===void 0?void 0:as.MeetingFeatures)===null||ls===void 0?void 0:ls.Audio)===null||cs===void 0?void 0:cs.EchoReduction)==="AVAILABLE",ds=is&&is.supported===!0&&is.model.name==="ns_es"&&!us,ps=ns.name==="ns_es"&&!us;if(ds||ps)throw new Error("Echo Reduction requested but not enabled.");const hs=new VoiceFocusDeviceTransformer(ns,rs,is);return yield hs.init(),hs})}static configure(ns={},rs={}){return __awaiter$1(this,void 0,void 0,function*(){return new VoiceFocusDeviceTransformer(ns,rs,void 0).configure(!0)})}getConfiguration(){return this.configuration}isSupported(){return this.supported}createTransformDevice(ns,rs){return __awaiter$1(this,void 0,void 0,function*(){if(this.supported)try{const[os,ss]=yield this.allocateVoiceFocus(!0),as=Object.assign(Object.assign({},rs),{es:this.spec.name==="ns_es"});return new VoiceFocusTransformDevice_1.default(ns,os,ss,as)}catch{return}})}static destroyVoiceFocus(ns){var rs;return __awaiter$1(this,void 0,void 0,function*(){(rs=ns==null?void 0:ns.vf)===null||rs===void 0||rs.destroy()})}static augmentSpec(ns){return!ns||!ns.assetGroup&&!ns.revisionID?Object.assign(Object.assign({},ns),{assetGroup:VoiceFocusDeviceTransformer.currentSDKAssetGroup()}):ns}configure(ns=!1){return __awaiter$1(this,void 0,void 0,function*(){const rs={fetchBehavior:this.fetchBehavior,preResolve:ns,logger:this.vfLogger};return voicefocus_1.VoiceFocus.configure(this.spec,rs)})}init(){var ns;return __awaiter$1(this,void 0,void 0,function*(){this.configuration||(this.configuration=this.configure());const rs=yield this.configuration;if(!rs.supported){this.supported=!1;return}this.pendingVoiceFocus=this.createVoiceFocus(rs,this.preload);try{yield this.pendingVoiceFocus}catch(is){(ns=this.logger)===null||ns===void 0||ns.error("Unable to initialize Amazon Voice Focus: ".concat(is)),this.supported=!1}})}createVoiceFocus(ns,rs){return __awaiter$1(this,void 0,void 0,function*(){const is=new VoiceFocusTransformDeviceDelegate_1.default;return this.vf=yield voicefocus_1.VoiceFocus.init(ns,{delegate:is,preload:rs,logger:this.vfLogger}),[this.vf,is]})}allocateVoiceFocus(ns){return __awaiter$1(this,void 0,void 0,function*(){if(!this.supported)throw new Error("Not supported.");if(this.pendingVoiceFocus){const rs=this.pendingVoiceFocus;return this.pendingVoiceFocus=void 0,rs}return this.createVoiceFocus(yield this.configuration,ns)})}static majorVersion(){return Versioning_1.default.sdkVersion.match(/^[1-9][0-9]*\.(?:0|[1-9][0-9]*)/)[0]}static majorMinorVersion(){return Versioning_1.default.sdkVersion.match(/^[1-9][0-9]*\.(?:0|(?:[1-9][0-9]*))\.(?:0|[1-9][0-9]*)/)[0]}static currentSDKAssetGroup(){const ns=this.majorVersion();return ns?"sdk-".concat(ns):"stable-v1"}static defaultFetchBehavior(){const ns=VoiceFocusDeviceTransformer.majorMinorVersion()||"unknown",rs=Versioning_1.default.sdkUserAgentLowResolution;return{escapedQueryString:"sdk=".concat(encodeURIComponent(ns),"&ua=").concat(encodeURIComponent(rs))}}}VoiceFocusDeviceTransformer$1.VoiceFocusDeviceTransformer=VoiceFocusDeviceTransformer;VoiceFocusDeviceTransformer$1.default=VoiceFocusDeviceTransformer;var hasRequiredBuild;function requireBuild(){return hasRequiredBuild||(hasRequiredBuild=1,function(ts){var ns=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(up){return up&&up.__esModule?up:{default:up}};Object.defineProperty(ts,"__esModule",{value:!0}),ts.DefaultEventController=ts.DefaultDevicePixelRatioMonitor=ts.DefaultDeviceController=ts.DefaultContentShareController=ts.DefaultBrowserBehavior=ts.DefaultAudioVideoFacade=ts.DefaultAudioVideoController=ts.DefaultAudioMixController=ts.DefaultActiveSpeakerPolicy=ts.DefaultActiveSpeakerDetector=ts.DataMessage=ts.CreateSDPTask=ts.CreatePeerConnectionTask=ts.ContentShareMediaStreamBroker=ts.ContentShareConstants=ts.ConsoleLogger=ts.ConnectionHealthPolicyConfiguration=ts.ConnectionHealthData=ts.ClientVideoStreamReceivingReport=ts.ClientMetricReportMediaType=ts.ClientMetricReportDirection=ts.ClientMetricReport=ts.CleanStoppedSessionTask=ts.CleanRestartedSessionTask=ts.CheckVideoInputFeedback=ts.CheckVideoConnectivityFeedback=ts.CheckNetworkUDPConnectivityFeedback=ts.CheckNetworkTCPConnectivityFeedback=ts.CheckContentShareConnectivityFeedback=ts.CheckCameraResolutionFeedback=ts.CheckAudioOutputFeedback=ts.CheckAudioInputFeedback=ts.CheckAudioConnectivityFeedback=ts.CanvasVideoFrameBuffer=ts.CSPMonitor=ts.BitrateParameters=ts.BaseTask=ts.BaseConnectionHealthPolicy=ts.BackgroundReplacementVideoFrameProcessor=ts.BackgroundFilterVideoFrameProcessor=ts.BackgroundBlurVideoFrameProcessor=ts.BackgroundBlurStrength=ts.AudioVideoControllerState=ts.AudioProfile=ts.AudioLogEvent=ts.Attendee=ts.AttachMediaInputTask=ts.AsyncScheduler=ts.ApplicationMetadata=ts.AllHighestVideoBandwidthPolicy=void 0,ts.MeetingReadinessCheckerConfiguration=ts.MeetingFeatures=ts.MeetingEventsClientConfiguration=ts.MediaDeviceProxyHandler=ts.Maybe=ts.LogLevel=ts.Log=ts.ListenForVolumeIndicatorsTask=ts.LeaveAndReceiveLeaveAckTask=ts.JoinAndReceiveIndexTask=ts.IntervalScheduler=ts.InMemoryJSONEventBuffer=ts.GlobalMetricReport=ts.GetUserMediaError=ts.FullJitterLimitedBackoff=ts.FullJitterBackoffFactory=ts.FullJitterBackoff=ts.FinishGatheringICECandidatesTask=ts.EventIngestionConfiguration=ts.EventBufferConfiguration=ts.DeviceSelection=ts.DevicePixelRatioWindowSource=ts.DefaultWebSocketAdapter=ts.DefaultVolumeIndicatorAdapter=ts.DefaultVideoTransformDevice=ts.DefaultVideoTileFactory=ts.DefaultVideoTileController=ts.DefaultVideoTile=ts.DefaultVideoStreamIndex=ts.DefaultVideoStreamIdSet=ts.DefaultVideoFrameProcessorTimer=ts.DefaultVideoFrameProcessorPipeline=ts.DefaultVideoCaptureAndEncodeParameter=ts.DefaultUserAgentParser=ts.DefaultTranscriptionController=ts.DefaultTransceiverController=ts.DefaultSimulcastUplinkPolicyForContentShare=ts.DefaultSimulcastUplinkPolicy=ts.DefaultSignalingClient=ts.DefaultSigV4=ts.DefaultSessionStateController=ts.DefaultReconnectController=ts.DefaultRealtimeController=ts.DefaultPingPong=ts.DefaultModality=ts.DefaultMessagingSession=ts.DefaultMeetingSession=ts.DefaultMeetingReadinessChecker=ts.DefaultMeetingEventReporter=ts.DefaultMediaDeviceFactory=void 0,ts.RedundantAudioEncoderWorkerCode=ts.RedundantAudioEncoder=ts.ReconnectionHealthPolicy=ts.ReceiveVideoStreamIndexTask=ts.ReceiveVideoInputTask=ts.ReceiveRemoteVideoPauseResumeTask=ts.ReceiveAudioInputTask=ts.RealtimeVolumeIndicator=ts.RealtimeState=ts.RealtimeAttendeePositionInFrame=ts.PromoteToPrimaryMeetingTask=ts.PromiseQueue=ts.PrefetchSortBy=ts.PrefetchOn=ts.PermissionDeniedError=ts.ParallelGroupTask=ts.POSTLogger=ts.OverconstrainedError=ts.OpenSignalingConnectionTask=ts.OnceTask=ts.NotReadableError=ts.NotFoundError=ts.None=ts.NoVideoUplinkBandwidthPolicy=ts.NoVideoDownlinkBandwidthPolicy=ts.NoOpVideoFrameProcessor=ts.NoOpVideoElementFactory=ts.NoOpTask=ts.NoOpMediaStreamBroker=ts.NoOpLogger=ts.NoOpEventReporter=ts.NoOpDeviceController=ts.NoOpDebugLogger=ts.NoOpAudioVideoController=ts.NScaleVideoUplinkBandwidthPolicy=ts.MutableVideoPreferences=ts.MultiLogger=ts.MonitorTask=ts.ModelSpecBuilder=ts.MessagingSessionConfiguration=ts.Message=ts.MeetingSessionVideoAvailability=ts.MeetingSessionURLs=ts.MeetingSessionTURNCredentials=ts.MeetingSessionStatusCode=ts.MeetingSessionStatus=ts.MeetingSessionLifecycleEventCondition=ts.MeetingSessionLifecycleEvent=ts.MeetingSessionCredentials=ts.MeetingSessionConfiguration=void 0,ts.VideoEncodingCpuConnectionHealthPolicy=ts.VideoEncodingConnectionHealthPolicyName=ts.VideoCodecCapability=ts.VideoAdaptiveProbePolicy=ts.Versioning=ts.UnusableAudioWarningConnectionHealthPolicy=ts.TypeError=ts.TranscriptionStatusType=ts.TranscriptionStatus=ts.TranscriptResult=ts.TranscriptLanguageWithScore=ts.TranscriptItemType=ts.TranscriptItem=ts.TranscriptEntity=ts.TranscriptAlternative=ts.Transcript=ts.TimeoutTask=ts.TimeoutScheduler=ts.TaskStatus=ts.TargetDisplaySize=ts.SubscribeAndReceiveSubscribeAckTask=ts.StreamMetricReport=ts.Some=ts.SingleNodeAudioTransformDevice=ts.SimulcastVideoStreamIndex=ts.SimulcastTransceiverController=ts.SimulcastLayers=ts.SimulcastContentShareTransceiverController=ts.SignalingClientVideoSubscriptionConfiguration=ts.SignalingClientSubscribe=ts.SignalingClientJoin=ts.SignalingClientEventType=ts.SignalingClientEvent=ts.SignalingClientConnectionRequest=ts.SignalingAndMetricsConnectionMonitor=ts.SetRemoteDescriptionTask=ts.SetLocalDescriptionTask=ts.SessionStateControllerTransitionResult=ts.SessionStateControllerState=ts.SessionStateControllerDeferPriority=ts.SessionStateControllerAction=ts.ServerSideNetworkAdaption=ts.SerialGroupTask=ts.SendingAudioFailureConnectionHealthPolicy=ts.SendAndReceiveDataMessagesTask=ts.SDPMediaSection=ts.SDPCandidateType=ts.SDP=ts.RunnableTask=ts.RedundantAudioRecoveryMetricReport=void 0,ts.isVideoTransformDevice=ts.isDestroyable=ts.isAudioTransformDevice=ts.ZLIBTextCompressor=ts.WebSocketReadyState=ts.WaitForAttendeePresenceTask=ts.VoiceFocusTransformDevice=ts.VoiceFocusDeviceTransformer=ts.VideoTileState=ts.VideoStreamDescription=ts.VideoSource=ts.VideoQualitySettings=ts.VideoQualityAdaptationPreference=ts.VideoPriorityBasedPolicyConfig=ts.VideoPriorityBasedPolicy=ts.VideoPreferences=ts.VideoPreference=ts.VideoOnlyTransceiverController=ts.VideoLogEvent=ts.VideoFxProcessor=ts.VideoEncodingFramerateConnectionHealthPolicy=void 0;const rs=ns(AllHighestVideoBandwidthPolicy$1);ts.AllHighestVideoBandwidthPolicy=rs.default;const is=ns(ApplicationMetadata$1);ts.ApplicationMetadata=is.default;const os=ns(AsyncScheduler$1);ts.AsyncScheduler=os.default;const ss=ns(AttachMediaInputTask$1);ts.AttachMediaInputTask=ss.default;const as=ns(Attendee$1);ts.Attendee=as.default;const ls=ns(AudioLogEvent);ts.AudioLogEvent=ls.default;const cs=ns(AudioProfile$1);ts.AudioProfile=cs.default;const us=ns(AudioVideoControllerState);ts.AudioVideoControllerState=us.default;const ds=ns(BackgroundBlurStrength);ts.BackgroundBlurStrength=ds.default;const ps=ns(BackgroundBlurVideoFrameProcessor$1);ts.BackgroundBlurVideoFrameProcessor=ps.default;const hs=ns(BackgroundFilterVideoFrameProcessor$1);ts.BackgroundFilterVideoFrameProcessor=hs.default;const ms=ns(BackgroundReplacementVideoFrameProcessor$1);ts.BackgroundReplacementVideoFrameProcessor=ms.default;const gs=ns(BaseConnectionHealthPolicy$1);ts.BaseConnectionHealthPolicy=gs.default;const ys=ns(BaseTask$1);ts.BaseTask=ys.default;const vs=ns(BitrateParameters$1);ts.BitrateParameters=vs.default;const bs=ns(CSPMonitor$1);ts.CSPMonitor=bs.default;const Ss=ns(CanvasVideoFrameBuffer$1);ts.CanvasVideoFrameBuffer=Ss.default;const $s=ns(CheckAudioConnectivityFeedback);ts.CheckAudioConnectivityFeedback=$s.default;const Cs=ns(CheckAudioInputFeedback);ts.CheckAudioInputFeedback=Cs.default;const Es=ns(CheckAudioOutputFeedback);ts.CheckAudioOutputFeedback=Es.default;const xs=ns(CheckCameraResolutionFeedback);ts.CheckCameraResolutionFeedback=xs.default;const ws=ns(CheckContentShareConnectivityFeedback);ts.CheckContentShareConnectivityFeedback=ws.default;const ks=ns(CheckNetworkTCPConnectivityFeedback);ts.CheckNetworkTCPConnectivityFeedback=ks.default;const Is=ns(CheckNetworkUDPConnectivityFeedback);ts.CheckNetworkUDPConnectivityFeedback=Is.default;const Ts=ns(CheckVideoConnectivityFeedback);ts.CheckVideoConnectivityFeedback=Ts.default;const Rs=ns(CheckVideoInputFeedback);ts.CheckVideoInputFeedback=Rs.default;const As=ns(CleanRestartedSessionTask$1);ts.CleanRestartedSessionTask=As.default;const Ms=ns(CleanStoppedSessionTask$1);ts.CleanStoppedSessionTask=Ms.default;const Ls=ns(ClientMetricReport$1);ts.ClientMetricReport=Ls.default;const Ds=ns(ClientMetricReportDirection);ts.ClientMetricReportDirection=Ds.default;const Fs=ns(ClientMetricReportMediaType);ts.ClientMetricReportMediaType=Fs.default;const Vs=ns(ClientVideoStreamReceivingReport$1);ts.ClientVideoStreamReceivingReport=Vs.default;const Bs=ns(ConnectionHealthData$1);ts.ConnectionHealthData=Bs.default;const Ws=ns(ConnectionHealthPolicyConfiguration$1);ts.ConnectionHealthPolicyConfiguration=Ws.default;const Os=ns(ConsoleLogger$1);ts.ConsoleLogger=Os.default;const Nl=ns(ContentShareConstants$1);ts.ContentShareConstants=Nl.default;const $a=ns(ContentShareMediaStreamBroker$1);ts.ContentShareMediaStreamBroker=$a.default;const Ps=ns(CreatePeerConnectionTask$1);ts.CreatePeerConnectionTask=Ps.default;const Ys=ns(CreateSDPTask$1);ts.CreateSDPTask=Ys.default;const Zs=ns(DataMessage$1);ts.DataMessage=Zs.default;const Us=ns(DefaultActiveSpeakerDetector$1);ts.DefaultActiveSpeakerDetector=Us.default;const Ol=ns(DefaultActiveSpeakerPolicy$1);ts.DefaultActiveSpeakerPolicy=Ol.default;const qs=ns(DefaultAudioMixController$1);ts.DefaultAudioMixController=qs.default;const Fl=ns(requireDefaultAudioVideoController());ts.DefaultAudioVideoController=Fl.default;const Ll=ns(DefaultAudioVideoFacade$1);ts.DefaultAudioVideoFacade=Ll.default;const $l=ns(DefaultBrowserBehavior$1);ts.DefaultBrowserBehavior=$l.default;const Cl=ns(DefaultContentShareController$1);ts.DefaultContentShareController=Cl.default;const wl=ns(DefaultDeviceController$1);ts.DefaultDeviceController=wl.default;const Tl=ns(DefaultDevicePixelRatioMonitor$1);ts.DefaultDevicePixelRatioMonitor=Tl.default;const xl=ns(DefaultEventController$1);ts.DefaultEventController=xl.default;const Al=ns(DefaultMediaDeviceFactory$1);ts.DefaultMediaDeviceFactory=Al.default;const Dl=ns(DefaultMeetingEventReporter$1);ts.DefaultMeetingEventReporter=Dl.default;const Ns=ns(DefaultMeetingReadinessChecker$1);ts.DefaultMeetingReadinessChecker=Ns.default;const Hs=ns(requireDefaultMeetingSession());ts.DefaultMeetingSession=Hs.default;const Gs=ns(DefaultMessagingSession$1);ts.DefaultMessagingSession=Gs.default;const Js=ns(DefaultModality$1);ts.DefaultModality=Js.default;const El=ns(DefaultPingPong$1);ts.DefaultPingPong=El.default;const Xs=ns(DefaultRealtimeController$1);ts.DefaultRealtimeController=Xs.default;const _l=ns(DefaultReconnectController$1);ts.DefaultReconnectController=_l.default;const Bl=ns(DefaultSessionStateController$1);ts.DefaultSessionStateController=Bl.default;const Ks=ns(DefaultSigV4$1);ts.DefaultSigV4=Ks.default;const Sl=ns(DefaultSignalingClient$1);ts.DefaultSignalingClient=Sl.default;const Il=ns(DefaultSimulcastUplinkPolicy$1);ts.DefaultSimulcastUplinkPolicy=Il.default;const Ml=ns(DefaultSimulcastUplinkPolicyForContentShare$1);ts.DefaultSimulcastUplinkPolicyForContentShare=Ml.default;const Kl=ns(DefaultTransceiverController$1);ts.DefaultTransceiverController=Kl.default;const Ql=ns(DefaultTranscriptionController);ts.DefaultTranscriptionController=Ql.default;const Yl=ns(DefaultUserAgentParser$1);ts.DefaultUserAgentParser=Yl.default;const Gl=ns(DefaultVideoCaptureAndEncodeParameter$1);ts.DefaultVideoCaptureAndEncodeParameter=Gl.default;const iu=ns(DefaultVideoFrameProcessorPipeline$1);ts.DefaultVideoFrameProcessorPipeline=iu.default;const Vl=ns(DefaultVideoFrameProcessorTimer$1);ts.DefaultVideoFrameProcessorTimer=Vl.default;const Hl=ns(DefaultVideoStreamIdSet$1);ts.DefaultVideoStreamIdSet=Hl.default;const zs=ns(DefaultVideoStreamIndex$1);ts.DefaultVideoStreamIndex=zs.default;const yl=ns(DefaultVideoTile$1);ts.DefaultVideoTile=yl.default;const Rl=ns(DefaultVideoTileController$1);ts.DefaultVideoTileController=Rl.default;const Jl=ns(DefaultVideoTileFactory$1);ts.DefaultVideoTileFactory=Jl.default;const tu=ns(DefaultVideoTransformDevice$1);ts.DefaultVideoTransformDevice=tu.default;const Xl=ns(DefaultVolumeIndicatorAdapter$1);ts.DefaultVolumeIndicatorAdapter=Xl.default;const ou=ns(DefaultWebSocketAdapter$1);ts.DefaultWebSocketAdapter=ou.default;const au=ns(DevicePixelRatioWindowSource$1);ts.DevicePixelRatioWindowSource=au.default;const fu=ns(DeviceSelection$1);ts.DeviceSelection=fu.default;const du=ns(EventBufferConfiguration$1);ts.EventBufferConfiguration=du.default;const Su=ns(EventIngestionConfiguration$1);ts.EventIngestionConfiguration=Su.default;const ku=ns(FinishGatheringICECandidatesTask$1);ts.FinishGatheringICECandidatesTask=ku.default;const Tu=ns(FullJitterBackoff$1);ts.FullJitterBackoff=Tu.default;const gu=ns(FullJitterBackoffFactory$1);ts.FullJitterBackoffFactory=gu.default;const pu=ns(FullJitterLimitedBackoff$1);ts.FullJitterLimitedBackoff=pu.default;const $u=ns(GetUserMediaError$1);ts.GetUserMediaError=$u.default;const xu=ns(GlobalMetricReport$1);ts.GlobalMetricReport=xu.default;const Ru=ns(InMemoryJSONEventBuffer$1);ts.InMemoryJSONEventBuffer=Ru.default;const Fu=ns(IntervalScheduler$1);ts.IntervalScheduler=Fu.default;const Cu=ns(JoinAndReceiveIndexTask$1);ts.JoinAndReceiveIndexTask=Cu.default;const Nu=ns(LeaveAndReceiveLeaveAckTask$1);ts.LeaveAndReceiveLeaveAckTask=Nu.default;const Lu=ns(ListenForVolumeIndicatorsTask$1);ts.ListenForVolumeIndicatorsTask=Lu.default;const Au=ns(Log$1);ts.Log=Au.default;const Mu=ns(LogLevel);ts.LogLevel=Mu.default;const Ul=ns(MediaDeviceProxyHandler$1);ts.MediaDeviceProxyHandler=Ul.default;const Pl=ns(MeetingEventsClientConfiguration$1);ts.MeetingEventsClientConfiguration=Pl.default;const eu=ns(MeetingFeatures$1);ts.MeetingFeatures=eu.default;const Zl=ns(MeetingReadinessCheckerConfiguration$1);ts.MeetingReadinessCheckerConfiguration=Zl.default;const su=ns(MeetingSessionConfiguration$1);ts.MeetingSessionConfiguration=su.default;const nu=ns(MeetingSessionCredentials$1);ts.MeetingSessionCredentials=nu.default;const lu=ns(MeetingSessionLifecycleEvent);ts.MeetingSessionLifecycleEvent=lu.default;const bu=ns(MeetingSessionLifecycleEventCondition);ts.MeetingSessionLifecycleEventCondition=bu.default;const Wu=ns(MeetingSessionStatus$1);ts.MeetingSessionStatus=Wu.default;const fp=ns(MeetingSessionStatusCode);ts.MeetingSessionStatusCode=fp.default;const pp=ns(MeetingSessionTURNCredentials$1);ts.MeetingSessionTURNCredentials=pp.default;const hp=ns(MeetingSessionURLs$1);ts.MeetingSessionURLs=hp.default;const mp=ns(MeetingSessionVideoAvailability$1);ts.MeetingSessionVideoAvailability=mp.default;const Yu=ns(Message$1);ts.Message=Yu.default;const gp=ns(MessagingSessionConfiguration$1);ts.MessagingSessionConfiguration=gp.default;const yp=ns(ModelSpecBuilder$1);ts.ModelSpecBuilder=yp.default;const Uu=ns(MonitorTask$1);ts.MonitorTask=Uu.default;const vp=ns(MultiLogger$1);ts.MultiLogger=vp.default;const bp=ns(NScaleVideoUplinkBandwidthPolicy$1);ts.NScaleVideoUplinkBandwidthPolicy=bp.default;const Sp=ns(requireNoOpAudioVideoController());ts.NoOpAudioVideoController=Sp.default;const $p=ns(NoOpDebugLogger$1);ts.NoOpDebugLogger=$p.default;const Cp=ns(NoOpDeviceController$1);ts.NoOpDeviceController=Cp.default;const Ep=ns(NoOpEventReporter$1);ts.NoOpEventReporter=Ep.default;const Zu=ns(NoOpLogger$1);ts.NoOpLogger=Zu.default;const xp=ns(NoOpMediaStreamBroker$1);ts.NoOpMediaStreamBroker=xp.default;const qu=ns(NoOpTask$1);ts.NoOpTask=qu.default;const ep=ns(NoOpVideoElementFactory$1);ts.NoOpVideoElementFactory=ep.default;const tp=ns(NoOpVideoFrameProcessor$1);ts.NoOpVideoFrameProcessor=tp.default;const wp=ns(NoVideoDownlinkBandwidthPolicy$1);ts.NoVideoDownlinkBandwidthPolicy=wp.default;const Tp=ns(NoVideoUplinkBandwidthPolicy$1);ts.NoVideoUplinkBandwidthPolicy=Tp.default;const kp=ns(NotFoundError$1);ts.NotFoundError=kp.default;const Ip=ns(NotReadableError$1);ts.NotReadableError=Ip.default;const np=ns(OnceTask$1);ts.OnceTask=np.default;const Rp=ns(OpenSignalingConnectionTask$1);ts.OpenSignalingConnectionTask=Rp.default;const Ap=ns(OverconstrainedError$1);ts.OverconstrainedError=Ap.default;const rp=ns(POSTLogger$1);ts.POSTLogger=rp.default;const Ju=ns(ParallelGroupTask$1);ts.ParallelGroupTask=Ju.default;const Gu=ns(PermissionDeniedError$1);ts.PermissionDeniedError=Gu.default;const Pp=ns(PrefetchOn$1);ts.PrefetchOn=Pp.default;const Mp=ns(PrefetchSortBy$1);ts.PrefetchSortBy=Mp.default;const ju=ns(PromiseQueue$1);ts.PromiseQueue=ju.default;const Dp=ns(requirePromoteToPrimaryMeetingTask());ts.PromoteToPrimaryMeetingTask=Dp.default;const Np=ns(RealtimeAttendeePositionInFrame$1);ts.RealtimeAttendeePositionInFrame=Np.default;const Lp=ns(RealtimeState$1);ts.RealtimeState=Lp.default;const Fp=ns(RealtimeVolumeIndicator$1);ts.RealtimeVolumeIndicator=Fp.default;const Bp=ns(ReceiveAudioInputTask$1);ts.ReceiveAudioInputTask=Bp.default;const Hu=ns(ReceiveRemoteVideoPauseResumeTask);ts.ReceiveRemoteVideoPauseResumeTask=Hu.default;const ip=ns(ReceiveVideoInputTask$1);ts.ReceiveVideoInputTask=ip.default;const Up=ns(ReceiveVideoStreamIndexTask$1);ts.ReceiveVideoStreamIndexTask=Up.default;const Xu=ns(ReconnectionHealthPolicy$1);ts.ReconnectionHealthPolicy=Xu.default;const jp=ns(RedundantAudioEncoder$1);ts.RedundantAudioEncoder=jp.default;const _f=ns(RedundantAudioEncoderWorkerCode$1);ts.RedundantAudioEncoderWorkerCode=_f.default;const Vp=ns(RedundantAudioRecoveryMetricReport$1);ts.RedundantAudioRecoveryMetricReport=Vp.default;const op=ns(RunnableTask$1);ts.RunnableTask=op.default;const sp=ns(SDP$1);ts.SDP=sp.default;const ap=ns(SDPCandidateType);ts.SDPCandidateType=ap.default;const Ku=ns(SDPMediaSection$1);ts.SDPMediaSection=Ku.default;const lp=ns(SendAndReceiveDataMessagesTask$1);ts.SendAndReceiveDataMessagesTask=lp.default;const Hp=ns(SendingAudioFailureConnectionHealthPolicy$1);ts.SendingAudioFailureConnectionHealthPolicy=Hp.default;const zp=ns(SerialGroupTask$1);ts.SerialGroupTask=zp.default;const Wp=ns(ServerSideNetworkAdaption);ts.ServerSideNetworkAdaption=Wp.default;const js=ns(SessionStateControllerAction);ts.SessionStateControllerAction=js.default;const Qs=ns(SessionStateControllerDeferPriority);ts.SessionStateControllerDeferPriority=Qs.default;const Wl=ns(SessionStateControllerState);ts.SessionStateControllerState=Wl.default;const ru=ns(SessionStateControllerTransitionResult);ts.SessionStateControllerTransitionResult=ru.default;const hu=ns(SetLocalDescriptionTask$1);ts.SetLocalDescriptionTask=hu.default;const uu=ns(SetRemoteDescriptionTask$1);ts.SetRemoteDescriptionTask=uu.default;const yu=ns(SignalingAndMetricsConnectionMonitor$1);ts.SignalingAndMetricsConnectionMonitor=yu.default;const _u=ns(SignalingClientConnectionRequest$1);ts.SignalingClientConnectionRequest=_u.default;const Eu=ns(SignalingClientEvent$1);ts.SignalingClientEvent=Eu.default;const mu=ns(SignalingClientEventType);ts.SignalingClientEventType=mu.default;const Iu=ns(SignalingClientJoin$1);ts.SignalingClientJoin=Iu.default;const Du=ns(SignalingClientSubscribe$1);ts.SignalingClientSubscribe=Du.default;const wu=ns(SignalingClientVideoSubscriptionConfiguration$1);ts.SignalingClientVideoSubscriptionConfiguration=wu.default;const Pu=ns(SimulcastContentShareTransceiverController$1);ts.SimulcastContentShareTransceiverController=Pu.default;const Ou=ns(SimulcastLayers);ts.SimulcastLayers=Ou.default;const Vu=ns(SimulcastTransceiverController$1);ts.SimulcastTransceiverController=Vu.default;const Bu=ns(SimulcastVideoStreamIndex$1);ts.SimulcastVideoStreamIndex=Bu.default;const zu=ns(SingleNodeAudioTransformDevice$1);ts.SingleNodeAudioTransformDevice=zu.default;const cp=ns(StreamMetricReport$1);ts.StreamMetricReport=cp.default;const Qu=ns(SubscribeAndReceiveSubscribeAckTask$1);ts.SubscribeAndReceiveSubscribeAckTask=Qu.default;const _d=ns(TargetDisplaySize);ts.TargetDisplaySize=_d.default;const Xy=ns(TaskStatus$1);ts.TaskStatus=Xy.default;const Qy=ns(TimeoutScheduler$1);ts.TimeoutScheduler=Qy.default;const ev=ns(TimeoutTask$1);ts.TimeoutTask=ev.default;const tv=ns(Transcript$1);ts.Transcript=tv.default;const nv=ns(TranscriptAlternative$1);ts.TranscriptAlternative=nv.default;const rv=ns(TranscriptEntity$1);ts.TranscriptEntity=rv.default;const iv=ns(TranscriptItem$1);ts.TranscriptItem=iv.default;const ov=ns(TranscriptItemType$1);ts.TranscriptItemType=ov.default;const sv=ns(TranscriptLanguageWithScore$1);ts.TranscriptLanguageWithScore=sv.default;const av=ns(TranscriptResult$1);ts.TranscriptResult=av.default;const lv=ns(TranscriptionStatus$1);ts.TranscriptionStatus=lv.default;const cv=ns(TranscriptionStatusType$1);ts.TranscriptionStatusType=cv.default;const uv=ns(_TypeError);ts.TypeError=uv.default;const dv=ns(UnusableAudioWarningConnectionHealthPolicy$1);ts.UnusableAudioWarningConnectionHealthPolicy=dv.default;const fv=ns(Versioning$1);ts.Versioning=fv.default;const pv=ns(VideoAdaptiveProbePolicy$1);ts.VideoAdaptiveProbePolicy=pv.default;const hv=ns(VideoCodecCapability$1);ts.VideoCodecCapability=hv.default;const mv=ns(VideoEncodingConnectionHealthPolicyName);ts.VideoEncodingConnectionHealthPolicyName=mv.default;const gv=ns(VideoEncodingCpuConnectionHealthPolicy$1);ts.VideoEncodingCpuConnectionHealthPolicy=gv.default;const yv=ns(VideoEncodingFramerateConnectionHealthPolicy$1);ts.VideoEncodingFramerateConnectionHealthPolicy=yv.default;const vv=ns(VideoFxProcessor$1);ts.VideoFxProcessor=vv.default;const bv=ns(VideoLogEvent);ts.VideoLogEvent=bv.default;const Sv=ns(VideoOnlyTransceiverController$1);ts.VideoOnlyTransceiverController=Sv.default;const _v=ns(VideoPreference$1);ts.VideoPreference=_v.default;const $v=ns(VideoPreferences$1);ts.VideoPreferences=$v.default;const Cv=ns(VideoPriorityBasedPolicy$1);ts.VideoPriorityBasedPolicy=Cv.default;const Ev=ns(VideoPriorityBasedPolicyConfig$1);ts.VideoPriorityBasedPolicyConfig=Ev.default;const xv=ns(VideoQualityAdaptationPreference);ts.VideoQualityAdaptationPreference=xv.default;const wv=ns(VideoQualitySettings$1);ts.VideoQualitySettings=wv.default;const Tv=ns(VideoSource$1);ts.VideoSource=Tv.default;const kv=ns(VideoStreamDescription$1);ts.VideoStreamDescription=kv.default;const Iv=ns(VideoTileState$1);ts.VideoTileState=Iv.default;const Rv=ns(VoiceFocusDeviceTransformer$1);ts.VoiceFocusDeviceTransformer=Rv.default;const Av=ns(VoiceFocusTransformDevice$1);ts.VoiceFocusTransformDevice=Av.default;const Pv=ns(WaitForAttendeePresenceTask$1);ts.WaitForAttendeePresenceTask=Pv.default;const Ov=ns(WebSocketReadyState);ts.WebSocketReadyState=Ov.default;const Mv=ns(ZLIBTextCompressor$1);ts.ZLIBTextCompressor=Mv.default;const Dv=VideoPreferences$1;Object.defineProperty(ts,"MutableVideoPreferences",{enumerable:!0,get:function(){return Dv.MutableVideoPreferences}});const Gp=Types;Object.defineProperty(ts,"Some",{enumerable:!0,get:function(){return Gp.Some}}),Object.defineProperty(ts,"None",{enumerable:!0,get:function(){return Gp.None}}),Object.defineProperty(ts,"Maybe",{enumerable:!0,get:function(){return Gp.Maybe}});const Nv=AudioTransformDevice;Object.defineProperty(ts,"isAudioTransformDevice",{enumerable:!0,get:function(){return Nv.isAudioTransformDevice}});const Lv=Destroyable;Object.defineProperty(ts,"isDestroyable",{enumerable:!0,get:function(){return Lv.isDestroyable}});const Fv=VideoTransformDevice;Object.defineProperty(ts,"isVideoTransformDevice",{enumerable:!0,get:function(){return Fv.isVideoTransformDevice}})}(build$2)),build$2}var buildExports=requireBuild(),getRandomValues,rnds8=new Uint8Array(16);function rng(){if(!getRandomValues&&(getRandomValues=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!getRandomValues))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues(rnds8)}const REGEX=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function validate(ts){return typeof ts=="string"&&REGEX.test(ts)}var byteToHex=[];for(var i=0;i<256;++i)byteToHex.push((i+256).toString(16).substr(1));function stringify(ts){var ns=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,rs=(byteToHex[ts[ns+0]]+byteToHex[ts[ns+1]]+byteToHex[ts[ns+2]]+byteToHex[ts[ns+3]]+"-"+byteToHex[ts[ns+4]]+byteToHex[ts[ns+5]]+"-"+byteToHex[ts[ns+6]]+byteToHex[ts[ns+7]]+"-"+byteToHex[ts[ns+8]]+byteToHex[ts[ns+9]]+"-"+byteToHex[ts[ns+10]]+byteToHex[ts[ns+11]]+byteToHex[ts[ns+12]]+byteToHex[ts[ns+13]]+byteToHex[ts[ns+14]]+byteToHex[ts[ns+15]]).toLowerCase();if(!validate(rs))throw TypeError("Stringified UUID is invalid");return rs}function v4(ts,ns,rs){ts=ts||{};var is=ts.random||(ts.rng||rng)();if(is[6]=is[6]&15|64,is[8]=is[8]&63|128,ns){rs=rs||0;for(var os=0;os<16;++os)ns[rs+os]=is[os];return ns}return stringify(is)}function __rest(ts,ns){var rs={};for(var is in ts)Object.prototype.hasOwnProperty.call(ts,is)&&ns.indexOf(is)<0&&(rs[is]=ts[is]);if(ts!=null&&typeof Object.getOwnPropertySymbols=="function")for(var os=0,is=Object.getOwnPropertySymbols(ts);os<is.length;os++)ns.indexOf(is[os])<0&&Object.prototype.propertyIsEnumerable.call(ts,is[os])&&(rs[is[os]]=ts[is[os]]);return rs}function __awaiter(ts,ns,rs,is){function os(ss){return ss instanceof rs?ss:new rs(function(as){as(ss)})}return new(rs||(rs=Promise))(function(ss,as){function ls(ds){try{us(is.next(ds))}catch(ps){as(ps)}}function cs(ds){try{us(is.throw(ds))}catch(ps){as(ps)}}function us(ds){ds.done?ss(ds.value):os(ds.value).then(ls,cs)}us((is=is.apply(ts,ns||[])).next())})}typeof SuppressedError=="function"&&SuppressedError;const baseStyles=({css:ts})=>ts?"@media { ".concat(ts," };"):"",baseSpacing=ts=>space(ts);var lm;styled.span(lm||(lm=zl(["\n  ","\n  display: inline-block;\n  padding: ",";\n  border-radius: 0.5rem;\n  line-height: ",";\n  color: ",";\n  font-size: 0.65rem;\n  background-color: ",";\n\n  ",";\n  ","\n"])),ts=>{if(typeof ts.value=="object"){const ns=ts.value,rs=ns.props&&ns.props.width||"1rem";return"width: ".concat(rs,";")}return null},ts=>typeof ts.value=="object"?"0":"0.1rem 0.4rem 0.125rem",ts=>typeof ts.value=="object"?"1":"1.43",ts=>ts.theme.colors.greys.white,ts=>ts.status==="alert"?ts.theme.colors.error.primary:ts.theme.colors.greys.grey60,baseSpacing,baseStyles);var cm;const visuallyHidden=Ae(cm||(cm=zl(["\n  clip: rect(1px, 1px, 1px, 1px);\n  height: 1px;\n  width: 1px;\n  overflow: hidden;\n  position: absolute !important;\n"])));var um;const ellipsis=Ae(um||(um=zl(["\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n"])));var dm;const absoluteCenter=Ae(dm||(dm=zl(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n"]))),isValidCSSHex=ts=>/^#[0-9A-F]{6}$/i.test(ts),hexTorgba=(ts,ns=1)=>{var rs;if(!isValidCSSHex(ts))return"";const[is,os,ss]=(rs=ts.match(/\w\w/g))===null||rs===void 0?void 0:rs.map(as=>parseInt(as,16));return"rgba(".concat(is,", ").concat(os,", ").concat(ss,", ").concat(ns||1,")")};var fm;const StyledButton=styled.button(fm||(fm=zl(["\n  border-radius: ",";\n  font-size: ",";\n  padding: 0.5rem 1rem;\n  border-color: transparent;\n  transition: background-color 0.1s ease;\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n\n  &:hover {\n    cursor: pointer;\n  }\n\n  &:focus {\n    outline: none;\n  }\n\n  .ch-icon {\n    width: ",";\n    height: ",";\n    margin-right: 0.25rem;\n  }\n\n  /* variant styles */\n  ","\n  ","\n  ","\n\n  ","\n  ","\n"])),ts=>ts.theme.radii.default,ts=>ts.theme.fontSizes.text.fontSize,ts=>ts.theme.iconButtonSizes[ts.iconSize||"sm"],ts=>ts.theme.iconButtonSizes[ts.iconSize||"sm"],ts=>ts.variant==="primary"&&StyledPrimaryButton,ts=>ts.variant==="secondary"&&StyledSecondaryButton,ts=>ts.variant==="icon"&&StyledIconButton,baseSpacing,baseStyles);var pm;const StyledPrimaryButton=Ae(pm||(pm=zl(["\n  background-color: ",";\n  color: ",";\n  border: ",";\n  box-shadow: ",";\n\n  &:focus {\n    background-color: ",";\n    border: ",";\n    color: ",";\n    box-shadow: ",";\n  }\n\n  &:hover {\n    background-color: ",";\n    border: ",";\n    color: ",";\n    box-shadow: ",";\n  }\n\n  &:focus:hover {\n    box-shadow: ",";\n  }\n\n  &:active {\n    background-color: ",";\n    border: ",";\n    color: ",";\n    box-shadow: ",";\n  }\n\n  &:disabled {\n    background-color: ",";\n    border: ",";\n    color: ",";\n    cursor: not-allowed;\n  }\n"])),ts=>ts.selected?ts.theme.buttons.primary.selected.bgd:ts.theme.buttons.primary.static.bgd,ts=>ts.selected?ts.theme.buttons.primary.selected.text:ts.theme.buttons.primary.static.text,ts=>ts.selected?ts.theme.buttons.primary.selected.border:ts.theme.buttons.primary.static.border,ts=>ts.theme.buttons.primary.static.shadow,ts=>ts.theme.buttons.primary.focus.bgd,ts=>ts.theme.buttons.primary.focus.border,ts=>ts.theme.buttons.primary.focus.text,ts=>ts.theme.buttons.primary.focus.shadow,ts=>ts.theme.buttons.primary.hover.bgd,ts=>ts.theme.buttons.primary.hover.border,ts=>ts.theme.buttons.primary.hover.text,ts=>ts.theme.buttons.primary.hover.shadow,ts=>ts.theme.buttons.primary.focus.shadow,ts=>ts.theme.buttons.primary.active.bgd,ts=>ts.theme.buttons.primary.active.border,ts=>ts.theme.buttons.primary.active.text,ts=>ts.theme.buttons.primary.active.shadow,ts=>ts.theme.buttons.primary.disabled.bgd,ts=>ts.theme.buttons.primary.disabled.border,ts=>ts.theme.buttons.primary.disabled.text);var hm;const StyledSecondaryButton=Ae(hm||(hm=zl(["\n  background-color: ",";\n  color: ",";\n  border: ",";\n  box-shadow: ",";\n\n  &:focus {\n    background-color: ",";\n    border: ",";\n    color: ",";\n    box-shadow: ",";\n  }\n\n  &:hover {\n    background-color: ",";\n    border: ",";\n    color: ",";\n    box-shadow: ",";\n  }\n\n  &:focus:hover {\n    box-shadow: ",";\n  }\n\n  &:active {\n    background-color: ",";\n    border: ",";\n    color: ",";\n    box-shadow: ",";\n  }\n\n  &:disabled {\n    background-color: ",";\n    border: ",";\n    color: ",";\n    cursor: not-allowed;\n  }\n"])),ts=>ts.selected?ts.theme.buttons.secondary.selected.bgd:ts.theme.buttons.secondary.static.bgd,ts=>ts.selected?ts.theme.buttons.secondary.selected.text:ts.theme.buttons.secondary.static.text,ts=>ts.selected?ts.theme.buttons.secondary.selected.border:ts.theme.buttons.secondary.static.border,ts=>ts.theme.buttons.secondary.shadow,ts=>ts.theme.buttons.secondary.focus.bgd,ts=>ts.theme.buttons.secondary.focus.border,ts=>ts.theme.buttons.secondary.focus.text,ts=>ts.theme.buttons.secondary.focus.shadow,ts=>ts.theme.buttons.secondary.hover.bgd,ts=>ts.theme.buttons.secondary.hover.border,ts=>ts.theme.buttons.secondary.hover.text,ts=>ts.theme.buttons.secondary.hover.shadow,ts=>ts.theme.buttons.secondary.focus.shadow,ts=>ts.theme.buttons.secondary.active.bgd,ts=>ts.theme.buttons.secondary.active.border,ts=>ts.theme.buttons.secondary.active.text,ts=>ts.theme.buttons.secondary.focus.shadow,ts=>ts.theme.buttons.secondary.disabled.bgd,ts=>ts.theme.buttons.secondary.disabled.border,ts=>ts.theme.buttons.secondary.disabled.text);var mm,gm,ym;const badgeLayout={sm:Ae(mm||(mm=zl(["\n    top: -15%;\n    left: 76%;\n  "]))),md:Ae(gm||(gm=zl(["\n    top: 4%;\n    left: 76%;\n  "]))),lg:Ae(ym||(ym=zl(["\n    top: 10%;\n    left: 76%;\n  "])))};var vm;const StyledIconButton=Ae(vm||(vm=zl(["\n  background-color: ",";\n  color: ",";\n  border: ",";\n  border-radius: ",";\n  padding: 0.1875rem;\n  position: relative;\n\n  > .ch-label {\n    ",";\n  }\n\n  > .ch-icon {\n    width: ",";\n    height: ",";\n    margin: 0;\n  }\n\n  &:focus {\n    background-color: ",";\n    border: ",";\n    color: ",";\n    color: ",";\n    box-shadow: ",";\n  }\n\n  &:hover {\n    background-color: ",";\n    border: ",";\n    color: ",";\n  }\n\n  &:active {\n    background-color: ",";\n    border: ",";\n    color: ",";\n  }\n\n  &:disabled {\n    background-color: ",";\n    border: ",";\n    color: ",";\n    cursor: not-allowed;\n  }\n\n  + * {\n    position: absolute;\n    font-size: 0.55rem;\n    z-index: 1;\n    ","\n  }\n"])),ts=>ts.selected?ts.theme.buttons.icon.selected.bgd:ts.theme.buttons.icon.static.bgd,ts=>ts.selected?ts.theme.buttons.icon.selected.text:ts.theme.buttons.icon.static.text,ts=>ts.selected?ts.theme.buttons.icon.selected.border:ts.theme.buttons.icon.static.border,ts=>ts.theme.radii.circle,visuallyHidden,ts=>ts.theme.iconButtonSizes[ts.iconSize||"sm"],ts=>ts.theme.iconButtonSizes[ts.iconSize||"sm"],({theme:ts,selected:ns})=>ns?ts.buttons.icon.selected.bgd:ts.buttons.icon.static.bgd,ts=>ts.theme.buttons.icon.focus.border,ts=>ts.theme.buttons.icon.focus.text,({theme:ts,selected:ns})=>ns?ts.buttons.icon.selected.text:ts.buttons.icon.static.text,ts=>ts.theme.buttons.icon.focus.shadow,ts=>ts.theme.buttons.icon.hover.bgd,ts=>ts.theme.buttons.icon.hover.border,ts=>ts.theme.buttons.icon.hover.text,ts=>ts.theme.buttons.icon.active.bgd,ts=>ts.theme.buttons.icon.active.border,ts=>ts.theme.buttons.icon.active.text,ts=>ts.theme.buttons.icon.disabled.bgd,ts=>ts.theme.buttons.icon.disabled.border,ts=>ts.theme.buttons.icon.disabled.text,({iconSize:ts})=>ts?badgeLayout[ts]:badgeLayout.sm);var bm;const StyledIconButtonWrapper=styled.span(bm||(bm=zl(["\n  display: inline-block;\n  position: relative;\n"]))),Button=reactExports.forwardRef((ts,ns)=>React$1.createElement(StyledButton,Object.assign({},ts,{className:ts.className||"",as:ts.tag,ref:ns,"aria-label":ts.label,"data-testid":"button",disabled:ts.disabled}),ts.icon&&React$1.createElement("span",{className:"ch-icon","data-testid":"button-icon"},ts.icon),React$1.createElement("span",{className:"ch-label","data-testid":"button-label"},ts.label)));reactExports.forwardRef((ts,ns)=>React$1.createElement(Button,Object.assign({variant:"primary"},ts)));const SecondaryButton=reactExports.forwardRef((ts,ns)=>React$1.createElement(Button,Object.assign({variant:"secondary"},ts))),IconButton=reactExports.forwardRef((ts,ns)=>React$1.createElement(StyledIconButtonWrapper,null,React$1.createElement(Button,Object.assign({ref:ns,variant:"icon"},ts)),ts.badge)),Svg=ts=>{var{className:ns,children:rs,viewBox:is="0 0 24 24",xmlns:os="http://www.w3.org/2000/svg",width:ss,height:as,title:ls}=ts,cs=__rest(ts,["className","children","viewBox","xmlns","width","height","title"]);const us={width:ss,height:as};return React$1.createElement("svg",Object.assign({xmlns:os,className:"Svg ".concat(ns||""),height:as,style:us,viewBox:is,width:ss},cs),ls&&React$1.createElement("title",null,ls),React$1.createElement("g",{fillRule:"evenodd",fill:"currentColor"},rs))},dirTransform$1={up:"0",right:"90",down:"180",left:"270"};var Sm;styled(Svg)(Sm||(Sm=zl(["\n  transform: ",";\n"])),({direction:ts})=>"rotate(".concat(dirTransform$1[ts||"up"],"deg)"));const dirTransform={up:"0",right:"90",down:"180",left:"270"};var _m;styled(Svg)(_m||(_m=zl(["\n  transform: ",";\n"])),({direction:ts})=>"rotate(".concat(dirTransform[ts||"up"],"deg)"));var $m;const defaultStyle=Ae($m||($m=zl(["\n  .ch-caution-background {\n    fill: transparent;\n  }\n"])));var Cm;const warningStyle=Ae(Cm||(Cm=zl(["\n  .ch-caution-background {\n    fill: ",";\n  }\n\n  .ch-caution-exclamation {\n    fill: ",";\n  }\n\n  .ch-caution-border {\n    fill: ",";\n  }\n"])),ts=>ts.theme.colors.warning.primary,ts=>ts.theme.colors.greys.white,ts=>ts.theme.colors.warning.primary);var Em;const errorStyle=Ae(Em||(Em=zl(["\n  .ch-caution-background {\n    fill: ",";\n  }\n\n  .ch-caution-exclamation {\n    fill: ",";\n  }\n\n  .ch-caution-border {\n    fill: ",";\n  }\n"])),ts=>ts.theme.colors.error.primary,ts=>ts.theme.colors.greys.white,ts=>ts.theme.colors.error.primary),variantMap={default:defaultStyle,"fill-warning":warningStyle,"fill-error":errorStyle};var xm;const StyledCaution=styled.g(xm||(xm=zl(["\n  ",";\n"])),ts=>variantMap[ts.variant||"default"]),Caution=ts=>React$1.createElement(Svg,Object.assign({},ts),React$1.createElement(StyledCaution,{fill:"currentColor",variant:ts.variant},React$1.createElement("path",{className:"ch-caution-background",d:"M18.728 15.186l-5.085-8.281C13.293 6.338 12.68 6 12 6c-.68 0-1.294.338-1.642.905l-5.085 8.281c-.351.571-.365 1.258-.04 1.841.336.6.98.972 1.68.972h10.17c.704 0 1.348-.372 1.683-.972.326-.583.312-1.27-.04-1.841"}),React$1.createElement("path",{className:"ch-caution-exclamation",d:"M12.572 14.609v1.219h-1.166v-1.219h1.166zm.023-5.388v1.83l-.288 2.727h-.597l-.305-2.727V9.22h1.19z"}),React$1.createElement("path",{className:"ch-caution-border",d:"M17.894 16.539c-.161.288-.463.46-.81.46H6.915c-.343 0-.645-.172-.806-.46-.15-.266-.143-.568.017-.829l5.085-8.281c.33-.536 1.25-.538 1.58 0l5.086 8.281c.16.261.167.563.018.829m.834-1.353l-5.085-8.281C13.293 6.338 12.68 6 12 6c-.68 0-1.294.338-1.642.905l-5.085 8.281c-.351.571-.365 1.258-.04 1.841.336.6.98.972 1.68.972h10.17c.704 0 1.348-.372 1.683-.972.326-.583.312-1.27-.04-1.841"})));Caution.displayName="Caution";const CheckRound=ts=>React$1.createElement(Svg,Object.assign({},ts),React$1.createElement("path",{d:"M12 4c4.411 0 8 3.589 8 8s-3.589 8-8 8-8-3.589-8-8 3.589-8 8-8zm0 1c-3.86 0-7 3.141-7 7s3.14 7 7 7 7-3.141 7-7-3.14-7-7-7zm3.493 4.873c.211-.179.526-.15.705.061.177.211.15.527-.061.705l-4.476 3.764-.003.002v.001c-.029.024-.061.035-.091.051-.02.011-.039.027-.061.035-.054.019-.11.028-.166.028-.072 0-.143-.015-.209-.045-.016-.007-.027-.023-.042-.032-.047-.028-.095-.056-.132-.1l-.001-.002-.003-.004-1.84-2.246c-.175-.213-.143-.529.07-.703.213-.177.529-.145.704.07l1.518 1.853z"}));CheckRound.displayName="CheckRound";const Clear=ts=>React$1.createElement(Svg,Object.assign({},ts,{title:"Clear"}),React$1.createElement("path",{d:"M12 5c3.866 0 7 3.134 7 7s-3.134 7-7 7-7-3.134-7-7 3.134-7 7-7zM9.172 9.17c-.196.196-.196.513 0 .708L11.293 12l-2.12 2.12c-.197.197-.197.513 0 .708.096.098.224.147.352.147.128 0 .256-.05.354-.147L12 12.707l2.121 2.12c.098.099.226.148.353.148.128 0 .256-.05.354-.147.195-.195.195-.511 0-.707L12.708 12l2.12-2.122c.195-.195.195-.512 0-.707-.195-.195-.512-.195-.707 0l-2.12 2.12-2.122-2.12c-.196-.195-.512-.195-.707 0z"}));Clear.displayName="Clear";const Clock=ts=>React$1.createElement(Svg,Object.assign({},ts),React$1.createElement("path",{d:"M12 4c4.411 0 8 3.589 8 8s-3.589 8-8 8-8-3.589-8-8 3.589-8 8-8zm0 1c-3.859 0-7 3.141-7 7s3.141 7 7 7 7-3.141 7-7-3.141-7-7-7zm0 2.559c.276 0 .5.223.5.5V11.5h3c.276 0 .5.224.5.5s-.224.5-.5.5H12c-.276 0-.5-.224-.5-.5V8.059c0-.277.224-.5.5-.5z"}));Clock.displayName="Clock";const Dots=ts=>React$1.createElement(Svg,Object.assign({},ts),React$1.createElement("path",{d:"M12 4c4.418 0 8 3.582 8 8s-3.582 8-8 8-8-3.582-8-8 3.582-8 8-8zm0 1c-3.86 0-7 3.14-7 7 0 3.859 3.14 7 7 7 3.859 0 7-3.141 7-7 0-3.86-3.141-7-7-7zm-3 6c.552 0 1 .448 1 1s-.448 1-1 1-1-.448-1-1 .448-1 1-1zm6 0c.553 0 1 .448 1 1s-.447 1-1 1c-.553 0-1-.448-1-1s.447-1 1-1zm-3 0c.552 0 1 .448 1 1s-.448 1-1 1-1-.448-1-1 .448-1 1-1z"}));Dots.displayName="Dots";var wm;styled.circle(wm||(wm=zl(["\n  fill: ",";\n"])),ts=>ts.theme.colors.primary.main);const Information=ts=>React$1.createElement(Svg,Object.assign({},ts),React$1.createElement("path",{d:"M12 4c4.411 0 8 3.589 8 8s-3.589 8-8 8-8-3.589-8-8 3.589-8 8-8zm0 1c-3.859 0-7 3.141-7 7s3.141 7 7 7 7-3.141 7-7-3.141-7-7-7zm.016 6.476c.276 0 .5.224.5.5v2.498c0 .276-.224.5-.5.5s-.5-.224-.5-.5v-2.498c0-.276.224-.5.5-.5zM12 8.709c.414 0 .75.335.75.75 0 .414-.336.75-.75.75s-.75-.336-.75-.75c0-.415.336-.75.75-.75z"}));Information.displayName="Information";const SvgWithoutMicrophoneProps=ts=>{var ns=__rest(ts,["poorConnection","muted"]);return React$1.createElement(Svg,Object.assign({},ns))};var Tm;const StyledSvg=styled(SvgWithoutMicrophoneProps)(Tm||(Tm=zl(["\n  ","\n"])),ts=>ts.poorConnection?"color: ".concat(ts.theme.colors.error.light):"");function getPath(ts,ns){return ts?ns?"M4.146 4.146c.196-.195.513-.195.708 0L9.168 8.46h.018l.813.815v.018l5.854 5.854c.002-.005.005-.008.008-.01l.724.724-.008.01 3.276 3.275c.195.195.195.512 0 .707-.098.098-.226.147-.354.147-.127 0-.255-.049-.352-.146l-3.281-3.281C14.82 17.459 13.475 18 11.998 18c-3.308 0-6-2.691-6-6 0-.277.224-.5.5-.5.278 0 .5.223.5.5 0 2.757 2.244 5 5 5 1.2 0 2.29-.436 3.147-1.146l-1.439-1.438c-.14.105-.287.207-.445.285l-.447-.895c.062-.03.116-.073.174-.11l-2.99-2.989v.941H9v-1.063h.88L4.147 4.853c-.196-.194-.196-.511 0-.707zM14.5 19c.276 0 .5.224.5.5s-.224.5-.5.5h-5c-.276 0-.5-.224-.5-.5s.224-.5.5-.5zm3-7.5c.276 0 .5.224.5.5 0 1.106-.307 2.14-.83 3.031l-.748-.748c.357-.687.578-1.456.578-2.283 0-.276.224-.5.5-.5zm-6.293 2.317c.25.121.517.183.793.183l.016 1.001-.098-.008c-.359-.012-.76-.089-1.147-.275zm-1.085-1.278c.093.282.234.536.42.757l-.766.644c-.267-.319-.47-.685-.603-1.089zM15 11.618v.155c0 .325-.051.643-.139.95l-.867-.868c.001-.027.006-.055.006-.082v-.155h1zm0-2.126v1.062h-1V9.492h1zm0-2.125v1.062h-1V7.367h1zM9.155 6.201l.955.297c-.073.235-.11.48-.11.73v.17h-.463l-.512-.512c.024-.232.061-.463.13-.685zm5.079-1.128c.268.321.469.689.599 1.093l-.951.307c-.091-.283-.231-.537-.415-.759zm-3.514-.765l.453.891c-.246.126-.474.312-.656.535l-.776-.63c.274-.338.603-.604.979-.796zM12 4c.434 0 .853.098 1.245.29l-.44.897C12.553 5.064 12.282 5 12 5l-.031-1z":"M14.5 19c.276 0 .5.224.5.5s-.224.5-.5.5h-5c-.276 0-.5-.224-.5-.5s.224-.5.5-.5zM4.146 4.146c.196-.195.512-.195.708 0l15 15c.195.196.195.512 0 .708-.098.097-.226.146-.354.146-.128 0-.256-.049-.354-.146l-3.282-3.283C14.819 17.458 13.475 18 12 18c-3.309 0-6-2.691-6-6 0-.276.224-.5.5-.5s.5.224.5.5c0 2.757 2.243 5 5 5 1.199 0 2.288-.437 3.146-1.146l-1.452-1.453c-.483.366-1.058.599-1.694.599-1.654 0-3-1.448-3-3.228V9.707L4.146 4.854c-.195-.196-.195-.512 0-.708zM17.5 11.5c.276 0 .5.224.5.5 0 1.112-.31 2.152-.84 3.046l-.747-.746c.362-.693.587-1.467.587-2.3 0-.276.224-.5.5-.5zm-7.5-.793v1.065c0 1.229.897 2.228 2 2.228.362 0 .7-.111.992-.301L10 10.707zm2-6.708c1.654 0 3 1.45 3 3.228v4.546c0 .337-.062.655-.151.962l-.859-.858.01-.104V7.228C14 5.998 13.103 5 12 5s-2 .998-2 2.228v.658l-.971-.97C9.178 5.284 10.445 3.998 12 3.998z":ns?"M14.5 19c.276 0 .5.224.5.5s-.224.5-.5.5h-5c-.276 0-.5-.224-.5-.5s.224-.5.5-.5h5zm3-7.5c.276 0 .5.224.5.5 0 3.309-2.691 6-6 6s-6-2.691-6-6c0-.276.224-.5.5-.5s.5.224.5.5c0 2.757 2.243 5 5 5s5-2.243 5-5c0-.276.224-.5.5-.5zm-6.293 2.318c.25.12.517.183.793.183l.013.958v-.46l.085.492H12.014c-.486-.002-.876-.096-1.242-.274l.435-.9zm2.268-.543l.77.637c-.275.335-.606.6-.983.79l-.447-.896c.25-.125.473-.303.66-.53zm-3.353-.736c.093.283.235.537.42.757l-.765.645c-.268-.32-.472-.687-.604-1.09l.949-.312zM15 11.619v.155c0 .359-.053.71-.16 1.043l-.953-.305c.075-.233.113-.482.113-.738v-.155h1zm-5-1.033v1.063H9v-1.063h1zm5-1.093v1.063h-1V9.492h1zm-5-1.03v1.062H9V8.46h1zm5-1.095V8.43h-1V7.367h1zM9.156 6.2l.955.3c-.074.232-.111.478-.111.728v.17H9v-.17c0-.351.053-.696.156-1.027zm5.08-1.127c.267.32.468.688.598 1.093l-.951.306c-.091-.282-.23-.537-.415-.759l.768-.64zm-3.516-.766l.453.891c-.246.126-.473.311-.656.535l-.775-.63c.273-.337.602-.603.978-.795zM12 4c.433 0 .852.098 1.245.29l-.44.899C12.55 5.064 12.28 5 12 5l-.031-1h.03z":"M14.5 19c.276 0 .5.224.5.5s-.224.5-.5.5h-5c-.276 0-.5-.224-.5-.5s.224-.5.5-.5zm3-7.5c.276 0 .5.224.5.5 0 3.309-2.691 6-6 6s-6-2.691-6-6c0-.276.224-.5.5-.5s.5.224.5.5c0 2.757 2.243 5 5 5s5-2.243 5-5c0-.276.224-.5.5-.5zM12 4c1.654 0 3 1.448 3 3.227v4.546C15 13.552 13.654 15 12 15s-3-1.448-3-3.227V7.227C9 5.447 10.346 4 12 4zm0 1c-1.103 0-2 .999-2 2.227v4.546C10 13 10.897 14 12 14s2-1 2-2.227V7.227C14 5.999 13.103 5 12 5z"}const Microphone=ts=>{var{muted:ns=!1,poorConnection:rs=!1,mutedTitle:is="Muted microphone",unmutedTitle:os="Microphone"}=ts,ss=__rest(ts,["muted","poorConnection","mutedTitle","unmutedTitle"]);const as=getPath(ns,rs);return React$1.createElement(StyledSvg,Object.assign({},ss,{muted:ns,poorConnection:rs,title:ns?is:os,"data-testid":rs?"poor-connection-mic":"good-connection-mic"}),React$1.createElement("path",{d:as}))};Microphone.displayName="Microphone";const Search=ts=>React$1.createElement(Svg,Object.assign({},ts),React$1.createElement("path",{d:"M11 16c-2.757 0-5-2.243-5-5s2.243-5 5-5 5 2.243 5 5-2.243 5-5 5m7.852 2.145l-3.294-3.253C16.455 13.843 17 12.485 17 11c0-3.309-2.691-6-6-6s-6 2.691-6 6 2.691 6 6 6c1.464 0 2.807-.528 3.849-1.403l3.299 3.258c.098.097.225.145.352.145.129 0 .258-.05.355-.148.195-.197.193-.514-.003-.707"}));Search.displayName="Search";const UpAndDownCaret=ts=>React$1.createElement(Svg,Object.assign({},ts),React$1.createElement("path",{d:"M8.824 9.88c-.21.18-.526.154-.705-.056-.159-.187-.156-.457-.006-.64l.063-.065 3.523-3c.165-.14.397-.156.577-.05l.074.052 3.477 3c.209.18.232.497.052.706-.16.185-.428.224-.632.104l-.074-.052-3.151-2.72-3.198 2.722zM15.176 14.12c.21-.18.526-.154.705.056.159.187.157.457.006.64l-.063.065-3.523 3c-.165.14-.397.156-.577.05l-.074-.052-3.477-3c-.209-.18-.232-.497-.052-.706.16-.185.428-.224.632-.104l.074.052 3.151 2.72 3.198-2.722z"}));UpAndDownCaret.displayName="UpAndDownCaret";var km;const HiddenCheckbox=styled.input(km||(km=zl(["\n  ",";\n\n  &[aria-invalid='true'] + .ch-checkbox {\n    border: ",";\n    box-shadow: ",";\n  }\n"])),visuallyHidden,ts=>ts.theme.inputs.error.border,ts=>ts.theme.inputs.error.shadow);var Im;styled.div(Im||(Im=zl(["\n  background-color: ",";\n  border: ",";\n  border-radius: ",";\n  box-shadow: ",";\n  color: ",";\n  display: inline-block;\n  height: 1rem;\n  position: relative;\n  width: 1rem;\n  transition: box-shadow 0.05s ease-in;\n\n  > svg {\n    left: -0.03125rem;\n    position: absolute;\n    transform: scale(1.5);\n  }\n\n  ",":checked ~ & {\n    background-color: ",";\n    border: ",";\n    box-shadow: ",";\n    color: ",";\n  }\n\n  ",":focus ~ & {\n    border: ",";\n    box-shadow: ",";\n  }\n"])),ts=>ts.theme.inputs.bgd,ts=>ts.theme.inputs.border,ts=>ts.theme.radii.default,ts=>ts.theme.inputs.shadow,ts=>ts.theme.inputs.fontColor,HiddenCheckbox,ts=>ts.theme.inputs.checked.bgd,ts=>ts.theme.inputs.checked.border,ts=>ts.theme.inputs.checked.shadow,ts=>ts.theme.inputs.checked.fontColor,HiddenCheckbox,ts=>ts.theme.inputs.focus.border,ts=>ts.theme.inputs.focus.shadow);reactExports.createContext({showLabels:!1,layout:"top"});const layoutMap$2={"undocked-vertical":"flex-direction: column;","undocked-horizontal":"flex-direction: row;",top:"flex-direction: row; width: 100%; top: 0; position: fixed;",bottom:"flex-direction: row; width: 100%; bottom: 0; position: fixed;",right:"flex-direction: column; height: 100%; right: 0; position: fixed;",left:"flex-direction: column; height: 100%; left: 0; position: fixed;"},gridTemplateColumnMap={popOver:"grid-template-columns: 2.5rem minmax(0.5rem, auto);","popOver&vertical":"grid-template-columns: 1.5rem 1.5rem 1.5rem"},isVertical=ts=>ts==="right"||ts==="left"||ts==="undocked-vertical",isUndocked=ts=>ts==="undocked-vertical"||ts==="undocked-horizontal",unsetPosition={top:"unset;",bottom:"unset;",right:"unset;",left:"unset;"};var Rm;const responsiveStyles$1=ts=>Ae(Rm||(Rm=zl(["\n    "," {\n      ","\n      ",";\n      box-shadow: ",";\n      border: none;\n      height: ",";\n      width: ",";\n    }\n\n    "," {\n      justify-content: ",";\n      ","\n      ",";\n      box-shadow: ",";\n      border: none;\n    }\n  "])),({theme:ns})=>ns.mediaQueries.max.sm,unsetPosition,ns=>isVertical(ns.layout)?layoutMap$2.left:layoutMap$2.bottom,ns=>ns.theme.controlBar.shadow,ns=>isVertical(ns.layout)&&"100%",ns=>!isVertical(ns.layout)&&"100%",({theme:ns})=>ns.mediaQueries.max.xs,ns=>isVertical(ns.layout)?"center":"space-around",unsetPosition,ns=>isVertical(ns.layout)?layoutMap$2.left:layoutMap$2.bottom,({theme:ns})=>ns.controlBar.shadow);var Am;styled.div(Am||(Am=zl(["\n  display: inline-flex;\n  justify-content: center;\n  align-items: center;\n  border-radius: ",";\n  background-color: ",";\n  opacity: ",";\n  border: ",";\n  box-shadow: ",";\n  ",";\n\n  ","\n\n  width: ",";\n  height: ",";\n\n  ","\n  ","\n"])),({theme:ts,layout:ns})=>isUndocked(ns)?ts.radii.default:"0",ts=>ts.theme.controlBar.bgd,ts=>ts.theme.controlBar.opacity,({theme:ts,layout:ns})=>isUndocked(ns)?"none":ts.controlBar.border,({theme:ts,layout:ns})=>isUndocked(ns)?ts.controlBar.shadow:"none",({layout:ts})=>layoutMap$2["".concat(ts)],ts=>ts.responsive&&responsiveStyles$1(),({layout:ts})=>isVertical(ts)&&"5rem",({layout:ts})=>!isVertical(ts)&&"5rem",baseSpacing,baseStyles);var Pm;styled.div(Pm||(Pm=zl(["\n  margin: ",";\n  display: grid;\n  grid-template-rows: ",";\n  justify-items: center;\n  align-items: center;\n  ",";\n\n  > :first-child {\n    grid-column-start: ",";\n  }\n\n  .ch-control-bar-item-iconButton {\n    .ch-icon {\n      width: 1.5rem;\n      height: 1.5rem;\n      border-radius: 100%;\n    }\n  }\n\n  .ch-control-bar-item-caret {\n    width: 1.25rem;\n    height: 1.25rem;\n    padding: 0;\n\n    .ch-icon {\n      width: 100%;\n      height: 100%;\n    }\n\n    // setting this transform on the shape so we\n    // don't overwrite the rotate transform on the Caret\n    .Svg g {\n      transform: scale(1.333);\n      transform-origin: 50% 50%;\n    }\n  }\n\n  .ch-control-bar-popover {\n    background-color: inherit;\n    grid-column-start: ",";\n    color: ",";\n\n    .isOpen.ch-control-bar-item-caret {\n      color: ",";\n    }\n  }\n\n  .ch-control-bar-item-label {\n    color: ",";\n    grid-row-start: 2;\n    font-size: ","; /* TODO: get updated font size from design */\n    padding-top: 0.25rem;\n    justify-self: center;\n    grid-column: ",";\n  }\n\n  "," {\n    justify-content: space-around;\n    button ~ span {\n      display: none;\n    }\n  }\n\n  "," {\n    margin: ",";\n    button ~ span {\n      display: none;\n    }\n  }\n"])),({layout:ts})=>isVertical(ts)?"0.625rem 0":"0 0.625rem",({showLabels:ts})=>ts?"1.5rem 1rem":"1.5rem",({popOver:ts,layout:ns,children:rs})=>"\n    ".concat(!isVertical(ns)&&(ts||rs)&&gridTemplateColumnMap.popOver||"","\n    ").concat(isVertical(ns)&&(ts||rs)&&gridTemplateColumnMap["popOver&vertical"]||"","\n  "),({layout:ts,popOver:ns,children:rs})=>isVertical(ts)&&(ns||rs)?"2":"1",({layout:ts,popOver:ns,children:rs})=>isVertical(ts)&&(ns||rs)?"2":"1",({theme:ts})=>ts.controlBar.text,ts=>ts.theme.colors.primary.main,({theme:ts})=>ts.controlBar.text,ts=>ts.theme.fontSizes.footnote.fontSize,({layout:ts,popOver:ns,children:rs})=>isVertical(ts)&&(ns||rs)?"2":"1",({theme:ts})=>ts.mediaQueries.max.sm,({theme:ts})=>ts.mediaQueries.max.xs,({layout:ts})=>isVertical(ts)?"0.75rem 0":"0");var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function createCommonjsModule(ts,ns,rs){return rs={path:ns,exports:{},require:function(is,os){return commonjsRequire(is,os==null?rs.path:os)}},ts(rs,rs.exports),rs.exports}function commonjsRequire(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var classnames=createCommonjsModule(function(ts){/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(){var ns={}.hasOwnProperty;function rs(){for(var ss="",as=0;as<arguments.length;as++){var ls=arguments[as];ls&&(ss=os(ss,is(ls)))}return ss}function is(ss){if(typeof ss=="string"||typeof ss=="number")return ss;if(typeof ss!="object")return"";if(Array.isArray(ss))return rs.apply(null,ss);if(ss.toString!==Object.prototype.toString&&!ss.toString.toString().includes("[native code]"))return ss.toString();var as="";for(var ls in ss)ns.call(ss,ls)&&ss[ls]&&(as=os(as,ls));return as}function os(ss,as){return as?ss?ss+" "+as:ss+as:ss}ts.exports?(rs.default=rs,ts.exports=rs):window.classNames=rs})()}),ManagerReferenceNodeContext=reactExports.createContext(),ManagerReferenceNodeSetterContext=reactExports.createContext();function Manager(ts){var ns=ts.children,rs=reactExports.useState(null),is=rs[0],os=rs[1],ss=reactExports.useRef(!1);reactExports.useEffect(function(){return function(){ss.current=!0}},[]);var as=reactExports.useCallback(function(ls){ss.current||os(ls)},[]);return reactExports.createElement(ManagerReferenceNodeContext.Provider,{value:is},reactExports.createElement(ManagerReferenceNodeSetterContext.Provider,{value:as},ns))}var unwrapArray=function ts(ns){return Array.isArray(ns)?ns[0]:ns},safeInvoke=function ts(ns){if(typeof ns=="function"){for(var rs=arguments.length,is=new Array(rs>1?rs-1:0),os=1;os<rs;os++)is[os-1]=arguments[os];return ns.apply(void 0,is)}},setRef=function ts(ns,rs){if(typeof ns=="function")return safeInvoke(ns,rs);ns!=null&&(ns.current=rs)},fromEntries=function ts(ns){return ns.reduce(function(rs,is){var os=is[0],ss=is[1];return rs[os]=ss,rs},{})},useIsomorphicLayoutEffect=typeof window<"u"&&window.document&&window.document.createElement?reactExports.useLayoutEffect:reactExports.useEffect,top$1="top",bottom="bottom",right="right",left="left",auto="auto",basePlacements=[top$1,bottom,right,left],start="start",end="end",clippingParents="clippingParents",viewport="viewport",popper="popper",reference="reference",variationPlacements=basePlacements.reduce(function(ts,ns){return ts.concat([ns+"-"+start,ns+"-"+end])},[]),placements=[].concat(basePlacements,[auto]).reduce(function(ts,ns){return ts.concat([ns,ns+"-"+start,ns+"-"+end])},[]),beforeRead="beforeRead",read="read",afterRead="afterRead",beforeMain="beforeMain",main="main",afterMain="afterMain",beforeWrite="beforeWrite",write="write",afterWrite="afterWrite",modifierPhases=[beforeRead,read,afterRead,beforeMain,main,afterMain,beforeWrite,write,afterWrite];function getNodeName(ts){return ts?(ts.nodeName||"").toLowerCase():null}function getWindow(ts){if(ts==null)return window;if(ts.toString()!=="[object Window]"){var ns=ts.ownerDocument;return ns&&ns.defaultView||window}return ts}function isElement(ts){var ns=getWindow(ts).Element;return ts instanceof ns||ts instanceof Element}function isHTMLElement(ts){var ns=getWindow(ts).HTMLElement;return ts instanceof ns||ts instanceof HTMLElement}function isShadowRoot(ts){if(typeof ShadowRoot>"u")return!1;var ns=getWindow(ts).ShadowRoot;return ts instanceof ns||ts instanceof ShadowRoot}function applyStyles(ts){var ns=ts.state;Object.keys(ns.elements).forEach(function(rs){var is=ns.styles[rs]||{},os=ns.attributes[rs]||{},ss=ns.elements[rs];!isHTMLElement(ss)||!getNodeName(ss)||(Object.assign(ss.style,is),Object.keys(os).forEach(function(as){var ls=os[as];ls===!1?ss.removeAttribute(as):ss.setAttribute(as,ls===!0?"":ls)}))})}function effect$2(ts){var ns=ts.state,rs={popper:{position:ns.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(ns.elements.popper.style,rs.popper),ns.styles=rs,ns.elements.arrow&&Object.assign(ns.elements.arrow.style,rs.arrow),function(){Object.keys(ns.elements).forEach(function(is){var os=ns.elements[is],ss=ns.attributes[is]||{},as=Object.keys(ns.styles.hasOwnProperty(is)?ns.styles[is]:rs[is]),ls=as.reduce(function(cs,us){return cs[us]="",cs},{});!isHTMLElement(os)||!getNodeName(os)||(Object.assign(os.style,ls),Object.keys(ss).forEach(function(cs){os.removeAttribute(cs)}))})}}var applyStyles$1={name:"applyStyles",enabled:!0,phase:"write",fn:applyStyles,effect:effect$2,requires:["computeStyles"]};function getBasePlacement(ts){return ts.split("-")[0]}var max=Math.max,min=Math.min,round=Math.round;function getUAString(){var ts=navigator.userAgentData;return ts!=null&&ts.brands&&Array.isArray(ts.brands)?ts.brands.map(function(ns){return ns.brand+"/"+ns.version}).join(" "):navigator.userAgent}function isLayoutViewport(){return!/^((?!chrome|android).)*safari/i.test(getUAString())}function getBoundingClientRect(ts,ns,rs){ns===void 0&&(ns=!1),rs===void 0&&(rs=!1);var is=ts.getBoundingClientRect(),os=1,ss=1;ns&&isHTMLElement(ts)&&(os=ts.offsetWidth>0&&round(is.width)/ts.offsetWidth||1,ss=ts.offsetHeight>0&&round(is.height)/ts.offsetHeight||1);var as=isElement(ts)?getWindow(ts):window,ls=as.visualViewport,cs=!isLayoutViewport()&&rs,us=(is.left+(cs&&ls?ls.offsetLeft:0))/os,ds=(is.top+(cs&&ls?ls.offsetTop:0))/ss,ps=is.width/os,hs=is.height/ss;return{width:ps,height:hs,top:ds,right:us+ps,bottom:ds+hs,left:us,x:us,y:ds}}function getLayoutRect(ts){var ns=getBoundingClientRect(ts),rs=ts.offsetWidth,is=ts.offsetHeight;return Math.abs(ns.width-rs)<=1&&(rs=ns.width),Math.abs(ns.height-is)<=1&&(is=ns.height),{x:ts.offsetLeft,y:ts.offsetTop,width:rs,height:is}}function contains(ts,ns){var rs=ns.getRootNode&&ns.getRootNode();if(ts.contains(ns))return!0;if(rs&&isShadowRoot(rs)){var is=ns;do{if(is&&ts.isSameNode(is))return!0;is=is.parentNode||is.host}while(is)}return!1}function getComputedStyle(ts){return getWindow(ts).getComputedStyle(ts)}function isTableElement(ts){return["table","td","th"].indexOf(getNodeName(ts))>=0}function getDocumentElement(ts){return((isElement(ts)?ts.ownerDocument:ts.document)||window.document).documentElement}function getParentNode(ts){return getNodeName(ts)==="html"?ts:ts.assignedSlot||ts.parentNode||(isShadowRoot(ts)?ts.host:null)||getDocumentElement(ts)}function getTrueOffsetParent(ts){return!isHTMLElement(ts)||getComputedStyle(ts).position==="fixed"?null:ts.offsetParent}function getContainingBlock(ts){var ns=/firefox/i.test(getUAString()),rs=/Trident/i.test(getUAString());if(rs&&isHTMLElement(ts)){var is=getComputedStyle(ts);if(is.position==="fixed")return null}var os=getParentNode(ts);for(isShadowRoot(os)&&(os=os.host);isHTMLElement(os)&&["html","body"].indexOf(getNodeName(os))<0;){var ss=getComputedStyle(os);if(ss.transform!=="none"||ss.perspective!=="none"||ss.contain==="paint"||["transform","perspective"].indexOf(ss.willChange)!==-1||ns&&ss.willChange==="filter"||ns&&ss.filter&&ss.filter!=="none")return os;os=os.parentNode}return null}function getOffsetParent(ts){for(var ns=getWindow(ts),rs=getTrueOffsetParent(ts);rs&&isTableElement(rs)&&getComputedStyle(rs).position==="static";)rs=getTrueOffsetParent(rs);return rs&&(getNodeName(rs)==="html"||getNodeName(rs)==="body"&&getComputedStyle(rs).position==="static")?ns:rs||getContainingBlock(ts)||ns}function getMainAxisFromPlacement(ts){return["top","bottom"].indexOf(ts)>=0?"x":"y"}function within(ts,ns,rs){return max(ts,min(ns,rs))}function withinMaxClamp(ts,ns,rs){var is=within(ts,ns,rs);return is>rs?rs:is}function getFreshSideObject(){return{top:0,right:0,bottom:0,left:0}}function mergePaddingObject(ts){return Object.assign({},getFreshSideObject(),ts)}function expandToHashMap(ts,ns){return ns.reduce(function(rs,is){return rs[is]=ts,rs},{})}var toPaddingObject=function ts(ns,rs){return ns=typeof ns=="function"?ns(Object.assign({},rs.rects,{placement:rs.placement})):ns,mergePaddingObject(typeof ns!="number"?ns:expandToHashMap(ns,basePlacements))};function arrow(ts){var ns,rs=ts.state,is=ts.name,os=ts.options,ss=rs.elements.arrow,as=rs.modifiersData.popperOffsets,ls=getBasePlacement(rs.placement),cs=getMainAxisFromPlacement(ls),us=[left,right].indexOf(ls)>=0,ds=us?"height":"width";if(!(!ss||!as)){var ps=toPaddingObject(os.padding,rs),hs=getLayoutRect(ss),ms=cs==="y"?top$1:left,gs=cs==="y"?bottom:right,ys=rs.rects.reference[ds]+rs.rects.reference[cs]-as[cs]-rs.rects.popper[ds],vs=as[cs]-rs.rects.reference[cs],bs=getOffsetParent(ss),Ss=bs?cs==="y"?bs.clientHeight||0:bs.clientWidth||0:0,$s=ys/2-vs/2,Cs=ps[ms],Es=Ss-hs[ds]-ps[gs],xs=Ss/2-hs[ds]/2+$s,ws=within(Cs,xs,Es),ks=cs;rs.modifiersData[is]=(ns={},ns[ks]=ws,ns.centerOffset=ws-xs,ns)}}function effect$1(ts){var ns=ts.state,rs=ts.options,is=rs.element,os=is===void 0?"[data-popper-arrow]":is;os!=null&&(typeof os=="string"&&(os=ns.elements.popper.querySelector(os),!os)||contains(ns.elements.popper,os)&&(ns.elements.arrow=os))}var arrow$1={name:"arrow",enabled:!0,phase:"main",fn:arrow,effect:effect$1,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function getVariation(ts){return ts.split("-")[1]}var unsetSides={top:"auto",right:"auto",bottom:"auto",left:"auto"};function roundOffsetsByDPR(ts,ns){var rs=ts.x,is=ts.y,os=ns.devicePixelRatio||1;return{x:round(rs*os)/os||0,y:round(is*os)/os||0}}function mapToStyles(ts){var ns,rs=ts.popper,is=ts.popperRect,os=ts.placement,ss=ts.variation,as=ts.offsets,ls=ts.position,cs=ts.gpuAcceleration,us=ts.adaptive,ds=ts.roundOffsets,ps=ts.isFixed,hs=as.x,ms=hs===void 0?0:hs,gs=as.y,ys=gs===void 0?0:gs,vs=typeof ds=="function"?ds({x:ms,y:ys}):{x:ms,y:ys};ms=vs.x,ys=vs.y;var bs=as.hasOwnProperty("x"),Ss=as.hasOwnProperty("y"),$s=left,Cs=top$1,Es=window;if(us){var xs=getOffsetParent(rs),ws="clientHeight",ks="clientWidth";if(xs===getWindow(rs)&&(xs=getDocumentElement(rs),getComputedStyle(xs).position!=="static"&&ls==="absolute"&&(ws="scrollHeight",ks="scrollWidth")),xs=xs,os===top$1||(os===left||os===right)&&ss===end){Cs=bottom;var Is=ps&&xs===Es&&Es.visualViewport?Es.visualViewport.height:xs[ws];ys-=Is-is.height,ys*=cs?1:-1}if(os===left||(os===top$1||os===bottom)&&ss===end){$s=right;var Ts=ps&&xs===Es&&Es.visualViewport?Es.visualViewport.width:xs[ks];ms-=Ts-is.width,ms*=cs?1:-1}}var Rs=Object.assign({position:ls},us&&unsetSides),As=ds===!0?roundOffsetsByDPR({x:ms,y:ys},getWindow(rs)):{x:ms,y:ys};if(ms=As.x,ys=As.y,cs){var Ms;return Object.assign({},Rs,(Ms={},Ms[Cs]=Ss?"0":"",Ms[$s]=bs?"0":"",Ms.transform=(Es.devicePixelRatio||1)<=1?"translate("+ms+"px, "+ys+"px)":"translate3d("+ms+"px, "+ys+"px, 0)",Ms))}return Object.assign({},Rs,(ns={},ns[Cs]=Ss?ys+"px":"",ns[$s]=bs?ms+"px":"",ns.transform="",ns))}function computeStyles(ts){var ns=ts.state,rs=ts.options,is=rs.gpuAcceleration,os=is===void 0?!0:is,ss=rs.adaptive,as=ss===void 0?!0:ss,ls=rs.roundOffsets,cs=ls===void 0?!0:ls,us={placement:getBasePlacement(ns.placement),variation:getVariation(ns.placement),popper:ns.elements.popper,popperRect:ns.rects.popper,gpuAcceleration:os,isFixed:ns.options.strategy==="fixed"};ns.modifiersData.popperOffsets!=null&&(ns.styles.popper=Object.assign({},ns.styles.popper,mapToStyles(Object.assign({},us,{offsets:ns.modifiersData.popperOffsets,position:ns.options.strategy,adaptive:as,roundOffsets:cs})))),ns.modifiersData.arrow!=null&&(ns.styles.arrow=Object.assign({},ns.styles.arrow,mapToStyles(Object.assign({},us,{offsets:ns.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:cs})))),ns.attributes.popper=Object.assign({},ns.attributes.popper,{"data-popper-placement":ns.placement})}var computeStyles$1={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:computeStyles,data:{}},passive={passive:!0};function effect(ts){var ns=ts.state,rs=ts.instance,is=ts.options,os=is.scroll,ss=os===void 0?!0:os,as=is.resize,ls=as===void 0?!0:as,cs=getWindow(ns.elements.popper),us=[].concat(ns.scrollParents.reference,ns.scrollParents.popper);return ss&&us.forEach(function(ds){ds.addEventListener("scroll",rs.update,passive)}),ls&&cs.addEventListener("resize",rs.update,passive),function(){ss&&us.forEach(function(ds){ds.removeEventListener("scroll",rs.update,passive)}),ls&&cs.removeEventListener("resize",rs.update,passive)}}var eventListeners={name:"eventListeners",enabled:!0,phase:"write",fn:function ts(){},effect,data:{}},hash$1={left:"right",right:"left",bottom:"top",top:"bottom"};function getOppositePlacement(ts){return ts.replace(/left|right|bottom|top/g,function(ns){return hash$1[ns]})}var hash={start:"end",end:"start"};function getOppositeVariationPlacement(ts){return ts.replace(/start|end/g,function(ns){return hash[ns]})}function getWindowScroll(ts){var ns=getWindow(ts),rs=ns.pageXOffset,is=ns.pageYOffset;return{scrollLeft:rs,scrollTop:is}}function getWindowScrollBarX(ts){return getBoundingClientRect(getDocumentElement(ts)).left+getWindowScroll(ts).scrollLeft}function getViewportRect(ts,ns){var rs=getWindow(ts),is=getDocumentElement(ts),os=rs.visualViewport,ss=is.clientWidth,as=is.clientHeight,ls=0,cs=0;if(os){ss=os.width,as=os.height;var us=isLayoutViewport();(us||!us&&ns==="fixed")&&(ls=os.offsetLeft,cs=os.offsetTop)}return{width:ss,height:as,x:ls+getWindowScrollBarX(ts),y:cs}}function getDocumentRect(ts){var ns,rs=getDocumentElement(ts),is=getWindowScroll(ts),os=(ns=ts.ownerDocument)==null?void 0:ns.body,ss=max(rs.scrollWidth,rs.clientWidth,os?os.scrollWidth:0,os?os.clientWidth:0),as=max(rs.scrollHeight,rs.clientHeight,os?os.scrollHeight:0,os?os.clientHeight:0),ls=-is.scrollLeft+getWindowScrollBarX(ts),cs=-is.scrollTop;return getComputedStyle(os||rs).direction==="rtl"&&(ls+=max(rs.clientWidth,os?os.clientWidth:0)-ss),{width:ss,height:as,x:ls,y:cs}}function isScrollParent(ts){var ns=getComputedStyle(ts),rs=ns.overflow,is=ns.overflowX,os=ns.overflowY;return/auto|scroll|overlay|hidden/.test(rs+os+is)}function getScrollParent(ts){return["html","body","#document"].indexOf(getNodeName(ts))>=0?ts.ownerDocument.body:isHTMLElement(ts)&&isScrollParent(ts)?ts:getScrollParent(getParentNode(ts))}function listScrollParents(ts,ns){var rs;ns===void 0&&(ns=[]);var is=getScrollParent(ts),os=is===((rs=ts.ownerDocument)==null?void 0:rs.body),ss=getWindow(is),as=os?[ss].concat(ss.visualViewport||[],isScrollParent(is)?is:[]):is,ls=ns.concat(as);return os?ls:ls.concat(listScrollParents(getParentNode(as)))}function rectToClientRect(ts){return Object.assign({},ts,{left:ts.x,top:ts.y,right:ts.x+ts.width,bottom:ts.y+ts.height})}function getInnerBoundingClientRect(ts,ns){var rs=getBoundingClientRect(ts,!1,ns==="fixed");return rs.top=rs.top+ts.clientTop,rs.left=rs.left+ts.clientLeft,rs.bottom=rs.top+ts.clientHeight,rs.right=rs.left+ts.clientWidth,rs.width=ts.clientWidth,rs.height=ts.clientHeight,rs.x=rs.left,rs.y=rs.top,rs}function getClientRectFromMixedType(ts,ns,rs){return ns===viewport?rectToClientRect(getViewportRect(ts,rs)):isElement(ns)?getInnerBoundingClientRect(ns,rs):rectToClientRect(getDocumentRect(getDocumentElement(ts)))}function getClippingParents(ts){var ns=listScrollParents(getParentNode(ts)),rs=["absolute","fixed"].indexOf(getComputedStyle(ts).position)>=0,is=rs&&isHTMLElement(ts)?getOffsetParent(ts):ts;return isElement(is)?ns.filter(function(os){return isElement(os)&&contains(os,is)&&getNodeName(os)!=="body"}):[]}function getClippingRect(ts,ns,rs,is){var os=ns==="clippingParents"?getClippingParents(ts):[].concat(ns),ss=[].concat(os,[rs]),as=ss[0],ls=ss.reduce(function(cs,us){var ds=getClientRectFromMixedType(ts,us,is);return cs.top=max(ds.top,cs.top),cs.right=min(ds.right,cs.right),cs.bottom=min(ds.bottom,cs.bottom),cs.left=max(ds.left,cs.left),cs},getClientRectFromMixedType(ts,as,is));return ls.width=ls.right-ls.left,ls.height=ls.bottom-ls.top,ls.x=ls.left,ls.y=ls.top,ls}function computeOffsets(ts){var ns=ts.reference,rs=ts.element,is=ts.placement,os=is?getBasePlacement(is):null,ss=is?getVariation(is):null,as=ns.x+ns.width/2-rs.width/2,ls=ns.y+ns.height/2-rs.height/2,cs;switch(os){case top$1:cs={x:as,y:ns.y-rs.height};break;case bottom:cs={x:as,y:ns.y+ns.height};break;case right:cs={x:ns.x+ns.width,y:ls};break;case left:cs={x:ns.x-rs.width,y:ls};break;default:cs={x:ns.x,y:ns.y}}var us=os?getMainAxisFromPlacement(os):null;if(us!=null){var ds=us==="y"?"height":"width";switch(ss){case start:cs[us]=cs[us]-(ns[ds]/2-rs[ds]/2);break;case end:cs[us]=cs[us]+(ns[ds]/2-rs[ds]/2);break}}return cs}function detectOverflow(ts,ns){ns===void 0&&(ns={});var rs=ns,is=rs.placement,os=is===void 0?ts.placement:is,ss=rs.strategy,as=ss===void 0?ts.strategy:ss,ls=rs.boundary,cs=ls===void 0?clippingParents:ls,us=rs.rootBoundary,ds=us===void 0?viewport:us,ps=rs.elementContext,hs=ps===void 0?popper:ps,ms=rs.altBoundary,gs=ms===void 0?!1:ms,ys=rs.padding,vs=ys===void 0?0:ys,bs=mergePaddingObject(typeof vs!="number"?vs:expandToHashMap(vs,basePlacements)),Ss=hs===popper?reference:popper,$s=ts.rects.popper,Cs=ts.elements[gs?Ss:hs],Es=getClippingRect(isElement(Cs)?Cs:Cs.contextElement||getDocumentElement(ts.elements.popper),cs,ds,as),xs=getBoundingClientRect(ts.elements.reference),ws=computeOffsets({reference:xs,element:$s,strategy:"absolute",placement:os}),ks=rectToClientRect(Object.assign({},$s,ws)),Is=hs===popper?ks:xs,Ts={top:Es.top-Is.top+bs.top,bottom:Is.bottom-Es.bottom+bs.bottom,left:Es.left-Is.left+bs.left,right:Is.right-Es.right+bs.right},Rs=ts.modifiersData.offset;if(hs===popper&&Rs){var As=Rs[os];Object.keys(Ts).forEach(function(Ms){var Ls=[right,bottom].indexOf(Ms)>=0?1:-1,Ds=[top$1,bottom].indexOf(Ms)>=0?"y":"x";Ts[Ms]+=As[Ds]*Ls})}return Ts}function computeAutoPlacement(ts,ns){ns===void 0&&(ns={});var rs=ns,is=rs.placement,os=rs.boundary,ss=rs.rootBoundary,as=rs.padding,ls=rs.flipVariations,cs=rs.allowedAutoPlacements,us=cs===void 0?placements:cs,ds=getVariation(is),ps=ds?ls?variationPlacements:variationPlacements.filter(function(gs){return getVariation(gs)===ds}):basePlacements,hs=ps.filter(function(gs){return us.indexOf(gs)>=0});hs.length===0&&(hs=ps);var ms=hs.reduce(function(gs,ys){return gs[ys]=detectOverflow(ts,{placement:ys,boundary:os,rootBoundary:ss,padding:as})[getBasePlacement(ys)],gs},{});return Object.keys(ms).sort(function(gs,ys){return ms[gs]-ms[ys]})}function getExpandedFallbackPlacements(ts){if(getBasePlacement(ts)===auto)return[];var ns=getOppositePlacement(ts);return[getOppositeVariationPlacement(ts),ns,getOppositeVariationPlacement(ns)]}function flip(ts){var ns=ts.state,rs=ts.options,is=ts.name;if(!ns.modifiersData[is]._skip){for(var os=rs.mainAxis,ss=os===void 0?!0:os,as=rs.altAxis,ls=as===void 0?!0:as,cs=rs.fallbackPlacements,us=rs.padding,ds=rs.boundary,ps=rs.rootBoundary,hs=rs.altBoundary,ms=rs.flipVariations,gs=ms===void 0?!0:ms,ys=rs.allowedAutoPlacements,vs=ns.options.placement,bs=getBasePlacement(vs),Ss=bs===vs,$s=cs||(Ss||!gs?[getOppositePlacement(vs)]:getExpandedFallbackPlacements(vs)),Cs=[vs].concat($s).reduce(function(Ys,Zs){return Ys.concat(getBasePlacement(Zs)===auto?computeAutoPlacement(ns,{placement:Zs,boundary:ds,rootBoundary:ps,padding:us,flipVariations:gs,allowedAutoPlacements:ys}):Zs)},[]),Es=ns.rects.reference,xs=ns.rects.popper,ws=new Map,ks=!0,Is=Cs[0],Ts=0;Ts<Cs.length;Ts++){var Rs=Cs[Ts],As=getBasePlacement(Rs),Ms=getVariation(Rs)===start,Ls=[top$1,bottom].indexOf(As)>=0,Ds=Ls?"width":"height",Fs=detectOverflow(ns,{placement:Rs,boundary:ds,rootBoundary:ps,altBoundary:hs,padding:us}),Vs=Ls?Ms?right:left:Ms?bottom:top$1;Es[Ds]>xs[Ds]&&(Vs=getOppositePlacement(Vs));var Bs=getOppositePlacement(Vs),Ws=[];if(ss&&Ws.push(Fs[As]<=0),ls&&Ws.push(Fs[Vs]<=0,Fs[Bs]<=0),Ws.every(function(Ys){return Ys})){Is=Rs,ks=!1;break}ws.set(Rs,Ws)}if(ks)for(var Os=gs?3:1,Nl=function(Zs){var Us=Cs.find(function(Ol){var qs=ws.get(Ol);if(qs)return qs.slice(0,Zs).every(function(Fl){return Fl})});if(Us)return Is=Us,"break"},$a=Os;$a>0;$a--){var Ps=Nl($a);if(Ps==="break")break}ns.placement!==Is&&(ns.modifiersData[is]._skip=!0,ns.placement=Is,ns.reset=!0)}}var flip$1={name:"flip",enabled:!0,phase:"main",fn:flip,requiresIfExists:["offset"],data:{_skip:!1}};function getSideOffsets(ts,ns,rs){return rs===void 0&&(rs={x:0,y:0}),{top:ts.top-ns.height-rs.y,right:ts.right-ns.width+rs.x,bottom:ts.bottom-ns.height+rs.y,left:ts.left-ns.width-rs.x}}function isAnySideFullyClipped(ts){return[top$1,right,bottom,left].some(function(ns){return ts[ns]>=0})}function hide(ts){var ns=ts.state,rs=ts.name,is=ns.rects.reference,os=ns.rects.popper,ss=ns.modifiersData.preventOverflow,as=detectOverflow(ns,{elementContext:"reference"}),ls=detectOverflow(ns,{altBoundary:!0}),cs=getSideOffsets(as,is),us=getSideOffsets(ls,os,ss),ds=isAnySideFullyClipped(cs),ps=isAnySideFullyClipped(us);ns.modifiersData[rs]={referenceClippingOffsets:cs,popperEscapeOffsets:us,isReferenceHidden:ds,hasPopperEscaped:ps},ns.attributes.popper=Object.assign({},ns.attributes.popper,{"data-popper-reference-hidden":ds,"data-popper-escaped":ps})}var hide$1={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:hide};function distanceAndSkiddingToXY(ts,ns,rs){var is=getBasePlacement(ts),os=[left,top$1].indexOf(is)>=0?-1:1,ss=typeof rs=="function"?rs(Object.assign({},ns,{placement:ts})):rs,as=ss[0],ls=ss[1];return as=as||0,ls=(ls||0)*os,[left,right].indexOf(is)>=0?{x:ls,y:as}:{x:as,y:ls}}function offset(ts){var ns=ts.state,rs=ts.options,is=ts.name,os=rs.offset,ss=os===void 0?[0,0]:os,as=placements.reduce(function(ds,ps){return ds[ps]=distanceAndSkiddingToXY(ps,ns.rects,ss),ds},{}),ls=as[ns.placement],cs=ls.x,us=ls.y;ns.modifiersData.popperOffsets!=null&&(ns.modifiersData.popperOffsets.x+=cs,ns.modifiersData.popperOffsets.y+=us),ns.modifiersData[is]=as}var offset$1={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:offset};function popperOffsets(ts){var ns=ts.state,rs=ts.name;ns.modifiersData[rs]=computeOffsets({reference:ns.rects.reference,element:ns.rects.popper,strategy:"absolute",placement:ns.placement})}var popperOffsets$1={name:"popperOffsets",enabled:!0,phase:"read",fn:popperOffsets,data:{}};function getAltAxis(ts){return ts==="x"?"y":"x"}function preventOverflow(ts){var ns=ts.state,rs=ts.options,is=ts.name,os=rs.mainAxis,ss=os===void 0?!0:os,as=rs.altAxis,ls=as===void 0?!1:as,cs=rs.boundary,us=rs.rootBoundary,ds=rs.altBoundary,ps=rs.padding,hs=rs.tether,ms=hs===void 0?!0:hs,gs=rs.tetherOffset,ys=gs===void 0?0:gs,vs=detectOverflow(ns,{boundary:cs,rootBoundary:us,padding:ps,altBoundary:ds}),bs=getBasePlacement(ns.placement),Ss=getVariation(ns.placement),$s=!Ss,Cs=getMainAxisFromPlacement(bs),Es=getAltAxis(Cs),xs=ns.modifiersData.popperOffsets,ws=ns.rects.reference,ks=ns.rects.popper,Is=typeof ys=="function"?ys(Object.assign({},ns.rects,{placement:ns.placement})):ys,Ts=typeof Is=="number"?{mainAxis:Is,altAxis:Is}:Object.assign({mainAxis:0,altAxis:0},Is),Rs=ns.modifiersData.offset?ns.modifiersData.offset[ns.placement]:null,As={x:0,y:0};if(xs){if(ss){var Ms,Ls=Cs==="y"?top$1:left,Ds=Cs==="y"?bottom:right,Fs=Cs==="y"?"height":"width",Vs=xs[Cs],Bs=Vs+vs[Ls],Ws=Vs-vs[Ds],Os=ms?-ks[Fs]/2:0,Nl=Ss===start?ws[Fs]:ks[Fs],$a=Ss===start?-ks[Fs]:-ws[Fs],Ps=ns.elements.arrow,Ys=ms&&Ps?getLayoutRect(Ps):{width:0,height:0},Zs=ns.modifiersData["arrow#persistent"]?ns.modifiersData["arrow#persistent"].padding:getFreshSideObject(),Us=Zs[Ls],Ol=Zs[Ds],qs=within(0,ws[Fs],Ys[Fs]),Fl=$s?ws[Fs]/2-Os-qs-Us-Ts.mainAxis:Nl-qs-Us-Ts.mainAxis,Ll=$s?-ws[Fs]/2+Os+qs+Ol+Ts.mainAxis:$a+qs+Ol+Ts.mainAxis,$l=ns.elements.arrow&&getOffsetParent(ns.elements.arrow),Cl=$l?Cs==="y"?$l.clientTop||0:$l.clientLeft||0:0,wl=(Ms=Rs==null?void 0:Rs[Cs])!=null?Ms:0,Tl=Vs+Fl-wl-Cl,xl=Vs+Ll-wl,Al=within(ms?min(Bs,Tl):Bs,Vs,ms?max(Ws,xl):Ws);xs[Cs]=Al,As[Cs]=Al-Vs}if(ls){var Dl,Ns=Cs==="x"?top$1:left,Hs=Cs==="x"?bottom:right,Gs=xs[Es],Js=Es==="y"?"height":"width",El=Gs+vs[Ns],Xs=Gs-vs[Hs],_l=[top$1,left].indexOf(bs)!==-1,Bl=(Dl=Rs==null?void 0:Rs[Es])!=null?Dl:0,Ks=_l?El:Gs-ws[Js]-ks[Js]-Bl+Ts.altAxis,Sl=_l?Gs+ws[Js]+ks[Js]-Bl-Ts.altAxis:Xs,Il=ms&&_l?withinMaxClamp(Ks,Gs,Sl):within(ms?Ks:El,Gs,ms?Sl:Xs);xs[Es]=Il,As[Es]=Il-Gs}ns.modifiersData[is]=As}}var preventOverflow$1={name:"preventOverflow",enabled:!0,phase:"main",fn:preventOverflow,requiresIfExists:["offset"]};function getHTMLElementScroll(ts){return{scrollLeft:ts.scrollLeft,scrollTop:ts.scrollTop}}function getNodeScroll(ts){return ts===getWindow(ts)||!isHTMLElement(ts)?getWindowScroll(ts):getHTMLElementScroll(ts)}function isElementScaled(ts){var ns=ts.getBoundingClientRect(),rs=round(ns.width)/ts.offsetWidth||1,is=round(ns.height)/ts.offsetHeight||1;return rs!==1||is!==1}function getCompositeRect(ts,ns,rs){rs===void 0&&(rs=!1);var is=isHTMLElement(ns),os=isHTMLElement(ns)&&isElementScaled(ns),ss=getDocumentElement(ns),as=getBoundingClientRect(ts,os,rs),ls={scrollLeft:0,scrollTop:0},cs={x:0,y:0};return(is||!is&&!rs)&&((getNodeName(ns)!=="body"||isScrollParent(ss))&&(ls=getNodeScroll(ns)),isHTMLElement(ns)?(cs=getBoundingClientRect(ns,!0),cs.x+=ns.clientLeft,cs.y+=ns.clientTop):ss&&(cs.x=getWindowScrollBarX(ss))),{x:as.left+ls.scrollLeft-cs.x,y:as.top+ls.scrollTop-cs.y,width:as.width,height:as.height}}function order(ts){var ns=new Map,rs=new Set,is=[];ts.forEach(function(ss){ns.set(ss.name,ss)});function os(ss){rs.add(ss.name);var as=[].concat(ss.requires||[],ss.requiresIfExists||[]);as.forEach(function(ls){if(!rs.has(ls)){var cs=ns.get(ls);cs&&os(cs)}}),is.push(ss)}return ts.forEach(function(ss){rs.has(ss.name)||os(ss)}),is}function orderModifiers(ts){var ns=order(ts);return modifierPhases.reduce(function(rs,is){return rs.concat(ns.filter(function(os){return os.phase===is}))},[])}function debounce(ts){var ns;return function(){return ns||(ns=new Promise(function(rs){Promise.resolve().then(function(){ns=void 0,rs(ts())})})),ns}}function mergeByName(ts){var ns=ts.reduce(function(rs,is){var os=rs[is.name];return rs[is.name]=os?Object.assign({},os,is,{options:Object.assign({},os.options,is.options),data:Object.assign({},os.data,is.data)}):is,rs},{});return Object.keys(ns).map(function(rs){return ns[rs]})}var DEFAULT_OPTIONS={placement:"bottom",modifiers:[],strategy:"absolute"};function areValidElements(){for(var ts=arguments.length,ns=new Array(ts),rs=0;rs<ts;rs++)ns[rs]=arguments[rs];return!ns.some(function(is){return!(is&&typeof is.getBoundingClientRect=="function")})}function popperGenerator(ts){ts===void 0&&(ts={});var ns=ts,rs=ns.defaultModifiers,is=rs===void 0?[]:rs,os=ns.defaultOptions,ss=os===void 0?DEFAULT_OPTIONS:os;return function(ls,cs,us){us===void 0&&(us=ss);var ds={placement:"bottom",orderedModifiers:[],options:Object.assign({},DEFAULT_OPTIONS,ss),modifiersData:{},elements:{reference:ls,popper:cs},attributes:{},styles:{}},ps=[],hs=!1,ms={state:ds,setOptions:function(bs){var Ss=typeof bs=="function"?bs(ds.options):bs;ys(),ds.options=Object.assign({},ss,ds.options,Ss),ds.scrollParents={reference:isElement(ls)?listScrollParents(ls):ls.contextElement?listScrollParents(ls.contextElement):[],popper:listScrollParents(cs)};var $s=orderModifiers(mergeByName([].concat(is,ds.options.modifiers)));return ds.orderedModifiers=$s.filter(function(Cs){return Cs.enabled}),gs(),ms.update()},forceUpdate:function(){if(!hs){var bs=ds.elements,Ss=bs.reference,$s=bs.popper;if(areValidElements(Ss,$s)){ds.rects={reference:getCompositeRect(Ss,getOffsetParent($s),ds.options.strategy==="fixed"),popper:getLayoutRect($s)},ds.reset=!1,ds.placement=ds.options.placement,ds.orderedModifiers.forEach(function(Ts){return ds.modifiersData[Ts.name]=Object.assign({},Ts.data)});for(var Cs=0;Cs<ds.orderedModifiers.length;Cs++){if(ds.reset===!0){ds.reset=!1,Cs=-1;continue}var Es=ds.orderedModifiers[Cs],xs=Es.fn,ws=Es.options,ks=ws===void 0?{}:ws,Is=Es.name;typeof xs=="function"&&(ds=xs({state:ds,options:ks,name:Is,instance:ms})||ds)}}}},update:debounce(function(){return new Promise(function(vs){ms.forceUpdate(),vs(ds)})}),destroy:function(){ys(),hs=!0}};if(!areValidElements(ls,cs))return ms;ms.setOptions(us).then(function(vs){!hs&&us.onFirstUpdate&&us.onFirstUpdate(vs)});function gs(){ds.orderedModifiers.forEach(function(vs){var bs=vs.name,Ss=vs.options,$s=Ss===void 0?{}:Ss,Cs=vs.effect;if(typeof Cs=="function"){var Es=Cs({state:ds,name:bs,instance:ms,options:$s}),xs=function(){};ps.push(Es||xs)}})}function ys(){ps.forEach(function(vs){return vs()}),ps=[]}return ms}}var defaultModifiers=[eventListeners,popperOffsets$1,computeStyles$1,applyStyles$1,offset$1,flip$1,preventOverflow$1,arrow$1,hide$1],createPopper=popperGenerator({defaultModifiers}),hasElementType=typeof Element<"u",hasMap=typeof Map=="function",hasSet=typeof Set=="function",hasArrayBuffer=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function equal(ts,ns){if(ts===ns)return!0;if(ts&&ns&&typeof ts=="object"&&typeof ns=="object"){if(ts.constructor!==ns.constructor)return!1;var rs,is,os;if(Array.isArray(ts)){if(rs=ts.length,rs!=ns.length)return!1;for(is=rs;is--!==0;)if(!equal(ts[is],ns[is]))return!1;return!0}var ss;if(hasMap&&ts instanceof Map&&ns instanceof Map){if(ts.size!==ns.size)return!1;for(ss=ts.entries();!(is=ss.next()).done;)if(!ns.has(is.value[0]))return!1;for(ss=ts.entries();!(is=ss.next()).done;)if(!equal(is.value[1],ns.get(is.value[0])))return!1;return!0}if(hasSet&&ts instanceof Set&&ns instanceof Set){if(ts.size!==ns.size)return!1;for(ss=ts.entries();!(is=ss.next()).done;)if(!ns.has(is.value[0]))return!1;return!0}if(hasArrayBuffer&&ArrayBuffer.isView(ts)&&ArrayBuffer.isView(ns)){if(rs=ts.length,rs!=ns.length)return!1;for(is=rs;is--!==0;)if(ts[is]!==ns[is])return!1;return!0}if(ts.constructor===RegExp)return ts.source===ns.source&&ts.flags===ns.flags;if(ts.valueOf!==Object.prototype.valueOf&&typeof ts.valueOf=="function"&&typeof ns.valueOf=="function")return ts.valueOf()===ns.valueOf();if(ts.toString!==Object.prototype.toString&&typeof ts.toString=="function"&&typeof ns.toString=="function")return ts.toString()===ns.toString();if(os=Object.keys(ts),rs=os.length,rs!==Object.keys(ns).length)return!1;for(is=rs;is--!==0;)if(!Object.prototype.hasOwnProperty.call(ns,os[is]))return!1;if(hasElementType&&ts instanceof Element)return!1;for(is=rs;is--!==0;)if(!((os[is]==="_owner"||os[is]==="__v"||os[is]==="__o")&&ts.$$typeof)&&!equal(ts[os[is]],ns[os[is]]))return!1;return!0}return ts!==ts&&ns!==ns}var reactFastCompare=function ts(ns,rs){try{return equal(ns,rs)}catch(is){if((is.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw is}},EMPTY_MODIFIERS$1=[],usePopper=function ts(ns,rs,is){is===void 0&&(is={});var os=reactExports.useRef(null),ss={onFirstUpdate:is.onFirstUpdate,placement:is.placement||"bottom",strategy:is.strategy||"absolute",modifiers:is.modifiers||EMPTY_MODIFIERS$1},as=reactExports.useState({styles:{popper:{position:ss.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),ls=as[0],cs=as[1],us=reactExports.useMemo(function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(ms){var gs=ms.state,ys=Object.keys(gs.elements);reactDomExports.flushSync(function(){cs({styles:fromEntries(ys.map(function(vs){return[vs,gs.styles[vs]||{}]})),attributes:fromEntries(ys.map(function(vs){return[vs,gs.attributes[vs]]}))})})},requires:["computeStyles"]}},[]),ds=reactExports.useMemo(function(){var hs={onFirstUpdate:ss.onFirstUpdate,placement:ss.placement,strategy:ss.strategy,modifiers:[].concat(ss.modifiers,[us,{name:"applyStyles",enabled:!1}])};return reactFastCompare(os.current,hs)?os.current||hs:(os.current=hs,hs)},[ss.onFirstUpdate,ss.placement,ss.strategy,ss.modifiers,us]),ps=reactExports.useRef();return useIsomorphicLayoutEffect(function(){ps.current&&ps.current.setOptions(ds)},[ds]),useIsomorphicLayoutEffect(function(){if(!(ns==null||rs==null)){var hs=is.createPopper||createPopper,ms=hs(ns,rs,ds);return ps.current=ms,function(){ms.destroy(),ps.current=null}}},[ns,rs,is.createPopper]),{state:ps.current?ps.current.state:null,styles:ls.styles,attributes:ls.attributes,update:ps.current?ps.current.update:null,forceUpdate:ps.current?ps.current.forceUpdate:null}},NOOP=function ts(){},NOOP_PROMISE=function ts(){return Promise.resolve(null)},EMPTY_MODIFIERS=[];function Popper(ts){var ns=ts.placement,rs=ns===void 0?"bottom":ns,is=ts.strategy,os=is===void 0?"absolute":is,ss=ts.modifiers,as=ss===void 0?EMPTY_MODIFIERS:ss,ls=ts.referenceElement,cs=ts.onFirstUpdate,us=ts.innerRef,ds=ts.children,ps=reactExports.useContext(ManagerReferenceNodeContext),hs=reactExports.useState(null),ms=hs[0],gs=hs[1],ys=reactExports.useState(null),vs=ys[0],bs=ys[1];reactExports.useEffect(function(){setRef(us,ms)},[us,ms]);var Ss=reactExports.useMemo(function(){return{placement:rs,strategy:os,onFirstUpdate:cs,modifiers:[].concat(as,[{name:"arrow",enabled:vs!=null,options:{element:vs}}])}},[rs,os,cs,as,vs]),$s=usePopper(ls||ps,ms,Ss),Cs=$s.state,Es=$s.styles,xs=$s.forceUpdate,ws=$s.update,ks=reactExports.useMemo(function(){return{ref:gs,style:Es.popper,placement:Cs?Cs.placement:rs,hasPopperEscaped:Cs&&Cs.modifiersData.hide?Cs.modifiersData.hide.hasPopperEscaped:null,isReferenceHidden:Cs&&Cs.modifiersData.hide?Cs.modifiersData.hide.isReferenceHidden:null,arrowProps:{style:Es.arrow,ref:bs},forceUpdate:xs||NOOP,update:ws||NOOP_PROMISE}},[gs,bs,rs,Cs,Es,ws,xs]);return unwrapArray(ds)(ks)}function Reference(ts){var ns=ts.children,rs=ts.innerRef,is=reactExports.useContext(ManagerReferenceNodeSetterContext),os=reactExports.useCallback(function(ss){setRef(rs,ss),safeInvoke(is,ss)},[rs,is]);return reactExports.useEffect(function(){return function(){return setRef(rs,null)}},[]),reactExports.useEffect(function(){},[is]),unwrapArray(ns)({ref:os})}const KEY_CODES={TAB:9,ENTER:13,ESCAPE:27,ARROW_UP:38,ARROW_DOWN:40};function useClickOutside(ts,ns){const rs=os=>!!ts.current&&!ts.current.contains(os.target),is=os=>{rs(os)&&ns&&ns(os)};reactExports.useEffect(()=>(document.addEventListener("mousedown",is),document.addEventListener("touchstart",is),()=>{document.removeEventListener("mousedown",is),document.removeEventListener("touchstart",is)}))}function useTabOutside(ts,ns){const rs=()=>!!ts.current&&!ts.current.contains(document.activeElement),is=os=>{if(os.keyCode===9&&rs())return ns(os)};reactExports.useEffect(()=>(document.addEventListener("keyup",is),()=>{document.removeEventListener("keyup",is)}))}var Om;const StyledPopOverMenu=styled.ul(Om||(Om=zl(["\n  width: fit-content;\n  max-width: 22rem;\n  background-color: ",";\n  border: ",";\n  margin: 0;\n  border-radius: 0.25rem;\n  backdrop-filter: blur(1rem);\n  list-style: none;\n  padding: 0.5rem 0;\n  box-shadow: ",";\n  z-index: ",";\n  display: table;\n  overflow: inherit;\n"])),ts=>ts.theme.popOver.menuBgd,ts=>ts.theme.popOver.menuBorder,ts=>ts.theme.popOver.shadow,ts=>ts.theme.zIndex.popOver);var Mm;const StyledPopOverToggle=styled.button(Mm||(Mm=zl(["\n  background-color: transparent;\n  padding: 0;\n  border: none;\n  cursor: pointer;\n  &:focus {\n    outline: 0;\n  }\n"])));var Dm;const StyledPopOverItem=styled.li(Dm||(Dm=zl(["\n  height: 2rem;\n  position: relative;\n\n  button,\n  a {\n    width: 100%;\n    height: 100%;\n    display: flex;\n    align-items: center;\n    border: none;\n    cursor: pointer;\n    background-color: ",";\n    color: ",";\n    line-height: ",";\n    font-size: ",";\n    padding: 0 2.5rem;\n    text-decoration: none;\n    outline: 0;\n\n    &:hover,\n    &:focus {\n      background-color: ",";\n      color: ",";\n      outline: 0;\n    }\n\n    &:disabled {\n      color: ",";\n    }\n  }\n\n  a {\n    width: unset;\n  }\n\n  .ch-content > * {\n    ",";\n  }\n\n  .ch-check {\n    position: absolute;\n    left: 0.5rem;\n    width: 1.5rem;\n    height: 1.5rem;\n    top: 0.33rem;\n  }\n\n  &:hover .ch-check g,\n  &:focus .ch-check g {\n    fill: ",";\n  }\n"])),ts=>ts.theme.popOver.itemBgd,ts=>ts.theme.popOver.itemText,ts=>ts.theme.fontSizes.text.lineHeight,ts=>ts.theme.fontSizes.text.fontSize,ts=>ts.theme.popOver.active.itemBgd,ts=>ts.theme.popOver.active.itemText,ts=>ts.theme.popOver.disabled,ellipsis,ts=>ts.theme.popOver.active.itemText);var Nm;styled(StyledPopOverItem)(Nm||(Nm=zl(["\n  > span {\n    width: 100%;\n    height: 100%;\n    display: block;\n    height: 2rem;\n  }\n\n  > button {\n    position: relative;\n  }\n\n  .ch-caret {\n    position: absolute;\n    width: 1.5rem;\n    height: 1.5rem;\n    right: 0;\n    color: inherit;\n    fill: inherit;\n  }\n"])));var Lm;styled.header(Lm||(Lm=zl(["\n  border-bottom: 0.0625rem solid ",";\n  margin-bottom: 0.75rem;\n  max-width: 22rem;\n\n  img {\n    width: 100%;\n    display: inline-block;\n    margin-top: -0.5rem;\n    border-radius: 0.25rem 0.25rem 0 0;\n  }\n\n  img + .ch-title {\n    margin-top: 0.75rem;\n  }\n\n  .ch-title {\n    ",";\n    padding: 0 2.5rem;\n    margin-top: 0.5rem;\n    margin-bottom: 0;\n    color: ",";\n    font-size: 1.18125rem;\n    line-height: ",";\n  }\n\n  .ch-subtitle {\n    ",";\n    padding: 0 2.5rem;\n    color: #616672;\n    font-size: ",";\n    line-height: ",";\n    line-height: 1.43;\n    margin: 0 0 1rem;\n  }\n"])),ts=>ts.theme.popOver.separator,ellipsis,ts=>ts.theme.popOver.titleText,ts=>ts.theme.fontSizes.text.lineHeight,ellipsis,ts=>ts.theme.fontSizes.text.fontSize,ts=>ts.theme.fontSizes.text.lineHeight);var Fm;styled.li(Fm||(Fm=zl(["\n  margin: 0;\n  border-width: 0.0625rem 0 0 0;\n  border-style: solid;\n  border-color: ",";\n  margin-bottom: 0.75rem;\n  opacity: 0.8;\n"])),ts=>ts.theme.popOver.separator);const getFocusableElements=ts=>ts.querySelectorAll("button, [href]"),PopOver=ts=>{var{renderButton:ns,renderButtonWrapper:rs,onPopOverClick:is,children:os,isSubMenu:ss=!1,placement:as="bottom-start",a11yLabel:ls,className:cs,closeOnClick:us=!0}=ts,ds=__rest(ts,["renderButton","renderButtonWrapper","onPopOverClick","children","isSubMenu","placement","a11yLabel","className","closeOnClick"]);const ps=reactExports.createRef(),[hs,ms]=reactExports.useState(!1);reactExports.useEffect(()=>{if(hs&&ps.current){const Ss=getFocusableElements(ps.current);Ss&&Ss[0].focus()}},[hs]);const gs=Ss=>{const $s=ps.current;if(!ss&&$s){const Cs=getFocusableElements($s),Es=document.activeElement;for(let xs=0;xs<Cs.length;xs++)if(Cs[xs]===Es){if(Ss==="down"&&xs!==Cs.length-1)return Cs[xs+1].focus();if(Ss==="up"&&xs>0)return Cs[xs-1].focus();break}}},ys=Ss=>us?Ss.target.closest("[data-menu='submenu']")?!1:ms(!1):void 0,vs=Ss=>{switch(Ss.keyCode){case KEY_CODES.ESCAPE:return ms(!1);case KEY_CODES.ARROW_UP:return gs("up");case KEY_CODES.ARROW_DOWN:return gs("down")}},bs=()=>{ms(!hs),is&&is(hs)};return useClickOutside(ps,()=>ms(!1)),useTabOutside(ps,()=>ms(!1)),React$1.createElement("span",{ref:ps,onKeyDown:vs,"data-testid":"popover"},React$1.createElement(Manager,null,React$1.createElement(Reference,null,({ref:Ss})=>{const $s={ref:Ss,className:classnames(cs,"ch-popover-toggle"),onClick:bs,"data-menu":ss?"submenu":null,"aria-label":ls,"aria-haspopup":!0,"aria-expanded":hs,"data-testid":"popover-toggle"};if(ns)return React$1.createElement(StyledPopOverToggle,Object.assign({},$s),ns(hs));if(rs){const{ref:Cs}=$s,Es=__rest($s,["ref"]);return React$1.createElement("span",{ref:Cs},rs(hs,Es))}return null}),hs&&React$1.createElement(Popper,Object.assign({placement:as,modifiers:[{name:"offset",options:{offset:[-8,0]}}]},ds),({ref:Ss,style:$s,placement:Cs})=>React$1.createElement(StyledPopOverMenu,{"data-placement":Cs,onClick:Es=>ys(Es),ref:Ss,style:$s,"data-testid":"menu",className:"ch-popover-menu"},os))))},consoleLogger=new buildExports.ConsoleLogger("ChimeSDKReactComponent",buildExports.LogLevel.INFO),LoggerContext=React$1.createContext(consoleLogger),useLogger=()=>reactExports.useContext(LoggerContext),caretSpacing=.25,caretSize=.5,sidePadding=.5,verticalPadding=.75,fontSize=1;var Bm;const TopProps=Ae(Bm||(Bm=zl(["\n  top: calc(\n    ","px -\n      ","rem\n  );\n  left: ","px;\n  transform: translateX(-50%) translateY(-50%);\n\n  &::before {\n    transform: rotateZ(180deg);\n    top: 100%;\n    left: calc(50% - ","rem);\n  }\n"])),ts=>{var ns,rs;return(rs=(ns=ts.bounds)===null||ns===void 0?void 0:ns.top)!==null&&rs!==void 0?rs:0},caretSize+caretSpacing+fontSize,ts=>{var ns,rs,is,os;return(((rs=(ns=ts.bounds)===null||ns===void 0?void 0:ns.left)!==null&&rs!==void 0?rs:0)+((os=(is=ts.bounds)===null||is===void 0?void 0:is.right)!==null&&os!==void 0?os:0))/2},caretSize);var Um;const BottomProps=Ae(Um||(Um=zl(["\n  top: calc(\n    ","px +\n      ","rem\n  );\n  left: ","px;\n  transform: translateX(-50%) translateY(-50%);\n\n  &::before {\n    transform: rotateZ(0deg);\n    top: -","rem;\n    left: calc(50% - ","rem);\n  }\n"])),ts=>{var ns,rs;return(rs=(ns=ts.bounds)===null||ns===void 0?void 0:ns.bottom)!==null&&rs!==void 0?rs:0},caretSize+caretSpacing+fontSize,ts=>{var ns,rs,is,os;return(((rs=(ns=ts.bounds)===null||ns===void 0?void 0:ns.left)!==null&&rs!==void 0?rs:0)+((os=(is=ts.bounds)===null||is===void 0?void 0:is.right)!==null&&os!==void 0?os:0))/2},caretSize,caretSize);var jm;const LeftProps=Ae(jm||(jm=zl(["\n  top: ","px;\n  left: calc(\n    ","px - ","rem\n  );\n  transform: translateY(-50%) translateX(-100%);\n\n  &::before {\n    transform: rotateZ(90deg);\n    top: calc(50% - ","rem);\n    left: calc(100% - ","rem);\n  }\n"])),ts=>{var ns,rs,is,os;return(((rs=(ns=ts.bounds)===null||ns===void 0?void 0:ns.top)!==null&&rs!==void 0?rs:0)+((os=(is=ts.bounds)===null||is===void 0?void 0:is.bottom)!==null&&os!==void 0?os:0))/2},ts=>{var ns,rs;return(rs=(ns=ts.bounds)===null||ns===void 0?void 0:ns.left)!==null&&rs!==void 0?rs:0},caretSize+caretSpacing,caretSize/2,caretSpacing);var Vm;const RightProps=Ae(Vm||(Vm=zl(["\n  top: ","px;\n  left: calc(\n    ","px + ","rem\n  );\n  transform: translateY(-50%);\n\n  &::before {\n    transform: rotateZ(270deg);\n    top: calc(50% - ","rem);\n    left: -","rem;\n  }\n"])),ts=>{var ns,rs,is,os;return(((rs=(ns=ts.bounds)===null||ns===void 0?void 0:ns.top)!==null&&rs!==void 0?rs:0)+((os=(is=ts.bounds)===null||is===void 0?void 0:is.bottom)!==null&&os!==void 0?os:0))/2},ts=>{var ns,rs;return(rs=(ns=ts.bounds)===null||ns===void 0?void 0:ns.right)!==null&&rs!==void 0?rs:0},caretSize+caretSpacing,caretSize/2,caretSize+caretSpacing);var Hm;const StyledTooltip=styled.span(Hm||(Hm=zl(["\n  @keyframes fadeIn {\n    0% {\n      opacity: 0;\n    }\n\n    100% {\n      opacity: 1;\n    }\n  }\n\n  position: fixed;\n  z-index: 9999;\n  color: white;\n  white-space: nowrap;\n  pointer-events: none;\n  line-height: normal;\n  background-color: rgba(0, 0, 0, 0.8);\n  border-radius: ","rem;\n  font-size: ","rem;\n  font-weight: 300;\n  padding: ","rem ","rem;\n  white-space: nowrap;\n  animation: fadeIn 0.3s;\n\n  &::before {\n    border-bottom: ","rem solid rgba(0, 0, 0, 0.8);\n    border-left: ","rem solid transparent;\n    border-right: ","rem solid transparent;\n    content: '';\n    height: 0;\n    transform: translateX(-100%) translateY(-50%);\n    width: 0;\n    z-index: 1;\n    position: absolute;\n  }\n\n  ","\n  ","\n  ","\n  ","\n"])),fontSize/2,fontSize,sidePadding,verticalPadding,caretSize,caretSize,caretSize,ts=>ts.position==="top"&&TopProps,ts=>ts.position==="bottom"&&BottomProps,ts=>ts.position==="left"&&LeftProps,ts=>ts.position==="right"&&RightProps),initialState$3={show:!1,bounds:null},WithTooltip=(ts,ns)=>rs=>{var is;const os=useLogger(),[{show:ss,bounds:as},ls]=reactExports.useState(initialState$3),[cs,us]=reactExports.useState(null),ds=(is=rs.tooltipPosition)!==null&&is!==void 0?is:"top",ps=reactExports.useCallback(ms=>{ms.preventDefault(),ms.stopPropagation();let gs=ms.target;for(;!gs.getAttribute("data-tooltip");)gs=gs.parentElement;const ys=gs.getBoundingClientRect();ls({show:!0,bounds:ys})},[]),hs=reactExports.useCallback(ms=>{ms.preventDefault(),ms.stopPropagation(),ls(initialState$3)},[]);return reactExports.useEffect(()=>(document.addEventListener("scroll",hs,!0),()=>document.removeEventListener("scroll",hs,!0)),[]),reactExports.useEffect(()=>{const ms=document.getElementById(ns||"Tooltip__container");if(!ms){os.warn("Attempted to use 'WithTooltip' but could not find container element.Pass a valid element ID or add 'Tooltip__container' ID to existing element");return}us(ms)},[ns]),React$1.createElement(React$1.Fragment,null,ss&&as&&cs&&ReactDOM__default.createPortal(React$1.createElement(StyledTooltip,{position:ds,bounds:as},rs.tooltipContent||rs.label),cs),React$1.createElement(ts,Object.assign({},rs,{"data-tooltip":!0,"data-tooltip-position":ds,onClick:ms=>{var gs;ss&&hs(ms),(gs=rs==null?void 0:rs.onClick)===null||gs===void 0||gs.call(rs,ms)},onFocus:ms=>{var gs;ss||ps(ms),(gs=rs==null?void 0:rs.onFocus)===null||gs===void 0||gs.call(rs,ms)},onBlur:ms=>{var gs;ss&&hs(ms),(gs=rs==null?void 0:rs.onBlur)===null||gs===void 0||gs.call(rs,ms)},onMouseEnter:ms=>{var gs;ss||ps(ms),(gs=rs==null?void 0:rs.onMouseEnter)===null||gs===void 0||gs.call(rs,ms)},onMouseLeave:ms=>{var gs;ss&&hs(ms),(gs=rs==null?void 0:rs.onMouseLeave)===null||gs===void 0||gs.call(rs,ms)}})))};var zm;const fillSpace=Ae(zm||(zm=zl(["\n  display: flex;\n  width: 100%;\n  height: 100%;\n"])));var Wm;const fillSpaceCentered=Ae(Wm||(Wm=zl(["\n  ",";\n  align-items: center;\n  justify-content: center;\n"])),fillSpace);var Gm;const equalColumns=Ae(Gm||(Gm=zl(["\n  display: flex;\n  flex-direction: row;\n  height: 100%;\n  align-items: stretch;\n\n  > * {\n    flex-grow: 1;\n    flex-basis: 50%;\n  }\n"])));var qm;const stack$1=Ae(qm||(qm=zl(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n\n  > * {\n    width: 100%;\n  }\n"]))),layoutMap$1={"fill-space":fillSpace,"fill-space-centered":fillSpaceCentered,"equal-columns":equalColumns,stack:stack$1};var Km;const StyledFlex=styled.div(Km||(Km=zl(["\n  align-items: ",";\n  display: ",";\n  flex: ",";\n  flex-basis: ",";\n  flex-direction: ",";\n  flex-grow: ",";\n  flex-shrink: ",";\n  flex-wrap: ",";\n  justify-content: ",";\n\n  // layout variants\n  ","\n\n  ","\n  ","\n"])),ts=>ts.alignItems,ts=>ts.container?"flex":"block",ts=>ts.flex||"",ts=>ts.flexBasis,ts=>ts.flexDirection,ts=>ts.flexGrow||"",ts=>ts.flexShrink,ts=>ts.flexWrap,ts=>ts.justifyContent,ts=>!!ts.layout&&layoutMap$1[ts.layout],baseSpacing,baseStyles),Flex=ts=>{var{children:ns,className:rs,tag:is,alignItems:os="stretch",container:ss=!1,flexBasis:as="auto",flexDirection:ls="row",flexShrink:cs=1,flexWrap:us="nowrap",justifyContent:ds="flex-start"}=ts,ps=__rest(ts,["children","className","tag","alignItems","container","flexBasis","flexDirection","flexShrink","flexWrap","justifyContent"]);return React$1.createElement(StyledFlex,Object.assign({alignItems:os,container:ss,flexBasis:as,flexDirection:ls,flexShrink:cs,flexWrap:us,justifyContent:ds,as:is,"data-testid":"flex",className:rs||""},ps),ns)};function useUniqueId(){const[ts]=reactExports.useState(()=>v4());return ts}var Ym;const StyledLabel=styled.label(Ym||(Ym=zl(["\n  color: ",";\n  font-size: ",";\n  line-height: ",";\n\n  ","\n  ","\n"])),ts=>ts.theme.inputs.fontColor,ts=>ts.theme.fontSizes.label.fontSize,ts=>ts.theme.fontSizes.label.lineHeight,baseSpacing,baseStyles),Label=reactExports.forwardRef((ts,ns)=>{const{className:rs,tag:is}=ts,os=__rest(ts,["className","tag"]);return React$1.createElement(StyledLabel,Object.assign({as:is,"data-testid":"label",className:rs||""},os),ts.children)});var Zm;const stack=Ae(Zm||(Zm=zl(["\n  &.ch-form-field-input,\n  &.ch-form-field-select,\n  &.ch-form-field-textarea {\n    display: flex;\n    flex-direction: column;\n\n    label {\n      display: block;\n      margin-bottom: 0.5rem;\n    }\n\n    input,\n    select {\n      width: 100%;\n    }\n  }\n\n  &.ch-form-field-checkbox {\n    display: grid;\n    grid-template-columns: 1.5rem 1fr;\n    grid-template-rows: auto;\n    gap: 0px 0.5rem;\n\n    .ch-checkbox {\n      grid-column: 1;\n      grid-row: 1;\n    }\n\n    .ch-checkbox-label {\n      line-height: 1.3;\n      grid-column: 2;\n    }\n\n    .ch-help-text {\n      grid-row: 2;\n      grid-column: 1/3;\n    }\n  }\n\n  &.ch-form-field-radiogroup {\n    flex-direction: column;\n\n    .ch-radio-wrapper {\n      display: block;\n      margin-bottom: 0.5rem;\n      padding-left: 0.125rem;\n      display: grid;\n      grid-template-columns: 1.5rem 1fr;\n      grid-template-rows: auto;\n\n      align-items: center;\n    }\n\n    .ch-radio-label {\n      margin-left: 1rem;\n      position: relative;\n      bottom: -0.5px;\n    }\n  }\n"])));var Jm;const horizontal=Ae(Jm||(Jm=zl(["\n  @media (max-width: 599px) {\n    ",";\n  }\n\n  @media (min-width: 600px) {\n    &.ch-form-field-input,\n    &.ch-form-field-select,\n    &.ch-form-field-textarea,\n    &.ch-form-field-checkbox {\n      display: grid;\n      grid-template-columns: 30% 1fr;\n      grid-template-rows: auto;\n      gap: 0px 0.5rem;\n      align-items: center;\n\n      input {\n        width: 100%;\n      }\n\n      .ch-help-text {\n        grid-column: 2;\n      }\n    }\n\n    &.ch-form-field-radiogroup {\n      flex-wrap: wrap;\n\n      fieldset {\n        width: 100%;\n      }\n\n      .ch-radio-wrapper {\n        display: grid;\n        grid-template-columns: 30% 1fr;\n        grid-template-rows: auto;\n        gap: 0px 0.5rem;\n        align-items: center;\n        margin-bottom: 0.5rem;\n      }\n\n      .ch-radio {\n        grid-column: 2;\n        grid-row: 1;\n        margin-top: -4px;\n      }\n\n      .ch-radio-label {\n        grid-column: 1;\n        padding-right: 1rem;\n        margin-left: 0;\n      }\n\n      .ch-help-text {\n        width: 100%;\n      }\n    }\n  }\n"])),stack);var Xm;const inputOnly=Ae(Xm||(Xm=zl(["\n  &.ch-form-field-input,\n  &.ch-form-field-select,\n  &.ch-form-field-textarea {\n    display: flex;\n    flex-direction: column;\n\n    input {\n      width: 100%;\n    }\n  }\n\n  &.ch-form-field-checkbox {\n    display: flex;\n    flex-wrap: wrap;\n    align-items: center;\n\n    .ch-checkbox {\n      order: 1;\n    }\n\n    .ch-checkbox-label {\n      order: 2;\n      padding-left: 1rem;\n    }\n\n    .ch-help-text {\n      width: 100%;\n      order: 3;\n    }\n  }\n\n  &.ch-form-field-radiogroup {\n    flex-direction: column;\n\n    .ch-radio-wrapper {\n      display: block;\n      margin-bottom: 0.5rem;\n    }\n\n    .ch-radio-label {\n      margin-left: 1rem;\n    }\n  }\n"]))),layoutMap={stack,horizontal,"input-only":inputOnly};var Qm;const StyledFormField=styled.div(Qm||(Qm=zl(["\n  display: flex;\n  margin-bottom: 1rem;\n  position: relative;\n\n  fieldset {\n    margin: 0;\n    border: none;\n    padding: 0;\n  }\n\n  .ch-help-text {\n    font-size: ",";\n    margin-top: 0.5rem;\n    color: ",";\n  }\n\n  legend {\n    font-size: ",";\n    color: ",";\n    margin-bottom: 0.5rem;\n  }\n\n  ","\n\n  ","\n  ","\n"])),ts=>ts.theme.fontSizes.small.fontSize,ts=>ts.error?ts.theme.inputs.error.fontColor:ts.theme.inputs.fontColor,ts=>ts.theme.fontSizes.text.fontSize,ts=>ts.theme.inputs.fontColor,ts=>!!ts.layout&&layoutMap[ts.layout],baseSpacing,baseStyles);reactExports.forwardRef((ts,ns)=>{var rs;const{field:is,label:os,layout:ss="stack",errorText:as,fieldProps:ls,infoText:cs,error:us,onChange:ds,value:ps,checked:hs,options:ms,className:gs}=ts,ys=__rest(ts,["field","label","layout","errorText","fieldProps","infoText","error","onChange","value","checked","options","className"]),vs=((rs=is.displayName)===null||rs===void 0?void 0:rs.toLowerCase())||"",bs=useUniqueId(),Ss=useUniqueId(),$s=us&&as||cs,Cs=()=>ss==="input-only"&&vs!=="checkbox"?null:vs!=="radiogroup"?React$1.createElement(Label,{htmlFor:bs,className:"ch-".concat(vs,"-label")},os):!1;return React$1.createElement(StyledFormField,Object.assign({layout:ss,error:us,className:"ch-form-field-".concat(vs," ").concat(gs||""),"data-testid":"form-field"},ys),Cs(),vs==="radiogroup"?React$1.createElement("fieldset",{"aria-describedby":$s&&Ss,"aria-invalid":us},os&&React$1.createElement("legend",null,os),React$1.createElement(is,Object.assign({options:ms,ref:ns,id:bs,onChange:ds,value:ps},ls))):React$1.createElement(is,Object.assign({options:ms,"aria-label":ss==="input-only"&&os||null,"aria-describedby":$s&&Ss,"aria-invalid":us,ref:ns,id:bs,onChange:ds,value:ps,checked:hs},ls)),$s&&React$1.createElement("span",{className:"ch-help-text",id:Ss},$s))});var _g;const StyledHeading=styled.h1(_g||(_g=zl(["\n  display: block;\n  margin: 0;\n\n  font-size: ",";\n  font-weight: ",";\n  line-height: ",";\n\n  "," {\n    font-size: ",";\n    font-weight: ",";\n    line-height: ",";\n  }\n\n  ","\n  ","\n"])),ts=>ts.theme.fontSizes["h".concat(ts.level)].mobile.fontSize,ts=>ts.theme.fontSizes["h".concat(ts.level)].mobile.fontWeight,ts=>ts.theme.fontSizes["h".concat(ts.level)].mobile.lineHeight,({theme:ts})=>ts.mediaQueries.min.md,ts=>ts.theme.fontSizes["h".concat(ts.level)].fontSize,ts=>ts.theme.fontSizes["h".concat(ts.level)].fontWeight,ts=>ts.theme.fontSizes["h".concat(ts.level)].lineHeight,baseSpacing,baseStyles);reactExports.forwardRef((ts,ns)=>{const{tag:rs,children:is,className:os,level:ss}=ts,as=__rest(ts,["tag","children","className","level"]);return React$1.createElement(StyledHeading,Object.assign({as:rs||"h".concat(ss),className:os||"",level:ss,ref:ns,"data-testid":"heading"},as),is)});const getPadding=ts=>{const{sizing:ns,leadingIcon:rs}=ts;return ns==="sm"?"0.125rem 1.75rem 0.125rem ".concat(rs?"1.3125rem":"0.5rem"):"0.34375rem 1.75rem 0.34375rem ".concat(rs?"1.3125rem":"0.5rem")};var ey;const StyledInputWrapper=styled.span(ey||(ey=zl(["\n  position: relative;\n\n  > .ch-icon {\n    position: absolute;\n    width: 1rem;\n    left: 0.1875rem;\n    position: absolute;\n    top: 54%;\n    transform: translateY(-50%);\n  }\n\n  > input {\n    padding: ",";\n  }\n"])),ts=>getPadding(ts));var ty;const StyledInput=styled.input(ty||(ty=zl(["\n  align-items: center;\n  display: flex;\n  letter-spacing: -0.005625rem;\n  transition: box-shadow 0.05s ease-in;\n  background-color: ",";\n  border: ",";\n  border-radius: ",";\n  box-shadow: ",";\n  color: ",";\n  font-size: ",";\n  line-height: ",";\n\n  &::placeholder {\n    color: ",";\n  }\n\n  &:focus,\n  &[aria-invalid='true']:focus {\n    border: ",";\n    box-shadow: ",";\n    outline: none;\n  }\n\n  &[aria-invalid='true'] {\n    border: ",";\n    box-shadow: ",";\n  }\n\n  // Hides native clear button\n  &::-webkit-search-decoration,\n  ::-webkit-search-cancel-button,\n  ::-webkit-search-results-button,\n  ::-webkit-search-results-decoration {\n    display: none;\n  }\n\n  &::-ms-clear,\n  &::-ms-reveal {\n    display: none;\n    width: 0;\n    height: 0;\n  }\n\n  ","\n  ","\n"])),ts=>ts.theme.inputs.bgd,ts=>ts.theme.inputs.border,ts=>ts.theme.inputs.borderRadius,ts=>ts.theme.inputs.shadow,ts=>ts.theme.inputs.fontColor,ts=>ts.theme.fontSizes.text.fontSize,ts=>ts.theme.fontSizes.text.lineHeight,ts=>ts.theme.inputs.placeholder,ts=>ts.theme.inputs.focus.border,ts=>ts.theme.inputs.focus.shadow,ts=>ts.theme.inputs.error.border,ts=>ts.theme.inputs.error.shadow,baseSpacing,baseStyles);var ny;const StyledClear=styled.button(ny||(ny=zl(["\n  position: absolute;\n  top: 50%;\n  right: 0.125rem;\n  transform: translateY(-44%);\n  border: none;\n  background: none;\n  cursor: pointer;\n  display: ",";\n\n  path {\n    fill: ",";\n  }\n\n  &:active,\n  &:focus {\n    outline: none;\n  }\n"])),ts=>ts.active?"block":"none",ts=>ts.theme.inputs.clearBg),InputWrapper=reactExports.forwardRef((ts,ns)=>{const{leadingIcon:rs,children:is,sizing:os}=ts,ss=__rest(ts,["leadingIcon","children","sizing"]);return React$1.createElement(StyledInputWrapper,Object.assign({ref:ns,sizing:os,leadingIcon:rs},ss,{"data-testid":"input-wrapper"}),rs&&React$1.createElement("span",{className:"ch-icon"},rs),is)}),Input=reactExports.forwardRef((ts,ns)=>{const{type:rs,value:is,sizing:os,onClear:ss,onChange:as,className:ls,leadingIcon:cs,showClear:us=!0}=ts,ds=__rest(ts,["type","value","sizing","onClear","onChange","className","leadingIcon","showClear"]),[ps,hs]=reactExports.useState(!1),ms=reactExports.useRef(!1),gs=reactExports.useRef(null),ys=ns||gs,vs=reactExports.useRef(null),bs=ts["aria-label"]?"clear ".concat(ts["aria-label"]):"clear",Ss=()=>{var $s;if(ss){ss();return}const Cs=ys.current,Es=($s=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value"))===null||$s===void 0?void 0:$s.set;Es&&Cs&&(Es.call(Cs,""),Cs.dispatchEvent(new Event("input",{bubbles:!0}))),Cs.focus()};return reactExports.useEffect(()=>{let $s=!1;const Cs=xs=>{if(ms.current){if(xs.target!==vs.current&&xs.target!==ys.current){ms.current=!1,hs(!1);return}$s&&($s=!1)}},Es=()=>{ms.current&&($s=!0,setTimeout(()=>{$s&&(ms.current=!1,hs(!1)),$s=!1},10))};return document.addEventListener("focusin",Cs),document.addEventListener("focusout",Es),()=>{document.removeEventListener("focusin",Cs),document.removeEventListener("focusout",Es)}},[]),React$1.createElement(InputWrapper,{leadingIcon:cs,sizing:os,className:"ch-input-wrapper ".concat(ls||"")},React$1.createElement(StyledInput,Object.assign({},ds,{value:is,type:rs||"text",ref:ys,className:"ch-input",onChange:as,"data-testid":"input",onFocus:()=>{ms.current=!0,hs(!0)}})),us&&React$1.createElement(StyledClear,{type:"button",active:!!(ss||ps&&is.length),tabIndex:-1,"aria-label":bs,onClick:Ss,ref:vs},React$1.createElement(Clear,{width:"1.25rem"})))});Input.displayName="Input";reactExports.forwardRef((ts,ns)=>{const rs=Object.assign(Object.assign({},ts),{sizing:"sm",type:"search",leadingIcon:React$1.createElement(Search,{"data-testid":"search-icon"})});return React$1.createElement(Input,Object.assign({},rs,{ref:ns}))});reactExports.createContext({onClose(){},labelID:"",dismissible:!0});var ry;const fadeAnimation=We(ry||(ry=zl(["\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n"])));var iy;const slideDownAndScaleUp=We(iy||(iy=zl(["\n  0% {\n    opacity: 0;\n    transform: translateY(4rem) scale(0.4);\n  }\n  100% {\n    opacity: 1;\n    transform: translateY(0) scale(1);\n  }\n"])));var oy;styled.div(oy||(oy=zl(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: ",";\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: ",";\n  overflow-x: hidden;\n  animation: "," 0.25s ease 0s forwards;\n  will-change: opacity;\n\n  > section {\n    position: relative;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    border-radius: ",";\n    color: ",";\n    background-color: ",";\n    width: ",";\n    box-shadow: ",";\n    max-width: ",";\n    height: ",";\n    max-height: ",";\n    will-change: transform, opacity;\n    animation: "," 0.15s ease 0s forwards;\n\n    @media only screen and (max-height: 25rem) {\n      position: absolute;\n      top: 2rem;\n      height: auto;\n      max-height: none;\n    }\n  }\n\n  ","\n  ","\n"])),ts=>ts.theme.modal.wrapperBgd,ts=>ts.theme.zIndex.modal,fadeAnimation,ts=>ts.theme.radii.default,ts=>ts.theme.modal.text,ts=>ts.theme.modal.bgd,ts=>ts.theme.modalSizes[ts.size||"md"].width,ts=>ts.theme.modal.shadow,ts=>ts.size==="fullscreen"?ts.theme.modalSizes[ts.size].width:"90vw",ts=>ts.size==="fullscreen"?ts.theme.modalSizes[ts.size].height:"auto",ts=>ts.theme.modalSizes[ts.size||"md"].height,slideDownAndScaleUp,baseSpacing,baseStyles);var sy;styled.header(sy||(sy=zl(["\n  padding: 1rem 1.5rem;\n\n  .ch-close-button {\n    position: absolute;\n    right: 1.55rem;\n    top: 1rem;\n  }\n\n  .ch-title {\n    padding-right: 2rem;\n    margin: 0;\n    font-size: ",";\n    font-weight: ",";\n  }\n\n  ","\n  ","\n"])),ts=>ts.theme.modal.titleSize,ts=>ts.theme.modal.titleWeight,baseSpacing,baseStyles);var ay;styled.div(ay||(ay=zl(["\n  font-size: ",";\n  line-height: ",";\n  padding: 0 1.5rem;\n  flex-grow: 1;\n  overflow-y: auto;\n\n  ","\n  ","\n"])),ts=>ts.theme.fontSizes.text.fontSize,ts=>ts.theme.fontSizes.text.lineHeight,baseSpacing,baseStyles);var ly;styled.footer(ly||(ly=zl(["\n  padding: 1.5rem;\n  border-top: 1px solid ",";\n  display: flex;\n  flex-direction: row-reverse;\n  justify-content: space-between;\n\n  div:first-child {\n    display: flex;\n    flex-direction: row-reverse;\n  }\n\n  button + button {\n    margin: 0 0.5rem 0 0.5rem;\n  }\n\n  @media (max-width: 35rem) {\n    flex-direction: column;\n\n    button {\n      width: 100%;\n    }\n\n    div:first-child {\n      display: flex;\n      flex-direction: column;\n    }\n\n    button + button,\n    div + div {\n      margin: 0.5rem 0 0;\n    }\n  }\n\n  ","\n  ","\n"])),ts=>ts.theme.modal.border,baseSpacing,baseStyles);var cy;const StyledHeader$1=styled.div(cy||(cy=zl(["\n  display: flex;\n  height: 3rem;\n  align-items: center;\n  border-bottom: ",";\n  padding: 1rem;\n\n  .ch-title {\n    flex: 1;\n  }\n\n  .ch-btn-close {\n    margin-left: auto;\n    margin-right: 1rem;\n  }\n\n  "," {\n    display: none;\n  }\n"])),({theme:ts})=>"0.03125rem solid ".concat(ts.navbar.headerBorder),({theme:ts})=>ts.mediaQueries.min.md);var uy;const StyledNavbarItem=styled.div(uy||(uy=zl(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 4.25rem;\n  min-height: 3rem;\n  flex-direction: column;\n  padding: 0 0.25rem;\n\n  .ch-navigation-bar-item-label {\n    text-align: center;\n    display: ",";\n    font-size: ",";\n    width: 100%;\n    padding: 0 0.25rem;\n    margin-bottom: 1.5rem;\n  }\n"])),({showLabel:ts})=>ts?"block":"none",({theme:ts})=>ts.fontSizes.footnote.fontSize);var dy;styled(Flex)(dy||(dy=zl(["\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  max-width: 100%;\n  color: ",";\n  background-color: ",";\n  width: 4.25rem;\n  padding-top: 1rem;\n\n  "," {\n    width: ",";\n    padding-top: ",";\n\n    "," {\n      display: ",";\n    }\n\n    "," {\n      ",";\n    }\n  }\n\n  ","\n  ","\n"])),ts=>ts.theme.navbar.text,({theme:ts})=>ts.navbar.bgd,({theme:ts,responsive:ns})=>ts.mediaQueries.max.md,ts=>ts.responsive?"20rem":"4.25rem;",ts=>ts.responsive?"0":"1rem",StyledHeader$1,ts=>ts.responsive?"flex":"none",StyledNavbarItem,ts=>ts.responsive&&" \n        width: auto;\n        flex-direction: row;\n\n        .ch-navigation-bar-item-label {\n          font-size: 1rem;\n          text-align: left;\n          margin-left: 1.5rem;\n          margin-bottom: 0;\n          display: block;\n        }",baseStyles,baseSpacing);var fy;const StyledCloseIconButton=styled(IconButton)(fy||(fy=zl([""])));var py;const StyledNotificationButton=styled(SecondaryButton)(py||(py=zl([""])));var hy;styled.div(hy||(hy=zl(["\n  align-items: center;\n  position: relative;\n  display: inline-flex;\n  align-items: center;\n  color: ",";\n  background-color: ",";\n  padding: 0.75rem;\n  box-shadow: ",";\n  border-radius: 0.25rem;\n  margin: 0.75rem;\n  max-width: 45rem;\n  pointer-events: auto;\n\n  .ch-severity-icon {\n    width: 1.5rem;\n    flex-shrink: 0;\n  }\n\n  .ch-message {\n    display: flex;\n    flex-flow: column wrap;\n    font-size: ",";\n    line-height: ",";\n    letter-spacing: -0.005625rem;\n    margin: 0.5rem 0.75rem;\n\n    &:empty {\n      margin: 0;\n    }\n  }\n\n  "," {\n    margin-right: 1.6rem;\n    border-color: ",";\n  }\n\n  ",",\n  "," {\n    background-color: ",";\n    color: ","};\n  }\n\n  ",":hover, ",":focus, ",":hover, ",":focus {\n    background-color: ",";\n    color: ",";\n  }\n\n  ",":active, ",":active {\n    background-color: ",";\n    color: ",";\n  }\n\n  ","\n  ","\n"])),({theme:ts,severity:ns})=>ts.notification[ns].text,({theme:ts,severity:ns})=>ts.colors[ns].primary,({theme:ts})=>ts.notification.shadow,ts=>ts.theme.fontSizes.text.fontSize,ts=>ts.theme.fontSizes.text.lineHeight,StyledNotificationButton,({theme:ts,severity:ns})=>ts.notification[ns].text,StyledCloseIconButton,StyledNotificationButton,({theme:ts,severity:ns})=>ts.colors[ns].primary,({theme:ts,severity:ns})=>ts.notification[ns].closeButton.text,StyledCloseIconButton,StyledCloseIconButton,StyledNotificationButton,StyledNotificationButton,({theme:ts,severity:ns})=>ts.notification[ns].closeButton.hover.bgd,({theme:ts,severity:ns})=>ts.notification[ns].closeButton.hover.text,StyledCloseIconButton,StyledNotificationButton,({theme:ts,severity:ns})=>ts.notification[ns].closeButton.active.bgd,({theme:ts,severity:ns})=>ts.notification[ns].closeButton.active.text,baseSpacing,baseStyles);var Severity$1;(function(ts){ts.ERROR="error",ts.SUCCESS="success",ts.INFO="info",ts.WARNING="warning"})(Severity$1||(Severity$1={}));React$1.createElement(CheckRound,null),React$1.createElement(Clock,null),React$1.createElement(Caution,null),React$1.createElement(Information,null);var Severity;(function(ts){ts.ERROR="error",ts.SUCCESS="success",ts.INFO="info",ts.WARNING="warning"})(Severity||(Severity={}));var ActionType;(function(ts){ts[ts.ADD=0]="ADD",ts[ts.REMOVE=1]="REMOVE",ts[ts.REMOVE_ALL=2]="REMOVE_ALL"})(ActionType||(ActionType={}));const initialState$2={notifications:[]};React$1.createContext(initialState$2);React$1.createContext(()=>{});var my;styled.div(my||(my=zl(["\n  position: fixed;\n  top: 2rem;\n  left: 0;\n  right: 0;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  z-index: ",";\n  pointer-events: none;\n"])),ts=>ts.theme.zIndex.notificationGroup);var gy;const HiddenRadio=styled.input(gy||(gy=zl(["\n  ",";\n\n  &[aria-invalid='true'] + .ch-radio {\n    border: ",";\n    box-shadow: ",";\n  }\n"])),visuallyHidden,ts=>ts.theme.inputs.error.border,ts=>ts.theme.inputs.error.shadow);var yy;styled.span(yy||(yy=zl(["\n  > label {\n    margin-left: 0.5rem;\n  }\n"])));var vy;const StyledRadio=styled.div(vy||(vy=zl(["\n  background-color: ",";\n  border: ",";\n  border-radius: ",";\n  box-shadow: ",";\n  margin-bottom: -0.1875rem;\n  transition: box-shadow 0.05s ease-in;\n\n  ",":checked ~ & {\n    background-color: ",";\n    border: ",";\n    box-shadow: ",";\n  }\n\n  ",":focus ~ & {\n    border: ",";\n    box-shadow: ",";\n  }\n"])),ts=>ts.theme.inputs.bgd,ts=>ts.theme.inputs.border,ts=>ts.theme.radii.circle,ts=>ts.theme.inputs.shadow,HiddenRadio,ts=>ts.theme.inputs.checked.bgd,ts=>ts.theme.inputs.checked.border,ts=>ts.theme.inputs.checked.shadow,HiddenRadio,ts=>ts.theme.inputs.focus.border,ts=>ts.theme.inputs.focus.shadow);var by;styled(StyledRadio)(by||(by=zl(["\n  display: inline-block;\n  height: 1rem;\n  position: relative;\n  width: 1rem;\n\n  &:after {\n    background-color: ",";\n    border-radius: ",";\n    content: '';\n    display: block;\n    height: 0.375rem;\n    padding: 0.03125rem;\n    width: 0.375rem;\n    ",";\n  }\n"])),ts=>ts.checked?ts.theme.inputs.checked.fontColor:ts.theme.inputs.bgd,ts=>ts.theme.radii.circle,absoluteCenter);var Sy;styled(StyledRadio)(Sy||(Sy=zl(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 0.5rem;\n  border-color: ",";\n  box-shadow: none;\n  margin: 0.1rem;\n\n  ",":checked ~ & {\n    svg {\n      stroke: ",";\n    }\n  }\n"])),ts=>ts.theme.colors.greys.white,HiddenRadio,ts=>ts.theme.colors.greys.white);var _y;const StyledWrapper=styled.div(_y||(_y=zl(["\n  position: relative;\n\n  .ch-select-icon {\n    pointer-events: none;\n  }\n\n  ","\n  ","\n"])),baseSpacing,baseStyles);var $y;const StyledSelectInput=styled.select($y||($y=zl(["\n  background-color: ",";\n  border: ",";\n  border-radius: ",";\n  box-shadow: ",";\n  color: ",";\n  font-size: ",";\n  line-height: ",";\n  height: 2rem;\n  letter-spacing: -0.005625rem;\n  width: 100%;\n  padding: 0.375rem 1.5rem 0.375rem 0.5rem;\n  transition: box-shadow 0.05s ease-in;\n  display: inline-block;\n  appearance: none;\n\n  &:focus,\n  &[aria-invalid='true']:focus {\n    border: ",";\n    box-shadow: ",";\n    outline: none;\n  }\n\n  &[aria-invalid='true'] {\n    border: ",";\n    box-shadow: ",";\n  }\n\n  ","\n  ","\n"])),ts=>ts.theme.inputs.bgd,ts=>ts.theme.inputs.border,ts=>ts.theme.inputs.borderRadius,ts=>ts.theme.inputs.shadow,ts=>ts.theme.inputs.fontColor,ts=>ts.theme.fontSizes.text.fontSize,ts=>ts.theme.fontSizes.text.lineHeight,ts=>ts.theme.inputs.focus.border,ts=>ts.theme.inputs.focus.shadow,ts=>ts.theme.inputs.error.border,ts=>ts.theme.inputs.error.shadow,baseSpacing,baseStyles),renderOptions=ts=>ts.map(({value:ns,label:rs})=>React$1.createElement("option",{key:ns,value:ns},rs)),upAndDownCaretStyle={position:"absolute",top:"50%",transform:"translateY(-50%)",right:"0.2rem",width:"1.5rem",height:"1.5rem"},Select=reactExports.forwardRef((ts,ns)=>React$1.createElement(StyledWrapper,null,React$1.createElement(StyledSelectInput,Object.assign({className:"ch-select","data-testid":"select",ref:ns},ts),renderOptions(ts.options)),React$1.createElement(UpAndDownCaret,{style:upAndDownCaretStyle,className:"ch-select-icon","data-testid":"select-icon"})));Select.displayName="Select";var Cy;const StyledTextarea=styled.textarea(Cy||(Cy=zl(["\n  background-color: ",";\n  border: ",";\n  border-radius: ",";\n  box-shadow: ",";\n  color: ",";\n  font-size: ",";\n  padding: 0.5rem;\n  position: relative;\n  min-height: 4rem;\n  transition: box-shadow 0.05s ease-in;\n  width: 100%;\n\n  &:focus,\n  &[aria-invalid='true']:focus {\n    border: ",";\n    box-shadow: ",";\n    outline: none;\n  }\n\n  &[aria-invalid='true'] {\n    border: ",";\n    box-shadow: ",";\n  }\n"])),ts=>ts.theme.inputs.bgd,ts=>ts.theme.inputs.border,ts=>ts.theme.inputs.borderRadius,ts=>ts.theme.inputs.shadow,ts=>ts.theme.inputs.fontColor,ts=>ts.theme.fontSizes.text.fontSize,ts=>ts.theme.inputs.focus.border,ts=>ts.theme.inputs.focus.shadow,ts=>ts.theme.inputs.error.border,ts=>ts.theme.inputs.error.shadow),Textarea=React$1.forwardRef((ts,ns)=>{var{label:rs}=ts,is=__rest(ts,["label"]);return React$1.createElement(StyledTextarea,Object.assign({"aria-label":rs,className:"ch-textarea","data-testid":"textarea",ref:ns},is))});Textarea.displayName="Textarea";var MapShim=function(){if(typeof Map<"u")return Map;function ts(ns,rs){var is=-1;return ns.some(function(os,ss){return os[0]===rs?(is=ss,!0):!1}),is}return function(){function ns(){this.__entries__=[]}return Object.defineProperty(ns.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),ns.prototype.get=function(rs){var is=ts(this.__entries__,rs),os=this.__entries__[is];return os&&os[1]},ns.prototype.set=function(rs,is){var os=ts(this.__entries__,rs);~os?this.__entries__[os][1]=is:this.__entries__.push([rs,is])},ns.prototype.delete=function(rs){var is=this.__entries__,os=ts(is,rs);~os&&is.splice(os,1)},ns.prototype.has=function(rs){return!!~ts(this.__entries__,rs)},ns.prototype.clear=function(){this.__entries__.splice(0)},ns.prototype.forEach=function(rs,is){is===void 0&&(is=null);for(var os=0,ss=this.__entries__;os<ss.length;os++){var as=ss[os];rs.call(is,as[1],as[0])}},ns}()}(),isBrowser=typeof window<"u"&&typeof document<"u"&&window.document===document,global$1=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),requestAnimationFrame$1=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(global$1):function(ts){return setTimeout(function(){return ts(Date.now())},1e3/60)}}(),trailingTimeout=2;function throttle(ts,ns){var rs=!1,is=!1,os=0;function ss(){rs&&(rs=!1,ts()),is&&ls()}function as(){requestAnimationFrame$1(ss)}function ls(){var cs=Date.now();if(rs){if(cs-os<trailingTimeout)return;is=!0}else rs=!0,is=!1,setTimeout(as,ns);os=cs}return ls}var REFRESH_DELAY=20,transitionKeys=["top","right","bottom","left","width","height","size","weight"],mutationObserverSupported=typeof MutationObserver<"u",ResizeObserverController=function(){function ts(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=throttle(this.refresh.bind(this),REFRESH_DELAY)}return ts.prototype.addObserver=function(ns){~this.observers_.indexOf(ns)||this.observers_.push(ns),this.connected_||this.connect_()},ts.prototype.removeObserver=function(ns){var rs=this.observers_,is=rs.indexOf(ns);~is&&rs.splice(is,1),!rs.length&&this.connected_&&this.disconnect_()},ts.prototype.refresh=function(){var ns=this.updateObservers_();ns&&this.refresh()},ts.prototype.updateObservers_=function(){var ns=this.observers_.filter(function(rs){return rs.gatherActive(),rs.hasActive()});return ns.forEach(function(rs){return rs.broadcastActive()}),ns.length>0},ts.prototype.connect_=function(){!isBrowser||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),mutationObserverSupported?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},ts.prototype.disconnect_=function(){!isBrowser||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},ts.prototype.onTransitionEnd_=function(ns){var rs=ns.propertyName,is=rs===void 0?"":rs,os=transitionKeys.some(function(ss){return!!~is.indexOf(ss)});os&&this.refresh()},ts.getInstance=function(){return this.instance_||(this.instance_=new ts),this.instance_},ts.instance_=null,ts}(),defineConfigurable=function(ts,ns){for(var rs=0,is=Object.keys(ns);rs<is.length;rs++){var os=is[rs];Object.defineProperty(ts,os,{value:ns[os],enumerable:!1,writable:!1,configurable:!0})}return ts},getWindowOf=function(ts){var ns=ts&&ts.ownerDocument&&ts.ownerDocument.defaultView;return ns||global$1},emptyRect=createRectInit(0,0,0,0);function toFloat(ts){return parseFloat(ts)||0}function getBordersSize(ts){for(var ns=[],rs=1;rs<arguments.length;rs++)ns[rs-1]=arguments[rs];return ns.reduce(function(is,os){var ss=ts["border-"+os+"-width"];return is+toFloat(ss)},0)}function getPaddings(ts){for(var ns=["top","right","bottom","left"],rs={},is=0,os=ns;is<os.length;is++){var ss=os[is],as=ts["padding-"+ss];rs[ss]=toFloat(as)}return rs}function getSVGContentRect(ts){var ns=ts.getBBox();return createRectInit(0,0,ns.width,ns.height)}function getHTMLElementContentRect(ts){var ns=ts.clientWidth,rs=ts.clientHeight;if(!ns&&!rs)return emptyRect;var is=getWindowOf(ts).getComputedStyle(ts),os=getPaddings(is),ss=os.left+os.right,as=os.top+os.bottom,ls=toFloat(is.width),cs=toFloat(is.height);if(is.boxSizing==="border-box"&&(Math.round(ls+ss)!==ns&&(ls-=getBordersSize(is,"left","right")+ss),Math.round(cs+as)!==rs&&(cs-=getBordersSize(is,"top","bottom")+as)),!isDocumentElement(ts)){var us=Math.round(ls+ss)-ns,ds=Math.round(cs+as)-rs;Math.abs(us)!==1&&(ls-=us),Math.abs(ds)!==1&&(cs-=ds)}return createRectInit(os.left,os.top,ls,cs)}var isSVGGraphicsElement=function(){return typeof SVGGraphicsElement<"u"?function(ts){return ts instanceof getWindowOf(ts).SVGGraphicsElement}:function(ts){return ts instanceof getWindowOf(ts).SVGElement&&typeof ts.getBBox=="function"}}();function isDocumentElement(ts){return ts===getWindowOf(ts).document.documentElement}function getContentRect(ts){return isBrowser?isSVGGraphicsElement(ts)?getSVGContentRect(ts):getHTMLElementContentRect(ts):emptyRect}function createReadOnlyRect(ts){var ns=ts.x,rs=ts.y,is=ts.width,os=ts.height,ss=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,as=Object.create(ss.prototype);return defineConfigurable(as,{x:ns,y:rs,width:is,height:os,top:rs,right:ns+is,bottom:os+rs,left:ns}),as}function createRectInit(ts,ns,rs,is){return{x:ts,y:ns,width:rs,height:is}}var ResizeObservation=function(){function ts(ns){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=createRectInit(0,0,0,0),this.target=ns}return ts.prototype.isActive=function(){var ns=getContentRect(this.target);return this.contentRect_=ns,ns.width!==this.broadcastWidth||ns.height!==this.broadcastHeight},ts.prototype.broadcastRect=function(){var ns=this.contentRect_;return this.broadcastWidth=ns.width,this.broadcastHeight=ns.height,ns},ts}(),ResizeObserverEntry=function(){function ts(ns,rs){var is=createReadOnlyRect(rs);defineConfigurable(this,{target:ns,contentRect:is})}return ts}(),ResizeObserverSPI=function(){function ts(ns,rs,is){if(this.activeObservations_=[],this.observations_=new MapShim,typeof ns!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=ns,this.controller_=rs,this.callbackCtx_=is}return ts.prototype.observe=function(ns){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(ns instanceof getWindowOf(ns).Element))throw new TypeError('parameter 1 is not of type "Element".');var rs=this.observations_;rs.has(ns)||(rs.set(ns,new ResizeObservation(ns)),this.controller_.addObserver(this),this.controller_.refresh())}},ts.prototype.unobserve=function(ns){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(ns instanceof getWindowOf(ns).Element))throw new TypeError('parameter 1 is not of type "Element".');var rs=this.observations_;rs.has(ns)&&(rs.delete(ns),rs.size||this.controller_.removeObserver(this))}},ts.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},ts.prototype.gatherActive=function(){var ns=this;this.clearActive(),this.observations_.forEach(function(rs){rs.isActive()&&ns.activeObservations_.push(rs)})},ts.prototype.broadcastActive=function(){if(this.hasActive()){var ns=this.callbackCtx_,rs=this.activeObservations_.map(function(is){return new ResizeObserverEntry(is.target,is.broadcastRect())});this.callback_.call(ns,rs,ns),this.clearActive()}},ts.prototype.clearActive=function(){this.activeObservations_.splice(0)},ts.prototype.hasActive=function(){return this.activeObservations_.length>0},ts}(),observers=typeof WeakMap<"u"?new WeakMap:new MapShim,ResizeObserver$1=function(){function ts(ns){if(!(this instanceof ts))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var rs=ResizeObserverController.getInstance(),is=new ResizeObserverSPI(ns,rs,this);observers.set(this,is)}return ts}();["observe","unobserve","disconnect"].forEach(function(ts){ResizeObserver$1.prototype[ts]=function(){var ns;return(ns=observers.get(this))[ts].apply(ns,arguments)}});(function(){return typeof global$1.ResizeObserver<"u"?global$1.ResizeObserver:ResizeObserver$1})();createCommonjsModule(function(ts,ns){(function(rs,is){is(ns)})(commonjsGlobal,function(rs){function is(ss,as,ls,cs){var us,ds=!1,ps=0;function hs(){us&&clearTimeout(us)}function ms(){hs(),ds=!0}typeof as!="boolean"&&(cs=ls,ls=as,as=void 0);function gs(){for(var ys=arguments.length,vs=new Array(ys),bs=0;bs<ys;bs++)vs[bs]=arguments[bs];var Ss=this,$s=Date.now()-ps;if(ds)return;function Cs(){ps=Date.now(),ls.apply(Ss,vs)}function Es(){us=void 0}cs&&!us&&Cs(),hs(),cs===void 0&&$s>ss?Cs():as!==!0&&(us=setTimeout(cs?Es:Cs,cs===void 0?ss-$s:ss))}return gs.cancel=ms,gs}function os(ss,as,ls){return ls===void 0?is(ss,as,!1):is(ss,ls,as!==!1)}rs.debounce=os,rs.throttle=is,Object.defineProperty(rs,"__esModule",{value:!0})})});const sortedRatios=["slim","r1by2","r2by3","r1by1","r4by3","r3by2","r16by9"],ratioStyles={1:"grid-template: 1fr / 1fr;","1.slim":"grid-template: repeat(2, 1fr) / 1fr;","1.r2by3":"grid-template: 1fr / 1fr;","1.featured":'grid-template: "ft" 1fr / 1fr;',2:"grid-template: 1fr / repeat(2,1fr);","2.slim":"grid-template: repeat(3,1fr) / 1fr;","2.r1by2":"grid-template: repeat(2,1fr) / 1fr;","2.r2by3":"grid-template: repeat(2,1fr) / 1fr;","2.r4by3":"grid-template: repeat(2,1fr) / repeat(2,1fr);","2.r16by9":"grid-template: 1fr / repeat(2,1fr);","2.featured":"grid-template: repeat(3,1fr) / repeat(2,1fr);\n  grid-template-areas: 'ft ft' 'ft ft';","2.r16by9.featured":"grid-template: repeat(2,1fr) / repeat(3,1fr);\n    grid-template-areas: 'ft ft v' 'ft ft v' 'ft ft v';",3:"grid-template: repeat(3,1fr) / 1fr;","3.r2by3":"grid-template: repeat(3,1fr) / repeat(1,1fr);","3.r1by1":"grid-template: repeat(2,1fr) / repeat(2,1fr);","3.featured":"grid-template: repeat(3,1fr) / repeat(2,1fr);\n    grid-template-areas: 'ft ft' 'ft ft';\n  ","3.r16by9.featured":"grid-template: repeat(2,1fr) / repeat(3,1fr);\n    grid-template-areas: 'ft ft v' 'ft ft v';",4:"grid-template: repeat(2,1fr) / repeat(2,1fr);","4.slim":"grid-template: repeat(4,1fr) / 1fr;","4.r2by3":"grid-template: repeat(2,1fr) / repeat(2,1fr);","4.featured":"grid-template: repeat(3,1fr) / repeat(3,1fr);\n    grid-template-areas: 'ft ft ft' 'ft ft ft';","4.r16by9.featured":"grid-template-areas: 'ft ft v' 'ft ft v' 'ft ft v';",5:"grid-template: repeat(2,1fr) / repeat(3,1fr);","5.slim":"grid-template: repeat(5,1fr) / 1fr;","5.r1by2":"grid-template: repeat(3,1fr) / repeat(2,1fr);","5.r2by3":"grid-template: repeat(3,1fr) / repeat(2,1fr);","5.r3by2":"grid-template: repeat(2,1fr) / repeat(3,1fr);","5.r16by9":"grid-template: repeat(2,1fr) / repeat(3,1fr);","5.featured":"grid-template: repeat(4,1fr) / repeat(2,1fr);\n    grid-template-areas: 'ft ft' 'ft ft';","5.r1by1.featured":"grid-template: repeat(3,1fr) / repeat(3,1fr);\n    grid-template-areas: 'ft ft v' 'ft ft v';",6:"grid-template: repeat(3,1fr) / repeat(3,1fr);","6.slim":"grid-template: repeat(4,1fr) / repeat(2,1fr);","6.r1by2":"grid-template: repeat(3,1fr) / repeat(2,1fr);","6.r1by1":"grid-template: repeat(3,1fr) / repeat(2,1fr);","6.r2by3":"grid-template: repeat(3,1fr) / repeat(2,1fr);","6.r3by2":"grid-template: repeat(2,1fr) / repeat(3,1fr);","6.r16by9":"grid-template: repeat(2,1fr) / repeat(3,1fr);","6.featured":"grid-template: repeat(4,1fr) / repeat(3,1fr);\n    grid-template-areas: 'ft ft ft' 'ft ft ft';","6.r1by1.featured":"grid-template: repeat(3,1fr) / repeat(3,1fr);\n    grid-template-areas: 'ft ft v' 'ft ft v';",7:"grid-template: repeat(3,1fr) / repeat(3,1fr);","7.slim":"grid-template: repeat(4,1fr) / repeat(2,1fr);","7.r4by3":"grid-template: repeat(3,1fr) / repeat(3,1fr);","7.r16by9":"grid-template: repeat(2,1fr) / repeat(4,1fr);","7.featured":"grid-template: repeat(4,1fr) / repeat(3,1fr);\n    grid-template-areas: 'ft ft ft' 'ft ft ft';","7.r1by1.featured":"grid-template: repeat(4,1fr) / repeat(4,1fr);\n    grid-template-areas: 'ft ft ft v' 'ft ft ft v' 'ft ft ft v';",8:"grid-template: repeat(3,1fr) / repeat(3,1fr);","8.slim":"grid-template: repeat(4,1fr) / repeat(2,1fr);","8.r4by3":"grid-template: repeat(3,1fr) / repeat(3,1fr);","8.r16by9":"grid-template: repeat(2,1fr) / repeat(4,1fr);","8.featured":"grid-template: repeat(5,1fr) / repeat(4,1fr);\n    grid-template-areas: 'ft ft ft ft ft' 'ft ft ft ft ft' 'ft ft ft ft ft';","8.r1by1.featured":"grid-template: repeat(4,1fr) / repeat(4,1fr);\n    grid-template-areas: 'ft ft ft v' 'ft ft ft v' 'ft ft ft x';","8.r16by9.featured":"grid-template-areas: 'ft ft ft v' 'ft ft ft v' 'ft ft ft x';",9:"grid-template: repeat(3,1fr) / repeat(3,1fr);","9.slim":"grid-template: repeat(5,1fr) / repeat(2,1fr);","9.r1by1":"grid-template: repeat(3,1fr) / repeat(3,1fr);","9.r16by9":"grid-template: repeat(3,1fr) / repeat(4,1fr);","9.featured":"grid-template: repeat(5,1fr) / repeat(4,1fr);\n    grid-template-areas: 'ft ft ft ft ft' 'ft ft ft ft ft' 'ft ft ft ft ft';","9.r1by1.featured":"grid-template: repeat(5,1fr) / repeat(5,1fr);\n    grid-template-areas: 'ft ft ft ft v' 'ft ft ft ft v' 'ft ft ft ft v' 'ft ft ft ft v';",10:"grid-template: repeat(4,1fr) / repeat(3,1fr);","10.slim":"grid-template: repeat(5,1fr) / repeat(2,1fr);","10.r1by1":"grid-template: repeat(4,1fr) / repeat(3,1fr);","10.r3by2":"grid-template: repeat(3,1fr) / repeat(4,1fr);","10.featured":"grid-template: repeat(5,1fr) / repeat(4,1fr);\n    grid-template-areas: 'ft ft ft ft ft' 'ft ft ft ft ft' 'ft ft ft ft ft';","10.r1by1.featured":"grid-template: repeat(5,1fr) / repeat(5,1fr);\n    grid-template-areas: 'ft ft ft ft v' 'ft ft ft ft v' 'ft ft ft ft v' 'ft ft ft ft v';",11:"grid-template: repeat(4,1fr) / repeat(3,1fr);","11.slim":"grid-template: repeat(6,1fr) / repeat(2,1fr);","11.r1by1":"grid-template: repeat(4,1fr) / repeat(3,1fr);","11.r3by2":"grid-template: repeat(3,1fr) / repeat(4,1fr);","11.r16by9":"grid-template: repeat(3,1fr) / repeat(4,1fr);","11.featured":"grid-template: repeat(6,1fr) / repeat(6,1fr);\n    grid-template-areas: 'ft ft ft ft ft ft' 'ft ft ft ft ft ft' 'ft ft ft ft ft ft' 'ft ft ft ft ft ft';","11.r1by1.featured":"grid-template-areas:\n      'ft ft ft ft ft v' 'ft ft ft ft ft v' 'ft ft ft ft ft v'\n      'ft ft ft ft ft v' 'ft ft ft ft ft x';",12:"grid-template: repeat(4,1fr) / repeat(3,1fr);","12.slim":"grid-template: repeat(6,1fr) / repeat(2,1fr);","12.r2by3":"grid-template: repeat(4,1fr) / repeat(3,1fr);","12.r3by2":"grid-template: repeat(3,1fr) / repeat(4,1fr);","12.featured":"grid-template: repeat(6,1fr) / repeat(6,1fr);\n    grid-template-areas:\n      'ft ft ft ft ft ft' 'ft ft ft ft ft ft' 'ft ft ft ft ft ft'\n      'ft ft ft ft ft ft';","12.r1by1.featured":"grid-template-areas:\n    'ft ft ft ft ft v' 'ft ft ft ft ft v' 'ft ft ft ft ft v'\n    'ft ft ft ft ft v' 'ft ft ft ft ft x';",13:"grid-template: repeat(4,1fr) / repeat(4,1fr);","13.slim":"grid-template: repeat(7,1fr) / repeat(2,1fr);","13.r2by3":"grid-template: repeat(5,1fr) / repeat(3,1fr);","13.r1by1":"grid-template: repeat(4,1fr) / repeat(4,1fr);","13.r3by2":"grid-template: repeat(4,1fr) / repeat(4,1fr);","13.r16by9":"grid-template: repeat(3,1fr) / repeat(5,1fr);","13.featured":"grid-template: repeat(7,1fr) / repeat(6,1fr);\n    grid-template-areas:\n      'ft ft ft ft ft ft' 'ft ft ft ft ft ft' 'ft ft ft ft ft ft' 'ft ft ft ft ft ft'\n      'ft ft ft ft ft ft';","13.r1by1.featured":"grid-template-areas:\n      'ft ft ft ft ft v' 'ft ft ft ft ft v' 'ft ft ft ft ft v' 'ft ft ft ft ft v'\n      'ft ft ft ft ft v' 'ft ft ft ft ft x';",14:"grid-template: repeat(4,1fr) / repeat(4,1fr);","14.slim":"grid-template: repeat(7,1fr) / repeat(2,1fr);","14.r2by3":"grid-template: repeat(5,1fr) / repeat(3,1fr);","14.r3by2":"grid-template: repeat(4,1fr) / repeat(4,1fr);","14.r16by9":"grid-template: repeat(3,1fr) / repeat(5,1fr);","14.featured":"grid-template: repeat(7,1fr) / repeat(7,1fr);\n    grid-template-areas:\n      'ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft'\n      'ft ft ft ft ft ft ft';","14.r1by1.featured":"grid-template-areas:\n      'ft ft ft ft ft ft v' 'ft ft ft ft ft ft v' 'ft ft ft ft ft ft v' 'ft ft ft ft ft ft v'\n      'ft ft ft ft ft ft v' 'ft ft ft ft ft ft x';",15:"grid-template: repeat(5,1fr) / repeat(3,1fr);","15.slim":"grid-template: repeat(8,1fr) / repeat(2,1fr);","15.r1by2":"grid-template: repeat(5,1fr) / repeat(3,1fr);","15.r3by2":"grid-template: repeat(4,1fr) / repeat(4,1fr);","15.r16by9":"grid-template: repeat(3,1fr) / repeat(5,1fr);","15.featured":"grid-template: repeat(8,1fr) / repeat(8,1fr);\n    grid-template-areas:\n     'ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft'\n     'ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft';","15.r1by1.featured":"grid-template-areas:\n     'ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft v'\n     'ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft x';",16:"grid-template: repeat(4,1fr) / repeat(4,1fr);","16.slim":"grid-template: repeat(8,1fr) / repeat(2,1fr);","16.r1by2":"grid-template: repeat(6,1fr) / repeat(3,1fr);","16.r1by1":"grid-template: repeat(4,1fr) / repeat(4,1fr);","16.featured":"grid-template: repeat(8,1fr) / repeat(8,1fr);\n    grid-template-areas:\n      'ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft'\n      'ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft';","16.r1by1.featured":"grid-template-areas:\n      'ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft v'\n      'ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft x';",17:"grid-template: repeat(5,1fr) / repeat(4,1fr);","17.slim":"grid-template: repeat(8,1fr) / repeat(3,1fr);","17.r1by2":"grid-template: repeat(6,1fr) / repeat(4,1fr);","17.r1by1":"grid-template: repeat(4,1fr) / repeat(5,1fr);","17.featured":"grid-template: repeat(8,1fr) / repeat(9,1fr);\n    grid-template-areas:\n      'ft ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft ft'\n      'ft ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft ft';","17.r1by1.featured":"grid-template-areas:\n      'ft ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft ft v'\n      'ft ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft ft x';",18:"grid-template: repeat(5,1fr) / repeat(4,1fr);","18.slim":"grid-template: repeat(8,1fr) / repeat(3,1fr);","18.r1by2":"grid-template: repeat(6,1fr) / repeat(4,1fr);","18.r1by1":"grid-template: repeat(4,1fr) / repeat(5,1fr);","18.featured":"grid-template: repeat(8,1fr) / repeat(9,1fr);\n    grid-template-areas:\n      'ft ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft ft'\n      'ft ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft ft';","18.r1by1.featured":"grid-template: repeat(9,1fr) / repeat(9,1fr);\n    grid-template-areas:\n      'ft ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft ft v'\n      'ft ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft ft x';",19:"grid-template: repeat(5,1fr) / repeat(4,1fr);","19.slim":"grid-template: repeat(8,1fr) / repeat(3,1fr);","19.r1by2":"grid-template: repeat(6,1fr) / repeat(4,1fr);","19.r1by1":"grid-template: repeat(4,1fr) / repeat(5,1fr);","19.featured":"grid-template: repeat(8,1fr) / repeat(9,1fr);\n    grid-template-areas:\n      'ft ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft ft'\n      'ft ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft ft';","19.r1by1.featured":"grid-template: repeat(9,1fr) / repeat(10,1fr);\n    grid-template-areas:\n      'ft ft ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft ft ft v' \n      'ft ft ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft ft ft v' \n      'ft ft ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft ft ft x';",20:"grid-template: repeat(5,1fr) / repeat(4,1fr);","20.slim":"grid-template: repeat(8,1fr) / repeat(3,1fr);","20.r1by2":"grid-template: repeat(6,1fr) / repeat(4,1fr);","20.r1by1":"grid-template: repeat(4,1fr) / repeat(5,1fr);","20.featured":"grid-template: repeat(11,1fr) / repeat(7,1fr);\n    grid-template-areas:\n      'ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft' \n      'ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft';","20.r1by1.featured":"grid-template: repeat(10,1fr) / repeat(10,1fr);\n    grid-template-areas:\n      'ft ft ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft ft ft v' \n      'ft ft ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft ft ft v' \n      'ft ft ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft ft ft x';",21:"grid-template: repeat(5,1fr) / repeat(5,1fr);","21.slim":"grid-template: repeat(8,1fr) / repeat(3,1fr);","21.r1by2":"grid-template: repeat(6,1fr) / repeat(4,1fr);","21.r1by1":"grid-template: repeat(5,1fr) / repeat(5,1fr);","21.featured":"grid-template: repeat(11,1fr) / repeat(7,1fr);\n    grid-template-areas:\n      'ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft' \n      'ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft';","21.r1by1.featured":"grid-template: repeat(8,1fr) / repeat(7,1fr);\n    grid-template-areas:\n      'ft ft ft ft ft ft v' 'ft ft ft ft ft ft v' 'ft ft ft ft ft ft v'  \n      'ft ft ft ft ft ft v' 'ft ft ft ft ft ft v' 'ft ft ft ft ft ft x';",22:"grid-template: repeat(5,1fr) / repeat(5,1fr);","22.slim":"grid-template: repeat(8,1fr) / repeat(3,1fr);","22.r1by2":"grid-template: repeat(6,1fr) / repeat(4,1fr);","22.r1by1":"grid-template: repeat(5,1fr) / repeat(5,1fr);","22.featured":"grid-template: repeat(11,1fr) / repeat(7,1fr);\n    grid-template-areas:\n      'ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft' \n      'ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft';","22.r1by1.featured":"grid-template: repeat(9,1fr) / repeat(7,1fr);\n    grid-template-areas:\n      'ft ft ft ft ft ft v' 'ft ft ft ft ft ft v' 'ft ft ft ft ft ft v' 'ft ft ft ft ft ft v' \n      'ft ft ft ft ft ft v' 'ft ft ft ft ft ft v' 'ft ft ft ft ft ft x';",23:"grid-template: repeat(5,1fr) / repeat(5,1fr);","23.slim":"grid-template: repeat(8,1fr) / repeat(3,1fr);","23.r1by2":"grid-template: repeat(6,1fr) / repeat(4,1fr);","23.r1by1":"grid-template: repeat(5,1fr) / repeat(5,1fr);","23.featured":"grid-template: repeat(11,1fr) / repeat(8,1fr);\n    grid-template-areas:\n      'ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft' \n      'ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft';","23.r1by1.featured":"grid-template: repeat(8,1fr) / repeat(8,1fr);\n    grid-template-areas:\n      'ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft v'  \n      'ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft x';",24:"grid-template: repeat(5,1fr) / repeat(5,1fr);","24.slim":"grid-template: repeat(8,1fr) / repeat(3,1fr);","24.r1by2":"grid-template: repeat(6,1fr) / repeat(4,1fr);","24.r1by1":"grid-template: repeat(5,1fr) / repeat(5,1fr);","24.featured":"grid-template: repeat(11,1fr) / repeat(8,1fr);\n    grid-template-areas:\n      'ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft' \n      'ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft';","24.r1by1.featured":"grid-template: repeat(9,1fr) / repeat(8,1fr);\n    grid-template-areas:\n      'ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft v' \n      'ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft x';",25:"grid-template: repeat(5,1fr) / repeat(5,1fr);","25.slim":"grid-template: repeat(9,1fr) / repeat(3,1fr);","25.r1by2":"grid-template: repeat(7,1fr) / repeat(4,1fr);","25.r1by1":"grid-template: repeat(5,1fr) / repeat(5,1fr);","25.featured":"grid-template: repeat(11,1fr) / repeat(8,1fr);\n    grid-template-areas:\n      'ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft' \n      'ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft';","25.r1by1.featured":"grid-template: repeat(10,1fr) / repeat(8,1fr);\n    grid-template-areas:\n      'ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft v' \n      'ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft x';",26:"grid-template: repeat(6,1fr) / repeat(5,1fr);","26.slim":"grid-template: repeat(9,1fr) / repeat(3,1fr);","26.r1by2":"grid-template: repeat(7,1fr) / repeat(4,1fr);","26.r1by1":"grid-template: repeat(6,1fr) / repeat(5,1fr);","26.featured":"grid-template: repeat(11,1fr) / repeat(9,1fr);\n    grid-template-areas:\n      'ft ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft ft'\n      'ft ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft ft';","26.r1by1.featured":"grid-template: repeat(9,1fr) / repeat(9,1fr);\n    grid-template-areas:\n      'ft ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft ft v' \n      'ft ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft ft x';"},responsiveStyles={"2.featured":"\n    @media (max-width: 600px) {\n      grid-template-columns: 1fr;\n      grid-template-rows: calc(100% / 3);\n      grid-auto-rows: calc(100% / 3);\n    }\n  ","3.r16by9":"\n    @media (max-height: 600px) {\n      grid-template-rows: repeat(2,1fr);\n      grid-template-columns: 50%;\n      grid-auto-columns: 50%;\n      grid-auto-flow: column;\n    }\n  ","3.featured":"\n    @media (max-width: 600px) {\n      grid-template-areas: 'ft' 'ft';\n      grid-template-columns: 1fr;\n      grid-template-rows: 25%;\n      grid-auto-rows: 25%;\n    }\n  ","4.r16by9":"\n    @media (max-height: 600px) {\n      grid-template-rows: repeat(2,1fr);\n      grid-template-columns: 50%;\n      grid-auto-columns: 50%;\n      grid-auto-flow: column;\n    }\n  ","5.r16by9":"grid-template: repeat(2,1fr) / repeat(3,1fr);\n    @media (max-height: 600px) {\n      grid-template-rows: repeat(2,1fr);\n      grid-template-columns: calc(100% / 3);\n      grid-auto-columns: calc(100% / 3);\n      grid-auto-flow: column;\n    }\n  ","6.r16by9":"grid-template: repeat(2,1fr) / repeat(3,1fr);\n    @media (max-height: 600px) {\n      grid-template-rows: repeat(2,1fr);\n      grid-template-columns: calc(100% / 3);\n      grid-auto-columns: calc(100% / 3);\n      grid-auto-flow: column;\n    }\n  ","7.r16by9":"\n    @media (max-height: 600px) {\n      grid-template-rows: repeat(2,1fr);\n      grid-template-columns: 25%;\n      grid-auto-columns: 25%;\n      grid-auto-flow: column;\n    }\n  "},portraitStyles="\n  @media (max-width: 600px) {\n    grid-template-areas: 'ft ft' 'ft ft';\n    grid-template-columns: repeat(2,1fr);\n    grid-template-rows: 25%;\n    grid-auto-rows: 25%;\n  }\n",landscapeStyles="\n  @media (max-height: 600px) {\n    grid-template-areas: 'ft ft' 'ft ft';\n    grid-template-rows: repeat(2,1fr);\n    grid-template-columns: 25%;\n    grid-auto-columns: 25%;\n    grid-auto-flow: column;\n  }\n";var Ey;styled.div(Ey||(Ey=zl(["\n  position: relative;\n  display: grid;\n  height: 100%;\n  width: 100%;\n  overflow: auto;\n  background-color: ",";\n\n  ","\n  ",";\n"])),ts=>ts.theme.videoGrid.bgd,({size:ts,featured:ns})=>ratioStyles["".concat(ts).concat(ns?".featured":"")]||"",({size:ts,featured:ns,ratio:rs})=>{if(!rs)return;let is="";const os=sortedRatios.indexOf(rs);for(let as=0;as<=os;as++){const ls=sortedRatios[as],cs=ratioStyles["".concat(ts,".").concat(ls).concat(ns?".featured":"")];is+=cs||""}const ss=responsiveStyles["".concat(ts,".").concat(rs).concat(ns?".featured":"")]||responsiveStyles["".concat(ts).concat(ns?".featured":"")];return ss?is+=ss:rs==="r16by9"&&(ts>7||ns)?is+=landscapeStyles:(ts>7||ns)&&(is+=portraitStyles),is});const GridContext=reactExports.createContext(null),useGridData=()=>reactExports.useContext(GridContext);var xy;const StyledVideoTile=styled.div(xy||(xy=zl(["\n  height: 100%;\n  width: 100%;\n  position: relative;\n  background: ",";\n\n  video {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    width: 100%;\n    height: 100%;\n    object-fit: ","};\n  }\n\n  .ch-icon {\n    width: 1.5rem;\n    height: 1.5rem;\n    display: inline-block;\n    background-color: papayawhip; /* TODO: figure out what this is supposed to be */\n    margin-right: 0.5rem;\n    flex: 0 0 1.5rem;\n  }\n\n  .ch-nameplate {\n    backdrop-filter: blur(20px);\n    background-color: rgba(46, 47, 52, 0.85);\n    border-radius: 0.25rem;\n    bottom: 0.5rem;\n    color: ",";\n    left: 0.5rem;\n    max-width: calc(100% - 2rem);\n    padding: 0.5rem;\n    position: absolute;\n\n    div {\n      ",";\n      display: flex;\n      align-items: center;\n    }\n\n    .ch-text {\n      font-size: ",";\n      ",";\n      margin: 0;\n    }\n  }\n\n  ","\n  ","\n"])),ts=>ts.theme.colors.greys.grey100,ts=>ts.objectFit||"cover",ts=>ts.theme.colors.greys.white,ellipsis,ts=>ts.theme.fontSizes.text.fontSize,ellipsis,baseSpacing,baseStyles),VideoTile=reactExports.forwardRef((ts,ns)=>{const{tag:rs,className:is,nameplate:os}=ts,ss=__rest(ts,["tag","className","nameplate"]);return React$1.createElement(StyledVideoTile,Object.assign({as:rs,className:is||"","data-testid":"video-tile"},ss),React$1.createElement("video",{ref:ns,className:"ch-video"}),os&&React$1.createElement("header",{className:"ch-nameplate"},React$1.createElement("p",{className:"ch-text"},os)))});var wy;styled.div(wy||(wy=zl(["\n  display: grid;\n  width: 100%;\n  height: 100%;\n\n  ","\n  ","\n  ","\n\n  ","\n\n  ","\n"])),grid,baseSpacing,baseStyles,({responsive:ts,theme:ns})=>ts?"\n    ".concat(ns.mediaQueries.max.md," {\n      grid-template-columns: 1fr 1fr;\n    }\n\n    ").concat(ns.mediaQueries.max.sm," {\n      grid-template-columns: 1fr;\n    }\n  "):"",ts=>ts.css||"");var Ty;styled.div(Ty||(Ty=zl(["\n  ","\n  ","\n\n  ","\n"])),baseSpacing,grid,ts=>ts.css||"");var ky;styled.aside(ky||(ky=zl(["\n  width: 100%;\n  height: 100%;\n  padding-bottom: 1rem;\n  overflow-y: auto;\n  background-color: ",";\n  box-shadow: 1rem 1rem 3.75rem 0 rgba(0, 0, 0, 0.1);\n  border-left: 0.0625rem solid ",";\n  border-right: 0.0625rem solid ",";\n\n  "," {\n    width: ",";\n  }\n\n  ","\n  ","\n"])),ts=>ts.theme.roster.bgd,ts=>ts.theme.roster.containerBorder,ts=>ts.theme.roster.containerBorder,({theme:ts})=>ts.mediaQueries.min.md,ts=>ts.theme.roster.maxWidth,baseSpacing,baseStyles);var Iy;styled.span(Iy||(Iy=zl(["\n  display: inline-block;\n  margin: 0 0.625rem 0 0;\n  font-weight: 600;\n  font-size: 0.675rem;\n  color: ",";\n"])),ts=>ts.theme.roster.secondaryText);var Ry;styled.div(Ry||(Ry=zl(["\n  margin: 0 0.5rem;\n\n  & + & {\n    margin-top: 1rem;\n  }\n\n  ","\n  ","\n"])),baseSpacing,baseStyles);var Ay;styled.div(Ay||(Ay=zl(["\n  background-color: ",";\n  border-radius: ",";\n\n  ","\n  ","\n"])),ts=>ts.theme.roster.fgd,ts=>ts.theme.radii.default,baseSpacing,baseStyles);var Py;styled.div(Py||(Py=zl(["\n  position: relative;\n  display: flex;\n  align-items: center;\n  padding: 0.75rem 1rem;\n  margin-bottom: 0.5rem;\n  border-bottom: 0.0625rem solid ",";\n\n  .ch-title {\n    font-size: 0.875rem;\n    color: ",";\n    ","\n    ",";\n  }\n\n  .ch-badge {\n    margin-left: 0.5rem;\n    ","\n  }\n\n  .ch-buttons {\n    margin-left: auto;\n    display: flex;\n\n    > * {\n      margin-left: 0.5rem;\n    }\n\n    ","\n  }\n\n  .ch-search-wrapper {\n    position: absolute !important;\n    bottom: 0.75rem;\n    left: 0.5rem;\n    right: 0.5rem;\n\n    .ch-search-input {\n      flex: 1;\n\n      input {\n        width: 100%;\n      }\n    }\n\n    .ch-search-close {\n      margin-left: 0.5rem;\n    }\n  }\n\n  .ch-navigation-icon {\n    margin-right: 0.5rem;\n    margin-left: -0.5rem;\n\n    "," {\n      display: none;\n    }\n  }\n\n  ","\n  ","\n"])),ts=>ts.theme.roster.headerBorder,ts=>ts.theme.roster.primaryText,ts=>ts.isSearching?"opacity: 0;":"",ellipsis,ts=>ts.isSearching?"opacity: 0;":"",ts=>ts.isSearching?"opacity: 0;":"",({theme:ts})=>ts.mediaQueries.min.md,baseSpacing,baseStyles);var Oy;styled.div(Oy||(Oy=zl(["\n  flex-grow: 1;\n  min-width: 0;\n  line-height: 1.5;\n\n  .ch-name {\n    ",";\n    font-size: 0.875rem;\n    color: ",";\n  }\n\n  .ch-subtitle {\n    ",";\n    font-size: 0.65rem;\n    color: ",";\n  }\n"])),ellipsis,ts=>ts.theme.roster.primaryText,ellipsis,ts=>ts.theme.roster.secondaryText);var My;styled.div(My||(My=zl(["\n  display: flex;\n  align-items: center;\n  padding: 0.625rem 1rem;\n\n  .ch-mic {\n    flex-shrink: 0;\n    width: 1.5rem;\n    line-height: 0;\n\n    ","\n  }\n\n  .ch-menu {\n    color: ",";\n\n    &:hover,\n    &:focus {\n      color: ",";\n    }\n  }\n\n  svg {\n    width: 1.5rem;\n    flex-shrink: 0;\n  }\n\n  > * {\n    margin-right: 0.5rem;\n  }\n\n  > :last-child {\n    margin-right: 0;\n  }\n\n  ","\n  ","\n"])),({micPosition:ts})=>ts==="leading"?"\n        order: -1;\n        margin-right: .75rem;\n      ":"",ts=>ts.theme.buttons.icon.hover.bgd,ts=>ts.theme.buttons.icon.hover.text,baseSpacing,baseStyles);var Dy;styled.div(Dy||(Dy=zl(["\n  display: flex;\n  align-items: center;\n  white-space: nowrap;\n  font-size: 0.65rem;\n  color: ",";\n\n  > svg {\n    margin-right: 0.25rem;\n    color: ",";\n  }\n"])),({theme:ts})=>ts.roster.secondaryText,({theme:ts})=>ts.roster.secondaryText);reactExports.createContext(null);var Ny;styled.div(Ny||(Ny=zl(["\n  z-index: ",";\n  visibility: ",";\n\n  &.ch-active {\n    animation: "," 0.25s ease 0s forwards;\n  }\n"])),ts=>ts.isActive?ts.theme.zIndex.controlBar:"-10",ts=>ts.isActive?"visible":"hidden",fadeAnimation);var Ly;styled.ul(Ly||(Ly=zl(["\n  display: flex;\n  flex-direction: column;\n  width: 20rem;\n\n  ","\n  ","\n"])),baseStyles,baseSpacing);var Fy;styled.li(Fy||(Fy=zl(["\n  position: relative;\n\n  ",";\n  ",";\n\n  & .ch-channel-button {\n    width: 100%;\n    height: 100%;\n    padding: 11px 0;\n    background-color: ",";\n    border: none;\n    border-radius: unset;\n    justify-content: left;\n    padding-left: 1rem;\n    color: ",";\n    border: ",";\n    font-family: ",";\n\n    &:hover {\n      background-color: ",";\n    }\n\n    &:active {\n      background-color: ",";\n      color: ",";\n    }\n\n    &:focus {\n      border: ",";\n    }\n  }\n\n  & .ch-label {\n    padding-left: 1.5rem;\n  }\n\n  & .ch-unread-badge {\n    display: ",";\n    position: absolute;\n    z-index: 2;\n    top: 12px;\n    left: 5px;\n    background-color: ",";\n  }\n\n  &.ch-unread .ch-channel-button {\n    font-weight: bold;\n  }\n\n  &.ch-selected .ch-channel-button {\n    background-color: ",";\n    color: ",";\n\n    &:focus {\n      border: ",";\n    }\n  }\n\n  & .ch-popover-toggle {\n    position: absolute;\n    right: 1rem;\n    margin: 0.5rem 0;\n    height: 1.5rem;\n    border-radius: 50%;\n\n    .ch-channel-actions {\n      border: 1px solid transparent;\n    }\n\n    & g {\n      fill: ",";\n    }\n\n    & button:focus .ch-channel-actions {\n      border: ",";\n      border-radius: 50%;\n    }\n\n    &:hover,\n    &:active {\n      background-color: ",";\n\n      & g {\n        fill: ",";\n      }\n    }\n  }\n\n  & .ch-detailed-channel {\n    display: grid;\n    grid-template-rows: 17px 1fr max-content;\n    grid-gap: 16px;\n    padding: 10px 20px;\n    background-color: ",";\n    color: ",";\n    border-bottom: 0.5px solid #d3d3d3;\n    font-family: ",";\n\n    &:hover {\n      background-color: ",";\n    }\n\n    &:active {\n      background-color: ",";\n      color: ",";\n    }\n\n    &:focus {\n      border: ",";\n    }\n  }\n\n  & .ch-detailed-channel-name {\n    font-weight: bold;\n    padding-left: 25px;\n    white-space: nowrap;\n    overflow-x: hidden;\n    text-overflow: ellipsis;\n    font-size: 14px;\n    max-width: 85%;\n  }\n\n  & .ch-detailed-channel-message {\n    grid-row: span 2;\n    padding-left: 25px;\n    white-space: nowrap;\n    overflow-x: hidden;\n    text-overflow: ellipsis;\n    font-size: 14px;\n    max-width: 90%;\n  }\n\n  & .ch-detailed-channel-message-time {\n    position: absolute;\n    top: 0.8rem;\n    right: 0.5rem;\n    font-size: 8px;\n    max-width: 15%;\n    text-align: right;\n  }\n\n  & .ch-unread-badge-detailed {\n    display: ",";\n    position: absolute;\n    z-index: 2;\n    top: 10px;\n    left: 5px;\n    background-color: ",";\n  }\n\n  &.ch-selected .ch-detailed-channel {\n    background-color: ",";\n    color: ",";\n\n    &:focus {\n      border: ",";\n    }\n  }\n\n  & .ch-popover-toggle-detailed {\n    position: absolute;\n    top: 1.75rem;\n    right: 1rem;\n    margin: 0.5rem 0;\n    height: 1.5rem;\n    border-radius: 50%;\n\n    .ch-channel-actions {\n      border: 1px solid transparent;\n    }\n\n    & g {\n      fill: ",";\n    }\n\n    & button:focus .ch-channel-actions {\n      border: ",";\n      border-radius: 50%;\n    }\n\n    &:hover,\n    &:active {\n      background-color: ",";\n\n      & g {\n        fill: ",";\n      }\n    }\n  }\n"])),baseStyles,baseSpacing,ts=>ts.theme.channelList.bgd,ts=>ts.theme.channelList.fontColor,ts=>ts.theme.channelList.border,ts=>ts.theme.fonts.body,ts=>ts.theme.channelList.hover.bgd,ts=>ts.theme.channelList.active.bgd,ts=>ts.theme.channelList.active.fontColor,ts=>ts.theme.channelList.focus.border,ts=>ts.unread?"inline":"none",ts=>ts.theme.colors.primary.light,ts=>ts.theme.colors.primary.light,ts=>ts.theme.channelList.selected.fontColor,ts=>ts.theme.channelList.focus.selectedBorder,ts=>ts.theme.channelList.active.fontColor,ts=>ts.theme.channelList.focus.selectedBorder,ts=>ts.theme.channelList.iconButton.activeBgd,ts=>ts.theme.colors.primary.light,ts=>ts.theme.channelList.bgd,ts=>ts.theme.channelList.fontColor,ts=>ts.theme.fonts.body,ts=>ts.theme.channelList.hover.bgd,ts=>ts.theme.channelList.active.bgd,ts=>ts.theme.channelList.active.fontColor,ts=>ts.theme.channelList.focus.border,ts=>ts.unread?"inline":"none",ts=>ts.theme.colors.primary.light,ts=>ts.theme.colors.primary.light,ts=>ts.theme.channelList.selected.fontColor,ts=>ts.theme.channelList.focus.selectedBorder,ts=>ts.theme.channelList.active.fontColor,ts=>ts.theme.channelList.focus.selectedBorder,ts=>ts.theme.channelList.iconButton.activeBgd,ts=>ts.theme.colors.primary.light);var By;const StyledChatBubbleContainer=styled.div(By||(By=zl(["\n  display: flex;\n  flex-direction: row;\n  font-size: 0.65rem;\n  margin-left: 1rem;\n  align-items: center;\n  background-color: ",";\n  width: 100%;\n\n  .ch-timestamp {\n    padding-right: ",";\n  }\n\n  ","\n  ","\n"])),ts=>ts.theme.chatBubble.container.bgd,ts=>ts.actions?"1rem":"2.5rem",baseSpacing,baseStyles);var Uy;styled.div(Uy||(Uy=zl(["\n  background-color: ",";\n  padding: 0.625rem 1rem;\n  border-radius: 4px;\n  width: fit-content;\n  color: ",";\n  box-shadow: 0 1px 4px 0 rgba(0, 0, 0, 0.1);\n  line-height: 20px;\n  width: ",";\n  max-width: 70.6%;\n  font-size: 0.875rem;\n  position: relative;\n  margin-bottom: ",";\n  overflow-wrap: break-word;\n  word-break: break-word;\n  hyphens: auto;\n\n  & .ch-header {\n    display: flex;\n    flex-direction: row;\n    margin-bottom: 0.5rem;\n    align-items: baseline;\n  }\n\n  & .ch-sender-name {\n    font-weight: bold;\n    padding-right: 0.5rem;\n  }\n\n  & .ch-header-timestamp {\n    font-size: 0.65rem;\n  }\n\n  & svg {\n    position: absolute;\n    height: 19px;\n    width: 11px;\n    margin-top: -14px;\n    margin-left: -25px;\n\n    & .ch-chat-bubble-tail {\n      fill: ",";\n    }\n  }\n\n  .ch-input {\n    width: 100%;\n  }\n\n  .ch-edit-buttons {\n    position: absolute;\n    margin-top: 1rem;\n    display: flex;\n    flex-direction: row-reverse;\n    width: 10rem;\n    justify-content: space-between;\n  }\n\n  ",";\n  ",";\n"])),ts=>ts.theme.chatBubble[ts.variant].bgd,ts=>ts.theme.chatBubble[ts.variant].fontColor,ts=>ts.editable?"100%":"fit-content",ts=>ts.editable?"4rem":"unset",ts=>ts.theme.chatBubble[ts.variant].bgd,baseSpacing,baseStyles);var jy;const StyledChatBubbleInfo=styled.div(jy||(jy=zl(["\n  display: flex;\n  margin-right: 0.5rem;\n  margin-left: auto;\n  color: ",";\n  align-items: center;\n\n  & .ch-message-actions {\n    border: 1px solid transparent;\n    border-radius: 50%;\n  }\n\n  & button:hover .ch-message-actions {\n    background-color: ",";\n\n    & g {\n      fill: ",";\n    }\n  }\n\n  & button:focus .ch-message-actions {\n    border: 1px solid ",";\n    border-radius: 50%;\n  }\n\n  & .ch-message-actions g {\n    fill: ",";\n  }\n\n  & .ch-message-actions.isOpen {\n    background-color: ",";\n    border-radius: 50%;\n\n    & g {\n      fill: ",";\n    }\n  }\n"])),ts=>ts.theme.chatBubble.container.fontColor,ts=>ts.theme.buttons.icon.hover.bgd,ts=>ts.theme.buttons.icon.hover.text,ts=>ts.theme.colors.primary.dark,ts=>ts.theme.chatBubble.container.fontColor,ts=>ts.theme.buttons.icon.active.bgd,ts=>ts.theme.buttons.icon.active.text);React$1.forwardRef((ts,ns)=>{const{timestamp:rs,actions:is,tooltipContainerId:os,a11yLabel:ss="Open channel options"}=ts,as=__rest(ts,["timestamp","actions","tooltipContainerId","a11yLabel"]),ls=reactExports.useMemo(()=>WithTooltip(IconButton,os),[os]),cs=as["data-tooltip"]?ls:IconButton,us=as["data-tooltip-position"]?{tooltipPosition:as["data-tooltip-position"]}:{};return React$1.createElement(StyledChatBubbleContainer,Object.assign({"data-testid":"chat-bubble-container",ref:ns,actions:is},as),ts.children,React$1.createElement(StyledChatBubbleInfo,null,rs&&React$1.createElement("span",{className:"ch-timestamp","data-testid":"message-time"},rs),is&&React$1.createElement(PopOver,{a11yLabel:ss,placement:"bottom-end",renderButtonWrapper:(ds,ps)=>React$1.createElement(cs,Object.assign({},us,{icon:React$1.createElement(Dots,{width:"1.5rem",height:"1.5rem"}),selected:ds},ps,{label:ss})),children:is})))});var Vy;const rotate=We(Vy||(Vy=zl(["\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n"])));var Hy;styled.ul(Hy||(Hy=zl(["\n  background-color: ",";\n  overflow-y: scroll;\n  display: flex;\n  flex-direction: column;\n  list-style: none;\n  padding: 0;\n\n  /* disable scrolling while fetching */\n  &.ch-not-scrollable {\n    overflow-y: hidden;\n  }\n\n  ","\n  ","\n\n  .ch-spinner {\n    margin: 0 auto;\n  }\n\n  .ch-spinner svg {\n    width: 2rem;\n    height: 2rem;\n    animation: "," 2s linear infinite;\n    display: block;\n  }\n"])),ts=>ts.theme.chatBubble.container.bgd,baseSpacing,baseStyles,rotate);var zy;styled.div(zy||(zy=zl(["\n  display: flex;\n  flex-direction: row;\n  padding: 10px;\n\n  & .ch-attachment-icon {\n    height: 2rem;\n    width: 2rem;\n    margin: auto;\n    background-color: ",";\n    border-radius: 25px;\n\n    & .ch-document-icon {\n      margin: auto 0;\n      color: ",";\n    }\n  }\n  & .ch-attachment-name {\n    margin-left: 1rem;\n\n    & a:link,\n    a:visited,\n    a:hover,\n    a:active {\n      color: ",";\n      text-decoration: none;\n    }\n  }\n  & .ch-attachment-size {\n    font-size: ",";\n    color: ",";\n    display: block;\n    padding-top: 3px;\n  }\n"])),ts=>ts.theme.messageAttachment.icon.bgd,ts=>ts.theme.messageAttachment.icon.color,ts=>ts.theme.messageAttachment.name.fontColor,ts=>ts.theme.messageAttachment.size.fontSize,ts=>ts.theme.messageAttachment.size.fontColor);var Wy;styled.div(Wy||(Wy=zl(["\n  color: ",";\n  display: flex;\n  flex-direction: column;\n  width: fit-content;\n  border-radius: 4px;\n  overflow: hidden;\n  box-shadow: 0 1px 4px 0 rgba(0, 0, 0, 0.1);\n  background-color: ",";\n  letter-spacing: ",";\n  font-size: ",";\n  line-height: ",";\n\n  & img {\n    ",";\n  }\n\n  ","\n  ","\n"])),ts=>ts.theme.messageAttachment.content.fontColor,ts=>ts.theme.messageAttachment.content.bgd,ts=>ts.theme.messageAttachment.content.letterSpacing,ts=>ts.theme.fontSizes.text.fontSize,ts=>ts.theme.fontSizes.text.lineHeight,ts=>ts.imgStyles,baseSpacing,baseStyles);function memoize(ts,ns){var rs=ns&&ns.cache?ns.cache:cacheDefault,is=ns&&ns.serializer?ns.serializer:serializerDefault,os=ns&&ns.strategy?ns.strategy:strategyDefault;return os(ts,{cache:rs,serializer:is})}function isPrimitive(ts){return ts==null||typeof ts=="number"||typeof ts=="boolean"}function monadic(ts,ns,rs,is){var os=isPrimitive(is)?is:rs(is),ss=ns.get(os);return typeof ss>"u"&&(ss=ts.call(this,is),ns.set(os,ss)),ss}function variadic(ts,ns,rs){var is=Array.prototype.slice.call(arguments,3),os=rs(is),ss=ns.get(os);return typeof ss>"u"&&(ss=ts.apply(this,is),ns.set(os,ss)),ss}function assemble(ts,ns,rs,is,os){return rs.bind(ns,ts,is,os)}function strategyDefault(ts,ns){var rs=ts.length===1?monadic:variadic;return assemble(ts,this,rs,ns.cache.create(),ns.serializer)}function strategyVariadic(ts,ns){var rs=variadic;return assemble(ts,this,rs,ns.cache.create(),ns.serializer)}function strategyMonadic(ts,ns){var rs=monadic;return assemble(ts,this,rs,ns.cache.create(),ns.serializer)}function serializerDefault(){return JSON.stringify(arguments)}function ObjectWithoutPrototypeCache(){this.cache=Object.create(null)}ObjectWithoutPrototypeCache.prototype.has=function(ts){return ts in this.cache};ObjectWithoutPrototypeCache.prototype.get=function(ts){return this.cache[ts]};ObjectWithoutPrototypeCache.prototype.set=function(ts,ns){this.cache[ts]=ns};var cacheDefault={create:function ts(){return new ObjectWithoutPrototypeCache}},src=memoize,strategies={variadic:strategyVariadic,monadic:strategyMonadic};src.strategies=strategies;const DEFAULT_DATE_OPTIONS={weekday:"long",year:"numeric",month:"long",day:"numeric"},formatDateUnmemoized=(ts,ns,rs,is,os)=>{const ss=rs||DEFAULT_DATE_OPTIONS,as=new Date(ts).toLocaleDateString(ns,ss),ls=new Date;ls.setDate(ls.getDate()-1);const cs=ls.toLocaleDateString(ns,ss);return as===cs?os||"Yesterday":as===new Date().toLocaleDateString(ns,ss)?is||"Today":as};src(formatDateUnmemoized);var MeetingStatus;(function(ts){ts[ts.Loading=0]="Loading",ts[ts.Succeeded=1]="Succeeded",ts[ts.Failed=2]="Failed",ts[ts.Ended=3]="Ended",ts[ts.JoinedFromAnotherDevice=4]="JoinedFromAnotherDevice",ts[ts.Left=5]="Left",ts[ts.TerminalFailure=6]="TerminalFailure",ts[ts.Reconnecting=7]="Reconnecting"})(MeetingStatus||(MeetingStatus={}));var DeviceLabelTriggerStatus;(function(ts){ts.UNTRIGGERED="UNTRIGGERED",ts.IN_PROGRESS="IN_PROGRESS",ts.GRANTED="GRANTED",ts.DENIED="DENIED"})(DeviceLabelTriggerStatus||(DeviceLabelTriggerStatus={}));var DeviceLabels;(function(ts){ts[ts.None=1]="None",ts[ts.Audio=2]="Audio",ts[ts.Video=3]="Video",ts[ts.AudioAndVideo=4]="AudioAndVideo"})(DeviceLabels||(DeviceLabels={}));var ContentActionType;(function(ts){ts[ts.STARTING=0]="STARTING",ts[ts.DID_STOP=1]="DID_STOP",ts[ts.UPDATE=2]="UPDATE",ts[ts.TOGGLE_PAUSE=3]="TOGGLE_PAUSE",ts[ts.REMOVE=4]="REMOVE",ts[ts.DENIED=5]="DENIED",ts[ts.RESET=6]="RESET"})(ContentActionType||(ContentActionType={}));const initialState$1={tileId:null,paused:!1,isLocalUserSharing:!1,isLocalShareLoading:!1,sharingAttendeeId:null};function reducer$1(ts,{type:ns,payload:rs}){switch(ns){case ContentActionType.STARTING:return Object.assign(Object.assign({},ts),{isLocalShareLoading:!0});case ContentActionType.UPDATE:{const{isLocalUser:is,tileState:os}=rs,{tileId:ss}=ts;return ss===os.tileId||ss&&ss>os.tileId?ts:{paused:!1,tileId:os.tileId,isLocalShareLoading:!1,isLocalUserSharing:is,sharingAttendeeId:os.boundAttendeeId}}case ContentActionType.REMOVE:{const{tileId:is}=ts;return is!==rs?ts:initialState$1}case ContentActionType.DID_STOP:{const{isLocalUserSharing:is}=ts;return is?initialState$1:Object.assign(Object.assign({},ts),{isLocalShareLoading:!1,isLocalUserSharing:!1,paused:!1})}case ContentActionType.TOGGLE_PAUSE:return ts.isLocalUserSharing?Object.assign(Object.assign({},ts),{paused:!ts.paused}):ts;case ContentActionType.DENIED:return ts.isLocalShareLoading?Object.assign(Object.assign({},ts),{isLocalShareLoading:!1}):ts;case ContentActionType.RESET:return initialState$1;default:throw new Error("Incorrect type in VideoProvider")}}const ContentShareContext=reactExports.createContext(null),ContentShareControlContext=reactExports.createContext(null),ContentShareProvider=({children:ts})=>{const ns=useAudioVideo(),[rs,is]=reactExports.useReducer(reducer$1,initialState$1),{paused:os,isLocalUserSharing:ss,isLocalShareLoading:as}=rs,ls=reactExports.useRef(null);reactExports.useEffect(()=>{if(!ns)return;const ps={videoTileDidUpdate:ms=>{if(!ms.boundAttendeeId||!ms.isContent||!ms.tileId)return;const{boundAttendeeId:gs}=ms,ys=new buildExports.DefaultModality(gs).base(),vs=ns.audioVideoController.realtimeController.state.localAttendeeId,bs=ys===vs;!bs&&ls.current&&ls.current<ms.tileId&&(ns.stopContentShare(),ls.current=null),bs&&(ls.current=ms.tileId),is({type:ContentActionType.UPDATE,payload:{tileState:ms,isLocalUser:bs}})},videoTileWasRemoved:ms=>{ms===ls.current&&(ls.current=null),is({type:ContentActionType.REMOVE,payload:ms})}},hs={contentShareDidStop:()=>{is({type:ContentActionType.DID_STOP})}};return ns.addObserver(ps),ns.addContentShareObserver(hs),()=>{ns.removeObserver(ps),ns.removeContentShareObserver(hs),is({type:ContentActionType.RESET})}},[ns]),reactExports.useEffect(()=>{if(!ns)return;const ps=hs=>{hs.reason.name==="NotAllowedError"&&is({type:ContentActionType.DENIED})};return window.addEventListener("unhandledrejection",ps),()=>window.removeEventListener("unhandledrejection",ps)},[as]);const cs=reactExports.useCallback(ps=>__awaiter(void 0,void 0,void 0,function*(){ns&&(ss||as?ns.stopContentShare():(ps&&typeof ps=="string"?yield ns.startContentShareFromScreenCapture(ps):ps&&ps instanceof MediaStream?yield ns.startContentShare(ps):yield ns.startContentShareFromScreenCapture(),is({type:ContentActionType.STARTING})))}),[ns,ss,as]),us=reactExports.useCallback(()=>{!ns||!ss||(os?ns.unpauseContentShare():ns.pauseContentShare(),is({type:ContentActionType.TOGGLE_PAUSE}))},[ns,os,ss]),ds=reactExports.useMemo(()=>({paused:os,isLocalUserSharing:ss,isLocalShareLoading:as,toggleContentShare:cs,togglePauseContentShare:us}),[os,cs,us,ss,as]);return React$1.createElement(ContentShareContext.Provider,{value:rs},React$1.createElement(ContentShareControlContext.Provider,{value:ds},ts))},useContentShareState=()=>{const ts=reactExports.useContext(ContentShareContext);if(!ts)throw new Error("useContentShareState must be used within a ContentShareProvider");return ts};var VideoTileActionType;(function(ts){ts[ts.UPDATE=0]="UPDATE",ts[ts.REMOVE=1]="REMOVE",ts[ts.RESET=2]="RESET"})(VideoTileActionType||(VideoTileActionType={}));const initialState={tiles:[],tileIdToAttendeeId:{},attendeeIdToTileId:{},size:0},removeProperty=(ts,ns)=>{const rs=Object.assign({},ts);return delete rs[ns],rs};function reducer(ts,{type:ns,payload:rs}){const{tiles:is,tileIdToAttendeeId:os,attendeeIdToTileId:ss,size:as}=ts;switch(ns){case VideoTileActionType.UPDATE:{const{tileId:ls,attendeeId:cs=""}=rs,us=ls.toString();if(os[us])return ts;const ps=[...is,ls],hs=Object.assign(Object.assign({},os),{[us]:cs}),ms=Object.assign(Object.assign({},ss),{[cs]:ls});return{tiles:ps,tileIdToAttendeeId:hs,attendeeIdToTileId:ms,size:as+1}}case VideoTileActionType.REMOVE:{const{tileId:ls}=rs,cs=os[ls],us=ls.toString();if(!cs)return ts;const ds=is.filter(ms=>ls!==ms),ps=removeProperty(os,us),hs=removeProperty(ss,cs);return{tiles:ds,tileIdToAttendeeId:ps,attendeeIdToTileId:hs,size:as-1}}case VideoTileActionType.RESET:return initialState;default:throw new Error("Incorrect type in VideoProvider")}}const Context$4=reactExports.createContext(null),RemoteVideoTileProvider=({children:ts})=>{const ns=useAudioVideo(),[rs,is]=reactExports.useReducer(reducer,initialState);return reactExports.useEffect(()=>{if(!ns)return;const os={videoTileDidUpdate:ss=>{if(ss!=null&&ss.boundAttendeeId&&(ss!=null&&ss.tileId)&&!ss.isContent&&!ss.localTile){const{tileId:as,boundAttendeeId:ls}=ss;is({type:VideoTileActionType.UPDATE,payload:{tileId:as,attendeeId:ls}})}},videoTileWasRemoved:ss=>{is({type:VideoTileActionType.REMOVE,payload:{tileId:ss}})}};return ns.addObserver(os),()=>ns.removeObserver(os)},[ns]),reactExports.useEffect(()=>{if(ns)return()=>is({type:VideoTileActionType.RESET})},[ns]),React$1.createElement(Context$4.Provider,{value:rs},ts)},useRemoteVideoTileState=()=>{const ts=reactExports.useContext(Context$4);if(!ts)throw new Error("useRemoteVideoTileState must be used within a RemoteVideoTileProvider");return ts},TILE_TRANSITION_DELAY=1500,FeaturedTileContext=reactExports.createContext(null),FeaturedVideoTileProvider=({children:ts})=>{const ns=useMeetingManager(),{attendeeIdToTileId:rs}=useRemoteVideoTileState(),is=reactExports.useRef(null),[os,ss]=reactExports.useState(null),as=reactExports.useRef(null),ls=reactExports.useRef(null);reactExports.useEffect(()=>{const us=ds=>{const ps=ds[0];if(ps===ls.current)return;if(ls.current=ps,as.current&&clearTimeout(as.current),!ps){is.current=null,ss(null);return}const hs=rs[ps];if(!hs){is.current&&(as.current=window.setTimeout(()=>{is.current=null,ss(null)},TILE_TRANSITION_DELAY));return}hs!==is.current&&(is.current?as.current=window.setTimeout(()=>{is.current=hs,ss(hs)},TILE_TRANSITION_DELAY):(is.current=hs,ss(hs)))};return ns.subscribeToActiveSpeaker(us),()=>ns.unsubscribeFromActiveSpeaker(us)},[rs]);const cs=reactExports.useMemo(()=>({tileId:os}),[os]);return React$1.createElement(FeaturedTileContext.Provider,{value:cs},ts)};function useFeaturedTileState(){const ts=reactExports.useContext(FeaturedTileContext);if(!ts)throw new Error("useFeaturedTileState must be used within an FeaturedVideoTileProvider");return ts}const Context$3=reactExports.createContext(null),LocalAudioOutputProvider=({children:ts})=>{const ns=useLogger(),rs=useAudioVideo(),[is,os]=reactExports.useState(!0),ss=reactExports.useRef(null);reactExports.useEffect(()=>{if(rs)return ss.current&&(cs=>__awaiter(void 0,void 0,void 0,function*(){try{yield rs.bindAudioElement(cs)}catch(us){ns.error("Failed to bind audio element. ".concat(us))}}))(ss.current),()=>{rs.unbindAudioElement(),os(!0)}},[rs]);const as=reactExports.useCallback(()=>{ss.current&&(os(!is),is?rs==null||rs.unbindAudioElement():(cs=>__awaiter(void 0,void 0,void 0,function*(){try{yield rs==null?void 0:rs.bindAudioElement(cs)}catch(us){ns.error("Failed to bind audio element. ".concat(us))}}))(ss.current))},[ss,rs,is]),ls=reactExports.useMemo(()=>({isAudioOn:is,toggleAudio:as}),[is,as]);return React$1.createElement(Context$3.Provider,{value:ls},ts,React$1.createElement("audio",{ref:ss,style:{display:"none"}}))},Context$2=reactExports.createContext(null),LocalVideoProvider=({children:ts})=>{const ns=useLogger(),rs=useMeetingManager(),is=useAudioVideo(),{devices:os,selectedDevice:ss}=useVideoInputs(),[as,ls]=reactExports.useState(!1),[cs,us]=reactExports.useState(!1),[ds,ps]=reactExports.useState(null);reactExports.useEffect(()=>{if(!is)return;is.hasStartedLocalVideoTile()&&ls(!0);const gs={videoAvailabilityDidChange:ys=>{ys.canStartLocalVideo?us(!1):us(!0),ns.info("video availability changed: canStartLocalVideo ".concat(ys.canStartLocalVideo))}};return is.addObserver(gs),()=>{ls(!1),is.removeObserver(gs)}},[is]),reactExports.useEffect(()=>{cs&&ns.warn("Reach the number of maximum active videos")},[cs]),reactExports.useEffect(()=>{is!=null&&is.hasStartedLocalVideoTile()||ls(!1)},[os]);const hs=reactExports.useCallback(()=>__awaiter(void 0,void 0,void 0,function*(){try{as||!ss?(ss||ns.warn("There is no input video device chosen!"),yield is==null?void 0:is.stopVideoInput(),ls(!1)):cs?ns.error("Video limit is reached and can not turn on more videos!"):(yield rs.startVideoInputDevice(ss),is==null||is.startLocalVideoTile(),ls(!0))}catch{ns.error("Failed to toggle video")}}),[is,as,cs,ss]);reactExports.useEffect(()=>{if(!is)return;const gs={videoTileDidUpdate:ys=>{!ys.localTile||!ys.tileId||ds===ys.tileId||ps(ys.tileId)}};return is.addObserver(gs),()=>is.removeObserver(gs)},[is,ds]);const ms=reactExports.useMemo(()=>({tileId:ds,isVideoEnabled:as,setIsVideoEnabled:ls,hasReachedVideoLimit:cs,setHasReachedVideoLimit:us,toggleVideo:hs}),[ds,as,ls,cs,us,hs]);return React$1.createElement(Context$2.Provider,{value:ms},ts)},useLocalVideo=()=>{const ts=reactExports.useContext(Context$2);if(!ts)throw new Error("useLocalVideo must be used within LocalVideoProvider");return ts},MeetingEventProviderContext=reactExports.createContext(void 0),MeetingEventProvider=({children:ts})=>{const[ns,rs]=reactExports.useState(),is=useMeetingManager();return reactExports.useEffect(()=>{function os(ss,as){rs({name:ss,attributes:as})}return is.subscribeToEventDidReceive(os),()=>{is.unsubscribeFromEventDidReceive(os)}},[]),React$1.createElement(MeetingEventProviderContext.Provider,{value:ns},ts)},RosterContext=React$1.createContext(null),RosterProvider=({children:ts})=>{const ns=useMeetingManager(),rs=useAudioVideo(),is=reactExports.useRef({}),[os,ss]=reactExports.useState({});reactExports.useEffect(()=>{if(!rs)return;const ls=(cs,us,ds)=>__awaiter(void 0,void 0,void 0,function*(){if(!us){delete is.current[cs],ss(gs=>{const ys=gs,vs=cs;ys[vs];const bs=__rest(ys,[typeof vs=="symbol"?vs:vs+""]);return Object.assign({},bs)});return}const ps=new buildExports.DefaultModality(cs).base();if(ps!==cs||is.current[cs])return;let ms={chimeAttendeeId:cs};if(ds&&(ms.externalUserId=ds),is.current[ps]=ms,ss(gs=>Object.assign(Object.assign({},gs),{[ps]:ms})),ns.getAttendee){const gs=yield ns.getAttendee(ps,ds);if(!is.current[ps])return;ms=Object.assign(Object.assign({},ms),gs),ss(ys=>Object.assign(Object.assign({},ys),{[ps]:ms}))}});return rs.realtimeSubscribeToAttendeeIdPresence(ls),()=>{ss({}),is.current={},rs.realtimeUnsubscribeToAttendeeIdPresence(ls)}},[rs]);const as=reactExports.useMemo(()=>({roster:os}),[os]);return React$1.createElement(RosterContext.Provider,{value:as},ts)};function useRosterState(){const ts=reactExports.useContext(RosterContext);if(!ts)throw new Error("userRosterState must be used within RosterProvider");return ts}function noOpDeviceLabelHook(){return Promise.resolve(new MediaStream)}class MeetingManager{getDeviceLabels(){return this.deviceLabels}constructor(ns){this.meetingSession=null,this.meetingStatus=MeetingStatus.Loading,this.meetingStatusObservers=[],this.audioVideo=null,this.audioVideoObservers={},this.meetingId=null,this.selectedAudioOutputDeviceObservers=[],this.selectedAudioInputDeviceObservers=[],this.selectedVideoInputDeviceObservers=[],this.audioInputDevices=null,this.audioOutputDevices=null,this.videoInputDevices=null,this.deviceLabelTriggerStatus=DeviceLabelTriggerStatus.UNTRIGGERED,this.deviceLabelTriggerStatusObservers=[],this.deviceLabelTriggerObservers=[],this.activeSpeakerListener=null,this.activeSpeakerCallbacks=[],this.activeSpeakers=[],this.audioVideoCallbacks=[],this.devicesUpdatedCallbacks=[],this.meetingEventObserverSet=new Set,this.audioVideoDidStart=()=>{console.log("[MeetingManager audioVideoDidStart] Meeting started successfully"),this.meetingStatus=MeetingStatus.Succeeded,this.publishMeetingStatus()},this.audioVideoDidStartConnecting=rs=>{this.meetingStatus!==MeetingStatus.Reconnecting&&rs&&(this.meetingStatus=MeetingStatus.Reconnecting,this.publishMeetingStatus())},this.audioVideoDidStop=rs=>{var is;const os=rs.statusCode();switch(os){case buildExports.MeetingSessionStatusCode.MeetingEnded:console.log("[MeetingManager audioVideoDidStop] Meeting ended for all: ".concat(os)),this.meetingStatus=MeetingStatus.Ended;break;case buildExports.MeetingSessionStatusCode.Left:console.log("[MeetingManager audioVideoDidStop] Left the meeting: ".concat(os)),this.meetingStatus=MeetingStatus.Left;break;case buildExports.MeetingSessionStatusCode.AudioJoinedFromAnotherDevice:console.log("[MeetingManager audioVideoDidStop] Meeting joined from another device: ".concat(os)),this.meetingStatus=MeetingStatus.JoinedFromAnotherDevice;break;default:rs.isFailure()&&!rs.isTerminal()?(console.log("[MeetingManager audioVideoDidStop] Non-Terminal failure occurred: ".concat(os)),this.meetingStatus=MeetingStatus.Failed):rs.isTerminal()?(console.log("[MeetingManager audioVideoDidStop] Terminal failure occurred: ".concat(os)),this.meetingStatus=MeetingStatus.TerminalFailure):console.log("[MeetingManager audioVideoDidStop] session stopped with code ".concat(os))}this.publishMeetingStatus(),(is=this.audioVideo)===null||is===void 0||is.removeObserver(this.audioVideoObservers),this.leave()},this.startAudioInputDevice=rs=>__awaiter(this,void 0,void 0,function*(){var is;try{yield(is=this.audioVideo)===null||is===void 0?void 0:is.startAudioInput(rs),this.selectedAudioInputDevice=rs,this.publishSelectedAudioInputDevice()}catch(os){const ss=new Error("MeetingManager failed to select audio input device.");throw os instanceof Error&&(ss.name=os.name,ss.message+=" "+os.message),console.error(ss),ss}}),this.startAudioOutputDevice=rs=>__awaiter(this,void 0,void 0,function*(){var is;try{yield(is=this.audioVideo)===null||is===void 0?void 0:is.chooseAudioOutput(rs),this.selectedAudioOutputDevice=rs,this.publishSelectedAudioOutputDevice()}catch(os){throw console.error("MeetingManager failed to select audio output device",os),new Error("MeetingManager failed to select audio output device")}}),this.startVideoInputDevice=rs=>__awaiter(this,void 0,void 0,function*(){var is;try{yield(is=this.audioVideo)===null||is===void 0?void 0:is.startVideoInput(rs),this.selectedVideoInputDevice=rs,this.publishSelectedVideoInputDevice()}catch(os){const ss=new Error("MeetingManager failed to select video input device.");throw os instanceof Error&&(ss.name=os.name,ss.message+=" "+os.message),console.error(ss),ss}}),this.stopVideoInputDevice=()=>__awaiter(this,void 0,void 0,function*(){var rs;try{yield(rs=this.audioVideo)===null||rs===void 0?void 0:rs.stopVideoInput(),this.selectedVideoInputDevice=void 0,this.publishSelectedVideoInputDevice()}catch(is){throw console.error("MeetingManager failed to unselect video input device",is),new Error("MeetingManager failed to unselect video input device")}}),this.selectVideoInputDevice=rs=>{this.selectedVideoInputDevice=rs,this.publishSelectedVideoInputDevice()},this.invokeDeviceProvider=rs=>{this.setupDeviceLabelTrigger(rs),this.publishDeviceLabelTrigger()},this.subscribeToAudioVideo=rs=>{this.audioVideoCallbacks.push(rs)},this.unsubscribeFromAudioVideo=rs=>{this.audioVideoCallbacks=this.audioVideoCallbacks.filter(is=>is!==rs)},this.publishAudioVideo=()=>{this.audioVideoCallbacks.forEach(rs=>{rs(this.audioVideo)})},this.subscribeToActiveSpeaker=rs=>{this.activeSpeakerCallbacks.push(rs),rs(this.activeSpeakers)},this.unsubscribeFromActiveSpeaker=rs=>{this.activeSpeakerCallbacks=this.activeSpeakerCallbacks.filter(is=>is!==rs)},this.publishActiveSpeaker=()=>{this.activeSpeakerCallbacks.forEach(rs=>{rs(this.activeSpeakers)})},this.subscribeToSelectedVideoInputDevice=rs=>{this.selectedVideoInputDeviceObservers.push(rs)},this.unsubscribeFromSelectedVideoInputDevice=rs=>{this.selectedVideoInputDeviceObservers=this.selectedVideoInputDeviceObservers.filter(is=>is!==rs)},this.publishSelectedVideoInputDevice=()=>{for(const rs of this.selectedVideoInputDeviceObservers)rs(this.selectedVideoInputDevice)},this.subscribeToSelectedAudioInputDevice=rs=>{this.selectedAudioInputDeviceObservers.push(rs)},this.unsubscribeFromSelectedAudioInputDevice=rs=>{this.selectedAudioInputDeviceObservers=this.selectedAudioInputDeviceObservers.filter(is=>is!==rs)},this.publishSelectedAudioInputDevice=()=>{for(const rs of this.selectedAudioInputDeviceObservers)rs(this.selectedAudioInputDevice)},this.subscribeToSelectedAudioOutputDevice=rs=>{this.selectedAudioOutputDeviceObservers.push(rs)},this.unsubscribeFromSelectedAudioOutputDevice=rs=>{this.selectedAudioOutputDeviceObservers=this.selectedAudioOutputDeviceObservers.filter(is=>is!==rs)},this.publishSelectedAudioOutputDevice=()=>{for(const rs of this.selectedAudioOutputDeviceObservers)rs(this.selectedAudioOutputDevice)},this.subscribeToMeetingStatus=rs=>{this.meetingStatusObservers.push(rs),rs(this.meetingStatus)},this.unsubscribeFromMeetingStatus=rs=>{this.meetingStatusObservers=this.meetingStatusObservers.filter(is=>is!==rs)},this.publishMeetingStatus=()=>{this.meetingStatusObservers.forEach(rs=>{rs(this.meetingStatus)})},this.subscribeToDeviceLabelTrigger=rs=>{this.deviceLabelTriggerObservers.push(rs)},this.unsubscribeFromDeviceLabelTrigger=rs=>{this.deviceLabelTriggerObservers=this.deviceLabelTriggerObservers.filter(is=>is!==rs)},this.publishDeviceLabelTrigger=()=>{for(const rs of this.deviceLabelTriggerObservers)rs()},this.subscribeToDeviceLabelTriggerStatus=rs=>{this.deviceLabelTriggerStatusObservers.push(rs)},this.unsubscribeFromDeviceLabelTriggerStatus=rs=>{this.deviceLabelTriggerStatusObservers=this.deviceLabelTriggerStatusObservers.filter(is=>is!==rs)},this.publishDeviceLabelTriggerStatus=()=>{for(const rs of this.deviceLabelTriggerStatusObservers)rs(this.deviceLabelTriggerStatus)},this.subscribeToEventDidReceive=rs=>{this.meetingEventObserverSet.add(rs)},this.unsubscribeFromEventDidReceive=rs=>{this.meetingEventObserverSet.delete(rs)},this.publishEventDidReceiveUpdate=(rs,is)=>{this.meetingEventObserverSet.forEach(os=>os(rs,is))},this.logger=ns,this.eventDidReceiveRef={eventDidReceive:(rs,is)=>{this.publishEventDidReceiveUpdate(rs,is)}}}initializeMeetingManager(){this.meetingSession=null,this.audioVideo=null,this.meetingSessionConfiguration=void 0,this.meetingId=null,this.selectedAudioOutputDevice=null,this.selectedAudioInputDevice=void 0,this.selectedVideoInputDevice=void 0,this.audioInputDevices=[],this.audioOutputDevices=[],this.videoInputDevices=[],this.activeSpeakers=[],this.activeSpeakerListener=null,this.audioVideoObservers={}}join(ns,rs){return __awaiter(this,void 0,void 0,function*(){const{deviceLabels:is,eventController:os,enableWebAudio:ss,activeSpeakerPolicy:as,skipDeviceSelection:ls}=this.parseJoinParams(rs);this.meetingSessionConfiguration=ns,this.meetingId=this.meetingSessionConfiguration.meetingId;const cs=new buildExports.DefaultDeviceController(this.logger,{enableWebAudio:ss});this.meetingSession=new buildExports.DefaultMeetingSession(ns,this.logger,cs,os),this.audioVideo=this.meetingSession.audioVideo,os?os.addObserver(this.eventDidReceiveRef):this.meetingSession.eventController.addObserver(this.eventDidReceiveRef),this.setupAudioVideoObservers(),this.setupDeviceLabelTrigger(is),ls||(this.logger.info("[MeetingManager.join] listing and selecting devices"),yield this.listAndSelectDevices(is)),this.publishAudioVideo(),this.setupActiveSpeakerDetection(as),this.meetingStatus=MeetingStatus.Loading,this.publishMeetingStatus()})}parseJoinParams(ns){const rs=(ns==null?void 0:ns.deviceLabels)||DeviceLabels.AudioAndVideo,is=ns==null?void 0:ns.eventController,os=(ns==null?void 0:ns.enableWebAudio)||!1,ss=(ns==null?void 0:ns.activeSpeakerPolicy)||new buildExports.DefaultActiveSpeakerPolicy,as=(ns==null?void 0:ns.skipDeviceSelection)||!1;return{deviceLabels:rs,eventController:is,enableWebAudio:os,activeSpeakerPolicy:ss,skipDeviceSelection:as}}start(){var ns;return __awaiter(this,void 0,void 0,function*(){(ns=this.audioVideo)===null||ns===void 0||ns.start()})}leave(){var ns,rs;return __awaiter(this,void 0,void 0,function*(){if(this.audioVideo){this.audioVideo.stopContentShare(),this.audioVideo.stopLocalVideoTile(),this.audioVideo.unbindAudioElement();try{yield(ns=this.meetingSession)===null||ns===void 0?void 0:ns.deviceController.chooseAudioOutput(null),yield(rs=this.meetingSession)===null||rs===void 0?void 0:rs.deviceController.destroy()}catch{console.log("MeetingManager failed to clean up media resources on leave")}this.activeSpeakerListener&&this.audioVideo.unsubscribeFromActiveSpeakerDetector(this.activeSpeakerListener),this.audioVideo.stop()}this.initializeMeetingManager(),this.publishAudioVideo(),this.publishActiveSpeaker()})}setupAudioVideoObservers(){this.audioVideo&&(this.audioVideoObservers={audioVideoDidStart:this.audioVideoDidStart,audioVideoDidStartConnecting:this.audioVideoDidStartConnecting,audioVideoDidStop:this.audioVideoDidStop},this.audioVideo.addObserver(this.audioVideoObservers))}updateDeviceLists(){var ns,rs,is;return __awaiter(this,void 0,void 0,function*(){this.audioInputDevices=(yield(ns=this.audioVideo)===null||ns===void 0?void 0:ns.listAudioInputDevices())||[],this.videoInputDevices=(yield(rs=this.audioVideo)===null||rs===void 0?void 0:rs.listVideoInputDevices())||[],this.audioOutputDevices=(yield(is=this.audioVideo)===null||is===void 0?void 0:is.listAudioOutputDevices())||[]})}setupDeviceLabelTrigger(ns=DeviceLabels.AudioAndVideo){var rs;this.deviceLabels=ns;let is;if(typeof ns=="function")is=ns;else if(ns===DeviceLabels.None)is=noOpDeviceLabelHook;else{const os={};switch(ns){case DeviceLabels.Audio:os.audio=!0;break;case DeviceLabels.Video:os.video=!0;break;case DeviceLabels.AudioAndVideo:os.audio=!0,os.video=!0;break}is=()=>__awaiter(this,void 0,void 0,function*(){this.deviceLabelTriggerStatus=DeviceLabelTriggerStatus.IN_PROGRESS,this.publishDeviceLabelTriggerStatus();try{const as=(yield navigator.mediaDevices.enumerateDevices()).some(cs=>cs.kind==="videoinput"),ls=yield navigator.mediaDevices.getUserMedia({audio:os.audio,video:os.video&&as});return this.deviceLabelTriggerStatus=DeviceLabelTriggerStatus.GRANTED,this.publishDeviceLabelTriggerStatus(),ls}catch(ss){throw console.error("MeetingManager failed to get device permissions"),this.deviceLabelTriggerStatus=DeviceLabelTriggerStatus.DENIED,this.publishDeviceLabelTriggerStatus(),ss}})}(rs=this.audioVideo)===null||rs===void 0||rs.setDeviceLabelTrigger(is)}setupActiveSpeakerDetection(ns){var rs;this.publishActiveSpeaker(),this.activeSpeakerListener=is=>{this.activeSpeakers=is,this.activeSpeakerCallbacks.forEach(os=>os(is))},(rs=this.audioVideo)===null||rs===void 0||rs.subscribeToActiveSpeakerDetector(ns||new buildExports.DefaultActiveSpeakerPolicy,this.activeSpeakerListener)}listAndSelectDevices(ns=DeviceLabels.AudioAndVideo){var rs,is;return __awaiter(this,void 0,void 0,function*(){if(yield this.updateDeviceLists(),typeof ns=="function")return;let os=!1,ss=!1;switch(ns){case DeviceLabels.None:break;case DeviceLabels.Audio:os=!0;break;case DeviceLabels.Video:ss=!0;break;case DeviceLabels.AudioAndVideo:os=!0,ss=!0;break}if(os&&!this.selectedAudioInputDevice&&this.audioInputDevices&&this.audioInputDevices.length){this.selectedAudioInputDevice=this.audioInputDevices[0].deviceId;try{yield(rs=this.audioVideo)===null||rs===void 0?void 0:rs.startAudioInput(this.audioInputDevices[0].deviceId)}catch(as){console.error("MeetingManager failed to select audio input device on join",as)}this.publishSelectedAudioInputDevice()}if(os&&!this.selectedAudioOutputDevice&&this.audioOutputDevices&&this.audioOutputDevices.length){if(this.selectedAudioOutputDevice=this.audioOutputDevices[0].deviceId,new buildExports.DefaultBrowserBehavior().supportsSetSinkId())try{yield(is=this.audioVideo)===null||is===void 0?void 0:is.chooseAudioOutput(this.audioOutputDevices[0].deviceId)}catch(as){console.error("MeetingManager failed to select audio output device on join",as)}this.publishSelectedAudioOutputDevice()}ss&&!this.selectedVideoInputDevice&&this.videoInputDevices&&this.videoInputDevices.length&&(this.selectedVideoInputDevice=this.videoInputDevices[0].deviceId,this.publishSelectedVideoInputDevice())})}}const MeetingContext=reactExports.createContext(null),MeetingProvider=({onDeviceReplacement:ts,meetingManager:ns,children:rs})=>{const is=useLogger(),[os]=reactExports.useState(()=>ns||new MeetingManager(is));return React$1.createElement(MeetingContext.Provider,{value:os},React$1.createElement(MeetingEventProvider,null,React$1.createElement(AudioVideoProvider,null,React$1.createElement(DevicesProvider,{onDeviceReplacement:ts},React$1.createElement(RosterProvider,null,React$1.createElement(RemoteVideoTileProvider,null,React$1.createElement(LocalVideoProvider,null,React$1.createElement(LocalAudioOutputProvider,null,React$1.createElement(ContentShareProvider,null,React$1.createElement(FeaturedVideoTileProvider,null,rs))))))))))},useMeetingManager=()=>{const ts=reactExports.useContext(MeetingContext);if(!ts)throw new Error("useMeetingManager must be used within MeetingProvider");return ts},AudioVideoContext=reactExports.createContext(null),AudioVideoProvider=({children:ts})=>{const ns=useMeetingManager(),[rs,is]=reactExports.useState(null);return reactExports.useEffect(()=>{function os(ss){is(ss)}return ns.subscribeToAudioVideo(os),()=>ns.unsubscribeFromAudioVideo(os)},[]),React$1.createElement(AudioVideoContext.Provider,{value:rs},ts)},useAudioVideo=()=>reactExports.useContext(AudioVideoContext),Context$1=reactExports.createContext(null),AudioInputProvider=({children:ts,onDeviceReplacement:ns})=>{const rs=useLogger(),is=useMeetingManager(),os=useAudioVideo(),[ss,as]=reactExports.useState([]),[ls,cs]=reactExports.useState(is.selectedAudioInputDevice),us=reactExports.useRef(ls);us.current=ls;const ds=hs=>__awaiter(void 0,void 0,void 0,function*(){return ns?ns(hs,is.selectedAudioInputDevice):hs});reactExports.useEffect(()=>(is.subscribeToSelectedAudioInputDevice(cs),()=>{is.unsubscribeFromSelectedAudioInputDevice(cs)}),[]),reactExports.useEffect(()=>{let hs=!0;const ms={audioInputsChanged:vs=>__awaiter(void 0,void 0,void 0,function*(){if(rs.info("AudioInputProvider - audio inputs updated"),is.getDeviceLabels()!==DeviceLabels.Audio&&is.getDeviceLabels()!==DeviceLabels.AudioAndVideo){rs.info("Device labels do not allow audio, skipping audio input selection on audioInputsChanged");return}const bs=vs.some(Cs=>Cs.deviceId===us.current);let Ss="default";us.current&&!bs&&vs.length?(rs.info("Previously selected audio input lost. Selecting a default device."),Ss=vs[0].deviceId):us.current==="default"&&rs.info('Audio devices updated and "default" device is selected. Reselecting input.');const $s=yield ds(Ss);try{yield is.startAudioInputDevice($s)}catch(Cs){rs.error("Failed to select audio input device on audioInputsChanged: ".concat(Cs))}as(vs)})};function gs(){return __awaiter(this,void 0,void 0,function*(){if(!os)return;const vs=yield os.listAudioInputDevices();hs&&(as(vs),os.addDeviceChangeObserver(ms))})}const ys=()=>{gs()};return is.subscribeToDeviceLabelTrigger(ys),gs(),()=>{hs=!1,os==null||os.removeDeviceChangeObserver(ms),is.unsubscribeFromDeviceLabelTrigger(ys)}},[os,ns]);const ps=reactExports.useMemo(()=>({devices:ss,selectedDevice:ls}),[ss,ls]);return React$1.createElement(Context$1.Provider,{value:ps},ts)},AudioOutputContext=reactExports.createContext(null),AudioOutputProvider=({children:ts})=>{const ns=useLogger(),rs=useAudioVideo(),[is,os]=reactExports.useState([]),ss=useMeetingManager(),[as,ls]=reactExports.useState(ss.selectedAudioOutputDevice);reactExports.useEffect(()=>(ss.subscribeToSelectedAudioOutputDevice(ls),()=>{ss.unsubscribeFromSelectedAudioOutputDevice(ls)}),[]),reactExports.useEffect(()=>{let us=!0;const ds={audioOutputsChanged:ms=>{ns.info("AudioOutputProvider - audio outputs updated"),os(ms)}};function ps(){return __awaiter(this,void 0,void 0,function*(){if(!rs)return;const ms=yield rs.listAudioOutputDevices();us&&(os(ms),rs.addDeviceChangeObserver(ds))})}const hs=()=>{ps()};return ss.subscribeToDeviceLabelTrigger(hs),ps(),()=>{us=!1,rs==null||rs.removeDeviceChangeObserver(ds),ss.unsubscribeFromDeviceLabelTrigger(hs)}},[rs]);const cs=reactExports.useMemo(()=>({devices:is,selectedDevice:as}),[is,as]);return React$1.createElement(AudioOutputContext.Provider,{value:cs},ts)},Context=reactExports.createContext(null),VideoInputProvider=({children:ts})=>{const ns=useLogger(),rs=useAudioVideo(),[is,os]=reactExports.useState([]),ss=useMeetingManager(),[as,ls]=reactExports.useState(ss.selectedVideoInputDevice);reactExports.useEffect(()=>(ss.subscribeToSelectedVideoInputDevice(ls),()=>{ss.unsubscribeFromSelectedVideoInputDevice(ls)}),[]),reactExports.useEffect(()=>{let us=!0;const ds={videoInputsChanged:ms=>{ns.info("VideoInputProvider - video inputs updated"),os(ms)}};function ps(){return __awaiter(this,void 0,void 0,function*(){if(!rs)return;const ms=yield rs.listVideoInputDevices();us&&(os(ms),rs.addDeviceChangeObserver(ds))})}const hs=()=>{ps()};return ss.subscribeToDeviceLabelTrigger(hs),ps(),()=>{us=!1,rs==null||rs.removeDeviceChangeObserver(ds),ss.unsubscribeFromDeviceLabelTrigger(hs)}},[rs]);const cs=reactExports.useMemo(()=>({devices:is,selectedDevice:as}),[is,as]);return React$1.createElement(Context.Provider,{value:cs},ts)},useVideoInputs=()=>{const ts=reactExports.useContext(Context);if(!ts)throw new Error("useVideoInputs must be used within VideoInputProvider");return ts},DevicesProvider=({children:ts,onDeviceReplacement:ns})=>React$1.createElement(AudioInputProvider,{onDeviceReplacement:ns},React$1.createElement(AudioOutputProvider,null,React$1.createElement(VideoInputProvider,null,ts)));reactExports.createContext(void 0);function useToggleLocalMute(){const ts=useAudioVideo(),[ns,rs]=reactExports.useState(()=>(ts==null?void 0:ts.realtimeIsLocalAudioMuted())||!1);reactExports.useEffect(()=>{const os=ss=>{rs(ss)};return ts==null||ts.realtimeSubscribeToMuteAndUnmuteLocalAudio(os),rs((ts==null?void 0:ts.realtimeIsLocalAudioMuted())||!1),()=>{ts==null||ts.realtimeUnsubscribeToMuteAndUnmuteLocalAudio(os)}},[ts]);const is=reactExports.useCallback(()=>{ns?ts==null||ts.realtimeUnmuteLocalAudio():ts==null||ts.realtimeMuteLocalAudio()},[ns,ts]);return{muted:ns,toggleMute:is}}createCommonjsModule(function(ts,ns){var rs=200,is="__lodash_hash_undefined__",os=1,ss=2,as=9007199254740991,ls="[object Arguments]",cs="[object Array]",us="[object AsyncFunction]",ds="[object Boolean]",ps="[object Date]",hs="[object Error]",ms="[object Function]",gs="[object GeneratorFunction]",ys="[object Map]",vs="[object Number]",bs="[object Null]",Ss="[object Object]",$s="[object Promise]",Cs="[object Proxy]",Es="[object RegExp]",xs="[object Set]",ws="[object String]",ks="[object Symbol]",Is="[object Undefined]",Ts="[object WeakMap]",Rs="[object ArrayBuffer]",As="[object DataView]",Ms="[object Float32Array]",Ls="[object Float64Array]",Ds="[object Int8Array]",Fs="[object Int16Array]",Vs="[object Int32Array]",Bs="[object Uint8Array]",Ws="[object Uint8ClampedArray]",Os="[object Uint16Array]",Nl="[object Uint32Array]",$a=/[\\^$.*+?()[\]{}|]/g,Ps=/^\[object .+?Constructor\]$/,Ys=/^(?:0|[1-9]\d*)$/,Zs={};Zs[Ms]=Zs[Ls]=Zs[Ds]=Zs[Fs]=Zs[Vs]=Zs[Bs]=Zs[Ws]=Zs[Os]=Zs[Nl]=!0,Zs[ls]=Zs[cs]=Zs[Rs]=Zs[ds]=Zs[As]=Zs[ps]=Zs[hs]=Zs[ms]=Zs[ys]=Zs[vs]=Zs[Ss]=Zs[Es]=Zs[xs]=Zs[ws]=Zs[Ts]=!1;var Us=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,Ol=typeof self=="object"&&self&&self.Object===Object&&self,qs=Us||Ol||Function("return this")(),Fl=ns&&!ns.nodeType&&ns,Ll=Fl&&!0&&ts&&!ts.nodeType&&ts,$l=Ll&&Ll.exports===Fl,Cl=$l&&Us.process,wl=function(){try{return Cl&&Cl.binding&&Cl.binding("util")}catch{}}(),Tl=wl&&wl.isTypedArray;function xl(js,Qs){for(var Wl=-1,ru=js==null?0:js.length,hu=0,uu=[];++Wl<ru;){var yu=js[Wl];Qs(yu,Wl,js)&&(uu[hu++]=yu)}return uu}function Al(js,Qs){for(var Wl=-1,ru=Qs.length,hu=js.length;++Wl<ru;)js[hu+Wl]=Qs[Wl];return js}function Dl(js,Qs){for(var Wl=-1,ru=js==null?0:js.length;++Wl<ru;)if(Qs(js[Wl],Wl,js))return!0;return!1}function Ns(js,Qs){for(var Wl=-1,ru=Array(js);++Wl<js;)ru[Wl]=Qs(Wl);return ru}function Hs(js){return function(Qs){return js(Qs)}}function Gs(js,Qs){return js.has(Qs)}function Js(js,Qs){return js==null?void 0:js[Qs]}function El(js){var Qs=-1,Wl=Array(js.size);return js.forEach(function(ru,hu){Wl[++Qs]=[hu,ru]}),Wl}function Xs(js,Qs){return function(Wl){return js(Qs(Wl))}}function _l(js){var Qs=-1,Wl=Array(js.size);return js.forEach(function(ru){Wl[++Qs]=ru}),Wl}var Bl=Array.prototype,Ks=Function.prototype,Sl=Object.prototype,Il=qs["__core-js_shared__"],Ml=Ks.toString,Kl=Sl.hasOwnProperty,Ql=function(){var js=/[^.]+$/.exec(Il&&Il.keys&&Il.keys.IE_PROTO||"");return js?"Symbol(src)_1."+js:""}(),Yl=Sl.toString,Gl=RegExp("^"+Ml.call(Kl).replace($a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),iu=$l?qs.Buffer:void 0,Vl=qs.Symbol,Hl=qs.Uint8Array,zs=Sl.propertyIsEnumerable,yl=Bl.splice,Rl=Vl?Vl.toStringTag:void 0,Jl=Object.getOwnPropertySymbols,tu=iu?iu.isBuffer:void 0,Xl=Xs(Object.keys,Object),ou=Gu(qs,"DataView"),au=Gu(qs,"Map"),fu=Gu(qs,"Promise"),du=Gu(qs,"Set"),Su=Gu(qs,"WeakMap"),ku=Gu(Object,"create"),Tu=Hu(ou),gu=Hu(au),pu=Hu(fu),$u=Hu(du),xu=Hu(Su),Ru=Vl?Vl.prototype:void 0,Fu=Ru?Ru.valueOf:void 0;function Cu(js){var Qs=-1,Wl=js==null?0:js.length;for(this.clear();++Qs<Wl;){var ru=js[Qs];this.set(ru[0],ru[1])}}function Nu(){this.__data__=ku?ku(null):{},this.size=0}function Lu(js){var Qs=this.has(js)&&delete this.__data__[js];return this.size-=Qs?1:0,Qs}function Au(js){var Qs=this.__data__;if(ku){var Wl=Qs[js];return Wl===is?void 0:Wl}return Kl.call(Qs,js)?Qs[js]:void 0}function Mu(js){var Qs=this.__data__;return ku?Qs[js]!==void 0:Kl.call(Qs,js)}function Ul(js,Qs){var Wl=this.__data__;return this.size+=this.has(js)?0:1,Wl[js]=ku&&Qs===void 0?is:Qs,this}Cu.prototype.clear=Nu,Cu.prototype.delete=Lu,Cu.prototype.get=Au,Cu.prototype.has=Mu,Cu.prototype.set=Ul;function Pl(js){var Qs=-1,Wl=js==null?0:js.length;for(this.clear();++Qs<Wl;){var ru=js[Qs];this.set(ru[0],ru[1])}}function eu(){this.__data__=[],this.size=0}function Zl(js){var Qs=this.__data__,Wl=Zu(Qs,js);if(Wl<0)return!1;var ru=Qs.length-1;return Wl==ru?Qs.pop():yl.call(Qs,Wl,1),--this.size,!0}function su(js){var Qs=this.__data__,Wl=Zu(Qs,js);return Wl<0?void 0:Qs[Wl][1]}function nu(js){return Zu(this.__data__,js)>-1}function lu(js,Qs){var Wl=this.__data__,ru=Zu(Wl,js);return ru<0?(++this.size,Wl.push([js,Qs])):Wl[ru][1]=Qs,this}Pl.prototype.clear=eu,Pl.prototype.delete=Zl,Pl.prototype.get=su,Pl.prototype.has=nu,Pl.prototype.set=lu;function bu(js){var Qs=-1,Wl=js==null?0:js.length;for(this.clear();++Qs<Wl;){var ru=js[Qs];this.set(ru[0],ru[1])}}function Wu(){this.size=0,this.__data__={hash:new Cu,map:new(au||Pl),string:new Cu}}function fp(js){var Qs=Ju(this,js).delete(js);return this.size-=Qs?1:0,Qs}function pp(js){return Ju(this,js).get(js)}function hp(js){return Ju(this,js).has(js)}function mp(js,Qs){var Wl=Ju(this,js),ru=Wl.size;return Wl.set(js,Qs),this.size+=Wl.size==ru?0:1,this}bu.prototype.clear=Wu,bu.prototype.delete=fp,bu.prototype.get=pp,bu.prototype.has=hp,bu.prototype.set=mp;function Yu(js){var Qs=-1,Wl=js==null?0:js.length;for(this.__data__=new bu;++Qs<Wl;)this.add(js[Qs])}function gp(js){return this.__data__.set(js,is),this}function yp(js){return this.__data__.has(js)}Yu.prototype.add=Yu.prototype.push=gp,Yu.prototype.has=yp;function Uu(js){var Qs=this.__data__=new Pl(js);this.size=Qs.size}function vp(){this.__data__=new Pl,this.size=0}function bp(js){var Qs=this.__data__,Wl=Qs.delete(js);return this.size=Qs.size,Wl}function Sp(js){return this.__data__.get(js)}function $p(js){return this.__data__.has(js)}function Cp(js,Qs){var Wl=this.__data__;if(Wl instanceof Pl){var ru=Wl.__data__;if(!au||ru.length<rs-1)return ru.push([js,Qs]),this.size=++Wl.size,this;Wl=this.__data__=new bu(ru)}return Wl.set(js,Qs),this.size=Wl.size,this}Uu.prototype.clear=vp,Uu.prototype.delete=bp,Uu.prototype.get=Sp,Uu.prototype.has=$p,Uu.prototype.set=Cp;function Ep(js,Qs){var Wl=Xu(js),ru=!Wl&&Up(js),hu=!Wl&&!ru&&_f(js),uu=!Wl&&!ru&&!hu&&lp(js),yu=Wl||ru||hu||uu,_u=yu?Ns(js.length,String):[],Eu=_u.length;for(var mu in js)(Qs||Kl.call(js,mu))&&!(yu&&(mu=="length"||hu&&(mu=="offset"||mu=="parent")||uu&&(mu=="buffer"||mu=="byteLength"||mu=="byteOffset")||Dp(mu,Eu)))&&_u.push(mu);return _u}function Zu(js,Qs){for(var Wl=js.length;Wl--;)if(ip(js[Wl][0],Qs))return Wl;return-1}function xp(js,Qs,Wl){var ru=Qs(js);return Xu(js)?ru:Al(ru,Wl(js))}function qu(js){return js==null?js===void 0?Is:bs:Rl&&Rl in Object(js)?Pp(js):Bp(js)}function ep(js){return Ku(js)&&qu(js)==ls}function tp(js,Qs,Wl,ru,hu){return js===Qs?!0:js==null||Qs==null||!Ku(js)&&!Ku(Qs)?js!==js&&Qs!==Qs:wp(js,Qs,Wl,ru,tp,hu)}function wp(js,Qs,Wl,ru,hu,uu){var yu=Xu(js),_u=Xu(Qs),Eu=yu?cs:ju(js),mu=_u?cs:ju(Qs);Eu=Eu==ls?Ss:Eu,mu=mu==ls?Ss:mu;var Iu=Eu==Ss,Du=mu==Ss,wu=Eu==mu;if(wu&&_f(js)){if(!_f(Qs))return!1;yu=!0,Iu=!1}if(wu&&!Iu)return uu||(uu=new Uu),yu||lp(js)?np(js,Qs,Wl,ru,hu,uu):Rp(js,Qs,Eu,Wl,ru,hu,uu);if(!(Wl&os)){var Pu=Iu&&Kl.call(js,"__wrapped__"),Ou=Du&&Kl.call(Qs,"__wrapped__");if(Pu||Ou){var Vu=Pu?js.value():js,Bu=Ou?Qs.value():Qs;return uu||(uu=new Uu),hu(Vu,Bu,Wl,ru,uu)}}return wu?(uu||(uu=new Uu),Ap(js,Qs,Wl,ru,hu,uu)):!1}function Tp(js){if(!ap(js)||Lp(js))return!1;var Qs=op(js)?Gl:Ps;return Qs.test(Hu(js))}function kp(js){return Ku(js)&&sp(js.length)&&!!Zs[qu(js)]}function Ip(js){if(!Fp(js))return Xl(js);var Qs=[];for(var Wl in Object(js))Kl.call(js,Wl)&&Wl!="constructor"&&Qs.push(Wl);return Qs}function np(js,Qs,Wl,ru,hu,uu){var yu=Wl&os,_u=js.length,Eu=Qs.length;if(_u!=Eu&&!(yu&&Eu>_u))return!1;var mu=uu.get(js);if(mu&&uu.get(Qs))return mu==Qs;var Iu=-1,Du=!0,wu=Wl&ss?new Yu:void 0;for(uu.set(js,Qs),uu.set(Qs,js);++Iu<_u;){var Pu=js[Iu],Ou=Qs[Iu];if(ru)var Vu=yu?ru(Ou,Pu,Iu,Qs,js,uu):ru(Pu,Ou,Iu,js,Qs,uu);if(Vu!==void 0){if(Vu)continue;Du=!1;break}if(wu){if(!Dl(Qs,function(Bu,zu){if(!Gs(wu,zu)&&(Pu===Bu||hu(Pu,Bu,Wl,ru,uu)))return wu.push(zu)})){Du=!1;break}}else if(!(Pu===Ou||hu(Pu,Ou,Wl,ru,uu))){Du=!1;break}}return uu.delete(js),uu.delete(Qs),Du}function Rp(js,Qs,Wl,ru,hu,uu,yu){switch(Wl){case As:if(js.byteLength!=Qs.byteLength||js.byteOffset!=Qs.byteOffset)return!1;js=js.buffer,Qs=Qs.buffer;case Rs:return!(js.byteLength!=Qs.byteLength||!uu(new Hl(js),new Hl(Qs)));case ds:case ps:case vs:return ip(+js,+Qs);case hs:return js.name==Qs.name&&js.message==Qs.message;case Es:case ws:return js==Qs+"";case ys:var _u=El;case xs:var Eu=ru&os;if(_u||(_u=_l),js.size!=Qs.size&&!Eu)return!1;var mu=yu.get(js);if(mu)return mu==Qs;ru|=ss,yu.set(js,Qs);var Iu=np(_u(js),_u(Qs),ru,hu,uu,yu);return yu.delete(js),Iu;case ks:if(Fu)return Fu.call(js)==Fu.call(Qs)}return!1}function Ap(js,Qs,Wl,ru,hu,uu){var yu=Wl&os,_u=rp(js),Eu=_u.length,mu=rp(Qs),Iu=mu.length;if(Eu!=Iu&&!yu)return!1;for(var Du=Eu;Du--;){var wu=_u[Du];if(!(yu?wu in Qs:Kl.call(Qs,wu)))return!1}var Pu=uu.get(js);if(Pu&&uu.get(Qs))return Pu==Qs;var Ou=!0;uu.set(js,Qs),uu.set(Qs,js);for(var Vu=yu;++Du<Eu;){wu=_u[Du];var Bu=js[wu],zu=Qs[wu];if(ru)var cp=yu?ru(zu,Bu,wu,Qs,js,uu):ru(Bu,zu,wu,js,Qs,uu);if(!(cp===void 0?Bu===zu||hu(Bu,zu,Wl,ru,uu):cp)){Ou=!1;break}Vu||(Vu=wu=="constructor")}if(Ou&&!Vu){var Qu=js.constructor,_d=Qs.constructor;Qu!=_d&&"constructor"in js&&"constructor"in Qs&&!(typeof Qu=="function"&&Qu instanceof Qu&&typeof _d=="function"&&_d instanceof _d)&&(Ou=!1)}return uu.delete(js),uu.delete(Qs),Ou}function rp(js){return xp(js,Hp,Mp)}function Ju(js,Qs){var Wl=js.__data__;return Np(Qs)?Wl[typeof Qs=="string"?"string":"hash"]:Wl.map}function Gu(js,Qs){var Wl=Js(js,Qs);return Tp(Wl)?Wl:void 0}function Pp(js){var Qs=Kl.call(js,Rl),Wl=js[Rl];try{js[Rl]=void 0;var ru=!0}catch{}var hu=Yl.call(js);return ru&&(Qs?js[Rl]=Wl:delete js[Rl]),hu}var Mp=Jl?function(js){return js==null?[]:(js=Object(js),xl(Jl(js),function(Qs){return zs.call(js,Qs)}))}:zp,ju=qu;(ou&&ju(new ou(new ArrayBuffer(1)))!=As||au&&ju(new au)!=ys||fu&&ju(fu.resolve())!=$s||du&&ju(new du)!=xs||Su&&ju(new Su)!=Ts)&&(ju=function(js){var Qs=qu(js),Wl=Qs==Ss?js.constructor:void 0,ru=Wl?Hu(Wl):"";if(ru)switch(ru){case Tu:return As;case gu:return ys;case pu:return $s;case $u:return xs;case xu:return Ts}return Qs});function Dp(js,Qs){return Qs=Qs==null?as:Qs,!!Qs&&(typeof js=="number"||Ys.test(js))&&js>-1&&js%1==0&&js<Qs}function Np(js){var Qs=typeof js;return Qs=="string"||Qs=="number"||Qs=="symbol"||Qs=="boolean"?js!=="__proto__":js===null}function Lp(js){return!!Ql&&Ql in js}function Fp(js){var Qs=js&&js.constructor,Wl=typeof Qs=="function"&&Qs.prototype||Sl;return js===Wl}function Bp(js){return Yl.call(js)}function Hu(js){if(js!=null){try{return Ml.call(js)}catch{}try{return js+""}catch{}}return""}function ip(js,Qs){return js===Qs||js!==js&&Qs!==Qs}var Up=ep(function(){return arguments}())?ep:function(js){return Ku(js)&&Kl.call(js,"callee")&&!zs.call(js,"callee")},Xu=Array.isArray;function jp(js){return js!=null&&sp(js.length)&&!op(js)}var _f=tu||Wp;function Vp(js,Qs){return tp(js,Qs)}function op(js){if(!ap(js))return!1;var Qs=qu(js);return Qs==ms||Qs==gs||Qs==us||Qs==Cs}function sp(js){return typeof js=="number"&&js>-1&&js%1==0&&js<=as}function ap(js){var Qs=typeof js;return js!=null&&(Qs=="object"||Qs=="function")}function Ku(js){return js!=null&&typeof js=="object"}var lp=Tl?Hs(Tl):kp;function Hp(js){return jp(js)?Ep(js):Ip(js)}function zp(){return[]}function Wp(){return!1}ts.exports=Vp});reactExports.createContext(null);var Gy;styled(VideoTile)(Gy||(Gy=zl(["\n  background-color: ",";\n"])),({theme:ts})=>ts.colors.greys.grey80);function useApplyVideoObjectFit(ts){reactExports.useEffect(()=>{var ns;function rs(){if(!ts.current)return;const is=ts.current.videoHeight,os=ts.current.videoWidth;ts.current.style.objectFit=is>os?"contain":"cover"}return(ns=ts.current)===null||ns===void 0||ns.addEventListener("loadedmetadata",rs),()=>{var is;return(is=ts.current)===null||is===void 0?void 0:is.removeEventListener("loadedmetadata",rs)}},[ts])}var qy;const StyledLocalVideo=styled(VideoTile)(qy||(qy=zl(["\n  ",";\n"])),ts=>ts.active?"":"display: none"),LocalVideo=ts=>{var{nameplate:ns}=ts,rs=__rest(ts,["nameplate"]);const{tileId:is,isVideoEnabled:os}=useLocalVideo(),ss=useAudioVideo(),as=reactExports.useRef(null);return useApplyVideoObjectFit(as),reactExports.useEffect(()=>{if(!(!ss||!is||!as.current||!os))return ss.bindVideoElement(is,as.current),()=>{ss.getVideoTile(is)&&ss.unbindVideoElement(is)}},[ss,is,os]),React$1.createElement(StyledLocalVideo,Object.assign({active:os,nameplate:ns,ref:as},rs))};var Ky;styled(VideoTile)(Ky||(Ky=zl(["\n  height: auto;\n  background: unset;\n\n  video {\n    position: static;\n  }\n"])));const RemoteVideo=ts=>{var{name:ns,className:rs,tileId:is}=ts,os=__rest(ts,["name","className","tileId"]);const ss=useAudioVideo(),as=reactExports.useRef(null);return useApplyVideoObjectFit(as),reactExports.useEffect(()=>{if(!(!ss||!as.current))return ss.bindVideoElement(is,as.current),()=>{ss.getVideoTile(is)&&ss.unbindVideoElement(is)}},[ss,is]),React$1.createElement(VideoTile,Object.assign({},os,{ref:as,nameplate:ns,className:"ch-remote-video--".concat(is," ").concat(rs||"")}))},RemoteVideos=ts=>{const{roster:ns}=useRosterState(),{tiles:rs,tileIdToAttendeeId:is}=useRemoteVideoTileState();return React$1.createElement(React$1.Fragment,null,rs.map(os=>{const ss=ns[is[os]]||{},{name:as}=ss;return React$1.createElement(RemoteVideo,Object.assign({},ts,{key:os,tileId:os,name:as}))}))};reactExports.memo(RemoteVideos);const FeaturedRemoteVideos=ts=>{const ns=useGridData(),{roster:rs}=useRosterState(),{tileId:is}=useFeaturedTileState(),{tileId:os}=useContentShareState(),{tiles:ss,tileIdToAttendeeId:as}=useRemoteVideoTileState();return React$1.createElement(React$1.Fragment,null,ss.map(ls=>{const cs=!os&&is===ls,us=ns&&cs?"grid-area: ft;":"",ds="".concat(cs?"ch-featured-tile":""," ").concat(ts.className||""),ps=rs[as[ls]]||{},{name:hs}=ps;return React$1.createElement(RemoteVideo,Object.assign({tileId:ls,name:hs},ts,{className:ds,key:ls,css:us}))}))};reactExports.memo(FeaturedRemoteVideos);var Yy;const StyledMicVolumeIndicator=styled.div(Yy||(Yy=zl(["\n  position: relative;\n  height: inherit;\n  line-height: 0;\n\n  .ch-mic-icon {\n    position: relative;\n    z-index: 2;\n    width: 100%;\n  }\n\n  .ch-bg-volume-wrapper {\n    position: absolute;\n    bottom: 41%;\n    left: 40%;\n    height: 38%;\n    width: 21%;\n    border-radius: 20%;\n    overflow: hidden;\n  }\n\n  .ch-bg-volume-fill {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    transform-origin: bottom;\n    will-change: transform;\n    background-color: ",";\n  }\n\n  ","\n  ","\n"])),ts=>ts.signalStrength&&ts.signalStrength<=.5?ts.theme.colors.error.light:ts.theme.colors.primary.light,baseSpacing,baseStyles);reactExports.forwardRef((ts,ns)=>{var{muted:rs=!1,signalStrength:is,className:os}=ts,ss=__rest(ts,["muted","signalStrength","className"]);const as=is!==void 0&&is<=.5,ls=os?"".concat(os," ch-mic-volume-indicator"):"ch-mic-volume-indicator";return React$1.createElement(StyledMicVolumeIndicator,Object.assign({className:ls,signalStrength:is,muted:rs},ss),React$1.createElement(Microphone,{muted:rs,className:"ch-mic-icon",poorConnection:as}),React$1.createElement("div",{className:"ch-bg-volume-wrapper"},React$1.createElement("div",{ref:ns,className:"ch-bg-volume-fill","data-testid":"volume-fill"})))});reactExports.createContext(void 0);const fonts={body:"'Ember', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;",monospace:"Menlo, monospace"},radii={default:"0.25rem",circle:"50%"},zIndex={navigation:10,controlBar:15,modal:20,popOver:30,notificationGroup:40},breakpoints=["20rem","35.5rem","48rem","64rem","90rem"];breakpoints.xs=breakpoints[0];breakpoints.sm=breakpoints[1];breakpoints.md=breakpoints[2];breakpoints.lg=breakpoints[3];breakpoints.xl=breakpoints[4];const mediaQueries={min:{xs:"@media screen and (min-width: ".concat(breakpoints.xs,")"),sm:"@media screen and (min-width: ".concat(breakpoints.sm,")"),md:"@media screen and (min-width: ".concat(breakpoints.md,")"),lg:"@media screen and (min-width: ".concat(breakpoints.lg,")"),xl:"@media screen and (min-width: ".concat(breakpoints.xl,")")},max:{xs:"@media screen and (max-width: ".concat(breakpoints.xs,")"),sm:"@media screen and (max-width: ".concat(breakpoints.sm,")"),md:"@media screen and (max-width: ".concat(breakpoints.md,")"),lg:"@media screen and (max-width: ".concat(breakpoints.lg,")"),xl:"@media screen and (max-width: ".concat(breakpoints.xl,")")}},fontSizes={baseFontSize:"16px",fontWeight:"normal",h1:{fontSize:"5.3rem",fontWeight:"normal",lineHeight:"5.625rem",mobile:{fontSize:"3.8125rem",fontWeight:"normal",lineHeight:"5.625rem"}},h2:{fontSize:"3.925rem",fontWeight:"normal",lineHeight:"3.75rem",mobile:{fontSize:"3.05rem",fontWeight:"normal",lineHeight:"4.5rem"}},h3:{fontSize:"2.44125rem",fontWeight:"normal",lineHeight:"3.75rem",mobile:{fontSize:"2.90625rem",fontWeight:"normal",lineHeight:"3rem"}},h4:{fontSize:"1.953125rem",fontWeight:"normal",lineHeight:"3.75rem",mobile:{fontSize:"2.15rem",fontWeight:"normal",lineHeight:"3rem"}},h5:{fontSize:"1.5625rem",fontWeight:"normal",lineHeight:"3rem",mobile:{fontSize:"1.59375rem",fontWeight:"normal",lineHeight:"1.875rem"}},h6:{fontSize:"1.25rem",fontWeight:"normal",lineHeight:"1.875rem",mobile:{fontSize:"1.18125rem",fontWeight:"normal",lineHeight:"1.5rem"}},text:{fontSize:"0.875rem",lineHeight:"1.43"},label:{fontSize:"0.875rem",lineHeight:"1.43"},small:{fontSize:"0.75rem",lineHeight:"1.43"},footnote:{fontSize:"0.65rem",lineHeight:"1rem"}},modalSizes={md:{width:"35rem",height:"94vh"},lg:{width:"50rem",height:"94vh"},fullscreen:{width:"98vw",height:"96vh"}},iconButtonSizes={sm:"1.5rem",md:"2.5rem",lg:"4rem"},defaultTheme={breakpoints,mediaQueries,fonts,fontSizes,radii,zIndex,modalSizes,iconButtonSizes},colors$1={primary:{lightest:"#88b2ff",lighter:"#5d96ff",light:"#327aff",main:"#075fff",dark:"#004ddb",darker:"#0042bb",darkest:"#002f85"},secondary:{light:"#ff8e74",main:"#ff7654",dark:"#e86c4d"},error:{lightest:"#FCF7F6",lighter:"#F5DDD5",light:"#FF927C",primary:"#C52000",dark:"#9E3319",darker:"#89301A",darkest:"#791800"},success:{lightest:"#EBF1EA",lighter:"#CEE0C8",light:"#50CD49",primary:"#067000",dark:"#305D1D",darker:"#2C511D",darkest:"#184206"},info:{lightest:"#DADFE7",lighter:"#C4CCD9",light:"#418AFD",primary:"#2555A0",dark:"#264A82",darker:"#243F6B",darkest:"#123366"},warning:{lightest:"#FAF8EA",lighter:"#F7E79E",light:"#F9DC60",primary:"#F9CC09",dark:"#665A2A",darker:"#584E26",darkest:"#534201"},greys:{black:"#000000",grey100:"#1b1c20",grey90:"#2e2f34",grey80:"#3f4149",grey70:"#50545e",grey60:"#616672",grey50:"#7d818b",grey40:"#989da5",grey30:"#d4d5d8",grey20:"#e4e9f2",grey10:"#f0f1f2",white:"#ffffff"}},globalStyle$1={bgd:colors$1.greys.white,text:colors$1.greys.grey80,fontSize:defaultTheme.fontSizes.baseFontSize},shadows$1={none:"none",small:"0 0.09375rem 0.0625rem 0 ".concat(hexTorgba(colors$1.greys.grey100,.15)),medium:"0 0.5rem 0.85rem 0 ".concat(hexTorgba(colors$1.greys.black,.15)),large:"0 0.75rem 1.875rem 0 ".concat(hexTorgba(colors$1.greys.black,.15))},buttons$1={primary:{shadow:shadows$1.none,static:{bgd:colors$1.primary.light,border:"0.03125rem solid ".concat(colors$1.primary.darker),text:colors$1.greys.white,shadow:"none"},hover:{bgd:colors$1.primary.dark,border:"0.03125rem solid ".concat(colors$1.primary.darkest),text:colors$1.greys.white,shadow:"none"},focus:{bgd:colors$1.primary.dark,border:"0.03125rem solid ".concat(colors$1.primary.darker),text:colors$1.greys.white,shadow:"0 0 0 0.25rem ".concat(colors$1.primary.lightest)},active:{bgd:colors$1.primary.darker,border:"0.03125rem solid ".concat(colors$1.greys.black),text:colors$1.greys.white,shadow:"0 0 0 0.25rem ".concat(colors$1.primary.lightest)},selected:{bgd:colors$1.primary.light,border:"0.03125rem solid ".concat(colors$1.primary.dark),text:colors$1.greys.white,shadow:"none"},disabled:{bgd:colors$1.greys.white,border:"0.03125rem solid ".concat(colors$1.greys.grey10),text:colors$1.greys.grey40,shadow:"none"}},secondary:{shadow:shadows$1.none,static:{bgd:colors$1.greys.white,border:"0.03125rem solid ".concat(colors$1.greys.grey30),text:colors$1.greys.grey80,shadow:"none"},hover:{bgd:colors$1.greys.grey10,border:"0.03125rem solid ".concat(colors$1.greys.grey30),text:colors$1.greys.grey80,shadow:"none"},focus:{bgd:colors$1.greys.grey10,border:"0.03125rem solid ".concat(colors$1.primary.dark),text:colors$1.greys.grey80,shadow:"0 0 0 0.25rem ".concat(colors$1.primary.light)},active:{bgd:colors$1.greys.grey20,border:"0.03125rem solid ".concat(colors$1.greys.grey40),text:colors$1.greys.grey80,shadow:"0 0 0 0.25rem ".concat(colors$1.primary.dark)},selected:{bgd:colors$1.greys.grey10,border:"0.03125rem solid ".concat(colors$1.greys.grey30),text:colors$1.greys.grey80,shadow:"0 0 0 0.25rem ".concat(colors$1.primary.dark)},disabled:{bgd:colors$1.greys.white,border:"0.03125rem solid ".concat(colors$1.greys.grey10),text:colors$1.greys.grey40,shadow:"none"}},icon:{shadow:shadows$1.none,static:{bgd:"transparent",border:"0.03125rem  solid transparent",text:colors$1.greys.grey80,shadow:"none"},hover:{bgd:colors$1.primary.dark,border:"0.03125rem  solid transparent",text:colors$1.greys.white,shadow:"none"},focus:{bgd:"transparent",border:"0.03125rem  solid ".concat(colors$1.primary.darker),text:colors$1.greys.grey80,shadow:"0 0 0 0.25rem ".concat(colors$1.primary.lightest)},active:{bgd:colors$1.primary.darker,border:"0.03125rem  solid ".concat(colors$1.primary.darker),text:colors$1.greys.white,shadow:"0 0 0 0.25rem ".concat(colors$1.primary.lightest)},selected:{bgd:colors$1.primary.light,border:"0.03125rem  solid ".concat(colors$1.primary.darker),text:colors$1.greys.white,shadow:"none"},disabled:{bgd:"transparent",border:"none",text:colors$1.greys.grey40,shadow:"none"}}},inputs$1={bgd:colors$1.greys.white,border:"0.03125rem solid ".concat(colors$1.greys.grey30),borderRadius:defaultTheme.radii.default,fontColor:colors$1.greys.grey80,placeholder:colors$1.greys.grey40,shadow:"0 0.0625rem 0.0625rem 0 ".concat(hexTorgba(colors$1.greys.black,.1)),clearBg:colors$1.greys.grey50,focus:{bgd:colors$1.greys.white,border:"solid 0.03125rem ".concat(colors$1.primary.lighter),shadow:"0 0 0 0.125rem ".concat(colors$1.primary.lightest)},error:{border:"0.03125rem solid ".concat(colors$1.error.dark),fontColor:colors$1.error.primary,shadow:"0 0 0 0.125rem ".concat(colors$1.error.light)},checked:{bgd:colors$1.primary.main,border:"solid 0.03125rem ".concat(colors$1.primary.main),fontColor:colors$1.greys.white,shadow:"0 0.03125rem 0.03125rem 0 ".concat(hexTorgba(colors$1.primary.dark,.7))}},modal$1={bgd:colors$1.greys.white,text:colors$1.greys.grey80,wrapperBgd:hexTorgba(colors$1.greys.grey50,.9),titleSize:defaultTheme.fontSizes.h5.fontSize,titleWeight:"normal",shadow:shadows$1.large,border:colors$1.greys.grey30},popOver$1={menuBgd:"".concat(hexTorgba(colors$1.greys.grey10,.85)),menuBorder:"0.5px solid ".concat(colors$1.greys.grey20),shadow:shadows$1.large,itemBgd:"transparent",itemText:colors$1.greys.grey70,titleText:colors$1.greys.grey60,active:{itemBgd:colors$1.primary.dark,itemText:colors$1.greys.white},disabled:colors$1.greys.grey40,separator:"".concat(hexTorgba(colors$1.greys.grey40,.3))},notification$1={shadow:shadows$1.large,error:{text:colors$1.error.lightest,closeButton:{text:colors$1.error.lighter,hover:{bgd:colors$1.error.lighter,text:colors$1.error.dark},active:{bgd:colors$1.error.lightest,text:colors$1.error.darker}}},success:{text:colors$1.success.lightest,closeButton:{text:colors$1.success.lighter,hover:{bgd:colors$1.success.lighter,text:colors$1.success.dark},active:{bgd:colors$1.success.lightest,text:colors$1.success.darker}}},info:{text:colors$1.info.lightest,closeButton:{text:colors$1.info.lighter,hover:{bgd:colors$1.info.lighter,text:colors$1.info.dark},active:{bgd:colors$1.info.lightest,text:colors$1.info.darker}}},warning:{text:colors$1.warning.darker,closeButton:{text:colors$1.warning.dark,hover:{bgd:colors$1.warning.dark,text:colors$1.greys.white},active:{bgd:colors$1.warning.darker,text:colors$1.greys.white}}}},links$1={fontColor:colors$1.primary.main,fontColorHover:colors$1.primary.dark,fontColorActive:colors$1.primary.darker,fontColorVisited:colors$1.primary.darkest},controlBar$1={text:colors$1.greys.grey70,shadow:shadows$1.large,bgd:colors$1.greys.white,border:"0.03125rem solid ".concat(colors$1.greys.grey20),opacity:1,selected:{text:buttons$1.primary.selected.text,bgd:buttons$1.primary.selected.bgd}},roster$1={title:colors$1.greys.grey100,primaryText:colors$1.greys.grey80,secondaryText:colors$1.greys.grey50,headerBorder:colors$1.greys.grey40,containerBorder:colors$1.greys.grey30,bgd:colors$1.greys.grey10,fgd:colors$1.greys.white,shadow:shadows$1.large,maxWidth:"18.5rem"},navbar$1={text:colors$1.greys.grey80,bgd:colors$1.greys.grey10,headerBorder:colors$1.greys.grey40,wrapperBgd:hexTorgba(colors$1.greys.grey50,.9)},videoGrid$1={bgd:colors$1.greys.white},chatBubble$1={incoming:{bgd:colors$1.greys.white,fontColor:colors$1.greys.grey60,linkColor:colors$1.primary.main,linkColorHover:colors$1.primary.dark,linkColorActive:colors$1.primary.darker,linkColorVisited:colors$1.primary.darkest},outgoing:{bgd:colors$1.primary.main,fontColor:colors$1.greys.grey10,linkColor:colors$1.greys.white,linkColorHover:colors$1.greys.grey10,linkColorActive:colors$1.greys.grey20,linkColorVisited:colors$1.greys.grey30},container:{fontColor:colors$1.greys.grey70,bgd:colors$1.greys.grey10}},messageAttachment$1={size:{fontColor:colors$1.greys.grey40,bgd:colors$1.greys.white,letterSpacing:"-0.07px",lineHight:"16px",fontSize:"10.4px"},icon:{bgd:colors$1.greys.grey10,color:colors$1.greys.grey80},name:{fontColor:colors$1.greys.grey80},content:{letterSpacing:"-0.09px",bgd:colors$1.greys.white,fontColor:colors$1.greys.grey80}},channelList$1={bgd:colors$1.greys.white,fontColor:colors$1.greys.grey70,border:"1px solid transparent",active:{bgd:colors$1.primary.dark,fontColor:colors$1.greys.white},hover:{bgd:colors$1.greys.grey10},focus:{border:"1px solid ".concat(colors$1.primary.dark),selectedBorder:"1px solid ".concat(colors$1.greys.grey10)},selected:{bgd:colors$1.primary.light,fontColor:colors$1.greys.white},iconButton:{activeBgd:colors$1.greys.white}},chatDateHeader$1={bgd:colors$1.greys.grey60,fontColor:colors$1.greys.white},lightTheme=Object.assign({name:"Light Theme",buttons:buttons$1,colors:colors$1,globalStyle:globalStyle$1,links:links$1,shadows:shadows$1,inputs:inputs$1,modal:modal$1,popOver:popOver$1,notification:notification$1,controlBar:controlBar$1,roster:roster$1,navbar:navbar$1,videoGrid:videoGrid$1,chatBubble:chatBubble$1,channelList:channelList$1,chatDateHeader:chatDateHeader$1,messageAttachment:messageAttachment$1},defaultTheme),colors={primary:{lightest:"#9DEFFB",lighter:"#8AEBFA",light:"#62E5F9",main:"#4FE2F8",dark:"#29DCF8",darker:"#22B6CB",darkest:"#1FA1B5"},secondary:{light:"#FF8B70",main:"#FF9B83",dark:"#FFB4A1"},error:{lightest:"#FBC1C0",lighter:"#FDA8A6",light:"#FD9B99",primary:"#FF8B8A",dark:"#583A39",darker:"#452F2E",darkest:"#302020"},success:{lightest:"#F4FBF1",lighter:"#D2F1C5",light:"#BAF39E",primary:"#A3E881",dark:"#4F6444",darker:"#46573D",darkest:"#324129"},info:{lightest:"#F0F5FD",lighter:"#D8E6FB",light:"#C4DBFF",primary:"#BAD4FF",dark:"#555B69",darker:"#494F59",darkest:"#343C48"},warning:{lightest:"#FDFDF7",lighter:"#3F4149",light:"#FFEB96",primary:"#FBDF64",dark:"#6D653C",darker:"#5E5736",darkest:"#47422D"},greys:{black:"#000000",grey100:"#1b1c20",grey90:"#2e2f34",grey80:"#3f4149",grey70:"#50545e",grey60:"#616672",grey50:"#7d818b",grey40:"#989da5",grey30:"#d4d5d8",grey20:"#e4e9f2",grey10:"#f0f1f2",white:"#ffffff"}},globalStyle={bgd:colors.greys.grey80,text:colors.greys.white,fontSize:defaultTheme.fontSizes.baseFontSize},shadows={none:"none",small:"",medium:"",large:"0 0.75rem 1.875rem 0 ".concat(hexTorgba(colors.greys.black,.15))},buttons={primary:{shadow:shadows.none,static:{bgd:colors.primary.main,border:"0.03125rem solid ".concat(colors.greys.black),text:colors.greys.grey80,shadow:"none"},hover:{bgd:colors.primary.dark,border:"0.03125rem solid ".concat(colors.greys.black),text:colors.greys.grey80,shadow:"none"},focus:{bgd:colors.primary.dark,border:"0.03125rem solid ".concat(colors.greys.black),text:colors.greys.grey80,shadow:"0 0 0 0.25rem ".concat(colors.primary.darkest)},active:{bgd:colors.primary.darker,border:"0.03125rem solid ".concat(colors.greys.black),text:colors.greys.grey80,shadow:"none"},selected:{bgd:colors.primary.light,border:"0.03125rem solid ".concat(colors.greys.black),text:colors.greys.grey80,shadow:"none"},disabled:{bgd:colors.greys.grey80,border:"0.03125rem solid ".concat(hexTorgba(colors.greys.black,.4)),text:colors.greys.grey40,shadow:"none"}},secondary:{shadow:shadows.none,static:{bgd:colors.greys.grey50,border:"0.03125rem solid ".concat(colors.greys.black),text:colors.greys.white,shadow:"none"},hover:{bgd:colors.greys.grey60,border:"0.03125rem solid ".concat(colors.greys.black),text:colors.greys.white,shadow:"none"},focus:{bgd:colors.greys.grey60,border:"0.03125rem solid ".concat(colors.greys.black),text:colors.greys.white,shadow:"0 0 0 0.25rem ".concat(colors.primary.lighter)},active:{bgd:colors.greys.grey70,border:"0.03125rem solid ".concat(colors.greys.black),text:colors.greys.white,shadow:"none"},selected:{bgd:colors.greys.grey60,border:"0.03125rem solid ".concat(colors.greys.black),text:colors.greys.white,shadow:"none"},disabled:{bgd:colors.greys.grey80,border:"0.03125rem solid ".concat(hexTorgba(colors.greys.black,.6)),text:colors.greys.grey40,shadow:"none"}},icon:{shadow:shadows.none,static:{bgd:"transparent",border:"0.03125rem solid transparent",text:colors.greys.grey20,shadow:"none"},hover:{bgd:colors.primary.dark,border:"0.03125rem  solid ".concat(colors.greys.black),text:colors.greys.grey80,shadow:"none"},focus:{bgd:"transparent",border:"0.03125rem solid ".concat(colors.greys.black),text:colors.greys.grey80,shadow:"0 0 0 0.25rem ".concat(colors.primary.darker)},active:{bgd:colors.primary.darker,border:"0.03125rem solid ".concat(colors.greys.black),text:colors.greys.grey80,shadow:"none"},selected:{bgd:colors.primary.light,border:"0 solid ".concat(colors.greys.black),text:colors.greys.grey80,shadow:"none"},disabled:{bgd:"transparent",border:"none",text:colors.greys.grey40,shadow:"none"}}},inputs={bgd:colors.greys.grey80,border:"0.03125rem solid ".concat(colors.greys.black),borderRadius:defaultTheme.radii.default,fontColor:colors.greys.white,placeholder:colors.greys.grey50,shadow:"0 0.0625rem 0.0625rem 0 ".concat(hexTorgba(colors.greys.black,.1)),clearBg:colors.greys.white,focus:{bgd:colors.greys.white,border:"solid 0.03125rem ".concat(colors.primary.main),shadow:"0 0 0 0.125rem ".concat(colors.primary.lighter)},error:{border:"0.03125rem solid ".concat(colors.error.primary),fontColor:colors.error.primary,shadow:"0 0 0 0.125rem ".concat(colors.error.light)},checked:{bgd:colors.primary.main,border:"solid 0.03125rem ".concat(colors.primary.dark),fontColor:colors.greys.grey80,shadow:"inset 0 0.03125rem 0 0 ".concat(hexTorgba(colors.greys.white,.1))}},modal={bgd:colors.greys.grey80,text:colors.greys.white,wrapperBgd:hexTorgba(colors.greys.grey60,.9),titleSize:defaultTheme.fontSizes.h5.fontSize,titleWeight:"normal",shadow:"0 1rem 2rem 0 rgba(0, 0, 0, ".concat(hexTorgba(colors.greys.black,.15),")"),border:colors.greys.black},popOver={menuBgd:"".concat(hexTorgba(colors.greys.grey90,.85)),menuBorder:colors.greys.grey100,shadow:shadows.large,itemBgd:"transparent",itemText:colors.greys.white,titleText:colors.greys.white,active:{itemBgd:colors.primary.dark,itemText:colors.greys.grey80},disabled:colors.greys.grey40,separator:colors.greys.grey100},notification={shadow:shadows.large,error:{text:colors.error.darker,closeButton:{text:colors.error.dark,hover:{bgd:colors.error.dark,text:colors.greys.white},active:{bgd:colors.error.darker,text:colors.greys.white}}},success:{text:colors.success.darker,closeButton:{text:colors.success.dark,hover:{bgd:colors.success.dark,text:colors.greys.white},active:{bgd:colors.success.darker,text:colors.greys.white}}},info:{text:colors.info.darker,closeButton:{text:colors.info.dark,hover:{bgd:colors.info.dark,text:colors.greys.white},active:{bgd:colors.info.darker,text:colors.greys.white}}},warning:{text:colors.warning.darker,closeButton:{text:colors.warning.dark,hover:{bgd:colors.warning.dark,text:colors.greys.white},active:{bgd:colors.warning.darker,text:colors.greys.white}}}},links={fontColor:colors.primary.main,fontColorHover:colors.primary.dark,fontColorActive:colors.primary.darker,fontColorVisited:colors.primary.darkest},controlBar={text:colors.greys.grey20,shadow:shadows.large,bgd:colors.greys.grey100,border:"none",opacity:1,selected:{text:buttons.primary.selected.text,bgd:buttons.primary.selected.bgd}},roster={title:colors.greys.white,primaryText:colors.greys.white,secondaryText:colors.greys.grey20,headerBorder:colors.greys.black,containerBorder:colors.greys.black,bgd:colors.greys.grey100,fgd:colors.greys.grey60,shadow:shadows.large,maxWidth:"18.5rem"},navbar={text:colors.greys.white,bgd:colors.greys.grey100,headerBorder:colors.greys.black,wrapperBgd:hexTorgba(colors.greys.grey60,.9)},videoGrid={bgd:colors.greys.grey90},chatBubble={incoming:{bgd:colors.greys.grey80,fontColor:colors.greys.grey30,linkColor:colors.primary.main,linkColorHover:colors.primary.dark,linkColorActive:colors.primary.darker,linkColorVisited:colors.primary.darkest},outgoing:{bgd:colors.primary.dark,fontColor:colors.greys.grey70,linkColor:colors.greys.grey80,linkColorHover:colors.greys.grey70,linkColorActive:colors.greys.grey60,linkColorVisited:colors.greys.grey50},container:{fontColor:colors.greys.grey30,bgd:colors.greys.black}},messageAttachment={size:{fontColor:colors.greys.grey30,bgd:colors.greys.grey10,letterSpacing:"-0.07px",lineHight:"16px",fontSize:"10.4px"},icon:{bgd:colors.greys.grey40,color:colors.greys.grey10},name:{fontColor:colors.greys.white},content:{letterSpacing:"-0.09px",bgd:colors.greys.grey60,fontColor:colors.greys.white}},channelList={bgd:colors.greys.grey80,fontColor:colors.greys.grey10,border:"1px solid transparent",active:{bgd:colors.primary.dark,fontColor:colors.greys.grey70},hover:{bgd:colors.greys.grey70},focus:{border:"1px solid ".concat(colors.primary.dark),selectedBorder:"1px solid ".concat(colors.greys.grey70)},selected:{bgd:colors.primary.light,fontColor:colors.greys.grey70},iconButton:{activeBgd:colors.greys.grey80}},chatDateHeader={bgd:colors.greys.grey10,fontColor:colors.greys.grey80};Object.assign({name:"Dark Theme",buttons,colors,globalStyle,links,shadows,inputs,modal,popOver,notification,controlBar,roster,navbar,videoGrid,chatBubble,channelList,chatDateHeader,messageAttachment},defaultTheme);var Zy;const StyledReset=Ae(Zy||(Zy=zl(["\n  /* http://meyerweb.com/eric/tools/css/reset/\n    v2.0 | 20110126\n    License: none (public domain)\n  */\n\n  html,\n  body,\n  div,\n  span,\n  applet,\n  object,\n  iframe,\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6,\n  p,\n  blockquote,\n  pre,\n  a,\n  abbr,\n  acronym,\n  address,\n  big,\n  cite,\n  code,\n  del,\n  dfn,\n  em,\n  img,\n  ins,\n  kbd,\n  q,\n  s,\n  samp,\n  small,\n  strike,\n  strong,\n  sub,\n  sup,\n  tt,\n  var,\n  b,\n  u,\n  i,\n  center,\n  dl,\n  dt,\n  dd,\n  ol,\n  ul,\n  li,\n  fieldset,\n  form,\n  label,\n  legend,\n  table,\n  caption,\n  tbody,\n  tfoot,\n  thead,\n  tr,\n  th,\n  td,\n  article,\n  aside,\n  canvas,\n  details,\n  embed,\n  figure,\n  figcaption,\n  footer,\n  header,\n  hgroup,\n  menu,\n  nav,\n  output,\n  ruby,\n  section,\n  summary,\n  time,\n  mark,\n  audio,\n  video {\n    margin: 0;\n    padding: 0;\n    border: 0;\n    font-size: 100%;\n    font: inherit;\n    vertical-align: baseline;\n  }\n  /* HTML5 display-role reset for older browsers */\n  article,\n  aside,\n  details,\n  figcaption,\n  figure,\n  footer,\n  header,\n  hgroup,\n  menu,\n  nav,\n  section {\n    display: block;\n  }\n  body {\n    line-height: 1;\n  }\n  ol,\n  ul {\n    list-style: none;\n  }\n  blockquote,\n  q {\n    quotes: none;\n  }\n  blockquote:before,\n  blockquote:after,\n  q:before,\n  q:after {\n    content: '';\n    content: none;\n  }\n  table {\n    border-collapse: collapse;\n    border-spacing: 0;\n  }\n"])));var Jy;const GlobalStyles=$e(Jy||(Jy=zl(["\n  ",";\n\n  *,\n  *::before,\n  *::after {\n    box-sizing: border-box;\n  }\n\n  html {\n    font-size: ",";\n    font-family: ",";;\n    background-color: ",";\n    color: ",";\n    min-height: 100%;\n  }\n"])),StyledReset,ts=>ts.theme.fontSizes.baseFontSize,ts=>ts.theme.fonts.body,ts=>ts.theme.globalStyle.bgd,ts=>ts.theme.globalStyle.text),CallSettings=({onClose:ts,open:ns})=>{const rs=useMeetingManager(),is=useAudioVideo(),[os,ss]=reactExports.useState([]),[as,ls]=reactExports.useState([]),[cs,us]=reactExports.useState(""),[ds,ps]=reactExports.useState(""),hs=reactExports.useRef(null),ms=reactExports.useMemo(()=>{const Ss=new buildExports.ConsoleLogger("preview");return new buildExports.DefaultDeviceController(Ss)},[]),gs=async()=>{cs&&await(is==null?void 0:is.startVideoInput(cs)),ds&&await(is==null?void 0:is.startAudioInput(ds)),ts()};reactExports.useEffect(()=>{var Cs;const Ss={audioInputsChanged:Es=>{ls(Es)},videoInputsChanged:Es=>{ss(Es)}};return(Cs=rs.audioVideo)==null||Cs.addDeviceChangeObserver(Ss),(async()=>{var ws,ks,Is,Ts;const Es=(ks=await((ws=rs.audioVideo)==null?void 0:ws.listVideoInputDevices()))!=null?ks:[],xs=(Ts=await((Is=rs.audioVideo)==null?void 0:Is.listAudioInputDevices()))!=null?Ts:[];ss(Es),ls(xs),Es.length>0&&us(Es[0].deviceId),xs.length>0&&ps(xs[0].deviceId)})(),()=>{var Es;(Es=rs.audioVideo)==null||Es.removeDeviceChangeObserver(Ss)}},[rs.audioVideo]);const ys=reactExports.useCallback(async Ss=>{ms&&hs.current&&(await ms.startVideoInput(Ss),ms.startVideoPreviewForVideoInput(hs.current))},[ms]),vs=async Ss=>{const $s=Ss.target.value;us($s),await ys($s)},bs=async Ss=>{const $s=Ss.target.value;ps($s),await(is==null?void 0:is.startAudioInput($s))};return reactExports.useEffect(()=>{let Ss=!1;return ns&&cs&&setTimeout(()=>{Ss||ys(cs)},200),()=>{Ss=!0}},[ns,cs,ys]),jsxRuntimeExports.jsxs(Dialog$1,{open:ns,onClose:ts,children:[jsxRuntimeExports.jsx(DialogTitle$1,{children:"Call Settings"}),jsxRuntimeExports.jsxs(DialogContent$1,{children:[jsxRuntimeExports.jsx("video",{ref:hs,autoPlay:!0,muted:!0,playsInline:!0,style:{height:"100%",width:"100%"}}),jsxRuntimeExports.jsxs(FormControl$1,{fullWidth:!0,margin:"normal",children:[jsxRuntimeExports.jsx(InputLabel$1,{children:"Camera"}),jsxRuntimeExports.jsx(Select$2,{value:cs,onChange:vs,label:"Camera",children:os.map(Ss=>jsxRuntimeExports.jsx(MenuItem$1,{value:Ss.deviceId,children:Ss.label},Ss.deviceId))})]}),jsxRuntimeExports.jsxs(FormControl$1,{fullWidth:!0,margin:"normal",children:[jsxRuntimeExports.jsx(InputLabel$1,{children:"Microphone"}),jsxRuntimeExports.jsx(Select$2,{value:ds,onChange:bs,label:"Microphone",children:as.map(Ss=>jsxRuntimeExports.jsx(MenuItem$1,{value:Ss.deviceId,children:Ss.label},Ss.deviceId))})]})]}),jsxRuntimeExports.jsxs(DialogActions$1,{sx:{alignItems:"center",justifyContent:"flex-end",padding:"16px 24px"},children:[jsxRuntimeExports.jsx(Button$2,{onClick:ts,sx:{marginRight:1},variant:"text",children:"Cancel"}),jsxRuntimeExports.jsx(Button$2,{onClick:gs,variant:"contained",children:"Save Changes"})]})]})};var SettingsOutlined={},_interopRequireDefault$9=interopRequireDefaultExports;Object.defineProperty(SettingsOutlined,"__esModule",{value:!0});var default_1$9=SettingsOutlined.default=void 0,_createSvgIcon$9=_interopRequireDefault$9(requireCreateSvgIcon()),_jsxRuntime$9=jsxRuntimeExports;default_1$9=SettingsOutlined.default=(0,_createSvgIcon$9.default)((0,_jsxRuntime$9.jsx)("path",{d:"M19.43 12.98c.04-.32.07-.64.07-.98 0-.34-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46c-.09-.16-.26-.25-.44-.25-.06 0-.12.01-.17.03l-2.49 1c-.52-.4-1.08-.73-1.69-.98l-.38-2.65C14.46 2.18 14.25 2 14 2h-4c-.25 0-.46.18-.49.42l-.38 2.65c-.61.25-1.17.59-1.69.98l-2.49-1c-.06-.02-.12-.03-.18-.03-.17 0-.34.09-.43.25l-2 3.46c-.13.22-.07.49.12.64l2.11 1.65c-.04.32-.07.65-.07.98 0 .33.03.66.07.98l-2.11 1.65c-.19.15-.24.42-.12.64l2 3.46c.09.16.26.25.44.25.06 0 .12-.01.17-.03l2.49-1c.52.4 1.08.73 1.69.98l.38 2.65c.03.24.24.42.49.42h4c.25 0 .46-.18.49-.42l.38-2.65c.61-.25 1.17-.59 1.69-.98l2.49 1c.06.02.12.03.18.03.17 0 .34-.09.43-.25l2-3.46c.12-.22.07-.49-.12-.64zm-1.98-1.71c.04.31.05.52.05.73 0 .21-.02.43-.05.73l-.14 1.13.89.7 1.08.84-.7 1.21-1.27-.51-1.04-.42-.9.68c-.43.32-.84.56-1.25.73l-1.06.43-.16 1.13-.2 1.35h-1.4l-.19-1.35-.16-1.13-1.06-.43c-.43-.18-.83-.41-1.23-.71l-.91-.7-1.06.43-1.27.51-.7-1.21 1.08-.84.89-.7-.14-1.13c-.03-.31-.05-.54-.05-.74s.02-.43.05-.73l.14-1.13-.89-.7-1.08-.84.7-1.21 1.27.51 1.04.42.9-.68c.43-.32.84-.56 1.25-.73l1.06-.43.16-1.13.2-1.35h1.39l.19 1.35.16 1.13 1.06.43c.43.18.83.41 1.23.71l.91.7 1.06-.43 1.27-.51.7 1.21-1.07.85-.89.7zM12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4m0 6c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2"}),"SettingsOutlined");var Settings={},_interopRequireDefault$8=interopRequireDefaultExports;Object.defineProperty(Settings,"__esModule",{value:!0});var default_1$8=Settings.default=void 0,_createSvgIcon$8=_interopRequireDefault$8(requireCreateSvgIcon()),_jsxRuntime$8=jsxRuntimeExports;default_1$8=Settings.default=(0,_createSvgIcon$8.default)((0,_jsxRuntime$8.jsx)("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"}),"Settings");const IconButtonContained=styled$2(IconButton$2)(({variant:ts})=>{let ns={};switch(ts){case"disabled":{ns={backgroundColor:otherColors.white,"&:hover":{backgroundColor:alpha$1(otherColors.white,.9)}};break}case"error":{ns={backgroundColor:otherColors.clearImage,"&:hover":{backgroundColor:alpha$1(otherColors.clearImage,.9)}};break}default:{ns={backgroundColor:alpha$1(otherColors.coachingVisit,.2),"&:hover":{backgroundColor:alpha$1(otherColors.coachingVisit,.1)}};break}}return{...ns,width:"36px",height:"36px"}}),CallSettingsTooltip=ts=>{const{isTooltipOpen:ns,handleTooltipOpen:rs,handleTooltipClose:is,openSettings:os}=ts;return jsxRuntimeExports.jsx(ClickAwayListener,{onClickAway:is,children:jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx(CustomTooltip,{PopperProps:{disablePortal:!0},onClose:is,open:ns,disableFocusListener:!0,disableHoverListener:!0,disableTouchListener:!0,title:jsxRuntimeExports.jsxs(Box$1,{sx:{p:3,width:"300px",position:"relative"},children:[jsxRuntimeExports.jsxs(List$1,{sx:{p:0},children:[jsxRuntimeExports.jsx(StyledListItemWithButton,{primaryText:"Report problem",secondaryText:"Send error report",children:jsxRuntimeExports.jsx("img",{alt:"Clock icon",src:clockFullColor,width:24})}),jsxRuntimeExports.jsx(StyledListItemWithButton,{primaryText:"Setting",secondaryText:"Audio, video",onClick:()=>{is(),os()},noDivider:!0,children:jsxRuntimeExports.jsx(default_1$9,{sx:{color:otherColors.purple}})})]}),jsxRuntimeExports.jsx(IconButton$2,{onClick:is,size:"small",sx:{position:"absolute",right:0,top:0},children:jsxRuntimeExports.jsx(default_1$f,{fontSize:"small",sx:{color:otherColors.toolTipClose}})})]}),children:jsxRuntimeExports.jsx(IconButtonContained,{onClick:rs,variant:ns?"disabled":void 0,children:jsxRuntimeExports.jsx(default_1$8,{sx:{color:ns?otherColors.brightPurple:otherColors.white}})})})})})};var East={},_interopRequireDefault$7=interopRequireDefaultExports;Object.defineProperty(East,"__esModule",{value:!0});var default_1$7=East.default=void 0,_createSvgIcon$7=_interopRequireDefault$7(requireCreateSvgIcon()),_jsxRuntime$7=jsxRuntimeExports;default_1$7=East.default=(0,_createSvgIcon$7.default)((0,_jsxRuntime$7.jsx)("path",{d:"m15 5-1.41 1.41L18.17 11H2v2h16.17l-4.59 4.59L15 19l7-7z"}),"East");const CallSideCard=()=>{const[ts,ns]=reactExports.useState(!0),[rs,is]=reactExports.useState(!1),[os,ss]=reactExports.useState(!1),as=()=>{ns(ls=>!ls)};return jsxRuntimeExports.jsxs(Card$1,{sx:{flex:"1 auto",py:5,px:ts?5:2,borderRadius:2,boxShadow:0,position:"relative",minWidth:ts?"347px":"86px",width:ts?"347px":"86px",transition:"all 0.5s"},children:[jsxRuntimeExports.jsx(IconButton$2,{onClick:as,size:"small",sx:{position:"absolute",left:7,top:7},children:jsxRuntimeExports.jsx(default_1$7,{sx:{transition:"transform 0.5s",transform:ts?"rotate(0deg)":"rotate(180deg)"}})}),jsxRuntimeExports.jsxs(List$1,{sx:{p:0},children:[jsxRuntimeExports.jsx(InvitedParticipantListItemButton,{onClick:()=>is(!0),hideText:!ts}),jsxRuntimeExports.jsx(UploadPhotosListItemButton,{onClick:()=>ss(!0),hideText:!1})]}),rs?jsxRuntimeExports.jsx(ManageParticipantsDialog,{onClose:()=>is(!1)}):null,os?jsxRuntimeExports.jsx(UploadPhotosDialog,{onClose:()=>ss(!1)}):null]})},CancelVisitDialog=({onClose:ts})=>{const ns=useZapEHRAPIClient(),rs=useNavigate(),{appointmentID:is}=getSelectors(useAppointmentStore,["appointmentID"]),os=useCancelAppointmentMutation(),ss=async ls=>{if(!is)throw new Error("appointmentID is not defined");if(!ns)throw new Error("apiClient is not defined");rs(IntakeFlowPageRoute.PatientPortal.path),os.mutate({apiClient:ns,appointmentID:is,cancellationReason:ls.cancellationReason},{onSuccess:()=>{rs(IntakeFlowPageRoute.PatientPortal.path),as()},onError:cs=>{safelyCaptureException(cs)}}),as()},as=()=>{ts()};return jsxRuntimeExports.jsxs(CustomDialog,{open:!0,onClose:as,children:[jsxRuntimeExports.jsx(Typography$1,{variant:"h2",color:"primary.main",sx:{pb:3},children:"Why are you cancelling?"}),jsxRuntimeExports.jsx(PageForm,{formElements:[{type:"Select",name:"cancellationReason",label:"Cancelation reason",required:!0,selectOptions:Object.keys(CancellationReasonOptionsTelemed).map(ls=>({label:ls,value:ls}))}],controlButtons:{submitLabel:"Cancel visit",loading:os.isLoading,submitDisabled:os.isLoading,onBack:as},onSubmit:ss})]})},LoadingSpinner=({transparent:ts})=>{const{otherColors:ns}=reactExports.useContext(IntakeThemeContext),rs=useTheme$1();return jsxRuntimeExports.jsx(Box$1,{sx:{alignItems:"center",backgroundColor:ts?ns.blackTransparent:rs.palette.background.default,display:"flex",height:"100vh",justifyContent:"center",left:0,position:"fixed",top:0,width:"100vw",zIndex:9999},children:jsxRuntimeExports.jsx(CircularProgress$1,{})})};var Mic={},_interopRequireDefault$6=interopRequireDefaultExports;Object.defineProperty(Mic,"__esModule",{value:!0});var default_1$6=Mic.default=void 0,_createSvgIcon$6=_interopRequireDefault$6(requireCreateSvgIcon()),_jsxRuntime$6=jsxRuntimeExports;default_1$6=Mic.default=(0,_createSvgIcon$6.default)((0,_jsxRuntime$6.jsx)("path",{d:"M12 14c1.66 0 2.99-1.34 2.99-3L15 5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3m5.3-3c0 3-2.54 5.1-5.3 5.1S6.7 14 6.7 11H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c3.28-.48 6-3.3 6-6.72z"}),"Mic");var MicOff={},_interopRequireDefault$5=interopRequireDefaultExports;Object.defineProperty(MicOff,"__esModule",{value:!0});var default_1$5=MicOff.default=void 0,_createSvgIcon$5=_interopRequireDefault$5(requireCreateSvgIcon()),_jsxRuntime$5=jsxRuntimeExports;default_1$5=MicOff.default=(0,_createSvgIcon$5.default)((0,_jsxRuntime$5.jsx)("path",{d:"M19 11h-1.7c0 .74-.16 1.43-.43 2.05l1.23 1.23c.56-.98.9-2.09.9-3.28m-4.02.17c0-.06.02-.11.02-.17V5c0-1.66-1.34-3-3-3S9 3.34 9 5v.18zM4.27 3 3 4.27l6.01 6.01V11c0 1.66 1.33 3 2.99 3 .22 0 .44-.03.65-.08l1.66 1.66c-.71.33-1.5.52-2.31.52-2.76 0-5.3-2.1-5.3-5.1H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c.91-.13 1.77-.45 2.54-.9L19.73 21 21 19.73z"}),"MicOff");var Videocam={},_interopRequireDefault$4=interopRequireDefaultExports;Object.defineProperty(Videocam,"__esModule",{value:!0});var default_1$4=Videocam.default=void 0,_createSvgIcon$4=_interopRequireDefault$4(requireCreateSvgIcon()),_jsxRuntime$4=jsxRuntimeExports;default_1$4=Videocam.default=(0,_createSvgIcon$4.default)((0,_jsxRuntime$4.jsx)("path",{d:"M17 10.5V7c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11z"}),"Videocam");var VideocamOff={},_interopRequireDefault$3=interopRequireDefaultExports;Object.defineProperty(VideocamOff,"__esModule",{value:!0});var default_1$3=VideocamOff.default=void 0,_createSvgIcon$3=_interopRequireDefault$3(requireCreateSvgIcon()),_jsxRuntime$3=jsxRuntimeExports;default_1$3=VideocamOff.default=(0,_createSvgIcon$3.default)((0,_jsxRuntime$3.jsx)("path",{d:"m21 6.5-4 4V7c0-.55-.45-1-1-1H9.82L21 17.18zM3.27 2 2 3.27 4.73 6H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.21 0 .39-.08.54-.18L19.73 21 21 19.73z"}),"VideocamOff");var CallEnd={},_interopRequireDefault$2=interopRequireDefaultExports;Object.defineProperty(CallEnd,"__esModule",{value:!0});var default_1$2=CallEnd.default=void 0,_createSvgIcon$2=_interopRequireDefault$2(requireCreateSvgIcon()),_jsxRuntime$2=jsxRuntimeExports;default_1$2=CallEnd.default=(0,_createSvgIcon$2.default)((0,_jsxRuntime$2.jsx)("path",{d:"M12 9c-1.6 0-3.15.25-4.6.72v3.1c0 .39-.23.74-.56.9-.98.49-1.87 1.12-2.66 1.85-.18.18-.43.28-.7.28-.28 0-.53-.11-.71-.29L.29 13.08c-.18-.17-.29-.42-.29-.7 0-.28.11-.53.29-.71C3.34 8.78 7.46 7 12 7s8.66 1.78 11.71 4.67c.18.18.29.43.29.71 0 .28-.11.53-.29.71l-2.48 2.48c-.18.18-.43.29-.71.29-.27 0-.52-.11-.7-.28-.79-.74-1.69-1.36-2.67-1.85-.33-.16-.56-.5-.56-.9v-3.1C15.15 9.25 13.6 9 12 9"}),"CallEnd");const VIDEO_CALL_STATE_INITIAL={meetingData:null},useVideoCallStore=create$2()(()=>({...VIDEO_CALL_STATE_INITIAL})),useJoinCall=(ts,ns)=>useQuery(["join-call",ts],()=>{const{appointmentID:rs}=useAppointmentStore.getState();if(ts&&rs)return ts.joinCall({appointmentId:rs});throw new Error("api client not defined or appointmentID not provided")},{onSuccess:ns,onError:rs=>{console.error("Error during executing joinCall: ",rs)}}),VideoControls=()=>{const{toggleVideo:ts,isVideoEnabled:ns}=useLocalVideo(),{muted:rs,toggleMute:is}=useToggleLocalMute(),os=useMeetingManager(),[ss,as]=reactExports.useState(!1),[ls,cs]=reactExports.useState(!1),us=()=>{cs(!1)},ds=()=>{cs(!0)},ps=()=>{as(!0)},hs=()=>{as(!1)},ms=async()=>{var ys;os&&(await((ys=os.meetingSession)==null?void 0:ys.deviceController.destroy().catch(vs=>console.error(vs))),await os.leave().catch(vs=>console.error(vs)))},gs=async()=>{await ms(),useVideoCallStore.setState({meetingData:null})};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(Box$1,{sx:{alignItems:"center",backgroundColor:otherColors.brightPurple,display:"flex",gap:3,justifyContent:"center",py:2},children:[jsxRuntimeExports.jsx(IconButtonContained,{onClick:ts,variant:ns?void 0:"disabled",children:ns?jsxRuntimeExports.jsx(default_1$4,{sx:{color:otherColors.white}}):jsxRuntimeExports.jsx(default_1$3,{sx:{color:otherColors.brightPurple}})}),jsxRuntimeExports.jsx(IconButtonContained,{onClick:is,variant:rs?"disabled":void 0,children:rs?jsxRuntimeExports.jsx(default_1$5,{sx:{color:otherColors.brightPurple}}):jsxRuntimeExports.jsx(default_1$6,{sx:{color:otherColors.white}})}),jsxRuntimeExports.jsx(CallSettingsTooltip,{isTooltipOpen:ls,handleTooltipOpen:ds,handleTooltipClose:us,openSettings:ps}),jsxRuntimeExports.jsx(IconButtonContained,{onClick:gs,variant:"error",children:jsxRuntimeExports.jsx(default_1$2,{sx:{color:otherColors.white}})})]}),jsxRuntimeExports.jsx(CallSettings,{onClose:hs,open:ss})]})},VideoRoom=()=>{var cs;const ts=useTheme$1(),{attendeeIdToTileId:ns}=useRemoteVideoTileState(),{isVideoEnabled:rs}=useLocalVideo(),{roster:is}=useRosterState(),os=getSelectors(useVideoCallStore,["meetingData"]),[ss,as]=reactExports.useState(null),ls=reactExports.useMemo(()=>Object.keys(is).filter(us=>{var ds;return((ds=os.meetingData)==null?void 0:ds.Attendee).AttendeeId!==us}).map(us=>({...is[us],tileId:ns[us]})),[is,(cs=os.meetingData)==null?void 0:cs.Attendee,ns]);return reactExports.useEffect(()=>{ls.length?as(ls[0]):as(null)},[ls]),jsxRuntimeExports.jsx(Box$1,{sx:{position:"relative",width:"100%"},children:jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",flexDirection:"column",borderRadius:"8px",overflow:"hidden"},children:[jsxRuntimeExports.jsx(Box$1,{sx:{backgroundColor:"#1A093B",height:"600px",color:"white"},children:ss&&jsxRuntimeExports.jsx(Box$1,{sx:{height:"100%",overflow:"hidden",position:"relative",width:"100%"},children:ss.tileId&&jsxRuntimeExports.jsx(RemoteVideo,{tileId:ss.tileId})})}),jsxRuntimeExports.jsxs(Box$1,{sx:{position:"absolute",right:16,top:16,display:"flex",flexDirection:"column",gap:2},children:[jsxRuntimeExports.jsxs(Box$1,{sx:{position:"relative",width:150,height:150,borderRadius:"8px",overflow:"hidden",color:"white",zIndex:2,border:"1px solid #fff",backgroundColor:ts.palette.secondary.main},children:[rs&&jsxRuntimeExports.jsx(LocalVideo,{}),jsxRuntimeExports.jsx(Box$1,{sx:{position:"absolute",display:"flex",alignItems:"end",bottom:0,left:0,height:34,width:"100%",backgroundImage:"linear-gradient(rgba(0,0,0,0), rgba(0,0,0,0.7))",pb:1,pl:1},children:jsxRuntimeExports.jsx(Typography$1,{sx:{fontWeight:700,fontSize:"14px"},children:"You"})})]}),ls.filter(us=>us.chimeAttendeeId!==(ss==null?void 0:ss.chimeAttendeeId)).map(us=>jsxRuntimeExports.jsx(Box$1,{sx:{width:150,height:150,borderRadius:"8px",overflow:"hidden",color:"white",zIndex:2,border:"1px solid #fff",backgroundColor:ts.palette.secondary.main,cursor:us.tileId?"pointer":"auto"},children:us.tileId&&jsxRuntimeExports.jsx(RemoteVideo,{onClick:()=>{as(us)},tileId:us.tileId})},us.chimeAttendeeId))]}),jsxRuntimeExports.jsx(Box$1,{children:jsxRuntimeExports.jsx(VideoControls,{})})]},"video-room")})},VideoChatPage=()=>{const ts=getSelectors(useVideoCallStore,["meetingData"]),ns=useMeetingManager(),rs=useZapEHRAPIClient(),[is]=useSearchParams(),os=is.get("appointmentID");return os&&useAppointmentStore.setState(()=>({appointmentID:os})),useJoinCall(rs,async ss=>{useVideoCallStore.setState({meetingData:ss});const as=new buildExports.MeetingSessionConfiguration(ss.Meeting,ss.Attendee),ls={deviceLabels:DeviceLabels.AudioAndVideo};await ns.join(as,ls),await ns.start()}),ts.meetingData?jsxRuntimeExports.jsx(CustomContainer,{useEmptyBody:!0,title:"",bgVariant:IntakeFlowPageRoute.VideoCall.path,children:jsxRuntimeExports.jsxs(Container$1,{maxWidth:"xl",sx:{display:"flex",gap:3,alignItems:"flex-start"},children:[jsxRuntimeExports.jsx(VideoRoom,{}),jsxRuntimeExports.jsx(CallSideCard,{})]})}):jsxRuntimeExports.jsx(CustomContainer,{useEmptyBody:!0,title:"",bgVariant:IntakeFlowPageRoute.VideoCall.path,children:jsxRuntimeExports.jsx(LoadingSpinner,{transparent:!0})})},VideoChatPageContainer=()=>jsxRuntimeExports.jsxs(Le,{theme:lightTheme,children:[jsxRuntimeExports.jsx(GlobalStyles,{}),jsxRuntimeExports.jsx(MeetingProvider,{children:jsxRuntimeExports.jsx(VideoChatPage,{})})]}),VisitDetails=()=>{const ts=useNavigate(),{patientInfo:ns}=usePatientInfoStore.getState(),rs=usePastVisitsStore.getState(),is=ns?"".concat(ns.firstName," ").concat(ns.lastName):"",os=formatVisitDate(ns.dateOfBirth||"","birth");return jsxRuntimeExports.jsxs(CustomContainer,{title:is,subtext:"Birthday: ".concat(os),description:"",bgVariant:IntakeFlowPageRoute.PatientPortal.path,isFirstPage:!0,children:[jsxRuntimeExports.jsx(Typography$1,{variant:"h2",color:"primary.main",sx:{mb:2},children:rs.appointmentDate}),jsxRuntimeExports.jsxs(Typography$1,{variant:"caption",color:"text.secondary",children:["Visit ID: ",rs.appointmentID]}),jsxRuntimeExports.jsx(Button$2,{sx:{display:"flex",alignItems:"center",backgroundColor:otherColors.white,color:"primary.main",border:"1px solid",borderColor:otherColors.purple,borderRadius:"100px",py:1,px:2,mt:2},onClick:()=>{ts(IntakeFlowPageRoute.PastVisits.path)},children:"Back to visits list"})]})};var AssignmentOutlined={},_interopRequireDefault$1=interopRequireDefaultExports;Object.defineProperty(AssignmentOutlined,"__esModule",{value:!0});var default_1$1=AssignmentOutlined.default=void 0,_createSvgIcon$1=_interopRequireDefault$1(requireCreateSvgIcon()),_jsxRuntime$1=jsxRuntimeExports;default_1$1=AssignmentOutlined.default=(0,_createSvgIcon$1.default)((0,_jsxRuntime$1.jsx)("path",{d:"M7 15h7v2H7zm0-4h10v2H7zm0-4h10v2H7zm12-4h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-.14 0-.27.01-.4.04-.39.08-.74.28-1.01.55-.18.18-.33.4-.43.64-.1.23-.16.49-.16.77v14c0 .27.06.54.16.78s.25.45.43.64c.27.27.62.47 1.01.55.13.02.26.03.4.03h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-7-.25c.41 0 .75.34.75.75s-.34.75-.75.75-.75-.34-.75-.75.34-.75.75-.75M19 19H5V5h14z"}),"AssignmentOutlined");var CancelOutlined={},_interopRequireDefault=interopRequireDefaultExports;Object.defineProperty(CancelOutlined,"__esModule",{value:!0});var default_1=CancelOutlined.default=void 0,_createSvgIcon=_interopRequireDefault(requireCreateSvgIcon()),_jsxRuntime=jsxRuntimeExports;default_1=CancelOutlined.default=(0,_createSvgIcon.default)((0,_jsxRuntime.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m3.59-13L12 10.59 8.41 7 7 8.41 10.59 12 7 15.59 8.41 17 12 13.41 15.59 17 17 15.59 13.41 12 17 8.41z"}),"CancelOutlined");const WaitingRoom=()=>{const ts=useNavigate(),ns=useTheme$1(),{otherColors:rs}=reactExports.useContext(IntakeThemeContext),{estimatedTime:is}=getSelectors(useWaitingRoomStore,["estimatedTime"]),[os,ss]=useSearchParams(),as=os.get("appointment_id"),cs=useLocation().pathname===IntakeFlowPageRoute.InvitedWaitingRoom.path,us=useAppointmentStore(bs=>bs.appointmentID);reactExports.useEffect(()=>{as&&useAppointmentStore.setState(()=>({appointmentID:as}))},[as]);const{isIOSApp:ds}=useIOSAppSync(),[ps,hs]=reactExports.useState(!1),[ms,gs]=reactExports.useState(!1),[ys,vs]=reactExports.useState(!1);return useGetWaitStatus(bs=>{if(useWaitingRoomStore.setState(bs),bs.status=="on-video"){if(ds&&us)try{sendIOSAppMessage(createIOSMesssageCallStarted({appointmentID:us}));return}catch(Ss){safelyCaptureException(Ss)}if(cs){const Ss=new URL(window.location.href);ts(IntakeFlowPageRoute.InvitedVideoCall.path+Ss.search)}else ts(IntakeFlowPageRoute.VideoCall.path)}}),jsxRuntimeExports.jsxs(CustomContainer,{title:"Waiting room",img:clockFullColor,imgAlt:"Clock icon",imgWidth:80,subtext:"Please wait, call will start automatically. A pediatric expert will connect with you soon.",bgVariant:IntakeFlowPageRoute.WaitingRoom.path,children:[jsxRuntimeExports.jsx(Box$1,{sx:{backgroundColor:rs.lightBlue,color:ns.palette.secondary.main,padding:2,marginBottom:3,marginTop:3,borderRadius:"8px"},children:jsxRuntimeExports.jsxs(Typography$1,{variant:"subtitle1",color:ns.palette.primary.main,children:["Approx. wait time - ",is?Duration.fromMillis(is).toFormat("mm'mins'"):"...mins"]})}),cs?jsxRuntimeExports.jsx(List$1,{sx:{p:0},children:jsxRuntimeExports.jsx(StyledListItemWithButton,{primaryText:"Call settings & Test",secondaryText:"Audio, video, microphone",noDivider:!0,children:jsxRuntimeExports.jsx(default_1$1,{sx:{color:rs.purple}})})}):jsxRuntimeExports.jsxs(List$1,{sx:{p:0},children:[jsxRuntimeExports.jsx(InvitedParticipantListItemButton,{onClick:()=>hs(!0),hideText:!1}),jsxRuntimeExports.jsx(UploadPhotosListItemButton,{onClick:()=>gs(!0),hideText:!1}),jsxRuntimeExports.jsx(StyledListItemWithButton,{onClick:()=>ts("/home"),primaryText:"Leave waiting room",secondaryText:"We will notify you once the call starts",children:jsxRuntimeExports.jsx("img",{alt:"Clock icon",src:clockFullColor,width:24})}),jsxRuntimeExports.jsx(StyledListItemWithButton,{onClick:()=>vs(!0),primaryText:"Cancel visit",secondaryText:"You will not be charged if you cancel the visit",noDivider:!0,children:jsxRuntimeExports.jsx(default_1,{sx:{color:rs.clearImage}})})]}),ps?jsxRuntimeExports.jsx(ManageParticipantsDialog,{onClose:()=>hs(!1)}):null,ms?jsxRuntimeExports.jsx(UploadPhotosDialog,{onClose:()=>gs(!1)}):null,ys?jsxRuntimeExports.jsx(CancelVisitDialog,{onClose:()=>vs(!1)}):null]})},AppointmentSlotButton=styled$2(Button$2)({borderRadius:"8px"});function SelectSlot({slots:ts,timezone:ns}){const{selectedSlot:rs,setAppointment:is}=useAppointmentStore(ss=>ss),os=useTheme$1();return ts.length===0?jsxRuntimeExports.jsx(Typography$1,{variant:"body2",sx:{marginTop:1,textAlign:"center"},children:"There are no slots available for this option"}):jsxRuntimeExports.jsx(Grid$1,{container:!0,spacing:1,justifyContent:"center",mt:1,children:ts.map((ss,as)=>{const cs=DateTime.fromISO(ss).setZone(ns),us=rs===ss;return jsxRuntimeExports.jsx(Grid$1,{item:!0,children:jsxRuntimeExports.jsx(AppointmentSlotButton,{sx:{width:"110px",borderColor:os.palette.divider,fontWeight:us?700:400},variant:us?"contained":"outlined",color:"primary",onClick:()=>is({selectedSlot:ss}),children:cs.toFormat("h:mm a")})},as)})})}const _excluded$h=["localeText"],MuiPickersAdapterContext=reactExports.createContext(null),LocalizationProvider=function ts(ns){var bs;const{localeText:rs}=ns,is=_objectWithoutPropertiesLoose$3(ns,_excluded$h),{utils:os,localeText:ss}=(bs=reactExports.useContext(MuiPickersAdapterContext))!=null?bs:{utils:void 0,localeText:void 0},as=useThemeProps({props:is,name:"MuiLocalizationProvider"}),{children:ls,dateAdapter:cs,dateFormats:us,dateLibInstance:ds,adapterLocale:ps,localeText:hs}=as,ms=reactExports.useMemo(()=>_extends$a({},hs,ss,rs),[hs,ss,rs]),gs=reactExports.useMemo(()=>{if(!cs)return os||null;const Ss=new cs({locale:ps,formats:us,instance:ds});if(!Ss.isMUIAdapter)throw new Error(["MUI X: The date adapter should be imported from `@mui/x-date-pickers` or `@mui/x-date-pickers-pro`, not from `@date-io`","For example, `import { AdapterDayjs } from '@mui/x-date-pickers/AdapterDayjs'` instead of `import AdapterDayjs from '@date-io/dayjs'`","More information on the installation documentation: https://mui.com/x/react-date-pickers/getting-started/#installation"].join("\n"));return Ss},[cs,ps,us,ds,os]),ys=reactExports.useMemo(()=>gs?{minDate:gs.date("1900-01-01T00:00:00.000"),maxDate:gs.date("2099-12-31T00:00:00.000")}:null,[gs]),vs=reactExports.useMemo(()=>({utils:gs,defaultDates:ys,localeText:ms}),[ys,gs,ms]);return jsxRuntimeExports.jsx(MuiPickersAdapterContext.Provider,{value:vs,children:ls})},getPickersLocalization=ts=>({components:{MuiLocalizationProvider:{defaultProps:{localeText:_extends$a({},ts)}}}}),enUSPickers={previousMonth:"Previous month",nextMonth:"Next month",openPreviousView:"Open previous view",openNextView:"Open next view",calendarViewSwitchingButtonAriaLabel:ts=>ts==="year"?"year view is open, switch to calendar view":"calendar view is open, switch to year view",start:"Start",end:"End",startDate:"Start date",startTime:"Start time",endDate:"End date",endTime:"End time",cancelButtonLabel:"Cancel",clearButtonLabel:"Clear",okButtonLabel:"OK",todayButtonLabel:"Today",datePickerToolbarTitle:"Select date",dateTimePickerToolbarTitle:"Select date & time",timePickerToolbarTitle:"Select time",dateRangePickerToolbarTitle:"Select date range",clockLabelText:(ts,ns,rs)=>"Select ".concat(ts,". ").concat(ns===null?"No time selected":"Selected time is ".concat(rs.format(ns,"fullTime"))),hoursClockNumberText:ts=>"".concat(ts," hours"),minutesClockNumberText:ts=>"".concat(ts," minutes"),secondsClockNumberText:ts=>"".concat(ts," seconds"),selectViewText:ts=>"Select ".concat(ts),calendarWeekNumberHeaderLabel:"Week number",calendarWeekNumberHeaderText:"#",calendarWeekNumberAriaLabelText:ts=>"Week ".concat(ts),calendarWeekNumberText:ts=>"".concat(ts),openDatePickerDialogue:(ts,ns)=>ts!==null&&ns.isValid(ts)?"Choose date, selected date is ".concat(ns.format(ts,"fullDate")):"Choose date",openTimePickerDialogue:(ts,ns)=>ts!==null&&ns.isValid(ts)?"Choose time, selected time is ".concat(ns.format(ts,"fullTime")):"Choose time",fieldClearLabel:"Clear value",timeTableLabel:"pick time",dateTableLabel:"pick date",fieldYearPlaceholder:ts=>"Y".repeat(ts.digitAmount),fieldMonthPlaceholder:ts=>ts.contentType==="letter"?"MMMM":"MM",fieldDayPlaceholder:()=>"DD",fieldWeekDayPlaceholder:ts=>ts.contentType==="letter"?"EEEE":"EE",fieldHoursPlaceholder:()=>"hh",fieldMinutesPlaceholder:()=>"mm",fieldSecondsPlaceholder:()=>"ss",fieldMeridiemPlaceholder:()=>"aa",year:"Year",month:"Month",day:"Day",weekDay:"Week day",hours:"Hours",minutes:"Minutes",seconds:"Seconds",meridiem:"Meridiem",empty:"Empty"},DEFAULT_LOCALE=enUSPickers;getPickersLocalization(enUSPickers);const useLocalizationContext=()=>{const ts=reactExports.useContext(MuiPickersAdapterContext);if(ts===null)throw new Error(["MUI X: Can not find the date and time pickers localization context.","It looks like you forgot to wrap your component in LocalizationProvider.","This can also happen if you are bundling multiple versions of the `@mui/x-date-pickers` package"].join("\n"));if(ts.utils===null)throw new Error(["MUI X: Can not find the date and time pickers adapter from its localization context.","It looks like you forgot to pass a `dateAdapter` to your LocalizationProvider."].join("\n"));const ns=reactExports.useMemo(()=>_extends$a({},DEFAULT_LOCALE,ts.localeText),[ts.localeText]);return reactExports.useMemo(()=>_extends$a({},ts,{localeText:ns}),[ts,ns])},useUtils=()=>useLocalizationContext().utils,useDefaultDates=()=>useLocalizationContext().defaultDates,useNow=ts=>{const ns=useUtils(),rs=reactExports.useRef();return rs.current===void 0&&(rs.current=ns.date(void 0,ts)),rs.current},usePickersTranslations=()=>useLocalizationContext().localeText,ArrowDropDownIcon=createSvgIcon$1(jsxRuntimeExports.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),ArrowLeftIcon=createSvgIcon$1(jsxRuntimeExports.jsx("path",{d:"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"}),"ArrowLeft"),ArrowRightIcon=createSvgIcon$1(jsxRuntimeExports.jsx("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"ArrowRight");createSvgIcon$1(jsxRuntimeExports.jsx("path",{d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"}),"Calendar");createSvgIcon$1(jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),jsxRuntimeExports.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Clock");createSvgIcon$1(jsxRuntimeExports.jsx("path",{d:"M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"}),"DateRange");createSvgIcon$1(jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),jsxRuntimeExports.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Time");createSvgIcon$1(jsxRuntimeExports.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");function getPickersArrowSwitcherUtilityClass(ts){return generateUtilityClass("MuiPickersArrowSwitcher",ts)}generateUtilityClasses("MuiPickersArrowSwitcher",["root","spacer","button","previousIconButton","nextIconButton","leftArrowIcon","rightArrowIcon"]);const _excluded$g=["children","className","slots","slotProps","isNextDisabled","isNextHidden","onGoToNext","nextLabel","isPreviousDisabled","isPreviousHidden","onGoToPrevious","previousLabel","labelId"],_excluded2$3=["ownerState"],_excluded3=["ownerState"],PickersArrowSwitcherRoot=styled$2("div",{name:"MuiPickersArrowSwitcher",slot:"Root",overridesResolver:(ts,ns)=>ns.root})({display:"flex"}),PickersArrowSwitcherSpacer=styled$2("div",{name:"MuiPickersArrowSwitcher",slot:"Spacer",overridesResolver:(ts,ns)=>ns.spacer})(({theme:ts})=>({width:ts.spacing(3)})),PickersArrowSwitcherButton=styled$2(IconButton$2,{name:"MuiPickersArrowSwitcher",slot:"Button",overridesResolver:(ts,ns)=>ns.button})({variants:[{props:{hidden:!0},style:{visibility:"hidden"}}]}),useUtilityClasses$e=ts=>{const{classes:ns}=ts;return composeClasses({root:["root"],spacer:["spacer"],button:["button"],previousIconButton:["previousIconButton"],nextIconButton:["nextIconButton"],leftArrowIcon:["leftArrowIcon"],rightArrowIcon:["rightArrowIcon"]},getPickersArrowSwitcherUtilityClass,ns)},PickersArrowSwitcher=reactExports.forwardRef(function ts(ns,rs){var Vs,Bs,Ws,Os;const is=useRtl(),os=useThemeProps({props:ns,name:"MuiPickersArrowSwitcher"}),{children:ss,className:as,slots:ls,slotProps:cs,isNextDisabled:us,isNextHidden:ds,onGoToNext:ps,nextLabel:hs,isPreviousDisabled:ms,isPreviousHidden:gs,onGoToPrevious:ys,previousLabel:vs,labelId:bs}=os,Ss=_objectWithoutPropertiesLoose$3(os,_excluded$g),$s=os,Cs=useUtilityClasses$e($s),Es={isDisabled:us,isHidden:ds,goTo:ps,label:hs},xs={isDisabled:ms,isHidden:gs,goTo:ys,label:vs},ws=(Vs=ls==null?void 0:ls.previousIconButton)!=null?Vs:PickersArrowSwitcherButton,ks=useSlotProps({elementType:ws,externalSlotProps:cs==null?void 0:cs.previousIconButton,additionalProps:{size:"medium",title:xs.label,"aria-label":xs.label,disabled:xs.isDisabled,edge:"end",onClick:xs.goTo},ownerState:_extends$a({},$s,{hidden:xs.isHidden}),className:clsx(Cs.button,Cs.previousIconButton)}),Is=(Bs=ls==null?void 0:ls.nextIconButton)!=null?Bs:PickersArrowSwitcherButton,Ts=useSlotProps({elementType:Is,externalSlotProps:cs==null?void 0:cs.nextIconButton,additionalProps:{size:"medium",title:Es.label,"aria-label":Es.label,disabled:Es.isDisabled,edge:"start",onClick:Es.goTo},ownerState:_extends$a({},$s,{hidden:Es.isHidden}),className:clsx(Cs.button,Cs.nextIconButton)}),Rs=(Ws=ls==null?void 0:ls.leftArrowIcon)!=null?Ws:ArrowLeftIcon,As=useSlotProps({elementType:Rs,externalSlotProps:cs==null?void 0:cs.leftArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:$s,className:Cs.leftArrowIcon}),Ms=_objectWithoutPropertiesLoose$3(As,_excluded2$3),Ls=(Os=ls==null?void 0:ls.rightArrowIcon)!=null?Os:ArrowRightIcon,Ds=useSlotProps({elementType:Ls,externalSlotProps:cs==null?void 0:cs.rightArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:$s,className:Cs.rightArrowIcon}),Fs=_objectWithoutPropertiesLoose$3(Ds,_excluded3);return jsxRuntimeExports.jsxs(PickersArrowSwitcherRoot,_extends$a({ref:rs,className:clsx(Cs.root,as),ownerState:$s},Ss,{children:[jsxRuntimeExports.jsx(ws,_extends$a({},ks,{children:is?jsxRuntimeExports.jsx(Ls,_extends$a({},Fs)):jsxRuntimeExports.jsx(Rs,_extends$a({},Ms))})),ss?jsxRuntimeExports.jsx(Typography$1,{variant:"subtitle1",component:"span",id:bs,children:ss}):jsxRuntimeExports.jsx(PickersArrowSwitcherSpacer,{className:Cs.spacer,ownerState:$s}),jsxRuntimeExports.jsx(Is,_extends$a({},Ts,{children:is?jsxRuntimeExports.jsx(Rs,_extends$a({},Ms)):jsxRuntimeExports.jsx(Ls,_extends$a({},Fs))}))]}))}),areViewsEqual=(ts,ns)=>ts.length!==ns.length?!1:ns.every(rs=>ts.includes(rs)),applyDefaultViewProps=({openTo:ts,defaultOpenTo:ns,views:rs,defaultViews:is})=>{const os=rs!=null?rs:is;let ss;if(ts!=null)ss=ts;else if(os.includes(ns))ss=ns;else if(os.length>0)ss=os[0];else throw new Error("MUI X: The `views` prop must contain at least one view.");return{views:os,openTo:ss}},timeViews=["hours","minutes","seconds"],isTimeView=ts=>timeViews.includes(ts),getSecondsInDay=(ts,ns)=>ns.getHours(ts)*3600+ns.getMinutes(ts)*60+ns.getSeconds(ts),createIsAfterIgnoreDatePart=(ts,ns)=>(rs,is)=>ts?ns.isAfter(rs,is):getSecondsInDay(rs,ns)>getSecondsInDay(is,ns);function useViews({onChange:ts,onViewChange:ns,openTo:rs,view:is,views:os,autoFocus:ss,focusedView:as,onFocusedViewChange:ls}){var ws,ks;const cs=reactExports.useRef(rs),us=reactExports.useRef(os),ds=reactExports.useRef(os.includes(rs)?rs:os[0]),[ps,hs]=useControlled({name:"useViews",state:"view",controlled:is,default:ds.current}),ms=reactExports.useRef(ss?ps:null),[gs,ys]=useControlled({name:"useViews",state:"focusedView",controlled:as,default:ms.current});reactExports.useEffect(()=>{(cs.current&&cs.current!==rs||us.current&&us.current.some(Is=>!os.includes(Is)))&&(hs(os.includes(rs)?rs:os[0]),us.current=os,cs.current=rs)},[rs,hs,ps,os]);const vs=os.indexOf(ps),bs=(ws=os[vs-1])!=null?ws:null,Ss=(ks=os[vs+1])!=null?ks:null,$s=useEventCallback((Is,Ts)=>{ys(Ts?Is:Rs=>Is===Rs?null:Rs),ls==null||ls(Is,Ts)}),Cs=useEventCallback(Is=>{$s(Is,!0),Is!==ps&&(hs(Is),ns&&ns(Is))}),Es=useEventCallback(()=>{Ss&&Cs(Ss)}),xs=useEventCallback((Is,Ts,Rs)=>{const As=Ts==="finish",Ms=Rs?os.indexOf(Rs)<os.length-1:!!Ss;if(ts(Is,As&&Ms?"partial":Ts,Rs),Rs&&Rs!==ps){const Ds=os[os.indexOf(Rs)+1];Ds&&Cs(Ds)}else As&&Es()});return{view:ps,setView:Cs,focusedView:gs,setFocusedView:$s,nextView:Ss,previousView:bs,defaultView:os.includes(rs)?rs:os[0],goToNextView:Es,setValueAndGoToNextView:xs}}function useNextMonthDisabled(ts,{disableFuture:ns,maxDate:rs,timezone:is}){const os=useUtils();return reactExports.useMemo(()=>{const ss=os.date(void 0,is),as=os.startOfMonth(ns&&os.isBefore(ss,rs)?ss:rs);return!os.isAfter(as,ts)},[ns,rs,ts,os,is])}function usePreviousMonthDisabled(ts,{disablePast:ns,minDate:rs,timezone:is}){const os=useUtils();return reactExports.useMemo(()=>{const ss=os.date(void 0,is),as=os.startOfMonth(ns&&os.isAfter(ss,rs)?ss:rs);return!os.isBefore(as,ts)},[ns,rs,ts,os,is])}const DAY_SIZE=36,DAY_MARGIN=2,DIALOG_WIDTH=320,MAX_CALENDAR_HEIGHT=280,VIEW_HEIGHT=336,PickerViewRoot=styled$2("div")({overflow:"hidden",width:DIALOG_WIDTH,maxHeight:VIEW_HEIGHT,display:"flex",flexDirection:"column",margin:"0 auto"}),mergeDateAndTime=(ts,ns,rs)=>{let is=ns;return is=ts.setHours(is,ts.getHours(rs)),is=ts.setMinutes(is,ts.getMinutes(rs)),is=ts.setSeconds(is,ts.getSeconds(rs)),is},findClosestEnabledDate=({date:ts,disableFuture:ns,disablePast:rs,maxDate:is,minDate:os,isDateDisabled:ss,utils:as,timezone:ls})=>{const cs=mergeDateAndTime(as,as.date(void 0,ls),ts);rs&&as.isBefore(os,cs)&&(os=cs),ns&&as.isAfter(is,cs)&&(is=cs);let us=ts,ds=ts;for(as.isBefore(ts,os)&&(us=os,ds=null),as.isAfter(ts,is)&&(ds&&(ds=is),us=null);us||ds;){if(us&&as.isAfter(us,is)&&(us=null),ds&&as.isBefore(ds,os)&&(ds=null),us){if(!ss(us))return us;us=as.addDays(us,1)}if(ds){if(!ss(ds))return ds;ds=as.addDays(ds,-1)}}return null},replaceInvalidDateByNull=(ts,ns)=>ns==null||!ts.isValid(ns)?null:ns,applyDefaultDate=(ts,ns,rs)=>ns==null||!ts.isValid(ns)?rs:ns,areDatesEqual=(ts,ns,rs)=>!ts.isValid(ns)&&ns!=null&&!ts.isValid(rs)&&rs!=null?!0:ts.isEqual(ns,rs),getMonthsInYear=(ts,ns)=>{const is=[ts.startOfYear(ns)];for(;is.length<12;){const os=is[is.length-1];is.push(ts.addMonths(os,1))}return is},getTodayDate=(ts,ns,rs)=>rs==="date"?ts.startOfDay(ts.date(void 0,ns)):ts.date(void 0,ns),dateViews=["year","month","day"],isDatePickerView=ts=>dateViews.includes(ts),resolveDateFormat=(ts,{format:ns,views:rs},is)=>{if(ns!=null)return ns;const os=ts.formats;return areViewsEqual(rs,["year"])?os.year:areViewsEqual(rs,["month"])?os.month:areViewsEqual(rs,["day"])?os.dayOfMonth:areViewsEqual(rs,["month","year"])?"".concat(os.month," ").concat(os.year):areViewsEqual(rs,["day","month"])?"".concat(os.month," ").concat(os.dayOfMonth):is?/en/.test(ts.getCurrentLocaleCode())?os.normalDateWithWeekday:os.normalDate:os.keyboardDate},getWeekdays=(ts,ns)=>{const rs=ts.startOfWeek(ns);return[0,1,2,3,4,5,6].map(is=>ts.addDays(rs,is))},useValueWithTimezone=({timezone:ts,value:ns,defaultValue:rs,onChange:is,valueManager:os})=>{var ms,gs;const ss=useUtils(),as=reactExports.useRef(rs),ls=(ms=ns!=null?ns:as.current)!=null?ms:os.emptyValue,cs=reactExports.useMemo(()=>os.getTimezone(ss,ls),[ss,os,ls]),us=useEventCallback(ys=>cs==null?ys:os.setTimezone(ss,cs,ys)),ds=(gs=ts!=null?ts:cs)!=null?gs:"default",ps=reactExports.useMemo(()=>os.setTimezone(ss,ds,ls),[os,ss,ds,ls]),hs=useEventCallback((ys,...vs)=>{const bs=us(ys);is==null||is(bs,...vs)});return{value:ps,handleValueChange:hs,timezone:ds}},useControlledValueWithTimezone=({name:ts,timezone:ns,value:rs,defaultValue:is,onChange:os,valueManager:ss})=>{const[as,ls]=useControlled({name:ts,state:"value",controlled:rs,default:is!=null?is:ss.emptyValue}),cs=useEventCallback((us,...ds)=>{ls(us),os==null||os(us,...ds)});return useValueWithTimezone({timezone:ns,value:as,defaultValue:void 0,onChange:cs,valueManager:ss})},SECTION_TYPE_GRANULARITY={year:1,month:2,day:3,hours:4,minutes:5,seconds:6,milliseconds:7},roundDate=(ts,ns,rs)=>{if(ns===SECTION_TYPE_GRANULARITY.year)return ts.startOfYear(rs);if(ns===SECTION_TYPE_GRANULARITY.month)return ts.startOfMonth(rs);if(ns===SECTION_TYPE_GRANULARITY.day)return ts.startOfDay(rs);let is=rs;return ns<SECTION_TYPE_GRANULARITY.minutes&&(is=ts.setMinutes(is,0)),ns<SECTION_TYPE_GRANULARITY.seconds&&(is=ts.setSeconds(is,0)),ns<SECTION_TYPE_GRANULARITY.milliseconds&&(is=ts.setMilliseconds(is,0)),is},getDefaultReferenceDate=({props:ts,utils:ns,granularity:rs,timezone:is,getTodayDate:os})=>{var ls;let ss=os?os():roundDate(ns,rs,getTodayDate(ns,is));ts.minDate!=null&&ns.isAfterDay(ts.minDate,ss)&&(ss=roundDate(ns,rs,ts.minDate)),ts.maxDate!=null&&ns.isBeforeDay(ts.maxDate,ss)&&(ss=roundDate(ns,rs,ts.maxDate));const as=createIsAfterIgnoreDatePart((ls=ts.disableIgnoringDatePartForTimeValidation)!=null?ls:!1,ns);return ts.minTime!=null&&as(ts.minTime,ss)&&(ss=roundDate(ns,rs,ts.disableIgnoringDatePartForTimeValidation?ts.minTime:mergeDateAndTime(ns,ss,ts.minTime))),ts.maxTime!=null&&as(ss,ts.maxTime)&&(ss=roundDate(ns,rs,ts.disableIgnoringDatePartForTimeValidation?ts.maxTime:mergeDateAndTime(ns,ss,ts.maxTime))),ss},_excluded$f=["value","referenceDate"],singleItemValueManager={emptyValue:null,getTodayValue:getTodayDate,getInitialReferenceValue:ts=>{let{value:ns,referenceDate:rs}=ts,is=_objectWithoutPropertiesLoose$3(ts,_excluded$f);return ns!=null&&is.utils.isValid(ns)?ns:rs!=null?rs:getDefaultReferenceDate(is)},cleanValue:replaceInvalidDateByNull,areValuesEqual:areDatesEqual,isSameError:(ts,ns)=>ts===ns,hasError:ts=>ts!=null,defaultErrorState:null,getTimezone:(ts,ns)=>ns==null||!ts.isValid(ns)?null:ts.getTimezone(ns),setTimezone:(ts,ns,rs)=>rs==null?null:ts.setTimezone(rs,ns)};function getPickersDayUtilityClass(ts){return generateUtilityClass("MuiPickersDay",ts)}const pickersDayClasses=generateUtilityClasses("MuiPickersDay",["root","dayWithMargin","dayOutsideMonth","hiddenDaySpacingFiller","today","selected","disabled"]),_excluded$e=["autoFocus","className","day","disabled","disableHighlightToday","disableMargin","hidden","isAnimating","onClick","onDaySelect","onFocus","onBlur","onKeyDown","onMouseDown","onMouseEnter","outsideCurrentMonth","selected","showDaysOutsideCurrentMonth","children","today","isFirstVisibleCell","isLastVisibleCell"],useUtilityClasses$d=ts=>{const{selected:ns,disableMargin:rs,disableHighlightToday:is,today:os,disabled:ss,outsideCurrentMonth:as,showDaysOutsideCurrentMonth:ls,classes:cs}=ts,us=as&&!ls;return composeClasses({root:["root",ns&&!us&&"selected",ss&&"disabled",!rs&&"dayWithMargin",!is&&os&&"today",as&&ls&&"dayOutsideMonth",us&&"hiddenDaySpacingFiller"],hiddenDaySpacingFiller:["hiddenDaySpacingFiller"]},getPickersDayUtilityClass,cs)},styleArg=({theme:ts})=>_extends$a({},ts.typography.caption,{width:DAY_SIZE,height:DAY_SIZE,borderRadius:"50%",padding:0,backgroundColor:"transparent",transition:ts.transitions.create("background-color",{duration:ts.transitions.duration.short}),color:(ts.vars||ts).palette.text.primary,"@media (pointer: fine)":{"&:hover":{backgroundColor:ts.vars?"rgba(".concat(ts.vars.palette.primary.mainChannel," / ").concat(ts.vars.palette.action.hoverOpacity,")"):alpha$1(ts.palette.primary.main,ts.palette.action.hoverOpacity)}},"&:focus":{backgroundColor:ts.vars?"rgba(".concat(ts.vars.palette.primary.mainChannel," / ").concat(ts.vars.palette.action.focusOpacity,")"):alpha$1(ts.palette.primary.main,ts.palette.action.focusOpacity),["&.".concat(pickersDayClasses.selected)]:{willChange:"background-color",backgroundColor:(ts.vars||ts).palette.primary.dark}},["&.".concat(pickersDayClasses.selected)]:{color:(ts.vars||ts).palette.primary.contrastText,backgroundColor:(ts.vars||ts).palette.primary.main,fontWeight:ts.typography.fontWeightMedium,"&:hover":{willChange:"background-color",backgroundColor:(ts.vars||ts).palette.primary.dark}},["&.".concat(pickersDayClasses.disabled,":not(.").concat(pickersDayClasses.selected,")")]:{color:(ts.vars||ts).palette.text.disabled},["&.".concat(pickersDayClasses.disabled,"&.").concat(pickersDayClasses.selected)]:{opacity:.6},variants:[{props:{disableMargin:!1},style:{margin:"0 ".concat(DAY_MARGIN,"px")}},{props:{outsideCurrentMonth:!0,showDaysOutsideCurrentMonth:!0},style:{color:(ts.vars||ts).palette.text.secondary}},{props:{disableHighlightToday:!1,today:!0},style:{["&:not(.".concat(pickersDayClasses.selected,")")]:{border:"1px solid ".concat((ts.vars||ts).palette.text.secondary)}}}]}),overridesResolver=(ts,ns)=>{const{ownerState:rs}=ts;return[ns.root,!rs.disableMargin&&ns.dayWithMargin,!rs.disableHighlightToday&&rs.today&&ns.today,!rs.outsideCurrentMonth&&rs.showDaysOutsideCurrentMonth&&ns.dayOutsideMonth,rs.outsideCurrentMonth&&!rs.showDaysOutsideCurrentMonth&&ns.hiddenDaySpacingFiller]},PickersDayRoot=styled$2(ButtonBase$1,{name:"MuiPickersDay",slot:"Root",overridesResolver})(styleArg),PickersDayFiller=styled$2("div",{name:"MuiPickersDay",slot:"Root",overridesResolver})(({theme:ts})=>_extends$a({},styleArg({theme:ts}),{opacity:0,pointerEvents:"none"})),noop=()=>{},PickersDayRaw=reactExports.forwardRef(function ts(ns,rs){const is=useThemeProps({props:ns,name:"MuiPickersDay"}),{autoFocus:os=!1,className:ss,day:as,disabled:ls=!1,disableHighlightToday:cs=!1,disableMargin:us=!1,isAnimating:ds,onClick:ps,onDaySelect:hs,onFocus:ms=noop,onBlur:gs=noop,onKeyDown:ys=noop,onMouseDown:vs=noop,onMouseEnter:bs=noop,outsideCurrentMonth:Ss,selected:$s=!1,showDaysOutsideCurrentMonth:Cs=!1,children:Es,today:xs=!1}=is,ws=_objectWithoutPropertiesLoose$3(is,_excluded$e),ks=_extends$a({},is,{autoFocus:os,disabled:ls,disableHighlightToday:cs,disableMargin:us,selected:$s,showDaysOutsideCurrentMonth:Cs,today:xs}),Is=useUtilityClasses$d(ks),Ts=useUtils(),Rs=reactExports.useRef(null),As=useForkRef(Rs,rs);useEnhancedEffect$1(()=>{os&&!ls&&!ds&&!Ss&&Rs.current.focus()},[os,ls,ds,Ss]);const Ms=Ds=>{vs(Ds),Ss&&Ds.preventDefault()},Ls=Ds=>{ls||hs(as),Ss&&Ds.currentTarget.focus(),ps&&ps(Ds)};return Ss&&!Cs?jsxRuntimeExports.jsx(PickersDayFiller,{className:clsx(Is.root,Is.hiddenDaySpacingFiller,ss),ownerState:ks,role:ws.role}):jsxRuntimeExports.jsx(PickersDayRoot,_extends$a({className:clsx(Is.root,ss),ref:As,centerRipple:!0,disabled:ls,tabIndex:$s?0:-1,onKeyDown:Ds=>ys(Ds,as),onFocus:Ds=>ms(Ds,as),onBlur:Ds=>gs(Ds,as),onMouseEnter:Ds=>bs(Ds,as),onClick:Ls,onMouseDown:Ms},ws,{ownerState:ks,children:Es||Ts.format(as,"dayOfMonth")}))}),PickersDay=reactExports.memo(PickersDayRaw);function useValidation(ts,ns,rs,is){const{value:os,onError:ss}=ts,as=useLocalizationContext(),ls=reactExports.useRef(is),cs=ns({adapter:as,value:os,props:ts});return reactExports.useEffect(()=>{ss&&!rs(cs,ls.current)&&ss(cs,os),ls.current=cs},[rs,ss,ls,cs,os]),cs}function arrayIncludes(ts,ns){return Array.isArray(ns)?ns.every(rs=>ts.indexOf(rs)!==-1):ts.indexOf(ns)!==-1}const validateDate=({props:ts,value:ns,adapter:rs})=>{if(ns===null)return null;const{shouldDisableDate:is,shouldDisableMonth:os,shouldDisableYear:ss,disablePast:as,disableFuture:ls,timezone:cs}=ts,us=rs.utils.date(void 0,cs),ds=applyDefaultDate(rs.utils,ts.minDate,rs.defaultDates.minDate),ps=applyDefaultDate(rs.utils,ts.maxDate,rs.defaultDates.maxDate);switch(!0){case!rs.utils.isValid(ns):return"invalidDate";case!!(is&&is(ns)):return"shouldDisableDate";case!!(os&&os(ns)):return"shouldDisableMonth";case!!(ss&&ss(ns)):return"shouldDisableYear";case!!(ls&&rs.utils.isAfterDay(ns,us)):return"disableFuture";case!!(as&&rs.utils.isBeforeDay(ns,us)):return"disablePast";case!!(ds&&rs.utils.isBeforeDay(ns,ds)):return"minDate";case!!(ps&&rs.utils.isAfterDay(ns,ps)):return"maxDate";default:return null}},useIsDateDisabled=({shouldDisableDate:ts,shouldDisableMonth:ns,shouldDisableYear:rs,minDate:is,maxDate:os,disableFuture:ss,disablePast:as,timezone:ls})=>{const cs=useLocalizationContext();return reactExports.useCallback(us=>validateDate({adapter:cs,value:us,props:{shouldDisableDate:ts,shouldDisableMonth:ns,shouldDisableYear:rs,minDate:is,maxDate:os,disableFuture:ss,disablePast:as,timezone:ls}})!==null,[cs,ts,ns,rs,is,os,ss,as,ls])},createCalendarStateReducer=(ts,ns,rs)=>(is,os)=>{switch(os.type){case"changeMonth":return _extends$a({},is,{slideDirection:os.direction,currentMonth:os.newMonth,isMonthSwitchingAnimating:!ts});case"finishMonthSwitchingAnimation":return _extends$a({},is,{isMonthSwitchingAnimating:!1});case"changeFocusedDay":{if(is.focusedDay!=null&&os.focusedDay!=null&&rs.isSameDay(os.focusedDay,is.focusedDay))return is;const ss=os.focusedDay!=null&&!ns&&!rs.isSameMonth(is.currentMonth,os.focusedDay);return _extends$a({},is,{focusedDay:os.focusedDay,isMonthSwitchingAnimating:ss&&!ts&&!os.withoutMonthSwitchingAnimation,currentMonth:ss?rs.startOfMonth(os.focusedDay):is.currentMonth,slideDirection:os.focusedDay!=null&&rs.isAfterDay(os.focusedDay,is.currentMonth)?"left":"right"})}default:throw new Error("missing support")}},useCalendarState=ts=>{const{value:ns,referenceDate:rs,disableFuture:is,disablePast:os,disableSwitchToMonthOnDayFocus:ss=!1,maxDate:as,minDate:ls,onMonthChange:cs,reduceAnimations:us,shouldDisableDate:ds,timezone:ps}=ts,hs=useUtils(),ms=reactExports.useRef(createCalendarStateReducer(!!us,ss,hs)).current,gs=reactExports.useMemo(()=>singleItemValueManager.getInitialReferenceValue({value:ns,utils:hs,timezone:ps,props:ts,referenceDate:rs,granularity:SECTION_TYPE_GRANULARITY.day}),[]),[ys,vs]=reactExports.useReducer(ms,{isMonthSwitchingAnimating:!1,focusedDay:gs,currentMonth:hs.startOfMonth(gs),slideDirection:"left"}),bs=reactExports.useCallback(xs=>{vs(_extends$a({type:"changeMonth"},xs)),cs&&cs(xs.newMonth)},[cs]),Ss=reactExports.useCallback(xs=>{const ws=xs;hs.isSameMonth(ws,ys.currentMonth)||bs({newMonth:hs.startOfMonth(ws),direction:hs.isAfterDay(ws,ys.currentMonth)?"left":"right"})},[ys.currentMonth,bs,hs]),$s=useIsDateDisabled({shouldDisableDate:ds,minDate:ls,maxDate:as,disableFuture:is,disablePast:os,timezone:ps}),Cs=reactExports.useCallback(()=>{vs({type:"finishMonthSwitchingAnimation"})},[]),Es=useEventCallback((xs,ws)=>{$s(xs)||vs({type:"changeFocusedDay",focusedDay:xs,withoutMonthSwitchingAnimation:ws})});return{referenceDate:gs,calendarState:ys,changeMonth:Ss,changeFocusedDay:Es,isDateDisabled:$s,onMonthSwitchingAnimationEnd:Cs,handleChangeMonth:bs}},getPickersFadeTransitionGroupUtilityClass=ts=>generateUtilityClass("MuiPickersFadeTransitionGroup",ts);generateUtilityClasses("MuiPickersFadeTransitionGroup",["root"]);const useUtilityClasses$c=ts=>{const{classes:ns}=ts;return composeClasses({root:["root"]},getPickersFadeTransitionGroupUtilityClass,ns)},PickersFadeTransitionGroupRoot=styled$2(TransitionGroup$1,{name:"MuiPickersFadeTransitionGroup",slot:"Root",overridesResolver:(ts,ns)=>ns.root})({display:"block",position:"relative"});function PickersFadeTransitionGroup(ts){const ns=useThemeProps({props:ts,name:"MuiPickersFadeTransitionGroup"}),{children:rs,className:is,reduceAnimations:os,transKey:ss}=ns,as=useUtilityClasses$c(ns),ls=useTheme$1();return os?rs:jsxRuntimeExports.jsx(PickersFadeTransitionGroupRoot,{className:clsx(as.root,is),children:jsxRuntimeExports.jsx(Fade$1,{appear:!1,mountOnEnter:!0,unmountOnExit:!0,timeout:{appear:ls.transitions.duration.enteringScreen,enter:ls.transitions.duration.enteringScreen,exit:0},children:rs},ss)})}const getPickersSlideTransitionUtilityClass=ts=>generateUtilityClass("MuiPickersSlideTransition",ts),pickersSlideTransitionClasses=generateUtilityClasses("MuiPickersSlideTransition",["root","slideEnter-left","slideEnter-right","slideEnterActive","slideExit","slideExitActiveLeft-left","slideExitActiveLeft-right"]),_excluded$d=["children","className","reduceAnimations","slideDirection","transKey","classes"],useUtilityClasses$b=ts=>{const{classes:ns,slideDirection:rs}=ts,is={root:["root"],exit:["slideExit"],enterActive:["slideEnterActive"],enter:["slideEnter-".concat(rs)],exitActive:["slideExitActiveLeft-".concat(rs)]};return composeClasses(is,getPickersSlideTransitionUtilityClass,ns)},PickersSlideTransitionRoot=styled$2(TransitionGroup$1,{name:"MuiPickersSlideTransition",slot:"Root",overridesResolver:(ts,ns)=>[ns.root,{[".".concat(pickersSlideTransitionClasses["slideEnter-left"])]:ns["slideEnter-left"]},{[".".concat(pickersSlideTransitionClasses["slideEnter-right"])]:ns["slideEnter-right"]},{[".".concat(pickersSlideTransitionClasses.slideEnterActive)]:ns.slideEnterActive},{[".".concat(pickersSlideTransitionClasses.slideExit)]:ns.slideExit},{[".".concat(pickersSlideTransitionClasses["slideExitActiveLeft-left"])]:ns["slideExitActiveLeft-left"]},{[".".concat(pickersSlideTransitionClasses["slideExitActiveLeft-right"])]:ns["slideExitActiveLeft-right"]}]})(({theme:ts})=>{const ns=ts.transitions.create("transform",{duration:ts.transitions.duration.complex,easing:"cubic-bezier(0.35, 0.8, 0.4, 1)"});return{display:"block",position:"relative",overflowX:"hidden","& > *":{position:"absolute",top:0,right:0,left:0},["& .".concat(pickersSlideTransitionClasses["slideEnter-left"])]:{willChange:"transform",transform:"translate(100%)",zIndex:1},["& .".concat(pickersSlideTransitionClasses["slideEnter-right"])]:{willChange:"transform",transform:"translate(-100%)",zIndex:1},["& .".concat(pickersSlideTransitionClasses.slideEnterActive)]:{transform:"translate(0%)",transition:ns},["& .".concat(pickersSlideTransitionClasses.slideExit)]:{transform:"translate(0%)"},["& .".concat(pickersSlideTransitionClasses["slideExitActiveLeft-left"])]:{willChange:"transform",transform:"translate(-100%)",transition:ns,zIndex:0},["& .".concat(pickersSlideTransitionClasses["slideExitActiveLeft-right"])]:{willChange:"transform",transform:"translate(100%)",transition:ns,zIndex:0}}});function PickersSlideTransition(ts){const ns=useThemeProps({props:ts,name:"MuiPickersSlideTransition"}),{children:rs,className:is,reduceAnimations:os,transKey:ss}=ns,as=_objectWithoutPropertiesLoose$3(ns,_excluded$d),ls=useUtilityClasses$b(ns),cs=useTheme$1();if(os)return jsxRuntimeExports.jsx("div",{className:clsx(ls.root,is),children:rs});const us={exit:ls.exit,enterActive:ls.enterActive,enter:ls.enter,exitActive:ls.exitActive};return jsxRuntimeExports.jsx(PickersSlideTransitionRoot,{className:clsx(ls.root,is),childFactory:ds=>reactExports.cloneElement(ds,{classNames:us}),role:"presentation",children:jsxRuntimeExports.jsx(CSSTransition$1,_extends$a({mountOnEnter:!0,unmountOnExit:!0,timeout:cs.transitions.duration.complex,classNames:us},as,{children:rs}),ss)})}const getDayCalendarUtilityClass=ts=>generateUtilityClass("MuiDayCalendar",ts);generateUtilityClasses("MuiDayCalendar",["root","header","weekDayLabel","loadingContainer","slideTransition","monthContainer","weekContainer","weekNumberLabel","weekNumber"]);const _excluded$c=["parentProps","day","focusableDay","selectedDays","isDateDisabled","currentMonthNumber","isViewFocused"],_excluded2$2=["ownerState"],useUtilityClasses$a=ts=>{const{classes:ns}=ts;return composeClasses({root:["root"],header:["header"],weekDayLabel:["weekDayLabel"],loadingContainer:["loadingContainer"],slideTransition:["slideTransition"],monthContainer:["monthContainer"],weekContainer:["weekContainer"],weekNumberLabel:["weekNumberLabel"],weekNumber:["weekNumber"]},getDayCalendarUtilityClass,ns)},weeksContainerHeight=(DAY_SIZE+DAY_MARGIN*2)*6,PickersCalendarDayRoot=styled$2("div",{name:"MuiDayCalendar",slot:"Root",overridesResolver:(ts,ns)=>ns.root})({}),PickersCalendarDayHeader=styled$2("div",{name:"MuiDayCalendar",slot:"Header",overridesResolver:(ts,ns)=>ns.header})({display:"flex",justifyContent:"center",alignItems:"center"}),PickersCalendarWeekDayLabel=styled$2(Typography$1,{name:"MuiDayCalendar",slot:"WeekDayLabel",overridesResolver:(ts,ns)=>ns.weekDayLabel})(({theme:ts})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:(ts.vars||ts).palette.text.secondary})),PickersCalendarWeekNumberLabel=styled$2(Typography$1,{name:"MuiDayCalendar",slot:"WeekNumberLabel",overridesResolver:(ts,ns)=>ns.weekNumberLabel})(({theme:ts})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:ts.palette.text.disabled})),PickersCalendarWeekNumber=styled$2(Typography$1,{name:"MuiDayCalendar",slot:"WeekNumber",overridesResolver:(ts,ns)=>ns.weekNumber})(({theme:ts})=>_extends$a({},ts.typography.caption,{width:DAY_SIZE,height:DAY_SIZE,padding:0,margin:"0 ".concat(DAY_MARGIN,"px"),color:ts.palette.text.disabled,fontSize:"0.75rem",alignItems:"center",justifyContent:"center",display:"inline-flex"})),PickersCalendarLoadingContainer=styled$2("div",{name:"MuiDayCalendar",slot:"LoadingContainer",overridesResolver:(ts,ns)=>ns.loadingContainer})({display:"flex",justifyContent:"center",alignItems:"center",minHeight:weeksContainerHeight}),PickersCalendarSlideTransition=styled$2(PickersSlideTransition,{name:"MuiDayCalendar",slot:"SlideTransition",overridesResolver:(ts,ns)=>ns.slideTransition})({minHeight:weeksContainerHeight}),PickersCalendarWeekContainer=styled$2("div",{name:"MuiDayCalendar",slot:"MonthContainer",overridesResolver:(ts,ns)=>ns.monthContainer})({overflow:"hidden"}),PickersCalendarWeek=styled$2("div",{name:"MuiDayCalendar",slot:"WeekContainer",overridesResolver:(ts,ns)=>ns.weekContainer})({margin:"".concat(DAY_MARGIN,"px 0"),display:"flex",justifyContent:"center"});function WrappedDay(ts){var As;let{parentProps:ns,day:rs,focusableDay:is,selectedDays:os,isDateDisabled:ss,currentMonthNumber:as,isViewFocused:ls}=ts,cs=_objectWithoutPropertiesLoose$3(ts,_excluded$c);const{disabled:us,disableHighlightToday:ds,isMonthSwitchingAnimating:ps,showDaysOutsideCurrentMonth:hs,slots:ms,slotProps:gs,timezone:ys}=ns,vs=useUtils(),bs=useNow(ys),Ss=is!==null&&vs.isSameDay(rs,is),$s=os.some(Ms=>vs.isSameDay(Ms,rs)),Cs=vs.isSameDay(rs,bs),Es=(As=ms==null?void 0:ms.day)!=null?As:PickersDay,xs=useSlotProps({elementType:Es,externalSlotProps:gs==null?void 0:gs.day,additionalProps:_extends$a({disableHighlightToday:ds,showDaysOutsideCurrentMonth:hs,role:"gridcell",isAnimating:ps,"data-timestamp":vs.toJsDate(rs).valueOf()},cs),ownerState:_extends$a({},ns,{day:rs,selected:$s})}),ws=_objectWithoutPropertiesLoose$3(xs,_excluded2$2),ks=reactExports.useMemo(()=>us||ss(rs),[us,ss,rs]),Is=reactExports.useMemo(()=>vs.getMonth(rs)!==as,[vs,rs,as]),Ts=reactExports.useMemo(()=>{const Ms=vs.startOfMonth(vs.setMonth(rs,as));return hs?vs.isSameDay(rs,vs.startOfWeek(Ms)):vs.isSameDay(rs,Ms)},[as,rs,hs,vs]),Rs=reactExports.useMemo(()=>{const Ms=vs.endOfMonth(vs.setMonth(rs,as));return hs?vs.isSameDay(rs,vs.endOfWeek(Ms)):vs.isSameDay(rs,Ms)},[as,rs,hs,vs]);return jsxRuntimeExports.jsx(Es,_extends$a({},ws,{day:rs,disabled:ks,autoFocus:ls&&Ss,today:Cs,outsideCurrentMonth:Is,isFirstVisibleCell:Ts,isLastVisibleCell:Rs,selected:$s,tabIndex:Ss?0:-1,"aria-selected":$s,"aria-current":Cs?"date":void 0}))}function DayCalendar(ts){const ns=useThemeProps({props:ts,name:"MuiDayCalendar"}),rs=useUtils(),{onFocusedDayChange:is,className:os,currentMonth:ss,selectedDays:as,focusedDay:ls,loading:cs,onSelectedDaysChange:us,onMonthSwitchingAnimationEnd:ds,readOnly:ps,reduceAnimations:hs,renderLoading:ms=()=>jsxRuntimeExports.jsx("span",{children:"..."}),slideDirection:gs,TransitionProps:ys,disablePast:vs,disableFuture:bs,minDate:Ss,maxDate:$s,shouldDisableDate:Cs,shouldDisableMonth:Es,shouldDisableYear:xs,dayOfWeekFormatter:ws=Dl=>rs.format(Dl,"weekdayShort").charAt(0).toUpperCase(),hasFocus:ks,onFocusedViewChange:Is,gridLabelId:Ts,displayWeekNumber:Rs,fixedWeekNumber:As,autoFocus:Ms,timezone:Ls}=ns,Ds=useNow(Ls),Fs=useUtilityClasses$a(ns),Vs=useRtl(),Bs=useIsDateDisabled({shouldDisableDate:Cs,shouldDisableMonth:Es,shouldDisableYear:xs,minDate:Ss,maxDate:$s,disablePast:vs,disableFuture:bs,timezone:Ls}),Ws=usePickersTranslations(),[Os,Nl]=useControlled({name:"DayCalendar",state:"hasFocus",controlled:ks,default:Ms!=null?Ms:!1}),[$a,Ps]=reactExports.useState(()=>ls||Ds),Ys=useEventCallback(Dl=>{ps||us(Dl)}),Zs=Dl=>{Bs(Dl)||(is(Dl),Ps(Dl),Is==null||Is(!0),Nl(!0))},Us=useEventCallback((Dl,Ns)=>{switch(Dl.key){case"ArrowUp":Zs(rs.addDays(Ns,-7)),Dl.preventDefault();break;case"ArrowDown":Zs(rs.addDays(Ns,7)),Dl.preventDefault();break;case"ArrowLeft":{const Hs=rs.addDays(Ns,Vs?1:-1),Gs=rs.addMonths(Ns,Vs?1:-1),Js=findClosestEnabledDate({utils:rs,date:Hs,minDate:Vs?Hs:rs.startOfMonth(Gs),maxDate:Vs?rs.endOfMonth(Gs):Hs,isDateDisabled:Bs,timezone:Ls});Zs(Js||Hs),Dl.preventDefault();break}case"ArrowRight":{const Hs=rs.addDays(Ns,Vs?-1:1),Gs=rs.addMonths(Ns,Vs?-1:1),Js=findClosestEnabledDate({utils:rs,date:Hs,minDate:Vs?rs.startOfMonth(Gs):Hs,maxDate:Vs?Hs:rs.endOfMonth(Gs),isDateDisabled:Bs,timezone:Ls});Zs(Js||Hs),Dl.preventDefault();break}case"Home":Zs(rs.startOfWeek(Ns)),Dl.preventDefault();break;case"End":Zs(rs.endOfWeek(Ns)),Dl.preventDefault();break;case"PageUp":Zs(rs.addMonths(Ns,1)),Dl.preventDefault();break;case"PageDown":Zs(rs.addMonths(Ns,-1)),Dl.preventDefault();break}}),Ol=useEventCallback((Dl,Ns)=>Zs(Ns)),qs=useEventCallback((Dl,Ns)=>{Os&&rs.isSameDay($a,Ns)&&(Is==null||Is(!1))}),Fl=rs.getMonth(ss),Ll=rs.getYear(ss),$l=reactExports.useMemo(()=>as.filter(Dl=>!!Dl).map(Dl=>rs.startOfDay(Dl)),[rs,as]),Cl="".concat(Ll,"-").concat(Fl),wl=reactExports.useMemo(()=>reactExports.createRef(),[Cl]),Tl=rs.startOfWeek(Ds),xl=reactExports.useMemo(()=>{const Dl=rs.startOfMonth(ss),Ns=rs.endOfMonth(ss);return Bs($a)||rs.isAfterDay($a,Ns)||rs.isBeforeDay($a,Dl)?findClosestEnabledDate({utils:rs,date:$a,minDate:Dl,maxDate:Ns,disablePast:vs,disableFuture:bs,isDateDisabled:Bs,timezone:Ls}):$a},[ss,bs,vs,$a,Bs,rs,Ls]),Al=reactExports.useMemo(()=>{const Dl=rs.setTimezone(ss,Ls),Ns=rs.getWeekArray(Dl);let Hs=rs.addMonths(Dl,1);for(;As&&Ns.length<As;){const Gs=rs.getWeekArray(Hs),Js=rs.isSameDay(Ns[Ns.length-1][0],Gs[0][0]);Gs.slice(Js?1:0).forEach(El=>{Ns.length<As&&Ns.push(El)}),Hs=rs.addMonths(Hs,1)}return Ns},[ss,As,rs,Ls]);return jsxRuntimeExports.jsxs(PickersCalendarDayRoot,{role:"grid","aria-labelledby":Ts,className:Fs.root,children:[jsxRuntimeExports.jsxs(PickersCalendarDayHeader,{role:"row",className:Fs.header,children:[Rs&&jsxRuntimeExports.jsx(PickersCalendarWeekNumberLabel,{variant:"caption",role:"columnheader","aria-label":Ws.calendarWeekNumberHeaderLabel,className:Fs.weekNumberLabel,children:Ws.calendarWeekNumberHeaderText}),getWeekdays(rs,Ds).map((Dl,Ns)=>jsxRuntimeExports.jsx(PickersCalendarWeekDayLabel,{variant:"caption",role:"columnheader","aria-label":rs.format(rs.addDays(Tl,Ns),"weekday"),className:Fs.weekDayLabel,children:ws(Dl)},Ns.toString()))]}),cs?jsxRuntimeExports.jsx(PickersCalendarLoadingContainer,{className:Fs.loadingContainer,children:ms()}):jsxRuntimeExports.jsx(PickersCalendarSlideTransition,_extends$a({transKey:Cl,onExited:ds,reduceAnimations:hs,slideDirection:gs,className:clsx(os,Fs.slideTransition)},ys,{nodeRef:wl,children:jsxRuntimeExports.jsx(PickersCalendarWeekContainer,{ref:wl,role:"rowgroup",className:Fs.monthContainer,children:Al.map((Dl,Ns)=>jsxRuntimeExports.jsxs(PickersCalendarWeek,{role:"row",className:Fs.weekContainer,"aria-rowindex":Ns+1,children:[Rs&&jsxRuntimeExports.jsx(PickersCalendarWeekNumber,{className:Fs.weekNumber,role:"rowheader","aria-label":Ws.calendarWeekNumberAriaLabelText(rs.getWeekNumber(Dl[0])),children:Ws.calendarWeekNumberText(rs.getWeekNumber(Dl[0]))}),Dl.map((Hs,Gs)=>jsxRuntimeExports.jsx(WrappedDay,{parentProps:ns,day:Hs,selectedDays:$l,focusableDay:xl,onKeyDown:Us,onFocus:Ol,onBlur:qs,onDaySelect:Ys,isDateDisabled:Bs,currentMonthNumber:Fl,isViewFocused:Os,"aria-colindex":Gs+1},Hs.toString()))]},"week-".concat(Dl[0])))})}))]})}function getPickersMonthUtilityClass(ts){return generateUtilityClass("MuiPickersMonth",ts)}const pickersMonthClasses=generateUtilityClasses("MuiPickersMonth",["root","monthButton","disabled","selected"]),_excluded$b=["autoFocus","className","children","disabled","selected","value","tabIndex","onClick","onKeyDown","onFocus","onBlur","aria-current","aria-label","monthsPerRow","slots","slotProps"],useUtilityClasses$9=ts=>{const{disabled:ns,selected:rs,classes:is}=ts;return composeClasses({root:["root"],monthButton:["monthButton",ns&&"disabled",rs&&"selected"]},getPickersMonthUtilityClass,is)},PickersMonthRoot=styled$2("div",{name:"MuiPickersMonth",slot:"Root",overridesResolver:(ts,ns)=>[ns.root]})({display:"flex",alignItems:"center",justifyContent:"center",flexBasis:"33.3%",variants:[{props:{monthsPerRow:4},style:{flexBasis:"25%"}}]}),MonthCalendarButton=styled$2("button",{name:"MuiPickersMonth",slot:"MonthButton",overridesResolver:(ts,ns)=>[ns.monthButton,{["&.".concat(pickersMonthClasses.disabled)]:ns.disabled},{["&.".concat(pickersMonthClasses.selected)]:ns.selected}]})(({theme:ts})=>_extends$a({color:"unset",backgroundColor:"transparent",border:0,outline:0},ts.typography.subtitle1,{margin:"8px 0",height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:ts.vars?"rgba(".concat(ts.vars.palette.action.activeChannel," / ").concat(ts.vars.palette.action.hoverOpacity,")"):alpha$1(ts.palette.action.active,ts.palette.action.hoverOpacity)},"&:hover":{backgroundColor:ts.vars?"rgba(".concat(ts.vars.palette.action.activeChannel," / ").concat(ts.vars.palette.action.hoverOpacity,")"):alpha$1(ts.palette.action.active,ts.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},["&.".concat(pickersMonthClasses.disabled)]:{color:(ts.vars||ts).palette.text.secondary},["&.".concat(pickersMonthClasses.selected)]:{color:(ts.vars||ts).palette.primary.contrastText,backgroundColor:(ts.vars||ts).palette.primary.main,"&:focus, &:hover":{backgroundColor:(ts.vars||ts).palette.primary.dark}}})),PickersMonth=reactExports.memo(function ts(ns){var ws;const rs=useThemeProps({props:ns,name:"MuiPickersMonth"}),{autoFocus:is,className:os,children:ss,disabled:as,selected:ls,value:cs,tabIndex:us,onClick:ds,onKeyDown:ps,onFocus:hs,onBlur:ms,"aria-current":gs,"aria-label":ys,slots:vs,slotProps:bs}=rs,Ss=_objectWithoutPropertiesLoose$3(rs,_excluded$b),$s=reactExports.useRef(null),Cs=useUtilityClasses$9(rs);useEnhancedEffect$1(()=>{var ks;is&&((ks=$s.current)==null||ks.focus())},[is]);const Es=(ws=vs==null?void 0:vs.monthButton)!=null?ws:MonthCalendarButton,xs=useSlotProps({elementType:Es,externalSlotProps:bs==null?void 0:bs.monthButton,additionalProps:{children:ss,disabled:as,tabIndex:us,ref:$s,type:"button",role:"radio","aria-current":gs,"aria-checked":ls,"aria-label":ys,onClick:ks=>ds(ks,cs),onKeyDown:ks=>ps(ks,cs),onFocus:ks=>hs(ks,cs),onBlur:ks=>ms(ks,cs)},ownerState:rs,className:Cs.monthButton});return jsxRuntimeExports.jsx(PickersMonthRoot,_extends$a({className:clsx(Cs.root,os),ownerState:rs},Ss,{children:jsxRuntimeExports.jsx(Es,_extends$a({},xs))}))});function getMonthCalendarUtilityClass(ts){return generateUtilityClass("MuiMonthCalendar",ts)}generateUtilityClasses("MuiMonthCalendar",["root"]);const _excluded$a=["className","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","shouldDisableMonth","readOnly","disableHighlightToday","autoFocus","onMonthFocus","hasFocus","onFocusedViewChange","monthsPerRow","timezone","gridLabelId","slots","slotProps"],useUtilityClasses$8=ts=>{const{classes:ns}=ts;return composeClasses({root:["root"]},getMonthCalendarUtilityClass,ns)};function useMonthCalendarDefaultizedProps(ts,ns){const rs=useUtils(),is=useDefaultDates(),os=useThemeProps({props:ts,name:ns});return _extends$a({disableFuture:!1,disablePast:!1},os,{minDate:applyDefaultDate(rs,os.minDate,is.minDate),maxDate:applyDefaultDate(rs,os.maxDate,is.maxDate)})}const MonthCalendarRoot=styled$2("div",{name:"MuiMonthCalendar",slot:"Root",overridesResolver:(ts,ns)=>ns.root})({display:"flex",flexWrap:"wrap",alignContent:"stretch",padding:"0 4px",width:DIALOG_WIDTH,boxSizing:"border-box"}),MonthCalendar=reactExports.forwardRef(function ts(ns,rs){const is=useMonthCalendarDefaultizedProps(ns,"MuiMonthCalendar"),{className:os,value:ss,defaultValue:as,referenceDate:ls,disabled:cs,disableFuture:us,disablePast:ds,maxDate:ps,minDate:hs,onChange:ms,shouldDisableMonth:gs,readOnly:ys,autoFocus:vs=!1,onMonthFocus:bs,hasFocus:Ss,onFocusedViewChange:$s,monthsPerRow:Cs=3,timezone:Es,gridLabelId:xs,slots:ws,slotProps:ks}=is,Is=_objectWithoutPropertiesLoose$3(is,_excluded$a),{value:Ts,handleValueChange:Rs,timezone:As}=useControlledValueWithTimezone({name:"MonthCalendar",timezone:Es,value:ss,defaultValue:as,onChange:ms,valueManager:singleItemValueManager}),Ms=useNow(As),Ls=useRtl(),Ds=useUtils(),Fs=reactExports.useMemo(()=>singleItemValueManager.getInitialReferenceValue({value:Ts,utils:Ds,props:is,timezone:As,referenceDate:ls,granularity:SECTION_TYPE_GRANULARITY.month}),[]),Vs=is,Bs=useUtilityClasses$8(Vs),Ws=reactExports.useMemo(()=>Ds.getMonth(Ms),[Ds,Ms]),Os=reactExports.useMemo(()=>Ts!=null?Ds.getMonth(Ts):null,[Ts,Ds]),[Nl,$a]=reactExports.useState(()=>Os||Ds.getMonth(Fs)),[Ps,Ys]=useControlled({name:"MonthCalendar",state:"hasFocus",controlled:Ss,default:vs!=null?vs:!1}),Zs=useEventCallback(Cl=>{Ys(Cl),$s&&$s(Cl)}),Us=reactExports.useCallback(Cl=>{const wl=Ds.startOfMonth(ds&&Ds.isAfter(Ms,hs)?Ms:hs),Tl=Ds.startOfMonth(us&&Ds.isBefore(Ms,ps)?Ms:ps),xl=Ds.startOfMonth(Cl);return Ds.isBefore(xl,wl)||Ds.isAfter(xl,Tl)?!0:gs?gs(xl):!1},[us,ds,ps,hs,Ms,gs,Ds]),Ol=useEventCallback((Cl,wl)=>{if(ys)return;const Tl=Ds.setMonth(Ts!=null?Ts:Fs,wl);Rs(Tl)}),qs=useEventCallback(Cl=>{Us(Ds.setMonth(Ts!=null?Ts:Fs,Cl))||($a(Cl),Zs(!0),bs&&bs(Cl))});reactExports.useEffect(()=>{$a(Cl=>Os!==null&&Cl!==Os?Os:Cl)},[Os]);const Fl=useEventCallback((Cl,wl)=>{switch(Cl.key){case"ArrowUp":qs((12+wl-3)%12),Cl.preventDefault();break;case"ArrowDown":qs((12+wl+3)%12),Cl.preventDefault();break;case"ArrowLeft":qs((12+wl+(Ls?1:-1))%12),Cl.preventDefault();break;case"ArrowRight":qs((12+wl+(Ls?-1:1))%12),Cl.preventDefault();break}}),Ll=useEventCallback((Cl,wl)=>{qs(wl)}),$l=useEventCallback((Cl,wl)=>{Nl===wl&&Zs(!1)});return jsxRuntimeExports.jsx(MonthCalendarRoot,_extends$a({ref:rs,className:clsx(Bs.root,os),ownerState:Vs,role:"radiogroup","aria-labelledby":xs},Is,{children:getMonthsInYear(Ds,Ts!=null?Ts:Fs).map(Cl=>{const wl=Ds.getMonth(Cl),Tl=Ds.format(Cl,"monthShort"),xl=Ds.format(Cl,"month"),Al=wl===Os,Dl=cs||Us(Cl);return jsxRuntimeExports.jsx(PickersMonth,{selected:Al,value:wl,onClick:Ol,onKeyDown:Fl,autoFocus:Ps&&wl===Nl,disabled:Dl,tabIndex:wl===Nl&&!Dl?0:-1,onFocus:Ll,onBlur:$l,"aria-current":Ws===wl?"date":void 0,"aria-label":xl,monthsPerRow:Cs,slots:ws,slotProps:ks,children:Tl},Tl)})}))});function getPickersYearUtilityClass(ts){return generateUtilityClass("MuiPickersYear",ts)}const pickersYearClasses=generateUtilityClasses("MuiPickersYear",["root","yearButton","selected","disabled"]),_excluded$9=["autoFocus","className","children","disabled","selected","value","tabIndex","onClick","onKeyDown","onFocus","onBlur","aria-current","yearsPerRow","slots","slotProps"],useUtilityClasses$7=ts=>{const{disabled:ns,selected:rs,classes:is}=ts;return composeClasses({root:["root"],yearButton:["yearButton",ns&&"disabled",rs&&"selected"]},getPickersYearUtilityClass,is)},PickersYearRoot=styled$2("div",{name:"MuiPickersYear",slot:"Root",overridesResolver:(ts,ns)=>[ns.root]})({display:"flex",alignItems:"center",justifyContent:"center",flexBasis:"33.3%",variants:[{props:{yearsPerRow:4},style:{flexBasis:"25%"}}]}),YearCalendarButton=styled$2("button",{name:"MuiPickersYear",slot:"YearButton",overridesResolver:(ts,ns)=>[ns.yearButton,{["&.".concat(pickersYearClasses.disabled)]:ns.disabled},{["&.".concat(pickersYearClasses.selected)]:ns.selected}]})(({theme:ts})=>_extends$a({color:"unset",backgroundColor:"transparent",border:0,outline:0},ts.typography.subtitle1,{margin:"6px 0",height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:ts.vars?"rgba(".concat(ts.vars.palette.action.activeChannel," / ").concat(ts.vars.palette.action.focusOpacity,")"):alpha$1(ts.palette.action.active,ts.palette.action.focusOpacity)},"&:hover":{backgroundColor:ts.vars?"rgba(".concat(ts.vars.palette.action.activeChannel," / ").concat(ts.vars.palette.action.hoverOpacity,")"):alpha$1(ts.palette.action.active,ts.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},["&.".concat(pickersYearClasses.disabled)]:{color:(ts.vars||ts).palette.text.secondary},["&.".concat(pickersYearClasses.selected)]:{color:(ts.vars||ts).palette.primary.contrastText,backgroundColor:(ts.vars||ts).palette.primary.main,"&:focus, &:hover":{backgroundColor:(ts.vars||ts).palette.primary.dark}}})),PickersYear=reactExports.memo(function ts(ns){var xs;const rs=useThemeProps({props:ns,name:"MuiPickersYear"}),{autoFocus:is,className:os,children:ss,disabled:as,selected:ls,value:cs,tabIndex:us,onClick:ds,onKeyDown:ps,onFocus:hs,onBlur:ms,"aria-current":gs,slots:ys,slotProps:vs}=rs,bs=_objectWithoutPropertiesLoose$3(rs,_excluded$9),Ss=reactExports.useRef(null),$s=useUtilityClasses$7(rs);useEnhancedEffect$1(()=>{var ws;is&&((ws=Ss.current)==null||ws.focus())},[is]);const Cs=(xs=ys==null?void 0:ys.yearButton)!=null?xs:YearCalendarButton,Es=useSlotProps({elementType:Cs,externalSlotProps:vs==null?void 0:vs.yearButton,additionalProps:{children:ss,disabled:as,tabIndex:us,ref:Ss,type:"button",role:"radio","aria-current":gs,"aria-checked":ls,onClick:ws=>ds(ws,cs),onKeyDown:ws=>ps(ws,cs),onFocus:ws=>hs(ws,cs),onBlur:ws=>ms(ws,cs)},ownerState:rs,className:$s.yearButton});return jsxRuntimeExports.jsx(PickersYearRoot,_extends$a({className:clsx($s.root,os),ownerState:rs},bs,{children:jsxRuntimeExports.jsx(Cs,_extends$a({},Es))}))});function getYearCalendarUtilityClass(ts){return generateUtilityClass("MuiYearCalendar",ts)}generateUtilityClasses("MuiYearCalendar",["root"]);const _excluded$8=["autoFocus","className","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","readOnly","shouldDisableYear","disableHighlightToday","onYearFocus","hasFocus","onFocusedViewChange","yearsPerRow","timezone","gridLabelId","slots","slotProps"],useUtilityClasses$6=ts=>{const{classes:ns}=ts;return composeClasses({root:["root"]},getYearCalendarUtilityClass,ns)};function useYearCalendarDefaultizedProps(ts,ns){var ss;const rs=useUtils(),is=useDefaultDates(),os=useThemeProps({props:ts,name:ns});return _extends$a({disablePast:!1,disableFuture:!1},os,{yearsPerRow:(ss=os.yearsPerRow)!=null?ss:3,minDate:applyDefaultDate(rs,os.minDate,is.minDate),maxDate:applyDefaultDate(rs,os.maxDate,is.maxDate)})}const YearCalendarRoot=styled$2("div",{name:"MuiYearCalendar",slot:"Root",overridesResolver:(ts,ns)=>ns.root})({display:"flex",flexDirection:"row",flexWrap:"wrap",overflowY:"auto",height:"100%",padding:"0 4px",width:DIALOG_WIDTH,maxHeight:MAX_CALENDAR_HEIGHT,boxSizing:"border-box",position:"relative"}),YearCalendar=reactExports.forwardRef(function ts(ns,rs){const is=useYearCalendarDefaultizedProps(ns,"MuiYearCalendar"),{autoFocus:os,className:ss,value:as,defaultValue:ls,referenceDate:cs,disabled:us,disableFuture:ds,disablePast:ps,maxDate:hs,minDate:ms,onChange:gs,readOnly:ys,shouldDisableYear:vs,onYearFocus:bs,hasFocus:Ss,onFocusedViewChange:$s,yearsPerRow:Cs,timezone:Es,gridLabelId:xs,slots:ws,slotProps:ks}=is,Is=_objectWithoutPropertiesLoose$3(is,_excluded$8),{value:Ts,handleValueChange:Rs,timezone:As}=useControlledValueWithTimezone({name:"YearCalendar",timezone:Es,value:as,defaultValue:ls,onChange:gs,valueManager:singleItemValueManager}),Ms=useNow(As),Ls=useRtl(),Ds=useUtils(),Fs=reactExports.useMemo(()=>singleItemValueManager.getInitialReferenceValue({value:Ts,utils:Ds,props:is,timezone:As,referenceDate:cs,granularity:SECTION_TYPE_GRANULARITY.year}),[]),Vs=is,Bs=useUtilityClasses$6(Vs),Ws=reactExports.useMemo(()=>Ds.getYear(Ms),[Ds,Ms]),Os=reactExports.useMemo(()=>Ts!=null?Ds.getYear(Ts):null,[Ts,Ds]),[Nl,$a]=reactExports.useState(()=>Os||Ds.getYear(Fs)),[Ps,Ys]=useControlled({name:"YearCalendar",state:"hasFocus",controlled:Ss,default:os!=null?os:!1}),Zs=useEventCallback(Tl=>{Ys(Tl),$s&&$s(Tl)}),Us=reactExports.useCallback(Tl=>{if(ps&&Ds.isBeforeYear(Tl,Ms)||ds&&Ds.isAfterYear(Tl,Ms)||ms&&Ds.isBeforeYear(Tl,ms)||hs&&Ds.isAfterYear(Tl,hs))return!0;if(!vs)return!1;const xl=Ds.startOfYear(Tl);return vs(xl)},[ds,ps,hs,ms,Ms,vs,Ds]),Ol=useEventCallback((Tl,xl)=>{if(ys)return;const Al=Ds.setYear(Ts!=null?Ts:Fs,xl);Rs(Al)}),qs=useEventCallback(Tl=>{Us(Ds.setYear(Ts!=null?Ts:Fs,Tl))||($a(Tl),Zs(!0),bs==null||bs(Tl))});reactExports.useEffect(()=>{$a(Tl=>Os!==null&&Tl!==Os?Os:Tl)},[Os]);const Fl=useEventCallback((Tl,xl)=>{switch(Tl.key){case"ArrowUp":qs(xl-Cs),Tl.preventDefault();break;case"ArrowDown":qs(xl+Cs),Tl.preventDefault();break;case"ArrowLeft":qs(xl+(Ls?1:-1)),Tl.preventDefault();break;case"ArrowRight":qs(xl+(Ls?-1:1)),Tl.preventDefault();break}}),Ll=useEventCallback((Tl,xl)=>{qs(xl)}),$l=useEventCallback((Tl,xl)=>{Nl===xl&&Zs(!1)}),Cl=reactExports.useRef(null),wl=useForkRef(rs,Cl);return reactExports.useEffect(()=>{if(os||Cl.current===null)return;const Tl=Cl.current.querySelector('[tabindex="0"]');if(!Tl)return;const xl=Tl.offsetHeight,Al=Tl.offsetTop,Dl=Cl.current.clientHeight,Ns=Cl.current.scrollTop,Hs=Al+xl;xl>Dl||Al<Ns||(Cl.current.scrollTop=Hs-Dl/2-xl/2)},[os]),jsxRuntimeExports.jsx(YearCalendarRoot,_extends$a({ref:wl,className:clsx(Bs.root,ss),ownerState:Vs,role:"radiogroup","aria-labelledby":xs},Is,{children:Ds.getYearRange([ms,hs]).map(Tl=>{const xl=Ds.getYear(Tl),Al=xl===Os,Dl=us||Us(Tl);return jsxRuntimeExports.jsx(PickersYear,{selected:Al,value:xl,onClick:Ol,onKeyDown:Fl,autoFocus:Ps&&xl===Nl,disabled:Dl,tabIndex:xl===Nl&&!Dl?0:-1,onFocus:Ll,onBlur:$l,"aria-current":Ws===xl?"date":void 0,yearsPerRow:Cs,slots:ws,slotProps:ks,children:Ds.format(Tl,"year")},Ds.format(Tl,"year"))})}))}),getPickersCalendarHeaderUtilityClass=ts=>generateUtilityClass("MuiPickersCalendarHeader",ts),pickersCalendarHeaderClasses=generateUtilityClasses("MuiPickersCalendarHeader",["root","labelContainer","label","switchViewButton","switchViewIcon"]),_excluded$7=["slots","slotProps","currentMonth","disabled","disableFuture","disablePast","maxDate","minDate","onMonthChange","onViewChange","view","reduceAnimations","views","labelId","className","timezone","format"],_excluded2$1=["ownerState"],useUtilityClasses$5=ts=>{const{classes:ns}=ts;return composeClasses({root:["root"],labelContainer:["labelContainer"],label:["label"],switchViewButton:["switchViewButton"],switchViewIcon:["switchViewIcon"]},getPickersCalendarHeaderUtilityClass,ns)},PickersCalendarHeaderRoot=styled$2("div",{name:"MuiPickersCalendarHeader",slot:"Root",overridesResolver:(ts,ns)=>ns.root})({display:"flex",alignItems:"center",marginTop:12,marginBottom:4,paddingLeft:24,paddingRight:12,maxHeight:40,minHeight:40}),PickersCalendarHeaderLabelContainer=styled$2("div",{name:"MuiPickersCalendarHeader",slot:"LabelContainer",overridesResolver:(ts,ns)=>ns.labelContainer})(({theme:ts})=>_extends$a({display:"flex",overflow:"hidden",alignItems:"center",cursor:"pointer",marginRight:"auto"},ts.typography.body1,{fontWeight:ts.typography.fontWeightMedium})),PickersCalendarHeaderLabel=styled$2("div",{name:"MuiPickersCalendarHeader",slot:"Label",overridesResolver:(ts,ns)=>ns.label})({marginRight:6}),PickersCalendarHeaderSwitchViewButton=styled$2(IconButton$2,{name:"MuiPickersCalendarHeader",slot:"SwitchViewButton",overridesResolver:(ts,ns)=>ns.switchViewButton})({marginRight:"auto",variants:[{props:{view:"year"},style:{[".".concat(pickersCalendarHeaderClasses.switchViewIcon)]:{transform:"rotate(180deg)"}}}]}),PickersCalendarHeaderSwitchViewIcon=styled$2(ArrowDropDownIcon,{name:"MuiPickersCalendarHeader",slot:"SwitchViewIcon",overridesResolver:(ts,ns)=>ns.switchViewIcon})(({theme:ts})=>({willChange:"transform",transition:ts.transitions.create("transform"),transform:"rotate(0deg)"})),PickersCalendarHeader=reactExports.forwardRef(function ts(ns,rs){var Nl,$a;const is=usePickersTranslations(),os=useUtils(),ss=useThemeProps({props:ns,name:"MuiPickersCalendarHeader"}),{slots:as,slotProps:ls,currentMonth:cs,disabled:us,disableFuture:ds,disablePast:ps,maxDate:hs,minDate:ms,onMonthChange:gs,onViewChange:ys,view:vs,reduceAnimations:bs,views:Ss,labelId:$s,className:Cs,timezone:Es,format:xs="".concat(os.formats.month," ").concat(os.formats.year)}=ss,ws=_objectWithoutPropertiesLoose$3(ss,_excluded$7),ks=ss,Is=useUtilityClasses$5(ss),Ts=(Nl=as==null?void 0:as.switchViewButton)!=null?Nl:PickersCalendarHeaderSwitchViewButton,Rs=useSlotProps({elementType:Ts,externalSlotProps:ls==null?void 0:ls.switchViewButton,additionalProps:{size:"small","aria-label":is.calendarViewSwitchingButtonAriaLabel(vs)},ownerState:ks,className:Is.switchViewButton}),As=($a=as==null?void 0:as.switchViewIcon)!=null?$a:PickersCalendarHeaderSwitchViewIcon,Ms=useSlotProps({elementType:As,externalSlotProps:ls==null?void 0:ls.switchViewIcon,ownerState:ks,className:Is.switchViewIcon}),Ls=_objectWithoutPropertiesLoose$3(Ms,_excluded2$1),Ds=()=>gs(os.addMonths(cs,1),"left"),Fs=()=>gs(os.addMonths(cs,-1),"right"),Vs=useNextMonthDisabled(cs,{disableFuture:ds,maxDate:hs,timezone:Es}),Bs=usePreviousMonthDisabled(cs,{disablePast:ps,minDate:ms,timezone:Es}),Ws=()=>{if(!(Ss.length===1||!ys||us))if(Ss.length===2)ys(Ss.find(Ps=>Ps!==vs)||Ss[0]);else{const Ps=Ss.indexOf(vs)!==0?0:1;ys(Ss[Ps])}};if(Ss.length===1&&Ss[0]==="year")return null;const Os=os.formatByString(cs,xs);return jsxRuntimeExports.jsxs(PickersCalendarHeaderRoot,_extends$a({},ws,{ownerState:ks,className:clsx(Cs,Is.root),ref:rs,children:[jsxRuntimeExports.jsxs(PickersCalendarHeaderLabelContainer,{role:"presentation",onClick:Ws,ownerState:ks,"aria-live":"polite",className:Is.labelContainer,children:[jsxRuntimeExports.jsx(PickersFadeTransitionGroup,{reduceAnimations:bs,transKey:Os,children:jsxRuntimeExports.jsx(PickersCalendarHeaderLabel,{id:$s,ownerState:ks,className:Is.label,children:Os})}),Ss.length>1&&!us&&jsxRuntimeExports.jsx(Ts,_extends$a({},Rs,{children:jsxRuntimeExports.jsx(As,_extends$a({},Ls))}))]}),jsxRuntimeExports.jsx(Fade$1,{in:vs==="day",children:jsxRuntimeExports.jsx(PickersArrowSwitcher,{slots:as,slotProps:ls,onGoToPrevious:Fs,isPreviousDisabled:Bs,previousLabel:is.previousMonth,onGoToNext:Ds,isNextDisabled:Vs,nextLabel:is.nextMonth})})]}))}),PREFERS_REDUCED_MOTION="@media (prefers-reduced-motion: reduce)",mobileVersionMatches=typeof navigator<"u"&&navigator.userAgent.match(/android\s(\d+)|OS\s(\d+)/i),androidVersion=mobileVersionMatches&&mobileVersionMatches[1]?parseInt(mobileVersionMatches[1],10):null,iOSVersion=mobileVersionMatches&&mobileVersionMatches[2]?parseInt(mobileVersionMatches[2],10):null,slowAnimationDevices=androidVersion&&androidVersion<10||iOSVersion&&iOSVersion<13||!1,useDefaultReduceAnimations=()=>useMediaQuery(PREFERS_REDUCED_MOTION,{defaultMatches:!1})||slowAnimationDevices,getDateCalendarUtilityClass=ts=>generateUtilityClass("MuiDateCalendar",ts);generateUtilityClasses("MuiDateCalendar",["root","viewTransitionContainer"]);const _excluded$6=["autoFocus","onViewChange","value","defaultValue","referenceDate","disableFuture","disablePast","onChange","onYearChange","onMonthChange","reduceAnimations","shouldDisableDate","shouldDisableMonth","shouldDisableYear","view","views","openTo","className","disabled","readOnly","minDate","maxDate","disableHighlightToday","focusedView","onFocusedViewChange","showDaysOutsideCurrentMonth","fixedWeekNumber","dayOfWeekFormatter","slots","slotProps","loading","renderLoading","displayWeekNumber","yearsPerRow","monthsPerRow","timezone"],useUtilityClasses$4=ts=>{const{classes:ns}=ts;return composeClasses({root:["root"],viewTransitionContainer:["viewTransitionContainer"]},getDateCalendarUtilityClass,ns)};function useDateCalendarDefaultizedProps(ts,ns){var as,ls,cs,us,ds,ps,hs;const rs=useUtils(),is=useDefaultDates(),os=useDefaultReduceAnimations(),ss=useThemeProps({props:ts,name:ns});return _extends$a({},ss,{loading:(as=ss.loading)!=null?as:!1,disablePast:(ls=ss.disablePast)!=null?ls:!1,disableFuture:(cs=ss.disableFuture)!=null?cs:!1,openTo:(us=ss.openTo)!=null?us:"day",views:(ds=ss.views)!=null?ds:["year","day"],reduceAnimations:(ps=ss.reduceAnimations)!=null?ps:os,renderLoading:(hs=ss.renderLoading)!=null?hs:()=>jsxRuntimeExports.jsx("span",{children:"..."}),minDate:applyDefaultDate(rs,ss.minDate,is.minDate),maxDate:applyDefaultDate(rs,ss.maxDate,is.maxDate)})}const DateCalendarRoot=styled$2(PickerViewRoot,{name:"MuiDateCalendar",slot:"Root",overridesResolver:(ts,ns)=>ns.root})({display:"flex",flexDirection:"column",height:VIEW_HEIGHT}),DateCalendarViewTransitionContainer=styled$2(PickersFadeTransitionGroup,{name:"MuiDateCalendar",slot:"ViewTransitionContainer",overridesResolver:(ts,ns)=>ns.viewTransitionContainer})({}),DateCalendar=reactExports.forwardRef(function ts(ns,rs){var yl;const is=useUtils(),os=useId(),ss=useDateCalendarDefaultizedProps(ns,"MuiDateCalendar"),{autoFocus:as,onViewChange:ls,value:cs,defaultValue:us,referenceDate:ds,disableFuture:ps,disablePast:hs,onChange:ms,onYearChange:gs,onMonthChange:ys,reduceAnimations:vs,shouldDisableDate:bs,shouldDisableMonth:Ss,shouldDisableYear:$s,view:Cs,views:Es,openTo:xs,className:ws,disabled:ks,readOnly:Is,minDate:Ts,maxDate:Rs,disableHighlightToday:As,focusedView:Ms,onFocusedViewChange:Ls,showDaysOutsideCurrentMonth:Ds,fixedWeekNumber:Fs,dayOfWeekFormatter:Vs,slots:Bs,slotProps:Ws,loading:Os,renderLoading:Nl,displayWeekNumber:$a,yearsPerRow:Ps,monthsPerRow:Ys,timezone:Zs}=ss,Us=_objectWithoutPropertiesLoose$3(ss,_excluded$6),{value:Ol,handleValueChange:qs,timezone:Fl}=useControlledValueWithTimezone({name:"DateCalendar",timezone:Zs,value:cs,defaultValue:us,onChange:ms,valueManager:singleItemValueManager}),{view:Ll,setView:$l,focusedView:Cl,setFocusedView:wl,goToNextView:Tl,setValueAndGoToNextView:xl}=useViews({view:Cs,views:Es,openTo:xs,onChange:qs,onViewChange:ls,autoFocus:as,focusedView:Ms,onFocusedViewChange:Ls}),{referenceDate:Al,calendarState:Dl,changeFocusedDay:Ns,changeMonth:Hs,handleChangeMonth:Gs,isDateDisabled:Js,onMonthSwitchingAnimationEnd:El}=useCalendarState({value:Ol,referenceDate:ds,reduceAnimations:vs,onMonthChange:ys,minDate:Ts,maxDate:Rs,shouldDisableDate:bs,disablePast:hs,disableFuture:ps,timezone:Fl}),Xs=ks&&Ol||Ts,_l=ks&&Ol||Rs,Bl="".concat(os,"-grid-label"),Ks=Cl!==null,Sl=(yl=Bs==null?void 0:Bs.calendarHeader)!=null?yl:PickersCalendarHeader,Il=useSlotProps({elementType:Sl,externalSlotProps:Ws==null?void 0:Ws.calendarHeader,additionalProps:{views:Es,view:Ll,currentMonth:Dl.currentMonth,onViewChange:$l,onMonthChange:(Rl,Jl)=>Gs({newMonth:Rl,direction:Jl}),minDate:Xs,maxDate:_l,disabled:ks,disablePast:hs,disableFuture:ps,reduceAnimations:vs,timezone:Fl,labelId:Bl},ownerState:ss}),Ml=useEventCallback(Rl=>{const Jl=is.startOfMonth(Rl),tu=is.endOfMonth(Rl),Xl=Js(Rl)?findClosestEnabledDate({utils:is,date:Rl,minDate:is.isBefore(Ts,Jl)?Jl:Ts,maxDate:is.isAfter(Rs,tu)?tu:Rs,disablePast:hs,disableFuture:ps,isDateDisabled:Js,timezone:Fl}):Rl;Xl?(xl(Xl,"finish"),ys==null||ys(Jl)):(Tl(),Hs(Jl)),Ns(Xl,!0)}),Kl=useEventCallback(Rl=>{const Jl=is.startOfYear(Rl),tu=is.endOfYear(Rl),Xl=Js(Rl)?findClosestEnabledDate({utils:is,date:Rl,minDate:is.isBefore(Ts,Jl)?Jl:Ts,maxDate:is.isAfter(Rs,tu)?tu:Rs,disablePast:hs,disableFuture:ps,isDateDisabled:Js,timezone:Fl}):Rl;Xl?(xl(Xl,"finish"),gs==null||gs(Xl)):(Tl(),Hs(Jl)),Ns(Xl,!0)}),Ql=useEventCallback(Rl=>qs(Rl&&mergeDateAndTime(is,Rl,Ol!=null?Ol:Al),"finish",Ll));reactExports.useEffect(()=>{Ol!=null&&is.isValid(Ol)&&Hs(Ol)},[Ol]);const Yl=ss,Gl=useUtilityClasses$4(Yl),iu={disablePast:hs,disableFuture:ps,maxDate:Rs,minDate:Ts},Vl={disableHighlightToday:As,readOnly:Is,disabled:ks,timezone:Fl,gridLabelId:Bl,slots:Bs,slotProps:Ws},Hl=reactExports.useRef(Ll);reactExports.useEffect(()=>{Hl.current!==Ll&&(Cl===Hl.current&&wl(Ll,!0),Hl.current=Ll)},[Cl,wl,Ll]);const zs=reactExports.useMemo(()=>[Ol],[Ol]);return jsxRuntimeExports.jsxs(DateCalendarRoot,_extends$a({ref:rs,className:clsx(Gl.root,ws),ownerState:Yl},Us,{children:[jsxRuntimeExports.jsx(Sl,_extends$a({},Il,{slots:Bs,slotProps:Ws})),jsxRuntimeExports.jsx(DateCalendarViewTransitionContainer,{reduceAnimations:vs,className:Gl.viewTransitionContainer,transKey:Ll,ownerState:Yl,children:jsxRuntimeExports.jsxs("div",{children:[Ll==="year"&&jsxRuntimeExports.jsx(YearCalendar,_extends$a({},iu,Vl,{value:Ol,onChange:Kl,shouldDisableYear:$s,hasFocus:Ks,onFocusedViewChange:Rl=>wl("year",Rl),yearsPerRow:Ps,referenceDate:Al})),Ll==="month"&&jsxRuntimeExports.jsx(MonthCalendar,_extends$a({},iu,Vl,{hasFocus:Ks,className:ws,value:Ol,onChange:Ml,shouldDisableMonth:Ss,onFocusedViewChange:Rl=>wl("month",Rl),monthsPerRow:Ys,referenceDate:Al})),Ll==="day"&&jsxRuntimeExports.jsx(DayCalendar,_extends$a({},Dl,iu,Vl,{onMonthSwitchingAnimationEnd:El,onFocusedDayChange:Ns,reduceAnimations:vs,selectedDays:zs,onSelectedDaysChange:Ql,shouldDisableDate:bs,shouldDisableMonth:Ss,shouldDisableYear:$s,hasFocus:Ks,onFocusedViewChange:Rl=>wl("day",Rl),showDaysOutsideCurrentMonth:Ds,fixedWeekNumber:Fs,dayOfWeekFormatter:Vs,displayWeekNumber:$a,loading:Os,renderLoading:Nl}))]})})]}))});function getPickersToolbarUtilityClass(ts){return generateUtilityClass("MuiPickersToolbar",ts)}generateUtilityClasses("MuiPickersToolbar",["root","content"]);const _excluded$5=["children","className","toolbarTitle","hidden","titleId","isLandscape","classes","landscapeDirection"],useUtilityClasses$3=ts=>{const{classes:ns,isLandscape:rs}=ts;return composeClasses({root:["root"],content:["content"],penIconButton:["penIconButton",rs&&"penIconButtonLandscape"]},getPickersToolbarUtilityClass,ns)},PickersToolbarRoot=styled$2("div",{name:"MuiPickersToolbar",slot:"Root",overridesResolver:(ts,ns)=>ns.root})(({theme:ts})=>({display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"space-between",padding:ts.spacing(2,3),variants:[{props:{isLandscape:!0},style:{height:"auto",maxWidth:160,padding:16,justifyContent:"flex-start",flexWrap:"wrap"}}]})),PickersToolbarContent=styled$2("div",{name:"MuiPickersToolbar",slot:"Content",overridesResolver:(ts,ns)=>ns.content})({display:"flex",flexWrap:"wrap",width:"100%",flex:1,justifyContent:"space-between",alignItems:"center",flexDirection:"row",variants:[{props:{isLandscape:!0},style:{justifyContent:"flex-start",alignItems:"flex-start",flexDirection:"column"}},{props:{isLandscape:!0,landscapeDirection:"row"},style:{flexDirection:"row"}}]}),PickersToolbar=reactExports.forwardRef(function ts(ns,rs){const is=useThemeProps({props:ns,name:"MuiPickersToolbar"}),{children:os,className:ss,toolbarTitle:as,hidden:ls,titleId:cs}=is,us=_objectWithoutPropertiesLoose$3(is,_excluded$5),ds=is,ps=useUtilityClasses$3(ds);return ls?null:jsxRuntimeExports.jsxs(PickersToolbarRoot,_extends$a({ref:rs,className:clsx(ps.root,ss),ownerState:ds},us,{children:[jsxRuntimeExports.jsx(Typography$1,{color:"text.secondary",variant:"overline",id:cs,children:as}),jsxRuntimeExports.jsx(PickersToolbarContent,{className:ps.content,ownerState:ds,children:os})]}))});function getDatePickerToolbarUtilityClass(ts){return generateUtilityClass("MuiDatePickerToolbar",ts)}generateUtilityClasses("MuiDatePickerToolbar",["root","title"]);const _excluded$4=["value","isLandscape","onChange","toolbarFormat","toolbarPlaceholder","views","className","onViewChange","view"],useUtilityClasses$2=ts=>{const{classes:ns}=ts;return composeClasses({root:["root"],title:["title"]},getDatePickerToolbarUtilityClass,ns)},DatePickerToolbarRoot=styled$2(PickersToolbar,{name:"MuiDatePickerToolbar",slot:"Root",overridesResolver:(ts,ns)=>ns.root})({}),DatePickerToolbarTitle=styled$2(Typography$1,{name:"MuiDatePickerToolbar",slot:"Title",overridesResolver:(ts,ns)=>ns.title})({variants:[{props:{isLandscape:!0},style:{margin:"auto 16px auto auto"}}]}),DatePickerToolbar=reactExports.forwardRef(function ts(ns,rs){const is=useThemeProps({props:ns,name:"MuiDatePickerToolbar"}),{value:os,isLandscape:ss,toolbarFormat:as,toolbarPlaceholder:ls="ââ",views:cs,className:us}=is,ds=_objectWithoutPropertiesLoose$3(is,_excluded$4),ps=useUtils(),hs=usePickersTranslations(),ms=useUtilityClasses$2(is),gs=reactExports.useMemo(()=>{if(!os)return ls;const vs=resolveDateFormat(ps,{format:as,views:cs},!0);return ps.formatByString(os,vs)},[os,as,ls,ps,cs]),ys=is;return jsxRuntimeExports.jsx(DatePickerToolbarRoot,_extends$a({ref:rs,toolbarTitle:hs.datePickerToolbarTitle,isLandscape:ss,className:clsx(ms.root,us)},ds,{children:jsxRuntimeExports.jsx(DatePickerToolbarTitle,{variant:"h4",align:ss?"left":"center",ownerState:ys,className:ms.title,children:gs})}))});function useDatePickerDefaultizedProps(ts,ns){var as,ls;const rs=useUtils(),is=useDefaultDates(),os=useThemeProps({props:ts,name:ns}),ss=reactExports.useMemo(()=>{var cs;return((cs=os.localeText)==null?void 0:cs.toolbarTitle)==null?os.localeText:_extends$a({},os.localeText,{datePickerToolbarTitle:os.localeText.toolbarTitle})},[os.localeText]);return _extends$a({},os,{localeText:ss},applyDefaultViewProps({views:os.views,openTo:os.openTo,defaultViews:["year","day"],defaultOpenTo:"day"}),{disableFuture:(as=os.disableFuture)!=null?as:!1,disablePast:(ls=os.disablePast)!=null?ls:!1,minDate:applyDefaultDate(rs,os.minDate,is.minDate),maxDate:applyDefaultDate(rs,os.maxDate,is.maxDate),slots:_extends$a({toolbar:DatePickerToolbar},os.slots)})}const useOpenState=({open:ts,onOpen:ns,onClose:rs})=>{const is=reactExports.useRef(typeof ts=="boolean").current,[os,ss]=reactExports.useState(!1);reactExports.useEffect(()=>{if(is){if(typeof ts!="boolean")throw new Error("You must not mix controlling and uncontrolled mode for `open` prop");ss(ts)}},[is,ts]);const as=reactExports.useCallback(ls=>{is||ss(ls),ls&&ns&&ns(),!ls&&rs&&rs()},[is,ns,rs]);return{isOpen:os,setIsOpen:as}},shouldPublishValue=ts=>{const{action:ns,hasChanged:rs,dateState:is,isControlled:os}=ts,ss=!os&&!is.hasBeenModifiedSinceMount;return ns.name==="setValueFromField"?!0:ns.name==="setValueFromAction"?ss&&["accept","today","clear"].includes(ns.pickerAction)?!0:rs(is.lastPublishedValue):ns.name==="setValueFromView"&&ns.selectionState!=="shallow"||ns.name==="setValueFromShortcut"?ss?!0:rs(is.lastPublishedValue):!1},shouldCommitValue=ts=>{const{action:ns,hasChanged:rs,dateState:is,isControlled:os,closeOnSelect:ss}=ts,as=!os&&!is.hasBeenModifiedSinceMount;return ns.name==="setValueFromAction"?as&&["accept","today","clear"].includes(ns.pickerAction)?!0:rs(is.lastCommittedValue):ns.name==="setValueFromView"&&ns.selectionState==="finish"&&ss?as?!0:rs(is.lastCommittedValue):ns.name==="setValueFromShortcut"?ns.changeImportance==="accept"&&rs(is.lastCommittedValue):!1},shouldClosePicker=ts=>{const{action:ns,closeOnSelect:rs}=ts;return ns.name==="setValueFromAction"?!0:ns.name==="setValueFromView"?ns.selectionState==="finish"&&rs:ns.name==="setValueFromShortcut"?ns.changeImportance==="accept":!1},usePickerValue=({props:ts,valueManager:ns,valueType:rs,wrapperVariant:is,validator:os})=>{const{onAccept:ss,onChange:as,value:ls,defaultValue:cs,closeOnSelect:us=is==="desktop",timezone:ds}=ts,{current:ps}=reactExports.useRef(cs),{current:hs}=reactExports.useRef(ls!==void 0),ms=useUtils(),gs=useLocalizationContext(),{isOpen:ys,setIsOpen:vs}=useOpenState(ts),{timezone:bs,value:Ss,handleValueChange:$s}=useValueWithTimezone({timezone:ds,value:ls,defaultValue:ps,onChange:as,valueManager:ns}),[Cs,Es]=reactExports.useState(()=>{let Ps;return Ss!==void 0?Ps=Ss:ps!==void 0?Ps=ps:Ps=ns.emptyValue,{draft:Ps,lastPublishedValue:Ps,lastCommittedValue:Ps,lastControlledValue:Ss,hasBeenModifiedSinceMount:!1}});useValidation(_extends$a({},ts,{value:Cs.draft,timezone:bs}),os,ns.isSameError,ns.defaultErrorState);const xs=useEventCallback(Ps=>{const Ys={action:Ps,dateState:Cs,hasChanged:Ll=>!ns.areValuesEqual(ms,Ps.value,Ll),isControlled:hs,closeOnSelect:us},Zs=shouldPublishValue(Ys),Us=shouldCommitValue(Ys),Ol=shouldClosePicker(Ys);Es(Ll=>_extends$a({},Ll,{draft:Ps.value,lastPublishedValue:Zs?Ps.value:Ll.lastPublishedValue,lastCommittedValue:Us?Ps.value:Ll.lastCommittedValue,hasBeenModifiedSinceMount:!0}));let qs=null;const Fl=()=>(qs||(qs={validationError:Ps.name==="setValueFromField"?Ps.context.validationError:os({adapter:gs,value:Ps.value,props:_extends$a({},ts,{value:Ps.value,timezone:bs})})},Ps.name==="setValueFromShortcut"&&(qs.shortcut=Ps.shortcut)),qs);Zs&&$s(Ps.value,Fl()),Us&&ss&&ss(Ps.value,Fl()),Ol&&vs(!1)});if(Ss!==void 0&&(Cs.lastControlledValue===void 0||!ns.areValuesEqual(ms,Cs.lastControlledValue,Ss))){const Ps=ns.areValuesEqual(ms,Cs.draft,Ss);Es(Ys=>_extends$a({},Ys,{lastControlledValue:Ss},Ps?{}:{lastCommittedValue:Ss,lastPublishedValue:Ss,draft:Ss,hasBeenModifiedSinceMount:!0}))}const ws=useEventCallback(()=>{xs({value:ns.emptyValue,name:"setValueFromAction",pickerAction:"clear"})}),ks=useEventCallback(()=>{xs({value:Cs.lastPublishedValue,name:"setValueFromAction",pickerAction:"accept"})}),Is=useEventCallback(()=>{xs({value:Cs.lastPublishedValue,name:"setValueFromAction",pickerAction:"dismiss"})}),Ts=useEventCallback(()=>{xs({value:Cs.lastCommittedValue,name:"setValueFromAction",pickerAction:"cancel"})}),Rs=useEventCallback(()=>{xs({value:ns.getTodayValue(ms,bs,rs),name:"setValueFromAction",pickerAction:"today"})}),As=useEventCallback(Ps=>{Ps.preventDefault(),vs(!0)}),Ms=useEventCallback(Ps=>{Ps==null||Ps.preventDefault(),vs(!1)}),Ls=useEventCallback((Ps,Ys="partial")=>xs({name:"setValueFromView",value:Ps,selectionState:Ys})),Ds=useEventCallback((Ps,Ys,Zs)=>xs({name:"setValueFromShortcut",value:Ps,changeImportance:Ys,shortcut:Zs})),Fs=useEventCallback((Ps,Ys)=>xs({name:"setValueFromField",value:Ps,context:Ys})),Vs={onClear:ws,onAccept:ks,onDismiss:Is,onCancel:Ts,onSetToday:Rs,onOpen:As,onClose:Ms},Bs={value:Cs.draft,onChange:Fs},Ws=reactExports.useMemo(()=>ns.cleanValue(ms,Cs.draft),[ms,ns,Cs.draft]),Os={value:Ws,onChange:Ls,onClose:Ms,open:ys},$a=_extends$a({},Vs,{value:Ws,onChange:Ls,onSelectShortcut:Ds,isValid:Ps=>{const Ys=os({adapter:gs,value:Ps,props:_extends$a({},ts,{value:Ps,timezone:bs})});return!ns.hasError(Ys)}});return{open:ys,fieldProps:Bs,viewProps:Os,layoutProps:$a,actions:Vs}},_excluded$3=["className","sx"],usePickerViews=({props:ts,propsFromPickerValue:ns,additionalViewProps:rs,autoFocusView:is,rendererInterceptor:os,fieldRef:ss})=>{const{onChange:as,open:ls,onClose:cs}=ns,{view:us,views:ds,openTo:ps,onViewChange:hs,viewRenderers:ms,timezone:gs}=ts,ys=_objectWithoutPropertiesLoose$3(ts,_excluded$3),{view:vs,setView:bs,defaultView:Ss,focusedView:$s,setFocusedView:Cs,setValueAndGoToNextView:Es}=useViews({view:us,views:ds,openTo:ps,onChange:as,onViewChange:hs,autoFocus:is}),{hasUIView:xs,viewModeLookup:ws}=reactExports.useMemo(()=>ds.reduce((Ls,Ds)=>{let Fs;return ms[Ds]!=null?Fs="UI":Fs="field",Ls.viewModeLookup[Ds]=Fs,Fs==="UI"&&(Ls.hasUIView=!0),Ls},{hasUIView:!1,viewModeLookup:{}}),[ms,ds]),ks=reactExports.useMemo(()=>ds.reduce((Ls,Ds)=>ms[Ds]!=null&&isTimeView(Ds)?Ls+1:Ls,0),[ms,ds]),Is=ws[vs],Ts=useEventCallback(()=>Is==="UI"),[Rs,As]=reactExports.useState(Is==="UI"?vs:null);return Rs!==vs&&ws[vs]==="UI"&&As(vs),useEnhancedEffect$1(()=>{Is==="field"&&ls&&(cs(),setTimeout(()=>{var Ls,Ds;(Ls=ss==null?void 0:ss.current)==null||Ls.setSelectedSections(vs),(Ds=ss==null?void 0:ss.current)==null||Ds.focusField(vs)}))},[vs]),useEnhancedEffect$1(()=>{if(!ls)return;let Ls=vs;Is==="field"&&Rs!=null&&(Ls=Rs),Ls!==Ss&&ws[Ls]==="UI"&&ws[Ss]==="UI"&&(Ls=Ss),Ls!==vs&&bs(Ls),Cs(Ls,!0)},[ls]),{hasUIView:xs,shouldRestoreFocus:Ts,layoutProps:{views:ds,view:Rs,onViewChange:bs},renderCurrentView:()=>{if(Rs==null)return null;const Ls=ms[Rs];if(Ls==null)return null;const Ds=_extends$a({},ys,rs,ns,{views:ds,timezone:gs,onChange:Es,view:Rs,onViewChange:bs,focusedView:$s,onFocusedViewChange:Cs,showViewSwitcher:ks>1,timeViewsCount:ks});return os?os(ms,Rs,Ds):Ls(Ds)}}};function getOrientation(){return typeof window>"u"?"portrait":window.screen&&window.screen.orientation&&window.screen.orientation.angle?Math.abs(window.screen.orientation.angle)===90?"landscape":"portrait":window.orientation&&Math.abs(Number(window.orientation))===90?"landscape":"portrait"}const useIsLandscape=(ts,ns)=>{const[rs,is]=reactExports.useState(getOrientation);return useEnhancedEffect$1(()=>{const ss=()=>{is(getOrientation())};return window.addEventListener("orientationchange",ss),()=>{window.removeEventListener("orientationchange",ss)}},[]),arrayIncludes(ts,["hours","minutes","seconds"])?!1:(ns||rs)==="landscape"},usePickerLayoutProps=({props:ts,propsFromPickerValue:ns,propsFromPickerViews:rs,wrapperVariant:is})=>{const{orientation:os}=ts,ss=useIsLandscape(rs.views,os),as=useRtl();return{layoutProps:_extends$a({},rs,ns,{isLandscape:ss,isRtl:as,wrapperVariant:is,disabled:ts.disabled,readOnly:ts.readOnly})}},usePicker=({props:ts,valueManager:ns,valueType:rs,wrapperVariant:is,additionalViewProps:os,validator:ss,autoFocusView:as,rendererInterceptor:ls,fieldRef:cs})=>{const us=usePickerValue({props:ts,valueManager:ns,valueType:rs,wrapperVariant:is,validator:ss}),ds=usePickerViews({props:ts,additionalViewProps:os,autoFocusView:as,fieldRef:cs,propsFromPickerValue:us.viewProps,rendererInterceptor:ls}),ps=usePickerLayoutProps({props:ts,wrapperVariant:is,propsFromPickerValue:us.layoutProps,propsFromPickerViews:ds.layoutProps});return{open:us.open,actions:us.actions,fieldProps:us.fieldProps,renderCurrentView:ds.renderCurrentView,hasUIView:ds.hasUIView,shouldRestoreFocus:ds.shouldRestoreFocus,layoutProps:ps.layoutProps}};function getPickersLayoutUtilityClass(ts){return generateUtilityClass("MuiPickersLayout",ts)}const pickersLayoutClasses=generateUtilityClasses("MuiPickersLayout",["root","landscape","contentWrapper","toolbar","actionBar","tabs","shortcuts"]),_excluded$2=["onAccept","onClear","onCancel","onSetToday","actions"];function PickersActionBar(ts){const{onAccept:ns,onClear:rs,onCancel:is,onSetToday:os,actions:ss}=ts,as=_objectWithoutPropertiesLoose$3(ts,_excluded$2),ls=usePickersTranslations();if(ss==null||ss.length===0)return null;const cs=ss==null?void 0:ss.map(us=>{switch(us){case"clear":return jsxRuntimeExports.jsx(Button$2,{onClick:rs,children:ls.clearButtonLabel},us);case"cancel":return jsxRuntimeExports.jsx(Button$2,{onClick:is,children:ls.cancelButtonLabel},us);case"accept":return jsxRuntimeExports.jsx(Button$2,{onClick:ns,children:ls.okButtonLabel},us);case"today":return jsxRuntimeExports.jsx(Button$2,{onClick:os,children:ls.todayButtonLabel},us);default:return null}});return jsxRuntimeExports.jsx(DialogActions$1,_extends$a({},as,{children:cs}))}const _excluded$1=["items","changeImportance","isLandscape","onChange","isValid"],_excluded2=["getValue"];function PickersShortcuts(ts){const{items:ns,changeImportance:rs="accept",onChange:is,isValid:os}=ts,ss=_objectWithoutPropertiesLoose$3(ts,_excluded$1);if(ns==null||ns.length===0)return null;const as=ns.map(ls=>{let{getValue:cs}=ls,us=_objectWithoutPropertiesLoose$3(ls,_excluded2);const ds=cs({isValid:os});return _extends$a({},us,{label:us.label,onClick:()=>{is(ds,rs,us)},disabled:!os(ds)})});return jsxRuntimeExports.jsx(List$1,_extends$a({dense:!0,sx:[{maxHeight:VIEW_HEIGHT,maxWidth:200,overflow:"auto"},...Array.isArray(ss.sx)?ss.sx:[ss.sx]]},ss,{children:as.map(ls=>{var cs;return jsxRuntimeExports.jsx(ListItem$1,{children:jsxRuntimeExports.jsx(Chip$1,_extends$a({},ls))},(cs=ls.id)!=null?cs:ls.label)})}))}function toolbarHasView(ts){return ts.view!==null}const useUtilityClasses$1=ts=>{const{classes:ns,isLandscape:rs}=ts;return composeClasses({root:["root",rs&&"landscape"],contentWrapper:["contentWrapper"],toolbar:["toolbar"],actionBar:["actionBar"],tabs:["tabs"],landscape:["landscape"],shortcuts:["shortcuts"]},getPickersLayoutUtilityClass,ns)},usePickerLayout=ts=>{var Fs,Vs;const{wrapperVariant:ns,onAccept:rs,onClear:is,onCancel:os,onSetToday:ss,view:as,views:ls,onViewChange:cs,value:us,onChange:ds,onSelectShortcut:ps,isValid:hs,isLandscape:ms,disabled:gs,readOnly:ys,children:vs,slots:bs,slotProps:Ss}=ts,$s=useUtilityClasses$1(ts),Cs=(Fs=bs==null?void 0:bs.actionBar)!=null?Fs:PickersActionBar,Es=useSlotProps({elementType:Cs,externalSlotProps:Ss==null?void 0:Ss.actionBar,additionalProps:{onAccept:rs,onClear:is,onCancel:os,onSetToday:ss,actions:ns==="desktop"?[]:["cancel","accept"]},className:$s.actionBar,ownerState:_extends$a({},ts,{wrapperVariant:ns})}),xs=jsxRuntimeExports.jsx(Cs,_extends$a({},Es)),ws=bs==null?void 0:bs.toolbar,ks=useSlotProps({elementType:ws,externalSlotProps:Ss==null?void 0:Ss.toolbar,additionalProps:{isLandscape:ms,onChange:ds,value:us,view:as,onViewChange:cs,views:ls,disabled:gs,readOnly:ys},className:$s.toolbar,ownerState:_extends$a({},ts,{wrapperVariant:ns})}),Is=toolbarHasView(ks)&&ws?jsxRuntimeExports.jsx(ws,_extends$a({},ks)):null,Ts=vs,Rs=bs==null?void 0:bs.tabs,As=as&&Rs?jsxRuntimeExports.jsx(Rs,_extends$a({view:as,onViewChange:cs,className:$s.tabs},Ss==null?void 0:Ss.tabs)):null,Ms=(Vs=bs==null?void 0:bs.shortcuts)!=null?Vs:PickersShortcuts,Ls=useSlotProps({elementType:Ms,externalSlotProps:Ss==null?void 0:Ss.shortcuts,additionalProps:{isValid:hs,isLandscape:ms,onChange:ps},className:$s.shortcuts,ownerState:{isValid:hs,isLandscape:ms,onChange:ps,wrapperVariant:ns}}),Ds=as&&Ms?jsxRuntimeExports.jsx(Ms,_extends$a({},Ls)):null;return{toolbar:Is,content:Ts,tabs:As,actionBar:xs,shortcuts:Ds}},usePickerLayout$1=usePickerLayout,useUtilityClasses=ts=>{const{isLandscape:ns,classes:rs}=ts;return composeClasses({root:["root",ns&&"landscape"],contentWrapper:["contentWrapper"]},getPickersLayoutUtilityClass,rs)},PickersLayoutRoot=styled$2("div",{name:"MuiPickersLayout",slot:"Root",overridesResolver:(ts,ns)=>ns.root})({display:"grid",gridAutoColumns:"max-content auto max-content",gridAutoRows:"max-content auto max-content",["& .".concat(pickersLayoutClasses.actionBar)]:{gridColumn:"1 / 4",gridRow:3},variants:[{props:{isLandscape:!0},style:{["& .".concat(pickersLayoutClasses.toolbar)]:{gridColumn:1,gridRow:"2 / 3"},[".".concat(pickersLayoutClasses.shortcuts)]:{gridColumn:"2 / 4",gridRow:1}}},{props:{isLandscape:!0,isRtl:!0},style:{["& .".concat(pickersLayoutClasses.toolbar)]:{gridColumn:3}}},{props:{isLandscape:!1},style:{["& .".concat(pickersLayoutClasses.toolbar)]:{gridColumn:"2 / 4",gridRow:1},["& .".concat(pickersLayoutClasses.shortcuts)]:{gridColumn:1,gridRow:"2 / 3"}}},{props:{isLandscape:!1,isRtl:!0},style:{["& .".concat(pickersLayoutClasses.shortcuts)]:{gridColumn:3}}}]}),PickersLayoutContentWrapper=styled$2("div",{name:"MuiPickersLayout",slot:"ContentWrapper",overridesResolver:(ts,ns)=>ns.contentWrapper})({gridColumn:2,gridRow:2,display:"flex",flexDirection:"column"}),PickersLayout=reactExports.forwardRef(function ts(ns,rs){const is=useThemeProps({props:ns,name:"MuiPickersLayout"}),{toolbar:os,content:ss,tabs:as,actionBar:ls,shortcuts:cs}=usePickerLayout$1(is),{sx:us,className:ds,isLandscape:ps,wrapperVariant:hs}=is,ms=useUtilityClasses(is);return jsxRuntimeExports.jsxs(PickersLayoutRoot,{ref:rs,sx:us,className:clsx(ds,ms.root),ownerState:is,children:[ps?cs:os,ps?os:cs,jsxRuntimeExports.jsx(PickersLayoutContentWrapper,{className:ms.contentWrapper,children:hs==="desktop"?jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[ss,as]}):jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[as,ss]})}),ls]})}),renderDateViewCalendar=({view:ts,onViewChange:ns,views:rs,focusedView:is,onFocusedViewChange:os,value:ss,defaultValue:as,referenceDate:ls,onChange:cs,className:us,classes:ds,disableFuture:ps,disablePast:hs,minDate:ms,maxDate:gs,shouldDisableDate:ys,shouldDisableMonth:vs,shouldDisableYear:bs,reduceAnimations:Ss,onMonthChange:$s,monthsPerRow:Cs,onYearChange:Es,yearsPerRow:xs,slots:ws,slotProps:ks,loading:Is,renderLoading:Ts,disableHighlightToday:Rs,readOnly:As,disabled:Ms,showDaysOutsideCurrentMonth:Ls,dayOfWeekFormatter:Ds,sx:Fs,autoFocus:Vs,fixedWeekNumber:Bs,displayWeekNumber:Ws,timezone:Os})=>jsxRuntimeExports.jsx(DateCalendar,{view:ts,onViewChange:ns,views:rs.filter(isDatePickerView),focusedView:is&&isDatePickerView(is)?is:null,onFocusedViewChange:os,value:ss,defaultValue:as,referenceDate:ls,onChange:cs,className:us,classes:ds,disableFuture:ps,disablePast:hs,minDate:ms,maxDate:gs,shouldDisableDate:ys,shouldDisableMonth:vs,shouldDisableYear:bs,reduceAnimations:Ss,onMonthChange:$s,monthsPerRow:Cs,onYearChange:Es,yearsPerRow:xs,slots:ws,slotProps:ks,loading:Is,renderLoading:Ts,disableHighlightToday:Rs,readOnly:As,disabled:Ms,showDaysOutsideCurrentMonth:Ls,dayOfWeekFormatter:Ds,sx:Fs,autoFocus:Vs,fixedWeekNumber:Bs,displayWeekNumber:Ws,timezone:Os}),_excluded=["props","ref"],PickerStaticLayout=styled$2(PickersLayout)(({theme:ts})=>({overflow:"hidden",minWidth:DIALOG_WIDTH,backgroundColor:(ts.vars||ts).palette.background.paper})),useStaticPicker=ts=>{var ys;let{props:ns,ref:rs}=ts,is=_objectWithoutPropertiesLoose$3(ts,_excluded);const{localeText:os,slots:ss,slotProps:as,className:ls,sx:cs,displayStaticWrapperAs:us,autoFocus:ds}=ns,{layoutProps:ps,renderCurrentView:hs}=usePicker(_extends$a({},is,{props:ns,autoFocusView:ds!=null?ds:!1,fieldRef:void 0,additionalViewProps:{},wrapperVariant:us})),ms=(ys=ss==null?void 0:ss.layout)!=null?ys:PickerStaticLayout;return{renderPicker:()=>{var vs,bs,Ss;return jsxRuntimeExports.jsx(LocalizationProvider,{localeText:os,children:jsxRuntimeExports.jsx(ms,_extends$a({},ps,as==null?void 0:as.layout,{slots:ss,slotProps:as,sx:[...Array.isArray(cs)?cs:[cs],...Array.isArray((vs=as==null?void 0:as.layout)==null?void 0:vs.sx)?as.layout.sx:[(bs=as==null?void 0:as.layout)==null?void 0:bs.sx]],className:clsx(ls,(Ss=as==null?void 0:as.layout)==null?void 0:Ss.className),ref:rs,children:hs()}))})}}},StaticDatePicker=reactExports.forwardRef(function ts(ns,rs){var cs,us,ds;const is=useDatePickerDefaultizedProps(ns,"MuiStaticDatePicker"),os=(cs=is.displayStaticWrapperAs)!=null?cs:"mobile",ss=_extends$a({day:renderDateViewCalendar,month:renderDateViewCalendar,year:renderDateViewCalendar},is.viewRenderers),as=_extends$a({},is,{viewRenderers:ss,displayStaticWrapperAs:os,yearsPerRow:(us=is.yearsPerRow)!=null?us:os==="mobile"?3:4,slotProps:_extends$a({},is.slotProps,{toolbar:_extends$a({hidden:os==="desktop"},(ds=is.slotProps)==null?void 0:ds.toolbar)})}),{renderPicker:ls}=useStaticPicker({props:as,valueManager:singleItemValueManager,valueType:"date",validator:validateDate,ref:rs});return ls()});StaticDatePicker.propTypes={autoFocus:PropTypes.bool,className:PropTypes.string,dayOfWeekFormatter:PropTypes.func,defaultValue:PropTypes.object,disabled:PropTypes.bool,disableFuture:PropTypes.bool,disableHighlightToday:PropTypes.bool,disablePast:PropTypes.bool,displayStaticWrapperAs:PropTypes.oneOf(["desktop","mobile"]),displayWeekNumber:PropTypes.bool,fixedWeekNumber:PropTypes.number,loading:PropTypes.bool,localeText:PropTypes.object,maxDate:PropTypes.object,minDate:PropTypes.object,monthsPerRow:PropTypes.oneOf([3,4]),onAccept:PropTypes.func,onChange:PropTypes.func,onClose:PropTypes.func,onError:PropTypes.func,onMonthChange:PropTypes.func,onViewChange:PropTypes.func,onYearChange:PropTypes.func,openTo:PropTypes.oneOf(["day","month","year"]),orientation:PropTypes.oneOf(["landscape","portrait"]),readOnly:PropTypes.bool,reduceAnimations:PropTypes.bool,referenceDate:PropTypes.object,renderLoading:PropTypes.func,shouldDisableDate:PropTypes.func,shouldDisableMonth:PropTypes.func,shouldDisableYear:PropTypes.func,showDaysOutsideCurrentMonth:PropTypes.bool,slotProps:PropTypes.object,slots:PropTypes.object,sx:PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func,PropTypes.object,PropTypes.bool])),PropTypes.func,PropTypes.object]),timezone:PropTypes.string,value:PropTypes.object,view:PropTypes.oneOf(["day","month","year"]),viewRenderers:PropTypes.shape({day:PropTypes.func,month:PropTypes.func,year:PropTypes.func}),views:PropTypes.arrayOf(PropTypes.oneOf(["day","month","year"]).isRequired),yearsPerRow:PropTypes.oneOf([3,4])};const formatTokenMap={y:{sectionType:"year",contentType:"digit",maxLength:4},yy:"year",yyyy:{sectionType:"year",contentType:"digit",maxLength:4},L:{sectionType:"month",contentType:"digit",maxLength:2},LL:"month",LLL:{sectionType:"month",contentType:"letter"},LLLL:{sectionType:"month",contentType:"letter"},M:{sectionType:"month",contentType:"digit",maxLength:2},MM:"month",MMM:{sectionType:"month",contentType:"letter"},MMMM:{sectionType:"month",contentType:"letter"},d:{sectionType:"day",contentType:"digit",maxLength:2},dd:"day",c:{sectionType:"weekDay",contentType:"digit",maxLength:1},ccc:{sectionType:"weekDay",contentType:"letter"},cccc:{sectionType:"weekDay",contentType:"letter"},E:{sectionType:"weekDay",contentType:"digit",maxLength:2},EEE:{sectionType:"weekDay",contentType:"letter"},EEEE:{sectionType:"weekDay",contentType:"letter"},a:"meridiem",H:{sectionType:"hours",contentType:"digit",maxLength:2},HH:"hours",h:{sectionType:"hours",contentType:"digit",maxLength:2},hh:"hours",m:{sectionType:"minutes",contentType:"digit",maxLength:2},mm:"minutes",s:{sectionType:"seconds",contentType:"digit",maxLength:2},ss:"seconds"},defaultFormats={year:"yyyy",month:"LLLL",monthShort:"MMM",dayOfMonth:"d",dayOfMonthFull:"d",weekday:"cccc",weekdayShort:"ccccc",hours24h:"HH",hours12h:"hh",meridiem:"a",minutes:"mm",seconds:"ss",fullDate:"DD",keyboardDate:"D",shortDate:"MMM d",normalDate:"d MMMM",normalDateWithWeekday:"EEE, MMM d",fullTime:"t",fullTime12h:"hh:mm a",fullTime24h:"HH:mm",keyboardDateTime:"D t",keyboardDateTime12h:"D hh:mm a",keyboardDateTime24h:"D T"};class AdapterLuxon{constructor({locale:ns,formats:rs}={}){this.isMUIAdapter=!0,this.isTimezoneCompatible=!0,this.lib="luxon",this.locale=void 0,this.formats=void 0,this.escapedCharacters={start:"'",end:"'"},this.formatTokenMap=formatTokenMap,this.setLocaleToValue=is=>{const os=this.getCurrentLocaleCode();return os===is.locale?is:is.setLocale(os)},this.date=(is,os="default")=>is===null?null:typeof is>"u"?DateTime.fromJSDate(new Date,{locale:this.locale,zone:os}):DateTime.fromISO(is,{locale:this.locale,zone:os}),this.getInvalidDate=()=>DateTime.fromJSDate(new Date("Invalid Date")),this.getTimezone=is=>is.zone.type==="system"?"system":is.zoneName,this.setTimezone=(is,os)=>is.zone.equals(Info$1.normalizeZone(os))?is:is.setZone(os),this.toJsDate=is=>is.toJSDate(),this.parse=(is,os)=>is===""?null:DateTime.fromFormat(is,os,{locale:this.locale}),this.getCurrentLocaleCode=()=>this.locale,this.is12HourCycleInCurrentLocale=()=>{var is,os;return typeof Intl>"u"||typeof Intl.DateTimeFormat>"u"?!0:!!((os=(is=new Intl.DateTimeFormat(this.locale,{hour:"numeric"}))==null?void 0:is.resolvedOptions())!=null&&os.hour12)},this.expandFormat=is=>{const os=/''|'(''|[^'])+('|$)|[^']*/g,ss=[...Object.keys(this.formatTokenMap),"yyyyy"],as=new RegExp("^(".concat(ss.join("|"),")+$")),ls=/(?:^|[^a-z])([a-z]+)(?:[^a-z]|$)|([a-z]+)/gi;return is.match(os).map(cs=>cs[0]==="'"?cs:DateTime.expandFormat(cs,{locale:this.locale}).replace(ls,(ps,hs,ms)=>{const gs=hs||ms;return as.test(gs)?ps:"'".concat(ps,"'")})).join("").replace("yyyyy","yyyy")},this.isValid=is=>is===null?!1:is.isValid,this.format=(is,os)=>this.formatByString(is,this.formats[os]),this.formatByString=(is,os)=>is.setLocale(this.locale).toFormat(os),this.formatNumber=is=>is,this.isEqual=(is,os)=>is===null&&os===null?!0:is===null||os===null?!1:+is==+os,this.isSameYear=(is,os)=>{const ss=this.setTimezone(os,this.getTimezone(is));return is.hasSame(ss,"year")},this.isSameMonth=(is,os)=>{const ss=this.setTimezone(os,this.getTimezone(is));return is.hasSame(ss,"month")},this.isSameDay=(is,os)=>{const ss=this.setTimezone(os,this.getTimezone(is));return is.hasSame(ss,"day")},this.isSameHour=(is,os)=>{const ss=this.setTimezone(os,this.getTimezone(is));return is.hasSame(ss,"hour")},this.isAfter=(is,os)=>is>os,this.isAfterYear=(is,os)=>{const ss=this.setTimezone(os,this.getTimezone(is));return is.diff(this.endOfYear(ss),"years").toObject().years>0},this.isAfterDay=(is,os)=>{const ss=this.setTimezone(os,this.getTimezone(is));return is.diff(this.endOfDay(ss),"days").toObject().days>0},this.isBefore=(is,os)=>is<os,this.isBeforeYear=(is,os)=>{const ss=this.setTimezone(os,this.getTimezone(is));return is.diff(this.startOfYear(ss),"years").toObject().years<0},this.isBeforeDay=(is,os)=>{const ss=this.setTimezone(os,this.getTimezone(is));return is.diff(this.startOfDay(ss),"days").toObject().days<0},this.isWithinRange=(is,[os,ss])=>this.isEqual(is,os)||this.isEqual(is,ss)||this.isAfter(is,os)&&this.isBefore(is,ss),this.startOfYear=is=>is.startOf("year"),this.startOfMonth=is=>is.startOf("month"),this.startOfWeek=is=>is.startOf("week",{useLocaleWeeks:!0}),this.startOfDay=is=>is.startOf("day"),this.endOfYear=is=>is.endOf("year"),this.endOfMonth=is=>is.endOf("month"),this.endOfWeek=is=>is.endOf("week",{useLocaleWeeks:!0}),this.endOfDay=is=>is.endOf("day"),this.addYears=(is,os)=>is.plus({years:os}),this.addMonths=(is,os)=>is.plus({months:os}),this.addWeeks=(is,os)=>is.plus({weeks:os}),this.addDays=(is,os)=>is.plus({days:os}),this.addHours=(is,os)=>is.plus({hours:os}),this.addMinutes=(is,os)=>is.plus({minutes:os}),this.addSeconds=(is,os)=>is.plus({seconds:os}),this.getYear=is=>is.get("year"),this.getMonth=is=>is.get("month")-1,this.getDate=is=>is.get("day"),this.getHours=is=>is.get("hour"),this.getMinutes=is=>is.get("minute"),this.getSeconds=is=>is.get("second"),this.getMilliseconds=is=>is.get("millisecond"),this.setYear=(is,os)=>is.set({year:os}),this.setMonth=(is,os)=>is.set({month:os+1}),this.setDate=(is,os)=>is.set({day:os}),this.setHours=(is,os)=>is.set({hour:os}),this.setMinutes=(is,os)=>is.set({minute:os}),this.setSeconds=(is,os)=>is.set({second:os}),this.setMilliseconds=(is,os)=>is.set({millisecond:os}),this.getDaysInMonth=is=>is.daysInMonth,this.getWeekArray=is=>{const os=this.setLocaleToValue(is),ss=this.startOfWeek(this.startOfMonth(os)),as=this.endOfWeek(this.endOfMonth(os)),{days:ls}=as.diff(ss,"days").toObject(),cs=[];return new Array(Math.round(ls)).fill(0).map((us,ds)=>ds).map(us=>ss.plus({days:us})).forEach((us,ds)=>{if(ds===0||ds%7===0&&ds>6){cs.push([us]);return}cs[cs.length-1].push(us)}),cs},this.getWeekNumber=is=>{var os;return(os=is.localWeekNumber)!=null?os:is.weekNumber},this.getDayOfWeek=is=>is.weekday,this.getYearRange=([is,os])=>{const ss=this.startOfYear(is),as=this.endOfYear(os),ls=[];let cs=ss;for(;this.isBefore(cs,as);)ls.push(cs),cs=this.addYears(cs,1);return ls},this.locale=ns||"en-US",this.formats=_extends$a({},defaultFormats,rs)}}const TabPanel=ts=>{const{children:ns,value:rs,index:is,...os}=ts;return jsxRuntimeExports.jsx("div",{role:"tabpanel",hidden:rs!==is,id:"appointment-picker-tabpanel-".concat(is),"aria-labelledby":"appointment-picker-tab-".concat(is),...os,children:rs===is&&jsxRuntimeExports.jsx(Box$1,{sx:{pt:3,pb:3},children:ns})})},tabProps=ts=>({id:"appointment-picker-tab-".concat(ts),"aria-controls":"appointment-picker-tabpanel-".concat(ts)}),nextAvailableFrom=(ts,ns,rs)=>{const is=ns.find(os=>{const ss=DateTime.fromISO(os,{zone:rs});return ss.ordinal===ts.ordinal?!1:ss>ts});if(is)return DateTime.fromISO(is,{zone:rs})},Schedule=({slotData:ts,timezone:ns})=>{var Es;const rs=useTheme$1(),{selectedSlot:is,setAppointment:os}=useAppointmentStore(xs=>xs),[ss,as]=reactExports.useState(0),[ls,cs]=reactExports.useMemo(()=>{if(ts){const xs=[...ts],ws=xs.reduce((ks,Is)=>{const Ts=DateTime.fromISO(Is,{zone:ns}),Rs=ks[Ts.ordinal];return Rs?Rs.push(Is):ks[Ts.ordinal]=[Is],ks},{});return[xs,ws]}return[[],{}]},[ns,ts]),[us,ds]=reactExports.useState(getBestTimezone()),{firstAvailableDay:ps,secondAvailableDay:hs,lastSlotDate:ms}=reactExports.useMemo(()=>{let xs,ws;if(ts==null||ts.length===0)return{firstAvailableDay:xs,secondAvailableDay:ws,lastSlot:void 0};xs=createLocalDateTime(DateTime.fromISO(ts[0]),us),xs&&(ws=nextAvailableFrom(xs,ts,us));const ks=DateTime.fromISO(ts[ts.length-1]);return{firstAvailableDay:xs,secondAvailableDay:ws,lastSlotDate:ks}},[us,ts]),gs=reactExports.useMemo(()=>ts&&ts[0]?is===ts[0]:!1,[is,ts]),ys=(xs,ws)=>{as(ws)},[vs,bs]=reactExports.useState();reactExports.useEffect(()=>{vs===void 0&&hs!=null&&ts&&bs(nextAvailableFrom(hs,ts,us))},[us,hs,vs,ts]);const Ss=reactExports.useMemo(()=>ss===0?ps:hs&&ss===1?hs:vs||ps,[ss,ps,hs,vs]),$s=reactExports.useCallback(xs=>{var ws;return xs===void 0?[]:(ws=cs[xs.ordinal])!=null?ws:[]},[cs]),Cs=useMediaQuery("(max-width: ".concat((Es=breakpoints$1.values)==null?void 0:Es.sm,"px)"));return ls.length===0?jsxRuntimeExports.jsx(Typography$1,{variant:"body1",children:"There are no slots available"}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"},justifyContent:"space-between",alignItems:{xs:"flex-start",md:"center"},mt:3},children:[jsxRuntimeExports.jsx(Typography$1,{variant:"h3",color:"secondary",children:"Select date and time"}),jsxRuntimeExports.jsx(FormControl$1,{sx:{pt:{xs:1,md:0},width:"150px"},children:jsxRuntimeExports.jsx(Select$2,{variant:"standard",labelId:"select-timezone-label",id:"select-timezone",value:us,label:"Timezone",sx:{height:"25px"},MenuProps:{disableScrollLock:!0},onChange:xs=>{ds(xs.target.value)},renderValue:xs=>jsxRuntimeExports.jsxs(RenderLabelFromSelect,{styles:{color:rs.palette.text.secondary},children:["Time zone: ",findLabelFromOptions(xs,availableTimezones(Ss))]}),children:availableTimezones(Ss).map(xs=>{const{value:ws,label:ks}=xs;return jsxRuntimeExports.jsx(MenuItem$1,{value:ws,children:ks},ws)})})})]}),ls&&Ss!=null?jsxRuntimeExports.jsxs(Button$2,{variant:gs?"contained":"outlined",sx:{color:gs?rs.palette.primary.contrastText:rs.palette.text.primary,border:gs?"1px solid ".concat(rs.palette.primary.main):"1px solid ".concat(rs.palette.divider),p:1,borderRadius:"8px",textAlign:"center",mt:2.5,mb:1.5,width:"100%",fontWeight:400,display:{xs:"block",md:"inline"}},onClick:()=>os({selectedSlot:ls[0]}),type:"button",children:[jsxRuntimeExports.jsx("span",{style:{fontWeight:700},children:"First available time:Â "}),Cs&&jsxRuntimeExports.jsx("br",{}),ps==null?void 0:ps.toFormat(DATETIME_FULL_NO_YEAR)]}):jsxRuntimeExports.jsx(Box$1,{sx:{border:"1px solid ".concat(rs.palette.divider),p:1,borderRadius:"8px",textAlign:"center",mt:1},children:jsxRuntimeExports.jsx(Typography$1,{variant:"body2",children:"Calculating first available time..."})}),ps!=null?jsxRuntimeExports.jsxs(Box$1,{children:[jsxRuntimeExports.jsx(Box$1,{sx:{width:"100%"},children:jsxRuntimeExports.jsxs(Tabs$1,{value:ss,onChange:ys,TabIndicatorProps:{style:{background:rs.palette.info.main,height:"5px",borderRadius:"2.5px"}},textColor:"inherit",variant:"fullWidth","aria-label":"Appointment tabs for switching between views of today, tomorrow, and other dates.",children:[jsxRuntimeExports.jsx(Tab$1,{label:ps.toLocaleString(DateTime.DATE_MED),...tabProps(0),sx:{color:ss==0?rs.palette.secondary.main:rs.palette.text.secondary,opacity:1}}),hs&&jsxRuntimeExports.jsx(Tab$1,{label:hs.toLocaleString(DateTime.DATE_MED),...tabProps(1),sx:{color:ss==1?rs.palette.secondary.main:rs.palette.text.secondary,opacity:1}}),jsxRuntimeExports.jsx(Tab$1,{label:"Other dates",...tabProps(2),sx:{color:ss==2?rs.palette.secondary.main:rs.palette.text.secondary,opacity:1}})]})}),jsxRuntimeExports.jsxs(Box$1,{children:[jsxRuntimeExports.jsxs(TabPanel,{value:ss,index:0,dir:rs.direction,children:[jsxRuntimeExports.jsx(Typography$1,{variant:"h3",color:"#000000",sx:{textAlign:"center"},children:ps.toLocaleString(DateTime.DATE_HUGE)}),jsxRuntimeExports.jsx(SelectSlot,{slots:$s(ps),timezone:us})]}),hs&&jsxRuntimeExports.jsxs(TabPanel,{value:ss,index:1,dir:rs.direction,children:[jsxRuntimeExports.jsx(Typography$1,{variant:"h3",color:"#000000",sx:{textAlign:"center"},children:hs.toLocaleString(DateTime.DATE_HUGE)}),jsxRuntimeExports.jsx(SelectSlot,{slots:$s(hs),timezone:us})]}),ps&&ms&&jsxRuntimeExports.jsxs(TabPanel,{value:ss,index:hs?2:1,dir:rs.direction,children:[jsxRuntimeExports.jsx(LocalizationProvider,{dateAdapter:AdapterLuxon,children:jsxRuntimeExports.jsx(StaticDatePicker,{displayStaticWrapperAs:"desktop",views:["month","day"],value:Ss!=null?Ss:null,onChange:xs=>{xs!=null&&bs(xs)},shouldDisableDate:xs=>cs[xs.ordinal]==null,minDate:ps.minus({days:1}),maxDate:ms.plus({months:1})})}),jsxRuntimeExports.jsx(Typography$1,{variant:"h3",color:"#000000",sx:{textAlign:"center"},children:Ss?Ss.toLocaleString(DateTime.DATE_HUGE):"Unknown date"}),jsxRuntimeExports.jsx(SelectSlot,{slots:$s(Ss),timezone:us})]})]})]}):jsxRuntimeExports.jsx(Typography$1,{variant:"body2",m:1,textAlign:"center",children:"Loading..."})]})},Welcome=()=>{const ts=useNavigate(),ns=useZapEHRAPIClient({tokenless:!0}),rs=useParams(),{"schedule-type":is,slug:os,"visit-type":ss,"visit-service":as}=rs,[ls,cs]=reactExports.useState(!1),{selectedSlot:us,setAppointment:ds}=useAppointmentStore(ys=>ys);if(!os)throw new Error("slug is not defined");if(!is)throw new Error("schedule-type is not defined");const{data:ps,isFetching:hs,isError:ms}=useGetSchedule(ns,is,os,!!ns);reactExports.useEffect(()=>{ds({scheduleType:is,visitType:ss,visitService:as}),ss==="now"&&ds({selectedSlot:DateTime.now().toISO()})},[as,ds,ss,is]),reactExports.useEffect(()=>{ds({locationID:ps==null?void 0:ps.locationID,providerID:ps==null?void 0:ps.providerID,groupID:ps==null?void 0:ps.groupID})},[ps==null?void 0:ps.groupID,ps==null?void 0:ps.locationID,ps==null?void 0:ps.providerID,ds]);const gs=()=>{us?ts(IntakeFlowPageRoute.AuthPage.path):cs(!0)};return jsxRuntimeExports.jsxs(CustomContainer,{title:"Ottehr ".concat(as),subtitle:hs?"Loading...":ps==null?void 0:ps.name,img:clockFullColor,imgAlt:"Clock icon",imgWidth:120,bgVariant:IntakeFlowPageRoute.NewUser.path,isFirstPage:!0,children:[hs&&jsxRuntimeExports.jsx(Typography$1,{variant:"body1",children:"Loading..."}),!hs&&!ms&&!ps&&jsxRuntimeExports.jsxs(Typography$1,{variant:"body1",children:['The schedule "',os,'" is not found']}),ps&&!ps.available&&jsxRuntimeExports.jsxs(Typography$1,{variant:"body1",children:['The schedule "',os,'" is not available']}),ps&&!["in-person","telemedicine"].includes(as||"")&&jsxRuntimeExports.jsxs(Typography$1,{variant:"body1",children:['The service "',as,'" is not available']}),ms&&jsxRuntimeExports.jsx(Typography$1,{variant:"body1",children:"There was an error getting the schedule. Please refresh and if you still get errors contact us."}),!hs&&ps&&ps.available&&["in-person","telemedicine"].includes(as||"")&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Typography$1,{variant:"body1",children:"We're pleased to offer this new technology for accessing care. You will need to enter your information again just once. Next time you return, it will all be here for you!"}),ss==="prebook"&&jsxRuntimeExports.jsx(Schedule,{slotData:ps.availableSlots,timezone:"America/New_York"}),jsxRuntimeExports.jsx(Box$3,{sx:{display:"flex",justifyContent:"flex-end"},children:jsxRuntimeExports.jsx(Button$2,{variant:"contained",color:"primary",size:"large",className:"next-button",type:"submit",sx:{mt:2},onClick:gs,children:"Continue"})})]}),jsxRuntimeExports.jsx(ErrorDialog,{open:ls,title:"Please select a date and time",description:"To continue, please select an available appointment.",closeButtonText:"Close",handleClose:()=>cs(!1)})]})},FORM_ELEMENTS_FIELDS={challengeDay:{label:"Date of birth day",name:"challengeDay"},challengeMonth:{label:"Date of birth month",name:"challengeMonth"},challengeYear:{label:"Date of birth year",name:"challengeYear"}},{challengeDay,challengeMonth,challengeYear}=FORM_ELEMENTS_FIELDS,ConfirmDateOfBirth=()=>{const ts=useNavigate(),ns=useZapEHRAPIClient(),rs=useUpdateAppointmentMutation(),[is,os]=reactExports.useState(!1),ss=useCreateAppointmentMutation(),[as,ls]=reactExports.useState(!1),{appointmentID:cs}=getSelectors(useAppointmentStore,["appointmentID"]),{patchCompletedPaperwork:us,setQuestions:ds}=getSelectors(usePaperworkStore,["patchCompletedPaperwork","setQuestions"]),ps=useGetPaperwork(Ts=>{us(Ts.paperwork),ds(Ts.questions),Is()},{staleTime:0,enabled:as}),[hs,ms]=reactExports.useState(!1),{pendingPatientInfoUpdates:gs,patientInfo:ys}=getSelectors(usePatientInfoStore,["pendingPatientInfoUpdates","patientInfo"]),vs={...ys,...gs},[bs,Ss]=reactExports.useState(),$s=[{type:"Date",name:"challengeDateOfBirth",label:"Date of birth",required:!0,fieldMap:{day:challengeDay.name,month:challengeMonth.name,year:challengeYear.name},fields:[{type:"Date Year",name:challengeYear.name,label:"Patient's year of birth"},{type:"Date Month",name:challengeMonth.name,label:"Patient's month of birth"},{type:"Date Day",name:challengeDay.name,label:"Patient's day of birth"}]}],Cs=reactExports.useCallback(Ts=>{Ss(Ts)},[]),Es=reactExports.useMemo(()=>{const Ts=bs==null?void 0:bs[challengeMonth.name],Rs=bs==null?void 0:bs[challengeDay.name],As=bs==null?void 0:bs[challengeYear.name];if(Ts&&Rs&&As)return"".concat(Ts,"/").concat(Rs,"/").concat(As)},[bs]),xs=(Ts=!1)=>{if(!ns)throw new Error("apiClient is not defined");cs?rs.mutate({appointmentID:cs,apiClient:ns,patientInfo:vs},{onSuccess:Rs=>{console.log("Appointment updated successfully",Rs),usePatientInfoStore.setState(()=>({patientInfo:vs,pendingPatientInfoUpdates:void 0})),Promise.resolve().then(()=>Is())},onError:Rs=>{os(!0),safelyCaptureException(Rs)}}):ss.mutate({apiClient:ns,patientInfo:vs,unconfirmedDateOfBirth:Ts},{onSuccess:async Rs=>{useAppointmentStore.setState(()=>({appointmentID:Rs.appointmentId}));const As={...vs,id:Rs.patientId||vs.id};usePatientInfoStore.setState(()=>({pendingPatientInfoUpdates:void 0,patientInfo:As})),Promise.resolve().then(()=>Is())},onError:Rs=>{safelyCaptureException(Rs)}})},ws=()=>{const Ts=DateTime.fromFormat(yupDateTransform(Es)||"","yyyy-MM-dd"),Rs=DateTime.fromFormat(yupDateTransform(vs.dateOfBirth)||"","yyyy-MM-dd");Ts.equals(Rs)?Is():ms(!0)},ks=()=>{Is(),ms(!1)},Is=()=>{const{pendingPatientInfoUpdates:Ts}=usePatientInfoStore.getState(),{appointmentID:Rs}=useAppointmentStore.getState(),{paperworkQuestions:As}=usePaperworkStore.getState();if(Ts||!Rs){xs(Es!==(vs==null?void 0:vs.dateOfBirth));return}as&&As&&As.length>0?ts("/paperwork/".concat(As==null?void 0:As[0].slug)):ls(!0)};return jsxRuntimeExports.jsx(CustomContainer,{title:"Confirm ".concat(vs!=null&&vs.firstName?"".concat(vs==null?void 0:vs.firstName,"'s"):"patientâs"," date of birth"),bgVariant:IntakeFlowPageRoute.ConfirmDateOfBirth.path,children:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(PageForm,{formElements:$s,controlButtons:{submitLabel:"Continue",loading:ps.isLoading||ss.isLoading},onSubmit:ws,onFormValuesChange:Cs}),jsxRuntimeExports.jsx(Dialog$1,{open:hs,onClose:()=>ms(!1),sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:jsxRuntimeExports.jsx(Paper$1,{children:jsxRuntimeExports.jsxs(Box$1,{sx:{m:{md:5,xs:3},maxWidth:"sm"},children:[jsxRuntimeExports.jsx(Typography$1,{sx:{width:"100%"},variant:"h2",color:"primary.main",children:"Unfortunately, this patient record is not confirmed."}),jsxRuntimeExports.jsxs(Typography$1,{sx:{mt:2},children:["This date of birth",Es?" (".concat(Es,")"):""," doesnât match the selected patient profile",vs!=null&&vs.firstName?" (".concat(vs==null?void 0:vs.firstName,")"):"","."]}),jsxRuntimeExports.jsx(Typography$1,{sx:{mt:1},children:"You can try again or continue and verify DOB at check-in."}),jsxRuntimeExports.jsxs(Box$1,{display:"flex",flexDirection:{xs:"column",md:"row"},sx:{justifyContent:"space-between",mt:4.125},gap:{xs:2},children:[jsxRuntimeExports.jsx(Button$2,{variant:"outlined",onClick:ks,color:"primary",size:"large",type:"submit",children:"Continue anyway"}),jsxRuntimeExports.jsx(Button$2,{variant:"contained",onClick:()=>ms(!1),size:"large",type:"button",children:"Try again"})]})]})})}),jsxRuntimeExports.jsx(ErrorDialog,{open:is,title:"Error",description:"An error occured. Please, try again in a moment.",closeButtonText:"Close",handleClose:()=>os(!1)})]})})},FinancialPolicyDialog=({onClose:ts})=>jsxRuntimeExports.jsxs(CustomDialog,{open:!0,onClose:ts,maxWidth:"md",children:[jsxRuntimeExports.jsx(Typography$1,{variant:"h2",color:"primary.main",sx:{mb:2},children:"Financial Policy"}),jsxRuntimeExports.jsx(Box$1,{sx:{display:"flex",flexDirection:"column",gap:2},children:jsxRuntimeExports.jsxs(Typography$1,{variant:"body2",children:["Our facility is committed to making payment as convenient as possible for our patients. Our policy is to collect payments via credit card, flexible spending card, cash, or check at the time of service. If you have insurance, our verification system will indicate whether you have an unmet deductible and determine your expected payment.",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),"At the time of your visit, you will be asked to review and sign our Card on File form. Afterwards, we keep your payment method on file with our HIPAA-compliant, secure credit card processor in the event there is additional patient responsibility. For your protection, only a portion of your card will be visible in our computer system.",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),"Once your insurance company has processed your claims, they will send an Explanation of Benefits (EOB) to both you and our office, showing your total patient responsibility. Upon receipt of the EOB, our billing department will determine if there is a remaining balance based on your insurance companyâs adjustment/payment. If there is an additional balance, you will receive an email with the amount due. We will charge the card on file 5 days after this initial email. If you disagree with the patient amount owed, please contact your insurance carrier immediately.",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),"If you do not pay in full at the time of service and/or provide a payment method to be placed on file, you/your child may not be seen. Please contact our billing department should you have any questions."]})}),jsxRuntimeExports.jsx(PageForm,{onSubmit:ts,controlButtons:{submitLabel:"Ok",backButton:!1}})]}),ThankYou=()=>{const ts=useTheme$1(),[ns,rs]=reactExports.useState(!1),[is,os]=reactExports.useState(!1),{selectedSlot:ss}=getSelectors(useAppointmentStore,["selectedSlot"]),as=ss?DateTime.fromISO(ss).toFormat("d MMMM HH:mm"):"";return jsxRuntimeExports.jsx(CustomContainer,{title:"Thank you for choosing Ottehr Telemedicine",description:"We look forward to helping you soon!",bgVariant:IntakeFlowPageRoute.PatientPortal.path,children:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Divider$1,{}),jsxRuntimeExports.jsx(Grid$1,{container:!0,alignItems:"center",marginTop:2,marginBottom:2,children:jsxRuntimeExports.jsx(Grid$1,{item:!0,xs:12,md:9.5,children:jsxRuntimeExports.jsxs(Typography$1,{variant:"subtitle1",color:"text.primary",children:["Your check-in time is booked for: ",as]})})}),jsxRuntimeExports.jsx(Divider$1,{sx:{marginBottom:2}}),is&&jsxRuntimeExports.jsx(CancelVisitDialog,{onClose:()=>os(!1)}),jsxRuntimeExports.jsx(Button$2,{startIcon:jsxRuntimeExports.jsx(EventBusyOutlined,{}),sx:{marginLeft:1.5},onClick:()=>os(!0),children:"Cancel"}),jsxRuntimeExports.jsx(Typography$1,{variant:"body2",marginTop:2,children:"You will receive a confirmation email and SMS for your upcoming check-in time shortly. If you need to make any changes, please follow the instructions in the email."}),jsxRuntimeExports.jsx("div",{style:{backgroundColor:otherColors.lightBlue,padding:17,borderRadius:8,marginTop:25,marginBottom:25},children:jsxRuntimeExports.jsxs(Typography$1,{variant:"body2",children:["All patients that present with commercial insurance will be required to leave a credit card on file. More details on our financial policy can be found"," ",jsxRuntimeExports.jsx("span",{style:{cursor:"pointer",color:ts.palette.primary.main,textDecoration:"underline"},onClick:()=>rs(!0),children:"here"}),"."]})}),jsxRuntimeExports.jsxs(Typography$1,{variant:"body2",marginTop:2,children:["If you have any questions or concerns, please call our team at: ",jsxRuntimeExports.jsx("strong",{children:"(123) 456-7890"}),"."]}),ns&&jsxRuntimeExports.jsx(FinancialPolicyDialog,{onClose:()=>rs(!1)})]})})};setupSentry({dsn:"",environment:"production",networkDetailAllowUrls:[]});const MIXPANEL_SETTINGS={token:"",registerProps:{appname:"Telemed QRS"}};setupMixpanel(MIXPANEL_SETTINGS);const queryClient=new QueryClient({defaultOptions:{queries:{refetchOnWindowFocus:!1}}}),cu=class cu{constructor(ns,rs){this.path=ns,this.page=rs}};vu(cu,"PatientPortal",new cu("/patient-portal",jsxRuntimeExports.jsx(PatientPortal,{}))),vu(cu,"SelectPatient",new cu("/select-patient",jsxRuntimeExports.jsx(SelectPatient,{}))),vu(cu,"PastVisits",new cu("/past-visits",jsxRuntimeExports.jsx(PastVisits,{}))),vu(cu,"VisitDetails",new cu("/visit-details",jsxRuntimeExports.jsx(VisitDetails,{}))),vu(cu,"CreateAccount",new cu("/create-account",jsxRuntimeExports.jsx(CreateAccount,{}))),vu(cu,"PatientInformation",new cu("/about-patient",jsxRuntimeExports.jsx(PatientInformation,{}))),vu(cu,"ConfirmDateOfBirth",new cu("/confirm-date-of-birth",jsxRuntimeExports.jsx(ConfirmDateOfBirth,{}))),vu(cu,"AuthPage",new cu("/auth",jsxRuntimeExports.jsx(AuthPage,{}))),vu(cu,"Welcome",new cu("/:schedule-type/:slug/:visit-service/:visit-type",jsxRuntimeExports.jsx(Welcome,{}))),vu(cu,"NewUser",new cu("/new-user",jsxRuntimeExports.jsx(NewUser,{}))),vu(cu,"PatientCondition",new cu("/paperwork/patient-condition",jsxRuntimeExports.jsx(PatientCondition,{}))),vu(cu,"PaperworkPage",new cu("/paperwork/:slug",jsxRuntimeExports.jsx(PaperworkPage,{}))),vu(cu,"WaitingRoom",new cu("/waiting-room",jsxRuntimeExports.jsx(WaitingRoom,{}))),vu(cu,"InvitedWaitingRoom",new cu("/invited-waiting-room",jsxRuntimeExports.jsx(WaitingRoom,{}))),vu(cu,"ReviewPaperwork",new cu("/review-paperwork",jsxRuntimeExports.jsx(ReviewPaperwork,{}))),vu(cu,"VideoCall",new cu("/video-call",jsxRuntimeExports.jsx(VideoChatPageContainer,{}))),vu(cu,"InvitedVideoCall",new cu("/invited-video-call",jsxRuntimeExports.jsx(VideoChatPageContainer,{}))),vu(cu,"ThankYou",new cu("/thank-you",jsxRuntimeExports.jsx(ThankYou,{}))),vu(cu,"IOSPatientPhotosEdit",new cu("/ios-patient-photos",jsxRuntimeExports.jsx(IOSPatientPhotosEditPage,{}))),vu(cu,"IOSPatientManageParticipants",new cu("/ios-manage-participants",jsxRuntimeExports.jsx(IOSPatientManageParticipantsPage,{}))),vu(cu,"IOSVideoCallMenu",new cu("/ios-video-call-menu",jsxRuntimeExports.jsx(IOSVideoCallMenu,{})));let IntakeFlowPageRoute=cu;function App(){return useIOSAppSync(),jsxRuntimeExports.jsx(QueryClientProvider,{client:queryClient,children:jsxRuntimeExports.jsx(IntakeThemeProvider,{children:jsxRuntimeExports.jsxs(BrowserRouter,{children:[jsxRuntimeExports.jsx(ScrollToTop,{}),jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:IntakeFlowPageRoute.AuthPage.path,element:IntakeFlowPageRoute.AuthPage.page}),jsxRuntimeExports.jsx(Route,{path:IntakeFlowPageRoute.Welcome.path,element:IntakeFlowPageRoute.Welcome.page}),jsxRuntimeExports.jsx(Route,{path:IntakeFlowPageRoute.InvitedWaitingRoom.path,element:IntakeFlowPageRoute.InvitedWaitingRoom.page}),jsxRuntimeExports.jsx(Route,{path:IntakeFlowPageRoute.InvitedVideoCall.path,element:IntakeFlowPageRoute.InvitedVideoCall.page}),jsxRuntimeExports.jsx(Route,{element:jsxRuntimeExports.jsx(ProtectedRoute,{loadingFallback:jsxRuntimeExports.jsx(LoadingScreen,{}),errorFallback:jsxRuntimeExports.jsx(ErrorFallbackScreen,{}),unauthorizedFallback:jsxRuntimeExports.jsx(Navigate,{to:IntakeFlowPageRoute.AuthPage.path})}),children:jsxRuntimeExports.jsx(Route,{path:IntakeFlowPageRoute.PatientPortal.path,element:IntakeFlowPageRoute.PatientPortal.page})}),jsxRuntimeExports.jsxs(Route,{element:jsxRuntimeExports.jsx(ProtectedRoute,{loadingFallback:jsxRuntimeExports.jsx(LoadingScreen,{}),errorFallback:jsxRuntimeExports.jsx(ErrorFallbackScreen,{}),unauthorizedFallback:jsxRuntimeExports.jsx(Navigate,{to:IntakeFlowPageRoute.Welcome.path})}),children:[jsxRuntimeExports.jsx(Route,{path:"/",element:jsxRuntimeExports.jsx(UserFlowRoot,{})}),jsxRuntimeExports.jsx(Route,{path:IntakeFlowPageRoute.NewUser.path,element:IntakeFlowPageRoute.NewUser.page}),jsxRuntimeExports.jsx(Route,{path:IntakeFlowPageRoute.SelectPatient.path,element:IntakeFlowPageRoute.SelectPatient.page}),jsxRuntimeExports.jsx(Route,{path:IntakeFlowPageRoute.PastVisits.path,element:IntakeFlowPageRoute.PastVisits.page}),jsxRuntimeExports.jsx(Route,{path:IntakeFlowPageRoute.VisitDetails.path,element:IntakeFlowPageRoute.VisitDetails.page}),jsxRuntimeExports.jsx(Route,{path:IntakeFlowPageRoute.CreateAccount.path,element:IntakeFlowPageRoute.CreateAccount.page}),jsxRuntimeExports.jsx(Route,{path:IntakeFlowPageRoute.ConfirmDateOfBirth.path,element:IntakeFlowPageRoute.ConfirmDateOfBirth.page}),jsxRuntimeExports.jsx(Route,{path:IntakeFlowPageRoute.PatientInformation.path,element:IntakeFlowPageRoute.PatientInformation.page}),jsxRuntimeExports.jsx(Route,{path:IntakeFlowPageRoute.WaitingRoom.path,element:IntakeFlowPageRoute.WaitingRoom.page}),jsxRuntimeExports.jsx(Route,{path:IntakeFlowPageRoute.PatientCondition.path,element:IntakeFlowPageRoute.PatientCondition.page}),jsxRuntimeExports.jsx(Route,{path:IntakeFlowPageRoute.PaperworkPage.path,element:IntakeFlowPageRoute.PaperworkPage.page}),jsxRuntimeExports.jsx(Route,{path:IntakeFlowPageRoute.ReviewPaperwork.path,element:IntakeFlowPageRoute.ReviewPaperwork.page}),jsxRuntimeExports.jsx(Route,{path:IntakeFlowPageRoute.VideoCall.path,element:IntakeFlowPageRoute.VideoCall.page})]}),jsxRuntimeExports.jsx(Route,{path:IntakeFlowPageRoute.IOSPatientPhotosEdit.path,element:IntakeFlowPageRoute.IOSPatientPhotosEdit.page}),jsxRuntimeExports.jsx(Route,{path:IntakeFlowPageRoute.IOSPatientManageParticipants.path,element:IntakeFlowPageRoute.IOSPatientManageParticipants.page}),jsxRuntimeExports.jsx(Route,{path:IntakeFlowPageRoute.IOSVideoCallMenu.path,element:IntakeFlowPageRoute.IOSVideoCallMenu.page}),jsxRuntimeExports.jsx(Route,{path:IntakeFlowPageRoute.ThankYou.path,element:IntakeFlowPageRoute.ThankYou.page})]})]})})})}client$4.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(React$1.StrictMode,{children:jsxRuntimeExports.jsx(Auth0Provider,{domain:"https://auth.zapehr.com",clientId:"9DMpn6SW3W4zhd63m8i4SR93tLDAVZaI",connection:"sms",redirectUri:"".concat(window.location.origin),audience:"https://api.zapehr.com",children:jsxRuntimeExports.jsx(App,{})})}));
//# sourceMappingURL=index-2cf3b4c3.js.map
