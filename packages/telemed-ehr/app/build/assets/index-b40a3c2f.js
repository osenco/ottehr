var Wp=Object.freeze,Fv=Object.defineProperty;var zl=(ts,rs)=>Wp(Fv(ts,"raw",{value:Wp(rs||ts.slice())}));function _mergeNamespaces(ts,rs){for(var ns=0;ns<rs.length;ns++){const os=rs[ns];if(typeof os!="string"&&!Array.isArray(os)){for(const ss in os)if(ss!=="default"&&!(ss in ts)){const as=Object.getOwnPropertyDescriptor(os,ss);as&&Object.defineProperty(ts,ss,as.get?as:{enumerable:!0,get:()=>os[ss]})}}}return Object.freeze(Object.defineProperty(ts,Symbol.toStringTag,{value:"Module"}))}(function(){const rs=document.createElement("link").relList;if(rs&&rs.supports&&rs.supports("modulepreload"))return;for(const ss of document.querySelectorAll('link[rel="modulepreload"]'))os(ss);new MutationObserver(ss=>{for(const as of ss)if(as.type==="childList")for(const ls of as.addedNodes)ls.tagName==="LINK"&&ls.rel==="modulepreload"&&os(ls)}).observe(document,{childList:!0,subtree:!0});function ns(ss){const as={};return ss.integrity&&(as.integrity=ss.integrity),ss.referrerPolicy&&(as.referrerPolicy=ss.referrerPolicy),ss.crossOrigin==="use-credentials"?as.credentials="include":ss.crossOrigin==="anonymous"?as.credentials="omit":as.credentials="same-origin",as}function os(ss){if(ss.ep)return;ss.ep=!0;const as=ns(ss);fetch(ss.href,as)}})();var commonjsGlobal$1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(ts){return ts&&ts.__esModule&&Object.prototype.hasOwnProperty.call(ts,"default")?ts.default:ts}function getAugmentedNamespace(ts){if(ts.__esModule)return ts;var rs=ts.default;if(typeof rs=="function"){var ns=function os(){return this instanceof os?Reflect.construct(rs,arguments,this.constructor):rs.apply(this,arguments)};ns.prototype=rs.prototype}else ns={};return Object.defineProperty(ns,"__esModule",{value:!0}),Object.keys(ts).forEach(function(os){var ss=Object.getOwnPropertyDescriptor(ts,os);Object.defineProperty(ns,os,ss.get?ss:{enumerable:!0,get:function(){return ts[os]}})}),ns}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$7=Symbol.for("react.element"),n$8=Symbol.for("react.portal"),p$8=Symbol.for("react.fragment"),q$8=Symbol.for("react.strict_mode"),r$7=Symbol.for("react.profiler"),t$6=Symbol.for("react.provider"),u$5=Symbol.for("react.context"),v$7=Symbol.for("react.forward_ref"),w$4=Symbol.for("react.suspense"),x$3=Symbol.for("react.memo"),y$3=Symbol.for("react.lazy"),z$4=Symbol.iterator;function A$3(ts){return ts===null||typeof ts!="object"?null:(ts=z$4&&ts[z$4]||ts["@@iterator"],typeof ts=="function"?ts:null)}var B$3={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$3=Object.assign,D$3={};function E$3(ts,rs,ns){this.props=ts,this.context=rs,this.refs=D$3,this.updater=ns||B$3}E$3.prototype.isReactComponent={};E$3.prototype.setState=function(ts,rs){if(typeof ts!="object"&&typeof ts!="function"&&ts!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ts,rs,"setState")};E$3.prototype.forceUpdate=function(ts){this.updater.enqueueForceUpdate(this,ts,"forceUpdate")};function F$2(){}F$2.prototype=E$3.prototype;function G$3(ts,rs,ns){this.props=ts,this.context=rs,this.refs=D$3,this.updater=ns||B$3}var H$3=G$3.prototype=new F$2;H$3.constructor=G$3;C$3(H$3,E$3.prototype);H$3.isPureReactComponent=!0;var I$3=Array.isArray,J$2=Object.prototype.hasOwnProperty,K$3={current:null},L$3={key:!0,ref:!0,__self:!0,__source:!0};function M$3(ts,rs,ns){var os,ss={},as=null,ls=null;if(rs!=null)for(os in rs.ref!==void 0&&(ls=rs.ref),rs.key!==void 0&&(as=""+rs.key),rs)J$2.call(rs,os)&&!L$3.hasOwnProperty(os)&&(ss[os]=rs[os]);var cs=arguments.length-2;if(cs===1)ss.children=ns;else if(1<cs){for(var us=Array(cs),ds=0;ds<cs;ds++)us[ds]=arguments[ds+2];ss.children=us}if(ts&&ts.defaultProps)for(os in cs=ts.defaultProps,cs)ss[os]===void 0&&(ss[os]=cs[os]);return{$$typeof:l$7,type:ts,key:as,ref:ls,props:ss,_owner:K$3.current}}function N$3(ts,rs){return{$$typeof:l$7,type:ts.type,key:rs,ref:ts.ref,props:ts.props,_owner:ts._owner}}function O$2(ts){return typeof ts=="object"&&ts!==null&&ts.$$typeof===l$7}function escape(ts){var rs={"=":"=0",":":"=2"};return"$"+ts.replace(/[=:]/g,function(ns){return rs[ns]})}var P$3=/\/+/g;function Q$3(ts,rs){return typeof ts=="object"&&ts!==null&&ts.key!=null?escape(""+ts.key):rs.toString(36)}function R$2(ts,rs,ns,os,ss){var as=typeof ts;(as==="undefined"||as==="boolean")&&(ts=null);var ls=!1;if(ts===null)ls=!0;else switch(as){case"string":case"number":ls=!0;break;case"object":switch(ts.$$typeof){case l$7:case n$8:ls=!0}}if(ls)return ls=ts,ss=ss(ls),ts=os===""?"."+Q$3(ls,0):os,I$3(ss)?(ns="",ts!=null&&(ns=ts.replace(P$3,"$&/")+"/"),R$2(ss,rs,ns,"",function(ds){return ds})):ss!=null&&(O$2(ss)&&(ss=N$3(ss,ns+(!ss.key||ls&&ls.key===ss.key?"":(""+ss.key).replace(P$3,"$&/")+"/")+ts)),rs.push(ss)),1;if(ls=0,os=os===""?".":os+":",I$3(ts))for(var cs=0;cs<ts.length;cs++){as=ts[cs];var us=os+Q$3(as,cs);ls+=R$2(as,rs,ns,us,ss)}else if(us=A$3(ts),typeof us=="function")for(ts=us.call(ts),cs=0;!(as=ts.next()).done;)as=as.value,us=os+Q$3(as,cs++),ls+=R$2(as,rs,ns,us,ss);else if(as==="object")throw rs=String(ts),Error("Objects are not valid as a React child (found: "+(rs==="[object Object]"?"object with keys {"+Object.keys(ts).join(", ")+"}":rs)+"). If you meant to render a collection of children, use an array instead.");return ls}function S$3(ts,rs,ns){if(ts==null)return ts;var os=[],ss=0;return R$2(ts,os,"","",function(as){return rs.call(ns,as,ss++)}),os}function T$3(ts){if(ts._status===-1){var rs=ts._result;rs=rs(),rs.then(function(ns){(ts._status===0||ts._status===-1)&&(ts._status=1,ts._result=ns)},function(ns){(ts._status===0||ts._status===-1)&&(ts._status=2,ts._result=ns)}),ts._status===-1&&(ts._status=0,ts._result=rs)}if(ts._status===1)return ts._result.default;throw ts._result}var U$3={current:null},V$3={transition:null},W$3={ReactCurrentDispatcher:U$3,ReactCurrentBatchConfig:V$3,ReactCurrentOwner:K$3};function X$3(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$3,forEach:function(ts,rs,ns){S$3(ts,function(){rs.apply(this,arguments)},ns)},count:function(ts){var rs=0;return S$3(ts,function(){rs++}),rs},toArray:function(ts){return S$3(ts,function(rs){return rs})||[]},only:function(ts){if(!O$2(ts))throw Error("React.Children.only expected to receive a single React element child.");return ts}};react_production_min.Component=E$3;react_production_min.Fragment=p$8;react_production_min.Profiler=r$7;react_production_min.PureComponent=G$3;react_production_min.StrictMode=q$8;react_production_min.Suspense=w$4;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$3;react_production_min.act=X$3;react_production_min.cloneElement=function(ts,rs,ns){if(ts==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+ts+".");var os=C$3({},ts.props),ss=ts.key,as=ts.ref,ls=ts._owner;if(rs!=null){if(rs.ref!==void 0&&(as=rs.ref,ls=K$3.current),rs.key!==void 0&&(ss=""+rs.key),ts.type&&ts.type.defaultProps)var cs=ts.type.defaultProps;for(us in rs)J$2.call(rs,us)&&!L$3.hasOwnProperty(us)&&(os[us]=rs[us]===void 0&&cs!==void 0?cs[us]:rs[us])}var us=arguments.length-2;if(us===1)os.children=ns;else if(1<us){cs=Array(us);for(var ds=0;ds<us;ds++)cs[ds]=arguments[ds+2];os.children=cs}return{$$typeof:l$7,type:ts.type,key:ss,ref:as,props:os,_owner:ls}};react_production_min.createContext=function(ts){return ts={$$typeof:u$5,_currentValue:ts,_currentValue2:ts,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},ts.Provider={$$typeof:t$6,_context:ts},ts.Consumer=ts};react_production_min.createElement=M$3;react_production_min.createFactory=function(ts){var rs=M$3.bind(null,ts);return rs.type=ts,rs};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(ts){return{$$typeof:v$7,render:ts}};react_production_min.isValidElement=O$2;react_production_min.lazy=function(ts){return{$$typeof:y$3,_payload:{_status:-1,_result:ts},_init:T$3}};react_production_min.memo=function(ts,rs){return{$$typeof:x$3,type:ts,compare:rs===void 0?null:rs}};react_production_min.startTransition=function(ts){var rs=V$3.transition;V$3.transition={};try{ts()}finally{V$3.transition=rs}};react_production_min.unstable_act=X$3;react_production_min.useCallback=function(ts,rs){return U$3.current.useCallback(ts,rs)};react_production_min.useContext=function(ts){return U$3.current.useContext(ts)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(ts){return U$3.current.useDeferredValue(ts)};react_production_min.useEffect=function(ts,rs){return U$3.current.useEffect(ts,rs)};react_production_min.useId=function(){return U$3.current.useId()};react_production_min.useImperativeHandle=function(ts,rs,ns){return U$3.current.useImperativeHandle(ts,rs,ns)};react_production_min.useInsertionEffect=function(ts,rs){return U$3.current.useInsertionEffect(ts,rs)};react_production_min.useLayoutEffect=function(ts,rs){return U$3.current.useLayoutEffect(ts,rs)};react_production_min.useMemo=function(ts,rs){return U$3.current.useMemo(ts,rs)};react_production_min.useReducer=function(ts,rs,ns){return U$3.current.useReducer(ts,rs,ns)};react_production_min.useRef=function(ts){return U$3.current.useRef(ts)};react_production_min.useState=function(ts){return U$3.current.useState(ts)};react_production_min.useSyncExternalStore=function(ts,rs,ns){return U$3.current.useSyncExternalStore(ts,rs,ns)};react_production_min.useTransition=function(){return U$3.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;const React$2=getDefaultExportFromCjs(reactExports),React$3=_mergeNamespaces({__proto__:null,default:React$2},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$4=reactExports,k$7=Symbol.for("react.element"),l$6=Symbol.for("react.fragment"),m$7=Object.prototype.hasOwnProperty,n$7=f$4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$7={key:!0,ref:!0,__self:!0,__source:!0};function q$7(ts,rs,ns){var os,ss={},as=null,ls=null;ns!==void 0&&(as=""+ns),rs.key!==void 0&&(as=""+rs.key),rs.ref!==void 0&&(ls=rs.ref);for(os in rs)m$7.call(rs,os)&&!p$7.hasOwnProperty(os)&&(ss[os]=rs[os]);if(ts&&ts.defaultProps)for(os in rs=ts.defaultProps,rs)ss[os]===void 0&&(ss[os]=rs[os]);return{$$typeof:k$7,type:ts,key:as,ref:ls,props:ss,_owner:n$7.current}}reactJsxRuntime_production_min.Fragment=l$6;reactJsxRuntime_production_min.jsx=q$7;reactJsxRuntime_production_min.jsxs=q$7;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics$1=function(ts,rs){return extendStatics$1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ns,os){ns.__proto__=os}||function(ns,os){for(var ss in os)Object.prototype.hasOwnProperty.call(os,ss)&&(ns[ss]=os[ss])},extendStatics$1(ts,rs)};function __extends$1(ts,rs){if(typeof rs!="function"&&rs!==null)throw new TypeError("Class extends value "+String(rs)+" is not a constructor or null");extendStatics$1(ts,rs);function ns(){this.constructor=ts}ts.prototype=rs===null?Object.create(rs):(ns.prototype=rs.prototype,new ns)}var __assign$1=function(){return __assign$1=Object.assign||function(rs){for(var ns,os=1,ss=arguments.length;os<ss;os++){ns=arguments[os];for(var as in ns)Object.prototype.hasOwnProperty.call(ns,as)&&(rs[as]=ns[as])}return rs},__assign$1.apply(this,arguments)};function __rest$5(ts,rs){var ns={};for(var os in ts)Object.prototype.hasOwnProperty.call(ts,os)&&rs.indexOf(os)<0&&(ns[os]=ts[os]);if(ts!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ss=0,os=Object.getOwnPropertySymbols(ts);ss<os.length;ss++)rs.indexOf(os[ss])<0&&Object.prototype.propertyIsEnumerable.call(ts,os[ss])&&(ns[os[ss]]=ts[os[ss]]);return ns}function __awaiter$19(ts,rs,ns,os){function ss(as){return as instanceof ns?as:new ns(function(ls){ls(as)})}return new(ns||(ns=Promise))(function(as,ls){function cs(ps){try{ds(os.next(ps))}catch(fs){ls(fs)}}function us(ps){try{ds(os.throw(ps))}catch(fs){ls(fs)}}function ds(ps){ps.done?as(ps.value):ss(ps.value).then(cs,us)}ds((os=os.apply(ts,rs||[])).next())})}function __generator$2(ts,rs){var ns={label:0,sent:function(){if(as[0]&1)throw as[1];return as[1]},trys:[],ops:[]},os,ss,as,ls;return ls={next:cs(0),throw:cs(1),return:cs(2)},typeof Symbol=="function"&&(ls[Symbol.iterator]=function(){return this}),ls;function cs(ds){return function(ps){return us([ds,ps])}}function us(ds){if(os)throw new TypeError("Generator is already executing.");for(;ns;)try{if(os=1,ss&&(as=ds[0]&2?ss.return:ds[0]?ss.throw||((as=ss.return)&&as.call(ss),0):ss.next)&&!(as=as.call(ss,ds[1])).done)return as;switch(ss=0,as&&(ds=[ds[0]&2,as.value]),ds[0]){case 0:case 1:as=ds;break;case 4:return ns.label++,{value:ds[1],done:!1};case 5:ns.label++,ss=ds[1],ds=[0];continue;case 7:ds=ns.ops.pop(),ns.trys.pop();continue;default:if(as=ns.trys,!(as=as.length>0&&as[as.length-1])&&(ds[0]===6||ds[0]===2)){ns=0;continue}if(ds[0]===3&&(!as||ds[1]>as[0]&&ds[1]<as[3])){ns.label=ds[1];break}if(ds[0]===6&&ns.label<as[1]){ns.label=as[1],as=ds;break}if(as&&ns.label<as[2]){ns.label=as[2],ns.ops.push(ds);break}as[2]&&ns.ops.pop(),ns.trys.pop();continue}ds=rs.call(ts,ns)}catch(ps){ds=[6,ps],ss=0}finally{os=as=0}if(ds[0]&5)throw ds[1];return{value:ds[0]?ds[1]:void 0,done:!0}}}var e$4=function(ts,rs){return e$4=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ns,os){ns.__proto__=os}||function(ns,os){for(var ss in os)Object.prototype.hasOwnProperty.call(os,ss)&&(ns[ss]=os[ss])},e$4(ts,rs)};function t$5(ts,rs){if(typeof rs!="function"&&rs!==null)throw new TypeError("Class extends value "+String(rs)+" is not a constructor or null");function ns(){this.constructor=ts}e$4(ts,rs),ts.prototype=rs===null?Object.create(rs):(ns.prototype=rs.prototype,new ns)}var n$6=function(){return n$6=Object.assign||function(ts){for(var rs,ns=1,os=arguments.length;ns<os;ns++)for(var ss in rs=arguments[ns])Object.prototype.hasOwnProperty.call(rs,ss)&&(ts[ss]=rs[ss]);return ts},n$6.apply(this,arguments)};function r$6(ts,rs){var ns={};for(var os in ts)Object.prototype.hasOwnProperty.call(ts,os)&&rs.indexOf(os)<0&&(ns[os]=ts[os]);if(ts!=null&&typeof Object.getOwnPropertySymbols=="function"){var ss=0;for(os=Object.getOwnPropertySymbols(ts);ss<os.length;ss++)rs.indexOf(os[ss])<0&&Object.prototype.propertyIsEnumerable.call(ts,os[ss])&&(ns[os[ss]]=ts[os[ss]])}return ns}function o$1(ts,rs,ns,os){return new(ns||(ns=Promise))(function(ss,as){function ls(ds){try{us(os.next(ds))}catch(ps){as(ps)}}function cs(ds){try{us(os.throw(ds))}catch(ps){as(ps)}}function us(ds){var ps;ds.done?ss(ds.value):(ps=ds.value,ps instanceof ns?ps:new ns(function(fs){fs(ps)})).then(ls,cs)}us((os=os.apply(ts,rs||[])).next())})}function i$3(ts,rs){var ns,os,ss,as,ls={label:0,sent:function(){if(1&ss[0])throw ss[1];return ss[1]},trys:[],ops:[]};return as={next:cs(0),throw:cs(1),return:cs(2)},typeof Symbol=="function"&&(as[Symbol.iterator]=function(){return this}),as;function cs(us){return function(ds){return function(ps){if(ns)throw new TypeError("Generator is already executing.");for(;ls;)try{if(ns=1,os&&(ss=2&ps[0]?os.return:ps[0]?os.throw||((ss=os.return)&&ss.call(os),0):os.next)&&!(ss=ss.call(os,ps[1])).done)return ss;switch(os=0,ss&&(ps=[2&ps[0],ss.value]),ps[0]){case 0:case 1:ss=ps;break;case 4:return ls.label++,{value:ps[1],done:!1};case 5:ls.label++,os=ps[1],ps=[0];continue;case 7:ps=ls.ops.pop(),ls.trys.pop();continue;default:if(ss=ls.trys,!((ss=ss.length>0&&ss[ss.length-1])||ps[0]!==6&&ps[0]!==2)){ls=0;continue}if(ps[0]===3&&(!ss||ps[1]>ss[0]&&ps[1]<ss[3])){ls.label=ps[1];break}if(ps[0]===6&&ls.label<ss[1]){ls.label=ss[1],ss=ps;break}if(ss&&ls.label<ss[2]){ls.label=ss[2],ls.ops.push(ps);break}ss[2]&&ls.ops.pop(),ls.trys.pop();continue}ps=rs.call(ts,ls)}catch(fs){ps=[6,fs],os=0}finally{ns=ss=0}if(5&ps[0])throw ps[1];return{value:ps[0]?ps[1]:void 0,done:!0}}([us,ds])}}}function c$3(ts,rs){var ns=typeof Symbol=="function"&&ts[Symbol.iterator];if(!ns)return ts;var os,ss,as=ns.call(ts),ls=[];try{for(;(rs===void 0||rs-- >0)&&!(os=as.next()).done;)ls.push(os.value)}catch(cs){ss={error:cs}}finally{try{os&&!os.done&&(ns=as.return)&&ns.call(as)}finally{if(ss)throw ss.error}}return ls}function a$1(ts,rs,ns){if(ns||arguments.length===2)for(var os,ss=0,as=rs.length;ss<as;ss++)!os&&ss in rs||(os||(os=Array.prototype.slice.call(rs,0,ss)),os[ss]=rs[ss]);return ts.concat(os||Array.prototype.slice.call(rs))}var s$2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function u$4(ts){return ts&&ts.__esModule&&Object.prototype.hasOwnProperty.call(ts,"default")?ts.default:ts}function l$5(ts,rs){return ts(rs={exports:{}},rs.exports),rs.exports}var f$3,d$3,h$5=function(ts){return ts&&ts.Math==Math&&ts},p$6=h$5(typeof globalThis=="object"&&globalThis)||h$5(typeof window=="object"&&window)||h$5(typeof self=="object"&&self)||h$5(typeof s$2=="object"&&s$2)||function(){return this}()||Function("return this")(),y$2=function(ts){try{return!!ts()}catch{return!0}},v$6=!y$2(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),m$6=!y$2(function(){var ts=(function(){}).bind();return typeof ts!="function"||ts.hasOwnProperty("prototype")}),b$4=Function.prototype.call,g$4=m$6?b$4.bind(b$4):function(){return b$4.apply(b$4,arguments)},w$3={}.propertyIsEnumerable,S$2=Object.getOwnPropertyDescriptor,k$6=S$2&&!w$3.call({1:2},1)?function(ts){var rs=S$2(this,ts);return!!rs&&rs.enumerable}:w$3,_$4={f:k$6},I$2=function(ts,rs){return{enumerable:!(1&ts),configurable:!(2&ts),writable:!(4&ts),value:rs}},O$1=Function,x$2=O$1.prototype,T$2=x$2.bind,C$2=x$2.call,j$2=m$6&&T$2.bind(C$2,C$2),L$2=function(ts){return ts instanceof O$1?m$6?j$2(ts):function(){return C$2.apply(ts,arguments)}:void 0},R$1=L$2({}.toString),W$2=L$2("".slice),Z$2=function(ts){return W$2(R$1(ts),8,-1)},E$2=Object,G$2=L$2("".split),A$2=y$2(function(){return!E$2("z").propertyIsEnumerable(0)})?function(ts){return Z$2(ts)=="String"?G$2(ts,""):E$2(ts)}:E$2,P$2=function(ts){return ts==null},X$2=TypeError,F$1=function(ts){if(P$2(ts))throw X$2("Can't call method on "+ts);return ts},K$2=function(ts){return A$2(F$1(ts))},N$2=typeof document=="object"&&document.all,U$2={all:N$2,IS_HTMLDDA:N$2===void 0&&N$2!==void 0},D$2=U$2.all,H$2=U$2.IS_HTMLDDA?function(ts){return typeof ts=="function"||ts===D$2}:function(ts){return typeof ts=="function"},Y$2=U$2.all,J$1=U$2.IS_HTMLDDA?function(ts){return typeof ts=="object"?ts!==null:H$2(ts)||ts===Y$2}:function(ts){return typeof ts=="object"?ts!==null:H$2(ts)},V$2=function(ts){return H$2(ts)?ts:void 0},z$3=function(ts,rs){return arguments.length<2?V$2(p$6[ts]):p$6[ts]&&p$6[ts][rs]},M$2=L$2({}.isPrototypeOf),B$2=z$3("navigator","userAgent")||"",Q$2=p$6.process,q$6=p$6.Deno,$$1=Q$2&&Q$2.versions||q$6&&q$6.version,ee$2=$$1&&$$1.v8;ee$2&&(d$3=(f$3=ee$2.split("."))[0]>0&&f$3[0]<4?1:+(f$3[0]+f$3[1])),!d$3&&B$2&&(!(f$3=B$2.match(/Edge\/(\d+)/))||f$3[1]>=74)&&(f$3=B$2.match(/Chrome\/(\d+)/))&&(d$3=+f$3[1]);var te$2=d$3,ne$2=!!Object.getOwnPropertySymbols&&!y$2(function(){var ts=Symbol();return!String(ts)||!(Object(ts)instanceof Symbol)||!Symbol.sham&&te$2&&te$2<41}),re$2=ne$2&&!Symbol.sham&&typeof Symbol.iterator=="symbol",oe$2=Object,ie$2=re$2?function(ts){return typeof ts=="symbol"}:function(ts){var rs=z$3("Symbol");return H$2(rs)&&M$2(rs.prototype,oe$2(ts))},ce$2=String,ae$2=function(ts){try{return ce$2(ts)}catch{return"Object"}},se$2=TypeError,ue$1=function(ts){if(H$2(ts))return ts;throw se$2(ae$2(ts)+" is not a function")},le$2=function(ts,rs){var ns=ts[rs];return P$2(ns)?void 0:ue$1(ns)},fe$2=TypeError,de$2=Object.defineProperty,he$2=function(ts,rs){try{de$2(p$6,ts,{value:rs,configurable:!0,writable:!0})}catch{p$6[ts]=rs}return rs},pe$2=p$6["__core-js_shared__"]||he$2("__core-js_shared__",{}),ye$2=l$5(function(ts){(ts.exports=function(rs,ns){return pe$2[rs]||(pe$2[rs]=ns!==void 0?ns:{})})("versions",[]).push({version:"3.25.4",mode:"global",copyright:"Â© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.25.4/LICENSE",source:"https://github.com/zloirock/core-js"})}),ve$2=Object,me$1=function(ts){return ve$2(F$1(ts))},be$2=L$2({}.hasOwnProperty),ge$2=Object.hasOwn||function(ts,rs){return be$2(me$1(ts),rs)},we$2=0,Se$2=Math.random(),ke$2=L$2(1 .toString),_e$1=function(ts){return"Symbol("+(ts===void 0?"":ts)+")_"+ke$2(++we$2+Se$2,36)},Ie$1=ye$2("wks"),Oe$2=p$6.Symbol,xe$2=Oe$2&&Oe$2.for,Te$2=re$2?Oe$2:Oe$2&&Oe$2.withoutSetter||_e$1,Ce$1=function(ts){if(!ge$2(Ie$1,ts)||!ne$2&&typeof Ie$1[ts]!="string"){var rs="Symbol."+ts;ne$2&&ge$2(Oe$2,ts)?Ie$1[ts]=Oe$2[ts]:Ie$1[ts]=re$2&&xe$2?xe$2(rs):Te$2(rs)}return Ie$1[ts]},je$2=TypeError,Le$2=Ce$1("toPrimitive"),Re$2=function(ts,rs){if(!J$1(ts)||ie$2(ts))return ts;var ns,os=le$2(ts,Le$2);if(os){if(rs===void 0&&(rs="default"),ns=g$4(os,ts,rs),!J$1(ns)||ie$2(ns))return ns;throw je$2("Can't convert object to primitive value")}return rs===void 0&&(rs="number"),function(ss,as){var ls,cs;if(as==="string"&&H$2(ls=ss.toString)&&!J$1(cs=g$4(ls,ss))||H$2(ls=ss.valueOf)&&!J$1(cs=g$4(ls,ss))||as!=="string"&&H$2(ls=ss.toString)&&!J$1(cs=g$4(ls,ss)))return cs;throw fe$2("Can't convert object to primitive value")}(ts,rs)},We$2=function(ts){var rs=Re$2(ts,"string");return ie$2(rs)?rs:rs+""},Ze$1=p$6.document,Ee$2=J$1(Ze$1)&&J$1(Ze$1.createElement),Ge$1=function(ts){return Ee$2?Ze$1.createElement(ts):{}},Ae$2=!v$6&&!y$2(function(){return Object.defineProperty(Ge$1("div"),"a",{get:function(){return 7}}).a!=7}),Pe$1=Object.getOwnPropertyDescriptor,Xe$1={f:v$6?Pe$1:function(ts,rs){if(ts=K$2(ts),rs=We$2(rs),Ae$2)try{return Pe$1(ts,rs)}catch{}if(ge$2(ts,rs))return I$2(!g$4(_$4.f,ts,rs),ts[rs])}},Fe$2=v$6&&y$2(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42}),Ke$1=String,Ne$2=TypeError,Ue$1=function(ts){if(J$1(ts))return ts;throw Ne$2(Ke$1(ts)+" is not an object")},De$2=TypeError,He$2=Object.defineProperty,Ye$2=Object.getOwnPropertyDescriptor,Je$1={f:v$6?Fe$2?function(ts,rs,ns){if(Ue$1(ts),rs=We$2(rs),Ue$1(ns),typeof ts=="function"&&rs==="prototype"&&"value"in ns&&"writable"in ns&&!ns.writable){var os=Ye$2(ts,rs);os&&os.writable&&(ts[rs]=ns.value,ns={configurable:"configurable"in ns?ns.configurable:os.configurable,enumerable:"enumerable"in ns?ns.enumerable:os.enumerable,writable:!1})}return He$2(ts,rs,ns)}:He$2:function(ts,rs,ns){if(Ue$1(ts),rs=We$2(rs),Ue$1(ns),Ae$2)try{return He$2(ts,rs,ns)}catch{}if("get"in ns||"set"in ns)throw De$2("Accessors not supported");return"value"in ns&&(ts[rs]=ns.value),ts}},Ve$2=v$6?function(ts,rs,ns){return Je$1.f(ts,rs,I$2(1,ns))}:function(ts,rs,ns){return ts[rs]=ns,ts},ze$2=Function.prototype,Me$2=v$6&&Object.getOwnPropertyDescriptor,Be$2=ge$2(ze$2,"name"),Qe$1={EXISTS:Be$2,PROPER:Be$2&&(function(){}).name==="something",CONFIGURABLE:Be$2&&(!v$6||v$6&&Me$2(ze$2,"name").configurable)},qe$2=L$2(Function.toString);H$2(pe$2.inspectSource)||(pe$2.inspectSource=function(ts){return qe$2(ts)});var $e$2,et,tt,nt=pe$2.inspectSource,rt=p$6.WeakMap,ot=H$2(rt)&&/native code/.test(String(rt)),it=ye$2("keys"),ct=function(ts){return it[ts]||(it[ts]=_e$1(ts))},at={},st=p$6.TypeError,ut=p$6.WeakMap;if(ot||pe$2.state){var lt=pe$2.state||(pe$2.state=new ut),ft=L$2(lt.get),dt=L$2(lt.has),ht=L$2(lt.set);$e$2=function(ts,rs){if(dt(lt,ts))throw st("Object already initialized");return rs.facade=ts,ht(lt,ts,rs),rs},et=function(ts){return ft(lt,ts)||{}},tt=function(ts){return dt(lt,ts)}}else{var pt=ct("state");at[pt]=!0,$e$2=function(ts,rs){if(ge$2(ts,pt))throw st("Object already initialized");return rs.facade=ts,Ve$2(ts,pt,rs),rs},et=function(ts){return ge$2(ts,pt)?ts[pt]:{}},tt=function(ts){return ge$2(ts,pt)}}var yt={set:$e$2,get:et,has:tt,enforce:function(ts){return tt(ts)?et(ts):$e$2(ts,{})},getterFor:function(ts){return function(rs){var ns;if(!J$1(rs)||(ns=et(rs)).type!==ts)throw st("Incompatible receiver, "+ts+" required");return ns}}},vt=l$5(function(ts){var rs=Qe$1.CONFIGURABLE,ns=yt.enforce,os=yt.get,ss=Object.defineProperty,as=v$6&&!y$2(function(){return ss(function(){},"length",{value:8}).length!==8}),ls=String(String).split("String"),cs=ts.exports=function(us,ds,ps){String(ds).slice(0,7)==="Symbol("&&(ds="["+String(ds).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),ps&&ps.getter&&(ds="get "+ds),ps&&ps.setter&&(ds="set "+ds),(!ge$2(us,"name")||rs&&us.name!==ds)&&(v$6?ss(us,"name",{value:ds,configurable:!0}):us.name=ds),as&&ps&&ge$2(ps,"arity")&&us.length!==ps.arity&&ss(us,"length",{value:ps.arity});try{ps&&ge$2(ps,"constructor")&&ps.constructor?v$6&&ss(us,"prototype",{writable:!1}):us.prototype&&(us.prototype=void 0)}catch{}var fs=ns(us);return ge$2(fs,"source")||(fs.source=ls.join(typeof ds=="string"?ds:"")),us};Function.prototype.toString=cs(function(){return H$2(this)&&os(this).source||nt(this)},"toString")}),mt=function(ts,rs,ns,os){os||(os={});var ss=os.enumerable,as=os.name!==void 0?os.name:rs;if(H$2(ns)&&vt(ns,as,os),os.global)ss?ts[rs]=ns:he$2(rs,ns);else{try{os.unsafe?ts[rs]&&(ss=!0):delete ts[rs]}catch{}ss?ts[rs]=ns:Je$1.f(ts,rs,{value:ns,enumerable:!1,configurable:!os.nonConfigurable,writable:!os.nonWritable})}return ts},bt=Math.ceil,gt=Math.floor,wt=Math.trunc||function(ts){var rs=+ts;return(rs>0?gt:bt)(rs)},St=function(ts){var rs=+ts;return rs!=rs||rs===0?0:wt(rs)},kt=Math.max,_t$4=Math.min,It=function(ts,rs){var ns=St(ts);return ns<0?kt(ns+rs,0):_t$4(ns,rs)},Ot=Math.min,xt=function(ts){return ts>0?Ot(St(ts),9007199254740991):0},Tt=function(ts){return xt(ts.length)},Ct=function(ts){return function(rs,ns,os){var ss,as=K$2(rs),ls=Tt(as),cs=It(os,ls);if(ts&&ns!=ns){for(;ls>cs;)if((ss=as[cs++])!=ss)return!0}else for(;ls>cs;cs++)if((ts||cs in as)&&as[cs]===ns)return ts||cs||0;return!ts&&-1}},jt={includes:Ct(!0),indexOf:Ct(!1)},Lt=jt.indexOf,Rt=L$2([].push),Wt=function(ts,rs){var ns,os=K$2(ts),ss=0,as=[];for(ns in os)!ge$2(at,ns)&&ge$2(os,ns)&&Rt(as,ns);for(;rs.length>ss;)ge$2(os,ns=rs[ss++])&&(~Lt(as,ns)||Rt(as,ns));return as},Zt=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Et=Zt.concat("length","prototype"),Gt={f:Object.getOwnPropertyNames||function(ts){return Wt(ts,Et)}},At={f:Object.getOwnPropertySymbols},Pt=L$2([].concat),Xt=z$3("Reflect","ownKeys")||function(ts){var rs=Gt.f(Ue$1(ts)),ns=At.f;return ns?Pt(rs,ns(ts)):rs},Ft=function(ts,rs,ns){for(var os=Xt(rs),ss=Je$1.f,as=Xe$1.f,ls=0;ls<os.length;ls++){var cs=os[ls];ge$2(ts,cs)||ns&&ge$2(ns,cs)||ss(ts,cs,as(rs,cs))}},Kt=/#|\.prototype\./,Nt=function(ts,rs){var ns=Dt[Ut(ts)];return ns==Yt||ns!=Ht&&(H$2(rs)?y$2(rs):!!rs)},Ut=Nt.normalize=function(ts){return String(ts).replace(Kt,".").toLowerCase()},Dt=Nt.data={},Ht=Nt.NATIVE="N",Yt=Nt.POLYFILL="P",Jt=Nt,Vt=Xe$1.f,zt=function(ts,rs){var ns,os,ss,as,ls,cs=ts.target,us=ts.global,ds=ts.stat;if(ns=us?p$6:ds?p$6[cs]||he$2(cs,{}):(p$6[cs]||{}).prototype)for(os in rs){if(as=rs[os],ss=ts.dontCallGetSet?(ls=Vt(ns,os))&&ls.value:ns[os],!Jt(us?os:cs+(ds?".":"#")+os,ts.forced)&&ss!==void 0){if(typeof as==typeof ss)continue;Ft(as,ss)}(ts.sham||ss&&ss.sham)&&Ve$2(as,"sham",!0),mt(ns,os,as,ts)}},Mt={};Mt[Ce$1("toStringTag")]="z";var Bt,Qt=String(Mt)==="[object z]",qt=Ce$1("toStringTag"),$t=Object,en=Z$2(function(){return arguments}())=="Arguments",tn=Qt?Z$2:function(ts){var rs,ns,os;return ts===void 0?"Undefined":ts===null?"Null":typeof(ns=function(ss,as){try{return ss[as]}catch{}}(rs=$t(ts),qt))=="string"?ns:en?Z$2(rs):(os=Z$2(rs))=="Object"&&H$2(rs.callee)?"Arguments":os},nn=String,rn=function(ts){if(tn(ts)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return nn(ts)},on=Ce$1("match"),cn=TypeError,an=function(ts){if(function(rs){var ns;return J$1(rs)&&((ns=rs[on])!==void 0?!!ns:Z$2(rs)=="RegExp")}(ts))throw cn("The method doesn't accept regular expressions");return ts},sn=Ce$1("match"),un=function(ts){var rs=/./;try{"/./"[ts](rs)}catch{try{return rs[sn]=!1,"/./"[ts](rs)}catch{}}return!1},ln=Xe$1.f,fn=L$2("".startsWith),dn=L$2("".slice),hn=Math.min,pn=un("startsWith"),yn=!(pn||(Bt=ln(String.prototype,"startsWith"),!Bt||Bt.writable));zt({target:"String",proto:!0,forced:!yn&&!pn},{startsWith:function(ts){var rs=rn(F$1(this));an(ts);var ns=xt(hn(arguments.length>1?arguments[1]:void 0,rs.length)),os=rn(ts);return fn?fn(rs,os,ns):dn(rs,ns,ns+os.length)===os}});var vn=function(ts,rs){return L$2(p$6[ts].prototype[rs])};vn("String","startsWith");var mn=Array.isArray||function(ts){return Z$2(ts)=="Array"},bn=TypeError,gn=function(ts){if(ts>9007199254740991)throw bn("Maximum allowed index exceeded");return ts},wn=function(ts,rs,ns){var os=We$2(rs);os in ts?Je$1.f(ts,os,I$2(0,ns)):ts[os]=ns},Sn=function(){},kn=[],_n=z$3("Reflect","construct"),In=/^\s*(?:class|function)\b/,On=L$2(In.exec),xn=!In.exec(Sn),Tn=function(ts){if(!H$2(ts))return!1;try{return _n(Sn,kn,ts),!0}catch{return!1}},Cn=function(ts){if(!H$2(ts))return!1;switch(tn(ts)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return xn||!!On(In,nt(ts))}catch{return!0}};Cn.sham=!0;var jn,Ln=!_n||y$2(function(){var ts;return Tn(Tn.call)||!Tn(Object)||!Tn(function(){ts=!0})||ts})?Cn:Tn,Rn=Ce$1("species"),Wn=Array,Zn=function(ts,rs){return new(function(ns){var os;return mn(ns)&&(os=ns.constructor,(Ln(os)&&(os===Wn||mn(os.prototype))||J$1(os)&&(os=os[Rn])===null)&&(os=void 0)),os===void 0?Wn:os}(ts))(rs===0?0:rs)},En=Ce$1("species"),Gn=Ce$1("isConcatSpreadable"),An=te$2>=51||!y$2(function(){var ts=[];return ts[Gn]=!1,ts.concat()[0]!==ts}),Pn=(jn="concat",te$2>=51||!y$2(function(){var ts=[];return(ts.constructor={})[En]=function(){return{foo:1}},ts[jn](Boolean).foo!==1})),Xn=function(ts){if(!J$1(ts))return!1;var rs=ts[Gn];return rs!==void 0?!!rs:mn(ts)};zt({target:"Array",proto:!0,arity:1,forced:!An||!Pn},{concat:function(ts){var rs,ns,os,ss,as,ls=me$1(this),cs=Zn(ls,0),us=0;for(rs=-1,os=arguments.length;rs<os;rs++)if(Xn(as=rs===-1?ls:arguments[rs]))for(ss=Tt(as),gn(us+ss),ns=0;ns<ss;ns++,us++)ns in as&&wn(cs,us,as[ns]);else gn(us+1),wn(cs,us++,as);return cs.length=us,cs}});var Fn=Qt?{}.toString:function(){return"[object "+tn(this)+"]"};Qt||mt(Object.prototype,"toString",Fn,{unsafe:!0});var Kn,Nn=Object.keys||function(ts){return Wt(ts,Zt)},Un=v$6&&!Fe$2?Object.defineProperties:function(ts,rs){Ue$1(ts);for(var ns,os=K$2(rs),ss=Nn(rs),as=ss.length,ls=0;as>ls;)Je$1.f(ts,ns=ss[ls++],os[ns]);return ts},Dn={f:Un},Hn=z$3("document","documentElement"),Yn=ct("IE_PROTO"),Jn=function(){},Vn=function(ts){return"<script>"+ts+"<\/script>"},zn=function(ts){ts.write(Vn("")),ts.close();var rs=ts.parentWindow.Object;return ts=null,rs},Mn=function(){try{Kn=new ActiveXObject("htmlfile")}catch{}var ts,rs;Mn=typeof document<"u"?document.domain&&Kn?zn(Kn):((rs=Ge$1("iframe")).style.display="none",Hn.appendChild(rs),rs.src="javascript:",(ts=rs.contentWindow.document).open(),ts.write(Vn("document.F=Object")),ts.close(),ts.F):zn(Kn);for(var ns=Zt.length;ns--;)delete Mn.prototype[Zt[ns]];return Mn()};at[Yn]=!0;var Bn=Object.create||function(ts,rs){var ns;return ts!==null?(Jn.prototype=Ue$1(ts),ns=new Jn,Jn.prototype=null,ns[Yn]=ts):ns=Mn(),rs===void 0?ns:Dn.f(ns,rs)},Qn=Array,qn=Math.max,$n=Gt.f,er=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],tr=function(ts){try{return $n(ts)}catch{return function(ns,os,ss){for(var as=Tt(ns),ls=It(os,as),cs=It(ss===void 0?as:ss,as),us=Qn(qn(cs-ls,0)),ds=0;ls<cs;ls++,ds++)wn(us,ds,ns[ls]);return us.length=ds,us}(er)}},nr={f:function(ts){return er&&Z$2(ts)=="Window"?tr(ts):$n(K$2(ts))}},rr={f:Ce$1},or=p$6,ir=Je$1.f,cr=function(ts){var rs=or.Symbol||(or.Symbol={});ge$2(rs,ts)||ir(rs,ts,{value:rr.f(ts)})},ar=function(){var ts=z$3("Symbol"),rs=ts&&ts.prototype,ns=rs&&rs.valueOf,os=Ce$1("toPrimitive");rs&&!rs[os]&&mt(rs,os,function(ss){return g$4(ns,this)},{arity:1})},sr=Je$1.f,ur=Ce$1("toStringTag"),lr=function(ts,rs,ns){ts&&!ns&&(ts=ts.prototype),ts&&!ge$2(ts,ur)&&sr(ts,ur,{configurable:!0,value:rs})},fr=L$2(L$2.bind),dr=function(ts,rs){return ue$1(ts),rs===void 0?ts:m$6?fr(ts,rs):function(){return ts.apply(rs,arguments)}},hr=L$2([].push),pr=function(ts){var rs=ts==1,ns=ts==2,os=ts==3,ss=ts==4,as=ts==6,ls=ts==7,cs=ts==5||as;return function(us,ds,ps,fs){for(var hs,ms,gs=me$1(us),vs=A$2(gs),bs=dr(ds,ps),xs=Tt(vs),ys=0,Ss=fs||Zn,Cs=rs?Ss(us,xs):ns||ls?Ss(us,0):void 0;xs>ys;ys++)if((cs||ys in vs)&&(ms=bs(hs=vs[ys],ys,gs),ts))if(rs)Cs[ys]=ms;else if(ms)switch(ts){case 3:return!0;case 5:return hs;case 6:return ys;case 2:hr(Cs,hs)}else switch(ts){case 4:return!1;case 7:hr(Cs,hs)}return as?-1:os||ss?ss:Cs}},yr={forEach:pr(0),map:pr(1),filter:pr(2),some:pr(3),every:pr(4),find:pr(5),findIndex:pr(6),filterReject:pr(7)}.forEach,vr=ct("hidden"),mr=yt.set,br=yt.getterFor("Symbol"),gr=Object.prototype,wr=p$6.Symbol,Sr=wr&&wr.prototype,kr=p$6.TypeError,_r=p$6.QObject,Ir=Xe$1.f,Or=Je$1.f,xr=nr.f,Tr=_$4.f,Cr=L$2([].push),jr=ye$2("symbols"),Lr=ye$2("op-symbols"),Rr=ye$2("wks"),Wr=!_r||!_r.prototype||!_r.prototype.findChild,Zr=v$6&&y$2(function(){return Bn(Or({},"a",{get:function(){return Or(this,"a",{value:7}).a}})).a!=7})?function(ts,rs,ns){var os=Ir(gr,rs);os&&delete gr[rs],Or(ts,rs,ns),os&&ts!==gr&&Or(gr,rs,os)}:Or,Er=function(ts,rs){var ns=jr[ts]=Bn(Sr);return mr(ns,{type:"Symbol",tag:ts,description:rs}),v$6||(ns.description=rs),ns},Gr=function(ts,rs,ns){ts===gr&&Gr(Lr,rs,ns),Ue$1(ts);var os=We$2(rs);return Ue$1(ns),ge$2(jr,os)?(ns.enumerable?(ge$2(ts,vr)&&ts[vr][os]&&(ts[vr][os]=!1),ns=Bn(ns,{enumerable:I$2(0,!1)})):(ge$2(ts,vr)||Or(ts,vr,I$2(1,{})),ts[vr][os]=!0),Zr(ts,os,ns)):Or(ts,os,ns)},Ar=function(ts,rs){Ue$1(ts);var ns=K$2(rs),os=Nn(ns).concat(Kr(ns));return yr(os,function(ss){v$6&&!g$4(Pr,ns,ss)||Gr(ts,ss,ns[ss])}),ts},Pr=function(ts){var rs=We$2(ts),ns=g$4(Tr,this,rs);return!(this===gr&&ge$2(jr,rs)&&!ge$2(Lr,rs))&&(!(ns||!ge$2(this,rs)||!ge$2(jr,rs)||ge$2(this,vr)&&this[vr][rs])||ns)},Xr=function(ts,rs){var ns=K$2(ts),os=We$2(rs);if(ns!==gr||!ge$2(jr,os)||ge$2(Lr,os)){var ss=Ir(ns,os);return!ss||!ge$2(jr,os)||ge$2(ns,vr)&&ns[vr][os]||(ss.enumerable=!0),ss}},Fr=function(ts){var rs=xr(K$2(ts)),ns=[];return yr(rs,function(os){ge$2(jr,os)||ge$2(at,os)||Cr(ns,os)}),ns},Kr=function(ts){var rs=ts===gr,ns=xr(rs?Lr:K$2(ts)),os=[];return yr(ns,function(ss){!ge$2(jr,ss)||rs&&!ge$2(gr,ss)||Cr(os,jr[ss])}),os};ne$2||(Sr=(wr=function(){if(M$2(Sr,this))throw kr("Symbol is not a constructor");var ts=arguments.length&&arguments[0]!==void 0?rn(arguments[0]):void 0,rs=_e$1(ts),ns=function(os){this===gr&&g$4(ns,Lr,os),ge$2(this,vr)&&ge$2(this[vr],rs)&&(this[vr][rs]=!1),Zr(this,rs,I$2(1,os))};return v$6&&Wr&&Zr(gr,rs,{configurable:!0,set:ns}),Er(rs,ts)}).prototype,mt(Sr,"toString",function(){return br(this).tag}),mt(wr,"withoutSetter",function(ts){return Er(_e$1(ts),ts)}),_$4.f=Pr,Je$1.f=Gr,Dn.f=Ar,Xe$1.f=Xr,Gt.f=nr.f=Fr,At.f=Kr,rr.f=function(ts){return Er(Ce$1(ts),ts)},v$6&&(Or(Sr,"description",{configurable:!0,get:function(){return br(this).description}}),mt(gr,"propertyIsEnumerable",Pr,{unsafe:!0}))),zt({global:!0,constructor:!0,wrap:!0,forced:!ne$2,sham:!ne$2},{Symbol:wr}),yr(Nn(Rr),function(ts){cr(ts)}),zt({target:"Symbol",stat:!0,forced:!ne$2},{useSetter:function(){Wr=!0},useSimple:function(){Wr=!1}}),zt({target:"Object",stat:!0,forced:!ne$2,sham:!v$6},{create:function(ts,rs){return rs===void 0?Bn(ts):Ar(Bn(ts),rs)},defineProperty:Gr,defineProperties:Ar,getOwnPropertyDescriptor:Xr}),zt({target:"Object",stat:!0,forced:!ne$2},{getOwnPropertyNames:Fr}),ar(),lr(wr,"Symbol"),at[vr]=!0;var Nr=ne$2&&!!Symbol.for&&!!Symbol.keyFor,Ur=ye$2("string-to-symbol-registry"),Dr=ye$2("symbol-to-string-registry");zt({target:"Symbol",stat:!0,forced:!Nr},{for:function(ts){var rs=rn(ts);if(ge$2(Ur,rs))return Ur[rs];var ns=z$3("Symbol")(rs);return Ur[rs]=ns,Dr[ns]=rs,ns}});var Hr=ye$2("symbol-to-string-registry");zt({target:"Symbol",stat:!0,forced:!Nr},{keyFor:function(ts){if(!ie$2(ts))throw TypeError(ae$2(ts)+" is not a symbol");if(ge$2(Hr,ts))return Hr[ts]}});var Yr=Function.prototype,Jr=Yr.apply,Vr=Yr.call,zr=typeof Reflect=="object"&&Reflect.apply||(m$6?Vr.bind(Jr):function(){return Vr.apply(Jr,arguments)}),Mr=L$2([].slice),Br=z$3("JSON","stringify"),Qr=L$2(/./.exec),qr=L$2("".charAt),$r=L$2("".charCodeAt),eo=L$2("".replace),to=L$2(1 .toString),no=/[\uD800-\uDFFF]/g,ro=/^[\uD800-\uDBFF]$/,oo=/^[\uDC00-\uDFFF]$/,io=!ne$2||y$2(function(){var ts=z$3("Symbol")();return Br([ts])!="[null]"||Br({a:ts})!="{}"||Br(Object(ts))!="{}"}),co=y$2(function(){return Br("\uDF06\uD834")!=='"\\udf06\\ud834"'||Br("\uDEAD")!=='"\\udead"'}),ao=function(ts,rs){var ns=Mr(arguments),os=rs;if((J$1(rs)||ts!==void 0)&&!ie$2(ts))return mn(rs)||(rs=function(ss,as){if(H$2(os)&&(as=g$4(os,this,ss,as)),!ie$2(as))return as}),ns[1]=rs,zr(Br,null,ns)},so=function(ts,rs,ns){var os=qr(ns,rs-1),ss=qr(ns,rs+1);return Qr(ro,ts)&&!Qr(oo,ss)||Qr(oo,ts)&&!Qr(ro,os)?"\\u"+to($r(ts,0),16):ts};Br&&zt({target:"JSON",stat:!0,arity:3,forced:io||co},{stringify:function(ts,rs,ns){var os=Mr(arguments),ss=zr(io?ao:Br,null,os);return co&&typeof ss=="string"?eo(ss,no,so):ss}});var uo=!ne$2||y$2(function(){At.f(1)});zt({target:"Object",stat:!0,forced:uo},{getOwnPropertySymbols:function(ts){var rs=At.f;return rs?rs(me$1(ts)):[]}}),cr("asyncIterator");var lo=Je$1.f,fo=p$6.Symbol,ho=fo&&fo.prototype;if(v$6&&H$2(fo)&&(!("description"in ho)||fo().description!==void 0)){var po={},yo=function(){var ts=arguments.length<1||arguments[0]===void 0?void 0:rn(arguments[0]),rs=M$2(ho,this)?new fo(ts):ts===void 0?fo():fo(ts);return ts===""&&(po[rs]=!0),rs};Ft(yo,fo),yo.prototype=ho,ho.constructor=yo;var vo=String(fo("test"))=="Symbol(test)",mo=L$2(ho.valueOf),bo=L$2(ho.toString),go=/^Symbol\((.*)\)[^)]+$/,wo=L$2("".replace),So=L$2("".slice);lo(ho,"description",{configurable:!0,get:function(){var ts=mo(this);if(ge$2(po,ts))return"";var rs=bo(ts),ns=vo?So(rs,7,-1):wo(rs,go,"$1");return ns===""?void 0:ns}}),zt({global:!0,constructor:!0,forced:!0},{Symbol:yo})}cr("hasInstance"),cr("isConcatSpreadable"),cr("iterator"),cr("match"),cr("matchAll"),cr("replace"),cr("search"),cr("species"),cr("split"),cr("toPrimitive"),ar(),cr("toStringTag"),lr(z$3("Symbol"),"Symbol"),cr("unscopables"),lr(p$6.JSON,"JSON",!0),lr(Math,"Math",!0),zt({global:!0},{Reflect:{}}),lr(p$6.Reflect,"Reflect",!0),or.Symbol;var ko,_o$1,Io,Oo=L$2("".charAt),xo=L$2("".charCodeAt),To=L$2("".slice),Co=function(ts){return function(rs,ns){var os,ss,as=rn(F$1(rs)),ls=St(ns),cs=as.length;return ls<0||ls>=cs?ts?"":void 0:(os=xo(as,ls))<55296||os>56319||ls+1===cs||(ss=xo(as,ls+1))<56320||ss>57343?ts?Oo(as,ls):os:ts?To(as,ls,ls+2):ss-56320+(os-55296<<10)+65536}},jo={codeAt:Co(!1),charAt:Co(!0)},Lo=!y$2(function(){function ts(){}return ts.prototype.constructor=null,Object.getPrototypeOf(new ts)!==ts.prototype}),Ro=ct("IE_PROTO"),Wo=Object,Zo=Wo.prototype,Eo=Lo?Wo.getPrototypeOf:function(ts){var rs=me$1(ts);if(ge$2(rs,Ro))return rs[Ro];var ns=rs.constructor;return H$2(ns)&&rs instanceof ns?ns.prototype:rs instanceof Wo?Zo:null},Go=Ce$1("iterator"),Ao=!1;[].keys&&("next"in(Io=[].keys())?(_o$1=Eo(Eo(Io)))!==Object.prototype&&(ko=_o$1):Ao=!0);var Po=!J$1(ko)||y$2(function(){var ts={};return ko[Go].call(ts)!==ts});Po&&(ko={}),H$2(ko[Go])||mt(ko,Go,function(){return this});var Xo={IteratorPrototype:ko,BUGGY_SAFARI_ITERATORS:Ao},Fo={},Ko=Xo.IteratorPrototype,No=function(){return this},Uo=String,Do=TypeError,Ho=Object.setPrototypeOf||("__proto__"in{}?function(){var ts,rs=!1,ns={};try{(ts=L$2(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(ns,[]),rs=ns instanceof Array}catch{}return function(os,ss){return Ue$1(os),function(as){if(typeof as=="object"||H$2(as))return as;throw Do("Can't set "+Uo(as)+" as a prototype")}(ss),rs?ts(os,ss):os.__proto__=ss,os}}():void 0),Yo=Qe$1.PROPER,Jo=Qe$1.CONFIGURABLE,Vo=Xo.IteratorPrototype,zo=Xo.BUGGY_SAFARI_ITERATORS,Mo=Ce$1("iterator"),Bo=function(){return this},Qo=function(ts,rs,ns,os,ss,as,ls){(function(xs,ys,Ss,Cs){var $s=ys+" Iterator";xs.prototype=Bn(Ko,{next:I$2(+!Cs,Ss)}),lr(xs,$s,!1),Fo[$s]=No})(ns,rs,os);var cs,us,ds,ps=function(xs){if(xs===ss&&vs)return vs;if(!zo&&xs in ms)return ms[xs];switch(xs){case"keys":case"values":case"entries":return function(){return new ns(this,xs)}}return function(){return new ns(this)}},fs=rs+" Iterator",hs=!1,ms=ts.prototype,gs=ms[Mo]||ms["@@iterator"]||ss&&ms[ss],vs=!zo&&gs||ps(ss),bs=rs=="Array"&&ms.entries||gs;if(bs&&(cs=Eo(bs.call(new ts)))!==Object.prototype&&cs.next&&(Eo(cs)!==Vo&&(Ho?Ho(cs,Vo):H$2(cs[Mo])||mt(cs,Mo,Bo)),lr(cs,fs,!0)),Yo&&ss=="values"&&gs&&gs.name!=="values"&&(Jo?Ve$2(ms,"name","values"):(hs=!0,vs=function(){return g$4(gs,this)})),ss)if(us={values:ps("values"),keys:as?vs:ps("keys"),entries:ps("entries")},ls)for(ds in us)(zo||hs||!(ds in ms))&&mt(ms,ds,us[ds]);else zt({target:rs,proto:!0,forced:zo||hs},us);return ms[Mo]!==vs&&mt(ms,Mo,vs,{name:ss}),Fo[rs]=vs,us},qo=function(ts,rs){return{value:ts,done:rs}},$o=jo.charAt,ei$1=yt.set,ti$1=yt.getterFor("String Iterator");Qo(String,"String",function(ts){ei$1(this,{type:"String Iterator",string:rn(ts),index:0})},function(){var ts,rs=ti$1(this),ns=rs.string,os=rs.index;return os>=ns.length?qo(void 0,!0):(ts=$o(ns,os),rs.index+=ts.length,qo(ts,!1))});var ni$1=function(ts,rs,ns){var os,ss;Ue$1(ts);try{if(!(os=le$2(ts,"return"))){if(rs==="throw")throw ns;return ns}os=g$4(os,ts)}catch(as){ss=!0,os=as}if(rs==="throw")throw ns;if(ss)throw os;return Ue$1(os),ns},ri$1=function(ts,rs,ns,os){try{return os?rs(Ue$1(ns)[0],ns[1]):rs(ns)}catch(ss){ni$1(ts,"throw",ss)}},oi$1=Ce$1("iterator"),ii$1=Array.prototype,ci$1=function(ts){return ts!==void 0&&(Fo.Array===ts||ii$1[oi$1]===ts)},ai$1=Ce$1("iterator"),si$1=function(ts){if(!P$2(ts))return le$2(ts,ai$1)||le$2(ts,"@@iterator")||Fo[tn(ts)]},ui$1=TypeError,li$1=function(ts,rs){var ns=arguments.length<2?si$1(ts):rs;if(ue$1(ns))return Ue$1(g$4(ns,ts));throw ui$1(ae$2(ts)+" is not iterable")},fi$1=Array,di$1=Ce$1("iterator"),hi$1=!1;try{var pi$1=0,yi$1={next:function(){return{done:!!pi$1++}},return:function(){hi$1=!0}};yi$1[di$1]=function(){return this},Array.from(yi$1,function(){throw 2})}catch{}var vi$1=function(ts,rs){if(!rs&&!hi$1)return!1;var ns=!1;try{var os={};os[di$1]=function(){return{next:function(){return{done:ns=!0}}}},ts(os)}catch{}return ns},mi$1=!vi$1(function(ts){Array.from(ts)});zt({target:"Array",stat:!0,forced:mi$1},{from:function(ts){var rs=me$1(ts),ns=Ln(this),os=arguments.length,ss=os>1?arguments[1]:void 0,as=ss!==void 0;as&&(ss=dr(ss,os>2?arguments[2]:void 0));var ls,cs,us,ds,ps,fs,hs=si$1(rs),ms=0;if(!hs||this===fi$1&&ci$1(hs))for(ls=Tt(rs),cs=ns?new this(ls):fi$1(ls);ls>ms;ms++)fs=as?ss(rs[ms],ms):rs[ms],wn(cs,ms,fs);else for(ps=(ds=li$1(rs,hs)).next,cs=ns?new this:[];!(us=g$4(ps,ds)).done;ms++)fs=as?ri$1(ds,ss,[us.value,ms],!0):us.value,wn(cs,ms,fs);return cs.length=ms,cs}}),or.Array.from;var bi$1,gi$1,wi$1,Si$1=typeof ArrayBuffer<"u"&&typeof DataView<"u",ki$1=Je$1.f,_i=yt.enforce,Ii$1=yt.get,Oi$1=p$6.Int8Array,xi$1=Oi$1&&Oi$1.prototype,Ti$1=p$6.Uint8ClampedArray,Ci$1=Ti$1&&Ti$1.prototype,ji$1=Oi$1&&Eo(Oi$1),Li$1=xi$1&&Eo(xi$1),Ri$1=Object.prototype,Wi$1=p$6.TypeError,Zi$1=Ce$1("toStringTag"),Ei$1=_e$1("TYPED_ARRAY_TAG"),Gi$1=Si$1&&!!Ho&&tn(p$6.opera)!=="Opera",Ai$1=!1,Pi$1={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},Xi$1={BigInt64Array:8,BigUint64Array:8},Fi$1=function(ts){var rs=Eo(ts);if(J$1(rs)){var ns=Ii$1(rs);return ns&&ge$2(ns,"TypedArrayConstructor")?ns.TypedArrayConstructor:Fi$1(rs)}},Ki$1=function(ts){if(!J$1(ts))return!1;var rs=tn(ts);return ge$2(Pi$1,rs)||ge$2(Xi$1,rs)};for(bi$1 in Pi$1)(wi$1=(gi$1=p$6[bi$1])&&gi$1.prototype)?_i(wi$1).TypedArrayConstructor=gi$1:Gi$1=!1;for(bi$1 in Xi$1)(wi$1=(gi$1=p$6[bi$1])&&gi$1.prototype)&&(_i(wi$1).TypedArrayConstructor=gi$1);if((!Gi$1||!H$2(ji$1)||ji$1===Function.prototype)&&(ji$1=function(){throw Wi$1("Incorrect invocation")},Gi$1))for(bi$1 in Pi$1)p$6[bi$1]&&Ho(p$6[bi$1],ji$1);if((!Gi$1||!Li$1||Li$1===Ri$1)&&(Li$1=ji$1.prototype,Gi$1))for(bi$1 in Pi$1)p$6[bi$1]&&Ho(p$6[bi$1].prototype,Li$1);if(Gi$1&&Eo(Ci$1)!==Li$1&&Ho(Ci$1,Li$1),v$6&&!ge$2(Li$1,Zi$1))for(bi$1 in Ai$1=!0,ki$1(Li$1,Zi$1,{get:function(){return J$1(this)?this[Ei$1]:void 0}}),Pi$1)p$6[bi$1]&&Ve$2(p$6[bi$1],Ei$1,bi$1);var Ni$1={NATIVE_ARRAY_BUFFER_VIEWS:Gi$1,TYPED_ARRAY_TAG:Ai$1&&Ei$1,aTypedArray:function(ts){if(Ki$1(ts))return ts;throw Wi$1("Target is not a typed array")},aTypedArrayConstructor:function(ts){if(H$2(ts)&&(!Ho||M$2(ji$1,ts)))return ts;throw Wi$1(ae$2(ts)+" is not a typed array constructor")},exportTypedArrayMethod:function(ts,rs,ns,os){if(v$6){if(ns)for(var ss in Pi$1){var as=p$6[ss];if(as&&ge$2(as.prototype,ts))try{delete as.prototype[ts]}catch{try{as.prototype[ts]=rs}catch{}}}Li$1[ts]&&!ns||mt(Li$1,ts,ns?rs:Gi$1&&xi$1[ts]||rs,os)}},exportTypedArrayStaticMethod:function(ts,rs,ns){var os,ss;if(v$6){if(Ho){if(ns){for(os in Pi$1)if((ss=p$6[os])&&ge$2(ss,ts))try{delete ss[ts]}catch{}}if(ji$1[ts]&&!ns)return;try{return mt(ji$1,ts,ns?rs:Gi$1&&ji$1[ts]||rs)}catch{}}for(os in Pi$1)!(ss=p$6[os])||ss[ts]&&!ns||mt(ss,ts,rs)}},getTypedArrayConstructor:Fi$1,isView:function(ts){if(!J$1(ts))return!1;var rs=tn(ts);return rs==="DataView"||ge$2(Pi$1,rs)||ge$2(Xi$1,rs)},isTypedArray:Ki$1,TypedArray:ji$1,TypedArrayPrototype:Li$1},Ui$1=TypeError,Di$1=Ce$1("species"),Hi$1=function(ts,rs){var ns,os=Ue$1(ts).constructor;return os===void 0||P$2(ns=Ue$1(os)[Di$1])?rs:function(ss){if(Ln(ss))return ss;throw Ui$1(ae$2(ss)+" is not a constructor")}(ns)},Yi$1=Ni$1.aTypedArrayConstructor,Ji$1=Ni$1.getTypedArrayConstructor,Vi$1=Ni$1.aTypedArray;(0,Ni$1.exportTypedArrayMethod)("slice",function(ts,rs){for(var ns,os=Mr(Vi$1(this),ts,rs),ss=Yi$1(Hi$1(ns=this,Ji$1(ns))),as=0,ls=os.length,cs=new ss(ls);ls>as;)cs[as]=os[as++];return cs},y$2(function(){new Int8Array(1).slice()}));var zi$1=Je$1.f,Mi$1=Ce$1("unscopables"),Bi$1=Array.prototype;Bi$1[Mi$1]==null&&zi$1(Bi$1,Mi$1,{configurable:!0,value:Bn(null)});var Qi$1=function(ts){Bi$1[Mi$1][ts]=!0},qi$1=jt.includes,$i$1=y$2(function(){return!Array(1).includes()});zt({target:"Array",proto:!0,forced:$i$1},{includes:function(ts){return qi$1(this,ts,arguments.length>1?arguments[1]:void 0)}}),Qi$1("includes"),vn("Array","includes");var ec$1=L$2("".indexOf);zt({target:"String",proto:!0,forced:!un("includes")},{includes:function(ts){return!!~ec$1(rn(F$1(this)),rn(an(ts)),arguments.length>1?arguments[1]:void 0)}}),vn("String","includes");var tc$1=Je$1.f,nc$1=yt.set,rc$1=yt.getterFor("Array Iterator");Qo(Array,"Array",function(ts,rs){nc$1(this,{type:"Array Iterator",target:K$2(ts),index:0,kind:rs})},function(){var ts=rc$1(this),rs=ts.target,ns=ts.kind,os=ts.index++;return!rs||os>=rs.length?(ts.target=void 0,qo(void 0,!0)):qo(ns=="keys"?os:ns=="values"?rs[os]:[os,rs[os]],!1)},"values");var oc$1=Fo.Arguments=Fo.Array;if(Qi$1("keys"),Qi$1("values"),Qi$1("entries"),v$6&&oc$1.name!=="values")try{tc$1(oc$1,"name",{value:"values"})}catch{}var ic$1=y$2(function(){if(typeof ArrayBuffer=="function"){var ts=new ArrayBuffer(8);Object.isExtensible(ts)&&Object.defineProperty(ts,"a",{value:8})}}),cc$1=Object.isExtensible,ac$1=y$2(function(){cc$1(1)})||ic$1?function(ts){return!!J$1(ts)&&(!ic$1||Z$2(ts)!="ArrayBuffer")&&(!cc$1||cc$1(ts))}:cc$1,sc$1=!y$2(function(){return Object.isExtensible(Object.preventExtensions({}))}),uc$1=l$5(function(ts){var rs=Je$1.f,ns=!1,os=_e$1("meta"),ss=0,as=function(cs){rs(cs,os,{value:{objectID:"O"+ss++,weakData:{}}})},ls=ts.exports={enable:function(){ls.enable=function(){},ns=!0;var cs=Gt.f,us=L$2([].splice),ds={};ds[os]=1,cs(ds).length&&(Gt.f=function(ps){for(var fs=cs(ps),hs=0,ms=fs.length;hs<ms;hs++)if(fs[hs]===os){us(fs,hs,1);break}return fs},zt({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:nr.f}))},fastKey:function(cs,us){if(!J$1(cs))return typeof cs=="symbol"?cs:(typeof cs=="string"?"S":"P")+cs;if(!ge$2(cs,os)){if(!ac$1(cs))return"F";if(!us)return"E";as(cs)}return cs[os].objectID},getWeakData:function(cs,us){if(!ge$2(cs,os)){if(!ac$1(cs))return!0;if(!us)return!1;as(cs)}return cs[os].weakData},onFreeze:function(cs){return sc$1&&ns&&ac$1(cs)&&!ge$2(cs,os)&&as(cs),cs}};at[os]=!0});uc$1.enable,uc$1.fastKey,uc$1.getWeakData,uc$1.onFreeze;var lc$1=TypeError,fc$1=function(ts,rs){this.stopped=ts,this.result=rs},dc$1=fc$1.prototype,hc$1=function(ts,rs,ns){var os,ss,as,ls,cs,us,ds,ps=ns&&ns.that,fs=!(!ns||!ns.AS_ENTRIES),hs=!(!ns||!ns.IS_RECORD),ms=!(!ns||!ns.IS_ITERATOR),gs=!(!ns||!ns.INTERRUPTED),vs=dr(rs,ps),bs=function(ys){return os&&ni$1(os,"normal",ys),new fc$1(!0,ys)},xs=function(ys){return fs?(Ue$1(ys),gs?vs(ys[0],ys[1],bs):vs(ys[0],ys[1])):gs?vs(ys,bs):vs(ys)};if(hs)os=ts.iterator;else if(ms)os=ts;else{if(!(ss=si$1(ts)))throw lc$1(ae$2(ts)+" is not iterable");if(ci$1(ss)){for(as=0,ls=Tt(ts);ls>as;as++)if((cs=xs(ts[as]))&&M$2(dc$1,cs))return cs;return new fc$1(!1)}os=li$1(ts,ss)}for(us=hs?ts.next:os.next;!(ds=g$4(us,os)).done;){try{cs=xs(ds.value)}catch(ys){ni$1(os,"throw",ys)}if(typeof cs=="object"&&cs&&M$2(dc$1,cs))return cs}return new fc$1(!1)},pc$1=TypeError,yc$1=function(ts,rs){if(M$2(rs,ts))return ts;throw pc$1("Incorrect invocation")},vc$1=function(ts,rs,ns){for(var os in rs)mt(ts,os,rs[os],ns);return ts},mc$1=Ce$1("species"),bc$1=Je$1.f,gc$1=uc$1.fastKey,wc$1=yt.set,Sc$1=yt.getterFor,kc$1={getConstructor:function(ts,rs,ns,os){var ss=ts(function(ds,ps){yc$1(ds,as),wc$1(ds,{type:rs,index:Bn(null),first:void 0,last:void 0,size:0}),v$6||(ds.size=0),P$2(ps)||hc$1(ps,ds[os],{that:ds,AS_ENTRIES:ns})}),as=ss.prototype,ls=Sc$1(rs),cs=function(ds,ps,fs){var hs,ms,gs=ls(ds),vs=us(ds,ps);return vs?vs.value=fs:(gs.last=vs={index:ms=gc$1(ps,!0),key:ps,value:fs,previous:hs=gs.last,next:void 0,removed:!1},gs.first||(gs.first=vs),hs&&(hs.next=vs),v$6?gs.size++:ds.size++,ms!=="F"&&(gs.index[ms]=vs)),ds},us=function(ds,ps){var fs,hs=ls(ds),ms=gc$1(ps);if(ms!=="F")return hs.index[ms];for(fs=hs.first;fs;fs=fs.next)if(fs.key==ps)return fs};return vc$1(as,{clear:function(){for(var ds=ls(this),ps=ds.index,fs=ds.first;fs;)fs.removed=!0,fs.previous&&(fs.previous=fs.previous.next=void 0),delete ps[fs.index],fs=fs.next;ds.first=ds.last=void 0,v$6?ds.size=0:this.size=0},delete:function(ds){var ps=this,fs=ls(ps),hs=us(ps,ds);if(hs){var ms=hs.next,gs=hs.previous;delete fs.index[hs.index],hs.removed=!0,gs&&(gs.next=ms),ms&&(ms.previous=gs),fs.first==hs&&(fs.first=ms),fs.last==hs&&(fs.last=gs),v$6?fs.size--:ps.size--}return!!hs},forEach:function(ds){for(var ps,fs=ls(this),hs=dr(ds,arguments.length>1?arguments[1]:void 0);ps=ps?ps.next:fs.first;)for(hs(ps.value,ps.key,this);ps&&ps.removed;)ps=ps.previous},has:function(ds){return!!us(this,ds)}}),vc$1(as,ns?{get:function(ds){var ps=us(this,ds);return ps&&ps.value},set:function(ds,ps){return cs(this,ds===0?0:ds,ps)}}:{add:function(ds){return cs(this,ds=ds===0?0:ds,ds)}}),v$6&&bc$1(as,"size",{get:function(){return ls(this).size}}),ss},setStrong:function(ts,rs,ns){var os=rs+" Iterator",ss=Sc$1(rs),as=Sc$1(os);Qo(ts,rs,function(ls,cs){wc$1(this,{type:os,target:ls,state:ss(ls),kind:cs,last:void 0})},function(){for(var ls=as(this),cs=ls.kind,us=ls.last;us&&us.removed;)us=us.previous;return ls.target&&(ls.last=us=us?us.next:ls.state.first)?qo(cs=="keys"?us.key:cs=="values"?us.value:[us.key,us.value],!1):(ls.target=void 0,qo(void 0,!0))},ns?"entries":"values",!ns,!0),function(ls){var cs=z$3(ls),us=Je$1.f;v$6&&cs&&!cs[mc$1]&&us(cs,mc$1,{configurable:!0,get:function(){return this}})}(rs)}};function _c(ts){var rs=this.constructor;return this.then(function(ns){return rs.resolve(ts()).then(function(){return ns})},function(ns){return rs.resolve(ts()).then(function(){return rs.reject(ns)})})}function Ic$1(ts){return new this(function(rs,ns){if(!ts||ts.length===void 0)return ns(new TypeError(typeof ts+" "+ts+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var os=Array.prototype.slice.call(ts);if(os.length===0)return rs([]);var ss=os.length;function as(cs,us){if(us&&(typeof us=="object"||typeof us=="function")){var ds=us.then;if(typeof ds=="function")return void ds.call(us,function(ps){as(cs,ps)},function(ps){os[cs]={status:"rejected",reason:ps},--ss==0&&rs(os)})}os[cs]={status:"fulfilled",value:us},--ss==0&&rs(os)}for(var ls=0;ls<os.length;ls++)as(ls,os[ls])})}(function(ts,rs,ns){var os=ts.indexOf("Map")!==-1,ss=ts.indexOf("Weak")!==-1,as=os?"set":"add",ls=p$6[ts],cs=ls&&ls.prototype,us=ls,ds={},ps=function(bs){var xs=L$2(cs[bs]);mt(cs,bs,bs=="add"?function(ys){return xs(this,ys===0?0:ys),this}:bs=="delete"?function(ys){return!(ss&&!J$1(ys))&&xs(this,ys===0?0:ys)}:bs=="get"?function(ys){return ss&&!J$1(ys)?void 0:xs(this,ys===0?0:ys)}:bs=="has"?function(ys){return!(ss&&!J$1(ys))&&xs(this,ys===0?0:ys)}:function(ys,Ss){return xs(this,ys===0?0:ys,Ss),this})};if(Jt(ts,!H$2(ls)||!(ss||cs.forEach&&!y$2(function(){new ls().entries().next()}))))us=ns.getConstructor(rs,ts,os,as),uc$1.enable();else if(Jt(ts,!0)){var fs=new us,hs=fs[as](ss?{}:-0,1)!=fs,ms=y$2(function(){fs.has(1)}),gs=vi$1(function(bs){new ls(bs)}),vs=!ss&&y$2(function(){for(var bs=new ls,xs=5;xs--;)bs[as](xs,xs);return!bs.has(-0)});gs||((us=rs(function(bs,xs){yc$1(bs,cs);var ys=function(Ss,Cs,$s){var Es,ws;return Ho&&H$2(Es=Cs.constructor)&&Es!==$s&&J$1(ws=Es.prototype)&&ws!==$s.prototype&&Ho(Ss,ws),Ss}(new ls,bs,us);return P$2(xs)||hc$1(xs,ys[as],{that:ys,AS_ENTRIES:os}),ys})).prototype=cs,cs.constructor=us),(ms||vs)&&(ps("delete"),ps("has"),os&&ps("get")),(vs||hs)&&ps(as),ss&&cs.clear&&delete cs.clear}ds[ts]=us,zt({global:!0,constructor:!0,forced:us!=ls},ds),lr(us,ts),ss||ns.setStrong(us,ts,os)})("Set",function(ts){return function(){return ts(this,arguments.length?arguments[0]:void 0)}},kc$1),or.Set;var Oc$1=setTimeout;function xc$1(ts){return!!(ts&&ts.length!==void 0)}function Tc$1(){}function Cc$1(ts){if(!(this instanceof Cc$1))throw new TypeError("Promises must be constructed via new");if(typeof ts!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],Ec$1(ts,this)}function jc$1(ts,rs){for(;ts._state===3;)ts=ts._value;ts._state!==0?(ts._handled=!0,Cc$1._immediateFn(function(){var ns=ts._state===1?rs.onFulfilled:rs.onRejected;if(ns!==null){var os;try{os=ns(ts._value)}catch(ss){return void Rc$1(rs.promise,ss)}Lc$1(rs.promise,os)}else(ts._state===1?Lc$1:Rc$1)(rs.promise,ts._value)})):ts._deferreds.push(rs)}function Lc$1(ts,rs){try{if(rs===ts)throw new TypeError("A promise cannot be resolved with itself.");if(rs&&(typeof rs=="object"||typeof rs=="function")){var ns=rs.then;if(rs instanceof Cc$1)return ts._state=3,ts._value=rs,void Wc$1(ts);if(typeof ns=="function")return void Ec$1((os=ns,ss=rs,function(){os.apply(ss,arguments)}),ts)}ts._state=1,ts._value=rs,Wc$1(ts)}catch(as){Rc$1(ts,as)}var os,ss}function Rc$1(ts,rs){ts._state=2,ts._value=rs,Wc$1(ts)}function Wc$1(ts){ts._state===2&&ts._deferreds.length===0&&Cc$1._immediateFn(function(){ts._handled||Cc$1._unhandledRejectionFn(ts._value)});for(var rs=0,ns=ts._deferreds.length;rs<ns;rs++)jc$1(ts,ts._deferreds[rs]);ts._deferreds=null}function Zc$1(ts,rs,ns){this.onFulfilled=typeof ts=="function"?ts:null,this.onRejected=typeof rs=="function"?rs:null,this.promise=ns}function Ec$1(ts,rs){var ns=!1;try{ts(function(os){ns||(ns=!0,Lc$1(rs,os))},function(os){ns||(ns=!0,Rc$1(rs,os))})}catch(os){if(ns)return;ns=!0,Rc$1(rs,os)}}Cc$1.prototype.catch=function(ts){return this.then(null,ts)},Cc$1.prototype.then=function(ts,rs){var ns=new this.constructor(Tc$1);return jc$1(this,new Zc$1(ts,rs,ns)),ns},Cc$1.prototype.finally=_c,Cc$1.all=function(ts){return new Cc$1(function(rs,ns){if(!xc$1(ts))return ns(new TypeError("Promise.all accepts an array"));var os=Array.prototype.slice.call(ts);if(os.length===0)return rs([]);var ss=os.length;function as(cs,us){try{if(us&&(typeof us=="object"||typeof us=="function")){var ds=us.then;if(typeof ds=="function")return void ds.call(us,function(ps){as(cs,ps)},ns)}os[cs]=us,--ss==0&&rs(os)}catch(ps){ns(ps)}}for(var ls=0;ls<os.length;ls++)as(ls,os[ls])})},Cc$1.allSettled=Ic$1,Cc$1.resolve=function(ts){return ts&&typeof ts=="object"&&ts.constructor===Cc$1?ts:new Cc$1(function(rs){rs(ts)})},Cc$1.reject=function(ts){return new Cc$1(function(rs,ns){ns(ts)})},Cc$1.race=function(ts){return new Cc$1(function(rs,ns){if(!xc$1(ts))return ns(new TypeError("Promise.race accepts an array"));for(var os=0,ss=ts.length;os<ss;os++)Cc$1.resolve(ts[os]).then(rs,ns)})},Cc$1._immediateFn=typeof setImmediate=="function"&&function(ts){setImmediate(ts)}||function(ts){Oc$1(ts,0)},Cc$1._unhandledRejectionFn=function(ts){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",ts)};var Gc$1=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}();typeof Gc$1.Promise!="function"?Gc$1.Promise=Cc$1:(Gc$1.Promise.prototype.finally||(Gc$1.Promise.prototype.finally=_c),Gc$1.Promise.allSettled||(Gc$1.Promise.allSettled=Ic$1)),function(ts){function rs(ms){for(var gs=0,vs=Math.min(65536,ms.length+1),bs=new Uint16Array(vs),xs=[],ys=0;;){var Ss=gs<ms.length;if(!Ss||ys>=vs-1){var Cs=bs.subarray(0,ys);if(xs.push(String.fromCharCode.apply(null,Cs)),!Ss)return xs.join("");ms=ms.subarray(gs),gs=0,ys=0}var $s=ms[gs++];if(!(128&$s))bs[ys++]=$s;else if((224&$s)==192){var Es=63&ms[gs++];bs[ys++]=(31&$s)<<6|Es}else if((240&$s)==224){Es=63&ms[gs++];var ws=63&ms[gs++];bs[ys++]=(31&$s)<<12|Es<<6|ws}else if((248&$s)==240){var Ts=(7&$s)<<18|(Es=63&ms[gs++])<<12|(ws=63&ms[gs++])<<6|63&ms[gs++];Ts>65535&&(Ts-=65536,bs[ys++]=Ts>>>10&1023|55296,Ts=56320|1023&Ts),bs[ys++]=Ts}}}var ns="Failed to ",os=function(ms,gs,vs){if(ms)throw new Error("".concat(ns).concat(gs,": the '").concat(vs,"' option is unsupported."))},ss=typeof Buffer=="function"&&Buffer.from,as=ss?function(ms){return Buffer.from(ms)}:function(ms){for(var gs=0,vs=ms.length,bs=0,xs=Math.max(32,vs+(vs>>>1)+7),ys=new Uint8Array(xs>>>3<<3);gs<vs;){var Ss=ms.charCodeAt(gs++);if(Ss>=55296&&Ss<=56319){if(gs<vs){var Cs=ms.charCodeAt(gs);(64512&Cs)==56320&&(++gs,Ss=((1023&Ss)<<10)+(1023&Cs)+65536)}if(Ss>=55296&&Ss<=56319)continue}if(bs+4>ys.length){xs+=8,xs=(xs*=1+gs/ms.length*2)>>>3<<3;var $s=new Uint8Array(xs);$s.set(ys),ys=$s}if(4294967168&Ss){if(!(4294965248&Ss))ys[bs++]=Ss>>>6&31|192;else if(!(4294901760&Ss))ys[bs++]=Ss>>>12&15|224,ys[bs++]=Ss>>>6&63|128;else{if(4292870144&Ss)continue;ys[bs++]=Ss>>>18&7|240,ys[bs++]=Ss>>>12&63|128,ys[bs++]=Ss>>>6&63|128}ys[bs++]=63&Ss|128}else ys[bs++]=Ss}return ys.slice?ys.slice(0,bs):ys.subarray(0,bs)};function ls(){this.encoding="utf-8"}ls.prototype.encode=function(ms,gs){return os(gs&&gs.stream,"encode","stream"),as(ms)};var cs=!ss&&typeof Blob=="function"&&typeof URL=="function"&&typeof URL.createObjectURL=="function",us=["utf-8","utf8","unicode-1-1-utf-8"],ds=rs;ss?ds=function(ms,gs){return(ms instanceof Buffer?ms:Buffer.from(ms.buffer,ms.byteOffset,ms.byteLength)).toString(gs)}:cs&&(ds=function(ms){try{return function(gs){var vs;try{var bs=new Blob([gs],{type:"text/plain;charset=UTF-8"});vs=URL.createObjectURL(bs);var xs=new XMLHttpRequest;return xs.open("GET",vs,!1),xs.send(),xs.responseText}finally{vs&&URL.revokeObjectURL(vs)}}(ms)}catch{return rs(ms)}});var ps="construct 'TextDecoder'",fs="".concat(ns," ").concat(ps,": the ");function hs(ms,gs){if(os(gs&&gs.fatal,ps,"fatal"),ms=ms||"utf-8",!(ss?Buffer.isEncoding(ms):us.indexOf(ms.toLowerCase())!==-1))throw new RangeError("".concat(fs," encoding label provided ('").concat(ms,"') is invalid."));this.encoding=ms,this.fatal=!1,this.ignoreBOM=!1}hs.prototype.decode=function(ms,gs){var vs;return os(gs&&gs.stream,"decode","stream"),vs=ms instanceof Uint8Array?ms:ms.buffer instanceof ArrayBuffer?new Uint8Array(ms.buffer):new Uint8Array(ms),ds(vs,this.encoding)},ts.TextEncoder=ts.TextEncoder||ls,ts.TextDecoder=ts.TextDecoder||hs}(typeof window<"u"?window:s$2),function(){function ts(bs,xs){if(!(bs instanceof xs))throw new TypeError("Cannot call a class as a function")}function rs(bs,xs){for(var ys=0;ys<xs.length;ys++){var Ss=xs[ys];Ss.enumerable=Ss.enumerable||!1,Ss.configurable=!0,"value"in Ss&&(Ss.writable=!0),Object.defineProperty(bs,Ss.key,Ss)}}function ns(bs,xs,ys){return xs&&rs(bs.prototype,xs),ys&&rs(bs,ys),bs}function os(bs,xs){if(typeof xs!="function"&&xs!==null)throw new TypeError("Super expression must either be null or a function");bs.prototype=Object.create(xs&&xs.prototype,{constructor:{value:bs,writable:!0,configurable:!0}}),xs&&as(bs,xs)}function ss(bs){return ss=Object.setPrototypeOf?Object.getPrototypeOf:function(xs){return xs.__proto__||Object.getPrototypeOf(xs)},ss(bs)}function as(bs,xs){return as=Object.setPrototypeOf||function(ys,Ss){return ys.__proto__=Ss,ys},as(bs,xs)}function ls(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function cs(bs){if(bs===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return bs}function us(bs,xs){return!xs||typeof xs!="object"&&typeof xs!="function"?cs(bs):xs}function ds(bs){var xs=ls();return function(){var ys,Ss=ss(bs);if(xs){var Cs=ss(this).constructor;ys=Reflect.construct(Ss,arguments,Cs)}else ys=Ss.apply(this,arguments);return us(this,ys)}}function ps(bs,xs){for(;!Object.prototype.hasOwnProperty.call(bs,xs)&&(bs=ss(bs))!==null;);return bs}function fs(bs,xs,ys){return fs=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(Ss,Cs,$s){var Es=ps(Ss,Cs);if(Es){var ws=Object.getOwnPropertyDescriptor(Es,Cs);return ws.get?ws.get.call($s):ws.value}},fs(bs,xs,ys||bs)}var hs=function(){function bs(){ts(this,bs),Object.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return ns(bs,[{key:"addEventListener",value:function(xs,ys,Ss){xs in this.listeners||(this.listeners[xs]=[]),this.listeners[xs].push({callback:ys,options:Ss})}},{key:"removeEventListener",value:function(xs,ys){if(xs in this.listeners){for(var Ss=this.listeners[xs],Cs=0,$s=Ss.length;Cs<$s;Cs++)if(Ss[Cs].callback===ys)return void Ss.splice(Cs,1)}}},{key:"dispatchEvent",value:function(xs){if(xs.type in this.listeners){for(var ys=this.listeners[xs.type].slice(),Ss=0,Cs=ys.length;Ss<Cs;Ss++){var $s=ys[Ss];try{$s.callback.call(this,xs)}catch(Es){Promise.resolve().then(function(){throw Es})}$s.options&&$s.options.once&&this.removeEventListener(xs.type,$s.callback)}return!xs.defaultPrevented}}}]),bs}(),ms=function(bs){os(ys,bs);var xs=ds(ys);function ys(){var Ss;return ts(this,ys),(Ss=xs.call(this)).listeners||hs.call(cs(Ss)),Object.defineProperty(cs(Ss),"aborted",{value:!1,writable:!0,configurable:!0}),Object.defineProperty(cs(Ss),"onabort",{value:null,writable:!0,configurable:!0}),Ss}return ns(ys,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(Ss){Ss.type==="abort"&&(this.aborted=!0,typeof this.onabort=="function"&&this.onabort.call(this,Ss)),fs(ss(ys.prototype),"dispatchEvent",this).call(this,Ss)}}]),ys}(hs),gs=function(){function bs(){ts(this,bs),Object.defineProperty(this,"signal",{value:new ms,writable:!0,configurable:!0})}return ns(bs,[{key:"abort",value:function(){var xs;try{xs=new Event("abort")}catch{typeof document<"u"?document.createEvent?(xs=document.createEvent("Event")).initEvent("abort",!1,!1):(xs=document.createEventObject()).type="abort":xs={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(xs)}},{key:"toString",value:function(){return"[object AbortController]"}}]),bs}();function vs(bs){return bs.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL?(console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill"),!0):typeof bs.Request=="function"&&!bs.Request.prototype.hasOwnProperty("signal")||!bs.AbortController}typeof Symbol<"u"&&Symbol.toStringTag&&(gs.prototype[Symbol.toStringTag]="AbortController",ms.prototype[Symbol.toStringTag]="AbortSignal"),function(bs){vs(bs)&&(bs.AbortController=gs,bs.AbortSignal=ms)}(typeof self<"u"?self:s$2)}();var Ac$1=l$5(function(ts,rs){Object.defineProperty(rs,"__esModule",{value:!0});var ns=function(){function os(){var ss=this;this.locked=new Map,this.addToLocked=function(as,ls){var cs=ss.locked.get(as);cs===void 0?ls===void 0?ss.locked.set(as,[]):ss.locked.set(as,[ls]):ls!==void 0&&(cs.unshift(ls),ss.locked.set(as,cs))},this.isLocked=function(as){return ss.locked.has(as)},this.lock=function(as){return new Promise(function(ls,cs){ss.isLocked(as)?ss.addToLocked(as,ls):(ss.addToLocked(as),ls())})},this.unlock=function(as){var ls=ss.locked.get(as);if(ls!==void 0&&ls.length!==0){var cs=ls.pop();ss.locked.set(as,ls),cs!==void 0&&setTimeout(cs,0)}else ss.locked.delete(as)}}return os.getInstance=function(){return os.instance===void 0&&(os.instance=new os),os.instance},os}();rs.default=function(){return ns.getInstance()}});u$4(Ac$1);var Pc$1=l$5(function(ts,rs){var ns=s$2&&s$2.__awaiter||function(us,ds,ps,fs){return new(ps||(ps=Promise))(function(hs,ms){function gs(xs){try{bs(fs.next(xs))}catch(ys){ms(ys)}}function vs(xs){try{bs(fs.throw(xs))}catch(ys){ms(ys)}}function bs(xs){xs.done?hs(xs.value):new ps(function(ys){ys(xs.value)}).then(gs,vs)}bs((fs=fs.apply(us,ds||[])).next())})},os=s$2&&s$2.__generator||function(us,ds){var ps,fs,hs,ms,gs={label:0,sent:function(){if(1&hs[0])throw hs[1];return hs[1]},trys:[],ops:[]};return ms={next:vs(0),throw:vs(1),return:vs(2)},typeof Symbol=="function"&&(ms[Symbol.iterator]=function(){return this}),ms;function vs(bs){return function(xs){return function(ys){if(ps)throw new TypeError("Generator is already executing.");for(;gs;)try{if(ps=1,fs&&(hs=2&ys[0]?fs.return:ys[0]?fs.throw||((hs=fs.return)&&hs.call(fs),0):fs.next)&&!(hs=hs.call(fs,ys[1])).done)return hs;switch(fs=0,hs&&(ys=[2&ys[0],hs.value]),ys[0]){case 0:case 1:hs=ys;break;case 4:return gs.label++,{value:ys[1],done:!1};case 5:gs.label++,fs=ys[1],ys=[0];continue;case 7:ys=gs.ops.pop(),gs.trys.pop();continue;default:if(hs=gs.trys,!((hs=hs.length>0&&hs[hs.length-1])||ys[0]!==6&&ys[0]!==2)){gs=0;continue}if(ys[0]===3&&(!hs||ys[1]>hs[0]&&ys[1]<hs[3])){gs.label=ys[1];break}if(ys[0]===6&&gs.label<hs[1]){gs.label=hs[1],hs=ys;break}if(hs&&gs.label<hs[2]){gs.label=hs[2],gs.ops.push(ys);break}hs[2]&&gs.ops.pop(),gs.trys.pop();continue}ys=ds.call(us,gs)}catch(Ss){ys=[6,Ss],fs=0}finally{ps=hs=0}if(5&ys[0])throw ys[1];return{value:ys[0]?ys[1]:void 0,done:!0}}([bs,xs])}}};Object.defineProperty(rs,"__esModule",{value:!0});var ss="browser-tabs-lock-key";function as(us){return new Promise(function(ds){return setTimeout(ds,us)})}function ls(us){for(var ds="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",ps="",fs=0;fs<us;fs++)ps+=ds[Math.floor(Math.random()*ds.length)];return ps}var cs=function(){function us(){this.acquiredIatSet=new Set,this.id=Date.now().toString()+ls(15),this.acquireLock=this.acquireLock.bind(this),this.releaseLock=this.releaseLock.bind(this),this.releaseLock__private__=this.releaseLock__private__.bind(this),this.waitForSomethingToChange=this.waitForSomethingToChange.bind(this),this.refreshLockWhileAcquired=this.refreshLockWhileAcquired.bind(this),us.waiters===void 0&&(us.waiters=[])}return us.prototype.acquireLock=function(ds,ps){return ps===void 0&&(ps=5e3),ns(this,void 0,void 0,function(){var fs,hs,ms,gs,vs,bs;return os(this,function(xs){switch(xs.label){case 0:fs=Date.now()+ls(4),hs=Date.now()+ps,ms=ss+"-"+ds,gs=window.localStorage,xs.label=1;case 1:return Date.now()<hs?[4,as(30)]:[3,8];case 2:return xs.sent(),gs.getItem(ms)!==null?[3,5]:(vs=this.id+"-"+ds+"-"+fs,[4,as(Math.floor(25*Math.random()))]);case 3:return xs.sent(),gs.setItem(ms,JSON.stringify({id:this.id,iat:fs,timeoutKey:vs,timeAcquired:Date.now(),timeRefreshed:Date.now()})),[4,as(30)];case 4:return xs.sent(),(bs=gs.getItem(ms))!==null&&(bs=JSON.parse(bs)).id===this.id&&bs.iat===fs?(this.acquiredIatSet.add(fs),this.refreshLockWhileAcquired(ms,fs),[2,!0]):[3,7];case 5:return us.lockCorrector(),[4,this.waitForSomethingToChange(hs)];case 6:xs.sent(),xs.label=7;case 7:return fs=Date.now()+ls(4),[3,1];case 8:return[2,!1]}})})},us.prototype.refreshLockWhileAcquired=function(ds,ps){return ns(this,void 0,void 0,function(){var fs=this;return os(this,function(hs){return setTimeout(function(){return ns(fs,void 0,void 0,function(){var ms,gs;return os(this,function(vs){switch(vs.label){case 0:return[4,Ac$1.default().lock(ps)];case 1:return vs.sent(),this.acquiredIatSet.has(ps)?(ms=window.localStorage,(gs=ms.getItem(ds))===null?(Ac$1.default().unlock(ps),[2]):((gs=JSON.parse(gs)).timeRefreshed=Date.now(),ms.setItem(ds,JSON.stringify(gs)),Ac$1.default().unlock(ps),this.refreshLockWhileAcquired(ds,ps),[2])):(Ac$1.default().unlock(ps),[2])}})})},1e3),[2]})})},us.prototype.waitForSomethingToChange=function(ds){return ns(this,void 0,void 0,function(){return os(this,function(ps){switch(ps.label){case 0:return[4,new Promise(function(fs){var hs=!1,ms=Date.now(),gs=!1;function vs(){if(gs||(window.removeEventListener("storage",vs),us.removeFromWaiting(vs),clearTimeout(bs),gs=!0),!hs){hs=!0;var xs=50-(Date.now()-ms);xs>0?setTimeout(fs,xs):fs()}}window.addEventListener("storage",vs),us.addToWaiting(vs);var bs=setTimeout(vs,Math.max(0,ds-Date.now()))})];case 1:return ps.sent(),[2]}})})},us.addToWaiting=function(ds){this.removeFromWaiting(ds),us.waiters!==void 0&&us.waiters.push(ds)},us.removeFromWaiting=function(ds){us.waiters!==void 0&&(us.waiters=us.waiters.filter(function(ps){return ps!==ds}))},us.notifyWaiters=function(){us.waiters!==void 0&&us.waiters.slice().forEach(function(ds){return ds()})},us.prototype.releaseLock=function(ds){return ns(this,void 0,void 0,function(){return os(this,function(ps){switch(ps.label){case 0:return[4,this.releaseLock__private__(ds)];case 1:return[2,ps.sent()]}})})},us.prototype.releaseLock__private__=function(ds){return ns(this,void 0,void 0,function(){var ps,fs,hs;return os(this,function(ms){switch(ms.label){case 0:return ps=window.localStorage,fs=ss+"-"+ds,(hs=ps.getItem(fs))===null?[2]:(hs=JSON.parse(hs)).id!==this.id?[3,2]:[4,Ac$1.default().lock(hs.iat)];case 1:ms.sent(),this.acquiredIatSet.delete(hs.iat),ps.removeItem(fs),Ac$1.default().unlock(hs.iat),us.notifyWaiters(),ms.label=2;case 2:return[2]}})})},us.lockCorrector=function(){for(var ds=Date.now()-5e3,ps=window.localStorage,fs=Object.keys(ps),hs=!1,ms=0;ms<fs.length;ms++){var gs=fs[ms];if(gs.includes(ss)){var vs=ps.getItem(gs);vs!==null&&((vs=JSON.parse(vs)).timeRefreshed===void 0&&vs.timeAcquired<ds||vs.timeRefreshed!==void 0&&vs.timeRefreshed<ds)&&(ps.removeItem(gs),hs=!0)}}hs&&us.notifyWaiters()},us.waiters=void 0,us}();rs.default=cs}),Xc$1=u$4(Pc$1),Fc$1={timeoutInSeconds:60},Kc$1=["login_required","consent_required","interaction_required","account_selection_required","access_denied"],Nc$1={name:"auth0-spa-js",version:"1.22.6"},Uc$1=function(){return Date.now()},Dc$1=function(ts){function rs(ns,os){var ss=ts.call(this,os)||this;return ss.error=ns,ss.error_description=os,Object.setPrototypeOf(ss,rs.prototype),ss}return t$5(rs,ts),rs.fromPayload=function(ns){return new rs(ns.error,ns.error_description)},rs}(Error),Hc$1=function(ts){function rs(ns,os,ss,as){as===void 0&&(as=null);var ls=ts.call(this,ns,os)||this;return ls.state=ss,ls.appState=as,Object.setPrototypeOf(ls,rs.prototype),ls}return t$5(rs,ts),rs}(Dc$1),Yc$1=function(ts){function rs(){var ns=ts.call(this,"timeout","Timeout")||this;return Object.setPrototypeOf(ns,rs.prototype),ns}return t$5(rs,ts),rs}(Dc$1),Jc$1=function(ts){function rs(ns){var os=ts.call(this)||this;return os.popup=ns,Object.setPrototypeOf(os,rs.prototype),os}return t$5(rs,ts),rs}(Yc$1),Vc$1=function(ts){function rs(ns){var os=ts.call(this,"cancelled","Popup closed")||this;return os.popup=ns,Object.setPrototypeOf(os,rs.prototype),os}return t$5(rs,ts),rs}(Dc$1),zc$1=function(ts){function rs(ns,os,ss){var as=ts.call(this,ns,os)||this;return as.mfa_token=ss,Object.setPrototypeOf(as,rs.prototype),as}return t$5(rs,ts),rs}(Dc$1),Mc$1=function(ts){function rs(ns,os){var ss=ts.call(this,"missing_refresh_token","Missing Refresh Token (audience: '".concat(ia$1(ns,["default"]),"', scope: '").concat(ia$1(os),"')"))||this;return ss.audience=ns,ss.scope=os,Object.setPrototypeOf(ss,rs.prototype),ss}return t$5(rs,ts),rs}(Dc$1),Bc$1=function(ts){return new Promise(function(rs,ns){var os,ss=setInterval(function(){ts.popup&&ts.popup.closed&&(clearInterval(ss),clearTimeout(as),window.removeEventListener("message",os,!1),ns(new Vc$1(ts.popup)))},1e3),as=setTimeout(function(){clearInterval(ss),ns(new Jc$1(ts.popup)),window.removeEventListener("message",os,!1)},1e3*(ts.timeoutInSeconds||60));os=function(ls){if(ls.data&&ls.data.type==="authorization_response"){if(clearTimeout(as),clearInterval(ss),window.removeEventListener("message",os,!1),ts.popup.close(),ls.data.response.error)return ns(Dc$1.fromPayload(ls.data.response));rs(ls.data.response)}},window.addEventListener("message",os)})},Qc$1=function(){return window.crypto||window.msCrypto},qc$1=function(){var ts=Qc$1();return ts.subtle||ts.webkitSubtle},$c$1=function(){var ts="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_~.",rs="";return Array.from(Qc$1().getRandomValues(new Uint8Array(43))).forEach(function(ns){return rs+=ts[ns%ts.length]}),rs},ea$1=function(ts){return btoa(ts)},ta$1=function(ts){return Object.keys(ts).filter(function(rs){return ts[rs]!==void 0}).map(function(rs){return encodeURIComponent(rs)+"="+encodeURIComponent(ts[rs])}).join("&")},na=function(ts){return o$1(void 0,void 0,void 0,function(){var rs;return i$3(this,function(ns){switch(ns.label){case 0:return rs=qc$1().digest({name:"SHA-256"},new TextEncoder().encode(ts)),window.msCrypto?[2,new Promise(function(os,ss){rs.oncomplete=function(as){os(as.target.result)},rs.onerror=function(as){ss(as.error)},rs.onabort=function(){ss("The digest operation was aborted")}})]:[4,rs];case 1:return[2,ns.sent()]}})})},ra$1=function(ts){return function(rs){return decodeURIComponent(atob(rs).split("").map(function(ns){return"%"+("00"+ns.charCodeAt(0).toString(16)).slice(-2)}).join(""))}(ts.replace(/_/g,"/").replace(/-/g,"+"))},oa$1=function(ts){var rs=new Uint8Array(ts);return function(ns){var os={"+":"-","/":"_","=":""};return ns.replace(/[+/=]/g,function(ss){return os[ss]})}(window.btoa(String.fromCharCode.apply(String,a$1([],c$3(Array.from(rs)),!1))))};function ia$1(ts,rs){return rs===void 0&&(rs=[]),ts&&!rs.includes(ts)?ts:""}var ca$1=function(ts,rs){return o$1(void 0,void 0,void 0,function(){var ns,os;return i$3(this,function(ss){switch(ss.label){case 0:return[4,(as=ts,ls=rs,ls=ls||{},new Promise(function(cs,us){var ds=new XMLHttpRequest,ps=[],fs=[],hs={},ms=function(){return{ok:(ds.status/100|0)==2,statusText:ds.statusText,status:ds.status,url:ds.responseURL,text:function(){return Promise.resolve(ds.responseText)},json:function(){return Promise.resolve(ds.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([ds.response]))},clone:ms,headers:{keys:function(){return ps},entries:function(){return fs},get:function(vs){return hs[vs.toLowerCase()]},has:function(vs){return vs.toLowerCase()in hs}}}};for(var gs in ds.open(ls.method||"get",as,!0),ds.onload=function(){ds.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(vs,bs,xs){ps.push(bs=bs.toLowerCase()),fs.push([bs,xs]),hs[bs]=hs[bs]?hs[bs]+","+xs:xs}),cs(ms())},ds.onerror=us,ds.withCredentials=ls.credentials=="include",ls.headers)ds.setRequestHeader(gs,ls.headers[gs]);ds.send(ls.body||null)}))];case 1:return ns=ss.sent(),os={ok:ns.ok},[4,ns.json()];case 2:return[2,(os.json=ss.sent(),os)]}var as,ls})})},aa$1=function(ts,rs,ns){return o$1(void 0,void 0,void 0,function(){var os,ss;return i$3(this,function(as){return os=new AbortController,rs.signal=os.signal,[2,Promise.race([ca$1(ts,rs),new Promise(function(ls,cs){ss=setTimeout(function(){os.abort(),cs(new Error("Timeout when executing 'fetch'"))},ns)})]).finally(function(){clearTimeout(ss)})]})})},sa$1=function(ts,rs,ns,os,ss,as,ls){return o$1(void 0,void 0,void 0,function(){return i$3(this,function(cs){return[2,(us={auth:{audience:rs,scope:ns},timeout:ss,fetchUrl:ts,fetchOptions:os,useFormData:ls},ds=as,new Promise(function(ps,fs){var hs=new MessageChannel;hs.port1.onmessage=function(ms){ms.data.error?fs(new Error(ms.data.error)):ps(ms.data),hs.port1.close()},ds.postMessage(us,[hs.port2])}))];var us,ds})})},ua$1=function(ts,rs,ns,os,ss,as,ls){return ls===void 0&&(ls=1e4),o$1(void 0,void 0,void 0,function(){return i$3(this,function(cs){return ss?[2,sa$1(ts,rs,ns,os,ls,ss,as)]:[2,aa$1(ts,os,ls)]})})};function la$1(ts,rs,ns,os,ss,as,ls){return o$1(this,void 0,void 0,function(){var cs,us,ds,ps,fs,hs,ms,gs,vs;return i$3(this,function(bs){switch(bs.label){case 0:cs=null,ds=0,bs.label=1;case 1:if(!(ds<3))return[3,6];bs.label=2;case 2:return bs.trys.push([2,4,,5]),[4,ua$1(ts,ns,os,ss,as,ls,rs)];case 3:return us=bs.sent(),cs=null,[3,6];case 4:return ps=bs.sent(),cs=ps,[3,5];case 5:return ds++,[3,1];case 6:if(cs)throw cs.message=cs.message||"Failed to fetch",cs;if(fs=us.json,hs=fs.error,ms=fs.error_description,gs=r$6(fs,["error","error_description"]),!us.ok)throw vs=ms||"HTTP error. Unable to fetch ".concat(ts),hs==="mfa_required"?new zc$1(hs,vs,gs.mfa_token):new Dc$1(hs||"request_error",vs);return[2,gs]}})})}function fa$1(ts,rs){var ns=ts.baseUrl,os=ts.timeout,ss=ts.audience,as=ts.scope,ls=ts.auth0Client,cs=ts.useFormData,us=r$6(ts,["baseUrl","timeout","audience","scope","auth0Client","useFormData"]);return o$1(this,void 0,void 0,function(){var ds;return i$3(this,function(ps){switch(ps.label){case 0:return ds=cs?ta$1(us):JSON.stringify(us),[4,la$1("".concat(ns,"/oauth/token"),os,ss||"default",as,{method:"POST",body:ds,headers:{"Content-Type":cs?"application/x-www-form-urlencoded":"application/json","Auth0-Client":btoa(JSON.stringify(ls||Nc$1))}},rs,cs)];case 1:return[2,ps.sent()]}})})}var da$1=function(ts){return Array.from(new Set(ts))},ha$1=function(){for(var ts=[],rs=0;rs<arguments.length;rs++)ts[rs]=arguments[rs];return da$1(ts.join(" ").trim().split(/\s+/)).join(" ")},pa$1=function(){function ts(rs,ns){ns===void 0&&(ns="@@auth0spajs@@"),this.prefix=ns,this.client_id=rs.client_id,this.scope=rs.scope,this.audience=rs.audience}return ts.prototype.toKey=function(){return"".concat(this.prefix,"::").concat(this.client_id,"::").concat(this.audience,"::").concat(this.scope)},ts.fromKey=function(rs){var ns=c$3(rs.split("::"),4),os=ns[0],ss=ns[1],as=ns[2];return new ts({client_id:ss,scope:ns[3],audience:as},os)},ts.fromCacheEntry=function(rs){return new ts({scope:rs.scope,audience:rs.audience,client_id:rs.client_id})},ts}(),ya$1=function(){function ts(){}return ts.prototype.set=function(rs,ns){localStorage.setItem(rs,JSON.stringify(ns))},ts.prototype.get=function(rs){var ns=window.localStorage.getItem(rs);if(ns)try{return JSON.parse(ns)}catch{return}},ts.prototype.remove=function(rs){localStorage.removeItem(rs)},ts.prototype.allKeys=function(){return Object.keys(window.localStorage).filter(function(rs){return rs.startsWith("@@auth0spajs@@")})},ts}(),va$1=function(){var ts;this.enclosedCache=(ts={},{set:function(rs,ns){ts[rs]=ns},get:function(rs){var ns=ts[rs];if(ns)return ns},remove:function(rs){delete ts[rs]},allKeys:function(){return Object.keys(ts)}})},ma$1=function(){function ts(rs,ns,os){this.cache=rs,this.keyManifest=ns,this.nowProvider=os,this.nowProvider=this.nowProvider||Uc$1}return ts.prototype.get=function(rs,ns){var os;return ns===void 0&&(ns=0),o$1(this,void 0,void 0,function(){var ss,as,ls,cs,us;return i$3(this,function(ds){switch(ds.label){case 0:return[4,this.cache.get(rs.toKey())];case 1:return(ss=ds.sent())?[3,4]:[4,this.getCacheKeys()];case 2:return(as=ds.sent())?(ls=this.matchExistingCacheKey(rs,as))?[4,this.cache.get(ls)]:[3,4]:[2];case 3:ss=ds.sent(),ds.label=4;case 4:return ss?[4,this.nowProvider()]:[2];case 5:return cs=ds.sent(),us=Math.floor(cs/1e3),ss.expiresAt-ns<us?ss.body.refresh_token?(ss.body={refresh_token:ss.body.refresh_token},[4,this.cache.set(rs.toKey(),ss)]):[3,7]:[3,10];case 6:return ds.sent(),[2,ss.body];case 7:return[4,this.cache.remove(rs.toKey())];case 8:return ds.sent(),[4,(os=this.keyManifest)===null||os===void 0?void 0:os.remove(rs.toKey())];case 9:return ds.sent(),[2];case 10:return[2,ss.body]}})})},ts.prototype.set=function(rs){var ns;return o$1(this,void 0,void 0,function(){var os,ss;return i$3(this,function(as){switch(as.label){case 0:return os=new pa$1({client_id:rs.client_id,scope:rs.scope,audience:rs.audience}),[4,this.wrapCacheEntry(rs)];case 1:return ss=as.sent(),[4,this.cache.set(os.toKey(),ss)];case 2:return as.sent(),[4,(ns=this.keyManifest)===null||ns===void 0?void 0:ns.add(os.toKey())];case 3:return as.sent(),[2]}})})},ts.prototype.clear=function(rs){var ns;return o$1(this,void 0,void 0,function(){var os,ss=this;return i$3(this,function(as){switch(as.label){case 0:return[4,this.getCacheKeys()];case 1:return(os=as.sent())?[4,os.filter(function(ls){return!rs||ls.includes(rs)}).reduce(function(ls,cs){return o$1(ss,void 0,void 0,function(){return i$3(this,function(us){switch(us.label){case 0:return[4,ls];case 1:return us.sent(),[4,this.cache.remove(cs)];case 2:return us.sent(),[2]}})})},Promise.resolve())]:[2];case 2:return as.sent(),[4,(ns=this.keyManifest)===null||ns===void 0?void 0:ns.clear()];case 3:return as.sent(),[2]}})})},ts.prototype.clearSync=function(rs){var ns=this,os=this.cache.allKeys();os&&os.filter(function(ss){return!rs||ss.includes(rs)}).forEach(function(ss){ns.cache.remove(ss)})},ts.prototype.wrapCacheEntry=function(rs){return o$1(this,void 0,void 0,function(){var ns,os,ss;return i$3(this,function(as){switch(as.label){case 0:return[4,this.nowProvider()];case 1:return ns=as.sent(),os=Math.floor(ns/1e3)+rs.expires_in,ss=Math.min(os,rs.decodedToken.claims.exp),[2,{body:rs,expiresAt:ss}]}})})},ts.prototype.getCacheKeys=function(){var rs;return o$1(this,void 0,void 0,function(){var ns;return i$3(this,function(os){switch(os.label){case 0:return this.keyManifest?[4,this.keyManifest.get()]:[3,2];case 1:return ns=(rs=os.sent())===null||rs===void 0?void 0:rs.keys,[3,4];case 2:return[4,this.cache.allKeys()];case 3:ns=os.sent(),os.label=4;case 4:return[2,ns]}})})},ts.prototype.matchExistingCacheKey=function(rs,ns){return ns.filter(function(os){var ss=pa$1.fromKey(os),as=new Set(ss.scope&&ss.scope.split(" ")),ls=rs.scope.split(" "),cs=ss.scope&&ls.reduce(function(us,ds){return us&&as.has(ds)},!0);return ss.prefix==="@@auth0spajs@@"&&ss.client_id===rs.client_id&&ss.audience===rs.audience&&cs})[0]},ts}(),ba=function(){function ts(rs,ns){this.storage=rs,this.clientId=ns,this.storageKey="".concat("a0.spajs.txs",".").concat(this.clientId),this.transaction=this.storage.get(this.storageKey)}return ts.prototype.create=function(rs){this.transaction=rs,this.storage.save(this.storageKey,rs,{daysUntilExpire:1})},ts.prototype.get=function(){return this.transaction},ts.prototype.remove=function(){delete this.transaction,this.storage.remove(this.storageKey)},ts}(),ga=function(ts){return typeof ts=="number"},wa$1=["iss","aud","exp","nbf","iat","jti","azp","nonce","auth_time","at_hash","c_hash","acr","amr","sub_jwk","cnf","sip_from_tag","sip_date","sip_callid","sip_cseq_num","sip_via_branch","orig","dest","mky","events","toe","txn","rph","sid","vot","vtm"],Sa$1=function(ts){if(!ts.id_token)throw new Error("ID token is required but missing");var rs=function(cs){var us=cs.split("."),ds=c$3(us,3),ps=ds[0],fs=ds[1],hs=ds[2];if(us.length!==3||!ps||!fs||!hs)throw new Error("ID token could not be decoded");var ms=JSON.parse(ra$1(fs)),gs={__raw:cs},vs={};return Object.keys(ms).forEach(function(bs){gs[bs]=ms[bs],wa$1.includes(bs)||(vs[bs]=ms[bs])}),{encoded:{header:ps,payload:fs,signature:hs},header:JSON.parse(ra$1(ps)),claims:gs,user:vs}}(ts.id_token);if(!rs.claims.iss)throw new Error("Issuer (iss) claim must be a string present in the ID token");if(rs.claims.iss!==ts.iss)throw new Error('Issuer (iss) claim mismatch in the ID token; expected "'.concat(ts.iss,'", found "').concat(rs.claims.iss,'"'));if(!rs.user.sub)throw new Error("Subject (sub) claim must be a string present in the ID token");if(rs.header.alg!=="RS256")throw new Error('Signature algorithm of "'.concat(rs.header.alg,'" is not supported. Expected the ID token to be signed with "RS256".'));if(!rs.claims.aud||typeof rs.claims.aud!="string"&&!Array.isArray(rs.claims.aud))throw new Error("Audience (aud) claim must be a string or array of strings present in the ID token");if(Array.isArray(rs.claims.aud)){if(!rs.claims.aud.includes(ts.aud))throw new Error('Audience (aud) claim mismatch in the ID token; expected "'.concat(ts.aud,'" but was not one of "').concat(rs.claims.aud.join(", "),'"'));if(rs.claims.aud.length>1){if(!rs.claims.azp)throw new Error("Authorized Party (azp) claim must be a string present in the ID token when Audience (aud) claim has multiple values");if(rs.claims.azp!==ts.aud)throw new Error('Authorized Party (azp) claim mismatch in the ID token; expected "'.concat(ts.aud,'", found "').concat(rs.claims.azp,'"'))}}else if(rs.claims.aud!==ts.aud)throw new Error('Audience (aud) claim mismatch in the ID token; expected "'.concat(ts.aud,'" but found "').concat(rs.claims.aud,'"'));if(ts.nonce){if(!rs.claims.nonce)throw new Error("Nonce (nonce) claim must be a string present in the ID token");if(rs.claims.nonce!==ts.nonce)throw new Error('Nonce (nonce) claim mismatch in the ID token; expected "'.concat(ts.nonce,'", found "').concat(rs.claims.nonce,'"'))}if(ts.max_age&&!ga(rs.claims.auth_time))throw new Error("Authentication Time (auth_time) claim must be a number present in the ID token when Max Age (max_age) is specified");if(!ga(rs.claims.exp))throw new Error("Expiration Time (exp) claim must be a number present in the ID token");if(!ga(rs.claims.iat))throw new Error("Issued At (iat) claim must be a number present in the ID token");var ns=ts.leeway||60,os=new Date(ts.now||Date.now()),ss=new Date(0),as=new Date(0),ls=new Date(0);if(ls.setUTCSeconds(parseInt(rs.claims.auth_time)+ts.max_age+ns),ss.setUTCSeconds(rs.claims.exp+ns),as.setUTCSeconds(rs.claims.nbf-ns),os>ss)throw new Error("Expiration Time (exp) claim error in the ID token; current time (".concat(os,") is after expiration time (").concat(ss,")"));if(ga(rs.claims.nbf)&&os<as)throw new Error("Not Before time (nbf) claim in the ID token indicates that this token can't be used just yet. Currrent time (".concat(os,") is before ").concat(as));if(ga(rs.claims.auth_time)&&os>ls)throw new Error("Authentication Time (auth_time) claim in the ID token indicates that too much time has passed since the last end-user authentication. Currrent time (".concat(os,") is after last auth at ").concat(ls));if(ts.organizationId){if(!rs.claims.org_id)throw new Error("Organization ID (org_id) claim must be a string present in the ID token");if(ts.organizationId!==rs.claims.org_id)throw new Error('Organization ID (org_id) claim mismatch in the ID token; expected "'.concat(ts.organizationId,'", found "').concat(rs.claims.org_id,'"'))}return rs},ka$1=l$5(function(ts,rs){var ns=s$2&&s$2.__assign||function(){return ns=Object.assign||function(us){for(var ds,ps=1,fs=arguments.length;ps<fs;ps++)for(var hs in ds=arguments[ps])Object.prototype.hasOwnProperty.call(ds,hs)&&(us[hs]=ds[hs]);return us},ns.apply(this,arguments)};function os(us,ds){if(!ds)return"";var ps="; "+us;return ds===!0?ps:ps+"="+ds}function ss(us,ds,ps){return encodeURIComponent(us).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/\(/g,"%28").replace(/\)/g,"%29")+"="+encodeURIComponent(ds).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent)+function(fs){if(typeof fs.expires=="number"){var hs=new Date;hs.setMilliseconds(hs.getMilliseconds()+864e5*fs.expires),fs.expires=hs}return os("Expires",fs.expires?fs.expires.toUTCString():"")+os("Domain",fs.domain)+os("Path",fs.path)+os("Secure",fs.secure)+os("SameSite",fs.sameSite)}(ps)}function as(us){for(var ds={},ps=us?us.split("; "):[],fs=/(%[\dA-F]{2})+/gi,hs=0;hs<ps.length;hs++){var ms=ps[hs].split("="),gs=ms.slice(1).join("=");gs.charAt(0)==='"'&&(gs=gs.slice(1,-1));try{ds[ms[0].replace(fs,decodeURIComponent)]=gs.replace(fs,decodeURIComponent)}catch{}}return ds}function ls(){return as(document.cookie)}function cs(us,ds,ps){document.cookie=ss(us,ds,ns({path:"/"},ps))}rs.__esModule=!0,rs.encode=ss,rs.parse=as,rs.getAll=ls,rs.get=function(us){return ls()[us]},rs.set=cs,rs.remove=function(us,ds){cs(us,"",ns(ns({},ds),{expires:-1}))}});u$4(ka$1),ka$1.encode,ka$1.parse,ka$1.getAll;var _a$1=ka$1.get,Ia$1=ka$1.set,Oa$1=ka$1.remove,xa={get:function(ts){var rs=_a$1(ts);if(rs!==void 0)return JSON.parse(rs)},save:function(ts,rs,ns){var os={};window.location.protocol==="https:"&&(os={secure:!0,sameSite:"none"}),ns!=null&&ns.daysUntilExpire&&(os.expires=ns.daysUntilExpire),ns!=null&&ns.cookieDomain&&(os.domain=ns.cookieDomain),Ia$1(ts,JSON.stringify(rs),os)},remove:function(ts,rs){var ns={};rs!=null&&rs.cookieDomain&&(ns.domain=rs.cookieDomain),Oa$1(ts,ns)}},Ta$1={get:function(ts){var rs=xa.get(ts);return rs||xa.get("".concat("_legacy_").concat(ts))},save:function(ts,rs,ns){var os={};window.location.protocol==="https:"&&(os={secure:!0}),ns!=null&&ns.daysUntilExpire&&(os.expires=ns.daysUntilExpire),Ia$1("".concat("_legacy_").concat(ts),JSON.stringify(rs),os),xa.save(ts,rs,ns)},remove:function(ts,rs){var ns={};rs!=null&&rs.cookieDomain&&(ns.domain=rs.cookieDomain),Oa$1(ts,ns),xa.remove(ts,rs),xa.remove("".concat("_legacy_").concat(ts),rs)}},Ca$1={get:function(ts){if(typeof sessionStorage<"u"){var rs=sessionStorage.getItem(ts);if(rs!==void 0)return JSON.parse(rs)}},save:function(ts,rs){sessionStorage.setItem(ts,JSON.stringify(rs))},remove:function(ts){sessionStorage.removeItem(ts)}};function ja$1(ts,rs,ns){var os=rs===void 0?null:rs,ss=function(us,ds){var ps=atob(us);if(ds){for(var fs=new Uint8Array(ps.length),hs=0,ms=ps.length;hs<ms;++hs)fs[hs]=ps.charCodeAt(hs);return String.fromCharCode.apply(null,new Uint16Array(fs.buffer))}return ps}(ts,ns!==void 0&&ns),as=ss.indexOf("\n",10)+1,ls=ss.substring(as)+(os?"//# sourceMappingURL="+os:""),cs=new Blob([ls],{type:"application/javascript"});return URL.createObjectURL(cs)}var La$1,Ra$1,Wa$1,Za$1,Ea$1=(La$1="Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwohZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7dmFyIHQ9ZnVuY3Rpb24oZSxyKXtyZXR1cm4gdD1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24odCxlKXt0Ll9fcHJvdG9fXz1lfXx8ZnVuY3Rpb24odCxlKXtmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSl9LHQoZSxyKX07ZnVuY3Rpb24gZShlLHIpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiByJiZudWxsIT09cil0aHJvdyBuZXcgVHlwZUVycm9yKCJDbGFzcyBleHRlbmRzIHZhbHVlICIrU3RyaW5nKHIpKyIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbCIpO2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPWV9dChlLHIpLGUucHJvdG90eXBlPW51bGw9PT1yP09iamVjdC5jcmVhdGUocik6KG4ucHJvdG90eXBlPXIucHJvdG90eXBlLG5ldyBuKX12YXIgcj1mdW5jdGlvbigpe3JldHVybiByPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKHQpe2Zvcih2YXIgZSxyPTEsbj1hcmd1bWVudHMubGVuZ3RoO3I8bjtyKyspZm9yKHZhciBvIGluIGU9YXJndW1lbnRzW3JdKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLG8pJiYodFtvXT1lW29dKTtyZXR1cm4gdH0sci5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O2Z1bmN0aW9uIG4odCxlLHIsbil7cmV0dXJuIG5ldyhyfHwocj1Qcm9taXNlKSkoKGZ1bmN0aW9uKG8sYyl7ZnVuY3Rpb24gaSh0KXt0cnl7cyhuLm5leHQodCkpfWNhdGNoKHQpe2ModCl9fWZ1bmN0aW9uIGEodCl7dHJ5e3Mobi50aHJvdyh0KSl9Y2F0Y2godCl7Yyh0KX19ZnVuY3Rpb24gcyh0KXt2YXIgZTt0LmRvbmU/byh0LnZhbHVlKTooZT10LnZhbHVlLGUgaW5zdGFuY2VvZiByP2U6bmV3IHIoKGZ1bmN0aW9uKHQpe3QoZSl9KSkpLnRoZW4oaSxhKX1zKChuPW4uYXBwbHkodCxlfHxbXSkpLm5leHQoKSl9KSl9ZnVuY3Rpb24gbyh0LGUpe3ZhciByLG4sbyxjLGk9e2xhYmVsOjAsc2VudDpmdW5jdGlvbigpe2lmKDEmb1swXSl0aHJvdyBvWzFdO3JldHVybiBvWzFdfSx0cnlzOltdLG9wczpbXX07cmV0dXJuIGM9e25leHQ6YSgwKSx0aHJvdzphKDEpLHJldHVybjphKDIpfSwiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYoY1tTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSxjO2Z1bmN0aW9uIGEoYyl7cmV0dXJuIGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihjKXtpZihyKXRocm93IG5ldyBUeXBlRXJyb3IoIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy4iKTtmb3IoO2k7KXRyeXtpZihyPTEsbiYmKG89MiZjWzBdP24ucmV0dXJuOmNbMF0/bi50aHJvd3x8KChvPW4ucmV0dXJuKSYmby5jYWxsKG4pLDApOm4ubmV4dCkmJiEobz1vLmNhbGwobixjWzFdKSkuZG9uZSlyZXR1cm4gbztzd2l0Y2gobj0wLG8mJihjPVsyJmNbMF0sby52YWx1ZV0pLGNbMF0pe2Nhc2UgMDpjYXNlIDE6bz1jO2JyZWFrO2Nhc2UgNDpyZXR1cm4gaS5sYWJlbCsrLHt2YWx1ZTpjWzFdLGRvbmU6ITF9O2Nhc2UgNTppLmxhYmVsKyssbj1jWzFdLGM9WzBdO2NvbnRpbnVlO2Nhc2UgNzpjPWkub3BzLnBvcCgpLGkudHJ5cy5wb3AoKTtjb250aW51ZTtkZWZhdWx0OmlmKCEobz1pLnRyeXMsKG89by5sZW5ndGg+MCYmb1tvLmxlbmd0aC0xXSl8fDYhPT1jWzBdJiYyIT09Y1swXSkpe2k9MDtjb250aW51ZX1pZigzPT09Y1swXSYmKCFvfHxjWzFdPm9bMF0mJmNbMV08b1szXSkpe2kubGFiZWw9Y1sxXTticmVha31pZig2PT09Y1swXSYmaS5sYWJlbDxvWzFdKXtpLmxhYmVsPW9bMV0sbz1jO2JyZWFrfWlmKG8mJmkubGFiZWw8b1syXSl7aS5sYWJlbD1vWzJdLGkub3BzLnB1c2goYyk7YnJlYWt9b1syXSYmaS5vcHMucG9wKCksaS50cnlzLnBvcCgpO2NvbnRpbnVlfWM9ZS5jYWxsKHQsaSl9Y2F0Y2godCl7Yz1bNix0XSxuPTB9ZmluYWxseXtyPW89MH1pZig1JmNbMF0pdGhyb3cgY1sxXTtyZXR1cm57dmFsdWU6Y1swXT9jWzFdOnZvaWQgMCxkb25lOiEwfX0oW2MsYV0pfX19ZnVuY3Rpb24gYyh0LGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT1bXSksdCYmIWUuaW5jbHVkZXModCk/dDoiIn12YXIgaT1mdW5jdGlvbih0KXtmdW5jdGlvbiByKGUsbil7dmFyIG89dC5jYWxsKHRoaXMsbil8fHRoaXM7cmV0dXJuIG8uZXJyb3I9ZSxvLmVycm9yX2Rlc2NyaXB0aW9uPW4sT2JqZWN0LnNldFByb3RvdHlwZU9mKG8sci5wcm90b3R5cGUpLG99cmV0dXJuIGUocix0KSxyLmZyb21QYXlsb2FkPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgcih0LmVycm9yLHQuZXJyb3JfZGVzY3JpcHRpb24pfSxyfShFcnJvcik7IWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIHIoZSxuLG8sYyl7dm9pZCAwPT09YyYmKGM9bnVsbCk7dmFyIGk9dC5jYWxsKHRoaXMsZSxuKXx8dGhpcztyZXR1cm4gaS5zdGF0ZT1vLGkuYXBwU3RhdGU9YyxPYmplY3Quc2V0UHJvdG90eXBlT2YoaSxyLnByb3RvdHlwZSksaX1lKHIsdCl9KGkpLGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIHIoZSl7dmFyIG49dC5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBuLnBvcHVwPWUsT2JqZWN0LnNldFByb3RvdHlwZU9mKG4sci5wcm90b3R5cGUpLG59ZShyLHQpfShmdW5jdGlvbih0KXtmdW5jdGlvbiByKCl7dmFyIGU9dC5jYWxsKHRoaXMsInRpbWVvdXQiLCJUaW1lb3V0Iil8fHRoaXM7cmV0dXJuIE9iamVjdC5zZXRQcm90b3R5cGVPZihlLHIucHJvdG90eXBlKSxlfXJldHVybiBlKHIsdCkscn0oaSkpLGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIHIoZSl7dmFyIG49dC5jYWxsKHRoaXMsImNhbmNlbGxlZCIsIlBvcHVwIGNsb3NlZCIpfHx0aGlzO3JldHVybiBuLnBvcHVwPWUsT2JqZWN0LnNldFByb3RvdHlwZU9mKG4sci5wcm90b3R5cGUpLG59ZShyLHQpfShpKSxmdW5jdGlvbih0KXtmdW5jdGlvbiByKGUsbixvKXt2YXIgYz10LmNhbGwodGhpcyxlLG4pfHx0aGlzO3JldHVybiBjLm1mYV90b2tlbj1vLE9iamVjdC5zZXRQcm90b3R5cGVPZihjLHIucHJvdG90eXBlKSxjfWUocix0KX0oaSk7dmFyIGE9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gcihlLG4pe3ZhciBvPXQuY2FsbCh0aGlzLCJtaXNzaW5nX3JlZnJlc2hfdG9rZW4iLCJNaXNzaW5nIFJlZnJlc2ggVG9rZW4gKGF1ZGllbmNlOiAnIi5jb25jYXQoYyhlLFsiZGVmYXVsdCJdKSwiJywgc2NvcGU6ICciKS5jb25jYXQoYyhuKSwiJykiKSl8fHRoaXM7cmV0dXJuIG8uYXVkaWVuY2U9ZSxvLnNjb3BlPW4sT2JqZWN0LnNldFByb3RvdHlwZU9mKG8sci5wcm90b3R5cGUpLG99cmV0dXJuIGUocix0KSxyfShpKSxzPXt9LHU9ZnVuY3Rpb24odCxlKXtyZXR1cm4iIi5jb25jYXQodCwifCIpLmNvbmNhdChlKX07YWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsKGZ1bmN0aW9uKHQpe3ZhciBlPXQuZGF0YSxjPWUudGltZW91dCxpPWUuYXV0aCxmPWUuZmV0Y2hVcmwsbD1lLmZldGNoT3B0aW9ucyxwPWUudXNlRm9ybURhdGEsaD1mdW5jdGlvbih0LGUpe3ZhciByPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJnRbU3ltYm9sLml0ZXJhdG9yXTtpZighcilyZXR1cm4gdDt2YXIgbixvLGM9ci5jYWxsKHQpLGk9W107dHJ5e2Zvcig7KHZvaWQgMD09PWV8fGUtLSA+MCkmJiEobj1jLm5leHQoKSkuZG9uZTspaS5wdXNoKG4udmFsdWUpfWNhdGNoKHQpe289e2Vycm9yOnR9fWZpbmFsbHl7dHJ5e24mJiFuLmRvbmUmJihyPWMucmV0dXJuKSYmci5jYWxsKGMpfWZpbmFsbHl7aWYobyl0aHJvdyBvLmVycm9yfX1yZXR1cm4gaX0odC5wb3J0cywxKVswXTtyZXR1cm4gbih2b2lkIDAsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgdCxlLG4seSx2LGIsZCx3LE8sXztyZXR1cm4gbyh0aGlzLChmdW5jdGlvbihvKXtzd2l0Y2goby5sYWJlbCl7Y2FzZSAwOm49KGU9aXx8e30pLmF1ZGllbmNlLHk9ZS5zY29wZSxvLmxhYmVsPTE7Y2FzZSAxOmlmKG8udHJ5cy5wdXNoKFsxLDcsLDhdKSwhKHY9cD8obT1sLmJvZHksaz1uZXcgVVJMU2VhcmNoUGFyYW1zKG0pLFA9e30say5mb3JFYWNoKChmdW5jdGlvbih0LGUpe1BbZV09dH0pKSxQKTpKU09OLnBhcnNlKGwuYm9keSkpLnJlZnJlc2hfdG9rZW4mJiJyZWZyZXNoX3Rva2VuIj09PXYuZ3JhbnRfdHlwZSl7aWYoYj1mdW5jdGlvbih0LGUpe3JldHVybiBzW3UodCxlKV19KG4seSksIWIpdGhyb3cgbmV3IGEobix5KTtsLmJvZHk9cD9uZXcgVVJMU2VhcmNoUGFyYW1zKHIocih7fSx2KSx7cmVmcmVzaF90b2tlbjpifSkpLnRvU3RyaW5nKCk6SlNPTi5zdHJpbmdpZnkocihyKHt9LHYpLHtyZWZyZXNoX3Rva2VuOmJ9KSl9ZD12b2lkIDAsImZ1bmN0aW9uIj09dHlwZW9mIEFib3J0Q29udHJvbGxlciYmKGQ9bmV3IEFib3J0Q29udHJvbGxlcixsLnNpZ25hbD1kLnNpZ25hbCksdz12b2lkIDAsby5sYWJlbD0yO2Nhc2UgMjpyZXR1cm4gby50cnlzLnB1c2goWzIsNCwsNV0pLFs0LFByb21pc2UucmFjZShbKGc9YyxuZXcgUHJvbWlzZSgoZnVuY3Rpb24odCl7cmV0dXJuIHNldFRpbWVvdXQodCxnKX0pKSksZmV0Y2goZixyKHt9LGwpKV0pXTtjYXNlIDM6cmV0dXJuIHc9by5zZW50KCksWzMsNV07Y2FzZSA0OnJldHVybiBPPW8uc2VudCgpLGgucG9zdE1lc3NhZ2Uoe2Vycm9yOk8ubWVzc2FnZX0pLFsyXTtjYXNlIDU6cmV0dXJuIHc/WzQsdy5qc29uKCldOihkJiZkLmFib3J0KCksaC5wb3N0TWVzc2FnZSh7ZXJyb3I6IlRpbWVvdXQgd2hlbiBleGVjdXRpbmcgJ2ZldGNoJyJ9KSxbMl0pO2Nhc2UgNjpyZXR1cm4odD1vLnNlbnQoKSkucmVmcmVzaF90b2tlbj8oZnVuY3Rpb24odCxlLHIpe3NbdShlLHIpXT10fSh0LnJlZnJlc2hfdG9rZW4sbix5KSxkZWxldGUgdC5yZWZyZXNoX3Rva2VuKTpmdW5jdGlvbih0LGUpe2RlbGV0ZSBzW3UodCxlKV19KG4seSksaC5wb3N0TWVzc2FnZSh7b2s6dy5vayxqc29uOnR9KSxbMyw4XTtjYXNlIDc6cmV0dXJuIF89by5zZW50KCksaC5wb3N0TWVzc2FnZSh7b2s6ITEsanNvbjp7ZXJyb3JfZGVzY3JpcHRpb246Xy5tZXNzYWdlfX0pLFszLDhdO2Nhc2UgODpyZXR1cm5bMl19dmFyIGcsbSxrLFB9KSl9KSl9KSl9KCk7Cgo=",Ra$1=null,Wa$1=!1,function(ts){return Za$1=Za$1||ja$1(La$1,Ra$1,Wa$1),new Worker(Za$1,ts)}),Ga$1={},Aa$1=function(){function ts(rs,ns){this.cache=rs,this.clientId=ns,this.manifestKey=this.createManifestKeyFrom(this.clientId)}return ts.prototype.add=function(rs){var ns;return o$1(this,void 0,void 0,function(){var os,ss;return i$3(this,function(as){switch(as.label){case 0:return ss=Set.bind,[4,this.cache.get(this.manifestKey)];case 1:return(os=new(ss.apply(Set,[void 0,((ns=as.sent())===null||ns===void 0?void 0:ns.keys)||[]]))).add(rs),[4,this.cache.set(this.manifestKey,{keys:a$1([],c$3(os),!1)})];case 2:return as.sent(),[2]}})})},ts.prototype.remove=function(rs){return o$1(this,void 0,void 0,function(){var ns,os;return i$3(this,function(ss){switch(ss.label){case 0:return[4,this.cache.get(this.manifestKey)];case 1:return(ns=ss.sent())?((os=new Set(ns.keys)).delete(rs),os.size>0?[4,this.cache.set(this.manifestKey,{keys:a$1([],c$3(os),!1)})]:[3,3]):[3,5];case 2:case 4:return[2,ss.sent()];case 3:return[4,this.cache.remove(this.manifestKey)];case 5:return[2]}})})},ts.prototype.get=function(){return this.cache.get(this.manifestKey)},ts.prototype.clear=function(){return this.cache.remove(this.manifestKey)},ts.prototype.createManifestKeyFrom=function(rs){return"".concat("@@auth0spajs@@","::").concat(rs)},ts}(),Pa$1=new Xc$1,Xa$1={memory:function(){return new va$1().enclosedCache},localstorage:function(){return new ya$1}},Fa$1=function(ts){return Xa$1[ts]},Ka$1=function(){return!/Trident.*rv:11\.0/.test(navigator.userAgent)},Na$1=function(){function ts(rs){var ns,os,ss,as,ls=this;if(this.options=rs,this._releaseLockOnPageHide=function(){return o$1(ls,void 0,void 0,function(){return i$3(this,function(ds){switch(ds.label){case 0:return[4,Pa$1.releaseLock("auth0.lock.getTokenSilently")];case 1:return ds.sent(),window.removeEventListener("pagehide",this._releaseLockOnPageHide),[2]}})})},typeof window<"u"&&function(){if(!Qc$1())throw new Error("For security reasons, `window.crypto` is required to run `auth0-spa-js`.");if(qc$1()===void 0)throw new Error("\n      auth0-spa-js must run on a secure origin. See https://github.com/auth0/auth0-spa-js/blob/master/FAQ.md#why-do-i-get-auth0-spa-js-must-run-on-a-secure-origin for more information.\n    ")}(),rs.cache&&rs.cacheLocation&&console.warn("Both `cache` and `cacheLocation` options have been specified in the Auth0Client configuration; ignoring `cacheLocation` and using `cache`."),rs.cache)ss=rs.cache;else{if(this.cacheLocation=rs.cacheLocation||"memory",!Fa$1(this.cacheLocation))throw new Error('Invalid cache location "'.concat(this.cacheLocation,'"'));ss=Fa$1(this.cacheLocation)()}this.httpTimeoutMs=rs.httpTimeoutInSeconds?1e3*rs.httpTimeoutInSeconds:1e4,this.cookieStorage=rs.legacySameSiteCookie===!1?xa:Ta$1,this.orgHintCookieName=(as=this.options.client_id,"auth0.".concat(as,".organization_hint")),this.isAuthenticatedCookieName=function(ds){return"auth0.".concat(ds,".is.authenticated")}(this.options.client_id),this.sessionCheckExpiryDays=rs.sessionCheckExpiryDays||1;var cs,us=rs.useCookiesForTransactions?this.cookieStorage:Ca$1;this.scope=this.options.scope,this.transactionManager=new ba(us,this.options.client_id),this.nowProvider=this.options.nowProvider||Uc$1,this.cacheManager=new ma$1(ss,ss.allKeys?null:new Aa$1(ss,this.options.client_id),this.nowProvider),this.domainUrl=(cs=this.options.domain,/^https?:\/\//.test(cs)?cs:"https://".concat(cs)),this.tokenIssuer=function(ds,ps){return ds?ds.startsWith("https://")?ds:"https://".concat(ds,"/"):"".concat(ps,"/")}(this.options.issuer,this.domainUrl),this.defaultScope=ha$1("openid",((os=(ns=this.options)===null||ns===void 0?void 0:ns.advancedOptions)===null||os===void 0?void 0:os.defaultScope)!==void 0?this.options.advancedOptions.defaultScope:"openid profile email"),this.options.useRefreshTokens&&(this.scope=ha$1(this.scope,"offline_access")),typeof window<"u"&&window.Worker&&this.options.useRefreshTokens&&this.cacheLocation==="memory"&&Ka$1()&&(this.worker=new Ea$1),this.customOptions=function(ds){return ds.advancedOptions,ds.audience,ds.auth0Client,ds.authorizeTimeoutInSeconds,ds.cacheLocation,ds.cache,ds.client_id,ds.domain,ds.issuer,ds.leeway,ds.max_age,ds.nowProvider,ds.redirect_uri,ds.scope,ds.useRefreshTokens,ds.useRefreshTokensFallback,ds.useCookiesForTransactions,ds.useFormData,r$6(ds,["advancedOptions","audience","auth0Client","authorizeTimeoutInSeconds","cacheLocation","cache","client_id","domain","issuer","leeway","max_age","nowProvider","redirect_uri","scope","useRefreshTokens","useRefreshTokensFallback","useCookiesForTransactions","useFormData"])}(rs),this.useRefreshTokensFallback=this.options.useRefreshTokensFallback!==!1}return ts.prototype._url=function(rs){var ns=encodeURIComponent(btoa(JSON.stringify(this.options.auth0Client||Nc$1)));return"".concat(this.domainUrl).concat(rs,"&auth0Client=").concat(ns)},ts.prototype._getParams=function(rs,ns,os,ss,as){var ls=this.options;ls.useRefreshTokens,ls.useCookiesForTransactions,ls.useFormData,ls.auth0Client,ls.cacheLocation,ls.advancedOptions,ls.detailedResponse,ls.nowProvider,ls.authorizeTimeoutInSeconds,ls.legacySameSiteCookie,ls.sessionCheckExpiryDays,ls.domain,ls.leeway,ls.httpTimeoutInSeconds;var cs=r$6(ls,["useRefreshTokens","useCookiesForTransactions","useFormData","auth0Client","cacheLocation","advancedOptions","detailedResponse","nowProvider","authorizeTimeoutInSeconds","legacySameSiteCookie","sessionCheckExpiryDays","domain","leeway","httpTimeoutInSeconds"]);return n$6(n$6(n$6({},cs),rs),{scope:ha$1(this.defaultScope,this.scope,rs.scope),response_type:"code",response_mode:"query",state:ns,nonce:os,redirect_uri:as||this.options.redirect_uri,code_challenge:ss,code_challenge_method:"S256"})},ts.prototype._authorizeUrl=function(rs){return this._url("/authorize?".concat(ta$1(rs)))},ts.prototype._verifyIdToken=function(rs,ns,os){return o$1(this,void 0,void 0,function(){var ss;return i$3(this,function(as){switch(as.label){case 0:return[4,this.nowProvider()];case 1:return ss=as.sent(),[2,Sa$1({iss:this.tokenIssuer,aud:this.options.client_id,id_token:rs,nonce:ns,organizationId:os,leeway:this.options.leeway,max_age:this._parseNumber(this.options.max_age),now:ss})]}})})},ts.prototype._parseNumber=function(rs){return typeof rs!="string"?rs:parseInt(rs,10)||void 0},ts.prototype._processOrgIdHint=function(rs){rs?this.cookieStorage.save(this.orgHintCookieName,rs,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}):this.cookieStorage.remove(this.orgHintCookieName,{cookieDomain:this.options.cookieDomain})},ts.prototype.buildAuthorizeUrl=function(rs){return rs===void 0&&(rs={}),o$1(this,void 0,void 0,function(){var ns,os,ss,as,ls,cs,us,ds,ps,fs,hs,ms;return i$3(this,function(gs){switch(gs.label){case 0:return ns=rs.redirect_uri,os=rs.appState,ss=r$6(rs,["redirect_uri","appState"]),as=ea$1($c$1()),ls=ea$1($c$1()),cs=$c$1(),[4,na(cs)];case 1:return us=gs.sent(),ds=oa$1(us),ps=rs.fragment?"#".concat(rs.fragment):"",fs=this._getParams(ss,as,ls,ds,ns),hs=this._authorizeUrl(fs),ms=rs.organization||this.options.organization,this.transactionManager.create(n$6({nonce:ls,code_verifier:cs,appState:os,scope:fs.scope,audience:fs.audience||"default",redirect_uri:fs.redirect_uri,state:as},ms&&{organizationId:ms})),[2,hs+ps]}})})},ts.prototype.loginWithPopup=function(rs,ns){return o$1(this,void 0,void 0,function(){var os,ss,as,ls,cs,us,ds,ps,fs,hs,ms,gs,vs;return i$3(this,function(bs){switch(bs.label){case 0:if(rs=rs||{},!(ns=ns||{}).popup&&(ns.popup=function(xs){var ys=window.screenX+(window.innerWidth-400)/2,Ss=window.screenY+(window.innerHeight-600)/2;return window.open(xs,"auth0:authorize:popup","left=".concat(ys,",top=").concat(Ss,",width=").concat(400,",height=").concat(600,",resizable,scrollbars=yes,status=1"))}(""),!ns.popup))throw new Error("Unable to open a popup for loginWithPopup - window.open returned `null`");return os=r$6(rs,[]),ss=ea$1($c$1()),as=ea$1($c$1()),ls=$c$1(),[4,na(ls)];case 1:return cs=bs.sent(),us=oa$1(cs),ds=this._getParams(os,ss,as,us,this.options.redirect_uri||window.location.origin),ps=this._authorizeUrl(n$6(n$6({},ds),{response_mode:"web_message"})),ns.popup.location.href=ps,[4,Bc$1(n$6(n$6({},ns),{timeoutInSeconds:ns.timeoutInSeconds||this.options.authorizeTimeoutInSeconds||60}))];case 2:if(fs=bs.sent(),ss!==fs.state)throw new Error("Invalid state");return[4,fa$1({audience:ds.audience,scope:ds.scope,baseUrl:this.domainUrl,client_id:this.options.client_id,code_verifier:ls,code:fs.code,grant_type:"authorization_code",redirect_uri:ds.redirect_uri,auth0Client:this.options.auth0Client,useFormData:this.options.useFormData,timeout:this.httpTimeoutMs},this.worker)];case 3:return hs=bs.sent(),ms=rs.organization||this.options.organization,[4,this._verifyIdToken(hs.id_token,as,ms)];case 4:return gs=bs.sent(),vs=n$6(n$6({},hs),{decodedToken:gs,scope:ds.scope,audience:ds.audience||"default",client_id:this.options.client_id}),[4,this.cacheManager.set(vs)];case 5:return bs.sent(),this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}),this._processOrgIdHint(gs.claims.org_id),[2]}})})},ts.prototype.getUser=function(rs){return rs===void 0&&(rs={}),o$1(this,void 0,void 0,function(){var ns,os,ss;return i$3(this,function(as){switch(as.label){case 0:return ns=rs.audience||this.options.audience||"default",os=ha$1(this.defaultScope,this.scope,rs.scope),[4,this.cacheManager.get(new pa$1({client_id:this.options.client_id,audience:ns,scope:os}))];case 1:return[2,(ss=as.sent())&&ss.decodedToken&&ss.decodedToken.user]}})})},ts.prototype.getIdTokenClaims=function(rs){return rs===void 0&&(rs={}),o$1(this,void 0,void 0,function(){var ns,os,ss;return i$3(this,function(as){switch(as.label){case 0:return ns=rs.audience||this.options.audience||"default",os=ha$1(this.defaultScope,this.scope,rs.scope),[4,this.cacheManager.get(new pa$1({client_id:this.options.client_id,audience:ns,scope:os}))];case 1:return[2,(ss=as.sent())&&ss.decodedToken&&ss.decodedToken.claims]}})})},ts.prototype.loginWithRedirect=function(rs){return rs===void 0&&(rs={}),o$1(this,void 0,void 0,function(){var ns,os,ss;return i$3(this,function(as){switch(as.label){case 0:return ns=rs.redirectMethod,os=r$6(rs,["redirectMethod"]),[4,this.buildAuthorizeUrl(os)];case 1:return ss=as.sent(),window.location[ns||"assign"](ss),[2]}})})},ts.prototype.handleRedirectCallback=function(rs){return rs===void 0&&(rs=window.location.href),o$1(this,void 0,void 0,function(){var ns,os,ss,as,ls,cs,us,ds,ps,fs;return i$3(this,function(hs){switch(hs.label){case 0:if((ns=rs.split("?").slice(1)).length===0)throw new Error("There are no query params available for parsing.");if(os=function(ms){ms.indexOf("#")>-1&&(ms=ms.substr(0,ms.indexOf("#")));var gs=ms.split("&"),vs={};return gs.forEach(function(bs){var xs=c$3(bs.split("="),2),ys=xs[0],Ss=xs[1];vs[ys]=decodeURIComponent(Ss)}),vs.expires_in&&(vs.expires_in=parseInt(vs.expires_in)),vs}(ns.join("")),ss=os.state,as=os.code,ls=os.error,cs=os.error_description,!(us=this.transactionManager.get()))throw new Error("Invalid state");if(this.transactionManager.remove(),ls)throw new Hc$1(ls,cs,ss,us.appState);if(!us.code_verifier||us.state&&us.state!==ss)throw new Error("Invalid state");return ds={audience:us.audience,scope:us.scope,baseUrl:this.domainUrl,client_id:this.options.client_id,code_verifier:us.code_verifier,grant_type:"authorization_code",code:as,auth0Client:this.options.auth0Client,useFormData:this.options.useFormData,timeout:this.httpTimeoutMs},us.redirect_uri!==void 0&&(ds.redirect_uri=us.redirect_uri),[4,fa$1(ds,this.worker)];case 1:return ps=hs.sent(),[4,this._verifyIdToken(ps.id_token,us.nonce,us.organizationId)];case 2:return fs=hs.sent(),[4,this.cacheManager.set(n$6(n$6(n$6(n$6({},ps),{decodedToken:fs,audience:us.audience,scope:us.scope}),ps.scope?{oauthTokenScope:ps.scope}:null),{client_id:this.options.client_id}))];case 3:return hs.sent(),this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}),this._processOrgIdHint(fs.claims.org_id),[2,{appState:us.appState}]}})})},ts.prototype.checkSession=function(rs){return o$1(this,void 0,void 0,function(){var ns;return i$3(this,function(os){switch(os.label){case 0:if(!this.cookieStorage.get(this.isAuthenticatedCookieName)){if(!this.cookieStorage.get("auth0.is.authenticated"))return[2];this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}),this.cookieStorage.remove("auth0.is.authenticated")}os.label=1;case 1:return os.trys.push([1,3,,4]),[4,this.getTokenSilently(rs)];case 2:return os.sent(),[3,4];case 3:if(ns=os.sent(),!Kc$1.includes(ns.error))throw ns;return[3,4];case 4:return[2]}})})},ts.prototype.getTokenSilently=function(rs){return rs===void 0&&(rs={}),o$1(this,void 0,void 0,function(){var ns,os,ss,as,ls=this;return i$3(this,function(cs){switch(cs.label){case 0:return ns=n$6(n$6({audience:this.options.audience,ignoreCache:!1},rs),{scope:ha$1(this.defaultScope,this.scope,rs.scope)}),os=ns.ignoreCache,ss=r$6(ns,["ignoreCache"]),[4,(us=function(){return ls._getTokenSilently(n$6({ignoreCache:os},ss))},ds="".concat(this.options.client_id,"::").concat(ss.audience,"::").concat(ss.scope),ps=Ga$1[ds],ps||(ps=us().finally(function(){delete Ga$1[ds],ps=null}),Ga$1[ds]=ps),ps)];case 1:return as=cs.sent(),[2,rs.detailedResponse?as:as.access_token]}var us,ds,ps})})},ts.prototype._getTokenSilently=function(rs){return rs===void 0&&(rs={}),o$1(this,void 0,void 0,function(){var ns,os,ss,as,ls,cs,us,ds,ps;return i$3(this,function(fs){switch(fs.label){case 0:return ns=rs.ignoreCache,os=r$6(rs,["ignoreCache"]),ns?[3,2]:[4,this._getEntryFromCache({scope:os.scope,audience:os.audience||"default",client_id:this.options.client_id})];case 1:if(ss=fs.sent())return[2,ss];fs.label=2;case 2:return[4,(hs=function(){return Pa$1.acquireLock("auth0.lock.getTokenSilently",5e3)},ms=10,ms===void 0&&(ms=3),o$1(void 0,void 0,void 0,function(){var gs;return i$3(this,function(vs){switch(vs.label){case 0:gs=0,vs.label=1;case 1:return gs<ms?[4,hs()]:[3,4];case 2:if(vs.sent())return[2,!0];vs.label=3;case 3:return gs++,[3,1];case 4:return[2,!1]}})}))];case 3:if(!fs.sent())return[3,15];fs.label=4;case 4:return fs.trys.push([4,,12,14]),window.addEventListener("pagehide",this._releaseLockOnPageHide),ns?[3,6]:[4,this._getEntryFromCache({scope:os.scope,audience:os.audience||"default",client_id:this.options.client_id})];case 5:if(ss=fs.sent())return[2,ss];fs.label=6;case 6:return this.options.useRefreshTokens?[4,this._getTokenUsingRefreshToken(os)]:[3,8];case 7:return ls=fs.sent(),[3,10];case 8:return[4,this._getTokenFromIFrame(os)];case 9:ls=fs.sent(),fs.label=10;case 10:return as=ls,[4,this.cacheManager.set(n$6({client_id:this.options.client_id},as))];case 11:return fs.sent(),this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}),cs=as.id_token,us=as.access_token,ds=as.oauthTokenScope,ps=as.expires_in,[2,n$6(n$6({id_token:cs,access_token:us},ds?{scope:ds}:null),{expires_in:ps})];case 12:return[4,Pa$1.releaseLock("auth0.lock.getTokenSilently")];case 13:return fs.sent(),window.removeEventListener("pagehide",this._releaseLockOnPageHide),[7];case 14:return[3,16];case 15:throw new Yc$1;case 16:return[2]}var hs,ms})})},ts.prototype.getTokenWithPopup=function(rs,ns){return rs===void 0&&(rs={}),ns===void 0&&(ns={}),o$1(this,void 0,void 0,function(){return i$3(this,function(os){switch(os.label){case 0:return rs.audience=rs.audience||this.options.audience,rs.scope=ha$1(this.defaultScope,this.scope,rs.scope),ns=n$6(n$6({},Fc$1),ns),[4,this.loginWithPopup(rs,ns)];case 1:return os.sent(),[4,this.cacheManager.get(new pa$1({scope:rs.scope,audience:rs.audience||"default",client_id:this.options.client_id}))];case 2:return[2,os.sent().access_token]}})})},ts.prototype.isAuthenticated=function(){return o$1(this,void 0,void 0,function(){return i$3(this,function(rs){switch(rs.label){case 0:return[4,this.getUser()];case 1:return[2,!!rs.sent()]}})})},ts.prototype.buildLogoutUrl=function(rs){rs===void 0&&(rs={}),rs.client_id!==null?rs.client_id=rs.client_id||this.options.client_id:delete rs.client_id;var ns=rs.federated,os=r$6(rs,["federated"]),ss=ns?"&federated":"";return this._url("/v2/logout?".concat(ta$1(os)))+ss},ts.prototype.logout=function(rs){var ns=this;rs===void 0&&(rs={});var os=rs.localOnly,ss=r$6(rs,["localOnly"]);if(os&&ss.federated)throw new Error("It is invalid to set both the `federated` and `localOnly` options to `true`");var as=function(){if(ns.cookieStorage.remove(ns.orgHintCookieName,{cookieDomain:ns.options.cookieDomain}),ns.cookieStorage.remove(ns.isAuthenticatedCookieName,{cookieDomain:ns.options.cookieDomain}),!os){var ls=ns.buildLogoutUrl(ss);window.location.assign(ls)}};if(this.options.cache)return this.cacheManager.clear().then(function(){return as()});this.cacheManager.clearSync(),as()},ts.prototype._getTokenFromIFrame=function(rs){return o$1(this,void 0,void 0,function(){var ns,os,ss,as,ls,cs,us,ds,ps,fs,hs,ms,gs,vs,bs,xs,ys;return i$3(this,function(Ss){switch(Ss.label){case 0:return ns=ea$1($c$1()),os=ea$1($c$1()),ss=$c$1(),[4,na(ss)];case 1:as=Ss.sent(),ls=oa$1(as),cs=r$6(rs,["detailedResponse"]),us=this._getParams(cs,ns,os,ls,rs.redirect_uri||this.options.redirect_uri||window.location.origin),(ds=this.cookieStorage.get(this.orgHintCookieName))&&!us.organization&&(us.organization=ds),ps=this._authorizeUrl(n$6(n$6({},us),{prompt:"none",response_mode:"web_message"})),Ss.label=2;case 2:if(Ss.trys.push([2,6,,7]),window.crossOriginIsolated)throw new Dc$1("login_required","The application is running in a Cross-Origin Isolated context, silently retrieving a token without refresh token is not possible.");return fs=rs.timeoutInSeconds||this.options.authorizeTimeoutInSeconds,[4,(Cs=ps,$s=this.domainUrl,Es=fs,Es===void 0&&(Es=60),new Promise(function(ws,Ts){var Is=window.document.createElement("iframe");Is.setAttribute("width","0"),Is.setAttribute("height","0"),Is.style.display="none";var Rs,As=function(){window.document.body.contains(Is)&&(window.document.body.removeChild(Is),window.removeEventListener("message",Rs,!1))},ks=setTimeout(function(){Ts(new Yc$1),As()},1e3*Es);Rs=function(Ms){if(Ms.origin==$s&&Ms.data&&Ms.data.type==="authorization_response"){var Os=Ms.source;Os&&Os.close(),Ms.data.response.error?Ts(Dc$1.fromPayload(Ms.data.response)):ws(Ms.data.response),clearTimeout(ks),window.removeEventListener("message",Rs,!1),setTimeout(As,2e3)}},window.addEventListener("message",Rs,!1),window.document.body.appendChild(Is),Is.setAttribute("src",Cs)}))];case 3:if(hs=Ss.sent(),ns!==hs.state)throw new Error("Invalid state");return ms=rs.scope,gs=rs.audience,vs=r$6(rs,["scope","audience","redirect_uri","ignoreCache","timeoutInSeconds","detailedResponse"]),[4,fa$1(n$6(n$6(n$6({},this.customOptions),vs),{scope:ms,audience:gs,baseUrl:this.domainUrl,client_id:this.options.client_id,code_verifier:ss,code:hs.code,grant_type:"authorization_code",redirect_uri:us.redirect_uri,auth0Client:this.options.auth0Client,useFormData:this.options.useFormData,timeout:vs.timeout||this.httpTimeoutMs}),this.worker)];case 4:return bs=Ss.sent(),[4,this._verifyIdToken(bs.id_token,os)];case 5:return xs=Ss.sent(),this._processOrgIdHint(xs.claims.org_id),[2,n$6(n$6({},bs),{decodedToken:xs,scope:us.scope,oauthTokenScope:bs.scope,audience:us.audience||"default"})];case 6:throw(ys=Ss.sent()).error==="login_required"&&this.logout({localOnly:!0}),ys;case 7:return[2]}var Cs,$s,Es})})},ts.prototype._getTokenUsingRefreshToken=function(rs){return o$1(this,void 0,void 0,function(){var ns,os,ss,as,ls,cs,us,ds,ps;return i$3(this,function(fs){switch(fs.label){case 0:return rs.scope=ha$1(this.defaultScope,this.options.scope,rs.scope),[4,this.cacheManager.get(new pa$1({scope:rs.scope,audience:rs.audience||"default",client_id:this.options.client_id}))];case 1:return(ns=fs.sent())&&ns.refresh_token||this.worker?[3,4]:this.useRefreshTokensFallback?[4,this._getTokenFromIFrame(rs)]:[3,3];case 2:return[2,fs.sent()];case 3:throw new Mc$1(rs.audience||"default",rs.scope);case 4:os=rs.redirect_uri||this.options.redirect_uri||window.location.origin,as=rs.scope,ls=rs.audience,cs=r$6(rs,["scope","audience","ignoreCache","timeoutInSeconds","detailedResponse"]),us=typeof rs.timeoutInSeconds=="number"?1e3*rs.timeoutInSeconds:null,fs.label=5;case 5:return fs.trys.push([5,7,,10]),[4,fa$1(n$6(n$6(n$6(n$6(n$6({},this.customOptions),cs),{audience:ls,scope:as,baseUrl:this.domainUrl,client_id:this.options.client_id,grant_type:"refresh_token",refresh_token:ns&&ns.refresh_token,redirect_uri:os}),us&&{timeout:us}),{auth0Client:this.options.auth0Client,useFormData:this.options.useFormData,timeout:this.httpTimeoutMs}),this.worker)];case 6:return ss=fs.sent(),[3,10];case 7:return((ds=fs.sent()).message.indexOf("Missing Refresh Token")>-1||ds.message&&ds.message.indexOf("invalid refresh token")>-1)&&this.useRefreshTokensFallback?[4,this._getTokenFromIFrame(rs)]:[3,9];case 8:return[2,fs.sent()];case 9:throw ds;case 10:return[4,this._verifyIdToken(ss.id_token)];case 11:return ps=fs.sent(),[2,n$6(n$6({},ss),{decodedToken:ps,scope:rs.scope,oauthTokenScope:ss.scope,audience:rs.audience||"default"})]}})})},ts.prototype._getEntryFromCache=function(rs){var ns=rs.scope,os=rs.audience,ss=rs.client_id;return o$1(this,void 0,void 0,function(){var as,ls,cs,us,ds;return i$3(this,function(ps){switch(ps.label){case 0:return[4,this.cacheManager.get(new pa$1({scope:ns,audience:os,client_id:ss}),60)];case 1:return(as=ps.sent())&&as.access_token?(ls=as.id_token,cs=as.access_token,us=as.oauthTokenScope,ds=as.expires_in,[2,n$6(n$6({id_token:ls,access_token:cs},us?{scope:us}:null),{expires_in:ds})]):[2]}})})},ts}(),initialAuthState={isAuthenticated:!1,isLoading:!0},stub=function(){throw new Error("You forgot to wrap your component in <Auth0Provider>.")},initialContext=__assign$1(__assign$1({},initialAuthState),{buildAuthorizeUrl:stub,buildLogoutUrl:stub,getAccessTokenSilently:stub,getAccessTokenWithPopup:stub,getIdTokenClaims:stub,loginWithRedirect:stub,loginWithPopup:stub,logout:stub,handleRedirectCallback:stub}),Auth0Context=reactExports.createContext(initialContext),OAuthError=function(ts){__extends$1(rs,ts);function rs(ns,os){var ss=ts.call(this,os||ns)||this;return ss.error=ns,ss.error_description=os,Object.setPrototypeOf(ss,rs.prototype),ss}return rs}(Error),CODE_RE=/[?&]code=[^&]+/,STATE_RE=/[?&]state=[^&]+/,ERROR_RE=/[?&]error=[^&]+/,hasAuthParams=function(ts){return ts===void 0&&(ts=window.location.search),(CODE_RE.test(ts)||ERROR_RE.test(ts))&&STATE_RE.test(ts)},normalizeErrorFn=function(ts){return function(rs){return"error"in rs?new OAuthError(rs.error,rs.error_description):rs instanceof Error?rs:new Error(ts)}},loginError=normalizeErrorFn("Login failed"),tokenError=normalizeErrorFn("Get access token failed"),reducer$3=function(ts,rs){var ns,os;switch(rs.type){case"LOGIN_POPUP_STARTED":return __assign$1(__assign$1({},ts),{isLoading:!0});case"LOGIN_POPUP_COMPLETE":case"INITIALISED":return __assign$1(__assign$1({},ts),{isAuthenticated:!!rs.user,user:rs.user,isLoading:!1,error:void 0});case"HANDLE_REDIRECT_COMPLETE":case"GET_ACCESS_TOKEN_COMPLETE":return((ns=ts.user)===null||ns===void 0?void 0:ns.updated_at)===((os=rs.user)===null||os===void 0?void 0:os.updated_at)?ts:__assign$1(__assign$1({},ts),{isAuthenticated:!!rs.user,user:rs.user});case"LOGOUT":return __assign$1(__assign$1({},ts),{isAuthenticated:!1,user:void 0});case"ERROR":return __assign$1(__assign$1({},ts),{isLoading:!1,error:rs.error})}},toAuth0ClientOptions=function(ts){var rs=ts.clientId,ns=ts.redirectUri,os=ts.maxAge,ss=__rest$5(ts,["clientId","redirectUri","maxAge"]);return __assign$1(__assign$1({},ss),{client_id:rs,redirect_uri:ns,max_age:os,auth0Client:{name:"auth0-react",version:"1.12.1"}})},toAuth0LoginRedirectOptions=function(ts){if(ts){var rs=ts.redirectUri,ns=__rest$5(ts,["redirectUri"]);return __assign$1(__assign$1({},ns),{redirect_uri:rs})}},defaultOnRedirectCallback=function(ts){window.history.replaceState({},document.title,(ts==null?void 0:ts.returnTo)||window.location.pathname)},Auth0Provider=function(ts){var rs=ts.children,ns=ts.skipRedirectCallback,os=ts.onRedirectCallback,ss=os===void 0?defaultOnRedirectCallback:os,as=ts.context,ls=as===void 0?Auth0Context:as,cs=__rest$5(ts,["children","skipRedirectCallback","onRedirectCallback","context"]),us=reactExports.useState(function(){return new Na$1(toAuth0ClientOptions(cs))})[0],ds=reactExports.useReducer(reducer$3,initialAuthState),ps=ds[0],fs=ds[1],hs=reactExports.useRef(!1);reactExports.useEffect(function(){hs.current||(hs.current=!0,function(){return __awaiter$19(void 0,void 0,void 0,function(){var ws,Ts,Is;return __generator$2(this,function(Rs){switch(Rs.label){case 0:return Rs.trys.push([0,7,,8]),ws=void 0,hasAuthParams()&&!ns?[4,us.handleRedirectCallback()]:[3,3];case 1:return Ts=Rs.sent().appState,[4,us.getUser()];case 2:return ws=Rs.sent(),ss(Ts,ws),[3,6];case 3:return[4,us.checkSession()];case 4:return Rs.sent(),[4,us.getUser()];case 5:ws=Rs.sent(),Rs.label=6;case 6:return fs({type:"INITIALISED",user:ws}),[3,8];case 7:return Is=Rs.sent(),fs({type:"ERROR",error:loginError(Is)}),[3,8];case 8:return[2]}})})}())},[us,ss,ns]);var ms=reactExports.useCallback(function(ws){return us.buildAuthorizeUrl(toAuth0LoginRedirectOptions(ws))},[us]),gs=reactExports.useCallback(function(ws){return us.buildLogoutUrl(ws)},[us]),vs=reactExports.useCallback(function(ws){return us.loginWithRedirect(toAuth0LoginRedirectOptions(ws))},[us]),bs=reactExports.useCallback(function(ws,Ts){return __awaiter$19(void 0,void 0,void 0,function(){var Is,Rs;return __generator$2(this,function(As){switch(As.label){case 0:fs({type:"LOGIN_POPUP_STARTED"}),As.label=1;case 1:return As.trys.push([1,3,,4]),[4,us.loginWithPopup(ws,Ts)];case 2:return As.sent(),[3,4];case 3:return Is=As.sent(),fs({type:"ERROR",error:loginError(Is)}),[2];case 4:return[4,us.getUser()];case 5:return Rs=As.sent(),fs({type:"LOGIN_POPUP_COMPLETE",user:Rs}),[2]}})})},[us]),xs=reactExports.useCallback(function(ws){ws===void 0&&(ws={});var Ts=us.logout(ws);if(ws.localOnly){if(Ts&&typeof Ts.then=="function")return Ts.then(function(){return fs({type:"LOGOUT"})});fs({type:"LOGOUT"})}return Ts},[us]),ys=reactExports.useCallback(function(ws){return __awaiter$19(void 0,void 0,void 0,function(){var Ts,Is,Rs,As;return __generator$2(this,function(ks){switch(ks.label){case 0:return ks.trys.push([0,2,3,5]),[4,us.getTokenSilently(ws)];case 1:return Ts=ks.sent(),[3,5];case 2:throw Is=ks.sent(),tokenError(Is);case 3:return Rs=fs,As={type:"GET_ACCESS_TOKEN_COMPLETE"},[4,us.getUser()];case 4:return Rs.apply(void 0,[(As.user=ks.sent(),As)]),[7];case 5:return[2,Ts]}})})},[us]),Ss=reactExports.useCallback(function(ws,Ts){return __awaiter$19(void 0,void 0,void 0,function(){var Is,Rs,As,ks;return __generator$2(this,function(Ms){switch(Ms.label){case 0:return Ms.trys.push([0,2,3,5]),[4,us.getTokenWithPopup(ws,Ts)];case 1:return Is=Ms.sent(),[3,5];case 2:throw Rs=Ms.sent(),tokenError(Rs);case 3:return As=fs,ks={type:"GET_ACCESS_TOKEN_COMPLETE"},[4,us.getUser()];case 4:return As.apply(void 0,[(ks.user=Ms.sent(),ks)]),[7];case 5:return[2,Is]}})})},[us]),Cs=reactExports.useCallback(function(ws){return us.getIdTokenClaims(ws)},[us]),$s=reactExports.useCallback(function(ws){return __awaiter$19(void 0,void 0,void 0,function(){var Ts,Is,Rs;return __generator$2(this,function(As){switch(As.label){case 0:return As.trys.push([0,2,3,5]),[4,us.handleRedirectCallback(ws)];case 1:return[2,As.sent()];case 2:throw Ts=As.sent(),tokenError(Ts);case 3:return Is=fs,Rs={type:"HANDLE_REDIRECT_COMPLETE"},[4,us.getUser()];case 4:return Is.apply(void 0,[(Rs.user=As.sent(),Rs)]),[7];case 5:return[2]}})})},[us]),Es=reactExports.useMemo(function(){return __assign$1(__assign$1({},ps),{buildAuthorizeUrl:ms,buildLogoutUrl:gs,getAccessTokenSilently:ys,getAccessTokenWithPopup:Ss,getIdTokenClaims:Cs,loginWithRedirect:vs,loginWithPopup:bs,logout:xs,handleRedirectCallback:$s})},[ps,ms,gs,ys,Ss,Cs,vs,bs,xs,$s]);return React$2.createElement(ls.Provider,{value:Es},rs)},useAuth0=function(ts){return ts===void 0&&(ts=Auth0Context),reactExports.useContext(ts)},client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(ts){function rs(Ps,Ls){var Ns=Ps.length;Ps.push(Ls);e:for(;0<Ns;){var Gs=Ns-1>>>1,Us=Ps[Gs];if(0<ss(Us,Ls))Ps[Gs]=Ls,Ps[Ns]=Us,Ns=Gs;else break e}}function ns(Ps){return Ps.length===0?null:Ps[0]}function os(Ps){if(Ps.length===0)return null;var Ls=Ps[0],Ns=Ps.pop();if(Ns!==Ls){Ps[0]=Ns;e:for(var Gs=0,Us=Ps.length,Hs=Us>>>1;Gs<Hs;){var zs=2*(Gs+1)-1,qs=Ps[zs],Vs=zs+1,Ks=Ps[Vs];if(0>ss(qs,Ns))Vs<Us&&0>ss(Ks,qs)?(Ps[Gs]=Ks,Ps[Vs]=Ns,Gs=Vs):(Ps[Gs]=qs,Ps[zs]=Ns,Gs=zs);else if(Vs<Us&&0>ss(Ks,Ns))Ps[Gs]=Ks,Ps[Vs]=Ns,Gs=Vs;else break e}}return Ls}function ss(Ps,Ls){var Ns=Ps.sortIndex-Ls.sortIndex;return Ns!==0?Ns:Ps.id-Ls.id}if(typeof performance=="object"&&typeof performance.now=="function"){var as=performance;ts.unstable_now=function(){return as.now()}}else{var ls=Date,cs=ls.now();ts.unstable_now=function(){return ls.now()-cs}}var us=[],ds=[],ps=1,fs=null,hs=3,ms=!1,gs=!1,vs=!1,bs=typeof setTimeout=="function"?setTimeout:null,xs=typeof clearTimeout=="function"?clearTimeout:null,ys=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Ss(Ps){for(var Ls=ns(ds);Ls!==null;){if(Ls.callback===null)os(ds);else if(Ls.startTime<=Ps)os(ds),Ls.sortIndex=Ls.expirationTime,rs(us,Ls);else break;Ls=ns(ds)}}function Cs(Ps){if(vs=!1,Ss(Ps),!gs)if(ns(us)!==null)gs=!0,Fs($s);else{var Ls=ns(ds);Ls!==null&&js(Cs,Ls.startTime-Ps)}}function $s(Ps,Ls){gs=!1,vs&&(vs=!1,xs(Ts),Ts=-1),ms=!0;var Ns=hs;try{for(Ss(Ls),fs=ns(us);fs!==null&&(!(fs.expirationTime>Ls)||Ps&&!As());){var Gs=fs.callback;if(typeof Gs=="function"){fs.callback=null,hs=fs.priorityLevel;var Us=Gs(fs.expirationTime<=Ls);Ls=ts.unstable_now(),typeof Us=="function"?fs.callback=Us:fs===ns(us)&&os(us),Ss(Ls)}else os(us);fs=ns(us)}if(fs!==null)var Hs=!0;else{var zs=ns(ds);zs!==null&&js(Cs,zs.startTime-Ls),Hs=!1}return Hs}finally{fs=null,hs=Ns,ms=!1}}var Es=!1,ws=null,Ts=-1,Is=5,Rs=-1;function As(){return!(ts.unstable_now()-Rs<Is)}function ks(){if(ws!==null){var Ps=ts.unstable_now();Rs=Ps;var Ls=!0;try{Ls=ws(!0,Ps)}finally{Ls?Ms():(Es=!1,ws=null)}}else Es=!1}var Ms;if(typeof ys=="function")Ms=function(){ys(ks)};else if(typeof MessageChannel<"u"){var Os=new MessageChannel,Ds=Os.port2;Os.port1.onmessage=ks,Ms=function(){Ds.postMessage(null)}}else Ms=function(){bs(ks,0)};function Fs(Ps){ws=Ps,Es||(Es=!0,Ms())}function js(Ps,Ls){Ts=bs(function(){Ps(ts.unstable_now())},Ls)}ts.unstable_IdlePriority=5,ts.unstable_ImmediatePriority=1,ts.unstable_LowPriority=4,ts.unstable_NormalPriority=3,ts.unstable_Profiling=null,ts.unstable_UserBlockingPriority=2,ts.unstable_cancelCallback=function(Ps){Ps.callback=null},ts.unstable_continueExecution=function(){gs||ms||(gs=!0,Fs($s))},ts.unstable_forceFrameRate=function(Ps){0>Ps||125<Ps?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Is=0<Ps?Math.floor(1e3/Ps):5},ts.unstable_getCurrentPriorityLevel=function(){return hs},ts.unstable_getFirstCallbackNode=function(){return ns(us)},ts.unstable_next=function(Ps){switch(hs){case 1:case 2:case 3:var Ls=3;break;default:Ls=hs}var Ns=hs;hs=Ls;try{return Ps()}finally{hs=Ns}},ts.unstable_pauseExecution=function(){},ts.unstable_requestPaint=function(){},ts.unstable_runWithPriority=function(Ps,Ls){switch(Ps){case 1:case 2:case 3:case 4:case 5:break;default:Ps=3}var Ns=hs;hs=Ps;try{return Ls()}finally{hs=Ns}},ts.unstable_scheduleCallback=function(Ps,Ls,Ns){var Gs=ts.unstable_now();switch(typeof Ns=="object"&&Ns!==null?(Ns=Ns.delay,Ns=typeof Ns=="number"&&0<Ns?Gs+Ns:Gs):Ns=Gs,Ps){case 1:var Us=-1;break;case 2:Us=250;break;case 5:Us=1073741823;break;case 4:Us=1e4;break;default:Us=5e3}return Us=Ns+Us,Ps={id:ps++,callback:Ls,priorityLevel:Ps,startTime:Ns,expirationTime:Us,sortIndex:-1},Ns>Gs?(Ps.sortIndex=Ns,rs(ds,Ps),ns(us)===null&&Ps===ns(ds)&&(vs?(xs(Ts),Ts=-1):vs=!0,js(Cs,Ns-Gs))):(Ps.sortIndex=Us,rs(us,Ps),gs||ms||(gs=!0,Fs($s))),Ps},ts.unstable_shouldYield=As,ts.unstable_wrapCallback=function(Ps){var Ls=hs;return function(){var Ns=hs;hs=Ls;try{return Ps.apply(this,arguments)}finally{hs=Ns}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p$5(ts){for(var rs="https://reactjs.org/docs/error-decoder.html?invariant="+ts,ns=1;ns<arguments.length;ns++)rs+="&args[]="+encodeURIComponent(arguments[ns]);return"Minified React error #"+ts+"; visit "+rs+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(ts,rs){ha(ts,rs),ha(ts+"Capture",rs)}function ha(ts,rs){for(ea[ts]=rs,ts=0;ts<rs.length;ts++)da.add(rs[ts])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(ts){return ja.call(ma,ts)?!0:ja.call(la,ts)?!1:ka.test(ts)?ma[ts]=!0:(la[ts]=!0,!1)}function pa(ts,rs,ns,os){if(ns!==null&&ns.type===0)return!1;switch(typeof rs){case"function":case"symbol":return!0;case"boolean":return os?!1:ns!==null?!ns.acceptsBooleans:(ts=ts.toLowerCase().slice(0,5),ts!=="data-"&&ts!=="aria-");default:return!1}}function qa(ts,rs,ns,os){if(rs===null||typeof rs>"u"||pa(ts,rs,ns,os))return!0;if(os)return!1;if(ns!==null)switch(ns.type){case 3:return!rs;case 4:return rs===!1;case 5:return isNaN(rs);case 6:return isNaN(rs)||1>rs}return!1}function v$5(ts,rs,ns,os,ss,as,ls){this.acceptsBooleans=rs===2||rs===3||rs===4,this.attributeName=os,this.attributeNamespace=ss,this.mustUseProperty=ns,this.propertyName=ts,this.type=rs,this.sanitizeURL=as,this.removeEmptyString=ls}var z$2={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(ts){z$2[ts]=new v$5(ts,0,!1,ts,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(ts){var rs=ts[0];z$2[rs]=new v$5(rs,1,!1,ts[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(ts){z$2[ts]=new v$5(ts,2,!1,ts.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(ts){z$2[ts]=new v$5(ts,2,!1,ts,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(ts){z$2[ts]=new v$5(ts,3,!1,ts.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(ts){z$2[ts]=new v$5(ts,3,!0,ts,null,!1,!1)});["capture","download"].forEach(function(ts){z$2[ts]=new v$5(ts,4,!1,ts,null,!1,!1)});["cols","rows","size","span"].forEach(function(ts){z$2[ts]=new v$5(ts,6,!1,ts,null,!1,!1)});["rowSpan","start"].forEach(function(ts){z$2[ts]=new v$5(ts,5,!1,ts.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(ts){return ts[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(ts){var rs=ts.replace(ra,sa);z$2[rs]=new v$5(rs,1,!1,ts,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(ts){var rs=ts.replace(ra,sa);z$2[rs]=new v$5(rs,1,!1,ts,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(ts){var rs=ts.replace(ra,sa);z$2[rs]=new v$5(rs,1,!1,ts,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(ts){z$2[ts]=new v$5(ts,1,!1,ts.toLowerCase(),null,!1,!1)});z$2.xlinkHref=new v$5("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(ts){z$2[ts]=new v$5(ts,1,!1,ts.toLowerCase(),null,!0,!0)});function ta(ts,rs,ns,os){var ss=z$2.hasOwnProperty(rs)?z$2[rs]:null;(ss!==null?ss.type!==0:os||!(2<rs.length)||rs[0]!=="o"&&rs[0]!=="O"||rs[1]!=="n"&&rs[1]!=="N")&&(qa(rs,ns,ss,os)&&(ns=null),os||ss===null?oa(rs)&&(ns===null?ts.removeAttribute(rs):ts.setAttribute(rs,""+ns)):ss.mustUseProperty?ts[ss.propertyName]=ns===null?ss.type===3?!1:"":ns:(rs=ss.attributeName,os=ss.attributeNamespace,ns===null?ts.removeAttribute(rs):(ss=ss.type,ns=ss===3||ss===4&&ns===!0?"":""+ns,os?ts.setAttributeNS(os,rs,ns):ts.setAttribute(rs,ns))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(ts){return ts===null||typeof ts!="object"?null:(ts=Ja&&ts[Ja]||ts["@@iterator"],typeof ts=="function"?ts:null)}var A$1=Object.assign,La;function Ma(ts){if(La===void 0)try{throw Error()}catch(ns){var rs=ns.stack.trim().match(/\n( *(at )?)/);La=rs&&rs[1]||""}return"\n"+La+ts}var Na=!1;function Oa(ts,rs){if(!ts||Na)return"";Na=!0;var ns=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(rs)if(rs=function(){throw Error()},Object.defineProperty(rs.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(rs,[])}catch(ds){var os=ds}Reflect.construct(ts,[],rs)}else{try{rs.call()}catch(ds){os=ds}ts.call(rs.prototype)}else{try{throw Error()}catch(ds){os=ds}ts()}}catch(ds){if(ds&&os&&typeof ds.stack=="string"){for(var ss=ds.stack.split("\n"),as=os.stack.split("\n"),ls=ss.length-1,cs=as.length-1;1<=ls&&0<=cs&&ss[ls]!==as[cs];)cs--;for(;1<=ls&&0<=cs;ls--,cs--)if(ss[ls]!==as[cs]){if(ls!==1||cs!==1)do if(ls--,cs--,0>cs||ss[ls]!==as[cs]){var us="\n"+ss[ls].replace(" at new "," at ");return ts.displayName&&us.includes("<anonymous>")&&(us=us.replace("<anonymous>",ts.displayName)),us}while(1<=ls&&0<=cs);break}}}finally{Na=!1,Error.prepareStackTrace=ns}return(ts=ts?ts.displayName||ts.name:"")?Ma(ts):""}function Pa(ts){switch(ts.tag){case 5:return Ma(ts.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return ts=Oa(ts.type,!1),ts;case 11:return ts=Oa(ts.type.render,!1),ts;case 1:return ts=Oa(ts.type,!0),ts;default:return""}}function Qa(ts){if(ts==null)return null;if(typeof ts=="function")return ts.displayName||ts.name||null;if(typeof ts=="string")return ts;switch(ts){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof ts=="object")switch(ts.$$typeof){case Ca:return(ts.displayName||"Context")+".Consumer";case Ba:return(ts._context.displayName||"Context")+".Provider";case Da:var rs=ts.render;return ts=ts.displayName,ts||(ts=rs.displayName||rs.name||"",ts=ts!==""?"ForwardRef("+ts+")":"ForwardRef"),ts;case Ga:return rs=ts.displayName||null,rs!==null?rs:Qa(ts.type)||"Memo";case Ha:rs=ts._payload,ts=ts._init;try{return Qa(ts(rs))}catch{}}return null}function Ra(ts){var rs=ts.type;switch(ts.tag){case 24:return"Cache";case 9:return(rs.displayName||"Context")+".Consumer";case 10:return(rs._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return ts=rs.render,ts=ts.displayName||ts.name||"",rs.displayName||(ts!==""?"ForwardRef("+ts+")":"ForwardRef");case 7:return"Fragment";case 5:return rs;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(rs);case 8:return rs===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof rs=="function")return rs.displayName||rs.name||null;if(typeof rs=="string")return rs}return null}function Sa(ts){switch(typeof ts){case"boolean":case"number":case"string":case"undefined":return ts;case"object":return ts;default:return""}}function Ta(ts){var rs=ts.type;return(ts=ts.nodeName)&&ts.toLowerCase()==="input"&&(rs==="checkbox"||rs==="radio")}function Ua(ts){var rs=Ta(ts)?"checked":"value",ns=Object.getOwnPropertyDescriptor(ts.constructor.prototype,rs),os=""+ts[rs];if(!ts.hasOwnProperty(rs)&&typeof ns<"u"&&typeof ns.get=="function"&&typeof ns.set=="function"){var ss=ns.get,as=ns.set;return Object.defineProperty(ts,rs,{configurable:!0,get:function(){return ss.call(this)},set:function(ls){os=""+ls,as.call(this,ls)}}),Object.defineProperty(ts,rs,{enumerable:ns.enumerable}),{getValue:function(){return os},setValue:function(ls){os=""+ls},stopTracking:function(){ts._valueTracker=null,delete ts[rs]}}}}function Va(ts){ts._valueTracker||(ts._valueTracker=Ua(ts))}function Wa(ts){if(!ts)return!1;var rs=ts._valueTracker;if(!rs)return!0;var ns=rs.getValue(),os="";return ts&&(os=Ta(ts)?ts.checked?"true":"false":ts.value),ts=os,ts!==ns?(rs.setValue(ts),!0):!1}function Xa(ts){if(ts=ts||(typeof document<"u"?document:void 0),typeof ts>"u")return null;try{return ts.activeElement||ts.body}catch{return ts.body}}function Ya(ts,rs){var ns=rs.checked;return A$1({},rs,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:ns!=null?ns:ts._wrapperState.initialChecked})}function Za(ts,rs){var ns=rs.defaultValue==null?"":rs.defaultValue,os=rs.checked!=null?rs.checked:rs.defaultChecked;ns=Sa(rs.value!=null?rs.value:ns),ts._wrapperState={initialChecked:os,initialValue:ns,controlled:rs.type==="checkbox"||rs.type==="radio"?rs.checked!=null:rs.value!=null}}function ab(ts,rs){rs=rs.checked,rs!=null&&ta(ts,"checked",rs,!1)}function bb(ts,rs){ab(ts,rs);var ns=Sa(rs.value),os=rs.type;if(ns!=null)os==="number"?(ns===0&&ts.value===""||ts.value!=ns)&&(ts.value=""+ns):ts.value!==""+ns&&(ts.value=""+ns);else if(os==="submit"||os==="reset"){ts.removeAttribute("value");return}rs.hasOwnProperty("value")?cb(ts,rs.type,ns):rs.hasOwnProperty("defaultValue")&&cb(ts,rs.type,Sa(rs.defaultValue)),rs.checked==null&&rs.defaultChecked!=null&&(ts.defaultChecked=!!rs.defaultChecked)}function db(ts,rs,ns){if(rs.hasOwnProperty("value")||rs.hasOwnProperty("defaultValue")){var os=rs.type;if(!(os!=="submit"&&os!=="reset"||rs.value!==void 0&&rs.value!==null))return;rs=""+ts._wrapperState.initialValue,ns||rs===ts.value||(ts.value=rs),ts.defaultValue=rs}ns=ts.name,ns!==""&&(ts.name=""),ts.defaultChecked=!!ts._wrapperState.initialChecked,ns!==""&&(ts.name=ns)}function cb(ts,rs,ns){(rs!=="number"||Xa(ts.ownerDocument)!==ts)&&(ns==null?ts.defaultValue=""+ts._wrapperState.initialValue:ts.defaultValue!==""+ns&&(ts.defaultValue=""+ns))}var eb=Array.isArray;function fb(ts,rs,ns,os){if(ts=ts.options,rs){rs={};for(var ss=0;ss<ns.length;ss++)rs["$"+ns[ss]]=!0;for(ns=0;ns<ts.length;ns++)ss=rs.hasOwnProperty("$"+ts[ns].value),ts[ns].selected!==ss&&(ts[ns].selected=ss),ss&&os&&(ts[ns].defaultSelected=!0)}else{for(ns=""+Sa(ns),rs=null,ss=0;ss<ts.length;ss++){if(ts[ss].value===ns){ts[ss].selected=!0,os&&(ts[ss].defaultSelected=!0);return}rs!==null||ts[ss].disabled||(rs=ts[ss])}rs!==null&&(rs.selected=!0)}}function gb(ts,rs){if(rs.dangerouslySetInnerHTML!=null)throw Error(p$5(91));return A$1({},rs,{value:void 0,defaultValue:void 0,children:""+ts._wrapperState.initialValue})}function hb(ts,rs){var ns=rs.value;if(ns==null){if(ns=rs.children,rs=rs.defaultValue,ns!=null){if(rs!=null)throw Error(p$5(92));if(eb(ns)){if(1<ns.length)throw Error(p$5(93));ns=ns[0]}rs=ns}rs==null&&(rs=""),ns=rs}ts._wrapperState={initialValue:Sa(ns)}}function ib(ts,rs){var ns=Sa(rs.value),os=Sa(rs.defaultValue);ns!=null&&(ns=""+ns,ns!==ts.value&&(ts.value=ns),rs.defaultValue==null&&ts.defaultValue!==ns&&(ts.defaultValue=ns)),os!=null&&(ts.defaultValue=""+os)}function jb(ts){var rs=ts.textContent;rs===ts._wrapperState.initialValue&&rs!==""&&rs!==null&&(ts.value=rs)}function kb(ts){switch(ts){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(ts,rs){return ts==null||ts==="http://www.w3.org/1999/xhtml"?kb(rs):ts==="http://www.w3.org/2000/svg"&&rs==="foreignObject"?"http://www.w3.org/1999/xhtml":ts}var mb,nb=function(ts){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(rs,ns,os,ss){MSApp.execUnsafeLocalFunction(function(){return ts(rs,ns,os,ss)})}:ts}(function(ts,rs){if(ts.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in ts)ts.innerHTML=rs;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+rs.valueOf().toString()+"</svg>",rs=mb.firstChild;ts.firstChild;)ts.removeChild(ts.firstChild);for(;rs.firstChild;)ts.appendChild(rs.firstChild)}});function ob(ts,rs){if(rs){var ns=ts.firstChild;if(ns&&ns===ts.lastChild&&ns.nodeType===3){ns.nodeValue=rs;return}}ts.textContent=rs}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(ts){qb.forEach(function(rs){rs=rs+ts.charAt(0).toUpperCase()+ts.substring(1),pb[rs]=pb[ts]})});function rb(ts,rs,ns){return rs==null||typeof rs=="boolean"||rs===""?"":ns||typeof rs!="number"||rs===0||pb.hasOwnProperty(ts)&&pb[ts]?(""+rs).trim():rs+"px"}function sb(ts,rs){ts=ts.style;for(var ns in rs)if(rs.hasOwnProperty(ns)){var os=ns.indexOf("--")===0,ss=rb(ns,rs[ns],os);ns==="float"&&(ns="cssFloat"),os?ts.setProperty(ns,ss):ts[ns]=ss}}var tb=A$1({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(ts,rs){if(rs){if(tb[ts]&&(rs.children!=null||rs.dangerouslySetInnerHTML!=null))throw Error(p$5(137,ts));if(rs.dangerouslySetInnerHTML!=null){if(rs.children!=null)throw Error(p$5(60));if(typeof rs.dangerouslySetInnerHTML!="object"||!("__html"in rs.dangerouslySetInnerHTML))throw Error(p$5(61))}if(rs.style!=null&&typeof rs.style!="object")throw Error(p$5(62))}}function vb(ts,rs){if(ts.indexOf("-")===-1)return typeof rs.is=="string";switch(ts){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(ts){return ts=ts.target||ts.srcElement||window,ts.correspondingUseElement&&(ts=ts.correspondingUseElement),ts.nodeType===3?ts.parentNode:ts}var yb=null,zb=null,Ab=null;function Bb(ts){if(ts=Cb(ts)){if(typeof yb!="function")throw Error(p$5(280));var rs=ts.stateNode;rs&&(rs=Db(rs),yb(ts.stateNode,ts.type,rs))}}function Eb(ts){zb?Ab?Ab.push(ts):Ab=[ts]:zb=ts}function Fb(){if(zb){var ts=zb,rs=Ab;if(Ab=zb=null,Bb(ts),rs)for(ts=0;ts<rs.length;ts++)Bb(rs[ts])}}function Gb(ts,rs){return ts(rs)}function Hb(){}var Ib=!1;function Jb(ts,rs,ns){if(Ib)return ts(rs,ns);Ib=!0;try{return Gb(ts,rs,ns)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(ts,rs){var ns=ts.stateNode;if(ns===null)return null;var os=Db(ns);if(os===null)return null;ns=os[rs];e:switch(rs){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(os=!os.disabled)||(ts=ts.type,os=!(ts==="button"||ts==="input"||ts==="select"||ts==="textarea")),ts=!os;break e;default:ts=!1}if(ts)return null;if(ns&&typeof ns!="function")throw Error(p$5(231,rs,typeof ns));return ns}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(ts,rs,ns,os,ss,as,ls,cs,us){var ds=Array.prototype.slice.call(arguments,3);try{rs.apply(ns,ds)}catch(ps){this.onError(ps)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(ts){Ob=!0,Pb=ts}};function Tb(ts,rs,ns,os,ss,as,ls,cs,us){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(ts,rs,ns,os,ss,as,ls,cs,us){if(Tb.apply(this,arguments),Ob){if(Ob){var ds=Pb;Ob=!1,Pb=null}else throw Error(p$5(198));Qb||(Qb=!0,Rb=ds)}}function Vb(ts){var rs=ts,ns=ts;if(ts.alternate)for(;rs.return;)rs=rs.return;else{ts=rs;do rs=ts,rs.flags&4098&&(ns=rs.return),ts=rs.return;while(ts)}return rs.tag===3?ns:null}function Wb(ts){if(ts.tag===13){var rs=ts.memoizedState;if(rs===null&&(ts=ts.alternate,ts!==null&&(rs=ts.memoizedState)),rs!==null)return rs.dehydrated}return null}function Xb(ts){if(Vb(ts)!==ts)throw Error(p$5(188))}function Yb(ts){var rs=ts.alternate;if(!rs){if(rs=Vb(ts),rs===null)throw Error(p$5(188));return rs!==ts?null:ts}for(var ns=ts,os=rs;;){var ss=ns.return;if(ss===null)break;var as=ss.alternate;if(as===null){if(os=ss.return,os!==null){ns=os;continue}break}if(ss.child===as.child){for(as=ss.child;as;){if(as===ns)return Xb(ss),ts;if(as===os)return Xb(ss),rs;as=as.sibling}throw Error(p$5(188))}if(ns.return!==os.return)ns=ss,os=as;else{for(var ls=!1,cs=ss.child;cs;){if(cs===ns){ls=!0,ns=ss,os=as;break}if(cs===os){ls=!0,os=ss,ns=as;break}cs=cs.sibling}if(!ls){for(cs=as.child;cs;){if(cs===ns){ls=!0,ns=as,os=ss;break}if(cs===os){ls=!0,os=as,ns=ss;break}cs=cs.sibling}if(!ls)throw Error(p$5(189))}}if(ns.alternate!==os)throw Error(p$5(190))}if(ns.tag!==3)throw Error(p$5(188));return ns.stateNode.current===ns?ts:rs}function Zb(ts){return ts=Yb(ts),ts!==null?$b(ts):null}function $b(ts){if(ts.tag===5||ts.tag===6)return ts;for(ts=ts.child;ts!==null;){var rs=$b(ts);if(rs!==null)return rs;ts=ts.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B$1=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(ts){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,ts,void 0,(ts.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(ts){return ts>>>=0,ts===0?32:31-(pc(ts)/qc|0)|0}var rc=64,sc=4194304;function tc(ts){switch(ts&-ts){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return ts&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return ts&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return ts}}function uc(ts,rs){var ns=ts.pendingLanes;if(ns===0)return 0;var os=0,ss=ts.suspendedLanes,as=ts.pingedLanes,ls=ns&268435455;if(ls!==0){var cs=ls&~ss;cs!==0?os=tc(cs):(as&=ls,as!==0&&(os=tc(as)))}else ls=ns&~ss,ls!==0?os=tc(ls):as!==0&&(os=tc(as));if(os===0)return 0;if(rs!==0&&rs!==os&&!(rs&ss)&&(ss=os&-os,as=rs&-rs,ss>=as||ss===16&&(as&4194240)!==0))return rs;if(os&4&&(os|=ns&16),rs=ts.entangledLanes,rs!==0)for(ts=ts.entanglements,rs&=os;0<rs;)ns=31-oc(rs),ss=1<<ns,os|=ts[ns],rs&=~ss;return os}function vc(ts,rs){switch(ts){case 1:case 2:case 4:return rs+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return rs+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(ts,rs){for(var ns=ts.suspendedLanes,os=ts.pingedLanes,ss=ts.expirationTimes,as=ts.pendingLanes;0<as;){var ls=31-oc(as),cs=1<<ls,us=ss[ls];us===-1?(!(cs&ns)||cs&os)&&(ss[ls]=vc(cs,rs)):us<=rs&&(ts.expiredLanes|=cs),as&=~cs}}function xc(ts){return ts=ts.pendingLanes&-1073741825,ts!==0?ts:ts&1073741824?1073741824:0}function yc(){var ts=rc;return rc<<=1,!(rc&4194240)&&(rc=64),ts}function zc(ts){for(var rs=[],ns=0;31>ns;ns++)rs.push(ts);return rs}function Ac(ts,rs,ns){ts.pendingLanes|=rs,rs!==536870912&&(ts.suspendedLanes=0,ts.pingedLanes=0),ts=ts.eventTimes,rs=31-oc(rs),ts[rs]=ns}function Bc(ts,rs){var ns=ts.pendingLanes&~rs;ts.pendingLanes=rs,ts.suspendedLanes=0,ts.pingedLanes=0,ts.expiredLanes&=rs,ts.mutableReadLanes&=rs,ts.entangledLanes&=rs,rs=ts.entanglements;var os=ts.eventTimes;for(ts=ts.expirationTimes;0<ns;){var ss=31-oc(ns),as=1<<ss;rs[ss]=0,os[ss]=-1,ts[ss]=-1,ns&=~as}}function Cc(ts,rs){var ns=ts.entangledLanes|=rs;for(ts=ts.entanglements;ns;){var os=31-oc(ns),ss=1<<os;ss&rs|ts[os]&rs&&(ts[os]|=rs),ns&=~ss}}var C$1=0;function Dc(ts){return ts&=-ts,1<ts?4<ts?ts&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(ts,rs){switch(ts){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(rs.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(rs.pointerId)}}function Tc(ts,rs,ns,os,ss,as){return ts===null||ts.nativeEvent!==as?(ts={blockedOn:rs,domEventName:ns,eventSystemFlags:os,nativeEvent:as,targetContainers:[ss]},rs!==null&&(rs=Cb(rs),rs!==null&&Fc(rs)),ts):(ts.eventSystemFlags|=os,rs=ts.targetContainers,ss!==null&&rs.indexOf(ss)===-1&&rs.push(ss),ts)}function Uc(ts,rs,ns,os,ss){switch(rs){case"focusin":return Lc=Tc(Lc,ts,rs,ns,os,ss),!0;case"dragenter":return Mc=Tc(Mc,ts,rs,ns,os,ss),!0;case"mouseover":return Nc=Tc(Nc,ts,rs,ns,os,ss),!0;case"pointerover":var as=ss.pointerId;return Oc.set(as,Tc(Oc.get(as)||null,ts,rs,ns,os,ss)),!0;case"gotpointercapture":return as=ss.pointerId,Pc.set(as,Tc(Pc.get(as)||null,ts,rs,ns,os,ss)),!0}return!1}function Vc(ts){var rs=Wc(ts.target);if(rs!==null){var ns=Vb(rs);if(ns!==null){if(rs=ns.tag,rs===13){if(rs=Wb(ns),rs!==null){ts.blockedOn=rs,Ic(ts.priority,function(){Gc(ns)});return}}else if(rs===3&&ns.stateNode.current.memoizedState.isDehydrated){ts.blockedOn=ns.tag===3?ns.stateNode.containerInfo:null;return}}}ts.blockedOn=null}function Xc(ts){if(ts.blockedOn!==null)return!1;for(var rs=ts.targetContainers;0<rs.length;){var ns=Yc(ts.domEventName,ts.eventSystemFlags,rs[0],ts.nativeEvent);if(ns===null){ns=ts.nativeEvent;var os=new ns.constructor(ns.type,ns);wb=os,ns.target.dispatchEvent(os),wb=null}else return rs=Cb(ns),rs!==null&&Fc(rs),ts.blockedOn=ns,!1;rs.shift()}return!0}function Zc(ts,rs,ns){Xc(ts)&&ns.delete(rs)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(ts,rs){ts.blockedOn===rs&&(ts.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(ts){function rs(ss){return ad(ss,ts)}if(0<Kc.length){ad(Kc[0],ts);for(var ns=1;ns<Kc.length;ns++){var os=Kc[ns];os.blockedOn===ts&&(os.blockedOn=null)}}for(Lc!==null&&ad(Lc,ts),Mc!==null&&ad(Mc,ts),Nc!==null&&ad(Nc,ts),Oc.forEach(rs),Pc.forEach(rs),ns=0;ns<Qc.length;ns++)os=Qc[ns],os.blockedOn===ts&&(os.blockedOn=null);for(;0<Qc.length&&(ns=Qc[0],ns.blockedOn===null);)Vc(ns),ns.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(ts,rs,ns,os){var ss=C$1,as=cd.transition;cd.transition=null;try{C$1=1,fd(ts,rs,ns,os)}finally{C$1=ss,cd.transition=as}}function gd(ts,rs,ns,os){var ss=C$1,as=cd.transition;cd.transition=null;try{C$1=4,fd(ts,rs,ns,os)}finally{C$1=ss,cd.transition=as}}function fd(ts,rs,ns,os){if(dd){var ss=Yc(ts,rs,ns,os);if(ss===null)hd(ts,rs,os,id,ns),Sc(ts,os);else if(Uc(ss,ts,rs,ns,os))os.stopPropagation();else if(Sc(ts,os),rs&4&&-1<Rc.indexOf(ts)){for(;ss!==null;){var as=Cb(ss);if(as!==null&&Ec(as),as=Yc(ts,rs,ns,os),as===null&&hd(ts,rs,os,id,ns),as===ss)break;ss=as}ss!==null&&os.stopPropagation()}else hd(ts,rs,os,null,ns)}}var id=null;function Yc(ts,rs,ns,os){if(id=null,ts=xb(os),ts=Wc(ts),ts!==null)if(rs=Vb(ts),rs===null)ts=null;else if(ns=rs.tag,ns===13){if(ts=Wb(rs),ts!==null)return ts;ts=null}else if(ns===3){if(rs.stateNode.current.memoizedState.isDehydrated)return rs.tag===3?rs.stateNode.containerInfo:null;ts=null}else rs!==ts&&(ts=null);return id=ts,null}function jd(ts){switch(ts){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var ts,rs=ld,ns=rs.length,os,ss="value"in kd?kd.value:kd.textContent,as=ss.length;for(ts=0;ts<ns&&rs[ts]===ss[ts];ts++);var ls=ns-ts;for(os=1;os<=ls&&rs[ns-os]===ss[as-os];os++);return md=ss.slice(ts,1<os?1-os:void 0)}function od(ts){var rs=ts.keyCode;return"charCode"in ts?(ts=ts.charCode,ts===0&&rs===13&&(ts=13)):ts=rs,ts===10&&(ts=13),32<=ts||ts===13?ts:0}function pd(){return!0}function qd(){return!1}function rd(ts){function rs(ns,os,ss,as,ls){this._reactName=ns,this._targetInst=ss,this.type=os,this.nativeEvent=as,this.target=ls,this.currentTarget=null;for(var cs in ts)ts.hasOwnProperty(cs)&&(ns=ts[cs],this[cs]=ns?ns(as):as[cs]);return this.isDefaultPrevented=(as.defaultPrevented!=null?as.defaultPrevented:as.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$1(rs.prototype,{preventDefault:function(){this.defaultPrevented=!0;var ns=this.nativeEvent;ns&&(ns.preventDefault?ns.preventDefault():typeof ns.returnValue!="unknown"&&(ns.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var ns=this.nativeEvent;ns&&(ns.stopPropagation?ns.stopPropagation():typeof ns.cancelBubble!="unknown"&&(ns.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),rs}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(ts){return ts.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$1({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$1({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(ts){return ts.relatedTarget===void 0?ts.fromElement===ts.srcElement?ts.toElement:ts.fromElement:ts.relatedTarget},movementX:function(ts){return"movementX"in ts?ts.movementX:(ts!==yd&&(yd&&ts.type==="mousemove"?(wd=ts.screenX-yd.screenX,xd=ts.screenY-yd.screenY):xd=wd=0,yd=ts),wd)},movementY:function(ts){return"movementY"in ts?ts.movementY:xd}}),Bd=rd(Ad),Cd=A$1({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$1({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$1({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$1({},sd,{clipboardData:function(ts){return"clipboardData"in ts?ts.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$1({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(ts){var rs=this.nativeEvent;return rs.getModifierState?rs.getModifierState(ts):(ts=Od[ts])?!!rs[ts]:!1}function zd(){return Pd}var Qd=A$1({},ud,{key:function(ts){if(ts.key){var rs=Md[ts.key]||ts.key;if(rs!=="Unidentified")return rs}return ts.type==="keypress"?(ts=od(ts),ts===13?"Enter":String.fromCharCode(ts)):ts.type==="keydown"||ts.type==="keyup"?Nd[ts.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(ts){return ts.type==="keypress"?od(ts):0},keyCode:function(ts){return ts.type==="keydown"||ts.type==="keyup"?ts.keyCode:0},which:function(ts){return ts.type==="keypress"?od(ts):ts.type==="keydown"||ts.type==="keyup"?ts.keyCode:0}}),Rd=rd(Qd),Sd=A$1({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$1({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$1({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$1({},Ad,{deltaX:function(ts){return"deltaX"in ts?ts.deltaX:"wheelDeltaX"in ts?-ts.wheelDeltaX:0},deltaY:function(ts){return"deltaY"in ts?ts.deltaY:"wheelDeltaY"in ts?-ts.wheelDeltaY:"wheelDelta"in ts?-ts.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae$1=ia&&"CompositionEvent"in window,be$1=null;ia&&"documentMode"in document&&(be$1=document.documentMode);var ce$1=ia&&"TextEvent"in window&&!be$1,de$1=ia&&(!ae$1||be$1&&8<be$1&&11>=be$1),ee$1=String.fromCharCode(32),fe$1=!1;function ge$1(ts,rs){switch(ts){case"keyup":return $d.indexOf(rs.keyCode)!==-1;case"keydown":return rs.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he$1(ts){return ts=ts.detail,typeof ts=="object"&&"data"in ts?ts.data:null}var ie$1=!1;function je$1(ts,rs){switch(ts){case"compositionend":return he$1(rs);case"keypress":return rs.which!==32?null:(fe$1=!0,ee$1);case"textInput":return ts=rs.data,ts===ee$1&&fe$1?null:ts;default:return null}}function ke$1(ts,rs){if(ie$1)return ts==="compositionend"||!ae$1&&ge$1(ts,rs)?(ts=nd(),md=ld=kd=null,ie$1=!1,ts):null;switch(ts){case"paste":return null;case"keypress":if(!(rs.ctrlKey||rs.altKey||rs.metaKey)||rs.ctrlKey&&rs.altKey){if(rs.char&&1<rs.char.length)return rs.char;if(rs.which)return String.fromCharCode(rs.which)}return null;case"compositionend":return de$1&&rs.locale!=="ko"?null:rs.data;default:return null}}var le$1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(ts){var rs=ts&&ts.nodeName&&ts.nodeName.toLowerCase();return rs==="input"?!!le$1[ts.type]:rs==="textarea"}function ne$1(ts,rs,ns,os){Eb(os),rs=oe$1(rs,"onChange"),0<rs.length&&(ns=new td("onChange","change",null,ns,os),ts.push({event:ns,listeners:rs}))}var pe$1=null,qe$1=null;function re$1(ts){se$1(ts,0)}function te$1(ts){var rs=ue(ts);if(Wa(rs))return ts}function ve$1(ts,rs){if(ts==="change")return rs}var we$1=!1;if(ia){var xe$1;if(ia){var ye$1="oninput"in document;if(!ye$1){var ze$1=document.createElement("div");ze$1.setAttribute("oninput","return;"),ye$1=typeof ze$1.oninput=="function"}xe$1=ye$1}else xe$1=!1;we$1=xe$1&&(!document.documentMode||9<document.documentMode)}function Ae$1(){pe$1&&(pe$1.detachEvent("onpropertychange",Be$1),qe$1=pe$1=null)}function Be$1(ts){if(ts.propertyName==="value"&&te$1(qe$1)){var rs=[];ne$1(rs,qe$1,ts,xb(ts)),Jb(re$1,rs)}}function Ce(ts,rs,ns){ts==="focusin"?(Ae$1(),pe$1=rs,qe$1=ns,pe$1.attachEvent("onpropertychange",Be$1)):ts==="focusout"&&Ae$1()}function De$1(ts){if(ts==="selectionchange"||ts==="keyup"||ts==="keydown")return te$1(qe$1)}function Ee$1(ts,rs){if(ts==="click")return te$1(rs)}function Fe$1(ts,rs){if(ts==="input"||ts==="change")return te$1(rs)}function Ge(ts,rs){return ts===rs&&(ts!==0||1/ts===1/rs)||ts!==ts&&rs!==rs}var He$1=typeof Object.is=="function"?Object.is:Ge;function Ie(ts,rs){if(He$1(ts,rs))return!0;if(typeof ts!="object"||ts===null||typeof rs!="object"||rs===null)return!1;var ns=Object.keys(ts),os=Object.keys(rs);if(ns.length!==os.length)return!1;for(os=0;os<ns.length;os++){var ss=ns[os];if(!ja.call(rs,ss)||!He$1(ts[ss],rs[ss]))return!1}return!0}function Je(ts){for(;ts&&ts.firstChild;)ts=ts.firstChild;return ts}function Ke(ts,rs){var ns=Je(ts);ts=0;for(var os;ns;){if(ns.nodeType===3){if(os=ts+ns.textContent.length,ts<=rs&&os>=rs)return{node:ns,offset:rs-ts};ts=os}e:{for(;ns;){if(ns.nextSibling){ns=ns.nextSibling;break e}ns=ns.parentNode}ns=void 0}ns=Je(ns)}}function Le$1(ts,rs){return ts&&rs?ts===rs?!0:ts&&ts.nodeType===3?!1:rs&&rs.nodeType===3?Le$1(ts,rs.parentNode):"contains"in ts?ts.contains(rs):ts.compareDocumentPosition?!!(ts.compareDocumentPosition(rs)&16):!1:!1}function Me$1(){for(var ts=window,rs=Xa();rs instanceof ts.HTMLIFrameElement;){try{var ns=typeof rs.contentWindow.location.href=="string"}catch{ns=!1}if(ns)ts=rs.contentWindow;else break;rs=Xa(ts.document)}return rs}function Ne$1(ts){var rs=ts&&ts.nodeName&&ts.nodeName.toLowerCase();return rs&&(rs==="input"&&(ts.type==="text"||ts.type==="search"||ts.type==="tel"||ts.type==="url"||ts.type==="password")||rs==="textarea"||ts.contentEditable==="true")}function Oe$1(ts){var rs=Me$1(),ns=ts.focusedElem,os=ts.selectionRange;if(rs!==ns&&ns&&ns.ownerDocument&&Le$1(ns.ownerDocument.documentElement,ns)){if(os!==null&&Ne$1(ns)){if(rs=os.start,ts=os.end,ts===void 0&&(ts=rs),"selectionStart"in ns)ns.selectionStart=rs,ns.selectionEnd=Math.min(ts,ns.value.length);else if(ts=(rs=ns.ownerDocument||document)&&rs.defaultView||window,ts.getSelection){ts=ts.getSelection();var ss=ns.textContent.length,as=Math.min(os.start,ss);os=os.end===void 0?as:Math.min(os.end,ss),!ts.extend&&as>os&&(ss=os,os=as,as=ss),ss=Ke(ns,as);var ls=Ke(ns,os);ss&&ls&&(ts.rangeCount!==1||ts.anchorNode!==ss.node||ts.anchorOffset!==ss.offset||ts.focusNode!==ls.node||ts.focusOffset!==ls.offset)&&(rs=rs.createRange(),rs.setStart(ss.node,ss.offset),ts.removeAllRanges(),as>os?(ts.addRange(rs),ts.extend(ls.node,ls.offset)):(rs.setEnd(ls.node,ls.offset),ts.addRange(rs)))}}for(rs=[],ts=ns;ts=ts.parentNode;)ts.nodeType===1&&rs.push({element:ts,left:ts.scrollLeft,top:ts.scrollTop});for(typeof ns.focus=="function"&&ns.focus(),ns=0;ns<rs.length;ns++)ts=rs[ns],ts.element.scrollLeft=ts.left,ts.element.scrollTop=ts.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re$1=null,Se$1=null,Te$1=!1;function Ue(ts,rs,ns){var os=ns.window===ns?ns.document:ns.nodeType===9?ns:ns.ownerDocument;Te$1||Qe==null||Qe!==Xa(os)||(os=Qe,"selectionStart"in os&&Ne$1(os)?os={start:os.selectionStart,end:os.selectionEnd}:(os=(os.ownerDocument&&os.ownerDocument.defaultView||window).getSelection(),os={anchorNode:os.anchorNode,anchorOffset:os.anchorOffset,focusNode:os.focusNode,focusOffset:os.focusOffset}),Se$1&&Ie(Se$1,os)||(Se$1=os,os=oe$1(Re$1,"onSelect"),0<os.length&&(rs=new td("onSelect","select",null,rs,ns),ts.push({event:rs,listeners:os}),rs.target=Qe)))}function Ve$1(ts,rs){var ns={};return ns[ts.toLowerCase()]=rs.toLowerCase(),ns["Webkit"+ts]="webkit"+rs,ns["Moz"+ts]="moz"+rs,ns}var We$1={animationend:Ve$1("Animation","AnimationEnd"),animationiteration:Ve$1("Animation","AnimationIteration"),animationstart:Ve$1("Animation","AnimationStart"),transitionend:Ve$1("Transition","TransitionEnd")},Xe={},Ye$1={};ia&&(Ye$1=document.createElement("div").style,"AnimationEvent"in window||(delete We$1.animationend.animation,delete We$1.animationiteration.animation,delete We$1.animationstart.animation),"TransitionEvent"in window||delete We$1.transitionend.transition);function Ze(ts){if(Xe[ts])return Xe[ts];if(!We$1[ts])return ts;var rs=We$1[ts],ns;for(ns in rs)if(rs.hasOwnProperty(ns)&&ns in Ye$1)return Xe[ts]=rs[ns];return ts}var $e$1=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(ts,rs){df.set(ts,rs),fa(rs,[ts])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e$1,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(ts,rs,ns){var os=ts.type||"unknown-event";ts.currentTarget=ns,Ub(os,rs,void 0,ts),ts.currentTarget=null}function se$1(ts,rs){rs=(rs&4)!==0;for(var ns=0;ns<ts.length;ns++){var os=ts[ns],ss=os.event;os=os.listeners;e:{var as=void 0;if(rs)for(var ls=os.length-1;0<=ls;ls--){var cs=os[ls],us=cs.instance,ds=cs.currentTarget;if(cs=cs.listener,us!==as&&ss.isPropagationStopped())break e;nf(ss,cs,ds),as=us}else for(ls=0;ls<os.length;ls++){if(cs=os[ls],us=cs.instance,ds=cs.currentTarget,cs=cs.listener,us!==as&&ss.isPropagationStopped())break e;nf(ss,cs,ds),as=us}}}if(Qb)throw ts=Rb,Qb=!1,Rb=null,ts}function D$1(ts,rs){var ns=rs[of];ns===void 0&&(ns=rs[of]=new Set);var os=ts+"__bubble";ns.has(os)||(pf(rs,ts,2,!1),ns.add(os))}function qf(ts,rs,ns){var os=0;rs&&(os|=4),pf(ns,ts,os,rs)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(ts){if(!ts[rf]){ts[rf]=!0,da.forEach(function(ns){ns!=="selectionchange"&&(mf.has(ns)||qf(ns,!1,ts),qf(ns,!0,ts))});var rs=ts.nodeType===9?ts:ts.ownerDocument;rs===null||rs[rf]||(rs[rf]=!0,qf("selectionchange",!1,rs))}}function pf(ts,rs,ns,os){switch(jd(rs)){case 1:var ss=ed;break;case 4:ss=gd;break;default:ss=fd}ns=ss.bind(null,rs,ns,ts),ss=void 0,!Lb||rs!=="touchstart"&&rs!=="touchmove"&&rs!=="wheel"||(ss=!0),os?ss!==void 0?ts.addEventListener(rs,ns,{capture:!0,passive:ss}):ts.addEventListener(rs,ns,!0):ss!==void 0?ts.addEventListener(rs,ns,{passive:ss}):ts.addEventListener(rs,ns,!1)}function hd(ts,rs,ns,os,ss){var as=os;if(!(rs&1)&&!(rs&2)&&os!==null)e:for(;;){if(os===null)return;var ls=os.tag;if(ls===3||ls===4){var cs=os.stateNode.containerInfo;if(cs===ss||cs.nodeType===8&&cs.parentNode===ss)break;if(ls===4)for(ls=os.return;ls!==null;){var us=ls.tag;if((us===3||us===4)&&(us=ls.stateNode.containerInfo,us===ss||us.nodeType===8&&us.parentNode===ss))return;ls=ls.return}for(;cs!==null;){if(ls=Wc(cs),ls===null)return;if(us=ls.tag,us===5||us===6){os=as=ls;continue e}cs=cs.parentNode}}os=os.return}Jb(function(){var ds=as,ps=xb(ns),fs=[];e:{var hs=df.get(ts);if(hs!==void 0){var ms=td,gs=ts;switch(ts){case"keypress":if(od(ns)===0)break e;case"keydown":case"keyup":ms=Rd;break;case"focusin":gs="focus",ms=Fd;break;case"focusout":gs="blur",ms=Fd;break;case"beforeblur":case"afterblur":ms=Fd;break;case"click":if(ns.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ms=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ms=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ms=Vd;break;case $e$1:case af:case bf:ms=Hd;break;case cf:ms=Xd;break;case"scroll":ms=vd;break;case"wheel":ms=Zd;break;case"copy":case"cut":case"paste":ms=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ms=Td}var vs=(rs&4)!==0,bs=!vs&&ts==="scroll",xs=vs?hs!==null?hs+"Capture":null:hs;vs=[];for(var ys=ds,Ss;ys!==null;){Ss=ys;var Cs=Ss.stateNode;if(Ss.tag===5&&Cs!==null&&(Ss=Cs,xs!==null&&(Cs=Kb(ys,xs),Cs!=null&&vs.push(tf(ys,Cs,Ss)))),bs)break;ys=ys.return}0<vs.length&&(hs=new ms(hs,gs,null,ns,ps),fs.push({event:hs,listeners:vs}))}}if(!(rs&7)){e:{if(hs=ts==="mouseover"||ts==="pointerover",ms=ts==="mouseout"||ts==="pointerout",hs&&ns!==wb&&(gs=ns.relatedTarget||ns.fromElement)&&(Wc(gs)||gs[uf]))break e;if((ms||hs)&&(hs=ps.window===ps?ps:(hs=ps.ownerDocument)?hs.defaultView||hs.parentWindow:window,ms?(gs=ns.relatedTarget||ns.toElement,ms=ds,gs=gs?Wc(gs):null,gs!==null&&(bs=Vb(gs),gs!==bs||gs.tag!==5&&gs.tag!==6)&&(gs=null)):(ms=null,gs=ds),ms!==gs)){if(vs=Bd,Cs="onMouseLeave",xs="onMouseEnter",ys="mouse",(ts==="pointerout"||ts==="pointerover")&&(vs=Td,Cs="onPointerLeave",xs="onPointerEnter",ys="pointer"),bs=ms==null?hs:ue(ms),Ss=gs==null?hs:ue(gs),hs=new vs(Cs,ys+"leave",ms,ns,ps),hs.target=bs,hs.relatedTarget=Ss,Cs=null,Wc(ps)===ds&&(vs=new vs(xs,ys+"enter",gs,ns,ps),vs.target=Ss,vs.relatedTarget=bs,Cs=vs),bs=Cs,ms&&gs)t:{for(vs=ms,xs=gs,ys=0,Ss=vs;Ss;Ss=vf(Ss))ys++;for(Ss=0,Cs=xs;Cs;Cs=vf(Cs))Ss++;for(;0<ys-Ss;)vs=vf(vs),ys--;for(;0<Ss-ys;)xs=vf(xs),Ss--;for(;ys--;){if(vs===xs||xs!==null&&vs===xs.alternate)break t;vs=vf(vs),xs=vf(xs)}vs=null}else vs=null;ms!==null&&wf(fs,hs,ms,vs,!1),gs!==null&&bs!==null&&wf(fs,bs,gs,vs,!0)}}e:{if(hs=ds?ue(ds):window,ms=hs.nodeName&&hs.nodeName.toLowerCase(),ms==="select"||ms==="input"&&hs.type==="file")var $s=ve$1;else if(me(hs))if(we$1)$s=Fe$1;else{$s=De$1;var Es=Ce}else(ms=hs.nodeName)&&ms.toLowerCase()==="input"&&(hs.type==="checkbox"||hs.type==="radio")&&($s=Ee$1);if($s&&($s=$s(ts,ds))){ne$1(fs,$s,ns,ps);break e}Es&&Es(ts,hs,ds),ts==="focusout"&&(Es=hs._wrapperState)&&Es.controlled&&hs.type==="number"&&cb(hs,"number",hs.value)}switch(Es=ds?ue(ds):window,ts){case"focusin":(me(Es)||Es.contentEditable==="true")&&(Qe=Es,Re$1=ds,Se$1=null);break;case"focusout":Se$1=Re$1=Qe=null;break;case"mousedown":Te$1=!0;break;case"contextmenu":case"mouseup":case"dragend":Te$1=!1,Ue(fs,ns,ps);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(fs,ns,ps)}var ws;if(ae$1)e:{switch(ts){case"compositionstart":var Ts="onCompositionStart";break e;case"compositionend":Ts="onCompositionEnd";break e;case"compositionupdate":Ts="onCompositionUpdate";break e}Ts=void 0}else ie$1?ge$1(ts,ns)&&(Ts="onCompositionEnd"):ts==="keydown"&&ns.keyCode===229&&(Ts="onCompositionStart");Ts&&(de$1&&ns.locale!=="ko"&&(ie$1||Ts!=="onCompositionStart"?Ts==="onCompositionEnd"&&ie$1&&(ws=nd()):(kd=ps,ld="value"in kd?kd.value:kd.textContent,ie$1=!0)),Es=oe$1(ds,Ts),0<Es.length&&(Ts=new Ld(Ts,ts,null,ns,ps),fs.push({event:Ts,listeners:Es}),ws?Ts.data=ws:(ws=he$1(ns),ws!==null&&(Ts.data=ws)))),(ws=ce$1?je$1(ts,ns):ke$1(ts,ns))&&(ds=oe$1(ds,"onBeforeInput"),0<ds.length&&(ps=new Ld("onBeforeInput","beforeinput",null,ns,ps),fs.push({event:ps,listeners:ds}),ps.data=ws))}se$1(fs,rs)})}function tf(ts,rs,ns){return{instance:ts,listener:rs,currentTarget:ns}}function oe$1(ts,rs){for(var ns=rs+"Capture",os=[];ts!==null;){var ss=ts,as=ss.stateNode;ss.tag===5&&as!==null&&(ss=as,as=Kb(ts,ns),as!=null&&os.unshift(tf(ts,as,ss)),as=Kb(ts,rs),as!=null&&os.push(tf(ts,as,ss))),ts=ts.return}return os}function vf(ts){if(ts===null)return null;do ts=ts.return;while(ts&&ts.tag!==5);return ts||null}function wf(ts,rs,ns,os,ss){for(var as=rs._reactName,ls=[];ns!==null&&ns!==os;){var cs=ns,us=cs.alternate,ds=cs.stateNode;if(us!==null&&us===os)break;cs.tag===5&&ds!==null&&(cs=ds,ss?(us=Kb(ns,as),us!=null&&ls.unshift(tf(ns,us,cs))):ss||(us=Kb(ns,as),us!=null&&ls.push(tf(ns,us,cs)))),ns=ns.return}ls.length!==0&&ts.push({event:rs,listeners:ls})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(ts){return(typeof ts=="string"?ts:""+ts).replace(xf,"\n").replace(yf,"")}function Af(ts,rs,ns){if(rs=zf(rs),zf(ts)!==rs&&ns)throw Error(p$5(425))}function Bf(){}var Cf=null,Df=null;function Ef(ts,rs){return ts==="textarea"||ts==="noscript"||typeof rs.children=="string"||typeof rs.children=="number"||typeof rs.dangerouslySetInnerHTML=="object"&&rs.dangerouslySetInnerHTML!==null&&rs.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(ts){return Hf.resolve(null).then(ts).catch(If)}:Ff;function If(ts){setTimeout(function(){throw ts})}function Kf(ts,rs){var ns=rs,os=0;do{var ss=ns.nextSibling;if(ts.removeChild(ns),ss&&ss.nodeType===8)if(ns=ss.data,ns==="/$"){if(os===0){ts.removeChild(ss),bd(rs);return}os--}else ns!=="$"&&ns!=="$?"&&ns!=="$!"||os++;ns=ss}while(ns);bd(rs)}function Lf(ts){for(;ts!=null;ts=ts.nextSibling){var rs=ts.nodeType;if(rs===1||rs===3)break;if(rs===8){if(rs=ts.data,rs==="$"||rs==="$!"||rs==="$?")break;if(rs==="/$")return null}}return ts}function Mf(ts){ts=ts.previousSibling;for(var rs=0;ts;){if(ts.nodeType===8){var ns=ts.data;if(ns==="$"||ns==="$!"||ns==="$?"){if(rs===0)return ts;rs--}else ns==="/$"&&rs++}ts=ts.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(ts){var rs=ts[Of];if(rs)return rs;for(var ns=ts.parentNode;ns;){if(rs=ns[uf]||ns[Of]){if(ns=rs.alternate,rs.child!==null||ns!==null&&ns.child!==null)for(ts=Mf(ts);ts!==null;){if(ns=ts[Of])return ns;ts=Mf(ts)}return rs}ts=ns,ns=ts.parentNode}return null}function Cb(ts){return ts=ts[Of]||ts[uf],!ts||ts.tag!==5&&ts.tag!==6&&ts.tag!==13&&ts.tag!==3?null:ts}function ue(ts){if(ts.tag===5||ts.tag===6)return ts.stateNode;throw Error(p$5(33))}function Db(ts){return ts[Pf]||null}var Sf=[],Tf=-1;function Uf(ts){return{current:ts}}function E$1(ts){0>Tf||(ts.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G$1(ts,rs){Tf++,Sf[Tf]=ts.current,ts.current=rs}var Vf={},H$1=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(ts,rs){var ns=ts.type.contextTypes;if(!ns)return Vf;var os=ts.stateNode;if(os&&os.__reactInternalMemoizedUnmaskedChildContext===rs)return os.__reactInternalMemoizedMaskedChildContext;var ss={},as;for(as in ns)ss[as]=rs[as];return os&&(ts=ts.stateNode,ts.__reactInternalMemoizedUnmaskedChildContext=rs,ts.__reactInternalMemoizedMaskedChildContext=ss),ss}function Zf(ts){return ts=ts.childContextTypes,ts!=null}function $f(){E$1(Wf),E$1(H$1)}function ag(ts,rs,ns){if(H$1.current!==Vf)throw Error(p$5(168));G$1(H$1,rs),G$1(Wf,ns)}function bg(ts,rs,ns){var os=ts.stateNode;if(rs=rs.childContextTypes,typeof os.getChildContext!="function")return ns;os=os.getChildContext();for(var ss in os)if(!(ss in rs))throw Error(p$5(108,Ra(ts)||"Unknown",ss));return A$1({},ns,os)}function cg(ts){return ts=(ts=ts.stateNode)&&ts.__reactInternalMemoizedMergedChildContext||Vf,Xf=H$1.current,G$1(H$1,ts),G$1(Wf,Wf.current),!0}function dg(ts,rs,ns){var os=ts.stateNode;if(!os)throw Error(p$5(169));ns?(ts=bg(ts,rs,Xf),os.__reactInternalMemoizedMergedChildContext=ts,E$1(Wf),E$1(H$1),G$1(H$1,ts)):E$1(Wf),G$1(Wf,ns)}var eg=null,fg=!1,gg=!1;function hg(ts){eg===null?eg=[ts]:eg.push(ts)}function ig(ts){fg=!0,hg(ts)}function jg(){if(!gg&&eg!==null){gg=!0;var ts=0,rs=C$1;try{var ns=eg;for(C$1=1;ts<ns.length;ts++){var os=ns[ts];do os=os(!0);while(os!==null)}eg=null,fg=!1}catch(ss){throw eg!==null&&(eg=eg.slice(ts+1)),ac(fc,jg),ss}finally{C$1=rs,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(ts,rs){kg[lg++]=ng,kg[lg++]=mg,mg=ts,ng=rs}function ug(ts,rs,ns){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=ts;var os=rg;ts=sg;var ss=32-oc(os)-1;os&=~(1<<ss),ns+=1;var as=32-oc(rs)+ss;if(30<as){var ls=ss-ss%5;as=(os&(1<<ls)-1).toString(32),os>>=ls,ss-=ls,rg=1<<32-oc(rs)+ss|ns<<ss|os,sg=as+ts}else rg=1<<as|ns<<ss|os,sg=ts}function vg(ts){ts.return!==null&&(tg(ts,1),ug(ts,1,0))}function wg(ts){for(;ts===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;ts===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I$1=!1,zg=null;function Ag(ts,rs){var ns=Bg(5,null,null,0);ns.elementType="DELETED",ns.stateNode=rs,ns.return=ts,rs=ts.deletions,rs===null?(ts.deletions=[ns],ts.flags|=16):rs.push(ns)}function Cg(ts,rs){switch(ts.tag){case 5:var ns=ts.type;return rs=rs.nodeType!==1||ns.toLowerCase()!==rs.nodeName.toLowerCase()?null:rs,rs!==null?(ts.stateNode=rs,xg=ts,yg=Lf(rs.firstChild),!0):!1;case 6:return rs=ts.pendingProps===""||rs.nodeType!==3?null:rs,rs!==null?(ts.stateNode=rs,xg=ts,yg=null,!0):!1;case 13:return rs=rs.nodeType!==8?null:rs,rs!==null?(ns=qg!==null?{id:rg,overflow:sg}:null,ts.memoizedState={dehydrated:rs,treeContext:ns,retryLane:1073741824},ns=Bg(18,null,null,0),ns.stateNode=rs,ns.return=ts,ts.child=ns,xg=ts,yg=null,!0):!1;default:return!1}}function Dg(ts){return(ts.mode&1)!==0&&(ts.flags&128)===0}function Eg(ts){if(I$1){var rs=yg;if(rs){var ns=rs;if(!Cg(ts,rs)){if(Dg(ts))throw Error(p$5(418));rs=Lf(ns.nextSibling);var os=xg;rs&&Cg(ts,rs)?Ag(os,ns):(ts.flags=ts.flags&-4097|2,I$1=!1,xg=ts)}}else{if(Dg(ts))throw Error(p$5(418));ts.flags=ts.flags&-4097|2,I$1=!1,xg=ts}}}function Fg(ts){for(ts=ts.return;ts!==null&&ts.tag!==5&&ts.tag!==3&&ts.tag!==13;)ts=ts.return;xg=ts}function Gg(ts){if(ts!==xg)return!1;if(!I$1)return Fg(ts),I$1=!0,!1;var rs;if((rs=ts.tag!==3)&&!(rs=ts.tag!==5)&&(rs=ts.type,rs=rs!=="head"&&rs!=="body"&&!Ef(ts.type,ts.memoizedProps)),rs&&(rs=yg)){if(Dg(ts))throw Hg(),Error(p$5(418));for(;rs;)Ag(ts,rs),rs=Lf(rs.nextSibling)}if(Fg(ts),ts.tag===13){if(ts=ts.memoizedState,ts=ts!==null?ts.dehydrated:null,!ts)throw Error(p$5(317));e:{for(ts=ts.nextSibling,rs=0;ts;){if(ts.nodeType===8){var ns=ts.data;if(ns==="/$"){if(rs===0){yg=Lf(ts.nextSibling);break e}rs--}else ns!=="$"&&ns!=="$!"&&ns!=="$?"||rs++}ts=ts.nextSibling}yg=null}}else yg=xg?Lf(ts.stateNode.nextSibling):null;return!0}function Hg(){for(var ts=yg;ts;)ts=Lf(ts.nextSibling)}function Ig(){yg=xg=null,I$1=!1}function Jg(ts){zg===null?zg=[ts]:zg.push(ts)}var Kg=ua.ReactCurrentBatchConfig;function Lg(ts,rs,ns){if(ts=ns.ref,ts!==null&&typeof ts!="function"&&typeof ts!="object"){if(ns._owner){if(ns=ns._owner,ns){if(ns.tag!==1)throw Error(p$5(309));var os=ns.stateNode}if(!os)throw Error(p$5(147,ts));var ss=os,as=""+ts;return rs!==null&&rs.ref!==null&&typeof rs.ref=="function"&&rs.ref._stringRef===as?rs.ref:(rs=function(ls){var cs=ss.refs;ls===null?delete cs[as]:cs[as]=ls},rs._stringRef=as,rs)}if(typeof ts!="string")throw Error(p$5(284));if(!ns._owner)throw Error(p$5(290,ts))}return ts}function Mg(ts,rs){throw ts=Object.prototype.toString.call(rs),Error(p$5(31,ts==="[object Object]"?"object with keys {"+Object.keys(rs).join(", ")+"}":ts))}function Ng(ts){var rs=ts._init;return rs(ts._payload)}function Og(ts){function rs(xs,ys){if(ts){var Ss=xs.deletions;Ss===null?(xs.deletions=[ys],xs.flags|=16):Ss.push(ys)}}function ns(xs,ys){if(!ts)return null;for(;ys!==null;)rs(xs,ys),ys=ys.sibling;return null}function os(xs,ys){for(xs=new Map;ys!==null;)ys.key!==null?xs.set(ys.key,ys):xs.set(ys.index,ys),ys=ys.sibling;return xs}function ss(xs,ys){return xs=Pg(xs,ys),xs.index=0,xs.sibling=null,xs}function as(xs,ys,Ss){return xs.index=Ss,ts?(Ss=xs.alternate,Ss!==null?(Ss=Ss.index,Ss<ys?(xs.flags|=2,ys):Ss):(xs.flags|=2,ys)):(xs.flags|=1048576,ys)}function ls(xs){return ts&&xs.alternate===null&&(xs.flags|=2),xs}function cs(xs,ys,Ss,Cs){return ys===null||ys.tag!==6?(ys=Qg(Ss,xs.mode,Cs),ys.return=xs,ys):(ys=ss(ys,Ss),ys.return=xs,ys)}function us(xs,ys,Ss,Cs){var $s=Ss.type;return $s===ya?ps(xs,ys,Ss.props.children,Cs,Ss.key):ys!==null&&(ys.elementType===$s||typeof $s=="object"&&$s!==null&&$s.$$typeof===Ha&&Ng($s)===ys.type)?(Cs=ss(ys,Ss.props),Cs.ref=Lg(xs,ys,Ss),Cs.return=xs,Cs):(Cs=Rg(Ss.type,Ss.key,Ss.props,null,xs.mode,Cs),Cs.ref=Lg(xs,ys,Ss),Cs.return=xs,Cs)}function ds(xs,ys,Ss,Cs){return ys===null||ys.tag!==4||ys.stateNode.containerInfo!==Ss.containerInfo||ys.stateNode.implementation!==Ss.implementation?(ys=Sg(Ss,xs.mode,Cs),ys.return=xs,ys):(ys=ss(ys,Ss.children||[]),ys.return=xs,ys)}function ps(xs,ys,Ss,Cs,$s){return ys===null||ys.tag!==7?(ys=Tg(Ss,xs.mode,Cs,$s),ys.return=xs,ys):(ys=ss(ys,Ss),ys.return=xs,ys)}function fs(xs,ys,Ss){if(typeof ys=="string"&&ys!==""||typeof ys=="number")return ys=Qg(""+ys,xs.mode,Ss),ys.return=xs,ys;if(typeof ys=="object"&&ys!==null){switch(ys.$$typeof){case va:return Ss=Rg(ys.type,ys.key,ys.props,null,xs.mode,Ss),Ss.ref=Lg(xs,null,ys),Ss.return=xs,Ss;case wa:return ys=Sg(ys,xs.mode,Ss),ys.return=xs,ys;case Ha:var Cs=ys._init;return fs(xs,Cs(ys._payload),Ss)}if(eb(ys)||Ka(ys))return ys=Tg(ys,xs.mode,Ss,null),ys.return=xs,ys;Mg(xs,ys)}return null}function hs(xs,ys,Ss,Cs){var $s=ys!==null?ys.key:null;if(typeof Ss=="string"&&Ss!==""||typeof Ss=="number")return $s!==null?null:cs(xs,ys,""+Ss,Cs);if(typeof Ss=="object"&&Ss!==null){switch(Ss.$$typeof){case va:return Ss.key===$s?us(xs,ys,Ss,Cs):null;case wa:return Ss.key===$s?ds(xs,ys,Ss,Cs):null;case Ha:return $s=Ss._init,hs(xs,ys,$s(Ss._payload),Cs)}if(eb(Ss)||Ka(Ss))return $s!==null?null:ps(xs,ys,Ss,Cs,null);Mg(xs,Ss)}return null}function ms(xs,ys,Ss,Cs,$s){if(typeof Cs=="string"&&Cs!==""||typeof Cs=="number")return xs=xs.get(Ss)||null,cs(ys,xs,""+Cs,$s);if(typeof Cs=="object"&&Cs!==null){switch(Cs.$$typeof){case va:return xs=xs.get(Cs.key===null?Ss:Cs.key)||null,us(ys,xs,Cs,$s);case wa:return xs=xs.get(Cs.key===null?Ss:Cs.key)||null,ds(ys,xs,Cs,$s);case Ha:var Es=Cs._init;return ms(xs,ys,Ss,Es(Cs._payload),$s)}if(eb(Cs)||Ka(Cs))return xs=xs.get(Ss)||null,ps(ys,xs,Cs,$s,null);Mg(ys,Cs)}return null}function gs(xs,ys,Ss,Cs){for(var $s=null,Es=null,ws=ys,Ts=ys=0,Is=null;ws!==null&&Ts<Ss.length;Ts++){ws.index>Ts?(Is=ws,ws=null):Is=ws.sibling;var Rs=hs(xs,ws,Ss[Ts],Cs);if(Rs===null){ws===null&&(ws=Is);break}ts&&ws&&Rs.alternate===null&&rs(xs,ws),ys=as(Rs,ys,Ts),Es===null?$s=Rs:Es.sibling=Rs,Es=Rs,ws=Is}if(Ts===Ss.length)return ns(xs,ws),I$1&&tg(xs,Ts),$s;if(ws===null){for(;Ts<Ss.length;Ts++)ws=fs(xs,Ss[Ts],Cs),ws!==null&&(ys=as(ws,ys,Ts),Es===null?$s=ws:Es.sibling=ws,Es=ws);return I$1&&tg(xs,Ts),$s}for(ws=os(xs,ws);Ts<Ss.length;Ts++)Is=ms(ws,xs,Ts,Ss[Ts],Cs),Is!==null&&(ts&&Is.alternate!==null&&ws.delete(Is.key===null?Ts:Is.key),ys=as(Is,ys,Ts),Es===null?$s=Is:Es.sibling=Is,Es=Is);return ts&&ws.forEach(function(As){return rs(xs,As)}),I$1&&tg(xs,Ts),$s}function vs(xs,ys,Ss,Cs){var $s=Ka(Ss);if(typeof $s!="function")throw Error(p$5(150));if(Ss=$s.call(Ss),Ss==null)throw Error(p$5(151));for(var Es=$s=null,ws=ys,Ts=ys=0,Is=null,Rs=Ss.next();ws!==null&&!Rs.done;Ts++,Rs=Ss.next()){ws.index>Ts?(Is=ws,ws=null):Is=ws.sibling;var As=hs(xs,ws,Rs.value,Cs);if(As===null){ws===null&&(ws=Is);break}ts&&ws&&As.alternate===null&&rs(xs,ws),ys=as(As,ys,Ts),Es===null?$s=As:Es.sibling=As,Es=As,ws=Is}if(Rs.done)return ns(xs,ws),I$1&&tg(xs,Ts),$s;if(ws===null){for(;!Rs.done;Ts++,Rs=Ss.next())Rs=fs(xs,Rs.value,Cs),Rs!==null&&(ys=as(Rs,ys,Ts),Es===null?$s=Rs:Es.sibling=Rs,Es=Rs);return I$1&&tg(xs,Ts),$s}for(ws=os(xs,ws);!Rs.done;Ts++,Rs=Ss.next())Rs=ms(ws,xs,Ts,Rs.value,Cs),Rs!==null&&(ts&&Rs.alternate!==null&&ws.delete(Rs.key===null?Ts:Rs.key),ys=as(Rs,ys,Ts),Es===null?$s=Rs:Es.sibling=Rs,Es=Rs);return ts&&ws.forEach(function(ks){return rs(xs,ks)}),I$1&&tg(xs,Ts),$s}function bs(xs,ys,Ss,Cs){if(typeof Ss=="object"&&Ss!==null&&Ss.type===ya&&Ss.key===null&&(Ss=Ss.props.children),typeof Ss=="object"&&Ss!==null){switch(Ss.$$typeof){case va:e:{for(var $s=Ss.key,Es=ys;Es!==null;){if(Es.key===$s){if($s=Ss.type,$s===ya){if(Es.tag===7){ns(xs,Es.sibling),ys=ss(Es,Ss.props.children),ys.return=xs,xs=ys;break e}}else if(Es.elementType===$s||typeof $s=="object"&&$s!==null&&$s.$$typeof===Ha&&Ng($s)===Es.type){ns(xs,Es.sibling),ys=ss(Es,Ss.props),ys.ref=Lg(xs,Es,Ss),ys.return=xs,xs=ys;break e}ns(xs,Es);break}else rs(xs,Es);Es=Es.sibling}Ss.type===ya?(ys=Tg(Ss.props.children,xs.mode,Cs,Ss.key),ys.return=xs,xs=ys):(Cs=Rg(Ss.type,Ss.key,Ss.props,null,xs.mode,Cs),Cs.ref=Lg(xs,ys,Ss),Cs.return=xs,xs=Cs)}return ls(xs);case wa:e:{for(Es=Ss.key;ys!==null;){if(ys.key===Es)if(ys.tag===4&&ys.stateNode.containerInfo===Ss.containerInfo&&ys.stateNode.implementation===Ss.implementation){ns(xs,ys.sibling),ys=ss(ys,Ss.children||[]),ys.return=xs,xs=ys;break e}else{ns(xs,ys);break}else rs(xs,ys);ys=ys.sibling}ys=Sg(Ss,xs.mode,Cs),ys.return=xs,xs=ys}return ls(xs);case Ha:return Es=Ss._init,bs(xs,ys,Es(Ss._payload),Cs)}if(eb(Ss))return gs(xs,ys,Ss,Cs);if(Ka(Ss))return vs(xs,ys,Ss,Cs);Mg(xs,Ss)}return typeof Ss=="string"&&Ss!==""||typeof Ss=="number"?(Ss=""+Ss,ys!==null&&ys.tag===6?(ns(xs,ys.sibling),ys=ss(ys,Ss),ys.return=xs,xs=ys):(ns(xs,ys),ys=Qg(Ss,xs.mode,Cs),ys.return=xs,xs=ys),ls(xs)):ns(xs,ys)}return bs}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(ts){var rs=Wg.current;E$1(Wg),ts._currentValue=rs}function bh(ts,rs,ns){for(;ts!==null;){var os=ts.alternate;if((ts.childLanes&rs)!==rs?(ts.childLanes|=rs,os!==null&&(os.childLanes|=rs)):os!==null&&(os.childLanes&rs)!==rs&&(os.childLanes|=rs),ts===ns)break;ts=ts.return}}function ch(ts,rs){Xg=ts,Zg=Yg=null,ts=ts.dependencies,ts!==null&&ts.firstContext!==null&&(ts.lanes&rs&&(dh=!0),ts.firstContext=null)}function eh(ts){var rs=ts._currentValue;if(Zg!==ts)if(ts={context:ts,memoizedValue:rs,next:null},Yg===null){if(Xg===null)throw Error(p$5(308));Yg=ts,Xg.dependencies={lanes:0,firstContext:ts}}else Yg=Yg.next=ts;return rs}var fh=null;function gh(ts){fh===null?fh=[ts]:fh.push(ts)}function hh(ts,rs,ns,os){var ss=rs.interleaved;return ss===null?(ns.next=ns,gh(rs)):(ns.next=ss.next,ss.next=ns),rs.interleaved=ns,ih(ts,os)}function ih(ts,rs){ts.lanes|=rs;var ns=ts.alternate;for(ns!==null&&(ns.lanes|=rs),ns=ts,ts=ts.return;ts!==null;)ts.childLanes|=rs,ns=ts.alternate,ns!==null&&(ns.childLanes|=rs),ns=ts,ts=ts.return;return ns.tag===3?ns.stateNode:null}var jh=!1;function kh(ts){ts.updateQueue={baseState:ts.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(ts,rs){ts=ts.updateQueue,rs.updateQueue===ts&&(rs.updateQueue={baseState:ts.baseState,firstBaseUpdate:ts.firstBaseUpdate,lastBaseUpdate:ts.lastBaseUpdate,shared:ts.shared,effects:ts.effects})}function mh(ts,rs){return{eventTime:ts,lane:rs,tag:0,payload:null,callback:null,next:null}}function nh(ts,rs,ns){var os=ts.updateQueue;if(os===null)return null;if(os=os.shared,K$1&2){var ss=os.pending;return ss===null?rs.next=rs:(rs.next=ss.next,ss.next=rs),os.pending=rs,ih(ts,ns)}return ss=os.interleaved,ss===null?(rs.next=rs,gh(os)):(rs.next=ss.next,ss.next=rs),os.interleaved=rs,ih(ts,ns)}function oh(ts,rs,ns){if(rs=rs.updateQueue,rs!==null&&(rs=rs.shared,(ns&4194240)!==0)){var os=rs.lanes;os&=ts.pendingLanes,ns|=os,rs.lanes=ns,Cc(ts,ns)}}function ph(ts,rs){var ns=ts.updateQueue,os=ts.alternate;if(os!==null&&(os=os.updateQueue,ns===os)){var ss=null,as=null;if(ns=ns.firstBaseUpdate,ns!==null){do{var ls={eventTime:ns.eventTime,lane:ns.lane,tag:ns.tag,payload:ns.payload,callback:ns.callback,next:null};as===null?ss=as=ls:as=as.next=ls,ns=ns.next}while(ns!==null);as===null?ss=as=rs:as=as.next=rs}else ss=as=rs;ns={baseState:os.baseState,firstBaseUpdate:ss,lastBaseUpdate:as,shared:os.shared,effects:os.effects},ts.updateQueue=ns;return}ts=ns.lastBaseUpdate,ts===null?ns.firstBaseUpdate=rs:ts.next=rs,ns.lastBaseUpdate=rs}function qh(ts,rs,ns,os){var ss=ts.updateQueue;jh=!1;var as=ss.firstBaseUpdate,ls=ss.lastBaseUpdate,cs=ss.shared.pending;if(cs!==null){ss.shared.pending=null;var us=cs,ds=us.next;us.next=null,ls===null?as=ds:ls.next=ds,ls=us;var ps=ts.alternate;ps!==null&&(ps=ps.updateQueue,cs=ps.lastBaseUpdate,cs!==ls&&(cs===null?ps.firstBaseUpdate=ds:cs.next=ds,ps.lastBaseUpdate=us))}if(as!==null){var fs=ss.baseState;ls=0,ps=ds=us=null,cs=as;do{var hs=cs.lane,ms=cs.eventTime;if((os&hs)===hs){ps!==null&&(ps=ps.next={eventTime:ms,lane:0,tag:cs.tag,payload:cs.payload,callback:cs.callback,next:null});e:{var gs=ts,vs=cs;switch(hs=rs,ms=ns,vs.tag){case 1:if(gs=vs.payload,typeof gs=="function"){fs=gs.call(ms,fs,hs);break e}fs=gs;break e;case 3:gs.flags=gs.flags&-65537|128;case 0:if(gs=vs.payload,hs=typeof gs=="function"?gs.call(ms,fs,hs):gs,hs==null)break e;fs=A$1({},fs,hs);break e;case 2:jh=!0}}cs.callback!==null&&cs.lane!==0&&(ts.flags|=64,hs=ss.effects,hs===null?ss.effects=[cs]:hs.push(cs))}else ms={eventTime:ms,lane:hs,tag:cs.tag,payload:cs.payload,callback:cs.callback,next:null},ps===null?(ds=ps=ms,us=fs):ps=ps.next=ms,ls|=hs;if(cs=cs.next,cs===null){if(cs=ss.shared.pending,cs===null)break;hs=cs,cs=hs.next,hs.next=null,ss.lastBaseUpdate=hs,ss.shared.pending=null}}while(1);if(ps===null&&(us=fs),ss.baseState=us,ss.firstBaseUpdate=ds,ss.lastBaseUpdate=ps,rs=ss.shared.interleaved,rs!==null){ss=rs;do ls|=ss.lane,ss=ss.next;while(ss!==rs)}else as===null&&(ss.shared.lanes=0);rh|=ls,ts.lanes=ls,ts.memoizedState=fs}}function sh(ts,rs,ns){if(ts=rs.effects,rs.effects=null,ts!==null)for(rs=0;rs<ts.length;rs++){var os=ts[rs],ss=os.callback;if(ss!==null){if(os.callback=null,os=ns,typeof ss!="function")throw Error(p$5(191,ss));ss.call(os)}}}var th={},uh=Uf(th),vh=Uf(th),wh=Uf(th);function xh(ts){if(ts===th)throw Error(p$5(174));return ts}function yh(ts,rs){switch(G$1(wh,rs),G$1(vh,ts),G$1(uh,th),ts=rs.nodeType,ts){case 9:case 11:rs=(rs=rs.documentElement)?rs.namespaceURI:lb(null,"");break;default:ts=ts===8?rs.parentNode:rs,rs=ts.namespaceURI||null,ts=ts.tagName,rs=lb(rs,ts)}E$1(uh),G$1(uh,rs)}function zh(){E$1(uh),E$1(vh),E$1(wh)}function Ah(ts){xh(wh.current);var rs=xh(uh.current),ns=lb(rs,ts.type);rs!==ns&&(G$1(vh,ts),G$1(uh,ns))}function Bh(ts){vh.current===ts&&(E$1(uh),E$1(vh))}var L$1=Uf(0);function Ch(ts){for(var rs=ts;rs!==null;){if(rs.tag===13){var ns=rs.memoizedState;if(ns!==null&&(ns=ns.dehydrated,ns===null||ns.data==="$?"||ns.data==="$!"))return rs}else if(rs.tag===19&&rs.memoizedProps.revealOrder!==void 0){if(rs.flags&128)return rs}else if(rs.child!==null){rs.child.return=rs,rs=rs.child;continue}if(rs===ts)break;for(;rs.sibling===null;){if(rs.return===null||rs.return===ts)return null;rs=rs.return}rs.sibling.return=rs.return,rs=rs.sibling}return null}var Dh=[];function Eh(){for(var ts=0;ts<Dh.length;ts++)Dh[ts]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M$1=null,N$1=null,O=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P$1(){throw Error(p$5(321))}function Mh(ts,rs){if(rs===null)return!1;for(var ns=0;ns<rs.length&&ns<ts.length;ns++)if(!He$1(ts[ns],rs[ns]))return!1;return!0}function Nh(ts,rs,ns,os,ss,as){if(Hh=as,M$1=rs,rs.memoizedState=null,rs.updateQueue=null,rs.lanes=0,Fh.current=ts===null||ts.memoizedState===null?Oh:Ph,ts=ns(os,ss),Jh){as=0;do{if(Jh=!1,Kh=0,25<=as)throw Error(p$5(301));as+=1,O=N$1=null,rs.updateQueue=null,Fh.current=Qh,ts=ns(os,ss)}while(Jh)}if(Fh.current=Rh,rs=N$1!==null&&N$1.next!==null,Hh=0,O=N$1=M$1=null,Ih=!1,rs)throw Error(p$5(300));return ts}function Sh(){var ts=Kh!==0;return Kh=0,ts}function Th(){var ts={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O===null?M$1.memoizedState=O=ts:O=O.next=ts,O}function Uh(){if(N$1===null){var ts=M$1.alternate;ts=ts!==null?ts.memoizedState:null}else ts=N$1.next;var rs=O===null?M$1.memoizedState:O.next;if(rs!==null)O=rs,N$1=ts;else{if(ts===null)throw Error(p$5(310));N$1=ts,ts={memoizedState:N$1.memoizedState,baseState:N$1.baseState,baseQueue:N$1.baseQueue,queue:N$1.queue,next:null},O===null?M$1.memoizedState=O=ts:O=O.next=ts}return O}function Vh(ts,rs){return typeof rs=="function"?rs(ts):rs}function Wh(ts){var rs=Uh(),ns=rs.queue;if(ns===null)throw Error(p$5(311));ns.lastRenderedReducer=ts;var os=N$1,ss=os.baseQueue,as=ns.pending;if(as!==null){if(ss!==null){var ls=ss.next;ss.next=as.next,as.next=ls}os.baseQueue=ss=as,ns.pending=null}if(ss!==null){as=ss.next,os=os.baseState;var cs=ls=null,us=null,ds=as;do{var ps=ds.lane;if((Hh&ps)===ps)us!==null&&(us=us.next={lane:0,action:ds.action,hasEagerState:ds.hasEagerState,eagerState:ds.eagerState,next:null}),os=ds.hasEagerState?ds.eagerState:ts(os,ds.action);else{var fs={lane:ps,action:ds.action,hasEagerState:ds.hasEagerState,eagerState:ds.eagerState,next:null};us===null?(cs=us=fs,ls=os):us=us.next=fs,M$1.lanes|=ps,rh|=ps}ds=ds.next}while(ds!==null&&ds!==as);us===null?ls=os:us.next=cs,He$1(os,rs.memoizedState)||(dh=!0),rs.memoizedState=os,rs.baseState=ls,rs.baseQueue=us,ns.lastRenderedState=os}if(ts=ns.interleaved,ts!==null){ss=ts;do as=ss.lane,M$1.lanes|=as,rh|=as,ss=ss.next;while(ss!==ts)}else ss===null&&(ns.lanes=0);return[rs.memoizedState,ns.dispatch]}function Xh(ts){var rs=Uh(),ns=rs.queue;if(ns===null)throw Error(p$5(311));ns.lastRenderedReducer=ts;var os=ns.dispatch,ss=ns.pending,as=rs.memoizedState;if(ss!==null){ns.pending=null;var ls=ss=ss.next;do as=ts(as,ls.action),ls=ls.next;while(ls!==ss);He$1(as,rs.memoizedState)||(dh=!0),rs.memoizedState=as,rs.baseQueue===null&&(rs.baseState=as),ns.lastRenderedState=as}return[as,os]}function Yh(){}function Zh(ts,rs){var ns=M$1,os=Uh(),ss=rs(),as=!He$1(os.memoizedState,ss);if(as&&(os.memoizedState=ss,dh=!0),os=os.queue,$h(ai.bind(null,ns,os,ts),[ts]),os.getSnapshot!==rs||as||O!==null&&O.memoizedState.tag&1){if(ns.flags|=2048,bi(9,ci.bind(null,ns,os,ss,rs),void 0,null),Q$1===null)throw Error(p$5(349));Hh&30||di(ns,rs,ss)}return ss}function di(ts,rs,ns){ts.flags|=16384,ts={getSnapshot:rs,value:ns},rs=M$1.updateQueue,rs===null?(rs={lastEffect:null,stores:null},M$1.updateQueue=rs,rs.stores=[ts]):(ns=rs.stores,ns===null?rs.stores=[ts]:ns.push(ts))}function ci(ts,rs,ns,os){rs.value=ns,rs.getSnapshot=os,ei(rs)&&fi(ts)}function ai(ts,rs,ns){return ns(function(){ei(rs)&&fi(ts)})}function ei(ts){var rs=ts.getSnapshot;ts=ts.value;try{var ns=rs();return!He$1(ts,ns)}catch{return!0}}function fi(ts){var rs=ih(ts,1);rs!==null&&gi(rs,ts,1,-1)}function hi(ts){var rs=Th();return typeof ts=="function"&&(ts=ts()),rs.memoizedState=rs.baseState=ts,ts={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:ts},rs.queue=ts,ts=ts.dispatch=ii.bind(null,M$1,ts),[rs.memoizedState,ts]}function bi(ts,rs,ns,os){return ts={tag:ts,create:rs,destroy:ns,deps:os,next:null},rs=M$1.updateQueue,rs===null?(rs={lastEffect:null,stores:null},M$1.updateQueue=rs,rs.lastEffect=ts.next=ts):(ns=rs.lastEffect,ns===null?rs.lastEffect=ts.next=ts:(os=ns.next,ns.next=ts,ts.next=os,rs.lastEffect=ts)),ts}function ji(){return Uh().memoizedState}function ki(ts,rs,ns,os){var ss=Th();M$1.flags|=ts,ss.memoizedState=bi(1|rs,ns,void 0,os===void 0?null:os)}function li(ts,rs,ns,os){var ss=Uh();os=os===void 0?null:os;var as=void 0;if(N$1!==null){var ls=N$1.memoizedState;if(as=ls.destroy,os!==null&&Mh(os,ls.deps)){ss.memoizedState=bi(rs,ns,as,os);return}}M$1.flags|=ts,ss.memoizedState=bi(1|rs,ns,as,os)}function mi(ts,rs){return ki(8390656,8,ts,rs)}function $h(ts,rs){return li(2048,8,ts,rs)}function ni(ts,rs){return li(4,2,ts,rs)}function oi(ts,rs){return li(4,4,ts,rs)}function pi(ts,rs){if(typeof rs=="function")return ts=ts(),rs(ts),function(){rs(null)};if(rs!=null)return ts=ts(),rs.current=ts,function(){rs.current=null}}function qi(ts,rs,ns){return ns=ns!=null?ns.concat([ts]):null,li(4,4,pi.bind(null,rs,ts),ns)}function ri(){}function si(ts,rs){var ns=Uh();rs=rs===void 0?null:rs;var os=ns.memoizedState;return os!==null&&rs!==null&&Mh(rs,os[1])?os[0]:(ns.memoizedState=[ts,rs],ts)}function ti(ts,rs){var ns=Uh();rs=rs===void 0?null:rs;var os=ns.memoizedState;return os!==null&&rs!==null&&Mh(rs,os[1])?os[0]:(ts=ts(),ns.memoizedState=[ts,rs],ts)}function ui(ts,rs,ns){return Hh&21?(He$1(ns,rs)||(ns=yc(),M$1.lanes|=ns,rh|=ns,ts.baseState=!0),rs):(ts.baseState&&(ts.baseState=!1,dh=!0),ts.memoizedState=ns)}function vi(ts,rs){var ns=C$1;C$1=ns!==0&&4>ns?ns:4,ts(!0);var os=Gh.transition;Gh.transition={};try{ts(!1),rs()}finally{C$1=ns,Gh.transition=os}}function wi(){return Uh().memoizedState}function xi(ts,rs,ns){var os=yi(ts);if(ns={lane:os,action:ns,hasEagerState:!1,eagerState:null,next:null},zi(ts))Ai(rs,ns);else if(ns=hh(ts,rs,ns,os),ns!==null){var ss=R();gi(ns,ts,os,ss),Bi(ns,rs,os)}}function ii(ts,rs,ns){var os=yi(ts),ss={lane:os,action:ns,hasEagerState:!1,eagerState:null,next:null};if(zi(ts))Ai(rs,ss);else{var as=ts.alternate;if(ts.lanes===0&&(as===null||as.lanes===0)&&(as=rs.lastRenderedReducer,as!==null))try{var ls=rs.lastRenderedState,cs=as(ls,ns);if(ss.hasEagerState=!0,ss.eagerState=cs,He$1(cs,ls)){var us=rs.interleaved;us===null?(ss.next=ss,gh(rs)):(ss.next=us.next,us.next=ss),rs.interleaved=ss;return}}catch{}finally{}ns=hh(ts,rs,ss,os),ns!==null&&(ss=R(),gi(ns,ts,os,ss),Bi(ns,rs,os))}}function zi(ts){var rs=ts.alternate;return ts===M$1||rs!==null&&rs===M$1}function Ai(ts,rs){Jh=Ih=!0;var ns=ts.pending;ns===null?rs.next=rs:(rs.next=ns.next,ns.next=rs),ts.pending=rs}function Bi(ts,rs,ns){if(ns&4194240){var os=rs.lanes;os&=ts.pendingLanes,ns|=os,rs.lanes=ns,Cc(ts,ns)}}var Rh={readContext:eh,useCallback:P$1,useContext:P$1,useEffect:P$1,useImperativeHandle:P$1,useInsertionEffect:P$1,useLayoutEffect:P$1,useMemo:P$1,useReducer:P$1,useRef:P$1,useState:P$1,useDebugValue:P$1,useDeferredValue:P$1,useTransition:P$1,useMutableSource:P$1,useSyncExternalStore:P$1,useId:P$1,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(ts,rs){return Th().memoizedState=[ts,rs===void 0?null:rs],ts},useContext:eh,useEffect:mi,useImperativeHandle:function(ts,rs,ns){return ns=ns!=null?ns.concat([ts]):null,ki(4194308,4,pi.bind(null,rs,ts),ns)},useLayoutEffect:function(ts,rs){return ki(4194308,4,ts,rs)},useInsertionEffect:function(ts,rs){return ki(4,2,ts,rs)},useMemo:function(ts,rs){var ns=Th();return rs=rs===void 0?null:rs,ts=ts(),ns.memoizedState=[ts,rs],ts},useReducer:function(ts,rs,ns){var os=Th();return rs=ns!==void 0?ns(rs):rs,os.memoizedState=os.baseState=rs,ts={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ts,lastRenderedState:rs},os.queue=ts,ts=ts.dispatch=xi.bind(null,M$1,ts),[os.memoizedState,ts]},useRef:function(ts){var rs=Th();return ts={current:ts},rs.memoizedState=ts},useState:hi,useDebugValue:ri,useDeferredValue:function(ts){return Th().memoizedState=ts},useTransition:function(){var ts=hi(!1),rs=ts[0];return ts=vi.bind(null,ts[1]),Th().memoizedState=ts,[rs,ts]},useMutableSource:function(){},useSyncExternalStore:function(ts,rs,ns){var os=M$1,ss=Th();if(I$1){if(ns===void 0)throw Error(p$5(407));ns=ns()}else{if(ns=rs(),Q$1===null)throw Error(p$5(349));Hh&30||di(os,rs,ns)}ss.memoizedState=ns;var as={value:ns,getSnapshot:rs};return ss.queue=as,mi(ai.bind(null,os,as,ts),[ts]),os.flags|=2048,bi(9,ci.bind(null,os,as,ns,rs),void 0,null),ns},useId:function(){var ts=Th(),rs=Q$1.identifierPrefix;if(I$1){var ns=sg,os=rg;ns=(os&~(1<<32-oc(os)-1)).toString(32)+ns,rs=":"+rs+"R"+ns,ns=Kh++,0<ns&&(rs+="H"+ns.toString(32)),rs+=":"}else ns=Lh++,rs=":"+rs+"r"+ns.toString(32)+":";return ts.memoizedState=rs},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function(ts){var rs=Uh();return ui(rs,N$1.memoizedState,ts)},useTransition:function(){var ts=Wh(Vh)[0],rs=Uh().memoizedState;return[ts,rs]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(ts){var rs=Uh();return N$1===null?rs.memoizedState=ts:ui(rs,N$1.memoizedState,ts)},useTransition:function(){var ts=Xh(Vh)[0],rs=Uh().memoizedState;return[ts,rs]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(ts,rs){if(ts&&ts.defaultProps){rs=A$1({},rs),ts=ts.defaultProps;for(var ns in ts)rs[ns]===void 0&&(rs[ns]=ts[ns]);return rs}return rs}function Di(ts,rs,ns,os){rs=ts.memoizedState,ns=ns(os,rs),ns=ns==null?rs:A$1({},rs,ns),ts.memoizedState=ns,ts.lanes===0&&(ts.updateQueue.baseState=ns)}var Ei={isMounted:function(ts){return(ts=ts._reactInternals)?Vb(ts)===ts:!1},enqueueSetState:function(ts,rs,ns){ts=ts._reactInternals;var os=R(),ss=yi(ts),as=mh(os,ss);as.payload=rs,ns!=null&&(as.callback=ns),rs=nh(ts,as,ss),rs!==null&&(gi(rs,ts,ss,os),oh(rs,ts,ss))},enqueueReplaceState:function(ts,rs,ns){ts=ts._reactInternals;var os=R(),ss=yi(ts),as=mh(os,ss);as.tag=1,as.payload=rs,ns!=null&&(as.callback=ns),rs=nh(ts,as,ss),rs!==null&&(gi(rs,ts,ss,os),oh(rs,ts,ss))},enqueueForceUpdate:function(ts,rs){ts=ts._reactInternals;var ns=R(),os=yi(ts),ss=mh(ns,os);ss.tag=2,rs!=null&&(ss.callback=rs),rs=nh(ts,ss,os),rs!==null&&(gi(rs,ts,os,ns),oh(rs,ts,os))}};function Fi(ts,rs,ns,os,ss,as,ls){return ts=ts.stateNode,typeof ts.shouldComponentUpdate=="function"?ts.shouldComponentUpdate(os,as,ls):rs.prototype&&rs.prototype.isPureReactComponent?!Ie(ns,os)||!Ie(ss,as):!0}function Gi(ts,rs,ns){var os=!1,ss=Vf,as=rs.contextType;return typeof as=="object"&&as!==null?as=eh(as):(ss=Zf(rs)?Xf:H$1.current,os=rs.contextTypes,as=(os=os!=null)?Yf(ts,ss):Vf),rs=new rs(ns,as),ts.memoizedState=rs.state!==null&&rs.state!==void 0?rs.state:null,rs.updater=Ei,ts.stateNode=rs,rs._reactInternals=ts,os&&(ts=ts.stateNode,ts.__reactInternalMemoizedUnmaskedChildContext=ss,ts.__reactInternalMemoizedMaskedChildContext=as),rs}function Hi(ts,rs,ns,os){ts=rs.state,typeof rs.componentWillReceiveProps=="function"&&rs.componentWillReceiveProps(ns,os),typeof rs.UNSAFE_componentWillReceiveProps=="function"&&rs.UNSAFE_componentWillReceiveProps(ns,os),rs.state!==ts&&Ei.enqueueReplaceState(rs,rs.state,null)}function Ii(ts,rs,ns,os){var ss=ts.stateNode;ss.props=ns,ss.state=ts.memoizedState,ss.refs={},kh(ts);var as=rs.contextType;typeof as=="object"&&as!==null?ss.context=eh(as):(as=Zf(rs)?Xf:H$1.current,ss.context=Yf(ts,as)),ss.state=ts.memoizedState,as=rs.getDerivedStateFromProps,typeof as=="function"&&(Di(ts,rs,as,ns),ss.state=ts.memoizedState),typeof rs.getDerivedStateFromProps=="function"||typeof ss.getSnapshotBeforeUpdate=="function"||typeof ss.UNSAFE_componentWillMount!="function"&&typeof ss.componentWillMount!="function"||(rs=ss.state,typeof ss.componentWillMount=="function"&&ss.componentWillMount(),typeof ss.UNSAFE_componentWillMount=="function"&&ss.UNSAFE_componentWillMount(),rs!==ss.state&&Ei.enqueueReplaceState(ss,ss.state,null),qh(ts,ns,ss,os),ss.state=ts.memoizedState),typeof ss.componentDidMount=="function"&&(ts.flags|=4194308)}function Ji(ts,rs){try{var ns="",os=rs;do ns+=Pa(os),os=os.return;while(os);var ss=ns}catch(as){ss="\nError generating stack: "+as.message+"\n"+as.stack}return{value:ts,source:rs,stack:ss,digest:null}}function Ki(ts,rs,ns){return{value:ts,source:null,stack:ns!=null?ns:null,digest:rs!=null?rs:null}}function Li(ts,rs){try{console.error(rs.value)}catch(ns){setTimeout(function(){throw ns})}}var Mi=typeof WeakMap=="function"?WeakMap:Map;function Ni(ts,rs,ns){ns=mh(-1,ns),ns.tag=3,ns.payload={element:null};var os=rs.value;return ns.callback=function(){Oi||(Oi=!0,Pi=os),Li(ts,rs)},ns}function Qi(ts,rs,ns){ns=mh(-1,ns),ns.tag=3;var os=ts.type.getDerivedStateFromError;if(typeof os=="function"){var ss=rs.value;ns.payload=function(){return os(ss)},ns.callback=function(){Li(ts,rs)}}var as=ts.stateNode;return as!==null&&typeof as.componentDidCatch=="function"&&(ns.callback=function(){Li(ts,rs),typeof os!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var ls=rs.stack;this.componentDidCatch(rs.value,{componentStack:ls!==null?ls:""})}),ns}function Si(ts,rs,ns){var os=ts.pingCache;if(os===null){os=ts.pingCache=new Mi;var ss=new Set;os.set(rs,ss)}else ss=os.get(rs),ss===void 0&&(ss=new Set,os.set(rs,ss));ss.has(ns)||(ss.add(ns),ts=Ti.bind(null,ts,rs,ns),rs.then(ts,ts))}function Ui(ts){do{var rs;if((rs=ts.tag===13)&&(rs=ts.memoizedState,rs=rs!==null?rs.dehydrated!==null:!0),rs)return ts;ts=ts.return}while(ts!==null);return null}function Vi(ts,rs,ns,os,ss){return ts.mode&1?(ts.flags|=65536,ts.lanes=ss,ts):(ts===rs?ts.flags|=65536:(ts.flags|=128,ns.flags|=131072,ns.flags&=-52805,ns.tag===1&&(ns.alternate===null?ns.tag=17:(rs=mh(-1,1),rs.tag=2,nh(ns,rs,1))),ns.lanes|=1),ts)}var Wi=ua.ReactCurrentOwner,dh=!1;function Xi(ts,rs,ns,os){rs.child=ts===null?Vg(rs,null,ns,os):Ug(rs,ts.child,ns,os)}function Yi(ts,rs,ns,os,ss){ns=ns.render;var as=rs.ref;return ch(rs,ss),os=Nh(ts,rs,ns,os,as,ss),ns=Sh(),ts!==null&&!dh?(rs.updateQueue=ts.updateQueue,rs.flags&=-2053,ts.lanes&=~ss,Zi(ts,rs,ss)):(I$1&&ns&&vg(rs),rs.flags|=1,Xi(ts,rs,os,ss),rs.child)}function $i(ts,rs,ns,os,ss){if(ts===null){var as=ns.type;return typeof as=="function"&&!aj(as)&&as.defaultProps===void 0&&ns.compare===null&&ns.defaultProps===void 0?(rs.tag=15,rs.type=as,bj(ts,rs,as,os,ss)):(ts=Rg(ns.type,null,os,rs,rs.mode,ss),ts.ref=rs.ref,ts.return=rs,rs.child=ts)}if(as=ts.child,!(ts.lanes&ss)){var ls=as.memoizedProps;if(ns=ns.compare,ns=ns!==null?ns:Ie,ns(ls,os)&&ts.ref===rs.ref)return Zi(ts,rs,ss)}return rs.flags|=1,ts=Pg(as,os),ts.ref=rs.ref,ts.return=rs,rs.child=ts}function bj(ts,rs,ns,os,ss){if(ts!==null){var as=ts.memoizedProps;if(Ie(as,os)&&ts.ref===rs.ref)if(dh=!1,rs.pendingProps=os=as,(ts.lanes&ss)!==0)ts.flags&131072&&(dh=!0);else return rs.lanes=ts.lanes,Zi(ts,rs,ss)}return cj(ts,rs,ns,os,ss)}function dj(ts,rs,ns){var os=rs.pendingProps,ss=os.children,as=ts!==null?ts.memoizedState:null;if(os.mode==="hidden")if(!(rs.mode&1))rs.memoizedState={baseLanes:0,cachePool:null,transitions:null},G$1(ej,fj),fj|=ns;else{if(!(ns&1073741824))return ts=as!==null?as.baseLanes|ns:ns,rs.lanes=rs.childLanes=1073741824,rs.memoizedState={baseLanes:ts,cachePool:null,transitions:null},rs.updateQueue=null,G$1(ej,fj),fj|=ts,null;rs.memoizedState={baseLanes:0,cachePool:null,transitions:null},os=as!==null?as.baseLanes:ns,G$1(ej,fj),fj|=os}else as!==null?(os=as.baseLanes|ns,rs.memoizedState=null):os=ns,G$1(ej,fj),fj|=os;return Xi(ts,rs,ss,ns),rs.child}function gj(ts,rs){var ns=rs.ref;(ts===null&&ns!==null||ts!==null&&ts.ref!==ns)&&(rs.flags|=512,rs.flags|=2097152)}function cj(ts,rs,ns,os,ss){var as=Zf(ns)?Xf:H$1.current;return as=Yf(rs,as),ch(rs,ss),ns=Nh(ts,rs,ns,os,as,ss),os=Sh(),ts!==null&&!dh?(rs.updateQueue=ts.updateQueue,rs.flags&=-2053,ts.lanes&=~ss,Zi(ts,rs,ss)):(I$1&&os&&vg(rs),rs.flags|=1,Xi(ts,rs,ns,ss),rs.child)}function hj(ts,rs,ns,os,ss){if(Zf(ns)){var as=!0;cg(rs)}else as=!1;if(ch(rs,ss),rs.stateNode===null)ij(ts,rs),Gi(rs,ns,os),Ii(rs,ns,os,ss),os=!0;else if(ts===null){var ls=rs.stateNode,cs=rs.memoizedProps;ls.props=cs;var us=ls.context,ds=ns.contextType;typeof ds=="object"&&ds!==null?ds=eh(ds):(ds=Zf(ns)?Xf:H$1.current,ds=Yf(rs,ds));var ps=ns.getDerivedStateFromProps,fs=typeof ps=="function"||typeof ls.getSnapshotBeforeUpdate=="function";fs||typeof ls.UNSAFE_componentWillReceiveProps!="function"&&typeof ls.componentWillReceiveProps!="function"||(cs!==os||us!==ds)&&Hi(rs,ls,os,ds),jh=!1;var hs=rs.memoizedState;ls.state=hs,qh(rs,os,ls,ss),us=rs.memoizedState,cs!==os||hs!==us||Wf.current||jh?(typeof ps=="function"&&(Di(rs,ns,ps,os),us=rs.memoizedState),(cs=jh||Fi(rs,ns,cs,os,hs,us,ds))?(fs||typeof ls.UNSAFE_componentWillMount!="function"&&typeof ls.componentWillMount!="function"||(typeof ls.componentWillMount=="function"&&ls.componentWillMount(),typeof ls.UNSAFE_componentWillMount=="function"&&ls.UNSAFE_componentWillMount()),typeof ls.componentDidMount=="function"&&(rs.flags|=4194308)):(typeof ls.componentDidMount=="function"&&(rs.flags|=4194308),rs.memoizedProps=os,rs.memoizedState=us),ls.props=os,ls.state=us,ls.context=ds,os=cs):(typeof ls.componentDidMount=="function"&&(rs.flags|=4194308),os=!1)}else{ls=rs.stateNode,lh(ts,rs),cs=rs.memoizedProps,ds=rs.type===rs.elementType?cs:Ci(rs.type,cs),ls.props=ds,fs=rs.pendingProps,hs=ls.context,us=ns.contextType,typeof us=="object"&&us!==null?us=eh(us):(us=Zf(ns)?Xf:H$1.current,us=Yf(rs,us));var ms=ns.getDerivedStateFromProps;(ps=typeof ms=="function"||typeof ls.getSnapshotBeforeUpdate=="function")||typeof ls.UNSAFE_componentWillReceiveProps!="function"&&typeof ls.componentWillReceiveProps!="function"||(cs!==fs||hs!==us)&&Hi(rs,ls,os,us),jh=!1,hs=rs.memoizedState,ls.state=hs,qh(rs,os,ls,ss);var gs=rs.memoizedState;cs!==fs||hs!==gs||Wf.current||jh?(typeof ms=="function"&&(Di(rs,ns,ms,os),gs=rs.memoizedState),(ds=jh||Fi(rs,ns,ds,os,hs,gs,us)||!1)?(ps||typeof ls.UNSAFE_componentWillUpdate!="function"&&typeof ls.componentWillUpdate!="function"||(typeof ls.componentWillUpdate=="function"&&ls.componentWillUpdate(os,gs,us),typeof ls.UNSAFE_componentWillUpdate=="function"&&ls.UNSAFE_componentWillUpdate(os,gs,us)),typeof ls.componentDidUpdate=="function"&&(rs.flags|=4),typeof ls.getSnapshotBeforeUpdate=="function"&&(rs.flags|=1024)):(typeof ls.componentDidUpdate!="function"||cs===ts.memoizedProps&&hs===ts.memoizedState||(rs.flags|=4),typeof ls.getSnapshotBeforeUpdate!="function"||cs===ts.memoizedProps&&hs===ts.memoizedState||(rs.flags|=1024),rs.memoizedProps=os,rs.memoizedState=gs),ls.props=os,ls.state=gs,ls.context=us,os=ds):(typeof ls.componentDidUpdate!="function"||cs===ts.memoizedProps&&hs===ts.memoizedState||(rs.flags|=4),typeof ls.getSnapshotBeforeUpdate!="function"||cs===ts.memoizedProps&&hs===ts.memoizedState||(rs.flags|=1024),os=!1)}return jj(ts,rs,ns,os,as,ss)}function jj(ts,rs,ns,os,ss,as){gj(ts,rs);var ls=(rs.flags&128)!==0;if(!os&&!ls)return ss&&dg(rs,ns,!1),Zi(ts,rs,as);os=rs.stateNode,Wi.current=rs;var cs=ls&&typeof ns.getDerivedStateFromError!="function"?null:os.render();return rs.flags|=1,ts!==null&&ls?(rs.child=Ug(rs,ts.child,null,as),rs.child=Ug(rs,null,cs,as)):Xi(ts,rs,cs,as),rs.memoizedState=os.state,ss&&dg(rs,ns,!0),rs.child}function kj(ts){var rs=ts.stateNode;rs.pendingContext?ag(ts,rs.pendingContext,rs.pendingContext!==rs.context):rs.context&&ag(ts,rs.context,!1),yh(ts,rs.containerInfo)}function lj(ts,rs,ns,os,ss){return Ig(),Jg(ss),rs.flags|=256,Xi(ts,rs,ns,os),rs.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(ts){return{baseLanes:ts,cachePool:null,transitions:null}}function oj(ts,rs,ns){var os=rs.pendingProps,ss=L$1.current,as=!1,ls=(rs.flags&128)!==0,cs;if((cs=ls)||(cs=ts!==null&&ts.memoizedState===null?!1:(ss&2)!==0),cs?(as=!0,rs.flags&=-129):(ts===null||ts.memoizedState!==null)&&(ss|=1),G$1(L$1,ss&1),ts===null)return Eg(rs),ts=rs.memoizedState,ts!==null&&(ts=ts.dehydrated,ts!==null)?(rs.mode&1?ts.data==="$!"?rs.lanes=8:rs.lanes=1073741824:rs.lanes=1,null):(ls=os.children,ts=os.fallback,as?(os=rs.mode,as=rs.child,ls={mode:"hidden",children:ls},!(os&1)&&as!==null?(as.childLanes=0,as.pendingProps=ls):as=pj(ls,os,0,null),ts=Tg(ts,os,ns,null),as.return=rs,ts.return=rs,as.sibling=ts,rs.child=as,rs.child.memoizedState=nj(ns),rs.memoizedState=mj,ts):qj(rs,ls));if(ss=ts.memoizedState,ss!==null&&(cs=ss.dehydrated,cs!==null))return rj(ts,rs,ls,os,cs,ss,ns);if(as){as=os.fallback,ls=rs.mode,ss=ts.child,cs=ss.sibling;var us={mode:"hidden",children:os.children};return!(ls&1)&&rs.child!==ss?(os=rs.child,os.childLanes=0,os.pendingProps=us,rs.deletions=null):(os=Pg(ss,us),os.subtreeFlags=ss.subtreeFlags&14680064),cs!==null?as=Pg(cs,as):(as=Tg(as,ls,ns,null),as.flags|=2),as.return=rs,os.return=rs,os.sibling=as,rs.child=os,os=as,as=rs.child,ls=ts.child.memoizedState,ls=ls===null?nj(ns):{baseLanes:ls.baseLanes|ns,cachePool:null,transitions:ls.transitions},as.memoizedState=ls,as.childLanes=ts.childLanes&~ns,rs.memoizedState=mj,os}return as=ts.child,ts=as.sibling,os=Pg(as,{mode:"visible",children:os.children}),!(rs.mode&1)&&(os.lanes=ns),os.return=rs,os.sibling=null,ts!==null&&(ns=rs.deletions,ns===null?(rs.deletions=[ts],rs.flags|=16):ns.push(ts)),rs.child=os,rs.memoizedState=null,os}function qj(ts,rs){return rs=pj({mode:"visible",children:rs},ts.mode,0,null),rs.return=ts,ts.child=rs}function sj(ts,rs,ns,os){return os!==null&&Jg(os),Ug(rs,ts.child,null,ns),ts=qj(rs,rs.pendingProps.children),ts.flags|=2,rs.memoizedState=null,ts}function rj(ts,rs,ns,os,ss,as,ls){if(ns)return rs.flags&256?(rs.flags&=-257,os=Ki(Error(p$5(422))),sj(ts,rs,ls,os)):rs.memoizedState!==null?(rs.child=ts.child,rs.flags|=128,null):(as=os.fallback,ss=rs.mode,os=pj({mode:"visible",children:os.children},ss,0,null),as=Tg(as,ss,ls,null),as.flags|=2,os.return=rs,as.return=rs,os.sibling=as,rs.child=os,rs.mode&1&&Ug(rs,ts.child,null,ls),rs.child.memoizedState=nj(ls),rs.memoizedState=mj,as);if(!(rs.mode&1))return sj(ts,rs,ls,null);if(ss.data==="$!"){if(os=ss.nextSibling&&ss.nextSibling.dataset,os)var cs=os.dgst;return os=cs,as=Error(p$5(419)),os=Ki(as,os,void 0),sj(ts,rs,ls,os)}if(cs=(ls&ts.childLanes)!==0,dh||cs){if(os=Q$1,os!==null){switch(ls&-ls){case 4:ss=2;break;case 16:ss=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:ss=32;break;case 536870912:ss=268435456;break;default:ss=0}ss=ss&(os.suspendedLanes|ls)?0:ss,ss!==0&&ss!==as.retryLane&&(as.retryLane=ss,ih(ts,ss),gi(os,ts,ss,-1))}return tj(),os=Ki(Error(p$5(421))),sj(ts,rs,ls,os)}return ss.data==="$?"?(rs.flags|=128,rs.child=ts.child,rs=uj.bind(null,ts),ss._reactRetry=rs,null):(ts=as.treeContext,yg=Lf(ss.nextSibling),xg=rs,I$1=!0,zg=null,ts!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=ts.id,sg=ts.overflow,qg=rs),rs=qj(rs,os.children),rs.flags|=4096,rs)}function vj(ts,rs,ns){ts.lanes|=rs;var os=ts.alternate;os!==null&&(os.lanes|=rs),bh(ts.return,rs,ns)}function wj(ts,rs,ns,os,ss){var as=ts.memoizedState;as===null?ts.memoizedState={isBackwards:rs,rendering:null,renderingStartTime:0,last:os,tail:ns,tailMode:ss}:(as.isBackwards=rs,as.rendering=null,as.renderingStartTime=0,as.last=os,as.tail=ns,as.tailMode=ss)}function xj(ts,rs,ns){var os=rs.pendingProps,ss=os.revealOrder,as=os.tail;if(Xi(ts,rs,os.children,ns),os=L$1.current,os&2)os=os&1|2,rs.flags|=128;else{if(ts!==null&&ts.flags&128)e:for(ts=rs.child;ts!==null;){if(ts.tag===13)ts.memoizedState!==null&&vj(ts,ns,rs);else if(ts.tag===19)vj(ts,ns,rs);else if(ts.child!==null){ts.child.return=ts,ts=ts.child;continue}if(ts===rs)break e;for(;ts.sibling===null;){if(ts.return===null||ts.return===rs)break e;ts=ts.return}ts.sibling.return=ts.return,ts=ts.sibling}os&=1}if(G$1(L$1,os),!(rs.mode&1))rs.memoizedState=null;else switch(ss){case"forwards":for(ns=rs.child,ss=null;ns!==null;)ts=ns.alternate,ts!==null&&Ch(ts)===null&&(ss=ns),ns=ns.sibling;ns=ss,ns===null?(ss=rs.child,rs.child=null):(ss=ns.sibling,ns.sibling=null),wj(rs,!1,ss,ns,as);break;case"backwards":for(ns=null,ss=rs.child,rs.child=null;ss!==null;){if(ts=ss.alternate,ts!==null&&Ch(ts)===null){rs.child=ss;break}ts=ss.sibling,ss.sibling=ns,ns=ss,ss=ts}wj(rs,!0,ns,null,as);break;case"together":wj(rs,!1,null,null,void 0);break;default:rs.memoizedState=null}return rs.child}function ij(ts,rs){!(rs.mode&1)&&ts!==null&&(ts.alternate=null,rs.alternate=null,rs.flags|=2)}function Zi(ts,rs,ns){if(ts!==null&&(rs.dependencies=ts.dependencies),rh|=rs.lanes,!(ns&rs.childLanes))return null;if(ts!==null&&rs.child!==ts.child)throw Error(p$5(153));if(rs.child!==null){for(ts=rs.child,ns=Pg(ts,ts.pendingProps),rs.child=ns,ns.return=rs;ts.sibling!==null;)ts=ts.sibling,ns=ns.sibling=Pg(ts,ts.pendingProps),ns.return=rs;ns.sibling=null}return rs.child}function yj(ts,rs,ns){switch(rs.tag){case 3:kj(rs),Ig();break;case 5:Ah(rs);break;case 1:Zf(rs.type)&&cg(rs);break;case 4:yh(rs,rs.stateNode.containerInfo);break;case 10:var os=rs.type._context,ss=rs.memoizedProps.value;G$1(Wg,os._currentValue),os._currentValue=ss;break;case 13:if(os=rs.memoizedState,os!==null)return os.dehydrated!==null?(G$1(L$1,L$1.current&1),rs.flags|=128,null):ns&rs.child.childLanes?oj(ts,rs,ns):(G$1(L$1,L$1.current&1),ts=Zi(ts,rs,ns),ts!==null?ts.sibling:null);G$1(L$1,L$1.current&1);break;case 19:if(os=(ns&rs.childLanes)!==0,ts.flags&128){if(os)return xj(ts,rs,ns);rs.flags|=128}if(ss=rs.memoizedState,ss!==null&&(ss.rendering=null,ss.tail=null,ss.lastEffect=null),G$1(L$1,L$1.current),os)break;return null;case 22:case 23:return rs.lanes=0,dj(ts,rs,ns)}return Zi(ts,rs,ns)}var zj,Aj,Bj,Cj;zj=function(ts,rs){for(var ns=rs.child;ns!==null;){if(ns.tag===5||ns.tag===6)ts.appendChild(ns.stateNode);else if(ns.tag!==4&&ns.child!==null){ns.child.return=ns,ns=ns.child;continue}if(ns===rs)break;for(;ns.sibling===null;){if(ns.return===null||ns.return===rs)return;ns=ns.return}ns.sibling.return=ns.return,ns=ns.sibling}};Aj=function(){};Bj=function(ts,rs,ns,os){var ss=ts.memoizedProps;if(ss!==os){ts=rs.stateNode,xh(uh.current);var as=null;switch(ns){case"input":ss=Ya(ts,ss),os=Ya(ts,os),as=[];break;case"select":ss=A$1({},ss,{value:void 0}),os=A$1({},os,{value:void 0}),as=[];break;case"textarea":ss=gb(ts,ss),os=gb(ts,os),as=[];break;default:typeof ss.onClick!="function"&&typeof os.onClick=="function"&&(ts.onclick=Bf)}ub(ns,os);var ls;ns=null;for(ds in ss)if(!os.hasOwnProperty(ds)&&ss.hasOwnProperty(ds)&&ss[ds]!=null)if(ds==="style"){var cs=ss[ds];for(ls in cs)cs.hasOwnProperty(ls)&&(ns||(ns={}),ns[ls]="")}else ds!=="dangerouslySetInnerHTML"&&ds!=="children"&&ds!=="suppressContentEditableWarning"&&ds!=="suppressHydrationWarning"&&ds!=="autoFocus"&&(ea.hasOwnProperty(ds)?as||(as=[]):(as=as||[]).push(ds,null));for(ds in os){var us=os[ds];if(cs=ss!=null?ss[ds]:void 0,os.hasOwnProperty(ds)&&us!==cs&&(us!=null||cs!=null))if(ds==="style")if(cs){for(ls in cs)!cs.hasOwnProperty(ls)||us&&us.hasOwnProperty(ls)||(ns||(ns={}),ns[ls]="");for(ls in us)us.hasOwnProperty(ls)&&cs[ls]!==us[ls]&&(ns||(ns={}),ns[ls]=us[ls])}else ns||(as||(as=[]),as.push(ds,ns)),ns=us;else ds==="dangerouslySetInnerHTML"?(us=us?us.__html:void 0,cs=cs?cs.__html:void 0,us!=null&&cs!==us&&(as=as||[]).push(ds,us)):ds==="children"?typeof us!="string"&&typeof us!="number"||(as=as||[]).push(ds,""+us):ds!=="suppressContentEditableWarning"&&ds!=="suppressHydrationWarning"&&(ea.hasOwnProperty(ds)?(us!=null&&ds==="onScroll"&&D$1("scroll",ts),as||cs===us||(as=[])):(as=as||[]).push(ds,us))}ns&&(as=as||[]).push("style",ns);var ds=as;(rs.updateQueue=ds)&&(rs.flags|=4)}};Cj=function(ts,rs,ns,os){ns!==os&&(rs.flags|=4)};function Dj(ts,rs){if(!I$1)switch(ts.tailMode){case"hidden":rs=ts.tail;for(var ns=null;rs!==null;)rs.alternate!==null&&(ns=rs),rs=rs.sibling;ns===null?ts.tail=null:ns.sibling=null;break;case"collapsed":ns=ts.tail;for(var os=null;ns!==null;)ns.alternate!==null&&(os=ns),ns=ns.sibling;os===null?rs||ts.tail===null?ts.tail=null:ts.tail.sibling=null:os.sibling=null}}function S$1(ts){var rs=ts.alternate!==null&&ts.alternate.child===ts.child,ns=0,os=0;if(rs)for(var ss=ts.child;ss!==null;)ns|=ss.lanes|ss.childLanes,os|=ss.subtreeFlags&14680064,os|=ss.flags&14680064,ss.return=ts,ss=ss.sibling;else for(ss=ts.child;ss!==null;)ns|=ss.lanes|ss.childLanes,os|=ss.subtreeFlags,os|=ss.flags,ss.return=ts,ss=ss.sibling;return ts.subtreeFlags|=os,ts.childLanes=ns,rs}function Ej(ts,rs,ns){var os=rs.pendingProps;switch(wg(rs),rs.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$1(rs),null;case 1:return Zf(rs.type)&&$f(),S$1(rs),null;case 3:return os=rs.stateNode,zh(),E$1(Wf),E$1(H$1),Eh(),os.pendingContext&&(os.context=os.pendingContext,os.pendingContext=null),(ts===null||ts.child===null)&&(Gg(rs)?rs.flags|=4:ts===null||ts.memoizedState.isDehydrated&&!(rs.flags&256)||(rs.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(ts,rs),S$1(rs),null;case 5:Bh(rs);var ss=xh(wh.current);if(ns=rs.type,ts!==null&&rs.stateNode!=null)Bj(ts,rs,ns,os,ss),ts.ref!==rs.ref&&(rs.flags|=512,rs.flags|=2097152);else{if(!os){if(rs.stateNode===null)throw Error(p$5(166));return S$1(rs),null}if(ts=xh(uh.current),Gg(rs)){os=rs.stateNode,ns=rs.type;var as=rs.memoizedProps;switch(os[Of]=rs,os[Pf]=as,ts=(rs.mode&1)!==0,ns){case"dialog":D$1("cancel",os),D$1("close",os);break;case"iframe":case"object":case"embed":D$1("load",os);break;case"video":case"audio":for(ss=0;ss<lf.length;ss++)D$1(lf[ss],os);break;case"source":D$1("error",os);break;case"img":case"image":case"link":D$1("error",os),D$1("load",os);break;case"details":D$1("toggle",os);break;case"input":Za(os,as),D$1("invalid",os);break;case"select":os._wrapperState={wasMultiple:!!as.multiple},D$1("invalid",os);break;case"textarea":hb(os,as),D$1("invalid",os)}ub(ns,as),ss=null;for(var ls in as)if(as.hasOwnProperty(ls)){var cs=as[ls];ls==="children"?typeof cs=="string"?os.textContent!==cs&&(as.suppressHydrationWarning!==!0&&Af(os.textContent,cs,ts),ss=["children",cs]):typeof cs=="number"&&os.textContent!==""+cs&&(as.suppressHydrationWarning!==!0&&Af(os.textContent,cs,ts),ss=["children",""+cs]):ea.hasOwnProperty(ls)&&cs!=null&&ls==="onScroll"&&D$1("scroll",os)}switch(ns){case"input":Va(os),db(os,as,!0);break;case"textarea":Va(os),jb(os);break;case"select":case"option":break;default:typeof as.onClick=="function"&&(os.onclick=Bf)}os=ss,rs.updateQueue=os,os!==null&&(rs.flags|=4)}else{ls=ss.nodeType===9?ss:ss.ownerDocument,ts==="http://www.w3.org/1999/xhtml"&&(ts=kb(ns)),ts==="http://www.w3.org/1999/xhtml"?ns==="script"?(ts=ls.createElement("div"),ts.innerHTML="<script><\/script>",ts=ts.removeChild(ts.firstChild)):typeof os.is=="string"?ts=ls.createElement(ns,{is:os.is}):(ts=ls.createElement(ns),ns==="select"&&(ls=ts,os.multiple?ls.multiple=!0:os.size&&(ls.size=os.size))):ts=ls.createElementNS(ts,ns),ts[Of]=rs,ts[Pf]=os,zj(ts,rs,!1,!1),rs.stateNode=ts;e:{switch(ls=vb(ns,os),ns){case"dialog":D$1("cancel",ts),D$1("close",ts),ss=os;break;case"iframe":case"object":case"embed":D$1("load",ts),ss=os;break;case"video":case"audio":for(ss=0;ss<lf.length;ss++)D$1(lf[ss],ts);ss=os;break;case"source":D$1("error",ts),ss=os;break;case"img":case"image":case"link":D$1("error",ts),D$1("load",ts),ss=os;break;case"details":D$1("toggle",ts),ss=os;break;case"input":Za(ts,os),ss=Ya(ts,os),D$1("invalid",ts);break;case"option":ss=os;break;case"select":ts._wrapperState={wasMultiple:!!os.multiple},ss=A$1({},os,{value:void 0}),D$1("invalid",ts);break;case"textarea":hb(ts,os),ss=gb(ts,os),D$1("invalid",ts);break;default:ss=os}ub(ns,ss),cs=ss;for(as in cs)if(cs.hasOwnProperty(as)){var us=cs[as];as==="style"?sb(ts,us):as==="dangerouslySetInnerHTML"?(us=us?us.__html:void 0,us!=null&&nb(ts,us)):as==="children"?typeof us=="string"?(ns!=="textarea"||us!=="")&&ob(ts,us):typeof us=="number"&&ob(ts,""+us):as!=="suppressContentEditableWarning"&&as!=="suppressHydrationWarning"&&as!=="autoFocus"&&(ea.hasOwnProperty(as)?us!=null&&as==="onScroll"&&D$1("scroll",ts):us!=null&&ta(ts,as,us,ls))}switch(ns){case"input":Va(ts),db(ts,os,!1);break;case"textarea":Va(ts),jb(ts);break;case"option":os.value!=null&&ts.setAttribute("value",""+Sa(os.value));break;case"select":ts.multiple=!!os.multiple,as=os.value,as!=null?fb(ts,!!os.multiple,as,!1):os.defaultValue!=null&&fb(ts,!!os.multiple,os.defaultValue,!0);break;default:typeof ss.onClick=="function"&&(ts.onclick=Bf)}switch(ns){case"button":case"input":case"select":case"textarea":os=!!os.autoFocus;break e;case"img":os=!0;break e;default:os=!1}}os&&(rs.flags|=4)}rs.ref!==null&&(rs.flags|=512,rs.flags|=2097152)}return S$1(rs),null;case 6:if(ts&&rs.stateNode!=null)Cj(ts,rs,ts.memoizedProps,os);else{if(typeof os!="string"&&rs.stateNode===null)throw Error(p$5(166));if(ns=xh(wh.current),xh(uh.current),Gg(rs)){if(os=rs.stateNode,ns=rs.memoizedProps,os[Of]=rs,(as=os.nodeValue!==ns)&&(ts=xg,ts!==null))switch(ts.tag){case 3:Af(os.nodeValue,ns,(ts.mode&1)!==0);break;case 5:ts.memoizedProps.suppressHydrationWarning!==!0&&Af(os.nodeValue,ns,(ts.mode&1)!==0)}as&&(rs.flags|=4)}else os=(ns.nodeType===9?ns:ns.ownerDocument).createTextNode(os),os[Of]=rs,rs.stateNode=os}return S$1(rs),null;case 13:if(E$1(L$1),os=rs.memoizedState,ts===null||ts.memoizedState!==null&&ts.memoizedState.dehydrated!==null){if(I$1&&yg!==null&&rs.mode&1&&!(rs.flags&128))Hg(),Ig(),rs.flags|=98560,as=!1;else if(as=Gg(rs),os!==null&&os.dehydrated!==null){if(ts===null){if(!as)throw Error(p$5(318));if(as=rs.memoizedState,as=as!==null?as.dehydrated:null,!as)throw Error(p$5(317));as[Of]=rs}else Ig(),!(rs.flags&128)&&(rs.memoizedState=null),rs.flags|=4;S$1(rs),as=!1}else zg!==null&&(Fj(zg),zg=null),as=!0;if(!as)return rs.flags&65536?rs:null}return rs.flags&128?(rs.lanes=ns,rs):(os=os!==null,os!==(ts!==null&&ts.memoizedState!==null)&&os&&(rs.child.flags|=8192,rs.mode&1&&(ts===null||L$1.current&1?T$1===0&&(T$1=3):tj())),rs.updateQueue!==null&&(rs.flags|=4),S$1(rs),null);case 4:return zh(),Aj(ts,rs),ts===null&&sf(rs.stateNode.containerInfo),S$1(rs),null;case 10:return ah(rs.type._context),S$1(rs),null;case 17:return Zf(rs.type)&&$f(),S$1(rs),null;case 19:if(E$1(L$1),as=rs.memoizedState,as===null)return S$1(rs),null;if(os=(rs.flags&128)!==0,ls=as.rendering,ls===null)if(os)Dj(as,!1);else{if(T$1!==0||ts!==null&&ts.flags&128)for(ts=rs.child;ts!==null;){if(ls=Ch(ts),ls!==null){for(rs.flags|=128,Dj(as,!1),os=ls.updateQueue,os!==null&&(rs.updateQueue=os,rs.flags|=4),rs.subtreeFlags=0,os=ns,ns=rs.child;ns!==null;)as=ns,ts=os,as.flags&=14680066,ls=as.alternate,ls===null?(as.childLanes=0,as.lanes=ts,as.child=null,as.subtreeFlags=0,as.memoizedProps=null,as.memoizedState=null,as.updateQueue=null,as.dependencies=null,as.stateNode=null):(as.childLanes=ls.childLanes,as.lanes=ls.lanes,as.child=ls.child,as.subtreeFlags=0,as.deletions=null,as.memoizedProps=ls.memoizedProps,as.memoizedState=ls.memoizedState,as.updateQueue=ls.updateQueue,as.type=ls.type,ts=ls.dependencies,as.dependencies=ts===null?null:{lanes:ts.lanes,firstContext:ts.firstContext}),ns=ns.sibling;return G$1(L$1,L$1.current&1|2),rs.child}ts=ts.sibling}as.tail!==null&&B$1()>Gj&&(rs.flags|=128,os=!0,Dj(as,!1),rs.lanes=4194304)}else{if(!os)if(ts=Ch(ls),ts!==null){if(rs.flags|=128,os=!0,ns=ts.updateQueue,ns!==null&&(rs.updateQueue=ns,rs.flags|=4),Dj(as,!0),as.tail===null&&as.tailMode==="hidden"&&!ls.alternate&&!I$1)return S$1(rs),null}else 2*B$1()-as.renderingStartTime>Gj&&ns!==1073741824&&(rs.flags|=128,os=!0,Dj(as,!1),rs.lanes=4194304);as.isBackwards?(ls.sibling=rs.child,rs.child=ls):(ns=as.last,ns!==null?ns.sibling=ls:rs.child=ls,as.last=ls)}return as.tail!==null?(rs=as.tail,as.rendering=rs,as.tail=rs.sibling,as.renderingStartTime=B$1(),rs.sibling=null,ns=L$1.current,G$1(L$1,os?ns&1|2:ns&1),rs):(S$1(rs),null);case 22:case 23:return Hj(),os=rs.memoizedState!==null,ts!==null&&ts.memoizedState!==null!==os&&(rs.flags|=8192),os&&rs.mode&1?fj&1073741824&&(S$1(rs),rs.subtreeFlags&6&&(rs.flags|=8192)):S$1(rs),null;case 24:return null;case 25:return null}throw Error(p$5(156,rs.tag))}function Ij(ts,rs){switch(wg(rs),rs.tag){case 1:return Zf(rs.type)&&$f(),ts=rs.flags,ts&65536?(rs.flags=ts&-65537|128,rs):null;case 3:return zh(),E$1(Wf),E$1(H$1),Eh(),ts=rs.flags,ts&65536&&!(ts&128)?(rs.flags=ts&-65537|128,rs):null;case 5:return Bh(rs),null;case 13:if(E$1(L$1),ts=rs.memoizedState,ts!==null&&ts.dehydrated!==null){if(rs.alternate===null)throw Error(p$5(340));Ig()}return ts=rs.flags,ts&65536?(rs.flags=ts&-65537|128,rs):null;case 19:return E$1(L$1),null;case 4:return zh(),null;case 10:return ah(rs.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U$1=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V$1=null;function Lj(ts,rs){var ns=ts.ref;if(ns!==null)if(typeof ns=="function")try{ns(null)}catch(os){W$1(ts,rs,os)}else ns.current=null}function Mj(ts,rs,ns){try{ns()}catch(os){W$1(ts,rs,os)}}var Nj=!1;function Oj(ts,rs){if(Cf=dd,ts=Me$1(),Ne$1(ts)){if("selectionStart"in ts)var ns={start:ts.selectionStart,end:ts.selectionEnd};else e:{ns=(ns=ts.ownerDocument)&&ns.defaultView||window;var os=ns.getSelection&&ns.getSelection();if(os&&os.rangeCount!==0){ns=os.anchorNode;var ss=os.anchorOffset,as=os.focusNode;os=os.focusOffset;try{ns.nodeType,as.nodeType}catch{ns=null;break e}var ls=0,cs=-1,us=-1,ds=0,ps=0,fs=ts,hs=null;t:for(;;){for(var ms;fs!==ns||ss!==0&&fs.nodeType!==3||(cs=ls+ss),fs!==as||os!==0&&fs.nodeType!==3||(us=ls+os),fs.nodeType===3&&(ls+=fs.nodeValue.length),(ms=fs.firstChild)!==null;)hs=fs,fs=ms;for(;;){if(fs===ts)break t;if(hs===ns&&++ds===ss&&(cs=ls),hs===as&&++ps===os&&(us=ls),(ms=fs.nextSibling)!==null)break;fs=hs,hs=fs.parentNode}fs=ms}ns=cs===-1||us===-1?null:{start:cs,end:us}}else ns=null}ns=ns||{start:0,end:0}}else ns=null;for(Df={focusedElem:ts,selectionRange:ns},dd=!1,V$1=rs;V$1!==null;)if(rs=V$1,ts=rs.child,(rs.subtreeFlags&1028)!==0&&ts!==null)ts.return=rs,V$1=ts;else for(;V$1!==null;){rs=V$1;try{var gs=rs.alternate;if(rs.flags&1024)switch(rs.tag){case 0:case 11:case 15:break;case 1:if(gs!==null){var vs=gs.memoizedProps,bs=gs.memoizedState,xs=rs.stateNode,ys=xs.getSnapshotBeforeUpdate(rs.elementType===rs.type?vs:Ci(rs.type,vs),bs);xs.__reactInternalSnapshotBeforeUpdate=ys}break;case 3:var Ss=rs.stateNode.containerInfo;Ss.nodeType===1?Ss.textContent="":Ss.nodeType===9&&Ss.documentElement&&Ss.removeChild(Ss.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$5(163))}}catch(Cs){W$1(rs,rs.return,Cs)}if(ts=rs.sibling,ts!==null){ts.return=rs.return,V$1=ts;break}V$1=rs.return}return gs=Nj,Nj=!1,gs}function Pj(ts,rs,ns){var os=rs.updateQueue;if(os=os!==null?os.lastEffect:null,os!==null){var ss=os=os.next;do{if((ss.tag&ts)===ts){var as=ss.destroy;ss.destroy=void 0,as!==void 0&&Mj(rs,ns,as)}ss=ss.next}while(ss!==os)}}function Qj(ts,rs){if(rs=rs.updateQueue,rs=rs!==null?rs.lastEffect:null,rs!==null){var ns=rs=rs.next;do{if((ns.tag&ts)===ts){var os=ns.create;ns.destroy=os()}ns=ns.next}while(ns!==rs)}}function Rj(ts){var rs=ts.ref;if(rs!==null){var ns=ts.stateNode;switch(ts.tag){case 5:ts=ns;break;default:ts=ns}typeof rs=="function"?rs(ts):rs.current=ts}}function Sj(ts){var rs=ts.alternate;rs!==null&&(ts.alternate=null,Sj(rs)),ts.child=null,ts.deletions=null,ts.sibling=null,ts.tag===5&&(rs=ts.stateNode,rs!==null&&(delete rs[Of],delete rs[Pf],delete rs[of],delete rs[Qf],delete rs[Rf])),ts.stateNode=null,ts.return=null,ts.dependencies=null,ts.memoizedProps=null,ts.memoizedState=null,ts.pendingProps=null,ts.stateNode=null,ts.updateQueue=null}function Tj(ts){return ts.tag===5||ts.tag===3||ts.tag===4}function Uj(ts){e:for(;;){for(;ts.sibling===null;){if(ts.return===null||Tj(ts.return))return null;ts=ts.return}for(ts.sibling.return=ts.return,ts=ts.sibling;ts.tag!==5&&ts.tag!==6&&ts.tag!==18;){if(ts.flags&2||ts.child===null||ts.tag===4)continue e;ts.child.return=ts,ts=ts.child}if(!(ts.flags&2))return ts.stateNode}}function Vj(ts,rs,ns){var os=ts.tag;if(os===5||os===6)ts=ts.stateNode,rs?ns.nodeType===8?ns.parentNode.insertBefore(ts,rs):ns.insertBefore(ts,rs):(ns.nodeType===8?(rs=ns.parentNode,rs.insertBefore(ts,ns)):(rs=ns,rs.appendChild(ts)),ns=ns._reactRootContainer,ns!=null||rs.onclick!==null||(rs.onclick=Bf));else if(os!==4&&(ts=ts.child,ts!==null))for(Vj(ts,rs,ns),ts=ts.sibling;ts!==null;)Vj(ts,rs,ns),ts=ts.sibling}function Wj(ts,rs,ns){var os=ts.tag;if(os===5||os===6)ts=ts.stateNode,rs?ns.insertBefore(ts,rs):ns.appendChild(ts);else if(os!==4&&(ts=ts.child,ts!==null))for(Wj(ts,rs,ns),ts=ts.sibling;ts!==null;)Wj(ts,rs,ns),ts=ts.sibling}var X$1=null,Xj=!1;function Yj(ts,rs,ns){for(ns=ns.child;ns!==null;)Zj(ts,rs,ns),ns=ns.sibling}function Zj(ts,rs,ns){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,ns)}catch{}switch(ns.tag){case 5:U$1||Lj(ns,rs);case 6:var os=X$1,ss=Xj;X$1=null,Yj(ts,rs,ns),X$1=os,Xj=ss,X$1!==null&&(Xj?(ts=X$1,ns=ns.stateNode,ts.nodeType===8?ts.parentNode.removeChild(ns):ts.removeChild(ns)):X$1.removeChild(ns.stateNode));break;case 18:X$1!==null&&(Xj?(ts=X$1,ns=ns.stateNode,ts.nodeType===8?Kf(ts.parentNode,ns):ts.nodeType===1&&Kf(ts,ns),bd(ts)):Kf(X$1,ns.stateNode));break;case 4:os=X$1,ss=Xj,X$1=ns.stateNode.containerInfo,Xj=!0,Yj(ts,rs,ns),X$1=os,Xj=ss;break;case 0:case 11:case 14:case 15:if(!U$1&&(os=ns.updateQueue,os!==null&&(os=os.lastEffect,os!==null))){ss=os=os.next;do{var as=ss,ls=as.destroy;as=as.tag,ls!==void 0&&(as&2||as&4)&&Mj(ns,rs,ls),ss=ss.next}while(ss!==os)}Yj(ts,rs,ns);break;case 1:if(!U$1&&(Lj(ns,rs),os=ns.stateNode,typeof os.componentWillUnmount=="function"))try{os.props=ns.memoizedProps,os.state=ns.memoizedState,os.componentWillUnmount()}catch(cs){W$1(ns,rs,cs)}Yj(ts,rs,ns);break;case 21:Yj(ts,rs,ns);break;case 22:ns.mode&1?(U$1=(os=U$1)||ns.memoizedState!==null,Yj(ts,rs,ns),U$1=os):Yj(ts,rs,ns);break;default:Yj(ts,rs,ns)}}function ak(ts){var rs=ts.updateQueue;if(rs!==null){ts.updateQueue=null;var ns=ts.stateNode;ns===null&&(ns=ts.stateNode=new Kj),rs.forEach(function(os){var ss=bk.bind(null,ts,os);ns.has(os)||(ns.add(os),os.then(ss,ss))})}}function ck(ts,rs){var ns=rs.deletions;if(ns!==null)for(var os=0;os<ns.length;os++){var ss=ns[os];try{var as=ts,ls=rs,cs=ls;e:for(;cs!==null;){switch(cs.tag){case 5:X$1=cs.stateNode,Xj=!1;break e;case 3:X$1=cs.stateNode.containerInfo,Xj=!0;break e;case 4:X$1=cs.stateNode.containerInfo,Xj=!0;break e}cs=cs.return}if(X$1===null)throw Error(p$5(160));Zj(as,ls,ss),X$1=null,Xj=!1;var us=ss.alternate;us!==null&&(us.return=null),ss.return=null}catch(ds){W$1(ss,rs,ds)}}if(rs.subtreeFlags&12854)for(rs=rs.child;rs!==null;)dk(rs,ts),rs=rs.sibling}function dk(ts,rs){var ns=ts.alternate,os=ts.flags;switch(ts.tag){case 0:case 11:case 14:case 15:if(ck(rs,ts),ek(ts),os&4){try{Pj(3,ts,ts.return),Qj(3,ts)}catch(vs){W$1(ts,ts.return,vs)}try{Pj(5,ts,ts.return)}catch(vs){W$1(ts,ts.return,vs)}}break;case 1:ck(rs,ts),ek(ts),os&512&&ns!==null&&Lj(ns,ns.return);break;case 5:if(ck(rs,ts),ek(ts),os&512&&ns!==null&&Lj(ns,ns.return),ts.flags&32){var ss=ts.stateNode;try{ob(ss,"")}catch(vs){W$1(ts,ts.return,vs)}}if(os&4&&(ss=ts.stateNode,ss!=null)){var as=ts.memoizedProps,ls=ns!==null?ns.memoizedProps:as,cs=ts.type,us=ts.updateQueue;if(ts.updateQueue=null,us!==null)try{cs==="input"&&as.type==="radio"&&as.name!=null&&ab(ss,as),vb(cs,ls);var ds=vb(cs,as);for(ls=0;ls<us.length;ls+=2){var ps=us[ls],fs=us[ls+1];ps==="style"?sb(ss,fs):ps==="dangerouslySetInnerHTML"?nb(ss,fs):ps==="children"?ob(ss,fs):ta(ss,ps,fs,ds)}switch(cs){case"input":bb(ss,as);break;case"textarea":ib(ss,as);break;case"select":var hs=ss._wrapperState.wasMultiple;ss._wrapperState.wasMultiple=!!as.multiple;var ms=as.value;ms!=null?fb(ss,!!as.multiple,ms,!1):hs!==!!as.multiple&&(as.defaultValue!=null?fb(ss,!!as.multiple,as.defaultValue,!0):fb(ss,!!as.multiple,as.multiple?[]:"",!1))}ss[Pf]=as}catch(vs){W$1(ts,ts.return,vs)}}break;case 6:if(ck(rs,ts),ek(ts),os&4){if(ts.stateNode===null)throw Error(p$5(162));ss=ts.stateNode,as=ts.memoizedProps;try{ss.nodeValue=as}catch(vs){W$1(ts,ts.return,vs)}}break;case 3:if(ck(rs,ts),ek(ts),os&4&&ns!==null&&ns.memoizedState.isDehydrated)try{bd(rs.containerInfo)}catch(vs){W$1(ts,ts.return,vs)}break;case 4:ck(rs,ts),ek(ts);break;case 13:ck(rs,ts),ek(ts),ss=ts.child,ss.flags&8192&&(as=ss.memoizedState!==null,ss.stateNode.isHidden=as,!as||ss.alternate!==null&&ss.alternate.memoizedState!==null||(fk=B$1())),os&4&&ak(ts);break;case 22:if(ps=ns!==null&&ns.memoizedState!==null,ts.mode&1?(U$1=(ds=U$1)||ps,ck(rs,ts),U$1=ds):ck(rs,ts),ek(ts),os&8192){if(ds=ts.memoizedState!==null,(ts.stateNode.isHidden=ds)&&!ps&&ts.mode&1)for(V$1=ts,ps=ts.child;ps!==null;){for(fs=V$1=ps;V$1!==null;){switch(hs=V$1,ms=hs.child,hs.tag){case 0:case 11:case 14:case 15:Pj(4,hs,hs.return);break;case 1:Lj(hs,hs.return);var gs=hs.stateNode;if(typeof gs.componentWillUnmount=="function"){os=hs,ns=hs.return;try{rs=os,gs.props=rs.memoizedProps,gs.state=rs.memoizedState,gs.componentWillUnmount()}catch(vs){W$1(os,ns,vs)}}break;case 5:Lj(hs,hs.return);break;case 22:if(hs.memoizedState!==null){gk(fs);continue}}ms!==null?(ms.return=hs,V$1=ms):gk(fs)}ps=ps.sibling}e:for(ps=null,fs=ts;;){if(fs.tag===5){if(ps===null){ps=fs;try{ss=fs.stateNode,ds?(as=ss.style,typeof as.setProperty=="function"?as.setProperty("display","none","important"):as.display="none"):(cs=fs.stateNode,us=fs.memoizedProps.style,ls=us!=null&&us.hasOwnProperty("display")?us.display:null,cs.style.display=rb("display",ls))}catch(vs){W$1(ts,ts.return,vs)}}}else if(fs.tag===6){if(ps===null)try{fs.stateNode.nodeValue=ds?"":fs.memoizedProps}catch(vs){W$1(ts,ts.return,vs)}}else if((fs.tag!==22&&fs.tag!==23||fs.memoizedState===null||fs===ts)&&fs.child!==null){fs.child.return=fs,fs=fs.child;continue}if(fs===ts)break e;for(;fs.sibling===null;){if(fs.return===null||fs.return===ts)break e;ps===fs&&(ps=null),fs=fs.return}ps===fs&&(ps=null),fs.sibling.return=fs.return,fs=fs.sibling}}break;case 19:ck(rs,ts),ek(ts),os&4&&ak(ts);break;case 21:break;default:ck(rs,ts),ek(ts)}}function ek(ts){var rs=ts.flags;if(rs&2){try{e:{for(var ns=ts.return;ns!==null;){if(Tj(ns)){var os=ns;break e}ns=ns.return}throw Error(p$5(160))}switch(os.tag){case 5:var ss=os.stateNode;os.flags&32&&(ob(ss,""),os.flags&=-33);var as=Uj(ts);Wj(ts,as,ss);break;case 3:case 4:var ls=os.stateNode.containerInfo,cs=Uj(ts);Vj(ts,cs,ls);break;default:throw Error(p$5(161))}}catch(us){W$1(ts,ts.return,us)}ts.flags&=-3}rs&4096&&(ts.flags&=-4097)}function hk(ts,rs,ns){V$1=ts,ik(ts)}function ik(ts,rs,ns){for(var os=(ts.mode&1)!==0;V$1!==null;){var ss=V$1,as=ss.child;if(ss.tag===22&&os){var ls=ss.memoizedState!==null||Jj;if(!ls){var cs=ss.alternate,us=cs!==null&&cs.memoizedState!==null||U$1;cs=Jj;var ds=U$1;if(Jj=ls,(U$1=us)&&!ds)for(V$1=ss;V$1!==null;)ls=V$1,us=ls.child,ls.tag===22&&ls.memoizedState!==null?jk(ss):us!==null?(us.return=ls,V$1=us):jk(ss);for(;as!==null;)V$1=as,ik(as),as=as.sibling;V$1=ss,Jj=cs,U$1=ds}kk(ts)}else ss.subtreeFlags&8772&&as!==null?(as.return=ss,V$1=as):kk(ts)}}function kk(ts){for(;V$1!==null;){var rs=V$1;if(rs.flags&8772){var ns=rs.alternate;try{if(rs.flags&8772)switch(rs.tag){case 0:case 11:case 15:U$1||Qj(5,rs);break;case 1:var os=rs.stateNode;if(rs.flags&4&&!U$1)if(ns===null)os.componentDidMount();else{var ss=rs.elementType===rs.type?ns.memoizedProps:Ci(rs.type,ns.memoizedProps);os.componentDidUpdate(ss,ns.memoizedState,os.__reactInternalSnapshotBeforeUpdate)}var as=rs.updateQueue;as!==null&&sh(rs,as,os);break;case 3:var ls=rs.updateQueue;if(ls!==null){if(ns=null,rs.child!==null)switch(rs.child.tag){case 5:ns=rs.child.stateNode;break;case 1:ns=rs.child.stateNode}sh(rs,ls,ns)}break;case 5:var cs=rs.stateNode;if(ns===null&&rs.flags&4){ns=cs;var us=rs.memoizedProps;switch(rs.type){case"button":case"input":case"select":case"textarea":us.autoFocus&&ns.focus();break;case"img":us.src&&(ns.src=us.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(rs.memoizedState===null){var ds=rs.alternate;if(ds!==null){var ps=ds.memoizedState;if(ps!==null){var fs=ps.dehydrated;fs!==null&&bd(fs)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$5(163))}U$1||rs.flags&512&&Rj(rs)}catch(hs){W$1(rs,rs.return,hs)}}if(rs===ts){V$1=null;break}if(ns=rs.sibling,ns!==null){ns.return=rs.return,V$1=ns;break}V$1=rs.return}}function gk(ts){for(;V$1!==null;){var rs=V$1;if(rs===ts){V$1=null;break}var ns=rs.sibling;if(ns!==null){ns.return=rs.return,V$1=ns;break}V$1=rs.return}}function jk(ts){for(;V$1!==null;){var rs=V$1;try{switch(rs.tag){case 0:case 11:case 15:var ns=rs.return;try{Qj(4,rs)}catch(us){W$1(rs,ns,us)}break;case 1:var os=rs.stateNode;if(typeof os.componentDidMount=="function"){var ss=rs.return;try{os.componentDidMount()}catch(us){W$1(rs,ss,us)}}var as=rs.return;try{Rj(rs)}catch(us){W$1(rs,as,us)}break;case 5:var ls=rs.return;try{Rj(rs)}catch(us){W$1(rs,ls,us)}}}catch(us){W$1(rs,rs.return,us)}if(rs===ts){V$1=null;break}var cs=rs.sibling;if(cs!==null){cs.return=rs.return,V$1=cs;break}V$1=rs.return}}var lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok=ua.ReactCurrentBatchConfig,K$1=0,Q$1=null,Y$1=null,Z$1=0,fj=0,ej=Uf(0),T$1=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R(){return K$1&6?B$1():Ak!==-1?Ak:Ak=B$1()}function yi(ts){return ts.mode&1?K$1&2&&Z$1!==0?Z$1&-Z$1:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(ts=C$1,ts!==0||(ts=window.event,ts=ts===void 0?16:jd(ts.type)),ts):1}function gi(ts,rs,ns,os){if(50<yk)throw yk=0,zk=null,Error(p$5(185));Ac(ts,ns,os),(!(K$1&2)||ts!==Q$1)&&(ts===Q$1&&(!(K$1&2)&&(qk|=ns),T$1===4&&Ck(ts,Z$1)),Dk(ts,os),ns===1&&K$1===0&&!(rs.mode&1)&&(Gj=B$1()+500,fg&&jg()))}function Dk(ts,rs){var ns=ts.callbackNode;wc(ts,rs);var os=uc(ts,ts===Q$1?Z$1:0);if(os===0)ns!==null&&bc(ns),ts.callbackNode=null,ts.callbackPriority=0;else if(rs=os&-os,ts.callbackPriority!==rs){if(ns!=null&&bc(ns),rs===1)ts.tag===0?ig(Ek.bind(null,ts)):hg(Ek.bind(null,ts)),Jf(function(){!(K$1&6)&&jg()}),ns=null;else{switch(Dc(os)){case 1:ns=fc;break;case 4:ns=gc;break;case 16:ns=hc;break;case 536870912:ns=jc;break;default:ns=hc}ns=Fk(ns,Gk.bind(null,ts))}ts.callbackPriority=rs,ts.callbackNode=ns}}function Gk(ts,rs){if(Ak=-1,Bk=0,K$1&6)throw Error(p$5(327));var ns=ts.callbackNode;if(Hk()&&ts.callbackNode!==ns)return null;var os=uc(ts,ts===Q$1?Z$1:0);if(os===0)return null;if(os&30||os&ts.expiredLanes||rs)rs=Ik(ts,os);else{rs=os;var ss=K$1;K$1|=2;var as=Jk();(Q$1!==ts||Z$1!==rs)&&(uk=null,Gj=B$1()+500,Kk(ts,rs));do try{Lk();break}catch(cs){Mk(ts,cs)}while(1);$g(),mk.current=as,K$1=ss,Y$1!==null?rs=0:(Q$1=null,Z$1=0,rs=T$1)}if(rs!==0){if(rs===2&&(ss=xc(ts),ss!==0&&(os=ss,rs=Nk(ts,ss))),rs===1)throw ns=pk,Kk(ts,0),Ck(ts,os),Dk(ts,B$1()),ns;if(rs===6)Ck(ts,os);else{if(ss=ts.current.alternate,!(os&30)&&!Ok(ss)&&(rs=Ik(ts,os),rs===2&&(as=xc(ts),as!==0&&(os=as,rs=Nk(ts,as))),rs===1))throw ns=pk,Kk(ts,0),Ck(ts,os),Dk(ts,B$1()),ns;switch(ts.finishedWork=ss,ts.finishedLanes=os,rs){case 0:case 1:throw Error(p$5(345));case 2:Pk(ts,tk,uk);break;case 3:if(Ck(ts,os),(os&130023424)===os&&(rs=fk+500-B$1(),10<rs)){if(uc(ts,0)!==0)break;if(ss=ts.suspendedLanes,(ss&os)!==os){R(),ts.pingedLanes|=ts.suspendedLanes&ss;break}ts.timeoutHandle=Ff(Pk.bind(null,ts,tk,uk),rs);break}Pk(ts,tk,uk);break;case 4:if(Ck(ts,os),(os&4194240)===os)break;for(rs=ts.eventTimes,ss=-1;0<os;){var ls=31-oc(os);as=1<<ls,ls=rs[ls],ls>ss&&(ss=ls),os&=~as}if(os=ss,os=B$1()-os,os=(120>os?120:480>os?480:1080>os?1080:1920>os?1920:3e3>os?3e3:4320>os?4320:1960*lk(os/1960))-os,10<os){ts.timeoutHandle=Ff(Pk.bind(null,ts,tk,uk),os);break}Pk(ts,tk,uk);break;case 5:Pk(ts,tk,uk);break;default:throw Error(p$5(329))}}}return Dk(ts,B$1()),ts.callbackNode===ns?Gk.bind(null,ts):null}function Nk(ts,rs){var ns=sk;return ts.current.memoizedState.isDehydrated&&(Kk(ts,rs).flags|=256),ts=Ik(ts,rs),ts!==2&&(rs=tk,tk=ns,rs!==null&&Fj(rs)),ts}function Fj(ts){tk===null?tk=ts:tk.push.apply(tk,ts)}function Ok(ts){for(var rs=ts;;){if(rs.flags&16384){var ns=rs.updateQueue;if(ns!==null&&(ns=ns.stores,ns!==null))for(var os=0;os<ns.length;os++){var ss=ns[os],as=ss.getSnapshot;ss=ss.value;try{if(!He$1(as(),ss))return!1}catch{return!1}}}if(ns=rs.child,rs.subtreeFlags&16384&&ns!==null)ns.return=rs,rs=ns;else{if(rs===ts)break;for(;rs.sibling===null;){if(rs.return===null||rs.return===ts)return!0;rs=rs.return}rs.sibling.return=rs.return,rs=rs.sibling}}return!0}function Ck(ts,rs){for(rs&=~rk,rs&=~qk,ts.suspendedLanes|=rs,ts.pingedLanes&=~rs,ts=ts.expirationTimes;0<rs;){var ns=31-oc(rs),os=1<<ns;ts[ns]=-1,rs&=~os}}function Ek(ts){if(K$1&6)throw Error(p$5(327));Hk();var rs=uc(ts,0);if(!(rs&1))return Dk(ts,B$1()),null;var ns=Ik(ts,rs);if(ts.tag!==0&&ns===2){var os=xc(ts);os!==0&&(rs=os,ns=Nk(ts,os))}if(ns===1)throw ns=pk,Kk(ts,0),Ck(ts,rs),Dk(ts,B$1()),ns;if(ns===6)throw Error(p$5(345));return ts.finishedWork=ts.current.alternate,ts.finishedLanes=rs,Pk(ts,tk,uk),Dk(ts,B$1()),null}function Qk(ts,rs){var ns=K$1;K$1|=1;try{return ts(rs)}finally{K$1=ns,K$1===0&&(Gj=B$1()+500,fg&&jg())}}function Rk(ts){wk!==null&&wk.tag===0&&!(K$1&6)&&Hk();var rs=K$1;K$1|=1;var ns=ok.transition,os=C$1;try{if(ok.transition=null,C$1=1,ts)return ts()}finally{C$1=os,ok.transition=ns,K$1=rs,!(K$1&6)&&jg()}}function Hj(){fj=ej.current,E$1(ej)}function Kk(ts,rs){ts.finishedWork=null,ts.finishedLanes=0;var ns=ts.timeoutHandle;if(ns!==-1&&(ts.timeoutHandle=-1,Gf(ns)),Y$1!==null)for(ns=Y$1.return;ns!==null;){var os=ns;switch(wg(os),os.tag){case 1:os=os.type.childContextTypes,os!=null&&$f();break;case 3:zh(),E$1(Wf),E$1(H$1),Eh();break;case 5:Bh(os);break;case 4:zh();break;case 13:E$1(L$1);break;case 19:E$1(L$1);break;case 10:ah(os.type._context);break;case 22:case 23:Hj()}ns=ns.return}if(Q$1=ts,Y$1=ts=Pg(ts.current,null),Z$1=fj=rs,T$1=0,pk=null,rk=qk=rh=0,tk=sk=null,fh!==null){for(rs=0;rs<fh.length;rs++)if(ns=fh[rs],os=ns.interleaved,os!==null){ns.interleaved=null;var ss=os.next,as=ns.pending;if(as!==null){var ls=as.next;as.next=ss,os.next=ls}ns.pending=os}fh=null}return ts}function Mk(ts,rs){do{var ns=Y$1;try{if($g(),Fh.current=Rh,Ih){for(var os=M$1.memoizedState;os!==null;){var ss=os.queue;ss!==null&&(ss.pending=null),os=os.next}Ih=!1}if(Hh=0,O=N$1=M$1=null,Jh=!1,Kh=0,nk.current=null,ns===null||ns.return===null){T$1=1,pk=rs,Y$1=null;break}e:{var as=ts,ls=ns.return,cs=ns,us=rs;if(rs=Z$1,cs.flags|=32768,us!==null&&typeof us=="object"&&typeof us.then=="function"){var ds=us,ps=cs,fs=ps.tag;if(!(ps.mode&1)&&(fs===0||fs===11||fs===15)){var hs=ps.alternate;hs?(ps.updateQueue=hs.updateQueue,ps.memoizedState=hs.memoizedState,ps.lanes=hs.lanes):(ps.updateQueue=null,ps.memoizedState=null)}var ms=Ui(ls);if(ms!==null){ms.flags&=-257,Vi(ms,ls,cs,as,rs),ms.mode&1&&Si(as,ds,rs),rs=ms,us=ds;var gs=rs.updateQueue;if(gs===null){var vs=new Set;vs.add(us),rs.updateQueue=vs}else gs.add(us);break e}else{if(!(rs&1)){Si(as,ds,rs),tj();break e}us=Error(p$5(426))}}else if(I$1&&cs.mode&1){var bs=Ui(ls);if(bs!==null){!(bs.flags&65536)&&(bs.flags|=256),Vi(bs,ls,cs,as,rs),Jg(Ji(us,cs));break e}}as=us=Ji(us,cs),T$1!==4&&(T$1=2),sk===null?sk=[as]:sk.push(as),as=ls;do{switch(as.tag){case 3:as.flags|=65536,rs&=-rs,as.lanes|=rs;var xs=Ni(as,us,rs);ph(as,xs);break e;case 1:cs=us;var ys=as.type,Ss=as.stateNode;if(!(as.flags&128)&&(typeof ys.getDerivedStateFromError=="function"||Ss!==null&&typeof Ss.componentDidCatch=="function"&&(Ri===null||!Ri.has(Ss)))){as.flags|=65536,rs&=-rs,as.lanes|=rs;var Cs=Qi(as,cs,rs);ph(as,Cs);break e}}as=as.return}while(as!==null)}Sk(ns)}catch($s){rs=$s,Y$1===ns&&ns!==null&&(Y$1=ns=ns.return);continue}break}while(1)}function Jk(){var ts=mk.current;return mk.current=Rh,ts===null?Rh:ts}function tj(){(T$1===0||T$1===3||T$1===2)&&(T$1=4),Q$1===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q$1,Z$1)}function Ik(ts,rs){var ns=K$1;K$1|=2;var os=Jk();(Q$1!==ts||Z$1!==rs)&&(uk=null,Kk(ts,rs));do try{Tk();break}catch(ss){Mk(ts,ss)}while(1);if($g(),K$1=ns,mk.current=os,Y$1!==null)throw Error(p$5(261));return Q$1=null,Z$1=0,T$1}function Tk(){for(;Y$1!==null;)Uk(Y$1)}function Lk(){for(;Y$1!==null&&!cc();)Uk(Y$1)}function Uk(ts){var rs=Vk(ts.alternate,ts,fj);ts.memoizedProps=ts.pendingProps,rs===null?Sk(ts):Y$1=rs,nk.current=null}function Sk(ts){var rs=ts;do{var ns=rs.alternate;if(ts=rs.return,rs.flags&32768){if(ns=Ij(ns,rs),ns!==null){ns.flags&=32767,Y$1=ns;return}if(ts!==null)ts.flags|=32768,ts.subtreeFlags=0,ts.deletions=null;else{T$1=6,Y$1=null;return}}else if(ns=Ej(ns,rs,fj),ns!==null){Y$1=ns;return}if(rs=rs.sibling,rs!==null){Y$1=rs;return}Y$1=rs=ts}while(rs!==null);T$1===0&&(T$1=5)}function Pk(ts,rs,ns){var os=C$1,ss=ok.transition;try{ok.transition=null,C$1=1,Wk(ts,rs,ns,os)}finally{ok.transition=ss,C$1=os}return null}function Wk(ts,rs,ns,os){do Hk();while(wk!==null);if(K$1&6)throw Error(p$5(327));ns=ts.finishedWork;var ss=ts.finishedLanes;if(ns===null)return null;if(ts.finishedWork=null,ts.finishedLanes=0,ns===ts.current)throw Error(p$5(177));ts.callbackNode=null,ts.callbackPriority=0;var as=ns.lanes|ns.childLanes;if(Bc(ts,as),ts===Q$1&&(Y$1=Q$1=null,Z$1=0),!(ns.subtreeFlags&2064)&&!(ns.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),as=(ns.flags&15990)!==0,ns.subtreeFlags&15990||as){as=ok.transition,ok.transition=null;var ls=C$1;C$1=1;var cs=K$1;K$1|=4,nk.current=null,Oj(ts,ns),dk(ns,ts),Oe$1(Df),dd=!!Cf,Df=Cf=null,ts.current=ns,hk(ns),dc(),K$1=cs,C$1=ls,ok.transition=as}else ts.current=ns;if(vk&&(vk=!1,wk=ts,xk=ss),as=ts.pendingLanes,as===0&&(Ri=null),mc(ns.stateNode),Dk(ts,B$1()),rs!==null)for(os=ts.onRecoverableError,ns=0;ns<rs.length;ns++)ss=rs[ns],os(ss.value,{componentStack:ss.stack,digest:ss.digest});if(Oi)throw Oi=!1,ts=Pi,Pi=null,ts;return xk&1&&ts.tag!==0&&Hk(),as=ts.pendingLanes,as&1?ts===zk?yk++:(yk=0,zk=ts):yk=0,jg(),null}function Hk(){if(wk!==null){var ts=Dc(xk),rs=ok.transition,ns=C$1;try{if(ok.transition=null,C$1=16>ts?16:ts,wk===null)var os=!1;else{if(ts=wk,wk=null,xk=0,K$1&6)throw Error(p$5(331));var ss=K$1;for(K$1|=4,V$1=ts.current;V$1!==null;){var as=V$1,ls=as.child;if(V$1.flags&16){var cs=as.deletions;if(cs!==null){for(var us=0;us<cs.length;us++){var ds=cs[us];for(V$1=ds;V$1!==null;){var ps=V$1;switch(ps.tag){case 0:case 11:case 15:Pj(8,ps,as)}var fs=ps.child;if(fs!==null)fs.return=ps,V$1=fs;else for(;V$1!==null;){ps=V$1;var hs=ps.sibling,ms=ps.return;if(Sj(ps),ps===ds){V$1=null;break}if(hs!==null){hs.return=ms,V$1=hs;break}V$1=ms}}}var gs=as.alternate;if(gs!==null){var vs=gs.child;if(vs!==null){gs.child=null;do{var bs=vs.sibling;vs.sibling=null,vs=bs}while(vs!==null)}}V$1=as}}if(as.subtreeFlags&2064&&ls!==null)ls.return=as,V$1=ls;else e:for(;V$1!==null;){if(as=V$1,as.flags&2048)switch(as.tag){case 0:case 11:case 15:Pj(9,as,as.return)}var xs=as.sibling;if(xs!==null){xs.return=as.return,V$1=xs;break e}V$1=as.return}}var ys=ts.current;for(V$1=ys;V$1!==null;){ls=V$1;var Ss=ls.child;if(ls.subtreeFlags&2064&&Ss!==null)Ss.return=ls,V$1=Ss;else e:for(ls=ys;V$1!==null;){if(cs=V$1,cs.flags&2048)try{switch(cs.tag){case 0:case 11:case 15:Qj(9,cs)}}catch($s){W$1(cs,cs.return,$s)}if(cs===ls){V$1=null;break e}var Cs=cs.sibling;if(Cs!==null){Cs.return=cs.return,V$1=Cs;break e}V$1=cs.return}}if(K$1=ss,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,ts)}catch{}os=!0}return os}finally{C$1=ns,ok.transition=rs}}return!1}function Xk(ts,rs,ns){rs=Ji(ns,rs),rs=Ni(ts,rs,1),ts=nh(ts,rs,1),rs=R(),ts!==null&&(Ac(ts,1,rs),Dk(ts,rs))}function W$1(ts,rs,ns){if(ts.tag===3)Xk(ts,ts,ns);else for(;rs!==null;){if(rs.tag===3){Xk(rs,ts,ns);break}else if(rs.tag===1){var os=rs.stateNode;if(typeof rs.type.getDerivedStateFromError=="function"||typeof os.componentDidCatch=="function"&&(Ri===null||!Ri.has(os))){ts=Ji(ns,ts),ts=Qi(rs,ts,1),rs=nh(rs,ts,1),ts=R(),rs!==null&&(Ac(rs,1,ts),Dk(rs,ts));break}}rs=rs.return}}function Ti(ts,rs,ns){var os=ts.pingCache;os!==null&&os.delete(rs),rs=R(),ts.pingedLanes|=ts.suspendedLanes&ns,Q$1===ts&&(Z$1&ns)===ns&&(T$1===4||T$1===3&&(Z$1&130023424)===Z$1&&500>B$1()-fk?Kk(ts,0):rk|=ns),Dk(ts,rs)}function Yk(ts,rs){rs===0&&(ts.mode&1?(rs=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):rs=1);var ns=R();ts=ih(ts,rs),ts!==null&&(Ac(ts,rs,ns),Dk(ts,ns))}function uj(ts){var rs=ts.memoizedState,ns=0;rs!==null&&(ns=rs.retryLane),Yk(ts,ns)}function bk(ts,rs){var ns=0;switch(ts.tag){case 13:var os=ts.stateNode,ss=ts.memoizedState;ss!==null&&(ns=ss.retryLane);break;case 19:os=ts.stateNode;break;default:throw Error(p$5(314))}os!==null&&os.delete(rs),Yk(ts,ns)}var Vk;Vk=function(ts,rs,ns){if(ts!==null)if(ts.memoizedProps!==rs.pendingProps||Wf.current)dh=!0;else{if(!(ts.lanes&ns)&&!(rs.flags&128))return dh=!1,yj(ts,rs,ns);dh=!!(ts.flags&131072)}else dh=!1,I$1&&rs.flags&1048576&&ug(rs,ng,rs.index);switch(rs.lanes=0,rs.tag){case 2:var os=rs.type;ij(ts,rs),ts=rs.pendingProps;var ss=Yf(rs,H$1.current);ch(rs,ns),ss=Nh(null,rs,os,ts,ss,ns);var as=Sh();return rs.flags|=1,typeof ss=="object"&&ss!==null&&typeof ss.render=="function"&&ss.$$typeof===void 0?(rs.tag=1,rs.memoizedState=null,rs.updateQueue=null,Zf(os)?(as=!0,cg(rs)):as=!1,rs.memoizedState=ss.state!==null&&ss.state!==void 0?ss.state:null,kh(rs),ss.updater=Ei,rs.stateNode=ss,ss._reactInternals=rs,Ii(rs,os,ts,ns),rs=jj(null,rs,os,!0,as,ns)):(rs.tag=0,I$1&&as&&vg(rs),Xi(null,rs,ss,ns),rs=rs.child),rs;case 16:os=rs.elementType;e:{switch(ij(ts,rs),ts=rs.pendingProps,ss=os._init,os=ss(os._payload),rs.type=os,ss=rs.tag=Zk(os),ts=Ci(os,ts),ss){case 0:rs=cj(null,rs,os,ts,ns);break e;case 1:rs=hj(null,rs,os,ts,ns);break e;case 11:rs=Yi(null,rs,os,ts,ns);break e;case 14:rs=$i(null,rs,os,Ci(os.type,ts),ns);break e}throw Error(p$5(306,os,""))}return rs;case 0:return os=rs.type,ss=rs.pendingProps,ss=rs.elementType===os?ss:Ci(os,ss),cj(ts,rs,os,ss,ns);case 1:return os=rs.type,ss=rs.pendingProps,ss=rs.elementType===os?ss:Ci(os,ss),hj(ts,rs,os,ss,ns);case 3:e:{if(kj(rs),ts===null)throw Error(p$5(387));os=rs.pendingProps,as=rs.memoizedState,ss=as.element,lh(ts,rs),qh(rs,os,null,ns);var ls=rs.memoizedState;if(os=ls.element,as.isDehydrated)if(as={element:os,isDehydrated:!1,cache:ls.cache,pendingSuspenseBoundaries:ls.pendingSuspenseBoundaries,transitions:ls.transitions},rs.updateQueue.baseState=as,rs.memoizedState=as,rs.flags&256){ss=Ji(Error(p$5(423)),rs),rs=lj(ts,rs,os,ns,ss);break e}else if(os!==ss){ss=Ji(Error(p$5(424)),rs),rs=lj(ts,rs,os,ns,ss);break e}else for(yg=Lf(rs.stateNode.containerInfo.firstChild),xg=rs,I$1=!0,zg=null,ns=Vg(rs,null,os,ns),rs.child=ns;ns;)ns.flags=ns.flags&-3|4096,ns=ns.sibling;else{if(Ig(),os===ss){rs=Zi(ts,rs,ns);break e}Xi(ts,rs,os,ns)}rs=rs.child}return rs;case 5:return Ah(rs),ts===null&&Eg(rs),os=rs.type,ss=rs.pendingProps,as=ts!==null?ts.memoizedProps:null,ls=ss.children,Ef(os,ss)?ls=null:as!==null&&Ef(os,as)&&(rs.flags|=32),gj(ts,rs),Xi(ts,rs,ls,ns),rs.child;case 6:return ts===null&&Eg(rs),null;case 13:return oj(ts,rs,ns);case 4:return yh(rs,rs.stateNode.containerInfo),os=rs.pendingProps,ts===null?rs.child=Ug(rs,null,os,ns):Xi(ts,rs,os,ns),rs.child;case 11:return os=rs.type,ss=rs.pendingProps,ss=rs.elementType===os?ss:Ci(os,ss),Yi(ts,rs,os,ss,ns);case 7:return Xi(ts,rs,rs.pendingProps,ns),rs.child;case 8:return Xi(ts,rs,rs.pendingProps.children,ns),rs.child;case 12:return Xi(ts,rs,rs.pendingProps.children,ns),rs.child;case 10:e:{if(os=rs.type._context,ss=rs.pendingProps,as=rs.memoizedProps,ls=ss.value,G$1(Wg,os._currentValue),os._currentValue=ls,as!==null)if(He$1(as.value,ls)){if(as.children===ss.children&&!Wf.current){rs=Zi(ts,rs,ns);break e}}else for(as=rs.child,as!==null&&(as.return=rs);as!==null;){var cs=as.dependencies;if(cs!==null){ls=as.child;for(var us=cs.firstContext;us!==null;){if(us.context===os){if(as.tag===1){us=mh(-1,ns&-ns),us.tag=2;var ds=as.updateQueue;if(ds!==null){ds=ds.shared;var ps=ds.pending;ps===null?us.next=us:(us.next=ps.next,ps.next=us),ds.pending=us}}as.lanes|=ns,us=as.alternate,us!==null&&(us.lanes|=ns),bh(as.return,ns,rs),cs.lanes|=ns;break}us=us.next}}else if(as.tag===10)ls=as.type===rs.type?null:as.child;else if(as.tag===18){if(ls=as.return,ls===null)throw Error(p$5(341));ls.lanes|=ns,cs=ls.alternate,cs!==null&&(cs.lanes|=ns),bh(ls,ns,rs),ls=as.sibling}else ls=as.child;if(ls!==null)ls.return=as;else for(ls=as;ls!==null;){if(ls===rs){ls=null;break}if(as=ls.sibling,as!==null){as.return=ls.return,ls=as;break}ls=ls.return}as=ls}Xi(ts,rs,ss.children,ns),rs=rs.child}return rs;case 9:return ss=rs.type,os=rs.pendingProps.children,ch(rs,ns),ss=eh(ss),os=os(ss),rs.flags|=1,Xi(ts,rs,os,ns),rs.child;case 14:return os=rs.type,ss=Ci(os,rs.pendingProps),ss=Ci(os.type,ss),$i(ts,rs,os,ss,ns);case 15:return bj(ts,rs,rs.type,rs.pendingProps,ns);case 17:return os=rs.type,ss=rs.pendingProps,ss=rs.elementType===os?ss:Ci(os,ss),ij(ts,rs),rs.tag=1,Zf(os)?(ts=!0,cg(rs)):ts=!1,ch(rs,ns),Gi(rs,os,ss),Ii(rs,os,ss,ns),jj(null,rs,os,!0,ts,ns);case 19:return xj(ts,rs,ns);case 22:return dj(ts,rs,ns)}throw Error(p$5(156,rs.tag))};function Fk(ts,rs){return ac(ts,rs)}function $k(ts,rs,ns,os){this.tag=ts,this.key=ns,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=rs,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=os,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(ts,rs,ns,os){return new $k(ts,rs,ns,os)}function aj(ts){return ts=ts.prototype,!(!ts||!ts.isReactComponent)}function Zk(ts){if(typeof ts=="function")return aj(ts)?1:0;if(ts!=null){if(ts=ts.$$typeof,ts===Da)return 11;if(ts===Ga)return 14}return 2}function Pg(ts,rs){var ns=ts.alternate;return ns===null?(ns=Bg(ts.tag,rs,ts.key,ts.mode),ns.elementType=ts.elementType,ns.type=ts.type,ns.stateNode=ts.stateNode,ns.alternate=ts,ts.alternate=ns):(ns.pendingProps=rs,ns.type=ts.type,ns.flags=0,ns.subtreeFlags=0,ns.deletions=null),ns.flags=ts.flags&14680064,ns.childLanes=ts.childLanes,ns.lanes=ts.lanes,ns.child=ts.child,ns.memoizedProps=ts.memoizedProps,ns.memoizedState=ts.memoizedState,ns.updateQueue=ts.updateQueue,rs=ts.dependencies,ns.dependencies=rs===null?null:{lanes:rs.lanes,firstContext:rs.firstContext},ns.sibling=ts.sibling,ns.index=ts.index,ns.ref=ts.ref,ns}function Rg(ts,rs,ns,os,ss,as){var ls=2;if(os=ts,typeof ts=="function")aj(ts)&&(ls=1);else if(typeof ts=="string")ls=5;else e:switch(ts){case ya:return Tg(ns.children,ss,as,rs);case za:ls=8,ss|=8;break;case Aa:return ts=Bg(12,ns,rs,ss|2),ts.elementType=Aa,ts.lanes=as,ts;case Ea:return ts=Bg(13,ns,rs,ss),ts.elementType=Ea,ts.lanes=as,ts;case Fa:return ts=Bg(19,ns,rs,ss),ts.elementType=Fa,ts.lanes=as,ts;case Ia:return pj(ns,ss,as,rs);default:if(typeof ts=="object"&&ts!==null)switch(ts.$$typeof){case Ba:ls=10;break e;case Ca:ls=9;break e;case Da:ls=11;break e;case Ga:ls=14;break e;case Ha:ls=16,os=null;break e}throw Error(p$5(130,ts==null?ts:typeof ts,""))}return rs=Bg(ls,ns,rs,ss),rs.elementType=ts,rs.type=os,rs.lanes=as,rs}function Tg(ts,rs,ns,os){return ts=Bg(7,ts,os,rs),ts.lanes=ns,ts}function pj(ts,rs,ns,os){return ts=Bg(22,ts,os,rs),ts.elementType=Ia,ts.lanes=ns,ts.stateNode={isHidden:!1},ts}function Qg(ts,rs,ns){return ts=Bg(6,ts,null,rs),ts.lanes=ns,ts}function Sg(ts,rs,ns){return rs=Bg(4,ts.children!==null?ts.children:[],ts.key,rs),rs.lanes=ns,rs.stateNode={containerInfo:ts.containerInfo,pendingChildren:null,implementation:ts.implementation},rs}function al(ts,rs,ns,os,ss){this.tag=rs,this.containerInfo=ts,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=os,this.onRecoverableError=ss,this.mutableSourceEagerHydrationData=null}function bl(ts,rs,ns,os,ss,as,ls,cs,us){return ts=new al(ts,rs,ns,cs,us),rs===1?(rs=1,as===!0&&(rs|=8)):rs=0,as=Bg(3,null,null,rs),ts.current=as,as.stateNode=ts,as.memoizedState={element:os,isDehydrated:ns,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(as),ts}function cl(ts,rs,ns){var os=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:os==null?null:""+os,children:ts,containerInfo:rs,implementation:ns}}function dl(ts){if(!ts)return Vf;ts=ts._reactInternals;e:{if(Vb(ts)!==ts||ts.tag!==1)throw Error(p$5(170));var rs=ts;do{switch(rs.tag){case 3:rs=rs.stateNode.context;break e;case 1:if(Zf(rs.type)){rs=rs.stateNode.__reactInternalMemoizedMergedChildContext;break e}}rs=rs.return}while(rs!==null);throw Error(p$5(171))}if(ts.tag===1){var ns=ts.type;if(Zf(ns))return bg(ts,ns,rs)}return rs}function el(ts,rs,ns,os,ss,as,ls,cs,us){return ts=bl(ns,os,!0,ts,ss,as,ls,cs,us),ts.context=dl(null),ns=ts.current,os=R(),ss=yi(ns),as=mh(os,ss),as.callback=rs!=null?rs:null,nh(ns,as,ss),ts.current.lanes=ss,Ac(ts,ss,os),Dk(ts,os),ts}function fl(ts,rs,ns,os){var ss=rs.current,as=R(),ls=yi(ss);return ns=dl(ns),rs.context===null?rs.context=ns:rs.pendingContext=ns,rs=mh(as,ls),rs.payload={element:ts},os=os===void 0?null:os,os!==null&&(rs.callback=os),ts=nh(ss,rs,ls),ts!==null&&(gi(ts,ss,ls,as),oh(ts,ss,ls)),ls}function gl(ts){if(ts=ts.current,!ts.child)return null;switch(ts.child.tag){case 5:return ts.child.stateNode;default:return ts.child.stateNode}}function hl(ts,rs){if(ts=ts.memoizedState,ts!==null&&ts.dehydrated!==null){var ns=ts.retryLane;ts.retryLane=ns!==0&&ns<rs?ns:rs}}function il(ts,rs){hl(ts,rs),(ts=ts.alternate)&&hl(ts,rs)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(ts){console.error(ts)};function ll(ts){this._internalRoot=ts}ml.prototype.render=ll.prototype.render=function(ts){var rs=this._internalRoot;if(rs===null)throw Error(p$5(409));fl(ts,rs,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var ts=this._internalRoot;if(ts!==null){this._internalRoot=null;var rs=ts.containerInfo;Rk(function(){fl(null,ts,null,null)}),rs[uf]=null}};function ml(ts){this._internalRoot=ts}ml.prototype.unstable_scheduleHydration=function(ts){if(ts){var rs=Hc();ts={blockedOn:null,target:ts,priority:rs};for(var ns=0;ns<Qc.length&&rs!==0&&rs<Qc[ns].priority;ns++);Qc.splice(ns,0,ts),ns===0&&Vc(ts)}};function nl(ts){return!(!ts||ts.nodeType!==1&&ts.nodeType!==9&&ts.nodeType!==11)}function ol(ts){return!(!ts||ts.nodeType!==1&&ts.nodeType!==9&&ts.nodeType!==11&&(ts.nodeType!==8||ts.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(ts,rs,ns,os,ss){if(ss){if(typeof os=="function"){var as=os;os=function(){var ds=gl(ls);as.call(ds)}}var ls=el(rs,os,ts,0,null,!1,!1,"",pl);return ts._reactRootContainer=ls,ts[uf]=ls.current,sf(ts.nodeType===8?ts.parentNode:ts),Rk(),ls}for(;ss=ts.lastChild;)ts.removeChild(ss);if(typeof os=="function"){var cs=os;os=function(){var ds=gl(us);cs.call(ds)}}var us=bl(ts,0,!1,null,null,!1,!1,"",pl);return ts._reactRootContainer=us,ts[uf]=us.current,sf(ts.nodeType===8?ts.parentNode:ts),Rk(function(){fl(rs,us,ns,os)}),us}function rl(ts,rs,ns,os,ss){var as=ns._reactRootContainer;if(as){var ls=as;if(typeof ss=="function"){var cs=ss;ss=function(){var us=gl(ls);cs.call(us)}}fl(rs,ls,ts,ss)}else ls=ql(ns,rs,ts,ss,os);return gl(ls)}Ec=function(ts){switch(ts.tag){case 3:var rs=ts.stateNode;if(rs.current.memoizedState.isDehydrated){var ns=tc(rs.pendingLanes);ns!==0&&(Cc(rs,ns|1),Dk(rs,B$1()),!(K$1&6)&&(Gj=B$1()+500,jg()))}break;case 13:Rk(function(){var os=ih(ts,1);if(os!==null){var ss=R();gi(os,ts,1,ss)}}),il(ts,1)}};Fc=function(ts){if(ts.tag===13){var rs=ih(ts,134217728);if(rs!==null){var ns=R();gi(rs,ts,134217728,ns)}il(ts,134217728)}};Gc=function(ts){if(ts.tag===13){var rs=yi(ts),ns=ih(ts,rs);if(ns!==null){var os=R();gi(ns,ts,rs,os)}il(ts,rs)}};Hc=function(){return C$1};Ic=function(ts,rs){var ns=C$1;try{return C$1=ts,rs()}finally{C$1=ns}};yb=function(ts,rs,ns){switch(rs){case"input":if(bb(ts,ns),rs=ns.name,ns.type==="radio"&&rs!=null){for(ns=ts;ns.parentNode;)ns=ns.parentNode;for(ns=ns.querySelectorAll("input[name="+JSON.stringify(""+rs)+'][type="radio"]'),rs=0;rs<ns.length;rs++){var os=ns[rs];if(os!==ts&&os.form===ts.form){var ss=Db(os);if(!ss)throw Error(p$5(90));Wa(os),bb(os,ss)}}}break;case"textarea":ib(ts,ns);break;case"select":rs=ns.value,rs!=null&&fb(ts,!!ns.multiple,rs,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(ts){return ts=Zb(ts),ts===null?null:ts.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function(ts,rs){var ns=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl(rs))throw Error(p$5(200));return cl(ts,rs,null,ns)};reactDom_production_min.createRoot=function(ts,rs){if(!nl(ts))throw Error(p$5(299));var ns=!1,os="",ss=kl;return rs!=null&&(rs.unstable_strictMode===!0&&(ns=!0),rs.identifierPrefix!==void 0&&(os=rs.identifierPrefix),rs.onRecoverableError!==void 0&&(ss=rs.onRecoverableError)),rs=bl(ts,1,!1,null,null,ns,!1,os,ss),ts[uf]=rs.current,sf(ts.nodeType===8?ts.parentNode:ts),new ll(rs)};reactDom_production_min.findDOMNode=function(ts){if(ts==null)return null;if(ts.nodeType===1)return ts;var rs=ts._reactInternals;if(rs===void 0)throw typeof ts.render=="function"?Error(p$5(188)):(ts=Object.keys(ts).join(","),Error(p$5(268,ts)));return ts=Zb(rs),ts=ts===null?null:ts.stateNode,ts};reactDom_production_min.flushSync=function(ts){return Rk(ts)};reactDom_production_min.hydrate=function(ts,rs,ns){if(!ol(rs))throw Error(p$5(200));return rl(null,ts,rs,!0,ns)};reactDom_production_min.hydrateRoot=function(ts,rs,ns){if(!nl(ts))throw Error(p$5(405));var os=ns!=null&&ns.hydratedSources||null,ss=!1,as="",ls=kl;if(ns!=null&&(ns.unstable_strictMode===!0&&(ss=!0),ns.identifierPrefix!==void 0&&(as=ns.identifierPrefix),ns.onRecoverableError!==void 0&&(ls=ns.onRecoverableError)),rs=el(rs,null,ts,1,ns!=null?ns:null,ss,!1,as,ls),ts[uf]=rs.current,sf(ts),os)for(ts=0;ts<os.length;ts++)ns=os[ts],ss=ns._getVersion,ss=ss(ns._source),rs.mutableSourceEagerHydrationData==null?rs.mutableSourceEagerHydrationData=[ns,ss]:rs.mutableSourceEagerHydrationData.push(ns,ss);return new ml(rs)};reactDom_production_min.render=function(ts,rs,ns){if(!ol(rs))throw Error(p$5(200));return rl(null,ts,rs,!1,ns)};reactDom_production_min.unmountComponentAtNode=function(ts){if(!ol(ts))throw Error(p$5(40));return ts._reactRootContainer?(Rk(function(){rl(null,null,ts,!1,function(){ts._reactRootContainer=null,ts[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(ts,rs,ns,os){if(!ol(ns))throw Error(p$5(200));if(ts==null||ts._reactInternals===void 0)throw Error(p$5(38));return rl(ts,rs,ns,!1,os)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(ts){console.error(ts)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports;const ReactDOM__default=getDefaultExportFromCjs(reactDomExports);var m$5=reactDomExports;client.createRoot=m$5.createRoot,client.hydrateRoot=m$5.hydrateRoot;function _setPrototypeOf(ts,rs){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ns,os){return ns.__proto__=os,ns},_setPrototypeOf(ts,rs)}function _inheritsLoose(ts,rs){ts.prototype=Object.create(rs.prototype),ts.prototype.constructor=ts,_setPrototypeOf(ts,rs)}var Subscribable=function(){function ts(){this.listeners=[]}var rs=ts.prototype;return rs.subscribe=function(os){var ss=this,as=os||function(){};return this.listeners.push(as),this.onSubscribe(),function(){ss.listeners=ss.listeners.filter(function(ls){return ls!==as}),ss.onUnsubscribe()}},rs.hasListeners=function(){return this.listeners.length>0},rs.onSubscribe=function(){},rs.onUnsubscribe=function(){},ts}();function _extends$5(){return _extends$5=Object.assign?Object.assign.bind():function(ts){for(var rs=1;rs<arguments.length;rs++){var ns=arguments[rs];for(var os in ns)({}).hasOwnProperty.call(ns,os)&&(ts[os]=ns[os])}return ts},_extends$5.apply(null,arguments)}var isServer=typeof window>"u";function noop$7(){}function functionalUpdate(ts,rs){return typeof ts=="function"?ts(rs):ts}function isValidTimeout(ts){return typeof ts=="number"&&ts>=0&&ts!==1/0}function ensureQueryKeyArray(ts){return Array.isArray(ts)?ts:[ts]}function timeUntilStale(ts,rs){return Math.max(ts+(rs||0)-Date.now(),0)}function parseQueryArgs(ts,rs,ns){return isQueryKey(ts)?typeof rs=="function"?_extends$5({},ns,{queryKey:ts,queryFn:rs}):_extends$5({},rs,{queryKey:ts}):ts}function parseMutationArgs(ts,rs,ns){return isQueryKey(ts)?typeof rs=="function"?_extends$5({},ns,{mutationKey:ts,mutationFn:rs}):_extends$5({},rs,{mutationKey:ts}):typeof ts=="function"?_extends$5({},rs,{mutationFn:ts}):_extends$5({},ts)}function parseFilterArgs(ts,rs,ns){return isQueryKey(ts)?[_extends$5({},rs,{queryKey:ts}),ns]:[ts||{},rs]}function mapQueryStatusFilter(ts,rs){if(ts===!0&&rs===!0||ts==null&&rs==null)return"all";if(ts===!1&&rs===!1)return"none";var ns=ts!=null?ts:!rs;return ns?"active":"inactive"}function matchQuery(ts,rs){var ns=ts.active,os=ts.exact,ss=ts.fetching,as=ts.inactive,ls=ts.predicate,cs=ts.queryKey,us=ts.stale;if(isQueryKey(cs)){if(os){if(rs.queryHash!==hashQueryKeyByOptions(cs,rs.options))return!1}else if(!partialMatchKey(rs.queryKey,cs))return!1}var ds=mapQueryStatusFilter(ns,as);if(ds==="none")return!1;if(ds!=="all"){var ps=rs.isActive();if(ds==="active"&&!ps||ds==="inactive"&&ps)return!1}return!(typeof us=="boolean"&&rs.isStale()!==us||typeof ss=="boolean"&&rs.isFetching()!==ss||ls&&!ls(rs))}function matchMutation(ts,rs){var ns=ts.exact,os=ts.fetching,ss=ts.predicate,as=ts.mutationKey;if(isQueryKey(as)){if(!rs.options.mutationKey)return!1;if(ns){if(hashQueryKey(rs.options.mutationKey)!==hashQueryKey(as))return!1}else if(!partialMatchKey(rs.options.mutationKey,as))return!1}return!(typeof os=="boolean"&&rs.state.status==="loading"!==os||ss&&!ss(rs))}function hashQueryKeyByOptions(ts,rs){var ns=(rs==null?void 0:rs.queryKeyHashFn)||hashQueryKey;return ns(ts)}function hashQueryKey(ts){var rs=ensureQueryKeyArray(ts);return stableValueHash(rs)}function stableValueHash(ts){return JSON.stringify(ts,function(rs,ns){return isPlainObject$2(ns)?Object.keys(ns).sort().reduce(function(os,ss){return os[ss]=ns[ss],os},{}):ns})}function partialMatchKey(ts,rs){return partialDeepEqual(ensureQueryKeyArray(ts),ensureQueryKeyArray(rs))}function partialDeepEqual(ts,rs){return ts===rs?!0:typeof ts!=typeof rs?!1:ts&&rs&&typeof ts=="object"&&typeof rs=="object"?!Object.keys(rs).some(function(ns){return!partialDeepEqual(ts[ns],rs[ns])}):!1}function replaceEqualDeep(ts,rs){if(ts===rs)return ts;var ns=Array.isArray(ts)&&Array.isArray(rs);if(ns||isPlainObject$2(ts)&&isPlainObject$2(rs)){for(var os=ns?ts.length:Object.keys(ts).length,ss=ns?rs:Object.keys(rs),as=ss.length,ls=ns?[]:{},cs=0,us=0;us<as;us++){var ds=ns?us:ss[us];ls[ds]=replaceEqualDeep(ts[ds],rs[ds]),ls[ds]===ts[ds]&&cs++}return os===as&&cs===os?ts:ls}return rs}function shallowEqualObjects(ts,rs){if(ts&&!rs||rs&&!ts)return!1;for(var ns in ts)if(ts[ns]!==rs[ns])return!1;return!0}function isPlainObject$2(ts){if(!hasObjectPrototype(ts))return!1;var rs=ts.constructor;if(typeof rs>"u")return!0;var ns=rs.prototype;return!(!hasObjectPrototype(ns)||!ns.hasOwnProperty("isPrototypeOf"))}function hasObjectPrototype(ts){return Object.prototype.toString.call(ts)==="[object Object]"}function isQueryKey(ts){return typeof ts=="string"||Array.isArray(ts)}function sleep(ts){return new Promise(function(rs){setTimeout(rs,ts)})}function scheduleMicrotask(ts){Promise.resolve().then(ts).catch(function(rs){return setTimeout(function(){throw rs})})}function getAbortController(){if(typeof AbortController=="function")return new AbortController}var FocusManager=function(ts){_inheritsLoose(rs,ts);function rs(){var os;return os=ts.call(this)||this,os.setup=function(ss){var as;if(!isServer&&((as=window)!=null&&as.addEventListener)){var ls=function(){return ss()};return window.addEventListener("visibilitychange",ls,!1),window.addEventListener("focus",ls,!1),function(){window.removeEventListener("visibilitychange",ls),window.removeEventListener("focus",ls)}}},os}var ns=rs.prototype;return ns.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},ns.onUnsubscribe=function(){if(!this.hasListeners()){var ss;(ss=this.cleanup)==null||ss.call(this),this.cleanup=void 0}},ns.setEventListener=function(ss){var as,ls=this;this.setup=ss,(as=this.cleanup)==null||as.call(this),this.cleanup=ss(function(cs){typeof cs=="boolean"?ls.setFocused(cs):ls.onFocus()})},ns.setFocused=function(ss){this.focused=ss,ss&&this.onFocus()},ns.onFocus=function(){this.listeners.forEach(function(ss){ss()})},ns.isFocused=function(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)},rs}(Subscribable),focusManager=new FocusManager,OnlineManager=function(ts){_inheritsLoose(rs,ts);function rs(){var os;return os=ts.call(this)||this,os.setup=function(ss){var as;if(!isServer&&((as=window)!=null&&as.addEventListener)){var ls=function(){return ss()};return window.addEventListener("online",ls,!1),window.addEventListener("offline",ls,!1),function(){window.removeEventListener("online",ls),window.removeEventListener("offline",ls)}}},os}var ns=rs.prototype;return ns.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},ns.onUnsubscribe=function(){if(!this.hasListeners()){var ss;(ss=this.cleanup)==null||ss.call(this),this.cleanup=void 0}},ns.setEventListener=function(ss){var as,ls=this;this.setup=ss,(as=this.cleanup)==null||as.call(this),this.cleanup=ss(function(cs){typeof cs=="boolean"?ls.setOnline(cs):ls.onOnline()})},ns.setOnline=function(ss){this.online=ss,ss&&this.onOnline()},ns.onOnline=function(){this.listeners.forEach(function(ss){ss()})},ns.isOnline=function(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine},rs}(Subscribable),onlineManager=new OnlineManager;function defaultRetryDelay(ts){return Math.min(1e3*Math.pow(2,ts),3e4)}function isCancelable(ts){return typeof(ts==null?void 0:ts.cancel)=="function"}var CancelledError=function(rs){this.revert=rs==null?void 0:rs.revert,this.silent=rs==null?void 0:rs.silent};function isCancelledError(ts){return ts instanceof CancelledError}var Retryer=function(rs){var ns=this,os=!1,ss,as,ls,cs;this.abort=rs.abort,this.cancel=function(hs){return ss==null?void 0:ss(hs)},this.cancelRetry=function(){os=!0},this.continueRetry=function(){os=!1},this.continue=function(){return as==null?void 0:as()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise(function(hs,ms){ls=hs,cs=ms});var us=function(ms){ns.isResolved||(ns.isResolved=!0,rs.onSuccess==null||rs.onSuccess(ms),as==null||as(),ls(ms))},ds=function(ms){ns.isResolved||(ns.isResolved=!0,rs.onError==null||rs.onError(ms),as==null||as(),cs(ms))},ps=function(){return new Promise(function(ms){as=ms,ns.isPaused=!0,rs.onPause==null||rs.onPause()}).then(function(){as=void 0,ns.isPaused=!1,rs.onContinue==null||rs.onContinue()})},fs=function hs(){if(!ns.isResolved){var ms;try{ms=rs.fn()}catch(gs){ms=Promise.reject(gs)}ss=function(vs){if(!ns.isResolved&&(ds(new CancelledError(vs)),ns.abort==null||ns.abort(),isCancelable(ms)))try{ms.cancel()}catch{}},ns.isTransportCancelable=isCancelable(ms),Promise.resolve(ms).then(us).catch(function(gs){var vs,bs;if(!ns.isResolved){var xs=(vs=rs.retry)!=null?vs:3,ys=(bs=rs.retryDelay)!=null?bs:defaultRetryDelay,Ss=typeof ys=="function"?ys(ns.failureCount,gs):ys,Cs=xs===!0||typeof xs=="number"&&ns.failureCount<xs||typeof xs=="function"&&xs(ns.failureCount,gs);if(os||!Cs){ds(gs);return}ns.failureCount++,rs.onFail==null||rs.onFail(ns.failureCount,gs),sleep(Ss).then(function(){if(!focusManager.isFocused()||!onlineManager.isOnline())return ps()}).then(function(){os?ds(gs):hs()})}})}};fs()},NotifyManager=function(){function ts(){this.queue=[],this.transactions=0,this.notifyFn=function(ns){ns()},this.batchNotifyFn=function(ns){ns()}}var rs=ts.prototype;return rs.batch=function(os){var ss;this.transactions++;try{ss=os()}finally{this.transactions--,this.transactions||this.flush()}return ss},rs.schedule=function(os){var ss=this;this.transactions?this.queue.push(os):scheduleMicrotask(function(){ss.notifyFn(os)})},rs.batchCalls=function(os){var ss=this;return function(){for(var as=arguments.length,ls=new Array(as),cs=0;cs<as;cs++)ls[cs]=arguments[cs];ss.schedule(function(){os.apply(void 0,ls)})}},rs.flush=function(){var os=this,ss=this.queue;this.queue=[],ss.length&&scheduleMicrotask(function(){os.batchNotifyFn(function(){ss.forEach(function(as){os.notifyFn(as)})})})},rs.setNotifyFunction=function(os){this.notifyFn=os},rs.setBatchNotifyFunction=function(os){this.batchNotifyFn=os},ts}(),notifyManager=new NotifyManager,logger$2=console;function getLogger(){return logger$2}function setLogger(ts){logger$2=ts}var Query=function(){function ts(ns){this.abortSignalConsumed=!1,this.hadObservers=!1,this.defaultOptions=ns.defaultOptions,this.setOptions(ns.options),this.observers=[],this.cache=ns.cache,this.queryKey=ns.queryKey,this.queryHash=ns.queryHash,this.initialState=ns.state||this.getDefaultState(this.options),this.state=this.initialState,this.meta=ns.meta,this.scheduleGc()}var rs=ts.prototype;return rs.setOptions=function(os){var ss;this.options=_extends$5({},this.defaultOptions,os),this.meta=os==null?void 0:os.meta,this.cacheTime=Math.max(this.cacheTime||0,(ss=this.options.cacheTime)!=null?ss:5*60*1e3)},rs.setDefaultOptions=function(os){this.defaultOptions=os},rs.scheduleGc=function(){var os=this;this.clearGcTimeout(),isValidTimeout(this.cacheTime)&&(this.gcTimeout=setTimeout(function(){os.optionalRemove()},this.cacheTime))},rs.clearGcTimeout=function(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)},rs.optionalRemove=function(){this.observers.length||(this.state.isFetching?this.hadObservers&&this.scheduleGc():this.cache.remove(this))},rs.setData=function(os,ss){var as,ls,cs=this.state.data,us=functionalUpdate(os,cs);return(as=(ls=this.options).isDataEqual)!=null&&as.call(ls,cs,us)?us=cs:this.options.structuralSharing!==!1&&(us=replaceEqualDeep(cs,us)),this.dispatch({data:us,type:"success",dataUpdatedAt:ss==null?void 0:ss.updatedAt}),us},rs.setState=function(os,ss){this.dispatch({type:"setState",state:os,setStateOptions:ss})},rs.cancel=function(os){var ss,as=this.promise;return(ss=this.retryer)==null||ss.cancel(os),as?as.then(noop$7).catch(noop$7):Promise.resolve()},rs.destroy=function(){this.clearGcTimeout(),this.cancel({silent:!0})},rs.reset=function(){this.destroy(),this.setState(this.initialState)},rs.isActive=function(){return this.observers.some(function(os){return os.options.enabled!==!1})},rs.isFetching=function(){return this.state.isFetching},rs.isStale=function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(function(os){return os.getCurrentResult().isStale})},rs.isStaleByTime=function(os){return os===void 0&&(os=0),this.state.isInvalidated||!this.state.dataUpdatedAt||!timeUntilStale(this.state.dataUpdatedAt,os)},rs.onFocus=function(){var os,ss=this.observers.find(function(as){return as.shouldFetchOnWindowFocus()});ss&&ss.refetch(),(os=this.retryer)==null||os.continue()},rs.onOnline=function(){var os,ss=this.observers.find(function(as){return as.shouldFetchOnReconnect()});ss&&ss.refetch(),(os=this.retryer)==null||os.continue()},rs.addObserver=function(os){this.observers.indexOf(os)===-1&&(this.observers.push(os),this.hadObservers=!0,this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:os}))},rs.removeObserver=function(os){this.observers.indexOf(os)!==-1&&(this.observers=this.observers.filter(function(ss){return ss!==os}),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable||this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:os}))},rs.getObserversCount=function(){return this.observers.length},rs.invalidate=function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})},rs.fetch=function(os,ss){var as=this,ls,cs,us;if(this.state.isFetching){if(this.state.dataUpdatedAt&&(ss!=null&&ss.cancelRefetch))this.cancel({silent:!0});else if(this.promise){var ds;return(ds=this.retryer)==null||ds.continueRetry(),this.promise}}if(os&&this.setOptions(os),!this.options.queryFn){var ps=this.observers.find(function(ys){return ys.options.queryFn});ps&&this.setOptions(ps.options)}var fs=ensureQueryKeyArray(this.queryKey),hs=getAbortController(),ms={queryKey:fs,pageParam:void 0,meta:this.meta};Object.defineProperty(ms,"signal",{enumerable:!0,get:function(){if(hs)return as.abortSignalConsumed=!0,hs.signal}});var gs=function(){return as.options.queryFn?(as.abortSignalConsumed=!1,as.options.queryFn(ms)):Promise.reject("Missing queryFn")},vs={fetchOptions:ss,options:this.options,queryKey:fs,state:this.state,fetchFn:gs,meta:this.meta};if((ls=this.options.behavior)!=null&&ls.onFetch){var bs;(bs=this.options.behavior)==null||bs.onFetch(vs)}if(this.revertState=this.state,!this.state.isFetching||this.state.fetchMeta!==((cs=vs.fetchOptions)==null?void 0:cs.meta)){var xs;this.dispatch({type:"fetch",meta:(xs=vs.fetchOptions)==null?void 0:xs.meta})}return this.retryer=new Retryer({fn:vs.fetchFn,abort:hs==null||(us=hs.abort)==null?void 0:us.bind(hs),onSuccess:function(Ss){as.setData(Ss),as.cache.config.onSuccess==null||as.cache.config.onSuccess(Ss,as),as.cacheTime===0&&as.optionalRemove()},onError:function(Ss){isCancelledError(Ss)&&Ss.silent||as.dispatch({type:"error",error:Ss}),isCancelledError(Ss)||(as.cache.config.onError==null||as.cache.config.onError(Ss,as),getLogger().error(Ss)),as.cacheTime===0&&as.optionalRemove()},onFail:function(){as.dispatch({type:"failed"})},onPause:function(){as.dispatch({type:"pause"})},onContinue:function(){as.dispatch({type:"continue"})},retry:vs.options.retry,retryDelay:vs.options.retryDelay}),this.promise=this.retryer.promise,this.promise},rs.dispatch=function(os){var ss=this;this.state=this.reducer(this.state,os),notifyManager.batch(function(){ss.observers.forEach(function(as){as.onQueryUpdate(os)}),ss.cache.notify({query:ss,type:"queryUpdated",action:os})})},rs.getDefaultState=function(os){var ss=typeof os.initialData=="function"?os.initialData():os.initialData,as=typeof os.initialData<"u",ls=as?typeof os.initialDataUpdatedAt=="function"?os.initialDataUpdatedAt():os.initialDataUpdatedAt:0,cs=typeof ss<"u";return{data:ss,dataUpdateCount:0,dataUpdatedAt:cs?ls!=null?ls:Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:cs?"success":"idle"}},rs.reducer=function(os,ss){var as,ls;switch(ss.type){case"failed":return _extends$5({},os,{fetchFailureCount:os.fetchFailureCount+1});case"pause":return _extends$5({},os,{isPaused:!0});case"continue":return _extends$5({},os,{isPaused:!1});case"fetch":return _extends$5({},os,{fetchFailureCount:0,fetchMeta:(as=ss.meta)!=null?as:null,isFetching:!0,isPaused:!1},!os.dataUpdatedAt&&{error:null,status:"loading"});case"success":return _extends$5({},os,{data:ss.data,dataUpdateCount:os.dataUpdateCount+1,dataUpdatedAt:(ls=ss.dataUpdatedAt)!=null?ls:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":var cs=ss.error;return isCancelledError(cs)&&cs.revert&&this.revertState?_extends$5({},this.revertState):_extends$5({},os,{error:cs,errorUpdateCount:os.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:os.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return _extends$5({},os,{isInvalidated:!0});case"setState":return _extends$5({},os,ss.state);default:return os}},ts}(),QueryCache=function(ts){_inheritsLoose(rs,ts);function rs(os){var ss;return ss=ts.call(this)||this,ss.config=os||{},ss.queries=[],ss.queriesMap={},ss}var ns=rs.prototype;return ns.build=function(ss,as,ls){var cs,us=as.queryKey,ds=(cs=as.queryHash)!=null?cs:hashQueryKeyByOptions(us,as),ps=this.get(ds);return ps||(ps=new Query({cache:this,queryKey:us,queryHash:ds,options:ss.defaultQueryOptions(as),state:ls,defaultOptions:ss.getQueryDefaults(us),meta:as.meta}),this.add(ps)),ps},ns.add=function(ss){this.queriesMap[ss.queryHash]||(this.queriesMap[ss.queryHash]=ss,this.queries.push(ss),this.notify({type:"queryAdded",query:ss}))},ns.remove=function(ss){var as=this.queriesMap[ss.queryHash];as&&(ss.destroy(),this.queries=this.queries.filter(function(ls){return ls!==ss}),as===ss&&delete this.queriesMap[ss.queryHash],this.notify({type:"queryRemoved",query:ss}))},ns.clear=function(){var ss=this;notifyManager.batch(function(){ss.queries.forEach(function(as){ss.remove(as)})})},ns.get=function(ss){return this.queriesMap[ss]},ns.getAll=function(){return this.queries},ns.find=function(ss,as){var ls=parseFilterArgs(ss,as),cs=ls[0];return typeof cs.exact>"u"&&(cs.exact=!0),this.queries.find(function(us){return matchQuery(cs,us)})},ns.findAll=function(ss,as){var ls=parseFilterArgs(ss,as),cs=ls[0];return Object.keys(cs).length>0?this.queries.filter(function(us){return matchQuery(cs,us)}):this.queries},ns.notify=function(ss){var as=this;notifyManager.batch(function(){as.listeners.forEach(function(ls){ls(ss)})})},ns.onFocus=function(){var ss=this;notifyManager.batch(function(){ss.queries.forEach(function(as){as.onFocus()})})},ns.onOnline=function(){var ss=this;notifyManager.batch(function(){ss.queries.forEach(function(as){as.onOnline()})})},rs}(Subscribable),Mutation=function(){function ts(ns){this.options=_extends$5({},ns.defaultOptions,ns.options),this.mutationId=ns.mutationId,this.mutationCache=ns.mutationCache,this.observers=[],this.state=ns.state||getDefaultState(),this.meta=ns.meta}var rs=ts.prototype;return rs.setState=function(os){this.dispatch({type:"setState",state:os})},rs.addObserver=function(os){this.observers.indexOf(os)===-1&&this.observers.push(os)},rs.removeObserver=function(os){this.observers=this.observers.filter(function(ss){return ss!==os})},rs.cancel=function(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(noop$7).catch(noop$7)):Promise.resolve()},rs.continue=function(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()},rs.execute=function(){var os=this,ss,as=this.state.status==="loading",ls=Promise.resolve();return as||(this.dispatch({type:"loading",variables:this.options.variables}),ls=ls.then(function(){os.mutationCache.config.onMutate==null||os.mutationCache.config.onMutate(os.state.variables,os)}).then(function(){return os.options.onMutate==null?void 0:os.options.onMutate(os.state.variables)}).then(function(cs){cs!==os.state.context&&os.dispatch({type:"loading",context:cs,variables:os.state.variables})})),ls.then(function(){return os.executeMutation()}).then(function(cs){ss=cs,os.mutationCache.config.onSuccess==null||os.mutationCache.config.onSuccess(ss,os.state.variables,os.state.context,os)}).then(function(){return os.options.onSuccess==null?void 0:os.options.onSuccess(ss,os.state.variables,os.state.context)}).then(function(){return os.options.onSettled==null?void 0:os.options.onSettled(ss,null,os.state.variables,os.state.context)}).then(function(){return os.dispatch({type:"success",data:ss}),ss}).catch(function(cs){return os.mutationCache.config.onError==null||os.mutationCache.config.onError(cs,os.state.variables,os.state.context,os),getLogger().error(cs),Promise.resolve().then(function(){return os.options.onError==null?void 0:os.options.onError(cs,os.state.variables,os.state.context)}).then(function(){return os.options.onSettled==null?void 0:os.options.onSettled(void 0,cs,os.state.variables,os.state.context)}).then(function(){throw os.dispatch({type:"error",error:cs}),cs})})},rs.executeMutation=function(){var os=this,ss;return this.retryer=new Retryer({fn:function(){return os.options.mutationFn?os.options.mutationFn(os.state.variables):Promise.reject("No mutationFn found")},onFail:function(){os.dispatch({type:"failed"})},onPause:function(){os.dispatch({type:"pause"})},onContinue:function(){os.dispatch({type:"continue"})},retry:(ss=this.options.retry)!=null?ss:0,retryDelay:this.options.retryDelay}),this.retryer.promise},rs.dispatch=function(os){var ss=this;this.state=reducer$2(this.state,os),notifyManager.batch(function(){ss.observers.forEach(function(as){as.onMutationUpdate(os)}),ss.mutationCache.notify(ss)})},ts}();function getDefaultState(){return{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0}}function reducer$2(ts,rs){switch(rs.type){case"failed":return _extends$5({},ts,{failureCount:ts.failureCount+1});case"pause":return _extends$5({},ts,{isPaused:!0});case"continue":return _extends$5({},ts,{isPaused:!1});case"loading":return _extends$5({},ts,{context:rs.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:rs.variables});case"success":return _extends$5({},ts,{data:rs.data,error:null,status:"success",isPaused:!1});case"error":return _extends$5({},ts,{data:void 0,error:rs.error,failureCount:ts.failureCount+1,isPaused:!1,status:"error"});case"setState":return _extends$5({},ts,rs.state);default:return ts}}var MutationCache=function(ts){_inheritsLoose(rs,ts);function rs(os){var ss;return ss=ts.call(this)||this,ss.config=os||{},ss.mutations=[],ss.mutationId=0,ss}var ns=rs.prototype;return ns.build=function(ss,as,ls){var cs=new Mutation({mutationCache:this,mutationId:++this.mutationId,options:ss.defaultMutationOptions(as),state:ls,defaultOptions:as.mutationKey?ss.getMutationDefaults(as.mutationKey):void 0,meta:as.meta});return this.add(cs),cs},ns.add=function(ss){this.mutations.push(ss),this.notify(ss)},ns.remove=function(ss){this.mutations=this.mutations.filter(function(as){return as!==ss}),ss.cancel(),this.notify(ss)},ns.clear=function(){var ss=this;notifyManager.batch(function(){ss.mutations.forEach(function(as){ss.remove(as)})})},ns.getAll=function(){return this.mutations},ns.find=function(ss){return typeof ss.exact>"u"&&(ss.exact=!0),this.mutations.find(function(as){return matchMutation(ss,as)})},ns.findAll=function(ss){return this.mutations.filter(function(as){return matchMutation(ss,as)})},ns.notify=function(ss){var as=this;notifyManager.batch(function(){as.listeners.forEach(function(ls){ls(ss)})})},ns.onFocus=function(){this.resumePausedMutations()},ns.onOnline=function(){this.resumePausedMutations()},ns.resumePausedMutations=function(){var ss=this.mutations.filter(function(as){return as.state.isPaused});return notifyManager.batch(function(){return ss.reduce(function(as,ls){return as.then(function(){return ls.continue().catch(noop$7)})},Promise.resolve())})},rs}(Subscribable);function infiniteQueryBehavior(){return{onFetch:function(rs){rs.fetchFn=function(){var ns,os,ss,as,ls,cs,us=(ns=rs.fetchOptions)==null||(os=ns.meta)==null?void 0:os.refetchPage,ds=(ss=rs.fetchOptions)==null||(as=ss.meta)==null?void 0:as.fetchMore,ps=ds==null?void 0:ds.pageParam,fs=(ds==null?void 0:ds.direction)==="forward",hs=(ds==null?void 0:ds.direction)==="backward",ms=((ls=rs.state.data)==null?void 0:ls.pages)||[],gs=((cs=rs.state.data)==null?void 0:cs.pageParams)||[],vs=getAbortController(),bs=vs==null?void 0:vs.signal,xs=gs,ys=!1,Ss=rs.options.queryFn||function(){return Promise.reject("Missing queryFn")},Cs=function(Os,Ds,Fs,js){return xs=js?[Ds].concat(xs):[].concat(xs,[Ds]),js?[Fs].concat(Os):[].concat(Os,[Fs])},$s=function(Os,Ds,Fs,js){if(ys)return Promise.reject("Cancelled");if(typeof Fs>"u"&&!Ds&&Os.length)return Promise.resolve(Os);var Ps={queryKey:rs.queryKey,signal:bs,pageParam:Fs,meta:rs.meta},Ls=Ss(Ps),Ns=Promise.resolve(Ls).then(function(Us){return Cs(Os,Fs,Us,js)});if(isCancelable(Ls)){var Gs=Ns;Gs.cancel=Ls.cancel}return Ns},Es;if(!ms.length)Es=$s([]);else if(fs){var ws=typeof ps<"u",Ts=ws?ps:getNextPageParam(rs.options,ms);Es=$s(ms,ws,Ts)}else if(hs){var Is=typeof ps<"u",Rs=Is?ps:getPreviousPageParam(rs.options,ms);Es=$s(ms,Is,Rs,!0)}else(function(){xs=[];var Ms=typeof rs.options.getNextPageParam>"u",Os=us&&ms[0]?us(ms[0],0,ms):!0;Es=Os?$s([],Ms,gs[0]):Promise.resolve(Cs([],gs[0],ms[0]));for(var Ds=function(Ps){Es=Es.then(function(Ls){var Ns=us&&ms[Ps]?us(ms[Ps],Ps,ms):!0;if(Ns){var Gs=Ms?gs[Ps]:getNextPageParam(rs.options,Ls);return $s(Ls,Ms,Gs)}return Promise.resolve(Cs(Ls,gs[Ps],ms[Ps]))})},Fs=1;Fs<ms.length;Fs++)Ds(Fs)})();var As=Es.then(function(Ms){return{pages:Ms,pageParams:xs}}),ks=As;return ks.cancel=function(){ys=!0,vs==null||vs.abort(),isCancelable(Es)&&Es.cancel()},As}}}}function getNextPageParam(ts,rs){return ts.getNextPageParam==null?void 0:ts.getNextPageParam(rs[rs.length-1],rs)}function getPreviousPageParam(ts,rs){return ts.getPreviousPageParam==null?void 0:ts.getPreviousPageParam(rs[0],rs)}var QueryClient=function(){function ts(ns){ns===void 0&&(ns={}),this.queryCache=ns.queryCache||new QueryCache,this.mutationCache=ns.mutationCache||new MutationCache,this.defaultOptions=ns.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}var rs=ts.prototype;return rs.mount=function(){var os=this;this.unsubscribeFocus=focusManager.subscribe(function(){focusManager.isFocused()&&onlineManager.isOnline()&&(os.mutationCache.onFocus(),os.queryCache.onFocus())}),this.unsubscribeOnline=onlineManager.subscribe(function(){focusManager.isFocused()&&onlineManager.isOnline()&&(os.mutationCache.onOnline(),os.queryCache.onOnline())})},rs.unmount=function(){var os,ss;(os=this.unsubscribeFocus)==null||os.call(this),(ss=this.unsubscribeOnline)==null||ss.call(this)},rs.isFetching=function(os,ss){var as=parseFilterArgs(os,ss),ls=as[0];return ls.fetching=!0,this.queryCache.findAll(ls).length},rs.isMutating=function(os){return this.mutationCache.findAll(_extends$5({},os,{fetching:!0})).length},rs.getQueryData=function(os,ss){var as;return(as=this.queryCache.find(os,ss))==null?void 0:as.state.data},rs.getQueriesData=function(os){return this.getQueryCache().findAll(os).map(function(ss){var as=ss.queryKey,ls=ss.state,cs=ls.data;return[as,cs]})},rs.setQueryData=function(os,ss,as){var ls=parseQueryArgs(os),cs=this.defaultQueryOptions(ls);return this.queryCache.build(this,cs).setData(ss,as)},rs.setQueriesData=function(os,ss,as){var ls=this;return notifyManager.batch(function(){return ls.getQueryCache().findAll(os).map(function(cs){var us=cs.queryKey;return[us,ls.setQueryData(us,ss,as)]})})},rs.getQueryState=function(os,ss){var as;return(as=this.queryCache.find(os,ss))==null?void 0:as.state},rs.removeQueries=function(os,ss){var as=parseFilterArgs(os,ss),ls=as[0],cs=this.queryCache;notifyManager.batch(function(){cs.findAll(ls).forEach(function(us){cs.remove(us)})})},rs.resetQueries=function(os,ss,as){var ls=this,cs=parseFilterArgs(os,ss,as),us=cs[0],ds=cs[1],ps=this.queryCache,fs=_extends$5({},us,{active:!0});return notifyManager.batch(function(){return ps.findAll(us).forEach(function(hs){hs.reset()}),ls.refetchQueries(fs,ds)})},rs.cancelQueries=function(os,ss,as){var ls=this,cs=parseFilterArgs(os,ss,as),us=cs[0],ds=cs[1],ps=ds===void 0?{}:ds;typeof ps.revert>"u"&&(ps.revert=!0);var fs=notifyManager.batch(function(){return ls.queryCache.findAll(us).map(function(hs){return hs.cancel(ps)})});return Promise.all(fs).then(noop$7).catch(noop$7)},rs.invalidateQueries=function(os,ss,as){var ls,cs,us,ds=this,ps=parseFilterArgs(os,ss,as),fs=ps[0],hs=ps[1],ms=_extends$5({},fs,{active:(ls=(cs=fs.refetchActive)!=null?cs:fs.active)!=null?ls:!0,inactive:(us=fs.refetchInactive)!=null?us:!1});return notifyManager.batch(function(){return ds.queryCache.findAll(fs).forEach(function(gs){gs.invalidate()}),ds.refetchQueries(ms,hs)})},rs.refetchQueries=function(os,ss,as){var ls=this,cs=parseFilterArgs(os,ss,as),us=cs[0],ds=cs[1],ps=notifyManager.batch(function(){return ls.queryCache.findAll(us).map(function(hs){return hs.fetch(void 0,_extends$5({},ds,{meta:{refetchPage:us==null?void 0:us.refetchPage}}))})}),fs=Promise.all(ps).then(noop$7);return ds!=null&&ds.throwOnError||(fs=fs.catch(noop$7)),fs},rs.fetchQuery=function(os,ss,as){var ls=parseQueryArgs(os,ss,as),cs=this.defaultQueryOptions(ls);typeof cs.retry>"u"&&(cs.retry=!1);var us=this.queryCache.build(this,cs);return us.isStaleByTime(cs.staleTime)?us.fetch(cs):Promise.resolve(us.state.data)},rs.prefetchQuery=function(os,ss,as){return this.fetchQuery(os,ss,as).then(noop$7).catch(noop$7)},rs.fetchInfiniteQuery=function(os,ss,as){var ls=parseQueryArgs(os,ss,as);return ls.behavior=infiniteQueryBehavior(),this.fetchQuery(ls)},rs.prefetchInfiniteQuery=function(os,ss,as){return this.fetchInfiniteQuery(os,ss,as).then(noop$7).catch(noop$7)},rs.cancelMutations=function(){var os=this,ss=notifyManager.batch(function(){return os.mutationCache.getAll().map(function(as){return as.cancel()})});return Promise.all(ss).then(noop$7).catch(noop$7)},rs.resumePausedMutations=function(){return this.getMutationCache().resumePausedMutations()},rs.executeMutation=function(os){return this.mutationCache.build(this,os).execute()},rs.getQueryCache=function(){return this.queryCache},rs.getMutationCache=function(){return this.mutationCache},rs.getDefaultOptions=function(){return this.defaultOptions},rs.setDefaultOptions=function(os){this.defaultOptions=os},rs.setQueryDefaults=function(os,ss){var as=this.queryDefaults.find(function(ls){return hashQueryKey(os)===hashQueryKey(ls.queryKey)});as?as.defaultOptions=ss:this.queryDefaults.push({queryKey:os,defaultOptions:ss})},rs.getQueryDefaults=function(os){var ss;return os?(ss=this.queryDefaults.find(function(as){return partialMatchKey(os,as.queryKey)}))==null?void 0:ss.defaultOptions:void 0},rs.setMutationDefaults=function(os,ss){var as=this.mutationDefaults.find(function(ls){return hashQueryKey(os)===hashQueryKey(ls.mutationKey)});as?as.defaultOptions=ss:this.mutationDefaults.push({mutationKey:os,defaultOptions:ss})},rs.getMutationDefaults=function(os){var ss;return os?(ss=this.mutationDefaults.find(function(as){return partialMatchKey(os,as.mutationKey)}))==null?void 0:ss.defaultOptions:void 0},rs.defaultQueryOptions=function(os){if(os!=null&&os._defaulted)return os;var ss=_extends$5({},this.defaultOptions.queries,this.getQueryDefaults(os==null?void 0:os.queryKey),os,{_defaulted:!0});return!ss.queryHash&&ss.queryKey&&(ss.queryHash=hashQueryKeyByOptions(ss.queryKey,ss)),ss},rs.defaultQueryObserverOptions=function(os){return this.defaultQueryOptions(os)},rs.defaultMutationOptions=function(os){return os!=null&&os._defaulted?os:_extends$5({},this.defaultOptions.mutations,this.getMutationDefaults(os==null?void 0:os.mutationKey),os,{_defaulted:!0})},rs.clear=function(){this.queryCache.clear(),this.mutationCache.clear()},ts}(),QueryObserver=function(ts){_inheritsLoose(rs,ts);function rs(os,ss){var as;return as=ts.call(this)||this,as.client=os,as.options=ss,as.trackedProps=[],as.selectError=null,as.bindMethods(),as.setOptions(ss),as}var ns=rs.prototype;return ns.bindMethods=function(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)},ns.onSubscribe=function(){this.listeners.length===1&&(this.currentQuery.addObserver(this),shouldFetchOnMount(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())},ns.onUnsubscribe=function(){this.listeners.length||this.destroy()},ns.shouldFetchOnReconnect=function(){return shouldFetchOn(this.currentQuery,this.options,this.options.refetchOnReconnect)},ns.shouldFetchOnWindowFocus=function(){return shouldFetchOn(this.currentQuery,this.options,this.options.refetchOnWindowFocus)},ns.destroy=function(){this.listeners=[],this.clearTimers(),this.currentQuery.removeObserver(this)},ns.setOptions=function(ss,as){var ls=this.options,cs=this.currentQuery;if(this.options=this.client.defaultQueryObserverOptions(ss),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=ls.queryKey),this.updateQuery();var us=this.hasListeners();us&&shouldFetchOptionally(this.currentQuery,cs,this.options,ls)&&this.executeFetch(),this.updateResult(as),us&&(this.currentQuery!==cs||this.options.enabled!==ls.enabled||this.options.staleTime!==ls.staleTime)&&this.updateStaleTimeout();var ds=this.computeRefetchInterval();us&&(this.currentQuery!==cs||this.options.enabled!==ls.enabled||ds!==this.currentRefetchInterval)&&this.updateRefetchInterval(ds)},ns.getOptimisticResult=function(ss){var as=this.client.defaultQueryObserverOptions(ss),ls=this.client.getQueryCache().build(this.client,as);return this.createResult(ls,as)},ns.getCurrentResult=function(){return this.currentResult},ns.trackResult=function(ss,as){var ls=this,cs={},us=function(ps){ls.trackedProps.includes(ps)||ls.trackedProps.push(ps)};return Object.keys(ss).forEach(function(ds){Object.defineProperty(cs,ds,{configurable:!1,enumerable:!0,get:function(){return us(ds),ss[ds]}})}),(as.useErrorBoundary||as.suspense)&&us("error"),cs},ns.getNextResult=function(ss){var as=this;return new Promise(function(ls,cs){var us=as.subscribe(function(ds){ds.isFetching||(us(),ds.isError&&(ss!=null&&ss.throwOnError)?cs(ds.error):ls(ds))})})},ns.getCurrentQuery=function(){return this.currentQuery},ns.remove=function(){this.client.getQueryCache().remove(this.currentQuery)},ns.refetch=function(ss){return this.fetch(_extends$5({},ss,{meta:{refetchPage:ss==null?void 0:ss.refetchPage}}))},ns.fetchOptimistic=function(ss){var as=this,ls=this.client.defaultQueryObserverOptions(ss),cs=this.client.getQueryCache().build(this.client,ls);return cs.fetch().then(function(){return as.createResult(cs,ls)})},ns.fetch=function(ss){var as=this;return this.executeFetch(ss).then(function(){return as.updateResult(),as.currentResult})},ns.executeFetch=function(ss){this.updateQuery();var as=this.currentQuery.fetch(this.options,ss);return ss!=null&&ss.throwOnError||(as=as.catch(noop$7)),as},ns.updateStaleTimeout=function(){var ss=this;if(this.clearStaleTimeout(),!(isServer||this.currentResult.isStale||!isValidTimeout(this.options.staleTime))){var as=timeUntilStale(this.currentResult.dataUpdatedAt,this.options.staleTime),ls=as+1;this.staleTimeoutId=setTimeout(function(){ss.currentResult.isStale||ss.updateResult()},ls)}},ns.computeRefetchInterval=function(){var ss;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(ss=this.options.refetchInterval)!=null?ss:!1},ns.updateRefetchInterval=function(ss){var as=this;this.clearRefetchInterval(),this.currentRefetchInterval=ss,!(isServer||this.options.enabled===!1||!isValidTimeout(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(function(){(as.options.refetchIntervalInBackground||focusManager.isFocused())&&as.executeFetch()},this.currentRefetchInterval))},ns.updateTimers=function(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())},ns.clearTimers=function(){this.clearStaleTimeout(),this.clearRefetchInterval()},ns.clearStaleTimeout=function(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)},ns.clearRefetchInterval=function(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)},ns.createResult=function(ss,as){var ls=this.currentQuery,cs=this.options,us=this.currentResult,ds=this.currentResultState,ps=this.currentResultOptions,fs=ss!==ls,hs=fs?ss.state:this.currentQueryInitialState,ms=fs?this.currentResult:this.previousQueryResult,gs=ss.state,vs=gs.dataUpdatedAt,bs=gs.error,xs=gs.errorUpdatedAt,ys=gs.isFetching,Ss=gs.status,Cs=!1,$s=!1,Es;if(as.optimisticResults){var ws=this.hasListeners(),Ts=!ws&&shouldFetchOnMount(ss,as),Is=ws&&shouldFetchOptionally(ss,ls,as,cs);(Ts||Is)&&(ys=!0,vs||(Ss="loading"))}if(as.keepPreviousData&&!gs.dataUpdateCount&&(ms!=null&&ms.isSuccess)&&Ss!=="error")Es=ms.data,vs=ms.dataUpdatedAt,Ss=ms.status,Cs=!0;else if(as.select&&typeof gs.data<"u")if(us&&gs.data===(ds==null?void 0:ds.data)&&as.select===this.selectFn)Es=this.selectResult;else try{this.selectFn=as.select,Es=as.select(gs.data),as.structuralSharing!==!1&&(Es=replaceEqualDeep(us==null?void 0:us.data,Es)),this.selectResult=Es,this.selectError=null}catch(ks){getLogger().error(ks),this.selectError=ks}else Es=gs.data;if(typeof as.placeholderData<"u"&&typeof Es>"u"&&(Ss==="loading"||Ss==="idle")){var Rs;if(us!=null&&us.isPlaceholderData&&as.placeholderData===(ps==null?void 0:ps.placeholderData))Rs=us.data;else if(Rs=typeof as.placeholderData=="function"?as.placeholderData():as.placeholderData,as.select&&typeof Rs<"u")try{Rs=as.select(Rs),as.structuralSharing!==!1&&(Rs=replaceEqualDeep(us==null?void 0:us.data,Rs)),this.selectError=null}catch(ks){getLogger().error(ks),this.selectError=ks}typeof Rs<"u"&&(Ss="success",Es=Rs,$s=!0)}this.selectError&&(bs=this.selectError,Es=this.selectResult,xs=Date.now(),Ss="error");var As={status:Ss,isLoading:Ss==="loading",isSuccess:Ss==="success",isError:Ss==="error",isIdle:Ss==="idle",data:Es,dataUpdatedAt:vs,error:bs,errorUpdatedAt:xs,failureCount:gs.fetchFailureCount,errorUpdateCount:gs.errorUpdateCount,isFetched:gs.dataUpdateCount>0||gs.errorUpdateCount>0,isFetchedAfterMount:gs.dataUpdateCount>hs.dataUpdateCount||gs.errorUpdateCount>hs.errorUpdateCount,isFetching:ys,isRefetching:ys&&Ss!=="loading",isLoadingError:Ss==="error"&&gs.dataUpdatedAt===0,isPlaceholderData:$s,isPreviousData:Cs,isRefetchError:Ss==="error"&&gs.dataUpdatedAt!==0,isStale:isStale(ss,as),refetch:this.refetch,remove:this.remove};return As},ns.shouldNotifyListeners=function(ss,as){if(!as)return!0;var ls=this.options,cs=ls.notifyOnChangeProps,us=ls.notifyOnChangePropsExclusions;if(!cs&&!us||cs==="tracked"&&!this.trackedProps.length)return!0;var ds=cs==="tracked"?this.trackedProps:cs;return Object.keys(ss).some(function(ps){var fs=ps,hs=ss[fs]!==as[fs],ms=ds==null?void 0:ds.some(function(vs){return vs===ps}),gs=us==null?void 0:us.some(function(vs){return vs===ps});return hs&&!gs&&(!ds||ms)})},ns.updateResult=function(ss){var as=this.currentResult;if(this.currentResult=this.createResult(this.currentQuery,this.options),this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,!shallowEqualObjects(this.currentResult,as)){var ls={cache:!0};(ss==null?void 0:ss.listeners)!==!1&&this.shouldNotifyListeners(this.currentResult,as)&&(ls.listeners=!0),this.notify(_extends$5({},ls,ss))}},ns.updateQuery=function(){var ss=this.client.getQueryCache().build(this.client,this.options);if(ss!==this.currentQuery){var as=this.currentQuery;this.currentQuery=ss,this.currentQueryInitialState=ss.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(as==null||as.removeObserver(this),ss.addObserver(this))}},ns.onQueryUpdate=function(ss){var as={};ss.type==="success"?as.onSuccess=!0:ss.type==="error"&&!isCancelledError(ss.error)&&(as.onError=!0),this.updateResult(as),this.hasListeners()&&this.updateTimers()},ns.notify=function(ss){var as=this;notifyManager.batch(function(){ss.onSuccess?(as.options.onSuccess==null||as.options.onSuccess(as.currentResult.data),as.options.onSettled==null||as.options.onSettled(as.currentResult.data,null)):ss.onError&&(as.options.onError==null||as.options.onError(as.currentResult.error),as.options.onSettled==null||as.options.onSettled(void 0,as.currentResult.error)),ss.listeners&&as.listeners.forEach(function(ls){ls(as.currentResult)}),ss.cache&&as.client.getQueryCache().notify({query:as.currentQuery,type:"observerResultsUpdated"})})},rs}(Subscribable);function shouldLoadOnMount(ts,rs){return rs.enabled!==!1&&!ts.state.dataUpdatedAt&&!(ts.state.status==="error"&&rs.retryOnMount===!1)}function shouldFetchOnMount(ts,rs){return shouldLoadOnMount(ts,rs)||ts.state.dataUpdatedAt>0&&shouldFetchOn(ts,rs,rs.refetchOnMount)}function shouldFetchOn(ts,rs,ns){if(rs.enabled!==!1){var os=typeof ns=="function"?ns(ts):ns;return os==="always"||os!==!1&&isStale(ts,rs)}return!1}function shouldFetchOptionally(ts,rs,ns,os){return ns.enabled!==!1&&(ts!==rs||os.enabled===!1)&&(!ns.suspense||ts.state.status!=="error")&&isStale(ts,ns)}function isStale(ts,rs){return ts.isStaleByTime(rs.staleTime)}var MutationObserver$1=function(ts){_inheritsLoose(rs,ts);function rs(os,ss){var as;return as=ts.call(this)||this,as.client=os,as.setOptions(ss),as.bindMethods(),as.updateResult(),as}var ns=rs.prototype;return ns.bindMethods=function(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)},ns.setOptions=function(ss){this.options=this.client.defaultMutationOptions(ss)},ns.onUnsubscribe=function(){if(!this.listeners.length){var ss;(ss=this.currentMutation)==null||ss.removeObserver(this)}},ns.onMutationUpdate=function(ss){this.updateResult();var as={listeners:!0};ss.type==="success"?as.onSuccess=!0:ss.type==="error"&&(as.onError=!0),this.notify(as)},ns.getCurrentResult=function(){return this.currentResult},ns.reset=function(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})},ns.mutate=function(ss,as){return this.mutateOptions=as,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,_extends$5({},this.options,{variables:typeof ss<"u"?ss:this.options.variables})),this.currentMutation.addObserver(this),this.currentMutation.execute()},ns.updateResult=function(){var ss=this.currentMutation?this.currentMutation.state:getDefaultState(),as=_extends$5({},ss,{isLoading:ss.status==="loading",isSuccess:ss.status==="success",isError:ss.status==="error",isIdle:ss.status==="idle",mutate:this.mutate,reset:this.reset});this.currentResult=as},ns.notify=function(ss){var as=this;notifyManager.batch(function(){as.mutateOptions&&(ss.onSuccess?(as.mutateOptions.onSuccess==null||as.mutateOptions.onSuccess(as.currentResult.data,as.currentResult.variables,as.currentResult.context),as.mutateOptions.onSettled==null||as.mutateOptions.onSettled(as.currentResult.data,null,as.currentResult.variables,as.currentResult.context)):ss.onError&&(as.mutateOptions.onError==null||as.mutateOptions.onError(as.currentResult.error,as.currentResult.variables,as.currentResult.context),as.mutateOptions.onSettled==null||as.mutateOptions.onSettled(void 0,as.currentResult.error,as.currentResult.variables,as.currentResult.context))),ss.listeners&&as.listeners.forEach(function(ls){ls(as.currentResult)})})},rs}(Subscribable),unstable_batchedUpdates=ReactDOM__default.unstable_batchedUpdates;notifyManager.setBatchNotifyFunction(unstable_batchedUpdates);var logger$1=console;setLogger(logger$1);var defaultContext=React$2.createContext(void 0),QueryClientSharingContext=React$2.createContext(!1);function getQueryClientContext(ts){return ts&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=defaultContext),window.ReactQueryClientContext):defaultContext}var useQueryClient=function(){var rs=React$2.useContext(getQueryClientContext(React$2.useContext(QueryClientSharingContext)));if(!rs)throw new Error("No QueryClient set, use QueryClientProvider to set one");return rs},QueryClientProvider=function(rs){var ns=rs.client,os=rs.contextSharing,ss=os===void 0?!1:os,as=rs.children;React$2.useEffect(function(){return ns.mount(),function(){ns.unmount()}},[ns]);var ls=getQueryClientContext(ss);return React$2.createElement(QueryClientSharingContext.Provider,{value:ss},React$2.createElement(ls.Provider,{value:ns},as))};function createValue(){var ts=!1;return{clearReset:function(){ts=!1},reset:function(){ts=!0},isReset:function(){return ts}}}var QueryErrorResetBoundaryContext=React$2.createContext(createValue()),useQueryErrorResetBoundary=function(){return React$2.useContext(QueryErrorResetBoundaryContext)};function shouldThrowError(ts,rs,ns){return typeof rs=="function"?rs.apply(void 0,ns):typeof rs=="boolean"?rs:!!ts}function useMutation(ts,rs,ns){var os=React$2.useRef(!1),ss=React$2.useState(0),as=ss[1],ls=parseMutationArgs(ts,rs,ns),cs=useQueryClient(),us=React$2.useRef();us.current?us.current.setOptions(ls):us.current=new MutationObserver$1(cs,ls);var ds=us.current.getCurrentResult();React$2.useEffect(function(){os.current=!0;var fs=us.current.subscribe(notifyManager.batchCalls(function(){os.current&&as(function(hs){return hs+1})}));return function(){os.current=!1,fs()}},[]);var ps=React$2.useCallback(function(fs,hs){us.current.mutate(fs,hs).catch(noop$7)},[]);if(ds.error&&shouldThrowError(void 0,us.current.options.useErrorBoundary,[ds.error]))throw ds.error;return _extends$5({},ds,{mutate:ps,mutateAsync:ds.mutate})}function useBaseQuery(ts,rs){var ns=React$2.useRef(!1),os=React$2.useState(0),ss=os[1],as=useQueryClient(),ls=useQueryErrorResetBoundary(),cs=as.defaultQueryObserverOptions(ts);cs.optimisticResults=!0,cs.onError&&(cs.onError=notifyManager.batchCalls(cs.onError)),cs.onSuccess&&(cs.onSuccess=notifyManager.batchCalls(cs.onSuccess)),cs.onSettled&&(cs.onSettled=notifyManager.batchCalls(cs.onSettled)),cs.suspense&&(typeof cs.staleTime!="number"&&(cs.staleTime=1e3),cs.cacheTime===0&&(cs.cacheTime=1)),(cs.suspense||cs.useErrorBoundary)&&(ls.isReset()||(cs.retryOnMount=!1));var us=React$2.useState(function(){return new rs(as,cs)}),ds=us[0],ps=ds.getOptimisticResult(cs);if(React$2.useEffect(function(){ns.current=!0,ls.clearReset();var fs=ds.subscribe(notifyManager.batchCalls(function(){ns.current&&ss(function(hs){return hs+1})}));return ds.updateResult(),function(){ns.current=!1,fs()}},[ls,ds]),React$2.useEffect(function(){ds.setOptions(cs,{listeners:!1})},[cs,ds]),cs.suspense&&ps.isLoading)throw ds.fetchOptimistic(cs).then(function(fs){var hs=fs.data;cs.onSuccess==null||cs.onSuccess(hs),cs.onSettled==null||cs.onSettled(hs,null)}).catch(function(fs){ls.clearReset(),cs.onError==null||cs.onError(fs),cs.onSettled==null||cs.onSettled(void 0,fs)});if(ps.isError&&!ls.isReset()&&!ps.isFetching&&shouldThrowError(cs.suspense,cs.useErrorBoundary,[ps.error,ds.getCurrentQuery()]))throw ps.error;return cs.notifyOnChangeProps==="tracked"&&(ps=ds.trackResult(ps,cs)),ps}function useQuery(ts,rs,ns){var os=parseQueryArgs(ts,rs,ns);return useBaseQuery(os,QueryObserver)}const scriptRel="modulepreload",assetsURL=function(ts){return"/"+ts},seen={},__vitePreload=function(rs,ns,os){if(!ns||ns.length===0)return rs();const ss=document.getElementsByTagName("link");return Promise.all(ns.map(as=>{if(as=assetsURL(as),as in seen)return;seen[as]=!0;const ls=as.endsWith(".css"),cs=ls?'[rel="stylesheet"]':"";if(!!os)for(let ps=ss.length-1;ps>=0;ps--){const fs=ss[ps];if(fs.href===as&&(!ls||fs.rel==="stylesheet"))return}else if(document.querySelector('link[href="'.concat(as,'"]').concat(cs)))return;const ds=document.createElement("link");if(ds.rel=ls?"stylesheet":scriptRel,ls||(ds.as="script",ds.crossOrigin=""),ds.href=as,document.head.appendChild(ds),ls)return new Promise((ps,fs)=>{ds.addEventListener("load",ps),ds.addEventListener("error",()=>fs(new Error("Unable to preload CSS for ".concat(as))))})})).then(()=>rs()).catch(as=>{const ls=new Event("vite:preloadError",{cancelable:!0});if(ls.payload=as,window.dispatchEvent(ls),!ls.defaultPrevented)throw as})};function _objectWithoutPropertiesLoose$1(ts,rs){if(ts==null)return{};var ns={};for(var os in ts)if({}.hasOwnProperty.call(ts,os)){if(rs.includes(os))continue;ns[os]=ts[os]}return ns}var propTypes={exports:{}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function ts(os,ss,as,ls,cs,us){if(us!==ReactPropTypesSecret){var ds=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw ds.name="Invariant Violation",ds}}ts.isRequired=ts;function rs(){return ts}var ns={array:ts,bigint:ts,bool:ts,func:ts,number:ts,object:ts,string:ts,symbol:ts,any:ts,arrayOf:rs,element:ts,elementType:ts,instanceOf:rs,node:ts,objectOf:rs,oneOf:rs,oneOfType:rs,shape:rs,exact:rs,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return ns.PropTypes=ns,ns};propTypes.exports=factoryWithThrowingShims();var propTypesExports=propTypes.exports;const PropTypes=getDefaultExportFromCjs(propTypesExports);function r$5(ts){var rs,ns,os="";if(typeof ts=="string"||typeof ts=="number")os+=ts;else if(typeof ts=="object")if(Array.isArray(ts)){var ss=ts.length;for(rs=0;rs<ss;rs++)ts[rs]&&(ns=r$5(ts[rs]))&&(os&&(os+=" "),os+=ns)}else for(ns in ts)ts[ns]&&(os&&(os+=" "),os+=ns);return os}function clsx$1(){for(var ts,rs,ns=0,os="",ss=arguments.length;ns<ss;ns++)(ts=arguments[ns])&&(rs=r$5(ts))&&(os&&(os+=" "),os+=rs);return os}function composeClasses(ts,rs,ns=void 0){const os={};return Object.keys(ts).forEach(ss=>{os[ss]=ts[ss].reduce((as,ls)=>{if(ls){const cs=rs(ls);cs!==""&&as.push(cs),ns&&ns[ls]&&as.push(ns[ls])}return as},[]).join(" ")}),os}var colorManipulator={},interopRequireDefault={exports:{}};(function(ts){function rs(ns){return ns&&ns.__esModule?ns:{default:ns}}ts.exports=rs,ts.exports.__esModule=!0,ts.exports.default=ts.exports})(interopRequireDefault);var interopRequireDefaultExports=interopRequireDefault.exports;function formatMuiErrorMessage$1(ts){let rs="https://mui.com/production-error/?code="+ts;for(let ns=1;ns<arguments.length;ns+=1)rs+="&args[]="+encodeURIComponent(arguments[ns]);return"Minified MUI error #"+ts+"; visit "+rs+" for the full message."}const formatMuiErrorMessage=Object.freeze(Object.defineProperty({__proto__:null,default:formatMuiErrorMessage$1},Symbol.toStringTag,{value:"Module"})),require$$1$2=getAugmentedNamespace(formatMuiErrorMessage);function clamp$3(ts,rs=Number.MIN_SAFE_INTEGER,ns=Number.MAX_SAFE_INTEGER){return Math.max(rs,Math.min(ts,ns))}const clamp$2=Object.freeze(Object.defineProperty({__proto__:null,default:clamp$3},Symbol.toStringTag,{value:"Module"})),require$$2=getAugmentedNamespace(clamp$2);var _interopRequireDefault$z=interopRequireDefaultExports;Object.defineProperty(colorManipulator,"__esModule",{value:!0});var alpha_1=colorManipulator.alpha=alpha$1;colorManipulator.blend=blend;colorManipulator.colorChannel=void 0;var darken_1=colorManipulator.darken=darken$1;colorManipulator.decomposeColor=decomposeColor$1;var emphasize_1=colorManipulator.emphasize=emphasize,getContrastRatio_1=colorManipulator.getContrastRatio=getContrastRatio;colorManipulator.getLuminance=getLuminance;colorManipulator.hexToRgb=hexToRgb$1;colorManipulator.hslToRgb=hslToRgb;var lighten_1=colorManipulator.lighten=lighten$1;colorManipulator.private_safeAlpha=private_safeAlpha;colorManipulator.private_safeColorChannel=void 0;colorManipulator.private_safeDarken=private_safeDarken;colorManipulator.private_safeEmphasize=private_safeEmphasize;colorManipulator.private_safeLighten=private_safeLighten;colorManipulator.recomposeColor=recomposeColor$1;colorManipulator.rgbToHex=rgbToHex;var _formatMuiErrorMessage2=_interopRequireDefault$z(require$$1$2),_clamp=_interopRequireDefault$z(require$$2);function clampWrapper$1(ts,rs=0,ns=1){return(0,_clamp.default)(ts,rs,ns)}function hexToRgb$1(ts){ts=ts.slice(1);const rs=new RegExp(".{1,".concat(ts.length>=6?2:1,"}"),"g");let ns=ts.match(rs);return ns&&ns[0].length===1&&(ns=ns.map(os=>os+os)),ns?"rgb".concat(ns.length===4?"a":"","(").concat(ns.map((os,ss)=>ss<3?parseInt(os,16):Math.round(parseInt(os,16)/255*1e3)/1e3).join(", "),")"):""}function intToHex(ts){const rs=ts.toString(16);return rs.length===1?"0".concat(rs):rs}function decomposeColor$1(ts){if(ts.type)return ts;if(ts.charAt(0)==="#")return decomposeColor$1(hexToRgb$1(ts));const rs=ts.indexOf("("),ns=ts.substring(0,rs);if(["rgb","rgba","hsl","hsla","color"].indexOf(ns)===-1)throw new Error((0,_formatMuiErrorMessage2.default)(9,ts));let os=ts.substring(rs+1,ts.length-1),ss;if(ns==="color"){if(os=os.split(" "),ss=os.shift(),os.length===4&&os[3].charAt(0)==="/"&&(os[3]=os[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(ss)===-1)throw new Error((0,_formatMuiErrorMessage2.default)(10,ss))}else os=os.split(",");return os=os.map(as=>parseFloat(as)),{type:ns,values:os,colorSpace:ss}}const colorChannel=ts=>{const rs=decomposeColor$1(ts);return rs.values.slice(0,3).map((ns,os)=>rs.type.indexOf("hsl")!==-1&&os!==0?"".concat(ns,"%"):ns).join(" ")};colorManipulator.colorChannel=colorChannel;const private_safeColorChannel=(ts,rs)=>{try{return colorChannel(ts)}catch{return ts}};colorManipulator.private_safeColorChannel=private_safeColorChannel;function recomposeColor$1(ts){const{type:rs,colorSpace:ns}=ts;let{values:os}=ts;return rs.indexOf("rgb")!==-1?os=os.map((ss,as)=>as<3?parseInt(ss,10):ss):rs.indexOf("hsl")!==-1&&(os[1]="".concat(os[1],"%"),os[2]="".concat(os[2],"%")),rs.indexOf("color")!==-1?os="".concat(ns," ").concat(os.join(" ")):os="".concat(os.join(", ")),"".concat(rs,"(").concat(os,")")}function rgbToHex(ts){if(ts.indexOf("#")===0)return ts;const{values:rs}=decomposeColor$1(ts);return"#".concat(rs.map((ns,os)=>intToHex(os===3?Math.round(255*ns):ns)).join(""))}function hslToRgb(ts){ts=decomposeColor$1(ts);const{values:rs}=ts,ns=rs[0],os=rs[1]/100,ss=rs[2]/100,as=os*Math.min(ss,1-ss),ls=(ds,ps=(ds+ns/30)%12)=>ss-as*Math.max(Math.min(ps-3,9-ps,1),-1);let cs="rgb";const us=[Math.round(ls(0)*255),Math.round(ls(8)*255),Math.round(ls(4)*255)];return ts.type==="hsla"&&(cs+="a",us.push(rs[3])),recomposeColor$1({type:cs,values:us})}function getLuminance(ts){ts=decomposeColor$1(ts);let rs=ts.type==="hsl"||ts.type==="hsla"?decomposeColor$1(hslToRgb(ts)).values:ts.values;return rs=rs.map(ns=>(ts.type!=="color"&&(ns/=255),ns<=.03928?ns/12.92:((ns+.055)/1.055)**2.4)),Number((.2126*rs[0]+.7152*rs[1]+.0722*rs[2]).toFixed(3))}function getContrastRatio(ts,rs){const ns=getLuminance(ts),os=getLuminance(rs);return(Math.max(ns,os)+.05)/(Math.min(ns,os)+.05)}function alpha$1(ts,rs){return ts=decomposeColor$1(ts),rs=clampWrapper$1(rs),(ts.type==="rgb"||ts.type==="hsl")&&(ts.type+="a"),ts.type==="color"?ts.values[3]="/".concat(rs):ts.values[3]=rs,recomposeColor$1(ts)}function private_safeAlpha(ts,rs,ns){try{return alpha$1(ts,rs)}catch{return ts}}function darken$1(ts,rs){if(ts=decomposeColor$1(ts),rs=clampWrapper$1(rs),ts.type.indexOf("hsl")!==-1)ts.values[2]*=1-rs;else if(ts.type.indexOf("rgb")!==-1||ts.type.indexOf("color")!==-1)for(let ns=0;ns<3;ns+=1)ts.values[ns]*=1-rs;return recomposeColor$1(ts)}function private_safeDarken(ts,rs,ns){try{return darken$1(ts,rs)}catch{return ts}}function lighten$1(ts,rs){if(ts=decomposeColor$1(ts),rs=clampWrapper$1(rs),ts.type.indexOf("hsl")!==-1)ts.values[2]+=(100-ts.values[2])*rs;else if(ts.type.indexOf("rgb")!==-1)for(let ns=0;ns<3;ns+=1)ts.values[ns]+=(255-ts.values[ns])*rs;else if(ts.type.indexOf("color")!==-1)for(let ns=0;ns<3;ns+=1)ts.values[ns]+=(1-ts.values[ns])*rs;return recomposeColor$1(ts)}function private_safeLighten(ts,rs,ns){try{return lighten$1(ts,rs)}catch{return ts}}function emphasize(ts,rs=.15){return getLuminance(ts)>.5?darken$1(ts,rs):lighten$1(ts,rs)}function private_safeEmphasize(ts,rs,ns){try{return emphasize(ts,rs)}catch{return ts}}function blend(ts,rs,ns,os=1){const ss=(us,ds)=>Math.round((us**(1/os)*(1-ns)+ds**(1/os)*ns)**os),as=decomposeColor$1(ts),ls=decomposeColor$1(rs),cs=[ss(as.values[0],ls.values[0]),ss(as.values[1],ls.values[1]),ss(as.values[2],ls.values[2])];return recomposeColor$1({type:"rgb",values:cs})}function resolveProps(ts,rs){const ns=_extends$5({},rs);return Object.keys(ts).forEach(os=>{if(os.toString().match(/^(components|slots)$/))ns[os]=_extends$5({},ts[os],ns[os]);else if(os.toString().match(/^(componentsProps|slotProps)$/)){const ss=ts[os]||{},as=rs[os];ns[os]={},!as||!Object.keys(as)?ns[os]=ss:!ss||!Object.keys(ss)?ns[os]=as:(ns[os]=_extends$5({},as),Object.keys(ss).forEach(ls=>{ns[os][ls]=resolveProps(ss[ls],as[ls])}))}else ns[os]===void 0&&(ns[os]=ts[os])}),ns}function getThemeProps$1(ts){const{theme:rs,name:ns,props:os}=ts;return!rs||!rs.components||!rs.components[ns]||!rs.components[ns].defaultProps?os:resolveProps(rs.components[ns].defaultProps,os)}function isPlainObject$1(ts){if(typeof ts!="object"||ts===null)return!1;const rs=Object.getPrototypeOf(ts);return(rs===null||rs===Object.prototype||Object.getPrototypeOf(rs)===null)&&!(Symbol.toStringTag in ts)&&!(Symbol.iterator in ts)}function deepClone$1(ts){if(!isPlainObject$1(ts))return ts;const rs={};return Object.keys(ts).forEach(ns=>{rs[ns]=deepClone$1(ts[ns])}),rs}function deepmerge$1(ts,rs,ns={clone:!0}){const os=ns.clone?_extends$5({},ts):ts;return isPlainObject$1(ts)&&isPlainObject$1(rs)&&Object.keys(rs).forEach(ss=>{isPlainObject$1(rs[ss])&&Object.prototype.hasOwnProperty.call(ts,ss)&&isPlainObject$1(ts[ss])?os[ss]=deepmerge$1(ts[ss],rs[ss],ns):ns.clone?os[ss]=isPlainObject$1(rs[ss])?deepClone$1(rs[ss]):rs[ss]:os[ss]=rs[ss]}),os}const deepmerge=Object.freeze(Object.defineProperty({__proto__:null,default:deepmerge$1,isPlainObject:isPlainObject$1},Symbol.toStringTag,{value:"Module"})),_excluded$2T=["values","unit","step"],sortBreakpointsValues=ts=>{const rs=Object.keys(ts).map(ns=>({key:ns,val:ts[ns]}))||[];return rs.sort((ns,os)=>ns.val-os.val),rs.reduce((ns,os)=>_extends$5({},ns,{[os.key]:os.val}),{})};function createBreakpoints(ts){const{values:rs={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:ns="px",step:os=5}=ts,ss=_objectWithoutPropertiesLoose$1(ts,_excluded$2T),as=sortBreakpointsValues(rs),ls=Object.keys(as);function cs(hs){const ms=typeof rs[hs]=="number"?rs[hs]:hs;return"@media (min-width:".concat(ms).concat(ns,")")}function us(hs){const ms=typeof rs[hs]=="number"?rs[hs]:hs;return"@media (max-width:".concat(ms-os/100).concat(ns,")")}function ds(hs,ms){const gs=ls.indexOf(ms);return"@media (min-width:".concat(typeof rs[hs]=="number"?rs[hs]:hs).concat(ns,") and ")+"(max-width:".concat((gs!==-1&&typeof rs[ls[gs]]=="number"?rs[ls[gs]]:ms)-os/100).concat(ns,")")}function ps(hs){return ls.indexOf(hs)+1<ls.length?ds(hs,ls[ls.indexOf(hs)+1]):cs(hs)}function fs(hs){const ms=ls.indexOf(hs);return ms===0?cs(ls[1]):ms===ls.length-1?us(ls[ms]):ds(hs,ls[ls.indexOf(hs)+1]).replace("@media","@media not all and")}return _extends$5({keys:ls,values:as,up:cs,down:us,between:ds,only:ps,not:fs,unit:ns},ss)}const shape={borderRadius:4},shape$1=shape;function merge$1(ts,rs){return rs?deepmerge$1(ts,rs,{clone:!1}):ts}const values$1={xs:0,sm:600,md:900,lg:1200,xl:1536},defaultBreakpoints$1={keys:["xs","sm","md","lg","xl"],up:ts=>"@media (min-width:".concat(values$1[ts],"px)")};function handleBreakpoints(ts,rs,ns){const os=ts.theme||{};if(Array.isArray(rs)){const as=os.breakpoints||defaultBreakpoints$1;return rs.reduce((ls,cs,us)=>(ls[as.up(as.keys[us])]=ns(rs[us]),ls),{})}if(typeof rs=="object"){const as=os.breakpoints||defaultBreakpoints$1;return Object.keys(rs).reduce((ls,cs)=>{if(Object.keys(as.values||values$1).indexOf(cs)!==-1){const us=as.up(cs);ls[us]=ns(rs[cs],cs)}else{const us=cs;ls[us]=rs[us]}return ls},{})}return ns(rs)}function createEmptyBreakpointObject(ts={}){var rs;return((rs=ts.keys)==null?void 0:rs.reduce((os,ss)=>{const as=ts.up(ss);return os[as]={},os},{}))||{}}function removeUnusedBreakpoints(ts,rs){return ts.reduce((ns,os)=>{const ss=ns[os];return(!ss||Object.keys(ss).length===0)&&delete ns[os],ns},rs)}function mergeBreakpointsInOrder(ts,...rs){const ns=createEmptyBreakpointObject(ts),os=[ns,...rs].reduce((ss,as)=>deepmerge$1(ss,as),{});return removeUnusedBreakpoints(Object.keys(ns),os)}function computeBreakpointsBase(ts,rs){if(typeof ts!="object")return{};const ns={},os=Object.keys(rs);return Array.isArray(ts)?os.forEach((ss,as)=>{as<ts.length&&(ns[ss]=!0)}):os.forEach(ss=>{ts[ss]!=null&&(ns[ss]=!0)}),ns}function resolveBreakpointValues({values:ts,breakpoints:rs,base:ns}){const os=ns||computeBreakpointsBase(ts,rs),ss=Object.keys(os);if(ss.length===0)return ts;let as;return ss.reduce((ls,cs,us)=>(Array.isArray(ts)?(ls[cs]=ts[us]!=null?ts[us]:ts[as],as=us):typeof ts=="object"?(ls[cs]=ts[cs]!=null?ts[cs]:ts[as],as=cs):ls[cs]=ts,ls),{})}function capitalize$1(ts){if(typeof ts!="string")throw new Error(formatMuiErrorMessage$1(7));return ts.charAt(0).toUpperCase()+ts.slice(1)}const capitalize=Object.freeze(Object.defineProperty({__proto__:null,default:capitalize$1},Symbol.toStringTag,{value:"Module"}));function getPath$1(ts,rs,ns=!0){if(!rs||typeof rs!="string")return null;if(ts&&ts.vars&&ns){const os="vars.".concat(rs).split(".").reduce((ss,as)=>ss&&ss[as]?ss[as]:null,ts);if(os!=null)return os}return rs.split(".").reduce((os,ss)=>os&&os[ss]!=null?os[ss]:null,ts)}function getStyleValue$1(ts,rs,ns,os=ns){let ss;return typeof ts=="function"?ss=ts(ns):Array.isArray(ts)?ss=ts[ns]||os:ss=getPath$1(ts,ns)||os,rs&&(ss=rs(ss,os,ts)),ss}function style$2(ts){const{prop:rs,cssProperty:ns=ts.prop,themeKey:os,transform:ss}=ts,as=ls=>{if(ls[rs]==null)return null;const cs=ls[rs],us=ls.theme,ds=getPath$1(us,os)||{};return handleBreakpoints(ls,cs,fs=>{let hs=getStyleValue$1(ds,ss,fs);return fs===hs&&typeof fs=="string"&&(hs=getStyleValue$1(ds,ss,"".concat(rs).concat(fs==="default"?"":capitalize$1(fs)),fs)),ns===!1?hs:{[ns]:hs}})};return as.propTypes={},as.filterProps=[rs],as}function memoize$3(ts){const rs={};return ns=>(rs[ns]===void 0&&(rs[ns]=ts(ns)),rs[ns])}const properties={m:"margin",p:"padding"},directions={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},aliases$1={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},getCssProperties=memoize$3(ts=>{if(ts.length>2)if(aliases$1[ts])ts=aliases$1[ts];else return[ts];const[rs,ns]=ts.split(""),os=properties[rs],ss=directions[ns]||"";return Array.isArray(ss)?ss.map(as=>os+as):[os+ss]}),marginKeys=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],paddingKeys=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...marginKeys,...paddingKeys];function createUnaryUnit(ts,rs,ns,os){var ss;const as=(ss=getPath$1(ts,rs,!1))!=null?ss:ns;return typeof as=="number"?ls=>typeof ls=="string"?ls:as*ls:Array.isArray(as)?ls=>typeof ls=="string"?ls:as[ls]:typeof as=="function"?as:()=>{}}function createUnarySpacing(ts){return createUnaryUnit(ts,"spacing",8)}function getValue$1(ts,rs){if(typeof rs=="string"||rs==null)return rs;const ns=Math.abs(rs),os=ts(ns);return rs>=0?os:typeof os=="number"?-os:"-".concat(os)}function getStyleFromPropValue(ts,rs){return ns=>ts.reduce((os,ss)=>(os[ss]=getValue$1(rs,ns),os),{})}function resolveCssProperty(ts,rs,ns,os){if(rs.indexOf(ns)===-1)return null;const ss=getCssProperties(ns),as=getStyleFromPropValue(ss,os),ls=ts[ns];return handleBreakpoints(ts,ls,as)}function style$1(ts,rs){const ns=createUnarySpacing(ts.theme);return Object.keys(ts).map(os=>resolveCssProperty(ts,rs,os,ns)).reduce(merge$1,{})}function margin$1(ts){return style$1(ts,marginKeys)}margin$1.propTypes={};margin$1.filterProps=marginKeys;function padding$1(ts){return style$1(ts,paddingKeys)}padding$1.propTypes={};padding$1.filterProps=paddingKeys;function createSpacing(ts=8){if(ts.mui)return ts;const rs=createUnarySpacing({spacing:ts}),ns=(...os)=>(os.length===0?[1]:os).map(as=>{const ls=rs(as);return typeof ls=="number"?"".concat(ls,"px"):ls}).join(" ");return ns.mui=!0,ns}function compose$1(...ts){const rs=ts.reduce((os,ss)=>(ss.filterProps.forEach(as=>{os[as]=ss}),os),{}),ns=os=>Object.keys(os).reduce((ss,as)=>rs[as]?merge$1(ss,rs[as](os)):ss,{});return ns.propTypes={},ns.filterProps=ts.reduce((os,ss)=>os.concat(ss.filterProps),[]),ns}function borderTransform(ts){return typeof ts!="number"?ts:"".concat(ts,"px solid")}function createBorderStyle(ts,rs){return style$2({prop:ts,themeKey:"borders",transform:rs})}const border$1=createBorderStyle("border",borderTransform),borderTop=createBorderStyle("borderTop",borderTransform),borderRight=createBorderStyle("borderRight",borderTransform),borderBottom=createBorderStyle("borderBottom",borderTransform),borderLeft=createBorderStyle("borderLeft",borderTransform),borderColor=createBorderStyle("borderColor"),borderTopColor=createBorderStyle("borderTopColor"),borderRightColor=createBorderStyle("borderRightColor"),borderBottomColor=createBorderStyle("borderBottomColor"),borderLeftColor=createBorderStyle("borderLeftColor"),outline=createBorderStyle("outline",borderTransform),outlineColor=createBorderStyle("outlineColor"),borderRadius=ts=>{if(ts.borderRadius!==void 0&&ts.borderRadius!==null){const rs=createUnaryUnit(ts.theme,"shape.borderRadius",4),ns=os=>({borderRadius:getValue$1(rs,os)});return handleBreakpoints(ts,ts.borderRadius,ns)}return null};borderRadius.propTypes={};borderRadius.filterProps=["borderRadius"];compose$1(border$1,borderTop,borderRight,borderBottom,borderLeft,borderColor,borderTopColor,borderRightColor,borderBottomColor,borderLeftColor,borderRadius,outline,outlineColor);const gap=ts=>{if(ts.gap!==void 0&&ts.gap!==null){const rs=createUnaryUnit(ts.theme,"spacing",8),ns=os=>({gap:getValue$1(rs,os)});return handleBreakpoints(ts,ts.gap,ns)}return null};gap.propTypes={};gap.filterProps=["gap"];const columnGap=ts=>{if(ts.columnGap!==void 0&&ts.columnGap!==null){const rs=createUnaryUnit(ts.theme,"spacing",8),ns=os=>({columnGap:getValue$1(rs,os)});return handleBreakpoints(ts,ts.columnGap,ns)}return null};columnGap.propTypes={};columnGap.filterProps=["columnGap"];const rowGap=ts=>{if(ts.rowGap!==void 0&&ts.rowGap!==null){const rs=createUnaryUnit(ts.theme,"spacing",8),ns=os=>({rowGap:getValue$1(rs,os)});return handleBreakpoints(ts,ts.rowGap,ns)}return null};rowGap.propTypes={};rowGap.filterProps=["rowGap"];const gridColumn=style$2({prop:"gridColumn"}),gridRow=style$2({prop:"gridRow"}),gridAutoFlow=style$2({prop:"gridAutoFlow"}),gridAutoColumns=style$2({prop:"gridAutoColumns"}),gridAutoRows=style$2({prop:"gridAutoRows"}),gridTemplateColumns=style$2({prop:"gridTemplateColumns"}),gridTemplateRows=style$2({prop:"gridTemplateRows"}),gridTemplateAreas=style$2({prop:"gridTemplateAreas"}),gridArea=style$2({prop:"gridArea"});compose$1(gap,columnGap,rowGap,gridColumn,gridRow,gridAutoFlow,gridAutoColumns,gridAutoRows,gridTemplateColumns,gridTemplateRows,gridTemplateAreas,gridArea);function paletteTransform(ts,rs){return rs==="grey"?rs:ts}const color$1=style$2({prop:"color",themeKey:"palette",transform:paletteTransform}),bgcolor=style$2({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:paletteTransform}),backgroundColor=style$2({prop:"backgroundColor",themeKey:"palette",transform:paletteTransform});compose$1(color$1,bgcolor,backgroundColor);function sizingTransform(ts){return ts<=1&&ts!==0?"".concat(ts*100,"%"):ts}const width=style$2({prop:"width",transform:sizingTransform}),maxWidth=ts=>{if(ts.maxWidth!==void 0&&ts.maxWidth!==null){const rs=ns=>{var os,ss;const as=((os=ts.theme)==null||(os=os.breakpoints)==null||(os=os.values)==null?void 0:os[ns])||values$1[ns];return as?((ss=ts.theme)==null||(ss=ss.breakpoints)==null?void 0:ss.unit)!=="px"?{maxWidth:"".concat(as).concat(ts.theme.breakpoints.unit)}:{maxWidth:as}:{maxWidth:sizingTransform(ns)}};return handleBreakpoints(ts,ts.maxWidth,rs)}return null};maxWidth.filterProps=["maxWidth"];const minWidth=style$2({prop:"minWidth",transform:sizingTransform}),height=style$2({prop:"height",transform:sizingTransform}),maxHeight=style$2({prop:"maxHeight",transform:sizingTransform}),minHeight=style$2({prop:"minHeight",transform:sizingTransform});style$2({prop:"size",cssProperty:"width",transform:sizingTransform});style$2({prop:"size",cssProperty:"height",transform:sizingTransform});const boxSizing=style$2({prop:"boxSizing"});compose$1(width,maxWidth,minWidth,height,maxHeight,minHeight,boxSizing);const defaultSxConfig={border:{themeKey:"borders",transform:borderTransform},borderTop:{themeKey:"borders",transform:borderTransform},borderRight:{themeKey:"borders",transform:borderTransform},borderBottom:{themeKey:"borders",transform:borderTransform},borderLeft:{themeKey:"borders",transform:borderTransform},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:borderTransform},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:borderRadius},color:{themeKey:"palette",transform:paletteTransform},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:paletteTransform},backgroundColor:{themeKey:"palette",transform:paletteTransform},p:{style:padding$1},pt:{style:padding$1},pr:{style:padding$1},pb:{style:padding$1},pl:{style:padding$1},px:{style:padding$1},py:{style:padding$1},padding:{style:padding$1},paddingTop:{style:padding$1},paddingRight:{style:padding$1},paddingBottom:{style:padding$1},paddingLeft:{style:padding$1},paddingX:{style:padding$1},paddingY:{style:padding$1},paddingInline:{style:padding$1},paddingInlineStart:{style:padding$1},paddingInlineEnd:{style:padding$1},paddingBlock:{style:padding$1},paddingBlockStart:{style:padding$1},paddingBlockEnd:{style:padding$1},m:{style:margin$1},mt:{style:margin$1},mr:{style:margin$1},mb:{style:margin$1},ml:{style:margin$1},mx:{style:margin$1},my:{style:margin$1},margin:{style:margin$1},marginTop:{style:margin$1},marginRight:{style:margin$1},marginBottom:{style:margin$1},marginLeft:{style:margin$1},marginX:{style:margin$1},marginY:{style:margin$1},marginInline:{style:margin$1},marginInlineStart:{style:margin$1},marginInlineEnd:{style:margin$1},marginBlock:{style:margin$1},marginBlockStart:{style:margin$1},marginBlockEnd:{style:margin$1},displayPrint:{cssProperty:!1,transform:ts=>({"@media print":{display:ts}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:gap},rowGap:{style:rowGap},columnGap:{style:columnGap},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:sizingTransform},maxWidth:{style:maxWidth},minWidth:{transform:sizingTransform},height:{transform:sizingTransform},maxHeight:{transform:sizingTransform},minHeight:{transform:sizingTransform},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},defaultSxConfig$1=defaultSxConfig;function objectsHaveSameKeys(...ts){const rs=ts.reduce((os,ss)=>os.concat(Object.keys(ss)),[]),ns=new Set(rs);return ts.every(os=>ns.size===Object.keys(os).length)}function callIfFn(ts,rs){return typeof ts=="function"?ts(rs):ts}function unstable_createStyleFunctionSx(){function ts(ns,os,ss,as){const ls={[ns]:os,theme:ss},cs=as[ns];if(!cs)return{[ns]:os};const{cssProperty:us=ns,themeKey:ds,transform:ps,style:fs}=cs;if(os==null)return null;if(ds==="typography"&&os==="inherit")return{[ns]:os};const hs=getPath$1(ss,ds)||{};return fs?fs(ls):handleBreakpoints(ls,os,gs=>{let vs=getStyleValue$1(hs,ps,gs);return gs===vs&&typeof gs=="string"&&(vs=getStyleValue$1(hs,ps,"".concat(ns).concat(gs==="default"?"":capitalize$1(gs)),gs)),us===!1?vs:{[us]:vs}})}function rs(ns){var os;const{sx:ss,theme:as={}}=ns||{};if(!ss)return null;const ls=(os=as.unstable_sxConfig)!=null?os:defaultSxConfig$1;function cs(us){let ds=us;if(typeof us=="function")ds=us(as);else if(typeof us!="object")return us;if(!ds)return null;const ps=createEmptyBreakpointObject(as.breakpoints),fs=Object.keys(ps);let hs=ps;return Object.keys(ds).forEach(ms=>{const gs=callIfFn(ds[ms],as);if(gs!=null)if(typeof gs=="object")if(ls[ms])hs=merge$1(hs,ts(ms,gs,as,ls));else{const vs=handleBreakpoints({theme:as},gs,bs=>({[ms]:bs}));objectsHaveSameKeys(vs,gs)?hs[ms]=rs({sx:gs,theme:as}):hs=merge$1(hs,vs)}else hs=merge$1(hs,ts(ms,gs,as,ls))}),removeUnusedBreakpoints(fs,hs)}return Array.isArray(ss)?ss.map(cs):cs(ss)}return rs}const styleFunctionSx$1=unstable_createStyleFunctionSx();styleFunctionSx$1.filterProps=["sx"];const styleFunctionSx$2=styleFunctionSx$1;function applyStyles$4(ts,rs){const ns=this;return ns.vars&&typeof ns.getColorSchemeSelector=="function"?{[ns.getColorSchemeSelector(ts).replace(/(\[[^\]]+\])/,"*:where($1)")]:rs}:ns.palette.mode===ts?rs:{}}const _excluded$2S=["breakpoints","palette","spacing","shape"];function createTheme$2(ts={},...rs){const{breakpoints:ns={},palette:os={},spacing:ss,shape:as={}}=ts,ls=_objectWithoutPropertiesLoose$1(ts,_excluded$2S),cs=createBreakpoints(ns),us=createSpacing(ss);let ds=deepmerge$1({breakpoints:cs,direction:"ltr",components:{},palette:_extends$5({mode:"light"},os),spacing:us,shape:_extends$5({},shape$1,as)},ls);return ds.applyStyles=applyStyles$4,ds=rs.reduce((ps,fs)=>deepmerge$1(ps,fs),ds),ds.unstable_sxConfig=_extends$5({},defaultSxConfig$1,ls==null?void 0:ls.unstable_sxConfig),ds.unstable_sx=function(fs){return styleFunctionSx$2({sx:fs,theme:this})},ds}const createTheme$1=Object.freeze(Object.defineProperty({__proto__:null,default:createTheme$2,private_createBreakpoints:createBreakpoints,unstable_applyStyles:applyStyles$4},Symbol.toStringTag,{value:"Module"}));function memoize$2(ts){var rs=Object.create(null);return function(ns){return rs[ns]===void 0&&(rs[ns]=ts(ns)),rs[ns]}}var reactPropsRegex=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,isPropValid=memoize$2(function(ts){return reactPropsRegex.test(ts)||ts.charCodeAt(0)===111&&ts.charCodeAt(1)===110&&ts.charCodeAt(2)<91}),isDevelopment$2=!1;function sheetForTag(ts){if(ts.sheet)return ts.sheet;for(var rs=0;rs<document.styleSheets.length;rs++)if(document.styleSheets[rs].ownerNode===ts)return document.styleSheets[rs]}function createStyleElement(ts){var rs=document.createElement("style");return rs.setAttribute("data-emotion",ts.key),ts.nonce!==void 0&&rs.setAttribute("nonce",ts.nonce),rs.appendChild(document.createTextNode("")),rs.setAttribute("data-s",""),rs}var StyleSheet=function(){function ts(ns){var os=this;this._insertTag=function(ss){var as;os.tags.length===0?os.insertionPoint?as=os.insertionPoint.nextSibling:os.prepend?as=os.container.firstChild:as=os.before:as=os.tags[os.tags.length-1].nextSibling,os.container.insertBefore(ss,as),os.tags.push(ss)},this.isSpeedy=ns.speedy===void 0?!isDevelopment$2:ns.speedy,this.tags=[],this.ctr=0,this.nonce=ns.nonce,this.key=ns.key,this.container=ns.container,this.prepend=ns.prepend,this.insertionPoint=ns.insertionPoint,this.before=null}var rs=ts.prototype;return rs.hydrate=function(os){os.forEach(this._insertTag)},rs.insert=function(os){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(createStyleElement(this));var ss=this.tags[this.tags.length-1];if(this.isSpeedy){var as=sheetForTag(ss);try{as.insertRule(os,as.cssRules.length)}catch{}}else ss.appendChild(document.createTextNode(os));this.ctr++},rs.flush=function(){this.tags.forEach(function(os){var ss;return(ss=os.parentNode)==null?void 0:ss.removeChild(os)}),this.tags=[],this.ctr=0},ts}(),MS="-ms-",MOZ="-moz-",WEBKIT="-webkit-",COMMENT$1="comm",RULESET="rule",DECLARATION="decl",IMPORT="@import",KEYFRAMES="@keyframes",LAYER="@layer",abs=Math.abs,from=String.fromCharCode,assign$1=Object.assign;function hash$4(ts,rs){return charat(ts,0)^45?(((rs<<2^charat(ts,0))<<2^charat(ts,1))<<2^charat(ts,2))<<2^charat(ts,3):0}function trim(ts){return ts.trim()}function match$1(ts,rs){return(ts=rs.exec(ts))?ts[0]:ts}function replace(ts,rs,ns){return ts.replace(rs,ns)}function indexof(ts,rs){return ts.indexOf(rs)}function charat(ts,rs){return ts.charCodeAt(rs)|0}function substr(ts,rs,ns){return ts.slice(rs,ns)}function strlen(ts){return ts.length}function sizeof(ts){return ts.length}function append(ts,rs){return rs.push(ts),ts}function combine(ts,rs){return ts.map(rs).join("")}var line=1,column=1,length=0,position$1=0,character=0,characters="";function node(ts,rs,ns,os,ss,as,ls){return{value:ts,root:rs,parent:ns,type:os,props:ss,children:as,line,column,length:ls,return:""}}function copy(ts,rs){return assign$1(node("",null,null,"",null,null,0),ts,{length:-ts.length},rs)}function char(){return character}function prev(){return character=position$1>0?charat(characters,--position$1):0,column--,character===10&&(column=1,line--),character}function next(){return character=position$1<length?charat(characters,position$1++):0,column++,character===10&&(column=1,line++),character}function peek(){return charat(characters,position$1)}function caret(){return position$1}function slice(ts,rs){return substr(characters,ts,rs)}function token(ts){switch(ts){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function alloc(ts){return line=column=1,length=strlen(characters=ts),position$1=0,[]}function dealloc(ts){return characters="",ts}function delimit(ts){return trim(slice(position$1-1,delimiter(ts===91?ts+2:ts===40?ts+1:ts)))}function whitespace(ts){for(;(character=peek())&&character<33;)next();return token(ts)>2||token(character)>3?"":" "}function escaping(ts,rs){for(;--rs&&next()&&!(character<48||character>102||character>57&&character<65||character>70&&character<97););return slice(ts,caret()+(rs<6&&peek()==32&&next()==32))}function delimiter(ts){for(;next();)switch(character){case ts:return position$1;case 34:case 39:ts!==34&&ts!==39&&delimiter(character);break;case 40:ts===41&&delimiter(ts);break;case 92:next();break}return position$1}function commenter(ts,rs){for(;next()&&ts+character!==47+10;)if(ts+character===42+42&&peek()===47)break;return"/*"+slice(rs,position$1-1)+"*"+from(ts===47?ts:next())}function identifier(ts){for(;!token(peek());)next();return slice(ts,position$1)}function compile(ts){return dealloc(parse$1("",null,null,null,[""],ts=alloc(ts),0,[0],ts))}function parse$1(ts,rs,ns,os,ss,as,ls,cs,us){for(var ds=0,ps=0,fs=ls,hs=0,ms=0,gs=0,vs=1,bs=1,xs=1,ys=0,Ss="",Cs=ss,$s=as,Es=os,ws=Ss;bs;)switch(gs=ys,ys=next()){case 40:if(gs!=108&&charat(ws,fs-1)==58){indexof(ws+=replace(delimit(ys),"&","&\f"),"&\f")!=-1&&(xs=-1);break}case 34:case 39:case 91:ws+=delimit(ys);break;case 9:case 10:case 13:case 32:ws+=whitespace(gs);break;case 92:ws+=escaping(caret()-1,7);continue;case 47:switch(peek()){case 42:case 47:append(comment(commenter(next(),caret()),rs,ns),us);break;default:ws+="/"}break;case 123*vs:cs[ds++]=strlen(ws)*xs;case 125*vs:case 59:case 0:switch(ys){case 0:case 125:bs=0;case 59+ps:xs==-1&&(ws=replace(ws,/\f/g,"")),ms>0&&strlen(ws)-fs&&append(ms>32?declaration(ws+";",os,ns,fs-1):declaration(replace(ws," ","")+";",os,ns,fs-2),us);break;case 59:ws+=";";default:if(append(Es=ruleset(ws,rs,ns,ds,ps,ss,cs,Ss,Cs=[],$s=[],fs),as),ys===123)if(ps===0)parse$1(ws,rs,Es,Es,Cs,as,fs,cs,$s);else switch(hs===99&&charat(ws,3)===110?100:hs){case 100:case 108:case 109:case 115:parse$1(ts,Es,Es,os&&append(ruleset(ts,Es,Es,0,0,ss,cs,Ss,ss,Cs=[],fs),$s),ss,$s,fs,cs,os?Cs:$s);break;default:parse$1(ws,Es,Es,Es,[""],$s,0,cs,$s)}}ds=ps=ms=0,vs=xs=1,Ss=ws="",fs=ls;break;case 58:fs=1+strlen(ws),ms=gs;default:if(vs<1){if(ys==123)--vs;else if(ys==125&&vs++==0&&prev()==125)continue}switch(ws+=from(ys),ys*vs){case 38:xs=ps>0?1:(ws+="\f",-1);break;case 44:cs[ds++]=(strlen(ws)-1)*xs,xs=1;break;case 64:peek()===45&&(ws+=delimit(next())),hs=peek(),ps=fs=strlen(Ss=ws+=identifier(caret())),ys++;break;case 45:gs===45&&strlen(ws)==2&&(vs=0)}}return as}function ruleset(ts,rs,ns,os,ss,as,ls,cs,us,ds,ps){for(var fs=ss-1,hs=ss===0?as:[""],ms=sizeof(hs),gs=0,vs=0,bs=0;gs<os;++gs)for(var xs=0,ys=substr(ts,fs+1,fs=abs(vs=ls[gs])),Ss=ts;xs<ms;++xs)(Ss=trim(vs>0?hs[xs]+" "+ys:replace(ys,/&\f/g,hs[xs])))&&(us[bs++]=Ss);return node(ts,rs,ns,ss===0?RULESET:cs,us,ds,ps)}function comment(ts,rs,ns){return node(ts,rs,ns,COMMENT$1,from(char()),substr(ts,2,-2),0)}function declaration(ts,rs,ns,os){return node(ts,rs,ns,DECLARATION,substr(ts,0,os),substr(ts,os+1,-1),os)}function serialize(ts,rs){for(var ns="",os=sizeof(ts),ss=0;ss<os;ss++)ns+=rs(ts[ss],ss,ts,rs)||"";return ns}function stringify$2(ts,rs,ns,os){switch(ts.type){case LAYER:if(ts.children.length)break;case IMPORT:case DECLARATION:return ts.return=ts.return||ts.value;case COMMENT$1:return"";case KEYFRAMES:return ts.return=ts.value+"{"+serialize(ts.children,os)+"}";case RULESET:ts.value=ts.props.join(",")}return strlen(ns=serialize(ts.children,os))?ts.return=ts.value+"{"+ns+"}":""}function middleware(ts){var rs=sizeof(ts);return function(ns,os,ss,as){for(var ls="",cs=0;cs<rs;cs++)ls+=ts[cs](ns,os,ss,as)||"";return ls}}function rulesheet(ts){return function(rs){rs.root||(rs=rs.return)&&ts(rs)}}var identifierWithPointTracking=function(rs,ns,os){for(var ss=0,as=0;ss=as,as=peek(),ss===38&&as===12&&(ns[os]=1),!token(as);)next();return slice(rs,position$1)},toRules=function(rs,ns){var os=-1,ss=44;do switch(token(ss)){case 0:ss===38&&peek()===12&&(ns[os]=1),rs[os]+=identifierWithPointTracking(position$1-1,ns,os);break;case 2:rs[os]+=delimit(ss);break;case 4:if(ss===44){rs[++os]=peek()===58?"&\f":"",ns[os]=rs[os].length;break}default:rs[os]+=from(ss)}while(ss=next());return rs},getRules=function(rs,ns){return dealloc(toRules(alloc(rs),ns))},fixedElements=new WeakMap,compat=function(rs){if(!(rs.type!=="rule"||!rs.parent||rs.length<1)){for(var ns=rs.value,os=rs.parent,ss=rs.column===os.column&&rs.line===os.line;os.type!=="rule";)if(os=os.parent,!os)return;if(!(rs.props.length===1&&ns.charCodeAt(0)!==58&&!fixedElements.get(os))&&!ss){fixedElements.set(rs,!0);for(var as=[],ls=getRules(ns,as),cs=os.props,us=0,ds=0;us<ls.length;us++)for(var ps=0;ps<cs.length;ps++,ds++)rs.props[ds]=as[us]?ls[us].replace(/&\f/g,cs[ps]):cs[ps]+" "+ls[us]}}},removeLabel=function(rs){if(rs.type==="decl"){var ns=rs.value;ns.charCodeAt(0)===108&&ns.charCodeAt(2)===98&&(rs.return="",rs.value="")}};function prefix(ts,rs){switch(hash$4(ts,rs)){case 5103:return WEBKIT+"print-"+ts+ts;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return WEBKIT+ts+ts;case 5349:case 4246:case 4810:case 6968:case 2756:return WEBKIT+ts+MOZ+ts+MS+ts+ts;case 6828:case 4268:return WEBKIT+ts+MS+ts+ts;case 6165:return WEBKIT+ts+MS+"flex-"+ts+ts;case 5187:return WEBKIT+ts+replace(ts,/(\w+).+(:[^]+)/,WEBKIT+"box-$1$2"+MS+"flex-$1$2")+ts;case 5443:return WEBKIT+ts+MS+"flex-item-"+replace(ts,/flex-|-self/,"")+ts;case 4675:return WEBKIT+ts+MS+"flex-line-pack"+replace(ts,/align-content|flex-|-self/,"")+ts;case 5548:return WEBKIT+ts+MS+replace(ts,"shrink","negative")+ts;case 5292:return WEBKIT+ts+MS+replace(ts,"basis","preferred-size")+ts;case 6060:return WEBKIT+"box-"+replace(ts,"-grow","")+WEBKIT+ts+MS+replace(ts,"grow","positive")+ts;case 4554:return WEBKIT+replace(ts,/([^-])(transform)/g,"$1"+WEBKIT+"$2")+ts;case 6187:return replace(replace(replace(ts,/(zoom-|grab)/,WEBKIT+"$1"),/(image-set)/,WEBKIT+"$1"),ts,"")+ts;case 5495:case 3959:return replace(ts,/(image-set\([^]*)/,WEBKIT+"$1$`$1");case 4968:return replace(replace(ts,/(.+:)(flex-)?(.*)/,WEBKIT+"box-pack:$3"+MS+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+WEBKIT+ts+ts;case 4095:case 3583:case 4068:case 2532:return replace(ts,/(.+)-inline(.+)/,WEBKIT+"$1$2")+ts;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(strlen(ts)-1-rs>6)switch(charat(ts,rs+1)){case 109:if(charat(ts,rs+4)!==45)break;case 102:return replace(ts,/(.+:)(.+)-([^]+)/,"$1"+WEBKIT+"$2-$3$1"+MOZ+(charat(ts,rs+3)==108?"$3":"$2-$3"))+ts;case 115:return~indexof(ts,"stretch")?prefix(replace(ts,"stretch","fill-available"),rs)+ts:ts}break;case 4949:if(charat(ts,rs+1)!==115)break;case 6444:switch(charat(ts,strlen(ts)-3-(~indexof(ts,"!important")&&10))){case 107:return replace(ts,":",":"+WEBKIT)+ts;case 101:return replace(ts,/(.+:)([^;!]+)(;|!.+)?/,"$1"+WEBKIT+(charat(ts,14)===45?"inline-":"")+"box$3$1"+WEBKIT+"$2$3$1"+MS+"$2box$3")+ts}break;case 5936:switch(charat(ts,rs+11)){case 114:return WEBKIT+ts+MS+replace(ts,/[svh]\w+-[tblr]{2}/,"tb")+ts;case 108:return WEBKIT+ts+MS+replace(ts,/[svh]\w+-[tblr]{2}/,"tb-rl")+ts;case 45:return WEBKIT+ts+MS+replace(ts,/[svh]\w+-[tblr]{2}/,"lr")+ts}return WEBKIT+ts+MS+ts+ts}return ts}var prefixer=function(rs,ns,os,ss){if(rs.length>-1&&!rs.return)switch(rs.type){case DECLARATION:rs.return=prefix(rs.value,rs.length);break;case KEYFRAMES:return serialize([copy(rs,{value:replace(rs.value,"@","@"+WEBKIT)})],ss);case RULESET:if(rs.length)return combine(rs.props,function(as){switch(match$1(as,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return serialize([copy(rs,{props:[replace(as,/:(read-\w+)/,":"+MOZ+"$1")]})],ss);case"::placeholder":return serialize([copy(rs,{props:[replace(as,/:(plac\w+)/,":"+WEBKIT+"input-$1")]}),copy(rs,{props:[replace(as,/:(plac\w+)/,":"+MOZ+"$1")]}),copy(rs,{props:[replace(as,/:(plac\w+)/,MS+"input-$1")]})],ss)}return""})}},defaultStylisPlugins=[prefixer],createCache=function(rs){var ns=rs.key;if(ns==="css"){var os=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(os,function(vs){var bs=vs.getAttribute("data-emotion");bs.indexOf(" ")!==-1&&(document.head.appendChild(vs),vs.setAttribute("data-s",""))})}var ss=rs.stylisPlugins||defaultStylisPlugins,as={},ls,cs=[];ls=rs.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+ns+' "]'),function(vs){for(var bs=vs.getAttribute("data-emotion").split(" "),xs=1;xs<bs.length;xs++)as[bs[xs]]=!0;cs.push(vs)});var us,ds=[compat,removeLabel];{var ps,fs=[stringify$2,rulesheet(function(vs){ps.insert(vs)})],hs=middleware(ds.concat(ss,fs)),ms=function(bs){return serialize(compile(bs),hs)};us=function(bs,xs,ys,Ss){ps=ys,ms(bs?bs+"{"+xs.styles+"}":xs.styles),Ss&&(gs.inserted[xs.name]=!0)}}var gs={key:ns,sheet:new StyleSheet({key:ns,container:ls,nonce:rs.nonce,speedy:rs.speedy,prepend:rs.prepend,insertionPoint:rs.insertionPoint}),nonce:rs.nonce,inserted:as,registered:{},insert:us};return gs.sheet.hydrate(cs),gs},reactIs$2={exports:{}},reactIs_production_min$1={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b$3=typeof Symbol=="function"&&Symbol.for,c$2=b$3?Symbol.for("react.element"):60103,d$2=b$3?Symbol.for("react.portal"):60106,e$3=b$3?Symbol.for("react.fragment"):60107,f$2=b$3?Symbol.for("react.strict_mode"):60108,g$3=b$3?Symbol.for("react.profiler"):60114,h$4=b$3?Symbol.for("react.provider"):60109,k$5=b$3?Symbol.for("react.context"):60110,l$4=b$3?Symbol.for("react.async_mode"):60111,m$4=b$3?Symbol.for("react.concurrent_mode"):60111,n$5=b$3?Symbol.for("react.forward_ref"):60112,p$4=b$3?Symbol.for("react.suspense"):60113,q$5=b$3?Symbol.for("react.suspense_list"):60120,r$4=b$3?Symbol.for("react.memo"):60115,t$4=b$3?Symbol.for("react.lazy"):60116,v$4=b$3?Symbol.for("react.block"):60121,w$2=b$3?Symbol.for("react.fundamental"):60117,x$1=b$3?Symbol.for("react.responder"):60118,y$1=b$3?Symbol.for("react.scope"):60119;function z$1(ts){if(typeof ts=="object"&&ts!==null){var rs=ts.$$typeof;switch(rs){case c$2:switch(ts=ts.type,ts){case l$4:case m$4:case e$3:case g$3:case f$2:case p$4:return ts;default:switch(ts=ts&&ts.$$typeof,ts){case k$5:case n$5:case t$4:case r$4:case h$4:return ts;default:return rs}}case d$2:return rs}}}function A(ts){return z$1(ts)===m$4}reactIs_production_min$1.AsyncMode=l$4;reactIs_production_min$1.ConcurrentMode=m$4;reactIs_production_min$1.ContextConsumer=k$5;reactIs_production_min$1.ContextProvider=h$4;reactIs_production_min$1.Element=c$2;reactIs_production_min$1.ForwardRef=n$5;reactIs_production_min$1.Fragment=e$3;reactIs_production_min$1.Lazy=t$4;reactIs_production_min$1.Memo=r$4;reactIs_production_min$1.Portal=d$2;reactIs_production_min$1.Profiler=g$3;reactIs_production_min$1.StrictMode=f$2;reactIs_production_min$1.Suspense=p$4;reactIs_production_min$1.isAsyncMode=function(ts){return A(ts)||z$1(ts)===l$4};reactIs_production_min$1.isConcurrentMode=A;reactIs_production_min$1.isContextConsumer=function(ts){return z$1(ts)===k$5};reactIs_production_min$1.isContextProvider=function(ts){return z$1(ts)===h$4};reactIs_production_min$1.isElement=function(ts){return typeof ts=="object"&&ts!==null&&ts.$$typeof===c$2};reactIs_production_min$1.isForwardRef=function(ts){return z$1(ts)===n$5};reactIs_production_min$1.isFragment=function(ts){return z$1(ts)===e$3};reactIs_production_min$1.isLazy=function(ts){return z$1(ts)===t$4};reactIs_production_min$1.isMemo=function(ts){return z$1(ts)===r$4};reactIs_production_min$1.isPortal=function(ts){return z$1(ts)===d$2};reactIs_production_min$1.isProfiler=function(ts){return z$1(ts)===g$3};reactIs_production_min$1.isStrictMode=function(ts){return z$1(ts)===f$2};reactIs_production_min$1.isSuspense=function(ts){return z$1(ts)===p$4};reactIs_production_min$1.isValidElementType=function(ts){return typeof ts=="string"||typeof ts=="function"||ts===e$3||ts===m$4||ts===g$3||ts===f$2||ts===p$4||ts===q$5||typeof ts=="object"&&ts!==null&&(ts.$$typeof===t$4||ts.$$typeof===r$4||ts.$$typeof===h$4||ts.$$typeof===k$5||ts.$$typeof===n$5||ts.$$typeof===w$2||ts.$$typeof===x$1||ts.$$typeof===y$1||ts.$$typeof===v$4)};reactIs_production_min$1.typeOf=z$1;reactIs$2.exports=reactIs_production_min$1;var reactIsExports$1=reactIs$2.exports,reactIs$1=reactIsExports$1,REACT_STATICS={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},KNOWN_STATICS={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},FORWARD_REF_STATICS={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},MEMO_STATICS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},TYPE_STATICS={};TYPE_STATICS[reactIs$1.ForwardRef]=FORWARD_REF_STATICS;TYPE_STATICS[reactIs$1.Memo]=MEMO_STATICS;function getStatics(ts){return reactIs$1.isMemo(ts)?MEMO_STATICS:TYPE_STATICS[ts.$$typeof]||REACT_STATICS}var defineProperty=Object.defineProperty,getOwnPropertyNames=Object.getOwnPropertyNames,getOwnPropertySymbols$1=Object.getOwnPropertySymbols,getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,getPrototypeOf=Object.getPrototypeOf,objectPrototype=Object.prototype;function hoistNonReactStatics(ts,rs,ns){if(typeof rs!="string"){if(objectPrototype){var os=getPrototypeOf(rs);os&&os!==objectPrototype&&hoistNonReactStatics(ts,os,ns)}var ss=getOwnPropertyNames(rs);getOwnPropertySymbols$1&&(ss=ss.concat(getOwnPropertySymbols$1(rs)));for(var as=getStatics(ts),ls=getStatics(rs),cs=0;cs<ss.length;++cs){var us=ss[cs];if(!KNOWN_STATICS[us]&&!(ns&&ns[us])&&!(ls&&ls[us])&&!(as&&as[us])){var ds=getOwnPropertyDescriptor(rs,us);try{defineProperty(ts,us,ds)}catch{}}}}return ts}var hoistNonReactStatics_cjs=hoistNonReactStatics;const m$3=getDefaultExportFromCjs(hoistNonReactStatics_cjs);var isBrowser$2=!0;function getRegisteredStyles(ts,rs,ns){var os="";return ns.split(" ").forEach(function(ss){ts[ss]!==void 0?rs.push(ts[ss]+";"):os+=ss+" "}),os}var registerStyles=function(rs,ns,os){var ss=rs.key+"-"+ns.name;(os===!1||isBrowser$2===!1)&&rs.registered[ss]===void 0&&(rs.registered[ss]=ns.styles)},insertStyles=function(rs,ns,os){registerStyles(rs,ns,os);var ss=rs.key+"-"+ns.name;if(rs.inserted[ns.name]===void 0){var as=ns;do rs.insert(ns===as?"."+ss:"",as,rs.sheet,!0),as=as.next;while(as!==void 0)}};function murmur2(ts){for(var rs=0,ns,os=0,ss=ts.length;ss>=4;++os,ss-=4)ns=ts.charCodeAt(os)&255|(ts.charCodeAt(++os)&255)<<8|(ts.charCodeAt(++os)&255)<<16|(ts.charCodeAt(++os)&255)<<24,ns=(ns&65535)*1540483477+((ns>>>16)*59797<<16),ns^=ns>>>24,rs=(ns&65535)*1540483477+((ns>>>16)*59797<<16)^(rs&65535)*1540483477+((rs>>>16)*59797<<16);switch(ss){case 3:rs^=(ts.charCodeAt(os+2)&255)<<16;case 2:rs^=(ts.charCodeAt(os+1)&255)<<8;case 1:rs^=ts.charCodeAt(os)&255,rs=(rs&65535)*1540483477+((rs>>>16)*59797<<16)}return rs^=rs>>>13,rs=(rs&65535)*1540483477+((rs>>>16)*59797<<16),((rs^rs>>>15)>>>0).toString(36)}var unitlessKeys$1={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},isDevelopment$1=!1,hyphenateRegex=/[A-Z]|^ms/g,animationRegex=/_EMO_([^_]+?)_([^]*?)_EMO_/g,isCustomProperty=function(rs){return rs.charCodeAt(1)===45},isProcessableValue=function(rs){return rs!=null&&typeof rs!="boolean"},processStyleName=memoize$2(function(ts){return isCustomProperty(ts)?ts:ts.replace(hyphenateRegex,"-$&").toLowerCase()}),processStyleValue=function(rs,ns){switch(rs){case"animation":case"animationName":if(typeof ns=="string")return ns.replace(animationRegex,function(os,ss,as){return cursor={name:ss,styles:as,next:cursor},ss})}return unitlessKeys$1[rs]!==1&&!isCustomProperty(rs)&&typeof ns=="number"&&ns!==0?ns+"px":ns},noComponentSelectorMessage="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function handleInterpolation(ts,rs,ns){if(ns==null)return"";var os=ns;if(os.__emotion_styles!==void 0)return os;switch(typeof ns){case"boolean":return"";case"object":{var ss=ns;if(ss.anim===1)return cursor={name:ss.name,styles:ss.styles,next:cursor},ss.name;var as=ns;if(as.styles!==void 0){var ls=as.next;if(ls!==void 0)for(;ls!==void 0;)cursor={name:ls.name,styles:ls.styles,next:cursor},ls=ls.next;var cs=as.styles+";";return cs}return createStringFromObject(ts,rs,ns)}case"function":{if(ts!==void 0){var us=cursor,ds=ns(ts);return cursor=us,handleInterpolation(ts,rs,ds)}break}}var ps=ns;if(rs==null)return ps;var fs=rs[ps];return fs!==void 0?fs:ps}function createStringFromObject(ts,rs,ns){var os="";if(Array.isArray(ns))for(var ss=0;ss<ns.length;ss++)os+=handleInterpolation(ts,rs,ns[ss])+";";else for(var as in ns){var ls=ns[as];if(typeof ls!="object"){var cs=ls;rs!=null&&rs[cs]!==void 0?os+=as+"{"+rs[cs]+"}":isProcessableValue(cs)&&(os+=processStyleName(as)+":"+processStyleValue(as,cs)+";")}else{if(as==="NO_COMPONENT_SELECTOR"&&isDevelopment$1)throw new Error(noComponentSelectorMessage);if(Array.isArray(ls)&&typeof ls[0]=="string"&&(rs==null||rs[ls[0]]===void 0))for(var us=0;us<ls.length;us++)isProcessableValue(ls[us])&&(os+=processStyleName(as)+":"+processStyleValue(as,ls[us])+";");else{var ds=handleInterpolation(ts,rs,ls);switch(as){case"animation":case"animationName":{os+=processStyleName(as)+":"+ds+";";break}default:os+=as+"{"+ds+"}"}}}}return os}var labelPattern=/label:\s*([^\s;\n{]+)\s*(;|$)/g,cursor;function serializeStyles(ts,rs,ns){if(ts.length===1&&typeof ts[0]=="object"&&ts[0]!==null&&ts[0].styles!==void 0)return ts[0];var os=!0,ss="";cursor=void 0;var as=ts[0];if(as==null||as.raw===void 0)os=!1,ss+=handleInterpolation(ns,rs,as);else{var ls=as;ss+=ls[0]}for(var cs=1;cs<ts.length;cs++)if(ss+=handleInterpolation(ns,rs,ts[cs]),os){var us=as;ss+=us[cs]}labelPattern.lastIndex=0;for(var ds="",ps;(ps=labelPattern.exec(ss))!==null;)ds+="-"+ps[1];var fs=murmur2(ss)+ds;return{name:fs,styles:ss,next:cursor}}var syncFallback=function(rs){return rs()},useInsertionEffect=React$3["useInsertionEffect"]?React$3["useInsertionEffect"]:!1,useInsertionEffectAlwaysWithSyncFallback=useInsertionEffect||syncFallback,useInsertionEffectWithLayoutFallback=useInsertionEffect||reactExports.useLayoutEffect,EmotionCacheContext=reactExports.createContext(typeof HTMLElement<"u"?createCache({key:"css"}):null),CacheProvider=EmotionCacheContext.Provider,withEmotionCache=function(rs){return reactExports.forwardRef(function(ns,os){var ss=reactExports.useContext(EmotionCacheContext);return rs(ns,ss,os)})},ThemeContext$2=reactExports.createContext({}),Global=withEmotionCache(function(ts,rs){var ns=ts.styles,os=serializeStyles([ns],void 0,reactExports.useContext(ThemeContext$2)),ss=reactExports.useRef();return useInsertionEffectWithLayoutFallback(function(){var as=rs.key+"-global",ls=new rs.sheet.constructor({key:as,nonce:rs.sheet.nonce,container:rs.sheet.container,speedy:rs.sheet.isSpeedy}),cs=!1,us=document.querySelector('style[data-emotion="'+as+" "+os.name+'"]');return rs.sheet.tags.length&&(ls.before=rs.sheet.tags[0]),us!==null&&(cs=!0,us.setAttribute("data-emotion",as),ls.hydrate([us])),ss.current=[ls,cs],function(){ls.flush()}},[rs]),useInsertionEffectWithLayoutFallback(function(){var as=ss.current,ls=as[0],cs=as[1];if(cs){as[1]=!1;return}if(os.next!==void 0&&insertStyles(rs,os.next,!0),ls.tags.length){var us=ls.tags[ls.tags.length-1].nextElementSibling;ls.before=us,ls.flush()}rs.insert("",os,ls,!1)},[rs,os.name]),null});function css$2(){for(var ts=arguments.length,rs=new Array(ts),ns=0;ns<ts;ns++)rs[ns]=arguments[ns];return serializeStyles(rs)}var keyframes=function(){var rs=css$2.apply(void 0,arguments),ns="animation-"+rs.name;return{name:ns,styles:"@keyframes "+ns+"{"+rs.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},testOmitPropsOnStringTag=isPropValid,testOmitPropsOnComponent=function(rs){return rs!=="theme"},getDefaultShouldForwardProp=function(rs){return typeof rs=="string"&&rs.charCodeAt(0)>96?testOmitPropsOnStringTag:testOmitPropsOnComponent},composeShouldForwardProps=function(rs,ns,os){var ss;if(ns){var as=ns.shouldForwardProp;ss=rs.__emotion_forwardProp&&as?function(ls){return rs.__emotion_forwardProp(ls)&&as(ls)}:as}return typeof ss!="function"&&os&&(ss=rs.__emotion_forwardProp),ss},isDevelopment=!1,Insertion=function(rs){var ns=rs.cache,os=rs.serialized,ss=rs.isStringTag;return registerStyles(ns,os,ss),useInsertionEffectAlwaysWithSyncFallback(function(){return insertStyles(ns,os,ss)}),null},createStyled$3=function ts(rs,ns){var os=rs.__emotion_real===rs,ss=os&&rs.__emotion_base||rs,as,ls;ns!==void 0&&(as=ns.label,ls=ns.target);var cs=composeShouldForwardProps(rs,ns,os),us=cs||getDefaultShouldForwardProp(ss),ds=!us("as");return function(){var ps=arguments,fs=os&&rs.__emotion_styles!==void 0?rs.__emotion_styles.slice(0):[];if(as!==void 0&&fs.push("label:"+as+";"),ps[0]==null||ps[0].raw===void 0)fs.push.apply(fs,ps);else{fs.push(ps[0][0]);for(var hs=ps.length,ms=1;ms<hs;ms++)fs.push(ps[ms],ps[0][ms])}var gs=withEmotionCache(function(vs,bs,xs){var ys=ds&&vs.as||ss,Ss="",Cs=[],$s=vs;if(vs.theme==null){$s={};for(var Es in vs)$s[Es]=vs[Es];$s.theme=reactExports.useContext(ThemeContext$2)}typeof vs.className=="string"?Ss=getRegisteredStyles(bs.registered,Cs,vs.className):vs.className!=null&&(Ss=vs.className+" ");var ws=serializeStyles(fs.concat(Cs),bs.registered,$s);Ss+=bs.key+"-"+ws.name,ls!==void 0&&(Ss+=" "+ls);var Ts=ds&&cs===void 0?getDefaultShouldForwardProp(ys):us,Is={};for(var Rs in vs)ds&&Rs==="as"||Ts(Rs)&&(Is[Rs]=vs[Rs]);return Is.className=Ss,xs&&(Is.ref=xs),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(Insertion,{cache:bs,serialized:ws,isStringTag:typeof ys=="string"}),reactExports.createElement(ys,Is))});return gs.displayName=as!==void 0?as:"Styled("+(typeof ss=="string"?ss:ss.displayName||ss.name||"Component")+")",gs.defaultProps=rs.defaultProps,gs.__emotion_real=gs,gs.__emotion_base=ss,gs.__emotion_styles=fs,gs.__emotion_forwardProp=cs,Object.defineProperty(gs,"toString",{value:function(){return ls===void 0&&isDevelopment?"NO_COMPONENT_SELECTOR":"."+ls}}),gs.withComponent=function(vs,bs){return ts(vs,_extends$5({},ns,bs,{shouldForwardProp:composeShouldForwardProps(gs,bs,!0)})).apply(void 0,fs)},gs}},tags=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],newStyled=createStyled$3.bind();tags.forEach(function(ts){newStyled[ts]=newStyled(ts)});let cache;typeof document=="object"&&(cache=createCache({key:"css",prepend:!0}));function StyledEngineProvider(ts){const{injectFirst:rs,children:ns}=ts;return rs&&cache?jsxRuntimeExports.jsx(CacheProvider,{value:cache,children:ns}):ns}function isEmpty$4(ts){return ts==null||Object.keys(ts).length===0}function GlobalStyles$3(ts){const{styles:rs,defaultTheme:ns={}}=ts,os=typeof rs=="function"?ss=>rs(isEmpty$4(ss)?ns:ss):rs;return jsxRuntimeExports.jsx(Global,{styles:os})}/**
 * @mui/styled-engine v5.16.4
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function styled$5(ts,rs){return newStyled(ts,rs)}const internal_processStyles=(ts,rs)=>{Array.isArray(ts.__emotion_styles)&&(ts.__emotion_styles=rs(ts.__emotion_styles))},styledEngine=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:GlobalStyles$3,StyledEngineProvider,ThemeContext:ThemeContext$2,css:css$2,default:styled$5,internal_processStyles,keyframes},Symbol.toStringTag,{value:"Module"}));function isObjectEmpty$1(ts){return Object.keys(ts).length===0}function useTheme$4(ts=null){const rs=reactExports.useContext(ThemeContext$2);return!rs||isObjectEmpty$1(rs)?ts:rs}const systemDefaultTheme$2=createTheme$2();function useTheme$3(ts=systemDefaultTheme$2){return useTheme$4(ts)}function useThemeProps$1({props:ts,name:rs,defaultTheme:ns,themeId:os}){let ss=useTheme$3(ns);return os&&(ss=ss[os]||ss),getThemeProps$1({theme:ss,name:rs,props:ts})}const _excluded$2R=["sx"],splitProps=ts=>{var rs,ns;const os={systemProps:{},otherProps:{}},ss=(rs=ts==null||(ns=ts.theme)==null?void 0:ns.unstable_sxConfig)!=null?rs:defaultSxConfig$1;return Object.keys(ts).forEach(as=>{ss[as]?os.systemProps[as]=ts[as]:os.otherProps[as]=ts[as]}),os};function extendSxProp(ts){const{sx:rs}=ts,ns=_objectWithoutPropertiesLoose$1(ts,_excluded$2R),{systemProps:os,otherProps:ss}=splitProps(ns);let as;return Array.isArray(rs)?as=[os,...rs]:typeof rs=="function"?as=(...ls)=>{const cs=rs(...ls);return isPlainObject$1(cs)?_extends$5({},os,cs):os}:as=_extends$5({},os,rs),_extends$5({},ss,{sx:as})}const styleFunctionSx=Object.freeze(Object.defineProperty({__proto__:null,default:styleFunctionSx$2,extendSxProp,unstable_createStyleFunctionSx,unstable_defaultSxConfig:defaultSxConfig$1},Symbol.toStringTag,{value:"Module"})),defaultGenerator=ts=>ts,createClassNameGenerator=()=>{let ts=defaultGenerator;return{configure(rs){ts=rs},generate(rs){return ts(rs)},reset(){ts=defaultGenerator}}},ClassNameGenerator=createClassNameGenerator(),ClassNameGenerator$1=ClassNameGenerator,globalStateClasses={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function generateUtilityClass(ts,rs,ns="Mui"){const os=globalStateClasses[rs];return os?"".concat(ns,"-").concat(os):"".concat(ClassNameGenerator$1.generate(ts),"-").concat(rs)}function createMixins(ts,rs){return _extends$5({toolbar:{minHeight:56,[ts.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[ts.up("sm")]:{minHeight:64}}},rs)}const common$1={black:"#000",white:"#fff"},common$2=common$1,grey={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},grey$1=grey,purple={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},purple$1=purple,red={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},red$1=red,orange={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},orange$1=orange,blue={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},blue$1=blue,lightBlue={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},lightBlue$1=lightBlue,green={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},green$1=green,_excluded$2Q=["mode","contrastThreshold","tonalOffset"],light={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:common$2.white,default:common$2.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},dark={text:{primary:common$2.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:common$2.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function addLightOrDark(ts,rs,ns,os){const ss=os.light||os,as=os.dark||os*1.5;ts[rs]||(ts.hasOwnProperty(ns)?ts[rs]=ts[ns]:rs==="light"?ts.light=lighten_1(ts.main,ss):rs==="dark"&&(ts.dark=darken_1(ts.main,as)))}function getDefaultPrimary(ts="light"){return ts==="dark"?{main:blue$1[200],light:blue$1[50],dark:blue$1[400]}:{main:blue$1[700],light:blue$1[400],dark:blue$1[800]}}function getDefaultSecondary(ts="light"){return ts==="dark"?{main:purple$1[200],light:purple$1[50],dark:purple$1[400]}:{main:purple$1[500],light:purple$1[300],dark:purple$1[700]}}function getDefaultError(ts="light"){return ts==="dark"?{main:red$1[500],light:red$1[300],dark:red$1[700]}:{main:red$1[700],light:red$1[400],dark:red$1[800]}}function getDefaultInfo(ts="light"){return ts==="dark"?{main:lightBlue$1[400],light:lightBlue$1[300],dark:lightBlue$1[700]}:{main:lightBlue$1[700],light:lightBlue$1[500],dark:lightBlue$1[900]}}function getDefaultSuccess(ts="light"){return ts==="dark"?{main:green$1[400],light:green$1[300],dark:green$1[700]}:{main:green$1[800],light:green$1[500],dark:green$1[900]}}function getDefaultWarning(ts="light"){return ts==="dark"?{main:orange$1[400],light:orange$1[300],dark:orange$1[700]}:{main:"#ed6c02",light:orange$1[500],dark:orange$1[900]}}function createPalette(ts){const{mode:rs="light",contrastThreshold:ns=3,tonalOffset:os=.2}=ts,ss=_objectWithoutPropertiesLoose$1(ts,_excluded$2Q),as=ts.primary||getDefaultPrimary(rs),ls=ts.secondary||getDefaultSecondary(rs),cs=ts.error||getDefaultError(rs),us=ts.info||getDefaultInfo(rs),ds=ts.success||getDefaultSuccess(rs),ps=ts.warning||getDefaultWarning(rs);function fs(vs){return getContrastRatio_1(vs,dark.text.primary)>=ns?dark.text.primary:light.text.primary}const hs=({color:vs,name:bs,mainShade:xs=500,lightShade:ys=300,darkShade:Ss=700})=>{if(vs=_extends$5({},vs),!vs.main&&vs[xs]&&(vs.main=vs[xs]),!vs.hasOwnProperty("main"))throw new Error(formatMuiErrorMessage$1(11,bs?" (".concat(bs,")"):"",xs));if(typeof vs.main!="string")throw new Error(formatMuiErrorMessage$1(12,bs?" (".concat(bs,")"):"",JSON.stringify(vs.main)));return addLightOrDark(vs,"light",ys,os),addLightOrDark(vs,"dark",Ss,os),vs.contrastText||(vs.contrastText=fs(vs.main)),vs},ms={dark,light};return deepmerge$1(_extends$5({common:_extends$5({},common$2),mode:rs,primary:hs({color:as,name:"primary"}),secondary:hs({color:ls,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:hs({color:cs,name:"error"}),warning:hs({color:ps,name:"warning"}),info:hs({color:us,name:"info"}),success:hs({color:ds,name:"success"}),grey:grey$1,contrastThreshold:ns,getContrastText:fs,augmentColor:hs,tonalOffset:os},ms[rs]),ss)}const _excluded$2P=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function round$3(ts){return Math.round(ts*1e5)/1e5}const caseAllCaps={textTransform:"uppercase"},defaultFontFamily='"Roboto", "Helvetica", "Arial", sans-serif';function createTypography(ts,rs){const ns=typeof rs=="function"?rs(ts):rs,{fontFamily:os=defaultFontFamily,fontSize:ss=14,fontWeightLight:as=300,fontWeightRegular:ls=400,fontWeightMedium:cs=500,fontWeightBold:us=700,htmlFontSize:ds=16,allVariants:ps,pxToRem:fs}=ns,hs=_objectWithoutPropertiesLoose$1(ns,_excluded$2P),ms=ss/14,gs=fs||(xs=>"".concat(xs/ds*ms,"rem")),vs=(xs,ys,Ss,Cs,$s)=>_extends$5({fontFamily:os,fontWeight:xs,fontSize:gs(ys),lineHeight:Ss},os===defaultFontFamily?{letterSpacing:"".concat(round$3(Cs/ys),"em")}:{},$s,ps),bs={h1:vs(as,96,1.167,-1.5),h2:vs(as,60,1.2,-.5),h3:vs(ls,48,1.167,0),h4:vs(ls,34,1.235,.25),h5:vs(ls,24,1.334,0),h6:vs(cs,20,1.6,.15),subtitle1:vs(ls,16,1.75,.15),subtitle2:vs(cs,14,1.57,.1),body1:vs(ls,16,1.5,.15),body2:vs(ls,14,1.43,.15),button:vs(cs,14,1.75,.4,caseAllCaps),caption:vs(ls,12,1.66,.4),overline:vs(ls,12,2.66,1,caseAllCaps),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return deepmerge$1(_extends$5({htmlFontSize:ds,pxToRem:gs,fontFamily:os,fontSize:ss,fontWeightLight:as,fontWeightRegular:ls,fontWeightMedium:cs,fontWeightBold:us},bs),hs,{clone:!1})}const shadowKeyUmbraOpacity=.2,shadowKeyPenumbraOpacity=.14,shadowAmbientShadowOpacity=.12;function createShadow(...ts){return["".concat(ts[0],"px ").concat(ts[1],"px ").concat(ts[2],"px ").concat(ts[3],"px rgba(0,0,0,").concat(shadowKeyUmbraOpacity,")"),"".concat(ts[4],"px ").concat(ts[5],"px ").concat(ts[6],"px ").concat(ts[7],"px rgba(0,0,0,").concat(shadowKeyPenumbraOpacity,")"),"".concat(ts[8],"px ").concat(ts[9],"px ").concat(ts[10],"px ").concat(ts[11],"px rgba(0,0,0,").concat(shadowAmbientShadowOpacity,")")].join(",")}const shadows$2=["none",createShadow(0,2,1,-1,0,1,1,0,0,1,3,0),createShadow(0,3,1,-2,0,2,2,0,0,1,5,0),createShadow(0,3,3,-2,0,3,4,0,0,1,8,0),createShadow(0,2,4,-1,0,4,5,0,0,1,10,0),createShadow(0,3,5,-1,0,5,8,0,0,1,14,0),createShadow(0,3,5,-1,0,6,10,0,0,1,18,0),createShadow(0,4,5,-2,0,7,10,1,0,2,16,1),createShadow(0,5,5,-3,0,8,10,1,0,3,14,2),createShadow(0,5,6,-3,0,9,12,1,0,3,16,2),createShadow(0,6,6,-3,0,10,14,1,0,4,18,3),createShadow(0,6,7,-4,0,11,15,1,0,4,20,3),createShadow(0,7,8,-4,0,12,17,2,0,5,22,4),createShadow(0,7,8,-4,0,13,19,2,0,5,24,4),createShadow(0,7,9,-4,0,14,21,2,0,5,26,4),createShadow(0,8,9,-5,0,15,22,2,0,6,28,5),createShadow(0,8,10,-5,0,16,24,2,0,6,30,5),createShadow(0,8,11,-5,0,17,26,2,0,6,32,5),createShadow(0,9,11,-5,0,18,28,2,0,7,34,6),createShadow(0,9,12,-6,0,19,29,2,0,7,36,6),createShadow(0,10,13,-6,0,20,31,3,0,8,38,7),createShadow(0,10,13,-6,0,21,33,3,0,8,40,7),createShadow(0,10,14,-6,0,22,35,3,0,8,42,7),createShadow(0,11,14,-7,0,23,36,3,0,9,44,8),createShadow(0,11,15,-7,0,24,38,3,0,9,46,8)],shadows$3=shadows$2,_excluded$2O=["duration","easing","delay"],easing={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},duration={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function formatMs(ts){return"".concat(Math.round(ts),"ms")}function getAutoHeightDuration(ts){if(!ts)return 0;const rs=ts/36;return Math.round((4+15*rs**.25+rs/5)*10)}function createTransitions(ts){const rs=_extends$5({},easing,ts.easing),ns=_extends$5({},duration,ts.duration);return _extends$5({getAutoHeightDuration,create:(ss=["all"],as={})=>{const{duration:ls=ns.standard,easing:cs=rs.easeInOut,delay:us=0}=as;return _objectWithoutPropertiesLoose$1(as,_excluded$2O),(Array.isArray(ss)?ss:[ss]).map(ds=>"".concat(ds," ").concat(typeof ls=="string"?ls:formatMs(ls)," ").concat(cs," ").concat(typeof us=="string"?us:formatMs(us))).join(",")}},ts,{easing:rs,duration:ns})}const zIndex$1={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},zIndex$2=zIndex$1,_excluded$2N=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function createTheme(ts={},...rs){const{mixins:ns={},palette:os={},transitions:ss={},typography:as={}}=ts,ls=_objectWithoutPropertiesLoose$1(ts,_excluded$2N);if(ts.vars)throw new Error(formatMuiErrorMessage$1(18));const cs=createPalette(os),us=createTheme$2(ts);let ds=deepmerge$1(us,{mixins:createMixins(us.breakpoints,ns),palette:cs,shadows:shadows$3.slice(),typography:createTypography(cs,as),transitions:createTransitions(ss),zIndex:_extends$5({},zIndex$2)});return ds=deepmerge$1(ds,ls),ds=rs.reduce((ps,fs)=>deepmerge$1(ps,fs),ds),ds.unstable_sxConfig=_extends$5({},defaultSxConfig$1,ls==null?void 0:ls.unstable_sxConfig),ds.unstable_sx=function(fs){return styleFunctionSx$2({sx:fs,theme:this})},ds}const defaultTheme$5=createTheme(),defaultTheme$6=defaultTheme$5,THEME_ID="$$material";function useThemeProps({props:ts,name:rs}){return useThemeProps$1({props:ts,name:rs,defaultTheme:defaultTheme$6,themeId:THEME_ID})}var createStyled$2={},_extends$4={exports:{}},hasRequired_extends;function require_extends(){return hasRequired_extends||(hasRequired_extends=1,function(ts){function rs(){return ts.exports=rs=Object.assign?Object.assign.bind():function(ns){for(var os=1;os<arguments.length;os++){var ss=arguments[os];for(var as in ss)({}).hasOwnProperty.call(ss,as)&&(ns[as]=ss[as])}return ns},ts.exports.__esModule=!0,ts.exports.default=ts.exports,rs.apply(null,arguments)}ts.exports=rs,ts.exports.__esModule=!0,ts.exports.default=ts.exports}(_extends$4)),_extends$4.exports}var objectWithoutPropertiesLoose={exports:{}},hasRequiredObjectWithoutPropertiesLoose;function requireObjectWithoutPropertiesLoose(){return hasRequiredObjectWithoutPropertiesLoose||(hasRequiredObjectWithoutPropertiesLoose=1,function(ts){function rs(ns,os){if(ns==null)return{};var ss={};for(var as in ns)if({}.hasOwnProperty.call(ns,as)){if(os.includes(as))continue;ss[as]=ns[as]}return ss}ts.exports=rs,ts.exports.__esModule=!0,ts.exports.default=ts.exports}(objectWithoutPropertiesLoose)),objectWithoutPropertiesLoose.exports}const require$$1$1=getAugmentedNamespace(styledEngine),require$$4=getAugmentedNamespace(deepmerge),require$$5=getAugmentedNamespace(capitalize);var reactIs={exports:{}},reactIs_production_min={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b$2=Symbol.for("react.element"),c$1=Symbol.for("react.portal"),d$1=Symbol.for("react.fragment"),e$2=Symbol.for("react.strict_mode"),f$1=Symbol.for("react.profiler"),g$2=Symbol.for("react.provider"),h$3=Symbol.for("react.context"),k$4=Symbol.for("react.server_context"),l$3=Symbol.for("react.forward_ref"),m$2=Symbol.for("react.suspense"),n$4=Symbol.for("react.suspense_list"),p$3=Symbol.for("react.memo"),q$4=Symbol.for("react.lazy"),t$3=Symbol.for("react.offscreen"),u$3;u$3=Symbol.for("react.module.reference");function v$3(ts){if(typeof ts=="object"&&ts!==null){var rs=ts.$$typeof;switch(rs){case b$2:switch(ts=ts.type,ts){case d$1:case f$1:case e$2:case m$2:case n$4:return ts;default:switch(ts=ts&&ts.$$typeof,ts){case k$4:case h$3:case l$3:case q$4:case p$3:case g$2:return ts;default:return rs}}case c$1:return rs}}}reactIs_production_min.ContextConsumer=h$3;reactIs_production_min.ContextProvider=g$2;reactIs_production_min.Element=b$2;reactIs_production_min.ForwardRef=l$3;reactIs_production_min.Fragment=d$1;reactIs_production_min.Lazy=q$4;reactIs_production_min.Memo=p$3;reactIs_production_min.Portal=c$1;reactIs_production_min.Profiler=f$1;reactIs_production_min.StrictMode=e$2;reactIs_production_min.Suspense=m$2;reactIs_production_min.SuspenseList=n$4;reactIs_production_min.isAsyncMode=function(){return!1};reactIs_production_min.isConcurrentMode=function(){return!1};reactIs_production_min.isContextConsumer=function(ts){return v$3(ts)===h$3};reactIs_production_min.isContextProvider=function(ts){return v$3(ts)===g$2};reactIs_production_min.isElement=function(ts){return typeof ts=="object"&&ts!==null&&ts.$$typeof===b$2};reactIs_production_min.isForwardRef=function(ts){return v$3(ts)===l$3};reactIs_production_min.isFragment=function(ts){return v$3(ts)===d$1};reactIs_production_min.isLazy=function(ts){return v$3(ts)===q$4};reactIs_production_min.isMemo=function(ts){return v$3(ts)===p$3};reactIs_production_min.isPortal=function(ts){return v$3(ts)===c$1};reactIs_production_min.isProfiler=function(ts){return v$3(ts)===f$1};reactIs_production_min.isStrictMode=function(ts){return v$3(ts)===e$2};reactIs_production_min.isSuspense=function(ts){return v$3(ts)===m$2};reactIs_production_min.isSuspenseList=function(ts){return v$3(ts)===n$4};reactIs_production_min.isValidElementType=function(ts){return typeof ts=="string"||typeof ts=="function"||ts===d$1||ts===f$1||ts===e$2||ts===m$2||ts===n$4||ts===t$3||typeof ts=="object"&&ts!==null&&(ts.$$typeof===q$4||ts.$$typeof===p$3||ts.$$typeof===g$2||ts.$$typeof===h$3||ts.$$typeof===l$3||ts.$$typeof===u$3||ts.getModuleId!==void 0)};reactIs_production_min.typeOf=v$3;reactIs.exports=reactIs_production_min;var reactIsExports=reactIs.exports;const fnNameMatchRegex=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function getFunctionName(ts){const rs="".concat(ts).match(fnNameMatchRegex);return rs&&rs[1]||""}function getFunctionComponentName(ts,rs=""){return ts.displayName||ts.name||getFunctionName(ts)||rs}function getWrappedName(ts,rs,ns){const os=getFunctionComponentName(rs);return ts.displayName||(os!==""?"".concat(ns,"(").concat(os,")"):ns)}function getDisplayName$1(ts){if(ts!=null){if(typeof ts=="string")return ts;if(typeof ts=="function")return getFunctionComponentName(ts,"Component");if(typeof ts=="object")switch(ts.$$typeof){case reactIsExports.ForwardRef:return getWrappedName(ts,ts.render,"ForwardRef");case reactIsExports.Memo:return getWrappedName(ts,ts.type,"memo");default:return}}}const getDisplayName=Object.freeze(Object.defineProperty({__proto__:null,default:getDisplayName$1,getFunctionName},Symbol.toStringTag,{value:"Module"})),require$$6=getAugmentedNamespace(getDisplayName),require$$7=getAugmentedNamespace(createTheme$1),require$$8=getAugmentedNamespace(styleFunctionSx);var _interopRequireDefault$y=interopRequireDefaultExports;Object.defineProperty(createStyled$2,"__esModule",{value:!0});var _default=createStyled$2.default=createStyled$1;createStyled$2.shouldForwardProp=shouldForwardProp$1;createStyled$2.systemDefaultTheme=void 0;var _extends2=_interopRequireDefault$y(require_extends()),_objectWithoutPropertiesLoose2=_interopRequireDefault$y(requireObjectWithoutPropertiesLoose()),_styledEngine$1=_interopRequireWildcard$3(require$$1$1),_deepmerge=require$$4;_interopRequireDefault$y(require$$5);_interopRequireDefault$y(require$$6);var _createTheme=_interopRequireDefault$y(require$$7),_styleFunctionSx=_interopRequireDefault$y(require$$8);const _excluded$2M=["ownerState"],_excluded2$h=["variants"],_excluded3$5=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function _getRequireWildcardCache$3(ts){if(typeof WeakMap!="function")return null;var rs=new WeakMap,ns=new WeakMap;return(_getRequireWildcardCache$3=function(os){return os?ns:rs})(ts)}function _interopRequireWildcard$3(ts,rs){if(!rs&&ts&&ts.__esModule)return ts;if(ts===null||typeof ts!="object"&&typeof ts!="function")return{default:ts};var ns=_getRequireWildcardCache$3(rs);if(ns&&ns.has(ts))return ns.get(ts);var os={__proto__:null},ss=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var as in ts)if(as!=="default"&&Object.prototype.hasOwnProperty.call(ts,as)){var ls=ss?Object.getOwnPropertyDescriptor(ts,as):null;ls&&(ls.get||ls.set)?Object.defineProperty(os,as,ls):os[as]=ts[as]}return os.default=ts,ns&&ns.set(ts,os),os}function isEmpty$3(ts){return Object.keys(ts).length===0}function isStringTag$1(ts){return typeof ts=="string"&&ts.charCodeAt(0)>96}function shouldForwardProp$1(ts){return ts!=="ownerState"&&ts!=="theme"&&ts!=="sx"&&ts!=="as"}const systemDefaultTheme$1=createStyled$2.systemDefaultTheme=(0,_createTheme.default)(),lowercaseFirstLetter$1=ts=>ts&&ts.charAt(0).toLowerCase()+ts.slice(1);function resolveTheme$1({defaultTheme:ts,theme:rs,themeId:ns}){return isEmpty$3(rs)?ts:rs[ns]||rs}function defaultOverridesResolver$1(ts){return ts?(rs,ns)=>ns[ts]:null}function processStyleArg$1(ts,rs){let{ownerState:ns}=rs,os=(0,_objectWithoutPropertiesLoose2.default)(rs,_excluded$2M);const ss=typeof ts=="function"?ts((0,_extends2.default)({ownerState:ns},os)):ts;if(Array.isArray(ss))return ss.flatMap(as=>processStyleArg$1(as,(0,_extends2.default)({ownerState:ns},os)));if(ss&&typeof ss=="object"&&Array.isArray(ss.variants)){const{variants:as=[]}=ss;let cs=(0,_objectWithoutPropertiesLoose2.default)(ss,_excluded2$h);return as.forEach(us=>{let ds=!0;typeof us.props=="function"?ds=us.props((0,_extends2.default)({ownerState:ns},os,ns)):Object.keys(us.props).forEach(ps=>{(ns==null?void 0:ns[ps])!==us.props[ps]&&os[ps]!==us.props[ps]&&(ds=!1)}),ds&&(Array.isArray(cs)||(cs=[cs]),cs.push(typeof us.style=="function"?us.style((0,_extends2.default)({ownerState:ns},os,ns)):us.style))}),cs}return ss}function createStyled$1(ts={}){const{themeId:rs,defaultTheme:ns=systemDefaultTheme$1,rootShouldForwardProp:os=shouldForwardProp$1,slotShouldForwardProp:ss=shouldForwardProp$1}=ts,as=ls=>(0,_styleFunctionSx.default)((0,_extends2.default)({},ls,{theme:resolveTheme$1((0,_extends2.default)({},ls,{defaultTheme:ns,themeId:rs}))}));return as.__mui_systemSx=!0,(ls,cs={})=>{(0,_styledEngine$1.internal_processStyles)(ls,$s=>$s.filter(Es=>!(Es!=null&&Es.__mui_systemSx)));const{name:us,slot:ds,skipVariantsResolver:ps,skipSx:fs,overridesResolver:hs=defaultOverridesResolver$1(lowercaseFirstLetter$1(ds))}=cs,ms=(0,_objectWithoutPropertiesLoose2.default)(cs,_excluded3$5),gs=ps!==void 0?ps:ds&&ds!=="Root"&&ds!=="root"||!1,vs=fs||!1;let bs,xs=shouldForwardProp$1;ds==="Root"||ds==="root"?xs=os:ds?xs=ss:isStringTag$1(ls)&&(xs=void 0);const ys=(0,_styledEngine$1.default)(ls,(0,_extends2.default)({shouldForwardProp:xs,label:bs},ms)),Ss=$s=>typeof $s=="function"&&$s.__emotion_real!==$s||(0,_deepmerge.isPlainObject)($s)?Es=>processStyleArg$1($s,(0,_extends2.default)({},Es,{theme:resolveTheme$1({theme:Es.theme,defaultTheme:ns,themeId:rs})})):$s,Cs=($s,...Es)=>{let ws=Ss($s);const Ts=Es?Es.map(Ss):[];us&&hs&&Ts.push(As=>{const ks=resolveTheme$1((0,_extends2.default)({},As,{defaultTheme:ns,themeId:rs}));if(!ks.components||!ks.components[us]||!ks.components[us].styleOverrides)return null;const Ms=ks.components[us].styleOverrides,Os={};return Object.entries(Ms).forEach(([Ds,Fs])=>{Os[Ds]=processStyleArg$1(Fs,(0,_extends2.default)({},As,{theme:ks}))}),hs(As,Os)}),us&&!gs&&Ts.push(As=>{var ks;const Ms=resolveTheme$1((0,_extends2.default)({},As,{defaultTheme:ns,themeId:rs})),Os=Ms==null||(ks=Ms.components)==null||(ks=ks[us])==null?void 0:ks.variants;return processStyleArg$1({variants:Os},(0,_extends2.default)({},As,{theme:Ms}))}),vs||Ts.push(as);const Is=Ts.length-Es.length;if(Array.isArray($s)&&Is>0){const As=new Array(Is).fill("");ws=[...$s,...As],ws.raw=[...$s.raw,...As]}const Rs=ys(ws,...Ts);return ls.muiName&&(Rs.muiName=ls.muiName),Rs};return ys.withConfig&&(Cs.withConfig=ys.withConfig),Cs}}function slotShouldForwardProp(ts){return ts!=="ownerState"&&ts!=="theme"&&ts!=="sx"&&ts!=="as"}const rootShouldForwardProp$1=ts=>slotShouldForwardProp(ts)&&ts!=="classes",rootShouldForwardProp$2=rootShouldForwardProp$1,styled$3=_default({themeId:THEME_ID,defaultTheme:defaultTheme$6,rootShouldForwardProp:rootShouldForwardProp$2}),styled$4=styled$3,PropsContext=reactExports.createContext(void 0);function DefaultPropsProvider({value:ts,children:rs}){return jsxRuntimeExports.jsx(PropsContext.Provider,{value:ts,children:rs})}function getThemeProps(ts){const{theme:rs,name:ns,props:os}=ts;if(!rs||!rs.components||!rs.components[ns])return os;const ss=rs.components[ns];return ss.defaultProps?resolveProps(ss.defaultProps,os):!ss.styleOverrides&&!ss.variants?resolveProps(ss,os):os}function useDefaultProps$1({props:ts,name:rs}){const ns=reactExports.useContext(PropsContext);return getThemeProps({props:ts,name:rs,theme:{components:ns}})}function useDefaultProps(ts){return useDefaultProps$1(ts)}function setRef$1(ts,rs){typeof ts=="function"?ts(rs):ts&&(ts.current=rs)}function useForkRef(...ts){return reactExports.useMemo(()=>ts.every(rs=>rs==null)?null:rs=>{ts.forEach(ns=>{setRef$1(ns,rs)})},ts)}function isHostComponent(ts){return typeof ts=="string"}function appendOwnerState(ts,rs,ns){return ts===void 0||isHostComponent(ts)?rs:_extends$5({},rs,{ownerState:_extends$5({},rs.ownerState,ns)})}function resolveComponentProps(ts,rs,ns){return typeof ts=="function"?ts(rs,ns):ts}function extractEventHandlers(ts,rs=[]){if(ts===void 0)return{};const ns={};return Object.keys(ts).filter(os=>os.match(/^on[A-Z]/)&&typeof ts[os]=="function"&&!rs.includes(os)).forEach(os=>{ns[os]=ts[os]}),ns}function omitEventHandlers(ts){if(ts===void 0)return{};const rs={};return Object.keys(ts).filter(ns=>!(ns.match(/^on[A-Z]/)&&typeof ts[ns]=="function")).forEach(ns=>{rs[ns]=ts[ns]}),rs}function mergeSlotProps(ts){const{getSlotProps:rs,additionalProps:ns,externalSlotProps:os,externalForwardedProps:ss,className:as}=ts;if(!rs){const ms=clsx$1(ns==null?void 0:ns.className,as,ss==null?void 0:ss.className,os==null?void 0:os.className),gs=_extends$5({},ns==null?void 0:ns.style,ss==null?void 0:ss.style,os==null?void 0:os.style),vs=_extends$5({},ns,ss,os);return ms.length>0&&(vs.className=ms),Object.keys(gs).length>0&&(vs.style=gs),{props:vs,internalRef:void 0}}const ls=extractEventHandlers(_extends$5({},ss,os)),cs=omitEventHandlers(os),us=omitEventHandlers(ss),ds=rs(ls),ps=clsx$1(ds==null?void 0:ds.className,ns==null?void 0:ns.className,as,ss==null?void 0:ss.className,os==null?void 0:os.className),fs=_extends$5({},ds==null?void 0:ds.style,ns==null?void 0:ns.style,ss==null?void 0:ss.style,os==null?void 0:os.style),hs=_extends$5({},ds,ns,us,cs);return ps.length>0&&(hs.className=ps),Object.keys(fs).length>0&&(hs.style=fs),{props:hs,internalRef:ds.ref}}const _excluded$2L=["className","elementType","ownerState","externalForwardedProps","getSlotOwnerState","internalForwardedProps"],_excluded2$g=["component","slots","slotProps"],_excluded3$4=["component"];function useSlot(ts,rs){const{className:ns,elementType:os,ownerState:ss,externalForwardedProps:as,getSlotOwnerState:ls,internalForwardedProps:cs}=rs,us=_objectWithoutPropertiesLoose$1(rs,_excluded$2L),{component:ds,slots:ps={[ts]:void 0},slotProps:fs={[ts]:void 0}}=as,hs=_objectWithoutPropertiesLoose$1(as,_excluded2$g),ms=ps[ts]||os,gs=resolveComponentProps(fs[ts],ss),vs=mergeSlotProps(_extends$5({className:ns},us,{externalForwardedProps:ts==="root"?hs:void 0,externalSlotProps:gs})),{props:{component:bs},internalRef:xs}=vs,ys=_objectWithoutPropertiesLoose$1(vs.props,_excluded3$4),Ss=useForkRef(xs,gs==null?void 0:gs.ref,rs.ref),Cs=ls?ls(ys):{},$s=_extends$5({},ss,Cs),Es=ts==="root"?bs||ds:bs,ws=appendOwnerState(ms,_extends$5({},ts==="root"&&!ds&&!ps[ts]&&cs,ts!=="root"&&!ps[ts]&&cs,ys,Es&&{as:Es},{ref:Ss}),$s);return Object.keys(Cs).forEach(Ts=>{delete ws[Ts]}),[ms,ws]}const getOverlayAlpha$2=ts=>{let rs;return ts<1?rs=5.11916*ts**2:rs=4.5*Math.log(ts+1)+2,(rs/100).toFixed(2)},getOverlayAlpha$3=getOverlayAlpha$2;function GlobalStyles$2({styles:ts,themeId:rs,defaultTheme:ns={}}){const os=useTheme$3(ns),ss=typeof ts=="function"?ts(rs&&os[rs]||os):ts;return jsxRuntimeExports.jsx(GlobalStyles$3,{styles:ss})}const _excluded$2K=["className","component"];function createBox(ts={}){const{themeId:rs,defaultTheme:ns,defaultClassName:os="MuiBox-root",generateClassName:ss}=ts,as=styled$5("div",{shouldForwardProp:cs=>cs!=="theme"&&cs!=="sx"&&cs!=="as"})(styleFunctionSx$2);return reactExports.forwardRef(function(us,ds){const ps=useTheme$3(ns),fs=extendSxProp(us),{className:hs,component:ms="div"}=fs,gs=_objectWithoutPropertiesLoose$1(fs,_excluded$2K);return jsxRuntimeExports.jsx(as,_extends$5({as:ms,ref:ds,className:clsx$1(hs,ss?ss(os):os),theme:rs&&ps[rs]||ps},gs))})}function generateUtilityClasses(ts,rs,ns="Mui"){const os={};return rs.forEach(ss=>{os[ss]=generateUtilityClass(ts,ss,ns)}),os}const _excluded$2J=["ownerState"],_excluded2$f=["variants"],_excluded3$3=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function isEmpty$2(ts){return Object.keys(ts).length===0}function isStringTag(ts){return typeof ts=="string"&&ts.charCodeAt(0)>96}function shouldForwardProp(ts){return ts!=="ownerState"&&ts!=="theme"&&ts!=="sx"&&ts!=="as"}const systemDefaultTheme=createTheme$2(),lowercaseFirstLetter=ts=>ts&&ts.charAt(0).toLowerCase()+ts.slice(1);function resolveTheme({defaultTheme:ts,theme:rs,themeId:ns}){return isEmpty$2(rs)?ts:rs[ns]||rs}function defaultOverridesResolver(ts){return ts?(rs,ns)=>ns[ts]:null}function processStyleArg(ts,rs){let{ownerState:ns}=rs,os=_objectWithoutPropertiesLoose$1(rs,_excluded$2J);const ss=typeof ts=="function"?ts(_extends$5({ownerState:ns},os)):ts;if(Array.isArray(ss))return ss.flatMap(as=>processStyleArg(as,_extends$5({ownerState:ns},os)));if(ss&&typeof ss=="object"&&Array.isArray(ss.variants)){const{variants:as=[]}=ss;let cs=_objectWithoutPropertiesLoose$1(ss,_excluded2$f);return as.forEach(us=>{let ds=!0;typeof us.props=="function"?ds=us.props(_extends$5({ownerState:ns},os,ns)):Object.keys(us.props).forEach(ps=>{(ns==null?void 0:ns[ps])!==us.props[ps]&&os[ps]!==us.props[ps]&&(ds=!1)}),ds&&(Array.isArray(cs)||(cs=[cs]),cs.push(typeof us.style=="function"?us.style(_extends$5({ownerState:ns},os,ns)):us.style))}),cs}return ss}function createStyled(ts={}){const{themeId:rs,defaultTheme:ns=systemDefaultTheme,rootShouldForwardProp:os=shouldForwardProp,slotShouldForwardProp:ss=shouldForwardProp}=ts,as=ls=>styleFunctionSx$2(_extends$5({},ls,{theme:resolveTheme(_extends$5({},ls,{defaultTheme:ns,themeId:rs}))}));return as.__mui_systemSx=!0,(ls,cs={})=>{internal_processStyles(ls,$s=>$s.filter(Es=>!(Es!=null&&Es.__mui_systemSx)));const{name:us,slot:ds,skipVariantsResolver:ps,skipSx:fs,overridesResolver:hs=defaultOverridesResolver(lowercaseFirstLetter(ds))}=cs,ms=_objectWithoutPropertiesLoose$1(cs,_excluded3$3),gs=ps!==void 0?ps:ds&&ds!=="Root"&&ds!=="root"||!1,vs=fs||!1;let bs,xs=shouldForwardProp;ds==="Root"||ds==="root"?xs=os:ds?xs=ss:isStringTag(ls)&&(xs=void 0);const ys=styled$5(ls,_extends$5({shouldForwardProp:xs,label:bs},ms)),Ss=$s=>typeof $s=="function"&&$s.__emotion_real!==$s||isPlainObject$1($s)?Es=>processStyleArg($s,_extends$5({},Es,{theme:resolveTheme({theme:Es.theme,defaultTheme:ns,themeId:rs})})):$s,Cs=($s,...Es)=>{let ws=Ss($s);const Ts=Es?Es.map(Ss):[];us&&hs&&Ts.push(As=>{const ks=resolveTheme(_extends$5({},As,{defaultTheme:ns,themeId:rs}));if(!ks.components||!ks.components[us]||!ks.components[us].styleOverrides)return null;const Ms=ks.components[us].styleOverrides,Os={};return Object.entries(Ms).forEach(([Ds,Fs])=>{Os[Ds]=processStyleArg(Fs,_extends$5({},As,{theme:ks}))}),hs(As,Os)}),us&&!gs&&Ts.push(As=>{var ks;const Ms=resolveTheme(_extends$5({},As,{defaultTheme:ns,themeId:rs})),Os=Ms==null||(ks=Ms.components)==null||(ks=ks[us])==null?void 0:ks.variants;return processStyleArg({variants:Os},_extends$5({},As,{theme:Ms}))}),vs||Ts.push(as);const Is=Ts.length-Es.length;if(Array.isArray($s)&&Is>0){const As=new Array(Is).fill("");ws=[...$s,...As],ws.raw=[...$s.raw,...As]}const Rs=ys(ws,...Ts);return ls.muiName&&(Rs.muiName=ls.muiName),Rs};return ys.withConfig&&(Cs.withConfig=ys.withConfig),Cs}}const styled$1=createStyled(),styled$2=styled$1,useEnhancedEffect=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect,useEnhancedEffect$1=useEnhancedEffect;function useMediaQueryOld(ts,rs,ns,os,ss){const[as,ls]=reactExports.useState(()=>ss&&ns?ns(ts).matches:os?os(ts).matches:rs);return useEnhancedEffect$1(()=>{let cs=!0;if(!ns)return;const us=ns(ts),ds=()=>{cs&&ls(us.matches)};return ds(),us.addListener(ds),()=>{cs=!1,us.removeListener(ds)}},[ts,ns]),as}const maybeReactUseSyncExternalStore=React$3["useSyncExternalStore"];function useMediaQueryNew(ts,rs,ns,os,ss){const as=reactExports.useCallback(()=>rs,[rs]),ls=reactExports.useMemo(()=>{if(ss&&ns)return()=>ns(ts).matches;if(os!==null){const{matches:ps}=os(ts);return()=>ps}return as},[as,ts,os,ss,ns]),[cs,us]=reactExports.useMemo(()=>{if(ns===null)return[as,()=>()=>{}];const ps=ns(ts);return[()=>ps.matches,fs=>(ps.addListener(fs),()=>{ps.removeListener(fs)})]},[as,ns,ts]);return maybeReactUseSyncExternalStore(us,cs,ls)}function useMediaQuery(ts,rs={}){const ns=useTheme$4(),os=typeof window<"u"&&typeof window.matchMedia<"u",{defaultMatches:ss=!1,matchMedia:as=os?window.matchMedia:null,ssrMatchMedia:ls=null,noSsr:cs=!1}=getThemeProps$1({name:"MuiUseMediaQuery",props:rs,theme:ns});let us=typeof ts=="function"?ts(ns):ts;return us=us.replace(/^@media( ?)/m,""),(maybeReactUseSyncExternalStore!==void 0?useMediaQueryNew:useMediaQueryOld)(us,ss,as,ls,cs)}function clampWrapper(ts,rs=0,ns=1){return clamp$3(ts,rs,ns)}function hexToRgb(ts){ts=ts.slice(1);const rs=new RegExp(".{1,".concat(ts.length>=6?2:1,"}"),"g");let ns=ts.match(rs);return ns&&ns[0].length===1&&(ns=ns.map(os=>os+os)),ns?"rgb".concat(ns.length===4?"a":"","(").concat(ns.map((os,ss)=>ss<3?parseInt(os,16):Math.round(parseInt(os,16)/255*1e3)/1e3).join(", "),")"):""}function decomposeColor(ts){if(ts.type)return ts;if(ts.charAt(0)==="#")return decomposeColor(hexToRgb(ts));const rs=ts.indexOf("("),ns=ts.substring(0,rs);if(["rgb","rgba","hsl","hsla","color"].indexOf(ns)===-1)throw new Error(formatMuiErrorMessage$1(9,ts));let os=ts.substring(rs+1,ts.length-1),ss;if(ns==="color"){if(os=os.split(" "),ss=os.shift(),os.length===4&&os[3].charAt(0)==="/"&&(os[3]=os[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(ss)===-1)throw new Error(formatMuiErrorMessage$1(10,ss))}else os=os.split(",");return os=os.map(as=>parseFloat(as)),{type:ns,values:os,colorSpace:ss}}function recomposeColor(ts){const{type:rs,colorSpace:ns}=ts;let{values:os}=ts;return rs.indexOf("rgb")!==-1?os=os.map((ss,as)=>as<3?parseInt(ss,10):ss):rs.indexOf("hsl")!==-1&&(os[1]="".concat(os[1],"%"),os[2]="".concat(os[2],"%")),rs.indexOf("color")!==-1?os="".concat(ns," ").concat(os.join(" ")):os="".concat(os.join(", ")),"".concat(rs,"(").concat(os,")")}function alpha(ts,rs){return ts=decomposeColor(ts),rs=clampWrapper(rs),(ts.type==="rgb"||ts.type==="hsl")&&(ts.type+="a"),ts.type==="color"?ts.values[3]="/".concat(rs):ts.values[3]=rs,recomposeColor(ts)}function darken(ts,rs){if(ts=decomposeColor(ts),rs=clampWrapper(rs),ts.type.indexOf("hsl")!==-1)ts.values[2]*=1-rs;else if(ts.type.indexOf("rgb")!==-1||ts.type.indexOf("color")!==-1)for(let ns=0;ns<3;ns+=1)ts.values[ns]*=1-rs;return recomposeColor(ts)}function lighten(ts,rs){if(ts=decomposeColor(ts),rs=clampWrapper(rs),ts.type.indexOf("hsl")!==-1)ts.values[2]+=(100-ts.values[2])*rs;else if(ts.type.indexOf("rgb")!==-1)for(let ns=0;ns<3;ns+=1)ts.values[ns]+=(255-ts.values[ns])*rs;else if(ts.type.indexOf("color")!==-1)for(let ns=0;ns<3;ns+=1)ts.values[ns]+=(1-ts.values[ns])*rs;return recomposeColor(ts)}const ponyfillGlobal=typeof window<"u"&&window.Math==Math?window:typeof self<"u"&&self.Math==Math?self:Function("return this")();function createChainedFunction(...ts){return ts.reduce((rs,ns)=>ns==null?rs:function(...ss){rs.apply(this,ss),ns.apply(this,ss)},()=>{})}function debounce$2(ts,rs=166){let ns;function os(...ss){const as=()=>{ts.apply(this,ss)};clearTimeout(ns),ns=setTimeout(as,rs)}return os.clear=()=>{clearTimeout(ns)},os}function deprecatedPropType(ts,rs){return()=>null}function isMuiElement(ts,rs){var ns,os;return reactExports.isValidElement(ts)&&rs.indexOf((ns=ts.type.muiName)!=null?ns:(os=ts.type)==null||(os=os._payload)==null||(os=os.value)==null?void 0:os.muiName)!==-1}function ownerDocument(ts){return ts&&ts.ownerDocument||document}function ownerWindow(ts){return ownerDocument(ts).defaultView||window}function requirePropFactory(ts,rs){return()=>null}let globalId$1=0;function useGlobalId(ts){const[rs,ns]=reactExports.useState(ts),os=ts||rs;return reactExports.useEffect(()=>{rs==null&&(globalId$1+=1,ns("mui-".concat(globalId$1)))},[rs]),os}const maybeReactUseId=React$3["useId".toString()];function useId(ts){if(maybeReactUseId!==void 0){const rs=maybeReactUseId();return ts!=null?ts:rs}return useGlobalId(ts)}function unsupportedProp(ts,rs,ns,os,ss){return null}function useControlled({controlled:ts,default:rs,name:ns,state:os="value"}){const{current:ss}=reactExports.useRef(ts!==void 0),[as,ls]=reactExports.useState(rs),cs=ss?ts:as,us=reactExports.useCallback(ds=>{ss||ls(ds)},[]);return[cs,us]}function useEventCallback(ts){const rs=reactExports.useRef(ts);return useEnhancedEffect$1(()=>{rs.current=ts}),reactExports.useRef((...ns)=>(0,rs.current)(...ns)).current}const UNINITIALIZED$1={};function useLazyRef$1(ts,rs){const ns=reactExports.useRef(UNINITIALIZED$1);return ns.current===UNINITIALIZED$1&&(ns.current=ts(rs)),ns}const EMPTY$1=[];function useOnMount$1(ts){reactExports.useEffect(ts,EMPTY$1)}let Timeout$1=class Zx{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new Zx}start(rs,ns){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,ns()},rs)}};function useTimeout$1(){const ts=useLazyRef$1(Timeout$1.create).current;return useOnMount$1(ts.disposeEffect),ts}let hadKeyboardEvent=!0,hadFocusVisibleRecently=!1;const hadFocusVisibleRecentlyTimeout=new Timeout$1,inputTypesWhitelist={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function focusTriggersKeyboardModality(ts){const{type:rs,tagName:ns}=ts;return!!(ns==="INPUT"&&inputTypesWhitelist[rs]&&!ts.readOnly||ns==="TEXTAREA"&&!ts.readOnly||ts.isContentEditable)}function handleKeyDown(ts){ts.metaKey||ts.altKey||ts.ctrlKey||(hadKeyboardEvent=!0)}function handlePointerDown(){hadKeyboardEvent=!1}function handleVisibilityChange(){this.visibilityState==="hidden"&&hadFocusVisibleRecently&&(hadKeyboardEvent=!0)}function prepare(ts){ts.addEventListener("keydown",handleKeyDown,!0),ts.addEventListener("mousedown",handlePointerDown,!0),ts.addEventListener("pointerdown",handlePointerDown,!0),ts.addEventListener("touchstart",handlePointerDown,!0),ts.addEventListener("visibilitychange",handleVisibilityChange,!0)}function isFocusVisible(ts){const{target:rs}=ts;try{return rs.matches(":focus-visible")}catch{}return hadKeyboardEvent||focusTriggersKeyboardModality(rs)}function useIsFocusVisible(){const ts=reactExports.useCallback(ss=>{ss!=null&&prepare(ss.ownerDocument)},[]),rs=reactExports.useRef(!1);function ns(){return rs.current?(hadFocusVisibleRecently=!0,hadFocusVisibleRecentlyTimeout.start(100,()=>{hadFocusVisibleRecently=!1}),rs.current=!1,!0):!1}function os(ss){return isFocusVisible(ss)?(rs.current=!0,!0):!1}return{isFocusVisibleRef:rs,onFocus:os,onBlur:ns,ref:ts}}function getScrollbarSize(ts){const rs=ts.documentElement.clientWidth;return Math.abs(window.innerWidth-rs)}let cachedType;function detectScrollType(){if(cachedType)return cachedType;const ts=document.createElement("div"),rs=document.createElement("div");return rs.style.width="10px",rs.style.height="1px",ts.appendChild(rs),ts.dir="rtl",ts.style.fontSize="14px",ts.style.width="4px",ts.style.height="1px",ts.style.position="absolute",ts.style.top="-1000px",ts.style.overflow="scroll",document.body.appendChild(ts),cachedType="reverse",ts.scrollLeft>0?cachedType="default":(ts.scrollLeft=1,ts.scrollLeft===0&&(cachedType="negative")),document.body.removeChild(ts),cachedType}function getNormalizedScrollLeft(ts,rs){const ns=ts.scrollLeft;if(rs!=="rtl")return ns;switch(detectScrollType()){case"negative":return ts.scrollWidth-ts.clientWidth+ns;case"reverse":return ts.scrollWidth-ts.clientWidth-ns;default:return ns}}const usePreviousProps=ts=>{const rs=reactExports.useRef({});return reactExports.useEffect(()=>{rs.current=ts}),rs.current},usePreviousProps$1=usePreviousProps;function getValidReactChildren(ts){return reactExports.Children.toArray(ts).filter(rs=>reactExports.isValidElement(rs))}const _excluded$2I=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function useSlotProps(ts){var rs;const{elementType:ns,externalSlotProps:os,ownerState:ss,skipResolvingSlotProps:as=!1}=ts,ls=_objectWithoutPropertiesLoose$1(ts,_excluded$2I),cs=as?{}:resolveComponentProps(os,ss),{props:us,internalRef:ds}=mergeSlotProps(_extends$5({},ls,{externalSlotProps:cs})),ps=useForkRef(ds,cs==null?void 0:cs.ref,(rs=ts.additionalProps)==null?void 0:rs.ref);return appendOwnerState(ns,_extends$5({},us,{ref:ps}),ss)}const ThemeContext=reactExports.createContext(null),ThemeContext$1=ThemeContext;function useTheme$2(){return reactExports.useContext(ThemeContext$1)}const hasSymbol=typeof Symbol=="function"&&Symbol.for,nested=hasSymbol?Symbol.for("mui.nested"):"__THEME_NESTED__";function mergeOuterLocalTheme(ts,rs){return typeof rs=="function"?rs(ts):_extends$5({},ts,rs)}function ThemeProvider$2(ts){const{children:rs,theme:ns}=ts,os=useTheme$2(),ss=reactExports.useMemo(()=>{const as=os===null?ns:mergeOuterLocalTheme(os,ns);return as!=null&&(as[nested]=os!==null),as},[ns,os]);return jsxRuntimeExports.jsx(ThemeContext$1.Provider,{value:ss,children:rs})}const _excluded$2H=["value"],RtlContext=reactExports.createContext();function RtlProvider(ts){let{value:rs}=ts,ns=_objectWithoutPropertiesLoose$1(ts,_excluded$2H);return jsxRuntimeExports.jsx(RtlContext.Provider,_extends$5({value:rs!=null?rs:!0},ns))}const useRtl=()=>{const ts=reactExports.useContext(RtlContext);return ts!=null?ts:!1},EMPTY_THEME={};function useThemeScoping(ts,rs,ns,os=!1){return reactExports.useMemo(()=>{const ss=ts&&rs[ts]||rs;if(typeof ns=="function"){const as=ns(ss),ls=ts?_extends$5({},rs,{[ts]:as}):as;return os?()=>ls:ls}return ts?_extends$5({},rs,{[ts]:ns}):_extends$5({},rs,ns)},[ts,rs,ns,os])}function ThemeProvider$1(ts){const{children:rs,theme:ns,themeId:os}=ts,ss=useTheme$4(EMPTY_THEME),as=useTheme$2()||EMPTY_THEME,ls=useThemeScoping(os,ss,ns),cs=useThemeScoping(os,as,ns,!0),us=ls.direction==="rtl";return jsxRuntimeExports.jsx(ThemeProvider$2,{theme:cs,children:jsxRuntimeExports.jsx(ThemeContext$2.Provider,{value:ls,children:jsxRuntimeExports.jsx(RtlProvider,{value:us,children:jsxRuntimeExports.jsx(DefaultPropsProvider,{value:ls==null?void 0:ls.components,children:rs})})})})}function _typeof(ts){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(rs){return typeof rs}:function(rs){return rs&&typeof Symbol=="function"&&rs.constructor===Symbol&&rs!==Symbol.prototype?"symbol":typeof rs},_typeof(ts)}function toPrimitive(ts,rs){if(_typeof(ts)!="object"||!ts)return ts;var ns=ts[Symbol.toPrimitive];if(ns!==void 0){var os=ns.call(ts,rs||"default");if(_typeof(os)!="object")return os;throw new TypeError("@@toPrimitive must return a primitive value.")}return(rs==="string"?String:Number)(ts)}function toPropertyKey(ts){var rs=toPrimitive(ts,"string");return _typeof(rs)=="symbol"?rs:rs+""}const _excluded$2G=["className","component","disableGutters","fixed","maxWidth","classes"],defaultTheme$4=createTheme$2(),defaultCreateStyledComponent$1=styled$2("div",{name:"MuiContainer",slot:"Root",overridesResolver:(ts,rs)=>{const{ownerState:ns}=ts;return[rs.root,rs["maxWidth".concat(capitalize$1(String(ns.maxWidth)))],ns.fixed&&rs.fixed,ns.disableGutters&&rs.disableGutters]}}),useThemePropsDefault$1=ts=>useThemeProps$1({props:ts,name:"MuiContainer",defaultTheme:defaultTheme$4}),useUtilityClasses$2j=(ts,rs)=>{const ns=us=>generateUtilityClass(rs,us),{classes:os,fixed:ss,disableGutters:as,maxWidth:ls}=ts,cs={root:["root",ls&&"maxWidth".concat(capitalize$1(String(ls))),ss&&"fixed",as&&"disableGutters"]};return composeClasses(cs,ns,os)};function createContainer(ts={}){const{createStyledComponent:rs=defaultCreateStyledComponent$1,useThemeProps:ns=useThemePropsDefault$1,componentName:os="MuiContainer"}=ts,ss=rs(({theme:ls,ownerState:cs})=>_extends$5({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!cs.disableGutters&&{paddingLeft:ls.spacing(2),paddingRight:ls.spacing(2),[ls.breakpoints.up("sm")]:{paddingLeft:ls.spacing(3),paddingRight:ls.spacing(3)}}),({theme:ls,ownerState:cs})=>cs.fixed&&Object.keys(ls.breakpoints.values).reduce((us,ds)=>{const ps=ds,fs=ls.breakpoints.values[ps];return fs!==0&&(us[ls.breakpoints.up(ps)]={maxWidth:"".concat(fs).concat(ls.breakpoints.unit)}),us},{}),({theme:ls,ownerState:cs})=>_extends$5({},cs.maxWidth==="xs"&&{[ls.breakpoints.up("xs")]:{maxWidth:Math.max(ls.breakpoints.values.xs,444)}},cs.maxWidth&&cs.maxWidth!=="xs"&&{[ls.breakpoints.up(cs.maxWidth)]:{maxWidth:"".concat(ls.breakpoints.values[cs.maxWidth]).concat(ls.breakpoints.unit)}}));return reactExports.forwardRef(function(cs,us){const ds=ns(cs),{className:ps,component:fs="div",disableGutters:hs=!1,fixed:ms=!1,maxWidth:gs="lg"}=ds,vs=_objectWithoutPropertiesLoose$1(ds,_excluded$2G),bs=_extends$5({},ds,{component:fs,disableGutters:hs,fixed:ms,maxWidth:gs}),xs=useUtilityClasses$2j(bs,os);return jsxRuntimeExports.jsx(ss,_extends$5({as:fs,ownerState:bs,className:clsx$1(xs.root,ps),ref:us},vs))})}const _excluded$2F=["component","direction","spacing","divider","children","className","useFlexGap"],defaultTheme$3=createTheme$2(),defaultCreateStyledComponent=styled$2("div",{name:"MuiStack",slot:"Root",overridesResolver:(ts,rs)=>rs.root});function useThemePropsDefault(ts){return useThemeProps$1({props:ts,name:"MuiStack",defaultTheme:defaultTheme$3})}function joinChildren(ts,rs){const ns=reactExports.Children.toArray(ts).filter(Boolean);return ns.reduce((os,ss,as)=>(os.push(ss),as<ns.length-1&&os.push(reactExports.cloneElement(rs,{key:"separator-".concat(as)})),os),[])}const getSideFromDirection=ts=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[ts],style=({ownerState:ts,theme:rs})=>{let ns=_extends$5({display:"flex",flexDirection:"column"},handleBreakpoints({theme:rs},resolveBreakpointValues({values:ts.direction,breakpoints:rs.breakpoints.values}),os=>({flexDirection:os})));if(ts.spacing){const os=createUnarySpacing(rs),ss=Object.keys(rs.breakpoints.values).reduce((us,ds)=>((typeof ts.spacing=="object"&&ts.spacing[ds]!=null||typeof ts.direction=="object"&&ts.direction[ds]!=null)&&(us[ds]=!0),us),{}),as=resolveBreakpointValues({values:ts.direction,base:ss}),ls=resolveBreakpointValues({values:ts.spacing,base:ss});typeof as=="object"&&Object.keys(as).forEach((us,ds,ps)=>{if(!as[us]){const hs=ds>0?as[ps[ds-1]]:"column";as[us]=hs}}),ns=deepmerge$1(ns,handleBreakpoints({theme:rs},ls,(us,ds)=>ts.useFlexGap?{gap:getValue$1(os,us)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{["margin".concat(getSideFromDirection(ds?as[ds]:ts.direction))]:getValue$1(os,us)}}))}return ns=mergeBreakpointsInOrder(rs.breakpoints,ns),ns};function createStack(ts={}){const{createStyledComponent:rs=defaultCreateStyledComponent,useThemeProps:ns=useThemePropsDefault,componentName:os="MuiStack"}=ts,ss=()=>composeClasses({root:["root"]},us=>generateUtilityClass(os,us),{}),as=rs(style);return reactExports.forwardRef(function(us,ds){const ps=ns(us),fs=extendSxProp(ps),{component:hs="div",direction:ms="column",spacing:gs=0,divider:vs,children:bs,className:xs,useFlexGap:ys=!1}=fs,Ss=_objectWithoutPropertiesLoose$1(fs,_excluded$2F),Cs={direction:ms,spacing:gs,useFlexGap:ys},$s=ss();return jsxRuntimeExports.jsx(as,_extends$5({as:hs,ownerState:Cs,ref:ds,className:clsx$1($s.root,xs)},Ss,{children:vs?joinChildren(bs,vs):bs}))})}function useTheme$1(){const ts=useTheme$3(defaultTheme$6);return ts[THEME_ID]||ts}function getPaperUtilityClass(ts){return generateUtilityClass("MuiPaper",ts)}generateUtilityClasses("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const _excluded$2E=["className","component","elevation","square","variant"],useUtilityClasses$2i=ts=>{const{square:rs,elevation:ns,variant:os,classes:ss}=ts,as={root:["root",os,!rs&&"rounded",os==="elevation"&&"elevation".concat(ns)]};return composeClasses(as,getPaperUtilityClass,ss)},PaperRoot=styled$4("div",{name:"MuiPaper",slot:"Root",overridesResolver:(ts,rs)=>{const{ownerState:ns}=ts;return[rs.root,rs[ns.variant],!ns.square&&rs.rounded,ns.variant==="elevation"&&rs["elevation".concat(ns.elevation)]]}})(({theme:ts,ownerState:rs})=>{var ns;return _extends$5({backgroundColor:(ts.vars||ts).palette.background.paper,color:(ts.vars||ts).palette.text.primary,transition:ts.transitions.create("box-shadow")},!rs.square&&{borderRadius:ts.shape.borderRadius},rs.variant==="outlined"&&{border:"1px solid ".concat((ts.vars||ts).palette.divider)},rs.variant==="elevation"&&_extends$5({boxShadow:(ts.vars||ts).shadows[rs.elevation]},!ts.vars&&ts.palette.mode==="dark"&&{backgroundImage:"linear-gradient(".concat(alpha_1("#fff",getOverlayAlpha$3(rs.elevation)),", ").concat(alpha_1("#fff",getOverlayAlpha$3(rs.elevation)),")")},ts.vars&&{backgroundImage:(ns=ts.vars.overlays)==null?void 0:ns[rs.elevation]}))}),Paper=reactExports.forwardRef(function(rs,ns){const os=useDefaultProps({props:rs,name:"MuiPaper"}),{className:ss,component:as="div",elevation:ls=1,square:cs=!1,variant:us="elevation"}=os,ds=_objectWithoutPropertiesLoose$1(os,_excluded$2E),ps=_extends$5({},os,{component:as,elevation:ls,square:cs,variant:us}),fs=useUtilityClasses$2i(ps);return jsxRuntimeExports.jsx(PaperRoot,_extends$5({as,ownerState:ps,className:clsx$1(fs.root,ss),ref:ns},ds))}),Paper$1=Paper;function getAlertUtilityClass(ts){return generateUtilityClass("MuiAlert",ts)}const alertClasses=generateUtilityClasses("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]),alertClasses$1=alertClasses;function hasClass(ts,rs){return ts.classList?!!rs&&ts.classList.contains(rs):(" "+(ts.className.baseVal||ts.className)+" ").indexOf(" "+rs+" ")!==-1}function addClass(ts,rs){ts.classList?ts.classList.add(rs):hasClass(ts,rs)||(typeof ts.className=="string"?ts.className=ts.className+" "+rs:ts.setAttribute("class",(ts.className&&ts.className.baseVal||"")+" "+rs))}function replaceClassName(ts,rs){return ts.replace(new RegExp("(^|\\s)"+rs+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function removeClass$1(ts,rs){ts.classList?ts.classList.remove(rs):typeof ts.className=="string"?ts.className=replaceClassName(ts.className,rs):ts.setAttribute("class",replaceClassName(ts.className&&ts.className.baseVal||"",rs))}const config$8={disabled:!1},TransitionGroupContext=React$2.createContext(null);var forceReflow=function(rs){return rs.scrollTop},UNMOUNTED="unmounted",EXITED="exited",ENTERING="entering",ENTERED="entered",EXITING="exiting",Transition=function(ts){_inheritsLoose(rs,ts);function rs(os,ss){var as;as=ts.call(this,os,ss)||this;var ls=ss,cs=ls&&!ls.isMounting?os.enter:os.appear,us;return as.appearStatus=null,os.in?cs?(us=EXITED,as.appearStatus=ENTERING):us=ENTERED:os.unmountOnExit||os.mountOnEnter?us=UNMOUNTED:us=EXITED,as.state={status:us},as.nextCallback=null,as}rs.getDerivedStateFromProps=function(ss,as){var ls=ss.in;return ls&&as.status===UNMOUNTED?{status:EXITED}:null};var ns=rs.prototype;return ns.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},ns.componentDidUpdate=function(ss){var as=null;if(ss!==this.props){var ls=this.state.status;this.props.in?ls!==ENTERING&&ls!==ENTERED&&(as=ENTERING):(ls===ENTERING||ls===ENTERED)&&(as=EXITING)}this.updateStatus(!1,as)},ns.componentWillUnmount=function(){this.cancelNextCallback()},ns.getTimeouts=function(){var ss=this.props.timeout,as,ls,cs;return as=ls=cs=ss,ss!=null&&typeof ss!="number"&&(as=ss.exit,ls=ss.enter,cs=ss.appear!==void 0?ss.appear:ls),{exit:as,enter:ls,appear:cs}},ns.updateStatus=function(ss,as){if(ss===void 0&&(ss=!1),as!==null)if(this.cancelNextCallback(),as===ENTERING){if(this.props.unmountOnExit||this.props.mountOnEnter){var ls=this.props.nodeRef?this.props.nodeRef.current:ReactDOM__default.findDOMNode(this);ls&&forceReflow(ls)}this.performEnter(ss)}else this.performExit();else this.props.unmountOnExit&&this.state.status===EXITED&&this.setState({status:UNMOUNTED})},ns.performEnter=function(ss){var as=this,ls=this.props.enter,cs=this.context?this.context.isMounting:ss,us=this.props.nodeRef?[cs]:[ReactDOM__default.findDOMNode(this),cs],ds=us[0],ps=us[1],fs=this.getTimeouts(),hs=cs?fs.appear:fs.enter;if(!ss&&!ls||config$8.disabled){this.safeSetState({status:ENTERED},function(){as.props.onEntered(ds)});return}this.props.onEnter(ds,ps),this.safeSetState({status:ENTERING},function(){as.props.onEntering(ds,ps),as.onTransitionEnd(hs,function(){as.safeSetState({status:ENTERED},function(){as.props.onEntered(ds,ps)})})})},ns.performExit=function(){var ss=this,as=this.props.exit,ls=this.getTimeouts(),cs=this.props.nodeRef?void 0:ReactDOM__default.findDOMNode(this);if(!as||config$8.disabled){this.safeSetState({status:EXITED},function(){ss.props.onExited(cs)});return}this.props.onExit(cs),this.safeSetState({status:EXITING},function(){ss.props.onExiting(cs),ss.onTransitionEnd(ls.exit,function(){ss.safeSetState({status:EXITED},function(){ss.props.onExited(cs)})})})},ns.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},ns.safeSetState=function(ss,as){as=this.setNextCallback(as),this.setState(ss,as)},ns.setNextCallback=function(ss){var as=this,ls=!0;return this.nextCallback=function(cs){ls&&(ls=!1,as.nextCallback=null,ss(cs))},this.nextCallback.cancel=function(){ls=!1},this.nextCallback},ns.onTransitionEnd=function(ss,as){this.setNextCallback(as);var ls=this.props.nodeRef?this.props.nodeRef.current:ReactDOM__default.findDOMNode(this),cs=ss==null&&!this.props.addEndListener;if(!ls||cs){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var us=this.props.nodeRef?[this.nextCallback]:[ls,this.nextCallback],ds=us[0],ps=us[1];this.props.addEndListener(ds,ps)}ss!=null&&setTimeout(this.nextCallback,ss)},ns.render=function(){var ss=this.state.status;if(ss===UNMOUNTED)return null;var as=this.props,ls=as.children;as.in,as.mountOnEnter,as.unmountOnExit,as.appear,as.enter,as.exit,as.timeout,as.addEndListener,as.onEnter,as.onEntering,as.onEntered,as.onExit,as.onExiting,as.onExited,as.nodeRef;var cs=_objectWithoutPropertiesLoose$1(as,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return React$2.createElement(TransitionGroupContext.Provider,{value:null},typeof ls=="function"?ls(ss,cs):React$2.cloneElement(React$2.Children.only(ls),cs))},rs}(React$2.Component);Transition.contextType=TransitionGroupContext;Transition.propTypes={};function noop$6(){}Transition.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:noop$6,onEntering:noop$6,onEntered:noop$6,onExit:noop$6,onExiting:noop$6,onExited:noop$6};Transition.UNMOUNTED=UNMOUNTED;Transition.EXITED=EXITED;Transition.ENTERING=ENTERING;Transition.ENTERED=ENTERED;Transition.EXITING=EXITING;const Transition$1=Transition;var _addClass=function(rs,ns){return rs&&ns&&ns.split(" ").forEach(function(os){return addClass(rs,os)})},removeClass=function(rs,ns){return rs&&ns&&ns.split(" ").forEach(function(os){return removeClass$1(rs,os)})},CSSTransition=function(ts){_inheritsLoose(rs,ts);function rs(){for(var os,ss=arguments.length,as=new Array(ss),ls=0;ls<ss;ls++)as[ls]=arguments[ls];return os=ts.call.apply(ts,[this].concat(as))||this,os.appliedClasses={appear:{},enter:{},exit:{}},os.onEnter=function(cs,us){var ds=os.resolveArguments(cs,us),ps=ds[0],fs=ds[1];os.removeClasses(ps,"exit"),os.addClass(ps,fs?"appear":"enter","base"),os.props.onEnter&&os.props.onEnter(cs,us)},os.onEntering=function(cs,us){var ds=os.resolveArguments(cs,us),ps=ds[0],fs=ds[1],hs=fs?"appear":"enter";os.addClass(ps,hs,"active"),os.props.onEntering&&os.props.onEntering(cs,us)},os.onEntered=function(cs,us){var ds=os.resolveArguments(cs,us),ps=ds[0],fs=ds[1],hs=fs?"appear":"enter";os.removeClasses(ps,hs),os.addClass(ps,hs,"done"),os.props.onEntered&&os.props.onEntered(cs,us)},os.onExit=function(cs){var us=os.resolveArguments(cs),ds=us[0];os.removeClasses(ds,"appear"),os.removeClasses(ds,"enter"),os.addClass(ds,"exit","base"),os.props.onExit&&os.props.onExit(cs)},os.onExiting=function(cs){var us=os.resolveArguments(cs),ds=us[0];os.addClass(ds,"exit","active"),os.props.onExiting&&os.props.onExiting(cs)},os.onExited=function(cs){var us=os.resolveArguments(cs),ds=us[0];os.removeClasses(ds,"exit"),os.addClass(ds,"exit","done"),os.props.onExited&&os.props.onExited(cs)},os.resolveArguments=function(cs,us){return os.props.nodeRef?[os.props.nodeRef.current,cs]:[cs,us]},os.getClassNames=function(cs){var us=os.props.classNames,ds=typeof us=="string",ps=ds&&us?us+"-":"",fs=ds?""+ps+cs:us[cs],hs=ds?fs+"-active":us[cs+"Active"],ms=ds?fs+"-done":us[cs+"Done"];return{baseClassName:fs,activeClassName:hs,doneClassName:ms}},os}var ns=rs.prototype;return ns.addClass=function(ss,as,ls){var cs=this.getClassNames(as)[ls+"ClassName"],us=this.getClassNames("enter"),ds=us.doneClassName;as==="appear"&&ls==="done"&&ds&&(cs+=" "+ds),ls==="active"&&ss&&forceReflow(ss),cs&&(this.appliedClasses[as][ls]=cs,_addClass(ss,cs))},ns.removeClasses=function(ss,as){var ls=this.appliedClasses[as],cs=ls.base,us=ls.active,ds=ls.done;this.appliedClasses[as]={},cs&&removeClass(ss,cs),us&&removeClass(ss,us),ds&&removeClass(ss,ds)},ns.render=function(){var ss=this.props;ss.classNames;var as=_objectWithoutPropertiesLoose$1(ss,["classNames"]);return React$2.createElement(Transition$1,_extends$5({},as,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},rs}(React$2.Component);CSSTransition.defaultProps={classNames:""};CSSTransition.propTypes={};const CSSTransition$1=CSSTransition;function _assertThisInitialized(ts){if(ts===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ts}function getChildMapping(ts,rs){var ns=function(as){return rs&&reactExports.isValidElement(as)?rs(as):as},os=Object.create(null);return ts&&reactExports.Children.map(ts,function(ss){return ss}).forEach(function(ss){os[ss.key]=ns(ss)}),os}function mergeChildMappings(ts,rs){ts=ts||{},rs=rs||{};function ns(ps){return ps in rs?rs[ps]:ts[ps]}var os=Object.create(null),ss=[];for(var as in ts)as in rs?ss.length&&(os[as]=ss,ss=[]):ss.push(as);var ls,cs={};for(var us in rs){if(os[us])for(ls=0;ls<os[us].length;ls++){var ds=os[us][ls];cs[os[us][ls]]=ns(ds)}cs[us]=ns(us)}for(ls=0;ls<ss.length;ls++)cs[ss[ls]]=ns(ss[ls]);return cs}function getProp(ts,rs,ns){return ns[rs]!=null?ns[rs]:ts.props[rs]}function getInitialChildMapping(ts,rs){return getChildMapping(ts.children,function(ns){return reactExports.cloneElement(ns,{onExited:rs.bind(null,ns),in:!0,appear:getProp(ns,"appear",ts),enter:getProp(ns,"enter",ts),exit:getProp(ns,"exit",ts)})})}function getNextChildMapping(ts,rs,ns){var os=getChildMapping(ts.children),ss=mergeChildMappings(rs,os);return Object.keys(ss).forEach(function(as){var ls=ss[as];if(reactExports.isValidElement(ls)){var cs=as in rs,us=as in os,ds=rs[as],ps=reactExports.isValidElement(ds)&&!ds.props.in;us&&(!cs||ps)?ss[as]=reactExports.cloneElement(ls,{onExited:ns.bind(null,ls),in:!0,exit:getProp(ls,"exit",ts),enter:getProp(ls,"enter",ts)}):!us&&cs&&!ps?ss[as]=reactExports.cloneElement(ls,{in:!1}):us&&cs&&reactExports.isValidElement(ds)&&(ss[as]=reactExports.cloneElement(ls,{onExited:ns.bind(null,ls),in:ds.props.in,exit:getProp(ls,"exit",ts),enter:getProp(ls,"enter",ts)}))}}),ss}var values=Object.values||function(ts){return Object.keys(ts).map(function(rs){return ts[rs]})},defaultProps={component:"div",childFactory:function(rs){return rs}},TransitionGroup=function(ts){_inheritsLoose(rs,ts);function rs(os,ss){var as;as=ts.call(this,os,ss)||this;var ls=as.handleExited.bind(_assertThisInitialized(as));return as.state={contextValue:{isMounting:!0},handleExited:ls,firstRender:!0},as}var ns=rs.prototype;return ns.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},ns.componentWillUnmount=function(){this.mounted=!1},rs.getDerivedStateFromProps=function(ss,as){var ls=as.children,cs=as.handleExited,us=as.firstRender;return{children:us?getInitialChildMapping(ss,cs):getNextChildMapping(ss,ls,cs),firstRender:!1}},ns.handleExited=function(ss,as){var ls=getChildMapping(this.props.children);ss.key in ls||(ss.props.onExited&&ss.props.onExited(as),this.mounted&&this.setState(function(cs){var us=_extends$5({},cs.children);return delete us[ss.key],{children:us}}))},ns.render=function(){var ss=this.props,as=ss.component,ls=ss.childFactory,cs=_objectWithoutPropertiesLoose$1(ss,["component","childFactory"]),us=this.state.contextValue,ds=values(this.state.children).map(ls);return delete cs.appear,delete cs.enter,delete cs.exit,as===null?React$2.createElement(TransitionGroupContext.Provider,{value:us},ds):React$2.createElement(TransitionGroupContext.Provider,{value:us},React$2.createElement(as,cs,ds))},rs}(React$2.Component);TransitionGroup.propTypes={};TransitionGroup.defaultProps=defaultProps;const TransitionGroup$1=TransitionGroup;function Ripple(ts){const{className:rs,classes:ns,pulsate:os=!1,rippleX:ss,rippleY:as,rippleSize:ls,in:cs,onExited:us,timeout:ds}=ts,[ps,fs]=reactExports.useState(!1),hs=clsx$1(rs,ns.ripple,ns.rippleVisible,os&&ns.ripplePulsate),ms={width:ls,height:ls,top:-(ls/2)+as,left:-(ls/2)+ss},gs=clsx$1(ns.child,ps&&ns.childLeaving,os&&ns.childPulsate);return!cs&&!ps&&fs(!0),reactExports.useEffect(()=>{if(!cs&&us!=null){const vs=setTimeout(us,ds);return()=>{clearTimeout(vs)}}},[us,cs,ds]),jsxRuntimeExports.jsx("span",{className:hs,style:ms,children:jsxRuntimeExports.jsx("span",{className:gs})})}const touchRippleClasses=generateUtilityClasses("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),touchRippleClasses$1=touchRippleClasses,_excluded$2D=["center","classes","className"];let _$3=ts=>ts,_t$3,_t2$2,_t3$2,_t4$2;const DURATION=550,DELAY_RIPPLE=80;var Kp;const enterKeyframe=keyframes(_t$3||(_t$3=_$3(Kp||(Kp=zl(["\n  0% {\n    transform: scale(0);\n    opacity: 0.1;\n  }\n\n  100% {\n    transform: scale(1);\n    opacity: 0.3;\n  }\n"])))));var qp;const exitKeyframe=keyframes(_t2$2||(_t2$2=_$3(qp||(qp=zl(["\n  0% {\n    opacity: 1;\n  }\n\n  100% {\n    opacity: 0;\n  }\n"])))));var Zp;const pulsateKeyframe=keyframes(_t3$2||(_t3$2=_$3(Zp||(Zp=zl(["\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(0.92);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n"]))))),TouchRippleRoot=styled$4("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"});var Yp;const TouchRippleRipple=styled$4(Ripple,{name:"MuiTouchRipple",slot:"Ripple"})(_t4$2||(_t4$2=_$3(Yp||(Yp=zl(["\n  opacity: 0;\n  position: absolute;\n\n  &."," {\n    opacity: 0.3;\n    transform: scale(1);\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  &."," {\n    animation-duration: ","ms;\n  }\n\n  & ."," {\n    opacity: 1;\n    display: block;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    background-color: currentColor;\n  }\n\n  & ."," {\n    opacity: 0;\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  & ."," {\n    position: absolute;\n    /* @noflip */\n    left: 0px;\n    top: 0;\n    animation-name: ",";\n    animation-duration: 2500ms;\n    animation-timing-function: ",";\n    animation-iteration-count: infinite;\n    animation-delay: 200ms;\n  }\n"])),0,0,0,0,0,0,0,0,0,0,0,0,0,0)),touchRippleClasses$1.rippleVisible,enterKeyframe,DURATION,({theme:ts})=>ts.transitions.easing.easeInOut,touchRippleClasses$1.ripplePulsate,({theme:ts})=>ts.transitions.duration.shorter,touchRippleClasses$1.child,touchRippleClasses$1.childLeaving,exitKeyframe,DURATION,({theme:ts})=>ts.transitions.easing.easeInOut,touchRippleClasses$1.childPulsate,pulsateKeyframe,({theme:ts})=>ts.transitions.easing.easeInOut),TouchRipple=reactExports.forwardRef(function(rs,ns){const os=useDefaultProps({props:rs,name:"MuiTouchRipple"}),{center:ss=!1,classes:as={},className:ls}=os,cs=_objectWithoutPropertiesLoose$1(os,_excluded$2D),[us,ds]=reactExports.useState([]),ps=reactExports.useRef(0),fs=reactExports.useRef(null);reactExports.useEffect(()=>{fs.current&&(fs.current(),fs.current=null)},[us]);const hs=reactExports.useRef(!1),ms=useTimeout$1(),gs=reactExports.useRef(null),vs=reactExports.useRef(null),bs=reactExports.useCallback(Cs=>{const{pulsate:$s,rippleX:Es,rippleY:ws,rippleSize:Ts,cb:Is}=Cs;ds(Rs=>[...Rs,jsxRuntimeExports.jsx(TouchRippleRipple,{classes:{ripple:clsx$1(as.ripple,touchRippleClasses$1.ripple),rippleVisible:clsx$1(as.rippleVisible,touchRippleClasses$1.rippleVisible),ripplePulsate:clsx$1(as.ripplePulsate,touchRippleClasses$1.ripplePulsate),child:clsx$1(as.child,touchRippleClasses$1.child),childLeaving:clsx$1(as.childLeaving,touchRippleClasses$1.childLeaving),childPulsate:clsx$1(as.childPulsate,touchRippleClasses$1.childPulsate)},timeout:DURATION,pulsate:$s,rippleX:Es,rippleY:ws,rippleSize:Ts},ps.current)]),ps.current+=1,fs.current=Is},[as]),xs=reactExports.useCallback((Cs={},$s={},Es=()=>{})=>{const{pulsate:ws=!1,center:Ts=ss||$s.pulsate,fakeElement:Is=!1}=$s;if((Cs==null?void 0:Cs.type)==="mousedown"&&hs.current){hs.current=!1;return}(Cs==null?void 0:Cs.type)==="touchstart"&&(hs.current=!0);const Rs=Is?null:vs.current,As=Rs?Rs.getBoundingClientRect():{width:0,height:0,left:0,top:0};let ks,Ms,Os;if(Ts||Cs===void 0||Cs.clientX===0&&Cs.clientY===0||!Cs.clientX&&!Cs.touches)ks=Math.round(As.width/2),Ms=Math.round(As.height/2);else{const{clientX:Ds,clientY:Fs}=Cs.touches&&Cs.touches.length>0?Cs.touches[0]:Cs;ks=Math.round(Ds-As.left),Ms=Math.round(Fs-As.top)}if(Ts)Os=Math.sqrt((2*As.width**2+As.height**2)/3),Os%2===0&&(Os+=1);else{const Ds=Math.max(Math.abs((Rs?Rs.clientWidth:0)-ks),ks)*2+2,Fs=Math.max(Math.abs((Rs?Rs.clientHeight:0)-Ms),Ms)*2+2;Os=Math.sqrt(Ds**2+Fs**2)}Cs!=null&&Cs.touches?gs.current===null&&(gs.current=()=>{bs({pulsate:ws,rippleX:ks,rippleY:Ms,rippleSize:Os,cb:Es})},ms.start(DELAY_RIPPLE,()=>{gs.current&&(gs.current(),gs.current=null)})):bs({pulsate:ws,rippleX:ks,rippleY:Ms,rippleSize:Os,cb:Es})},[ss,bs,ms]),ys=reactExports.useCallback(()=>{xs({},{pulsate:!0})},[xs]),Ss=reactExports.useCallback((Cs,$s)=>{if(ms.clear(),(Cs==null?void 0:Cs.type)==="touchend"&&gs.current){gs.current(),gs.current=null,ms.start(0,()=>{Ss(Cs,$s)});return}gs.current=null,ds(Es=>Es.length>0?Es.slice(1):Es),fs.current=$s},[ms]);return reactExports.useImperativeHandle(ns,()=>({pulsate:ys,start:xs,stop:Ss}),[ys,xs,Ss]),jsxRuntimeExports.jsx(TouchRippleRoot,_extends$5({className:clsx$1(touchRippleClasses$1.root,as.root,ls),ref:vs},cs,{children:jsxRuntimeExports.jsx(TransitionGroup$1,{component:null,exit:!0,children:us})}))}),TouchRipple$1=TouchRipple;function getButtonBaseUtilityClass(ts){return generateUtilityClass("MuiButtonBase",ts)}const buttonBaseClasses=generateUtilityClasses("MuiButtonBase",["root","disabled","focusVisible"]),buttonBaseClasses$1=buttonBaseClasses,_excluded$2C=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],useUtilityClasses$2h=ts=>{const{disabled:rs,focusVisible:ns,focusVisibleClassName:os,classes:ss}=ts,ls=composeClasses({root:["root",rs&&"disabled",ns&&"focusVisible"]},getButtonBaseUtilityClass,ss);return ns&&os&&(ls.root+=" ".concat(os)),ls},ButtonBaseRoot=styled$4("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(ts,rs)=>rs.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},["&.".concat(buttonBaseClasses$1.disabled)]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),ButtonBase=reactExports.forwardRef(function(rs,ns){const os=useDefaultProps({props:rs,name:"MuiButtonBase"}),{action:ss,centerRipple:as=!1,children:ls,className:cs,component:us="button",disabled:ds=!1,disableRipple:ps=!1,disableTouchRipple:fs=!1,focusRipple:hs=!1,LinkComponent:ms="a",onBlur:gs,onClick:vs,onContextMenu:bs,onDragLeave:xs,onFocus:ys,onFocusVisible:Ss,onKeyDown:Cs,onKeyUp:$s,onMouseDown:Es,onMouseLeave:ws,onMouseUp:Ts,onTouchEnd:Is,onTouchMove:Rs,onTouchStart:As,tabIndex:ks=0,TouchRippleProps:Ms,touchRippleRef:Os,type:Ds}=os,Fs=_objectWithoutPropertiesLoose$1(os,_excluded$2C),js=reactExports.useRef(null),Ps=reactExports.useRef(null),Ls=useForkRef(Ps,Os),{isFocusVisibleRef:Ns,onFocus:Gs,onBlur:Us,ref:Hs}=useIsFocusVisible(),[zs,qs]=reactExports.useState(!1);ds&&zs&&qs(!1),reactExports.useImperativeHandle(ss,()=>({focusVisible:()=>{qs(!0),js.current.focus()}}),[]);const[Vs,Ks]=reactExports.useState(!1);reactExports.useEffect(()=>{Ks(!0)},[]);const Ws=Vs&&!ps&&!ds;reactExports.useEffect(()=>{zs&&hs&&!ps&&Vs&&Ps.current.pulsate()},[ps,hs,zs,Vs]);function Pl(Vl,Xl,Ql=fs){return useEventCallback(Kl=>(Xl&&Xl(Kl),!Ql&&Ps.current&&Ps.current[Vl](Kl),!0))}const Tl=Pl("start",Es),El=Pl("stop",bs),$l=Pl("stop",xs),Sl=Pl("stop",Ts),Ml=Pl("stop",Vl=>{zs&&Vl.preventDefault(),ws&&ws(Vl)}),wl=Pl("start",As),Rl=Pl("stop",Is),yl=Pl("stop",Rs),Bs=Pl("stop",Vl=>{Us(Vl),Ns.current===!1&&qs(!1),gs&&gs(Vl)},!1),Zs=useEventCallback(Vl=>{js.current||(js.current=Vl.currentTarget),Gs(Vl),Ns.current===!0&&(qs(!0),Ss&&Ss(Vl)),ys&&ys(Vl)}),Ys=()=>{const Vl=js.current;return us&&us!=="button"&&!(Vl.tagName==="A"&&Vl.href)},_l=reactExports.useRef(!1),Cl=useEventCallback(Vl=>{hs&&!_l.current&&zs&&Ps.current&&Vl.key===" "&&(_l.current=!0,Ps.current.stop(Vl,()=>{Ps.current.start(Vl)})),Vl.target===Vl.currentTarget&&Ys()&&Vl.key===" "&&Vl.preventDefault(),Cs&&Cs(Vl),Vl.target===Vl.currentTarget&&Ys()&&Vl.key==="Enter"&&!ds&&(Vl.preventDefault(),vs&&vs(Vl))}),Xs=useEventCallback(Vl=>{hs&&Vl.key===" "&&Ps.current&&zs&&!Vl.defaultPrevented&&(_l.current=!1,Ps.current.stop(Vl,()=>{Ps.current.pulsate(Vl)})),$s&&$s(Vl),vs&&Vl.target===Vl.currentTarget&&Ys()&&Vl.key===" "&&!Vl.defaultPrevented&&vs(Vl)});let xl=us;xl==="button"&&(Fs.href||Fs.to)&&(xl=ms);const $a={};xl==="button"?($a.type=Ds===void 0?"button":Ds,$a.disabled=ds):(!Fs.href&&!Fs.to&&($a.role="button"),ds&&($a["aria-disabled"]=ds));const Dl=useForkRef(ns,Hs,js),Ol=_extends$5({},os,{centerRipple:as,component:us,disabled:ds,disableRipple:ps,disableTouchRipple:fs,focusRipple:hs,tabIndex:ks,focusVisible:zs}),Ll=useUtilityClasses$2h(Ol);return jsxRuntimeExports.jsxs(ButtonBaseRoot,_extends$5({as:xl,className:clsx$1(Ll.root,cs),ownerState:Ol,onBlur:Bs,onClick:vs,onContextMenu:El,onFocus:Zs,onKeyDown:Cl,onKeyUp:Xs,onMouseDown:Tl,onMouseLeave:Ml,onMouseUp:Sl,onDragLeave:$l,onTouchEnd:Rl,onTouchMove:yl,onTouchStart:wl,ref:Dl,tabIndex:ds?-1:ks,type:Ds},$a,Fs,{children:[ls,Ws?jsxRuntimeExports.jsx(TouchRipple$1,_extends$5({ref:Ls,center:as},Ms)):null]}))}),ButtonBase$1=ButtonBase;function getIconButtonUtilityClass(ts){return generateUtilityClass("MuiIconButton",ts)}const iconButtonClasses=generateUtilityClasses("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),iconButtonClasses$1=iconButtonClasses,_excluded$2B=["edge","children","className","color","disabled","disableFocusRipple","size"],useUtilityClasses$2g=ts=>{const{classes:rs,disabled:ns,color:os,edge:ss,size:as}=ts,ls={root:["root",ns&&"disabled",os!=="default"&&"color".concat(capitalize$1(os)),ss&&"edge".concat(capitalize$1(ss)),"size".concat(capitalize$1(as))]};return composeClasses(ls,getIconButtonUtilityClass,rs)},IconButtonRoot=styled$4(ButtonBase$1,{name:"MuiIconButton",slot:"Root",overridesResolver:(ts,rs)=>{const{ownerState:ns}=ts;return[rs.root,ns.color!=="default"&&rs["color".concat(capitalize$1(ns.color))],ns.edge&&rs["edge".concat(capitalize$1(ns.edge))],rs["size".concat(capitalize$1(ns.size))]]}})(({theme:ts,ownerState:rs})=>_extends$5({textAlign:"center",flex:"0 0 auto",fontSize:ts.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(ts.vars||ts).palette.action.active,transition:ts.transitions.create("background-color",{duration:ts.transitions.duration.shortest})},!rs.disableRipple&&{"&:hover":{backgroundColor:ts.vars?"rgba(".concat(ts.vars.palette.action.activeChannel," / ").concat(ts.vars.palette.action.hoverOpacity,")"):alpha_1(ts.palette.action.active,ts.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},rs.edge==="start"&&{marginLeft:rs.size==="small"?-3:-12},rs.edge==="end"&&{marginRight:rs.size==="small"?-3:-12}),({theme:ts,ownerState:rs})=>{var ns;const os=(ns=(ts.vars||ts).palette)==null?void 0:ns[rs.color];return _extends$5({},rs.color==="inherit"&&{color:"inherit"},rs.color!=="inherit"&&rs.color!=="default"&&_extends$5({color:os==null?void 0:os.main},!rs.disableRipple&&{"&:hover":_extends$5({},os&&{backgroundColor:ts.vars?"rgba(".concat(os.mainChannel," / ").concat(ts.vars.palette.action.hoverOpacity,")"):alpha_1(os.main,ts.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),rs.size==="small"&&{padding:5,fontSize:ts.typography.pxToRem(18)},rs.size==="large"&&{padding:12,fontSize:ts.typography.pxToRem(28)},{["&.".concat(iconButtonClasses$1.disabled)]:{backgroundColor:"transparent",color:(ts.vars||ts).palette.action.disabled}})}),IconButton$1=reactExports.forwardRef(function(rs,ns){const os=useDefaultProps({props:rs,name:"MuiIconButton"}),{edge:ss=!1,children:as,className:ls,color:cs="default",disabled:us=!1,disableFocusRipple:ds=!1,size:ps="medium"}=os,fs=_objectWithoutPropertiesLoose$1(os,_excluded$2B),hs=_extends$5({},os,{edge:ss,color:cs,disabled:us,disableFocusRipple:ds,size:ps}),ms=useUtilityClasses$2g(hs);return jsxRuntimeExports.jsx(IconButtonRoot,_extends$5({className:clsx$1(ms.root,ls),centerRipple:!0,focusRipple:!ds,disabled:us,ref:ns},fs,{ownerState:hs,children:as}))}),IconButton$2=IconButton$1;function getSvgIconUtilityClass(ts){return generateUtilityClass("MuiSvgIcon",ts)}generateUtilityClasses("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const _excluded$2A=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],useUtilityClasses$2f=ts=>{const{color:rs,fontSize:ns,classes:os}=ts,ss={root:["root",rs!=="inherit"&&"color".concat(capitalize$1(rs)),"fontSize".concat(capitalize$1(ns))]};return composeClasses(ss,getSvgIconUtilityClass,os)},SvgIconRoot=styled$4("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(ts,rs)=>{const{ownerState:ns}=ts;return[rs.root,ns.color!=="inherit"&&rs["color".concat(capitalize$1(ns.color))],rs["fontSize".concat(capitalize$1(ns.fontSize))]]}})(({theme:ts,ownerState:rs})=>{var ns,os,ss,as,ls,cs,us,ds,ps,fs,hs,ms,gs;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:rs.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(ns=ts.transitions)==null||(os=ns.create)==null?void 0:os.call(ns,"fill",{duration:(ss=ts.transitions)==null||(ss=ss.duration)==null?void 0:ss.shorter}),fontSize:{inherit:"inherit",small:((as=ts.typography)==null||(ls=as.pxToRem)==null?void 0:ls.call(as,20))||"1.25rem",medium:((cs=ts.typography)==null||(us=cs.pxToRem)==null?void 0:us.call(cs,24))||"1.5rem",large:((ds=ts.typography)==null||(ps=ds.pxToRem)==null?void 0:ps.call(ds,35))||"2.1875rem"}[rs.fontSize],color:(fs=(hs=(ts.vars||ts).palette)==null||(hs=hs[rs.color])==null?void 0:hs.main)!=null?fs:{action:(ms=(ts.vars||ts).palette)==null||(ms=ms.action)==null?void 0:ms.active,disabled:(gs=(ts.vars||ts).palette)==null||(gs=gs.action)==null?void 0:gs.disabled,inherit:void 0}[rs.color]}}),SvgIcon=reactExports.forwardRef(function(rs,ns){const os=useDefaultProps({props:rs,name:"MuiSvgIcon"}),{children:ss,className:as,color:ls="inherit",component:cs="svg",fontSize:us="medium",htmlColor:ds,inheritViewBox:ps=!1,titleAccess:fs,viewBox:hs="0 0 24 24"}=os,ms=_objectWithoutPropertiesLoose$1(os,_excluded$2A),gs=reactExports.isValidElement(ss)&&ss.type==="svg",vs=_extends$5({},os,{color:ls,component:cs,fontSize:us,instanceFontSize:rs.fontSize,inheritViewBox:ps,viewBox:hs,hasSvgAsChild:gs}),bs={};ps||(bs.viewBox=hs);const xs=useUtilityClasses$2f(vs);return jsxRuntimeExports.jsxs(SvgIconRoot,_extends$5({as:cs,className:clsx$1(xs.root,as),focusable:"false",color:ds,"aria-hidden":fs?void 0:!0,role:fs?"img":void 0,ref:ns},bs,ms,gs&&ss.props,{ownerState:vs,children:[gs?ss.props.children:ss,fs?jsxRuntimeExports.jsx("title",{children:fs}):null]}))});SvgIcon.muiName="SvgIcon";const SvgIcon$1=SvgIcon;function createSvgIcon$1(ts,rs){function ns(os,ss){return jsxRuntimeExports.jsx(SvgIcon$1,_extends$5({"data-testid":"".concat(rs,"Icon"),ref:ss},os,{children:ts}))}return ns.muiName=SvgIcon$1.muiName,reactExports.memo(reactExports.forwardRef(ns))}const SuccessOutlinedIcon=createSvgIcon$1(jsxRuntimeExports.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),ReportProblemOutlinedIcon=createSvgIcon$1(jsxRuntimeExports.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),ErrorOutlineIcon=createSvgIcon$1(jsxRuntimeExports.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),InfoOutlinedIcon=createSvgIcon$1(jsxRuntimeExports.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),ClearIcon=createSvgIcon$1(jsxRuntimeExports.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),_excluded$2z=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],useUtilityClasses$2e=ts=>{const{variant:rs,color:ns,severity:os,classes:ss}=ts,as={root:["root","color".concat(capitalize$1(ns||os)),"".concat(rs).concat(capitalize$1(ns||os)),"".concat(rs)],icon:["icon"],message:["message"],action:["action"]};return composeClasses(as,getAlertUtilityClass,ss)},AlertRoot=styled$4(Paper$1,{name:"MuiAlert",slot:"Root",overridesResolver:(ts,rs)=>{const{ownerState:ns}=ts;return[rs.root,rs[ns.variant],rs["".concat(ns.variant).concat(capitalize$1(ns.color||ns.severity))]]}})(({theme:ts})=>{const rs=ts.palette.mode==="light"?darken_1:lighten_1,ns=ts.palette.mode==="light"?lighten_1:darken_1;return _extends$5({},ts.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(ts.palette).filter(([,os])=>os.main&&os.light).map(([os])=>({props:{colorSeverity:os,variant:"standard"},style:{color:ts.vars?ts.vars.palette.Alert["".concat(os,"Color")]:rs(ts.palette[os].light,.6),backgroundColor:ts.vars?ts.vars.palette.Alert["".concat(os,"StandardBg")]:ns(ts.palette[os].light,.9),["& .".concat(alertClasses$1.icon)]:ts.vars?{color:ts.vars.palette.Alert["".concat(os,"IconColor")]}:{color:ts.palette[os].main}}})),...Object.entries(ts.palette).filter(([,os])=>os.main&&os.light).map(([os])=>({props:{colorSeverity:os,variant:"outlined"},style:{color:ts.vars?ts.vars.palette.Alert["".concat(os,"Color")]:rs(ts.palette[os].light,.6),border:"1px solid ".concat((ts.vars||ts).palette[os].light),["& .".concat(alertClasses$1.icon)]:ts.vars?{color:ts.vars.palette.Alert["".concat(os,"IconColor")]}:{color:ts.palette[os].main}}})),...Object.entries(ts.palette).filter(([,os])=>os.main&&os.dark).map(([os])=>({props:{colorSeverity:os,variant:"filled"},style:_extends$5({fontWeight:ts.typography.fontWeightMedium},ts.vars?{color:ts.vars.palette.Alert["".concat(os,"FilledColor")],backgroundColor:ts.vars.palette.Alert["".concat(os,"FilledBg")]}:{backgroundColor:ts.palette.mode==="dark"?ts.palette[os].dark:ts.palette[os].main,color:ts.palette.getContrastText(ts.palette[os].main)})}))]})}),AlertIcon=styled$4("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(ts,rs)=>rs.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),AlertMessage=styled$4("div",{name:"MuiAlert",slot:"Message",overridesResolver:(ts,rs)=>rs.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),AlertAction=styled$4("div",{name:"MuiAlert",slot:"Action",overridesResolver:(ts,rs)=>rs.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),defaultIconMapping={success:jsxRuntimeExports.jsx(SuccessOutlinedIcon,{fontSize:"inherit"}),warning:jsxRuntimeExports.jsx(ReportProblemOutlinedIcon,{fontSize:"inherit"}),error:jsxRuntimeExports.jsx(ErrorOutlineIcon,{fontSize:"inherit"}),info:jsxRuntimeExports.jsx(InfoOutlinedIcon,{fontSize:"inherit"})},Alert=reactExports.forwardRef(function(rs,ns){const os=useDefaultProps({props:rs,name:"MuiAlert"}),{action:ss,children:as,className:ls,closeText:cs="Close",color:us,components:ds={},componentsProps:ps={},icon:fs,iconMapping:hs=defaultIconMapping,onClose:ms,role:gs="alert",severity:vs="success",slotProps:bs={},slots:xs={},variant:ys="standard"}=os,Ss=_objectWithoutPropertiesLoose$1(os,_excluded$2z),Cs=_extends$5({},os,{color:us,severity:vs,variant:ys,colorSeverity:us||vs}),$s=useUtilityClasses$2e(Cs),Es={slots:_extends$5({closeButton:ds.CloseButton,closeIcon:ds.CloseIcon},xs),slotProps:_extends$5({},ps,bs)},[ws,Ts]=useSlot("closeButton",{elementType:IconButton$2,externalForwardedProps:Es,ownerState:Cs}),[Is,Rs]=useSlot("closeIcon",{elementType:ClearIcon,externalForwardedProps:Es,ownerState:Cs});return jsxRuntimeExports.jsxs(AlertRoot,_extends$5({role:gs,elevation:0,ownerState:Cs,className:clsx$1($s.root,ls),ref:ns},Ss,{children:[fs!==!1?jsxRuntimeExports.jsx(AlertIcon,{ownerState:Cs,className:$s.icon,children:fs||hs[vs]||defaultIconMapping[vs]}):null,jsxRuntimeExports.jsx(AlertMessage,{ownerState:Cs,className:$s.message,children:as}),ss!=null?jsxRuntimeExports.jsx(AlertAction,{ownerState:Cs,className:$s.action,children:ss}):null,ss==null&&ms?jsxRuntimeExports.jsx(AlertAction,{ownerState:Cs,className:$s.action,children:jsxRuntimeExports.jsx(ws,_extends$5({size:"small","aria-label":cs,title:cs,color:"inherit",onClick:ms},Ts,{children:jsxRuntimeExports.jsx(Is,_extends$5({fontSize:"small"},Rs))}))}):null]}))}),Alert$1=Alert;function getTypographyUtilityClass(ts){return generateUtilityClass("MuiTypography",ts)}generateUtilityClasses("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const _excluded$2y=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],useUtilityClasses$2d=ts=>{const{align:rs,gutterBottom:ns,noWrap:os,paragraph:ss,variant:as,classes:ls}=ts,cs={root:["root",as,ts.align!=="inherit"&&"align".concat(capitalize$1(rs)),ns&&"gutterBottom",os&&"noWrap",ss&&"paragraph"]};return composeClasses(cs,getTypographyUtilityClass,ls)},TypographyRoot=styled$4("span",{name:"MuiTypography",slot:"Root",overridesResolver:(ts,rs)=>{const{ownerState:ns}=ts;return[rs.root,ns.variant&&rs[ns.variant],ns.align!=="inherit"&&rs["align".concat(capitalize$1(ns.align))],ns.noWrap&&rs.noWrap,ns.gutterBottom&&rs.gutterBottom,ns.paragraph&&rs.paragraph]}})(({theme:ts,ownerState:rs})=>_extends$5({margin:0},rs.variant==="inherit"&&{font:"inherit"},rs.variant!=="inherit"&&ts.typography[rs.variant],rs.align!=="inherit"&&{textAlign:rs.align},rs.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},rs.gutterBottom&&{marginBottom:"0.35em"},rs.paragraph&&{marginBottom:16})),defaultVariantMapping={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},colorTransformations$1={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},transformDeprecatedColors$1=ts=>colorTransformations$1[ts]||ts,Typography=reactExports.forwardRef(function(rs,ns){const os=useDefaultProps({props:rs,name:"MuiTypography"}),ss=transformDeprecatedColors$1(os.color),as=extendSxProp(_extends$5({},os,{color:ss})),{align:ls="inherit",className:cs,component:us,gutterBottom:ds=!1,noWrap:ps=!1,paragraph:fs=!1,variant:hs="body1",variantMapping:ms=defaultVariantMapping}=as,gs=_objectWithoutPropertiesLoose$1(as,_excluded$2y),vs=_extends$5({},as,{align:ls,color:ss,className:cs,component:us,gutterBottom:ds,noWrap:ps,paragraph:fs,variant:hs,variantMapping:ms}),bs=us||(fs?"p":ms[hs]||defaultVariantMapping[hs])||"span",xs=useUtilityClasses$2d(vs);return jsxRuntimeExports.jsx(TypographyRoot,_extends$5({as:bs,ref:ns,ownerState:vs,className:clsx$1(xs.root,cs)},gs))}),Typography$1=Typography;function stripDiacritics(ts){return typeof ts.normalize<"u"?ts.normalize("NFD").replace(/[\u0300-\u036f]/g,""):ts}function createFilterOptions(ts={}){const{ignoreAccents:rs=!0,ignoreCase:ns=!0,limit:os,matchFrom:ss="any",stringify:as,trim:ls=!1}=ts;return(cs,{inputValue:us,getOptionLabel:ds})=>{let ps=ls?us.trim():us;ns&&(ps=ps.toLowerCase()),rs&&(ps=stripDiacritics(ps));const fs=ps?cs.filter(hs=>{let ms=(as||ds)(hs);return ns&&(ms=ms.toLowerCase()),rs&&(ms=stripDiacritics(ms)),ss==="start"?ms.indexOf(ps)===0:ms.indexOf(ps)>-1}):cs;return typeof os=="number"?fs.slice(0,os):fs}}function findIndex(ts,rs){for(let ns=0;ns<ts.length;ns+=1)if(rs(ts[ns]))return ns;return-1}const defaultFilterOptions=createFilterOptions(),pageSize=5,defaultIsActiveElementInListbox=ts=>{var rs;return ts.current!==null&&((rs=ts.current.parentElement)==null?void 0:rs.contains(document.activeElement))};function useAutocomplete(ts){const{unstable_isActiveElementInListbox:rs=defaultIsActiveElementInListbox,unstable_classNamePrefix:ns="Mui",autoComplete:os=!1,autoHighlight:ss=!1,autoSelect:as=!1,blurOnSelect:ls=!1,clearOnBlur:cs=!ts.freeSolo,clearOnEscape:us=!1,componentName:ds="useAutocomplete",defaultValue:ps=ts.multiple?[]:null,disableClearable:fs=!1,disableCloseOnSelect:hs=!1,disabled:ms,disabledItemsFocusable:gs=!1,disableListWrap:vs=!1,filterOptions:bs=defaultFilterOptions,filterSelectedOptions:xs=!1,freeSolo:ys=!1,getOptionDisabled:Ss,getOptionKey:Cs,getOptionLabel:$s=Ul=>{var Fl;return(Fl=Ul.label)!=null?Fl:Ul},groupBy:Es,handleHomeEndKeys:ws=!ts.freeSolo,id:Ts,includeInputInList:Is=!1,inputValue:Rs,isOptionEqualToValue:As=(Ul,Fl)=>Ul===Fl,multiple:ks=!1,onChange:Ms,onClose:Os,onHighlightChange:Ds,onInputChange:Fs,onOpen:js,open:Ps,openOnFocus:Ls=!1,options:Ns,readOnly:Gs=!1,selectOnFocus:Us=!ts.freeSolo,value:Hs}=ts,zs=useId(Ts);let qs=$s;qs=Ul=>{const Fl=$s(Ul);return typeof Fl!="string"?String(Fl):Fl};const Vs=reactExports.useRef(!1),Ks=reactExports.useRef(!0),Ws=reactExports.useRef(null),Pl=reactExports.useRef(null),[Tl,El]=reactExports.useState(null),[$l,Sl]=reactExports.useState(-1),Ml=ss?0:-1,wl=reactExports.useRef(Ml),[Rl,yl]=useControlled({controlled:Hs,default:ps,name:ds}),[Bs,Zs]=useControlled({controlled:Rs,default:"",name:ds,state:"inputValue"}),[Ys,_l]=reactExports.useState(!1),Cl=reactExports.useCallback((Ul,Fl)=>{if(!(ks?Rl.length<Fl.length:Fl!==null)&&!cs)return;let Yl;if(ks)Yl="";else if(Fl==null)Yl="";else{const su=qs(Fl);Yl=typeof su=="string"?su:""}Bs!==Yl&&(Zs(Yl),Fs&&Fs(Ul,Yl,"reset"))},[qs,Bs,ks,Fs,Zs,cs,Rl]),[Xs,xl]=useControlled({controlled:Ps,default:!1,name:ds,state:"open"}),[$a,Dl]=reactExports.useState(!0),Ol=!ks&&Rl!=null&&Bs===qs(Rl),Ll=Xs&&!Gs,Vl=Ll?bs(Ns.filter(Ul=>!(xs&&(ks?Rl:[Rl]).some(Fl=>Fl!==null&&As(Ul,Fl)))),{inputValue:Ol&&$a?"":Bs,getOptionLabel:qs}):[],Xl=usePreviousProps$1({filteredOptions:Vl,value:Rl,inputValue:Bs});reactExports.useEffect(()=>{const Ul=Rl!==Xl.value;Ys&&!Ul||ys&&!Ul||Cl(null,Rl)},[Rl,Cl,Ys,Xl.value,ys]);const Ql=Xs&&Vl.length>0&&!Gs,Kl=useEventCallback(Ul=>{Ul===-1?Ws.current.focus():Tl.querySelector('[data-tag-index="'.concat(Ul,'"]')).focus()});reactExports.useEffect(()=>{ks&&$l>Rl.length-1&&(Sl(-1),Kl(-1))},[Rl,ks,$l,Kl]);function Gl(Ul,Fl){if(!Pl.current||Ul<0||Ul>=Vl.length)return-1;let ru=Ul;for(;;){const Yl=Pl.current.querySelector('[data-option-index="'.concat(ru,'"]')),su=gs?!1:!Yl||Yl.disabled||Yl.getAttribute("aria-disabled")==="true";if(Yl&&Yl.hasAttribute("tabindex")&&!su)return ru;if(Fl==="next"?ru=(ru+1)%Vl.length:ru=(ru-1+Vl.length)%Vl.length,ru===Ul)return-1}}const nu=useEventCallback(({event:Ul,index:Fl,reason:ru="auto"})=>{if(wl.current=Fl,Fl===-1?Ws.current.removeAttribute("aria-activedescendant"):Ws.current.setAttribute("aria-activedescendant","".concat(zs,"-option-").concat(Fl)),Ds&&Ds(Ul,Fl===-1?null:Vl[Fl],ru),!Pl.current)return;const Yl=Pl.current.querySelector('[role="option"].'.concat(ns,"-focused"));Yl&&(Yl.classList.remove("".concat(ns,"-focused")),Yl.classList.remove("".concat(ns,"-focusVisible")));let su=Pl.current;if(Pl.current.getAttribute("role")!=="listbox"&&(su=Pl.current.parentElement.querySelector('[role="listbox"]')),!su)return;if(Fl===-1){su.scrollTop=0;return}const ou=Pl.current.querySelector('[data-option-index="'.concat(Fl,'"]'));if(ou&&(ou.classList.add("".concat(ns,"-focused")),ru==="keyboard"&&ou.classList.add("".concat(ns,"-focusVisible")),su.scrollHeight>su.clientHeight&&ru!=="mouse"&&ru!=="touch")){const cu=ou,bu=su.clientHeight+su.scrollTop,Gu=cu.offsetTop+cu.offsetHeight;Gu>bu?su.scrollTop=Gu-su.clientHeight:cu.offsetTop-cu.offsetHeight*(Es?1.3:0)<su.scrollTop&&(su.scrollTop=cu.offsetTop-cu.offsetHeight*(Es?1.3:0))}}),Bl=useEventCallback(({event:Ul,diff:Fl,direction:ru="next",reason:Yl="auto"})=>{if(!Ll)return;const ou=Gl((()=>{const cu=Vl.length-1;if(Fl==="reset")return Ml;if(Fl==="start")return 0;if(Fl==="end")return cu;const bu=wl.current+Fl;return bu<0?bu===-1&&Is?-1:vs&&wl.current!==-1||Math.abs(Fl)>1?0:cu:bu>cu?bu===cu+1&&Is?-1:vs||Math.abs(Fl)>1?cu:0:bu})(),ru);if(nu({index:ou,reason:Yl,event:Ul}),os&&Fl!=="reset")if(ou===-1)Ws.current.value=Bs;else{const cu=qs(Vl[ou]);Ws.current.value=cu,cu.toLowerCase().indexOf(Bs.toLowerCase())===0&&Bs.length>0&&Ws.current.setSelectionRange(Bs.length,cu.length)}}),Hl=()=>{const Ul=(Fl,ru)=>{const Yl=Fl?qs(Fl):"",su=ru?qs(ru):"";return Yl===su};if(wl.current!==-1&&Xl.filteredOptions&&Xl.filteredOptions.length!==Vl.length&&Xl.inputValue===Bs&&(ks?Rl.length===Xl.value.length&&Xl.value.every((Fl,ru)=>qs(Rl[ru])===qs(Fl)):Ul(Xl.value,Rl))){const Fl=Xl.filteredOptions[wl.current];if(Fl)return findIndex(Vl,ru=>qs(ru)===qs(Fl))}return-1},Qs=reactExports.useCallback(()=>{if(!Ll)return;const Ul=Hl();if(Ul!==-1){wl.current=Ul;return}const Fl=ks?Rl[0]:Rl;if(Vl.length===0||Fl==null){Bl({diff:"reset"});return}if(Pl.current){if(Fl!=null){const ru=Vl[wl.current];if(ks&&ru&&findIndex(Rl,su=>As(ru,su))!==-1)return;const Yl=findIndex(Vl,su=>As(su,Fl));Yl===-1?Bl({diff:"reset"}):nu({index:Yl});return}if(wl.current>=Vl.length-1){nu({index:Vl.length-1});return}nu({index:wl.current})}},[Vl.length,ks?!1:Rl,xs,Bl,nu,Ll,Bs,ks]),Al=useEventCallback(Ul=>{setRef$1(Pl,Ul),Ul&&Qs()});reactExports.useEffect(()=>{Qs()},[Qs]);const Nl=Ul=>{Xs||(xl(!0),Dl(!0),js&&js(Ul))},eu=(Ul,Fl)=>{Xs&&(xl(!1),Os&&Os(Ul,Fl))},Jl=(Ul,Fl,ru,Yl)=>{if(ks){if(Rl.length===Fl.length&&Rl.every((su,ou)=>su===Fl[ou]))return}else if(Rl===Fl)return;Ms&&Ms(Ul,Fl,ru,Yl),yl(Fl)},Zl=reactExports.useRef(!1),tu=(Ul,Fl,ru="selectOption",Yl="options")=>{let su=ru,ou=Fl;if(ks){ou=Array.isArray(Rl)?Rl.slice():[];const cu=findIndex(ou,bu=>As(Fl,bu));cu===-1?ou.push(Fl):Yl!=="freeSolo"&&(ou.splice(cu,1),su="removeOption")}Cl(Ul,ou),Jl(Ul,ou,su,{option:Fl}),!hs&&(!Ul||!Ul.ctrlKey&&!Ul.metaKey)&&eu(Ul,su),(ls===!0||ls==="touch"&&Zl.current||ls==="mouse"&&!Zl.current)&&Ws.current.blur()};function au(Ul,Fl){if(Ul===-1)return-1;let ru=Ul;for(;;){if(Fl==="next"&&ru===Rl.length||Fl==="previous"&&ru===-1)return-1;const Yl=Tl.querySelector('[data-tag-index="'.concat(ru,'"]'));if(!Yl||!Yl.hasAttribute("tabindex")||Yl.disabled||Yl.getAttribute("aria-disabled")==="true")ru+=Fl==="next"?1:-1;else return ru}}const du=(Ul,Fl)=>{if(!ks)return;Bs===""&&eu(Ul,"toggleInput");let ru=$l;$l===-1?Bs===""&&Fl==="previous"&&(ru=Rl.length-1):(ru+=Fl==="next"?1:-1,ru<0&&(ru=0),ru===Rl.length&&(ru=-1)),ru=au(ru,Fl),Sl(ru),Kl(ru)},lu=Ul=>{Vs.current=!0,Zs(""),Fs&&Fs(Ul,"","clear"),Jl(Ul,ks?[]:null,"clear")},fu=Ul=>Fl=>{if(Ul.onKeyDown&&Ul.onKeyDown(Fl),!Fl.defaultMuiPrevented&&($l!==-1&&["ArrowLeft","ArrowRight"].indexOf(Fl.key)===-1&&(Sl(-1),Kl(-1)),Fl.which!==229))switch(Fl.key){case"Home":Ll&&ws&&(Fl.preventDefault(),Bl({diff:"start",direction:"next",reason:"keyboard",event:Fl}));break;case"End":Ll&&ws&&(Fl.preventDefault(),Bl({diff:"end",direction:"previous",reason:"keyboard",event:Fl}));break;case"PageUp":Fl.preventDefault(),Bl({diff:-pageSize,direction:"previous",reason:"keyboard",event:Fl}),Nl(Fl);break;case"PageDown":Fl.preventDefault(),Bl({diff:pageSize,direction:"next",reason:"keyboard",event:Fl}),Nl(Fl);break;case"ArrowDown":Fl.preventDefault(),Bl({diff:1,direction:"next",reason:"keyboard",event:Fl}),Nl(Fl);break;case"ArrowUp":Fl.preventDefault(),Bl({diff:-1,direction:"previous",reason:"keyboard",event:Fl}),Nl(Fl);break;case"ArrowLeft":du(Fl,"previous");break;case"ArrowRight":du(Fl,"next");break;case"Enter":if(wl.current!==-1&&Ll){const ru=Vl[wl.current],Yl=Ss?Ss(ru):!1;if(Fl.preventDefault(),Yl)return;tu(Fl,ru,"selectOption"),os&&Ws.current.setSelectionRange(Ws.current.value.length,Ws.current.value.length)}else ys&&Bs!==""&&Ol===!1&&(ks&&Fl.preventDefault(),tu(Fl,Bs,"createOption","freeSolo"));break;case"Escape":Ll?(Fl.preventDefault(),Fl.stopPropagation(),eu(Fl,"escape")):us&&(Bs!==""||ks&&Rl.length>0)&&(Fl.preventDefault(),Fl.stopPropagation(),lu(Fl));break;case"Backspace":if(ks&&!Gs&&Bs===""&&Rl.length>0){const ru=$l===-1?Rl.length-1:$l,Yl=Rl.slice();Yl.splice(ru,1),Jl(Fl,Yl,"removeOption",{option:Rl[ru]})}break;case"Delete":if(ks&&!Gs&&Bs===""&&Rl.length>0&&$l!==-1){const ru=$l,Yl=Rl.slice();Yl.splice(ru,1),Jl(Fl,Yl,"removeOption",{option:Rl[ru]})}break}},_u=Ul=>{_l(!0),Ls&&!Vs.current&&Nl(Ul)},$u=Ul=>{if(rs(Pl)){Ws.current.focus();return}_l(!1),Ks.current=!0,Vs.current=!1,as&&wl.current!==-1&&Ll?tu(Ul,Vl[wl.current],"blur"):as&&ys&&Bs!==""?tu(Ul,Bs,"blur","freeSolo"):cs&&Cl(Ul,Rl),eu(Ul,"blur")},mu=Ul=>{const Fl=Ul.target.value;Bs!==Fl&&(Zs(Fl),Dl(!1),Fs&&Fs(Ul,Fl,"input")),Fl===""?!fs&&!ks&&Jl(Ul,null,"clear"):Nl(Ul)},pu=Ul=>{const Fl=Number(Ul.currentTarget.getAttribute("data-option-index"));wl.current!==Fl&&nu({event:Ul,index:Fl,reason:"mouse"})},vu=Ul=>{nu({event:Ul,index:Number(Ul.currentTarget.getAttribute("data-option-index")),reason:"touch"}),Zl.current=!0},Su=Ul=>{const Fl=Number(Ul.currentTarget.getAttribute("data-option-index"));tu(Ul,Vl[Fl],"selectOption"),Zl.current=!1},Tu=Ul=>Fl=>{const ru=Rl.slice();ru.splice(Ul,1),Jl(Fl,ru,"removeOption",{option:Rl[Ul]})},Ru=Ul=>{Xs?eu(Ul,"toggleInput"):Nl(Ul)},yu=Ul=>{Ul.currentTarget.contains(Ul.target)&&Ul.target.getAttribute("id")!==zs&&Ul.preventDefault()},Ou=Ul=>{Ul.currentTarget.contains(Ul.target)&&(Ws.current.focus(),Us&&Ks.current&&Ws.current.selectionEnd-Ws.current.selectionStart===0&&Ws.current.select(),Ks.current=!1)},ju=Ul=>{!ms&&(Bs===""||!Xs)&&Ru(Ul)};let Pu=ys&&Bs.length>0;Pu=Pu||(ks?Rl.length>0:Rl!==null);let Mu=Vl;return Es&&(Mu=Vl.reduce((Ul,Fl,ru)=>{const Yl=Es(Fl);return Ul.length>0&&Ul[Ul.length-1].group===Yl?Ul[Ul.length-1].options.push(Fl):Ul.push({key:ru,index:ru,group:Yl,options:[Fl]}),Ul},[])),ms&&Ys&&$u(),{getRootProps:(Ul={})=>_extends$5({"aria-owns":Ql?"".concat(zs,"-listbox"):null},Ul,{onKeyDown:fu(Ul),onMouseDown:yu,onClick:Ou}),getInputLabelProps:()=>({id:"".concat(zs,"-label"),htmlFor:zs}),getInputProps:()=>({id:zs,value:Bs,onBlur:$u,onFocus:_u,onChange:mu,onMouseDown:ju,"aria-activedescendant":Ll?"":null,"aria-autocomplete":os?"both":"list","aria-controls":Ql?"".concat(zs,"-listbox"):void 0,"aria-expanded":Ql,autoComplete:"off",ref:Ws,autoCapitalize:"none",spellCheck:"false",role:"combobox",disabled:ms}),getClearProps:()=>({tabIndex:-1,type:"button",onClick:lu}),getPopupIndicatorProps:()=>({tabIndex:-1,type:"button",onClick:Ru}),getTagProps:({index:Ul})=>_extends$5({key:Ul,"data-tag-index":Ul,tabIndex:-1},!Gs&&{onDelete:Tu(Ul)}),getListboxProps:()=>({role:"listbox",id:"".concat(zs,"-listbox"),"aria-labelledby":"".concat(zs,"-label"),ref:Al,onMouseDown:Ul=>{Ul.preventDefault()}}),getOptionProps:({index:Ul,option:Fl})=>{var ru;const Yl=(ks?Rl:[Rl]).some(ou=>ou!=null&&As(Fl,ou)),su=Ss?Ss(Fl):!1;return{key:(ru=Cs==null?void 0:Cs(Fl))!=null?ru:qs(Fl),tabIndex:-1,role:"option",id:"".concat(zs,"-option-").concat(Ul),onMouseMove:pu,onClick:Su,onTouchStart:vu,"data-option-index":Ul,"aria-disabled":su,"aria-selected":Yl}},id:zs,inputValue:Bs,value:Rl,dirty:Pu,expanded:Ll&&Tl,popupOpen:Ll,focused:Ys||$l!==-1,anchorEl:Tl,setAnchorEl:El,focusedTag:$l,groupedOptions:Mu}}var useThemeWithoutDefault={};Object.defineProperty(useThemeWithoutDefault,"__esModule",{value:!0});var default_1$x=useThemeWithoutDefault.default=void 0,React$1=_interopRequireWildcard$2(reactExports),_styledEngine=require$$1$1;function _getRequireWildcardCache$2(ts){if(typeof WeakMap!="function")return null;var rs=new WeakMap,ns=new WeakMap;return(_getRequireWildcardCache$2=function(os){return os?ns:rs})(ts)}function _interopRequireWildcard$2(ts,rs){if(!rs&&ts&&ts.__esModule)return ts;if(ts===null||typeof ts!="object"&&typeof ts!="function")return{default:ts};var ns=_getRequireWildcardCache$2(rs);if(ns&&ns.has(ts))return ns.get(ts);var os={__proto__:null},ss=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var as in ts)if(as!=="default"&&Object.prototype.hasOwnProperty.call(ts,as)){var ls=ss?Object.getOwnPropertyDescriptor(ts,as):null;ls&&(ls.get||ls.set)?Object.defineProperty(os,as,ls):os[as]=ts[as]}return os.default=ts,ns&&ns.set(ts,os),os}function isObjectEmpty(ts){return Object.keys(ts).length===0}function useTheme(ts=null){const rs=React$1.useContext(_styledEngine.ThemeContext);return!rs||isObjectEmpty(rs)?ts:rs}default_1$x=useThemeWithoutDefault.default=useTheme;var top$2="top",bottom$1="bottom",right$1="right",left$1="left",auto$1="auto",basePlacements$1=[top$2,bottom$1,right$1,left$1],start$1="start",end$1="end",clippingParents$1="clippingParents",viewport$1="viewport",popper$1="popper",reference$1="reference",variationPlacements$1=basePlacements$1.reduce(function(ts,rs){return ts.concat([rs+"-"+start$1,rs+"-"+end$1])},[]),placements$1=[].concat(basePlacements$1,[auto$1]).reduce(function(ts,rs){return ts.concat([rs,rs+"-"+start$1,rs+"-"+end$1])},[]),beforeRead$1="beforeRead",read$1="read",afterRead$1="afterRead",beforeMain$1="beforeMain",main$2="main",afterMain$1="afterMain",beforeWrite$1="beforeWrite",write$1="write",afterWrite$1="afterWrite",modifierPhases$1=[beforeRead$1,read$1,afterRead$1,beforeMain$1,main$2,afterMain$1,beforeWrite$1,write$1,afterWrite$1];function getNodeName$1(ts){return ts?(ts.nodeName||"").toLowerCase():null}function getWindow$1(ts){if(ts==null)return window;if(ts.toString()!=="[object Window]"){var rs=ts.ownerDocument;return rs&&rs.defaultView||window}return ts}function isElement$1(ts){var rs=getWindow$1(ts).Element;return ts instanceof rs||ts instanceof Element}function isHTMLElement$3(ts){var rs=getWindow$1(ts).HTMLElement;return ts instanceof rs||ts instanceof HTMLElement}function isShadowRoot$1(ts){if(typeof ShadowRoot>"u")return!1;var rs=getWindow$1(ts).ShadowRoot;return ts instanceof rs||ts instanceof ShadowRoot}function applyStyles$2(ts){var rs=ts.state;Object.keys(rs.elements).forEach(function(ns){var os=rs.styles[ns]||{},ss=rs.attributes[ns]||{},as=rs.elements[ns];!isHTMLElement$3(as)||!getNodeName$1(as)||(Object.assign(as.style,os),Object.keys(ss).forEach(function(ls){var cs=ss[ls];cs===!1?as.removeAttribute(ls):as.setAttribute(ls,cs===!0?"":cs)}))})}function effect$5(ts){var rs=ts.state,ns={popper:{position:rs.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(rs.elements.popper.style,ns.popper),rs.styles=ns,rs.elements.arrow&&Object.assign(rs.elements.arrow.style,ns.arrow),function(){Object.keys(rs.elements).forEach(function(os){var ss=rs.elements[os],as=rs.attributes[os]||{},ls=Object.keys(rs.styles.hasOwnProperty(os)?rs.styles[os]:ns[os]),cs=ls.reduce(function(us,ds){return us[ds]="",us},{});!isHTMLElement$3(ss)||!getNodeName$1(ss)||(Object.assign(ss.style,cs),Object.keys(as).forEach(function(us){ss.removeAttribute(us)}))})}}const applyStyles$3={name:"applyStyles",enabled:!0,phase:"write",fn:applyStyles$2,effect:effect$5,requires:["computeStyles"]};function getBasePlacement$1(ts){return ts.split("-")[0]}var max$1=Math.max,min$1=Math.min,round$2=Math.round;function getUAString$1(){var ts=navigator.userAgentData;return ts!=null&&ts.brands&&Array.isArray(ts.brands)?ts.brands.map(function(rs){return rs.brand+"/"+rs.version}).join(" "):navigator.userAgent}function isLayoutViewport$1(){return!/^((?!chrome|android).)*safari/i.test(getUAString$1())}function getBoundingClientRect$1(ts,rs,ns){rs===void 0&&(rs=!1),ns===void 0&&(ns=!1);var os=ts.getBoundingClientRect(),ss=1,as=1;rs&&isHTMLElement$3(ts)&&(ss=ts.offsetWidth>0&&round$2(os.width)/ts.offsetWidth||1,as=ts.offsetHeight>0&&round$2(os.height)/ts.offsetHeight||1);var ls=isElement$1(ts)?getWindow$1(ts):window,cs=ls.visualViewport,us=!isLayoutViewport$1()&&ns,ds=(os.left+(us&&cs?cs.offsetLeft:0))/ss,ps=(os.top+(us&&cs?cs.offsetTop:0))/as,fs=os.width/ss,hs=os.height/as;return{width:fs,height:hs,top:ps,right:ds+fs,bottom:ps+hs,left:ds,x:ds,y:ps}}function getLayoutRect$1(ts){var rs=getBoundingClientRect$1(ts),ns=ts.offsetWidth,os=ts.offsetHeight;return Math.abs(rs.width-ns)<=1&&(ns=rs.width),Math.abs(rs.height-os)<=1&&(os=rs.height),{x:ts.offsetLeft,y:ts.offsetTop,width:ns,height:os}}function contains$1(ts,rs){var ns=rs.getRootNode&&rs.getRootNode();if(ts.contains(rs))return!0;if(ns&&isShadowRoot$1(ns)){var os=rs;do{if(os&&ts.isSameNode(os))return!0;os=os.parentNode||os.host}while(os)}return!1}function getComputedStyle$1(ts){return getWindow$1(ts).getComputedStyle(ts)}function isTableElement$1(ts){return["table","td","th"].indexOf(getNodeName$1(ts))>=0}function getDocumentElement$1(ts){return((isElement$1(ts)?ts.ownerDocument:ts.document)||window.document).documentElement}function getParentNode$1(ts){return getNodeName$1(ts)==="html"?ts:ts.assignedSlot||ts.parentNode||(isShadowRoot$1(ts)?ts.host:null)||getDocumentElement$1(ts)}function getTrueOffsetParent$1(ts){return!isHTMLElement$3(ts)||getComputedStyle$1(ts).position==="fixed"?null:ts.offsetParent}function getContainingBlock$1(ts){var rs=/firefox/i.test(getUAString$1()),ns=/Trident/i.test(getUAString$1());if(ns&&isHTMLElement$3(ts)){var os=getComputedStyle$1(ts);if(os.position==="fixed")return null}var ss=getParentNode$1(ts);for(isShadowRoot$1(ss)&&(ss=ss.host);isHTMLElement$3(ss)&&["html","body"].indexOf(getNodeName$1(ss))<0;){var as=getComputedStyle$1(ss);if(as.transform!=="none"||as.perspective!=="none"||as.contain==="paint"||["transform","perspective"].indexOf(as.willChange)!==-1||rs&&as.willChange==="filter"||rs&&as.filter&&as.filter!=="none")return ss;ss=ss.parentNode}return null}function getOffsetParent$1(ts){for(var rs=getWindow$1(ts),ns=getTrueOffsetParent$1(ts);ns&&isTableElement$1(ns)&&getComputedStyle$1(ns).position==="static";)ns=getTrueOffsetParent$1(ns);return ns&&(getNodeName$1(ns)==="html"||getNodeName$1(ns)==="body"&&getComputedStyle$1(ns).position==="static")?rs:ns||getContainingBlock$1(ts)||rs}function getMainAxisFromPlacement$1(ts){return["top","bottom"].indexOf(ts)>=0?"x":"y"}function within$1(ts,rs,ns){return max$1(ts,min$1(rs,ns))}function withinMaxClamp$1(ts,rs,ns){var os=within$1(ts,rs,ns);return os>ns?ns:os}function getFreshSideObject$1(){return{top:0,right:0,bottom:0,left:0}}function mergePaddingObject$1(ts){return Object.assign({},getFreshSideObject$1(),ts)}function expandToHashMap$1(ts,rs){return rs.reduce(function(ns,os){return ns[os]=ts,ns},{})}var toPaddingObject$1=function(rs,ns){return rs=typeof rs=="function"?rs(Object.assign({},ns.rects,{placement:ns.placement})):rs,mergePaddingObject$1(typeof rs!="number"?rs:expandToHashMap$1(rs,basePlacements$1))};function arrow$2(ts){var rs,ns=ts.state,os=ts.name,ss=ts.options,as=ns.elements.arrow,ls=ns.modifiersData.popperOffsets,cs=getBasePlacement$1(ns.placement),us=getMainAxisFromPlacement$1(cs),ds=[left$1,right$1].indexOf(cs)>=0,ps=ds?"height":"width";if(!(!as||!ls)){var fs=toPaddingObject$1(ss.padding,ns),hs=getLayoutRect$1(as),ms=us==="y"?top$2:left$1,gs=us==="y"?bottom$1:right$1,vs=ns.rects.reference[ps]+ns.rects.reference[us]-ls[us]-ns.rects.popper[ps],bs=ls[us]-ns.rects.reference[us],xs=getOffsetParent$1(as),ys=xs?us==="y"?xs.clientHeight||0:xs.clientWidth||0:0,Ss=vs/2-bs/2,Cs=fs[ms],$s=ys-hs[ps]-fs[gs],Es=ys/2-hs[ps]/2+Ss,ws=within$1(Cs,Es,$s),Ts=us;ns.modifiersData[os]=(rs={},rs[Ts]=ws,rs.centerOffset=ws-Es,rs)}}function effect$4(ts){var rs=ts.state,ns=ts.options,os=ns.element,ss=os===void 0?"[data-popper-arrow]":os;ss!=null&&(typeof ss=="string"&&(ss=rs.elements.popper.querySelector(ss),!ss)||contains$1(rs.elements.popper,ss)&&(rs.elements.arrow=ss))}const arrow$3={name:"arrow",enabled:!0,phase:"main",fn:arrow$2,effect:effect$4,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function getVariation$1(ts){return ts.split("-")[1]}var unsetSides$1={top:"auto",right:"auto",bottom:"auto",left:"auto"};function roundOffsetsByDPR$1(ts,rs){var ns=ts.x,os=ts.y,ss=rs.devicePixelRatio||1;return{x:round$2(ns*ss)/ss||0,y:round$2(os*ss)/ss||0}}function mapToStyles$1(ts){var rs,ns=ts.popper,os=ts.popperRect,ss=ts.placement,as=ts.variation,ls=ts.offsets,cs=ts.position,us=ts.gpuAcceleration,ds=ts.adaptive,ps=ts.roundOffsets,fs=ts.isFixed,hs=ls.x,ms=hs===void 0?0:hs,gs=ls.y,vs=gs===void 0?0:gs,bs=typeof ps=="function"?ps({x:ms,y:vs}):{x:ms,y:vs};ms=bs.x,vs=bs.y;var xs=ls.hasOwnProperty("x"),ys=ls.hasOwnProperty("y"),Ss=left$1,Cs=top$2,$s=window;if(ds){var Es=getOffsetParent$1(ns),ws="clientHeight",Ts="clientWidth";if(Es===getWindow$1(ns)&&(Es=getDocumentElement$1(ns),getComputedStyle$1(Es).position!=="static"&&cs==="absolute"&&(ws="scrollHeight",Ts="scrollWidth")),Es=Es,ss===top$2||(ss===left$1||ss===right$1)&&as===end$1){Cs=bottom$1;var Is=fs&&Es===$s&&$s.visualViewport?$s.visualViewport.height:Es[ws];vs-=Is-os.height,vs*=us?1:-1}if(ss===left$1||(ss===top$2||ss===bottom$1)&&as===end$1){Ss=right$1;var Rs=fs&&Es===$s&&$s.visualViewport?$s.visualViewport.width:Es[Ts];ms-=Rs-os.width,ms*=us?1:-1}}var As=Object.assign({position:cs},ds&&unsetSides$1),ks=ps===!0?roundOffsetsByDPR$1({x:ms,y:vs},getWindow$1(ns)):{x:ms,y:vs};if(ms=ks.x,vs=ks.y,us){var Ms;return Object.assign({},As,(Ms={},Ms[Cs]=ys?"0":"",Ms[Ss]=xs?"0":"",Ms.transform=($s.devicePixelRatio||1)<=1?"translate("+ms+"px, "+vs+"px)":"translate3d("+ms+"px, "+vs+"px, 0)",Ms))}return Object.assign({},As,(rs={},rs[Cs]=ys?vs+"px":"",rs[Ss]=xs?ms+"px":"",rs.transform="",rs))}function computeStyles$2(ts){var rs=ts.state,ns=ts.options,os=ns.gpuAcceleration,ss=os===void 0?!0:os,as=ns.adaptive,ls=as===void 0?!0:as,cs=ns.roundOffsets,us=cs===void 0?!0:cs,ds={placement:getBasePlacement$1(rs.placement),variation:getVariation$1(rs.placement),popper:rs.elements.popper,popperRect:rs.rects.popper,gpuAcceleration:ss,isFixed:rs.options.strategy==="fixed"};rs.modifiersData.popperOffsets!=null&&(rs.styles.popper=Object.assign({},rs.styles.popper,mapToStyles$1(Object.assign({},ds,{offsets:rs.modifiersData.popperOffsets,position:rs.options.strategy,adaptive:ls,roundOffsets:us})))),rs.modifiersData.arrow!=null&&(rs.styles.arrow=Object.assign({},rs.styles.arrow,mapToStyles$1(Object.assign({},ds,{offsets:rs.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:us})))),rs.attributes.popper=Object.assign({},rs.attributes.popper,{"data-popper-placement":rs.placement})}const computeStyles$3={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:computeStyles$2,data:{}};var passive$1={passive:!0};function effect$3(ts){var rs=ts.state,ns=ts.instance,os=ts.options,ss=os.scroll,as=ss===void 0?!0:ss,ls=os.resize,cs=ls===void 0?!0:ls,us=getWindow$1(rs.elements.popper),ds=[].concat(rs.scrollParents.reference,rs.scrollParents.popper);return as&&ds.forEach(function(ps){ps.addEventListener("scroll",ns.update,passive$1)}),cs&&us.addEventListener("resize",ns.update,passive$1),function(){as&&ds.forEach(function(ps){ps.removeEventListener("scroll",ns.update,passive$1)}),cs&&us.removeEventListener("resize",ns.update,passive$1)}}const eventListeners$1={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:effect$3,data:{}};var hash$3={left:"right",right:"left",bottom:"top",top:"bottom"};function getOppositePlacement$1(ts){return ts.replace(/left|right|bottom|top/g,function(rs){return hash$3[rs]})}var hash$2={start:"end",end:"start"};function getOppositeVariationPlacement$1(ts){return ts.replace(/start|end/g,function(rs){return hash$2[rs]})}function getWindowScroll$1(ts){var rs=getWindow$1(ts),ns=rs.pageXOffset,os=rs.pageYOffset;return{scrollLeft:ns,scrollTop:os}}function getWindowScrollBarX$1(ts){return getBoundingClientRect$1(getDocumentElement$1(ts)).left+getWindowScroll$1(ts).scrollLeft}function getViewportRect$1(ts,rs){var ns=getWindow$1(ts),os=getDocumentElement$1(ts),ss=ns.visualViewport,as=os.clientWidth,ls=os.clientHeight,cs=0,us=0;if(ss){as=ss.width,ls=ss.height;var ds=isLayoutViewport$1();(ds||!ds&&rs==="fixed")&&(cs=ss.offsetLeft,us=ss.offsetTop)}return{width:as,height:ls,x:cs+getWindowScrollBarX$1(ts),y:us}}function getDocumentRect$1(ts){var rs,ns=getDocumentElement$1(ts),os=getWindowScroll$1(ts),ss=(rs=ts.ownerDocument)==null?void 0:rs.body,as=max$1(ns.scrollWidth,ns.clientWidth,ss?ss.scrollWidth:0,ss?ss.clientWidth:0),ls=max$1(ns.scrollHeight,ns.clientHeight,ss?ss.scrollHeight:0,ss?ss.clientHeight:0),cs=-os.scrollLeft+getWindowScrollBarX$1(ts),us=-os.scrollTop;return getComputedStyle$1(ss||ns).direction==="rtl"&&(cs+=max$1(ns.clientWidth,ss?ss.clientWidth:0)-as),{width:as,height:ls,x:cs,y:us}}function isScrollParent$1(ts){var rs=getComputedStyle$1(ts),ns=rs.overflow,os=rs.overflowX,ss=rs.overflowY;return/auto|scroll|overlay|hidden/.test(ns+ss+os)}function getScrollParent$1(ts){return["html","body","#document"].indexOf(getNodeName$1(ts))>=0?ts.ownerDocument.body:isHTMLElement$3(ts)&&isScrollParent$1(ts)?ts:getScrollParent$1(getParentNode$1(ts))}function listScrollParents$1(ts,rs){var ns;rs===void 0&&(rs=[]);var os=getScrollParent$1(ts),ss=os===((ns=ts.ownerDocument)==null?void 0:ns.body),as=getWindow$1(os),ls=ss?[as].concat(as.visualViewport||[],isScrollParent$1(os)?os:[]):os,cs=rs.concat(ls);return ss?cs:cs.concat(listScrollParents$1(getParentNode$1(ls)))}function rectToClientRect$1(ts){return Object.assign({},ts,{left:ts.x,top:ts.y,right:ts.x+ts.width,bottom:ts.y+ts.height})}function getInnerBoundingClientRect$1(ts,rs){var ns=getBoundingClientRect$1(ts,!1,rs==="fixed");return ns.top=ns.top+ts.clientTop,ns.left=ns.left+ts.clientLeft,ns.bottom=ns.top+ts.clientHeight,ns.right=ns.left+ts.clientWidth,ns.width=ts.clientWidth,ns.height=ts.clientHeight,ns.x=ns.left,ns.y=ns.top,ns}function getClientRectFromMixedType$1(ts,rs,ns){return rs===viewport$1?rectToClientRect$1(getViewportRect$1(ts,ns)):isElement$1(rs)?getInnerBoundingClientRect$1(rs,ns):rectToClientRect$1(getDocumentRect$1(getDocumentElement$1(ts)))}function getClippingParents$1(ts){var rs=listScrollParents$1(getParentNode$1(ts)),ns=["absolute","fixed"].indexOf(getComputedStyle$1(ts).position)>=0,os=ns&&isHTMLElement$3(ts)?getOffsetParent$1(ts):ts;return isElement$1(os)?rs.filter(function(ss){return isElement$1(ss)&&contains$1(ss,os)&&getNodeName$1(ss)!=="body"}):[]}function getClippingRect$1(ts,rs,ns,os){var ss=rs==="clippingParents"?getClippingParents$1(ts):[].concat(rs),as=[].concat(ss,[ns]),ls=as[0],cs=as.reduce(function(us,ds){var ps=getClientRectFromMixedType$1(ts,ds,os);return us.top=max$1(ps.top,us.top),us.right=min$1(ps.right,us.right),us.bottom=min$1(ps.bottom,us.bottom),us.left=max$1(ps.left,us.left),us},getClientRectFromMixedType$1(ts,ls,os));return cs.width=cs.right-cs.left,cs.height=cs.bottom-cs.top,cs.x=cs.left,cs.y=cs.top,cs}function computeOffsets$1(ts){var rs=ts.reference,ns=ts.element,os=ts.placement,ss=os?getBasePlacement$1(os):null,as=os?getVariation$1(os):null,ls=rs.x+rs.width/2-ns.width/2,cs=rs.y+rs.height/2-ns.height/2,us;switch(ss){case top$2:us={x:ls,y:rs.y-ns.height};break;case bottom$1:us={x:ls,y:rs.y+rs.height};break;case right$1:us={x:rs.x+rs.width,y:cs};break;case left$1:us={x:rs.x-ns.width,y:cs};break;default:us={x:rs.x,y:rs.y}}var ds=ss?getMainAxisFromPlacement$1(ss):null;if(ds!=null){var ps=ds==="y"?"height":"width";switch(as){case start$1:us[ds]=us[ds]-(rs[ps]/2-ns[ps]/2);break;case end$1:us[ds]=us[ds]+(rs[ps]/2-ns[ps]/2);break}}return us}function detectOverflow$1(ts,rs){rs===void 0&&(rs={});var ns=rs,os=ns.placement,ss=os===void 0?ts.placement:os,as=ns.strategy,ls=as===void 0?ts.strategy:as,cs=ns.boundary,us=cs===void 0?clippingParents$1:cs,ds=ns.rootBoundary,ps=ds===void 0?viewport$1:ds,fs=ns.elementContext,hs=fs===void 0?popper$1:fs,ms=ns.altBoundary,gs=ms===void 0?!1:ms,vs=ns.padding,bs=vs===void 0?0:vs,xs=mergePaddingObject$1(typeof bs!="number"?bs:expandToHashMap$1(bs,basePlacements$1)),ys=hs===popper$1?reference$1:popper$1,Ss=ts.rects.popper,Cs=ts.elements[gs?ys:hs],$s=getClippingRect$1(isElement$1(Cs)?Cs:Cs.contextElement||getDocumentElement$1(ts.elements.popper),us,ps,ls),Es=getBoundingClientRect$1(ts.elements.reference),ws=computeOffsets$1({reference:Es,element:Ss,strategy:"absolute",placement:ss}),Ts=rectToClientRect$1(Object.assign({},Ss,ws)),Is=hs===popper$1?Ts:Es,Rs={top:$s.top-Is.top+xs.top,bottom:Is.bottom-$s.bottom+xs.bottom,left:$s.left-Is.left+xs.left,right:Is.right-$s.right+xs.right},As=ts.modifiersData.offset;if(hs===popper$1&&As){var ks=As[ss];Object.keys(Rs).forEach(function(Ms){var Os=[right$1,bottom$1].indexOf(Ms)>=0?1:-1,Ds=[top$2,bottom$1].indexOf(Ms)>=0?"y":"x";Rs[Ms]+=ks[Ds]*Os})}return Rs}function computeAutoPlacement$1(ts,rs){rs===void 0&&(rs={});var ns=rs,os=ns.placement,ss=ns.boundary,as=ns.rootBoundary,ls=ns.padding,cs=ns.flipVariations,us=ns.allowedAutoPlacements,ds=us===void 0?placements$1:us,ps=getVariation$1(os),fs=ps?cs?variationPlacements$1:variationPlacements$1.filter(function(gs){return getVariation$1(gs)===ps}):basePlacements$1,hs=fs.filter(function(gs){return ds.indexOf(gs)>=0});hs.length===0&&(hs=fs);var ms=hs.reduce(function(gs,vs){return gs[vs]=detectOverflow$1(ts,{placement:vs,boundary:ss,rootBoundary:as,padding:ls})[getBasePlacement$1(vs)],gs},{});return Object.keys(ms).sort(function(gs,vs){return ms[gs]-ms[vs]})}function getExpandedFallbackPlacements$1(ts){if(getBasePlacement$1(ts)===auto$1)return[];var rs=getOppositePlacement$1(ts);return[getOppositeVariationPlacement$1(ts),rs,getOppositeVariationPlacement$1(rs)]}function flip$2(ts){var rs=ts.state,ns=ts.options,os=ts.name;if(!rs.modifiersData[os]._skip){for(var ss=ns.mainAxis,as=ss===void 0?!0:ss,ls=ns.altAxis,cs=ls===void 0?!0:ls,us=ns.fallbackPlacements,ds=ns.padding,ps=ns.boundary,fs=ns.rootBoundary,hs=ns.altBoundary,ms=ns.flipVariations,gs=ms===void 0?!0:ms,vs=ns.allowedAutoPlacements,bs=rs.options.placement,xs=getBasePlacement$1(bs),ys=xs===bs,Ss=us||(ys||!gs?[getOppositePlacement$1(bs)]:getExpandedFallbackPlacements$1(bs)),Cs=[bs].concat(Ss).reduce(function(zs,qs){return zs.concat(getBasePlacement$1(qs)===auto$1?computeAutoPlacement$1(rs,{placement:qs,boundary:ps,rootBoundary:fs,padding:ds,flipVariations:gs,allowedAutoPlacements:vs}):qs)},[]),$s=rs.rects.reference,Es=rs.rects.popper,ws=new Map,Ts=!0,Is=Cs[0],Rs=0;Rs<Cs.length;Rs++){var As=Cs[Rs],ks=getBasePlacement$1(As),Ms=getVariation$1(As)===start$1,Os=[top$2,bottom$1].indexOf(ks)>=0,Ds=Os?"width":"height",Fs=detectOverflow$1(rs,{placement:As,boundary:ps,rootBoundary:fs,altBoundary:hs,padding:ds}),js=Os?Ms?right$1:left$1:Ms?bottom$1:top$2;$s[Ds]>Es[Ds]&&(js=getOppositePlacement$1(js));var Ps=getOppositePlacement$1(js),Ls=[];if(as&&Ls.push(Fs[ks]<=0),cs&&Ls.push(Fs[js]<=0,Fs[Ps]<=0),Ls.every(function(zs){return zs})){Is=As,Ts=!1;break}ws.set(As,Ls)}if(Ts)for(var Ns=gs?3:1,Gs=function(qs){var Vs=Cs.find(function(Ks){var Ws=ws.get(Ks);if(Ws)return Ws.slice(0,qs).every(function(Pl){return Pl})});if(Vs)return Is=Vs,"break"},Us=Ns;Us>0;Us--){var Hs=Gs(Us);if(Hs==="break")break}rs.placement!==Is&&(rs.modifiersData[os]._skip=!0,rs.placement=Is,rs.reset=!0)}}const flip$3={name:"flip",enabled:!0,phase:"main",fn:flip$2,requiresIfExists:["offset"],data:{_skip:!1}};function getSideOffsets$1(ts,rs,ns){return ns===void 0&&(ns={x:0,y:0}),{top:ts.top-rs.height-ns.y,right:ts.right-rs.width+ns.x,bottom:ts.bottom-rs.height+ns.y,left:ts.left-rs.width-ns.x}}function isAnySideFullyClipped$1(ts){return[top$2,right$1,bottom$1,left$1].some(function(rs){return ts[rs]>=0})}function hide$2(ts){var rs=ts.state,ns=ts.name,os=rs.rects.reference,ss=rs.rects.popper,as=rs.modifiersData.preventOverflow,ls=detectOverflow$1(rs,{elementContext:"reference"}),cs=detectOverflow$1(rs,{altBoundary:!0}),us=getSideOffsets$1(ls,os),ds=getSideOffsets$1(cs,ss,as),ps=isAnySideFullyClipped$1(us),fs=isAnySideFullyClipped$1(ds);rs.modifiersData[ns]={referenceClippingOffsets:us,popperEscapeOffsets:ds,isReferenceHidden:ps,hasPopperEscaped:fs},rs.attributes.popper=Object.assign({},rs.attributes.popper,{"data-popper-reference-hidden":ps,"data-popper-escaped":fs})}const hide$3={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:hide$2};function distanceAndSkiddingToXY$1(ts,rs,ns){var os=getBasePlacement$1(ts),ss=[left$1,top$2].indexOf(os)>=0?-1:1,as=typeof ns=="function"?ns(Object.assign({},rs,{placement:ts})):ns,ls=as[0],cs=as[1];return ls=ls||0,cs=(cs||0)*ss,[left$1,right$1].indexOf(os)>=0?{x:cs,y:ls}:{x:ls,y:cs}}function offset$3(ts){var rs=ts.state,ns=ts.options,os=ts.name,ss=ns.offset,as=ss===void 0?[0,0]:ss,ls=placements$1.reduce(function(ps,fs){return ps[fs]=distanceAndSkiddingToXY$1(fs,rs.rects,as),ps},{}),cs=ls[rs.placement],us=cs.x,ds=cs.y;rs.modifiersData.popperOffsets!=null&&(rs.modifiersData.popperOffsets.x+=us,rs.modifiersData.popperOffsets.y+=ds),rs.modifiersData[os]=ls}const offset$4={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:offset$3};function popperOffsets$2(ts){var rs=ts.state,ns=ts.name;rs.modifiersData[ns]=computeOffsets$1({reference:rs.rects.reference,element:rs.rects.popper,strategy:"absolute",placement:rs.placement})}const popperOffsets$3={name:"popperOffsets",enabled:!0,phase:"read",fn:popperOffsets$2,data:{}};function getAltAxis$1(ts){return ts==="x"?"y":"x"}function preventOverflow$2(ts){var rs=ts.state,ns=ts.options,os=ts.name,ss=ns.mainAxis,as=ss===void 0?!0:ss,ls=ns.altAxis,cs=ls===void 0?!1:ls,us=ns.boundary,ds=ns.rootBoundary,ps=ns.altBoundary,fs=ns.padding,hs=ns.tether,ms=hs===void 0?!0:hs,gs=ns.tetherOffset,vs=gs===void 0?0:gs,bs=detectOverflow$1(rs,{boundary:us,rootBoundary:ds,padding:fs,altBoundary:ps}),xs=getBasePlacement$1(rs.placement),ys=getVariation$1(rs.placement),Ss=!ys,Cs=getMainAxisFromPlacement$1(xs),$s=getAltAxis$1(Cs),Es=rs.modifiersData.popperOffsets,ws=rs.rects.reference,Ts=rs.rects.popper,Is=typeof vs=="function"?vs(Object.assign({},rs.rects,{placement:rs.placement})):vs,Rs=typeof Is=="number"?{mainAxis:Is,altAxis:Is}:Object.assign({mainAxis:0,altAxis:0},Is),As=rs.modifiersData.offset?rs.modifiersData.offset[rs.placement]:null,ks={x:0,y:0};if(Es){if(as){var Ms,Os=Cs==="y"?top$2:left$1,Ds=Cs==="y"?bottom$1:right$1,Fs=Cs==="y"?"height":"width",js=Es[Cs],Ps=js+bs[Os],Ls=js-bs[Ds],Ns=ms?-Ts[Fs]/2:0,Gs=ys===start$1?ws[Fs]:Ts[Fs],Us=ys===start$1?-Ts[Fs]:-ws[Fs],Hs=rs.elements.arrow,zs=ms&&Hs?getLayoutRect$1(Hs):{width:0,height:0},qs=rs.modifiersData["arrow#persistent"]?rs.modifiersData["arrow#persistent"].padding:getFreshSideObject$1(),Vs=qs[Os],Ks=qs[Ds],Ws=within$1(0,ws[Fs],zs[Fs]),Pl=Ss?ws[Fs]/2-Ns-Ws-Vs-Rs.mainAxis:Gs-Ws-Vs-Rs.mainAxis,Tl=Ss?-ws[Fs]/2+Ns+Ws+Ks+Rs.mainAxis:Us+Ws+Ks+Rs.mainAxis,El=rs.elements.arrow&&getOffsetParent$1(rs.elements.arrow),$l=El?Cs==="y"?El.clientTop||0:El.clientLeft||0:0,Sl=(Ms=As==null?void 0:As[Cs])!=null?Ms:0,Ml=js+Pl-Sl-$l,wl=js+Tl-Sl,Rl=within$1(ms?min$1(Ps,Ml):Ps,js,ms?max$1(Ls,wl):Ls);Es[Cs]=Rl,ks[Cs]=Rl-js}if(cs){var yl,Bs=Cs==="x"?top$2:left$1,Zs=Cs==="x"?bottom$1:right$1,Ys=Es[$s],_l=$s==="y"?"height":"width",Cl=Ys+bs[Bs],Xs=Ys-bs[Zs],xl=[top$2,left$1].indexOf(xs)!==-1,$a=(yl=As==null?void 0:As[$s])!=null?yl:0,Dl=xl?Cl:Ys-ws[_l]-Ts[_l]-$a+Rs.altAxis,Ol=xl?Ys+ws[_l]+Ts[_l]-$a-Rs.altAxis:Xs,Ll=ms&&xl?withinMaxClamp$1(Dl,Ys,Ol):within$1(ms?Dl:Cl,Ys,ms?Ol:Xs);Es[$s]=Ll,ks[$s]=Ll-Ys}rs.modifiersData[os]=ks}}const preventOverflow$3={name:"preventOverflow",enabled:!0,phase:"main",fn:preventOverflow$2,requiresIfExists:["offset"]};function getHTMLElementScroll$1(ts){return{scrollLeft:ts.scrollLeft,scrollTop:ts.scrollTop}}function getNodeScroll$1(ts){return ts===getWindow$1(ts)||!isHTMLElement$3(ts)?getWindowScroll$1(ts):getHTMLElementScroll$1(ts)}function isElementScaled$1(ts){var rs=ts.getBoundingClientRect(),ns=round$2(rs.width)/ts.offsetWidth||1,os=round$2(rs.height)/ts.offsetHeight||1;return ns!==1||os!==1}function getCompositeRect$1(ts,rs,ns){ns===void 0&&(ns=!1);var os=isHTMLElement$3(rs),ss=isHTMLElement$3(rs)&&isElementScaled$1(rs),as=getDocumentElement$1(rs),ls=getBoundingClientRect$1(ts,ss,ns),cs={scrollLeft:0,scrollTop:0},us={x:0,y:0};return(os||!os&&!ns)&&((getNodeName$1(rs)!=="body"||isScrollParent$1(as))&&(cs=getNodeScroll$1(rs)),isHTMLElement$3(rs)?(us=getBoundingClientRect$1(rs,!0),us.x+=rs.clientLeft,us.y+=rs.clientTop):as&&(us.x=getWindowScrollBarX$1(as))),{x:ls.left+cs.scrollLeft-us.x,y:ls.top+cs.scrollTop-us.y,width:ls.width,height:ls.height}}function order$1(ts){var rs=new Map,ns=new Set,os=[];ts.forEach(function(as){rs.set(as.name,as)});function ss(as){ns.add(as.name);var ls=[].concat(as.requires||[],as.requiresIfExists||[]);ls.forEach(function(cs){if(!ns.has(cs)){var us=rs.get(cs);us&&ss(us)}}),os.push(as)}return ts.forEach(function(as){ns.has(as.name)||ss(as)}),os}function orderModifiers$1(ts){var rs=order$1(ts);return modifierPhases$1.reduce(function(ns,os){return ns.concat(rs.filter(function(ss){return ss.phase===os}))},[])}function debounce$1(ts){var rs;return function(){return rs||(rs=new Promise(function(ns){Promise.resolve().then(function(){rs=void 0,ns(ts())})})),rs}}function mergeByName$1(ts){var rs=ts.reduce(function(ns,os){var ss=ns[os.name];return ns[os.name]=ss?Object.assign({},ss,os,{options:Object.assign({},ss.options,os.options),data:Object.assign({},ss.data,os.data)}):os,ns},{});return Object.keys(rs).map(function(ns){return rs[ns]})}var DEFAULT_OPTIONS$1={placement:"bottom",modifiers:[],strategy:"absolute"};function areValidElements$1(){for(var ts=arguments.length,rs=new Array(ts),ns=0;ns<ts;ns++)rs[ns]=arguments[ns];return!rs.some(function(os){return!(os&&typeof os.getBoundingClientRect=="function")})}function popperGenerator$1(ts){ts===void 0&&(ts={});var rs=ts,ns=rs.defaultModifiers,os=ns===void 0?[]:ns,ss=rs.defaultOptions,as=ss===void 0?DEFAULT_OPTIONS$1:ss;return function(cs,us,ds){ds===void 0&&(ds=as);var ps={placement:"bottom",orderedModifiers:[],options:Object.assign({},DEFAULT_OPTIONS$1,as),modifiersData:{},elements:{reference:cs,popper:us},attributes:{},styles:{}},fs=[],hs=!1,ms={state:ps,setOptions:function(xs){var ys=typeof xs=="function"?xs(ps.options):xs;vs(),ps.options=Object.assign({},as,ps.options,ys),ps.scrollParents={reference:isElement$1(cs)?listScrollParents$1(cs):cs.contextElement?listScrollParents$1(cs.contextElement):[],popper:listScrollParents$1(us)};var Ss=orderModifiers$1(mergeByName$1([].concat(os,ps.options.modifiers)));return ps.orderedModifiers=Ss.filter(function(Cs){return Cs.enabled}),gs(),ms.update()},forceUpdate:function(){if(!hs){var xs=ps.elements,ys=xs.reference,Ss=xs.popper;if(areValidElements$1(ys,Ss)){ps.rects={reference:getCompositeRect$1(ys,getOffsetParent$1(Ss),ps.options.strategy==="fixed"),popper:getLayoutRect$1(Ss)},ps.reset=!1,ps.placement=ps.options.placement,ps.orderedModifiers.forEach(function(Rs){return ps.modifiersData[Rs.name]=Object.assign({},Rs.data)});for(var Cs=0;Cs<ps.orderedModifiers.length;Cs++){if(ps.reset===!0){ps.reset=!1,Cs=-1;continue}var $s=ps.orderedModifiers[Cs],Es=$s.fn,ws=$s.options,Ts=ws===void 0?{}:ws,Is=$s.name;typeof Es=="function"&&(ps=Es({state:ps,options:Ts,name:Is,instance:ms})||ps)}}}},update:debounce$1(function(){return new Promise(function(bs){ms.forceUpdate(),bs(ps)})}),destroy:function(){vs(),hs=!0}};if(!areValidElements$1(cs,us))return ms;ms.setOptions(ds).then(function(bs){!hs&&ds.onFirstUpdate&&ds.onFirstUpdate(bs)});function gs(){ps.orderedModifiers.forEach(function(bs){var xs=bs.name,ys=bs.options,Ss=ys===void 0?{}:ys,Cs=bs.effect;if(typeof Cs=="function"){var $s=Cs({state:ps,name:xs,instance:ms,options:Ss}),Es=function(){};fs.push($s||Es)}})}function vs(){fs.forEach(function(bs){return bs()}),fs=[]}return ms}}var defaultModifiers$1=[eventListeners$1,popperOffsets$3,computeStyles$3,applyStyles$3,offset$4,flip$3,preventOverflow$3,arrow$3,hide$3],createPopper$1=popperGenerator$1({defaultModifiers:defaultModifiers$1});function getContainer$1(ts){return typeof ts=="function"?ts():ts}const Portal=reactExports.forwardRef(function(rs,ns){const{children:os,container:ss,disablePortal:as=!1}=rs,[ls,cs]=reactExports.useState(null),us=useForkRef(reactExports.isValidElement(os)?os.ref:null,ns);if(useEnhancedEffect$1(()=>{as||cs(getContainer$1(ss)||document.body)},[ss,as]),useEnhancedEffect$1(()=>{if(ls&&!as)return setRef$1(ns,ls),()=>{setRef$1(ns,null)}},[ns,ls,as]),as){if(reactExports.isValidElement(os)){const ds={ref:us};return reactExports.cloneElement(os,ds)}return jsxRuntimeExports.jsx(reactExports.Fragment,{children:os})}return jsxRuntimeExports.jsx(reactExports.Fragment,{children:ls&&reactDomExports.createPortal(os,ls)})}),Portal$1=Portal;function getPopperUtilityClass(ts){return generateUtilityClass("MuiPopper",ts)}generateUtilityClasses("MuiPopper",["root"]);const _excluded$2x=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],_excluded2$e=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function flipPlacement(ts,rs){if(rs==="ltr")return ts;switch(ts){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return ts}}function resolveAnchorEl$1(ts){return typeof ts=="function"?ts():ts}function isHTMLElement$2(ts){return ts.nodeType!==void 0}const useUtilityClasses$2c=ts=>{const{classes:rs}=ts;return composeClasses({root:["root"]},getPopperUtilityClass,rs)},defaultPopperOptions={},PopperTooltip=reactExports.forwardRef(function(rs,ns){var os;const{anchorEl:ss,children:as,direction:ls,disablePortal:cs,modifiers:us,open:ds,placement:ps,popperOptions:fs,popperRef:hs,slotProps:ms={},slots:gs={},TransitionProps:vs}=rs,bs=_objectWithoutPropertiesLoose$1(rs,_excluded$2x),xs=reactExports.useRef(null),ys=useForkRef(xs,ns),Ss=reactExports.useRef(null),Cs=useForkRef(Ss,hs),$s=reactExports.useRef(Cs);useEnhancedEffect$1(()=>{$s.current=Cs},[Cs]),reactExports.useImperativeHandle(hs,()=>Ss.current,[]);const Es=flipPlacement(ps,ls),[ws,Ts]=reactExports.useState(Es),[Is,Rs]=reactExports.useState(resolveAnchorEl$1(ss));reactExports.useEffect(()=>{Ss.current&&Ss.current.forceUpdate()}),reactExports.useEffect(()=>{ss&&Rs(resolveAnchorEl$1(ss))},[ss]),useEnhancedEffect$1(()=>{if(!Is||!ds)return;const Ds=Ps=>{Ts(Ps.placement)};let Fs=[{name:"preventOverflow",options:{altBoundary:cs}},{name:"flip",options:{altBoundary:cs}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:Ps})=>{Ds(Ps)}}];us!=null&&(Fs=Fs.concat(us)),fs&&fs.modifiers!=null&&(Fs=Fs.concat(fs.modifiers));const js=createPopper$1(Is,xs.current,_extends$5({placement:Es},fs,{modifiers:Fs}));return $s.current(js),()=>{js.destroy(),$s.current(null)}},[Is,cs,us,ds,fs,Es]);const As={placement:ws};vs!==null&&(As.TransitionProps=vs);const ks=useUtilityClasses$2c(rs),Ms=(os=gs.root)!=null?os:"div",Os=useSlotProps({elementType:Ms,externalSlotProps:ms.root,externalForwardedProps:bs,additionalProps:{role:"tooltip",ref:ys},ownerState:rs,className:ks.root});return jsxRuntimeExports.jsx(Ms,_extends$5({},Os,{children:typeof as=="function"?as(As):as}))}),Popper$3=reactExports.forwardRef(function(rs,ns){const{anchorEl:os,children:ss,container:as,direction:ls="ltr",disablePortal:cs=!1,keepMounted:us=!1,modifiers:ds,open:ps,placement:fs="bottom",popperOptions:hs=defaultPopperOptions,popperRef:ms,style:gs,transition:vs=!1,slotProps:bs={},slots:xs={}}=rs,ys=_objectWithoutPropertiesLoose$1(rs,_excluded2$e),[Ss,Cs]=reactExports.useState(!0),$s=()=>{Cs(!1)},Es=()=>{Cs(!0)};if(!us&&!ps&&(!vs||Ss))return null;let ws;if(as)ws=as;else if(os){const Rs=resolveAnchorEl$1(os);ws=Rs&&isHTMLElement$2(Rs)?ownerDocument(Rs).body:ownerDocument(null).body}const Ts=!ps&&us&&(!vs||Ss)?"none":void 0,Is=vs?{in:ps,onEnter:$s,onExited:Es}:void 0;return jsxRuntimeExports.jsx(Portal$1,{disablePortal:cs,container:ws,children:jsxRuntimeExports.jsx(PopperTooltip,_extends$5({anchorEl:os,direction:ls,disablePortal:cs,modifiers:ds,ref:ns,open:vs?!Ss:ps,placement:fs,popperOptions:hs,popperRef:ms,slotProps:bs,slots:xs},ys,{style:_extends$5({position:"fixed",top:0,left:0,display:Ts},gs),TransitionProps:Is,children:ss}))})}),BasePopper=Popper$3;function getUnit(ts){return String(ts).match(/[\d.\-+]*\s*(.*)/)[1]||""}function toUnitless(ts){return parseFloat(ts)}const _excluded$2w=["theme"];function ThemeProvider(ts){let{theme:rs}=ts,ns=_objectWithoutPropertiesLoose$1(ts,_excluded$2w);const os=rs[THEME_ID];return jsxRuntimeExports.jsx(ThemeProvider$1,_extends$5({},ns,{themeId:os?THEME_ID:void 0,theme:os||rs}))}const _excluded$2v=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],PopperRoot=styled$4(BasePopper,{name:"MuiPopper",slot:"Root",overridesResolver:(ts,rs)=>rs.root})({}),Popper$1=reactExports.forwardRef(function(rs,ns){var os;const ss=default_1$x(),as=useDefaultProps({props:rs,name:"MuiPopper"}),{anchorEl:ls,component:cs,components:us,componentsProps:ds,container:ps,disablePortal:fs,keepMounted:hs,modifiers:ms,open:gs,placement:vs,popperOptions:bs,popperRef:xs,transition:ys,slots:Ss,slotProps:Cs}=as,$s=_objectWithoutPropertiesLoose$1(as,_excluded$2v),Es=(os=Ss==null?void 0:Ss.root)!=null?os:us==null?void 0:us.Root,ws=_extends$5({anchorEl:ls,container:ps,disablePortal:fs,keepMounted:hs,modifiers:ms,open:gs,placement:vs,popperOptions:bs,popperRef:xs,transition:ys},$s);return jsxRuntimeExports.jsx(PopperRoot,_extends$5({as:cs,direction:ss==null?void 0:ss.direction,slots:{root:Es},slotProps:Cs!=null?Cs:ds},ws,{ref:ns}))}),Popper$2=Popper$1;function getListSubheaderUtilityClass(ts){return generateUtilityClass("MuiListSubheader",ts)}generateUtilityClasses("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);const _excluded$2u=["className","color","component","disableGutters","disableSticky","inset"],useUtilityClasses$2b=ts=>{const{classes:rs,color:ns,disableGutters:os,inset:ss,disableSticky:as}=ts,ls={root:["root",ns!=="default"&&"color".concat(capitalize$1(ns)),!os&&"gutters",ss&&"inset",!as&&"sticky"]};return composeClasses(ls,getListSubheaderUtilityClass,rs)},ListSubheaderRoot=styled$4("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:(ts,rs)=>{const{ownerState:ns}=ts;return[rs.root,ns.color!=="default"&&rs["color".concat(capitalize$1(ns.color))],!ns.disableGutters&&rs.gutters,ns.inset&&rs.inset,!ns.disableSticky&&rs.sticky]}})(({theme:ts,ownerState:rs})=>_extends$5({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:(ts.vars||ts).palette.text.secondary,fontFamily:ts.typography.fontFamily,fontWeight:ts.typography.fontWeightMedium,fontSize:ts.typography.pxToRem(14)},rs.color==="primary"&&{color:(ts.vars||ts).palette.primary.main},rs.color==="inherit"&&{color:"inherit"},!rs.disableGutters&&{paddingLeft:16,paddingRight:16},rs.inset&&{paddingLeft:72},!rs.disableSticky&&{position:"sticky",top:0,zIndex:1,backgroundColor:(ts.vars||ts).palette.background.paper})),ListSubheader=reactExports.forwardRef(function(rs,ns){const os=useDefaultProps({props:rs,name:"MuiListSubheader"}),{className:ss,color:as="default",component:ls="li",disableGutters:cs=!1,disableSticky:us=!1,inset:ds=!1}=os,ps=_objectWithoutPropertiesLoose$1(os,_excluded$2u),fs=_extends$5({},os,{color:as,component:ls,disableGutters:cs,disableSticky:us,inset:ds}),hs=useUtilityClasses$2b(fs);return jsxRuntimeExports.jsx(ListSubheaderRoot,_extends$5({as:ls,className:clsx$1(hs.root,ss),ref:ns,ownerState:fs},ps))});ListSubheader.muiSkipListHighlight=!0;const ListSubheader$1=ListSubheader,CancelIcon=createSvgIcon$1(jsxRuntimeExports.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function getChipUtilityClass(ts){return generateUtilityClass("MuiChip",ts)}const chipClasses=generateUtilityClasses("MuiChip",["root","sizeSmall","sizeMedium","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),chipClasses$1=chipClasses,_excluded$2t=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant","tabIndex","skipFocusWhenDisabled"],useUtilityClasses$2a=ts=>{const{classes:rs,disabled:ns,size:os,color:ss,iconColor:as,onDelete:ls,clickable:cs,variant:us}=ts,ds={root:["root",us,ns&&"disabled","size".concat(capitalize$1(os)),"color".concat(capitalize$1(ss)),cs&&"clickable",cs&&"clickableColor".concat(capitalize$1(ss)),ls&&"deletable",ls&&"deletableColor".concat(capitalize$1(ss)),"".concat(us).concat(capitalize$1(ss))],label:["label","label".concat(capitalize$1(os))],avatar:["avatar","avatar".concat(capitalize$1(os)),"avatarColor".concat(capitalize$1(ss))],icon:["icon","icon".concat(capitalize$1(os)),"iconColor".concat(capitalize$1(as))],deleteIcon:["deleteIcon","deleteIcon".concat(capitalize$1(os)),"deleteIconColor".concat(capitalize$1(ss)),"deleteIcon".concat(capitalize$1(us),"Color").concat(capitalize$1(ss))]};return composeClasses(ds,getChipUtilityClass,rs)},ChipRoot=styled$4("div",{name:"MuiChip",slot:"Root",overridesResolver:(ts,rs)=>{const{ownerState:ns}=ts,{color:os,iconColor:ss,clickable:as,onDelete:ls,size:cs,variant:us}=ns;return[{["& .".concat(chipClasses$1.avatar)]:rs.avatar},{["& .".concat(chipClasses$1.avatar)]:rs["avatar".concat(capitalize$1(cs))]},{["& .".concat(chipClasses$1.avatar)]:rs["avatarColor".concat(capitalize$1(os))]},{["& .".concat(chipClasses$1.icon)]:rs.icon},{["& .".concat(chipClasses$1.icon)]:rs["icon".concat(capitalize$1(cs))]},{["& .".concat(chipClasses$1.icon)]:rs["iconColor".concat(capitalize$1(ss))]},{["& .".concat(chipClasses$1.deleteIcon)]:rs.deleteIcon},{["& .".concat(chipClasses$1.deleteIcon)]:rs["deleteIcon".concat(capitalize$1(cs))]},{["& .".concat(chipClasses$1.deleteIcon)]:rs["deleteIconColor".concat(capitalize$1(os))]},{["& .".concat(chipClasses$1.deleteIcon)]:rs["deleteIcon".concat(capitalize$1(us),"Color").concat(capitalize$1(os))]},rs.root,rs["size".concat(capitalize$1(cs))],rs["color".concat(capitalize$1(os))],as&&rs.clickable,as&&os!=="default"&&rs["clickableColor".concat(capitalize$1(os),")")],ls&&rs.deletable,ls&&os!=="default"&&rs["deletableColor".concat(capitalize$1(os))],rs[us],rs["".concat(us).concat(capitalize$1(os))]]}})(({theme:ts,ownerState:rs})=>{const ns=ts.palette.mode==="light"?ts.palette.grey[700]:ts.palette.grey[300];return _extends$5({maxWidth:"100%",fontFamily:ts.typography.fontFamily,fontSize:ts.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(ts.vars||ts).palette.text.primary,backgroundColor:(ts.vars||ts).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:ts.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",["&.".concat(chipClasses$1.disabled)]:{opacity:(ts.vars||ts).palette.action.disabledOpacity,pointerEvents:"none"},["& .".concat(chipClasses$1.avatar)]:{marginLeft:5,marginRight:-6,width:24,height:24,color:ts.vars?ts.vars.palette.Chip.defaultAvatarColor:ns,fontSize:ts.typography.pxToRem(12)},["& .".concat(chipClasses$1.avatarColorPrimary)]:{color:(ts.vars||ts).palette.primary.contrastText,backgroundColor:(ts.vars||ts).palette.primary.dark},["& .".concat(chipClasses$1.avatarColorSecondary)]:{color:(ts.vars||ts).palette.secondary.contrastText,backgroundColor:(ts.vars||ts).palette.secondary.dark},["& .".concat(chipClasses$1.avatarSmall)]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:ts.typography.pxToRem(10)},["& .".concat(chipClasses$1.icon)]:_extends$5({marginLeft:5,marginRight:-6},rs.size==="small"&&{fontSize:18,marginLeft:4,marginRight:-4},rs.iconColor===rs.color&&_extends$5({color:ts.vars?ts.vars.palette.Chip.defaultIconColor:ns},rs.color!=="default"&&{color:"inherit"})),["& .".concat(chipClasses$1.deleteIcon)]:_extends$5({WebkitTapHighlightColor:"transparent",color:ts.vars?"rgba(".concat(ts.vars.palette.text.primaryChannel," / 0.26)"):alpha_1(ts.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:ts.vars?"rgba(".concat(ts.vars.palette.text.primaryChannel," / 0.4)"):alpha_1(ts.palette.text.primary,.4)}},rs.size==="small"&&{fontSize:16,marginRight:4,marginLeft:-4},rs.color!=="default"&&{color:ts.vars?"rgba(".concat(ts.vars.palette[rs.color].contrastTextChannel," / 0.7)"):alpha_1(ts.palette[rs.color].contrastText,.7),"&:hover, &:active":{color:(ts.vars||ts).palette[rs.color].contrastText}})},rs.size==="small"&&{height:24},rs.color!=="default"&&{backgroundColor:(ts.vars||ts).palette[rs.color].main,color:(ts.vars||ts).palette[rs.color].contrastText},rs.onDelete&&{["&.".concat(chipClasses$1.focusVisible)]:{backgroundColor:ts.vars?"rgba(".concat(ts.vars.palette.action.selectedChannel," / calc(").concat(ts.vars.palette.action.selectedOpacity," + ").concat(ts.vars.palette.action.focusOpacity,"))"):alpha_1(ts.palette.action.selected,ts.palette.action.selectedOpacity+ts.palette.action.focusOpacity)}},rs.onDelete&&rs.color!=="default"&&{["&.".concat(chipClasses$1.focusVisible)]:{backgroundColor:(ts.vars||ts).palette[rs.color].dark}})},({theme:ts,ownerState:rs})=>_extends$5({},rs.clickable&&{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:ts.vars?"rgba(".concat(ts.vars.palette.action.selectedChannel," / calc(").concat(ts.vars.palette.action.selectedOpacity," + ").concat(ts.vars.palette.action.hoverOpacity,"))"):alpha_1(ts.palette.action.selected,ts.palette.action.selectedOpacity+ts.palette.action.hoverOpacity)},["&.".concat(chipClasses$1.focusVisible)]:{backgroundColor:ts.vars?"rgba(".concat(ts.vars.palette.action.selectedChannel," / calc(").concat(ts.vars.palette.action.selectedOpacity," + ").concat(ts.vars.palette.action.focusOpacity,"))"):alpha_1(ts.palette.action.selected,ts.palette.action.selectedOpacity+ts.palette.action.focusOpacity)},"&:active":{boxShadow:(ts.vars||ts).shadows[1]}},rs.clickable&&rs.color!=="default"&&{["&:hover, &.".concat(chipClasses$1.focusVisible)]:{backgroundColor:(ts.vars||ts).palette[rs.color].dark}}),({theme:ts,ownerState:rs})=>_extends$5({},rs.variant==="outlined"&&{backgroundColor:"transparent",border:ts.vars?"1px solid ".concat(ts.vars.palette.Chip.defaultBorder):"1px solid ".concat(ts.palette.mode==="light"?ts.palette.grey[400]:ts.palette.grey[700]),["&.".concat(chipClasses$1.clickable,":hover")]:{backgroundColor:(ts.vars||ts).palette.action.hover},["&.".concat(chipClasses$1.focusVisible)]:{backgroundColor:(ts.vars||ts).palette.action.focus},["& .".concat(chipClasses$1.avatar)]:{marginLeft:4},["& .".concat(chipClasses$1.avatarSmall)]:{marginLeft:2},["& .".concat(chipClasses$1.icon)]:{marginLeft:4},["& .".concat(chipClasses$1.iconSmall)]:{marginLeft:2},["& .".concat(chipClasses$1.deleteIcon)]:{marginRight:5},["& .".concat(chipClasses$1.deleteIconSmall)]:{marginRight:3}},rs.variant==="outlined"&&rs.color!=="default"&&{color:(ts.vars||ts).palette[rs.color].main,border:"1px solid ".concat(ts.vars?"rgba(".concat(ts.vars.palette[rs.color].mainChannel," / 0.7)"):alpha_1(ts.palette[rs.color].main,.7)),["&.".concat(chipClasses$1.clickable,":hover")]:{backgroundColor:ts.vars?"rgba(".concat(ts.vars.palette[rs.color].mainChannel," / ").concat(ts.vars.palette.action.hoverOpacity,")"):alpha_1(ts.palette[rs.color].main,ts.palette.action.hoverOpacity)},["&.".concat(chipClasses$1.focusVisible)]:{backgroundColor:ts.vars?"rgba(".concat(ts.vars.palette[rs.color].mainChannel," / ").concat(ts.vars.palette.action.focusOpacity,")"):alpha_1(ts.palette[rs.color].main,ts.palette.action.focusOpacity)},["& .".concat(chipClasses$1.deleteIcon)]:{color:ts.vars?"rgba(".concat(ts.vars.palette[rs.color].mainChannel," / 0.7)"):alpha_1(ts.palette[rs.color].main,.7),"&:hover, &:active":{color:(ts.vars||ts).palette[rs.color].main}}})),ChipLabel=styled$4("span",{name:"MuiChip",slot:"Label",overridesResolver:(ts,rs)=>{const{ownerState:ns}=ts,{size:os}=ns;return[rs.label,rs["label".concat(capitalize$1(os))]]}})(({ownerState:ts})=>_extends$5({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},ts.variant==="outlined"&&{paddingLeft:11,paddingRight:11},ts.size==="small"&&{paddingLeft:8,paddingRight:8},ts.size==="small"&&ts.variant==="outlined"&&{paddingLeft:7,paddingRight:7}));function isDeleteKeyboardEvent(ts){return ts.key==="Backspace"||ts.key==="Delete"}const Chip=reactExports.forwardRef(function(rs,ns){const os=useDefaultProps({props:rs,name:"MuiChip"}),{avatar:ss,className:as,clickable:ls,color:cs="default",component:us,deleteIcon:ds,disabled:ps=!1,icon:fs,label:hs,onClick:ms,onDelete:gs,onKeyDown:vs,onKeyUp:bs,size:xs="medium",variant:ys="filled",tabIndex:Ss,skipFocusWhenDisabled:Cs=!1}=os,$s=_objectWithoutPropertiesLoose$1(os,_excluded$2t),Es=reactExports.useRef(null),ws=useForkRef(Es,ns),Ts=Ls=>{Ls.stopPropagation(),gs&&gs(Ls)},Is=Ls=>{Ls.currentTarget===Ls.target&&isDeleteKeyboardEvent(Ls)&&Ls.preventDefault(),vs&&vs(Ls)},Rs=Ls=>{Ls.currentTarget===Ls.target&&(gs&&isDeleteKeyboardEvent(Ls)?gs(Ls):Ls.key==="Escape"&&Es.current&&Es.current.blur()),bs&&bs(Ls)},As=ls!==!1&&ms?!0:ls,ks=As||gs?ButtonBase$1:us||"div",Ms=_extends$5({},os,{component:ks,disabled:ps,size:xs,color:cs,iconColor:reactExports.isValidElement(fs)&&fs.props.color||cs,onDelete:!!gs,clickable:As,variant:ys}),Os=useUtilityClasses$2a(Ms),Ds=ks===ButtonBase$1?_extends$5({component:us||"div",focusVisibleClassName:Os.focusVisible},gs&&{disableRipple:!0}):{};let Fs=null;gs&&(Fs=ds&&reactExports.isValidElement(ds)?reactExports.cloneElement(ds,{className:clsx$1(ds.props.className,Os.deleteIcon),onClick:Ts}):jsxRuntimeExports.jsx(CancelIcon,{className:clsx$1(Os.deleteIcon),onClick:Ts}));let js=null;ss&&reactExports.isValidElement(ss)&&(js=reactExports.cloneElement(ss,{className:clsx$1(Os.avatar,ss.props.className)}));let Ps=null;return fs&&reactExports.isValidElement(fs)&&(Ps=reactExports.cloneElement(fs,{className:clsx$1(Os.icon,fs.props.className)})),jsxRuntimeExports.jsxs(ChipRoot,_extends$5({as:ks,className:clsx$1(Os.root,as),disabled:As&&ps?!0:void 0,onClick:ms,onKeyDown:Is,onKeyUp:Rs,ref:ws,tabIndex:Cs&&ps?-1:Ss,ownerState:Ms},Ds,$s,{children:[js||Ps,jsxRuntimeExports.jsx(ChipLabel,{className:clsx$1(Os.label),ownerState:Ms,children:hs}),Fs]}))}),Chip$1=Chip,_excluded$2s=["onChange","maxRows","minRows","style","value"];function getStyleValue(ts){return parseInt(ts,10)||0}const styles$4={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function isEmpty$1(ts){return ts==null||Object.keys(ts).length===0||ts.outerHeightStyle===0&&!ts.overflowing}const TextareaAutosize=reactExports.forwardRef(function(rs,ns){const{onChange:os,maxRows:ss,minRows:as=1,style:ls,value:cs}=rs,us=_objectWithoutPropertiesLoose$1(rs,_excluded$2s),{current:ds}=reactExports.useRef(cs!=null),ps=reactExports.useRef(null),fs=useForkRef(ns,ps),hs=reactExports.useRef(null),ms=reactExports.useRef(null),gs=reactExports.useCallback(()=>{const xs=ps.current,Ss=ownerWindow(xs).getComputedStyle(xs);if(Ss.width==="0px")return{outerHeightStyle:0,overflowing:!1};const Cs=ms.current;Cs.style.width=Ss.width,Cs.value=xs.value||rs.placeholder||"x",Cs.value.slice(-1)==="\n"&&(Cs.value+=" ");const $s=Ss.boxSizing,Es=getStyleValue(Ss.paddingBottom)+getStyleValue(Ss.paddingTop),ws=getStyleValue(Ss.borderBottomWidth)+getStyleValue(Ss.borderTopWidth),Ts=Cs.scrollHeight;Cs.value="x";const Is=Cs.scrollHeight;let Rs=Ts;as&&(Rs=Math.max(Number(as)*Is,Rs)),ss&&(Rs=Math.min(Number(ss)*Is,Rs)),Rs=Math.max(Rs,Is);const As=Rs+($s==="border-box"?Es+ws:0),ks=Math.abs(Rs-Ts)<=1;return{outerHeightStyle:As,overflowing:ks}},[ss,as,rs.placeholder]),vs=reactExports.useCallback(()=>{const xs=gs();if(isEmpty$1(xs))return;const ys=xs.outerHeightStyle,Ss=ps.current;hs.current!==ys&&(hs.current=ys,Ss.style.height="".concat(ys,"px")),Ss.style.overflow=xs.overflowing?"hidden":""},[gs]);useEnhancedEffect$1(()=>{const xs=()=>{vs()};let ys;const Ss=debounce$2(xs),Cs=ps.current,$s=ownerWindow(Cs);$s.addEventListener("resize",Ss);let Es;return typeof ResizeObserver<"u"&&(Es=new ResizeObserver(xs),Es.observe(Cs)),()=>{Ss.clear(),cancelAnimationFrame(ys),$s.removeEventListener("resize",Ss),Es&&Es.disconnect()}},[gs,vs]),useEnhancedEffect$1(()=>{vs()});const bs=xs=>{ds||vs(),os&&os(xs)};return jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx("textarea",_extends$5({value:cs,onChange:bs,ref:fs,rows:as,style:ls},us)),jsxRuntimeExports.jsx("textarea",{"aria-hidden":!0,className:rs.className,readOnly:!0,ref:ms,tabIndex:-1,style:_extends$5({},styles$4.shadow,ls,{paddingTop:0,paddingBottom:0})})]})}),TextareaAutosize$1=TextareaAutosize;function formControlState({props:ts,states:rs,muiFormControl:ns}){return rs.reduce((os,ss)=>(os[ss]=ts[ss],ns&&typeof ts[ss]>"u"&&(os[ss]=ns[ss]),os),{})}const FormControlContext=reactExports.createContext(void 0),FormControlContext$1=FormControlContext;function useFormControl(){return reactExports.useContext(FormControlContext$1)}function GlobalStyles$1(ts){return jsxRuntimeExports.jsx(GlobalStyles$2,_extends$5({},ts,{defaultTheme:defaultTheme$6,themeId:THEME_ID}))}function hasValue(ts){return ts!=null&&!(Array.isArray(ts)&&ts.length===0)}function isFilled(ts,rs=!1){return ts&&(hasValue(ts.value)&&ts.value!==""||rs&&hasValue(ts.defaultValue)&&ts.defaultValue!=="")}function isAdornedStart(ts){return ts.startAdornment}function getInputBaseUtilityClass(ts){return generateUtilityClass("MuiInputBase",ts)}const inputBaseClasses=generateUtilityClasses("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),inputBaseClasses$1=inputBaseClasses,_excluded$2r=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],rootOverridesResolver=(ts,rs)=>{const{ownerState:ns}=ts;return[rs.root,ns.formControl&&rs.formControl,ns.startAdornment&&rs.adornedStart,ns.endAdornment&&rs.adornedEnd,ns.error&&rs.error,ns.size==="small"&&rs.sizeSmall,ns.multiline&&rs.multiline,ns.color&&rs["color".concat(capitalize$1(ns.color))],ns.fullWidth&&rs.fullWidth,ns.hiddenLabel&&rs.hiddenLabel]},inputOverridesResolver=(ts,rs)=>{const{ownerState:ns}=ts;return[rs.input,ns.size==="small"&&rs.inputSizeSmall,ns.multiline&&rs.inputMultiline,ns.type==="search"&&rs.inputTypeSearch,ns.startAdornment&&rs.inputAdornedStart,ns.endAdornment&&rs.inputAdornedEnd,ns.hiddenLabel&&rs.inputHiddenLabel]},useUtilityClasses$29=ts=>{const{classes:rs,color:ns,disabled:os,error:ss,endAdornment:as,focused:ls,formControl:cs,fullWidth:us,hiddenLabel:ds,multiline:ps,readOnly:fs,size:hs,startAdornment:ms,type:gs}=ts,vs={root:["root","color".concat(capitalize$1(ns)),os&&"disabled",ss&&"error",us&&"fullWidth",ls&&"focused",cs&&"formControl",hs&&hs!=="medium"&&"size".concat(capitalize$1(hs)),ps&&"multiline",ms&&"adornedStart",as&&"adornedEnd",ds&&"hiddenLabel",fs&&"readOnly"],input:["input",os&&"disabled",gs==="search"&&"inputTypeSearch",ps&&"inputMultiline",hs==="small"&&"inputSizeSmall",ds&&"inputHiddenLabel",ms&&"inputAdornedStart",as&&"inputAdornedEnd",fs&&"readOnly"]};return composeClasses(vs,getInputBaseUtilityClass,rs)},InputBaseRoot=styled$4("div",{name:"MuiInputBase",slot:"Root",overridesResolver:rootOverridesResolver})(({theme:ts,ownerState:rs})=>_extends$5({},ts.typography.body1,{color:(ts.vars||ts).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",["&.".concat(inputBaseClasses$1.disabled)]:{color:(ts.vars||ts).palette.text.disabled,cursor:"default"}},rs.multiline&&_extends$5({padding:"4px 0 5px"},rs.size==="small"&&{paddingTop:1}),rs.fullWidth&&{width:"100%"})),InputBaseComponent=styled$4("input",{name:"MuiInputBase",slot:"Input",overridesResolver:inputOverridesResolver})(({theme:ts,ownerState:rs})=>{const ns=ts.palette.mode==="light",os=_extends$5({color:"currentColor"},ts.vars?{opacity:ts.vars.opacity.inputPlaceholder}:{opacity:ns?.42:.5},{transition:ts.transitions.create("opacity",{duration:ts.transitions.duration.shorter})}),ss={opacity:"0 !important"},as=ts.vars?{opacity:ts.vars.opacity.inputPlaceholder}:{opacity:ns?.42:.5};return _extends$5({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":os,"&::-moz-placeholder":os,"&:-ms-input-placeholder":os,"&::-ms-input-placeholder":os,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},["label[data-shrink=false] + .".concat(inputBaseClasses$1.formControl," &")]:{"&::-webkit-input-placeholder":ss,"&::-moz-placeholder":ss,"&:-ms-input-placeholder":ss,"&::-ms-input-placeholder":ss,"&:focus::-webkit-input-placeholder":as,"&:focus::-moz-placeholder":as,"&:focus:-ms-input-placeholder":as,"&:focus::-ms-input-placeholder":as},["&.".concat(inputBaseClasses$1.disabled)]:{opacity:1,WebkitTextFillColor:(ts.vars||ts).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},rs.size==="small"&&{paddingTop:1},rs.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},rs.type==="search"&&{MozAppearance:"textfield"})}),inputGlobalStyles=jsxRuntimeExports.jsx(GlobalStyles$1,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),InputBase=reactExports.forwardRef(function(rs,ns){var os;const ss=useDefaultProps({props:rs,name:"MuiInputBase"}),{"aria-describedby":as,autoComplete:ls,autoFocus:cs,className:us,components:ds={},componentsProps:ps={},defaultValue:fs,disabled:hs,disableInjectingGlobalStyles:ms,endAdornment:gs,fullWidth:vs=!1,id:bs,inputComponent:xs="input",inputProps:ys={},inputRef:Ss,maxRows:Cs,minRows:$s,multiline:Es=!1,name:ws,onBlur:Ts,onChange:Is,onClick:Rs,onFocus:As,onKeyDown:ks,onKeyUp:Ms,placeholder:Os,readOnly:Ds,renderSuffix:Fs,rows:js,slotProps:Ps={},slots:Ls={},startAdornment:Ns,type:Gs="text",value:Us}=ss,Hs=_objectWithoutPropertiesLoose$1(ss,_excluded$2r),zs=ys.value!=null?ys.value:Us,{current:qs}=reactExports.useRef(zs!=null),Vs=reactExports.useRef(),Ks=reactExports.useCallback(Ll=>{},[]),Ws=useForkRef(Vs,Ss,ys.ref,Ks),[Pl,Tl]=reactExports.useState(!1),El=useFormControl(),$l=formControlState({props:ss,muiFormControl:El,states:["color","disabled","error","hiddenLabel","size","required","filled"]});$l.focused=El?El.focused:Pl,reactExports.useEffect(()=>{!El&&hs&&Pl&&(Tl(!1),Ts&&Ts())},[El,hs,Pl,Ts]);const Sl=El&&El.onFilled,Ml=El&&El.onEmpty,wl=reactExports.useCallback(Ll=>{isFilled(Ll)?Sl&&Sl():Ml&&Ml()},[Sl,Ml]);useEnhancedEffect$1(()=>{qs&&wl({value:zs})},[zs,wl,qs]);const Rl=Ll=>{if($l.disabled){Ll.stopPropagation();return}As&&As(Ll),ys.onFocus&&ys.onFocus(Ll),El&&El.onFocus?El.onFocus(Ll):Tl(!0)},yl=Ll=>{Ts&&Ts(Ll),ys.onBlur&&ys.onBlur(Ll),El&&El.onBlur?El.onBlur(Ll):Tl(!1)},Bs=(Ll,...Vl)=>{if(!qs){const Xl=Ll.target||Vs.current;if(Xl==null)throw new Error(formatMuiErrorMessage$1(1));wl({value:Xl.value})}ys.onChange&&ys.onChange(Ll,...Vl),Is&&Is(Ll,...Vl)};reactExports.useEffect(()=>{wl(Vs.current)},[]);const Zs=Ll=>{Vs.current&&Ll.currentTarget===Ll.target&&Vs.current.focus(),Rs&&Rs(Ll)};let Ys=xs,_l=ys;Es&&Ys==="input"&&(js?_l=_extends$5({type:void 0,minRows:js,maxRows:js},_l):_l=_extends$5({type:void 0,maxRows:Cs,minRows:$s},_l),Ys=TextareaAutosize$1);const Cl=Ll=>{wl(Ll.animationName==="mui-auto-fill-cancel"?Vs.current:{value:"x"})};reactExports.useEffect(()=>{El&&El.setAdornedStart(!!Ns)},[El,Ns]);const Xs=_extends$5({},ss,{color:$l.color||"primary",disabled:$l.disabled,endAdornment:gs,error:$l.error,focused:$l.focused,formControl:El,fullWidth:vs,hiddenLabel:$l.hiddenLabel,multiline:Es,size:$l.size,startAdornment:Ns,type:Gs}),xl=useUtilityClasses$29(Xs),$a=Ls.root||ds.Root||InputBaseRoot,Dl=Ps.root||ps.root||{},Ol=Ls.input||ds.Input||InputBaseComponent;return _l=_extends$5({},_l,(os=Ps.input)!=null?os:ps.input),jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[!ms&&inputGlobalStyles,jsxRuntimeExports.jsxs($a,_extends$5({},Dl,!isHostComponent($a)&&{ownerState:_extends$5({},Xs,Dl.ownerState)},{ref:ns,onClick:Zs},Hs,{className:clsx$1(xl.root,Dl.className,us,Ds&&"MuiInputBase-readOnly"),children:[Ns,jsxRuntimeExports.jsx(FormControlContext$1.Provider,{value:null,children:jsxRuntimeExports.jsx(Ol,_extends$5({ownerState:Xs,"aria-invalid":$l.error,"aria-describedby":as,autoComplete:ls,autoFocus:cs,defaultValue:fs,disabled:$l.disabled,id:bs,onAnimationStart:Cl,name:ws,placeholder:Os,readOnly:Ds,required:$l.required,rows:js,value:zs,onKeyDown:ks,onKeyUp:Ms,type:Gs},_l,!isHostComponent(Ol)&&{as:Ys,ownerState:_extends$5({},Xs,_l.ownerState)},{ref:Ws,className:clsx$1(xl.input,_l.className,Ds&&"MuiInputBase-readOnly"),onBlur:yl,onChange:Bs,onFocus:Rl}))}),gs,Fs?Fs(_extends$5({},$l,{startAdornment:Ns})):null]}))]})}),InputBase$1=InputBase;function getInputUtilityClass(ts){return generateUtilityClass("MuiInput",ts)}const inputClasses=_extends$5({},inputBaseClasses$1,generateUtilityClasses("MuiInput",["root","underline","input"])),inputClasses$1=inputClasses;function getOutlinedInputUtilityClass(ts){return generateUtilityClass("MuiOutlinedInput",ts)}const outlinedInputClasses=_extends$5({},inputBaseClasses$1,generateUtilityClasses("MuiOutlinedInput",["root","notchedOutline","input"])),outlinedInputClasses$1=outlinedInputClasses;function getFilledInputUtilityClass(ts){return generateUtilityClass("MuiFilledInput",ts)}const filledInputClasses=_extends$5({},inputBaseClasses$1,generateUtilityClasses("MuiFilledInput",["root","underline","input"])),filledInputClasses$1=filledInputClasses,ArrowDropDownIcon=createSvgIcon$1(jsxRuntimeExports.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown");function getAutocompleteUtilityClass(ts){return generateUtilityClass("MuiAutocomplete",ts)}const autocompleteClasses=generateUtilityClasses("MuiAutocomplete",["root","expanded","fullWidth","focused","focusVisible","tag","tagSizeSmall","tagSizeMedium","hasPopupIcon","hasClearIcon","inputRoot","input","inputFocused","endAdornment","clearIndicator","popupIndicator","popupIndicatorOpen","popper","popperDisablePortal","paper","listbox","loading","noOptions","option","groupLabel","groupUl"]),autocompleteClasses$1=autocompleteClasses;var _ClearIcon,_ArrowDropDownIcon;const _excluded$2q=["autoComplete","autoHighlight","autoSelect","blurOnSelect","ChipProps","className","clearIcon","clearOnBlur","clearOnEscape","clearText","closeText","componentsProps","defaultValue","disableClearable","disableCloseOnSelect","disabled","disabledItemsFocusable","disableListWrap","disablePortal","filterOptions","filterSelectedOptions","forcePopupIcon","freeSolo","fullWidth","getLimitTagsText","getOptionDisabled","getOptionKey","getOptionLabel","isOptionEqualToValue","groupBy","handleHomeEndKeys","id","includeInputInList","inputValue","limitTags","ListboxComponent","ListboxProps","loading","loadingText","multiple","noOptionsText","onChange","onClose","onHighlightChange","onInputChange","onOpen","open","openOnFocus","openText","options","PaperComponent","PopperComponent","popupIcon","readOnly","renderGroup","renderInput","renderOption","renderTags","selectOnFocus","size","slotProps","value"],_excluded2$d=["ref"],_excluded3$2=["key"],_excluded4$1=["key"],useUtilityClasses$28=ts=>{const{classes:rs,disablePortal:ns,expanded:os,focused:ss,fullWidth:as,hasClearIcon:ls,hasPopupIcon:cs,inputFocused:us,popupOpen:ds,size:ps}=ts,fs={root:["root",os&&"expanded",ss&&"focused",as&&"fullWidth",ls&&"hasClearIcon",cs&&"hasPopupIcon"],inputRoot:["inputRoot"],input:["input",us&&"inputFocused"],tag:["tag","tagSize".concat(capitalize$1(ps))],endAdornment:["endAdornment"],clearIndicator:["clearIndicator"],popupIndicator:["popupIndicator",ds&&"popupIndicatorOpen"],popper:["popper",ns&&"popperDisablePortal"],paper:["paper"],listbox:["listbox"],loading:["loading"],noOptions:["noOptions"],option:["option"],groupLabel:["groupLabel"],groupUl:["groupUl"]};return composeClasses(fs,getAutocompleteUtilityClass,rs)},AutocompleteRoot=styled$4("div",{name:"MuiAutocomplete",slot:"Root",overridesResolver:(ts,rs)=>{const{ownerState:ns}=ts,{fullWidth:os,hasClearIcon:ss,hasPopupIcon:as,inputFocused:ls,size:cs}=ns;return[{["& .".concat(autocompleteClasses$1.tag)]:rs.tag},{["& .".concat(autocompleteClasses$1.tag)]:rs["tagSize".concat(capitalize$1(cs))]},{["& .".concat(autocompleteClasses$1.inputRoot)]:rs.inputRoot},{["& .".concat(autocompleteClasses$1.input)]:rs.input},{["& .".concat(autocompleteClasses$1.input)]:ls&&rs.inputFocused},rs.root,os&&rs.fullWidth,as&&rs.hasPopupIcon,ss&&rs.hasClearIcon]}})({["&.".concat(autocompleteClasses$1.focused," .").concat(autocompleteClasses$1.clearIndicator)]:{visibility:"visible"},"@media (pointer: fine)":{["&:hover .".concat(autocompleteClasses$1.clearIndicator)]:{visibility:"visible"}},["& .".concat(autocompleteClasses$1.tag)]:{margin:3,maxWidth:"calc(100% - 6px)"},["& .".concat(autocompleteClasses$1.inputRoot)]:{[".".concat(autocompleteClasses$1.hasPopupIcon,"&, .").concat(autocompleteClasses$1.hasClearIcon,"&")]:{paddingRight:26+4},[".".concat(autocompleteClasses$1.hasPopupIcon,".").concat(autocompleteClasses$1.hasClearIcon,"&")]:{paddingRight:52+4},["& .".concat(autocompleteClasses$1.input)]:{width:0,minWidth:30}},["& .".concat(inputClasses$1.root)]:{paddingBottom:1,"& .MuiInput-input":{padding:"4px 4px 4px 0px"}},["& .".concat(inputClasses$1.root,".").concat(inputBaseClasses$1.sizeSmall)]:{["& .".concat(inputClasses$1.input)]:{padding:"2px 4px 3px 0"}},["& .".concat(outlinedInputClasses$1.root)]:{padding:9,[".".concat(autocompleteClasses$1.hasPopupIcon,"&, .").concat(autocompleteClasses$1.hasClearIcon,"&")]:{paddingRight:26+4+9},[".".concat(autocompleteClasses$1.hasPopupIcon,".").concat(autocompleteClasses$1.hasClearIcon,"&")]:{paddingRight:52+4+9},["& .".concat(autocompleteClasses$1.input)]:{padding:"7.5px 4px 7.5px 5px"},["& .".concat(autocompleteClasses$1.endAdornment)]:{right:9}},["& .".concat(outlinedInputClasses$1.root,".").concat(inputBaseClasses$1.sizeSmall)]:{paddingTop:6,paddingBottom:6,paddingLeft:6,["& .".concat(autocompleteClasses$1.input)]:{padding:"2.5px 4px 2.5px 8px"}},["& .".concat(filledInputClasses$1.root)]:{paddingTop:19,paddingLeft:8,[".".concat(autocompleteClasses$1.hasPopupIcon,"&, .").concat(autocompleteClasses$1.hasClearIcon,"&")]:{paddingRight:26+4+9},[".".concat(autocompleteClasses$1.hasPopupIcon,".").concat(autocompleteClasses$1.hasClearIcon,"&")]:{paddingRight:52+4+9},["& .".concat(filledInputClasses$1.input)]:{padding:"7px 4px"},["& .".concat(autocompleteClasses$1.endAdornment)]:{right:9}},["& .".concat(filledInputClasses$1.root,".").concat(inputBaseClasses$1.sizeSmall)]:{paddingBottom:1,["& .".concat(filledInputClasses$1.input)]:{padding:"2.5px 4px"}},["& .".concat(inputBaseClasses$1.hiddenLabel)]:{paddingTop:8},["& .".concat(filledInputClasses$1.root,".").concat(inputBaseClasses$1.hiddenLabel)]:{paddingTop:0,paddingBottom:0,["& .".concat(autocompleteClasses$1.input)]:{paddingTop:16,paddingBottom:17}},["& .".concat(filledInputClasses$1.root,".").concat(inputBaseClasses$1.hiddenLabel,".").concat(inputBaseClasses$1.sizeSmall)]:{["& .".concat(autocompleteClasses$1.input)]:{paddingTop:8,paddingBottom:9}},["& .".concat(autocompleteClasses$1.input)]:{flexGrow:1,textOverflow:"ellipsis",opacity:0},variants:[{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{["& .".concat(autocompleteClasses$1.tag)]:{margin:2,maxWidth:"calc(100% - 4px)"}}},{props:{inputFocused:!0},style:{["& .".concat(autocompleteClasses$1.input)]:{opacity:1}}},{props:{multiple:!0},style:{["& .".concat(autocompleteClasses$1.inputRoot)]:{flexWrap:"wrap"}}}]}),AutocompleteEndAdornment=styled$4("div",{name:"MuiAutocomplete",slot:"EndAdornment",overridesResolver:(ts,rs)=>rs.endAdornment})({position:"absolute",right:0,top:"50%",transform:"translate(0, -50%)"}),AutocompleteClearIndicator=styled$4(IconButton$2,{name:"MuiAutocomplete",slot:"ClearIndicator",overridesResolver:(ts,rs)=>rs.clearIndicator})({marginRight:-2,padding:4,visibility:"hidden"}),AutocompletePopupIndicator=styled$4(IconButton$2,{name:"MuiAutocomplete",slot:"PopupIndicator",overridesResolver:({ownerState:ts},rs)=>_extends$5({},rs.popupIndicator,ts.popupOpen&&rs.popupIndicatorOpen)})({padding:2,marginRight:-2,variants:[{props:{popupOpen:!0},style:{transform:"rotate(180deg)"}}]}),AutocompletePopper=styled$4(Popper$2,{name:"MuiAutocomplete",slot:"Popper",overridesResolver:(ts,rs)=>{const{ownerState:ns}=ts;return[{["& .".concat(autocompleteClasses$1.option)]:rs.option},rs.popper,ns.disablePortal&&rs.popperDisablePortal]}})(({theme:ts})=>({zIndex:(ts.vars||ts).zIndex.modal,variants:[{props:{disablePortal:!0},style:{position:"absolute"}}]})),AutocompletePaper=styled$4(Paper$1,{name:"MuiAutocomplete",slot:"Paper",overridesResolver:(ts,rs)=>rs.paper})(({theme:ts})=>_extends$5({},ts.typography.body1,{overflow:"auto"})),AutocompleteLoading=styled$4("div",{name:"MuiAutocomplete",slot:"Loading",overridesResolver:(ts,rs)=>rs.loading})(({theme:ts})=>({color:(ts.vars||ts).palette.text.secondary,padding:"14px 16px"})),AutocompleteNoOptions=styled$4("div",{name:"MuiAutocomplete",slot:"NoOptions",overridesResolver:(ts,rs)=>rs.noOptions})(({theme:ts})=>({color:(ts.vars||ts).palette.text.secondary,padding:"14px 16px"})),AutocompleteListbox=styled$4("div",{name:"MuiAutocomplete",slot:"Listbox",overridesResolver:(ts,rs)=>rs.listbox})(({theme:ts})=>({listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto",position:"relative",["& .".concat(autocompleteClasses$1.option)]:{minHeight:48,display:"flex",overflow:"hidden",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16,[ts.breakpoints.up("sm")]:{minHeight:"auto"},["&.".concat(autocompleteClasses$1.focused)]:{backgroundColor:(ts.vars||ts).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},'&[aria-disabled="true"]':{opacity:(ts.vars||ts).palette.action.disabledOpacity,pointerEvents:"none"},["&.".concat(autocompleteClasses$1.focusVisible)]:{backgroundColor:(ts.vars||ts).palette.action.focus},'&[aria-selected="true"]':{backgroundColor:ts.vars?"rgba(".concat(ts.vars.palette.primary.mainChannel," / ").concat(ts.vars.palette.action.selectedOpacity,")"):alpha_1(ts.palette.primary.main,ts.palette.action.selectedOpacity),["&.".concat(autocompleteClasses$1.focused)]:{backgroundColor:ts.vars?"rgba(".concat(ts.vars.palette.primary.mainChannel," / calc(").concat(ts.vars.palette.action.selectedOpacity," + ").concat(ts.vars.palette.action.hoverOpacity,"))"):alpha_1(ts.palette.primary.main,ts.palette.action.selectedOpacity+ts.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(ts.vars||ts).palette.action.selected}},["&.".concat(autocompleteClasses$1.focusVisible)]:{backgroundColor:ts.vars?"rgba(".concat(ts.vars.palette.primary.mainChannel," / calc(").concat(ts.vars.palette.action.selectedOpacity," + ").concat(ts.vars.palette.action.focusOpacity,"))"):alpha_1(ts.palette.primary.main,ts.palette.action.selectedOpacity+ts.palette.action.focusOpacity)}}}})),AutocompleteGroupLabel=styled$4(ListSubheader$1,{name:"MuiAutocomplete",slot:"GroupLabel",overridesResolver:(ts,rs)=>rs.groupLabel})(({theme:ts})=>({backgroundColor:(ts.vars||ts).palette.background.paper,top:-8})),AutocompleteGroupUl=styled$4("ul",{name:"MuiAutocomplete",slot:"GroupUl",overridesResolver:(ts,rs)=>rs.groupUl})({padding:0,["& .".concat(autocompleteClasses$1.option)]:{paddingLeft:24}}),Autocomplete=reactExports.forwardRef(function(rs,ns){var os,ss,as,ls;const cs=useDefaultProps({props:rs,name:"MuiAutocomplete"}),{autoComplete:us=!1,autoHighlight:ds=!1,autoSelect:ps=!1,blurOnSelect:fs=!1,ChipProps:hs,className:ms,clearIcon:gs=_ClearIcon||(_ClearIcon=jsxRuntimeExports.jsx(ClearIcon,{fontSize:"small"})),clearOnBlur:vs=!cs.freeSolo,clearOnEscape:bs=!1,clearText:xs="Clear",closeText:ys="Close",componentsProps:Ss={},defaultValue:Cs=cs.multiple?[]:null,disableClearable:$s=!1,disableCloseOnSelect:Es=!1,disabled:ws=!1,disabledItemsFocusable:Ts=!1,disableListWrap:Is=!1,disablePortal:Rs=!1,filterSelectedOptions:As=!1,forcePopupIcon:ks="auto",freeSolo:Ms=!1,fullWidth:Os=!1,getLimitTagsText:Ds=Yl=>"+".concat(Yl),getOptionLabel:Fs,groupBy:js,handleHomeEndKeys:Ps=!cs.freeSolo,includeInputInList:Ls=!1,limitTags:Ns=-1,ListboxComponent:Gs="ul",ListboxProps:Us,loading:Hs=!1,loadingText:zs="Loadingâ¦",multiple:qs=!1,noOptionsText:Vs="No options",openOnFocus:Ks=!1,openText:Ws="Open",PaperComponent:Pl=Paper$1,PopperComponent:Tl=Popper$2,popupIcon:El=_ArrowDropDownIcon||(_ArrowDropDownIcon=jsxRuntimeExports.jsx(ArrowDropDownIcon,{})),readOnly:$l=!1,renderGroup:Sl,renderInput:Ml,renderOption:wl,renderTags:Rl,selectOnFocus:yl=!cs.freeSolo,size:Bs="medium",slotProps:Zs={}}=cs,Ys=_objectWithoutPropertiesLoose$1(cs,_excluded$2q),{getRootProps:_l,getInputProps:Cl,getInputLabelProps:Xs,getPopupIndicatorProps:xl,getClearProps:$a,getTagProps:Dl,getListboxProps:Ol,getOptionProps:Ll,value:Vl,dirty:Xl,expanded:Ql,id:Kl,popupOpen:Gl,focused:nu,focusedTag:Bl,anchorEl:Hl,setAnchorEl:Qs,inputValue:Al,groupedOptions:Nl}=useAutocomplete(_extends$5({},cs,{componentName:"Autocomplete"})),eu=!$s&&!ws&&Xl&&!$l,Jl=(!Ms||ks===!0)&&ks!==!1,{onMouseDown:Zl}=Cl(),{ref:tu}=Us!=null?Us:{},au=Ol(),{ref:du}=au,lu=_objectWithoutPropertiesLoose$1(au,_excluded2$d),fu=useForkRef(du,tu),$u=Fs||(Yl=>{var su;return(su=Yl.label)!=null?su:Yl}),mu=_extends$5({},cs,{disablePortal:Rs,expanded:Ql,focused:nu,fullWidth:Os,getOptionLabel:$u,hasClearIcon:eu,hasPopupIcon:Jl,inputFocused:Bl===-1,popupOpen:Gl,size:Bs}),pu=useUtilityClasses$28(mu);let vu;if(qs&&Vl.length>0){const Yl=su=>_extends$5({className:pu.tag,disabled:ws},Dl(su));Rl?vu=Rl(Vl,Yl,mu):vu=Vl.map((su,ou)=>{const cu=Yl({index:ou}),{key:bu}=cu,Gu=_objectWithoutPropertiesLoose$1(cu,_excluded3$2);return jsxRuntimeExports.jsx(Chip$1,_extends$5({label:$u(su),size:Bs},Gu,hs),bu)})}if(Ns>-1&&Array.isArray(vu)){const Yl=vu.length-Ns;!nu&&Yl>0&&(vu=vu.splice(0,Ns),vu.push(jsxRuntimeExports.jsx("span",{className:pu.tag,children:Ds(Yl)},vu.length)))}const Tu=Sl||(Yl=>jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx(AutocompleteGroupLabel,{className:pu.groupLabel,ownerState:mu,component:"div",children:Yl.group}),jsxRuntimeExports.jsx(AutocompleteGroupUl,{className:pu.groupUl,ownerState:mu,children:Yl.children})]},Yl.key)),yu=wl||((Yl,su)=>{const{key:ou}=Yl,cu=_objectWithoutPropertiesLoose$1(Yl,_excluded4$1);return jsxRuntimeExports.jsx("li",_extends$5({},cu,{children:$u(su)}),ou)}),Ou=(Yl,su)=>{const ou=Ll({option:Yl,index:su});return yu(_extends$5({},ou,{className:pu.option}),Yl,{selected:ou["aria-selected"],index:su,inputValue:Al},mu)},ju=(os=Zs.clearIndicator)!=null?os:Ss.clearIndicator,Pu=(ss=Zs.paper)!=null?ss:Ss.paper,Mu=(as=Zs.popper)!=null?as:Ss.popper,Ul=(ls=Zs.popupIndicator)!=null?ls:Ss.popupIndicator,Fl=Yl=>jsxRuntimeExports.jsx(AutocompletePopper,_extends$5({as:Tl,disablePortal:Rs,style:{width:Hl?Hl.clientWidth:null},ownerState:mu,role:"presentation",anchorEl:Hl,open:Gl},Mu,{className:clsx$1(pu.popper,Mu==null?void 0:Mu.className),children:jsxRuntimeExports.jsx(AutocompletePaper,_extends$5({ownerState:mu,as:Pl},Pu,{className:clsx$1(pu.paper,Pu==null?void 0:Pu.className),children:Yl}))}));let ru=null;return Nl.length>0?ru=Fl(jsxRuntimeExports.jsx(AutocompleteListbox,_extends$5({as:Gs,className:pu.listbox,ownerState:mu},lu,Us,{ref:fu,children:Nl.map((Yl,su)=>js?Tu({key:Yl.key,group:Yl.group,children:Yl.options.map((ou,cu)=>Ou(ou,Yl.index+cu))}):Ou(Yl,su))}))):Hs&&Nl.length===0?ru=Fl(jsxRuntimeExports.jsx(AutocompleteLoading,{className:pu.loading,ownerState:mu,children:zs})):Nl.length===0&&!Ms&&!Hs&&(ru=Fl(jsxRuntimeExports.jsx(AutocompleteNoOptions,{className:pu.noOptions,ownerState:mu,role:"presentation",onMouseDown:Yl=>{Yl.preventDefault()},children:Vs}))),jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx(AutocompleteRoot,_extends$5({ref:ns,className:clsx$1(pu.root,ms),ownerState:mu},_l(Ys),{children:Ml({id:Kl,disabled:ws,fullWidth:!0,size:Bs==="small"?"small":void 0,InputLabelProps:Xs(),InputProps:_extends$5({ref:Qs,className:pu.inputRoot,startAdornment:vu,onClick:Yl=>{Yl.target===Yl.currentTarget&&Zl(Yl)}},(eu||Jl)&&{endAdornment:jsxRuntimeExports.jsxs(AutocompleteEndAdornment,{className:pu.endAdornment,ownerState:mu,children:[eu?jsxRuntimeExports.jsx(AutocompleteClearIndicator,_extends$5({},$a(),{"aria-label":xs,title:xs,ownerState:mu},ju,{className:clsx$1(pu.clearIndicator,ju==null?void 0:ju.className),children:gs})):null,Jl?jsxRuntimeExports.jsx(AutocompletePopupIndicator,_extends$5({},xl(),{disabled:ws,"aria-label":Gl?ys:Ws,title:Gl?ys:Ws,ownerState:mu},Ul,{className:clsx$1(pu.popupIndicator,Ul==null?void 0:Ul.className),children:El})):null]})}),inputProps:_extends$5({className:pu.input,disabled:ws,readOnly:$l},Cl())})})),Hl?ru:null]})}),Autocomplete$1=Autocomplete,Person=createSvgIcon$1(jsxRuntimeExports.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function getAvatarUtilityClass(ts){return generateUtilityClass("MuiAvatar",ts)}generateUtilityClasses("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const _excluded$2p=["alt","children","className","component","slots","slotProps","imgProps","sizes","src","srcSet","variant"],useUtilityClasses$27=ts=>{const{classes:rs,variant:ns,colorDefault:os}=ts;return composeClasses({root:["root",ns,os&&"colorDefault"],img:["img"],fallback:["fallback"]},getAvatarUtilityClass,rs)},AvatarRoot=styled$4("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(ts,rs)=>{const{ownerState:ns}=ts;return[rs.root,rs[ns.variant],ns.colorDefault&&rs.colorDefault]}})(({theme:ts})=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:ts.typography.fontFamily,fontSize:ts.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(ts.vars||ts).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:_extends$5({color:(ts.vars||ts).palette.background.default},ts.vars?{backgroundColor:ts.vars.palette.Avatar.defaultBg}:_extends$5({backgroundColor:ts.palette.grey[400]},ts.applyStyles("dark",{backgroundColor:ts.palette.grey[600]})))}]})),AvatarImg=styled$4("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(ts,rs)=>rs.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),AvatarFallback=styled$4(Person,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(ts,rs)=>rs.fallback})({width:"75%",height:"75%"});function useLoaded({crossOrigin:ts,referrerPolicy:rs,src:ns,srcSet:os}){const[ss,as]=reactExports.useState(!1);return reactExports.useEffect(()=>{if(!ns&&!os)return;as(!1);let ls=!0;const cs=new Image;return cs.onload=()=>{ls&&as("loaded")},cs.onerror=()=>{ls&&as("error")},cs.crossOrigin=ts,cs.referrerPolicy=rs,cs.src=ns,os&&(cs.srcset=os),()=>{ls=!1}},[ts,rs,ns,os]),ss}const Avatar=reactExports.forwardRef(function(rs,ns){const os=useDefaultProps({props:rs,name:"MuiAvatar"}),{alt:ss,children:as,className:ls,component:cs="div",slots:us={},slotProps:ds={},imgProps:ps,sizes:fs,src:hs,srcSet:ms,variant:gs="circular"}=os,vs=_objectWithoutPropertiesLoose$1(os,_excluded$2p);let bs=null;const xs=useLoaded(_extends$5({},ps,{src:hs,srcSet:ms})),ys=hs||ms,Ss=ys&&xs!=="error",Cs=_extends$5({},os,{colorDefault:!Ss,component:cs,variant:gs}),$s=useUtilityClasses$27(Cs),[Es,ws]=useSlot("img",{className:$s.img,elementType:AvatarImg,externalForwardedProps:{slots:us,slotProps:{img:_extends$5({},ps,ds.img)}},additionalProps:{alt:ss,src:hs,srcSet:ms,sizes:fs},ownerState:Cs});return Ss?bs=jsxRuntimeExports.jsx(Es,_extends$5({},ws)):as||as===0?bs=as:ys&&ss?bs=ss[0]:bs=jsxRuntimeExports.jsx(AvatarFallback,{ownerState:Cs,className:$s.fallback}),jsxRuntimeExports.jsx(AvatarRoot,_extends$5({as:cs,ownerState:Cs,className:clsx$1($s.root,ls),ref:ns},vs,{children:bs}))}),Avatar$1=Avatar,unstable_ClassNameGenerator={configure:ts=>{ClassNameGenerator$1.configure(ts)}},utils$2=Object.freeze(Object.defineProperty({__proto__:null,capitalize:capitalize$1,createChainedFunction,createSvgIcon:createSvgIcon$1,debounce:debounce$2,deprecatedPropType,isMuiElement,ownerDocument,ownerWindow,requirePropFactory,setRef:setRef$1,unstable_ClassNameGenerator,unstable_useEnhancedEffect:useEnhancedEffect$1,unstable_useId:useId,unsupportedProp,useControlled,useEventCallback,useForkRef,useIsFocusVisible},Symbol.toStringTag,{value:"Module"}));function getButtonUtilityClass(ts){return generateUtilityClass("MuiButton",ts)}const buttonClasses=generateUtilityClasses("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),buttonClasses$1=buttonClasses,ButtonGroupContext=reactExports.createContext({}),ButtonGroupContext$1=ButtonGroupContext,ButtonGroupButtonContext=reactExports.createContext(void 0),ButtonGroupButtonContext$1=ButtonGroupButtonContext,_excluded$2o=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],useUtilityClasses$26=ts=>{const{color:rs,disableElevation:ns,fullWidth:os,size:ss,variant:as,classes:ls}=ts,cs={root:["root",as,"".concat(as).concat(capitalize$1(rs)),"size".concat(capitalize$1(ss)),"".concat(as,"Size").concat(capitalize$1(ss)),"color".concat(capitalize$1(rs)),ns&&"disableElevation",os&&"fullWidth"],label:["label"],startIcon:["icon","startIcon","iconSize".concat(capitalize$1(ss))],endIcon:["icon","endIcon","iconSize".concat(capitalize$1(ss))]},us=composeClasses(cs,getButtonUtilityClass,ls);return _extends$5({},ls,us)},commonIconStyles=ts=>_extends$5({},ts.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},ts.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},ts.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),ButtonRoot=styled$4(ButtonBase$1,{shouldForwardProp:ts=>rootShouldForwardProp$2(ts)||ts==="classes",name:"MuiButton",slot:"Root",overridesResolver:(ts,rs)=>{const{ownerState:ns}=ts;return[rs.root,rs[ns.variant],rs["".concat(ns.variant).concat(capitalize$1(ns.color))],rs["size".concat(capitalize$1(ns.size))],rs["".concat(ns.variant,"Size").concat(capitalize$1(ns.size))],ns.color==="inherit"&&rs.colorInherit,ns.disableElevation&&rs.disableElevation,ns.fullWidth&&rs.fullWidth]}})(({theme:ts,ownerState:rs})=>{var ns,os;const ss=ts.palette.mode==="light"?ts.palette.grey[300]:ts.palette.grey[800],as=ts.palette.mode==="light"?ts.palette.grey.A100:ts.palette.grey[700];return _extends$5({},ts.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(ts.vars||ts).shape.borderRadius,transition:ts.transitions.create(["background-color","box-shadow","border-color","color"],{duration:ts.transitions.duration.short}),"&:hover":_extends$5({textDecoration:"none",backgroundColor:ts.vars?"rgba(".concat(ts.vars.palette.text.primaryChannel," / ").concat(ts.vars.palette.action.hoverOpacity,")"):alpha_1(ts.palette.text.primary,ts.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},rs.variant==="text"&&rs.color!=="inherit"&&{backgroundColor:ts.vars?"rgba(".concat(ts.vars.palette[rs.color].mainChannel," / ").concat(ts.vars.palette.action.hoverOpacity,")"):alpha_1(ts.palette[rs.color].main,ts.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},rs.variant==="outlined"&&rs.color!=="inherit"&&{border:"1px solid ".concat((ts.vars||ts).palette[rs.color].main),backgroundColor:ts.vars?"rgba(".concat(ts.vars.palette[rs.color].mainChannel," / ").concat(ts.vars.palette.action.hoverOpacity,")"):alpha_1(ts.palette[rs.color].main,ts.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},rs.variant==="contained"&&{backgroundColor:ts.vars?ts.vars.palette.Button.inheritContainedHoverBg:as,boxShadow:(ts.vars||ts).shadows[4],"@media (hover: none)":{boxShadow:(ts.vars||ts).shadows[2],backgroundColor:(ts.vars||ts).palette.grey[300]}},rs.variant==="contained"&&rs.color!=="inherit"&&{backgroundColor:(ts.vars||ts).palette[rs.color].dark,"@media (hover: none)":{backgroundColor:(ts.vars||ts).palette[rs.color].main}}),"&:active":_extends$5({},rs.variant==="contained"&&{boxShadow:(ts.vars||ts).shadows[8]}),["&.".concat(buttonClasses$1.focusVisible)]:_extends$5({},rs.variant==="contained"&&{boxShadow:(ts.vars||ts).shadows[6]}),["&.".concat(buttonClasses$1.disabled)]:_extends$5({color:(ts.vars||ts).palette.action.disabled},rs.variant==="outlined"&&{border:"1px solid ".concat((ts.vars||ts).palette.action.disabledBackground)},rs.variant==="contained"&&{color:(ts.vars||ts).palette.action.disabled,boxShadow:(ts.vars||ts).shadows[0],backgroundColor:(ts.vars||ts).palette.action.disabledBackground})},rs.variant==="text"&&{padding:"6px 8px"},rs.variant==="text"&&rs.color!=="inherit"&&{color:(ts.vars||ts).palette[rs.color].main},rs.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},rs.variant==="outlined"&&rs.color!=="inherit"&&{color:(ts.vars||ts).palette[rs.color].main,border:ts.vars?"1px solid rgba(".concat(ts.vars.palette[rs.color].mainChannel," / 0.5)"):"1px solid ".concat(alpha_1(ts.palette[rs.color].main,.5))},rs.variant==="contained"&&{color:ts.vars?ts.vars.palette.text.primary:(ns=(os=ts.palette).getContrastText)==null?void 0:ns.call(os,ts.palette.grey[300]),backgroundColor:ts.vars?ts.vars.palette.Button.inheritContainedBg:ss,boxShadow:(ts.vars||ts).shadows[2]},rs.variant==="contained"&&rs.color!=="inherit"&&{color:(ts.vars||ts).palette[rs.color].contrastText,backgroundColor:(ts.vars||ts).palette[rs.color].main},rs.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},rs.size==="small"&&rs.variant==="text"&&{padding:"4px 5px",fontSize:ts.typography.pxToRem(13)},rs.size==="large"&&rs.variant==="text"&&{padding:"8px 11px",fontSize:ts.typography.pxToRem(15)},rs.size==="small"&&rs.variant==="outlined"&&{padding:"3px 9px",fontSize:ts.typography.pxToRem(13)},rs.size==="large"&&rs.variant==="outlined"&&{padding:"7px 21px",fontSize:ts.typography.pxToRem(15)},rs.size==="small"&&rs.variant==="contained"&&{padding:"4px 10px",fontSize:ts.typography.pxToRem(13)},rs.size==="large"&&rs.variant==="contained"&&{padding:"8px 22px",fontSize:ts.typography.pxToRem(15)},rs.fullWidth&&{width:"100%"})},({ownerState:ts})=>ts.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},["&.".concat(buttonClasses$1.focusVisible)]:{boxShadow:"none"},"&:active":{boxShadow:"none"},["&.".concat(buttonClasses$1.disabled)]:{boxShadow:"none"}}),ButtonStartIcon=styled$4("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(ts,rs)=>{const{ownerState:ns}=ts;return[rs.startIcon,rs["iconSize".concat(capitalize$1(ns.size))]]}})(({ownerState:ts})=>_extends$5({display:"inherit",marginRight:8,marginLeft:-4},ts.size==="small"&&{marginLeft:-2},commonIconStyles(ts))),ButtonEndIcon=styled$4("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(ts,rs)=>{const{ownerState:ns}=ts;return[rs.endIcon,rs["iconSize".concat(capitalize$1(ns.size))]]}})(({ownerState:ts})=>_extends$5({display:"inherit",marginRight:-4,marginLeft:8},ts.size==="small"&&{marginRight:-2},commonIconStyles(ts))),Button$1=reactExports.forwardRef(function(rs,ns){const os=reactExports.useContext(ButtonGroupContext$1),ss=reactExports.useContext(ButtonGroupButtonContext$1),as=resolveProps(os,rs),ls=useDefaultProps({props:as,name:"MuiButton"}),{children:cs,color:us="primary",component:ds="button",className:ps,disabled:fs=!1,disableElevation:hs=!1,disableFocusRipple:ms=!1,endIcon:gs,focusVisibleClassName:vs,fullWidth:bs=!1,size:xs="medium",startIcon:ys,type:Ss,variant:Cs="text"}=ls,$s=_objectWithoutPropertiesLoose$1(ls,_excluded$2o),Es=_extends$5({},ls,{color:us,component:ds,disabled:fs,disableElevation:hs,disableFocusRipple:ms,fullWidth:bs,size:xs,type:Ss,variant:Cs}),ws=useUtilityClasses$26(Es),Ts=ys&&jsxRuntimeExports.jsx(ButtonStartIcon,{className:ws.startIcon,ownerState:Es,children:ys}),Is=gs&&jsxRuntimeExports.jsx(ButtonEndIcon,{className:ws.endIcon,ownerState:Es,children:gs}),Rs=ss||"";return jsxRuntimeExports.jsxs(ButtonRoot,_extends$5({ownerState:Es,className:clsx$1(os.className,ws.root,ps,Rs),component:ds,disabled:fs,focusRipple:!ms,focusVisibleClassName:clsx$1(ws.focusVisible,vs),ref:ns,type:Ss},$s,{classes:ws,children:[Ts,cs,Is]}))}),Button$2=Button$1;function getCircularProgressUtilityClass(ts){return generateUtilityClass("MuiCircularProgress",ts)}generateUtilityClasses("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const _excluded$2n=["className","color","disableShrink","size","style","thickness","value","variant"];let _$2=ts=>ts,_t$2,_t2$1,_t3$1,_t4$1;const SIZE=44;var Jp;const circularRotateKeyframe=keyframes(_t$2||(_t$2=_$2(Jp||(Jp=zl(["\n  0% {\n    transform: rotate(0deg);\n  }\n\n  100% {\n    transform: rotate(360deg);\n  }\n"])))));var Xp;const circularDashKeyframe=keyframes(_t2$1||(_t2$1=_$2(Xp||(Xp=zl(["\n  0% {\n    stroke-dasharray: 1px, 200px;\n    stroke-dashoffset: 0;\n  }\n\n  50% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -15px;\n  }\n\n  100% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -125px;\n  }\n"]))))),useUtilityClasses$25=ts=>{const{classes:rs,variant:ns,color:os,disableShrink:ss}=ts,as={root:["root",ns,"color".concat(capitalize$1(os))],svg:["svg"],circle:["circle","circle".concat(capitalize$1(ns)),ss&&"circleDisableShrink"]};return composeClasses(as,getCircularProgressUtilityClass,rs)};var Qp;const CircularProgressRoot=styled$4("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(ts,rs)=>{const{ownerState:ns}=ts;return[rs.root,rs[ns.variant],rs["color".concat(capitalize$1(ns.color))]]}})(({ownerState:ts,theme:rs})=>_extends$5({display:"inline-block"},ts.variant==="determinate"&&{transition:rs.transitions.create("transform")},ts.color!=="inherit"&&{color:(rs.vars||rs).palette[ts.color].main}),({ownerState:ts})=>ts.variant==="indeterminate"&&css$2(_t3$1||(_t3$1=_$2(Qp||(Qp=zl(["\n      animation: "," 1.4s linear infinite;\n    "])),0)),circularRotateKeyframe)),CircularProgressSVG=styled$4("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(ts,rs)=>rs.svg})({display:"block"});var _f;const CircularProgressCircle=styled$4("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(ts,rs)=>{const{ownerState:ns}=ts;return[rs.circle,rs["circle".concat(capitalize$1(ns.variant))],ns.disableShrink&&rs.circleDisableShrink]}})(({ownerState:ts,theme:rs})=>_extends$5({stroke:"currentColor"},ts.variant==="determinate"&&{transition:rs.transitions.create("stroke-dashoffset")},ts.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:ts})=>ts.variant==="indeterminate"&&!ts.disableShrink&&css$2(_t4$1||(_t4$1=_$2(_f||(_f=zl(["\n      animation: "," 1.4s ease-in-out infinite;\n    "])),0)),circularDashKeyframe)),CircularProgress=reactExports.forwardRef(function(rs,ns){const os=useDefaultProps({props:rs,name:"MuiCircularProgress"}),{className:ss,color:as="primary",disableShrink:ls=!1,size:cs=40,style:us,thickness:ds=3.6,value:ps=0,variant:fs="indeterminate"}=os,hs=_objectWithoutPropertiesLoose$1(os,_excluded$2n),ms=_extends$5({},os,{color:as,disableShrink:ls,size:cs,thickness:ds,value:ps,variant:fs}),gs=useUtilityClasses$25(ms),vs={},bs={},xs={};if(fs==="determinate"){const ys=2*Math.PI*((SIZE-ds)/2);vs.strokeDasharray=ys.toFixed(3),xs["aria-valuenow"]=Math.round(ps),vs.strokeDashoffset="".concat(((100-ps)/100*ys).toFixed(3),"px"),bs.transform="rotate(-90deg)"}return jsxRuntimeExports.jsx(CircularProgressRoot,_extends$5({className:clsx$1(gs.root,ss),style:_extends$5({width:cs,height:cs},bs,us),ownerState:ms,ref:ns,role:"progressbar"},xs,hs,{children:jsxRuntimeExports.jsx(CircularProgressSVG,{className:gs.svg,ownerState:ms,viewBox:"".concat(SIZE/2," ").concat(SIZE/2," ").concat(SIZE," ").concat(SIZE),children:jsxRuntimeExports.jsx(CircularProgressCircle,{className:gs.circle,style:vs,ownerState:ms,cx:SIZE,cy:SIZE,r:(SIZE-ds)/2,fill:"none",strokeWidth:ds})})}))}),CircularProgress$1=CircularProgress;function getLoadingButtonUtilityClass(ts){return generateUtilityClass("MuiLoadingButton",ts)}const loadingButtonClasses=generateUtilityClasses("MuiLoadingButton",["root","loading","loadingIndicator","loadingIndicatorCenter","loadingIndicatorStart","loadingIndicatorEnd","endIconLoadingEnd","startIconLoadingStart"]),loadingButtonClasses$1=loadingButtonClasses,_excluded$2m=["children","disabled","id","loading","loadingIndicator","loadingPosition","variant"],useUtilityClasses$24=ts=>{const{loading:rs,loadingPosition:ns,classes:os}=ts,ss={root:["root",rs&&"loading"],startIcon:[rs&&"startIconLoading".concat(capitalize$1(ns))],endIcon:[rs&&"endIconLoading".concat(capitalize$1(ns))],loadingIndicator:["loadingIndicator",rs&&"loadingIndicator".concat(capitalize$1(ns))]},as=composeClasses(ss,getLoadingButtonUtilityClass,os);return _extends$5({},os,as)},rootShouldForwardProp=ts=>ts!=="ownerState"&&ts!=="theme"&&ts!=="sx"&&ts!=="as"&&ts!=="classes",LoadingButtonRoot=styled$4(Button$2,{shouldForwardProp:ts=>rootShouldForwardProp(ts)||ts==="classes",name:"MuiLoadingButton",slot:"Root",overridesResolver:(ts,rs)=>[rs.root,rs.startIconLoadingStart&&{["& .".concat(loadingButtonClasses$1.startIconLoadingStart)]:rs.startIconLoadingStart},rs.endIconLoadingEnd&&{["& .".concat(loadingButtonClasses$1.endIconLoadingEnd)]:rs.endIconLoadingEnd}]})(({ownerState:ts,theme:rs})=>_extends$5({["& .".concat(loadingButtonClasses$1.startIconLoadingStart,", & .").concat(loadingButtonClasses$1.endIconLoadingEnd)]:{transition:rs.transitions.create(["opacity"],{duration:rs.transitions.duration.short}),opacity:0}},ts.loadingPosition==="center"&&{transition:rs.transitions.create(["background-color","box-shadow","border-color"],{duration:rs.transitions.duration.short}),["&.".concat(loadingButtonClasses$1.loading)]:{color:"transparent"}},ts.loadingPosition==="start"&&ts.fullWidth&&{["& .".concat(loadingButtonClasses$1.startIconLoadingStart,", & .").concat(loadingButtonClasses$1.endIconLoadingEnd)]:{transition:rs.transitions.create(["opacity"],{duration:rs.transitions.duration.short}),opacity:0,marginRight:-8}},ts.loadingPosition==="end"&&ts.fullWidth&&{["& .".concat(loadingButtonClasses$1.startIconLoadingStart,", & .").concat(loadingButtonClasses$1.endIconLoadingEnd)]:{transition:rs.transitions.create(["opacity"],{duration:rs.transitions.duration.short}),opacity:0,marginLeft:-8}})),LoadingButtonLoadingIndicator=styled$4("span",{name:"MuiLoadingButton",slot:"LoadingIndicator",overridesResolver:(ts,rs)=>{const{ownerState:ns}=ts;return[rs.loadingIndicator,rs["loadingIndicator".concat(capitalize$1(ns.loadingPosition))]]}})(({theme:ts,ownerState:rs})=>_extends$5({position:"absolute",visibility:"visible",display:"flex"},rs.loadingPosition==="start"&&(rs.variant==="outlined"||rs.variant==="contained")&&{left:rs.size==="small"?10:14},rs.loadingPosition==="start"&&rs.variant==="text"&&{left:6},rs.loadingPosition==="center"&&{left:"50%",transform:"translate(-50%)",color:(ts.vars||ts).palette.action.disabled},rs.loadingPosition==="end"&&(rs.variant==="outlined"||rs.variant==="contained")&&{right:rs.size==="small"?10:14},rs.loadingPosition==="end"&&rs.variant==="text"&&{right:6},rs.loadingPosition==="start"&&rs.fullWidth&&{position:"relative",left:-10},rs.loadingPosition==="end"&&rs.fullWidth&&{position:"relative",right:-10})),LoadingButton=reactExports.forwardRef(function(rs,ns){const os=reactExports.useContext(ButtonGroupContext$1),ss=resolveProps(os,rs),as=useDefaultProps({props:ss,name:"MuiLoadingButton"}),{children:ls,disabled:cs=!1,id:us,loading:ds=!1,loadingIndicator:ps,loadingPosition:fs="center",variant:hs="text"}=as,ms=_objectWithoutPropertiesLoose$1(as,_excluded$2m),gs=useId(us),vs=ps!=null?ps:jsxRuntimeExports.jsx(CircularProgress$1,{"aria-labelledby":gs,color:"inherit",size:16}),bs=_extends$5({},as,{disabled:cs,loading:ds,loadingIndicator:vs,loadingPosition:fs,variant:hs}),xs=useUtilityClasses$24(bs),ys=ds?jsxRuntimeExports.jsx(LoadingButtonLoadingIndicator,{className:xs.loadingIndicator,ownerState:bs,children:vs}):null;return jsxRuntimeExports.jsxs(LoadingButtonRoot,_extends$5({disabled:cs||ds,id:gs,ref:ns},ms,{variant:hs,classes:xs,ownerState:bs,children:[bs.loadingPosition==="end"?ls:ys,bs.loadingPosition==="end"?ys:ls]}))}),LoadingButton$1=LoadingButton,FirstPageIconDefault=createSvgIcon$1(jsxRuntimeExports.jsx("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"}),"FirstPage"),LastPageIconDefault=createSvgIcon$1(jsxRuntimeExports.jsx("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}),"LastPage");function getSkeletonUtilityClass(ts){return generateUtilityClass("MuiSkeleton",ts)}generateUtilityClasses("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);const _excluded$2l=["animation","className","component","height","style","variant","width"];let _$1=ts=>ts,_t$1,_t2,_t3,_t4;const useUtilityClasses$23=ts=>{const{classes:rs,variant:ns,animation:os,hasChildren:ss,width:as,height:ls}=ts;return composeClasses({root:["root",ns,os,ss&&"withChildren",ss&&!as&&"fitContent",ss&&!ls&&"heightAuto"]},getSkeletonUtilityClass,rs)};var _h;const pulseKeyframe=keyframes(_t$1||(_t$1=_$1(_h||(_h=zl(["\n  0% {\n    opacity: 1;\n  }\n\n  50% {\n    opacity: 0.4;\n  }\n\n  100% {\n    opacity: 1;\n  }\n"])))));var em;const waveKeyframe=keyframes(_t2||(_t2=_$1(em||(em=zl(["\n  0% {\n    transform: translateX(-100%);\n  }\n\n  50% {\n    /* +0.5s of delay between each loop */\n    transform: translateX(100%);\n  }\n\n  100% {\n    transform: translateX(100%);\n  }\n"])))));var tm,rm;const SkeletonRoot=styled$4("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(ts,rs)=>{const{ownerState:ns}=ts;return[rs.root,rs[ns.variant],ns.animation!==!1&&rs[ns.animation],ns.hasChildren&&rs.withChildren,ns.hasChildren&&!ns.width&&rs.fitContent,ns.hasChildren&&!ns.height&&rs.heightAuto]}})(({theme:ts,ownerState:rs})=>{const ns=getUnit(ts.shape.borderRadius)||"px",os=toUnitless(ts.shape.borderRadius);return _extends$5({display:"block",backgroundColor:ts.vars?ts.vars.palette.Skeleton.bg:alpha(ts.palette.text.primary,ts.palette.mode==="light"?.11:.13),height:"1.2em"},rs.variant==="text"&&{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:"".concat(os).concat(ns,"/").concat(Math.round(os/.6*10)/10).concat(ns),"&:empty:before":{content:'"\\00a0"'}},rs.variant==="circular"&&{borderRadius:"50%"},rs.variant==="rounded"&&{borderRadius:(ts.vars||ts).shape.borderRadius},rs.hasChildren&&{"& > *":{visibility:"hidden"}},rs.hasChildren&&!rs.width&&{maxWidth:"fit-content"},rs.hasChildren&&!rs.height&&{height:"auto"})},({ownerState:ts})=>ts.animation==="pulse"&&css$2(_t3||(_t3=_$1(tm||(tm=zl(["\n      animation: "," 2s ease-in-out 0.5s infinite;\n    "])),0)),pulseKeyframe),({ownerState:ts,theme:rs})=>ts.animation==="wave"&&css$2(_t4||(_t4=_$1(rm||(rm=zl(["\n      position: relative;\n      overflow: hidden;\n\n      /* Fix bug in Safari https://bugs.webkit.org/show_bug.cgi?id=68196 */\n      -webkit-mask-image: -webkit-radial-gradient(white, black);\n\n      &::after {\n        animation: "," 2s linear 0.5s infinite;\n        background: linear-gradient(\n          90deg,\n          transparent,\n          ",",\n          transparent\n        );\n        content: '';\n        position: absolute;\n        transform: translateX(-100%); /* Avoid flash during server-side hydration */\n        bottom: 0;\n        left: 0;\n        right: 0;\n        top: 0;\n      }\n    "])),0,0)),waveKeyframe,(rs.vars||rs).palette.action.hover)),Skeleton=reactExports.forwardRef(function(rs,ns){const os=useDefaultProps({props:rs,name:"MuiSkeleton"}),{animation:ss="pulse",className:as,component:ls="span",height:cs,style:us,variant:ds="text",width:ps}=os,fs=_objectWithoutPropertiesLoose$1(os,_excluded$2l),hs=_extends$5({},os,{animation:ss,component:ls,variant:ds,hasChildren:!!fs.children}),ms=useUtilityClasses$23(hs);return jsxRuntimeExports.jsx(SkeletonRoot,_extends$5({as:ls,ref:ns,className:clsx$1(ms.root,as),ownerState:hs},fs,{style:_extends$5({width:ps,height:cs},us)}))}),Skeleton$1=Skeleton,reflow=ts=>ts.scrollTop;function getTransitionProps(ts,rs){var ns,os;const{timeout:ss,easing:as,style:ls={}}=ts;return{duration:(ns=ls.transitionDuration)!=null?ns:typeof ss=="number"?ss:ss[rs.mode]||0,easing:(os=ls.transitionTimingFunction)!=null?os:typeof as=="object"?as[rs.mode]:as,delay:ls.transitionDelay}}const _excluded$2k=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function getScale(ts){return"scale(".concat(ts,", ").concat(ts**2,")")}const styles$3={entering:{opacity:1,transform:getScale(1)},entered:{opacity:1,transform:"none"}},isWebKit154=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),Grow=reactExports.forwardRef(function(rs,ns){const{addEndListener:os,appear:ss=!0,children:as,easing:ls,in:cs,onEnter:us,onEntered:ds,onEntering:ps,onExit:fs,onExited:hs,onExiting:ms,style:gs,timeout:vs="auto",TransitionComponent:bs=Transition$1}=rs,xs=_objectWithoutPropertiesLoose$1(rs,_excluded$2k),ys=useTimeout$1(),Ss=reactExports.useRef(),Cs=useTheme$1(),$s=reactExports.useRef(null),Es=useForkRef($s,as.ref,ns),ws=Ds=>Fs=>{if(Ds){const js=$s.current;Fs===void 0?Ds(js):Ds(js,Fs)}},Ts=ws(ps),Is=ws((Ds,Fs)=>{reflow(Ds);const{duration:js,delay:Ps,easing:Ls}=getTransitionProps({style:gs,timeout:vs,easing:ls},{mode:"enter"});let Ns;vs==="auto"?(Ns=Cs.transitions.getAutoHeightDuration(Ds.clientHeight),Ss.current=Ns):Ns=js,Ds.style.transition=[Cs.transitions.create("opacity",{duration:Ns,delay:Ps}),Cs.transitions.create("transform",{duration:isWebKit154?Ns:Ns*.666,delay:Ps,easing:Ls})].join(","),us&&us(Ds,Fs)}),Rs=ws(ds),As=ws(ms),ks=ws(Ds=>{const{duration:Fs,delay:js,easing:Ps}=getTransitionProps({style:gs,timeout:vs,easing:ls},{mode:"exit"});let Ls;vs==="auto"?(Ls=Cs.transitions.getAutoHeightDuration(Ds.clientHeight),Ss.current=Ls):Ls=Fs,Ds.style.transition=[Cs.transitions.create("opacity",{duration:Ls,delay:js}),Cs.transitions.create("transform",{duration:isWebKit154?Ls:Ls*.666,delay:isWebKit154?js:js||Ls*.333,easing:Ps})].join(","),Ds.style.opacity=0,Ds.style.transform=getScale(.75),fs&&fs(Ds)}),Ms=ws(hs),Os=Ds=>{vs==="auto"&&ys.start(Ss.current||0,Ds),os&&os($s.current,Ds)};return jsxRuntimeExports.jsx(bs,_extends$5({appear:ss,in:cs,nodeRef:$s,onEnter:Is,onEntered:Rs,onEntering:Ts,onExit:ks,onExited:Ms,onExiting:As,addEndListener:Os,timeout:vs==="auto"?null:vs},xs,{children:(Ds,Fs)=>reactExports.cloneElement(as,_extends$5({style:_extends$5({opacity:0,transform:getScale(.75),visibility:Ds==="exited"&&!cs?"hidden":void 0},styles$3[Ds],gs,as.props.style),ref:Es},Fs))}))});Grow.muiSupportAuto=!0;const Grow$1=Grow;function getTooltipUtilityClass(ts){return generateUtilityClass("MuiTooltip",ts)}const tooltipClasses=generateUtilityClasses("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),tooltipClasses$1=tooltipClasses,_excluded$2j=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];function round$1(ts){return Math.round(ts*1e5)/1e5}const useUtilityClasses$22=ts=>{const{classes:rs,disableInteractive:ns,arrow:os,touch:ss,placement:as}=ts,ls={popper:["popper",!ns&&"popperInteractive",os&&"popperArrow"],tooltip:["tooltip",os&&"tooltipArrow",ss&&"touch","tooltipPlacement".concat(capitalize$1(as.split("-")[0]))],arrow:["arrow"]};return composeClasses(ls,getTooltipUtilityClass,rs)},TooltipPopper=styled$4(Popper$2,{name:"MuiTooltip",slot:"Popper",overridesResolver:(ts,rs)=>{const{ownerState:ns}=ts;return[rs.popper,!ns.disableInteractive&&rs.popperInteractive,ns.arrow&&rs.popperArrow,!ns.open&&rs.popperClose]}})(({theme:ts,ownerState:rs,open:ns})=>_extends$5({zIndex:(ts.vars||ts).zIndex.tooltip,pointerEvents:"none"},!rs.disableInteractive&&{pointerEvents:"auto"},!ns&&{pointerEvents:"none"},rs.arrow&&{['&[data-popper-placement*="bottom"] .'.concat(tooltipClasses$1.arrow)]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},['&[data-popper-placement*="top"] .'.concat(tooltipClasses$1.arrow)]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},['&[data-popper-placement*="right"] .'.concat(tooltipClasses$1.arrow)]:_extends$5({},rs.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),['&[data-popper-placement*="left"] .'.concat(tooltipClasses$1.arrow)]:_extends$5({},rs.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})),TooltipTooltip=styled$4("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(ts,rs)=>{const{ownerState:ns}=ts;return[rs.tooltip,ns.touch&&rs.touch,ns.arrow&&rs.tooltipArrow,rs["tooltipPlacement".concat(capitalize$1(ns.placement.split("-")[0]))]]}})(({theme:ts,ownerState:rs})=>_extends$5({backgroundColor:ts.vars?ts.vars.palette.Tooltip.bg:alpha_1(ts.palette.grey[700],.92),borderRadius:(ts.vars||ts).shape.borderRadius,color:(ts.vars||ts).palette.common.white,fontFamily:ts.typography.fontFamily,padding:"4px 8px",fontSize:ts.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:ts.typography.fontWeightMedium},rs.arrow&&{position:"relative",margin:0},rs.touch&&{padding:"8px 16px",fontSize:ts.typography.pxToRem(14),lineHeight:"".concat(round$1(16/14),"em"),fontWeight:ts.typography.fontWeightRegular},{[".".concat(tooltipClasses$1.popper,'[data-popper-placement*="left"] &')]:_extends$5({transformOrigin:"right center"},rs.isRtl?_extends$5({marginLeft:"14px"},rs.touch&&{marginLeft:"24px"}):_extends$5({marginRight:"14px"},rs.touch&&{marginRight:"24px"})),[".".concat(tooltipClasses$1.popper,'[data-popper-placement*="right"] &')]:_extends$5({transformOrigin:"left center"},rs.isRtl?_extends$5({marginRight:"14px"},rs.touch&&{marginRight:"24px"}):_extends$5({marginLeft:"14px"},rs.touch&&{marginLeft:"24px"})),[".".concat(tooltipClasses$1.popper,'[data-popper-placement*="top"] &')]:_extends$5({transformOrigin:"center bottom",marginBottom:"14px"},rs.touch&&{marginBottom:"24px"}),[".".concat(tooltipClasses$1.popper,'[data-popper-placement*="bottom"] &')]:_extends$5({transformOrigin:"center top",marginTop:"14px"},rs.touch&&{marginTop:"24px"})})),TooltipArrow=styled$4("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(ts,rs)=>rs.arrow})(({theme:ts})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:ts.vars?ts.vars.palette.Tooltip.bg:alpha_1(ts.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}));let hystersisOpen=!1;const hystersisTimer=new Timeout$1;let cursorPosition={x:0,y:0};function composeEventHandler(ts,rs){return(ns,...os)=>{rs&&rs(ns,...os),ts(ns,...os)}}const Tooltip=reactExports.forwardRef(function(rs,ns){var os,ss,as,ls,cs,us,ds,ps,fs,hs,ms,gs,vs,bs,xs,ys,Ss,Cs,$s;const Es=useDefaultProps({props:rs,name:"MuiTooltip"}),{arrow:ws=!1,children:Ts,components:Is={},componentsProps:Rs={},describeChild:As=!1,disableFocusListener:ks=!1,disableHoverListener:Ms=!1,disableInteractive:Os=!1,disableTouchListener:Ds=!1,enterDelay:Fs=100,enterNextDelay:js=0,enterTouchDelay:Ps=700,followCursor:Ls=!1,id:Ns,leaveDelay:Gs=0,leaveTouchDelay:Us=1500,onClose:Hs,onOpen:zs,open:qs,placement:Vs="bottom",PopperComponent:Ks,PopperProps:Ws={},slotProps:Pl={},slots:Tl={},title:El,TransitionComponent:$l=Grow$1,TransitionProps:Sl}=Es,Ml=_objectWithoutPropertiesLoose$1(Es,_excluded$2j),wl=reactExports.isValidElement(Ts)?Ts:jsxRuntimeExports.jsx("span",{children:Ts}),Rl=useTheme$1(),yl=useRtl(),[Bs,Zs]=reactExports.useState(),[Ys,_l]=reactExports.useState(null),Cl=reactExports.useRef(!1),Xs=Os||Ls,xl=useTimeout$1(),$a=useTimeout$1(),Dl=useTimeout$1(),Ol=useTimeout$1(),[Ll,Vl]=useControlled({controlled:qs,default:!1,name:"Tooltip",state:"open"});let Xl=Ll;const Ql=useId(Ns),Kl=reactExports.useRef(),Gl=useEventCallback(()=>{Kl.current!==void 0&&(document.body.style.WebkitUserSelect=Kl.current,Kl.current=void 0),Ol.clear()});reactExports.useEffect(()=>Gl,[Gl]);const nu=ou=>{hystersisTimer.clear(),hystersisOpen=!0,Vl(!0),zs&&!Xl&&zs(ou)},Bl=useEventCallback(ou=>{hystersisTimer.start(800+Gs,()=>{hystersisOpen=!1}),Vl(!1),Hs&&Xl&&Hs(ou),xl.start(Rl.transitions.duration.shortest,()=>{Cl.current=!1})}),Hl=ou=>{Cl.current&&ou.type!=="touchstart"||(Bs&&Bs.removeAttribute("title"),$a.clear(),Dl.clear(),Fs||hystersisOpen&&js?$a.start(hystersisOpen?js:Fs,()=>{nu(ou)}):nu(ou))},Qs=ou=>{$a.clear(),Dl.start(Gs,()=>{Bl(ou)})},{isFocusVisibleRef:Al,onBlur:Nl,onFocus:eu,ref:Jl}=useIsFocusVisible(),[,Zl]=reactExports.useState(!1),tu=ou=>{Nl(ou),Al.current===!1&&(Zl(!1),Qs(ou))},au=ou=>{Bs||Zs(ou.currentTarget),eu(ou),Al.current===!0&&(Zl(!0),Hl(ou))},du=ou=>{Cl.current=!0;const cu=wl.props;cu.onTouchStart&&cu.onTouchStart(ou)},lu=ou=>{du(ou),Dl.clear(),xl.clear(),Gl(),Kl.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",Ol.start(Ps,()=>{document.body.style.WebkitUserSelect=Kl.current,Hl(ou)})},fu=ou=>{wl.props.onTouchEnd&&wl.props.onTouchEnd(ou),Gl(),Dl.start(Us,()=>{Bl(ou)})};reactExports.useEffect(()=>{if(!Xl)return;function ou(cu){(cu.key==="Escape"||cu.key==="Esc")&&Bl(cu)}return document.addEventListener("keydown",ou),()=>{document.removeEventListener("keydown",ou)}},[Bl,Xl]);const _u=useForkRef(wl.ref,Jl,Zs,ns);!El&&El!==0&&(Xl=!1);const $u=reactExports.useRef(),mu=ou=>{const cu=wl.props;cu.onMouseMove&&cu.onMouseMove(ou),cursorPosition={x:ou.clientX,y:ou.clientY},$u.current&&$u.current.update()},pu={},vu=typeof El=="string";As?(pu.title=!Xl&&vu&&!Ms?El:null,pu["aria-describedby"]=Xl?Ql:null):(pu["aria-label"]=vu?El:null,pu["aria-labelledby"]=Xl&&!vu?Ql:null);const Su=_extends$5({},pu,Ml,wl.props,{className:clsx$1(Ml.className,wl.props.className),onTouchStart:du,ref:_u},Ls?{onMouseMove:mu}:{}),Tu={};Ds||(Su.onTouchStart=lu,Su.onTouchEnd=fu),Ms||(Su.onMouseOver=composeEventHandler(Hl,Su.onMouseOver),Su.onMouseLeave=composeEventHandler(Qs,Su.onMouseLeave),Xs||(Tu.onMouseOver=Hl,Tu.onMouseLeave=Qs)),ks||(Su.onFocus=composeEventHandler(au,Su.onFocus),Su.onBlur=composeEventHandler(tu,Su.onBlur),Xs||(Tu.onFocus=au,Tu.onBlur=tu));const Ru=reactExports.useMemo(()=>{var ou;let cu=[{name:"arrow",enabled:!!Ys,options:{element:Ys,padding:4}}];return(ou=Ws.popperOptions)!=null&&ou.modifiers&&(cu=cu.concat(Ws.popperOptions.modifiers)),_extends$5({},Ws.popperOptions,{modifiers:cu})},[Ys,Ws]),yu=_extends$5({},Es,{isRtl:yl,arrow:ws,disableInteractive:Xs,placement:Vs,PopperComponentProp:Ks,touch:Cl.current}),Ou=useUtilityClasses$22(yu),ju=(os=(ss=Tl.popper)!=null?ss:Is.Popper)!=null?os:TooltipPopper,Pu=(as=(ls=(cs=Tl.transition)!=null?cs:Is.Transition)!=null?ls:$l)!=null?as:Grow$1,Mu=(us=(ds=Tl.tooltip)!=null?ds:Is.Tooltip)!=null?us:TooltipTooltip,Ul=(ps=(fs=Tl.arrow)!=null?fs:Is.Arrow)!=null?ps:TooltipArrow,Fl=appendOwnerState(ju,_extends$5({},Ws,(hs=Pl.popper)!=null?hs:Rs.popper,{className:clsx$1(Ou.popper,Ws==null?void 0:Ws.className,(ms=(gs=Pl.popper)!=null?gs:Rs.popper)==null?void 0:ms.className)}),yu),ru=appendOwnerState(Pu,_extends$5({},Sl,(vs=Pl.transition)!=null?vs:Rs.transition),yu),Yl=appendOwnerState(Mu,_extends$5({},(bs=Pl.tooltip)!=null?bs:Rs.tooltip,{className:clsx$1(Ou.tooltip,(xs=(ys=Pl.tooltip)!=null?ys:Rs.tooltip)==null?void 0:xs.className)}),yu),su=appendOwnerState(Ul,_extends$5({},(Ss=Pl.arrow)!=null?Ss:Rs.arrow,{className:clsx$1(Ou.arrow,(Cs=($s=Pl.arrow)!=null?$s:Rs.arrow)==null?void 0:Cs.className)}),yu);return jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[reactExports.cloneElement(wl,Su),jsxRuntimeExports.jsx(ju,_extends$5({as:Ks!=null?Ks:Popper$2,placement:Vs,anchorEl:Ls?{getBoundingClientRect:()=>({top:cursorPosition.y,left:cursorPosition.x,right:cursorPosition.x,bottom:cursorPosition.y,width:0,height:0})}:Bs,popperRef:$u,open:Bs?Xl:!1,id:Ql,transition:!0},Tu,Fl,{popperOptions:Ru,children:({TransitionProps:ou})=>jsxRuntimeExports.jsx(Pu,_extends$5({timeout:Rl.transitions.duration.shorter},ou,ru,{children:jsxRuntimeExports.jsxs(Mu,_extends$5({},Yl,{children:[El,ws?jsxRuntimeExports.jsx(Ul,_extends$5({},su,{ref:_l})):null]}))}))}))]})}),Tooltip$1=Tooltip,Context$5=reactExports.createContext(null);function useUniquePrefix(){const[ts,rs]=reactExports.useState(null);return reactExports.useEffect(()=>{rs("mui-p-".concat(Math.round(Math.random()*1e5)))},[]),ts}function TabContext(ts){const{children:rs,value:ns}=ts,os=useUniquePrefix(),ss=reactExports.useMemo(()=>({idPrefix:os,value:ns}),[os,ns]);return jsxRuntimeExports.jsx(Context$5.Provider,{value:ss,children:rs})}function useTabContext(){return reactExports.useContext(Context$5)}function getPanelId(ts,rs){const{idPrefix:ns}=ts;return ns===null?null:"".concat(ts.idPrefix,"-P-").concat(rs)}function getTabId(ts,rs){const{idPrefix:ns}=ts;return ns===null?null:"".concat(ts.idPrefix,"-T-").concat(rs)}function easeInOutSin(ts){return(1+Math.sin(Math.PI*ts-Math.PI/2))/2}function animate(ts,rs,ns,os={},ss=()=>{}){const{ease:as=easeInOutSin,duration:ls=300}=os;let cs=null;const us=rs[ts];let ds=!1;const ps=()=>{ds=!0},fs=hs=>{if(ds){ss(new Error("Animation cancelled"));return}cs===null&&(cs=hs);const ms=Math.min(1,(hs-cs)/ls);if(rs[ts]=as(ms)*(ns-us)+us,ms>=1){requestAnimationFrame(()=>{ss(null)});return}requestAnimationFrame(fs)};return us===ns?(ss(new Error("Element already at target position")),ps):(requestAnimationFrame(fs),ps)}const _excluded$2i=["onChange"],styles$2={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function ScrollbarSize(ts){const{onChange:rs}=ts,ns=_objectWithoutPropertiesLoose$1(ts,_excluded$2i),os=reactExports.useRef(),ss=reactExports.useRef(null),as=()=>{os.current=ss.current.offsetHeight-ss.current.clientHeight};return useEnhancedEffect$1(()=>{const ls=debounce$2(()=>{const us=os.current;as(),us!==os.current&&rs(os.current)}),cs=ownerWindow(ss.current);return cs.addEventListener("resize",ls),()=>{ls.clear(),cs.removeEventListener("resize",ls)}},[rs]),reactExports.useEffect(()=>{as(),rs(os.current)},[rs]),jsxRuntimeExports.jsx("div",_extends$5({style:styles$2,ref:ss},ns))}const KeyboardArrowLeft=createSvgIcon$1(jsxRuntimeExports.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),KeyboardArrowRight=createSvgIcon$1(jsxRuntimeExports.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight");function getTabScrollButtonUtilityClass(ts){return generateUtilityClass("MuiTabScrollButton",ts)}const tabScrollButtonClasses=generateUtilityClasses("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),tabScrollButtonClasses$1=tabScrollButtonClasses,_excluded$2h=["className","slots","slotProps","direction","orientation","disabled"],useUtilityClasses$21=ts=>{const{classes:rs,orientation:ns,disabled:os}=ts;return composeClasses({root:["root",ns,os&&"disabled"]},getTabScrollButtonUtilityClass,rs)},TabScrollButtonRoot=styled$4(ButtonBase$1,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(ts,rs)=>{const{ownerState:ns}=ts;return[rs.root,ns.orientation&&rs[ns.orientation]]}})(({ownerState:ts})=>_extends$5({width:40,flexShrink:0,opacity:.8,["&.".concat(tabScrollButtonClasses$1.disabled)]:{opacity:0}},ts.orientation==="vertical"&&{width:"100%",height:40,"& svg":{transform:"rotate(".concat(ts.isRtl?-90:90,"deg)")}})),TabScrollButton=reactExports.forwardRef(function(rs,ns){var os,ss;const as=useDefaultProps({props:rs,name:"MuiTabScrollButton"}),{className:ls,slots:cs={},slotProps:us={},direction:ds}=as,ps=_objectWithoutPropertiesLoose$1(as,_excluded$2h),fs=useRtl(),hs=_extends$5({isRtl:fs},as),ms=useUtilityClasses$21(hs),gs=(os=cs.StartScrollButtonIcon)!=null?os:KeyboardArrowLeft,vs=(ss=cs.EndScrollButtonIcon)!=null?ss:KeyboardArrowRight,bs=useSlotProps({elementType:gs,externalSlotProps:us.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:hs}),xs=useSlotProps({elementType:vs,externalSlotProps:us.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:hs});return jsxRuntimeExports.jsx(TabScrollButtonRoot,_extends$5({component:"div",className:clsx$1(ms.root,ls),ref:ns,role:null,ownerState:hs,tabIndex:null},ps,{children:ds==="left"?jsxRuntimeExports.jsx(gs,_extends$5({},bs)):jsxRuntimeExports.jsx(vs,_extends$5({},xs))}))}),TabScrollButton$1=TabScrollButton;function getTabsUtilityClass(ts){return generateUtilityClass("MuiTabs",ts)}const tabsClasses=generateUtilityClasses("MuiTabs",["root","vertical","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),tabsClasses$1=tabsClasses,_excluded$2g=["aria-label","aria-labelledby","action","centered","children","className","component","allowScrollButtonsMobile","indicatorColor","onChange","orientation","ScrollButtonComponent","scrollButtons","selectionFollowsFocus","slots","slotProps","TabIndicatorProps","TabScrollButtonProps","textColor","value","variant","visibleScrollbar"],nextItem$1=(ts,rs)=>ts===rs?ts.firstChild:rs&&rs.nextElementSibling?rs.nextElementSibling:ts.firstChild,previousItem$1=(ts,rs)=>ts===rs?ts.lastChild:rs&&rs.previousElementSibling?rs.previousElementSibling:ts.lastChild,moveFocus$1=(ts,rs,ns)=>{let os=!1,ss=ns(ts,rs);for(;ss;){if(ss===ts.firstChild){if(os)return;os=!0}const as=ss.disabled||ss.getAttribute("aria-disabled")==="true";if(!ss.hasAttribute("tabindex")||as)ss=ns(ts,ss);else{ss.focus();return}}},useUtilityClasses$20=ts=>{const{vertical:rs,fixed:ns,hideScrollbar:os,scrollableX:ss,scrollableY:as,centered:ls,scrollButtonsHideMobile:cs,classes:us}=ts;return composeClasses({root:["root",rs&&"vertical"],scroller:["scroller",ns&&"fixed",os&&"hideScrollbar",ss&&"scrollableX",as&&"scrollableY"],flexContainer:["flexContainer",rs&&"flexContainerVertical",ls&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",cs&&"scrollButtonsHideMobile"],scrollableX:[ss&&"scrollableX"],hideScrollbar:[os&&"hideScrollbar"]},getTabsUtilityClass,us)},TabsRoot=styled$4("div",{name:"MuiTabs",slot:"Root",overridesResolver:(ts,rs)=>{const{ownerState:ns}=ts;return[{["& .".concat(tabsClasses$1.scrollButtons)]:rs.scrollButtons},{["& .".concat(tabsClasses$1.scrollButtons)]:ns.scrollButtonsHideMobile&&rs.scrollButtonsHideMobile},rs.root,ns.vertical&&rs.vertical]}})(({ownerState:ts,theme:rs})=>_extends$5({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex"},ts.vertical&&{flexDirection:"column"},ts.scrollButtonsHideMobile&&{["& .".concat(tabsClasses$1.scrollButtons)]:{[rs.breakpoints.down("sm")]:{display:"none"}}})),TabsScroller=styled$4("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(ts,rs)=>{const{ownerState:ns}=ts;return[rs.scroller,ns.fixed&&rs.fixed,ns.hideScrollbar&&rs.hideScrollbar,ns.scrollableX&&rs.scrollableX,ns.scrollableY&&rs.scrollableY]}})(({ownerState:ts})=>_extends$5({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap"},ts.fixed&&{overflowX:"hidden",width:"100%"},ts.hideScrollbar&&{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},ts.scrollableX&&{overflowX:"auto",overflowY:"hidden"},ts.scrollableY&&{overflowY:"auto",overflowX:"hidden"})),FlexContainer=styled$4("div",{name:"MuiTabs",slot:"FlexContainer",overridesResolver:(ts,rs)=>{const{ownerState:ns}=ts;return[rs.flexContainer,ns.vertical&&rs.flexContainerVertical,ns.centered&&rs.centered]}})(({ownerState:ts})=>_extends$5({display:"flex"},ts.vertical&&{flexDirection:"column"},ts.centered&&{justifyContent:"center"})),TabsIndicator=styled$4("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(ts,rs)=>rs.indicator})(({ownerState:ts,theme:rs})=>_extends$5({position:"absolute",height:2,bottom:0,width:"100%",transition:rs.transitions.create()},ts.indicatorColor==="primary"&&{backgroundColor:(rs.vars||rs).palette.primary.main},ts.indicatorColor==="secondary"&&{backgroundColor:(rs.vars||rs).palette.secondary.main},ts.vertical&&{height:"100%",width:2,right:0})),TabsScrollbarSize=styled$4(ScrollbarSize)({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),defaultIndicatorStyle={},Tabs=reactExports.forwardRef(function(rs,ns){const os=useDefaultProps({props:rs,name:"MuiTabs"}),ss=useTheme$1(),as=useRtl(),{"aria-label":ls,"aria-labelledby":cs,action:us,centered:ds=!1,children:ps,className:fs,component:hs="div",allowScrollButtonsMobile:ms=!1,indicatorColor:gs="primary",onChange:vs,orientation:bs="horizontal",ScrollButtonComponent:xs=TabScrollButton$1,scrollButtons:ys="auto",selectionFollowsFocus:Ss,slots:Cs={},slotProps:$s={},TabIndicatorProps:Es={},TabScrollButtonProps:ws={},textColor:Ts="primary",value:Is,variant:Rs="standard",visibleScrollbar:As=!1}=os,ks=_objectWithoutPropertiesLoose$1(os,_excluded$2g),Ms=Rs==="scrollable",Os=bs==="vertical",Ds=Os?"scrollTop":"scrollLeft",Fs=Os?"top":"left",js=Os?"bottom":"right",Ps=Os?"clientHeight":"clientWidth",Ls=Os?"height":"width",Ns=_extends$5({},os,{component:hs,allowScrollButtonsMobile:ms,indicatorColor:gs,orientation:bs,vertical:Os,scrollButtons:ys,textColor:Ts,variant:Rs,visibleScrollbar:As,fixed:!Ms,hideScrollbar:Ms&&!As,scrollableX:Ms&&!Os,scrollableY:Ms&&Os,centered:ds&&!Ms,scrollButtonsHideMobile:!ms}),Gs=useUtilityClasses$20(Ns),Us=useSlotProps({elementType:Cs.StartScrollButtonIcon,externalSlotProps:$s.startScrollButtonIcon,ownerState:Ns}),Hs=useSlotProps({elementType:Cs.EndScrollButtonIcon,externalSlotProps:$s.endScrollButtonIcon,ownerState:Ns}),[zs,qs]=reactExports.useState(!1),[Vs,Ks]=reactExports.useState(defaultIndicatorStyle),[Ws,Pl]=reactExports.useState(!1),[Tl,El]=reactExports.useState(!1),[$l,Sl]=reactExports.useState(!1),[Ml,wl]=reactExports.useState({overflow:"hidden",scrollbarWidth:0}),Rl=new Map,yl=reactExports.useRef(null),Bs=reactExports.useRef(null),Zs=()=>{const Bl=yl.current;let Hl;if(Bl){const Al=Bl.getBoundingClientRect();Hl={clientWidth:Bl.clientWidth,scrollLeft:Bl.scrollLeft,scrollTop:Bl.scrollTop,scrollLeftNormalized:getNormalizedScrollLeft(Bl,as?"rtl":"ltr"),scrollWidth:Bl.scrollWidth,top:Al.top,bottom:Al.bottom,left:Al.left,right:Al.right}}let Qs;if(Bl&&Is!==!1){const Al=Bs.current.children;if(Al.length>0){const Nl=Al[Rl.get(Is)];Qs=Nl?Nl.getBoundingClientRect():null}}return{tabsMeta:Hl,tabMeta:Qs}},Ys=useEventCallback(()=>{const{tabsMeta:Bl,tabMeta:Hl}=Zs();let Qs=0,Al;if(Os)Al="top",Hl&&Bl&&(Qs=Hl.top-Bl.top+Bl.scrollTop);else if(Al=as?"right":"left",Hl&&Bl){const eu=as?Bl.scrollLeftNormalized+Bl.clientWidth-Bl.scrollWidth:Bl.scrollLeft;Qs=(as?-1:1)*(Hl[Al]-Bl[Al]+eu)}const Nl={[Al]:Qs,[Ls]:Hl?Hl[Ls]:0};if(isNaN(Vs[Al])||isNaN(Vs[Ls]))Ks(Nl);else{const eu=Math.abs(Vs[Al]-Nl[Al]),Jl=Math.abs(Vs[Ls]-Nl[Ls]);(eu>=1||Jl>=1)&&Ks(Nl)}}),_l=(Bl,{animation:Hl=!0}={})=>{Hl?animate(Ds,yl.current,Bl,{duration:ss.transitions.duration.standard}):yl.current[Ds]=Bl},Cl=Bl=>{let Hl=yl.current[Ds];Os?Hl+=Bl:(Hl+=Bl*(as?-1:1),Hl*=as&&detectScrollType()==="reverse"?-1:1),_l(Hl)},Xs=()=>{const Bl=yl.current[Ps];let Hl=0;const Qs=Array.from(Bs.current.children);for(let Al=0;Al<Qs.length;Al+=1){const Nl=Qs[Al];if(Hl+Nl[Ps]>Bl){Al===0&&(Hl=Bl);break}Hl+=Nl[Ps]}return Hl},xl=()=>{Cl(-1*Xs())},$a=()=>{Cl(Xs())},Dl=reactExports.useCallback(Bl=>{wl({overflow:null,scrollbarWidth:Bl})},[]),Ol=()=>{const Bl={};Bl.scrollbarSizeListener=Ms?jsxRuntimeExports.jsx(TabsScrollbarSize,{onChange:Dl,className:clsx$1(Gs.scrollableX,Gs.hideScrollbar)}):null;const Qs=Ms&&(ys==="auto"&&(Ws||Tl)||ys===!0);return Bl.scrollButtonStart=Qs?jsxRuntimeExports.jsx(xs,_extends$5({slots:{StartScrollButtonIcon:Cs.StartScrollButtonIcon},slotProps:{startScrollButtonIcon:Us},orientation:bs,direction:as?"right":"left",onClick:xl,disabled:!Ws},ws,{className:clsx$1(Gs.scrollButtons,ws.className)})):null,Bl.scrollButtonEnd=Qs?jsxRuntimeExports.jsx(xs,_extends$5({slots:{EndScrollButtonIcon:Cs.EndScrollButtonIcon},slotProps:{endScrollButtonIcon:Hs},orientation:bs,direction:as?"left":"right",onClick:$a,disabled:!Tl},ws,{className:clsx$1(Gs.scrollButtons,ws.className)})):null,Bl},Ll=useEventCallback(Bl=>{const{tabsMeta:Hl,tabMeta:Qs}=Zs();if(!(!Qs||!Hl)){if(Qs[Fs]<Hl[Fs]){const Al=Hl[Ds]+(Qs[Fs]-Hl[Fs]);_l(Al,{animation:Bl})}else if(Qs[js]>Hl[js]){const Al=Hl[Ds]+(Qs[js]-Hl[js]);_l(Al,{animation:Bl})}}}),Vl=useEventCallback(()=>{Ms&&ys!==!1&&Sl(!$l)});reactExports.useEffect(()=>{const Bl=debounce$2(()=>{yl.current&&Ys()});let Hl;const Qs=eu=>{eu.forEach(Jl=>{Jl.removedNodes.forEach(Zl=>{var tu;(tu=Hl)==null||tu.unobserve(Zl)}),Jl.addedNodes.forEach(Zl=>{var tu;(tu=Hl)==null||tu.observe(Zl)})}),Bl(),Vl()},Al=ownerWindow(yl.current);Al.addEventListener("resize",Bl);let Nl;return typeof ResizeObserver<"u"&&(Hl=new ResizeObserver(Bl),Array.from(Bs.current.children).forEach(eu=>{Hl.observe(eu)})),typeof MutationObserver<"u"&&(Nl=new MutationObserver(Qs),Nl.observe(Bs.current,{childList:!0})),()=>{var eu,Jl;Bl.clear(),Al.removeEventListener("resize",Bl),(eu=Nl)==null||eu.disconnect(),(Jl=Hl)==null||Jl.disconnect()}},[Ys,Vl]),reactExports.useEffect(()=>{const Bl=Array.from(Bs.current.children),Hl=Bl.length;if(typeof IntersectionObserver<"u"&&Hl>0&&Ms&&ys!==!1){const Qs=Bl[0],Al=Bl[Hl-1],Nl={root:yl.current,threshold:.99},eu=au=>{Pl(!au[0].isIntersecting)},Jl=new IntersectionObserver(eu,Nl);Jl.observe(Qs);const Zl=au=>{El(!au[0].isIntersecting)},tu=new IntersectionObserver(Zl,Nl);return tu.observe(Al),()=>{Jl.disconnect(),tu.disconnect()}}},[Ms,ys,$l,ps==null?void 0:ps.length]),reactExports.useEffect(()=>{qs(!0)},[]),reactExports.useEffect(()=>{Ys()}),reactExports.useEffect(()=>{Ll(defaultIndicatorStyle!==Vs)},[Ll,Vs]),reactExports.useImperativeHandle(us,()=>({updateIndicator:Ys,updateScrollButtons:Vl}),[Ys,Vl]);const Xl=jsxRuntimeExports.jsx(TabsIndicator,_extends$5({},Es,{className:clsx$1(Gs.indicator,Es.className),ownerState:Ns,style:_extends$5({},Vs,Es.style)}));let Ql=0;const Kl=reactExports.Children.map(ps,Bl=>{if(!reactExports.isValidElement(Bl))return null;const Hl=Bl.props.value===void 0?Ql:Bl.props.value;Rl.set(Hl,Ql);const Qs=Hl===Is;return Ql+=1,reactExports.cloneElement(Bl,_extends$5({fullWidth:Rs==="fullWidth",indicator:Qs&&!zs&&Xl,selected:Qs,selectionFollowsFocus:Ss,onChange:vs,textColor:Ts,value:Hl},Ql===1&&Is===!1&&!Bl.props.tabIndex?{tabIndex:0}:{}))}),Gl=Bl=>{const Hl=Bs.current,Qs=ownerDocument(Hl).activeElement;if(Qs.getAttribute("role")!=="tab")return;let Nl=bs==="horizontal"?"ArrowLeft":"ArrowUp",eu=bs==="horizontal"?"ArrowRight":"ArrowDown";switch(bs==="horizontal"&&as&&(Nl="ArrowRight",eu="ArrowLeft"),Bl.key){case Nl:Bl.preventDefault(),moveFocus$1(Hl,Qs,previousItem$1);break;case eu:Bl.preventDefault(),moveFocus$1(Hl,Qs,nextItem$1);break;case"Home":Bl.preventDefault(),moveFocus$1(Hl,null,nextItem$1);break;case"End":Bl.preventDefault(),moveFocus$1(Hl,null,previousItem$1);break}},nu=Ol();return jsxRuntimeExports.jsxs(TabsRoot,_extends$5({className:clsx$1(Gs.root,fs),ownerState:Ns,ref:ns,as:hs},ks,{children:[nu.scrollButtonStart,nu.scrollbarSizeListener,jsxRuntimeExports.jsxs(TabsScroller,{className:Gs.scroller,ownerState:Ns,style:{overflow:Ml.overflow,[Os?"margin".concat(as?"Left":"Right"):"marginBottom"]:As?void 0:-Ml.scrollbarWidth},ref:yl,children:[jsxRuntimeExports.jsx(FlexContainer,{"aria-label":ls,"aria-labelledby":cs,"aria-orientation":bs==="vertical"?"vertical":null,className:Gs.flexContainer,ownerState:Ns,onKeyDown:Gl,ref:Bs,role:"tablist",children:Kl}),zs&&Xl]}),nu.scrollButtonEnd]}))}),Tabs$1=Tabs,_excluded$2f=["children"],TabList=reactExports.forwardRef(function(rs,ns){const{children:os}=rs,ss=_objectWithoutPropertiesLoose$1(rs,_excluded$2f),as=useTabContext();if(as===null)throw new TypeError("No TabContext provided");const ls=reactExports.Children.map(os,cs=>reactExports.isValidElement(cs)?reactExports.cloneElement(cs,{"aria-controls":getPanelId(as,cs.props.value),id:getTabId(as,cs.props.value)}):null);return jsxRuntimeExports.jsx(Tabs$1,_extends$5({},ss,{ref:ns,value:as.value,children:ls}))}),TabList$1=TabList;function getTabPanelUtilityClass(ts){return generateUtilityClass("MuiTabPanel",ts)}generateUtilityClasses("MuiTabPanel",["root"]);const _excluded$2e=["children","className","value"],useUtilityClasses$1$=ts=>{const{classes:rs}=ts;return composeClasses({root:["root"]},getTabPanelUtilityClass,rs)},TabPanelRoot=styled$4("div",{name:"MuiTabPanel",slot:"Root",overridesResolver:(ts,rs)=>rs.root})(({theme:ts})=>({padding:ts.spacing(3)})),TabPanel$1=reactExports.forwardRef(function(rs,ns){const os=useThemeProps({props:rs,name:"MuiTabPanel"}),{children:ss,className:as,value:ls}=os,cs=_objectWithoutPropertiesLoose$1(os,_excluded$2e),us=_extends$5({},os),ds=useUtilityClasses$1$(us),ps=useTabContext();if(ps===null)throw new TypeError("No TabContext provided");const fs=getPanelId(ps,ls),hs=getTabId(ps,ls);return jsxRuntimeExports.jsx(TabPanelRoot,_extends$5({"aria-labelledby":hs,className:clsx$1(ds.root,as),hidden:ls!==ps.value,id:fs,ref:ns,role:"tabpanel",ownerState:us},cs,{children:ls===ps.value&&ss}))}),TabPanel$2=TabPanel$1;function getToggleButtonUtilityClass(ts){return generateUtilityClass("MuiToggleButton",ts)}const toggleButtonClasses=generateUtilityClasses("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge","fullWidth"]),toggleButtonClasses$1=toggleButtonClasses,ToggleButtonGroupContext=reactExports.createContext({}),ToggleButtonGroupContext$1=ToggleButtonGroupContext,ToggleButtonGroupButtonContext=reactExports.createContext(void 0),ToggleButtonGroupButtonContext$1=ToggleButtonGroupButtonContext;function isValueSelected(ts,rs){return rs===void 0||ts===void 0?!1:Array.isArray(rs)?rs.indexOf(ts)>=0:ts===rs}const _excluded$2d=["value"],_excluded2$c=["children","className","color","disabled","disableFocusRipple","fullWidth","onChange","onClick","selected","size","value"],useUtilityClasses$1_=ts=>{const{classes:rs,fullWidth:ns,selected:os,disabled:ss,size:as,color:ls}=ts,cs={root:["root",os&&"selected",ss&&"disabled",ns&&"fullWidth","size".concat(capitalize$1(as)),ls]};return composeClasses(cs,getToggleButtonUtilityClass,rs)},ToggleButtonRoot=styled$4(ButtonBase$1,{name:"MuiToggleButton",slot:"Root",overridesResolver:(ts,rs)=>{const{ownerState:ns}=ts;return[rs.root,rs["size".concat(capitalize$1(ns.size))]]}})(({theme:ts,ownerState:rs})=>{let ns=rs.color==="standard"?ts.palette.text.primary:ts.palette[rs.color].main,os;return ts.vars&&(ns=rs.color==="standard"?ts.vars.palette.text.primary:ts.vars.palette[rs.color].main,os=rs.color==="standard"?ts.vars.palette.text.primaryChannel:ts.vars.palette[rs.color].mainChannel),_extends$5({},ts.typography.button,{borderRadius:(ts.vars||ts).shape.borderRadius,padding:11,border:"1px solid ".concat((ts.vars||ts).palette.divider),color:(ts.vars||ts).palette.action.active},rs.fullWidth&&{width:"100%"},{["&.".concat(toggleButtonClasses$1.disabled)]:{color:(ts.vars||ts).palette.action.disabled,border:"1px solid ".concat((ts.vars||ts).palette.action.disabledBackground)},"&:hover":{textDecoration:"none",backgroundColor:ts.vars?"rgba(".concat(ts.vars.palette.text.primaryChannel," / ").concat(ts.vars.palette.action.hoverOpacity,")"):alpha(ts.palette.text.primary,ts.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(toggleButtonClasses$1.selected)]:{color:ns,backgroundColor:ts.vars?"rgba(".concat(os," / ").concat(ts.vars.palette.action.selectedOpacity,")"):alpha(ns,ts.palette.action.selectedOpacity),"&:hover":{backgroundColor:ts.vars?"rgba(".concat(os," / calc(").concat(ts.vars.palette.action.selectedOpacity," + ").concat(ts.vars.palette.action.hoverOpacity,"))"):alpha(ns,ts.palette.action.selectedOpacity+ts.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:ts.vars?"rgba(".concat(os," / ").concat(ts.vars.palette.action.selectedOpacity,")"):alpha(ns,ts.palette.action.selectedOpacity)}}}},rs.size==="small"&&{padding:7,fontSize:ts.typography.pxToRem(13)},rs.size==="large"&&{padding:15,fontSize:ts.typography.pxToRem(15)})}),ToggleButton=reactExports.forwardRef(function(rs,ns){const os=reactExports.useContext(ToggleButtonGroupContext$1),{value:ss}=os,as=_objectWithoutPropertiesLoose$1(os,_excluded$2d),ls=reactExports.useContext(ToggleButtonGroupButtonContext$1),cs=resolveProps(_extends$5({},as,{selected:isValueSelected(rs.value,ss)}),rs),us=useDefaultProps({props:cs,name:"MuiToggleButton"}),{children:ds,className:ps,color:fs="standard",disabled:hs=!1,disableFocusRipple:ms=!1,fullWidth:gs=!1,onChange:vs,onClick:bs,selected:xs,size:ys="medium",value:Ss}=us,Cs=_objectWithoutPropertiesLoose$1(us,_excluded2$c),$s=_extends$5({},us,{color:fs,disabled:hs,disableFocusRipple:ms,fullWidth:gs,size:ys}),Es=useUtilityClasses$1_($s),ws=Is=>{bs&&(bs(Is,Ss),Is.defaultPrevented)||vs&&vs(Is,Ss)},Ts=ls||"";return jsxRuntimeExports.jsx(ToggleButtonRoot,_extends$5({className:clsx$1(as.className,Es.root,ps,Ts),disabled:hs,focusRipple:!ms,ref:ns,onClick:ws,onChange:vs,value:Ss,ownerState:$s,"aria-pressed":xs},Cs,{children:ds}))}),ToggleButton$1=ToggleButton;function getToggleButtonGroupUtilityClass(ts){return generateUtilityClass("MuiToggleButtonGroup",ts)}const toggleButtonGroupClasses=generateUtilityClasses("MuiToggleButtonGroup",["root","selected","horizontal","vertical","disabled","grouped","groupedHorizontal","groupedVertical","fullWidth","firstButton","lastButton","middleButton"]),toggleButtonGroupClasses$1=toggleButtonGroupClasses,_excluded$2c=["children","className","color","disabled","exclusive","fullWidth","onChange","orientation","size","value"],useUtilityClasses$1Z=ts=>{const{classes:rs,orientation:ns,fullWidth:os,disabled:ss}=ts,as={root:["root",ns==="vertical"&&"vertical",os&&"fullWidth"],grouped:["grouped","grouped".concat(capitalize$1(ns)),ss&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return composeClasses(as,getToggleButtonGroupUtilityClass,rs)},ToggleButtonGroupRoot=styled$4("div",{name:"MuiToggleButtonGroup",slot:"Root",overridesResolver:(ts,rs)=>{const{ownerState:ns}=ts;return[{["& .".concat(toggleButtonGroupClasses$1.grouped)]:rs.grouped},{["& .".concat(toggleButtonGroupClasses$1.grouped)]:rs["grouped".concat(capitalize$1(ns.orientation))]},{["& .".concat(toggleButtonGroupClasses$1.firstButton)]:rs.firstButton},{["& .".concat(toggleButtonGroupClasses$1.lastButton)]:rs.lastButton},{["& .".concat(toggleButtonGroupClasses$1.middleButton)]:rs.middleButton},rs.root,ns.orientation==="vertical"&&rs.vertical,ns.fullWidth&&rs.fullWidth]}})(({ownerState:ts,theme:rs})=>_extends$5({display:"inline-flex",borderRadius:(rs.vars||rs).shape.borderRadius},ts.orientation==="vertical"&&{flexDirection:"column"},ts.fullWidth&&{width:"100%"},{["& .".concat(toggleButtonGroupClasses$1.grouped)]:_extends$5({},ts.orientation==="horizontal"?{["&.".concat(toggleButtonGroupClasses$1.selected," + .").concat(toggleButtonGroupClasses$1.grouped,".").concat(toggleButtonGroupClasses$1.selected)]:{borderLeft:0,marginLeft:0}}:{["&.".concat(toggleButtonGroupClasses$1.selected," + .").concat(toggleButtonGroupClasses$1.grouped,".").concat(toggleButtonGroupClasses$1.selected)]:{borderTop:0,marginTop:0}})},ts.orientation==="horizontal"?{["& .".concat(toggleButtonGroupClasses$1.firstButton,",& .").concat(toggleButtonGroupClasses$1.middleButton)]:{borderTopRightRadius:0,borderBottomRightRadius:0},["& .".concat(toggleButtonGroupClasses$1.lastButton,",& .").concat(toggleButtonGroupClasses$1.middleButton)]:{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0}}:{["& .".concat(toggleButtonGroupClasses$1.firstButton,",& .").concat(toggleButtonGroupClasses$1.middleButton)]:{borderBottomLeftRadius:0,borderBottomRightRadius:0},["& .".concat(toggleButtonGroupClasses$1.lastButton,",& .").concat(toggleButtonGroupClasses$1.middleButton)]:{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0}},ts.orientation==="horizontal"?{["& .".concat(toggleButtonGroupClasses$1.lastButton,".").concat(toggleButtonClasses$1.disabled,",& .").concat(toggleButtonGroupClasses$1.middleButton,".").concat(toggleButtonClasses$1.disabled)]:{borderLeft:"1px solid transparent"}}:{["& .".concat(toggleButtonGroupClasses$1.lastButton,".").concat(toggleButtonClasses$1.disabled,",& .").concat(toggleButtonGroupClasses$1.middleButton,".").concat(toggleButtonClasses$1.disabled)]:{borderTop:"1px solid transparent"}})),ToggleButtonGroup=reactExports.forwardRef(function(rs,ns){const os=useDefaultProps({props:rs,name:"MuiToggleButtonGroup"}),{children:ss,className:as,color:ls="standard",disabled:cs=!1,exclusive:us=!1,fullWidth:ds=!1,onChange:ps,orientation:fs="horizontal",size:hs="medium",value:ms}=os,gs=_objectWithoutPropertiesLoose$1(os,_excluded$2c),vs=_extends$5({},os,{disabled:cs,fullWidth:ds,orientation:fs,size:hs}),bs=useUtilityClasses$1Z(vs),xs=reactExports.useCallback((ws,Ts)=>{if(!ps)return;const Is=ms&&ms.indexOf(Ts);let Rs;ms&&Is>=0?(Rs=ms.slice(),Rs.splice(Is,1)):Rs=ms?ms.concat(Ts):[Ts],ps(ws,Rs)},[ps,ms]),ys=reactExports.useCallback((ws,Ts)=>{ps&&ps(ws,ms===Ts?null:Ts)},[ps,ms]),Ss=reactExports.useMemo(()=>({className:bs.grouped,onChange:us?ys:xs,value:ms,size:hs,fullWidth:ds,color:ls,disabled:cs}),[bs.grouped,us,ys,xs,ms,hs,ds,ls,cs]),Cs=getValidReactChildren(ss),$s=Cs.length,Es=ws=>{const Ts=ws===0,Is=ws===$s-1;return Ts&&Is?"":Ts?bs.firstButton:Is?bs.lastButton:bs.middleButton};return jsxRuntimeExports.jsx(ToggleButtonGroupRoot,_extends$5({role:"group",className:clsx$1(bs.root,as),ref:ns,ownerState:vs},gs,{children:jsxRuntimeExports.jsx(ToggleButtonGroupContext$1.Provider,{value:Ss,children:Cs.map((ws,Ts)=>jsxRuntimeExports.jsx(ToggleButtonGroupButtonContext$1.Provider,{value:Es(Ts),children:ws},Ts))})}))}),ToggleButtonGroup$1=ToggleButtonGroup;function getCollapseUtilityClass(ts){return generateUtilityClass("MuiCollapse",ts)}generateUtilityClasses("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const _excluded$2b=["addEndListener","children","className","collapsedSize","component","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"],useUtilityClasses$1Y=ts=>{const{orientation:rs,classes:ns}=ts,os={root:["root","".concat(rs)],entered:["entered"],hidden:["hidden"],wrapper:["wrapper","".concat(rs)],wrapperInner:["wrapperInner","".concat(rs)]};return composeClasses(os,getCollapseUtilityClass,ns)},CollapseRoot=styled$4("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(ts,rs)=>{const{ownerState:ns}=ts;return[rs.root,rs[ns.orientation],ns.state==="entered"&&rs.entered,ns.state==="exited"&&!ns.in&&ns.collapsedSize==="0px"&&rs.hidden]}})(({theme:ts,ownerState:rs})=>_extends$5({height:0,overflow:"hidden",transition:ts.transitions.create("height")},rs.orientation==="horizontal"&&{height:"auto",width:0,transition:ts.transitions.create("width")},rs.state==="entered"&&_extends$5({height:"auto",overflow:"visible"},rs.orientation==="horizontal"&&{width:"auto"}),rs.state==="exited"&&!rs.in&&rs.collapsedSize==="0px"&&{visibility:"hidden"})),CollapseWrapper=styled$4("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(ts,rs)=>rs.wrapper})(({ownerState:ts})=>_extends$5({display:"flex",width:"100%"},ts.orientation==="horizontal"&&{width:"auto",height:"100%"})),CollapseWrapperInner=styled$4("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(ts,rs)=>rs.wrapperInner})(({ownerState:ts})=>_extends$5({width:"100%"},ts.orientation==="horizontal"&&{width:"auto",height:"100%"})),Collapse=reactExports.forwardRef(function(rs,ns){const os=useDefaultProps({props:rs,name:"MuiCollapse"}),{addEndListener:ss,children:as,className:ls,collapsedSize:cs="0px",component:us,easing:ds,in:ps,onEnter:fs,onEntered:hs,onEntering:ms,onExit:gs,onExited:vs,onExiting:bs,orientation:xs="vertical",style:ys,timeout:Ss=duration.standard,TransitionComponent:Cs=Transition$1}=os,$s=_objectWithoutPropertiesLoose$1(os,_excluded$2b),Es=_extends$5({},os,{orientation:xs,collapsedSize:cs}),ws=useUtilityClasses$1Y(Es),Ts=useTheme$1(),Is=useTimeout$1(),Rs=reactExports.useRef(null),As=reactExports.useRef(),ks=typeof cs=="number"?"".concat(cs,"px"):cs,Ms=xs==="horizontal",Os=Ms?"width":"height",Ds=reactExports.useRef(null),Fs=useForkRef(ns,Ds),js=Vs=>Ks=>{if(Vs){const Ws=Ds.current;Ks===void 0?Vs(Ws):Vs(Ws,Ks)}},Ps=()=>Rs.current?Rs.current[Ms?"clientWidth":"clientHeight"]:0,Ls=js((Vs,Ks)=>{Rs.current&&Ms&&(Rs.current.style.position="absolute"),Vs.style[Os]=ks,fs&&fs(Vs,Ks)}),Ns=js((Vs,Ks)=>{const Ws=Ps();Rs.current&&Ms&&(Rs.current.style.position="");const{duration:Pl,easing:Tl}=getTransitionProps({style:ys,timeout:Ss,easing:ds},{mode:"enter"});if(Ss==="auto"){const El=Ts.transitions.getAutoHeightDuration(Ws);Vs.style.transitionDuration="".concat(El,"ms"),As.current=El}else Vs.style.transitionDuration=typeof Pl=="string"?Pl:"".concat(Pl,"ms");Vs.style[Os]="".concat(Ws,"px"),Vs.style.transitionTimingFunction=Tl,ms&&ms(Vs,Ks)}),Gs=js((Vs,Ks)=>{Vs.style[Os]="auto",hs&&hs(Vs,Ks)}),Us=js(Vs=>{Vs.style[Os]="".concat(Ps(),"px"),gs&&gs(Vs)}),Hs=js(vs),zs=js(Vs=>{const Ks=Ps(),{duration:Ws,easing:Pl}=getTransitionProps({style:ys,timeout:Ss,easing:ds},{mode:"exit"});if(Ss==="auto"){const Tl=Ts.transitions.getAutoHeightDuration(Ks);Vs.style.transitionDuration="".concat(Tl,"ms"),As.current=Tl}else Vs.style.transitionDuration=typeof Ws=="string"?Ws:"".concat(Ws,"ms");Vs.style[Os]=ks,Vs.style.transitionTimingFunction=Pl,bs&&bs(Vs)}),qs=Vs=>{Ss==="auto"&&Is.start(As.current||0,Vs),ss&&ss(Ds.current,Vs)};return jsxRuntimeExports.jsx(Cs,_extends$5({in:ps,onEnter:Ls,onEntered:Gs,onEntering:Ns,onExit:Us,onExited:Hs,onExiting:zs,addEndListener:qs,nodeRef:Ds,timeout:Ss==="auto"?null:Ss},$s,{children:(Vs,Ks)=>jsxRuntimeExports.jsx(CollapseRoot,_extends$5({as:us,className:clsx$1(ws.root,ls,{entered:ws.entered,exited:!ps&&ks==="0px"&&ws.hidden}[Vs]),style:_extends$5({[Ms?"minWidth":"minHeight"]:ks},ys),ref:Fs},Ks,{ownerState:_extends$5({},Es,{state:Vs}),children:jsxRuntimeExports.jsx(CollapseWrapper,{ownerState:_extends$5({},Es,{state:Vs}),className:ws.wrapper,ref:Rs,children:jsxRuntimeExports.jsx(CollapseWrapperInner,{ownerState:_extends$5({},Es,{state:Vs}),className:ws.wrapperInner,children:as})})}))}))});Collapse.muiSupportAuto=!0;const Collapse$1=Collapse,AccordionContext=reactExports.createContext({}),AccordionContext$1=AccordionContext;function getAccordionUtilityClass(ts){return generateUtilityClass("MuiAccordion",ts)}const accordionClasses=generateUtilityClasses("MuiAccordion",["root","rounded","expanded","disabled","gutters","region"]),accordionClasses$1=accordionClasses,_excluded$2a=["children","className","defaultExpanded","disabled","disableGutters","expanded","onChange","square","slots","slotProps","TransitionComponent","TransitionProps"],useUtilityClasses$1X=ts=>{const{classes:rs,square:ns,expanded:os,disabled:ss,disableGutters:as}=ts;return composeClasses({root:["root",!ns&&"rounded",os&&"expanded",ss&&"disabled",!as&&"gutters"],region:["region"]},getAccordionUtilityClass,rs)},AccordionRoot=styled$4(Paper$1,{name:"MuiAccordion",slot:"Root",overridesResolver:(ts,rs)=>{const{ownerState:ns}=ts;return[{["& .".concat(accordionClasses$1.region)]:rs.region},rs.root,!ns.square&&rs.rounded,!ns.disableGutters&&rs.gutters]}})(({theme:ts})=>{const rs={duration:ts.transitions.duration.shortest};return{position:"relative",transition:ts.transitions.create(["margin"],rs),overflowAnchor:"none","&::before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:(ts.vars||ts).palette.divider,transition:ts.transitions.create(["opacity","background-color"],rs)},"&:first-of-type":{"&::before":{display:"none"}},["&.".concat(accordionClasses$1.expanded)]:{"&::before":{opacity:0},"&:first-of-type":{marginTop:0},"&:last-of-type":{marginBottom:0},"& + &":{"&::before":{display:"none"}}},["&.".concat(accordionClasses$1.disabled)]:{backgroundColor:(ts.vars||ts).palette.action.disabledBackground}}},({theme:ts})=>({variants:[{props:rs=>!rs.square,style:{borderRadius:0,"&:first-of-type":{borderTopLeftRadius:(ts.vars||ts).shape.borderRadius,borderTopRightRadius:(ts.vars||ts).shape.borderRadius},"&:last-of-type":{borderBottomLeftRadius:(ts.vars||ts).shape.borderRadius,borderBottomRightRadius:(ts.vars||ts).shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}}},{props:rs=>!rs.disableGutters,style:{["&.".concat(accordionClasses$1.expanded)]:{margin:"16px 0"}}}]})),Accordion=reactExports.forwardRef(function(rs,ns){const os=useDefaultProps({props:rs,name:"MuiAccordion"}),{children:ss,className:as,defaultExpanded:ls=!1,disabled:cs=!1,disableGutters:us=!1,expanded:ds,onChange:ps,square:fs=!1,slots:hs={},slotProps:ms={},TransitionComponent:gs,TransitionProps:vs}=os,bs=_objectWithoutPropertiesLoose$1(os,_excluded$2a),[xs,ys]=useControlled({controlled:ds,default:ls,name:"Accordion",state:"expanded"}),Ss=reactExports.useCallback(Ms=>{ys(!xs),ps&&ps(Ms,!xs)},[xs,ps,ys]),[Cs,...$s]=reactExports.Children.toArray(ss),Es=reactExports.useMemo(()=>({expanded:xs,disabled:cs,disableGutters:us,toggle:Ss}),[xs,cs,us,Ss]),ws=_extends$5({},os,{square:fs,disabled:cs,disableGutters:us,expanded:xs}),Ts=useUtilityClasses$1X(ws),Is=_extends$5({transition:gs},hs),Rs=_extends$5({transition:vs},ms),[As,ks]=useSlot("transition",{elementType:Collapse$1,externalForwardedProps:{slots:Is,slotProps:Rs},ownerState:ws});return jsxRuntimeExports.jsxs(AccordionRoot,_extends$5({className:clsx$1(Ts.root,as),ref:ns,ownerState:ws,square:fs},bs,{children:[jsxRuntimeExports.jsx(AccordionContext$1.Provider,{value:Es,children:Cs}),jsxRuntimeExports.jsx(As,_extends$5({in:xs,timeout:"auto"},ks,{children:jsxRuntimeExports.jsx("div",{"aria-labelledby":Cs.props.id,id:Cs.props["aria-controls"],role:"region",className:Ts.region,children:$s})}))]}))}),Accordion$1=Accordion;function getAccordionDetailsUtilityClass(ts){return generateUtilityClass("MuiAccordionDetails",ts)}generateUtilityClasses("MuiAccordionDetails",["root"]);const _excluded$29=["className"],useUtilityClasses$1W=ts=>{const{classes:rs}=ts;return composeClasses({root:["root"]},getAccordionDetailsUtilityClass,rs)},AccordionDetailsRoot=styled$4("div",{name:"MuiAccordionDetails",slot:"Root",overridesResolver:(ts,rs)=>rs.root})(({theme:ts})=>({padding:ts.spacing(1,2,2)})),AccordionDetails=reactExports.forwardRef(function(rs,ns){const os=useDefaultProps({props:rs,name:"MuiAccordionDetails"}),{className:ss}=os,as=_objectWithoutPropertiesLoose$1(os,_excluded$29),ls=os,cs=useUtilityClasses$1W(ls);return jsxRuntimeExports.jsx(AccordionDetailsRoot,_extends$5({className:clsx$1(cs.root,ss),ref:ns,ownerState:ls},as))}),AccordionDetails$1=AccordionDetails;function getAccordionSummaryUtilityClass(ts){return generateUtilityClass("MuiAccordionSummary",ts)}const accordionSummaryClasses=generateUtilityClasses("MuiAccordionSummary",["root","expanded","focusVisible","disabled","gutters","contentGutters","content","expandIconWrapper"]),accordionSummaryClasses$1=accordionSummaryClasses,_excluded$28=["children","className","expandIcon","focusVisibleClassName","onClick"],useUtilityClasses$1V=ts=>{const{classes:rs,expanded:ns,disabled:os,disableGutters:ss}=ts;return composeClasses({root:["root",ns&&"expanded",os&&"disabled",!ss&&"gutters"],focusVisible:["focusVisible"],content:["content",ns&&"expanded",!ss&&"contentGutters"],expandIconWrapper:["expandIconWrapper",ns&&"expanded"]},getAccordionSummaryUtilityClass,rs)},AccordionSummaryRoot=styled$4(ButtonBase$1,{name:"MuiAccordionSummary",slot:"Root",overridesResolver:(ts,rs)=>rs.root})(({theme:ts})=>{const rs={duration:ts.transitions.duration.shortest};return{display:"flex",minHeight:48,padding:ts.spacing(0,2),transition:ts.transitions.create(["min-height","background-color"],rs),["&.".concat(accordionSummaryClasses$1.focusVisible)]:{backgroundColor:(ts.vars||ts).palette.action.focus},["&.".concat(accordionSummaryClasses$1.disabled)]:{opacity:(ts.vars||ts).palette.action.disabledOpacity},["&:hover:not(.".concat(accordionSummaryClasses$1.disabled,")")]:{cursor:"pointer"},variants:[{props:ns=>!ns.disableGutters,style:{["&.".concat(accordionSummaryClasses$1.expanded)]:{minHeight:64}}}]}}),AccordionSummaryContent=styled$4("div",{name:"MuiAccordionSummary",slot:"Content",overridesResolver:(ts,rs)=>rs.content})(({theme:ts})=>({display:"flex",flexGrow:1,margin:"12px 0",variants:[{props:rs=>!rs.disableGutters,style:{transition:ts.transitions.create(["margin"],{duration:ts.transitions.duration.shortest}),["&.".concat(accordionSummaryClasses$1.expanded)]:{margin:"20px 0"}}}]})),AccordionSummaryExpandIconWrapper=styled$4("div",{name:"MuiAccordionSummary",slot:"ExpandIconWrapper",overridesResolver:(ts,rs)=>rs.expandIconWrapper})(({theme:ts})=>({display:"flex",color:(ts.vars||ts).palette.action.active,transform:"rotate(0deg)",transition:ts.transitions.create("transform",{duration:ts.transitions.duration.shortest}),["&.".concat(accordionSummaryClasses$1.expanded)]:{transform:"rotate(180deg)"}})),AccordionSummary=reactExports.forwardRef(function(rs,ns){const os=useDefaultProps({props:rs,name:"MuiAccordionSummary"}),{children:ss,className:as,expandIcon:ls,focusVisibleClassName:cs,onClick:us}=os,ds=_objectWithoutPropertiesLoose$1(os,_excluded$28),{disabled:ps=!1,disableGutters:fs,expanded:hs,toggle:ms}=reactExports.useContext(AccordionContext$1),gs=xs=>{ms&&ms(xs),us&&us(xs)},vs=_extends$5({},os,{expanded:hs,disabled:ps,disableGutters:fs}),bs=useUtilityClasses$1V(vs);return jsxRuntimeExports.jsxs(AccordionSummaryRoot,_extends$5({focusRipple:!1,disableRipple:!0,disabled:ps,component:"div","aria-expanded":hs,className:clsx$1(bs.root,as),focusVisibleClassName:clsx$1(bs.focusVisible,cs),onClick:gs,ref:ns,ownerState:vs},ds,{children:[jsxRuntimeExports.jsx(AccordionSummaryContent,{className:bs.content,ownerState:vs,children:ss}),ls&&jsxRuntimeExports.jsx(AccordionSummaryExpandIconWrapper,{className:bs.expandIconWrapper,ownerState:vs,children:ls})]}))}),AccordionSummary$1=AccordionSummary;function getAppBarUtilityClass(ts){return generateUtilityClass("MuiAppBar",ts)}generateUtilityClasses("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const _excluded$27=["className","color","enableColorOnDark","position"],useUtilityClasses$1U=ts=>{const{color:rs,position:ns,classes:os}=ts,ss={root:["root","color".concat(capitalize$1(rs)),"position".concat(capitalize$1(ns))]};return composeClasses(ss,getAppBarUtilityClass,os)},joinVars=(ts,rs)=>ts?"".concat(ts==null?void 0:ts.replace(")",""),", ").concat(rs,")"):rs,AppBarRoot=styled$4(Paper$1,{name:"MuiAppBar",slot:"Root",overridesResolver:(ts,rs)=>{const{ownerState:ns}=ts;return[rs.root,rs["position".concat(capitalize$1(ns.position))],rs["color".concat(capitalize$1(ns.color))]]}})(({theme:ts,ownerState:rs})=>{const ns=ts.palette.mode==="light"?ts.palette.grey[100]:ts.palette.grey[900];return _extends$5({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},rs.position==="fixed"&&{position:"fixed",zIndex:(ts.vars||ts).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},rs.position==="absolute"&&{position:"absolute",zIndex:(ts.vars||ts).zIndex.appBar,top:0,left:"auto",right:0},rs.position==="sticky"&&{position:"sticky",zIndex:(ts.vars||ts).zIndex.appBar,top:0,left:"auto",right:0},rs.position==="static"&&{position:"static"},rs.position==="relative"&&{position:"relative"},!ts.vars&&_extends$5({},rs.color==="default"&&{backgroundColor:ns,color:ts.palette.getContrastText(ns)},rs.color&&rs.color!=="default"&&rs.color!=="inherit"&&rs.color!=="transparent"&&{backgroundColor:ts.palette[rs.color].main,color:ts.palette[rs.color].contrastText},rs.color==="inherit"&&{color:"inherit"},ts.palette.mode==="dark"&&!rs.enableColorOnDark&&{backgroundColor:null,color:null},rs.color==="transparent"&&_extends$5({backgroundColor:"transparent",color:"inherit"},ts.palette.mode==="dark"&&{backgroundImage:"none"})),ts.vars&&_extends$5({},rs.color==="default"&&{"--AppBar-background":rs.enableColorOnDark?ts.vars.palette.AppBar.defaultBg:joinVars(ts.vars.palette.AppBar.darkBg,ts.vars.palette.AppBar.defaultBg),"--AppBar-color":rs.enableColorOnDark?ts.vars.palette.text.primary:joinVars(ts.vars.palette.AppBar.darkColor,ts.vars.palette.text.primary)},rs.color&&!rs.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":rs.enableColorOnDark?ts.vars.palette[rs.color].main:joinVars(ts.vars.palette.AppBar.darkBg,ts.vars.palette[rs.color].main),"--AppBar-color":rs.enableColorOnDark?ts.vars.palette[rs.color].contrastText:joinVars(ts.vars.palette.AppBar.darkColor,ts.vars.palette[rs.color].contrastText)},!["inherit","transparent"].includes(rs.color)&&{backgroundColor:"var(--AppBar-background)"},{color:rs.color==="inherit"?"inherit":"var(--AppBar-color)"},rs.color==="transparent"&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))}),AppBar=reactExports.forwardRef(function(rs,ns){const os=useDefaultProps({props:rs,name:"MuiAppBar"}),{className:ss,color:as="primary",enableColorOnDark:ls=!1,position:cs="fixed"}=os,us=_objectWithoutPropertiesLoose$1(os,_excluded$27),ds=_extends$5({},os,{color:as,position:cs,enableColorOnDark:ls}),ps=useUtilityClasses$1U(ds);return jsxRuntimeExports.jsx(AppBarRoot,_extends$5({square:!0,component:"header",ownerState:ds,elevation:4,className:clsx$1(ps.root,ss,cs==="fixed"&&"mui-fixed"),ref:ns},us))}),AppBar$1=AppBar,_excluded$26=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],styles$1={entering:{opacity:1},entered:{opacity:1}},Fade=reactExports.forwardRef(function(rs,ns){const os=useTheme$1(),ss={enter:os.transitions.duration.enteringScreen,exit:os.transitions.duration.leavingScreen},{addEndListener:as,appear:ls=!0,children:cs,easing:us,in:ds,onEnter:ps,onEntered:fs,onEntering:hs,onExit:ms,onExited:gs,onExiting:vs,style:bs,timeout:xs=ss,TransitionComponent:ys=Transition$1}=rs,Ss=_objectWithoutPropertiesLoose$1(rs,_excluded$26),Cs=reactExports.useRef(null),$s=useForkRef(Cs,cs.ref,ns),Es=Os=>Ds=>{if(Os){const Fs=Cs.current;Ds===void 0?Os(Fs):Os(Fs,Ds)}},ws=Es(hs),Ts=Es((Os,Ds)=>{reflow(Os);const Fs=getTransitionProps({style:bs,timeout:xs,easing:us},{mode:"enter"});Os.style.webkitTransition=os.transitions.create("opacity",Fs),Os.style.transition=os.transitions.create("opacity",Fs),ps&&ps(Os,Ds)}),Is=Es(fs),Rs=Es(vs),As=Es(Os=>{const Ds=getTransitionProps({style:bs,timeout:xs,easing:us},{mode:"exit"});Os.style.webkitTransition=os.transitions.create("opacity",Ds),Os.style.transition=os.transitions.create("opacity",Ds),ms&&ms(Os)}),ks=Es(gs),Ms=Os=>{as&&as(Cs.current,Os)};return jsxRuntimeExports.jsx(ys,_extends$5({appear:ls,in:ds,nodeRef:Cs,onEnter:Ts,onEntered:Is,onEntering:ws,onExit:As,onExited:ks,onExiting:Rs,addEndListener:Ms,timeout:xs},Ss,{children:(Os,Ds)=>reactExports.cloneElement(cs,_extends$5({style:_extends$5({opacity:0,visibility:Os==="exited"&&!ds?"hidden":void 0},styles$1[Os],bs,cs.props.style),ref:$s},Ds))}))}),Fade$1=Fade;function getBackdropUtilityClass(ts){return generateUtilityClass("MuiBackdrop",ts)}generateUtilityClasses("MuiBackdrop",["root","invisible"]);const _excluded$25=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],useUtilityClasses$1T=ts=>{const{classes:rs,invisible:ns}=ts;return composeClasses({root:["root",ns&&"invisible"]},getBackdropUtilityClass,rs)},BackdropRoot=styled$4("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(ts,rs)=>{const{ownerState:ns}=ts;return[rs.root,ns.invisible&&rs.invisible]}})(({ownerState:ts})=>_extends$5({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},ts.invisible&&{backgroundColor:"transparent"})),Backdrop=reactExports.forwardRef(function(rs,ns){var os,ss,as;const ls=useDefaultProps({props:rs,name:"MuiBackdrop"}),{children:cs,className:us,component:ds="div",components:ps={},componentsProps:fs={},invisible:hs=!1,open:ms,slotProps:gs={},slots:vs={},TransitionComponent:bs=Fade$1,transitionDuration:xs}=ls,ys=_objectWithoutPropertiesLoose$1(ls,_excluded$25),Ss=_extends$5({},ls,{component:ds,invisible:hs}),Cs=useUtilityClasses$1T(Ss),$s=(os=gs.root)!=null?os:fs.root;return jsxRuntimeExports.jsx(bs,_extends$5({in:ms,timeout:xs},ys,{children:jsxRuntimeExports.jsx(BackdropRoot,_extends$5({"aria-hidden":!0},$s,{as:(ss=(as=vs.root)!=null?as:ps.Root)!=null?ss:ds,className:clsx$1(Cs.root,us,$s==null?void 0:$s.className),ownerState:_extends$5({},Ss,$s==null?void 0:$s.ownerState),classes:Cs,ref:ns,children:cs}))}))}),Backdrop$1=Backdrop;function useBadge(ts){const{badgeContent:rs,invisible:ns=!1,max:os=99,showZero:ss=!1}=ts,as=usePreviousProps$1({badgeContent:rs,max:os});let ls=ns;ns===!1&&rs===0&&!ss&&(ls=!0);const{badgeContent:cs,max:us=os}=ls?as:ts,ds=cs&&Number(cs)>us?"".concat(us,"+"):cs;return{badgeContent:cs,invisible:ls,max:us,displayValue:ds}}function getBadgeUtilityClass(ts){return generateUtilityClass("MuiBadge",ts)}const badgeClasses=generateUtilityClasses("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),badgeClasses$1=badgeClasses,_excluded$24=["anchorOrigin","className","classes","component","components","componentsProps","children","overlap","color","invisible","max","badgeContent","slots","slotProps","showZero","variant"],RADIUS_STANDARD=10,RADIUS_DOT=4,useUtilityClasses$1S=ts=>{const{color:rs,anchorOrigin:ns,invisible:os,overlap:ss,variant:as,classes:ls={}}=ts,cs={root:["root"],badge:["badge",as,os&&"invisible","anchorOrigin".concat(capitalize$1(ns.vertical)).concat(capitalize$1(ns.horizontal)),"anchorOrigin".concat(capitalize$1(ns.vertical)).concat(capitalize$1(ns.horizontal)).concat(capitalize$1(ss)),"overlap".concat(capitalize$1(ss)),rs!=="default"&&"color".concat(capitalize$1(rs))]};return composeClasses(cs,getBadgeUtilityClass,ls)},BadgeRoot=styled$4("span",{name:"MuiBadge",slot:"Root",overridesResolver:(ts,rs)=>rs.root})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),BadgeBadge=styled$4("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(ts,rs)=>{const{ownerState:ns}=ts;return[rs.badge,rs[ns.variant],rs["anchorOrigin".concat(capitalize$1(ns.anchorOrigin.vertical)).concat(capitalize$1(ns.anchorOrigin.horizontal)).concat(capitalize$1(ns.overlap))],ns.color!=="default"&&rs["color".concat(capitalize$1(ns.color))],ns.invisible&&rs.invisible]}})(({theme:ts})=>{var rs;return{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:ts.typography.fontFamily,fontWeight:ts.typography.fontWeightMedium,fontSize:ts.typography.pxToRem(12),minWidth:RADIUS_STANDARD*2,lineHeight:1,padding:"0 6px",height:RADIUS_STANDARD*2,borderRadius:RADIUS_STANDARD,zIndex:1,transition:ts.transitions.create("transform",{easing:ts.transitions.easing.easeInOut,duration:ts.transitions.duration.enteringScreen}),variants:[...Object.keys(((rs=ts.vars)!=null?rs:ts).palette).filter(ns=>{var os,ss;return((os=ts.vars)!=null?os:ts).palette[ns].main&&((ss=ts.vars)!=null?ss:ts).palette[ns].contrastText}).map(ns=>({props:{color:ns},style:{backgroundColor:(ts.vars||ts).palette[ns].main,color:(ts.vars||ts).palette[ns].contrastText}})),{props:{variant:"dot"},style:{borderRadius:RADIUS_DOT,height:RADIUS_DOT*2,minWidth:RADIUS_DOT*2,padding:0}},{props:({ownerState:ns})=>ns.anchorOrigin.vertical==="top"&&ns.anchorOrigin.horizontal==="right"&&ns.overlap==="rectangular",style:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",["&.".concat(badgeClasses$1.invisible)]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:ns})=>ns.anchorOrigin.vertical==="bottom"&&ns.anchorOrigin.horizontal==="right"&&ns.overlap==="rectangular",style:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",["&.".concat(badgeClasses$1.invisible)]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:ns})=>ns.anchorOrigin.vertical==="top"&&ns.anchorOrigin.horizontal==="left"&&ns.overlap==="rectangular",style:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",["&.".concat(badgeClasses$1.invisible)]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:ns})=>ns.anchorOrigin.vertical==="bottom"&&ns.anchorOrigin.horizontal==="left"&&ns.overlap==="rectangular",style:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",["&.".concat(badgeClasses$1.invisible)]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:({ownerState:ns})=>ns.anchorOrigin.vertical==="top"&&ns.anchorOrigin.horizontal==="right"&&ns.overlap==="circular",style:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",["&.".concat(badgeClasses$1.invisible)]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:ns})=>ns.anchorOrigin.vertical==="bottom"&&ns.anchorOrigin.horizontal==="right"&&ns.overlap==="circular",style:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",["&.".concat(badgeClasses$1.invisible)]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:ns})=>ns.anchorOrigin.vertical==="top"&&ns.anchorOrigin.horizontal==="left"&&ns.overlap==="circular",style:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",["&.".concat(badgeClasses$1.invisible)]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:ns})=>ns.anchorOrigin.vertical==="bottom"&&ns.anchorOrigin.horizontal==="left"&&ns.overlap==="circular",style:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",["&.".concat(badgeClasses$1.invisible)]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:{invisible:!0},style:{transition:ts.transitions.create("transform",{easing:ts.transitions.easing.easeInOut,duration:ts.transitions.duration.leavingScreen})}}]}}),Badge=reactExports.forwardRef(function(rs,ns){var os,ss,as,ls,cs,us;const ds=useDefaultProps({props:rs,name:"MuiBadge"}),{anchorOrigin:ps={vertical:"top",horizontal:"right"},className:fs,component:hs,components:ms={},componentsProps:gs={},children:vs,overlap:bs="rectangular",color:xs="default",invisible:ys=!1,max:Ss=99,badgeContent:Cs,slots:$s,slotProps:Es,showZero:ws=!1,variant:Ts="standard"}=ds,Is=_objectWithoutPropertiesLoose$1(ds,_excluded$24),{badgeContent:Rs,invisible:As,max:ks,displayValue:Ms}=useBadge({max:Ss,invisible:ys,badgeContent:Cs,showZero:ws}),Os=usePreviousProps$1({anchorOrigin:ps,color:xs,overlap:bs,variant:Ts,badgeContent:Cs}),Ds=As||Rs==null&&Ts!=="dot",{color:Fs=xs,overlap:js=bs,anchorOrigin:Ps=ps,variant:Ls=Ts}=Ds?Os:ds,Ns=Ls!=="dot"?Ms:void 0,Gs=_extends$5({},ds,{badgeContent:Rs,invisible:Ds,max:ks,displayValue:Ns,showZero:ws,anchorOrigin:Ps,color:Fs,overlap:js,variant:Ls}),Us=useUtilityClasses$1S(Gs),Hs=(os=(ss=$s==null?void 0:$s.root)!=null?ss:ms.Root)!=null?os:BadgeRoot,zs=(as=(ls=$s==null?void 0:$s.badge)!=null?ls:ms.Badge)!=null?as:BadgeBadge,qs=(cs=Es==null?void 0:Es.root)!=null?cs:gs.root,Vs=(us=Es==null?void 0:Es.badge)!=null?us:gs.badge,Ks=useSlotProps({elementType:Hs,externalSlotProps:qs,externalForwardedProps:Is,additionalProps:{ref:ns,as:hs},ownerState:Gs,className:clsx$1(qs==null?void 0:qs.className,Us.root,fs)}),Ws=useSlotProps({elementType:zs,externalSlotProps:Vs,ownerState:Gs,className:clsx$1(Us.badge,Vs==null?void 0:Vs.className)});return jsxRuntimeExports.jsxs(Hs,_extends$5({},Ks,{children:[vs,jsxRuntimeExports.jsx(zs,_extends$5({},Ws,{children:Ns}))]}))}),Badge$1=Badge,boxClasses=generateUtilityClasses("MuiBox",["root"]),boxClasses$1=boxClasses,defaultTheme$2=createTheme(),Box=createBox({themeId:THEME_ID,defaultTheme:defaultTheme$2,defaultClassName:boxClasses$1.root,generateClassName:ClassNameGenerator$1.generate}),Box$1=Box,MoreHorizIcon=createSvgIcon$1(jsxRuntimeExports.jsx("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz"),_excluded$23=["slots","slotProps"],BreadcrumbCollapsedButton=styled$4(ButtonBase$1)(({theme:ts})=>_extends$5({display:"flex",marginLeft:"calc(".concat(ts.spacing(1)," * 0.5)"),marginRight:"calc(".concat(ts.spacing(1)," * 0.5)")},ts.palette.mode==="light"?{backgroundColor:ts.palette.grey[100],color:ts.palette.grey[700]}:{backgroundColor:ts.palette.grey[700],color:ts.palette.grey[100]},{borderRadius:2,"&:hover, &:focus":_extends$5({},ts.palette.mode==="light"?{backgroundColor:ts.palette.grey[200]}:{backgroundColor:ts.palette.grey[600]}),"&:active":_extends$5({boxShadow:ts.shadows[0]},ts.palette.mode==="light"?{backgroundColor:emphasize_1(ts.palette.grey[200],.12)}:{backgroundColor:emphasize_1(ts.palette.grey[600],.12)})})),BreadcrumbCollapsedIcon=styled$4(MoreHorizIcon)({width:24,height:16});function BreadcrumbCollapsed(ts){const{slots:rs={},slotProps:ns={}}=ts,os=_objectWithoutPropertiesLoose$1(ts,_excluded$23),ss=ts;return jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx(BreadcrumbCollapsedButton,_extends$5({focusRipple:!0},os,{ownerState:ss,children:jsxRuntimeExports.jsx(BreadcrumbCollapsedIcon,_extends$5({as:rs.CollapsedIcon,ownerState:ss},ns.collapsedIcon))}))})}function getBreadcrumbsUtilityClass(ts){return generateUtilityClass("MuiBreadcrumbs",ts)}const breadcrumbsClasses=generateUtilityClasses("MuiBreadcrumbs",["root","ol","li","separator"]),breadcrumbsClasses$1=breadcrumbsClasses,_excluded$22=["children","className","component","slots","slotProps","expandText","itemsAfterCollapse","itemsBeforeCollapse","maxItems","separator"],useUtilityClasses$1R=ts=>{const{classes:rs}=ts;return composeClasses({root:["root"],li:["li"],ol:["ol"],separator:["separator"]},getBreadcrumbsUtilityClass,rs)},BreadcrumbsRoot=styled$4(Typography$1,{name:"MuiBreadcrumbs",slot:"Root",overridesResolver:(ts,rs)=>[{["& .".concat(breadcrumbsClasses$1.li)]:rs.li},rs.root]})({}),BreadcrumbsOl=styled$4("ol",{name:"MuiBreadcrumbs",slot:"Ol",overridesResolver:(ts,rs)=>rs.ol})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"}),BreadcrumbsSeparator=styled$4("li",{name:"MuiBreadcrumbs",slot:"Separator",overridesResolver:(ts,rs)=>rs.separator})({display:"flex",userSelect:"none",marginLeft:8,marginRight:8});function insertSeparators(ts,rs,ns,os){return ts.reduce((ss,as,ls)=>(ls<ts.length-1?ss=ss.concat(as,jsxRuntimeExports.jsx(BreadcrumbsSeparator,{"aria-hidden":!0,className:rs,ownerState:os,children:ns},"separator-".concat(ls))):ss.push(as),ss),[])}const Breadcrumbs=reactExports.forwardRef(function(rs,ns){const os=useDefaultProps({props:rs,name:"MuiBreadcrumbs"}),{children:ss,className:as,component:ls="nav",slots:cs={},slotProps:us={},expandText:ds="Show path",itemsAfterCollapse:ps=1,itemsBeforeCollapse:fs=1,maxItems:hs=8,separator:ms="/"}=os,gs=_objectWithoutPropertiesLoose$1(os,_excluded$22),[vs,bs]=reactExports.useState(!1),xs=_extends$5({},os,{component:ls,expanded:vs,expandText:ds,itemsAfterCollapse:ps,itemsBeforeCollapse:fs,maxItems:hs,separator:ms}),ys=useUtilityClasses$1R(xs),Ss=useSlotProps({elementType:cs.CollapsedIcon,externalSlotProps:us.collapsedIcon,ownerState:xs}),Cs=reactExports.useRef(null),$s=ws=>{const Ts=()=>{bs(!0);const Is=Cs.current.querySelector("a[href],button,[tabindex]");Is&&Is.focus()};return fs+ps>=ws.length?ws:[...ws.slice(0,fs),jsxRuntimeExports.jsx(BreadcrumbCollapsed,{"aria-label":ds,slots:{CollapsedIcon:cs.CollapsedIcon},slotProps:{collapsedIcon:Ss},onClick:Ts},"ellipsis"),...ws.slice(ws.length-ps,ws.length)]},Es=reactExports.Children.toArray(ss).filter(ws=>reactExports.isValidElement(ws)).map((ws,Ts)=>jsxRuntimeExports.jsx("li",{className:ys.li,children:ws},"child-".concat(Ts)));return jsxRuntimeExports.jsx(BreadcrumbsRoot,_extends$5({ref:ns,component:ls,color:"text.secondary",className:clsx$1(ys.root,as),ownerState:xs},gs,{children:jsxRuntimeExports.jsx(BreadcrumbsOl,{className:ys.ol,ref:Cs,ownerState:xs,children:insertSeparators(vs||hs&&Es.length<=hs?Es:$s(Es),ys.separator,ms,xs)})}))}),Breadcrumbs$1=Breadcrumbs;function getCardUtilityClass(ts){return generateUtilityClass("MuiCard",ts)}generateUtilityClasses("MuiCard",["root"]);const _excluded$21=["className","raised"],useUtilityClasses$1Q=ts=>{const{classes:rs}=ts;return composeClasses({root:["root"]},getCardUtilityClass,rs)},CardRoot=styled$4(Paper$1,{name:"MuiCard",slot:"Root",overridesResolver:(ts,rs)=>rs.root})(()=>({overflow:"hidden"})),Card=reactExports.forwardRef(function(rs,ns){const os=useDefaultProps({props:rs,name:"MuiCard"}),{className:ss,raised:as=!1}=os,ls=_objectWithoutPropertiesLoose$1(os,_excluded$21),cs=_extends$5({},os,{raised:as}),us=useUtilityClasses$1Q(cs);return jsxRuntimeExports.jsx(CardRoot,_extends$5({className:clsx$1(us.root,ss),elevation:as?8:void 0,ref:ns,ownerState:cs},ls))}),Card$1=Card;function getSwitchBaseUtilityClass(ts){return generateUtilityClass("PrivateSwitchBase",ts)}generateUtilityClasses("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const _excluded$20=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],useUtilityClasses$1P=ts=>{const{classes:rs,checked:ns,disabled:os,edge:ss}=ts,as={root:["root",ns&&"checked",os&&"disabled",ss&&"edge".concat(capitalize$1(ss))],input:["input"]};return composeClasses(as,getSwitchBaseUtilityClass,rs)},SwitchBaseRoot=styled$4(ButtonBase$1)(({ownerState:ts})=>_extends$5({padding:9,borderRadius:"50%"},ts.edge==="start"&&{marginLeft:ts.size==="small"?-3:-12},ts.edge==="end"&&{marginRight:ts.size==="small"?-3:-12})),SwitchBaseInput=styled$4("input",{shouldForwardProp:rootShouldForwardProp$2})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),SwitchBase=reactExports.forwardRef(function(rs,ns){const{autoFocus:os,checked:ss,checkedIcon:as,className:ls,defaultChecked:cs,disabled:us,disableFocusRipple:ds=!1,edge:ps=!1,icon:fs,id:hs,inputProps:ms,inputRef:gs,name:vs,onBlur:bs,onChange:xs,onFocus:ys,readOnly:Ss,required:Cs=!1,tabIndex:$s,type:Es,value:ws}=rs,Ts=_objectWithoutPropertiesLoose$1(rs,_excluded$20),[Is,Rs]=useControlled({controlled:ss,default:!!cs,name:"SwitchBase",state:"checked"}),As=useFormControl(),ks=Ls=>{ys&&ys(Ls),As&&As.onFocus&&As.onFocus(Ls)},Ms=Ls=>{bs&&bs(Ls),As&&As.onBlur&&As.onBlur(Ls)},Os=Ls=>{if(Ls.nativeEvent.defaultPrevented)return;const Ns=Ls.target.checked;Rs(Ns),xs&&xs(Ls,Ns)};let Ds=us;As&&typeof Ds>"u"&&(Ds=As.disabled);const Fs=Es==="checkbox"||Es==="radio",js=_extends$5({},rs,{checked:Is,disabled:Ds,disableFocusRipple:ds,edge:ps}),Ps=useUtilityClasses$1P(js);return jsxRuntimeExports.jsxs(SwitchBaseRoot,_extends$5({component:"span",className:clsx$1(Ps.root,ls),centerRipple:!0,focusRipple:!ds,disabled:Ds,tabIndex:null,role:void 0,onFocus:ks,onBlur:Ms,ownerState:js,ref:ns},Ts,{children:[jsxRuntimeExports.jsx(SwitchBaseInput,_extends$5({autoFocus:os,checked:ss,defaultChecked:cs,className:Ps.input,disabled:Ds,id:Fs?hs:void 0,name:vs,onChange:Os,readOnly:Ss,ref:gs,required:Cs,ownerState:js,tabIndex:$s,type:Es},Es==="checkbox"&&ws===void 0?{}:{value:ws},ms)),Is?as:fs]}))}),SwitchBase$1=SwitchBase,CheckBoxOutlineBlankIcon=createSvgIcon$1(jsxRuntimeExports.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),CheckBoxIcon=createSvgIcon$1(jsxRuntimeExports.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),IndeterminateCheckBoxIcon=createSvgIcon$1(jsxRuntimeExports.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function getCheckboxUtilityClass(ts){return generateUtilityClass("MuiCheckbox",ts)}const checkboxClasses=generateUtilityClasses("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),checkboxClasses$1=checkboxClasses,_excluded$1$=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],useUtilityClasses$1O=ts=>{const{classes:rs,indeterminate:ns,color:os,size:ss}=ts,as={root:["root",ns&&"indeterminate","color".concat(capitalize$1(os)),"size".concat(capitalize$1(ss))]},ls=composeClasses(as,getCheckboxUtilityClass,rs);return _extends$5({},rs,ls)},CheckboxRoot=styled$4(SwitchBase$1,{shouldForwardProp:ts=>rootShouldForwardProp$2(ts)||ts==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(ts,rs)=>{const{ownerState:ns}=ts;return[rs.root,ns.indeterminate&&rs.indeterminate,rs["size".concat(capitalize$1(ns.size))],ns.color!=="default"&&rs["color".concat(capitalize$1(ns.color))]]}})(({theme:ts,ownerState:rs})=>_extends$5({color:(ts.vars||ts).palette.text.secondary},!rs.disableRipple&&{"&:hover":{backgroundColor:ts.vars?"rgba(".concat(rs.color==="default"?ts.vars.palette.action.activeChannel:ts.vars.palette[rs.color].mainChannel," / ").concat(ts.vars.palette.action.hoverOpacity,")"):alpha_1(rs.color==="default"?ts.palette.action.active:ts.palette[rs.color].main,ts.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},rs.color!=="default"&&{["&.".concat(checkboxClasses$1.checked,", &.").concat(checkboxClasses$1.indeterminate)]:{color:(ts.vars||ts).palette[rs.color].main},["&.".concat(checkboxClasses$1.disabled)]:{color:(ts.vars||ts).palette.action.disabled}})),defaultCheckedIcon$1=jsxRuntimeExports.jsx(CheckBoxIcon,{}),defaultIcon$1=jsxRuntimeExports.jsx(CheckBoxOutlineBlankIcon,{}),defaultIndeterminateIcon=jsxRuntimeExports.jsx(IndeterminateCheckBoxIcon,{}),Checkbox=reactExports.forwardRef(function(rs,ns){var os,ss;const as=useDefaultProps({props:rs,name:"MuiCheckbox"}),{checkedIcon:ls=defaultCheckedIcon$1,color:cs="primary",icon:us=defaultIcon$1,indeterminate:ds=!1,indeterminateIcon:ps=defaultIndeterminateIcon,inputProps:fs,size:hs="medium",className:ms}=as,gs=_objectWithoutPropertiesLoose$1(as,_excluded$1$),vs=ds?ps:us,bs=ds?ps:ls,xs=_extends$5({},as,{color:cs,indeterminate:ds,size:hs}),ys=useUtilityClasses$1O(xs);return jsxRuntimeExports.jsx(CheckboxRoot,_extends$5({type:"checkbox",inputProps:_extends$5({"data-indeterminate":ds},fs),icon:reactExports.cloneElement(vs,{fontSize:(os=vs.props.fontSize)!=null?os:hs}),checkedIcon:reactExports.cloneElement(bs,{fontSize:(ss=bs.props.fontSize)!=null?ss:hs}),ownerState:xs,ref:ns,className:clsx$1(ys.root,ms)},gs,{classes:ys}))}),Checkbox$1=Checkbox;function mapEventPropToEvent(ts){return ts.substring(2).toLowerCase()}function clickedRootScrollbar$1(ts,rs){return rs.documentElement.clientWidth<ts.clientX||rs.documentElement.clientHeight<ts.clientY}function ClickAwayListener(ts){const{children:rs,disableReactTree:ns=!1,mouseEvent:os="onClick",onClickAway:ss,touchEvent:as="onTouchEnd"}=ts,ls=reactExports.useRef(!1),cs=reactExports.useRef(null),us=reactExports.useRef(!1),ds=reactExports.useRef(!1);reactExports.useEffect(()=>(setTimeout(()=>{us.current=!0},0),()=>{us.current=!1}),[]);const ps=useForkRef(rs.ref,cs),fs=useEventCallback(gs=>{const vs=ds.current;ds.current=!1;const bs=ownerDocument(cs.current);if(!us.current||!cs.current||"clientX"in gs&&clickedRootScrollbar$1(gs,bs))return;if(ls.current){ls.current=!1;return}let xs;gs.composedPath?xs=gs.composedPath().indexOf(cs.current)>-1:xs=!bs.documentElement.contains(gs.target)||cs.current.contains(gs.target),!xs&&(ns||!vs)&&ss(gs)}),hs=gs=>vs=>{ds.current=!0;const bs=rs.props[gs];bs&&bs(vs)},ms={ref:ps};return as!==!1&&(ms[as]=hs(as)),reactExports.useEffect(()=>{if(as!==!1){const gs=mapEventPropToEvent(as),vs=ownerDocument(cs.current),bs=()=>{ls.current=!0};return vs.addEventListener(gs,fs),vs.addEventListener("touchmove",bs),()=>{vs.removeEventListener(gs,fs),vs.removeEventListener("touchmove",bs)}}},[fs,as]),os!==!1&&(ms[os]=hs(os)),reactExports.useEffect(()=>{if(os!==!1){const gs=mapEventPropToEvent(os),vs=ownerDocument(cs.current);return vs.addEventListener(gs,fs),()=>{vs.removeEventListener(gs,fs)}}},[fs,os]),jsxRuntimeExports.jsx(reactExports.Fragment,{children:reactExports.cloneElement(rs,ms)})}const Container=createContainer({createStyledComponent:styled$4("div",{name:"MuiContainer",slot:"Root",overridesResolver:(ts,rs)=>{const{ownerState:ns}=ts;return[rs.root,rs["maxWidth".concat(capitalize$1(String(ns.maxWidth)))],ns.fixed&&rs.fixed,ns.disableGutters&&rs.disableGutters]}}),useThemeProps:ts=>useDefaultProps({props:ts,name:"MuiContainer"})}),Container$1=Container,html=(ts,rs)=>_extends$5({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},rs&&!ts.vars&&{colorScheme:ts.palette.mode}),body=ts=>_extends$5({color:(ts.vars||ts).palette.text.primary},ts.typography.body1,{backgroundColor:(ts.vars||ts).palette.background.default,"@media print":{backgroundColor:(ts.vars||ts).palette.common.white}}),styles=(ts,rs=!1)=>{var ns;const os={};rs&&ts.colorSchemes&&Object.entries(ts.colorSchemes).forEach(([ls,cs])=>{var us;os[ts.getColorSchemeSelector(ls).replace(/\s*&/,"")]={colorScheme:(us=cs.palette)==null?void 0:us.mode}});let ss=_extends$5({html:html(ts,rs),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:ts.typography.fontWeightBold},body:_extends$5({margin:0},body(ts),{"&::backdrop":{backgroundColor:(ts.vars||ts).palette.background.default}})},os);const as=(ns=ts.components)==null||(ns=ns.MuiCssBaseline)==null?void 0:ns.styleOverrides;return as&&(ss=[ss,as]),ss};function CssBaseline(ts){const rs=useDefaultProps({props:ts,name:"MuiCssBaseline"}),{children:ns,enableColorScheme:os=!1}=rs;return jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx(GlobalStyles$1,{styles:ss=>styles(ss,os)}),ns]})}function isOverflowing(ts){const rs=ownerDocument(ts);return rs.body===ts?ownerWindow(ts).innerWidth>rs.documentElement.clientWidth:ts.scrollHeight>ts.clientHeight}function ariaHidden(ts,rs){rs?ts.setAttribute("aria-hidden","true"):ts.removeAttribute("aria-hidden")}function getPaddingRight(ts){return parseInt(ownerWindow(ts).getComputedStyle(ts).paddingRight,10)||0}function isAriaHiddenForbiddenOnElement(ts){const ns=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(ts.tagName)!==-1,os=ts.tagName==="INPUT"&&ts.getAttribute("type")==="hidden";return ns||os}function ariaHiddenSiblings(ts,rs,ns,os,ss){const as=[rs,ns,...os];[].forEach.call(ts.children,ls=>{const cs=as.indexOf(ls)===-1,us=!isAriaHiddenForbiddenOnElement(ls);cs&&us&&ariaHidden(ls,ss)})}function findIndexOf(ts,rs){let ns=-1;return ts.some((os,ss)=>rs(os)?(ns=ss,!0):!1),ns}function handleContainer(ts,rs){const ns=[],os=ts.container;if(!rs.disableScrollLock){if(isOverflowing(os)){const ls=getScrollbarSize(ownerDocument(os));ns.push({value:os.style.paddingRight,property:"padding-right",el:os}),os.style.paddingRight="".concat(getPaddingRight(os)+ls,"px");const cs=ownerDocument(os).querySelectorAll(".mui-fixed");[].forEach.call(cs,us=>{ns.push({value:us.style.paddingRight,property:"padding-right",el:us}),us.style.paddingRight="".concat(getPaddingRight(us)+ls,"px")})}let as;if(os.parentNode instanceof DocumentFragment)as=ownerDocument(os).body;else{const ls=os.parentElement,cs=ownerWindow(os);as=(ls==null?void 0:ls.nodeName)==="HTML"&&cs.getComputedStyle(ls).overflowY==="scroll"?ls:os}ns.push({value:as.style.overflow,property:"overflow",el:as},{value:as.style.overflowX,property:"overflow-x",el:as},{value:as.style.overflowY,property:"overflow-y",el:as}),as.style.overflow="hidden"}return()=>{ns.forEach(({value:as,el:ls,property:cs})=>{as?ls.style.setProperty(cs,as):ls.style.removeProperty(cs)})}}function getHiddenSiblings(ts){const rs=[];return[].forEach.call(ts.children,ns=>{ns.getAttribute("aria-hidden")==="true"&&rs.push(ns)}),rs}class ModalManager{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(rs,ns){let os=this.modals.indexOf(rs);if(os!==-1)return os;os=this.modals.length,this.modals.push(rs),rs.modalRef&&ariaHidden(rs.modalRef,!1);const ss=getHiddenSiblings(ns);ariaHiddenSiblings(ns,rs.mount,rs.modalRef,ss,!0);const as=findIndexOf(this.containers,ls=>ls.container===ns);return as!==-1?(this.containers[as].modals.push(rs),os):(this.containers.push({modals:[rs],container:ns,restore:null,hiddenSiblings:ss}),os)}mount(rs,ns){const os=findIndexOf(this.containers,as=>as.modals.indexOf(rs)!==-1),ss=this.containers[os];ss.restore||(ss.restore=handleContainer(ss,ns))}remove(rs,ns=!0){const os=this.modals.indexOf(rs);if(os===-1)return os;const ss=findIndexOf(this.containers,ls=>ls.modals.indexOf(rs)!==-1),as=this.containers[ss];if(as.modals.splice(as.modals.indexOf(rs),1),this.modals.splice(os,1),as.modals.length===0)as.restore&&as.restore(),rs.modalRef&&ariaHidden(rs.modalRef,ns),ariaHiddenSiblings(as.container,rs.mount,rs.modalRef,as.hiddenSiblings,!1),this.containers.splice(ss,1);else{const ls=as.modals[as.modals.length-1];ls.modalRef&&ariaHidden(ls.modalRef,!1)}return os}isTopModal(rs){return this.modals.length>0&&this.modals[this.modals.length-1]===rs}}const candidatesSelector=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function getTabIndex(ts){const rs=parseInt(ts.getAttribute("tabindex")||"",10);return Number.isNaN(rs)?ts.contentEditable==="true"||(ts.nodeName==="AUDIO"||ts.nodeName==="VIDEO"||ts.nodeName==="DETAILS")&&ts.getAttribute("tabindex")===null?0:ts.tabIndex:rs}function isNonTabbableRadio(ts){if(ts.tagName!=="INPUT"||ts.type!=="radio"||!ts.name)return!1;const rs=os=>ts.ownerDocument.querySelector('input[type="radio"]'.concat(os));let ns=rs('[name="'.concat(ts.name,'"]:checked'));return ns||(ns=rs('[name="'.concat(ts.name,'"]'))),ns!==ts}function isNodeMatchingSelectorFocusable(ts){return!(ts.disabled||ts.tagName==="INPUT"&&ts.type==="hidden"||isNonTabbableRadio(ts))}function defaultGetTabbable(ts){const rs=[],ns=[];return Array.from(ts.querySelectorAll(candidatesSelector)).forEach((os,ss)=>{const as=getTabIndex(os);as===-1||!isNodeMatchingSelectorFocusable(os)||(as===0?rs.push(os):ns.push({documentOrder:ss,tabIndex:as,node:os}))}),ns.sort((os,ss)=>os.tabIndex===ss.tabIndex?os.documentOrder-ss.documentOrder:os.tabIndex-ss.tabIndex).map(os=>os.node).concat(rs)}function defaultIsEnabled(){return!0}function FocusTrap(ts){const{children:rs,disableAutoFocus:ns=!1,disableEnforceFocus:os=!1,disableRestoreFocus:ss=!1,getTabbable:as=defaultGetTabbable,isEnabled:ls=defaultIsEnabled,open:cs}=ts,us=reactExports.useRef(!1),ds=reactExports.useRef(null),ps=reactExports.useRef(null),fs=reactExports.useRef(null),hs=reactExports.useRef(null),ms=reactExports.useRef(!1),gs=reactExports.useRef(null),vs=useForkRef(rs.ref,gs),bs=reactExports.useRef(null);reactExports.useEffect(()=>{!cs||!gs.current||(ms.current=!ns)},[ns,cs]),reactExports.useEffect(()=>{if(!cs||!gs.current)return;const Ss=ownerDocument(gs.current);return gs.current.contains(Ss.activeElement)||(gs.current.hasAttribute("tabIndex")||gs.current.setAttribute("tabIndex","-1"),ms.current&&gs.current.focus()),()=>{ss||(fs.current&&fs.current.focus&&(us.current=!0,fs.current.focus()),fs.current=null)}},[cs]),reactExports.useEffect(()=>{if(!cs||!gs.current)return;const Ss=ownerDocument(gs.current),Cs=ws=>{bs.current=ws,!(os||!ls()||ws.key!=="Tab")&&Ss.activeElement===gs.current&&ws.shiftKey&&(us.current=!0,ps.current&&ps.current.focus())},$s=()=>{const ws=gs.current;if(ws===null)return;if(!Ss.hasFocus()||!ls()||us.current){us.current=!1;return}if(ws.contains(Ss.activeElement)||os&&Ss.activeElement!==ds.current&&Ss.activeElement!==ps.current)return;if(Ss.activeElement!==hs.current)hs.current=null;else if(hs.current!==null)return;if(!ms.current)return;let Ts=[];if((Ss.activeElement===ds.current||Ss.activeElement===ps.current)&&(Ts=as(gs.current)),Ts.length>0){var Is,Rs;const As=!!((Is=bs.current)!=null&&Is.shiftKey&&((Rs=bs.current)==null?void 0:Rs.key)==="Tab"),ks=Ts[0],Ms=Ts[Ts.length-1];typeof ks!="string"&&typeof Ms!="string"&&(As?Ms.focus():ks.focus())}else ws.focus()};Ss.addEventListener("focusin",$s),Ss.addEventListener("keydown",Cs,!0);const Es=setInterval(()=>{Ss.activeElement&&Ss.activeElement.tagName==="BODY"&&$s()},50);return()=>{clearInterval(Es),Ss.removeEventListener("focusin",$s),Ss.removeEventListener("keydown",Cs,!0)}},[ns,os,ss,ls,cs,as]);const xs=Ss=>{fs.current===null&&(fs.current=Ss.relatedTarget),ms.current=!0,hs.current=Ss.target;const Cs=rs.props.onFocus;Cs&&Cs(Ss)},ys=Ss=>{fs.current===null&&(fs.current=Ss.relatedTarget),ms.current=!0};return jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{tabIndex:cs?0:-1,onFocus:ys,ref:ds,"data-testid":"sentinelStart"}),reactExports.cloneElement(rs,{ref:vs,onFocus:xs}),jsxRuntimeExports.jsx("div",{tabIndex:cs?0:-1,onFocus:ys,ref:ps,"data-testid":"sentinelEnd"})]})}function getContainer(ts){return typeof ts=="function"?ts():ts}function getHasTransition(ts){return ts?ts.props.hasOwnProperty("in"):!1}const defaultManager=new ModalManager;function useModal(ts){const{container:rs,disableEscapeKeyDown:ns=!1,disableScrollLock:os=!1,manager:ss=defaultManager,closeAfterTransition:as=!1,onTransitionEnter:ls,onTransitionExited:cs,children:us,onClose:ds,open:ps,rootRef:fs}=ts,hs=reactExports.useRef({}),ms=reactExports.useRef(null),gs=reactExports.useRef(null),vs=useForkRef(gs,fs),[bs,xs]=reactExports.useState(!ps),ys=getHasTransition(us);let Ss=!0;(ts["aria-hidden"]==="false"||ts["aria-hidden"]===!1)&&(Ss=!1);const Cs=()=>ownerDocument(ms.current),$s=()=>(hs.current.modalRef=gs.current,hs.current.mount=ms.current,hs.current),Es=()=>{ss.mount($s(),{disableScrollLock:os}),gs.current&&(gs.current.scrollTop=0)},ws=useEventCallback(()=>{const Fs=getContainer(rs)||Cs().body;ss.add($s(),Fs),gs.current&&Es()}),Ts=reactExports.useCallback(()=>ss.isTopModal($s()),[ss]),Is=useEventCallback(Fs=>{ms.current=Fs,Fs&&(ps&&Ts()?Es():gs.current&&ariaHidden(gs.current,Ss))}),Rs=reactExports.useCallback(()=>{ss.remove($s(),Ss)},[Ss,ss]);reactExports.useEffect(()=>()=>{Rs()},[Rs]),reactExports.useEffect(()=>{ps?ws():(!ys||!as)&&Rs()},[ps,Rs,ys,as,ws]);const As=Fs=>js=>{var Ps;(Ps=Fs.onKeyDown)==null||Ps.call(Fs,js),!(js.key!=="Escape"||js.which===229||!Ts())&&(ns||(js.stopPropagation(),ds&&ds(js,"escapeKeyDown")))},ks=Fs=>js=>{var Ps;(Ps=Fs.onClick)==null||Ps.call(Fs,js),js.target===js.currentTarget&&ds&&ds(js,"backdropClick")};return{getRootProps:(Fs={})=>{const js=extractEventHandlers(ts);delete js.onTransitionEnter,delete js.onTransitionExited;const Ps=_extends$5({},js,Fs);return _extends$5({role:"presentation"},Ps,{onKeyDown:As(Ps),ref:vs})},getBackdropProps:(Fs={})=>{const js=Fs;return _extends$5({"aria-hidden":!0},js,{onClick:ks(js),open:ps})},getTransitionProps:()=>{const Fs=()=>{xs(!1),ls&&ls()},js=()=>{xs(!0),cs&&cs(),as&&Rs()};return{onEnter:createChainedFunction(Fs,us==null?void 0:us.props.onEnter),onExited:createChainedFunction(js,us==null?void 0:us.props.onExited)}},rootRef:vs,portalRef:Is,isTopModal:Ts,exited:bs,hasTransition:ys}}function getModalUtilityClass(ts){return generateUtilityClass("MuiModal",ts)}generateUtilityClasses("MuiModal",["root","hidden","backdrop"]);const _excluded$1_=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],useUtilityClasses$1N=ts=>{const{open:rs,exited:ns,classes:os}=ts;return composeClasses({root:["root",!rs&&ns&&"hidden"],backdrop:["backdrop"]},getModalUtilityClass,os)},ModalRoot=styled$4("div",{name:"MuiModal",slot:"Root",overridesResolver:(ts,rs)=>{const{ownerState:ns}=ts;return[rs.root,!ns.open&&ns.exited&&rs.hidden]}})(({theme:ts,ownerState:rs})=>_extends$5({position:"fixed",zIndex:(ts.vars||ts).zIndex.modal,right:0,bottom:0,top:0,left:0},!rs.open&&rs.exited&&{visibility:"hidden"})),ModalBackdrop=styled$4(Backdrop$1,{name:"MuiModal",slot:"Backdrop",overridesResolver:(ts,rs)=>rs.backdrop})({zIndex:-1}),Modal=reactExports.forwardRef(function(rs,ns){var os,ss,as,ls,cs,us;const ds=useDefaultProps({name:"MuiModal",props:rs}),{BackdropComponent:ps=ModalBackdrop,BackdropProps:fs,className:hs,closeAfterTransition:ms=!1,children:gs,container:vs,component:bs,components:xs={},componentsProps:ys={},disableAutoFocus:Ss=!1,disableEnforceFocus:Cs=!1,disableEscapeKeyDown:$s=!1,disablePortal:Es=!1,disableRestoreFocus:ws=!1,disableScrollLock:Ts=!1,hideBackdrop:Is=!1,keepMounted:Rs=!1,onBackdropClick:As,open:ks,slotProps:Ms,slots:Os}=ds,Ds=_objectWithoutPropertiesLoose$1(ds,_excluded$1_),Fs=_extends$5({},ds,{closeAfterTransition:ms,disableAutoFocus:Ss,disableEnforceFocus:Cs,disableEscapeKeyDown:$s,disablePortal:Es,disableRestoreFocus:ws,disableScrollLock:Ts,hideBackdrop:Is,keepMounted:Rs}),{getRootProps:js,getBackdropProps:Ps,getTransitionProps:Ls,portalRef:Ns,isTopModal:Gs,exited:Us,hasTransition:Hs}=useModal(_extends$5({},Fs,{rootRef:ns})),zs=_extends$5({},Fs,{exited:Us}),qs=useUtilityClasses$1N(zs),Vs={};if(gs.props.tabIndex===void 0&&(Vs.tabIndex="-1"),Hs){const{onEnter:Sl,onExited:Ml}=Ls();Vs.onEnter=Sl,Vs.onExited=Ml}const Ks=(os=(ss=Os==null?void 0:Os.root)!=null?ss:xs.Root)!=null?os:ModalRoot,Ws=(as=(ls=Os==null?void 0:Os.backdrop)!=null?ls:xs.Backdrop)!=null?as:ps,Pl=(cs=Ms==null?void 0:Ms.root)!=null?cs:ys.root,Tl=(us=Ms==null?void 0:Ms.backdrop)!=null?us:ys.backdrop,El=useSlotProps({elementType:Ks,externalSlotProps:Pl,externalForwardedProps:Ds,getSlotProps:js,additionalProps:{ref:ns,as:bs},ownerState:zs,className:clsx$1(hs,Pl==null?void 0:Pl.className,qs==null?void 0:qs.root,!zs.open&&zs.exited&&(qs==null?void 0:qs.hidden))}),$l=useSlotProps({elementType:Ws,externalSlotProps:Tl,additionalProps:fs,getSlotProps:Sl=>Ps(_extends$5({},Sl,{onClick:Ml=>{As&&As(Ml),Sl!=null&&Sl.onClick&&Sl.onClick(Ml)}})),className:clsx$1(Tl==null?void 0:Tl.className,fs==null?void 0:fs.className,qs==null?void 0:qs.backdrop),ownerState:zs});return!Rs&&!ks&&(!Hs||Us)?null:jsxRuntimeExports.jsx(Portal$1,{ref:Ns,container:vs,disablePortal:Es,children:jsxRuntimeExports.jsxs(Ks,_extends$5({},El,{children:[!Is&&ps?jsxRuntimeExports.jsx(Ws,_extends$5({},$l)):null,jsxRuntimeExports.jsx(FocusTrap,{disableEnforceFocus:Cs,disableAutoFocus:Ss,disableRestoreFocus:ws,isEnabled:Gs,open:ks,children:reactExports.cloneElement(gs,Vs)})]}))})}),Modal$1=Modal;function getDialogUtilityClass(ts){return generateUtilityClass("MuiDialog",ts)}const dialogClasses=generateUtilityClasses("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),dialogClasses$1=dialogClasses,DialogContext=reactExports.createContext({}),DialogContext$1=DialogContext,_excluded$1Z=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],DialogBackdrop=styled$4(Backdrop$1,{name:"MuiDialog",slot:"Backdrop",overrides:(ts,rs)=>rs.backdrop})({zIndex:-1}),useUtilityClasses$1M=ts=>{const{classes:rs,scroll:ns,maxWidth:os,fullWidth:ss,fullScreen:as}=ts,ls={root:["root"],container:["container","scroll".concat(capitalize$1(ns))],paper:["paper","paperScroll".concat(capitalize$1(ns)),"paperWidth".concat(capitalize$1(String(os))),ss&&"paperFullWidth",as&&"paperFullScreen"]};return composeClasses(ls,getDialogUtilityClass,rs)},DialogRoot=styled$4(Modal$1,{name:"MuiDialog",slot:"Root",overridesResolver:(ts,rs)=>rs.root})({"@media print":{position:"absolute !important"}}),DialogContainer=styled$4("div",{name:"MuiDialog",slot:"Container",overridesResolver:(ts,rs)=>{const{ownerState:ns}=ts;return[rs.container,rs["scroll".concat(capitalize$1(ns.scroll))]]}})(({ownerState:ts})=>_extends$5({height:"100%","@media print":{height:"auto"},outline:0},ts.scroll==="paper"&&{display:"flex",justifyContent:"center",alignItems:"center"},ts.scroll==="body"&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})),DialogPaper=styled$4(Paper$1,{name:"MuiDialog",slot:"Paper",overridesResolver:(ts,rs)=>{const{ownerState:ns}=ts;return[rs.paper,rs["scrollPaper".concat(capitalize$1(ns.scroll))],rs["paperWidth".concat(capitalize$1(String(ns.maxWidth)))],ns.fullWidth&&rs.paperFullWidth,ns.fullScreen&&rs.paperFullScreen]}})(({theme:ts,ownerState:rs})=>_extends$5({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},rs.scroll==="paper"&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},rs.scroll==="body"&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!rs.maxWidth&&{maxWidth:"calc(100% - 64px)"},rs.maxWidth==="xs"&&{maxWidth:ts.breakpoints.unit==="px"?Math.max(ts.breakpoints.values.xs,444):"max(".concat(ts.breakpoints.values.xs).concat(ts.breakpoints.unit,", 444px)"),["&.".concat(dialogClasses$1.paperScrollBody)]:{[ts.breakpoints.down(Math.max(ts.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}},rs.maxWidth&&rs.maxWidth!=="xs"&&{maxWidth:"".concat(ts.breakpoints.values[rs.maxWidth]).concat(ts.breakpoints.unit),["&.".concat(dialogClasses$1.paperScrollBody)]:{[ts.breakpoints.down(ts.breakpoints.values[rs.maxWidth]+32*2)]:{maxWidth:"calc(100% - 64px)"}}},rs.fullWidth&&{width:"calc(100% - 64px)"},rs.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,["&.".concat(dialogClasses$1.paperScrollBody)]:{margin:0,maxWidth:"100%"}})),Dialog=reactExports.forwardRef(function(rs,ns){const os=useDefaultProps({props:rs,name:"MuiDialog"}),ss=useTheme$1(),as={enter:ss.transitions.duration.enteringScreen,exit:ss.transitions.duration.leavingScreen},{"aria-describedby":ls,"aria-labelledby":cs,BackdropComponent:us,BackdropProps:ds,children:ps,className:fs,disableEscapeKeyDown:hs=!1,fullScreen:ms=!1,fullWidth:gs=!1,maxWidth:vs="sm",onBackdropClick:bs,onClick:xs,onClose:ys,open:Ss,PaperComponent:Cs=Paper$1,PaperProps:$s={},scroll:Es="paper",TransitionComponent:ws=Fade$1,transitionDuration:Ts=as,TransitionProps:Is}=os,Rs=_objectWithoutPropertiesLoose$1(os,_excluded$1Z),As=_extends$5({},os,{disableEscapeKeyDown:hs,fullScreen:ms,fullWidth:gs,maxWidth:vs,scroll:Es}),ks=useUtilityClasses$1M(As),Ms=reactExports.useRef(),Os=Ps=>{Ms.current=Ps.target===Ps.currentTarget},Ds=Ps=>{xs&&xs(Ps),Ms.current&&(Ms.current=null,bs&&bs(Ps),ys&&ys(Ps,"backdropClick"))},Fs=useId(cs),js=reactExports.useMemo(()=>({titleId:Fs}),[Fs]);return jsxRuntimeExports.jsx(DialogRoot,_extends$5({className:clsx$1(ks.root,fs),closeAfterTransition:!0,components:{Backdrop:DialogBackdrop},componentsProps:{backdrop:_extends$5({transitionDuration:Ts,as:us},ds)},disableEscapeKeyDown:hs,onClose:ys,open:Ss,ref:ns,onClick:Ds,ownerState:As},Rs,{children:jsxRuntimeExports.jsx(ws,_extends$5({appear:!0,in:Ss,timeout:Ts,role:"presentation"},Is,{children:jsxRuntimeExports.jsx(DialogContainer,{className:clsx$1(ks.container),onMouseDown:Os,ownerState:As,children:jsxRuntimeExports.jsx(DialogPaper,_extends$5({as:Cs,elevation:24,role:"dialog","aria-describedby":ls,"aria-labelledby":Fs},$s,{className:clsx$1(ks.paper,$s.className),ownerState:As,children:jsxRuntimeExports.jsx(DialogContext$1.Provider,{value:js,children:ps})}))})}))}))}),Dialog$1=Dialog;function getDialogActionsUtilityClass(ts){return generateUtilityClass("MuiDialogActions",ts)}generateUtilityClasses("MuiDialogActions",["root","spacing"]);const _excluded$1Y=["className","disableSpacing"],useUtilityClasses$1L=ts=>{const{classes:rs,disableSpacing:ns}=ts;return composeClasses({root:["root",!ns&&"spacing"]},getDialogActionsUtilityClass,rs)},DialogActionsRoot=styled$4("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(ts,rs)=>{const{ownerState:ns}=ts;return[rs.root,!ns.disableSpacing&&rs.spacing]}})(({ownerState:ts})=>_extends$5({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!ts.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})),DialogActions=reactExports.forwardRef(function(rs,ns){const os=useDefaultProps({props:rs,name:"MuiDialogActions"}),{className:ss,disableSpacing:as=!1}=os,ls=_objectWithoutPropertiesLoose$1(os,_excluded$1Y),cs=_extends$5({},os,{disableSpacing:as}),us=useUtilityClasses$1L(cs);return jsxRuntimeExports.jsx(DialogActionsRoot,_extends$5({className:clsx$1(us.root,ss),ownerState:cs,ref:ns},ls))}),DialogActions$1=DialogActions;function getDialogContentUtilityClass(ts){return generateUtilityClass("MuiDialogContent",ts)}generateUtilityClasses("MuiDialogContent",["root","dividers"]);function getDialogTitleUtilityClass(ts){return generateUtilityClass("MuiDialogTitle",ts)}const dialogTitleClasses=generateUtilityClasses("MuiDialogTitle",["root"]),dialogTitleClasses$1=dialogTitleClasses,_excluded$1X=["className","dividers"],useUtilityClasses$1K=ts=>{const{classes:rs,dividers:ns}=ts;return composeClasses({root:["root",ns&&"dividers"]},getDialogContentUtilityClass,rs)},DialogContentRoot=styled$4("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(ts,rs)=>{const{ownerState:ns}=ts;return[rs.root,ns.dividers&&rs.dividers]}})(({theme:ts,ownerState:rs})=>_extends$5({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},rs.dividers?{padding:"16px 24px",borderTop:"1px solid ".concat((ts.vars||ts).palette.divider),borderBottom:"1px solid ".concat((ts.vars||ts).palette.divider)}:{[".".concat(dialogTitleClasses$1.root," + &")]:{paddingTop:0}})),DialogContent=reactExports.forwardRef(function(rs,ns){const os=useDefaultProps({props:rs,name:"MuiDialogContent"}),{className:ss,dividers:as=!1}=os,ls=_objectWithoutPropertiesLoose$1(os,_excluded$1X),cs=_extends$5({},os,{dividers:as}),us=useUtilityClasses$1K(cs);return jsxRuntimeExports.jsx(DialogContentRoot,_extends$5({className:clsx$1(us.root,ss),ownerState:cs,ref:ns},ls))}),DialogContent$1=DialogContent;function getDialogContentTextUtilityClass(ts){return generateUtilityClass("MuiDialogContentText",ts)}generateUtilityClasses("MuiDialogContentText",["root"]);const _excluded$1W=["children","className"],useUtilityClasses$1J=ts=>{const{classes:rs}=ts,os=composeClasses({root:["root"]},getDialogContentTextUtilityClass,rs);return _extends$5({},rs,os)},DialogContentTextRoot=styled$4(Typography$1,{shouldForwardProp:ts=>rootShouldForwardProp$2(ts)||ts==="classes",name:"MuiDialogContentText",slot:"Root",overridesResolver:(ts,rs)=>rs.root})({}),DialogContentText=reactExports.forwardRef(function(rs,ns){const os=useDefaultProps({props:rs,name:"MuiDialogContentText"}),{className:ss}=os,as=_objectWithoutPropertiesLoose$1(os,_excluded$1W),ls=useUtilityClasses$1J(as);return jsxRuntimeExports.jsx(DialogContentTextRoot,_extends$5({component:"p",variant:"body1",color:"text.secondary",ref:ns,ownerState:as,className:clsx$1(ls.root,ss)},os,{classes:ls}))}),DialogContentText$1=DialogContentText,_excluded$1V=["className","id"],useUtilityClasses$1I=ts=>{const{classes:rs}=ts;return composeClasses({root:["root"]},getDialogTitleUtilityClass,rs)},DialogTitleRoot=styled$4(Typography$1,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(ts,rs)=>rs.root})({padding:"16px 24px",flex:"0 0 auto"}),DialogTitle=reactExports.forwardRef(function(rs,ns){const os=useDefaultProps({props:rs,name:"MuiDialogTitle"}),{className:ss,id:as}=os,ls=_objectWithoutPropertiesLoose$1(os,_excluded$1V),cs=os,us=useUtilityClasses$1I(cs),{titleId:ds=as}=reactExports.useContext(DialogContext$1);return jsxRuntimeExports.jsx(DialogTitleRoot,_extends$5({component:"h2",className:clsx$1(us.root,ss),ownerState:cs,ref:ns,variant:"h6",id:as!=null?as:ds},ls))}),DialogTitle$1=DialogTitle;function getDividerUtilityClass(ts){return generateUtilityClass("MuiDivider",ts)}const dividerClasses=generateUtilityClasses("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),dividerClasses$1=dividerClasses,_excluded$1U=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],useUtilityClasses$1H=ts=>{const{absolute:rs,children:ns,classes:os,flexItem:ss,light:as,orientation:ls,textAlign:cs,variant:us}=ts;return composeClasses({root:["root",rs&&"absolute",us,as&&"light",ls==="vertical"&&"vertical",ss&&"flexItem",ns&&"withChildren",ns&&ls==="vertical"&&"withChildrenVertical",cs==="right"&&ls!=="vertical"&&"textAlignRight",cs==="left"&&ls!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",ls==="vertical"&&"wrapperVertical"]},getDividerUtilityClass,os)},DividerRoot=styled$4("div",{name:"MuiDivider",slot:"Root",overridesResolver:(ts,rs)=>{const{ownerState:ns}=ts;return[rs.root,ns.absolute&&rs.absolute,rs[ns.variant],ns.light&&rs.light,ns.orientation==="vertical"&&rs.vertical,ns.flexItem&&rs.flexItem,ns.children&&rs.withChildren,ns.children&&ns.orientation==="vertical"&&rs.withChildrenVertical,ns.textAlign==="right"&&ns.orientation!=="vertical"&&rs.textAlignRight,ns.textAlign==="left"&&ns.orientation!=="vertical"&&rs.textAlignLeft]}})(({theme:ts,ownerState:rs})=>_extends$5({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(ts.vars||ts).palette.divider,borderBottomWidth:"thin"},rs.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},rs.light&&{borderColor:ts.vars?"rgba(".concat(ts.vars.palette.dividerChannel," / 0.08)"):alpha_1(ts.palette.divider,.08)},rs.variant==="inset"&&{marginLeft:72},rs.variant==="middle"&&rs.orientation==="horizontal"&&{marginLeft:ts.spacing(2),marginRight:ts.spacing(2)},rs.variant==="middle"&&rs.orientation==="vertical"&&{marginTop:ts.spacing(1),marginBottom:ts.spacing(1)},rs.orientation==="vertical"&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},rs.flexItem&&{alignSelf:"stretch",height:"auto"}),({ownerState:ts})=>_extends$5({},ts.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,"&::before, &::after":{content:'""',alignSelf:"center"}}),({theme:ts,ownerState:rs})=>_extends$5({},rs.children&&rs.orientation!=="vertical"&&{"&::before, &::after":{width:"100%",borderTop:"thin solid ".concat((ts.vars||ts).palette.divider)}}),({theme:ts,ownerState:rs})=>_extends$5({},rs.children&&rs.orientation==="vertical"&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:"thin solid ".concat((ts.vars||ts).palette.divider)}}),({ownerState:ts})=>_extends$5({},ts.textAlign==="right"&&ts.orientation!=="vertical"&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},ts.textAlign==="left"&&ts.orientation!=="vertical"&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})),DividerWrapper=styled$4("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(ts,rs)=>{const{ownerState:ns}=ts;return[rs.wrapper,ns.orientation==="vertical"&&rs.wrapperVertical]}})(({theme:ts,ownerState:rs})=>_extends$5({display:"inline-block",paddingLeft:"calc(".concat(ts.spacing(1)," * 1.2)"),paddingRight:"calc(".concat(ts.spacing(1)," * 1.2)")},rs.orientation==="vertical"&&{paddingTop:"calc(".concat(ts.spacing(1)," * 1.2)"),paddingBottom:"calc(".concat(ts.spacing(1)," * 1.2)")})),Divider=reactExports.forwardRef(function(rs,ns){const os=useDefaultProps({props:rs,name:"MuiDivider"}),{absolute:ss=!1,children:as,className:ls,component:cs=as?"div":"hr",flexItem:us=!1,light:ds=!1,orientation:ps="horizontal",role:fs=cs!=="hr"?"separator":void 0,textAlign:hs="center",variant:ms="fullWidth"}=os,gs=_objectWithoutPropertiesLoose$1(os,_excluded$1U),vs=_extends$5({},os,{absolute:ss,component:cs,flexItem:us,light:ds,orientation:ps,role:fs,textAlign:hs,variant:ms}),bs=useUtilityClasses$1H(vs);return jsxRuntimeExports.jsx(DividerRoot,_extends$5({as:cs,className:clsx$1(bs.root,ls),role:fs,ref:ns,ownerState:vs},gs,{children:as?jsxRuntimeExports.jsx(DividerWrapper,{className:bs.wrapper,ownerState:vs,children:as}):null}))});Divider.muiSkipListHighlight=!0;const Divider$1=Divider,_excluded$1T=["addEndListener","appear","children","container","direction","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function getTranslateValue(ts,rs,ns){const os=rs.getBoundingClientRect(),ss=ns&&ns.getBoundingClientRect(),as=ownerWindow(rs);let ls;if(rs.fakeTransform)ls=rs.fakeTransform;else{const ds=as.getComputedStyle(rs);ls=ds.getPropertyValue("-webkit-transform")||ds.getPropertyValue("transform")}let cs=0,us=0;if(ls&&ls!=="none"&&typeof ls=="string"){const ds=ls.split("(")[1].split(")")[0].split(",");cs=parseInt(ds[4],10),us=parseInt(ds[5],10)}return ts==="left"?ss?"translateX(".concat(ss.right+cs-os.left,"px)"):"translateX(".concat(as.innerWidth+cs-os.left,"px)"):ts==="right"?ss?"translateX(-".concat(os.right-ss.left-cs,"px)"):"translateX(-".concat(os.left+os.width-cs,"px)"):ts==="up"?ss?"translateY(".concat(ss.bottom+us-os.top,"px)"):"translateY(".concat(as.innerHeight+us-os.top,"px)"):ss?"translateY(-".concat(os.top-ss.top+os.height-us,"px)"):"translateY(-".concat(os.top+os.height-us,"px)")}function resolveContainer(ts){return typeof ts=="function"?ts():ts}function setTranslateValue(ts,rs,ns){const os=resolveContainer(ns),ss=getTranslateValue(ts,rs,os);ss&&(rs.style.webkitTransform=ss,rs.style.transform=ss)}const Slide=reactExports.forwardRef(function(rs,ns){const os=useTheme$1(),ss={enter:os.transitions.easing.easeOut,exit:os.transitions.easing.sharp},as={enter:os.transitions.duration.enteringScreen,exit:os.transitions.duration.leavingScreen},{addEndListener:ls,appear:cs=!0,children:us,container:ds,direction:ps="down",easing:fs=ss,in:hs,onEnter:ms,onEntered:gs,onEntering:vs,onExit:bs,onExited:xs,onExiting:ys,style:Ss,timeout:Cs=as,TransitionComponent:$s=Transition$1}=rs,Es=_objectWithoutPropertiesLoose$1(rs,_excluded$1T),ws=reactExports.useRef(null),Ts=useForkRef(us.ref,ws,ns),Is=Ps=>Ls=>{Ps&&(Ls===void 0?Ps(ws.current):Ps(ws.current,Ls))},Rs=Is((Ps,Ls)=>{setTranslateValue(ps,Ps,ds),reflow(Ps),ms&&ms(Ps,Ls)}),As=Is((Ps,Ls)=>{const Ns=getTransitionProps({timeout:Cs,style:Ss,easing:fs},{mode:"enter"});Ps.style.webkitTransition=os.transitions.create("-webkit-transform",_extends$5({},Ns)),Ps.style.transition=os.transitions.create("transform",_extends$5({},Ns)),Ps.style.webkitTransform="none",Ps.style.transform="none",vs&&vs(Ps,Ls)}),ks=Is(gs),Ms=Is(ys),Os=Is(Ps=>{const Ls=getTransitionProps({timeout:Cs,style:Ss,easing:fs},{mode:"exit"});Ps.style.webkitTransition=os.transitions.create("-webkit-transform",Ls),Ps.style.transition=os.transitions.create("transform",Ls),setTranslateValue(ps,Ps,ds),bs&&bs(Ps)}),Ds=Is(Ps=>{Ps.style.webkitTransition="",Ps.style.transition="",xs&&xs(Ps)}),Fs=Ps=>{ls&&ls(ws.current,Ps)},js=reactExports.useCallback(()=>{ws.current&&setTranslateValue(ps,ws.current,ds)},[ps,ds]);return reactExports.useEffect(()=>{if(hs||ps==="down"||ps==="right")return;const Ps=debounce$2(()=>{ws.current&&setTranslateValue(ps,ws.current,ds)}),Ls=ownerWindow(ws.current);return Ls.addEventListener("resize",Ps),()=>{Ps.clear(),Ls.removeEventListener("resize",Ps)}},[ps,hs,ds]),reactExports.useEffect(()=>{hs||js()},[hs,js]),jsxRuntimeExports.jsx($s,_extends$5({nodeRef:ws,onEnter:Rs,onEntered:ks,onEntering:As,onExit:Os,onExited:Ds,onExiting:Ms,addEndListener:Fs,appear:cs,in:hs,timeout:Cs},Es,{children:(Ps,Ls)=>reactExports.cloneElement(us,_extends$5({ref:Ts,style:_extends$5({visibility:Ps==="exited"&&!hs?"hidden":void 0},Ss,us.props.style)},Ls))}))}),Slide$1=Slide;function getDrawerUtilityClass(ts){return generateUtilityClass("MuiDrawer",ts)}generateUtilityClasses("MuiDrawer",["root","docked","paper","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const _excluded$1S=["BackdropProps"],_excluded2$b=["anchor","BackdropProps","children","className","elevation","hideBackdrop","ModalProps","onClose","open","PaperProps","SlideProps","TransitionComponent","transitionDuration","variant"],overridesResolver$5=(ts,rs)=>{const{ownerState:ns}=ts;return[rs.root,(ns.variant==="permanent"||ns.variant==="persistent")&&rs.docked,rs.modal]},useUtilityClasses$1G=ts=>{const{classes:rs,anchor:ns,variant:os}=ts,ss={root:["root"],docked:[(os==="permanent"||os==="persistent")&&"docked"],modal:["modal"],paper:["paper","paperAnchor".concat(capitalize$1(ns)),os!=="temporary"&&"paperAnchorDocked".concat(capitalize$1(ns))]};return composeClasses(ss,getDrawerUtilityClass,rs)},DrawerRoot=styled$4(Modal$1,{name:"MuiDrawer",slot:"Root",overridesResolver:overridesResolver$5})(({theme:ts})=>({zIndex:(ts.vars||ts).zIndex.drawer})),DrawerDockedRoot=styled$4("div",{shouldForwardProp:rootShouldForwardProp$2,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:overridesResolver$5})({flex:"0 0 auto"}),DrawerPaper=styled$4(Paper$1,{name:"MuiDrawer",slot:"Paper",overridesResolver:(ts,rs)=>{const{ownerState:ns}=ts;return[rs.paper,rs["paperAnchor".concat(capitalize$1(ns.anchor))],ns.variant!=="temporary"&&rs["paperAnchorDocked".concat(capitalize$1(ns.anchor))]]}})(({theme:ts,ownerState:rs})=>_extends$5({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(ts.vars||ts).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0},rs.anchor==="left"&&{left:0},rs.anchor==="top"&&{top:0,left:0,right:0,height:"auto",maxHeight:"100%"},rs.anchor==="right"&&{right:0},rs.anchor==="bottom"&&{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},rs.anchor==="left"&&rs.variant!=="temporary"&&{borderRight:"1px solid ".concat((ts.vars||ts).palette.divider)},rs.anchor==="top"&&rs.variant!=="temporary"&&{borderBottom:"1px solid ".concat((ts.vars||ts).palette.divider)},rs.anchor==="right"&&rs.variant!=="temporary"&&{borderLeft:"1px solid ".concat((ts.vars||ts).palette.divider)},rs.anchor==="bottom"&&rs.variant!=="temporary"&&{borderTop:"1px solid ".concat((ts.vars||ts).palette.divider)})),oppositeDirection={left:"right",right:"left",top:"down",bottom:"up"};function isHorizontal(ts){return["left","right"].indexOf(ts)!==-1}function getAnchor({direction:ts},rs){return ts==="rtl"&&isHorizontal(rs)?oppositeDirection[rs]:rs}const Drawer=reactExports.forwardRef(function(rs,ns){const os=useDefaultProps({props:rs,name:"MuiDrawer"}),ss=useTheme$1(),as=useRtl(),ls={enter:ss.transitions.duration.enteringScreen,exit:ss.transitions.duration.leavingScreen},{anchor:cs="left",BackdropProps:us,children:ds,className:ps,elevation:fs=16,hideBackdrop:hs=!1,ModalProps:{BackdropProps:ms}={},onClose:gs,open:vs=!1,PaperProps:bs={},SlideProps:xs,TransitionComponent:ys=Slide$1,transitionDuration:Ss=ls,variant:Cs="temporary"}=os,$s=_objectWithoutPropertiesLoose$1(os.ModalProps,_excluded$1S),Es=_objectWithoutPropertiesLoose$1(os,_excluded2$b),ws=reactExports.useRef(!1);reactExports.useEffect(()=>{ws.current=!0},[]);const Ts=getAnchor({direction:as?"rtl":"ltr"},cs),Rs=_extends$5({},os,{anchor:cs,elevation:fs,open:vs,variant:Cs},Es),As=useUtilityClasses$1G(Rs),ks=jsxRuntimeExports.jsx(DrawerPaper,_extends$5({elevation:Cs==="temporary"?fs:0,square:!0},bs,{className:clsx$1(As.paper,bs.className),ownerState:Rs,children:ds}));if(Cs==="permanent")return jsxRuntimeExports.jsx(DrawerDockedRoot,_extends$5({className:clsx$1(As.root,As.docked,ps),ownerState:Rs,ref:ns},Es,{children:ks}));const Ms=jsxRuntimeExports.jsx(ys,_extends$5({in:vs,direction:oppositeDirection[Ts],timeout:Ss,appear:ws.current},xs,{children:ks}));return Cs==="persistent"?jsxRuntimeExports.jsx(DrawerDockedRoot,_extends$5({className:clsx$1(As.root,As.docked,ps),ownerState:Rs,ref:ns},Es,{children:Ms})):jsxRuntimeExports.jsx(DrawerRoot,_extends$5({BackdropProps:_extends$5({},us,ms,{transitionDuration:Ss}),className:clsx$1(As.root,As.modal,ps),open:vs,ownerState:Rs,onClose:gs,hideBackdrop:hs,ref:ns},Es,$s,{children:Ms}))}),Drawer$1=Drawer,_excluded$1R=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],useUtilityClasses$1F=ts=>{const{classes:rs,disableUnderline:ns}=ts,ss=composeClasses({root:["root",!ns&&"underline"],input:["input"]},getFilledInputUtilityClass,rs);return _extends$5({},rs,ss)},FilledInputRoot=styled$4(InputBaseRoot,{shouldForwardProp:ts=>rootShouldForwardProp$2(ts)||ts==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(ts,rs)=>{const{ownerState:ns}=ts;return[...rootOverridesResolver(ts,rs),!ns.disableUnderline&&rs.underline]}})(({theme:ts,ownerState:rs})=>{var ns;const os=ts.palette.mode==="light",ss=os?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",as=os?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",ls=os?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",cs=os?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return _extends$5({position:"relative",backgroundColor:ts.vars?ts.vars.palette.FilledInput.bg:as,borderTopLeftRadius:(ts.vars||ts).shape.borderRadius,borderTopRightRadius:(ts.vars||ts).shape.borderRadius,transition:ts.transitions.create("background-color",{duration:ts.transitions.duration.shorter,easing:ts.transitions.easing.easeOut}),"&:hover":{backgroundColor:ts.vars?ts.vars.palette.FilledInput.hoverBg:ls,"@media (hover: none)":{backgroundColor:ts.vars?ts.vars.palette.FilledInput.bg:as}},["&.".concat(filledInputClasses$1.focused)]:{backgroundColor:ts.vars?ts.vars.palette.FilledInput.bg:as},["&.".concat(filledInputClasses$1.disabled)]:{backgroundColor:ts.vars?ts.vars.palette.FilledInput.disabledBg:cs}},!rs.disableUnderline&&{"&::after":{borderBottom:"2px solid ".concat((ns=(ts.vars||ts).palette[rs.color||"primary"])==null?void 0:ns.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:ts.transitions.create("transform",{duration:ts.transitions.duration.shorter,easing:ts.transitions.easing.easeOut}),pointerEvents:"none"},["&.".concat(filledInputClasses$1.focused,":after")]:{transform:"scaleX(1) translateX(0)"},["&.".concat(filledInputClasses$1.error)]:{"&::before, &::after":{borderBottomColor:(ts.vars||ts).palette.error.main}},"&::before":{borderBottom:"1px solid ".concat(ts.vars?"rgba(".concat(ts.vars.palette.common.onBackgroundChannel," / ").concat(ts.vars.opacity.inputUnderline,")"):ss),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:ts.transitions.create("border-bottom-color",{duration:ts.transitions.duration.shorter}),pointerEvents:"none"},["&:hover:not(.".concat(filledInputClasses$1.disabled,", .").concat(filledInputClasses$1.error,"):before")]:{borderBottom:"1px solid ".concat((ts.vars||ts).palette.text.primary)},["&.".concat(filledInputClasses$1.disabled,":before")]:{borderBottomStyle:"dotted"}},rs.startAdornment&&{paddingLeft:12},rs.endAdornment&&{paddingRight:12},rs.multiline&&_extends$5({padding:"25px 12px 8px"},rs.size==="small"&&{paddingTop:21,paddingBottom:4},rs.hiddenLabel&&{paddingTop:16,paddingBottom:17},rs.hiddenLabel&&rs.size==="small"&&{paddingTop:8,paddingBottom:9}))}),FilledInputInput=styled$4(InputBaseComponent,{name:"MuiFilledInput",slot:"Input",overridesResolver:inputOverridesResolver})(({theme:ts,ownerState:rs})=>_extends$5({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!ts.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:ts.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:ts.palette.mode==="light"?null:"#fff",caretColor:ts.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},ts.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[ts.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},rs.size==="small"&&{paddingTop:21,paddingBottom:4},rs.hiddenLabel&&{paddingTop:16,paddingBottom:17},rs.startAdornment&&{paddingLeft:0},rs.endAdornment&&{paddingRight:0},rs.hiddenLabel&&rs.size==="small"&&{paddingTop:8,paddingBottom:9},rs.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})),FilledInput=reactExports.forwardRef(function(rs,ns){var os,ss,as,ls;const cs=useDefaultProps({props:rs,name:"MuiFilledInput"}),{components:us={},componentsProps:ds,fullWidth:ps=!1,inputComponent:fs="input",multiline:hs=!1,slotProps:ms,slots:gs={},type:vs="text"}=cs,bs=_objectWithoutPropertiesLoose$1(cs,_excluded$1R),xs=_extends$5({},cs,{fullWidth:ps,inputComponent:fs,multiline:hs,type:vs}),ys=useUtilityClasses$1F(cs),Ss={root:{ownerState:xs},input:{ownerState:xs}},Cs=(ms!=null?ms:ds)?deepmerge$1(Ss,ms!=null?ms:ds):Ss,$s=(os=(ss=gs.root)!=null?ss:us.Root)!=null?os:FilledInputRoot,Es=(as=(ls=gs.input)!=null?ls:us.Input)!=null?as:FilledInputInput;return jsxRuntimeExports.jsx(InputBase$1,_extends$5({slots:{root:$s,input:Es},componentsProps:Cs,fullWidth:ps,inputComponent:fs,multiline:hs,ref:ns,type:vs},bs,{classes:ys}))});FilledInput.muiName="Input";const FilledInput$1=FilledInput;function getFormControlUtilityClasses(ts){return generateUtilityClass("MuiFormControl",ts)}generateUtilityClasses("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const _excluded$1Q=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],useUtilityClasses$1E=ts=>{const{classes:rs,margin:ns,fullWidth:os}=ts,ss={root:["root",ns!=="none"&&"margin".concat(capitalize$1(ns)),os&&"fullWidth"]};return composeClasses(ss,getFormControlUtilityClasses,rs)},FormControlRoot=styled$4("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:ts},rs)=>_extends$5({},rs.root,rs["margin".concat(capitalize$1(ts.margin))],ts.fullWidth&&rs.fullWidth)})(({ownerState:ts})=>_extends$5({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},ts.margin==="normal"&&{marginTop:16,marginBottom:8},ts.margin==="dense"&&{marginTop:8,marginBottom:4},ts.fullWidth&&{width:"100%"})),FormControl=reactExports.forwardRef(function(rs,ns){const os=useDefaultProps({props:rs,name:"MuiFormControl"}),{children:ss,className:as,color:ls="primary",component:cs="div",disabled:us=!1,error:ds=!1,focused:ps,fullWidth:fs=!1,hiddenLabel:hs=!1,margin:ms="none",required:gs=!1,size:vs="medium",variant:bs="outlined"}=os,xs=_objectWithoutPropertiesLoose$1(os,_excluded$1Q),ys=_extends$5({},os,{color:ls,component:cs,disabled:us,error:ds,fullWidth:fs,hiddenLabel:hs,margin:ms,required:gs,size:vs,variant:bs}),Ss=useUtilityClasses$1E(ys),[Cs,$s]=reactExports.useState(()=>{let Ms=!1;return ss&&reactExports.Children.forEach(ss,Os=>{if(!isMuiElement(Os,["Input","Select"]))return;const Ds=isMuiElement(Os,["Select"])?Os.props.input:Os;Ds&&isAdornedStart(Ds.props)&&(Ms=!0)}),Ms}),[Es,ws]=reactExports.useState(()=>{let Ms=!1;return ss&&reactExports.Children.forEach(ss,Os=>{isMuiElement(Os,["Input","Select"])&&(isFilled(Os.props,!0)||isFilled(Os.props.inputProps,!0))&&(Ms=!0)}),Ms}),[Ts,Is]=reactExports.useState(!1);us&&Ts&&Is(!1);const Rs=ps!==void 0&&!us?ps:Ts;let As;const ks=reactExports.useMemo(()=>({adornedStart:Cs,setAdornedStart:$s,color:ls,disabled:us,error:ds,filled:Es,focused:Rs,fullWidth:fs,hiddenLabel:hs,size:vs,onBlur:()=>{Is(!1)},onEmpty:()=>{ws(!1)},onFilled:()=>{ws(!0)},onFocus:()=>{Is(!0)},registerEffect:As,required:gs,variant:bs}),[Cs,ls,us,ds,Es,Rs,fs,hs,As,gs,vs,bs]);return jsxRuntimeExports.jsx(FormControlContext$1.Provider,{value:ks,children:jsxRuntimeExports.jsx(FormControlRoot,_extends$5({as:cs,ownerState:ys,className:clsx$1(Ss.root,as),ref:ns},xs,{children:ss}))})}),FormControl$1=FormControl,Stack=createStack({createStyledComponent:styled$4("div",{name:"MuiStack",slot:"Root",overridesResolver:(ts,rs)=>rs.root}),useThemeProps:ts=>useDefaultProps({props:ts,name:"MuiStack"})}),Stack$1=Stack;function getFormControlLabelUtilityClasses(ts){return generateUtilityClass("MuiFormControlLabel",ts)}const formControlLabelClasses=generateUtilityClasses("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),formControlLabelClasses$1=formControlLabelClasses,_excluded$1P=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","required","slotProps","value"],useUtilityClasses$1D=ts=>{const{classes:rs,disabled:ns,labelPlacement:os,error:ss,required:as}=ts,ls={root:["root",ns&&"disabled","labelPlacement".concat(capitalize$1(os)),ss&&"error",as&&"required"],label:["label",ns&&"disabled"],asterisk:["asterisk",ss&&"error"]};return composeClasses(ls,getFormControlLabelUtilityClasses,rs)},FormControlLabelRoot=styled$4("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(ts,rs)=>{const{ownerState:ns}=ts;return[{["& .".concat(formControlLabelClasses$1.label)]:rs.label},rs.root,rs["labelPlacement".concat(capitalize$1(ns.labelPlacement))]]}})(({theme:ts,ownerState:rs})=>_extends$5({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,["&.".concat(formControlLabelClasses$1.disabled)]:{cursor:"default"}},rs.labelPlacement==="start"&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},rs.labelPlacement==="top"&&{flexDirection:"column-reverse",marginLeft:16},rs.labelPlacement==="bottom"&&{flexDirection:"column",marginLeft:16},{["& .".concat(formControlLabelClasses$1.label)]:{["&.".concat(formControlLabelClasses$1.disabled)]:{color:(ts.vars||ts).palette.text.disabled}}})),AsteriskComponent$1=styled$4("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(ts,rs)=>rs.asterisk})(({theme:ts})=>({["&.".concat(formControlLabelClasses$1.error)]:{color:(ts.vars||ts).palette.error.main}})),FormControlLabel=reactExports.forwardRef(function(rs,ns){var os,ss;const as=useDefaultProps({props:rs,name:"MuiFormControlLabel"}),{className:ls,componentsProps:cs={},control:us,disabled:ds,disableTypography:ps,label:fs,labelPlacement:hs="end",required:ms,slotProps:gs={}}=as,vs=_objectWithoutPropertiesLoose$1(as,_excluded$1P),bs=useFormControl(),xs=(os=ds!=null?ds:us.props.disabled)!=null?os:bs==null?void 0:bs.disabled,ys=ms!=null?ms:us.props.required,Ss={disabled:xs,required:ys};["checked","name","onChange","value","inputRef"].forEach(Is=>{typeof us.props[Is]>"u"&&typeof as[Is]<"u"&&(Ss[Is]=as[Is])});const Cs=formControlState({props:as,muiFormControl:bs,states:["error"]}),$s=_extends$5({},as,{disabled:xs,labelPlacement:hs,required:ys,error:Cs.error}),Es=useUtilityClasses$1D($s),ws=(ss=gs.typography)!=null?ss:cs.typography;let Ts=fs;return Ts!=null&&Ts.type!==Typography$1&&!ps&&(Ts=jsxRuntimeExports.jsx(Typography$1,_extends$5({component:"span"},ws,{className:clsx$1(Es.label,ws==null?void 0:ws.className),children:Ts}))),jsxRuntimeExports.jsxs(FormControlLabelRoot,_extends$5({className:clsx$1(Es.root,ls),ownerState:$s,ref:ns},vs,{children:[reactExports.cloneElement(us,Ss),ys?jsxRuntimeExports.jsxs(Stack$1,{display:"block",children:[Ts,jsxRuntimeExports.jsxs(AsteriskComponent$1,{ownerState:$s,"aria-hidden":!0,className:Es.asterisk,children:["â","*"]})]}):Ts]}))}),FormControlLabel$1=FormControlLabel;function getFormGroupUtilityClass(ts){return generateUtilityClass("MuiFormGroup",ts)}generateUtilityClasses("MuiFormGroup",["root","row","error"]);const _excluded$1O=["className","row"],useUtilityClasses$1C=ts=>{const{classes:rs,row:ns,error:os}=ts;return composeClasses({root:["root",ns&&"row",os&&"error"]},getFormGroupUtilityClass,rs)},FormGroupRoot=styled$4("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(ts,rs)=>{const{ownerState:ns}=ts;return[rs.root,ns.row&&rs.row]}})(({ownerState:ts})=>_extends$5({display:"flex",flexDirection:"column",flexWrap:"wrap"},ts.row&&{flexDirection:"row"})),FormGroup=reactExports.forwardRef(function(rs,ns){const os=useDefaultProps({props:rs,name:"MuiFormGroup"}),{className:ss,row:as=!1}=os,ls=_objectWithoutPropertiesLoose$1(os,_excluded$1O),cs=useFormControl(),us=formControlState({props:os,muiFormControl:cs,states:["error"]}),ds=_extends$5({},os,{row:as,error:us.error}),ps=useUtilityClasses$1C(ds);return jsxRuntimeExports.jsx(FormGroupRoot,_extends$5({className:clsx$1(ps.root,ss),ownerState:ds,ref:ns},ls))}),FormGroup$1=FormGroup;function getFormHelperTextUtilityClasses(ts){return generateUtilityClass("MuiFormHelperText",ts)}const formHelperTextClasses=generateUtilityClasses("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),formHelperTextClasses$1=formHelperTextClasses;var _span$3;const _excluded$1N=["children","className","component","disabled","error","filled","focused","margin","required","variant"],useUtilityClasses$1B=ts=>{const{classes:rs,contained:ns,size:os,disabled:ss,error:as,filled:ls,focused:cs,required:us}=ts,ds={root:["root",ss&&"disabled",as&&"error",os&&"size".concat(capitalize$1(os)),ns&&"contained",cs&&"focused",ls&&"filled",us&&"required"]};return composeClasses(ds,getFormHelperTextUtilityClasses,rs)},FormHelperTextRoot=styled$4("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(ts,rs)=>{const{ownerState:ns}=ts;return[rs.root,ns.size&&rs["size".concat(capitalize$1(ns.size))],ns.contained&&rs.contained,ns.filled&&rs.filled]}})(({theme:ts,ownerState:rs})=>_extends$5({color:(ts.vars||ts).palette.text.secondary},ts.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,["&.".concat(formHelperTextClasses$1.disabled)]:{color:(ts.vars||ts).palette.text.disabled},["&.".concat(formHelperTextClasses$1.error)]:{color:(ts.vars||ts).palette.error.main}},rs.size==="small"&&{marginTop:4},rs.contained&&{marginLeft:14,marginRight:14})),FormHelperText=reactExports.forwardRef(function(rs,ns){const os=useDefaultProps({props:rs,name:"MuiFormHelperText"}),{children:ss,className:as,component:ls="p"}=os,cs=_objectWithoutPropertiesLoose$1(os,_excluded$1N),us=useFormControl(),ds=formControlState({props:os,muiFormControl:us,states:["variant","size","disabled","error","filled","focused","required"]}),ps=_extends$5({},os,{component:ls,contained:ds.variant==="filled"||ds.variant==="outlined",variant:ds.variant,size:ds.size,disabled:ds.disabled,error:ds.error,filled:ds.filled,focused:ds.focused,required:ds.required}),fs=useUtilityClasses$1B(ps);return jsxRuntimeExports.jsx(FormHelperTextRoot,_extends$5({as:ls,ownerState:ps,className:clsx$1(fs.root,as),ref:ns},cs,{children:ss===" "?_span$3||(_span$3=jsxRuntimeExports.jsx("span",{className:"notranslate",children:"â"})):ss}))}),FormHelperText$1=FormHelperText;function getFormLabelUtilityClasses(ts){return generateUtilityClass("MuiFormLabel",ts)}const formLabelClasses=generateUtilityClasses("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),formLabelClasses$1=formLabelClasses,_excluded$1M=["children","className","color","component","disabled","error","filled","focused","required"],useUtilityClasses$1A=ts=>{const{classes:rs,color:ns,focused:os,disabled:ss,error:as,filled:ls,required:cs}=ts,us={root:["root","color".concat(capitalize$1(ns)),ss&&"disabled",as&&"error",ls&&"filled",os&&"focused",cs&&"required"],asterisk:["asterisk",as&&"error"]};return composeClasses(us,getFormLabelUtilityClasses,rs)},FormLabelRoot=styled$4("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:ts},rs)=>_extends$5({},rs.root,ts.color==="secondary"&&rs.colorSecondary,ts.filled&&rs.filled)})(({theme:ts,ownerState:rs})=>_extends$5({color:(ts.vars||ts).palette.text.secondary},ts.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",["&.".concat(formLabelClasses$1.focused)]:{color:(ts.vars||ts).palette[rs.color].main},["&.".concat(formLabelClasses$1.disabled)]:{color:(ts.vars||ts).palette.text.disabled},["&.".concat(formLabelClasses$1.error)]:{color:(ts.vars||ts).palette.error.main}})),AsteriskComponent=styled$4("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(ts,rs)=>rs.asterisk})(({theme:ts})=>({["&.".concat(formLabelClasses$1.error)]:{color:(ts.vars||ts).palette.error.main}})),FormLabel=reactExports.forwardRef(function(rs,ns){const os=useDefaultProps({props:rs,name:"MuiFormLabel"}),{children:ss,className:as,component:ls="label"}=os,cs=_objectWithoutPropertiesLoose$1(os,_excluded$1M),us=useFormControl(),ds=formControlState({props:os,muiFormControl:us,states:["color","required","focused","disabled","error","filled"]}),ps=_extends$5({},os,{color:ds.color||"primary",component:ls,disabled:ds.disabled,error:ds.error,filled:ds.filled,focused:ds.focused,required:ds.required}),fs=useUtilityClasses$1A(ps);return jsxRuntimeExports.jsxs(FormLabelRoot,_extends$5({as:ls,ownerState:ps,className:clsx$1(fs.root,as),ref:ns},cs,{children:[ss,ds.required&&jsxRuntimeExports.jsxs(AsteriskComponent,{ownerState:ps,"aria-hidden":!0,className:fs.asterisk,children:["â","*"]})]}))}),FormLabel$1=FormLabel,GridContext$1=reactExports.createContext(),GridContext$2=GridContext$1;function getGridUtilityClass(ts){return generateUtilityClass("MuiGrid",ts)}const SPACINGS=[0,1,2,3,4,5,6,7,8,9,10],DIRECTIONS=["column-reverse","column","row-reverse","row"],WRAPS=["nowrap","wrap-reverse","wrap"],GRID_SIZES=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],gridClasses$1=generateUtilityClasses("MuiGrid",["root","container","item","zeroMinWidth",...SPACINGS.map(ts=>"spacing-xs-".concat(ts)),...DIRECTIONS.map(ts=>"direction-xs-".concat(ts)),...WRAPS.map(ts=>"wrap-xs-".concat(ts)),...GRID_SIZES.map(ts=>"grid-xs-".concat(ts)),...GRID_SIZES.map(ts=>"grid-sm-".concat(ts)),...GRID_SIZES.map(ts=>"grid-md-".concat(ts)),...GRID_SIZES.map(ts=>"grid-lg-".concat(ts)),...GRID_SIZES.map(ts=>"grid-xl-".concat(ts))]),_excluded$1L=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function getOffset(ts){const rs=parseFloat(ts);return"".concat(rs).concat(String(ts).replace(String(rs),"")||"px")}function generateGrid({theme:ts,ownerState:rs}){let ns;return ts.breakpoints.keys.reduce((os,ss)=>{let as={};if(rs[ss]&&(ns=rs[ss]),!ns)return os;if(ns===!0)as={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(ns==="auto")as={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const ls=resolveBreakpointValues({values:rs.columns,breakpoints:ts.breakpoints.values}),cs=typeof ls=="object"?ls[ss]:ls;if(cs==null)return os;const us="".concat(Math.round(ns/cs*1e8)/1e6,"%");let ds={};if(rs.container&&rs.item&&rs.columnSpacing!==0){const ps=ts.spacing(rs.columnSpacing);if(ps!=="0px"){const fs="calc(".concat(us," + ").concat(getOffset(ps),")");ds={flexBasis:fs,maxWidth:fs}}}as=_extends$5({flexBasis:us,flexGrow:0,maxWidth:us},ds)}return ts.breakpoints.values[ss]===0?Object.assign(os,as):os[ts.breakpoints.up(ss)]=as,os},{})}function generateDirection({theme:ts,ownerState:rs}){const ns=resolveBreakpointValues({values:rs.direction,breakpoints:ts.breakpoints.values});return handleBreakpoints({theme:ts},ns,os=>{const ss={flexDirection:os};return os.indexOf("column")===0&&(ss["& > .".concat(gridClasses$1.item)]={maxWidth:"none"}),ss})}function extractZeroValueBreakpointKeys({breakpoints:ts,values:rs}){let ns="";Object.keys(rs).forEach(ss=>{ns===""&&rs[ss]!==0&&(ns=ss)});const os=Object.keys(ts).sort((ss,as)=>ts[ss]-ts[as]);return os.slice(0,os.indexOf(ns))}function generateRowGap({theme:ts,ownerState:rs}){const{container:ns,rowSpacing:os}=rs;let ss={};if(ns&&os!==0){const as=resolveBreakpointValues({values:os,breakpoints:ts.breakpoints.values});let ls;typeof as=="object"&&(ls=extractZeroValueBreakpointKeys({breakpoints:ts.breakpoints.values,values:as})),ss=handleBreakpoints({theme:ts},as,(cs,us)=>{var ds;const ps=ts.spacing(cs);return ps!=="0px"?{marginTop:"-".concat(getOffset(ps)),["& > .".concat(gridClasses$1.item)]:{paddingTop:getOffset(ps)}}:(ds=ls)!=null&&ds.includes(us)?{}:{marginTop:0,["& > .".concat(gridClasses$1.item)]:{paddingTop:0}}})}return ss}function generateColumnGap({theme:ts,ownerState:rs}){const{container:ns,columnSpacing:os}=rs;let ss={};if(ns&&os!==0){const as=resolveBreakpointValues({values:os,breakpoints:ts.breakpoints.values});let ls;typeof as=="object"&&(ls=extractZeroValueBreakpointKeys({breakpoints:ts.breakpoints.values,values:as})),ss=handleBreakpoints({theme:ts},as,(cs,us)=>{var ds;const ps=ts.spacing(cs);return ps!=="0px"?{width:"calc(100% + ".concat(getOffset(ps),")"),marginLeft:"-".concat(getOffset(ps)),["& > .".concat(gridClasses$1.item)]:{paddingLeft:getOffset(ps)}}:(ds=ls)!=null&&ds.includes(us)?{}:{width:"100%",marginLeft:0,["& > .".concat(gridClasses$1.item)]:{paddingLeft:0}}})}return ss}function resolveSpacingStyles(ts,rs,ns={}){if(!ts||ts<=0)return[];if(typeof ts=="string"&&!Number.isNaN(Number(ts))||typeof ts=="number")return[ns["spacing-xs-".concat(String(ts))]];const os=[];return rs.forEach(ss=>{const as=ts[ss];Number(as)>0&&os.push(ns["spacing-".concat(ss,"-").concat(String(as))])}),os}const GridRoot$1=styled$4("div",{name:"MuiGrid",slot:"Root",overridesResolver:(ts,rs)=>{const{ownerState:ns}=ts,{container:os,direction:ss,item:as,spacing:ls,wrap:cs,zeroMinWidth:us,breakpoints:ds}=ns;let ps=[];os&&(ps=resolveSpacingStyles(ls,ds,rs));const fs=[];return ds.forEach(hs=>{const ms=ns[hs];ms&&fs.push(rs["grid-".concat(hs,"-").concat(String(ms))])}),[rs.root,os&&rs.container,as&&rs.item,us&&rs.zeroMinWidth,...ps,ss!=="row"&&rs["direction-xs-".concat(String(ss))],cs!=="wrap"&&rs["wrap-xs-".concat(String(cs))],...fs]}})(({ownerState:ts})=>_extends$5({boxSizing:"border-box"},ts.container&&{display:"flex",flexWrap:"wrap",width:"100%"},ts.item&&{margin:0},ts.zeroMinWidth&&{minWidth:0},ts.wrap!=="wrap"&&{flexWrap:ts.wrap}),generateDirection,generateRowGap,generateColumnGap,generateGrid);function resolveSpacingClasses(ts,rs){if(!ts||ts<=0)return[];if(typeof ts=="string"&&!Number.isNaN(Number(ts))||typeof ts=="number")return["spacing-xs-".concat(String(ts))];const ns=[];return rs.forEach(os=>{const ss=ts[os];if(Number(ss)>0){const as="spacing-".concat(os,"-").concat(String(ss));ns.push(as)}}),ns}const useUtilityClasses$1z=ts=>{const{classes:rs,container:ns,direction:os,item:ss,spacing:as,wrap:ls,zeroMinWidth:cs,breakpoints:us}=ts;let ds=[];ns&&(ds=resolveSpacingClasses(as,us));const ps=[];us.forEach(hs=>{const ms=ts[hs];ms&&ps.push("grid-".concat(hs,"-").concat(String(ms)))});const fs={root:["root",ns&&"container",ss&&"item",cs&&"zeroMinWidth",...ds,os!=="row"&&"direction-xs-".concat(String(os)),ls!=="wrap"&&"wrap-xs-".concat(String(ls)),...ps]};return composeClasses(fs,getGridUtilityClass,rs)},Grid=reactExports.forwardRef(function(rs,ns){const os=useDefaultProps({props:rs,name:"MuiGrid"}),{breakpoints:ss}=useTheme$1(),as=extendSxProp(os),{className:ls,columns:cs,columnSpacing:us,component:ds="div",container:ps=!1,direction:fs="row",item:hs=!1,rowSpacing:ms,spacing:gs=0,wrap:vs="wrap",zeroMinWidth:bs=!1}=as,xs=_objectWithoutPropertiesLoose$1(as,_excluded$1L),ys=ms||gs,Ss=us||gs,Cs=reactExports.useContext(GridContext$2),$s=ps?cs||12:Cs,Es={},ws=_extends$5({},xs);ss.keys.forEach(Rs=>{xs[Rs]!=null&&(Es[Rs]=xs[Rs],delete ws[Rs])});const Ts=_extends$5({},as,{columns:$s,container:ps,direction:fs,item:hs,rowSpacing:ys,columnSpacing:Ss,wrap:vs,zeroMinWidth:bs,spacing:gs},Es,{breakpoints:ss.keys}),Is=useUtilityClasses$1z(Ts);return jsxRuntimeExports.jsx(GridContext$2.Provider,{value:$s,children:jsxRuntimeExports.jsx(GridRoot$1,_extends$5({ownerState:Ts,className:clsx$1(Is.root,ls),as:ds,ref:ns},ws))})}),Grid$1=Grid,_excluded$1K=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],useUtilityClasses$1y=ts=>{const{classes:rs,disableUnderline:ns}=ts,ss=composeClasses({root:["root",!ns&&"underline"],input:["input"]},getInputUtilityClass,rs);return _extends$5({},rs,ss)},InputRoot=styled$4(InputBaseRoot,{shouldForwardProp:ts=>rootShouldForwardProp$2(ts)||ts==="classes",name:"MuiInput",slot:"Root",overridesResolver:(ts,rs)=>{const{ownerState:ns}=ts;return[...rootOverridesResolver(ts,rs),!ns.disableUnderline&&rs.underline]}})(({theme:ts,ownerState:rs})=>{let os=ts.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return ts.vars&&(os="rgba(".concat(ts.vars.palette.common.onBackgroundChannel," / ").concat(ts.vars.opacity.inputUnderline,")")),_extends$5({position:"relative"},rs.formControl&&{"label + &":{marginTop:16}},!rs.disableUnderline&&{"&::after":{borderBottom:"2px solid ".concat((ts.vars||ts).palette[rs.color].main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:ts.transitions.create("transform",{duration:ts.transitions.duration.shorter,easing:ts.transitions.easing.easeOut}),pointerEvents:"none"},["&.".concat(inputClasses$1.focused,":after")]:{transform:"scaleX(1) translateX(0)"},["&.".concat(inputClasses$1.error)]:{"&::before, &::after":{borderBottomColor:(ts.vars||ts).palette.error.main}},"&::before":{borderBottom:"1px solid ".concat(os),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:ts.transitions.create("border-bottom-color",{duration:ts.transitions.duration.shorter}),pointerEvents:"none"},["&:hover:not(.".concat(inputClasses$1.disabled,", .").concat(inputClasses$1.error,"):before")]:{borderBottom:"2px solid ".concat((ts.vars||ts).palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(os)}},["&.".concat(inputClasses$1.disabled,":before")]:{borderBottomStyle:"dotted"}})}),InputInput=styled$4(InputBaseComponent,{name:"MuiInput",slot:"Input",overridesResolver:inputOverridesResolver})({}),Input$1=reactExports.forwardRef(function(rs,ns){var os,ss,as,ls;const cs=useDefaultProps({props:rs,name:"MuiInput"}),{disableUnderline:us,components:ds={},componentsProps:ps,fullWidth:fs=!1,inputComponent:hs="input",multiline:ms=!1,slotProps:gs,slots:vs={},type:bs="text"}=cs,xs=_objectWithoutPropertiesLoose$1(cs,_excluded$1K),ys=useUtilityClasses$1y(cs),Cs={root:{ownerState:{disableUnderline:us}}},$s=(gs!=null?gs:ps)?deepmerge$1(gs!=null?gs:ps,Cs):Cs,Es=(os=(ss=vs.root)!=null?ss:ds.Root)!=null?os:InputRoot,ws=(as=(ls=vs.input)!=null?ls:ds.Input)!=null?as:InputInput;return jsxRuntimeExports.jsx(InputBase$1,_extends$5({slots:{root:Es,input:ws},slotProps:$s,fullWidth:fs,inputComponent:hs,multiline:ms,ref:ns,type:bs},xs,{classes:ys}))});Input$1.muiName="Input";const Input$2=Input$1;function getInputAdornmentUtilityClass(ts){return generateUtilityClass("MuiInputAdornment",ts)}const inputAdornmentClasses=generateUtilityClasses("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]),inputAdornmentClasses$1=inputAdornmentClasses;var _span$2;const _excluded$1J=["children","className","component","disablePointerEvents","disableTypography","position","variant"],overridesResolver$4=(ts,rs)=>{const{ownerState:ns}=ts;return[rs.root,rs["position".concat(capitalize$1(ns.position))],ns.disablePointerEvents===!0&&rs.disablePointerEvents,rs[ns.variant]]},useUtilityClasses$1x=ts=>{const{classes:rs,disablePointerEvents:ns,hiddenLabel:os,position:ss,size:as,variant:ls}=ts,cs={root:["root",ns&&"disablePointerEvents",ss&&"position".concat(capitalize$1(ss)),ls,os&&"hiddenLabel",as&&"size".concat(capitalize$1(as))]};return composeClasses(cs,getInputAdornmentUtilityClass,rs)},InputAdornmentRoot=styled$4("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:overridesResolver$4})(({theme:ts,ownerState:rs})=>_extends$5({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(ts.vars||ts).palette.action.active},rs.variant==="filled"&&{["&.".concat(inputAdornmentClasses$1.positionStart,"&:not(.").concat(inputAdornmentClasses$1.hiddenLabel,")")]:{marginTop:16}},rs.position==="start"&&{marginRight:8},rs.position==="end"&&{marginLeft:8},rs.disablePointerEvents===!0&&{pointerEvents:"none"})),InputAdornment=reactExports.forwardRef(function(rs,ns){const os=useDefaultProps({props:rs,name:"MuiInputAdornment"}),{children:ss,className:as,component:ls="div",disablePointerEvents:cs=!1,disableTypography:us=!1,position:ds,variant:ps}=os,fs=_objectWithoutPropertiesLoose$1(os,_excluded$1J),hs=useFormControl()||{};let ms=ps;ps&&hs.variant,hs&&!ms&&(ms=hs.variant);const gs=_extends$5({},os,{hiddenLabel:hs.hiddenLabel,size:hs.size,disablePointerEvents:cs,position:ds,variant:ms}),vs=useUtilityClasses$1x(gs);return jsxRuntimeExports.jsx(FormControlContext$1.Provider,{value:null,children:jsxRuntimeExports.jsx(InputAdornmentRoot,_extends$5({as:ls,ownerState:gs,className:clsx$1(vs.root,as),ref:ns},fs,{children:typeof ss=="string"&&!us?jsxRuntimeExports.jsx(Typography$1,{color:"text.secondary",children:ss}):jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[ds==="start"?_span$2||(_span$2=jsxRuntimeExports.jsx("span",{className:"notranslate",children:"â"})):null,ss]})}))})}),InputAdornment$1=InputAdornment;function getInputLabelUtilityClasses(ts){return generateUtilityClass("MuiInputLabel",ts)}generateUtilityClasses("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const _excluded$1I=["disableAnimation","margin","shrink","variant","className"],useUtilityClasses$1w=ts=>{const{classes:rs,formControl:ns,size:os,shrink:ss,disableAnimation:as,variant:ls,required:cs}=ts,us={root:["root",ns&&"formControl",!as&&"animated",ss&&"shrink",os&&os!=="normal"&&"size".concat(capitalize$1(os)),ls],asterisk:[cs&&"asterisk"]},ds=composeClasses(us,getInputLabelUtilityClasses,rs);return _extends$5({},rs,ds)},InputLabelRoot=styled$4(FormLabel$1,{shouldForwardProp:ts=>rootShouldForwardProp$2(ts)||ts==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(ts,rs)=>{const{ownerState:ns}=ts;return[{["& .".concat(formLabelClasses$1.asterisk)]:rs.asterisk},rs.root,ns.formControl&&rs.formControl,ns.size==="small"&&rs.sizeSmall,ns.shrink&&rs.shrink,!ns.disableAnimation&&rs.animated,ns.focused&&rs.focused,rs[ns.variant]]}})(({theme:ts,ownerState:rs})=>_extends$5({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},rs.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},rs.size==="small"&&{transform:"translate(0, 17px) scale(1)"},rs.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!rs.disableAnimation&&{transition:ts.transitions.create(["color","transform","max-width"],{duration:ts.transitions.duration.shorter,easing:ts.transitions.easing.easeOut})},rs.variant==="filled"&&_extends$5({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},rs.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},rs.shrink&&_extends$5({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},rs.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),rs.variant==="outlined"&&_extends$5({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},rs.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},rs.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),InputLabel=reactExports.forwardRef(function(rs,ns){const os=useDefaultProps({name:"MuiInputLabel",props:rs}),{disableAnimation:ss=!1,shrink:as,className:ls}=os,cs=_objectWithoutPropertiesLoose$1(os,_excluded$1I),us=useFormControl();let ds=as;typeof ds>"u"&&us&&(ds=us.filled||us.focused||us.adornedStart);const ps=formControlState({props:os,muiFormControl:us,states:["size","variant","required","focused"]}),fs=_extends$5({},os,{disableAnimation:ss,formControl:us,shrink:ds,size:ps.size,variant:ps.variant,required:ps.required,focused:ps.focused}),hs=useUtilityClasses$1w(fs);return jsxRuntimeExports.jsx(InputLabelRoot,_extends$5({"data-shrink":ds,ownerState:fs,ref:ns,className:clsx$1(hs.root,ls)},cs,{classes:hs}))}),InputLabel$1=InputLabel;function getLinkUtilityClass(ts){return generateUtilityClass("MuiLink",ts)}const linkClasses=generateUtilityClasses("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),linkClasses$1=linkClasses,colorTransformations={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},transformDeprecatedColors=ts=>colorTransformations[ts]||ts,getTextDecoration=({theme:ts,ownerState:rs})=>{const ns=transformDeprecatedColors(rs.color),os=getPath$1(ts,"palette.".concat(ns),!1)||rs.color,ss=getPath$1(ts,"palette.".concat(ns,"Channel"));return"vars"in ts&&ss?"rgba(".concat(ss," / 0.4)"):alpha_1(os,.4)},getTextDecoration$1=getTextDecoration,_excluded$1H=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"],useUtilityClasses$1v=ts=>{const{classes:rs,component:ns,focusVisible:os,underline:ss}=ts,as={root:["root","underline".concat(capitalize$1(ss)),ns==="button"&&"button",os&&"focusVisible"]};return composeClasses(as,getLinkUtilityClass,rs)},LinkRoot=styled$4(Typography$1,{name:"MuiLink",slot:"Root",overridesResolver:(ts,rs)=>{const{ownerState:ns}=ts;return[rs.root,rs["underline".concat(capitalize$1(ns.underline))],ns.component==="button"&&rs.button]}})(({theme:ts,ownerState:rs})=>_extends$5({},rs.underline==="none"&&{textDecoration:"none"},rs.underline==="hover"&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},rs.underline==="always"&&_extends$5({textDecoration:"underline"},rs.color!=="inherit"&&{textDecorationColor:getTextDecoration$1({theme:ts,ownerState:rs})},{"&:hover":{textDecorationColor:"inherit"}}),rs.component==="button"&&{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},["&.".concat(linkClasses$1.focusVisible)]:{outline:"auto"}})),Link$1=reactExports.forwardRef(function(rs,ns){const os=useDefaultProps({props:rs,name:"MuiLink"}),{className:ss,color:as="primary",component:ls="a",onBlur:cs,onFocus:us,TypographyClasses:ds,underline:ps="always",variant:fs="inherit",sx:hs}=os,ms=_objectWithoutPropertiesLoose$1(os,_excluded$1H),{isFocusVisibleRef:gs,onBlur:vs,onFocus:bs,ref:xs}=useIsFocusVisible(),[ys,Ss]=reactExports.useState(!1),Cs=useForkRef(ns,xs),$s=Is=>{vs(Is),gs.current===!1&&Ss(!1),cs&&cs(Is)},Es=Is=>{bs(Is),gs.current===!0&&Ss(!0),us&&us(Is)},ws=_extends$5({},os,{color:as,component:ls,focusVisible:ys,underline:ps,variant:fs}),Ts=useUtilityClasses$1v(ws);return jsxRuntimeExports.jsx(LinkRoot,_extends$5({color:as,className:clsx$1(Ts.root,ss),classes:ds,component:ls,onBlur:$s,onFocus:Es,ref:Cs,ownerState:ws,variant:fs,sx:[...Object.keys(colorTransformations).includes(as)?[]:[{color:as}],...Array.isArray(hs)?hs:[hs]]},ms))}),Link$2=Link$1,ListContext=reactExports.createContext({}),ListContext$1=ListContext;function getListUtilityClass(ts){return generateUtilityClass("MuiList",ts)}generateUtilityClasses("MuiList",["root","padding","dense","subheader"]);const _excluded$1G=["children","className","component","dense","disablePadding","subheader"],useUtilityClasses$1u=ts=>{const{classes:rs,disablePadding:ns,dense:os,subheader:ss}=ts;return composeClasses({root:["root",!ns&&"padding",os&&"dense",ss&&"subheader"]},getListUtilityClass,rs)},ListRoot=styled$4("ul",{name:"MuiList",slot:"Root",overridesResolver:(ts,rs)=>{const{ownerState:ns}=ts;return[rs.root,!ns.disablePadding&&rs.padding,ns.dense&&rs.dense,ns.subheader&&rs.subheader]}})(({ownerState:ts})=>_extends$5({listStyle:"none",margin:0,padding:0,position:"relative"},!ts.disablePadding&&{paddingTop:8,paddingBottom:8},ts.subheader&&{paddingTop:0})),List$1=reactExports.forwardRef(function(rs,ns){const os=useDefaultProps({props:rs,name:"MuiList"}),{children:ss,className:as,component:ls="ul",dense:cs=!1,disablePadding:us=!1,subheader:ds}=os,ps=_objectWithoutPropertiesLoose$1(os,_excluded$1G),fs=reactExports.useMemo(()=>({dense:cs}),[cs]),hs=_extends$5({},os,{component:ls,dense:cs,disablePadding:us}),ms=useUtilityClasses$1u(hs);return jsxRuntimeExports.jsx(ListContext$1.Provider,{value:fs,children:jsxRuntimeExports.jsxs(ListRoot,_extends$5({as:ls,className:clsx$1(ms.root,as),ref:ns,ownerState:hs},ps,{children:[ds,ss]}))})}),List$2=List$1;function getListItemUtilityClass(ts){return generateUtilityClass("MuiListItem",ts)}const listItemClasses=generateUtilityClasses("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]),listItemClasses$1=listItemClasses;function getListItemButtonUtilityClass(ts){return generateUtilityClass("MuiListItemButton",ts)}const listItemButtonClasses=generateUtilityClasses("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),listItemButtonClasses$1=listItemButtonClasses,_excluded$1F=["alignItems","autoFocus","component","children","dense","disableGutters","divider","focusVisibleClassName","selected","className"],overridesResolver$3=(ts,rs)=>{const{ownerState:ns}=ts;return[rs.root,ns.dense&&rs.dense,ns.alignItems==="flex-start"&&rs.alignItemsFlexStart,ns.divider&&rs.divider,!ns.disableGutters&&rs.gutters]},useUtilityClasses$1t=ts=>{const{alignItems:rs,classes:ns,dense:os,disabled:ss,disableGutters:as,divider:ls,selected:cs}=ts,ds=composeClasses({root:["root",os&&"dense",!as&&"gutters",ls&&"divider",ss&&"disabled",rs==="flex-start"&&"alignItemsFlexStart",cs&&"selected"]},getListItemButtonUtilityClass,ns);return _extends$5({},ns,ds)},ListItemButtonRoot=styled$4(ButtonBase$1,{shouldForwardProp:ts=>rootShouldForwardProp$2(ts)||ts==="classes",name:"MuiListItemButton",slot:"Root",overridesResolver:overridesResolver$3})(({theme:ts,ownerState:rs})=>_extends$5({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:ts.transitions.create("background-color",{duration:ts.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(ts.vars||ts).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(listItemButtonClasses$1.selected)]:{backgroundColor:ts.vars?"rgba(".concat(ts.vars.palette.primary.mainChannel," / ").concat(ts.vars.palette.action.selectedOpacity,")"):alpha_1(ts.palette.primary.main,ts.palette.action.selectedOpacity),["&.".concat(listItemButtonClasses$1.focusVisible)]:{backgroundColor:ts.vars?"rgba(".concat(ts.vars.palette.primary.mainChannel," / calc(").concat(ts.vars.palette.action.selectedOpacity," + ").concat(ts.vars.palette.action.focusOpacity,"))"):alpha_1(ts.palette.primary.main,ts.palette.action.selectedOpacity+ts.palette.action.focusOpacity)}},["&.".concat(listItemButtonClasses$1.selected,":hover")]:{backgroundColor:ts.vars?"rgba(".concat(ts.vars.palette.primary.mainChannel," / calc(").concat(ts.vars.palette.action.selectedOpacity," + ").concat(ts.vars.palette.action.hoverOpacity,"))"):alpha_1(ts.palette.primary.main,ts.palette.action.selectedOpacity+ts.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:ts.vars?"rgba(".concat(ts.vars.palette.primary.mainChannel," / ").concat(ts.vars.palette.action.selectedOpacity,")"):alpha_1(ts.palette.primary.main,ts.palette.action.selectedOpacity)}},["&.".concat(listItemButtonClasses$1.focusVisible)]:{backgroundColor:(ts.vars||ts).palette.action.focus},["&.".concat(listItemButtonClasses$1.disabled)]:{opacity:(ts.vars||ts).palette.action.disabledOpacity}},rs.divider&&{borderBottom:"1px solid ".concat((ts.vars||ts).palette.divider),backgroundClip:"padding-box"},rs.alignItems==="flex-start"&&{alignItems:"flex-start"},!rs.disableGutters&&{paddingLeft:16,paddingRight:16},rs.dense&&{paddingTop:4,paddingBottom:4})),ListItemButton=reactExports.forwardRef(function(rs,ns){const os=useDefaultProps({props:rs,name:"MuiListItemButton"}),{alignItems:ss="center",autoFocus:as=!1,component:ls="div",children:cs,dense:us=!1,disableGutters:ds=!1,divider:ps=!1,focusVisibleClassName:fs,selected:hs=!1,className:ms}=os,gs=_objectWithoutPropertiesLoose$1(os,_excluded$1F),vs=reactExports.useContext(ListContext$1),bs=reactExports.useMemo(()=>({dense:us||vs.dense||!1,alignItems:ss,disableGutters:ds}),[ss,vs.dense,us,ds]),xs=reactExports.useRef(null);useEnhancedEffect$1(()=>{as&&xs.current&&xs.current.focus()},[as]);const ys=_extends$5({},os,{alignItems:ss,dense:bs.dense,disableGutters:ds,divider:ps,selected:hs}),Ss=useUtilityClasses$1t(ys),Cs=useForkRef(xs,ns);return jsxRuntimeExports.jsx(ListContext$1.Provider,{value:bs,children:jsxRuntimeExports.jsx(ListItemButtonRoot,_extends$5({ref:Cs,href:gs.href||gs.to,component:(gs.href||gs.to)&&ls==="div"?"button":ls,focusVisibleClassName:clsx$1(Ss.focusVisible,fs),ownerState:ys,className:clsx$1(Ss.root,ms)},gs,{classes:Ss,children:cs}))})}),ListItemButton$1=ListItemButton;function getListItemSecondaryActionClassesUtilityClass(ts){return generateUtilityClass("MuiListItemSecondaryAction",ts)}generateUtilityClasses("MuiListItemSecondaryAction",["root","disableGutters"]);const _excluded$1E=["className"],useUtilityClasses$1s=ts=>{const{disableGutters:rs,classes:ns}=ts;return composeClasses({root:["root",rs&&"disableGutters"]},getListItemSecondaryActionClassesUtilityClass,ns)},ListItemSecondaryActionRoot=styled$4("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(ts,rs)=>{const{ownerState:ns}=ts;return[rs.root,ns.disableGutters&&rs.disableGutters]}})(({ownerState:ts})=>_extends$5({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},ts.disableGutters&&{right:0})),ListItemSecondaryAction=reactExports.forwardRef(function(rs,ns){const os=useDefaultProps({props:rs,name:"MuiListItemSecondaryAction"}),{className:ss}=os,as=_objectWithoutPropertiesLoose$1(os,_excluded$1E),ls=reactExports.useContext(ListContext$1),cs=_extends$5({},os,{disableGutters:ls.disableGutters}),us=useUtilityClasses$1s(cs);return jsxRuntimeExports.jsx(ListItemSecondaryActionRoot,_extends$5({className:clsx$1(us.root,ss),ownerState:cs,ref:ns},as))});ListItemSecondaryAction.muiName="ListItemSecondaryAction";const ListItemSecondaryAction$1=ListItemSecondaryAction,_excluded$1D=["className"],_excluded2$a=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],overridesResolver$2=(ts,rs)=>{const{ownerState:ns}=ts;return[rs.root,ns.dense&&rs.dense,ns.alignItems==="flex-start"&&rs.alignItemsFlexStart,ns.divider&&rs.divider,!ns.disableGutters&&rs.gutters,!ns.disablePadding&&rs.padding,ns.button&&rs.button,ns.hasSecondaryAction&&rs.secondaryAction]},useUtilityClasses$1r=ts=>{const{alignItems:rs,button:ns,classes:os,dense:ss,disabled:as,disableGutters:ls,disablePadding:cs,divider:us,hasSecondaryAction:ds,selected:ps}=ts;return composeClasses({root:["root",ss&&"dense",!ls&&"gutters",!cs&&"padding",us&&"divider",as&&"disabled",ns&&"button",rs==="flex-start"&&"alignItemsFlexStart",ds&&"secondaryAction",ps&&"selected"],container:["container"]},getListItemUtilityClass,os)},ListItemRoot=styled$4("div",{name:"MuiListItem",slot:"Root",overridesResolver:overridesResolver$2})(({theme:ts,ownerState:rs})=>_extends$5({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!rs.disablePadding&&_extends$5({paddingTop:8,paddingBottom:8},rs.dense&&{paddingTop:4,paddingBottom:4},!rs.disableGutters&&{paddingLeft:16,paddingRight:16},!!rs.secondaryAction&&{paddingRight:48}),!!rs.secondaryAction&&{["& > .".concat(listItemButtonClasses$1.root)]:{paddingRight:48}},{["&.".concat(listItemClasses$1.focusVisible)]:{backgroundColor:(ts.vars||ts).palette.action.focus},["&.".concat(listItemClasses$1.selected)]:{backgroundColor:ts.vars?"rgba(".concat(ts.vars.palette.primary.mainChannel," / ").concat(ts.vars.palette.action.selectedOpacity,")"):alpha_1(ts.palette.primary.main,ts.palette.action.selectedOpacity),["&.".concat(listItemClasses$1.focusVisible)]:{backgroundColor:ts.vars?"rgba(".concat(ts.vars.palette.primary.mainChannel," / calc(").concat(ts.vars.palette.action.selectedOpacity," + ").concat(ts.vars.palette.action.focusOpacity,"))"):alpha_1(ts.palette.primary.main,ts.palette.action.selectedOpacity+ts.palette.action.focusOpacity)}},["&.".concat(listItemClasses$1.disabled)]:{opacity:(ts.vars||ts).palette.action.disabledOpacity}},rs.alignItems==="flex-start"&&{alignItems:"flex-start"},rs.divider&&{borderBottom:"1px solid ".concat((ts.vars||ts).palette.divider),backgroundClip:"padding-box"},rs.button&&{transition:ts.transitions.create("background-color",{duration:ts.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(ts.vars||ts).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(listItemClasses$1.selected,":hover")]:{backgroundColor:ts.vars?"rgba(".concat(ts.vars.palette.primary.mainChannel," / calc(").concat(ts.vars.palette.action.selectedOpacity," + ").concat(ts.vars.palette.action.hoverOpacity,"))"):alpha_1(ts.palette.primary.main,ts.palette.action.selectedOpacity+ts.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:ts.vars?"rgba(".concat(ts.vars.palette.primary.mainChannel," / ").concat(ts.vars.palette.action.selectedOpacity,")"):alpha_1(ts.palette.primary.main,ts.palette.action.selectedOpacity)}}},rs.hasSecondaryAction&&{paddingRight:48})),ListItemContainer=styled$4("li",{name:"MuiListItem",slot:"Container",overridesResolver:(ts,rs)=>rs.container})({position:"relative"}),ListItem=reactExports.forwardRef(function(rs,ns){const os=useDefaultProps({props:rs,name:"MuiListItem"}),{alignItems:ss="center",autoFocus:as=!1,button:ls=!1,children:cs,className:us,component:ds,components:ps={},componentsProps:fs={},ContainerComponent:hs="li",ContainerProps:{className:ms}={},dense:gs=!1,disabled:vs=!1,disableGutters:bs=!1,disablePadding:xs=!1,divider:ys=!1,focusVisibleClassName:Ss,secondaryAction:Cs,selected:$s=!1,slotProps:Es={},slots:ws={}}=os,Ts=_objectWithoutPropertiesLoose$1(os.ContainerProps,_excluded$1D),Is=_objectWithoutPropertiesLoose$1(os,_excluded2$a),Rs=reactExports.useContext(ListContext$1),As=reactExports.useMemo(()=>({dense:gs||Rs.dense||!1,alignItems:ss,disableGutters:bs}),[ss,Rs.dense,gs,bs]),ks=reactExports.useRef(null);useEnhancedEffect$1(()=>{as&&ks.current&&ks.current.focus()},[as]);const Ms=reactExports.Children.toArray(cs),Os=Ms.length&&isMuiElement(Ms[Ms.length-1],["ListItemSecondaryAction"]),Ds=_extends$5({},os,{alignItems:ss,autoFocus:as,button:ls,dense:As.dense,disabled:vs,disableGutters:bs,disablePadding:xs,divider:ys,hasSecondaryAction:Os,selected:$s}),Fs=useUtilityClasses$1r(Ds),js=useForkRef(ks,ns),Ps=ws.root||ps.Root||ListItemRoot,Ls=Es.root||fs.root||{},Ns=_extends$5({className:clsx$1(Fs.root,Ls.className,us),disabled:vs},Is);let Gs=ds||"li";return ls&&(Ns.component=ds||"div",Ns.focusVisibleClassName=clsx$1(listItemClasses$1.focusVisible,Ss),Gs=ButtonBase$1),Os?(Gs=!Ns.component&&!ds?"div":Gs,hs==="li"&&(Gs==="li"?Gs="div":Ns.component==="li"&&(Ns.component="div")),jsxRuntimeExports.jsx(ListContext$1.Provider,{value:As,children:jsxRuntimeExports.jsxs(ListItemContainer,_extends$5({as:hs,className:clsx$1(Fs.container,ms),ref:js,ownerState:Ds},Ts,{children:[jsxRuntimeExports.jsx(Ps,_extends$5({},Ls,!isHostComponent(Ps)&&{as:Gs,ownerState:_extends$5({},Ds,Ls.ownerState)},Ns,{children:Ms})),Ms.pop()]}))})):jsxRuntimeExports.jsx(ListContext$1.Provider,{value:As,children:jsxRuntimeExports.jsxs(Ps,_extends$5({},Ls,{as:Gs,ref:js},!isHostComponent(Ps)&&{ownerState:_extends$5({},Ds,Ls.ownerState)},Ns,{children:[Ms,Cs&&jsxRuntimeExports.jsx(ListItemSecondaryAction$1,{children:Cs})]}))})}),ListItem$1=ListItem;function getListItemIconUtilityClass(ts){return generateUtilityClass("MuiListItemIcon",ts)}const listItemIconClasses=generateUtilityClasses("MuiListItemIcon",["root","alignItemsFlexStart"]),listItemIconClasses$1=listItemIconClasses,_excluded$1C=["className"],useUtilityClasses$1q=ts=>{const{alignItems:rs,classes:ns}=ts;return composeClasses({root:["root",rs==="flex-start"&&"alignItemsFlexStart"]},getListItemIconUtilityClass,ns)},ListItemIconRoot=styled$4("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(ts,rs)=>{const{ownerState:ns}=ts;return[rs.root,ns.alignItems==="flex-start"&&rs.alignItemsFlexStart]}})(({theme:ts,ownerState:rs})=>_extends$5({minWidth:56,color:(ts.vars||ts).palette.action.active,flexShrink:0,display:"inline-flex"},rs.alignItems==="flex-start"&&{marginTop:8})),ListItemIcon=reactExports.forwardRef(function(rs,ns){const os=useDefaultProps({props:rs,name:"MuiListItemIcon"}),{className:ss}=os,as=_objectWithoutPropertiesLoose$1(os,_excluded$1C),ls=reactExports.useContext(ListContext$1),cs=_extends$5({},os,{alignItems:ls.alignItems}),us=useUtilityClasses$1q(cs);return jsxRuntimeExports.jsx(ListItemIconRoot,_extends$5({className:clsx$1(us.root,ss),ownerState:cs,ref:ns},as))}),ListItemIcon$1=ListItemIcon;function getListItemTextUtilityClass(ts){return generateUtilityClass("MuiListItemText",ts)}const listItemTextClasses=generateUtilityClasses("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),listItemTextClasses$1=listItemTextClasses,_excluded$1B=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],useUtilityClasses$1p=ts=>{const{classes:rs,inset:ns,primary:os,secondary:ss,dense:as}=ts;return composeClasses({root:["root",ns&&"inset",as&&"dense",os&&ss&&"multiline"],primary:["primary"],secondary:["secondary"]},getListItemTextUtilityClass,rs)},ListItemTextRoot=styled$4("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(ts,rs)=>{const{ownerState:ns}=ts;return[{["& .".concat(listItemTextClasses$1.primary)]:rs.primary},{["& .".concat(listItemTextClasses$1.secondary)]:rs.secondary},rs.root,ns.inset&&rs.inset,ns.primary&&ns.secondary&&rs.multiline,ns.dense&&rs.dense]}})(({ownerState:ts})=>_extends$5({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},ts.primary&&ts.secondary&&{marginTop:6,marginBottom:6},ts.inset&&{paddingLeft:56})),ListItemText=reactExports.forwardRef(function(rs,ns){const os=useDefaultProps({props:rs,name:"MuiListItemText"}),{children:ss,className:as,disableTypography:ls=!1,inset:cs=!1,primary:us,primaryTypographyProps:ds,secondary:ps,secondaryTypographyProps:fs}=os,hs=_objectWithoutPropertiesLoose$1(os,_excluded$1B),{dense:ms}=reactExports.useContext(ListContext$1);let gs=us!=null?us:ss,vs=ps;const bs=_extends$5({},os,{disableTypography:ls,inset:cs,primary:!!gs,secondary:!!vs,dense:ms}),xs=useUtilityClasses$1p(bs);return gs!=null&&gs.type!==Typography$1&&!ls&&(gs=jsxRuntimeExports.jsx(Typography$1,_extends$5({variant:ms?"body2":"body1",className:xs.primary,component:ds!=null&&ds.variant?void 0:"span",display:"block"},ds,{children:gs}))),vs!=null&&vs.type!==Typography$1&&!ls&&(vs=jsxRuntimeExports.jsx(Typography$1,_extends$5({variant:"body2",className:xs.secondary,color:"text.secondary",display:"block"},fs,{children:vs}))),jsxRuntimeExports.jsxs(ListItemTextRoot,_extends$5({className:clsx$1(xs.root,as),ownerState:bs,ref:ns},hs,{children:[gs,vs]}))}),ListItemText$1=ListItemText,_excluded$1A=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function nextItem(ts,rs,ns){return ts===rs?ts.firstChild:rs&&rs.nextElementSibling?rs.nextElementSibling:ns?null:ts.firstChild}function previousItem(ts,rs,ns){return ts===rs?ns?ts.firstChild:ts.lastChild:rs&&rs.previousElementSibling?rs.previousElementSibling:ns?null:ts.lastChild}function textCriteriaMatches(ts,rs){if(rs===void 0)return!0;let ns=ts.innerText;return ns===void 0&&(ns=ts.textContent),ns=ns.trim().toLowerCase(),ns.length===0?!1:rs.repeating?ns[0]===rs.keys[0]:ns.indexOf(rs.keys.join(""))===0}function moveFocus(ts,rs,ns,os,ss,as){let ls=!1,cs=ss(ts,rs,rs?ns:!1);for(;cs;){if(cs===ts.firstChild){if(ls)return!1;ls=!0}const us=os?!1:cs.disabled||cs.getAttribute("aria-disabled")==="true";if(!cs.hasAttribute("tabindex")||!textCriteriaMatches(cs,as)||us)cs=ss(ts,cs,ns);else return cs.focus(),!0}return!1}const MenuList=reactExports.forwardRef(function(rs,ns){const{actions:os,autoFocus:ss=!1,autoFocusItem:as=!1,children:ls,className:cs,disabledItemsFocusable:us=!1,disableListWrap:ds=!1,onKeyDown:ps,variant:fs="selectedMenu"}=rs,hs=_objectWithoutPropertiesLoose$1(rs,_excluded$1A),ms=reactExports.useRef(null),gs=reactExports.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});useEnhancedEffect$1(()=>{ss&&ms.current.focus()},[ss]),reactExports.useImperativeHandle(os,()=>({adjustStyleForScrollbar:(Ss,{direction:Cs})=>{const $s=!ms.current.style.width;if(Ss.clientHeight<ms.current.clientHeight&&$s){const Es="".concat(getScrollbarSize(ownerDocument(Ss)),"px");ms.current.style[Cs==="rtl"?"paddingLeft":"paddingRight"]=Es,ms.current.style.width="calc(100% + ".concat(Es,")")}return ms.current}}),[]);const vs=Ss=>{const Cs=ms.current,$s=Ss.key,Es=ownerDocument(Cs).activeElement;if($s==="ArrowDown")Ss.preventDefault(),moveFocus(Cs,Es,ds,us,nextItem);else if($s==="ArrowUp")Ss.preventDefault(),moveFocus(Cs,Es,ds,us,previousItem);else if($s==="Home")Ss.preventDefault(),moveFocus(Cs,null,ds,us,nextItem);else if($s==="End")Ss.preventDefault(),moveFocus(Cs,null,ds,us,previousItem);else if($s.length===1){const ws=gs.current,Ts=$s.toLowerCase(),Is=performance.now();ws.keys.length>0&&(Is-ws.lastTime>500?(ws.keys=[],ws.repeating=!0,ws.previousKeyMatched=!0):ws.repeating&&Ts!==ws.keys[0]&&(ws.repeating=!1)),ws.lastTime=Is,ws.keys.push(Ts);const Rs=Es&&!ws.repeating&&textCriteriaMatches(Es,ws);ws.previousKeyMatched&&(Rs||moveFocus(Cs,Es,!1,us,nextItem,ws))?Ss.preventDefault():ws.previousKeyMatched=!1}ps&&ps(Ss)},bs=useForkRef(ms,ns);let xs=-1;reactExports.Children.forEach(ls,(Ss,Cs)=>{if(!reactExports.isValidElement(Ss)){xs===Cs&&(xs+=1,xs>=ls.length&&(xs=-1));return}Ss.props.disabled||(fs==="selectedMenu"&&Ss.props.selected||xs===-1)&&(xs=Cs),xs===Cs&&(Ss.props.disabled||Ss.props.muiSkipListHighlight||Ss.type.muiSkipListHighlight)&&(xs+=1,xs>=ls.length&&(xs=-1))});const ys=reactExports.Children.map(ls,(Ss,Cs)=>{if(Cs===xs){const $s={};return as&&($s.autoFocus=!0),Ss.props.tabIndex===void 0&&fs==="selectedMenu"&&($s.tabIndex=0),reactExports.cloneElement(Ss,$s)}return Ss});return jsxRuntimeExports.jsx(List$2,_extends$5({role:"menu",ref:bs,className:cs,onKeyDown:vs,tabIndex:ss?0:-1},hs,{children:ys}))}),MenuList$1=MenuList;function getPopoverUtilityClass(ts){return generateUtilityClass("MuiPopover",ts)}generateUtilityClasses("MuiPopover",["root","paper"]);const _excluded$1z=["onEntering"],_excluded2$9=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],_excluded3$1=["slotProps"];function getOffsetTop(ts,rs){let ns=0;return typeof rs=="number"?ns=rs:rs==="center"?ns=ts.height/2:rs==="bottom"&&(ns=ts.height),ns}function getOffsetLeft(ts,rs){let ns=0;return typeof rs=="number"?ns=rs:rs==="center"?ns=ts.width/2:rs==="right"&&(ns=ts.width),ns}function getTransformOriginValue(ts){return[ts.horizontal,ts.vertical].map(rs=>typeof rs=="number"?"".concat(rs,"px"):rs).join(" ")}function resolveAnchorEl(ts){return typeof ts=="function"?ts():ts}const useUtilityClasses$1o=ts=>{const{classes:rs}=ts;return composeClasses({root:["root"],paper:["paper"]},getPopoverUtilityClass,rs)},PopoverRoot=styled$4(Modal$1,{name:"MuiPopover",slot:"Root",overridesResolver:(ts,rs)=>rs.root})({}),PopoverPaper=styled$4(Paper$1,{name:"MuiPopover",slot:"Paper",overridesResolver:(ts,rs)=>rs.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Popover=reactExports.forwardRef(function(rs,ns){var os,ss,as;const ls=useDefaultProps({props:rs,name:"MuiPopover"}),{action:cs,anchorEl:us,anchorOrigin:ds={vertical:"top",horizontal:"left"},anchorPosition:ps,anchorReference:fs="anchorEl",children:hs,className:ms,container:gs,elevation:vs=8,marginThreshold:bs=16,open:xs,PaperProps:ys={},slots:Ss,slotProps:Cs,transformOrigin:$s={vertical:"top",horizontal:"left"},TransitionComponent:Es=Grow$1,transitionDuration:ws="auto",TransitionProps:{onEntering:Ts}={},disableScrollLock:Is=!1}=ls,Rs=_objectWithoutPropertiesLoose$1(ls.TransitionProps,_excluded$1z),As=_objectWithoutPropertiesLoose$1(ls,_excluded2$9),ks=(os=Cs==null?void 0:Cs.paper)!=null?os:ys,Ms=reactExports.useRef(),Os=useForkRef(Ms,ks.ref),Ds=_extends$5({},ls,{anchorOrigin:ds,anchorReference:fs,elevation:vs,marginThreshold:bs,externalPaperSlotProps:ks,transformOrigin:$s,TransitionComponent:Es,transitionDuration:ws,TransitionProps:Rs}),Fs=useUtilityClasses$1o(Ds),js=reactExports.useCallback(()=>{if(fs==="anchorPosition")return ps;const Sl=resolveAnchorEl(us),wl=(Sl&&Sl.nodeType===1?Sl:ownerDocument(Ms.current).body).getBoundingClientRect();return{top:wl.top+getOffsetTop(wl,ds.vertical),left:wl.left+getOffsetLeft(wl,ds.horizontal)}},[us,ds.horizontal,ds.vertical,ps,fs]),Ps=reactExports.useCallback(Sl=>({vertical:getOffsetTop(Sl,$s.vertical),horizontal:getOffsetLeft(Sl,$s.horizontal)}),[$s.horizontal,$s.vertical]),Ls=reactExports.useCallback(Sl=>{const Ml={width:Sl.offsetWidth,height:Sl.offsetHeight},wl=Ps(Ml);if(fs==="none")return{top:null,left:null,transformOrigin:getTransformOriginValue(wl)};const Rl=js();let yl=Rl.top-wl.vertical,Bs=Rl.left-wl.horizontal;const Zs=yl+Ml.height,Ys=Bs+Ml.width,_l=ownerWindow(resolveAnchorEl(us)),Cl=_l.innerHeight-bs,Xs=_l.innerWidth-bs;if(bs!==null&&yl<bs){const xl=yl-bs;yl-=xl,wl.vertical+=xl}else if(bs!==null&&Zs>Cl){const xl=Zs-Cl;yl-=xl,wl.vertical+=xl}if(bs!==null&&Bs<bs){const xl=Bs-bs;Bs-=xl,wl.horizontal+=xl}else if(Ys>Xs){const xl=Ys-Xs;Bs-=xl,wl.horizontal+=xl}return{top:"".concat(Math.round(yl),"px"),left:"".concat(Math.round(Bs),"px"),transformOrigin:getTransformOriginValue(wl)}},[us,fs,js,Ps,bs]),[Ns,Gs]=reactExports.useState(xs),Us=reactExports.useCallback(()=>{const Sl=Ms.current;if(!Sl)return;const Ml=Ls(Sl);Ml.top!==null&&(Sl.style.top=Ml.top),Ml.left!==null&&(Sl.style.left=Ml.left),Sl.style.transformOrigin=Ml.transformOrigin,Gs(!0)},[Ls]);reactExports.useEffect(()=>(Is&&window.addEventListener("scroll",Us),()=>window.removeEventListener("scroll",Us)),[us,Is,Us]);const Hs=(Sl,Ml)=>{Ts&&Ts(Sl,Ml),Us()},zs=()=>{Gs(!1)};reactExports.useEffect(()=>{xs&&Us()}),reactExports.useImperativeHandle(cs,()=>xs?{updatePosition:()=>{Us()}}:null,[xs,Us]),reactExports.useEffect(()=>{if(!xs)return;const Sl=debounce$2(()=>{Us()}),Ml=ownerWindow(us);return Ml.addEventListener("resize",Sl),()=>{Sl.clear(),Ml.removeEventListener("resize",Sl)}},[us,xs,Us]);let qs=ws;ws==="auto"&&!Es.muiSupportAuto&&(qs=void 0);const Vs=gs||(us?ownerDocument(resolveAnchorEl(us)).body:void 0),Ks=(ss=Ss==null?void 0:Ss.root)!=null?ss:PopoverRoot,Ws=(as=Ss==null?void 0:Ss.paper)!=null?as:PopoverPaper,Pl=useSlotProps({elementType:Ws,externalSlotProps:_extends$5({},ks,{style:Ns?ks.style:_extends$5({},ks.style,{opacity:0})}),additionalProps:{elevation:vs,ref:Os},ownerState:Ds,className:clsx$1(Fs.paper,ks==null?void 0:ks.className)}),Tl=useSlotProps({elementType:Ks,externalSlotProps:(Cs==null?void 0:Cs.root)||{},externalForwardedProps:As,additionalProps:{ref:ns,slotProps:{backdrop:{invisible:!0}},container:Vs,open:xs},ownerState:Ds,className:clsx$1(Fs.root,ms)}),{slotProps:El}=Tl,$l=_objectWithoutPropertiesLoose$1(Tl,_excluded3$1);return jsxRuntimeExports.jsx(Ks,_extends$5({},$l,!isHostComponent(Ks)&&{slotProps:El,disableScrollLock:Is},{children:jsxRuntimeExports.jsx(Es,_extends$5({appear:!0,in:xs,onEntering:Hs,onExited:zs,timeout:qs},Rs,{children:jsxRuntimeExports.jsx(Ws,_extends$5({},Pl,{children:hs}))}))}))}),Popover$1=Popover;function getMenuUtilityClass(ts){return generateUtilityClass("MuiMenu",ts)}generateUtilityClasses("MuiMenu",["root","paper","list"]);const _excluded$1y=["onEntering"],_excluded2$8=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],RTL_ORIGIN={vertical:"top",horizontal:"right"},LTR_ORIGIN={vertical:"top",horizontal:"left"},useUtilityClasses$1n=ts=>{const{classes:rs}=ts;return composeClasses({root:["root"],paper:["paper"],list:["list"]},getMenuUtilityClass,rs)},MenuRoot=styled$4(Popover$1,{shouldForwardProp:ts=>rootShouldForwardProp$2(ts)||ts==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(ts,rs)=>rs.root})({}),MenuPaper=styled$4(PopoverPaper,{name:"MuiMenu",slot:"Paper",overridesResolver:(ts,rs)=>rs.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),MenuMenuList=styled$4(MenuList$1,{name:"MuiMenu",slot:"List",overridesResolver:(ts,rs)=>rs.list})({outline:0}),Menu=reactExports.forwardRef(function(rs,ns){var os,ss;const as=useDefaultProps({props:rs,name:"MuiMenu"}),{autoFocus:ls=!0,children:cs,className:us,disableAutoFocusItem:ds=!1,MenuListProps:ps={},onClose:fs,open:hs,PaperProps:ms={},PopoverClasses:gs,transitionDuration:vs="auto",TransitionProps:{onEntering:bs}={},variant:xs="selectedMenu",slots:ys={},slotProps:Ss={}}=as,Cs=_objectWithoutPropertiesLoose$1(as.TransitionProps,_excluded$1y),$s=_objectWithoutPropertiesLoose$1(as,_excluded2$8),Es=useRtl(),ws=_extends$5({},as,{autoFocus:ls,disableAutoFocusItem:ds,MenuListProps:ps,onEntering:bs,PaperProps:ms,transitionDuration:vs,TransitionProps:Cs,variant:xs}),Ts=useUtilityClasses$1n(ws),Is=ls&&!ds&&hs,Rs=reactExports.useRef(null),As=(Ps,Ls)=>{Rs.current&&Rs.current.adjustStyleForScrollbar(Ps,{direction:Es?"rtl":"ltr"}),bs&&bs(Ps,Ls)},ks=Ps=>{Ps.key==="Tab"&&(Ps.preventDefault(),fs&&fs(Ps,"tabKeyDown"))};let Ms=-1;reactExports.Children.map(cs,(Ps,Ls)=>{reactExports.isValidElement(Ps)&&(Ps.props.disabled||(xs==="selectedMenu"&&Ps.props.selected||Ms===-1)&&(Ms=Ls))});const Os=(os=ys.paper)!=null?os:MenuPaper,Ds=(ss=Ss.paper)!=null?ss:ms,Fs=useSlotProps({elementType:ys.root,externalSlotProps:Ss.root,ownerState:ws,className:[Ts.root,us]}),js=useSlotProps({elementType:Os,externalSlotProps:Ds,ownerState:ws,className:Ts.paper});return jsxRuntimeExports.jsx(MenuRoot,_extends$5({onClose:fs,anchorOrigin:{vertical:"bottom",horizontal:Es?"right":"left"},transformOrigin:Es?RTL_ORIGIN:LTR_ORIGIN,slots:{paper:Os,root:ys.root},slotProps:{root:Fs,paper:js},open:hs,ref:ns,transitionDuration:vs,TransitionProps:_extends$5({onEntering:As},Cs),ownerState:ws},$s,{classes:gs,children:jsxRuntimeExports.jsx(MenuMenuList,_extends$5({onKeyDown:ks,actions:Rs,autoFocus:ls&&(Ms===-1||ds),autoFocusItem:Is,variant:xs},ps,{className:clsx$1(Ts.list,ps.className),children:cs}))}))}),Menu$1=Menu;function getMenuItemUtilityClass(ts){return generateUtilityClass("MuiMenuItem",ts)}const menuItemClasses=generateUtilityClasses("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),menuItemClasses$1=menuItemClasses,_excluded$1x=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],overridesResolver$1=(ts,rs)=>{const{ownerState:ns}=ts;return[rs.root,ns.dense&&rs.dense,ns.divider&&rs.divider,!ns.disableGutters&&rs.gutters]},useUtilityClasses$1m=ts=>{const{disabled:rs,dense:ns,divider:os,disableGutters:ss,selected:as,classes:ls}=ts,us=composeClasses({root:["root",ns&&"dense",rs&&"disabled",!ss&&"gutters",os&&"divider",as&&"selected"]},getMenuItemUtilityClass,ls);return _extends$5({},ls,us)},MenuItemRoot=styled$4(ButtonBase$1,{shouldForwardProp:ts=>rootShouldForwardProp$2(ts)||ts==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:overridesResolver$1})(({theme:ts,ownerState:rs})=>_extends$5({},ts.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!rs.disableGutters&&{paddingLeft:16,paddingRight:16},rs.divider&&{borderBottom:"1px solid ".concat((ts.vars||ts).palette.divider),backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(ts.vars||ts).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(menuItemClasses$1.selected)]:{backgroundColor:ts.vars?"rgba(".concat(ts.vars.palette.primary.mainChannel," / ").concat(ts.vars.palette.action.selectedOpacity,")"):alpha_1(ts.palette.primary.main,ts.palette.action.selectedOpacity),["&.".concat(menuItemClasses$1.focusVisible)]:{backgroundColor:ts.vars?"rgba(".concat(ts.vars.palette.primary.mainChannel," / calc(").concat(ts.vars.palette.action.selectedOpacity," + ").concat(ts.vars.palette.action.focusOpacity,"))"):alpha_1(ts.palette.primary.main,ts.palette.action.selectedOpacity+ts.palette.action.focusOpacity)}},["&.".concat(menuItemClasses$1.selected,":hover")]:{backgroundColor:ts.vars?"rgba(".concat(ts.vars.palette.primary.mainChannel," / calc(").concat(ts.vars.palette.action.selectedOpacity," + ").concat(ts.vars.palette.action.hoverOpacity,"))"):alpha_1(ts.palette.primary.main,ts.palette.action.selectedOpacity+ts.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:ts.vars?"rgba(".concat(ts.vars.palette.primary.mainChannel," / ").concat(ts.vars.palette.action.selectedOpacity,")"):alpha_1(ts.palette.primary.main,ts.palette.action.selectedOpacity)}},["&.".concat(menuItemClasses$1.focusVisible)]:{backgroundColor:(ts.vars||ts).palette.action.focus},["&.".concat(menuItemClasses$1.disabled)]:{opacity:(ts.vars||ts).palette.action.disabledOpacity},["& + .".concat(dividerClasses$1.root)]:{marginTop:ts.spacing(1),marginBottom:ts.spacing(1)},["& + .".concat(dividerClasses$1.inset)]:{marginLeft:52},["& .".concat(listItemTextClasses$1.root)]:{marginTop:0,marginBottom:0},["& .".concat(listItemTextClasses$1.inset)]:{paddingLeft:36},["& .".concat(listItemIconClasses$1.root)]:{minWidth:36}},!rs.dense&&{[ts.breakpoints.up("sm")]:{minHeight:"auto"}},rs.dense&&_extends$5({minHeight:32,paddingTop:4,paddingBottom:4},ts.typography.body2,{["& .".concat(listItemIconClasses$1.root," svg")]:{fontSize:"1.25rem"}}))),MenuItem=reactExports.forwardRef(function(rs,ns){const os=useDefaultProps({props:rs,name:"MuiMenuItem"}),{autoFocus:ss=!1,component:as="li",dense:ls=!1,divider:cs=!1,disableGutters:us=!1,focusVisibleClassName:ds,role:ps="menuitem",tabIndex:fs,className:hs}=os,ms=_objectWithoutPropertiesLoose$1(os,_excluded$1x),gs=reactExports.useContext(ListContext$1),vs=reactExports.useMemo(()=>({dense:ls||gs.dense||!1,disableGutters:us}),[gs.dense,ls,us]),bs=reactExports.useRef(null);useEnhancedEffect$1(()=>{ss&&bs.current&&bs.current.focus()},[ss]);const xs=_extends$5({},os,{dense:vs.dense,divider:cs,disableGutters:us}),ys=useUtilityClasses$1m(os),Ss=useForkRef(bs,ns);let Cs;return os.disabled||(Cs=fs!==void 0?fs:-1),jsxRuntimeExports.jsx(ListContext$1.Provider,{value:vs,children:jsxRuntimeExports.jsx(MenuItemRoot,_extends$5({ref:Ss,role:ps,tabIndex:Cs,component:as,focusVisibleClassName:clsx$1(ys.focusVisible,ds),className:clsx$1(ys.root,hs)},ms,{ownerState:xs,classes:ys}))})}),MenuItem$1=MenuItem;function getNativeSelectUtilityClasses(ts){return generateUtilityClass("MuiNativeSelect",ts)}const nativeSelectClasses=generateUtilityClasses("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),nativeSelectClasses$1=nativeSelectClasses,_excluded$1w=["className","disabled","error","IconComponent","inputRef","variant"],useUtilityClasses$1l=ts=>{const{classes:rs,variant:ns,disabled:os,multiple:ss,open:as,error:ls}=ts,cs={select:["select",ns,os&&"disabled",ss&&"multiple",ls&&"error"],icon:["icon","icon".concat(capitalize$1(ns)),as&&"iconOpen",os&&"disabled"]};return composeClasses(cs,getNativeSelectUtilityClasses,rs)},nativeSelectSelectStyles=({ownerState:ts,theme:rs})=>_extends$5({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":_extends$5({},rs.vars?{backgroundColor:"rgba(".concat(rs.vars.palette.common.onBackgroundChannel," / 0.05)")}:{backgroundColor:rs.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},["&.".concat(nativeSelectClasses$1.disabled)]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(rs.vars||rs).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},ts.variant==="filled"&&{"&&&":{paddingRight:32}},ts.variant==="outlined"&&{borderRadius:(rs.vars||rs).shape.borderRadius,"&:focus":{borderRadius:(rs.vars||rs).shape.borderRadius},"&&&":{paddingRight:32}}),NativeSelectSelect=styled$4("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:rootShouldForwardProp$2,overridesResolver:(ts,rs)=>{const{ownerState:ns}=ts;return[rs.select,rs[ns.variant],ns.error&&rs.error,{["&.".concat(nativeSelectClasses$1.multiple)]:rs.multiple}]}})(nativeSelectSelectStyles),nativeSelectIconStyles=({ownerState:ts,theme:rs})=>_extends$5({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(rs.vars||rs).palette.action.active,["&.".concat(nativeSelectClasses$1.disabled)]:{color:(rs.vars||rs).palette.action.disabled}},ts.open&&{transform:"rotate(180deg)"},ts.variant==="filled"&&{right:7},ts.variant==="outlined"&&{right:7}),NativeSelectIcon=styled$4("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(ts,rs)=>{const{ownerState:ns}=ts;return[rs.icon,ns.variant&&rs["icon".concat(capitalize$1(ns.variant))],ns.open&&rs.iconOpen]}})(nativeSelectIconStyles),NativeSelectInput=reactExports.forwardRef(function(rs,ns){const{className:os,disabled:ss,error:as,IconComponent:ls,inputRef:cs,variant:us="standard"}=rs,ds=_objectWithoutPropertiesLoose$1(rs,_excluded$1w),ps=_extends$5({},rs,{disabled:ss,variant:us,error:as}),fs=useUtilityClasses$1l(ps);return jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx(NativeSelectSelect,_extends$5({ownerState:ps,className:clsx$1(fs.select,os),disabled:ss,ref:cs||ns},ds)),rs.multiple?null:jsxRuntimeExports.jsx(NativeSelectIcon,{as:ls,ownerState:ps,className:fs.icon})]})}),NativeSelectInput$1=NativeSelectInput;var _span$1;const _excluded$1v=["children","classes","className","label","notched"],NotchedOutlineRoot$1=styled$4("fieldset",{shouldForwardProp:rootShouldForwardProp$2})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),NotchedOutlineLegend=styled$4("legend",{shouldForwardProp:rootShouldForwardProp$2})(({ownerState:ts,theme:rs})=>_extends$5({float:"unset",width:"auto",overflow:"hidden"},!ts.withLabel&&{padding:0,lineHeight:"11px",transition:rs.transitions.create("width",{duration:150,easing:rs.transitions.easing.easeOut})},ts.withLabel&&_extends$5({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:rs.transitions.create("max-width",{duration:50,easing:rs.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},ts.notched&&{maxWidth:"100%",transition:rs.transitions.create("max-width",{duration:100,easing:rs.transitions.easing.easeOut,delay:50})})));function NotchedOutline(ts){const{className:rs,label:ns,notched:os}=ts,ss=_objectWithoutPropertiesLoose$1(ts,_excluded$1v),as=ns!=null&&ns!=="",ls=_extends$5({},ts,{notched:os,withLabel:as});return jsxRuntimeExports.jsx(NotchedOutlineRoot$1,_extends$5({"aria-hidden":!0,className:rs,ownerState:ls},ss,{children:jsxRuntimeExports.jsx(NotchedOutlineLegend,{ownerState:ls,children:as?jsxRuntimeExports.jsx("span",{children:ns}):_span$1||(_span$1=jsxRuntimeExports.jsx("span",{className:"notranslate",children:"â"}))})}))}const _excluded$1u=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],useUtilityClasses$1k=ts=>{const{classes:rs}=ts,os=composeClasses({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},getOutlinedInputUtilityClass,rs);return _extends$5({},rs,os)},OutlinedInputRoot=styled$4(InputBaseRoot,{shouldForwardProp:ts=>rootShouldForwardProp$2(ts)||ts==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:rootOverridesResolver})(({theme:ts,ownerState:rs})=>{const ns=ts.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return _extends$5({position:"relative",borderRadius:(ts.vars||ts).shape.borderRadius,["&:hover .".concat(outlinedInputClasses$1.notchedOutline)]:{borderColor:(ts.vars||ts).palette.text.primary},"@media (hover: none)":{["&:hover .".concat(outlinedInputClasses$1.notchedOutline)]:{borderColor:ts.vars?"rgba(".concat(ts.vars.palette.common.onBackgroundChannel," / 0.23)"):ns}},["&.".concat(outlinedInputClasses$1.focused," .").concat(outlinedInputClasses$1.notchedOutline)]:{borderColor:(ts.vars||ts).palette[rs.color].main,borderWidth:2},["&.".concat(outlinedInputClasses$1.error," .").concat(outlinedInputClasses$1.notchedOutline)]:{borderColor:(ts.vars||ts).palette.error.main},["&.".concat(outlinedInputClasses$1.disabled," .").concat(outlinedInputClasses$1.notchedOutline)]:{borderColor:(ts.vars||ts).palette.action.disabled}},rs.startAdornment&&{paddingLeft:14},rs.endAdornment&&{paddingRight:14},rs.multiline&&_extends$5({padding:"16.5px 14px"},rs.size==="small"&&{padding:"8.5px 14px"}))}),NotchedOutlineRoot=styled$4(NotchedOutline,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(ts,rs)=>rs.notchedOutline})(({theme:ts})=>{const rs=ts.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:ts.vars?"rgba(".concat(ts.vars.palette.common.onBackgroundChannel," / 0.23)"):rs}}),OutlinedInputInput=styled$4(InputBaseComponent,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:inputOverridesResolver})(({theme:ts,ownerState:rs})=>_extends$5({padding:"16.5px 14px"},!ts.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:ts.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:ts.palette.mode==="light"?null:"#fff",caretColor:ts.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},ts.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[ts.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},rs.size==="small"&&{padding:"8.5px 14px"},rs.multiline&&{padding:0},rs.startAdornment&&{paddingLeft:0},rs.endAdornment&&{paddingRight:0})),OutlinedInput=reactExports.forwardRef(function(rs,ns){var os,ss,as,ls,cs;const us=useDefaultProps({props:rs,name:"MuiOutlinedInput"}),{components:ds={},fullWidth:ps=!1,inputComponent:fs="input",label:hs,multiline:ms=!1,notched:gs,slots:vs={},type:bs="text"}=us,xs=_objectWithoutPropertiesLoose$1(us,_excluded$1u),ys=useUtilityClasses$1k(us),Ss=useFormControl(),Cs=formControlState({props:us,muiFormControl:Ss,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),$s=_extends$5({},us,{color:Cs.color||"primary",disabled:Cs.disabled,error:Cs.error,focused:Cs.focused,formControl:Ss,fullWidth:ps,hiddenLabel:Cs.hiddenLabel,multiline:ms,size:Cs.size,type:bs}),Es=(os=(ss=vs.root)!=null?ss:ds.Root)!=null?os:OutlinedInputRoot,ws=(as=(ls=vs.input)!=null?ls:ds.Input)!=null?as:OutlinedInputInput;return jsxRuntimeExports.jsx(InputBase$1,_extends$5({slots:{root:Es,input:ws},renderSuffix:Ts=>jsxRuntimeExports.jsx(NotchedOutlineRoot,{ownerState:$s,className:ys.notchedOutline,label:hs!=null&&hs!==""&&Cs.required?cs||(cs=jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[hs,"â","*"]})):hs,notched:typeof gs<"u"?gs:!!(Ts.startAdornment||Ts.filled||Ts.focused)}),fullWidth:ps,inputComponent:fs,multiline:ms,ref:ns,type:bs},xs,{classes:_extends$5({},ys,{notchedOutline:null})}))});OutlinedInput.muiName="Input";const OutlinedInput$1=OutlinedInput,RadioButtonUncheckedIcon=createSvgIcon$1(jsxRuntimeExports.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked"),RadioButtonCheckedIcon=createSvgIcon$1(jsxRuntimeExports.jsx("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"}),"RadioButtonChecked"),RadioButtonIconRoot=styled$4("span",{shouldForwardProp:rootShouldForwardProp$2})({position:"relative",display:"flex"}),RadioButtonIconBackground=styled$4(RadioButtonUncheckedIcon)({transform:"scale(1)"}),RadioButtonIconDot=styled$4(RadioButtonCheckedIcon)(({theme:ts,ownerState:rs})=>_extends$5({left:0,position:"absolute",transform:"scale(0)",transition:ts.transitions.create("transform",{easing:ts.transitions.easing.easeIn,duration:ts.transitions.duration.shortest})},rs.checked&&{transform:"scale(1)",transition:ts.transitions.create("transform",{easing:ts.transitions.easing.easeOut,duration:ts.transitions.duration.shortest})}));function RadioButtonIcon(ts){const{checked:rs=!1,classes:ns={},fontSize:os}=ts,ss=_extends$5({},ts,{checked:rs});return jsxRuntimeExports.jsxs(RadioButtonIconRoot,{className:ns.root,ownerState:ss,children:[jsxRuntimeExports.jsx(RadioButtonIconBackground,{fontSize:os,className:ns.background,ownerState:ss}),jsxRuntimeExports.jsx(RadioButtonIconDot,{fontSize:os,className:ns.dot,ownerState:ss})]})}const RadioGroupContext=reactExports.createContext(void 0),RadioGroupContext$1=RadioGroupContext;function useRadioGroup(){return reactExports.useContext(RadioGroupContext$1)}function getRadioUtilityClass(ts){return generateUtilityClass("MuiRadio",ts)}const radioClasses=generateUtilityClasses("MuiRadio",["root","checked","disabled","colorPrimary","colorSecondary","sizeSmall"]),radioClasses$1=radioClasses,_excluded$1t=["checked","checkedIcon","color","icon","name","onChange","size","className"],useUtilityClasses$1j=ts=>{const{classes:rs,color:ns,size:os}=ts,ss={root:["root","color".concat(capitalize$1(ns)),os!=="medium"&&"size".concat(capitalize$1(os))]};return _extends$5({},rs,composeClasses(ss,getRadioUtilityClass,rs))},RadioRoot=styled$4(SwitchBase$1,{shouldForwardProp:ts=>rootShouldForwardProp$2(ts)||ts==="classes",name:"MuiRadio",slot:"Root",overridesResolver:(ts,rs)=>{const{ownerState:ns}=ts;return[rs.root,ns.size!=="medium"&&rs["size".concat(capitalize$1(ns.size))],rs["color".concat(capitalize$1(ns.color))]]}})(({theme:ts,ownerState:rs})=>_extends$5({color:(ts.vars||ts).palette.text.secondary},!rs.disableRipple&&{"&:hover":{backgroundColor:ts.vars?"rgba(".concat(rs.color==="default"?ts.vars.palette.action.activeChannel:ts.vars.palette[rs.color].mainChannel," / ").concat(ts.vars.palette.action.hoverOpacity,")"):alpha_1(rs.color==="default"?ts.palette.action.active:ts.palette[rs.color].main,ts.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},rs.color!=="default"&&{["&.".concat(radioClasses$1.checked)]:{color:(ts.vars||ts).palette[rs.color].main}},{["&.".concat(radioClasses$1.disabled)]:{color:(ts.vars||ts).palette.action.disabled}}));function areEqualValues$1(ts,rs){return typeof rs=="object"&&rs!==null?ts===rs:String(ts)===String(rs)}const defaultCheckedIcon=jsxRuntimeExports.jsx(RadioButtonIcon,{checked:!0}),defaultIcon=jsxRuntimeExports.jsx(RadioButtonIcon,{}),Radio=reactExports.forwardRef(function(rs,ns){var os,ss;const as=useDefaultProps({props:rs,name:"MuiRadio"}),{checked:ls,checkedIcon:cs=defaultCheckedIcon,color:us="primary",icon:ds=defaultIcon,name:ps,onChange:fs,size:hs="medium",className:ms}=as,gs=_objectWithoutPropertiesLoose$1(as,_excluded$1t),vs=_extends$5({},as,{color:us,size:hs}),bs=useUtilityClasses$1j(vs),xs=useRadioGroup();let ys=ls;const Ss=createChainedFunction(fs,xs&&xs.onChange);let Cs=ps;return xs&&(typeof ys>"u"&&(ys=areEqualValues$1(xs.value,as.value)),typeof Cs>"u"&&(Cs=xs.name)),jsxRuntimeExports.jsx(RadioRoot,_extends$5({type:"radio",icon:reactExports.cloneElement(ds,{fontSize:(os=defaultIcon.props.fontSize)!=null?os:hs}),checkedIcon:reactExports.cloneElement(cs,{fontSize:(ss=defaultCheckedIcon.props.fontSize)!=null?ss:hs}),ownerState:vs,classes:bs,name:Cs,checked:ys,onChange:Ss,ref:ns,className:clsx$1(bs.root,ms)},gs))}),Radio$1=Radio;function getRadioGroupUtilityClass(ts){return generateUtilityClass("MuiRadioGroup",ts)}generateUtilityClasses("MuiRadioGroup",["root","row","error"]);const _excluded$1s=["actions","children","className","defaultValue","name","onChange","value"],useUtilityClasses$1i=ts=>{const{classes:rs,row:ns,error:os}=ts;return composeClasses({root:["root",ns&&"row",os&&"error"]},getRadioGroupUtilityClass,rs)},RadioGroup=reactExports.forwardRef(function(rs,ns){const{actions:os,children:ss,className:as,defaultValue:ls,name:cs,onChange:us,value:ds}=rs,ps=_objectWithoutPropertiesLoose$1(rs,_excluded$1s),fs=reactExports.useRef(null),hs=useUtilityClasses$1i(rs),[ms,gs]=useControlled({controlled:ds,default:ls,name:"RadioGroup"});reactExports.useImperativeHandle(os,()=>({focus:()=>{let ys=fs.current.querySelector("input:not(:disabled):checked");ys||(ys=fs.current.querySelector("input:not(:disabled)")),ys&&ys.focus()}}),[]);const vs=useForkRef(ns,fs),bs=useId(cs),xs=reactExports.useMemo(()=>({name:bs,onChange(ys){gs(ys.target.value),us&&us(ys,ys.target.value)},value:ms}),[bs,us,gs,ms]);return jsxRuntimeExports.jsx(RadioGroupContext$1.Provider,{value:xs,children:jsxRuntimeExports.jsx(FormGroup$1,_extends$5({role:"radiogroup",ref:vs,className:clsx$1(hs.root,as)},ps,{children:ss}))})}),RadioGroup$1=RadioGroup;function getSelectUtilityClasses(ts){return generateUtilityClass("MuiSelect",ts)}const selectClasses=generateUtilityClasses("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),selectClasses$1=selectClasses;var _span;const _excluded$1r=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],SelectSelect=styled$4("div",{name:"MuiSelect",slot:"Select",overridesResolver:(ts,rs)=>{const{ownerState:ns}=ts;return[{["&.".concat(selectClasses$1.select)]:rs.select},{["&.".concat(selectClasses$1.select)]:rs[ns.variant]},{["&.".concat(selectClasses$1.error)]:rs.error},{["&.".concat(selectClasses$1.multiple)]:rs.multiple}]}})(nativeSelectSelectStyles,{["&.".concat(selectClasses$1.select)]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),SelectIcon=styled$4("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(ts,rs)=>{const{ownerState:ns}=ts;return[rs.icon,ns.variant&&rs["icon".concat(capitalize$1(ns.variant))],ns.open&&rs.iconOpen]}})(nativeSelectIconStyles),SelectNativeInput=styled$4("input",{shouldForwardProp:ts=>slotShouldForwardProp(ts)&&ts!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(ts,rs)=>rs.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function areEqualValues(ts,rs){return typeof rs=="object"&&rs!==null?ts===rs:String(ts)===String(rs)}function isEmpty(ts){return ts==null||typeof ts=="string"&&!ts.trim()}const useUtilityClasses$1h=ts=>{const{classes:rs,variant:ns,disabled:os,multiple:ss,open:as,error:ls}=ts,cs={select:["select",ns,os&&"disabled",ss&&"multiple",ls&&"error"],icon:["icon","icon".concat(capitalize$1(ns)),as&&"iconOpen",os&&"disabled"],nativeInput:["nativeInput"]};return composeClasses(cs,getSelectUtilityClasses,rs)},SelectInput=reactExports.forwardRef(function(rs,ns){var os;const{"aria-describedby":ss,"aria-label":as,autoFocus:ls,autoWidth:cs,children:us,className:ds,defaultOpen:ps,defaultValue:fs,disabled:hs,displayEmpty:ms,error:gs=!1,IconComponent:vs,inputRef:bs,labelId:xs,MenuProps:ys={},multiple:Ss,name:Cs,onBlur:$s,onChange:Es,onClose:ws,onFocus:Ts,onOpen:Is,open:Rs,readOnly:As,renderValue:ks,SelectDisplayProps:Ms={},tabIndex:Os,value:Ds,variant:Fs="standard"}=rs,js=_objectWithoutPropertiesLoose$1(rs,_excluded$1r),[Ps,Ls]=useControlled({controlled:Ds,default:fs,name:"Select"}),[Ns,Gs]=useControlled({controlled:Rs,default:ps,name:"Select"}),Us=reactExports.useRef(null),Hs=reactExports.useRef(null),[zs,qs]=reactExports.useState(null),{current:Vs}=reactExports.useRef(Rs!=null),[Ks,Ws]=reactExports.useState(),Pl=useForkRef(ns,bs),Tl=reactExports.useCallback(Gl=>{Hs.current=Gl,Gl&&qs(Gl)},[]),El=zs==null?void 0:zs.parentNode;reactExports.useImperativeHandle(Pl,()=>({focus:()=>{Hs.current.focus()},node:Us.current,value:Ps}),[Ps]),reactExports.useEffect(()=>{ps&&Ns&&zs&&!Vs&&(Ws(cs?null:El.clientWidth),Hs.current.focus())},[zs,cs]),reactExports.useEffect(()=>{ls&&Hs.current.focus()},[ls]),reactExports.useEffect(()=>{if(!xs)return;const Gl=ownerDocument(Hs.current).getElementById(xs);if(Gl){const nu=()=>{getSelection().isCollapsed&&Hs.current.focus()};return Gl.addEventListener("click",nu),()=>{Gl.removeEventListener("click",nu)}}},[xs]);const $l=(Gl,nu)=>{Gl?Is&&Is(nu):ws&&ws(nu),Vs||(Ws(cs?null:El.clientWidth),Gs(Gl))},Sl=Gl=>{Gl.button===0&&(Gl.preventDefault(),Hs.current.focus(),$l(!0,Gl))},Ml=Gl=>{$l(!1,Gl)},wl=reactExports.Children.toArray(us),Rl=Gl=>{const nu=wl.find(Bl=>Bl.props.value===Gl.target.value);nu!==void 0&&(Ls(nu.props.value),Es&&Es(Gl,nu))},yl=Gl=>nu=>{let Bl;if(nu.currentTarget.hasAttribute("tabindex")){if(Ss){Bl=Array.isArray(Ps)?Ps.slice():[];const Hl=Ps.indexOf(Gl.props.value);Hl===-1?Bl.push(Gl.props.value):Bl.splice(Hl,1)}else Bl=Gl.props.value;if(Gl.props.onClick&&Gl.props.onClick(nu),Ps!==Bl&&(Ls(Bl),Es)){const Hl=nu.nativeEvent||nu,Qs=new Hl.constructor(Hl.type,Hl);Object.defineProperty(Qs,"target",{writable:!0,value:{value:Bl,name:Cs}}),Es(Qs,Gl)}Ss||$l(!1,nu)}},Bs=Gl=>{As||[" ","ArrowUp","ArrowDown","Enter"].indexOf(Gl.key)!==-1&&(Gl.preventDefault(),$l(!0,Gl))},Zs=zs!==null&&Ns,Ys=Gl=>{!Zs&&$s&&(Object.defineProperty(Gl,"target",{writable:!0,value:{value:Ps,name:Cs}}),$s(Gl))};delete js["aria-invalid"];let _l,Cl;const Xs=[];let xl=!1;(isFilled({value:Ps})||ms)&&(ks?_l=ks(Ps):xl=!0);const $a=wl.map(Gl=>{if(!reactExports.isValidElement(Gl))return null;let nu;if(Ss){if(!Array.isArray(Ps))throw new Error(formatMuiErrorMessage$1(2));nu=Ps.some(Bl=>areEqualValues(Bl,Gl.props.value)),nu&&xl&&Xs.push(Gl.props.children)}else nu=areEqualValues(Ps,Gl.props.value),nu&&xl&&(Cl=Gl.props.children);return reactExports.cloneElement(Gl,{"aria-selected":nu?"true":"false",onClick:yl(Gl),onKeyUp:Bl=>{Bl.key===" "&&Bl.preventDefault(),Gl.props.onKeyUp&&Gl.props.onKeyUp(Bl)},role:"option",selected:nu,value:void 0,"data-value":Gl.props.value})});xl&&(Ss?Xs.length===0?_l=null:_l=Xs.reduce((Gl,nu,Bl)=>(Gl.push(nu),Bl<Xs.length-1&&Gl.push(", "),Gl),[]):_l=Cl);let Dl=Ks;!cs&&Vs&&zs&&(Dl=El.clientWidth);let Ol;typeof Os<"u"?Ol=Os:Ol=hs?null:0;const Ll=Ms.id||(Cs?"mui-component-select-".concat(Cs):void 0),Vl=_extends$5({},rs,{variant:Fs,value:Ps,open:Zs,error:gs}),Xl=useUtilityClasses$1h(Vl),Ql=_extends$5({},ys.PaperProps,(os=ys.slotProps)==null?void 0:os.paper),Kl=useId();return jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx(SelectSelect,_extends$5({ref:Tl,tabIndex:Ol,role:"combobox","aria-controls":Kl,"aria-disabled":hs?"true":void 0,"aria-expanded":Zs?"true":"false","aria-haspopup":"listbox","aria-label":as,"aria-labelledby":[xs,Ll].filter(Boolean).join(" ")||void 0,"aria-describedby":ss,onKeyDown:Bs,onMouseDown:hs||As?null:Sl,onBlur:Ys,onFocus:Ts},Ms,{ownerState:Vl,className:clsx$1(Ms.className,Xl.select,ds),id:Ll,children:isEmpty(_l)?_span||(_span=jsxRuntimeExports.jsx("span",{className:"notranslate",children:"â"})):_l})),jsxRuntimeExports.jsx(SelectNativeInput,_extends$5({"aria-invalid":gs,value:Array.isArray(Ps)?Ps.join(","):Ps,name:Cs,ref:Us,"aria-hidden":!0,onChange:Rl,tabIndex:-1,disabled:hs,className:Xl.nativeInput,autoFocus:ls,ownerState:Vl},js)),jsxRuntimeExports.jsx(SelectIcon,{as:vs,className:Xl.icon,ownerState:Vl}),jsxRuntimeExports.jsx(Menu$1,_extends$5({id:"menu-".concat(Cs||""),anchorEl:El,open:Zs,onClose:Ml,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},ys,{MenuListProps:_extends$5({"aria-labelledby":xs,role:"listbox","aria-multiselectable":Ss?"true":void 0,disableListWrap:!0,id:Kl},ys.MenuListProps),slotProps:_extends$5({},ys.slotProps,{paper:_extends$5({},Ql,{style:_extends$5({minWidth:Dl},Ql!=null?Ql.style:null)})}),children:$a}))]})}),SelectInput$1=SelectInput,_excluded$1q=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],_excluded2$7=["root"],useUtilityClasses$1g=ts=>{const{classes:rs}=ts;return rs},styledRootConfig={name:"MuiSelect",overridesResolver:(ts,rs)=>rs.root,shouldForwardProp:ts=>rootShouldForwardProp$2(ts)&&ts!=="variant",slot:"Root"},StyledInput$1=styled$4(Input$2,styledRootConfig)(""),StyledOutlinedInput=styled$4(OutlinedInput$1,styledRootConfig)(""),StyledFilledInput=styled$4(FilledInput$1,styledRootConfig)(""),Select$1=reactExports.forwardRef(function(rs,ns){const os=useDefaultProps({name:"MuiSelect",props:rs}),{autoWidth:ss=!1,children:as,classes:ls={},className:cs,defaultOpen:us=!1,displayEmpty:ds=!1,IconComponent:ps=ArrowDropDownIcon,id:fs,input:hs,inputProps:ms,label:gs,labelId:vs,MenuProps:bs,multiple:xs=!1,native:ys=!1,onClose:Ss,onOpen:Cs,open:$s,renderValue:Es,SelectDisplayProps:ws,variant:Ts="outlined"}=os,Is=_objectWithoutPropertiesLoose$1(os,_excluded$1q),Rs=ys?NativeSelectInput$1:SelectInput$1,As=useFormControl(),ks=formControlState({props:os,muiFormControl:As,states:["variant","error"]}),Ms=ks.variant||Ts,Os=_extends$5({},os,{variant:Ms,classes:ls}),Ds=useUtilityClasses$1g(Os),Fs=_objectWithoutPropertiesLoose$1(Ds,_excluded2$7),js=hs||{standard:jsxRuntimeExports.jsx(StyledInput$1,{ownerState:Os}),outlined:jsxRuntimeExports.jsx(StyledOutlinedInput,{label:gs,ownerState:Os}),filled:jsxRuntimeExports.jsx(StyledFilledInput,{ownerState:Os})}[Ms],Ps=useForkRef(ns,js.ref);return jsxRuntimeExports.jsx(reactExports.Fragment,{children:reactExports.cloneElement(js,_extends$5({inputComponent:Rs,inputProps:_extends$5({children:as,error:ks.error,IconComponent:ps,variant:Ms,type:void 0,multiple:xs},ys?{id:fs}:{autoWidth:ss,defaultOpen:us,displayEmpty:ds,labelId:vs,MenuProps:bs,onClose:Ss,onOpen:Cs,open:$s,renderValue:Es,SelectDisplayProps:_extends$5({id:fs},ws)},ms,{classes:ms?deepmerge$1(Fs,ms.classes):Fs},hs?hs.props.inputProps:{})},(xs&&ys||ds)&&Ms==="outlined"?{notched:!0}:{},{ref:Ps,className:clsx$1(js.props.className,cs,Ds.root)},!hs&&{variant:Ms},Is))})});Select$1.muiName="Select";const Select$2=Select$1;function useSnackbar(ts={}){const{autoHideDuration:rs=null,disableWindowBlurListener:ns=!1,onClose:os,open:ss,resumeHideDuration:as}=ts,ls=useTimeout$1();reactExports.useEffect(()=>{if(!ss)return;function xs(ys){ys.defaultPrevented||(ys.key==="Escape"||ys.key==="Esc")&&(os==null||os(ys,"escapeKeyDown"))}return document.addEventListener("keydown",xs),()=>{document.removeEventListener("keydown",xs)}},[ss,os]);const cs=useEventCallback((xs,ys)=>{os==null||os(xs,ys)}),us=useEventCallback(xs=>{!os||xs==null||ls.start(xs,()=>{cs(null,"timeout")})});reactExports.useEffect(()=>(ss&&us(rs),ls.clear),[ss,rs,us,ls]);const ds=xs=>{os==null||os(xs,"clickaway")},ps=ls.clear,fs=reactExports.useCallback(()=>{rs!=null&&us(as!=null?as:rs*.5)},[rs,as,us]),hs=xs=>ys=>{const Ss=xs.onBlur;Ss==null||Ss(ys),fs()},ms=xs=>ys=>{const Ss=xs.onFocus;Ss==null||Ss(ys),ps()},gs=xs=>ys=>{const Ss=xs.onMouseEnter;Ss==null||Ss(ys),ps()},vs=xs=>ys=>{const Ss=xs.onMouseLeave;Ss==null||Ss(ys),fs()};return reactExports.useEffect(()=>{if(!ns&&ss)return window.addEventListener("focus",fs),window.addEventListener("blur",ps),()=>{window.removeEventListener("focus",fs),window.removeEventListener("blur",ps)}},[ns,ss,fs,ps]),{getRootProps:(xs={})=>{const ys=_extends$5({},extractEventHandlers(ts),extractEventHandlers(xs));return _extends$5({role:"presentation"},xs,ys,{onBlur:hs(ys),onFocus:ms(ys),onMouseEnter:gs(ys),onMouseLeave:vs(ys)})},onClickAway:ds}}function getSnackbarContentUtilityClass(ts){return generateUtilityClass("MuiSnackbarContent",ts)}generateUtilityClasses("MuiSnackbarContent",["root","message","action"]);const _excluded$1p=["action","className","message","role"],useUtilityClasses$1f=ts=>{const{classes:rs}=ts;return composeClasses({root:["root"],action:["action"],message:["message"]},getSnackbarContentUtilityClass,rs)},SnackbarContentRoot=styled$4(Paper$1,{name:"MuiSnackbarContent",slot:"Root",overridesResolver:(ts,rs)=>rs.root})(({theme:ts})=>{const rs=ts.palette.mode==="light"?.8:.98,ns=emphasize_1(ts.palette.background.default,rs);return _extends$5({},ts.typography.body2,{color:ts.vars?ts.vars.palette.SnackbarContent.color:ts.palette.getContrastText(ns),backgroundColor:ts.vars?ts.vars.palette.SnackbarContent.bg:ns,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:(ts.vars||ts).shape.borderRadius,flexGrow:1,[ts.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}})}),SnackbarContentMessage=styled$4("div",{name:"MuiSnackbarContent",slot:"Message",overridesResolver:(ts,rs)=>rs.message})({padding:"8px 0"}),SnackbarContentAction=styled$4("div",{name:"MuiSnackbarContent",slot:"Action",overridesResolver:(ts,rs)=>rs.action})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),SnackbarContent=reactExports.forwardRef(function(rs,ns){const os=useDefaultProps({props:rs,name:"MuiSnackbarContent"}),{action:ss,className:as,message:ls,role:cs="alert"}=os,us=_objectWithoutPropertiesLoose$1(os,_excluded$1p),ds=os,ps=useUtilityClasses$1f(ds);return jsxRuntimeExports.jsxs(SnackbarContentRoot,_extends$5({role:cs,square:!0,elevation:6,className:clsx$1(ps.root,as),ownerState:ds,ref:ns},us,{children:[jsxRuntimeExports.jsx(SnackbarContentMessage,{className:ps.message,ownerState:ds,children:ls}),ss?jsxRuntimeExports.jsx(SnackbarContentAction,{className:ps.action,ownerState:ds,children:ss}):null]}))}),SnackbarContent$1=SnackbarContent;function getSnackbarUtilityClass(ts){return generateUtilityClass("MuiSnackbar",ts)}generateUtilityClasses("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const _excluded$1o=["onEnter","onExited"],_excluded2$6=["action","anchorOrigin","autoHideDuration","children","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onBlur","onClose","onFocus","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"],useUtilityClasses$1e=ts=>{const{classes:rs,anchorOrigin:ns}=ts,os={root:["root","anchorOrigin".concat(capitalize$1(ns.vertical)).concat(capitalize$1(ns.horizontal))]};return composeClasses(os,getSnackbarUtilityClass,rs)},SnackbarRoot=styled$4("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(ts,rs)=>{const{ownerState:ns}=ts;return[rs.root,rs["anchorOrigin".concat(capitalize$1(ns.anchorOrigin.vertical)).concat(capitalize$1(ns.anchorOrigin.horizontal))]]}})(({theme:ts,ownerState:rs})=>{const ns={left:"50%",right:"auto",transform:"translateX(-50%)"};return _extends$5({zIndex:(ts.vars||ts).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},rs.anchorOrigin.vertical==="top"?{top:8}:{bottom:8},rs.anchorOrigin.horizontal==="left"&&{justifyContent:"flex-start"},rs.anchorOrigin.horizontal==="right"&&{justifyContent:"flex-end"},{[ts.breakpoints.up("sm")]:_extends$5({},rs.anchorOrigin.vertical==="top"?{top:24}:{bottom:24},rs.anchorOrigin.horizontal==="center"&&ns,rs.anchorOrigin.horizontal==="left"&&{left:24,right:"auto"},rs.anchorOrigin.horizontal==="right"&&{right:24,left:"auto"})})}),Snackbar=reactExports.forwardRef(function(rs,ns){const os=useDefaultProps({props:rs,name:"MuiSnackbar"}),ss=useTheme$1(),as={enter:ss.transitions.duration.enteringScreen,exit:ss.transitions.duration.leavingScreen},{action:ls,anchorOrigin:{vertical:cs,horizontal:us}={vertical:"bottom",horizontal:"left"},autoHideDuration:ds=null,children:ps,className:fs,ClickAwayListenerProps:hs,ContentProps:ms,disableWindowBlurListener:gs=!1,message:vs,open:bs,TransitionComponent:xs=Grow$1,transitionDuration:ys=as,TransitionProps:{onEnter:Ss,onExited:Cs}={}}=os,$s=_objectWithoutPropertiesLoose$1(os.TransitionProps,_excluded$1o),Es=_objectWithoutPropertiesLoose$1(os,_excluded2$6),ws=_extends$5({},os,{anchorOrigin:{vertical:cs,horizontal:us},autoHideDuration:ds,disableWindowBlurListener:gs,TransitionComponent:xs,transitionDuration:ys}),Ts=useUtilityClasses$1e(ws),{getRootProps:Is,onClickAway:Rs}=useSnackbar(_extends$5({},ws)),[As,ks]=reactExports.useState(!0),Ms=useSlotProps({elementType:SnackbarRoot,getSlotProps:Is,externalForwardedProps:Es,ownerState:ws,additionalProps:{ref:ns},className:[Ts.root,fs]}),Os=Fs=>{ks(!0),Cs&&Cs(Fs)},Ds=(Fs,js)=>{ks(!1),Ss&&Ss(Fs,js)};return!bs&&As?null:jsxRuntimeExports.jsx(ClickAwayListener,_extends$5({onClickAway:Rs},hs,{children:jsxRuntimeExports.jsx(SnackbarRoot,_extends$5({},Ms,{children:jsxRuntimeExports.jsx(xs,_extends$5({appear:!0,in:bs,timeout:ys,direction:cs==="top"?"down":"up",onEnter:Ds,onExited:Os},$s,{children:ps||jsxRuntimeExports.jsx(SnackbarContent$1,_extends$5({message:vs,action:ls},ms))}))}))}))}),Snackbar$1=Snackbar;function getSwitchUtilityClass(ts){return generateUtilityClass("MuiSwitch",ts)}const switchClasses=generateUtilityClasses("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),switchClasses$1=switchClasses,_excluded$1n=["className","color","edge","size","sx"],useUtilityClasses$1d=ts=>{const{classes:rs,edge:ns,size:os,color:ss,checked:as,disabled:ls}=ts,cs={root:["root",ns&&"edge".concat(capitalize$1(ns)),"size".concat(capitalize$1(os))],switchBase:["switchBase","color".concat(capitalize$1(ss)),as&&"checked",ls&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},us=composeClasses(cs,getSwitchUtilityClass,rs);return _extends$5({},rs,us)},SwitchRoot=styled$4("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(ts,rs)=>{const{ownerState:ns}=ts;return[rs.root,ns.edge&&rs["edge".concat(capitalize$1(ns.edge))],rs["size".concat(capitalize$1(ns.size))]]}})({display:"inline-flex",width:34+12*2,height:14+12*2,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,["& .".concat(switchClasses$1.thumb)]:{width:16,height:16},["& .".concat(switchClasses$1.switchBase)]:{padding:4,["&.".concat(switchClasses$1.checked)]:{transform:"translateX(16px)"}}}}]}),SwitchSwitchBase=styled$4(SwitchBase$1,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(ts,rs)=>{const{ownerState:ns}=ts;return[rs.switchBase,{["& .".concat(switchClasses$1.input)]:rs.input},ns.color!=="default"&&rs["color".concat(capitalize$1(ns.color))]]}})(({theme:ts})=>({position:"absolute",top:0,left:0,zIndex:1,color:ts.vars?ts.vars.palette.Switch.defaultColor:"".concat(ts.palette.mode==="light"?ts.palette.common.white:ts.palette.grey[300]),transition:ts.transitions.create(["left","transform"],{duration:ts.transitions.duration.shortest}),["&.".concat(switchClasses$1.checked)]:{transform:"translateX(20px)"},["&.".concat(switchClasses$1.disabled)]:{color:ts.vars?ts.vars.palette.Switch.defaultDisabledColor:"".concat(ts.palette.mode==="light"?ts.palette.grey[100]:ts.palette.grey[600])},["&.".concat(switchClasses$1.checked," + .").concat(switchClasses$1.track)]:{opacity:.5},["&.".concat(switchClasses$1.disabled," + .").concat(switchClasses$1.track)]:{opacity:ts.vars?ts.vars.opacity.switchTrackDisabled:"".concat(ts.palette.mode==="light"?.12:.2)},["& .".concat(switchClasses$1.input)]:{left:"-100%",width:"300%"}}),({theme:ts})=>({"&:hover":{backgroundColor:ts.vars?"rgba(".concat(ts.vars.palette.action.activeChannel," / ").concat(ts.vars.palette.action.hoverOpacity,")"):alpha_1(ts.palette.action.active,ts.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(ts.palette).filter(([,rs])=>rs.main&&rs.light).map(([rs])=>({props:{color:rs},style:{["&.".concat(switchClasses$1.checked)]:{color:(ts.vars||ts).palette[rs].main,"&:hover":{backgroundColor:ts.vars?"rgba(".concat(ts.vars.palette[rs].mainChannel," / ").concat(ts.vars.palette.action.hoverOpacity,")"):alpha_1(ts.palette[rs].main,ts.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(switchClasses$1.disabled)]:{color:ts.vars?ts.vars.palette.Switch["".concat(rs,"DisabledColor")]:"".concat(ts.palette.mode==="light"?lighten_1(ts.palette[rs].main,.62):darken_1(ts.palette[rs].main,.55))}},["&.".concat(switchClasses$1.checked," + .").concat(switchClasses$1.track)]:{backgroundColor:(ts.vars||ts).palette[rs].main}}}))]})),SwitchTrack=styled$4("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(ts,rs)=>rs.track})(({theme:ts})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:ts.transitions.create(["opacity","background-color"],{duration:ts.transitions.duration.shortest}),backgroundColor:ts.vars?ts.vars.palette.common.onBackground:"".concat(ts.palette.mode==="light"?ts.palette.common.black:ts.palette.common.white),opacity:ts.vars?ts.vars.opacity.switchTrack:"".concat(ts.palette.mode==="light"?.38:.3)})),SwitchThumb=styled$4("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(ts,rs)=>rs.thumb})(({theme:ts})=>({boxShadow:(ts.vars||ts).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"})),Switch=reactExports.forwardRef(function(rs,ns){const os=useDefaultProps({props:rs,name:"MuiSwitch"}),{className:ss,color:as="primary",edge:ls=!1,size:cs="medium",sx:us}=os,ds=_objectWithoutPropertiesLoose$1(os,_excluded$1n),ps=_extends$5({},os,{color:as,edge:ls,size:cs}),fs=useUtilityClasses$1d(ps),hs=jsxRuntimeExports.jsx(SwitchThumb,{className:fs.thumb,ownerState:ps});return jsxRuntimeExports.jsxs(SwitchRoot,{className:clsx$1(fs.root,ss),sx:us,ownerState:ps,children:[jsxRuntimeExports.jsx(SwitchSwitchBase,_extends$5({type:"checkbox",icon:hs,checkedIcon:hs,ref:ns,ownerState:ps},ds,{classes:_extends$5({},fs,{root:fs.switchBase})})),jsxRuntimeExports.jsx(SwitchTrack,{className:fs.track,ownerState:ps})]})}),Switch$1=Switch;function getTabUtilityClass(ts){return generateUtilityClass("MuiTab",ts)}const tabClasses=generateUtilityClasses("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper"]),tabClasses$1=tabClasses,_excluded$1m=["className","disabled","disableFocusRipple","fullWidth","icon","iconPosition","indicator","label","onChange","onClick","onFocus","selected","selectionFollowsFocus","textColor","value","wrapped"],useUtilityClasses$1c=ts=>{const{classes:rs,textColor:ns,fullWidth:os,wrapped:ss,icon:as,label:ls,selected:cs,disabled:us}=ts,ds={root:["root",as&&ls&&"labelIcon","textColor".concat(capitalize$1(ns)),os&&"fullWidth",ss&&"wrapped",cs&&"selected",us&&"disabled"],iconWrapper:["iconWrapper"]};return composeClasses(ds,getTabUtilityClass,rs)},TabRoot=styled$4(ButtonBase$1,{name:"MuiTab",slot:"Root",overridesResolver:(ts,rs)=>{const{ownerState:ns}=ts;return[rs.root,ns.label&&ns.icon&&rs.labelIcon,rs["textColor".concat(capitalize$1(ns.textColor))],ns.fullWidth&&rs.fullWidth,ns.wrapped&&rs.wrapped,{["& .".concat(tabClasses$1.iconWrapper)]:rs.iconWrapper}]}})(({theme:ts,ownerState:rs})=>_extends$5({},ts.typography.button,{maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center"},rs.label&&{flexDirection:rs.iconPosition==="top"||rs.iconPosition==="bottom"?"column":"row"},{lineHeight:1.25},rs.icon&&rs.label&&{minHeight:72,paddingTop:9,paddingBottom:9,["& > .".concat(tabClasses$1.iconWrapper)]:_extends$5({},rs.iconPosition==="top"&&{marginBottom:6},rs.iconPosition==="bottom"&&{marginTop:6},rs.iconPosition==="start"&&{marginRight:ts.spacing(1)},rs.iconPosition==="end"&&{marginLeft:ts.spacing(1)})},rs.textColor==="inherit"&&{color:"inherit",opacity:.6,["&.".concat(tabClasses$1.selected)]:{opacity:1},["&.".concat(tabClasses$1.disabled)]:{opacity:(ts.vars||ts).palette.action.disabledOpacity}},rs.textColor==="primary"&&{color:(ts.vars||ts).palette.text.secondary,["&.".concat(tabClasses$1.selected)]:{color:(ts.vars||ts).palette.primary.main},["&.".concat(tabClasses$1.disabled)]:{color:(ts.vars||ts).palette.text.disabled}},rs.textColor==="secondary"&&{color:(ts.vars||ts).palette.text.secondary,["&.".concat(tabClasses$1.selected)]:{color:(ts.vars||ts).palette.secondary.main},["&.".concat(tabClasses$1.disabled)]:{color:(ts.vars||ts).palette.text.disabled}},rs.fullWidth&&{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"},rs.wrapped&&{fontSize:ts.typography.pxToRem(12)})),Tab=reactExports.forwardRef(function(rs,ns){const os=useDefaultProps({props:rs,name:"MuiTab"}),{className:ss,disabled:as=!1,disableFocusRipple:ls=!1,fullWidth:cs,icon:us,iconPosition:ds="top",indicator:ps,label:fs,onChange:hs,onClick:ms,onFocus:gs,selected:vs,selectionFollowsFocus:bs,textColor:xs="inherit",value:ys,wrapped:Ss=!1}=os,Cs=_objectWithoutPropertiesLoose$1(os,_excluded$1m),$s=_extends$5({},os,{disabled:as,disableFocusRipple:ls,selected:vs,icon:!!us,iconPosition:ds,label:!!fs,fullWidth:cs,textColor:xs,wrapped:Ss}),Es=useUtilityClasses$1c($s),ws=us&&fs&&reactExports.isValidElement(us)?reactExports.cloneElement(us,{className:clsx$1(Es.iconWrapper,us.props.className)}):us,Ts=Rs=>{!vs&&hs&&hs(Rs,ys),ms&&ms(Rs)},Is=Rs=>{bs&&!vs&&hs&&hs(Rs,ys),gs&&gs(Rs)};return jsxRuntimeExports.jsxs(TabRoot,_extends$5({focusRipple:!ls,className:clsx$1(Es.root,ss),ref:ns,role:"tab","aria-selected":vs,disabled:as,onClick:Ts,onFocus:Is,ownerState:$s,tabIndex:vs?0:-1},Cs,{children:[ds==="top"||ds==="start"?jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[ws,fs]}):jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[fs,ws]}),ps]}))}),Tab$1=Tab,TableContext=reactExports.createContext(),TableContext$1=TableContext;function getTableUtilityClass(ts){return generateUtilityClass("MuiTable",ts)}generateUtilityClasses("MuiTable",["root","stickyHeader"]);const _excluded$1l=["className","component","padding","size","stickyHeader"],useUtilityClasses$1b=ts=>{const{classes:rs,stickyHeader:ns}=ts;return composeClasses({root:["root",ns&&"stickyHeader"]},getTableUtilityClass,rs)},TableRoot=styled$4("table",{name:"MuiTable",slot:"Root",overridesResolver:(ts,rs)=>{const{ownerState:ns}=ts;return[rs.root,ns.stickyHeader&&rs.stickyHeader]}})(({theme:ts,ownerState:rs})=>_extends$5({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":_extends$5({},ts.typography.body2,{padding:ts.spacing(2),color:(ts.vars||ts).palette.text.secondary,textAlign:"left",captionSide:"bottom"})},rs.stickyHeader&&{borderCollapse:"separate"})),defaultComponent$3="table",Table=reactExports.forwardRef(function(rs,ns){const os=useDefaultProps({props:rs,name:"MuiTable"}),{className:ss,component:as=defaultComponent$3,padding:ls="normal",size:cs="medium",stickyHeader:us=!1}=os,ds=_objectWithoutPropertiesLoose$1(os,_excluded$1l),ps=_extends$5({},os,{component:as,padding:ls,size:cs,stickyHeader:us}),fs=useUtilityClasses$1b(ps),hs=reactExports.useMemo(()=>({padding:ls,size:cs,stickyHeader:us}),[ls,cs,us]);return jsxRuntimeExports.jsx(TableContext$1.Provider,{value:hs,children:jsxRuntimeExports.jsx(TableRoot,_extends$5({as,role:as===defaultComponent$3?null:"table",ref:ns,className:clsx$1(fs.root,ss),ownerState:ps},ds))})}),Table$1=Table,Tablelvl2Context=reactExports.createContext(),Tablelvl2Context$1=Tablelvl2Context;function getTableBodyUtilityClass(ts){return generateUtilityClass("MuiTableBody",ts)}generateUtilityClasses("MuiTableBody",["root"]);const _excluded$1k=["className","component"],useUtilityClasses$1a=ts=>{const{classes:rs}=ts;return composeClasses({root:["root"]},getTableBodyUtilityClass,rs)},TableBodyRoot=styled$4("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(ts,rs)=>rs.root})({display:"table-row-group"}),tablelvl2$1={variant:"body"},defaultComponent$2="tbody",TableBody=reactExports.forwardRef(function(rs,ns){const os=useDefaultProps({props:rs,name:"MuiTableBody"}),{className:ss,component:as=defaultComponent$2}=os,ls=_objectWithoutPropertiesLoose$1(os,_excluded$1k),cs=_extends$5({},os,{component:as}),us=useUtilityClasses$1a(cs);return jsxRuntimeExports.jsx(Tablelvl2Context$1.Provider,{value:tablelvl2$1,children:jsxRuntimeExports.jsx(TableBodyRoot,_extends$5({className:clsx$1(us.root,ss),as,ref:ns,role:as===defaultComponent$2?null:"rowgroup",ownerState:cs},ls))})}),TableBody$1=TableBody;function getTableCellUtilityClass(ts){return generateUtilityClass("MuiTableCell",ts)}const tableCellClasses=generateUtilityClasses("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),tableCellClasses$1=tableCellClasses,_excluded$1j=["align","className","component","padding","scope","size","sortDirection","variant"],useUtilityClasses$19=ts=>{const{classes:rs,variant:ns,align:os,padding:ss,size:as,stickyHeader:ls}=ts,cs={root:["root",ns,ls&&"stickyHeader",os!=="inherit"&&"align".concat(capitalize$1(os)),ss!=="normal"&&"padding".concat(capitalize$1(ss)),"size".concat(capitalize$1(as))]};return composeClasses(cs,getTableCellUtilityClass,rs)},TableCellRoot=styled$4("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(ts,rs)=>{const{ownerState:ns}=ts;return[rs.root,rs[ns.variant],rs["size".concat(capitalize$1(ns.size))],ns.padding!=="normal"&&rs["padding".concat(capitalize$1(ns.padding))],ns.align!=="inherit"&&rs["align".concat(capitalize$1(ns.align))],ns.stickyHeader&&rs.stickyHeader]}})(({theme:ts,ownerState:rs})=>_extends$5({},ts.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:ts.vars?"1px solid ".concat(ts.vars.palette.TableCell.border):"1px solid\n    ".concat(ts.palette.mode==="light"?lighten_1(alpha_1(ts.palette.divider,1),.88):darken_1(alpha_1(ts.palette.divider,1),.68)),textAlign:"left",padding:16},rs.variant==="head"&&{color:(ts.vars||ts).palette.text.primary,lineHeight:ts.typography.pxToRem(24),fontWeight:ts.typography.fontWeightMedium},rs.variant==="body"&&{color:(ts.vars||ts).palette.text.primary},rs.variant==="footer"&&{color:(ts.vars||ts).palette.text.secondary,lineHeight:ts.typography.pxToRem(21),fontSize:ts.typography.pxToRem(12)},rs.size==="small"&&{padding:"6px 16px",["&.".concat(tableCellClasses$1.paddingCheckbox)]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}},rs.padding==="checkbox"&&{width:48,padding:"0 0 0 4px"},rs.padding==="none"&&{padding:0},rs.align==="left"&&{textAlign:"left"},rs.align==="center"&&{textAlign:"center"},rs.align==="right"&&{textAlign:"right",flexDirection:"row-reverse"},rs.align==="justify"&&{textAlign:"justify"},rs.stickyHeader&&{position:"sticky",top:0,zIndex:2,backgroundColor:(ts.vars||ts).palette.background.default})),TableCell=reactExports.forwardRef(function(rs,ns){const os=useDefaultProps({props:rs,name:"MuiTableCell"}),{align:ss="inherit",className:as,component:ls,padding:cs,scope:us,size:ds,sortDirection:ps,variant:fs}=os,hs=_objectWithoutPropertiesLoose$1(os,_excluded$1j),ms=reactExports.useContext(TableContext$1),gs=reactExports.useContext(Tablelvl2Context$1),vs=gs&&gs.variant==="head";let bs;ls?bs=ls:bs=vs?"th":"td";let xs=us;bs==="td"?xs=void 0:!xs&&vs&&(xs="col");const ys=fs||gs&&gs.variant,Ss=_extends$5({},os,{align:ss,component:bs,padding:cs||(ms&&ms.padding?ms.padding:"normal"),size:ds||(ms&&ms.size?ms.size:"medium"),sortDirection:ps,stickyHeader:ys==="head"&&ms&&ms.stickyHeader,variant:ys}),Cs=useUtilityClasses$19(Ss);let $s=null;return ps&&($s=ps==="asc"?"ascending":"descending"),jsxRuntimeExports.jsx(TableCellRoot,_extends$5({as:bs,ref:ns,className:clsx$1(Cs.root,as),"aria-sort":$s,scope:xs,ownerState:Ss},hs))}),TableCell$1=TableCell;function getTableContainerUtilityClass(ts){return generateUtilityClass("MuiTableContainer",ts)}generateUtilityClasses("MuiTableContainer",["root"]);const _excluded$1i=["className","component"],useUtilityClasses$18=ts=>{const{classes:rs}=ts;return composeClasses({root:["root"]},getTableContainerUtilityClass,rs)},TableContainerRoot=styled$4("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(ts,rs)=>rs.root})({width:"100%",overflowX:"auto"}),TableContainer=reactExports.forwardRef(function(rs,ns){const os=useDefaultProps({props:rs,name:"MuiTableContainer"}),{className:ss,component:as="div"}=os,ls=_objectWithoutPropertiesLoose$1(os,_excluded$1i),cs=_extends$5({},os,{component:as}),us=useUtilityClasses$18(cs);return jsxRuntimeExports.jsx(TableContainerRoot,_extends$5({ref:ns,as,className:clsx$1(us.root,ss),ownerState:cs},ls))}),TableContainer$1=TableContainer;function getTableHeadUtilityClass(ts){return generateUtilityClass("MuiTableHead",ts)}generateUtilityClasses("MuiTableHead",["root"]);const _excluded$1h=["className","component"],useUtilityClasses$17=ts=>{const{classes:rs}=ts;return composeClasses({root:["root"]},getTableHeadUtilityClass,rs)},TableHeadRoot=styled$4("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(ts,rs)=>rs.root})({display:"table-header-group"}),tablelvl2={variant:"head"},defaultComponent$1="thead",TableHead=reactExports.forwardRef(function(rs,ns){const os=useDefaultProps({props:rs,name:"MuiTableHead"}),{className:ss,component:as=defaultComponent$1}=os,ls=_objectWithoutPropertiesLoose$1(os,_excluded$1h),cs=_extends$5({},os,{component:as}),us=useUtilityClasses$17(cs);return jsxRuntimeExports.jsx(Tablelvl2Context$1.Provider,{value:tablelvl2,children:jsxRuntimeExports.jsx(TableHeadRoot,_extends$5({as,className:clsx$1(us.root,ss),ref:ns,role:as===defaultComponent$1?null:"rowgroup",ownerState:cs},ls))})}),TableHead$1=TableHead;function getToolbarUtilityClass(ts){return generateUtilityClass("MuiToolbar",ts)}generateUtilityClasses("MuiToolbar",["root","gutters","regular","dense"]);const _excluded$1g=["className","component","disableGutters","variant"],useUtilityClasses$16=ts=>{const{classes:rs,disableGutters:ns,variant:os}=ts;return composeClasses({root:["root",!ns&&"gutters",os]},getToolbarUtilityClass,rs)},ToolbarRoot=styled$4("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(ts,rs)=>{const{ownerState:ns}=ts;return[rs.root,!ns.disableGutters&&rs.gutters,rs[ns.variant]]}})(({theme:ts,ownerState:rs})=>_extends$5({position:"relative",display:"flex",alignItems:"center"},!rs.disableGutters&&{paddingLeft:ts.spacing(2),paddingRight:ts.spacing(2),[ts.breakpoints.up("sm")]:{paddingLeft:ts.spacing(3),paddingRight:ts.spacing(3)}},rs.variant==="dense"&&{minHeight:48}),({theme:ts,ownerState:rs})=>rs.variant==="regular"&&ts.mixins.toolbar),Toolbar=reactExports.forwardRef(function(rs,ns){const os=useDefaultProps({props:rs,name:"MuiToolbar"}),{className:ss,component:as="div",disableGutters:ls=!1,variant:cs="regular"}=os,us=_objectWithoutPropertiesLoose$1(os,_excluded$1g),ds=_extends$5({},os,{component:as,disableGutters:ls,variant:cs}),ps=useUtilityClasses$16(ds);return jsxRuntimeExports.jsx(ToolbarRoot,_extends$5({as,className:clsx$1(ps.root,ss),ref:ns,ownerState:ds},us))}),Toolbar$1=Toolbar,_excluded$1f=["backIconButtonProps","count","disabled","getItemAriaLabel","nextIconButtonProps","onPageChange","page","rowsPerPage","showFirstButton","showLastButton","slots","slotProps"],TablePaginationActions=reactExports.forwardRef(function(rs,ns){var os,ss,as,ls,cs,us,ds,ps;const{backIconButtonProps:fs,count:hs,disabled:ms=!1,getItemAriaLabel:gs,nextIconButtonProps:vs,onPageChange:bs,page:xs,rowsPerPage:ys,showFirstButton:Ss,showLastButton:Cs,slots:$s={},slotProps:Es={}}=rs,ws=_objectWithoutPropertiesLoose$1(rs,_excluded$1f),Ts=useRtl(),Is=Pl=>{bs(Pl,0)},Rs=Pl=>{bs(Pl,xs-1)},As=Pl=>{bs(Pl,xs+1)},ks=Pl=>{bs(Pl,Math.max(0,Math.ceil(hs/ys)-1))},Ms=(os=$s.firstButton)!=null?os:IconButton$2,Os=(ss=$s.lastButton)!=null?ss:IconButton$2,Ds=(as=$s.nextButton)!=null?as:IconButton$2,Fs=(ls=$s.previousButton)!=null?ls:IconButton$2,js=(cs=$s.firstButtonIcon)!=null?cs:FirstPageIconDefault,Ps=(us=$s.lastButtonIcon)!=null?us:LastPageIconDefault,Ls=(ds=$s.nextButtonIcon)!=null?ds:KeyboardArrowRight,Ns=(ps=$s.previousButtonIcon)!=null?ps:KeyboardArrowLeft,Gs=Ts?Os:Ms,Us=Ts?Ds:Fs,Hs=Ts?Fs:Ds,zs=Ts?Ms:Os,qs=Ts?Es.lastButton:Es.firstButton,Vs=Ts?Es.nextButton:Es.previousButton,Ks=Ts?Es.previousButton:Es.nextButton,Ws=Ts?Es.firstButton:Es.lastButton;return jsxRuntimeExports.jsxs("div",_extends$5({ref:ns},ws,{children:[Ss&&jsxRuntimeExports.jsx(Gs,_extends$5({onClick:Is,disabled:ms||xs===0,"aria-label":gs("first",xs),title:gs("first",xs)},qs,{children:Ts?jsxRuntimeExports.jsx(Ps,_extends$5({},Es.lastButtonIcon)):jsxRuntimeExports.jsx(js,_extends$5({},Es.firstButtonIcon))})),jsxRuntimeExports.jsx(Us,_extends$5({onClick:Rs,disabled:ms||xs===0,color:"inherit","aria-label":gs("previous",xs),title:gs("previous",xs)},Vs!=null?Vs:fs,{children:Ts?jsxRuntimeExports.jsx(Ls,_extends$5({},Es.nextButtonIcon)):jsxRuntimeExports.jsx(Ns,_extends$5({},Es.previousButtonIcon))})),jsxRuntimeExports.jsx(Hs,_extends$5({onClick:As,disabled:ms||(hs!==-1?xs>=Math.ceil(hs/ys)-1:!1),color:"inherit","aria-label":gs("next",xs),title:gs("next",xs)},Ks!=null?Ks:vs,{children:Ts?jsxRuntimeExports.jsx(Ns,_extends$5({},Es.previousButtonIcon)):jsxRuntimeExports.jsx(Ls,_extends$5({},Es.nextButtonIcon))})),Cs&&jsxRuntimeExports.jsx(zs,_extends$5({onClick:ks,disabled:ms||xs>=Math.ceil(hs/ys)-1,"aria-label":gs("last",xs),title:gs("last",xs)},Ws,{children:Ts?jsxRuntimeExports.jsx(js,_extends$5({},Es.firstButtonIcon)):jsxRuntimeExports.jsx(Ps,_extends$5({},Es.lastButtonIcon))}))]}))}),TablePaginationActions$1=TablePaginationActions;function getTablePaginationUtilityClass(ts){return generateUtilityClass("MuiTablePagination",ts)}const tablePaginationClasses=generateUtilityClasses("MuiTablePagination",["root","toolbar","spacer","selectLabel","selectRoot","select","selectIcon","input","menuItem","displayedRows","actions"]),tablePaginationClasses$1=tablePaginationClasses;var _InputBase;const _excluded$1e=["ActionsComponent","backIconButtonProps","className","colSpan","component","count","disabled","getItemAriaLabel","labelDisplayedRows","labelRowsPerPage","nextIconButtonProps","onPageChange","onRowsPerPageChange","page","rowsPerPage","rowsPerPageOptions","SelectProps","showFirstButton","showLastButton","slotProps","slots"],TablePaginationRoot=styled$4(TableCell$1,{name:"MuiTablePagination",slot:"Root",overridesResolver:(ts,rs)=>rs.root})(({theme:ts})=>({overflow:"auto",color:(ts.vars||ts).palette.text.primary,fontSize:ts.typography.pxToRem(14),"&:last-child":{padding:0}})),TablePaginationToolbar=styled$4(Toolbar$1,{name:"MuiTablePagination",slot:"Toolbar",overridesResolver:(ts,rs)=>_extends$5({["& .".concat(tablePaginationClasses$1.actions)]:rs.actions},rs.toolbar)})(({theme:ts})=>({minHeight:52,paddingRight:2,["".concat(ts.breakpoints.up("xs")," and (orientation: landscape)")]:{minHeight:52},[ts.breakpoints.up("sm")]:{minHeight:52,paddingRight:2},["& .".concat(tablePaginationClasses$1.actions)]:{flexShrink:0,marginLeft:20}})),TablePaginationSpacer=styled$4("div",{name:"MuiTablePagination",slot:"Spacer",overridesResolver:(ts,rs)=>rs.spacer})({flex:"1 1 100%"}),TablePaginationSelectLabel=styled$4("p",{name:"MuiTablePagination",slot:"SelectLabel",overridesResolver:(ts,rs)=>rs.selectLabel})(({theme:ts})=>_extends$5({},ts.typography.body2,{flexShrink:0})),TablePaginationSelect=styled$4(Select$2,{name:"MuiTablePagination",slot:"Select",overridesResolver:(ts,rs)=>_extends$5({["& .".concat(tablePaginationClasses$1.selectIcon)]:rs.selectIcon,["& .".concat(tablePaginationClasses$1.select)]:rs.select},rs.input,rs.selectRoot)})({color:"inherit",fontSize:"inherit",flexShrink:0,marginRight:32,marginLeft:8,["& .".concat(tablePaginationClasses$1.select)]:{paddingLeft:8,paddingRight:24,textAlign:"right",textAlignLast:"right"}}),TablePaginationMenuItem=styled$4(MenuItem$1,{name:"MuiTablePagination",slot:"MenuItem",overridesResolver:(ts,rs)=>rs.menuItem})({}),TablePaginationDisplayedRows=styled$4("p",{name:"MuiTablePagination",slot:"DisplayedRows",overridesResolver:(ts,rs)=>rs.displayedRows})(({theme:ts})=>_extends$5({},ts.typography.body2,{flexShrink:0}));function defaultLabelDisplayedRows({from:ts,to:rs,count:ns}){return"".concat(ts,"â").concat(rs," of ").concat(ns!==-1?ns:"more than ".concat(rs))}function defaultGetAriaLabel(ts){return"Go to ".concat(ts," page")}const useUtilityClasses$15=ts=>{const{classes:rs}=ts;return composeClasses({root:["root"],toolbar:["toolbar"],spacer:["spacer"],selectLabel:["selectLabel"],select:["select"],input:["input"],selectIcon:["selectIcon"],menuItem:["menuItem"],displayedRows:["displayedRows"],actions:["actions"]},getTablePaginationUtilityClass,rs)},TablePagination=reactExports.forwardRef(function(rs,ns){var os;const ss=useDefaultProps({props:rs,name:"MuiTablePagination"}),{ActionsComponent:as=TablePaginationActions$1,backIconButtonProps:ls,className:cs,colSpan:us,component:ds=TableCell$1,count:ps,disabled:fs=!1,getItemAriaLabel:hs=defaultGetAriaLabel,labelDisplayedRows:ms=defaultLabelDisplayedRows,labelRowsPerPage:gs="Rows per page:",nextIconButtonProps:vs,onPageChange:bs,onRowsPerPageChange:xs,page:ys,rowsPerPage:Ss,rowsPerPageOptions:Cs=[10,25,50,100],SelectProps:$s={},showFirstButton:Es=!1,showLastButton:ws=!1,slotProps:Ts={},slots:Is={}}=ss,Rs=_objectWithoutPropertiesLoose$1(ss,_excluded$1e),As=ss,ks=useUtilityClasses$15(As),Ms=(os=Ts==null?void 0:Ts.select)!=null?os:$s,Os=Ms.native?"option":TablePaginationMenuItem;let Ds;(ds===TableCell$1||ds==="td")&&(Ds=us||1e3);const Fs=useId(Ms.id),js=useId(Ms.labelId),Ps=()=>ps===-1?(ys+1)*Ss:Ss===-1?ps:Math.min(ps,(ys+1)*Ss);return jsxRuntimeExports.jsx(TablePaginationRoot,_extends$5({colSpan:Ds,ref:ns,as:ds,ownerState:As,className:clsx$1(ks.root,cs)},Rs,{children:jsxRuntimeExports.jsxs(TablePaginationToolbar,{className:ks.toolbar,children:[jsxRuntimeExports.jsx(TablePaginationSpacer,{className:ks.spacer}),Cs.length>1&&jsxRuntimeExports.jsx(TablePaginationSelectLabel,{className:ks.selectLabel,id:js,children:gs}),Cs.length>1&&jsxRuntimeExports.jsx(TablePaginationSelect,_extends$5({variant:"standard"},!Ms.variant&&{input:_InputBase||(_InputBase=jsxRuntimeExports.jsx(InputBase$1,{}))},{value:Ss,onChange:xs,id:Fs,labelId:js},Ms,{classes:_extends$5({},Ms.classes,{root:clsx$1(ks.input,ks.selectRoot,(Ms.classes||{}).root),select:clsx$1(ks.select,(Ms.classes||{}).select),icon:clsx$1(ks.selectIcon,(Ms.classes||{}).icon)}),disabled:fs,children:Cs.map(Ls=>reactExports.createElement(Os,_extends$5({},!isHostComponent(Os)&&{ownerState:As},{className:ks.menuItem,key:Ls.label?Ls.label:Ls,value:Ls.value?Ls.value:Ls}),Ls.label?Ls.label:Ls))})),jsxRuntimeExports.jsx(TablePaginationDisplayedRows,{className:ks.displayedRows,children:ms({from:ps===0?0:ys*Ss+1,to:Ps(),count:ps===-1?-1:ps,page:ys})}),jsxRuntimeExports.jsx(as,{className:ks.actions,backIconButtonProps:ls,count:ps,nextIconButtonProps:vs,onPageChange:bs,page:ys,rowsPerPage:Ss,showFirstButton:Es,showLastButton:ws,slotProps:Ts.actions,slots:Is.actions,getItemAriaLabel:hs,disabled:fs})]})}))}),TablePagination$1=TablePagination;function getTableRowUtilityClass(ts){return generateUtilityClass("MuiTableRow",ts)}const tableRowClasses=generateUtilityClasses("MuiTableRow",["root","selected","hover","head","footer"]),tableRowClasses$1=tableRowClasses,_excluded$1d=["className","component","hover","selected"],useUtilityClasses$14=ts=>{const{classes:rs,selected:ns,hover:os,head:ss,footer:as}=ts;return composeClasses({root:["root",ns&&"selected",os&&"hover",ss&&"head",as&&"footer"]},getTableRowUtilityClass,rs)},TableRowRoot=styled$4("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(ts,rs)=>{const{ownerState:ns}=ts;return[rs.root,ns.head&&rs.head,ns.footer&&rs.footer]}})(({theme:ts})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,["&.".concat(tableRowClasses$1.hover,":hover")]:{backgroundColor:(ts.vars||ts).palette.action.hover},["&.".concat(tableRowClasses$1.selected)]:{backgroundColor:ts.vars?"rgba(".concat(ts.vars.palette.primary.mainChannel," / ").concat(ts.vars.palette.action.selectedOpacity,")"):alpha_1(ts.palette.primary.main,ts.palette.action.selectedOpacity),"&:hover":{backgroundColor:ts.vars?"rgba(".concat(ts.vars.palette.primary.mainChannel," / calc(").concat(ts.vars.palette.action.selectedOpacity," + ").concat(ts.vars.palette.action.hoverOpacity,"))"):alpha_1(ts.palette.primary.main,ts.palette.action.selectedOpacity+ts.palette.action.hoverOpacity)}}})),defaultComponent="tr",TableRow=reactExports.forwardRef(function(rs,ns){const os=useDefaultProps({props:rs,name:"MuiTableRow"}),{className:ss,component:as=defaultComponent,hover:ls=!1,selected:cs=!1}=os,us=_objectWithoutPropertiesLoose$1(os,_excluded$1d),ds=reactExports.useContext(Tablelvl2Context$1),ps=_extends$5({},os,{component:as,hover:ls,selected:cs,head:ds&&ds.variant==="head",footer:ds&&ds.variant==="footer"}),fs=useUtilityClasses$14(ps);return jsxRuntimeExports.jsx(TableRowRoot,_extends$5({as,ref:ns,className:clsx$1(fs.root,ss),role:as===defaultComponent?null:"row",ownerState:ps},us))}),TableRow$1=TableRow;function getTextFieldUtilityClass(ts){return generateUtilityClass("MuiTextField",ts)}generateUtilityClasses("MuiTextField",["root"]);const _excluded$1c=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],variantComponent={standard:Input$2,filled:FilledInput$1,outlined:OutlinedInput$1},useUtilityClasses$13=ts=>{const{classes:rs}=ts;return composeClasses({root:["root"]},getTextFieldUtilityClass,rs)},TextFieldRoot=styled$4(FormControl$1,{name:"MuiTextField",slot:"Root",overridesResolver:(ts,rs)=>rs.root})({}),TextField=reactExports.forwardRef(function(rs,ns){const os=useDefaultProps({props:rs,name:"MuiTextField"}),{autoComplete:ss,autoFocus:as=!1,children:ls,className:cs,color:us="primary",defaultValue:ds,disabled:ps=!1,error:fs=!1,FormHelperTextProps:hs,fullWidth:ms=!1,helperText:gs,id:vs,InputLabelProps:bs,inputProps:xs,InputProps:ys,inputRef:Ss,label:Cs,maxRows:$s,minRows:Es,multiline:ws=!1,name:Ts,onBlur:Is,onChange:Rs,onFocus:As,placeholder:ks,required:Ms=!1,rows:Os,select:Ds=!1,SelectProps:Fs,type:js,value:Ps,variant:Ls="outlined"}=os,Ns=_objectWithoutPropertiesLoose$1(os,_excluded$1c),Gs=_extends$5({},os,{autoFocus:as,color:us,disabled:ps,error:fs,fullWidth:ms,multiline:ws,required:Ms,select:Ds,variant:Ls}),Us=useUtilityClasses$13(Gs),Hs={};Ls==="outlined"&&(bs&&typeof bs.shrink<"u"&&(Hs.notched=bs.shrink),Hs.label=Cs),Ds&&((!Fs||!Fs.native)&&(Hs.id=void 0),Hs["aria-describedby"]=void 0);const zs=useId(vs),qs=gs&&zs?"".concat(zs,"-helper-text"):void 0,Vs=Cs&&zs?"".concat(zs,"-label"):void 0,Ks=variantComponent[Ls],Ws=jsxRuntimeExports.jsx(Ks,_extends$5({"aria-describedby":qs,autoComplete:ss,autoFocus:as,defaultValue:ds,fullWidth:ms,multiline:ws,name:Ts,rows:Os,maxRows:$s,minRows:Es,type:js,value:Ps,id:zs,inputRef:Ss,onBlur:Is,onChange:Rs,onFocus:As,placeholder:ks,inputProps:xs},Hs,ys));return jsxRuntimeExports.jsxs(TextFieldRoot,_extends$5({className:clsx$1(Us.root,cs),disabled:ps,error:fs,fullWidth:ms,ref:ns,required:Ms,color:us,variant:Ls,ownerState:Gs},Ns,{children:[Cs!=null&&Cs!==""&&jsxRuntimeExports.jsx(InputLabel$1,_extends$5({htmlFor:zs,id:Vs},bs,{children:Cs})),Ds?jsxRuntimeExports.jsx(Select$2,_extends$5({"aria-describedby":qs,id:zs,labelId:Vs,value:Ps,input:Ws},Fs,{children:ls})):Ws,gs&&jsxRuntimeExports.jsx(FormHelperText$1,_extends$5({id:qs},hs,{children:gs}))]}))}),TextField$1=TextField,k$3=[];let i$2=0;for(;i$2<64;)k$3[i$2]=0|Math.sin(++i$2%Math.PI)*4294967296;function md5(ts){const rs=[];let ns,os,ss,as=unescape(encodeURI(ts))+"Â",ls=as.length;const cs=[ns=1732584193,os=4023233417,~ns,~os];for(ts=--ls/4+2|15,rs[--ts]=ls*8;~ls;)rs[ls>>2]|=as.charCodeAt(ls)<<8*ls--;for(i$2=as=0;i$2<ts;i$2+=16){for(ls=cs;as<64;ls=[ss=ls[3],ns+((ss=ls[0]+[ns&os|~ns&ss,ss&ns|~ss&os,ns^os^ss,os^(ns|~ss)][ls=as>>4]+k$3[as]+~~rs[i$2|[as,5*as+1,3*as+5,7*as][ls]&15])<<(ls=[7,12,17,22,5,9,14,20,4,11,16,23,6,10,15,21][4*ls+as++%4])|ss>>>-ls),ns,os])ns=ls[1]|0,os=ls[2];for(as=4;as;)cs[--as]+=ls[as]}for(ts="";as<32;)ts+=(cs[as>>3]>>(1^as++)*4&15).toString(16);return ts}const _keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",base64Decode=ts=>{let rs="",ns,os,ss,as,ls,cs,us,ds=0;for(ts=ts.replace(/[^A-Za-z0-9\+\/\=]/g,"");ds<ts.length;)as=_keyStr.indexOf(ts.charAt(ds++)),ls=_keyStr.indexOf(ts.charAt(ds++)),cs=_keyStr.indexOf(ts.charAt(ds++)),us=_keyStr.indexOf(ts.charAt(ds++)),ns=as<<2|ls>>4,os=(ls&15)<<4|cs>>2,ss=(cs&3)<<6|us,rs=rs+String.fromCharCode(ns),cs!=64&&(rs=rs+String.fromCharCode(os)),us!=64&&(rs=rs+String.fromCharCode(ss));return rs},LICENSE_SCOPES=["pro","premium"],LICENSING_MODELS=["perpetual","annual","subscription"];function showError(ts){console.error(["*************************************************************","",...ts,"","*************************************************************"].join("\n"))}function showInvalidLicenseKeyError(){showError(["MUI: Invalid license key.","","Your MUI X license key format isn't valid. It could be because the license key is missing a character or has a typo.","","To solve the issue, you need to double check that `setLicenseKey()` is called with the right argument","Please check the license key installation https://mui.com/r/x-license-key-installation."])}function showLicenseKeyPlanMismatchError(){showError(["MUI: License key plan mismatch.","","Your use of MUI X is not compatible with the plan of your license key. The feature you are trying to use is not included in the plan of your license key. This happens if you try to use `DataGridPremium` with a license key for the Pro plan.","","To solve the issue, you can upgrade your plan from Pro to Premium at https://mui.com/r/x-get-license?scope=premium.","Of if you didn't intend to use Premium features, you can replace the import of `@mui/x-data-grid-premium` with `@mui/x-data-grid-pro`."])}function showMissingLicenseKeyError({plan:ts,packageName:rs}){showError(["MUI: Missing license key.","","The license key is missing. You might not be allowed to use `".concat(rs,"` which is part of MUI X ").concat(ts,"."),"","To solve the issue, you can check the free trial conditions: https://mui.com/r/x-license-trial.","If you are eligible no actions are required. If you are not eligible to the free trial, you need to purchase a license https://mui.com/r/x-get-license or stop using the software immediately."])}function showExpiredPackageVersionError({packageName:ts}){showError(["MUI: Expired package version.","","You have installed a version of `".concat(ts,"` that is outside of the maintenance plan of your license key. By default, commercial licenses provide access to new versions released during the first year after the purchase."),"","To solve the issue, you can renew your license https://mui.com/r/x-get-license or install an older version of the npm package that is compatible with your license key."])}function showExpiredAnnualGraceLicenseKeyError({plan:ts,licenseKey:rs,expiryTimestamp:ns}){showError(["MUI: Expired license key.","","Your annual license key to use MUI X ".concat(ts,"'s on non-production environments is expired. If you are seeing this development console message, you might be close to breach the license terms by making direct or indirect changes to the frontend of an app that render a MUI X ").concat(ts," component (more details in https://mui.com/r/x-license-annual)."),"","To solve the problem you can either:","","- Renew your license https://mui.com/r/x-get-license and use the new key","- Stop making changes to code depending directly or indirectly on MUI X ".concat(ts,"'s APIs"),"","Note that your license is perpetual in production environments with any version released before your license term ends.","","- License key expiry timestamp: ".concat(new Date(ns)),"- Installed license key: ".concat(rs),""])}function showExpiredAnnualLicenseKeyError({plan:ts,licenseKey:rs,expiryTimestamp:ns}){throw new Error(["MUI: Expired license key.","","Your annual license key to use MUI X ".concat(ts,"'s on non-production environments is expired. If you are seeing this development console message, you might be close to breach the license terms by making direct or indirect changes to the frontend of an app that render a MUI X ").concat(ts," component (more details in https://mui.com/r/x-license-annual)."),"","To solve the problem you can either:","","- Renew your license https://mui.com/r/x-get-license and use the new key","- Stop making changes to code depending directly or indirectly on MUI X ".concat(ts,"'s APIs"),"","Note that your license is perpetual in production environments with any version released before your license term ends.","","- License key expiry timestamp: ".concat(new Date(ns)),"- Installed license key: ".concat(rs),""].join("\n"))}ponyfillGlobal.__MUI_LICENSE_INFO__=ponyfillGlobal.__MUI_LICENSE_INFO__||{key:void 0};class LicenseInfo{static getLicenseInfo(){return ponyfillGlobal.__MUI_LICENSE_INFO__}static getLicenseKey(){return LicenseInfo.getLicenseInfo().key}static setLicenseKey(rs){const ns=LicenseInfo.getLicenseInfo();ns.key=rs}}let LICENSE_STATUS=function(ts){return ts.NotFound="NotFound",ts.Invalid="Invalid",ts.ExpiredAnnual="ExpiredAnnual",ts.ExpiredAnnualGrace="ExpiredAnnualGrace",ts.ExpiredVersion="ExpiredVersion",ts.Valid="Valid",ts.OutOfScope="OutOfScope",ts}({});const expiryReg=/^.*EXPIRY=([0-9]+),.*$/,decodeLicenseVersion1=ts=>{let rs;try{rs=parseInt(ts.match(expiryReg)[1],10),(!rs||Number.isNaN(rs))&&(rs=null)}catch{rs=null}return{scope:"pro",licensingModel:"perpetual",expiryTimestamp:rs}},decodeLicenseVersion2=ts=>{const rs={scope:null,licensingModel:null,expiryTimestamp:null};return ts.split(",").map(ns=>ns.split("=")).filter(ns=>ns.length===2).forEach(([ns,os])=>{if(ns==="S"&&(rs.scope=os),ns==="LM"&&(rs.licensingModel=os),ns==="E"){const ss=parseInt(os,10);ss&&!Number.isNaN(ss)&&(rs.expiryTimestamp=ss)}}),rs},decodeLicense=ts=>{const rs=base64Decode(ts);return rs.includes("KEYVERSION=1")?decodeLicenseVersion1(rs):rs.includes("KV=2")?decodeLicenseVersion2(rs):null};function verifyLicense({releaseInfo:ts,licenseKey:rs,acceptedScopes:ns}){if(!ts)throw new Error("MUI: The release information is missing. Not able to validate license.");if(!rs)return{status:LICENSE_STATUS.NotFound};const os=rs.substr(0,32),ss=rs.substr(32);if(os!==md5(ss))return{status:LICENSE_STATUS.Invalid};const as=decodeLicense(ss);if(as==null)return console.error("Error checking license. Key version not found!"),{status:LICENSE_STATUS.Invalid};if(as.licensingModel==null||!LICENSING_MODELS.includes(as.licensingModel))return console.error("Error checking license. Licensing model not found or invalid!"),{status:LICENSE_STATUS.Invalid};if(as.expiryTimestamp==null)return console.error("Error checking license. Expiry timestamp not found or invalid!"),{status:LICENSE_STATUS.Invalid};as.licensingModel;{const ls=parseInt(base64Decode(ts),10);if(Number.isNaN(ls))throw new Error("MUI: The release information is invalid. Not able to validate license.");if(as.expiryTimestamp<ls)return{status:LICENSE_STATUS.ExpiredVersion}}return as.scope==null||!LICENSE_SCOPES.includes(as.scope)?(console.error("Error checking license. scope not found or invalid!"),{status:LICENSE_STATUS.Invalid}):ns.includes(as.scope)?{status:LICENSE_STATUS.Valid}:{status:LICENSE_STATUS.OutOfScope}}const LicenseInfoContext=reactExports.createContext({key:void 0}),sharedLicenseStatuses={};function useLicenseVerifier(ts,rs){const{key:ns}=reactExports.useContext(LicenseInfoContext);return reactExports.useMemo(()=>{const os=ns!=null?ns:LicenseInfo.getLicenseKey();if(sharedLicenseStatuses[ts]&&sharedLicenseStatuses[ts].key===os)return sharedLicenseStatuses[ts].licenseVerifier;const ss=ts.includes("premium")?["premium"]:["pro","premium"],as=ts.includes("premium")?"Premium":"Pro",ls=verifyLicense({releaseInfo:rs,licenseKey:os,acceptedScopes:ss});sharedLicenseStatuses[ts]={key:os,licenseVerifier:ls};const cs="@mui/".concat(ts);return ls.status===LICENSE_STATUS.Valid||(ls.status===LICENSE_STATUS.Invalid?showInvalidLicenseKeyError():ls.status===LICENSE_STATUS.OutOfScope?showLicenseKeyPlanMismatchError():ls.status===LICENSE_STATUS.NotFound?showMissingLicenseKeyError({plan:as,packageName:cs}):ls.status===LICENSE_STATUS.ExpiredAnnualGrace?showExpiredAnnualGraceLicenseKeyError(_extends$5({plan:as},ls.meta)):ls.status===LICENSE_STATUS.ExpiredAnnual?showExpiredAnnualLicenseKeyError(_extends$5({plan:as},ls.meta)):ls.status===LICENSE_STATUS.ExpiredVersion&&showExpiredPackageVersionError({packageName:cs})),ls},[ts,rs,ns])}function getLicenseErrorMessage(ts){switch(ts){case LICENSE_STATUS.ExpiredAnnualGrace:case LICENSE_STATUS.ExpiredAnnual:return"MUI X Expired license key";case LICENSE_STATUS.ExpiredVersion:return"MUI X Expired package version";case LICENSE_STATUS.Invalid:return"MUI X Invalid license key";case LICENSE_STATUS.OutOfScope:return"MUI X License key plan mismatch";case LICENSE_STATUS.NotFound:return"MUI X Missing license key";default:throw new Error("MUI: Unhandled MUI X license status.")}}function Watermark(ts){const{packageName:rs,releaseInfo:ns}=ts,os=useLicenseVerifier(rs,ns);return os.status===LICENSE_STATUS.Valid?null:jsxRuntimeExports.jsx("div",{style:{position:"absolute",pointerEvents:"none",color:"#8282829e",zIndex:1e5,width:"100%",textAlign:"center",bottom:"50%",right:0,letterSpacing:5,fontSize:24},children:getLicenseErrorMessage(os.status)})}const GridPrivateApiContext=reactExports.createContext(void 0);function useGridPrivateApiContext$1(){const ts=reactExports.useContext(GridPrivateApiContext);if(ts===void 0)throw new Error(["MUI: Could not find the data grid private context.","It looks like you rendered your component outside of a DataGrid, DataGridPro or DataGridPremium parent component.","This can also happen if you are bundling multiple versions of the data grid."].join("\n"));return ts}const UNINITIALIZED={};function useLazyRef(ts,rs){const ns=reactExports.useRef(UNINITIALIZED);return ns.current===UNINITIALIZED&&(ns.current=ts(rs)),ns}const EMPTY=[];function useOnMount(ts){reactExports.useEffect(ts,EMPTY)}const buildWarning=(ts,rs="warning")=>{let ns=!1;const os=Array.isArray(ts)?ts.join("\n"):ts;return()=>{ns||(ns=!0,rs==="error"?console.error(os):console.warn(os))}},is=Object.is;function fastObjectShallowCompare(ts,rs){if(ts===rs)return!0;if(!(ts instanceof Object)||!(rs instanceof Object))return!1;let ns=0,os=0;for(const ss in ts)if(ns+=1,!is(ts[ss],rs[ss])||!(ss in rs))return!1;for(const ss in rs)os+=1;return ns===os}buildWarning(["MUI: `useGridSelector` has been called before the initialization of the state.","This hook can only be used inside the context of the grid."]);function isOutputSelector(ts){return ts.acceptsApiRef}function applySelector(ts,rs){return isOutputSelector(rs)?rs(ts):rs(ts.current.state)}const defaultCompare=Object.is,objectShallowCompare=fastObjectShallowCompare,createRefs=()=>({state:null,equals:null,selector:null}),useGridSelector=(ts,rs,ns=defaultCompare)=>{const os=useLazyRef(createRefs),ss=os.current.selector!==null,[as,ls]=reactExports.useState(ss?null:applySelector(ts,rs));return os.current.state=as,os.current.equals=ns,os.current.selector=rs,useOnMount(()=>ts.current.store.subscribe(()=>{const cs=applySelector(ts,os.current.selector);os.current.equals(os.current.state,cs)||(os.current.state=cs,ls(cs))})),as};function getDataGridUtilityClass(ts){return generateUtilityClass("MuiDataGrid",ts)}const gridClasses=generateUtilityClasses("MuiDataGrid",["actionsCell","aggregationColumnHeader","aggregationColumnHeader--alignLeft","aggregationColumnHeader--alignCenter","aggregationColumnHeader--alignRight","aggregationColumnHeaderLabel","autoHeight","autosizing","booleanCell","cell--editable","cell--editing","cell--textCenter","cell--textLeft","cell--textRight","cell--withRenderer","cell--rangeTop","cell--rangeBottom","cell--rangeLeft","cell--rangeRight","cell--selectionMode","cell","cellContent","cellCheckbox","cellSkeleton","checkboxInput","columnHeader--alignCenter","columnHeader--alignLeft","columnHeader--alignRight","columnHeader--dragging","columnHeader--moving","columnHeader--numeric","columnHeader--sortable","columnHeader--sorted","columnHeader--filtered","columnHeader","columnHeaderCheckbox","columnHeaderDraggableContainer","columnHeaderDropZone","columnHeaderTitle","columnHeaderTitleContainer","columnHeaderTitleContainerContent","columnGroupHeader","columnHeader--filledGroup","columnHeader--emptyGroup","columnHeader--showColumnBorder","columnHeaders","columnHeadersInner","columnHeadersInner--scrollable","columnSeparator--resizable","columnSeparator--resizing","columnSeparator--sideLeft","columnSeparator--sideRight","columnSeparator","columnsPanel","columnsPanelRow","detailPanel","detailPanels","detailPanelToggleCell","detailPanelToggleCell--expanded","footerCell","panel","panelHeader","panelWrapper","panelContent","panelFooter","paper","editBooleanCell","editInputCell","filterForm","filterFormDeleteIcon","filterFormLogicOperatorInput","filterFormColumnInput","filterFormOperatorInput","filterFormValueInput","filterIcon","footerContainer","headerFilterRow","iconButtonContainer","iconSeparator","main","menu","menuIcon","menuIconButton","menuOpen","menuList","overlay","overlayWrapper","overlayWrapperInner","root","root--densityStandard","root--densityComfortable","root--densityCompact","root--disableUserSelection","row","row--editable","row--editing","row--lastVisible","row--dragging","row--dynamicHeight","row--detailPanelExpanded","rowReorderCellPlaceholder","rowCount","rowReorderCellContainer","rowReorderCell","rowReorderCell--draggable","scrollArea--left","scrollArea--right","scrollArea","selectedRowCount","sortIcon","toolbarContainer","toolbarFilterList","virtualScroller","virtualScrollerContent","virtualScrollerContent--overflowed","virtualScrollerRenderZone","pinnedColumns","pinnedColumns--left","pinnedColumns--right","pinnedColumnHeaders","pinnedColumnHeaders--left","pinnedColumnHeaders--right","withBorderColor","cell--withRightBorder","columnHeader--withRightBorder","treeDataGroupingCell","treeDataGroupingCellToggle","groupingCriteriaCell","groupingCriteriaCellToggle","pinnedRows","pinnedRows--top","pinnedRows--bottom","pinnedRowsRenderZone"]),GridRootPropsContext=reactExports.createContext(void 0),useGridRootProps$1=()=>{const ts=reactExports.useContext(GridRootPropsContext);if(!ts)throw new Error("MUI: useGridRootProps should only be used inside the DataGrid, DataGridPro or DataGridPremium component.");return ts};var NOT_FOUND="NOT_FOUND";function createSingletonCache(ts){var rs;return{get:function(os){return rs&&ts(rs.key,os)?rs.value:NOT_FOUND},put:function(os,ss){rs={key:os,value:ss}},getEntries:function(){return rs?[rs]:[]},clear:function(){rs=void 0}}}function createLruCache(ts,rs){var ns=[];function os(cs){var us=ns.findIndex(function(ps){return rs(cs,ps.key)});if(us>-1){var ds=ns[us];return us>0&&(ns.splice(us,1),ns.unshift(ds)),ds.value}return NOT_FOUND}function ss(cs,us){os(cs)===NOT_FOUND&&(ns.unshift({key:cs,value:us}),ns.length>ts&&ns.pop())}function as(){return ns}function ls(){ns=[]}return{get:os,put:ss,getEntries:as,clear:ls}}var defaultEqualityCheck=function(rs,ns){return rs===ns};function createCacheKeyComparator(ts){return function(ns,os){if(ns===null||os===null||ns.length!==os.length)return!1;for(var ss=ns.length,as=0;as<ss;as++)if(!ts(ns[as],os[as]))return!1;return!0}}function defaultMemoize(ts,rs){var ns=typeof rs=="object"?rs:{equalityCheck:rs},os=ns.equalityCheck,ss=os===void 0?defaultEqualityCheck:os,as=ns.maxSize,ls=as===void 0?1:as,cs=ns.resultEqualityCheck,us=createCacheKeyComparator(ss),ds=ls===1?createSingletonCache(us):createLruCache(ls,us);function ps(){var fs=ds.get(arguments);if(fs===NOT_FOUND){if(fs=ts.apply(null,arguments),cs){var hs=ds.getEntries(),ms=hs.find(function(gs){return cs(gs.value,fs)});ms&&(fs=ms.value)}ds.put(arguments,fs)}return fs}return ps.clearCache=function(){return ds.clear()},ps}function getDependencies(ts){var rs=Array.isArray(ts[0])?ts[0]:ts;if(!rs.every(function(os){return typeof os=="function"})){var ns=rs.map(function(os){return typeof os=="function"?"function "+(os.name||"unnamed")+"()":typeof os}).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+ns+"]")}return rs}function createSelectorCreator(ts){for(var rs=arguments.length,ns=new Array(rs>1?rs-1:0),os=1;os<rs;os++)ns[os-1]=arguments[os];var ss=function(){for(var ls=arguments.length,cs=new Array(ls),us=0;us<ls;us++)cs[us]=arguments[us];var ds=0,ps,fs={memoizeOptions:void 0},hs=cs.pop();if(typeof hs=="object"&&(fs=hs,hs=cs.pop()),typeof hs!="function")throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof hs+"]");var ms=fs,gs=ms.memoizeOptions,vs=gs===void 0?ns:gs,bs=Array.isArray(vs)?vs:[vs],xs=getDependencies(cs),ys=ts.apply(void 0,[function(){return ds++,hs.apply(null,arguments)}].concat(bs)),Ss=ts(function(){for(var $s=[],Es=xs.length,ws=0;ws<Es;ws++)$s.push(xs[ws].apply(null,arguments));return ps=ys.apply(null,$s),ps});return Object.assign(Ss,{resultFunc:hs,memoizedResultFunc:ys,dependencies:xs,lastResult:function(){return ps},recomputations:function(){return ds},resetRecomputations:function(){return ds=0}}),Ss};return ss}var createSelector$1=createSelectorCreator(defaultMemoize);const cacheContainer={cache:new WeakMap};buildWarning(["MUI: A selector was called without passing the instance ID, which may impact the performance of the grid.","To fix, call it with `apiRef`, e.g. `mySelector(apiRef)`, or pass the instance ID explicitly, e.g. `mySelector(state, apiRef.current.instanceId)`."]);function checkIsAPIRef(ts){return"current"in ts&&"instanceId"in ts.current}const DEFAULT_INSTANCE_ID={id:"default"},createSelector=(ts,rs,ns,os,ss,as,...ls)=>{if(ls.length>0)throw new Error("Unsupported number of selectors");let cs;if(ts&&rs&&ns&&os&&ss&&as)cs=(us,ds)=>{const ps=checkIsAPIRef(us),fs=ds!=null?ds:ps?us.current.instanceId:DEFAULT_INSTANCE_ID,hs=ps?us.current.state:us,ms=ts(hs,fs),gs=rs(hs,fs),vs=ns(hs,fs),bs=os(hs,fs),xs=ss(hs,fs);return as(ms,gs,vs,bs,xs)};else if(ts&&rs&&ns&&os&&ss)cs=(us,ds)=>{const ps=checkIsAPIRef(us),fs=ds!=null?ds:ps?us.current.instanceId:DEFAULT_INSTANCE_ID,hs=ps?us.current.state:us,ms=ts(hs,fs),gs=rs(hs,fs),vs=ns(hs,fs),bs=os(hs,fs);return ss(ms,gs,vs,bs)};else if(ts&&rs&&ns&&os)cs=(us,ds)=>{const ps=checkIsAPIRef(us),fs=ds!=null?ds:ps?us.current.instanceId:DEFAULT_INSTANCE_ID,hs=ps?us.current.state:us,ms=ts(hs,fs),gs=rs(hs,fs),vs=ns(hs,fs);return os(ms,gs,vs)};else if(ts&&rs&&ns)cs=(us,ds)=>{const ps=checkIsAPIRef(us),fs=ds!=null?ds:ps?us.current.instanceId:DEFAULT_INSTANCE_ID,hs=ps?us.current.state:us,ms=ts(hs,fs),gs=rs(hs,fs);return ns(ms,gs)};else if(ts&&rs)cs=(us,ds)=>{const ps=checkIsAPIRef(us),fs=ds!=null?ds:ps?us.current.instanceId:DEFAULT_INSTANCE_ID,hs=ps?us.current.state:us,ms=ts(hs,fs);return rs(ms)};else throw new Error("Missing arguments");return cs.acceptsApiRef=!0,cs},createSelectorMemoized=(...ts)=>{const rs=(...ns)=>{var os,ss;const[as,ls]=ns,cs=checkIsAPIRef(as),us=cs?as.current.instanceId:ls!=null?ls:DEFAULT_INSTANCE_ID,ds=cs?as.current.state:as,{cache:ps}=cacheContainer;if(ps.get(us)&&(os=ps.get(us))!=null&&os.get(ts)){var fs;return(fs=ps.get(us))==null?void 0:fs.get(ts)(ds,us)}const hs=createSelector$1(...ts);return ps.get(us)||ps.set(us,new Map),(ss=ps.get(us))==null||ss.set(ts,hs),hs(ds,us)};return rs.acceptsApiRef=!0,rs},gridColumnsStateSelector=ts=>ts.columns,gridColumnFieldsSelector=createSelector(gridColumnsStateSelector,ts=>ts.orderedFields),gridColumnLookupSelector=createSelector(gridColumnsStateSelector,ts=>ts.lookup),gridColumnDefinitionsSelector=createSelectorMemoized(gridColumnFieldsSelector,gridColumnLookupSelector,(ts,rs)=>ts.map(ns=>rs[ns])),gridColumnVisibilityModelSelector=createSelector(gridColumnsStateSelector,ts=>ts.columnVisibilityModel),gridVisibleColumnDefinitionsSelector=createSelectorMemoized(gridColumnDefinitionsSelector,gridColumnVisibilityModelSelector,(ts,rs)=>ts.filter(ns=>rs[ns.field]!==!1)),gridVisibleColumnFieldsSelector=createSelectorMemoized(gridVisibleColumnDefinitionsSelector,ts=>ts.map(rs=>rs.field)),gridColumnPositionsSelector=createSelectorMemoized(gridVisibleColumnDefinitionsSelector,ts=>{const rs=[];let ns=0;for(let os=0;os<ts.length;os+=1)rs.push(ns),ns+=ts[os].computedWidth;return rs}),gridColumnsTotalWidthSelector=createSelector(gridVisibleColumnDefinitionsSelector,gridColumnPositionsSelector,(ts,rs)=>{const ns=ts.length;return ns===0?0:rs[ns-1]+ts[ns-1].computedWidth}),gridFilterableColumnDefinitionsSelector=createSelectorMemoized(gridColumnDefinitionsSelector,ts=>ts.filter(rs=>rs.filterable)),gridFilterableColumnLookupSelector=createSelectorMemoized(gridColumnDefinitionsSelector,ts=>ts.reduce((rs,ns)=>(ns.filterable&&(rs[ns.field]=ns),rs),{})),gridColumnGroupingSelector=ts=>ts.columnGrouping,gridColumnGroupsUnwrappedModelSelector=createSelectorMemoized(gridColumnGroupingSelector,ts=>{var rs;return(rs=ts==null?void 0:ts.unwrappedGroupingModel)!=null?rs:{}}),gridColumnGroupsLookupSelector=createSelectorMemoized(gridColumnGroupingSelector,ts=>{var rs;return(rs=ts==null?void 0:ts.lookup)!=null?rs:{}}),gridColumnGroupsHeaderStructureSelector=createSelectorMemoized(gridColumnGroupingSelector,ts=>{var rs;return(rs=ts==null?void 0:ts.headerStructure)!=null?rs:[]}),gridColumnGroupsHeaderMaxDepthSelector=createSelector(gridColumnGroupingSelector,ts=>{var rs;return(rs=ts==null?void 0:ts.maxDepth)!=null?rs:0}),gridRowsStateSelector=ts=>ts.rows,gridRowCountSelector=createSelector(gridRowsStateSelector,ts=>ts.totalRowCount),gridRowsLoadingSelector=createSelector(gridRowsStateSelector,ts=>ts.loading),gridTopLevelRowCountSelector=createSelector(gridRowsStateSelector,ts=>ts.totalTopLevelRowCount),gridRowsLookupSelector=createSelector(gridRowsStateSelector,ts=>ts.dataRowIdToModelLookup),gridRowsDataRowIdToIdLookupSelector=createSelector(gridRowsStateSelector,ts=>ts.dataRowIdToIdLookup),gridRowTreeSelector=createSelector(gridRowsStateSelector,ts=>ts.tree),gridRowGroupingNameSelector=createSelector(gridRowsStateSelector,ts=>ts.groupingName),gridRowTreeDepthsSelector=createSelector(gridRowsStateSelector,ts=>ts.treeDepths),gridRowMaximumTreeDepthSelector=createSelectorMemoized(gridRowsStateSelector,ts=>{const rs=Object.entries(ts.treeDepths);return rs.length===0?1:rs.filter(([,ns])=>ns>0).map(([ns])=>Number(ns)).sort((ns,os)=>os-ns)[0]+1}),gridDataRowIdsSelector=createSelector(gridRowsStateSelector,ts=>ts.dataRowIds),gridAdditionalRowGroupsSelector=createSelector(gridRowsStateSelector,ts=>ts==null?void 0:ts.additionalRowGroups),gridPinnedRowsSelector=createSelectorMemoized(gridAdditionalRowGroupsSelector,ts=>{var rs,ns;const os=ts==null?void 0:ts.pinnedRows;return{bottom:os==null||(rs=os.bottom)==null?void 0:rs.map(ss=>{var as;return{id:ss.id,model:(as=ss.model)!=null?as:{}}}),top:os==null||(ns=os.top)==null?void 0:ns.map(ss=>{var as;return{id:ss.id,model:(as=ss.model)!=null?as:{}}})}}),gridPinnedRowsCountSelector=createSelector(gridPinnedRowsSelector,ts=>{var rs,ns;return((ts==null||(rs=ts.top)==null?void 0:rs.length)||0)+((ts==null||(ns=ts.bottom)==null?void 0:ns.length)||0)}),useGridAriaAttributes=()=>{var ts;const rs=useGridPrivateApiContext$1(),ns=useGridRootProps$1(),os=useGridSelector(rs,gridVisibleColumnDefinitionsSelector),ss=useGridSelector(rs,gridRowCountSelector),as=useGridSelector(rs,gridColumnGroupsHeaderMaxDepthSelector),ls=useGridSelector(rs,gridPinnedRowsCountSelector);let cs="grid";return(ts=ns.experimentalFeatures)!=null&&ts.ariaV7&&ns.treeData&&(cs="treegrid"),{role:cs,"aria-colcount":os.length,"aria-rowcount":as+1+ls+ss,"aria-multiselectable":!ns.disableMultipleRowSelection}},useUtilityClasses$12=ts=>{const{classes:rs}=ts;return composeClasses({root:["main"]},getDataGridUtilityClass,rs)},GridMainContainerRoot=styled$2("div",{name:"MuiDataGrid",slot:"Main",overridesResolver:(ts,rs)=>rs.main})(()=>({position:"relative",flexGrow:1,display:"flex",flexDirection:"column",overflow:"hidden"})),GridMainContainer=reactExports.forwardRef((ts,rs)=>{var ns;const os=useGridRootProps$1(),ss=useUtilityClasses$12(os),as=(ns=os.experimentalFeatures)!=null&&ns.ariaV7?useGridAriaAttributes:null,ls=typeof as=="function"?as():null;return jsxRuntimeExports.jsx(GridMainContainerRoot,_extends$5({ref:rs,className:ss.root,ownerState:os},ls,{children:ts.children}))}),gridSortingStateSelector=ts=>ts.sorting,gridSortedRowIdsSelector=createSelector(gridSortingStateSelector,ts=>ts.sortedRows),gridSortedRowEntriesSelector=createSelectorMemoized(gridSortedRowIdsSelector,gridRowsLookupSelector,(ts,rs)=>ts.map(ns=>{var os;return{id:ns,model:(os=rs[ns])!=null?os:{}}})),gridSortModelSelector=createSelector(gridSortingStateSelector,ts=>ts.sortModel),gridSortColumnLookupSelector=createSelectorMemoized(gridSortModelSelector,ts=>ts.reduce((ns,os,ss)=>(ns[os.field]={sortDirection:os.sort,sortIndex:ts.length>1?ss+1:void 0},ns),{})),gridFilterStateSelector=ts=>ts.filter,gridFilterModelSelector=createSelector(gridFilterStateSelector,ts=>ts.filterModel);createSelector(gridFilterModelSelector,ts=>ts.quickFilterValues);const gridVisibleRowsLookupSelector=ts=>ts.visibleRowsLookup,gridFilteredRowsLookupSelector=createSelector(gridFilterStateSelector,ts=>ts.filteredRowsLookup),gridFilteredDescendantCountLookupSelector=createSelector(gridFilterStateSelector,ts=>ts.filteredDescendantCountLookup),gridExpandedSortedRowEntriesSelector=createSelectorMemoized(gridVisibleRowsLookupSelector,gridSortedRowEntriesSelector,(ts,rs)=>rs.filter(ns=>ts[ns.id]!==!1)),gridExpandedSortedRowIdsSelector=createSelectorMemoized(gridExpandedSortedRowEntriesSelector,ts=>ts.map(rs=>rs.id)),gridFilteredSortedRowEntriesSelector=createSelectorMemoized(gridFilteredRowsLookupSelector,gridSortedRowEntriesSelector,(ts,rs)=>rs.filter(ns=>ts[ns.id]!==!1)),gridFilteredSortedRowIdsSelector=createSelectorMemoized(gridFilteredSortedRowEntriesSelector,ts=>ts.map(rs=>rs.id)),gridFilteredSortedTopLevelRowEntriesSelector=createSelectorMemoized(gridExpandedSortedRowEntriesSelector,gridRowTreeSelector,gridRowMaximumTreeDepthSelector,(ts,rs,ns)=>ns<2?ts:ts.filter(os=>{var ss;return((ss=rs[os.id])==null?void 0:ss.depth)===0})),gridExpandedRowCountSelector=createSelector(gridExpandedSortedRowEntriesSelector,ts=>ts.length),gridFilteredTopLevelRowCountSelector=createSelector(gridFilteredSortedTopLevelRowEntriesSelector,ts=>ts.length),gridFilterActiveItemsSelector=createSelectorMemoized(gridFilterModelSelector,gridColumnLookupSelector,(ts,rs)=>{var ns;return(ns=ts.items)==null?void 0:ns.filter(os=>{var ss,as;if(!os.field)return!1;const ls=rs[os.field];if(!(ls!=null&&ls.filterOperators)||(ls==null||(ss=ls.filterOperators)==null?void 0:ss.length)===0)return!1;const cs=ls.filterOperators.find(us=>us.value===os.operator);return cs?!cs.InputComponent||os.value!=null&&((as=os.value)==null?void 0:as.toString())!=="":!1})}),gridFilterActiveItemsLookupSelector=createSelectorMemoized(gridFilterActiveItemsSelector,ts=>ts.reduce((ns,os)=>(ns[os.field]?ns[os.field].push(os):ns[os.field]=[os],ns),{})),gridFocusStateSelector=ts=>ts.focus,gridFocusCellSelector=createSelector(gridFocusStateSelector,ts=>ts.cell),gridFocusColumnHeaderSelector=createSelector(gridFocusStateSelector,ts=>ts.columnHeader),unstable_gridFocusColumnHeaderFilterSelector=createSelector(gridFocusStateSelector,ts=>ts.columnHeaderFilter),unstable_gridFocusColumnGroupHeaderSelector=createSelector(gridFocusStateSelector,ts=>ts.columnGroupHeader),gridTabIndexStateSelector=ts=>ts.tabIndex,gridTabIndexCellSelector=createSelector(gridTabIndexStateSelector,ts=>ts.cell),gridTabIndexColumnHeaderSelector=createSelector(gridTabIndexStateSelector,ts=>ts.columnHeader),unstable_gridTabIndexColumnHeaderFilterSelector=createSelector(gridTabIndexStateSelector,ts=>ts.columnHeaderFilter),unstable_gridTabIndexColumnGroupHeaderSelector=createSelector(gridTabIndexStateSelector,ts=>ts.columnGroupHeader),gridDensitySelector=ts=>ts.density,gridDensityValueSelector=createSelector(gridDensitySelector,ts=>ts.value),gridDensityFactorSelector=createSelector(gridDensitySelector,ts=>ts.factor),gridColumnMenuSelector=ts=>ts.columnMenu;function GridBody(ts){const{VirtualScrollerComponent:rs,ColumnHeadersProps:ns,children:os}=ts,ss=useGridPrivateApiContext$1(),as=useGridRootProps$1(),ls=reactExports.useRef(null),cs=useGridSelector(ss,gridVisibleColumnDefinitionsSelector),us=useGridSelector(ss,gridFilterActiveItemsLookupSelector),ds=useGridSelector(ss,gridSortColumnLookupSelector),ps=useGridSelector(ss,gridColumnPositionsSelector),fs=useGridSelector(ss,gridTabIndexColumnHeaderSelector),hs=useGridSelector(ss,gridTabIndexCellSelector),ms=useGridSelector(ss,unstable_gridTabIndexColumnGroupHeaderSelector),gs=useGridSelector(ss,gridFocusColumnHeaderSelector),vs=useGridSelector(ss,unstable_gridFocusColumnGroupHeaderSelector),bs=useGridSelector(ss,gridDensityFactorSelector),xs=useGridSelector(ss,gridColumnGroupsHeaderMaxDepthSelector),ys=useGridSelector(ss,gridColumnMenuSelector),Ss=useGridSelector(ss,gridColumnVisibilityModelSelector),Cs=useGridSelector(ss,gridColumnGroupsHeaderStructureSelector),$s=!(ms===null&&fs===null&&hs===null);useEnhancedEffect$1(()=>{ss.current.computeSizeAndPublishResizeEvent();const Rs=ls.current;if(typeof ResizeObserver>"u")return()=>{};let As;const ks=new ResizeObserver(()=>{As=requestAnimationFrame(()=>{ss.current.computeSizeAndPublishResizeEvent()})});return Rs&&ks.observe(Rs),()=>{As&&window.cancelAnimationFrame(As),Rs&&ks.unobserve(Rs)}},[ss]);const Es=reactExports.useRef(null),ws=reactExports.useRef(null),Ts=reactExports.useRef(null);ss.current.register("private",{columnHeadersContainerElementRef:ws,columnHeadersElementRef:Es,virtualScrollerRef:Ts,mainElementRef:ls});const Is=!!ss.current.getRootDimensions();return jsxRuntimeExports.jsxs(GridMainContainer,{ref:ls,children:[jsxRuntimeExports.jsx(as.slots.columnHeaders,_extends$5({ref:ws,innerRef:Es,visibleColumns:cs,filterColumnLookup:us,sortColumnLookup:ds,columnPositions:ps,columnHeaderTabIndexState:fs,columnGroupHeaderTabIndexState:ms,columnHeaderFocus:gs,columnGroupHeaderFocus:vs,densityFactor:bs,headerGroupingMaxDepth:xs,columnMenuState:ys,columnVisibility:Ss,columnGroupsHeaderStructure:Cs,hasOtherElementInTabSequence:$s},ns)),Is&&jsxRuntimeExports.jsx(rs,{ref:Ts}),os]})}function GridFooterPlaceholder(){var ts;const rs=useGridRootProps$1();return rs.hideFooter?null:jsxRuntimeExports.jsx(rs.slots.footer,_extends$5({},(ts=rs.slotProps)==null?void 0:ts.footer))}const GridApiContext=reactExports.createContext(void 0);function useGridApiContext$1(){const ts=reactExports.useContext(GridApiContext);if(ts===void 0)throw new Error(["MUI: Could not find the data grid context.","It looks like you rendered your component outside of a DataGrid, DataGridPro or DataGridPremium parent component.","This can also happen if you are bundling multiple versions of the data grid."].join("\n"));return ts}const GRID_ROOT_GROUP_ID="auto-generated-group-node-root",GRID_ID_AUTOGENERATED=Symbol("mui.id_autogenerated"),buildRootGroup=()=>({type:"group",id:GRID_ROOT_GROUP_ID,depth:-1,groupingField:null,groupingKey:null,isAutoGenerated:!0,children:[],childrenFromPath:{},childrenExpanded:!0,parent:null});function checkGridRowIdIsValid(ts,rs,ns="A row was provided without id in the rows prop:"){if(ts==null)throw new Error(["MUI: The data grid component requires all rows to have a unique `id` property.","Alternatively, you can use the `getRowId` prop to specify a custom id for each row.",ns,JSON.stringify(rs)].join("\n"))}const getRowIdFromRowModel=(ts,rs,ns)=>{const os=rs?rs(ts):ts.id;return checkGridRowIdIsValid(os,ts,ns),os},createRowsInternalCache=({rows:ts,getRowId:rs,loading:ns,rowCount:os})=>{const ss={type:"full",rows:[]},as={},ls={};for(let cs=0;cs<ts.length;cs+=1){const us=ts[cs],ds=getRowIdFromRowModel(us,rs);as[ds]=us,ls[ds]=ds,ss.rows.push(ds)}return{rowsBeforePartialUpdates:ts,loadingPropBeforePartialUpdates:ns,rowCountPropBeforePartialUpdates:os,updates:ss,dataRowIdToIdLookup:ls,dataRowIdToModelLookup:as}},getTopLevelRowCount=({tree:ts,rowCountProp:rs=0})=>{const ns=ts[GRID_ROOT_GROUP_ID];return Math.max(rs,ns.children.length+(ns.footerId==null?0:1))},getRowsStateFromCache=({apiRef:ts,rowCountProp:rs=0,loadingProp:ns,previousTree:os,previousTreeDepths:ss})=>{const as=ts.current.caches.rows,{tree:ls,treeDepths:cs,dataRowIds:us,groupingName:ds}=ts.current.applyStrategyProcessor("rowTreeCreation",{previousTree:os,previousTreeDepths:ss,updates:as.updates,dataRowIdToIdLookup:as.dataRowIdToIdLookup,dataRowIdToModelLookup:as.dataRowIdToModelLookup}),ps=ts.current.unstable_applyPipeProcessors("hydrateRows",{tree:ls,treeDepths:cs,dataRowIdToIdLookup:as.dataRowIdToIdLookup,dataRowIds:us,dataRowIdToModelLookup:as.dataRowIdToModelLookup});return ts.current.caches.rows.updates={type:"partial",actions:{insert:[],modify:[],remove:[]},idToActionLookup:{}},_extends$5({},ps,{totalRowCount:Math.max(rs,ps.dataRowIds.length),totalTopLevelRowCount:getTopLevelRowCount({tree:ps.tree,rowCountProp:rs}),groupingName:ds,loading:ns})},isAutoGeneratedRow=ts=>ts.type==="skeletonRow"||ts.type==="footer"||ts.type==="group"&&ts.isAutoGenerated||ts.type==="pinnedRow"&&ts.isAutoGenerated,getTreeNodeDescendants=(ts,rs,ns)=>{const os=ts[rs];if(os.type!=="group")return[];const ss=[];for(let as=0;as<os.children.length;as+=1){const ls=os.children[as];(!ns||!isAutoGeneratedRow(ts[ls]))&&ss.push(ls);const cs=getTreeNodeDescendants(ts,ls,ns);for(let us=0;us<cs.length;us+=1)ss.push(cs[us])}return!ns&&os.footerId!=null&&ss.push(os.footerId),ss},updateCacheWithNewRows=({previousCache:ts,getRowId:rs,updates:ns})=>{var os,ss,as;if(ts.updates.type==="full")throw new Error("MUI: Unable to prepare a partial update if a full update is not applied yet");const ls=new Map;ns.forEach(hs=>{const ms=getRowIdFromRowModel(hs,rs,"A row was provided without id when calling updateRows():");ls.has(ms)?ls.set(ms,_extends$5({},ls.get(ms),hs)):ls.set(ms,hs)});const cs={type:"partial",actions:{insert:[...(os=ts.updates.actions.insert)!=null?os:[]],modify:[...(ss=ts.updates.actions.modify)!=null?ss:[]],remove:[...(as=ts.updates.actions.remove)!=null?as:[]]},idToActionLookup:_extends$5({},ts.updates.idToActionLookup)},us=_extends$5({},ts.dataRowIdToModelLookup),ds=_extends$5({},ts.dataRowIdToIdLookup),ps={insert:{},modify:{},remove:{}};ls.forEach((hs,ms)=>{const gs=cs.idToActionLookup[ms];if(hs._action==="delete"){if(gs==="remove"||!us[ms])return;gs!=null&&(ps[gs][ms]=!0),cs.actions.remove.push(ms),delete us[ms],delete ds[ms];return}const vs=us[ms];if(vs){gs==="remove"?(ps.remove[ms]=!0,cs.actions.modify.push(ms)):gs==null&&cs.actions.modify.push(ms),us[ms]=_extends$5({},vs,hs);return}gs==="remove"?(ps.remove[ms]=!0,cs.actions.insert.push(ms)):gs==null&&cs.actions.insert.push(ms),us[ms]=hs,ds[ms]=ms});const fs=Object.keys(ps);for(let hs=0;hs<fs.length;hs+=1){const ms=fs[hs],gs=ps[ms];Object.keys(gs).length>0&&(cs.actions[ms]=cs.actions[ms].filter(vs=>!gs[vs]))}return{dataRowIdToModelLookup:us,dataRowIdToIdLookup:ds,updates:cs,rowsBeforePartialUpdates:ts.rowsBeforePartialUpdates,loadingPropBeforePartialUpdates:ts.loadingPropBeforePartialUpdates,rowCountPropBeforePartialUpdates:ts.rowCountPropBeforePartialUpdates}};function calculatePinnedRowsHeight(ts){var rs,ns;const os=gridPinnedRowsSelector(ts),ss=(os==null||(rs=os.top)==null?void 0:rs.reduce((ls,cs)=>(ls+=ts.current.unstable_getRowHeight(cs.id),ls),0))||0,as=(os==null||(ns=os.bottom)==null?void 0:ns.reduce((ls,cs)=>(ls+=ts.current.unstable_getRowHeight(cs.id),ls),0))||0;return{top:ss,bottom:as}}function getMinimalContentHeight(ts,rs){const ns=gridDensityFactorSelector(ts);return"var(--DataGrid-overlayHeight, ".concat(2*Math.floor(rs*ns),"px)")}const GridOverlayWrapperRoot=styled$2("div",{name:"MuiDataGrid",slot:"OverlayWrapper",shouldForwardProp:ts=>ts!=="overlayType",overridesResolver:(ts,rs)=>rs.overlayWrapper})(({overlayType:ts})=>({position:"sticky",top:0,left:0,width:0,height:0,zIndex:ts==="loadingOverlay"?5:4})),GridOverlayWrapperInner=styled$2("div",{name:"MuiDataGrid",slot:"OverlayWrapperInner",shouldForwardProp:ts=>ts!=="overlayType",overridesResolver:(ts,rs)=>rs.overlayWrapperInner})({}),useUtilityClasses$11=ts=>{const{classes:rs}=ts;return composeClasses({root:["overlayWrapper"],inner:["overlayWrapperInner"]},getDataGridUtilityClass,rs)};function GridOverlayWrapper(ts){var rs,ns;const os=useGridApiContext$1(),ss=useGridRootProps$1(),[as,ls]=reactExports.useState(()=>{var ps,fs;return(ps=(fs=os.current.getRootDimensions())==null?void 0:fs.viewportInnerSize)!=null?ps:null}),cs=reactExports.useCallback(()=>{var ps,fs;ls((ps=(fs=os.current.getRootDimensions())==null?void 0:fs.viewportInnerSize)!=null?ps:null)},[os]);useEnhancedEffect$1(()=>os.current.subscribeEvent("viewportInnerSizeChange",cs),[os,cs]);let us=(rs=as==null?void 0:as.height)!=null?rs:0;ss.autoHeight&&us===0&&(us=getMinimalContentHeight(os,ss.rowHeight));const ds=useUtilityClasses$11(_extends$5({},ts,{classes:ss.classes}));return as?jsxRuntimeExports.jsx(GridOverlayWrapperRoot,{className:clsx$1(ds.root),overlayType:ts.overlayType,children:jsxRuntimeExports.jsx(GridOverlayWrapperInner,_extends$5({className:clsx$1(ds.inner),style:{height:us,width:(ns=as==null?void 0:as.width)!=null?ns:0}},ts))}):null}function GridOverlays(){const ts=useGridApiContext$1(),rs=useGridRootProps$1(),ns=useGridSelector(ts,gridRowCountSelector),os=useGridSelector(ts,gridExpandedRowCountSelector),ss=useGridSelector(ts,gridRowsLoadingSelector),as=!ss&&ns===0,ls=!ss&&ns>0&&os===0;let cs=null,us="";if(as){var ds;cs=jsxRuntimeExports.jsx(rs.slots.noRowsOverlay,_extends$5({},(ds=rs.slotProps)==null?void 0:ds.noRowsOverlay)),us="noRowsOverlay"}if(ls){var ps;cs=jsxRuntimeExports.jsx(rs.slots.noResultsOverlay,_extends$5({},(ps=rs.slotProps)==null?void 0:ps.noResultsOverlay)),us="noResultsOverlay"}if(ss){var fs;cs=jsxRuntimeExports.jsx(rs.slots.loadingOverlay,_extends$5({},(fs=rs.slotProps)==null?void 0:fs.loadingOverlay)),us="loadingOverlay"}return cs===null?null:jsxRuntimeExports.jsx(GridOverlayWrapper,{overlayType:us,children:cs})}function fastMemo(ts){return reactExports.memo(ts,fastObjectShallowCompare)}let cachedSupportsPreventScroll;function doesSupportPreventScroll(){return cachedSupportsPreventScroll===void 0&&document.createElement("div").focus({get preventScroll(){return cachedSupportsPreventScroll=!0,!1}}),cachedSupportsPreventScroll}var GridEditModes=function(ts){return ts.Cell="cell",ts.Row="row",ts}(GridEditModes||{}),GridCellModes=function(ts){return ts.Edit="edit",ts.View="view",ts}(GridCellModes||{}),GridRowModes=function(ts){return ts.Edit="edit",ts.View="view",ts}(GridRowModes||{}),GridLogicOperator=function(ts){return ts.And="and",ts.Or="or",ts}(GridLogicOperator||{}),GridCellEditStartReasons=function(ts){return ts.enterKeyDown="enterKeyDown",ts.cellDoubleClick="cellDoubleClick",ts.printableKeyDown="printableKeyDown",ts.deleteKeyDown="deleteKeyDown",ts.pasteKeyDown="pasteKeyDown",ts}(GridCellEditStartReasons||{}),GridCellEditStopReasons=function(ts){return ts.cellFocusOut="cellFocusOut",ts.escapeKeyDown="escapeKeyDown",ts.enterKeyDown="enterKeyDown",ts.tabKeyDown="tabKeyDown",ts.shiftTabKeyDown="shiftTabKeyDown",ts}(GridCellEditStopReasons||{}),GridRowEditStartReasons=function(ts){return ts.enterKeyDown="enterKeyDown",ts.cellDoubleClick="cellDoubleClick",ts.printableKeyDown="printableKeyDown",ts.deleteKeyDown="deleteKeyDown",ts}(GridRowEditStartReasons||{}),GridRowEditStopReasons=function(ts){return ts.rowFocusOut="rowFocusOut",ts.escapeKeyDown="escapeKeyDown",ts.enterKeyDown="enterKeyDown",ts.tabKeyDown="tabKeyDown",ts.shiftTabKeyDown="shiftTabKeyDown",ts}(GridRowEditStopReasons||{});function isLeaf(ts){return ts.field!==void 0}function isOverflown(ts){return ts.scrollHeight>ts.clientHeight||ts.scrollWidth>ts.clientWidth}function findParentElementFromClassName(ts,rs){return ts.closest(".".concat(rs))}function escapeOperandAttributeSelector(ts){return ts.replace(/["\\]/g,"\\$&")}function getGridColumnHeaderElement(ts,rs){return ts.querySelector('[role="columnheader"][data-field="'.concat(escapeOperandAttributeSelector(rs),'"]'))}function getGridRowElementSelector(ts){return".".concat(gridClasses.row,'[data-id="').concat(escapeOperandAttributeSelector(String(ts)),'"]')}function getGridRowElement(ts,rs){return ts.querySelector(getGridRowElementSelector(rs))}function getGridCellElement(ts,{id:rs,field:ns}){const os=getGridRowElementSelector(rs),ss=".".concat(gridClasses.cell,'[data-field="').concat(escapeOperandAttributeSelector(ns),'"]'),as="".concat(os," ").concat(ss);return ts.querySelector(as)}function isEventTargetInPortal(ts){return ts.target.nodeType===1&&!ts.currentTarget.contains(ts.target)}function useGridApiMethod(ts,rs,ns){const os=reactExports.useRef(!0);reactExports.useEffect(()=>{os.current=!1,ts.current.register(ns,rs)},[ts,ns,rs]),os.current&&ts.current.register(ns,rs)}class MissingRowIdError extends Error{}function useGridParamsApi(ts,rs){const{getRowId:ns}=rs,os=reactExports.useCallback(gs=>({field:gs,colDef:ts.current.getColumn(gs)}),[ts]),ss=reactExports.useCallback(gs=>{const vs=ts.current.getRow(gs);if(!vs)throw new MissingRowIdError("No row with id #".concat(gs," found"));return{id:gs,columns:ts.current.getAllColumns(),row:vs}},[ts]),as=reactExports.useCallback((gs,vs)=>{const bs=ts.current.getRow(gs),xs=ts.current.getRowNode(gs);if(!bs||!xs)throw new MissingRowIdError("No row with id #".concat(gs," found"));const ys=gridFocusCellSelector(ts),Ss=gridTabIndexCellSelector(ts);return{id:gs,field:vs,row:bs,rowNode:xs,value:bs[vs],colDef:ts.current.getColumn(vs),cellMode:ts.current.getCellMode(gs,vs),api:ts.current,hasFocus:ys!==null&&ys.field===vs&&ys.id===gs,tabIndex:Ss&&Ss.field===vs&&Ss.id===gs?0:-1}},[ts]),ls=reactExports.useCallback((gs,vs)=>{const bs=ts.current.getColumn(vs),xs=ts.current.getCellValue(gs,vs),ys=ts.current.getRow(gs),Ss=ts.current.getRowNode(gs);if(!ys||!Ss)throw new MissingRowIdError("No row with id #".concat(gs," found"));const Cs=gridFocusCellSelector(ts),$s=gridTabIndexCellSelector(ts),Es={id:gs,field:vs,row:ys,rowNode:Ss,colDef:bs,cellMode:ts.current.getCellMode(gs,vs),hasFocus:Cs!==null&&Cs.field===vs&&Cs.id===gs,tabIndex:$s&&$s.field===vs&&$s.id===gs?0:-1,value:xs,formattedValue:xs,isEditable:!1};return bs&&bs.valueFormatter&&(Es.formattedValue=bs.valueFormatter({id:gs,field:Es.field,value:Es.value,api:ts.current})),Es.isEditable=bs&&ts.current.isCellEditable(Es),Es},[ts]),cs=reactExports.useCallback((gs,vs)=>{const bs=ts.current.getColumn(vs);if(!bs||!bs.valueGetter){const xs=ts.current.getRow(gs);if(!xs)throw new MissingRowIdError("No row with id #".concat(gs," found"));return xs[vs]}return bs.valueGetter(as(gs,vs))},[ts,as]),us=reactExports.useCallback((gs,vs)=>{var bs;const xs=GRID_ID_AUTOGENERATED in gs?gs[GRID_ID_AUTOGENERATED]:(bs=ns==null?void 0:ns(gs))!=null?bs:gs.id,ys=vs.field;return!vs||!vs.valueGetter?gs[ys]:vs.valueGetter(as(xs,ys))},[as,ns]),ds=reactExports.useCallback((gs,vs)=>{var bs;const xs=us(gs,vs);if(!vs||!vs.valueFormatter)return xs;const ys=(bs=ns?ns(gs):gs.id)!=null?bs:gs[GRID_ID_AUTOGENERATED],Ss=vs.field;return vs.valueFormatter({id:ys,field:Ss,value:xs,api:ts.current})},[ts,ns,us]),ps=reactExports.useCallback(gs=>ts.current.rootElementRef.current?getGridColumnHeaderElement(ts.current.rootElementRef.current,gs):null,[ts]),fs=reactExports.useCallback(gs=>ts.current.rootElementRef.current?getGridRowElement(ts.current.rootElementRef.current,gs):null,[ts]),hs=reactExports.useCallback((gs,vs)=>ts.current.rootElementRef.current?getGridCellElement(ts.current.rootElementRef.current,{id:gs,field:vs}):null,[ts]);useGridApiMethod(ts,{getCellValue:cs,getCellParams:ls,getCellElement:hs,getRowValue:us,getRowFormattedValue:ds,getRowParams:ss,getRowElement:fs,getColumnHeaderParams:os,getColumnHeaderElement:ps},"public")}const _excluded$1b=["changeReason","unstable_updateValueOnRender"],_excluded3=["column","rowId","editCellState","align","children","colIndex","height","width","className","showRightBorder","extendRowFullWidth","row","colSpan","disableDragEvents","isNotVisible","onClick","onDoubleClick","onMouseDown","onMouseUp","onMouseOver","onKeyDown","onKeyUp","onDragEnter","onDragOver","style"],_excluded4=["changeReason","unstable_updateValueOnRender"],EMPTY_CELL_PARAMS={id:-1,field:"__unset__",row:{},rowNode:{id:-1,depth:0,type:"leaf",parent:-1,groupingKey:null},colDef:{type:"string",field:"__unset__",computedWidth:0},cellMode:GridCellModes.View,hasFocus:!1,tabIndex:-1,value:null,formattedValue:"__unset__",isEditable:!1,api:{}},useUtilityClasses$10=ts=>{const{align:rs,showRightBorder:ns,isEditable:os,isSelected:ss,isSelectionMode:as,classes:ls}=ts,cs={root:["cell","cell--text".concat(capitalize$1(rs)),os&&"cell--editable",ss&&"selected",ns&&"cell--withRightBorder",as&&!os&&"cell--selectionMode","withBorderColor"],content:["cellContent"]};return composeClasses(cs,getDataGridUtilityClass,ls)},GridCellWrapper=reactExports.forwardRef((ts,rs)=>{const{column:ns,rowId:os,editCellState:ss}=ts,as=useGridApiContext$1(),ls=useGridRootProps$1(),cs=ns.field,us=useGridSelector(as,()=>{try{const Is=as.current.getCellParams(os,cs);return Is.api=as.current,Is}catch(Ts){if(Ts instanceof MissingRowIdError)return EMPTY_CELL_PARAMS;throw Ts}},objectShallowCompare),ds=useGridSelector(as,()=>as.current.unstable_applyPipeProcessors("isCellSelected",!1,{id:os,field:cs}));if(us===EMPTY_CELL_PARAMS)return null;const{cellMode:ps,hasFocus:fs,isEditable:hs,value:ms,formattedValue:gs}=us,vs=ns.type==="actions",bs=(ps==="view"||!hs)&&!vs?us.tabIndex:-1,{classes:xs,getCellClassName:ys}=ls,Ss=as.current.unstable_applyPipeProcessors("cellClassName",[],{id:os,field:cs});ns.cellClassName&&Ss.push(typeof ns.cellClassName=="function"?ns.cellClassName(us):ns.cellClassName),ys&&Ss.push(ys(us));let Cs;if(ss==null&&ns.renderCell&&(Cs=ns.renderCell(us),Ss.push(gridClasses["cell--withRenderer"]),Ss.push(xs==null?void 0:xs["cell--withRenderer"])),ss!=null&&ns.renderEditCell){const Ts=as.current.getRowWithUpdatedValues(os,ns.field),Is=_objectWithoutPropertiesLoose$1(ss,_excluded$1b),Rs=_extends$5({},us,{row:Ts},Is);Cs=ns.renderEditCell(Rs),Ss.push(gridClasses["cell--editing"]),Ss.push(xs==null?void 0:xs["cell--editing"])}const{slots:$s}=ls,Es=$s.cell,ws=_extends$5({},ts,{ref:rs,field:cs,formattedValue:gs,hasFocus:fs,isEditable:hs,isSelected:ds,value:ms,cellMode:ps,children:Cs,tabIndex:bs,className:clsx$1(Ss)});return reactExports.createElement(Es,ws)}),MemoizedCellWrapper=fastMemo(GridCellWrapper),GridCellV7=reactExports.forwardRef((ts,rs)=>{var ns,os,ss,as;const{column:ls,rowId:cs,editCellState:us,align:ds,colIndex:ps,height:fs,width:hs,className:ms,showRightBorder:gs,colSpan:vs,disableDragEvents:bs,isNotVisible:xs,onClick:ys,onDoubleClick:Ss,onMouseDown:Cs,onMouseUp:$s,onMouseOver:Es,onKeyDown:ws,onKeyUp:Ts,onDragEnter:Is,onDragOver:Rs,style:As}=ts,ks=_objectWithoutPropertiesLoose$1(ts,_excluded3),Ms=useGridApiContext$1(),Os=useGridRootProps$1(),Ds=ls.field,Fs=useGridSelector(Ms,()=>{try{const xl=Ms.current.getCellParams(cs,Ds);return xl.api=Ms.current,xl}catch(Xs){if(Xs instanceof MissingRowIdError)return EMPTY_CELL_PARAMS;throw Xs}},objectShallowCompare),js=useGridSelector(Ms,()=>Ms.current.unstable_applyPipeProcessors("isCellSelected",!1,{id:cs,field:Ds})),{cellMode:Ps,hasFocus:Ls,isEditable:Ns,value:Gs,formattedValue:Us}=Fs,Hs=ls.type==="actions"&&((ns=(os=ls).getActions)==null?void 0:ns.call(os,Ms.current.getRowParams(cs)).some(Xs=>!Xs.props.disabled)),zs=(Ps==="view"||!Ns)&&!Hs?Fs.tabIndex:-1,{classes:qs,getCellClassName:Vs}=Os,Ks=Ms.current.unstable_applyPipeProcessors("cellClassName",[],{id:cs,field:Ds});ls.cellClassName&&Ks.push(typeof ls.cellClassName=="function"?ls.cellClassName(Fs):ls.cellClassName),Vs&&Ks.push(Vs(Fs));const Ws=Us==null?Gs:Us,Pl=reactExports.useRef(null),Tl=useForkRef(rs,Pl),El=reactExports.useRef(null),$l=(ss=Os.unstable_cellSelection)!=null?ss:!1,Sl={align:ds,showRightBorder:gs,isEditable:Ns,classes:Os.classes,isSelected:js,isSelectionMode:$l},Ml=useUtilityClasses$10(Sl),wl=reactExports.useCallback(Xs=>xl=>{const $a=Ms.current.getCellParams(cs,Ds||"");Ms.current.publishEvent(Xs,$a,xl),$s&&$s(xl)},[Ms,Ds,$s,cs]),Rl=reactExports.useCallback(Xs=>xl=>{const $a=Ms.current.getCellParams(cs,Ds||"");Ms.current.publishEvent(Xs,$a,xl),Cs&&Cs(xl)},[Ms,Ds,Cs,cs]),yl=reactExports.useCallback((Xs,xl)=>$a=>{if(!Ms.current.getRow(cs))return;const Dl=Ms.current.getCellParams(cs,Ds||"");Ms.current.publishEvent(Xs,Dl,$a),xl&&xl($a)},[Ms,Ds,cs]),Bs=reactExports.useMemo(()=>_extends$5(xs?{padding:0,opacity:0,width:0,border:0}:{minWidth:hs,maxWidth:hs,minHeight:fs,maxHeight:fs==="auto"?"none":fs},As),[hs,fs,xs,As]);if(reactExports.useEffect(()=>{if(!Ls||Ps===GridCellModes.Edit)return;const Xs=ownerDocument(Ms.current.rootElementRef.current);if(Pl.current&&!Pl.current.contains(Xs.activeElement)){const xl=Pl.current.querySelector('[tabindex="0"]'),$a=El.current||xl||Pl.current;if(doesSupportPreventScroll())$a.focus({preventScroll:!0});else{const Dl=Ms.current.getScrollPosition();$a.focus(),Ms.current.scroll(Dl)}}},[Ls,Ps,Ms]),Fs===EMPTY_CELL_PARAMS)return null;let Zs=ks.onFocus,Ys;if(us==null&&ls.renderCell&&(Ys=ls.renderCell(Fs),Ks.push(gridClasses["cell--withRenderer"]),Ks.push(qs==null?void 0:qs["cell--withRenderer"])),us!=null&&ls.renderEditCell){const Xs=Ms.current.getRowWithUpdatedValues(cs,ls.field),xl=_objectWithoutPropertiesLoose$1(us,_excluded4),$a=_extends$5({},Fs,{row:Xs},xl);Ys=ls.renderEditCell($a),Ks.push(gridClasses["cell--editing"]),Ks.push(qs==null?void 0:qs["cell--editing"])}if(Ys===void 0){const Xs=Ws==null?void 0:Ws.toString();Ys=jsxRuntimeExports.jsx("div",{className:Ml.content,title:Xs,role:"presentation",children:Xs})}reactExports.isValidElement(Ys)&&Hs&&(Ys=reactExports.cloneElement(Ys,{focusElementRef:El}));const _l=bs?null:{onDragEnter:yl("cellDragEnter",Is),onDragOver:yl("cellDragOver",Rs)},Cl=(as=Os.experimentalFeatures)==null?void 0:as.ariaV7;return jsxRuntimeExports.jsx("div",_extends$5({ref:Tl,className:clsx$1(ms,Ks,Ml.root),role:Cl?"gridcell":"cell","data-field":Ds,"data-colindex":ps,"aria-colindex":ps+1,"aria-colspan":vs,style:Bs,tabIndex:zs,onClick:yl("cellClick",ys),onDoubleClick:yl("cellDoubleClick",Ss),onMouseOver:yl("cellMouseOver",Es),onMouseDown:Rl("cellMouseDown"),onMouseUp:wl("cellMouseUp"),onKeyDown:yl("cellKeyDown",ws),onKeyUp:yl("cellKeyUp",Ts)},_l,ks,{onFocus:Zs,children:Ys}))}),MemoizedGridCellV7=fastMemo(GridCellV7),_excluded$1a=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","hasFocus","tabIndex"],useUtilityClasses$$=ts=>{const{classes:rs}=ts;return composeClasses({root:["booleanCell"]},getDataGridUtilityClass,rs)};function GridBooleanCellRaw(ts){const{value:rs}=ts,ns=_objectWithoutPropertiesLoose$1(ts,_excluded$1a),os=useGridApiContext$1(),ss=useGridRootProps$1(),as={classes:ss.classes},ls=useUtilityClasses$$(as),cs=reactExports.useMemo(()=>rs?ss.slots.booleanCellTrueIcon:ss.slots.booleanCellFalseIcon,[ss.slots.booleanCellFalseIcon,ss.slots.booleanCellTrueIcon,rs]);return jsxRuntimeExports.jsx(cs,_extends$5({fontSize:"small",className:ls.root,titleAccess:os.current.getLocaleText(rs?"booleanCellTrueLabel":"booleanCellFalseLabel"),"data-value":!!rs},ns))}const GridBooleanCell=reactExports.memo(GridBooleanCellRaw),renderBooleanCell=ts=>isAutoGeneratedRow(ts.rowNode)?"":jsxRuntimeExports.jsx(GridBooleanCell,_extends$5({},ts)),_excluded$19=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","className","hasFocus","isValidating","isProcessingProps","error","onValueChange"],useUtilityClasses$_=ts=>{const{classes:rs}=ts;return composeClasses({root:["editBooleanCell"]},getDataGridUtilityClass,rs)};function GridEditBooleanCell(ts){var rs;const{id:ns,value:os,field:ss,className:as,hasFocus:ls,onValueChange:cs}=ts,us=_objectWithoutPropertiesLoose$1(ts,_excluded$19),ds=useGridApiContext$1(),ps=reactExports.useRef(null),fs=useId(),[hs,ms]=reactExports.useState(os),gs=useGridRootProps$1(),vs={classes:gs.classes},bs=useUtilityClasses$_(vs),xs=reactExports.useCallback(async ys=>{const Ss=ys.target.checked;cs&&await cs(ys,Ss),ms(Ss),await ds.current.setEditCellValue({id:ns,field:ss,value:Ss},ys)},[ds,ss,ns,cs]);return reactExports.useEffect(()=>{ms(os)},[os]),useEnhancedEffect$1(()=>{ls&&ps.current.focus()},[ls]),jsxRuntimeExports.jsx("label",_extends$5({htmlFor:fs,className:clsx$1(bs.root,as)},us,{children:jsxRuntimeExports.jsx(gs.slots.baseCheckbox,_extends$5({id:fs,inputRef:ps,checked:!!hs,onChange:xs,size:"small"},(rs=gs.slotProps)==null?void 0:rs.baseCheckbox))}))}const renderEditBooleanCell=ts=>jsxRuntimeExports.jsx(GridEditBooleanCell,_extends$5({},ts)),_excluded$18=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","hasFocus","inputProps","isValidating","isProcessingProps","onValueChange"],StyledInputBase=styled$4(InputBase$1)({fontSize:"inherit"}),useUtilityClasses$Z=ts=>{const{classes:rs}=ts;return composeClasses({root:["editInputCell"]},getDataGridUtilityClass,rs)};function GridEditDateCell(ts){const{id:rs,value:ns,field:os,colDef:ss,hasFocus:as,inputProps:ls,onValueChange:cs}=ts,us=_objectWithoutPropertiesLoose$1(ts,_excluded$18),ds=ss.type==="dateTime",ps=useGridApiContext$1(),fs=reactExports.useRef(),hs=reactExports.useMemo(()=>{let Cs;ns==null?Cs=null:ns instanceof Date?Cs=ns:Cs=new Date((ns!=null?ns:"").toString());let $s;return Cs==null||Number.isNaN(Cs.getTime())?$s="":$s=new Date(Cs.getTime()-Cs.getTimezoneOffset()*60*1e3).toISOString().substr(0,ds?16:10),{parsed:Cs,formatted:$s}},[ns,ds]),[ms,gs]=reactExports.useState(hs),bs={classes:useGridRootProps$1().classes},xs=useUtilityClasses$Z(bs),ys=reactExports.useCallback(Cs=>{if(Cs==="")return null;const[$s,Es]=Cs.split("T"),[ws,Ts,Is]=$s.split("-"),Rs=new Date;if(Rs.setFullYear(Number(ws),Number(Ts)-1,Number(Is)),Rs.setHours(0,0,0,0),Es){const[As,ks]=Es.split(":");Rs.setHours(Number(As),Number(ks),0,0)}return Rs},[]),Ss=reactExports.useCallback(async Cs=>{const $s=Cs.target.value,Es=ys($s);cs&&await cs(Cs,Es),gs({parsed:Es,formatted:$s}),ps.current.setEditCellValue({id:rs,field:os,value:Es},Cs)},[ps,os,rs,cs,ys]);return reactExports.useEffect(()=>{gs(Cs=>{var $s,Es;return hs.parsed!==Cs.parsed&&(($s=hs.parsed)==null?void 0:$s.getTime())!==((Es=Cs.parsed)==null?void 0:Es.getTime())?hs:Cs})},[hs]),useEnhancedEffect$1(()=>{as&&fs.current.focus()},[as]),jsxRuntimeExports.jsx(StyledInputBase,_extends$5({inputRef:fs,fullWidth:!0,className:xs.root,type:ds?"datetime-local":"date",inputProps:_extends$5({max:ds?"9999-12-31T23:59":"9999-12-31"},ls),value:ms.formatted,onChange:Ss},us))}const renderEditDateCell=ts=>jsxRuntimeExports.jsx(GridEditDateCell,_extends$5({},ts)),_excluded$17=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","hasFocus","isValidating","debounceMs","isProcessingProps","onValueChange"],useUtilityClasses$Y=ts=>{const{classes:rs}=ts;return composeClasses({root:["editInputCell"]},getDataGridUtilityClass,rs)},GridEditInputCellRoot=styled$4(InputBase$1,{name:"MuiDataGrid",slot:"EditInputCell",overridesResolver:(ts,rs)=>rs.editInputCell})(({theme:ts})=>_extends$5({},ts.typography.body2,{padding:"1px 0","& input":{padding:"0 16px",height:"100%"}})),GridEditInputCell=reactExports.forwardRef((ts,rs)=>{const ns=useGridRootProps$1(),{id:os,value:ss,field:as,colDef:ls,hasFocus:cs,debounceMs:us=200,isProcessingProps:ds,onValueChange:ps}=ts,fs=_objectWithoutPropertiesLoose$1(ts,_excluded$17),hs=useGridApiContext$1(),ms=reactExports.useRef(),[gs,vs]=reactExports.useState(ss),bs=useUtilityClasses$Y(ns),xs=reactExports.useCallback(async Ss=>{const Cs=Ss.target.value;ps&&await ps(Ss,Cs);const $s=hs.current.getColumn(as);let Es=Cs;$s.valueParser&&(Es=$s.valueParser(Cs,hs.current.getCellParams(os,as))),vs(Es),hs.current.setEditCellValue({id:os,field:as,value:Es,debounceMs:us,unstable_skipValueParser:!0},Ss)},[hs,us,as,os,ps]),ys=hs.current.unstable_getEditCellMeta(os,as);return reactExports.useEffect(()=>{(ys==null?void 0:ys.changeReason)!=="debouncedSetEditCellValue"&&vs(ss)},[ys,ss]),useEnhancedEffect$1(()=>{cs&&ms.current.focus()},[cs]),jsxRuntimeExports.jsx(GridEditInputCellRoot,_extends$5({ref:rs,inputRef:ms,className:bs.root,ownerState:ns,fullWidth:!0,type:ls.type==="number"?ls.type:"text",value:gs!=null?gs:"",onChange:xs,endAdornment:ds?jsxRuntimeExports.jsx(ns.slots.loadIcon,{fontSize:"small",color:"action"}):void 0},fs))}),renderEditInputCell=ts=>jsxRuntimeExports.jsx(GridEditInputCell,_extends$5({},ts)),isEscapeKey=ts=>ts==="Escape",isEnterKey=ts=>ts==="Enter",isTabKey=ts=>ts==="Tab",isSpaceKey=ts=>ts===" ",isArrowKeys=ts=>ts.indexOf("Arrow")===0,isHomeOrEndKeys=ts=>ts==="Home"||ts==="End",isPageKeys=ts=>ts.indexOf("Page")===0;function isPrintableKey(ts){return ts.key.length===1&&!ts.ctrlKey&&!ts.metaKey}const isNavigationKey=ts=>isHomeOrEndKeys(ts)||isArrowKeys(ts)||isPageKeys(ts)||isSpaceKey(ts),isKeyboardEvent$1=ts=>!!ts.key,isHideMenuKey=ts=>isTabKey(ts)||isEscapeKey(ts);function isSingleSelectColDef(ts){return(ts==null?void 0:ts.type)==="singleSelect"}function getValueFromValueOptions(ts,rs,ns){if(rs===void 0)return;const os=rs.find(ss=>{const as=ns(ss);return String(as)===String(ts)});return ns(os)}const _excluded$16=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","className","hasFocus","isValidating","isProcessingProps","error","onValueChange","initialOpen","getOptionLabel","getOptionValue"],_excluded2$5=["MenuProps"];function isKeyboardEvent(ts){return!!ts.key}function GridEditSingleSelectCell(ts){var rs,ns,os;const ss=useGridRootProps$1(),{id:as,value:ls,field:cs,row:us,colDef:ds,hasFocus:ps,error:fs,onValueChange:hs,initialOpen:ms=ss.editMode===GridEditModes.Cell,getOptionLabel:gs,getOptionValue:vs}=ts,bs=_objectWithoutPropertiesLoose$1(ts,_excluded$16),xs=useGridApiContext$1(),ys=reactExports.useRef(),Ss=reactExports.useRef(),[Cs,$s]=reactExports.useState(ms),ws=(ns=(((rs=ss.slotProps)==null?void 0:rs.baseSelect)||{}).native)!=null?ns:!1,Ts=((os=ss.slotProps)==null?void 0:os.baseSelect)||{},{MenuProps:Is}=Ts,Rs=_objectWithoutPropertiesLoose$1(Ts,_excluded2$5);if(useEnhancedEffect$1(()=>{if(ps){var js;(js=Ss.current)==null||js.focus()}},[ps]),!isSingleSelectColDef(ds))return null;let As;if(typeof(ds==null?void 0:ds.valueOptions)=="function"?As=ds==null?void 0:ds.valueOptions({id:as,row:us,field:cs}):As=ds==null?void 0:ds.valueOptions,!As)return null;const ks=vs||ds.getOptionValue,Ms=gs||ds.getOptionLabel,Os=async js=>{if(!isSingleSelectColDef(ds)||!As)return;$s(!1);const Ps=js.target,Ls=getValueFromValueOptions(Ps.value,As,ks);hs&&await hs(js,Ls),await xs.current.setEditCellValue({id:as,field:cs,value:Ls},js)},Ds=(js,Ps)=>{if(ss.editMode===GridEditModes.Row){$s(!1);return}if(Ps==="backdropClick"||isEscapeKey(js.key)){const Ls=xs.current.getCellParams(as,cs);xs.current.publishEvent("cellEditStop",_extends$5({},Ls,{reason:isEscapeKey(js.key)?GridCellEditStopReasons.escapeKeyDown:GridCellEditStopReasons.cellFocusOut}))}},Fs=js=>{isKeyboardEvent(js)&&js.key==="Enter"||$s(!0)};return!As||!ds?null:jsxRuntimeExports.jsx(ss.slots.baseSelect,_extends$5({ref:ys,inputRef:Ss,value:ls,onChange:Os,open:Cs,onOpen:Fs,MenuProps:_extends$5({onClose:Ds},Is),error:fs,native:ws,fullWidth:!0},bs,Rs,{children:As.map(js=>{var Ps;const Ls=ks(js);return reactExports.createElement(ss.slots.baseSelectOption,_extends$5({},((Ps=ss.slotProps)==null?void 0:Ps.baseSelectOption)||{},{native:ws,key:Ls,value:Ls}),Ms(js))})}))}const renderEditSingleSelectCell=ts=>jsxRuntimeExports.jsx(GridEditSingleSelectCell,_extends$5({},ts)),_excluded$15=["open","target","onClose","children","position","className","onExited"],useUtilityClasses$X=ts=>{const{classes:rs}=ts;return composeClasses({root:["menu"]},getDataGridUtilityClass,rs)},GridMenuRoot=styled$4(Popper$2,{name:"MuiDataGrid",slot:"Menu",overridesResolver:(ts,rs)=>rs.menu})(({theme:ts})=>({zIndex:ts.zIndex.modal,["& .".concat(gridClasses.menuList)]:{outline:0}})),transformOrigin={"bottom-start":"top left","bottom-end":"top right"};function GridMenu(ts){var rs;const{open:ns,target:os,onClose:ss,children:as,position:ls,className:cs,onExited:us}=ts,ds=_objectWithoutPropertiesLoose$1(ts,_excluded$15),ps=useGridApiContext$1(),fs=useGridRootProps$1(),hs=useUtilityClasses$X(fs),ms=reactExports.useRef(null);useEnhancedEffect$1(()=>{if(ns)ms.current=document.activeElement instanceof HTMLElement?document.activeElement:null;else{var bs,xs;(bs=ms.current)==null||(xs=bs.focus)==null||xs.call(bs),ms.current=null}},[ns]),reactExports.useEffect(()=>{const bs=ns?"menuOpen":"menuClose";ps.current.publishEvent(bs,{target:os})},[ps,ns,os]);const gs=bs=>xs=>{bs&&bs(),us&&us(xs)},vs=bs=>{bs.target&&(os===bs.target||os!=null&&os.contains(bs.target))||ss(bs)};return jsxRuntimeExports.jsx(GridMenuRoot,_extends$5({as:fs.slots.basePopper,className:clsx$1(cs,hs.root),ownerState:fs,open:ns,anchorEl:os,transition:!0,placement:ls},ds,(rs=fs.slotProps)==null?void 0:rs.basePopper,{children:({TransitionProps:bs,placement:xs})=>jsxRuntimeExports.jsx(ClickAwayListener,{onClickAway:vs,mouseEvent:"onMouseDown",children:jsxRuntimeExports.jsx(Grow$1,_extends$5({},bs,{style:{transformOrigin:transformOrigin[xs]},onExited:gs(bs==null?void 0:bs.onExited),children:jsxRuntimeExports.jsx(Paper$1,{children:as})}))})}))}const _excluded$14=["api","colDef","id","hasFocus","isEditable","field","value","formattedValue","row","rowNode","cellMode","tabIndex","position","focusElementRef"],hasActions=ts=>typeof ts.getActions=="function";function GridActionsCell(ts){var rs;const{colDef:ns,id:os,hasFocus:ss,tabIndex:as,position:ls="bottom-end",focusElementRef:cs}=ts,us=_objectWithoutPropertiesLoose$1(ts,_excluded$14),[ds,ps]=reactExports.useState(-1),[fs,hs]=reactExports.useState(!1),ms=useGridApiContext$1(),gs=reactExports.useRef(null),vs=reactExports.useRef(null),bs=reactExports.useRef(!1),xs=reactExports.useRef({}),ys=useTheme$1(),Ss=useId(),Cs=useId(),$s=useGridRootProps$1();if(!hasActions(ns))throw new Error("MUI: Missing the `getActions` property in the `GridColDef`.");const Es=ns.getActions(ms.current.getRowParams(os)),ws=Es.filter(Fs=>!Fs.props.showInMenu),Ts=Es.filter(Fs=>Fs.props.showInMenu),Is=ws.length+(Ts.length?1:0);reactExports.useLayoutEffect(()=>{ss||Object.entries(xs.current).forEach(([Fs,js])=>{js==null||js.stop({},()=>{delete xs.current[Fs]})})},[ss]),reactExports.useEffect(()=>{if(ds<0||!gs.current||ds>=gs.current.children.length)return;gs.current.children[ds].focus({preventScroll:!0})},[ds]),reactExports.useEffect(()=>{ss||(ps(-1),bs.current=!1)},[ss]),reactExports.useImperativeHandle(cs,()=>({focus(){if(!bs.current){const Fs=Es.findIndex(js=>!js.props.disabled);ps(Fs)}}}),[Es]),reactExports.useEffect(()=>{ds>=Is&&ps(Is-1)},[ds,Is]);const Rs=()=>{hs(!0),ps(Is-1),bs.current=!0},As=()=>{hs(!1)},ks=Fs=>js=>{xs.current[Fs]=js},Ms=(Fs,js)=>Ps=>{ps(Fs),bs.current=!0,js&&js(Ps)},Os=Fs=>{if(Is<=1)return;const js=(Ls,Ns)=>{var Gs;if(Ls<0||Ls>Es.length)return Ls;const Us=ys.direction==="rtl"?-1:1,Hs=(Ns==="left"?-1:1)*Us;return(Gs=Es[Ls+Hs])!=null&&Gs.props.disabled?js(Ls+Hs,Ns):Ls+Hs};let Ps=ds;Fs.key==="ArrowRight"?Ps=js(ds,"right"):Fs.key==="ArrowLeft"&&(Ps=js(ds,"left")),!(Ps<0||Ps>=Is)&&Ps!==ds&&(Fs.preventDefault(),Fs.stopPropagation(),ps(Ps))},Ds=Fs=>{Fs.key==="Tab"&&Fs.preventDefault(),["Tab","Escape"].includes(Fs.key)&&As()};return jsxRuntimeExports.jsxs("div",_extends$5({role:"menu",ref:gs,tabIndex:-1,className:gridClasses.actionsCell,onKeyDown:Os},us,{children:[ws.map((Fs,js)=>reactExports.cloneElement(Fs,{key:js,touchRippleRef:ks(js),onClick:Ms(js,Fs.props.onClick),tabIndex:ds===js?as:-1})),Ts.length>0&&Cs&&jsxRuntimeExports.jsx($s.slots.baseIconButton,_extends$5({ref:vs,id:Cs,"aria-label":ms.current.getLocaleText("actionsCellMore"),"aria-haspopup":"menu","aria-expanded":fs,"aria-controls":fs?Ss:void 0,role:"menuitem",size:"small",onClick:Rs,touchRippleRef:ks(Cs),tabIndex:ds===ws.length?as:-1},(rs=$s.slotProps)==null?void 0:rs.baseIconButton,{children:jsxRuntimeExports.jsx($s.slots.moreActionsIcon,{fontSize:"small"})})),Ts.length>0&&jsxRuntimeExports.jsx(GridMenu,{open:fs,target:vs.current,position:ls,onClose:As,children:jsxRuntimeExports.jsx(MenuList$1,{id:Ss,className:gridClasses.menuList,onKeyDown:Ds,"aria-labelledby":Cs,variant:"menu",autoFocusItem:!0,children:Ts.map((Fs,js)=>reactExports.cloneElement(Fs,{key:js,closeMenu:As}))})})]}))}const renderActionsCell=ts=>jsxRuntimeExports.jsx(GridActionsCell,_extends$5({},ts)),_excluded$13=["field","align","width","contentWidth"],useUtilityClasses$W=ts=>{const{align:rs,classes:ns}=ts,os={root:["cell","cellSkeleton","cell--text".concat(capitalize$1(rs)),"withBorderColor"]};return composeClasses(os,getDataGridUtilityClass,ns)};function GridSkeletonCell(ts){const{align:rs,width:ns,contentWidth:os}=ts,ss=_objectWithoutPropertiesLoose$1(ts,_excluded$13),ls={classes:useGridRootProps$1().classes,align:rs},cs=useUtilityClasses$W(ls);return jsxRuntimeExports.jsx("div",_extends$5({className:cs.root,style:{width:ns}},ss,{children:jsxRuntimeExports.jsx(Skeleton$1,{width:"".concat(os,"%")})}))}function getBorderColor(ts){return ts.vars?ts.vars.palette.TableCell.border:ts.palette.mode==="light"?lighten(alpha(ts.palette.divider,1),.88):darken(alpha(ts.palette.divider,1),.68)}const columnHeadersStyles={[".".concat(gridClasses.columnSeparator,", .").concat(gridClasses["columnSeparator--resizing"])]:{visibility:"visible",width:"auto"}},columnHeaderStyles={["& .".concat(gridClasses.iconButtonContainer)]:{visibility:"visible",width:"auto"},["& .".concat(gridClasses.menuIcon)]:{width:"auto",visibility:"visible"}},GridRootStyles=styled$4("div",{name:"MuiDataGrid",slot:"Root",overridesResolver:(ts,rs)=>[{["&.".concat(gridClasses.autoHeight)]:rs.autoHeight},{["&.".concat(gridClasses.aggregationColumnHeader)]:rs.aggregationColumnHeader},{["&.".concat(gridClasses["aggregationColumnHeader--alignLeft"])]:rs["aggregationColumnHeader--alignLeft"]},{["&.".concat(gridClasses["aggregationColumnHeader--alignCenter"])]:rs["aggregationColumnHeader--alignCenter"]},{["&.".concat(gridClasses["aggregationColumnHeader--alignRight"])]:rs["aggregationColumnHeader--alignRight"]},{["&.".concat(gridClasses.aggregationColumnHeaderLabel)]:rs.aggregationColumnHeaderLabel},{["&.".concat(gridClasses["root--disableUserSelection"]," .").concat(gridClasses.cell)]:rs["root--disableUserSelection"]},{["&.".concat(gridClasses.autosizing)]:rs.autosizing},{["& .".concat(gridClasses.editBooleanCell)]:rs.editBooleanCell},{["& .".concat(gridClasses["cell--editing"])]:rs["cell--editing"]},{["& .".concat(gridClasses["cell--textCenter"])]:rs["cell--textCenter"]},{["& .".concat(gridClasses["cell--textLeft"])]:rs["cell--textLeft"]},{["& .".concat(gridClasses["cell--textRight"])]:rs["cell--textRight"]},{["& .".concat(gridClasses["cell--withRenderer"])]:rs["cell--withRenderer"]},{["& .".concat(gridClasses.cell)]:rs.cell},{["& .".concat(gridClasses["cell--rangeTop"])]:rs["cell--rangeTop"]},{["& .".concat(gridClasses["cell--rangeBottom"])]:rs["cell--rangeBottom"]},{["& .".concat(gridClasses["cell--rangeLeft"])]:rs["cell--rangeLeft"]},{["& .".concat(gridClasses["cell--rangeRight"])]:rs["cell--rangeRight"]},{["& .".concat(gridClasses["cell--withRightBorder"])]:rs["cell--withRightBorder"]},{["& .".concat(gridClasses.cellContent)]:rs.cellContent},{["& .".concat(gridClasses.cellCheckbox)]:rs.cellCheckbox},{["& .".concat(gridClasses.cellSkeleton)]:rs.cellSkeleton},{["& .".concat(gridClasses.checkboxInput)]:rs.checkboxInput},{["& .".concat(gridClasses["columnHeader--alignCenter"])]:rs["columnHeader--alignCenter"]},{["& .".concat(gridClasses["columnHeader--alignLeft"])]:rs["columnHeader--alignLeft"]},{["& .".concat(gridClasses["columnHeader--alignRight"])]:rs["columnHeader--alignRight"]},{["& .".concat(gridClasses["columnHeader--dragging"])]:rs["columnHeader--dragging"]},{["& .".concat(gridClasses["columnHeader--moving"])]:rs["columnHeader--moving"]},{["& .".concat(gridClasses["columnHeader--numeric"])]:rs["columnHeader--numeric"]},{["& .".concat(gridClasses["columnHeader--sortable"])]:rs["columnHeader--sortable"]},{["& .".concat(gridClasses["columnHeader--sorted"])]:rs["columnHeader--sorted"]},{["& .".concat(gridClasses["columnHeader--withRightBorder"])]:rs["columnHeader--withRightBorder"]},{["& .".concat(gridClasses.columnHeader)]:rs.columnHeader},{["& .".concat(gridClasses.headerFilterRow)]:rs.headerFilterRow},{["& .".concat(gridClasses.columnHeaderCheckbox)]:rs.columnHeaderCheckbox},{["& .".concat(gridClasses.columnHeaderDraggableContainer)]:rs.columnHeaderDraggableContainer},{["& .".concat(gridClasses.columnHeaderTitleContainer)]:rs.columnHeaderTitleContainer},{["& .".concat(gridClasses["columnSeparator--resizable"])]:rs["columnSeparator--resizable"]},{["& .".concat(gridClasses["columnSeparator--resizing"])]:rs["columnSeparator--resizing"]},{["& .".concat(gridClasses.columnSeparator)]:rs.columnSeparator},{["& .".concat(gridClasses.filterIcon)]:rs.filterIcon},{["& .".concat(gridClasses.iconSeparator)]:rs.iconSeparator},{["& .".concat(gridClasses.menuIcon)]:rs.menuIcon},{["& .".concat(gridClasses.menuIconButton)]:rs.menuIconButton},{["& .".concat(gridClasses.menuOpen)]:rs.menuOpen},{["& .".concat(gridClasses.menuList)]:rs.menuList},{["& .".concat(gridClasses["row--editable"])]:rs["row--editable"]},{["& .".concat(gridClasses["row--editing"])]:rs["row--editing"]},{["& .".concat(gridClasses["row--dragging"])]:rs["row--dragging"]},{["& .".concat(gridClasses.row)]:rs.row},{["& .".concat(gridClasses.rowReorderCellPlaceholder)]:rs.rowReorderCellPlaceholder},{["& .".concat(gridClasses.rowReorderCell)]:rs.rowReorderCell},{["& .".concat(gridClasses["rowReorderCell--draggable"])]:rs["rowReorderCell--draggable"]},{["& .".concat(gridClasses.sortIcon)]:rs.sortIcon},{["& .".concat(gridClasses.withBorderColor)]:rs.withBorderColor},{["& .".concat(gridClasses.treeDataGroupingCell)]:rs.treeDataGroupingCell},{["& .".concat(gridClasses.treeDataGroupingCellToggle)]:rs.treeDataGroupingCellToggle},{["& .".concat(gridClasses.detailPanelToggleCell)]:rs.detailPanelToggleCell},{["& .".concat(gridClasses["detailPanelToggleCell--expanded"])]:rs["detailPanelToggleCell--expanded"]},rs.root]})(({theme:ts})=>{const rs=getBorderColor(ts),ns=ts.shape.borderRadius;return _extends$5({"--unstable_DataGrid-radius":typeof ns=="number"?"".concat(ns,"px"):ns,"--unstable_DataGrid-headWeight":ts.typography.fontWeightMedium,"--unstable_DataGrid-overlayBackground":ts.vars?"rgba(".concat(ts.vars.palette.background.defaultChannel," / ").concat(ts.vars.palette.action.disabledOpacity,")"):alpha(ts.palette.background.default,ts.palette.action.disabledOpacity),"--DataGrid-cellOffsetMultiplier":2,flex:1,boxSizing:"border-box",position:"relative",borderWidth:"1px",borderStyle:"solid",borderColor:rs,borderRadius:"var(--unstable_DataGrid-radius)",color:(ts.vars||ts).palette.text.primary},ts.typography.body2,{outline:"none",height:"100%",display:"flex",minWidth:0,minHeight:0,flexDirection:"column",overflowAnchor:"none",["&.".concat(gridClasses.autoHeight)]:{height:"auto",["& .".concat(gridClasses["row--lastVisible"]," .").concat(gridClasses.cell)]:{borderBottomColor:"transparent"}},["&.".concat(gridClasses.autosizing)]:{["& .".concat(gridClasses.columnHeaderTitleContainerContent," > *")]:{overflow:"visible !important"},["& .".concat(gridClasses.cell," > *")]:{overflow:"visible !important",whiteSpace:"nowrap"},["& .".concat(gridClasses.groupingCriteriaCell)]:{width:"unset"},["& .".concat(gridClasses.treeDataGroupingCell)]:{width:"unset"}},["& .".concat(gridClasses["virtualScrollerContent--overflowed"]," .").concat(gridClasses["row--lastVisible"]," .").concat(gridClasses.cell)]:{borderBottomColor:"transparent"},["& .".concat(gridClasses.columnHeader,", & .").concat(gridClasses.cell)]:{WebkitTapHighlightColor:"transparent",lineHeight:null,padding:"0 10px",boxSizing:"border-box"},["& .".concat(gridClasses.columnHeader,":focus-within, & .").concat(gridClasses.cell,":focus-within")]:{outline:"solid ".concat(ts.vars?"rgba(".concat(ts.vars.palette.primary.mainChannel," / 0.5)"):alpha(ts.palette.primary.main,.5)," 1px"),outlineWidth:1,outlineOffset:-1},["& .".concat(gridClasses.columnHeader,":focus, & .").concat(gridClasses.cell,":focus")]:{outline:"solid ".concat(ts.palette.primary.main," 1px")},["& .".concat(gridClasses.columnHeaderCheckbox,", & .").concat(gridClasses.cellCheckbox)]:{padding:0,justifyContent:"center",alignItems:"center"},["& .".concat(gridClasses.columnHeader)]:{position:"relative",display:"flex",alignItems:"center"},["& .".concat(gridClasses["columnHeader--sorted"]," .").concat(gridClasses.iconButtonContainer,", & .").concat(gridClasses["columnHeader--filtered"]," .").concat(gridClasses.iconButtonContainer)]:{visibility:"visible",width:"auto"},["& .".concat(gridClasses.columnHeader,":not(.").concat(gridClasses["columnHeader--sorted"],") .").concat(gridClasses.sortIcon)]:{opacity:0,transition:ts.transitions.create(["opacity"],{duration:ts.transitions.duration.shorter})},["& .".concat(gridClasses.columnHeaderTitleContainer)]:{display:"flex",alignItems:"center",minWidth:0,flex:1,whiteSpace:"nowrap",overflow:"hidden",position:"relative"},["& .".concat(gridClasses.columnHeaderTitleContainerContent)]:{overflow:"hidden",display:"flex",alignItems:"center"},["& .".concat(gridClasses["columnHeader--filledGroup"]," .").concat(gridClasses.columnHeaderTitleContainer)]:{borderBottomWidth:"1px",borderBottomStyle:"solid",boxSizing:"border-box"},["& .".concat(gridClasses["columnHeader--filledGroup"],".").concat(gridClasses["columnHeader--showColumnBorder"]," .").concat(gridClasses.columnHeaderTitleContainer)]:{borderBottom:"none"},["& .".concat(gridClasses["columnHeader--filledGroup"],".").concat(gridClasses["columnHeader--showColumnBorder"])]:{borderBottomWidth:"1px",borderBottomStyle:"solid",boxSizing:"border-box"},["& .".concat(gridClasses.headerFilterRow)]:{borderTop:"1px solid ".concat(rs)},["& .".concat(gridClasses.sortIcon,", & .").concat(gridClasses.filterIcon)]:{fontSize:"inherit"},["& .".concat(gridClasses["columnHeader--sortable"])]:{cursor:"pointer"},["& .".concat(gridClasses["columnHeader--alignCenter"]," .").concat(gridClasses.columnHeaderTitleContainer)]:{justifyContent:"center"},["& .".concat(gridClasses["columnHeader--alignRight"]," .").concat(gridClasses.columnHeaderDraggableContainer,", & .").concat(gridClasses["columnHeader--alignRight"]," .").concat(gridClasses.columnHeaderTitleContainer)]:{flexDirection:"row-reverse"},["& .".concat(gridClasses["columnHeader--alignCenter"]," .").concat(gridClasses.menuIcon,", & .").concat(gridClasses["columnHeader--alignRight"]," .").concat(gridClasses.menuIcon)]:{marginRight:"auto",marginLeft:-6},["& .".concat(gridClasses["columnHeader--alignRight"]," .").concat(gridClasses.menuIcon,", & .").concat(gridClasses["columnHeader--alignRight"]," .").concat(gridClasses.menuIcon)]:{marginRight:"auto",marginLeft:-10},["& .".concat(gridClasses["columnHeader--moving"])]:{backgroundColor:(ts.vars||ts).palette.action.hover},["& .".concat(gridClasses.columnSeparator)]:{visibility:"hidden",position:"absolute",zIndex:100,display:"flex",flexDirection:"column",justifyContent:"center",color:rs},"@media (hover: hover)":{["& .".concat(gridClasses.columnHeaders,":hover")]:columnHeadersStyles,["& .".concat(gridClasses.columnHeader,":hover")]:columnHeaderStyles,["& .".concat(gridClasses.columnHeader,":not(.").concat(gridClasses["columnHeader--sorted"],"):hover .").concat(gridClasses.sortIcon)]:{opacity:.5}},"@media (hover: none)":{["& .".concat(gridClasses.columnHeaders)]:columnHeadersStyles,["& .".concat(gridClasses.columnHeader)]:columnHeaderStyles},["& .".concat(gridClasses["columnSeparator--sideLeft"])]:{left:-12},["& .".concat(gridClasses["columnSeparator--sideRight"])]:{right:-12},["& .".concat(gridClasses["columnSeparator--resizable"])]:{cursor:"col-resize",touchAction:"none","&:hover":{color:(ts.vars||ts).palette.text.primary,"@media (hover: none)":{color:rs}},["&.".concat(gridClasses["columnSeparator--resizing"])]:{color:(ts.vars||ts).palette.text.primary},"& svg":{pointerEvents:"none"}},["& .".concat(gridClasses.iconSeparator)]:{color:"inherit"},["& .".concat(gridClasses.menuIcon)]:{width:0,visibility:"hidden",fontSize:20,marginRight:-10,display:"flex",alignItems:"center"},[".".concat(gridClasses.menuOpen)]:{visibility:"visible",width:"auto"},["& .".concat(gridClasses.row)]:{display:"flex",width:"fit-content",breakInside:"avoid","&:hover, &.Mui-hovered":{backgroundColor:(ts.vars||ts).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},"&.Mui-selected":{backgroundColor:ts.vars?"rgba(".concat(ts.vars.palette.primary.mainChannel," / ").concat(ts.vars.palette.action.selectedOpacity,")"):alpha(ts.palette.primary.main,ts.palette.action.selectedOpacity),"&:hover, &.Mui-hovered":{backgroundColor:ts.vars?"rgba(".concat(ts.vars.palette.primary.mainChannel," / calc(\n                ").concat(ts.vars.palette.action.selectedOpacity," + \n                ").concat(ts.vars.palette.action.hoverOpacity,"\n              ))"):alpha(ts.palette.primary.main,ts.palette.action.selectedOpacity+ts.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:ts.vars?"rgba(".concat(ts.vars.palette.primary.mainChannel," / ").concat(ts.vars.palette.action.selectedOpacity,")"):alpha(ts.palette.primary.main,ts.palette.action.selectedOpacity)}}}},["& .".concat(gridClasses.cell)]:{display:"flex",alignItems:"center",borderBottom:"1px solid","&.Mui-selected":{backgroundColor:ts.vars?"rgba(".concat(ts.vars.palette.primary.mainChannel," / ").concat(ts.vars.palette.action.selectedOpacity,")"):alpha(ts.palette.primary.main,ts.palette.action.selectedOpacity),"&:hover, &.Mui-hovered":{backgroundColor:ts.vars?"rgba(".concat(ts.vars.palette.primary.mainChannel," / ").concat(ts.vars.palette.action.selectedOpacity+ts.palette.action.hoverOpacity,")"):alpha(ts.palette.primary.main,ts.palette.action.selectedOpacity+ts.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:ts.vars?"rgba(".concat(ts.vars.palette.primary.mainChannel," / ").concat(ts.vars.palette.action.selectedOpacity,")"):alpha(ts.palette.primary.main,ts.palette.action.selectedOpacity)}}}},["&.".concat(gridClasses["root--disableUserSelection"]," .").concat(gridClasses.cell)]:{userSelect:"none"},["& .".concat(gridClasses.row,":not(.").concat(gridClasses["row--dynamicHeight"],") > .").concat(gridClasses.cell)]:{overflow:"hidden",whiteSpace:"nowrap"},["& .".concat(gridClasses.cellContent)]:{overflow:"hidden",textOverflow:"ellipsis"},["& .".concat(gridClasses.cell,".").concat(gridClasses["cell--selectionMode"])]:{cursor:"default"},["& .".concat(gridClasses.cell,".").concat(gridClasses["cell--editing"])]:{padding:1,display:"flex",boxShadow:ts.shadows[2],backgroundColor:(ts.vars||ts).palette.background.paper,"&:focus-within":{outline:"solid ".concat((ts.vars||ts).palette.primary.main," 1px"),outlineOffset:"-1px"}},["& .".concat(gridClasses["row--editing"])]:{boxShadow:ts.shadows[2]},["& .".concat(gridClasses["row--editing"]," .").concat(gridClasses.cell)]:{boxShadow:ts.shadows[0],backgroundColor:(ts.vars||ts).palette.background.paper},["& .".concat(gridClasses.editBooleanCell)]:{display:"flex",height:"100%",width:"100%",alignItems:"center",justifyContent:"center"},["& .".concat(gridClasses.booleanCell,'[data-value="true"]')]:{color:(ts.vars||ts).palette.text.secondary},["& .".concat(gridClasses.booleanCell,'[data-value="false"]')]:{color:(ts.vars||ts).palette.text.disabled},["& .".concat(gridClasses.actionsCell)]:{display:"inline-flex",alignItems:"center",gridGap:ts.spacing(1)},["& .".concat(gridClasses.rowReorderCell)]:{display:"inline-flex",flex:1,alignItems:"center",justifyContent:"center",opacity:(ts.vars||ts).palette.action.disabledOpacity},["& .".concat(gridClasses["rowReorderCell--draggable"])]:{cursor:"move",opacity:1},["& .".concat(gridClasses.rowReorderCellContainer)]:{padding:0,alignItems:"stretch"},[".".concat(gridClasses.withBorderColor)]:{borderColor:rs},["& .".concat(gridClasses["cell--withRightBorder"])]:{borderRightWidth:"1px",borderRightStyle:"solid"},["& .".concat(gridClasses["columnHeader--withRightBorder"])]:{borderRightWidth:"1px",borderRightStyle:"solid"},["& .".concat(gridClasses["cell--textLeft"])]:{justifyContent:"flex-start"},["& .".concat(gridClasses["cell--textRight"])]:{justifyContent:"flex-end"},["& .".concat(gridClasses["cell--textCenter"])]:{justifyContent:"center"},["& .".concat(gridClasses.columnHeaderDraggableContainer)]:{display:"flex",width:"100%",height:"100%"},["& .".concat(gridClasses.rowReorderCellPlaceholder)]:{display:"none"},["& .".concat(gridClasses["columnHeader--dragging"],", & .").concat(gridClasses["row--dragging"])]:{background:(ts.vars||ts).palette.background.paper,padding:"0 12px",borderRadius:"var(--unstable_DataGrid-radius)",opacity:(ts.vars||ts).palette.action.disabledOpacity},["& .".concat(gridClasses["row--dragging"])]:{background:(ts.vars||ts).palette.background.paper,padding:"0 12px",borderRadius:"var(--unstable_DataGrid-radius)",opacity:(ts.vars||ts).palette.action.disabledOpacity,["& .".concat(gridClasses.rowReorderCellPlaceholder)]:{display:"flex"}},["& .".concat(gridClasses.treeDataGroupingCell)]:{display:"flex",alignItems:"center",width:"100%"},["& .".concat(gridClasses.treeDataGroupingCellToggle)]:{flex:"0 0 28px",alignSelf:"stretch",marginRight:ts.spacing(2)},["& .".concat(gridClasses.groupingCriteriaCell)]:{display:"flex",alignItems:"center",width:"100%"},["& .".concat(gridClasses.groupingCriteriaCellToggle)]:{flex:"0 0 28px",alignSelf:"stretch",marginRight:ts.spacing(2)}})}),_excluded$12=["children","className"],useUtilityClasses$V=ts=>{const{autoHeight:rs,density:ns,classes:os}=ts,ss={root:["root",rs&&"autoHeight","root--density".concat(capitalize$1(ns)),"withBorderColor"]};return composeClasses(ss,getDataGridUtilityClass,os)},GridRoot=reactExports.forwardRef(function(rs,ns){var os;const ss=useGridRootProps$1(),{children:as,className:ls}=rs,cs=_objectWithoutPropertiesLoose$1(rs,_excluded$12),us=useGridPrivateApiContext$1(),ds=useGridSelector(us,gridDensityValueSelector),ps=reactExports.useRef(null),fs=useForkRef(ps,ns),hs=(os=ss.experimentalFeatures)!=null&&os.ariaV7?null:useGridAriaAttributes,ms=typeof hs=="function"?hs():null,gs=_extends$5({},ss,{density:ds}),vs=useUtilityClasses$V(gs);us.current.register("public",{rootElementRef:ps});const[bs,xs]=reactExports.useState(!1);return useEnhancedEffect$1(()=>{xs(!0)},[]),bs?jsxRuntimeExports.jsx(GridRootStyles,_extends$5({ref:fs,className:clsx$1(ls,vs.root),ownerState:gs},ms,cs,{children:as})):null}),_excluded$11=["className"],useUtilityClasses$U=ts=>{const{classes:rs}=ts;return composeClasses({root:["footerContainer","withBorderColor"]},getDataGridUtilityClass,rs)},GridFooterContainerRoot=styled$2("div",{name:"MuiDataGrid",slot:"FooterContainer",overridesResolver:(ts,rs)=>rs.footerContainer})({display:"flex",justifyContent:"space-between",alignItems:"center",minHeight:52,borderTop:"1px solid"}),GridFooterContainer=reactExports.forwardRef(function(rs,ns){const{className:os}=rs,ss=_objectWithoutPropertiesLoose$1(rs,_excluded$11),as=useGridRootProps$1(),ls=useUtilityClasses$U(as);return jsxRuntimeExports.jsx(GridFooterContainerRoot,_extends$5({ref:ns,className:clsx$1(ls.root,os),ownerState:as},ss))}),_excluded$10=["className"],useUtilityClasses$T=ts=>{const{classes:rs}=ts;return composeClasses({root:["overlay"]},getDataGridUtilityClass,rs)},GridOverlayRoot=styled$2("div",{name:"MuiDataGrid",slot:"Overlay",overridesResolver:(ts,rs)=>rs.overlay})({width:"100%",height:"100%",display:"flex",alignSelf:"center",alignItems:"center",justifyContent:"center",backgroundColor:"var(--unstable_DataGrid-overlayBackground)"}),GridOverlay=reactExports.forwardRef(function(rs,ns){const{className:os}=rs,ss=_objectWithoutPropertiesLoose$1(rs,_excluded$10),as=useGridRootProps$1(),ls=useUtilityClasses$T(as);return jsxRuntimeExports.jsx(GridOverlayRoot,_extends$5({ref:ns,className:clsx$1(ls.root,os),ownerState:as},ss))}),_excluded$$=["className"],useUtilityClasses$S=ts=>{const{classes:rs}=ts;return composeClasses({root:["iconButtonContainer"]},getDataGridUtilityClass,rs)},GridIconButtonContainerRoot=styled$2("div",{name:"MuiDataGrid",slot:"IconButtonContainer",overridesResolver:(ts,rs)=>rs.iconButtonContainer})(()=>({display:"flex",visibility:"hidden",width:0})),GridIconButtonContainer=reactExports.forwardRef(function(rs,ns){const{className:os}=rs,ss=_objectWithoutPropertiesLoose$1(rs,_excluded$$),as=useGridRootProps$1(),ls=useUtilityClasses$S(as);return jsxRuntimeExports.jsx(GridIconButtonContainerRoot,_extends$5({ref:ns,className:clsx$1(ls.root,os),ownerState:as},ss))}),useUtilityClasses$R=ts=>{const{classes:rs}=ts;return composeClasses({icon:["sortIcon"]},getDataGridUtilityClass,rs)};function getIcon(ts,rs,ns,os){let ss;const as={};return rs==="asc"?ss=ts.columnSortedAscendingIcon:rs==="desc"?ss=ts.columnSortedDescendingIcon:(ss=ts.columnUnsortedIcon,as.sortingOrder=os),ss?jsxRuntimeExports.jsx(ss,_extends$5({fontSize:"small",className:ns},as)):null}function GridColumnHeaderSortIconRaw(ts){var rs;const{direction:ns,index:os,sortingOrder:ss}=ts,as=useGridApiContext$1(),ls=useGridRootProps$1(),cs=_extends$5({},ts,{classes:ls.classes}),us=useUtilityClasses$R(cs),ds=getIcon(ls.slots,ns,us.icon,ss);if(!ds)return null;const ps=jsxRuntimeExports.jsx(ls.slots.baseIconButton,_extends$5({tabIndex:-1,"aria-label":as.current.getLocaleText("columnHeaderSortIconLabel"),title:as.current.getLocaleText("columnHeaderSortIconLabel"),size:"small"},(rs=ls.slotProps)==null?void 0:rs.baseIconButton,{children:ds}));return jsxRuntimeExports.jsxs(GridIconButtonContainer,{children:[os!=null&&jsxRuntimeExports.jsx(Badge$1,{badgeContent:os,color:"default",children:ps}),os==null&&ps]})}const GridColumnHeaderSortIcon=reactExports.memo(GridColumnHeaderSortIconRaw),useUtilityClasses$Q=ts=>{const{classes:rs,open:ns}=ts;return composeClasses({root:["menuIcon",ns&&"menuOpen"],button:["menuIconButton"]},getDataGridUtilityClass,rs)},ColumnHeaderMenuIcon=reactExports.memo(ts=>{var rs,ns;const{colDef:os,open:ss,columnMenuId:as,columnMenuButtonId:ls,iconButtonRef:cs}=ts,us=useGridApiContext$1(),ds=useGridRootProps$1(),ps=_extends$5({},ts,{classes:ds.classes}),fs=useUtilityClasses$Q(ps),hs=reactExports.useCallback(ms=>{ms.preventDefault(),ms.stopPropagation(),us.current.toggleColumnMenu(os.field)},[us,os.field]);return jsxRuntimeExports.jsx("div",{className:fs.root,children:jsxRuntimeExports.jsx(ds.slots.baseTooltip,_extends$5({title:us.current.getLocaleText("columnMenuLabel"),enterDelay:1e3},(rs=ds.slotProps)==null?void 0:rs.baseTooltip,{children:jsxRuntimeExports.jsx(ds.slots.baseIconButton,_extends$5({ref:cs,tabIndex:-1,className:fs.button,"aria-label":us.current.getLocaleText("columnMenuLabel"),size:"small",onClick:hs,"aria-haspopup":"menu","aria-expanded":ss,"aria-controls":ss?as:void 0,id:ls},(ns=ds.slotProps)==null?void 0:ns.baseIconButton,{children:jsxRuntimeExports.jsx(ds.slots.columnMenuIcon,{fontSize:"small"})}))}))})});function GridColumnHeaderMenu({columnMenuId:ts,columnMenuButtonId:rs,ContentComponent:ns,contentComponentProps:os,field:ss,open:as,target:ls,onExited:cs}){const us=useGridApiContext$1(),ds=us.current.getColumn(ss),ps=useEventCallback(fs=>{fs&&(fs.stopPropagation(),ls!=null&&ls.contains(fs.target))||us.current.hideColumnMenu()});return!ls||!ds?null:jsxRuntimeExports.jsx(GridMenu,{placement:"bottom-".concat(ds.align==="right"?"start":"end"),open:as,target:ls,onClose:ps,onExited:cs,children:jsxRuntimeExports.jsx(ns,_extends$5({colDef:ds,hideMenu:ps,open:as,id:ts,labelledby:rs},os))})}const _excluded$_=["className"],useUtilityClasses$P=ts=>{const{classes:rs}=ts;return composeClasses({root:["columnHeaderTitle"]},getDataGridUtilityClass,rs)},GridColumnHeaderTitleRoot=styled$2("div",{name:"MuiDataGrid",slot:"ColumnHeaderTitle",overridesResolver:(ts,rs)=>rs.columnHeaderTitle})({textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",fontWeight:"var(--unstable_DataGrid-headWeight)"}),ColumnHeaderInnerTitle=reactExports.forwardRef(function(rs,ns){const{className:os}=rs,ss=_objectWithoutPropertiesLoose$1(rs,_excluded$_),as=useGridRootProps$1(),ls=useUtilityClasses$P(as);return jsxRuntimeExports.jsx(GridColumnHeaderTitleRoot,_extends$5({ref:ns,className:clsx$1(ls.root,os),ownerState:as},ss))});function GridColumnHeaderTitle(ts){var rs;const{label:ns,description:os}=ts,ss=useGridRootProps$1(),as=reactExports.useRef(null),[ls,cs]=reactExports.useState(""),us=reactExports.useCallback(()=>{if(!os&&as!=null&&as.current){const ds=isOverflown(as.current);cs(ds?ns:"")}},[os,ns]);return jsxRuntimeExports.jsx(ss.slots.baseTooltip,_extends$5({title:os||ls},(rs=ss.slotProps)==null?void 0:rs.baseTooltip,{children:jsxRuntimeExports.jsx(ColumnHeaderInnerTitle,{onMouseOver:us,ref:as,children:ns})}))}const _excluded$Z=["resizable","resizing","height","side"];var GridColumnHeaderSeparatorSides=function(ts){return ts.Left="left",ts.Right="right",ts}(GridColumnHeaderSeparatorSides||{});const useUtilityClasses$O=ts=>{const{resizable:rs,resizing:ns,classes:os,side:ss}=ts,as={root:["columnSeparator",rs&&"columnSeparator--resizable",ns&&"columnSeparator--resizing",ss&&"columnSeparator--side".concat(capitalize$1(ss))],icon:["iconSeparator"]};return composeClasses(as,getDataGridUtilityClass,os)};function GridColumnHeaderSeparatorRaw(ts){const{height:rs,side:ns=GridColumnHeaderSeparatorSides.Right}=ts,os=_objectWithoutPropertiesLoose$1(ts,_excluded$Z),ss=useGridRootProps$1(),as=_extends$5({},ts,{side:ns,classes:ss.classes}),ls=useUtilityClasses$O(as),cs=reactExports.useCallback(us=>{us.preventDefault(),us.stopPropagation()},[]);return jsxRuntimeExports.jsx("div",_extends$5({className:ls.root,style:{minHeight:rs,opacity:ss.showColumnVerticalBorder?0:1}},os,{onClick:cs,children:jsxRuntimeExports.jsx(ss.slots.columnResizeIcon,{className:ls.icon})}))}const GridColumnHeaderSeparator=reactExports.memo(GridColumnHeaderSeparatorRaw),_excluded$Y=["classes","columnMenuOpen","colIndex","height","isResizing","sortDirection","hasFocus","tabIndex","separatorSide","isDraggable","headerComponent","description","elementId","width","columnMenuIconButton","columnMenu","columnTitleIconButtons","headerClassName","label","resizable","draggableContainerProps","columnHeaderSeparatorProps"],GridGenericColumnHeaderItem=reactExports.forwardRef(function(rs,ns){const{classes:os,columnMenuOpen:ss,colIndex:as,height:ls,isResizing:cs,sortDirection:us,hasFocus:ds,tabIndex:ps,separatorSide:fs,isDraggable:hs,headerComponent:ms,description:gs,width:vs,columnMenuIconButton:bs=null,columnMenu:xs=null,columnTitleIconButtons:ys=null,headerClassName:Ss,label:Cs,resizable:$s,draggableContainerProps:Es,columnHeaderSeparatorProps:ws}=rs,Ts=_objectWithoutPropertiesLoose$1(rs,_excluded$Y),Is=useGridPrivateApiContext$1(),Rs=useGridRootProps$1(),As=reactExports.useRef(null),[ks,Ms]=reactExports.useState(ss),Os=useForkRef(As,ns);let Ds="none";return us!=null&&(Ds=us==="asc"?"ascending":"descending"),reactExports.useEffect(()=>{ks||Ms(ss)},[ks,ss]),reactExports.useLayoutEffect(()=>{const Fs=Is.current.state.columnMenu;if(ds&&!Fs.open){const Ps=As.current.querySelector('[tabindex="0"]')||As.current;Ps==null||Ps.focus(),Is.current.columnHeadersContainerElementRef.current.scrollLeft=0}},[Is,ds]),jsxRuntimeExports.jsxs("div",_extends$5({ref:Os,className:clsx$1(os.root,Ss),style:{height:ls,width:vs,minWidth:vs,maxWidth:vs},role:"columnheader",tabIndex:ps,"aria-colindex":as+1,"aria-sort":Ds,"aria-label":ms==null?Cs:void 0},Ts,{children:[jsxRuntimeExports.jsxs("div",_extends$5({className:os.draggableContainer,draggable:hs,role:"presentation"},Es,{children:[jsxRuntimeExports.jsxs("div",{className:os.titleContainer,role:"presentation",children:[jsxRuntimeExports.jsx("div",{className:os.titleContainerContent,children:ms!==void 0?ms:jsxRuntimeExports.jsx(GridColumnHeaderTitle,{label:Cs,description:gs,columnWidth:vs})}),ys]}),bs]})),jsxRuntimeExports.jsx(GridColumnHeaderSeparator,_extends$5({resizable:!Rs.disableColumnResize&&!!$s,resizing:cs,height:ls,side:fs},ws)),xs]}))}),useUtilityClasses$N=ts=>{const{colDef:rs,classes:ns,isDragging:os,sortDirection:ss,showRightBorder:as,filterItemsCounter:ls}=ts,cs=ss!=null,us=ls!=null&&ls>0,ds=rs.type==="number",ps={root:["columnHeader",rs.headerAlign==="left"&&"columnHeader--alignLeft",rs.headerAlign==="center"&&"columnHeader--alignCenter",rs.headerAlign==="right"&&"columnHeader--alignRight",rs.sortable&&"columnHeader--sortable",os&&"columnHeader--moving",cs&&"columnHeader--sorted",us&&"columnHeader--filtered",ds&&"columnHeader--numeric","withBorderColor",as&&"columnHeader--withRightBorder"],draggableContainer:["columnHeaderDraggableContainer"],titleContainer:["columnHeaderTitleContainer"],titleContainerContent:["columnHeaderTitleContainerContent"]};return composeClasses(ps,getDataGridUtilityClass,ns)};function GridColumnHeaderItem(ts){var rs,ns,os,ss;const{colDef:as,columnMenuOpen:ls,colIndex:cs,headerHeight:us,isResizing:ds,sortDirection:ps,sortIndex:fs,filterItemsCounter:hs,hasFocus:ms,tabIndex:gs,disableReorder:vs,separatorSide:bs}=ts,xs=useGridPrivateApiContext$1(),ys=useGridRootProps$1(),Ss=reactExports.useRef(null),Cs=useId(),$s=useId(),Es=reactExports.useRef(null),[ws,Ts]=reactExports.useState(ls),Is=reactExports.useMemo(()=>!ys.disableColumnReorder&&!vs&&!as.disableReorder,[ys.disableColumnReorder,vs,as.disableReorder]);let Rs;as.renderHeader&&(Rs=as.renderHeader(xs.current.getColumnHeaderParams(as.field)));const As=_extends$5({},ts,{classes:ys.classes,showRightBorder:ys.showColumnVerticalBorder}),ks=useUtilityClasses$N(As),Ms=reactExports.useCallback(zs=>qs=>{isEventTargetInPortal(qs)||xs.current.publishEvent(zs,xs.current.getColumnHeaderParams(as.field),qs)},[xs,as.field]),Os=reactExports.useMemo(()=>({onClick:Ms("columnHeaderClick"),onDoubleClick:Ms("columnHeaderDoubleClick"),onMouseOver:Ms("columnHeaderOver"),onMouseOut:Ms("columnHeaderOut"),onMouseEnter:Ms("columnHeaderEnter"),onMouseLeave:Ms("columnHeaderLeave"),onKeyDown:Ms("columnHeaderKeyDown"),onFocus:Ms("columnHeaderFocus"),onBlur:Ms("columnHeaderBlur")}),[Ms]),Ds=reactExports.useMemo(()=>Is?{onDragStart:Ms("columnHeaderDragStart"),onDragEnter:Ms("columnHeaderDragEnter"),onDragOver:Ms("columnHeaderDragOver"),onDragEnd:Ms("columnHeaderDragEnd")}:{},[Is,Ms]),Fs=reactExports.useMemo(()=>({onMouseDown:Ms("columnSeparatorMouseDown"),onDoubleClick:Ms("columnSeparatorDoubleClick")}),[Ms]);reactExports.useEffect(()=>{ws||Ts(ls)},[ws,ls]);const js=reactExports.useCallback(()=>{Ts(!1)},[]),Ps=!ys.disableColumnMenu&&!as.disableColumnMenu&&jsxRuntimeExports.jsx(ColumnHeaderMenuIcon,{colDef:as,columnMenuId:Cs,columnMenuButtonId:$s,open:ws,iconButtonRef:Es}),Ls=jsxRuntimeExports.jsx(GridColumnHeaderMenu,{columnMenuId:Cs,columnMenuButtonId:$s,field:as.field,open:ls,target:Es.current,ContentComponent:ys.slots.columnMenu,contentComponentProps:(rs=ys.slotProps)==null?void 0:rs.columnMenu,onExited:js}),Ns=(ns=as.sortingOrder)!=null?ns:ys.sortingOrder,Gs=jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[!ys.disableColumnFilter&&jsxRuntimeExports.jsx(ys.slots.columnHeaderFilterIconButton,_extends$5({field:as.field,counter:hs},(os=ys.slotProps)==null?void 0:os.columnHeaderFilterIconButton)),as.sortable&&!as.hideSortIcons&&jsxRuntimeExports.jsx(GridColumnHeaderSortIcon,{direction:ps,index:fs,sortingOrder:Ns})]});reactExports.useLayoutEffect(()=>{const zs=xs.current.state.columnMenu;if(ms&&!zs.open){var qs;const Ks=Ss.current.querySelector('[tabindex="0"]')||Ss.current;Ks==null||Ks.focus(),(qs=xs.current.columnHeadersContainerElementRef)!=null&&qs.current&&(xs.current.columnHeadersContainerElementRef.current.scrollLeft=0)}},[xs,ms]);const Us=typeof as.headerClassName=="function"?as.headerClassName({field:as.field,colDef:as}):as.headerClassName,Hs=(ss=as.headerName)!=null?ss:as.field;return jsxRuntimeExports.jsx(GridGenericColumnHeaderItem,_extends$5({ref:Ss,classes:ks,columnMenuOpen:ls,colIndex:cs,height:us,isResizing:ds,sortDirection:ps,hasFocus:ms,tabIndex:gs,separatorSide:bs,isDraggable:Is,headerComponent:Rs,description:as.description,elementId:as.field,width:as.computedWidth,columnMenuIconButton:Ps,columnTitleIconButtons:Gs,headerClassName:Us,label:Hs,resizable:!ys.disableColumnResize&&!!as.resizable,"data-field":as.field,columnMenu:Ls,draggableContainerProps:Ds,columnHeaderSeparatorProps:Fs},Os))}const getDefaultGridFilterModel=()=>({items:[],logicOperator:GridLogicOperator.And,quickFilterValues:[],quickFilterLogicOperator:GridLogicOperator.And}),CLEANUP_TIMER_LOOP_MILLIS=1e3;class TimerBasedCleanupTracking{constructor(rs=CLEANUP_TIMER_LOOP_MILLIS){this.timeouts=new Map,this.cleanupTimeout=CLEANUP_TIMER_LOOP_MILLIS,this.cleanupTimeout=rs}register(rs,ns,os){this.timeouts||(this.timeouts=new Map);const ss=setTimeout(()=>{typeof ns=="function"&&ns(),this.timeouts.delete(os.cleanupToken)},this.cleanupTimeout);this.timeouts.set(os.cleanupToken,ss)}unregister(rs){const ns=this.timeouts.get(rs.cleanupToken);ns&&(this.timeouts.delete(rs.cleanupToken),clearTimeout(ns))}reset(){this.timeouts&&(this.timeouts.forEach((rs,ns)=>{this.unregister({cleanupToken:ns})}),this.timeouts=void 0)}}class FinalizationRegistryBasedCleanupTracking{constructor(){this.registry=new FinalizationRegistry(rs=>{typeof rs=="function"&&rs()})}register(rs,ns,os){this.registry.register(rs,ns,os)}unregister(rs){this.registry.unregister(rs)}reset(){}}var GridSignature=function(ts){return ts.DataGrid="DataGrid",ts.DataGridPro="DataGridPro",ts}(GridSignature||{});class ObjectToBeRetainedByReact{}function createUseGridApiEventHandler(ts){let rs=0;return function(os,ss,as,ls){ts.registry===null&&(ts.registry=typeof FinalizationRegistry<"u"?new FinalizationRegistryBasedCleanupTracking:new TimerBasedCleanupTracking);const[cs]=reactExports.useState(new ObjectToBeRetainedByReact),us=reactExports.useRef(null),ds=reactExports.useRef();ds.current=as;const ps=reactExports.useRef(null);if(!us.current&&ds.current){const fs=(hs,ms,gs)=>{if(!ms.defaultMuiPrevented){var vs;(vs=ds.current)==null||vs.call(ds,hs,ms,gs)}};us.current=os.current.subscribeEvent(ss,fs,ls),rs+=1,ps.current={cleanupToken:rs},ts.registry.register(cs,()=>{var hs;(hs=us.current)==null||hs.call(us),us.current=null,ps.current=null},ps.current)}else!ds.current&&us.current&&(us.current(),us.current=null,ps.current&&(ts.registry.unregister(ps.current),ps.current=null));reactExports.useEffect(()=>{if(!us.current&&ds.current){const fs=(hs,ms,gs)=>{if(!ms.defaultMuiPrevented){var vs;(vs=ds.current)==null||vs.call(ds,hs,ms,gs)}};us.current=os.current.subscribeEvent(ss,fs,ls)}return ps.current&&ts.registry&&(ts.registry.unregister(ps.current),ps.current=null),()=>{var fs;(fs=us.current)==null||fs.call(us),us.current=null}},[os,ss,ls])}}const registryContainer={registry:null},useGridApiEventHandler=createUseGridApiEventHandler(registryContainer),optionsSubscriberOptions={isFirst:!0};function useGridApiOptionHandler(ts,rs,ns){useGridApiEventHandler(ts,rs,ns,optionsSubscriberOptions)}function useGridLogger(ts,rs){const ns=reactExports.useRef(null);if(ns.current)return ns.current;const os=ts.current.getLogger(rs);return ns.current=os,os}function isNumber$3(ts){return typeof ts=="number"&&!Number.isNaN(ts)}function isFunction$2(ts){return typeof ts=="function"}function isObject$2(ts){return typeof ts=="object"&&ts!==null}function localStorageAvailable(){try{const ts="__some_random_key_you_are_not_going_to_use__";return window.localStorage.setItem(ts,ts),window.localStorage.removeItem(ts),!0}catch{return!1}}function escapeRegExp$1(ts){return ts.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}const clamp$1=(ts,rs,ns)=>Math.max(rs,Math.min(ns,ts));function isDeepEqual(ts,rs){if(ts===rs)return!0;if(ts&&rs&&typeof ts=="object"&&typeof rs=="object"){if(ts.constructor!==rs.constructor)return!1;if(Array.isArray(ts)){const ss=ts.length;if(ss!==rs.length)return!1;for(let as=0;as<ss;as+=1)if(!isDeepEqual(ts[as],rs[as]))return!1;return!0}if(ts instanceof Map&&rs instanceof Map){if(ts.size!==rs.size)return!1;const ss=Array.from(ts.entries());for(let as=0;as<ss.length;as+=1)if(!rs.has(ss[as][0]))return!1;for(let as=0;as<ss.length;as+=1){const ls=ss[as];if(!isDeepEqual(ls[1],rs.get(ls[0])))return!1}return!0}if(ts instanceof Set&&rs instanceof Set){if(ts.size!==rs.size)return!1;const ss=Array.from(ts.entries());for(let as=0;as<ss.length;as+=1)if(!rs.has(ss[as][0]))return!1;return!0}if(ArrayBuffer.isView(ts)&&ArrayBuffer.isView(rs)){const ss=ts.length;if(ss!==rs.length)return!1;for(let as=0;as<ss;as+=1)if(ts[as]!==rs[as])return!1;return!0}if(ts.constructor===RegExp)return ts.source===rs.source&&ts.flags===rs.flags;if(ts.valueOf!==Object.prototype.valueOf)return ts.valueOf()===rs.valueOf();if(ts.toString!==Object.prototype.toString)return ts.toString()===rs.toString();const ns=Object.keys(ts),os=ns.length;if(os!==Object.keys(rs).length)return!1;for(let ss=0;ss<os;ss+=1)if(!Object.prototype.hasOwnProperty.call(rs,ns[ss]))return!1;for(let ss=0;ss<os;ss+=1){const as=ns[ss];if(!isDeepEqual(ts[as],rs[as]))return!1}return!0}return ts!==ts&&rs!==rs}function mulberry32(ts){return()=>{let rs=ts+=1831565813;return rs=Math.imul(rs^rs>>>15,rs|1),rs^=rs+Math.imul(rs^rs>>>7,rs|61),((rs^rs>>>14)>>>0)/4294967296}}function randomNumberBetween(ts,rs,ns){const os=mulberry32(ts);return()=>rs+(ns-rs)*os()}function deepClone(ts){return typeof structuredClone=="function"?structuredClone(ts):JSON.parse(JSON.stringify(ts))}const useGridNativeEventListener=(ts,rs,ns,os,ss)=>{const as=useGridLogger(ts,"useNativeEventListener"),[ls,cs]=reactExports.useState(!1),us=reactExports.useRef(os),ds=reactExports.useCallback(ps=>us.current&&us.current(ps),[]);reactExports.useEffect(()=>{us.current=os},[os]),reactExports.useEffect(()=>{let ps;if(isFunction$2(rs)?ps=rs():ps=rs&&rs.current?rs.current:null,ps&&ns&&!ls){as.debug("Binding native ".concat(ns," event")),ps.addEventListener(ns,ds,ss);const fs=ps;cs(!0);const hs=()=>{as.debug("Clearing native ".concat(ns," event")),fs.removeEventListener(ns,ds,ss)};ts.current.subscribeEvent("unmount",hs)}},[rs,ds,ns,ls,as,ss,ts])},useFirstRender=ts=>{const rs=reactExports.useRef(!0);rs.current&&(rs.current=!1,ts())},MAX_PAGE_SIZE=100,defaultPageSize=ts=>ts?0:100,getPageCount=(ts,rs)=>rs>0&&ts>0?Math.ceil(ts/rs):0;buildWarning(["MUI: the 'rowCount' prop is undefined while using paginationMode='server'","For more detail, see http://mui.com/components/data-grid/pagination/#basic-implementation"],"error");const getDefaultGridPaginationModel=ts=>({page:0,pageSize:ts?0:100}),getValidPage=(ts,rs=0)=>rs===0?ts:Math.max(Math.min(ts,rs-1),0),throwIfPageSizeExceedsTheLimit=(ts,rs)=>{if(rs===GridSignature.DataGrid&&ts>MAX_PAGE_SIZE)throw new Error(["MUI: `pageSize` cannot exceed 100 in the MIT version of the DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock this feature."].join("\n"))},gridPaginationSelector=ts=>ts.pagination,gridPaginationModelSelector=createSelector(gridPaginationSelector,ts=>ts.paginationModel),gridPaginationRowCountSelector=createSelector(gridPaginationSelector,ts=>ts.rowCount),gridPageSelector=createSelector(gridPaginationModelSelector,ts=>ts.page),gridPageSizeSelector=createSelector(gridPaginationModelSelector,ts=>ts.pageSize),gridPageCountSelector=createSelector(gridPageSizeSelector,gridPaginationRowCountSelector,(ts,rs)=>getPageCount(rs,ts)),gridPaginationRowRangeSelector=createSelectorMemoized(gridPaginationModelSelector,gridRowTreeSelector,gridRowMaximumTreeDepthSelector,gridExpandedSortedRowEntriesSelector,gridFilteredSortedTopLevelRowEntriesSelector,(ts,rs,ns,os,ss)=>{const as=ss.length,ls=Math.min(ts.pageSize*ts.page,as-1),cs=Math.min(ls+ts.pageSize-1,as-1);if(ls===-1||cs===-1)return null;if(ns<2)return{firstRowIndex:ls,lastRowIndex:cs};const us=ss[ls],ds=cs-ls+1,ps=os.findIndex(gs=>gs.id===us.id);let fs=ps,hs=0;for(;fs<os.length&&hs<=ds;){var ms;const gs=os[fs],vs=(ms=rs[gs.id])==null?void 0:ms.depth;vs===void 0?fs+=1:((hs<ds||vs>0)&&(fs+=1),vs===0&&(hs+=1))}return{firstRowIndex:ps,lastRowIndex:fs-1}}),gridPaginatedVisibleSortedGridRowEntriesSelector=createSelectorMemoized(gridExpandedSortedRowEntriesSelector,gridPaginationRowRangeSelector,(ts,rs)=>rs?ts.slice(rs.firstRowIndex,rs.lastRowIndex+1):[]),gridPaginatedVisibleSortedGridRowIdsSelector=createSelectorMemoized(gridExpandedSortedRowIdsSelector,gridPaginationRowRangeSelector,(ts,rs)=>rs?ts.slice(rs.firstRowIndex,rs.lastRowIndex+1):[]),gridPreferencePanelStateSelector=ts=>ts.preferencePanel;var GridPreferencePanelsValue=function(ts){return ts.filters="filters",ts.columns="columns",ts}(GridPreferencePanelsValue||{});const gridRowsMetaSelector=ts=>ts.rowsMeta,gridRowSelectionStateSelector=ts=>ts.rowSelection,selectedGridRowsCountSelector=createSelector(gridRowSelectionStateSelector,ts=>ts.length),selectedGridRowsSelector=createSelectorMemoized(gridRowSelectionStateSelector,gridRowsLookupSelector,(ts,rs)=>new Map(ts.map(ns=>[ns,rs[ns]]))),selectedIdsLookupSelector=createSelectorMemoized(gridRowSelectionStateSelector,ts=>ts.reduce((rs,ns)=>(rs[ns]=ns,rs),{})),sortModelDisableMultiColumnsSortingWarning=buildWarning(["MUI: The `sortModel` can only contain a single item when the `disableMultipleColumnsSorting` prop is set to `true`.","If you are using the community version of the `DataGrid`, this prop is always `true`."],"error"),sanitizeSortModel=(ts,rs)=>rs&&ts.length>1?(sortModelDisableMultiColumnsSortingWarning(),[ts[0]]):ts,mergeStateWithSortModel=(ts,rs)=>ns=>_extends$5({},ns,{sorting:_extends$5({},ns.sorting,{sortModel:sanitizeSortModel(ts,rs)})}),isDesc=ts=>ts==="desc",parseSortItem=(ts,rs)=>{const ns=rs.current.getColumn(ts.field);if(!ns)return null;const os=isDesc(ts.sort)?(...as)=>-1*ns.sortComparator(...as):ns.sortComparator;return{getSortCellParams:as=>({id:as,field:ns.field,rowNode:rs.current.getRowNode(as),value:rs.current.getCellValue(as,ns.field),api:rs.current}),comparator:os}},compareRows=(ts,rs,ns)=>ts.reduce((os,ss,as)=>{if(os!==0)return os;const ls=rs.params[as],cs=ns.params[as];return os=ss.comparator(ls.value,cs.value,ls,cs),os},0),buildAggregatedSortingApplier=(ts,rs)=>{const ns=ts.map(os=>parseSortItem(os,rs)).filter(os=>!!os);return ns.length===0?null:os=>os.map(ss=>({node:ss,params:ns.map(as=>as.getSortCellParams(ss.id))})).sort((ss,as)=>compareRows(ns,ss,as)).map(ss=>ss.node.id)},getNextGridSortDirection=(ts,rs)=>{const ns=ts.indexOf(rs);return!rs||ns===-1||ns+1===ts.length?ts[0]:ts[ns+1]},gridNillComparator=(ts,rs)=>ts==null&&rs!=null?-1:rs==null&&ts!=null?1:ts==null&&rs==null?0:null,collator$2=new Intl.Collator,gridStringOrNumberComparator=(ts,rs)=>{const ns=gridNillComparator(ts,rs);return ns!==null?ns:typeof ts=="string"?collator$2.compare(ts.toString(),rs.toString()):ts-rs},gridNumberComparator=(ts,rs)=>{const ns=gridNillComparator(ts,rs);return ns!==null?ns:Number(ts)-Number(rs)},gridDateComparator=(ts,rs)=>{const ns=gridNillComparator(ts,rs);return ns!==null?ns:ts>rs?1:ts<rs?-1:0},unstable_gridHeaderFilteringStateSelector=ts=>ts.headerFiltering,unstable_gridHeaderFilteringEditFieldSelector=createSelector(unstable_gridHeaderFilteringStateSelector,ts=>ts.editing),unstable_gridHeaderFilteringMenuSelector=createSelector(unstable_gridHeaderFilteringStateSelector,ts=>ts.menuOpen),virtualizationStateInitializer=(ts,rs)=>{const ns={enabled:!rs.disableVirtualization,enabledForColumns:!0};return _extends$5({},ts,{virtualization:ns})};function useGridVirtualization(ts,rs){const ns=as=>{ts.current.setState(ls=>_extends$5({},ls,{virtualization:_extends$5({},ls.virtualization,{enabled:as})}))};useGridApiMethod(ts,{unstable_setVirtualization:ns,unstable_setColumnVirtualization:as=>{ts.current.setState(ls=>_extends$5({},ls,{virtualization:_extends$5({},ls.virtualization,{enabledForColumns:as})}))}},"public"),reactExports.useEffect(()=>{ns(!rs.disableVirtualization)},[rs.disableVirtualization])}const gridVirtualizationSelector=ts=>ts.virtualization,gridVirtualizationEnabledSelector=createSelector(gridVirtualizationSelector,ts=>ts.enabled),gridVirtualizationColumnEnabledSelector=createSelector(gridVirtualizationSelector,ts=>ts.enabledForColumns),useUtilityClasses$M=ts=>{const{classes:rs}=ts;return composeClasses({icon:["filterIcon"]},getDataGridUtilityClass,rs)};function GridColumnHeaderFilterIconButton(ts){var rs,ns;const{counter:os,field:ss,onClick:as}=ts,ls=useGridApiContext$1(),cs=useGridRootProps$1(),us=_extends$5({},ts,{classes:cs.classes}),ds=useUtilityClasses$M(us),ps=useGridSelector(ls,gridPreferencePanelStateSelector),fs=useId(),hs=useId(),ms=reactExports.useCallback(bs=>{bs.preventDefault(),bs.stopPropagation();const{open:xs,openedPanelValue:ys}=gridPreferencePanelStateSelector(ls.current.state);xs&&ys===GridPreferencePanelsValue.filters?ls.current.hideFilterPanel():ls.current.showFilterPanel(void 0,hs,fs),as&&as(ls.current.getColumnHeaderParams(ss),bs)},[ls,ss,as,hs,fs]);if(!os)return null;const gs=ps.open&&ps.labelId===fs,vs=jsxRuntimeExports.jsx(cs.slots.baseIconButton,_extends$5({id:fs,onClick:ms,color:"default","aria-label":ls.current.getLocaleText("columnHeaderFiltersLabel"),size:"small",tabIndex:-1,"aria-haspopup":"menu","aria-expanded":gs,"aria-controls":gs?hs:void 0},(rs=cs.slotProps)==null?void 0:rs.baseIconButton,{children:jsxRuntimeExports.jsx(cs.slots.columnFilteredIcon,{className:ds.icon,fontSize:"small"})}));return jsxRuntimeExports.jsx(cs.slots.baseTooltip,_extends$5({title:ls.current.getLocaleText("columnHeaderFiltersTooltipActive")(os),enterDelay:1e3},(ns=cs.slotProps)==null?void 0:ns.baseTooltip,{children:jsxRuntimeExports.jsxs(GridIconButtonContainer,{children:[os>1&&jsxRuntimeExports.jsx(Badge$1,{badgeContent:os,color:"default",children:vs}),os===1&&vs]})}))}const _excluded$X=["field","id","value","formattedValue","row","rowNode","colDef","isEditable","cellMode","hasFocus","tabIndex","api"],useUtilityClasses$L=ts=>{const{classes:rs}=ts;return composeClasses({root:["checkboxInput"]},getDataGridUtilityClass,rs)},GridCellCheckboxForwardRef=reactExports.forwardRef(function(rs,ns){var os;const{field:ss,id:as,value:ls,rowNode:cs,hasFocus:us,tabIndex:ds}=rs,ps=_objectWithoutPropertiesLoose$1(rs,_excluded$X),fs=useGridApiContext$1(),hs=useGridRootProps$1(),ms={classes:hs.classes},gs=useUtilityClasses$L(ms),vs=reactExports.useRef(null),bs=reactExports.useRef(null),xs=useForkRef(vs,ns),ys=fs.current.getCellElement(as,ss),Ss=ws=>{const Ts={value:ws.target.checked,id:as};fs.current.publishEvent("rowSelectionCheckboxChange",Ts,ws)};reactExports.useLayoutEffect(()=>{ds===0&&ys&&(ys.tabIndex=-1)},[ys,ds]),reactExports.useEffect(()=>{if(us){var ws;const Ts=(ws=vs.current)==null?void 0:ws.querySelector("input");Ts==null||Ts.focus({preventScroll:!0})}else bs.current&&bs.current.stop({})},[us]);const Cs=reactExports.useCallback(ws=>{isSpaceKey(ws.key)&&ws.stopPropagation()},[]);if(cs.type==="footer"||cs.type==="pinnedRow")return null;const $s=fs.current.isRowSelectable(as),Es=fs.current.getLocaleText(ls?"checkboxSelectionUnselectRow":"checkboxSelectionSelectRow");return jsxRuntimeExports.jsx(hs.slots.baseCheckbox,_extends$5({ref:xs,tabIndex:ds,checked:ls,onChange:Ss,className:gs.root,inputProps:{"aria-label":Es},onKeyDown:Cs,disabled:!$s,touchRippleRef:bs},(os=hs.slotProps)==null?void 0:os.baseCheckbox,ps))}),GridCellCheckboxRenderer=GridCellCheckboxForwardRef,_excluded$W=["field","colDef"],useUtilityClasses$K=ts=>{const{classes:rs}=ts;return composeClasses({root:["checkboxInput"]},getDataGridUtilityClass,rs)},GridHeaderCheckbox=reactExports.forwardRef(function(rs,ns){var os;const ss=_objectWithoutPropertiesLoose$1(rs,_excluded$W),[,as]=reactExports.useState(!1),ls=useGridApiContext$1(),cs=useGridRootProps$1(),us={classes:cs.classes},ds=useUtilityClasses$K(us),ps=useGridSelector(ls,gridTabIndexColumnHeaderSelector),fs=useGridSelector(ls,gridRowSelectionStateSelector),hs=useGridSelector(ls,gridExpandedSortedRowIdsSelector),ms=useGridSelector(ls,gridPaginatedVisibleSortedGridRowIdsSelector),gs=reactExports.useMemo(()=>typeof cs.isRowSelectable!="function"?fs:fs.filter(Ts=>ls.current.getRow(Ts)?cs.isRowSelectable(ls.current.getRowParams(Ts)):!1),[ls,cs.isRowSelectable,fs]),vs=reactExports.useMemo(()=>(!cs.pagination||!cs.checkboxSelectionVisibleOnly?hs:ms).reduce((Is,Rs)=>(Is[Rs]=!0,Is),{}),[cs.pagination,cs.checkboxSelectionVisibleOnly,ms,hs]),bs=reactExports.useMemo(()=>gs.filter(Ts=>vs[Ts]).length,[gs,vs]),xs=bs>0&&bs<Object.keys(vs).length,ys=bs>0,Ss=Ts=>{const Is={value:Ts.target.checked};ls.current.publishEvent("headerSelectionCheckboxChange",Is)},Cs=ps!==null&&ps.field===rs.field?0:-1;reactExports.useLayoutEffect(()=>{const Ts=ls.current.getColumnHeaderElement(rs.field);Cs===0&&Ts&&(Ts.tabIndex=-1)},[Cs,ls,rs.field]);const $s=reactExports.useCallback(Ts=>{Ts.key===" "&&ls.current.publishEvent("headerSelectionCheckboxChange",{value:!ys})},[ls,ys]),Es=reactExports.useCallback(()=>{as(Ts=>!Ts)},[]);reactExports.useEffect(()=>ls.current.subscribeEvent("rowSelectionChange",Es),[ls,Es]);const ws=ls.current.getLocaleText(ys?"checkboxSelectionUnselectAllRows":"checkboxSelectionSelectAllRows");return jsxRuntimeExports.jsx(cs.slots.baseCheckbox,_extends$5({ref:ns,indeterminate:xs,checked:ys,onChange:Ss,className:ds.root,inputProps:{"aria-label":ws},tabIndex:Cs,onKeyDown:$s},(os=cs.slotProps)==null?void 0:os.baseCheckbox,ss))}),GridArrowUpwardIcon=createSvgIcon$1(jsxRuntimeExports.jsx("path",{d:"M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"}),"ArrowUpward"),GridArrowDownwardIcon=createSvgIcon$1(jsxRuntimeExports.jsx("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownward"),GridKeyboardArrowRight=createSvgIcon$1(jsxRuntimeExports.jsx("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"KeyboardArrowRight"),GridExpandMoreIcon=createSvgIcon$1(jsxRuntimeExports.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore"),GridFilterListIcon=createSvgIcon$1(jsxRuntimeExports.jsx("path",{d:"M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z"}),"FilterList"),GridFilterAltIcon=createSvgIcon$1(jsxRuntimeExports.jsx("path",{d:"M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61z"}),"FilterAlt"),GridSearchIcon=createSvgIcon$1(jsxRuntimeExports.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");createSvgIcon$1(jsxRuntimeExports.jsx("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}),"Menu");createSvgIcon$1(jsxRuntimeExports.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckCircle");const GridColumnIcon=createSvgIcon$1(jsxRuntimeExports.jsx("path",{d:"M6 5H3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1zm14 0h-3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1zm-7 0h-3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1z"}),"ColumnIcon"),GridSeparatorIcon=createSvgIcon$1(jsxRuntimeExports.jsx("path",{d:"M11 19V5h2v14z"}),"Separator"),GridViewHeadlineIcon=createSvgIcon$1(jsxRuntimeExports.jsx("path",{d:"M4 15h16v-2H4v2zm0 4h16v-2H4v2zm0-8h16V9H4v2zm0-6v2h16V5H4z"}),"ViewHeadline"),GridTableRowsIcon=createSvgIcon$1(jsxRuntimeExports.jsx("path",{d:"M21,8H3V4h18V8z M21,10H3v4h18V10z M21,16H3v4h18V16z"}),"TableRows"),GridViewStreamIcon=createSvgIcon$1(jsxRuntimeExports.jsx("path",{d:"M4 18h17v-6H4v6zM4 5v6h17V5H4z"}),"ViewStream"),GridTripleDotsVerticalIcon=createSvgIcon$1(jsxRuntimeExports.jsx("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"TripleDotsVertical"),GridCloseIcon=createSvgIcon$1(jsxRuntimeExports.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),GridAddIcon=createSvgIcon$1(jsxRuntimeExports.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add"),GridRemoveIcon=createSvgIcon$1(jsxRuntimeExports.jsx("path",{d:"M19 13H5v-2h14v2z"}),"Remove"),GridLoadIcon=createSvgIcon$1(jsxRuntimeExports.jsx("path",{d:"M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"}),"Load"),GridDragIcon=createSvgIcon$1(jsxRuntimeExports.jsx("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"Drag"),GridSaveAltIcon=createSvgIcon$1(jsxRuntimeExports.jsx("path",{d:"M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67l2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2z"}),"SaveAlt"),GridCheckIcon=createSvgIcon$1(jsxRuntimeExports.jsx("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),GridMoreVertIcon=createSvgIcon$1(jsxRuntimeExports.jsx("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreVert"),GridVisibilityOffIcon=createSvgIcon$1(jsxRuntimeExports.jsx("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"}),"VisibilityOff"),GridViewColumnIcon=createSvgIcon$1(jsxRuntimeExports.jsx("g",{children:jsxRuntimeExports.jsx("path",{d:"M14.67,5v14H9.33V5H14.67z M15.67,19H21V5h-5.33V19z M8.33,19V5H3v14H8.33z"})}),"ViewColumn"),GridClearIcon=createSvgIcon$1(jsxRuntimeExports.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");createSvgIcon$1(jsxRuntimeExports.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");const GridDeleteForeverIcon=createSvgIcon$1(jsxRuntimeExports.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12l1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"}),"Delete"),_excluded$V=["hideMenu","colDef","id","labelledby","className","children","open"],StyledMenuList=styled$4(MenuList$1)(()=>({minWidth:248})),GridColumnMenuContainer=reactExports.forwardRef(function(rs,ns){const{hideMenu:os,id:ss,labelledby:as,className:ls,children:cs,open:us}=rs,ds=_objectWithoutPropertiesLoose$1(rs,_excluded$V),ps=reactExports.useCallback(fs=>{isTabKey(fs.key)&&fs.preventDefault(),isHideMenuKey(fs.key)&&os(fs)},[os]);return jsxRuntimeExports.jsx(StyledMenuList,_extends$5({id:ss,ref:ns,className:clsx$1(gridClasses.menuList,ls),"aria-labelledby":as,onKeyDown:ps,autoFocus:us},ds,{children:cs}))}),_excluded$U=["displayOrder"],useGridColumnMenuSlots=ts=>{const rs=useGridPrivateApiContext$1(),{defaultSlots:ns,defaultSlotProps:os,slots:ss={},slotProps:as={},hideMenu:ls,colDef:cs,addDividers:us=!0}=ts,ds=reactExports.useMemo(()=>_extends$5({},ns,ss),[ns,ss]),ps=reactExports.useMemo(()=>{if(!as||Object.keys(as).length===0)return os;const ms=_extends$5({},as);return Object.entries(os).forEach(([gs,vs])=>{ms[gs]=_extends$5({},vs,as[gs]||{})}),ms},[os,as]),fs=rs.current.unstable_applyPipeProcessors("columnMenu",[],ts.colDef),hs=reactExports.useMemo(()=>{const ms=Object.keys(ns);return Object.keys(ss).filter(gs=>!ms.includes(gs))},[ss,ns]);return reactExports.useMemo(()=>{const vs=Array.from(new Set([...fs,...hs])).filter(bs=>ds[bs]!=null).sort((bs,xs)=>{const ys=ps[bs],Ss=ps[xs],Cs=Number.isFinite(ys==null?void 0:ys.displayOrder)?ys.displayOrder:100,$s=Number.isFinite(Ss==null?void 0:Ss.displayOrder)?Ss.displayOrder:100;return Cs-$s});return vs.reduce((bs,xs,ys)=>{let Ss={colDef:cs,onClick:ls};const Cs=ps[xs];if(Cs){const $s=_objectWithoutPropertiesLoose$1(Cs,_excluded$U);Ss=_extends$5({},Ss,$s)}return us&&ys!==vs.length-1?[...bs,[ds[xs],Ss],[Divider$1,{}]]:[...bs,[ds[xs],Ss]]},[])},[us,cs,fs,ls,ds,ps,hs])};function GridColumnMenuHideItem(ts){const{colDef:rs,onClick:ns}=ts,os=useGridApiContext$1(),ss=useGridRootProps$1(),cs=gridVisibleColumnDefinitionsSelector(os).filter(ds=>ds.disableColumnMenu!==!0).length===1,us=reactExports.useCallback(ds=>{cs||(os.current.setColumnVisibility(rs.field,!1),ns(ds))},[os,rs.field,ns,cs]);return ss.disableColumnSelector||rs.hideable===!1?null:jsxRuntimeExports.jsxs(MenuItem$1,{onClick:us,disabled:cs,children:[jsxRuntimeExports.jsx(ListItemIcon$1,{children:jsxRuntimeExports.jsx(ss.slots.columnMenuHideIcon,{fontSize:"small"})}),jsxRuntimeExports.jsx(ListItemText$1,{children:os.current.getLocaleText("columnMenuHideColumn")})]})}function GridColumnMenuManageItem(ts){const{onClick:rs}=ts,ns=useGridApiContext$1(),os=useGridRootProps$1(),ss=reactExports.useCallback(as=>{rs(as),ns.current.showPreferences(GridPreferencePanelsValue.columns)},[ns,rs]);return os.disableColumnSelector?null:jsxRuntimeExports.jsxs(MenuItem$1,{onClick:ss,children:[jsxRuntimeExports.jsx(ListItemIcon$1,{children:jsxRuntimeExports.jsx(os.slots.columnMenuManageColumnsIcon,{fontSize:"small"})}),jsxRuntimeExports.jsx(ListItemText$1,{children:ns.current.getLocaleText("columnMenuManageColumns")})]})}function GridColumnMenuColumnsItem(ts){return jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx(GridColumnMenuHideItem,_extends$5({},ts)),jsxRuntimeExports.jsx(GridColumnMenuManageItem,_extends$5({},ts))]})}function GridColumnMenuFilterItem(ts){const{colDef:rs,onClick:ns}=ts,os=useGridApiContext$1(),ss=useGridRootProps$1(),as=reactExports.useCallback(ls=>{ns(ls),os.current.showFilterPanel(rs.field)},[os,rs.field,ns]);return ss.disableColumnFilter||!rs.filterable?null:jsxRuntimeExports.jsxs(MenuItem$1,{onClick:as,children:[jsxRuntimeExports.jsx(ListItemIcon$1,{children:jsxRuntimeExports.jsx(ss.slots.columnMenuFilterIcon,{fontSize:"small"})}),jsxRuntimeExports.jsx(ListItemText$1,{children:os.current.getLocaleText("columnMenuFilter")})]})}function GridColumnMenuSortItem(ts){var rs;const{colDef:ns,onClick:os}=ts,ss=useGridApiContext$1(),as=useGridSelector(ss,gridSortModelSelector),ls=useGridRootProps$1(),cs=reactExports.useMemo(()=>{if(!ns)return null;const fs=as.find(hs=>hs.field===ns.field);return fs==null?void 0:fs.sort},[ns,as]),us=(rs=ns.sortingOrder)!=null?rs:ls.sortingOrder,ds=reactExports.useCallback(fs=>{os(fs);const hs=fs.currentTarget.getAttribute("data-value")||null;ss.current.sortColumn(ns,hs===cs?null:hs)},[ss,ns,os,cs]);if(!ns||!ns.sortable||!us.some(fs=>!!fs))return null;const ps=fs=>{const hs=ss.current.getLocaleText(fs);return typeof hs=="function"?hs(ns):hs};return jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[us.includes("asc")&&cs!=="asc"?jsxRuntimeExports.jsxs(MenuItem$1,{onClick:ds,"data-value":"asc",children:[jsxRuntimeExports.jsx(ListItemIcon$1,{children:jsxRuntimeExports.jsx(ls.slots.columnMenuSortAscendingIcon,{fontSize:"small"})}),jsxRuntimeExports.jsx(ListItemText$1,{children:ps("columnMenuSortAsc")})]}):null,us.includes("desc")&&cs!=="desc"?jsxRuntimeExports.jsxs(MenuItem$1,{onClick:ds,"data-value":"desc",children:[jsxRuntimeExports.jsx(ListItemIcon$1,{children:jsxRuntimeExports.jsx(ls.slots.columnMenuSortDescendingIcon,{fontSize:"small"})}),jsxRuntimeExports.jsx(ListItemText$1,{children:ps("columnMenuSortDesc")})]}):null,us.includes(null)&&cs!=null?jsxRuntimeExports.jsxs(MenuItem$1,{onClick:ds,children:[jsxRuntimeExports.jsx(ListItemIcon$1,{}),jsxRuntimeExports.jsx(ListItemText$1,{children:ss.current.getLocaleText("columnMenuUnsort")})]}):null]})}const _excluded$T=["defaultSlots","defaultSlotProps","slots","slotProps"],GRID_COLUMN_MENU_SLOTS={columnMenuSortItem:GridColumnMenuSortItem,columnMenuFilterItem:GridColumnMenuFilterItem,columnMenuColumnsItem:GridColumnMenuColumnsItem},GRID_COLUMN_MENU_SLOT_PROPS={columnMenuSortItem:{displayOrder:10},columnMenuFilterItem:{displayOrder:20},columnMenuColumnsItem:{displayOrder:30}},GridGenericColumnMenu=reactExports.forwardRef(function(rs,ns){const{defaultSlots:os,defaultSlotProps:ss,slots:as,slotProps:ls}=rs,cs=_objectWithoutPropertiesLoose$1(rs,_excluded$T),us=useGridColumnMenuSlots(_extends$5({},cs,{defaultSlots:os,defaultSlotProps:ss,slots:as,slotProps:ls}));return jsxRuntimeExports.jsx(GridColumnMenuContainer,_extends$5({ref:ns},cs,{children:us.map(([ds,ps],fs)=>jsxRuntimeExports.jsx(ds,_extends$5({},ps),fs))}))}),GridColumnMenu=reactExports.forwardRef(function(rs,ns){return jsxRuntimeExports.jsx(GridGenericColumnMenu,_extends$5({},rs,{ref:ns,defaultSlots:GRID_COLUMN_MENU_SLOTS,defaultSlotProps:GRID_COLUMN_MENU_SLOT_PROPS}))}),_excluded$S=["className"],useUtilityClasses$J=ts=>{const{classes:rs}=ts;return composeClasses({root:["panelContent"]},getDataGridUtilityClass,rs)},GridPanelContentRoot=styled$2("div",{name:"MuiDataGrid",slot:"PanelContent",overridesResolver:(ts,rs)=>rs.panelContent})({display:"flex",flexDirection:"column",overflow:"auto",flex:"1 1",maxHeight:400});function GridPanelContent(ts){const{className:rs}=ts,ns=_objectWithoutPropertiesLoose$1(ts,_excluded$S),os=useGridRootProps$1(),ss=useUtilityClasses$J(os);return jsxRuntimeExports.jsx(GridPanelContentRoot,_extends$5({className:clsx$1(rs,ss.root),ownerState:os},ns))}const _excluded$R=["className"],useUtilityClasses$I=ts=>{const{classes:rs}=ts;return composeClasses({root:["panelFooter"]},getDataGridUtilityClass,rs)},GridPanelFooterRoot=styled$2("div",{name:"MuiDataGrid",slot:"PanelFooter",overridesResolver:(ts,rs)=>rs.panelFooter})(({theme:ts})=>({padding:ts.spacing(.5),display:"flex",justifyContent:"space-between"}));function GridPanelFooter(ts){const{className:rs}=ts,ns=_objectWithoutPropertiesLoose$1(ts,_excluded$R),os=useGridRootProps$1(),ss=useUtilityClasses$I(os);return jsxRuntimeExports.jsx(GridPanelFooterRoot,_extends$5({className:clsx$1(rs,ss.root),ownerState:os},ns))}const _excluded$Q=["className"],useUtilityClasses$H=ts=>{const{classes:rs}=ts;return composeClasses({root:["panelHeader"]},getDataGridUtilityClass,rs)},GridPanelHeaderRoot=styled$2("div",{name:"MuiDataGrid",slot:"PanelHeader",overridesResolver:(ts,rs)=>rs.panelHeader})(({theme:ts})=>({padding:ts.spacing(1)}));function GridPanelHeader(ts){const{className:rs}=ts,ns=_objectWithoutPropertiesLoose$1(ts,_excluded$Q),os=useGridRootProps$1(),ss=useUtilityClasses$H(os);return jsxRuntimeExports.jsx(GridPanelHeaderRoot,_extends$5({className:clsx$1(rs,ss.root),ownerState:os},ns))}const _excluded$P=["className","slotProps"],useUtilityClasses$G=ts=>{const{classes:rs}=ts;return composeClasses({root:["panelWrapper"]},getDataGridUtilityClass,rs)},GridPanelWrapperRoot=styled$4("div",{name:"MuiDataGrid",slot:"PanelWrapper",overridesResolver:(ts,rs)=>rs.panelWrapper})({display:"flex",flexDirection:"column",flex:1,"&:focus":{outline:0}}),isEnabled=()=>!0,GridPanelWrapper=reactExports.forwardRef(function(rs,ns){const{className:os,slotProps:ss={}}=rs,as=_objectWithoutPropertiesLoose$1(rs,_excluded$P),ls=useGridRootProps$1(),cs=useUtilityClasses$G(ls);return jsxRuntimeExports.jsx(FocusTrap,_extends$5({open:!0,disableEnforceFocus:!0,isEnabled},ss.TrapFocus,{children:jsxRuntimeExports.jsx(GridPanelWrapperRoot,_extends$5({ref:ns,tabIndex:-1,className:clsx$1(os,cs.root),ownerState:ls},as))}))}),GRID_EXPERIMENTAL_ENABLED=!1,_excluded$O=["sort","searchPredicate","autoFocusSearchField","disableHideAllButton","disableShowAllButton","getTogglableColumns"],useUtilityClasses$F=ts=>{const{classes:rs}=ts;return composeClasses({root:["columnsPanel"],columnsPanelRow:["columnsPanelRow"]},getDataGridUtilityClass,rs)},GridColumnsPanelRoot=styled$4("div",{name:"MuiDataGrid",slot:"ColumnsPanel",overridesResolver:(ts,rs)=>rs.columnsPanel})({padding:"8px 0px 8px 8px"}),GridColumnsPanelRowRoot=styled$4("div",{name:"MuiDataGrid",slot:"ColumnsPanelRow",overridesResolver:(ts,rs)=>rs.columnsPanelRow})(({theme:ts})=>({display:"flex",justifyContent:"space-between",padding:"1px 8px 1px 7px",["& .".concat(switchClasses$1.root)]:{marginRight:ts.spacing(.5)}})),GridIconButtonRoot=styled$4(IconButton$2)({justifyContent:"flex-end"}),collator$1=new Intl.Collator,defaultSearchPredicate=(ts,rs)=>(ts.headerName||ts.field).toLowerCase().indexOf(rs)>-1;function GridColumnsPanel(ts){var rs,ns,os;const ss=useGridApiContext$1(),as=reactExports.useRef(null),ls=useGridSelector(ss,gridColumnDefinitionsSelector),cs=useGridSelector(ss,gridColumnVisibilityModelSelector),us=useGridRootProps$1(),[ds,ps]=reactExports.useState(""),fs=useUtilityClasses$F(us),{sort:hs,searchPredicate:ms=defaultSearchPredicate,autoFocusSearchField:gs=!0,disableHideAllButton:vs=!1,disableShowAllButton:bs=!1,getTogglableColumns:xs}=ts,ys=_objectWithoutPropertiesLoose$1(ts,_excluded$O),Ss=reactExports.useMemo(()=>{switch(hs){case"asc":return[...ls].sort((As,ks)=>collator$1.compare(As.headerName||As.field,ks.headerName||ks.field));case"desc":return[...ls].sort((As,ks)=>-collator$1.compare(As.headerName||As.field,ks.headerName||ks.field));default:return ls}},[ls,hs]),Cs=As=>{const{name:ks}=As.target;ss.current.setColumnVisibility(ks,cs[ks]===!1)},$s=reactExports.useCallback(As=>{const ks=gridColumnVisibilityModelSelector(ss),Ms=_extends$5({},ks),Os=xs?xs(ls):null;return ls.forEach(Ds=>{Ds.hideable&&(Os==null||Os.includes(Ds.field))&&(As?delete Ms[Ds.field]:Ms[Ds.field]=!1)}),ss.current.setColumnVisibilityModel(Ms)},[ss,ls,xs]),Es=reactExports.useCallback(As=>{ps(As.target.value)},[]),ws=reactExports.useMemo(()=>{const As=xs?xs(Ss):null,ks=As?Ss.filter(({field:Ms})=>As.includes(Ms)):Ss;return ds?ks.filter(Ms=>ms(Ms,ds.toLowerCase())):ks},[Ss,ds,ms,xs]),Ts=reactExports.useRef(null);reactExports.useEffect(()=>{gs?as.current.focus():Ts.current&&typeof Ts.current.focus=="function"&&Ts.current.focus()},[gs]);let Is=!1;const Rs=As=>Is===!1&&As.hideable!==!1?(Is=!0,!0):!1;return jsxRuntimeExports.jsxs(GridPanelWrapper,_extends$5({},ys,{children:[jsxRuntimeExports.jsx(GridPanelHeader,{children:jsxRuntimeExports.jsx(us.slots.baseTextField,_extends$5({label:ss.current.getLocaleText("columnsPanelTextFieldLabel"),placeholder:ss.current.getLocaleText("columnsPanelTextFieldPlaceholder"),inputRef:as,value:ds,onChange:Es,variant:"standard",fullWidth:!0},(rs=us.slotProps)==null?void 0:rs.baseTextField))}),jsxRuntimeExports.jsx(GridPanelContent,{children:jsxRuntimeExports.jsx(GridColumnsPanelRoot,{className:fs.root,ownerState:us,children:ws.map(As=>{var ks;return jsxRuntimeExports.jsxs(GridColumnsPanelRowRoot,{className:fs.columnsPanelRow,ownerState:us,children:[jsxRuntimeExports.jsx(FormControlLabel$1,{control:jsxRuntimeExports.jsx(us.slots.baseSwitch,_extends$5({disabled:As.hideable===!1,checked:cs[As.field]!==!1,onClick:Cs,name:As.field,size:"small",inputRef:Rs(As)?Ts:void 0},(ks=us.slotProps)==null?void 0:ks.baseSwitch)),label:As.headerName||As.field}),!us.disableColumnReorder&&GRID_EXPERIMENTAL_ENABLED&&jsxRuntimeExports.jsx(GridIconButtonRoot,{draggable:!0,"aria-label":ss.current.getLocaleText("columnsPanelDragIconLabel"),title:ss.current.getLocaleText("columnsPanelDragIconLabel"),size:"small",disabled:!0,children:jsxRuntimeExports.jsx(us.slots.columnReorderIcon,{})})]},As.field)})})}),bs&&vs?null:jsxRuntimeExports.jsxs(GridPanelFooter,{children:[vs?jsxRuntimeExports.jsx("span",{}):jsxRuntimeExports.jsx(us.slots.baseButton,_extends$5({onClick:()=>$s(!1)},(ns=us.slotProps)==null?void 0:ns.baseButton,{disabled:vs,children:ss.current.getLocaleText("columnsPanelHideAllButton")})),bs?null:jsxRuntimeExports.jsx(us.slots.baseButton,_extends$5({onClick:()=>$s(!0)},(os=us.slotProps)==null?void 0:os.baseButton,{disabled:bs,children:ss.current.getLocaleText("columnsPanelShowAllButton")}))]})]}))}const _excluded$N=["children","className","classes"],gridPanelClasses=generateUtilityClasses("MuiDataGrid",["panel","paper"]),GridPanelRoot=styled$4(Popper$2,{name:"MuiDataGrid",slot:"Panel",overridesResolver:(ts,rs)=>rs.panel})(({theme:ts})=>({zIndex:ts.zIndex.modal})),GridPaperRoot=styled$4(Paper$1,{name:"MuiDataGrid",slot:"Paper",overridesResolver:(ts,rs)=>rs.paper})(({theme:ts})=>({backgroundColor:(ts.vars||ts).palette.background.paper,minWidth:300,maxHeight:450,display:"flex"})),GridPanel=reactExports.forwardRef((ts,rs)=>{const{children:ns,className:os}=ts,ss=_objectWithoutPropertiesLoose$1(ts,_excluded$N),as=useGridApiContext$1(),ls=useGridRootProps$1(),cs=gridPanelClasses,[us,ds]=reactExports.useState(!1),ps=reactExports.useCallback(()=>{as.current.hidePreferences()},[as]),fs=reactExports.useCallback(vs=>{isEscapeKey(vs.key)&&as.current.hidePreferences()},[as]),hs=reactExports.useMemo(()=>[{name:"flip",enabled:!0,options:{rootBoundary:"document"}},{name:"isPlaced",enabled:!0,phase:"main",fn:()=>{ds(!0)},effect:()=>()=>{ds(!1)}}],[]),[ms,gs]=reactExports.useState(null);return reactExports.useEffect(()=>{var vs;const bs=(vs=as.current.rootElementRef)==null||(vs=vs.current)==null?void 0:vs.querySelector(".".concat(gridClasses.columnHeaders));bs&&gs(bs)},[as]),ms?jsxRuntimeExports.jsx(GridPanelRoot,_extends$5({ref:rs,placement:"bottom-start",className:clsx$1(os,cs.panel),ownerState:ls,anchorEl:ms,modifiers:hs},ss,{children:jsxRuntimeExports.jsx(ClickAwayListener,{mouseEvent:"onMouseUp",onClickAway:ps,children:jsxRuntimeExports.jsx(GridPaperRoot,{className:cs.paper,ownerState:ls,elevation:8,onKeyDown:fs,children:us&&ns})})})):null}),GridPreferencesPanel=reactExports.forwardRef(function(rs,ns){var os,ss,as;const ls=useGridApiContext$1(),cs=useGridSelector(ls,gridColumnDefinitionsSelector),us=useGridRootProps$1(),ds=useGridSelector(ls,gridPreferencePanelStateSelector),ps=ls.current.unstable_applyPipeProcessors("preferencePanel",null,(os=ds.openedPanelValue)!=null?os:GridPreferencePanelsValue.filters);return jsxRuntimeExports.jsx(us.slots.panel,_extends$5({ref:ns,as:us.slots.basePopper,open:cs.length>0&&ds.open,id:ds.panelId,"aria-labelledby":ds.labelId},(ss=us.slotProps)==null?void 0:ss.panel,rs,(as=us.slotProps)==null?void 0:as.basePopper,{children:ps}))}),_excluded$M=["item","hasMultipleFilters","deleteFilter","applyFilterChanges","multiFilterOperator","showMultiFilterOperators","disableMultiFilterOperator","applyMultiFilterOperatorChanges","focusElementRef","logicOperators","columnsSort","filterColumns","deleteIconProps","logicOperatorInputProps","operatorInputProps","columnInputProps","valueInputProps","children"],_excluded2$4=["InputComponentProps"],useUtilityClasses$E=ts=>{const{classes:rs}=ts;return composeClasses({root:["filterForm"],deleteIcon:["filterFormDeleteIcon"],logicOperatorInput:["filterFormLogicOperatorInput"],columnInput:["filterFormColumnInput"],operatorInput:["filterFormOperatorInput"],valueInput:["filterFormValueInput"]},getDataGridUtilityClass,rs)},GridFilterFormRoot=styled$4("div",{name:"MuiDataGrid",slot:"FilterForm",overridesResolver:(ts,rs)=>rs.filterForm})(({theme:ts})=>({display:"flex",padding:ts.spacing(1)})),FilterFormDeleteIcon=styled$4("div",{name:"MuiDataGrid",slot:"FilterFormDeleteIcon",overridesResolver:(ts,rs)=>rs.filterFormDeleteIcon})(({theme:ts})=>({flexShrink:0,justifyContent:"flex-end",marginRight:ts.spacing(.5),marginBottom:ts.spacing(.2)})),FilterFormLogicOperatorInput=styled$4("div",{name:"MuiDataGrid",slot:"FilterFormLogicOperatorInput",overridesResolver:(ts,rs)=>rs.filterFormLogicOperatorInput})({minWidth:55,marginRight:5,justifyContent:"end"}),FilterFormColumnInput=styled$4("div",{name:"MuiDataGrid",slot:"FilterFormColumnInput",overridesResolver:(ts,rs)=>rs.filterFormColumnInput})({width:150}),FilterFormOperatorInput=styled$4("div",{name:"MuiDataGrid",slot:"FilterFormOperatorInput",overridesResolver:(ts,rs)=>rs.filterFormOperatorInput})({width:120}),FilterFormValueInput=styled$4("div",{name:"MuiDataGrid",slot:"FilterFormValueInput",overridesResolver:(ts,rs)=>rs.filterFormValueInput})({width:190}),getLogicOperatorLocaleKey=ts=>{switch(ts){case GridLogicOperator.And:return"filterPanelOperatorAnd";case GridLogicOperator.Or:return"filterPanelOperatorOr";default:throw new Error("MUI: Invalid `logicOperator` property in the `GridFilterPanel`.")}},getColumnLabel=ts=>ts.headerName||ts.field,collator=new Intl.Collator,GridFilterForm=reactExports.forwardRef(function(rs,ns){var os,ss,as,ls,cs,us,ds,ps,fs,hs;const{item:ms,hasMultipleFilters:gs,deleteFilter:vs,applyFilterChanges:bs,multiFilterOperator:xs,showMultiFilterOperators:ys,disableMultiFilterOperator:Ss,applyMultiFilterOperatorChanges:Cs,focusElementRef:$s,logicOperators:Es=[GridLogicOperator.And,GridLogicOperator.Or],columnsSort:ws,filterColumns:Ts,deleteIconProps:Is={},logicOperatorInputProps:Rs={},operatorInputProps:As={},columnInputProps:ks={},valueInputProps:Ms={}}=rs,Os=_objectWithoutPropertiesLoose$1(rs,_excluded$M),Ds=useGridApiContext$1(),Fs=useGridSelector(Ds,gridFilterableColumnDefinitionsSelector),js=useGridSelector(Ds,gridFilterModelSelector),Ps=useId(),Ls=useId(),Ns=useId(),Gs=useId(),Us=useGridRootProps$1(),Hs=useUtilityClasses$E(Us),zs=reactExports.useRef(null),qs=reactExports.useRef(null),Vs=gs&&Es.length>0,Ks=((os=Us.slotProps)==null?void 0:os.baseFormControl)||{},Pl=(as=(((ss=Us.slotProps)==null?void 0:ss.baseSelect)||{}).native)!=null?as:!0,Tl=((ls=Us.slotProps)==null?void 0:ls.baseInputLabel)||{},El=((cs=Us.slotProps)==null?void 0:cs.baseSelectOption)||{},{InputComponentProps:$l}=Ms,Sl=_objectWithoutPropertiesLoose$1(Ms,_excluded2$4),Ml=reactExports.useMemo(()=>{if(Ts===void 0||typeof Ts!="function")return Fs;const Cl=Ts({field:ms.field,columns:Fs,currentFilters:(js==null?void 0:js.items)||[]});return Fs.filter(Xs=>Cl.includes(Xs.field))},[Ts,js==null?void 0:js.items,Fs,ms.field]),wl=reactExports.useMemo(()=>{switch(ws){case"asc":return Ml.sort((Cl,Xs)=>collator.compare(getColumnLabel(Cl),getColumnLabel(Xs)));case"desc":return Ml.sort((Cl,Xs)=>-collator.compare(getColumnLabel(Cl),getColumnLabel(Xs)));default:return Ml}},[Ml,ws]),Rl=ms.field?Ds.current.getColumn(ms.field):null,yl=reactExports.useMemo(()=>{var Cl;return!ms.operator||!Rl?null:(Cl=Rl.filterOperators)==null?void 0:Cl.find(Xs=>Xs.value===ms.operator)},[ms,Rl]),Bs=reactExports.useCallback(Cl=>{const Xs=Cl.target.value,xl=Ds.current.getColumn(Xs);if(xl.field===Rl.field)return;const $a=xl.filterOperators.find(Ol=>Ol.value===ms.operator)||xl.filterOperators[0],Dl=!$a.InputComponent||$a.InputComponent!==(yl==null?void 0:yl.InputComponent)||xl.type!==Rl.type;bs(_extends$5({},ms,{field:Xs,operator:$a.value,value:Dl?void 0:ms.value}))},[Ds,bs,ms,Rl,yl]),Zs=reactExports.useCallback(Cl=>{const Xs=Cl.target.value,xl=Rl==null?void 0:Rl.filterOperators.find(Dl=>Dl.value===Xs),$a=!(xl!=null&&xl.InputComponent)||(xl==null?void 0:xl.InputComponent)!==(yl==null?void 0:yl.InputComponent);bs(_extends$5({},ms,{operator:Xs,value:$a?void 0:ms.value}))},[bs,ms,Rl,yl]),Ys=reactExports.useCallback(Cl=>{const Xs=Cl.target.value===GridLogicOperator.And.toString()?GridLogicOperator.And:GridLogicOperator.Or;Cs(Xs)},[Cs]),_l=()=>{Us.disableMultipleColumnsFiltering?ms.value===void 0?vs(ms):bs(_extends$5({},ms,{value:void 0})):vs(ms)};return reactExports.useImperativeHandle($s,()=>({focus:()=>{if(yl!=null&&yl.InputComponent){var Cl;zs==null||(Cl=zs.current)==null||Cl.focus()}else qs.current.focus()}}),[yl]),jsxRuntimeExports.jsxs(GridFilterFormRoot,_extends$5({ref:ns,className:Hs.root,"data-id":ms.id,ownerState:Us},Os,{children:[jsxRuntimeExports.jsx(FilterFormDeleteIcon,_extends$5({variant:"standard",as:Us.slots.baseFormControl},Ks,Is,{className:clsx$1(Hs.deleteIcon,Ks.className,Is.className),ownerState:Us,children:jsxRuntimeExports.jsx(Us.slots.baseIconButton,_extends$5({"aria-label":Ds.current.getLocaleText("filterPanelDeleteIconLabel"),title:Ds.current.getLocaleText("filterPanelDeleteIconLabel"),onClick:_l,size:"small"},(us=Us.slotProps)==null?void 0:us.baseIconButton,{children:jsxRuntimeExports.jsx(Us.slots.filterPanelDeleteIcon,{fontSize:"small"})}))})),jsxRuntimeExports.jsx(FilterFormLogicOperatorInput,_extends$5({variant:"standard",as:Us.slots.baseFormControl},Ks,Rs,{sx:_extends$5({display:Vs?"flex":"none",visibility:ys?"visible":"hidden"},Ks.sx||{},Rs.sx||{}),className:clsx$1(Hs.logicOperatorInput,Ks.className,Rs.className),ownerState:Us,children:jsxRuntimeExports.jsx(Us.slots.baseSelect,_extends$5({inputProps:{"aria-label":Ds.current.getLocaleText("filterPanelLogicOperator")},value:xs,onChange:Ys,disabled:!!Ss||Es.length===1,native:Pl},(ds=Us.slotProps)==null?void 0:ds.baseSelect,{children:Es.map(Cl=>reactExports.createElement(Us.slots.baseSelectOption,_extends$5({},El,{native:Pl,key:Cl.toString(),value:Cl.toString()}),Ds.current.getLocaleText(getLogicOperatorLocaleKey(Cl))))}))})),jsxRuntimeExports.jsxs(FilterFormColumnInput,_extends$5({variant:"standard",as:Us.slots.baseFormControl},Ks,ks,{className:clsx$1(Hs.columnInput,Ks.className,ks.className),ownerState:Us,children:[jsxRuntimeExports.jsx(Us.slots.baseInputLabel,_extends$5({},Tl,{htmlFor:Ps,id:Ls,children:Ds.current.getLocaleText("filterPanelColumns")})),jsxRuntimeExports.jsx(Us.slots.baseSelect,_extends$5({labelId:Ls,id:Ps,label:Ds.current.getLocaleText("filterPanelColumns"),value:ms.field||"",onChange:Bs,native:Pl},(ps=Us.slotProps)==null?void 0:ps.baseSelect,{children:wl.map(Cl=>reactExports.createElement(Us.slots.baseSelectOption,_extends$5({},El,{native:Pl,key:Cl.field,value:Cl.field}),getColumnLabel(Cl)))}))]})),jsxRuntimeExports.jsxs(FilterFormOperatorInput,_extends$5({variant:"standard",as:Us.slots.baseFormControl},Ks,As,{className:clsx$1(Hs.operatorInput,Ks.className,As.className),ownerState:Us,children:[jsxRuntimeExports.jsx(Us.slots.baseInputLabel,_extends$5({},Tl,{htmlFor:Ns,id:Gs,children:Ds.current.getLocaleText("filterPanelOperator")})),jsxRuntimeExports.jsx(Us.slots.baseSelect,_extends$5({labelId:Gs,label:Ds.current.getLocaleText("filterPanelOperator"),id:Ns,value:ms.operator,onChange:Zs,native:Pl,inputRef:qs},(fs=Us.slotProps)==null?void 0:fs.baseSelect,{children:Rl==null||(hs=Rl.filterOperators)==null?void 0:hs.map(Cl=>reactExports.createElement(Us.slots.baseSelectOption,_extends$5({},El,{native:Pl,key:Cl.value,value:Cl.value}),Cl.label||Ds.current.getLocaleText("filterOperator".concat(capitalize$1(Cl.value)))))}))]})),jsxRuntimeExports.jsx(FilterFormValueInput,_extends$5({variant:"standard",as:Us.slots.baseFormControl},Ks,Sl,{className:clsx$1(Hs.valueInput,Ks.className,Sl.className),ownerState:Us,children:yl!=null&&yl.InputComponent?jsxRuntimeExports.jsx(yl.InputComponent,_extends$5({apiRef:Ds,item:ms,applyValue:bs,focusElementRef:zs},yl.InputComponentProps,$l)):null}))]}))});class Timeout{constructor(){this.currentId=0,this.clear=()=>{this.currentId!==0&&(clearTimeout(this.currentId),this.currentId=0)},this.disposeEffect=()=>this.clear}static create(){return new Timeout}start(rs,ns){this.clear(),this.currentId=setTimeout(ns,rs)}}function useTimeout(){const ts=useLazyRef(Timeout.create).current;return useOnMount(ts.disposeEffect),ts}const _excluded$L=["item","applyValue","type","apiRef","focusElementRef","tabIndex","disabled","isFilterActive","clearButton","InputProps","variant"];function GridFilterInputValue(ts){var rs,ns;const{item:os,applyValue:ss,type:as,apiRef:ls,focusElementRef:cs,tabIndex:us,disabled:ds,clearButton:ps,InputProps:fs,variant:hs="standard"}=ts,ms=_objectWithoutPropertiesLoose$1(ts,_excluded$L),gs=useTimeout(),[vs,bs]=reactExports.useState((rs=os.value)!=null?rs:""),[xs,ys]=reactExports.useState(!1),Ss=useId(),Cs=useGridRootProps$1(),$s=reactExports.useCallback(Es=>{const{value:ws}=Es.target;bs(String(ws)),ys(!0),gs.start(Cs.filterDebounceMs,()=>{const Ts=_extends$5({},os,{value:ws,fromInput:Ss});ss(Ts),ys(!1)})},[Ss,ss,os,Cs.filterDebounceMs,gs]);return reactExports.useEffect(()=>{if(os.fromInput!==Ss||os.value===void 0){var ws;bs(String((ws=os.value)!=null?ws:""))}},[Ss,os]),jsxRuntimeExports.jsx(Cs.slots.baseTextField,_extends$5({id:Ss,label:ls.current.getLocaleText("filterPanelInputLabel"),placeholder:ls.current.getLocaleText("filterPanelInputPlaceholder"),value:vs,onChange:$s,variant:hs,type:as||"text",InputProps:_extends$5({},xs||ps?{endAdornment:xs?jsxRuntimeExports.jsx(Cs.slots.loadIcon,{fontSize:"small",color:"action"}):ps}:{},{disabled:ds},fs,{inputProps:_extends$5({tabIndex:us},fs==null?void 0:fs.inputProps)}),InputLabelProps:{shrink:!0},inputRef:cs},ms,(ns=Cs.slotProps)==null?void 0:ns.baseTextField))}const _excluded$K=["item","applyValue","type","apiRef","focusElementRef","InputProps","isFilterActive","clearButton","tabIndex","disabled"];function GridFilterInputDate(ts){var rs,ns;const{item:os,applyValue:ss,type:as,apiRef:ls,focusElementRef:cs,InputProps:us,clearButton:ds,tabIndex:ps,disabled:fs}=ts,hs=_objectWithoutPropertiesLoose$1(ts,_excluded$K),ms=useTimeout(),[gs,vs]=reactExports.useState((rs=os.value)!=null?rs:""),[bs,xs]=reactExports.useState(!1),ys=useId(),Ss=useGridRootProps$1(),Cs=reactExports.useCallback($s=>{const Es=$s.target.value;vs(String(Es)),xs(!0),ms.start(Ss.filterDebounceMs,()=>{ss(_extends$5({},os,{value:Es})),xs(!1)})},[ss,os,Ss.filterDebounceMs,ms]);return reactExports.useEffect(()=>{var $s;const Es=($s=os.value)!=null?$s:"";vs(String(Es))},[os.value]),jsxRuntimeExports.jsx(Ss.slots.baseTextField,_extends$5({fullWidth:!0,id:ys,label:ls.current.getLocaleText("filterPanelInputLabel"),placeholder:ls.current.getLocaleText("filterPanelInputPlaceholder"),value:gs,onChange:Cs,variant:"standard",type:as||"text",InputLabelProps:{shrink:!0},inputRef:cs,InputProps:_extends$5({},bs||ds?{endAdornment:bs?jsxRuntimeExports.jsx(Ss.slots.loadIcon,{fontSize:"small",color:"action"}):ds}:{},{disabled:fs},us,{inputProps:_extends$5({max:as==="datetime-local"?"9999-12-31T23:59":"9999-12-31",tabIndex:ps},us==null?void 0:us.inputProps)})},hs,(ns=Ss.slotProps)==null?void 0:ns.baseTextField))}const _excluded$J=["item","applyValue","type","apiRef","focusElementRef","getOptionLabel","getOptionValue","placeholder","tabIndex","label","variant","isFilterActive","clearButton","InputLabelProps"],renderSingleSelectOptions=({column:{valueOptions:ts,field:rs},OptionComponent:ns,getOptionLabel:os,getOptionValue:ss,isSelectNative:as,baseSelectOptionProps:ls})=>(typeof ts=="function"?["",...ts({field:rs})]:["",...ts||[]]).map(us=>{const ds=ss(us),ps=os(us);return reactExports.createElement(ns,_extends$5({},ls,{native:as,key:ds,value:ds}),ps)}),SingleSelectOperatorContainer=styled$4("div")({display:"flex",alignItems:"flex-end",width:"100%","& button":{margin:"auto 0px 5px 5px"}});function GridFilterInputSingleSelect(ts){var rs,ns,os,ss,as,ls,cs,us;const{item:ds,applyValue:ps,type:fs,apiRef:hs,focusElementRef:ms,getOptionLabel:gs,getOptionValue:vs,placeholder:bs,tabIndex:xs,label:ys,variant:Ss="standard",clearButton:Cs}=ts,$s=_objectWithoutPropertiesLoose$1(ts,_excluded$J),[Es,ws]=reactExports.useState((rs=ds.value)!=null?rs:""),Ts=useId(),Is=useId(),Rs=useGridRootProps$1(),As=(ns=(os=Rs.slotProps)==null||(os=os.baseSelect)==null?void 0:os.native)!=null?ns:!0;let ks=null;if(ds.field){const Ps=hs.current.getColumn(ds.field);isSingleSelectColDef(Ps)&&(ks=Ps)}const Ms=vs||((ss=ks)==null?void 0:ss.getOptionValue),Os=gs||((as=ks)==null?void 0:as.getOptionLabel),Ds=reactExports.useMemo(()=>{if(ks)return typeof ks.valueOptions=="function"?ks.valueOptions({field:ks.field}):ks.valueOptions},[ks]),Fs=reactExports.useCallback(Ps=>{let Ls=Ps.target.value;Ls=getValueFromValueOptions(Ls,Ds,Ms),ws(String(Ls)),ps(_extends$5({},ds,{value:Ls}))},[Ds,Ms,ps,ds]);if(reactExports.useEffect(()=>{var Ps;let Ls;if(Ds!==void 0){if(Ls=getValueFromValueOptions(ds.value,Ds,Ms),Ls!==ds.value){ps(_extends$5({},ds,{value:Ls}));return}}else Ls=ds.value;Ls=(Ps=Ls)!=null?Ps:"",ws(String(Ls))},[ds,Ds,ps,Ms]),!isSingleSelectColDef(ks)||!isSingleSelectColDef(ks))return null;const js=ys!=null?ys:hs.current.getLocaleText("filterPanelInputLabel");return jsxRuntimeExports.jsxs(SingleSelectOperatorContainer,{children:[jsxRuntimeExports.jsxs(Rs.slots.baseFormControl,{children:[jsxRuntimeExports.jsx(Rs.slots.baseInputLabel,_extends$5({},(ls=Rs.slotProps)==null?void 0:ls.baseInputLabel,{id:Is,htmlFor:Ts,shrink:!0,variant:Ss,children:js})),jsxRuntimeExports.jsx(Rs.slots.baseSelect,_extends$5({id:Ts,label:js,labelId:Is,value:Es,onChange:Fs,variant:Ss,type:fs||"text",inputProps:{tabIndex:xs,ref:ms,placeholder:bs!=null?bs:hs.current.getLocaleText("filterPanelInputPlaceholder")},native:As,notched:Ss==="outlined"?!0:void 0},$s,(cs=Rs.slotProps)==null?void 0:cs.baseSelect,{children:renderSingleSelectOptions({column:ks,OptionComponent:Rs.slots.baseSelectOption,getOptionLabel:Os,getOptionValue:Ms,isSelectNative:As,baseSelectOptionProps:(us=Rs.slotProps)==null?void 0:us.baseSelectOption})}))]}),Cs]})}const _excluded$I=["item","applyValue","apiRef","focusElementRef","isFilterActive","clearButton","tabIndex","label","variant","InputLabelProps"],BooleanOperatorContainer=styled$4("div")({display:"flex",alignItems:"center",width:"100%","& button":{margin:"auto 0px 5px 5px"}});function GridFilterInputBoolean(ts){var rs,ns,os,ss;const{item:as,applyValue:ls,apiRef:cs,focusElementRef:us,clearButton:ds,tabIndex:ps,label:fs,variant:hs="standard"}=ts,ms=_objectWithoutPropertiesLoose$1(ts,_excluded$I),[gs,vs]=reactExports.useState(as.value||""),bs=useGridRootProps$1(),xs=useId(),ys=useId(),Ss=((rs=bs.slotProps)==null?void 0:rs.baseSelect)||{},Cs=(ns=Ss.native)!=null?ns:!0,$s=((os=bs.slotProps)==null?void 0:os.baseSelectOption)||{},Es=reactExports.useCallback(Ts=>{const Is=Ts.target.value;vs(Is),ls(_extends$5({},as,{value:Is}))},[ls,as]);reactExports.useEffect(()=>{vs(as.value||"")},[as.value]);const ws=fs!=null?fs:cs.current.getLocaleText("filterPanelInputLabel");return jsxRuntimeExports.jsxs(BooleanOperatorContainer,{children:[jsxRuntimeExports.jsxs(bs.slots.baseFormControl,{fullWidth:!0,children:[jsxRuntimeExports.jsx(bs.slots.baseInputLabel,_extends$5({},(ss=bs.slotProps)==null?void 0:ss.baseInputLabel,{id:xs,shrink:!0,variant:hs,children:ws})),jsxRuntimeExports.jsxs(bs.slots.baseSelect,_extends$5({labelId:xs,id:ys,label:ws,value:gs,onChange:Es,variant:hs,notched:hs==="outlined"?!0:void 0,native:Cs,displayEmpty:!0,inputProps:{ref:us,tabIndex:ps}},ms,Ss,{children:[jsxRuntimeExports.jsx(bs.slots.baseSelectOption,_extends$5({},$s,{native:Cs,value:"",children:cs.current.getLocaleText("filterValueAny")})),jsxRuntimeExports.jsx(bs.slots.baseSelectOption,_extends$5({},$s,{native:Cs,value:"true",children:cs.current.getLocaleText("filterValueTrue")})),jsxRuntimeExports.jsx(bs.slots.baseSelectOption,_extends$5({},$s,{native:Cs,value:"false",children:cs.current.getLocaleText("filterValueFalse")}))]}))]}),ds]})}const _excluded$H=["logicOperators","columnsSort","filterFormProps","getColumnForNewFilter","children","disableAddFilterButton","disableRemoveAllButton"],getGridFilter=ts=>({field:ts.field,operator:ts.filterOperators[0].value,id:Math.round(Math.random()*1e5)}),GridFilterPanel=reactExports.forwardRef(function(rs,ns){var os,ss;const as=useGridApiContext$1(),ls=useGridRootProps$1(),cs=useGridSelector(as,gridFilterModelSelector),us=useGridSelector(as,gridFilterableColumnDefinitionsSelector),ds=reactExports.useRef(null),ps=reactExports.useRef(null),{logicOperators:fs=[GridLogicOperator.And,GridLogicOperator.Or],columnsSort:hs,filterFormProps:ms,getColumnForNewFilter:gs,disableAddFilterButton:vs=!1,disableRemoveAllButton:bs=!1}=rs,xs=_objectWithoutPropertiesLoose$1(rs,_excluded$H),ys=as.current.upsertFilterItem,Ss=reactExports.useCallback(As=>{as.current.setFilterLogicOperator(As)},[as]),Cs=reactExports.useCallback(()=>{let As;if(gs&&typeof gs=="function"){const ks=gs({currentFilters:(cs==null?void 0:cs.items)||[],columns:us});if(ks===null)return null;As=us.find(({field:Ms})=>Ms===ks)}else As=us.find(ks=>{var Ms;return(Ms=ks.filterOperators)==null?void 0:Ms.length});return As?getGridFilter(As):null},[cs==null?void 0:cs.items,us,gs]),$s=reactExports.useCallback(()=>{if(gs===void 0||typeof gs!="function")return Cs();const As=cs.items.length?cs.items:[Cs()].filter(Boolean),ks=gs({currentFilters:As,columns:us});if(ks===null)return null;const Ms=us.find(({field:Os})=>Os===ks);return Ms?getGridFilter(Ms):null},[cs.items,us,gs,Cs]),Es=reactExports.useMemo(()=>cs.items.length?cs.items:(ps.current||(ps.current=Cs()),ps.current?[ps.current]:[]),[cs.items,Cs]),ws=Es.length>1,Ts=()=>{const As=$s();As&&as.current.upsertFilterItems([...Es,As])},Is=reactExports.useCallback(As=>{const ks=Es.length===1;as.current.deleteFilterItem(As),ks&&as.current.hideFilterPanel()},[as,Es.length]),Rs=()=>{Es.length===1&&Es[0].value===void 0&&(as.current.deleteFilterItem(Es[0]),as.current.hideFilterPanel()),as.current.setFilterModel(_extends$5({},cs,{items:[]}))};return reactExports.useEffect(()=>{fs.length>0&&cs.logicOperator&&!fs.includes(cs.logicOperator)&&Ss(fs[0])},[fs,Ss,cs.logicOperator]),reactExports.useEffect(()=>{Es.length>0&&ds.current.focus()},[Es.length]),jsxRuntimeExports.jsxs(GridPanelWrapper,_extends$5({ref:ns},xs,{children:[jsxRuntimeExports.jsx(GridPanelContent,{children:Es.map((As,ks)=>jsxRuntimeExports.jsx(GridFilterForm,_extends$5({item:As,applyFilterChanges:ys,deleteFilter:Is,hasMultipleFilters:ws,showMultiFilterOperators:ks>0,multiFilterOperator:cs.logicOperator,disableMultiFilterOperator:ks!==1,applyMultiFilterOperatorChanges:Ss,focusElementRef:ks===Es.length-1?ds:null,logicOperators:fs,columnsSort:hs},ms),As.id==null?ks:As.id))}),!ls.disableMultipleColumnsFiltering&&!(vs&&bs)?jsxRuntimeExports.jsxs(GridPanelFooter,{children:[vs?jsxRuntimeExports.jsx("span",{}):jsxRuntimeExports.jsx(ls.slots.baseButton,_extends$5({onClick:Ts,startIcon:jsxRuntimeExports.jsx(ls.slots.filterPanelAddIcon,{})},(os=ls.slotProps)==null?void 0:os.baseButton,{children:as.current.getLocaleText("filterPanelAddFilter")})),bs?null:jsxRuntimeExports.jsx(ls.slots.baseButton,_extends$5({onClick:Rs,startIcon:jsxRuntimeExports.jsx(ls.slots.filterPanelRemoveAllIcon,{})},(ss=ls.slotProps)==null?void 0:ss.baseButton,{children:as.current.getLocaleText("filterPanelRemoveAll")}))]}):null]}))}),_excluded$G=["item","applyValue","type","apiRef","focusElementRef","color","error","helperText","size","variant"];function GridFilterInputMultipleValue(ts){const{item:rs,applyValue:ns,type:os,apiRef:ss,focusElementRef:as,color:ls,error:cs,helperText:us,size:ds,variant:ps}=ts,fs=_objectWithoutPropertiesLoose$1(ts,_excluded$G),hs={color:ls,error:cs,helperText:us,size:ds,variant:ps},[ms,gs]=reactExports.useState(rs.value||[]),vs=useId(),bs=useGridRootProps$1();reactExports.useEffect(()=>{var ys;const Ss=(ys=rs.value)!=null?ys:[];gs(Ss.map(String))},[rs.value]);const xs=reactExports.useCallback((ys,Ss)=>{gs(Ss.map(String)),ns(_extends$5({},rs,{value:[...Ss]}))},[ns,rs]);return jsxRuntimeExports.jsx(Autocomplete$1,_extends$5({multiple:!0,freeSolo:!0,options:[],filterOptions:(ys,Ss)=>{const{inputValue:Cs}=Ss;return Cs==null||Cs===""?[]:[Cs]},id:vs,value:ms,onChange:xs,renderTags:(ys,Ss)=>ys.map((Cs,$s)=>jsxRuntimeExports.jsx(bs.slots.baseChip,_extends$5({variant:"outlined",size:"small",label:Cs},Ss({index:$s})))),renderInput:ys=>{var Ss;return jsxRuntimeExports.jsx(bs.slots.baseTextField,_extends$5({},ys,{label:ss.current.getLocaleText("filterPanelInputLabel"),placeholder:ss.current.getLocaleText("filterPanelInputPlaceholder"),InputLabelProps:_extends$5({},ys.InputLabelProps,{shrink:!0}),inputRef:as,type:os||"text"},hs,(Ss=bs.slotProps)==null?void 0:Ss.baseTextField))}},fs))}const _excluded$F=["item","applyValue","type","apiRef","focusElementRef","color","error","helperText","size","variant","getOptionLabel","getOptionValue"],filter=createFilterOptions();function GridFilterInputMultipleSingleSelect(ts){var rs,ns;const{item:os,applyValue:ss,apiRef:as,focusElementRef:ls,color:cs,error:us,helperText:ds,size:ps,variant:fs="standard",getOptionLabel:hs,getOptionValue:ms}=ts,gs=_objectWithoutPropertiesLoose$1(ts,_excluded$F),vs={color:cs,error:us,helperText:ds,size:ps,variant:fs},bs=useId(),xs=useGridRootProps$1();let ys=null;if(os.field){const Rs=as.current.getColumn(os.field);isSingleSelectColDef(Rs)&&(ys=Rs)}const Ss=ms||((rs=ys)==null?void 0:rs.getOptionValue),Cs=hs||((ns=ys)==null?void 0:ns.getOptionLabel),$s=reactExports.useCallback((Rs,As)=>Ss(Rs)===Ss(As),[Ss]),Es=reactExports.useMemo(()=>{var Rs;return(Rs=ys)!=null&&Rs.valueOptions?typeof ys.valueOptions=="function"?ys.valueOptions({field:ys.field}):ys.valueOptions:[]},[ys]),ws=reactExports.useMemo(()=>Es==null?void 0:Es.map(Ss),[Es,Ss]),Ts=reactExports.useMemo(()=>Array.isArray(os.value)?Es!==void 0?os.value.map(As=>ws==null?void 0:ws.findIndex(ks=>ks===As)).filter(As=>As>=0).map(As=>Es[As]):os.value:[],[os.value,Es,ws]);reactExports.useEffect(()=>{(!Array.isArray(os.value)||Ts.length!==os.value.length)&&ss(_extends$5({},os,{value:Ts.map(Ss)}))},[os,Ts,ss,Ss]);const Is=reactExports.useCallback((Rs,As)=>{ss(_extends$5({},os,{value:As.map(Ss)}))},[ss,os,Ss]);return jsxRuntimeExports.jsx(Autocomplete$1,_extends$5({multiple:!0,options:Es,isOptionEqualToValue:$s,filterOptions:filter,id:bs,value:Ts,onChange:Is,getOptionLabel:Cs,renderTags:(Rs,As)=>Rs.map((ks,Ms)=>jsxRuntimeExports.jsx(xs.slots.baseChip,_extends$5({variant:"outlined",size:"small",label:Cs(ks)},As({index:Ms})))),renderInput:Rs=>{var As;return jsxRuntimeExports.jsx(xs.slots.baseTextField,_extends$5({},Rs,{label:as.current.getLocaleText("filterPanelInputLabel"),placeholder:as.current.getLocaleText("filterPanelInputPlaceholder"),InputLabelProps:_extends$5({},Rs.InputLabelProps,{shrink:!0}),inputRef:ls,type:"singleSelect"},vs,(As=xs.slotProps)==null?void 0:As.baseTextField))}},gs))}const _excluded$E=["hideMenu","options"],_excluded2$3=["hideMenu","options"];function GridCsvExportMenuItem(ts){const rs=useGridApiContext$1(),{hideMenu:ns,options:os}=ts,ss=_objectWithoutPropertiesLoose$1(ts,_excluded$E);return jsxRuntimeExports.jsx(MenuItem$1,_extends$5({onClick:()=>{rs.current.exportDataAsCsv(os),ns==null||ns()}},ss,{children:rs.current.getLocaleText("toolbarExportCSV")}))}function GridPrintExportMenuItem(ts){const rs=useGridApiContext$1(),{hideMenu:ns,options:os}=ts,ss=_objectWithoutPropertiesLoose$1(ts,_excluded2$3);return jsxRuntimeExports.jsx(MenuItem$1,_extends$5({onClick:()=>{rs.current.exportDataAsPrint(os),ns==null||ns()}},ss,{children:rs.current.getLocaleText("toolbarExportPrint")}))}const _excluded$D=["className","selectedRowCount"],useUtilityClasses$D=ts=>{const{classes:rs}=ts;return composeClasses({root:["selectedRowCount"]},getDataGridUtilityClass,rs)},GridSelectedRowCountRoot=styled$2("div",{name:"MuiDataGrid",slot:"SelectedRowCount",overridesResolver:(ts,rs)=>rs.selectedRowCount})(({theme:ts})=>({alignItems:"center",display:"flex",margin:ts.spacing(0,2),visibility:"hidden",width:0,height:0,[ts.breakpoints.up("sm")]:{visibility:"visible",width:"auto",height:"auto"}})),GridSelectedRowCount=reactExports.forwardRef(function(rs,ns){const{className:os,selectedRowCount:ss}=rs,as=_objectWithoutPropertiesLoose$1(rs,_excluded$D),ls=useGridApiContext$1(),cs=useGridRootProps$1(),us=useUtilityClasses$D(cs),ds=ls.current.getLocaleText("footerRowSelected")(ss);return jsxRuntimeExports.jsx(GridSelectedRowCountRoot,_extends$5({ref:ns,className:clsx$1(us.root,os),ownerState:cs},as,{children:ds}))}),GridFooter=reactExports.forwardRef(function(rs,ns){var os,ss;const as=useGridApiContext$1(),ls=useGridRootProps$1(),cs=useGridSelector(as,gridTopLevelRowCountSelector),us=useGridSelector(as,selectedGridRowsCountSelector),ds=useGridSelector(as,gridFilteredTopLevelRowCountSelector),ps=!ls.hideFooterSelectedRowCount&&us>0?jsxRuntimeExports.jsx(GridSelectedRowCount,{selectedRowCount:us}):jsxRuntimeExports.jsx("div",{}),fs=!ls.hideFooterRowCount&&!ls.pagination?jsxRuntimeExports.jsx(ls.slots.footerRowCount,_extends$5({},(os=ls.slotProps)==null?void 0:os.footerRowCount,{rowCount:cs,visibleRowCount:ds})):null,hs=ls.pagination&&!ls.hideFooterPagination&&ls.slots.pagination&&jsxRuntimeExports.jsx(ls.slots.pagination,_extends$5({},(ss=ls.slotProps)==null?void 0:ss.pagination));return jsxRuntimeExports.jsxs(GridFooterContainer,_extends$5({ref:ns},rs,{children:[ps,fs,hs]}))});function GridHeader(){var ts,rs;const ns=useGridRootProps$1();return jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx(ns.slots.preferencesPanel,_extends$5({},(ts=ns.slotProps)==null?void 0:ts.preferencesPanel)),ns.slots.toolbar&&jsxRuntimeExports.jsx(ns.slots.toolbar,_extends$5({},(rs=ns.slotProps)==null?void 0:rs.toolbar))]})}const GridLoadingOverlay=reactExports.forwardRef(function(rs,ns){return jsxRuntimeExports.jsx(GridOverlay,_extends$5({ref:ns},rs,{children:jsxRuntimeExports.jsx(CircularProgress$1,{})}))}),GridNoRowsOverlay=reactExports.forwardRef(function(rs,ns){const ss=useGridApiContext$1().current.getLocaleText("noRowsLabel");return jsxRuntimeExports.jsx(GridOverlay,_extends$5({ref:ns},rs,{children:ss}))}),GridPaginationRoot=styled$4(TablePagination$1)(({theme:ts})=>({["& .".concat(tablePaginationClasses$1.selectLabel)]:{display:"none",[ts.breakpoints.up("sm")]:{display:"block"}},["& .".concat(tablePaginationClasses$1.input)]:{display:"none",[ts.breakpoints.up("sm")]:{display:"inline-flex"}}})),GridPagination=reactExports.forwardRef(function(rs,ns){const os=useGridApiContext$1(),ss=useGridRootProps$1(),as=useGridSelector(os,gridPaginationModelSelector),ls=useGridSelector(os,gridPaginationRowCountSelector),cs=reactExports.useMemo(()=>Math.floor(ls/(as.pageSize||1)),[ls,as.pageSize]),us=reactExports.useCallback(hs=>{const ms=Number(hs.target.value);os.current.setPageSize(ms)},[os]),ds=reactExports.useCallback((hs,ms)=>{os.current.setPage(ms)},[os]),fs=(hs=>{for(let ms=0;ms<ss.pageSizeOptions.length;ms+=1){const gs=ss.pageSizeOptions[ms];if(typeof gs=="number"){if(gs===hs)return!0}else if(gs.value===hs)return!0}return!1})(as.pageSize)?ss.pageSizeOptions:[];return jsxRuntimeExports.jsx(GridPaginationRoot,_extends$5({ref:ns,component:"div",count:ls,page:as.page<=cs?as.page:cs,rowsPerPageOptions:fs,rowsPerPage:as.pageSize,onPageChange:ds,onRowsPerPageChange:us},os.current.getLocaleText("MuiTablePagination"),rs))}),_excluded$C=["className","rowCount","visibleRowCount"],useUtilityClasses$C=ts=>{const{classes:rs}=ts;return composeClasses({root:["rowCount"]},getDataGridUtilityClass,rs)},GridRowCountRoot=styled$2("div",{name:"MuiDataGrid",slot:"RowCount",overridesResolver:(ts,rs)=>rs.rowCount})(({theme:ts})=>({alignItems:"center",display:"flex",margin:ts.spacing(0,2)})),GridRowCount=reactExports.forwardRef(function(rs,ns){const{className:os,rowCount:ss,visibleRowCount:as}=rs,ls=_objectWithoutPropertiesLoose$1(rs,_excluded$C),cs=useGridApiContext$1(),us=useGridRootProps$1(),ds=useUtilityClasses$C(us);if(ss===0)return null;const ps=as<ss?cs.current.getLocaleText("footerTotalVisibleRows")(as,ss):ss.toLocaleString();return jsxRuntimeExports.jsxs(GridRowCountRoot,_extends$5({ref:ns,className:clsx$1(ds.root,os),ownerState:us},ls,{children:[cs.current.getLocaleText("footerTotalRows")," ",ps]}))}),getVisibleRows=(ts,rs)=>{let ns,os;return rs.pagination&&rs.paginationMode==="client"?(os=gridPaginationRowRangeSelector(ts),ns=gridPaginatedVisibleSortedGridRowEntriesSelector(ts)):(ns=gridExpandedSortedRowEntriesSelector(ts),ns.length===0?os=null:os={firstRowIndex:0,lastRowIndex:ns.length-1}),{rows:ns,range:os}},useGridVisibleRows=(ts,rs)=>{const ns=getVisibleRows(ts,rs);return reactExports.useMemo(()=>({rows:ns.rows,range:ns.range}),[ns.rows,ns.range])},GLOBAL_API_REF={current:null};function tagInternalFilter(ts){return ts.isInternal=!0,ts}function isInternalFilter(ts){return ts!==void 0&&ts.isInternal===!0}function convertFilterV7ToLegacy(ts){return tagInternalFilter((rs,ns)=>{const os=ts(rs,ns);return os&&(ss=>os(ss.value,ss.row,ns,GLOBAL_API_REF.current))})}function convertLegacyOperators(ts){return ts.map(rs=>_extends$5({},rs,{getApplyFilterFn:convertFilterV7ToLegacy(rs.getApplyFilterFnV7),getApplyFilterFnV7:tagInternalFilter(rs.getApplyFilterFnV7)}))}function convertQuickFilterV7ToLegacy(ts){return tagInternalFilter((rs,ns,os)=>{const ss=ts(rs,ns,os);return ss&&(as=>ss(as.value,as.row,ns,os))})}function getPublicApiRef(ts){return{current:ts.current.getPublicApi()}}let hasEval;function getHasEval(){if(hasEval!==void 0)return hasEval;try{hasEval=new Function("return true")()}catch{hasEval=!1}return hasEval}const cleanFilterItem=(ts,rs)=>{const ns=_extends$5({},ts);if(ns.id==null&&(ns.id=Math.round(Math.random()*1e5)),ns.operator==null){const os=gridColumnLookupSelector(rs)[ns.field];ns.operator=os&&os.filterOperators[0].value}return ns},filterModelDisableMultiColumnsFilteringWarning=buildWarning(["MUI: The `filterModel` can only contain a single item when the `disableMultipleColumnsFiltering` prop is set to `true`.","If you are using the community version of the `DataGrid`, this prop is always `true`."],"error"),filterModelMissingItemIdWarning=buildWarning("MUI: The `id` field is required on `filterModel.items` when you use multiple filters.","error"),filterModelMissingItemOperatorWarning=buildWarning("MUI: The `operator` field is required on `filterModel.items`, one or more of your filtering item has no `operator` provided.","error"),sanitizeFilterModel=(ts,rs,ns)=>{const os=ts.items.length>1;let ss;os&&rs?(filterModelDisableMultiColumnsFilteringWarning(),ss=[ts.items[0]]):ss=ts.items;const as=os&&ss.some(cs=>cs.id==null),ls=ss.some(cs=>cs.operator==null);return as&&filterModelMissingItemIdWarning(),ls&&filterModelMissingItemOperatorWarning(),ls||as?_extends$5({},ts,{items:ss.map(cs=>cleanFilterItem(cs,ns))}):ts.items!==ss?_extends$5({},ts,{items:ss}):ts},mergeStateWithFilterModel=(ts,rs,ns)=>os=>_extends$5({},os,{filterModel:sanitizeFilterModel(ts,rs,ns)}),removeDiacritics=ts=>typeof ts=="string"?ts.normalize("NFD").replace(/[\u0300-\u036f]/g,""):ts,getFilterCallbackFromItem=(ts,rs)=>{if(!ts.field||!ts.operator)return null;const ns=rs.current.getColumn(ts.field);if(!ns)return null;let os;if(ns.valueParser){var ss;const ms=ns.valueParser;os=Array.isArray(ts.value)?(ss=ts.value)==null?void 0:ss.map(gs=>ms(gs)):ms(ts.value)}else os=ts.value;const{ignoreDiacritics:as}=rs.current.rootProps;as&&(os=removeDiacritics(os));const ls=_extends$5({},ts,{value:os}),cs=ns.filterOperators;if(!(cs!=null&&cs.length))throw new Error("MUI: No filter operators found for column '".concat(ns.field,"'."));const us=cs.find(ms=>ms.value===ls.operator);if(!us)throw new Error("MUI: No filter operator found for column '".concat(ns.field,"' and operator value '").concat(ls.operator,"'."));const ds=!isInternalFilter(us.getApplyFilterFn),ps=!isInternalFilter(us.getApplyFilterFnV7),fs=getPublicApiRef(rs);if(us.getApplyFilterFnV7&&!(ds&&!ps)){const ms=us.getApplyFilterFnV7(ls,ns);return typeof ms!="function"?null:{v7:!0,item:ls,fn:gs=>{let vs=rs.current.getRowValue(gs,ns);return as&&(vs=removeDiacritics(vs)),ms(vs,gs,ns,fs)}}}const hs=us.getApplyFilterFn(ls,ns);return typeof hs!="function"?null:{v7:!1,item:ls,fn:ms=>{const gs=rs.current.getCellParams(ms,ls.field);GLOBAL_API_REF.current=fs,as&&(gs.value=removeDiacritics(gs.value));const vs=hs(gs);return GLOBAL_API_REF.current=null,vs}}};let filterItemsApplierId=1;const buildAggregatedFilterItemsApplier=(ts,rs,ns)=>{const{items:os}=ts,ss=os.map(cs=>getFilterCallbackFromItem(cs,rs)).filter(cs=>!!cs);if(ss.length===0)return null;if(ns||!getHasEval())return(cs,us)=>{const ds={};for(let ps=0;ps<ss.length;ps+=1){const fs=ss[ps];(!us||us(fs.item.field))&&(ds[fs.item.id]=fs.v7?fs.fn(cs):fs.fn(rs.current.getRowId(cs)))}return ds};const as=new Function("getRowId","appliers","row","shouldApplyFilter",'"use strict";\n'.concat(ss.map((cs,us)=>"const shouldApply".concat(us," = !shouldApplyFilter || shouldApplyFilter(").concat(JSON.stringify(cs.item.field),");")).join("\n"),"\n\nconst result$$ = {\n").concat(ss.map((cs,us)=>"  ".concat(JSON.stringify(String(cs.item.id)),": !shouldApply").concat(us,"\n    ? false\n    : ").concat(cs.v7?"appliers[".concat(us,"].fn(row)"):"appliers[".concat(us,"].fn(getRowId(row))"),",")).join("\n"),"\n};\n\nreturn result$$;").replaceAll("$$",String(filterItemsApplierId)));return filterItemsApplierId+=1,(cs,us)=>as(rs.current.getRowId,ss,cs,us)},buildAggregatedQuickFilterApplier=(ts,rs)=>{var ns,os,ss;const as=(ns=(os=ts.quickFilterValues)==null?void 0:os.filter(Boolean))!=null?ns:[];if(as.length===0)return null;const cs=((ss=ts.quickFilterExcludeHiddenColumns)!=null?ss:!1)?gridVisibleColumnFieldsSelector(rs):gridColumnFieldsSelector(rs),us=[],{ignoreDiacritics:ds}=rs.current.rootProps,ps=getPublicApiRef(rs);return cs.forEach(fs=>{const hs=rs.current.getColumn(fs),ms=hs==null?void 0:hs.getApplyQuickFilterFn,gs=hs==null?void 0:hs.getApplyQuickFilterFnV7,vs=!isInternalFilter(ms),bs=!isInternalFilter(gs);gs&&!(vs&&!bs)?us.push({column:hs,appliers:as.map(xs=>{const ys=ds?removeDiacritics(xs):xs;return{v7:!0,fn:gs(ys,hs,ps)}})}):ms&&us.push({column:hs,appliers:as.map(xs=>{const ys=ds?removeDiacritics(xs):xs;return{v7:!1,fn:ms(ys,hs,ps)}})})}),function(hs,ms){const gs={},vs={};e:for(let xs=0;xs<as.length;xs+=1){const ys=as[xs];for(let Ss=0;Ss<us.length;Ss+=1){const{column:Cs,appliers:$s}=us[Ss],{field:Es}=Cs;if(ms&&!ms(Es))continue;const ws=$s[xs];let Ts=rs.current.getRowValue(hs,Cs);if(ws.fn!==null)if(ws.v7){if(ds&&(Ts=removeDiacritics(Ts)),ws.fn(Ts,hs,Cs,ps)){gs[ys]=!0;continue e}}else{var bs;const Is=(bs=vs[Es])!=null?bs:rs.current.getCellParams(rs.current.getRowId(hs),Es);if(ds&&(Is.value=removeDiacritics(Is.value)),vs[Es]=Is,ws.fn(Is)){gs[ys]=!0;continue e}}}gs[ys]=!1}return gs}},buildAggregatedFilterApplier=(ts,rs,ns)=>{const os=buildAggregatedFilterItemsApplier(ts,rs,ns),ss=buildAggregatedQuickFilterApplier(ts,rs);return function(ls,cs,us){var ds,ps;us.passingFilterItems=(ds=os==null?void 0:os(ls,cs))!=null?ds:null,us.passingQuickFilterValues=(ps=ss==null?void 0:ss(ls,cs))!=null?ps:null}},isNotNull=ts=>ts!=null,filterModelItems=(ts,rs,ns)=>(ts.cleanedFilterItems||(ts.cleanedFilterItems=ns.filter(os=>getFilterCallbackFromItem(os,rs)!==null)),ts.cleanedFilterItems),passFilterLogic=(ts,rs,ns,os,ss)=>{const as=filterModelItems(ss,os,ns.items),ls=ts.filter(isNotNull),cs=rs.filter(isNotNull);if(ls.length>0){var us;const ps=hs=>ls.some(ms=>ms[hs.id]);if(((us=ns.logicOperator)!=null?us:getDefaultGridFilterModel().logicOperator)===GridLogicOperator.And){if(!as.every(ps))return!1}else if(!as.some(ps))return!1}if(cs.length>0&&ns.quickFilterValues!=null){var ds;const ps=hs=>cs.some(ms=>ms[hs]);if(((ds=ns.quickFilterLogicOperator)!=null?ds:getDefaultGridFilterModel().quickFilterLogicOperator)===GridLogicOperator.And){if(!ns.quickFilterValues.every(ps))return!1}else if(!ns.quickFilterValues.some(ps))return!1}return!0},getGridStringQuickFilterFn=tagInternalFilter(ts=>{if(!ts)return null;const rs=new RegExp(escapeRegExp$1(ts),"i");return(ns,os,ss,as)=>{let ls=as.current.getRowFormattedValue(os,ss);return as.current.ignoreDiacritics&&(ls=removeDiacritics(ls)),ls!=null?rs.test(ls.toString()):!1}}),getGridStringOperators=(ts=!1)=>convertLegacyOperators([{value:"contains",getApplyFilterFnV7:rs=>{if(!rs.value)return null;const ns=ts?rs.value:rs.value.trim(),os=new RegExp(escapeRegExp$1(ns),"i");return ss=>ss!=null?os.test(String(ss)):!1},InputComponent:GridFilterInputValue},{value:"equals",getApplyFilterFnV7:rs=>{if(!rs.value)return null;const ns=ts?rs.value:rs.value.trim(),os=new Intl.Collator(void 0,{sensitivity:"base",usage:"search"});return ss=>ss!=null?os.compare(ns,ss.toString())===0:!1},InputComponent:GridFilterInputValue},{value:"startsWith",getApplyFilterFnV7:rs=>{if(!rs.value)return null;const ns=ts?rs.value:rs.value.trim(),os=new RegExp("^".concat(escapeRegExp$1(ns),".*$"),"i");return ss=>ss!=null?os.test(ss.toString()):!1},InputComponent:GridFilterInputValue},{value:"endsWith",getApplyFilterFnV7:rs=>{if(!rs.value)return null;const ns=ts?rs.value:rs.value.trim(),os=new RegExp(".*".concat(escapeRegExp$1(ns),"$"),"i");return ss=>ss!=null?os.test(ss.toString()):!1},InputComponent:GridFilterInputValue},{value:"isEmpty",getApplyFilterFnV7:()=>rs=>rs===""||rs==null,requiresFilterValue:!1},{value:"isNotEmpty",getApplyFilterFnV7:()=>rs=>rs!==""&&rs!=null,requiresFilterValue:!1},{value:"isAnyOf",getApplyFilterFnV7:rs=>{if(!Array.isArray(rs.value)||rs.value.length===0)return null;const ns=ts?rs.value:rs.value.map(ss=>ss.trim()),os=new Intl.Collator(void 0,{sensitivity:"base",usage:"search"});return ss=>ss!=null?ns.some(as=>os.compare(as,ss.toString()||"")===0):!1},InputComponent:GridFilterInputMultipleValue}]),GRID_STRING_COL_DEF={width:100,minWidth:50,maxWidth:1/0,hideable:!0,sortable:!0,resizable:!0,filterable:!0,groupable:!0,pinnable:!0,aggregable:!0,editable:!1,sortComparator:gridStringOrNumberComparator,type:"string",align:"left",filterOperators:getGridStringOperators(),renderEditCell:renderEditInputCell,getApplyQuickFilterFn:convertQuickFilterV7ToLegacy(getGridStringQuickFilterFn),getApplyQuickFilterFnV7:getGridStringQuickFilterFn},getGridBooleanOperators=()=>convertLegacyOperators([{value:"is",getApplyFilterFnV7:ts=>{if(!ts.value)return null;const rs=ts.value==="true";return ns=>!!ns===rs},InputComponent:GridFilterInputBoolean}]);function gridBooleanFormatter({value:ts,api:rs}){return ts?rs.getLocaleText("booleanCellTrueLabel"):rs.getLocaleText("booleanCellFalseLabel")}const stringToBoolean=ts=>{switch(ts.toLowerCase().trim()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":case"null":case"undefined":return!1;default:return}},GRID_BOOLEAN_COL_DEF=_extends$5({},GRID_STRING_COL_DEF,{type:"boolean",align:"center",headerAlign:"center",renderCell:renderBooleanCell,renderEditCell:renderEditBooleanCell,sortComparator:gridNumberComparator,valueFormatter:gridBooleanFormatter,filterOperators:getGridBooleanOperators(),getApplyQuickFilterFn:void 0,getApplyQuickFilterFnV7:void 0,aggregable:!1,pastedValueParser:ts=>stringToBoolean(ts)}),GRID_CHECKBOX_SELECTION_FIELD="__check__",GRID_CHECKBOX_SELECTION_COL_DEF=_extends$5({},GRID_BOOLEAN_COL_DEF,{field:GRID_CHECKBOX_SELECTION_FIELD,type:"checkboxSelection",width:50,resizable:!1,sortable:!1,filterable:!1,aggregable:!1,disableColumnMenu:!0,disableReorder:!0,disableExport:!0,getApplyQuickFilterFn:void 0,getApplyQuickFilterFnV7:void 0,valueGetter:ts=>selectedIdsLookupSelector(ts.api.state,ts.api.instanceId)[ts.id]!==void 0,renderHeader:ts=>jsxRuntimeExports.jsx(GridHeaderCheckbox,_extends$5({},ts)),renderCell:ts=>jsxRuntimeExports.jsx(GridCellCheckboxRenderer,_extends$5({},ts))}),GRID_ACTIONS_COLUMN_TYPE="actions",GRID_ACTIONS_COL_DEF=_extends$5({},GRID_STRING_COL_DEF,{sortable:!1,filterable:!1,aggregable:!1,width:100,align:"center",headerAlign:"center",headerName:"",disableColumnMenu:!0,disableExport:!0,renderCell:renderActionsCell,getApplyQuickFilterFn:void 0,getApplyQuickFilterFnV7:void 0}),GRID_DETAIL_PANEL_TOGGLE_FIELD$1="__detail_panel_toggle__",gridEditRowsStateSelector=ts=>ts.editRows,_excluded$B=["selected","hovered","rowId","row","index","style","position","rowHeight","className","visibleColumns","renderedColumns","containerWidth","firstColumnToRender","lastColumnToRender","isLastVisible","focusedCellColumnIndexNotInRange","isNotVisible","focusedCell","tabbableCell","onClick","onDoubleClick","onMouseEnter","onMouseLeave","onMouseOut","onMouseOver"],useUtilityClasses$B=ts=>{const{editable:rs,editing:ns,selected:os,isLastVisible:ss,rowHeight:as,classes:ls}=ts;return composeClasses({root:["row",os&&"selected",rs&&"row--editable",ns&&"row--editing",ss&&"row--lastVisible",as==="auto"&&"row--dynamicHeight"]},getDataGridUtilityClass,ls)};function EmptyCell({width:ts}){if(!ts)return null;const rs={width:ts};return jsxRuntimeExports.jsx("div",{className:"".concat(gridClasses.cell," ").concat(gridClasses.withBorderColor),style:rs})}const GridRow=reactExports.forwardRef(function(rs,ns){const{selected:os,hovered:ss,rowId:as,row:ls,index:cs,style:us,position:ds,rowHeight:ps,className:fs,visibleColumns:hs,renderedColumns:ms,containerWidth:gs,firstColumnToRender:vs,isLastVisible:bs=!1,focusedCellColumnIndexNotInRange:xs,isNotVisible:ys,focusedCell:Ss,onClick:Cs,onDoubleClick:$s,onMouseEnter:Es,onMouseLeave:ws,onMouseOut:Ts,onMouseOver:Is}=rs,Rs=_objectWithoutPropertiesLoose$1(rs,_excluded$B),As=useGridApiContext$1(),ks=reactExports.useRef(null),Ms=useGridRootProps$1(),Os=useGridVisibleRows(As,Ms),Ds=useGridSelector(As,gridColumnsTotalWidthSelector),Fs=useGridSelector(As,gridSortModelSelector),js=useGridSelector(As,gridRowMaximumTreeDepthSelector),Ps=useGridSelector(As,gridColumnGroupsHeaderMaxDepthSelector),Ls=useGridSelector(As,gridEditRowsStateSelector),Ns=useForkRef(ks,ns),Gs=cs+Ps+2,Us={selected:os,hovered:ss,isLastVisible:bs,classes:Ms.classes,editing:As.current.getRowMode(as)===GridRowModes.Edit,editable:Ms.editMode===GridEditModes.Row,rowHeight:ps},Hs=useUtilityClasses$B(Us);reactExports.useLayoutEffect(()=>{ps==="auto"&&ks.current&&typeof ResizeObserver>"u"&&As.current.unstable_storeRowHeightMeasurement(as,ks.current.clientHeight,ds)},[As,ps,as,ds]),reactExports.useLayoutEffect(()=>{if(Os.range){const Dl=As.current.getRowIndexRelativeToVisibleRows(as);Dl!=null&&As.current.unstable_setLastMeasuredRowIndex(Dl)}const Xs=ks.current;if(!Xs||ps!=="auto"||typeof ResizeObserver>"u")return;const $a=new ResizeObserver(Dl=>{const[Ol]=Dl,Ll=Ol.borderBoxSize&&Ol.borderBoxSize.length>0?Ol.borderBoxSize[0].blockSize:Ol.contentRect.height;As.current.unstable_storeRowHeightMeasurement(as,Ll,ds)});return $a.observe(Xs),()=>$a.disconnect()},[As,Os.range,cs,ps,as,ds]);const zs=reactExports.useCallback((Xs,xl)=>$a=>{isEventTargetInPortal($a)||As.current.getRow(as)&&(As.current.publishEvent(Xs,As.current.getRowParams(as),$a),xl&&xl($a))},[As,as]),qs=reactExports.useCallback(Xs=>{const xl=findParentElementFromClassName(Xs.target,gridClasses.cell),$a=xl==null?void 0:xl.getAttribute("data-field");if($a){if($a===GRID_CHECKBOX_SELECTION_COL_DEF.field||$a===GRID_DETAIL_PANEL_TOGGLE_FIELD$1||$a==="__reorder__"||As.current.getCellMode(as,$a)===GridCellModes.Edit)return;const Dl=As.current.getColumn($a);if((Dl==null?void 0:Dl.type)===GRID_ACTIONS_COLUMN_TYPE)return}zs("rowClick",Cs)(Xs)},[As,Cs,zs,as]),{slots:Vs,slotProps:Ks,disableColumnReorder:Ws}=Ms,Pl=Vs.cell===MemoizedGridCellV7?MemoizedGridCellV7:MemoizedCellWrapper,Tl=Ms.rowReordering,El=(Xs,xl)=>{var $a,Dl;const Ol=Ws&&Xs.disableReorder||!Tl&&!!Fs.length&&js>1&&Object.keys(Ls).length>0,Ll=($a=(Dl=Ls[as])==null?void 0:Dl[Xs.field])!=null?$a:null;let Vl=!1;return xs!==void 0&&hs[xs].field===Xs.field&&(Vl=!0),jsxRuntimeExports.jsx(Pl,_extends$5({column:Xs,width:xl.width,rowId:as,height:ps,showRightBorder:xl.showRightBorder,align:Xs.align||"left",colIndex:xl.indexRelativeToAllColumns,colSpan:xl.colSpan,disableDragEvents:Ol,editCellState:Ll,isNotVisible:Vl},Ks==null?void 0:Ks.cell),Xs.field)},$l=useGridSelector(As,()=>_extends$5({},As.current.unstable_getRowInternalSizes(as)),objectShallowCompare);let Sl=ps;if(Sl==="auto"&&$l){let Xs=0;const xl=Object.entries($l).reduce(($a,[Dl,Ol])=>/^base[A-Z]/.test(Dl)?(Xs+=1,Ol>$a?Ol:$a):$a,0);xl>0&&Xs>1&&(Sl=xl)}const Ml=reactExports.useMemo(()=>{if(ys)return{opacity:0,width:0,height:0};const Xs=_extends$5({},us,{maxHeight:ps==="auto"?"none":ps,minHeight:Sl});if($l!=null&&$l.spacingTop){const xl=Ms.rowSpacingType==="border"?"borderTopWidth":"marginTop";Xs[xl]=$l.spacingTop}if($l!=null&&$l.spacingBottom){const xl=Ms.rowSpacingType==="border"?"borderBottomWidth":"marginBottom";let $a=Xs[xl];typeof $a!="number"&&($a=parseInt($a||"0",10)),$a+=$l.spacingBottom,Xs[xl]=$a}return Xs},[ys,ps,us,Sl,$l,Ms.rowSpacingType]),wl=As.current.unstable_applyPipeProcessors("rowClassName",[],as);if(typeof Ms.getRowClassName=="function"){var Rl;const Xs=cs-(((Rl=Os.range)==null?void 0:Rl.firstRowIndex)||0),xl=_extends$5({},As.current.getRowParams(as),{isFirstVisible:Xs===0,isLastVisible:Xs===Os.rows.length-1,indexRelativeToCurrentPage:Xs});wl.push(Ms.getRowClassName(xl))}const yl=randomNumberBetween(1e4,20,80),Bs=As.current.getRowNode(as);if(!Bs)return null;const Zs=Bs.type,Ys=[];for(let Xs=0;Xs<ms.length;Xs+=1){const xl=ms[Xs];let $a=vs+Xs;xs!==void 0&&Ss&&(hs[xs].field===xl.field?$a=xs:$a-=1);const Dl=As.current.unstable_getCellColSpanInfo(as,$a);if(Dl&&!Dl.spannedByColSpan)if(Zs!=="skeletonRow"){const{colSpan:Ol,width:Ll}=Dl.cellProps,Vl={width:Ll,colSpan:Ol,showRightBorder:Ms.showCellVerticalBorder,indexRelativeToAllColumns:$a};Ys.push(El(xl,Vl))}else{const{width:Ol}=Dl.cellProps,Ll=Math.round(yl());Ys.push(jsxRuntimeExports.jsx(Vs.skeletonCell,{width:Ol,contentWidth:Ll,field:xl.field,align:xl.align},xl.field))}}const _l=gs-Ds,Cl=ls?{onClick:qs,onDoubleClick:zs("rowDoubleClick",$s),onMouseEnter:zs("rowMouseEnter",Es),onMouseLeave:zs("rowMouseLeave",ws),onMouseOut:zs("rowMouseOut",Ts),onMouseOver:zs("rowMouseOver",Is)}:null;return jsxRuntimeExports.jsxs("div",_extends$5({ref:Ns,"data-id":as,"data-rowindex":cs,role:"row",className:clsx$1(...wl,Hs.root,fs,ss&&"Mui-hovered"),"aria-rowindex":Gs,"aria-selected":os,style:Ml},Cl,Rs,{children:[Ys,_l>0&&jsxRuntimeExports.jsx(EmptyCell,{width:_l})]}))}),MemoizedGridRow=fastMemo(GridRow),GRID_DEFAULT_LOCALE_TEXT={noRowsLabel:"No rows",noResultsOverlayLabel:"No results found.",toolbarDensity:"Density",toolbarDensityLabel:"Density",toolbarDensityCompact:"Compact",toolbarDensityStandard:"Standard",toolbarDensityComfortable:"Comfortable",toolbarColumns:"Columns",toolbarColumnsLabel:"Select columns",toolbarFilters:"Filters",toolbarFiltersLabel:"Show filters",toolbarFiltersTooltipHide:"Hide filters",toolbarFiltersTooltipShow:"Show filters",toolbarFiltersTooltipActive:ts=>ts!==1?"".concat(ts," active filters"):"".concat(ts," active filter"),toolbarQuickFilterPlaceholder:"Searchâ¦",toolbarQuickFilterLabel:"Search",toolbarQuickFilterDeleteIconLabel:"Clear",toolbarExport:"Export",toolbarExportLabel:"Export",toolbarExportCSV:"Download as CSV",toolbarExportPrint:"Print",toolbarExportExcel:"Download as Excel",columnsPanelTextFieldLabel:"Find column",columnsPanelTextFieldPlaceholder:"Column title",columnsPanelDragIconLabel:"Reorder column",columnsPanelShowAllButton:"Show all",columnsPanelHideAllButton:"Hide all",filterPanelAddFilter:"Add filter",filterPanelRemoveAll:"Remove all",filterPanelDeleteIconLabel:"Delete",filterPanelLogicOperator:"Logic operator",filterPanelOperator:"Operator",filterPanelOperatorAnd:"And",filterPanelOperatorOr:"Or",filterPanelColumns:"Columns",filterPanelInputLabel:"Value",filterPanelInputPlaceholder:"Filter value",filterOperatorContains:"contains",filterOperatorEquals:"equals",filterOperatorStartsWith:"starts with",filterOperatorEndsWith:"ends with",filterOperatorIs:"is",filterOperatorNot:"is not",filterOperatorAfter:"is after",filterOperatorOnOrAfter:"is on or after",filterOperatorBefore:"is before",filterOperatorOnOrBefore:"is on or before",filterOperatorIsEmpty:"is empty",filterOperatorIsNotEmpty:"is not empty",filterOperatorIsAnyOf:"is any of","filterOperator=":"=","filterOperator!=":"!=","filterOperator>":">","filterOperator>=":">=","filterOperator<":"<","filterOperator<=":"<=",headerFilterOperatorContains:"Contains",headerFilterOperatorEquals:"Equals",headerFilterOperatorStartsWith:"Starts with",headerFilterOperatorEndsWith:"Ends with",headerFilterOperatorIs:"Is",headerFilterOperatorNot:"Is not",headerFilterOperatorAfter:"Is after",headerFilterOperatorOnOrAfter:"Is on or after",headerFilterOperatorBefore:"Is before",headerFilterOperatorOnOrBefore:"Is on or before",headerFilterOperatorIsEmpty:"Is empty",headerFilterOperatorIsNotEmpty:"Is not empty",headerFilterOperatorIsAnyOf:"Is any of","headerFilterOperator=":"Equals","headerFilterOperator!=":"Not equals","headerFilterOperator>":"Greater than","headerFilterOperator>=":"Greater than or equal to","headerFilterOperator<":"Less than","headerFilterOperator<=":"Less than or equal to",filterValueAny:"any",filterValueTrue:"true",filterValueFalse:"false",columnMenuLabel:"Menu",columnMenuShowColumns:"Show columns",columnMenuManageColumns:"Manage columns",columnMenuFilter:"Filter",columnMenuHideColumn:"Hide column",columnMenuUnsort:"Unsort",columnMenuSortAsc:"Sort by ASC",columnMenuSortDesc:"Sort by DESC",columnHeaderFiltersTooltipActive:ts=>ts!==1?"".concat(ts," active filters"):"".concat(ts," active filter"),columnHeaderFiltersLabel:"Show filters",columnHeaderSortIconLabel:"Sort",footerRowSelected:ts=>ts!==1?"".concat(ts.toLocaleString()," rows selected"):"".concat(ts.toLocaleString()," row selected"),footerTotalRows:"Total Rows:",footerTotalVisibleRows:(ts,rs)=>"".concat(ts.toLocaleString()," of ").concat(rs.toLocaleString()),checkboxSelectionHeaderName:"Checkbox selection",checkboxSelectionSelectAllRows:"Select all rows",checkboxSelectionUnselectAllRows:"Unselect all rows",checkboxSelectionSelectRow:"Select row",checkboxSelectionUnselectRow:"Unselect row",booleanCellTrueLabel:"yes",booleanCellFalseLabel:"no",actionsCellMore:"more",pinToLeft:"Pin to left",pinToRight:"Pin to right",unpin:"Unpin",treeDataGroupingHeaderName:"Group",treeDataExpand:"see children",treeDataCollapse:"hide children",groupingColumnHeaderName:"Group",groupColumn:ts=>"Group by ".concat(ts),unGroupColumn:ts=>"Stop grouping by ".concat(ts),detailPanelToggle:"Detail panel toggle",expandDetailPanel:"Expand",collapseDetailPanel:"Collapse",MuiTablePagination:{},rowReorderingHeaderName:"Row reordering",aggregationMenuItemHeader:"Aggregation",aggregationFunctionLabelSum:"sum",aggregationFunctionLabelAvg:"avg",aggregationFunctionLabelMin:"min",aggregationFunctionLabelMax:"max",aggregationFunctionLabelSize:"size"};function GridContextProvider({privateApiRef:ts,props:rs,children:ns}){const os=reactExports.useRef(ts.current.getPublicApi());return jsxRuntimeExports.jsx(GridRootPropsContext.Provider,{value:rs,children:jsxRuntimeExports.jsx(GridPrivateApiContext.Provider,{value:ts,children:jsxRuntimeExports.jsx(GridApiContext.Provider,{value:os,children:ns})})})}const dateRegex=/(\d+)-(\d+)-(\d+)/,dateTimeRegex=/(\d+)-(\d+)-(\d+)T(\d+):(\d+)/;function buildApplyFilterFn(ts,rs,ns,os){if(!ts.value)return null;const[ss,as,ls,cs,us]=ts.value.match(ns?dateTimeRegex:dateRegex).slice(1).map(Number),ds=new Date(ss,as-1,ls,cs||0,us||0).getTime();return ps=>{if(!ps)return!1;if(os)return rs(ps.getTime(),ds);const hs=new Date(ps).setHours(ns?ps.getHours():0,ns?ps.getMinutes():0,0,0);return rs(hs,ds)}}const getGridDateOperators=ts=>convertLegacyOperators([{value:"is",getApplyFilterFnV7:rs=>buildApplyFilterFn(rs,(ns,os)=>ns===os,ts),InputComponent:GridFilterInputDate,InputComponentProps:{type:ts?"datetime-local":"date"}},{value:"not",getApplyFilterFnV7:rs=>buildApplyFilterFn(rs,(ns,os)=>ns!==os,ts),InputComponent:GridFilterInputDate,InputComponentProps:{type:ts?"datetime-local":"date"}},{value:"after",getApplyFilterFnV7:rs=>buildApplyFilterFn(rs,(ns,os)=>ns>os,ts),InputComponent:GridFilterInputDate,InputComponentProps:{type:ts?"datetime-local":"date"}},{value:"onOrAfter",getApplyFilterFnV7:rs=>buildApplyFilterFn(rs,(ns,os)=>ns>=os,ts),InputComponent:GridFilterInputDate,InputComponentProps:{type:ts?"datetime-local":"date"}},{value:"before",getApplyFilterFnV7:rs=>buildApplyFilterFn(rs,(ns,os)=>ns<os,ts,!ts),InputComponent:GridFilterInputDate,InputComponentProps:{type:ts?"datetime-local":"date"}},{value:"onOrBefore",getApplyFilterFnV7:rs=>buildApplyFilterFn(rs,(ns,os)=>ns<=os,ts),InputComponent:GridFilterInputDate,InputComponentProps:{type:ts?"datetime-local":"date"}},{value:"isEmpty",getApplyFilterFnV7:()=>rs=>rs==null,requiresFilterValue:!1},{value:"isNotEmpty",getApplyFilterFnV7:()=>rs=>rs!=null,requiresFilterValue:!1}]);function throwIfNotDateObject({value:ts,columnType:rs,rowId:ns,field:os}){if(!(ts instanceof Date))throw new Error(["MUI: `".concat(rs,"` column type only accepts `Date` objects as values."),"Use `valueGetter` to transform the value into a `Date` object.","Row ID: ".concat(ns,', field: "').concat(os,'".')].join("\n"))}function gridDateFormatter({value:ts,field:rs,id:ns}){return ts?(throwIfNotDateObject({value:ts,columnType:"date",rowId:ns,field:rs}),ts.toLocaleDateString()):""}function gridDateTimeFormatter({value:ts,field:rs,id:ns}){return ts?(throwIfNotDateObject({value:ts,columnType:"dateTime",rowId:ns,field:rs}),ts.toLocaleString()):""}const GRID_DATE_COL_DEF=_extends$5({},GRID_STRING_COL_DEF,{type:"date",sortComparator:gridDateComparator,valueFormatter:gridDateFormatter,filterOperators:getGridDateOperators(),renderEditCell:renderEditDateCell,pastedValueParser:ts=>new Date(ts)}),GRID_DATETIME_COL_DEF=_extends$5({},GRID_STRING_COL_DEF,{type:"dateTime",sortComparator:gridDateComparator,valueFormatter:gridDateTimeFormatter,filterOperators:getGridDateOperators(!0),renderEditCell:renderEditDateCell,pastedValueParser:ts=>new Date(ts)}),parseNumericValue=ts=>ts==null?null:Number(ts),getGridNumericQuickFilterFn=tagInternalFilter(ts=>ts==null||Number.isNaN(ts)||ts===""?null:rs=>parseNumericValue(rs)===parseNumericValue(ts)),getGridNumericOperators=()=>convertLegacyOperators([{value:"=",getApplyFilterFnV7:ts=>ts.value==null||Number.isNaN(ts.value)?null:rs=>parseNumericValue(rs)===ts.value,InputComponent:GridFilterInputValue,InputComponentProps:{type:"number"}},{value:"!=",getApplyFilterFnV7:ts=>ts.value==null||Number.isNaN(ts.value)?null:rs=>parseNumericValue(rs)!==ts.value,InputComponent:GridFilterInputValue,InputComponentProps:{type:"number"}},{value:">",getApplyFilterFnV7:ts=>ts.value==null||Number.isNaN(ts.value)?null:rs=>rs==null?!1:parseNumericValue(rs)>ts.value,InputComponent:GridFilterInputValue,InputComponentProps:{type:"number"}},{value:">=",getApplyFilterFnV7:ts=>ts.value==null||Number.isNaN(ts.value)?null:rs=>rs==null?!1:parseNumericValue(rs)>=ts.value,InputComponent:GridFilterInputValue,InputComponentProps:{type:"number"}},{value:"<",getApplyFilterFnV7:ts=>ts.value==null||Number.isNaN(ts.value)?null:rs=>rs==null?!1:parseNumericValue(rs)<ts.value,InputComponent:GridFilterInputValue,InputComponentProps:{type:"number"}},{value:"<=",getApplyFilterFnV7:ts=>ts.value==null||Number.isNaN(ts.value)?null:rs=>rs==null?!1:parseNumericValue(rs)<=ts.value,InputComponent:GridFilterInputValue,InputComponentProps:{type:"number"}},{value:"isEmpty",getApplyFilterFnV7:()=>ts=>ts==null,requiresFilterValue:!1},{value:"isNotEmpty",getApplyFilterFnV7:()=>ts=>ts!=null,requiresFilterValue:!1},{value:"isAnyOf",getApplyFilterFnV7:ts=>!Array.isArray(ts.value)||ts.value.length===0?null:rs=>rs!=null&&ts.value.includes(Number(rs)),InputComponent:GridFilterInputMultipleValue,InputComponentProps:{type:"number"}}]),GRID_NUMERIC_COL_DEF=_extends$5({},GRID_STRING_COL_DEF,{type:"number",align:"right",headerAlign:"right",sortComparator:gridNumberComparator,valueParser:ts=>ts===""?null:Number(ts),valueFormatter:({value:ts})=>isNumber$3(ts)?ts.toLocaleString():ts||"",filterOperators:getGridNumericOperators(),getApplyQuickFilterFn:convertQuickFilterV7ToLegacy(getGridNumericQuickFilterFn),getApplyQuickFilterFnV7:getGridNumericQuickFilterFn}),parseObjectValue=ts=>ts==null||!isObject$2(ts)?ts:ts.value,getGridSingleSelectOperators=()=>convertLegacyOperators([{value:"is",getApplyFilterFnV7:ts=>ts.value==null||ts.value===""?null:rs=>parseObjectValue(rs)===parseObjectValue(ts.value),InputComponent:GridFilterInputSingleSelect},{value:"not",getApplyFilterFnV7:ts=>ts.value==null||ts.value===""?null:rs=>parseObjectValue(rs)!==parseObjectValue(ts.value),InputComponent:GridFilterInputSingleSelect},{value:"isAnyOf",getApplyFilterFnV7:ts=>{if(!Array.isArray(ts.value)||ts.value.length===0)return null;const rs=ts.value.map(parseObjectValue);return ns=>rs.includes(parseObjectValue(ns))},InputComponent:GridFilterInputMultipleSingleSelect}]),isArrayOfObjects=ts=>typeof ts[0]=="object",defaultGetOptionValue=ts=>isObject$2(ts)?ts.value:ts,defaultGetOptionLabel=ts=>isObject$2(ts)?ts.label:String(ts),GRID_SINGLE_SELECT_COL_DEF=_extends$5({},GRID_STRING_COL_DEF,{type:"singleSelect",getOptionLabel:defaultGetOptionLabel,getOptionValue:defaultGetOptionValue,valueFormatter(ts){const{id:rs,field:ns,value:os,api:ss}=ts,as=ts.api.getColumn(ns);if(!isSingleSelectColDef(as))return"";let ls;if(typeof as.valueOptions=="function"?ls=as.valueOptions({id:rs,row:rs?ss.getRow(rs):null,field:ns}):ls=as.valueOptions,os==null)return"";if(!ls)return os;if(!isArrayOfObjects(ls))return as.getOptionLabel(os);const cs=ls.find(us=>as.getOptionValue(us)===os);return cs?as.getOptionLabel(cs):""},renderEditCell:renderEditSingleSelectCell,filterOperators:getGridSingleSelectOperators(),pastedValueParser:(ts,rs)=>{const ns=rs.colDef,os=ns.valueOptions,ss=typeof os=="function"?os({field:ns.field}):os||[],as=ns.getOptionValue;if(ss.find(cs=>as(cs)===ts))return ts}}),DEFAULT_GRID_COL_TYPE_KEY="__default__",getGridDefaultColumnTypes=()=>({string:GRID_STRING_COL_DEF,number:GRID_NUMERIC_COL_DEF,date:GRID_DATE_COL_DEF,dateTime:GRID_DATETIME_COL_DEF,boolean:GRID_BOOLEAN_COL_DEF,singleSelect:GRID_SINGLE_SELECT_COL_DEF,[GRID_ACTIONS_COLUMN_TYPE]:GRID_ACTIONS_COL_DEF,[DEFAULT_GRID_COL_TYPE_KEY]:GRID_STRING_COL_DEF}),forceDebug=localStorageAvailable()&&window.localStorage.getItem("DEBUG")!=null,noop$5=()=>{},noopLogger={debug:noop$5,info:noop$5,warn:noop$5,error:noop$5},LOG_LEVELS=["debug","info","warn","error"];function getAppender(ts,rs,ns=console){const os=LOG_LEVELS.indexOf(rs);if(os===-1)throw new Error("MUI: Log level ".concat(rs," not recognized."));return LOG_LEVELS.reduce((as,ls,cs)=>(cs>=os?as[ls]=(...us)=>{const[ds,...ps]=us;ns[ls]("MUI: ".concat(ts," - ").concat(ds),...ps)}:as[ls]=noop$5,as),{})}const useGridLoggerFactory=(ts,rs)=>{const ns=reactExports.useCallback(os=>forceDebug?getAppender(os,"debug",rs.logger):rs.logLevel?getAppender(os,rs.logLevel.toString(),rs.logger):noopLogger,[rs.logLevel,rs.logger]);useGridApiMethod(ts,{getLogger:ns},"private")};class Store{static create(rs){return new Store(rs)}constructor(rs){this.value=void 0,this.listeners=void 0,this.subscribe=ns=>(this.listeners.add(ns),()=>{this.listeners.delete(ns)}),this.getSnapshot=()=>this.value,this.update=ns=>{this.value=ns,this.listeners.forEach(os=>os(ns))},this.value=rs,this.listeners=new Set}}class EventManager{constructor(){this.maxListeners=20,this.warnOnce=!1,this.events={}}on(rs,ns,os={}){let ss=this.events[rs];ss||(ss={highPriority:new Map,regular:new Map},this.events[rs]=ss),os.isFirst?ss.highPriority.set(ns,!0):ss.regular.set(ns,!0)}removeListener(rs,ns){this.events[rs]&&(this.events[rs].regular.delete(ns),this.events[rs].highPriority.delete(ns))}removeAllListeners(){this.events={}}emit(rs,...ns){const os=this.events[rs];if(!os)return;const ss=Array.from(os.highPriority.keys()),as=Array.from(os.regular.keys());for(let ls=ss.length-1;ls>=0;ls-=1){const cs=ss[ls];os.highPriority.has(cs)&&cs.apply(this,ns)}for(let ls=0;ls<as.length;ls+=1){const cs=as[ls];os.regular.has(cs)&&cs.apply(this,ns)}}once(rs,ns){const os=this;this.on(rs,function ss(...as){os.removeListener(rs,ss),ns.apply(os,as)})}}const SYMBOL_API_PRIVATE=Symbol("mui.api_private"),isSyntheticEvent=ts=>ts.isPropagationStopped!==void 0;let globalId=0;function createPrivateAPI(ts){var rs;const ns=(rs=ts.current)==null?void 0:rs[SYMBOL_API_PRIVATE];if(ns)return ns;const os={},ss={state:os,store:Store.create(os),instanceId:{id:globalId}};return globalId+=1,ss.getPublicApi=()=>ts.current,ss.register=(as,ls)=>{Object.keys(ls).forEach(cs=>{const us=ls[cs],ds=ss[cs];if((ds==null?void 0:ds.spying)===!0?ds.target=us:ss[cs]=us,as==="public"){const ps=ts.current,fs=ps[cs];(fs==null?void 0:fs.spying)===!0?fs.target=us:ps[cs]=us}})},ss.register("private",{caches:{},eventManager:new EventManager}),ss}function createPublicAPI(ts){return{get state(){return ts.current.state},get store(){return ts.current.store},get instanceId(){return ts.current.instanceId},[SYMBOL_API_PRIVATE]:ts.current}}function useGridApiInitialization(ts,rs){const ns=reactExports.useRef(),os=reactExports.useRef();os.current||(os.current=createPrivateAPI(ns)),ns.current||(ns.current=createPublicAPI(os));const ss=reactExports.useCallback((...ls)=>{const[cs,us,ds={}]=ls;if(ds.defaultMuiPrevented=!1,isSyntheticEvent(ds)&&ds.isPropagationStopped())return;const ps=rs.signature===GridSignature.DataGridPro?{api:os.current.getPublicApi()}:{};os.current.eventManager.emit(cs,us,ds,ps)},[os,rs.signature]),as=reactExports.useCallback((ls,cs,us)=>{os.current.eventManager.on(ls,cs,us);const ds=os.current;return()=>{ds.eventManager.removeListener(ls,cs)}},[os]);return useGridApiMethod(os,{subscribeEvent:as,publishEvent:ss},"public"),reactExports.useImperativeHandle(ts,()=>ns.current,[ns]),reactExports.useEffect(()=>{const ls=os.current;return()=>{ls.publishEvent("unmount")}},[os]),os}const useGridLocaleText=(ts,rs)=>{const ns=reactExports.useCallback(os=>{if(rs.localeText[os]==null)throw new Error("Missing translation for key ".concat(os,"."));return rs.localeText[os]},[rs.localeText]);ts.current.register("public",{getLocaleText:ns})},useGridPipeProcessing=ts=>{const rs=reactExports.useRef({}),ns=reactExports.useRef(!1),os=reactExports.useCallback(ps=>{ns.current||!ps||(ns.current=!0,Object.values(ps.appliers).forEach(fs=>{fs()}),ns.current=!1)},[]),ss=reactExports.useCallback((ps,fs,hs)=>{rs.current[ps]||(rs.current[ps]={processors:new Map,appliers:{}});const ms=rs.current[ps];return ms.processors.get(fs)!==hs&&(ms.processors.set(fs,hs),os(ms)),()=>{rs.current[ps].processors.set(fs,null)}},[os]),as=reactExports.useCallback((ps,fs,hs)=>(rs.current[ps]||(rs.current[ps]={processors:new Map,appliers:{}}),rs.current[ps].appliers[fs]=hs,()=>{const ms=rs.current[ps].appliers,gs=_objectWithoutPropertiesLoose$1(ms,[fs].map(toPropertyKey));rs.current[ps].appliers=gs}),[]),ls=reactExports.useCallback(ps=>{const fs=rs.current[ps];os(fs)},[os]),cs=reactExports.useCallback((...ps)=>{const[fs,hs,ms]=ps;return rs.current[fs]?Array.from(rs.current[fs].processors.values()).reduce((vs,bs)=>bs?bs(vs,ms):vs,hs):hs},[]),us={registerPipeProcessor:ss,registerPipeApplier:as,requestPipeProcessorsApplication:ls},ds={unstable_applyPipeProcessors:cs};useGridApiMethod(ts,us,"private"),useGridApiMethod(ts,ds,"public")},useGridRegisterPipeProcessor=(ts,rs,ns)=>{const os=reactExports.useRef(),ss=reactExports.useRef("mui-".concat(Math.round(Math.random()*1e9))),as=reactExports.useCallback(()=>{os.current=ts.current.registerPipeProcessor(rs,ss.current,ns)},[ts,ns,rs]);useFirstRender(()=>{as()});const ls=reactExports.useRef(!0);reactExports.useEffect(()=>(ls.current?ls.current=!1:as(),()=>{os.current&&(os.current(),os.current=null)}),[as])},useGridRegisterPipeApplier=(ts,rs,ns)=>{const os=reactExports.useRef(),ss=reactExports.useRef("mui-".concat(Math.round(Math.random()*1e9))),as=reactExports.useCallback(()=>{os.current=ts.current.registerPipeApplier(rs,ss.current,ns)},[ts,ns,rs]);useFirstRender(()=>{as()});const ls=reactExports.useRef(!0);reactExports.useEffect(()=>(ls.current?ls.current=!1:as(),()=>{os.current&&(os.current(),os.current=null)}),[as])},useGridRegisterStrategyProcessor=(ts,rs,ns,os)=>{const ss=reactExports.useCallback(()=>{ts.current.registerStrategyProcessor(rs,ns,os)},[ts,os,ns,rs]);useFirstRender(()=>{ss()});const as=reactExports.useRef(!0);reactExports.useEffect(()=>{as.current?as.current=!1:ss()},[ss])},GRID_DEFAULT_STRATEGY="none",GRID_STRATEGIES_PROCESSORS={rowTreeCreation:"rowTree",filtering:"rowTree",sorting:"rowTree",visibleRowsLookupCreation:"rowTree"},useGridStrategyProcessing=ts=>{const rs=reactExports.useRef(new Map),ns=reactExports.useRef({}),os=reactExports.useCallback((us,ds,ps)=>{const fs=()=>{const gs=ns.current[ds],vs=_objectWithoutPropertiesLoose$1(gs,[us].map(toPropertyKey));ns.current[ds]=vs};ns.current[ds]||(ns.current[ds]={});const hs=ns.current[ds],ms=hs[us];return hs[us]=ps,!ms||ms===ps||us===ts.current.getActiveStrategy(GRID_STRATEGIES_PROCESSORS[ds])&&ts.current.publishEvent("activeStrategyProcessorChange",ds),fs},[ts]),ss=reactExports.useCallback((us,ds)=>{const ps=ts.current.getActiveStrategy(GRID_STRATEGIES_PROCESSORS[us]);if(ps==null)throw new Error("Can't apply a strategy processor before defining an active strategy");const fs=ns.current[us];if(!fs||!fs[ps])throw new Error('No processor found for processor "'.concat(us,'" on strategy "').concat(ps,'"'));const hs=fs[ps];return hs(ds)},[ts]),as=reactExports.useCallback(us=>{var ds;const fs=Array.from(rs.current.entries()).find(([,hs])=>hs.group!==us?!1:hs.isAvailable());return(ds=fs==null?void 0:fs[0])!=null?ds:GRID_DEFAULT_STRATEGY},[]),ls=reactExports.useCallback((us,ds,ps)=>{rs.current.set(ds,{group:us,isAvailable:ps}),ts.current.publishEvent("strategyAvailabilityChange")},[ts]);useGridApiMethod(ts,{registerStrategyProcessor:os,applyStrategyProcessor:ss,getActiveStrategy:as,setStrategyAvailability:ls},"private")},useGridStateInitialization=(ts,rs)=>{const ns=reactExports.useRef({}),[,os]=reactExports.useState(),ss=reactExports.useCallback(ps=>{ns.current[ps.stateId]=ps},[]),as=reactExports.useCallback((ps,fs)=>{let hs;if(isFunction$2(ps)?hs=ps(ts.current.state):hs=ps,ts.current.state===hs)return!1;let ms=!1;const gs=[];if(Object.keys(ns.current).forEach(vs=>{const bs=ns.current[vs],xs=bs.stateSelector(ts.current.state,ts.current.instanceId),ys=bs.stateSelector(hs,ts.current.instanceId);ys!==xs&&(gs.push({stateId:bs.stateId,hasPropChanged:ys!==bs.propModel}),bs.propModel!==void 0&&ys!==bs.propModel&&(ms=!0))}),gs.length>1)throw new Error("You're not allowed to update several sub-state in one transaction. You already updated ".concat(gs[0].stateId,", therefore, you're not allowed to update ").concat(gs.map(vs=>vs.stateId).join(", ")," in the same transaction."));if(ms||(ts.current.state=hs,ts.current.publishEvent&&ts.current.publishEvent("stateChange",hs),ts.current.store.update(hs)),gs.length===1){const{stateId:vs,hasPropChanged:bs}=gs[0],xs=ns.current[vs],ys=xs.stateSelector(hs,ts.current.instanceId);if(xs.propOnChange&&bs){const Ss=rs.signature===GridSignature.DataGridPro?{api:ts.current,reason:fs}:{reason:fs};xs.propOnChange(ys,Ss)}ms||ts.current.publishEvent(xs.changeEvent,ys,{reason:fs})}return!ms},[ts,rs.signature]),ls=reactExports.useCallback((ps,fs,hs)=>ts.current.setState(ms=>_extends$5({},ms,{[ps]:fs(ms[ps])}),hs),[ts]),cs=reactExports.useCallback(()=>os(()=>ts.current.state),[ts]),us={setState:as,forceUpdate:cs},ds={updateControlState:ls,registerControlState:ss};useGridApiMethod(ts,us,"public"),useGridApiMethod(ts,ds,"private")},useGridInitialization=(ts,rs)=>{const ns=useGridApiInitialization(ts,rs);return useGridLoggerFactory(ns,rs),useGridStateInitialization(ns,rs),useGridPipeProcessing(ns),useGridStrategyProcessing(ns),useGridLocaleText(ns,rs),ns.current.register("private",{rootProps:rs}),ns},useGridInitializeState=(ts,rs,ns)=>{const os=reactExports.useRef(!1);os.current||(rs.current.state=ts(rs.current.state,ns,rs),os.current=!0)};function sanitizeCellValue(ts,rs){if(typeof ts=="string"){if(rs.shouldAppendQuotes||rs.escapeFormulas){const ns=ts.replace(/"/g,'""');return[rs.delimiter,"\n","\r",'"'].some(os=>ts.includes(os))?'"'.concat(ns,'"'):rs.escapeFormulas&&["=","+","-","@","	","\r"].includes(ns[0])?"'".concat(ns):ns}return ts}return ts}const serializeCellValue=(ts,rs)=>{const{csvOptions:ns,ignoreValueFormatter:os}=rs;let ss;if(os){var as;const cs=ts.colDef.type;if(cs==="number")ss=String(ts.value);else if(cs==="date"||cs==="dateTime"){var ls;ss=(ls=ts.value)==null?void 0:ls.toISOString()}else typeof((as=ts.value)==null?void 0:as.toString)=="function"?ss=ts.value.toString():ss=ts.value}else ss=ts.formattedValue;return sanitizeCellValue(ss,ns)};buildWarning(["MUI: When the value of a field is an object or a `renderCell` is provided, the CSV export might not display the value correctly.","You can provide a `valueFormatter` with a string representation to be used."]);class CSVRow{constructor(rs){this.options=void 0,this.rowString="",this.isEmpty=!0,this.options=rs}addValue(rs){this.isEmpty||(this.rowString+=this.options.csvOptions.delimiter),rs==null?this.rowString+="":typeof this.options.sanitizeCellValue=="function"?this.rowString+=this.options.sanitizeCellValue(rs,this.options.csvOptions):this.rowString+=rs,this.isEmpty=!1}getRowString(){return this.rowString}}const serializeRow=({id:ts,columns:rs,getCellParams:ns,csvOptions:os,ignoreValueFormatter:ss})=>{const as=new CSVRow({csvOptions:os});return rs.forEach(ls=>{const cs=ns(ts,ls.field);as.addValue(serializeCellValue(cs,{ignoreValueFormatter:ss,csvOptions:os}))}),as.getRowString()};function buildCSV(ts){const{columns:rs,rowIds:ns,csvOptions:os,ignoreValueFormatter:ss,apiRef:as}=ts,ls=ns.reduce((fs,hs)=>"".concat(fs).concat(serializeRow({id:hs,columns:rs,getCellParams:as.current.getCellParams,ignoreValueFormatter:ss,csvOptions:os}),"\r\n"),"").trim();if(!os.includeHeaders)return ls;const cs=rs.filter(fs=>fs.field!==GRID_CHECKBOX_SELECTION_COL_DEF.field),us=[];if(os.includeColumnGroupsHeaders){const fs=as.current.unstable_getAllGroupDetails();let hs=0;const ms=cs.reduce((gs,vs)=>{const bs=as.current.unstable_getColumnGroupPath(vs.field);return gs[vs.field]=bs,hs=Math.max(hs,bs.length),gs},{});for(let gs=0;gs<hs;gs+=1){const vs=new CSVRow({csvOptions:os,sanitizeCellValue});us.push(vs),cs.forEach(bs=>{const xs=(ms[bs.field]||[])[gs],ys=fs[xs];vs.addValue(ys?ys.headerName||ys.groupId:"")})}}const ds=new CSVRow({csvOptions:os,sanitizeCellValue});cs.forEach(fs=>{ds.addValue(fs.headerName||fs.field)}),us.push(ds);const ps="".concat(us.map(fs=>fs.getRowString()).join("\r\n"),"\r\n");return"".concat(ps).concat(ls).trim()}function writeToClipboardPolyfill(ts){const rs=document.createElement("span");rs.style.whiteSpace="pre",rs.style.userSelect="all",rs.style.opacity="0px",rs.textContent=ts,document.body.appendChild(rs);const ns=document.createRange();ns.selectNode(rs);const os=window.getSelection();os.removeAllRanges(),os.addRange(ns);try{document.execCommand("copy")}finally{document.body.removeChild(rs)}}function copyToClipboard(ts){navigator.clipboard?navigator.clipboard.writeText(ts).catch(()=>{writeToClipboardPolyfill(ts)}):writeToClipboardPolyfill(ts)}function hasNativeSelection(ts){var rs;return!!((rs=window.getSelection())!=null&&rs.toString()||ts&&(ts.selectionEnd||0)-(ts.selectionStart||0)>0)}const useGridClipboard=(ts,rs)=>{const ns=rs.unstable_ignoreValueFormatterDuringExport,os=(typeof ns=="object"?ns==null?void 0:ns.clipboardExport:ns)||!1,ss=rs.clipboardCopyCellDelimiter,as=reactExports.useCallback(ls=>{if(!((ls.ctrlKey||ls.metaKey)&&ls.key==="c")||hasNativeSelection(ls.target))return;let cs="";if(ts.current.getSelectedRows().size>0)cs=ts.current.getDataAsCsv({includeHeaders:!1,delimiter:ss,shouldAppendQuotes:!1,escapeFormulas:!1});else{const ds=gridFocusCellSelector(ts);if(ds){const ps=ts.current.getCellParams(ds.id,ds.field);cs=serializeCellValue(ps,{csvOptions:{delimiter:ss,shouldAppendQuotes:!1,escapeFormulas:!1},ignoreValueFormatter:os})}}cs=ts.current.unstable_applyPipeProcessors("clipboardCopy",cs),cs&&(copyToClipboard(cs),ts.current.publishEvent("clipboardCopy",cs))},[ts,os,ss]);useGridNativeEventListener(ts,ts.current.rootElementRef,"keydown",as),useGridApiOptionHandler(ts,"clipboardCopy",rs.onClipboardCopy)},columnMenuStateInitializer=ts=>_extends$5({},ts,{columnMenu:{open:!1}}),useGridColumnMenu=ts=>{const rs=useGridLogger(ts,"useGridColumnMenu"),ns=reactExports.useCallback(ls=>{ts.current.setState(us=>us.columnMenu.open&&us.columnMenu.field===ls?us:(rs.debug("Opening Column Menu"),_extends$5({},us,{columnMenu:{open:!0,field:ls}})))&&(ts.current.hidePreferences(),ts.current.forceUpdate())},[ts,rs]),os=reactExports.useCallback(()=>{const ls=gridColumnMenuSelector(ts.current.state);if(ls.field){const us=gridColumnLookupSelector(ts),ds=gridColumnVisibilityModelSelector(ts),ps=gridColumnFieldsSelector(ts);let fs=ls.field;if(us[fs]||(fs=ps[0]),ds[fs]===!1){const hs=ps.filter(gs=>gs===fs?!0:ds[gs]!==!1),ms=hs.indexOf(fs);fs=hs[ms+1]||hs[ms-1]}ts.current.setColumnHeaderFocus(fs)}ts.current.setState(us=>!us.columnMenu.open&&us.columnMenu.field===void 0?us:(rs.debug("Hiding Column Menu"),_extends$5({},us,{columnMenu:_extends$5({},us.columnMenu,{open:!1,field:void 0})})))&&ts.current.forceUpdate()},[ts,rs]),ss=reactExports.useCallback(ls=>{rs.debug("Toggle Column Menu");const cs=gridColumnMenuSelector(ts.current.state);!cs.open||cs.field!==ls?ns(ls):os()},[ts,rs,ns,os]);useGridApiMethod(ts,{showColumnMenu:ns,hideColumnMenu:os,toggleColumnMenu:ss},"public"),useGridApiEventHandler(ts,"columnResizeStart",os),useGridApiEventHandler(ts,"virtualScrollerWheel",ts.current.hideColumnMenu),useGridApiEventHandler(ts,"virtualScrollerTouchMove",ts.current.hideColumnMenu)},COLUMNS_DIMENSION_PROPERTIES=["maxWidth","minWidth","width","flex"];function computeFlexColumnsWidth({initialFreeSpace:ts,totalFlexUnits:rs,flexColumns:ns}){const os=new Set(ns.map(ls=>ls.field)),ss={all:{},frozenFields:[],freeze:ls=>{const cs=ss.all[ls];cs&&cs.frozen!==!0&&(ss.all[ls].frozen=!0,ss.frozenFields.push(ls))}};function as(){if(ss.frozenFields.length===os.size)return;const ls={min:{},max:{}};let cs=ts,us=rs,ds=0;ss.frozenFields.forEach(ps=>{cs-=ss.all[ps].computedWidth,us-=ss.all[ps].flex});for(let ps=0;ps<ns.length;ps+=1){const fs=ns[ps];if(ss.all[fs.field]&&ss.all[fs.field].frozen===!0)continue;let ms=cs/us*fs.flex;ms<fs.minWidth?(ds+=fs.minWidth-ms,ms=fs.minWidth,ls.min[fs.field]=!0):ms>fs.maxWidth&&(ds+=fs.maxWidth-ms,ms=fs.maxWidth,ls.max[fs.field]=!0),ss.all[fs.field]={frozen:!1,computedWidth:ms,flex:fs.flex}}ds<0?Object.keys(ls.max).forEach(ps=>{ss.freeze(ps)}):ds>0?Object.keys(ls.min).forEach(ps=>{ss.freeze(ps)}):ns.forEach(({field:ps})=>{ss.freeze(ps)}),as()}return as(),ss.all}const hydrateColumnsWidth=(ts,rs)=>{const ns={};let os=0,ss=0;const as=[];ts.orderedFields.forEach(cs=>{const us=_extends$5({},ts.lookup[cs]);if(ts.columnVisibilityModel[cs]===!1)us.computedWidth=0;else{let ds;us.flex&&us.flex>0?(os+=us.flex,ds=0,as.push(us)):ds=clamp$1(us.width||GRID_STRING_COL_DEF.width,us.minWidth||GRID_STRING_COL_DEF.minWidth,us.maxWidth||GRID_STRING_COL_DEF.maxWidth),ss+=ds,us.computedWidth=ds}ns[cs]=us});const ls=Math.max(rs-ss,0);if(os>0&&rs>0){const cs=computeFlexColumnsWidth({initialFreeSpace:ls,totalFlexUnits:os,flexColumns:as});Object.keys(cs).forEach(us=>{ns[us].computedWidth=cs[us].computedWidth})}return _extends$5({},ts,{lookup:ns})},applyInitialState=(ts,rs)=>{if(!rs)return ts;const{orderedFields:ns=[],dimensions:os={}}=rs,ss=Object.keys(os);if(ss.length===0&&ns.length===0)return ts;const as={},ls=[];for(let ps=0;ps<ns.length;ps+=1){const fs=ns[ps];ts.lookup[fs]&&(as[fs]=!0,ls.push(fs))}const cs=ls.length===0?ts.orderedFields:[...ls,...ts.orderedFields.filter(ps=>!as[ps])],us=_extends$5({},ts.lookup);for(let ps=0;ps<ss.length;ps+=1){const fs=ss[ps],hs=_extends$5({},us[fs],{hasBeenResized:!0});Object.entries(os[fs]).forEach(([ms,gs])=>{hs[ms]=gs===-1?1/0:gs}),us[fs]=hs}return _extends$5({},ts,{orderedFields:cs,lookup:us})};function getDefaultColTypeDef(ts,rs){let ns=ts[DEFAULT_GRID_COL_TYPE_KEY];return rs&&ts[rs]&&(ns=ts[rs]),ns}const createColumnsState=({apiRef:ts,columnsToUpsert:rs,initialState:ns,columnTypes:os,columnVisibilityModel:ss=gridColumnVisibilityModelSelector(ts),keepOnlyColumnsToUpsert:as=!1})=>{var ls,cs,us;const ds=!ts.current.state.columns;let ps;if(ds)ps={orderedFields:[],lookup:{},columnVisibilityModel:ss};else{const gs=gridColumnsStateSelector(ts.current.state);ps={orderedFields:as?[]:[...gs.orderedFields],lookup:_extends$5({},gs.lookup),columnVisibilityModel:ss}}let fs={};as&&!ds&&(fs=Object.keys(ps.lookup).reduce((gs,vs)=>_extends$5({},gs,{[vs]:!1}),{})),rs.forEach(gs=>{const{field:vs}=gs;fs[vs]=!0;let bs=ps.lookup[vs];bs==null?(bs=_extends$5({},getDefaultColTypeDef(os,gs.type),{field:vs,hasBeenResized:!1}),ps.orderedFields.push(vs)):as&&ps.orderedFields.push(vs),bs&&bs.type!==gs.type&&(bs=_extends$5({},getDefaultColTypeDef(os,gs.type),{field:vs}));let xs=bs.hasBeenResized;COLUMNS_DIMENSION_PROPERTIES.forEach(ys=>{gs[ys]!==void 0&&(xs=!0,gs[ys]===-1&&(gs[ys]=1/0))}),ps.lookup[vs]=_extends$5({},bs,gs,{hasBeenResized:xs})}),as&&!ds&&Object.keys(ps.lookup).forEach(gs=>{fs[gs]||delete ps.lookup[gs]});const hs=ts.current.unstable_applyPipeProcessors("hydrateColumns",ps),ms=applyInitialState(hs,ns);return hydrateColumnsWidth(ms,(ls=(cs=(us=ts.current).getRootDimensions)==null||(cs=cs.call(us))==null?void 0:cs.viewportInnerSize.width)!=null?ls:0)},mergeColumnsState=ts=>rs=>_extends$5({},rs,{columns:ts});function getFirstNonSpannedColumnToRender({firstColumnToRender:ts,apiRef:rs,firstRowToRender:ns,lastRowToRender:os,visibleRows:ss}){let as=ts;for(let ls=ns;ls<os;ls+=1)if(ss[ls]){const us=ss[ls].id,ds=rs.current.unstable_getCellColSpanInfo(us,ts);ds&&ds.spannedByColSpan&&(as=ds.leftVisibleCellIndex)}return as}function getFirstColumnIndexToRender({firstColumnIndex:ts,minColumnIndex:rs,columnBuffer:ns,firstRowToRender:os,lastRowToRender:ss,apiRef:as,visibleRows:ls}){const cs=Math.max(ts-ns,rs);return getFirstNonSpannedColumnToRender({firstColumnToRender:cs,apiRef:as,firstRowToRender:os,lastRowToRender:ss,visibleRows:ls})}function getTotalHeaderHeight(ts,rs){const ns=gridDensityFactorSelector(ts),os=gridColumnGroupsHeaderMaxDepthSelector(ts);return Math.floor(rs*ns)*((os!=null?os:0)+1)}const defaultColumnTypes=getGridDefaultColumnTypes(),columnsStateInitializer=(ts,rs,ns)=>{var os,ss,as,ls;const cs=createColumnsState({apiRef:ns,columnTypes:defaultColumnTypes,columnsToUpsert:rs.columns,initialState:(os=rs.initialState)==null?void 0:os.columns,columnVisibilityModel:(ss=(as=rs.columnVisibilityModel)!=null?as:(ls=rs.initialState)==null||(ls=ls.columns)==null?void 0:ls.columnVisibilityModel)!=null?ss:{},keepOnlyColumnsToUpsert:!0});return _extends$5({},ts,{columns:cs})};function useGridColumns(ts,rs){var ns,os;const ss=useGridLogger(ts,"useGridColumns"),as=defaultColumnTypes,ls=reactExports.useRef(rs.columns),cs=reactExports.useRef(as);ts.current.registerControlState({stateId:"visibleColumns",propModel:rs.columnVisibilityModel,propOnChange:rs.onColumnVisibilityModelChange,stateSelector:gridColumnVisibilityModelSelector,changeEvent:"columnVisibilityModelChange"});const us=reactExports.useCallback(Os=>{ss.debug("Updating columns state."),ts.current.setState(mergeColumnsState(Os)),ts.current.forceUpdate(),ts.current.publishEvent("columnsChange",Os.orderedFields)},[ss,ts]),ds=reactExports.useCallback(Os=>gridColumnLookupSelector(ts)[Os],[ts]),ps=reactExports.useCallback(()=>gridColumnDefinitionsSelector(ts),[ts]),fs=reactExports.useCallback(()=>gridVisibleColumnDefinitionsSelector(ts),[ts]),hs=reactExports.useCallback((Os,Ds=!0)=>(Ds?gridVisibleColumnDefinitionsSelector(ts):gridColumnDefinitionsSelector(ts)).findIndex(js=>js.field===Os),[ts]),ms=reactExports.useCallback(Os=>{const Ds=hs(Os);return gridColumnPositionsSelector(ts)[Ds]},[ts,hs]),gs=reactExports.useCallback(Os=>{gridColumnVisibilityModelSelector(ts)!==Os&&(ts.current.setState(Fs=>_extends$5({},Fs,{columns:createColumnsState({apiRef:ts,columnTypes:as,columnsToUpsert:[],initialState:void 0,columnVisibilityModel:Os,keepOnlyColumnsToUpsert:!1})})),ts.current.forceUpdate())},[ts,as]),vs=reactExports.useCallback(Os=>{const Ds=createColumnsState({apiRef:ts,columnTypes:as,columnsToUpsert:Os,initialState:void 0,keepOnlyColumnsToUpsert:!1});us(Ds)},[ts,us,as]),bs=reactExports.useCallback((Os,Ds)=>{var Fs;const js=gridColumnVisibilityModelSelector(ts),Ps=(Fs=js[Os])!=null?Fs:!0;if(Ds!==Ps){const Ls=_extends$5({},js,{[Os]:Ds});ts.current.setColumnVisibilityModel(Ls)}},[ts]),xs=reactExports.useCallback(Os=>gridColumnFieldsSelector(ts).findIndex(Fs=>Fs===Os),[ts]),ys=reactExports.useCallback((Os,Ds)=>{const Fs=gridColumnFieldsSelector(ts),js=xs(Os);if(js===Ds)return;ss.debug("Moving column ".concat(Os," to index ").concat(Ds));const Ps=[...Fs],Ls=Ps.splice(js,1)[0];Ps.splice(Ds,0,Ls),us(_extends$5({},gridColumnsStateSelector(ts.current.state),{orderedFields:Ps}));const Ns={column:ts.current.getColumn(Os),targetIndex:ts.current.getColumnIndexRelativeToVisibleColumns(Os),oldIndex:js};ts.current.publishEvent("columnIndexChange",Ns)},[ts,ss,us,xs]),Ss=reactExports.useCallback((Os,Ds)=>{var Fs,js;ss.debug("Updating column ".concat(Os," width to ").concat(Ds));const Ps=gridColumnsStateSelector(ts.current.state),Ls=Ps.lookup[Os],Ns=_extends$5({},Ls,{width:Ds,hasBeenResized:!0});us(hydrateColumnsWidth(_extends$5({},Ps,{lookup:_extends$5({},Ps.lookup,{[Os]:Ns})}),(Fs=(js=ts.current.getRootDimensions())==null?void 0:js.viewportInnerSize.width)!=null?Fs:0)),ts.current.publishEvent("columnWidthChange",{element:ts.current.getColumnHeaderElement(Os),colDef:Ns,width:Ds})},[ts,ss,us]),Cs={getColumn:ds,getAllColumns:ps,getColumnIndex:hs,getColumnPosition:ms,getVisibleColumns:fs,getColumnIndexRelativeToVisibleColumns:xs,updateColumns:vs,setColumnVisibilityModel:gs,setColumnVisibility:bs,setColumnWidth:Ss},$s={setColumnIndex:ys};useGridApiMethod(ts,Cs,"public"),useGridApiMethod(ts,$s,rs.signature===GridSignature.DataGrid?"private":"public");const Es=reactExports.useCallback((Os,Ds)=>{var Fs,js;const Ps={},Ls=gridColumnVisibilityModelSelector(ts);(!Ds.exportOnlyDirtyModels||rs.columnVisibilityModel!=null||Object.keys((Fs=(js=rs.initialState)==null||(js=js.columns)==null?void 0:js.columnVisibilityModel)!=null?Fs:{}).length>0||Object.keys(Ls).length>0)&&(Ps.columnVisibilityModel=Ls),Ps.orderedFields=gridColumnFieldsSelector(ts);const Gs=gridColumnDefinitionsSelector(ts),Us={};return Gs.forEach(Hs=>{if(Hs.hasBeenResized){const zs={};COLUMNS_DIMENSION_PROPERTIES.forEach(qs=>{let Vs=Hs[qs];Vs===1/0&&(Vs=-1),zs[qs]=Vs}),Us[Hs.field]=zs}}),Object.keys(Us).length>0&&(Ps.dimensions=Us),_extends$5({},Os,{columns:Ps})},[ts,rs.columnVisibilityModel,(ns=rs.initialState)==null?void 0:ns.columns]),ws=reactExports.useCallback((Os,Ds)=>{var Fs;const js=(Fs=Ds.stateToRestore.columns)==null?void 0:Fs.columnVisibilityModel,Ps=Ds.stateToRestore.columns;if(js==null&&Ps==null)return Os;const Ls=createColumnsState({apiRef:ts,columnTypes:as,columnsToUpsert:[],initialState:Ps,columnVisibilityModel:js,keepOnlyColumnsToUpsert:!1});return ts.current.setState(mergeColumnsState(Ls)),Ps!=null&&ts.current.publishEvent("columnsChange",Ls.orderedFields),Os},[ts,as]),Ts=reactExports.useCallback((Os,Ds)=>{if(Ds===GridPreferencePanelsValue.columns){var Fs;const js=rs.slots.columnsPanel;return jsxRuntimeExports.jsx(js,_extends$5({},(Fs=rs.slotProps)==null?void 0:Fs.columnsPanel))}return Os},[rs.slots.columnsPanel,(os=rs.slotProps)==null?void 0:os.columnsPanel]),Is=reactExports.useCallback(Os=>rs.disableColumnSelector?Os:[...Os,"columnMenuColumnsItem"],[rs.disableColumnSelector]);useGridRegisterPipeProcessor(ts,"columnMenu",Is),useGridRegisterPipeProcessor(ts,"exportState",Es),useGridRegisterPipeProcessor(ts,"restoreState",ws),useGridRegisterPipeProcessor(ts,"preferencePanel",Ts);const Rs=reactExports.useRef(null);useGridApiEventHandler(ts,"viewportInnerSizeChange",Os=>{Rs.current!==Os.width&&(Rs.current=Os.width,us(hydrateColumnsWidth(gridColumnsStateSelector(ts.current.state),Os.width)))});const ks=reactExports.useCallback(()=>{ss.info("Columns pipe processing have changed, regenerating the columns");const Os=createColumnsState({apiRef:ts,columnTypes:as,columnsToUpsert:[],initialState:void 0,keepOnlyColumnsToUpsert:!1});us(Os)},[ts,ss,us,as]);useGridRegisterPipeApplier(ts,"hydrateColumns",ks);const Ms=reactExports.useRef(!0);reactExports.useEffect(()=>{if(Ms.current){Ms.current=!1;return}if(ss.info("GridColumns have changed, new length ".concat(rs.columns.length)),ls.current===rs.columns&&cs.current===as)return;const Os=createColumnsState({apiRef:ts,columnTypes:as,initialState:void 0,columnsToUpsert:rs.columns,keepOnlyColumnsToUpsert:!0});ls.current=rs.columns,cs.current=as,us(Os)},[ss,ts,us,rs.columns,as]),reactExports.useEffect(()=>{rs.columnVisibilityModel!==void 0&&ts.current.setColumnVisibilityModel(rs.columnVisibilityModel)},[ts,ss,rs.columnVisibilityModel])}const COMPACT_DENSITY_FACTOR=.7,COMFORTABLE_DENSITY_FACTOR=1.3,DENSITY_FACTORS={compact:COMPACT_DENSITY_FACTOR,comfortable:COMFORTABLE_DENSITY_FACTOR,standard:1},densityStateInitializer=(ts,rs)=>_extends$5({},ts,{density:{value:rs.density,factor:DENSITY_FACTORS[rs.density]}}),useGridDensity=(ts,rs)=>{const ns=useGridLogger(ts,"useDensity"),os=reactExports.useCallback(as=>{ns.debug("Set grid density to ".concat(as)),ts.current.setState(ls=>{const cs=gridDensitySelector(ls),us={value:as,factor:DENSITY_FACTORS[as]};return isDeepEqual(cs,us)?ls:_extends$5({},ls,{density:us})}),ts.current.forceUpdate()},[ns,ts]);reactExports.useEffect(()=>{ts.current.setDensity(rs.density)},[ts,rs.density]),useGridApiMethod(ts,{setDensity:os},"public")};function exportAs(ts,rs="csv",ns=document.title||"untitled"){const os="".concat(ns,".").concat(rs);if("download"in HTMLAnchorElement.prototype){const ss=URL.createObjectURL(ts),as=document.createElement("a");as.href=ss,as.download=os,as.click(),setTimeout(()=>{URL.revokeObjectURL(ss)});return}throw new Error("MUI: exportAs not supported")}const getColumnsToExport=({apiRef:ts,options:rs})=>{const ns=gridColumnDefinitionsSelector(ts);return rs.fields?rs.fields.reduce((ss,as)=>{const ls=ns.find(cs=>cs.field===as);return ls&&ss.push(ls),ss},[]):(rs.allColumns?ns:gridVisibleColumnDefinitionsSelector(ts)).filter(ss=>!ss.disableExport)},defaultGetRowsToExport=({apiRef:ts})=>{var rs,ns;const os=gridFilteredSortedRowIdsSelector(ts),ss=gridRowTreeSelector(ts),as=ts.current.getSelectedRows(),ls=os.filter(ps=>ss[ps].type!=="footer"),cs=gridPinnedRowsSelector(ts),us=(cs==null||(rs=cs.top)==null?void 0:rs.map(ps=>ps.id))||[],ds=(cs==null||(ns=cs.bottom)==null?void 0:ns.map(ps=>ps.id))||[];return ls.unshift(...us),ls.push(...ds),as.size>0?ls.filter(ps=>as.has(ps)):ls},useGridCsvExport=(ts,rs)=>{const ns=useGridLogger(ts,"useGridCsvExport"),os=rs.unstable_ignoreValueFormatterDuringExport,ss=(typeof os=="object"?os==null?void 0:os.csvExport:os)||!1,as=reactExports.useCallback((ds={})=>{var ps,fs,hs,ms,gs;ns.debug("Get data as CSV");const vs=getColumnsToExport({apiRef:ts,options:ds}),xs=((ps=ds.getRowsToExport)!=null?ps:defaultGetRowsToExport)({apiRef:ts});return buildCSV({columns:vs,rowIds:xs,csvOptions:{delimiter:ds.delimiter||",",shouldAppendQuotes:(fs=ds.shouldAppendQuotes)!=null?fs:!0,includeHeaders:(hs=ds.includeHeaders)!=null?hs:!0,includeColumnGroupsHeaders:(ms=ds.includeColumnGroupsHeaders)!=null?ms:!0,escapeFormulas:(gs=ds.escapeFormulas)!=null?gs:!0},ignoreValueFormatter:ss,apiRef:ts})},[ns,ts,ss]),ls=reactExports.useCallback(ds=>{ns.debug("Export data as CSV");const ps=as(ds),fs=new Blob([ds!=null&&ds.utf8WithBom?new Uint8Array([239,187,191]):"",ps],{type:"text/csv"});exportAs(fs,"csv",ds==null?void 0:ds.fileName)},[ns,as]);useGridApiMethod(ts,{getDataAsCsv:as,exportDataAsCsv:ls},"public");const us=reactExports.useCallback((ds,ps)=>{var fs;return(fs=ps.csvOptions)!=null&&fs.disableToolbarButton?ds:[...ds,{component:jsxRuntimeExports.jsx(GridCsvExportMenuItem,{options:ps.csvOptions}),componentName:"csvExport"}]},[]);useGridRegisterPipeProcessor(ts,"exportMenu",us)},getDerivedPaginationModel=(ts,rs,ns)=>{var os;let ss=ts.paginationModel;const as=ts.rowCount,ls=(os=ns==null?void 0:ns.pageSize)!=null?os:ss.pageSize,cs=getPageCount(as,ls);ns&&((ns==null?void 0:ns.page)!==ss.page||(ns==null?void 0:ns.pageSize)!==ss.pageSize)&&(ss=ns);const us=getValidPage(ss.page,cs);return us!==ss.page&&(ss=_extends$5({},ss,{page:us})),throwIfPageSizeExceedsTheLimit(ss.pageSize,rs),ss},useGridPaginationModel=(ts,rs)=>{var ns;const os=useGridLogger(ts,"useGridPaginationModel"),ss=useGridSelector(ts,gridDensityFactorSelector),as=Math.floor(rs.rowHeight*ss);ts.current.registerControlState({stateId:"paginationModel",propModel:rs.paginationModel,propOnChange:rs.onPaginationModelChange,stateSelector:gridPaginationModelSelector,changeEvent:"paginationModelChange"});const ls=reactExports.useCallback(vs=>{const bs=gridPaginationModelSelector(ts);vs!==bs.page&&(os.debug("Setting page to ".concat(vs)),ts.current.setPaginationModel({page:vs,pageSize:bs.pageSize}))},[ts,os]),cs=reactExports.useCallback(vs=>{const bs=gridPaginationModelSelector(ts);vs!==bs.pageSize&&(os.debug("Setting page size to ".concat(vs)),ts.current.setPaginationModel({pageSize:vs,page:bs.page}))},[ts,os]),us=reactExports.useCallback(vs=>{const bs=gridPaginationModelSelector(ts);vs!==bs&&(os.debug("Setting 'paginationModel' to",vs),ts.current.setState(xs=>_extends$5({},xs,{pagination:_extends$5({},xs.pagination,{paginationModel:getDerivedPaginationModel(xs.pagination,rs.signature,vs)})})))},[ts,os,rs.signature]);useGridApiMethod(ts,{setPage:ls,setPageSize:cs,setPaginationModel:us},"public");const ps=reactExports.useCallback((vs,bs)=>{var xs;const ys=gridPaginationModelSelector(ts);return!bs.exportOnlyDirtyModels||rs.paginationModel!=null||((xs=rs.initialState)==null||(xs=xs.pagination)==null?void 0:xs.paginationModel)!=null||ys.page!==0&&ys.pageSize!==defaultPageSize(rs.autoPageSize)?_extends$5({},vs,{pagination:_extends$5({},vs.pagination,{paginationModel:ys})}):vs},[ts,rs.paginationModel,(ns=rs.initialState)==null||(ns=ns.pagination)==null?void 0:ns.paginationModel,rs.autoPageSize]),fs=reactExports.useCallback((vs,bs)=>{var xs,ys;const Ss=(xs=bs.stateToRestore.pagination)!=null&&xs.paginationModel?_extends$5({},getDefaultGridPaginationModel(rs.autoPageSize),(ys=bs.stateToRestore.pagination)==null?void 0:ys.paginationModel):gridPaginationModelSelector(ts);return ts.current.setState(Cs=>_extends$5({},Cs,{pagination:_extends$5({},Cs.pagination,{paginationModel:getDerivedPaginationModel(Cs.pagination,rs.signature,Ss)})})),vs},[ts,rs.autoPageSize,rs.signature]);useGridRegisterPipeProcessor(ts,"exportState",ps),useGridRegisterPipeProcessor(ts,"restoreState",fs);const hs=()=>{var vs;const bs=gridPaginationModelSelector(ts);(vs=ts.current.virtualScrollerRef)!=null&&vs.current&&ts.current.scrollToIndexes({rowIndex:bs.page*bs.pageSize})},ms=reactExports.useCallback(()=>{if(!rs.autoPageSize)return;const vs=ts.current.getRootDimensions()||{viewportInnerSize:{height:0}},bs=calculatePinnedRowsHeight(ts),xs=Math.floor((vs.viewportInnerSize.height-bs.top-bs.bottom)/as);ts.current.setPageSize(xs)},[ts,rs.autoPageSize,as]),gs=reactExports.useCallback(vs=>{if(vs==null)return;const bs=gridPaginationModelSelector(ts),xs=gridPageCountSelector(ts);bs.page>xs-1&&ts.current.setPage(Math.max(0,xs-1))},[ts]);useGridApiEventHandler(ts,"viewportInnerSizeChange",ms),useGridApiEventHandler(ts,"paginationModelChange",hs),useGridApiEventHandler(ts,"rowCountChange",gs),reactExports.useEffect(()=>{ts.current.setState(vs=>_extends$5({},vs,{pagination:_extends$5({},vs.pagination,{paginationModel:getDerivedPaginationModel(vs.pagination,rs.signature,rs.paginationModel)})}))},[ts,rs.paginationModel,rs.paginationMode,rs.signature]),reactExports.useEffect(ms,[ms])};function raf(){return new Promise(ts=>{requestAnimationFrame(()=>{ts()})})}function buildPrintWindow(ts){const rs=document.createElement("iframe");return rs.style.position="absolute",rs.style.width="0px",rs.style.height="0px",rs.title=ts||document.title,rs}const useGridPrintExport=(ts,rs)=>{const ns=useGridLogger(ts,"useGridPrintExport"),os=reactExports.useRef(null),ss=reactExports.useRef(null),as=reactExports.useRef({}),ls=reactExports.useRef([]);reactExports.useEffect(()=>{os.current=ownerDocument(ts.current.rootElementRef.current)},[ts]);const cs=reactExports.useCallback((gs,vs,bs)=>new Promise(xs=>{const ys=getColumnsToExport({apiRef:ts,options:{fields:gs,allColumns:vs}}).map($s=>$s.field),Ss=gridColumnDefinitionsSelector(ts),Cs={};Ss.forEach($s=>{Cs[$s.field]=ys.includes($s.field)}),bs&&(Cs[GRID_CHECKBOX_SELECTION_COL_DEF.field]=!0),ts.current.setColumnVisibilityModel(Cs),xs()}),[ts]),us=reactExports.useCallback(gs=>{const bs=gs({apiRef:ts}).map(xs=>ts.current.getRow(xs));ts.current.setRows(bs)},[ts]),ds=reactExports.useCallback((gs,vs)=>{var bs,xs;const ys=_extends$5({copyStyles:!0,hideToolbar:!1,hideFooter:!1,includeCheckboxes:!1},vs),Ss=gs.contentDocument;if(!Ss)return;const Cs=gridRowsMetaSelector(ts.current.state),$s=ts.current.rootElementRef.current,Es=$s.cloneNode(!0),ws=Es.querySelector(".".concat(gridClasses.main));ws.style.overflow="visible",Es.style.contain="size";const Is=Es.querySelector(".".concat(gridClasses.columnHeaders)).querySelector(".".concat(gridClasses.columnHeadersInner));Is.style.width="100%";let Rs=((bs=$s.querySelector(".".concat(gridClasses.toolbarContainer)))==null?void 0:bs.offsetHeight)||0,As=((xs=$s.querySelector(".".concat(gridClasses.footerContainer)))==null?void 0:xs.offsetHeight)||0;if(ys.hideToolbar){var ks;(ks=Es.querySelector(".".concat(gridClasses.toolbarContainer)))==null||ks.remove(),Rs=0}if(ys.hideFooter){var Ms;(Ms=Es.querySelector(".".concat(gridClasses.footerContainer)))==null||Ms.remove(),As=0}const Os=Cs.currentPageTotalHeight+getTotalHeaderHeight(ts,rs.columnHeaderHeight)+Rs+As;if(Es.style.height="".concat(Os,"px"),Es.style.boxSizing="content-box",vs!=null&&vs.getRowsToExport){const Ps=Es.querySelector(".".concat(gridClasses.footerContainer));Ps.style.position="absolute",Ps.style.width="100%",Ps.style.top="".concat(Os-As,"px")}const Ds=document.createElement("div");Ds.appendChild(Es),Ss.body.innerHTML=Ds.innerHTML;const Fs=typeof ys.pageStyle=="function"?ys.pageStyle():ys.pageStyle;if(typeof Fs=="string"){const Ps=Ss.createElement("style");Ps.appendChild(Ss.createTextNode(Fs)),Ss.head.appendChild(Ps)}ys.bodyClassName&&Ss.body.classList.add(...ys.bodyClassName.split(" "));const js=[];if(ys.copyStyles){const Ps=$s.getRootNode(),Ns=(Ps.constructor.name==="ShadowRoot"?Ps:os.current).querySelectorAll("style, link[rel='stylesheet']");for(let Gs=0;Gs<Ns.length;Gs+=1){const Us=Ns[Gs];if(Us.tagName==="STYLE"){const Hs=Ss.createElement(Us.tagName),zs=Us.sheet;if(zs){let qs="";for(let Vs=0;Vs<zs.cssRules.length;Vs+=1)typeof zs.cssRules[Vs].cssText=="string"&&(qs+="".concat(zs.cssRules[Vs].cssText,"\r\n"));Hs.appendChild(Ss.createTextNode(qs)),Ss.head.appendChild(Hs)}}else if(Us.getAttribute("href")){const Hs=Ss.createElement(Us.tagName);for(let zs=0;zs<Us.attributes.length;zs+=1){const qs=Us.attributes[zs];qs&&Hs.setAttribute(qs.nodeName,qs.nodeValue||"")}js.push(new Promise(zs=>{Hs.addEventListener("load",()=>zs())})),Ss.head.appendChild(Hs)}}}Promise.all(js).then(()=>{gs.contentWindow.print()})},[ts,os,rs.columnHeaderHeight]),ps=reactExports.useCallback(gs=>{var vs;os.current.body.removeChild(gs),ts.current.restoreState(ss.current||{}),(vs=ss.current)!=null&&(vs=vs.columns)!=null&&vs.columnVisibilityModel||ts.current.setColumnVisibilityModel(as.current),ts.current.unstable_setVirtualization(!0),ts.current.setRows(ls.current),ss.current=null,as.current={},ls.current=[]},[ts]),hs={exportDataAsPrint:reactExports.useCallback(async gs=>{if(ns.debug("Export data as Print"),!ts.current.rootElementRef.current)throw new Error("MUI: No grid root element available.");ss.current=ts.current.exportState(),as.current=gridColumnVisibilityModelSelector(ts);const vs=gridRowsLookupSelector(ts);if(ls.current=gridDataRowIdsSelector(ts).map(xs=>vs[xs]),rs.pagination){const ys={page:0,pageSize:gridExpandedRowCountSelector(ts)};ts.current.setState(Ss=>_extends$5({},Ss,{pagination:_extends$5({},Ss.pagination,{paginationModel:getDerivedPaginationModel(Ss.pagination,"DataGridPro",ys)})})),ts.current.forceUpdate()}await cs(gs==null?void 0:gs.fields,gs==null?void 0:gs.allColumns,gs==null?void 0:gs.includeCheckboxes),gs!=null&&gs.getRowsToExport&&us(gs.getRowsToExport),ts.current.unstable_setVirtualization(!1),await raf();const bs=buildPrintWindow(gs==null?void 0:gs.fileName);bs.onload=()=>{ds(bs,gs),bs.contentWindow.matchMedia("print").addEventListener("change",ys=>{ys.matches===!1&&ps(bs)})},os.current.body.appendChild(bs)},[rs,ns,ts,ds,ps,cs,us])};useGridApiMethod(ts,hs,"public");const ms=reactExports.useCallback((gs,vs)=>{var bs;return(bs=vs.printOptions)!=null&&bs.disableToolbarButton?gs:[...gs,{component:jsxRuntimeExports.jsx(GridPrintExportMenuItem,{options:vs.printOptions}),componentName:"printExport"}]},[]);useGridRegisterPipeProcessor(ts,"exportMenu",ms)},filterStateInitializer=(ts,rs,ns)=>{var os,ss,as;const ls=(os=(ss=rs.filterModel)!=null?ss:(as=rs.initialState)==null||(as=as.filter)==null?void 0:as.filterModel)!=null?os:getDefaultGridFilterModel();return _extends$5({},ts,{filter:{filterModel:sanitizeFilterModel(ls,rs.disableMultipleColumnsFiltering,ns),filteredRowsLookup:{},filteredDescendantCountLookup:{}},visibleRowsLookup:{}})},getVisibleRowsLookup$1=ts=>ts.filteredRowsLookup;function getVisibleRowsLookupState(ts,rs){return ts.current.applyStrategyProcessor("visibleRowsLookupCreation",{tree:rs.rows.tree,filteredRowsLookup:rs.filter.filteredRowsLookup})}function createMemoizedValues(){return defaultMemoize(Object.values)}const useGridFilter=(ts,rs)=>{var ns,os;const ss=useGridLogger(ts,"useGridFilter");ts.current.registerControlState({stateId:"filter",propModel:rs.filterModel,propOnChange:rs.onFilterModelChange,stateSelector:gridFilterModelSelector,changeEvent:"filterModelChange"});const as=reactExports.useCallback(()=>{ts.current.setState(Rs=>{const As=gridFilterModelSelector(Rs,ts.current.instanceId),ks=rs.filterMode==="client"?buildAggregatedFilterApplier(As,ts,rs.disableEval):null,Ms=ts.current.applyStrategyProcessor("filtering",{isRowMatchingFilters:ks,filterModel:As!=null?As:getDefaultGridFilterModel()}),Os=_extends$5({},Rs,{filter:_extends$5({},Rs.filter,Ms)}),Ds=getVisibleRowsLookupState(ts,Os);return _extends$5({},Os,{visibleRowsLookup:Ds})}),ts.current.publishEvent("filteredRowsSet")},[ts,rs.filterMode,rs.disableEval]),ls=reactExports.useCallback((Rs,As)=>As==null||As.filterable===!1||rs.disableColumnFilter?Rs:[...Rs,"columnMenuFilterItem"],[rs.disableColumnFilter]),cs=reactExports.useCallback(()=>{as(),ts.current.forceUpdate()},[ts,as]),us=reactExports.useCallback(Rs=>{const As=gridFilterModelSelector(ts),ks=[...As.items],Ms=ks.findIndex(Os=>Os.id===Rs.id);Ms===-1?ks.push(Rs):ks[Ms]=Rs,ts.current.setFilterModel(_extends$5({},As,{items:ks}),"upsertFilterItem")},[ts]),ds=reactExports.useCallback(Rs=>{const As=gridFilterModelSelector(ts),ks=[...As.items];Rs.forEach(Ms=>{const Os=Rs.findIndex(Ds=>Ds.id===Ms.id);Os===-1?ks.push(Ms):ks[Os]=Ms}),ts.current.setFilterModel(_extends$5({},As,{items:Rs}),"upsertFilterItems")},[ts]),ps=reactExports.useCallback(Rs=>{const As=gridFilterModelSelector(ts),ks=As.items.filter(Ms=>Ms.id!==Rs.id);ks.length!==As.items.length&&ts.current.setFilterModel(_extends$5({},As,{items:ks}),"deleteFilterItem")},[ts]),fs=reactExports.useCallback((Rs,As,ks)=>{if(ss.debug("Displaying filter panel"),Rs){const Ms=gridFilterModelSelector(ts),Os=Ms.items.filter(Ps=>{var Ls;if(Ps.value!==void 0)return!(Array.isArray(Ps.value)&&Ps.value.length===0);const Gs=(Ls=ts.current.getColumn(Ps.field).filterOperators)==null?void 0:Ls.find(Hs=>Hs.value===Ps.operator);return!(typeof(Gs==null?void 0:Gs.requiresFilterValue)>"u"?!0:Gs==null?void 0:Gs.requiresFilterValue)});let Ds;const Fs=Os.find(Ps=>Ps.field===Rs),js=ts.current.getColumn(Rs);Fs?Ds=Os:rs.disableMultipleColumnsFiltering?Ds=[cleanFilterItem({field:Rs,operator:js.filterOperators[0].value},ts)]:Ds=[...Os,cleanFilterItem({field:Rs,operator:js.filterOperators[0].value},ts)],ts.current.setFilterModel(_extends$5({},Ms,{items:Ds}))}ts.current.showPreferences(GridPreferencePanelsValue.filters,As,ks)},[ts,ss,rs.disableMultipleColumnsFiltering]),hs=reactExports.useCallback(()=>{ss.debug("Hiding filter panel"),ts.current.hidePreferences()},[ts,ss]),ms=reactExports.useCallback(Rs=>{const As=gridFilterModelSelector(ts);As.logicOperator!==Rs&&ts.current.setFilterModel(_extends$5({},As,{logicOperator:Rs}),"changeLogicOperator")},[ts]),gs=reactExports.useCallback(Rs=>{const As=gridFilterModelSelector(ts);isDeepEqual(As.quickFilterValues,Rs)||ts.current.setFilterModel(_extends$5({},As,{quickFilterValues:[...Rs]}))},[ts]),vs=reactExports.useCallback((Rs,As)=>{gridFilterModelSelector(ts)!==Rs&&(ss.debug("Setting filter model"),ts.current.updateControlState("filter",mergeStateWithFilterModel(Rs,rs.disableMultipleColumnsFiltering,ts),As),ts.current.unstable_applyFilters())},[ts,ss,rs.disableMultipleColumnsFiltering]),bs={setFilterLogicOperator:ms,unstable_applyFilters:cs,deleteFilterItem:ps,upsertFilterItem:us,upsertFilterItems:ds,setFilterModel:vs,showFilterPanel:fs,hideFilterPanel:hs,setQuickFilterValues:gs,ignoreDiacritics:rs.ignoreDiacritics};useGridApiMethod(ts,bs,"public");const xs=reactExports.useCallback((Rs,As)=>{var ks;const Ms=gridFilterModelSelector(ts);return!As.exportOnlyDirtyModels||rs.filterModel!=null||((ks=rs.initialState)==null||(ks=ks.filter)==null?void 0:ks.filterModel)!=null||!isDeepEqual(Ms,getDefaultGridFilterModel())?_extends$5({},Rs,{filter:{filterModel:Ms}}):Rs},[ts,rs.filterModel,(ns=rs.initialState)==null||(ns=ns.filter)==null?void 0:ns.filterModel]),ys=reactExports.useCallback((Rs,As)=>{var ks;const Ms=(ks=As.stateToRestore.filter)==null?void 0:ks.filterModel;return Ms==null?Rs:(ts.current.updateControlState("filter",mergeStateWithFilterModel(Ms,rs.disableMultipleColumnsFiltering,ts),"restoreState"),_extends$5({},Rs,{callbacks:[...Rs.callbacks,ts.current.unstable_applyFilters]}))},[ts,rs.disableMultipleColumnsFiltering]),Ss=reactExports.useCallback((Rs,As)=>{if(As===GridPreferencePanelsValue.filters){var ks;const Ms=rs.slots.filterPanel;return jsxRuntimeExports.jsx(Ms,_extends$5({},(ks=rs.slotProps)==null?void 0:ks.filterPanel))}return Rs},[rs.slots.filterPanel,(os=rs.slotProps)==null?void 0:os.filterPanel]),{getRowId:Cs}=rs,$s=useLazyRef(createMemoizedValues),Es=reactExports.useCallback(Rs=>{if(rs.filterMode!=="client"||!Rs.isRowMatchingFilters)return{filteredRowsLookup:{},filteredDescendantCountLookup:{}};const As=gridRowsLookupSelector(ts),ks={},{isRowMatchingFilters:Ms}=Rs,Os={},Ds={passingFilterItems:null,passingQuickFilterValues:null},Fs=$s.current(ts.current.state.rows.dataRowIdToModelLookup);for(let Ls=0;Ls<Fs.length;Ls+=1){const Ns=Fs[Ls],Gs=Cs?Cs(Ns):Ns.id;Ms(Ns,void 0,Ds);const Us=passFilterLogic([Ds.passingFilterItems],[Ds.passingQuickFilterValues],Rs.filterModel,ts,Os);ks[Gs]=Us}const js="auto-generated-group-footer-root";return As[js]&&(ks[js]=!0),{filteredRowsLookup:ks,filteredDescendantCountLookup:{}}},[ts,rs.filterMode,Cs,$s]);useGridRegisterPipeProcessor(ts,"columnMenu",ls),useGridRegisterPipeProcessor(ts,"exportState",xs),useGridRegisterPipeProcessor(ts,"restoreState",ys),useGridRegisterPipeProcessor(ts,"preferencePanel",Ss),useGridRegisterStrategyProcessor(ts,GRID_DEFAULT_STRATEGY,"filtering",Es),useGridRegisterStrategyProcessor(ts,GRID_DEFAULT_STRATEGY,"visibleRowsLookupCreation",getVisibleRowsLookup$1);const ws=reactExports.useCallback(()=>{ss.debug("onColUpdated - GridColumns changed, applying filters");const Rs=gridFilterModelSelector(ts),As=gridFilterableColumnLookupSelector(ts),ks=Rs.items.filter(Ms=>Ms.field&&As[Ms.field]);ks.length<Rs.items.length&&ts.current.setFilterModel(_extends$5({},Rs,{items:ks}))},[ts,ss]),Ts=reactExports.useCallback(Rs=>{Rs==="filtering"&&ts.current.unstable_applyFilters()},[ts]),Is=reactExports.useCallback(()=>{ts.current.setState(Rs=>_extends$5({},Rs,{visibleRowsLookup:getVisibleRowsLookupState(ts,Rs)})),ts.current.forceUpdate()},[ts]);useGridApiEventHandler(ts,"rowsSet",as),useGridApiEventHandler(ts,"columnsChange",ws),useGridApiEventHandler(ts,"activeStrategyProcessorChange",Ts),useGridApiEventHandler(ts,"rowExpansionChange",Is),useGridApiEventHandler(ts,"columnVisibilityModelChange",()=>{const Rs=gridFilterModelSelector(ts);Rs.quickFilterValues&&Rs.quickFilterExcludeHiddenColumns&&ts.current.unstable_applyFilters()}),useFirstRender(()=>{ts.current.unstable_applyFilters()}),useEnhancedEffect$1(()=>{rs.filterModel!==void 0&&ts.current.setFilterModel(rs.filterModel)},[ts,ss,rs.filterModel])},focusStateInitializer=ts=>_extends$5({},ts,{focus:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null},tabIndex:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}}),useGridFocus=(ts,rs)=>{const ns=useGridLogger(ts,"useGridFocus"),os=reactExports.useRef(null),ss=reactExports.useCallback((ws,Ts)=>{ws&&ts.current.getRow(ws.id)&&ts.current.publishEvent("cellFocusOut",ts.current.getCellParams(ws.id,ws.field),Ts)},[ts]),as=reactExports.useCallback((ws,Ts)=>{const Is=gridFocusCellSelector(ts);(Is==null?void 0:Is.id)===ws&&(Is==null?void 0:Is.field)===Ts||(ts.current.setState(Rs=>(ns.debug("Focusing on cell with id=".concat(ws," and field=").concat(Ts)),_extends$5({},Rs,{tabIndex:{cell:{id:ws,field:Ts},columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null},focus:{cell:{id:ws,field:Ts},columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}}))),ts.current.forceUpdate(),ts.current.getRow(ws)&&(Is&&ss(Is,{}),ts.current.publishEvent("cellFocusIn",ts.current.getCellParams(ws,Ts))))},[ts,ns,ss]),ls=reactExports.useCallback((ws,Ts={})=>{const Is=gridFocusCellSelector(ts);ss(Is,Ts),ts.current.setState(Rs=>(ns.debug("Focusing on column header with colIndex=".concat(ws)),_extends$5({},Rs,{tabIndex:{columnHeader:{field:ws},columnHeaderFilter:null,cell:null,columnGroupHeader:null},focus:{columnHeader:{field:ws},columnHeaderFilter:null,cell:null,columnGroupHeader:null}}))),ts.current.forceUpdate()},[ts,ns,ss]),cs=reactExports.useCallback((ws,Ts={})=>{const Is=gridFocusCellSelector(ts);ss(Is,Ts),ts.current.setState(Rs=>(ns.debug("Focusing on column header filter with colIndex=".concat(ws)),_extends$5({},Rs,{tabIndex:{columnHeader:null,columnHeaderFilter:{field:ws},cell:null,columnGroupHeader:null},focus:{columnHeader:null,columnHeaderFilter:{field:ws},cell:null,columnGroupHeader:null}}))),ts.current.forceUpdate()},[ts,ns,ss]),us=reactExports.useCallback((ws,Ts,Is={})=>{const Rs=gridFocusCellSelector(ts);Rs&&ts.current.publishEvent("cellFocusOut",ts.current.getCellParams(Rs.id,Rs.field),Is),ts.current.setState(As=>_extends$5({},As,{tabIndex:{columnGroupHeader:{field:ws,depth:Ts},columnHeader:null,columnHeaderFilter:null,cell:null},focus:{columnGroupHeader:{field:ws,depth:Ts},columnHeader:null,columnHeaderFilter:null,cell:null}})),ts.current.forceUpdate()},[ts]),ds=reactExports.useCallback(()=>unstable_gridFocusColumnGroupHeaderSelector(ts),[ts]),ps=reactExports.useCallback((ws,Ts,Is)=>{let Rs=ts.current.getColumnIndex(Ts);const As=gridVisibleColumnDefinitionsSelector(ts),ks=getVisibleRows(ts,{pagination:rs.pagination,paginationMode:rs.paginationMode}),Ms=gridPinnedRowsSelector(ts),Os=[].concat(Ms.top||[],ks.rows,Ms.bottom||[]);let Ds=Os.findIndex(Ls=>Ls.id===ws);Is==="right"?Rs+=1:Is==="left"?Rs-=1:Ds+=1,Rs>=As.length?(Ds+=1,Ds<Os.length&&(Rs=0)):Rs<0&&(Ds-=1,Ds>=0&&(Rs=As.length-1)),Ds=clamp$1(Ds,0,Os.length-1);const Fs=Os[Ds];if(!Fs)return;const js=ts.current.unstable_getCellColSpanInfo(Fs.id,Rs);js&&js.spannedByColSpan&&(Is==="left"||Is==="below"?Rs=js.leftVisibleCellIndex:Is==="right"&&(Rs=js.rightVisibleCellIndex)),Rs=clamp$1(Rs,0,As.length-1);const Ps=As[Rs];ts.current.setCellFocus(Fs.id,Ps.field)},[ts,rs.pagination,rs.paginationMode]),fs=reactExports.useCallback(({id:ws,field:Ts})=>{ts.current.setCellFocus(ws,Ts)},[ts]),hs=reactExports.useCallback((ws,Ts)=>{Ts.key==="Enter"||Ts.key==="Tab"||Ts.key==="Shift"||isNavigationKey(Ts.key)||ts.current.setCellFocus(ws.id,ws.field)},[ts]),ms=reactExports.useCallback(({field:ws},Ts)=>{Ts.target===Ts.currentTarget&&ts.current.setColumnHeaderFocus(ws,Ts)},[ts]),gs=reactExports.useCallback(({fields:ws,depth:Ts},Is)=>{if(Is.target!==Is.currentTarget)return;const Rs=unstable_gridFocusColumnGroupHeaderSelector(ts);Rs!==null&&Rs.depth===Ts&&ws.includes(Rs.field)||ts.current.setColumnGroupHeaderFocus(ws[0],Ts,Is)},[ts]),vs=reactExports.useCallback((ws,Ts)=>{var Is;(Is=Ts.relatedTarget)!=null&&Is.className.includes(gridClasses.columnHeader)||(ns.debug("Clearing focus"),ts.current.setState(Rs=>_extends$5({},Rs,{focus:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}})))},[ns,ts]),bs=reactExports.useCallback(ws=>{os.current=ws},[]),xs=reactExports.useCallback(ws=>{const Ts=os.current;os.current=null;const Is=gridFocusCellSelector(ts);if(!ts.current.unstable_applyPipeProcessors("canUpdateFocus",!0,{event:ws,cell:Ts}))return;if(!Is){Ts&&ts.current.setCellFocus(Ts.id,Ts.field);return}if((Ts==null?void 0:Ts.id)===Is.id&&(Ts==null?void 0:Ts.field)===Is.field)return;const As=ts.current.getCellElement(Is.id,Is.field);As!=null&&As.contains(ws.target)||(Ts?ts.current.setCellFocus(Ts.id,Ts.field):(ts.current.setState(ks=>_extends$5({},ks,{focus:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}})),ts.current.forceUpdate(),ss(Is,ws)))},[ts,ss]),ys=reactExports.useCallback(ws=>{if(ws.cellMode==="view")return;const Ts=gridFocusCellSelector(ts);((Ts==null?void 0:Ts.id)!==ws.id||(Ts==null?void 0:Ts.field)!==ws.field)&&ts.current.setCellFocus(ws.id,ws.field)},[ts]),Ss=reactExports.useCallback(()=>{const ws=gridFocusCellSelector(ts);ws&&!ts.current.getRow(ws.id)&&ts.current.setState(Ts=>_extends$5({},Ts,{focus:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}}))},[ts]),Cs=useEventCallback(()=>{const ws=gridFocusCellSelector(ts);if(!ws)return;const Ts=getVisibleRows(ts,{pagination:rs.pagination,paginationMode:rs.paginationMode});if(Ts.rows.find(As=>As.id===ws.id))return;const Rs=gridVisibleColumnDefinitionsSelector(ts);ts.current.setState(As=>_extends$5({},As,{tabIndex:{cell:{id:Ts.rows[0].id,field:Rs[0].field},columnGroupHeader:null,columnHeader:null,columnHeaderFilter:null}}))}),$s={setCellFocus:as,setColumnHeaderFocus:ls,setColumnHeaderFilterFocus:cs},Es={moveFocusToRelativeCell:ps,setColumnGroupHeaderFocus:us,getColumnGroupHeaderFocus:ds};useGridApiMethod(ts,$s,"public"),useGridApiMethod(ts,Es,"private"),reactExports.useEffect(()=>{const ws=ownerDocument(ts.current.rootElementRef.current);return ws.addEventListener("mouseup",xs),()=>{ws.removeEventListener("mouseup",xs)}},[ts,xs]),useGridApiEventHandler(ts,"columnHeaderBlur",vs),useGridApiEventHandler(ts,"cellDoubleClick",fs),useGridApiEventHandler(ts,"cellMouseDown",bs),useGridApiEventHandler(ts,"cellKeyDown",hs),useGridApiEventHandler(ts,"cellModeChange",ys),useGridApiEventHandler(ts,"columnHeaderFocus",ms),useGridApiEventHandler(ts,"columnGroupHeaderFocus",gs),useGridApiEventHandler(ts,"rowsSet",Ss),useGridApiEventHandler(ts,"paginationModelChange",Cs)};function enrichPageRowsWithPinnedRows(ts,rs){const ns=gridPinnedRowsSelector(ts)||{};return[...ns.top||[],...rs,...ns.bottom||[]]}const getLeftColumnIndex=({currentColIndex:ts,firstColIndex:rs,lastColIndex:ns,direction:os})=>{if(os==="rtl"){if(ts<ns)return ts+1}else if(os==="ltr"&&ts>rs)return ts-1;return null},getRightColumnIndex=({currentColIndex:ts,firstColIndex:rs,lastColIndex:ns,direction:os})=>{if(os==="rtl"){if(ts>rs)return ts-1}else if(os==="ltr"&&ts<ns)return ts+1;return null},useGridKeyboardNavigation=(ts,rs)=>{const ns=useGridLogger(ts,"useGridKeyboardNavigation"),os=useGridVisibleRows(ts,rs).rows,ss=useTheme$1(),as=reactExports.useMemo(()=>enrichPageRowsWithPinnedRows(ts,os),[ts,os]),ls=rs.signature!=="DataGrid"&&rs.unstable_headerFilters,cs=reactExports.useCallback((xs,ys,Ss="left")=>{const Cs=gridExpandedSortedRowEntriesSelector(ts),$s=ts.current.unstable_getCellColSpanInfo(ys,xs);$s&&$s.spannedByColSpan&&(Ss==="left"?xs=$s.leftVisibleCellIndex:Ss==="right"&&(xs=$s.rightVisibleCellIndex));const Es=Cs.findIndex(Ts=>Ts.id===ys);ns.debug("Navigating to cell row ".concat(Es,", col ").concat(xs)),ts.current.scrollToIndexes({colIndex:xs,rowIndex:Es});const ws=ts.current.getVisibleColumns()[xs].field;ts.current.setCellFocus(ys,ws)},[ts,ns]),us=reactExports.useCallback((xs,ys)=>{ns.debug("Navigating to header col ".concat(xs)),ts.current.scrollToIndexes({colIndex:xs});const Ss=ts.current.getVisibleColumns()[xs].field;ts.current.setColumnHeaderFocus(Ss,ys)},[ts,ns]),ds=reactExports.useCallback((xs,ys)=>{ns.debug("Navigating to header filter col ".concat(xs)),ts.current.scrollToIndexes({colIndex:xs});const Ss=ts.current.getVisibleColumns()[xs].field;ts.current.setColumnHeaderFilterFocus(Ss,ys)},[ts,ns]),ps=reactExports.useCallback((xs,ys,Ss)=>{ns.debug("Navigating to header col ".concat(xs)),ts.current.scrollToIndexes({colIndex:xs});const{field:Cs}=ts.current.getVisibleColumns()[xs];ts.current.setColumnGroupHeaderFocus(Cs,ys,Ss)},[ts,ns]),fs=reactExports.useCallback(xs=>{var ys;return(ys=as[xs])==null?void 0:ys.id},[as]),hs=reactExports.useCallback((xs,ys)=>{const Ss=ys.currentTarget.querySelector(".".concat(gridClasses.columnHeaderTitleContainerContent));if(!!Ss&&Ss.contains(ys.target)&&xs.field!==GRID_CHECKBOX_SELECTION_COL_DEF.field||!ts.current.getRootDimensions())return;const Es=ts.current.getViewportPageSize(),ws=xs.field?ts.current.getColumnIndex(xs.field):0,Ts=as.length>0?0:null,Is=as.length-1,Rs=0,As=gridVisibleColumnDefinitionsSelector(ts).length-1,ks=gridColumnGroupsHeaderMaxDepthSelector(ts);let Ms=!0;switch(ys.key){case"ArrowDown":{Ts!==null&&(ls?ds(ws,ys):cs(ws,fs(Ts)));break}case"ArrowRight":{const Os=getRightColumnIndex({currentColIndex:ws,firstColIndex:Rs,lastColIndex:As,direction:ss.direction});Os!==null&&us(Os,ys);break}case"ArrowLeft":{const Os=getLeftColumnIndex({currentColIndex:ws,firstColIndex:Rs,lastColIndex:As,direction:ss.direction});Os!==null&&us(Os,ys);break}case"ArrowUp":{ks>0&&ps(ws,ks-1,ys);break}case"PageDown":{Ts!==null&&Is!==null&&cs(ws,fs(Math.min(Ts+Es,Is)));break}case"Home":{us(Rs,ys);break}case"End":{us(As,ys);break}case"Enter":{(ys.ctrlKey||ys.metaKey)&&ts.current.toggleColumnMenu(xs.field);break}case" ":break;default:Ms=!1}Ms&&ys.preventDefault()},[ts,as.length,ls,ds,cs,fs,ss.direction,us,ps]),ms=reactExports.useCallback((xs,ys)=>{if(!ts.current.getRootDimensions())return;const Cs=unstable_gridHeaderFilteringEditFieldSelector(ts)===xs.field,$s=unstable_gridHeaderFilteringMenuSelector(ts)===xs.field;if(Cs||$s||!isNavigationKey(ys.key))return;const Es=ts.current.getViewportPageSize(),ws=xs.field?ts.current.getColumnIndex(xs.field):0,Ts=0,Is=as.length-1,Rs=0,As=gridVisibleColumnDefinitionsSelector(ts).length-1;let ks=!0;switch(ys.key){case"ArrowDown":{const Ms=fs(Ts);Ms!=null&&cs(ws,Ms);break}case"ArrowRight":{const Ms=getRightColumnIndex({currentColIndex:ws,firstColIndex:Rs,lastColIndex:As,direction:ss.direction});Ms!==null&&ds(Ms,ys);break}case"ArrowLeft":{const Ms=getLeftColumnIndex({currentColIndex:ws,firstColIndex:Rs,lastColIndex:As,direction:ss.direction});Ms!==null?ds(Ms,ys):ts.current.setColumnHeaderFilterFocus(xs.field,ys);break}case"ArrowUp":{us(ws,ys);break}case"PageDown":{Is!==null&&cs(ws,fs(Math.min(Ts+Es,Is)));break}case"Home":{ds(Rs,ys);break}case"End":{ds(As,ys);break}case" ":break;default:ks=!1}ks&&ys.preventDefault()},[ts,as.length,ds,ss.direction,us,cs,fs]),gs=reactExports.useCallback((xs,ys)=>{if(!ts.current.getRootDimensions())return;const Cs=unstable_gridFocusColumnGroupHeaderSelector(ts);if(Cs===null)return;const{field:$s,depth:Es}=Cs,{fields:ws,depth:Ts,maxDepth:Is}=xs,Rs=ts.current.getViewportPageSize(),As=ts.current.getColumnIndex($s),ks=$s?ts.current.getColumnIndex($s):0,Ms=0,Os=as.length-1,Ds=0,Fs=gridVisibleColumnDefinitionsSelector(ts).length-1;let js=!0;switch(ys.key){case"ArrowDown":{Ts===Is-1?us(As,ys):ps(As,Es+1,ys);break}case"ArrowUp":{Ts>0&&ps(As,Es-1,ys);break}case"ArrowRight":{const Ps=ws.length-ws.indexOf($s)-1;As+Ps+1<=Fs&&ps(As+Ps+1,Es,ys);break}case"ArrowLeft":{const Ps=ws.indexOf($s);As-Ps-1>=Ds&&ps(As-Ps-1,Es,ys);break}case"PageDown":{Os!==null&&cs(ks,fs(Math.min(Ms+Rs,Os)));break}case"Home":{ps(Ds,Es,ys);break}case"End":{ps(Fs,Es,ys);break}case" ":break;default:js=!1}js&&ys.preventDefault()},[ts,as.length,us,ps,cs,fs]),vs=reactExports.useCallback((xs,ys)=>{if(isEventTargetInPortal(ys))return;const Ss=ts.current.getCellParams(xs.id,xs.field);if(Ss.cellMode===GridCellModes.Edit||!isNavigationKey(ys.key)||!ts.current.unstable_applyPipeProcessors("canUpdateFocus",!0,{event:ys,cell:Ss}))return;const $s=ts.current.getRootDimensions();if(as.length===0||!$s)return;const Es=ss.direction,ws=ts.current.getViewportPageSize(),Ts=xs.field?ts.current.getColumnIndex(xs.field):0,Is=as.findIndex(Ds=>Ds.id===xs.id),Rs=0,As=as.length-1,ks=0,Ms=gridVisibleColumnDefinitionsSelector(ts).length-1;let Os=!0;switch(ys.key){case"ArrowDown":{Is<As&&cs(Ts,fs(Is+1));break}case"ArrowUp":{Is>Rs?cs(Ts,fs(Is-1)):ls?ds(Ts,ys):us(Ts,ys);break}case"ArrowRight":{const Ds=getRightColumnIndex({currentColIndex:Ts,firstColIndex:ks,lastColIndex:Ms,direction:Es});Ds!==null&&cs(Ds,fs(Is),Es==="rtl"?"left":"right");break}case"ArrowLeft":{const Ds=getLeftColumnIndex({currentColIndex:Ts,firstColIndex:ks,lastColIndex:Ms,direction:Es});Ds!==null&&cs(Ds,fs(Is),Es==="rtl"?"right":"left");break}case"Tab":{ys.shiftKey&&Ts>ks?cs(Ts-1,fs(Is),"left"):!ys.shiftKey&&Ts<Ms&&cs(Ts+1,fs(Is),"right");break}case" ":{if(xs.field===GRID_DETAIL_PANEL_TOGGLE_FIELD$1)break;const Fs=xs.colDef;if(Fs&&Fs.type==="treeDataGroup")break;!ys.shiftKey&&Is<As&&cs(Ts,fs(Math.min(Is+ws,As)));break}case"PageDown":{Is<As&&cs(Ts,fs(Math.min(Is+ws,As)));break}case"PageUp":{const Ds=Math.max(Is-ws,Rs);Ds!==Is&&Ds>=Rs?cs(Ts,fs(Ds)):us(Ts,ys);break}case"Home":{ys.ctrlKey||ys.metaKey||ys.shiftKey?cs(ks,fs(Rs)):cs(ks,fs(Is));break}case"End":{ys.ctrlKey||ys.metaKey||ys.shiftKey?cs(Ms,fs(As)):cs(Ms,fs(Is));break}default:Os=!1}Os&&ys.preventDefault()},[ts,as,ss.direction,cs,fs,ls,ds,us]),bs=reactExports.useCallback((xs,{event:ys})=>ys.key===" "?!1:xs,[]);useGridRegisterPipeProcessor(ts,"canStartEditing",bs),useGridApiEventHandler(ts,"columnHeaderKeyDown",hs),useGridApiEventHandler(ts,"headerFilterKeyDown",ms),useGridApiEventHandler(ts,"columnGroupHeaderKeyDown",gs),useGridApiEventHandler(ts,"cellKeyDown",vs)},useGridRowCount=(ts,rs)=>{var ns;const os=useGridLogger(ts,"useGridRowCount"),ss=useGridSelector(ts,gridFilteredTopLevelRowCountSelector),as=useGridSelector(ts,gridPaginationRowCountSelector);ts.current.registerControlState({stateId:"paginationRowCount",propModel:rs.rowCount,propOnChange:rs.onRowCountChange,stateSelector:gridPaginationRowCountSelector,changeEvent:"rowCountChange"});const cs={setRowCount:reactExports.useCallback(ps=>{as!==ps&&(os.debug("Setting 'rowCount' to",ps),ts.current.setState(fs=>_extends$5({},fs,{pagination:_extends$5({},fs.pagination,{rowCount:ps})})))},[ts,os,as])};useGridApiMethod(ts,cs,"public");const us=reactExports.useCallback((ps,fs)=>{var hs;const ms=gridPaginationRowCountSelector(ts);return!fs.exportOnlyDirtyModels||rs.rowCount!=null||((hs=rs.initialState)==null||(hs=hs.pagination)==null?void 0:hs.rowCount)!=null?_extends$5({},ps,{pagination:_extends$5({},ps.pagination,{rowCount:ms})}):ps},[ts,rs.rowCount,(ns=rs.initialState)==null||(ns=ns.pagination)==null?void 0:ns.rowCount]),ds=reactExports.useCallback((ps,fs)=>{var hs;const ms=(hs=fs.stateToRestore.pagination)!=null&&hs.rowCount?fs.stateToRestore.pagination.rowCount:gridPaginationRowCountSelector(ts);return ts.current.setState(gs=>_extends$5({},gs,{pagination:_extends$5({},gs.pagination,{rowCount:ms})})),ps},[ts]);useGridRegisterPipeProcessor(ts,"exportState",us),useGridRegisterPipeProcessor(ts,"restoreState",ds),reactExports.useEffect(()=>{},[rs.rowCount,rs.paginationMode]),reactExports.useEffect(()=>{rs.paginationMode==="client"?ts.current.setRowCount(ss):rs.rowCount!=null&&ts.current.setRowCount(rs.rowCount)},[ts,ss,rs.paginationMode,rs.rowCount])},paginationStateInitializer=(ts,rs)=>{var ns,os,ss,as,ls;const cs=_extends$5({},getDefaultGridPaginationModel(rs.autoPageSize),(ns=rs.paginationModel)!=null?ns:(os=rs.initialState)==null||(os=os.pagination)==null?void 0:os.paginationModel);throwIfPageSizeExceedsTheLimit(cs.pageSize,rs.signature);const us=(ss=(as=rs.rowCount)!=null?as:(ls=rs.initialState)==null||(ls=ls.pagination)==null?void 0:ls.rowCount)!=null?ss:0;return _extends$5({},ts,{pagination:{paginationModel:cs,rowCount:us}})},useGridPagination=(ts,rs)=>{useGridPaginationModel(ts,rs),useGridRowCount(ts,rs)},preferencePanelStateInitializer=(ts,rs)=>{var ns,os;return _extends$5({},ts,{preferencePanel:(ns=(os=rs.initialState)==null?void 0:os.preferencePanel)!=null?ns:{open:!1}})},useGridPreferencesPanel=(ts,rs)=>{var ns;const os=useGridLogger(ts,"useGridPreferencesPanel"),ss=reactExports.useRef(),as=reactExports.useRef(),ls=reactExports.useCallback(()=>{os.debug("Hiding Preferences Panel");const hs=gridPreferencePanelStateSelector(ts.current.state);hs.openedPanelValue&&ts.current.publishEvent("preferencePanelClose",{openedPanelValue:hs.openedPanelValue}),ts.current.setState(ms=>_extends$5({},ms,{preferencePanel:{open:!1}})),ts.current.forceUpdate()},[ts,os]),cs=reactExports.useCallback(()=>{as.current=setTimeout(()=>clearTimeout(ss.current),0)},[]),us=reactExports.useCallback(()=>{ss.current=setTimeout(ls,100)},[ls]),ds=reactExports.useCallback((hs,ms,gs)=>{os.debug("Opening Preferences Panel"),cs(),ts.current.setState(vs=>_extends$5({},vs,{preferencePanel:_extends$5({},vs.preferencePanel,{open:!0,openedPanelValue:hs,panelId:ms,labelId:gs})})),ts.current.publishEvent("preferencePanelOpen",{openedPanelValue:hs}),ts.current.forceUpdate()},[os,cs,ts]);useGridApiMethod(ts,{showPreferences:ds,hidePreferences:us},"public");const ps=reactExports.useCallback((hs,ms)=>{var gs;const vs=gridPreferencePanelStateSelector(ts.current.state);return!ms.exportOnlyDirtyModels||((gs=rs.initialState)==null?void 0:gs.preferencePanel)!=null||vs.open?_extends$5({},hs,{preferencePanel:vs}):hs},[ts,(ns=rs.initialState)==null?void 0:ns.preferencePanel]),fs=reactExports.useCallback((hs,ms)=>{const gs=ms.stateToRestore.preferencePanel;return gs!=null&&ts.current.setState(vs=>_extends$5({},vs,{preferencePanel:gs})),hs},[ts]);useGridRegisterPipeProcessor(ts,"exportState",ps),useGridRegisterPipeProcessor(ts,"restoreState",fs),reactExports.useEffect(()=>()=>{clearTimeout(ss.current),clearTimeout(as.current)},[])},_excluded$A=["id","field"],_excluded2$2=["id","field"],missingOnProcessRowUpdateErrorWarning$1=buildWarning(["MUI: A call to `processRowUpdate` threw an error which was not handled because `onProcessRowUpdateError` is missing.","To handle the error pass a callback to the `onProcessRowUpdateError` prop, e.g. `<DataGrid onProcessRowUpdateError={(error) => ...} />`.","For more detail, see http://mui.com/components/data-grid/editing/#server-side-persistence."],"error"),useGridCellEditing=(ts,rs)=>{const[ns,os]=reactExports.useState({}),ss=reactExports.useRef(ns),as=reactExports.useRef({}),{processRowUpdate:ls,onProcessRowUpdateError:cs,cellModesModel:us,onCellModesModelChange:ds}=rs,ps=Os=>(...Ds)=>{rs.editMode===GridEditModes.Cell&&Os(...Ds)},fs=reactExports.useCallback((Os,Ds)=>{const Fs=ts.current.getCellParams(Os,Ds);if(!ts.current.isCellEditable(Fs))throw new Error("MUI: The cell with id=".concat(Os," and field=").concat(Ds," is not editable."))},[ts]),hs=reactExports.useCallback((Os,Ds,Fs)=>{if(ts.current.getCellMode(Os,Ds)!==Fs)throw new Error("MUI: The cell with id=".concat(Os," and field=").concat(Ds," is not in ").concat(Fs," mode."))},[ts]),ms=reactExports.useCallback((Os,Ds)=>{if(!Os.isEditable||Os.cellMode===GridCellModes.Edit)return;const Fs=_extends$5({},Os,{reason:GridCellEditStartReasons.cellDoubleClick});ts.current.publishEvent("cellEditStart",Fs,Ds)},[ts]),gs=reactExports.useCallback((Os,Ds)=>{if(Os.cellMode===GridCellModes.View||ts.current.getCellMode(Os.id,Os.field)===GridCellModes.View)return;const Fs=_extends$5({},Os,{reason:GridCellEditStopReasons.cellFocusOut});ts.current.publishEvent("cellEditStop",Fs,Ds)},[ts]),vs=reactExports.useCallback((Os,Ds)=>{if(Os.cellMode===GridCellModes.Edit){if(Ds.which===229)return;let Fs;if(Ds.key==="Escape"?Fs=GridCellEditStopReasons.escapeKeyDown:Ds.key==="Enter"?Fs=GridCellEditStopReasons.enterKeyDown:Ds.key==="Tab"&&(Fs=Ds.shiftKey?GridCellEditStopReasons.shiftTabKeyDown:GridCellEditStopReasons.tabKeyDown,Ds.preventDefault()),Fs){const js=_extends$5({},Os,{reason:Fs});ts.current.publishEvent("cellEditStop",js,Ds)}}else if(Os.isEditable){let Fs;if(!ts.current.unstable_applyPipeProcessors("canStartEditing",!0,{event:Ds,cellParams:Os,editMode:"cell"}))return;if(isPrintableKey(Ds)?Fs=GridCellEditStartReasons.printableKeyDown:(Ds.ctrlKey||Ds.metaKey)&&Ds.key==="v"?Fs=GridCellEditStartReasons.pasteKeyDown:Ds.key==="Enter"?Fs=GridCellEditStartReasons.enterKeyDown:(Ds.key==="Delete"||Ds.key==="Backspace")&&(Fs=GridCellEditStartReasons.deleteKeyDown),Fs){const Ps=_extends$5({},Os,{reason:Fs,key:Ds.key});ts.current.publishEvent("cellEditStart",Ps,Ds)}}},[ts]),bs=reactExports.useCallback(Os=>{const{id:Ds,field:Fs,reason:js}=Os,Ps={id:Ds,field:Fs};(js===GridCellEditStartReasons.printableKeyDown||js===GridCellEditStartReasons.deleteKeyDown||js===GridCellEditStartReasons.pasteKeyDown)&&(Ps.deleteValue=!0),ts.current.startCellEditMode(Ps)},[ts]),xs=reactExports.useCallback(Os=>{const{id:Ds,field:Fs,reason:js}=Os;ts.current.runPendingEditCellValueMutation(Ds,Fs);let Ps;js===GridCellEditStopReasons.enterKeyDown?Ps="below":js===GridCellEditStopReasons.tabKeyDown?Ps="right":js===GridCellEditStopReasons.shiftTabKeyDown&&(Ps="left");const Ls=js==="escapeKeyDown";ts.current.stopCellEditMode({id:Ds,field:Fs,ignoreModifications:Ls,cellToFocusAfter:Ps})},[ts]);useGridApiEventHandler(ts,"cellDoubleClick",ps(ms)),useGridApiEventHandler(ts,"cellFocusOut",ps(gs)),useGridApiEventHandler(ts,"cellKeyDown",ps(vs)),useGridApiEventHandler(ts,"cellEditStart",ps(bs)),useGridApiEventHandler(ts,"cellEditStop",ps(xs)),useGridApiOptionHandler(ts,"cellEditStart",rs.onCellEditStart),useGridApiOptionHandler(ts,"cellEditStop",rs.onCellEditStop);const ys=reactExports.useCallback((Os,Ds)=>{const Fs=gridEditRowsStateSelector(ts.current.state);return Fs[Os]&&Fs[Os][Ds]?GridCellModes.Edit:GridCellModes.View},[ts]),Ss=useEventCallback(Os=>{const Ds=Os!==rs.cellModesModel;ds&&Ds&&ds(Os,{}),!(rs.cellModesModel&&Ds)&&(os(Os),ss.current=Os,ts.current.publishEvent("cellModesModelChange",Os))}),Cs=reactExports.useCallback((Os,Ds,Fs)=>{const js=_extends$5({},ss.current);if(Fs!==null)js[Os]=_extends$5({},js[Os],{[Ds]:_extends$5({},Fs)});else{const Ps=js[Os],Ls=_objectWithoutPropertiesLoose$1(Ps,[Ds].map(toPropertyKey));js[Os]=Ls,Object.keys(js[Os]).length===0&&delete js[Os]}Ss(js)},[Ss]),$s=reactExports.useCallback((Os,Ds,Fs)=>{ts.current.setState(js=>{const Ps=_extends$5({},js.editRows);return Fs!==null?Ps[Os]=_extends$5({},Ps[Os],{[Ds]:_extends$5({},Fs)}):(delete Ps[Os][Ds],Object.keys(Ps[Os]).length===0&&delete Ps[Os]),_extends$5({},js,{editRows:Ps})}),ts.current.forceUpdate()},[ts]),Es=reactExports.useCallback(Os=>{const{id:Ds,field:Fs}=Os,js=_objectWithoutPropertiesLoose$1(Os,_excluded$A);fs(Ds,Fs),hs(Ds,Fs,GridCellModes.View),Cs(Ds,Fs,_extends$5({mode:GridCellModes.Edit},js))},[fs,hs,Cs]),ws=useEventCallback(Os=>{const{id:Ds,field:Fs,deleteValue:js,initialValue:Ps}=Os;let Ls=ts.current.getCellValue(Ds,Fs);(js||Ps)&&(Ls=js?"":Ps),$s(Ds,Fs,{value:Ls,error:!1,isProcessingProps:!1}),ts.current.setCellFocus(Ds,Fs)}),Ts=reactExports.useCallback(Os=>{const{id:Ds,field:Fs}=Os,js=_objectWithoutPropertiesLoose$1(Os,_excluded2$2);hs(Ds,Fs,GridCellModes.Edit),Cs(Ds,Fs,_extends$5({mode:GridCellModes.View},js))},[hs,Cs]),Is=useEventCallback(async Os=>{const{id:Ds,field:Fs,ignoreModifications:js,cellToFocusAfter:Ps="none"}=Os;hs(Ds,Fs,GridCellModes.Edit),ts.current.runPendingEditCellValueMutation(Ds,Fs);const Ls=()=>{$s(Ds,Fs,null),Cs(Ds,Fs,null),Ps!=="none"&&ts.current.moveFocusToRelativeCell(Ds,Fs,Ps)};if(js){Ls();return}const Ns=gridEditRowsStateSelector(ts.current.state),{error:Gs,isProcessingProps:Us}=Ns[Ds][Fs];if(Gs||Us){as.current[Ds][Fs].mode=GridCellModes.Edit,Cs(Ds,Fs,{mode:GridCellModes.Edit});return}const Hs=ts.current.getRowWithUpdatedValuesFromCellEditing(Ds,Fs);if(ls){const zs=qs=>{as.current[Ds][Fs].mode=GridCellModes.Edit,Cs(Ds,Fs,{mode:GridCellModes.Edit}),cs?cs(qs):missingOnProcessRowUpdateErrorWarning$1()};try{const qs=ts.current.getRow(Ds);Promise.resolve(ls(Hs,qs)).then(Vs=>{ts.current.updateRows([Vs]),Ls()}).catch(zs)}catch(qs){zs(qs)}}else ts.current.updateRows([Hs]),Ls()}),Rs=reactExports.useCallback(async Os=>{var Ds;const{id:Fs,field:js,value:Ps,debounceMs:Ls,unstable_skipValueParser:Ns}=Os;fs(Fs,js),hs(Fs,js,GridCellModes.Edit);const Gs=ts.current.getColumn(js),Us=ts.current.getRow(Fs);let Hs=Ps;Gs.valueParser&&!Ns&&(Hs=Gs.valueParser(Ps,ts.current.getCellParams(Fs,js)));let zs=gridEditRowsStateSelector(ts.current.state),qs=_extends$5({},zs[Fs][js],{value:Hs,changeReason:Ls?"debouncedSetEditCellValue":"setEditCellValue"});if(Gs.preProcessEditCellProps){const Vs=Ps!==zs[Fs][js].value;qs=_extends$5({},qs,{isProcessingProps:!0}),$s(Fs,js,qs),qs=await Promise.resolve(Gs.preProcessEditCellProps({id:Fs,row:Us,props:qs,hasChanged:Vs}))}return ts.current.getCellMode(Fs,js)===GridCellModes.View?!1:(zs=gridEditRowsStateSelector(ts.current.state),qs=_extends$5({},qs,{isProcessingProps:!1}),qs.value=Gs.preProcessEditCellProps?zs[Fs][js].value:Hs,$s(Fs,js,qs),zs=gridEditRowsStateSelector(ts.current.state),!((Ds=zs[Fs])!=null&&(Ds=Ds[js])!=null&&Ds.error))},[ts,fs,hs,$s]),As=reactExports.useCallback((Os,Ds)=>{const Fs=ts.current.getColumn(Ds),js=gridEditRowsStateSelector(ts.current.state),Ps=ts.current.getRow(Os);if(!js[Os]||!js[Os][Ds])return ts.current.getRow(Os);const{value:Ls}=js[Os][Ds];return Fs.valueSetter?Fs.valueSetter({value:Ls,row:Ps}):_extends$5({},Ps,{[Ds]:Ls})},[ts]),ks={getCellMode:ys,startCellEditMode:Es,stopCellEditMode:Ts},Ms={setCellEditingEditCellValue:Rs,getRowWithUpdatedValuesFromCellEditing:As};useGridApiMethod(ts,ks,"public"),useGridApiMethod(ts,Ms,"private"),reactExports.useEffect(()=>{us&&Ss(us)},[us,Ss]),useEnhancedEffect$1(()=>{const Os=gridRowsDataRowIdToIdLookupSelector(ts),Ds=as.current;as.current=deepClone(ns),Object.entries(ns).forEach(([Fs,js])=>{Object.entries(js).forEach(([Ps,Ls])=>{var Ns,Gs;const Us=((Ns=Ds[Fs])==null||(Ns=Ns[Ps])==null?void 0:Ns.mode)||GridCellModes.View,Hs=(Gs=Os[Fs])!=null?Gs:Fs;Ls.mode===GridCellModes.Edit&&Us===GridCellModes.View?ws(_extends$5({id:Hs,field:Ps},Ls)):Ls.mode===GridCellModes.View&&Us===GridCellModes.Edit&&Is(_extends$5({id:Hs,field:Ps},Ls))})})},[ts,ns,ws,Is])},_excluded$z=["id"],_excluded2$1=["id"],missingOnProcessRowUpdateErrorWarning=buildWarning(["MUI: A call to `processRowUpdate` threw an error which was not handled because `onProcessRowUpdateError` is missing.","To handle the error pass a callback to the `onProcessRowUpdateError` prop, e.g. `<DataGrid onProcessRowUpdateError={(error) => ...} />`.","For more detail, see http://mui.com/components/data-grid/editing/#server-side-persistence."],"error"),useGridRowEditing=(ts,rs)=>{const[ns,os]=reactExports.useState({}),ss=reactExports.useRef(ns),as=reactExports.useRef({}),ls=reactExports.useRef(null),cs=reactExports.useRef(null),{processRowUpdate:us,onProcessRowUpdateError:ds,rowModesModel:ps,onRowModesModelChange:fs}=rs,hs=Ps=>(...Ls)=>{rs.editMode===GridEditModes.Row&&Ps(...Ls)},ms=reactExports.useCallback((Ps,Ls)=>{const Ns=ts.current.getCellParams(Ps,Ls);if(!ts.current.isCellEditable(Ns))throw new Error("MUI: The cell with id=".concat(Ps," and field=").concat(Ls," is not editable."))},[ts]),gs=reactExports.useCallback((Ps,Ls)=>{if(ts.current.getRowMode(Ps)!==Ls)throw new Error("MUI: The row with id=".concat(Ps," is not in ").concat(Ls," mode."))},[ts]),vs=reactExports.useCallback((Ps,Ls)=>{if(!Ps.isEditable||ts.current.getRowMode(Ps.id)===GridRowModes.Edit)return;const Ns=ts.current.getRowParams(Ps.id),Gs=_extends$5({},Ns,{field:Ps.field,reason:GridRowEditStartReasons.cellDoubleClick});ts.current.publishEvent("rowEditStart",Gs,Ls)},[ts]),bs=reactExports.useCallback(Ps=>{cs.current=Ps},[]),xs=reactExports.useCallback((Ps,Ls)=>{Ps.isEditable&&ts.current.getRowMode(Ps.id)!==GridRowModes.View&&(cs.current=null,ls.current=setTimeout(()=>{var Ns;if(ls.current=null,((Ns=cs.current)==null?void 0:Ns.id)!==Ps.id){if(!ts.current.getRow(Ps.id)||ts.current.getRowMode(Ps.id)===GridRowModes.View)return;const Gs=ts.current.getRowParams(Ps.id),Us=_extends$5({},Gs,{field:Ps.field,reason:GridRowEditStopReasons.rowFocusOut});ts.current.publishEvent("rowEditStop",Us,Ls)}}))},[ts]);reactExports.useEffect(()=>()=>{clearTimeout(ls.current)},[]);const ys=reactExports.useCallback((Ps,Ls)=>{if(Ps.cellMode===GridRowModes.Edit){if(Ls.which===229)return;let Ns;if(Ls.key==="Escape")Ns=GridRowEditStopReasons.escapeKeyDown;else if(Ls.key==="Enter")Ns=GridRowEditStopReasons.enterKeyDown;else if(Ls.key==="Tab"){const Gs=gridVisibleColumnFieldsSelector(ts).filter(Us=>ts.current.getColumn(Us).type===GRID_ACTIONS_COLUMN_TYPE?!0:ts.current.isCellEditable(ts.current.getCellParams(Ps.id,Us)));if(Ls.shiftKey?Ps.field===Gs[0]&&(Ns=GridRowEditStopReasons.shiftTabKeyDown):Ps.field===Gs[Gs.length-1]&&(Ns=GridRowEditStopReasons.tabKeyDown),Ls.preventDefault(),!Ns){const Us=Gs.findIndex(zs=>zs===Ps.field),Hs=Gs[Ls.shiftKey?Us-1:Us+1];ts.current.setCellFocus(Ps.id,Hs)}}if(Ns){const Gs=_extends$5({},ts.current.getRowParams(Ps.id),{reason:Ns,field:Ps.field});ts.current.publishEvent("rowEditStop",Gs,Ls)}}else if(Ps.isEditable){let Ns;if(!ts.current.unstable_applyPipeProcessors("canStartEditing",!0,{event:Ls,cellParams:Ps,editMode:"row"}))return;if(isPrintableKey(Ls)||(Ls.ctrlKey||Ls.metaKey)&&Ls.key==="v"?Ns=GridRowEditStartReasons.printableKeyDown:Ls.key==="Enter"?Ns=GridRowEditStartReasons.enterKeyDown:(Ls.key==="Delete"||Ls.key==="Backspace")&&(Ns=GridRowEditStartReasons.deleteKeyDown),Ns){const Us=ts.current.getRowParams(Ps.id),Hs=_extends$5({},Us,{field:Ps.field,reason:Ns});ts.current.publishEvent("rowEditStart",Hs,Ls)}}},[ts]),Ss=reactExports.useCallback(Ps=>{const{id:Ls,field:Ns,reason:Gs}=Ps,Us={id:Ls,fieldToFocus:Ns};(Gs===GridRowEditStartReasons.printableKeyDown||Gs===GridRowEditStartReasons.deleteKeyDown)&&(Us.deleteValue=!!Ns),ts.current.startRowEditMode(Us)},[ts]),Cs=reactExports.useCallback(Ps=>{const{id:Ls,reason:Ns,field:Gs}=Ps;ts.current.runPendingEditCellValueMutation(Ls);let Us;Ns===GridRowEditStopReasons.enterKeyDown?Us="below":Ns===GridRowEditStopReasons.tabKeyDown?Us="right":Ns===GridRowEditStopReasons.shiftTabKeyDown&&(Us="left");const Hs=Ns==="escapeKeyDown";ts.current.stopRowEditMode({id:Ls,ignoreModifications:Hs,field:Gs,cellToFocusAfter:Us})},[ts]);useGridApiEventHandler(ts,"cellDoubleClick",hs(vs)),useGridApiEventHandler(ts,"cellFocusIn",hs(bs)),useGridApiEventHandler(ts,"cellFocusOut",hs(xs)),useGridApiEventHandler(ts,"cellKeyDown",hs(ys)),useGridApiEventHandler(ts,"rowEditStart",hs(Ss)),useGridApiEventHandler(ts,"rowEditStop",hs(Cs)),useGridApiOptionHandler(ts,"rowEditStart",rs.onRowEditStart),useGridApiOptionHandler(ts,"rowEditStop",rs.onRowEditStop);const $s=reactExports.useCallback(Ps=>{if(rs.editMode===GridEditModes.Cell)return GridRowModes.View;const Ls=gridEditRowsStateSelector(ts.current.state);return Ls[Ps]&&Object.keys(Ls[Ps]).length>0?GridRowModes.Edit:GridRowModes.View},[ts,rs.editMode]),Es=useEventCallback(Ps=>{const Ls=Ps!==rs.rowModesModel;fs&&Ls&&fs(Ps,{}),!(rs.rowModesModel&&Ls)&&(os(Ps),ss.current=Ps,ts.current.publishEvent("rowModesModelChange",Ps))}),ws=reactExports.useCallback((Ps,Ls)=>{const Ns=_extends$5({},ss.current);Ls!==null?Ns[Ps]=_extends$5({},Ls):delete Ns[Ps],Es(Ns)},[Es]),Ts=reactExports.useCallback((Ps,Ls)=>{ts.current.setState(Ns=>{const Gs=_extends$5({},Ns.editRows);return Ls!==null?Gs[Ps]=Ls:delete Gs[Ps],_extends$5({},Ns,{editRows:Gs})}),ts.current.forceUpdate()},[ts]),Is=reactExports.useCallback((Ps,Ls,Ns)=>{ts.current.setState(Gs=>{const Us=_extends$5({},Gs.editRows);return Ns!==null?Us[Ps]=_extends$5({},Us[Ps],{[Ls]:_extends$5({},Ns)}):(delete Us[Ps][Ls],Object.keys(Us[Ps]).length===0&&delete Us[Ps]),_extends$5({},Gs,{editRows:Us})}),ts.current.forceUpdate()},[ts]),Rs=reactExports.useCallback(Ps=>{const{id:Ls}=Ps,Ns=_objectWithoutPropertiesLoose$1(Ps,_excluded$z);gs(Ls,GridRowModes.View),ws(Ls,_extends$5({mode:GridRowModes.Edit},Ns))},[gs,ws]),As=useEventCallback(Ps=>{const{id:Ls,fieldToFocus:Ns,deleteValue:Gs,initialValue:Us}=Ps,zs=gridColumnFieldsSelector(ts).reduce((qs,Vs)=>{if(!ts.current.getCellParams(Ls,Vs).isEditable)return qs;let Ws=ts.current.getCellValue(Ls,Vs);return Ns===Vs&&(Gs||Us)&&(Ws=Gs?"":Us),qs[Vs]={value:Ws,error:!1,isProcessingProps:!1},qs},{});Ts(Ls,zs),Ns&&ts.current.setCellFocus(Ls,Ns)}),ks=reactExports.useCallback(Ps=>{const{id:Ls}=Ps,Ns=_objectWithoutPropertiesLoose$1(Ps,_excluded2$1);gs(Ls,GridRowModes.Edit),ws(Ls,_extends$5({mode:GridRowModes.View},Ns))},[gs,ws]),Ms=useEventCallback(Ps=>{const{id:Ls,ignoreModifications:Ns,field:Gs,cellToFocusAfter:Us="none"}=Ps;ts.current.runPendingEditCellValueMutation(Ls);const Hs=()=>{Us!=="none"&&Gs&&ts.current.moveFocusToRelativeCell(Ls,Gs,Us),Ts(Ls,null),ws(Ls,null)};if(Ns){Hs();return}const zs=gridEditRowsStateSelector(ts.current.state),qs=ts.current.getRow(Ls);if(Object.values(zs[Ls]).some(Pl=>Pl.isProcessingProps)){as.current[Ls].mode=GridRowModes.Edit;return}if(Object.values(zs[Ls]).some(Pl=>Pl.error)){as.current[Ls].mode=GridRowModes.Edit,ws(Ls,{mode:GridRowModes.Edit});return}const Ws=ts.current.getRowWithUpdatedValuesFromRowEditing(Ls);if(us){const Pl=Tl=>{as.current[Ls].mode=GridRowModes.Edit,ws(Ls,{mode:GridRowModes.Edit}),ds?ds(Tl):missingOnProcessRowUpdateErrorWarning()};try{Promise.resolve(us(Ws,qs)).then(Tl=>{ts.current.updateRows([Tl]),Hs()}).catch(Pl)}catch(Tl){Pl(Tl)}}else ts.current.updateRows([Ws]),Hs()}),Os=reactExports.useCallback(Ps=>{const{id:Ls,field:Ns,value:Gs,debounceMs:Us,unstable_skipValueParser:Hs}=Ps;ms(Ls,Ns);const zs=ts.current.getColumn(Ns),qs=ts.current.getRow(Ls);let Vs=Gs;zs.valueParser&&!Hs&&(Vs=zs.valueParser(Gs,ts.current.getCellParams(Ls,Ns)));let Ks=gridEditRowsStateSelector(ts.current.state),Ws=_extends$5({},Ks[Ls][Ns],{value:Vs,changeReason:Us?"debouncedSetEditCellValue":"setEditCellValue"});return zs.preProcessEditCellProps||Is(Ls,Ns,Ws),new Promise(Pl=>{const Tl=[];if(zs.preProcessEditCellProps){const El=Ws.value!==Ks[Ls][Ns].value;Ws=_extends$5({},Ws,{isProcessingProps:!0}),Is(Ls,Ns,Ws);const $l=Ks[Ls],Sl=_objectWithoutPropertiesLoose$1($l,[Ns].map(toPropertyKey)),Ml=Promise.resolve(zs.preProcessEditCellProps({id:Ls,row:qs,props:Ws,hasChanged:El,otherFieldsProps:Sl})).then(wl=>{if(ts.current.getRowMode(Ls)===GridRowModes.View){Pl(!1);return}Ks=gridEditRowsStateSelector(ts.current.state),wl=_extends$5({},wl,{isProcessingProps:!1}),wl.value=zs.preProcessEditCellProps?Ks[Ls][Ns].value:Vs,Is(Ls,Ns,wl)});Tl.push(Ml)}Object.entries(Ks[Ls]).forEach(([El,$l])=>{if(El===Ns)return;const Sl=ts.current.getColumn(El);if(!Sl.preProcessEditCellProps)return;$l=_extends$5({},$l,{isProcessingProps:!0}),Is(Ls,El,$l),Ks=gridEditRowsStateSelector(ts.current.state);const Ml=Ks[Ls],wl=_objectWithoutPropertiesLoose$1(Ml,[El].map(toPropertyKey)),Rl=Promise.resolve(Sl.preProcessEditCellProps({id:Ls,row:qs,props:$l,hasChanged:!1,otherFieldsProps:wl})).then(yl=>{if(ts.current.getRowMode(Ls)===GridRowModes.View){Pl(!1);return}yl=_extends$5({},yl,{isProcessingProps:!1}),Is(Ls,El,yl)});Tl.push(Rl)}),Promise.all(Tl).then(()=>{ts.current.getRowMode(Ls)===GridRowModes.Edit?(Ks=gridEditRowsStateSelector(ts.current.state),Pl(!Ks[Ls][Ns].error)):Pl(!1)})})},[ts,ms,Is]),Ds=reactExports.useCallback(Ps=>{const Ls=gridEditRowsStateSelector(ts.current.state),Ns=ts.current.getRow(Ps);if(!Ls[Ps])return ts.current.getRow(Ps);let Gs=_extends$5({},Ns);return Object.entries(Ls[Ps]).forEach(([Us,Hs])=>{const zs=ts.current.getColumn(Us);zs.valueSetter?Gs=zs.valueSetter({value:Hs.value,row:Gs}):Gs[Us]=Hs.value}),Gs},[ts]),Fs={getRowMode:$s,startRowEditMode:Rs,stopRowEditMode:ks},js={setRowEditingEditCellValue:Os,getRowWithUpdatedValuesFromRowEditing:Ds};useGridApiMethod(ts,Fs,"public"),useGridApiMethod(ts,js,"private"),reactExports.useEffect(()=>{ps&&Es(ps)},[ps,Es]),useEnhancedEffect$1(()=>{const Ps=gridRowsDataRowIdToIdLookupSelector(ts),Ls=as.current;as.current=deepClone(ns),Object.entries(ns).forEach(([Ns,Gs])=>{var Us,Hs;const zs=((Us=Ls[Ns])==null?void 0:Us.mode)||GridRowModes.View,qs=(Hs=Ps[Ns])!=null?Hs:Ns;Gs.mode===GridRowModes.Edit&&zs===GridRowModes.View?As(_extends$5({id:qs},Gs)):Gs.mode===GridRowModes.View&&zs===GridRowModes.Edit&&Ms(_extends$5({id:qs},Gs))})},[ts,ns,As,Ms])},editingStateInitializer=ts=>_extends$5({},ts,{editRows:{}}),useGridEditing=(ts,rs)=>{useGridCellEditing(ts,rs),useGridRowEditing(ts,rs);const ns=reactExports.useRef({}),{isCellEditable:os}=rs,ss=reactExports.useCallback(hs=>isAutoGeneratedRow(hs.rowNode)||!hs.colDef.editable||!hs.colDef.renderEditCell?!1:os?os(hs):!0,[os]),as=(hs,ms,gs,vs)=>{if(!gs){vs();return}if(ns.current[hs]||(ns.current[hs]={}),ns.current[hs][ms]){const[ys]=ns.current[hs][ms];clearTimeout(ys)}const bs=()=>{const[ys]=ns.current[hs][ms];clearTimeout(ys),vs(),delete ns.current[hs][ms]},xs=setTimeout(()=>{vs(),delete ns.current[hs][ms]},gs);ns.current[hs][ms]=[xs,bs]};reactExports.useEffect(()=>{const hs=ns.current;return()=>{Object.entries(hs).forEach(([ms,gs])=>{Object.keys(gs).forEach(vs=>{const[bs]=hs[ms][vs];clearTimeout(bs),delete hs[ms][vs]})})}},[]);const ls=reactExports.useCallback((hs,ms)=>{if(ns.current[hs]){if(!ms)Object.keys(ns.current[hs]).forEach(gs=>{const[,vs]=ns.current[hs][gs];vs()});else if(ns.current[hs][ms]){const[,gs]=ns.current[hs][ms];gs()}}},[]),cs=reactExports.useCallback(hs=>{const{id:ms,field:gs,debounceMs:vs}=hs;return new Promise(bs=>{as(ms,gs,vs,async()=>{const xs=rs.editMode===GridEditModes.Row?ts.current.setRowEditingEditCellValue:ts.current.setCellEditingEditCellValue;if(ts.current.getCellMode(ms,gs)===GridCellModes.Edit){const ys=await xs(hs);bs(ys)}})})},[ts,rs.editMode]),us=reactExports.useCallback((hs,ms)=>rs.editMode===GridEditModes.Cell?ts.current.getRowWithUpdatedValuesFromCellEditing(hs,ms):ts.current.getRowWithUpdatedValuesFromRowEditing(hs),[ts,rs.editMode]),ds=reactExports.useCallback((hs,ms)=>{var gs,vs;return(gs=(vs=gridEditRowsStateSelector(ts.current.state)[hs])==null?void 0:vs[ms])!=null?gs:null},[ts]),ps={isCellEditable:ss,setEditCellValue:cs,getRowWithUpdatedValues:us,unstable_getEditCellMeta:ds},fs={runPendingEditCellValueMutation:ls};useGridApiMethod(ts,ps,"public"),useGridApiMethod(ts,fs,"private")},rowsStateInitializer=(ts,rs,ns)=>(ns.current.caches.rows=createRowsInternalCache({rows:rs.rows,getRowId:rs.getRowId,loading:rs.loading,rowCount:rs.rowCount}),_extends$5({},ts,{rows:getRowsStateFromCache({apiRef:ns,rowCountProp:rs.rowCount,loadingProp:rs.loading,previousTree:null,previousTreeDepths:null})})),useGridRows=(ts,rs)=>{const ns=useGridLogger(ts,"useGridRows"),os=useGridVisibleRows(ts,rs),ss=reactExports.useRef(Date.now()),as=useTimeout(),ls=reactExports.useCallback(Ms=>{const Os=gridRowsLookupSelector(ts)[Ms];if(Os)return Os;const Ds=ts.current.getRowNode(Ms);return Ds&&isAutoGeneratedRow(Ds)?{[GRID_ID_AUTOGENERATED]:Ms}:null},[ts]),cs=rs.getRowId,us=reactExports.useCallback(Ms=>GRID_ID_AUTOGENERATED in Ms?Ms[GRID_ID_AUTOGENERATED]:cs?cs(Ms):Ms.id,[cs]),ds=reactExports.useMemo(()=>os.rows.reduce((Ms,{id:Os},Ds)=>(Ms[Os]=Ds,Ms),{}),[os.rows]),ps=reactExports.useCallback(({cache:Ms,throttle:Os})=>{const Ds=()=>{ss.current=Date.now(),ts.current.setState(js=>_extends$5({},js,{rows:getRowsStateFromCache({apiRef:ts,rowCountProp:rs.rowCount,loadingProp:rs.loading,previousTree:gridRowTreeSelector(ts),previousTreeDepths:gridRowTreeDepthsSelector(ts)})})),ts.current.publishEvent("rowsSet"),ts.current.forceUpdate()};if(as.clear(),ts.current.caches.rows=Ms,!Os){Ds();return}const Fs=rs.throttleRowsMs-(Date.now()-ss.current);if(Fs>0){as.start(Fs,Ds);return}Ds()},[rs.throttleRowsMs,rs.rowCount,rs.loading,ts,as]),fs=reactExports.useCallback(Ms=>{ns.debug("Updating all rows, new length ".concat(Ms.length));const Os=createRowsInternalCache({rows:Ms,getRowId:rs.getRowId,loading:rs.loading,rowCount:rs.rowCount}),Ds=ts.current.caches.rows;Os.rowsBeforePartialUpdates=Ds.rowsBeforePartialUpdates,ps({cache:Os,throttle:!0})},[ns,rs.getRowId,rs.loading,rs.rowCount,ps,ts]),hs=reactExports.useCallback(Ms=>{if(rs.signature===GridSignature.DataGrid&&Ms.length>1)throw new Error(["MUI: You can't update several rows at once in `apiRef.current.updateRows` on the DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock this feature."].join("\n"));const Os=[];Ms.forEach(Fs=>{const js=getRowIdFromRowModel(Fs,rs.getRowId,"A row was provided without id when calling updateRows():"),Ps=ts.current.getRowNode(js);if((Ps==null?void 0:Ps.type)==="pinnedRow"){const Ls=ts.current.caches.pinnedRows,Ns=Ls.idLookup[js];Ns&&(Ls.idLookup[js]=_extends$5({},Ns,Fs))}else Os.push(Fs)});const Ds=updateCacheWithNewRows({updates:Os,getRowId:rs.getRowId,previousCache:ts.current.caches.rows});ps({cache:Ds,throttle:!0})},[rs.signature,rs.getRowId,ps,ts]),ms=reactExports.useCallback(()=>{const Ms=gridDataRowIdsSelector(ts),Os=gridRowsLookupSelector(ts);return new Map(Ms.map(Ds=>{var Fs;return[Ds,(Fs=Os[Ds])!=null?Fs:{}]}))},[ts]),gs=reactExports.useCallback(()=>gridRowCountSelector(ts),[ts]),vs=reactExports.useCallback(()=>gridDataRowIdsSelector(ts),[ts]),bs=reactExports.useCallback(Ms=>ds[Ms],[ds]),xs=reactExports.useCallback((Ms,Os)=>{const Ds=ts.current.getRowNode(Ms);if(!Ds)throw new Error("MUI: No row with id #".concat(Ms," found"));if(Ds.type!=="group")throw new Error("MUI: Only group nodes can be expanded or collapsed");const Fs=_extends$5({},Ds,{childrenExpanded:Os});ts.current.setState(js=>_extends$5({},js,{rows:_extends$5({},js.rows,{tree:_extends$5({},js.rows.tree,{[Ms]:Fs})})})),ts.current.forceUpdate(),ts.current.publishEvent("rowExpansionChange",Fs)},[ts]),ys=reactExports.useCallback(Ms=>{var Os;return(Os=gridRowTreeSelector(ts)[Ms])!=null?Os:null},[ts]),Ss=reactExports.useCallback(({skipAutoGeneratedRows:Ms=!0,groupId:Os,applySorting:Ds,applyFiltering:Fs})=>{const js=gridRowTreeSelector(ts);let Ps;if(Ds){const Ls=js[Os];if(!Ls)return[];const Ns=gridSortedRowIdsSelector(ts);Ps=[];const Gs=Ns.findIndex(Us=>Us===Os)+1;for(let Us=Gs;Us<Ns.length&&js[Ns[Us]].depth>Ls.depth;Us+=1){const Hs=Ns[Us];(!Ms||!isAutoGeneratedRow(js[Hs]))&&Ps.push(Hs)}}else Ps=getTreeNodeDescendants(js,Os,Ms);if(Fs){const Ls=gridFilteredRowsLookupSelector(ts);Ps=Ps.filter(Ns=>Ls[Ns]!==!1)}return Ps},[ts]),Cs=reactExports.useCallback((Ms,Os)=>{const Ds=ts.current.getRowNode(Ms);if(!Ds)throw new Error("MUI: No row with id #".concat(Ms," found"));if(Ds.parent!==GRID_ROOT_GROUP_ID)throw new Error("MUI: The row reordering do not support reordering of grouped rows yet");if(Ds.type!=="leaf")throw new Error("MUI: The row reordering do not support reordering of footer or grouping rows");ts.current.setState(Fs=>{const js=gridRowTreeSelector(Fs,ts.current.instanceId)[GRID_ROOT_GROUP_ID],Ps=js.children,Ls=Ps.findIndex(Gs=>Gs===Ms);if(Ls===-1||Ls===Os)return Fs;ns.debug("Moving row ".concat(Ms," to index ").concat(Os));const Ns=[...Ps];return Ns.splice(Os,0,Ns.splice(Ls,1)[0]),_extends$5({},Fs,{rows:_extends$5({},Fs.rows,{tree:_extends$5({},Fs.rows.tree,{[GRID_ROOT_GROUP_ID]:_extends$5({},js,{children:Ns})})})})}),ts.current.publishEvent("rowsSet")},[ts,ns]),$s=reactExports.useCallback((Ms,Os)=>{if(rs.signature===GridSignature.DataGrid&&Os.length>1)throw new Error(["MUI: You can't replace rows using `apiRef.current.unstable_replaceRows` on the DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock this feature."].join("\n"));if(Os.length===0)return;if(gridRowMaximumTreeDepthSelector(ts)>1)throw new Error("`apiRef.current.unstable_replaceRows` is not compatible with tree data and row grouping");const Fs=_extends$5({},gridRowTreeSelector(ts)),js=_extends$5({},gridRowsLookupSelector(ts)),Ps=_extends$5({},gridRowsDataRowIdToIdLookupSelector(ts)),Ls=Fs[GRID_ROOT_GROUP_ID],Ns=[...Ls.children],Gs=new Set;for(let Hs=0;Hs<Os.length;Hs+=1){const zs=Os[Hs],qs=getRowIdFromRowModel(zs,rs.getRowId,"A row was provided without id when calling replaceRows()."),[Vs]=Ns.splice(Ms+Hs,1,qs);Gs.has(Vs)||(delete js[Vs],delete Ps[Vs],delete Fs[Vs]);const Ks={id:qs,depth:0,parent:GRID_ROOT_GROUP_ID,type:"leaf",groupingKey:null};js[qs]=zs,Ps[qs]=qs,Fs[qs]=Ks,Gs.add(qs)}Fs[GRID_ROOT_GROUP_ID]=_extends$5({},Ls,{children:Ns});const Us=Ns.filter(Hs=>Fs[Hs].type==="leaf");ts.current.caches.rows.dataRowIdToModelLookup=js,ts.current.caches.rows.dataRowIdToIdLookup=Ps,ts.current.setState(Hs=>_extends$5({},Hs,{rows:_extends$5({},Hs.rows,{dataRowIdToModelLookup:js,dataRowIdToIdLookup:Ps,dataRowIds:Us,tree:Fs})})),ts.current.publishEvent("rowsSet")},[ts,rs.signature,rs.getRowId]),Es={getRow:ls,getRowId:us,getRowModels:ms,getRowsCount:gs,getAllRowIds:vs,setRows:fs,updateRows:hs,getRowNode:ys,getRowIndexRelativeToVisibleRows:bs,unstable_replaceRows:$s},ws={setRowIndex:Cs,setRowChildrenExpansion:xs,getRowGroupChildren:Ss},Ts=reactExports.useCallback(()=>{ns.info("Row grouping pre-processing have changed, regenerating the row tree");let Ms;ts.current.caches.rows.rowsBeforePartialUpdates===rs.rows?Ms=_extends$5({},ts.current.caches.rows,{updates:{type:"full",rows:gridDataRowIdsSelector(ts)}}):Ms=createRowsInternalCache({rows:rs.rows,getRowId:rs.getRowId,loading:rs.loading,rowCount:rs.rowCount}),ps({cache:Ms,throttle:!1})},[ns,ts,rs.rows,rs.getRowId,rs.loading,rs.rowCount,ps]),Is=reactExports.useCallback(Ms=>{Ms==="rowTreeCreation"&&Ts()},[Ts]),Rs=reactExports.useCallback(()=>{ts.current.getActiveStrategy("rowTree")!==gridRowGroupingNameSelector(ts)&&Ts()},[ts,Ts]);useGridApiEventHandler(ts,"activeStrategyProcessorChange",Is),useGridApiEventHandler(ts,"strategyAvailabilityChange",Rs);const As=reactExports.useCallback(()=>{ts.current.setState(Ms=>{const Os=ts.current.unstable_applyPipeProcessors("hydrateRows",{tree:gridRowTreeSelector(Ms,ts.current.instanceId),treeDepths:gridRowTreeDepthsSelector(Ms,ts.current.instanceId),dataRowIds:gridDataRowIdsSelector(Ms,ts.current.instanceId),dataRowIdToModelLookup:gridRowsLookupSelector(Ms,ts.current.instanceId),dataRowIdToIdLookup:gridRowsDataRowIdToIdLookupSelector(Ms,ts.current.instanceId)});return _extends$5({},Ms,{rows:_extends$5({},Ms.rows,Os,{totalTopLevelRowCount:getTopLevelRowCount({tree:Os.tree,rowCountProp:rs.rowCount})})})}),ts.current.publishEvent("rowsSet"),ts.current.forceUpdate()},[ts,rs.rowCount]);useGridRegisterPipeApplier(ts,"hydrateRows",As),useGridApiMethod(ts,Es,"public"),useGridApiMethod(ts,ws,rs.signature===GridSignature.DataGrid?"private":"public");const ks=reactExports.useRef(!0);reactExports.useEffect(()=>{if(ks.current){ks.current=!1;return}const Ms=ts.current.caches.rows.rowsBeforePartialUpdates===rs.rows,Os=ts.current.caches.rows.loadingPropBeforePartialUpdates===rs.loading,Ds=ts.current.caches.rows.rowCountPropBeforePartialUpdates===rs.rowCount;if(Ms){Os||(ts.current.setState(Fs=>_extends$5({},Fs,{rows:_extends$5({},Fs.rows,{loading:rs.loading})})),ts.current.caches.rows.loadingPropBeforePartialUpdates=rs.loading,ts.current.forceUpdate()),Ds||(ts.current.setState(Fs=>_extends$5({},Fs,{rows:_extends$5({},Fs.rows,{totalRowCount:Math.max(rs.rowCount||0,Fs.rows.totalRowCount),totalTopLevelRowCount:Math.max(rs.rowCount||0,Fs.rows.totalTopLevelRowCount)})})),ts.current.caches.rows.rowCountPropBeforePartialUpdates=rs.rowCount,ts.current.forceUpdate());return}ns.debug("Updating all rows, new length ".concat(rs.rows.length)),ps({cache:createRowsInternalCache({rows:rs.rows,getRowId:rs.getRowId,loading:rs.loading,rowCount:rs.rowCount}),throttle:!1})},[rs.rows,rs.rowCount,rs.getRowId,rs.loading,ns,ps,ts])},createFlatRowTree=ts=>{const rs={[GRID_ROOT_GROUP_ID]:_extends$5({},buildRootGroup(),{children:ts})};for(let ns=0;ns<ts.length;ns+=1){const os=ts[ns];rs[os]={id:os,depth:0,parent:GRID_ROOT_GROUP_ID,type:"leaf",groupingKey:null}}return{groupingName:GRID_DEFAULT_STRATEGY,tree:rs,treeDepths:{0:ts.length},dataRowIds:ts}},updateFlatRowTree=({previousTree:ts,actions:rs})=>{const ns=_extends$5({},ts),os={};for(let ls=0;ls<rs.remove.length;ls+=1){const cs=rs.remove[ls];os[cs]=!0,delete ns[cs]}for(let ls=0;ls<rs.insert.length;ls+=1){const cs=rs.insert[ls];ns[cs]={id:cs,depth:0,parent:GRID_ROOT_GROUP_ID,type:"leaf",groupingKey:null}}const ss=ns[GRID_ROOT_GROUP_ID];let as=[...ss.children,...rs.insert];return Object.values(os).length&&(as=as.filter(ls=>!os[ls])),ns[GRID_ROOT_GROUP_ID]=_extends$5({},ss,{children:as}),{groupingName:GRID_DEFAULT_STRATEGY,tree:ns,treeDepths:{0:as.length},dataRowIds:as}},flatRowTreeCreationMethod=ts=>ts.updates.type==="full"?createFlatRowTree(ts.updates.rows):updateFlatRowTree({previousTree:ts.previousTree,actions:ts.updates.actions}),useGridRowsPreProcessors=ts=>{useGridRegisterStrategyProcessor(ts,GRID_DEFAULT_STRATEGY,"rowTreeCreation",flatRowTreeCreationMethod)},getSelectionModelPropValue=(ts,rs)=>ts==null||Array.isArray(ts)?ts:rs&&rs[0]===ts?rs:[ts],rowSelectionStateInitializer=(ts,rs)=>{var ns;return _extends$5({},ts,{rowSelection:rs.rowSelection?(ns=getSelectionModelPropValue(rs.rowSelectionModel))!=null?ns:[]:[]})},useGridRowSelection=(ts,rs)=>{const ns=useGridLogger(ts,"useGridSelection"),os=Os=>(...Ds)=>{rs.rowSelection&&Os(...Ds)},ss=reactExports.useMemo(()=>getSelectionModelPropValue(rs.rowSelectionModel,gridRowSelectionStateSelector(ts.current.state)),[ts,rs.rowSelectionModel]),as=reactExports.useRef(null);ts.current.registerControlState({stateId:"rowSelection",propModel:ss,propOnChange:rs.onRowSelectionModelChange,stateSelector:gridRowSelectionStateSelector,changeEvent:"rowSelectionChange"});const{checkboxSelection:ls,disableMultipleRowSelection:cs,disableRowSelectionOnClick:us,isRowSelectable:ds}=rs,ps=!cs||ls,fs=useGridVisibleRows(ts,rs),hs=reactExports.useCallback(Os=>{var Ds;let Fs=Os;const js=(Ds=as.current)!=null?Ds:Os,Ps=ts.current.isRowSelected(Os);if(Ps){const Ls=gridExpandedSortedRowIdsSelector(ts),Ns=Ls.findIndex(Us=>Us===js),Gs=Ls.findIndex(Us=>Us===Fs);if(Ns===Gs)return;Ns>Gs?Fs=Ls[Gs+1]:Fs=Ls[Gs-1]}as.current=Os,ts.current.selectRowRange({startId:js,endId:Fs},!Ps)},[ts]),ms=reactExports.useCallback(Os=>{if(rs.signature===GridSignature.DataGrid&&!rs.checkboxSelection&&Array.isArray(Os)&&Os.length>1)throw new Error(["MUI: `rowSelectionModel` can only contain 1 item in DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock multiple selection."].join("\n"));gridRowSelectionStateSelector(ts.current.state)!==Os&&(ns.debug("Setting selection model"),ts.current.setState(Fs=>_extends$5({},Fs,{rowSelection:rs.rowSelection?Os:[]})),ts.current.forceUpdate())},[ts,ns,rs.rowSelection,rs.signature,rs.checkboxSelection]),gs=reactExports.useCallback(Os=>gridRowSelectionStateSelector(ts.current.state).includes(Os),[ts]),vs=reactExports.useCallback(Os=>{if(ds&&!ds(ts.current.getRowParams(Os)))return!1;const Ds=ts.current.getRowNode(Os);return!((Ds==null?void 0:Ds.type)==="footer"||(Ds==null?void 0:Ds.type)==="pinnedRow")},[ts,ds]),bs=reactExports.useCallback(()=>selectedGridRowsSelector(ts),[ts]),xs=reactExports.useCallback((Os,Ds=!0,Fs=!1)=>{if(ts.current.isRowSelectable(Os))if(as.current=Os,Fs)ns.debug("Setting selection for row ".concat(Os)),ts.current.setRowSelectionModel(Ds?[Os]:[]);else{ns.debug("Toggling selection for row ".concat(Os));const Ps=gridRowSelectionStateSelector(ts.current.state).filter(Ns=>Ns!==Os);Ds&&Ps.push(Os),(Ps.length<2||ps)&&ts.current.setRowSelectionModel(Ps)}},[ts,ns,ps]),ys=reactExports.useCallback((Os,Ds=!0,Fs=!1)=>{ns.debug("Setting selection for several rows");const js=Os.filter(Ns=>ts.current.isRowSelectable(Ns));let Ps;if(Fs)Ps=Ds?js:[];else{const Ns=_extends$5({},selectedIdsLookupSelector(ts));js.forEach(Gs=>{Ds?Ns[Gs]=Gs:delete Ns[Gs]}),Ps=Object.values(Ns)}(Ps.length<2||ps)&&ts.current.setRowSelectionModel(Ps)},[ts,ns,ps]),Ss=reactExports.useCallback(({startId:Os,endId:Ds},Fs=!0,js=!1)=>{if(!ts.current.getRow(Os)||!ts.current.getRow(Ds))return;ns.debug("Expanding selection from row ".concat(Os," to row ").concat(Ds));const Ps=gridExpandedSortedRowIdsSelector(ts),Ls=Ps.indexOf(Os),Ns=Ps.indexOf(Ds),[Gs,Us]=Ls>Ns?[Ns,Ls]:[Ls,Ns],Hs=Ps.slice(Gs,Us+1);ts.current.selectRows(Hs,Fs,js)},[ts,ns]),Cs={selectRow:xs,setRowSelectionModel:ms,getSelectedRows:bs,isRowSelected:gs,isRowSelectable:vs},$s={selectRows:ys,selectRowRange:Ss};useGridApiMethod(ts,Cs,"public"),useGridApiMethod(ts,$s,rs.signature===GridSignature.DataGrid?"private":"public");const Es=reactExports.useCallback(()=>{if(rs.keepNonExistentRowsSelected)return;const Os=gridRowSelectionStateSelector(ts.current.state),Ds=gridRowsLookupSelector(ts),Fs=_extends$5({},selectedIdsLookupSelector(ts));let js=!1;Os.forEach(Ps=>{Ds[Ps]||(delete Fs[Ps],js=!0)}),js&&ts.current.setRowSelectionModel(Object.values(Fs))},[ts,rs.keepNonExistentRowsSelected]),ws=reactExports.useCallback((Os,Ds)=>{const Fs=Ds.metaKey||Ds.ctrlKey,js=!ls&&!Fs&&!isKeyboardEvent$1(Ds),Ps=!ps||js,Ls=ts.current.isRowSelected(Os);Ps?ts.current.selectRow(Os,js?!0:!Ls,!0):ts.current.selectRow(Os,!Ls,!1)},[ts,ps,ls]),Ts=reactExports.useCallback((Os,Ds)=>{var Fs;if(us)return;const js=(Fs=Ds.target.closest(".".concat(gridClasses.cell)))==null?void 0:Fs.getAttribute("data-field");if(js===GRID_CHECKBOX_SELECTION_COL_DEF.field||js===GRID_DETAIL_PANEL_TOGGLE_FIELD$1)return;if(js){const Ls=ts.current.getColumn(js);if((Ls==null?void 0:Ls.type)===GRID_ACTIONS_COLUMN_TYPE)return}ts.current.getRowNode(Os.id).type!=="pinnedRow"&&(Ds.shiftKey&&(ps||ls)?hs(Os.id):ws(Os.id,Ds))},[us,ps,ls,ts,hs,ws]),Is=reactExports.useCallback((Os,Ds)=>{if(ps&&Ds.shiftKey){var Fs;(Fs=window.getSelection())==null||Fs.removeAllRanges()}},[ps]),Rs=reactExports.useCallback((Os,Ds)=>{Ds.nativeEvent.shiftKey?hs(Os.id):ts.current.selectRow(Os.id,Os.value)},[ts,hs]),As=reactExports.useCallback(Os=>{const Fs=rs.checkboxSelectionVisibleOnly&&rs.pagination?gridPaginatedVisibleSortedGridRowIdsSelector(ts):gridExpandedSortedRowIdsSelector(ts),js=gridFilterModelSelector(ts);ts.current.selectRows(Fs,Os.value,(js==null?void 0:js.items.length)>0)},[ts,rs.checkboxSelectionVisibleOnly,rs.pagination]),ks=reactExports.useCallback((Os,Ds)=>{if(ts.current.getCellMode(Os.id,Os.field)!==GridCellModes.Edit&&!isEventTargetInPortal(Ds)){if(isNavigationKey(Ds.key)&&Ds.shiftKey){const Fs=gridFocusCellSelector(ts);if(Fs&&Fs.id!==Os.id){Ds.preventDefault();const js=ts.current.isRowSelected(Fs.id);if(!ps){ts.current.selectRow(Fs.id,!js,!0);return}const Ps=ts.current.getRowIndexRelativeToVisibleRows(Fs.id),Ls=ts.current.getRowIndexRelativeToVisibleRows(Os.id);let Ns,Gs;Ps>Ls?js?(Ns=Ls,Gs=Ps-1):(Ns=Ls,Gs=Ps):js?(Ns=Ps+1,Gs=Ls):(Ns=Ps,Gs=Ls);const Us=fs.rows.slice(Ns,Gs+1).map(Hs=>Hs.id);ts.current.selectRows(Us,!js);return}}if(Ds.key===" "&&Ds.shiftKey){Ds.preventDefault(),ws(Os.id,Ds);return}Ds.key==="a"&&(Ds.ctrlKey||Ds.metaKey)&&(Ds.preventDefault(),ys(ts.current.getAllRowIds(),!0))}},[ts,ws,ys,fs.rows,ps]);useGridApiEventHandler(ts,"sortedRowsSet",os(Es)),useGridApiEventHandler(ts,"rowClick",os(Ts)),useGridApiEventHandler(ts,"rowSelectionCheckboxChange",os(Rs)),useGridApiEventHandler(ts,"headerSelectionCheckboxChange",As),useGridApiEventHandler(ts,"cellMouseDown",os(Is)),useGridApiEventHandler(ts,"cellKeyDown",os(ks)),reactExports.useEffect(()=>{ss!==void 0&&ts.current.setRowSelectionModel(ss)},[ts,ss,rs.rowSelection]),reactExports.useEffect(()=>{rs.rowSelection||ts.current.setRowSelectionModel([])},[ts,rs.rowSelection]);const Ms=ss!=null;reactExports.useEffect(()=>{if(Ms||!rs.rowSelection)return;const Os=gridRowSelectionStateSelector(ts.current.state);if(vs){const Ds=Os.filter(Fs=>vs(Fs));Ds.length<Os.length&&ts.current.setRowSelectionModel(Ds)}},[ts,vs,Ms,rs.rowSelection]),reactExports.useEffect(()=>{if(!rs.rowSelection||Ms)return;const Os=gridRowSelectionStateSelector(ts.current.state);!ps&&Os.length>1&&ts.current.setRowSelectionModel([])},[ts,ps,ls,Ms,rs.rowSelection])},useUtilityClasses$A=ts=>{const{classes:rs}=ts;return reactExports.useMemo(()=>composeClasses({cellCheckbox:["cellCheckbox"],columnHeaderCheckbox:["columnHeaderCheckbox"]},getDataGridUtilityClass,rs),[rs])},useGridRowSelectionPreProcessors=(ts,rs)=>{const ns={classes:rs.classes},os=useUtilityClasses$A(ns),ss=reactExports.useCallback(as=>{const ls=_extends$5({},GRID_CHECKBOX_SELECTION_COL_DEF,{cellClassName:os.cellCheckbox,headerClassName:os.columnHeaderCheckbox,headerName:ts.current.getLocaleText("checkboxSelectionHeaderName")}),cs=rs.checkboxSelection,us=as.lookup[GRID_CHECKBOX_SELECTION_FIELD]!=null;return cs&&!us?(as.lookup[GRID_CHECKBOX_SELECTION_FIELD]=ls,as.orderedFields=[GRID_CHECKBOX_SELECTION_FIELD,...as.orderedFields]):!cs&&us?(delete as.lookup[GRID_CHECKBOX_SELECTION_FIELD],as.orderedFields=as.orderedFields.filter(ds=>ds!==GRID_CHECKBOX_SELECTION_FIELD)):cs&&us&&(as.lookup[GRID_CHECKBOX_SELECTION_FIELD]=_extends$5({},ls,as.lookup[GRID_CHECKBOX_SELECTION_FIELD])),as},[ts,os,rs.checkboxSelection]);useGridRegisterPipeProcessor(ts,"hydrateColumns",ss)},sortingStateInitializer=(ts,rs)=>{var ns,os,ss;const as=(ns=(os=rs.sortModel)!=null?os:(ss=rs.initialState)==null||(ss=ss.sorting)==null?void 0:ss.sortModel)!=null?ns:[];return _extends$5({},ts,{sorting:{sortModel:sanitizeSortModel(as,rs.disableMultipleColumnsSorting),sortedRows:[]}})},useGridSorting=(ts,rs)=>{var ns;const os=useGridLogger(ts,"useGridSorting");ts.current.registerControlState({stateId:"sortModel",propModel:rs.sortModel,propOnChange:rs.onSortModelChange,stateSelector:gridSortModelSelector,changeEvent:"sortModelChange"});const ss=reactExports.useCallback((Es,ws)=>{const Ts=gridSortModelSelector(ts),Is=Ts.findIndex(As=>As.field===Es);let Rs=[...Ts];return Is>-1?ws?Rs.splice(Is,1,ws):Rs.splice(Is,1):Rs=[...Ts,ws],Rs},[ts]),as=reactExports.useCallback((Es,ws)=>{var Ts;const Rs=gridSortModelSelector(ts).find(ks=>ks.field===Es.field);if(Rs){var As;const ks=ws===void 0?getNextGridSortDirection((As=Es.sortingOrder)!=null?As:rs.sortingOrder,Rs.sort):ws;return ks==null?void 0:_extends$5({},Rs,{sort:ks})}return{field:Es.field,sort:ws===void 0?getNextGridSortDirection((Ts=Es.sortingOrder)!=null?Ts:rs.sortingOrder):ws}},[ts,rs.sortingOrder]),ls=reactExports.useCallback((Es,ws)=>ws==null||ws.sortable===!1?Es:(ws.sortingOrder||rs.sortingOrder).some(Is=>!!Is)?[...Es,"columnMenuSortItem"]:Es,[rs.sortingOrder]),cs=reactExports.useCallback(()=>{ts.current.setState(Es=>{if(rs.sortingMode==="server")return os.debug("Skipping sorting rows as sortingMode = server"),_extends$5({},Es,{sorting:_extends$5({},Es.sorting,{sortedRows:getTreeNodeDescendants(gridRowTreeSelector(ts),GRID_ROOT_GROUP_ID,!1)})});const ws=gridSortModelSelector(Es,ts.current.instanceId),Ts=buildAggregatedSortingApplier(ws,ts),Is=ts.current.applyStrategyProcessor("sorting",{sortRowList:Ts});return _extends$5({},Es,{sorting:_extends$5({},Es.sorting,{sortedRows:Is})})}),ts.current.publishEvent("sortedRowsSet"),ts.current.forceUpdate()},[ts,os,rs.sortingMode]),us=reactExports.useCallback(Es=>{gridSortModelSelector(ts)!==Es&&(os.debug("Setting sort model"),ts.current.setState(mergeStateWithSortModel(Es,rs.disableMultipleColumnsSorting)),ts.current.forceUpdate(),ts.current.applySorting())},[ts,os,rs.disableMultipleColumnsSorting]),ds=reactExports.useCallback((Es,ws,Ts)=>{if(!Es.sortable)return;const Is=as(Es,ws);let Rs;!Ts||rs.disableMultipleColumnsSorting?Rs=Is?[Is]:[]:Rs=ss(Es.field,Is),ts.current.setSortModel(Rs)},[ts,ss,as,rs.disableMultipleColumnsSorting]),ps=reactExports.useCallback(()=>gridSortModelSelector(ts),[ts]),fs=reactExports.useCallback(()=>gridSortedRowEntriesSelector(ts).map(ws=>ws.model),[ts]),hs=reactExports.useCallback(()=>gridSortedRowIdsSelector(ts),[ts]),ms=reactExports.useCallback(Es=>ts.current.getSortedRowIds()[Es],[ts]);useGridApiMethod(ts,{getSortModel:ps,getSortedRows:fs,getSortedRowIds:hs,getRowIdFromRowIndex:ms,setSortModel:us,sortColumn:ds,applySorting:cs},"public");const vs=reactExports.useCallback((Es,ws)=>{var Ts;const Is=gridSortModelSelector(ts);return!ws.exportOnlyDirtyModels||rs.sortModel!=null||((Ts=rs.initialState)==null||(Ts=Ts.sorting)==null?void 0:Ts.sortModel)!=null||Is.length>0?_extends$5({},Es,{sorting:{sortModel:Is}}):Es},[ts,rs.sortModel,(ns=rs.initialState)==null||(ns=ns.sorting)==null?void 0:ns.sortModel]),bs=reactExports.useCallback((Es,ws)=>{var Ts;const Is=(Ts=ws.stateToRestore.sorting)==null?void 0:Ts.sortModel;return Is==null?Es:(ts.current.setState(mergeStateWithSortModel(Is,rs.disableMultipleColumnsSorting)),_extends$5({},Es,{callbacks:[...Es.callbacks,ts.current.applySorting]}))},[ts,rs.disableMultipleColumnsSorting]),xs=reactExports.useCallback(Es=>{const ws=gridRowTreeSelector(ts),Ts=ws[GRID_ROOT_GROUP_ID],Is=Es.sortRowList?Es.sortRowList(Ts.children.map(Rs=>ws[Rs])):[...Ts.children];return Ts.footerId!=null&&Is.push(Ts.footerId),Is},[ts]);useGridRegisterPipeProcessor(ts,"exportState",vs),useGridRegisterPipeProcessor(ts,"restoreState",bs),useGridRegisterStrategyProcessor(ts,GRID_DEFAULT_STRATEGY,"sorting",xs);const ys=reactExports.useCallback(({colDef:Es},ws)=>{const Ts=ws.shiftKey||ws.metaKey||ws.ctrlKey;ds(Es,void 0,Ts)},[ds]),Ss=reactExports.useCallback(({colDef:Es},ws)=>{isEnterKey(ws.key)&&!ws.ctrlKey&&!ws.metaKey&&ds(Es,void 0,ws.shiftKey)},[ds]),Cs=reactExports.useCallback(()=>{const Es=gridSortModelSelector(ts),ws=gridColumnLookupSelector(ts);if(Es.length>0){const Ts=Es.filter(Is=>ws[Is.field]);Ts.length<Es.length&&ts.current.setSortModel(Ts)}},[ts]),$s=reactExports.useCallback(Es=>{Es==="sorting"&&ts.current.applySorting()},[ts]);useGridRegisterPipeProcessor(ts,"columnMenu",ls),useGridApiEventHandler(ts,"columnHeaderClick",ys),useGridApiEventHandler(ts,"columnHeaderKeyDown",Ss),useGridApiEventHandler(ts,"rowsSet",ts.current.applySorting),useGridApiEventHandler(ts,"columnsChange",Cs),useGridApiEventHandler(ts,"activeStrategyProcessorChange",$s),useFirstRender(()=>{ts.current.applySorting()}),useEnhancedEffect$1(()=>{rs.sortModel!==void 0&&ts.current.setSortModel(rs.sortModel)},[ts,rs.sortModel])};function scrollIntoView(ts){const{clientHeight:rs,scrollTop:ns,offsetHeight:os,offsetTop:ss}=ts,as=ss+os;if(os>rs)return ss;if(as-rs>ns)return as-rs;if(ss<ns)return ss}const useGridScroll=(ts,rs)=>{const ns=useTheme$1(),os=useGridLogger(ts,"useGridScroll"),ss=ts.current.columnHeadersElementRef,as=ts.current.virtualScrollerRef,ls=useGridSelector(ts,gridExpandedSortedRowEntriesSelector),cs=reactExports.useCallback(fs=>{const hs=gridRowCountSelector(ts),ms=gridVisibleColumnDefinitionsSelector(ts);if(!(fs.rowIndex==null)&&hs===0||ms.length===0)return!1;os.debug("Scrolling to cell at row ".concat(fs.rowIndex,", col: ").concat(fs.colIndex," "));let vs={};if(fs.colIndex!=null){const Ss=gridColumnPositionsSelector(ts);let Cs;if(typeof fs.rowIndex<"u"){var bs;const $s=(bs=ls[fs.rowIndex])==null?void 0:bs.id,Es=ts.current.unstable_getCellColSpanInfo($s,fs.colIndex);Es&&!Es.spannedByColSpan&&(Cs=Es.cellProps.width)}typeof Cs>"u"&&(Cs=ms[fs.colIndex].computedWidth),vs.left=scrollIntoView({clientHeight:as.current.clientWidth,scrollTop:Math.abs(as.current.scrollLeft),offsetHeight:Cs,offsetTop:Ss[fs.colIndex]})}if(fs.rowIndex!=null){var xs,ys;const Ss=gridRowsMetaSelector(ts.current.state),Cs=gridPageSelector(ts),$s=gridPageSizeSelector(ts),Es=rs.pagination?fs.rowIndex-Cs*$s:fs.rowIndex,ws=Ss.positions[Es+1]?Ss.positions[Es+1]-Ss.positions[Es]:Ss.currentPageTotalHeight-Ss.positions[Es],Ts=((xs=as.current.querySelector(".".concat(gridClasses["pinnedRows--top"])))==null?void 0:xs.clientHeight)||0,Is=((ys=as.current.querySelector(".".concat(gridClasses["pinnedRows--bottom"])))==null?void 0:ys.clientHeight)||0;vs.top=scrollIntoView({clientHeight:as.current.clientHeight-Ts-Is,scrollTop:as.current.scrollTop,offsetHeight:ws,offsetTop:Ss.positions[Es]})}return vs=ts.current.unstable_applyPipeProcessors("scrollToIndexes",vs,fs),typeof vs.left!==void 0||typeof vs.top!==void 0?(ts.current.scroll(vs),!0):!1},[os,ts,as,rs.pagination,ls]),us=reactExports.useCallback(fs=>{if(as.current&&fs.left!=null&&ss.current){const hs=ns.direction==="rtl"?-1:1;ss.current.scrollLeft=fs.left,as.current.scrollLeft=hs*fs.left,os.debug("Scrolling left: ".concat(fs.left))}as.current&&fs.top!=null&&(as.current.scrollTop=fs.top,os.debug("Scrolling top: ".concat(fs.top))),os.debug("Scrolling, updating container, and viewport")},[as,ns.direction,ss,os]),ds=reactExports.useCallback(()=>as!=null&&as.current?{top:as.current.scrollTop,left:as.current.scrollLeft}:{top:0,left:0},[as]);useGridApiMethod(ts,{scroll:us,scrollToIndexes:cs,getScrollPosition:ds},"public")};function useGridEvents(ts,rs){useGridApiOptionHandler(ts,"columnHeaderClick",rs.onColumnHeaderClick),useGridApiOptionHandler(ts,"columnHeaderDoubleClick",rs.onColumnHeaderDoubleClick),useGridApiOptionHandler(ts,"columnHeaderOver",rs.onColumnHeaderOver),useGridApiOptionHandler(ts,"columnHeaderOut",rs.onColumnHeaderOut),useGridApiOptionHandler(ts,"columnHeaderEnter",rs.onColumnHeaderEnter),useGridApiOptionHandler(ts,"columnHeaderLeave",rs.onColumnHeaderLeave),useGridApiOptionHandler(ts,"cellClick",rs.onCellClick),useGridApiOptionHandler(ts,"cellDoubleClick",rs.onCellDoubleClick),useGridApiOptionHandler(ts,"cellKeyDown",rs.onCellKeyDown),useGridApiOptionHandler(ts,"preferencePanelClose",rs.onPreferencePanelClose),useGridApiOptionHandler(ts,"preferencePanelOpen",rs.onPreferencePanelOpen),useGridApiOptionHandler(ts,"menuOpen",rs.onMenuOpen),useGridApiOptionHandler(ts,"menuClose",rs.onMenuClose),useGridApiOptionHandler(ts,"rowDoubleClick",rs.onRowDoubleClick),useGridApiOptionHandler(ts,"rowClick",rs.onRowClick),useGridApiOptionHandler(ts,"stateChange",rs.onStateChange)}const hasScroll=({content:ts,container:rs,scrollBarSize:ns})=>{const os=ts.width>rs.width,ss=ts.height>rs.height;let as=!1,ls=!1;return(os||ss)&&(as=os,ls=ts.height+(as?ns:0)>rs.height,ls&&(as=ts.width+ns>rs.width)),{hasScrollX:as,hasScrollY:ls}};function useGridDimensions(ts,rs){const ns=useGridLogger(ts,"useResizeContainer"),os=reactExports.useRef(!1),ss=reactExports.useRef(null),as=reactExports.useRef(null),ls=useGridSelector(ts,gridRowsMetaSelector),cs=useGridSelector(ts,gridDensityFactorSelector),us=Math.floor(rs.rowHeight*cs),ds=getTotalHeaderHeight(ts,rs.columnHeaderHeight),ps=reactExports.useCallback(()=>{var ws;const Ts=(ws=ts.current.rootElementRef)==null?void 0:ws.current,Is=gridColumnsTotalWidthSelector(ts),Rs=calculatePinnedRowsHeight(ts);if(!ss.current)return;let As;if(rs.scrollbarSize!=null)As=rs.scrollbarSize;else if(!Is||!Ts)As=0;else{const Ls=ownerDocument(Ts).createElement("div");Ls.style.width="99px",Ls.style.height="99px",Ls.style.position="absolute",Ls.style.overflow="scroll",Ls.className="scrollDiv",Ts.appendChild(Ls),As=Ls.offsetWidth-Ls.clientWidth,Ts.removeChild(Ls)}let ks,Ms,Os;if(rs.autoHeight)Os=!1,Ms=Math.round(Is)>Math.round(ss.current.width),ks={width:ss.current.width,height:ls.currentPageTotalHeight+(Ms?As:0)};else{ks={width:ss.current.width,height:Math.max(ss.current.height-ds,0)};const Ps=hasScroll({content:{width:Math.round(Is),height:ls.currentPageTotalHeight},container:{width:Math.round(ks.width),height:ks.height-Rs.top-Rs.bottom},scrollBarSize:As});Os=Ps.hasScrollY,Ms=Ps.hasScrollX}const Ds={width:ks.width-(Os?As:0),height:ks.height-(Ms?As:0)},Fs={viewportOuterSize:ks,viewportInnerSize:Ds,hasScrollX:Ms,hasScrollY:Os,scrollBarSize:As},js=as.current;as.current=Fs,(Fs.viewportInnerSize.width!==(js==null?void 0:js.viewportInnerSize.width)||Fs.viewportInnerSize.height!==(js==null?void 0:js.viewportInnerSize.height))&&ts.current.publishEvent("viewportInnerSizeChange",Fs.viewportInnerSize)},[ts,rs.scrollbarSize,rs.autoHeight,ls.currentPageTotalHeight,ds]),[fs,hs]=reactExports.useState(),ms=reactExports.useMemo(()=>debounce$2(hs,60),[]),gs=reactExports.useRef();useEnhancedEffect$1(()=>{fs&&(ps(),ts.current.publishEvent("debouncedResize",ss.current))},[ts,fs,ps]);const vs=reactExports.useCallback(()=>{ts.current.computeSizeAndPublishResizeEvent()},[ts]),bs=reactExports.useCallback(()=>as.current,[]),xs=reactExports.useCallback(()=>{const ws=ts.current.getRootDimensions();if(!ws)return 0;const Ts=getVisibleRows(ts,{pagination:rs.pagination,paginationMode:rs.paginationMode});if(rs.getRowHeight){const Rs=ts.current.getRenderContext(),As=Rs.lastRowIndex-Rs.firstRowIndex;return Math.min(As-1,Ts.rows.length)}const Is=Math.floor(ws.viewportInnerSize.height/us);return Math.min(Is,Ts.rows.length)},[ts,rs.pagination,rs.paginationMode,rs.getRowHeight,us]),ys=reactExports.useCallback(()=>{var ws,Ts,Is;const Rs=(ws=ts.current.mainElementRef)==null?void 0:ws.current;if(!Rs)return;const ks=ownerWindow(Rs).getComputedStyle(Rs),Ms=parseFloat(ks.height)||0,Os=parseFloat(ks.width)||0,Ds=Ms!==((Ts=gs.current)==null?void 0:Ts.height),Fs=Os!==((Is=gs.current)==null?void 0:Is.width);if(!gs.current||Ds||Fs){const js={width:Os,height:Ms};ts.current.publishEvent("resize",js),gs.current=js}},[ts]),Ss={resize:vs,getRootDimensions:bs},Cs={getViewportPageSize:xs,updateGridDimensionsRef:ps,computeSizeAndPublishResizeEvent:ys};useGridApiMethod(ts,Ss,"public"),useGridApiMethod(ts,Cs,"private");const $s=reactExports.useRef(!0),Es=reactExports.useCallback(ws=>{ss.current=ws;const Ts=/jsdom/.test(window.navigator.userAgent);if(ws.height===0&&!os.current&&!rs.autoHeight&&!Ts&&(ns.error(["The parent DOM element of the data grid has an empty height.","Please make sure that this element has an intrinsic height.","The grid displays with a height of 0px.","","More details: https://mui.com/r/x-data-grid-no-dimensions."].join("\n")),os.current=!0),ws.width===0&&!os.current&&!Ts&&(ns.error(["The parent DOM element of the data grid has an empty width.","Please make sure that this element has an intrinsic width.","The grid displays with a width of 0px.","","More details: https://mui.com/r/x-data-grid-no-dimensions."].join("\n")),os.current=!0),$s.current){hs(ws),$s.current=!1;return}ms(ws)},[rs.autoHeight,ms,ns]);useEnhancedEffect$1(()=>ps(),[ps]),useGridApiOptionHandler(ts,"sortedRowsSet",ps),useGridApiOptionHandler(ts,"paginationModelChange",ps),useGridApiOptionHandler(ts,"columnsChange",ps),useGridApiEventHandler(ts,"resize",Es),useGridApiOptionHandler(ts,"debouncedResize",rs.onResize)}const _excluded$y=["style"],_excluded2=["style"];function binarySearch(ts,rs,ns=0,os=rs.length){if(rs.length<=0)return-1;if(ns>=os)return ns;const ss=ns+Math.floor((os-ns)/2),as=rs[ss];return ts<=as?binarySearch(ts,rs,ns,ss):binarySearch(ts,rs,ss+1,os)}function exponentialSearch(ts,rs,ns){let os=1;for(;ns<rs.length&&Math.abs(rs[ns])<ts;)ns+=os,os*=2;return binarySearch(ts,rs,Math.floor(ns/2),Math.min(ns,rs.length))}const getRenderableIndexes=({firstIndex:ts,lastIndex:rs,buffer:ns,minFirstIndex:os,maxLastIndex:ss})=>[clamp$1(ts-ns,os,ss),clamp$1(rs+ns,os,ss)],areRenderContextsEqual=(ts,rs)=>ts===rs?!0:ts.firstRowIndex===rs.firstRowIndex&&ts.lastRowIndex===rs.lastRowIndex&&ts.firstColumnIndex===rs.firstColumnIndex&&ts.lastColumnIndex===rs.lastColumnIndex,MEMOIZE_OPTIONS={maxSize:3},useGridVirtualScroller=ts=>{const rs=useGridPrivateApiContext$1(),ns=useGridRootProps$1(),os=useGridSelector(rs,gridVisibleColumnDefinitionsSelector),ss=useGridSelector(rs,gridVirtualizationEnabledSelector),as=useGridSelector(rs,gridVirtualizationColumnEnabledSelector),{ref:ls,onRenderZonePositioning:cs,renderZoneMinColumnIndex:us=0,renderZoneMaxColumnIndex:ds=os.length,getRowProps:ps}=ts,fs=useTheme$1(),hs=useGridSelector(rs,gridColumnPositionsSelector),ms=useGridSelector(rs,gridColumnsTotalWidthSelector),gs=useGridSelector(rs,gridFocusCellSelector),vs=useGridSelector(rs,gridTabIndexCellSelector),bs=useGridSelector(rs,gridRowsMetaSelector),xs=useGridSelector(rs,selectedIdsLookupSelector),ys=useGridVisibleRows(rs,ns),Ss=reactExports.useRef(null),Cs=reactExports.useRef(null),$s=useForkRef(ls,Cs),[Es,ws]=reactExports.useState(null),Ts=reactExports.useRef(Es),Is=reactExports.useRef({top:0,left:0}),[Rs,As]=reactExports.useState({width:null,height:null}),ks=reactExports.useRef(ms),[Ms,Os]=reactExports.useState(null),Ds=reactExports.useRef(Object.create(null)),Fs=reactExports.useRef(),js=reactExports.useRef(),Ps=reactExports.useRef(defaultMemoize((Sl,Ml,wl,Rl,yl,Bs)=>{let Zs;const Ys=Sl.slice(Ml,wl);return Bs>-1&&(Ml>Bs&&Bs>=Rl||wl<Bs&&Bs<yl)&&(Zs=Bs),{focusedCellColumnIndexNotInRange:Zs,renderedColumns:Ys}},MEMOIZE_OPTIONS)),Ls=reactExports.useMemo(()=>gs!==null?os.findIndex(Sl=>Sl.field===gs.field):-1,[gs,os]),Ns=reactExports.useCallback(()=>{if(!ss)return{firstRowIndex:0,lastRowIndex:ys.rows.length,firstColumnIndex:0,lastColumnIndex:os.length};const{top:Sl,left:Ml}=Is.current,wl=Math.min(getNearestIndexToRender(rs,ys,bs,Sl),bs.positions.length-1),Rl=ns.autoHeight?wl+ys.rows.length:getNearestIndexToRender(rs,ys,bs,Sl+Rs.height);let yl=0,Bs=hs.length;if(as){let Zs=!1;const[Ys,_l]=getRenderableIndexes({firstIndex:wl,lastIndex:Rl,minFirstIndex:0,maxLastIndex:ys.rows.length,buffer:ns.rowBuffer});for(let Cl=Ys;Cl<_l&&!Zs;Cl+=1){const Xs=ys.rows[Cl];Zs=rs.current.rowHasAutoHeight(Xs.id)}Zs||(yl=binarySearch(Math.abs(Ml),hs),Bs=binarySearch(Math.abs(Ml)+Rs.width,hs))}return{firstRowIndex:wl,lastRowIndex:Rl,firstColumnIndex:yl,lastColumnIndex:Bs}},[ss,as,bs,ns.autoHeight,ns.rowBuffer,ys,hs,os.length,rs,Rs]);useEnhancedEffect$1(()=>{ss?(Cs.current.scrollLeft=0,Cs.current.scrollTop=0):Ss.current.style.transform="translate3d(0px, 0px, 0px)"},[ss]),useEnhancedEffect$1(()=>{As({width:Cs.current.clientWidth,height:Cs.current.clientHeight})},[bs.currentPageTotalHeight]);const Gs=reactExports.useCallback(()=>{Cs.current&&As({width:Cs.current.clientWidth,height:Cs.current.clientHeight})},[]);useGridApiEventHandler(rs,"debouncedResize",Gs);const Us=reactExports.useCallback(Sl=>{const[Ml,wl]=getRenderableIndexes({firstIndex:Sl.firstRowIndex,lastIndex:Sl.lastRowIndex,minFirstIndex:0,maxLastIndex:ys.rows.length,buffer:ns.rowBuffer}),[Rl]=getRenderableIndexes({firstIndex:Sl.firstColumnIndex,lastIndex:Sl.lastColumnIndex,minFirstIndex:us,maxLastIndex:ds,buffer:ns.columnBuffer}),yl=getFirstNonSpannedColumnToRender({firstColumnToRender:Rl,apiRef:rs,firstRowToRender:Ml,lastRowToRender:wl,visibleRows:ys.rows}),Bs=fs.direction==="ltr"?1:-1,Zs=gridRowsMetaSelector(rs.current.state).positions[Ml],Ys=Bs*gridColumnPositionsSelector(rs)[yl];Ss.current.style.transform="translate3d(".concat(Ys,"px, ").concat(Zs,"px, 0px)"),typeof cs=="function"&&cs({top:Zs,left:Ys})},[rs,ys.rows,cs,us,ds,ns.columnBuffer,ns.rowBuffer,fs.direction]),Hs=reactExports.useCallback(()=>Ts.current,[]),zs=reactExports.useCallback(Sl=>{if(Ts.current&&areRenderContextsEqual(Sl,Ts.current)){Us(Sl);return}ws(Sl),Us(Sl);const[Ml,wl]=getRenderableIndexes({firstIndex:Sl.firstRowIndex,lastIndex:Sl.lastRowIndex,minFirstIndex:0,maxLastIndex:ys.rows.length,buffer:ns.rowBuffer});rs.current.publishEvent("renderedRowsIntervalChange",{firstRowToRender:Ml,lastRowToRender:wl}),Ts.current=Sl},[rs,ws,Ts,ys.rows.length,ns.rowBuffer,Us]);useEnhancedEffect$1(()=>{if(Rs.width==null)return;const Sl=Ns();zs(Sl);const{top:Ml,left:wl}=Is.current,Rl={top:Ml,left:wl,renderContext:Sl};rs.current.publishEvent("scrollPositionChange",Rl)},[rs,Ns,Rs.width,zs]);const qs=useEventCallback(Sl=>{const{scrollTop:Ml,scrollLeft:wl}=Sl.currentTarget;if(Is.current.top=Ml,Is.current.left=wl,!Ts.current||Ml<0||fs.direction==="ltr"&&wl<0||fs.direction==="rtl"&&wl>0)return;const Rl=ss?Ns():Ts.current,yl=Math.abs(Rl.firstRowIndex-Ts.current.firstRowIndex),Bs=Math.abs(Rl.lastRowIndex-Ts.current.lastRowIndex),Zs=Math.abs(Rl.firstColumnIndex-Ts.current.firstColumnIndex),Ys=Math.abs(Rl.lastColumnIndex-Ts.current.lastColumnIndex),_l=yl>=ns.rowThreshold||Bs>=ns.rowThreshold||Zs>=ns.columnThreshold||Ys>=ns.columnThreshold||ks.current!==ms;rs.current.publishEvent("scrollPositionChange",{top:Ml,left:wl,renderContext:_l?Rl:Ts.current},Sl),_l&&(reactDomExports.flushSync(()=>{zs(Rl)}),ks.current=ms)}),Vs=useEventCallback(Sl=>{rs.current.publishEvent("virtualScrollerWheel",{},Sl)}),Ks=useEventCallback(Sl=>{rs.current.publishEvent("virtualScrollerTouchMove",{},Sl)}),Ws=reactExports.useMemo(()=>gs!==null?ys.rows.findIndex(Sl=>Sl.id===gs.id):-1,[gs,ys.rows]);useGridApiEventHandler(rs,"rowMouseOver",(Sl,Ml)=>{var wl;Ml.currentTarget.contains(Ml.relatedTarget)||Os((wl=Sl.id)!=null?wl:null)}),useGridApiEventHandler(rs,"rowMouseOut",(Sl,Ml)=>{Ml.currentTarget.contains(Ml.relatedTarget)||Os(null)});const Pl=(Sl={renderContext:Es})=>{var Ml;const{onRowRender:wl,renderContext:Rl,minFirstColumn:yl=us,maxLastColumn:Bs=ds,availableSpace:Zs=Rs.width,rowIndexOffset:Ys=0,position:_l="center"}=Sl;if(!Rl||Zs==null)return null;const Cl=ss?ns.rowBuffer:0,Xs=ss?ns.columnBuffer:0,[xl,$a]=getRenderableIndexes({firstIndex:Rl.firstRowIndex,lastIndex:Rl.lastRowIndex,minFirstIndex:0,maxLastIndex:ys.rows.length,buffer:Cl}),Dl=[];if(Sl.rows)Sl.rows.forEach(Jl=>{Dl.push(Jl),rs.current.calculateColSpan({rowId:Jl.id,minFirstColumn:yl,maxLastColumn:Bs,columns:os})});else{if(!ys.range)return null;for(let Jl=xl;Jl<$a;Jl+=1){const Zl=ys.rows[Jl];Dl.push(Zl),rs.current.calculateColSpan({rowId:Zl.id,minFirstColumn:yl,maxLastColumn:Bs,columns:os})}}let Ol=!1;if(Ws>-1){const Jl=ys.rows[Ws];(xl>Ws||$a<Ws)&&(Ol=!0,Ws>xl?Dl.push(Jl):Dl.unshift(Jl),rs.current.calculateColSpan({rowId:Jl.id,minFirstColumn:yl,maxLastColumn:Bs,columns:os}))}const[Ll,Vl]=getRenderableIndexes({firstIndex:Rl.firstColumnIndex,lastIndex:Rl.lastColumnIndex,minFirstIndex:yl,maxLastIndex:Bs,buffer:Xs}),Xl=getFirstNonSpannedColumnToRender({firstColumnToRender:Ll,apiRef:rs,firstRowToRender:xl,lastRowToRender:$a,visibleRows:ys.rows});let Ql=!1;(Xl>Ls||Vl<Ls)&&(Ql=!0);const{focusedCellColumnIndexNotInRange:Kl,renderedColumns:Gl}=Ps.current(os,Xl,Vl,yl,Bs,Ql?Ls:-1),nu=((Ml=ns.slotProps)==null?void 0:Ml.row)||{},{style:Bl}=nu,Hl=_objectWithoutPropertiesLoose$1(nu,_excluded$y);(Fs.current!==ps||js.current!==Bl)&&(Ds.current=Object.create(null));const Al=[];let Nl=!1;for(let Jl=0;Jl<Dl.length;Jl+=1){var eu;const{id:Zl,model:tu}=Dl[Jl],au=Ol&&gs.id===Zl,du=Ol?xl+Jl===ys.rows.length:xl+Jl===ys.rows.length-1,lu=rs.current.rowHasAutoHeight(Zl)?"auto":rs.current.unstable_getRowHeight(Zl);let fu;xs[Zl]==null?fu=!1:fu=rs.current.isRowSelectable(Zl),wl&&wl(Zl);const _u=gs!==null&&gs.id===Zl?gs.field:null,$u=Kl!==void 0&&os[Kl],mu=$u&&_u?[$u,...Gl]:Gl;let pu=null;vs!==null&&vs.id===Zl&&(pu=rs.current.getCellParams(Zl,vs.field).cellMode==="view"?vs.field:null);const vu=typeof ps=="function"&&ps(Zl,tu)||{},{style:Su}=vu,Tu=_objectWithoutPropertiesLoose$1(vu,_excluded2);if(!Ds.current[Zl]){const yu=_extends$5({},Su,Bl);Ds.current[Zl]=yu}let Ru=Ys+((ys==null||(eu=ys.range)==null?void 0:eu.firstRowIndex)||0)+xl+Jl;Ol&&(gs==null?void 0:gs.id)===Zl?(Ru=Ws,Nl=!0):Nl&&(Ru-=1),Al.push(jsxRuntimeExports.jsx(ns.slots.row,_extends$5({row:tu,rowId:Zl,focusedCellColumnIndexNotInRange:Kl,isNotVisible:au,rowHeight:lu,focusedCell:_u,tabbableCell:pu,renderedColumns:mu,visibleColumns:os,firstColumnToRender:Xl,lastColumnToRender:Vl,selected:fu,index:Ru,containerWidth:Zs,isLastVisible:du,position:_l},Tu,Hl,{hovered:Ms===Zl,style:Ds.current[Zl]}),Zl))}return Fs.current=ps,js.current=Bl,Al},Tl=Rs.width&&ms>=Rs.width,El=reactExports.useMemo(()=>{const Sl=Math.max(bs.currentPageTotalHeight,1);let Ml=!1;Cs!=null&&Cs.current&&Sl<=(Cs==null?void 0:Cs.current.clientHeight)&&(Ml=!0);const wl={width:Tl?ms:"auto",height:Sl,minHeight:Ml?"100%":"auto"};return ns.autoHeight&&ys.rows.length===0&&(wl.height=getMinimalContentHeight(rs,ns.rowHeight)),wl},[rs,Cs,ms,bs.currentPageTotalHeight,Tl,ns.autoHeight,ns.rowHeight,ys.rows.length]);reactExports.useEffect(()=>{rs.current.publishEvent("virtualScrollerContentSizeChange")},[rs,El]);const $l=reactExports.useMemo(()=>{const Sl={};return Tl||(Sl.overflowX="hidden"),ns.autoHeight&&(Sl.overflowY="hidden"),Sl},[Tl,ns.autoHeight]);return rs.current.register("private",{getRenderContext:Hs}),{renderContext:Es,updateRenderZonePosition:Us,getRows:Pl,getRootProps:(Sl={})=>_extends$5({ref:$s,onScroll:qs,onWheel:Vs,onTouchMove:Ks},Sl,{style:Sl.style?_extends$5({},Sl.style,$l):$l,role:"presentation"}),getContentProps:({style:Sl}={})=>({style:Sl?_extends$5({},Sl,El):El,role:"presentation"}),getRenderZoneProps:()=>({ref:Ss,role:"rowgroup"})}};function getNearestIndexToRender(ts,rs,ns,os){var ss,as;const ls=ts.current.getLastMeasuredRowIndex();let cs=ls===1/0;(ss=rs.range)!=null&&ss.lastRowIndex&&!cs&&(cs=ls>=rs.range.lastRowIndex);const us=clamp$1(ls-(((as=rs.range)==null?void 0:as.firstRowIndex)||0),0,ns.positions.length);return cs||ns.positions[us]>=os?binarySearch(os,ns.positions):exponentialSearch(os,ns.positions,us)}const useUtilityClasses$z=ts=>{const{classes:rs,headerAlign:ns,isDragging:os,showColumnBorder:ss,groupId:as}=ts;return composeClasses({root:["columnHeader",ns==="left"&&"columnHeader--alignLeft",ns==="center"&&"columnHeader--alignCenter",ns==="right"&&"columnHeader--alignRight",os&&"columnHeader--moving",ss&&"columnHeader--showColumnBorder",ss&&"columnHeader--withRightBorder","withBorderColor",as===null?"columnHeader--emptyGroup":"columnHeader--filledGroup"],draggableContainer:["columnHeaderDraggableContainer"],titleContainer:["columnHeaderTitleContainer","withBorderColor"],titleContainerContent:["columnHeaderTitleContainerContent"]},getDataGridUtilityClass,rs)};function GridColumnGroupHeader(ts){var rs;const{groupId:ns,width:os,depth:ss,maxDepth:as,fields:ls,height:cs,colIndex:us,hasFocus:ds,tabIndex:ps,isLastColumn:fs}=ts,hs=useGridRootProps$1(),ms=reactExports.useRef(null),gs=useGridApiContext$1(),vs=useGridSelector(gs,gridColumnGroupsLookupSelector),bs=ns?vs[ns]:{},{headerName:xs=ns!=null?ns:"",description:ys="",headerAlign:Ss=void 0}=bs;let Cs;const $s=ns&&((rs=vs[ns])==null?void 0:rs.renderHeaderGroup),Es=reactExports.useMemo(()=>({groupId:ns,headerName:xs,description:ys,depth:ss,maxDepth:as,fields:ls,colIndex:us,isLastColumn:fs}),[ns,xs,ys,ss,as,ls,us,fs]);ns&&$s&&(Cs=$s(Es));const ws=hs.showColumnVerticalBorder,Ts=_extends$5({},ts,{classes:hs.classes,showColumnBorder:ws,headerAlign:Ss,depth:ss,isDragging:!1}),Is=xs!=null?xs:ns,Rs=useId(),As=ns===null?"empty-group-cell-".concat(Rs):ns,ks=useUtilityClasses$z(Ts);reactExports.useLayoutEffect(()=>{if(ds){const js=ms.current.querySelector('[tabindex="0"]')||ms.current;js==null||js.focus()}},[gs,ds]);const Ms=reactExports.useCallback(Fs=>js=>{isEventTargetInPortal(js)||gs.current.publishEvent(Fs,Es,js)},[gs,Es]),Os=reactExports.useMemo(()=>({onKeyDown:Ms("columnGroupHeaderKeyDown"),onFocus:Ms("columnGroupHeaderFocus"),onBlur:Ms("columnGroupHeaderBlur")}),[Ms]),Ds=typeof bs.headerClassName=="function"?bs.headerClassName(Es):bs.headerClassName;return jsxRuntimeExports.jsx(GridGenericColumnHeaderItem,_extends$5({ref:ms,classes:ks,columnMenuOpen:!1,colIndex:us,height:cs,isResizing:!1,sortDirection:null,hasFocus:!1,tabIndex:ps,isDraggable:!1,headerComponent:Cs,headerClassName:Ds,description:ys,elementId:As,width:os,columnMenuIconButton:null,columnTitleIconButtons:null,resizable:!1,label:Is,"aria-colspan":ls.length,"data-fields":"|-".concat(ls.join("-|-"),"-|")},Os))}const GridColumnHeaderRow=styled$4("div",{name:"MuiDataGrid",slot:"ColumnHeaderRow",overridesResolver:(ts,rs)=>rs.columnHeaderRow})(()=>({display:"flex"}));function isUIEvent(ts){return!!ts.target}const useGridColumnHeaders$1=ts=>{const{innerRef:rs,minColumnIndex:ns=0,visibleColumns:os,sortColumnLookup:ss,filterColumnLookup:as,columnPositions:ls,columnHeaderTabIndexState:cs,columnGroupHeaderTabIndexState:us,columnHeaderFocus:ds,columnGroupHeaderFocus:ps,densityFactor:fs,headerGroupingMaxDepth:hs,columnMenuState:ms,columnVisibility:gs,columnGroupsHeaderStructure:vs,hasOtherElementInTabSequence:bs}=ts,xs=useTheme$1(),[ys,Ss]=reactExports.useState(""),[Cs,$s]=reactExports.useState(""),Es=useGridPrivateApiContext$1(),ws=useGridSelector(Es,gridVirtualizationColumnEnabledSelector),Ts=useGridRootProps$1(),Is=reactExports.useRef(null),Rs=useForkRef(rs,Is),[As,ks]=reactExports.useState(null),Ms=reactExports.useRef(As),Os=reactExports.useRef(0),Ds=useGridVisibleRows(Es,Ts),Fs=getTotalHeaderHeight(Es,Ts.columnHeaderHeight),js=Math.floor(Ts.columnHeaderHeight*fs),Ps=reactExports.useCallback(Tl=>{As&&Tl&&areRenderContextsEqual(As,Tl)||ks(Tl)},[As]);reactExports.useEffect(()=>{var Tl;(Tl=Es.current.columnHeadersContainerElementRef)!=null&&Tl.current&&(Es.current.columnHeadersContainerElementRef.current.scrollLeft=0)},[Es]);const Ls=reactExports.useRef(defaultMemoize(getFirstColumnIndexToRender,{equalityCheck:(Tl,El)=>["firstColumnIndex","minColumnIndex","columnBuffer"].every($l=>Tl[$l]===El[$l])})),Ns=reactExports.useCallback(Tl=>{const[El,$l]=getRenderableIndexes({firstIndex:Tl.firstRowIndex,lastIndex:Tl.lastRowIndex,minFirstIndex:0,maxLastIndex:Ds.rows.length,buffer:Ts.rowBuffer}),Sl=Ls.current({firstColumnIndex:Tl.firstColumnIndex,minColumnIndex:ns,columnBuffer:Ts.columnBuffer,firstRowToRender:El,lastRowToRender:$l,apiRef:Es,visibleRows:Ds.rows}),Ml=xs.direction==="ltr"?1:-1,wl=Sl>0?Os.current-Ml*ls[Sl]:Os.current;Is.current.style.transform="translate3d(".concat(-wl,"px, 0px, 0px)")},[ls,ns,Ts.columnBuffer,Es,Ds.rows,Ts.rowBuffer,xs.direction]);reactExports.useLayoutEffect(()=>{As&&Ns(As)},[As,Ns]);const Gs=reactExports.useCallback(({left:Tl,renderContext:El=null},$l)=>{var Sl,Ml;if(!Is.current||Os.current===Tl&&((Sl=Ms.current)==null?void 0:Sl.firstColumnIndex)===(El==null?void 0:El.firstColumnIndex)&&((Ml=Ms.current)==null?void 0:Ml.lastColumnIndex)===(El==null?void 0:El.lastColumnIndex))return;Os.current=Tl;let wl=!1;El!==Ms.current||!Ms.current?(isUIEvent($l)?(reactDomExports.flushSync(()=>{Ps(El)}),wl=!0):Ps(El),Ms.current=El):wl=!0,El&&wl&&Ns(El)},[Ns,Ps]),Us=reactExports.useCallback(Tl=>$s(Tl.field),[]),Hs=reactExports.useCallback(()=>$s(""),[]),zs=reactExports.useCallback(Tl=>Ss(Tl.field),[]),qs=reactExports.useCallback(()=>Ss(""),[]);useGridApiEventHandler(Es,"columnResizeStart",Us),useGridApiEventHandler(Es,"columnResizeStop",Hs),useGridApiEventHandler(Es,"columnHeaderDragStart",zs),useGridApiEventHandler(Es,"columnHeaderDragEnd",qs),useGridApiEventHandler(Es,"scrollPositionChange",Gs);const Vs=Tl=>{const{renderContext:El=As,minFirstColumn:$l=ns,maxLastColumn:Sl=os.length}=Tl||{};if(!El)return null;const[Ml,wl]=getRenderableIndexes({firstIndex:El.firstRowIndex,lastIndex:El.lastRowIndex,minFirstIndex:0,maxLastIndex:Ds.rows.length,buffer:Ts.rowBuffer}),Rl=ws?Ls.current({firstColumnIndex:El.firstColumnIndex,minColumnIndex:$l,columnBuffer:Ts.columnBuffer,apiRef:Es,firstRowToRender:Ml,lastRowToRender:wl,visibleRows:Ds.rows}):0,yl=ws?Math.min(El.lastColumnIndex+Ts.columnBuffer,Sl):Sl;return{renderedColumns:os.slice(Rl,yl),firstColumnToRender:Rl,lastColumnToRender:yl,minFirstColumn:$l,maxLastColumn:Sl}},Ks=(Tl,El={})=>{const $l=Vs(Tl);if($l==null)return null;const{renderedColumns:Sl,firstColumnToRender:Ml}=$l,wl=[];for(let Rl=0;Rl<Sl.length;Rl+=1){const yl=Sl[Rl],Bs=Ml+Rl,Zs=Bs===0,Ys=cs!==null&&cs.field===yl.field||Zs&&!bs?0:-1,_l=ds!==null&&ds.field===yl.field,Cl=ms.open&&ms.field===yl.field;wl.push(jsxRuntimeExports.jsx(GridColumnHeaderItem,_extends$5({},ss[yl.field],{columnMenuOpen:Cl,filterItemsCounter:as[yl.field]&&as[yl.field].length,headerHeight:js,isDragging:yl.field===ys,colDef:yl,colIndex:Bs,isResizing:Cs===yl.field,hasFocus:_l,tabIndex:Ys},El),yl.field))}return jsxRuntimeExports.jsx(GridColumnHeaderRow,{role:"row","aria-rowindex":hs+1,ownerState:Ts,children:wl})},Ws=Tl=>{if(hs===0)return null;const El=Vs(Tl);if(El==null||El.renderedColumns.length===0)return null;const{firstColumnToRender:$l,lastColumnToRender:Sl}=El,Ml=[],wl=[];for(let Bs=0;Bs<hs;Bs+=1){var Rl,yl;const Zs=vs[Bs],Ys=os[$l].field,_l=(Rl=Es.current.unstable_getColumnGroupPath(Ys)[Bs])!=null?Rl:null,Cl=Zs.findIndex(({groupId:Kl,columnFields:Gl})=>Kl===_l&&Gl.includes(Ys)),Xs=os[Sl-1].field,xl=(yl=Es.current.unstable_getColumnGroupPath(Xs)[Bs])!=null?yl:null,$a=Zs.findIndex(({groupId:Kl,columnFields:Gl})=>Kl===xl&&Gl.includes(Xs)),Dl=Zs.slice(Cl,$a+1).map(Kl=>_extends$5({},Kl,{columnFields:Kl.columnFields.filter(Gl=>gs[Gl]!==!1)})).filter(Kl=>Kl.columnFields.length>0),Ol=Dl[0].columnFields.indexOf(Ys),Vl=Dl[0].columnFields.slice(0,Ol).reduce((Kl,Gl)=>{var nu;const Bl=Es.current.getColumn(Gl);return Kl+((nu=Bl.computedWidth)!=null?nu:0)},0);let Xl=$l;const Ql=Dl.map(({groupId:Kl,columnFields:Gl})=>{const nu=ps!==null&&ps.depth===Bs&&Gl.includes(ps.field),Bl=us!==null&&us.depth===Bs&&Gl.includes(us.field)?0:-1,Hl={groupId:Kl,width:Gl.reduce((Qs,Al)=>Qs+Es.current.getColumn(Al).computedWidth,0),fields:Gl,colIndex:Xl,hasFocus:nu,tabIndex:Bl};return Xl+=Gl.length,Hl});wl.push({leftOverflow:Vl,elements:Ql})}return wl.forEach((Bs,Zs)=>{Ml.push(jsxRuntimeExports.jsx(GridColumnHeaderRow,{style:{height:"".concat(js,"px"),transform:"translateX(-".concat(Bs.leftOverflow,"px)")},role:"row","aria-rowindex":Zs+1,ownerState:Ts,children:Bs.elements.map(({groupId:Ys,width:_l,fields:Cl,colIndex:Xs,hasFocus:xl,tabIndex:$a},Dl)=>jsxRuntimeExports.jsx(GridColumnGroupHeader,{groupId:Ys,width:_l,fields:Cl,colIndex:Xs,depth:Zs,isLastColumn:Xs===os.length-Cl.length,maxDepth:wl.length,height:js,hasFocus:xl,tabIndex:$a},Dl))},Zs))}),Ml},Pl={minHeight:Fs,maxHeight:Fs,lineHeight:"".concat(js,"px")};return{renderContext:As,getColumnHeaders:Ks,getColumnsToRender:Vs,getColumnGroupHeaders:Ws,isDragging:!!ys,getRootProps:(Tl={})=>_extends$5({style:Pl},Tl),getInnerProps:()=>({ref:Rs,role:"rowgroup"}),headerHeight:js}},_excluded$x=["className"],useUtilityClasses$y=ts=>{const{classes:rs}=ts;return composeClasses({root:["columnHeaders","withBorderColor"]},getDataGridUtilityClass,rs)},GridColumnHeadersRoot=styled$2("div",{name:"MuiDataGrid",slot:"ColumnHeaders",overridesResolver:(ts,rs)=>rs.columnHeaders})({position:"relative",overflow:"hidden",display:"flex",alignItems:"center",boxSizing:"border-box",borderBottom:"1px solid",borderTopLeftRadius:"var(--unstable_DataGrid-radius)",borderTopRightRadius:"var(--unstable_DataGrid-radius)"}),GridBaseColumnHeaders=reactExports.forwardRef(function(rs,ns){const{className:os}=rs,ss=_objectWithoutPropertiesLoose$1(rs,_excluded$x),as=useGridRootProps$1(),ls=useUtilityClasses$y(as);return jsxRuntimeExports.jsx(GridColumnHeadersRoot,_extends$5({ref:ns,className:clsx$1(os,ls.root),ownerState:as},ss,{role:"presentation"}))}),_excluded$w=["isDragging","className"],useUtilityClasses$x=ts=>{const{isDragging:rs,hasScrollX:ns,classes:os}=ts;return composeClasses({root:["columnHeadersInner",rs&&"columnHeaderDropZone",ns&&"columnHeadersInner--scrollable"]},getDataGridUtilityClass,os)},GridColumnHeadersInnerRoot=styled$2("div",{name:"MuiDataGrid",slot:"columnHeadersInner",overridesResolver:(ts,rs)=>[{["&.".concat(gridClasses.columnHeaderDropZone)]:rs.columnHeaderDropZone},rs.columnHeadersInner]})(()=>({display:"flex",alignItems:"flex-start",flexDirection:"column",["&.".concat(gridClasses.columnHeaderDropZone," .").concat(gridClasses.columnHeaderDraggableContainer)]:{cursor:"move"},["&.".concat(gridClasses["columnHeadersInner--scrollable"]," .").concat(gridClasses.columnHeader,":last-child")]:{borderRight:"none"}})),GridColumnHeadersInner=reactExports.forwardRef(function(rs,ns){var os,ss;const{isDragging:as,className:ls}=rs,cs=_objectWithoutPropertiesLoose$1(rs,_excluded$w),us=useGridApiContext$1(),ds=useGridRootProps$1(),ps=_extends$5({},ds,{isDragging:as,hasScrollX:(os=(ss=us.current.getRootDimensions())==null?void 0:ss.hasScrollX)!=null?os:!1}),fs=useUtilityClasses$x(ps);return jsxRuntimeExports.jsx(GridColumnHeadersInnerRoot,_extends$5({ref:ns,className:clsx$1(ls,fs.root),ownerState:ps},cs))}),_excluded$v=["innerRef","className","visibleColumns","sortColumnLookup","filterColumnLookup","columnPositions","columnHeaderTabIndexState","columnGroupHeaderTabIndexState","columnHeaderFocus","columnGroupHeaderFocus","densityFactor","headerGroupingMaxDepth","columnMenuState","columnVisibility","columnGroupsHeaderStructure","hasOtherElementInTabSequence"],GridColumnHeaders$1=reactExports.forwardRef(function(rs,ns){const{innerRef:os,visibleColumns:ss,sortColumnLookup:as,filterColumnLookup:ls,columnPositions:cs,columnHeaderTabIndexState:us,columnGroupHeaderTabIndexState:ds,columnHeaderFocus:ps,columnGroupHeaderFocus:fs,densityFactor:hs,headerGroupingMaxDepth:ms,columnMenuState:gs,columnVisibility:vs,columnGroupsHeaderStructure:bs,hasOtherElementInTabSequence:xs}=rs,ys=_objectWithoutPropertiesLoose$1(rs,_excluded$v),{isDragging:Ss,getRootProps:Cs,getInnerProps:$s,getColumnHeaders:Es,getColumnGroupHeaders:ws}=useGridColumnHeaders$1({innerRef:os,visibleColumns:ss,sortColumnLookup:as,filterColumnLookup:ls,columnPositions:cs,columnHeaderTabIndexState:us,columnGroupHeaderTabIndexState:ds,columnHeaderFocus:ps,columnGroupHeaderFocus:fs,densityFactor:hs,headerGroupingMaxDepth:ms,columnMenuState:gs,columnVisibility:vs,columnGroupsHeaderStructure:bs,hasOtherElementInTabSequence:xs});return jsxRuntimeExports.jsx(GridBaseColumnHeaders,_extends$5({ref:ns},Cs(ys),{children:jsxRuntimeExports.jsxs(GridColumnHeadersInner,_extends$5({isDragging:Ss},$s(),{children:[ws(),Es()]}))}))}),MemoizedGridColumnHeaders=fastMemo(GridColumnHeaders$1),GridNoResultsOverlay=reactExports.forwardRef(function(rs,ns){const ss=useGridApiContext$1().current.getLocaleText("noResultsOverlayLabel");return jsxRuntimeExports.jsx(GridOverlay,_extends$5({ref:ns},rs,{children:ss}))}),_excluded$u=["sortingOrder"],GridColumnUnsortedIcon=reactExports.memo(function(rs){const{sortingOrder:ns}=rs,os=_objectWithoutPropertiesLoose$1(rs,_excluded$u),ss=useGridRootProps$1(),[as]=ns,ls=as==="asc"?ss.slots.columnSortedAscendingIcon:ss.slots.columnSortedDescendingIcon;return ls?jsxRuntimeExports.jsx(ls,_extends$5({},os)):null}),_excluded$t=["native"];function MUISelectOption(ts){let{native:rs}=ts,ns=_objectWithoutPropertiesLoose$1(ts,_excluded$t);return rs?jsxRuntimeExports.jsx("option",_extends$5({},ns)):jsxRuntimeExports.jsx(MenuItem$1,_extends$5({},ns))}const iconSlots$1={BooleanCellTrueIcon:GridCheckIcon,BooleanCellFalseIcon:GridCloseIcon,ColumnMenuIcon:GridTripleDotsVerticalIcon,OpenFilterButtonIcon:GridFilterListIcon,FilterPanelDeleteIcon:GridCloseIcon,ColumnFilteredIcon:GridFilterAltIcon,ColumnSelectorIcon:GridColumnIcon,ColumnUnsortedIcon:GridColumnUnsortedIcon,ColumnSortedAscendingIcon:GridArrowUpwardIcon,ColumnSortedDescendingIcon:GridArrowDownwardIcon,ColumnResizeIcon:GridSeparatorIcon,DensityCompactIcon:GridViewHeadlineIcon,DensityStandardIcon:GridTableRowsIcon,DensityComfortableIcon:GridViewStreamIcon,ExportIcon:GridSaveAltIcon,MoreActionsIcon:GridMoreVertIcon,TreeDataCollapseIcon:GridExpandMoreIcon,TreeDataExpandIcon:GridKeyboardArrowRight,GroupingCriteriaCollapseIcon:GridExpandMoreIcon,GroupingCriteriaExpandIcon:GridKeyboardArrowRight,DetailPanelExpandIcon:GridAddIcon,DetailPanelCollapseIcon:GridRemoveIcon,RowReorderIcon:GridDragIcon,QuickFilterIcon:GridSearchIcon,QuickFilterClearIcon:GridCloseIcon,ColumnMenuHideIcon:GridVisibilityOffIcon,ColumnMenuSortAscendingIcon:GridArrowUpwardIcon,ColumnMenuSortDescendingIcon:GridArrowDownwardIcon,ColumnMenuFilterIcon:GridFilterAltIcon,ColumnMenuManageColumnsIcon:GridViewColumnIcon,ColumnMenuClearIcon:GridClearIcon,LoadIcon:GridLoadIcon,FilterPanelAddIcon:GridAddIcon,FilterPanelRemoveAllIcon:GridDeleteForeverIcon,ColumnReorderIcon:GridDragIcon},materialSlots$2=_extends$5({},iconSlots$1,{BaseCheckbox:Checkbox$1,BaseTextField:TextField$1,BaseFormControl:FormControl$1,BaseSelect:Select$2,BaseSwitch:Switch$1,BaseButton:Button$2,BaseIconButton:IconButton$2,BaseInputAdornment:InputAdornment$1,BaseTooltip:Tooltip$1,BasePopper:Popper$2,BaseInputLabel:InputLabel$1,BaseSelectOption:MUISelectOption,BaseChip:Chip$1}),materialSlots$3=materialSlots$2,DATA_GRID_DEFAULT_SLOTS_COMPONENTS=_extends$5({},materialSlots$3,{Cell:MemoizedGridCellV7,SkeletonCell:GridSkeletonCell,ColumnHeaderFilterIconButton:GridColumnHeaderFilterIconButton,ColumnMenu:GridColumnMenu,ColumnHeaders:MemoizedGridColumnHeaders,Footer:GridFooter,FooterRowCount:GridRowCount,Toolbar:null,PreferencesPanel:GridPreferencesPanel,LoadingOverlay:GridLoadingOverlay,NoResultsOverlay:GridNoResultsOverlay,NoRowsOverlay:GridNoRowsOverlay,Pagination:GridPagination,FilterPanel:GridFilterPanel,ColumnsPanel:GridColumnsPanel,Panel:GridPanel,Row:MemoizedGridRow}),uncapitalizeObjectKeys=ts=>{if(ts!==void 0)return Object.keys(ts).reduce((rs,ns)=>_extends$5({},rs,{["".concat(ns.charAt(0).toLowerCase()).concat(ns.slice(1))]:ts[ns]}),{})};function computeSlots({defaultSlots:ts,slots:rs,components:ns}){const os=rs!=null?rs:ns?uncapitalizeObjectKeys(ns):null;if(!os||Object.keys(os).length===0)return ts;const ss=_extends$5({},ts);return Object.keys(os).forEach(as=>{const ls=as;os[ls]!==void 0&&(ss[ls]=os[ls])}),ss}const _excluded$s=["components","componentsProps"];function groupForwardedProps(ts){var rs;const ns=Object.keys(ts);if(!ns.some(as=>as.startsWith("aria-")||as.startsWith("data-")))return ts;const os={},ss=(rs=ts.forwardedProps)!=null?rs:{};for(let as=0;as<ns.length;as+=1){const ls=ns[as];ls.startsWith("aria-")||ls.startsWith("data-")?ss[ls]=ts[ls]:os[ls]=ts[ls]}return os.forwardedProps=ss,os}function useProps(ts){return reactExports.useMemo(()=>{const{components:rs,componentsProps:ns}=ts,os=_objectWithoutPropertiesLoose$1(ts,_excluded$s);return[rs,ns,groupForwardedProps(os)]},[ts])}const DATA_GRID_PROPS_DEFAULT_VALUES={autoHeight:!1,autoPageSize:!1,checkboxSelection:!1,checkboxSelectionVisibleOnly:!1,columnBuffer:3,rowBuffer:3,columnThreshold:3,rowThreshold:3,rowSelection:!0,density:"standard",disableColumnFilter:!1,disableColumnMenu:!1,disableColumnSelector:!1,disableDensitySelector:!1,disableEval:!1,disableMultipleColumnsFiltering:!1,disableMultipleRowSelection:!1,disableMultipleColumnsSorting:!1,disableRowSelectionOnClick:!1,disableVirtualization:!1,editMode:GridEditModes.Cell,filterMode:"client",filterDebounceMs:150,columnHeaderHeight:56,hideFooter:!1,hideFooterPagination:!1,hideFooterRowCount:!1,hideFooterSelectedRowCount:!1,ignoreDiacritics:!1,logger:console,logLevel:"error",pagination:!1,paginationMode:"client",rowHeight:52,pageSizeOptions:[25,50,100],rowSpacingType:"margin",showCellVerticalBorder:!1,showColumnVerticalBorder:!1,sortingOrder:["asc","desc",null],sortingMode:"client",throttleRowsMs:0,disableColumnReorder:!1,disableColumnResize:!1,keepNonExistentRowsSelected:!1,keepColumnPositionIfDraggedOutside:!1,unstable_ignoreValueFormatterDuringExport:!1,clipboardCopyCellDelimiter:"	",rowPositionsDebounceMs:166};uncapitalizeObjectKeys(DATA_GRID_DEFAULT_SLOTS_COMPONENTS);const rowsMetaStateInitializer=ts=>_extends$5({},ts,{rowsMeta:{currentPageTotalHeight:0,positions:[]}}),getValidRowHeight=(ts,rs,ns)=>typeof ts=="number"&&ts>0?ts:rs,useGridRowsMeta=(ts,rs)=>{const{getRowHeight:ns,getRowSpacing:os,getEstimatedRowHeight:ss}=rs,as=reactExports.useRef(Object.create(null)),ls=reactExports.useRef(-1),cs=reactExports.useRef(!1),us=useGridSelector(ts,gridDensityFactorSelector),ds=useGridSelector(ts,gridFilterModelSelector),ps=useGridSelector(ts,gridPaginationSelector),fs=useGridSelector(ts,gridSortModelSelector),hs=useGridVisibleRows(ts,rs),ms=useGridSelector(ts,gridPinnedRowsSelector),gs=getValidRowHeight(rs.rowHeight,DATA_GRID_PROPS_DEFAULT_VALUES.rowHeight),vs=Math.floor(gs*us),bs=reactExports.useCallback(()=>{var ks,Ms;cs.current=!1;const Os=js=>{as.current[js.id]||(as.current[js.id]={sizes:{baseCenter:vs},isResized:!1,autoHeight:!1,needsFirstMeasurement:!0});const{isResized:Ps,needsFirstMeasurement:Ls,sizes:Ns}=as.current[js.id];let Gs=typeof vs=="number"&&vs>0?vs:52;const Us=Ns.baseCenter;if(Ps)Gs=Us;else if(ns){const Ks=ns(_extends$5({},js,{densityFactor:us}));if(Ks==="auto"){if(Ls){const Ws=ss?ss(_extends$5({},js,{densityFactor:us})):vs;Gs=Ws!=null?Ws:vs}else Gs=Us;cs.current=!0,as.current[js.id].autoHeight=!0}else Gs=getValidRowHeight(Ks,vs),as.current[js.id].needsFirstMeasurement=!1,as.current[js.id].autoHeight=!1}else as.current[js.id].needsFirstMeasurement=!1;const Hs={};for(const Ks in Ns)/^base[A-Z]/.test(Ks)&&(Hs[Ks]=Ns[Ks]);if(Hs.baseCenter=Gs,os){var zs,qs;const Ks=ts.current.getRowIndexRelativeToVisibleRows(js.id),Ws=os(_extends$5({},js,{isFirstVisible:Ks===0,isLastVisible:Ks===hs.rows.length-1,indexRelativeToCurrentPage:Ks}));Hs.spacingTop=(zs=Ws.top)!=null?zs:0,Hs.spacingBottom=(qs=Ws.bottom)!=null?qs:0}const Vs=ts.current.unstable_applyPipeProcessors("rowHeight",Hs,js);return as.current[js.id].sizes=Vs,Vs},Ds=[],Fs=hs.rows.reduce((js,Ps)=>{Ds.push(js);let Ls=0,Ns=0;const Gs=Os(Ps);for(const Us in Gs){const Hs=Gs[Us];/^base[A-Z]/.test(Us)?Ls=Hs>Ls?Hs:Ls:Ns+=Hs}return js+Ls+Ns},0);ms==null||(ks=ms.top)==null||ks.forEach(js=>{Os(js)}),ms==null||(Ms=ms.bottom)==null||Ms.forEach(js=>{Os(js)}),ts.current.setState(js=>_extends$5({},js,{rowsMeta:{currentPageTotalHeight:Fs,positions:Ds}})),cs.current||(ls.current=1/0),ts.current.forceUpdate()},[ts,hs.rows,vs,ns,os,ss,ms,us]),xs=reactExports.useCallback(ks=>{const Ms=as.current[ks];return Ms?Ms.sizes.baseCenter:vs},[vs]),ys=ks=>{var Ms;return(Ms=as.current[ks])==null?void 0:Ms.sizes},Ss=reactExports.useCallback((ks,Ms)=>{as.current[ks].sizes.baseCenter=Ms,as.current[ks].isResized=!0,as.current[ks].needsFirstMeasurement=!1,bs()},[bs]),Cs=reactExports.useMemo(()=>debounce$2(bs,rs.rowPositionsDebounceMs),[bs,rs.rowPositionsDebounceMs]),$s=reactExports.useCallback((ks,Ms,Os)=>{if(!as.current[ks]||!as.current[ks].autoHeight)return;const Ds=as.current[ks].sizes["base".concat(capitalize$1(Os))]!==Ms;as.current[ks].needsFirstMeasurement=!1,as.current[ks].sizes["base".concat(capitalize$1(Os))]=Ms,Ds&&Cs()},[Cs]),Es=reactExports.useCallback(ks=>{var Ms;return((Ms=as.current[ks])==null?void 0:Ms.autoHeight)||!1},[]),ws=reactExports.useCallback(()=>ls.current,[]),Ts=reactExports.useCallback(ks=>{cs.current&&ks>ls.current&&(ls.current=ks)},[]),Is=reactExports.useCallback(()=>{as.current={},bs()},[bs]);reactExports.useEffect(()=>{bs()},[vs,ds,ps,fs,bs]),useGridRegisterPipeApplier(ts,"rowHeight",bs);const Rs={unstable_setLastMeasuredRowIndex:Ts,unstable_getRowHeight:xs,unstable_getRowInternalSizes:ys,unstable_setRowHeight:Ss,unstable_storeRowHeightMeasurement:$s,resetRowHeights:Is},As={getLastMeasuredRowIndex:ws,rowHasAutoHeight:Es};useGridApiMethod(ts,Rs,"public"),useGridApiMethod(ts,As,"private")},useGridStatePersistence=ts=>{const rs=reactExports.useCallback((ss={})=>ts.current.unstable_applyPipeProcessors("exportState",{},ss),[ts]),ns=reactExports.useCallback(ss=>{ts.current.unstable_applyPipeProcessors("restoreState",{callbacks:[]},{stateToRestore:ss}).callbacks.forEach(ls=>{ls()}),ts.current.forceUpdate()},[ts]);useGridApiMethod(ts,{exportState:rs,restoreState:ns},"public")},useGridColumnSpanning=ts=>{const rs=reactExports.useRef({}),ns=reactExports.useCallback((ds,ps,fs)=>{const hs=rs.current;hs[ds]||(hs[ds]={}),hs[ds][ps]=fs},[]),os=reactExports.useCallback((ds,ps)=>{var fs;return(fs=rs.current[ds])==null?void 0:fs[ps]},[]),ss=reactExports.useCallback(ds=>{const{columnIndex:ps,rowId:fs,minFirstColumnIndex:hs,maxLastColumnIndex:ms,columns:gs}=ds,vs=gs.length,bs=gs[ps],xs=typeof bs.colSpan=="function"?bs.colSpan(ts.current.getCellParams(fs,bs.field)):bs.colSpan;if(!xs||xs===1)return ns(fs,ps,{spannedByColSpan:!1,cellProps:{colSpan:1,width:bs.computedWidth}}),{colSpan:1};let ys=bs.computedWidth;for(let Ss=1;Ss<xs;Ss+=1){const Cs=ps+Ss;if(Cs>=hs&&Cs<ms){const $s=gs[Cs];ys+=$s.computedWidth,ns(fs,ps+Ss,{spannedByColSpan:!0,rightVisibleCellIndex:Math.min(ps+xs,vs-1),leftVisibleCellIndex:ps})}ns(fs,ps,{spannedByColSpan:!1,cellProps:{colSpan:xs,width:ys}})}return{colSpan:xs}},[ts,ns]),as=reactExports.useCallback(({rowId:ds,minFirstColumn:ps,maxLastColumn:fs,columns:hs})=>{for(let ms=ps;ms<fs;ms+=1){const gs=ss({columnIndex:ms,rowId:ds,minFirstColumnIndex:ps,maxLastColumnIndex:fs,columns:hs});gs.colSpan>1&&(ms+=gs.colSpan-1)}},[ss]),ls={unstable_getCellColSpanInfo:os},cs={calculateColSpan:as};useGridApiMethod(ts,ls,"public"),useGridApiMethod(ts,cs,"private");const us=reactExports.useCallback(()=>{rs.current={}},[]);useGridApiEventHandler(ts,"columnOrderChange",us)},recurrentUnwrapGroupingColumnModel=(ts,rs,ns)=>{if(isLeaf(ts)){if(ns[ts.field]!==void 0)throw new Error(["MUI: columnGroupingModel contains duplicated field","column field ".concat(ts.field," occurs two times in the grouping model:"),"- ".concat(ns[ts.field].join(" > ")),"- ".concat(rs.join(" > "))].join("\n"));ns[ts.field]=rs;return}const{groupId:os,children:ss}=ts;ss.forEach(as=>{recurrentUnwrapGroupingColumnModel(as,[...rs,os],ns)})},unwrapGroupingColumnModel=ts=>{if(!ts)return{};const rs={};return ts.forEach(ns=>{recurrentUnwrapGroupingColumnModel(ns,[],rs)}),rs},getColumnGroupsHeaderStructure=(ts,rs,ns)=>{const os=us=>{var ds;return(ds=rs[us])!=null?ds:[]},ss=[],as=Math.max(...ts.map(us=>os(us).length)),ls=(us,ds,ps)=>isDeepEqual(os(us).slice(0,ps+1),os(ds).slice(0,ps+1)),cs=(us,ds)=>!!(ns!=null&&ns.left&&ns.left.includes(us)&&!ns.left.includes(ds)||ns!=null&&ns.right&&!ns.right.includes(us)&&ns.right.includes(ds));for(let us=0;us<as;us+=1){const ds=ts.reduce((ps,fs)=>{var hs;const ms=(hs=os(fs)[us])!=null?hs:null;if(ps.length===0)return[{columnFields:[fs],groupId:ms}];const gs=ps[ps.length-1],vs=gs.columnFields[gs.columnFields.length-1];return gs.groupId!==ms||!ls(vs,fs,us)||cs(vs,fs)?[...ps,{columnFields:[fs],groupId:ms}]:[...ps.slice(0,ps.length-1),{columnFields:[...gs.columnFields,fs],groupId:ms}]},[]);ss.push(ds)}return ss},_excluded$r=["groupId","children"],createGroupLookup=ts=>{let rs={};return ts.forEach(ns=>{if(isLeaf(ns))return;const{groupId:os,children:ss}=ns,as=_objectWithoutPropertiesLoose$1(ns,_excluded$r);if(!os)throw new Error("MUI: An element of the columnGroupingModel does not have either `field` or `groupId`.");ss||console.warn("MUI: group groupId=".concat(os," has no children."));const ls=_extends$5({},as,{groupId:os}),cs=createGroupLookup(ss);if(cs[os]!==void 0||rs[os]!==void 0)throw new Error("MUI: The groupId ".concat(os," is used multiple times in the columnGroupingModel."));rs=_extends$5({},rs,cs,{[os]:ls})}),_extends$5({},rs)},columnGroupsStateInitializer=(ts,rs,ns)=>{var os,ss,as,ls;if(!((os=rs.experimentalFeatures)!=null&&os.columnGrouping))return ts;const cs=gridColumnFieldsSelector(ns),us=gridVisibleColumnFieldsSelector(ns),ds=createGroupLookup((ss=rs.columnGroupingModel)!=null?ss:[]),ps=unwrapGroupingColumnModel((as=rs.columnGroupingModel)!=null?as:[]),fs=getColumnGroupsHeaderStructure(cs,ps,(ls=ns.current.state.pinnedColumns)!=null?ls:{}),hs=us.length===0?0:Math.max(...us.map(ms=>{var gs,vs;return(gs=(vs=ps[ms])==null?void 0:vs.length)!=null?gs:0}));return _extends$5({},ts,{columnGrouping:{lookup:ds,unwrappedGroupingModel:ps,headerStructure:fs,maxDepth:hs}})},useGridColumnGrouping=(ts,rs)=>{var ns;const os=reactExports.useCallback(us=>{var ds;return(ds=gridColumnGroupsUnwrappedModelSelector(ts)[us])!=null?ds:[]},[ts]),ss=reactExports.useCallback(()=>gridColumnGroupsLookupSelector(ts),[ts]);useGridApiMethod(ts,{unstable_getColumnGroupPath:os,unstable_getAllGroupDetails:ss},"public");const ls=reactExports.useCallback(()=>{var us;const ds=unwrapGroupingColumnModel((us=rs.columnGroupingModel)!=null?us:[]);ts.current.setState(ps=>{var fs,hs,ms;const gs=(fs=(hs=ps.columns)==null?void 0:hs.orderedFields)!=null?fs:[],vs=(ms=ps.pinnedColumns)!=null?ms:{},bs=getColumnGroupsHeaderStructure(gs,ds,vs);return _extends$5({},ps,{columnGrouping:_extends$5({},ps.columnGrouping,{headerStructure:bs})})})},[ts,rs.columnGroupingModel]),cs=reactExports.useCallback(us=>{var ds,ps,fs,hs;if(!((ds=rs.experimentalFeatures)!=null&&ds.columnGrouping))return;const ms=(ps=(fs=(hs=ts.current).getPinnedColumns)==null?void 0:fs.call(hs))!=null?ps:{},gs=gridColumnFieldsSelector(ts),vs=gridVisibleColumnFieldsSelector(ts),bs=createGroupLookup(us!=null?us:[]),xs=unwrapGroupingColumnModel(us!=null?us:[]),ys=getColumnGroupsHeaderStructure(gs,xs,ms),Ss=vs.length===0?0:Math.max(...vs.map(Cs=>{var $s,Es;return($s=(Es=xs[Cs])==null?void 0:Es.length)!=null?$s:0}));ts.current.setState(Cs=>_extends$5({},Cs,{columnGrouping:{lookup:bs,unwrappedGroupingModel:xs,headerStructure:ys,maxDepth:Ss}}))},[ts,(ns=rs.experimentalFeatures)==null?void 0:ns.columnGrouping]);useGridApiEventHandler(ts,"columnIndexChange",ls),useGridApiEventHandler(ts,"columnsChange",()=>{cs(rs.columnGroupingModel)}),useGridApiEventHandler(ts,"columnVisibilityModelChange",()=>{cs(rs.columnGroupingModel)}),reactExports.useEffect(()=>{cs(rs.columnGroupingModel)},[cs,rs.columnGroupingModel])},useUtilityClasses$w=ts=>{const{classes:rs}=ts;return composeClasses({root:["virtualScroller"]},getDataGridUtilityClass,rs)},VirtualScrollerRoot=styled$2("div",{name:"MuiDataGrid",slot:"VirtualScroller",overridesResolver:(ts,rs)=>rs.virtualScroller})({overflow:"auto",height:"100%",position:"relative","@media print":{overflow:"hidden"},zIndex:0}),GridVirtualScroller=reactExports.forwardRef(function(rs,ns){const os=useGridRootProps$1(),ss=useUtilityClasses$w(os);return jsxRuntimeExports.jsx(VirtualScrollerRoot,_extends$5({ref:ns},rs,{className:clsx$1(ss.root,rs.className),ownerState:os}))}),useUtilityClasses$v=(ts,rs)=>{const{classes:ns}=ts;return composeClasses({root:["virtualScrollerContent",rs&&"virtualScrollerContent--overflowed"]},getDataGridUtilityClass,ns)},VirtualScrollerContentRoot=styled$2("div",{name:"MuiDataGrid",slot:"VirtualScrollerContent",overridesResolver:(ts,rs)=>rs.virtualScrollerContent})({}),GridVirtualScrollerContent=reactExports.forwardRef(function(rs,ns){var os;const ss=useGridRootProps$1(),as=!ss.autoHeight&&((os=rs.style)==null?void 0:os.minHeight)==="auto",ls=useUtilityClasses$v(ss,as);return jsxRuntimeExports.jsx(VirtualScrollerContentRoot,_extends$5({ref:ns},rs,{ownerState:ss,className:clsx$1(ls.root,rs.className)}))}),_excluded$q=["className"],useUtilityClasses$u=ts=>{const{classes:rs}=ts;return composeClasses({root:["virtualScrollerRenderZone"]},getDataGridUtilityClass,rs)},VirtualScrollerRenderZoneRoot=styled$2("div",{name:"MuiDataGrid",slot:"VirtualScrollerRenderZone",overridesResolver:(ts,rs)=>rs.virtualScrollerRenderZone})({position:"absolute",display:"flex",flexDirection:"column"}),GridVirtualScrollerRenderZone=reactExports.forwardRef(function(rs,ns){const{className:os}=rs,ss=_objectWithoutPropertiesLoose$1(rs,_excluded$q),as=useGridRootProps$1(),ls=useUtilityClasses$u(as);return jsxRuntimeExports.jsx(VirtualScrollerRenderZoneRoot,_extends$5({ref:ns,className:clsx$1(ls.root,os),ownerState:as},ss))}),headerFilteringStateInitializer=ts=>_extends$5({},ts,{headerFiltering:{editing:null,menuOpen:null}}),useGridHeaderFiltering=(ts,rs)=>{const ns=useGridLogger(ts,"useGridHeaderFiltering"),os=reactExports.useCallback(ps=>{ts.current.setState(fs=>{var hs,ms;return rs.signature==="DataGrid"?fs:_extends$5({},fs,{headerFiltering:{editing:(hs=ps.editing)!=null?hs:null,menuOpen:(ms=ps.menuOpen)!=null?ms:null}})}),ts.current.forceUpdate()},[ts,rs.signature]),ss=reactExports.useCallback(ps=>{ns.debug("Starting edit mode on header filter for field: ".concat(ps)),ts.current.setHeaderFilterState({editing:ps})},[ts,ns]),as=reactExports.useCallback(()=>{ns.debug("Stopping edit mode on header filter"),ts.current.setHeaderFilterState({editing:null})},[ts,ns]),ls=reactExports.useCallback(ps=>{ns.debug("Opening header filter menu for field: ".concat(ps)),ts.current.setHeaderFilterState({menuOpen:ps})},[ts,ns]),cs=reactExports.useCallback(()=>{ns.debug("Hiding header filter menu for active field");let ps=ts.current.state.headerFiltering.menuOpen;if(ps){const fs=gridColumnLookupSelector(ts),hs=gridColumnVisibilityModelSelector(ts),ms=gridColumnFieldsSelector(ts);if(fs[ps]||(ps=ms[0]),hs[ps]===!1){const gs=ms.filter(bs=>bs===ps?!0:hs[bs]!==!1),vs=gs.indexOf(ps);ps=gs[vs+1]||gs[vs-1]}ts.current.setHeaderFilterState({menuOpen:null}),ts.current.setColumnHeaderFilterFocus(ps)}},[ts,ns]),us={setHeaderFilterState:os};useGridApiMethod(ts,{startHeaderFilterEditMode:ss,stopHeaderFilterEditMode:as,showHeaderFilterMenu:ls,hideHeaderFilterMenu:cs},"public"),useGridApiMethod(ts,us,"private")};function createControllablePromise(){let ts,rs;const ns=new Promise((os,ss)=>{ts=os,rs=ss});return ns.resolve=ts,ns.reject=rs,ns}const useGridInfiniteLoader=(ts,rs)=>{const ns=useGridSelector(ts,gridVisibleColumnDefinitionsSelector),os=useGridVisibleRows(ts,rs),ss=useGridSelector(ts,gridRowsMetaSelector),as=Math.max(ss.currentPageTotalHeight,1),ls=reactExports.useRef(!1),cs=reactExports.useCallback(ds=>{const ps=ts.current.getRootDimensions();if(!ps||rs.rowsLoadingMode!=="client")return;const fs=ds.top+ps.viewportOuterSize.height,hs=ts.current.getViewportPageSize();if(fs<as-rs.scrollEndThreshold&&(ls.current=!1),fs>=as-rs.scrollEndThreshold&&!ls.current){const ms={visibleColumns:ns,viewportPageSize:hs,visibleRowsCount:os.rows.length};ts.current.publishEvent("rowsScrollEnd",ms),ls.current=!0}},[as,rs.scrollEndThreshold,rs.rowsLoadingMode,ns,ts,os.rows.length]),us=reactExports.useCallback(({left:ds,top:ps})=>{cs({left:ds,top:ps})},[cs]);useGridApiEventHandler(ts,"scrollPositionChange",us),useGridApiOptionHandler(ts,"rowsScrollEnd",rs.onRowsScrollEnd)},gridColumnReorderSelector=ts=>ts.columnReorder,gridColumnReorderDragColSelector=createSelector(gridColumnReorderSelector,ts=>ts.dragCol),CURSOR_MOVE_DIRECTION_LEFT="left",CURSOR_MOVE_DIRECTION_RIGHT="right",getCursorMoveDirectionX=(ts,rs)=>ts.x<=rs.x?CURSOR_MOVE_DIRECTION_RIGHT:CURSOR_MOVE_DIRECTION_LEFT,hasCursorPositionChanged=(ts,rs)=>ts.x!==rs.x||ts.y!==rs.y,useUtilityClasses$t=ts=>{const{classes:rs}=ts;return composeClasses({columnHeaderDragging:["columnHeader--dragging"]},getDataGridUtilityClass,rs)},columnReorderStateInitializer=ts=>_extends$5({},ts,{columnReorder:{dragCol:""}}),useGridColumnReorder=(ts,rs)=>{const ns=useGridLogger(ts,"useGridColumnReorder"),os=reactExports.useRef(null),ss=reactExports.useRef({x:0,y:0}),as=reactExports.useRef(null),ls=reactExports.useRef({}),cs=reactExports.useRef(),us={classes:rs.classes},ds=useUtilityClasses$t(us),ps=useTheme$1();reactExports.useEffect(()=>()=>{clearTimeout(cs.current)},[]);const fs=reactExports.useCallback((vs,bs)=>{if(rs.disableColumnReorder||vs.colDef.disableReorder)return;ns.debug("Start dragging col ".concat(vs.field)),bs.stopPropagation(),os.current=bs.currentTarget,os.current.classList.add(ds.columnHeaderDragging),bs.dataTransfer&&(bs.dataTransfer.effectAllowed="move"),ts.current.setState(ws=>_extends$5({},ws,{columnReorder:_extends$5({},ws.columnReorder,{dragCol:vs.field})})),ts.current.forceUpdate(),cs.current=setTimeout(()=>{os.current.classList.remove(ds.columnHeaderDragging)}),as.current=ts.current.getColumnIndex(vs.field,!1);const xs=ts.current.unstable_getColumnGroupPath(vs.field),ys=as.current,Ss=ts.current.getAllColumns(),Cs=ts.current.unstable_getAllGroupDetails(),$s=ws=>{const Ts=Ss[ws].field;return ts.current.unstable_getColumnGroupPath(Ts)};let Es=null;xs.forEach(ws=>{var Ts;(Ts=Cs[ws])!=null&&Ts.freeReordering||(ys>0&&$s(ys-1).includes(ws)||ys+1<Ss.length&&$s(ys+1).includes(ws))&&(Es=ws)}),ls.current={};for(let ws=0;ws<Ss.length;ws+=1){const Ts=ws<=ys?ws-1:ws,Is=ws<ys?ws:ws+1;if(Es!==null){let Rs=!1;(Ts>=0&&$s(Ts).includes(Es)||Is<Ss.length&&$s(Is).includes(Es))&&(Rs=!0),Rs||(ls.current[ws]=!0)}Ts>=0&&Is<Ss.length&&$s(Is).forEach(Rs=>{if($s(Ts).includes(Rs)&&!xs.includes(Rs)){var As;(As=Cs[Rs])!=null&&As.freeReordering||(ls.current[ws]=!0)}})}},[rs.disableColumnReorder,ds.columnHeaderDragging,ns,ts]),hs=reactExports.useCallback((vs,bs)=>{bs.preventDefault(),bs.stopPropagation()},[]),ms=reactExports.useCallback((vs,bs)=>{const xs=gridColumnReorderDragColSelector(ts);if(!xs)return;ns.debug("Dragging over col ".concat(vs.field)),bs.preventDefault(),bs.stopPropagation();const ys={x:bs.clientX,y:bs.clientY};if(vs.field!==xs&&hasCursorPositionChanged(ss.current,ys)){const Ss=ts.current.getColumnIndex(vs.field,!1),Cs=ts.current.getColumnIndex(vs.field,!0),$s=ts.current.getColumn(vs.field),Es=ts.current.getColumnIndex(xs,!1),ws=ts.current.getVisibleColumns(),Ts=ts.current.getAllColumns(),Is=getCursorMoveDirectionX(ss.current,ys),Rs=Is===CURSOR_MOVE_DIRECTION_LEFT&&(ps.direction==="rtl"?Es<Ss:Ss<Es),As=Is===CURSOR_MOVE_DIRECTION_RIGHT&&(ps.direction==="rtl"?Ss<Es:Es<Ss);if(Rs||As){let ks,Ms=0;if($s.disableReorder?Rs?ks=Cs>0&&!ws[Cs-1].disableReorder:ks=Cs<ws.length-1&&!ws[Cs+1].disableReorder:ks=!0,ls.current[Ss]){let Ds,Fs=Ss+Ms;if(Rs)for(Ds=Cs>0?ws[Cs-1].field:null;Fs>0&&Ts[Fs].field!==Ds&&ls.current[Fs];)Ms-=1,Fs=Ss+Ms;else for(Ds=Cs+1<ws.length?ws[Cs+1].field:null;Fs<Ts.length-1&&Ts[Fs].field!==Ds&&ls.current[Fs];)Ms+=1,Fs=Ss+Ms;(ls.current[Fs]||Ts[Fs].field===Ds)&&(ks=!1)}ts.current.unstable_applyPipeProcessors("canBeReordered",ks,{targetIndex:Cs})&&ts.current.setColumnIndex(xs,Ss+Ms)}ss.current=ys}},[ts,ns,ps.direction]),gs=reactExports.useCallback((vs,bs)=>{const xs=gridColumnReorderDragColSelector(ts);if(!(rs.disableColumnReorder||!xs)){if(ns.debug("End dragging col"),bs.preventDefault(),bs.stopPropagation(),clearTimeout(cs.current),os.current=null,bs.dataTransfer.dropEffect==="none"&&!rs.keepColumnPositionIfDraggedOutside)ts.current.setColumnIndex(xs,as.current),as.current=null;else{const ys={column:ts.current.getColumn(xs),targetIndex:ts.current.getColumnIndexRelativeToVisibleColumns(xs),oldIndex:as.current};ts.current.publishEvent("columnOrderChange",ys)}ts.current.setState(ys=>_extends$5({},ys,{columnReorder:_extends$5({},ys.columnReorder,{dragCol:""})})),ts.current.forceUpdate()}},[rs.disableColumnReorder,rs.keepColumnPositionIfDraggedOutside,ns,ts]);useGridApiEventHandler(ts,"columnHeaderDragStart",fs),useGridApiEventHandler(ts,"columnHeaderDragEnter",hs),useGridApiEventHandler(ts,"columnHeaderDragOver",ms),useGridApiEventHandler(ts,"columnHeaderDragEnd",gs),useGridApiEventHandler(ts,"cellDragEnter",hs),useGridApiEventHandler(ts,"cellDragOver",ms),useGridApiOptionHandler(ts,"columnOrderChange",rs.onColumnOrderChange)};function getFieldFromHeaderElem(ts){return ts.getAttribute("data-field")}function findHeaderElementFromField(ts,rs){return ts.querySelector('[data-field="'.concat(rs,'"]'))}function findGroupHeaderElementsFromField(ts,rs){var ns;return Array.from((ns=ts.querySelectorAll('[data-fields*="|-'.concat(rs,'-|"]')))!=null?ns:[])}function findGridCellElementsFromCol(ts,rs){var ns,os;if(!findParentElementFromClassName(ts,gridClasses.root))throw new Error("MUI: The root element is not found.");const as=ts.getAttribute("aria-colindex");if(!as)return[];const ls=Number(as)-1,cs=[];return(ns=rs.virtualScrollerRef)!=null&&ns.current?(((os=rs.virtualScrollerRef)==null?void 0:os.current.querySelectorAll(":scope > div > div > .".concat(gridClasses.row))).forEach(ds=>{const ps=ds.getAttribute("data-id");if(!ps)return;let fs=ls;const hs=rs.unstable_getCellColSpanInfo(ps,ls);hs&&hs.spannedByColSpan&&(fs=hs.leftVisibleCellIndex);const ms=ds.querySelector('[data-colindex="'.concat(fs,'"]'));ms&&cs.push(ms)}),cs):[]}function findGridHeader(ts,rs){var ns;const os=(ns=ts.columnHeadersContainerElementRef)==null?void 0:ns.current;return os?os.querySelector(':scope > div > div > [data-field="'.concat(rs,'"][role="columnheader"]')):null}function findGridCells(ts,rs){const ns=ts.virtualScrollerRef.current,os=ss=>':scope > div > div > div > [data-field="'.concat(rs,'"][role="').concat(ss,'"]');return Array.from(ns.querySelectorAll("".concat(os("cell"),", ").concat(os("gridcell"))))}const DEFAULT_GRID_AUTOSIZE_OPTIONS={includeHeaders:!0,includeOutliers:!1,outliersFactor:1.5,expand:!1};let cachedSupportsTouchActionNone=!1;function doesSupportTouchActionNone(){return cachedSupportsTouchActionNone}function trackFinger(ts,rs){if(rs!==void 0&&ts.changedTouches){for(let ns=0;ns<ts.changedTouches.length;ns+=1){const os=ts.changedTouches[ns];if(os.identifier===rs)return{x:os.clientX,y:os.clientY}}return!1}return{x:ts.clientX,y:ts.clientY}}function computeNewWidth(ts,rs,ns,os){let ss=ts;return os==="Right"?ss+=rs-ns.left:ss+=ns.right-rs,ss}function computeOffsetToSeparator(ts,rs,ns){return ns==="Left"?ts-rs.left:rs.right-ts}function flipResizeDirection(ts){return ts==="Right"?"Left":"Right"}function getResizeDirection(ts,rs){const ns=ts.classList.contains(gridClasses["columnSeparator--sideRight"])?"Right":"Left";return rs==="rtl"?flipResizeDirection(ns):ns}function preventClick(ts){ts.preventDefault(),ts.stopImmediatePropagation()}function useColumnVirtualizationDisabled(ts){const rs=reactExports.useRef(),ns=()=>gridVirtualizationColumnEnabledSelector(ts),os=useGridSelector(ts,ns);return reactExports.useEffect(()=>{rs.current&&os===!1&&(rs.current.resolve(),rs.current=void 0)}),()=>{if(!rs.current){if(ns()===!1)return Promise.resolve();rs.current=createControllablePromise()}return rs.current}}function excludeOutliers(ts,rs){if(ts.length<4)return ts;const ns=ts.slice();ns.sort((cs,us)=>cs-us);const os=ns[Math.floor(ns.length*.25)],ss=ns[Math.floor(ns.length*.75)-1],as=ss-os,ls=as<5?5:as*rs;return ns.filter(cs=>cs>os-ls&&cs<ss+ls)}function extractColumnWidths(ts,rs,ns){const os={},ss=ts.current.rootElementRef.current;return ss.classList.add(gridClasses.autosizing),ns.forEach(as=>{const cs=findGridCells(ts.current,as.field).map(gs=>{var vs,bs;const xs=window.getComputedStyle(gs,null),ys=parseInt(xs.paddingLeft,10)+parseInt(xs.paddingRight,10),Ss=(vs=(bs=gs.firstElementChild)==null?void 0:bs.getBoundingClientRect().width)!=null?vs:0;return ys+Ss}),us=rs.includeOutliers?cs:excludeOutliers(cs,rs.outliersFactor);if(rs.includeHeaders){const gs=findGridHeader(ts.current,as.field);if(gs){const vs=gs.querySelector(".".concat(gridClasses.columnHeaderTitle)),bs=gs.querySelector(".".concat(gridClasses.columnHeaderTitleContainerContent)),xs=vs!=null?vs:bs,ys=window.getComputedStyle(gs,null),Ss=parseInt(ys.paddingLeft,10)+parseInt(ys.paddingRight,10),Cs=xs.scrollWidth+1,$s=Ss+Cs;us.push($s)}}const ds=as.minWidth!==-1/0&&as.minWidth!==void 0,ps=as.maxWidth!==1/0&&as.maxWidth!==void 0,fs=ds?as.minWidth:0,hs=ps?as.maxWidth:1/0,ms=us.length===0?0:Math.max(...us);os[as.field]=clamp$1(ms,fs,hs)}),ss.classList.remove(gridClasses.autosizing),os}const columnResizeStateInitializer=ts=>_extends$5({},ts,{columnResize:{resizingColumnField:""}}),useGridColumnResize=(ts,rs)=>{const ns=useGridLogger(ts,"useGridColumnResize"),os=reactExports.useRef(),ss=reactExports.useRef(),as=reactExports.useRef(),ls=reactExports.useRef(),cs=reactExports.useRef(),us=useTheme$1(),ds=reactExports.useRef(),ps=reactExports.useRef(),fs=useTimeout(),hs=reactExports.useRef(),ms=ks=>{ns.debug("Updating width to ".concat(ks," for col ").concat(os.current.field));const Ms=ss.current.offsetWidth,Os=ks-Ms;os.current.computedWidth=ks,os.current.width=ks,os.current.flex=0,ss.current.style.width="".concat(ks,"px"),ss.current.style.minWidth="".concat(ks,"px"),ss.current.style.maxWidth="".concat(ks,"px");const Ds=as.current;Ds&&(Ds.style.width="".concat(ks,"px"),Ds.style.minWidth="".concat(ks,"px"),Ds.style.maxWidth="".concat(ks,"px")),[...cs.current,...ls.current].forEach(Fs=>{const js=Fs;let Ps;js.getAttribute("aria-colspan")==="1"?Ps="".concat(ks,"px"):Ps="".concat(js.offsetWidth+Os,"px"),js.style.width=Ps,js.style.minWidth=Ps,js.style.maxWidth=Ps})},gs=ks=>{Cs(),os.current&&(ts.current.setColumnWidth(os.current.field,os.current.width),ns.debug("Updating col ".concat(os.current.field," with new width: ").concat(os.current.width))),fs.start(0,()=>{ts.current.publishEvent("columnResizeStop",null,ks)})},vs=useEventCallback(gs),bs=useEventCallback(ks=>{if(ks.buttons===0){vs(ks);return}let Ms=computeNewWidth(ds.current,ks.clientX,ss.current.getBoundingClientRect(),ps.current);Ms=clamp$1(Ms,os.current.minWidth,os.current.maxWidth),ms(Ms);const Os={element:ss.current,colDef:os.current,width:Ms};ts.current.publishEvent("columnResize",Os,ks)}),xs=useEventCallback(ks=>{trackFinger(ks,hs.current)&&gs(ks)}),ys=useEventCallback(ks=>{const Ms=trackFinger(ks,hs.current);if(!Ms)return;if(ks.type==="mousemove"&&ks.buttons===0){xs(ks);return}let Os=computeNewWidth(ds.current,Ms.x,ss.current.getBoundingClientRect(),ps.current);Os=clamp$1(Os,os.current.minWidth,os.current.maxWidth),ms(Os);const Ds={element:ss.current,colDef:os.current,width:Os};ts.current.publishEvent("columnResize",Ds,ks)}),Ss=useEventCallback(ks=>{var Ms,Os;if(!findParentElementFromClassName(ks.target,gridClasses["columnSeparator--resizable"]))return;ks.preventDefault();const Fs=ks.changedTouches[0];Fs!=null&&(hs.current=Fs.identifier),ss.current=findParentElementFromClassName(ks.target,gridClasses.columnHeader);const js=getFieldFromHeaderElem(ss.current),Ps=ts.current.getColumn(js);ls.current=findGroupHeaderElementsFromField((Ms=ts.current.columnHeadersContainerElementRef)==null?void 0:Ms.current,js),ns.debug("Start Resize on col ".concat(Ps.field)),ts.current.publishEvent("columnResizeStart",{field:js},ks),os.current=Ps,ss.current=findHeaderElementFromField((Os=ts.current.columnHeadersElementRef)==null?void 0:Os.current,Ps.field),cs.current=findGridCellElementsFromCol(ss.current,ts.current),ps.current=getResizeDirection(ks.target,us.direction),ds.current=computeOffsetToSeparator(Fs.clientX,ss.current.getBoundingClientRect(),ps.current);const Ls=ownerDocument(ks.currentTarget);Ls.addEventListener("touchmove",ys),Ls.addEventListener("touchend",xs)}),Cs=reactExports.useCallback(()=>{const ks=ownerDocument(ts.current.rootElementRef.current);ks.body.style.removeProperty("cursor"),ks.removeEventListener("mousemove",bs),ks.removeEventListener("mouseup",vs),ks.removeEventListener("touchmove",ys),ks.removeEventListener("touchend",xs),setTimeout(()=>{ks.removeEventListener("click",preventClick,!0)},100),ss.current&&(ss.current.style.pointerEvents="unset")},[ts,ss,bs,vs,ys,xs]),$s=reactExports.useCallback(({field:ks})=>{ts.current.setState(Ms=>_extends$5({},Ms,{columnResize:_extends$5({},Ms.columnResize,{resizingColumnField:ks})})),ts.current.forceUpdate()},[ts]),Es=reactExports.useCallback(()=>{ts.current.setState(ks=>_extends$5({},ks,{columnResize:_extends$5({},ks.columnResize,{resizingColumnField:""})})),ts.current.forceUpdate()},[ts]),ws=useEventCallback(({colDef:ks},Ms)=>{var Os,Ds,Fs;if(Ms.button!==0||!Ms.currentTarget.classList.contains(gridClasses["columnSeparator--resizable"]))return;Ms.preventDefault(),ns.debug("Start Resize on col ".concat(ks.field)),ts.current.publishEvent("columnResizeStart",{field:ks.field},Ms),os.current=ks,ss.current=(Os=ts.current.columnHeadersContainerElementRef)==null?void 0:Os.current.querySelector('[data-field="'.concat(ks.field,'"]'));const js=(Ds=ts.current.headerFiltersElementRef)==null?void 0:Ds.current;js&&(as.current=js.querySelector('[data-field="'.concat(ks.field,'"]'))),ls.current=findGroupHeaderElementsFromField((Fs=ts.current.columnHeadersContainerElementRef)==null?void 0:Fs.current,ks.field),cs.current=findGridCellElementsFromCol(ss.current,ts.current);const Ps=ownerDocument(ts.current.rootElementRef.current);Ps.body.style.cursor="col-resize",ps.current=getResizeDirection(Ms.currentTarget,us.direction),ds.current=computeOffsetToSeparator(Ms.clientX,ss.current.getBoundingClientRect(),ps.current),Ps.addEventListener("mousemove",bs),Ps.addEventListener("mouseup",vs),Ps.addEventListener("click",preventClick,!0)}),Ts=useEventCallback((ks,Ms)=>{if(rs.disableAutosize||Ms.button!==0)return;const Os=ts.current.state.columns.lookup[ks.field];Os.resizable!==!1&&ts.current.autosizeColumns(_extends$5({},rs.autosizeOptions,{columns:[Os.field]}))}),Is=useColumnVirtualizationDisabled(ts),Rs=reactExports.useRef(!1),As=reactExports.useCallback(async ks=>{var Ms,Os;if(!((Ms=ts.current.rootElementRef)==null?void 0:Ms.current)||Rs.current)return;Rs.current=!0;const Fs=gridColumnsStateSelector(ts.current.state),js=_extends$5({},DEFAULT_GRID_AUTOSIZE_OPTIONS,ks,{columns:(Os=ks==null?void 0:ks.columns)!=null?Os:Fs.orderedFields});js.columns=js.columns.filter(Gs=>Fs.columnVisibilityModel[Gs]!==!1);const Ps=js.columns.map(Gs=>ts.current.state.columns.lookup[Gs]);try{ts.current.unstable_setColumnVirtualization(!1),await Is();const Gs=extractColumnWidths(ts,js,Ps),Us=Ps.map(Hs=>_extends$5({},Hs,{width:Gs[Hs.field],computedWidth:Gs[Hs.field]}));if(js.expand){var Ls,Ns;const zs=Fs.orderedFields.map(Ks=>Fs.lookup[Ks]).filter(Ks=>Fs.columnVisibilityModel[Ks.field]!==!1).reduce((Ks,Ws)=>{var Pl,Tl;return Ks+((Pl=(Tl=Gs[Ws.field])!=null?Tl:Ws.computedWidth)!=null?Pl:Ws.width)},0),Vs=((Ls=(Ns=ts.current.getRootDimensions())==null?void 0:Ns.viewportInnerSize.width)!=null?Ls:0)-zs;if(Vs>0){const Ks=Vs/(Us.length||1);Us.forEach(Ws=>{Ws.width+=Ks,Ws.computedWidth+=Ks})}}ts.current.updateColumns(Us)}finally{ts.current.unstable_setColumnVirtualization(!0),Rs.current=!1}},[ts,Is]);reactExports.useEffect(()=>Cs,[Cs]),useOnMount(()=>{rs.autosizeOnMount&&Promise.resolve().then(()=>{ts.current.autosizeColumns(rs.autosizeOptions)})}),useGridNativeEventListener(ts,()=>{var ks;return(ks=ts.current.columnHeadersElementRef)==null?void 0:ks.current},"touchstart",Ss,{passive:doesSupportTouchActionNone()}),useGridApiMethod(ts,{autosizeColumns:As},"public"),useGridApiEventHandler(ts,"columnResizeStop",Es),useGridApiEventHandler(ts,"columnResizeStart",$s),useGridApiEventHandler(ts,"columnSeparatorMouseDown",ws),useGridApiEventHandler(ts,"columnSeparatorDoubleClick",Ts),useGridApiOptionHandler(ts,"columnResize",rs.onColumnResize),useGridApiOptionHandler(ts,"columnWidthChange",rs.onColumnWidthChange)},useGridTreeData=ts=>{const rs=reactExports.useCallback((ns,os)=>{if(ts.current.getCellParams(ns.id,ns.field).colDef.type==="treeDataGroup"&&os.key===" "&&!os.shiftKey){if(ns.rowNode.type!=="group")return;ts.current.setRowChildrenExpansion(ns.id,!ns.rowNode.childrenExpanded)}},[ts]);useGridApiEventHandler(ts,"cellKeyDown",rs)},GRID_TREE_DATA_GROUPING_COL_DEF=_extends$5({},GRID_STRING_COL_DEF,{type:"treeDataGroup",sortable:!1,filterable:!1,disableColumnMenu:!0,disableReorder:!0,align:"left",width:200,valueGetter:ts=>ts.rowNode.type==="group"||ts.rowNode.type==="leaf"?ts.rowNode.groupingKey:void 0}),GRID_TREE_DATA_GROUPING_FIELD="__tree_data_group__",GRID_TREE_DATA_GROUPING_COL_DEF_FORCED_PROPERTIES={field:GRID_TREE_DATA_GROUPING_FIELD,editable:!1,groupable:!1},TREE_DATA_STRATEGY="tree-data",filterRowTreeFromTreeData=ts=>{const{apiRef:rs,rowTree:ns,disableChildrenFiltering:os,isRowMatchingFilters:ss}=ts,as={},ls={},cs={},us={passingFilterItems:null,passingQuickFilterValues:null},ds=(fs,hs,ms)=>{const gs=os&&fs.depth>0;let vs;if(gs)vs=null;else if(!ss||fs.type==="footer")vs=!0;else{const ys=rs.current.getRow(fs.id);ss(ys,void 0,us),vs=passFilterLogic([us.passingFilterItems],[us.passingQuickFilterValues],ts.filterModel,ts.apiRef,cs)}let bs=0;fs.type==="group"&&fs.children.forEach(ys=>{var Ss;const Cs=ns[ys],$s=ds(Cs,(Ss=vs)!=null?Ss:hs,ms&&!!fs.childrenExpanded);bs+=$s});let xs;switch(vs){case!0:{xs=!0;break}case!1:{xs=bs>0;break}default:{xs=hs;break}}return as[fs.id]=xs,xs?(ls[fs.id]=bs,fs.type==="footer"?bs:bs+1):0},ps=Object.values(ns);for(let fs=0;fs<ps.length;fs+=1){const hs=ps[fs];hs.depth===0&&ds(hs,!0,!0)}return{filteredRowsLookup:as,filteredDescendantCountLookup:ls}},useGridRootProps=useGridRootProps$1,useGridApiContext=useGridApiContext$1,useUtilityClasses$s=ts=>{const{classes:rs}=ts;return composeClasses({root:["treeDataGroupingCell"],toggle:["treeDataGroupingCellToggle"]},getDataGridUtilityClass,rs)};function GridTreeDataGroupingCell(ts){var rs,ns;const{id:os,field:ss,formattedValue:as,rowNode:ls,hideDescendantCount:cs,offsetMultiplier:us=2}=ts,ds=useGridRootProps(),ps=useGridApiContext(),fs={classes:ds.classes},hs=useUtilityClasses$s(fs),gs=(rs=useGridSelector(ps,gridFilteredDescendantCountLookupSelector)[ls.id])!=null?rs:0,vs=ls.childrenExpanded?ds.slots.treeDataCollapseIcon:ds.slots.treeDataExpandIcon,bs=xs=>{ps.current.setRowChildrenExpansion(os,!ls.childrenExpanded),ps.current.setCellFocus(os,ss),xs.stopPropagation()};return jsxRuntimeExports.jsxs(Box$1,{className:hs.root,sx:{ml:ls.depth*us},children:[jsxRuntimeExports.jsx("div",{className:hs.toggle,children:gs>0&&jsxRuntimeExports.jsx(ds.slots.baseIconButton,_extends$5({size:"small",onClick:bs,tabIndex:-1,"aria-label":ls.childrenExpanded?ps.current.getLocaleText("treeDataCollapse"):ps.current.getLocaleText("treeDataExpand")},ds==null||(ns=ds.slotProps)==null?void 0:ns.baseIconButton,{children:jsxRuntimeExports.jsx(vs,{fontSize:"inherit"})}))}),jsxRuntimeExports.jsxs("span",{children:[as===void 0?ls.groupingKey:as,!cs&&gs>0?" (".concat(gs,")"):""]})]})}const gridPinnedColumnsSelector=ts=>ts.pinnedColumns;var GridPinnedPosition=function(ts){return ts.left="left",ts.right="right",ts}(GridPinnedPosition||{});function GridColumnMenuPinningItem(ts){const{colDef:rs,onClick:ns}=ts,os=useGridApiContext(),ss=useGridRootProps(),as=useTheme$1(),ls=reactExports.useCallback(fs=>hs=>{os.current.pinColumn(rs.field,fs),ns(hs)},[os,rs.field,ns]),cs=fs=>{os.current.unpinColumn(rs.field),ns(fs)},us=jsxRuntimeExports.jsxs(MenuItem$1,{onClick:ls(GridPinnedPosition.left),children:[jsxRuntimeExports.jsx(ListItemIcon$1,{children:jsxRuntimeExports.jsx(ss.slots.columnMenuPinLeftIcon,{fontSize:"small"})}),jsxRuntimeExports.jsx(ListItemText$1,{children:os.current.getLocaleText("pinToLeft")})]}),ds=jsxRuntimeExports.jsxs(MenuItem$1,{onClick:ls(GridPinnedPosition.right),children:[jsxRuntimeExports.jsx(ListItemIcon$1,{children:jsxRuntimeExports.jsx(ss.slots.columnMenuPinRightIcon,{fontSize:"small"})}),jsxRuntimeExports.jsx(ListItemText$1,{children:os.current.getLocaleText("pinToRight")})]});if(!rs)return null;const ps=os.current.isColumnPinned(rs.field);if(ps){const fs=ps===GridPinnedPosition.right?GridPinnedPosition.left:GridPinnedPosition.right,hs=fs===GridPinnedPosition.right?"pinToRight":"pinToLeft",ms=ps===GridPinnedPosition.right?ss.slots.columnMenuPinLeftIcon:ss.slots.columnMenuPinRightIcon;return jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsxs(MenuItem$1,{onClick:ls(fs),children:[jsxRuntimeExports.jsx(ListItemIcon$1,{children:jsxRuntimeExports.jsx(ms,{fontSize:"small"})}),jsxRuntimeExports.jsx(ListItemText$1,{children:os.current.getLocaleText(hs)})]}),jsxRuntimeExports.jsxs(MenuItem$1,{onClick:cs,children:[jsxRuntimeExports.jsx(ListItemIcon$1,{}),jsxRuntimeExports.jsx(ListItemText$1,{children:os.current.getLocaleText("unpin")})]})]})}return as.direction==="rtl"?jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[ds,us]}):jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[us,ds]})}const gridDetailPanelExpandedRowIdsSelector=ts=>ts.detailPanel.expandedRowIds,gridDetailPanelExpandedRowsContentCacheSelector=ts=>ts.detailPanel.contentCache,gridDetailPanelRawHeightCacheSelector=ts=>ts.detailPanel.heightCache,gridDetailPanelExpandedRowsHeightCacheSelector=createSelectorMemoized(gridDetailPanelRawHeightCacheSelector,ts=>Object.entries(ts).reduce((rs,[ns,{height:os}])=>(rs[ns]=os||0,rs),{})),useUtilityClasses$r=ts=>{const{classes:rs,isExpanded:ns}=ts;return composeClasses({root:["detailPanelToggleCell",ns&&"detailPanelToggleCell--expanded"]},getDataGridUtilityClass,rs)};function GridDetailPanelToggleCell(ts){var rs;const{id:ns,value:os}=ts,ss=useGridRootProps(),as=useGridApiContext(),ls={classes:ss.classes,isExpanded:os},cs=useUtilityClasses$r(ls),us=useGridSelector(as,gridDetailPanelExpandedRowsContentCacheSelector),ds=reactExports.isValidElement(us[ns]),ps=os?ss.slots.detailPanelCollapseIcon:ss.slots.detailPanelExpandIcon;return jsxRuntimeExports.jsx(ss.slots.baseIconButton,_extends$5({size:"small",tabIndex:-1,disabled:!ds,className:cs.root,"aria-label":os?as.current.getLocaleText("collapseDetailPanel"):as.current.getLocaleText("expandDetailPanel")},(rs=ss.slotProps)==null?void 0:rs.baseIconButton,{children:jsxRuntimeExports.jsx(ps,{fontSize:"inherit"})}))}const GridPushPinRightIcon=createSvgIcon$1(jsxRuntimeExports.jsx("g",{transform:"rotate(-30 15 10)",children:jsxRuntimeExports.jsx("path",{d:"M16,9V4l1,0c0.55,0,1-0.45,1-1v0c0-0.55-0.45-1-1-1H7C6.45,2,6,2.45,6,3v0 c0,0.55,0.45,1,1,1l1,0v5c0,1.66-1.34,3-3,3h0v2h5.97v7l1,1l1-1v-7H19v-2h0C17.34,12,16,10.66,16,9z",fillRule:"evenodd"})}),"PushPinRight"),GridPushPinLeftIcon=createSvgIcon$1(jsxRuntimeExports.jsx("g",{transform:"rotate(30 8 12)",children:jsxRuntimeExports.jsx("path",{d:"M16,9V4l1,0c0.55,0,1-0.45,1-1v0c0-0.55-0.45-1-1-1H7C6.45,2,6,2.45,6,3v0 c0,0.55,0.45,1,1,1l1,0v5c0,1.66-1.34,3-3,3h0v2h5.97v7l1,1l1-1v-7H19v-2h0C17.34,12,16,10.66,16,9z",fillRule:"evenodd"})}),"PushPinLeft"),_excluded$p=["operators","item","field","buttonRef","headerFilterMenuRef"],sx$1={width:22,height:22,margin:"auto 0 10px 5px"};function GridHeaderFilterMenuContainer(ts){var rs;const{operators:ns,item:os,field:ss,buttonRef:as,headerFilterMenuRef:ls}=ts,cs=_objectWithoutPropertiesLoose$1(ts,_excluded$p),us=useId(),ds=useId(),ps=useGridRootProps(),fs=useGridApiContext$1(),hs=!!(unstable_gridHeaderFilteringMenuSelector(fs)===ss&&ls.current),ms=gs=>{ls.current=gs.currentTarget,fs.current.showHeaderFilterMenu(ss)};return ps.slots.headerFilterMenu?jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx(ps.slots.baseIconButton,_extends$5({id:us,ref:as,"aria-label":fs.current.getLocaleText("filterPanelOperator"),title:fs.current.getLocaleText("filterPanelOperator"),"aria-controls":ds,"aria-expanded":hs?"true":void 0,"aria-haspopup":"true",tabIndex:-1,size:"small",onClick:ms,sx:sx$1},(rs=ps.slotProps)==null?void 0:rs.baseIconButton,{children:jsxRuntimeExports.jsx(ps.slots.openFilterButtonIcon,{fontSize:"small"})})),jsxRuntimeExports.jsx(ps.slots.headerFilterMenu,_extends$5({field:ss,open:hs,item:os,target:ls.current,operators:ns,labelledBy:us,id:ds},cs))]}):null}const sx={padding:"2px"};function GridHeaderFilterClearButton({onClick:ts}){var rs;const ns=useGridRootProps();return jsxRuntimeExports.jsx(ns.slots.baseIconButton,_extends$5({tabIndex:-1,"aria-label":"Clear filter",size:"small",onClick:ts,sx},(rs=ns.slotProps)==null?void 0:rs.baseIconButton,{children:jsxRuntimeExports.jsx(ns.slots.columnMenuClearIcon,{fontSize:"inherit"})}))}const _excluded$o=["colIndex","height","hasFocus","filterOperators","width","headerClassName","colDef","item","headerFilterMenuRef","InputComponentProps","showClearIcon"],useUtilityClasses$q=ts=>{const{colDef:rs,classes:ns,showColumnVerticalBorder:os}=ts,ss={root:["columnHeader",rs.headerAlign==="left"&&"columnHeader--alignLeft",rs.headerAlign==="center"&&"columnHeader--alignCenter",rs.headerAlign==="right"&&"columnHeader--alignRight","withBorderColor",os&&"columnHeader--withRightBorder"]};return composeClasses(ss,getDataGridUtilityClass,ns)},dateSx={'& input[value=""]:not(:focus)':{color:"transparent"}},GridHeaderFilterCell=reactExports.forwardRef((ts,rs)=>{var ns,os,ss;const{colIndex:as,height:ls,hasFocus:cs,filterOperators:us,width:ds,headerClassName:ps,colDef:fs,item:hs,headerFilterMenuRef:ms,InputComponentProps:gs,showClearIcon:vs=!0}=ts,bs=_objectWithoutPropertiesLoose$1(ts,_excluded$o),xs=useGridPrivateApiContext$1(),ys=gridVisibleColumnFieldsSelector(xs),Ss=useGridRootProps(),Cs=reactExports.useRef(null),$s=useForkRef(rs,Cs),Es=reactExports.useRef(null),ws=reactExports.useRef(null),Ts=unstable_gridHeaderFilteringEditFieldSelector(xs)===fs.field,Is=unstable_gridHeaderFilteringMenuSelector(xs)===fs.field,Rs=us[0],As=fs.filterable?Rs.InputComponent:null,ks=reactExports.useCallback(qs=>{if(hs.value&&!qs.value){xs.current.deleteFilterItem(qs);return}xs.current.upsertFilterItem(qs)},[xs,hs]),Ms=reactExports.useCallback(()=>{xs.current.deleteFilterItem(hs)},[xs,hs]);let Os;fs.renderHeaderFilter&&(Os=fs.renderHeaderFilter(ts)),reactExports.useLayoutEffect(()=>{if(cs&&!Is){var qs;let Vs=Cs.current.querySelector('[tabindex="0"]');Ts&&As&&(Vs=Es.current);const Ks=Vs||Cs.current;Ks==null||Ks.focus(),(qs=xs.current.columnHeadersContainerElementRef)!=null&&qs.current&&(xs.current.columnHeadersContainerElementRef.current.scrollLeft=0)}},[As,xs,cs,Ts,Is]);const Ds=reactExports.useCallback(qs=>{if(!(Is||isNavigationKey(qs.key)))switch(qs.key){case"Escape":Ts&&xs.current.stopHeaderFilterEditMode();break;case"Enter":if(Ts){xs.current.stopHeaderFilterEditMode();break}if(qs.metaKey||qs.ctrlKey){ms.current=ws.current,xs.current.showHeaderFilterMenu(fs.field);break}xs.current.startHeaderFilterEditMode(fs.field);break;case"Tab":{if(Ts){var Vs;const Ks=(Vs=ys[as+(qs.shiftKey?-1:1)])!=null?Vs:null;Ks&&(xs.current.startHeaderFilterEditMode(Ks),xs.current.setColumnHeaderFilterFocus(Ks,qs))}break}default:if(Ts||qs.metaKey||qs.ctrlKey||qs.altKey||qs.shiftKey)break;xs.current.startHeaderFilterEditMode(fs.field);break}},[xs,fs.field,as,ys,ms,Ts,Is]),Fs=reactExports.useCallback((qs,Vs)=>Ks=>{xs.current.publishEvent(qs,xs.current.getColumnHeaderParams(fs.field),Ks),Vs&&Vs(Ks)},[xs,fs.field]),js=reactExports.useCallback(qs=>{cs||(Es.current&&Es.current.contains(qs.target)&&Es.current.focus(),xs.current.setColumnHeaderFilterFocus(fs.field,qs))},[xs,fs.field,cs]),Ps=reactExports.useMemo(()=>({onKeyDown:Fs("headerFilterKeyDown",Ds),onClick:Fs("headerFilterClick"),onMouseDown:Fs("headerFilterMouseDown",js),onBlur:Fs("headerFilterBlur")}),[js,Ds,Fs]),Ls=_extends$5({},Ss,{colDef:fs}),Ns=useUtilityClasses$q(Ls),Gs=(us==null||(ns=us.find(({value:qs})=>hs.operator===qs))==null?void 0:ns.requiresFilterValue)===!1,Us=!!(hs!=null&&hs.value)||Gs,Hs=(os=Rs.headerLabel)!=null?os:xs.current.getLocaleText("headerFilterOperator".concat(capitalize$1(hs.operator))),zs=Us||cs;return jsxRuntimeExports.jsxs("div",_extends$5({className:clsx$1(Ns.root,ps),ref:$s,style:{height:ls,width:ds,minWidth:ds,maxWidth:ds},role:"columnheader","aria-colindex":as+1,"aria-label":Os==null?(ss=fs.headerName)!=null?ss:fs.field:void 0},bs,Ps,{children:[Os,As&&Os===void 0?jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx(As,_extends$5({apiRef:xs,item:hs,inputRef:Es,applyValue:ks,onFocus:()=>xs.current.startHeaderFilterEditMode(fs.field),onBlur:qs=>{var Vs;xs.current.stopHeaderFilterEditMode(),(Vs=qs.relatedTarget)!=null&&Vs.className.includes("columnHeader")||xs.current.setState(Ks=>_extends$5({},Ks,{focus:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}}))},label:capitalize$1(Hs),placeholder:"",isFilterActive:zs,clearButton:vs&&Us?jsxRuntimeExports.jsx(GridHeaderFilterClearButton,{onClick:Ms}):null,disabled:Gs,tabIndex:-1,InputLabelProps:null,sx:fs.type==="date"||fs.type==="dateTime"?dateSx:void 0},Gs?{value:""}:{},Rs==null?void 0:Rs.InputComponentProps,gs)),jsxRuntimeExports.jsx(GridHeaderFilterMenuContainer,{operators:us,item:hs,field:fs.field,applyFilterChanges:ks,headerFilterMenuRef:ms,buttonRef:ws})]}):null]}))});function GridHeaderFilterMenu({open:ts,field:rs,target:ns,applyFilterChanges:os,operators:ss,item:as,id:ls,labelledBy:cs}){const us=useGridApiContext$1(),ds=reactExports.useCallback(()=>{us.current.hideHeaderFilterMenu()},[us]),ps=reactExports.useCallback(fs=>{fs.key==="Tab"&&fs.preventDefault(),(fs.key==="Escape"||fs.key==="Tab")&&ds()},[ds]);return ns?jsxRuntimeExports.jsx(GridMenu,{placement:"bottom-end",open:ts,target:ns,onClose:ds,children:jsxRuntimeExports.jsx(MenuList$1,{"aria-labelledby":cs,id:ls,onKeyDown:ps,children:ss.map((fs,hs)=>{var ms;const gs=(ms=fs==null?void 0:fs.headerLabel)!=null?ms:us.current.getLocaleText("headerFilterOperator".concat(capitalize$1(fs.value)));return jsxRuntimeExports.jsx(MenuItem$1,{onClick:()=>{os(_extends$5({},as,{operator:fs.value})),ds()},autoFocus:hs===0?ts:!1,selected:fs.value===as.operator,children:gs},"".concat(rs,"-").concat(fs.value))})})}):null}const getGroupRowIdFromPath=ts=>{const rs=ts.map(ns=>"".concat(ns.field,"/").concat(ns.key)).join("-");return"auto-generated-row-".concat(rs)},getNodePathInTree=({id:ts,tree:rs})=>{const ns=[];let os=rs[ts];for(;os.id!==GRID_ROOT_GROUP_ID;)ns.push({field:os.type==="leaf"?null:os.groupingField,key:os.groupingKey}),os=rs[os.parent];return ns.reverse(),ns},updateGroupDefaultExpansion=(ts,rs,ns)=>{let os;return ts.id===GRID_ROOT_GROUP_ID?os=!0:ns?os=ns(ts):os=rs===-1||rs>ts.depth,ts.childrenExpanded=os,ts},insertNodeInTree=(ts,rs,ns,os)=>{var ss;rs[ts.id]=ts,ns[ts.depth]=((ss=ns[ts.depth])!=null?ss:0)+1;const as=rs[ts.parent];if(ts.type==="group"||ts.type==="leaf"){var ls,cs,us;const ds=(ls=ts.groupingField)!=null?ls:"__no_field__",ps=(cs=ts.groupingKey)!=null?cs:"__no_key__",fs=(us=as.childrenFromPath)==null?void 0:us[ds];os!==null&&os[as.id]===rs[as.id]?as.children=[...as.children,ts.id]:as.children.push(ts.id),fs==null?as.childrenFromPath[ds]={[ps.toString()]:ts.id}:fs[ps.toString()]=ts.id}else ts.type==="footer"&&(as.footerId=ts.id)},removeNodeFromTree=({node:ts,tree:rs,treeDepths:ns})=>{delete rs[ts.id];const os=ts.depth,ss=ns[os];ss===1?delete ns[os]:ns[os]=ss-1;const as=rs[ts.parent];if(ts.type==="footer")rs[as.id]=_extends$5({},as,{footerId:null});else{var ls,cs;const us=(ls=ts.groupingField)!=null?ls:"__no_field__",ds=(cs=ts.groupingKey)!=null?cs:"__no_key__",ps=as.children.filter(hs=>hs!==ts.id),fs=as.childrenFromPath;delete fs[us][ds.toString()],rs[as.id]=_extends$5({},as,{children:ps,childrenFromPath:fs})}},updateGroupNodeIdAndAutoGenerated=({node:ts,updatedNode:rs,previousTree:ns,tree:os,treeDepths:ss})=>{ts.children.forEach(ls=>{os[ls]=_extends$5({},os[ls],{parent:rs.id})}),removeNodeFromTree({node:ts,tree:os,treeDepths:ss});const as=_extends$5({},ts,rs);insertNodeInTree(as,os,ss,ns)},createUpdatedGroupsManager=()=>({value:{},addAction(ts,rs){this.value[ts]||(this.value[ts]={}),this.value[ts][rs]=!0}}),getVisibleRowsLookup=({tree:ts,filteredRowsLookup:rs})=>{if(!rs)return{};const ns={},os=(as,ls)=>{const cs=rs[as.id];as.type==="group"&&as.children.forEach(us=>{const ds=ts[us];os(ds,ls&&!!as.childrenExpanded)}),ns[as.id]=cs&&ls,as.type==="group"&&as.footerId!=null&&(ns[as.footerId]=cs&&ls&&!!as.childrenExpanded)},ss=Object.values(ts);for(let as=0;as<ss.length;as+=1){const ls=ss[as];ls.depth===0&&os(ls,!0)}return ns},insertDataRowInTree=({id:ts,path:rs,updatedGroupsManager:ns,previousTree:os,tree:ss,treeDepths:as,onDuplicatePath:ls,isGroupExpandedByDefault:cs,defaultGroupingExpansionDepth:us})=>{let ds=GRID_ROOT_GROUP_ID;for(let fs=0;fs<rs.length;fs+=1){var ps;const{key:hs,field:ms}=rs[fs],gs=ms!=null?ms:"__no_field__",vs=hs!=null?hs:"__no_key__",bs=(ps=ss[ds].childrenFromPath)==null||(ps=ps[gs])==null?void 0:ps[vs.toString()];if(fs===rs.length-1)if(bs==null){const xs={type:"leaf",id:ts,depth:fs,parent:ds,groupingKey:hs};ns==null||ns.addAction(ds,"insertChildren"),insertNodeInTree(xs,ss,as,os)}else{const xs=ss[bs];xs.type==="group"&&xs.isAutoGenerated?(ns==null||ns.addAction(ds,"removeChildren"),ns==null||ns.addAction(ds,"insertChildren"),updateGroupNodeIdAndAutoGenerated({tree:ss,previousTree:os,treeDepths:as,node:xs,updatedNode:{id:ts,isAutoGenerated:!1}})):ls==null||ls(bs,ts,rs)}else if(bs==null){const xs=getGroupRowIdFromPath(rs.slice(0,fs+1)),ys={type:"group",id:xs,parent:ds,depth:fs,isAutoGenerated:!0,groupingKey:hs,groupingField:ms,children:[],childrenFromPath:{},childrenExpanded:!1};ns==null||ns.addAction(ds,"insertChildren"),insertNodeInTree(updateGroupDefaultExpansion(ys,us,cs),ss,as,os),ds=xs}else{const xs=ss[bs];if(xs.type!=="group"){const ys={type:"group",id:xs.id,parent:xs.parent,depth:xs.depth,isAutoGenerated:!1,groupingKey:hs,groupingField:ms,children:[],childrenFromPath:{},childrenExpanded:!1};ss[bs]=updateGroupDefaultExpansion(ys,us,cs)}ds=xs.id}}},createRowTree=ts=>{const rs=[],ns={[GRID_ROOT_GROUP_ID]:buildRootGroup()},os={};for(let ss=0;ss<ts.nodes.length;ss+=1){const as=ts.nodes[ss];rs.push(as.id),insertDataRowInTree({tree:ns,previousTree:ts.previousTree,id:as.id,path:as.path,onDuplicatePath:ts.onDuplicatePath,treeDepths:os,isGroupExpandedByDefault:ts.isGroupExpandedByDefault,defaultGroupingExpansionDepth:ts.defaultGroupingExpansionDepth})}return{tree:ns,treeDepths:os,groupingName:ts.groupingName,dataRowIds:rs}};class Node{constructor(rs,ns){this.next=void 0,this.data=void 0,this.next=ns,this.data=rs}insertAfter(rs){if(!rs.first||!rs.last)return;const ns=this.next;this.next=rs.first,rs.last.next=ns}}class List{constructor(rs,ns){this.first=void 0,this.last=void 0,this.first=rs,this.last=ns}data(){const rs=[];return this.forEach(ns=>{rs.push(ns.data)}),rs}forEach(rs){let ns=this.first;for(;ns!==null;)rs(ns),ns=ns.next}static from(rs){if(rs.length===0)return new List(null,null);let ns=0;const os=new Node(rs[ns],null);let ss=os;for(;ns+1<rs.length;){ns+=1;const as=new Node(rs[ns],null);ss.next=as,ss=as}return new List(os,ss)}}const sortRowTree=ts=>{const{rowTree:rs,disableChildrenSorting:ns,sortRowList:os,shouldRenderGroupBelowLeaves:ss}=ts,as=new Map,ls=us=>{const ds=!!os&&(!ns||us.depth===-1);let ps;if(ds){for(let fs=0;fs<us.children.length;fs+=1){const hs=rs[us.children[fs]];hs.type==="group"&&ls(hs)}ps=os(us.children.map(fs=>rs[fs]))}else if(ss){const fs=[],hs=[];for(let ms=0;ms<us.children.length;ms+=1){const gs=us.children[ms],vs=rs[gs];vs.type==="group"?(ls(vs),hs.push(gs)):vs.type==="leaf"&&fs.push(gs)}ps=[...fs,...hs]}else{for(let fs=0;fs<us.children.length;fs+=1){const hs=rs[us.children[fs]];hs.type==="group"&&ls(hs)}ps=[...us.children]}us.footerId!=null&&ps.push(us.footerId),as.set(us.id,ps)};ls(rs[GRID_ROOT_GROUP_ID]);const cs=List.from(as.get(GRID_ROOT_GROUP_ID));return cs.forEach(us=>{const ds=as.get(us.data);ds!=null&&ds.length&&us.insertAfter(List.from(ds))}),cs.data()},removeNodeAndCleanParent=({node:ts,tree:rs,treeDepths:ns,updatedGroupsManager:os})=>{removeNodeFromTree({node:ts,tree:rs,treeDepths:ns}),ts.type==="group"&&ts.footerId!=null&&removeNodeFromTree({node:rs[ts.footerId],tree:rs,treeDepths:ns});const ss=rs[ts.parent];os==null||os.addAction(ss.id,"removeChildren"),ss.id!==GRID_ROOT_GROUP_ID&&ss.children.length===0&&(ss.isAutoGenerated?removeNodeAndCleanParent({node:ss,tree:rs,treeDepths:ns}):rs[ss.id]={type:"leaf",id:ss.id,depth:ss.depth,parent:ss.parent,groupingKey:ss.groupingKey})},replaceDataGroupWithAutoGeneratedGroup=({node:ts,tree:rs,treeDepths:ns,updatedGroupsManager:os})=>{os==null||os.addAction(ts.parent,"removeChildren"),os==null||os.addAction(ts.parent,"insertChildren"),updateGroupNodeIdAndAutoGenerated({previousTree:null,tree:rs,treeDepths:ns,node:ts,updatedNode:{id:getGroupRowIdFromPath(getNodePathInTree({id:ts.id,tree:rs})),isAutoGenerated:!0}})},removeDataRowFromTree=({id:ts,tree:rs,treeDepths:ns,updatedGroupsManager:os})=>{const ss=rs[ts];ss.type==="group"&&ss.children.length>0?replaceDataGroupWithAutoGeneratedGroup({node:ss,tree:rs,treeDepths:ns,updatedGroupsManager:os}):removeNodeAndCleanParent({node:ss,tree:rs,treeDepths:ns,updatedGroupsManager:os})},updateRowTree=ts=>{const rs=_extends$5({},ts.previousTree),ns=_extends$5({},ts.previousTreeDepth),os=createUpdatedGroupsManager();for(let as=0;as<ts.nodes.inserted.length;as+=1){const{id:ls,path:cs}=ts.nodes.inserted[as];insertDataRowInTree({previousTree:ts.previousTree,tree:rs,treeDepths:ns,updatedGroupsManager:os,id:ls,path:cs,onDuplicatePath:ts.onDuplicatePath,isGroupExpandedByDefault:ts.isGroupExpandedByDefault,defaultGroupingExpansionDepth:ts.defaultGroupingExpansionDepth})}for(let as=0;as<ts.nodes.removed.length;as+=1){const ls=ts.nodes.removed[as];removeDataRowFromTree({tree:rs,treeDepths:ns,updatedGroupsManager:os,id:ls})}for(let as=0;as<ts.nodes.modified.length;as+=1){const{id:ls,path:cs}=ts.nodes.modified[as],us=getNodePathInTree({tree:rs,id:ls});isDeepEqual(us,cs)?os==null||os.addAction(rs[ls].parent,"modifyChildren"):(removeDataRowFromTree({tree:rs,treeDepths:ns,updatedGroupsManager:os,id:ls}),insertDataRowInTree({previousTree:ts.previousTree,tree:rs,treeDepths:ns,updatedGroupsManager:os,id:ls,path:cs,onDuplicatePath:ts.onDuplicatePath,isGroupExpandedByDefault:ts.isGroupExpandedByDefault,defaultGroupingExpansionDepth:ts.defaultGroupingExpansionDepth}))}const ss=getTreeNodeDescendants(rs,GRID_ROOT_GROUP_ID,!0);return{tree:rs,treeDepths:ns,groupingName:ts.groupingName,dataRowIds:ss,updatedGroupsManager:os}},_excluded$n=["hideDescendantCount"],useGridTreeDataPreProcessors=(ts,rs)=>{const ns=reactExports.useCallback(()=>{ts.current.setStrategyAvailability("rowTree",TREE_DATA_STRATEGY,rs.treeData?()=>!0:()=>!1)},[ts,rs.treeData]),os=reactExports.useCallback(()=>{var ds;const ps=rs.groupingColDef;let fs;typeof ps=="function"?fs=ps({groupingName:TREE_DATA_STRATEGY,fields:[]}):fs=ps;const hs=(ds=fs)!=null?ds:{},{hideDescendantCount:ms}=hs,gs=_objectWithoutPropertiesLoose$1(hs,_excluded$n),vs=_extends$5({},GRID_TREE_DATA_GROUPING_COL_DEF,{renderCell:bs=>jsxRuntimeExports.jsx(GridTreeDataGroupingCell,_extends$5({},bs,{hideDescendantCount:ms})),headerName:ts.current.getLocaleText("treeDataGroupingHeaderName")});return _extends$5({},vs,gs,GRID_TREE_DATA_GROUPING_COL_DEF_FORCED_PROPERTIES)},[ts,rs.groupingColDef]),ss=reactExports.useCallback(ds=>{const ps=GRID_TREE_DATA_GROUPING_COL_DEF_FORCED_PROPERTIES.field,fs=rs.treeData,hs=ds.lookup[ps];if(fs){const ms=os();if(hs&&(ms.width=hs.width,ms.flex=hs.flex),ds.lookup[ps]=ms,hs==null){const gs=ds.orderedFields[0]===GRID_CHECKBOX_SELECTION_FIELD?1:0;ds.orderedFields=[...ds.orderedFields.slice(0,gs),ps,...ds.orderedFields.slice(gs)]}}else!fs&&hs&&(delete ds.lookup[ps],ds.orderedFields=ds.orderedFields.filter(ms=>ms!==ps));return ds},[rs.treeData,os]),as=reactExports.useCallback(ds=>{if(!rs.getTreeDataPath)throw new Error("MUI: No getTreeDataPath given.");const ps=hs=>({id:hs,path:rs.getTreeDataPath(ds.dataRowIdToModelLookup[hs]).map(ms=>({key:ms,field:null}))}),fs=(hs,ms,gs)=>{throw new Error(["MUI: The path returned by `getTreeDataPath` should be unique.","The rows with id #".concat(hs," and #").concat(ms," have the same."),"Path: ".concat(JSON.stringify(gs.map(vs=>vs.key)),".")].join("\n"))};return ds.updates.type==="full"?createRowTree({previousTree:ds.previousTree,nodes:ds.updates.rows.map(ps),defaultGroupingExpansionDepth:rs.defaultGroupingExpansionDepth,isGroupExpandedByDefault:rs.isGroupExpandedByDefault,groupingName:TREE_DATA_STRATEGY,onDuplicatePath:fs}):updateRowTree({nodes:{inserted:ds.updates.actions.insert.map(ps),modified:ds.updates.actions.modify.map(ps),removed:ds.updates.actions.remove},previousTree:ds.previousTree,previousTreeDepth:ds.previousTreeDepths,defaultGroupingExpansionDepth:rs.defaultGroupingExpansionDepth,isGroupExpandedByDefault:rs.isGroupExpandedByDefault,groupingName:TREE_DATA_STRATEGY})},[rs.getTreeDataPath,rs.defaultGroupingExpansionDepth,rs.isGroupExpandedByDefault]),ls=reactExports.useCallback(ds=>{const ps=gridRowTreeSelector(ts);return filterRowTreeFromTreeData({rowTree:ps,isRowMatchingFilters:ds.isRowMatchingFilters,disableChildrenFiltering:rs.disableChildrenFiltering,filterModel:ds.filterModel,apiRef:ts})},[ts,rs.disableChildrenFiltering]),cs=reactExports.useCallback(ds=>{const ps=gridRowTreeSelector(ts);return sortRowTree({rowTree:ps,sortRowList:ds.sortRowList,disableChildrenSorting:rs.disableChildrenSorting,shouldRenderGroupBelowLeaves:!1})},[ts,rs.disableChildrenSorting]);useGridRegisterPipeProcessor(ts,"hydrateColumns",ss),useGridRegisterStrategyProcessor(ts,TREE_DATA_STRATEGY,"rowTreeCreation",as),useGridRegisterStrategyProcessor(ts,TREE_DATA_STRATEGY,"filtering",ls),useGridRegisterStrategyProcessor(ts,TREE_DATA_STRATEGY,"sorting",cs),useGridRegisterStrategyProcessor(ts,TREE_DATA_STRATEGY,"visibleRowsLookupCreation",getVisibleRowsLookup),useFirstRender(()=>{ns()});const us=reactExports.useRef(!0);reactExports.useEffect(()=>{us.current?us.current=!1:ns()},[ns])},useGridPrivateApiContext=useGridPrivateApiContext$1,GRID_DETAIL_PANEL_TOGGLE_FIELD="__detail_panel_toggle__",GRID_DETAIL_PANEL_TOGGLE_COL_DEF=_extends$5({},GRID_STRING_COL_DEF,{field:GRID_DETAIL_PANEL_TOGGLE_FIELD,type:"detailPanelToggle",editable:!1,sortable:!1,filterable:!1,resizable:!1,aggregable:!1,disableColumnMenu:!0,disableReorder:!0,disableExport:!0,align:"left",width:40,valueGetter:ts=>gridDetailPanelExpandedRowIdsSelector(ts.api.state).includes(ts.id),renderCell:ts=>jsxRuntimeExports.jsx(GridDetailPanelToggleCell,_extends$5({},ts)),renderHeader:()=>null}),_excluded$m=["rowId","height","style"],DetailPanel=styled$4("div",{name:"MuiDataGrid",slot:"DetailPanel",overridesResolver:(ts,rs)=>rs.detailPanel})(({theme:ts})=>({zIndex:2,width:"100%",position:"absolute",backgroundColor:(ts.vars||ts).palette.background.default,overflow:"auto"}));function GridDetailPanel(ts){const{rowId:rs,height:ns,style:os={}}=ts,ss=_objectWithoutPropertiesLoose$1(ts,_excluded$m),as=useGridPrivateApiContext(),ls=reactExports.useRef(null),us=useGridRootProps();reactExports.useLayoutEffect(()=>{ns==="auto"&&typeof ResizeObserver>"u"&&as.current.storeDetailPanelHeight(rs,ls.current.clientHeight)},[as,ns,rs]),reactExports.useLayoutEffect(()=>{if(ns!=="auto"||typeof ResizeObserver>"u")return;const fs=new ResizeObserver(hs=>{const[ms]=hs,gs=ms.borderBoxSize&&ms.borderBoxSize.length>0?ms.borderBoxSize[0].blockSize:ms.contentRect.height;as.current.storeDetailPanelHeight(rs,gs)});return fs.observe(ls.current),()=>fs.disconnect()},[as,ns,rs]);const ds=_extends$5({},os,{height:ns});return jsxRuntimeExports.jsx(DetailPanel,_extends$5({ref:ls,ownerState:us,style:ds},ss))}const _excluded$l=["className","disableVirtualization"],filterColumns=(ts,rs,ns)=>{var os,ss;if(!Array.isArray(ts.left)&&!Array.isArray(ts.right))return[[],[]];if(((os=ts.left)==null?void 0:os.length)===0&&((ss=ts.right)==null?void 0:ss.length)===0)return[[],[]];const as=(ds,ps)=>Array.isArray(ds)?ds.filter(fs=>ps.includes(fs)):[],ls=as(ts.left,rs),cs=rs.filter(ds=>!ls.includes(ds)),us=as(ts.right,cs);return ns?[us,ls]:[ls,us]},useUtilityClasses$p=ts=>{const{classes:rs}=ts;return composeClasses({leftPinnedColumns:["pinnedColumns","pinnedColumns--left"],rightPinnedColumns:["pinnedColumns","pinnedColumns--right","withBorderColor"],topPinnedRows:["pinnedRows","pinnedRows--top"],bottomPinnedRows:["pinnedRows","pinnedRows--bottom"],pinnedRowsRenderZone:["pinnedRowsRenderZone"],detailPanels:["detailPanels"],detailPanel:["detailPanel"]},getDataGridUtilityClass,rs)},getOverlayAlpha$1=ts=>{let rs;return ts<1?rs=5.11916*ts**2:rs=4.5*Math.log(ts+1)+2,rs/100},getBoxShadowColor=ts=>ts.vars?"rgba(0 0 0 /  0.21)":alpha(ts.palette.common.black,.21),VirtualScrollerDetailPanels=styled$4("div",{name:"MuiDataGrid",slot:"DetailPanels",overridesResolver:(ts,rs)=>rs.detailPanels})({position:"relative"}),darkModeBackgroundImage="linear-gradient(".concat(alpha("#fff",getOverlayAlpha$1(2)),", ").concat(alpha("#fff",getOverlayAlpha$1(2)),")"),VirtualScrollerPinnedColumns=styled$4("div",{name:"MuiDataGrid",slot:"PinnedColumns",overridesResolver:(ts,rs)=>[{["&.".concat(gridClasses["pinnedColumns--left"])]:rs["pinnedColumns--left"]},{["&.".concat(gridClasses["pinnedColumns--right"])]:rs["pinnedColumns--right"]},rs.pinnedColumns]})(({theme:ts,ownerState:rs})=>{var ns;const os=getBoxShadowColor(ts);return _extends$5({position:"sticky",overflow:"hidden",zIndex:1,backgroundColor:(ts.vars||ts).palette.background.default},ts.vars?{backgroundImage:(ns=ts.vars.overlays)==null?void 0:ns[2]}:_extends$5({},ts.palette.mode==="dark"&&{backgroundImage:darkModeBackgroundImage}),rs.side===GridPinnedPosition.left&&{left:0,float:"left",boxShadow:"2px 0px 4px -2px ".concat(os)},rs.side===GridPinnedPosition.right&&{right:0,float:"right",boxShadow:"-2px 0px 4px -2px ".concat(os)},rs.side===GridPinnedPosition.right&&rs.showCellVerticalBorder&&{borderLeftWidth:"1px",borderLeftStyle:"solid"})});var PinnedRowsPosition=function(ts){return ts.top="top",ts.bottom="bottom",ts}(PinnedRowsPosition||{});const VirtualScrollerPinnedRows=styled$4("div",{name:"MuiDataGrid",slot:"PinnedRows",overridesResolver:(ts,rs)=>[{["&.".concat(gridClasses["pinnedRows--top"])]:rs["pinnedRows--top"]},{["&.".concat(gridClasses["pinnedRows--bottom"])]:rs["pinnedRows--bottom"]},rs.pinnedRows]})(({theme:ts,ownerState:rs})=>{var ns;const os=getBoxShadowColor(ts);return _extends$5({position:"sticky",zIndex:4,backgroundColor:(ts.vars||ts).palette.background.default},ts.vars?{backgroundImage:(ns=ts.vars.overlays)==null?void 0:ns[2]}:_extends$5({},ts.palette.mode==="dark"&&{backgroundImage:darkModeBackgroundImage}),rs.position==="top"&&{top:0,boxShadow:"0px 3px 4px -2px ".concat(os)},rs.position===PinnedRowsPosition.bottom&&{boxShadow:"0px -3px 4px -2px ".concat(os),bottom:0})}),VirtualScrollerPinnedRowsRenderZone=styled$4("div")({position:"absolute"}),DataGridProVirtualScroller=reactExports.forwardRef(function(rs,ns){const os=_objectWithoutPropertiesLoose$1(rs,_excluded$l),ss=useGridPrivateApiContext(),as=useGridRootProps(),ls=useGridSelector(ss,gridVisibleColumnFieldsSelector),cs=useGridSelector(ss,gridDetailPanelExpandedRowIdsSelector),us=useGridSelector(ss,gridDetailPanelExpandedRowsContentCacheSelector),ds=useGridSelector(ss,gridDetailPanelExpandedRowsHeightCacheSelector),ps=reactExports.useRef(null),fs=reactExports.useRef(null),hs=reactExports.useRef(null),ms=reactExports.useRef(null),gs=useTheme$1(),vs=reactExports.useCallback(({top:Ks,left:Ws})=>{ps.current&&(ps.current.style.transform="translate3d(0px, ".concat(Ks,"px, 0px)")),fs.current&&(fs.current.style.transform="translate3d(0px, ".concat(Ks,"px, 0px)")),hs.current&&(hs.current.style.transform="translate3d(".concat(Ws,"px, 0px, 0px)")),ms.current&&(ms.current.style.transform="translate3d(".concat(Ws,"px, 0px, 0px)"))},[]),bs=reactExports.useMemo(()=>{const Ks=new Set;return cs.forEach(Ws=>{Ks.add(Ws)}),Ks},[cs]),xs=reactExports.useCallback(Ks=>bs.has(Ks)?{style:{marginBottom:ds[Ks]}}:null,[ds,bs]),ys=useGridSelector(ss,gridPinnedColumnsSelector),[Ss,Cs]=filterColumns(ys,ls,gs.direction==="rtl"),$s=useGridSelector(ss,gridPinnedRowsSelector),Es=reactExports.useMemo(()=>($s==null?void 0:$s.top)||[],[$s==null?void 0:$s.top]),ws=reactExports.useMemo(()=>($s==null?void 0:$s.bottom)||[],[$s==null?void 0:$s.bottom]),Ts=_extends$5({},as,{classes:as.classes}),Is=useUtilityClasses$p(Ts),{renderContext:Rs,getRows:As,getRootProps:ks,getContentProps:Ms,getRenderZoneProps:Os,updateRenderZonePosition:Ds}=useGridVirtualScroller(_extends$5({ref:ns,renderZoneMinColumnIndex:Ss.length,renderZoneMaxColumnIndex:ls.length-Cs.length,onRenderZonePositioning:vs,getRowProps:xs},rs)),Fs=reactExports.useCallback(()=>{Rs&&Ds(Rs)},[Rs,Ds]);useGridApiEventHandler(ss,"columnWidthChange",Fs),useGridApiEventHandler(ss,"columnOrderChange",Fs),useGridApiEventHandler(ss,"rowOrderChange",Fs);const js=Rs&&Ss.length>0?_extends$5({},Rs,{firstColumnIndex:0,lastColumnIndex:Ss.length}):null,Ps=Rs&&Cs.length>0?_extends$5({},Rs,{firstColumnIndex:ls.length-Cs.length,lastColumnIndex:ls.length}):null,Ls=Ks=>{const Ws=gridRowsMetaSelector(ss.current.state),Pl=us[Ks],Tl=ss.current.getRowIndexRelativeToVisibleRows(Ks),El=Tl!==void 0;if(reactExports.isValidElement(Pl)&&El){const Sl=ss.current.detailPanelHasAutoHeight(Ks)?"auto":ds[Ks],Ml=ss.current.unstable_getRowInternalSizes(Ks),wl=(Ml==null?void 0:Ml.spacingTop)||0,Rl=Ws.positions[Tl]+ss.current.unstable_getRowHeight(Ks)+wl;return jsxRuntimeExports.jsx(GridDetailPanel,{rowId:Ks,style:{top:Rl},height:Sl,className:Is.detailPanel,children:Pl},Ks)}return null},Ns=[],Gs=As({renderContext:Rs,rows:Es,position:"center"}),Us=calculatePinnedRowsHeight(ss),Hs=As({renderContext:Rs,rowIndexOffset:Es.length,position:"center",onRowRender:Ks=>{if(as.getDetailPanelContent==null||!bs.has(Ks))return;const Ws=Ls(Ks);Ws&&Ns.push(Ws)}}),zs=As({renderContext:Rs,rows:ws,rowIndexOffset:Es.length+(Hs?Hs.length:0),position:"center"}),qs=Ms(),Vs={minHeight:qs.style.minHeight};return qs.style.minHeight&&qs.style.minHeight==="100%"&&(qs.style.minHeight="calc(100% - ".concat(Us.top,"px - ").concat(Us.bottom,"px)")),jsxRuntimeExports.jsxs(GridVirtualScroller,_extends$5({},ks(os),{children:[jsxRuntimeExports.jsx(GridOverlays,{}),Es.length>0?jsxRuntimeExports.jsxs(VirtualScrollerPinnedRows,{className:Is.topPinnedRows,ownerState:_extends$5({},Ts,{position:PinnedRowsPosition.top}),style:{width:qs.style.width,height:Us.top},role:"rowgroup",children:[js&&jsxRuntimeExports.jsx(VirtualScrollerPinnedColumns,{className:Is.leftPinnedColumns,ownerState:_extends$5({},Ts,{side:GridPinnedPosition.left,showCellVerticalBorder:as.showCellVerticalBorder}),children:As({renderContext:js,minFirstColumn:js.firstColumnIndex,maxLastColumn:js.lastColumnIndex,availableSpace:0,rows:Es,position:"left"})}),jsxRuntimeExports.jsx(VirtualScrollerPinnedRowsRenderZone,{className:Is.pinnedRowsRenderZone,ref:hs,role:"presentation",children:Gs}),Ps&&jsxRuntimeExports.jsx(VirtualScrollerPinnedColumns,{className:Is.rightPinnedColumns,ownerState:_extends$5({},Ts,{side:GridPinnedPosition.right,showCellVerticalBorder:as.showCellVerticalBorder}),children:As({renderContext:Ps,minFirstColumn:Ps.firstColumnIndex,maxLastColumn:Ps.lastColumnIndex,availableSpace:0,rows:Es,position:"right"})})]}):null,jsxRuntimeExports.jsxs(GridVirtualScrollerContent,_extends$5({},qs,{children:[js&&jsxRuntimeExports.jsx(VirtualScrollerPinnedColumns,{ref:ps,className:Is.leftPinnedColumns,ownerState:_extends$5({},Ts,{side:GridPinnedPosition.left,showCellVerticalBorder:as.showCellVerticalBorder}),style:Vs,children:As({renderContext:js,minFirstColumn:js.firstColumnIndex,maxLastColumn:js.lastColumnIndex,availableSpace:0,rowIndexOffset:Es.length,position:"left"})}),jsxRuntimeExports.jsx(GridVirtualScrollerRenderZone,_extends$5({},Os(),{children:Hs})),Ps&&jsxRuntimeExports.jsx(VirtualScrollerPinnedColumns,{ref:fs,ownerState:_extends$5({},Ts,{side:GridPinnedPosition.right,showCellVerticalBorder:as.showCellVerticalBorder}),className:Is.rightPinnedColumns,style:Vs,children:As({renderContext:Ps,minFirstColumn:Ps.firstColumnIndex,maxLastColumn:Ps.lastColumnIndex,availableSpace:0,rowIndexOffset:Es.length,position:"right"})}),Ns.length>0&&jsxRuntimeExports.jsx(VirtualScrollerDetailPanels,{className:Is.detailPanels,ownerState:Ts,children:Ns})]})),ws.length>0?jsxRuntimeExports.jsxs(VirtualScrollerPinnedRows,{className:Is.bottomPinnedRows,ownerState:_extends$5({},Ts,{position:PinnedRowsPosition.bottom}),style:{width:qs.style.width,height:Us.bottom},role:"rowgroup",children:[js&&jsxRuntimeExports.jsx(VirtualScrollerPinnedColumns,{className:Is.leftPinnedColumns,ownerState:_extends$5({},Ts,{side:GridPinnedPosition.left,showCellVerticalBorder:as.showCellVerticalBorder}),children:As({renderContext:js,minFirstColumn:js.firstColumnIndex,maxLastColumn:js.lastColumnIndex,availableSpace:0,rows:ws,rowIndexOffset:Es.length+(Hs?Hs.length:0),position:"left"})}),jsxRuntimeExports.jsx(VirtualScrollerPinnedRowsRenderZone,{className:Is.pinnedRowsRenderZone,ref:ms,role:"presentation",children:zs}),Ps&&jsxRuntimeExports.jsx(VirtualScrollerPinnedColumns,{className:Is.rightPinnedColumns,ownerState:_extends$5({},Ts,{side:GridPinnedPosition.right,showCellVerticalBorder:as.showCellVerticalBorder}),children:As({renderContext:Ps,minFirstColumn:Ps.firstColumnIndex,maxLastColumn:Ps.lastColumnIndex,availableSpace:0,rows:ws,rowIndexOffset:Es.length+(Hs?Hs.length:0),position:"right"})})]}):null]}))}),columnPinningStateInitializer=(ts,rs,ns)=>{var os;ns.current.caches.columnPinning={orderedFieldsBeforePinningColumns:null};let ss;if(rs.disableColumnPinning)ss={};else if(rs.pinnedColumns)ss=rs.pinnedColumns;else if((os=rs.initialState)!=null&&os.pinnedColumns){var as;ss=(as=rs.initialState)==null?void 0:as.pinnedColumns}else ss={};return _extends$5({},ts,{pinnedColumns:ss})},mergeStateWithPinnedColumns=ts=>rs=>_extends$5({},rs,{pinnedColumns:ts}),useGridColumnPinning=(ts,rs)=>{var ns;const os=useGridSelector(ts,gridPinnedColumnsSelector),ss=useTheme$1(),as=reactExports.useCallback((ys,Ss)=>{if(rs.disableColumnPinning)return ys;const Cs=gridVisibleColumnFieldsSelector(ts),[$s,Es]=filterColumns(os,Cs,ss.direction==="rtl");if(!Ss.colIndex||$s.length===0&&Es.length===0)return ys;const ws=gridVisibleColumnDefinitionsSelector(ts),Ts=gridColumnsTotalWidthSelector(ts),Is=gridColumnPositionsSelector(ts),Rs=ts.current.virtualScrollerRef.current.clientWidth,As=Math.abs(ts.current.virtualScrollerRef.current.scrollLeft),ks=ws[Ss.colIndex].computedWidth,Ms=Is[Ss.colIndex],Os=Is[$s.length],Ds=Ts-Is[Is.length-Es.length],Fs=Ms+ks;if(Fs-(Rs-Ds)>As){const js=Fs-(Rs-Ds);return _extends$5({},ys,{left:js})}if(Ms<As+Os){const js=Ms-Os;return _extends$5({},ys,{left:js})}return ys},[ts,os,rs.disableColumnPinning,ss.direction]),ls=reactExports.useCallback((ys,Ss)=>rs.disableColumnPinning||Ss.pinnable===!1?ys:[...ys,"columnMenuPinningItem"],[rs.disableColumnPinning]),cs=reactExports.useCallback((ys,{targetIndex:Ss})=>{const Cs=gridVisibleColumnFieldsSelector(ts),[$s,Es]=filterColumns(os,Cs,ss.direction==="rtl");if($s.length===0&&Es.length===0)return ys;if($s.length>0&&Ss<$s.length)return!1;if(Es.length>0){const Ts=gridVisibleColumnDefinitionsSelector(ts).length-Es.length;return Ss>=Ts?!1:ys}return ys},[ts,os,ss.direction]),us=reactExports.useCallback((ys,Ss)=>{var Cs,$s,Es;const ws=gridPinnedColumnsSelector(ts.current.state);return!Ss.exportOnlyDirtyModels||rs.pinnedColumns!=null||((Cs=rs.initialState)==null?void 0:Cs.pinnedColumns)!=null||(($s=ws.left)!=null?$s:[]).length>0||((Es=ws.right)!=null?Es:[]).length>0?_extends$5({},ys,{pinnedColumns:ws}):ys},[ts,rs.pinnedColumns,(ns=rs.initialState)==null?void 0:ns.pinnedColumns]),ds=reactExports.useCallback((ys,Ss)=>{const Cs=Ss.stateToRestore.pinnedColumns;return Cs!=null&&ts.current.setState(mergeStateWithPinnedColumns(Cs)),ys},[ts]);useGridRegisterPipeProcessor(ts,"scrollToIndexes",as),useGridRegisterPipeProcessor(ts,"columnMenu",ls),useGridRegisterPipeProcessor(ts,"canBeReordered",cs),useGridRegisterPipeProcessor(ts,"exportState",us),useGridRegisterPipeProcessor(ts,"restoreState",ds),ts.current.registerControlState({stateId:"pinnedColumns",propModel:rs.pinnedColumns,propOnChange:rs.onPinnedColumnsChange,stateSelector:gridPinnedColumnsSelector,changeEvent:"pinnedColumnsChange"});const ps=reactExports.useCallback(ys=>{if(rs.disableColumnPinning)throw new Error("MUI: You cannot call `apiRef.current.".concat(ys,"` when `disableColumnPinning` is true."))},[rs.disableColumnPinning]),fs=reactExports.useCallback((ys,Ss)=>{if(ps("pinColumn"),ts.current.isColumnPinned(ys)===Ss)return;const Cs=Ss===GridPinnedPosition.right?GridPinnedPosition.left:GridPinnedPosition.right,$s={[Ss]:[...os[Ss]||[],ys],[Cs]:(os[Cs]||[]).filter(Es=>Es!==ys)};ts.current.setPinnedColumns($s)},[ts,ps,os]),hs=reactExports.useCallback(ys=>{ps("unpinColumn"),ts.current.setPinnedColumns({left:(os.left||[]).filter(Ss=>Ss!==ys),right:(os.right||[]).filter(Ss=>Ss!==ys)})},[ts,ps,os.left,os.right]),ms=reactExports.useCallback(()=>(ps("getPinnedColumns"),gridPinnedColumnsSelector(ts.current.state)),[ts,ps]),gs=reactExports.useCallback(ys=>{ps("setPinnedColumns"),ts.current.setState(mergeStateWithPinnedColumns(ys)),ts.current.forceUpdate()},[ts,ps]),vs=reactExports.useCallback(ys=>(ps("isColumnPinned"),(os.left||[]).includes(ys)?GridPinnedPosition.left:(os.right||[]).includes(ys)?GridPinnedPosition.right:!1),[os.left,os.right,ps]);useGridApiMethod(ts,{pinColumn:fs,unpinColumn:hs,getPinnedColumns:ms,setPinnedColumns:gs,isColumnPinned:vs},"public");const xs=reactExports.useCallback(ys=>{if(!ts.current.caches.columnPinning.orderedFieldsBeforePinningColumns)return;const{column:Ss,targetIndex:Cs,oldIndex:$s}=ys,Es=Cs>$s?1:-1,Ts=gridColumnFieldsSelector(ts)[Cs-Es],Is=[...ts.current.caches.columnPinning.orderedFieldsBeforePinningColumns];let Rs=Is.findIndex(Ms=>Ms===Ss.field),As=Rs+Es;const ks=Is.findIndex(Ms=>Ms===Ts);for(;Es>0?Rs<ks:Rs>ks;){for(;ts.current.isColumnPinned(Is[As]);)As+=Es;const Ms=Is[Rs];Is[Rs]=Is[As],Is[As]=Ms,Rs=As,As=Rs+Es}ts.current.caches.columnPinning.orderedFieldsBeforePinningColumns=Is},[ts]);useGridApiEventHandler(ts,"columnOrderChange",xs),reactExports.useEffect(()=>{rs.pinnedColumns&&ts.current.setPinnedColumns(rs.pinnedColumns)},[ts,rs.pinnedColumns])},useGridColumnPinningPreProcessors=(ts,rs)=>{const{disableColumnPinning:ns,pinnedColumns:os,initialState:ss}=rs,as=useTheme$1();let ls=gridPinnedColumnsSelector(ts.current.state);if(ls==null){const ds=columnPinningStateInitializer(ts.current.state,{disableColumnPinning:ns,pinnedColumns:os,initialState:ss},ts);ls=gridPinnedColumnsSelector(ds)}const cs=reactExports.useRef([]),us=reactExports.useCallback(ds=>{if(ds.orderedFields.length===0||ns)return ds;const[ps,fs]=filterColumns(ls,ds.orderedFields,as.direction==="rtl");let hs;const ms=[...ps,...fs],{orderedFieldsBeforePinningColumns:gs}=ts.current.caches.columnPinning;if(gs){hs=new Array(ds.orderedFields.length).fill(null);const bs=[...hs],xs=[...ds.orderedFields];cs.current.forEach(Ss=>{if(!ms.includes(Ss)&&ds.lookup[Ss]){const Cs=gs.indexOf(Ss);hs[Cs]=Ss,bs[Cs]=Ss,xs.splice(xs.indexOf(Ss),1)}}),ms.forEach(Ss=>{let Cs=gs.indexOf(Ss);if((Cs===-1||Cs>=bs.length)&&(Cs=ds.orderedFields.indexOf(Ss)),bs[Cs]!==null)for(Cs=0;bs[Cs]!==null;)Cs+=1;hs[Cs]=Ss,bs[Cs]=Ss,xs.splice(xs.indexOf(Ss),1)});let ys=0;xs.forEach(Ss=>{for(;bs[ys]!==null;)ys+=1;bs[ys]=Ss,hs[ys]=Ss}),ts.current.caches.columnPinning.orderedFieldsBeforePinningColumns=bs}else hs=[...ds.orderedFields],ts.current.caches.columnPinning.orderedFieldsBeforePinningColumns=[...ds.orderedFields];cs.current=ms;const vs=hs.filter(bs=>!ps.includes(bs)&&!fs.includes(bs));return _extends$5({},ds,{orderedFields:[...ps,...vs,...fs]})},[ts,ns,ls,as.direction]);useGridRegisterPipeProcessor(ts,"hydrateColumns",us)},detailPanelStateInitializer=(ts,rs)=>{var ns,os,ss;return _extends$5({},ts,{detailPanel:{heightCache:{},expandedRowIds:(ns=(os=rs.detailPanelExpandedRowIds)!=null?os:(ss=rs.initialState)==null||(ss=ss.detailPanel)==null?void 0:ss.expandedRowIds)!=null?ns:[]}})};function cacheContentAndHeight(ts,rs,ns,os){if(typeof rs!="function")return{};const ss=gridDataRowIdsSelector(ts),as=ss.reduce((cs,us)=>{const ds=ts.current.getRowParams(us);return cs[us]=rs(ds),cs},{}),ls=ss.reduce((cs,us)=>{var ds;if(as[us]==null)return cs;const ps=ts.current.getRowParams(us),fs=ns(ps),hs=fs==="auto";return cs[us]={autoHeight:hs,height:hs?(ds=os[us])==null?void 0:ds.height:fs},cs},{});return{contentCache:as,heightCache:ls}}const useGridDetailPanel=(ts,rs)=>{const ns=useGridSelector(ts,gridDetailPanelExpandedRowIdsSelector),os=useGridSelector(ts,gridDetailPanelExpandedRowsContentCacheSelector),ss=reactExports.useCallback((Ss,Cs)=>{if(Ss.field!==GRID_DETAIL_PANEL_TOGGLE_FIELD||rs.getDetailPanelContent==null)return;const $s=os[Ss.id];reactExports.isValidElement($s)&&Cs.target!==Cs.currentTarget&&ts.current.toggleDetailPanel(Ss.id)},[ts,os,rs.getDetailPanelContent]),as=reactExports.useCallback((Ss,Cs)=>{rs.getDetailPanelContent!=null&&Ss.field===GRID_DETAIL_PANEL_TOGGLE_FIELD&&Cs.key===" "&&ts.current.toggleDetailPanel(Ss.id)},[ts,rs.getDetailPanelContent]);useGridApiEventHandler(ts,"cellClick",ss),useGridApiEventHandler(ts,"cellKeyDown",as),ts.current.registerControlState({stateId:"detailPanels",propModel:rs.detailPanelExpandedRowIds,propOnChange:rs.onDetailPanelExpandedRowIdsChange,stateSelector:gridDetailPanelExpandedRowIdsSelector,changeEvent:"detailPanelsExpandedRowIdsChange"});const ls=reactExports.useCallback(Ss=>{if(rs.getDetailPanelContent==null)return;const Cs=os[Ss];if(!reactExports.isValidElement(Cs))return;const $s=ts.current.getExpandedDetailPanels();ts.current.setExpandedDetailPanels($s.includes(Ss)?$s.filter(Es=>Es!==Ss):[...$s,Ss])},[ts,os,rs.getDetailPanelContent]),cs=reactExports.useCallback(()=>gridDetailPanelExpandedRowIdsSelector(ts.current.state),[ts]),us=reactExports.useCallback(Ss=>{ts.current.setState(Cs=>_extends$5({},Cs,{detailPanel:_extends$5({},Cs.detailPanel,{expandedRowIds:Ss})})),ts.current.forceUpdate()},[ts]),ds=reactExports.useCallback((Ss,Cs)=>{const $s=gridDetailPanelRawHeightCacheSelector(ts.current.state);!$s[Ss]||$s[Ss].height===Cs||(ts.current.setState(Es=>_extends$5({},Es,{detailPanel:_extends$5({},Es.detailPanel,{heightCache:_extends$5({},$s,{[Ss]:_extends$5({},$s[Ss],{height:Cs})})})})),ts.current.requestPipeProcessorsApplication("rowHeight"))},[ts]),ps=reactExports.useCallback(Ss=>{const Cs=gridDetailPanelRawHeightCacheSelector(ts.current.state);return Cs[Ss]?Cs[Ss].autoHeight:!1},[ts]),fs={toggleDetailPanel:ls,getExpandedDetailPanels:cs,setExpandedDetailPanels:us},hs={storeDetailPanelHeight:ds,detailPanelHasAutoHeight:ps};useGridApiMethod(ts,fs,"public"),useGridApiMethod(ts,hs,"private"),reactExports.useEffect(()=>{rs.detailPanelExpandedRowIds&&gridDetailPanelExpandedRowIdsSelector(ts.current.state)!==rs.detailPanelExpandedRowIds&&ts.current.setExpandedDetailPanels(rs.detailPanelExpandedRowIds)},[ts,rs.detailPanelExpandedRowIds]);const ms=reactExports.useCallback(()=>{ts.current.setState(Ss=>_extends$5({},Ss,{detailPanel:_extends$5({},Ss.detailPanel,cacheContentAndHeight(ts,rs.getDetailPanelContent,rs.getDetailPanelHeight,Ss.detailPanel.heightCache))})),ts.current.forceUpdate()},[ts,rs.getDetailPanelContent,rs.getDetailPanelHeight]);useGridApiEventHandler(ts,"sortedRowsSet",ms);const gs=reactExports.useRef(),vs=reactExports.useRef(),bs=reactExports.useCallback(()=>{rs.getDetailPanelContent===gs.current&&rs.getDetailPanelHeight===vs.current||(ts.current.setState(Ss=>_extends$5({},Ss,{detailPanel:_extends$5({},Ss.detailPanel,cacheContentAndHeight(ts,rs.getDetailPanelContent,rs.getDetailPanelHeight,Ss.detailPanel.heightCache))})),gs.current=rs.getDetailPanelContent,vs.current=rs.getDetailPanelHeight)},[ts,rs.getDetailPanelContent,rs.getDetailPanelHeight]),xs=reactExports.useCallback((Ss,Cs)=>{var $s;if(!ns||ns.length===0||!ns.includes(Cs.id))return Ss.detail=0,Ss;bs();const Es=gridDetailPanelExpandedRowsHeightCacheSelector(ts);return Ss.detail=($s=Es[Cs.id])!=null?$s:0,Ss},[ts,ns,bs]);useGridRegisterPipeProcessor(ts,"rowHeight",xs);const ys=reactExports.useRef(!0);ys.current&&(ys.current=!1,bs())},useGridDetailPanelPreProcessors=(ts,rs)=>{const ns=reactExports.useCallback(ss=>rs.getDetailPanelContent==null?(ss.lookup[GRID_DETAIL_PANEL_TOGGLE_FIELD]&&(delete ss.lookup[GRID_DETAIL_PANEL_TOGGLE_FIELD],ss.orderedFields=ss.orderedFields.filter(as=>as!==GRID_DETAIL_PANEL_TOGGLE_FIELD)),ss):(ss.lookup[GRID_DETAIL_PANEL_TOGGLE_FIELD]||(ss.orderedFields=[GRID_DETAIL_PANEL_TOGGLE_FIELD,...ss.orderedFields],ss.lookup[GRID_DETAIL_PANEL_TOGGLE_FIELD]=_extends$5({},GRID_DETAIL_PANEL_TOGGLE_COL_DEF,{headerName:ts.current.getLocaleText("detailPanelToggle")})),ss),[ts,rs.getDetailPanelContent]),os=reactExports.useCallback((ss,as)=>rs.getDetailPanelContent==null||!gridDetailPanelExpandedRowIdsSelector(ts.current.state).includes(as)?ss:[...ss,gridClasses["row--detailPanelExpanded"]],[ts,rs.getDetailPanelContent]);useGridRegisterPipeProcessor(ts,"hydrateColumns",ns),useGridRegisterPipeProcessor(ts,"rowClassName",os)},useUtilityClasses$o=ts=>{const{isDraggable:rs,classes:ns}=ts;return composeClasses({root:["rowReorderCell",rs&&"rowReorderCell--draggable"],placeholder:["rowReorderCellPlaceholder"]},getDataGridUtilityClass,ns)};function GridRowReorderCell(ts){const rs=useGridApiContext$1(),ns=useGridRootProps(),os=useGridSelector(rs,gridSortModelSelector),ss=useGridSelector(rs,gridRowMaximumTreeDepthSelector),as=useGridSelector(rs,gridEditRowsStateSelector),ls=ts.row.__reorder__||ts.id,cs=reactExports.useMemo(()=>!!ns.rowReordering&&!os.length&&ss===1&&Object.keys(as).length===0,[ns.rowReordering,os,ss,as]),us={isDraggable:cs,classes:ns.classes},ds=useUtilityClasses$o(us),ps=reactExports.useCallback((hs,ms)=>gs=>{isEventTargetInPortal(gs)||rs.current.getRow(ts.id)&&(rs.current.publishEvent(hs,rs.current.getRowParams(ts.id),gs),ms&&ms(gs))},[rs,ts.id]),fs=cs?{onDragStart:ps("rowDragStart"),onDragOver:ps("rowDragOver"),onDragEnd:ps("rowDragEnd")}:null;return ts.rowNode.type==="footer"?null:jsxRuntimeExports.jsxs("div",_extends$5({className:ds.root,draggable:cs},fs,{children:[jsxRuntimeExports.jsx(ns.slots.rowReorderIcon,{}),jsxRuntimeExports.jsx("div",{className:ds.placeholder,children:ls})]}))}const renderRowReorderCell=ts=>ts.rowNode.type==="footer"||ts.rowNode.type==="pinnedRow"?null:jsxRuntimeExports.jsx(GridRowReorderCell,_extends$5({},ts)),GRID_REORDER_COL_DEF=_extends$5({},GRID_STRING_COL_DEF,{field:"__reorder__",type:"reorder",sortable:!1,filterable:!1,width:50,align:"center",headerAlign:"center",disableColumnMenu:!0,disableExport:!0,disableReorder:!0,resizable:!1,aggregable:!1,renderHeader:()=>" ",renderCell:renderRowReorderCell});var Direction=function(ts){return ts[ts.UP=0]="UP",ts[ts.DOWN=1]="DOWN",ts}(Direction||{});let previousMousePosition=null,previousReorderState={previousTargetId:null,dragDirection:null};const useUtilityClasses$n=ts=>{const{classes:rs}=ts;return composeClasses({rowDragging:["row--dragging"]},getDataGridUtilityClass,rs)},useGridRowReorder=(ts,rs)=>{const ns=useGridLogger(ts,"useGridRowReorder"),os=useGridSelector(ts,gridSortModelSelector),ss=useGridSelector(ts,gridRowMaximumTreeDepthSelector),as=reactExports.useRef(null),ls=reactExports.useRef(null),cs=reactExports.useRef(),us={classes:rs.classes},ds=useUtilityClasses$n(us),[ps,fs]=reactExports.useState("");reactExports.useEffect(()=>()=>{clearTimeout(cs.current)},[]);const hs=reactExports.useMemo(()=>!rs.rowReordering||!!os.length||ss!==1,[rs.rowReordering,os,ss]),ms=reactExports.useCallback((bs,xs)=>{const ys=gridEditRowsStateSelector(ts.current.state);hs||Object.keys(ys).length!==0||(ns.debug("Start dragging row ".concat(bs.id)),xs.stopPropagation(),as.current=xs.currentTarget,as.current.classList.add(ds.rowDragging),fs(bs.id),cs.current=setTimeout(()=>{as.current.classList.remove(ds.rowDragging)}),ls.current=ts.current.getRowIndexRelativeToVisibleRows(bs.id),ts.current.setCellFocus(bs.id,GRID_REORDER_COL_DEF.field))},[hs,ds.rowDragging,ns,ts]),gs=reactExports.useCallback((bs,xs)=>{if(ps==="")return;const ys=ts.current.getRowNode(bs.id);if(!ys||ys.type==="footer"||ys.type==="pinnedRow")return;ns.debug("Dragging over row ".concat(bs.id)),xs.preventDefault(),xs.stopPropagation();const Ss=previousMousePosition?previousMousePosition.y-xs.clientY:xs.clientY;if(bs.id!==ps){const Cs=ts.current.getRowIndexRelativeToVisibleRows(bs.id),Es={dragDirection:Ss>0?Direction.DOWN:Direction.UP,previousTargetId:bs.id},ws=Es.dragDirection!==previousReorderState.dragDirection||Es.previousTargetId!==previousReorderState.previousTargetId;(previousReorderState.dragDirection===null||Math.abs(Ss)>=1&&ws)&&(ts.current.setRowIndex(ps,Cs),previousReorderState=Es)}previousMousePosition={x:xs.clientX,y:xs.clientY}},[ts,ns,ps]),vs=reactExports.useCallback((bs,xs)=>{const ys=gridEditRowsStateSelector(ts.current.state);if(!(ps===""||hs||Object.keys(ys).length!==0)){if(ns.debug("End dragging row"),xs.preventDefault(),xs.stopPropagation(),clearTimeout(cs.current),as.current=null,previousReorderState.dragDirection=null,xs.dataTransfer.dropEffect==="none")ts.current.setRowIndex(ps,ls.current),ls.current=null;else{const Ss={row:ts.current.getRow(ps),targetIndex:ts.current.getRowIndexRelativeToVisibleRows(bs.id),oldIndex:ls.current};ts.current.publishEvent("rowOrderChange",Ss)}fs("")}},[hs,ns,ts,ps]);useGridApiEventHandler(ts,"rowDragStart",ms),useGridApiEventHandler(ts,"rowDragOver",gs),useGridApiEventHandler(ts,"rowDragEnd",vs),useGridApiEventHandler(ts,"cellDragOver",gs),useGridApiOptionHandler(ts,"rowOrderChange",rs.onRowOrderChange)},useUtilityClasses$m=ts=>{const{classes:rs}=ts;return reactExports.useMemo(()=>composeClasses({rowReorderCellContainer:["rowReorderCellContainer"],columnHeaderReorder:["columnHeaderReorder"]},getDataGridUtilityClass,rs),[rs])},useGridRowReorderPreProcessors=(ts,rs)=>{const ns={classes:rs.classes},os=useUtilityClasses$m(ns),ss=reactExports.useCallback(as=>{const ls=_extends$5({},GRID_REORDER_COL_DEF,{cellClassName:os.rowReorderCellContainer,headerClassName:os.columnHeaderReorder,headerName:ts.current.getLocaleText("rowReorderingHeaderName")}),cs=rs.rowReordering,us=as.lookup[ls.field]!=null;return cs&&us||(cs&&!us?(as.lookup[ls.field]=ls,as.orderedFields=[ls.field,...as.orderedFields]):!cs&&us&&(delete as.lookup[ls.field],as.orderedFields=as.orderedFields.filter(ds=>ds!==ls.field))),as},[ts,os,rs.rowReordering]);useGridRegisterPipeProcessor(ts,"hydrateColumns",ss)};function findSkeletonRowsSection({apiRef:ts,visibleRows:rs,range:ns}){let{firstRowIndex:os,lastRowIndex:ss}=ns;const as=rs.slice(ns.firstRowIndex,ns.lastRowIndex);let ls=0,cs=as.length-1,us=!1;for(;!us&&os<ss;){var ds,ps;const fs=((ds=ts.current.getRowNode(as[ls].id))==null?void 0:ds.type)==="skeletonRow",hs=((ps=ts.current.getRowNode(as[cs].id))==null?void 0:ps.type)==="skeletonRow";fs&&hs&&(us=!0),fs||(ls+=1,os+=1),hs||(cs-=1,ss-=1)}return us?{firstRowIndex:os,lastRowIndex:ss}:void 0}function isLazyLoadingDisabled({lazyLoadingFeatureFlag:ts,rowsLoadingMode:rs,gridDimensions:ns}){return!ts||!ns||rs!=="server"}const useGridLazyLoader=(ts,rs)=>{var ns;const os=useGridVisibleRows(ts,rs),ss=useGridSelector(ts,gridSortModelSelector),as=useGridSelector(ts,gridFilterModelSelector),ls=reactExports.useRef({firstRowToRender:0,lastRowToRender:0}),{lazyLoading:cs}=(ns=rs.experimentalFeatures)!=null?ns:{},us=reactExports.useCallback(()=>{const hs=ts.current.getRenderContext(),[ms,gs]=getRenderableIndexes({firstIndex:hs.firstRowIndex,lastIndex:hs.lastRowIndex,minFirstIndex:0,maxLastIndex:os.rows.length,buffer:rs.rowBuffer});return{firstRowToRender:ms,lastRowToRender:gs}},[ts,rs.rowBuffer,os.rows.length]),ds=reactExports.useCallback(hs=>{const ms=ts.current.getRootDimensions();if(isLazyLoadingDisabled({lazyLoadingFeatureFlag:cs,rowsLoadingMode:rs.rowsLoadingMode,gridDimensions:ms}))return;const gs={firstRowToRender:hs.firstRowToRender,lastRowToRender:hs.lastRowToRender,sortModel:ss,filterModel:as};if(!(ls.current.firstRowToRender===hs.firstRowToRender&&ls.current.lastRowToRender===hs.lastRowToRender)){if(ss.length===0&&as.items.length===0){const vs=findSkeletonRowsSection({apiRef:ts,visibleRows:os.rows,range:{firstRowIndex:hs.firstRowToRender,lastRowIndex:hs.lastRowToRender}});if(!vs)return;gs.firstRowToRender=vs.firstRowIndex,gs.lastRowToRender=vs.lastRowIndex}ls.current=hs,ts.current.publishEvent("fetchRows",gs)}},[ts,rs.rowsLoadingMode,ss,as,os.rows,cs]),ps=reactExports.useCallback(hs=>{const ms=ts.current.getRootDimensions();if(isLazyLoadingDisabled({lazyLoadingFeatureFlag:cs,rowsLoadingMode:rs.rowsLoadingMode,gridDimensions:ms}))return;ts.current.requestPipeProcessorsApplication("hydrateRows");const{firstRowToRender:gs,lastRowToRender:vs}=us(),bs={firstRowToRender:gs,lastRowToRender:vs,sortModel:hs,filterModel:as};ts.current.publishEvent("fetchRows",bs)},[ts,rs.rowsLoadingMode,as,cs,us]),fs=reactExports.useCallback(hs=>{const ms=ts.current.getRootDimensions();if(isLazyLoadingDisabled({lazyLoadingFeatureFlag:cs,rowsLoadingMode:rs.rowsLoadingMode,gridDimensions:ms}))return;ts.current.requestPipeProcessorsApplication("hydrateRows");const{firstRowToRender:gs,lastRowToRender:vs}=us(),bs={firstRowToRender:gs,lastRowToRender:vs,sortModel:ss,filterModel:hs};ts.current.publishEvent("fetchRows",bs)},[ts,rs.rowsLoadingMode,ss,cs,us]);useGridApiEventHandler(ts,"renderedRowsIntervalChange",ds),useGridApiEventHandler(ts,"sortModelChange",ps),useGridApiEventHandler(ts,"filterModelChange",fs),useGridApiOptionHandler(ts,"fetchRows",rs.onFetchRows)},GRID_SKELETON_ROW_ROOT_ID="auto-generated-skeleton-row-root",getSkeletonRowId=ts=>"".concat(GRID_SKELETON_ROW_ROOT_ID,"-").concat(ts),useGridLazyLoaderPreProcessors=(ts,rs)=>{var ns;const{lazyLoading:os}=(ns=rs.experimentalFeatures)!=null?ns:{},ss=reactExports.useCallback(as=>{const ls=as.tree[GRID_ROOT_GROUP_ID];if(!os||rs.rowsLoadingMode!=="server"||!rs.rowCount||ls.children.length>=rs.rowCount)return as;const cs=_extends$5({},as.tree),us=[...ls.children];for(let ds=0;ds<rs.rowCount-ls.children.length;ds+=1){const ps=getSkeletonRowId(ds);us.push(ps);const fs={type:"skeletonRow",id:ps,parent:GRID_ROOT_GROUP_ID,depth:0};cs[ps]=fs}return cs[GRID_ROOT_GROUP_ID]=_extends$5({},ls,{children:us}),_extends$5({},as,{tree:cs})},[rs.rowCount,rs.rowsLoadingMode,os]);useGridRegisterPipeProcessor(ts,"hydrateRows",ss)};function createPinnedRowsInternalCache(ts,rs){var ns,os;const ss={topIds:[],bottomIds:[],idLookup:{}};return ts==null||(ns=ts.top)==null||ns.forEach(as=>{const ls=getRowIdFromRowModel(as,rs);ss.topIds.push(ls),ss.idLookup[ls]=as}),ts==null||(os=ts.bottom)==null||os.forEach(as=>{const ls=getRowIdFromRowModel(as,rs);ss.bottomIds.push(ls),ss.idLookup[ls]=as}),ss}const rowPinningStateInitializer=(ts,rs,ns)=>{var os;return ns.current.caches.pinnedRows=createPinnedRowsInternalCache(rs.pinnedRows,rs.getRowId),_extends$5({},ts,{rows:_extends$5({},ts.rows,{additionalRowGroups:_extends$5({},(os=ts.rows)==null?void 0:os.additionalRowGroups,{pinnedRows:{top:[],bottom:[]}})})})},useGridRowPinning=(ts,rs)=>{const ns=reactExports.useCallback(ss=>{ts.current.caches.pinnedRows=createPinnedRowsInternalCache(ss,rs.getRowId),ts.current.requestPipeProcessorsApplication("hydrateRows")},[ts,rs.getRowId]);useGridApiMethod(ts,{unstable_setPinnedRows:ns},"public");const os=reactExports.useRef(!0);reactExports.useEffect(()=>{if(os.current){os.current=!1;return}ts.current.unstable_setPinnedRows(rs.pinnedRows)},[ts,rs.pinnedRows])};function addPinnedRow({groupingParams:ts,rowModel:rs,rowId:ns,position:os,apiRef:ss,isAutoGenerated:as}){var ls,cs;const us=_extends$5({},ts.dataRowIdToModelLookup),ds=_extends$5({},ts.dataRowIdToIdLookup),ps=_extends$5({},ts.tree),fs=_extends$5({},ts.treeDepths);insertNodeInTree({type:"pinnedRow",id:ns,depth:0,parent:GRID_ROOT_GROUP_ID,isAutoGenerated:as},ps,fs,null),as||(us[ns]=rs,ds[ns]=ns),ss.current.caches.rows.dataRowIdToModelLookup[ns]=_extends$5({},rs),ss.current.caches.rows.dataRowIdToIdLookup[ns]=ns;const ms=((ls=ts.additionalRowGroups)==null?void 0:ls.pinnedRows)||{},gs={id:ns,model:rs};return(cs=ts.additionalRowGroups)!=null&&(cs=cs.pinnedRows)!=null&&(cs=cs[os])!=null&&cs.includes(gs)?_extends$5({},ts,{dataRowIdToModelLookup:us,dataRowIdToIdLookup:ds,tree:ps,treeDepths:fs}):_extends$5({},ts,{dataRowIdToModelLookup:us,dataRowIdToIdLookup:ds,tree:ps,treeDepths:fs,additionalRowGroups:_extends$5({},ts.additionalRowGroups,{pinnedRows:_extends$5({},ms,{[os]:[...ms[os]||[],gs]})})})}const useGridRowPinningPreProcessors=ts=>{const rs=reactExports.useCallback(ns=>{var os,ss,as,ls;const cs=ts.current.caches.pinnedRows||{};let us=_extends$5({},ns,{additionalRowGroups:_extends$5({},ns.additionalRowGroups,{pinnedRows:{}})});if((os=cs.topIds)==null||os.forEach(ds=>{us=addPinnedRow({groupingParams:us,rowModel:cs.idLookup[ds],rowId:ds,position:"top",apiRef:ts,isAutoGenerated:!1})}),(ss=cs.bottomIds)==null||ss.forEach(ds=>{us=addPinnedRow({groupingParams:us,rowModel:cs.idLookup[ds],rowId:ds,position:"bottom",apiRef:ts,isAutoGenerated:!1})}),(as=cs.bottomIds)!=null&&as.length||(ls=cs.topIds)!=null&&ls.length){const ds=fs=>!(us.tree[fs]&&us.tree[fs].type==="pinnedRow"),ps=us.tree[GRID_ROOT_GROUP_ID];us.tree[GRID_ROOT_GROUP_ID]=_extends$5({},ps,{children:ps.children.filter(ds)}),us.dataRowIds=us.dataRowIds.filter(ds)}return us},[ts]);useGridRegisterPipeProcessor(ts,"hydrateRows",rs)},useDataGridProComponent=(ts,rs)=>{const ns=useGridInitialization(ts,rs);return useGridRowSelectionPreProcessors(ns,rs),useGridRowReorderPreProcessors(ns,rs),useGridTreeDataPreProcessors(ns,rs),useGridLazyLoaderPreProcessors(ns,rs),useGridRowPinningPreProcessors(ns),useGridDetailPanelPreProcessors(ns,rs),useGridColumnPinningPreProcessors(ns,rs),useGridRowsPreProcessors(ns),useGridInitializeState(headerFilteringStateInitializer,ns,rs),useGridInitializeState(rowSelectionStateInitializer,ns,rs),useGridInitializeState(detailPanelStateInitializer,ns,rs),useGridInitializeState(columnPinningStateInitializer,ns,rs),useGridInitializeState(columnsStateInitializer,ns,rs),useGridInitializeState(rowPinningStateInitializer,ns,rs),useGridInitializeState(rowsStateInitializer,ns,rs),useGridInitializeState(editingStateInitializer,ns,rs),useGridInitializeState(focusStateInitializer,ns,rs),useGridInitializeState(sortingStateInitializer,ns,rs),useGridInitializeState(preferencePanelStateInitializer,ns,rs),useGridInitializeState(filterStateInitializer,ns,rs),useGridInitializeState(densityStateInitializer,ns,rs),useGridInitializeState(columnReorderStateInitializer,ns,rs),useGridInitializeState(columnResizeStateInitializer,ns,rs),useGridInitializeState(paginationStateInitializer,ns,rs),useGridInitializeState(rowsMetaStateInitializer,ns,rs),useGridInitializeState(columnMenuStateInitializer,ns,rs),useGridInitializeState(columnGroupsStateInitializer,ns,rs),useGridInitializeState(virtualizationStateInitializer,ns,rs),useGridHeaderFiltering(ns,rs),useGridTreeData(ns),useGridKeyboardNavigation(ns,rs),useGridRowSelection(ns,rs),useGridColumnPinning(ns,rs),useGridRowPinning(ns,rs),useGridColumns(ns,rs),useGridRows(ns,rs),useGridParamsApi(ns,rs),useGridDetailPanel(ns,rs),useGridColumnSpanning(ns),useGridColumnGrouping(ns,rs),useGridEditing(ns,rs),useGridFocus(ns,rs),useGridPreferencesPanel(ns,rs),useGridFilter(ns,rs),useGridSorting(ns,rs),useGridDensity(ns,rs),useGridColumnReorder(ns,rs),useGridColumnResize(ns,rs),useGridPagination(ns,rs),useGridRowsMeta(ns,rs),useGridRowReorder(ns,rs),useGridScroll(ns,rs),useGridInfiniteLoader(ns,rs),useGridLazyLoader(ns,rs),useGridColumnMenu(ns),useGridCsvExport(ns,rs),useGridPrintExport(ns,rs),useGridClipboard(ns,rs),useGridDimensions(ns,rs),useGridEvents(ns,rs),useGridStatePersistence(ns),useGridVirtualization(ns,rs),ns},GRID_COLUMN_MENU_SLOTS_PRO=_extends$5({},GRID_COLUMN_MENU_SLOTS,{columnMenuPinningItem:GridColumnMenuPinningItem}),GRID_COLUMN_MENU_SLOT_PROPS_PRO=_extends$5({},GRID_COLUMN_MENU_SLOT_PROPS,{columnMenuPinningItem:{displayOrder:15}}),GridProColumnMenu=reactExports.forwardRef(function(rs,ns){return jsxRuntimeExports.jsx(GridGenericColumnMenu,_extends$5({ref:ns},rs,{defaultSlots:GRID_COLUMN_MENU_SLOTS_PRO,defaultSlotProps:GRID_COLUMN_MENU_SLOT_PROPS_PRO}))}),_excluded$k=["getColumnsToRender","getRootProps"],useUtilityClasses$l=ts=>{const{classes:rs}=ts;return reactExports.useMemo(()=>composeClasses({headerFilterRow:["headerFilterRow"]},getDataGridUtilityClass,rs),[rs])},GridHeaderFilterRow=styled$2("div",{name:"MuiDataGrid",slot:"HeaderFilterRow",overridesResolver:(ts,rs)=>rs.headerFilterRow})(()=>({display:"flex"})),filterItemsCache=Object.create(null),useGridColumnHeaders=ts=>{const rs=useGridPrivateApiContext$1(),{headerGroupingMaxDepth:ns,hasOtherElementInTabSequence:os}=ts,ss=useGridSelector(rs,unstable_gridTabIndexColumnHeaderFilterSelector),as=useGridColumnHeaders$1(_extends$5({},ts,{hasOtherElementInTabSequence:os||ss!==null})),{getColumnsToRender:ls,getRootProps:cs}=as,us=_objectWithoutPropertiesLoose$1(as,_excluded$k),ds=reactExports.useRef(null);rs.current.register("private",{headerFiltersElementRef:ds});const ps=reactExports.useRef(null),fs=useGridRootProps(),hs=useUtilityClasses$l(fs),ms=!fs.unstable_headerFilters,gs=Math.floor(fs.columnHeaderHeight*ts.densityFactor),vs=useGridSelector(rs,gridFilterModelSelector),bs=getTotalHeaderHeight(rs,fs.columnHeaderHeight)+(ms?0:gs),xs=useGridSelector(rs,unstable_gridFocusColumnHeaderFilterSelector),ys=reactExports.useCallback($s=>{const Es=vs==null?void 0:vs.items.find(Is=>Is.field===$s.field&&Is.operator!=="isAnyOf");if(Es!=null)return Es;const ws=filterItemsCache[$s.field];if(ws!=null)return ws;const Ts=getGridFilter($s);return filterItemsCache[$s.field]=Ts,Ts},[vs]),Ss=($s,Es={})=>{if(ms)return null;const ws=ls($s);if(ws==null)return null;const{renderedColumns:Ts,firstColumnToRender:Is}=ws,Rs=[];for(let Os=0;Os<Ts.length;Os+=1){var As,ks,Ms;const Ds=Ts[Os],Fs=Is+Os,js=(xs==null?void 0:xs.field)===Ds.field,Ps=Fs===0,Ns=(ss==null?void 0:ss.field)===Ds.field||Ps&&!ts.hasOtherElementInTabSequence?0:-1,Gs=typeof Ds.headerClassName=="function"?Ds.headerClassName({field:Ds.field,colDef:Ds}):Ds.headerClassName,Us=(As=(ks=Ds.filterOperators)==null?void 0:ks.filter(zs=>zs.value!=="isAnyOf"))!=null?As:[],Hs=ys(Ds);Rs.push(jsxRuntimeExports.jsx(fs.slots.headerFilterCell,_extends$5({colIndex:Fs,height:gs,width:Ds.computedWidth,colDef:Ds,hasFocus:js,tabIndex:Ns,headerFilterMenuRef:ps,headerClassName:Gs,filterOperators:Us,"data-field":Ds.field,item:Hs},(Ms=fs.slotProps)==null?void 0:Ms.headerFilterCell,Es),"".concat(Ds.field,"-filter")))}return jsxRuntimeExports.jsx(GridHeaderFilterRow,{ref:ds,ownerState:fs,className:hs.headerFilterRow,role:"row","aria-rowindex":ns+2,children:Rs})},Cs={minHeight:bs,maxHeight:bs,lineHeight:"".concat(gs,"px")};return _extends$5({},us,{getColumnFilters:Ss,getRootProps:ms?cs:($s={})=>_extends$5({style:Cs},$s)})},CLIFF=1,SLOP=1.5,useUtilityClasses$k=ts=>{const{scrollDirection:rs,classes:ns}=ts,os={root:["scrollArea","scrollArea--".concat(rs)]};return composeClasses(os,getDataGridUtilityClass,ns)},GridScrollAreaRawRoot=styled$2("div",{name:"MuiDataGrid",slot:"ScrollArea",overridesResolver:(ts,rs)=>[{["&.".concat(gridClasses["scrollArea--left"])]:rs["scrollArea--left"]},{["&.".concat(gridClasses["scrollArea--right"])]:rs["scrollArea--right"]},rs.scrollArea]})(()=>({position:"absolute",top:0,zIndex:101,width:20,bottom:0,["&.".concat(gridClasses["scrollArea--left"])]:{left:0},["&.".concat(gridClasses["scrollArea--right"])]:{right:0}}));function GridScrollAreaRaw(ts){const{scrollDirection:rs}=ts,ns=reactExports.useRef(null),os=useGridApiContext$1(),ss=useTimeout(),[as,ls]=reactExports.useState(!1),[cs,us]=reactExports.useState(!0),ds=useGridSelector(os,gridDensityFactorSelector),ps=useGridSelector(os,gridColumnsTotalWidthSelector),fs=reactExports.useRef({left:0,top:0}),hs=useGridRootProps(),ms=_extends$5({},hs,{scrollDirection:rs}),gs=useUtilityClasses$k(ms),vs=getTotalHeaderHeight(os,hs.columnHeaderHeight),bs=Math.floor(hs.columnHeaderHeight*ds),xs=reactExports.useCallback($s=>{fs.current=$s;const Es=os.current.getRootDimensions();us(()=>{if(rs==="left")return fs.current.left>0;if(rs==="right"){const ws=ps-Es.viewportInnerSize.width;return fs.current.left<ws}return!1})},[os,ps,rs]),ys=reactExports.useCallback($s=>{let Es;if($s.preventDefault(),rs==="left")Es=$s.clientX-ns.current.getBoundingClientRect().right;else if(rs==="right")Es=Math.max(1,$s.clientX-ns.current.getBoundingClientRect().left);else throw new Error("MUI: Wrong drag direction");Es=(Es-CLIFF)*SLOP+CLIFF,ss.start(0,()=>{os.current.scroll({left:fs.current.left+Es,top:fs.current.top})})},[rs,os,ss]),Ss=useEventCallback(()=>{ls(!0)}),Cs=useEventCallback(()=>{ls(!1)});return useGridApiEventHandler(os,"scrollPositionChange",xs),useGridApiEventHandler(os,"columnHeaderDragStart",Ss),useGridApiEventHandler(os,"columnHeaderDragEnd",Cs),!as||!cs?null:jsxRuntimeExports.jsx(GridScrollAreaRawRoot,{ref:ns,className:clsx$1(gs.root),ownerState:ms,onDragOver:ys,style:{height:bs,top:vs-bs}})}const GridScrollArea=reactExports.memo(GridScrollAreaRaw),_excluded$j=["style","className","innerRef","visibleColumns","sortColumnLookup","filterColumnLookup","columnPositions","columnHeaderTabIndexState","columnGroupHeaderTabIndexState","columnHeaderFocus","columnGroupHeaderFocus","densityFactor","headerGroupingMaxDepth","columnMenuState","columnVisibility","columnGroupsHeaderStructure","hasOtherElementInTabSequence","pinnedColumns"],useUtilityClasses$j=ts=>{const{leftPinnedColumns:rs,rightPinnedColumns:ns,classes:os}=ts,ss={leftPinnedColumns:["pinnedColumnHeaders",rs&&rs.length>0&&"pinnedColumnHeaders--left"],rightPinnedColumns:["pinnedColumnHeaders",ns&&ns.length>0&&"pinnedColumnHeaders--right","withBorderColor"]};return composeClasses(ss,getDataGridUtilityClass,os)},getOverlayAlpha=ts=>{let rs;return ts<1?rs=5.11916*ts**2:rs=4.5*Math.log(ts+1)+2,rs/100},GridColumnHeadersPinnedColumnHeaders=styled$4("div",{name:"MuiDataGrid",slot:"PinnedColumnHeaders",overridesResolver:(ts,rs)=>[{["&.".concat(gridClasses["pinnedColumnHeaders--left"])]:rs["pinnedColumnHeaders--left"]},{["&.".concat(gridClasses["pinnedColumnHeaders--right"])]:rs["pinnedColumnHeaders--right"]},rs.pinnedColumnHeaders]})(({theme:ts,ownerState:rs})=>{var ns;return _extends$5({position:"absolute",top:0,overflow:"hidden",zIndex:1,display:"flex",flexDirection:"column",boxShadow:ts.shadows[2],backgroundColor:(ts.vars||ts).palette.background.default},ts.vars?{backgroundImage:(ns=ts.vars.overlays)==null?void 0:ns[2]}:_extends$5({},ts.palette.mode==="dark"&&{backgroundImage:"linear-gradient(".concat(alpha("#fff",getOverlayAlpha(2)),", ").concat(alpha("#fff",getOverlayAlpha(2)),")")}),rs.side===GridPinnedPosition.left&&{left:0},rs.side===GridPinnedPosition.right&&{right:0},rs.side===GridPinnedPosition.right&&rs.showCellVerticalBorder&&{borderLeftWidth:"1px",borderLeftStyle:"solid"})});GridColumnHeadersPinnedColumnHeaders.propTypes={ownerState:PropTypes.object.isRequired};const GridColumnHeaders=reactExports.forwardRef(function(rs,ns){const{className:os,innerRef:ss,visibleColumns:as,sortColumnLookup:ls,filterColumnLookup:cs,columnPositions:us,columnHeaderTabIndexState:ds,columnGroupHeaderTabIndexState:ps,columnHeaderFocus:fs,columnGroupHeaderFocus:hs,densityFactor:ms,headerGroupingMaxDepth:gs,columnMenuState:vs,columnVisibility:bs,columnGroupsHeaderStructure:xs,hasOtherElementInTabSequence:ys,pinnedColumns:Ss}=rs,Cs=_objectWithoutPropertiesLoose$1(rs,_excluded$j),$s=useGridRootProps(),Es=useGridApiContext(),[ws,Ts]=reactExports.useState(0),Is=useTheme$1(),Rs=useEventCallback(()=>{const Ks=Es.current.getRootDimensions();if(!Ks)return;const Ws=Ks.hasScrollY?Ks.scrollBarSize:0;ws!==Ws&&Ts(Ws)});useGridApiEventHandler(Es,"virtualScrollerContentSizeChange",Rs);const As=reactExports.useMemo(()=>as.map(({field:Ks})=>Ks),[as]),[ks,Ms]=filterColumns(Ss,As,Is.direction==="rtl"),{isDragging:Os,renderContext:Ds,getRootProps:Fs,getInnerProps:js,getColumnHeaders:Ps,getColumnFilters:Ls,getColumnGroupHeaders:Ns}=useGridColumnHeaders({innerRef:ss,visibleColumns:as,sortColumnLookup:ls,filterColumnLookup:cs,columnPositions:us,columnHeaderTabIndexState:ds,hasOtherElementInTabSequence:ys,columnGroupHeaderTabIndexState:ps,columnHeaderFocus:fs,columnGroupHeaderFocus:hs,densityFactor:ms,headerGroupingMaxDepth:gs,columnMenuState:vs,columnVisibility:bs,columnGroupsHeaderStructure:xs,minColumnIndex:ks.length}),Gs=_extends$5({},$s,{leftPinnedColumns:ks,rightPinnedColumns:Ms,classes:$s.classes}),Us=useUtilityClasses$j(Gs),Hs=Ds&&ks.length?_extends$5({},Ds,{firstColumnIndex:0,lastColumnIndex:ks.length}):null,zs=Ds&&Ms.length?_extends$5({},Ds,{firstColumnIndex:As.length-Ms.length,lastColumnIndex:As.length}):null,qs=js(),Vs={role:qs.role};return jsxRuntimeExports.jsxs(GridBaseColumnHeaders,_extends$5({ref:ns,className:os},Fs(Cs),{children:[Hs&&jsxRuntimeExports.jsxs(GridColumnHeadersPinnedColumnHeaders,_extends$5({className:Us.leftPinnedColumns,ownerState:_extends$5({},Gs,{side:GridPinnedPosition.left,showCellVerticalBorder:$s.showCellVerticalBorder})},Vs,{children:[Ns({renderContext:Hs,minFirstColumn:Hs.firstColumnIndex,maxLastColumn:Hs.lastColumnIndex}),Ps({renderContext:Hs,minFirstColumn:Hs.firstColumnIndex,maxLastColumn:Hs.lastColumnIndex},{disableReorder:!0}),Ls({renderContext:Hs,minFirstColumn:Hs.firstColumnIndex,maxLastColumn:Hs.lastColumnIndex})]})),jsxRuntimeExports.jsx(GridScrollArea,{scrollDirection:"left"}),jsxRuntimeExports.jsxs(GridColumnHeadersInner,_extends$5({isDragging:Os},qs,{children:[Ns({renderContext:Ds,minFirstColumn:ks.length,maxLastColumn:As.length-Ms.length}),Ps({renderContext:Ds,minFirstColumn:ks.length,maxLastColumn:As.length-Ms.length}),Ls({renderContext:Ds,minFirstColumn:ks.length,maxLastColumn:As.length-Ms.length})]})),jsxRuntimeExports.jsx(GridScrollArea,{scrollDirection:"right"}),zs&&jsxRuntimeExports.jsxs(GridColumnHeadersPinnedColumnHeaders,_extends$5({ownerState:_extends$5({},Gs,{side:GridPinnedPosition.right,showCellVerticalBorder:$s.showCellVerticalBorder}),className:Us.rightPinnedColumns,style:{paddingRight:ws}},Vs,{children:[Ns({renderContext:zs,minFirstColumn:zs.firstColumnIndex,maxLastColumn:zs.lastColumnIndex}),Ps({renderContext:zs,minFirstColumn:zs.firstColumnIndex,maxLastColumn:zs.lastColumnIndex},{disableReorder:!0,separatorSide:GridColumnHeaderSeparatorSides.Left}),Ls({renderContext:zs,minFirstColumn:zs.firstColumnIndex,maxLastColumn:zs.lastColumnIndex})]}))]}))}),iconSlots={ColumnMenuPinRightIcon:GridPushPinRightIcon,ColumnMenuPinLeftIcon:GridPushPinLeftIcon},materialSlots=_extends$5({},iconSlots),materialSlots$1=materialSlots,DATA_GRID_PRO_DEFAULT_SLOTS_COMPONENTS=_extends$5({},DATA_GRID_DEFAULT_SLOTS_COMPONENTS,materialSlots$1,{ColumnMenu:GridProColumnMenu,ColumnHeaders:GridColumnHeaders,HeaderFilterCell:GridHeaderFilterCell,HeaderFilterMenu:GridHeaderFilterMenu}),DATA_GRID_PRO_PROPS_DEFAULT_VALUES=_extends$5({},DATA_GRID_PROPS_DEFAULT_VALUES,{scrollEndThreshold:80,treeData:!1,defaultGroupingExpansionDepth:0,autosizeOnMount:!1,disableAutosize:!1,disableColumnPinning:!1,keepColumnPositionIfDraggedOutside:!1,disableChildrenFiltering:!1,disableChildrenSorting:!1,rowReordering:!1,rowsLoadingMode:"client",getDetailPanelHeight:()=>500,unstable_headerFilters:!1}),defaultSlots=uncapitalizeObjectKeys(DATA_GRID_PRO_DEFAULT_SLOTS_COMPONENTS),useDataGridProProps=ts=>{const[rs,ns,os]=useProps(useThemeProps({props:ts,name:"MuiDataGrid"})),ss=reactExports.useMemo(()=>_extends$5({},GRID_DEFAULT_LOCALE_TEXT,os.localeText),[os.localeText]),as=reactExports.useMemo(()=>computeSlots({defaultSlots,slots:os.slots,components:rs}),[rs,os.slots]);return reactExports.useMemo(()=>{var ls;return _extends$5({},DATA_GRID_PRO_PROPS_DEFAULT_VALUES,os,{localeText:ss,slots:as,slotProps:(ls=os.slotProps)!=null?ls:ns,signature:"DataGridPro"})},[os,ss,as,ns])},getReleaseInfo=()=>"MTcyMTI1MzYwMDAwMA==",releaseInfo=getReleaseInfo(),DataGridProRaw=reactExports.forwardRef(function(rs,ns){const os=useDataGridProProps(rs),ss=useDataGridProComponent(os.apiRef,os);useLicenseVerifier("x-data-grid-pro",releaseInfo);const as=useGridSelector(ss,gridPinnedColumnsSelector);return jsxRuntimeExports.jsx(GridContextProvider,{privateApiRef:ss,props:os,children:jsxRuntimeExports.jsxs(GridRoot,_extends$5({className:os.className,style:os.style,sx:os.sx,ref:ns},os.forwardedProps,{children:[jsxRuntimeExports.jsx(GridHeader,{}),jsxRuntimeExports.jsx(GridBody,{VirtualScrollerComponent:DataGridProVirtualScroller,ColumnHeadersProps:{pinnedColumns:as},children:jsxRuntimeExports.jsx(Watermark,{packageName:"x-data-grid-pro",releaseInfo})}),jsxRuntimeExports.jsx(GridFooterPlaceholder,{})]}))})}),DataGridPro=reactExports.memo(DataGridProRaw);DataGridProRaw.propTypes={apiRef:PropTypes.shape({current:PropTypes.object.isRequired}),"aria-label":PropTypes.string,"aria-labelledby":PropTypes.string,autoHeight:PropTypes.bool,autoPageSize:PropTypes.bool,autosizeOnMount:PropTypes.bool,autosizeOptions:PropTypes.shape({columns:PropTypes.arrayOf(PropTypes.string),expand:PropTypes.bool,includeHeaders:PropTypes.bool,includeOutliers:PropTypes.bool,outliersFactor:PropTypes.number}),cellModesModel:PropTypes.object,checkboxSelection:PropTypes.bool,checkboxSelectionVisibleOnly:PropTypes.bool,classes:PropTypes.object,clipboardCopyCellDelimiter:PropTypes.string,columnBuffer:PropTypes.number,columnGroupingModel:PropTypes.arrayOf(PropTypes.object),columnHeaderHeight:PropTypes.number,columns:PropTypes.arrayOf(PropTypes.object).isRequired,columnThreshold:PropTypes.number,columnVisibilityModel:PropTypes.object,components:PropTypes.object,componentsProps:PropTypes.object,defaultGroupingExpansionDepth:PropTypes.number,density:PropTypes.oneOf(["comfortable","compact","standard"]),detailPanelExpandedRowIds:PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.number,PropTypes.string]).isRequired),disableAutosize:PropTypes.bool,disableChildrenFiltering:PropTypes.bool,disableChildrenSorting:PropTypes.bool,disableColumnFilter:PropTypes.bool,disableColumnMenu:PropTypes.bool,disableColumnPinning:PropTypes.bool,disableColumnReorder:PropTypes.bool,disableColumnResize:PropTypes.bool,disableColumnSelector:PropTypes.bool,disableDensitySelector:PropTypes.bool,disableEval:PropTypes.bool,disableMultipleColumnsFiltering:PropTypes.bool,disableMultipleColumnsSorting:PropTypes.bool,disableMultipleRowSelection:PropTypes.bool,disableRowSelectionOnClick:PropTypes.bool,disableVirtualization:PropTypes.bool,editMode:PropTypes.oneOf(["cell","row"]),experimentalFeatures:PropTypes.shape({ariaV7:PropTypes.bool,columnGrouping:PropTypes.bool,lazyLoading:PropTypes.bool,warnIfFocusStateIsNotSynced:PropTypes.bool}),filterDebounceMs:PropTypes.number,filterMode:PropTypes.oneOf(["client","server"]),filterModel:PropTypes.shape({items:PropTypes.arrayOf(PropTypes.shape({field:PropTypes.string.isRequired,id:PropTypes.oneOfType([PropTypes.number,PropTypes.string]),operator:PropTypes.string.isRequired,value:PropTypes.any})).isRequired,logicOperator:PropTypes.oneOf(["and","or"]),quickFilterExcludeHiddenColumns:PropTypes.bool,quickFilterLogicOperator:PropTypes.oneOf(["and","or"]),quickFilterValues:PropTypes.array}),forwardedProps:PropTypes.object,getCellClassName:PropTypes.func,getDetailPanelContent:PropTypes.func,getDetailPanelHeight:PropTypes.func,getEstimatedRowHeight:PropTypes.func,getRowClassName:PropTypes.func,getRowHeight:PropTypes.func,getRowId:PropTypes.func,getRowSpacing:PropTypes.func,getTreeDataPath:PropTypes.func,groupingColDef:PropTypes.oneOfType([PropTypes.func,PropTypes.object]),hideFooter:PropTypes.bool,hideFooterPagination:PropTypes.bool,hideFooterRowCount:PropTypes.bool,hideFooterSelectedRowCount:PropTypes.bool,ignoreDiacritics:PropTypes.bool,initialState:PropTypes.object,isCellEditable:PropTypes.func,isGroupExpandedByDefault:PropTypes.func,isRowSelectable:PropTypes.func,keepColumnPositionIfDraggedOutside:PropTypes.bool,keepNonExistentRowsSelected:PropTypes.bool,loading:PropTypes.bool,localeText:PropTypes.object,logger:PropTypes.shape({debug:PropTypes.func.isRequired,error:PropTypes.func.isRequired,info:PropTypes.func.isRequired,warn:PropTypes.func.isRequired}),logLevel:PropTypes.oneOf(["debug","error","info","warn",!1]),nonce:PropTypes.string,onCellClick:PropTypes.func,onCellDoubleClick:PropTypes.func,onCellEditStart:PropTypes.func,onCellEditStop:PropTypes.func,onCellKeyDown:PropTypes.func,onCellModesModelChange:PropTypes.func,onClipboardCopy:PropTypes.func,onColumnHeaderClick:PropTypes.func,onColumnHeaderDoubleClick:PropTypes.func,onColumnHeaderEnter:PropTypes.func,onColumnHeaderLeave:PropTypes.func,onColumnHeaderOut:PropTypes.func,onColumnHeaderOver:PropTypes.func,onColumnOrderChange:PropTypes.func,onColumnResize:PropTypes.func,onColumnVisibilityModelChange:PropTypes.func,onColumnWidthChange:PropTypes.func,onDetailPanelExpandedRowIdsChange:PropTypes.func,onFetchRows:PropTypes.func,onFilterModelChange:PropTypes.func,onMenuClose:PropTypes.func,onMenuOpen:PropTypes.func,onPaginationModelChange:PropTypes.func,onPinnedColumnsChange:PropTypes.func,onPreferencePanelClose:PropTypes.func,onPreferencePanelOpen:PropTypes.func,onProcessRowUpdateError:PropTypes.func,onResize:PropTypes.func,onRowClick:PropTypes.func,onRowCountChange:PropTypes.func,onRowDoubleClick:PropTypes.func,onRowEditStart:PropTypes.func,onRowEditStop:PropTypes.func,onRowModesModelChange:PropTypes.func,onRowOrderChange:PropTypes.func,onRowSelectionModelChange:PropTypes.func,onRowsScrollEnd:PropTypes.func,onSortModelChange:PropTypes.func,onStateChange:PropTypes.func,pageSizeOptions:PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.number,PropTypes.shape({label:PropTypes.string.isRequired,value:PropTypes.number.isRequired})]).isRequired),pagination:PropTypes.bool,paginationMode:PropTypes.oneOf(["client","server"]),paginationModel:PropTypes.shape({page:PropTypes.number.isRequired,pageSize:PropTypes.number.isRequired}),pinnedColumns:PropTypes.shape({left:PropTypes.arrayOf(PropTypes.string),right:PropTypes.arrayOf(PropTypes.string)}),pinnedRows:PropTypes.shape({bottom:PropTypes.arrayOf(PropTypes.object),top:PropTypes.arrayOf(PropTypes.object)}),processRowUpdate:PropTypes.func,rowBuffer:PropTypes.number,rowCount:PropTypes.number,rowHeight:PropTypes.number,rowModesModel:PropTypes.object,rowPositionsDebounceMs:PropTypes.number,rowReordering:PropTypes.bool,rows:PropTypes.arrayOf(PropTypes.object).isRequired,rowSelection:PropTypes.bool,rowSelectionModel:PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.number,PropTypes.string]).isRequired),PropTypes.number,PropTypes.string]),rowsLoadingMode:PropTypes.oneOf(["client","server"]),rowSpacingType:PropTypes.oneOf(["border","margin"]),rowThreshold:PropTypes.number,scrollbarSize:PropTypes.number,scrollEndThreshold:PropTypes.number,showCellVerticalBorder:PropTypes.bool,showColumnVerticalBorder:PropTypes.bool,slotProps:PropTypes.object,slots:PropTypes.object,sortingMode:PropTypes.oneOf(["client","server"]),sortingOrder:PropTypes.arrayOf(PropTypes.oneOf(["asc","desc"])),sortModel:PropTypes.arrayOf(PropTypes.shape({field:PropTypes.string.isRequired,sort:PropTypes.oneOf(["asc","desc"])})),sx:PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func,PropTypes.object,PropTypes.bool])),PropTypes.func,PropTypes.object]),throttleRowsMs:PropTypes.number,treeData:PropTypes.bool,unstable_headerFilters:PropTypes.bool,unstable_ignoreValueFormatterDuringExport:PropTypes.oneOfType([PropTypes.shape({clipboardExport:PropTypes.bool,csvExport:PropTypes.bool}),PropTypes.bool])};/**
 * @remix-run/router v1.18.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$3(){return _extends$3=Object.assign?Object.assign.bind():function(ts){for(var rs=1;rs<arguments.length;rs++){var ns=arguments[rs];for(var os in ns)Object.prototype.hasOwnProperty.call(ns,os)&&(ts[os]=ns[os])}return ts},_extends$3.apply(this,arguments)}var Action;(function(ts){ts.Pop="POP",ts.Push="PUSH",ts.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createBrowserHistory(ts){ts===void 0&&(ts={});function rs(os,ss){let{pathname:as,search:ls,hash:cs}=os.location;return createLocation("",{pathname:as,search:ls,hash:cs},ss.state&&ss.state.usr||null,ss.state&&ss.state.key||"default")}function ns(os,ss){return typeof ss=="string"?ss:createPath(ss)}return getUrlBasedHistory(rs,ns,null,ts)}function invariant(ts,rs){if(ts===!1||ts===null||typeof ts>"u")throw new Error(rs)}function warning(ts,rs){if(!ts){typeof console<"u"&&console.warn(rs);try{throw new Error(rs)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(ts,rs){return{usr:ts.state,key:ts.key,idx:rs}}function createLocation(ts,rs,ns,os){return ns===void 0&&(ns=null),_extends$3({pathname:typeof ts=="string"?ts:ts.pathname,search:"",hash:""},typeof rs=="string"?parsePath(rs):rs,{state:ns,key:rs&&rs.key||os||createKey()})}function createPath(ts){let{pathname:rs="/",search:ns="",hash:os=""}=ts;return ns&&ns!=="?"&&(rs+=ns.charAt(0)==="?"?ns:"?"+ns),os&&os!=="#"&&(rs+=os.charAt(0)==="#"?os:"#"+os),rs}function parsePath(ts){let rs={};if(ts){let ns=ts.indexOf("#");ns>=0&&(rs.hash=ts.substr(ns),ts=ts.substr(0,ns));let os=ts.indexOf("?");os>=0&&(rs.search=ts.substr(os),ts=ts.substr(0,os)),ts&&(rs.pathname=ts)}return rs}function getUrlBasedHistory(ts,rs,ns,os){os===void 0&&(os={});let{window:ss=document.defaultView,v5Compat:as=!1}=os,ls=ss.history,cs=Action.Pop,us=null,ds=ps();ds==null&&(ds=0,ls.replaceState(_extends$3({},ls.state,{idx:ds}),""));function ps(){return(ls.state||{idx:null}).idx}function fs(){cs=Action.Pop;let bs=ps(),xs=bs==null?null:bs-ds;ds=bs,us&&us({action:cs,location:vs.location,delta:xs})}function hs(bs,xs){cs=Action.Push;let ys=createLocation(vs.location,bs,xs);ns&&ns(ys,bs),ds=ps()+1;let Ss=getHistoryState(ys,ds),Cs=vs.createHref(ys);try{ls.pushState(Ss,"",Cs)}catch($s){if($s instanceof DOMException&&$s.name==="DataCloneError")throw $s;ss.location.assign(Cs)}as&&us&&us({action:cs,location:vs.location,delta:1})}function ms(bs,xs){cs=Action.Replace;let ys=createLocation(vs.location,bs,xs);ns&&ns(ys,bs),ds=ps();let Ss=getHistoryState(ys,ds),Cs=vs.createHref(ys);ls.replaceState(Ss,"",Cs),as&&us&&us({action:cs,location:vs.location,delta:0})}function gs(bs){let xs=ss.location.origin!=="null"?ss.location.origin:ss.location.href,ys=typeof bs=="string"?bs:createPath(bs);return ys=ys.replace(/ $/,"%20"),invariant(xs,"No window.location.(origin|href) available to create URL for href: "+ys),new URL(ys,xs)}let vs={get action(){return cs},get location(){return ts(ss,ls)},listen(bs){if(us)throw new Error("A history only accepts one active listener");return ss.addEventListener(PopStateEventType,fs),us=bs,()=>{ss.removeEventListener(PopStateEventType,fs),us=null}},createHref(bs){return rs(ss,bs)},createURL:gs,encodeLocation(bs){let xs=gs(bs);return{pathname:xs.pathname,search:xs.search,hash:xs.hash}},push:hs,replace:ms,go(bs){return ls.go(bs)}};return vs}var ResultType;(function(ts){ts.data="data",ts.deferred="deferred",ts.redirect="redirect",ts.error="error"})(ResultType||(ResultType={}));function matchRoutes(ts,rs,ns){return ns===void 0&&(ns="/"),matchRoutesImpl(ts,rs,ns,!1)}function matchRoutesImpl(ts,rs,ns,os){let ss=typeof rs=="string"?parsePath(rs):rs,as=stripBasename(ss.pathname||"/",ns);if(as==null)return null;let ls=flattenRoutes(ts);rankRouteBranches(ls);let cs=null;for(let us=0;cs==null&&us<ls.length;++us){let ds=decodePath(as);cs=matchRouteBranch(ls[us],ds,os)}return cs}function flattenRoutes(ts,rs,ns,os){rs===void 0&&(rs=[]),ns===void 0&&(ns=[]),os===void 0&&(os="");let ss=(as,ls,cs)=>{let us={relativePath:cs===void 0?as.path||"":cs,caseSensitive:as.caseSensitive===!0,childrenIndex:ls,route:as};us.relativePath.startsWith("/")&&(invariant(us.relativePath.startsWith(os),'Absolute route path "'+us.relativePath+'" nested under path '+('"'+os+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),us.relativePath=us.relativePath.slice(os.length));let ds=joinPaths([os,us.relativePath]),ps=ns.concat(us);as.children&&as.children.length>0&&(invariant(as.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+ds+'".')),flattenRoutes(as.children,rs,ps,ds)),!(as.path==null&&!as.index)&&rs.push({path:ds,score:computeScore(ds,as.index),routesMeta:ps})};return ts.forEach((as,ls)=>{var cs;if(as.path===""||!((cs=as.path)!=null&&cs.includes("?")))ss(as,ls);else for(let us of explodeOptionalSegments(as.path))ss(as,ls,us)}),rs}function explodeOptionalSegments(ts){let rs=ts.split("/");if(rs.length===0)return[];let[ns,...os]=rs,ss=ns.endsWith("?"),as=ns.replace(/\?$/,"");if(os.length===0)return ss?[as,""]:[as];let ls=explodeOptionalSegments(os.join("/")),cs=[];return cs.push(...ls.map(us=>us===""?as:[as,us].join("/"))),ss&&cs.push(...ls),cs.map(us=>ts.startsWith("/")&&us===""?"/":us)}function rankRouteBranches(ts){ts.sort((rs,ns)=>rs.score!==ns.score?ns.score-rs.score:compareIndexes(rs.routesMeta.map(os=>os.childrenIndex),ns.routesMeta.map(os=>os.childrenIndex)))}const paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=ts=>ts==="*";function computeScore(ts,rs){let ns=ts.split("/"),os=ns.length;return ns.some(isSplat)&&(os+=splatPenalty),rs&&(os+=indexRouteValue),ns.filter(ss=>!isSplat(ss)).reduce((ss,as)=>ss+(paramRe.test(as)?dynamicSegmentValue:as===""?emptySegmentValue:staticSegmentValue),os)}function compareIndexes(ts,rs){return ts.length===rs.length&&ts.slice(0,-1).every((os,ss)=>os===rs[ss])?ts[ts.length-1]-rs[rs.length-1]:0}function matchRouteBranch(ts,rs,ns){ns===void 0&&(ns=!1);let{routesMeta:os}=ts,ss={},as="/",ls=[];for(let cs=0;cs<os.length;++cs){let us=os[cs],ds=cs===os.length-1,ps=as==="/"?rs:rs.slice(as.length)||"/",fs=matchPath({path:us.relativePath,caseSensitive:us.caseSensitive,end:ds},ps),hs=us.route;if(!fs&&ds&&ns&&!os[os.length-1].route.index&&(fs=matchPath({path:us.relativePath,caseSensitive:us.caseSensitive,end:!1},ps)),!fs)return null;Object.assign(ss,fs.params),ls.push({params:ss,pathname:joinPaths([as,fs.pathname]),pathnameBase:normalizePathname(joinPaths([as,fs.pathnameBase])),route:hs}),fs.pathnameBase!=="/"&&(as=joinPaths([as,fs.pathnameBase]))}return ls}function matchPath(ts,rs){typeof ts=="string"&&(ts={path:ts,caseSensitive:!1,end:!0});let[ns,os]=compilePath(ts.path,ts.caseSensitive,ts.end),ss=rs.match(ns);if(!ss)return null;let as=ss[0],ls=as.replace(/(.)\/+$/,"$1"),cs=ss.slice(1);return{params:os.reduce((ds,ps,fs)=>{let{paramName:hs,isOptional:ms}=ps;if(hs==="*"){let vs=cs[fs]||"";ls=as.slice(0,as.length-vs.length).replace(/(.)\/+$/,"$1")}const gs=cs[fs];return ms&&!gs?ds[hs]=void 0:ds[hs]=(gs||"").replace(/%2F/g,"/"),ds},{}),pathname:as,pathnameBase:ls,pattern:ts}}function compilePath(ts,rs,ns){rs===void 0&&(rs=!1),ns===void 0&&(ns=!0),warning(ts==="*"||!ts.endsWith("*")||ts.endsWith("/*"),'Route path "'+ts+'" will be treated as if it were '+('"'+ts.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+ts.replace(/\*$/,"/*")+'".'));let os=[],ss="^"+ts.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(ls,cs,us)=>(os.push({paramName:cs,isOptional:us!=null}),us?"/?([^\\/]+)?":"/([^\\/]+)"));return ts.endsWith("*")?(os.push({paramName:"*"}),ss+=ts==="*"||ts==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):ns?ss+="\\/*$":ts!==""&&ts!=="/"&&(ss+="(?:(?=\\/|$))"),[new RegExp(ss,rs?void 0:"i"),os]}function decodePath(ts){try{return ts.split("/").map(rs=>decodeURIComponent(rs).replace(/\//g,"%2F")).join("/")}catch(rs){return warning(!1,'The URL path "'+ts+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+rs+").")),ts}}function stripBasename(ts,rs){if(rs==="/")return ts;if(!ts.toLowerCase().startsWith(rs.toLowerCase()))return null;let ns=rs.endsWith("/")?rs.length-1:rs.length,os=ts.charAt(ns);return os&&os!=="/"?null:ts.slice(ns)||"/"}function resolvePath(ts,rs){rs===void 0&&(rs="/");let{pathname:ns,search:os="",hash:ss=""}=typeof ts=="string"?parsePath(ts):ts;return{pathname:ns?ns.startsWith("/")?ns:resolvePathname(ns,rs):rs,search:normalizeSearch(os),hash:normalizeHash(ss)}}function resolvePathname(ts,rs){let ns=rs.replace(/\/+$/,"").split("/");return ts.split("/").forEach(ss=>{ss===".."?ns.length>1&&ns.pop():ss!=="."&&ns.push(ss)}),ns.length>1?ns.join("/"):"/"}function getInvalidPathError(ts,rs,ns,os){return"Cannot include a '"+ts+"' character in a manually specified "+("`to."+rs+"` field ["+JSON.stringify(os)+"].  Please separate it out to the ")+("`to."+ns+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(ts){return ts.filter((rs,ns)=>ns===0||rs.route.path&&rs.route.path.length>0)}function getResolveToMatches(ts,rs){let ns=getPathContributingMatches(ts);return rs?ns.map((os,ss)=>ss===ns.length-1?os.pathname:os.pathnameBase):ns.map(os=>os.pathnameBase)}function resolveTo(ts,rs,ns,os){os===void 0&&(os=!1);let ss;typeof ts=="string"?ss=parsePath(ts):(ss=_extends$3({},ts),invariant(!ss.pathname||!ss.pathname.includes("?"),getInvalidPathError("?","pathname","search",ss)),invariant(!ss.pathname||!ss.pathname.includes("#"),getInvalidPathError("#","pathname","hash",ss)),invariant(!ss.search||!ss.search.includes("#"),getInvalidPathError("#","search","hash",ss)));let as=ts===""||ss.pathname==="",ls=as?"/":ss.pathname,cs;if(ls==null)cs=ns;else{let fs=rs.length-1;if(!os&&ls.startsWith("..")){let hs=ls.split("/");for(;hs[0]==="..";)hs.shift(),fs-=1;ss.pathname=hs.join("/")}cs=fs>=0?rs[fs]:"/"}let us=resolvePath(ss,cs),ds=ls&&ls!=="/"&&ls.endsWith("/"),ps=(as||ls===".")&&ns.endsWith("/");return!us.pathname.endsWith("/")&&(ds||ps)&&(us.pathname+="/"),us}const joinPaths=ts=>ts.join("/").replace(/\/\/+/g,"/"),normalizePathname=ts=>ts.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=ts=>!ts||ts==="?"?"":ts.startsWith("?")?ts:"?"+ts,normalizeHash=ts=>!ts||ts==="#"?"":ts.startsWith("#")?ts:"#"+ts,redirect=function(rs,ns){ns===void 0&&(ns=302);let os=ns;typeof os=="number"?os={status:os}:typeof os.status>"u"&&(os.status=302);let ss=new Headers(os.headers);return ss.set("Location",rs),new Response(null,_extends$3({},os,{headers:ss}))};function isRouteErrorResponse(ts){return ts!=null&&typeof ts.status=="number"&&typeof ts.statusText=="string"&&typeof ts.internal=="boolean"&&"data"in ts}const validMutationMethodsArr=["post","put","patch","delete"];new Set(validMutationMethodsArr);const validRequestMethodsArr=["get",...validMutationMethodsArr];new Set(validRequestMethodsArr);/**
 * React Router v6.25.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(ts){for(var rs=1;rs<arguments.length;rs++){var ns=arguments[rs];for(var os in ns)Object.prototype.hasOwnProperty.call(ns,os)&&(ts[os]=ns[os])}return ts},_extends$2.apply(this,arguments)}const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1}),RouteErrorContext=reactExports.createContext(null);function useHref(ts,rs){let{relative:ns}=rs===void 0?{}:rs;useInRouterContext()||invariant(!1);let{basename:os,navigator:ss}=reactExports.useContext(NavigationContext),{hash:as,pathname:ls,search:cs}=useResolvedPath(ts,{relative:ns}),us=ls;return os!=="/"&&(us=ls==="/"?os:joinPaths([os,ls])),ss.createHref({pathname:us,search:cs,hash:as})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant(!1),reactExports.useContext(LocationContext).location}function useMatch(ts){useInRouterContext()||invariant(!1);let{pathname:rs}=useLocation();return reactExports.useMemo(()=>matchPath(ts,decodePath(rs)),[rs,ts])}function useIsomorphicLayoutEffect$1(ts){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(ts)}function useNavigate(){let{isDataRoute:ts}=reactExports.useContext(RouteContext);return ts?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){useInRouterContext()||invariant(!1);let ts=reactExports.useContext(DataRouterContext),{basename:rs,future:ns,navigator:os}=reactExports.useContext(NavigationContext),{matches:ss}=reactExports.useContext(RouteContext),{pathname:as}=useLocation(),ls=JSON.stringify(getResolveToMatches(ss,ns.v7_relativeSplatPath)),cs=reactExports.useRef(!1);return useIsomorphicLayoutEffect$1(()=>{cs.current=!0}),reactExports.useCallback(function(ds,ps){if(ps===void 0&&(ps={}),!cs.current)return;if(typeof ds=="number"){os.go(ds);return}let fs=resolveTo(ds,JSON.parse(ls),as,ps.relative==="path");ts==null&&rs!=="/"&&(fs.pathname=fs.pathname==="/"?rs:joinPaths([rs,fs.pathname])),(ps.replace?os.replace:os.push)(fs,ps.state,ps)},[rs,os,ls,as,ts])}const OutletContext=reactExports.createContext(null);function useOutlet(ts){let rs=reactExports.useContext(RouteContext).outlet;return rs&&reactExports.createElement(OutletContext.Provider,{value:ts},rs)}function useParams(){let{matches:ts}=reactExports.useContext(RouteContext),rs=ts[ts.length-1];return rs?rs.params:{}}function useResolvedPath(ts,rs){let{relative:ns}=rs===void 0?{}:rs,{future:os}=reactExports.useContext(NavigationContext),{matches:ss}=reactExports.useContext(RouteContext),{pathname:as}=useLocation(),ls=JSON.stringify(getResolveToMatches(ss,os.v7_relativeSplatPath));return reactExports.useMemo(()=>resolveTo(ts,JSON.parse(ls),as,ns==="path"),[ts,ls,as,ns])}function useRoutes(ts,rs){return useRoutesImpl(ts,rs)}function useRoutesImpl(ts,rs,ns,os){useInRouterContext()||invariant(!1);let{navigator:ss}=reactExports.useContext(NavigationContext),{matches:as}=reactExports.useContext(RouteContext),ls=as[as.length-1],cs=ls?ls.params:{};ls&&ls.pathname;let us=ls?ls.pathnameBase:"/";ls&&ls.route;let ds=useLocation(),ps;if(rs){var fs;let bs=typeof rs=="string"?parsePath(rs):rs;us==="/"||(fs=bs.pathname)!=null&&fs.startsWith(us)||invariant(!1),ps=bs}else ps=ds;let hs=ps.pathname||"/",ms=hs;if(us!=="/"){let bs=us.replace(/^\//,"").split("/");ms="/"+hs.replace(/^\//,"").split("/").slice(bs.length).join("/")}let gs=matchRoutes(ts,{pathname:ms}),vs=_renderMatches(gs&&gs.map(bs=>Object.assign({},bs,{params:Object.assign({},cs,bs.params),pathname:joinPaths([us,ss.encodeLocation?ss.encodeLocation(bs.pathname).pathname:bs.pathname]),pathnameBase:bs.pathnameBase==="/"?us:joinPaths([us,ss.encodeLocation?ss.encodeLocation(bs.pathnameBase).pathname:bs.pathnameBase])})),as,ns,os);return rs&&vs?reactExports.createElement(LocationContext.Provider,{value:{location:_extends$2({pathname:"/",search:"",hash:"",state:null,key:"default"},ps),navigationType:Action.Pop}},vs):vs}function DefaultErrorComponent(){let ts=useRouteError(),rs=isRouteErrorResponse(ts)?ts.status+" "+ts.statusText:ts instanceof Error?ts.message:JSON.stringify(ts),ns=ts instanceof Error?ts.stack:null,ss={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},as=null;return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},rs),ns?reactExports.createElement("pre",{style:ss},ns):null,as)}const defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends reactExports.Component{constructor(rs){super(rs),this.state={location:rs.location,revalidation:rs.revalidation,error:rs.error}}static getDerivedStateFromError(rs){return{error:rs}}static getDerivedStateFromProps(rs,ns){return ns.location!==rs.location||ns.revalidation!=="idle"&&rs.revalidation==="idle"?{error:rs.error,location:rs.location,revalidation:rs.revalidation}:{error:rs.error!==void 0?rs.error:ns.error,location:ns.location,revalidation:rs.revalidation||ns.revalidation}}componentDidCatch(rs,ns){console.error("React Router caught the following error during render",rs,ns)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(ts){let{routeContext:rs,match:ns,children:os}=ts,ss=reactExports.useContext(DataRouterContext);return ss&&ss.static&&ss.staticContext&&(ns.route.errorElement||ns.route.ErrorBoundary)&&(ss.staticContext._deepestRenderedBoundaryId=ns.route.id),reactExports.createElement(RouteContext.Provider,{value:rs},os)}function _renderMatches(ts,rs,ns,os){var ss;if(rs===void 0&&(rs=[]),ns===void 0&&(ns=null),os===void 0&&(os=null),ts==null){var as;if((as=ns)!=null&&as.errors)ts=ns.matches;else return null}let ls=ts,cs=(ss=ns)==null?void 0:ss.errors;if(cs!=null){let ps=ls.findIndex(fs=>fs.route.id&&(cs==null?void 0:cs[fs.route.id])!==void 0);ps>=0||invariant(!1),ls=ls.slice(0,Math.min(ls.length,ps+1))}let us=!1,ds=-1;if(ns&&os&&os.v7_partialHydration)for(let ps=0;ps<ls.length;ps++){let fs=ls[ps];if((fs.route.HydrateFallback||fs.route.hydrateFallbackElement)&&(ds=ps),fs.route.id){let{loaderData:hs,errors:ms}=ns,gs=fs.route.loader&&hs[fs.route.id]===void 0&&(!ms||ms[fs.route.id]===void 0);if(fs.route.lazy||gs){us=!0,ds>=0?ls=ls.slice(0,ds+1):ls=[ls[0]];break}}}return ls.reduceRight((ps,fs,hs)=>{let ms,gs=!1,vs=null,bs=null;ns&&(ms=cs&&fs.route.id?cs[fs.route.id]:void 0,vs=fs.route.errorElement||defaultErrorElement,us&&(ds<0&&hs===0?(warningOnce("route-fallback",!1),gs=!0,bs=null):ds===hs&&(gs=!0,bs=fs.route.hydrateFallbackElement||null)));let xs=rs.concat(ls.slice(0,hs+1)),ys=()=>{let Ss;return ms?Ss=vs:gs?Ss=bs:fs.route.Component?Ss=reactExports.createElement(fs.route.Component,null):fs.route.element?Ss=fs.route.element:Ss=ps,reactExports.createElement(RenderedRoute,{match:fs,routeContext:{outlet:ps,matches:xs,isDataRoute:ns!=null},children:Ss})};return ns&&(fs.route.ErrorBoundary||fs.route.errorElement||hs===0)?reactExports.createElement(RenderErrorBoundary,{location:ns.location,revalidation:ns.revalidation,component:vs,error:ms,children:ys(),routeContext:{outlet:null,matches:xs,isDataRoute:!0}}):ys()},null)}var DataRouterHook$1=function(ts){return ts.UseBlocker="useBlocker",ts.UseRevalidator="useRevalidator",ts.UseNavigateStable="useNavigate",ts}(DataRouterHook$1||{}),DataRouterStateHook$1=function(ts){return ts.UseBlocker="useBlocker",ts.UseLoaderData="useLoaderData",ts.UseActionData="useActionData",ts.UseRouteError="useRouteError",ts.UseNavigation="useNavigation",ts.UseRouteLoaderData="useRouteLoaderData",ts.UseMatches="useMatches",ts.UseRevalidator="useRevalidator",ts.UseNavigateStable="useNavigate",ts.UseRouteId="useRouteId",ts}(DataRouterStateHook$1||{});function useDataRouterContext(ts){let rs=reactExports.useContext(DataRouterContext);return rs||invariant(!1),rs}function useDataRouterState(ts){let rs=reactExports.useContext(DataRouterStateContext);return rs||invariant(!1),rs}function useRouteContext(ts){let rs=reactExports.useContext(RouteContext);return rs||invariant(!1),rs}function useCurrentRouteId(ts){let rs=useRouteContext(),ns=rs.matches[rs.matches.length-1];return ns.route.id||invariant(!1),ns.route.id}function useRouteError(){var ts;let rs=reactExports.useContext(RouteErrorContext),ns=useDataRouterState(DataRouterStateHook$1.UseRouteError),os=useCurrentRouteId(DataRouterStateHook$1.UseRouteError);return rs!==void 0?rs:(ts=ns.errors)==null?void 0:ts[os]}function useNavigateStable(){let{router:ts}=useDataRouterContext(DataRouterHook$1.UseNavigateStable),rs=useCurrentRouteId(DataRouterStateHook$1.UseNavigateStable),ns=reactExports.useRef(!1);return useIsomorphicLayoutEffect$1(()=>{ns.current=!0}),reactExports.useCallback(function(ss,as){as===void 0&&(as={}),ns.current&&(typeof ss=="number"?ts.navigate(ss):ts.navigate(ss,_extends$2({fromRouteId:rs},as)))},[ts,rs])}const alreadyWarned={};function warningOnce(ts,rs,ns){!rs&&!alreadyWarned[ts]&&(alreadyWarned[ts]=!0)}function Navigate(ts){let{to:rs,replace:ns,state:os,relative:ss}=ts;useInRouterContext()||invariant(!1);let{future:as,static:ls}=reactExports.useContext(NavigationContext),{matches:cs}=reactExports.useContext(RouteContext),{pathname:us}=useLocation(),ds=useNavigate(),ps=resolveTo(rs,getResolveToMatches(cs,as.v7_relativeSplatPath),us,ss==="path"),fs=JSON.stringify(ps);return reactExports.useEffect(()=>ds(JSON.parse(fs),{replace:ns,state:os,relative:ss}),[ds,fs,ss,ns,os]),null}function Outlet(ts){return useOutlet(ts.context)}function Route(ts){invariant(!1)}function Router(ts){let{basename:rs="/",children:ns=null,location:os,navigationType:ss=Action.Pop,navigator:as,static:ls=!1,future:cs}=ts;useInRouterContext()&&invariant(!1);let us=rs.replace(/^\/*/,"/"),ds=reactExports.useMemo(()=>({basename:us,navigator:as,static:ls,future:_extends$2({v7_relativeSplatPath:!1},cs)}),[us,cs,as,ls]);typeof os=="string"&&(os=parsePath(os));let{pathname:ps="/",search:fs="",hash:hs="",state:ms=null,key:gs="default"}=os,vs=reactExports.useMemo(()=>{let bs=stripBasename(ps,us);return bs==null?null:{location:{pathname:bs,search:fs,hash:hs,state:ms,key:gs},navigationType:ss}},[us,ps,fs,hs,ms,gs,ss]);return vs==null?null:reactExports.createElement(NavigationContext.Provider,{value:ds},reactExports.createElement(LocationContext.Provider,{children:ns,value:vs}))}function Routes(ts){let{children:rs,location:ns}=ts;return useRoutes(createRoutesFromChildren(rs),ns)}new Promise(()=>{});function createRoutesFromChildren(ts,rs){rs===void 0&&(rs=[]);let ns=[];return reactExports.Children.forEach(ts,(os,ss)=>{if(!reactExports.isValidElement(os))return;let as=[...rs,ss];if(os.type===reactExports.Fragment){ns.push.apply(ns,createRoutesFromChildren(os.props.children,as));return}os.type!==Route&&invariant(!1),!os.props.index||!os.props.children||invariant(!1);let ls={id:os.props.id||as.join("-"),caseSensitive:os.props.caseSensitive,element:os.props.element,Component:os.props.Component,index:os.props.index,path:os.props.path,loader:os.props.loader,action:os.props.action,errorElement:os.props.errorElement,ErrorBoundary:os.props.ErrorBoundary,hasErrorBoundary:os.props.ErrorBoundary!=null||os.props.errorElement!=null,shouldRevalidate:os.props.shouldRevalidate,handle:os.props.handle,lazy:os.props.lazy};os.props.children&&(ls.children=createRoutesFromChildren(os.props.children,as)),ns.push(ls)}),ns}/**
 * React Router DOM v6.25.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(ts){for(var rs=1;rs<arguments.length;rs++){var ns=arguments[rs];for(var os in ns)Object.prototype.hasOwnProperty.call(ns,os)&&(ts[os]=ns[os])}return ts},_extends$1.apply(this,arguments)}function _objectWithoutPropertiesLoose(ts,rs){if(ts==null)return{};var ns={},os=Object.keys(ts),ss,as;for(as=0;as<os.length;as++)ss=os[as],!(rs.indexOf(ss)>=0)&&(ns[ss]=ts[ss]);return ns}function isModifiedEvent(ts){return!!(ts.metaKey||ts.altKey||ts.ctrlKey||ts.shiftKey)}function shouldProcessLinkClick(ts,rs){return ts.button===0&&(!rs||rs==="_self")&&!isModifiedEvent(ts)}function createSearchParams(ts){return ts===void 0&&(ts=""),new URLSearchParams(typeof ts=="string"||Array.isArray(ts)||ts instanceof URLSearchParams?ts:Object.keys(ts).reduce((rs,ns)=>{let os=ts[ns];return rs.concat(Array.isArray(os)?os.map(ss=>[ns,ss]):[[ns,os]])},[]))}function getSearchParamsForLocation(ts,rs){let ns=createSearchParams(ts);return rs&&rs.forEach((os,ss)=>{ns.has(ss)||rs.getAll(ss).forEach(as=>{ns.append(ss,as)})}),ns}const _excluded$i=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],REACT_ROUTER_VERSION="6";try{window.__reactRouterVersion=REACT_ROUTER_VERSION}catch{}const START_TRANSITION="startTransition",startTransitionImpl=React$3[START_TRANSITION];function BrowserRouter(ts){let{basename:rs,children:ns,future:os,window:ss}=ts,as=reactExports.useRef();as.current==null&&(as.current=createBrowserHistory({window:ss,v5Compat:!0}));let ls=as.current,[cs,us]=reactExports.useState({action:ls.action,location:ls.location}),{v7_startTransition:ds}=os||{},ps=reactExports.useCallback(fs=>{ds&&startTransitionImpl?startTransitionImpl(()=>us(fs)):us(fs)},[us,ds]);return reactExports.useLayoutEffect(()=>ls.listen(ps),[ls,ps]),reactExports.createElement(Router,{basename:rs,children:ns,location:cs.location,navigationType:cs.action,navigator:ls,future:os})}const isBrowser$1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ABSOLUTE_URL_REGEX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link=reactExports.forwardRef(function(rs,ns){let{onClick:os,relative:ss,reloadDocument:as,replace:ls,state:cs,target:us,to:ds,preventScrollReset:ps,unstable_viewTransition:fs}=rs,hs=_objectWithoutPropertiesLoose(rs,_excluded$i),{basename:ms}=reactExports.useContext(NavigationContext),gs,vs=!1;if(typeof ds=="string"&&ABSOLUTE_URL_REGEX.test(ds)&&(gs=ds,isBrowser$1))try{let Ss=new URL(window.location.href),Cs=ds.startsWith("//")?new URL(Ss.protocol+ds):new URL(ds),$s=stripBasename(Cs.pathname,ms);Cs.origin===Ss.origin&&$s!=null?ds=$s+Cs.search+Cs.hash:vs=!0}catch{}let bs=useHref(ds,{relative:ss}),xs=useLinkClickHandler(ds,{replace:ls,state:cs,target:us,preventScrollReset:ps,relative:ss,unstable_viewTransition:fs});function ys(Ss){os&&os(Ss),Ss.defaultPrevented||xs(Ss)}return reactExports.createElement("a",_extends$1({},hs,{href:gs||bs,onClick:vs||as?os:ys,ref:ns,target:us}))});var DataRouterHook;(function(ts){ts.UseScrollRestoration="useScrollRestoration",ts.UseSubmit="useSubmit",ts.UseSubmitFetcher="useSubmitFetcher",ts.UseFetcher="useFetcher",ts.useViewTransitionState="useViewTransitionState"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(ts){ts.UseFetcher="useFetcher",ts.UseFetchers="useFetchers",ts.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));function useLinkClickHandler(ts,rs){let{target:ns,replace:os,state:ss,preventScrollReset:as,relative:ls,unstable_viewTransition:cs}=rs===void 0?{}:rs,us=useNavigate(),ds=useLocation(),ps=useResolvedPath(ts,{relative:ls});return reactExports.useCallback(fs=>{if(shouldProcessLinkClick(fs,ns)){fs.preventDefault();let hs=os!==void 0?os:createPath(ds)===createPath(ps);us(ts,{replace:hs,state:ss,preventScrollReset:as,relative:ls,unstable_viewTransition:cs})}},[ds,us,ps,os,ss,ns,ts,as,ls,cs])}function useSearchParams(ts){let rs=reactExports.useRef(createSearchParams(ts)),ns=reactExports.useRef(!1),os=useLocation(),ss=reactExports.useMemo(()=>getSearchParamsForLocation(os.search,ns.current?null:rs.current),[os.search]),as=useNavigate(),ls=reactExports.useCallback((cs,us)=>{const ds=createSearchParams(typeof cs=="function"?cs(ss):cs);ns.current=!0,as("?"+ds,us)},[as,ss]);return[ss,ls]}const palette={background:{default:"#F9FAFB",paper:"#FFFFFF"},primary:{main:"#2169F5",light:"#2169F5",dark:"##0A2143",contrast:"#FFFFFF"},secondary:{main:"#FFCD75",light:"#0000009A",dark:"#377DCE",contrast:"#FFFFFF"},error:{main:"#D32F2F",light:"#EF5350",dark:"#C62828",contrast:"#FFFFFF"},warning:{main:"#FB8C00",light:"#FF9800",dark:"#E65100",contrast:"#FFFFFF"},info:{main:"#0288D1",light:"#03A9F4",dark:"#01579B",contrast:"#FFFFFF"},success:{main:"#2E7D32",light:"#4CAF50",dark:"#1B5E20",contrast:"#FFFFFF"}},otherColors={appbarContrast:"#FFCD75",headerBackground:"#15376a",blackTransparent:"rgba(0, 0, 0, 0.5)",disabled:"rgba(0,0,0,0.38)",tableRow:"rgba(0,0,0,0.87)",consentBorder:"rgba(77, 21, 183, 0.5)",ratingActive:"#FFB400",focusRingColor:"#005FCC",dottedLine:"#BFC2C6",solidLine:"#DFE5E9",orange700:"#F57C00",orange800:"#EF6C00",orange100:"#FFE0B2",locationGeneralBlue:"#CFF5FF",insuranceChip:"#43A047",consentChip:"#1E88E5",cardChip:"#7CB342",idChip:"#00ACC1",badgeDot:"#FB8C00",closeCross:"#773602CC",apptHover:"#F4F6F8",infoIcon:"#0288D1",infoText:"linear-gradient(0deg, rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)), linear-gradient(0deg, #0288D1, #0288D1)",infoBackground:"linear-gradient(0deg, rgba(255, 255, 255, 0.9), rgba(255, 255, 255, 0.9)), linear-gradient(0deg, #0288D1, #0288D1)",warningIcon:"#ED6C02",warningText:"#5F2B00",warningBackground:"linear-gradient(0deg, rgba(255, 255, 255, 0.9), rgba(255, 255, 255, 0.9)), linear-gradient(0deg, #ED6C02, #ED6C02)",noteText:"#00000099",none:"#00000061",dialogNote:"#FCD29973",selectMenuHover:"#F8F6FC",priorityHighText:"#E53935",priorityHighIcon:"#F44336",endCallButton:"#EB5757",lightIconButton:"#EDE8FF",formCardBg:"#F7F8F9",employeeActiveChip:"#C8E6C9",employeeDeactivatedChip:"#FECDD2",employeeActiveText:"#1B5E20",employeeDeactivatedText:"#B71C1C",employeeBeenSeenChip:"#D1C4E9",employeeBeenSeenText:"#311B92"},textFonts=["Rubik","sans-serif"],headerFonts=["Rubik","sans-serif"],typography$1={fontFamily:textFonts.join(","),fontWeightMedium:500,h1:{fontSize:42,fontWeight:"500 !important",fontFamily:headerFonts.join(","),lineHeight:"140%"},h2:{fontSize:36,fontWeight:"500 !important",fontFamily:headerFonts.join(","),lineHeight:"140%"},h3:{fontSize:32,fontWeight:"500 !important",fontFamily:headerFonts.join(","),lineHeight:"140%"},h4:{fontSize:24,fontWeight:"500 !important",fontFamily:headerFonts.join(","),lineHeight:"140%"},h5:{fontSize:18,fontWeight:"500 !important",fontFamily:headerFonts.join(","),lineHeight:"140%"},h6:{fontSize:16,fontWeight:"500 !important",fontFamily:headerFonts.join(","),lineHeight:"140%"},subtitle1:{fontSize:20,fontWeight:700,fontFamily:textFonts.join(","),lineHeight:"140%"},subtitle2:{fontSize:12,fontWeight:700,fontFamily:textFonts.join(","),lineHeight:"140%"},body1:{fontSize:16,fontWeight:400,fontFamily:textFonts.join(","),lineHeight:"140%"},body2:{fontSize:14,fontWeight:400,fontFamily:textFonts.join(","),lineHeight:"140%"},caption:{fontSize:12,fontWeight:400,fontFamily:textFonts.join(","),lineHeight:"140%"},overline:{fontSize:12,fontWeight:400,fontFamily:textFonts.join(","),lineHeight:"140%"}},theme$1=createTheme({palette,typography:typography$1}),CustomThemeProvider=({children:ts})=>jsxRuntimeExports.jsx(ThemeProvider,{theme:theme$1,children:ts}),LoadingScreen=()=>jsxRuntimeExports.jsx(Box$1,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%,-50%)"},children:jsxRuntimeExports.jsx(CircularProgress$1,{})}),AccountCircle=createSvgIcon$1(jsxRuntimeExports.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6m0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20"}),"AccountCircle"),Add$1=createSvgIcon$1(jsxRuntimeExports.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add"),Assessment=createSvgIcon$1(jsxRuntimeExports.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2M9 17H7v-7h2zm4 0h-2V7h2zm4 0h-2v-4h2z"}),"Assessment"),Close$1=createSvgIcon$1(jsxRuntimeExports.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),ErrorIcon=createSvgIcon$1(jsxRuntimeExports.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-2h2zm0-4h-2V7h2z"}),"Error"),Favorite=createSvgIcon$1(jsxRuntimeExports.jsx("path",{d:"m12 21.35-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54z"}),"Favorite"),KeyboardArrowDown=createSvgIcon$1(jsxRuntimeExports.jsx("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6z"}),"KeyboardArrowDown"),KeyboardDoubleArrowRight=createSvgIcon$1([jsxRuntimeExports.jsx("path",{d:"M6.41 6 5 7.41 9.58 12 5 16.59 6.41 18l6-6z"},"0"),jsxRuntimeExports.jsx("path",{d:"m13 6-1.41 1.41L16.17 12l-4.58 4.59L13 18l6-6z"},"1")],"KeyboardDoubleArrowRight"),Refresh=createSvgIcon$1(jsxRuntimeExports.jsx("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4z"}),"Refresh"),Search$2=createSvgIcon$1(jsxRuntimeExports.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search"),logo="/assets/logo-4x-ca0c028a.png";class LuxonError extends Error{}class InvalidDateTimeError extends LuxonError{constructor(rs){super("Invalid DateTime: ".concat(rs.toMessage()))}}class InvalidIntervalError extends LuxonError{constructor(rs){super("Invalid Interval: ".concat(rs.toMessage()))}}class InvalidDurationError extends LuxonError{constructor(rs){super("Invalid Duration: ".concat(rs.toMessage()))}}class ConflictingSpecificationError extends LuxonError{}class InvalidUnitError extends LuxonError{constructor(rs){super("Invalid unit ".concat(rs))}}class InvalidArgumentError extends LuxonError{}class ZoneIsAbstractError extends LuxonError{constructor(){super("Zone is an abstract class")}}const n$3="numeric",s$1="short",l$2="long",DATE_SHORT={year:n$3,month:n$3,day:n$3},DATE_MED={year:n$3,month:s$1,day:n$3},DATE_MED_WITH_WEEKDAY={year:n$3,month:s$1,day:n$3,weekday:s$1},DATE_FULL={year:n$3,month:l$2,day:n$3},DATE_HUGE={year:n$3,month:l$2,day:n$3,weekday:l$2},TIME_SIMPLE={hour:n$3,minute:n$3},TIME_WITH_SECONDS={hour:n$3,minute:n$3,second:n$3},TIME_WITH_SHORT_OFFSET={hour:n$3,minute:n$3,second:n$3,timeZoneName:s$1},TIME_WITH_LONG_OFFSET={hour:n$3,minute:n$3,second:n$3,timeZoneName:l$2},TIME_24_SIMPLE={hour:n$3,minute:n$3,hourCycle:"h23"},TIME_24_WITH_SECONDS={hour:n$3,minute:n$3,second:n$3,hourCycle:"h23"},TIME_24_WITH_SHORT_OFFSET={hour:n$3,minute:n$3,second:n$3,hourCycle:"h23",timeZoneName:s$1},TIME_24_WITH_LONG_OFFSET={hour:n$3,minute:n$3,second:n$3,hourCycle:"h23",timeZoneName:l$2},DATETIME_SHORT={year:n$3,month:n$3,day:n$3,hour:n$3,minute:n$3},DATETIME_SHORT_WITH_SECONDS={year:n$3,month:n$3,day:n$3,hour:n$3,minute:n$3,second:n$3},DATETIME_MED={year:n$3,month:s$1,day:n$3,hour:n$3,minute:n$3},DATETIME_MED_WITH_SECONDS={year:n$3,month:s$1,day:n$3,hour:n$3,minute:n$3,second:n$3},DATETIME_MED_WITH_WEEKDAY={year:n$3,month:s$1,day:n$3,weekday:s$1,hour:n$3,minute:n$3},DATETIME_FULL={year:n$3,month:l$2,day:n$3,hour:n$3,minute:n$3,timeZoneName:s$1},DATETIME_FULL_WITH_SECONDS={year:n$3,month:l$2,day:n$3,hour:n$3,minute:n$3,second:n$3,timeZoneName:s$1},DATETIME_HUGE={year:n$3,month:l$2,day:n$3,weekday:l$2,hour:n$3,minute:n$3,timeZoneName:l$2},DATETIME_HUGE_WITH_SECONDS={year:n$3,month:l$2,day:n$3,weekday:l$2,hour:n$3,minute:n$3,second:n$3,timeZoneName:l$2};class Zone{get type(){throw new ZoneIsAbstractError}get name(){throw new ZoneIsAbstractError}get ianaName(){return this.name}get isUniversal(){throw new ZoneIsAbstractError}offsetName(rs,ns){throw new ZoneIsAbstractError}formatOffset(rs,ns){throw new ZoneIsAbstractError}offset(rs){throw new ZoneIsAbstractError}equals(rs){throw new ZoneIsAbstractError}get isValid(){throw new ZoneIsAbstractError}}let singleton$1=null;class SystemZone extends Zone{static get instance(){return singleton$1===null&&(singleton$1=new SystemZone),singleton$1}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(rs,{format:ns,locale:os}){return parseZoneInfo(rs,ns,os)}formatOffset(rs,ns){return formatOffset(this.offset(rs),ns)}offset(rs){return-new Date(rs).getTimezoneOffset()}equals(rs){return rs.type==="system"}get isValid(){return!0}}let dtfCache={};function makeDTF(ts){return dtfCache[ts]||(dtfCache[ts]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:ts,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),dtfCache[ts]}const typeToPos={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function hackyOffset(ts,rs){const ns=ts.format(rs).replace(/\u200E/g,""),os=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(ns),[,ss,as,ls,cs,us,ds,ps]=os;return[ls,ss,as,cs,us,ds,ps]}function partsOffset(ts,rs){const ns=ts.formatToParts(rs),os=[];for(let ss=0;ss<ns.length;ss++){const{type:as,value:ls}=ns[ss],cs=typeToPos[as];as==="era"?os[cs]=ls:isUndefined$1(cs)||(os[cs]=parseInt(ls,10))}return os}let ianaZoneCache={};class IANAZone extends Zone{static create(rs){return ianaZoneCache[rs]||(ianaZoneCache[rs]=new IANAZone(rs)),ianaZoneCache[rs]}static resetCache(){ianaZoneCache={},dtfCache={}}static isValidSpecifier(rs){return this.isValidZone(rs)}static isValidZone(rs){if(!rs)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:rs}).format(),!0}catch{return!1}}constructor(rs){super(),this.zoneName=rs,this.valid=IANAZone.isValidZone(rs)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(rs,{format:ns,locale:os}){return parseZoneInfo(rs,ns,os,this.name)}formatOffset(rs,ns){return formatOffset(this.offset(rs),ns)}offset(rs){const ns=new Date(rs);if(isNaN(ns))return NaN;const os=makeDTF(this.name);let[ss,as,ls,cs,us,ds,ps]=os.formatToParts?partsOffset(os,ns):hackyOffset(os,ns);cs==="BC"&&(ss=-Math.abs(ss)+1);const hs=objToLocalTS({year:ss,month:as,day:ls,hour:us===24?0:us,minute:ds,second:ps,millisecond:0});let ms=+ns;const gs=ms%1e3;return ms-=gs>=0?gs:1e3+gs,(hs-ms)/(60*1e3)}equals(rs){return rs.type==="iana"&&rs.name===this.name}get isValid(){return this.valid}}let intlLFCache={};function getCachedLF(ts,rs={}){const ns=JSON.stringify([ts,rs]);let os=intlLFCache[ns];return os||(os=new Intl.ListFormat(ts,rs),intlLFCache[ns]=os),os}let intlDTCache={};function getCachedDTF(ts,rs={}){const ns=JSON.stringify([ts,rs]);let os=intlDTCache[ns];return os||(os=new Intl.DateTimeFormat(ts,rs),intlDTCache[ns]=os),os}let intlNumCache={};function getCachedINF(ts,rs={}){const ns=JSON.stringify([ts,rs]);let os=intlNumCache[ns];return os||(os=new Intl.NumberFormat(ts,rs),intlNumCache[ns]=os),os}let intlRelCache={};function getCachedRTF(ts,rs={}){const{base:ns,...os}=rs,ss=JSON.stringify([ts,os]);let as=intlRelCache[ss];return as||(as=new Intl.RelativeTimeFormat(ts,rs),intlRelCache[ss]=as),as}let sysLocaleCache=null;function systemLocale(){return sysLocaleCache||(sysLocaleCache=new Intl.DateTimeFormat().resolvedOptions().locale,sysLocaleCache)}let weekInfoCache={};function getCachedWeekInfo(ts){let rs=weekInfoCache[ts];if(!rs){const ns=new Intl.Locale(ts);rs="getWeekInfo"in ns?ns.getWeekInfo():ns.weekInfo,weekInfoCache[ts]=rs}return rs}function parseLocaleString(ts){const rs=ts.indexOf("-x-");rs!==-1&&(ts=ts.substring(0,rs));const ns=ts.indexOf("-u-");if(ns===-1)return[ts];{let os,ss;try{os=getCachedDTF(ts).resolvedOptions(),ss=ts}catch{const us=ts.substring(0,ns);os=getCachedDTF(us).resolvedOptions(),ss=us}const{numberingSystem:as,calendar:ls}=os;return[ss,as,ls]}}function intlConfigString(ts,rs,ns){return(ns||rs)&&(ts.includes("-u-")||(ts+="-u"),ns&&(ts+="-ca-".concat(ns)),rs&&(ts+="-nu-".concat(rs))),ts}function mapMonths(ts){const rs=[];for(let ns=1;ns<=12;ns++){const os=DateTime.utc(2009,ns,1);rs.push(ts(os))}return rs}function mapWeekdays(ts){const rs=[];for(let ns=1;ns<=7;ns++){const os=DateTime.utc(2016,11,13+ns);rs.push(ts(os))}return rs}function listStuff(ts,rs,ns,os){const ss=ts.listingMode();return ss==="error"?null:ss==="en"?ns(rs):os(rs)}function supportsFastNumbers(ts){return ts.numberingSystem&&ts.numberingSystem!=="latn"?!1:ts.numberingSystem==="latn"||!ts.locale||ts.locale.startsWith("en")||new Intl.DateTimeFormat(ts.intl).resolvedOptions().numberingSystem==="latn"}class PolyNumberFormatter{constructor(rs,ns,os){this.padTo=os.padTo||0,this.floor=os.floor||!1;const{padTo:ss,floor:as,...ls}=os;if(!ns||Object.keys(ls).length>0){const cs={useGrouping:!1,...os};os.padTo>0&&(cs.minimumIntegerDigits=os.padTo),this.inf=getCachedINF(rs,cs)}}format(rs){if(this.inf){const ns=this.floor?Math.floor(rs):rs;return this.inf.format(ns)}else{const ns=this.floor?Math.floor(rs):roundTo(rs,3);return padStart(ns,this.padTo)}}}class PolyDateFormatter{constructor(rs,ns,os){this.opts=os,this.originalZone=void 0;let ss;if(this.opts.timeZone)this.dt=rs;else if(rs.zone.type==="fixed"){const ls=-1*(rs.offset/60),cs=ls>=0?"Etc/GMT+".concat(ls):"Etc/GMT".concat(ls);rs.offset!==0&&IANAZone.create(cs).valid?(ss=cs,this.dt=rs):(ss="UTC",this.dt=rs.offset===0?rs:rs.setZone("UTC").plus({minutes:rs.offset}),this.originalZone=rs.zone)}else rs.zone.type==="system"?this.dt=rs:rs.zone.type==="iana"?(this.dt=rs,ss=rs.zone.name):(ss="UTC",this.dt=rs.setZone("UTC").plus({minutes:rs.offset}),this.originalZone=rs.zone);const as={...this.opts};as.timeZone=as.timeZone||ss,this.dtf=getCachedDTF(ns,as)}format(){return this.originalZone?this.formatToParts().map(({value:rs})=>rs).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const rs=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?rs.map(ns=>{if(ns.type==="timeZoneName"){const os=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...ns,value:os}}else return ns}):rs}resolvedOptions(){return this.dtf.resolvedOptions()}}class PolyRelFormatter{constructor(rs,ns,os){this.opts={style:"long",...os},!ns&&hasRelative()&&(this.rtf=getCachedRTF(rs,os))}format(rs,ns){return this.rtf?this.rtf.format(rs,ns):formatRelativeTime(ns,rs,this.opts.numeric,this.opts.style!=="long")}formatToParts(rs,ns){return this.rtf?this.rtf.formatToParts(rs,ns):[]}}const fallbackWeekSettings={firstDay:1,minimalDays:4,weekend:[6,7]};class Locale{static fromOpts(rs){return Locale.create(rs.locale,rs.numberingSystem,rs.outputCalendar,rs.weekSettings,rs.defaultToEN)}static create(rs,ns,os,ss,as=!1){const ls=rs||Settings.defaultLocale,cs=ls||(as?"en-US":systemLocale()),us=ns||Settings.defaultNumberingSystem,ds=os||Settings.defaultOutputCalendar,ps=validateWeekSettings(ss)||Settings.defaultWeekSettings;return new Locale(cs,us,ds,ps,ls)}static resetCache(){sysLocaleCache=null,intlDTCache={},intlNumCache={},intlRelCache={}}static fromObject({locale:rs,numberingSystem:ns,outputCalendar:os,weekSettings:ss}={}){return Locale.create(rs,ns,os,ss)}constructor(rs,ns,os,ss,as){const[ls,cs,us]=parseLocaleString(rs);this.locale=ls,this.numberingSystem=ns||cs||null,this.outputCalendar=os||us||null,this.weekSettings=ss,this.intl=intlConfigString(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=as,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=supportsFastNumbers(this)),this.fastNumbersCached}listingMode(){const rs=this.isEnglish(),ns=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return rs&&ns?"en":"intl"}clone(rs){return!rs||Object.getOwnPropertyNames(rs).length===0?this:Locale.create(rs.locale||this.specifiedLocale,rs.numberingSystem||this.numberingSystem,rs.outputCalendar||this.outputCalendar,validateWeekSettings(rs.weekSettings)||this.weekSettings,rs.defaultToEN||!1)}redefaultToEN(rs={}){return this.clone({...rs,defaultToEN:!0})}redefaultToSystem(rs={}){return this.clone({...rs,defaultToEN:!1})}months(rs,ns=!1){return listStuff(this,rs,months,()=>{const os=ns?{month:rs,day:"numeric"}:{month:rs},ss=ns?"format":"standalone";return this.monthsCache[ss][rs]||(this.monthsCache[ss][rs]=mapMonths(as=>this.extract(as,os,"month"))),this.monthsCache[ss][rs]})}weekdays(rs,ns=!1){return listStuff(this,rs,weekdays,()=>{const os=ns?{weekday:rs,year:"numeric",month:"long",day:"numeric"}:{weekday:rs},ss=ns?"format":"standalone";return this.weekdaysCache[ss][rs]||(this.weekdaysCache[ss][rs]=mapWeekdays(as=>this.extract(as,os,"weekday"))),this.weekdaysCache[ss][rs]})}meridiems(){return listStuff(this,void 0,()=>meridiems,()=>{if(!this.meridiemCache){const rs={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[DateTime.utc(2016,11,13,9),DateTime.utc(2016,11,13,19)].map(ns=>this.extract(ns,rs,"dayperiod"))}return this.meridiemCache})}eras(rs){return listStuff(this,rs,eras,()=>{const ns={era:rs};return this.eraCache[rs]||(this.eraCache[rs]=[DateTime.utc(-40,1,1),DateTime.utc(2017,1,1)].map(os=>this.extract(os,ns,"era"))),this.eraCache[rs]})}extract(rs,ns,os){const ss=this.dtFormatter(rs,ns),as=ss.formatToParts(),ls=as.find(cs=>cs.type.toLowerCase()===os);return ls?ls.value:null}numberFormatter(rs={}){return new PolyNumberFormatter(this.intl,rs.forceSimple||this.fastNumbers,rs)}dtFormatter(rs,ns={}){return new PolyDateFormatter(rs,this.intl,ns)}relFormatter(rs={}){return new PolyRelFormatter(this.intl,this.isEnglish(),rs)}listFormatter(rs={}){return getCachedLF(this.intl,rs)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:hasLocaleWeekInfo()?getCachedWeekInfo(this.locale):fallbackWeekSettings}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(rs){return this.locale===rs.locale&&this.numberingSystem===rs.numberingSystem&&this.outputCalendar===rs.outputCalendar}}let singleton=null;class FixedOffsetZone extends Zone{static get utcInstance(){return singleton===null&&(singleton=new FixedOffsetZone(0)),singleton}static instance(rs){return rs===0?FixedOffsetZone.utcInstance:new FixedOffsetZone(rs)}static parseSpecifier(rs){if(rs){const ns=rs.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(ns)return new FixedOffsetZone(signedOffset(ns[1],ns[2]))}return null}constructor(rs){super(),this.fixed=rs}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":"UTC".concat(formatOffset(this.fixed,"narrow"))}get ianaName(){return this.fixed===0?"Etc/UTC":"Etc/GMT".concat(formatOffset(-this.fixed,"narrow"))}offsetName(){return this.name}formatOffset(rs,ns){return formatOffset(this.fixed,ns)}get isUniversal(){return!0}offset(){return this.fixed}equals(rs){return rs.type==="fixed"&&rs.fixed===this.fixed}get isValid(){return!0}}class InvalidZone extends Zone{constructor(rs){super(),this.zoneName=rs}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function normalizeZone(ts,rs){if(isUndefined$1(ts)||ts===null)return rs;if(ts instanceof Zone)return ts;if(isString$2(ts)){const ns=ts.toLowerCase();return ns==="default"?rs:ns==="local"||ns==="system"?SystemZone.instance:ns==="utc"||ns==="gmt"?FixedOffsetZone.utcInstance:FixedOffsetZone.parseSpecifier(ns)||IANAZone.create(ts)}else return isNumber$2(ts)?FixedOffsetZone.instance(ts):typeof ts=="object"&&"offset"in ts&&typeof ts.offset=="function"?ts:new InvalidZone(ts)}let now=()=>Date.now(),defaultZone="system",defaultLocale=null,defaultNumberingSystem=null,defaultOutputCalendar=null,twoDigitCutoffYear=60,throwOnInvalid,defaultWeekSettings=null;class Settings{static get now(){return now}static set now(rs){now=rs}static set defaultZone(rs){defaultZone=rs}static get defaultZone(){return normalizeZone(defaultZone,SystemZone.instance)}static get defaultLocale(){return defaultLocale}static set defaultLocale(rs){defaultLocale=rs}static get defaultNumberingSystem(){return defaultNumberingSystem}static set defaultNumberingSystem(rs){defaultNumberingSystem=rs}static get defaultOutputCalendar(){return defaultOutputCalendar}static set defaultOutputCalendar(rs){defaultOutputCalendar=rs}static get defaultWeekSettings(){return defaultWeekSettings}static set defaultWeekSettings(rs){defaultWeekSettings=validateWeekSettings(rs)}static get twoDigitCutoffYear(){return twoDigitCutoffYear}static set twoDigitCutoffYear(rs){twoDigitCutoffYear=rs%100}static get throwOnInvalid(){return throwOnInvalid}static set throwOnInvalid(rs){throwOnInvalid=rs}static resetCaches(){Locale.resetCache(),IANAZone.resetCache()}}class Invalid{constructor(rs,ns){this.reason=rs,this.explanation=ns}toMessage(){return this.explanation?"".concat(this.reason,": ").concat(this.explanation):this.reason}}const nonLeapLadder=[0,31,59,90,120,151,181,212,243,273,304,334],leapLadder=[0,31,60,91,121,152,182,213,244,274,305,335];function unitOutOfRange(ts,rs){return new Invalid("unit out of range","you specified ".concat(rs," (of type ").concat(typeof rs,") as a ").concat(ts,", which is invalid"))}function dayOfWeek(ts,rs,ns){const os=new Date(Date.UTC(ts,rs-1,ns));ts<100&&ts>=0&&os.setUTCFullYear(os.getUTCFullYear()-1900);const ss=os.getUTCDay();return ss===0?7:ss}function computeOrdinal(ts,rs,ns){return ns+(isLeapYear(ts)?leapLadder:nonLeapLadder)[rs-1]}function uncomputeOrdinal(ts,rs){const ns=isLeapYear(ts)?leapLadder:nonLeapLadder,os=ns.findIndex(as=>as<rs),ss=rs-ns[os];return{month:os+1,day:ss}}function isoWeekdayToLocal(ts,rs){return(ts-rs+7)%7+1}function gregorianToWeek(ts,rs=4,ns=1){const{year:os,month:ss,day:as}=ts,ls=computeOrdinal(os,ss,as),cs=isoWeekdayToLocal(dayOfWeek(os,ss,as),ns);let us=Math.floor((ls-cs+14-rs)/7),ds;return us<1?(ds=os-1,us=weeksInWeekYear(ds,rs,ns)):us>weeksInWeekYear(os,rs,ns)?(ds=os+1,us=1):ds=os,{weekYear:ds,weekNumber:us,weekday:cs,...timeObject(ts)}}function weekToGregorian(ts,rs=4,ns=1){const{weekYear:os,weekNumber:ss,weekday:as}=ts,ls=isoWeekdayToLocal(dayOfWeek(os,1,rs),ns),cs=daysInYear(os);let us=ss*7+as-ls-7+rs,ds;us<1?(ds=os-1,us+=daysInYear(ds)):us>cs?(ds=os+1,us-=daysInYear(os)):ds=os;const{month:ps,day:fs}=uncomputeOrdinal(ds,us);return{year:ds,month:ps,day:fs,...timeObject(ts)}}function gregorianToOrdinal(ts){const{year:rs,month:ns,day:os}=ts,ss=computeOrdinal(rs,ns,os);return{year:rs,ordinal:ss,...timeObject(ts)}}function ordinalToGregorian(ts){const{year:rs,ordinal:ns}=ts,{month:os,day:ss}=uncomputeOrdinal(rs,ns);return{year:rs,month:os,day:ss,...timeObject(ts)}}function usesLocalWeekValues(ts,rs){if(!isUndefined$1(ts.localWeekday)||!isUndefined$1(ts.localWeekNumber)||!isUndefined$1(ts.localWeekYear)){if(!isUndefined$1(ts.weekday)||!isUndefined$1(ts.weekNumber)||!isUndefined$1(ts.weekYear))throw new ConflictingSpecificationError("Cannot mix locale-based week fields with ISO-based week fields");return isUndefined$1(ts.localWeekday)||(ts.weekday=ts.localWeekday),isUndefined$1(ts.localWeekNumber)||(ts.weekNumber=ts.localWeekNumber),isUndefined$1(ts.localWeekYear)||(ts.weekYear=ts.localWeekYear),delete ts.localWeekday,delete ts.localWeekNumber,delete ts.localWeekYear,{minDaysInFirstWeek:rs.getMinDaysInFirstWeek(),startOfWeek:rs.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function hasInvalidWeekData(ts,rs=4,ns=1){const os=isInteger(ts.weekYear),ss=integerBetween(ts.weekNumber,1,weeksInWeekYear(ts.weekYear,rs,ns)),as=integerBetween(ts.weekday,1,7);return os?ss?as?!1:unitOutOfRange("weekday",ts.weekday):unitOutOfRange("week",ts.weekNumber):unitOutOfRange("weekYear",ts.weekYear)}function hasInvalidOrdinalData(ts){const rs=isInteger(ts.year),ns=integerBetween(ts.ordinal,1,daysInYear(ts.year));return rs?ns?!1:unitOutOfRange("ordinal",ts.ordinal):unitOutOfRange("year",ts.year)}function hasInvalidGregorianData(ts){const rs=isInteger(ts.year),ns=integerBetween(ts.month,1,12),os=integerBetween(ts.day,1,daysInMonth(ts.year,ts.month));return rs?ns?os?!1:unitOutOfRange("day",ts.day):unitOutOfRange("month",ts.month):unitOutOfRange("year",ts.year)}function hasInvalidTimeData(ts){const{hour:rs,minute:ns,second:os,millisecond:ss}=ts,as=integerBetween(rs,0,23)||rs===24&&ns===0&&os===0&&ss===0,ls=integerBetween(ns,0,59),cs=integerBetween(os,0,59),us=integerBetween(ss,0,999);return as?ls?cs?us?!1:unitOutOfRange("millisecond",ss):unitOutOfRange("second",os):unitOutOfRange("minute",ns):unitOutOfRange("hour",rs)}function isUndefined$1(ts){return typeof ts>"u"}function isNumber$2(ts){return typeof ts=="number"}function isInteger(ts){return typeof ts=="number"&&ts%1===0}function isString$2(ts){return typeof ts=="string"}function isDate(ts){return Object.prototype.toString.call(ts)==="[object Date]"}function hasRelative(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function hasLocaleWeekInfo(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function maybeArray(ts){return Array.isArray(ts)?ts:[ts]}function bestBy(ts,rs,ns){if(ts.length!==0)return ts.reduce((os,ss)=>{const as=[rs(ss),ss];return os&&ns(os[0],as[0])===os[0]?os:as},null)[1]}function pick$1(ts,rs){return rs.reduce((ns,os)=>(ns[os]=ts[os],ns),{})}function hasOwnProperty$1(ts,rs){return Object.prototype.hasOwnProperty.call(ts,rs)}function validateWeekSettings(ts){if(ts==null)return null;if(typeof ts!="object")throw new InvalidArgumentError("Week settings must be an object");if(!integerBetween(ts.firstDay,1,7)||!integerBetween(ts.minimalDays,1,7)||!Array.isArray(ts.weekend)||ts.weekend.some(rs=>!integerBetween(rs,1,7)))throw new InvalidArgumentError("Invalid week settings");return{firstDay:ts.firstDay,minimalDays:ts.minimalDays,weekend:Array.from(ts.weekend)}}function integerBetween(ts,rs,ns){return isInteger(ts)&&ts>=rs&&ts<=ns}function floorMod(ts,rs){return ts-rs*Math.floor(ts/rs)}function padStart(ts,rs=2){const ns=ts<0;let os;return ns?os="-"+(""+-ts).padStart(rs,"0"):os=(""+ts).padStart(rs,"0"),os}function parseInteger(ts){if(!(isUndefined$1(ts)||ts===null||ts===""))return parseInt(ts,10)}function parseFloating(ts){if(!(isUndefined$1(ts)||ts===null||ts===""))return parseFloat(ts)}function parseMillis(ts){if(!(isUndefined$1(ts)||ts===null||ts==="")){const rs=parseFloat("0."+ts)*1e3;return Math.floor(rs)}}function roundTo(ts,rs,ns=!1){const os=10**rs;return(ns?Math.trunc:Math.round)(ts*os)/os}function isLeapYear(ts){return ts%4===0&&(ts%100!==0||ts%400===0)}function daysInYear(ts){return isLeapYear(ts)?366:365}function daysInMonth(ts,rs){const ns=floorMod(rs-1,12)+1,os=ts+(rs-ns)/12;return ns===2?isLeapYear(os)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][ns-1]}function objToLocalTS(ts){let rs=Date.UTC(ts.year,ts.month-1,ts.day,ts.hour,ts.minute,ts.second,ts.millisecond);return ts.year<100&&ts.year>=0&&(rs=new Date(rs),rs.setUTCFullYear(ts.year,ts.month-1,ts.day)),+rs}function firstWeekOffset(ts,rs,ns){return-isoWeekdayToLocal(dayOfWeek(ts,1,rs),ns)+rs-1}function weeksInWeekYear(ts,rs=4,ns=1){const os=firstWeekOffset(ts,rs,ns),ss=firstWeekOffset(ts+1,rs,ns);return(daysInYear(ts)-os+ss)/7}function untruncateYear(ts){return ts>99?ts:ts>Settings.twoDigitCutoffYear?1900+ts:2e3+ts}function parseZoneInfo(ts,rs,ns,os=null){const ss=new Date(ts),as={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};os&&(as.timeZone=os);const ls={timeZoneName:rs,...as},cs=new Intl.DateTimeFormat(ns,ls).formatToParts(ss).find(us=>us.type.toLowerCase()==="timezonename");return cs?cs.value:null}function signedOffset(ts,rs){let ns=parseInt(ts,10);Number.isNaN(ns)&&(ns=0);const os=parseInt(rs,10)||0,ss=ns<0||Object.is(ns,-0)?-os:os;return ns*60+ss}function asNumber(ts){const rs=Number(ts);if(typeof ts=="boolean"||ts===""||Number.isNaN(rs))throw new InvalidArgumentError("Invalid unit value ".concat(ts));return rs}function normalizeObject(ts,rs){const ns={};for(const os in ts)if(hasOwnProperty$1(ts,os)){const ss=ts[os];if(ss==null)continue;ns[rs(os)]=asNumber(ss)}return ns}function formatOffset(ts,rs){const ns=Math.trunc(Math.abs(ts/60)),os=Math.trunc(Math.abs(ts%60)),ss=ts>=0?"+":"-";switch(rs){case"short":return"".concat(ss).concat(padStart(ns,2),":").concat(padStart(os,2));case"narrow":return"".concat(ss).concat(ns).concat(os>0?":".concat(os):"");case"techie":return"".concat(ss).concat(padStart(ns,2)).concat(padStart(os,2));default:throw new RangeError("Value format ".concat(rs," is out of range for property format"))}}function timeObject(ts){return pick$1(ts,["hour","minute","second","millisecond"])}const monthsLong=["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],monthsNarrow=["J","F","M","A","M","J","J","A","S","O","N","D"];function months(ts){switch(ts){case"narrow":return[...monthsNarrow];case"short":return[...monthsShort];case"long":return[...monthsLong];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const weekdaysLong=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],weekdaysShort=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],weekdaysNarrow=["M","T","W","T","F","S","S"];function weekdays(ts){switch(ts){case"narrow":return[...weekdaysNarrow];case"short":return[...weekdaysShort];case"long":return[...weekdaysLong];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const meridiems=["AM","PM"],erasLong=["Before Christ","Anno Domini"],erasShort=["BC","AD"],erasNarrow=["B","A"];function eras(ts){switch(ts){case"narrow":return[...erasNarrow];case"short":return[...erasShort];case"long":return[...erasLong];default:return null}}function meridiemForDateTime(ts){return meridiems[ts.hour<12?0:1]}function weekdayForDateTime(ts,rs){return weekdays(rs)[ts.weekday-1]}function monthForDateTime(ts,rs){return months(rs)[ts.month-1]}function eraForDateTime(ts,rs){return eras(rs)[ts.year<0?0:1]}function formatRelativeTime(ts,rs,ns="always",os=!1){const ss={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},as=["hours","minutes","seconds"].indexOf(ts)===-1;if(ns==="auto"&&as){const fs=ts==="days";switch(rs){case 1:return fs?"tomorrow":"next ".concat(ss[ts][0]);case-1:return fs?"yesterday":"last ".concat(ss[ts][0]);case 0:return fs?"today":"this ".concat(ss[ts][0])}}const ls=Object.is(rs,-0)||rs<0,cs=Math.abs(rs),us=cs===1,ds=ss[ts],ps=os?us?ds[1]:ds[2]||ds[1]:us?ss[ts][0]:ts;return ls?"".concat(cs," ").concat(ps," ago"):"in ".concat(cs," ").concat(ps)}function stringifyTokens(ts,rs){let ns="";for(const os of ts)os.literal?ns+=os.val:ns+=rs(os.val);return ns}const macroTokenToFormatOpts={D:DATE_SHORT,DD:DATE_MED,DDD:DATE_FULL,DDDD:DATE_HUGE,t:TIME_SIMPLE,tt:TIME_WITH_SECONDS,ttt:TIME_WITH_SHORT_OFFSET,tttt:TIME_WITH_LONG_OFFSET,T:TIME_24_SIMPLE,TT:TIME_24_WITH_SECONDS,TTT:TIME_24_WITH_SHORT_OFFSET,TTTT:TIME_24_WITH_LONG_OFFSET,f:DATETIME_SHORT,ff:DATETIME_MED,fff:DATETIME_FULL,ffff:DATETIME_HUGE,F:DATETIME_SHORT_WITH_SECONDS,FF:DATETIME_MED_WITH_SECONDS,FFF:DATETIME_FULL_WITH_SECONDS,FFFF:DATETIME_HUGE_WITH_SECONDS};class Formatter{static create(rs,ns={}){return new Formatter(rs,ns)}static parseFormat(rs){let ns=null,os="",ss=!1;const as=[];for(let ls=0;ls<rs.length;ls++){const cs=rs.charAt(ls);cs==="'"?(os.length>0&&as.push({literal:ss||/^\s+$/.test(os),val:os}),ns=null,os="",ss=!ss):ss||cs===ns?os+=cs:(os.length>0&&as.push({literal:/^\s+$/.test(os),val:os}),os=cs,ns=cs)}return os.length>0&&as.push({literal:ss||/^\s+$/.test(os),val:os}),as}static macroTokenToFormatOpts(rs){return macroTokenToFormatOpts[rs]}constructor(rs,ns){this.opts=ns,this.loc=rs,this.systemLoc=null}formatWithSystemDefault(rs,ns){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(rs,{...this.opts,...ns}).format()}dtFormatter(rs,ns={}){return this.loc.dtFormatter(rs,{...this.opts,...ns})}formatDateTime(rs,ns){return this.dtFormatter(rs,ns).format()}formatDateTimeParts(rs,ns){return this.dtFormatter(rs,ns).formatToParts()}formatInterval(rs,ns){return this.dtFormatter(rs.start,ns).dtf.formatRange(rs.start.toJSDate(),rs.end.toJSDate())}resolvedOptions(rs,ns){return this.dtFormatter(rs,ns).resolvedOptions()}num(rs,ns=0){if(this.opts.forceSimple)return padStart(rs,ns);const os={...this.opts};return ns>0&&(os.padTo=ns),this.loc.numberFormatter(os).format(rs)}formatDateTimeFromString(rs,ns){const os=this.loc.listingMode()==="en",ss=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",as=(ms,gs)=>this.loc.extract(rs,ms,gs),ls=ms=>rs.isOffsetFixed&&rs.offset===0&&ms.allowZ?"Z":rs.isValid?rs.zone.formatOffset(rs.ts,ms.format):"",cs=()=>os?meridiemForDateTime(rs):as({hour:"numeric",hourCycle:"h12"},"dayperiod"),us=(ms,gs)=>os?monthForDateTime(rs,ms):as(gs?{month:ms}:{month:ms,day:"numeric"},"month"),ds=(ms,gs)=>os?weekdayForDateTime(rs,ms):as(gs?{weekday:ms}:{weekday:ms,month:"long",day:"numeric"},"weekday"),ps=ms=>{const gs=Formatter.macroTokenToFormatOpts(ms);return gs?this.formatWithSystemDefault(rs,gs):ms},fs=ms=>os?eraForDateTime(rs,ms):as({era:ms},"era"),hs=ms=>{switch(ms){case"S":return this.num(rs.millisecond);case"u":case"SSS":return this.num(rs.millisecond,3);case"s":return this.num(rs.second);case"ss":return this.num(rs.second,2);case"uu":return this.num(Math.floor(rs.millisecond/10),2);case"uuu":return this.num(Math.floor(rs.millisecond/100));case"m":return this.num(rs.minute);case"mm":return this.num(rs.minute,2);case"h":return this.num(rs.hour%12===0?12:rs.hour%12);case"hh":return this.num(rs.hour%12===0?12:rs.hour%12,2);case"H":return this.num(rs.hour);case"HH":return this.num(rs.hour,2);case"Z":return ls({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return ls({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return ls({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return rs.zone.offsetName(rs.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return rs.zone.offsetName(rs.ts,{format:"long",locale:this.loc.locale});case"z":return rs.zoneName;case"a":return cs();case"d":return ss?as({day:"numeric"},"day"):this.num(rs.day);case"dd":return ss?as({day:"2-digit"},"day"):this.num(rs.day,2);case"c":return this.num(rs.weekday);case"ccc":return ds("short",!0);case"cccc":return ds("long",!0);case"ccccc":return ds("narrow",!0);case"E":return this.num(rs.weekday);case"EEE":return ds("short",!1);case"EEEE":return ds("long",!1);case"EEEEE":return ds("narrow",!1);case"L":return ss?as({month:"numeric",day:"numeric"},"month"):this.num(rs.month);case"LL":return ss?as({month:"2-digit",day:"numeric"},"month"):this.num(rs.month,2);case"LLL":return us("short",!0);case"LLLL":return us("long",!0);case"LLLLL":return us("narrow",!0);case"M":return ss?as({month:"numeric"},"month"):this.num(rs.month);case"MM":return ss?as({month:"2-digit"},"month"):this.num(rs.month,2);case"MMM":return us("short",!1);case"MMMM":return us("long",!1);case"MMMMM":return us("narrow",!1);case"y":return ss?as({year:"numeric"},"year"):this.num(rs.year);case"yy":return ss?as({year:"2-digit"},"year"):this.num(rs.year.toString().slice(-2),2);case"yyyy":return ss?as({year:"numeric"},"year"):this.num(rs.year,4);case"yyyyyy":return ss?as({year:"numeric"},"year"):this.num(rs.year,6);case"G":return fs("short");case"GG":return fs("long");case"GGGGG":return fs("narrow");case"kk":return this.num(rs.weekYear.toString().slice(-2),2);case"kkkk":return this.num(rs.weekYear,4);case"W":return this.num(rs.weekNumber);case"WW":return this.num(rs.weekNumber,2);case"n":return this.num(rs.localWeekNumber);case"nn":return this.num(rs.localWeekNumber,2);case"ii":return this.num(rs.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(rs.localWeekYear,4);case"o":return this.num(rs.ordinal);case"ooo":return this.num(rs.ordinal,3);case"q":return this.num(rs.quarter);case"qq":return this.num(rs.quarter,2);case"X":return this.num(Math.floor(rs.ts/1e3));case"x":return this.num(rs.ts);default:return ps(ms)}};return stringifyTokens(Formatter.parseFormat(ns),hs)}formatDurationFromString(rs,ns){const os=us=>{switch(us[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},ss=us=>ds=>{const ps=os(ds);return ps?this.num(us.get(ps),ds.length):ds},as=Formatter.parseFormat(ns),ls=as.reduce((us,{literal:ds,val:ps})=>ds?us:us.concat(ps),[]),cs=rs.shiftTo(...ls.map(os).filter(us=>us));return stringifyTokens(as,ss(cs))}}const ianaRegex=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function combineRegexes(...ts){const rs=ts.reduce((ns,os)=>ns+os.source,"");return RegExp("^".concat(rs,"$"))}function combineExtractors(...ts){return rs=>ts.reduce(([ns,os,ss],as)=>{const[ls,cs,us]=as(rs,ss);return[{...ns,...ls},cs||os,us]},[{},null,1]).slice(0,2)}function parse(ts,...rs){if(ts==null)return[null,null];for(const[ns,os]of rs){const ss=ns.exec(ts);if(ss)return os(ss)}return[null,null]}function simpleParse(...ts){return(rs,ns)=>{const os={};let ss;for(ss=0;ss<ts.length;ss++)os[ts[ss]]=parseInteger(rs[ns+ss]);return[os,null,ns+ss]}}const offsetRegex=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,isoExtendedZone="(?:".concat(offsetRegex.source,"?(?:\\[(").concat(ianaRegex.source,")\\])?)?"),isoTimeBaseRegex=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,isoTimeRegex=RegExp("".concat(isoTimeBaseRegex.source).concat(isoExtendedZone)),isoTimeExtensionRegex=RegExp("(?:T".concat(isoTimeRegex.source,")?")),isoYmdRegex=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,isoWeekRegex=/(\d{4})-?W(\d\d)(?:-?(\d))?/,isoOrdinalRegex=/(\d{4})-?(\d{3})/,extractISOWeekData=simpleParse("weekYear","weekNumber","weekDay"),extractISOOrdinalData=simpleParse("year","ordinal"),sqlYmdRegex=/(\d{4})-(\d\d)-(\d\d)/,sqlTimeRegex=RegExp("".concat(isoTimeBaseRegex.source," ?(?:").concat(offsetRegex.source,"|(").concat(ianaRegex.source,"))?")),sqlTimeExtensionRegex=RegExp("(?: ".concat(sqlTimeRegex.source,")?"));function int$1(ts,rs,ns){const os=ts[rs];return isUndefined$1(os)?ns:parseInteger(os)}function extractISOYmd(ts,rs){return[{year:int$1(ts,rs),month:int$1(ts,rs+1,1),day:int$1(ts,rs+2,1)},null,rs+3]}function extractISOTime(ts,rs){return[{hours:int$1(ts,rs,0),minutes:int$1(ts,rs+1,0),seconds:int$1(ts,rs+2,0),milliseconds:parseMillis(ts[rs+3])},null,rs+4]}function extractISOOffset(ts,rs){const ns=!ts[rs]&&!ts[rs+1],os=signedOffset(ts[rs+1],ts[rs+2]),ss=ns?null:FixedOffsetZone.instance(os);return[{},ss,rs+3]}function extractIANAZone(ts,rs){const ns=ts[rs]?IANAZone.create(ts[rs]):null;return[{},ns,rs+1]}const isoTimeOnly=RegExp("^T?".concat(isoTimeBaseRegex.source,"$")),isoDuration=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function extractISODuration(ts){const[rs,ns,os,ss,as,ls,cs,us,ds]=ts,ps=rs[0]==="-",fs=us&&us[0]==="-",hs=(ms,gs=!1)=>ms!==void 0&&(gs||ms&&ps)?-ms:ms;return[{years:hs(parseFloating(ns)),months:hs(parseFloating(os)),weeks:hs(parseFloating(ss)),days:hs(parseFloating(as)),hours:hs(parseFloating(ls)),minutes:hs(parseFloating(cs)),seconds:hs(parseFloating(us),us==="-0"),milliseconds:hs(parseMillis(ds),fs)}]}const obsOffsets={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function fromStrings(ts,rs,ns,os,ss,as,ls){const cs={year:rs.length===2?untruncateYear(parseInteger(rs)):parseInteger(rs),month:monthsShort.indexOf(ns)+1,day:parseInteger(os),hour:parseInteger(ss),minute:parseInteger(as)};return ls&&(cs.second=parseInteger(ls)),ts&&(cs.weekday=ts.length>3?weekdaysLong.indexOf(ts)+1:weekdaysShort.indexOf(ts)+1),cs}const rfc2822=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function extractRFC2822(ts){const[,rs,ns,os,ss,as,ls,cs,us,ds,ps,fs]=ts,hs=fromStrings(rs,ss,os,ns,as,ls,cs);let ms;return us?ms=obsOffsets[us]:ds?ms=0:ms=signedOffset(ps,fs),[hs,new FixedOffsetZone(ms)]}function preprocessRFC2822(ts){return ts.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const rfc1123=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,rfc850=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,ascii=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function extractRFC1123Or850(ts){const[,rs,ns,os,ss,as,ls,cs]=ts;return[fromStrings(rs,ss,os,ns,as,ls,cs),FixedOffsetZone.utcInstance]}function extractASCII(ts){const[,rs,ns,os,ss,as,ls,cs]=ts;return[fromStrings(rs,cs,ns,os,ss,as,ls),FixedOffsetZone.utcInstance]}const isoYmdWithTimeExtensionRegex=combineRegexes(isoYmdRegex,isoTimeExtensionRegex),isoWeekWithTimeExtensionRegex=combineRegexes(isoWeekRegex,isoTimeExtensionRegex),isoOrdinalWithTimeExtensionRegex=combineRegexes(isoOrdinalRegex,isoTimeExtensionRegex),isoTimeCombinedRegex=combineRegexes(isoTimeRegex),extractISOYmdTimeAndOffset=combineExtractors(extractISOYmd,extractISOTime,extractISOOffset,extractIANAZone),extractISOWeekTimeAndOffset=combineExtractors(extractISOWeekData,extractISOTime,extractISOOffset,extractIANAZone),extractISOOrdinalDateAndTime=combineExtractors(extractISOOrdinalData,extractISOTime,extractISOOffset,extractIANAZone),extractISOTimeAndOffset=combineExtractors(extractISOTime,extractISOOffset,extractIANAZone);function parseISODate(ts){return parse(ts,[isoYmdWithTimeExtensionRegex,extractISOYmdTimeAndOffset],[isoWeekWithTimeExtensionRegex,extractISOWeekTimeAndOffset],[isoOrdinalWithTimeExtensionRegex,extractISOOrdinalDateAndTime],[isoTimeCombinedRegex,extractISOTimeAndOffset])}function parseRFC2822Date(ts){return parse(preprocessRFC2822(ts),[rfc2822,extractRFC2822])}function parseHTTPDate(ts){return parse(ts,[rfc1123,extractRFC1123Or850],[rfc850,extractRFC1123Or850],[ascii,extractASCII])}function parseISODuration(ts){return parse(ts,[isoDuration,extractISODuration])}const extractISOTimeOnly=combineExtractors(extractISOTime);function parseISOTimeOnly(ts){return parse(ts,[isoTimeOnly,extractISOTimeOnly])}const sqlYmdWithTimeExtensionRegex=combineRegexes(sqlYmdRegex,sqlTimeExtensionRegex),sqlTimeCombinedRegex=combineRegexes(sqlTimeRegex),extractISOTimeOffsetAndIANAZone=combineExtractors(extractISOTime,extractISOOffset,extractIANAZone);function parseSQL(ts){return parse(ts,[sqlYmdWithTimeExtensionRegex,extractISOYmdTimeAndOffset],[sqlTimeCombinedRegex,extractISOTimeOffsetAndIANAZone])}const INVALID$2="Invalid Duration",lowOrderMatrix={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},casualMatrix={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...lowOrderMatrix},daysInYearAccurate=146097/400,daysInMonthAccurate=146097/4800,accurateMatrix={years:{quarters:4,months:12,weeks:daysInYearAccurate/7,days:daysInYearAccurate,hours:daysInYearAccurate*24,minutes:daysInYearAccurate*24*60,seconds:daysInYearAccurate*24*60*60,milliseconds:daysInYearAccurate*24*60*60*1e3},quarters:{months:3,weeks:daysInYearAccurate/28,days:daysInYearAccurate/4,hours:daysInYearAccurate*24/4,minutes:daysInYearAccurate*24*60/4,seconds:daysInYearAccurate*24*60*60/4,milliseconds:daysInYearAccurate*24*60*60*1e3/4},months:{weeks:daysInMonthAccurate/7,days:daysInMonthAccurate,hours:daysInMonthAccurate*24,minutes:daysInMonthAccurate*24*60,seconds:daysInMonthAccurate*24*60*60,milliseconds:daysInMonthAccurate*24*60*60*1e3},...lowOrderMatrix},orderedUnits$1=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],reverseUnits=orderedUnits$1.slice(0).reverse();function clone$1(ts,rs,ns=!1){const os={values:ns?rs.values:{...ts.values,...rs.values||{}},loc:ts.loc.clone(rs.loc),conversionAccuracy:rs.conversionAccuracy||ts.conversionAccuracy,matrix:rs.matrix||ts.matrix};return new Duration(os)}function durationToMillis(ts,rs){var os;let ns=(os=rs.milliseconds)!=null?os:0;for(const ss of reverseUnits.slice(1))rs[ss]&&(ns+=rs[ss]*ts[ss].milliseconds);return ns}function normalizeValues(ts,rs){const ns=durationToMillis(ts,rs)<0?-1:1;orderedUnits$1.reduceRight((os,ss)=>{if(isUndefined$1(rs[ss]))return os;if(os){const as=rs[os]*ns,ls=ts[ss][os],cs=Math.floor(as/ls);rs[ss]+=cs*ns,rs[os]-=cs*ls*ns}return ss},null),orderedUnits$1.reduce((os,ss)=>{if(isUndefined$1(rs[ss]))return os;if(os){const as=rs[os]%1;rs[os]-=as,rs[ss]+=as*ts[os][ss]}return ss},null)}function removeZeroes(ts){const rs={};for(const[ns,os]of Object.entries(ts))os!==0&&(rs[ns]=os);return rs}class Duration{constructor(rs){const ns=rs.conversionAccuracy==="longterm"||!1;let os=ns?accurateMatrix:casualMatrix;rs.matrix&&(os=rs.matrix),this.values=rs.values,this.loc=rs.loc||Locale.create(),this.conversionAccuracy=ns?"longterm":"casual",this.invalid=rs.invalid||null,this.matrix=os,this.isLuxonDuration=!0}static fromMillis(rs,ns){return Duration.fromObject({milliseconds:rs},ns)}static fromObject(rs,ns={}){if(rs==null||typeof rs!="object")throw new InvalidArgumentError("Duration.fromObject: argument expected to be an object, got ".concat(rs===null?"null":typeof rs));return new Duration({values:normalizeObject(rs,Duration.normalizeUnit),loc:Locale.fromObject(ns),conversionAccuracy:ns.conversionAccuracy,matrix:ns.matrix})}static fromDurationLike(rs){if(isNumber$2(rs))return Duration.fromMillis(rs);if(Duration.isDuration(rs))return rs;if(typeof rs=="object")return Duration.fromObject(rs);throw new InvalidArgumentError("Unknown duration argument ".concat(rs," of type ").concat(typeof rs))}static fromISO(rs,ns){const[os]=parseISODuration(rs);return os?Duration.fromObject(os,ns):Duration.invalid("unparsable",'the input "'.concat(rs,"\" can't be parsed as ISO 8601"))}static fromISOTime(rs,ns){const[os]=parseISOTimeOnly(rs);return os?Duration.fromObject(os,ns):Duration.invalid("unparsable",'the input "'.concat(rs,"\" can't be parsed as ISO 8601"))}static invalid(rs,ns=null){if(!rs)throw new InvalidArgumentError("need to specify a reason the Duration is invalid");const os=rs instanceof Invalid?rs:new Invalid(rs,ns);if(Settings.throwOnInvalid)throw new InvalidDurationError(os);return new Duration({invalid:os})}static normalizeUnit(rs){const ns={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[rs&&rs.toLowerCase()];if(!ns)throw new InvalidUnitError(rs);return ns}static isDuration(rs){return rs&&rs.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(rs,ns={}){const os={...ns,floor:ns.round!==!1&&ns.floor!==!1};return this.isValid?Formatter.create(this.loc,os).formatDurationFromString(this,rs):INVALID$2}toHuman(rs={}){if(!this.isValid)return INVALID$2;const ns=orderedUnits$1.map(os=>{const ss=this.values[os];return isUndefined$1(ss)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...rs,unit:os.slice(0,-1)}).format(ss)}).filter(os=>os);return this.loc.listFormatter({type:"conjunction",style:rs.listStyle||"narrow",...rs}).format(ns)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let rs="P";return this.years!==0&&(rs+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(rs+=this.months+this.quarters*3+"M"),this.weeks!==0&&(rs+=this.weeks+"W"),this.days!==0&&(rs+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(rs+="T"),this.hours!==0&&(rs+=this.hours+"H"),this.minutes!==0&&(rs+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(rs+=roundTo(this.seconds+this.milliseconds/1e3,3)+"S"),rs==="P"&&(rs+="T0S"),rs}toISOTime(rs={}){if(!this.isValid)return null;const ns=this.toMillis();return ns<0||ns>=864e5?null:(rs={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...rs,includeOffset:!1},DateTime.fromMillis(ns,{zone:"UTC"}).toISOTime(rs))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?"Duration { values: ".concat(JSON.stringify(this.values)," }"):"Duration { Invalid, reason: ".concat(this.invalidReason," }")}toMillis(){return this.isValid?durationToMillis(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(rs){if(!this.isValid)return this;const ns=Duration.fromDurationLike(rs),os={};for(const ss of orderedUnits$1)(hasOwnProperty$1(ns.values,ss)||hasOwnProperty$1(this.values,ss))&&(os[ss]=ns.get(ss)+this.get(ss));return clone$1(this,{values:os},!0)}minus(rs){if(!this.isValid)return this;const ns=Duration.fromDurationLike(rs);return this.plus(ns.negate())}mapUnits(rs){if(!this.isValid)return this;const ns={};for(const os of Object.keys(this.values))ns[os]=asNumber(rs(this.values[os],os));return clone$1(this,{values:ns},!0)}get(rs){return this[Duration.normalizeUnit(rs)]}set(rs){if(!this.isValid)return this;const ns={...this.values,...normalizeObject(rs,Duration.normalizeUnit)};return clone$1(this,{values:ns})}reconfigure({locale:rs,numberingSystem:ns,conversionAccuracy:os,matrix:ss}={}){const ls={loc:this.loc.clone({locale:rs,numberingSystem:ns}),matrix:ss,conversionAccuracy:os};return clone$1(this,ls)}as(rs){return this.isValid?this.shiftTo(rs).get(rs):NaN}normalize(){if(!this.isValid)return this;const rs=this.toObject();return normalizeValues(this.matrix,rs),clone$1(this,{values:rs},!0)}rescale(){if(!this.isValid)return this;const rs=removeZeroes(this.normalize().shiftToAll().toObject());return clone$1(this,{values:rs},!0)}shiftTo(...rs){if(!this.isValid)return this;if(rs.length===0)return this;rs=rs.map(ls=>Duration.normalizeUnit(ls));const ns={},os={},ss=this.toObject();let as;for(const ls of orderedUnits$1)if(rs.indexOf(ls)>=0){as=ls;let cs=0;for(const ds in os)cs+=this.matrix[ds][ls]*os[ds],os[ds]=0;isNumber$2(ss[ls])&&(cs+=ss[ls]);const us=Math.trunc(cs);ns[ls]=us,os[ls]=(cs*1e3-us*1e3)/1e3}else isNumber$2(ss[ls])&&(os[ls]=ss[ls]);for(const ls in os)os[ls]!==0&&(ns[as]+=ls===as?os[ls]:os[ls]/this.matrix[as][ls]);return normalizeValues(this.matrix,ns),clone$1(this,{values:ns},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const rs={};for(const ns of Object.keys(this.values))rs[ns]=this.values[ns]===0?0:-this.values[ns];return clone$1(this,{values:rs},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(rs){if(!this.isValid||!rs.isValid||!this.loc.equals(rs.loc))return!1;function ns(os,ss){return os===void 0||os===0?ss===void 0||ss===0:os===ss}for(const os of orderedUnits$1)if(!ns(this.values[os],rs.values[os]))return!1;return!0}}const INVALID$1="Invalid Interval";function validateStartEnd(ts,rs){return!ts||!ts.isValid?Interval.invalid("missing or invalid start"):!rs||!rs.isValid?Interval.invalid("missing or invalid end"):rs<ts?Interval.invalid("end before start","The end of an interval must be after its start, but you had start=".concat(ts.toISO()," and end=").concat(rs.toISO())):null}class Interval{constructor(rs){this.s=rs.start,this.e=rs.end,this.invalid=rs.invalid||null,this.isLuxonInterval=!0}static invalid(rs,ns=null){if(!rs)throw new InvalidArgumentError("need to specify a reason the Interval is invalid");const os=rs instanceof Invalid?rs:new Invalid(rs,ns);if(Settings.throwOnInvalid)throw new InvalidIntervalError(os);return new Interval({invalid:os})}static fromDateTimes(rs,ns){const os=friendlyDateTime(rs),ss=friendlyDateTime(ns),as=validateStartEnd(os,ss);return as==null?new Interval({start:os,end:ss}):as}static after(rs,ns){const os=Duration.fromDurationLike(ns),ss=friendlyDateTime(rs);return Interval.fromDateTimes(ss,ss.plus(os))}static before(rs,ns){const os=Duration.fromDurationLike(ns),ss=friendlyDateTime(rs);return Interval.fromDateTimes(ss.minus(os),ss)}static fromISO(rs,ns){const[os,ss]=(rs||"").split("/",2);if(os&&ss){let as,ls;try{as=DateTime.fromISO(os,ns),ls=as.isValid}catch{ls=!1}let cs,us;try{cs=DateTime.fromISO(ss,ns),us=cs.isValid}catch{us=!1}if(ls&&us)return Interval.fromDateTimes(as,cs);if(ls){const ds=Duration.fromISO(ss,ns);if(ds.isValid)return Interval.after(as,ds)}else if(us){const ds=Duration.fromISO(os,ns);if(ds.isValid)return Interval.before(cs,ds)}}return Interval.invalid("unparsable",'the input "'.concat(rs,"\" can't be parsed as ISO 8601"))}static isInterval(rs){return rs&&rs.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(rs="milliseconds"){return this.isValid?this.toDuration(rs).get(rs):NaN}count(rs="milliseconds",ns){if(!this.isValid)return NaN;const os=this.start.startOf(rs,ns);let ss;return ns!=null&&ns.useLocaleWeeks?ss=this.end.reconfigure({locale:os.locale}):ss=this.end,ss=ss.startOf(rs,ns),Math.floor(ss.diff(os,rs).get(rs))+(ss.valueOf()!==this.end.valueOf())}hasSame(rs){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,rs):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(rs){return this.isValid?this.s>rs:!1}isBefore(rs){return this.isValid?this.e<=rs:!1}contains(rs){return this.isValid?this.s<=rs&&this.e>rs:!1}set({start:rs,end:ns}={}){return this.isValid?Interval.fromDateTimes(rs||this.s,ns||this.e):this}splitAt(...rs){if(!this.isValid)return[];const ns=rs.map(friendlyDateTime).filter(ls=>this.contains(ls)).sort((ls,cs)=>ls.toMillis()-cs.toMillis()),os=[];let{s:ss}=this,as=0;for(;ss<this.e;){const ls=ns[as]||this.e,cs=+ls>+this.e?this.e:ls;os.push(Interval.fromDateTimes(ss,cs)),ss=cs,as+=1}return os}splitBy(rs){const ns=Duration.fromDurationLike(rs);if(!this.isValid||!ns.isValid||ns.as("milliseconds")===0)return[];let{s:os}=this,ss=1,as;const ls=[];for(;os<this.e;){const cs=this.start.plus(ns.mapUnits(us=>us*ss));as=+cs>+this.e?this.e:cs,ls.push(Interval.fromDateTimes(os,as)),os=as,ss+=1}return ls}divideEqually(rs){return this.isValid?this.splitBy(this.length()/rs).slice(0,rs):[]}overlaps(rs){return this.e>rs.s&&this.s<rs.e}abutsStart(rs){return this.isValid?+this.e==+rs.s:!1}abutsEnd(rs){return this.isValid?+rs.e==+this.s:!1}engulfs(rs){return this.isValid?this.s<=rs.s&&this.e>=rs.e:!1}equals(rs){return!this.isValid||!rs.isValid?!1:this.s.equals(rs.s)&&this.e.equals(rs.e)}intersection(rs){if(!this.isValid)return this;const ns=this.s>rs.s?this.s:rs.s,os=this.e<rs.e?this.e:rs.e;return ns>=os?null:Interval.fromDateTimes(ns,os)}union(rs){if(!this.isValid)return this;const ns=this.s<rs.s?this.s:rs.s,os=this.e>rs.e?this.e:rs.e;return Interval.fromDateTimes(ns,os)}static merge(rs){const[ns,os]=rs.sort((ss,as)=>ss.s-as.s).reduce(([ss,as],ls)=>as?as.overlaps(ls)||as.abutsStart(ls)?[ss,as.union(ls)]:[ss.concat([as]),ls]:[ss,ls],[[],null]);return os&&ns.push(os),ns}static xor(rs){let ns=null,os=0;const ss=[],as=rs.map(us=>[{time:us.s,type:"s"},{time:us.e,type:"e"}]),ls=Array.prototype.concat(...as),cs=ls.sort((us,ds)=>us.time-ds.time);for(const us of cs)os+=us.type==="s"?1:-1,os===1?ns=us.time:(ns&&+ns!=+us.time&&ss.push(Interval.fromDateTimes(ns,us.time)),ns=null);return Interval.merge(ss)}difference(...rs){return Interval.xor([this].concat(rs)).map(ns=>this.intersection(ns)).filter(ns=>ns&&!ns.isEmpty())}toString(){return this.isValid?"[".concat(this.s.toISO()," â ").concat(this.e.toISO(),")"):INVALID$1}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?"Interval { start: ".concat(this.s.toISO(),", end: ").concat(this.e.toISO()," }"):"Interval { Invalid, reason: ".concat(this.invalidReason," }")}toLocaleString(rs=DATE_SHORT,ns={}){return this.isValid?Formatter.create(this.s.loc.clone(ns),rs).formatInterval(this):INVALID$1}toISO(rs){return this.isValid?"".concat(this.s.toISO(rs),"/").concat(this.e.toISO(rs)):INVALID$1}toISODate(){return this.isValid?"".concat(this.s.toISODate(),"/").concat(this.e.toISODate()):INVALID$1}toISOTime(rs){return this.isValid?"".concat(this.s.toISOTime(rs),"/").concat(this.e.toISOTime(rs)):INVALID$1}toFormat(rs,{separator:ns=" â "}={}){return this.isValid?"".concat(this.s.toFormat(rs)).concat(ns).concat(this.e.toFormat(rs)):INVALID$1}toDuration(rs,ns){return this.isValid?this.e.diff(this.s,rs,ns):Duration.invalid(this.invalidReason)}mapEndpoints(rs){return Interval.fromDateTimes(rs(this.s),rs(this.e))}}class Info{static hasDST(rs=Settings.defaultZone){const ns=DateTime.now().setZone(rs).set({month:12});return!rs.isUniversal&&ns.offset!==ns.set({month:6}).offset}static isValidIANAZone(rs){return IANAZone.isValidZone(rs)}static normalizeZone(rs){return normalizeZone(rs,Settings.defaultZone)}static getStartOfWeek({locale:rs=null,locObj:ns=null}={}){return(ns||Locale.create(rs)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:rs=null,locObj:ns=null}={}){return(ns||Locale.create(rs)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:rs=null,locObj:ns=null}={}){return(ns||Locale.create(rs)).getWeekendDays().slice()}static months(rs="long",{locale:ns=null,numberingSystem:os=null,locObj:ss=null,outputCalendar:as="gregory"}={}){return(ss||Locale.create(ns,os,as)).months(rs)}static monthsFormat(rs="long",{locale:ns=null,numberingSystem:os=null,locObj:ss=null,outputCalendar:as="gregory"}={}){return(ss||Locale.create(ns,os,as)).months(rs,!0)}static weekdays(rs="long",{locale:ns=null,numberingSystem:os=null,locObj:ss=null}={}){return(ss||Locale.create(ns,os,null)).weekdays(rs)}static weekdaysFormat(rs="long",{locale:ns=null,numberingSystem:os=null,locObj:ss=null}={}){return(ss||Locale.create(ns,os,null)).weekdays(rs,!0)}static meridiems({locale:rs=null}={}){return Locale.create(rs).meridiems()}static eras(rs="short",{locale:ns=null}={}){return Locale.create(ns,null,"gregory").eras(rs)}static features(){return{relative:hasRelative(),localeWeek:hasLocaleWeekInfo()}}}function dayDiff(ts,rs){const ns=ss=>ss.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),os=ns(rs)-ns(ts);return Math.floor(Duration.fromMillis(os).as("days"))}function highOrderDiffs(ts,rs,ns){const os=[["years",(us,ds)=>ds.year-us.year],["quarters",(us,ds)=>ds.quarter-us.quarter+(ds.year-us.year)*4],["months",(us,ds)=>ds.month-us.month+(ds.year-us.year)*12],["weeks",(us,ds)=>{const ps=dayDiff(us,ds);return(ps-ps%7)/7}],["days",dayDiff]],ss={},as=ts;let ls,cs;for(const[us,ds]of os)ns.indexOf(us)>=0&&(ls=us,ss[us]=ds(ts,rs),cs=as.plus(ss),cs>rs?(ss[us]--,ts=as.plus(ss),ts>rs&&(cs=ts,ss[us]--,ts=as.plus(ss))):ts=cs);return[ts,ss,cs,ls]}function diff(ts,rs,ns,os){let[ss,as,ls,cs]=highOrderDiffs(ts,rs,ns);const us=rs-ss,ds=ns.filter(fs=>["hours","minutes","seconds","milliseconds"].indexOf(fs)>=0);ds.length===0&&(ls<rs&&(ls=ss.plus({[cs]:1})),ls!==ss&&(as[cs]=(as[cs]||0)+us/(ls-ss)));const ps=Duration.fromObject(as,os);return ds.length>0?Duration.fromMillis(us,os).shiftTo(...ds).plus(ps):ps}const numberingSystems={arab:"[Ù -Ù©]",arabext:"[Û°-Û¹]",bali:"[á­-á­]",beng:"[à§¦-à§¯]",deva:"[à¥¦-à¥¯]",fullwide:"[ï¼-ï¼]",gujr:"[à«¦-à«¯]",hanidec:"[ã|ä¸|äº|ä¸|å|äº|å­|ä¸|å«|ä¹]",khmr:"[á -á©]",knda:"[à³¦-à³¯]",laoo:"[à»-à»]",limb:"[á¥-á¥]",mlym:"[àµ¦-àµ¯]",mong:"[á -á ]",mymr:"[á-á]",orya:"[à­¦-à­¯]",tamldec:"[à¯¦-à¯¯]",telu:"[à±¦-à±¯]",thai:"[à¹-à¹]",tibt:"[à¼ -à¼©]",latn:"\\d"},numberingSystemsUTF16={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},hanidecChars=numberingSystems.hanidec.replace(/[\[|\]]/g,"").split("");function parseDigits(ts){let rs=parseInt(ts,10);if(isNaN(rs)){rs="";for(let ns=0;ns<ts.length;ns++){const os=ts.charCodeAt(ns);if(ts[ns].search(numberingSystems.hanidec)!==-1)rs+=hanidecChars.indexOf(ts[ns]);else for(const ss in numberingSystemsUTF16){const[as,ls]=numberingSystemsUTF16[ss];os>=as&&os<=ls&&(rs+=os-as)}}return parseInt(rs,10)}else return rs}function digitRegex({numberingSystem:ts},rs=""){return new RegExp("".concat(numberingSystems[ts||"latn"]).concat(rs))}const MISSING_FTP="missing Intl.DateTimeFormat.formatToParts support";function intUnit(ts,rs=ns=>ns){return{regex:ts,deser:([ns])=>rs(parseDigits(ns))}}const NBSP=String.fromCharCode(160),spaceOrNBSP="[ ".concat(NBSP,"]"),spaceOrNBSPRegExp=new RegExp(spaceOrNBSP,"g");function fixListRegex(ts){return ts.replace(/\./g,"\\.?").replace(spaceOrNBSPRegExp,spaceOrNBSP)}function stripInsensitivities(ts){return ts.replace(/\./g,"").replace(spaceOrNBSPRegExp," ").toLowerCase()}function oneOf(ts,rs){return ts===null?null:{regex:RegExp(ts.map(fixListRegex).join("|")),deser:([ns])=>ts.findIndex(os=>stripInsensitivities(ns)===stripInsensitivities(os))+rs}}function offset$2(ts,rs){return{regex:ts,deser:([,ns,os])=>signedOffset(ns,os),groups:rs}}function simple(ts){return{regex:ts,deser:([rs])=>rs}}function escapeToken(ts){return ts.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function unitForToken(ts,rs){const ns=digitRegex(rs),os=digitRegex(rs,"{2}"),ss=digitRegex(rs,"{3}"),as=digitRegex(rs,"{4}"),ls=digitRegex(rs,"{6}"),cs=digitRegex(rs,"{1,2}"),us=digitRegex(rs,"{1,3}"),ds=digitRegex(rs,"{1,6}"),ps=digitRegex(rs,"{1,9}"),fs=digitRegex(rs,"{2,4}"),hs=digitRegex(rs,"{4,6}"),ms=bs=>({regex:RegExp(escapeToken(bs.val)),deser:([xs])=>xs,literal:!0}),vs=(bs=>{if(ts.literal)return ms(bs);switch(bs.val){case"G":return oneOf(rs.eras("short"),0);case"GG":return oneOf(rs.eras("long"),0);case"y":return intUnit(ds);case"yy":return intUnit(fs,untruncateYear);case"yyyy":return intUnit(as);case"yyyyy":return intUnit(hs);case"yyyyyy":return intUnit(ls);case"M":return intUnit(cs);case"MM":return intUnit(os);case"MMM":return oneOf(rs.months("short",!0),1);case"MMMM":return oneOf(rs.months("long",!0),1);case"L":return intUnit(cs);case"LL":return intUnit(os);case"LLL":return oneOf(rs.months("short",!1),1);case"LLLL":return oneOf(rs.months("long",!1),1);case"d":return intUnit(cs);case"dd":return intUnit(os);case"o":return intUnit(us);case"ooo":return intUnit(ss);case"HH":return intUnit(os);case"H":return intUnit(cs);case"hh":return intUnit(os);case"h":return intUnit(cs);case"mm":return intUnit(os);case"m":return intUnit(cs);case"q":return intUnit(cs);case"qq":return intUnit(os);case"s":return intUnit(cs);case"ss":return intUnit(os);case"S":return intUnit(us);case"SSS":return intUnit(ss);case"u":return simple(ps);case"uu":return simple(cs);case"uuu":return intUnit(ns);case"a":return oneOf(rs.meridiems(),0);case"kkkk":return intUnit(as);case"kk":return intUnit(fs,untruncateYear);case"W":return intUnit(cs);case"WW":return intUnit(os);case"E":case"c":return intUnit(ns);case"EEE":return oneOf(rs.weekdays("short",!1),1);case"EEEE":return oneOf(rs.weekdays("long",!1),1);case"ccc":return oneOf(rs.weekdays("short",!0),1);case"cccc":return oneOf(rs.weekdays("long",!0),1);case"Z":case"ZZ":return offset$2(new RegExp("([+-]".concat(cs.source,")(?::(").concat(os.source,"))?")),2);case"ZZZ":return offset$2(new RegExp("([+-]".concat(cs.source,")(").concat(os.source,")?")),2);case"z":return simple(/[a-z_+-/]{1,256}?/i);case" ":return simple(/[^\S\n\r]/);default:return ms(bs)}})(ts)||{invalidReason:MISSING_FTP};return vs.token=ts,vs}const partTypeStyleToTokenVal={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function tokenForPart(ts,rs,ns){const{type:os,value:ss}=ts;if(os==="literal"){const us=/^\s+$/.test(ss);return{literal:!us,val:us?" ":ss}}const as=rs[os];let ls=os;os==="hour"&&(rs.hour12!=null?ls=rs.hour12?"hour12":"hour24":rs.hourCycle!=null?rs.hourCycle==="h11"||rs.hourCycle==="h12"?ls="hour12":ls="hour24":ls=ns.hour12?"hour12":"hour24");let cs=partTypeStyleToTokenVal[ls];if(typeof cs=="object"&&(cs=cs[as]),cs)return{literal:!1,val:cs}}function buildRegex(ts){const rs=ts.map(ns=>ns.regex).reduce((ns,os)=>"".concat(ns,"(").concat(os.source,")"),"");return["^".concat(rs,"$"),ts]}function match(ts,rs,ns){const os=ts.match(rs);if(os){const ss={};let as=1;for(const ls in ns)if(hasOwnProperty$1(ns,ls)){const cs=ns[ls],us=cs.groups?cs.groups+1:1;!cs.literal&&cs.token&&(ss[cs.token.val[0]]=cs.deser(os.slice(as,as+us))),as+=us}return[os,ss]}else return[os,{}]}function dateTimeFromMatches(ts){const rs=as=>{switch(as){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let ns=null,os;return isUndefined$1(ts.z)||(ns=IANAZone.create(ts.z)),isUndefined$1(ts.Z)||(ns||(ns=new FixedOffsetZone(ts.Z)),os=ts.Z),isUndefined$1(ts.q)||(ts.M=(ts.q-1)*3+1),isUndefined$1(ts.h)||(ts.h<12&&ts.a===1?ts.h+=12:ts.h===12&&ts.a===0&&(ts.h=0)),ts.G===0&&ts.y&&(ts.y=-ts.y),isUndefined$1(ts.u)||(ts.S=parseMillis(ts.u)),[Object.keys(ts).reduce((as,ls)=>{const cs=rs(ls);return cs&&(as[cs]=ts[ls]),as},{}),ns,os]}let dummyDateTimeCache=null;function getDummyDateTime(){return dummyDateTimeCache||(dummyDateTimeCache=DateTime.fromMillis(1555555555555)),dummyDateTimeCache}function maybeExpandMacroToken(ts,rs){if(ts.literal)return ts;const ns=Formatter.macroTokenToFormatOpts(ts.val),os=formatOptsToTokens(ns,rs);return os==null||os.includes(void 0)?ts:os}function expandMacroTokens(ts,rs){return Array.prototype.concat(...ts.map(ns=>maybeExpandMacroToken(ns,rs)))}function explainFromTokens(ts,rs,ns){const os=expandMacroTokens(Formatter.parseFormat(ns),ts),ss=os.map(ls=>unitForToken(ls,ts)),as=ss.find(ls=>ls.invalidReason);if(as)return{input:rs,tokens:os,invalidReason:as.invalidReason};{const[ls,cs]=buildRegex(ss),us=RegExp(ls,"i"),[ds,ps]=match(rs,us,cs),[fs,hs,ms]=ps?dateTimeFromMatches(ps):[null,null,void 0];if(hasOwnProperty$1(ps,"a")&&hasOwnProperty$1(ps,"H"))throw new ConflictingSpecificationError("Can't include meridiem when specifying 24-hour format");return{input:rs,tokens:os,regex:us,rawMatches:ds,matches:ps,result:fs,zone:hs,specificOffset:ms}}}function parseFromTokens(ts,rs,ns){const{result:os,zone:ss,specificOffset:as,invalidReason:ls}=explainFromTokens(ts,rs,ns);return[os,ss,as,ls]}function formatOptsToTokens(ts,rs){if(!ts)return null;const os=Formatter.create(rs,ts).dtFormatter(getDummyDateTime()),ss=os.formatToParts(),as=os.resolvedOptions();return ss.map(ls=>tokenForPart(ls,ts,as))}const INVALID="Invalid DateTime",MAX_DATE=864e13;function unsupportedZone(ts){return new Invalid("unsupported zone",'the zone "'.concat(ts.name,'" is not supported'))}function possiblyCachedWeekData(ts){return ts.weekData===null&&(ts.weekData=gregorianToWeek(ts.c)),ts.weekData}function possiblyCachedLocalWeekData(ts){return ts.localWeekData===null&&(ts.localWeekData=gregorianToWeek(ts.c,ts.loc.getMinDaysInFirstWeek(),ts.loc.getStartOfWeek())),ts.localWeekData}function clone(ts,rs){const ns={ts:ts.ts,zone:ts.zone,c:ts.c,o:ts.o,loc:ts.loc,invalid:ts.invalid};return new DateTime({...ns,...rs,old:ns})}function fixOffset(ts,rs,ns){let os=ts-rs*60*1e3;const ss=ns.offset(os);if(rs===ss)return[os,rs];os-=(ss-rs)*60*1e3;const as=ns.offset(os);return ss===as?[os,ss]:[ts-Math.min(ss,as)*60*1e3,Math.max(ss,as)]}function tsToObj(ts,rs){ts+=rs*60*1e3;const ns=new Date(ts);return{year:ns.getUTCFullYear(),month:ns.getUTCMonth()+1,day:ns.getUTCDate(),hour:ns.getUTCHours(),minute:ns.getUTCMinutes(),second:ns.getUTCSeconds(),millisecond:ns.getUTCMilliseconds()}}function objToTS(ts,rs,ns){return fixOffset(objToLocalTS(ts),rs,ns)}function adjustTime(ts,rs){const ns=ts.o,os=ts.c.year+Math.trunc(rs.years),ss=ts.c.month+Math.trunc(rs.months)+Math.trunc(rs.quarters)*3,as={...ts.c,year:os,month:ss,day:Math.min(ts.c.day,daysInMonth(os,ss))+Math.trunc(rs.days)+Math.trunc(rs.weeks)*7},ls=Duration.fromObject({years:rs.years-Math.trunc(rs.years),quarters:rs.quarters-Math.trunc(rs.quarters),months:rs.months-Math.trunc(rs.months),weeks:rs.weeks-Math.trunc(rs.weeks),days:rs.days-Math.trunc(rs.days),hours:rs.hours,minutes:rs.minutes,seconds:rs.seconds,milliseconds:rs.milliseconds}).as("milliseconds"),cs=objToLocalTS(as);let[us,ds]=fixOffset(cs,ns,ts.zone);return ls!==0&&(us+=ls,ds=ts.zone.offset(us)),{ts:us,o:ds}}function parseDataToDateTime(ts,rs,ns,os,ss,as){const{setZone:ls,zone:cs}=ns;if(ts&&Object.keys(ts).length!==0||rs){const us=rs||cs,ds=DateTime.fromObject(ts,{...ns,zone:us,specificOffset:as});return ls?ds:ds.setZone(cs)}else return DateTime.invalid(new Invalid("unparsable",'the input "'.concat(ss,"\" can't be parsed as ").concat(os)))}function toTechFormat(ts,rs,ns=!0){return ts.isValid?Formatter.create(Locale.create("en-US"),{allowZ:ns,forceSimple:!0}).formatDateTimeFromString(ts,rs):null}function toISODate(ts,rs){const ns=ts.c.year>9999||ts.c.year<0;let os="";return ns&&ts.c.year>=0&&(os+="+"),os+=padStart(ts.c.year,ns?6:4),rs?(os+="-",os+=padStart(ts.c.month),os+="-",os+=padStart(ts.c.day)):(os+=padStart(ts.c.month),os+=padStart(ts.c.day)),os}function toISOTime(ts,rs,ns,os,ss,as){let ls=padStart(ts.c.hour);return rs?(ls+=":",ls+=padStart(ts.c.minute),(ts.c.millisecond!==0||ts.c.second!==0||!ns)&&(ls+=":")):ls+=padStart(ts.c.minute),(ts.c.millisecond!==0||ts.c.second!==0||!ns)&&(ls+=padStart(ts.c.second),(ts.c.millisecond!==0||!os)&&(ls+=".",ls+=padStart(ts.c.millisecond,3))),ss&&(ts.isOffsetFixed&&ts.offset===0&&!as?ls+="Z":ts.o<0?(ls+="-",ls+=padStart(Math.trunc(-ts.o/60)),ls+=":",ls+=padStart(Math.trunc(-ts.o%60))):(ls+="+",ls+=padStart(Math.trunc(ts.o/60)),ls+=":",ls+=padStart(Math.trunc(ts.o%60)))),as&&(ls+="["+ts.zone.ianaName+"]"),ls}const defaultUnitValues={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},defaultWeekUnitValues={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},defaultOrdinalUnitValues={ordinal:1,hour:0,minute:0,second:0,millisecond:0},orderedUnits=["year","month","day","hour","minute","second","millisecond"],orderedWeekUnits=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],orderedOrdinalUnits=["year","ordinal","hour","minute","second","millisecond"];function normalizeUnit(ts){const rs={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[ts.toLowerCase()];if(!rs)throw new InvalidUnitError(ts);return rs}function normalizeUnitWithLocalWeeks(ts){switch(ts.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return normalizeUnit(ts)}}function quickDT(ts,rs){const ns=normalizeZone(rs.zone,Settings.defaultZone),os=Locale.fromObject(rs),ss=Settings.now();let as,ls;if(isUndefined$1(ts.year))as=ss;else{for(const ds of orderedUnits)isUndefined$1(ts[ds])&&(ts[ds]=defaultUnitValues[ds]);const cs=hasInvalidGregorianData(ts)||hasInvalidTimeData(ts);if(cs)return DateTime.invalid(cs);const us=ns.offset(ss);[as,ls]=objToTS(ts,us,ns)}return new DateTime({ts:as,zone:ns,loc:os,o:ls})}function diffRelative(ts,rs,ns){const os=isUndefined$1(ns.round)?!0:ns.round,ss=(ls,cs)=>(ls=roundTo(ls,os||ns.calendary?0:2,!0),rs.loc.clone(ns).relFormatter(ns).format(ls,cs)),as=ls=>ns.calendary?rs.hasSame(ts,ls)?0:rs.startOf(ls).diff(ts.startOf(ls),ls).get(ls):rs.diff(ts,ls).get(ls);if(ns.unit)return ss(as(ns.unit),ns.unit);for(const ls of ns.units){const cs=as(ls);if(Math.abs(cs)>=1)return ss(cs,ls)}return ss(ts>rs?-0:0,ns.units[ns.units.length-1])}function lastOpts(ts){let rs={},ns;return ts.length>0&&typeof ts[ts.length-1]=="object"?(rs=ts[ts.length-1],ns=Array.from(ts).slice(0,ts.length-1)):ns=Array.from(ts),[rs,ns]}class DateTime{constructor(rs){const ns=rs.zone||Settings.defaultZone;let os=rs.invalid||(Number.isNaN(rs.ts)?new Invalid("invalid input"):null)||(ns.isValid?null:unsupportedZone(ns));this.ts=isUndefined$1(rs.ts)?Settings.now():rs.ts;let ss=null,as=null;if(!os)if(rs.old&&rs.old.ts===this.ts&&rs.old.zone.equals(ns))[ss,as]=[rs.old.c,rs.old.o];else{const cs=ns.offset(this.ts);ss=tsToObj(this.ts,cs),os=Number.isNaN(ss.year)?new Invalid("invalid input"):null,ss=os?null:ss,as=os?null:cs}this._zone=ns,this.loc=rs.loc||Locale.create(),this.invalid=os,this.weekData=null,this.localWeekData=null,this.c=ss,this.o=as,this.isLuxonDateTime=!0}static now(){return new DateTime({})}static local(){const[rs,ns]=lastOpts(arguments),[os,ss,as,ls,cs,us,ds]=ns;return quickDT({year:os,month:ss,day:as,hour:ls,minute:cs,second:us,millisecond:ds},rs)}static utc(){const[rs,ns]=lastOpts(arguments),[os,ss,as,ls,cs,us,ds]=ns;return rs.zone=FixedOffsetZone.utcInstance,quickDT({year:os,month:ss,day:as,hour:ls,minute:cs,second:us,millisecond:ds},rs)}static fromJSDate(rs,ns={}){const os=isDate(rs)?rs.valueOf():NaN;if(Number.isNaN(os))return DateTime.invalid("invalid input");const ss=normalizeZone(ns.zone,Settings.defaultZone);return ss.isValid?new DateTime({ts:os,zone:ss,loc:Locale.fromObject(ns)}):DateTime.invalid(unsupportedZone(ss))}static fromMillis(rs,ns={}){if(isNumber$2(rs))return rs<-MAX_DATE||rs>MAX_DATE?DateTime.invalid("Timestamp out of range"):new DateTime({ts:rs,zone:normalizeZone(ns.zone,Settings.defaultZone),loc:Locale.fromObject(ns)});throw new InvalidArgumentError("fromMillis requires a numerical input, but received a ".concat(typeof rs," with value ").concat(rs))}static fromSeconds(rs,ns={}){if(isNumber$2(rs))return new DateTime({ts:rs*1e3,zone:normalizeZone(ns.zone,Settings.defaultZone),loc:Locale.fromObject(ns)});throw new InvalidArgumentError("fromSeconds requires a numerical input")}static fromObject(rs,ns={}){rs=rs||{};const os=normalizeZone(ns.zone,Settings.defaultZone);if(!os.isValid)return DateTime.invalid(unsupportedZone(os));const ss=Locale.fromObject(ns),as=normalizeObject(rs,normalizeUnitWithLocalWeeks),{minDaysInFirstWeek:ls,startOfWeek:cs}=usesLocalWeekValues(as,ss),us=Settings.now(),ds=isUndefined$1(ns.specificOffset)?os.offset(us):ns.specificOffset,ps=!isUndefined$1(as.ordinal),fs=!isUndefined$1(as.year),hs=!isUndefined$1(as.month)||!isUndefined$1(as.day),ms=fs||hs,gs=as.weekYear||as.weekNumber;if((ms||ps)&&gs)throw new ConflictingSpecificationError("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(hs&&ps)throw new ConflictingSpecificationError("Can't mix ordinal dates with month/day");const vs=gs||as.weekday&&!ms;let bs,xs,ys=tsToObj(us,ds);vs?(bs=orderedWeekUnits,xs=defaultWeekUnitValues,ys=gregorianToWeek(ys,ls,cs)):ps?(bs=orderedOrdinalUnits,xs=defaultOrdinalUnitValues,ys=gregorianToOrdinal(ys)):(bs=orderedUnits,xs=defaultUnitValues);let Ss=!1;for(const Rs of bs){const As=as[Rs];isUndefined$1(As)?Ss?as[Rs]=xs[Rs]:as[Rs]=ys[Rs]:Ss=!0}const Cs=vs?hasInvalidWeekData(as,ls,cs):ps?hasInvalidOrdinalData(as):hasInvalidGregorianData(as),$s=Cs||hasInvalidTimeData(as);if($s)return DateTime.invalid($s);const Es=vs?weekToGregorian(as,ls,cs):ps?ordinalToGregorian(as):as,[ws,Ts]=objToTS(Es,ds,os),Is=new DateTime({ts:ws,zone:os,o:Ts,loc:ss});return as.weekday&&ms&&rs.weekday!==Is.weekday?DateTime.invalid("mismatched weekday","you can't specify both a weekday of ".concat(as.weekday," and a date of ").concat(Is.toISO())):Is}static fromISO(rs,ns={}){const[os,ss]=parseISODate(rs);return parseDataToDateTime(os,ss,ns,"ISO 8601",rs)}static fromRFC2822(rs,ns={}){const[os,ss]=parseRFC2822Date(rs);return parseDataToDateTime(os,ss,ns,"RFC 2822",rs)}static fromHTTP(rs,ns={}){const[os,ss]=parseHTTPDate(rs);return parseDataToDateTime(os,ss,ns,"HTTP",ns)}static fromFormat(rs,ns,os={}){if(isUndefined$1(rs)||isUndefined$1(ns))throw new InvalidArgumentError("fromFormat requires an input string and a format");const{locale:ss=null,numberingSystem:as=null}=os,ls=Locale.fromOpts({locale:ss,numberingSystem:as,defaultToEN:!0}),[cs,us,ds,ps]=parseFromTokens(ls,rs,ns);return ps?DateTime.invalid(ps):parseDataToDateTime(cs,us,os,"format ".concat(ns),rs,ds)}static fromString(rs,ns,os={}){return DateTime.fromFormat(rs,ns,os)}static fromSQL(rs,ns={}){const[os,ss]=parseSQL(rs);return parseDataToDateTime(os,ss,ns,"SQL",rs)}static invalid(rs,ns=null){if(!rs)throw new InvalidArgumentError("need to specify a reason the DateTime is invalid");const os=rs instanceof Invalid?rs:new Invalid(rs,ns);if(Settings.throwOnInvalid)throw new InvalidDateTimeError(os);return new DateTime({invalid:os})}static isDateTime(rs){return rs&&rs.isLuxonDateTime||!1}static parseFormatForOpts(rs,ns={}){const os=formatOptsToTokens(rs,Locale.fromObject(ns));return os?os.map(ss=>ss?ss.val:null).join(""):null}static expandFormat(rs,ns={}){return expandMacroTokens(Formatter.parseFormat(rs),Locale.fromObject(ns)).map(ss=>ss.val).join("")}get(rs){return this[rs]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?possiblyCachedWeekData(this).weekYear:NaN}get weekNumber(){return this.isValid?possiblyCachedWeekData(this).weekNumber:NaN}get weekday(){return this.isValid?possiblyCachedWeekData(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?possiblyCachedLocalWeekData(this).weekday:NaN}get localWeekNumber(){return this.isValid?possiblyCachedLocalWeekData(this).weekNumber:NaN}get localWeekYear(){return this.isValid?possiblyCachedLocalWeekData(this).weekYear:NaN}get ordinal(){return this.isValid?gregorianToOrdinal(this.c).ordinal:NaN}get monthShort(){return this.isValid?Info.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Info.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Info.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Info.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const rs=864e5,ns=6e4,os=objToLocalTS(this.c),ss=this.zone.offset(os-rs),as=this.zone.offset(os+rs),ls=this.zone.offset(os-ss*ns),cs=this.zone.offset(os-as*ns);if(ls===cs)return[this];const us=os-ls*ns,ds=os-cs*ns,ps=tsToObj(us,ls),fs=tsToObj(ds,cs);return ps.hour===fs.hour&&ps.minute===fs.minute&&ps.second===fs.second&&ps.millisecond===fs.millisecond?[clone(this,{ts:us}),clone(this,{ts:ds})]:[this]}get isInLeapYear(){return isLeapYear(this.year)}get daysInMonth(){return daysInMonth(this.year,this.month)}get daysInYear(){return this.isValid?daysInYear(this.year):NaN}get weeksInWeekYear(){return this.isValid?weeksInWeekYear(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?weeksInWeekYear(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(rs={}){const{locale:ns,numberingSystem:os,calendar:ss}=Formatter.create(this.loc.clone(rs),rs).resolvedOptions(this);return{locale:ns,numberingSystem:os,outputCalendar:ss}}toUTC(rs=0,ns={}){return this.setZone(FixedOffsetZone.instance(rs),ns)}toLocal(){return this.setZone(Settings.defaultZone)}setZone(rs,{keepLocalTime:ns=!1,keepCalendarTime:os=!1}={}){if(rs=normalizeZone(rs,Settings.defaultZone),rs.equals(this.zone))return this;if(rs.isValid){let ss=this.ts;if(ns||os){const as=rs.offset(this.ts),ls=this.toObject();[ss]=objToTS(ls,as,rs)}return clone(this,{ts:ss,zone:rs})}else return DateTime.invalid(unsupportedZone(rs))}reconfigure({locale:rs,numberingSystem:ns,outputCalendar:os}={}){const ss=this.loc.clone({locale:rs,numberingSystem:ns,outputCalendar:os});return clone(this,{loc:ss})}setLocale(rs){return this.reconfigure({locale:rs})}set(rs){if(!this.isValid)return this;const ns=normalizeObject(rs,normalizeUnitWithLocalWeeks),{minDaysInFirstWeek:os,startOfWeek:ss}=usesLocalWeekValues(ns,this.loc),as=!isUndefined$1(ns.weekYear)||!isUndefined$1(ns.weekNumber)||!isUndefined$1(ns.weekday),ls=!isUndefined$1(ns.ordinal),cs=!isUndefined$1(ns.year),us=!isUndefined$1(ns.month)||!isUndefined$1(ns.day),ds=cs||us,ps=ns.weekYear||ns.weekNumber;if((ds||ls)&&ps)throw new ConflictingSpecificationError("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(us&&ls)throw new ConflictingSpecificationError("Can't mix ordinal dates with month/day");let fs;as?fs=weekToGregorian({...gregorianToWeek(this.c,os,ss),...ns},os,ss):isUndefined$1(ns.ordinal)?(fs={...this.toObject(),...ns},isUndefined$1(ns.day)&&(fs.day=Math.min(daysInMonth(fs.year,fs.month),fs.day))):fs=ordinalToGregorian({...gregorianToOrdinal(this.c),...ns});const[hs,ms]=objToTS(fs,this.o,this.zone);return clone(this,{ts:hs,o:ms})}plus(rs){if(!this.isValid)return this;const ns=Duration.fromDurationLike(rs);return clone(this,adjustTime(this,ns))}minus(rs){if(!this.isValid)return this;const ns=Duration.fromDurationLike(rs).negate();return clone(this,adjustTime(this,ns))}startOf(rs,{useLocaleWeeks:ns=!1}={}){if(!this.isValid)return this;const os={},ss=Duration.normalizeUnit(rs);switch(ss){case"years":os.month=1;case"quarters":case"months":os.day=1;case"weeks":case"days":os.hour=0;case"hours":os.minute=0;case"minutes":os.second=0;case"seconds":os.millisecond=0;break}if(ss==="weeks")if(ns){const as=this.loc.getStartOfWeek(),{weekday:ls}=this;ls<as&&(os.weekNumber=this.weekNumber-1),os.weekday=as}else os.weekday=1;if(ss==="quarters"){const as=Math.ceil(this.month/3);os.month=(as-1)*3+1}return this.set(os)}endOf(rs,ns){return this.isValid?this.plus({[rs]:1}).startOf(rs,ns).minus(1):this}toFormat(rs,ns={}){return this.isValid?Formatter.create(this.loc.redefaultToEN(ns)).formatDateTimeFromString(this,rs):INVALID}toLocaleString(rs=DATE_SHORT,ns={}){return this.isValid?Formatter.create(this.loc.clone(ns),rs).formatDateTime(this):INVALID}toLocaleParts(rs={}){return this.isValid?Formatter.create(this.loc.clone(rs),rs).formatDateTimeParts(this):[]}toISO({format:rs="extended",suppressSeconds:ns=!1,suppressMilliseconds:os=!1,includeOffset:ss=!0,extendedZone:as=!1}={}){if(!this.isValid)return null;const ls=rs==="extended";let cs=toISODate(this,ls);return cs+="T",cs+=toISOTime(this,ls,ns,os,ss,as),cs}toISODate({format:rs="extended"}={}){return this.isValid?toISODate(this,rs==="extended"):null}toISOWeekDate(){return toTechFormat(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:rs=!1,suppressSeconds:ns=!1,includeOffset:os=!0,includePrefix:ss=!1,extendedZone:as=!1,format:ls="extended"}={}){return this.isValid?(ss?"T":"")+toISOTime(this,ls==="extended",ns,rs,os,as):null}toRFC2822(){return toTechFormat(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return toTechFormat(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?toISODate(this,!0):null}toSQLTime({includeOffset:rs=!0,includeZone:ns=!1,includeOffsetSpace:os=!0}={}){let ss="HH:mm:ss.SSS";return(ns||rs)&&(os&&(ss+=" "),ns?ss+="z":rs&&(ss+="ZZ")),toTechFormat(this,ss,!0)}toSQL(rs={}){return this.isValid?"".concat(this.toSQLDate()," ").concat(this.toSQLTime(rs)):null}toString(){return this.isValid?this.toISO():INVALID}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?"DateTime { ts: ".concat(this.toISO(),", zone: ").concat(this.zone.name,", locale: ").concat(this.locale," }"):"DateTime { Invalid, reason: ".concat(this.invalidReason," }")}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(rs={}){if(!this.isValid)return{};const ns={...this.c};return rs.includeConfig&&(ns.outputCalendar=this.outputCalendar,ns.numberingSystem=this.loc.numberingSystem,ns.locale=this.loc.locale),ns}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(rs,ns="milliseconds",os={}){if(!this.isValid||!rs.isValid)return Duration.invalid("created by diffing an invalid DateTime");const ss={locale:this.locale,numberingSystem:this.numberingSystem,...os},as=maybeArray(ns).map(Duration.normalizeUnit),ls=rs.valueOf()>this.valueOf(),cs=ls?this:rs,us=ls?rs:this,ds=diff(cs,us,as,ss);return ls?ds.negate():ds}diffNow(rs="milliseconds",ns={}){return this.diff(DateTime.now(),rs,ns)}until(rs){return this.isValid?Interval.fromDateTimes(this,rs):this}hasSame(rs,ns,os){if(!this.isValid)return!1;const ss=rs.valueOf(),as=this.setZone(rs.zone,{keepLocalTime:!0});return as.startOf(ns,os)<=ss&&ss<=as.endOf(ns,os)}equals(rs){return this.isValid&&rs.isValid&&this.valueOf()===rs.valueOf()&&this.zone.equals(rs.zone)&&this.loc.equals(rs.loc)}toRelative(rs={}){if(!this.isValid)return null;const ns=rs.base||DateTime.fromObject({},{zone:this.zone}),os=rs.padding?this<ns?-rs.padding:rs.padding:0;let ss=["years","months","days","hours","minutes","seconds"],as=rs.unit;return Array.isArray(rs.unit)&&(ss=rs.unit,as=void 0),diffRelative(ns,this.plus(os),{...rs,numeric:"always",units:ss,unit:as})}toRelativeCalendar(rs={}){return this.isValid?diffRelative(rs.base||DateTime.fromObject({},{zone:this.zone}),this,{...rs,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...rs){if(!rs.every(DateTime.isDateTime))throw new InvalidArgumentError("min requires all arguments be DateTimes");return bestBy(rs,ns=>ns.valueOf(),Math.min)}static max(...rs){if(!rs.every(DateTime.isDateTime))throw new InvalidArgumentError("max requires all arguments be DateTimes");return bestBy(rs,ns=>ns.valueOf(),Math.max)}static fromFormatExplain(rs,ns,os={}){const{locale:ss=null,numberingSystem:as=null}=os,ls=Locale.fromOpts({locale:ss,numberingSystem:as,defaultToEN:!0});return explainFromTokens(ls,rs,ns)}static fromStringExplain(rs,ns,os={}){return DateTime.fromFormatExplain(rs,ns,os)}static get DATE_SHORT(){return DATE_SHORT}static get DATE_MED(){return DATE_MED}static get DATE_MED_WITH_WEEKDAY(){return DATE_MED_WITH_WEEKDAY}static get DATE_FULL(){return DATE_FULL}static get DATE_HUGE(){return DATE_HUGE}static get TIME_SIMPLE(){return TIME_SIMPLE}static get TIME_WITH_SECONDS(){return TIME_WITH_SECONDS}static get TIME_WITH_SHORT_OFFSET(){return TIME_WITH_SHORT_OFFSET}static get TIME_WITH_LONG_OFFSET(){return TIME_WITH_LONG_OFFSET}static get TIME_24_SIMPLE(){return TIME_24_SIMPLE}static get TIME_24_WITH_SECONDS(){return TIME_24_WITH_SECONDS}static get TIME_24_WITH_SHORT_OFFSET(){return TIME_24_WITH_SHORT_OFFSET}static get TIME_24_WITH_LONG_OFFSET(){return TIME_24_WITH_LONG_OFFSET}static get DATETIME_SHORT(){return DATETIME_SHORT}static get DATETIME_SHORT_WITH_SECONDS(){return DATETIME_SHORT_WITH_SECONDS}static get DATETIME_MED(){return DATETIME_MED}static get DATETIME_MED_WITH_SECONDS(){return DATETIME_MED_WITH_SECONDS}static get DATETIME_MED_WITH_WEEKDAY(){return DATETIME_MED_WITH_WEEKDAY}static get DATETIME_FULL(){return DATETIME_FULL}static get DATETIME_FULL_WITH_SECONDS(){return DATETIME_FULL_WITH_SECONDS}static get DATETIME_HUGE(){return DATETIME_HUGE}static get DATETIME_HUGE_WITH_SECONDS(){return DATETIME_HUGE_WITH_SECONDS}}function friendlyDateTime(ts){if(DateTime.isDateTime(ts))return ts;if(ts&&ts.valueOf&&isNumber$2(ts.valueOf()))return DateTime.fromJSDate(ts);if(ts&&typeof ts=="object")return DateTime.fromObject(ts);throw new InvalidArgumentError("Unknown datetime argument: ".concat(ts,", of type ").concat(typeof ts))}var ApptStatus=(ts=>(ts.ready="ready",ts["pre-video"]="pre-video",ts["on-video"]="on-video",ts.unsigned="unsigned",ts.complete="complete",ts))(ApptStatus||{});const mapStatusToTelemed=(ts,rs)=>{switch(ts){case"planned":return"ready";case"arrived":return"pre-video";case"in-progress":return"on-video";case"finished":return rs==="fulfilled"?"complete":"unsigned"}},PHOTON_PATIENT_IDENTIFIER_SYSTEM="http://api.zapehr.com/photon-patient-id",PRACTITIONER_QUALIFICATION_EXTENSION_URL="http://hl7.org/fhir/us/davinci-pdex-plan-net/StructureDefinition/practitioner-qualification",PRACTITIONER_QUALIFICATION_CODE_SYSTEM="http://terminology.hl7.org/CodeSystem/v2-0360|2.7",PRACTITIONER_QUALIFICATION_STATE_SYSTEM="http://hl7.org/fhir/us/core/ValueSet/us-core-usps-state",PRIVATE_EXTENSION_BASE_URL$1="https://fhir.zapehr.com/r4/StructureDefinitions",visitStatusExtensionCode="visit-history",visitStatusExtensionUrl="".concat(PRIVATE_EXTENSION_BASE_URL$1,"/").concat(visitStatusExtensionCode),getVisitStatusHistory=ts=>{var ss,as,ls;return((ls=(as=((ss=ts.extension)!=null?ss:[]).find(cs=>cs.url===visitStatusExtensionUrl))==null?void 0:as.extension)!=null?ls:[]).map(cs=>{var ds;return console.log(2,cs),((ds=cs.extension)!=null?ds:[]).reduce((ps,fs)=>{var hs;return fs.url==="status"?(ps.status=fs.valueString,ps.label=(hs=ps.status)!=null?hs:"unknown"):ps.period=fs.valuePeriod,ps},{status:"",period:{},label:""})}).filter(cs=>{const{status:us,period:ds,label:ps}=cs;return"".concat(us)!==""&&ds.start!=null&&ps!==""})},PRIVATE_EXTENSION_BASE_URL="https://fhir.zapehr.com/r4/StructureDefinitions",PUBLIC_EXTENSION_BASE_URL="https://extensions.fhir.zapehr.com",FHIR_IDENTIFIER_NPI="http://hl7.org/fhir/sid/us-npi";var OTTEHR_MODULE=(ts=>(ts.UC="OTTEHR-UC",ts.BH="OTTEHR-BH",ts.TM="OTTEHR-TM",ts))(OTTEHR_MODULE||{});const OTTEHR_PATIENT_MESSAGE_SYSTEM="ottehr-patient-message-status",OTTEHR_PATIENT_MESSAGE_CODE="read-by-ottehr",PATIENT_PHOTO_CODE="72170-4",PractitionerQualificationCodesLabels={"CSW-PIP":"Clinical Social Worker-Private Independent Practice","FITNESS-PROFESSI":"Fitness Professional (not a standardized code)","LISW-CP":"Licensed Independent Social Worker-Clinical Practice","PHARMACY-ASSISTA":"Pharmacy Assistant (not a standardized code)","PODIATRIC-ASSIST":"Podiatric Assistant (may vary by state)",CISW:"Certified Independent Social Worker",CMSW:"Clinical Master Social Worker",COUNSELOR:"Counselor",ISW:"Independent Social Worker",MLSW:"Master of Social Work",ORTH:"",RHMCI:"",DO:"Doctor of Osteopathic Medicine",MD:"Doctor of Medicine",PA:"Physician Assistant",RN:"Registered Nurse",NP:"Nurse Practitioner",CNM:"Certified Nurse Midwife",PMHNP:"Psychiatric Mental Health Nurse Practitioner",RNFA:"Registered Nurse First Assistant",ACSW:"Master's level Clinical Social Worker",APCC:"Advanced Practice Clinical Counselor",BCBA:"Board Certified Behavior Analyst",BCaBA:"Board Certified Assistant Behavior Analyst",BHA:"Bachelor of Health Administration",BHARI:"Behavioral Health Associate in Recovery",OD:"Doctor of Optometry",DPM:"Doctor of Podiatric Medicine",DA:"Dental Assistant",DDS:"Doctor of Dental Surgery",DEH:"Dental Hygienist",DMD:"Doctor of Dental Medicine",DPT:"Doctor of Physical Therapy",PT:"Physical Therapist",PTA:"Physical Therapist Assistant",PBT:"Physical Therapist Aide",LCADC:"Licensed Clinical Alcohol and Drug Counselor",LCAT:"Licensed Marriage and Family Therapist",LCMHC:"Licensed Clinical Mental Health Counselor","LCMHC-S":"Licensed Clinical Mental Health Counselor Supervisor",LCMHCA:"Licensed Clinical Mental Health Counselor Associate",LCPC:"Licensed Clinical Professional Counselor",LCSW:"Licensed Clinical Social Worker",LSW:"Licensed Social Worker",LCSWA:"Licensed Certified Social Worker Assistant",LICSW:"Licensed Independent Clinical Social Worker","LIMHP-CSW":"Licensed Independent Mental Health Professional-Clinical Social Worker","LIMHP-CMSW":"Licensed Independent Mental Health Professional-Clinical Master Social Worker",LIMHP:"Licensed Independent Mental Health Professional (followed by specific area)",LISW:"Licensed Independent Social Worker",LMFT:"Licensed Marriage and Family Therapist","LMFT-S":"Licensed Marriage and Family Therapist Supervisor",LMFTA:"Licensed Marriage and Family Therapist Associate",LMHC:"Licensed Mental Health Counselor (may vary by state)",LMSW:"Licensed Master Social Worker",LPC:"Licensed Professional Counselor","LPC-C":"Licensed Professional Counselor-Candidate/Provisional",LPCA:"Licensed Professional Counselor Associate",LPCC:"Licensed Professional Clinical Counselor",LPCI:"Licensed Professional Counselor Intern",LSCSW:"Licensed Specialist Clinical Social Worker",MFTA:"Marriage and Family Therapist Assistant",MHCA:"Mental Health Counselor Aide",MHT:"Mental Health Technician",OMS:"Oral and Maxillofacial Surgeon",OT:"Occupational Therapist",OTA:"Occupational Therapist Assistant",OTHER:"Other Healthcare Professional (specify)",RD:"Registered Dietitian",RPh:"Registered Pharmacist",PhT:"Pharmacy Technician",PhD:"Doctor of Philosophy (in a healthcare field)",PsyD:"Doctor of Psychology",RBT:"Registered Behavior Technician",RCSWI:"Registered Clinical Social Work Intern",SLP:"Speech-Language Pathologist",LPN:"Licensed Practical Nurse",LAc:"Licensed Acupuncturist",LMT:"Licensed Massage Therapist",DC:"Doctor of Chiropractic",ND:"Doctor of Naturopathic Medicine",MA:"Medical Assistant",LPCMH:"Licensed Professional Counselor in Mental Health","LIMHP-CPC":"Licensed Independent Mental Health Professional-Clinical Pastoral Counselor","LPC-MH":"Licensed Professional Counselor-Mental Health","LPC/MHSP":"Licensed Professional Counselor/Mental Health Service Provider",CMHC:"Certified Mental Health Counselor",ALC:"Addictions Counselor",LAC:"Licensed Addiction Counselor",LACMH:"Licensed Addiction Counselor-Mental Health",LAPC:"Licensed Associate Professional Counselor",ACMHC:"Associate Certified Mental Health Counselor",LMHCA:"Licensed Master Mental Health Counselor",LGPC:"Licensed Graduate Professional Counselor",CSW:"Clinical Social Worker","LCSW-C":"Licensed Clinical Social",LGSW:"Licensed Graduate Social Worker",LASW:"Licensed Addiction Specialist Social Worker (may vary by state)",APSW:"Academy of Certified Social Workers (not a specific license)",RT:"Respiratory Therapist",AUD:"Audiologist",CRNA:"Certified Registered Nurse Anesthetist",OPTHAMOLOGIST:"Ophthalmologist (M.D. specializing in the eye)",OPA:"Ophthalmic Technician/Assistant","CP-A":"Unknown meaning** (not a recognized code in standard healthcare classification systems)",AT:"Athletic Trainer",EMR:"Electronic Medical Records (not a profession)",EMT:"Emergency Medical Technician (basic level)","EMT-A":"Emergency Medical Technician-Advanced",LVN:"Licensed Vocational Nurse",MLT:"Medical Laboratory Technician",NMT:"Nuclear Medicine Technologist",LN:"Licensed Dietitian/Nutritionist (may vary by state)",OPT:"Ophthalmic Technician (may vary from OPA)","OTHER-ALLIED-HEA":"Other Allied Health Professional (specify)",PAR:"Physician Assistant (PA is more common)",PI:"Physician Assistant (PA is more common)","RADIOLOGY-TECH":"Radiologic Technologist (general term)",ACU:"Acupuncturist (may differ from LAc)",DT:"Dance Therapist",MOT:"Occupational Therapist (OT is more common)",MPT:"Master of Physical Therapy (not a profession)",MT:"Massage Therapist (may differ from LMT)",OTD:"Doctor of Occupational Therapy (OT is more common)","OTR/L":"Occupational Therapist Registered/Licensed",RDN:"Registered Dietitian Nutritionist","SLP-CF":"Speech-Language Pathologist-Clinical Fellow (student)",SLPD:"Speech-Language Pathologist (general term)",ATC:"Athletic Trainer (already mentioned)",COTA:"Certified Occupational Therapist Assistant",LMPC:"Licensed Marriage and Family Therapist (already mentioned)",ORT:"Orthotist (may differ from CPO)",SLPA:"Speech-Language Pathology Assistant","MT-BC":"Music Therapist-Board Certified"};Object.keys(PractitionerQualificationCodesLabels).map(ts=>({value:ts,label:"".concat(ts," (").concat(PractitionerQualificationCodesLabels[ts],")")}));const makeMessageReadStatusTag=ts=>{const{userId:rs,timeRead:ns}=ts;return{system:OTTEHR_PATIENT_MESSAGE_SYSTEM,code:OTTEHR_PATIENT_MESSAGE_CODE,display:"".concat(rs,"-").concat(ns)}},makePatchOperationForReadMessage=(ts,rs,ns)=>{var ls;const os=(ls=ns!=null?ns:DateTime.now().toISO())!=null?ls:"",ss=rs.id,as=makeMessageReadStatusTag({timeRead:os,userId:ss});return getPatchOperationForNewMetaTag(ts,as)},markAllMessagesRead=async ts=>{const{chat:rs,user:ns,fhirClient:os,timeStamp:ss}=ts,as=rs.filter(us=>{const{isRead:ds,sender:ps}=us;if(ds)return!1;const[fs]=ps;return!!(fs&&fs!=="Practitioner")}).map(us=>us.id),cs=(await os.searchResources({resourceType:"Communication",searchParams:[{name:"_id",value:as.join(",")}]})).map(us=>{var ps;const ds=makePatchOperationForReadMessage(us,ns,ss);return getPatchBinary({resourceId:(ps=us.id)!=null?ps:"",resourceType:"Communication",patchOperations:[ds]})});await(os==null?void 0:os.batchRequest({requests:cs}))},initialsFromName=ts=>ts==="Ottehr Staff"||ts==="Ottehr Team"?"Ottehr":ts.split(" ").flatMap(ns=>{var os;return((os=ns.split("-"))!=null?os:[]).map(ss=>ss.length?ss.charAt(0):"")}).join("");function getFirstName(ts){var rs,ns,os;return(os=(ns=(rs=ts.name)==null?void 0:rs[0])==null?void 0:ns.given)==null?void 0:os[0]}function getLastName(ts){var rs,ns;return(ns=(rs=ts.name)==null?void 0:rs[0])==null?void 0:ns.family}const getFullestAvailableName=ts=>{const rs=getFirstName(ts),ns=getLastName(ts);if(rs&&ns)return"".concat(rs," ").concat(ns);if(rs)return rs;if(ns)return ns},getPatchOperationForNewMetaTag=(ts,rs)=>{var ss,as,ls;if(ts.meta==null)return{op:"add",path:"/meta",value:{tag:[{...rs}]}};if(((ss=ts.meta)==null?void 0:ss.tag)==null)return{op:"add",path:"/meta/tag",value:[{...rs}]};const os=((ls=(as=ts.meta)==null?void 0:as.tag)!=null?ls:[]).findIndex(cs=>cs.system===rs.system);return os>=0?{op:"replace",path:"/meta/tag/".concat(os,"/code"),value:rs.code}:{op:"add",path:"/meta/tag/-",value:rs}};function getPatchBinary(ts){const{resourceId:rs,resourceType:ns,patchOperations:os}=ts;return{method:"PATCH",url:"/".concat(ns,"/").concat(rs),resource:{resourceType:"Binary",data:btoa(unescape(encodeURIComponent(JSON.stringify(os)))),contentType:"application/json-patch+json"}}}function convertFhirNameToDisplayName(ts){var rs;return"".concat(ts.family,", ").concat((rs=ts.given)==null?void 0:rs.join(" "))}function formatPhoneNumber(ts){return ts&&"("+ts.slice(0,3)+") "+ts.slice(3,6)+"-"+ts.slice(6)}function standardizePhoneNumber(ts){if(!ts)return ts;const rs=ts.replace(/\D/g,"");let ns;return rs.length===10?ns=rs:rs.length===11&&rs.startsWith("1")&&(ns=rs.slice(1)),formatPhoneNumber(ns)}const mapPaperworkResponseItem=ts=>ts.extension?{...ts,answer:[...ts.answer||[],{valueArray:ts.extension.filter(rs=>rs.url==="".concat(PRIVATE_EXTENSION_BASE_URL,"/form-list-values")).map(rs=>rs.extension.reduce((ns,os)=>{const ss=os.extension.find(ls=>ls.url==="code").valueCode,as=os.extension.find(ls=>ls.url==="value").valueString;return ns[ss]=as,ns},{}))}],extension:ts.extension.filter(rs=>rs.url!="".concat(PRIVATE_EXTENSION_BASE_URL,"/form-list-values"))}:ts,getQuestionnaireResponseByLinkId=(ts,rs)=>{const ns=(rs==null?void 0:rs.item)&&rs.item.find(os=>os.linkId===ts);return ns&&mapPaperworkResponseItem(ns)};function allLicensesForPractitioner(ts){const rs=[];return ts!=null&&ts.qualification&&ts.qualification.forEach(ns=>{var ss,as,ls,cs,us,ds,ps,fs,hs;const os=(ss=ns.extension)==null?void 0:ss.find(ms=>ms.url===PRACTITIONER_QUALIFICATION_EXTENSION_URL);if(os){const ms=(ls=(as=ns.code.coding)==null?void 0:as.find(xs=>xs.system===PRACTITIONER_QUALIFICATION_CODE_SYSTEM))==null?void 0:ls.code,gs=(cs=os.extension)==null?void 0:cs.find(xs=>xs.url==="whereValid"),vs=(ps=(ds=(us=gs==null?void 0:gs.valueCodeableConcept)==null?void 0:us.coding)==null?void 0:ds.find(xs=>xs.system===PRACTITIONER_QUALIFICATION_STATE_SYSTEM))==null?void 0:ps.code,bs=(hs=(fs=os.extension)==null?void 0:fs.find(xs=>xs.url==="status"))==null?void 0:hs.valueCode;ms&&vs&&rs.push({state:vs,code:ms,active:bs==="active"})}}),rs}const removePrefix=(ts,rs)=>rs.includes(ts)?rs.replace(ts,""):void 0,checkIsEncounterForPractitioner=(ts,rs)=>{var as,ls,cs;const ns=rs==null?void 0:rs.id,os=(cs=(ls=(as=ts.participant)==null?void 0:as.find(us=>{var ds,ps;return(ps=(ds=us.individual)==null?void 0:ds.reference)==null?void 0:ps.startsWith("Practitioner/")}))==null?void 0:ls.individual)==null?void 0:cs.reference,ss=os&&removePrefix("Practitioner/",os);return!!rs&&!!os&&ns===ss},mapEncounterStatusHistory=(ts,rs)=>{var os,ss;const ns=[];return ts.forEach(as=>{ns.push({start:as.period.start,end:as.period.end,status:mapStatusToTelemed(as.status,void 0)})}),rs==="fulfilled"&&((os=ns.at(-1))==null?void 0:os.status)==="unsigned"&&ns.push({start:(ss=ns.at(-1))==null?void 0:ss.end,status:"complete"}),ns},createStoreImpl=ts=>{let rs;const ns=new Set,os=(ps,fs)=>{const hs=typeof ps=="function"?ps(rs):ps;if(!Object.is(hs,rs)){const ms=rs;rs=(fs!=null?fs:typeof hs!="object"||hs===null)?hs:Object.assign({},rs,hs),ns.forEach(gs=>gs(rs,ms))}},ss=()=>rs,us={setState:os,getState:ss,getInitialState:()=>ds,subscribe:ps=>(ns.add(ps),()=>ns.delete(ps)),destroy:()=>{ns.clear()}},ds=rs=ts(os,ss,us);return us},createStore=ts=>ts?createStoreImpl(ts):createStoreImpl;var withSelector={exports:{}},withSelector_production_min={},shim={exports:{}},useSyncExternalStoreShim_production_min={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e$1=reactExports;function h$2(ts,rs){return ts===rs&&(ts!==0||1/ts===1/rs)||ts!==ts&&rs!==rs}var k$2=typeof Object.is=="function"?Object.is:h$2,l$1=e$1.useState,m$1=e$1.useEffect,n$2=e$1.useLayoutEffect,p$2=e$1.useDebugValue;function q$3(ts,rs){var ns=rs(),os=l$1({inst:{value:ns,getSnapshot:rs}}),ss=os[0].inst,as=os[1];return n$2(function(){ss.value=ns,ss.getSnapshot=rs,r$3(ss)&&as({inst:ss})},[ts,ns,rs]),m$1(function(){return r$3(ss)&&as({inst:ss}),ts(function(){r$3(ss)&&as({inst:ss})})},[ts]),p$2(ns),ns}function r$3(ts){var rs=ts.getSnapshot;ts=ts.value;try{var ns=rs();return!k$2(ts,ns)}catch{return!0}}function t$2(ts,rs){return rs()}var u$2=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?t$2:q$3;useSyncExternalStoreShim_production_min.useSyncExternalStore=e$1.useSyncExternalStore!==void 0?e$1.useSyncExternalStore:u$2;shim.exports=useSyncExternalStoreShim_production_min;var shimExports=shim.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h$1=reactExports,n$1=shimExports;function p$1(ts,rs){return ts===rs&&(ts!==0||1/ts===1/rs)||ts!==ts&&rs!==rs}var q$2=typeof Object.is=="function"?Object.is:p$1,r$2=n$1.useSyncExternalStore,t$1=h$1.useRef,u$1=h$1.useEffect,v$2=h$1.useMemo,w$1=h$1.useDebugValue;withSelector_production_min.useSyncExternalStoreWithSelector=function(ts,rs,ns,os,ss){var as=t$1(null);if(as.current===null){var ls={hasValue:!1,value:null};as.current=ls}else ls=as.current;as=v$2(function(){function us(ms){if(!ds){if(ds=!0,ps=ms,ms=os(ms),ss!==void 0&&ls.hasValue){var gs=ls.value;if(ss(gs,ms))return fs=gs}return fs=ms}if(gs=fs,q$2(ps,ms))return gs;var vs=os(ms);return ss!==void 0&&ss(gs,vs)?gs:(ps=ms,fs=vs)}var ds=!1,ps,fs,hs=ns===void 0?null:ns;return[function(){return us(rs())},hs===null?void 0:function(){return us(hs())}]},[rs,ns,os,ss]);var cs=r$2(ts,as[0],as[1]);return u$1(function(){ls.hasValue=!0,ls.value=cs},[cs]),w$1(cs),cs};withSelector.exports=withSelector_production_min;var withSelectorExports=withSelector.exports;const useSyncExternalStoreExports=getDefaultExportFromCjs(withSelectorExports),{useDebugValue}=React$2,{useSyncExternalStoreWithSelector}=useSyncExternalStoreExports;let didWarnAboutEqualityFn=!1;const identity=ts=>ts;function useStore(ts,rs=identity,ns){const os=useSyncExternalStoreWithSelector(ts.subscribe,ts.getState,ts.getServerState||ts.getInitialState,rs,ns);return useDebugValue(os),os}const createImpl=ts=>{const rs=typeof ts=="function"?createStore(ts):ts,ns=(os,ss)=>useStore(rs,os,ss);return Object.assign(ns,rs),ns},create$2=ts=>ts?createImpl(ts):createImpl;function __rest$4(ts,rs){var ns={};for(var os in ts)Object.prototype.hasOwnProperty.call(ts,os)&&rs.indexOf(os)<0&&(ns[os]=ts[os]);if(ts!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ss=0,os=Object.getOwnPropertySymbols(ts);ss<os.length;ss++)rs.indexOf(os[ss])<0&&Object.prototype.propertyIsEnumerable.call(ts,os[ss])&&(ns[os[ss]]=ts[os[ss]]);return ns}function __awaiter$18(ts,rs,ns,os){function ss(as){return as instanceof ns?as:new ns(function(ls){ls(as)})}return new(ns||(ns=Promise))(function(as,ls){function cs(ps){try{ds(os.next(ps))}catch(fs){ls(fs)}}function us(ps){try{ds(os.throw(ps))}catch(fs){ls(fs)}}function ds(ps){ps.done?as(ps.value):ss(ps.value).then(cs,us)}ds((os=os.apply(ts,rs||[])).next())})}typeof SuppressedError=="function"&&SuppressedError;const authorizationHeader=ts=>ts?{Authorization:"Bearer ".concat(ts)}:{},projectIdHeader=ts=>ts?{"x-zapehr-project-id":ts}:{},contentTypeHeader=ts=>({"Content-Type":ts});function assertDefined(ts,rs){if(ts==null)throw new Error("".concat(rs," is undefined"));return ts}class BaseClient{constructor(rs){if(!rs.apiUrl)throw new Error("apiUrl is required");this.apiUrl=rs.apiUrl,this.projectId=rs.projectId,this.accessToken=rs.accessToken}get(rs){return __awaiter$18(this,void 0,void 0,function*(){const ns=yield fetch(this.apiUrl+rs,{method:"GET",headers:Object.assign(Object.assign({},authorizationHeader(this.accessToken)),projectIdHeader(this.projectId))}),os=yield ns.json();if(ns.ok)return os;throw os})}post(rs,ns=void 0){return __awaiter$18(this,void 0,void 0,function*(){const os=yield fetch(this.apiUrl+rs,{method:"POST",headers:Object.assign(Object.assign({},authorizationHeader(this.accessToken)),projectIdHeader(this.projectId)),body:ns?JSON.stringify(ns):void 0}),ss=yield os.json();if(os.ok)return ss;throw ss})}put(rs,ns){return __awaiter$18(this,void 0,void 0,function*(){const os=yield fetch(this.apiUrl+rs,{method:"PUT",headers:Object.assign(Object.assign({},authorizationHeader(this.accessToken)),projectIdHeader(this.projectId)),body:JSON.stringify(ns)}),ss=yield os.json();if(os.ok)return ss;throw ss})}patch(rs,ns){return __awaiter$18(this,void 0,void 0,function*(){const os=yield fetch(this.apiUrl+rs,{method:"PATCH",headers:Object.assign(Object.assign(Object.assign({},authorizationHeader(this.accessToken)),projectIdHeader(this.projectId)),contentTypeHeader("application/json-patch+json")),body:JSON.stringify(ns)}),ss=yield os.json();if(os.ok)return ss;throw ss})}del(rs){return __awaiter$18(this,void 0,void 0,function*(){const ns=yield fetch(this.apiUrl+rs,{method:"DELETE",headers:Object.assign(Object.assign({},authorizationHeader(this.accessToken)),projectIdHeader(this.projectId))});if(!ns.ok)throw yield ns.json()})}}const PROD_URL$1="https://project-api.zapehr.com/v1";class ProjectApiClient extends BaseClient{constructor(rs){var ns;super(Object.assign(Object.assign({},rs),{apiUrl:(ns=rs.apiUrl)!==null&&ns!==void 0?ns:PROD_URL$1}))}}const ZAMBDA_ENDPOINT="/zambda",SECRET_ENDPOINT="/secret";class ZambdaClient extends ProjectApiClient{constructor(rs){super(rs)}createZambda(rs){return __awaiter$18(this,void 0,void 0,function*(){return this.post(ZAMBDA_ENDPOINT,rs)})}getZambda(rs){return __awaiter$18(this,void 0,void 0,function*(){return this.get(ZAMBDA_ENDPOINT+"/"+rs)})}getAllZambdas(){return __awaiter$18(this,void 0,void 0,function*(){return this.get(ZAMBDA_ENDPOINT)})}updateZambda(rs){return __awaiter$18(this,void 0,void 0,function*(){const{zambdaId:ns}=rs,os=__rest$4(rs,["zambdaId"]);return this.put(ZAMBDA_ENDPOINT+"/"+ns,os)})}deleteZambda(rs){return __awaiter$18(this,void 0,void 0,function*(){return this.del(ZAMBDA_ENDPOINT+"/"+rs)})}invokeZambda(rs){return __awaiter$18(this,void 0,void 0,function*(){return this.post(ZAMBDA_ENDPOINT+"/"+rs.zambdaId+"/execute",rs.payload)})}invokePublicZambda(rs){return __awaiter$18(this,void 0,void 0,function*(){return this.post(ZAMBDA_ENDPOINT+"/"+rs.zambdaId+"/execute-public",rs.payload)})}getZambdaLogStreams(rs){return __awaiter$18(this,void 0,void 0,function*(){return this.post(ZAMBDA_ENDPOINT+"/"+rs+"/logStream")})}getZambdaLogEvents(rs){return __awaiter$18(this,void 0,void 0,function*(){let ns;return rs.nextToken&&(ns={nextToken:rs.nextToken}),this.post(ZAMBDA_ENDPOINT+"/"+rs.zambdaId+"/logStream/"+encodeURIComponent(rs.logStreamName),ns)})}getZambdaUploadUrl(rs){return __awaiter$18(this,void 0,void 0,function*(){return this.post(ZAMBDA_ENDPOINT+"/"+rs+"/s3-upload")})}createOrUpdateSecret(rs){return __awaiter$18(this,void 0,void 0,function*(){return this.post(SECRET_ENDPOINT,rs)})}getSecret(rs){return __awaiter$18(this,void 0,void 0,function*(){return this.get(SECRET_ENDPOINT+"/"+rs)})}getAllSecrets(){return __awaiter$18(this,void 0,void 0,function*(){return this.get(SECRET_ENDPOINT)})}deleteSecret(rs){return __awaiter$18(this,void 0,void 0,function*(){return this.del(SECRET_ENDPOINT+"/"+rs)})}}const PROD_URL="https://fhir-api.zapehr.com",FHIR_R4_PATH="/r4",mapBatchInputRequestToBundleEntryItem=ts=>{const{method:rs,url:ns}=ts,os={request:{method:rs,url:ns}};if(["GET","DELETE","HEAD"].includes(rs))return os;if(rs==="PUT"||rs==="PATCH"){const{resource:ss}=ts;return Object.assign(Object.assign({},os),{resource:ss})}if(rs==="POST"){const{resource:ss,fullUrl:as}=ts;return Object.assign(Object.assign({},os),{resource:ss,fullUrl:as})}throw new Error("Unrecognized method")};class FhirClient extends BaseClient{constructor(rs){var ns;super(Object.assign(Object.assign({},rs),{apiUrl:(ns=rs.apiUrl)!==null&&ns!==void 0?ns:PROD_URL}))}createResource(rs){return __awaiter$18(this,void 0,void 0,function*(){const ns=rs.resourceType;if(!ns)throw new Error("resourceType is missing");return this.post(FHIR_R4_PATH+"/"+ns,rs)})}readResource(rs){return __awaiter$18(this,void 0,void 0,function*(){return this.get(FHIR_R4_PATH+"/"+rs.resourceType+"/"+rs.resourceId)})}updateResource(rs){return __awaiter$18(this,void 0,void 0,function*(){const ns=assertDefined(rs.resourceType,"resourceType"),os=assertDefined(rs.id,"id");return this.put(FHIR_R4_PATH+"/"+ns+"/"+os,rs)})}patchResource(rs){return __awaiter$18(this,void 0,void 0,function*(){return this.patch(FHIR_R4_PATH+"/"+rs.resourceType+"/"+rs.resourceId,rs.operations)})}deleteResource(rs){return __awaiter$18(this,void 0,void 0,function*(){return this.del(FHIR_R4_PATH+"/"+rs.resourceType+"/"+rs.resourceId)})}searchResources(rs){return __awaiter$18(this,void 0,void 0,function*(){const ns=yield this.searchResourcesReturnBundle(rs),os=[];return ns.entry&&ns.entry.forEach(ss=>os.push(ss.resource)),os})}searchResourcesReturnBundle(rs){return __awaiter$18(this,void 0,void 0,function*(){let ns="/r4/".concat(rs.resourceType);return rs.searchParams&&rs.searchParams.forEach((os,ss)=>{ss===0?ns+="?":ns+="&",ns+=encodeURIComponent(os.name)+"="+encodeURIComponent(os.value)}),this.get(ns.toString())})}batchRequest(rs){return __awaiter$18(this,void 0,void 0,function*(){return this.post(FHIR_R4_PATH,{resourceType:"Bundle",type:"batch",entry:rs.requests.map(ns=>mapBatchInputRequestToBundleEntryItem(ns))})})}transactionRequest(rs){return __awaiter$18(this,void 0,void 0,function*(){return this.post(FHIR_R4_PATH,{resourceType:"Bundle",type:"transaction",entry:rs.requests.map(ns=>mapBatchInputRequestToBundleEntryItem(ns))})})}}const APPLICATION_ENDPOINT="/application",USER_ENDPOINT="/user";class AppClient extends ProjectApiClient{constructor(rs){super(rs)}createApplication(rs){return __awaiter$18(this,void 0,void 0,function*(){return this.post(APPLICATION_ENDPOINT,rs)})}getApplication(rs){return __awaiter$18(this,void 0,void 0,function*(){return this.get(APPLICATION_ENDPOINT+"/"+rs)})}getAllApplications(){return __awaiter$18(this,void 0,void 0,function*(){return this.get(APPLICATION_ENDPOINT)})}updateApplication(rs){return __awaiter$18(this,void 0,void 0,function*(){return this.put(APPLICATION_ENDPOINT+"/"+rs.id,rs)})}deleteApplication(rs){return __awaiter$18(this,void 0,void 0,function*(){return this.del(APPLICATION_ENDPOINT+"/"+rs)})}inviteUser(rs){return __awaiter$18(this,void 0,void 0,function*(){return this.post(USER_ENDPOINT+"/invite",rs)})}getMe(){return __awaiter$18(this,void 0,void 0,function*(){return this.get(USER_ENDPOINT+"/me")})}getUser(rs){return __awaiter$18(this,void 0,void 0,function*(){return this.get(USER_ENDPOINT+"/"+rs)})}getAllUsers(){return __awaiter$18(this,void 0,void 0,function*(){return this.get("/users")})}updateUser(rs){return __awaiter$18(this,void 0,void 0,function*(){return this.put(USER_ENDPOINT+"/"+rs.id,rs)})}deleteUser(rs){return __awaiter$18(this,void 0,void 0,function*(){return this.del(USER_ENDPOINT+"/"+rs)})}}const Z3_ENDPOINT="/z3",Z3_BUCKET_ENDPOINT=Z3_ENDPOINT+"/bucket",Z3_OBJECT_ENDPOINT=Z3_ENDPOINT+"/object",Z3_OBJECTS_ENDPOINT=Z3_ENDPOINT+"/objects";class Z3Client extends ProjectApiClient{constructor(rs){super(rs)}createBucket(rs){return __awaiter$18(this,void 0,void 0,function*(){return this.put(Z3_BUCKET_ENDPOINT+"/"+rs,{})})}getAllBuckets(){return __awaiter$18(this,void 0,void 0,function*(){return yield this.get(Z3_BUCKET_ENDPOINT)})}deleteBucket(rs){return __awaiter$18(this,void 0,void 0,function*(){return yield this.del(Z3_BUCKET_ENDPOINT+"/"+rs)})}createPresignedUrl(rs,ns){return __awaiter$18(this,void 0,void 0,function*(){return yield this.get(Z3_OBJECT_ENDPOINT+"/"+rs+"/"+ns)})}uploadObject(rs,ns,os){return __awaiter$18(this,void 0,void 0,function*(){const ss=yield this.put(Z3_OBJECT_ENDPOINT+"/"+rs+"/"+ns,{});if(!(yield fetch(ss.signedUrl,{method:"PUT",body:os})).ok)throw{message:"Failed to upload object"}})}downloadObject(rs,ns){return __awaiter$18(this,void 0,void 0,function*(){const os=yield this.get(Z3_OBJECT_ENDPOINT+"/"+rs+"/"+ns),ss=yield fetch(os.signedUrl,{method:"GET"});if(!ss.ok)throw{message:"Failed to download object"};return yield ss.arrayBuffer()})}deleteObject(rs,ns){return __awaiter$18(this,void 0,void 0,function*(){yield this.del(Z3_OBJECT_ENDPOINT+"/"+rs+"/"+ns)})}getObjectsInBucket(rs){return __awaiter$18(this,void 0,void 0,function*(){return yield this.get(Z3_OBJECTS_ENDPOINT+"/"+rs)})}}function formatAddress(ts,rs){const ns=[];if(ts.line&&ns.push(...ts.line),ts.city||ts.state||ts.postalCode){const os=[];ts.city&&os.push(ts.city),ts.state&&os.push(ts.state),ts.postalCode&&os.push(ts.postalCode),ns.push(os.join(", "))}return ts.use&&(rs!=null&&rs.all||rs!=null&&rs.use)&&ns.push("["+ts.use+"]"),ns.join((rs==null?void 0:rs.lineSeparator)||", ").trim()}function formatHumanName(ts,rs){const ns=[];return ts.prefix&&(rs==null?void 0:rs.prefix)!==!1&&ns.push(...ts.prefix),ts.given&&ns.push(...ts.given),ts.family&&ns.push(ts.family),ts.suffix&&(rs==null?void 0:rs.suffix)!==!1&&ns.push(...ts.suffix),ts.use&&(rs!=null&&rs.all||rs!=null&&rs.use)&&ns.push("["+ts.use+"]"),ns.join(" ").trim()}const VITE_APP_IS_LOCAL="true",GET_APPOINTMENTS_ZAMBDA_ID="get-appointments",CREATE_APPOINTMENT_ZAMBDA_ID="create-appointment",CANCEL_TELEMED_APPOINTMENT_ZAMBDA_ID="cancel-appointment",INVITE_PARTICIPANT_ZAMBDA_ID={}.VITE_APP_INVITE_PARTICIPANT_ZAMBDA_ID,UPDATE_USER_ZAMBDA_ID="update-user",GET_USER_ZAMBDA_ID="get-user",DEACTIVATE_USER_ZAMBDA_ID="deactivate-user",GET_CONVERSATION_ZAMBDA_ID={}.VITE_APP_GET_CONVERSATION_ZAMBDA_ID,GET_LOCATION_ZAMBDA_ID={}.VITE_APP_GET_LOCATION_ZAMBDA_ID,GET_EMPLOYEES_ZAMBDA_ID="get-employees";function chooseJson(ts,rs){return rs==="true"?ts:ts.output}const getUser=async ts=>new AppClient({apiUrl:"https://project-api.zapehr.com/v1",accessToken:ts}).getMe(),getAppointments=async(ts,rs)=>{try{GET_APPOINTMENTS_ZAMBDA_ID==null;const ns=await(ts==null?void 0:ts.invokeZambda({zambdaId:GET_APPOINTMENTS_ZAMBDA_ID,payload:rs}));return chooseJson(ns,VITE_APP_IS_LOCAL)}catch(ns){console.log(ns)}},createAppointment=async(ts,rs)=>{var ns;try{CREATE_APPOINTMENT_ZAMBDA_ID==null;const os={...rs,visitType:(ns=rs.visitType)==null?void 0:ns.replace("-","")},ss=await(ts==null?void 0:ts.invokeZambda({zambdaId:CREATE_APPOINTMENT_ZAMBDA_ID,payload:os}));return chooseJson(ss,VITE_APP_IS_LOCAL)}catch(os){console.log(os)}},cancelTelemedAppointment=async(ts,rs)=>{try{CANCEL_TELEMED_APPOINTMENT_ZAMBDA_ID==null;const ns=await(ts==null?void 0:ts.invokeZambda({zambdaId:CANCEL_TELEMED_APPOINTMENT_ZAMBDA_ID,payload:rs}));return chooseJson(ns,VITE_APP_IS_LOCAL)}catch(ns){throw console.log(ns,"error"),new Error(JSON.stringify(ns))}},inviteParticipant=async(ts,rs)=>{try{if(INVITE_PARTICIPANT_ZAMBDA_ID==null)throw new Error("invite participant environment variable could not be loaded");const ns=await(ts==null?void 0:ts.invokeZambda({zambdaId:INVITE_PARTICIPANT_ZAMBDA_ID,payload:rs}));return chooseJson(ns,VITE_APP_IS_LOCAL)}catch(ns){throw console.log(ns,"Error occurred trying to invite participant"),new Error(JSON.stringify(ns))}},updateUser=async(ts,rs)=>{try{UPDATE_USER_ZAMBDA_ID==null;const ns=await(ts==null?void 0:ts.invokeZambda({zambdaId:UPDATE_USER_ZAMBDA_ID,payload:rs}));return chooseJson(ns,VITE_APP_IS_LOCAL)}catch(ns){throw new Error(JSON.stringify(ns))}},getUserDetails=async(ts,rs)=>{try{GET_USER_ZAMBDA_ID==null;const ns=await(ts==null?void 0:ts.invokeZambda({zambdaId:GET_USER_ZAMBDA_ID,payload:rs}));return chooseJson(ns,VITE_APP_IS_LOCAL)}catch(ns){throw new Error(JSON.stringify(ns))}},deactivateUser=async(ts,rs)=>{try{DEACTIVATE_USER_ZAMBDA_ID==null;const ns=await(ts==null?void 0:ts.invokeZambda({zambdaId:DEACTIVATE_USER_ZAMBDA_ID,payload:rs}));return chooseJson(ns,VITE_APP_IS_LOCAL)}catch(ns){throw new Error(JSON.stringify(ns))}},getConversation=async(ts,rs)=>{try{if(GET_CONVERSATION_ZAMBDA_ID==null)throw new Error("GET_CONVERSATION_ZAMBDA_ID environment variable could not be loaded");const ns=await(ts==null?void 0:ts.invokeZambda({zambdaId:GET_CONVERSATION_ZAMBDA_ID,payload:rs}));return chooseJson(ns,VITE_APP_IS_LOCAL)}catch(ns){throw new Error(JSON.stringify(ns))}},getLocations=async(ts,rs)=>{try{if(GET_LOCATION_ZAMBDA_ID==null||VITE_APP_IS_LOCAL==null)throw new Error("get location environment variable could not be loaded");console.log({VITE_APP_IS_LOCAL:"true",VITE_APP_ZAPEHR_APPLICATION_CLIENT_ID:"7defPglpCYmHawRHh3sjXRweJG27rZBS",VITE_APP_ZAPEHR_APPLICATION_DOMAIN:"https://auth.zapehr.com",VITE_APP_ZAPEHR_APPLICATION_AUDIENCE:"https://api.zapehr.com",VITE_APP_ZAPEHR_APPLICATION_REDIRECT_URL:"http://localhost:4002",VITE_APP_ZAPEHR_CONNECTION_NAME:"",VITE_APP_MUI_X_LICENSE_KEY:"",VITE_APP_ORGANIZATION_NAME_LONG:"Ottehr",VITE_APP_ORGANIZATION_NAME_SHORT:"Ottehr",VITE_APP_ZAPEHR_APPLICATION_ID:"",VITE_APP_FHIR_API_URL:"https://fhir-api.zapehr.com",VITE_APP_PROJECT_API_URL:"https://project-api.zapehr.com/v1",VITE_APP_PROJECT_API_ZAMBDA_URL:"http://localhost:4000/local",VITE_APP_INTAKE_ZAMBDAS_URL:"http://localhost:3000/local",VITE_APP_CHECK_IN_ZAMBDA_ID:"check-in",VITE_APP_GET_APPOINTMENTS_ZAMBDA_ID:"get-appointments",VITE_APP_CREATE_APPOINTMENT_ZAMBDA_ID:"create-appointment",VITE_APP_UPDATE_USER_ZAMBDA_ID:"update-user",VITE_APP_GET_USER_ZAMBDA_ID:"get-user",VITE_APP_DEACTIVATE_USER_ZAMBDA_ID:"deactivate-user",VITE_APP_GET_EMPLOYEES_ZAMBDA_ID:"get-employees",VITE_APP_GET_TELEMED_APPOINTMENTS_ZAMBDA_ID:"get-telemed-appointments",VITE_APP_INIT_TELEMED_SESSION_ZAMBDA_ID:"init-telemed-session",VITE_APP_GET_CHART_DATA_ZAMBDA_ID:"get-chart-data",VITE_APP_SAVE_CHART_DATA_ZAMBDA_ID:"save-chart-data",VITE_APP_CHANGE_TELEMED_APPOINTMENT_STATUS_ZAMBDA_ID:"change-telemed-appointment-status",VITE_APP_DELETE_CHART_DATA_ZAMBDA_ID:"delete-chart-data",VITE_APP_GET_TOKEN_FOR_CONVERSATION_ZAMBDA_ID:"get-token-for-conversation",VITE_APP_CANCEL_TELEMED_APPOINTMENT_ZAMBDA_ID:"cancel-appointment",VITE_APP_QRS_URL:"http://localhost:3002",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1});const ns=await(ts==null?void 0:ts.invokePublicZambda({zambdaId:GET_LOCATION_ZAMBDA_ID,payload:rs}));return chooseJson(ns,VITE_APP_IS_LOCAL)}catch(ns){throw console.log(ns),ns}},getEmployees=async ts=>{try{GET_EMPLOYEES_ZAMBDA_ID==null;const rs=await(ts==null?void 0:ts.invokeZambda({zambdaId:GET_EMPLOYEES_ZAMBDA_ID}));return chooseJson(rs,VITE_APP_IS_LOCAL)}catch(rs){throw console.log(rs),rs}};let _token;function useAuthToken(){const{isAuthenticated:ts,getAccessTokenSilently:rs}=useAuth0(),[ns,os]=reactExports.useState(_token);return reactExports.useEffect(()=>{ts&&!_token&&rs().then(ss=>{_token=ss,os(ss)}).catch(()=>console.error("Unable to get auth0 token"))},[ts,rs,os]),ns}const useApiClientsStore=create$2()(()=>({appClient:void 0,zambdaClient:void 0,zambdaIntakeClient:void 0,fhirClient:void 0,z3Client:void 0}));function useApiClients(){const ts=useAuthToken(),{appClient:rs,zambdaClient:ns,zambdaIntakeClient:os,fhirClient:ss,z3Client:as}=useApiClientsStore(ls=>ls);return reactExports.useEffect(()=>{(!rs||rs.accessToken!==ts)&&useApiClientsStore.setState({appClient:new AppClient({apiUrl:"https://project-api.zapehr.com/v1",accessToken:ts})}),(!ss||ss.accessToken!==ts)&&useApiClientsStore.setState({fhirClient:new FhirClient({apiUrl:"https://fhir-api.zapehr.com",accessToken:ts})}),(!ns||ns.accessToken!==ts)&&useApiClientsStore.setState({zambdaClient:new ZambdaClient({apiUrl:"http://localhost:4000/local",accessToken:ts})}),(!os||os.accessToken!==ts)&&useApiClientsStore.setState({zambdaIntakeClient:new ZambdaClient({apiUrl:"http://localhost:3000/local",accessToken:ts})}),(!as||as.accessToken!==ts)&&useApiClientsStore.setState({z3Client:new Z3Client({apiUrl:"https://project-api.zapehr.com/v1",accessToken:ts})})},[rs,ss,ts,as,ns,os]),{appClient:rs,zambdaClient:ns,zambdaIntakeClient:os,fhirClient:ss,z3Client:as}}const useOttehrUserStore=create$2()(()=>({}));let _profileLoadingState=0,_lastLoginUpdating=0,_userLoading=0;function useOttehrUser(){const{fhirClient:ts}=useApiClients(),{isAuthenticated:rs,getAccessTokenSilently:ns,user:os}=useAuth0(),ss=useOttehrUserStore(ds=>ds.user),as=useOttehrUserStore(ds=>ds.profile);reactExports.useEffect(()=>{async function ds(){try{_userLoading=1;const ps=await ns(),fs=await getUser(ps);useOttehrUserStore.setState({user:fs}),_userLoading=2}catch(ps){console.error(ps),_userLoading=0}}rs&&!ss&&_userLoading===0&&ds()},[ns,rs,ss]),reactExports.useEffect(()=>{const ds=async(ps,fs)=>{try{_profileLoadingState=1;const[hs,ms]=ps.split("/");if(hs&&ms&&hs==="Practitioner"){const gs=await fs.readResource({resourceType:hs,resourceId:ms});useOttehrUserStore.setState({profile:gs}),console.log("practitioner",gs)}_profileLoadingState=2}catch(hs){console.error("error fetching user's fhir profile: ".concat(JSON.stringify(hs))),useOttehrUserStore.setState({profile:void 0}),_profileLoadingState=0}};ts&&_profileLoadingState===0&&(ss!=null&&ss.profile)&&!as?ds(ss.profile,ts):ss!=null&&ss.profile||useOttehrUserStore.setState({profile:void 0})},[ts,as,ss]),reactExports.useEffect(()=>{async function ds(ps,fs){var hs;_lastLoginUpdating=1;try{await fs.patchResource({resourceType:"Practitioner",resourceId:ps.profile.replace("Practitioner/",""),operations:[getPatchOperationForNewMetaTag(as,{system:"last-login",code:(hs=DateTime.now().toISO())!=null?hs:"Unknown"})]})}catch(ms){console.log(ms)}finally{_lastLoginUpdating=2}}ss&&ts&&as&&_lastLoginUpdating!==1&&ds(ss,ts)},[ts,as,ss]),reactExports.useEffect(()=>{const ds=os==null?void 0:os.updated_at;if(ds){const ps=DateTime.fromISO(ds);Math.abs(ps.diffNow("seconds").seconds)<=Duration.fromObject({seconds:5}).seconds&&localStorage.removeItem("selectedDate")}},[os==null?void 0:os.updated_at]);const{userName:ls,userInitials:cs,lastLogin:us}=reactExports.useMemo(()=>{var ds,ps,fs,hs;if(as){const ms=(ds=getFullestAvailableName(as))!=null?ds:"Ottehr Team",gs=initialsFromName(ms),vs=(hs=(fs=(ps=as.meta)==null?void 0:ps.tag)==null?void 0:fs.find(bs=>bs.system==="last-login"))==null?void 0:hs.code;return{userName:ms,userInitials:gs,lastLogin:vs}}return{userName:"Ottehr Team",userInitials:initialsFromName("Ottehr Team")}},[as]);return reactExports.useMemo(()=>{if(ss){const ds=ss.roles;return{...ss,userName:ls,userInitials:cs,lastLogin:us,profileResource:as,hasRole:ps=>ds.find(fs=>ps.includes(fs.name))!=null}}},[us,as,ss,cs,ls])}const useNavStore=create$2()(()=>({})),AllStates=[{value:"AL",label:"AL"},{value:"AK",label:"AK"},{value:"AZ",label:"AZ"},{value:"AR",label:"AR"},{value:"CA",label:"CA"},{value:"CO",label:"CO"},{value:"CT",label:"CT"},{value:"DE",label:"DE"},{value:"DC",label:"DC"},{value:"FL",label:"FL"},{value:"GA",label:"GA"},{value:"HI",label:"HI"},{value:"ID",label:"ID"},{value:"IL",label:"IL"},{value:"IN",label:"IN"},{value:"IA",label:"IA"},{value:"KS",label:"KS"},{value:"KY",label:"KY"},{value:"LA",label:"LA"},{value:"ME",label:"ME"},{value:"MD",label:"MD"},{value:"MA",label:"MA"},{value:"MI",label:"MI"},{value:"MN",label:"MN"},{value:"MS",label:"MS"},{value:"MO",label:"MO"},{value:"MT",label:"MT"},{value:"NE",label:"NE"},{value:"NV",label:"NV"},{value:"NH",label:"NH"},{value:"NJ",label:"NJ"},{value:"NM",label:"NM"},{value:"NY",label:"NY"},{value:"NC",label:"NC"},{value:"ND",label:"ND"},{value:"OH",label:"OH"},{value:"OK",label:"OK"},{value:"OR",label:"OR"},{value:"PA",label:"PA"},{value:"RI",label:"RI"},{value:"SC",label:"SC"},{value:"SD",label:"SD"},{value:"TN",label:"TN"},{value:"TX",label:"TX"},{value:"UT",label:"UT"},{value:"VT",label:"VT"},{value:"VA",label:"VA"},{value:"VI",label:"VI"},{value:"WA",label:"WA"},{value:"WV",label:"WV"},{value:"WI",label:"WI"},{value:"WY",label:"WY"}],AllStatesToNames={AL:"Alabama",AK:"Alaska",AZ:"Arizona",AR:"Arkansas",CA:"California",CO:"Colorado",CT:"Connecticut",DE:"Delaware",DC:"District of Columbia",FL:"Florida",GA:"Georgia",HI:"Hawaii",ID:"Idaho",IL:"Illinois",IN:"Indiana",IA:"Iowa",KS:"Kansas",KY:"Kentucky",LA:"Louisiana",ME:"Maine",MD:"Maryland",MA:"Massachusetts",MI:"Michigan",MN:"Minnesota",MS:"Mississippi",MO:"Missouri",MT:"Montana",NE:"Nebraska",NV:"Nevada",NH:"New Hampshire",NJ:"New Jersey",NM:"New Mexico",NY:"New York",NC:"North Carolina",ND:"North Dakota",OH:"Ohio",OK:"Oklahoma",OR:"Oregon",PA:"Pennsylvania",RI:"Rhode Island",SC:"South Carolina",SD:"South Dakota",TN:"Tennessee",TX:"Texas",UT:"Utah",VT:"Vermont",VI:"Virgin Islands",VA:"Virginia",WA:"Washington",WV:"West Virginia",WI:"Wisconsin",WY:"Wyoming"};var RoleType=(ts=>(ts.NewUser="NewUser",ts.Administrator="Administrator",ts.AssistantAdmin="AssistantAdmin",ts.RegionalTelemedLead="RegionalTelemedLead",ts.CallCentre="CallCentre",ts.Billing="Billing",ts.Manager="Manager",ts.Staff="Staff",ts.Provider="Provider",ts.FrontDesk="Front Desk",ts.Inactive="Inactive",ts))(RoleType||{}),VisitType=(ts=>(ts.Now="now",ts.Prebook="prebook",ts))(VisitType||{});const VisitTypeToLabel={now:"now",prebook:"prebook"};var PersonSex=(ts=>(ts.Male="male",ts.Female="female",ts.Intersex="other",ts))(PersonSex||{});const getVisitTypeLabelForAppointment=ts=>{var ns;const rs=(ns=ts==null?void 0:ts.appointmentType)==null?void 0:ns.text;return rs==="walkin"?"Now Urgent Care Visit":rs==="prebook"?"Pre-booked Urgent Care Visit (4Online)":rs==="virtual"?"Telemed":"-"};var ClosureType=(ts=>(ts.OneDay="one-day",ts.Period="period",ts))(ClosureType||{});const{VITE_APP_ORGANIZATION_NAME_SHORT:ORGANIZATION_NAME_SHORT}={VITE_APP_IS_LOCAL:"true",VITE_APP_ZAPEHR_APPLICATION_CLIENT_ID:"7defPglpCYmHawRHh3sjXRweJG27rZBS",VITE_APP_ZAPEHR_APPLICATION_DOMAIN:"https://auth.zapehr.com",VITE_APP_ZAPEHR_APPLICATION_AUDIENCE:"https://api.zapehr.com",VITE_APP_ZAPEHR_APPLICATION_REDIRECT_URL:"http://localhost:4002",VITE_APP_ZAPEHR_CONNECTION_NAME:"",VITE_APP_MUI_X_LICENSE_KEY:"",VITE_APP_ORGANIZATION_NAME_LONG:"Ottehr",VITE_APP_ORGANIZATION_NAME_SHORT:"Ottehr",VITE_APP_ZAPEHR_APPLICATION_ID:"",VITE_APP_FHIR_API_URL:"https://fhir-api.zapehr.com",VITE_APP_PROJECT_API_URL:"https://project-api.zapehr.com/v1",VITE_APP_PROJECT_API_ZAMBDA_URL:"http://localhost:4000/local",VITE_APP_INTAKE_ZAMBDAS_URL:"http://localhost:3000/local",VITE_APP_CHECK_IN_ZAMBDA_ID:"check-in",VITE_APP_GET_APPOINTMENTS_ZAMBDA_ID:"get-appointments",VITE_APP_CREATE_APPOINTMENT_ZAMBDA_ID:"create-appointment",VITE_APP_UPDATE_USER_ZAMBDA_ID:"update-user",VITE_APP_GET_USER_ZAMBDA_ID:"get-user",VITE_APP_DEACTIVATE_USER_ZAMBDA_ID:"deactivate-user",VITE_APP_GET_EMPLOYEES_ZAMBDA_ID:"get-employees",VITE_APP_GET_TELEMED_APPOINTMENTS_ZAMBDA_ID:"get-telemed-appointments",VITE_APP_INIT_TELEMED_SESSION_ZAMBDA_ID:"init-telemed-session",VITE_APP_GET_CHART_DATA_ZAMBDA_ID:"get-chart-data",VITE_APP_SAVE_CHART_DATA_ZAMBDA_ID:"save-chart-data",VITE_APP_CHANGE_TELEMED_APPOINTMENT_STATUS_ZAMBDA_ID:"change-telemed-appointment-status",VITE_APP_DELETE_CHART_DATA_ZAMBDA_ID:"delete-chart-data",VITE_APP_GET_TOKEN_FOR_CONVERSATION_ZAMBDA_ID:"get-token-for-conversation",VITE_APP_CANCEL_TELEMED_APPOINTMENT_ZAMBDA_ID:"cancel-appointment",VITE_APP_QRS_URL:"http://localhost:3002",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};if(ORGANIZATION_NAME_SHORT==null)throw new Error("Could not load env variable");const administratorNavbarItems={"In Person":{urls:["/visits","/visit"]},Schedules:{urls:["/schedules","/schedule"]},Patients:{urls:["/patients","/patient"]},Employees:{urls:["/employees","/employee"]}},managerNavbarItems={"In Person":{urls:["/visits","/visit"]},Schedules:{urls:["/schedules","/schedule"]},Patients:{urls:["/patients","/patient"]},Employees:{urls:["/employees","/employee"]}},staffNavbarItems={"In Person":{urls:["/visits","/visit"]},Patients:{urls:["/patients","/patient"]}},providerNavbarItems={"In Person":{urls:["/visits","/visit"]},Patients:{urls:["/patients","/patient"]}};administratorNavbarItems.Admin={urls:["/telemed-admin"]};administratorNavbarItems.Telemedicine={urls:["/telemed/appointments","/telemed","/video-call"]};managerNavbarItems.Admin={urls:["/telemed-admin"]};providerNavbarItems.Telemedicine={urls:["/telemed/appointments","/telemed","/video-call"]};providerNavbarItems.Employees={urls:["/employees","/employee"]};function Navbar(){useTheme$1();const ts=useLocation(),[rs,ns]=reactExports.useState(null),os=useNavStore(cs=>cs.currentTab),ss=useOttehrUser(),as=reactExports.useMemo(()=>{let cs={};return ss&&(ss.hasRole([RoleType.Administrator])&&(cs={...cs,...administratorNavbarItems}),ss.hasRole([RoleType.Manager])&&(cs={...cs,...managerNavbarItems}),ss.hasRole([RoleType.Staff])&&(cs={...cs,...staffNavbarItems}),ss.hasRole([RoleType.Provider])&&(cs={...cs,...providerNavbarItems})),cs},[ss]),ls="/"+ts.pathname.substring(1).split("/")[0];return reactExports.useEffect(()=>{os||useNavStore.setState({currentTab:"In Person"}),Object.keys(as).forEach(cs=>{as[cs].urls.includes(ls)&&useNavStore.setState({currentTab:cs})})},[os,ls,ts.pathname,as]),ts.pathname.match(/^\/telemed\/appointments\//)?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{}):jsxRuntimeExports.jsx(AppBar$1,{position:"sticky",color:"transparent",sx:{boxShadow:"none",backgroundColor:otherColors.headerBackground},children:jsxRuntimeExports.jsx(Container$1,{maxWidth:"xl",children:jsxRuntimeExports.jsxs(Toolbar$1,{disableGutters:!0,variant:"dense",children:[jsxRuntimeExports.jsx(Link,{to:"/",children:jsxRuntimeExports.jsx("img",{src:logo,alt:"".concat(ORGANIZATION_NAME_SHORT," logo"),style:{marginRight:20,marginTop:10,width:158,height:35}})}),jsxRuntimeExports.jsx(TabList$1,{onChange:(cs,us)=>{useNavStore.setState({currentTab:us})},sx:{mt:2.5,minHeight:60,flexGrow:1},textColor:"secondary",indicatorColor:"secondary",children:os&&Object.keys(as).map((cs,us)=>{var ds;return jsxRuntimeExports.jsx(Tab$1,{label:cs,value:cs,id:"navbar-tab-".concat(us),"aria-controls":"hello-".concat(us),component:Link,to:(ds=as[cs].urls)==null?void 0:ds[0],sx:{fontSize:16,fontWeight:700,textTransform:"capitalize",color:"#FFFFFF"}},cs)})}),jsxRuntimeExports.jsx(Typography$1,{variant:"body1",sx:{mr:2,color:"#FFFFFF"},children:(ss==null?void 0:ss.name)||jsxRuntimeExports.jsx(Skeleton$1,{width:100,"aria-busy":"true"})}),jsxRuntimeExports.jsx(Button$2,{color:"secondary","aria-label":"open user account menu","aria-controls":"user-menu","aria-haspopup":"true",onClick:cs=>ns(cs.currentTarget),endIcon:jsxRuntimeExports.jsx(KeyboardArrowDown,{}),children:jsxRuntimeExports.jsx(AccountCircle,{})}),jsxRuntimeExports.jsxs(Menu$1,{id:"user-menu",anchorEl:rs,open:rs!==null,onClose:()=>ns(null),children:[jsxRuntimeExports.jsx(MenuItem$1,{children:jsxRuntimeExports.jsxs(Box$1,{children:[jsxRuntimeExports.jsxs(Typography$1,{variant:"body1",children:[ORGANIZATION_NAME_SHORT," Admin"]}),jsxRuntimeExports.jsx(Typography$1,{variant:"caption",children:ss==null?void 0:ss.email})]})}),jsxRuntimeExports.jsx(Divider$1,{}),jsxRuntimeExports.jsx(Link,{to:"/logout",style:{textDecoration:"none"},children:jsxRuntimeExports.jsx(MenuItem$1,{children:jsxRuntimeExports.jsx(Typography$1,{variant:"body1",color:"secondary",sx:{fontWeight:"bold"},children:"Log out"})})})]})]})})})}const ProtectedRoute=ts=>{const{isAuthenticated:rs,isLoading:ns,loginWithRedirect:os}=useAuth0();return!rs&&ns?jsxRuntimeExports.jsx(LoadingScreen,{}):(!rs&&!ns&&os().catch(ss=>{throw new Error("Error calling loginWithRedirect Auth0 ".concat(ss))}),ts.showWhenAuthenticated)};function __rest$3(ts,rs){var ns={};for(var os in ts)Object.prototype.hasOwnProperty.call(ts,os)&&rs.indexOf(os)<0&&(ns[os]=ts[os]);if(ts!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ss=0,os=Object.getOwnPropertySymbols(ts);ss<os.length;ss++)rs.indexOf(os[ss])<0&&Object.prototype.propertyIsEnumerable.call(ts,os[ss])&&(ns[os[ss]]=ts[os[ss]]);return ns}var SourceType;(function(ts){ts.event="event",ts.props="prop"})(SourceType||(SourceType={}));function noop$4(){}function memoizeOnce(ts){var rs,ns=void 0;return function(){for(var os=[],ss=arguments.length;ss--;)os[ss]=arguments[ss];return rs&&os.length===rs.length&&os.every(function(as,ls){return as===rs[ls]})||(rs=os,ns=ts.apply(void 0,os)),ns}}function charIsNumber(ts){return!!(ts||"").match(/\d/)}function isNil(ts){return ts==null}function isNanValue(ts){return typeof ts=="number"&&isNaN(ts)}function isNotValidValue(ts){return isNil(ts)||isNanValue(ts)||typeof ts=="number"&&!isFinite(ts)}function usePersistentCallback(ts){var rs=reactExports.useRef(ts);rs.current=ts;var ns=reactExports.useRef(function(){for(var os=[],ss=arguments.length;ss--;)os[ss]=arguments[ss];return rs.current.apply(rs,os)});return ns.current}function repeat(ts,rs){return Array(rs+1).join(ts)}function toNumericString(ts){var rs=ts+"",ns=rs[0]==="-"?"-":"";ns&&(rs=rs.substring(1));var os=rs.split(/[eE]/g),ss=os[0],as=os[1];if(as=Number(as),!as)return ns+ss;ss=ss.replace(".","");var ls=1+as,cs=ss.length;return ls<0?ss="0."+repeat("0",Math.abs(ls))+ss:ls>=cs?ss=ss+repeat("0",ls-cs):ss=(ss.substring(0,ls)||"0")+"."+ss.substring(ls),ns+ss}function setCaretPosition(ts,rs){if(ts.value=ts.value,ts!==null){if(ts.createTextRange){var ns=ts.createTextRange();return ns.move("character",rs),ns.select(),!0}return ts.selectionStart||ts.selectionStart===0?(ts.focus(),ts.setSelectionRange(rs,rs),!0):(ts.focus(),!1)}}var findChangeRange=memoizeOnce(function(ts,rs){for(var ns=0,os=0,ss=ts.length,as=rs.length;ts[ns]===rs[ns]&&ns<ss;)ns++;for(;ts[ss-1-os]===rs[as-1-os]&&as-os>ns&&ss-os>ns;)os++;return{from:{start:ns,end:ss-os},to:{start:ns,end:as-os}}}),findChangedRangeFromCaretPositions=function(ts,rs){var ns=Math.min(ts.selectionStart,rs);return{from:{start:ns,end:ts.selectionEnd},to:{start:ns,end:rs}}};function clamp(ts,rs,ns){return Math.min(Math.max(ts,rs),ns)}function geInputCaretPosition(ts){return Math.max(ts.selectionStart,ts.selectionEnd)}function addInputMode(){return typeof navigator<"u"&&!(navigator.platform&&/iPhone|iPod/.test(navigator.platform))}function getDefaultChangeMeta(ts){return{from:{start:0,end:0},to:{start:0,end:ts.length},lastValue:""}}function getMaskAtIndex(ts,rs){return ts===void 0&&(ts=" "),typeof ts=="string"?ts:ts[rs]||" "}function defaultIsCharacterSame(ts){var rs=ts.currentValue,ns=ts.formattedValue,os=ts.currentValueIndex,ss=ts.formattedValueIndex;return rs[os]===ns[ss]}function getCaretPosition(ts,rs,ns,os,ss,as,ls){ls===void 0&&(ls=defaultIsCharacterSame);var cs=ss.findIndex(function(Cs){return Cs}),us=ts.slice(0,cs);!rs&&!ns.startsWith(us)&&(rs=us,ns=us+ns,os=os+us.length);for(var ds=ns.length,ps=ts.length,fs={},hs=new Array(ds),ms=0;ms<ds;ms++){hs[ms]=-1;for(var gs=0,vs=ps;gs<vs;gs++){var bs=ls({currentValue:ns,lastValue:rs,formattedValue:ts,currentValueIndex:ms,formattedValueIndex:gs});if(bs&&fs[gs]!==!0){hs[ms]=gs,fs[gs]=!0;break}}}for(var xs=os;xs<ds&&(hs[xs]===-1||!as(ns[xs]));)xs++;var ys=xs===ds||hs[xs]===-1?ps:hs[xs];for(xs=os-1;xs>0&&hs[xs]===-1;)xs--;var Ss=xs===-1||hs[xs]===-1?0:hs[xs]+1;return Ss>ys?ys:os-Ss<ys-os?Ss:ys}function getCaretPosInBoundary(ts,rs,ns,os){var ss=ts.length;if(rs=clamp(rs,0,ss),os==="left"){for(;rs>=0&&!ns[rs];)rs--;rs===-1&&(rs=ns.indexOf(!0))}else{for(;rs<=ss&&!ns[rs];)rs++;rs>ss&&(rs=ns.lastIndexOf(!0))}return rs===-1&&(rs=ss),rs}function caretUnknownFormatBoundary(ts){for(var rs=Array.from({length:ts.length+1}).map(function(){return!0}),ns=0,os=rs.length;ns<os;ns++)rs[ns]=!!(charIsNumber(ts[ns])||charIsNumber(ts[ns-1]));return rs}function useInternalValues(ts,rs,ns,os,ss,as){as===void 0&&(as=noop$4);var ls=usePersistentCallback(function(gs,vs){var bs,xs;return isNotValidValue(gs)?(xs="",bs=""):typeof gs=="number"||vs?(xs=typeof gs=="number"?toNumericString(gs):gs,bs=os(xs)):(xs=ss(gs,void 0),bs=os(xs)),{formattedValue:bs,numAsString:xs}}),cs=reactExports.useState(function(){return ls(isNil(ts)?rs:ts,ns)}),us=cs[0],ds=cs[1],ps=function(gs,vs){gs.formattedValue!==us.formattedValue&&ds({formattedValue:gs.formattedValue,numAsString:gs.value}),as(gs,vs)},fs=ts,hs=ns;isNil(ts)&&(fs=us.numAsString,hs=!0);var ms=ls(fs,hs);return reactExports.useMemo(function(){ds(ms)},[ms.formattedValue]),[us,ps]}function defaultRemoveFormatting(ts){return ts.replace(/[^0-9]/g,"")}function defaultFormat(ts){return ts}function NumberFormatBase(ts){var rs=ts.type;rs===void 0&&(rs="text");var ns=ts.displayType;ns===void 0&&(ns="input");var os=ts.customInput,ss=ts.renderText,as=ts.getInputRef,ls=ts.format;ls===void 0&&(ls=defaultFormat);var cs=ts.removeFormatting;cs===void 0&&(cs=defaultRemoveFormatting);var us=ts.defaultValue,ds=ts.valueIsNumericString,ps=ts.onValueChange,fs=ts.isAllowed,hs=ts.onChange;hs===void 0&&(hs=noop$4);var ms=ts.onKeyDown;ms===void 0&&(ms=noop$4);var gs=ts.onMouseUp;gs===void 0&&(gs=noop$4);var vs=ts.onFocus;vs===void 0&&(vs=noop$4);var bs=ts.onBlur;bs===void 0&&(bs=noop$4);var xs=ts.value,ys=ts.getCaretBoundary;ys===void 0&&(ys=caretUnknownFormatBoundary);var Ss=ts.isValidInputCharacter;Ss===void 0&&(Ss=charIsNumber);var Cs=ts.isCharacterSame,$s=__rest$3(ts,["type","displayType","customInput","renderText","getInputRef","format","removeFormatting","defaultValue","valueIsNumericString","onValueChange","isAllowed","onChange","onKeyDown","onMouseUp","onFocus","onBlur","value","getCaretBoundary","isValidInputCharacter","isCharacterSame"]),Es=useInternalValues(xs,us,!!ds,ls,cs,ps),ws=Es[0],Ts=ws.formattedValue,Is=ws.numAsString,Rs=Es[1],As=reactExports.useRef(),ks=reactExports.useRef({formattedValue:Ts,numAsString:Is}),Ms=function(yl,Bs){ks.current={formattedValue:yl.formattedValue,numAsString:yl.value},Rs(yl,Bs)},Os=reactExports.useState(!1),Ds=Os[0],Fs=Os[1],js=reactExports.useRef(null),Ps=reactExports.useRef({setCaretTimeout:null,focusTimeout:null});reactExports.useEffect(function(){return Fs(!0),function(){clearTimeout(Ps.current.setCaretTimeout),clearTimeout(Ps.current.focusTimeout)}},[]);var Ls=ls,Ns=function(yl,Bs){var Zs=parseFloat(Bs);return{formattedValue:yl,value:Bs,floatValue:isNaN(Zs)?void 0:Zs}},Gs=function(yl,Bs,Zs){yl.selectionStart===0&&yl.selectionEnd===yl.value.length||(setCaretPosition(yl,Bs),Ps.current.setCaretTimeout=setTimeout(function(){yl.value===Zs&&yl.selectionStart!==Bs&&setCaretPosition(yl,Bs)},0))},Us=function(yl,Bs,Zs){return getCaretPosInBoundary(yl,Bs,ys(yl),Zs)},Hs=function(yl,Bs,Zs){var Ys=ys(Bs),_l=getCaretPosition(Bs,Ts,yl,Zs,Ys,Ss,Cs);return _l=getCaretPosInBoundary(Bs,_l,Ys),_l},zs=function(yl){var Bs=yl.formattedValue;Bs===void 0&&(Bs="");var Zs=yl.input,Ys=yl.source,_l=yl.event,Cl=yl.numAsString,Xs;if(Zs){var xl=yl.inputValue||Zs.value,$a=geInputCaretPosition(Zs);Zs.value=Bs,Xs=Hs(xl,Bs,$a),Xs!==void 0&&Gs(Zs,Xs,Bs)}Bs!==Ts&&Ms(Ns(Bs,Cl),{event:_l,source:Ys})};reactExports.useEffect(function(){var yl=ks.current,Bs=yl.formattedValue,Zs=yl.numAsString;(Ts!==Bs||Is!==Zs)&&Ms(Ns(Ts,Is),{event:void 0,source:SourceType.props})},[Ts,Is]);var qs=js.current?geInputCaretPosition(js.current):void 0,Vs=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect;Vs(function(){var yl=js.current;if(Ts!==ks.current.formattedValue&&yl){var Bs=Hs(ks.current.formattedValue,Ts,qs);yl.value=Ts,Gs(yl,Bs,Ts)}},[Ts]);var Ks=function(yl,Bs,Zs){var Ys=Bs.target,_l=As.current?findChangedRangeFromCaretPositions(As.current,Ys.selectionEnd):findChangeRange(Ts,yl),Cl=Object.assign(Object.assign({},_l),{lastValue:Ts}),Xs=cs(yl,Cl),xl=Ls(Xs);if(Xs=cs(xl,void 0),fs&&!fs(Ns(xl,Xs))){var $a=Bs.target,Dl=geInputCaretPosition($a),Ol=Hs(yl,Ts,Dl);return $a.value=Ts,Gs($a,Ol,Ts),!1}return zs({formattedValue:xl,numAsString:Xs,inputValue:yl,event:Bs,source:Zs,input:Bs.target}),!0},Ws=function(yl,Bs){Bs===void 0&&(Bs=0);var Zs=yl.selectionStart,Ys=yl.selectionEnd;As.current={selectionStart:Zs,selectionEnd:Ys+Bs}},Pl=function(yl){var Bs=yl.target,Zs=Bs.value,Ys=Ks(Zs,yl,SourceType.event);Ys&&hs(yl),As.current=void 0},Tl=function(yl){var Bs=yl.target,Zs=yl.key,Ys=Bs.selectionStart,_l=Bs.selectionEnd,Cl=Bs.value;Cl===void 0&&(Cl="");var Xs;Zs==="ArrowLeft"||Zs==="Backspace"?Xs=Math.max(Ys-1,0):Zs==="ArrowRight"?Xs=Math.min(Ys+1,Cl.length):Zs==="Delete"&&(Xs=Ys);var xl=0;Zs==="Delete"&&Ys===_l&&(xl=1);var $a=Zs==="ArrowLeft"||Zs==="ArrowRight";if(Xs===void 0||Ys!==_l&&!$a){ms(yl),Ws(Bs,xl);return}var Dl=Xs;if($a){var Ol=Zs==="ArrowLeft"?"left":"right";Dl=Us(Cl,Xs,Ol),Dl!==Xs&&yl.preventDefault()}else Zs==="Delete"&&!Ss(Cl[Xs])?Dl=Us(Cl,Xs,"right"):Zs==="Backspace"&&!Ss(Cl[Xs])&&(Dl=Us(Cl,Xs,"left"));Dl!==Xs&&Gs(Bs,Dl,Cl),ms(yl),Ws(Bs,xl)},El=function(yl){var Bs=yl.target,Zs=function(){var Ys=Bs.selectionStart,_l=Bs.selectionEnd,Cl=Bs.value;if(Cl===void 0&&(Cl=""),Ys===_l){var Xs=Us(Cl,Ys);Xs!==Ys&&Gs(Bs,Xs,Cl)}};Zs(),requestAnimationFrame(function(){Zs()}),gs(yl),Ws(Bs)},$l=function(yl){yl.persist&&yl.persist();var Bs=yl.target,Zs=yl.currentTarget;js.current=Bs,Ps.current.focusTimeout=setTimeout(function(){var Ys=Bs.selectionStart,_l=Bs.selectionEnd,Cl=Bs.value;Cl===void 0&&(Cl="");var Xs=Us(Cl,Ys);Xs!==Ys&&!(Ys===0&&_l===Cl.length)&&Gs(Bs,Xs,Cl),vs(Object.assign(Object.assign({},yl),{currentTarget:Zs}))},0)},Sl=function(yl){js.current=null,clearTimeout(Ps.current.focusTimeout),clearTimeout(Ps.current.setCaretTimeout),bs(yl)},Ml=Ds&&addInputMode()?"numeric":void 0,wl=Object.assign({inputMode:Ml},$s,{type:rs,value:Ts,onChange:Pl,onKeyDown:Tl,onMouseUp:El,onFocus:$l,onBlur:Sl});if(ns==="text")return ss?React$2.createElement(React$2.Fragment,null,ss(Ts,$s)||null):React$2.createElement("span",Object.assign({},$s,{ref:as}),Ts);if(os){var Rl=os;return React$2.createElement(Rl,Object.assign({},wl,{ref:as}))}return React$2.createElement("input",Object.assign({},wl,{ref:as}))}function format$1(ts,rs){var ns=rs.format,os=rs.allowEmptyFormatting,ss=rs.mask,as=rs.patternChar;if(as===void 0&&(as="#"),ts===""&&!os)return"";for(var ls=0,cs=ns.split(""),us=0,ds=ns.length;us<ds;us++)ns[us]===as&&(cs[us]=ts[ls]||getMaskAtIndex(ss,ls),ls+=1);return cs.join("")}function removeFormatting$1(ts,rs,ns){rs===void 0&&(rs=getDefaultChangeMeta(ts));var os=ns.format,ss=ns.patternChar;ss===void 0&&(ss="#");var as=rs.from,ls=rs.to,cs=rs.lastValue;cs===void 0&&(cs="");var us=function(bs){return os[bs]===ss},ds=function(bs,xs){for(var ys="",Ss=0;Ss<bs.length;Ss++)us(xs+Ss)&&charIsNumber(bs[Ss])&&(ys+=bs[Ss]);return ys},ps=function(bs){return bs.replace(/[^0-9]/g,"")};if(!os.match(/\d/))return ps(ts);if((cs===""||as.end-as.start===cs.length)&&ts.length===os.length){for(var fs="",hs=0;hs<ts.length;hs++)if(us(hs))charIsNumber(ts[hs])&&(fs+=ts[hs]);else if(ts[hs]!==os[hs])return ps(ts);return fs}var ms=cs.substring(0,as.start),gs=ts.substring(ls.start,ls.end),vs=cs.substring(as.end);return""+ds(ms,0)+ps(gs)+ds(vs,as.end)}function getCaretBoundary$1(ts,rs){var ns=rs.format,os=rs.mask,ss=rs.patternChar;ss===void 0&&(ss="#");var as=Array.from({length:ts.length+1}).map(function(){return!0}),ls=0,cs=-1,us={};ns.split("").forEach(function(hs,ms){var gs=void 0;hs===ss&&(ls++,gs=getMaskAtIndex(os,ls-1),cs===-1&&ts[ms]===gs&&(cs=ms)),us[ms]=gs});for(var ds=function(hs){return ns[hs]===ss&&ts[hs]!==us[hs]},ps=0,fs=as.length;ps<fs;ps++)as[ps]=ps===cs||ds(ps)||ds(ps-1);return as[ns.indexOf(ss)]=!0,as}function validateProps(ts){var rs=ts.mask;if(rs){var ns=rs==="string"?rs:rs.toString();if(ns.match(/\d/g))throw new Error("Mask "+rs+" should not contain numeric character;")}}function isNumericString$1(ts,rs){return ts===""?!0:!(rs!=null&&rs.match(/\d/))&&typeof ts=="string"&&(!!ts.match(/^\d+$/)||ts==="")}function usePatternFormat(ts){ts.mask,ts.allowEmptyFormatting;var rs=ts.format,ns=ts.inputMode;ns===void 0&&(ns="numeric");var os=ts.onKeyDown;os===void 0&&(os=noop$4);var ss=ts.patternChar;ss===void 0&&(ss="#");var as=ts.value,ls=ts.defaultValue,cs=ts.valueIsNumericString,us=__rest$3(ts,["mask","allowEmptyFormatting","format","inputMode","onKeyDown","patternChar","value","defaultValue","valueIsNumericString"]);validateProps(ts);var ds=function(gs){return getCaretBoundary$1(gs,ts)},ps=function(gs){var vs=gs.key,bs=gs.target,xs=bs.selectionStart,ys=bs.selectionEnd,Ss=bs.value;if(xs!==ys){os(gs);return}var Cs=xs;if(vs==="Backspace"||vs==="Delete"){var $s="right";if(vs==="Backspace"){for(;Cs>0&&rs[Cs-1]!==ss;)Cs--;$s="left"}else{for(var Es=rs.length;Cs<Es&&rs[Cs]!==ss;)Cs++;$s="right"}Cs=getCaretPosInBoundary(Ss,Cs,ds(Ss),$s)}else rs[Cs]!==ss&&vs!=="ArrowLeft"&&vs!=="ArrowRight"&&(Cs=getCaretPosInBoundary(Ss,Cs+1,ds(Ss),"right"));Cs!==xs&&setCaretPosition(bs,Cs),os(gs)},fs=isNil(as)?ls:as,hs=cs!=null?cs:isNumericString$1(fs,rs),ms=Object.assign(Object.assign({},ts),{valueIsNumericString:hs});return Object.assign(Object.assign({},us),{value:as,defaultValue:ls,valueIsNumericString:hs,inputMode:ns,format:function(gs){return format$1(gs,ms)},removeFormatting:function(gs,vs){return removeFormatting$1(gs,vs,ms)},getCaretBoundary:ds,onKeyDown:ps})}function PatternFormat(ts){var rs=usePatternFormat(ts);return React$2.createElement(NumberFormatBase,Object.assign({},rs))}function CustomBreadcrumbs({chain:ts}){const rs=useTheme$1();return jsxRuntimeExports.jsx(Breadcrumbs$1,{"aria-label":"breadcrumb",children:ts.map(ns=>jsxRuntimeExports.jsx(Link,{style:{textDecoration:"none",color:ns.link==="#"?"black":rs.palette.secondary.light},to:ns.link,children:ns.children},ns.link))})}const CustomDialog=({open:ts,handleClose:rs,title:ns,description:os,closeButton:ss=!0,closeButtonText:as,handleConfirm:ls,confirmText:cs,confirmLoading:us,error:ds})=>{const ps=useTheme$1();return jsxRuntimeExports.jsxs(Dialog$1,{open:ts,onClose:rs,disableScrollLock:!0,sx:{".MuiPaper-root":{padding:2}},children:[jsxRuntimeExports.jsxs(DialogTitle$1,{variant:"h5",color:"secondary.main",sx:{width:"80%",fontSize:"20px",color:ps.palette.primary.dark,fontWeight:"600 !important"},children:[ns,ss&&jsxRuntimeExports.jsx(IconButton$2,{"aria-label":"Close",onClick:rs,sx:{position:"absolute",right:8,top:8},children:jsxRuntimeExports.jsx(Close$1,{})})]}),jsxRuntimeExports.jsx(DialogContent$1,{children:jsxRuntimeExports.jsx(DialogContentText$1,{sx:{color:ps.palette.text.primary},children:os})}),jsxRuntimeExports.jsxs(DialogActions$1,{sx:{justifyContent:"start",px:2},children:[ls&&jsxRuntimeExports.jsx(LoadingButton$1,{loading:us,variant:"contained",onClick:ls,sx:{fontWeight:"700",borderRadius:"100px",mr:"8px",textTransform:"none"},children:cs}),jsxRuntimeExports.jsx(Button$2,{variant:ls?"text":"contained",onClick:rs,sx:{fontWeight:"700",borderRadius:"100px",textTransform:"none"},children:as})]}),ds&&jsxRuntimeExports.jsx(Typography$1,{color:"error",variant:"body2",my:1,mx:2,children:ds})]})};function r$1(ts){var rs,ns,os="";if(typeof ts=="string"||typeof ts=="number")os+=ts;else if(typeof ts=="object")if(Array.isArray(ts))for(rs=0;rs<ts.length;rs++)ts[rs]&&(ns=r$1(ts[rs]))&&(os&&(os+=" "),os+=ns);else for(rs in ts)ts[rs]&&(os&&(os+=" "),os+=rs);return os}function clsx(){for(var ts,rs,ns=0,os="";ns<arguments.length;)(ts=arguments[ns++])&&(rs=r$1(ts))&&(os&&(os+=" "),os+=rs);return os}const clsx_m=Object.freeze(Object.defineProperty({__proto__:null,clsx,default:clsx},Symbol.toStringTag,{value:"Module"}));function arrayIncludes(ts,rs){return Array.isArray(rs)?rs.every(ns=>ts.indexOf(ns)!==-1):ts.indexOf(rs)!==-1}const onSpaceOrEnter=(ts,rs)=>ns=>{(ns.key==="Enter"||ns.key===" ")&&(ts(ns),ns.preventDefault(),ns.stopPropagation()),rs&&rs(ns)},getActiveElement=(ts=document)=>{const rs=ts.activeElement;return rs?rs.shadowRoot?getActiveElement(rs.shadowRoot):rs:null};function getPickersMonthUtilityClass(ts){return generateUtilityClass("PrivatePickersMonth",ts)}const pickersMonthClasses=generateUtilityClasses("PrivatePickersMonth",["root","selected"]),_excluded$h=["disabled","onSelect","selected","value","tabIndex","hasFocus","onFocus","onBlur"],useUtilityClasses$i=ts=>{const{classes:rs,selected:ns}=ts;return composeClasses({root:["root",ns&&"selected"]},getPickersMonthUtilityClass,rs)},PickersMonthRoot=styled$4(Typography$1,{name:"PrivatePickersMonth",slot:"Root",overridesResolver:(ts,rs)=>[rs.root,{["&.".concat(pickersMonthClasses.selected)]:rs.selected}]})(({theme:ts})=>_extends$5({flex:"1 0 33.33%",display:"flex",alignItems:"center",justifyContent:"center",color:"unset",backgroundColor:"transparent",border:0,outline:0},ts.typography.subtitle1,{margin:"8px 0",height:36,borderRadius:18,cursor:"pointer","&:focus, &:hover":{backgroundColor:alpha(ts.palette.action.active,ts.palette.action.hoverOpacity)},"&:disabled":{pointerEvents:"none",color:ts.palette.text.secondary},["&.".concat(pickersMonthClasses.selected)]:{color:ts.palette.primary.contrastText,backgroundColor:ts.palette.primary.main,"&:focus, &:hover":{backgroundColor:ts.palette.primary.dark}}})),noop$3=()=>{},PickersMonth=ts=>{const{disabled:rs,onSelect:ns,selected:os,value:ss,tabIndex:as,hasFocus:ls,onFocus:cs=noop$3,onBlur:us=noop$3}=ts,ds=_objectWithoutPropertiesLoose$1(ts,_excluded$h),ps=useUtilityClasses$i(ts),fs=()=>{ns(ss)},hs=reactExports.useRef(null);return useEnhancedEffect$1(()=>{if(ls){var ms;(ms=hs.current)==null||ms.focus()}},[ls]),jsxRuntimeExports.jsx(PickersMonthRoot,_extends$5({ref:hs,component:"button",type:"button",className:ps.root,tabIndex:as,onClick:fs,onKeyDown:onSpaceOrEnter(fs),color:os?"primary":void 0,variant:os?"h5":"subtitle1",disabled:rs,onFocus:ms=>cs(ms,ss),onBlur:ms=>us(ms,ss)},ds))},getPickersLocalization=ts=>({components:{MuiLocalizationProvider:{defaultProps:{localeText:_extends$5({},ts)}}}}),enUSPickers={previousMonth:"Previous month",nextMonth:"Next month",openPreviousView:"open previous view",openNextView:"open next view",calendarViewSwitchingButtonAriaLabel:ts=>ts==="year"?"year view is open, switch to calendar view":"calendar view is open, switch to year view",inputModeToggleButtonAriaLabel:(ts,rs)=>ts?"text input view is open, go to ".concat(rs," view"):"".concat(rs," view is open, go to text input view"),start:"Start",end:"End",cancelButtonLabel:"Cancel",clearButtonLabel:"Clear",okButtonLabel:"OK",todayButtonLabel:"Today",datePickerDefaultToolbarTitle:"Select date",dateTimePickerDefaultToolbarTitle:"Select date & time",timePickerDefaultToolbarTitle:"Select time",dateRangePickerDefaultToolbarTitle:"Select date range",clockLabelText:(ts,rs,ns)=>"Select ".concat(ts,". ").concat(rs===null?"No time selected":"Selected time is ".concat(ns.format(rs,"fullTime"))),hoursClockNumberText:ts=>"".concat(ts," hours"),minutesClockNumberText:ts=>"".concat(ts," minutes"),secondsClockNumberText:ts=>"".concat(ts," seconds"),openDatePickerDialogue:(ts,rs)=>ts&&rs.isValid(rs.date(ts))?"Choose date, selected date is ".concat(rs.format(rs.date(ts),"fullDate")):"Choose date",openTimePickerDialogue:(ts,rs)=>ts&&rs.isValid(rs.date(ts))?"Choose time, selected time is ".concat(rs.format(rs.date(ts),"fullTime")):"Choose time",timeTableLabel:"pick time",dateTableLabel:"pick date"},DEFAULT_LOCALE=enUSPickers;getPickersLocalization(enUSPickers);const MuiPickersAdapterContext=reactExports.createContext(null);function LocalizationProvider(ts){const rs=useThemeProps({props:ts,name:"MuiLocalizationProvider"}),{children:ns,dateAdapter:os,dateFormats:ss,dateLibInstance:as,locale:ls,adapterLocale:cs,localeText:us}=rs,ds=reactExports.useMemo(()=>new os({locale:cs!=null?cs:ls,formats:ss,instance:as}),[os,ls,cs,ss,as]),ps=reactExports.useMemo(()=>({minDate:ds.date("1900-01-01T00:00:00.000"),maxDate:ds.date("2099-12-31T00:00:00.000")}),[ds]),fs=reactExports.useMemo(()=>({utils:ds,defaultDates:ps,localeText:_extends$5({},DEFAULT_LOCALE,us!=null?us:{})}),[ps,ds,us]);return jsxRuntimeExports.jsx(MuiPickersAdapterContext.Provider,{value:fs,children:ns})}const useLocalizationContext=()=>{const ts=reactExports.useContext(MuiPickersAdapterContext);if(ts===null)throw new Error("MUI: Can not find utils in context. It looks like you forgot to wrap your component in LocalizationProvider, or pass dateAdapter prop directly.");return ts},useUtils=()=>useLocalizationContext().utils,useDefaultDates=()=>useLocalizationContext().defaultDates,useLocaleText=()=>useLocalizationContext().localeText,useNow=()=>{const ts=useUtils();return reactExports.useRef(ts.date()).current};function getMonthPickerUtilityClass(ts){return generateUtilityClass("MuiMonthPicker",ts)}generateUtilityClasses("MuiMonthPicker",["root"]);const findClosestEnabledDate=({date:ts,disableFuture:rs,disablePast:ns,maxDate:os,minDate:ss,isDateDisabled:as,utils:ls})=>{const cs=ls.startOfDay(ls.date());ns&&ls.isBefore(ss,cs)&&(ss=cs),rs&&ls.isAfter(os,cs)&&(os=cs);let us=ts,ds=ts;for(ls.isBefore(ts,ss)&&(us=ls.date(ss),ds=null),ls.isAfter(ts,os)&&(ds&&(ds=ls.date(os)),us=null);us||ds;){if(us&&ls.isAfter(us,os)&&(us=null),ds&&ls.isBefore(ds,ss)&&(ds=null),us){if(!as(us))return us;us=ls.addDays(us,1)}if(ds){if(!as(ds))return ds;ds=ls.addDays(ds,-1)}}return null},parsePickerInputValue=(ts,rs)=>{const ns=ts.date(rs);return ts.isValid(ns)?ns:null},parseNonNullablePickerDate=(ts,rs,ns)=>{if(rs==null)return ns;const os=ts.date(rs);return ts.isValid(os)?os:ns},_excluded$g=["className","date","disabled","disableFuture","disablePast","maxDate","minDate","onChange","shouldDisableMonth","readOnly","disableHighlightToday","autoFocus","onMonthFocus","hasFocus","onFocusedViewChange"],useUtilityClasses$h=ts=>{const{classes:rs}=ts;return composeClasses({root:["root"]},getMonthPickerUtilityClass,rs)};function useMonthPickerDefaultizedProps(ts,rs){const ns=useUtils(),os=useDefaultDates(),ss=useThemeProps({props:ts,name:rs});return _extends$5({disableFuture:!1,disablePast:!1},ss,{minDate:parseNonNullablePickerDate(ns,ss.minDate,os.minDate),maxDate:parseNonNullablePickerDate(ns,ss.maxDate,os.maxDate)})}const MonthPickerRoot=styled$4("div",{name:"MuiMonthPicker",slot:"Root",overridesResolver:(ts,rs)=>rs.root})({width:310,display:"flex",flexWrap:"wrap",alignContent:"stretch",margin:"0 4px"}),MonthPicker=reactExports.forwardRef(function(rs,ns){const os=useUtils(),ss=useNow(),as=useMonthPickerDefaultizedProps(rs,"MuiMonthPicker"),{className:ls,date:cs,disabled:us,disableFuture:ds,disablePast:ps,maxDate:fs,minDate:hs,onChange:ms,shouldDisableMonth:gs,readOnly:vs,disableHighlightToday:bs,autoFocus:xs=!1,onMonthFocus:ys,hasFocus:Ss,onFocusedViewChange:Cs}=as,$s=_objectWithoutPropertiesLoose$1(as,_excluded$g),Es=as,ws=useUtilityClasses$h(Es),Ts=useTheme$3(),Is=reactExports.useMemo(()=>cs!=null?cs:os.startOfMonth(ss),[ss,os,cs]),Rs=reactExports.useMemo(()=>cs!=null?os.getMonth(cs):bs?null:os.getMonth(ss),[ss,cs,os,bs]),[As,ks]=reactExports.useState(()=>Rs||os.getMonth(ss)),Ms=reactExports.useCallback(Hs=>{const zs=os.startOfMonth(ps&&os.isAfter(ss,hs)?ss:hs),qs=os.startOfMonth(ds&&os.isBefore(ss,fs)?ss:fs);return os.isBefore(Hs,zs)||os.isAfter(Hs,qs)?!0:gs?gs(Hs):!1},[ds,ps,fs,hs,ss,gs,os]),Os=Hs=>{if(vs)return;const zs=os.setMonth(Is,Hs);ms(zs,"finish")},[Ds,Fs]=useControlled({name:"MonthPicker",state:"hasFocus",controlled:Ss,default:xs}),js=reactExports.useCallback(Hs=>{Fs(Hs),Cs&&Cs(Hs)},[Fs,Cs]),Ps=reactExports.useCallback(Hs=>{Ms(os.setMonth(Is,Hs))||(ks(Hs),js(!0),ys&&ys(Hs))},[Ms,os,Is,js,ys]);reactExports.useEffect(()=>{ks(Hs=>Rs!==null&&Hs!==Rs?Rs:Hs)},[Rs]);const Ls=useEventCallback(Hs=>{switch(Hs.key){case"ArrowUp":Ps((12+As-3)%12),Hs.preventDefault();break;case"ArrowDown":Ps((12+As+3)%12),Hs.preventDefault();break;case"ArrowLeft":Ps((12+As+(Ts.direction==="ltr"?-1:1))%12),Hs.preventDefault();break;case"ArrowRight":Ps((12+As+(Ts.direction==="ltr"?1:-1))%12),Hs.preventDefault();break}}),Ns=reactExports.useCallback((Hs,zs)=>{Ps(zs)},[Ps]),Gs=reactExports.useCallback(()=>{js(!1)},[js]),Us=os.getMonth(ss);return jsxRuntimeExports.jsx(MonthPickerRoot,_extends$5({ref:ns,className:clsx(ws.root,ls),ownerState:Es,onKeyDown:Ls},$s,{children:os.getMonthArray(Is).map(Hs=>{const zs=os.getMonth(Hs),qs=os.format(Hs,"monthShort"),Vs=us||Ms(Hs);return jsxRuntimeExports.jsx(PickersMonth,{value:zs,selected:zs===Rs,tabIndex:zs===As&&!Vs?0:-1,hasFocus:Ds&&zs===As,onSelect:Os,onFocus:Ns,onBlur:Gs,disabled:Vs,"aria-current":Us===zs?"date":void 0,children:qs},qs)})}))});function useValidation(ts,rs,ns){const{value:os,onError:ss}=ts,as=useLocalizationContext(),ls=reactExports.useRef(null),cs=rs({adapter:as,value:os,props:ts});return reactExports.useEffect(()=>{ss&&!ns(cs,ls.current)&&ss(cs,os),ls.current=cs},[ns,ss,ls,cs,os]),cs}const validateDate=({props:ts,value:rs,adapter:ns})=>{const os=ns.utils.date(),ss=ns.utils.date(rs),as=parseNonNullablePickerDate(ns.utils,ts.minDate,ns.defaultDates.minDate),ls=parseNonNullablePickerDate(ns.utils,ts.maxDate,ns.defaultDates.maxDate);if(ss===null)return null;switch(!0){case!ns.utils.isValid(rs):return"invalidDate";case!!(ts.shouldDisableDate&&ts.shouldDisableDate(ss)):return"shouldDisableDate";case!!(ts.disableFuture&&ns.utils.isAfterDay(ss,os)):return"disableFuture";case!!(ts.disablePast&&ns.utils.isBeforeDay(ss,os)):return"disablePast";case!!(as&&ns.utils.isBeforeDay(ss,as)):return"minDate";case!!(ls&&ns.utils.isAfterDay(ss,ls)):return"maxDate";default:return null}},useIsDayDisabled=({shouldDisableDate:ts,minDate:rs,maxDate:ns,disableFuture:os,disablePast:ss})=>{const as=useLocalizationContext();return reactExports.useCallback(ls=>validateDate({adapter:as,value:ls,props:{shouldDisableDate:ts,minDate:rs,maxDate:ns,disableFuture:os,disablePast:ss}})!==null,[as,ts,rs,ns,os,ss])},isSameDateError=(ts,rs)=>ts===rs,useDateValidation=ts=>useValidation(ts,validateDate,isSameDateError),createCalendarStateReducer=(ts,rs,ns)=>(os,ss)=>{switch(ss.type){case"changeMonth":return _extends$5({},os,{slideDirection:ss.direction,currentMonth:ss.newMonth,isMonthSwitchingAnimating:!ts});case"finishMonthSwitchingAnimation":return _extends$5({},os,{isMonthSwitchingAnimating:!1});case"changeFocusedDay":{if(os.focusedDay!=null&&ss.focusedDay!=null&&ns.isSameDay(ss.focusedDay,os.focusedDay))return os;const as=ss.focusedDay!=null&&!rs&&!ns.isSameMonth(os.currentMonth,ss.focusedDay);return _extends$5({},os,{focusedDay:ss.focusedDay,isMonthSwitchingAnimating:as&&!ts&&!ss.withoutMonthSwitchingAnimation,currentMonth:as?ns.startOfMonth(ss.focusedDay):os.currentMonth,slideDirection:ss.focusedDay!=null&&ns.isAfterDay(ss.focusedDay,os.currentMonth)?"left":"right"})}default:throw new Error("missing support")}},useCalendarState=({date:ts,defaultCalendarMonth:rs,disableFuture:ns,disablePast:os,disableSwitchToMonthOnDayFocus:ss=!1,maxDate:as,minDate:ls,onMonthChange:cs,reduceAnimations:us,shouldDisableDate:ds})=>{var ps;const fs=useNow(),hs=useUtils(),ms=reactExports.useRef(createCalendarStateReducer(!!us,ss,hs)).current,[gs,vs]=reactExports.useReducer(ms,{isMonthSwitchingAnimating:!1,focusedDay:ts||fs,currentMonth:hs.startOfMonth((ps=ts!=null?ts:rs)!=null?ps:fs),slideDirection:"left"}),bs=reactExports.useCallback($s=>{vs(_extends$5({type:"changeMonth"},$s)),cs&&cs($s.newMonth)},[cs]),xs=reactExports.useCallback($s=>{const Es=$s!=null?$s:fs;hs.isSameMonth(Es,gs.currentMonth)||bs({newMonth:hs.startOfMonth(Es),direction:hs.isAfterDay(Es,gs.currentMonth)?"left":"right"})},[gs.currentMonth,bs,fs,hs]),ys=useIsDayDisabled({shouldDisableDate:ds,minDate:ls,maxDate:as,disableFuture:ns,disablePast:os}),Ss=reactExports.useCallback(()=>{vs({type:"finishMonthSwitchingAnimation"})},[]),Cs=reactExports.useCallback(($s,Es)=>{ys($s)||vs({type:"changeFocusedDay",focusedDay:$s,withoutMonthSwitchingAnimation:Es})},[ys]);return{calendarState:gs,changeMonth:xs,changeFocusedDay:Cs,isDateDisabled:ys,onMonthSwitchingAnimationEnd:Ss,handleChangeMonth:bs}},getPickersFadeTransitionGroupUtilityClass=ts=>generateUtilityClass("MuiPickersFadeTransitionGroup",ts);generateUtilityClasses("MuiPickersFadeTransitionGroup",["root"]);const useUtilityClasses$g=ts=>{const{classes:rs}=ts;return composeClasses({root:["root"]},getPickersFadeTransitionGroupUtilityClass,rs)},animationDuration=500,PickersFadeTransitionGroupRoot=styled$4(TransitionGroup$1,{name:"MuiPickersFadeTransitionGroup",slot:"Root",overridesResolver:(ts,rs)=>rs.root})({display:"block",position:"relative"});function PickersFadeTransitionGroup(ts){const rs=useThemeProps({props:ts,name:"MuiPickersFadeTransitionGroup"}),{children:ns,className:os,reduceAnimations:ss,transKey:as}=rs,ls=useUtilityClasses$g(rs);return ss?ns:jsxRuntimeExports.jsx(PickersFadeTransitionGroupRoot,{className:clsx(ls.root,os),children:jsxRuntimeExports.jsx(Fade$1,{appear:!1,mountOnEnter:!0,unmountOnExit:!0,timeout:{appear:animationDuration,enter:animationDuration/2,exit:0},children:ns},as)})}const DAY_SIZE=36,DAY_MARGIN=2,DIALOG_WIDTH=320,VIEW_HEIGHT=358;function getPickersDayUtilityClass(ts){return generateUtilityClass("MuiPickersDay",ts)}const pickersDayClasses=generateUtilityClasses("MuiPickersDay",["root","dayWithMargin","dayOutsideMonth","hiddenDaySpacingFiller","today","selected","disabled"]),_excluded$f=["autoFocus","className","day","disabled","disableHighlightToday","disableMargin","hidden","isAnimating","onClick","onDaySelect","onFocus","onBlur","onKeyDown","onMouseDown","outsideCurrentMonth","selected","showDaysOutsideCurrentMonth","children","today"],useUtilityClasses$f=ts=>{const{selected:rs,disableMargin:ns,disableHighlightToday:os,today:ss,disabled:as,outsideCurrentMonth:ls,showDaysOutsideCurrentMonth:cs,classes:us}=ts;return composeClasses({root:["root",rs&&"selected",as&&"disabled",!ns&&"dayWithMargin",!os&&ss&&"today",ls&&cs&&"dayOutsideMonth",ls&&!cs&&"hiddenDaySpacingFiller"],hiddenDaySpacingFiller:["hiddenDaySpacingFiller"]},getPickersDayUtilityClass,us)},styleArg=({theme:ts,ownerState:rs})=>_extends$5({},ts.typography.caption,{width:DAY_SIZE,height:DAY_SIZE,borderRadius:"50%",padding:0,backgroundColor:ts.palette.background.paper,color:ts.palette.text.primary,"&:hover":{backgroundColor:alpha(ts.palette.action.active,ts.palette.action.hoverOpacity)},"&:focus":{backgroundColor:alpha(ts.palette.action.active,ts.palette.action.hoverOpacity),["&.".concat(pickersDayClasses.selected)]:{willChange:"background-color",backgroundColor:ts.palette.primary.dark}},["&.".concat(pickersDayClasses.selected)]:{color:ts.palette.primary.contrastText,backgroundColor:ts.palette.primary.main,fontWeight:ts.typography.fontWeightMedium,transition:ts.transitions.create("background-color",{duration:ts.transitions.duration.short}),"&:hover":{willChange:"background-color",backgroundColor:ts.palette.primary.dark}},["&.".concat(pickersDayClasses.disabled)]:{color:ts.palette.text.disabled}},!rs.disableMargin&&{margin:"0 ".concat(DAY_MARGIN,"px")},rs.outsideCurrentMonth&&rs.showDaysOutsideCurrentMonth&&{color:ts.palette.text.secondary},!rs.disableHighlightToday&&rs.today&&{["&:not(.".concat(pickersDayClasses.selected,")")]:{border:"1px solid ".concat(ts.palette.text.secondary)}}),overridesResolver=(ts,rs)=>{const{ownerState:ns}=ts;return[rs.root,!ns.disableMargin&&rs.dayWithMargin,!ns.disableHighlightToday&&ns.today&&rs.today,!ns.outsideCurrentMonth&&ns.showDaysOutsideCurrentMonth&&rs.dayOutsideMonth,ns.outsideCurrentMonth&&!ns.showDaysOutsideCurrentMonth&&rs.hiddenDaySpacingFiller]},PickersDayRoot=styled$4(ButtonBase$1,{name:"MuiPickersDay",slot:"Root",overridesResolver})(styleArg),PickersDayFiller=styled$4("div",{name:"MuiPickersDay",slot:"Root",overridesResolver})(({theme:ts,ownerState:rs})=>_extends$5({},styleArg({theme:ts,ownerState:rs}),{opacity:0,pointerEvents:"none"})),noop$2=()=>{},PickersDayRaw=reactExports.forwardRef(function(rs,ns){const os=useThemeProps({props:rs,name:"MuiPickersDay"}),{autoFocus:ss=!1,className:as,day:ls,disabled:cs=!1,disableHighlightToday:us=!1,disableMargin:ds=!1,isAnimating:ps,onClick:fs,onDaySelect:hs,onFocus:ms=noop$2,onBlur:gs=noop$2,onKeyDown:vs=noop$2,onMouseDown:bs,outsideCurrentMonth:xs,selected:ys=!1,showDaysOutsideCurrentMonth:Ss=!1,children:Cs,today:$s=!1}=os,Es=_objectWithoutPropertiesLoose$1(os,_excluded$f),ws=_extends$5({},os,{autoFocus:ss,disabled:cs,disableHighlightToday:us,disableMargin:ds,selected:ys,showDaysOutsideCurrentMonth:Ss,today:$s}),Ts=useUtilityClasses$f(ws),Is=useUtils(),Rs=reactExports.useRef(null),As=useForkRef(Rs,ns);useEnhancedEffect$1(()=>{ss&&!cs&&!ps&&!xs&&Rs.current.focus()},[ss,cs,ps,xs]);const ks=Os=>{bs&&bs(Os),xs&&Os.preventDefault()},Ms=Os=>{cs||hs(ls,"finish"),xs&&Os.currentTarget.focus(),fs&&fs(Os)};return xs&&!Ss?jsxRuntimeExports.jsx(PickersDayFiller,{className:clsx(Ts.root,Ts.hiddenDaySpacingFiller,as),ownerState:ws,role:Es.role}):jsxRuntimeExports.jsx(PickersDayRoot,_extends$5({className:clsx(Ts.root,as),ownerState:ws,ref:As,centerRipple:!0,disabled:cs,tabIndex:ys?0:-1,onKeyDown:Os=>vs(Os,ls),onFocus:Os=>ms(Os,ls),onBlur:Os=>gs(Os,ls),onClick:Ms,onMouseDown:ks},Es,{children:Cs||Is.format(ls,"dayOfMonth")}))}),areDayPropsEqual=(ts,rs)=>ts.autoFocus===rs.autoFocus&&ts.isAnimating===rs.isAnimating&&ts.today===rs.today&&ts.disabled===rs.disabled&&ts.selected===rs.selected&&ts.disableMargin===rs.disableMargin&&ts.showDaysOutsideCurrentMonth===rs.showDaysOutsideCurrentMonth&&ts.disableHighlightToday===rs.disableHighlightToday&&ts.className===rs.className&&ts.sx===rs.sx&&ts.outsideCurrentMonth===rs.outsideCurrentMonth&&ts.onFocus===rs.onFocus&&ts.onBlur===rs.onBlur&&ts.onDaySelect===rs.onDaySelect,PickersDay=reactExports.memo(PickersDayRaw,areDayPropsEqual),getPickersSlideTransitionUtilityClass=ts=>generateUtilityClass("PrivatePickersSlideTransition",ts),pickersSlideTransitionClasses=generateUtilityClasses("PrivatePickersSlideTransition",["root","slideEnter-left","slideEnter-right","slideEnterActive","slideExit","slideExitActiveLeft-left","slideExitActiveLeft-right"]),_excluded$e=["children","className","reduceAnimations","slideDirection","transKey"],useUtilityClasses$e=ts=>{const{classes:rs}=ts;return composeClasses({root:["root"]},getPickersSlideTransitionUtilityClass,rs)},slideAnimationDuration=350,PickersSlideTransitionRoot=styled$4(TransitionGroup$1,{name:"PrivatePickersSlideTransition",slot:"Root",overridesResolver:(ts,rs)=>[rs.root,{[".".concat(pickersSlideTransitionClasses["slideEnter-left"])]:rs["slideEnter-left"]},{[".".concat(pickersSlideTransitionClasses["slideEnter-right"])]:rs["slideEnter-right"]},{[".".concat(pickersSlideTransitionClasses.slideEnterActive)]:rs.slideEnterActive},{[".".concat(pickersSlideTransitionClasses.slideExit)]:rs.slideExit},{[".".concat(pickersSlideTransitionClasses["slideExitActiveLeft-left"])]:rs["slideExitActiveLeft-left"]},{[".".concat(pickersSlideTransitionClasses["slideExitActiveLeft-right"])]:rs["slideExitActiveLeft-right"]}]})(({theme:ts})=>{const rs=ts.transitions.create("transform",{duration:slideAnimationDuration,easing:"cubic-bezier(0.35, 0.8, 0.4, 1)"});return{display:"block",position:"relative",overflowX:"hidden","& > *":{position:"absolute",top:0,right:0,left:0},["& .".concat(pickersSlideTransitionClasses["slideEnter-left"])]:{willChange:"transform",transform:"translate(100%)",zIndex:1},["& .".concat(pickersSlideTransitionClasses["slideEnter-right"])]:{willChange:"transform",transform:"translate(-100%)",zIndex:1},["& .".concat(pickersSlideTransitionClasses.slideEnterActive)]:{transform:"translate(0%)",transition:rs},["& .".concat(pickersSlideTransitionClasses.slideExit)]:{transform:"translate(0%)"},["& .".concat(pickersSlideTransitionClasses["slideExitActiveLeft-left"])]:{willChange:"transform",transform:"translate(-100%)",transition:rs,zIndex:0},["& .".concat(pickersSlideTransitionClasses["slideExitActiveLeft-right"])]:{willChange:"transform",transform:"translate(100%)",transition:rs,zIndex:0}}}),PickersSlideTransition=ts=>{const{children:rs,className:ns,reduceAnimations:os,slideDirection:ss,transKey:as}=ts,ls=_objectWithoutPropertiesLoose$1(ts,_excluded$e),cs=useUtilityClasses$e(ts);if(os)return jsxRuntimeExports.jsx("div",{className:clsx(cs.root,ns),children:rs});const us={exit:pickersSlideTransitionClasses.slideExit,enterActive:pickersSlideTransitionClasses.slideEnterActive,enter:pickersSlideTransitionClasses["slideEnter-".concat(ss)],exitActive:pickersSlideTransitionClasses["slideExitActiveLeft-".concat(ss)]};return jsxRuntimeExports.jsx(PickersSlideTransitionRoot,{className:clsx(cs.root,ns),childFactory:ds=>reactExports.cloneElement(ds,{classNames:us}),role:"presentation",children:jsxRuntimeExports.jsx(CSSTransition$1,_extends$5({mountOnEnter:!0,unmountOnExit:!0,timeout:slideAnimationDuration,classNames:us},ls,{children:rs}),as)})},getDayPickerUtilityClass=ts=>generateUtilityClass("MuiDayPicker",ts);generateUtilityClasses("MuiDayPicker",["header","weekDayLabel","loadingContainer","slideTransition","monthContainer","weekContainer"]);const useUtilityClasses$d=ts=>{const{classes:rs}=ts;return composeClasses({header:["header"],weekDayLabel:["weekDayLabel"],loadingContainer:["loadingContainer"],slideTransition:["slideTransition"],monthContainer:["monthContainer"],weekContainer:["weekContainer"]},getDayPickerUtilityClass,rs)},defaultDayOfWeekFormatter=ts=>ts.charAt(0).toUpperCase(),weeksContainerHeight=(DAY_SIZE+DAY_MARGIN*2)*6,PickersCalendarDayHeader=styled$4("div",{name:"MuiDayPicker",slot:"Header",overridesResolver:(ts,rs)=>rs.header})({display:"flex",justifyContent:"center",alignItems:"center"}),PickersCalendarWeekDayLabel=styled$4(Typography$1,{name:"MuiDayPicker",slot:"WeekDayLabel",overridesResolver:(ts,rs)=>rs.weekDayLabel})(({theme:ts})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:ts.palette.text.secondary})),PickersCalendarLoadingContainer=styled$4("div",{name:"MuiDayPicker",slot:"LoadingContainer",overridesResolver:(ts,rs)=>rs.loadingContainer})({display:"flex",justifyContent:"center",alignItems:"center",minHeight:weeksContainerHeight}),PickersCalendarSlideTransition=styled$4(PickersSlideTransition,{name:"MuiDayPicker",slot:"SlideTransition",overridesResolver:(ts,rs)=>rs.slideTransition})({minHeight:weeksContainerHeight}),PickersCalendarWeekContainer=styled$4("div",{name:"MuiDayPicker",slot:"MonthContainer",overridesResolver:(ts,rs)=>rs.monthContainer})({overflow:"hidden"}),PickersCalendarWeek=styled$4("div",{name:"MuiDayPicker",slot:"WeekContainer",overridesResolver:(ts,rs)=>rs.weekContainer})({margin:"".concat(DAY_MARGIN,"px 0"),display:"flex",justifyContent:"center"});function DayPicker(ts){const rs=useNow(),ns=useUtils(),os=useThemeProps({props:ts,name:"MuiDayPicker"}),ss=useUtilityClasses$d(os),{onFocusedDayChange:as,className:ls,currentMonth:cs,selectedDays:us,disabled:ds,disableHighlightToday:ps,focusedDay:fs,isMonthSwitchingAnimating:hs,loading:ms,onSelectedDaysChange:gs,onMonthSwitchingAnimationEnd:vs,readOnly:bs,reduceAnimations:xs,renderDay:ys,renderLoading:Ss=()=>jsxRuntimeExports.jsx("span",{children:"..."}),showDaysOutsideCurrentMonth:Cs,slideDirection:$s,TransitionProps:Es,disablePast:ws,disableFuture:Ts,minDate:Is,maxDate:Rs,shouldDisableDate:As,dayOfWeekFormatter:ks=defaultDayOfWeekFormatter,hasFocus:Ms,onFocusedViewChange:Os,gridLabelId:Ds}=os,Fs=useIsDayDisabled({shouldDisableDate:As,minDate:Is,maxDate:Rs,disablePast:ws,disableFuture:Ts}),[js,Ps]=reactExports.useState(()=>fs||rs),Ls=reactExports.useCallback($l=>{Os&&Os($l)},[Os]),Ns=reactExports.useCallback(($l,Sl="finish")=>{bs||gs($l,Sl)},[gs,bs]),Gs=reactExports.useCallback($l=>{Fs($l)||(as($l),Ps($l),Ls(!0))},[Fs,as,Ls]),Us=useTheme$1();function Hs($l,Sl){switch($l.key){case"ArrowUp":Gs(ns.addDays(Sl,-7)),$l.preventDefault();break;case"ArrowDown":Gs(ns.addDays(Sl,7)),$l.preventDefault();break;case"ArrowLeft":{const Ml=ns.addDays(Sl,Us.direction==="ltr"?-1:1),wl=Us.direction==="ltr"?ns.getPreviousMonth(Sl):ns.getNextMonth(Sl),Rl=findClosestEnabledDate({utils:ns,date:Ml,minDate:Us.direction==="ltr"?ns.startOfMonth(wl):Ml,maxDate:Us.direction==="ltr"?Ml:ns.endOfMonth(wl),isDateDisabled:Fs});Gs(Rl||Ml),$l.preventDefault();break}case"ArrowRight":{const Ml=ns.addDays(Sl,Us.direction==="ltr"?1:-1),wl=Us.direction==="ltr"?ns.getNextMonth(Sl):ns.getPreviousMonth(Sl),Rl=findClosestEnabledDate({utils:ns,date:Ml,minDate:Us.direction==="ltr"?Ml:ns.startOfMonth(wl),maxDate:Us.direction==="ltr"?ns.endOfMonth(wl):Ml,isDateDisabled:Fs});Gs(Rl||Ml),$l.preventDefault();break}case"Home":Gs(ns.startOfWeek(Sl)),$l.preventDefault();break;case"End":Gs(ns.endOfWeek(Sl)),$l.preventDefault();break;case"PageUp":Gs(ns.getNextMonth(Sl)),$l.preventDefault();break;case"PageDown":Gs(ns.getPreviousMonth(Sl)),$l.preventDefault();break}}function zs($l,Sl){Gs(Sl)}function qs($l,Sl){Ms&&ns.isSameDay(js,Sl)&&Ls(!1)}const Vs=ns.getMonth(cs),Ks=us.filter($l=>!!$l).map($l=>ns.startOfDay($l)),Ws=Vs,Pl=reactExports.useMemo(()=>reactExports.createRef(),[Ws]),Tl=ns.startOfWeek(rs),El=reactExports.useMemo(()=>{const $l=ns.startOfMonth(cs),Sl=ns.endOfMonth(cs);return Fs(js)||ns.isAfterDay(js,Sl)||ns.isBeforeDay(js,$l)?findClosestEnabledDate({utils:ns,date:js,minDate:$l,maxDate:Sl,disablePast:ws,disableFuture:Ts,isDateDisabled:Fs}):js},[cs,Ts,ws,js,Fs,ns]);return jsxRuntimeExports.jsxs("div",{role:"grid","aria-labelledby":Ds,children:[jsxRuntimeExports.jsx(PickersCalendarDayHeader,{role:"row",className:ss.header,children:ns.getWeekdays().map(($l,Sl)=>{var Ml;return jsxRuntimeExports.jsx(PickersCalendarWeekDayLabel,{variant:"caption",role:"columnheader","aria-label":ns.format(ns.addDays(Tl,Sl),"weekday"),className:ss.weekDayLabel,children:(Ml=ks==null?void 0:ks($l))!=null?Ml:$l},$l+Sl.toString())})}),ms?jsxRuntimeExports.jsx(PickersCalendarLoadingContainer,{className:ss.loadingContainer,children:Ss()}):jsxRuntimeExports.jsx(PickersCalendarSlideTransition,_extends$5({transKey:Ws,onExited:vs,reduceAnimations:xs,slideDirection:$s,className:clsx(ls,ss.slideTransition)},Es,{nodeRef:Pl,children:jsxRuntimeExports.jsx(PickersCalendarWeekContainer,{ref:Pl,role:"rowgroup",className:ss.monthContainer,children:ns.getWeekArray(cs).map($l=>jsxRuntimeExports.jsx(PickersCalendarWeek,{role:"row",className:ss.weekContainer,children:$l.map(Sl=>{const Ml=El!==null&&ns.isSameDay(Sl,El),wl=Ks.some(Bs=>ns.isSameDay(Bs,Sl)),Rl=ns.isSameDay(Sl,rs),yl={key:Sl==null?void 0:Sl.toString(),day:Sl,isAnimating:hs,disabled:ds||Fs(Sl),autoFocus:Ms&&Ml,today:Rl,outsideCurrentMonth:ns.getMonth(Sl)!==Vs,selected:wl,disableHighlightToday:ps,showDaysOutsideCurrentMonth:Cs,onKeyDown:Hs,onFocus:zs,onBlur:qs,onDaySelect:Ns,tabIndex:Ml?0:-1,role:"gridcell","aria-selected":wl};return Rl&&(yl["aria-current"]="date"),ys?ys(Sl,Ks,yl):reactExports.createElement(PickersDay,_extends$5({},yl,{key:yl.key}))})},"week-".concat($l[0])))})}))]})}function useViews({onChange:ts,onViewChange:rs,openTo:ns,view:os,views:ss}){var as,ls;const[cs,us]=useControlled({name:"Picker",state:"view",controlled:os,default:ns&&arrayIncludes(ss,ns)?ns:ss[0]}),ds=(as=ss[ss.indexOf(cs)-1])!=null?as:null,ps=(ls=ss[ss.indexOf(cs)+1])!=null?ls:null,fs=reactExports.useCallback(gs=>{us(gs),rs&&rs(gs)},[us,rs]),hs=reactExports.useCallback(()=>{ps&&fs(ps)},[ps,fs]);return{handleChangeAndOpenNext:reactExports.useCallback((gs,vs)=>{const bs=vs==="finish";ts(gs,bs&&ps?"partial":vs),bs&&hs()},[ps,ts,hs]),nextView:ps,previousView:ds,openNext:hs,openView:cs,setOpenView:fs}}const ArrowDropDown=createSvgIcon$1(jsxRuntimeExports.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),ArrowLeft=createSvgIcon$1(jsxRuntimeExports.jsx("path",{d:"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"}),"ArrowLeft"),ArrowRight=createSvgIcon$1(jsxRuntimeExports.jsx("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"ArrowRight"),Calendar=createSvgIcon$1(jsxRuntimeExports.jsx("path",{d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"}),"Calendar"),Clock$2=createSvgIcon$1(jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),jsxRuntimeExports.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Clock");createSvgIcon$1(jsxRuntimeExports.jsx("path",{d:"M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"}),"DateRange");const Pen=createSvgIcon$1(jsxRuntimeExports.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Pen");createSvgIcon$1(jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),jsxRuntimeExports.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Time");function getPickersArrowSwitcherUtilityClass(ts){return generateUtilityClass("MuiPickersArrowSwitcher",ts)}generateUtilityClasses("MuiPickersArrowSwitcher",["root","spacer","button"]);const _excluded$d=["children","className","components","componentsProps","isLeftDisabled","isLeftHidden","isRightDisabled","isRightHidden","leftArrowButtonText","onLeftClick","onRightClick","rightArrowButtonText"],useUtilityClasses$c=ts=>{const{classes:rs}=ts;return composeClasses({root:["root"],spacer:["spacer"],button:["button"]},getPickersArrowSwitcherUtilityClass,rs)},PickersArrowSwitcherRoot=styled$4("div",{name:"MuiPickersArrowSwitcher",slot:"Root",overridesResolver:(ts,rs)=>rs.root})({display:"flex"}),PickersArrowSwitcherSpacer=styled$4("div",{name:"MuiPickersArrowSwitcher",slot:"Spacer",overridesResolver:(ts,rs)=>rs.spacer})(({theme:ts})=>({width:ts.spacing(3)})),PickersArrowSwitcherButton=styled$4(IconButton$2,{name:"MuiPickersArrowSwitcher",slot:"Button",overridesResolver:(ts,rs)=>rs.button})(({ownerState:ts})=>_extends$5({},ts.hidden&&{visibility:"hidden"})),PickersArrowSwitcher=reactExports.forwardRef(function(rs,ns){const os=useThemeProps({props:rs,name:"MuiPickersArrowSwitcher"}),{children:ss,className:as,components:ls,componentsProps:cs,isLeftDisabled:us,isLeftHidden:ds,isRightDisabled:ps,isRightHidden:fs,leftArrowButtonText:hs,onLeftClick:ms,onRightClick:gs,rightArrowButtonText:vs}=os,bs=_objectWithoutPropertiesLoose$1(os,_excluded$d),ys=useTheme$1().direction==="rtl",Ss=(cs==null?void 0:cs.leftArrowButton)||{},Cs=(ls==null?void 0:ls.LeftArrowIcon)||ArrowLeft,$s=(cs==null?void 0:cs.rightArrowButton)||{},Es=(ls==null?void 0:ls.RightArrowIcon)||ArrowRight,ws=os,Ts=useUtilityClasses$c(ws);return jsxRuntimeExports.jsxs(PickersArrowSwitcherRoot,_extends$5({ref:ns,className:clsx(Ts.root,as),ownerState:ws},bs,{children:[jsxRuntimeExports.jsx(PickersArrowSwitcherButton,_extends$5({as:ls==null?void 0:ls.LeftArrowButton,size:"small","aria-label":hs,title:hs,disabled:us,edge:"end",onClick:ms},Ss,{className:clsx(Ts.button,Ss.className),ownerState:_extends$5({},ws,Ss,{hidden:ds}),children:ys?jsxRuntimeExports.jsx(Es,{}):jsxRuntimeExports.jsx(Cs,{})})),ss?jsxRuntimeExports.jsx(Typography$1,{variant:"subtitle1",component:"span",children:ss}):jsxRuntimeExports.jsx(PickersArrowSwitcherSpacer,{className:Ts.spacer,ownerState:ws}),jsxRuntimeExports.jsx(PickersArrowSwitcherButton,_extends$5({as:ls==null?void 0:ls.RightArrowButton,size:"small","aria-label":vs,title:vs,edge:"start",disabled:ps,onClick:gs},$s,{className:clsx(Ts.button,$s.className),ownerState:_extends$5({},ws,$s,{hidden:fs}),children:ys?jsxRuntimeExports.jsx(Cs,{}):jsxRuntimeExports.jsx(Es,{})}))]}))}),getMeridiem=(ts,rs)=>ts?rs.getHours(ts)>=12?"pm":"am":null,convertValueToMeridiem=(ts,rs,ns)=>ns&&(ts>=12?"pm":"am")!==rs?rs==="am"?ts-12:ts+12:ts,convertToMeridiem=(ts,rs,ns,os)=>{const ss=convertValueToMeridiem(os.getHours(ts),rs,ns);return os.setHours(ts,ss)},getSecondsInDay=(ts,rs)=>rs.getHours(ts)*3600+rs.getMinutes(ts)*60+rs.getSeconds(ts),createIsAfterIgnoreDatePart=(ts=!1,rs)=>(ns,os)=>ts?rs.isAfter(ns,os):getSecondsInDay(ns,rs)>getSecondsInDay(os,rs);function useNextMonthDisabled(ts,{disableFuture:rs,maxDate:ns}){const os=useUtils();return reactExports.useMemo(()=>{const ss=os.date(),as=os.startOfMonth(rs&&os.isBefore(ss,ns)?ss:ns);return!os.isAfter(as,ts)},[rs,ns,ts,os])}function usePreviousMonthDisabled(ts,{disablePast:rs,minDate:ns}){const os=useUtils();return reactExports.useMemo(()=>{const ss=os.date(),as=os.startOfMonth(rs&&os.isAfter(ss,ns)?ss:ns);return!os.isBefore(as,ts)},[rs,ns,ts,os])}function useMeridiemMode(ts,rs,ns){const os=useUtils(),ss=getMeridiem(ts,os),as=reactExports.useCallback(ls=>{const cs=ts==null?null:convertToMeridiem(ts,ls,!!rs,os);ns(cs,"partial")},[rs,ts,ns,os]);return{meridiemMode:ss,handleMeridiemChange:as}}const buildDeprecatedPropsWarning=ts=>()=>{},getPickersCalendarHeaderUtilityClass=ts=>generateUtilityClass("MuiPickersCalendarHeader",ts);generateUtilityClasses("MuiPickersCalendarHeader",["root","labelContainer","label","switchViewButton","switchViewIcon"]);const useUtilityClasses$b=ts=>{const{classes:rs}=ts;return composeClasses({root:["root"],labelContainer:["labelContainer"],label:["label"],switchViewButton:["switchViewButton"],switchViewIcon:["switchViewIcon"]},getPickersCalendarHeaderUtilityClass,rs)},PickersCalendarHeaderRoot=styled$4("div",{name:"MuiPickersCalendarHeader",slot:"Root",overridesResolver:(ts,rs)=>rs.root})({display:"flex",alignItems:"center",marginTop:16,marginBottom:8,paddingLeft:24,paddingRight:12,maxHeight:30,minHeight:30}),PickersCalendarHeaderLabelContainer=styled$4("div",{name:"MuiPickersCalendarHeader",slot:"LabelContainer",overridesResolver:(ts,rs)=>rs.labelContainer})(({theme:ts})=>_extends$5({display:"flex",maxHeight:30,overflow:"hidden",alignItems:"center",cursor:"pointer",marginRight:"auto"},ts.typography.body1,{fontWeight:ts.typography.fontWeightMedium})),PickersCalendarHeaderLabel=styled$4("div",{name:"MuiPickersCalendarHeader",slot:"Label",overridesResolver:(ts,rs)=>rs.label})({marginRight:6}),PickersCalendarHeaderSwitchViewButton=styled$4(IconButton$2,{name:"MuiPickersCalendarHeader",slot:"SwitchViewButton",overridesResolver:(ts,rs)=>rs.switchViewButton})({marginRight:"auto"}),PickersCalendarHeaderSwitchViewIcon=styled$4(ArrowDropDown,{name:"MuiPickersCalendarHeader",slot:"SwitchViewIcon",overridesResolver:(ts,rs)=>rs.switchViewIcon})(({theme:ts,ownerState:rs})=>_extends$5({willChange:"transform",transition:ts.transitions.create("transform"),transform:"rotate(0deg)"},rs.openView==="year"&&{transform:"rotate(180deg)"})),deprecatedPropsWarning$1=buildDeprecatedPropsWarning();function PickersCalendarHeader(ts){const rs=useThemeProps({props:ts,name:"MuiPickersCalendarHeader"}),{components:ns={},componentsProps:os={},currentMonth:ss,disabled:as,disableFuture:ls,disablePast:cs,getViewSwitchingButtonText:us,leftArrowButtonText:ds,maxDate:ps,minDate:fs,onMonthChange:hs,onViewChange:ms,openView:gs,reduceAnimations:vs,rightArrowButtonText:bs,views:xs,labelId:ys}=rs;deprecatedPropsWarning$1({leftArrowButtonText:ds,rightArrowButtonText:bs,getViewSwitchingButtonText:us});const Ss=useLocaleText(),Cs=ds!=null?ds:Ss.previousMonth,$s=bs!=null?bs:Ss.nextMonth,Es=us!=null?us:Ss.calendarViewSwitchingButtonAriaLabel,ws=useUtils(),Ts=useUtilityClasses$b(rs),Is=os.switchViewButton||{},Rs=()=>hs(ws.getNextMonth(ss),"left"),As=()=>hs(ws.getPreviousMonth(ss),"right"),ks=useNextMonthDisabled(ss,{disableFuture:ls,maxDate:ps}),Ms=usePreviousMonthDisabled(ss,{disablePast:cs,minDate:fs}),Os=()=>{if(!(xs.length===1||!ms||as))if(xs.length===2)ms(xs.find(Fs=>Fs!==gs)||xs[0]);else{const Fs=xs.indexOf(gs)!==0?0:1;ms(xs[Fs])}};if(xs.length===1&&xs[0]==="year")return null;const Ds=rs;return jsxRuntimeExports.jsxs(PickersCalendarHeaderRoot,{ownerState:Ds,className:Ts.root,children:[jsxRuntimeExports.jsxs(PickersCalendarHeaderLabelContainer,{role:"presentation",onClick:Os,ownerState:Ds,"aria-live":"polite",className:Ts.labelContainer,children:[jsxRuntimeExports.jsx(PickersFadeTransitionGroup,{reduceAnimations:vs,transKey:ws.format(ss,"monthAndYear"),children:jsxRuntimeExports.jsx(PickersCalendarHeaderLabel,{id:ys,ownerState:Ds,className:Ts.label,children:ws.format(ss,"monthAndYear")})}),xs.length>1&&!as&&jsxRuntimeExports.jsx(PickersCalendarHeaderSwitchViewButton,_extends$5({size:"small",as:ns.SwitchViewButton,"aria-label":Es(gs),className:Ts.switchViewButton},Is,{children:jsxRuntimeExports.jsx(PickersCalendarHeaderSwitchViewIcon,{as:ns.SwitchViewIcon,ownerState:Ds,className:Ts.switchViewIcon})}))]}),jsxRuntimeExports.jsx(Fade$1,{in:gs==="day",children:jsxRuntimeExports.jsx(PickersArrowSwitcher,{leftArrowButtonText:Cs,rightArrowButtonText:$s,components:ns,componentsProps:os,onLeftClick:As,onRightClick:Rs,isLeftDisabled:Ms,isRightDisabled:ks})})]})}const WrapperVariantContext=reactExports.createContext(null);function getPickersYearUtilityClass(ts){return generateUtilityClass("PrivatePickersYear",ts)}const pickersYearClasses=generateUtilityClasses("PrivatePickersYear",["root","modeDesktop","modeMobile","yearButton","selected","disabled"]),_excluded$c=["autoFocus","className","children","disabled","onClick","onKeyDown","value","tabIndex","onFocus","onBlur"],useUtilityClasses$a=ts=>{const{wrapperVariant:rs,disabled:ns,selected:os,classes:ss}=ts,as={root:["root",rs&&"mode".concat(capitalize$1(rs))],yearButton:["yearButton",ns&&"disabled",os&&"selected"]};return composeClasses(as,getPickersYearUtilityClass,ss)},PickersYearRoot=styled$4("div",{name:"PrivatePickersYear",slot:"Root",overridesResolver:(ts,rs)=>[rs.root,{["&.".concat(pickersYearClasses.modeDesktop)]:rs.modeDesktop},{["&.".concat(pickersYearClasses.modeMobile)]:rs.modeMobile}]})(({ownerState:ts})=>_extends$5({flexBasis:"33.3%",display:"flex",alignItems:"center",justifyContent:"center"},(ts==null?void 0:ts.wrapperVariant)==="desktop"&&{flexBasis:"25%"})),PickersYearButton=styled$4("button",{name:"PrivatePickersYear",slot:"Button",overridesResolver:(ts,rs)=>[rs.button,{["&.".concat(pickersYearClasses.disabled)]:rs.disabled},{["&.".concat(pickersYearClasses.selected)]:rs.selected}]})(({theme:ts})=>_extends$5({color:"unset",backgroundColor:"transparent",border:0,outline:0},ts.typography.subtitle1,{margin:"8px 0",height:36,width:72,borderRadius:18,cursor:"pointer","&:focus, &:hover":{backgroundColor:alpha(ts.palette.action.active,ts.palette.action.hoverOpacity)},["&.".concat(pickersYearClasses.disabled)]:{color:ts.palette.text.secondary},["&.".concat(pickersYearClasses.selected)]:{color:ts.palette.primary.contrastText,backgroundColor:ts.palette.primary.main,"&:focus, &:hover":{backgroundColor:ts.palette.primary.dark}}})),noop$1=()=>{},PickersYear=reactExports.forwardRef(function(rs,ns){const{autoFocus:os,className:ss,children:as,disabled:ls,onClick:cs,onKeyDown:us,value:ds,tabIndex:ps,onFocus:fs=noop$1,onBlur:hs=noop$1}=rs,ms=_objectWithoutPropertiesLoose$1(rs,_excluded$c),gs=reactExports.useRef(null),vs=useForkRef(gs,ns),bs=reactExports.useContext(WrapperVariantContext),xs=_extends$5({},rs,{wrapperVariant:bs}),ys=useUtilityClasses$a(xs);return reactExports.useEffect(()=>{os&&gs.current.focus()},[os]),jsxRuntimeExports.jsx(PickersYearRoot,{className:clsx(ys.root,ss),ownerState:xs,children:jsxRuntimeExports.jsx(PickersYearButton,_extends$5({ref:vs,disabled:ls,type:"button",tabIndex:ls?-1:ps,onClick:Ss=>cs(Ss,ds),onKeyDown:Ss=>us(Ss,ds),onFocus:Ss=>fs(Ss,ds),onBlur:Ss=>hs(Ss,ds),className:ys.yearButton,ownerState:xs},ms,{children:as}))})});function getYearPickerUtilityClass(ts){return generateUtilityClass("MuiYearPicker",ts)}generateUtilityClasses("MuiYearPicker",["root"]);const useUtilityClasses$9=ts=>{const{classes:rs}=ts;return composeClasses({root:["root"]},getYearPickerUtilityClass,rs)};function useYearPickerDefaultizedProps(ts,rs){const ns=useUtils(),os=useDefaultDates(),ss=useThemeProps({props:ts,name:rs});return _extends$5({disablePast:!1,disableFuture:!1},ss,{minDate:parseNonNullablePickerDate(ns,ss.minDate,os.minDate),maxDate:parseNonNullablePickerDate(ns,ss.maxDate,os.maxDate)})}const YearPickerRoot=styled$4("div",{name:"MuiYearPicker",slot:"Root",overridesResolver:(ts,rs)=>rs.root})({display:"flex",flexDirection:"row",flexWrap:"wrap",overflowY:"auto",height:"100%",padding:"0 4px",maxHeight:"304px"}),YearPicker=reactExports.forwardRef(function(rs,ns){const os=useNow(),ss=useTheme$1(),as=useUtils(),ls=useYearPickerDefaultizedProps(rs,"MuiYearPicker"),{autoFocus:cs,className:us,date:ds,disabled:ps,disableFuture:fs,disablePast:hs,maxDate:ms,minDate:gs,onChange:vs,readOnly:bs,shouldDisableYear:xs,disableHighlightToday:ys,onYearFocus:Ss,hasFocus:Cs,onFocusedViewChange:$s}=ls,Es=ls,ws=useUtilityClasses$9(Es),Ts=reactExports.useMemo(()=>ds!=null?ds:as.startOfYear(os),[os,as,ds]),Is=reactExports.useMemo(()=>ds!=null?as.getYear(ds):ys?null:as.getYear(os),[os,ds,as,ys]),Rs=reactExports.useContext(WrapperVariantContext),As=reactExports.useRef(null),[ks,Ms]=reactExports.useState(()=>Is||as.getYear(os)),[Os,Ds]=useControlled({name:"YearPicker",state:"hasFocus",controlled:Cs,default:cs}),Fs=reactExports.useCallback(Ks=>{Ds(Ks),$s&&$s(Ks)},[Ds,$s]),js=reactExports.useCallback(Ks=>!!(hs&&as.isBeforeYear(Ks,os)||fs&&as.isAfterYear(Ks,os)||gs&&as.isBeforeYear(Ks,gs)||ms&&as.isAfterYear(Ks,ms)||xs&&xs(Ks)),[fs,hs,ms,gs,os,xs,as]),Ps=(Ks,Ws,Pl="finish")=>{if(bs)return;const Tl=as.setYear(Ts,Ws);vs(Tl,Pl)},Ls=reactExports.useCallback(Ks=>{js(as.setYear(Ts,Ks))||(Ms(Ks),Fs(!0),Ss==null||Ss(Ks))},[js,as,Ts,Fs,Ss]);reactExports.useEffect(()=>{Ms(Ks=>Is!==null&&Ks!==Is?Is:Ks)},[Is]);const Ns=Rs==="desktop"?4:3,Gs=reactExports.useCallback((Ks,Ws)=>{switch(Ks.key){case"ArrowUp":Ls(Ws-Ns),Ks.preventDefault();break;case"ArrowDown":Ls(Ws+Ns),Ks.preventDefault();break;case"ArrowLeft":Ls(Ws+(ss.direction==="ltr"?-1:1)),Ks.preventDefault();break;case"ArrowRight":Ls(Ws+(ss.direction==="ltr"?1:-1)),Ks.preventDefault();break}},[Ls,ss.direction,Ns]),Us=reactExports.useCallback((Ks,Ws)=>{Ls(Ws)},[Ls]),Hs=reactExports.useCallback((Ks,Ws)=>{ks===Ws&&Fs(!1)},[ks,Fs]),zs=as.getYear(os),qs=reactExports.useRef(null),Vs=useForkRef(ns,qs);return reactExports.useEffect(()=>{if(cs||qs.current===null)return;const Ks=qs.current.querySelector('[tabindex="0"]');if(!Ks)return;const Ws=Ks.offsetHeight,Pl=Ks.offsetTop,Tl=qs.current.clientHeight,El=qs.current.scrollTop,$l=Pl+Ws;Ws>Tl||Pl<El||(qs.current.scrollTop=$l-Tl/2-Ws/2)},[cs]),jsxRuntimeExports.jsx(YearPickerRoot,{ref:Vs,className:clsx(ws.root,us),ownerState:Es,children:as.getYearRange(gs,ms).map(Ks=>{const Ws=as.getYear(Ks),Pl=Ws===Is;return jsxRuntimeExports.jsx(PickersYear,{selected:Pl,value:Ws,onClick:Ps,onKeyDown:Gs,autoFocus:Os&&Ws===ks,ref:Pl?As:void 0,disabled:ps||js(Ks),tabIndex:Ws===ks?0:-1,onFocus:Us,onBlur:Hs,"aria-current":zs===Ws?"date":void 0,children:as.format(Ks,"year")},as.format(Ks,"year"))})})}),PickerViewRoot=styled$4("div")({overflowX:"hidden",width:DIALOG_WIDTH,maxHeight:VIEW_HEIGHT,display:"flex",flexDirection:"column",margin:"0 auto"}),defaultReduceAnimations=typeof navigator<"u"&&/(android)/i.test(navigator.userAgent),getCalendarPickerUtilityClass=ts=>generateUtilityClass("MuiCalendarPicker",ts);generateUtilityClasses("MuiCalendarPicker",["root","viewTransitionContainer"]);const _excluded$b=["autoFocus","onViewChange","date","disableFuture","disablePast","defaultCalendarMonth","onChange","onYearChange","onMonthChange","reduceAnimations","shouldDisableDate","shouldDisableMonth","shouldDisableYear","view","views","openTo","className","disabled","readOnly","minDate","maxDate","disableHighlightToday","focusedView","onFocusedViewChange","classes"],useUtilityClasses$8=ts=>{const{classes:rs}=ts;return composeClasses({root:["root"],viewTransitionContainer:["viewTransitionContainer"]},getCalendarPickerUtilityClass,rs)};function useCalendarPickerDefaultizedProps(ts,rs){const ns=useUtils(),os=useDefaultDates(),ss=useThemeProps({props:ts,name:rs});return _extends$5({loading:!1,disablePast:!1,disableFuture:!1,openTo:"day",views:["year","day"],reduceAnimations:defaultReduceAnimations,renderLoading:()=>jsxRuntimeExports.jsx("span",{children:"..."})},ss,{minDate:parseNonNullablePickerDate(ns,ss.minDate,os.minDate),maxDate:parseNonNullablePickerDate(ns,ss.maxDate,os.maxDate)})}const CalendarPickerRoot=styled$4(PickerViewRoot,{name:"MuiCalendarPicker",slot:"Root",overridesResolver:(ts,rs)=>rs.root})({display:"flex",flexDirection:"column"}),CalendarPickerViewTransitionContainer=styled$4(PickersFadeTransitionGroup,{name:"MuiCalendarPicker",slot:"ViewTransitionContainer",overridesResolver:(ts,rs)=>rs.viewTransitionContainer})({}),CalendarPicker=reactExports.forwardRef(function(rs,ns){const os=useUtils(),ss=useId(),as=useCalendarPickerDefaultizedProps(rs,"MuiCalendarPicker"),{autoFocus:ls,onViewChange:cs,date:us,disableFuture:ds,disablePast:ps,defaultCalendarMonth:fs,onChange:hs,onYearChange:ms,onMonthChange:gs,reduceAnimations:vs,shouldDisableDate:bs,shouldDisableMonth:xs,shouldDisableYear:ys,view:Ss,views:Cs,openTo:$s,className:Es,disabled:ws,readOnly:Ts,minDate:Is,maxDate:Rs,disableHighlightToday:As,focusedView:ks,onFocusedViewChange:Ms}=as,Os=_objectWithoutPropertiesLoose$1(as,_excluded$b),{openView:Ds,setOpenView:Fs,openNext:js}=useViews({view:Ss,views:Cs,openTo:$s,onChange:hs,onViewChange:cs}),{calendarState:Ps,changeFocusedDay:Ls,changeMonth:Ns,handleChangeMonth:Gs,isDateDisabled:Us,onMonthSwitchingAnimationEnd:Hs}=useCalendarState({date:us,defaultCalendarMonth:fs,reduceAnimations:vs,onMonthChange:gs,minDate:Is,maxDate:Rs,shouldDisableDate:bs,disablePast:ps,disableFuture:ds}),zs=reactExports.useCallback((Zs,Ys)=>{const _l=os.startOfMonth(Zs),Cl=os.endOfMonth(Zs),Xs=Us(Zs)?findClosestEnabledDate({utils:os,date:Zs,minDate:os.isBefore(Is,_l)?_l:Is,maxDate:os.isAfter(Rs,Cl)?Cl:Rs,disablePast:ps,disableFuture:ds,isDateDisabled:Us}):Zs;Xs?(hs(Xs,Ys),gs==null||gs(_l)):(js(),Ns(_l)),Ls(Xs,!0)},[Ls,ds,ps,Us,Rs,Is,hs,gs,Ns,js,os]),qs=reactExports.useCallback((Zs,Ys)=>{const _l=os.startOfYear(Zs),Cl=os.endOfYear(Zs),Xs=Us(Zs)?findClosestEnabledDate({utils:os,date:Zs,minDate:os.isBefore(Is,_l)?_l:Is,maxDate:os.isAfter(Rs,Cl)?Cl:Rs,disablePast:ps,disableFuture:ds,isDateDisabled:Us}):Zs;Xs?(hs(Xs,Ys),ms==null||ms(Xs)):(js(),Ns(_l)),Ls(Xs,!0)},[Ls,ds,ps,Us,Rs,Is,hs,ms,js,os,Ns]),Vs=reactExports.useCallback((Zs,Ys)=>hs(us&&Zs?os.mergeDateAndTime(Zs,us):Zs,Ys),[os,us,hs]);reactExports.useEffect(()=>{us&&Ns(us)},[us]);const Ks=as,Ws=useUtilityClasses$8(Ks),Pl={disablePast:ps,disableFuture:ds,maxDate:Rs,minDate:Is},Tl=ws&&us||Is,El=ws&&us||Rs,$l={disableHighlightToday:As,readOnly:Ts,disabled:ws},Sl="".concat(ss,"-grid-label"),[Ml,wl]=useControlled({name:"DayPicker",state:"focusedView",controlled:ks,default:ls?Ds:null}),Rl=Ml!==null,yl=useEventCallback(Zs=>Ys=>{if(Ms){Ms(Zs)(Ys);return}wl(Ys?Zs:_l=>_l===Zs?null:_l)}),Bs=reactExports.useRef(Ds);return reactExports.useEffect(()=>{Bs.current!==Ds&&(Bs.current=Ds,yl(Ds)(!0))},[Ds,yl]),jsxRuntimeExports.jsxs(CalendarPickerRoot,{ref:ns,className:clsx(Ws.root,Es),ownerState:Ks,children:[jsxRuntimeExports.jsx(PickersCalendarHeader,_extends$5({},Os,{views:Cs,openView:Ds,currentMonth:Ps.currentMonth,onViewChange:Fs,onMonthChange:(Zs,Ys)=>Gs({newMonth:Zs,direction:Ys}),minDate:Tl,maxDate:El,disabled:ws,disablePast:ps,disableFuture:ds,reduceAnimations:vs,labelId:Sl})),jsxRuntimeExports.jsx(CalendarPickerViewTransitionContainer,{reduceAnimations:vs,className:Ws.viewTransitionContainer,transKey:Ds,ownerState:Ks,children:jsxRuntimeExports.jsxs("div",{children:[Ds==="year"&&jsxRuntimeExports.jsx(YearPicker,_extends$5({},Os,Pl,$l,{autoFocus:ls,date:us,onChange:qs,shouldDisableYear:ys,hasFocus:Rl,onFocusedViewChange:yl("year")})),Ds==="month"&&jsxRuntimeExports.jsx(MonthPicker,_extends$5({},Pl,$l,{autoFocus:ls,hasFocus:Rl,className:Es,date:us,onChange:zs,shouldDisableMonth:xs,onFocusedViewChange:yl("month")})),Ds==="day"&&jsxRuntimeExports.jsx(DayPicker,_extends$5({},Os,Ps,Pl,$l,{autoFocus:ls,onMonthSwitchingAnimationEnd:Hs,onFocusedDayChange:Ls,reduceAnimations:vs,selectedDays:[us],onSelectedDaysChange:Vs,shouldDisableDate:bs,hasFocus:Rl,onFocusedViewChange:yl("day"),gridLabelId:Sl}))]})})]})}),CLOCK_WIDTH=220,CLOCK_HOUR_WIDTH=36,clockCenter={x:CLOCK_WIDTH/2,y:CLOCK_WIDTH/2},baseClockPoint={x:clockCenter.x,y:0},cx=baseClockPoint.x-clockCenter.x,cy=baseClockPoint.y-clockCenter.y,rad2deg=ts=>ts*(180/Math.PI),getAngleValue=(ts,rs,ns)=>{const os=rs-clockCenter.x,ss=ns-clockCenter.y,as=Math.atan2(cx,cy)-Math.atan2(os,ss);let ls=rad2deg(as);ls=Math.round(ls/ts)*ts,ls%=360;const cs=Math.floor(ls/ts)||0,us=os**2+ss**2,ds=Math.sqrt(us);return{value:cs,distance:ds}},getMinutes=(ts,rs,ns=1)=>{const os=ns*6;let{value:ss}=getAngleValue(os,ts,rs);return ss=ss*ns%60,ss},getHours=(ts,rs,ns)=>{const{value:os,distance:ss}=getAngleValue(30,ts,rs);let as=os||12;return ns?as%=12:ss<CLOCK_WIDTH/2-CLOCK_HOUR_WIDTH&&(as+=12,as%=24),as};function getClockPointerUtilityClass(ts){return generateUtilityClass("MuiClockPointer",ts)}generateUtilityClasses("MuiClockPointer",["root","thumb"]);const _excluded$a=["className","hasSelected","isInner","type","value"],useUtilityClasses$7=ts=>{const{classes:rs}=ts;return composeClasses({root:["root"],thumb:["thumb"]},getClockPointerUtilityClass,rs)},ClockPointerRoot=styled$4("div",{name:"MuiClockPointer",slot:"Root",overridesResolver:(ts,rs)=>rs.root})(({theme:ts,ownerState:rs})=>_extends$5({width:2,backgroundColor:ts.palette.primary.main,position:"absolute",left:"calc(50% - 1px)",bottom:"50%",transformOrigin:"center bottom 0px"},rs.shouldAnimate&&{transition:ts.transitions.create(["transform","height"])})),ClockPointerThumb=styled$4("div",{name:"MuiClockPointer",slot:"Thumb",overridesResolver:(ts,rs)=>rs.thumb})(({theme:ts,ownerState:rs})=>_extends$5({width:4,height:4,backgroundColor:ts.palette.primary.contrastText,borderRadius:"50%",position:"absolute",top:-21,left:"calc(50% - ".concat(CLOCK_HOUR_WIDTH/2,"px)"),border:"".concat((CLOCK_HOUR_WIDTH-4)/2,"px solid ").concat(ts.palette.primary.main),boxSizing:"content-box"},rs.hasSelected&&{backgroundColor:ts.palette.primary.main}));function ClockPointer(ts){const rs=useThemeProps({props:ts,name:"MuiClockPointer"}),{className:ns,isInner:os,type:ss,value:as}=rs,ls=_objectWithoutPropertiesLoose$1(rs,_excluded$a),cs=reactExports.useRef(ss);reactExports.useEffect(()=>{cs.current=ss},[ss]);const us=_extends$5({},rs,{shouldAnimate:cs.current!==ss}),ds=useUtilityClasses$7(us),ps=()=>{let hs=360/(ss==="hours"?12:60)*as;return ss==="hours"&&as>12&&(hs-=360),{height:Math.round((os?.26:.4)*CLOCK_WIDTH),transform:"rotateZ(".concat(hs,"deg)")}};return jsxRuntimeExports.jsx(ClockPointerRoot,_extends$5({style:ps(),className:clsx(ns,ds.root),ownerState:us},ls,{children:jsxRuntimeExports.jsx(ClockPointerThumb,{ownerState:us,className:ds.thumb})}))}function getClockUtilityClass(ts){return generateUtilityClass("MuiClock",ts)}generateUtilityClasses("MuiClock",["root","clock","wrapper","squareMask","pin","amButton","pmButton"]);const useUtilityClasses$6=ts=>{const{classes:rs}=ts;return composeClasses({root:["root"],clock:["clock"],wrapper:["wrapper"],squareMask:["squareMask"],pin:["pin"],amButton:["amButton"],pmButton:["pmButton"]},getClockUtilityClass,rs)},ClockRoot=styled$4("div",{name:"MuiClock",slot:"Root",overridesResolver:(ts,rs)=>rs.root})(({theme:ts})=>({display:"flex",justifyContent:"center",alignItems:"center",margin:ts.spacing(2)})),ClockClock=styled$4("div",{name:"MuiClock",slot:"Clock",overridesResolver:(ts,rs)=>rs.clock})({backgroundColor:"rgba(0,0,0,.07)",borderRadius:"50%",height:220,width:220,flexShrink:0,position:"relative",pointerEvents:"none"}),ClockWrapper=styled$4("div",{name:"MuiClock",slot:"Wrapper",overridesResolver:(ts,rs)=>rs.wrapper})({"&:focus":{outline:"none"}}),ClockSquareMask=styled$4("div",{name:"MuiClock",slot:"SquareMask",overridesResolver:(ts,rs)=>rs.squareMask})(({ownerState:ts})=>_extends$5({width:"100%",height:"100%",position:"absolute",pointerEvents:"auto",outline:0,touchAction:"none",userSelect:"none"},ts.disabled?{}:{"@media (pointer: fine)":{cursor:"pointer",borderRadius:"50%"},"&:active":{cursor:"move"}})),ClockPin=styled$4("div",{name:"MuiClock",slot:"Pin",overridesResolver:(ts,rs)=>rs.pin})(({theme:ts})=>({width:6,height:6,borderRadius:"50%",backgroundColor:ts.palette.primary.main,position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"})),ClockAmButton=styled$4(IconButton$2,{name:"MuiClock",slot:"AmButton",overridesResolver:(ts,rs)=>rs.amButton})(({theme:ts,ownerState:rs})=>_extends$5({zIndex:1,position:"absolute",bottom:rs.ampmInClock?64:8,left:8},rs.meridiemMode==="am"&&{backgroundColor:ts.palette.primary.main,color:ts.palette.primary.contrastText,"&:hover":{backgroundColor:ts.palette.primary.light}})),ClockPmButton=styled$4(IconButton$2,{name:"MuiClock",slot:"PmButton",overridesResolver:(ts,rs)=>rs.pmButton})(({theme:ts,ownerState:rs})=>_extends$5({zIndex:1,position:"absolute",bottom:rs.ampmInClock?64:8,right:8},rs.meridiemMode==="pm"&&{backgroundColor:ts.palette.primary.main,color:ts.palette.primary.contrastText,"&:hover":{backgroundColor:ts.palette.primary.light}}));function Clock$1(ts){const rs=useThemeProps({props:ts,name:"MuiClock"}),{ampm:ns,ampmInClock:os,autoFocus:ss,children:as,date:ls,getClockLabelText:cs,handleMeridiemChange:us,isTimeDisabled:ds,meridiemMode:ps,minutesStep:fs=1,onChange:hs,selectedId:ms,type:gs,value:vs,disabled:bs,readOnly:xs,className:ys}=rs,Ss=rs,Cs=useUtils(),$s=reactExports.useContext(WrapperVariantContext),Es=reactExports.useRef(!1),ws=useUtilityClasses$6(Ss),Ts=ds(vs,gs),Is=!ns&&gs==="hours"&&(vs<1||vs>12),Rs=(Ns,Gs)=>{bs||xs||ds(Ns,gs)||hs(Ns,Gs)},As=(Ns,Gs)=>{let{offsetX:Us,offsetY:Hs}=Ns;if(Us===void 0){const qs=Ns.target.getBoundingClientRect();Us=Ns.changedTouches[0].clientX-qs.left,Hs=Ns.changedTouches[0].clientY-qs.top}const zs=gs==="seconds"||gs==="minutes"?getMinutes(Us,Hs,fs):getHours(Us,Hs,!!ns);Rs(zs,Gs)},ks=Ns=>{Es.current=!0,As(Ns,"shallow")},Ms=Ns=>{Es.current&&(As(Ns,"finish"),Es.current=!1)},Os=Ns=>{Ns.buttons>0&&As(Ns.nativeEvent,"shallow")},Ds=Ns=>{Es.current&&(Es.current=!1),As(Ns.nativeEvent,"finish")},Fs=reactExports.useMemo(()=>gs==="hours"?!0:vs%5===0,[gs,vs]),js=gs==="minutes"?fs:1,Ps=reactExports.useRef(null);useEnhancedEffect$1(()=>{ss&&Ps.current.focus()},[ss]);const Ls=Ns=>{if(!Es.current)switch(Ns.key){case"Home":Rs(0,"partial"),Ns.preventDefault();break;case"End":Rs(gs==="minutes"?59:23,"partial"),Ns.preventDefault();break;case"ArrowUp":Rs(vs+js,"partial"),Ns.preventDefault();break;case"ArrowDown":Rs(vs-js,"partial"),Ns.preventDefault();break}};return jsxRuntimeExports.jsxs(ClockRoot,{className:clsx(ys,ws.root),children:[jsxRuntimeExports.jsxs(ClockClock,{className:ws.clock,children:[jsxRuntimeExports.jsx(ClockSquareMask,{onTouchMove:ks,onTouchEnd:Ms,onMouseUp:Ds,onMouseMove:Os,ownerState:{disabled:bs},className:ws.squareMask}),!Ts&&jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx(ClockPin,{className:ws.pin}),ls&&jsxRuntimeExports.jsx(ClockPointer,{type:gs,value:vs,isInner:Is,hasSelected:Fs})]}),jsxRuntimeExports.jsx(ClockWrapper,{"aria-activedescendant":ms,"aria-label":cs(gs,ls,Cs),ref:Ps,role:"listbox",onKeyDown:Ls,tabIndex:0,className:ws.wrapper,children:as})]}),ns&&($s==="desktop"||os)&&jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx(ClockAmButton,{onClick:xs?void 0:()=>us("am"),disabled:bs||ps===null,ownerState:Ss,className:ws.amButton,children:jsxRuntimeExports.jsx(Typography$1,{variant:"caption",children:"AM"})}),jsxRuntimeExports.jsx(ClockPmButton,{disabled:bs||ps===null,onClick:xs?void 0:()=>us("pm"),ownerState:Ss,className:ws.pmButton,children:jsxRuntimeExports.jsx(Typography$1,{variant:"caption",children:"PM"})})]})]})}function getClockNumberUtilityClass(ts){return generateUtilityClass("MuiClockNumber",ts)}const clockNumberClasses=generateUtilityClasses("MuiClockNumber",["root","selected","disabled"]),_excluded$9=["className","disabled","index","inner","label","selected"],useUtilityClasses$5=ts=>{const{classes:rs,selected:ns,disabled:os}=ts;return composeClasses({root:["root",ns&&"selected",os&&"disabled"]},getClockNumberUtilityClass,rs)},ClockNumberRoot=styled$4("span",{name:"MuiClockNumber",slot:"Root",overridesResolver:(ts,rs)=>[rs.root,{["&.".concat(clockNumberClasses.disabled)]:rs.disabled},{["&.".concat(clockNumberClasses.selected)]:rs.selected}]})(({theme:ts,ownerState:rs})=>_extends$5({height:CLOCK_HOUR_WIDTH,width:CLOCK_HOUR_WIDTH,position:"absolute",left:"calc((100% - ".concat(CLOCK_HOUR_WIDTH,"px) / 2)"),display:"inline-flex",justifyContent:"center",alignItems:"center",borderRadius:"50%",color:ts.palette.text.primary,fontFamily:ts.typography.fontFamily,"&:focused":{backgroundColor:ts.palette.background.paper},["&.".concat(clockNumberClasses.selected)]:{color:ts.palette.primary.contrastText},["&.".concat(clockNumberClasses.disabled)]:{pointerEvents:"none",color:ts.palette.text.disabled}},rs.inner&&_extends$5({},ts.typography.body2,{color:ts.palette.text.secondary})));function ClockNumber(ts){const rs=useThemeProps({props:ts,name:"MuiClockNumber"}),{className:ns,disabled:os,index:ss,inner:as,label:ls,selected:cs}=rs,us=_objectWithoutPropertiesLoose$1(rs,_excluded$9),ds=rs,ps=useUtilityClasses$5(ds),fs=ss%12/12*Math.PI*2-Math.PI/2,hs=(CLOCK_WIDTH-CLOCK_HOUR_WIDTH-2)/2*(as?.65:1),ms=Math.round(Math.cos(fs)*hs),gs=Math.round(Math.sin(fs)*hs);return jsxRuntimeExports.jsx(ClockNumberRoot,_extends$5({className:clsx(ns,ps.root),"aria-disabled":os?!0:void 0,"aria-selected":cs?!0:void 0,role:"option",style:{transform:"translate(".concat(ms,"px, ").concat(gs+(CLOCK_WIDTH-CLOCK_HOUR_WIDTH)/2,"px")},ownerState:ds},us,{children:ls}))}const getHourNumbers=({ampm:ts,date:rs,getClockNumberText:ns,isDisabled:os,selectedId:ss,utils:as})=>{const ls=rs?as.getHours(rs):null,cs=[],us=ts?1:0,ds=ts?12:23,ps=fs=>ls===null?!1:ts?fs===12?ls===12||ls===0:ls===fs||ls-12===fs:ls===fs;for(let fs=us;fs<=ds;fs+=1){let hs=fs.toString();fs===0&&(hs="00");const ms=!ts&&(fs===0||fs>12);hs=as.formatNumber(hs);const gs=ps(fs);cs.push(jsxRuntimeExports.jsx(ClockNumber,{id:gs?ss:void 0,index:fs,inner:ms,selected:gs,disabled:os(fs),label:hs,"aria-label":ns(hs)},fs))}return cs},getMinutesNumbers=({utils:ts,value:rs,isDisabled:ns,getClockNumberText:os,selectedId:ss})=>{const as=ts.formatNumber;return[[5,as("05")],[10,as("10")],[15,as("15")],[20,as("20")],[25,as("25")],[30,as("30")],[35,as("35")],[40,as("40")],[45,as("45")],[50,as("50")],[55,as("55")],[0,as("00")]].map(([ls,cs],us)=>{const ds=ls===rs;return jsxRuntimeExports.jsx(ClockNumber,{label:cs,id:ds?ss:void 0,index:us+1,inner:!1,disabled:ns(ls),selected:ds,"aria-label":os(cs)},ls)})};function getClockPickerUtilityClass(ts){return generateUtilityClass("MuiClockPicker",ts)}generateUtilityClasses("MuiClockPicker",["root","arrowSwitcher"]);const useUtilityClasses$4=ts=>{const{classes:rs}=ts;return composeClasses({root:["root"],arrowSwitcher:["arrowSwitcher"]},getClockPickerUtilityClass,rs)},ClockPickerRoot=styled$4(PickerViewRoot,{name:"MuiClockPicker",slot:"Root",overridesResolver:(ts,rs)=>rs.root})({display:"flex",flexDirection:"column"}),ClockPickerArrowSwitcher=styled$4(PickersArrowSwitcher,{name:"MuiClockPicker",slot:"ArrowSwitcher",overridesResolver:(ts,rs)=>rs.arrowSwitcher})({position:"absolute",right:12,top:15}),deprecatedPropsWarning=buildDeprecatedPropsWarning(),ClockPicker=reactExports.forwardRef(function(rs,ns){const os=useThemeProps({props:rs,name:"MuiClockPicker"}),{ampm:ss=!1,ampmInClock:as=!1,autoFocus:ls,components:cs,componentsProps:us,date:ds,disableIgnoringDatePartForTimeValidation:ps,getClockLabelText:fs,getHoursClockNumberText:hs,getMinutesClockNumberText:ms,getSecondsClockNumberText:gs,leftArrowButtonText:vs,maxTime:bs,minTime:xs,minutesStep:ys=1,rightArrowButtonText:Ss,shouldDisableTime:Cs,showViewSwitcher:$s,onChange:Es,view:ws,views:Ts=["hours","minutes"],openTo:Is,onViewChange:Rs,className:As,disabled:ks,readOnly:Ms}=os;deprecatedPropsWarning({leftArrowButtonText:vs,rightArrowButtonText:Ss,getClockLabelText:fs,getHoursClockNumberText:hs,getMinutesClockNumberText:ms,getSecondsClockNumberText:gs});const Os=useLocaleText(),Ds=vs!=null?vs:Os.openPreviousView,Fs=Ss!=null?Ss:Os.openNextView,js=fs!=null?fs:Os.clockLabelText,Ps=hs!=null?hs:Os.hoursClockNumberText,Ls=ms!=null?ms:Os.minutesClockNumberText,Ns=gs!=null?gs:Os.secondsClockNumberText,{openView:Gs,setOpenView:Us,nextView:Hs,previousView:zs,handleChangeAndOpenNext:qs}=useViews({view:ws,views:Ts,openTo:Is,onViewChange:Rs,onChange:Es}),Vs=useNow(),Ks=useUtils(),Ws=reactExports.useMemo(()=>ds||Ks.setSeconds(Ks.setMinutes(Ks.setHours(Vs,0),0),0),[ds,Vs,Ks]),{meridiemMode:Pl,handleMeridiemChange:Tl}=useMeridiemMode(Ws,ss,qs),El=reactExports.useCallback((Rl,yl)=>{const Bs=createIsAfterIgnoreDatePart(ps,Ks),Zs=({start:_l,end:Cl})=>!(xs&&Bs(xs,Cl)||bs&&Bs(_l,bs)),Ys=(_l,Cl=1)=>_l%Cl!==0?!1:Cs?!Cs(_l,yl):!0;switch(yl){case"hours":{const _l=convertValueToMeridiem(Rl,Pl,ss),Cl=Ks.setHours(Ws,_l),Xs=Ks.setSeconds(Ks.setMinutes(Cl,0),0),xl=Ks.setSeconds(Ks.setMinutes(Cl,59),59);return!Zs({start:Xs,end:xl})||!Ys(_l)}case"minutes":{const _l=Ks.setMinutes(Ws,Rl),Cl=Ks.setSeconds(_l,0),Xs=Ks.setSeconds(_l,59);return!Zs({start:Cl,end:Xs})||!Ys(Rl,ys)}case"seconds":{const _l=Ks.setSeconds(Ws,Rl);return!Zs({start:_l,end:_l})||!Ys(Rl)}default:throw new Error("not supported")}},[ss,Ws,ps,bs,Pl,xs,ys,Cs,Ks]),$l=useId(),Sl=reactExports.useMemo(()=>{switch(Gs){case"hours":{const Rl=(yl,Bs)=>{const Zs=convertValueToMeridiem(yl,Pl,ss);qs(Ks.setHours(Ws,Zs),Bs)};return{onChange:Rl,value:Ks.getHours(Ws),children:getHourNumbers({date:ds,utils:Ks,ampm:ss,onChange:Rl,getClockNumberText:Ps,isDisabled:yl=>ks||El(yl,"hours"),selectedId:$l})}}case"minutes":{const Rl=Ks.getMinutes(Ws),yl=(Bs,Zs)=>{qs(Ks.setMinutes(Ws,Bs),Zs)};return{value:Rl,onChange:yl,children:getMinutesNumbers({utils:Ks,value:Rl,onChange:yl,getClockNumberText:Ls,isDisabled:Bs=>ks||El(Bs,"minutes"),selectedId:$l})}}case"seconds":{const Rl=Ks.getSeconds(Ws),yl=(Bs,Zs)=>{qs(Ks.setSeconds(Ws,Bs),Zs)};return{value:Rl,onChange:yl,children:getMinutesNumbers({utils:Ks,value:Rl,onChange:yl,getClockNumberText:Ns,isDisabled:Bs=>ks||El(Bs,"seconds"),selectedId:$l})}}default:throw new Error("You must provide the type for ClockView")}},[Gs,Ks,ds,ss,Ps,Ls,Ns,Pl,qs,Ws,El,$l,ks]),Ml=os,wl=useUtilityClasses$4(Ml);return jsxRuntimeExports.jsxs(ClockPickerRoot,{ref:ns,className:clsx(wl.root,As),ownerState:Ml,children:[$s&&jsxRuntimeExports.jsx(ClockPickerArrowSwitcher,{className:wl.arrowSwitcher,leftArrowButtonText:Ds,rightArrowButtonText:Fs,components:cs,componentsProps:us,onLeftClick:()=>Us(zs),onRightClick:()=>Us(Hs),isLeftDisabled:!zs,isRightDisabled:!Hs,ownerState:Ml}),jsxRuntimeExports.jsx(Clock$1,_extends$5({autoFocus:ls,date:ds,ampmInClock:as,type:Gs,ampm:ss,getClockLabelText:js,minutesStep:ys,isTimeDisabled:El,meridiemMode:Pl,handleMeridiemChange:Tl,selectedId:$l,disabled:ks,readOnly:Ms},Sl))]})}),isYearOnlyView=ts=>ts.length===1&&ts[0]==="year",isYearAndMonthViews=ts=>ts.length===2&&ts.indexOf("month")!==-1&&ts.indexOf("year")!==-1,getFormatAndMaskByViews=(ts,rs)=>isYearOnlyView(ts)?{inputFormat:rs.formats.year}:isYearAndMonthViews(ts)?{disableMaskedInput:!0,inputFormat:rs.formats.monthAndYear}:{inputFormat:rs.formats.keyboardDate};function useDatePickerDefaultizedProps(ts,rs){var ns;const os=useUtils(),ss=useDefaultDates(),as=useThemeProps({props:ts,name:rs}),ls=(ns=as.views)!=null?ns:["year","day"];return _extends$5({openTo:"day",disableFuture:!1,disablePast:!1},getFormatAndMaskByViews(ls,os),as,{views:ls,minDate:parseNonNullablePickerDate(os,as.minDate,ss.minDate),maxDate:parseNonNullablePickerDate(os,as.maxDate,ss.maxDate)})}const datePickerValueManager={emptyValue:null,getTodayValue:ts=>ts.date(),parseInput:parsePickerInputValue,areValuesEqual:(ts,rs,ns)=>ts.isEqual(rs,ns)};function getPickersToolbarUtilityClass(ts){return generateUtilityClass("MuiPickersToolbar",ts)}const pickersToolbarClasses=generateUtilityClasses("MuiPickersToolbar",["root","content","penIconButton","penIconButtonLandscape"]),useUtilityClasses$3=ts=>{const{classes:rs,isLandscape:ns}=ts;return composeClasses({root:["root"],content:["content"],penIconButton:["penIconButton",ns&&"penIconButtonLandscape"]},getPickersToolbarUtilityClass,rs)},PickersToolbarRoot=styled$4("div",{name:"MuiPickersToolbar",slot:"Root",overridesResolver:(ts,rs)=>rs.root})(({theme:ts,ownerState:rs})=>_extends$5({display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"space-between",padding:ts.spacing(2,3)},rs.isLandscape&&{height:"auto",maxWidth:160,padding:16,justifyContent:"flex-start",flexWrap:"wrap"})),PickersToolbarContent=styled$4(Grid$1,{name:"MuiPickersToolbar",slot:"Content",overridesResolver:(ts,rs)=>rs.content})(({ownerState:ts})=>_extends$5({flex:1},!ts.isLandscape&&{alignItems:"center"})),PickersToolbarPenIconButton=styled$4(IconButton$2,{name:"MuiPickersToolbar",slot:"PenIconButton",overridesResolver:(ts,rs)=>[{["&.".concat(pickersToolbarClasses.penIconButtonLandscape)]:rs.penIconButtonLandscape},rs.penIconButton]})({}),getViewTypeIcon=ts=>ts==="clock"?jsxRuntimeExports.jsx(Clock$2,{color:"inherit"}):jsxRuntimeExports.jsx(Calendar,{color:"inherit"}),PickersToolbar=reactExports.forwardRef(function(rs,ns){const os=useThemeProps({props:rs,name:"MuiPickersToolbar"}),{children:ss,className:as,getMobileKeyboardInputViewButtonText:ls,isLandscape:cs,isMobileKeyboardViewOpen:us,landscapeDirection:ds="column",toggleMobileKeyboardView:ps,toolbarTitle:fs,viewType:hs="calendar"}=os,ms=os,gs=useLocaleText(),vs=useUtilityClasses$3(ms);return jsxRuntimeExports.jsxs(PickersToolbarRoot,{ref:ns,className:clsx(vs.root,as),ownerState:ms,children:[jsxRuntimeExports.jsx(Typography$1,{color:"text.secondary",variant:"overline",children:fs}),jsxRuntimeExports.jsxs(PickersToolbarContent,{container:!0,justifyContent:"space-between",className:vs.content,ownerState:ms,direction:cs?ds:"row",alignItems:cs?"flex-start":"flex-end",children:[ss,jsxRuntimeExports.jsx(PickersToolbarPenIconButton,{onClick:ps,className:vs.penIconButton,ownerState:ms,color:"inherit","aria-label":ls?ls(us,hs):gs.inputModeToggleButtonAriaLabel(us,hs),children:us?getViewTypeIcon(hs):jsxRuntimeExports.jsx(Pen,{color:"inherit"})})]})]})});function getDatePickerToolbarUtilityClass(ts){return generateUtilityClass("MuiDatePickerToolbar",ts)}generateUtilityClasses("MuiDatePickerToolbar",["root","title"]);const _excluded$8=["parsedValue","isLandscape","isMobileKeyboardViewOpen","onChange","toggleMobileKeyboardView","toolbarFormat","toolbarPlaceholder","toolbarTitle","views"],useUtilityClasses$2=ts=>{const{classes:rs}=ts;return composeClasses({root:["root"],title:["title"]},getDatePickerToolbarUtilityClass,rs)},DatePickerToolbarRoot=styled$4(PickersToolbar,{name:"MuiDatePickerToolbar",slot:"Root",overridesResolver:(ts,rs)=>rs.root})({}),DatePickerToolbarTitle=styled$4(Typography$1,{name:"MuiDatePickerToolbar",slot:"Title",overridesResolver:(ts,rs)=>rs.title})(({ownerState:ts})=>_extends$5({},ts.isLandscape&&{margin:"auto 16px auto auto"})),DatePickerToolbar=reactExports.forwardRef(function(rs,ns){const os=useThemeProps({props:rs,name:"MuiDatePickerToolbar"}),{parsedValue:ss,isLandscape:as,isMobileKeyboardViewOpen:ls,toggleMobileKeyboardView:cs,toolbarFormat:us,toolbarPlaceholder:ds="ââ",toolbarTitle:ps,views:fs}=os,hs=_objectWithoutPropertiesLoose$1(os,_excluded$8),ms=useUtils(),gs=useLocaleText(),vs=useUtilityClasses$2(os),bs=ps!=null?ps:gs.datePickerDefaultToolbarTitle,xs=reactExports.useMemo(()=>ss?us?ms.formatByString(ss,us):isYearOnlyView(fs)?ms.format(ss,"year"):isYearAndMonthViews(fs)?ms.format(ss,"month"):/en/.test(ms.getCurrentLocaleCode())?ms.format(ss,"normalDateWithWeekday"):ms.format(ss,"normalDate"):ds,[ss,us,ds,ms,fs]),ys=os;return jsxRuntimeExports.jsx(DatePickerToolbarRoot,_extends$5({ref:ns,toolbarTitle:bs,isMobileKeyboardViewOpen:ls,toggleMobileKeyboardView:cs,isLandscape:as,className:vs.root},hs,{children:jsxRuntimeExports.jsx(DatePickerToolbarTitle,{variant:"h4",align:as?"left":"center",ownerState:ys,className:vs.title,children:xs})}))}),_excluded$7=["onAccept","onClear","onCancel","onSetToday","actions"],PickersActionBar=ts=>{const{onAccept:rs,onClear:ns,onCancel:os,onSetToday:ss,actions:as}=ts,ls=_objectWithoutPropertiesLoose$1(ts,_excluded$7),cs=reactExports.useContext(WrapperVariantContext),us=useLocaleText(),ds=typeof as=="function"?as(cs):as;if(ds==null||ds.length===0)return null;const ps=ds==null?void 0:ds.map(fs=>{switch(fs){case"clear":return jsxRuntimeExports.jsx(Button$2,{onClick:ns,children:us.clearButtonLabel},fs);case"cancel":return jsxRuntimeExports.jsx(Button$2,{onClick:os,children:us.cancelButtonLabel},fs);case"accept":return jsxRuntimeExports.jsx(Button$2,{onClick:rs,children:us.okButtonLabel},fs);case"today":return jsxRuntimeExports.jsx(Button$2,{onClick:ss,children:us.todayButtonLabel},fs);default:return null}});return jsxRuntimeExports.jsx(DialogActions$1,_extends$5({},ls,{children:ps}))};function getPickersPopperUtilityClass(ts){return generateUtilityClass("MuiPickersPopper",ts)}generateUtilityClasses("MuiPickersPopper",["root","paper"]);const _excluded$6=["onClick","onTouchStart"],useUtilityClasses$1=ts=>{const{classes:rs}=ts;return composeClasses({root:["root"],paper:["paper"]},getPickersPopperUtilityClass,rs)},PickersPopperRoot=styled$4(Popper$2,{name:"MuiPickersPopper",slot:"Root",overridesResolver:(ts,rs)=>rs.root})(({theme:ts})=>({zIndex:ts.zIndex.modal})),PickersPopperPaper=styled$4(Paper$1,{name:"MuiPickersPopper",slot:"Paper",overridesResolver:(ts,rs)=>rs.paper})(({ownerState:ts})=>_extends$5({transformOrigin:"top center",outline:0},ts.placement==="top"&&{transformOrigin:"bottom center"}));function clickedRootScrollbar(ts,rs){return rs.documentElement.clientWidth<ts.clientX||rs.documentElement.clientHeight<ts.clientY}function useClickAwayListener(ts,rs){const ns=reactExports.useRef(!1),os=reactExports.useRef(!1),ss=reactExports.useRef(null),as=reactExports.useRef(!1);reactExports.useEffect(()=>{if(!ts)return;function us(){as.current=!0}return document.addEventListener("mousedown",us,!0),document.addEventListener("touchstart",us,!0),()=>{document.removeEventListener("mousedown",us,!0),document.removeEventListener("touchstart",us,!0),as.current=!1}},[ts]);const ls=useEventCallback(us=>{if(!as.current)return;const ds=os.current;os.current=!1;const ps=ownerDocument(ss.current);if(!ss.current||"clientX"in us&&clickedRootScrollbar(us,ps))return;if(ns.current){ns.current=!1;return}let fs;us.composedPath?fs=us.composedPath().indexOf(ss.current)>-1:fs=!ps.documentElement.contains(us.target)||ss.current.contains(us.target),!fs&&!ds&&rs(us)}),cs=()=>{os.current=!0};return reactExports.useEffect(()=>{if(ts){const us=ownerDocument(ss.current),ds=()=>{ns.current=!0};return us.addEventListener("touchstart",ls),us.addEventListener("touchmove",ds),()=>{us.removeEventListener("touchstart",ls),us.removeEventListener("touchmove",ds)}}},[ts,ls]),reactExports.useEffect(()=>{if(ts){const us=ownerDocument(ss.current);return us.addEventListener("click",ls),()=>{us.removeEventListener("click",ls),os.current=!1}}},[ts,ls]),[ss,cs,cs]}function PickersPopper(ts){var rs;const ns=useThemeProps({props:ts,name:"MuiPickersPopper"}),{anchorEl:os,children:ss,containerRef:as=null,onBlur:ls,onClose:cs,onClear:us,onAccept:ds,onCancel:ps,onSetToday:fs,open:hs,PopperProps:ms,role:gs,TransitionComponent:vs=Grow$1,TrapFocusProps:bs,PaperProps:xs={},components:ys,componentsProps:Ss}=ns;reactExports.useEffect(()=>{function Ls(Ns){hs&&(Ns.key==="Escape"||Ns.key==="Esc")&&cs()}return document.addEventListener("keydown",Ls),()=>{document.removeEventListener("keydown",Ls)}},[cs,hs]);const Cs=reactExports.useRef(null);reactExports.useEffect(()=>{gs!=="tooltip"&&(hs?Cs.current=getActiveElement(document):Cs.current&&Cs.current instanceof HTMLElement&&setTimeout(()=>{Cs.current instanceof HTMLElement&&Cs.current.focus()}))},[hs,gs]);const[$s,Es,ws]=useClickAwayListener(hs,ls!=null?ls:cs),Ts=reactExports.useRef(null),Is=useForkRef(Ts,as),Rs=useForkRef(Is,$s),As=ns,ks=useUtilityClasses$1(As),{onClick:Ms,onTouchStart:Os}=xs,Ds=_objectWithoutPropertiesLoose$1(xs,_excluded$6),Fs=Ls=>{Ls.key==="Escape"&&(Ls.stopPropagation(),cs())},js=(rs=ys==null?void 0:ys.ActionBar)!=null?rs:PickersActionBar,Ps=(ys==null?void 0:ys.PaperContent)||reactExports.Fragment;return jsxRuntimeExports.jsx(PickersPopperRoot,_extends$5({transition:!0,role:gs,open:hs,anchorEl:os,onKeyDown:Fs,className:ks.root},ms,{children:({TransitionProps:Ls,placement:Ns})=>jsxRuntimeExports.jsx(FocusTrap,_extends$5({open:hs,disableAutoFocus:!0,disableRestoreFocus:!0,disableEnforceFocus:gs==="tooltip",isEnabled:()=>!0},bs,{children:jsxRuntimeExports.jsx(vs,_extends$5({},Ls,{children:jsxRuntimeExports.jsx(PickersPopperPaper,_extends$5({tabIndex:-1,elevation:8,ref:Rs,onClick:Gs=>{Es(Gs),Ms&&Ms(Gs)},onTouchStart:Gs=>{ws(Gs),Os&&Os(Gs)},ownerState:_extends$5({},As,{placement:Ns}),className:ks.paper},Ds,{children:jsxRuntimeExports.jsxs(Ps,_extends$5({},Ss==null?void 0:Ss.paperContent,{children:[ss,jsxRuntimeExports.jsx(js,_extends$5({onAccept:ds,onClear:us,onCancel:ps,onSetToday:fs,actions:[]},Ss==null?void 0:Ss.actionBar))]}))}))}))}))}))}function DesktopWrapper(ts){const{children:rs,DateInputProps:ns,KeyboardDateInputComponent:os,onClear:ss,onDismiss:as,onCancel:ls,onAccept:cs,onSetToday:us,open:ds,PopperProps:ps,PaperProps:fs,TransitionComponent:hs,components:ms,componentsProps:gs}=ts,vs=reactExports.useRef(null),bs=useForkRef(ns.inputRef,vs);return jsxRuntimeExports.jsxs(WrapperVariantContext.Provider,{value:"desktop",children:[jsxRuntimeExports.jsx(os,_extends$5({},ns,{inputRef:bs})),jsxRuntimeExports.jsx(PickersPopper,{role:"dialog",open:ds,anchorEl:vs.current,TransitionComponent:hs,PopperProps:ps,PaperProps:fs,onClose:as,onCancel:ls,onClear:ss,onAccept:cs,onSetToday:us,components:ms,componentsProps:gs,children:rs})]})}const useRifm=ts=>{const[,rs]=reactExports.useReducer(us=>us+1,0),ns=reactExports.useRef(null),{replace:os,append:ss}=ts,as=os?os(ts.format(ts.value)):ts.format(ts.value),ls=reactExports.useRef(!1),cs=us=>{const ds=us.target.value;ns.current=[ds,us.target,ds.length>as.length,ls.current,as===ts.format(ds)],rs()};return reactExports.useLayoutEffect(()=>{if(ns.current==null)return;let[us,ds,ps,fs,hs]=ns.current;ns.current=null;const ms=fs&&hs,vs=us.slice(ds.selectionStart).search(ts.accept||/\d/g),bs=vs!==-1?vs:0,xs=Es=>(Es.match(ts.accept||/\d/g)||[]).join(""),ys=xs(us.substr(0,ds.selectionStart)),Ss=Es=>{let ws=0,Ts=0;for(let Is=0;Is!==ys.length;++Is){let Rs=Es.indexOf(ys[Is],ws)+1,As=xs(Es).indexOf(ys[Is],Ts)+1;As-Ts>1&&(Rs=ws,As=Ts),Ts=Math.max(As,Ts),ws=Math.max(ws,Rs)}return ws};if(ts.mask===!0&&ps&&!hs){let Es=Ss(us);const ws=xs(us.substr(Es))[0];Es=us.indexOf(ws,Es),us="".concat(us.substr(0,Es)).concat(us.substr(Es+1))}let Cs=ts.format(us);ss!=null&&ds.selectionStart===us.length&&!hs&&(ps?Cs=ss(Cs):xs(Cs.slice(-1))===""&&(Cs=Cs.slice(0,-1)));const $s=os?os(Cs):Cs;return as===$s?rs():ts.onChange($s),()=>{let Es=Ss(Cs);if(ts.mask!=null&&(ps||fs&&!ms))for(;Cs[Es]&&xs(Cs[Es])==="";)Es+=1;ds.selectionStart=ds.selectionEnd=Es+(ms?1+bs:0)}}),reactExports.useEffect(()=>{const us=ps=>{ps.code==="Delete"&&(ls.current=!0)},ds=ps=>{ps.code==="Delete"&&(ls.current=!1)};return document.addEventListener("keydown",us),document.addEventListener("keyup",ds),()=>{document.removeEventListener("keydown",us),document.removeEventListener("keyup",ds)}},[]),{value:ns.current!=null?ns.current[0]:as,onChange:cs}},getDisplayDate=(ts,rs,ns)=>{const os=ts.date(rs);return rs===null?"":ts.isValid(os)?ts.formatByString(os,ns):""},MASK_USER_INPUT_SYMBOL="_",staticDateWith2DigitTokens="2019-11-21T22:30:00.000",staticDateWith1DigitTokens="2019-01-01T09:00:00.000";function getMaskFromCurrentFormat(ts,rs,ns,os){if(ts)return ts;const as=os.formatByString(os.date(staticDateWith1DigitTokens),rs).replace(ns,MASK_USER_INPUT_SYMBOL),ls=os.formatByString(os.date(staticDateWith2DigitTokens),rs).replace(ns,"_");return as===ls?as:""}function checkMaskIsValidForCurrentFormat(ts,rs,ns,os){if(!ts)return!1;const as=os.formatByString(os.date(staticDateWith1DigitTokens),rs).replace(ns,MASK_USER_INPUT_SYMBOL),ls=os.formatByString(os.date(staticDateWith2DigitTokens),rs).replace(ns,"_"),cs=ls===as&&ts===ls;return!cs&&os.lib,cs}const maskedDateFormatter=(ts,rs)=>ns=>{let os=0;return ns.split("").map((ss,as)=>{if(rs.lastIndex=0,os>ts.length-1)return"";const ls=ts[os],cs=ts[os+1],us=rs.test(ss)?ss:"",ds=ls===MASK_USER_INPUT_SYMBOL?us:ls+us;return os+=ds.length,as===ns.length-1&&cs&&cs!==MASK_USER_INPUT_SYMBOL?ds?ds+cs:"":ds}).join("")},useMaskedInput=({acceptRegex:ts=/[\d]/gi,disabled:rs,disableMaskedInput:ns,ignoreInvalidInputs:os,inputFormat:ss,inputProps:as,label:ls,mask:cs,onChange:us,rawValue:ds,readOnly:ps,rifmFormatter:fs,TextFieldProps:hs,validationError:ms})=>{const gs=useUtils(),vs=gs.getFormatHelperText(ss),{shouldUseMaskedInput:bs,maskToUse:xs}=reactExports.useMemo(()=>{if(ns)return{shouldUseMaskedInput:!1,maskToUse:""};const Os=getMaskFromCurrentFormat(cs,ss,ts,gs);return{shouldUseMaskedInput:checkMaskIsValidForCurrentFormat(Os,ss,ts,gs),maskToUse:Os}},[ts,ns,ss,cs,gs]),ys=reactExports.useMemo(()=>bs&&xs?maskedDateFormatter(xs,ts):Os=>Os,[ts,xs,bs]),Ss=ds===null?null:gs.date(ds),[Cs,$s]=reactExports.useState(Ss),[Es,ws]=reactExports.useState(getDisplayDate(gs,ds,ss)),Ts=reactExports.useRef(),Is=reactExports.useRef(gs.locale),Rs=reactExports.useRef(ss);reactExports.useEffect(()=>{const Os=ds!==Ts.current,Ds=gs.locale!==Is.current,Fs=ss!==Rs.current;if(Ts.current=ds,Is.current=gs.locale,Rs.current=ss,!Os&&!Ds&&!Fs)return;const js=ds===null?null:gs.date(ds),Ps=ds===null||gs.isValid(js);let Ls=Cs===null&&js===null;if(Cs!==null&&js!==null){const Gs=gs.isEqual(Cs,js);if(Gs)Ls=!0;else{const Us=Math.abs(gs.getDiff(Cs,js));Ls=Us===0?Gs:Us<1e3}}if(!Ds&&!Fs&&(!Ps||Ls))return;const Ns=getDisplayDate(gs,ds,ss);$s(js),ws(Ns)},[gs,ds,ss,Cs]);const As=Os=>{const Ds=Os===""||Os===cs?"":Os;ws(Ds);const Fs=Ds===null?null:gs.parse(Ds,ss);os&&!gs.isValid(Fs)||($s(Fs),us(Fs,Ds||void 0))},ks=useRifm({value:Es,onChange:As,format:fs||ys});return _extends$5({label:ls,disabled:rs,error:ms,inputProps:_extends$5({},bs?ks:{value:Es,onChange:Os=>{As(Os.currentTarget.value)}},{disabled:rs,placeholder:vs,readOnly:ps,type:bs?"tel":"text"},as)},hs)},_excluded$5=["className","components","disableOpenPicker","getOpenDialogAriaText","InputAdornmentProps","InputProps","inputRef","openPicker","OpenPickerButtonProps","renderInput"],KeyboardDateInput=reactExports.forwardRef(function(rs,ns){const{className:os,components:ss={},disableOpenPicker:as,getOpenDialogAriaText:ls,InputAdornmentProps:cs,InputProps:us,inputRef:ds,openPicker:ps,OpenPickerButtonProps:fs,renderInput:hs}=rs,ms=_objectWithoutPropertiesLoose$1(rs,_excluded$5),gs=useLocaleText(),vs=ls!=null?ls:gs.openDatePickerDialogue,bs=useUtils(),xs=useMaskedInput(ms),ys=(cs==null?void 0:cs.position)||"end",Ss=ss.OpenPickerIcon||Calendar;return hs(_extends$5({ref:ns,inputRef:ds,className:os},xs,{InputProps:_extends$5({},us,{["".concat(ys,"Adornment")]:as?void 0:jsxRuntimeExports.jsx(InputAdornment$1,_extends$5({position:ys},cs,{children:jsxRuntimeExports.jsx(IconButton$2,_extends$5({edge:ys,disabled:ms.disabled||ms.readOnly,"aria-label":vs(ms.rawValue,bs)},fs,{onClick:ps,children:jsxRuntimeExports.jsx(Ss,{})}))}))})}))});function getOrientation(){return typeof window>"u"?"portrait":window.screen&&window.screen.orientation&&window.screen.orientation.angle?Math.abs(window.screen.orientation.angle)===90?"landscape":"portrait":window.orientation&&Math.abs(Number(window.orientation))===90?"landscape":"portrait"}const useIsLandscape=(ts,rs)=>{const[ns,os]=reactExports.useState(getOrientation);return useEnhancedEffect$1(()=>{const as=()=>{os(getOrientation())};return window.addEventListener("orientationchange",as),()=>{window.removeEventListener("orientationchange",as)}},[]),arrayIncludes(ts,["hours","minutes","seconds"])?!1:(rs||ns)==="landscape"},useFocusManagement=({autoFocus:ts,openView:rs})=>{const[ns,os]=reactExports.useState(ts?rs:null),ss=reactExports.useCallback(as=>ls=>{os(ls?as:cs=>as===cs?null:cs)},[]);return{focusedView:ns,setFocusedView:ss}};function getCalendarOrClockPickerUtilityClass(ts){return generateUtilityClass("MuiCalendarOrClockPicker",ts)}generateUtilityClasses("MuiCalendarOrClockPicker",["root","mobileKeyboardInputView"]);const _excluded$4=["autoFocus","className","parsedValue","DateInputProps","isMobileKeyboardViewOpen","onDateChange","onViewChange","openTo","orientation","showToolbar","toggleMobileKeyboardView","ToolbarComponent","toolbarFormat","toolbarPlaceholder","toolbarTitle","views","dateRangeIcon","timeIcon","hideTabs","classes"],useUtilityClasses=ts=>{const{classes:rs}=ts;return composeClasses({root:["root"],mobileKeyboardInputView:["mobileKeyboardInputView"]},getCalendarOrClockPickerUtilityClass,rs)},MobileKeyboardInputView=styled$4("div",{name:"MuiCalendarOrClockPicker",slot:"MobileKeyboardInputView",overridesResolver:(ts,rs)=>rs.mobileKeyboardInputView})({padding:"16px 24px"}),PickerRoot=styled$4("div",{name:"MuiCalendarOrClockPicker",slot:"Root",overridesResolver:(ts,rs)=>rs.root})(({ownerState:ts})=>_extends$5({display:"flex",flexDirection:"column"},ts.isLandscape&&{flexDirection:"row"})),MobileKeyboardTextFieldProps={fullWidth:!0},isDatePickerView=ts=>ts==="year"||ts==="month"||ts==="day",isTimePickerView=ts=>ts==="hours"||ts==="minutes"||ts==="seconds";function CalendarOrClockPicker(ts){var rs,ns;const os=useThemeProps({props:ts,name:"MuiCalendarOrClockPicker"}),{autoFocus:ss,parsedValue:as,DateInputProps:ls,isMobileKeyboardViewOpen:cs,onDateChange:us,onViewChange:ds,openTo:ps,orientation:fs,showToolbar:hs,toggleMobileKeyboardView:ms,ToolbarComponent:gs=()=>null,toolbarFormat:vs,toolbarPlaceholder:bs,toolbarTitle:xs,views:ys,dateRangeIcon:Ss,timeIcon:Cs,hideTabs:$s}=os,Es=_objectWithoutPropertiesLoose$1(os,_excluded$4),ws=(rs=Es.components)==null?void 0:rs.Tabs,Ts=useIsLandscape(ys,fs),Is=reactExports.useContext(WrapperVariantContext),Rs=useUtilityClasses(os),As=hs!=null?hs:Is!=="desktop",ks=!$s&&typeof window<"u"&&window.innerHeight>667,Ms=reactExports.useCallback((Ns,Gs)=>{us(Ns,Is,Gs)},[us,Is]),Os=reactExports.useCallback(Ns=>{cs&&ms(),ds&&ds(Ns)},[cs,ds,ms]),{openView:Ds,setOpenView:Fs,handleChangeAndOpenNext:js}=useViews({view:void 0,views:ys,openTo:ps,onChange:Ms,onViewChange:Os}),{focusedView:Ps,setFocusedView:Ls}=useFocusManagement({autoFocus:ss,openView:Ds});return jsxRuntimeExports.jsxs(PickerRoot,{ownerState:{isLandscape:Ts},className:Rs.root,children:[As&&jsxRuntimeExports.jsx(gs,_extends$5({},Es,{views:ys,isLandscape:Ts,parsedValue:as,onChange:Ms,setOpenView:Fs,openView:Ds,toolbarTitle:xs,toolbarFormat:vs,toolbarPlaceholder:bs,isMobileKeyboardViewOpen:cs,toggleMobileKeyboardView:ms})),ks&&!!ws&&jsxRuntimeExports.jsx(ws,_extends$5({dateRangeIcon:Ss,timeIcon:Cs,view:Ds,onChange:Fs},(ns=Es.componentsProps)==null?void 0:ns.tabs)),jsxRuntimeExports.jsx(PickerViewRoot,{children:cs?jsxRuntimeExports.jsx(MobileKeyboardInputView,{className:Rs.mobileKeyboardInputView,children:jsxRuntimeExports.jsx(KeyboardDateInput,_extends$5({},ls,{ignoreInvalidInputs:!0,disableOpenPicker:!0,TextFieldProps:MobileKeyboardTextFieldProps}))}):jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[isDatePickerView(Ds)&&jsxRuntimeExports.jsx(CalendarPicker,_extends$5({autoFocus:ss,date:as,onViewChange:Fs,onChange:js,view:Ds,views:ys.filter(isDatePickerView),focusedView:Ps,onFocusedViewChange:Ls},Es)),isTimePickerView(Ds)&&jsxRuntimeExports.jsx(ClockPicker,_extends$5({},Es,{autoFocus:ss,date:as,view:Ds,views:ys.filter(isTimePickerView),onChange:js,onViewChange:Fs,showViewSwitcher:Is==="desktop"}))]})})]})}const useOpenState=({open:ts,onOpen:rs,onClose:ns})=>{const os=reactExports.useRef(typeof ts=="boolean").current,[ss,as]=reactExports.useState(!1);reactExports.useEffect(()=>{if(os){if(typeof ts!="boolean")throw new Error("You must not mix controlling and uncontrolled mode for `open` prop");as(ts)}},[os,ts]);const ls=reactExports.useCallback(cs=>{os||as(cs),cs&&rs&&rs(),!cs&&ns&&ns()},[os,rs,ns]);return{isOpen:ss,setIsOpen:ls}},usePickerState=(ts,rs)=>{const{onAccept:ns,onChange:os,value:ss,closeOnSelect:as}=ts,ls=useUtils(),{isOpen:cs,setIsOpen:us}=useOpenState(ts),ds=reactExports.useMemo(()=>rs.parseInput(ls,ss),[rs,ls,ss]),[ps,fs]=reactExports.useState(ds),[hs,ms]=reactExports.useState(()=>({committed:ds,draft:ds,resetFallback:ds})),gs=reactExports.useCallback(Es=>{ms(ws=>{switch(Es.action){case"setAll":case"acceptAndClose":return{draft:Es.value,committed:Es.value,resetFallback:Es.value};case"setCommitted":return _extends$5({},ws,{draft:Es.value,committed:Es.value});case"setDraft":return _extends$5({},ws,{draft:Es.value});default:return ws}}),(Es.forceOnChangeCall||!Es.skipOnChangeCall&&!rs.areValuesEqual(ls,hs.committed,Es.value))&&os(Es.value),Es.action==="acceptAndClose"&&(us(!1),ns&&!rs.areValuesEqual(ls,hs.resetFallback,Es.value)&&ns(Es.value))},[ns,os,us,hs,ls,rs]);reactExports.useEffect(()=>{ls.isValid(ds)&&fs(ds)},[ls,ds]),reactExports.useEffect(()=>{cs&&gs({action:"setAll",value:ds,skipOnChangeCall:!0})},[cs]),rs.areValuesEqual(ls,hs.committed,ds)||gs({action:"setCommitted",value:ds,skipOnChangeCall:!0});const vs=reactExports.useMemo(()=>({open:cs,onClear:()=>{gs({value:rs.emptyValue,action:"acceptAndClose",forceOnChangeCall:!rs.areValuesEqual(ls,ss,rs.emptyValue)})},onAccept:()=>{gs({value:hs.draft,action:"acceptAndClose",forceOnChangeCall:!rs.areValuesEqual(ls,ss,ds)})},onDismiss:()=>{gs({value:hs.committed,action:"acceptAndClose"})},onCancel:()=>{gs({value:hs.resetFallback,action:"acceptAndClose"})},onSetToday:()=>{gs({value:rs.getTodayValue(ls),action:"acceptAndClose"})}}),[gs,cs,ls,hs,rs,ss,ds]),[bs,xs]=reactExports.useState(!1),ys=reactExports.useMemo(()=>({parsedValue:hs.draft,isMobileKeyboardViewOpen:bs,toggleMobileKeyboardView:()=>xs(!bs),onDateChange:(Es,ws,Ts="partial")=>{switch(Ts){case"shallow":return gs({action:"setDraft",value:Es,skipOnChangeCall:!0});case"partial":return gs({action:"setDraft",value:Es});case"finish":return(as!=null?as:ws==="desktop")?gs({value:Es,action:"acceptAndClose"}):gs({value:Es,action:"setCommitted"});default:throw new Error("MUI: Invalid selectionState passed to `onDateChange`")}}}),[gs,bs,hs.draft,as]),Ss=reactExports.useCallback((Es,ws)=>{const Ts=rs.valueReducer?rs.valueReducer(ls,ps,Es):Es;os(Ts,ws)},[os,rs,ps,ls]),Cs=reactExports.useMemo(()=>({onChange:Ss,open:cs,rawValue:ss,openPicker:()=>us(!0)}),[Ss,cs,ss,us]),$s={pickerProps:ys,inputProps:Cs,wrapperProps:vs};return reactExports.useDebugValue($s,()=>({MuiPickerState:{dateState:hs,other:$s}})),$s},_excluded$3=["onChange","PopperProps","PaperProps","ToolbarComponent","TransitionComponent","value","components","componentsProps"],DesktopDatePicker=reactExports.forwardRef(function(rs,ns){const os=useDatePickerDefaultizedProps(rs,"MuiDesktopDatePicker"),ss=useDateValidation(os)!==null,{pickerProps:as,inputProps:ls,wrapperProps:cs}=usePickerState(os,datePickerValueManager),{PopperProps:us,PaperProps:ds,ToolbarComponent:ps=DatePickerToolbar,TransitionComponent:fs,components:hs,componentsProps:ms}=os,gs=_objectWithoutPropertiesLoose$1(os,_excluded$3),vs=_extends$5({},ls,gs,{components:hs,componentsProps:ms,ref:ns,validationError:ss});return jsxRuntimeExports.jsx(DesktopWrapper,_extends$5({},cs,{DateInputProps:vs,KeyboardDateInputComponent:KeyboardDateInput,PopperProps:us,PaperProps:ds,TransitionComponent:fs,components:hs,componentsProps:ms,children:jsxRuntimeExports.jsx(CalendarOrClockPicker,_extends$5({},as,{autoFocus:!0,toolbarTitle:os.label||os.toolbarTitle,ToolbarComponent:ps,DateInputProps:vs,components:hs,componentsProps:ms},gs))}))}),PickersModalDialogRoot=styled$4(Dialog$1)({["& .".concat(dialogClasses$1.container)]:{outline:0},["& .".concat(dialogClasses$1.paper)]:{outline:0,minWidth:DIALOG_WIDTH}}),PickersModalDialogContent=styled$4(DialogContent$1)({"&:first-of-type":{padding:0}}),PickersModalDialog=ts=>{var rs;const{children:ns,DialogProps:os={},onAccept:ss,onClear:as,onDismiss:ls,onCancel:cs,onSetToday:us,open:ds,components:ps,componentsProps:fs}=ts,hs=(rs=ps==null?void 0:ps.ActionBar)!=null?rs:PickersActionBar;return jsxRuntimeExports.jsxs(PickersModalDialogRoot,_extends$5({open:ds,onClose:ls},os,{children:[jsxRuntimeExports.jsx(PickersModalDialogContent,{children:ns}),jsxRuntimeExports.jsx(hs,_extends$5({onAccept:ss,onClear:as,onCancel:cs,onSetToday:us,actions:["cancel","accept"]},fs==null?void 0:fs.actionBar))]}))},_excluded$2=["children","DateInputProps","DialogProps","onAccept","onClear","onDismiss","onCancel","onSetToday","open","PureDateInputComponent","components","componentsProps"];function MobileWrapper(ts){const{children:rs,DateInputProps:ns,DialogProps:os,onAccept:ss,onClear:as,onDismiss:ls,onCancel:cs,onSetToday:us,open:ds,PureDateInputComponent:ps,components:fs,componentsProps:hs}=ts,ms=_objectWithoutPropertiesLoose$1(ts,_excluded$2);return jsxRuntimeExports.jsxs(WrapperVariantContext.Provider,{value:"mobile",children:[jsxRuntimeExports.jsx(ps,_extends$5({components:fs},ms,ns)),jsxRuntimeExports.jsx(PickersModalDialog,{DialogProps:os,onAccept:ss,onClear:as,onDismiss:ls,onCancel:cs,onSetToday:us,open:ds,components:fs,componentsProps:hs,children:rs})]})}const PureDateInput=reactExports.forwardRef(function(rs,ns){const{disabled:os,getOpenDialogAriaText:ss,inputFormat:as,InputProps:ls,inputRef:cs,label:us,openPicker:ds,rawValue:ps,renderInput:fs,TextFieldProps:hs={},validationError:ms,className:gs}=rs,vs=useLocaleText(),bs=ss!=null?ss:vs.openDatePickerDialogue,xs=useUtils(),ys=reactExports.useMemo(()=>_extends$5({},ls,{readOnly:!0}),[ls]),Ss=getDisplayDate(xs,ps,as),Cs=useEventCallback($s=>{$s.stopPropagation(),ds()});return fs(_extends$5({label:us,disabled:os,ref:ns,inputRef:cs,error:ms,InputProps:ys,className:gs},!rs.readOnly&&!rs.disabled&&{onClick:Cs},{inputProps:_extends$5({disabled:os,readOnly:!0,"aria-readonly":!0,"aria-label":bs(ps,xs),value:Ss},!rs.readOnly&&{onClick:Cs},{onKeyDown:onSpaceOrEnter(ds)})},hs))}),_excluded$1=["ToolbarComponent","value","onChange","components","componentsProps"],MobileDatePicker=reactExports.forwardRef(function(rs,ns){const os=useDatePickerDefaultizedProps(rs,"MuiMobileDatePicker"),ss=useDateValidation(os)!==null,{pickerProps:as,inputProps:ls,wrapperProps:cs}=usePickerState(os,datePickerValueManager),{ToolbarComponent:us=DatePickerToolbar,components:ds,componentsProps:ps}=os,fs=_objectWithoutPropertiesLoose$1(os,_excluded$1),hs=_extends$5({},ls,fs,{components:ds,componentsProps:ps,ref:ns,validationError:ss});return jsxRuntimeExports.jsx(MobileWrapper,_extends$5({},fs,cs,{DateInputProps:hs,PureDateInputComponent:PureDateInput,components:ds,componentsProps:ps,children:jsxRuntimeExports.jsx(CalendarOrClockPicker,_extends$5({},as,{autoFocus:!0,toolbarTitle:os.label||os.toolbarTitle,ToolbarComponent:us,DateInputProps:hs,components:ds,componentsProps:ps},fs))}))}),_excluded=["desktopModeMediaQuery","DialogProps","PopperProps","TransitionComponent"],DatePicker=reactExports.forwardRef(function(rs,ns){const os=useThemeProps({props:rs,name:"MuiDatePicker"}),{desktopModeMediaQuery:ss="@media (pointer: fine)",DialogProps:as,PopperProps:ls,TransitionComponent:cs}=os,us=_objectWithoutPropertiesLoose$1(os,_excluded);return useMediaQuery(ss,{defaultMatches:!0})?jsxRuntimeExports.jsx(DesktopDatePicker,_extends$5({ref:ns,PopperProps:ls,TransitionComponent:cs},us)):jsxRuntimeExports.jsx(MobileDatePicker,_extends$5({ref:ns,DialogProps:as},us))}),defaultFormats={dayOfMonth:"d",fullDate:"DD",fullDateWithWeekday:"DDDD",fullDateTime:"ff",fullDateTime12h:"DD, hh:mm a",fullDateTime24h:"DD, T",fullTime:"t",fullTime12h:"hh:mm a",fullTime24h:"HH:mm",hours12h:"hh",hours24h:"HH",keyboardDate:"D",keyboardDateTime:"D t",keyboardDateTime12h:"D hh:mm a",keyboardDateTime24h:"D T",minutes:"mm",seconds:"ss",month:"LLLL",monthAndDate:"MMMM d",monthAndYear:"LLLL yyyy",monthShort:"MMM",weekday:"cccc",weekdayShort:"ccc",normalDate:"d MMMM",normalDateWithWeekday:"EEE, MMM d",shortDate:"MMM d",year:"yyyy"};class LuxonUtils{constructor({locale:rs,formats:ns}={}){this.lib="luxon",this.date=os=>typeof os>"u"?DateTime.local():os===null?null:typeof os=="string"?DateTime.fromJSDate(new Date(os),{locale:this.locale}):DateTime.isDateTime(os)?os:DateTime.fromJSDate(os,{locale:this.locale}),this.toJsDate=os=>os.toJSDate(),this.parseISO=os=>DateTime.fromISO(os),this.toISO=os=>os.toISO({format:"extended"}),this.parse=(os,ss)=>os===""?null:DateTime.fromFormat(os,ss,{locale:this.locale}),this.is12HourCycleInCurrentLocale=()=>{var os,ss;return typeof Intl>"u"||typeof Intl.DateTimeFormat>"u"?!0:!!(!((ss=(os=new Intl.DateTimeFormat(this.locale,{hour:"numeric"}))===null||os===void 0?void 0:os.resolvedOptions())===null||ss===void 0)&&ss.hour12)},this.getFormatHelperText=os=>"",this.getCurrentLocaleCode=()=>this.locale||Settings.defaultLocale,this.addSeconds=(os,ss)=>os.plus({seconds:ss}),this.addMinutes=(os,ss)=>os.plus({minutes:ss}),this.addHours=(os,ss)=>os.plus({hours:ss}),this.addDays=(os,ss)=>os.plus({days:ss}),this.addWeeks=(os,ss)=>os.plus({weeks:ss}),this.addMonths=(os,ss)=>os.plus({months:ss}),this.addYears=(os,ss)=>os.plus({years:ss}),this.isValid=os=>{var ss,as;return DateTime.isDateTime(os)?os.isValid:os===null?!1:(as=(ss=this.date(os))===null||ss===void 0?void 0:ss.isValid)!==null&&as!==void 0?as:!1},this.isEqual=(os,ss)=>{var as,ls;return os===null&&ss===null?!0:os===null||ss===null||!this.date(ss)?!1:(ls=(as=this.date(os))===null||as===void 0?void 0:as.equals(this.date(ss)))!==null&&ls!==void 0?ls:!1},this.isSameDay=(os,ss)=>os.hasSame(ss,"day"),this.isSameMonth=(os,ss)=>os.hasSame(ss,"month"),this.isSameYear=(os,ss)=>os.hasSame(ss,"year"),this.isSameHour=(os,ss)=>os.hasSame(ss,"hour"),this.isAfter=(os,ss)=>os>ss,this.isBefore=(os,ss)=>os<ss,this.isBeforeDay=(os,ss)=>os.diff(ss.startOf("day"),"days").toObject().days<0,this.isAfterDay=(os,ss)=>os.diff(ss.endOf("day"),"days").toObject().days>0,this.isBeforeMonth=(os,ss)=>os.diff(ss.startOf("month"),"months").toObject().months<0,this.isAfterMonth=(os,ss)=>os.diff(ss.startOf("month"),"months").toObject().months>0,this.isBeforeYear=(os,ss)=>os.diff(ss.startOf("year"),"years").toObject().years<0,this.isAfterYear=(os,ss)=>os.diff(ss.endOf("year"),"years").toObject().years>0,this.getDiff=(os,ss,as)=>(typeof ss=="string"&&(ss=DateTime.fromJSDate(new Date(ss))),ss.isValid?as?Math.floor(os.diff(ss).as(as)):os.diff(ss).as("millisecond"):0),this.startOfDay=os=>os.startOf("day"),this.endOfDay=os=>os.endOf("day"),this.format=(os,ss)=>this.formatByString(os,this.formats[ss]),this.formatByString=(os,ss)=>os.setLocale(this.locale).toFormat(ss),this.formatNumber=os=>os,this.getHours=os=>os.get("hour"),this.setHours=(os,ss)=>os.set({hour:ss}),this.getMinutes=os=>os.get("minute"),this.setMinutes=(os,ss)=>os.set({minute:ss}),this.getSeconds=os=>os.get("second"),this.setSeconds=(os,ss)=>os.set({second:ss}),this.getMonth=os=>os.get("month")-1,this.getDaysInMonth=os=>os.daysInMonth,this.setMonth=(os,ss)=>os.set({month:ss+1}),this.getYear=os=>os.get("year"),this.setYear=(os,ss)=>os.set({year:ss}),this.getDate=os=>os.get("day"),this.setDate=(os,ss)=>os.set({day:ss}),this.mergeDateAndTime=(os,ss)=>os.set({second:ss.second,hour:ss.hour,minute:ss.minute}),this.startOfYear=os=>os.startOf("year"),this.endOfYear=os=>os.endOf("year"),this.startOfMonth=os=>os.startOf("month"),this.endOfMonth=os=>os.endOf("month"),this.startOfWeek=os=>os.startOf("week"),this.endOfWeek=os=>os.endOf("week"),this.getNextMonth=os=>os.plus({months:1}),this.getPreviousMonth=os=>os.minus({months:1}),this.getMonthArray=os=>{const as=[os.startOf("year")];for(;as.length<12;){const ls=as[as.length-1];as.push(this.getNextMonth(ls))}return as},this.getWeekdays=()=>Info.weekdaysFormat("short",{locale:this.locale}),this.getWeekArray=os=>{const{days:ss}=os.endOf("month").endOf("week").diff(os.startOf("month").startOf("week"),"days").toObject(),as=[];return new Array(Math.round(ss)).fill(0).map((ls,cs)=>cs).map(ls=>os.startOf("month").startOf("week").plus({days:ls})).forEach((ls,cs)=>{if(cs===0||cs%7===0&&cs>6){as.push([ls]);return}as[as.length-1].push(ls)}),as},this.getYearRange=(os,ss)=>{const as=os.startOf("year"),ls=ss.endOf("year");let cs=as;const us=[];for(;cs<ls;)us.push(cs),cs=cs.plus({year:1});return us},this.getMeridiemText=os=>Info.meridiems({locale:this.locale}).find(ss=>ss.toLowerCase()===os.toLowerCase()),this.isNull=os=>os===null,this.isWithinRange=(os,[ss,as])=>os.equals(ss)||os.equals(as)||this.isAfter(os,ss)&&this.isBefore(os,as),this.locale=rs||"en-US",this.formats=Object.assign({},defaultFormats,ns)}}function DateSearch({date:ts,setDate:rs,defaultValue:ns,updateURL:os,storeDateInLocalStorage:ss,label:as,queryParams:ls,required:cs,disabled:us,disableDates:ds,closeOnSelect:ps,handleSubmit:fs,small:hs,ageRange:ms,setIsValidDate:gs}){const[vs,bs]=reactExports.useState(!1),[xs,ys]=reactExports.useState(""),Ss=typeof ts=="object"?ts==null?void 0:ts.toISODate():ts,Cs=(ls==null?void 0:ls.get("searchDate"))||Ss,$s=useNavigate();reactExports.useEffect(()=>{var Ts,Is;os&&localStorage.getItem("selectedDate")&&(ls==null||ls.set("searchDate",(Is=JSON.parse((Ts=localStorage.getItem("selectedDate"))!=null?Ts:""))!=null?Is:""),$s("?".concat(ls==null?void 0:ls.toString())))},[$s,ls,os]);function Es(Ts,Is,Rs){const As=Math.floor(-Ts.diffNow("years").years);return As>=Is&&As<=Rs}const ws=(Ts,Is)=>{if(typeof Ts=="object"&&(Ts!=null&&Ts.toISODate())){if(ms&&Ts&&!Es(Ts,ms.min,ms.max)){ys("Age must be between ".concat(ms.min," and ").concat(ms.max)),bs(!0),rs(Ts),gs&&gs(!1);return}bs(!1),ys(""),rs(Ts),gs&&gs(!0),ss&&(Ts?localStorage.setItem("selectedDate",JSON.stringify(Ts.toISODate())):localStorage.removeItem("selectedDate")),fs&&fs(Is,Ts,"date")}else ys("please enter date in format MM/DD/YYYY"),bs(!0),rs(Ts),gs&&gs(!1)};return jsxRuntimeExports.jsx(LocalizationProvider,{dateAdapter:LuxonUtils,children:jsxRuntimeExports.jsx(DatePicker,{label:as!=null?as:"Date",onChange:ws,inputFormat:"MM/dd/yyyy",closeOnSelect:ps,componentsProps:{actionBar:{actions:["today"]}},disabled:us,shouldDisableDate:ds,value:ss?Cs?DateTime.fromISO(Cs):ns:ts,renderInput:Ts=>jsxRuntimeExports.jsx(TextField$1,{style:{width:"100%"},name:"date",id:"appointment-date",label:"Date",size:hs?"small":"medium",required:cs,...Ts,error:vs,helperText:xs})})})}const ReasonForVisitOptions=["Cough and/or congestion","Fever","Throat pain","Ear pain","Vomiting and/or diarrhea","Abdominal (belly) pain","Rash or skin issue","Urinary problem","Breathing problem","Injury to arms or legs","Injury to head or fall on head","Cut to arms or legs","Cut to face or head","Choked or swallowed something","Allergic reaction","Eye concern"],MAXIMUM_CHARACTER_LIMIT=160,TIMEZONE_EXTENSION_URL="http://hl7.org/fhir/StructureDefinition/timezone",TIMEZONES=["America/New_York","America/Chicago","America/Denver","America/Los_Angeles"],OVERRIDE_DATE_FORMAT="M/d/yyyy",DATE_FORMAT="MM/dd/yyyy";function formatHourNumber(ts){return DateTime.fromFormat(String(ts),"h").toFormat("h a")}function formatDateUsingSlashes(ts){return ts&&DateTime.fromISO(ts).toFormat(DATE_FORMAT)}function datesCompareFn(ts){return(rs,ns)=>DateTime.fromFormat(rs,ts).toSeconds()-DateTime.fromFormat(ns,ts).toSeconds()}function formatISODateToLocaleDate(ts){return ts&&DateTime.fromISO(ts).toFormat("LLL dd, yyyy")}function calculatePatientAge(ts){if(!ts)return ts;const rs=DateTime.fromISO(ts),os=DateTime.now().diff(rs,["days","months","years"]).toObject();return os.years&&os.years<2?os.months&&os.months<2?"(".concat(os.days," d)"):"(".concat(os.months," m)"):"(".concat(os.years," y)")}function formatISOStringToDateAndTime(ts){return DateTime.fromISO(ts).toFormat("".concat(DATE_FORMAT,", HH:mm"))}function getTimezone(ts){var ns,os;let rs="America/New_York";if(ts){const ss=(os=(ns=ts.extension)==null?void 0:ns.find(as=>as.url===TIMEZONE_EXTENSION_URL))==null?void 0:os.valueString;ss&&(rs=ss)}return rs}const classifyAppointments=ts=>{const rs=new Map;return ts.forEach(ns=>{const{status:os}=ns;rs.set(os,(rs.get(os)||0)+1)}),rs},checkinPatient=async(ts,rs)=>{await ts.readResource({resourceType:"Appointment",resourceId:rs}),await ts.patchResource({resourceType:"Appointment",resourceId:rs,operations:[{op:"replace",path:"/status",value:"arrived"}]})},sortLocationsByLabel=ts=>{function rs(ns,os){const ss=ns.label.toUpperCase(),as=os.label.toUpperCase();return ss<as?-1:ss>as?1:0}return ts.sort(rs),ts},getUpdateTagOperation=(ts,rs,ns)=>{const os={lastModifiedDate:DateTime.now(),lastModifiedBy:(ns==null?void 0:ns.name)||"PM Team Member",lastModifiedByID:ns==null?void 0:ns.id};return getPatchOperationForNewMetaTag(ts,{system:"staff-update-history-".concat(rs),code:JSON.stringify(os)})};function LocationSelect({queryParams:ts,location:rs,handleSubmit:ns,setLocation:os,updateURL:ss,storeLocationInLocalStorage:as,required:ls,renderInputProps:cs}){const{fhirClient:us}=useApiClients(),[ds,ps]=reactExports.useState([]),[fs,hs]=reactExports.useState(0),ms=useNavigate();reactExports.useEffect(()=>{var bs,xs,ys;ss&&localStorage.getItem("selectedLocation")&&(ts==null||ts.set("locationID",(ys=(xs=JSON.parse((bs=localStorage.getItem("selectedLocation"))!=null?bs:""))==null?void 0:xs.id)!=null?ys:""),ms("?".concat(ts==null?void 0:ts.toString())))},[ms,ts,ss]),reactExports.useEffect(()=>{async function bs(xs){if(xs){hs(1);try{const ys=await xs.searchResources({resourceType:"Location",searchParams:[{name:"_count",value:"1000"},{name:"status",value:"active"}]});ps(ys)}catch(ys){console.error("error loading locations",ys)}finally{hs(2)}}}us&&fs===0&&bs(us)},[us,fs]);const gs=reactExports.useMemo(()=>{const bs=ds.map(xs=>({label:xs.name,value:xs.id}));return sortLocationsByLabel(bs)},[ds]),vs=(bs,xs)=>{const ys=xs?ds.find(Ss=>Ss.id===xs.value):void 0;console.log("selected location in handle location change",ys),ys!=null&&ys.id&&localStorage.setItem("selectedLocationID",ys.id),os(ys),as&&(xs?localStorage.setItem("selectedLocation",JSON.stringify(ys)):localStorage.removeItem("selectedLocation")),ns&&ns(bs,ys,"location")};return jsxRuntimeExports.jsx(Autocomplete$1,{disabled:cs==null?void 0:cs.disabled,value:rs?{label:rs.name,value:rs==null?void 0:rs.id}:null,onChange:vs,isOptionEqualToValue:(bs,xs)=>bs.value===xs.value,options:gs,renderOption:(bs,xs)=>reactExports.createElement("li",{...bs,key:xs.value},xs.label),fullWidth:!0,renderInput:bs=>jsxRuntimeExports.jsx(TextField$1,{placeholder:"Search office",name:"location",...bs,label:"Office",required:ls})})}const CLOSED_DRAWER_WIDTH=55,DRAWER_WIDTH=250,Sidebar=({sidebarItems:ts,sidebarOpen:rs,setSidebarOpen:ns,children:os})=>{const ss=useTheme$1(),{pathname:as}=useLocation(),ls=reactExports.useMemo(()=>{let us=0,ds=0;return ts.forEach((ps,fs)=>{ps.forEach((hs,ms)=>{const{path:gs}=hs;gs===as&&(us=fs,ds=ms)})}),[us,ds]},[as,ts]),cs="".concat(rs?"Close":"Open"," sidebar");return jsxRuntimeExports.jsxs(Box$1,{children:[jsxRuntimeExports.jsxs(Drawer$1,{variant:"permanent",sx:{"& .MuiDrawer-paper":{position:"absolute",width:rs?DRAWER_WIDTH:CLOSED_DRAWER_WIDTH,top:"81px",transitionProperty:"width",transitionTimingFunction:rs?ss.transitions.easing.easeOut:ss.transitions.easing.sharp,transitionDuration:rs?ss.transitions.duration.leavingScreen:ss.transitions.duration.enteringScreen}},children:[jsxRuntimeExports.jsx(Box$1,{sx:{pl:1},children:jsxRuntimeExports.jsx(Tooltip$1,{title:cs,placement:"right",children:jsxRuntimeExports.jsx(IconButton$2,{onClick:()=>ns(!rs),"aria-label":cs,children:jsxRuntimeExports.jsx(KeyboardDoubleArrowRight,{sx:{transform:rs?"rotate(180deg);":"rotate(360deg)",transitionProperty:"transform"}})})})}),jsxRuntimeExports.jsx(Divider$1,{}),jsxRuntimeExports.jsx(List$2,{children:ts.map((us,ds)=>jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[us.map((ps,fs)=>{const hs=ls[0]===ds&&ls[1]===fs;return jsxRuntimeExports.jsx(ListItem$1,{sx:{px:0},children:jsxRuntimeExports.jsx(Link,{to:ps.path,style:{width:"100%",textDecoration:"none",color:ss.palette.primary.main},children:jsxRuntimeExports.jsx(Tooltip$1,{title:ps.label,placement:"right",children:jsxRuntimeExports.jsxs(ListItemButton$1,{selected:hs,children:[jsxRuntimeExports.jsx(ListItemIcon$1,{sx:{alignItems:"center",minWidth:"40px"},children:ps.icon}),jsxRuntimeExports.jsx(ListItemText$1,{primary:ps.label,primaryTypographyProps:{style:{fontWeight:"bold"}}})]})})})},ps.label)}),ds!==ts.length-1&&jsxRuntimeExports.jsx(Divider$1,{})]},ds))})]}),jsxRuntimeExports.jsx(Box$1,{sx:{ml:rs?"".concat(DRAWER_WIDTH,"px"):"".concat(CLOSED_DRAWER_WIDTH,"px"),pl:"20px",pr:"72px",transitionProperty:"margin-left",transitionTimingFunction:rs?ss.transitions.easing.easeOut:ss.transitions.easing.sharp,transitionDuration:rs?"".concat(ss.transitions.duration.leavingScreen,"ms"):"".concat(ss.transitions.duration.enteringScreen,"ms")},children:os})]})},{VITE_APP_ORGANIZATION_NAME_LONG:ORGANIZATION_NAME_LONG}={VITE_APP_IS_LOCAL:"true",VITE_APP_ZAPEHR_APPLICATION_CLIENT_ID:"7defPglpCYmHawRHh3sjXRweJG27rZBS",VITE_APP_ZAPEHR_APPLICATION_DOMAIN:"https://auth.zapehr.com",VITE_APP_ZAPEHR_APPLICATION_AUDIENCE:"https://api.zapehr.com",VITE_APP_ZAPEHR_APPLICATION_REDIRECT_URL:"http://localhost:4002",VITE_APP_ZAPEHR_CONNECTION_NAME:"",VITE_APP_MUI_X_LICENSE_KEY:"",VITE_APP_ORGANIZATION_NAME_LONG:"Ottehr",VITE_APP_ORGANIZATION_NAME_SHORT:"Ottehr",VITE_APP_ZAPEHR_APPLICATION_ID:"",VITE_APP_FHIR_API_URL:"https://fhir-api.zapehr.com",VITE_APP_PROJECT_API_URL:"https://project-api.zapehr.com/v1",VITE_APP_PROJECT_API_ZAMBDA_URL:"http://localhost:4000/local",VITE_APP_INTAKE_ZAMBDAS_URL:"http://localhost:3000/local",VITE_APP_CHECK_IN_ZAMBDA_ID:"check-in",VITE_APP_GET_APPOINTMENTS_ZAMBDA_ID:"get-appointments",VITE_APP_CREATE_APPOINTMENT_ZAMBDA_ID:"create-appointment",VITE_APP_UPDATE_USER_ZAMBDA_ID:"update-user",VITE_APP_GET_USER_ZAMBDA_ID:"get-user",VITE_APP_DEACTIVATE_USER_ZAMBDA_ID:"deactivate-user",VITE_APP_GET_EMPLOYEES_ZAMBDA_ID:"get-employees",VITE_APP_GET_TELEMED_APPOINTMENTS_ZAMBDA_ID:"get-telemed-appointments",VITE_APP_INIT_TELEMED_SESSION_ZAMBDA_ID:"init-telemed-session",VITE_APP_GET_CHART_DATA_ZAMBDA_ID:"get-chart-data",VITE_APP_SAVE_CHART_DATA_ZAMBDA_ID:"save-chart-data",VITE_APP_CHANGE_TELEMED_APPOINTMENT_STATUS_ZAMBDA_ID:"change-telemed-appointment-status",VITE_APP_DELETE_CHART_DATA_ZAMBDA_ID:"delete-chart-data",VITE_APP_GET_TOKEN_FOR_CONVERSATION_ZAMBDA_ID:"get-token-for-conversation",VITE_APP_CANCEL_TELEMED_APPOINTMENT_ZAMBDA_ID:"cancel-appointment",VITE_APP_QRS_URL:"http://localhost:3002",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};if(ORGANIZATION_NAME_LONG==null)throw new Error("Could not load env variable");function PageContainer({sidebarItems:ts,tabTitle:rs,title:ns,children:os}){const[ss,as]=reactExports.useState(!0),ls=useOttehrUser();(ns!=null||rs!=null)&&(document.title="".concat(rs!=null?rs:ns," | ").concat(ORGANIZATION_NAME_LONG," EHR"));const cs=jsxRuntimeExports.jsxs(Container$1,{sx:{my:5,maxWidth:"1400px !important"},children:[ns&&jsxRuntimeExports.jsx(Typography$1,{variant:"h3",color:"primary.dark",sx:{fontWeight:600,mb:4},children:ns}),os,jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsxs(Typography$1,{variant:"subtitle2",children:["Environment: ",{}.VITE_APP_ENV,", Version: ",{}.VITE_APP_VERSION,(ls==null?void 0:ls.hasRole([RoleType.Administrator]))&&jsxRuntimeExports.jsx(Tooltip$1,{title:"Please remember this is not fully tested :)",children:jsxRuntimeExports.jsx(Link,{to:"/data",style:{verticalAlign:"middle"},children:jsxRuntimeExports.jsx(Assessment,{})})})]})]});return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:ts?jsxRuntimeExports.jsx(Sidebar,{sidebarItems:ts,sidebarOpen:ss,setSidebarOpen:as,children:cs}):cs})}function Slots({slots:ts,timezone:rs,selectedSlot:ns,setSelectedSlot:os}){const ss=useTheme$1();return ts.length===0?jsxRuntimeExports.jsx(Typography$1,{variant:"body2",sx:{mt:1,textAlign:"center"},children:"There are no slots available, please walk-in."}):jsxRuntimeExports.jsx(Grid$1,{container:!0,spacing:1,justifyContent:"center",mt:1,children:ts.map((as,ls)=>{const us=DateTime.fromISO(as).setZone(rs),ds=ns===as;return jsxRuntimeExports.jsx(Grid$1,{item:!0,children:jsxRuntimeExports.jsx(Button$2,{sx:{width:"110px",borderColor:ss.palette.divider,fontWeight:ds?700:400},variant:ds?"contained":"outlined",color:"primary",onClick:()=>os(as),children:us.toFormat("h:mm a")})},ls)})})}const DATETIME_FULL_NO_YEAR="MMMM d, h:mm a ZZZZ",DATE_FULL_NO_YEAR="EEEE, MMMM d";function createLocalDateTime(ts,rs){let ns;return ts!==void 0&&(ns=ts.setZone(rs)),ns}const TabPanel=ts=>{const{children:rs,value:ns,index:os,...ss}=ts;return jsxRuntimeExports.jsx("div",{role:"tabpanel",hidden:ns!==os,id:"appointment-picker-tabpanel-".concat(os),"aria-labelledby":"appointment-picker-tab-".concat(os),...ss,children:ns===os&&jsxRuntimeExports.jsx(Box$1,{sx:{pt:3,pb:3},children:rs})})},tabProps=ts=>({id:"appointment-picker-tab-".concat(ts),"aria-controls":"appointment-picker-tabpanel-".concat(ts)}),nextAvailableFrom=(ts,rs,ns)=>{const os=rs.find(ss=>{const as=DateTime.fromISO(ss,{zone:ns});return as.ordinal===ts.ordinal?!1:as>ts});if(os)return DateTime.fromISO(os,{zone:ns})},SlotPicker=({slotData:ts,slotsLoading:rs,timezone:ns,selectedSlot:os,setSelectedSlot:ss})=>{var $s;const as=useTheme$1(),[ls,cs]=reactExports.useState(0),[us,ds]=reactExports.useState(!1),[ps,fs]=reactExports.useMemo(()=>{if(ts){const Es=[...ts],ws=Es.reduce((Ts,Is)=>{const Rs=DateTime.fromISO(Is,{zone:ns}),As=Ts[Rs.ordinal];return As?As.push(Is):Ts[Rs.ordinal]=[Is],Ts},{});return[Es,ws]}return[[],{}]},[ns,ts]),{firstAvailableDay:hs,secondAvailableDay:ms}=reactExports.useMemo(()=>{var ks,Ms;let Es,ws;const Ts=DateTime.now().setZone(ns);if(ps==null||ps.length===0)return{firstAvailableDay:Es,secondAvailableDay:ws,lastSlot:void 0};Es=createLocalDateTime(DateTime.fromISO(ps[0]),ns);const Is=ps[0],Rs=(ks=DateTime.fromISO(Is))==null?void 0:ks.setZone(ns).toISODate(),As=(Ms=Ts==null?void 0:Ts.setZone(ns))==null?void 0:Ms.toISODate();return!Rs||!As?{firstAvailableDay:Es,secondAvailableDay:ws,lastSlot:void 0}:(Rs>As&&ds(!0),Es&&(ws=nextAvailableFrom(Es,ps,ns),ws&&ds(!1)),{firstAvailableDay:Es,secondAvailableDay:ws})},[ps,ns]),gs=reactExports.useMemo(()=>ps&&ps[0]?os===ps[0]:!1,[os,ps]),vs=(Es,ws)=>{cs(ws)},[bs,xs]=reactExports.useState();reactExports.useEffect(()=>{bs===void 0&&ms!=null&&xs(nextAvailableFrom(ms,ps,ns))},[ms,bs,ps,ns]);const ys=reactExports.useMemo(()=>ls===0?hs:ls===1?ms:bs,[ls,hs,ms,bs]),Ss=reactExports.useCallback(Es=>{var ws;return Es===void 0?[]:(ws=fs[Es.ordinal])!=null?ws:[]},[fs]),Cs=Ss(hs).length>0||Ss(ms).length>0;return jsxRuntimeExports.jsxs(Box$1,{sx:{backgroundColor:as.palette.background.default,padding:2,borderRadius:2,marginTop:2},children:[jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"},justifyContent:"space-between",alignItems:{xs:"flex-start",md:"center"}},children:[jsxRuntimeExports.jsx(Typography$1,{variant:"h3",color:"primary",fontSize:"20px",children:"Select check-in date and time"}),(ys==null?void 0:ys.offsetNameShort)&&jsxRuntimeExports.jsxs(Typography$1,{color:"theme.palette.text.secondary",sx:{pt:{xs:1.5,md:.5}},children:["Time Zone: ",($s=ys.setLocale("en-us"))==null?void 0:$s.offsetNameShort]})]}),ps&&ys!=null&&Cs?jsxRuntimeExports.jsxs(Button$2,{variant:gs?"contained":"outlined",sx:{color:gs?as.palette.primary.contrastText:as.palette.text.primary,border:gs?"1px solid ".concat(as.palette.primary.main):"1px solid ".concat(as.palette.divider),p:1,borderRadius:"8px",textAlign:"center",mt:2.5,mb:1.5,width:"100%",textTransform:"none",fontWeight:400,display:{xs:"block",md:"inline"}},onClick:()=>ss(ps[0]),type:"button",className:"first-button",children:[jsxRuntimeExports.jsx("span",{style:{fontWeight:700},children:"First available time:Â "}),hs==null?void 0:hs.toFormat(DATETIME_FULL_NO_YEAR)]}):jsxRuntimeExports.jsx(Box$1,{sx:{border:"1px solid ".concat(as.palette.divider),p:1,borderRadius:"8px",textAlign:"center",mt:1,display:Cs?"inherit":"none"},children:jsxRuntimeExports.jsx(Typography$1,{variant:"body2",children:"Calculating..."})}),rs?jsxRuntimeExports.jsx(Typography$1,{variant:"body2",m:1,textAlign:"center",children:"Loading..."}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:hs?jsxRuntimeExports.jsxs(Box$1,{children:[jsxRuntimeExports.jsx(Box$1,{sx:{width:"100%"},children:jsxRuntimeExports.jsxs(Tabs$1,{value:ls,onChange:vs,TabIndicatorProps:{style:{background:as.palette.secondary.main,height:"5px",borderRadius:"2.5px"}},variant:"fullWidth","aria-label":"Appointment tabs for switching between appointments slots for today and tomorrow",children:[jsxRuntimeExports.jsx(Tab$1,{label:us?"Tomorrow":"Today",...tabProps(0),sx:{color:ls==0?as.palette.secondary.main:as.palette.text.secondary,opacity:1,textTransform:"capitalize",fontWeight:700}}),ms&&jsxRuntimeExports.jsx(Tab$1,{label:"Tomorrow",...tabProps(1),sx:{color:ls==1?as.palette.secondary.main:as.palette.text.secondary,opacity:1,textTransform:"capitalize",fontWeight:700}})]})}),jsxRuntimeExports.jsxs(Box$1,{children:[jsxRuntimeExports.jsxs(TabPanel,{value:ls,index:0,dir:as.direction,children:[jsxRuntimeExports.jsx(Typography$1,{variant:"h3",color:"#000000",sx:{textAlign:"center",fontSize:"20px",color:as.palette.primary.main},children:hs==null?void 0:hs.toFormat(DATE_FULL_NO_YEAR)}),jsxRuntimeExports.jsx(Slots,{slots:Ss(hs),timezone:ns,selectedSlot:os,setSelectedSlot:ss})]}),jsxRuntimeExports.jsxs(TabPanel,{value:ls,index:1,dir:as.direction,children:[jsxRuntimeExports.jsx(Typography$1,{variant:"h3",color:"#000000",sx:{textAlign:"center",fontSize:"20px",color:as.palette.primary.main},children:ms==null?void 0:ms.toFormat(DATE_FULL_NO_YEAR)}),jsxRuntimeExports.jsx(Slots,{slots:Ss(ms),timezone:ns,selectedSlot:os,setSelectedSlot:ss})]})]})]}):jsxRuntimeExports.jsx(Typography$1,{variant:"body2",color:"#000000",sx:{textAlign:"center",marginTop:"30px"},children:"There are no slots available, please come in when we are open."})})]})};function AddPatient(){var Cl,Xs,xl;const[ts,rs]=reactExports.useState(void 0),[ns,os]=reactExports.useState(""),[ss,as]=reactExports.useState(""),[ls,cs]=reactExports.useState(null),[us,ds]=reactExports.useState(""),[ps,fs]=reactExports.useState(""),[hs,ms]=reactExports.useState(""),[gs,vs]=reactExports.useState([]),[bs,xs]=reactExports.useState(),[ys,Ss]=reactExports.useState(),[Cs,$s]=reactExports.useState(!1),[Es,ws]=reactExports.useState(!1),[Ts,Is]=reactExports.useState({submit:!1,phone:!1,search:!1}),[Rs,As]=reactExports.useState({status:"initial",input:void 0}),[ks,Ms]=reactExports.useState(void 0),[Os,Ds]=reactExports.useState(""),[Fs,js]=reactExports.useState(!0),[Ps,Ls]=reactExports.useState(!1),[Ns,Gs]=reactExports.useState(!0),[Us,Hs]=reactExports.useState(!1),[zs,qs]=reactExports.useState(void 0),[Vs,Ks]=reactExports.useState(void 0),[Ws,Pl]=reactExports.useState({prefillForSelected:!1,forcePatientSearch:!0}),Tl=useTheme$1(),El=useNavigate(),{zambdaIntakeClient:$l,fhirClient:Sl}=useApiClients(),Ml="Input cannot be more than ".concat(MAXIMUM_CHARACTER_LIMIT," characters"),wl="Phone number must be 10 digits",Rl=$a=>{Gs($a.join(", ").length<=MAXIMUM_CHARACTER_LIMIT),vs($a)};reactExports.useEffect(()=>{var Ll,Vl,Xl;const $a=async(Ql,Kl)=>{As({status:"loading",input:void 0});try{if(!$l)throw new Error("Zambda client not found");const Gl=await getLocations($l,Ql);Ms(Gl)}catch(Gl){console.error("error loading location with slot data",Gl)}finally{As({status:"loaded",input:"".concat(Ql.locationState,"-").concat(Ql.slug)})}},Dl=(Vl=(Ll=ts==null?void 0:ts.identifier)==null?void 0:Ll.find(Ql=>Ql.system==="https://fhir.ottehr.com/r4/slug"))==null?void 0:Vl.value,Ol=(Xl=ts==null?void 0:ts.address)==null?void 0:Xl.state;if(!Dl||!Ol){console.log("show some toast: location is missing slug or address.state",ts,Dl,Ol);return}!$l||Rs.status==="loading"||Rs.status==="loaded"&&Rs.input==="".concat(Ol,"-").concat(Dl)||$a({slug:Dl,locationState:Ol,scheduleType:"location"})},[ts,Rs,$l]);const yl=async $a=>{var Dl,Ol,Ll,Vl,Xl,Ql,Kl,Gl,nu,Bl;if($a.preventDefault(),ps.length!==10){Is({phone:!0});return}else Is({});if(bs===VisitType.Prebook&&ys===void 0){Ls(!0);return}if(Ws.forcePatientSearch){Is({search:!0});return}else Is({...Ts,search:!1});if(Fs&&Ns){$s(!0);let Hl,Qs;if(Vs&&(Qs=(Ol=(Dl=Vs.extension)==null?void 0:Dl.find(tu=>tu.url==="".concat(PRIVATE_EXTENSION_BASE_URL,"/form-user")))==null?void 0:Ol.valueString,Qs)){if(Qs!=="Parent/Guardian")Hl=(Vl=(Ll=Vs.telecom)==null?void 0:Ll.find(tu=>tu.system==="email"))==null?void 0:Vl.value;else if(Qs==="Parent/Guardian"){const tu=(Xl=Vs.contact)==null?void 0:Xl.find(au=>{var du;return(du=au.relationship)==null?void 0:du.find(lu=>{var fu;return((fu=lu==null?void 0:lu.coding)==null?void 0:fu[0].code)==="Parent/Guardian"})});Hl=(Kl=(Ql=tu==null?void 0:tu.telecom)==null?void 0:Ql.find(au=>au.system==="email"))==null?void 0:Kl.value}}const Al=Hl||hs;let Nl=Qs;if(Nl==null&&Al&&(Nl="Parent/Guardian"),!$l)throw new Error("Zambda client not found");const eu={patient:{id:Vs==null?void 0:Vs.id,newPatient:!Vs,firstName:((nu=(Gl=Vs==null?void 0:Vs.name)==null?void 0:Gl[0].given)==null?void 0:nu.join(" "))||ns,lastName:((Bl=Vs==null?void 0:Vs.name)==null?void 0:Bl[0].family)||ss,dateOfBirth:(Vs==null?void 0:Vs.birthDate)||(ls==null?void 0:ls.toISODate())||void 0,sex:(Vs==null?void 0:Vs.gender)||us||void 0,phoneNumber:ps,email:Al,emailUser:Nl,reasonForVisit:gs},slot:ys,visitType:bs,locationID:ts==null?void 0:ts.id,scheduleType:"location",visitService:"in-person"};let Jl,Zl=!1;try{Jl=await createAppointment($l,eu)}catch(tu){console.error("Failed to add patient: ".concat(tu)),Zl=!0}finally{$s(!1),Jl&&!Zl?El("/visits"):Is({submit:!0})}}},Bs=async $a=>{if($a.preventDefault(),ps.length!==10){Is({...Ts,phone:!0});return}if(ws(!0),Is({...Ts,search:!1}),Pl({...Ws,forcePatientSearch:!1}),!Sl)return;const Ol=(await Sl.searchResources({resourceType:"Person",searchParams:[{name:"telecom",value:"+1".concat(ps)},{name:"_include",value:"Person:relatedperson"},{name:"_include:iterate",value:"RelatedPerson:patient"}]})).filter(Ll=>Ll.resourceType==="Patient");Ol.sort(Zs),qs(Ol),Hs(!0),ws(!1)},Zs=($a,Dl)=>{var Ql,Kl,Gl,nu,Bl,Hl;const Ol=(Ql=$a==null?void 0:$a.name)==null?void 0:Ql[0].family,Ll=(Kl=Dl==null?void 0:Dl.name)==null?void 0:Kl[0].family,Vl=(nu=(Gl=$a==null?void 0:$a.name)==null?void 0:Gl[0].given)==null?void 0:nu.join(" "),Xl=(Hl=(Bl=Dl==null?void 0:Dl.name)==null?void 0:Bl[0].given)==null?void 0:Hl.join(" ");return Ol&&Ll&&Vl&&Xl?Ol<Ll?-1:Ol>Ll?1:Vl.localeCompare(Xl):0},Ys=$a=>{var Ll,Vl,Xl,Ql,Kl,Gl,nu;let Dl;const Ol=(Vl=(Ll=$a.extension)==null?void 0:Ll.find(Bl=>Bl.url==="".concat(PRIVATE_EXTENSION_BASE_URL,"/form-user")))==null?void 0:Vl.valueString;if(Ol)if(Ol==="Parent/Guardian"){const Bl=(Xl=$a.contact)==null?void 0:Xl.find(Hl=>{var Qs;return(Qs=Hl.relationship)==null?void 0:Qs.find(Al=>{var Nl;return((Nl=Al==null?void 0:Al.coding)==null?void 0:Nl[0].code)==="Parent/Guardian"})});Dl=(Kl=(Ql=Bl==null?void 0:Bl.telecom)==null?void 0:Ql.find(Hl=>Hl.system==="email"))==null?void 0:Kl.value}else Dl=(nu=(Gl=$a.telecom)==null?void 0:Gl.find(Bl=>Bl.system==="email"))==null?void 0:nu.value;return Dl||"not found"},_l=$a=>{const Dl=zs==null?void 0:zs.find(Ol=>Ol.id===$a.target.value);Ks(Dl)};return jsxRuntimeExports.jsx(PageContainer,{children:jsxRuntimeExports.jsxs(Grid$1,{container:!0,direction:"row",children:[jsxRuntimeExports.jsx(Grid$1,{item:!0,xs:3.5}),jsxRuntimeExports.jsxs(Grid$1,{item:!0,xs:5,children:[jsxRuntimeExports.jsx(CustomBreadcrumbs,{chain:[{link:"/visits",children:"In Person"},{link:"#",children:"Add Patient"}]}),jsxRuntimeExports.jsx(Typography$1,{variant:"h3",marginTop:1,color:"primary.dark",children:"Add Patient"}),jsxRuntimeExports.jsxs(Paper$1,{children:[jsxRuntimeExports.jsx("form",{onSubmit:$a=>yl($a),children:jsxRuntimeExports.jsxs(Box$1,{padding:3,marginTop:2,children:[jsxRuntimeExports.jsx(Typography$1,{variant:"h4",color:"primary.dark",children:"Office"}),jsxRuntimeExports.jsx(Box$1,{sx:{marginTop:2},children:jsxRuntimeExports.jsx(LocationSelect,{location:ts,setLocation:rs,updateURL:!1,required:!0,renderInputProps:{disabled:!1}})}),jsxRuntimeExports.jsxs(Box$1,{children:[jsxRuntimeExports.jsx(Typography$1,{variant:"h4",color:"primary.dark",sx:{marginTop:4},children:"Patient information"}),jsxRuntimeExports.jsx(Box$1,{marginTop:2,children:jsxRuntimeExports.jsxs(Grid$1,{container:!0,children:[jsxRuntimeExports.jsx(Grid$1,{item:!0,xs:8,children:jsxRuntimeExports.jsx(PatternFormat,{customInput:TextField$1,value:ps,format:"(###) ###-####",mask:" ",label:"Mobile Phone",variant:"outlined",placeholder:"(XXX) XXX-XXXX",fullWidth:!0,required:!0,error:Ts.phone,helperText:Ts!=null&&Ts.phone?wl:"",onValueChange:($a,Dl)=>{Dl.source==="event"&&(fs($a.value),Ts.phone&&$a.value.length===10&&Is({...Ts,phone:!1}))}})}),jsxRuntimeExports.jsx(Grid$1,{item:!0,xs:4,sx:{display:"flex",justifyContent:"center",flexDirection:"column",padding:"0 8px"},children:jsxRuntimeExports.jsx(LoadingButton$1,{variant:"contained",onClick:$a=>Bs($a),loading:Es,sx:{borderRadius:100,textTransform:"none",fontWeight:600},children:"Search for Patients"})})]})}),jsxRuntimeExports.jsx(Dialog$1,{open:Us,onClose:()=>{Ks(void 0),Hs(!1)},children:jsxRuntimeExports.jsxs(Box$1,{sx:{minWidth:"600px",borderRadius:"4px",p:"35px",maxHeight:"450px",overflow:"scroll"},children:[jsxRuntimeExports.jsx(Box$1,{children:jsxRuntimeExports.jsx(Typography$1,{variant:"h4",sx:{fontWeight:"600 !important",color:Tl.palette.primary.main,marginBottom:"4px"},children:"Select an Existing QRS Patient"})}),jsxRuntimeExports.jsx(Box$1,{children:jsxRuntimeExports.jsx(RadioGroup$1,{onChange:$a=>_l($a),children:zs==null?void 0:zs.map($a=>{var Ol,Ll;const Dl="".concat((Ol=$a.name)==null?void 0:Ol[0].family,", ").concat((Ll=$a.name)==null?void 0:Ll[0].given," (DOB: ").concat(DateTime.fromISO(($a==null?void 0:$a.birthDate)||"").toFormat("MMMM dd, yyyy"),")");return jsxRuntimeExports.jsx(FormControlLabel$1,{value:$a.id,control:jsxRuntimeExports.jsx(Radio$1,{}),label:Dl},$a.id)})})}),Vs&&jsxRuntimeExports.jsx(Box$1,{sx:{marginTop:2},children:jsxRuntimeExports.jsxs(Button$2,{variant:"outlined",sx:{borderRadius:100,textTransform:"none",fontWeight:600},onClick:()=>{Pl({...Ws,prefillForSelected:!0}),Hs(!1)},children:["Prefill for ",(Cl=Vs==null?void 0:Vs.name)==null?void 0:Cl[0].given]})}),jsxRuntimeExports.jsx(Box$1,{sx:{marginTop:2},children:jsxRuntimeExports.jsx(Button$2,{variant:"contained",sx:{borderRadius:100,textTransform:"none",fontWeight:600},onClick:()=>{Ks(void 0),Pl({...Ws,prefillForSelected:!1}),Hs(!1)},children:"Patient Not Found in QRS - Add Manually"})})]})}),Es&&jsxRuntimeExports.jsx(Box$1,{sx:{display:"flex",justifyContent:"center"},marginTop:2,children:jsxRuntimeExports.jsx(CircularProgress$1,{})}),Ws.prefillForSelected&&Vs&&jsxRuntimeExports.jsxs(Box$1,{marginTop:3,children:[jsxRuntimeExports.jsxs(Typography$1,{variant:"h4",color:"primary.dark",children:[(Xs=Vs.name)==null?void 0:Xs[0].given," ",(xl=Vs.name)==null?void 0:xl[0].family]}),jsxRuntimeExports.jsxs(Typography$1,{children:["Birthday: ",DateTime.fromISO((Vs==null?void 0:Vs.birthDate)||"").toFormat("MMMM dd, yyyy")]}),jsxRuntimeExports.jsxs(Typography$1,{children:["Birth Sex: ",Vs.gender]}),jsxRuntimeExports.jsxs(Typography$1,{children:["Email: ",Ys(Vs)]})]}),!Ws.forcePatientSearch&&!Ws.prefillForSelected&&!Es&&jsxRuntimeExports.jsxs(Box$1,{marginTop:2,children:[jsxRuntimeExports.jsx(Box$1,{children:jsxRuntimeExports.jsxs(Grid$1,{container:!0,direction:"row",justifyContent:"space-between",children:[jsxRuntimeExports.jsx(Grid$1,{item:!0,xs:5.85,children:jsxRuntimeExports.jsx(TextField$1,{label:"First Name",variant:"outlined",required:!0,fullWidth:!0,onChange:$a=>{os($a.target.value)}})}),jsxRuntimeExports.jsx(Grid$1,{item:!0,xs:5.85,children:jsxRuntimeExports.jsx(TextField$1,{label:"Last Name",variant:"outlined",required:!0,fullWidth:!0,onChange:$a=>{as($a.target.value)}})})]})}),jsxRuntimeExports.jsx(Box$1,{marginTop:2,children:jsxRuntimeExports.jsxs(Grid$1,{container:!0,direction:"row",justifyContent:"space-between",children:[jsxRuntimeExports.jsx(Grid$1,{item:!0,xs:5.85,children:jsxRuntimeExports.jsx(DateSearch,{date:ls,setDate:cs,defaultValue:null,label:"Date of birth",required:!0,setIsValidDate:js})}),jsxRuntimeExports.jsx(Grid$1,{item:!0,xs:5.85,children:jsxRuntimeExports.jsxs(FormControl$1,{fullWidth:!0,children:[jsxRuntimeExports.jsx(InputLabel$1,{id:"sex-at-birth-label",children:"Sex at birth *"}),jsxRuntimeExports.jsxs(Select$2,{labelId:"sex-at-birth-label",id:"sex-at-birth-select",value:us,label:"Sex at birth *",required:!0,onChange:$a=>{ds($a.target.value)},children:[jsxRuntimeExports.jsx(MenuItem$1,{value:PersonSex.Male,children:"Male"}),jsxRuntimeExports.jsx(MenuItem$1,{value:PersonSex.Female,children:"Female"}),jsxRuntimeExports.jsx(MenuItem$1,{value:PersonSex.Intersex,children:"Intersex"})]})]})})]})}),jsxRuntimeExports.jsx(Box$1,{marginTop:2,children:jsxRuntimeExports.jsx(Grid$1,{container:!0,direction:"row",justifyContent:"space-between",children:jsxRuntimeExports.jsx(Grid$1,{item:!0,xs:12,children:jsxRuntimeExports.jsx(TextField$1,{label:"Email",variant:"outlined",fullWidth:!0,onChange:$a=>{ms($a.target.value)},type:"email"})})})})]})]}),!Ws.forcePatientSearch&&!Es&&jsxRuntimeExports.jsxs(Box$1,{marginTop:4,children:[jsxRuntimeExports.jsx(Typography$1,{variant:"h4",color:"primary.dark",children:"Visit information"}),jsxRuntimeExports.jsx(Box$1,{marginTop:2,children:jsxRuntimeExports.jsx(Autocomplete$1,{multiple:!0,autoComplete:!0,disableClearable:!0,forcePopupIcon:!0,id:"reason-for-visit-label",options:ReasonForVisitOptions,freeSolo:!0,value:gs,inputValue:Os,onInputChange:($a,Dl)=>Ds(Dl),onChange:($a,Dl)=>Rl(Dl),onBlur:()=>{Os.trim()!==""&&Rl([...gs,Os.trim()]),Ds("")},renderTags:($a,Dl)=>$a.map((Ol,Ll)=>jsxRuntimeExports.jsx(Chip$1,{variant:"outlined",label:Ol,...Dl({index:Ll}),sx:{fontSize:16}})),renderInput:$a=>jsxRuntimeExports.jsx(TextField$1,{...$a,label:"Reason for visit",variant:"outlined",fullWidth:!0,required:gs.length===0,error:!Ns,helperText:Ns?"":Ml}),sx:{width:"100%",mt:2,"& .MuiFilledInput-root":{fontSize:16,p:.5,border:"1px solid",borderRadius:2,"&::before, ::after, :hover:not(.Mui-disabled, .Mui-error)::before":{borderBottom:0}}}})}),jsxRuntimeExports.jsx(Box$1,{marginTop:2,children:jsxRuntimeExports.jsxs(FormControl$1,{fullWidth:!0,children:[jsxRuntimeExports.jsx(InputLabel$1,{id:"visit-type-label",children:"Visit type *"}),jsxRuntimeExports.jsxs(Select$2,{labelId:"visit-type-label",id:"visit-type-select",value:bs||"",label:"Visit type *",required:!0,onChange:$a=>{Ss(void 0),xs($a.target.value)},children:[jsxRuntimeExports.jsx(MenuItem$1,{value:VisitType.Now,children:"Now"}),jsxRuntimeExports.jsx(MenuItem$1,{value:VisitType.Prebook,children:"Pre-booked visit"})]})]})}),bs===VisitType.Prebook&&jsxRuntimeExports.jsx(SlotPicker,{slotData:ks==null?void 0:ks.availableSlots,slotsLoading:Rs.status==="loading",timezone:(ks==null?void 0:ks.timezone)||"Undefined",selectedSlot:ys,setSelectedSlot:Ss})]}),Ws.forcePatientSearch&&jsxRuntimeExports.jsx(Box$1,{marginTop:4,children:jsxRuntimeExports.jsx(Typography$1,{variant:"body1",color:"primary.dark",children:"Please enter the mobile number and search for existing patients before proceeding."})}),jsxRuntimeExports.jsxs(Box$1,{marginTop:4,children:[Ts.submit&&jsxRuntimeExports.jsx(Typography$1,{color:"error",variant:"body2",mb:2,children:"Failed to add patient. Please try again."}),Ts.search&&jsxRuntimeExports.jsx(Typography$1,{color:"error",variant:"body2",mb:2,children:"Please search for patients before adding"}),jsxRuntimeExports.jsxs(LoadingButton$1,{variant:"contained",type:"submit",loading:Cs||Es,sx:{borderRadius:100,textTransform:"none",fontWeight:600,marginRight:1},children:["Add ",bs]}),jsxRuntimeExports.jsx(Button$2,{sx:{borderRadius:100,textTransform:"none",fontWeight:600},onClick:()=>{El("/visits")},children:"Cancel"})]})]})}),jsxRuntimeExports.jsx(CustomDialog,{open:Ps,title:"Please select a date and time",description:"To continue, please select an available appointment.",closeButtonText:"Close",handleClose:()=>Ls(!1)})]})]}),jsxRuntimeExports.jsx(Grid$1,{item:!0,xs:3.5})]})})}var Add={},createSvgIcon={};const require$$0$4=getAugmentedNamespace(utils$2);var hasRequiredCreateSvgIcon;function requireCreateSvgIcon(){return hasRequiredCreateSvgIcon||(hasRequiredCreateSvgIcon=1,function(ts){"use client";Object.defineProperty(ts,"__esModule",{value:!0}),Object.defineProperty(ts,"default",{enumerable:!0,get:function(){return rs.createSvgIcon}});var rs=require$$0$4}(createSvgIcon)),createSvgIcon}var _interopRequireDefault$x=interopRequireDefaultExports;Object.defineProperty(Add,"__esModule",{value:!0});var default_1$w=Add.default=void 0,_createSvgIcon$w=_interopRequireDefault$x(requireCreateSvgIcon()),_jsxRuntime$w=jsxRuntimeExports;default_1$w=Add.default=(0,_createSvgIcon$w.default)((0,_jsxRuntime$w.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add");var hasDocument=typeof document<"u",vendorEvents=[{hidden:"hidden",event:"visibilitychange",state:"visibilityState"},{hidden:"webkitHidden",event:"webkitvisibilitychange",state:"webkitVisibilityState"},{hidden:"mozHidden",event:"mozvisibilitychange",state:"mozVisibilityState"},{hidden:"msHidden",event:"msvisibilitychange",state:"msVisibilityState"},{hidden:"oHidden",event:"ovisibilitychange",state:"oVisibilityState"}],isSupported=hasDocument&&!!document.addEventListener,visibility=function(){if(!isSupported)return null;var ts=!0,rs=!1,ns=void 0;try{for(var os=vendorEvents[Symbol.iterator](),ss;!(ts=(ss=os.next()).done);ts=!0){var as=ss.value;if(as.hidden in document)return as}}catch(ls){rs=!0,ns=ls}finally{try{!ts&&os.return&&os.return()}finally{if(rs)throw ns}}return null}(),getHandlerArgs=function(){if(!visibility)return[!0,"visible"];var rs=visibility.hidden,ns=visibility.state;return[!document[rs],document[ns]]},_slicedToArray=function(){function ts(rs,ns){var os=[],ss=!0,as=!1,ls=void 0;try{for(var cs=rs[Symbol.iterator](),us;!(ss=(us=cs.next()).done)&&(os.push(us.value),!(ns&&os.length===ns));ss=!0);}catch(ds){as=!0,ls=ds}finally{try{!ss&&cs.return&&cs.return()}finally{if(as)throw ls}}return os}return function(rs,ns){if(Array.isArray(rs))return rs;if(Symbol.iterator in Object(rs))return ts(rs,ns);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),isSupportedLocal=isSupported&&visibility,usePageVisibility=function(){var rs=getHandlerArgs(),ns=_slicedToArray(rs,1),os=ns[0],ss=reactExports.useState(os),as=_slicedToArray(ss,2),ls=as[0],cs=as[1];return reactExports.useEffect(function(){if(isSupportedLocal){var us=function(){var ps=getHandlerArgs(),fs=_slicedToArray(ps,1),hs=fs[0];cs(hs)};return document.addEventListener(visibility.event,us),function(){document.removeEventListener(visibility.event,us)}}},[]),ls};const usePageVisibility$1=usePageVisibility;var FmdBadOutlined={},_interopRequireDefault$w=interopRequireDefaultExports;Object.defineProperty(FmdBadOutlined,"__esModule",{value:!0});var default_1$v=FmdBadOutlined.default=void 0,_createSvgIcon$v=_interopRequireDefault$w(requireCreateSvgIcon()),_jsxRuntime$v=jsxRuntimeExports;default_1$v=FmdBadOutlined.default=(0,_createSvgIcon$v.default)([(0,_jsxRuntime$v.jsx)("path",{d:"M12 2c-4.2 0-8 3.22-8 8.2 0 3.32 2.67 7.25 8 11.8 5.33-4.55 8-8.48 8-11.8C20 5.22 16.2 2 12 2m0 17.33c-4.05-3.7-6-6.79-6-9.14C6 6.57 8.65 4 12 4s6 2.57 6 6.2c0 2.34-1.95 5.44-6 9.13"},"0"),(0,_jsxRuntime$v.jsx)("path",{d:"M11 6h2v5h-2zm0 7h2v2h-2z"},"1")],"FmdBadOutlined");var ArrowDropDownCircleOutlined={},_interopRequireDefault$v=interopRequireDefaultExports;Object.defineProperty(ArrowDropDownCircleOutlined,"__esModule",{value:!0});var default_1$u=ArrowDropDownCircleOutlined.default=void 0,_createSvgIcon$u=_interopRequireDefault$v(requireCreateSvgIcon()),_jsxRuntime$u=jsxRuntimeExports;default_1$u=ArrowDropDownCircleOutlined.default=(0,_createSvgIcon$u.default)((0,_jsxRuntime$u.jsx)("path",{d:"M12 4c4.41 0 8 3.59 8 8s-3.59 8-8 8-8-3.59-8-8 3.59-8 8-8m0-2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 13-4-4h8z"}),"ArrowDropDownCircleOutlined");var AccountCircleOutlined={},_interopRequireDefault$u=interopRequireDefaultExports;Object.defineProperty(AccountCircleOutlined,"__esModule",{value:!0});var default_1$t=AccountCircleOutlined.default=void 0,_createSvgIcon$t=_interopRequireDefault$u(requireCreateSvgIcon()),_jsxRuntime$t=jsxRuntimeExports;default_1$t=AccountCircleOutlined.default=(0,_createSvgIcon$t.default)([(0,_jsxRuntime$t.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2M7.35 18.5C8.66 17.56 10.26 17 12 17s3.34.56 4.65 1.5c-1.31.94-2.91 1.5-4.65 1.5s-3.34-.56-4.65-1.5m10.79-1.38C16.45 15.8 14.32 15 12 15s-4.45.8-6.14 2.12C4.7 15.73 4 13.95 4 12c0-4.42 3.58-8 8-8s8 3.58 8 8c0 1.95-.7 3.73-1.86 5.12"},"0"),(0,_jsxRuntime$t.jsx)("path",{d:"M12 6c-1.93 0-3.5 1.57-3.5 3.5S10.07 13 12 13s3.5-1.57 3.5-3.5S13.93 6 12 6m0 5c-.83 0-1.5-.67-1.5-1.5S11.17 8 12 8s1.5.67 1.5 1.5S12.83 11 12 11"},"1")],"AccountCircleOutlined");var AssignmentTurnedInOutlined={},_interopRequireDefault$t=interopRequireDefaultExports;Object.defineProperty(AssignmentTurnedInOutlined,"__esModule",{value:!0});var default_1$s=AssignmentTurnedInOutlined.default=void 0,_createSvgIcon$s=_interopRequireDefault$t(requireCreateSvgIcon()),_jsxRuntime$s=jsxRuntimeExports;default_1$s=AssignmentTurnedInOutlined.default=(0,_createSvgIcon$s.default)((0,_jsxRuntime$s.jsx)("path",{d:"m18 9-1.41-1.42L10 14.17l-2.59-2.58L6 13l4 4zm1-6h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-.14 0-.27.01-.4.04-.39.08-.74.28-1.01.55-.18.18-.33.4-.43.64-.1.23-.16.49-.16.77v14c0 .27.06.54.16.78s.25.45.43.64c.27.27.62.47 1.01.55.13.02.26.03.4.03h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-7-.25c.41 0 .75.34.75.75s-.34.75-.75.75-.75-.34-.75-.75.34-.75.75-.75M19 19H5V5h14z"}),"AssignmentTurnedInOutlined");var BadgeOutlined={},_interopRequireDefault$s=interopRequireDefaultExports;Object.defineProperty(BadgeOutlined,"__esModule",{value:!0});var default_1$r=BadgeOutlined.default=void 0,_createSvgIcon$r=_interopRequireDefault$s(requireCreateSvgIcon()),_jsxRuntime$r=jsxRuntimeExports;default_1$r=BadgeOutlined.default=(0,_createSvgIcon$r.default)([(0,_jsxRuntime$r.jsx)("path",{d:"M14 12h4v1.5h-4zm0 3h4v1.5h-4z"},"0"),(0,_jsxRuntime$r.jsx)("path",{d:"M20 7h-5V4c0-1.1-.9-2-2-2h-2c-1.1 0-2 .9-2 2v3H4c-1.1 0-2 .9-2 2v11c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2m-9 0V4h2v5h-2zm9 13H4V9h5c0 1.1.9 2 2 2h2c1.1 0 2-.9 2-2h5z"},"1"),(0,_jsxRuntime$r.jsx)("circle",{cx:"9",cy:"13.5",r:"1.5"},"2"),(0,_jsxRuntime$r.jsx)("path",{d:"M11.08 16.18c-.64-.28-1.34-.43-2.08-.43s-1.44.15-2.08.43c-.56.24-.92.78-.92 1.39V18h6v-.43c0-.61-.36-1.15-.92-1.39"},"3")],"BadgeOutlined");var ChatOutlined={},_interopRequireDefault$r=interopRequireDefaultExports;Object.defineProperty(ChatOutlined,"__esModule",{value:!0});var default_1$q=ChatOutlined.default=void 0,_createSvgIcon$q=_interopRequireDefault$r(requireCreateSvgIcon()),_jsxRuntime$q=jsxRuntimeExports;default_1$q=ChatOutlined.default=(0,_createSvgIcon$q.default)((0,_jsxRuntime$q.jsx)("path",{d:"M4 4h16v12H5.17L4 17.17zm0-2c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm2 10h8v2H6zm0-3h12v2H6zm0-3h12v2H6z"}),"ChatOutlined");var EditNote={},_interopRequireDefault$q=interopRequireDefaultExports;Object.defineProperty(EditNote,"__esModule",{value:!0});var default_1$p=EditNote.default=void 0,_createSvgIcon$p=_interopRequireDefault$q(requireCreateSvgIcon()),_jsxRuntime$p=jsxRuntimeExports;default_1$p=EditNote.default=(0,_createSvgIcon$p.default)((0,_jsxRuntime$p.jsx)("path",{d:"M3 10h11v2H3zm0-2h11V6H3zm0 8h7v-2H3zm15.01-3.13.71-.71c.39-.39 1.02-.39 1.41 0l.71.71c.39.39.39 1.02 0 1.41l-.71.71zm-.71.71-5.3 5.3V21h2.12l5.3-5.3z"}),"EditNote");var HealthAndSafetyOutlined={},_interopRequireDefault$p=interopRequireDefaultExports;Object.defineProperty(HealthAndSafetyOutlined,"__esModule",{value:!0});var default_1$o=HealthAndSafetyOutlined.default=void 0,_createSvgIcon$o=_interopRequireDefault$p(requireCreateSvgIcon()),_jsxRuntime$o=jsxRuntimeExports;default_1$o=HealthAndSafetyOutlined.default=(0,_createSvgIcon$o.default)((0,_jsxRuntime$o.jsx)("path",{d:"M10.5 13H8v-3h2.5V7.5h3V10H16v3h-2.5v2.5h-3zM12 2 4 5v6.09c0 5.05 3.41 9.76 8 10.91 4.59-1.15 8-5.86 8-10.91V5zm6 9.09c0 4-2.55 7.7-6 8.83-3.45-1.13-6-4.82-6-8.83v-4.7l6-2.25 6 2.25z"}),"HealthAndSafetyOutlined");var InfoOutlined={},_interopRequireDefault$o=interopRequireDefaultExports;Object.defineProperty(InfoOutlined,"__esModule",{value:!0});var default_1$n=InfoOutlined.default=void 0,_createSvgIcon$n=_interopRequireDefault$o(requireCreateSvgIcon()),_jsxRuntime$n=jsxRuntimeExports;default_1$n=InfoOutlined.default=(0,_createSvgIcon$n.default)((0,_jsxRuntime$n.jsx)("path",{d:"M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8"}),"InfoOutlined");var PriorityHighRounded={},_interopRequireDefault$n=interopRequireDefaultExports;Object.defineProperty(PriorityHighRounded,"__esModule",{value:!0});var default_1$m=PriorityHighRounded.default=void 0,_createSvgIcon$m=_interopRequireDefault$n(requireCreateSvgIcon()),_jsxRuntime$m=jsxRuntimeExports;default_1$m=PriorityHighRounded.default=(0,_createSvgIcon$m.default)([(0,_jsxRuntime$m.jsx)("circle",{cx:"12",cy:"19",r:"2"},"0"),(0,_jsxRuntime$m.jsx)("path",{d:"M12 3c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2s2-.9 2-2V5c0-1.1-.9-2-2-2"},"1")],"PriorityHighRounded");var RememberMeOutlined={},_interopRequireDefault$m=interopRequireDefaultExports;Object.defineProperty(RememberMeOutlined,"__esModule",{value:!0});var default_1$l=RememberMeOutlined.default=void 0,_createSvgIcon$l=_interopRequireDefault$m(requireCreateSvgIcon()),_jsxRuntime$l=jsxRuntimeExports;default_1$l=RememberMeOutlined.default=(0,_createSvgIcon$l.default)([(0,_jsxRuntime$l.jsx)("path",{d:"M17 1H7c-1.1 0-2 .9-2 2v18c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2m0 20H7v-1h10zm0-3H7v-.48c1.47-.99 3.22-1.52 5-1.52s3.53.53 5 1.52zm0-2.79c-1.5-.77-3.2-1.21-5-1.21s-3.5.44-5 1.21V6h10zM17 4H7V3h10z"},"0"),(0,_jsxRuntime$l.jsx)("path",{d:"M12 13c1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3 1.34 3 3 3m0-4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1"},"1")],"RememberMeOutlined");var PriorityHigh={},_interopRequireDefault$l=interopRequireDefaultExports;Object.defineProperty(PriorityHigh,"__esModule",{value:!0});var default_1$k=PriorityHigh.default=void 0,_createSvgIcon$k=_interopRequireDefault$l(requireCreateSvgIcon()),_jsxRuntime$k=jsxRuntimeExports;default_1$k=PriorityHigh.default=(0,_createSvgIcon$k.default)([(0,_jsxRuntime$k.jsx)("circle",{cx:"12",cy:"19",r:"2"},"0"),(0,_jsxRuntime$k.jsx)("path",{d:"M10 3h4v12h-4z"},"1")],"PriorityHigh");const PriorityIconWithBorder=({fill:ts})=>jsxRuntimeExports.jsx(Box$1,{style:{display:"flex",justifyContent:"center",alignItems:"center",position:"relative",border:"1.25px solid ".concat(ts),height:"10px",width:"10px",transform:"rotate(45deg)",marginLeft:"6px",borderRadius:"1px"},children:jsxRuntimeExports.jsx(default_1$k,{style:{position:"absolute",height:"8px",color:ts,transform:"rotate(315deg)"}})});var Send={},_interopRequireDefault$k=interopRequireDefaultExports;Object.defineProperty(Send,"__esModule",{value:!0});var default_1$j=Send.default=void 0,_createSvgIcon$j=_interopRequireDefault$k(requireCreateSvgIcon()),_jsxRuntime$j=jsxRuntimeExports;default_1$j=Send.default=(0,_createSvgIcon$j.default)((0,_jsxRuntime$j.jsx)("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"}),"Send");const useMessagingClient=()=>{const{isAuthenticated:ts,getAccessTokenSilently:rs}=useAuth0(),ns=reactExports.useCallback(async os=>{const ss=await rs(),as={accept:"application/json","content-type":"application/json",Authorization:"Bearer ".concat(ss)};return(await fetch("https://project-api.zapehr.com/v1/messaging/transactional-sms/send",{method:"POST",headers:as,body:JSON.stringify(os)})).json()},[rs]);return reactExports.useMemo(()=>{if(ts)return{sendSMS:ns}},[ts,ns])},useFetchChatMessagesQuery=(ts,rs,ns)=>{const{zambdaClient:os}=useApiClients();return useQuery(["chat-messages",rs,ts],async()=>await getConversation(os,{smsNumbers:rs,timezone:ts}),{onSuccess:ns,enabled:!!(os&&(rs!=null&&rs.length)&&ts)})},useSendMessagesMutation=(ts,rs,ns,os)=>{const ss=useMessagingClient();return useMutation(["chat-messages"],async as=>{if(ss===void 0)throw new Error("Message send failed. MessagingClientUndefined");const ls=ts.map(ds=>ss==null?void 0:ss.sendSMS({message:rs,resource:"RelatedPerson/".concat(ds.relatedPersonId),phoneNumber:ds.smsNumber})),cs=await Promise.allSettled(ls),us=cs.find(ds=>ds.status==="fulfilled");if(us){const ds=us.value;return{...as,resolvedId:ds.resourceId,id:ds.resourceId}}else{const ds=cs.find(ps=>ps.status==="rejected");throw ds?new Error("Message send failed: ".concat(ds.reason)):new Error("Message send failed.")}},{onSuccess:ns,onError:os})};function scrollToBottomOfChat(){setTimeout(()=>{const ts=document.getElementById("message-container");ts&&(ts.scrollTop=ts==null?void 0:ts.scrollHeight)},0)}const makePendingSentMessage=(ts,rs,ns)=>{const os="pending_sent_message_".concat(Math.round(Math.random()*100)),ss=DateTime.now().setZone(rs),as=ss.toLocaleString({day:"numeric",month:"numeric",year:"2-digit"},{locale:"en-us"}),ls=ss.toLocaleString({timeStyle:"short"},{locale:"en-us"});return{id:os,sender:ns.userName,sentDay:as,sentTime:ls,content:ts,isRead:!0,resolvedId:void 0,isFromPatient:!1}},ChatModal=reactExports.memo(({appointment:ts,currentLocation:rs,onClose:ns,onMarkAllRead:os})=>{var Ps,Ls,Ns;const ss=useTheme$1(),{fhirClient:as}=useApiClients(),ls=useOttehrUser(),[cs,us]=reactExports.useState([]),[ds,ps]=reactExports.useState(""),[fs,hs]=reactExports.useState(!1),[ms,gs]=reactExports.useState(),vs=ts==null?void 0:ts.smsModel,bs=reactExports.useMemo(()=>{var Gs,Us,Hs;return(Hs=(Us=(Gs=rs==null?void 0:rs.extension)==null?void 0:Gs.find(zs=>zs.url===TIMEZONE_EXTENSION_URL))==null?void 0:Us.valueString)!=null?Hs:"America/New_York"},[rs]),xs=getPatientParticipantFromAppointment(ts),ys=reactExports.useMemo(()=>{var Hs;const Gs=((Hs=vs==null?void 0:vs.recipients)!=null?Hs:[]).map(zs=>zs.smsNumber),Us=Array.from(new Set(Gs));if(Us.length!==0)return Us.length>1&&console.log("multiple numbers associated with this patient; using first"),Us},[vs==null?void 0:vs.recipients]),Ss=useSendMessagesMutation((vs==null?void 0:vs.recipients)||[],ds,Gs=>{if(Gs)gs(Gs),ps(""),$s({throwOnError:!0});else throw new Error("send message failed - no id returned")},Gs=>{console.error("send message failure: ",Gs),gs(void 0)}),{isFetching:Cs,refetch:$s}=useFetchChatMessagesQuery(bs,ys,Gs=>{us(Gs),gs(void 0)}),[Es]=reactExports.useMemo(()=>{const Gs=ms?[ms]:[];return[[...cs,...Gs]]},[cs,ms]),ws=reactExports.useMemo(()=>{var Gs;return(Gs=Es.find(Us=>!Us.isRead))==null?void 0:Gs.id},[Es]);reactExports.useEffect(()=>{Es.length&&scrollToBottomOfChat()},[Es]);const Ts=(Ps=ts==null?void 0:ts.smsModel)==null?void 0:Ps.hasUnreadMessages,Is=async()=>{if(ls&&as&&Ts)try{await markAllMessagesRead({chat:Es,user:ls,fhirClient:as}),us(Es.map(Gs=>({...Gs,isRead:!0}))),os()}catch(Gs){console.error("failed to mark messages as read: ",Gs)}},Rs=async(Gs,Us)=>{if(Gs.preventDefault(),Us.trim()==="")return;if(!ls)throw new Error("Message send failed. Current user is not defined");const Hs=makePendingSentMessage(Us,bs,ls);gs(Hs),await Ss.mutateAsync(Hs),Is()},As={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",maxWidth:"sm",bgcolor:"background.paper",boxShadow:24,borderRadius:"4px",p:"8px 16px"},ks=localStorage.getItem("selectedLocation");let Ms;if(ks){const Gs=JSON.parse(ks);Ms=(Ns=(Ls=Gs==null?void 0:Gs.telecom)==null?void 0:Ls.find(Us=>Us.system==="phone"))==null?void 0:Ns.value,Ms=standardizePhoneNumber(Ms)}const Os="http://localhost:3002",Ds=["Please complete the paperwork and sign consent forms to avoid a delay in check-in. For ".concat(xs==null?void 0:xs.firstName,", click here: ").concat(Os,"/visit/").concat(xs==null?void 0:xs.appointmentId),"We are now ready to check you in. Please head to the front desk to complete the process.","We are ready for the patient to be seen, please enter the facility.","Ottehr is trying to get ahold of you. Please call us at ".concat(Ms," or respond to this text message.")],Fs=Gs=>{ps(Gs),hs(!1)},js=()=>{Is(),ns()};return jsxRuntimeExports.jsx(Dialog$1,{open:!0,onClose:js,"aria-labelledby":"modal-title","aria-describedby":"modal-description",maxWidth:"md",fullWidth:!0,children:jsxRuntimeExports.jsxs("form",{children:[jsxRuntimeExports.jsxs(Grid$1,{container:!0,children:[jsxRuntimeExports.jsxs(Grid$1,{item:!0,xs:12,sx:{margin:"24px 24px 16px 24px"},children:[jsxRuntimeExports.jsxs(Typography$1,{id:"modal-title",variant:"h4",sx:{fontWeight:600,color:ss.palette.primary.dark},children:["Chat with ",xs==null?void 0:xs.name]}),jsxRuntimeExports.jsx(Typography$1,{id:"modal-description",variant:"h5",sx:{fontWeight:600,color:ss.palette.primary.dark},children:ys?ys.join(","):""}),jsxRuntimeExports.jsx(IconButton$2,{"aria-label":"Close",onClick:js,sx:{position:"absolute",right:16,top:16},children:jsxRuntimeExports.jsx(Close$1,{})})]}),jsxRuntimeExports.jsx(Grid$1,{item:!0,xs:12,children:jsxRuntimeExports.jsx(Divider$1,{})})]}),jsxRuntimeExports.jsx(Grid$1,{container:!0,id:"message-container",sx:{height:"400px",overflowY:"scroll",padding:"24px 32px 16px 24px"},children:ms===void 0&&Cs?jsxRuntimeExports.jsx(Grid$1,{item:!0,xs:12,sx:{height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:jsxRuntimeExports.jsx(CircularProgress$1,{})}):Es.map(Gs=>{var zs;const Us=(zs=Gs.resolvedId)!=null?zs:Gs.id,Hs=Gs.id===(ms==null?void 0:ms.id)||Gs.id===(ms==null?void 0:ms.resolvedId);return jsxRuntimeExports.jsx(MessageBody,{isPending:Hs,contentKey:Us,message:Gs,hasNewMessageLine:ws!==void 0&&Gs.id===ws,showDaySent:!0},Gs.id)})}),jsxRuntimeExports.jsx(Divider$1,{}),jsxRuntimeExports.jsxs(Grid$1,{container:!0,sx:{margin:"16px 0 16px 24px"},children:[jsxRuntimeExports.jsx(Grid$1,{item:!0,xs:8.35,children:jsxRuntimeExports.jsx(TextField$1,{id:"patient-message",label:"Message to the patient",value:ds,onPaste:Gs=>Gs.preventDefault(),disabled:ms!==void 0,autoComplete:"off",onChange:Gs=>ps(Gs.target.value),onKeyDown:async Gs=>{Gs.key==="Enter"&&!Gs.shiftKey&&await Rs(Gs,ds)},fullWidth:!0,multiline:!0})}),jsxRuntimeExports.jsxs(Grid$1,{item:!0,xs:3,sx:{alignSelf:"center",textAlign:"center",display:"flex"},children:[jsxRuntimeExports.jsx(LoadingButton$1,{sx:{marginX:1,borderRadius:"100px",textTransform:"none",fontWeight:700},variant:"outlined",onClick:()=>hs(!0),disabled:ms!==void 0,children:"Quick text"}),jsxRuntimeExports.jsx(LoadingButton$1,{sx:{background:ss.palette.primary.main,borderRadius:"100px",textTransform:"none"},variant:"contained",startIcon:jsxRuntimeExports.jsx(default_1$j,{}),onClick:Gs=>Rs(Gs,ds),loading:ms!==void 0,type:"submit",children:"Send"})]})]}),jsxRuntimeExports.jsx(Modal$1,{open:fs,onClose:()=>{hs(!1)},children:jsxRuntimeExports.jsxs(Grid$1,{container:!0,sx:As,children:[jsxRuntimeExports.jsxs(Grid$1,{item:!0,sx:{marginTop:"6px"},children:[jsxRuntimeExports.jsx(Typography$1,{variant:"h6",sx:{fontWeight:"600 !important",color:ss.palette.primary.main,marginBottom:"4px"},children:"Quick texts"}),jsxRuntimeExports.jsx(Typography$1,{variant:"body2",children:"Select the text to populate the message to the patient"})]}),jsxRuntimeExports.jsx(Grid$1,{item:!0,children:jsxRuntimeExports.jsx(List$2,{sx:{padding:0},children:Ds.map(Gs=>jsxRuntimeExports.jsx(ListItem$1,{sx:{padding:1,my:"12px",backgroundColor:"rgba(77, 21, 183, 0.04)",cursor:"pointer"},onClick:()=>Fs(Gs),children:jsxRuntimeExports.jsx(Typography$1,{variant:"body1",id:Gs,children:Gs})},"".concat(Gs)))})})]})})]})})}),MessageBody=ts=>{const{isPending:rs,message:ns,contentKey:os,hasNewMessageLine:ss,showDaySent:as}=ts,ls=useTheme$1(),cs=reactExports.useMemo(()=>initialsFromName(ns.sender),[ns.sender]);return jsxRuntimeExports.jsxs(Grid$1,{container:!0,item:!0,spacing:3,sx:{opacity:rs?"0.5":"1.0"},children:[ss&&jsxRuntimeExports.jsx(Grid$1,{item:!0,xs:12,children:jsxRuntimeExports.jsx(Divider$1,{sx:{"&::before, &::after":{borderTop:"thin solid ".concat(ls.palette.warning.main)},color:ls.palette.warning.main},children:"New messages"})}),jsxRuntimeExports.jsxs(Grid$1,{item:!0,container:!0,display:"table-row-group",xs:12,spacing:0,children:[as&&jsxRuntimeExports.jsx(Grid$1,{item:!0,xs:12,sx:{paddingBottom:"0px"},children:jsxRuntimeExports.jsx(Typography$1,{variant:"body1",color:"rgb(0, 0, 0, 0.7)",textAlign:"center",sx:{paddingTop:"40px"},children:"".concat(ns.sentDay," ").concat(ns.sentTime)})}),jsxRuntimeExports.jsxs(Grid$1,{item:!0,xs:12,display:"table-row",spacing:1,sx:{opacity:rs?"0.5":"1.0",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-start"},children:[jsxRuntimeExports.jsx(Avatar$1,{sx:{backgroundColor:ns.isFromPatient?ls.palette.secondary.main:ls.palette.primary.main,fontSize:cs.length>3?"12px":"16px",marginInlineEnd:"8px"},children:cs}),jsxRuntimeExports.jsx(Typography$1,{variant:"body1",color:"primary.dark",fontWeight:600,children:ns.sender})]}),jsxRuntimeExports.jsxs(Grid$1,{item:!0,container:!0,display:"table-row",xs:12,sx:{opacity:rs?"0.5":"1.0",padding:"2px",paddingTop:"8px",display:"flex",flexDirection:"row",alignItems:"flex-start",justifyContent:"space-between"},children:[jsxRuntimeExports.jsx(Grid$1,{item:!0,xs:11,children:jsxRuntimeExports.jsx(Typography$1,{variant:"body1",sx:{whiteSpace:"pre-line",paddingBottom:"20px"},children:ns.content})}),jsxRuntimeExports.jsx(Grid$1,{item:!0,xs:1})]})]})]},os)},getPatientParticipantFromAppointment=ts=>{if(!ts.patient)return;const rs=ts.patient.firstName||"",ns=ts.patient.lastName||"",os="".concat((rs==null?void 0:rs.charAt(0))||""," ").concat((ns==null?void 0:ns.charAt(0))||""),ss="".concat(rs," ").concat(ns);return{firstName:rs,name:ss,initials:os,appointmentId:ts.id}};function flagDateOfBirth(ts){const rs=DateTime.now(),ns=DateTime.fromISO(ts),os=rs.diff(ns,"days").days;return os>=0&&os<=90}const getStatiForVisitTimeCalculation=(ts,rs)=>ts==null?void 0:ts.filter(ns=>ns.label!=="pending"&&ns.label!=="ready for discharge"||ns.period.end&&DateTime.fromISO(ns.period.end).diff(DateTime.fromISO(rs),"minutes").minutes>=0),getDurationOfStatus=(ts,rs,ns,os)=>{var ss;if(!rs.start)return 0;if(ts.label==="pending"){if(ts.period.end)return DateTime.fromISO(ts.period.end).diff(DateTime.fromISO(rs.start),"minutes").minutes;if(ts.period.start)return os.diff(DateTime.fromISO(rs.start),"minutes").minutes}if(ts.period.start&&ts.period.end)return DateTime.fromISO(ts.period.end).diff(DateTime.fromISO(ts.period.start),"minutes").minutes;if(ts.period.start)if(["canceled","no show","checked out"].includes(ts.label)){const ls=ns.length-2,cs=ns[ls];return cs===void 0?0:DateTime.fromISO(ts.period.start).diff(DateTime.fromISO((ss=cs.period.end)!=null?ss:""),"minutes").minutes}else return os.diff(DateTime.fromISO(ts.period.start),"minutes").minutes;else return 0},getVisitTotalTime=(ts,rs,ns)=>ts.start?getStatiForVisitTimeCalculation(rs,ts.start).reduce((os,ss)=>os+getDurationOfStatus(ss,ts,rs,ns),0):0,formatMinutes=ts=>ts.toLocaleString("en",{maximumFractionDigits:0});var DoneOutlined={},_interopRequireDefault$j=interopRequireDefaultExports;Object.defineProperty(DoneOutlined,"__esModule",{value:!0});var default_1$i=DoneOutlined.default=void 0,_createSvgIcon$i=_interopRequireDefault$j(requireCreateSvgIcon()),_jsxRuntime$i=jsxRuntimeExports;default_1$i=DoneOutlined.default=(0,_createSvgIcon$i.default)((0,_jsxRuntime$i.jsx)("path",{d:"M9 16.2 4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4z"}),"DoneOutlined");function CustomChip({label:ts,type:rs,additionalSx:ns,completed:os,fill:ss}){const as=useTheme$1();return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:(()=>{switch(rs){case"status bullet":return jsxRuntimeExports.jsx(Box$1,{sx:{display:"flex",alignItems:"center",mr:"8px"},children:jsxRuntimeExports.jsx(Box$1,{sx:{borderRadius:"100px",height:"10px",width:"10px",backgroundColor:ss}})});case"document":return jsxRuntimeExports.jsxs(Typography$1,{variant:"body2",sx:{backgroundColor:os?ss:"#E6E8EE",px:"8px",color:os?as.palette.primary.contrastText:as.palette.text.disabled,borderRadius:"4px",display:"inline-flex",alignItems:"center",...ns},children:[jsxRuntimeExports.jsx(default_1$i,{sx:{width:"12px",height:"12px"}}),"Â ",ts]})}})()})}const GenericToolTip=styled$4(({className:ts,customWidth:rs,...ns})=>jsxRuntimeExports.jsx(Tooltip$1,{enterTouchDelay:0,placement:"top-end",...ns,classes:{popper:ts},slotProps:{tooltip:{sx:{maxWidth:rs||150,backgroundColor:"#F9FAFB",color:"#000000",border:"1px solid #dadde9"}}}}))(({theme:ts})=>({["& .".concat(tooltipClasses$1.tooltip)]:{boxShadow:ts.shadows[1],fontSize:ts.typography.pxToRem(12)}})),PaperworkToolTipContent=({appointment:ts,isOvrpReason:rs,ageIsGoodForOVRP:ns})=>jsxRuntimeExports.jsxs(Box$1,{sx:{margin:2,display:"flex",flexDirection:"column",gap:1},children:[jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",gap:1},children:[jsxRuntimeExports.jsx(default_1$t,{sx:{marginRight:.75,color:ts.paperwork.demographics?"#43A047":"#BFC2C6"},fill:otherColors.cardChip}),jsxRuntimeExports.jsx(Typography$1,{sx:ts.paperwork.demographics?{}:{color:"#78909C"},children:"Demographics"})]}),jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",gap:1},children:[jsxRuntimeExports.jsx(default_1$o,{sx:{marginRight:.75,color:ts.paperwork.insuranceCard?"#43A047":"#BFC2C6"},fill:otherColors.cardChip}),jsxRuntimeExports.jsx(Typography$1,{sx:ts.paperwork.insuranceCard?{}:{color:"#78909C"},children:"INS Card"})]}),jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",gap:1},children:[jsxRuntimeExports.jsx(default_1$r,{sx:{marginRight:.75,color:ts.paperwork.photoID?"#43A047":"#BFC2C6"},fill:otherColors.cardChip}),jsxRuntimeExports.jsx(Typography$1,{sx:ts.paperwork.photoID?{}:{color:"#78909C"},children:"ID"})]}),jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",gap:1},children:[jsxRuntimeExports.jsx(default_1$s,{sx:{marginRight:.75,color:ts.paperwork.consent?"#43A047":"#BFC2C6"},fill:otherColors.cardChip}),jsxRuntimeExports.jsx(Typography$1,{sx:ts.paperwork.consent?{}:{color:"#78909C"},children:"Consent"})]}),jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",gap:1},children:[jsxRuntimeExports.jsx(default_1$l,{sx:{marginRight:.75,color:ns&&rs&&ts.paperwork.ovrpInterest?"#43A047":"#BFC2C6"},fill:otherColors.cardChip}),jsxRuntimeExports.jsx(Typography$1,{sx:ns&&rs&&ts.paperwork.ovrpInterest?{}:{color:"#78909C"},children:"OVRP Candidate"})]}),jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",gap:1,alignItems:"center"},children:[jsxRuntimeExports.jsx(Typography$1,{variant:"subtitle2",sx:{fontSize:"24px",marginLeft:"27px",color:ts.paperwork.ovrpInterest?"#43A047":"#BFC2C6"},children:"+"}),jsxRuntimeExports.jsx(Typography$1,{sx:ts.paperwork.ovrpInterest?{}:{color:"#78909C"},children:"Parent response"})]}),jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",gap:1,alignItems:"center"},children:[jsxRuntimeExports.jsx(Typography$1,{variant:"subtitle2",sx:{fontSize:"24px",marginLeft:"27px",color:ns&&rs?"#43A047":"#BFC2C6"},children:"+"}),jsxRuntimeExports.jsx(Typography$1,{sx:ns&&rs?{}:{color:"#78909C"},children:"Patient qualification"})]})]}),FLAGGED_REASONS_FOR_VISIT=["Breathing problem","Injury to head or fall on head","Choked or swallowed something","Allergic reaction"];function getAppointmentStatusChip$1(ts,rs){return ts?CHIP_STATUS_MAP[ts]?jsxRuntimeExports.jsx(Chip$1,{size:"small",label:rs?"".concat(ts," - ").concat(rs):ts,sx:{borderRadius:"4px",textTransform:"uppercase",background:CHIP_STATUS_MAP[ts].background.primary,color:CHIP_STATUS_MAP[ts].color.primary},variant:"outlined"}):jsxRuntimeExports.jsx("span",{children:"todo2"}):jsxRuntimeExports.jsx("span",{children:"todo1"})}const CHIP_STATUS_MAP={pending:{background:{primary:"#FFFFFF"},color:{primary:"#555555"}},arrived:{background:{primary:"#EEEEE",secondary:"#444444"},color:{primary:"#444444"}},ready:{background:{primary:"#CEF9BA",secondary:"#43A047"},color:{primary:"#446F30"}},intake:{background:{primary:"#fddef0"},color:{primary:"#684e5d"}},"provider-ready":{background:{primary:"#EEEEEE",secondary:"#444444"},color:{primary:"#444444"}},provider:{background:{primary:"#FDFCB7"},color:{primary:"#6F6D1A"}},discharge:{background:{primary:"#B2EBF2"},color:{primary:"#006064"}},"checked-out":{background:{primary:"#FFFFFF"},color:{primary:"#555555"}},cancelled:{background:{primary:"#FECDD2"},color:{primary:"#B71C1C"}},"no-show":{background:{primary:"#DFE5E9"},color:{primary:"#212121"}},unknown:{background:{primary:"#FFFFFF"},color:{primary:"#000000"}}},linkStyle={display:"contents",color:otherColors.tableRow},longWaitTimeFlag=(ts,rs)=>(ts.status==="ready for provider"||ts.status==="intake"||ts.status==="ready"&&ts.appointmentType!=="now")&&rs>45;function AppointmentTableRow({appointment:ts,location:rs,actionButtons:ns,showTime:os,now:ss,tab:as,updateAppointments:ls,setEditingComment:cs}){var Vs,Ks,Ws,Pl;const{fhirClient:us}=useApiClients(),ds=useTheme$1(),[ps,fs]=reactExports.useState(!1),[hs,ms]=reactExports.useState(ts.comment||""),[gs,vs]=reactExports.useState(""),[bs,xs]=reactExports.useState(!1),[ys,Ss]=reactExports.useState(!1),[Cs,$s]=reactExports.useState(!1),[Es,ws]=reactExports.useState(((Vs=ts.smsModel)==null?void 0:Vs.hasUnreadMessages)||!1),Ts=useOttehrUser(),Is="".concat(ts.patient.lastName,", ").concat(ts.patient.firstName)||"Unknown";let Rs;if(ts.start){const Tl=getTimezone(rs);Rs=DateTime.fromISO(ts.start).setZone(Tl).toFormat("h:mm a")}const ks=["throat pain","rash or skin issue","urinary problem","eye concern","vomiting and/or diarrhea"].some(Tl=>ts.reasonForVisit.toLocaleLowerCase().includes(Tl)),Ms=DateTime.now().diff(DateTime.fromISO(ts.needsDOBConfirmation?ts.unconfirmedDOB:(Ks=ts.patient)==null?void 0:Ks.dateOfBirth),"years").years>=3,Os=ts.smsModel!==void 0,Ds=async Tl=>{if(!us)throw new Error("error getting fhir client");if(!ts.id)throw new Error("error getting appointment id");try{xs(!0);let El;const $l=[];hs!==""?(El=ts.comment?"replace":"add",$l.push({op:El,path:"/comment",value:hs})):(El="remove",$l.push({op:El,path:"/comment"}));const Sl=await us.readResource({resourceType:"Appointment",resourceId:ts.id}),Ml=getUpdateTagOperation(Sl,"comment",Ts);$l.push(Ml),await us.patchResource({resourceType:"Appointment",resourceId:ts.id,operations:$l})}catch(El){console.log("error adding comment: ",El),ms(ts.comment||"")}xs(!1),fs(!1),cs(!1),await ls()};reactExports.useEffect(()=>{ms(ts.comment||"")},[ts]),reactExports.useEffect(()=>{var Tl;ws(((Tl=ts.smsModel)==null?void 0:Tl.hasUnreadMessages)||!1)},[(Ws=ts.smsModel)==null?void 0:Ws.hasUnreadMessages]);const Fs=async Tl=>{if(!us)throw new Error("error getting fhir client");if(!ts.id)throw new Error("error getting appointment id");Ss(!0),await checkinPatient(us,ts.id),Ss(!1),await ls()},js=ts==null?void 0:ts.visitStatusHistory[ts.visitStatusHistory.length-1],{totalMinutes:Ps}=reactExports.useMemo(()=>({totalMinutes:getVisitTotalTime(ts,ts.visitStatusHistory,ss)}),[ts,ss]);if(js&&js.period){const Tl=getDurationOfStatus(js,ts,ts.visitStatusHistory,ss);let El=as===ApptTab$1.cancelled||as===ApptTab$1.completed||js.label==="ready for discharge"?"".concat(formatMinutes(Ps),"m"):"".concat(formatMinutes(Tl),"m");as!==ApptTab$1.cancelled&&as!==ApptTab$1.completed&&El!=="".concat(formatMinutes(Ps),"m")&&js.label!=="ready for discharge"&&ts.visitStatusHistory&&(ts==null?void 0:ts.visitStatusHistory.length)>1&&(El+=" / ".concat(formatMinutes(Ps),"m")),El!==gs&&vs(El)}const Ls=flagDateOfBirth(ts.needsDOBConfirmation?ts.unconfirmedDOB:(Pl=ts.patient)==null?void 0:Pl.dateOfBirth),Ns=Tl=>{var El;return jsxRuntimeExports.jsxs(Typography$1,{variant:"body2",sx:{color:Tl?otherColors.priorityHighText:ds.palette.text.secondary},children:["DOB:"," ",formatDateUsingSlashes(ts.needsDOBConfirmation?ts.unconfirmedDOB:(El=ts.patient)==null?void 0:El.dateOfBirth)]})},Gs=reactExports.useMemo(()=>longWaitTimeFlag(ts,parseInt(gs)||0),[ts,gs]);function Us(Tl){const El=[],$l=[];Tl.forEach(Ml=>{(FLAGGED_REASONS_FOR_VISIT.includes(Ml)?El:$l).push(Ml)});const Sl=jsxRuntimeExports.jsxs("span",{children:[El.length>0&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[Hs,jsxRuntimeExports.jsx(Typography$1,{sx:{fontSize:"14px",color:otherColors.priorityHighText,paddingLeft:"5px",display:"inline"},children:$l.length>0?El.join(", ")+", ":El.join(", ")})]}),$l.length>0&&jsxRuntimeExports.jsx(Typography$1,{sx:{fontSize:"14px",display:"inline"},children:$l.join(", ")})]});return El.length>0?jsxRuntimeExports.jsx(GenericToolTip,{title:"Alert clinical team for immediate evaluation",children:Sl}):Sl}const Hs=jsxRuntimeExports.jsx(default_1$m,{style:{height:"14px",width:"14px",padding:"2px",color:ds.palette.primary.contrastText,backgroundColor:otherColors.priorityHighIcon,borderRadius:"4px",marginRight:"3px"}}),zs=jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",gap:1,alignItems:"center"},children:[jsxRuntimeExports.jsx(PriorityIconWithBorder,{fill:ds.palette.warning.main}),jsxRuntimeExports.jsx(Typography$1,{variant:"body2",color:ds.palette.getContrastText(ds.palette.background.default),style:{display:"inline",fontWeight:700},children:"Long wait: Please check on patient"})]}),qs=jsxRuntimeExports.jsx(Grid$1,{container:!0,sx:{width:"100%"},children:jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",flexDirection:"column",gap:2},children:[Gs&&zs,getStatiForVisitTimeCalculation(ts.visitStatusHistory,ts.start).map(Tl=>jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",gap:1},children:[jsxRuntimeExports.jsxs(Typography$1,{variant:"body2",color:ds.palette.getContrastText(ds.palette.background.default),style:{display:"inline",fontWeight:700,marginTop:1},children:[formatMinutes(getDurationOfStatus(Tl,ts,ts.visitStatusHistory,ss))," mins"]}),getAppointmentStatusChip$1(Tl.label)]})),jsxRuntimeExports.jsxs(Typography$1,{variant:"body2",color:ds.palette.getContrastText(ds.palette.background.default),style:{display:"inline"},children:["Total waiting: ",formatMinutes(Ps)," mins"]})]})});return jsxRuntimeExports.jsxs(TableRow$1,{sx:{"&:last-child td, &:last-child th":{border:0},"&:hover":{backgroundColor:otherColors.apptHover},position:"relative",...ts.next&&{boxShadow:"inset 0 0 0 1px ".concat(ds.palette.secondary.main)}},children:[jsxRuntimeExports.jsxs(TableCell$1,{sx:{verticalAlign:"top"},children:[ts.next&&jsxRuntimeExports.jsx(Box$1,{sx:{backgroundColor:ds.palette.secondary.main,position:"absolute",width:"25px",bottom:0,left:"-25px",height:"100%",borderTopLeftRadius:"10px",borderBottomLeftRadius:"10px"},children:jsxRuntimeExports.jsx(Typography$1,{variant:"body1",fontSize:14,sx:{writingMode:"vertical-lr",transform:"scale(-1)",position:"absolute",top:"28%",left:"10%",color:ds.palette.background.paper},children:"NEXT"})}),jsxRuntimeExports.jsx(Box$1,{children:jsxRuntimeExports.jsxs(Link,{to:"/visit/".concat(ts.id),style:linkStyle,children:[jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex"},children:[jsxRuntimeExports.jsx(CustomChip,{type:"status bullet",fill:ts.appointmentType==="prebook"?ds.palette.primary.main:ds.palette.secondary.main}),jsxRuntimeExports.jsxs(Typography$1,{variant:"body1",children:[ts.appointmentType,"Â Â ",jsxRuntimeExports.jsx("strong",{children:Rs})]})]}),jsxRuntimeExports.jsx(Box$1,{mt:1,children:getAppointmentStatusChip$1(ts.status)})]})})]}),os&&jsxRuntimeExports.jsx(TableCell$1,{sx:{verticalAlign:"top"},children:jsxRuntimeExports.jsx(Link,{to:"/visit/".concat(ts.id),style:linkStyle,children:jsxRuntimeExports.jsx(Tooltip$1,{componentsProps:{tooltip:{sx:{width:"100%",marginLeft:"auto",marginRight:"auto",padding:2,backgroundColor:ds.palette.background.default,boxShadow:"0px 1px 8px 0px rgba(0, 0, 0, 0.12), 0px 3px 4px 0px rgba(0, 0, 0, 0.14), 0px 3px 3px -2px rgba(0, 0, 0, 0.20)","& .MuiTooltip-arrow":{color:ds.palette.background.default}}}},title:qs,placement:"top",arrow:!0,children:jsxRuntimeExports.jsxs(Grid$1,{sx:{display:"flex",alignItems:"center"},gap:1,children:[jsxRuntimeExports.jsx(Grid$1,{item:!0,children:Gs&&jsxRuntimeExports.jsx(PriorityIconWithBorder,{fill:ds.palette.warning.main})}),jsxRuntimeExports.jsxs(Grid$1,{item:!0,sx:{display:"flex",alignItems:"center"},children:[jsxRuntimeExports.jsx(Typography$1,{variant:"body1",sx:{display:"inline",fontWeight:"".concat(Gs?"700":"")},children:gs}),ts.visitStatusHistory&&ts.visitStatusHistory.length>1&&jsxRuntimeExports.jsx("span",{style:{color:"rgba(0, 0, 0, 0.6)",display:"flex",alignItems:"center"},children:jsxRuntimeExports.jsx(default_1$n,{style:{height:"20px",width:"20px",padding:"2px",borderRadius:"4px",marginLeft:"2px",marginTop:"1px"}})})]})]})})})}),jsxRuntimeExports.jsx(TableCell$1,{sx:{verticalAlign:"top",wordWrap:"break-word"},children:jsxRuntimeExports.jsxs(Link,{to:"/visit/".concat(ts.id),style:linkStyle,children:[jsxRuntimeExports.jsx(Typography$1,{variant:"subtitle2",sx:{fontSize:"16px"},children:jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:Is})}),Ls||ts.needsDOBConfirmation?jsxRuntimeExports.jsx(GenericToolTip,{title:"".concat(Ls?"Expedited intake indicated":"","\n                ").concat(Ls&&ts.needsDOBConfirmation?"&":"","\n                ").concat(ts.needsDOBConfirmation?"Date of birth for returning patient was not confirmed":""),customWidth:Ls?"150px":"170px",children:jsxRuntimeExports.jsxs("span",{style:{display:"flex",maxWidth:"150px",alignItems:"center"},children:[Ls&&Hs,Ns(Ls),ts.needsDOBConfirmation&&jsxRuntimeExports.jsx(PriorityIconWithBorder,{fill:ds.palette.warning.main})]})}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:Ns(!1)})]})}),jsxRuntimeExports.jsx(TableCell$1,{sx:{verticalAlign:"top",wordWrap:"break-word"},children:jsxRuntimeExports.jsx(Link,{to:"/visit/".concat(ts.id),style:linkStyle,children:Us(ts.reasonForVisit.split(","))})}),jsxRuntimeExports.jsx(TableCell$1,{sx:{verticalAlign:"top"},children:jsxRuntimeExports.jsx(Link,{to:"/visit/".concat(ts.id),style:linkStyle,children:jsxRuntimeExports.jsx(GenericToolTip,{title:jsxRuntimeExports.jsx(PaperworkToolTipContent,{appointment:ts,isOvrpReason:ks,ageIsGoodForOVRP:Ms}),customWidth:"none",children:jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",gap:1},children:[jsxRuntimeExports.jsx(default_1$t,{sx:{ml:0,color:ts.paperwork.demographics?"#43A047":"#BFC2C6"},fill:otherColors.cardChip}),jsxRuntimeExports.jsx(default_1$o,{sx:{color:ts.paperwork.insuranceCard?"#43A047":"#BFC2C6"},fill:otherColors.cardChip}),jsxRuntimeExports.jsx(default_1$r,{sx:{color:ts.paperwork.photoID?"#43A047":"#BFC2C6"},fill:otherColors.cardChip}),jsxRuntimeExports.jsx(default_1$s,{sx:{color:ts.paperwork.consent?"#43A047":"#BFC2C6"},fill:otherColors.cardChip}),jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",flexDirection:"column"},children:[jsxRuntimeExports.jsx(default_1$l,{sx:{color:Ms&&ks&&ts.paperwork.ovrpInterest?"#43A047":"#BFC2C6"},fill:otherColors.cardChip}),jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:[jsxRuntimeExports.jsx(Typography$1,{variant:"subtitle2",sx:{fontSize:"16px",color:ts.paperwork.ovrpInterest?"#43A047":"#BFC2C6"},children:"+"}),jsxRuntimeExports.jsx(Typography$1,{variant:"subtitle2",sx:{fontSize:"16px",color:Ms&&ks?"#43A047":"#BFC2C6"},children:"+"})]})]})]})})})}),jsxRuntimeExports.jsx(TableCell$1,{sx:{verticalAlign:"top"},children:jsxRuntimeExports.jsx(Link,{to:"/visit/".concat(ts.id),style:linkStyle,children:jsxRuntimeExports.jsx(Typography$1,{sx:{fontSize:14,display:"inline"},children:ts.provider})})}),jsxRuntimeExports.jsx(TableCell$1,{sx:{verticalAlign:"top"},children:jsxRuntimeExports.jsx(Link,{to:"/visit/".concat(ts.id),style:linkStyle,children:jsxRuntimeExports.jsx(Typography$1,{sx:{fontSize:14,display:"inline"},children:ts.group})})}),jsxRuntimeExports.jsxs(TableCell$1,{sx:{verticalAlign:"top"},children:[jsxRuntimeExports.jsx(Input$2,{placeholder:"Add internal note...",value:hs,onChange:Tl=>ms(Tl.target.value),multiline:!0,disableUnderline:!ps,inputProps:{maxLength:160},onClick:Tl=>{fs(!0),cs(!0)},fullWidth:!0,sx:{alignItems:"baseline"},startAdornment:jsxRuntimeExports.jsx(InputAdornment$1,{position:"start",children:jsxRuntimeExports.jsx(default_1$p,{sx:{fill:ds.palette.text.disabled}})})}),ps&&jsxRuntimeExports.jsx(LoadingButton$1,{loading:bs,sx:{marginTop:"8px",padding:"5px"},onClick:Ds,children:"Save"})]}),jsxRuntimeExports.jsx(TableCell$1,{sx:{verticalAlign:"top"},children:Os&&jsxRuntimeExports.jsx(IconButton$2,{sx:{backgroundColor:ds.palette.primary.main,width:"36px",height:"36px",borderRadius:"100%",display:"flex",justifyContent:"center",alignItems:"center","&:hover":{backgroundColor:ds.palette.primary.main}},onClick:Tl=>{$s(!0)},"aria-label":Es?"unread messages chat icon":"chat icon, no unread messages",children:Es?jsxRuntimeExports.jsx(Badge$1,{variant:"dot",color:"warning",sx:{"& .MuiBadge-badge":{width:"14px",height:"14px",borderRadius:"10px",border:"2px solid white",top:"-4px",right:"-4px"}},children:jsxRuntimeExports.jsx(default_1$q,{sx:{color:ds.palette.primary.contrastText,height:"20px",width:"20px"}})}):jsxRuntimeExports.jsx(default_1$q,{sx:{color:ds.palette.primary.contrastText,height:"20px",width:"20px"}})})}),ns&&jsxRuntimeExports.jsx(TableCell$1,{sx:{verticalAlign:"top"},children:jsxRuntimeExports.jsx(LoadingButton$1,{onClick:Fs,loading:ys,variant:"contained",sx:{borderRadius:8,textTransform:"none",fontSize:"15px",fontWeight:"700"},children:"Arrived"})}),Cs&&jsxRuntimeExports.jsx(ChatModal,{appointment:ts,currentLocation:rs,onClose:()=>$s(!1),onMarkAllRead:()=>ws(!1)})]})}const ORDER_STATUS=["pending","arrived","ready","intake","ready for provider","provider","ready for discharge","checked out","canceled","no show","left not seen","unknown"],AppointmentsStatusChipsCount=({appointments:ts})=>{const rs=classifyAppointments(ts);return jsxRuntimeExports.jsx(Box$1,{sx:{display:"flex",gap:2,padding:2,paddingLeft:0,flexWrap:"wrap"},children:Array.from(rs).sort(([ns,os],[ss,as])=>ORDER_STATUS.indexOf(ns)-ORDER_STATUS.indexOf(ss)).map(([ns,os])=>jsxRuntimeExports.jsx(Box$1,{children:getAppointmentStatusChip$1(ns,os)},ns))})};function AppointmentTable({appointments:ts,location:rs,tab:ns,now:os,updateAppointments:ss,setEditingComment:as}){const ls=useTheme$1(),cs=ns===ApptTab$1.prebooked,us=ns!==ApptTab$1.prebooked,[ds,ps]=reactExports.useState(!1),[fs,hs]=reactExports.useState(!1);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(AppointmentsStatusChipsCount,{appointments:ts}),jsxRuntimeExports.jsx(Paper$1,{children:jsxRuntimeExports.jsx(TableContainer$1,{sx:{overflow:"inherit"},children:jsxRuntimeExports.jsxs(Table$1,{style:{tableLayout:"fixed",width:"100%"},children:[jsxRuntimeExports.jsx(TableHead$1,{children:jsxRuntimeExports.jsxs(TableRow$1,{children:[jsxRuntimeExports.jsx(TableCell$1,{style:{width:"15%"},children:jsxRuntimeExports.jsx(Typography$1,{variant:"subtitle2",sx:{fontSize:"14px"},children:"Type & Status"})}),us&&jsxRuntimeExports.jsx(TableCell$1,{style:{width:"13%"},children:jsxRuntimeExports.jsx(Typography$1,{variant:"subtitle2",sx:{fontSize:"14px"},children:"Time"})}),jsxRuntimeExports.jsx(TableCell$1,{style:{width:"15%"},children:jsxRuntimeExports.jsx(Typography$1,{variant:"subtitle2",sx:{fontSize:"14px"},children:"Patient"})}),jsxRuntimeExports.jsx(TableCell$1,{style:{width:"15%"},children:jsxRuntimeExports.jsx(Typography$1,{variant:"subtitle2",sx:{fontSize:"14px"},children:"Reason"})}),jsxRuntimeExports.jsx(TableCell$1,{style:{width:"14%"},children:jsxRuntimeExports.jsx(Typography$1,{variant:"subtitle2",sx:{fontSize:"14px"},children:"Visit Components"})}),jsxRuntimeExports.jsx(TableCell$1,{style:{width:"14%"},children:jsxRuntimeExports.jsx(Typography$1,{variant:"subtitle2",sx:{fontSize:"14px"},children:"Provider"})}),jsxRuntimeExports.jsx(TableCell$1,{style:{width:"14%"},children:jsxRuntimeExports.jsx(Typography$1,{variant:"subtitle2",sx:{fontSize:"14px"},children:"Group"})}),jsxRuntimeExports.jsx(TableCell$1,{style:{width:"14%"},children:jsxRuntimeExports.jsx(Typography$1,{variant:"subtitle2",sx:{fontSize:"14px"},children:"Notes"})}),jsxRuntimeExports.jsx(TableCell$1,{style:{width:"5%"},children:jsxRuntimeExports.jsx(Typography$1,{variant:"subtitle2",sx:{fontSize:"14px"},children:"Chat"})}),ns===ApptTab$1.prebooked&&jsxRuntimeExports.jsx(TableCell$1,{style:{width:"10%"},children:jsxRuntimeExports.jsx(Typography$1,{variant:"subtitle2",sx:{fontSize:"14px"},children:"Action"})})]})}),jsxRuntimeExports.jsx(TableBody$1,{children:ns===ApptTab$1["in-office"]?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(TableRow$1,{children:jsxRuntimeExports.jsx(TableCell$1,{sx:{backgroundColor:alpha(ls.palette.secondary.main,.08)},colSpan:9,children:jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",alignItems:"center"},children:[jsxRuntimeExports.jsx(IconButton$2,{onClick:()=>ps(!ds),sx:{mr:.75,p:0},children:jsxRuntimeExports.jsx(default_1$u,{sx:{color:ls.palette.primary.main,rotate:ds?"":"180deg"}})}),jsxRuntimeExports.jsxs(Typography$1,{variant:"subtitle2",sx:{fontSize:"14px"},children:["Waiting Room (",ts.filter(ms=>ms.status==="arrived"||ms.status==="ready").length,")"]})]})})}),!ds&&ts.filter(ms=>ms.status==="arrived"||ms.status==="ready").map((ms,gs)=>jsxRuntimeExports.jsx(AppointmentTableRow,{appointment:ms,location:rs,actionButtons:cs,showTime:us,now:os,updateAppointments:ss,setEditingComment:as,tab:ns},gs)),jsxRuntimeExports.jsx(TableRow$1,{children:jsxRuntimeExports.jsx(TableCell$1,{sx:{backgroundColor:alpha(ls.palette.secondary.main,.08)},colSpan:9,children:jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",alignItems:"center"},children:[jsxRuntimeExports.jsx(IconButton$2,{onClick:()=>hs(!fs),sx:{mr:.75,p:0},children:jsxRuntimeExports.jsx(default_1$u,{sx:{color:ls.palette.primary.main,rotate:fs?"":"180deg"}})}),jsxRuntimeExports.jsxs(Typography$1,{variant:"subtitle2",sx:{fontSize:"14px"},children:["In Exam (",ts.filter(ms=>ms.status!=="arrived"&&ms.status!=="ready").length,")"]})]})})}),!fs&&ts.filter(ms=>ms.status!=="arrived"&&ms.status!=="ready").map((ms,gs)=>jsxRuntimeExports.jsx(AppointmentTableRow,{appointment:ms,location:rs,actionButtons:cs,showTime:us,now:os,updateAppointments:ss,setEditingComment:as,tab:ns},gs))]}):ts==null?void 0:ts.map((ms,gs)=>jsxRuntimeExports.jsx(AppointmentTableRow,{appointment:ms,location:rs,actionButtons:cs,showTime:us,now:os,updateAppointments:ss,setEditingComment:as,tab:ns},gs))})]})})})]})}function Loading(){return jsxRuntimeExports.jsx(Tooltip$1,{title:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:["Made with",jsxRuntimeExports.jsx(Favorite,{fontSize:"small",htmlColor:"red",sx:{verticalAlign:"top"}})," by MassLight"]}),placement:"top",children:jsxRuntimeExports.jsxs(Typography$1,{variant:"subtitle2",sx:{display:"inline-flex",alignItems:"center",marginLeft:"auto",marginRight:5,animation:"color-update 10s linear infinite","@keyframes color-update":{"0%":{color:"red"},"50%":{color:"blue"},"100%":{color:"red"}},"& #loading-dot-1":{animation:"loading-1 1s linear alternate infinite"},"& #loading-dot-2":{animation:"loading-2 1s linear alternate infinite"},"& #loading-dot-3":{animation:"loading-3 1s linear alternate infinite"},"@keyframes loading-1":{"75%":{opacity:0},"100%":{opacity:0}},"@keyframes loading-2":{"50%":{opacity:0},"100%":{opacity:0}},"@keyframes loading-3":{"25%":{opacity:0},"100%":{opacity:0}}},children:["refreshing",jsxRuntimeExports.jsx("span",{className:"loading-dot",id:"loading-dot-1",children:"."}),jsxRuntimeExports.jsx("span",{className:"loading-dot",id:"loading-dot-2",children:"."}),jsxRuntimeExports.jsx("span",{className:"loading-dot",id:"loading-dot-3",children:"."}),jsxRuntimeExports.jsx(Refresh,{sx:{marginLeft:1,animation:"spin-animation 1s linear infinite","@keyframes spin-animation":{"0%":{transform:"rotate(0)"},"100%":{transform:"rotate(360deg)"}}}})]})})}var ApptTab$1=(ts=>(ts.prebooked="prebooked",ts["in-office"]="in-office",ts.completed="completed",ts.cancelled="cancelled",ts))(ApptTab$1||{});function AppointmentTabs$1({location:ts,providers:rs,groups:ns,preBookedAppointments:os,completedAppointments:ss,cancelledAppointments:as,inOfficeAppointments:ls,loading:cs,updateAppointments:us,setEditingComment:ds}){const[ps,fs]=reactExports.useState("in-office"),[hs,ms]=reactExports.useState(DateTime.now()),gs=(bs,xs)=>{fs(xs)};React$2.useEffect(()=>{function bs(){ms(DateTime.now())}const xs=setInterval(bs,1e3);return bs(),()=>clearInterval(xs)},[]);const vs=!ts&&(rs==null?void 0:rs.length)===0&&(ns==null?void 0:ns.length)===0&&jsxRuntimeExports.jsxs(Grid$1,{container:!0,sx:{width:"40%"},padding:4,children:[jsxRuntimeExports.jsx(Grid$1,{item:!0,xs:2,children:jsxRuntimeExports.jsx(default_1$v,{sx:{width:62,height:62,color:otherColors.orange700,borderRadius:"50%",backgroundColor:otherColors.orange100,padding:1.4}})}),jsxRuntimeExports.jsxs(Grid$1,{item:!0,xs:10,sx:{display:"flex",flexDirection:"column",justifyContent:"center"},children:[jsxRuntimeExports.jsx(Typography$1,{sx:{fontWeight:"bold"},children:"Please select an office, provider, or group"}),jsxRuntimeExports.jsx(Typography$1,{children:"Please select an office, provider, or group to get appointments"})]})]});return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(Box$1,{sx:{width:"100%",marginTop:3},children:jsxRuntimeExports.jsxs(TabContext,{value:ps,children:[jsxRuntimeExports.jsx(Box$1,{sx:{borderBottom:1,borderColor:"divider"},children:jsxRuntimeExports.jsxs(TabList$1,{onChange:gs,"aria-label":"appointment tabs",children:[jsxRuntimeExports.jsx(Tab$1,{label:"Pre-booked".concat(os?" â ".concat(os==null?void 0:os.length):""),value:"prebooked",sx:{textTransform:"none",fontWeight:700}}),jsxRuntimeExports.jsx(Tab$1,{label:"In Office".concat(ls?" â ".concat(ls==null?void 0:ls.length):""),value:"in-office",sx:{textTransform:"none",fontWeight:700}}),jsxRuntimeExports.jsx(Tab$1,{label:"Completed".concat(ss?" â ".concat(ss==null?void 0:ss.length):""),value:"completed",sx:{textTransform:"none",fontWeight:700}}),jsxRuntimeExports.jsx(Tab$1,{label:"Cancelled",value:"cancelled",sx:{textTransform:"none",fontWeight:700}}),cs&&jsxRuntimeExports.jsx(Loading,{})]})}),jsxRuntimeExports.jsx(TabPanel$2,{value:"prebooked",sx:{padding:0},children:vs||jsxRuntimeExports.jsx(AppointmentTable,{appointments:os,location:ts,tab:ps,now:hs,updateAppointments:us,setEditingComment:ds})}),jsxRuntimeExports.jsx(TabPanel$2,{value:"in-office",sx:{padding:0},children:vs||jsxRuntimeExports.jsx(AppointmentTable,{appointments:ls,location:ts,tab:ps,now:hs,updateAppointments:us,setEditingComment:ds})}),jsxRuntimeExports.jsx(TabPanel$2,{value:"completed",sx:{padding:0},children:vs||jsxRuntimeExports.jsx(AppointmentTable,{appointments:ss,location:ts,tab:ps,now:hs,updateAppointments:us,setEditingComment:ds})}),jsxRuntimeExports.jsx(TabPanel$2,{value:"cancelled",sx:{padding:0},children:vs||jsxRuntimeExports.jsx(AppointmentTable,{appointments:as,location:ts,tab:ps,now:hs,updateAppointments:us,setEditingComment:ds})})]})})})}function ProvidersSelect({providers:ts,practitioners:rs,handleSubmit:ns}){const os={};return rs==null||rs.map(ss=>{ss.id&&ss.name!=null&&(os[ss.id]=formatHumanName(ss.name[0]))}),jsxRuntimeExports.jsx(Autocomplete$1,{id:"providers",value:ts.map(ss=>({value:ss,label:os[ss]==null?"Loading...":os[ss]})),isOptionEqualToValue:(ss,as)=>ss.value===as.value,options:rs?rs.map(ss=>({value:ss.id,label:ss.name!=null?formatHumanName(ss.name[0]):"Unknown"})):[],renderOption:(ss,as)=>reactExports.createElement("li",{...ss,key:as.value},as.label),onChange:(ss,as)=>{const ls=as.map(cs=>cs.value);ls?localStorage.setItem("selectedProviders",JSON.stringify(ls)):localStorage.removeItem("selectedProviders"),ns&&ns(ss,ls,"providers")},multiple:!0,renderInput:ss=>jsxRuntimeExports.jsx(TextField$1,{name:"providers",...ss,label:"Providers",required:!1})})}function GroupSelect({groups:ts,healthcareServices:rs,handleSubmit:ns}){const os={};return rs==null||rs.map(ss=>{ss.id&&ss.name!=null&&(os[ss.id]=ss.name)}),jsxRuntimeExports.jsx(Autocomplete$1,{id:"groups",value:ts.map(ss=>({value:ss,label:os[ss]==null?"Loading...":os[ss]})),isOptionEqualToValue:(ss,as)=>ss.value===as.value,options:rs?rs.map(ss=>({value:ss.id,label:ss.name!=null?ss.name:"Unknown"})):[],renderOption:(ss,as)=>reactExports.createElement("li",{...ss,key:as.value},as.label),onChange:(ss,as)=>{const ls=as.map(cs=>cs.value);ls?localStorage.setItem("selectedGroups",JSON.stringify(ls)):localStorage.removeItem("selectedGroups"),ns&&ns(ss,ls,"groups")},multiple:!0,renderInput:ss=>jsxRuntimeExports.jsx(TextField$1,{name:"groups",...ss,label:"Groups",required:!1})})}const StethoscopeIcon=ts=>jsxRuntimeExports.jsx(SvgIcon$1,{...ts,children:jsxRuntimeExports.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{d:"M13.5 22C11.7 22 10.1667 21.3667 8.9 20.1C7.63333 18.8333 7 17.3 7 15.5V14.925C5.56667 14.6917 4.375 14.0208 3.425 12.9125C2.475 11.8042 2 10.5 2 9V3H5V2H7V6H5V5H4V9C4 10.1 4.39167 11.0417 5.175 11.825C5.95833 12.6083 6.9 13 8 13C9.1 13 10.0417 12.6083 10.825 11.825C11.6083 11.0417 12 10.1 12 9V5H11V6H9V2H11V3H14V9C14 10.5 13.525 11.8042 12.575 12.9125C11.625 14.0208 10.4333 14.6917 9 14.925V15.5C9 16.75 9.4375 17.8125 10.3125 18.6875C11.1875 19.5625 12.25 20 13.5 20C14.75 20 15.8125 19.5625 16.6875 18.6875C17.5625 17.8125 18 16.75 18 15.5V13.825C17.4167 13.625 16.9375 13.2667 16.5625 12.75C16.1875 12.2333 16 11.65 16 11C16 10.1667 16.2917 9.45833 16.875 8.875C17.4583 8.29167 18.1667 8 19 8C19.8333 8 20.5417 8.29167 21.125 8.875C21.7083 9.45833 22 10.1667 22 11C22 11.65 21.8125 12.2333 21.4375 12.75C21.0625 13.2667 20.5833 13.625 20 13.825V15.5C20 17.3 19.3667 18.8333 18.1 20.1C16.8333 21.3667 15.3 22 13.5 22ZM19 12C19.2833 12 19.5208 11.9042 19.7125 11.7125C19.9042 11.5208 20 11.2833 20 11C20 10.7167 19.9042 10.4792 19.7125 10.2875C19.5208 10.0958 19.2833 10 19 10C18.7167 10 18.4792 10.0958 18.2875 10.2875C18.0958 10.4792 18 10.7167 18 11C18 11.2833 18.0958 11.5208 18.2875 11.7125C18.4792 11.9042 18.7167 12 19 12Z"})})}),DiagnosisIcon=ts=>jsxRuntimeExports.jsx(SvgIcon$1,{...ts,children:jsxRuntimeExports.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{d:"M8 19H16V17H8V19ZM8 16H16V14H8V16ZM12 12.3C13.1 11.3 14.0417 10.4125 14.825 9.6375C15.6083 8.8625 16 8.05 16 7.2C16 6.6 15.7833 6.08333 15.35 5.65C14.9167 5.21667 14.4 5 13.8 5C13.45 5 13.1125 5.07083 12.7875 5.2125C12.4625 5.35417 12.2 5.55 12 5.8C11.8 5.55 11.5375 5.35417 11.2125 5.2125C10.8875 5.07083 10.55 5 10.2 5C9.6 5 9.08333 5.21667 8.65 5.65C8.21667 6.08333 8 6.6 8 7.2C8 8.05 8.37917 8.85 9.1375 9.6C9.89583 10.35 10.85 11.25 12 12.3ZM18 22H6C5.45 22 4.97917 21.8042 4.5875 21.4125C4.19583 21.0208 4 20.55 4 20V4C4 3.45 4.19583 2.97917 4.5875 2.5875C4.97917 2.19583 5.45 2 6 2H18C18.55 2 19.0208 2.19583 19.4125 2.5875C19.8042 2.97917 20 3.45 20 4V20C20 20.55 19.8042 21.0208 19.4125 21.4125C19.0208 21.8042 18.55 22 18 22ZM6 20H18V4H6V20Z"})})}),ContractEditIcon=ts=>jsxRuntimeExports.jsx(SvgIcon$1,{...ts,children:jsxRuntimeExports.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{d:"M9 9V7H18V9H9ZM9 12V10H18V12H9ZM12 22H6C5.16667 22 4.45833 21.7083 3.875 21.125C3.29167 20.5417 3 19.8333 3 19V16H6V2H21V11.025C20.6667 10.9917 20.3292 11.0042 19.9875 11.0625C19.6458 11.1208 19.3167 11.225 19 11.375V4H8V16H14L12 18H5V19C5 19.2833 5.09583 19.5208 5.2875 19.7125C5.47917 19.9042 5.71667 20 6 20H12V22ZM14 22V18.925L19.525 13.425C19.675 13.275 19.8417 13.1667 20.025 13.1C20.2083 13.0333 20.3917 13 20.575 13C20.775 13 20.9667 13.0375 21.15 13.1125C21.3333 13.1875 21.5 13.3 21.65 13.45L22.575 14.375C22.7083 14.525 22.8125 14.6917 22.8875 14.875C22.9625 15.0583 23 15.2417 23 15.425C23 15.6083 22.9667 15.7958 22.9 15.9875C22.8333 16.1792 22.725 16.35 22.575 16.5L17.075 22H14ZM15.5 20.5H16.45L19.475 17.45L19.025 16.975L18.55 16.525L15.5 19.55V20.5ZM19.025 16.975L18.55 16.525L19.475 17.45L19.025 16.975Z"})})}),PatientListIcon=ts=>jsxRuntimeExports.jsx(SvgIcon$1,{...ts,children:jsxRuntimeExports.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{d:"M16 14C15.1667 14 14.4583 13.7083 13.875 13.125C13.2917 12.5417 13 11.8333 13 11C13 10.1667 13.2917 9.45833 13.875 8.875C14.4583 8.29167 15.1667 8 16 8C16.8333 8 17.5417 8.29167 18.125 8.875C18.7083 9.45833 19 10.1667 19 11C19 11.8333 18.7083 12.5417 18.125 13.125C17.5417 13.7083 16.8333 14 16 14ZM10 20V18.1C10 17.75 10.0833 17.4167 10.25 17.1C10.4167 16.7833 10.65 16.5333 10.95 16.35C11.7 15.9 12.4958 15.5625 13.3375 15.3375C14.1792 15.1125 15.0667 15 16 15C16.9333 15 17.8208 15.1125 18.6625 15.3375C19.5042 15.5625 20.3 15.9 21.05 16.35C21.35 16.5333 21.5833 16.7833 21.75 17.1C21.9167 17.4167 22 17.75 22 18.1V20H10ZM12.15 18H19.85C19.2667 17.6667 18.65 17.4167 18 17.25C17.35 17.0833 16.6833 17 16 17C15.3167 17 14.65 17.0833 14 17.25C13.35 17.4167 12.7333 17.6667 12.15 18ZM16 12C16.2833 12 16.5208 11.9042 16.7125 11.7125C16.9042 11.5208 17 11.2833 17 11C17 10.7167 16.9042 10.4792 16.7125 10.2875C16.5208 10.0958 16.2833 10 16 10C15.7167 10 15.4792 10.0958 15.2875 10.2875C15.0958 10.4792 15 10.7167 15 11C15 11.2833 15.0958 11.5208 15.2875 11.7125C15.4792 11.9042 15.7167 12 16 12ZM3 14V12H11V14H3ZM3 6V4H15V6H3ZM11.1 10H3V8H12C11.7667 8.28333 11.5792 8.59167 11.4375 8.925C11.2958 9.25833 11.1833 9.61667 11.1 10Z"})})}),createDemoVisits="/assets/create-demo-visits-c1923388.svg",createSampleAppointments=async(ts,rs,ns)=>{try{if(!ts)throw new Error("FHIR client not initialized");const os=[],ss="create-appointment",as="http://localhost:3000/local";for(let ls=0;ls<5;ls++){const cs=await generateRandomPatientInfo(ts,rs),us=JSON.stringify(cs),ds=await fetch("".concat(as,"/zambda/").concat(ss,"/execute"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(ns)},body:us});os.push(ds)}console.log("Succesfully created appointments",os)}catch(os){console.error("Error creating appointments:",os)}},generateRandomPatientInfo=async(ts,rs)=>{const ns=["Alice","Bob","Charlie","Diana","Ethan","Fatima","Gabriel","Hannah","Ibrahim","Jake"],os=["Smith","Johnson","Williams","Jones","Brown","Clark","Davis","Elliott","Foster","Garcia"],ss=[PersonSex.Male,PersonSex.Female,PersonSex.Intersex],as=[{name:"status",value:"active"}],ls=await(ts==null?void 0:ts.searchResources({resourceType:"Location",searchParams:as})),cs=await ts.searchResources({resourceType:"Practitioner",searchParams:[{name:"_count",value:"1000"},{name:"active",value:"true"}]}),us=ns[Math.floor(Math.random()*ns.length)],ds=os[Math.floor(Math.random()*os.length)],ps="".concat(us.toLowerCase(),".").concat(ds.toLowerCase(),"@example.com"),fs=DateTime.now().minus({years:7+Math.floor(Math.random()*16)}).toISODate(),hs=ss[Math.floor(Math.random()*ss.length)],ms=Math.floor(Math.random()*ls.length),gs=ls[ms].id,vs=cs[Math.floor(Math.random()*cs.length)].id,bs=localStorage.getItem("selectedLocationID");return rs==="telemedicine"?{patient:{newPatient:!0,firstName:us,lastName:ds,dateOfBirth:fs,sex:hs,email:ps,emailUser:"Patient"},scheduleType:"provider",visitType:"now",visitService:rs,providerID:vs,timezone:"UTC",isDemo:!0}:{patient:{newPatient:!0,firstName:us,lastName:ds,dateOfBirth:fs,sex:hs,email:ps,emailUser:"Patient"},scheduleType:"location",visitType:"now",visitService:rs,locationID:bs||gs,timezone:"UTC",isDemo:!0}},CreateDemoVisitsButton=({visitService:ts})=>{const{fhirClient:rs}=useApiClients(),{getAccessTokenSilently:ns}=useAuth0(),os=async()=>{const ss=await ns(),as=await createSampleAppointments(rs,ts,ss);console.log("response",as)};return jsxRuntimeExports.jsxs(Button$2,{onClick:()=>os(),sx:{my:2,borderRadius:10,border:"1px solid #2169F5",display:"flex",alignItems:"center",gap:.5},children:[jsxRuntimeExports.jsx("img",{src:createDemoVisits,alt:"create demo visits"}),"Create Demo Visits"]})};function Appointments(){const{fhirClient:ts,zambdaClient:rs}=useApiClients(),[ns,os]=reactExports.useState(void 0),[ss,as]=reactExports.useState({status:"initial"}),[ls,cs]=reactExports.useState(void 0),[us,ds]=reactExports.useState(void 0),[ps,fs]=reactExports.useState(DateTime.local()),[hs,ms]=reactExports.useState(!1),[gs,vs]=reactExports.useState(null),bs=useLocation(),xs=useNavigate(),ys=usePageVisibility$1(),Ss=(Fs,js,Ps)=>{var Ls,Ns,Gs,Us;if(Ps==="date")Cs==null||Cs.set("searchDate",(Ns=(Ls=js==null?void 0:js.toISODate())!=null?Ls:ps==null?void 0:ps.toISODate())!=null?Ns:"");else if(Ps==="location")Cs==null||Cs.set("locationID",(Us=(Gs=js==null?void 0:js.id)!=null?Gs:ns==null?void 0:ns.id)!=null?Us:"");else if(Ps==="visittypes"){const Hs=js.join(",");Cs.set("visitType",Hs)}else if(Ps==="providers"){const Hs=js.join(",");Cs.set("providers",Hs)}else if(Ps==="groups"){const Hs=js.join(",");Cs.set("groups",Hs)}ms(!1),xs("?".concat(Cs==null?void 0:Cs.toString()))},Cs=reactExports.useMemo(()=>new URLSearchParams(bs.search),[bs.search]),{locationID:$s,searchDate:Es,visitType:ws,providers:Ts,groups:Is,queryId:Rs}=reactExports.useMemo(()=>{var Hs,zs;const Fs=Cs.get("locationID")||"",js=Cs.get("searchDate")||"",Ps=Cs.get("visitType")||"";let Ls=((Hs=Cs.get("providers"))==null?void 0:Hs.split(","))||[];Ls.length===1&&Ls[0]===""&&(Ls=[]);let Ns=((zs=Cs.get("groups"))==null?void 0:zs.split(","))||[];Ns.length===1&&Ns[0]===""&&(Ns=[]);const Gs="".concat(Fs,"-").concat(Ls,"-").concat(Ns,"-").concat(js,"-").concat(Ps),Us=Ps?Ps.split(","):[];return{locationID:Fs,searchDate:js,visitType:Us,providers:Ls,groups:Ns,queryId:Gs}},[Cs]),{preBookedAppointments:As,completedAppointments:ks,cancelledAppointments:Ms,inOfficeAppointments:Os,activeApptDatesBeforeToday:Ds}=reactExports.useMemo(()=>{var js,Ps,Ls,Ns,Gs;const Fs={preBookedAppointments:[],completedAppointments:[],cancelledAppointments:[],inOfficeAppointments:[],activeApptDatesBeforeToday:[]};return gs!==null&&(Fs.preBookedAppointments=(js=gs.preBooked)!=null?js:[],Fs.completedAppointments=(Ps=gs.completed)!=null?Ps:[],Fs.cancelledAppointments=(Ls=gs.cancelled)!=null?Ls:[],Fs.inOfficeAppointments=(Ns=gs.inOffice)!=null?Ns:[],Fs.activeApptDatesBeforeToday=(Gs=gs.activeApptDatesBeforeToday)!=null?Gs:[]),Fs},[gs]);return reactExports.useEffect(()=>{var Fs,js;localStorage.getItem("selectedVisitTypes")&&(Cs==null||Cs.set("visitType",(js=JSON.parse((Fs=localStorage.getItem("selectedVisitTypes"))!=null?Fs:""))!=null?js:""),xs("?".concat(Cs==null?void 0:Cs.toString())))},[xs,Cs]),reactExports.useEffect(()=>{var Fs,js;localStorage.getItem("selectedProviders")&&(Cs==null||Cs.set("providers",(js=JSON.parse((Fs=localStorage.getItem("selectedProviders"))!=null?Fs:""))!=null?js:""),xs("?".concat(Cs==null?void 0:Cs.toString())))},[xs,Cs]),reactExports.useEffect(()=>{var Fs,js;localStorage.getItem("selectedGroups")&&(Cs==null||Cs.set("groups",(js=JSON.parse((Fs=localStorage.getItem("selectedGroups"))!=null?Fs:""))!=null?js:""),xs("?".concat(Cs==null?void 0:Cs.toString())))},[xs,Cs]),reactExports.useEffect(()=>{var Ps,Ls;const Fs=localStorage==null?void 0:localStorage.getItem("selectedLocation");Fs&&!ns&&os(JSON.parse(Fs)),(localStorage==null?void 0:localStorage.getItem("selectedDate"))&&!ps&&(fs==null||fs((Ls=JSON.parse((Ps=localStorage.getItem("selectedDate"))!=null?Ps:""))!=null?Ls:null))},[ps,ns,Cs]),reactExports.useEffect(()=>{async function Fs(Ps){if(Ps)try{const Ls=await Ps.searchResources({resourceType:"Practitioner",searchParams:[{name:"_count",value:"1000"}]});cs(Ls)}catch(Ls){console.error("error loading practitioners",Ls)}}async function js(Ps){if(Ps)try{const Ls=await Ps.searchResources({resourceType:"HealthcareService",searchParams:[{name:"_count",value:"1000"}]});ds(Ls)}catch(Ls){console.error("error loading practitioners",Ls)}}ts&&(Fs(ts),js(ts))},[ts]),reactExports.useEffect(()=>{var js,Ps,Ls;const Fs=async(Ns,Gs)=>{if(as({status:"loading"}),($s||ns!=null&&ns.id||Ts.length>0||Is.length>0)&&(Gs||ps)&&Array.isArray(ws)){const Us=await getAppointments(Ns,{locationID:$s||(ns==null?void 0:ns.id)||void 0,searchDate:Gs,visitType:ws||[],providerIDs:Ts,groupIDs:Is});vs(Us||[]),as({status:"loaded",id:Rs})}};if((ns||Ts.length>0||Is.length>0)&&rs&&!hs&&ss.id!==Rs&&ss.status!=="loading"&&ys){const Ns=(Ls=(Ps=(js=ns==null?void 0:ns.extension)==null?void 0:js.find(Us=>Us.url===TIMEZONE_EXTENSION_URL))==null?void 0:Ps.valueString)!=null?Ls:"America/New_York",Gs=Es&&DateTime.fromISO(Es,{zone:Ns})||ps||void 0;Fs(rs,Gs)}},[ns,rs,hs,ss,Rs,$s,Es,ps,ws,Ts,Is,Cs,ys]),reactExports.useEffect(()=>{const Fs=setInterval(()=>as({status:"initial"}),3e4);return()=>clearInterval(Fs)},[]),jsxRuntimeExports.jsx(AppointmentsBody,{loadingState:ss,queryParams:Cs,handleSubmit:Ss,visitType:ws,providers:Ts,groups:Is,activeApptDatesBeforeToday:Ds,preBookedAppointments:As,completedAppointments:ks,cancelledAppointments:Ms,inOfficeAppointments:Os,locationSelected:ns,setLocationSelected:os,practitioners:ls,healthcareServices:us,appointmentDate:ps,setAppointmentDate:fs,updateAppointments:()=>as({status:"initial"}),setEditingComment:ms})}function AppointmentsBody(ts){const{loadingState:rs,activeApptDatesBeforeToday:ns,preBookedAppointments:os,completedAppointments:ss,cancelledAppointments:as,inOfficeAppointments:ls,locationSelected:cs,setLocationSelected:us,appointmentDate:ds,visitType:ps,providers:fs,groups:hs,practitioners:ms,healthcareServices:gs,setAppointmentDate:vs,queryParams:bs,handleSubmit:xs,updateAppointments:ys,setEditingComment:Ss}=ts;return jsxRuntimeExports.jsx("form",{children:jsxRuntimeExports.jsx(PageContainer,{children:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Paper$1,{sx:{padding:2},children:jsxRuntimeExports.jsxs(Grid$1,{container:!0,sx:{justifyContent:"center"},spacing:1,children:[jsxRuntimeExports.jsx(Grid$1,{item:!0,xs:2,children:jsxRuntimeExports.jsx(LocationSelect,{queryParams:bs,handleSubmit:xs,location:cs,updateURL:!0,storeLocationInLocalStorage:!0,setLocation:us})}),jsxRuntimeExports.jsx(Grid$1,{item:!0,xs:2,children:jsxRuntimeExports.jsx(DateSearch,{label:"Date",queryParams:bs,handleSubmit:xs,date:ds,setDate:vs,updateURL:!0,storeDateInLocalStorage:!0,defaultValue:DateTime.now().toLocaleString(DateTime.DATE_SHORT)})}),jsxRuntimeExports.jsx(Grid$1,{item:!0,xs:2,children:jsxRuntimeExports.jsx(Autocomplete$1,{id:"visittypes",value:(ps==null?void 0:ps.length)>0?[...ps]:Object.keys(VisitTypeToLabel),options:Object.keys(VisitTypeToLabel),getOptionLabel:Cs=>VisitTypeToLabel[Cs],onChange:(Cs,$s)=>{$s?localStorage.setItem("selectedVisitTypes",JSON.stringify($s)):localStorage.removeItem("selectedVisitTypes"),xs&&xs(Cs,$s,"visittypes")},multiple:!0,renderInput:Cs=>jsxRuntimeExports.jsx(TextField$1,{name:"visittypes",...Cs,label:"Visit type",required:!1})})}),jsxRuntimeExports.jsx(Grid$1,{item:!0,xs:2,children:jsxRuntimeExports.jsx(ProvidersSelect,{providers:fs,practitioners:ms,handleSubmit:xs})}),jsxRuntimeExports.jsx(Grid$1,{item:!0,xs:2,children:jsxRuntimeExports.jsx(GroupSelect,{groups:hs,healthcareServices:gs,handleSubmit:xs})}),jsxRuntimeExports.jsx(Grid$1,{item:!0,xs:2,sx:{alignSelf:"center"},children:jsxRuntimeExports.jsx(Link,{to:"/visits/add",children:jsxRuntimeExports.jsxs(Button$2,{sx:{borderRadius:100,textTransform:"none",fontWeight:600},variant:"contained",children:[jsxRuntimeExports.jsx(default_1$w,{}),jsxRuntimeExports.jsx(Typography$1,{fontWeight:"bold",children:"Add patient"})]})})})]})}),ns.length===0?null:jsxRuntimeExports.jsxs(Grid$1,{container:!0,spacing:1,justifyContent:"center",paddingTop:"20px",children:[jsxRuntimeExports.jsx(Grid$1,{item:!0,children:jsxRuntimeExports.jsx(ErrorIcon,{htmlColor:otherColors.priorityHighIcon,fontSize:"medium"})}),jsxRuntimeExports.jsx(Grid$1,{item:!0,children:jsxRuntimeExports.jsx(Typography$1,{textAlign:"center",color:otherColors.priorityHighText,fontWeight:"bold",children:"You have patients in the queue for the following dates. Please filter to each date and clear all patients out."})}),jsxRuntimeExports.jsx(Grid$1,{item:!0,children:jsxRuntimeExports.jsx(Typography$1,{color:otherColors.priorityHighText,textAlign:"center",children:ns.join(", ")})})]}),jsxRuntimeExports.jsx(AppointmentTabs$1,{location:cs,providers:fs,groups:hs,preBookedAppointments:os,cancelledAppointments:as,completedAppointments:ss,inOfficeAppointments:ls,loading:rs.status==="loading",updateAppointments:ys,setEditingComment:Ss}),jsxRuntimeExports.jsx(CreateDemoVisitsButton,{visitService:"in-person"})]})})})}var Delete={},_interopRequireDefault$i=interopRequireDefaultExports;Object.defineProperty(Delete,"__esModule",{value:!0});var default_1$h=Delete.default=void 0,_createSvgIcon$h=_interopRequireDefault$i(requireCreateSvgIcon()),_jsxRuntime$h=jsxRuntimeExports;default_1$h=Delete.default=(0,_createSvgIcon$h.default)((0,_jsxRuntime$h.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete");var isCheckBoxInput=ts=>ts.type==="checkbox",isDateObject=ts=>ts instanceof Date,isNullOrUndefined=ts=>ts==null;const isObjectType=ts=>typeof ts=="object";var isObject$1=ts=>!isNullOrUndefined(ts)&&!Array.isArray(ts)&&isObjectType(ts)&&!isDateObject(ts),getEventValue=ts=>isObject$1(ts)&&ts.target?isCheckBoxInput(ts.target)?ts.target.checked:ts.target.value:ts,getNodeParentName=ts=>ts.substring(0,ts.search(/\.\d+(\.|$)/))||ts,isNameInFieldArray=(ts,rs)=>ts.has(getNodeParentName(rs)),isPlainObject=ts=>{const rs=ts.constructor&&ts.constructor.prototype;return isObject$1(rs)&&rs.hasOwnProperty("isPrototypeOf")},isWeb=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function cloneObject(ts){let rs;const ns=Array.isArray(ts);if(ts instanceof Date)rs=new Date(ts);else if(ts instanceof Set)rs=new Set(ts);else if(!(isWeb&&(ts instanceof Blob||ts instanceof FileList))&&(ns||isObject$1(ts)))if(rs=ns?[]:{},!ns&&!isPlainObject(ts))rs=ts;else for(const os in ts)ts.hasOwnProperty(os)&&(rs[os]=cloneObject(ts[os]));else return ts;return rs}var compact=ts=>Array.isArray(ts)?ts.filter(Boolean):[],isUndefined=ts=>ts===void 0,get$3=(ts,rs,ns)=>{if(!rs||!isObject$1(ts))return ns;const os=compact(rs.split(/[,[\].]+?/)).reduce((ss,as)=>isNullOrUndefined(ss)?ss:ss[as],ts);return isUndefined(os)||os===ts?isUndefined(ts[rs])?ns:ts[rs]:os},isBoolean=ts=>typeof ts=="boolean",isKey=ts=>/^\w*$/.test(ts),stringToPath=ts=>compact(ts.replace(/["|']|\]/g,"").split(/\.|\[/)),set=(ts,rs,ns)=>{let os=-1;const ss=isKey(rs)?[rs]:stringToPath(rs),as=ss.length,ls=as-1;for(;++os<as;){const cs=ss[os];let us=ns;if(os!==ls){const ds=ts[cs];us=isObject$1(ds)||Array.isArray(ds)?ds:isNaN(+ss[os+1])?{}:[]}if(cs==="__proto__")return;ts[cs]=us,ts=ts[cs]}return ts};const EVENTS={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},VALIDATION_MODE={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},INPUT_VALIDATION_RULES={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},HookFormContext=React$2.createContext(null),useFormContext=()=>React$2.useContext(HookFormContext),FormProvider=ts=>{const{children:rs,...ns}=ts;return React$2.createElement(HookFormContext.Provider,{value:ns},rs)};var getProxyFormState=(ts,rs,ns,os=!0)=>{const ss={defaultValues:rs._defaultValues};for(const as in ts)Object.defineProperty(ss,as,{get:()=>{const ls=as;return rs._proxyFormState[ls]!==VALIDATION_MODE.all&&(rs._proxyFormState[ls]=!os||VALIDATION_MODE.all),ns&&(ns[ls]=!0),ts[ls]}});return ss},isEmptyObject=ts=>isObject$1(ts)&&!Object.keys(ts).length,shouldRenderFormState=(ts,rs,ns,os)=>{ns(ts);const{name:ss,...as}=ts;return isEmptyObject(as)||Object.keys(as).length>=Object.keys(rs).length||Object.keys(as).find(ls=>rs[ls]===(!os||VALIDATION_MODE.all))},convertToArrayPayload=ts=>Array.isArray(ts)?ts:[ts],shouldSubscribeByName=(ts,rs,ns)=>!ts||!rs||ts===rs||convertToArrayPayload(ts).some(os=>os&&(ns?os===rs:os.startsWith(rs)||rs.startsWith(os)));function useSubscribe(ts){const rs=React$2.useRef(ts);rs.current=ts,React$2.useEffect(()=>{const ns=!ts.disabled&&rs.current.subject&&rs.current.subject.subscribe({next:rs.current.next});return()=>{ns&&ns.unsubscribe()}},[ts.disabled])}function useFormState(ts){const rs=useFormContext(),{control:ns=rs.control,disabled:os,name:ss,exact:as}=ts||{},[ls,cs]=React$2.useState(ns._formState),us=React$2.useRef(!0),ds=React$2.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),ps=React$2.useRef(ss);return ps.current=ss,useSubscribe({disabled:os,next:fs=>us.current&&shouldSubscribeByName(ps.current,fs.name,as)&&shouldRenderFormState(fs,ds.current,ns._updateFormState)&&cs({...ns._formState,...fs}),subject:ns._subjects.state}),React$2.useEffect(()=>(us.current=!0,ds.current.isValid&&ns._updateValid(!0),()=>{us.current=!1}),[ns]),getProxyFormState(ls,ns,ds.current,!1)}var isString$1=ts=>typeof ts=="string",generateWatchOutput=(ts,rs,ns,os,ss)=>isString$1(ts)?(os&&rs.watch.add(ts),get$3(ns,ts,ss)):Array.isArray(ts)?ts.map(as=>(os&&rs.watch.add(as),get$3(ns,as))):(os&&(rs.watchAll=!0),ns);function useWatch(ts){const rs=useFormContext(),{control:ns=rs.control,name:os,defaultValue:ss,disabled:as,exact:ls}=ts||{},cs=React$2.useRef(os);cs.current=os,useSubscribe({disabled:as,subject:ns._subjects.values,next:ps=>{shouldSubscribeByName(cs.current,ps.name,ls)&&ds(cloneObject(generateWatchOutput(cs.current,ns._names,ps.values||ns._formValues,!1,ss)))}});const[us,ds]=React$2.useState(ns._getWatch(os,ss));return React$2.useEffect(()=>ns._removeUnmounted()),us}function useController(ts){const rs=useFormContext(),{name:ns,disabled:os,control:ss=rs.control,shouldUnregister:as}=ts,ls=isNameInFieldArray(ss._names.array,ns),cs=useWatch({control:ss,name:ns,defaultValue:get$3(ss._formValues,ns,get$3(ss._defaultValues,ns,ts.defaultValue)),exact:!0}),us=useFormState({control:ss,name:ns}),ds=React$2.useRef(ss.register(ns,{...ts.rules,value:cs,...isBoolean(ts.disabled)?{disabled:ts.disabled}:{}}));return React$2.useEffect(()=>{const ps=ss._options.shouldUnregister||as,fs=(hs,ms)=>{const gs=get$3(ss._fields,hs);gs&&gs._f&&(gs._f.mount=ms)};if(fs(ns,!0),ps){const hs=cloneObject(get$3(ss._options.defaultValues,ns));set(ss._defaultValues,ns,hs),isUndefined(get$3(ss._formValues,ns))&&set(ss._formValues,ns,hs)}return()=>{(ls?ps&&!ss._state.action:ps)?ss.unregister(ns):fs(ns,!1)}},[ns,ss,ls,as]),React$2.useEffect(()=>{get$3(ss._fields,ns)&&ss._updateDisabledField({disabled:os,fields:ss._fields,name:ns,value:get$3(ss._fields,ns)._f.value})},[os,ns,ss]),{field:{name:ns,value:cs,...isBoolean(os)||us.disabled?{disabled:us.disabled||os}:{},onChange:React$2.useCallback(ps=>ds.current.onChange({target:{value:getEventValue(ps),name:ns},type:EVENTS.CHANGE}),[ns]),onBlur:React$2.useCallback(()=>ds.current.onBlur({target:{value:get$3(ss._formValues,ns),name:ns},type:EVENTS.BLUR}),[ns,ss]),ref:ps=>{const fs=get$3(ss._fields,ns);fs&&ps&&(fs._f.ref={focus:()=>ps.focus(),select:()=>ps.select(),setCustomValidity:hs=>ps.setCustomValidity(hs),reportValidity:()=>ps.reportValidity()})}},formState:us,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!get$3(us.errors,ns)},isDirty:{enumerable:!0,get:()=>!!get$3(us.dirtyFields,ns)},isTouched:{enumerable:!0,get:()=>!!get$3(us.touchedFields,ns)},isValidating:{enumerable:!0,get:()=>!!get$3(us.validatingFields,ns)},error:{enumerable:!0,get:()=>get$3(us.errors,ns)}})}}const Controller=ts=>ts.render(useController(ts));var appendErrors=(ts,rs,ns,os,ss)=>rs?{...ns[ts],types:{...ns[ts]&&ns[ts].types?ns[ts].types:{},[os]:ss||!0}}:{},getValidationModes=ts=>({isOnSubmit:!ts||ts===VALIDATION_MODE.onSubmit,isOnBlur:ts===VALIDATION_MODE.onBlur,isOnChange:ts===VALIDATION_MODE.onChange,isOnAll:ts===VALIDATION_MODE.all,isOnTouch:ts===VALIDATION_MODE.onTouched}),isWatched=(ts,rs,ns)=>!ns&&(rs.watchAll||rs.watch.has(ts)||[...rs.watch].some(os=>ts.startsWith(os)&&/^\.\w+/.test(ts.slice(os.length))));const iterateFieldsByAction=(ts,rs,ns,os)=>{for(const ss of ns||Object.keys(ts)){const as=get$3(ts,ss);if(as){const{_f:ls,...cs}=as;if(ls){if(ls.refs&&ls.refs[0]&&rs(ls.refs[0],ss)&&!os)break;if(ls.ref&&rs(ls.ref,ls.name)&&!os)break;iterateFieldsByAction(cs,rs)}else isObject$1(cs)&&iterateFieldsByAction(cs,rs)}}};var updateFieldArrayRootError=(ts,rs,ns)=>{const os=convertToArrayPayload(get$3(ts,ns));return set(os,"root",rs[ns]),set(ts,ns,os),ts},isFileInput=ts=>ts.type==="file",isFunction$1=ts=>typeof ts=="function",isHTMLElement$1=ts=>{if(!isWeb)return!1;const rs=ts?ts.ownerDocument:0;return ts instanceof(rs&&rs.defaultView?rs.defaultView.HTMLElement:HTMLElement)},isMessage=ts=>isString$1(ts),isRadioInput=ts=>ts.type==="radio",isRegex=ts=>ts instanceof RegExp;const defaultResult={value:!1,isValid:!1},validResult={value:!0,isValid:!0};var getCheckboxValue=ts=>{if(Array.isArray(ts)){if(ts.length>1){const rs=ts.filter(ns=>ns&&ns.checked&&!ns.disabled).map(ns=>ns.value);return{value:rs,isValid:!!rs.length}}return ts[0].checked&&!ts[0].disabled?ts[0].attributes&&!isUndefined(ts[0].attributes.value)?isUndefined(ts[0].value)||ts[0].value===""?validResult:{value:ts[0].value,isValid:!0}:validResult:defaultResult}return defaultResult};const defaultReturn={isValid:!1,value:null};var getRadioValue=ts=>Array.isArray(ts)?ts.reduce((rs,ns)=>ns&&ns.checked&&!ns.disabled?{isValid:!0,value:ns.value}:rs,defaultReturn):defaultReturn;function getValidateError(ts,rs,ns="validate"){if(isMessage(ts)||Array.isArray(ts)&&ts.every(isMessage)||isBoolean(ts)&&!ts)return{type:ns,message:isMessage(ts)?ts:"",ref:rs}}var getValueAndMessage=ts=>isObject$1(ts)&&!isRegex(ts)?ts:{value:ts,message:""},validateField=async(ts,rs,ns,os,ss)=>{const{ref:as,refs:ls,required:cs,maxLength:us,minLength:ds,min:ps,max:fs,pattern:hs,validate:ms,name:gs,valueAsNumber:vs,mount:bs,disabled:xs}=ts._f,ys=get$3(rs,gs);if(!bs||xs)return{};const Ss=ls?ls[0]:as,Cs=ks=>{os&&Ss.reportValidity&&(Ss.setCustomValidity(isBoolean(ks)?"":ks||""),Ss.reportValidity())},$s={},Es=isRadioInput(as),ws=isCheckBoxInput(as),Ts=Es||ws,Is=(vs||isFileInput(as))&&isUndefined(as.value)&&isUndefined(ys)||isHTMLElement$1(as)&&as.value===""||ys===""||Array.isArray(ys)&&!ys.length,Rs=appendErrors.bind(null,gs,ns,$s),As=(ks,Ms,Os,Ds=INPUT_VALIDATION_RULES.maxLength,Fs=INPUT_VALIDATION_RULES.minLength)=>{const js=ks?Ms:Os;$s[gs]={type:ks?Ds:Fs,message:js,ref:as,...Rs(ks?Ds:Fs,js)}};if(ss?!Array.isArray(ys)||!ys.length:cs&&(!Ts&&(Is||isNullOrUndefined(ys))||isBoolean(ys)&&!ys||ws&&!getCheckboxValue(ls).isValid||Es&&!getRadioValue(ls).isValid)){const{value:ks,message:Ms}=isMessage(cs)?{value:!!cs,message:cs}:getValueAndMessage(cs);if(ks&&($s[gs]={type:INPUT_VALIDATION_RULES.required,message:Ms,ref:Ss,...Rs(INPUT_VALIDATION_RULES.required,Ms)},!ns))return Cs(Ms),$s}if(!Is&&(!isNullOrUndefined(ps)||!isNullOrUndefined(fs))){let ks,Ms;const Os=getValueAndMessage(fs),Ds=getValueAndMessage(ps);if(!isNullOrUndefined(ys)&&!isNaN(ys)){const Fs=as.valueAsNumber||ys&&+ys;isNullOrUndefined(Os.value)||(ks=Fs>Os.value),isNullOrUndefined(Ds.value)||(Ms=Fs<Ds.value)}else{const Fs=as.valueAsDate||new Date(ys),js=Ns=>new Date(new Date().toDateString()+" "+Ns),Ps=as.type=="time",Ls=as.type=="week";isString$1(Os.value)&&ys&&(ks=Ps?js(ys)>js(Os.value):Ls?ys>Os.value:Fs>new Date(Os.value)),isString$1(Ds.value)&&ys&&(Ms=Ps?js(ys)<js(Ds.value):Ls?ys<Ds.value:Fs<new Date(Ds.value))}if((ks||Ms)&&(As(!!ks,Os.message,Ds.message,INPUT_VALIDATION_RULES.max,INPUT_VALIDATION_RULES.min),!ns))return Cs($s[gs].message),$s}if((us||ds)&&!Is&&(isString$1(ys)||ss&&Array.isArray(ys))){const ks=getValueAndMessage(us),Ms=getValueAndMessage(ds),Os=!isNullOrUndefined(ks.value)&&ys.length>+ks.value,Ds=!isNullOrUndefined(Ms.value)&&ys.length<+Ms.value;if((Os||Ds)&&(As(Os,ks.message,Ms.message),!ns))return Cs($s[gs].message),$s}if(hs&&!Is&&isString$1(ys)){const{value:ks,message:Ms}=getValueAndMessage(hs);if(isRegex(ks)&&!ys.match(ks)&&($s[gs]={type:INPUT_VALIDATION_RULES.pattern,message:Ms,ref:as,...Rs(INPUT_VALIDATION_RULES.pattern,Ms)},!ns))return Cs(Ms),$s}if(ms){if(isFunction$1(ms)){const ks=await ms(ys,rs),Ms=getValidateError(ks,Ss);if(Ms&&($s[gs]={...Ms,...Rs(INPUT_VALIDATION_RULES.validate,Ms.message)},!ns))return Cs(Ms.message),$s}else if(isObject$1(ms)){let ks={};for(const Ms in ms){if(!isEmptyObject(ks)&&!ns)break;const Os=getValidateError(await ms[Ms](ys,rs),Ss,Ms);Os&&(ks={...Os,...Rs(Ms,Os.message)},Cs(Os.message),ns&&($s[gs]=ks))}if(!isEmptyObject(ks)&&($s[gs]={ref:Ss,...ks},!ns))return $s}}return Cs(!0),$s};function baseGet(ts,rs){const ns=rs.slice(0,-1).length;let os=0;for(;os<ns;)ts=isUndefined(ts)?os++:ts[rs[os++]];return ts}function isEmptyArray(ts){for(const rs in ts)if(ts.hasOwnProperty(rs)&&!isUndefined(ts[rs]))return!1;return!0}function unset(ts,rs){const ns=Array.isArray(rs)?rs:isKey(rs)?[rs]:stringToPath(rs),os=ns.length===1?ts:baseGet(ts,ns),ss=ns.length-1,as=ns[ss];return os&&delete os[as],ss!==0&&(isObject$1(os)&&isEmptyObject(os)||Array.isArray(os)&&isEmptyArray(os))&&unset(ts,ns.slice(0,-1)),ts}var createSubject=()=>{let ts=[];return{get observers(){return ts},next:ss=>{for(const as of ts)as.next&&as.next(ss)},subscribe:ss=>(ts.push(ss),{unsubscribe:()=>{ts=ts.filter(as=>as!==ss)}}),unsubscribe:()=>{ts=[]}}},isPrimitive$1=ts=>isNullOrUndefined(ts)||!isObjectType(ts);function deepEqual(ts,rs){if(isPrimitive$1(ts)||isPrimitive$1(rs))return ts===rs;if(isDateObject(ts)&&isDateObject(rs))return ts.getTime()===rs.getTime();const ns=Object.keys(ts),os=Object.keys(rs);if(ns.length!==os.length)return!1;for(const ss of ns){const as=ts[ss];if(!os.includes(ss))return!1;if(ss!=="ref"){const ls=rs[ss];if(isDateObject(as)&&isDateObject(ls)||isObject$1(as)&&isObject$1(ls)||Array.isArray(as)&&Array.isArray(ls)?!deepEqual(as,ls):as!==ls)return!1}}return!0}var isMultipleSelect=ts=>ts.type==="select-multiple",isRadioOrCheckbox=ts=>isRadioInput(ts)||isCheckBoxInput(ts),live=ts=>isHTMLElement$1(ts)&&ts.isConnected,objectHasFunction=ts=>{for(const rs in ts)if(isFunction$1(ts[rs]))return!0;return!1};function markFieldsDirty(ts,rs={}){const ns=Array.isArray(ts);if(isObject$1(ts)||ns)for(const os in ts)Array.isArray(ts[os])||isObject$1(ts[os])&&!objectHasFunction(ts[os])?(rs[os]=Array.isArray(ts[os])?[]:{},markFieldsDirty(ts[os],rs[os])):isNullOrUndefined(ts[os])||(rs[os]=!0);return rs}function getDirtyFieldsFromDefaultValues(ts,rs,ns){const os=Array.isArray(ts);if(isObject$1(ts)||os)for(const ss in ts)Array.isArray(ts[ss])||isObject$1(ts[ss])&&!objectHasFunction(ts[ss])?isUndefined(rs)||isPrimitive$1(ns[ss])?ns[ss]=Array.isArray(ts[ss])?markFieldsDirty(ts[ss],[]):{...markFieldsDirty(ts[ss])}:getDirtyFieldsFromDefaultValues(ts[ss],isNullOrUndefined(rs)?{}:rs[ss],ns[ss]):ns[ss]=!deepEqual(ts[ss],rs[ss]);return ns}var getDirtyFields=(ts,rs)=>getDirtyFieldsFromDefaultValues(ts,rs,markFieldsDirty(rs)),getFieldValueAs=(ts,{valueAsNumber:rs,valueAsDate:ns,setValueAs:os})=>isUndefined(ts)?ts:rs?ts===""?NaN:ts&&+ts:ns&&isString$1(ts)?new Date(ts):os?os(ts):ts;function getFieldValue(ts){const rs=ts.ref;if(!(ts.refs?ts.refs.every(ns=>ns.disabled):rs.disabled))return isFileInput(rs)?rs.files:isRadioInput(rs)?getRadioValue(ts.refs).value:isMultipleSelect(rs)?[...rs.selectedOptions].map(({value:ns})=>ns):isCheckBoxInput(rs)?getCheckboxValue(ts.refs).value:getFieldValueAs(isUndefined(rs.value)?ts.ref.value:rs.value,ts)}var getResolverOptions=(ts,rs,ns,os)=>{const ss={};for(const as of ts){const ls=get$3(rs,as);ls&&set(ss,as,ls._f)}return{criteriaMode:ns,names:[...ts],fields:ss,shouldUseNativeValidation:os}},getRuleValue=ts=>isUndefined(ts)?ts:isRegex(ts)?ts.source:isObject$1(ts)?isRegex(ts.value)?ts.value.source:ts.value:ts,hasValidation=ts=>ts.mount&&(ts.required||ts.min||ts.max||ts.maxLength||ts.minLength||ts.pattern||ts.validate);function schemaErrorLookup(ts,rs,ns){const os=get$3(ts,ns);if(os||isKey(ns))return{error:os,name:ns};const ss=ns.split(".");for(;ss.length;){const as=ss.join("."),ls=get$3(rs,as),cs=get$3(ts,as);if(ls&&!Array.isArray(ls)&&ns!==as)return{name:ns};if(cs&&cs.type)return{name:as,error:cs};ss.pop()}return{name:ns}}var skipValidation=(ts,rs,ns,os,ss)=>ss.isOnAll?!1:!ns&&ss.isOnTouch?!(rs||ts):(ns?os.isOnBlur:ss.isOnBlur)?!ts:(ns?os.isOnChange:ss.isOnChange)?ts:!0,unsetEmptyArray=(ts,rs)=>!compact(get$3(ts,rs)).length&&unset(ts,rs);const defaultOptions={mode:VALIDATION_MODE.onSubmit,reValidateMode:VALIDATION_MODE.onChange,shouldFocusError:!0};function createFormControl(ts={}){let rs={...defaultOptions,...ts},ns={submitCount:0,isDirty:!1,isLoading:isFunction$1(rs.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:rs.errors||{},disabled:rs.disabled||!1},os={},ss=isObject$1(rs.defaultValues)||isObject$1(rs.values)?cloneObject(rs.defaultValues||rs.values)||{}:{},as=rs.shouldUnregister?{}:cloneObject(ss),ls={action:!1,mount:!1,watch:!1},cs={mount:new Set,unMount:new Set,array:new Set,watch:new Set},us,ds=0;const ps={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},fs={values:createSubject(),array:createSubject(),state:createSubject()},hs=getValidationModes(rs.mode),ms=getValidationModes(rs.reValidateMode),gs=rs.criteriaMode===VALIDATION_MODE.all,vs=Bs=>Zs=>{clearTimeout(ds),ds=setTimeout(Bs,Zs)},bs=async Bs=>{if(ps.isValid||Bs){const Zs=rs.resolver?isEmptyObject((await Ts()).errors):await Rs(os,!0);Zs!==ns.isValid&&fs.state.next({isValid:Zs})}},xs=(Bs,Zs)=>{(ps.isValidating||ps.validatingFields)&&((Bs||Array.from(cs.mount)).forEach(Ys=>{Ys&&(Zs?set(ns.validatingFields,Ys,Zs):unset(ns.validatingFields,Ys))}),fs.state.next({validatingFields:ns.validatingFields,isValidating:!isEmptyObject(ns.validatingFields)}))},ys=(Bs,Zs=[],Ys,_l,Cl=!0,Xs=!0)=>{if(_l&&Ys){if(ls.action=!0,Xs&&Array.isArray(get$3(os,Bs))){const xl=Ys(get$3(os,Bs),_l.argA,_l.argB);Cl&&set(os,Bs,xl)}if(Xs&&Array.isArray(get$3(ns.errors,Bs))){const xl=Ys(get$3(ns.errors,Bs),_l.argA,_l.argB);Cl&&set(ns.errors,Bs,xl),unsetEmptyArray(ns.errors,Bs)}if(ps.touchedFields&&Xs&&Array.isArray(get$3(ns.touchedFields,Bs))){const xl=Ys(get$3(ns.touchedFields,Bs),_l.argA,_l.argB);Cl&&set(ns.touchedFields,Bs,xl)}ps.dirtyFields&&(ns.dirtyFields=getDirtyFields(ss,as)),fs.state.next({name:Bs,isDirty:ks(Bs,Zs),dirtyFields:ns.dirtyFields,errors:ns.errors,isValid:ns.isValid})}else set(as,Bs,Zs)},Ss=(Bs,Zs)=>{set(ns.errors,Bs,Zs),fs.state.next({errors:ns.errors})},Cs=Bs=>{ns.errors=Bs,fs.state.next({errors:ns.errors,isValid:!1})},$s=(Bs,Zs,Ys,_l)=>{const Cl=get$3(os,Bs);if(Cl){const Xs=get$3(as,Bs,isUndefined(Ys)?get$3(ss,Bs):Ys);isUndefined(Xs)||_l&&_l.defaultChecked||Zs?set(as,Bs,Zs?Xs:getFieldValue(Cl._f)):Ds(Bs,Xs),ls.mount&&bs()}},Es=(Bs,Zs,Ys,_l,Cl)=>{let Xs=!1,xl=!1;const $a={name:Bs},Dl=!!(get$3(os,Bs)&&get$3(os,Bs)._f&&get$3(os,Bs)._f.disabled);if(!Ys||_l){ps.isDirty&&(xl=ns.isDirty,ns.isDirty=$a.isDirty=ks(),Xs=xl!==$a.isDirty);const Ol=Dl||deepEqual(get$3(ss,Bs),Zs);xl=!!(!Dl&&get$3(ns.dirtyFields,Bs)),Ol||Dl?unset(ns.dirtyFields,Bs):set(ns.dirtyFields,Bs,!0),$a.dirtyFields=ns.dirtyFields,Xs=Xs||ps.dirtyFields&&xl!==!Ol}if(Ys){const Ol=get$3(ns.touchedFields,Bs);Ol||(set(ns.touchedFields,Bs,Ys),$a.touchedFields=ns.touchedFields,Xs=Xs||ps.touchedFields&&Ol!==Ys)}return Xs&&Cl&&fs.state.next($a),Xs?$a:{}},ws=(Bs,Zs,Ys,_l)=>{const Cl=get$3(ns.errors,Bs),Xs=ps.isValid&&isBoolean(Zs)&&ns.isValid!==Zs;if(ts.delayError&&Ys?(us=vs(()=>Ss(Bs,Ys)),us(ts.delayError)):(clearTimeout(ds),us=null,Ys?set(ns.errors,Bs,Ys):unset(ns.errors,Bs)),(Ys?!deepEqual(Cl,Ys):Cl)||!isEmptyObject(_l)||Xs){const xl={..._l,...Xs&&isBoolean(Zs)?{isValid:Zs}:{},errors:ns.errors,name:Bs};ns={...ns,...xl},fs.state.next(xl)}},Ts=async Bs=>{xs(Bs,!0);const Zs=await rs.resolver(as,rs.context,getResolverOptions(Bs||cs.mount,os,rs.criteriaMode,rs.shouldUseNativeValidation));return xs(Bs),Zs},Is=async Bs=>{const{errors:Zs}=await Ts(Bs);if(Bs)for(const Ys of Bs){const _l=get$3(Zs,Ys);_l?set(ns.errors,Ys,_l):unset(ns.errors,Ys)}else ns.errors=Zs;return Zs},Rs=async(Bs,Zs,Ys={valid:!0})=>{for(const _l in Bs){const Cl=Bs[_l];if(Cl){const{_f:Xs,...xl}=Cl;if(Xs){const $a=cs.array.has(Xs.name);xs([_l],!0);const Dl=await validateField(Cl,as,gs,rs.shouldUseNativeValidation&&!Zs,$a);if(xs([_l]),Dl[Xs.name]&&(Ys.valid=!1,Zs))break;!Zs&&(get$3(Dl,Xs.name)?$a?updateFieldArrayRootError(ns.errors,Dl,Xs.name):set(ns.errors,Xs.name,Dl[Xs.name]):unset(ns.errors,Xs.name))}xl&&await Rs(xl,Zs,Ys)}}return Ys.valid},As=()=>{for(const Bs of cs.unMount){const Zs=get$3(os,Bs);Zs&&(Zs._f.refs?Zs._f.refs.every(Ys=>!live(Ys)):!live(Zs._f.ref))&&Vs(Bs)}cs.unMount=new Set},ks=(Bs,Zs)=>(Bs&&Zs&&set(as,Bs,Zs),!deepEqual(Gs(),ss)),Ms=(Bs,Zs,Ys)=>generateWatchOutput(Bs,cs,{...ls.mount?as:isUndefined(Zs)?ss:isString$1(Bs)?{[Bs]:Zs}:Zs},Ys,Zs),Os=Bs=>compact(get$3(ls.mount?as:ss,Bs,ts.shouldUnregister?get$3(ss,Bs,[]):[])),Ds=(Bs,Zs,Ys={})=>{const _l=get$3(os,Bs);let Cl=Zs;if(_l){const Xs=_l._f;Xs&&(!Xs.disabled&&set(as,Bs,getFieldValueAs(Zs,Xs)),Cl=isHTMLElement$1(Xs.ref)&&isNullOrUndefined(Zs)?"":Zs,isMultipleSelect(Xs.ref)?[...Xs.ref.options].forEach(xl=>xl.selected=Cl.includes(xl.value)):Xs.refs?isCheckBoxInput(Xs.ref)?Xs.refs.length>1?Xs.refs.forEach(xl=>(!xl.defaultChecked||!xl.disabled)&&(xl.checked=Array.isArray(Cl)?!!Cl.find($a=>$a===xl.value):Cl===xl.value)):Xs.refs[0]&&(Xs.refs[0].checked=!!Cl):Xs.refs.forEach(xl=>xl.checked=xl.value===Cl):isFileInput(Xs.ref)?Xs.ref.value="":(Xs.ref.value=Cl,Xs.ref.type||fs.values.next({name:Bs,values:{...as}})))}(Ys.shouldDirty||Ys.shouldTouch)&&Es(Bs,Cl,Ys.shouldTouch,Ys.shouldDirty,!0),Ys.shouldValidate&&Ns(Bs)},Fs=(Bs,Zs,Ys)=>{for(const _l in Zs){const Cl=Zs[_l],Xs="".concat(Bs,".").concat(_l),xl=get$3(os,Xs);(cs.array.has(Bs)||!isPrimitive$1(Cl)||xl&&!xl._f)&&!isDateObject(Cl)?Fs(Xs,Cl,Ys):Ds(Xs,Cl,Ys)}},js=(Bs,Zs,Ys={})=>{const _l=get$3(os,Bs),Cl=cs.array.has(Bs),Xs=cloneObject(Zs);set(as,Bs,Xs),Cl?(fs.array.next({name:Bs,values:{...as}}),(ps.isDirty||ps.dirtyFields)&&Ys.shouldDirty&&fs.state.next({name:Bs,dirtyFields:getDirtyFields(ss,as),isDirty:ks(Bs,Xs)})):_l&&!_l._f&&!isNullOrUndefined(Xs)?Fs(Bs,Xs,Ys):Ds(Bs,Xs,Ys),isWatched(Bs,cs)&&fs.state.next({...ns}),fs.values.next({name:ls.mount?Bs:void 0,values:{...as}})},Ps=async Bs=>{ls.mount=!0;const Zs=Bs.target;let Ys=Zs.name,_l=!0;const Cl=get$3(os,Ys),Xs=()=>Zs.type?getFieldValue(Cl._f):getEventValue(Bs),xl=$a=>{_l=Number.isNaN($a)||$a===get$3(as,Ys,$a)};if(Cl){let $a,Dl;const Ol=Xs(),Ll=Bs.type===EVENTS.BLUR||Bs.type===EVENTS.FOCUS_OUT,Vl=!hasValidation(Cl._f)&&!rs.resolver&&!get$3(ns.errors,Ys)&&!Cl._f.deps||skipValidation(Ll,get$3(ns.touchedFields,Ys),ns.isSubmitted,ms,hs),Xl=isWatched(Ys,cs,Ll);set(as,Ys,Ol),Ll?(Cl._f.onBlur&&Cl._f.onBlur(Bs),us&&us(0)):Cl._f.onChange&&Cl._f.onChange(Bs);const Ql=Es(Ys,Ol,Ll,!1),Kl=!isEmptyObject(Ql)||Xl;if(!Ll&&fs.values.next({name:Ys,type:Bs.type,values:{...as}}),Vl)return ps.isValid&&bs(),Kl&&fs.state.next({name:Ys,...Xl?{}:Ql});if(!Ll&&Xl&&fs.state.next({...ns}),rs.resolver){const{errors:Gl}=await Ts([Ys]);if(xl(Ol),_l){const nu=schemaErrorLookup(ns.errors,os,Ys),Bl=schemaErrorLookup(Gl,os,nu.name||Ys);$a=Bl.error,Ys=Bl.name,Dl=isEmptyObject(Gl)}}else xs([Ys],!0),$a=(await validateField(Cl,as,gs,rs.shouldUseNativeValidation))[Ys],xs([Ys]),xl(Ol),_l&&($a?Dl=!1:ps.isValid&&(Dl=await Rs(os,!0)));_l&&(Cl._f.deps&&Ns(Cl._f.deps),ws(Ys,Dl,$a,Ql))}},Ls=(Bs,Zs)=>{if(get$3(ns.errors,Zs)&&Bs.focus)return Bs.focus(),1},Ns=async(Bs,Zs={})=>{let Ys,_l;const Cl=convertToArrayPayload(Bs);if(rs.resolver){const Xs=await Is(isUndefined(Bs)?Bs:Cl);Ys=isEmptyObject(Xs),_l=Bs?!Cl.some(xl=>get$3(Xs,xl)):Ys}else Bs?(_l=(await Promise.all(Cl.map(async Xs=>{const xl=get$3(os,Xs);return await Rs(xl&&xl._f?{[Xs]:xl}:xl)}))).every(Boolean),!(!_l&&!ns.isValid)&&bs()):_l=Ys=await Rs(os);return fs.state.next({...!isString$1(Bs)||ps.isValid&&Ys!==ns.isValid?{}:{name:Bs},...rs.resolver||!Bs?{isValid:Ys}:{},errors:ns.errors}),Zs.shouldFocus&&!_l&&iterateFieldsByAction(os,Ls,Bs?Cl:cs.mount),_l},Gs=Bs=>{const Zs={...ls.mount?as:ss};return isUndefined(Bs)?Zs:isString$1(Bs)?get$3(Zs,Bs):Bs.map(Ys=>get$3(Zs,Ys))},Us=(Bs,Zs)=>({invalid:!!get$3((Zs||ns).errors,Bs),isDirty:!!get$3((Zs||ns).dirtyFields,Bs),error:get$3((Zs||ns).errors,Bs),isValidating:!!get$3(ns.validatingFields,Bs),isTouched:!!get$3((Zs||ns).touchedFields,Bs)}),Hs=Bs=>{Bs&&convertToArrayPayload(Bs).forEach(Zs=>unset(ns.errors,Zs)),fs.state.next({errors:Bs?ns.errors:{}})},zs=(Bs,Zs,Ys)=>{const _l=(get$3(os,Bs,{_f:{}})._f||{}).ref,Cl=get$3(ns.errors,Bs)||{},{ref:Xs,message:xl,type:$a,...Dl}=Cl;set(ns.errors,Bs,{...Dl,...Zs,ref:_l}),fs.state.next({name:Bs,errors:ns.errors,isValid:!1}),Ys&&Ys.shouldFocus&&_l&&_l.focus&&_l.focus()},qs=(Bs,Zs)=>isFunction$1(Bs)?fs.values.subscribe({next:Ys=>Bs(Ms(void 0,Zs),Ys)}):Ms(Bs,Zs,!0),Vs=(Bs,Zs={})=>{for(const Ys of Bs?convertToArrayPayload(Bs):cs.mount)cs.mount.delete(Ys),cs.array.delete(Ys),Zs.keepValue||(unset(os,Ys),unset(as,Ys)),!Zs.keepError&&unset(ns.errors,Ys),!Zs.keepDirty&&unset(ns.dirtyFields,Ys),!Zs.keepTouched&&unset(ns.touchedFields,Ys),!Zs.keepIsValidating&&unset(ns.validatingFields,Ys),!rs.shouldUnregister&&!Zs.keepDefaultValue&&unset(ss,Ys);fs.values.next({values:{...as}}),fs.state.next({...ns,...Zs.keepDirty?{isDirty:ks()}:{}}),!Zs.keepIsValid&&bs()},Ks=({disabled:Bs,name:Zs,field:Ys,fields:_l,value:Cl})=>{if(isBoolean(Bs)&&ls.mount||Bs){const Xs=Bs?void 0:isUndefined(Cl)?getFieldValue(Ys?Ys._f:get$3(_l,Zs)._f):Cl;set(as,Zs,Xs),Es(Zs,Xs,!1,!1,!0)}},Ws=(Bs,Zs={})=>{let Ys=get$3(os,Bs);const _l=isBoolean(Zs.disabled);return set(os,Bs,{...Ys||{},_f:{...Ys&&Ys._f?Ys._f:{ref:{name:Bs}},name:Bs,mount:!0,...Zs}}),cs.mount.add(Bs),Ys?Ks({field:Ys,disabled:Zs.disabled,name:Bs,value:Zs.value}):$s(Bs,!0,Zs.value),{..._l?{disabled:Zs.disabled}:{},...rs.progressive?{required:!!Zs.required,min:getRuleValue(Zs.min),max:getRuleValue(Zs.max),minLength:getRuleValue(Zs.minLength),maxLength:getRuleValue(Zs.maxLength),pattern:getRuleValue(Zs.pattern)}:{},name:Bs,onChange:Ps,onBlur:Ps,ref:Cl=>{if(Cl){Ws(Bs,Zs),Ys=get$3(os,Bs);const Xs=isUndefined(Cl.value)&&Cl.querySelectorAll&&Cl.querySelectorAll("input,select,textarea")[0]||Cl,xl=isRadioOrCheckbox(Xs),$a=Ys._f.refs||[];if(xl?$a.find(Dl=>Dl===Xs):Xs===Ys._f.ref)return;set(os,Bs,{_f:{...Ys._f,...xl?{refs:[...$a.filter(live),Xs,...Array.isArray(get$3(ss,Bs))?[{}]:[]],ref:{type:Xs.type,name:Bs}}:{ref:Xs}}}),$s(Bs,!1,void 0,Xs)}else Ys=get$3(os,Bs,{}),Ys._f&&(Ys._f.mount=!1),(rs.shouldUnregister||Zs.shouldUnregister)&&!(isNameInFieldArray(cs.array,Bs)&&ls.action)&&cs.unMount.add(Bs)}}},Pl=()=>rs.shouldFocusError&&iterateFieldsByAction(os,Ls,cs.mount),Tl=Bs=>{isBoolean(Bs)&&(fs.state.next({disabled:Bs}),iterateFieldsByAction(os,(Zs,Ys)=>{const _l=get$3(os,Ys);_l&&(Zs.disabled=_l._f.disabled||Bs,Array.isArray(_l._f.refs)&&_l._f.refs.forEach(Cl=>{Cl.disabled=_l._f.disabled||Bs}))},0,!1))},El=(Bs,Zs)=>async Ys=>{let _l;Ys&&(Ys.preventDefault&&Ys.preventDefault(),Ys.persist&&Ys.persist());let Cl=cloneObject(as);if(fs.state.next({isSubmitting:!0}),rs.resolver){const{errors:Xs,values:xl}=await Ts();ns.errors=Xs,Cl=xl}else await Rs(os);if(unset(ns.errors,"root"),isEmptyObject(ns.errors)){fs.state.next({errors:{}});try{await Bs(Cl,Ys)}catch(Xs){_l=Xs}}else Zs&&await Zs({...ns.errors},Ys),Pl(),setTimeout(Pl);if(fs.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:isEmptyObject(ns.errors)&&!_l,submitCount:ns.submitCount+1,errors:ns.errors}),_l)throw _l},$l=(Bs,Zs={})=>{get$3(os,Bs)&&(isUndefined(Zs.defaultValue)?js(Bs,cloneObject(get$3(ss,Bs))):(js(Bs,Zs.defaultValue),set(ss,Bs,cloneObject(Zs.defaultValue))),Zs.keepTouched||unset(ns.touchedFields,Bs),Zs.keepDirty||(unset(ns.dirtyFields,Bs),ns.isDirty=Zs.defaultValue?ks(Bs,cloneObject(get$3(ss,Bs))):ks()),Zs.keepError||(unset(ns.errors,Bs),ps.isValid&&bs()),fs.state.next({...ns}))},Sl=(Bs,Zs={})=>{const Ys=Bs?cloneObject(Bs):ss,_l=cloneObject(Ys),Cl=isEmptyObject(Bs),Xs=Cl?ss:_l;if(Zs.keepDefaultValues||(ss=Ys),!Zs.keepValues){if(Zs.keepDirtyValues)for(const xl of cs.mount)get$3(ns.dirtyFields,xl)?set(Xs,xl,get$3(as,xl)):js(xl,get$3(Xs,xl));else{if(isWeb&&isUndefined(Bs))for(const xl of cs.mount){const $a=get$3(os,xl);if($a&&$a._f){const Dl=Array.isArray($a._f.refs)?$a._f.refs[0]:$a._f.ref;if(isHTMLElement$1(Dl)){const Ol=Dl.closest("form");if(Ol){Ol.reset();break}}}}os={}}as=ts.shouldUnregister?Zs.keepDefaultValues?cloneObject(ss):{}:cloneObject(Xs),fs.array.next({values:{...Xs}}),fs.values.next({values:{...Xs}})}cs={mount:Zs.keepDirtyValues?cs.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},ls.mount=!ps.isValid||!!Zs.keepIsValid||!!Zs.keepDirtyValues,ls.watch=!!ts.shouldUnregister,fs.state.next({submitCount:Zs.keepSubmitCount?ns.submitCount:0,isDirty:Cl?!1:Zs.keepDirty?ns.isDirty:!!(Zs.keepDefaultValues&&!deepEqual(Bs,ss)),isSubmitted:Zs.keepIsSubmitted?ns.isSubmitted:!1,dirtyFields:Cl?{}:Zs.keepDirtyValues?Zs.keepDefaultValues&&as?getDirtyFields(ss,as):ns.dirtyFields:Zs.keepDefaultValues&&Bs?getDirtyFields(ss,Bs):Zs.keepDirty?ns.dirtyFields:{},touchedFields:Zs.keepTouched?ns.touchedFields:{},errors:Zs.keepErrors?ns.errors:{},isSubmitSuccessful:Zs.keepIsSubmitSuccessful?ns.isSubmitSuccessful:!1,isSubmitting:!1})},Ml=(Bs,Zs)=>Sl(isFunction$1(Bs)?Bs(as):Bs,Zs);return{control:{register:Ws,unregister:Vs,getFieldState:Us,handleSubmit:El,setError:zs,_executeSchema:Ts,_getWatch:Ms,_getDirty:ks,_updateValid:bs,_removeUnmounted:As,_updateFieldArray:ys,_updateDisabledField:Ks,_getFieldArray:Os,_reset:Sl,_resetDefaultValues:()=>isFunction$1(rs.defaultValues)&&rs.defaultValues().then(Bs=>{Ml(Bs,rs.resetOptions),fs.state.next({isLoading:!1})}),_updateFormState:Bs=>{ns={...ns,...Bs}},_disableForm:Tl,_subjects:fs,_proxyFormState:ps,_setErrors:Cs,get _fields(){return os},get _formValues(){return as},get _state(){return ls},set _state(Bs){ls=Bs},get _defaultValues(){return ss},get _names(){return cs},set _names(Bs){cs=Bs},get _formState(){return ns},set _formState(Bs){ns=Bs},get _options(){return rs},set _options(Bs){rs={...rs,...Bs}}},trigger:Ns,register:Ws,handleSubmit:El,watch:qs,setValue:js,getValues:Gs,reset:Ml,resetField:$l,clearErrors:Hs,unregister:Vs,setError:zs,setFocus:(Bs,Zs={})=>{const Ys=get$3(os,Bs),_l=Ys&&Ys._f;if(_l){const Cl=_l.refs?_l.refs[0]:_l.ref;Cl.focus&&(Cl.focus(),Zs.shouldSelect&&Cl.select())}},getFieldState:Us}}function useForm(ts={}){const rs=React$2.useRef(),ns=React$2.useRef(),[os,ss]=React$2.useState({isDirty:!1,isValidating:!1,isLoading:isFunction$1(ts.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:ts.errors||{},disabled:ts.disabled||!1,defaultValues:isFunction$1(ts.defaultValues)?void 0:ts.defaultValues});rs.current||(rs.current={...createFormControl(ts),formState:os});const as=rs.current.control;return as._options=ts,useSubscribe({subject:as._subjects.state,next:ls=>{shouldRenderFormState(ls,as._proxyFormState,as._updateFormState,!0)&&ss({...as._formState})}}),React$2.useEffect(()=>as._disableForm(ts.disabled),[as,ts.disabled]),React$2.useEffect(()=>{if(as._proxyFormState.isDirty){const ls=as._getDirty();ls!==os.isDirty&&as._subjects.state.next({isDirty:ls})}},[as,os.isDirty]),React$2.useEffect(()=>{ts.values&&!deepEqual(ts.values,ns.current)?(as._reset(ts.values,as._options.resetOptions),ns.current=ts.values,ss(ls=>({...ls}))):as._resetDefaultValues()},[ts.values,as]),React$2.useEffect(()=>{ts.errors&&as._setErrors(ts.errors)},[ts.errors,as]),React$2.useEffect(()=>{as._state.mount||(as._updateValid(),as._state.mount=!0),as._state.watch&&(as._state.watch=!1,as._subjects.state.next({...as._formState})),as._removeUnmounted()}),React$2.useEffect(()=>{ts.shouldUnregister&&as._subjects.values.next({values:as._getWatch()})},[ts.shouldUnregister,as]),rs.current.formState=getProxyFormState(os,as),rs.current}var ExpandMore={},_interopRequireDefault$h=interopRequireDefaultExports;Object.defineProperty(ExpandMore,"__esModule",{value:!0});var default_1$g=ExpandMore.default=void 0,_createSvgIcon$g=_interopRequireDefault$h(requireCreateSvgIcon()),_jsxRuntime$g=jsxRuntimeExports;default_1$g=ExpandMore.default=(0,_createSvgIcon$g.default)((0,_jsxRuntime$g.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");const displaystates=AllStates.map(ts=>ts.value),AVAILABLE_ROLES=[{value:RoleType.Administrator,label:"Administrator",hint:"Adjust/edit frequency/slots; all copy/message edits; invite users or inactivate users"},{value:RoleType.Manager,label:"Manager",hint:"Grant existing users site/queue access; adjust operating hours or special hours/schedule overrides;\n           adjust # of providers (eventually provider level/type)"},{value:RoleType.Staff,label:"Staff",hint:"No settings changes; essentially read-only"},{value:RoleType.Provider,label:"Provider",hint:"No settings changes; essentially read-only"}];function EmployeeInformationForm({submitLabel:ts,existingUser:rs,isActive:ns,licenses:os}){var As,ks,Ms,Os,Ds,Fs;const{zambdaClient:ss}=useApiClients(),as=useTheme$1(),[ls,cs]=reactExports.useState(!1),[us,ds]=reactExports.useState({submit:!1,roles:!1}),[ps,fs]=reactExports.useState(void 0),[hs,ms]=reactExports.useState(void 0),[gs,vs]=reactExports.useState(os),[bs,xs]=reactExports.useState({name:"",email:"",id:"",profile:"",accessPolicy:{},phoneNumber:"",roles:[],profileResource:void 0});let ys="n/a";if((As=rs==null?void 0:rs.profileResource)!=null&&As.identifier){const js=rs.profileResource.identifier.find(Ps=>Ps.system===FHIR_IDENTIFIER_NPI);js&&js.value&&(ys=js.value)}let Ss="";if((ks=rs==null?void 0:rs.profileResource)!=null&&ks.photo){const js=rs.profileResource.photo[0];js.url?Ss=js.url:js.data&&(Ss="data:".concat(js.contentType,";base64,").concat(js.data))}const{control:Cs,handleSubmit:$s,setValue:Es,getValues:ws}=useForm();useWatch({control:Cs,name:"roles"}),reactExports.useEffect(()=>{var js,Ps,Ls,Ns,Gs,Us,Hs,zs,qs,Vs;if(rs){xs(rs),Es("roles",((js=rs.roles)==null?void 0:js.map(El=>El.name))||"");let Ks="",Ws="",Pl="",Tl="";if((Ps=rs.profileResource)!=null&&Ps.name&&((Ls=rs.profileResource)==null?void 0:Ls.name.length)>0){const El=(Ns=rs.profileResource)==null?void 0:Ns.name[0];Ks=(Us=(Gs=El.given)==null?void 0:Gs[0])!=null?Us:"",Ws=(Hs=El.given)!=null&&Hs.length&&El.given.length>1?El.given.slice(1).join(" "):"",Pl=(zs=El.family)!=null?zs:"",Tl=(Vs=(qs=El.suffix)==null?void 0:qs.join(" "))!=null?Vs:""}Es("firstName",Ks),Es("middleName",Ws),Es("lastName",Pl),Es("nameSuffix",Tl)}},[rs,Es]);const Ts=(Os=(Ms=ws("roles"))==null?void 0:Ms.includes(RoleType.Provider))!=null?Os:!1,Is=async js=>{if(!ss)throw new Error("Zambda Client not found");if(js.roles.length<1){ds(Ps=>({...Ps,submit:!1,roles:!0}));return}else ds(Ps=>({...Ps,roles:!1}));cs(!0);try{await updateUser(ss,{userId:bs.id,firstName:js.firstName,middleName:js.middleName,lastName:js.lastName,nameSuffix:js.nameSuffix,selectedRoles:js.roles,licenses:gs})}catch(Ps){console.log("Failed to update user: ".concat(Ps)),ds(Ls=>({...Ls,submit:!0}))}finally{cs(!1)}},Rs=async js=>{if(!ss)throw new Error("Zambda Client not found");const Ps=ws();await updateUser(ss,{userId:bs.id,firstName:Ps.firstName,middleName:Ps.middleName,lastName:Ps.lastName,nameSuffix:Ps.nameSuffix,selectedRoles:Ps.roles,licenses:js})};return ns===void 0?jsxRuntimeExports.jsx(Skeleton$1,{height:300,sx:{marginY:-5}}):jsxRuntimeExports.jsx(Paper$1,{sx:{padding:3},children:jsxRuntimeExports.jsxs("form",{onSubmit:js=>$s(Ps=>Is(Ps))(js),children:[jsxRuntimeExports.jsx(FormLabel$1,{sx:{...as.typography.h4,color:as.palette.primary.dark,mb:1,fontWeight:"600 !important"},children:"Employee information"}),jsxRuntimeExports.jsx(Controller,{name:"firstName",control:Cs,render:({field:{onChange:js,value:Ps}})=>jsxRuntimeExports.jsx(TextField$1,{id:"outlined-read-only-input",label:"First name",required:!0,value:Ps||"",onChange:js,sx:{marginTop:2,marginBottom:1,width:"100%"},margin:"dense"})}),jsxRuntimeExports.jsx(Controller,{name:"middleName",control:Cs,render:({field:{onChange:js,value:Ps}})=>jsxRuntimeExports.jsx(TextField$1,{id:"outlined-read-only-input",label:"Middle name",value:Ps||"",onChange:js,sx:{marginTop:2,marginBottom:1,width:"100%"},margin:"dense"})}),jsxRuntimeExports.jsx(Controller,{name:"lastName",control:Cs,render:({field:{onChange:js,value:Ps}})=>jsxRuntimeExports.jsx(TextField$1,{id:"outlined-read-only-input",label:"Last name",required:!0,value:Ps||"",onChange:js,sx:{marginBottom:2,width:"100%"},margin:"dense"})}),jsxRuntimeExports.jsx(TextField$1,{id:"outlined-read-only-input",label:"Email",value:(Ds=rs==null?void 0:rs.email)!=null?Ds:"",sx:{marginBottom:2,width:"100%"},margin:"dense",InputProps:{readOnly:!0,disabled:!0}}),jsxRuntimeExports.jsx(TextField$1,{id:"outlined-read-only-input",label:"Phone",value:(Fs=rs==null?void 0:rs.phoneNumber)!=null?Fs:"",sx:{marginBottom:2,width:"100%"},margin:"dense",InputProps:{readOnly:!0,disabled:!0}}),jsxRuntimeExports.jsxs(FormControl$1,{sx:{width:"100%"},error:us.roles,children:[jsxRuntimeExports.jsx(FormLabel$1,{sx:{...as.typography.h4,color:as.palette.primary.dark,mb:1,mt:2,fontWeight:"600 !important"},children:"Role"}),jsxRuntimeExports.jsx(FormLabel$1,{sx:{fontWeight:700,fontSize:"12px"},children:"Select role *"}),jsxRuntimeExports.jsx(FormGroup$1,{children:AVAILABLE_ROLES.map((js,Ps)=>{var Gs;const Ns=((Gs=ws("roles"))!=null?Gs:[]).includes(js.value);return jsxRuntimeExports.jsxs(Box$1,{children:[jsxRuntimeExports.jsx(FormControlLabel$1,{value:js.value,name:"roles",checked:Ns,onChange:(Us,Hs)=>{const zs=ws("roles"),qs=Hs?[...zs,js.value]:zs.filter(Vs=>Vs!==js.value);Es("roles",qs)},control:jsxRuntimeExports.jsx(Checkbox$1,{}),disabled:!ns,label:js.label,sx:{".MuiFormControlLabel-asterisk":{display:"none"}}}),jsxRuntimeExports.jsx(Box$1,{ml:4,sx:{marginTop:"-10px",marginBottom:"5px"},children:jsxRuntimeExports.jsx(Typography$1,{sx:{color:otherColors.noteText},variant:"body2",children:js.hint})})]},Ps)})})]}),Ts&&jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs(FormControl$1,{sx:{width:"100%"},children:[jsxRuntimeExports.jsx(FormLabel$1,{sx:{...as.typography.h4,color:as.palette.primary.dark,mb:2,mt:3,fontWeight:"600 !important"},children:"Provider details"}),Ss&&jsxRuntimeExports.jsx("img",{src:Ss,width:"110",height:"110",style:{borderRadius:"50%"}}),jsxRuntimeExports.jsx(Controller,{name:"nameSuffix",control:Cs,render:({field:{onChange:js,value:Ps}})=>jsxRuntimeExports.jsx(TextField$1,{id:"outlined-read-only-input",label:"Credentials",value:Ps||"",onChange:js,sx:{marginTop:3,width:"100%"},margin:"dense"})}),jsxRuntimeExports.jsxs("label",{style:{marginTop:"15px"},children:["NPI: ",ys]})]})}),jsxRuntimeExports.jsxs(Grid$1,{sx:{marginTop:4,marginBottom:2},children:[us.submit&&jsxRuntimeExports.jsx(Typography$1,{color:"error",variant:"body2",marginBottom:1,children:"Failed to update user. Please try again."}),jsxRuntimeExports.jsx(LoadingButton$1,{variant:"contained",color:"primary",sx:{textTransform:"none",borderRadius:28,fontWeight:"bold",marginRight:1},type:"submit",loading:ls,disabled:!ns,children:ts}),jsxRuntimeExports.jsx(Link,{to:"/employees",children:jsxRuntimeExports.jsx(Button$2,{variant:"text",color:"primary",sx:{textTransform:"none",borderRadius:28,fontWeight:"bold"},children:"Cancel"})})]}),Ts&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("hr",{}),jsxRuntimeExports.jsx(Typography$1,{sx:{...as.typography.h5,color:as.palette.primary.dark,fontWeight:"600",marginTop:4},children:"Provider Qualifications"}),jsxRuntimeExports.jsxs(Box$1,{mt:1,children:[jsxRuntimeExports.jsx(TableContainer$1,{children:jsxRuntimeExports.jsxs(Table$1,{children:[jsxRuntimeExports.jsx(TableHead$1,{children:jsxRuntimeExports.jsxs(TableRow$1,{children:[jsxRuntimeExports.jsx(TableCell$1,{children:"State"}),jsxRuntimeExports.jsx(TableCell$1,{align:"left",children:"Qualification"}),jsxRuntimeExports.jsx(TableCell$1,{align:"left",children:"Operate in state"}),jsxRuntimeExports.jsx(TableCell$1,{align:"left",children:"Delete License"})]})}),jsxRuntimeExports.jsx(TableBody$1,{children:gs.map((js,Ps)=>jsxRuntimeExports.jsxs(TableRow$1,{children:[jsxRuntimeExports.jsx(TableCell$1,{children:js.state}),jsxRuntimeExports.jsx(TableCell$1,{align:"left",children:js.code}),jsxRuntimeExports.jsx(TableCell$1,{align:"center",children:jsxRuntimeExports.jsx(Switch$1,{checked:js.active,onChange:async()=>{const Ls=[...gs];Ls[Ps].active=!Ls[Ps].active,vs(Ls),await Rs(Ls)}})}),jsxRuntimeExports.jsx(TableCell$1,{align:"center",children:jsxRuntimeExports.jsx(IconButton$2,{sx:{color:as.palette.error.dark,":hover":{backgroundColor:as.palette.error.light,color:as.palette.error.contrastText}},onClick:async()=>{const Ls=[...gs];Ls.splice(Ps,1),vs(Ls),await Rs(Ls)},children:jsxRuntimeExports.jsx(default_1$h,{})})})]},Ps))})]})}),jsxRuntimeExports.jsxs(Accordion$1,{children:[jsxRuntimeExports.jsx(AccordionSummary$1,{expandIcon:jsxRuntimeExports.jsx(default_1$g,{}),sx:{marginTop:"20px",fontWeight:"bold",color:as.palette.primary.main,cursor:"pointer"},children:"Add New State Qualification"}),jsxRuntimeExports.jsx(AccordionDetails$1,{children:jsxRuntimeExports.jsxs(Grid$1,{container:!0,direction:"row",spacing:1,children:[jsxRuntimeExports.jsx(Grid$1,{item:!0,xs:4,children:jsxRuntimeExports.jsx(Autocomplete$1,{options:displaystates,getOptionLabel:js=>js,renderInput:js=>jsxRuntimeExports.jsx(TextField$1,{...js,label:"State"}),onChange:(js,Ps)=>fs(Ps||void 0)})}),jsxRuntimeExports.jsx(Grid$1,{item:!0,xs:4,children:jsxRuntimeExports.jsx(Autocomplete$1,{options:Object.keys(PractitionerQualificationCodesLabels),getOptionLabel:js=>js,renderInput:js=>jsxRuntimeExports.jsx(TextField$1,{...js,label:"Qualification"}),onChange:(js,Ps)=>ms(Ps||void 0)})}),jsxRuntimeExports.jsx(Grid$1,{item:!0,xs:4,alignContent:"center",children:jsxRuntimeExports.jsx(Button$2,{variant:"contained",endIcon:jsxRuntimeExports.jsx(default_1$w,{}),sx:{textTransform:"none",fontWeight:"bold",borderRadius:28},onClick:async()=>{if(ps&&hs){const js=[...gs];js.push({state:ps,code:hs,active:!0}),vs(js),await Rs(js)}},fullWidth:!0,children:"Add"})})]})})]})]})]})]})})}function checkUserIsActive(ts){var ns;return!(((ns=ts.roles)==null?void 0:ns.find(os=>os.name==="Inactive"))||ts.roles.length==0)}function EditEmployeePage(){var bs;const{appClient:ts,zambdaClient:rs}=useApiClients(),ns=useNavigate(),[os,ss]=reactExports.useState(),[as,ls]=reactExports.useState(),[cs,us]=reactExports.useState(void 0),[ds,ps]=reactExports.useState(!1),[fs,hs]=reactExports.useState({submit:""}),ms=reactExports.useMemo(()=>{var xs;return(xs=as==null?void 0:as.profileResource)!=null&&xs.qualification?allLicensesForPractitioner(as.profileResource):[]},[as]),{id:gs}=useParams();reactExports.useEffect(()=>{let xs=!1;async function ys(){var Ss,Cs,$s,Es,ws;if(!ts)throw new Error("App client is undefined");if(!rs)throw new Error("Zambda Client not found");if(gs&&!xs){xs=!0;const Ts=await getUserDetails(rs,{userId:gs});if(xs){const Is=Ts.user;ls(Is),us("".concat(($s=(Cs=(Ss=Is.profileResource)==null?void 0:Ss.name)==null?void 0:Cs[0].given)==null?void 0:$s[0]," ").concat((ws=(Es=Is.profileResource)==null?void 0:Es.name)==null?void 0:ws[0].family)),ss(checkUserIsActive(Is)),xs=!1}}}return xs||ys().catch(Ss=>console.log(Ss)),()=>{xs=!1}},[ts,gs,rs]);const vs=async xs=>{if(ps(!0),!rs)throw new Error("Zambda Client not found");hs({submit:""});let ys=!1;try{xs==="deactivate"?await deactivateUser(rs,{user:as}):await updateUser(rs,{userId:as==null?void 0:as.id,selectedRoles:as==null?void 0:as.roles.map(Ss=>Ss.name)})}catch{hs(Cs=>({...Cs,submit:"Failed to ".concat(xs," user. Please try again")})),ys=!0}finally{ps(!1),xs==="deactivate"?!ys&&ns("/employees"):!ys&&ss(!0)}};return jsxRuntimeExports.jsx(PageContainer,{tabTitle:"Edit Employee",children:jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(Grid$1,{container:!0,direction:"row",alignItems:"center",justifyContent:"center",children:jsxRuntimeExports.jsxs(Grid$1,{item:!0,maxWidth:"584px",width:"100%",children:[jsxRuntimeExports.jsx(CustomBreadcrumbs,{chain:[{link:"/employees",children:"Employees"},{link:"#",children:cs||jsxRuntimeExports.jsx(Skeleton$1,{width:150})}]}),jsxRuntimeExports.jsxs(Typography$1,{variant:"h3",color:"primary.dark",marginTop:2,sx:{display:"flex",flexDirection:"row",alignItems:"center",fontWeight:"600 !important"},children:[cs||jsxRuntimeExports.jsx(Skeleton$1,{width:250}),os!==void 0&&!os&&jsxRuntimeExports.jsx(Chip$1,{label:"Deactivated",color:"error",size:"small",sx:{marginLeft:3}})]}),jsxRuntimeExports.jsx(Typography$1,{variant:"body1",my:2,children:(as==null?void 0:as.email)||jsxRuntimeExports.jsx(Skeleton$1,{width:250})}),jsxRuntimeExports.jsxs(Box$1,{children:[as!=null&&jsxRuntimeExports.jsx(EmployeeInformationForm,{submitLabel:"Save changes",existingUser:as,isActive:os,licenses:ms}),os===void 0?jsxRuntimeExports.jsx(Skeleton$1,{height:300,sx:{marginTop:-8}}):jsxRuntimeExports.jsxs(Paper$1,{sx:{padding:3,marginTop:3},children:[jsxRuntimeExports.jsx(Typography$1,{variant:"h4",color:"primary.dark",sx:{fontWeight:"600 !important"},children:"Provider schedule"}),jsxRuntimeExports.jsx(Link,{to:"/schedule/provider/".concat((bs=as==null?void 0:as.profileResource)==null?void 0:bs.id),children:jsxRuntimeExports.jsx(Button$2,{variant:"contained",sx:{marginTop:1},children:"Edit schedule"})})]}),os===void 0?jsxRuntimeExports.jsx(Skeleton$1,{height:300,sx:{marginTop:-8}}):jsxRuntimeExports.jsxs(Paper$1,{sx:{padding:3,marginTop:3},children:[jsxRuntimeExports.jsx(Typography$1,{variant:"h4",color:"primary.dark",sx:{fontWeight:"600 !important"},children:os?"Deactivate profile":"Activate profile"}),jsxRuntimeExports.jsx(Typography$1,{variant:"body1",marginTop:1,children:os?"When you deactivate this account, this employee will not have access to the system anymore.":"Activate this user account."}),fs.submit&&jsxRuntimeExports.jsx(Typography$1,{color:"error",variant:"body2",mt:1,children:fs.submit}),jsxRuntimeExports.jsx(LoadingButton$1,{variant:"contained",color:os?"error":"primary",sx:{textTransform:"none",borderRadius:28,marginTop:4,fontWeight:"bold",marginRight:1},loading:ds,onClick:os?()=>vs("deactivate"):()=>vs("activate"),children:os?"Deactivate":"Activate"})]})]})]})})})})}var Search$1={},_interopRequireDefault$g=interopRequireDefaultExports;Object.defineProperty(Search$1,"__esModule",{value:!0});var default_1$f=Search$1.default=void 0,_createSvgIcon$f=_interopRequireDefault$g(requireCreateSvgIcon()),_jsxRuntime$f=jsxRuntimeExports;default_1$f=Search$1.default=(0,_createSvgIcon$f.default)((0,_jsxRuntime$f.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search");const isLocalOrDevOrTestingOrTrainingEnv=!1;function EmployeesPage(){const{zambdaClient:ts}=useApiClients(),[rs,ns]=reactExports.useState("employees"),[os,ss]=reactExports.useState([]),as=(cs,us)=>{ns(us)},{isFetching:ls}=useQuery(["get-employees",{zambdaClient:ts}],()=>ts?getEmployees(ts):null,{onSuccess:cs=>{var us;ss((us=cs==null?void 0:cs.employees)!=null?us:[])},enabled:!!ts});return jsxRuntimeExports.jsx(PageContainer,{children:jsxRuntimeExports.jsx(Box$1,{sx:{width:"100%",marginTop:3},children:jsxRuntimeExports.jsxs(TabContext,{value:rs,children:[jsxRuntimeExports.jsx(Box$1,{sx:{borderBottom:1,borderColor:"divider"},children:jsxRuntimeExports.jsxs(TabList$1,{onChange:as,"aria-label":"employees tabs",children:[jsxRuntimeExports.jsx(Tab$1,{label:"Employees",value:"employees",sx:{textTransform:"none",fontWeight:700}}),isLocalOrDevOrTestingOrTrainingEnv,ls&&jsxRuntimeExports.jsx(Loading,{})]})}),jsxRuntimeExports.jsx(Paper$1,{sx:{marginTop:5},children:jsxRuntimeExports.jsx(TabPanel$2,{value:rs,sx:{padding:0},children:jsxRuntimeExports.jsx(EmployeesTable,{employees:os,isProviderLayout:rs==="providers"})})})]})})})}function EmployeesTable({employees:ts,isProviderLayout:rs}){const ns=useTheme$1(),[os,ss]=React$2.useState(5),[as,ls]=React$2.useState(0),[cs,us]=React$2.useState(""),[ds,ps]=reactExports.useState(),[fs,hs]=reactExports.useState(!1),ms=React$2.useMemo(()=>ts.filter(Cs=>{const $s=function(){return Cs.firstName&&Cs.lastName?[Cs.lastName,Cs.firstName].join(", "):Cs.name?Cs.name:""}(),Es=function(){return fs?Cs.lastLogin?DateTime.fromISO(Cs.lastLogin)>DateTime.now().minus({days:90}):!1:!0}();return $s.toLowerCase().includes(cs.toLowerCase())&&(rs?Cs.isProvider:!0)&&(ds?Cs.licenses.map(ws=>ws.state).includes(ds.value):!0)&&Es}),[ts,cs,rs,ds,fs]),gs=React$2.useMemo(()=>ms.slice(as*os,(as+1)*os),[ms,as,os]),vs=(Cs,$s)=>{ls($s)},bs=Cs=>{ss(parseInt(Cs.target.value)),ls(0)},xs=Cs=>us(Cs.target.value),ys=(Cs,$s)=>{ps($s)},Ss=(Cs,$s)=>{hs($s)};return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(Paper$1,{sx:{padding:2},children:jsxRuntimeExports.jsxs(TableContainer$1,{children:[jsxRuntimeExports.jsxs(Grid$1,{container:!0,direction:"row",justifyContent:"start",alignItems:"center",children:[jsxRuntimeExports.jsx(Box$1,{sx:{display:"flex",flex:2,margin:"10px 0"},children:jsxRuntimeExports.jsx(TextField$1,{id:"outlined-basic",label:"Search by name",variant:"outlined",onChange:xs,InputProps:{endAdornment:jsxRuntimeExports.jsx(default_1$f,{})},sx:{width:"100%",paddingRight:2}})}),rs&&jsxRuntimeExports.jsx(Box$1,{sx:{display:"flex",flex:2,paddingRight:3},children:jsxRuntimeExports.jsx(StateSelect$1,{onChange:ys})}),jsxRuntimeExports.jsx(Box$1,{sx:{display:"flex",flex:1,maxWidth:"260px"},children:jsxRuntimeExports.jsx(FormControlLabel$1,{value:!0,name:"last_login_filter",checked:fs,onChange:Ss,control:jsxRuntimeExports.jsx(Checkbox$1,{}),label:"Hide last logins that occurred more than 90 days ago",sx:{".MuiFormControlLabel-asterisk":{display:"none"}}})})]}),jsxRuntimeExports.jsxs(Table$1,{sx:{minWidth:650},"aria-label":"locationsTable",children:[jsxRuntimeExports.jsx(TableHead$1,{children:jsxRuntimeExports.jsxs(TableRow$1,{sx:{"& .MuiTableCell-head":{fontWeight:"bold",textAlign:"left"}},children:[jsxRuntimeExports.jsx(TableCell$1,{sx:{width:"25%"},children:"Name (Last, First)"}),jsxRuntimeExports.jsx(TableCell$1,{children:"Phone"}),jsxRuntimeExports.jsx(TableCell$1,{children:"Email"}),jsxRuntimeExports.jsx(TableCell$1,{children:"Last Login"}),jsxRuntimeExports.jsx(TableCell$1,{children:"Status"}),rs&&jsxRuntimeExports.jsx(TableCell$1,{sx:{width:"15%"},children:"Seen patient last 30 mins"})]})}),jsxRuntimeExports.jsx(TableBody$1,{children:gs.map(Cs=>{const $s=function(){return Cs.firstName&&Cs.lastName?[Cs.lastName,Cs.firstName].join(", "):Cs.name?Cs.name:"-"}();return jsxRuntimeExports.jsxs(TableRow$1,{sx:{"& .MuiTableCell-body":{textAlign:"left"}},children:[jsxRuntimeExports.jsx(TableCell$1,{children:jsxRuntimeExports.jsx(Link,{to:"/employee/".concat(Cs.id),style:{display:"contents",color:ns.palette.primary.main},children:$s})}),jsxRuntimeExports.jsx(TableCell$1,{sx:{color:otherColors.tableRow},children:Cs.phoneNumber?Cs.phoneNumber:"-"}),jsxRuntimeExports.jsx(TableCell$1,{sx:{color:otherColors.tableRow},children:Cs.email?Cs.email:"-"}),jsxRuntimeExports.jsx(TableCell$1,{sx:{color:otherColors.tableRow},children:Cs.lastLogin?formatDateUsingSlashes(Cs.lastLogin):"Never"}),jsxRuntimeExports.jsx(TableCell$1,{children:jsxRuntimeExports.jsx(Chip$1,{label:Cs.status.toUpperCase(),sx:{backgroundColor:Cs.status==="Active"?otherColors.employeeActiveChip:otherColors.employeeDeactivatedChip,color:Cs.status==="Active"?otherColors.employeeActiveText:otherColors.employeeDeactivatedText,borderRadius:"4px",height:"17px","& .MuiChip-label":{padding:"2px 8px 0px 8px"},...ns.typography.subtitle2}})}),rs&&jsxRuntimeExports.jsx(TableCell$1,{sx:{color:otherColors.tableRow},children:Cs.seenPatientRecently&&jsxRuntimeExports.jsx(Chip$1,{label:"BEEN SEEN",sx:{backgroundColor:otherColors.employeeBeenSeenChip,color:otherColors.employeeBeenSeenText,borderRadius:"4px",height:"17px","& .MuiChip-label":{padding:"2px 8px 0px 8px"},...ns.typography.subtitle2}})})]},Cs.id)})})]}),jsxRuntimeExports.jsx(TablePagination$1,{rowsPerPageOptions:[5,10,25,50],component:"div",count:ms.length,rowsPerPage:os,page:as,onPageChange:vs,onRowsPerPageChange:bs})]})})})}function StateSelect$1({onChange:ts}){const[rs,ns]=reactExports.useState(),os={label:"All states",value:""},ss=[os,...AllStates],as=(ls,cs)=>{ns(cs),ts(ls,cs)};return jsxRuntimeExports.jsx(Autocomplete$1,{value:rs||os,onChange:as,getOptionLabel:ls=>ls.label||"Unknown",isOptionEqualToValue:(ls,cs)=>ls.value===cs.value,options:ss,renderOption:(ls,cs)=>reactExports.createElement("li",{...ls,key:cs.value},cs.label),fullWidth:!0,renderInput:ls=>jsxRuntimeExports.jsx(TextField$1,{name:"state",...ls,label:"State"})})}function Logout(){const{isAuthenticated:ts,logout:rs}=useAuth0();return ts||redirect("/"),rs({returnTo:"http://localhost:4002",federated:!0}),jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{})}const ScheduleCapacity=({day:ts,setDay:rs,openingHour:ns,closingHour:os,openingBuffer:ss,closingBuffer:as})=>{const ls=ns||ts.open;let cs=os||ts.close;cs=cs===0&&ls!==0?24:cs;const us=React$2.useMemo(()=>{const ds=[];for(let ps=ls;ps<cs;ps++)ds.push(ps);return ds},[ls,cs]);return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(Box$1,{children:jsxRuntimeExports.jsxs(Table$1,{children:[jsxRuntimeExports.jsx(TableHead$1,{children:jsxRuntimeExports.jsxs(TableRow$1,{children:[jsxRuntimeExports.jsx(TableCell$1,{sx:{fontWeight:"bold"},children:"Hour"}),jsxRuntimeExports.jsx(TableCell$1,{sx:{fontWeight:"bold",width:"70%"},children:"# of prebooked slots"})]},"headRow")}),jsxRuntimeExports.jsx(TableBody$1,{children:us.map((ds,ps)=>{var fs,hs,ms;return jsxRuntimeExports.jsxs(TableRow$1,{children:[jsxRuntimeExports.jsxs(TableCell$1,{sx:{fontSize:"16px"},children:["".concat(formatHourNumber(ds)," - ").concat(formatHourNumber(ds+1)),ps===0&&jsxRuntimeExports.jsx(Typography$1,{variant:"body2",children:"Opening buffer ".concat((fs=ss!=null?ss:ts.openingBuffer)!=null?fs:"-"," minutes")}),ps===us.length-1&&jsxRuntimeExports.jsx(Typography$1,{variant:"body2",children:"Closing buffer ".concat((hs=as!=null?as:ts.closingBuffer)!=null?hs:"-"," minutes")})]}),jsxRuntimeExports.jsx(TableCell$1,{children:jsxRuntimeExports.jsx(TextField$1,{type:"number",required:!0,defaultValue:((ms=ts.hours.find(gs=>gs.hour===ds))==null?void 0:ms.capacity)||0,onChange:gs=>{var xs;const vs=ts,bs=[];for(let ys=ns;ys<cs;ys++){let Ss;ds===ys?Ss=Number(gs.target.value):Ss=(xs=ts.hours.find(Cs=>Cs.hour===ys))==null?void 0:xs.capacity,bs.push({hour:ys,capacity:Ss||0})}vs.hours=bs,rs(vs)},sx:{width:"100px"},InputProps:{inputProps:{min:0}},size:"small"})})]},ds)})})]})})})};function OfficeClosures({closures:ts,setClosures:rs}){function ns(os,ss){const as=ts==null?void 0:ts.map((ls,cs)=>os===cs?ss:ls);rs(as)}return jsxRuntimeExports.jsxs(Box$1,{marginTop:5,children:[jsxRuntimeExports.jsx(Typography$1,{variant:"h4",color:"primary.dark",children:"Closed Dates"}),jsxRuntimeExports.jsxs(Table$1,{sx:{marginTop:3,tableLayout:"fixed"},children:[jsxRuntimeExports.jsx(TableHead$1,{children:jsxRuntimeExports.jsxs(TableRow$1,{sx:{height:"40px"},children:[jsxRuntimeExports.jsx(TableCell$1,{sx:{fontWeight:"bold"},children:"Type"}),jsxRuntimeExports.jsx(TableCell$1,{sx:{fontWeight:"bold"},children:"Start Date"}),jsxRuntimeExports.jsx(TableCell$1,{sx:{fontWeight:"bold"},children:"End Date"}),jsxRuntimeExports.jsx(TableCell$1,{sx:{width:"10%"}})]},"closures-table-headers")}),jsxRuntimeExports.jsx(TableBody$1,{children:ts&&ts.sort((os,ss)=>DateTime.fromFormat(os.start,OVERRIDE_DATE_FORMAT).toSeconds()-DateTime.fromFormat(ss.start,OVERRIDE_DATE_FORMAT).toSeconds()).map((os,ss)=>jsxRuntimeExports.jsxs(TableRow$1,{children:[jsxRuntimeExports.jsx(TableCell$1,{children:jsxRuntimeExports.jsx(FormControl$1,{required:!0,children:jsxRuntimeExports.jsxs(RadioGroup$1,{value:os.type||void 0,row:!0,name:"closureType",onChange:as=>{ns(ss,{start:os.start,end:as.target.value===ClosureType.OneDay?"":os.end,type:as.target.value})},children:[jsxRuntimeExports.jsx(FormControlLabel$1,{value:ClosureType.OneDay,control:jsxRuntimeExports.jsx(Radio$1,{}),label:"One day",required:!0,sx:{".MuiFormControlLabel-asterisk":{display:"none"}}}),jsxRuntimeExports.jsx(FormControlLabel$1,{value:ClosureType.Period,control:jsxRuntimeExports.jsx(Radio$1,{}),label:"Period",required:!0,sx:{".MuiFormControlLabel-asterisk":{display:"none"}}})]})})}),jsxRuntimeExports.jsx(TableCell$1,{children:jsxRuntimeExports.jsx(DateSearch,{date:DateTime.fromFormat(os.start,OVERRIDE_DATE_FORMAT),setDate:as=>{var ls;ns(ss,{start:(ls=as==null?void 0:as.toFormat(OVERRIDE_DATE_FORMAT))!=null?ls:"",end:os.end,type:os.type})},required:!0,closeOnSelect:!0,small:!0})}),jsxRuntimeExports.jsx(TableCell$1,{children:jsxRuntimeExports.jsx(DateSearch,{date:os.end?DateTime.fromFormat(os.end,OVERRIDE_DATE_FORMAT):null,required:os.type===ClosureType.Period,disabled:os.type===ClosureType.OneDay,disableDates:as=>as<=DateTime.fromFormat(os.start,OVERRIDE_DATE_FORMAT),setDate:as=>{var ls;ns(ss,{start:os.start,end:(ls=as==null?void 0:as.toFormat(OVERRIDE_DATE_FORMAT))!=null?ls:"",type:os.type})},closeOnSelect:!0,small:!0})}),jsxRuntimeExports.jsx(TableCell$1,{children:jsxRuntimeExports.jsx(IconButton$2,{color:"error",onClick:()=>{const as=ts.indexOf(os),ls=JSON.parse(JSON.stringify(ts));ls.splice(as,1),rs(ls)},children:jsxRuntimeExports.jsx(default_1$h,{})})})]},"closure-".concat(ss)))})]}),jsxRuntimeExports.jsx(Button$2,{variant:"outlined",color:"primary",sx:{borderRadius:"50px",textTransform:"none",height:36,fontWeight:"bold",marginTop:3},onClick:()=>{const os={start:"",end:"",type:ClosureType.OneDay};rs([...ts!=null?ts:[],os])},children:"Add closed date"}),jsxRuntimeExports.jsx(Typography$1,{sx:{marginTop:1},children:"This override should be utilized when the facility is closed for the whole day and will not be opening at all."})]})}var WarningAmber={},_interopRequireDefault$f=interopRequireDefaultExports;Object.defineProperty(WarningAmber,"__esModule",{value:!0});var default_1$e=WarningAmber.default=void 0,_createSvgIcon$e=_interopRequireDefault$f(requireCreateSvgIcon()),_jsxRuntime$e=jsxRuntimeExports;default_1$e=WarningAmber.default=(0,_createSvgIcon$e.default)([(0,_jsxRuntime$e.jsx)("path",{d:"M12 5.99 19.53 19H4.47zM12 2 1 21h22z"},"0"),(0,_jsxRuntime$e.jsx)("path",{d:"M13 16h-2v2h2zm0-6h-2v5h2z"},"1")],"WarningAmber");function ScheduleOverridesDialog({handleClose:ts,open:rs,updateItem:ns,setIsScheduleOverridesDialogOpen:os}){const ss={fontWeight:"700",textTransform:"none",borderRadius:6},as=useTheme$1(),[ls,cs]=reactExports.useState(!1);return jsxRuntimeExports.jsxs(Dialog$1,{open:rs,onClose:ts,disableScrollLock:!0,sx:{".MuiPaper-root":{padding:1,width:"35%"}},children:[jsxRuntimeExports.jsx(DialogTitle$1,{variant:"h4",color:"primary.dark",sx:{width:"100%",fontWeight:600},children:"Schedule change may affect visits"}),jsxRuntimeExports.jsxs(DialogContent$1,{children:[jsxRuntimeExports.jsx(DialogContentText$1,{sx:{color:as.palette.text.primary},children:"Your changes will be applied immediately after confirmation. Please make sure that no previously booked visits are affected by this schedule change."}),jsxRuntimeExports.jsxs(Box$1,{sx:{marginTop:1,padding:1,background:otherColors.dialogNote,borderRadius:"4px"},display:"flex",children:[jsxRuntimeExports.jsx(default_1$e,{sx:{marginTop:1,color:otherColors.warningIcon}}),jsxRuntimeExports.jsx(Typography$1,{variant:"body2",color:"#212130",sx:{m:1.25},children:"If there are conflicts in booked visits and new schedule, please contact patients to move their visits."})]})]}),jsxRuntimeExports.jsx(DialogActions$1,{sx:{justifyContent:"flex-start"},children:jsxRuntimeExports.jsxs("form",{onSubmit:async us=>{cs(!0),await ns(us),os(!1),cs(!1)},children:[jsxRuntimeExports.jsx(LoadingButton$1,{loading:ls,variant:"contained",color:"primary",size:"medium",sx:ss,type:"submit",children:"Confirm schedule change"}),jsxRuntimeExports.jsx(Button$2,{variant:"text",onClick:ts,size:"medium",sx:ss,children:"Cancel"})]})})]})}function ScheduleOverrides({item:ts,setItem:rs,overrides:ns,closures:os,setOverrides:ss,setClosures:as,updateItem:ls,setToastMessage:cs,setToastType:us,setSnackbarOpen:ds}){const[ps,fs]=reactExports.useState(!1),[hs,ms]=React$2.useState({}),gs=xs=>{cs(xs),us("warning"),ds(!0)},vs=xs=>{if(xs.preventDefault(),os){const ys=os.map(Cs=>Cs.start),Ss=new Set(ys);if(ys.length!==Ss.size){gs("Closed times cannot start on the same day");return}for(const Cs of os)if(Cs.type===ClosureType.Period&&DateTime.fromFormat(Cs.end,OVERRIDE_DATE_FORMAT)<DateTime.fromFormat(Cs.start,OVERRIDE_DATE_FORMAT)){gs("Closed time end date must be after start date");return}}fs(!0)},bs=(xs,ys)=>jsxRuntimeExports.jsxs(FormControl$1,{sx:{width:"100%"},children:[xs==="Open"?jsxRuntimeExports.jsx(InputLabel$1,{id:"open-label",children:"Open"}):jsxRuntimeExports.jsx(InputLabel$1,{id:"close-label",children:"Close"}),jsxRuntimeExports.jsxs(Select$2,{id:xs==="Open"?"open":"close",labelId:xs==="Open"?"open-label":"close-label",label:xs==="Open"?"Open":"Close",required:!0,value:xs==="Open"?ns==null?void 0:ns[ys].open:ns==null?void 0:ns[ys].close,onChange:Ss=>{const Cs={...ns};xs==="Open"?Cs[ys].open=Number(Ss.target.value):xs==="Close"&&(Cs[ys].close=Number(Ss.target.value)),ss(Cs)},size:"small",children:[xs==="Open"&&jsxRuntimeExports.jsx(MenuItem$1,{value:0,children:"12:00 AM"}),jsxRuntimeExports.jsx(MenuItem$1,{value:1,children:"1:00 AM"}),jsxRuntimeExports.jsx(MenuItem$1,{value:2,children:"2:00 AM"}),jsxRuntimeExports.jsx(MenuItem$1,{value:3,children:"3:00 AM"}),jsxRuntimeExports.jsx(MenuItem$1,{value:4,children:"4:00 AM"}),jsxRuntimeExports.jsx(MenuItem$1,{value:5,children:"5:00 AM"}),jsxRuntimeExports.jsx(MenuItem$1,{value:6,children:"6:00 AM"}),jsxRuntimeExports.jsx(MenuItem$1,{value:7,children:"7:00 AM"}),jsxRuntimeExports.jsx(MenuItem$1,{value:8,children:"8:00 AM"}),jsxRuntimeExports.jsx(MenuItem$1,{value:9,children:"9:00 AM"}),jsxRuntimeExports.jsx(MenuItem$1,{value:10,children:"10:00 AM"}),jsxRuntimeExports.jsx(MenuItem$1,{value:11,children:"11:00 AM"}),jsxRuntimeExports.jsx(MenuItem$1,{value:12,children:"12:00 PM"}),jsxRuntimeExports.jsx(MenuItem$1,{value:13,children:"1:00 PM"}),jsxRuntimeExports.jsx(MenuItem$1,{value:14,children:"2:00 PM"}),jsxRuntimeExports.jsx(MenuItem$1,{value:15,children:"3:00 PM"}),jsxRuntimeExports.jsx(MenuItem$1,{value:16,children:"4:00 PM"}),jsxRuntimeExports.jsx(MenuItem$1,{value:17,children:"5:00 PM"}),jsxRuntimeExports.jsx(MenuItem$1,{value:18,children:"6:00 PM"}),jsxRuntimeExports.jsx(MenuItem$1,{value:19,children:"7:00 PM"}),jsxRuntimeExports.jsx(MenuItem$1,{value:20,children:"8:00 PM"}),jsxRuntimeExports.jsx(MenuItem$1,{value:21,children:"9:00 PM"}),jsxRuntimeExports.jsx(MenuItem$1,{value:22,children:"10:00 PM"}),jsxRuntimeExports.jsx(MenuItem$1,{value:23,children:"11:00 PM"}),xs==="Close"&&jsxRuntimeExports.jsx(MenuItem$1,{value:24,children:"12:00 AM"})]})]});return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs(Paper$1,{children:[jsxRuntimeExports.jsx("form",{onSubmit:vs,children:jsxRuntimeExports.jsxs(Box$1,{paddingY:2,paddingX:3,marginTop:4,children:[jsxRuntimeExports.jsx(Typography$1,{variant:"h4",color:"primary.dark",children:"Schedule Overrides"}),jsxRuntimeExports.jsx(Typography$1,{variant:"body1",color:"black",marginTop:2,children:"One-time deviations from standing working hours. Any changes made will override the standard working hours set above for the date(s) selected."}),jsxRuntimeExports.jsxs(Table$1,{sx:{marginTop:3,tableLayout:"fixed"},children:[jsxRuntimeExports.jsx(TableHead$1,{children:jsxRuntimeExports.jsxs(TableRow$1,{sx:{height:"40px"},children:[jsxRuntimeExports.jsx(TableCell$1,{sx:{fontWeight:"bold",width:"19%"},children:"Date"}),jsxRuntimeExports.jsx(TableCell$1,{sx:{fontWeight:"bold",width:"14%"},children:"Open"}),jsxRuntimeExports.jsx(TableCell$1,{sx:{fontWeight:"bold",width:"14%"},children:"Opening buffer"}),jsxRuntimeExports.jsx(TableCell$1,{sx:{fontWeight:"bold",width:"14%"},children:"Close"}),jsxRuntimeExports.jsx(TableCell$1,{sx:{fontWeight:"bold",width:"14%"},children:"Closing buffer"}),jsxRuntimeExports.jsx(TableCell$1,{sx:{fontWeight:"bold",width:"17%"},children:"Capacity"}),jsxRuntimeExports.jsx(TableCell$1,{sx:{fontWeight:"bold",width:"6%"},children:"Delete"})]},"headRow")}),jsxRuntimeExports.jsx(TableBody$1,{children:ns&&Object.keys(ns).sort(datesCompareFn(OVERRIDE_DATE_FORMAT)).map((xs,ys)=>jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsxs(TableRow$1,{children:[jsxRuntimeExports.jsx(TableCell$1,{children:jsxRuntimeExports.jsx(DateSearch,{date:DateTime.fromFormat(xs,"D"),setDate:Ss=>{var Es,ws;const Cs={...ns},$s=Ss==null?void 0:Ss.toLocaleString(DateTime.DATE_SHORT);if($s){const Ts=(ws=(Es=ts.extension)==null?void 0:Es.find(Is=>Is.url==="https://fhir.zapehr.com/r4/StructureDefinitions/schedule"))==null?void 0:ws.valueString;if(Ts){const{schedule:Is}=JSON.parse(Ts),Rs=Ss==null?void 0:Ss.toFormat("cccc").toLowerCase(),As=Rs&&(Is==null?void 0:Is[Rs]);As?Cs[$s]={open:As.open,close:As.close,openingBuffer:As.openingBuffer,closingBuffer:As.closingBuffer,hours:As.hours||[]}:Cs[$s]=Cs[xs],delete Cs[xs]}}ss(Cs)},required:!0,closeOnSelect:!0,small:!0})}),jsxRuntimeExports.jsx(TableCell$1,{children:bs("Open",xs)}),jsxRuntimeExports.jsx(TableCell$1,{children:jsxRuntimeExports.jsxs(FormControl$1,{sx:{width:"100%"},children:[jsxRuntimeExports.jsx(InputLabel$1,{id:"opening-buffer-label",children:"Opening buffer"}),jsxRuntimeExports.jsxs(Select$2,{labelId:"opening-buffer-label",label:"Opening buffer",id:"opening-buffer",value:ns[xs].openingBuffer,onChange:Ss=>{const Cs={...ns};Cs[xs].openingBuffer=Number(Ss.target.value),ss(Cs)},sx:{display:"flex",height:"40px",flexShrink:1},size:"small",children:[jsxRuntimeExports.jsx(MenuItem$1,{value:0,children:"0 mins"}),jsxRuntimeExports.jsx(MenuItem$1,{value:15,children:"15 mins"}),jsxRuntimeExports.jsx(MenuItem$1,{value:30,children:"30 mins"}),jsxRuntimeExports.jsx(MenuItem$1,{value:60,children:"60 mins"}),jsxRuntimeExports.jsx(MenuItem$1,{value:90,children:"90 mins"})]})]})}),jsxRuntimeExports.jsx(TableCell$1,{children:bs("Close",xs)}),jsxRuntimeExports.jsx(TableCell$1,{children:jsxRuntimeExports.jsxs(FormControl$1,{sx:{width:"100%"},children:[jsxRuntimeExports.jsx(InputLabel$1,{id:"closing-buffer-label",children:"Closing buffer"}),jsxRuntimeExports.jsxs(Select$2,{labelId:"closing-buffer-label",label:"Closing buffer",id:"closing-buffer",value:ns[xs].closingBuffer,onChange:Ss=>{const Cs={...ns};Cs[xs].closingBuffer=Number(Ss.target.value),ss(Cs)},size:"small",children:[jsxRuntimeExports.jsx(MenuItem$1,{value:0,children:"0 mins"}),jsxRuntimeExports.jsx(MenuItem$1,{value:15,children:"15 mins"}),jsxRuntimeExports.jsx(MenuItem$1,{value:30,children:"30 mins"}),jsxRuntimeExports.jsx(MenuItem$1,{value:60,children:"60 mins"}),jsxRuntimeExports.jsx(MenuItem$1,{value:90,children:"90 mins"})]})]})}),jsxRuntimeExports.jsx(TableCell$1,{children:jsxRuntimeExports.jsx(Button$2,{variant:"text",color:"primary",endIcon:jsxRuntimeExports.jsx(default_1$g,{}),sx:{borderRadius:"50px",textTransform:"none",height:36,fontWeight:"bold",display:"inline-flex"},onClick:()=>{const Ss={...hs};Ss[xs]=!Ss[xs],ms(Ss)},children:"Override capacity"})}),jsxRuntimeExports.jsx(TableCell$1,{children:jsxRuntimeExports.jsx(IconButton$2,{color:"error",onClick:()=>{const Ss={...ns};delete Ss[xs],ss(Ss)},children:jsxRuntimeExports.jsx(default_1$h,{})})})]}),hs[xs]&&jsxRuntimeExports.jsx(TableRow$1,{children:jsxRuntimeExports.jsx(TableCell$1,{colSpan:7,children:jsxRuntimeExports.jsx(ScheduleCapacity,{day:ns[xs],setDay:Ss=>{ns[xs]=Ss},openingHour:ns[xs].open,closingHour:ns[xs].close,openingBuffer:ns[xs].openingBuffer,closingBuffer:ns[xs].closingBuffer})})})]},"override-".concat(ys)))})]}),jsxRuntimeExports.jsx(Button$2,{variant:"outlined",color:"primary",sx:{borderRadius:"50px",textTransform:"none",height:36,fontWeight:"bold",marginTop:3},onClick:()=>{const xs={...ns};xs["override-new"]?gs("Cannot have two overrides for the same day"):xs["override-new"]={open:8,close:17,openingBuffer:0,closingBuffer:0,hours:[]},ss(xs)},children:"Add override rule"}),jsxRuntimeExports.jsx(OfficeClosures,{closures:os,setClosures:as}),jsxRuntimeExports.jsxs(Box$1,{marginTop:5,children:[jsxRuntimeExports.jsx(Button$2,{variant:"contained",type:"submit",sx:{borderRadius:"50px",textTransform:"none",height:36,fontWeight:"bold"},children:"Save Changes"}),jsxRuntimeExports.jsx(Typography$1,{sx:{marginTop:1},children:"Please note if you save changes to Schedule Overrides or Closed Dates, edits to Working Hours will be saved too."})]})]})}),jsxRuntimeExports.jsx(ScheduleOverridesDialog,{item:ts,setItem:rs,setIsScheduleOverridesDialogOpen:fs,handleClose:()=>fs(!1),open:ps,updateItem:ls})]})})}const WEEKDAYS=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"],dayToDayCode={Monday:"mon",Tuesday:"tue",Wednesday:"wed",Thursday:"thu",Friday:"fri",Saturday:"sat",Sunday:"sun"};function InfoForDay({day:ts,setDay:rs,updateItem:ns,loading:os}){var bs;const[ss,as]=React$2.useState(ts.open),[ls,cs]=React$2.useState(ts.openingBuffer),[us,ds]=React$2.useState((bs=ts.close)!=null?bs:24),[ps,fs]=React$2.useState(ts.closingBuffer),[hs,ms]=React$2.useState(ts.workingDay);function gs(xs,ys){const Ss=xs.toLocaleLowerCase();return jsxRuntimeExports.jsxs(FormControl$1,{sx:{marginRight:2},children:[jsxRuntimeExports.jsx(InputLabel$1,{id:"".concat(Ss,"-label"),children:xs}),jsxRuntimeExports.jsxs(Select$2,{labelId:"".concat(Ss,"-label"),id:Ss,value:xs==="Open"?ss:us,label:xs,disabled:!hs,onChange:Cs=>{const $s=Number(Cs.target.value),Es=ys;xs==="Open"?(as($s),Es.open=$s,rs(Es)):xs==="Close"&&(ds($s),Es.close=$s,rs(Es))},sx:{width:200,maxWidth:"100%",flexShrink:1},MenuProps:{PaperProps:{sx:{"& .MuiMenuItem-root:hover":{backgroundColor:otherColors.selectMenuHover}}}},children:[xs==="Open"&&jsxRuntimeExports.jsx(MenuItem$1,{value:0,children:"12 AM"}),jsxRuntimeExports.jsx(MenuItem$1,{value:1,children:"1 AM"}),jsxRuntimeExports.jsx(MenuItem$1,{value:2,children:"2 AM"}),jsxRuntimeExports.jsx(MenuItem$1,{value:3,children:"3 AM"}),jsxRuntimeExports.jsx(MenuItem$1,{value:4,children:"4 AM"}),jsxRuntimeExports.jsx(MenuItem$1,{value:5,children:"5 AM"}),jsxRuntimeExports.jsx(MenuItem$1,{value:6,children:"6 AM"}),jsxRuntimeExports.jsx(MenuItem$1,{value:7,children:"7 AM"}),jsxRuntimeExports.jsx(MenuItem$1,{value:8,children:"8 AM"}),jsxRuntimeExports.jsx(MenuItem$1,{value:9,children:"9 AM"}),jsxRuntimeExports.jsx(MenuItem$1,{value:10,children:"10 AM"}),jsxRuntimeExports.jsx(MenuItem$1,{value:11,children:"11 AM"}),jsxRuntimeExports.jsx(MenuItem$1,{value:12,children:"12 PM"}),jsxRuntimeExports.jsx(MenuItem$1,{value:13,children:"1 PM"}),jsxRuntimeExports.jsx(MenuItem$1,{value:14,children:"2 PM"}),jsxRuntimeExports.jsx(MenuItem$1,{value:15,children:"3 PM"}),jsxRuntimeExports.jsx(MenuItem$1,{value:16,children:"4 PM"}),jsxRuntimeExports.jsx(MenuItem$1,{value:17,children:"5 PM"}),jsxRuntimeExports.jsx(MenuItem$1,{value:18,children:"6 PM"}),jsxRuntimeExports.jsx(MenuItem$1,{value:19,children:"7 PM"}),jsxRuntimeExports.jsx(MenuItem$1,{value:20,children:"8 PM"}),jsxRuntimeExports.jsx(MenuItem$1,{value:21,children:"9 PM"}),jsxRuntimeExports.jsx(MenuItem$1,{value:22,children:"10 PM"}),jsxRuntimeExports.jsx(MenuItem$1,{value:23,children:"11 PM"}),xs==="Close"&&jsxRuntimeExports.jsx(MenuItem$1,{value:24,children:"12 AM"})]})]})}function vs(xs,ys){const Ss=xs==="Close"?"Closing":"Opening",Cs=Ss.toLocaleLowerCase(),$s=xs==="Open"?ls!=null?ls:"":ps!=null?ps:"";return jsxRuntimeExports.jsxs(FormControl$1,{sx:{marginRight:2},children:[jsxRuntimeExports.jsxs(InputLabel$1,{id:"".concat(Cs,"-buffer-label"),children:[Ss," Buffer"]}),jsxRuntimeExports.jsxs(Select$2,{labelId:"".concat(Cs,"-buffer-label"),id:"".concat(Cs,"-buffer"),value:$s,defaultValue:$s,label:"".concat(Ss," Buffer"),disabled:!hs,onChange:Es=>{const ws=Number(Es.target.value),Ts=ys;xs==="Open"?(cs(ws),Ts.openingBuffer=ws,rs(Ts)):xs==="Close"&&(fs(ws),Ts.closingBuffer=ws,rs(Ts))},sx:{width:200,maxWidth:"100%",flexShrink:1},MenuProps:{PaperProps:{sx:{"& .MuiMenuItem-root:hover":{backgroundColor:otherColors.selectMenuHover}}}},children:[jsxRuntimeExports.jsx(MenuItem$1,{value:0,children:"0 mins"}),jsxRuntimeExports.jsx(MenuItem$1,{value:15,children:"15 mins"}),jsxRuntimeExports.jsx(MenuItem$1,{value:30,children:"30 mins"}),jsxRuntimeExports.jsx(MenuItem$1,{value:60,children:"60 mins"}),jsxRuntimeExports.jsx(MenuItem$1,{value:90,children:"90 mins"})]})]})}return jsxRuntimeExports.jsx(Box$1,{children:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Typography$1,{variant:"h4",color:"primary.dark",marginBottom:3,marginTop:-1,children:"Working Hours"}),jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",flexDirection:"row"},alignItems:"center",children:[jsxRuntimeExports.jsx(FormControlLabel$1,{control:jsxRuntimeExports.jsx(Checkbox$1,{checked:hs,onChange:xs=>{const ys=ts;ys.workingDay=xs.target.checked,rs(ys),ms(xs.target.checked)}}),label:"Working Day"}),gs("Open",ts),vs("Open",ts),gs("Close",ts),vs("Close",ts)]}),jsxRuntimeExports.jsxs("form",{onSubmit:ns,children:[hs&&jsxRuntimeExports.jsxs(Box$1,{children:[jsxRuntimeExports.jsxs(Box$1,{sx:{display:"inline-flex",alignItems:"center"},marginBottom:3,marginTop:6,children:[jsxRuntimeExports.jsx(Typography$1,{variant:"h4",color:"primary.dark",children:"Capacity"}),jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",flexDirection:"row",alignItems:"center"},children:[jsxRuntimeExports.jsx(default_1$n,{sx:{marginRight:1,marginLeft:3,width:18,height:18},color:"secondary"}),jsxRuntimeExports.jsxs(Typography$1,{variant:"body1",children:[jsxRuntimeExports.jsx(Box$1,{component:"span",fontWeight:"bold",display:"inline",children:"Visit Duration:"})," ","15 minutes"]})]})]}),jsxRuntimeExports.jsx(ScheduleCapacity,{day:ts,setDay:rs,openingHour:ss,closingHour:us,openingBuffer:ls,closingBuffer:ps})]}),jsxRuntimeExports.jsx(Box$1,{marginTop:3,display:"flex",flexDirection:"row",children:jsxRuntimeExports.jsx(LoadingButton$1,{variant:"contained",sx:{borderRadius:"50px",textTransform:"none",height:36,fontWeight:"bold"},type:"submit",loading:os,children:"Save Changes"})}),jsxRuntimeExports.jsx(Typography$1,{sx:{marginTop:1},children:"Please note if you save changes to Working Hours, edits to Schedule Overrides and Closed Dates will be saved too."})]})]})})}function Schedule({item:ts,setItem:rs}){const ns=DateTime.now().toLocaleString({weekday:"long"}).toLowerCase(),[os,ss]=React$2.useState(ns),[as,ls]=React$2.useState(void 0),[cs,us]=React$2.useState(void 0),[ds,ps]=React$2.useState(),[fs,hs]=React$2.useState(!1),{fhirClient:ms}=useApiClients(),[gs,vs]=React$2.useState(void 0),[bs,xs]=React$2.useState(void 0),[ys,Ss]=React$2.useState(!1),Cs=(Ts,Is)=>{ss(Is)};function $s(){if(!as)return;const Ts=[];if(Object.keys(as).forEach(Is=>{const Rs=as[Is];if(!Rs.workingDay)return;let As;Rs.close!==24?As={openingTime:"".concat(Rs.open.toString().padStart(2,"0"),":00:00"),closingTime:"".concat(Rs.close.toString().padStart(2,"0"),":00:00"),daysOfWeek:[dayToDayCode[capitalize$1(Is)]]}:As={openingTime:"".concat(Rs.open.toString().padStart(2,"0"),":00:00"),daysOfWeek:[dayToDayCode[capitalize$1(Is)]]},Ts.push(As)}),Ts.length!==0&&ts.resourceType==="Location")return{op:ts.hoursOfOperation?"replace":"add",path:"/hoursOfOperation",value:Ts}}async function Es(Ts){Ts.preventDefault();const Is=ts.extension,Rs=Is==null?void 0:Is.find(As=>As.url==="https://fhir.zapehr.com/r4/StructureDefinitions/schedule");try{if(!ms||!Rs)throw new Error("Failed to update item");hs(!0),Rs.valueString=JSON.stringify({schedule:as!=null?as:{},scheduleOverrides:cs!=null?cs:{},closures:ds});const As=[{op:"replace",path:"/extension",value:Is}],ks=$s();ks&&As.push(ks),await ms.patchResource({resourceType:ts.resourceType,resourceId:ts.id||"",operations:As}),hs(!1),vs("Schedule changes saved"),xs("success"),Ss(!0)}catch(As){console.error(As),vs("Failed to save schedule changes"),xs("error"),Ss(!0)}finally{hs(!1)}}const ws=()=>{Ss(!1)};return React$2.useEffect(()=>{var Is,Rs;const Ts=(Rs=(Is=ts.extension)==null?void 0:Is.find(As=>As.url==="https://fhir.zapehr.com/r4/StructureDefinitions/schedule"))==null?void 0:Rs.valueString;if(Ts){const{schedule:As,scheduleOverrides:ks,closures:Ms}=JSON.parse(Ts);ls(As),us(ks),ps(Ms)}},[ts.extension]),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(TabContext,{value:os,children:[jsxRuntimeExports.jsx(Paper$1,{children:jsxRuntimeExports.jsxs(Box$1,{paddingTop:1,children:[jsxRuntimeExports.jsx(Box$1,{marginX:3,marginTop:2,children:jsxRuntimeExports.jsx(TabList$1,{TabIndicatorProps:{style:{backgroundColor:"transparent"}},sx:{"& .MuiButtonBase-root":{"&:first-of-type":{borderTopLeftRadius:"8px",borderBottomLeftRadius:"8px",borderLeft:"1px solid #2169F5"},"&:last-child":{borderTopRightRadius:"8px",borderBottomRightRadius:"8px"}}},onChange:Cs,"aria-label":"Weekdays for the schedule",children:WEEKDAYS.map(Ts=>jsxRuntimeExports.jsx(Tab$1,{sx:{textTransform:"none",borderRight:"1px solid #2169F5",borderTop:"1px solid #2169F5",borderBottom:"1px solid #2169F5",color:"#2169F5",width:"fit-content",height:"36px",minHeight:"36px",fontWeight:700,"&.Mui-selected":{color:"#FFFFFF",background:"#2169F5"}},label:capitalize$1(Ts),value:Ts},Ts))})}),as&&Object.keys(as).map(Ts=>jsxRuntimeExports.jsx(TabPanel$2,{value:Ts,children:jsxRuntimeExports.jsx(InfoForDay,{day:as[Ts],setDay:Is=>{const Rs=as;Rs[Ts]={...Is,workingDay:as[Ts].workingDay},ls(Rs)},dayOfWeek:os,updateItem:Es,loading:fs})},Ts))]})}),jsxRuntimeExports.jsx(Snackbar$1,{open:ys,onClose:ws,message:gs,children:jsxRuntimeExports.jsx(Alert$1,{onClose:ws,severity:bs,sx:{width:"100%"},children:gs})})]}),jsxRuntimeExports.jsx(ScheduleOverrides,{overrides:cs,closures:ds,item:ts,dayOfWeek:os,setItem:rs,setOverrides:us,setClosures:ps,updateItem:Es,setToastMessage:vs,setToastType:xs,setSnackbarOpen:Ss})]})}const SCHEDULE_CHANGES_FORMAT="MMM d";function getName(ts){let rs;if(ts.resourceType==="Location")rs=ts==null?void 0:ts.name;else if(ts.resourceType==="Practitioner"){const ns=ts==null?void 0:ts.name;ns&&(rs=formatHumanName(ns[0]))}else if(ts.resourceType==="HealthcareService")rs=ts==null?void 0:ts.name;else throw console.log("getName called with unavailable resource",ts),Error("getName called with unavailable resource");return rs||"Undefined name"}const ScheduleInformation=({scheduleType:ts})=>{const{fhirClient:rs}=useApiClients(),[ns,os]=reactExports.useState(5),[ss,as]=reactExports.useState(0),[ls,cs]=reactExports.useState(""),[us,ds]=reactExports.useState(void 0),[ps,fs]=reactExports.useState(!1);reactExports.useEffect(()=>{async function $s(Es){if(!rs)return;fs(!0);const ws=await rs.searchResources({resourceType:Es,searchParams:[{name:"_count",value:"1000"}]});ds(ws),fs(!1)}ts==="office"?$s("Location"):ts==="provider"?$s("Practitioner"):ts==="group"&&$s("HealthcareService")},[rs,ts]);const hs=reactExports.useMemo(()=>{if(!us)return[];const Es=us.filter(ws=>getName(ws).toLowerCase().includes(ls.toLowerCase())).map(ws=>({...ws,combined:getName(ws)}));return Es.sort((ws,Ts)=>ws.combined.localeCompare(Ts.combined)),Es},[us,ls]),ms=reactExports.useMemo(()=>hs.slice(ss*ns,(ss+1)*ns),[ss,hs,ns]),gs=($s,Es)=>{as(Es)},vs=$s=>{os(parseInt($s.target.value,10)),as(0)},bs=$s=>{cs($s.target.value)},xs=($s,Es)=>{var Ds,Fs;const ws=DateTime.now().toLocaleString({weekday:"long"}).toLowerCase(),Ts=(Fs=(Ds=$s.extension)==null?void 0:Ds.find(js=>js.url==="https://fhir.zapehr.com/r4/StructureDefinitions/schedule"))==null?void 0:Fs.valueString;if(!Ts)return;const Is=JSON.parse(Ts),As=Is.schedule[ws];let ks=As.open,Ms=As.close;const Os=Is.scheduleOverrides;if(Is.scheduleOverrides){for(const js in Os)if(Object.hasOwnProperty.call(Os,js)){const Ps=DateTime.fromFormat(js,OVERRIDE_DATE_FORMAT).toISODate(),Ls=DateTime.local().toISODate();Ps===Ls&&(ks=Os[js].open,Ms=Os[js].close)}}return Es==="open"?"".concat((ks%12===0?12:ks%12).toString().padStart(2,"0"),":00 ").concat(ks<12||ks===24?"AM":"PM"):"".concat((Ms%12===0?12:Ms%12).toString().padStart(2,"0"),":00 ").concat(Ms<12||Ms==24?"AM":"PM")},ys=($s,Es)=>{const ws=DateTime.now().startOf("day"),Ts=DateTime.fromFormat(Es.start,OVERRIDE_DATE_FORMAT);if(!Ts.isValid)return $s;if(Es.type===ClosureType.OneDay)Ts>=ws&&$s.push(Ts.toFormat(SCHEDULE_CHANGES_FORMAT));else if(Es.type===ClosureType.Period){const Is=DateTime.fromFormat(Es.end,OVERRIDE_DATE_FORMAT);(Ts>=ws||Is>=ws)&&$s.push("".concat(Ts.toFormat(SCHEDULE_CHANGES_FORMAT)," - ").concat(Is.toFormat(SCHEDULE_CHANGES_FORMAT)))}return $s},Ss=($s,Es)=>{const ws=DateTime.fromFormat(Es,OVERRIDE_DATE_FORMAT);return ws.isValid&&ws>=DateTime.now().startOf("day")&&$s.push(ws.toFormat(SCHEDULE_CHANGES_FORMAT)),$s};function Cs($s){var Ts;const Es=$s.extension,ws=(Ts=Es==null?void 0:Es.find(Is=>Is.url==="https://fhir.zapehr.com/r4/StructureDefinitions/schedule"))==null?void 0:Ts.valueString;if(ws){const{scheduleOverrides:Is,closures:Rs}=JSON.parse(ws),As=Is?Object.keys(Is).reduce(Ss,[]):[],ks=Rs?Rs.reduce(ys,[]):[],Ms=[...As,...ks].sort((Fs,js)=>{const Ps=Fs.split("-")[0],Ls=js.split("-")[0];return DateTime.fromFormat(Ps,SCHEDULE_CHANGES_FORMAT).toSeconds()-DateTime.fromFormat(Ls,SCHEDULE_CHANGES_FORMAT).toSeconds()}),Os=new Set(Ms),Ds=Array.from(Os);return Ds.length?Ds.join(", "):void 0}}return jsxRuntimeExports.jsxs(Paper$1,{sx:{padding:2},children:[jsxRuntimeExports.jsx(Link,{to:"/schedule/".concat(ts,"/add"),children:jsxRuntimeExports.jsxs(Button$2,{variant:"contained",startIcon:jsxRuntimeExports.jsx(Add$1,{}),children:["Add ",ts]})}),jsxRuntimeExports.jsxs(TableContainer$1,{children:[jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex"},children:[jsxRuntimeExports.jsx(TextField$1,{id:"search-".concat(ts),label:"Search ".concat(ts,"s"),variant:"outlined",onChange:bs,InputProps:{endAdornment:jsxRuntimeExports.jsx(default_1$f,{})},sx:{marginBottom:2},margin:"dense"}),ps&&jsxRuntimeExports.jsx(Box$1,{sx:{marginTop:2,marginLeft:"auto",marginRight:0},children:jsxRuntimeExports.jsx(Loading,{})})]}),jsxRuntimeExports.jsxs(Table$1,{sx:{minWidth:650},"aria-label":"".concat(ts,"sTable"),children:[jsxRuntimeExports.jsx(TableHead$1,{children:jsxRuntimeExports.jsxs(TableRow$1,{children:[jsxRuntimeExports.jsxs(TableCell$1,{sx:{fontWeight:"bold",width:"25%"},children:[capitalize$1(ts)," name"]}),jsxRuntimeExports.jsx(TableCell$1,{sx:{fontWeight:"bold",width:"25%"},children:"Address"}),jsxRuntimeExports.jsx(TableCell$1,{sx:{fontWeight:"bold",width:"25%"},children:"Today's hours"}),jsxRuntimeExports.jsx(TableCell$1,{sx:{fontWeight:"bold",width:"25%"},children:"Upcoming schedule changes"})]})}),jsxRuntimeExports.jsx(TableBody$1,{children:ms.map($s=>jsxRuntimeExports.jsxs(TableRow$1,{children:[jsxRuntimeExports.jsx(TableCell$1,{children:jsxRuntimeExports.jsx(Link,{to:"/schedule/".concat(ts,"/").concat($s.id),style:{textDecoration:"none"},children:jsxRuntimeExports.jsx(Typography$1,{color:"primary",children:getName($s)})})}),jsxRuntimeExports.jsx(TableCell$1,{align:"left",children:jsxRuntimeExports.jsx(Typography$1,{children:$s.resourceType==="Location"?$s.address&&formatAddress($s.address):$s.address&&formatAddress($s.address[0])})}),jsxRuntimeExports.jsx(TableCell$1,{align:"left",children:jsxRuntimeExports.jsx(Typography$1,{children:xs($s,"open")&&xs($s,"close")?"".concat(xs($s,"open")," -\n                                ").concat(xs($s,"close")):"No scheduled hours"})}),jsxRuntimeExports.jsx(TableCell$1,{align:"left",children:jsxRuntimeExports.jsx(Typography$1,{style:{color:Cs($s)?"inherit":otherColors.none},children:Cs($s)?Cs($s):"None Scheduled"})})]},$s.id))})]}),jsxRuntimeExports.jsx(TablePagination$1,{rowsPerPageOptions:[1,5,10,25],component:"div",count:hs.length,rowsPerPage:ns,page:ss,onPageChange:gs,onRowsPerPageChange:vs})]})]})};function GroupMembers({option:ts,options:rs,values:ns,onChange:os}){return jsxRuntimeExports.jsx(Autocomplete$1,{options:rs,renderInput:ss=>jsxRuntimeExports.jsx(TextField$1,{placeholder:capitalize$1(ts),name:ts,...ss,label:capitalize$1(ts)}),isOptionEqualToValue:(ss,as)=>ss.value===as.value,value:ns,onChange:os,multiple:!0})}function GroupSchedule({groupID:ts}){const{fhirClient:rs}=useApiClients(),[ns,os]=reactExports.useState(void 0),[ss,as]=reactExports.useState(!1),[ls,cs]=reactExports.useState(void 0),[us,ds]=reactExports.useState(void 0),[ps,fs]=reactExports.useState(void 0),[hs,ms]=reactExports.useState(void 0),[gs,vs]=reactExports.useState(void 0),bs=reactExports.useCallback(async()=>{var As,ks,Ms,Os,Ds,Fs,js;const ys=await(rs==null?void 0:rs.batchRequest({requests:[{method:"GET",url:"/HealthcareService?_id=".concat(ts)},{method:"GET",url:"/Location"},{method:"GET",url:"/Practitioner?_revinclude=PractitionerRole:practitioner"}]})),Ss=((ks=(As=ys==null?void 0:ys.entry)==null?void 0:As[0])==null?void 0:ks.resource).entry.map(Ps=>Ps.resource)[0],Cs=((Os=(Ms=ys==null?void 0:ys.entry)==null?void 0:Ms[1])==null?void 0:Os.resource).entry.map(Ps=>Ps.resource),$s=((Fs=(Ds=ys==null?void 0:ys.entry)==null?void 0:Ds[2])==null?void 0:Fs.resource).entry.map(Ps=>Ps.resource),Es=$s.filter(Ps=>Ps.resourceType==="Practitioner"),ws=$s.filter(Ps=>Ps.resourceType==="PractitionerRole");console.log(ys),os(Ss),cs(Cs),ds(Es),fs(ws);const Ts=(js=Ss.location)==null?void 0:js.map(Ps=>{var Ls;if(!Ps.reference)throw console.log("HealthcareService location does not have reference",Ps),new Error("HealthcareService location does not have reference");return(Ls=Ps.reference)==null?void 0:Ls.replace("Location/","")});ms(Ts);const Is=ws==null?void 0:ws.filter(Ps=>{var Ls;return(Ls=Ps.healthcareService)==null?void 0:Ls.some(Ns=>Ns.reference==="HealthcareService/".concat(Ss.id))}),Rs=Es.filter(Ps=>Is.some(Ls=>{var Ns;return((Ns=Ls.practitioner)==null?void 0:Ns.reference)==="Practitioner/".concat(Ps.id)}));vs(Rs.map(Ps=>Ps.id||""))},[rs,ts]);reactExports.useEffect(()=>{bs()},[bs]);async function xs(ys){if(ys.preventDefault(),!gs||!ps)return;as(!0);const Ss=ps==null?void 0:ps.map(As=>{var ks;return(ks=As.practitioner)==null?void 0:ks.reference}),Cs=gs.filter(As=>!(Ss!=null&&Ss.includes("Practitioner/".concat(As)))),$s=ps.filter(As=>{var ks,Ms,Os;return gs.includes(((Ms=(ks=As.practitioner)==null?void 0:ks.reference)==null?void 0:Ms.replace("Practitioner/",""))||"")&&!((Os=As.healthcareService)!=null&&Os.some(Ds=>Ds.reference==="HealthcareService/".concat(ts)))}),Es=ps.filter(As=>{var ks,Ms,Os;return!gs.includes(((Ms=(ks=As.practitioner)==null?void 0:ks.reference)==null?void 0:Ms.replace("Practitioner/",""))||"")&&((Os=As.healthcareService)==null?void 0:Os.some(Ds=>Ds.reference==="HealthcareService/".concat(ts)))}),ws=Cs==null?void 0:Cs.map(As=>({resourceType:"PractitionerRole",practitioner:{reference:"Practitioner/".concat(As)},healthcareService:[{reference:"HealthcareService/".concat(ts)}]})),Ts=getPatchBinary({resourceType:"HealthcareService",resourceId:ts,patchOperations:[{op:"add",path:"/location",value:hs==null?void 0:hs.map(As=>({reference:"Location/".concat(As)}))}]}),Is=ws.map(As=>({method:"POST",url:"/PractitionerRole",resource:As})),Rs=$s.map(As=>{const ks=ps==null?void 0:ps.find(Os=>Os===As);let Ms={reference:"HealthcareService/".concat(ts)};return ks!=null&&ks.healthcareService||(Ms=[Ms]),getPatchBinary({resourceType:"PractitionerRole",resourceId:As.id||"",patchOperations:[{op:"add",path:ks!=null&&ks.healthcareService?"/healthcareService/-":"/healthcareService",value:Ms}]})});Rs.push(...Es.map(As=>{var ks,Ms;return getPatchBinary({resourceType:"PractitionerRole",resourceId:As.id||"",patchOperations:[{op:"replace",path:"/healthcareService",value:(Ms=(ks=ps==null?void 0:ps.find(Os=>Os===As))==null?void 0:ks.healthcareService)==null?void 0:Ms.filter(Os=>Os.reference!=="HealthcareService/".concat(ts))}]})})),await(rs==null?void 0:rs.batchRequest({requests:[...Is,...Rs,Ts]})),await bs(),as(!1)}return ns?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(Typography$1,{variant:"h4",children:["Manage the schedule for ",ns==null?void 0:ns.name]}),jsxRuntimeExports.jsx(Typography$1,{variant:"body1",children:"This is a group schedule. Its availability is made up of the schedules of the locations and providers selected."}),jsxRuntimeExports.jsx("form",{onSubmit:xs,children:jsxRuntimeExports.jsxs(Grid$1,{container:!0,spacing:4,sx:{marginTop:0},children:[jsxRuntimeExports.jsx(Grid$1,{item:!0,xs:6,children:jsxRuntimeExports.jsx(GroupMembers,{option:"offices",options:ls?ls.map(ys=>({value:ys.id||"Undefined name",label:ys.name||"Undefined name"})):[],values:hs?hs==null?void 0:hs.map(ys=>{var Cs;const Ss=(Cs=ls==null?void 0:ls.find($s=>$s.id===ys))==null?void 0:Cs.name;return{value:ys,label:Ss||"Undefined name"}}):[],onChange:(ys,Ss)=>ms(Ss.map(Cs=>Cs.value))})}),jsxRuntimeExports.jsx(Grid$1,{item:!0,xs:6,children:jsxRuntimeExports.jsx(GroupMembers,{option:"providers",options:us?us.map(ys=>({value:ys.id||"Undefined name",label:ys.name?formatHumanName(ys.name[0]):"Undefined name"})):[],values:gs?gs.map(ys=>{var Cs,$s;const Ss=($s=(Cs=us==null?void 0:us.find(Es=>Es.id===ys))==null?void 0:Cs.name)==null?void 0:$s[0];return{value:ys,label:Ss?formatHumanName(Ss):"Undefined name"}}):[],onChange:(ys,Ss)=>vs(Ss.map(Cs=>Cs.value))})}),jsxRuntimeExports.jsx(Grid$1,{item:!0,xs:2,children:jsxRuntimeExports.jsx(LoadingButton$1,{loading:ss,type:"submit",variant:"contained",children:"Save"})})]})})]}):jsxRuntimeExports.jsx("div",{style:{width:"100%",height:"250px"},children:jsxRuntimeExports.jsx(CircularProgress$1,{})})}function getResource(ts){if(ts==="office")return"Location";if(ts==="provider")return"Practitioner";if(ts==="group")return"HealthcareService";throw console.log("'scheduleType unknown ".concat(ts)),new Error("scheduleType unknown")}const START_SCHEDULE='{"schedule":{"monday":{"open":8,"close":15,"openingBuffer":0,"closingBuffer":0,"workingDay":true,"hours":[{"hour":8,"capacity":2},{"hour":9,"capacity":2},{"hour":10,"capacity":2},{"hour":11,"capacity":2},{"hour":12,"capacity":2},{"hour":13,"capacity":2},{"hour":14,"capacity":2},{"hour":15,"capacity":2},{"hour":16,"capacity":2},{"hour":17,"capacity":3},{"hour":18,"capacity":3},{"hour":19,"capacity":3},{"hour":20,"capacity":1}]},"tuesday":{"open":8,"close":15,"openingBuffer":0,"closingBuffer":0,"workingDay":true,"hours":[{"hour":8,"capacity":2},{"hour":9,"capacity":2},{"hour":10,"capacity":2},{"hour":11,"capacity":2},{"hour":12,"capacity":2},{"hour":13,"capacity":2},{"hour":14,"capacity":2},{"hour":15,"capacity":2},{"hour":16,"capacity":2},{"hour":17,"capacity":3},{"hour":18,"capacity":3},{"hour":19,"capacity":3},{"hour":20,"capacity":1}]},"wednesday":{"open":8,"close":15,"openingBuffer":0,"closingBuffer":0,"workingDay":true,"hours":[{"hour":8,"capacity":2},{"hour":9,"capacity":2},{"hour":10,"capacity":2},{"hour":11,"capacity":2},{"hour":12,"capacity":2},{"hour":13,"capacity":2},{"hour":14,"capacity":2},{"hour":15,"capacity":2},{"hour":16,"capacity":2},{"hour":17,"capacity":3},{"hour":18,"capacity":3},{"hour":19,"capacity":3},{"hour":20,"capacity":1}]},"thursday":{"open":8,"close":15,"openingBuffer":0,"closingBuffer":0,"workingDay":true,"hours":[{"hour":8,"capacity":2},{"hour":9,"capacity":2},{"hour":10,"capacity":2},{"hour":11,"capacity":2},{"hour":12,"capacity":2},{"hour":13,"capacity":2},{"hour":14,"capacity":2},{"hour":15,"capacity":2},{"hour":16,"capacity":2},{"hour":17,"capacity":3},{"hour":18,"capacity":3},{"hour":19,"capacity":3},{"hour":20,"capacity":1}]},"friday":{"open":8,"close":15,"openingBuffer":0,"closingBuffer":0,"workingDay":true,"hours":[{"hour":8,"capacity":2},{"hour":9,"capacity":2},{"hour":10,"capacity":2},{"hour":11,"capacity":2},{"hour":12,"capacity":2},{"hour":13,"capacity":2},{"hour":14,"capacity":2},{"hour":15,"capacity":2},{"hour":16,"capacity":2},{"hour":17,"capacity":3},{"hour":18,"capacity":3},{"hour":19,"capacity":3},{"hour":20,"capacity":1}]},"saturday":{"open":8,"close":15,"openingBuffer":0,"closingBuffer":0,"workingDay":true,"hours":[{"hour":8,"capacity":2},{"hour":9,"capacity":2},{"hour":10,"capacity":2},{"hour":11,"capacity":2},{"hour":12,"capacity":2},{"hour":13,"capacity":2},{"hour":14,"capacity":2},{"hour":15,"capacity":2},{"hour":16,"capacity":2},{"hour":17,"capacity":3},{"hour":18,"capacity":3},{"hour":19,"capacity":3},{"hour":20,"capacity":1}]},"sunday":{"open":8,"close":15,"openingBuffer":0,"closingBuffer":0,"workingDay":true,"hours":[{"hour":8,"capacity":2},{"hour":9,"capacity":2},{"hour":10,"capacity":2},{"hour":11,"capacity":2},{"hour":12,"capacity":2},{"hour":13,"capacity":2},{"hour":14,"capacity":2},{"hour":15,"capacity":2},{"hour":16,"capacity":2},{"hour":17,"capacity":3},{"hour":18,"capacity":3},{"hour":19,"capacity":3},{"hour":20,"capacity":1}]}},"scheduleOverrides":{}}',IDENTIFIER_SLUG="https://fhir.ottehr.com/r4/slug";function SchedulePage(){var Es,ws;const{fhirClient:ts}=useApiClients(),rs=useParams()["schedule-type"],ns=useParams().id;if(!rs)throw new Error("scheduleType is not defined");const[os,ss]=reactExports.useState("schedule"),[as,ls]=reactExports.useState(void 0),[cs,us]=reactExports.useState(!1),[ds,ps]=reactExports.useState(void 0),[fs,hs]=reactExports.useState(void 0),[ms,gs]=reactExports.useState(!1),vs=Ts=>Ts.resourceType==="Location"?Ts.status==="active":Ts.active||!1;reactExports.useEffect(()=>{async function Ts(Is){var ks;if(!ts)return;const Rs=await ts.readResource({resourceType:Is,resourceId:ns});ls(Rs);const As=(ks=Rs==null?void 0:Rs.identifier)==null?void 0:ks.find(Ms=>Ms.system===IDENTIFIER_SLUG);ps(As==null?void 0:As.value),hs(getTimezone(Rs)),us(vs(Rs))}Ts(getResource(rs))},[ts,ns,rs]);const bs=Ts=>{let Is="";return Ts.line&&(Is+=", ".concat(Ts.line)),Ts.city&&(Is+=", ".concat(Ts.city)),Ts.state&&(Is+=", ".concat(Ts.state)),Ts.postalCode&&(Is+=", ".concat(Ts.postalCode)),Is!==""&&(Is=Is.substring(2)),Is},xs=(Ts,Is)=>{ss(Is)},ys=(Ts,Is)=>{let Rs;if(Ts==="Location")Rs={op:"add",path:"/status",value:Is?"active":"inactive"};else if(Ts==="Practitioner"||Ts==="HealthcareService")Rs={op:"add",path:"/active",value:Is};else throw new Error("resourceType is not defined");return Rs};async function Ss(){var As;let Ts;if(!ts)return;if(rs==="office"?Ts="Location":rs==="provider"&&(Ts="Practitioner"),!Ts)throw console.log("resourceType is not defined"),new Error("resourceType is not defined");const Is=[{url:"https://fhir.zapehr.com/r4/StructureDefinitions/schedule",valueString:START_SCHEDULE}];(As=as==null?void 0:as.extension)!=null&&As.some(ks=>ks.url===TIMEZONE_EXTENSION_URL)||Is.push({url:TIMEZONE_EXTENSION_URL,valueString:"America/New_York"});const Rs=await ts.patchResource({resourceType:Ts,resourceId:ns,operations:[{op:"add",path:"/extension",value:Is},ys(Ts,!0)]});ls(Rs)}async function Cs(Ts){var Gs,Us,Hs,zs,qs,Vs;Ts.preventDefault(),gs(!0);const Is=(as==null?void 0:as.identifier)||[];let Rs=[...Is];const As=Rs.length>0,ks=(Gs=as==null?void 0:as.identifier)==null?void 0:Gs.find(Ks=>Ks.system===IDENTIFIER_SLUG),Ms=!ds||ds==="",Os={system:IDENTIFIER_SLUG,value:ds};let Ds=!0;if(Ms&&!ks)console.log("Removing slug but none set"),Ds=!1;else if(Ms&&ks)console.log("Removing slug from identifiers"),Rs=(Us=as==null?void 0:as.identifier)==null?void 0:Us.filter(Ws=>Ws.system!==IDENTIFIER_SLUG);else if(!As)console.log("No identifiers, adding one"),Rs=[Os];else if(As&&!ks)console.log("Has identifiers without a slug, adding one"),Rs.push(Os);else if(As&&ks){console.log("Has identifiers with a slug, replacing one");const Ks=(Hs=as==null?void 0:as.identifier)==null?void 0:Hs.findIndex(Ws=>Ws.system===IDENTIFIER_SLUG);Ks!==void 0&&Is&&(Rs[Ks]=Os)}const Fs=Ds?{op:As?"replace":"add",path:"/identifier",value:Rs}:void 0;let js;const Ps=(zs=as==null?void 0:as.extension)==null?void 0:zs.findIndex(Ks=>Ks.url===TIMEZONE_EXTENSION_URL);Ps!==void 0&&Ps>=0?((Vs=(qs=as==null?void 0:as.extension)==null?void 0:qs[Ps])==null?void 0:Vs.valueString)===fs?console.log("No change in timezone"):(console.log("Replacing existing timezone"),js={op:"replace",path:"/extension/".concat(Ps,"/valueString"),value:fs}):(console.log("Adding new timezone"),js={op:"add",path:"/extension",value:[{url:TIMEZONE_EXTENSION_URL,valueString:fs}]});const Ls=[Fs,js].filter(Ks=>Ks!==void 0);if(Ls.length===0){console.log("No operations to save"),gs(!1);return}const Ns=await(ts==null?void 0:ts.patchResource({resourceType:getResource(rs),resourceId:ns,operations:Ls}));ls(Ns),gs(!1)}const $s=async(Ts,Is)=>{if(!ts)throw new Error("error getting fhir client");if(!Ts.id)throw new Error("item id is not defined");Ts.resourceType==="Location"?Ts.status=Is?"active":"inactive":Ts.active=Is,ls(Ts),us(Is),await ts.patchResource({resourceType:Ts.resourceType,resourceId:Ts.id,operations:[ys(Ts.resourceType,Is)]})};return jsxRuntimeExports.jsx(PageContainer,{children:jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:as?jsxRuntimeExports.jsxs(Box$1,{marginX:12,children:[jsxRuntimeExports.jsx(CustomBreadcrumbs,{chain:[{link:"/schedules",children:"Schedules"},{link:"#",children:getName(as)||jsxRuntimeExports.jsx(Skeleton$1,{width:150})}]}),jsxRuntimeExports.jsx(Typography$1,{variant:"h3",color:"primary.dark",marginTop:1,children:getName(as)}),(as.resourceType==="Location"||as.resourceType==="Practitioner")&&jsxRuntimeExports.jsx(Typography$1,{marginBottom:1,fontWeight:400,children:as.resourceType==="Location"?as.address&&bs(as.address):as.address&&bs(as.address[0])}),jsxRuntimeExports.jsxs(TabContext,{value:os,children:[jsxRuntimeExports.jsx(Box$1,{sx:{borderBottom:1,borderColor:"divider"},children:jsxRuntimeExports.jsxs(TabList$1,{onChange:xs,"aria-label":"Tabs",children:[jsxRuntimeExports.jsx(Tab$1,{label:"Schedule",value:"schedule",sx:{textTransform:"none",fontWeight:700}}),jsxRuntimeExports.jsx(Tab$1,{label:"General",value:"general",sx:{textTransform:"none",fontWeight:700}})]})}),jsxRuntimeExports.jsxs(Paper$1,{sx:{marginTop:2,border:"none",boxShadow:"none",background:"none"},children:[jsxRuntimeExports.jsxs(TabPanel$2,{value:"schedule",children:[rs==="group"&&jsxRuntimeExports.jsx(GroupSchedule,{groupID:as.id||""}),["office","provider"].includes(rs)&&((ws=(Es=as.extension)==null?void 0:Es.find(Ts=>Ts.url==="https://fhir.zapehr.com/r4/StructureDefinitions/schedule"))!=null&&ws.valueString?jsxRuntimeExports.jsx(Schedule,{id:ns,item:as,setItem:ls}):jsxRuntimeExports.jsxs(Typography$1,{variant:"body1",children:["This ",rs," doesn't have a schedule."," ",jsxRuntimeExports.jsx(Button$2,{type:"button",variant:"contained",onClick:Ss,children:"Create a new schedule"})]}))]}),jsxRuntimeExports.jsxs(TabPanel$2,{value:"general",children:[jsxRuntimeExports.jsxs(Paper$1,{sx:{marginBottom:2,padding:3},children:[jsxRuntimeExports.jsxs(Box$1,{display:"flex",alignItems:"center",children:[jsxRuntimeExports.jsx(Switch$1,{checked:cs,onClick:()=>$s(as,!cs)}),jsxRuntimeExports.jsx(Typography$1,{children:cs?"Active":"Inactive"})]}),jsxRuntimeExports.jsx("hr",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsxs("form",{onSubmit:Ts=>Cs(Ts),children:[jsxRuntimeExports.jsx(TextField$1,{label:"Slug",value:ds,onChange:Ts=>ps(Ts.target.value),sx:{width:"250px"}}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx(Autocomplete$1,{options:TIMEZONES,renderInput:Ts=>jsxRuntimeExports.jsx(TextField$1,{...Ts,label:"Timezone"}),sx:{marginTop:2,width:"250px"},value:fs,onChange:(Ts,Is)=>{Is&&hs(Is)}}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx(LoadingButton$1,{type:"submit",loading:ms,variant:"contained",sx:{marginTop:2},children:"Save"})]})]}),jsxRuntimeExports.jsx(Paper$1,{sx:{padding:3},children:jsxRuntimeExports.jsx(Grid$1,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"flex-start",children:jsxRuntimeExports.jsxs(Grid$1,{item:!0,xs:6,children:[jsxRuntimeExports.jsx(Typography$1,{variant:"h4",color:"primary.dark",children:"Information to the patients"}),jsxRuntimeExports.jsx(Typography$1,{variant:"body1",color:"primary.dark",marginTop:1,children:"This message will be displayed to the patients before they proceed with booking the visit."}),jsxRuntimeExports.jsx(Box$1,{marginTop:2,sx:{background:otherColors.locationGeneralBlue,borderRadius:1},padding:3,children:jsxRuntimeExports.jsx(Typography$1,{color:"primary.dark",variant:"body1",children:"No description"})})]})})})]})]})]})]}):jsxRuntimeExports.jsx(Loading,{})})})}function LocationsPage(){const[ts,rs]=reactExports.useState("0");return jsxRuntimeExports.jsx(PageContainer,{children:jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs(TabContext,{value:ts,children:[jsxRuntimeExports.jsxs(TabList$1,{onChange:(ns,os)=>rs(os),"aria-label":"Switch between different schedule options",sx:{paddingX:3},children:[jsxRuntimeExports.jsx(Tab$1,{label:"Offices",value:"0"}),jsxRuntimeExports.jsx(Tab$1,{label:"Providers",value:"1"}),jsxRuntimeExports.jsx(Tab$1,{label:"Groups",value:"2"})]}),jsxRuntimeExports.jsx(TabPanel$2,{value:"0",children:jsxRuntimeExports.jsx(ScheduleInformation,{scheduleType:"office"})}),jsxRuntimeExports.jsx(TabPanel$2,{value:"1",children:jsxRuntimeExports.jsx(ScheduleInformation,{scheduleType:"provider"})}),jsxRuntimeExports.jsx(TabPanel$2,{value:"2",children:jsxRuntimeExports.jsx(ScheduleInformation,{scheduleType:"group"})})]})})})}var Close={},_interopRequireDefault$e=interopRequireDefaultExports;Object.defineProperty(Close,"__esModule",{value:!0});var default_1$d=Close.default=void 0,_createSvgIcon$d=_interopRequireDefault$e(requireCreateSvgIcon()),_jsxRuntime$d=jsxRuntimeExports;default_1$d=Close.default=(0,_createSvgIcon$d.default)((0,_jsxRuntime$d.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");var ContentCopy={},_interopRequireDefault$d=interopRequireDefaultExports;Object.defineProperty(ContentCopy,"__esModule",{value:!0});var default_1$c=ContentCopy.default=void 0,_createSvgIcon$c=_interopRequireDefault$d(requireCreateSvgIcon()),_jsxRuntime$c=jsxRuntimeExports;default_1$c=ContentCopy.default=(0,_createSvgIcon$c.default)((0,_jsxRuntime$c.jsx)("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"}),"ContentCopy");const CopyButton=({text:ts})=>{const[rs,ns]=reactExports.useState(!1),os=async()=>{try{await navigator.clipboard.writeText(ts),ns(!0),setTimeout(()=>ns(!1),1500)}catch(ss){console.error("Failed to copy:",ss)}};return jsxRuntimeExports.jsx(GenericToolTip,{title:rs?"Copied":"Copy",sx:{width:"65px",textAlign:"center"},placement:"top",children:jsxRuntimeExports.jsx(default_1$c,{color:"primary",sx:{width:"18px",height:"18px",cursor:"pointer"},onClick:os})})},CopyFields=["Member ID","Street address","Address line 2","Patient email","Patient mobile","Phone","Parent/Guardian email","Parent/Guardian mobile","Patient mobile","PCP phone number","Pharmacy phone number"];function PatientInformation({loading:ts,patientDetails:rs,title:ns,icon:os,width:ss="100%",editValue:as,element:ls,lastModifiedBy:cs}){const us=useTheme$1();return jsxRuntimeExports.jsxs(Paper$1,{sx:{marginTop:2,padding:3},children:[jsxRuntimeExports.jsx(Typography$1,{variant:"h4",color:"primary.dark",children:ns}),rs&&jsxRuntimeExports.jsx(Table$1,{size:"small",style:{tableLayout:"fixed",width:ss},children:jsxRuntimeExports.jsx(TableBody$1,{children:Object.keys(rs).map(ds=>{var fs;const ps=cs&&cs[ds];return jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx(TableRow$1,{sx:{"&:last-child td":{borderBottom:0}},children:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(TableCell$1,{sx:{width:"50%",color:us.palette.primary.dark,paddingLeft:0,borderBottom:ps?"none":"auto"},children:jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",justifyContent:"flex-start",alignItems:"center"},children:[ds,os?os[ds]:""]})}),jsxRuntimeExports.jsx(TableCell$1,{sx:{textAlign:"right",wordWrap:"break-word",paddingRight:0,borderBottom:ps?"none":"auto"},children:jsxRuntimeExports.jsx(Box$1,{sx:{display:"flex",justifyContent:"flex-end",alignItems:"center"},children:ts?jsxRuntimeExports.jsx(Skeleton$1,{"aria-busy":"true",width:200}):jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",gap:2},children:[as&&rs[ds]&&as[ds],rs[ds]||"-",rs[ds]&&CopyFields.includes(ds.trim())&&jsxRuntimeExports.jsx(CopyButton,{text:(fs=rs[ds])!=null?fs:""})]})})})]})}),ps&&jsxRuntimeExports.jsx(TableRow$1,{children:jsxRuntimeExports.jsxs(TableCell$1,{colSpan:2,sx:{textAlign:"right",wordWrap:"break-word",paddingRight:0,paddingTop:0,fontSize:"12px"},children:["Last Modified ",ps]})})]},ds)})})}),ls]})}const MAX_RESULTS=20,getPatientNameSearchParams=ts=>{var cs;const{submittedName:rs,firstLast:ns,narrowByRelatedPersonAndAppointment:os=!0,maxResultOverride:ss=MAX_RESULTS}=ts,ls=[...os?[{name:"_has:RelatedPerson:patient:relationship",value:"user-relatedperson"},{name:"_has:Appointment:patient:_tag",value:[OTTEHR_MODULE.UC,OTTEHR_MODULE.TM].join(",")}]:[],{name:"_count",value:ss.toString()},{name:"_total",value:"accurate"},{name:"_sort",value:"family"},{name:"_elements",value:"id,name,birthDate"}];if(rs){const[us,ds]=((cs=rs==null?void 0:rs.toLowerCase())!=null?cs:"").split(",");us&&ds?ls.push({name:"family",value:us.trim()},{name:"given",value:ds.trim()}):ls.push({name:"name",value:rs.replace(/\W/g,"")})}else if(ns){const{first:us,last:ds}=ns;ds&&us&&ls.push({name:"family",value:ds.trim()},{name:"given",value:us.trim()})}return ls};function PatientInformationPage(){var ms,gs,vs,bs,xs,ys,Ss,Cs,$s,Es,ws,Ts,Is,Rs,As,ks,Ms,Os;const{fhirClient:ts}=useApiClients(),[rs,ns]=reactExports.useState(),[os,ss]=reactExports.useState(),[as,ls]=reactExports.useState(),[cs,us]=reactExports.useState(!0),[ds,ps]=reactExports.useState(!1),fs=useTheme$1(),{id:hs}=useParams();return reactExports.useEffect(()=>{async function Ds(){if(!ts||!hs)throw new Error("fhirClient or patient ID is not defined");us(!0);const Fs=await ts.searchResources({resourceType:"Patient",searchParams:[{name:"_id",value:hs},{name:"_revinclude",value:"Appointment:patient"},{name:"_include:iterate",value:"Appointment:location"},{name:"_revinclude:iterate",value:"RelatedPerson:patient"}]}),js=Fs.find(Vs=>Vs.resourceType==="Patient"),Ps=Fs.filter(Vs=>{var Ks,Ws;return Vs.resourceType==="Appointment"&&((Ws=(Ks=Vs.meta)==null?void 0:Ks.tag)==null?void 0:Ws.find(Pl=>Pl.code===OTTEHR_MODULE.UC||Pl.code===OTTEHR_MODULE.TM))}),Ls=Fs.filter(Vs=>Vs.resourceType==="Location"),Ns=Fs.find(Vs=>Vs.resourceType==="RelatedPerson");Ps.sort((Vs,Ks)=>{var Tl,El;const Ws=DateTime.fromISO((Tl=Vs.start)!=null?Tl:"");return DateTime.fromISO((El=Ks.start)!=null?El:"").diff(Ws).milliseconds});const Gs=getFirstName(js),Us=getLastName(js),Hs=getPatientNameSearchParams({firstLast:{first:Gs,last:Us},narrowByRelatedPersonAndAppointment:!1,maxResultOverride:2}),zs=await ts.searchResources({resourceType:"Patient",searchParams:Hs});(zs==null?void 0:zs.length)>1?ps(!0):ps(!1);const qs=Ps.map(Vs=>{var Pl,Tl,El,$l,Sl,Ml;const Ks=(El=(Tl=(Pl=Vs.participant.find(wl=>{var Rl,yl;return(yl=(Rl=wl.actor)==null?void 0:Rl.reference)==null?void 0:yl.startsWith("Location/")}))==null?void 0:Pl.actor)==null?void 0:Tl.reference)==null?void 0:El.replace("Location/",""),Ws=Ls.find(wl=>wl.id===Ks);return{id:Vs.id,type:getVisitTypeLabelForAppointment(Vs),office:(($l=Ws==null?void 0:Ws.address)==null?void 0:$l.state)&&(Ws==null?void 0:Ws.name)&&"".concat((Ml=(Sl=Ws==null?void 0:Ws.address)==null?void 0:Sl.state)==null?void 0:Ml.toUpperCase()," - ").concat(Ws==null?void 0:Ws.name),dateTime:Vs.start,length:getVisitTotalTime(Vs,getVisitStatusHistory(Vs),DateTime.now())}});ss(qs),ns(js),ls(Ns)}Ds().catch(Fs=>console.log(Fs)).finally(()=>us(!1))},[ts,hs]),jsxRuntimeExports.jsx(PageContainer,{tabTitle:"Patient Information",children:jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(Grid$1,{container:!0,direction:"row",alignItems:"center",justifyContent:"center",children:jsxRuntimeExports.jsxs(Grid$1,{item:!0,xs:9,children:[jsxRuntimeExports.jsx(CustomBreadcrumbs,{chain:[{link:"/patients",children:"Patients"},{link:"#",children:cs?jsxRuntimeExports.jsx(Skeleton$1,{width:150}):"".concat((gs=(ms=rs==null?void 0:rs.name)==null?void 0:ms[0])==null?void 0:gs.family,", ").concat((xs=(bs=(vs=rs==null?void 0:rs.name)==null?void 0:vs[0])==null?void 0:bs.given)==null?void 0:xs[0])}]}),jsxRuntimeExports.jsx(Typography$1,{variant:"h2",color:"primary.dark",children:cs?jsxRuntimeExports.jsx(Skeleton$1,{"aria-busy":"true",width:200,height:""}):"".concat((Ss=(ys=rs==null?void 0:rs.name)==null?void 0:ys[0])==null?void 0:Ss.family,", ").concat((Es=($s=(Cs=rs==null?void 0:rs.name)==null?void 0:Cs[0])==null?void 0:$s.given)==null?void 0:Es[0])}),jsxRuntimeExports.jsxs(Grid$1,{container:!0,direction:"row",marginTop:1,children:[cs?jsxRuntimeExports.jsx(Skeleton$1,{"aria-busy":"true",width:200,height:""}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Typography$1,{variant:"body1",sx:{alignSelf:"center",marginLeft:1},children:"Last visit:"}),jsxRuntimeExports.jsx(Typography$1,{sx:{alignSelf:"center",marginLeft:1},fontWeight:"bold",children:formatISODateToLocaleDate((ws=os==null?void 0:os.find(Ds=>Ds.length>0))==null?void 0:ws.dateTime)||"N/A"})]}),cs?jsxRuntimeExports.jsx(Skeleton$1,{sx:{marginLeft:2},"aria-busy":"true",width:200}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Typography$1,{variant:"body1",sx:{alignSelf:"center",marginLeft:1},children:"Paperwork last updated:"}),jsxRuntimeExports.jsx(Typography$1,{sx:{alignSelf:"center",marginLeft:1},fontWeight:"bold",children:formatISODateToLocaleDate((Is=(Ts=rs==null?void 0:rs.meta)==null?void 0:Ts.lastUpdated)!=null?Is:"")})]})]}),ds&&jsxRuntimeExports.jsxs(Box$1,{sx:{marginTop:1,padding:1,background:otherColors.dialogNote,borderRadius:"4px"},display:"flex",children:[jsxRuntimeExports.jsx(default_1$e,{sx:{marginTop:1,color:otherColors.warningIcon}}),jsxRuntimeExports.jsx(Typography$1,{variant:"body2",color:otherColors.closeCross,sx:{m:1.25,maxWidth:850,fontWeight:700},children:"There are other patients with this name in our database. Please check the patient's DOB to confirm you are viewing the right patient."}),jsxRuntimeExports.jsx(default_1$d,{onClick:()=>ps(!1),sx:{marginLeft:"auto",marginRight:0,marginTop:1,color:otherColors.closeCross}})]}),jsxRuntimeExports.jsx(Box$1,{children:jsxRuntimeExports.jsx(PatientInformation,{title:"Patient information",width:"50%",loading:cs,patientDetails:{"Date of birth":formatDateUsingSlashes(rs==null?void 0:rs.birthDate)||"-",Phone:standardizePhoneNumber((As=(Rs=as==null?void 0:as.telecom)==null?void 0:Rs.find(Ds=>(Ds==null?void 0:Ds.system)==="phone"))==null?void 0:As.value)||"-",Email:((Os=(Ms=(ks=rs==null?void 0:rs.contact)==null?void 0:ks[0].telecom)==null?void 0:Ms.find(Ds=>(Ds==null?void 0:Ds.system)==="email"))==null?void 0:Os.value)||"-"},icon:{"Patient's date of birth (Unmatched)":jsxRuntimeExports.jsx(PriorityIconWithBorder,{fill:fs.palette.warning.main})}})}),os&&jsxRuntimeExports.jsxs(Paper$1,{sx:{padding:2,marginTop:5},children:[jsxRuntimeExports.jsx(Typography$1,{variant:"h4",color:"primary.dark",children:"Visits"}),jsxRuntimeExports.jsxs(Table$1,{sx:{minWidth:650},"aria-label":"locationsTable",children:[jsxRuntimeExports.jsx(TableHead$1,{children:jsxRuntimeExports.jsxs(TableRow$1,{children:[jsxRuntimeExports.jsx(TableCell$1,{sx:{fontWeight:"bold"},align:"left",children:"Visit ID"}),jsxRuntimeExports.jsx(TableCell$1,{sx:{fontWeight:"bold"},align:"left",children:"Type"}),jsxRuntimeExports.jsx(TableCell$1,{sx:{fontWeight:"bold"},align:"left",children:"Office"}),jsxRuntimeExports.jsx(TableCell$1,{sx:{fontWeight:"bold"},align:"left",children:"Date & Time"}),jsxRuntimeExports.jsx(TableCell$1,{sx:{fontWeight:"bold"},align:"left",children:"Length"})]})}),jsxRuntimeExports.jsx(TableBody$1,{children:os==null?void 0:os.map((Ds,Fs)=>jsxRuntimeExports.jsxs(TableRow$1,{children:[jsxRuntimeExports.jsx(TableCell$1,{children:jsxRuntimeExports.jsx(Link,{to:"/visit/".concat(Ds.id),children:Ds.id||"-"})}),jsxRuntimeExports.jsx(TableCell$1,{align:"left",children:Ds.type||"-"}),jsxRuntimeExports.jsx(TableCell$1,{align:"left",children:Ds.office||"-"}),jsxRuntimeExports.jsx(TableCell$1,{align:"left",children:Ds.dateTime?formatISOStringToDateAndTime(Ds.dateTime):"-"}),jsxRuntimeExports.jsx(TableCell$1,{align:"left",children:Ds.length!==void 0?"".concat(formatMinutes(Ds.length)," ").concat(Ds.length===1?"min":"mins"):"-"})]},Fs))})]})]})]})})})})}function PatientSearch({nameFilter:ts,setNameFilter:rs,onClear:ns}){return jsxRuntimeExports.jsx(TextField$1,{id:"patient-name",label:"Name",placeholder:"Search patients by name (Last, First)",InputProps:{endAdornment:jsxRuntimeExports.jsx(InputAdornment$1,{position:"end",children:ts&&(ts==null?void 0:ts.length)>0?jsxRuntimeExports.jsx(IconButton$2,{"aria-label":"clear patient search",onClick:()=>{ns&&ns(),rs(null)},onMouseDown:os=>os.preventDefault(),sx:{p:0},children:jsxRuntimeExports.jsx(Close$1,{})}):jsxRuntimeExports.jsx(Search$2,{})})},InputLabelProps:{shrink:!0},onChange:os=>{rs(os.target.value)},sx:{mr:2,mb:2},fullWidth:!0,value:ts!=null?ts:""})}const dateTimeEqualsOperator={label:"DTEquals",value:"dtequals",getApplyFilterFn:ts=>!ts.field||!ts.value||!ts.operator?null:rs=>DateTime.fromISO(rs.value).toISODate()===ts.value.toISODate(),InputComponentProps:{type:DateTime}};function CustomTable({defaultSort:ts,emptyMessage:rs,filterModel:ns,isLoading:os,rows:ss,columns:as}){const ls=useTheme$1(),cs=()=>jsxRuntimeExports.jsx(Box$1,{sx:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:rs});return jsxRuntimeExports.jsx(DataGridPro,{autoHeight:!0,columnHeaderHeight:52,disableColumnFilter:!0,disableColumnMenu:!0,filterModel:ns,hideFooterSelectedRowCount:!0,initialState:{pagination:{paginationModel:{pageSize:10,page:0}},sorting:{sortModel:[ts]}},loading:os,pageSizeOptions:[10],rows:ss!=null?ss:[],columns:as.map(us=>({...us,flex:1})),slots:{noRowsOverlay:cs,noResultsOverlay:cs},sx:{border:"none",mt:1.5,height:"100%",width:"100%","& .MuiDataGrid-columnSeparator":{display:"none"},"& .MuiDataGrid-row:hover":{cursor:"pointer",backgroundColor:alpha(ls.palette.primary.light,.08)},"& .MuiDataGrid-columnHeaderTitle":{fontWeight:"bold"}}})}function PatientsTable({fhirPatients:ts,relatedPersons:rs,total:ns,patientsLoading:os}){const{fhirClient:ss}=useApiClients(),as=useTheme$1(),[ls,cs]=reactExports.useState(null),[us,ds]=reactExports.useState(!1),[ps,fs]=reactExports.useState(),hs="There are no patients. Please update the search filters above.",ms="You have reached the limit of ".concat(MAX_RESULTS," results. Please update the search filters above to narrow your search."),gs=[{field:"patient",headerName:"Patient",renderCell:vs=>jsxRuntimeExports.jsx(Link,{to:"/patient/".concat(vs.id),style:{textDecoration:"none",color:as.palette.primary.main},children:vs.value})},{field:"dateOfBirth",headerName:"DOB",filterOperators:[dateTimeEqualsOperator],valueFormatter:({value:vs})=>vs?formatDateUsingSlashes(vs):"-"},{field:"phone",headerName:"Phone",valueFormatter:({value:vs})=>vs||"-"},{field:"lastVisit",headerName:"Last visit",filterOperators:[dateTimeEqualsOperator],valueFormatter:({value:vs})=>vs?formatDateUsingSlashes(vs):"-"},{field:"lastOffice",headerName:"Last Office",valueFormatter:({value:vs})=>vs||"-"}];return reactExports.useEffect(()=>{async function vs(){const bs=await(ss==null?void 0:ss.searchResources({resourceType:"Location",searchParams:[{name:"_elements",value:"id,address"}]}));fs(bs)}vs().catch(bs=>{console.log(bs)})},[ss]),reactExports.useEffect(()=>{async function vs(bs){var Es;if(!bs){cs(null);return}ds(!0);const xs=[],ys=bs.reduce((ws,Ts)=>{var Rs,As,ks;const Is=[OTTEHR_MODULE.UC,OTTEHR_MODULE.TM].join(",");return xs.push({method:"GET",url:"/Appointment?_tag=".concat(Is,"&actor=Patient/").concat(Ts.id,"&_has:Encounter:appointment:status=finished&_elements=participant,start&_sort=-date&_count=1")}),ws.push({id:Ts.id,patient:Ts.name&&convertFhirNameToDisplayName(Ts.name[0]),dateOfBirth:Ts.birthDate,phone:standardizePhoneNumber((ks=(As=(Rs=rs==null?void 0:rs.find(Ms=>Ms.patient.reference==="Patient/".concat(Ts.id)))==null?void 0:Rs.telecom)==null?void 0:As.find(Ms=>Ms.system==="phone"))==null?void 0:ks.value)}),ws},[]),Ss=[],Cs=await(ss==null?void 0:ss.batchRequest({requests:xs})),$s=((Es=Cs==null?void 0:Cs.entry)==null?void 0:Es.map(ws=>{var Is,Rs;const Ts=(ws==null?void 0:ws.resource)&&ws.resource;return(Rs=(Is=Ts==null?void 0:Ts.entry)==null?void 0:Is[0])==null?void 0:Rs.resource}))||[];Ss.push(...$s),Ss.forEach(ws=>{var Os,Ds,Fs,js,Ps,Ls,Ns,Gs;if(!ws)return;const Ts=(Fs=(Ds=(Os=ws.participant.find(Us=>{var Hs,zs;return(zs=(Hs=Us.actor)==null?void 0:Hs.reference)==null?void 0:zs.startsWith("Patient")}))==null?void 0:Os.actor)==null?void 0:Ds.reference)==null?void 0:Fs.replace("Patient/",""),Is=(Ls=(Ps=(js=ws.participant.find(Us=>{var Hs,zs;return(zs=(Hs=Us.actor)==null?void 0:Hs.reference)==null?void 0:zs.startsWith("Location")}))==null?void 0:js.actor)==null?void 0:Ps.reference)==null?void 0:Ls.replace("Location/",""),Rs=ps==null?void 0:ps.find(Us=>Us.id===Is),As=(Ns=Rs==null?void 0:Rs.address)==null?void 0:Ns.state,ks=(Gs=Rs==null?void 0:Rs.address)==null?void 0:Gs.city,Ms=ys.findIndex(Us=>Us.id===Ts);ys[Ms]={...ys[Ms],lastVisit:ws.start,lastOffice:As&&ks&&"".concat(As.toUpperCase(),"-").concat(ks)}}),ds(!1),cs(ys)}vs(ts).catch(bs=>console.log(bs)).finally(()=>ds(!1))},[ss,ts,ps,rs]),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[ls&&ls.length===MAX_RESULTS&&ls.length<ns&&jsxRuntimeExports.jsx(Box$1,{sx:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:ms}),jsxRuntimeExports.jsx(CustomTable,{defaultSort:{field:"patient",sort:"asc"},emptyMessage:hs,isLoading:us||os,rows:ls,columns:gs})]})}function isString(ts){return typeof ts=="string"||ts instanceof String}function isObject(ts){var rs;return typeof ts=="object"&&ts!=null&&(ts==null||(rs=ts.constructor)==null?void 0:rs.name)==="Object"}function pick(ts,rs){return Array.isArray(rs)?pick(ts,(ns,os)=>rs.includes(os)):Object.entries(ts).reduce((ns,os)=>{let[ss,as]=os;return rs(as,ss)&&(ns[ss]=as),ns},{})}const DIRECTION={NONE:"NONE",LEFT:"LEFT",FORCE_LEFT:"FORCE_LEFT",RIGHT:"RIGHT",FORCE_RIGHT:"FORCE_RIGHT"};function forceDirection(ts){switch(ts){case DIRECTION.LEFT:return DIRECTION.FORCE_LEFT;case DIRECTION.RIGHT:return DIRECTION.FORCE_RIGHT;default:return ts}}function escapeRegExp(ts){return ts.replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1")}function objectIncludes(ts,rs){if(rs===ts)return!0;const ns=Array.isArray(rs),os=Array.isArray(ts);let ss;if(ns&&os){if(rs.length!=ts.length)return!1;for(ss=0;ss<rs.length;ss++)if(!objectIncludes(rs[ss],ts[ss]))return!1;return!0}if(ns!=os)return!1;if(rs&&ts&&typeof rs=="object"&&typeof ts=="object"){const as=rs instanceof Date,ls=ts instanceof Date;if(as&&ls)return rs.getTime()==ts.getTime();if(as!=ls)return!1;const cs=rs instanceof RegExp,us=ts instanceof RegExp;if(cs&&us)return rs.toString()==ts.toString();if(cs!=us)return!1;const ds=Object.keys(rs);for(ss=0;ss<ds.length;ss++)if(!Object.prototype.hasOwnProperty.call(ts,ds[ss]))return!1;for(ss=0;ss<ds.length;ss++)if(!objectIncludes(ts[ds[ss]],rs[ds[ss]]))return!1;return!0}else if(rs&&ts&&typeof rs=="function"&&typeof ts=="function")return rs.toString()===ts.toString();return!1}class ActionDetails{constructor(rs){for(Object.assign(this,rs);this.value.slice(0,this.startChangePos)!==this.oldValue.slice(0,this.startChangePos);)--this.oldSelection.start;if(this.insertedCount)for(;this.value.slice(this.cursorPos)!==this.oldValue.slice(this.oldSelection.end);)this.value.length-this.cursorPos<this.oldValue.length-this.oldSelection.end?++this.oldSelection.end:++this.cursorPos}get startChangePos(){return Math.min(this.cursorPos,this.oldSelection.start)}get insertedCount(){return this.cursorPos-this.startChangePos}get inserted(){return this.value.substr(this.startChangePos,this.insertedCount)}get removedCount(){return Math.max(this.oldSelection.end-this.startChangePos||this.oldValue.length-this.value.length,0)}get removed(){return this.oldValue.substr(this.startChangePos,this.removedCount)}get head(){return this.value.substring(0,this.startChangePos)}get tail(){return this.value.substring(this.startChangePos+this.insertedCount)}get removeDirection(){return!this.removedCount||this.insertedCount?DIRECTION.NONE:(this.oldSelection.end===this.cursorPos||this.oldSelection.start===this.cursorPos)&&this.oldSelection.end===this.oldSelection.start?DIRECTION.RIGHT:DIRECTION.LEFT}}function IMask(ts,rs){return new IMask.InputMask(ts,rs)}function maskedClass(ts){if(ts==null)throw new Error("mask property should be defined");return ts instanceof RegExp?IMask.MaskedRegExp:isString(ts)?IMask.MaskedPattern:ts===Date?IMask.MaskedDate:ts===Number?IMask.MaskedNumber:Array.isArray(ts)||ts===Array?IMask.MaskedDynamic:IMask.Masked&&ts.prototype instanceof IMask.Masked?ts:IMask.Masked&&ts instanceof IMask.Masked?ts.constructor:ts instanceof Function?IMask.MaskedFunction:(console.warn("Mask not found for mask",ts),IMask.Masked)}function normalizeOpts(ts){if(!ts)throw new Error("Options in not defined");if(IMask.Masked){if(ts.prototype instanceof IMask.Masked)return{mask:ts};const{mask:rs=void 0,...ns}=ts instanceof IMask.Masked?{mask:ts}:isObject(ts)&&ts.mask instanceof IMask.Masked?ts:{};if(rs){const os=rs.mask;return{...pick(rs,(ss,as)=>!as.startsWith("_")),mask:rs.constructor,_mask:os,...ns}}}return isObject(ts)?{...ts}:{mask:ts}}function createMask(ts){if(IMask.Masked&&ts instanceof IMask.Masked)return ts;const rs=normalizeOpts(ts),ns=maskedClass(rs.mask);if(!ns)throw new Error("Masked class is not found for provided mask "+rs.mask+", appropriate module needs to be imported manually before creating mask.");return rs.mask===ns&&delete rs.mask,rs._mask&&(rs.mask=rs._mask,delete rs._mask),new ns(rs)}IMask.createMask=createMask;class MaskElement{get selectionStart(){let rs;try{rs=this._unsafeSelectionStart}catch{}return rs!=null?rs:this.value.length}get selectionEnd(){let rs;try{rs=this._unsafeSelectionEnd}catch{}return rs!=null?rs:this.value.length}select(rs,ns){if(!(rs==null||ns==null||rs===this.selectionStart&&ns===this.selectionEnd))try{this._unsafeSelect(rs,ns)}catch{}}get isActive(){return!1}}IMask.MaskElement=MaskElement;const KEY_Z=90,KEY_Y=89;class HTMLMaskElement extends MaskElement{constructor(rs){super(),this.input=rs,this._onKeydown=this._onKeydown.bind(this),this._onInput=this._onInput.bind(this),this._onBeforeinput=this._onBeforeinput.bind(this),this._onCompositionEnd=this._onCompositionEnd.bind(this)}get rootElement(){var rs,ns,os;return(rs=(ns=(os=this.input).getRootNode)==null?void 0:ns.call(os))!=null?rs:document}get isActive(){return this.input===this.rootElement.activeElement}bindEvents(rs){this.input.addEventListener("keydown",this._onKeydown),this.input.addEventListener("input",this._onInput),this.input.addEventListener("beforeinput",this._onBeforeinput),this.input.addEventListener("compositionend",this._onCompositionEnd),this.input.addEventListener("drop",rs.drop),this.input.addEventListener("click",rs.click),this.input.addEventListener("focus",rs.focus),this.input.addEventListener("blur",rs.commit),this._handlers=rs}_onKeydown(rs){if(this._handlers.redo&&(rs.keyCode===KEY_Z&&rs.shiftKey&&(rs.metaKey||rs.ctrlKey)||rs.keyCode===KEY_Y&&rs.ctrlKey))return rs.preventDefault(),this._handlers.redo(rs);if(this._handlers.undo&&rs.keyCode===KEY_Z&&(rs.metaKey||rs.ctrlKey))return rs.preventDefault(),this._handlers.undo(rs);rs.isComposing||this._handlers.selectionChange(rs)}_onBeforeinput(rs){if(rs.inputType==="historyUndo"&&this._handlers.undo)return rs.preventDefault(),this._handlers.undo(rs);if(rs.inputType==="historyRedo"&&this._handlers.redo)return rs.preventDefault(),this._handlers.redo(rs)}_onCompositionEnd(rs){this._handlers.input(rs)}_onInput(rs){rs.isComposing||this._handlers.input(rs)}unbindEvents(){this.input.removeEventListener("keydown",this._onKeydown),this.input.removeEventListener("input",this._onInput),this.input.removeEventListener("beforeinput",this._onBeforeinput),this.input.removeEventListener("compositionend",this._onCompositionEnd),this.input.removeEventListener("drop",this._handlers.drop),this.input.removeEventListener("click",this._handlers.click),this.input.removeEventListener("focus",this._handlers.focus),this.input.removeEventListener("blur",this._handlers.commit),this._handlers={}}}IMask.HTMLMaskElement=HTMLMaskElement;class HTMLInputMaskElement extends HTMLMaskElement{constructor(rs){super(rs),this.input=rs}get _unsafeSelectionStart(){return this.input.selectionStart!=null?this.input.selectionStart:this.value.length}get _unsafeSelectionEnd(){return this.input.selectionEnd}_unsafeSelect(rs,ns){this.input.setSelectionRange(rs,ns)}get value(){return this.input.value}set value(rs){this.input.value=rs}}IMask.HTMLMaskElement=HTMLMaskElement;class HTMLContenteditableMaskElement extends HTMLMaskElement{get _unsafeSelectionStart(){const rs=this.rootElement,ns=rs.getSelection&&rs.getSelection(),os=ns&&ns.anchorOffset,ss=ns&&ns.focusOffset;return ss==null||os==null||os<ss?os:ss}get _unsafeSelectionEnd(){const rs=this.rootElement,ns=rs.getSelection&&rs.getSelection(),os=ns&&ns.anchorOffset,ss=ns&&ns.focusOffset;return ss==null||os==null||os>ss?os:ss}_unsafeSelect(rs,ns){if(!this.rootElement.createRange)return;const os=this.rootElement.createRange();os.setStart(this.input.firstChild||this.input,rs),os.setEnd(this.input.lastChild||this.input,ns);const ss=this.rootElement,as=ss.getSelection&&ss.getSelection();as&&(as.removeAllRanges(),as.addRange(os))}get value(){return this.input.textContent||""}set value(rs){this.input.textContent=rs}}IMask.HTMLContenteditableMaskElement=HTMLContenteditableMaskElement;class InputHistory{constructor(){this.states=[],this.currentIndex=0}get currentState(){return this.states[this.currentIndex]}get isEmpty(){return this.states.length===0}push(rs){this.currentIndex<this.states.length-1&&(this.states.length=this.currentIndex+1),this.states.push(rs),this.states.length>InputHistory.MAX_LENGTH&&this.states.shift(),this.currentIndex=this.states.length-1}go(rs){return this.currentIndex=Math.min(Math.max(this.currentIndex+rs,0),this.states.length-1),this.currentState}undo(){return this.go(-1)}redo(){return this.go(1)}clear(){this.states.length=0,this.currentIndex=0}}InputHistory.MAX_LENGTH=100;let InputMask$1=class{constructor(rs,ns){this.el=rs instanceof MaskElement?rs:rs.isContentEditable&&rs.tagName!=="INPUT"&&rs.tagName!=="TEXTAREA"?new HTMLContenteditableMaskElement(rs):new HTMLInputMaskElement(rs),this.masked=createMask(ns),this._listeners={},this._value="",this._unmaskedValue="",this._rawInputValue="",this.history=new InputHistory,this._saveSelection=this._saveSelection.bind(this),this._onInput=this._onInput.bind(this),this._onChange=this._onChange.bind(this),this._onDrop=this._onDrop.bind(this),this._onFocus=this._onFocus.bind(this),this._onClick=this._onClick.bind(this),this._onUndo=this._onUndo.bind(this),this._onRedo=this._onRedo.bind(this),this.alignCursor=this.alignCursor.bind(this),this.alignCursorFriendly=this.alignCursorFriendly.bind(this),this._bindEvents(),this.updateValue(),this._onChange()}maskEquals(rs){var ns;return rs==null||((ns=this.masked)==null?void 0:ns.maskEquals(rs))}get mask(){return this.masked.mask}set mask(rs){if(this.maskEquals(rs))return;if(!(rs instanceof IMask.Masked)&&this.masked.constructor===maskedClass(rs)){this.masked.updateOptions({mask:rs});return}const ns=rs instanceof IMask.Masked?rs:createMask({mask:rs});ns.unmaskedValue=this.masked.unmaskedValue,this.masked=ns}get value(){return this._value}set value(rs){this.value!==rs&&(this.masked.value=rs,this.updateControl("auto"))}get unmaskedValue(){return this._unmaskedValue}set unmaskedValue(rs){this.unmaskedValue!==rs&&(this.masked.unmaskedValue=rs,this.updateControl("auto"))}get rawInputValue(){return this._rawInputValue}set rawInputValue(rs){this.rawInputValue!==rs&&(this.masked.rawInputValue=rs,this.updateControl(),this.alignCursor())}get typedValue(){return this.masked.typedValue}set typedValue(rs){this.masked.typedValueEquals(rs)||(this.masked.typedValue=rs,this.updateControl("auto"))}get displayValue(){return this.masked.displayValue}_bindEvents(){this.el.bindEvents({selectionChange:this._saveSelection,input:this._onInput,drop:this._onDrop,click:this._onClick,focus:this._onFocus,commit:this._onChange,undo:this._onUndo,redo:this._onRedo})}_unbindEvents(){this.el&&this.el.unbindEvents()}_fireEvent(rs,ns){const os=this._listeners[rs];os&&os.forEach(ss=>ss(ns))}get selectionStart(){return this._cursorChanging?this._changingCursorPos:this.el.selectionStart}get cursorPos(){return this._cursorChanging?this._changingCursorPos:this.el.selectionEnd}set cursorPos(rs){!this.el||!this.el.isActive||(this.el.select(rs,rs),this._saveSelection())}_saveSelection(){this.displayValue!==this.el.value&&console.warn("Element value was changed outside of mask. Syncronize mask using `mask.updateValue()` to work properly."),this._selection={start:this.selectionStart,end:this.cursorPos}}updateValue(){this.masked.value=this.el.value,this._value=this.masked.value,this._unmaskedValue=this.masked.unmaskedValue,this._rawInputValue=this.masked.rawInputValue}updateControl(rs){const ns=this.masked.unmaskedValue,os=this.masked.value,ss=this.masked.rawInputValue,as=this.displayValue,ls=this.unmaskedValue!==ns||this.value!==os||this._rawInputValue!==ss;this._unmaskedValue=ns,this._value=os,this._rawInputValue=ss,this.el.value!==as&&(this.el.value=as),rs==="auto"?this.alignCursor():rs!=null&&(this.cursorPos=rs),ls&&this._fireChangeEvents(),!this._historyChanging&&(ls||this.history.isEmpty)&&this.history.push({unmaskedValue:ns,selection:{start:this.selectionStart,end:this.cursorPos}})}updateOptions(rs){const{mask:ns,...os}=rs,ss=!this.maskEquals(ns),as=this.masked.optionsIsChanged(os);ss&&(this.mask=ns),as&&this.masked.updateOptions(os),(ss||as)&&this.updateControl()}updateCursor(rs){rs!=null&&(this.cursorPos=rs,this._delayUpdateCursor(rs))}_delayUpdateCursor(rs){this._abortUpdateCursor(),this._changingCursorPos=rs,this._cursorChanging=setTimeout(()=>{this.el&&(this.cursorPos=this._changingCursorPos,this._abortUpdateCursor())},10)}_fireChangeEvents(){this._fireEvent("accept",this._inputEvent),this.masked.isComplete&&this._fireEvent("complete",this._inputEvent)}_abortUpdateCursor(){this._cursorChanging&&(clearTimeout(this._cursorChanging),delete this._cursorChanging)}alignCursor(){this.cursorPos=this.masked.nearestInputPos(this.masked.nearestInputPos(this.cursorPos,DIRECTION.LEFT))}alignCursorFriendly(){this.selectionStart===this.cursorPos&&this.alignCursor()}on(rs,ns){return this._listeners[rs]||(this._listeners[rs]=[]),this._listeners[rs].push(ns),this}off(rs,ns){if(!this._listeners[rs])return this;if(!ns)return delete this._listeners[rs],this;const os=this._listeners[rs].indexOf(ns);return os>=0&&this._listeners[rs].splice(os,1),this}_onInput(rs){this._inputEvent=rs,this._abortUpdateCursor();const ns=new ActionDetails({value:this.el.value,cursorPos:this.cursorPos,oldValue:this.displayValue,oldSelection:this._selection}),os=this.masked.rawInputValue,ss=this.masked.splice(ns.startChangePos,ns.removed.length,ns.inserted,ns.removeDirection,{input:!0,raw:!0}).offset,as=os===this.masked.rawInputValue?ns.removeDirection:DIRECTION.NONE;let ls=this.masked.nearestInputPos(ns.startChangePos+ss,as);as!==DIRECTION.NONE&&(ls=this.masked.nearestInputPos(ls,DIRECTION.NONE)),this.updateControl(ls),delete this._inputEvent}_onChange(){this.displayValue!==this.el.value&&this.updateValue(),this.masked.doCommit(),this.updateControl(),this._saveSelection()}_onDrop(rs){rs.preventDefault(),rs.stopPropagation()}_onFocus(rs){this.alignCursorFriendly()}_onClick(rs){this.alignCursorFriendly()}_onUndo(){this._applyHistoryState(this.history.undo())}_onRedo(){this._applyHistoryState(this.history.redo())}_applyHistoryState(rs){rs&&(this._historyChanging=!0,this.unmaskedValue=rs.unmaskedValue,this.el.select(rs.selection.start,rs.selection.end),this._saveSelection(),this._historyChanging=!1)}destroy(){this._unbindEvents(),this._listeners.length=0,delete this.el}};IMask.InputMask=InputMask$1;class ChangeDetails{static normalize(rs){return Array.isArray(rs)?rs:[rs,new ChangeDetails]}constructor(rs){Object.assign(this,{inserted:"",rawInserted:"",tailShift:0,skip:!1},rs)}aggregate(rs){return this.inserted+=rs.inserted,this.rawInserted+=rs.rawInserted,this.tailShift+=rs.tailShift,this.skip=this.skip||rs.skip,this}get offset(){return this.tailShift+this.inserted.length}get consumed(){return!!this.rawInserted||this.skip}equals(rs){return this.inserted===rs.inserted&&this.tailShift===rs.tailShift&&this.rawInserted===rs.rawInserted&&this.skip===rs.skip}}IMask.ChangeDetails=ChangeDetails;class ContinuousTailDetails{constructor(rs,ns,os){rs===void 0&&(rs=""),ns===void 0&&(ns=0),this.value=rs,this.from=ns,this.stop=os}toString(){return this.value}extend(rs){this.value+=String(rs)}appendTo(rs){return rs.append(this.toString(),{tail:!0}).aggregate(rs._appendPlaceholder())}get state(){return{value:this.value,from:this.from,stop:this.stop}}set state(rs){Object.assign(this,rs)}unshift(rs){if(!this.value.length||rs!=null&&this.from>=rs)return"";const ns=this.value[0];return this.value=this.value.slice(1),ns}shift(){if(!this.value.length)return"";const rs=this.value[this.value.length-1];return this.value=this.value.slice(0,-1),rs}}class Masked{constructor(rs){this._value="",this._update({...Masked.DEFAULTS,...rs}),this._initialized=!0}updateOptions(rs){this.optionsIsChanged(rs)&&this.withValueRefresh(this._update.bind(this,rs))}_update(rs){Object.assign(this,rs)}get state(){return{_value:this.value,_rawInputValue:this.rawInputValue}}set state(rs){this._value=rs._value}reset(){this._value=""}get value(){return this._value}set value(rs){this.resolve(rs,{input:!0})}resolve(rs,ns){ns===void 0&&(ns={input:!0}),this.reset(),this.append(rs,ns,""),this.doCommit()}get unmaskedValue(){return this.value}set unmaskedValue(rs){this.resolve(rs,{})}get typedValue(){return this.parse?this.parse(this.value,this):this.unmaskedValue}set typedValue(rs){this.format?this.value=this.format(rs,this):this.unmaskedValue=String(rs)}get rawInputValue(){return this.extractInput(0,this.displayValue.length,{raw:!0})}set rawInputValue(rs){this.resolve(rs,{raw:!0})}get displayValue(){return this.value}get isComplete(){return!0}get isFilled(){return this.isComplete}nearestInputPos(rs,ns){return rs}totalInputPositions(rs,ns){return rs===void 0&&(rs=0),ns===void 0&&(ns=this.displayValue.length),Math.min(this.displayValue.length,ns-rs)}extractInput(rs,ns,os){return rs===void 0&&(rs=0),ns===void 0&&(ns=this.displayValue.length),this.displayValue.slice(rs,ns)}extractTail(rs,ns){return rs===void 0&&(rs=0),ns===void 0&&(ns=this.displayValue.length),new ContinuousTailDetails(this.extractInput(rs,ns),rs)}appendTail(rs){return isString(rs)&&(rs=new ContinuousTailDetails(String(rs))),rs.appendTo(this)}_appendCharRaw(rs,ns){return rs?(this._value+=rs,new ChangeDetails({inserted:rs,rawInserted:rs})):new ChangeDetails}_appendChar(rs,ns,os){ns===void 0&&(ns={});const ss=this.state;let as;if([rs,as]=this.doPrepareChar(rs,ns),rs&&(as=as.aggregate(this._appendCharRaw(rs,ns)),!as.rawInserted&&this.autofix==="pad")){const ls=this.state;this.state=ss;let cs=this.pad(ns);const us=this._appendCharRaw(rs,ns);cs=cs.aggregate(us),us.rawInserted||cs.equals(as)?as=cs:this.state=ls}if(as.inserted){let ls,cs=this.doValidate(ns)!==!1;if(cs&&os!=null){const us=this.state;if(this.overwrite===!0){ls=os.state;for(let ps=0;ps<as.rawInserted.length;++ps)os.unshift(this.displayValue.length-as.tailShift)}let ds=this.appendTail(os);if(cs=ds.rawInserted.length===os.toString().length,!(cs&&ds.inserted)&&this.overwrite==="shift"){this.state=us,ls=os.state;for(let ps=0;ps<as.rawInserted.length;++ps)os.shift();ds=this.appendTail(os),cs=ds.rawInserted.length===os.toString().length}cs&&ds.inserted&&(this.state=us)}cs||(as=new ChangeDetails,this.state=ss,os&&ls&&(os.state=ls))}return as}_appendPlaceholder(){return new ChangeDetails}_appendEager(){return new ChangeDetails}append(rs,ns,os){if(!isString(rs))throw new Error("value should be string");const ss=isString(os)?new ContinuousTailDetails(String(os)):os;ns!=null&&ns.tail&&(ns._beforeTailState=this.state);let as;[rs,as]=this.doPrepare(rs,ns);for(let ls=0;ls<rs.length;++ls){const cs=this._appendChar(rs[ls],ns,ss);if(!cs.rawInserted&&!this.doSkipInvalid(rs[ls],ns,ss))break;as.aggregate(cs)}return(this.eager===!0||this.eager==="append")&&ns!=null&&ns.input&&rs&&as.aggregate(this._appendEager()),ss!=null&&(as.tailShift+=this.appendTail(ss).tailShift),as}remove(rs,ns){return rs===void 0&&(rs=0),ns===void 0&&(ns=this.displayValue.length),this._value=this.displayValue.slice(0,rs)+this.displayValue.slice(ns),new ChangeDetails}withValueRefresh(rs){if(this._refreshing||!this._initialized)return rs();this._refreshing=!0;const ns=this.rawInputValue,os=this.value,ss=rs();return this.rawInputValue=ns,this.value&&this.value!==os&&os.indexOf(this.value)===0&&(this.append(os.slice(this.displayValue.length),{},""),this.doCommit()),delete this._refreshing,ss}runIsolated(rs){if(this._isolated||!this._initialized)return rs(this);this._isolated=!0;const ns=this.state,os=rs(this);return this.state=ns,delete this._isolated,os}doSkipInvalid(rs,ns,os){return!!this.skipInvalid}doPrepare(rs,ns){return ns===void 0&&(ns={}),ChangeDetails.normalize(this.prepare?this.prepare(rs,this,ns):rs)}doPrepareChar(rs,ns){return ns===void 0&&(ns={}),ChangeDetails.normalize(this.prepareChar?this.prepareChar(rs,this,ns):rs)}doValidate(rs){return(!this.validate||this.validate(this.value,this,rs))&&(!this.parent||this.parent.doValidate(rs))}doCommit(){this.commit&&this.commit(this.value,this)}splice(rs,ns,os,ss,as){os===void 0&&(os=""),ss===void 0&&(ss=DIRECTION.NONE),as===void 0&&(as={input:!0});const ls=rs+ns,cs=this.extractTail(ls),us=this.eager===!0||this.eager==="remove";let ds;us&&(ss=forceDirection(ss),ds=this.extractInput(0,ls,{raw:!0}));let ps=rs;const fs=new ChangeDetails;if(ss!==DIRECTION.NONE&&(ps=this.nearestInputPos(rs,ns>1&&rs!==0&&!us?DIRECTION.NONE:ss),fs.tailShift=ps-rs),fs.aggregate(this.remove(ps)),us&&ss!==DIRECTION.NONE&&ds===this.rawInputValue)if(ss===DIRECTION.FORCE_LEFT){let hs;for(;ds===this.rawInputValue&&(hs=this.displayValue.length);)fs.aggregate(new ChangeDetails({tailShift:-1})).aggregate(this.remove(hs-1))}else ss===DIRECTION.FORCE_RIGHT&&cs.unshift();return fs.aggregate(this.append(os,as,cs))}maskEquals(rs){return this.mask===rs}optionsIsChanged(rs){return!objectIncludes(this,rs)}typedValueEquals(rs){const ns=this.typedValue;return rs===ns||Masked.EMPTY_VALUES.includes(rs)&&Masked.EMPTY_VALUES.includes(ns)||(this.format?this.format(rs,this)===this.format(this.typedValue,this):!1)}pad(rs){return new ChangeDetails}}Masked.DEFAULTS={skipInvalid:!0};Masked.EMPTY_VALUES=[void 0,null,""];IMask.Masked=Masked;class ChunksTailDetails{constructor(rs,ns){rs===void 0&&(rs=[]),ns===void 0&&(ns=0),this.chunks=rs,this.from=ns}toString(){return this.chunks.map(String).join("")}extend(rs){if(!String(rs))return;rs=isString(rs)?new ContinuousTailDetails(String(rs)):rs;const ns=this.chunks[this.chunks.length-1],os=ns&&(ns.stop===rs.stop||rs.stop==null)&&rs.from===ns.from+ns.toString().length;if(rs instanceof ContinuousTailDetails)os?ns.extend(rs.toString()):this.chunks.push(rs);else if(rs instanceof ChunksTailDetails){if(rs.stop==null){let ss;for(;rs.chunks.length&&rs.chunks[0].stop==null;)ss=rs.chunks.shift(),ss.from+=rs.from,this.extend(ss)}rs.toString()&&(rs.stop=rs.blockIndex,this.chunks.push(rs))}}appendTo(rs){if(!(rs instanceof IMask.MaskedPattern))return new ContinuousTailDetails(this.toString()).appendTo(rs);const ns=new ChangeDetails;for(let os=0;os<this.chunks.length;++os){const ss=this.chunks[os],as=rs._mapPosToBlock(rs.displayValue.length),ls=ss.stop;let cs;if(ls!=null&&(!as||as.index<=ls)&&((ss instanceof ChunksTailDetails||rs._stops.indexOf(ls)>=0)&&ns.aggregate(rs._appendPlaceholder(ls)),cs=ss instanceof ChunksTailDetails&&rs._blocks[ls]),cs){const us=cs.appendTail(ss);ns.aggregate(us);const ds=ss.toString().slice(us.rawInserted.length);ds&&ns.aggregate(rs.append(ds,{tail:!0}))}else ns.aggregate(rs.append(ss.toString(),{tail:!0}))}return ns}get state(){return{chunks:this.chunks.map(rs=>rs.state),from:this.from,stop:this.stop,blockIndex:this.blockIndex}}set state(rs){const{chunks:ns,...os}=rs;Object.assign(this,os),this.chunks=ns.map(ss=>{const as="chunks"in ss?new ChunksTailDetails:new ContinuousTailDetails;return as.state=ss,as})}unshift(rs){if(!this.chunks.length||rs!=null&&this.from>=rs)return"";const ns=rs!=null?rs-this.from:rs;let os=0;for(;os<this.chunks.length;){const ss=this.chunks[os],as=ss.unshift(ns);if(ss.toString()){if(!as)break;++os}else this.chunks.splice(os,1);if(as)return as}return""}shift(){if(!this.chunks.length)return"";let rs=this.chunks.length-1;for(;0<=rs;){const ns=this.chunks[rs],os=ns.shift();if(ns.toString()){if(!os)break;--rs}else this.chunks.splice(rs,1);if(os)return os}return""}}class PatternCursor{constructor(rs,ns){this.masked=rs,this._log=[];const{offset:os,index:ss}=rs._mapPosToBlock(ns)||(ns<0?{index:0,offset:0}:{index:this.masked._blocks.length,offset:0});this.offset=os,this.index=ss,this.ok=!1}get block(){return this.masked._blocks[this.index]}get pos(){return this.masked._blockStartPos(this.index)+this.offset}get state(){return{index:this.index,offset:this.offset,ok:this.ok}}set state(rs){Object.assign(this,rs)}pushState(){this._log.push(this.state)}popState(){const rs=this._log.pop();return rs&&(this.state=rs),rs}bindBlock(){this.block||(this.index<0&&(this.index=0,this.offset=0),this.index>=this.masked._blocks.length&&(this.index=this.masked._blocks.length-1,this.offset=this.block.displayValue.length))}_pushLeft(rs){for(this.pushState(),this.bindBlock();0<=this.index;--this.index,this.offset=((ns=this.block)==null?void 0:ns.displayValue.length)||0){var ns;if(rs())return this.ok=!0}return this.ok=!1}_pushRight(rs){for(this.pushState(),this.bindBlock();this.index<this.masked._blocks.length;++this.index,this.offset=0)if(rs())return this.ok=!0;return this.ok=!1}pushLeftBeforeFilled(){return this._pushLeft(()=>{if(!(this.block.isFixed||!this.block.value)&&(this.offset=this.block.nearestInputPos(this.offset,DIRECTION.FORCE_LEFT),this.offset!==0))return!0})}pushLeftBeforeInput(){return this._pushLeft(()=>{if(!this.block.isFixed)return this.offset=this.block.nearestInputPos(this.offset,DIRECTION.LEFT),!0})}pushLeftBeforeRequired(){return this._pushLeft(()=>{if(!(this.block.isFixed||this.block.isOptional&&!this.block.value))return this.offset=this.block.nearestInputPos(this.offset,DIRECTION.LEFT),!0})}pushRightBeforeFilled(){return this._pushRight(()=>{if(!(this.block.isFixed||!this.block.value)&&(this.offset=this.block.nearestInputPos(this.offset,DIRECTION.FORCE_RIGHT),this.offset!==this.block.value.length))return!0})}pushRightBeforeInput(){return this._pushRight(()=>{if(!this.block.isFixed)return this.offset=this.block.nearestInputPos(this.offset,DIRECTION.NONE),!0})}pushRightBeforeRequired(){return this._pushRight(()=>{if(!(this.block.isFixed||this.block.isOptional&&!this.block.value))return this.offset=this.block.nearestInputPos(this.offset,DIRECTION.NONE),!0})}}class PatternFixedDefinition{constructor(rs){Object.assign(this,rs),this._value="",this.isFixed=!0}get value(){return this._value}get unmaskedValue(){return this.isUnmasking?this.value:""}get rawInputValue(){return this._isRawInput?this.value:""}get displayValue(){return this.value}reset(){this._isRawInput=!1,this._value=""}remove(rs,ns){return rs===void 0&&(rs=0),ns===void 0&&(ns=this._value.length),this._value=this._value.slice(0,rs)+this._value.slice(ns),this._value||(this._isRawInput=!1),new ChangeDetails}nearestInputPos(rs,ns){ns===void 0&&(ns=DIRECTION.NONE);const os=0,ss=this._value.length;switch(ns){case DIRECTION.LEFT:case DIRECTION.FORCE_LEFT:return os;case DIRECTION.NONE:case DIRECTION.RIGHT:case DIRECTION.FORCE_RIGHT:default:return ss}}totalInputPositions(rs,ns){return rs===void 0&&(rs=0),ns===void 0&&(ns=this._value.length),this._isRawInput?ns-rs:0}extractInput(rs,ns,os){return rs===void 0&&(rs=0),ns===void 0&&(ns=this._value.length),os===void 0&&(os={}),os.raw&&this._isRawInput&&this._value.slice(rs,ns)||""}get isComplete(){return!0}get isFilled(){return!!this._value}_appendChar(rs,ns){if(ns===void 0&&(ns={}),this.isFilled)return new ChangeDetails;const os=this.eager===!0||this.eager==="append",as=this.char===rs&&(this.isUnmasking||ns.input||ns.raw)&&(!ns.raw||!os)&&!ns.tail,ls=new ChangeDetails({inserted:this.char,rawInserted:as?this.char:""});return this._value=this.char,this._isRawInput=as&&(ns.raw||ns.input),ls}_appendEager(){return this._appendChar(this.char,{tail:!0})}_appendPlaceholder(){const rs=new ChangeDetails;return this.isFilled||(this._value=rs.inserted=this.char),rs}extractTail(){return new ContinuousTailDetails("")}appendTail(rs){return isString(rs)&&(rs=new ContinuousTailDetails(String(rs))),rs.appendTo(this)}append(rs,ns,os){const ss=this._appendChar(rs[0],ns);return os!=null&&(ss.tailShift+=this.appendTail(os).tailShift),ss}doCommit(){}get state(){return{_value:this._value,_rawInputValue:this.rawInputValue}}set state(rs){this._value=rs._value,this._isRawInput=!!rs._rawInputValue}pad(rs){return this._appendPlaceholder()}}class PatternInputDefinition{constructor(rs){const{parent:ns,isOptional:os,placeholderChar:ss,displayChar:as,lazy:ls,eager:cs,...us}=rs;this.masked=createMask(us),Object.assign(this,{parent:ns,isOptional:os,placeholderChar:ss,displayChar:as,lazy:ls,eager:cs})}reset(){this.isFilled=!1,this.masked.reset()}remove(rs,ns){return rs===void 0&&(rs=0),ns===void 0&&(ns=this.value.length),rs===0&&ns>=1?(this.isFilled=!1,this.masked.remove(rs,ns)):new ChangeDetails}get value(){return this.masked.value||(this.isFilled&&!this.isOptional?this.placeholderChar:"")}get unmaskedValue(){return this.masked.unmaskedValue}get rawInputValue(){return this.masked.rawInputValue}get displayValue(){return this.masked.value&&this.displayChar||this.value}get isComplete(){return!!this.masked.value||this.isOptional}_appendChar(rs,ns){if(ns===void 0&&(ns={}),this.isFilled)return new ChangeDetails;const os=this.masked.state;let ss=this.masked._appendChar(rs,this.currentMaskFlags(ns));return ss.inserted&&this.doValidate(ns)===!1&&(ss=new ChangeDetails,this.masked.state=os),!ss.inserted&&!this.isOptional&&!this.lazy&&!ns.input&&(ss.inserted=this.placeholderChar),ss.skip=!ss.inserted&&!this.isOptional,this.isFilled=!!ss.inserted,ss}append(rs,ns,os){return this.masked.append(rs,this.currentMaskFlags(ns),os)}_appendPlaceholder(){return this.isFilled||this.isOptional?new ChangeDetails:(this.isFilled=!0,new ChangeDetails({inserted:this.placeholderChar}))}_appendEager(){return new ChangeDetails}extractTail(rs,ns){return this.masked.extractTail(rs,ns)}appendTail(rs){return this.masked.appendTail(rs)}extractInput(rs,ns,os){return rs===void 0&&(rs=0),ns===void 0&&(ns=this.value.length),this.masked.extractInput(rs,ns,os)}nearestInputPos(rs,ns){ns===void 0&&(ns=DIRECTION.NONE);const os=0,ss=this.value.length,as=Math.min(Math.max(rs,os),ss);switch(ns){case DIRECTION.LEFT:case DIRECTION.FORCE_LEFT:return this.isComplete?as:os;case DIRECTION.RIGHT:case DIRECTION.FORCE_RIGHT:return this.isComplete?as:ss;case DIRECTION.NONE:default:return as}}totalInputPositions(rs,ns){return rs===void 0&&(rs=0),ns===void 0&&(ns=this.value.length),this.value.slice(rs,ns).length}doValidate(rs){return this.masked.doValidate(this.currentMaskFlags(rs))&&(!this.parent||this.parent.doValidate(this.currentMaskFlags(rs)))}doCommit(){this.masked.doCommit()}get state(){return{_value:this.value,_rawInputValue:this.rawInputValue,masked:this.masked.state,isFilled:this.isFilled}}set state(rs){this.masked.state=rs.masked,this.isFilled=rs.isFilled}currentMaskFlags(rs){var ns;return{...rs,_beforeTailState:(rs==null||(ns=rs._beforeTailState)==null?void 0:ns.masked)||(rs==null?void 0:rs._beforeTailState)}}pad(rs){return new ChangeDetails}}PatternInputDefinition.DEFAULT_DEFINITIONS={0:/\d/,a:/[\u0041-\u005A\u0061-\u007A\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,"*":/./};class MaskedRegExp extends Masked{updateOptions(rs){super.updateOptions(rs)}_update(rs){const ns=rs.mask;ns&&(rs.validate=os=>os.search(ns)>=0),super._update(rs)}}IMask.MaskedRegExp=MaskedRegExp;class MaskedPattern extends Masked{constructor(rs){super({...MaskedPattern.DEFAULTS,...rs,definitions:Object.assign({},PatternInputDefinition.DEFAULT_DEFINITIONS,rs==null?void 0:rs.definitions)})}updateOptions(rs){super.updateOptions(rs)}_update(rs){rs.definitions=Object.assign({},this.definitions,rs.definitions),super._update(rs),this._rebuildMask()}_rebuildMask(){const rs=this.definitions;this._blocks=[],this.exposeBlock=void 0,this._stops=[],this._maskedBlocks={};const ns=this.mask;if(!ns||!rs)return;let os=!1,ss=!1;for(let as=0;as<ns.length;++as){if(this.blocks){const ds=ns.slice(as),ps=Object.keys(this.blocks).filter(hs=>ds.indexOf(hs)===0);ps.sort((hs,ms)=>ms.length-hs.length);const fs=ps[0];if(fs){const{expose:hs,repeat:ms,...gs}=normalizeOpts(this.blocks[fs]),vs={lazy:this.lazy,eager:this.eager,placeholderChar:this.placeholderChar,displayChar:this.displayChar,overwrite:this.overwrite,autofix:this.autofix,...gs,repeat:ms,parent:this},bs=ms!=null?new IMask.RepeatBlock(vs):createMask(vs);bs&&(this._blocks.push(bs),hs&&(this.exposeBlock=bs),this._maskedBlocks[fs]||(this._maskedBlocks[fs]=[]),this._maskedBlocks[fs].push(this._blocks.length-1)),as+=fs.length-1;continue}}let ls=ns[as],cs=ls in rs;if(ls===MaskedPattern.STOP_CHAR){this._stops.push(this._blocks.length);continue}if(ls==="{"||ls==="}"){os=!os;continue}if(ls==="["||ls==="]"){ss=!ss;continue}if(ls===MaskedPattern.ESCAPE_CHAR){if(++as,ls=ns[as],!ls)break;cs=!1}const us=cs?new PatternInputDefinition({isOptional:ss,lazy:this.lazy,eager:this.eager,placeholderChar:this.placeholderChar,displayChar:this.displayChar,...normalizeOpts(rs[ls]),parent:this}):new PatternFixedDefinition({char:ls,eager:this.eager,isUnmasking:os});this._blocks.push(us)}}get state(){return{...super.state,_blocks:this._blocks.map(rs=>rs.state)}}set state(rs){if(!rs){this.reset();return}const{_blocks:ns,...os}=rs;this._blocks.forEach((ss,as)=>ss.state=ns[as]),super.state=os}reset(){super.reset(),this._blocks.forEach(rs=>rs.reset())}get isComplete(){return this.exposeBlock?this.exposeBlock.isComplete:this._blocks.every(rs=>rs.isComplete)}get isFilled(){return this._blocks.every(rs=>rs.isFilled)}get isFixed(){return this._blocks.every(rs=>rs.isFixed)}get isOptional(){return this._blocks.every(rs=>rs.isOptional)}doCommit(){this._blocks.forEach(rs=>rs.doCommit()),super.doCommit()}get unmaskedValue(){return this.exposeBlock?this.exposeBlock.unmaskedValue:this._blocks.reduce((rs,ns)=>rs+=ns.unmaskedValue,"")}set unmaskedValue(rs){if(this.exposeBlock){const ns=this.extractTail(this._blockStartPos(this._blocks.indexOf(this.exposeBlock))+this.exposeBlock.displayValue.length);this.exposeBlock.unmaskedValue=rs,this.appendTail(ns),this.doCommit()}else super.unmaskedValue=rs}get value(){return this.exposeBlock?this.exposeBlock.value:this._blocks.reduce((rs,ns)=>rs+=ns.value,"")}set value(rs){if(this.exposeBlock){const ns=this.extractTail(this._blockStartPos(this._blocks.indexOf(this.exposeBlock))+this.exposeBlock.displayValue.length);this.exposeBlock.value=rs,this.appendTail(ns),this.doCommit()}else super.value=rs}get typedValue(){return this.exposeBlock?this.exposeBlock.typedValue:super.typedValue}set typedValue(rs){if(this.exposeBlock){const ns=this.extractTail(this._blockStartPos(this._blocks.indexOf(this.exposeBlock))+this.exposeBlock.displayValue.length);this.exposeBlock.typedValue=rs,this.appendTail(ns),this.doCommit()}else super.typedValue=rs}get displayValue(){return this._blocks.reduce((rs,ns)=>rs+=ns.displayValue,"")}appendTail(rs){return super.appendTail(rs).aggregate(this._appendPlaceholder())}_appendEager(){var rs;const ns=new ChangeDetails;let os=(rs=this._mapPosToBlock(this.displayValue.length))==null?void 0:rs.index;if(os==null)return ns;this._blocks[os].isFilled&&++os;for(let ss=os;ss<this._blocks.length;++ss){const as=this._blocks[ss]._appendEager();if(!as.inserted)break;ns.aggregate(as)}return ns}_appendCharRaw(rs,ns){ns===void 0&&(ns={});const os=this._mapPosToBlock(this.displayValue.length),ss=new ChangeDetails;if(!os)return ss;for(let ls=os.index,cs;cs=this._blocks[ls];++ls){var as;const us=cs._appendChar(rs,{...ns,_beforeTailState:(as=ns._beforeTailState)==null||(as=as._blocks)==null?void 0:as[ls]});if(ss.aggregate(us),us.consumed)break}return ss}extractTail(rs,ns){rs===void 0&&(rs=0),ns===void 0&&(ns=this.displayValue.length);const os=new ChunksTailDetails;return rs===ns||this._forEachBlocksInRange(rs,ns,(ss,as,ls,cs)=>{const us=ss.extractTail(ls,cs);us.stop=this._findStopBefore(as),us.from=this._blockStartPos(as),us instanceof ChunksTailDetails&&(us.blockIndex=as),os.extend(us)}),os}extractInput(rs,ns,os){if(rs===void 0&&(rs=0),ns===void 0&&(ns=this.displayValue.length),os===void 0&&(os={}),rs===ns)return"";let ss="";return this._forEachBlocksInRange(rs,ns,(as,ls,cs,us)=>{ss+=as.extractInput(cs,us,os)}),ss}_findStopBefore(rs){let ns;for(let os=0;os<this._stops.length;++os){const ss=this._stops[os];if(ss<=rs)ns=ss;else break}return ns}_appendPlaceholder(rs){const ns=new ChangeDetails;if(this.lazy&&rs==null)return ns;const os=this._mapPosToBlock(this.displayValue.length);if(!os)return ns;const ss=os.index,as=rs!=null?rs:this._blocks.length;return this._blocks.slice(ss,as).forEach(ls=>{if(!ls.lazy||rs!=null){var cs;ns.aggregate(ls._appendPlaceholder((cs=ls._blocks)==null?void 0:cs.length))}}),ns}_mapPosToBlock(rs){let ns="";for(let os=0;os<this._blocks.length;++os){const ss=this._blocks[os],as=ns.length;if(ns+=ss.displayValue,rs<=ns.length)return{index:os,offset:rs-as}}}_blockStartPos(rs){return this._blocks.slice(0,rs).reduce((ns,os)=>ns+=os.displayValue.length,0)}_forEachBlocksInRange(rs,ns,os){ns===void 0&&(ns=this.displayValue.length);const ss=this._mapPosToBlock(rs);if(ss){const as=this._mapPosToBlock(ns),ls=as&&ss.index===as.index,cs=ss.offset,us=as&&ls?as.offset:this._blocks[ss.index].displayValue.length;if(os(this._blocks[ss.index],ss.index,cs,us),as&&!ls){for(let ds=ss.index+1;ds<as.index;++ds)os(this._blocks[ds],ds,0,this._blocks[ds].displayValue.length);os(this._blocks[as.index],as.index,0,as.offset)}}}remove(rs,ns){rs===void 0&&(rs=0),ns===void 0&&(ns=this.displayValue.length);const os=super.remove(rs,ns);return this._forEachBlocksInRange(rs,ns,(ss,as,ls,cs)=>{os.aggregate(ss.remove(ls,cs))}),os}nearestInputPos(rs,ns){if(ns===void 0&&(ns=DIRECTION.NONE),!this._blocks.length)return 0;const os=new PatternCursor(this,rs);if(ns===DIRECTION.NONE)return os.pushRightBeforeInput()||(os.popState(),os.pushLeftBeforeInput())?os.pos:this.displayValue.length;if(ns===DIRECTION.LEFT||ns===DIRECTION.FORCE_LEFT){if(ns===DIRECTION.LEFT){if(os.pushRightBeforeFilled(),os.ok&&os.pos===rs)return rs;os.popState()}if(os.pushLeftBeforeInput(),os.pushLeftBeforeRequired(),os.pushLeftBeforeFilled(),ns===DIRECTION.LEFT){if(os.pushRightBeforeInput(),os.pushRightBeforeRequired(),os.ok&&os.pos<=rs||(os.popState(),os.ok&&os.pos<=rs))return os.pos;os.popState()}return os.ok?os.pos:ns===DIRECTION.FORCE_LEFT?0:(os.popState(),os.ok||(os.popState(),os.ok)?os.pos:0)}return ns===DIRECTION.RIGHT||ns===DIRECTION.FORCE_RIGHT?(os.pushRightBeforeInput(),os.pushRightBeforeRequired(),os.pushRightBeforeFilled()?os.pos:ns===DIRECTION.FORCE_RIGHT?this.displayValue.length:(os.popState(),os.ok||(os.popState(),os.ok)?os.pos:this.nearestInputPos(rs,DIRECTION.LEFT))):rs}totalInputPositions(rs,ns){rs===void 0&&(rs=0),ns===void 0&&(ns=this.displayValue.length);let os=0;return this._forEachBlocksInRange(rs,ns,(ss,as,ls,cs)=>{os+=ss.totalInputPositions(ls,cs)}),os}maskedBlock(rs){return this.maskedBlocks(rs)[0]}maskedBlocks(rs){const ns=this._maskedBlocks[rs];return ns?ns.map(os=>this._blocks[os]):[]}pad(rs){const ns=new ChangeDetails;return this._forEachBlocksInRange(0,this.displayValue.length,os=>ns.aggregate(os.pad(rs))),ns}}MaskedPattern.DEFAULTS={...Masked.DEFAULTS,lazy:!0,placeholderChar:"_"};MaskedPattern.STOP_CHAR="`";MaskedPattern.ESCAPE_CHAR="\\";MaskedPattern.InputDefinition=PatternInputDefinition;MaskedPattern.FixedDefinition=PatternFixedDefinition;IMask.MaskedPattern=MaskedPattern;class MaskedRange extends MaskedPattern{get _matchFrom(){return this.maxLength-String(this.from).length}constructor(rs){super(rs)}updateOptions(rs){super.updateOptions(rs)}_update(rs){const{to:ns=this.to||0,from:os=this.from||0,maxLength:ss=this.maxLength||0,autofix:as=this.autofix,...ls}=rs;this.to=ns,this.from=os,this.maxLength=Math.max(String(ns).length,ss),this.autofix=as;const cs=String(this.from).padStart(this.maxLength,"0"),us=String(this.to).padStart(this.maxLength,"0");let ds=0;for(;ds<us.length&&us[ds]===cs[ds];)++ds;ls.mask=us.slice(0,ds).replace(/0/g,"\\0")+"0".repeat(this.maxLength-ds),super._update(ls)}get isComplete(){return super.isComplete&&!!this.value}boundaries(rs){let ns="",os="";const[,ss,as]=rs.match(/^(\D*)(\d*)(\D*)/)||[];return as&&(ns="0".repeat(ss.length)+as,os="9".repeat(ss.length)+as),ns=ns.padEnd(this.maxLength,"0"),os=os.padEnd(this.maxLength,"9"),[ns,os]}doPrepareChar(rs,ns){ns===void 0&&(ns={});let os;return[rs,os]=super.doPrepareChar(rs.replace(/\D/g,""),ns),rs||(os.skip=!this.isComplete),[rs,os]}_appendCharRaw(rs,ns){if(ns===void 0&&(ns={}),!this.autofix||this.value.length+1>this.maxLength)return super._appendCharRaw(rs,ns);const os=String(this.from).padStart(this.maxLength,"0"),ss=String(this.to).padStart(this.maxLength,"0"),[as,ls]=this.boundaries(this.value+rs);return Number(ls)<this.from?super._appendCharRaw(os[this.value.length],ns):Number(as)>this.to?!ns.tail&&this.autofix==="pad"&&this.value.length+1<this.maxLength?super._appendCharRaw(os[this.value.length],ns).aggregate(this._appendCharRaw(rs,ns)):super._appendCharRaw(ss[this.value.length],ns):super._appendCharRaw(rs,ns)}doValidate(rs){const ns=this.value;if(ns.search(/[^0]/)===-1&&ns.length<=this._matchFrom)return!0;const[ss,as]=this.boundaries(ns);return this.from<=Number(as)&&Number(ss)<=this.to&&super.doValidate(rs)}pad(rs){const ns=new ChangeDetails;if(this.value.length===this.maxLength)return ns;const os=this.value,ss=this.maxLength-this.value.length;if(ss){this.reset();for(let as=0;as<ss;++as)ns.aggregate(super._appendCharRaw("0",rs));os.split("").forEach(as=>this._appendCharRaw(as))}return ns}}IMask.MaskedRange=MaskedRange;const DefaultPattern="d{.}`m{.}`Y";class MaskedDate extends MaskedPattern{static extractPatternOptions(rs){const{mask:ns,pattern:os,...ss}=rs;return{...ss,mask:isString(ns)?ns:os}}constructor(rs){super(MaskedDate.extractPatternOptions({...MaskedDate.DEFAULTS,...rs}))}updateOptions(rs){super.updateOptions(rs)}_update(rs){const{mask:ns,pattern:os,blocks:ss,...as}={...MaskedDate.DEFAULTS,...rs},ls=Object.assign({},MaskedDate.GET_DEFAULT_BLOCKS());rs.min&&(ls.Y.from=rs.min.getFullYear()),rs.max&&(ls.Y.to=rs.max.getFullYear()),rs.min&&rs.max&&ls.Y.from===ls.Y.to&&(ls.m.from=rs.min.getMonth()+1,ls.m.to=rs.max.getMonth()+1,ls.m.from===ls.m.to&&(ls.d.from=rs.min.getDate(),ls.d.to=rs.max.getDate())),Object.assign(ls,this.blocks,ss),super._update({...as,mask:isString(ns)?ns:os,blocks:ls})}doValidate(rs){const ns=this.date;return super.doValidate(rs)&&(!this.isComplete||this.isDateExist(this.value)&&ns!=null&&(this.min==null||this.min<=ns)&&(this.max==null||ns<=this.max))}isDateExist(rs){return this.format(this.parse(rs,this),this).indexOf(rs)>=0}get date(){return this.typedValue}set date(rs){this.typedValue=rs}get typedValue(){return this.isComplete?super.typedValue:null}set typedValue(rs){super.typedValue=rs}maskEquals(rs){return rs===Date||super.maskEquals(rs)}optionsIsChanged(rs){return super.optionsIsChanged(MaskedDate.extractPatternOptions(rs))}}MaskedDate.GET_DEFAULT_BLOCKS=()=>({d:{mask:MaskedRange,from:1,to:31,maxLength:2},m:{mask:MaskedRange,from:1,to:12,maxLength:2},Y:{mask:MaskedRange,from:1900,to:9999}});MaskedDate.DEFAULTS={...MaskedPattern.DEFAULTS,mask:Date,pattern:DefaultPattern,format:(ts,rs)=>{if(!ts)return"";const ns=String(ts.getDate()).padStart(2,"0"),os=String(ts.getMonth()+1).padStart(2,"0"),ss=ts.getFullYear();return[ns,os,ss].join(".")},parse:(ts,rs)=>{const[ns,os,ss]=ts.split(".").map(Number);return new Date(ss,os-1,ns)}};IMask.MaskedDate=MaskedDate;class MaskedDynamic extends Masked{constructor(rs){super({...MaskedDynamic.DEFAULTS,...rs}),this.currentMask=void 0}updateOptions(rs){super.updateOptions(rs)}_update(rs){super._update(rs),"mask"in rs&&(this.exposeMask=void 0,this.compiledMasks=Array.isArray(rs.mask)?rs.mask.map(ns=>{const{expose:os,...ss}=normalizeOpts(ns),as=createMask({overwrite:this._overwrite,eager:this._eager,skipInvalid:this._skipInvalid,...ss});return os&&(this.exposeMask=as),as}):[])}_appendCharRaw(rs,ns){ns===void 0&&(ns={});const os=this._applyDispatch(rs,ns);return this.currentMask&&os.aggregate(this.currentMask._appendChar(rs,this.currentMaskFlags(ns))),os}_applyDispatch(rs,ns,os){rs===void 0&&(rs=""),ns===void 0&&(ns={}),os===void 0&&(os="");const ss=ns.tail&&ns._beforeTailState!=null?ns._beforeTailState._value:this.value,as=this.rawInputValue,ls=ns.tail&&ns._beforeTailState!=null?ns._beforeTailState._rawInputValue:as,cs=as.slice(ls.length),us=this.currentMask,ds=new ChangeDetails,ps=us==null?void 0:us.state;return this.currentMask=this.doDispatch(rs,{...ns},os),this.currentMask&&(this.currentMask!==us?(this.currentMask.reset(),ls&&(this.currentMask.append(ls,{raw:!0}),ds.tailShift=this.currentMask.value.length-ss.length),cs&&(ds.tailShift+=this.currentMask.append(cs,{raw:!0,tail:!0}).tailShift)):ps&&(this.currentMask.state=ps)),ds}_appendPlaceholder(){const rs=this._applyDispatch();return this.currentMask&&rs.aggregate(this.currentMask._appendPlaceholder()),rs}_appendEager(){const rs=this._applyDispatch();return this.currentMask&&rs.aggregate(this.currentMask._appendEager()),rs}appendTail(rs){const ns=new ChangeDetails;return rs&&ns.aggregate(this._applyDispatch("",{},rs)),ns.aggregate(this.currentMask?this.currentMask.appendTail(rs):super.appendTail(rs))}currentMaskFlags(rs){var ns,os;return{...rs,_beforeTailState:((ns=rs._beforeTailState)==null?void 0:ns.currentMaskRef)===this.currentMask&&((os=rs._beforeTailState)==null?void 0:os.currentMask)||rs._beforeTailState}}doDispatch(rs,ns,os){return ns===void 0&&(ns={}),os===void 0&&(os=""),this.dispatch(rs,this,ns,os)}doValidate(rs){return super.doValidate(rs)&&(!this.currentMask||this.currentMask.doValidate(this.currentMaskFlags(rs)))}doPrepare(rs,ns){ns===void 0&&(ns={});let[os,ss]=super.doPrepare(rs,ns);if(this.currentMask){let as;[os,as]=super.doPrepare(os,this.currentMaskFlags(ns)),ss=ss.aggregate(as)}return[os,ss]}doPrepareChar(rs,ns){ns===void 0&&(ns={});let[os,ss]=super.doPrepareChar(rs,ns);if(this.currentMask){let as;[os,as]=super.doPrepareChar(os,this.currentMaskFlags(ns)),ss=ss.aggregate(as)}return[os,ss]}reset(){var rs;(rs=this.currentMask)==null||rs.reset(),this.compiledMasks.forEach(ns=>ns.reset())}get value(){return this.exposeMask?this.exposeMask.value:this.currentMask?this.currentMask.value:""}set value(rs){this.exposeMask?(this.exposeMask.value=rs,this.currentMask=this.exposeMask,this._applyDispatch()):super.value=rs}get unmaskedValue(){return this.exposeMask?this.exposeMask.unmaskedValue:this.currentMask?this.currentMask.unmaskedValue:""}set unmaskedValue(rs){this.exposeMask?(this.exposeMask.unmaskedValue=rs,this.currentMask=this.exposeMask,this._applyDispatch()):super.unmaskedValue=rs}get typedValue(){return this.exposeMask?this.exposeMask.typedValue:this.currentMask?this.currentMask.typedValue:""}set typedValue(rs){if(this.exposeMask){this.exposeMask.typedValue=rs,this.currentMask=this.exposeMask,this._applyDispatch();return}let ns=String(rs);this.currentMask&&(this.currentMask.typedValue=rs,ns=this.currentMask.unmaskedValue),this.unmaskedValue=ns}get displayValue(){return this.currentMask?this.currentMask.displayValue:""}get isComplete(){var rs;return!!((rs=this.currentMask)!=null&&rs.isComplete)}get isFilled(){var rs;return!!((rs=this.currentMask)!=null&&rs.isFilled)}remove(rs,ns){const os=new ChangeDetails;return this.currentMask&&os.aggregate(this.currentMask.remove(rs,ns)).aggregate(this._applyDispatch()),os}get state(){var rs;return{...super.state,_rawInputValue:this.rawInputValue,compiledMasks:this.compiledMasks.map(ns=>ns.state),currentMaskRef:this.currentMask,currentMask:(rs=this.currentMask)==null?void 0:rs.state}}set state(rs){const{compiledMasks:ns,currentMaskRef:os,currentMask:ss,...as}=rs;ns&&this.compiledMasks.forEach((ls,cs)=>ls.state=ns[cs]),os!=null&&(this.currentMask=os,this.currentMask.state=ss),super.state=as}extractInput(rs,ns,os){return this.currentMask?this.currentMask.extractInput(rs,ns,os):""}extractTail(rs,ns){return this.currentMask?this.currentMask.extractTail(rs,ns):super.extractTail(rs,ns)}doCommit(){this.currentMask&&this.currentMask.doCommit(),super.doCommit()}nearestInputPos(rs,ns){return this.currentMask?this.currentMask.nearestInputPos(rs,ns):super.nearestInputPos(rs,ns)}get overwrite(){return this.currentMask?this.currentMask.overwrite:this._overwrite}set overwrite(rs){this._overwrite=rs}get eager(){return this.currentMask?this.currentMask.eager:this._eager}set eager(rs){this._eager=rs}get skipInvalid(){return this.currentMask?this.currentMask.skipInvalid:this._skipInvalid}set skipInvalid(rs){this._skipInvalid=rs}get autofix(){return this.currentMask?this.currentMask.autofix:this._autofix}set autofix(rs){this._autofix=rs}maskEquals(rs){return Array.isArray(rs)?this.compiledMasks.every((ns,os)=>{if(!rs[os])return;const{mask:ss,...as}=rs[os];return objectIncludes(ns,as)&&ns.maskEquals(ss)}):super.maskEquals(rs)}typedValueEquals(rs){var ns;return!!((ns=this.currentMask)!=null&&ns.typedValueEquals(rs))}}MaskedDynamic.DEFAULTS={...Masked.DEFAULTS,dispatch:(ts,rs,ns,os)=>{if(!rs.compiledMasks.length)return;const ss=rs.rawInputValue,as=rs.compiledMasks.map((ls,cs)=>{const us=rs.currentMask===ls,ds=us?ls.displayValue.length:ls.nearestInputPos(ls.displayValue.length,DIRECTION.FORCE_LEFT);return ls.rawInputValue!==ss?(ls.reset(),ls.append(ss,{raw:!0})):us||ls.remove(ds),ls.append(ts,rs.currentMaskFlags(ns)),ls.appendTail(os),{index:cs,weight:ls.rawInputValue.length,totalInputPositions:ls.totalInputPositions(0,Math.max(ds,ls.nearestInputPos(ls.displayValue.length,DIRECTION.FORCE_LEFT)))}});return as.sort((ls,cs)=>cs.weight-ls.weight||cs.totalInputPositions-ls.totalInputPositions),rs.compiledMasks[as[0].index]}};IMask.MaskedDynamic=MaskedDynamic;class MaskedEnum extends MaskedPattern{constructor(rs){super({...MaskedEnum.DEFAULTS,...rs})}updateOptions(rs){super.updateOptions(rs)}_update(rs){const{enum:ns,...os}=rs;if(ns){const ss=ns.map(cs=>cs.length),as=Math.min(...ss),ls=Math.max(...ss)-as;os.mask="*".repeat(as),ls&&(os.mask+="["+"*".repeat(ls)+"]"),this.enum=ns}super._update(os)}_appendCharRaw(rs,ns){ns===void 0&&(ns={});const os=Math.min(this.nearestInputPos(0,DIRECTION.FORCE_RIGHT),this.value.length),ss=this.enum.filter(as=>this.matchValue(as,this.unmaskedValue+rs,os));if(ss.length){ss.length===1&&this._forEachBlocksInRange(0,this.value.length,(ls,cs)=>{const us=ss[0][cs];cs>=this.value.length||us===ls.value||(ls.reset(),ls._appendChar(us,ns))});const as=super._appendCharRaw(ss[0][this.value.length],ns);return ss.length===1&&ss[0].slice(this.unmaskedValue.length).split("").forEach(ls=>as.aggregate(super._appendCharRaw(ls))),as}return new ChangeDetails({skip:!this.isComplete})}extractTail(rs,ns){return rs===void 0&&(rs=0),ns===void 0&&(ns=this.displayValue.length),new ContinuousTailDetails("",rs)}remove(rs,ns){if(rs===void 0&&(rs=0),ns===void 0&&(ns=this.displayValue.length),rs===ns)return new ChangeDetails;const os=Math.min(super.nearestInputPos(0,DIRECTION.FORCE_RIGHT),this.value.length);let ss;for(ss=rs;ss>=0&&!(this.enum.filter(cs=>this.matchValue(cs,this.value.slice(os,ss),os)).length>1);--ss);const as=super.remove(ss,ns);return as.tailShift+=ss-rs,as}get isComplete(){return this.enum.indexOf(this.value)>=0}}MaskedEnum.DEFAULTS={...MaskedPattern.DEFAULTS,matchValue:(ts,rs,ns)=>ts.indexOf(rs,ns)===ns};IMask.MaskedEnum=MaskedEnum;class MaskedFunction extends Masked{updateOptions(rs){super.updateOptions(rs)}_update(rs){super._update({...rs,validate:rs.mask})}}IMask.MaskedFunction=MaskedFunction;var _MaskedNumber;class MaskedNumber extends Masked{constructor(rs){super({...MaskedNumber.DEFAULTS,...rs})}updateOptions(rs){super.updateOptions(rs)}_update(rs){super._update(rs),this._updateRegExps()}_updateRegExps(){const rs="^"+(this.allowNegative?"[+|\\-]?":""),ns="\\d*",os=(this.scale?"("+escapeRegExp(this.radix)+"\\d{0,"+this.scale+"})?":"")+"$";this._numberRegExp=new RegExp(rs+ns+os),this._mapToRadixRegExp=new RegExp("["+this.mapToRadix.map(escapeRegExp).join("")+"]","g"),this._thousandsSeparatorRegExp=new RegExp(escapeRegExp(this.thousandsSeparator),"g")}_removeThousandsSeparators(rs){return rs.replace(this._thousandsSeparatorRegExp,"")}_insertThousandsSeparators(rs){const ns=rs.split(this.radix);return ns[0]=ns[0].replace(/\B(?=(\d{3})+(?!\d))/g,this.thousandsSeparator),ns.join(this.radix)}doPrepareChar(rs,ns){ns===void 0&&(ns={});const[os,ss]=super.doPrepareChar(this._removeThousandsSeparators(this.scale&&this.mapToRadix.length&&(ns.input&&ns.raw||!ns.input&&!ns.raw)?rs.replace(this._mapToRadixRegExp,this.radix):rs),ns);return rs&&!os&&(ss.skip=!0),os&&!this.allowPositive&&!this.value&&os!=="-"&&ss.aggregate(this._appendChar("-")),[os,ss]}_separatorsCount(rs,ns){ns===void 0&&(ns=!1);let os=0;for(let ss=0;ss<rs;++ss)this._value.indexOf(this.thousandsSeparator,ss)===ss&&(++os,ns&&(rs+=this.thousandsSeparator.length));return os}_separatorsCountFromSlice(rs){return rs===void 0&&(rs=this._value),this._separatorsCount(this._removeThousandsSeparators(rs).length,!0)}extractInput(rs,ns,os){return rs===void 0&&(rs=0),ns===void 0&&(ns=this.displayValue.length),[rs,ns]=this._adjustRangeWithSeparators(rs,ns),this._removeThousandsSeparators(super.extractInput(rs,ns,os))}_appendCharRaw(rs,ns){ns===void 0&&(ns={});const os=ns.tail&&ns._beforeTailState?ns._beforeTailState._value:this._value,ss=this._separatorsCountFromSlice(os);this._value=this._removeThousandsSeparators(this.value);const as=this._value;this._value+=rs;const ls=this.number;let cs=!isNaN(ls),us=!1;if(cs){let hs;this.min!=null&&this.min<0&&this.number<this.min&&(hs=this.min),this.max!=null&&this.max>0&&this.number>this.max&&(hs=this.max),hs!=null&&(this.autofix?(this._value=this.format(hs,this).replace(MaskedNumber.UNMASKED_RADIX,this.radix),us||(us=as===this._value&&!ns.tail)):cs=!1),cs&&(cs=!!this._value.match(this._numberRegExp))}let ds;cs?ds=new ChangeDetails({inserted:this._value.slice(as.length),rawInserted:us?"":rs,skip:us}):(this._value=as,ds=new ChangeDetails),this._value=this._insertThousandsSeparators(this._value);const ps=ns.tail&&ns._beforeTailState?ns._beforeTailState._value:this._value,fs=this._separatorsCountFromSlice(ps);return ds.tailShift+=(fs-ss)*this.thousandsSeparator.length,ds}_findSeparatorAround(rs){if(this.thousandsSeparator){const ns=rs-this.thousandsSeparator.length+1,os=this.value.indexOf(this.thousandsSeparator,ns);if(os<=rs)return os}return-1}_adjustRangeWithSeparators(rs,ns){const os=this._findSeparatorAround(rs);os>=0&&(rs=os);const ss=this._findSeparatorAround(ns);return ss>=0&&(ns=ss+this.thousandsSeparator.length),[rs,ns]}remove(rs,ns){rs===void 0&&(rs=0),ns===void 0&&(ns=this.displayValue.length),[rs,ns]=this._adjustRangeWithSeparators(rs,ns);const os=this.value.slice(0,rs),ss=this.value.slice(ns),as=this._separatorsCount(os.length);this._value=this._insertThousandsSeparators(this._removeThousandsSeparators(os+ss));const ls=this._separatorsCountFromSlice(os);return new ChangeDetails({tailShift:(ls-as)*this.thousandsSeparator.length})}nearestInputPos(rs,ns){if(!this.thousandsSeparator)return rs;switch(ns){case DIRECTION.NONE:case DIRECTION.LEFT:case DIRECTION.FORCE_LEFT:{const os=this._findSeparatorAround(rs-1);if(os>=0){const ss=os+this.thousandsSeparator.length;if(rs<ss||this.value.length<=ss||ns===DIRECTION.FORCE_LEFT)return os}break}case DIRECTION.RIGHT:case DIRECTION.FORCE_RIGHT:{const os=this._findSeparatorAround(rs);if(os>=0)return os+this.thousandsSeparator.length}}return rs}doCommit(){if(this.value){const rs=this.number;let ns=rs;this.min!=null&&(ns=Math.max(ns,this.min)),this.max!=null&&(ns=Math.min(ns,this.max)),ns!==rs&&(this.unmaskedValue=this.format(ns,this));let os=this.value;this.normalizeZeros&&(os=this._normalizeZeros(os)),this.padFractionalZeros&&this.scale>0&&(os=this._padFractionalZeros(os)),this._value=os}super.doCommit()}_normalizeZeros(rs){const ns=this._removeThousandsSeparators(rs).split(this.radix);return ns[0]=ns[0].replace(/^(\D*)(0*)(\d*)/,(os,ss,as,ls)=>ss+ls),rs.length&&!/\d$/.test(ns[0])&&(ns[0]=ns[0]+"0"),ns.length>1&&(ns[1]=ns[1].replace(/0*$/,""),ns[1].length||(ns.length=1)),this._insertThousandsSeparators(ns.join(this.radix))}_padFractionalZeros(rs){if(!rs)return rs;const ns=rs.split(this.radix);return ns.length<2&&ns.push(""),ns[1]=ns[1].padEnd(this.scale,"0"),ns.join(this.radix)}doSkipInvalid(rs,ns,os){ns===void 0&&(ns={});const ss=this.scale===0&&rs!==this.thousandsSeparator&&(rs===this.radix||rs===MaskedNumber.UNMASKED_RADIX||this.mapToRadix.includes(rs));return super.doSkipInvalid(rs,ns,os)&&!ss}get unmaskedValue(){return this._removeThousandsSeparators(this._normalizeZeros(this.value)).replace(this.radix,MaskedNumber.UNMASKED_RADIX)}set unmaskedValue(rs){super.unmaskedValue=rs}get typedValue(){return this.parse(this.unmaskedValue,this)}set typedValue(rs){this.rawInputValue=this.format(rs,this).replace(MaskedNumber.UNMASKED_RADIX,this.radix)}get number(){return this.typedValue}set number(rs){this.typedValue=rs}get allowNegative(){return this.min!=null&&this.min<0||this.max!=null&&this.max<0}get allowPositive(){return this.min!=null&&this.min>0||this.max!=null&&this.max>0}typedValueEquals(rs){return(super.typedValueEquals(rs)||MaskedNumber.EMPTY_VALUES.includes(rs)&&MaskedNumber.EMPTY_VALUES.includes(this.typedValue))&&!(rs===0&&this.value==="")}}_MaskedNumber=MaskedNumber;MaskedNumber.UNMASKED_RADIX=".";MaskedNumber.EMPTY_VALUES=[...Masked.EMPTY_VALUES,0];MaskedNumber.DEFAULTS={...Masked.DEFAULTS,mask:Number,radix:",",thousandsSeparator:"",mapToRadix:[_MaskedNumber.UNMASKED_RADIX],min:Number.MIN_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,scale:2,normalizeZeros:!0,padFractionalZeros:!1,parse:Number,format:ts=>ts.toLocaleString("en-US",{useGrouping:!1,maximumFractionDigits:20})};IMask.MaskedNumber=MaskedNumber;const PIPE_TYPE={MASKED:"value",UNMASKED:"unmaskedValue",TYPED:"typedValue"};function createPipe(ts,rs,ns){rs===void 0&&(rs=PIPE_TYPE.MASKED),ns===void 0&&(ns=PIPE_TYPE.MASKED);const os=createMask(ts);return ss=>os.runIsolated(as=>(as[rs]=ss,as[ns]))}function pipe(ts,rs,ns,os){return createPipe(rs,ns,os)(ts)}IMask.PIPE_TYPE=PIPE_TYPE;IMask.createPipe=createPipe;IMask.pipe=pipe;class RepeatBlock extends MaskedPattern{get repeatFrom(){var rs;return(rs=Array.isArray(this.repeat)?this.repeat[0]:this.repeat===1/0?0:this.repeat)!=null?rs:0}get repeatTo(){var rs;return(rs=Array.isArray(this.repeat)?this.repeat[1]:this.repeat)!=null?rs:1/0}constructor(rs){super(rs)}updateOptions(rs){super.updateOptions(rs)}_update(rs){var ns,os,ss;const{repeat:as,...ls}=normalizeOpts(rs);this._blockOpts=Object.assign({},this._blockOpts,ls);const cs=createMask(this._blockOpts);this.repeat=(ns=(os=as!=null?as:cs.repeat)!=null?os:this.repeat)!=null?ns:1/0,super._update({mask:"m".repeat(Math.max(this.repeatTo===1/0&&((ss=this._blocks)==null?void 0:ss.length)||0,this.repeatFrom)),blocks:{m:cs},eager:cs.eager,overwrite:cs.overwrite,skipInvalid:cs.skipInvalid,lazy:cs.lazy,placeholderChar:cs.placeholderChar,displayChar:cs.displayChar})}_allocateBlock(rs){if(rs<this._blocks.length)return this._blocks[rs];if(this.repeatTo===1/0||this._blocks.length<this.repeatTo)return this._blocks.push(createMask(this._blockOpts)),this.mask+="m",this._blocks[this._blocks.length-1]}_appendCharRaw(rs,ns){ns===void 0&&(ns={});const os=new ChangeDetails;for(let us=(ss=(as=this._mapPosToBlock(this.displayValue.length))==null?void 0:as.index)!=null?ss:Math.max(this._blocks.length-1,0),ds,ps;ds=(ls=this._blocks[us])!=null?ls:ps=!ps&&this._allocateBlock(us);++us){var ss,as,ls,cs;const fs=ds._appendChar(rs,{...ns,_beforeTailState:(cs=ns._beforeTailState)==null||(cs=cs._blocks)==null?void 0:cs[us]});if(fs.skip&&ps){this._blocks.pop(),this.mask=this.mask.slice(1);break}if(os.aggregate(fs),fs.consumed)break}return os}_trimEmptyTail(rs,ns){var os,ss;rs===void 0&&(rs=0);const as=Math.max(((os=this._mapPosToBlock(rs))==null?void 0:os.index)||0,this.repeatFrom,0);let ls;ns!=null&&(ls=(ss=this._mapPosToBlock(ns))==null?void 0:ss.index),ls==null&&(ls=this._blocks.length-1);let cs=0;for(let us=ls;as<=us&&!this._blocks[us].unmaskedValue;--us,++cs);cs&&(this._blocks.splice(ls-cs+1,cs),this.mask=this.mask.slice(cs))}reset(){super.reset(),this._trimEmptyTail()}remove(rs,ns){rs===void 0&&(rs=0),ns===void 0&&(ns=this.displayValue.length);const os=super.remove(rs,ns);return this._trimEmptyTail(rs,ns),os}totalInputPositions(rs,ns){return rs===void 0&&(rs=0),ns==null&&this.repeatTo===1/0?1/0:super.totalInputPositions(rs,ns)}get state(){return super.state}set state(rs){this._blocks.length=rs._blocks.length,this.mask=this.mask.slice(0,this._blocks.length),super.state=rs}}IMask.RepeatBlock=RepeatBlock;try{globalThis.IMask=IMask}catch{}const MASK_PROPS={mask:PropTypes.oneOfType([PropTypes.array,PropTypes.func,PropTypes.string,PropTypes.instanceOf(RegExp),PropTypes.oneOf([Date,Number,IMask.Masked]),PropTypes.instanceOf(IMask.Masked)]),value:PropTypes.any,unmask:PropTypes.oneOfType([PropTypes.bool,PropTypes.oneOf(["typed"])]),prepare:PropTypes.func,prepareChar:PropTypes.func,validate:PropTypes.func,commit:PropTypes.func,overwrite:PropTypes.oneOfType([PropTypes.bool,PropTypes.oneOf(["shift"])]),eager:PropTypes.oneOfType([PropTypes.bool,PropTypes.oneOf(["append","remove"])]),skipInvalid:PropTypes.bool,onAccept:PropTypes.func,onComplete:PropTypes.func,placeholderChar:PropTypes.string,displayChar:PropTypes.string,lazy:PropTypes.bool,definitions:PropTypes.object,blocks:PropTypes.object,enum:PropTypes.arrayOf(PropTypes.string),maxLength:PropTypes.number,from:PropTypes.number,to:PropTypes.number,pattern:PropTypes.string,format:PropTypes.func,parse:PropTypes.func,autofix:PropTypes.oneOfType([PropTypes.bool,PropTypes.oneOf(["pad"])]),radix:PropTypes.string,thousandsSeparator:PropTypes.string,mapToRadix:PropTypes.arrayOf(PropTypes.string),scale:PropTypes.number,normalizeZeros:PropTypes.bool,padFractionalZeros:PropTypes.bool,min:PropTypes.oneOfType([PropTypes.number,PropTypes.instanceOf(Date)]),max:PropTypes.oneOfType([PropTypes.number,PropTypes.instanceOf(Date)]),dispatch:PropTypes.func,inputRef:PropTypes.oneOfType([PropTypes.func,PropTypes.shape({current:PropTypes.object})])},MASK_PROPS_NAMES=Object.keys(MASK_PROPS).filter(ts=>ts!=="value"),NON_MASK_OPTIONS_NAMES=["value","unmask","onAccept","onComplete","inputRef"],MASK_OPTIONS_NAMES=MASK_PROPS_NAMES.filter(ts=>NON_MASK_OPTIONS_NAMES.indexOf(ts)<0);function IMaskMixin(ts){var rs;const ns=(rs=class extends React$2.Component{constructor(as){super(as),this._inputRef=this._inputRef.bind(this)}componentDidMount(){this.props.mask&&this.initMask()}componentDidUpdate(){const as=this.props,ls=this._extractMaskOptionsFromProps(as);if(ls.mask)this.maskRef?(this.maskRef.updateOptions(ls),"value"in as&&as.value!==void 0&&(this.maskValue=as.value)):this.initMask(ls);else if(this.destroyMask(),"value"in as&&as.value!==void 0){var cs;(cs=this.element)!=null&&cs.isContentEditable&&this.element.tagName!=="INPUT"&&this.element.tagName!=="TEXTAREA"?this.element.textContent=as.value:this.element.value=as.value}}componentWillUnmount(){this.destroyMask()}_inputRef(as){this.element=as,this.props.inputRef&&(Object.prototype.hasOwnProperty.call(this.props.inputRef,"current")?this.props.inputRef.current=as:this.props.inputRef(as))}initMask(as){as===void 0&&(as=this._extractMaskOptionsFromProps(this.props)),this.maskRef=IMask(this.element,as).on("accept",this._onAccept.bind(this)).on("complete",this._onComplete.bind(this)),"value"in this.props&&this.props.value!==void 0&&(this.maskValue=this.props.value)}destroyMask(){this.maskRef&&(this.maskRef.destroy(),delete this.maskRef)}_extractMaskOptionsFromProps(as){const{...ls}=as;return Object.keys(ls).filter(cs=>MASK_OPTIONS_NAMES.indexOf(cs)<0).forEach(cs=>{delete ls[cs]}),ls}_extractNonMaskProps(as){const{...ls}=as;return MASK_PROPS_NAMES.forEach(cs=>{cs!=="maxLength"&&delete ls[cs]}),"defaultValue"in ls||(ls.defaultValue=as.mask?"":ls.value),delete ls.value,ls}get maskValue(){return this.maskRef?this.props.unmask==="typed"?this.maskRef.typedValue:this.props.unmask?this.maskRef.unmaskedValue:this.maskRef.value:""}set maskValue(as){this.maskRef&&(as=as==null&&this.props.unmask!=="typed"?"":as,this.props.unmask==="typed"?this.maskRef.typedValue=as:this.props.unmask?this.maskRef.unmaskedValue=as:this.maskRef.value=as)}_onAccept(as){this.props.onAccept&&this.maskRef&&this.props.onAccept(this.maskValue,this.maskRef,as)}_onComplete(as){this.props.onComplete&&this.maskRef&&this.props.onComplete(this.maskValue,this.maskRef,as)}render(){return React$2.createElement(ts,{...this._extractNonMaskProps(this.props),inputRef:this._inputRef})}},rs.displayName=void 0,rs.propTypes=void 0,rs),os=ts.displayName||ts.name||"Component";return ns.displayName="IMask("+os+")",ns.propTypes=MASK_PROPS,React$2.forwardRef((ss,as)=>React$2.createElement(ns,{...ss,ref:as}))}const IMaskInputClass=IMaskMixin(ts=>{let{inputRef:rs,...ns}=ts;return React$2.createElement("input",{...ns,ref:rs})}),IMaskInputFn=(ts,rs)=>React$2.createElement(IMaskInputClass,{...ts,ref:rs}),IMaskInput=React$2.forwardRef(IMaskInputFn),InputMask=reactExports.forwardRef(({onChange:ts,name:rs,mask:ns,blocks:os,...ss},as)=>jsxRuntimeExports.jsx(IMaskInput,{...ss,mask:ns,inputRef:as,blocks:os,onAccept:ls=>ts({target:{name:rs,value:ls}}),overwrite:!0,name:rs}));function PhoneSearch({phoneFilter:ts,setPhoneFilter:rs,onClear:ns}){const[os,ss]=reactExports.useState(!1);return jsxRuntimeExports.jsxs(FormControl$1,{variant:"outlined",fullWidth:!0,children:[jsxRuntimeExports.jsx(InputLabel$1,{shrink:!0,error:os,children:"Phone"}),jsxRuntimeExports.jsx(OutlinedInput$1,{id:"phone",label:"Phone",type:"tel",placeholder:"Search patients by phone",value:ts!=null?ts:"",inputMode:"numeric",inputComponent:InputMask,inputProps:{mask:"(000) 000-0000"},endAdornment:jsxRuntimeExports.jsx(InputAdornment$1,{position:"end",children:ts&&(ts==null?void 0:ts.length)>0?jsxRuntimeExports.jsx(IconButton$2,{"aria-label":"clear phone search",onClick:()=>{ns&&ns(),rs(null)},onMouseDown:as=>as.preventDefault(),sx:{p:0},children:jsxRuntimeExports.jsx(Close$1,{})}):jsxRuntimeExports.jsx(Search$2,{})}),onChange:as=>{const ls=as.target.value.replace(/\D/g,"");rs(ls),ls.length&&ls.length<10?ss(!0):ss(!1)},error:os,notched:!0}),jsxRuntimeExports.jsx(FormHelperText$1,{error:!0,sx:{visibility:os?"visible":"hidden"},children:"Phone number must be 10 digits"})]})}const encodePlusSign=ts=>ts.includes("+")?encodePlusSign(ts.replace("+","%2B")):ts;async function getPatientsAndRelatedPersons(ts,rs,ns){var ls,cs,us;const os=await ns.searchResourcesReturnBundle({resourceType:"Patient",searchParams:ts}),ss=(ls=os.entry)==null?void 0:ls.filter(ds=>{var ps;return((ps=ds.resource)==null?void 0:ps.resourceType)==="Patient"}).map(ds=>ds.resource);let as=null;if(ss!=null&&ss.length){const ds=rs==null?void 0:rs.replace(/\D/g,""),ps=rs?"phone=".concat(ds,",+1").concat(ds):"phone:missing=false",fs=ss.map(gs=>({method:"GET",url:encodePlusSign("/RelatedPerson?patient=Patient/".concat(gs.id,"&relationship=user-relatedperson&").concat(ps))})),hs=await ns.batchRequest({requests:fs}),ms=(cs=hs==null?void 0:hs.entry)==null?void 0:cs.filter(gs=>gs==null?void 0:gs.resource);as=ms==null?void 0:ms.map(gs=>{var xs,ys;const vs=gs==null?void 0:gs.resource;return((ys=(xs=vs==null?void 0:vs.entry)==null?void 0:xs[0])==null?void 0:ys.resource)||null}).filter(gs=>gs!==null)}return{patients:ss!=null?ss:null,relatedPersons:as!=null?as:null,total:(us=os.total)!=null?us:0}}function PatientsPage(){const{fhirClient:ts}=useApiClients(),rs=useNavigate(),ns=useLocation(),[os]=useSearchParams(),[ss,as]=reactExports.useState(null),[ls,cs]=reactExports.useState(null),[us,ds]=reactExports.useState(null),[ps,fs]=reactExports.useState(null),[hs,ms]=reactExports.useState(os.get("name")),[gs,vs]=reactExports.useState(os.get("phone")),[bs,xs]=reactExports.useState(0),[ys,Ss]=reactExports.useState(!1);reactExports.useEffect(()=>{if(ns.search&&!hs&&!gs)rs("/patients",{replace:!0});else if(hs||gs){const $s=hs&&"name=".concat(hs),Es=gs&&"phone=".concat(gs==null?void 0:gs.replace(/\D/g,""));let ws;$s&&Es?ws=[$s,Es].join("&"):$s?ws=$s:ws=Es,rs("/patients?".concat(ws),{replace:!0})}},[ns.search,rs,hs,gs]),reactExports.useEffect(()=>{(hs||gs)&&(hs&&ds(hs),gs&&fs(gs))},[hs,gs]),reactExports.useEffect(()=>{async function $s(){if(!ts||!hs&&!gs||hs&&(hs==null?void 0:hs.length)<3||gs&&(gs==null?void 0:gs.length)<10)return;Ss(!0);const Es=getPatientNameSearchParams({submittedName:hs||void 0}),ws=gs==null?void 0:gs.replace(/\D/g,"");gs?Es.push({name:"_has:RelatedPerson:patient:phone",value:"".concat(ws,",+1").concat(ws)}):Es.push({name:"_has:RelatedPerson:patient:phone:missing",value:"false"});const Ts=await getPatientsAndRelatedPersons(Es,gs,ts);as(Ts.patients),cs(Ts.relatedPersons),xs(Ts.total)}$s().catch(Es=>console.log(Es)).finally(()=>Ss(!1))},[ts,hs,gs]);const Cs=$s=>{$s.preventDefault(),ms(us),vs(ps)};return jsxRuntimeExports.jsx(PageContainer,{children:jsxRuntimeExports.jsx(TabPanel$2,{value:"Patients",sx:{p:0},children:jsxRuntimeExports.jsxs(Paper$1,{sx:{p:2},children:[jsxRuntimeExports.jsx("form",{onSubmit:$s=>Cs($s),children:jsxRuntimeExports.jsxs(Grid$1,{container:!0,spacing:2,display:"flex",alignItems:"center",children:[jsxRuntimeExports.jsx(Grid$1,{item:!0,xs:12,sm:5,sx:{marginTop:2},children:jsxRuntimeExports.jsx(PatientSearch,{nameFilter:us,setNameFilter:ds,onClear:()=>{as(null),cs(null),xs(0),ms(null)}})}),jsxRuntimeExports.jsx(Grid$1,{item:!0,xs:12,sm:5,sx:{marginTop:2.5},children:jsxRuntimeExports.jsx(PhoneSearch,{phoneFilter:ps,setPhoneFilter:fs,onClear:()=>{as(null),cs(null),xs(0),vs(null)}})}),jsxRuntimeExports.jsx(Grid$1,{item:!0,xs:12,sm:2,children:jsxRuntimeExports.jsx(Button$2,{type:"submit",variant:"contained",fullWidth:!0,children:"Submit"})})]})}),jsxRuntimeExports.jsx(PatientsTable,{fhirPatients:ss,relatedPersons:ls,total:bs,patientsLoading:ys})]})})})}const diffInMinutes=(ts,rs)=>Math.round(ts.diff(rs,"minutes").minutes);var ApptTab=(ts=>(ts.ready="ready",ts.provider="provider",ts["not-signed"]="not-signed",ts.complete="complete",ts))(ApptTab||{});const ApptTabToStatus={ready:[ApptStatus.ready],provider:[ApptStatus["pre-video"],ApptStatus["on-video"]],"not-signed":[ApptStatus.unsigned],complete:[ApptStatus.complete]};var UnsignedFor=(ts=>(ts.under12="under12",ts["12to24"]="12to24",ts.more24="more24",ts.all="all",ts))(UnsignedFor||{});const filterAppointments=(ts,rs,ns)=>{if(ns!=="not-signed")return ts;const os=as=>{const ls=as.find(cs=>cs.status===ApptStatus.unsigned);return!ls||!ls.start?DateTime.now().toISO():ls.start},ss=DateTime.now();switch(rs){case"under12":return ts.filter(as=>DateTime.fromISO(os(as.telemedStatusHistory))>ss.minus({hours:12}));case"12to24":return ts.filter(as=>DateTime.fromISO(os(as.telemedStatusHistory))<ss.minus({hours:12})&&DateTime.fromISO(os(as.telemedStatusHistory))>=ss.minus({hours:24}));case"more24":return ts.filter(as=>DateTime.fromISO(os(as.telemedStatusHistory))<=ss.minus({hours:24}));default:return ts}},getAppointmentWaitingTime=ts=>{var as;if(!ts)return"...";const rs=ts==null?void 0:ts.findIndex(ls=>ls.status===ApptStatus["on-video"]),ns=rs===-1?ts:ts.slice(0,rs),os=ns.at(0).start,ss=(as=ns.at(-1))==null?void 0:as.end;return diffInMinutes(ss?DateTime.fromISO(ss):DateTime.now(),DateTime.fromISO(os))},ApptStatusToPalette={ready:{background:{primary:"#FFE0B2"},color:{primary:"#E65100"}},"pre-video":{background:{primary:"#B3E5FC"},color:{primary:"#01579B"}},"on-video":{background:{primary:"#D1C4E9"},color:{primary:"#311B92"}},unsigned:{background:{primary:"#FFCCBC"},color:{primary:"#BF360C"}},complete:{background:{primary:"#C8E6C9"},color:{primary:"#1B5E20"}}},APPT_STATUS_MAP={ready:{background:{primary:"#FFE0B2"},color:{primary:"#E65100"}},"pre-video":{background:{primary:"#B3E5FC"},color:{primary:"#01579B"}},"on-video":{background:{primary:"#D1C4E9"},color:{primary:"#311B92"}},unsigned:{background:{primary:"#FFCCBC"},color:{primary:"#BF360C"}},complete:{background:{primary:"#C8E6C9"},color:{primary:"#1B5E20"}}};function getAppointmentStatusChip(ts,rs){return ts?APPT_STATUS_MAP[ts]?jsxRuntimeExports.jsx(Chip$1,{size:"small",label:rs?"".concat(ts," - ").concat(rs):ts,sx:{borderRadius:"4px",border:"none",fontWeight:700,textTransform:"uppercase",background:APPT_STATUS_MAP[ts].background.primary,color:APPT_STATUS_MAP[ts].color.primary},variant:"outlined"}):jsxRuntimeExports.jsx("span",{children:"todo2"}):jsxRuntimeExports.jsx("span",{children:"todo1"})}const updateQuestionnaireResponse=(ts,rs,ns)=>{var os,ss;if(ts)if((os=ts.item)!=null&&os.find(as=>as.linkId===rs))useAppointmentStore.setState({questionnaireResponse:{...ts,item:(ss=ts==null?void 0:ts.item)==null?void 0:ss.map(as=>as.linkId===rs?{...as,answer:[{valueString:ns}]}:as)}});else{const as={linkId:rs,answer:[{valueString:ns}]};ts.item?useAppointmentStore.setState({questionnaireResponse:{...ts,item:[...ts.item,as]}}):useAppointmentStore.setState({questionnaireResponse:{...ts,item:[as]}})}},convertTemperature=(ts,rs)=>{const ns=parseFloat(ts);return isNaN(ns)?"":(rs==="celsius"?(ns-32)*5/9:ns*9/5+32).toFixed(2)},isNumberValidation=ts=>{if(isNaN(+ts)||isNaN(parseFloat(ts)))return"Value must be a number"},isEmptyValidation=ts=>ts==="",getValidationValuesByDOB=ts=>{const rs=DateTime.now(),ns=DateTime.fromISO(ts),os=rs.diff(ns,"years").years;for(const ss of ageGroups)if(os>=ss.minAge&&os<ss.maxAge)return ss.value;throw new Error("Invalid BOD")},ageGroups=[{minAge:0,maxAge:.25,value:{temperature:{high:46},pulse:{high:100},hr:{high:290},rr:{high:90}}},{minAge:.25,maxAge:.5,value:{temperature:{high:46},pulse:{high:100},hr:{high:290},rr:{high:90}}},{minAge:.5,maxAge:.75,value:{temperature:{high:46},pulse:{high:100},hr:{high:290},rr:{high:90}}},{minAge:.75,maxAge:1,value:{temperature:{high:46},pulse:{high:100},hr:{high:290},rr:{high:90}}},{minAge:1,maxAge:1.5,value:{temperature:{high:46},pulse:{high:100},hr:{high:290},rr:{high:90}}},{minAge:1.5,maxAge:2,value:{temperature:{high:46},pulse:{high:100},hr:{high:290},rr:{high:90}}},{minAge:2,maxAge:3,value:{temperature:{high:46},pulse:{high:100},hr:{high:290},rr:{high:90}}},{minAge:3,maxAge:4,value:{temperature:{high:46},pulse:{high:100},hr:{high:290},rr:{high:90}}},{minAge:4,maxAge:6,value:{temperature:{high:46},pulse:{high:100},hr:{high:290},rr:{high:90}}},{minAge:6,maxAge:8,value:{temperature:{high:46},pulse:{high:100},hr:{high:290},rr:{high:90}}},{minAge:8,maxAge:12,value:{temperature:{high:46},pulse:{high:100},hr:{high:290},rr:{high:90}}},{minAge:12,maxAge:15,value:{temperature:{high:46},pulse:{high:100},hr:{high:290},rr:{high:90}}},{minAge:15,maxAge:18,value:{temperature:{high:46},pulse:{high:100},hr:{high:290},rr:{high:90}}},{minAge:18,maxAge:1/0,value:{temperature:{high:46},pulse:{high:100},hr:{high:290},rr:{high:90}}}],mapExcuseTypeToFields={workTemplate:["parentName","headerNote","workFields","footerNote"],workFree:["parentName","headerNote"],schoolTemplate:["headerNote","schoolFields","footerNote"],schoolFree:["headerNote"]},workExcuseFields=["wereWithThePatientAtTheTimeOfTheVisit","areNeededAtHomeToCareForChildDuringThisIllness","excusedFromWorkFromTo","excusedFromWorkOn"],schoolExcuseFields=["excusedFromSchoolFromTo","excusedFromSchoolOn","excusedFromSchoolUntilFeverFreeFor24Hours","excusedFromSchoolUntilOnAntibioticsFor24Hours","ableToReturnToSchoolWithoutRestriction","ableToReturnToGymActivitiesWithoutRestriction","ableToReturnToSchoolWhenThereNoLongerIsAnyEyeDischarge","excusedFromGymActivitiesFromTo","ableToReturnToSchoolWithTheFollowingRestrictions","dominantHandIsInjuredPleaseAllowAccommodations","needsExtraTimeBetweenClassesAssistantOrBookBuddy","otherRestrictions","allowedUseOfCrutchesAceWrapSplintAndElevatorAsNecessary","allowedUseOfElevatorAsNecessary","unableToParticipateInGymActivitiesUntilClearedByAPhysician","excusedFromWorkFromTo","excusedFromWorkOn","ableToReturnToWorkWithTheFollowingRestrictions","other"],dateExcuseFields=["excusedFromWorkFromDate","excusedFromWorkToDate","excusedFromWorkOnDate","excusedFromSchoolFromDate","excusedFromSchoolToDate","excusedFromSchoolOnDate","excusedFromGymActivitiesFromDate","excusedFromGymActivitiesToDate"],noteExcuseFields=["parentName","headerNote","footerNote","otherRestrictionsNote","ableToReturnToWorkWithTheFollowingRestrictionsNote","otherNote"],mapExcuseFieldsToLabels={wereWithThePatientAtTheTimeOfTheVisit:"were with the patient at the time of the visit",areNeededAtHomeToCareForChildDuringThisIllness:"are needed at home to care for child during this illness",excusedFromWorkFromTo:"excused from work from - to",excusedFromWorkOn:"excused from work on",excusedFromSchoolFromTo:"excused from school from - to",excusedFromSchoolOn:"excused from school on",excusedFromSchoolUntilFeverFreeFor24Hours:"excused from school until fever free for 24 hours",excusedFromSchoolUntilOnAntibioticsFor24Hours:"excused from school until on antibiotics for 24 hours",ableToReturnToSchoolWithoutRestriction:"able to return to school without restriction",ableToReturnToGymActivitiesWithoutRestriction:"able to return to gym/activities without restriction",ableToReturnToSchoolWhenThereNoLongerIsAnyEyeDischarge:"able to return to school when there no longer is any eye discharge",excusedFromGymActivitiesFromTo:"excused from gym/activities from - to",ableToReturnToSchoolWithTheFollowingRestrictions:"able to return to school with the following restrictions:",dominantHandIsInjuredPleaseAllowAccommodations:"dominant hand is injured, please allow accommodations",needsExtraTimeBetweenClassesAssistantOrBookBuddy:"needs extra time between classes, assistant or book buddy",otherRestrictions:"other",allowedUseOfCrutchesAceWrapSplintAndElevatorAsNecessary:"allowed use of crutches, ace wrap, splint and elevator as necessary",allowedUseOfElevatorAsNecessary:"allowed use of elevator as necessary",unableToParticipateInGymActivitiesUntilClearedByAPhysician:"unable to participate in gym activities until cleared by a physician",ableToReturnToWorkWithTheFollowingRestrictions:"able to return to work with the following restrictions",other:"other"},mapCompositeExcuseFieldsToLabels={excusedFromWorkFromTo:ts=>"excuse from work from ".concat(ts.excusedFromWorkFromDate.toFormat("MM/dd/yyyy")," to ").concat(ts.excusedFromWorkToDate.toFormat("MM/dd/yyyy")),excusedFromWorkOn:ts=>"excuse from work on ".concat(ts.excusedFromWorkOnDate.toFormat("MM/dd/yyyy")),excusedFromSchoolFromTo:ts=>"excuse from school from ".concat(ts.excusedFromSchoolFromDate.toFormat("MM/dd/yyyy")," to ").concat(ts.excusedFromSchoolToDate.toFormat("MM/dd/yyyy")),excusedFromSchoolOn:ts=>"excuse from school on ".concat(ts.excusedFromSchoolOnDate.toFormat("MM/dd/yyyy")),excusedFromGymActivitiesFromTo:ts=>"excuse from gym/activities from ".concat(ts.excusedFromGymActivitiesFromDate.toFormat("MM/dd/yyyy")," to ").concat(ts.excusedFromGymActivitiesToDate.toFormat("MM/dd/yyyy")),otherRestrictions:ts=>ts.otherRestrictionsNote,other:ts=>ts.otherNote},getDefaultExcuseFormValues=ts=>{const rs={...noteExcuseFields.reduce((ss,as)=>({...ss,[as]:""}),{}),...dateExcuseFields.reduce((ss,as)=>({...ss,[as]:null}),{}),...schoolExcuseFields.reduce((ss,as)=>({...ss,[as]:!1}),{}),...workExcuseFields.reduce((ss,as)=>({...ss,[as]:!1}),{}),excusedFromWorkFromDate:DateTime.now(),excusedFromWorkOnDate:DateTime.now(),excusedFromSchoolFromDate:DateTime.now(),excusedFromSchoolOnDate:DateTime.now(),excusedFromGymActivitiesFromDate:DateTime.now()},ns=DateTime.now().toFormat("MM/dd/yyyy");!ts.isSchool&&ts.parentName&&(rs.parentName=ts.parentName);const os=ts.isSchool?ts.patientName||"{Patient name}":"".concat(ts.patientName||"{Patient name}",", the child of ").concat(ts.parentName||"{Parent/Guardian name}",",");return rs.headerNote="To whom it may concern:\n".concat(os," was treated by Ottehr on ").concat(ns,". They are:"),ts.isTemplate&&(ts.phoneNumber&&(rs.footerNote="For any questions, please do not hesitate to call ".concat(ts.phoneNumber,".\n")),rs.footerNote+="Sincerely,\n".concat(ts.providerName||"{Provider name}",", ").concat(ts.suffix||"Medical Doctor")),rs},mapValuesToExcuse=(ts,rs)=>{const ns={type:rs.isSchool?"school":"work",documentHeader:rs.isSchool?"School note for ".concat(rs.patientName||"Unknown"):"Work note for ".concat(ts.parentName),parentGuardianName:ts.parentName||"Unknown",headerNote:ts.headerNote,footerNote:ts.footerNote,providerDetails:{credentials:rs.suffix||"Medical Doctor",name:rs.providerName||"Unknown"}};if(rs.isTemplate){ns.bulletItems=[];const os={ableToReturnToSchoolWithTheFollowingRestrictions:["dominantHandIsInjuredPleaseAllowAccommodations","needsExtraTimeBetweenClassesAssistantOrBookBuddy","otherRestrictions"]};let ss;(rs.isSchool?schoolExcuseFields:workExcuseFields).forEach(ls=>{if(!ts[ls])return;const cs=mapCompositeExcuseFieldsToLabels[ls],us=cs?cs(ts):mapExcuseFieldsToLabels[ls];if(os[ls]&&(ss=os[ls]),ss!=null&&ss.includes(ls)){const ds=ns.bulletItems.at(-1);ds.subItems||(ds.subItems=[]),ds.subItems.push({text:us})}else ns.bulletItems.push({text:us})}),ns.bulletItems.length===0&&delete ns.bulletItems}return ns},getPatientName=ts=>{var ls,cs,us;const rs=(cs=(ls=ts==null?void 0:ts[0])==null?void 0:ls.given)==null?void 0:cs[0],ns=(us=ts==null?void 0:ts[0])==null?void 0:us.family,os=!!rs&&!!ns,ss=os?"".concat(rs," ").concat(ns):void 0,as=os?"".concat(ns,", ").concat(rs):void 0;return{firstName:rs,lastName:ns,isFullName:os,firstLastName:ss,lastFirstName:as}},mapDispositionTypeToLabel={uc:"Ottehr UC Transfer","uc-lab":"Ottehr UC Lab",pcp:"Primary Care Physician",ed:"ED Transfer","uc-oth":"Non-Ottehr UC Transfer"},dispositionFieldsPerType={pcp:["followUpIn","followUpType"],uc:["bookVisit"],"uc-lab":["labService","bookVisit","followUpType"],ed:[],"uc-oth":[]},DEFAULT_DISPOSITION_VALUES={type:"pcp",note:"",followUpIn:"",labService:null,virusTest:null,dentistry:!1,ent:!1,ophthalmology:!1,orthopedics:!1,other:!1,"lurie-ct":!1,otherNote:""},mapFormToDisposition=ts=>{const rs={type:ts.type,note:ts.note||"N/A"},ns=dispositionFieldsPerType[rs.type];return ns.includes("labService")&&(rs.labService=ts.labService||void 0,rs.virusTest=ts.virusTest||void 0),ns.includes("followUpIn")&&(rs.followUpIn=ts.followUpIn===""?void 0:ts.followUpIn),ns.includes("followUpType")&&(rs.followUp=[],dispositionCheckboxOptions.forEach(os=>{ts[os.name]&&rs.followUp.push({type:os.name,note:os.name==="other"?ts.otherNote:void 0})}),rs.followUp.length===0&&delete rs.followUp),rs},mapDispositionToForm=ts=>{var os;const rs=DEFAULT_DISPOSITION_VALUES;rs.type=ts.type,rs.note=ts.note==="N/A"?"":ts.note;const ns=dispositionFieldsPerType[ts.type];return ns.includes("labService")&&(rs.labService=ts.labService||null,rs.virusTest=ts.virusTest||null),ns.includes("followUpIn")&&(rs.followUpIn=typeof ts.followUpIn=="number"?ts.followUpIn:""),ns.includes("followUpType")&&((os=ts.followUp)==null||os.forEach(ss=>{rs[ss.type]=!0,ss.type==="other"&&(rs.otherNote=ss.note||"")})),rs},followUpInOptions=[{label:"1 day",value:1},{label:"2 days",value:2},{label:"3 days",value:3},{label:"4 days",value:4},{label:"5 days",value:5},{label:"1 week",value:7},{label:"2 weeks",value:14},{label:"as needed",value:0}],dispositionCheckboxOptions=[{label:"Dentistry",name:"dentistry"},{label:"ENT",name:"ent"},{label:"Opthalmology",name:"ophthalmology"},{label:"Orthopedics",name:"orthopedics"},{label:"Other",name:"other"}],labServiceOptions=[{label:"COVID PCR",note:"Based on our medical evaluation, you will undergo COVID-19 PCR testing. You will be provided with additional instructions to access your patient portal and view test results during your in-person visit at our office. The Ottehr Telemedicine app is available daily beginning at 8AM to patients from birth through age 26 for all virtual urgent care needs. The Covid PCR test will be scheduled."},{label:"COVID Rapid Antigen only",note:"Based on our medical evaluation, you will undergo a COVID-19 Rapid Antigen test. You will be provided with additional instructions to access your patient portal and view test results during your in-person visit at our office. The Ottehr Telemedicine app is available daily beginning at 8AM to patients from birth through age 26 for all virtual urgent care needs. Your Covid Rapid Antigen test will be scheduled."},{label:"COVID Rapid Antigen & Reflex PCR",note:"Based on our medical evaluation, you will undergo a COVID-19 Rapid Antigen test. If this rapid test is negative, a more accurate confirmatory âPCRâ will be sent to the lab. You will be provided with additional instructions to access your patient portal and view test results during your in-person visit at our office. The Ottehr Telemedicine app is available daily beginning at 8AM to patients from birth through age 26 for all virtual urgent care needs. The Covid Rapid Antigen Test will be scheduled."},{label:"Multiple Tests",note:"For the following tests, please proceed to Ottehr Care."},{label:"Rapid Strep/Throat Culture",note:"Based on our medical evaluation, you will undergo a rapid Strep test. If the rapid test is positive, a provider at Ottehrs will be in contact with you within 2 hours and provide a prescription. If the rapid test is negative, a confirmatory test will be sent to the lab and we will notify you if the results indicate a need for treatment. Confirmatory lab results may take up to 5 days to return. All lab results and instructions from your child's provider can be found in your patient portal."},{label:"Rapid Strep/Throat Culture & COVID PCR",note:"Based on our medical evaluation, you will undergo a COVID-19 test. Based on our medical evaluation, you will ALSO undergo a rapid Strep test. If the rapid test is positive, a provider at Ottehrs will be in contact with you within 2 hours and provide a prescription. If the rapid test is negative, a confirmatory test will be sent to the lab and we will notify you if the results indicate a need for treatment. Confirmatory lab results may take up to 5 days to return. All lab results and instructions from your child's provider can be found in your patient portal."},{label:"UA/UCX",note:"Based on our medical evaluation, you will undergo a rapid urine test (urinalysis). Please go to Ottehrs to provide a urine sample. Be sure to drink plenty of fluids prior to coming to the office. The urine sample must be collected on site at Ottehr Care using a sterile urine cup. We are unable to accept urine samples taken at home. If the urinalysis is positive, a provider at Ottehrs will be in contact with you within 2 hours and provide a prescription. If the urinalysis is negative, a confirmatory test (urine culture) will be sent to the lab and we will notify you if the results indicate a need for treatment. Urine culture results may take up to 5 days to return. All lab results and instructions from your child's provider can be found in your patient portal."},{label:"Send out virus test"}],virusTestsOptions=["Flu","RSV","COVID","Other"],ExamObservationCardsDetails={"general-comment":{field:"general-comment",defaultValue:"",card:"general"},"head-comment":{field:"head-comment",defaultValue:"",card:"head"},"eyes-comment":{field:"eyes-comment",defaultValue:"",card:"eyes"},"nose-comment":{field:"nose-comment",defaultValue:"",card:"nose"},"ears-comment":{field:"ears-comment",defaultValue:"",card:"ears"},"mouth-comment":{field:"mouth-comment",defaultValue:"",card:"mouth"},"neck-comment":{field:"neck-comment",defaultValue:"",card:"neck"},"chest-comment":{field:"chest-comment",defaultValue:"",card:"chest"},"abdomen-comment":{field:"abdomen-comment",defaultValue:"",card:"abdomen"},"back-comment":{field:"back-comment",defaultValue:"",card:"back"},"skin-comment":{field:"skin-comment",defaultValue:"",card:"skin"},"extremities-musculoskeletal-comment":{field:"extremities-musculoskeletal-comment",defaultValue:"",card:"musculoskeletal"},"neurological-comment":{field:"neurological-comment",defaultValue:"",card:"neurological"},"psych-comment":{field:"psych-comment",defaultValue:"",card:"psych"}},ExamObservationFieldsDetails={alert:{field:"alert",defaultValue:!0,abnormal:!1,group:"normal",card:"general",label:"Alert"},awake:{field:"awake",defaultValue:!0,abnormal:!1,group:"normal",card:"general",label:"Awake"},calm:{field:"calm",defaultValue:!0,abnormal:!1,group:"normal",card:"general",label:"Calm"},"well-hydrated":{field:"well-hydrated",defaultValue:!0,abnormal:!1,group:"normal",card:"general",label:"Well hydrated"},"moist-mucous-membrane":{field:"moist-mucous-membrane",defaultValue:!0,abnormal:!1,group:"normal",card:"general",label:"MMM (Moist Mucous Membrane)"},"distress-none":{field:"distress-none",defaultValue:!0,abnormal:!1,group:"normal",card:"general",label:"No distress"},"playful-and-active":{field:"playful-and-active",defaultValue:!1,abnormal:!1,group:"normal",card:"general",label:"Playful and active"},"tired-appearing":{field:"tired-appearing",defaultValue:!1,abnormal:!0,group:"abnormal",card:"general",label:"Tired-appearing"},"ill-appearing":{field:"ill-appearing",defaultValue:!1,abnormal:!0,group:"abnormal",card:"general",label:"Ill-appearing"},fussy:{field:"fussy",defaultValue:!1,abnormal:!0,group:"abnormal",card:"general",label:"Fussy"},"dry-mucous-membranes":{field:"dry-mucous-membranes",defaultValue:!1,abnormal:!0,group:"abnormal",card:"general",label:"Dry mucous membranes"},"sunken-eye":{field:"sunken-eye",defaultValue:!1,abnormal:!0,group:"abnormal",card:"general",label:"Sunken eyes"},"mild-distress":{field:"mild-distress",defaultValue:!1,abnormal:!0,group:"dropdown",card:"general",label:"Mild"},"moderate-distress":{field:"moderate-distress",defaultValue:!1,abnormal:!0,group:"dropdown",card:"general",label:"Moderate"},"severe-distress":{field:"severe-distress",defaultValue:!1,abnormal:!0,group:"dropdown",card:"general",label:"Severe"},normocephaly:{field:"normocephaly",defaultValue:!0,abnormal:!1,group:"normal",card:"head",label:"Normocephaly"},atraumatic:{field:"atraumatic",defaultValue:!0,abnormal:!1,group:"normal",card:"head",label:"Atraumatic"},"pupils-symmetric":{field:"pupils-symmetric",defaultValue:!0,abnormal:!1,group:"normal",card:"eyes",label:"Pupils symmetric"},eomi:{field:"eomi",defaultValue:!0,abnormal:!1,group:"normal",card:"eyes",label:"EOMI (Extra Ocular Movements Intact)"},"pupils-asymmetric":{field:"pupils-asymmetric",defaultValue:!1,abnormal:!0,group:"abnormal",card:"eyes",label:"Pupils asymmetric"},"right-eye-normal":{field:"right-eye-normal",defaultValue:!0,abnormal:!1,group:"rightEye",card:"eyes",label:"Normal"},"right-eye-injected":{field:"right-eye-injected",defaultValue:!1,abnormal:!0,group:"rightEye",card:"eyes",label:"Injected"},"right-eye-discharge":{field:"right-eye-discharge",defaultValue:!1,abnormal:!0,group:"rightEye",card:"eyes",label:"Discharge"},"right-eye-watering":{field:"right-eye-watering",defaultValue:!1,abnormal:!0,group:"rightEye",card:"eyes",label:"Watering"},"right-eye-puffy-eyelids":{field:"right-eye-puffy-eyelids",defaultValue:!1,abnormal:!0,group:"rightEye",card:"eyes",label:"Puffy eyelids"},"right-eye-small-round-mass-in-eyelid":{field:"right-eye-small-round-mass-in-eyelid",defaultValue:!1,abnormal:!0,group:"rightEye",card:"eyes",label:"Small round mass in eyelid"},"left-eye-normal":{field:"left-eye-normal",defaultValue:!0,abnormal:!1,group:"leftEye",card:"eyes",label:"Normal"},"left-eye-injected":{field:"left-eye-injected",defaultValue:!1,abnormal:!0,group:"leftEye",card:"eyes",label:"Injected"},"left-eye-discharge":{field:"left-eye-discharge",defaultValue:!1,abnormal:!0,group:"leftEye",card:"eyes",label:"Discharge"},"left-eye-watering":{field:"left-eye-watering",defaultValue:!1,abnormal:!0,group:"leftEye",card:"eyes",label:"Watering"},"left-eye-puffy-eyelids":{field:"left-eye-puffy-eyelids",defaultValue:!1,abnormal:!0,group:"leftEye",card:"eyes",label:"Puffy eyelids"},"left-eye-small-round-mass-in-eyelid":{field:"left-eye-small-round-mass-in-eyelid",defaultValue:!1,abnormal:!0,group:"leftEye",card:"eyes",label:"Small round mass in eyelid"},"no-drainage":{field:"no-drainage",defaultValue:!0,abnormal:!1,group:"normal",card:"nose",label:"No drainage"},"clear-rhinorrhea":{field:"clear-rhinorrhea",defaultValue:!1,abnormal:!0,group:"abnormal",card:"nose",label:"Clear rhinorrhea"},"purulent-discharge":{field:"purulent-discharge",defaultValue:!1,abnormal:!0,group:"abnormal",card:"nose",label:"Purulent discharge"},"normal-ear-right":{field:"normal-ear-right",defaultValue:!0,abnormal:!1,group:"rightEar",card:"ears",label:"Normal"},"erythema-ear-right":{field:"erythema-ear-right",defaultValue:!1,abnormal:!0,group:"rightEar",card:"ears",label:"Erythema"},"swelling-ear-right":{field:"swelling-ear-right",defaultValue:!1,abnormal:!0,group:"rightEar",card:"ears",label:"Swelling"},"pain-with-movement-of-pinna-ear-right":{field:"pain-with-movement-of-pinna-ear-right",defaultValue:!1,abnormal:!0,group:"rightEar",card:"ears",label:"Pain with movement of pinna"},"drainage-from-ear-canal-right":{field:"drainage-from-ear-canal-right",defaultValue:!1,abnormal:!0,group:"rightEar",card:"ears",label:"Drainage from ear canal"},"clear-discharge-ear-right":{field:"clear-discharge-ear-right",defaultValue:!1,abnormal:!0,group:"rightEar",card:"ears",label:"Clear discharge"},"normal-ear-left":{field:"normal-ear-left",defaultValue:!0,abnormal:!1,group:"leftEar",card:"ears",label:"Normal"},"erythema-ear-left":{field:"erythema-ear-left",defaultValue:!1,abnormal:!0,group:"leftEar",card:"ears",label:"Erythema"},"swelling-ear-left":{field:"swelling-ear-left",defaultValue:!1,abnormal:!0,group:"leftEar",card:"ears",label:"Swelling"},"pain-with-movement-of-pinna-ear-left":{field:"pain-with-movement-of-pinna-ear-left",defaultValue:!1,abnormal:!0,group:"leftEar",card:"ears",label:"Pain with movement of pinna"},"drainage-from-ear-canal-left":{field:"drainage-from-ear-canal-left",defaultValue:!1,abnormal:!0,group:"leftEar",card:"ears",label:"Drainage from ear canal"},"clear-discharge-ear-left":{field:"clear-discharge-ear-left",defaultValue:!1,abnormal:!0,group:"leftEar",card:"ears",label:"Clear discharge"},"mouth-normal":{field:"mouth-normal",defaultValue:!0,abnormal:!1,group:"normal",card:"mouth",label:"Normal"},"mouth-moist-mucous-membrane":{field:"mouth-moist-mucous-membrane",defaultValue:!0,abnormal:!1,group:"normal",card:"mouth",label:"MMM (Moist Mucous Membrane)"},"normal-tongue":{field:"normal-tongue",defaultValue:!1,abnormal:!1,group:"normal",card:"mouth",label:"Normal tongue"},"uvula-midline":{field:"uvula-midline",defaultValue:!1,abnormal:!1,group:"normal",card:"mouth",label:"Uvula midline"},"tonsils-symmetric-and-not-enlarged":{field:"tonsils-symmetric-and-not-enlarged",defaultValue:!1,abnormal:!1,group:"normal",card:"mouth",label:"Tonsils symmetric and not enlarged"},"normal-voice":{field:"normal-voice",defaultValue:!1,abnormal:!1,group:"normal",card:"mouth",label:"Normal voice"},"mouth-dry-mucous-membranes":{field:"mouth-dry-mucous-membranes",defaultValue:!1,abnormal:!0,group:"abnormal",card:"mouth",label:"Dry mucous membranes"},"erythema-of-pharynx":{field:"erythema-of-pharynx",defaultValue:!1,abnormal:!0,group:"abnormal",card:"mouth",label:"Erythema of pharynx"},"white-patches-on-tongue-andor-buccal-mucosa-that-do-not-wipe-off":{field:"white-patches-on-tongue-andor-buccal-mucosa-that-do-not-wipe-off",defaultValue:!1,abnormal:!0,group:"abnormal",card:"mouth",label:"White patches on tongue and/or buccal mucosa that do not wipe off"},"strawberry-tongue":{field:"strawberry-tongue",defaultValue:!1,abnormal:!0,group:"abnormal",card:"mouth",label:"Strawberry tongue"},"uvula-deviated":{field:"uvula-deviated",defaultValue:!1,abnormal:!0,group:"abnormal",card:"mouth",label:"Uvula deviated"},"tonsils-erythematous":{field:"tonsils-erythematous",defaultValue:!1,abnormal:!0,group:"abnormal",card:"mouth",label:"Tonsils erythematous"},"exudate-on-tonsils":{field:"exudate-on-tonsils",defaultValue:!1,abnormal:!0,group:"abnormal",card:"mouth",label:"Exudate on tonsils"},"hoarse-voice":{field:"hoarse-voice",defaultValue:!1,abnormal:!0,group:"abnormal",card:"mouth",label:"Hoarse voice"},"hot-potato-voice":{field:"hot-potato-voice",defaultValue:!1,abnormal:!0,group:"abnormal",card:"mouth",label:"Hot potato voice"},"supple-neck":{field:"supple-neck",defaultValue:!0,abnormal:!1,group:"normal",card:"neck",label:"Supple"},"moves-in-all-directions":{field:"moves-in-all-directions",defaultValue:!0,abnormal:!1,group:"normal",card:"neck",label:"Moves in all directions"},"normal-respiratory-effort":{field:"normal-respiratory-effort",defaultValue:!0,abnormal:!1,group:"normal",card:"chest",label:"Normal respiratory effort"},"no-tachypnea":{field:"no-tachypnea",defaultValue:!0,abnormal:!1,group:"normal",card:"chest",label:"No tachypnea"},"no-retractions":{field:"no-retractions",defaultValue:!0,abnormal:!1,group:"normal",card:"chest",label:"No retractions"},"no-conversational-dyspnea":{field:"no-conversational-dyspnea",defaultValue:!1,abnormal:!1,group:"normal",card:"chest",label:"No conversational dyspnea"},tachypnea:{field:"tachypnea",defaultValue:!1,abnormal:!0,group:"abnormal",card:"chest",label:"Tachypnea"},"suprasternal-retractions":{field:"suprasternal-retractions",defaultValue:!1,abnormal:!0,group:"abnormal",card:"chest",label:"Suprasternal retractions"},"intercostal-retractions":{field:"intercostal-retractions",defaultValue:!1,abnormal:!0,group:"abnormal",card:"chest",label:"Intercostal retractions"},"subcostal-retractions":{field:"subcostal-retractions",defaultValue:!1,abnormal:!0,group:"abnormal",card:"chest",label:"Subcostal retractions"},"abdominal-breathing":{field:"abdominal-breathing",defaultValue:!1,abnormal:!0,group:"abnormal",card:"chest",label:"Abdominal breathing"},grunting:{field:"grunting",defaultValue:!1,abnormal:!0,group:"abnormal",card:"chest",label:"Grunting"},"nasal-flaring":{field:"nasal-flaring",defaultValue:!1,abnormal:!0,group:"abnormal",card:"chest",label:"Nasal flaring"},wheeze:{field:"wheeze",defaultValue:!1,abnormal:!0,group:"abnormal",card:"chest",label:"Audible wheeze"},"barky-cough":{field:"barky-cough",defaultValue:!1,abnormal:!0,group:"abnormal",card:"chest",label:"Barky cough"},"stridor-with-each-breath":{field:"stridor-with-each-breath",defaultValue:!1,abnormal:!0,group:"abnormal",card:"chest",label:"Stridor with each breath"},"back-normal":{field:"back-normal",defaultValue:!0,abnormal:!1,group:"normal",card:"back",label:"Normal"},"able-to-flex-and-extend-back-and-move-side-to-side":{field:"able-to-flex-and-extend-back-and-move-side-to-side",defaultValue:!1,abnormal:!1,group:"normal",card:"back",label:"Able to flex and extend back and twist side to side"},"cva-tenderness":{field:"cva-tenderness",defaultValue:!1,abnormal:!0,group:"abnormal",card:"back",label:"CVA tenderness"},"no-rashes":{field:"no-rashes",defaultValue:!0,abnormal:!1,group:"normal",card:"skin",label:"No rashes"},"consistent-with-viral-exam":{field:"consistent-with-viral-exam",defaultValue:!1,abnormal:!0,group:"form",card:"skin",label:"consistent with viral exam"},"consistent-with-insect-bites":{field:"consistent-with-insect-bites",defaultValue:!1,abnormal:!0,group:"form",card:"skin",label:"consistent with insect bites"},"consistent-with-urticaria":{field:"consistent-with-urticaria",defaultValue:!1,abnormal:!0,group:"form",card:"skin",label:"consistent with urticaria"},"consistent-with-coxsackievirus":{field:"consistent-with-coxsackievirus",defaultValue:!1,abnormal:!0,group:"form",card:"skin",label:"consistent with Coxsackievirus"},"consistent-with-irritant-diaper-rash":{field:"consistent-with-irritant-diaper-rash",defaultValue:!1,abnormal:!0,group:"form",card:"skin",label:"consistent with irritant diaper rash"},"consistent-with-ringworm":{field:"consistent-with-ringworm",defaultValue:!1,abnormal:!0,group:"form",card:"skin",label:"consistent with ringworm"},"consistent-with-impetigo":{field:"consistent-with-impetigo",defaultValue:!1,abnormal:!0,group:"form",card:"skin",label:"consistent with impetigo"},"consistent-with-fifths-disease":{field:"consistent-with-fifths-disease",defaultValue:!1,abnormal:!0,group:"form",card:"skin",label:"consistent with Fifth's disease"},"consistent-with-atopic-dermatitis":{field:"consistent-with-atopic-dermatitis",defaultValue:!1,abnormal:!0,group:"form",card:"skin",label:"consistent with atopic dermatitis"},"consistent-with-paronychia":{field:"consistent-with-paronychia",defaultValue:!1,abnormal:!0,group:"form",card:"skin",label:"consistent with paronychia"},"consistent-with-poison-ivy-contact-dermatitis":{field:"consistent-with-poison-ivy-contact-dermatitis",defaultValue:!1,abnormal:!0,group:"form",card:"skin",label:"consistent with poison ivy contact dermatitis"},"consistent-with-tinea-capitis":{field:"consistent-with-tinea-capitis",defaultValue:!1,abnormal:!0,group:"form",card:"skin",label:"consistent with tinea capitis"},"consistent-with-pityriasis-rosea":{field:"consistent-with-pityriasis-rosea",defaultValue:!1,abnormal:!0,group:"form",card:"skin",label:"consistent with pityriasis rosea"},"consistent-with-lyme-ecm":{field:"consistent-with-lyme-ecm",defaultValue:!1,abnormal:!0,group:"form",card:"skin",label:"consistent with Lyme ECM"},"normal-appearing-on-parental-exam":{field:"normal-appearing-on-parental-exam",defaultValue:!0,abnormal:!1,group:"normal",card:"abdomen",label:"Normal appearing on parental exam"},"non-tender-on-parental-exam":{field:"non-tender-on-parental-exam",defaultValue:!0,abnormal:!1,group:"normal",card:"abdomen",label:"Non-tender on parental exam"},"able-to-jump-up-down-without-abdominal-pain":{field:"able-to-jump-up-down-without-abdominal-pain",defaultValue:!0,abnormal:!1,group:"normal",card:"abdomen",label:"Able to jump up/down without abdominal pain"},"left-lower-quadrant-abdomen":{field:"left-lower-quadrant-abdomen",defaultValue:!1,abnormal:!0,group:"dropdown",card:"abdomen",label:"Left Lower Quadrant - Abdomen"},"right-lower-quadrant-abdomen":{field:"right-lower-quadrant-abdomen",defaultValue:!1,abnormal:!0,group:"dropdown",card:"abdomen",label:"Right Lower Quadrant - Abdomen"},"right-upper-quadrant-abdomen":{field:"right-upper-quadrant-abdomen",defaultValue:!1,abnormal:!0,group:"dropdown",card:"abdomen",label:"Right Upper Quadrant - Abdomen"},"left-upper-quadrant-abdomen":{field:"left-upper-quadrant-abdomen",defaultValue:!1,abnormal:!0,group:"dropdown",card:"abdomen",label:"Left Upper Quadrant - Abdomen"},"epigastric-region-abdomen":{field:"epigastric-region-abdomen",defaultValue:!1,abnormal:!0,group:"dropdown",card:"abdomen",label:"Epigastric Region - Abdomen"},"left-abdominal-lumbar-region-abdomen":{field:"left-abdominal-lumbar-region-abdomen",defaultValue:!1,abnormal:!0,group:"dropdown",card:"abdomen",label:"Left Abdominal Lumbar Region - Abdomen"},"right-abdominal-lumbar-region-abdomen":{field:"right-abdominal-lumbar-region-abdomen",defaultValue:!1,abnormal:!0,group:"dropdown",card:"abdomen",label:"Right Abdominal Lumbar Region - Abdomen"},"not-able-to-jump-up-down-due-to-abdominal-pain":{field:"not-able-to-jump-up-down-due-to-abdominal-pain",defaultValue:!1,abnormal:!0,group:"abnormal",card:"abdomen",label:"Not able to jump up/down due to abdominal pain"},"moving-extemities-equally":{field:"moving-extemities-equally",defaultValue:!0,abnormal:!1,group:"normal",card:"musculoskeletal",label:"Moving extemities equally"},"normal-gait":{field:"normal-gait",defaultValue:!0,abnormal:!1,group:"normal",card:"musculoskeletal",label:"Normal gait"},"normal-rom":{field:"normal-rom",defaultValue:!0,abnormal:!1,group:"normal",card:"musculoskeletal",label:"Normal ROM"},"no-swelling":{field:"no-swelling",defaultValue:!0,abnormal:!1,group:"normal",card:"musculoskeletal",label:"No swelling"},"no-bruising":{field:"no-bruising",defaultValue:!0,abnormal:!1,group:"normal",card:"musculoskeletal",label:"No bruising"},"no-deformity":{field:"no-deformity",defaultValue:!0,abnormal:!1,group:"normal",card:"musculoskeletal",label:"No deformity"},"swelling-left-finger-index":{field:"swelling-left-finger-index",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"swelling-right-finger-index":{field:"swelling-right-finger-index",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"swelling-left-finger-middle":{field:"swelling-left-finger-middle",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"swelling-right-finger-middle":{field:"swelling-right-finger-middle",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"swelling-left-finger-ring":{field:"swelling-left-finger-ring",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"swelling-right-finger-ring":{field:"swelling-right-finger-ring",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"swelling-left-finger-little":{field:"swelling-left-finger-little",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"swelling-right-finger-little":{field:"swelling-right-finger-little",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"swelling-left-finger-thumb":{field:"swelling-left-finger-thumb",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"swelling-right-finger-thumb":{field:"swelling-right-finger-thumb",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"swelling-left-hand":{field:"swelling-left-hand",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"swelling-right-hand":{field:"swelling-right-hand",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"swelling-left-foot":{field:"swelling-left-foot",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"swelling-right-foot":{field:"swelling-right-foot",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"swelling-left-toe-great":{field:"swelling-left-toe-great",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"swelling-right-toe-great":{field:"swelling-right-toe-great",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"swelling-left-toe-second":{field:"swelling-left-toe-second",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"swelling-right-toe-second":{field:"swelling-right-toe-second",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"swelling-left-toe-third":{field:"swelling-left-toe-third",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"swelling-right-toe-third":{field:"swelling-right-toe-third",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"swelling-left-toe-fourth":{field:"swelling-left-toe-fourth",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"swelling-right-toe-fourth":{field:"swelling-right-toe-fourth",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"swelling-left-toe-fifth":{field:"swelling-left-toe-fifth",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"swelling-right-toe-fifth":{field:"swelling-right-toe-fifth",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"swelling-left-wrist":{field:"swelling-left-wrist",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"swelling-right-wrist":{field:"swelling-right-wrist",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"swelling-left-forearm":{field:"swelling-left-forearm",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"swelling-right-forearm":{field:"swelling-right-forearm",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"swelling-left-elbow":{field:"swelling-left-elbow",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"swelling-right-elbow":{field:"swelling-right-elbow",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"swelling-left-upperarm":{field:"swelling-left-upperarm",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"swelling-right-upperarm":{field:"swelling-right-upperarm",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"swelling-left-shoulder":{field:"swelling-left-shoulder",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"swelling-right-shoulder":{field:"swelling-right-shoulder",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"swelling-left-knee":{field:"swelling-left-knee",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"swelling-right-knee":{field:"swelling-right-knee",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"swelling-left-lowerleg":{field:"swelling-left-lowerleg",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"swelling-right-lowerleg":{field:"swelling-right-lowerleg",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"swelling-left-ankle":{field:"swelling-left-ankle",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"swelling-right-ankle":{field:"swelling-right-ankle",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"deformity-left-finger-index":{field:"deformity-left-finger-index",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"deformity-right-finger-index":{field:"deformity-right-finger-index",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"deformity-left-finger-middle":{field:"deformity-left-finger-middle",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"deformity-right-finger-middle":{field:"deformity-right-finger-middle",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"deformity-left-finger-ring":{field:"deformity-left-finger-ring",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"deformity-right-finger-ring":{field:"deformity-right-finger-ring",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"deformity-left-finger-little":{field:"deformity-left-finger-little",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"deformity-right-finger-little":{field:"deformity-right-finger-little",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"deformity-left-finger-thumb":{field:"deformity-left-finger-thumb",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"deformity-right-finger-thumb":{field:"deformity-right-finger-thumb",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"deformity-left-hand":{field:"deformity-left-hand",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"deformity-right-hand":{field:"deformity-right-hand",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"deformity-left-foot":{field:"deformity-left-foot",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"deformity-right-foot":{field:"deformity-right-foot",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"deformity-left-toe-great":{field:"deformity-left-toe-great",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"deformity-right-toe-great":{field:"deformity-right-toe-great",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"deformity-left-toe-second":{field:"deformity-left-toe-second",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"deformity-right-toe-second":{field:"deformity-right-toe-second",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"deformity-left-toe-third":{field:"deformity-left-toe-third",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"deformity-right-toe-third":{field:"deformity-right-toe-third",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"deformity-left-toe-fourth":{field:"deformity-left-toe-fourth",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"deformity-right-toe-fourth":{field:"deformity-right-toe-fourth",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"deformity-left-toe-fifth":{field:"deformity-left-toe-fifth",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"deformity-right-toe-fifth":{field:"deformity-right-toe-fifth",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"deformity-left-wrist":{field:"deformity-left-wrist",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"deformity-right-wrist":{field:"deformity-right-wrist",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"deformity-left-forearm":{field:"deformity-left-forearm",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"deformity-right-forearm":{field:"deformity-right-forearm",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"deformity-left-elbow":{field:"deformity-left-elbow",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"deformity-right-elbow":{field:"deformity-right-elbow",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"deformity-left-upperarm":{field:"deformity-left-upperarm",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"deformity-right-upperarm":{field:"deformity-right-upperarm",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"deformity-left-shoulder":{field:"deformity-left-shoulder",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"deformity-right-shoulder":{field:"deformity-right-shoulder",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"deformity-left-knee":{field:"deformity-left-knee",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"deformity-right-knee":{field:"deformity-right-knee",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"deformity-left-lowerleg":{field:"deformity-left-lowerleg",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"deformity-right-lowerleg":{field:"deformity-right-lowerleg",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"deformity-left-ankle":{field:"deformity-left-ankle",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"deformity-right-ankle":{field:"deformity-right-ankle",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"bruising-left-finger-index":{field:"bruising-left-finger-index",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"bruising-right-finger-index":{field:"bruising-right-finger-index",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"bruising-left-finger-middle":{field:"bruising-left-finger-middle",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"bruising-right-finger-middle":{field:"bruising-right-finger-middle",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"bruising-left-finger-ring":{field:"bruising-left-finger-ring",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"bruising-right-finger-ring":{field:"bruising-right-finger-ring",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"bruising-left-finger-little":{field:"bruising-left-finger-little",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"bruising-right-finger-little":{field:"bruising-right-finger-little",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"bruising-left-finger-thumb":{field:"bruising-left-finger-thumb",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"bruising-right-finger-thumb":{field:"bruising-right-finger-thumb",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"bruising-left-hand":{field:"bruising-left-hand",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"bruising-right-hand":{field:"bruising-right-hand",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"bruising-left-foot":{field:"bruising-left-foot",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"bruising-right-foot":{field:"bruising-right-foot",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"bruising-left-toe-great":{field:"bruising-left-toe-great",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"bruising-right-toe-great":{field:"bruising-right-toe-great",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"bruising-left-toe-second":{field:"bruising-left-toe-second",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"bruising-right-toe-second":{field:"bruising-right-toe-second",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"bruising-left-toe-third":{field:"bruising-left-toe-third",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"bruising-right-toe-third":{field:"bruising-right-toe-third",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"bruising-left-toe-fourth":{field:"bruising-left-toe-fourth",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"bruising-right-toe-fourth":{field:"bruising-right-toe-fourth",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"bruising-left-toe-fifth":{field:"bruising-left-toe-fifth",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"bruising-right-toe-fifth":{field:"bruising-right-toe-fifth",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"bruising-left-wrist":{field:"bruising-left-wrist",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"bruising-right-wrist":{field:"bruising-right-wrist",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"bruising-left-forearm":{field:"bruising-left-forearm",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"bruising-right-forearm":{field:"bruising-right-forearm",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"bruising-left-elbow":{field:"bruising-left-elbow",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"bruising-right-elbow":{field:"bruising-right-elbow",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"bruising-left-upperarm":{field:"bruising-left-upperarm",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"bruising-right-upperarm":{field:"bruising-right-upperarm",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"bruising-left-shoulder":{field:"bruising-left-shoulder",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"bruising-right-shoulder":{field:"bruising-right-shoulder",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"bruising-left-knee":{field:"bruising-left-knee",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"bruising-right-knee":{field:"bruising-right-knee",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"bruising-left-lowerleg":{field:"bruising-left-lowerleg",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"bruising-right-lowerleg":{field:"bruising-right-lowerleg",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"bruising-left-ankle":{field:"bruising-left-ankle",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"bruising-right-ankle":{field:"bruising-right-ankle",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"abletobearweight-left-finger-index":{field:"abletobearweight-left-finger-index",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"abletobearweight-right-finger-index":{field:"abletobearweight-right-finger-index",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"abletobearweight-left-finger-middle":{field:"abletobearweight-left-finger-middle",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"abletobearweight-right-finger-middle":{field:"abletobearweight-right-finger-middle",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"abletobearweight-left-finger-ring":{field:"abletobearweight-left-finger-ring",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"abletobearweight-right-finger-ring":{field:"abletobearweight-right-finger-ring",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"abletobearweight-left-finger-little":{field:"abletobearweight-left-finger-little",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"abletobearweight-right-finger-little":{field:"abletobearweight-right-finger-little",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"abletobearweight-left-finger-thumb":{field:"abletobearweight-left-finger-thumb",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"abletobearweight-right-finger-thumb":{field:"abletobearweight-right-finger-thumb",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"abletobearweight-left-hand":{field:"abletobearweight-left-hand",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"abletobearweight-right-hand":{field:"abletobearweight-right-hand",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"abletobearweight-left-foot":{field:"abletobearweight-left-foot",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"abletobearweight-right-foot":{field:"abletobearweight-right-foot",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"abletobearweight-left-toe-great":{field:"abletobearweight-left-toe-great",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"abletobearweight-right-toe-great":{field:"abletobearweight-right-toe-great",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"abletobearweight-left-toe-second":{field:"abletobearweight-left-toe-second",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"abletobearweight-right-toe-second":{field:"abletobearweight-right-toe-second",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"abletobearweight-left-toe-third":{field:"abletobearweight-left-toe-third",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"abletobearweight-right-toe-third":{field:"abletobearweight-right-toe-third",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"abletobearweight-left-toe-fourth":{field:"abletobearweight-left-toe-fourth",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"abletobearweight-right-toe-fourth":{field:"abletobearweight-right-toe-fourth",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"abletobearweight-left-toe-fifth":{field:"abletobearweight-left-toe-fifth",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"abletobearweight-right-toe-fifth":{field:"abletobearweight-right-toe-fifth",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"abletobearweight-left-wrist":{field:"abletobearweight-left-wrist",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"abletobearweight-right-wrist":{field:"abletobearweight-right-wrist",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"abletobearweight-left-forearm":{field:"abletobearweight-left-forearm",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"abletobearweight-right-forearm":{field:"abletobearweight-right-forearm",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"abletobearweight-left-elbow":{field:"abletobearweight-left-elbow",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"abletobearweight-right-elbow":{field:"abletobearweight-right-elbow",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"abletobearweight-left-upperarm":{field:"abletobearweight-left-upperarm",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"abletobearweight-right-upperarm":{field:"abletobearweight-right-upperarm",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"abletobearweight-left-shoulder":{field:"abletobearweight-left-shoulder",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"abletobearweight-right-shoulder":{field:"abletobearweight-right-shoulder",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"abletobearweight-left-knee":{field:"abletobearweight-left-knee",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"abletobearweight-right-knee":{field:"abletobearweight-right-knee",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"abletobearweight-left-lowerleg":{field:"abletobearweight-left-lowerleg",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"abletobearweight-right-lowerleg":{field:"abletobearweight-right-lowerleg",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"abletobearweight-left-ankle":{field:"abletobearweight-left-ankle",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"abletobearweight-right-ankle":{field:"abletobearweight-right-ankle",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"decreasedrom-left-finger-index":{field:"decreasedrom-left-finger-index",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"decreasedrom-right-finger-index":{field:"decreasedrom-right-finger-index",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"decreasedrom-left-finger-middle":{field:"decreasedrom-left-finger-middle",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"decreasedrom-right-finger-middle":{field:"decreasedrom-right-finger-middle",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"decreasedrom-left-finger-ring":{field:"decreasedrom-left-finger-ring",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"decreasedrom-right-finger-ring":{field:"decreasedrom-right-finger-ring",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"decreasedrom-left-finger-little":{field:"decreasedrom-left-finger-little",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"decreasedrom-right-finger-little":{field:"decreasedrom-right-finger-little",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"decreasedrom-left-finger-thumb":{field:"decreasedrom-left-finger-thumb",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"decreasedrom-right-finger-thumb":{field:"decreasedrom-right-finger-thumb",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"decreasedrom-left-hand":{field:"decreasedrom-left-hand",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"decreasedrom-right-hand":{field:"decreasedrom-right-hand",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"decreasedrom-left-foot":{field:"decreasedrom-left-foot",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"decreasedrom-right-foot":{field:"decreasedrom-right-foot",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"decreasedrom-left-toe-great":{field:"decreasedrom-left-toe-great",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"decreasedrom-right-toe-great":{field:"decreasedrom-right-toe-great",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"decreasedrom-left-toe-second":{field:"decreasedrom-left-toe-second",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"decreasedrom-right-toe-second":{field:"decreasedrom-right-toe-second",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"decreasedrom-left-toe-third":{field:"decreasedrom-left-toe-third",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"decreasedrom-right-toe-third":{field:"decreasedrom-right-toe-third",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"decreasedrom-left-toe-fourth":{field:"decreasedrom-left-toe-fourth",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"decreasedrom-right-toe-fourth":{field:"decreasedrom-right-toe-fourth",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"decreasedrom-left-toe-fifth":{field:"decreasedrom-left-toe-fifth",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"decreasedrom-right-toe-fifth":{field:"decreasedrom-right-toe-fifth",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"decreasedrom-left-wrist":{field:"decreasedrom-left-wrist",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"decreasedrom-right-wrist":{field:"decreasedrom-right-wrist",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"decreasedrom-left-forearm":{field:"decreasedrom-left-forearm",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"decreasedrom-right-forearm":{field:"decreasedrom-right-forearm",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"decreasedrom-left-elbow":{field:"decreasedrom-left-elbow",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"decreasedrom-right-elbow":{field:"decreasedrom-right-elbow",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"decreasedrom-left-upperarm":{field:"decreasedrom-left-upperarm",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"decreasedrom-right-upperarm":{field:"decreasedrom-right-upperarm",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"decreasedrom-left-shoulder":{field:"decreasedrom-left-shoulder",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"decreasedrom-right-shoulder":{field:"decreasedrom-right-shoulder",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"decreasedrom-left-knee":{field:"decreasedrom-left-knee",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"decreasedrom-right-knee":{field:"decreasedrom-right-knee",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"decreasedrom-left-lowerleg":{field:"decreasedrom-left-lowerleg",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"decreasedrom-right-lowerleg":{field:"decreasedrom-right-lowerleg",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"decreasedrom-left-ankle":{field:"decreasedrom-left-ankle",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"decreasedrom-right-ankle":{field:"decreasedrom-right-ankle",defaultValue:!1,abnormal:!0,group:"form",card:"musculoskeletal",label:""},"normal-mental-status":{field:"normal-mental-status",defaultValue:!0,abnormal:!1,group:"normal",card:"neurological",label:"Normal mental status"},"normal-affect":{field:"normal-affect",defaultValue:!1,abnormal:!1,group:"normal",card:"psych",label:"Normal affect"},"good-eye-contact":{field:"good-eye-contact",defaultValue:!1,abnormal:!1,group:"normal",card:"psych",label:"Good eye contact"},"depressed-affect":{field:"depressed-affect",defaultValue:!1,abnormal:!0,group:"abnormal",card:"psych",label:"Depressed affect"},"poor-eye-contact":{field:"poor-eye-contact",defaultValue:!1,abnormal:!0,group:"abnormal",card:"psych",label:"Poor eye contact"}},examObservationFieldsDetailsArray=Object.values(ExamObservationFieldsDetails),rashesFields=examObservationFieldsDetailsArray.filter(ts=>ts.card==="skin"&&ts.group==="form").map(ts=>ts.field),rashesOptions=rashesFields.reduce((ts,rs)=>(ts[rs]=ExamObservationFieldsDetails[rs].label,ts),{}),parseRashesFieldToName=(ts,rs)=>{const ns=[];ns.push(rashesOptions[ts]);const os=rs.find(ss=>ss.field===ts);return os.note&&ns.push(os.note),ns.join(" | ")},musculoskeletalFields=examObservationFieldsDetailsArray.filter(ts=>ts.card==="musculoskeletal"&&ts.group==="form").map(ts=>ts.field),musculoskeletalSideOptions=[{label:"Left",value:"left"},{label:"Right",value:"right"}],musculoskeletalBodyPartOptions={finger:"Finger",hand:"Hand",wrist:"Wrist",forearm:"Forearm",elbow:"Elbow",upperarm:"Upper arm",shoulder:"Shoulder",knee:"Knee",lowerleg:"Lower leg",ankle:"Ankle",foot:"Foot",toe:"Toe"},musculoskeletalFingerOptions={thumb:"Thumb",index:"Index",middle:"Middle",ring:"Ring",little:"Little"},musculoskeletalToeOptions={great:"First",second:"Second",third:"Third",fourth:"Fourth",fifth:"Fifth"},musculoskeletalAbnormalOptions={swelling:"Swelling",deformity:"Deformity",bruising:"Bruising",abletobearweight:"Able to bear weight",decreasedrom:"Decreased ROM"},parseMusculoskeletalFieldToName=ts=>{const rs=ts.split("-"),ns=[];switch(ns.push(musculoskeletalSideOptions.find(os=>os.value===rs[1]).label),ns.push(musculoskeletalBodyPartOptions[rs[2]]),rs[2]){case"finger":ns.push(musculoskeletalFingerOptions[rs[3]]);break;case"toe":ns.push(musculoskeletalToeOptions[rs[3]]);break}return ns.push(musculoskeletalAbnormalOptions[rs[0]]),ns.join(" | ")},getAppointmentAccessibilityData=({location:ts,encounter:rs,appointment:ns,user:os})=>{var ms,gs;const ss=(os==null?void 0:os.profileResource)&&allLicensesForPractitioner(os.profileResource),as=ss==null?void 0:ss.map(vs=>vs.state),ls=(ms=ts==null?void 0:ts.address)==null?void 0:ms.state,cs=!!ls&&!!as&&as.includes(ls),us=mapStatusToTelemed(rs.status,ns==null?void 0:ns.status),ds=!!(os!=null&&os.profileResource)&&checkIsEncounterForPractitioner(rs,os.profileResource),ps=!!us&&![ApptStatus.complete,ApptStatus.ready].includes(us),fs=cs&&(us===ApptStatus.ready||ds);let hs=!ls||!cs||!us||!ps||!ds;return(gs=ns==null?void 0:ns.serviceType)!=null&&gs.some(vs=>vs.text==="in-person")&&(hs=!1),{allLicenses:ss,availableStates:as,state:ls,isStateAvailable:cs,status:us,isEncounterForPractitioner:ds,isStatusEditable:ps,isAppointmentReadOnly:hs,isAppointmentAvailable:fs}},TRACKING_BOARD_INITIAL={appointments:[],isAppointmentsLoading:!1,alignment:"my-patients",date:DateTime.local(),state:null,providers:null,groups:null,unsignedFor:UnsignedFor.under12,availableStates:[]},useTrackingBoardStore=create$2()(ts=>({...TRACKING_BOARD_INITIAL,setAlignment:(rs,ns)=>{ns!==null&&ts(()=>({alignment:ns}))},setAppointments:rs=>{ts(()=>({appointments:rs}))}})),useGetTelemedAppointments=({apiClient:ts,stateFilter:rs,dateFilter:ns="2023-02-13T13:00:00.000-05:00",providersFilter:os,groupsFilter:ss,patientFilter:as,statusesFilter:ls},cs)=>useQuery(["telemed-appointments",{apiClient:ts,stateFilter:rs,providersFilter:os,groupsFilter:ss,dateFilter:ns,patientFilter:as,statusesFilter:ls}],()=>{if(ts)return ts.getTelemedAppointments({stateFilter:rs,providersFilter:os,groupsFilter:ss,dateFilter:ns,patientFilter:as,statusesFilter:ls});throw new Error("api client not defined")},{refetchInterval:1e4,onSuccess:cs,onError:us=>{console.error("Error during fetching get telemed appointments: ",us)}}),useInitTelemedSessionMutation=()=>useMutation({mutationFn:({apiClient:ts,appointmentId:rs,userId:ns})=>ts.initTelemedSession({appointmentId:rs,userId:ns})}),useChangeTelemedAppointmentStatusMutation=()=>useMutation({mutationFn:({apiClient:ts,appointmentId:rs,newStatus:ns})=>ts.changeTelemedAppointmentStatus({appointmentId:rs,newStatus:ns})}),useEditPatientInformationMutation=()=>{const{fhirClient:ts}=useApiClients();return useMutation({mutationFn:({patientData:rs})=>{var ns;if(!ts)throw new Error("fhirClient not found");return ts.patchResource({resourceType:"Patient",resourceId:(ns=rs.id)!=null?ns:"",operations:[{op:"replace",path:"/name",value:rs.name},{op:"replace",path:"/birthDate",value:rs.birthDate}]})},onError:rs=>{console.error("Error during editing patient information: ",rs)}})},VIDEO_CALL_STATE_INITIAL={meetingData:null},useVideoCallStore=create$2()(()=>({...VIDEO_CALL_STATE_INITIAL})),zambdasPublicityMap={"get telemed appointments":!1,"init telemed session":!1,"get chart data":!1,"save chart data":!1,"delete chart data":!1,"change telemed appointment status":!1,"get patient instructions":!1,"save patient instruction":!1,"delete patient instruction":!1,"icd search":!1},getZapEHRTelemedAPI=(ts,rs)=>{const{getTelemedAppointmentsZambdaID:ns,initTelemedSessionZambdaID:os,getChartDataZambdaID:ss,saveChartDataZambdaID:as,deleteChartDataZambdaID:ls,changeTelemedAppointmentStatusZambdaID:cs,getPatientInstructionsZambdaID:us,savePatientInstructionZambdaID:ds,deletePatientInstructionZambdaID:ps,icdSearchZambdaId:fs}=ts,hs={"get telemed appointments":ns,"init telemed session":os,"get chart data":ss,"save chart data":as,"delete chart data":ls,"change telemed appointment status":cs,"get patient instructions":us,"save patient instruction":ds,"delete patient instruction":ps,"icd search":fs},ms=ts.isAppLocal!=null,gs=ts.isAppLocal==="true",vs=(ks,Ms)=>{if(ks===void 0||!ms)throw new Error("".concat(Ms," zambda environment variable could not be loaded"));return!0},bs=ks=>gs?ks:ks.output,xs=async(ks,Ms,Os)=>{const Ds=hs[ks];try{if(vs(Ds,ks)){let Fs;zambdasPublicityMap[ks]?Fs=rs.invokePublicZambda:Fs=rs.invokeZambda,Fs=Fs.bind(rs);const js=await Fs({zambdaId:Ds,payload:Ms});return bs(js)}throw Error()}catch(Fs){throw Os&&Os(Fs),apiErrorToThrow(Fs)}};return{getTelemedAppointments:async ks=>await xs("get telemed appointments",ks,NotFoundApointmentErrorHandler),initTelemedSession:async ks=>await xs("init telemed session",ks),getChartData:async ks=>await xs("get chart data",ks),saveChartData:async ks=>await xs("save chart data",ks),deleteChartData:async ks=>await xs("delete chart data",ks),changeTelemedAppointmentStatus:async ks=>await xs("change telemed appointment status",ks),getPatientInstructions:async ks=>await xs("get patient instructions",ks),savePatientInstruction:async ks=>await xs("save patient instruction",ks),deletePatientInstruction:async ks=>await xs("delete patient instruction",ks),icdSearch:async ks=>await xs("icd search",ks)}},InternalError={message:"Internal Service Error"},isApiError=ts=>ts instanceof Object&&ts&&"message"in ts,apiErrorToThrow=ts=>(console.error("Top level catch block:\nError: ".concat(ts,"\nError stringified: ").concat(JSON.stringify(ts))),isApiError(ts)?ts:(console.error("An endpoint threw and did not provide a well formed ApiError"),InternalError));function NotFoundApointmentErrorHandler(ts){if(ts.message==="Appointment is not found")throw ts}const useZapEHRAPIClient=()=>{const{zambdaClient:ts}=useApiClients();return reactExports.useMemo(()=>ts?getZapEHRTelemedAPI({getTelemedAppointmentsZambdaID:"get-telemed-appointments",initTelemedSessionZambdaID:"init-telemed-session",getChartDataZambdaID:"get-chart-data",saveChartDataZambdaID:"save-chart-data",deleteChartDataZambdaID:"delete-chart-data",changeTelemedAppointmentStatusZambdaID:"change-telemed-appointment-status",getPatientInstructionsZambdaID:{}.VITE_APP_GET_PATIENT_INSTRUCTIONS_ZAMBDA_ID,savePatientInstructionZambdaID:{}.VITE_APP_SAVE_PATIENT_INSTRUCTION_ZAMBDA_ID,deletePatientInstructionZambdaID:{}.VITE_APP_DELETE_PATIENT_INSTRUCTION_ZAMBDA_ID,icdSearchZambdaId:{}.VITE_APP_ICD_SEARCH_ZAMBDA_ID,isAppLocal:"true"},ts):null,[ts])},APPOINTMENT_INITIAL={appointment:void 0,patient:void 0,location:void 0,encounter:{},questionnaireResponse:void 0,patientPhotoUrls:[],isAppointmentLoading:!1,isChartDataLoading:!1,isExamObservationsLoading:!1,isReadOnly:!0,chartData:void 0,currentTab:"hpi"},useAppointmentStore=create$2()(ts=>({...APPOINTMENT_INITIAL,setPartialChartData:rs=>{ts(ns=>({chartData:{...ns.chartData,patientId:ns.chartData.patientId,...rs}}))}})),getSelectors=(ts,rs)=>{const ns={};for(const os of rs)ns[os]=ts(ss=>ss[os]);return ns},useGetAppointmentInformation=({appointmentId:ts},rs)=>{const{fhirClient:ns}=useApiClients();return useQuery(["telemed-appointment",{appointmentId:ts}],()=>{if(ns&&ts)return ns.searchResources({resourceType:"Appointment",searchParams:[{name:"_id",value:ts},{name:"_include",value:"Appointment:patient"},{name:"_include",value:"Appointment:location"},{name:"_revinclude:iterate",value:"Encounter:appointment"},{name:"_revinclude:iterate",value:"QuestionnaireResponse:encounter"},{name:"_revinclude:iterate",value:"DocumentReference:patient"}]});throw new Error("fhir client not defined or appointmentId not provided")},{onSuccess:rs,onError:os=>{console.error("Error during fetching get telemed appointment: ",os)}})},useGetMeetingData=(ts,rs,ns)=>useQuery(["meeting-data"],async()=>{const os=useAppointmentStore.getState(),ss=await ts();if(os.encounter.id&&ss){const as=await fetch("https://project-api.zapehr.com/v1/telemed/v2/meeting/".concat(os.encounter.id,"/join"),{headers:{Authorization:"Bearer ".concat(ss)},method:"GET"}),ls=await as.json();if(!as.ok)throw new Error("Error trying to get meeting data for appointment: "+JSON.stringify(ls));return ls}throw new Error("token or encounterId not provided")},{enabled:!1,onSuccess:rs,onError:ns}),useGetChartData=({apiClient:ts,encounterId:rs},ns)=>{const os=useOttehrUser(),{isReadOnly:ss,isAppointmentLoading:as}=getSelectors(useAppointmentStore,["isReadOnly","isAppointmentLoading"]);return useQuery(["telemed-get-chart-data",{apiClient:ts,encounterId:rs,user:os,isReadOnly:ss,isAppointmentLoading:as}],()=>{if(ts&&rs)return ts.getChartData({encounterId:rs});throw new Error("api client not defined or encounterId not provided")},{onSuccess:ns,onError:ls=>{console.error("Error during fetching get telemed appointments: ",ls)},enabled:!!ts&&!!rs&&!!os&&!as})},useSaveChartData=()=>{const ts=useZapEHRAPIClient(),{encounter:rs,isReadOnly:ns}=getSelectors(useAppointmentStore,["encounter","isReadOnly"]);return useMutation({mutationFn:os=>{if(ns)throw new Error("update disabled in read only mode");if(ts&&rs.id)return ts.saveChartData({encounterId:rs.id,...os});throw new Error("api client not defined or encounterId not provided")}})},useDeleteChartData=()=>{const ts=useZapEHRAPIClient(),{encounter:rs}=useAppointmentStore.getState();return useMutation({mutationFn:ns=>{if(ts&&rs.id)return ts.deleteChartData({encounterId:rs.id,...ns});throw new Error("api client not defined or encounterId not provided")}})},useGetMedicationsSearch=ts=>{const{getAccessTokenSilently:rs}=useAuth0();return useQuery(["medications-search",{medicationSearchTerm:ts}],async()=>{const ns=await rs(),os={accept:"application/json","content-type":"application/json",Authorization:"Bearer ".concat(ns)};return(await fetch("https://project-api.zapehr.com/v1/erx/medication/search?first=10&name=".concat(ts),{method:"GET",headers:os})).json()},{onError:ns=>{console.error("Error during fetching medications: ",ns)},enabled:!!ts})},useGetAllergiesSearch=ts=>{const{getAccessTokenSilently:rs}=useAuth0();return useQuery(["allergies-search",{allergiesSearchTerm:ts}],async()=>{const ns=await rs(),os={accept:"application/json","content-type":"application/json",Authorization:"Bearer ".concat(ns)};return(await fetch("https://project-api.zapehr.com/v1/erx/allergy/search?first=10&name=".concat(ts),{method:"GET",headers:os})).json()},{onError:ns=>{console.error("Error during fetching allergies: ",ns)},enabled:!!ts})},useGetIcd10Search=ts=>{const rs=useZapEHRAPIClient();return useQuery(["icd-search",{searchTerm:ts}],async()=>rs==null?void 0:rs.icdSearch({search:ts}),{onError:ns=>{console.error("Error during fetching icd-10 codes: ",ns)},enabled:!!(rs&&ts)})},useUpdatePaperwork=()=>{const{zambdaIntakeClient:ts}=useApiClients();return useMutation({mutationFn:async({appointmentID:rs,paperwork:ns={}})=>{const os={}.VITE_APP_UPDATE_PAPERWORK_ZAMBDA_ID;if(!ts)throw new Error("api client not defined");if(!os)throw new Error("update paperwork zambda id not defined");return await ts.invokePublicZambda({zambdaId:os,payload:{appointmentID:rs,paperwork:ns,timezone:DateTime.now().zoneName}})}})},useGetPatientInstructions=({type:ts},rs)=>{const ns=useZapEHRAPIClient();return useQuery(["telemed-get-patient-instructions",{apiClient:ns,type:ts}],()=>{if(ns)return ns.getPatientInstructions({type:ts});throw new Error("api client not defined")},{onSuccess:rs,onError:os=>{console.error("Error during fetching get patient instructions: ",os)},enabled:!!ns})},useSavePatientInstruction=()=>{const ts=useZapEHRAPIClient();return useMutation({mutationFn:rs=>{if(ts)return ts.savePatientInstruction(rs);throw new Error("api client not defined")}})},useDeletePatientInstruction=()=>{const ts=useZapEHRAPIClient();return useMutation({mutationFn:rs=>{if(ts)return ts.deletePatientInstruction(rs);throw new Error("api client not defined")}})},EXAM_OBSERVATIONS_CARDS=Object.values(ExamObservationCardsDetails).reduce((ts,rs)=>(ts[rs.field]={field:rs.field,note:rs.defaultValue},ts),{}),EXAM_OBSERVATIONS_FIELDS=Object.values(ExamObservationFieldsDetails).reduce((ts,rs)=>(ts[rs.field]={field:rs.field,value:rs.defaultValue},ts),{}),EXAM_OBSERVATIONS_INITIAL={...EXAM_OBSERVATIONS_CARDS,...EXAM_OBSERVATIONS_FIELDS},useExamObservationsStore=create$2()(()=>({...EXAM_OBSERVATIONS_INITIAL})),ContainedPrimaryToggleButton=styled$4(ToggleButton$1)(({theme:ts})=>({color:ts.palette.primary.main,borderColor:ts.palette.primary.main,textTransform:"none",padding:"6px 16px",fontWeight:700,transition:"background .25s, color .25s","&.Mui-selected":{color:"white",backgroundColor:ts.palette.primary.main},"&.Mui-selected:hover":{backgroundColor:ts.palette.primary.dark}})),IconButtonContained=styled$4(IconButton$2)(({variant:ts})=>{const rs=useTheme$1();let ns={};switch(ts){case"disabled":{ns={backgroundColor:rs.palette.primary.contrastText,"&:hover":{backgroundColor:alpha(rs.palette.primary.contrastText,.9)}};break}case"error":{ns={backgroundColor:otherColors.endCallButton,"&:hover":{backgroundColor:alpha(otherColors.endCallButton,.9)}};break}case"primary":{ns={backgroundColor:rs.palette.primary.main,"&:hover":{backgroundColor:alpha(rs.palette.primary.main,.9)}};break}default:{ns={backgroundColor:alpha(otherColors.lightIconButton,.2),"&:hover":{backgroundColor:alpha(otherColors.lightIconButton,.1)}};break}}return{...ns}}),IconButtonWithLabel=ts=>{const{SvgIcon:rs,label:ns,variant:os,onClick:ss}=ts,as=useTheme$1();return jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",flexDirection:"column",gap:1,alignItems:"center",width:"71.25px"},onClick:ss,children:[jsxRuntimeExports.jsx(IconButtonContained,{variant:os!=null?os:"primary",children:jsxRuntimeExports.jsx(rs,{sx:{color:as.palette.primary.contrastText,height:"20px",width:"20px"}})}),jsxRuntimeExports.jsx(Typography$1,{noWrap:!0,sx:{fontSize:"12px",fontWeight:700},children:ns})]})},CustomTooltip=styled$4(({className:ts,...rs})=>jsxRuntimeExports.jsx(Tooltip$1,{...rs,classes:{popper:ts}}))(({theme:ts})=>({["& .".concat(tooltipClasses$1.tooltip)]:{backgroundColor:"#F9FAFB",color:"#000000",boxShadow:"\n    0px 1px 8px 0px rgba(0, 0, 0, 0.12),\n    0px 3px 4px 0px rgba(0, 0, 0, 0.14),\n    0px 3px 3px -2px rgba(0, 0, 0, 0.20)\n  ",maxWidth:190,padding:5,fontSize:ts.typography.pxToRem(16),border:"1px solid #dadde9"},["& .".concat(tooltipClasses$1.arrow)]:{backgroundColor:"#F9FAFB",boxShadow:"\n    0px 1px 8px 0px rgba(0, 0, 0, 0.12),\n    0px 3px 4px 0px rgba(0, 0, 0, 0.14),\n    0px 3px 3px -2px rgba(0, 0, 0, 0.20)\n  "}})),theme={on:{background:{primary:"#C8E6C9"},color:{primary:"#1B5E20"}},off:{background:{primary:"#FECDD2"},color:{primary:"#B71C1C"}}};function BooleanStateChip({state:ts,label:rs}){const ns=ts?theme.on:theme.off;return jsxRuntimeExports.jsx(Chip$1,{size:"small",label:rs,sx:{borderRadius:"4px",border:"none",fontWeight:700,fontSize:"12px",textTransform:"uppercase",background:ns.background.primary,color:ns.color.primary,padding:"0 2px",height:"18px"},variant:"outlined"})}const AccordionCard=ts=>{const{collapsed:rs,onSwitch:ns,label:os,children:ss,headerItem:as}=ts,ls=useTheme$1();return jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",flexDirection:"column",gap:"1px",backgroundColor:otherColors.solidLine,border:"1px solid ".concat(otherColors.solidLine),borderRadius:1},children:[jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",alignItems:"center",gap:1,backgroundColor:otherColors.apptHover,py:.5,px:2,borderTopLeftRadius:4,borderTopRightRadius:4},children:[jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",alignItems:"center",gap:1,flexGrow:1},children:[rs!==void 0&&ns&&jsxRuntimeExports.jsx(IconButton$2,{onClick:ns,sx:{p:0},children:jsxRuntimeExports.jsx(default_1$u,{fontSize:"small",sx:{color:ls.palette.primary.main,rotate:rs?"":"180deg"}})}),jsxRuntimeExports.jsx(Typography$1,{variant:"h6",color:ls.palette.primary.dark,children:os})]}),as]}),!rs&&jsxRuntimeExports.jsx(Box$1,{sx:{backgroundColor:ls.palette.background.paper,borderBottomLeftRadius:4,borderBottomRightRadius:4},children:ss})]})},DoubleColumnContainer=ts=>{const{leftColumn:rs,rightColumn:ns,divider:os,padding:ss}=ts;return jsxRuntimeExports.jsxs(Grid$1,{container:!0,sx:{position:"relative"},children:[jsxRuntimeExports.jsx(Grid$1,{item:!0,xs:6,sx:{p:ss?2:0},children:rs}),os&&jsxRuntimeExports.jsx(Divider$1,{orientation:"vertical",flexItem:!0,sx:{position:"absolute",height:"100%",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}}),jsxRuntimeExports.jsx(Grid$1,{item:!0,xs:6,sx:{p:ss?2:0},children:ns})]})},ActionsList=ts=>{const{data:rs,getKey:ns,renderItem:os,renderActions:ss,gap:as=1,divider:ls,alignItems:cs="center"}=ts;return jsxRuntimeExports.jsx(Box$1,{sx:{display:"flex",flexDirection:"column",gap:as},children:rs.map((us,ds,ps)=>jsxRuntimeExports.jsxs(Box$1,{children:[jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",alignItems:cs,justifyContent:"space-between",gap:2},children:[os(us,ds),ss&&ss(us,ds)]}),ls&&ds+1!==ps.length&&jsxRuntimeExports.jsx(Divider$1,{sx:{pt:as}})]},ns(us,ds)))})};var DeleteOutlined={},_interopRequireDefault$c=interopRequireDefaultExports;Object.defineProperty(DeleteOutlined,"__esModule",{value:!0});var default_1$b=DeleteOutlined.default=void 0,_createSvgIcon$b=_interopRequireDefault$c(requireCreateSvgIcon()),_jsxRuntime$b=jsxRuntimeExports;default_1$b=DeleteOutlined.default=(0,_createSvgIcon$b.default)((0,_jsxRuntime$b.jsx)("path",{d:"M16 9v10H8V9zm-1.5-6h-5l-1 1H5v2h14V4h-3.5zM18 7H6v12c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2z"}),"DeleteOutlined");const DeleteIconButton=ts=>{const{onClick:rs,disabled:ns}=ts;return jsxRuntimeExports.jsx(IconButton$2,{sx:{color:otherColors.endCallButton},size:"small",disabled:ns,onClick:rs,children:jsxRuntimeExports.jsx(default_1$b,{fontSize:"small"})})},RoundedButton=styled$4(ts=>jsxRuntimeExports.jsx(Button$2,{variant:"outlined",size:"large",...ts,...ts.to?{component:Link,to:ts.to,target:ts.target}:{},children:jsxRuntimeExports.jsx(Typography$1,{sx:{textTransform:"none",fontWeight:700,fontSize:14},children:ts.children})}))(()=>({whiteSpace:"nowrap",minWidth:"auto",borderRadius:100,width:"fit-content",root:{"&.Mui-disabled":{pointerEvents:"auto"}}})),UppercaseCaptionTypography=styled$4(ts=>jsxRuntimeExports.jsx(Typography$1,{variant:"subtitle2",...ts}))(({theme:ts})=>({textTransform:"uppercase",color:ts.palette.primary.dark})),ConfirmationDialog=ts=>{var ls,cs,us,ds,ps,fs,hs,ms;const[rs,ns]=reactExports.useState(!1),os=()=>{ns(!0)},ss=()=>{ns(!1)},as=()=>{ts.response(),ss()};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[ts.children(os),rs&&jsxRuntimeExports.jsxs(Dialog$1,{open:rs,onClose:ss,maxWidth:"xs",fullWidth:!0,children:[jsxRuntimeExports.jsx(DialogTitle$1,{component:Typography$1,variant:"h5",color:"primary.dark",sx:{pb:1},children:ts.title}),ts.description&&jsxRuntimeExports.jsx(DialogContent$1,{sx:{pb:2},children:jsxRuntimeExports.jsx(DialogContentText$1,{children:ts.description})}),jsxRuntimeExports.jsxs(DialogActions$1,{sx:{display:"flex",justifyContent:"start",gap:2,p:3},children:[jsxRuntimeExports.jsx(RoundedButton,{onClick:as,variant:"contained",color:((cs=(ls=ts==null?void 0:ts.actionButtons)==null?void 0:ls.proceed)==null?void 0:cs.color)||"primary",children:((ds=(us=ts==null?void 0:ts.actionButtons)==null?void 0:us.proceed)==null?void 0:ds.text)||"Proceed"}),jsxRuntimeExports.jsx(RoundedButton,{onClick:ss,color:((fs=(ps=ts==null?void 0:ts.actionButtons)==null?void 0:ps.back)==null?void 0:fs.color)||"primary",children:((ms=(hs=ts==null?void 0:ts.actionButtons)==null?void 0:hs.back)==null?void 0:ms.text)||"Back"})]})]})]})},useChartDataArrayValue=(ts,rs)=>{const{mutate:ns,isLoading:os}=useSaveChartData(),{mutate:ss,isLoading:as}=useDeleteChartData(),{chartData:ls,setPartialChartData:cs}=getSelectors(useAppointmentStore,["chartData","setPartialChartData"]),us=(ls==null?void 0:ls[ts])||[];return{isLoading:os||as,onSubmit:fs=>{ns({[ts]:[fs]},{onSuccess:hs=>{cs({[ts]:[...us,...hs[ts]]})}}),rs()},onRemove:fs=>{const hs=us.filter(ms=>ms.resourceId===fs);ss({[ts]:hs},{onSuccess:ms=>{cs({[ts]:us.filter(gs=>gs.resourceId!==fs)})}})},values:us}};var nameToTypeEnum=(ts=>(ts.chiefComplaint="text",ts.ros="text",ts.proceduresNote="text",ts.observations="text",ts.medicalDecision="text",ts.addendumNote="text",ts))(nameToTypeEnum||{});const useDebounceNotesField=ts=>{const{mutate:rs,isLoading:ns}=useSaveChartData(),{mutate:os,isLoading:ss}=useDeleteChartData(),{chartData:as,setPartialChartData:ls}=getSelectors(useAppointmentStore,["chartData","setPartialChartData"]),cs=ns||ss,us=reactExports.useRef();return{onValueChange:ps=>{us.current&&(clearTimeout(us.current),us.current=void 0),us.current=setTimeout(()=>{var hs;ps=ps.trim();const fs={[ts]:{resourceId:(hs=as==null?void 0:as[ts])==null?void 0:hs.resourceId,[nameToTypeEnum[ts]]:ps}};ps?rs(fs,{onSuccess:ms=>{ls({[ts]:ms[ts]})}}):os(fs,{onSuccess:ms=>{ls({[ts]:void 0})}})},500)},isLoading:cs}},useDebounce=(ts=500)=>{const rs=reactExports.useRef(),ns=ss=>{rs.current&&os(),rs.current=setTimeout(()=>{ss()},ts)},os=()=>{clearTimeout(rs.current),rs.current=void 0};return{debounce:ns,clear:os}};async function getPresignedFileUrl(ts,rs){if(!ts)return;const ns={method:"POST",headers:{Authorization:"Bearer ".concat(rs)},body:JSON.stringify({action:"download"})},os=await fetch(ts,ns);if(!os.ok){console.error("failed to fetch presigned url for ".concat(ts));return}return(await os.json()).signedUrl}const useExcusePresignedFiles=ts=>{const{getAccessTokenSilently:rs}=useAuth0(),[ns,os]=reactExports.useState([]);return reactExports.useEffect(()=>{(async()=>{if(!ts)return;const as=await rs(),ls=[];for(const cs of ts){const us=await getPresignedFileUrl(cs.url,as);ls.push({...cs,presignedUrl:us})}os(ls)})()},[ts,rs]),ns},useGetAppointmentAccessibility=()=>{const{location:ts,encounter:rs,appointment:ns}=getSelectors(useAppointmentStore,["location","encounter","appointment"]),os=useOttehrUser();return reactExports.useMemo(()=>getAppointmentAccessibilityData({location:ts,encounter:rs,appointment:ns,user:os}),[ts,rs,ns,os])},useIsReadOnly=()=>{const ts=useGetAppointmentAccessibility();reactExports.useEffect(()=>{useAppointmentStore.setState({isReadOnly:ts.isAppointmentReadOnly})},[ts.isAppointmentReadOnly])},EMPTY_STATE={label:"All states",value:null};function StateSelect(){const{availableStates:ts,state:rs}=getSelectors(useTrackingBoardStore,["availableStates","state"]),ns=[EMPTY_STATE,...ts.map(ss=>({label:ss,value:ss}))],os=(ss,{value:as})=>{useTrackingBoardStore.setState(ls=>({...ls,state:as}))};return jsxRuntimeExports.jsx(Autocomplete$1,{value:rs?{label:rs,value:rs}:EMPTY_STATE,onChange:os,getOptionLabel:ss=>ss.label||"Unknown",isOptionEqualToValue:(ss,as)=>ss.value===as.value,options:ns,renderOption:(ss,as)=>reactExports.createElement("li",{...ss,key:as.value},as.label),fullWidth:!0,disableClearable:!0,renderInput:ss=>jsxRuntimeExports.jsx(TextField$1,{name:"state",...ss,label:"State"})})}const selectOptions=[{label:"Under 12 hours",value:UnsignedFor.under12},{label:"12 - 24 hours",value:UnsignedFor["12to24"]},{label:"More than 24 hours",value:UnsignedFor.more24},{label:"All",value:UnsignedFor.all}],TrackingBoardFilters=ts=>{const{tab:rs}=ts,{fhirClient:ns}=useApiClients(),[os,ss]=reactExports.useState(void 0),[as,ls]=reactExports.useState(void 0),[cs,us]=reactExports.useState(void 0),[ds,ps]=reactExports.useState(void 0);reactExports.useEffect(()=>{async function xs(Ss){if(Ss)try{const Cs=await Ss.searchResources({resourceType:"Practitioner",searchParams:[{name:"_count",value:"1000"}]});ss(Cs)}catch(Cs){console.error("error loading practitioners",Cs)}}async function ys(Ss){if(Ss)try{const Cs=await Ss.searchResources({resourceType:"HealthcareService",searchParams:[{name:"_count",value:"1000"}]});ls(Cs)}catch(Cs){console.error("error loading healthcare services",Cs)}}ns&&(xs(ns),ys(ns))},[ns]);const{date:fs,unsignedFor:hs}=getSelectors(useTrackingBoardStore,["date","unsignedFor"]),ms=rs===ApptTab.complete,gs=rs===ApptTab["not-signed"],vs=(xs,ys)=>{console.log(10,ys),us(ys),useTrackingBoardStore.setState({providers:ys})},bs=(xs,ys)=>{console.log(10,ys),ps(ys),useTrackingBoardStore.setState({groups:ys})};return jsxRuntimeExports.jsxs(Grid$1,{container:!0,spacing:2,sx:{padding:2,paddingTop:0},children:[jsxRuntimeExports.jsx(Grid$1,{item:!0,xs:6,children:jsxRuntimeExports.jsx(StateSelect,{})}),jsxRuntimeExports.jsx(Grid$1,{item:!0,xs:6,children:jsxRuntimeExports.jsx(ProvidersSelect,{providers:cs||[],practitioners:os,handleSubmit:vs})}),jsxRuntimeExports.jsx(Grid$1,{item:!0,xs:6,children:jsxRuntimeExports.jsx(GroupSelect,{groups:ds||[],healthcareServices:as,handleSubmit:bs})}),ms&&jsxRuntimeExports.jsx(Grid$1,{item:!0,xs:6,children:jsxRuntimeExports.jsx(DateSearch,{label:"Date",date:fs,setDate:xs=>useTrackingBoardStore.setState({date:xs}),updateURL:!1,storeDateInLocalStorage:!1,defaultValue:DateTime.now().toLocaleString(DateTime.DATE_SHORT)})}),gs&&jsxRuntimeExports.jsx(Grid$1,{item:!0,xs:6,children:jsxRuntimeExports.jsxs(FormControl$1,{fullWidth:!0,children:[jsxRuntimeExports.jsx(InputLabel$1,{children:"Unsigned for"}),jsxRuntimeExports.jsx(Select$2,{value:hs,label:"Unsigned for",onChange:xs=>useTrackingBoardStore.setState({unsignedFor:xs.target.value}),children:selectOptions.map(xs=>jsxRuntimeExports.jsx(MenuItem$1,{value:xs.value,children:xs.label},xs.value))})]})})]})};function stylis_min(ts){function rs(Us,Hs,zs,qs,Vs){for(var Ks=0,Ws=0,Pl=0,Tl=0,El,$l,Sl=0,Ml=0,wl,Rl=wl=El=0,yl=0,Bs=0,Zs=0,Ys=0,_l=zs.length,Cl=_l-1,Xs,xl="",$a="",Dl="",Ol="",Ll;yl<_l;){if($l=zs.charCodeAt(yl),yl===Cl&&Ws+Tl+Pl+Ks!==0&&(Ws!==0&&($l=Ws===47?10:47),Tl=Pl=Ks=0,_l++,Cl++),Ws+Tl+Pl+Ks===0){if(yl===Cl&&(0<Bs&&(xl=xl.replace(hs,"")),0<xl.trim().length)){switch($l){case 32:case 9:case 59:case 13:case 10:break;default:xl+=zs.charAt(yl)}$l=59}switch($l){case 123:for(xl=xl.trim(),El=xl.charCodeAt(0),wl=1,Ys=++yl;yl<_l;){switch($l=zs.charCodeAt(yl)){case 123:wl++;break;case 125:wl--;break;case 47:switch($l=zs.charCodeAt(yl+1)){case 42:case 47:e:{for(Rl=yl+1;Rl<Cl;++Rl)switch(zs.charCodeAt(Rl)){case 47:if($l===42&&zs.charCodeAt(Rl-1)===42&&yl+2!==Rl){yl=Rl+1;break e}break;case 10:if($l===47){yl=Rl+1;break e}}yl=Rl}}break;case 91:$l++;case 40:$l++;case 34:case 39:for(;yl++<Cl&&zs.charCodeAt(yl)!==$l;);}if(wl===0)break;yl++}switch(wl=zs.substring(Ys,yl),El===0&&(El=(xl=xl.replace(fs,"").trim()).charCodeAt(0)),El){case 64:switch(0<Bs&&(xl=xl.replace(hs,"")),$l=xl.charCodeAt(1),$l){case 100:case 109:case 115:case 45:Bs=Hs;break;default:Bs=Fs}if(wl=rs(Hs,Bs,wl,$l,Vs+1),Ys=wl.length,0<Ps&&(Bs=ns(Fs,xl,Zs),Ll=cs(3,wl,Bs,Hs,Ms,ks,Ys,$l,Vs,qs),xl=Bs.join(""),Ll!==void 0&&(Ys=(wl=Ll.trim()).length)===0&&($l=0,wl="")),0<Ys)switch($l){case 115:xl=xl.replace(Es,ls);case 100:case 109:case 45:wl=xl+"{"+wl+"}";break;case 107:xl=xl.replace(ys,"$1 $2"),wl=xl+"{"+wl+"}",wl=Ds===1||Ds===2&&as("@"+wl,3)?"@-webkit-"+wl+"@"+wl:"@"+wl;break;default:wl=xl+wl,qs===112&&(wl=($a+=wl,""))}else wl="";break;default:wl=rs(Hs,ns(Hs,xl,Zs),wl,qs,Vs+1)}Dl+=wl,wl=Zs=Bs=Rl=El=0,xl="",$l=zs.charCodeAt(++yl);break;case 125:case 59:if(xl=(0<Bs?xl.replace(hs,""):xl).trim(),1<(Ys=xl.length))switch(Rl===0&&(El=xl.charCodeAt(0),El===45||96<El&&123>El)&&(Ys=(xl=xl.replace(" ",":")).length),0<Ps&&(Ll=cs(1,xl,Hs,Us,Ms,ks,$a.length,qs,Vs,qs))!==void 0&&(Ys=(xl=Ll.trim()).length)===0&&(xl="\0\0"),El=xl.charCodeAt(0),$l=xl.charCodeAt(1),El){case 0:break;case 64:if($l===105||$l===99){Ol+=xl+zs.charAt(yl);break}default:xl.charCodeAt(Ys-1)!==58&&($a+=ss(xl,El,$l,xl.charCodeAt(2)))}Zs=Bs=Rl=El=0,xl="",$l=zs.charCodeAt(++yl)}}switch($l){case 13:case 10:Ws===47?Ws=0:1+El===0&&qs!==107&&0<xl.length&&(Bs=1,xl+="\0"),0<Ps*Ns&&cs(0,xl,Hs,Us,Ms,ks,$a.length,qs,Vs,qs),ks=1,Ms++;break;case 59:case 125:if(Ws+Tl+Pl+Ks===0){ks++;break}default:switch(ks++,Xs=zs.charAt(yl),$l){case 9:case 32:if(Tl+Ks+Ws===0)switch(Sl){case 44:case 58:case 9:case 32:Xs="";break;default:$l!==32&&(Xs=" ")}break;case 0:Xs="\\0";break;case 12:Xs="\\f";break;case 11:Xs="\\v";break;case 38:Tl+Ws+Ks===0&&(Bs=Zs=1,Xs="\f"+Xs);break;case 108:if(Tl+Ws+Ks+Os===0&&0<Rl)switch(yl-Rl){case 2:Sl===112&&zs.charCodeAt(yl-3)===58&&(Os=Sl);case 8:Ml===111&&(Os=Ml)}break;case 58:Tl+Ws+Ks===0&&(Rl=yl);break;case 44:Ws+Pl+Tl+Ks===0&&(Bs=1,Xs+="\r");break;case 34:case 39:Ws===0&&(Tl=Tl===$l?0:Tl===0?$l:Tl);break;case 91:Tl+Ws+Pl===0&&Ks++;break;case 93:Tl+Ws+Pl===0&&Ks--;break;case 41:Tl+Ws+Ks===0&&Pl--;break;case 40:if(Tl+Ws+Ks===0){if(El===0)switch(2*Sl+3*Ml){case 533:break;default:El=1}Pl++}break;case 64:Ws+Pl+Tl+Ks+Rl+wl===0&&(wl=1);break;case 42:case 47:if(!(0<Tl+Ks+Pl))switch(Ws){case 0:switch(2*$l+3*zs.charCodeAt(yl+1)){case 235:Ws=47;break;case 220:Ys=yl,Ws=42}break;case 42:$l===47&&Sl===42&&Ys+2!==yl&&(zs.charCodeAt(Ys+2)===33&&($a+=zs.substring(Ys,yl+1)),Xs="",Ws=0)}}Ws===0&&(xl+=Xs)}Ml=Sl,Sl=$l,yl++}if(Ys=$a.length,0<Ys){if(Bs=Hs,0<Ps&&(Ll=cs(2,$a,Bs,Us,Ms,ks,Ys,qs,Vs,qs),Ll!==void 0&&($a=Ll).length===0))return Ol+$a+Dl;if($a=Bs.join(",")+"{"+$a+"}",Ds*Os!==0){switch(Ds!==2||as($a,2)||(Os=0),Os){case 111:$a=$a.replace(Cs,":-moz-$1")+$a;break;case 112:$a=$a.replace(Ss,"::-webkit-input-$1")+$a.replace(Ss,"::-moz-$1")+$a.replace(Ss,":-ms-input-$1")+$a}Os=0}}return Ol+$a+Dl}function ns(Us,Hs,zs){var qs=Hs.trim().split(bs);Hs=qs;var Vs=qs.length,Ks=Us.length;switch(Ks){case 0:case 1:var Ws=0;for(Us=Ks===0?"":Us[0]+" ";Ws<Vs;++Ws)Hs[Ws]=os(Us,Hs[Ws],zs).trim();break;default:var Pl=Ws=0;for(Hs=[];Ws<Vs;++Ws)for(var Tl=0;Tl<Ks;++Tl)Hs[Pl++]=os(Us[Tl]+" ",qs[Ws],zs).trim()}return Hs}function os(Us,Hs,zs){var qs=Hs.charCodeAt(0);switch(33>qs&&(qs=(Hs=Hs.trim()).charCodeAt(0)),qs){case 38:return Hs.replace(xs,"$1"+Us.trim());case 58:return Us.trim()+Hs.replace(xs,"$1"+Us.trim());default:if(0<1*zs&&0<Hs.indexOf("\f"))return Hs.replace(xs,(Us.charCodeAt(0)===58?"":"$1")+Us.trim())}return Us+Hs}function ss(Us,Hs,zs,qs){var Vs=Us+";",Ks=2*Hs+3*zs+4*qs;if(Ks===944){Us=Vs.indexOf(":",9)+1;var Ws=Vs.substring(Us,Vs.length-1).trim();return Ws=Vs.substring(0,Us).trim()+Ws+";",Ds===1||Ds===2&&as(Ws,1)?"-webkit-"+Ws+Ws:Ws}if(Ds===0||Ds===2&&!as(Vs,1))return Vs;switch(Ks){case 1015:return Vs.charCodeAt(10)===97?"-webkit-"+Vs+Vs:Vs;case 951:return Vs.charCodeAt(3)===116?"-webkit-"+Vs+Vs:Vs;case 963:return Vs.charCodeAt(5)===110?"-webkit-"+Vs+Vs:Vs;case 1009:if(Vs.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+Vs+Vs;case 978:return"-webkit-"+Vs+"-moz-"+Vs+Vs;case 1019:case 983:return"-webkit-"+Vs+"-moz-"+Vs+"-ms-"+Vs+Vs;case 883:if(Vs.charCodeAt(8)===45)return"-webkit-"+Vs+Vs;if(0<Vs.indexOf("image-set(",11))return Vs.replace(As,"$1-webkit-$2")+Vs;break;case 932:if(Vs.charCodeAt(4)===45)switch(Vs.charCodeAt(5)){case 103:return"-webkit-box-"+Vs.replace("-grow","")+"-webkit-"+Vs+"-ms-"+Vs.replace("grow","positive")+Vs;case 115:return"-webkit-"+Vs+"-ms-"+Vs.replace("shrink","negative")+Vs;case 98:return"-webkit-"+Vs+"-ms-"+Vs.replace("basis","preferred-size")+Vs}return"-webkit-"+Vs+"-ms-"+Vs+Vs;case 964:return"-webkit-"+Vs+"-ms-flex-"+Vs+Vs;case 1023:if(Vs.charCodeAt(8)!==99)break;return Ws=Vs.substring(Vs.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+Ws+"-webkit-"+Vs+"-ms-flex-pack"+Ws+Vs;case 1005:return gs.test(Vs)?Vs.replace(ms,":-webkit-")+Vs.replace(ms,":-moz-")+Vs:Vs;case 1e3:switch(Ws=Vs.substring(13).trim(),Hs=Ws.indexOf("-")+1,Ws.charCodeAt(0)+Ws.charCodeAt(Hs)){case 226:Ws=Vs.replace($s,"tb");break;case 232:Ws=Vs.replace($s,"tb-rl");break;case 220:Ws=Vs.replace($s,"lr");break;default:return Vs}return"-webkit-"+Vs+"-ms-"+Ws+Vs;case 1017:if(Vs.indexOf("sticky",9)===-1)break;case 975:switch(Hs=(Vs=Us).length-10,Ws=(Vs.charCodeAt(Hs)===33?Vs.substring(0,Hs):Vs).substring(Us.indexOf(":",7)+1).trim(),Ks=Ws.charCodeAt(0)+(Ws.charCodeAt(7)|0)){case 203:if(111>Ws.charCodeAt(8))break;case 115:Vs=Vs.replace(Ws,"-webkit-"+Ws)+";"+Vs;break;case 207:case 102:Vs=Vs.replace(Ws,"-webkit-"+(102<Ks?"inline-":"")+"box")+";"+Vs.replace(Ws,"-webkit-"+Ws)+";"+Vs.replace(Ws,"-ms-"+Ws+"box")+";"+Vs}return Vs+";";case 938:if(Vs.charCodeAt(5)===45)switch(Vs.charCodeAt(6)){case 105:return Ws=Vs.replace("-items",""),"-webkit-"+Vs+"-webkit-box-"+Ws+"-ms-flex-"+Ws+Vs;case 115:return"-webkit-"+Vs+"-ms-flex-item-"+Vs.replace(Ts,"")+Vs;default:return"-webkit-"+Vs+"-ms-flex-line-pack"+Vs.replace("align-content","").replace(Ts,"")+Vs}break;case 973:case 989:if(Vs.charCodeAt(3)!==45||Vs.charCodeAt(4)===122)break;case 931:case 953:if(Rs.test(Us)===!0)return(Ws=Us.substring(Us.indexOf(":")+1)).charCodeAt(0)===115?ss(Us.replace("stretch","fill-available"),Hs,zs,qs).replace(":fill-available",":stretch"):Vs.replace(Ws,"-webkit-"+Ws)+Vs.replace(Ws,"-moz-"+Ws.replace("fill-",""))+Vs;break;case 962:if(Vs="-webkit-"+Vs+(Vs.charCodeAt(5)===102?"-ms-"+Vs:"")+Vs,zs+qs===211&&Vs.charCodeAt(13)===105&&0<Vs.indexOf("transform",10))return Vs.substring(0,Vs.indexOf(";",27)+1).replace(vs,"$1-webkit-$2")+Vs}return Vs}function as(Us,Hs){var zs=Us.indexOf(Hs===1?":":"{"),qs=Us.substring(0,Hs!==3?zs:10);return zs=Us.substring(zs+1,Us.length-1),Ls(Hs!==2?qs:qs.replace(Is,"$1"),zs,Hs)}function ls(Us,Hs){var zs=ss(Hs,Hs.charCodeAt(0),Hs.charCodeAt(1),Hs.charCodeAt(2));return zs!==Hs+";"?zs.replace(ws," or ($1)").substring(4):"("+Hs+")"}function cs(Us,Hs,zs,qs,Vs,Ks,Ws,Pl,Tl,El){for(var $l=0,Sl=Hs,Ml;$l<Ps;++$l)switch(Ml=js[$l].call(ps,Us,Sl,zs,qs,Vs,Ks,Ws,Pl,Tl,El)){case void 0:case!1:case!0:case null:break;default:Sl=Ml}if(Sl!==Hs)return Sl}function us(Us){switch(Us){case void 0:case null:Ps=js.length=0;break;default:if(typeof Us=="function")js[Ps++]=Us;else if(typeof Us=="object")for(var Hs=0,zs=Us.length;Hs<zs;++Hs)us(Us[Hs]);else Ns=!!Us|0}return us}function ds(Us){return Us=Us.prefix,Us!==void 0&&(Ls=null,Us?typeof Us!="function"?Ds=1:(Ds=2,Ls=Us):Ds=0),ds}function ps(Us,Hs){var zs=Us;if(33>zs.charCodeAt(0)&&(zs=zs.trim()),Gs=zs,zs=[Gs],0<Ps){var qs=cs(-1,Hs,zs,zs,Ms,ks,0,0,0,0);qs!==void 0&&typeof qs=="string"&&(Hs=qs)}var Vs=rs(Fs,zs,Hs,0,0);return 0<Ps&&(qs=cs(-2,Vs,zs,zs,Ms,ks,Vs.length,0,0,0),qs!==void 0&&(Vs=qs)),Gs="",Os=0,ks=Ms=1,Vs}var fs=/^\0+/g,hs=/[\0\r\f]/g,ms=/: */g,gs=/zoo|gra/,vs=/([,: ])(transform)/g,bs=/,\r+?/g,xs=/([\t\r\n ])*\f?&/g,ys=/@(k\w+)\s*(\S*)\s*/,Ss=/::(place)/g,Cs=/:(read-only)/g,$s=/[svh]\w+-[tblr]{2}/,Es=/\(\s*(.*)\s*\)/g,ws=/([\s\S]*?);/g,Ts=/-self|flex-/g,Is=/[^]*?(:[rp][el]a[\w-]+)[^]*/,Rs=/stretch|:\s*\w+\-(?:conte|avail)/,As=/([^-])(image-set\()/,ks=1,Ms=1,Os=0,Ds=1,Fs=[],js=[],Ps=0,Ls=null,Ns=0,Gs="";return ps.use=us,ps.set=ds,ts!==void 0&&ds(ts),ps}var unitlessKeys={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function y(){return(y=Object.assign||function(ts){for(var rs=1;rs<arguments.length;rs++){var ns=arguments[rs];for(var os in ns)Object.prototype.hasOwnProperty.call(ns,os)&&(ts[os]=ns[os])}return ts}).apply(this,arguments)}var v$1=function(ts,rs){for(var ns=[ts[0]],os=0,ss=rs.length;os<ss;os+=1)ns.push(rs[os],ts[os+1]);return ns},g$1=function(ts){return ts!==null&&typeof ts=="object"&&(ts.toString?ts.toString():Object.prototype.toString.call(ts))==="[object Object]"&&!reactIsExports.typeOf(ts)},S=Object.freeze([]),w=Object.freeze({});function E(ts){return typeof ts=="function"}function b$1(ts){return ts.displayName||ts.name||"Component"}function _(ts){return ts&&typeof ts.styledComponentId=="string"}var N=typeof process<"u"&&process.env!==void 0&&({}.REACT_APP_SC_ATTR||{}.SC_ATTR)||"data-styled",C=typeof window<"u"&&"HTMLElement"in window,I=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&({}.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==""?{}.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&{}.REACT_APP_SC_DISABLE_SPEEDY:{}.SC_DISABLE_SPEEDY!==void 0&&{}.SC_DISABLE_SPEEDY!==""&&{}.SC_DISABLE_SPEEDY!=="false"&&{}.SC_DISABLE_SPEEDY)),P={};function D(ts){for(var rs=arguments.length,ns=new Array(rs>1?rs-1:0),os=1;os<rs;os++)ns[os-1]=arguments[os];throw new Error("An error occurred. See https://git.io/JUIaE#"+ts+" for more information."+(ns.length>0?" Args: "+ns.join(", "):""))}var j$1=function(){function ts(ns){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=ns}var rs=ts.prototype;return rs.indexOfGroup=function(ns){for(var os=0,ss=0;ss<ns;ss++)os+=this.groupSizes[ss];return os},rs.insertRules=function(ns,os){if(ns>=this.groupSizes.length){for(var ss=this.groupSizes,as=ss.length,ls=as;ns>=ls;)(ls<<=1)<0&&D(16,""+ns);this.groupSizes=new Uint32Array(ls),this.groupSizes.set(ss),this.length=ls;for(var cs=as;cs<ls;cs++)this.groupSizes[cs]=0}for(var us=this.indexOfGroup(ns+1),ds=0,ps=os.length;ds<ps;ds++)this.tag.insertRule(us,os[ds])&&(this.groupSizes[ns]++,us++)},rs.clearGroup=function(ns){if(ns<this.length){var os=this.groupSizes[ns],ss=this.indexOfGroup(ns),as=ss+os;this.groupSizes[ns]=0;for(var ls=ss;ls<as;ls++)this.tag.deleteRule(ss)}},rs.getGroup=function(ns){var os="";if(ns>=this.length||this.groupSizes[ns]===0)return os;for(var ss=this.groupSizes[ns],as=this.indexOfGroup(ns),ls=as+ss,cs=as;cs<ls;cs++)os+=this.tag.getRule(cs)+"/*!sc*/\n";return os},ts}(),T=new Map,x=new Map,k$1=1,V=function(ts){if(T.has(ts))return T.get(ts);for(;x.has(k$1);)k$1++;var rs=k$1++;return T.set(ts,rs),x.set(rs,ts),rs},B=function(ts){return x.get(ts)},z=function(ts,rs){rs>=k$1&&(k$1=rs+1),T.set(ts,rs),x.set(rs,ts)},M="style["+N+'][data-styled-version="5.3.11"]',G=new RegExp("^"+N+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),L=function(ts,rs,ns){for(var os,ss=ns.split(","),as=0,ls=ss.length;as<ls;as++)(os=ss[as])&&ts.registerName(rs,os)},F=function(ts,rs){for(var ns=(rs.textContent||"").split("/*!sc*/\n"),os=[],ss=0,as=ns.length;ss<as;ss++){var ls=ns[ss].trim();if(ls){var cs=ls.match(G);if(cs){var us=0|parseInt(cs[1],10),ds=cs[2];us!==0&&(z(ds,us),L(ts,ds,cs[3]),ts.getTag().insertRules(us,os)),os.length=0}else os.push(ls)}}},Y=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null},q$1=function(ts){var rs=document.head,ns=ts||rs,os=document.createElement("style"),ss=function(cs){for(var us=cs.childNodes,ds=us.length;ds>=0;ds--){var ps=us[ds];if(ps&&ps.nodeType===1&&ps.hasAttribute(N))return ps}}(ns),as=ss!==void 0?ss.nextSibling:null;os.setAttribute(N,"active"),os.setAttribute("data-styled-version","5.3.11");var ls=Y();return ls&&os.setAttribute("nonce",ls),ns.insertBefore(os,as),os},H=function(){function ts(ns){var os=this.element=q$1(ns);os.appendChild(document.createTextNode("")),this.sheet=function(ss){if(ss.sheet)return ss.sheet;for(var as=document.styleSheets,ls=0,cs=as.length;ls<cs;ls++){var us=as[ls];if(us.ownerNode===ss)return us}D(17)}(os),this.length=0}var rs=ts.prototype;return rs.insertRule=function(ns,os){try{return this.sheet.insertRule(os,ns),this.length++,!0}catch{return!1}},rs.deleteRule=function(ns){this.sheet.deleteRule(ns),this.length--},rs.getRule=function(ns){var os=this.sheet.cssRules[ns];return os!==void 0&&typeof os.cssText=="string"?os.cssText:""},ts}(),$=function(){function ts(ns){var os=this.element=q$1(ns);this.nodes=os.childNodes,this.length=0}var rs=ts.prototype;return rs.insertRule=function(ns,os){if(ns<=this.length&&ns>=0){var ss=document.createTextNode(os),as=this.nodes[ns];return this.element.insertBefore(ss,as||null),this.length++,!0}return!1},rs.deleteRule=function(ns){this.element.removeChild(this.nodes[ns]),this.length--},rs.getRule=function(ns){return ns<this.length?this.nodes[ns].textContent:""},ts}(),W=function(){function ts(ns){this.rules=[],this.length=0}var rs=ts.prototype;return rs.insertRule=function(ns,os){return ns<=this.length&&(this.rules.splice(ns,0,os),this.length++,!0)},rs.deleteRule=function(ns){this.rules.splice(ns,1),this.length--},rs.getRule=function(ns){return ns<this.length?this.rules[ns]:""},ts}(),U=C,J={isServer:!C,useCSSOMInjection:!I},X=function(){function ts(ns,os,ss){ns===void 0&&(ns=w),os===void 0&&(os={}),this.options=y({},J,{},ns),this.gs=os,this.names=new Map(ss),this.server=!!ns.isServer,!this.server&&C&&U&&(U=!1,function(as){for(var ls=document.querySelectorAll(M),cs=0,us=ls.length;cs<us;cs++){var ds=ls[cs];ds&&ds.getAttribute(N)!=="active"&&(F(as,ds),ds.parentNode&&ds.parentNode.removeChild(ds))}}(this))}ts.registerId=function(ns){return V(ns)};var rs=ts.prototype;return rs.reconstructWithOptions=function(ns,os){return os===void 0&&(os=!0),new ts(y({},this.options,{},ns),this.gs,os&&this.names||void 0)},rs.allocateGSInstance=function(ns){return this.gs[ns]=(this.gs[ns]||0)+1},rs.getTag=function(){return this.tag||(this.tag=(ss=(os=this.options).isServer,as=os.useCSSOMInjection,ls=os.target,ns=ss?new W(ls):as?new H(ls):new $(ls),new j$1(ns)));var ns,os,ss,as,ls},rs.hasNameForId=function(ns,os){return this.names.has(ns)&&this.names.get(ns).has(os)},rs.registerName=function(ns,os){if(V(ns),this.names.has(ns))this.names.get(ns).add(os);else{var ss=new Set;ss.add(os),this.names.set(ns,ss)}},rs.insertRules=function(ns,os,ss){this.registerName(ns,os),this.getTag().insertRules(V(ns),ss)},rs.clearNames=function(ns){this.names.has(ns)&&this.names.get(ns).clear()},rs.clearRules=function(ns){this.getTag().clearGroup(V(ns)),this.clearNames(ns)},rs.clearTag=function(){this.tag=void 0},rs.toString=function(){return function(ns){for(var os=ns.getTag(),ss=os.length,as="",ls=0;ls<ss;ls++){var cs=B(ls);if(cs!==void 0){var us=ns.names.get(cs),ds=os.getGroup(ls);if(us&&ds&&us.size){var ps=N+".g"+ls+'[id="'+cs+'"]',fs="";us!==void 0&&us.forEach(function(hs){hs.length>0&&(fs+=hs+",")}),as+=""+ds+ps+'{content:"'+fs+'"}/*!sc*/\n'}}}return as}(this)},ts}(),Z=/(a)(d)/gi,K=function(ts){return String.fromCharCode(ts+(ts>25?39:97))};function Q(ts){var rs,ns="";for(rs=Math.abs(ts);rs>52;rs=rs/52|0)ns=K(rs%52)+ns;return(K(rs%52)+ns).replace(Z,"$1-$2")}var ee=function(ts,rs){for(var ns=rs.length;ns;)ts=33*ts^rs.charCodeAt(--ns);return ts},te=function(ts){return ee(5381,ts)};function ne(ts){for(var rs=0;rs<ts.length;rs+=1){var ns=ts[rs];if(E(ns)&&!_(ns))return!1}return!0}var re=te("5.3.11"),oe=function(){function ts(rs,ns,os){this.rules=rs,this.staticRulesId="",this.isStatic=(os===void 0||os.isStatic)&&ne(rs),this.componentId=ns,this.baseHash=ee(re,ns),this.baseStyle=os,X.registerId(ns)}return ts.prototype.generateAndInjectStyles=function(rs,ns,os){var ss=this.componentId,as=[];if(this.baseStyle&&as.push(this.baseStyle.generateAndInjectStyles(rs,ns,os)),this.isStatic&&!os.hash)if(this.staticRulesId&&ns.hasNameForId(ss,this.staticRulesId))as.push(this.staticRulesId);else{var ls=_e(this.rules,rs,ns,os).join(""),cs=Q(ee(this.baseHash,ls)>>>0);if(!ns.hasNameForId(ss,cs)){var us=os(ls,"."+cs,void 0,ss);ns.insertRules(ss,cs,us)}as.push(cs),this.staticRulesId=cs}else{for(var ds=this.rules.length,ps=ee(this.baseHash,os.hash),fs="",hs=0;hs<ds;hs++){var ms=this.rules[hs];if(typeof ms=="string")fs+=ms;else if(ms){var gs=_e(ms,rs,ns,os),vs=Array.isArray(gs)?gs.join(""):gs;ps=ee(ps,vs+hs),fs+=vs}}if(fs){var bs=Q(ps>>>0);if(!ns.hasNameForId(ss,bs)){var xs=os(fs,"."+bs,void 0,ss);ns.insertRules(ss,bs,xs)}as.push(bs)}}return as.join(" ")},ts}(),se=/^\s*\/\/.*$/gm,ie=[":","[",".","#"];function ae(ts){var rs,ns,os,ss,as=ts===void 0?w:ts,ls=as.options,cs=ls===void 0?w:ls,us=as.plugins,ds=us===void 0?S:us,ps=new stylis_min(cs),fs=[],hs=function(vs){function bs(xs){if(xs)try{vs(xs+"}")}catch{}}return function(xs,ys,Ss,Cs,$s,Es,ws,Ts,Is,Rs){switch(xs){case 1:if(Is===0&&ys.charCodeAt(0)===64)return vs(ys+";"),"";break;case 2:if(Ts===0)return ys+"/*|*/";break;case 3:switch(Ts){case 102:case 112:return vs(Ss[0]+ys),"";default:return ys+(Rs===0?"/*|*/":"")}case-2:ys.split("/*|*/}").forEach(bs)}}}(function(vs){fs.push(vs)}),ms=function(vs,bs,xs){return bs===0&&ie.indexOf(xs[ns.length])!==-1||xs.match(ss)?vs:"."+rs};function gs(vs,bs,xs,ys){ys===void 0&&(ys="&");var Ss=vs.replace(se,""),Cs=bs&&xs?xs+" "+bs+" { "+Ss+" }":Ss;return rs=ys,ns=bs,os=new RegExp("\\"+ns+"\\b","g"),ss=new RegExp("(\\"+ns+"\\b){2,}"),ps(xs||!bs?"":bs,Cs)}return ps.use([].concat(ds,[function(vs,bs,xs){vs===2&&xs.length&&xs[0].lastIndexOf(ns)>0&&(xs[0]=xs[0].replace(os,ms))},hs,function(vs){if(vs===-2){var bs=fs;return fs=[],bs}}])),gs.hash=ds.length?ds.reduce(function(vs,bs){return bs.name||D(15),ee(vs,bs.name)},5381).toString():"",gs}var ce=React$2.createContext();ce.Consumer;var le=React$2.createContext(),de=(le.Consumer,new X),he=ae();function pe(){return reactExports.useContext(ce)||de}function fe(){return reactExports.useContext(le)||he}var ye=function(){function ts(rs,ns){var os=this;this.inject=function(ss,as){as===void 0&&(as=he);var ls=os.name+as.hash;ss.hasNameForId(os.id,ls)||ss.insertRules(os.id,ls,as(os.rules,ls,"@keyframes"))},this.toString=function(){return D(12,String(os.name))},this.name=rs,this.id="sc-keyframes-"+rs,this.rules=ns}return ts.prototype.getName=function(rs){return rs===void 0&&(rs=he),this.name+rs.hash},ts}(),ve=/([A-Z])/,ge=/([A-Z])/g,Se=/^ms-/,we=function(ts){return"-"+ts.toLowerCase()};function Ee(ts){return ve.test(ts)?ts.replace(ge,we).replace(Se,"-ms-"):ts}var be=function(ts){return ts==null||ts===!1||ts===""};function _e(ts,rs,ns,os){if(Array.isArray(ts)){for(var ss,as=[],ls=0,cs=ts.length;ls<cs;ls+=1)(ss=_e(ts[ls],rs,ns,os))!==""&&(Array.isArray(ss)?as.push.apply(as,ss):as.push(ss));return as}if(be(ts))return"";if(_(ts))return"."+ts.styledComponentId;if(E(ts)){if(typeof(ds=ts)!="function"||ds.prototype&&ds.prototype.isReactComponent||!rs)return ts;var us=ts(rs);return _e(us,rs,ns,os)}var ds;return ts instanceof ye?ns?(ts.inject(ns,os),ts.getName(os)):ts:g$1(ts)?function ps(fs,hs){var ms,gs,vs=[];for(var bs in fs)fs.hasOwnProperty(bs)&&!be(fs[bs])&&(Array.isArray(fs[bs])&&fs[bs].isCss||E(fs[bs])?vs.push(Ee(bs)+":",fs[bs],";"):g$1(fs[bs])?vs.push.apply(vs,ps(fs[bs],bs)):vs.push(Ee(bs)+": "+(ms=bs,(gs=fs[bs])==null||typeof gs=="boolean"||gs===""?"":typeof gs!="number"||gs===0||ms in unitlessKeys||ms.startsWith("--")?String(gs).trim():gs+"px")+";"));return hs?[hs+" {"].concat(vs,["}"]):vs}(ts):ts.toString()}var Ne=function(ts){return Array.isArray(ts)&&(ts.isCss=!0),ts};function Ae(ts){for(var rs=arguments.length,ns=new Array(rs>1?rs-1:0),os=1;os<rs;os++)ns[os-1]=arguments[os];return E(ts)||g$1(ts)?Ne(_e(v$1(S,[ts].concat(ns)))):ns.length===0&&ts.length===1&&typeof ts[0]=="string"?ts:Ne(_e(v$1(ts,ns)))}var Oe=function(ts,rs,ns){return ns===void 0&&(ns=w),ts.theme!==ns.theme&&ts.theme||rs||ns.theme},Re=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,De=/(^-|-$)/g;function je(ts){return ts.replace(Re,"-").replace(De,"")}var Te=function(ts){return Q(te(ts)>>>0)};function xe(ts){return typeof ts=="string"&&!0}var ke=function(ts){return typeof ts=="function"||typeof ts=="object"&&ts!==null&&!Array.isArray(ts)},Ve=function(ts){return ts!=="__proto__"&&ts!=="constructor"&&ts!=="prototype"};function Be(ts,rs,ns){var os=ts[ns];ke(rs)&&ke(os)?ze(os,rs):ts[ns]=rs}function ze(ts){for(var rs=arguments.length,ns=new Array(rs>1?rs-1:0),os=1;os<rs;os++)ns[os-1]=arguments[os];for(var ss=0,as=ns;ss<as.length;ss++){var ls=as[ss];if(ke(ls))for(var cs in ls)Ve(cs)&&Be(ts,ls[cs],cs)}return ts}var Me=React$2.createContext();Me.Consumer;function Le(ts){var rs=reactExports.useContext(Me),ns=reactExports.useMemo(function(){return function(os,ss){if(!os)return D(14);if(E(os)){var as=os(ss);return as}return Array.isArray(os)||typeof os!="object"?D(8):ss?y({},ss,{},os):os}(ts.theme,rs)},[ts.theme,rs]);return ts.children?React$2.createElement(Me.Provider,{value:ns},ts.children):null}var Fe={};function Ye(ts,rs,ns){var os=_(ts),ss=!xe(ts),as=rs.attrs,ls=as===void 0?S:as,cs=rs.componentId,us=cs===void 0?function(ys,Ss){var Cs=typeof ys!="string"?"sc":je(ys);Fe[Cs]=(Fe[Cs]||0)+1;var $s=Cs+"-"+Te("5.3.11"+Cs+Fe[Cs]);return Ss?Ss+"-"+$s:$s}(rs.displayName,rs.parentComponentId):cs,ds=rs.displayName,ps=ds===void 0?function(ys){return xe(ys)?"styled."+ys:"Styled("+b$1(ys)+")"}(ts):ds,fs=rs.displayName&&rs.componentId?je(rs.displayName)+"-"+rs.componentId:rs.componentId||us,hs=os&&ts.attrs?Array.prototype.concat(ts.attrs,ls).filter(Boolean):ls,ms=rs.shouldForwardProp;os&&ts.shouldForwardProp&&(ms=rs.shouldForwardProp?function(ys,Ss,Cs){return ts.shouldForwardProp(ys,Ss,Cs)&&rs.shouldForwardProp(ys,Ss,Cs)}:ts.shouldForwardProp);var gs,vs=new oe(ns,fs,os?ts.componentStyle:void 0),bs=vs.isStatic&&ls.length===0,xs=function(ys,Ss){return function(Cs,$s,Es,ws){var Ts=Cs.attrs,Is=Cs.componentStyle,Rs=Cs.defaultProps,As=Cs.foldedComponentIds,ks=Cs.shouldForwardProp,Ms=Cs.styledComponentId,Os=Cs.target,Ds=function(qs,Vs,Ks){qs===void 0&&(qs=w);var Ws=y({},Vs,{theme:qs}),Pl={};return Ks.forEach(function(Tl){var El,$l,Sl,Ml=Tl;for(El in E(Ml)&&(Ml=Ml(Ws)),Ml)Ws[El]=Pl[El]=El==="className"?($l=Pl[El],Sl=Ml[El],$l&&Sl?$l+" "+Sl:$l||Sl):Ml[El]}),[Ws,Pl]}(Oe($s,reactExports.useContext(Me),Rs)||w,$s,Ts),Fs=Ds[0],js=Ds[1],Ps=function(qs,Vs,Ks,Ws){var Pl=pe(),Tl=fe(),El=Vs?qs.generateAndInjectStyles(w,Pl,Tl):qs.generateAndInjectStyles(Ks,Pl,Tl);return El}(Is,ws,Fs),Ls=Es,Ns=js.$as||$s.$as||js.as||$s.as||Os,Gs=xe(Ns),Us=js!==$s?y({},$s,{},js):$s,Hs={};for(var zs in Us)zs[0]!=="$"&&zs!=="as"&&(zs==="forwardedAs"?Hs.as=Us[zs]:(ks?ks(zs,isPropValid,Ns):!Gs||isPropValid(zs))&&(Hs[zs]=Us[zs]));return $s.style&&js.style!==$s.style&&(Hs.style=y({},$s.style,{},js.style)),Hs.className=Array.prototype.concat(As,Ms,Ps!==Ms?Ps:null,$s.className,js.className).filter(Boolean).join(" "),Hs.ref=Ls,reactExports.createElement(Ns,Hs)}(gs,ys,Ss,bs)};return xs.displayName=ps,(gs=React$2.forwardRef(xs)).attrs=hs,gs.componentStyle=vs,gs.displayName=ps,gs.shouldForwardProp=ms,gs.foldedComponentIds=os?Array.prototype.concat(ts.foldedComponentIds,ts.styledComponentId):S,gs.styledComponentId=fs,gs.target=os?ts.target:ts,gs.withComponent=function(ys){var Ss=rs.componentId,Cs=function(Es,ws){if(Es==null)return{};var Ts,Is,Rs={},As=Object.keys(Es);for(Is=0;Is<As.length;Is++)Ts=As[Is],ws.indexOf(Ts)>=0||(Rs[Ts]=Es[Ts]);return Rs}(rs,["componentId"]),$s=Ss&&Ss+"-"+(xe(ys)?ys:je(b$1(ys)));return Ye(ys,y({},Cs,{attrs:hs,componentId:$s}),ns)},Object.defineProperty(gs,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(ys){this._foldedDefaultProps=os?ze({},ts.defaultProps,ys):ys}}),Object.defineProperty(gs,"toString",{value:function(){return"."+gs.styledComponentId}}),ss&&m$3(gs,ts,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),gs}var qe=function(ts){return function rs(ns,os,ss){if(ss===void 0&&(ss=w),!reactIsExports.isValidElementType(os))return D(1,String(os));var as=function(){return ns(os,ss,Ae.apply(void 0,arguments))};return as.withConfig=function(ls){return rs(ns,os,y({},ss,{},ls))},as.attrs=function(ls){return rs(ns,os,y({},ss,{attrs:Array.prototype.concat(ss.attrs,ls).filter(Boolean)}))},as}(Ye,ts)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach(function(ts){qe[ts]=qe(ts)});var He=function(){function ts(ns,os){this.rules=ns,this.componentId=os,this.isStatic=ne(ns),X.registerId(this.componentId+1)}var rs=ts.prototype;return rs.createStyles=function(ns,os,ss,as){var ls=as(_e(this.rules,os,ss,as).join(""),""),cs=this.componentId+ns;ss.insertRules(cs,cs,ls)},rs.removeStyles=function(ns,os){os.clearRules(this.componentId+ns)},rs.renderStyles=function(ns,os,ss,as){ns>2&&X.registerId(this.componentId+ns),this.removeStyles(ns,ss),this.createStyles(ns,os,ss,as)},ts}();function $e(ts){for(var rs=arguments.length,ns=new Array(rs>1?rs-1:0),os=1;os<rs;os++)ns[os-1]=arguments[os];var ss=Ae.apply(void 0,[ts].concat(ns)),as="sc-global-"+Te(JSON.stringify(ss)),ls=new He(ss,as);function cs(ds){var ps=pe(),fs=fe(),hs=reactExports.useContext(Me),ms=reactExports.useRef(ps.allocateGSInstance(as)).current;return ps.server&&us(ms,ds,ps,hs,fs),reactExports.useLayoutEffect(function(){if(!ps.server)return us(ms,ds,ps,hs,fs),function(){return ls.removeStyles(ms,ps)}},[ms,ds,ps,hs,fs]),null}function us(ds,ps,fs,hs,ms){if(ls.isStatic)ls.renderStyles(ds,P,fs,ms);else{var gs=y({},ps,{theme:Oe(ps,hs,cs.defaultProps)});ls.renderStyles(ds,gs,fs,ms)}}return React$2.memo(cs)}function We(ts){for(var rs=arguments.length,ns=new Array(rs>1?rs-1:0),os=1;os<rs;os++)ns[os-1]=arguments[os];var ss=Ae.apply(void 0,[ts].concat(ns)).join(""),as=Te(ss);return new ye(as,ss)}const styled=qe;/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var getOwnPropertySymbols=Object.getOwnPropertySymbols,hasOwnProperty=Object.prototype.hasOwnProperty,propIsEnumerable=Object.prototype.propertyIsEnumerable;function toObject(ts){if(ts==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(ts)}function shouldUseNative(){try{if(!Object.assign)return!1;var ts=new String("abc");if(ts[5]="de",Object.getOwnPropertyNames(ts)[0]==="5")return!1;for(var rs={},ns=0;ns<10;ns++)rs["_"+String.fromCharCode(ns)]=ns;var os=Object.getOwnPropertyNames(rs).map(function(as){return rs[as]});if(os.join("")!=="0123456789")return!1;var ss={};return"abcdefghijklmnopqrst".split("").forEach(function(as){ss[as]=as}),Object.keys(Object.assign({},ss)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var objectAssign=shouldUseNative()?Object.assign:function(ts,rs){for(var ns,os=toObject(ts),ss,as=1;as<arguments.length;as++){ns=Object(arguments[as]);for(var ls in ns)hasOwnProperty.call(ns,ls)&&(os[ls]=ns[ls]);if(getOwnPropertySymbols){ss=getOwnPropertySymbols(ns);for(var cs=0;cs<ss.length;cs++)propIsEnumerable.call(ns,ss[cs])&&(os[ss[cs]]=ns[ss[cs]])}}return os};const assign=getDefaultExportFromCjs(objectAssign);var merge=function(rs,ns){var os=assign({},rs,ns);for(var ss in rs){var as;!rs[ss]||typeof ns[ss]!="object"||assign(os,(as={},as[ss]=assign(rs[ss],ns[ss]),as))}return os},sort=function(rs){var ns={};return Object.keys(rs).sort(function(os,ss){return os.localeCompare(ss,void 0,{numeric:!0,sensitivity:"base"})}).forEach(function(os){ns[os]=rs[os]}),ns},defaults$4={breakpoints:[40,52,64].map(function(ts){return ts+"em"})},createMediaQuery=function(rs){return"@media screen and (min-width: "+rs+")"},getValue=function(rs,ns){return get$2(ns,rs,rs)},get$2=function(rs,ns,os,ss,as){for(ns=ns&&ns.split?ns.split("."):[ns],ss=0;ss<ns.length;ss++)rs=rs?rs[ns[ss]]:as;return rs===as?os:rs},createParser=function ts(rs){var ns={},os=function(ls){var cs={},us=!1,ds=ls.theme&&ls.theme.disableStyledSystemCache;for(var ps in ls)if(rs[ps]){var fs=rs[ps],hs=ls[ps],ms=get$2(ls.theme,fs.scale,fs.defaults);if(typeof hs=="object"){if(ns.breakpoints=!ds&&ns.breakpoints||get$2(ls.theme,"breakpoints",defaults$4.breakpoints),Array.isArray(hs)){ns.media=!ds&&ns.media||[null].concat(ns.breakpoints.map(createMediaQuery)),cs=merge(cs,parseResponsiveStyle(ns.media,fs,ms,hs,ls));continue}hs!==null&&(cs=merge(cs,parseResponsiveObject(ns.breakpoints,fs,ms,hs,ls)),us=!0);continue}assign(cs,fs(hs,ms,ls))}return us&&(cs=sort(cs)),cs};os.config=rs,os.propNames=Object.keys(rs),os.cache=ns;var ss=Object.keys(rs).filter(function(as){return as!=="config"});return ss.length>1&&ss.forEach(function(as){var ls;os[as]=ts((ls={},ls[as]=rs[as],ls))}),os},parseResponsiveStyle=function(rs,ns,os,ss,as){var ls={};return ss.slice(0,rs.length).forEach(function(cs,us){var ds=rs[us],ps=ns(cs,os,as);if(!ds)assign(ls,ps);else{var fs;assign(ls,(fs={},fs[ds]=assign({},ls[ds],ps),fs))}}),ls},parseResponsiveObject=function(rs,ns,os,ss,as){var ls={};for(var cs in ss){var us=rs[cs],ds=ss[cs],ps=ns(ds,os,as);if(!us)assign(ls,ps);else{var fs,hs=createMediaQuery(us);assign(ls,(fs={},fs[hs]=assign({},ls[hs],ps),fs))}}return ls},createStyleFunction=function(rs){var ns=rs.properties,os=rs.property,ss=rs.scale,as=rs.transform,ls=as===void 0?getValue:as,cs=rs.defaultScale;ns=ns||[os];var us=function(ps,fs,hs){var ms={},gs=ls(ps,fs,hs);if(gs!==null)return ns.forEach(function(vs){ms[vs]=gs}),ms};return us.scale=ss,us.defaults=cs,us},system=function(rs){rs===void 0&&(rs={});var ns={};Object.keys(rs).forEach(function(ss){var as=rs[ss];if(as===!0){ns[ss]=createStyleFunction({property:ss,scale:ss});return}if(typeof as=="function"){ns[ss]=as;return}ns[ss]=createStyleFunction(as)});var os=createParser(ns);return os},compose=function(){for(var rs={},ns=arguments.length,os=new Array(ns),ss=0;ss<ns;ss++)os[ss]=arguments[ss];os.forEach(function(ls){!ls||!ls.config||assign(rs,ls.config)});var as=createParser(rs);return as},isNumber$1=function(rs){return typeof rs=="number"&&!isNaN(rs)},getWidth=function(rs,ns){return get$2(ns,rs,!isNumber$1(rs)||rs>1?rs:rs*100+"%")},config$7={width:{property:"width",scale:"sizes",transform:getWidth},height:{property:"height",scale:"sizes"},minWidth:{property:"minWidth",scale:"sizes"},minHeight:{property:"minHeight",scale:"sizes"},maxWidth:{property:"maxWidth",scale:"sizes"},maxHeight:{property:"maxHeight",scale:"sizes"},size:{properties:["width","height"],scale:"sizes"},overflow:!0,overflowX:!0,overflowY:!0,display:!0,verticalAlign:!0},layout=system(config$7),config$6={color:{property:"color",scale:"colors"},backgroundColor:{property:"backgroundColor",scale:"colors"},opacity:!0};config$6.bg=config$6.backgroundColor;var color=system(config$6),defaults$3={fontSizes:[12,14,16,20,24,32,48,64,72]},config$5={fontFamily:{property:"fontFamily",scale:"fonts"},fontSize:{property:"fontSize",scale:"fontSizes",defaultScale:defaults$3.fontSizes},fontWeight:{property:"fontWeight",scale:"fontWeights"},lineHeight:{property:"lineHeight",scale:"lineHeights"},letterSpacing:{property:"letterSpacing",scale:"letterSpacings"},textAlign:!0,fontStyle:!0},typography=system(config$5),config$4={alignItems:!0,alignContent:!0,justifyItems:!0,justifyContent:!0,flexWrap:!0,flexDirection:!0,flex:!0,flexGrow:!0,flexShrink:!0,flexBasis:!0,justifySelf:!0,alignSelf:!0,order:!0},flexbox=system(config$4),defaults$2={space:[0,4,8,16,32,64,128,256,512]},config$3={gridGap:{property:"gridGap",scale:"space",defaultScale:defaults$2.space},gridColumnGap:{property:"gridColumnGap",scale:"space",defaultScale:defaults$2.space},gridRowGap:{property:"gridRowGap",scale:"space",defaultScale:defaults$2.space},gridColumn:!0,gridRow:!0,gridAutoFlow:!0,gridAutoColumns:!0,gridAutoRows:!0,gridTemplateColumns:!0,gridTemplateRows:!0,gridTemplateAreas:!0,gridArea:!0},grid=system(config$3),config$2={border:{property:"border",scale:"borders"},borderWidth:{property:"borderWidth",scale:"borderWidths"},borderStyle:{property:"borderStyle",scale:"borderStyles"},borderColor:{property:"borderColor",scale:"colors"},borderRadius:{property:"borderRadius",scale:"radii"},borderTop:{property:"borderTop",scale:"borders"},borderTopLeftRadius:{property:"borderTopLeftRadius",scale:"radii"},borderTopRightRadius:{property:"borderTopRightRadius",scale:"radii"},borderRight:{property:"borderRight",scale:"borders"},borderBottom:{property:"borderBottom",scale:"borders"},borderBottomLeftRadius:{property:"borderBottomLeftRadius",scale:"radii"},borderBottomRightRadius:{property:"borderBottomRightRadius",scale:"radii"},borderLeft:{property:"borderLeft",scale:"borders"},borderX:{properties:["borderLeft","borderRight"],scale:"borders"},borderY:{properties:["borderTop","borderBottom"],scale:"borders"}};config$2.borderTopWidth={property:"borderTopWidth",scale:"borderWidths"};config$2.borderTopColor={property:"borderTopColor",scale:"colors"};config$2.borderTopStyle={property:"borderTopStyle",scale:"borderStyles"};config$2.borderTopLeftRadius={property:"borderTopLeftRadius",scale:"radii"};config$2.borderTopRightRadius={property:"borderTopRightRadius",scale:"radii"};config$2.borderBottomWidth={property:"borderBottomWidth",scale:"borderWidths"};config$2.borderBottomColor={property:"borderBottomColor",scale:"colors"};config$2.borderBottomStyle={property:"borderBottomStyle",scale:"borderStyles"};config$2.borderBottomLeftRadius={property:"borderBottomLeftRadius",scale:"radii"};config$2.borderBottomRightRadius={property:"borderBottomRightRadius",scale:"radii"};config$2.borderLeftWidth={property:"borderLeftWidth",scale:"borderWidths"};config$2.borderLeftColor={property:"borderLeftColor",scale:"colors"};config$2.borderLeftStyle={property:"borderLeftStyle",scale:"borderStyles"};config$2.borderRightWidth={property:"borderRightWidth",scale:"borderWidths"};config$2.borderRightColor={property:"borderRightColor",scale:"colors"};config$2.borderRightStyle={property:"borderRightStyle",scale:"borderStyles"};var border=system(config$2),config$1={background:!0,backgroundImage:!0,backgroundSize:!0,backgroundPosition:!0,backgroundRepeat:!0};config$1.bgImage=config$1.backgroundImage;config$1.bgSize=config$1.backgroundSize;config$1.bgPosition=config$1.backgroundPosition;config$1.bgRepeat=config$1.backgroundRepeat;var background=system(config$1),defaults$1={space:[0,4,8,16,32,64,128,256,512]},config={position:!0,zIndex:{property:"zIndex",scale:"zIndices"},top:{property:"top",scale:"space",defaultScale:defaults$1.space},right:{property:"right",scale:"space",defaultScale:defaults$1.space},bottom:{property:"bottom",scale:"space",defaultScale:defaults$1.space},left:{property:"left",scale:"space",defaultScale:defaults$1.space}},position=system(config),defaults={space:[0,4,8,16,32,64,128,256,512]},isNumber=function(rs){return typeof rs=="number"&&!isNaN(rs)},getMargin=function(rs,ns){if(!isNumber(rs))return get$2(ns,rs,rs);var os=rs<0,ss=Math.abs(rs),as=get$2(ns,ss,ss);return isNumber(as)?as*(os?-1:1):os?"-"+as:as},configs={};configs.margin={margin:{property:"margin",scale:"space",transform:getMargin,defaultScale:defaults.space},marginTop:{property:"marginTop",scale:"space",transform:getMargin,defaultScale:defaults.space},marginRight:{property:"marginRight",scale:"space",transform:getMargin,defaultScale:defaults.space},marginBottom:{property:"marginBottom",scale:"space",transform:getMargin,defaultScale:defaults.space},marginLeft:{property:"marginLeft",scale:"space",transform:getMargin,defaultScale:defaults.space},marginX:{properties:["marginLeft","marginRight"],scale:"space",transform:getMargin,defaultScale:defaults.space},marginY:{properties:["marginTop","marginBottom"],scale:"space",transform:getMargin,defaultScale:defaults.space}};configs.margin.m=configs.margin.margin;configs.margin.mt=configs.margin.marginTop;configs.margin.mr=configs.margin.marginRight;configs.margin.mb=configs.margin.marginBottom;configs.margin.ml=configs.margin.marginLeft;configs.margin.mx=configs.margin.marginX;configs.margin.my=configs.margin.marginY;configs.padding={padding:{property:"padding",scale:"space",defaultScale:defaults.space},paddingTop:{property:"paddingTop",scale:"space",defaultScale:defaults.space},paddingRight:{property:"paddingRight",scale:"space",defaultScale:defaults.space},paddingBottom:{property:"paddingBottom",scale:"space",defaultScale:defaults.space},paddingLeft:{property:"paddingLeft",scale:"space",defaultScale:defaults.space},paddingX:{properties:["paddingLeft","paddingRight"],scale:"space",defaultScale:defaults.space},paddingY:{properties:["paddingTop","paddingBottom"],scale:"space",defaultScale:defaults.space}};configs.padding.p=configs.padding.padding;configs.padding.pt=configs.padding.paddingTop;configs.padding.pr=configs.padding.paddingRight;configs.padding.pb=configs.padding.paddingBottom;configs.padding.pl=configs.padding.paddingLeft;configs.padding.px=configs.padding.paddingX;configs.padding.py=configs.padding.paddingY;var margin=system(configs.margin),padding=system(configs.padding),space=compose(margin,padding);system({boxShadow:{property:"boxShadow",scale:"shadows"},textShadow:{property:"textShadow",scale:"shadows"}});function _extends(){return _extends=Object.assign||function(ts){for(var rs=1;rs<arguments.length;rs++){var ns=arguments[rs];for(var os in ns)Object.prototype.hasOwnProperty.call(ns,os)&&(ts[os]=ns[os])}return ts},_extends.apply(this,arguments)}var get$1=function(rs,ns,os,ss,as){for(ns=ns&&ns.split?ns.split("."):[ns],ss=0;ss<ns.length;ss++)rs=rs?rs[ns[ss]]:as;return rs===as?os:rs},defaultBreakpoints=[40,52,64].map(function(ts){return ts+"em"}),defaultTheme$1={space:[0,4,8,16,32,64,128,256,512],fontSizes:[12,14,16,20,24,32,48,64,72]},aliases={bg:"backgroundColor",m:"margin",mt:"marginTop",mr:"marginRight",mb:"marginBottom",ml:"marginLeft",mx:"marginX",my:"marginY",p:"padding",pt:"paddingTop",pr:"paddingRight",pb:"paddingBottom",pl:"paddingLeft",px:"paddingX",py:"paddingY"},multiples={marginX:["marginLeft","marginRight"],marginY:["marginTop","marginBottom"],paddingX:["paddingLeft","paddingRight"],paddingY:["paddingTop","paddingBottom"],size:["width","height"]},scales={color:"colors",backgroundColor:"colors",borderColor:"colors",margin:"space",marginTop:"space",marginRight:"space",marginBottom:"space",marginLeft:"space",marginX:"space",marginY:"space",padding:"space",paddingTop:"space",paddingRight:"space",paddingBottom:"space",paddingLeft:"space",paddingX:"space",paddingY:"space",top:"space",right:"space",bottom:"space",left:"space",gridGap:"space",gridColumnGap:"space",gridRowGap:"space",gap:"space",columnGap:"space",rowGap:"space",fontFamily:"fonts",fontSize:"fontSizes",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",border:"borders",borderTop:"borders",borderRight:"borders",borderBottom:"borders",borderLeft:"borders",borderWidth:"borderWidths",borderStyle:"borderStyles",borderRadius:"radii",borderTopRightRadius:"radii",borderTopLeftRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",borderTopWidth:"borderWidths",borderTopColor:"colors",borderTopStyle:"borderStyles",borderBottomWidth:"borderWidths",borderBottomColor:"colors",borderBottomStyle:"borderStyles",borderLeftWidth:"borderWidths",borderLeftColor:"colors",borderLeftStyle:"borderStyles",borderRightWidth:"borderWidths",borderRightColor:"colors",borderRightStyle:"borderStyles",outlineColor:"colors",boxShadow:"shadows",textShadow:"shadows",zIndex:"zIndices",width:"sizes",minWidth:"sizes",maxWidth:"sizes",height:"sizes",minHeight:"sizes",maxHeight:"sizes",flexBasis:"sizes",size:"sizes",fill:"colors",stroke:"colors"},positiveOrNegative=function(rs,ns){if(typeof ns!="number"||ns>=0)return get$1(rs,ns,ns);var os=Math.abs(ns),ss=get$1(rs,os,os);return typeof ss=="string"?"-"+ss:ss*-1},transforms=["margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","top","bottom","left","right"].reduce(function(ts,rs){var ns;return _extends({},ts,(ns={},ns[rs]=positiveOrNegative,ns))},{}),responsive=function(rs){return function(ns){var os={},ss=get$1(ns,"breakpoints",defaultBreakpoints),as=[null].concat(ss.map(function(ps){return"@media screen and (min-width: "+ps+")"}));for(var ls in rs){var cs=typeof rs[ls]=="function"?rs[ls](ns):rs[ls];if(cs!=null){if(!Array.isArray(cs)){os[ls]=cs;continue}for(var us=0;us<cs.slice(0,as.length).length;us++){var ds=as[us];if(!ds){os[ls]=cs[us];continue}os[ds]=os[ds]||{},cs[us]!=null&&(os[ds][ls]=cs[us])}}}return os}},css=function ts(rs){return function(ns){ns===void 0&&(ns={});var os=_extends({},defaultTheme$1,{},ns.theme||ns),ss={},as=typeof rs=="function"?rs(os):rs,ls=responsive(as)(os);for(var cs in ls){var us=ls[cs],ds=typeof us=="function"?us(os):us;if(cs==="variant"){var ps=ts(get$1(os,ds))(os);ss=_extends({},ss,{},ps);continue}if(ds&&typeof ds=="object"){ss[cs]=ts(ds)(os);continue}var fs=get$1(aliases,cs,cs),hs=get$1(scales,fs),ms=get$1(os,hs,get$1(os,fs,{})),gs=get$1(transforms,fs,get$1),vs=gs(ms,ds,ds);if(multiples[fs])for(var bs=multiples[fs],xs=0;xs<bs.length;xs++)ss[bs[xs]]=vs;else ss[fs]=vs}return ss}};const css$1=css;var variant=function(rs){var ns,os=rs.scale,ss=rs.prop,as=ss===void 0?"variant":ss,ls=rs.variants,cs=ls===void 0?{}:ls,us=rs.key,ds;Object.keys(cs).length?ds=function(ms,gs,vs){return css$1(get$2(gs,ms,null))(vs.theme)}:ds=function(ms,gs){return get$2(gs,ms,null)},ds.scale=os||us,ds.defaults=cs;var ps=(ns={},ns[as]=ds,ns),fs=createParser(ps);return fs};variant({key:"buttons"});variant({key:"textStyles",prop:"textStyle"});variant({key:"colorStyles",prop:"colors"});layout.width;layout.height;layout.minWidth;layout.minHeight;layout.maxWidth;layout.maxHeight;layout.size;layout.verticalAlign;layout.display;layout.overflow;layout.overflowX;layout.overflowY;color.opacity;typography.fontSize;typography.fontFamily;typography.fontWeight;typography.lineHeight;typography.textAlign;typography.fontStyle;typography.letterSpacing;flexbox.alignItems;flexbox.alignContent;flexbox.justifyItems;flexbox.justifyContent;flexbox.flexWrap;flexbox.flexDirection;flexbox.flex;flexbox.flexGrow;flexbox.flexShrink;flexbox.flexBasis;flexbox.justifySelf;flexbox.alignSelf;flexbox.order;grid.gridGap;grid.gridColumnGap;grid.gridRowGap;grid.gridColumn;grid.gridRow;grid.gridAutoFlow;grid.gridAutoColumns;grid.gridAutoRows;grid.gridTemplateColumns;grid.gridTemplateRows;grid.gridTemplateAreas;grid.gridArea;border.borderWidth;border.borderStyle;border.borderColor;border.borderTop;border.borderRight;border.borderBottom;border.borderLeft;border.borderRadius;background.backgroundImage;background.backgroundSize;background.backgroundPosition;background.backgroundRepeat;position.zIndex;position.top;position.right;position.bottom;position.left;var build$2={},AllHighestVideoBandwidthPolicy$1={},DefaultVideoStreamIdSet$1={};Object.defineProperty(DefaultVideoStreamIdSet$1,"__esModule",{value:!0});class DefaultVideoStreamIdSet{constructor(rs){this.ids=new Set(rs)}add(rs){this.ids.add(rs)}array(){return Array.from(this.ids.values()).sort((ns,os)=>ns-os)}contain(rs){return this.ids.has(rs)}forEach(rs){this.ids.forEach(rs)}empty(){return this.ids.size===0}size(){return this.ids.size}equal(rs){if(!rs)return this.ids.size===0;const ns=this.array(),os=rs.array();if(ns.length!==os.length)return!1;for(let ss=0;ss<ns.length;ss++)if(ns[ss]!==os[ss])return!1;return!0}clone(){return new DefaultVideoStreamIdSet(this.array())}remove(rs){this.ids.delete(rs)}toJSON(){return this.array()}truncate(rs){const ns=this.array();return new DefaultVideoStreamIdSet(ns.splice(0,rs))}}DefaultVideoStreamIdSet$1.default=DefaultVideoStreamIdSet;var __importDefault$1N=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(AllHighestVideoBandwidthPolicy$1,"__esModule",{value:!0});const DefaultVideoStreamIdSet_1$3=__importDefault$1N(DefaultVideoStreamIdSet$1);class AllHighestVideoBandwidthPolicy{constructor(rs){this.selfAttendeeId=rs,this.reset()}reset(){this.optimalReceiveSet=new DefaultVideoStreamIdSet_1$3.default,this.subscribedReceiveSet=new DefaultVideoStreamIdSet_1$3.default,this.videoSources=void 0}updateIndex(rs){this.videoIndex=rs,this.optimalReceiveSet=this.calculateOptimalReceiveSet(rs)}updateMetrics(rs){}wantsResubscribe(){return!this.subscribedReceiveSet.equal(this.optimalReceiveSet)}chooseSubscriptions(){return this.subscribedReceiveSet=this.optimalReceiveSet.clone(),this.subscribedReceiveSet.clone()}chooseRemoteVideoSources(rs){this.videoSources=rs,this.optimalReceiveSet=this.calculateOptimalReceiveSet(this.videoIndex).clone()}calculateOptimalReceiveSet(rs){const ns=new DefaultVideoStreamIdSet_1$3.default;if(!this.videoIndex||this.videoIndex.allStreams().empty())return ns;const os=rs.highestQualityStreamFromEachGroupExcludingSelf(this.selfAttendeeId),ss=this.videoSources?this.videoSources:this.videoIndex.allVideoSendingSourcesExcludingSelf(this.selfAttendeeId),as=this.videoIndex.remoteStreamDescriptions(),ls=new Map;for(const us of as)os.contain(us.streamId)&&ls.set(us.attendeeId,us);let cs=0;for(const us of ss){const ds=us.attendee.attendeeId;if(ls.has(ds)){const ps=ls.get(ds);if(cs+ps.maxBitrateKbps<=AllHighestVideoBandwidthPolicy.maxReceiveBitrateKbps)ns.add(ps.streamId),cs+=ps.maxBitrateKbps;else{console.warn("total bitrate "+(cs+ps.maxBitrateKbps)+" exceeds maximum limit (15000). Use chooseRemoteVideoSources to select a subset of participants to avoid this.");break}}}return ns}}AllHighestVideoBandwidthPolicy$1.default=AllHighestVideoBandwidthPolicy;AllHighestVideoBandwidthPolicy.maxReceiveBitrateKbps=15e3;var ApplicationMetadata$1={};Object.defineProperty(ApplicationMetadata$1,"__esModule",{value:!0});class ApplicationMetadata{constructor(rs,ns){this.appName=rs,this.appVersion=ns}static create(rs,ns){const os=/^[a-zA-Z0-9]+[a-zA-Z0-9_-]*[a-zA-Z0-9]+$/g;if(!rs||rs.length>32)throw new Error("appName should be a valid string and 1 to 32 characters in length");if(!os.test(rs))throw new Error("appName must satisfy ".concat(os," regular expression"));const ss=/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/gm;if(!ns||ns.length>32)throw new Error("appVersion should be a valid string and 1 to 32 characters in length");if(!ss.test(ns))throw new Error("appVersion must satisfy Semantic Versioning format");return new ApplicationMetadata(rs,ns)}}ApplicationMetadata$1.default=ApplicationMetadata;var AsyncScheduler$1={},TimeoutScheduler$1={};Object.defineProperty(TimeoutScheduler$1,"__esModule",{value:!0});class TimeoutScheduler{constructor(rs){this.timeoutMs=rs,this.timer=null}start(rs){this.stop(),this.timer=setTimeout(()=>{clearTimeout(this.timer),rs()},this.timeoutMs)}stop(){this.timer!==null&&(clearTimeout(this.timer),this.timer=null)}}TimeoutScheduler$1.default=TimeoutScheduler;var __importDefault$1M=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(AsyncScheduler$1,"__esModule",{value:!0});const TimeoutScheduler_1$3=__importDefault$1M(TimeoutScheduler$1);class AsyncScheduler extends TimeoutScheduler_1$3.default{constructor(){super(0)}static nextTick(rs){setTimeout(rs,0)}}AsyncScheduler$1.default=AsyncScheduler;var AttachMediaInputTask$1={},VideoLogEvent={};(function(ts){Object.defineProperty(ts,"__esModule",{value:!0}),ts.VideoLogEvent=void 0;var rs;(function(ns){ns[ns.InputAttached=0]="InputAttached",ns[ns.SendingFailed=1]="SendingFailed",ns[ns.SendingSuccess=2]="SendingSuccess"})(rs=ts.VideoLogEvent||(ts.VideoLogEvent={})),ts.default=rs})(VideoLogEvent);var BaseTask$1={},OnceTask$1={},LogLevel={};(function(ts){Object.defineProperty(ts,"__esModule",{value:!0}),ts.LogLevel=void 0;var rs;(function(ns){ns[ns.DEBUG=0]="DEBUG",ns[ns.INFO=1]="INFO",ns[ns.WARN=2]="WARN",ns[ns.ERROR=3]="ERROR",ns[ns.OFF=4]="OFF"})(rs=ts.LogLevel||(ts.LogLevel={})),ts.default=rs})(LogLevel);var __importDefault$1L=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(OnceTask$1,"__esModule",{value:!0});const LogLevel_1$8=__importDefault$1L(LogLevel),AsyncScheduler_1$8=__importDefault$1L(AsyncScheduler$1);class OnceTask{constructor(rs,ns,os){this.logger=rs,this.task=ns,this.dependencies=os,this.canceled=!1}name(){return"".concat(this.task.name()," (once)")}cancel(){if(!this.canceled){if(this.dependencies)for(const rs of this.dependencies)rs.cancel();this.logger.info("Canceling ".concat(this.name())),AsyncScheduler_1$8.default.nextTick(()=>this.task.cancel()),this.canceled=!0,this.cancelPromise&&AsyncScheduler_1$8.default.nextTick(()=>this.cancelPromise(new Error("canceling ".concat(this.name()))))}}logDependencies(){if(this.logger.getLogLevel()>LogLevel_1$8.default.INFO||!this.dependencies)return;const rs=this.dependencies.filter(ns=>ns).map(ns=>ns.name()).join(", ");this.logger.info("".concat(this.task.name()," waiting for dependencies: ").concat(rs))}run(){if(this.promise)return this.promise;const rs=this.dependencies?Promise.all(this.dependencies.map(ns=>ns==null?void 0:ns.run())):Promise.resolve();return this.logDependencies(),this.ongoing=rs.then(()=>this.task.run()),this.promise=new Promise((ns,os)=>{this.cancelPromise=os,this.ongoing.then(ns).catch(os)})}setParent(rs){this.task.setParent(rs)}}OnceTask$1.default=OnceTask;var TaskStatus$1={};Object.defineProperty(TaskStatus$1,"__esModule",{value:!0});var TaskStatus;(function(ts){ts.IDLE="IDLE",ts.RUNNING="RUNNING",ts.CANCELED="CANCELED",ts.FINISHED="FINISHED"})(TaskStatus||(TaskStatus={}));TaskStatus$1.default=TaskStatus;var __awaiter$17=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,rs,ns,os){function ss(as){return as instanceof ns?as:new ns(function(ls){ls(as)})}return new(ns||(ns=Promise))(function(as,ls){function cs(ps){try{ds(os.next(ps))}catch(fs){ls(fs)}}function us(ps){try{ds(os.throw(ps))}catch(fs){ls(fs)}}function ds(ps){ps.done?as(ps.value):ss(ps.value).then(cs,us)}ds((os=os.apply(ts,rs||[])).next())})},__importDefault$1K=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(BaseTask$1,"__esModule",{value:!0});const OnceTask_1=__importDefault$1K(OnceTask$1),TaskStatus_1$1=__importDefault$1K(TaskStatus$1);class BaseTask{constructor(rs){this.logger=rs,this.taskName="BaseTask",this.parentTask=null,this.status=TaskStatus_1$1.default.IDLE,this.run=this.baseRun.bind(this,this.run),this.cancel=this.baseCancel.bind(this,this.cancel)}once(...rs){return new OnceTask_1.default(this.logger,this,rs)}cancel(){}name(){return this.parentTask?"".concat(this.parentTask.name(),"/").concat(this.taskName):this.taskName}setParent(rs){this.parentTask=rs}getStatus(){return this.status}logAndThrow(rs){throw this.logger.info(rs),new Error(rs)}baseRun(rs){return __awaiter$17(this,void 0,void 0,function*(){try{const ns=Date.now();switch(this.logger.info("running task ".concat(this.name())),this.status){case TaskStatus_1$1.default.RUNNING:this.logAndThrow("".concat(this.name()," is already running"));case TaskStatus_1$1.default.CANCELED:this.logAndThrow("".concat(this.name()," was canceled before running"));case TaskStatus_1$1.default.FINISHED:this.logAndThrow("".concat(this.name()," was already finished"))}this.status=TaskStatus_1$1.default.RUNNING,yield rs.call(this),this.logger.info("".concat(this.name()," took ").concat(Math.round(Date.now()-ns)," ms"))}catch(ns){throw ns}finally{this.status!==TaskStatus_1$1.default.CANCELED&&(this.status=TaskStatus_1$1.default.FINISHED)}})}baseCancel(rs){if(this.status===TaskStatus_1$1.default.CANCELED||this.status===TaskStatus_1$1.default.FINISHED){this.logger.info("Not canceling ".concat(this.name(),": state is ").concat(this.status));return}this.logger.info("canceling task ".concat(this.name())),this.status=TaskStatus_1$1.default.CANCELED,rs.call(this)}}BaseTask$1.default=BaseTask;var __awaiter$16=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,rs,ns,os){function ss(as){return as instanceof ns?as:new ns(function(ls){ls(as)})}return new(ns||(ns=Promise))(function(as,ls){function cs(ps){try{ds(os.next(ps))}catch(fs){ls(fs)}}function us(ps){try{ds(os.throw(ps))}catch(fs){ls(fs)}}function ds(ps){ps.done?as(ps.value):ss(ps.value).then(cs,us)}ds((os=os.apply(ts,rs||[])).next())})},__importDefault$1J=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(AttachMediaInputTask$1,"__esModule",{value:!0});const VideoLogEvent_1$1=__importDefault$1J(VideoLogEvent),BaseTask_1$o=__importDefault$1J(BaseTask$1);class AttachMediaInputTask extends BaseTask_1$o.default{constructor(rs){super(rs.logger),this.context=rs,this.taskName="AttachMediaInputTask"}run(){return __awaiter$16(this,void 0,void 0,function*(){const rs=this.context.transceiverController;rs.setPeer(this.context.peer),rs.setupLocalTransceivers();const ns=this.context.activeAudioInput;if(ns){const ss=ns.getAudioTracks();this.context.logger.info("attaching audio track to peer connection"),yield rs.setAudioInput(ss.length?ss[0]:null)}else yield rs.setAudioInput(null),this.context.logger.info("no audio track");this.setAudioCodecPreferences();const os=this.context.activeVideoInput;if(os){const ss=os.getVideoTracks(),as=ss.length?ss[0]:null;if(this.context.logger.info("attaching video track to peer connection"),yield rs.setVideoInput(as),this.context.enableSimulcast&&this.context.videoUplinkBandwidthPolicy){const ls=this.context.videoUplinkBandwidthPolicy.chooseEncodingParameters();rs.setEncodingParameters(ls)}as&&this.context.statsCollector.logVideoEvent(VideoLogEvent_1$1.default.InputAttached,this.context.videoDeviceInformation)}else yield rs.setVideoInput(null),this.context.logger.info("no video track");this.context.videoSubscriptions=rs.updateVideoTransceivers(this.context.videoStreamIndex,this.context.videosToReceive),this.context.videoStreamIndex.subscribeFrameSent()})}setAudioCodecPreferences(){const rs=window.RTCRtpTransceiver&&"setCodecPreferences"in window.RTCRtpTransceiver.prototype,ns=this.context.audioProfile.hasRedundancyEnabled();if(!rs){this.context.logger.warn("Setting codec preferences not supported");return}const os=this.context.transceiverController.localAudioTransceiver(),{codecs:ss}=RTCRtpSender.getCapabilities("audio");this.context.logger.debug("Available audio codecs ".concat(JSON.stringify(ss,null,4)));const as=ss.findIndex(ls=>ls.mimeType==="audio/red");if(!os){this.context.logger.error("audio transceiver is null");return}if(as>=0){const ls=ss[as];ss.splice(as,1),ns?(ss.unshift(ls),this.context.logger.info("audio/red set as preferred codec")):this.context.logger.info("audio/red removed from preferred codec"),os.setCodecPreferences(ss);return}this.context.logger.info("audio/red codec not supported")}}AttachMediaInputTask$1.default=AttachMediaInputTask;var Attendee$1={};Object.defineProperty(Attendee$1,"__esModule",{value:!0});class Attendee{}Attendee$1.default=Attendee;var AudioLogEvent={};(function(ts){Object.defineProperty(ts,"__esModule",{value:!0}),ts.AudioLogEvent=void 0;var rs;(function(ns){ns[ns.DeviceChanged=0]="DeviceChanged",ns[ns.MutedLocal=1]="MutedLocal",ns[ns.UnmutedLocal=2]="UnmutedLocal",ns[ns.Connected=3]="Connected",ns[ns.ConnectFailed=4]="ConnectFailed",ns[ns.RedmicStartLoss=5]="RedmicStartLoss",ns[ns.RedmicEndLoss=6]="RedmicEndLoss"})(rs=ts.AudioLogEvent||(ts.AudioLogEvent={})),ts.default=rs})(AudioLogEvent);var AudioProfile$1={},DefaultBrowserBehavior$1={},__spreadArray=globalThis&&globalThis.__spreadArray||function(ts,rs,ns){if(ns||arguments.length===2)for(var os=0,ss=rs.length,as;os<ss;os++)(as||!(os in rs))&&(as||(as=Array.prototype.slice.call(rs,0,os)),as[os]=rs[os]);return ts.concat(as||Array.prototype.slice.call(rs))},BrowserInfo=function(){function ts(rs,ns,os){this.name=rs,this.version=ns,this.os=os,this.type="browser"}return ts}(),NodeInfo=function(){function ts(rs){this.version=rs,this.type="node",this.name="node",this.os=process.platform}return ts}(),SearchBotDeviceInfo=function(){function ts(rs,ns,os,ss){this.name=rs,this.version=ns,this.os=os,this.bot=ss,this.type="bot-device"}return ts}(),BotInfo=function(){function ts(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return ts}(),ReactNativeInfo=function(){function ts(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return ts}(),SEARCHBOX_UA_REGEX=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,SEARCHBOT_OS_REGEX=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,REQUIRED_VERSION_PARTS=3,userAgentRules=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",SEARCHBOX_UA_REGEX]],operatingSystemRules=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function detect(ts){return ts?parseUserAgent(ts):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new ReactNativeInfo:typeof navigator<"u"?parseUserAgent(navigator.userAgent):getNodeVersion()}function matchUserAgent(ts){return ts!==""&&userAgentRules.reduce(function(rs,ns){var os=ns[0],ss=ns[1];if(rs)return rs;var as=ss.exec(ts);return!!as&&[os,as]},!1)}function browserName(ts){var rs=matchUserAgent(ts);return rs?rs[0]:null}function parseUserAgent(ts){var rs=matchUserAgent(ts);if(!rs)return null;var ns=rs[0],os=rs[1];if(ns==="searchbot")return new BotInfo;var ss=os[1]&&os[1].split(".").join("_").split("_").slice(0,3);ss?ss.length<REQUIRED_VERSION_PARTS&&(ss=__spreadArray(__spreadArray([],ss,!0),createVersionParts(REQUIRED_VERSION_PARTS-ss.length),!0)):ss=[];var as=ss.join("."),ls=detectOS(ts),cs=SEARCHBOT_OS_REGEX.exec(ts);return cs&&cs[1]?new SearchBotDeviceInfo(ns,as,ls,cs[1]):new BrowserInfo(ns,as,ls)}function detectOS(ts){for(var rs=0,ns=operatingSystemRules.length;rs<ns;rs++){var os=operatingSystemRules[rs],ss=os[0],as=os[1],ls=as.exec(ts);if(ls)return ss}return null}function getNodeVersion(){var ts=typeof process<"u"&&process.version;return ts?new NodeInfo(process.version.slice(1)):null}function createVersionParts(ts){for(var rs=[],ns=0;ns<ts;ns++)rs.push("0");return rs}const es=Object.freeze(Object.defineProperty({__proto__:null,BotInfo,BrowserInfo,NodeInfo,ReactNativeInfo,SearchBotDeviceInfo,browserName,detect,detectOS,getNodeVersion,parseUserAgent},Symbol.toStringTag,{value:"Module"})),require$$0$3=getAugmentedNamespace(es);var uaParser={exports:{}};(function(ts,rs){(function(ns,os){var ss="1.0.38",as="",ls="?",cs="function",us="undefined",ds="object",ps="string",fs="major",hs="model",ms="name",gs="type",vs="vendor",bs="version",xs="architecture",ys="console",Ss="mobile",Cs="tablet",$s="smarttv",Es="wearable",ws="embedded",Ts=500,Is="Amazon",Rs="Apple",As="ASUS",ks="BlackBerry",Ms="Browser",Os="Chrome",Ds="Edge",Fs="Firefox",js="Google",Ps="Huawei",Ls="LG",Ns="Microsoft",Gs="Motorola",Us="Opera",Hs="Samsung",zs="Sharp",qs="Sony",Vs="Xiaomi",Ks="Zebra",Ws="Facebook",Pl="Chromium OS",Tl="Mac OS",El=function($a,Dl){var Ol={};for(var Ll in $a)Dl[Ll]&&Dl[Ll].length%2===0?Ol[Ll]=Dl[Ll].concat($a[Ll]):Ol[Ll]=$a[Ll];return Ol},$l=function($a){for(var Dl={},Ol=0;Ol<$a.length;Ol++)Dl[$a[Ol].toUpperCase()]=$a[Ol];return Dl},Sl=function($a,Dl){return typeof $a===ps?Ml(Dl).indexOf(Ml($a))!==-1:!1},Ml=function($a){return $a.toLowerCase()},wl=function($a){return typeof $a===ps?$a.replace(/[^\d\.]/g,as).split(".")[0]:os},Rl=function($a,Dl){if(typeof $a===ps)return $a=$a.replace(/^\s\s*/,as),typeof Dl===us?$a:$a.substring(0,Ts)},yl=function($a,Dl){for(var Ol=0,Ll,Vl,Xl,Ql,Kl,Gl;Ol<Dl.length&&!Kl;){var nu=Dl[Ol],Bl=Dl[Ol+1];for(Ll=Vl=0;Ll<nu.length&&!Kl&&nu[Ll];)if(Kl=nu[Ll++].exec($a),Kl)for(Xl=0;Xl<Bl.length;Xl++)Gl=Kl[++Vl],Ql=Bl[Xl],typeof Ql===ds&&Ql.length>0?Ql.length===2?typeof Ql[1]==cs?this[Ql[0]]=Ql[1].call(this,Gl):this[Ql[0]]=Ql[1]:Ql.length===3?typeof Ql[1]===cs&&!(Ql[1].exec&&Ql[1].test)?this[Ql[0]]=Gl?Ql[1].call(this,Gl,Ql[2]):os:this[Ql[0]]=Gl?Gl.replace(Ql[1],Ql[2]):os:Ql.length===4&&(this[Ql[0]]=Gl?Ql[3].call(this,Gl.replace(Ql[1],Ql[2])):os):this[Ql]=Gl||os;Ol+=2}},Bs=function($a,Dl){for(var Ol in Dl)if(typeof Dl[Ol]===ds&&Dl[Ol].length>0){for(var Ll=0;Ll<Dl[Ol].length;Ll++)if(Sl(Dl[Ol][Ll],$a))return Ol===ls?os:Ol}else if(Sl(Dl[Ol],$a))return Ol===ls?os:Ol;return $a},Zs={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},Ys={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},_l={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[bs,[ms,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[bs,[ms,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[ms,bs],[/opios[\/ ]+([\w\.]+)/i],[bs,[ms,Us+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[bs,[ms,Us+" GX"]],[/\bopr\/([\w\.]+)/i],[bs,[ms,Us]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[bs,[ms,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[ms,bs],[/\bddg\/([\w\.]+)/i],[bs,[ms,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[bs,[ms,"UC"+Ms]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[bs,[ms,"WeChat"]],[/konqueror\/([\w\.]+)/i],[bs,[ms,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[bs,[ms,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[bs,[ms,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[bs,[ms,"Smart Lenovo "+Ms]],[/(avast|avg)\/([\w\.]+)/i],[[ms,/(.+)/,"$1 Secure "+Ms],bs],[/\bfocus\/([\w\.]+)/i],[bs,[ms,Fs+" Focus"]],[/\bopt\/([\w\.]+)/i],[bs,[ms,Us+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[bs,[ms,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[bs,[ms,"Dolphin"]],[/coast\/([\w\.]+)/i],[bs,[ms,Us+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[bs,[ms,"MIUI "+Ms]],[/fxios\/([-\w\.]+)/i],[bs,[ms,Fs]],[/\bqihu|(qi?ho?o?|360)browser/i],[[ms,"360 "+Ms]],[/(oculus|sailfish|huawei|vivo)browser\/([\w\.]+)/i],[[ms,/(.+)/,"$1 "+Ms],bs],[/samsungbrowser\/([\w\.]+)/i],[bs,[ms,Hs+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[ms,/_/g," "],bs],[/metasr[\/ ]?([\d\.]+)/i],[bs,[ms,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[ms,"Sogou Mobile"],bs],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[ms,bs],[/(lbbrowser)/i,/\[(linkedin)app\]/i],[ms],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[ms,Ws],bs],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[ms,bs],[/\bgsa\/([\w\.]+) .*safari\//i],[bs,[ms,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[bs,[ms,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[bs,[ms,Os+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[ms,Os+" WebView"],bs],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[bs,[ms,"Android "+Ms]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[ms,bs],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[bs,[ms,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[bs,ms],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[ms,[bs,Bs,Zs]],[/(webkit|khtml)\/([\w\.]+)/i],[ms,bs],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[ms,"Netscape"],bs],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[bs,[ms,Fs+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[ms,bs],[/(cobalt)\/([\w\.]+)/i],[ms,[bs,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[xs,"amd64"]],[/(ia32(?=;))/i],[[xs,Ml]],[/((?:i[346]|x)86)[;\)]/i],[[xs,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[xs,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[xs,"armhf"]],[/windows (ce|mobile); ppc;/i],[[xs,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[xs,/ower/,as,Ml]],[/(sun4\w)[;\)]/i],[[xs,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[xs,Ml]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[hs,[vs,Hs],[gs,Cs]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[hs,[vs,Hs],[gs,Ss]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[hs,[vs,Rs],[gs,Ss]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[hs,[vs,Rs],[gs,Cs]],[/(macintosh);/i],[hs,[vs,Rs]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[hs,[vs,zs],[gs,Ss]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[hs,[vs,Ps],[gs,Cs]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[hs,[vs,Ps],[gs,Ss]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[hs,/_/g," "],[vs,Vs],[gs,Ss]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[hs,/_/g," "],[vs,Vs],[gs,Cs]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[hs,[vs,"OPPO"],[gs,Ss]],[/\b(opd2\d{3}a?) bui/i],[hs,[vs,"OPPO"],[gs,Cs]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[hs,[vs,"Vivo"],[gs,Ss]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[hs,[vs,"Realme"],[gs,Ss]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[hs,[vs,Gs],[gs,Ss]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[hs,[vs,Gs],[gs,Cs]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[hs,[vs,Ls],[gs,Cs]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[hs,[vs,Ls],[gs,Ss]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[hs,[vs,"Lenovo"],[gs,Cs]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[hs,/_/g," "],[vs,"Nokia"],[gs,Ss]],[/(pixel c)\b/i],[hs,[vs,js],[gs,Cs]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[hs,[vs,js],[gs,Ss]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[hs,[vs,qs],[gs,Ss]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[hs,"Xperia Tablet"],[vs,qs],[gs,Cs]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[hs,[vs,"OnePlus"],[gs,Ss]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[hs,[vs,Is],[gs,Cs]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[hs,/(.+)/g,"Fire Phone $1"],[vs,Is],[gs,Ss]],[/(playbook);[-\w\),; ]+(rim)/i],[hs,vs,[gs,Cs]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[hs,[vs,ks],[gs,Ss]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[hs,[vs,As],[gs,Cs]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[hs,[vs,As],[gs,Ss]],[/(nexus 9)/i],[hs,[vs,"HTC"],[gs,Cs]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[vs,[hs,/_/g," "],[gs,Ss]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[hs,[vs,"Acer"],[gs,Cs]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[hs,[vs,"Meizu"],[gs,Ss]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[hs,[vs,"Ulefone"],[gs,Ss]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[vs,hs,[gs,Ss]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[vs,hs,[gs,Cs]],[/(surface duo)/i],[hs,[vs,Ns],[gs,Cs]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[hs,[vs,"Fairphone"],[gs,Ss]],[/(u304aa)/i],[hs,[vs,"AT&T"],[gs,Ss]],[/\bsie-(\w*)/i],[hs,[vs,"Siemens"],[gs,Ss]],[/\b(rct\w+) b/i],[hs,[vs,"RCA"],[gs,Cs]],[/\b(venue[\d ]{2,7}) b/i],[hs,[vs,"Dell"],[gs,Cs]],[/\b(q(?:mv|ta)\w+) b/i],[hs,[vs,"Verizon"],[gs,Cs]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[hs,[vs,"Barnes & Noble"],[gs,Cs]],[/\b(tm\d{3}\w+) b/i],[hs,[vs,"NuVision"],[gs,Cs]],[/\b(k88) b/i],[hs,[vs,"ZTE"],[gs,Cs]],[/\b(nx\d{3}j) b/i],[hs,[vs,"ZTE"],[gs,Ss]],[/\b(gen\d{3}) b.+49h/i],[hs,[vs,"Swiss"],[gs,Ss]],[/\b(zur\d{3}) b/i],[hs,[vs,"Swiss"],[gs,Cs]],[/\b((zeki)?tb.*\b) b/i],[hs,[vs,"Zeki"],[gs,Cs]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[vs,"Dragon Touch"],hs,[gs,Cs]],[/\b(ns-?\w{0,9}) b/i],[hs,[vs,"Insignia"],[gs,Cs]],[/\b((nxa|next)-?\w{0,9}) b/i],[hs,[vs,"NextBook"],[gs,Cs]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[vs,"Voice"],hs,[gs,Ss]],[/\b(lvtel\-)?(v1[12]) b/i],[[vs,"LvTel"],hs,[gs,Ss]],[/\b(ph-1) /i],[hs,[vs,"Essential"],[gs,Ss]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[hs,[vs,"Envizen"],[gs,Cs]],[/\b(trio[-\w\. ]+) b/i],[hs,[vs,"MachSpeed"],[gs,Cs]],[/\btu_(1491) b/i],[hs,[vs,"Rotor"],[gs,Cs]],[/(shield[\w ]+) b/i],[hs,[vs,"Nvidia"],[gs,Cs]],[/(sprint) (\w+)/i],[vs,hs,[gs,Ss]],[/(kin\.[onetw]{3})/i],[[hs,/\./g," "],[vs,Ns],[gs,Ss]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[hs,[vs,Ks],[gs,Cs]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[hs,[vs,Ks],[gs,Ss]],[/smart-tv.+(samsung)/i],[vs,[gs,$s]],[/hbbtv.+maple;(\d+)/i],[[hs,/^/,"SmartTV"],[vs,Hs],[gs,$s]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[vs,Ls],[gs,$s]],[/(apple) ?tv/i],[vs,[hs,Rs+" TV"],[gs,$s]],[/crkey/i],[[hs,Os+"cast"],[vs,js],[gs,$s]],[/droid.+aft(\w+)( bui|\))/i],[hs,[vs,Is],[gs,$s]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[hs,[vs,zs],[gs,$s]],[/(bravia[\w ]+)( bui|\))/i],[hs,[vs,qs],[gs,$s]],[/(mitv-\w{5}) bui/i],[hs,[vs,Vs],[gs,$s]],[/Hbbtv.*(technisat) (.*);/i],[vs,hs,[gs,$s]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[vs,Rl],[hs,Rl],[gs,$s]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[gs,$s]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[vs,hs,[gs,ys]],[/droid.+; (shield) bui/i],[hs,[vs,"Nvidia"],[gs,ys]],[/(playstation [345portablevi]+)/i],[hs,[vs,qs],[gs,ys]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[hs,[vs,Ns],[gs,ys]],[/((pebble))app/i],[vs,hs,[gs,Es]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[hs,[vs,Rs],[gs,Es]],[/droid.+; (glass) \d/i],[hs,[vs,js],[gs,Es]],[/droid.+; (wt63?0{2,3})\)/i],[hs,[vs,Ks],[gs,Es]],[/(quest( \d| pro)?)/i],[hs,[vs,Ws],[gs,Es]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[vs,[gs,ws]],[/(aeobc)\b/i],[hs,[vs,Is],[gs,ws]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[hs,[gs,Ss]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[hs,[gs,Cs]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[gs,Cs]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[gs,Ss]],[/(android[-\w\. ]{0,9});.+buil/i],[hs,[vs,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[bs,[ms,Ds+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[bs,[ms,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[ms,bs],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[bs,ms]],os:[[/microsoft (windows) (vista|xp)/i],[ms,bs],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[ms,[bs,Bs,Ys]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[bs,Bs,Ys],[ms,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[bs,/_/g,"."],[ms,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[ms,Tl],[bs,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[bs,ms],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[ms,bs],[/\(bb(10);/i],[bs,[ms,ks]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[bs,[ms,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[bs,[ms,Fs+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[bs,[ms,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[bs,[ms,"watchOS"]],[/crkey\/([\d\.]+)/i],[bs,[ms,Os+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[ms,Pl],bs],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[ms,bs],[/(sunos) ?([\w\.\d]*)/i],[[ms,"Solaris"],bs],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[ms,bs]]},Cl=function($a,Dl){if(typeof $a===ds&&(Dl=$a,$a=os),!(this instanceof Cl))return new Cl($a,Dl).getResult();var Ol=typeof ns!==us&&ns.navigator?ns.navigator:os,Ll=$a||(Ol&&Ol.userAgent?Ol.userAgent:as),Vl=Ol&&Ol.userAgentData?Ol.userAgentData:os,Xl=Dl?El(_l,Dl):_l,Ql=Ol&&Ol.userAgent==Ll;return this.getBrowser=function(){var Kl={};return Kl[ms]=os,Kl[bs]=os,yl.call(Kl,Ll,Xl.browser),Kl[fs]=wl(Kl[bs]),Ql&&Ol&&Ol.brave&&typeof Ol.brave.isBrave==cs&&(Kl[ms]="Brave"),Kl},this.getCPU=function(){var Kl={};return Kl[xs]=os,yl.call(Kl,Ll,Xl.cpu),Kl},this.getDevice=function(){var Kl={};return Kl[vs]=os,Kl[hs]=os,Kl[gs]=os,yl.call(Kl,Ll,Xl.device),Ql&&!Kl[gs]&&Vl&&Vl.mobile&&(Kl[gs]=Ss),Ql&&Kl[hs]=="Macintosh"&&Ol&&typeof Ol.standalone!==us&&Ol.maxTouchPoints&&Ol.maxTouchPoints>2&&(Kl[hs]="iPad",Kl[gs]=Cs),Kl},this.getEngine=function(){var Kl={};return Kl[ms]=os,Kl[bs]=os,yl.call(Kl,Ll,Xl.engine),Kl},this.getOS=function(){var Kl={};return Kl[ms]=os,Kl[bs]=os,yl.call(Kl,Ll,Xl.os),Ql&&!Kl[ms]&&Vl&&Vl.platform&&Vl.platform!="Unknown"&&(Kl[ms]=Vl.platform.replace(/chrome os/i,Pl).replace(/macos/i,Tl)),Kl},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return Ll},this.setUA=function(Kl){return Ll=typeof Kl===ps&&Kl.length>Ts?Rl(Kl,Ts):Kl,this},this.setUA(Ll),this};Cl.VERSION=ss,Cl.BROWSER=$l([ms,bs,fs]),Cl.CPU=$l([xs]),Cl.DEVICE=$l([hs,vs,gs,ys,Ss,$s,Cs,Es,ws]),Cl.ENGINE=Cl.OS=$l([ms,bs]),ts.exports&&(rs=ts.exports=Cl),rs.UAParser=Cl;var Xs=typeof ns!==us&&(ns.jQuery||ns.Zepto);if(Xs&&!Xs.ua){var xl=new Cl;Xs.ua=xl.getResult(),Xs.ua.get=function(){return xl.getUA()},Xs.ua.set=function($a){xl.setUA($a);var Dl=xl.getResult();for(var Ol in Dl)Xs.ua[Ol]=Dl[Ol]}}})(typeof window=="object"?window:commonjsGlobal$1)})(uaParser,uaParser.exports);var uaParserExports=uaParser.exports,__awaiter$15=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,rs,ns,os){function ss(as){return as instanceof ns?as:new ns(function(ls){ls(as)})}return new(ns||(ns=Promise))(function(as,ls){function cs(ps){try{ds(os.next(ps))}catch(fs){ls(fs)}}function us(ps){try{ds(os.throw(ps))}catch(fs){ls(fs)}}function ds(ps){ps.done?as(ps.value):ss(ps.value).then(cs,us)}ds((os=os.apply(ts,rs||[])).next())})};Object.defineProperty(DefaultBrowserBehavior$1,"__esModule",{value:!0});const detect_browser_1=require$$0$3,ua_parser_js_1$2=uaParserExports;class DefaultBrowserBehavior{constructor(){this.FALLBACK_BROWSER={type:"browser",name:"unknown",version:"unknown",os:"unknown"},this.browser=detect_browser_1.detect()||this.FALLBACK_BROWSER,this.uaParserResult=navigator&&navigator.userAgent?new ua_parser_js_1$2.UAParser(navigator.userAgent).getResult():null,this.browserSupport={chrome:78,"edge-chromium":79,electron:7,firefox:75,ios:13,safari:13,opera:66,samsung:12,crios:86,fxios:23,"ios-webview":605,"chromium-webview":92},this.browserName={chrome:"Google Chrome","edge-chromium":"Microsoft Edge",electron:"Electron",firefox:"Mozilla Firefox",ios:"Safari iOS",safari:"Safari",opera:"Opera",samsung:"Samsung Internet",crios:"Chrome iOS",fxios:"Firefox iOS","ios-webview":"WKWebView iOS","chromium-webview":"Chrome WebView"},this.chromeLike=["chrome","edge-chromium","chromium-webview","opera","samsung"],this.webkitBrowsers=["crios","fxios","safari","ios","ios-webview","edge-ios"]}version(){return this.browser.version}majorVersion(){return this.version()!==null?parseInt(this.version().split(".")[0]):-1}osMajorVersion(){return parseInt(this.uaParserResult.os.version.split(".")[0])}engine(){return this.uaParserResult.engine.name}engineMajorVersion(){return parseInt(this.uaParserResult.engine.version.split(".")[0])}name(){return this.browser.name}hasChromiumWebRTC(){for(const rs of this.chromeLike)if(rs===this.browser.name)return!0;return!1}hasWebKitWebRTC(){for(const rs of this.webkitBrowsers)if(rs===this.browser.name)return!0;return!1}hasFirefoxWebRTC(){return this.isFirefox()}requiresPlaybackLatencyHintForAudioContext(){return navigator.userAgent.indexOf("Windows")!==-1}supportsCanvasCapturedStreamPlayback(){return!this.isIOSSafari()&&!this.isIOSChrome()&&!this.isIOSFirefox()&&!this.isIOSEdge()||this.isIOSSafari()&&this.majorVersion()>=DefaultBrowserBehavior.MIN_IOS_SUPPORT_CANVAS_STREAM_PLAYBACK||this.majorVersion()>=DefaultBrowserBehavior.MIN_IOS_NON_SAFARI_SUPPORT_CANVAS_STREAM_PLAYBACK}supportsBackgroundFilter(){return!(this.name()==="safari"&&this.majorVersion()===15||!this.supportsCanvasCapturedStreamPlayback())}supportsVideoLayersAllocationRtpHeaderExtension(){return this.hasChromiumWebRTC()}supportsDependencyDescriptorRtpHeaderExtension(){return this.hasChromiumWebRTC()}supportsScalableVideoCoding(){return this.hasChromiumWebRTC()&&this.engine()==="Blink"&&this.engineMajorVersion()>=111}supportsAudioRedundancy(){return this.hasChromiumWebRTC()?this.engineMajorVersion()>=107:!this.hasFirefoxWebRTC()}requiresResolutionAlignment(rs,ns){return this.isAndroid()&&this.isPixel3()?[Math.ceil(rs/64)*64,Math.ceil(ns/64)*64]:[rs,ns]}requiresCheckForSdpConnectionAttributes(){return!this.isIOSSafari()&&!this.isIOSChrome()&&!this.isIOSFirefox()}requiresIceCandidateGatheringTimeoutWorkaround(){return this.hasChromiumWebRTC()}requiresBundlePolicy(){return"max-bundle"}requiresNoExactMediaStreamConstraints(){return this.isSamsungInternet()}requiresGroupIdMediaStreamConstraints(){return this.isSamsungInternet()}getDisplayMediaAudioCaptureSupport(){return this.isChrome()||this.isEdge()}doesNotSupportMediaDeviceLabels(){return this.browser.name==="chromium-webview"}isSupported(){return!(!this.browserSupport[this.browser.name]||this.majorVersion()<this.browserSupport[this.browser.name]||this.browser.name==="firefox"&&this.isAndroid())}isSimulcastSupported(){return this.hasChromiumWebRTC()}supportDownlinkBandwidthEstimation(){return!this.isFirefox()}supportString(){if(this.isAndroid())return"".concat(this.browserName.chrome," ").concat(this.browserSupport.chrome,"+, ").concat(this.browserName.samsung," ").concat(this.browserSupport.samsung,"+");const rs=[];for(const ns in this.browserSupport)rs.push("".concat(this.browserName[ns]," ").concat(this.browserSupport[ns],"+"));return rs.join(", ")}supportedVideoCodecs(){return __awaiter$15(this,void 0,void 0,function*(){const rs=new RTCPeerConnection;return rs.addTransceiver("video",{direction:"inactive",streams:[]}),(yield rs.createOffer({offerToReceiveVideo:!0})).sdp.split("\r\n").filter(ns=>ns.includes("a=rtpmap:")).map(ns=>ns.replace(/.* /,"").replace(/\/.*/,"")).filter((ns,os,ss)=>ss.indexOf(ns)===os).filter(ns=>ns!=="rtx"&&ns!=="red"&&ns!=="ulpfec")})}supportsSetSinkId(){return"setSinkId"in HTMLAudioElement.prototype}disableResolutionScaleDown(){return this.isAndroid()}disable480pResolutionScaleDown(){return/( Chrome\/98\.)/i.test(navigator.userAgent)&&this.browser.os.startsWith("Windows")}requiresDisablingH264Encoding(){return(this.isIOSSafari()||this.isIOSChrome()||this.isIOSFirefox())&&(this.version()==="15.1.0"||/( OS 15_1)/i.test(navigator.userAgent))}requiresVideoPlayWorkaround(){return this.isSafari()}isVideoFxSupportedBrowser(){return this.supportsBackgroundFilter()}isIOSSafari(){return this.browser.name==="ios"||this.browser.name==="ios-webview"||this.browser.name==="safari"&&/( Mac )/i.test(navigator.userAgent)&&navigator.maxTouchPoints>1}isSafari(){return this.browser.name==="safari"||this.isIOSSafari()}isFirefox(){return this.browser.name==="firefox"}isIOSFirefox(){return this.browser.name==="fxios"}isIOSChrome(){return this.browser.name==="crios"}isChrome(){return this.browser.name==="chrome"}isEdge(){return this.browser.name==="edge-chromium"}isIOSEdge(){return this.browser.name==="edge-ios"}isSamsungInternet(){return this.browser.name==="samsung"}isAndroid(){return/(android)/i.test(navigator.userAgent)}isPixel3(){return/( pixel 3)/i.test(navigator.userAgent)}}DefaultBrowserBehavior$1.default=DefaultBrowserBehavior;DefaultBrowserBehavior.MIN_IOS_SUPPORT_CANVAS_STREAM_PLAYBACK=16;DefaultBrowserBehavior.MIN_IOS_NON_SAFARI_SUPPORT_CANVAS_STREAM_PLAYBACK=106;var __importDefault$1I=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(AudioProfile$1,"__esModule",{value:!0});const DefaultBrowserBehavior_1$c=__importDefault$1I(DefaultBrowserBehavior$1);class AudioProfile{constructor(rs=null,ns=!0){this.audioBitrateBps=rs,this.enableAudioRedundancy=new DefaultBrowserBehavior_1$c.default().supportsAudioRedundancy()&&ns}static fullbandSpeechMono(rs=!0){return new AudioProfile(4e4,rs)}static fullbandMusicMono(rs=!0){return new AudioProfile(64e3,rs)}static fullbandMusicStereo(rs=!0){return new AudioProfile(128e3,rs)}isStereo(){return this.audioBitrateBps===128e3}hasRedundancyEnabled(){return this.enableAudioRedundancy}}AudioProfile$1.default=AudioProfile;var AudioVideoControllerState={};(function(ts){Object.defineProperty(ts,"__esModule",{value:!0}),ts.DEFAULT_VIDEO_SUBSCRIPTION_LIMIT=void 0,ts.DEFAULT_VIDEO_SUBSCRIPTION_LIMIT=25;class rs{constructor(){this.logger=null,this.browserBehavior=null,this.meetingSessionConfiguration=null,this.signalingClient=null,this.peer=null,this.previousSdpOffer=null,this.sdpOfferInit=null,this.audioVideoController=null,this.realtimeController=null,this.videoTileController=null,this.mediaStreamBroker=null,this.activeAudioInput=void 0,this.activeVideoInput=void 0,this.audioMixController=null,this.transceiverController=null,this.indexFrame=null,this.iceCandidates=[],this.iceCandidateHandler=null,this.iceGatheringStateEventHandler=null,this.sdpAnswer=null,this.turnCredentials=null,this.reconnectController=null,this.removableObservers=[],this.audioProfile=null,this.videoStreamIndex=null,this.videoDownlinkBandwidthPolicy=null,this.videoUplinkBandwidthPolicy=null,this.lastKnownVideoAvailability=null,this.videoCaptureAndEncodeParameter=null,this.videosToReceive=null,this.lastVideosToReceive=null,this.videoSubscriptions=null,this.lastVideoSubscriptionConfiguration=new Map,this.videoSubscriptionLimit=ts.DEFAULT_VIDEO_SUBSCRIPTION_LIMIT,this.previousSdpAnswerAsString="",this.serverSupportsCompression=!1,this.videoSendCodecPreferences=[],this.currentVideoSendCodec=void 0,this.meetingSupportedVideoSendCodecPreferences=void 0,this.prioritizedSendVideoCodecCapabilities=[],this.degradedVideoSendCodecs=[],this.videosPaused=null,this.videoDuplexMode=null,this.volumeIndicatorAdapter=null,this.statsCollector=null,this.connectionMonitor=null,this.videoInputAttachedTimestampMs=0,this.audioDeviceInformation={},this.videoDeviceInformation={},this.enableSimulcast=!1,this.enableSVC=!1,this.eventController=null,this.signalingOpenDurationMs=null,this.iceGatheringDurationMs=null,this.startAudioVideoTimestamp=null,this.attendeePresenceDurationMs=null,this.meetingStartDurationMs=null,this.poorConnectionCount=0,this.maxVideoTileCount=0,this.startTimeMs=null}resetConnectionSpecificState(){this.peer&&this.peer.close(),this.peer=null,this.previousSdpOffer=null,this.sdpOfferInit=null,this.transceiverController!==void 0&&this.transceiverController.reset(),this.indexFrame=null,this.iceCandidates=[],this.iceCandidateHandler=null,this.sdpAnswer=null,this.turnCredentials=null,this.videoDownlinkBandwidthPolicy.reset(),this.videoUplinkBandwidthPolicy.reset&&this.videoUplinkBandwidthPolicy.reset(),this.lastVideosToReceive=null,this.lastVideoSubscriptionConfiguration=new Map,this.videoSubscriptions=null,this.videoSubscriptionLimit=ts.DEFAULT_VIDEO_SUBSCRIPTION_LIMIT,this.previousSdpAnswerAsString="",this.serverSupportsCompression=!1,this.currentVideoSendCodec=void 0,this.meetingSupportedVideoSendCodecPreferences=void 0,this.videoDuplexMode=null}}ts.default=rs})(AudioVideoControllerState);var BackgroundBlurStrength={};Object.defineProperty(BackgroundBlurStrength,"__esModule",{value:!0});BackgroundBlurStrength.BlurStrengthMapper=void 0;const BlurStrength={LOW:7,MEDIUM:15,HIGH:30};class BlurStrengthMapper{static getBlurAmount(rs,ns){if(rs<=0)throw new Error("invalid value for blur strength: ".concat(rs));return Math.round(rs*ns.height/this.BLUR_STRENGTH_DIVISOR)}}BackgroundBlurStrength.BlurStrengthMapper=BlurStrengthMapper;BlurStrengthMapper.BLUR_STRENGTH_DIVISOR=540;BackgroundBlurStrength.default=BlurStrength;var BackgroundBlurVideoFrameProcessor$1={},BackgroundFilterVideoFrameProcessor$1={},loader={},fetch$1={};Object.defineProperty(fetch$1,"__esModule",{value:!0});fetch$1.isValidRevisionID=fetch$1.isValidAssetGroup=fetch$1.resolveURL=fetch$1.addQueryParams=fetch$1.withQueryString=fetch$1.withRequestHeaders=fetch$1.fetchWithBehavior=void 0;function fetchWithBehavior(ts,rs,ns){if(!ns)return fetch(ts,rs);const os=withQueryString(ts,ns),ss=withRequestHeaders(rs,ns);return fetch(os,ss)}fetch$1.fetchWithBehavior=fetchWithBehavior;function withRequestHeaders(ts,rs){return rs!=null&&rs.headers?ts?Object.assign(Object.assign({},ts),{headers:Object.assign(Object.assign({},ts.headers||{}),rs.headers)}):{headers:rs.headers}:ts}fetch$1.withRequestHeaders=withRequestHeaders;function withQueryString(ts,rs){if(!(rs!=null&&rs.escapedQueryString))return ts;const ns=ts.lastIndexOf("?")!==-1;return"".concat(ts).concat(ns?"&":"?").concat(rs.escapedQueryString)}fetch$1.withQueryString=withQueryString;function addQueryParams(ts,rs){const ns=Object.keys(rs);if(!ns.length)return ts;const os=new URLSearchParams(ts==null?void 0:ts.escapedQueryString);for(const ss of ns)os.append(ss,rs[ss]);return Object.assign(Object.assign({},ts),{escapedQueryString:os.toString()})}fetch$1.addQueryParams=addQueryParams;const HEAD_OPTIONS={method:"HEAD",mode:"cors",credentials:"omit",redirect:"follow",referrerPolicy:"origin"};function resolveURL(ts,rs){return fetchWithBehavior(ts,HEAD_OPTIONS,rs).then(ns=>ns.redirected?ns.url:ts)}fetch$1.resolveURL=resolveURL;function isValidAssetGroup(ts){return!!ts&&/^[-.a-zA-Z0-9]+$/.test(ts)}fetch$1.isValidAssetGroup=isValidAssetGroup;function isValidRevisionID(ts){return!!ts&&/^[123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ]{22}$/.test(ts)}fetch$1.isValidRevisionID=isValidRevisionID;Object.defineProperty(loader,"__esModule",{value:!0});loader.loadWorker=void 0;const fetch_js_1$1=fetch$1,WORKER_FETCH_OPTIONS={method:"GET",mode:"cors",credentials:"omit",redirect:"follow",referrerPolicy:"no-referrer"},loadWorker=(ts,rs,ns,os)=>{os==null||os.debug("Loading ".concat(rs," worker from ").concat(ts,"."));let ss=!1;try{ss=self.origin===new URL(ts).origin}catch(as){os==null||os.error("Could not compare origins.",as)}if(ss){const as=fetch_js_1$1.withQueryString(ts,ns);return Promise.resolve(new Worker(as,{name:rs}))}return fetch_js_1$1.fetchWithBehavior(ts,WORKER_FETCH_OPTIONS,ns).then(as=>{if(as.ok)return as.blob().then(ls=>new Worker(window.URL.createObjectURL(ls)));throw new Error("Fetch failed.")})};loader.loadWorker=loadWorker;var support={};(function(ts){var rs=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(vs,bs,xs,ys){function Ss(Cs){return Cs instanceof xs?Cs:new xs(function($s){$s(Cs)})}return new(xs||(xs=Promise))(function(Cs,$s){function Es(Is){try{Ts(ys.next(Is))}catch(Rs){$s(Rs)}}function ws(Is){try{Ts(ys.throw(Is))}catch(Rs){$s(Rs)}}function Ts(Is){Is.done?Cs(Is.value):Ss(Is.value).then(Es,ws)}Ts((ys=ys.apply(vs,bs||[])).next())})};Object.defineProperty(ts,"__esModule",{value:!0}),ts.isOldChrome=ts.supportsWASMStreaming=ts.supportsSharedArrayBuffer=ts.supportsWASM=ts.supportsAudioWorklet=ts.supportsWorker=ts.supportsVoiceFocusWorker=ts.supportsWASMPostMessage=ts.isSafari=void 0;const ns=loader,os=(vs=globalThis)=>!!vs.navigator.userAgent.match(/Chrom(?:e|ium)\/([0-9]+)/),ss=(vs=globalThis)=>{const bs=vs.navigator.userAgent,xs=bs.match(/Safari\//),ys=bs.match(/Chrom(?:e|ium)\//);return!!(xs&&!ys)};ts.isSafari=ss;const as=(vs=globalThis)=>ts.isSafari(vs)?!1:os(vs)?(ms(vs)||0)<95:!0;ts.supportsWASMPostMessage=as;const ls=(vs=globalThis,bs,xs)=>rs(void 0,void 0,void 0,function*(){if(!ts.supportsWorker(vs,xs))return!1;const ys="".concat(bs.paths.workers,"worker-v1.js");try{const Ss=yield ns.loadWorker(ys,"VoiceFocusTestWorker",bs,xs);try{Ss.terminate()}catch(Cs){xs==null||xs.debug("Failed to terminate worker.",Cs)}return!0}catch(Ss){return xs==null||xs.info("Failed to fetch and instantiate test worker",Ss),!1}});ts.supportsVoiceFocusWorker=ls;const cs=(vs=globalThis,bs)=>{try{return!!vs.Worker}catch(xs){return bs==null||bs.info("Does not support Worker",xs),!1}};ts.supportsWorker=cs;const us=(vs=globalThis,bs)=>{try{return!!vs.AudioWorklet&&!!vs.AudioWorkletNode}catch(xs){return bs==null||bs.info("Does not support Audio Worklet",xs),!1}};ts.supportsAudioWorklet=us;const ds=(vs=globalThis,bs)=>{try{return!!vs.WebAssembly&&(!!vs.WebAssembly.compile||!!vs.WebAssembly.compileStreaming)}catch(xs){return bs==null||bs.info("Does not support WASM",xs),!1}};ts.supportsWASM=ds;const ps=(vs=globalThis,bs=globalThis,xs)=>{try{return!!vs.SharedArrayBuffer&&(!!bs.chrome||!!vs.crossOriginIsolated)}catch{return xs==null||xs.info("Does not support SharedArrayBuffer."),!1}};ts.supportsSharedArrayBuffer=ps;const fs=(vs=globalThis,bs)=>{var xs;try{return!!(!((xs=vs.WebAssembly)===null||xs===void 0)&&xs.compileStreaming)}catch(ys){return bs==null||bs.info("Does not support WASM streaming compilation",ys),!1}};ts.supportsWASMStreaming=fs;const hs=90,ms=(vs=globalThis)=>{try{if(!vs.chrome)return}catch{}const bs=vs.navigator.userAgent.match(/Chrom(?:e|ium)\/([0-9]+)/);if(bs)return parseInt(bs[1],10)},gs=(vs=globalThis,bs)=>{const xs=ms(vs);return xs&&xs<hs?(bs==null||bs.debug("Chrome ".concat(xs," has incomplete SIMD support.")),!0):!1};ts.isOldChrome=gs})(support);var ModelSpecBuilder$1={};Object.defineProperty(ModelSpecBuilder$1,"__esModule",{value:!0});class ModelSpecBuilder{constructor(){this.path=null,this.input=null,this.output=null}static builder(){return new ModelSpecBuilder}withDefaultModel(){return this.withSelfieSegmentationDefaults()}withSelfieSegmentationDefaults(){const rs={height:144,width:256,range:[0,1],channels:3},ns={height:144,width:256,range:[0,1],channels:1},os="https://static.sdkassets.chime.aws/bgblur/models/selfie_segmentation_landscape.tflite";return this.path=os,this.input=rs,this.output=ns,this}withPath(rs){return this.path=rs,this}withInput(rs){return this.input=rs,this}withOutput(rs){return this.output=rs,this}validate(){if(!this.path)throw new Error("model spec path is not set");if(!this.input)throw new Error("model spec input is not set");if(!this.output)throw new Error("model spec output is not set")}build(){return this.validate(),{path:this.path,input:this.input,output:this.output}}}ModelSpecBuilder$1.default=ModelSpecBuilder;var Versioning$1={},version$2={};Object.defineProperty(version$2,"__esModule",{value:!0});version$2.default={hash:"d7eee1f",raw:"v3.23.0",semverString:"3.23.0"};var __importDefault$1H=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(Versioning$1,"__esModule",{value:!0});const DefaultBrowserBehavior_1$b=__importDefault$1H(DefaultBrowserBehavior$1),version_1=__importDefault$1H(version$2);class Versioning{static get sdkName(){return"amazon-chime-sdk-js"}static get sdkVersion(){return version_1.default.semverString}static get sdkVersionSemVer(){var rs,ns,os,ss;const as=version_1.default.semverString.match(/^(?<major>[0-9]+)\.(?<minor>[0-9]+)((?:\.(?<patch>[0-9]+))(?:-(?<preRelease>[a-zA-Z]+(\.[0-9])*))?)?/);return{major:(rs=as==null?void 0:as.groups)===null||rs===void 0?void 0:rs.major,minor:(ns=as==null?void 0:as.groups)===null||ns===void 0?void 0:ns.minor,patch:(os=as==null?void 0:as.groups)===null||os===void 0?void 0:os.patch,preRelease:(ss=as==null?void 0:as.groups)===null||ss===void 0?void 0:ss.preRelease}}static get buildSHA(){return version_1.default.hash.substr(1)}static get sdkUserAgentLowResolution(){const rs=new DefaultBrowserBehavior_1$b.default;return"".concat(rs.name(),"-").concat(rs.majorVersion())}static urlWithVersion(rs){const ns=new URL(rs);return ns.searchParams.append(Versioning.X_AMZN_VERSION,Versioning.sdkVersion),ns.searchParams.append(Versioning.X_AMZN_USER_AGENT,Versioning.sdkUserAgentLowResolution),ns.toString()}}Versioning$1.default=Versioning;Versioning.X_AMZN_VERSION="X-Amzn-Version";Versioning.X_AMZN_USER_AGENT="X-Amzn-User-Agent";var __awaiter$14=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,rs,ns,os){function ss(as){return as instanceof ns?as:new ns(function(ls){ls(as)})}return new(ns||(ns=Promise))(function(as,ls){function cs(ps){try{ds(os.next(ps))}catch(fs){ls(fs)}}function us(ps){try{ds(os.throw(ps))}catch(fs){ls(fs)}}function ds(ps){ps.done?as(ps.value):ss(ps.value).then(cs,us)}ds((os=os.apply(ts,rs||[])).next())})},__importDefault$1G=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(BackgroundFilterVideoFrameProcessor$1,"__esModule",{value:!0});const loader_1$2=loader,support_1$1=support,ModelSpecBuilder_1=__importDefault$1G(ModelSpecBuilder$1),DefaultBrowserBehavior_1$a=__importDefault$1G(DefaultBrowserBehavior$1),Versioning_1$8=__importDefault$1G(Versioning$1),CREATE_DEFAULT_MODEL_SPEC=()=>ModelSpecBuilder_1.default.builder().withSelfieSegmentationDefaults().build(),DEFAULT_CDN$1="https://static.sdkassets.chime.aws",DEFAULT_PATHS$1={worker:"".concat(DEFAULT_CDN$1,"/bgblur/workers/worker.js"),wasm:"".concat(DEFAULT_CDN$1,"/bgblur/wasm/_cwt-wasm.wasm"),simd:"".concat(DEFAULT_CDN$1,"/bgblur/wasm/_cwt-wasm-simd.wasm")};class BackgroundFilterVideoFrameProcessor{static defaultAssetSpec(){const rs=Versioning_1$8.default.sdkVersionSemVer;return{assetGroup:"sdk-".concat(rs.major,".").concat(rs.minor)}}static createUrlWithParams(rs,ns){const os=new URL(rs),ss=Object.keys(ns);for(const as of ss)ns[as]!==void 0&&os.searchParams.set(as,ns[as]);return os.toString()}static resolveSpec(rs){const{paths:ns=DEFAULT_PATHS$1,model:os=CREATE_DEFAULT_MODEL_SPEC(),assetGroup:ss=this.defaultAssetSpec().assetGroup,revisionID:as=this.defaultAssetSpec().revisionID}=rs||{},ls={assetGroup:ss,revisionID:as,sdk:encodeURIComponent(Versioning_1$8.default.sdkVersion),ua:encodeURIComponent(Versioning_1$8.default.sdkUserAgentLowResolution)};return ns.worker=this.createUrlWithParams(ns.worker,ls),ns.wasm=this.createUrlWithParams(ns.wasm,ls),ns.simd=this.createUrlWithParams(ns.simd,ls),os.path=this.createUrlWithParams(os.path,ls),{paths:ns,model:os,assetGroup:ss,revisionID:as}}static resolveOptions(rs){rs.reportingPeriodMillis||(rs.reportingPeriodMillis=1e3);const ns=30;return rs.filterCPUUtilization?(rs.filterCPUUtilization<0||rs.filterCPUUtilization>100)&&(rs.logger.warn("filterCPUUtilization must be set to a range between 0 and 100 percent. Falling back to default of ".concat(ns," percent")),rs.filterCPUUtilization=ns):rs.filterCPUUtilization=ns,rs}static isSupported(rs,ns){const{logger:os}=ns;return typeof globalThis>"u"?(os.info("Browser does not have globalThis."),Promise.resolve(!1)):new DefaultBrowserBehavior_1$a.default().supportsBackgroundFilter()?support_1$1.supportsWASM(globalThis,os)?this.supportsBackgroundFilter(globalThis,rs,os):(os.info("Browser does not support WASM."),Promise.resolve(!1)):(os.info("Browser is not supported."),Promise.resolve(!1))}static supportsBackgroundFilter(rs=globalThis,ns,os){return __awaiter$14(this,void 0,void 0,function*(){if(!support_1$1.supportsWorker(rs,os))return os.info("Browser does not support web workers."),!1;const ss=ns.paths.worker;try{const as=yield loader_1$2.loadWorker(ss,"BackgroundFilterWorker",{},null);try{as.terminate()}catch(ls){os.info("Failed to terminate worker. ".concat(ls.message))}return!0}catch(as){return os.info("Failed to fetch and instantiate test worker ".concat(as.message)),!1}})}}BackgroundFilterVideoFrameProcessor$1.default=BackgroundFilterVideoFrameProcessor;var ConsoleLogger$1={},__importDefault$1F=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(ConsoleLogger$1,"__esModule",{value:!0});const LogLevel_1$7=__importDefault$1F(LogLevel);class ConsoleLogger{constructor(rs,ns=LogLevel_1$7.default.WARN){this.name=rs,this.level=ns}info(rs){this.log(LogLevel_1$7.default.INFO,rs)}warn(rs){this.log(LogLevel_1$7.default.WARN,rs)}error(rs){this.log(LogLevel_1$7.default.ERROR,rs)}debug(rs){LogLevel_1$7.default.DEBUG<this.level||(typeof rs=="string"?this.log(LogLevel_1$7.default.DEBUG,rs):rs?this.log(LogLevel_1$7.default.DEBUG,rs()):this.log(LogLevel_1$7.default.DEBUG,""+rs))}setLogLevel(rs){this.level=rs}getLogLevel(){return this.level}log(rs,ns){if(rs<this.level)return;const os=new Date().toISOString(),ss="".concat(os," [").concat(LogLevel_1$7.default[rs],"] ").concat(this.name," - ").concat(ns);switch(rs){case LogLevel_1$7.default.ERROR:console.error(ss);break;case LogLevel_1$7.default.WARN:console.warn(ss);break;case LogLevel_1$7.default.DEBUG:console.debug(ss.replace(/\\r\\n/g,"\n"));break;case LogLevel_1$7.default.INFO:console.info(ss);break}}}ConsoleLogger$1.default=ConsoleLogger;var NoOpVideoFrameProcessor$1={},__awaiter$13=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,rs,ns,os){function ss(as){return as instanceof ns?as:new ns(function(ls){ls(as)})}return new(ns||(ns=Promise))(function(as,ls){function cs(ps){try{ds(os.next(ps))}catch(fs){ls(fs)}}function us(ps){try{ds(os.throw(ps))}catch(fs){ls(fs)}}function ds(ps){ps.done?as(ps.value):ss(ps.value).then(cs,us)}ds((os=os.apply(ts,rs||[])).next())})};Object.defineProperty(NoOpVideoFrameProcessor$1,"__esModule",{value:!0});class NoOpVideoFrameProcessor{process(rs){return __awaiter$13(this,void 0,void 0,function*(){return rs})}destroy(){return __awaiter$13(this,void 0,void 0,function*(){})}}NoOpVideoFrameProcessor$1.default=NoOpVideoFrameProcessor;var BackgroundBlurProcessorBuiltIn$1={},BackgroundBlurProcessorProvided$1={},BackgroundFilterProcessor$1={},CanvasVideoFrameBuffer$1={},__awaiter$12=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,rs,ns,os){function ss(as){return as instanceof ns?as:new ns(function(ls){ls(as)})}return new(ns||(ns=Promise))(function(as,ls){function cs(ps){try{ds(os.next(ps))}catch(fs){ls(fs)}}function us(ps){try{ds(os.throw(ps))}catch(fs){ls(fs)}}function ds(ps){ps.done?as(ps.value):ss(ps.value).then(cs,us)}ds((os=os.apply(ts,rs||[])).next())})};Object.defineProperty(CanvasVideoFrameBuffer$1,"__esModule",{value:!0});class CanvasVideoFrameBuffer{constructor(rs){this.canvas=rs,this.destroyed=!1}destroy(){this.canvas=null,this.destroyed=!0}asCanvasImageSource(){return __awaiter$12(this,void 0,void 0,function*(){return this.destroyed?Promise.reject("canvas buffer is destroyed"):Promise.resolve(this.canvas)})}asCanvasElement(){return this.canvas}}CanvasVideoFrameBuffer$1.default=CanvasVideoFrameBuffer;var BackgroundFilterFrameCounter$1={};Object.defineProperty(BackgroundFilterFrameCounter$1,"__esModule",{value:!0});const FILTER_DURATION_FACTOR=.8;class BackgroundFilterFrameCounter{constructor(rs,ns,os,ss){this.delegate=rs,this.reportingPeriodMillis=ns,this.filterCPUUtilization=os,this.logger=ss,this._processingFilter=!0,this.lastReportedEventTimestamp=0,this.lastFilterCompleteTimestamp=0,this.filterTotalMillis=0,this.filterCount=0,this.framerate=0,this.filterDurationNotifyMillis=0,this.setSegmentationDuration()}reportEvent(rs){const ns=rs-this.lastReportedEventTimestamp;if(ns>=this.reportingPeriodMillis){const os=this.filterCount,ss=this.filterTotalMillis;if(this.filterCount=0,this.filterTotalMillis=0,this.lastReportedEventTimestamp=rs,this.framerate===0||os===0)return;const as=Math.round(ss/os),ls=Math.round(this.framerate*(ns/1e3))-os,cs=Math.round(100*ss/ns);as>=this.filterDurationNotifyMillis&&this.delegate.filterFrameDurationHigh({framesDropped:ls,avgFilterDurationMillis:as,framerate:this.framerate,periodMillis:ns}),cs>=this.filterCPUUtilization&&this.delegate.filterCPUUtilizationHigh({cpuUtilization:cs,filterMillis:ss,periodMillis:ns})}}setSegmentationDuration(){this.filterDurationNotifyMillis=Math.round(1e3/this.framerate*FILTER_DURATION_FACTOR)}frameReceived(rs){rs!==this.framerate&&(this.framerate=rs,this.logger.info("frame counter setting frame rate to ".concat(this.framerate)),this.setSegmentationDuration());const ns=Date.now();this.reportEvent(ns)}filterSubmitted(){this._processingFilter=!0,this.lastFilterCompleteTimestamp=Date.now()}filterComplete(){this.filterTotalMillis+=Date.now()-this.lastFilterCompleteTimestamp,this._processingFilter=!1,this.filterCount++}get processingSegment(){return this._processingFilter}}BackgroundFilterFrameCounter$1.default=BackgroundFilterFrameCounter;var __awaiter$11=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,rs,ns,os){function ss(as){return as instanceof ns?as:new ns(function(ls){ls(as)})}return new(ns||(ns=Promise))(function(as,ls){function cs(ps){try{ds(os.next(ps))}catch(fs){ls(fs)}}function us(ps){try{ds(os.throw(ps))}catch(fs){ls(fs)}}function ds(ps){ps.done?as(ps.value):ss(ps.value).then(cs,us)}ds((os=os.apply(ts,rs||[])).next())})},__importDefault$1E=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(BackgroundFilterProcessor$1,"__esModule",{value:!0});BackgroundFilterProcessor$1.BackgroundFilterMonitor=void 0;const loader_1$1=loader,CanvasVideoFrameBuffer_1$2=__importDefault$1E(CanvasVideoFrameBuffer$1),BackgroundFilterFrameCounter_1=__importDefault$1E(BackgroundFilterFrameCounter$1);class DeferredObservable{constructor(){this.value=void 0,this.resolve=null}whenNext(){return this.promise||(this.promise=new Promise(rs=>this.resolve=rs)),this.promise}next(rs){this.value=rs,this.resolve(rs),delete this.promise}}class BackgroundFilterProcessor{constructor(rs,ns,os,ss,as){this.targetCanvas=document.createElement("canvas"),this.canvasCtx=this.targetCanvas.getContext("2d"),this.canvasVideoFrameBuffer=new CanvasVideoFrameBuffer_1$2.default(this.targetCanvas),this.mask$=new DeferredObservable,this.sourceWidth=0,this.sourceHeight=0,this.frameNumber=0,this.videoFramesPerFilterUpdate=1,this.initWorkerPromise=BackgroundFilterProcessor.createWorkerPromise(),this.loadModelPromise=BackgroundFilterProcessor.createWorkerPromise(),this.modelInitialized=!1,this.destroyed=!1,this.filterType=rs,this.validateSpec(ns),this.validateOptions(os),this.spec=ns,this.logger=os.logger,this.delegate=ss,this.initCPUMonitor(os),this.eventController=as}static createWorkerPromise(){const rs={resolve:null,reject:null,promise:null};return rs.promise=new Promise((ns,os)=>{rs.resolve=ns,rs.reject=os}),rs}validateSpec(rs){if(!rs)throw new Error("processor has null spec");if(!rs.model)throw new Error("processor spec has null model");if(!rs.paths)throw new Error("processor spec has null paths")}validateOptions(rs){if(!rs)throw new Error("processor has null options");if(!rs.logger)throw new Error("processor has null options - logger");if(!rs.reportingPeriodMillis)throw new Error("processor has null options - reportingPeriodMillis");if(!rs.filterCPUUtilization)throw new Error("processor has null options - filterCPUUtilization")}initCPUMonitor(rs){this.videoFramesPerFilterUpdate=1,this.frameCounter=new BackgroundFilterFrameCounter_1.default(this.delegate,rs.reportingPeriodMillis,rs.filterCPUUtilization,this.logger),this.cpuMonitor=new BackgroundFilterMonitor(5e3,{reduceCPUUtilization:()=>{this.updateVideoFramesPerFilterUpdate(Math.min(this.videoFramesPerFilterUpdate+1,10))},increaseCPUUtilization:()=>{this.updateVideoFramesPerFilterUpdate(Math.max(this.videoFramesPerFilterUpdate-1,1))}}),this.delegate.addObserver(this.cpuMonitor)}stringify(rs){return JSON.stringify(rs,null,2)}handleInitialize(rs){if(this.logger.info("received initialize message: ".concat(this.stringify(rs))),!rs.payload){this.logger.error("failed to initialize module"),this.initWorkerPromise.reject(new Error("failed to initialize the module"));return}const ns=this.spec.model;this.worker.postMessage({msg:"loadModel",payload:{modelUrl:ns.path,inputHeight:ns.input.height,inputWidth:ns.input.width,inputChannels:4,modelRangeMin:ns.input.range[0],modelRangeMax:ns.input.range[1],blurPixels:0}}),this.initWorkerPromise.resolve({})}handleLoadModel(rs){if(this.logger.info("received load model message: ".concat(this.stringify(rs))),rs.payload!==2){this.logger.error("failed to load model! status: "+rs.payload),this.loadModelPromise.reject(new Error("failed to load model! status: "+rs.payload));return}this.modelInitialized=!0,this.loadModelPromise.resolve({})}handlePredict(rs){this.mask$.next(rs.payload.output)}handleWorkerEvent(rs){const ns=rs.data;switch(ns.msg){case"initialize":this.handleInitialize(ns);break;case"loadModel":this.handleLoadModel(ns);break;case"predict":this.handlePredict(ns);break;default:this.logger.info("unexpected event msg: ".concat(this.stringify(ns)));break}}loadAssets(){return __awaiter$11(this,void 0,void 0,function*(){this.logger.info("start initializing the processor");try{this.worker=yield loader_1$1.loadWorker(this.spec.paths.worker,"BackgroundFilterWorker",{},null),this.worker.addEventListener("message",rs=>this.handleWorkerEvent(rs)),this.worker.postMessage({msg:"initialize",payload:{wasmPath:this.spec.paths.wasm,simdPath:this.spec.paths.simd}}),yield this.initWorkerPromise.promise,this.logger.info("successfully initialized the ".concat(this.filterType," worker")),yield this.loadModelPromise.promise,this.logger.info("successfully loaded ".concat(this.filterType," worker segmentation model"))}catch(rs){throw new Error("could not initialize the ".concat(this.filterType," video frame processor due to '").concat(rs.message,"'"))}this.logger.info("successfully initialized the ".concat(this.filterType," processor"))})}process(rs){return __awaiter$11(this,void 0,void 0,function*(){if(this.destroyed)return rs;this.frameCounter.frameReceived(rs[0].framerate),this.cpuMonitor.frameReceived();const ns=rs[0].asCanvasElement();if(!ns)return rs;if(!this.modelInitialized)return rs[0]=this.canvasVideoFrameBuffer,rs;const os=ns.width,ss=ns.height;if(os===0||ss===0)return rs;this.sourceWidth===0&&(this.sourceWidth=os,this.sourceHeight=ss,this.targetCanvas.width=this.sourceWidth,this.targetCanvas.height=this.sourceHeight,this.logger.info("".concat(this.filterType," source width: ").concat(this.sourceWidth)),this.logger.info("".concat(this.filterType," source height: ").concat(this.sourceHeight)),this.initOnFirstExecution()),(this.sourceWidth!==os||this.sourceHeight!==ss)&&(this.sourceWidth=os,this.sourceHeight=ss,this.targetCanvas.width=this.sourceWidth,this.targetCanvas.height=this.sourceHeight);try{this.frameCounter.filterSubmitted();let as=this.mask$.value;const ls=this.spec.model.input.width/ns.width,cs=this.spec.model.input.height/ns.height;this.scaledCanvas===void 0&&(this.scaledCanvas=document.createElement("canvas"),this.scaledCanvas.width=this.spec.model.input.width,this.scaledCanvas.height=this.spec.model.input.height);const us=this.scaledCanvas.getContext("2d");us.save(),us.scale(ls,cs),us.drawImage(ns,0,0),us.restore();const ds=us.getImageData(0,0,this.scaledCanvas.width,this.scaledCanvas.height);if(this.frameNumber%this.videoFramesPerFilterUpdate===0){const ps=this.mask$.whenNext();this.worker.postMessage({msg:"predict",payload:ds},[ds.data.buffer]),as=yield ps}this.destroyed||this.drawImageWithMask(ns,as)}catch(as){return this.logger.error("could not process ".concat(this.filterType," frame buffer due to ").concat(as)),rs}finally{this.frameCounter.filterComplete(),this.frameNumber++}return rs[0]=this.canvasVideoFrameBuffer,rs})}updateVideoFramesPerFilterUpdate(rs){rs!==this.videoFramesPerFilterUpdate&&(this.videoFramesPerFilterUpdate=rs,this.logger.info("Adjusting filter rate to compensate for CPU utilization. "+"Filter rate is ".concat(this.videoFramesPerFilterUpdate," video frames per filter.")))}destroy(){var rs,ns,os,ss;return __awaiter$11(this,void 0,void 0,function*(){this.destroyed=!0,this.delegate.removeObserver(this.cpuMonitor),this.canvasVideoFrameBuffer.destroy(),(rs=this.worker)===null||rs===void 0||rs.postMessage({msg:"destroy"}),(ns=this.worker)===null||ns===void 0||ns.postMessage({msg:"stop"}),(os=this.targetCanvas)===null||os===void 0||os.remove(),this.targetCanvas=void 0,(ss=this.scaledCanvas)===null||ss===void 0||ss.remove(),this.scaledCanvas=void 0,this.logger.info("".concat(this.filterType," frame process destroyed"))})}}BackgroundFilterProcessor$1.default=BackgroundFilterProcessor;class BackgroundFilterMonitor{constructor(rs,ns){this.monitoringPeriodMillis=rs,this.observer=ns,this.lastCPUChangeTimestamp=0}filterCPUUtilizationHigh(){const rs=Date.now();rs-this.lastCPUChangeTimestamp>=this.monitoringPeriodMillis&&(this.lastCPUChangeTimestamp=rs,this.observer.reduceCPUUtilization())}frameReceived(){const rs=Date.now();rs-this.lastCPUChangeTimestamp>=this.monitoringPeriodMillis*2&&(this.lastCPUChangeTimestamp=rs,this.observer.increaseCPUUtilization())}}BackgroundFilterProcessor$1.BackgroundFilterMonitor=BackgroundFilterMonitor;var BackgroundBlurVideoFrameProcessorDelegate$1={},BackgroundFilterVideoFrameProcessorDelegate$1={};Object.defineProperty(BackgroundFilterVideoFrameProcessorDelegate$1,"__esModule",{value:!0});class BackgroundFilterVideoFrameProcessorDelegate{constructor(){this.observers=new Set}addObserver(rs){this.observers.add(rs)}removeObserver(rs){this.observers.delete(rs)}filterFrameDurationHigh(rs){var ns;for(const os of this.observers)(ns=os.filterFrameDurationHigh)===null||ns===void 0||ns.call(os,rs)}filterCPUUtilizationHigh(rs){var ns;for(const os of this.observers)(ns=os.filterCPUUtilizationHigh)===null||ns===void 0||ns.call(os,rs)}}BackgroundFilterVideoFrameProcessorDelegate$1.default=BackgroundFilterVideoFrameProcessorDelegate;var __importDefault$1D=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(BackgroundBlurVideoFrameProcessorDelegate$1,"__esModule",{value:!0});const BackgroundFilterVideoFrameProcessorDelegate_1$1=__importDefault$1D(BackgroundFilterVideoFrameProcessorDelegate$1);class BackgroundBlurVideoFrameProcessorDelegate extends BackgroundFilterVideoFrameProcessorDelegate_1$1.default{}BackgroundBlurVideoFrameProcessorDelegate$1.default=BackgroundBlurVideoFrameProcessorDelegate;var __awaiter$10=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,rs,ns,os){function ss(as){return as instanceof ns?as:new ns(function(ls){ls(as)})}return new(ns||(ns=Promise))(function(as,ls){function cs(ps){try{ds(os.next(ps))}catch(fs){ls(fs)}}function us(ps){try{ds(os.throw(ps))}catch(fs){ls(fs)}}function ds(ps){ps.done?as(ps.value):ss(ps.value).then(cs,us)}ds((os=os.apply(ts,rs||[])).next())})},__importDefault$1C=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(BackgroundBlurProcessorProvided$1,"__esModule",{value:!0});const BackgroundFilterProcessor_1$1=__importDefault$1C(BackgroundFilterProcessor$1),BackgroundBlurStrength_1$2=BackgroundBlurStrength,BackgroundBlurVideoFrameProcessorDelegate_1=__importDefault$1C(BackgroundBlurVideoFrameProcessorDelegate$1);class BackgroundBlurProcessorProvided extends BackgroundFilterProcessor_1$1.default{constructor(rs,ns){super("background blur",rs,ns,new BackgroundBlurVideoFrameProcessorDelegate_1.default),this.blurAmount=0,this.setBlurStrength(ns.blurStrength),this.logger.info("BackgroundBlur processor successfully created"),this.logger.info("BackgroundBlur spec: ".concat(this.stringify(this.spec))),this.logger.info("BackgroundBlur options: ".concat(this.stringify(ns)))}validateOptions(rs){if(super.validateOptions(rs),!rs.blurStrength)throw new Error("processor has null options - blurStrength")}initOnFirstExecution(){this.setBlurPixels()}drawImageWithMask(rs,ns){ns||(ns=new ImageData(this.spec.model.input.width,this.spec.model.input.height)),this.scaledCanvas.getContext("2d").putImageData(ns,0,0);const{canvasCtx:ss,targetCanvas:as}=this,{width:ls,height:cs}=as;ss.save(),ss.clearRect(0,0,ls,cs),ss.drawImage(this.scaledCanvas,0,0,ls,cs),ss.globalCompositeOperation="source-in",ss.drawImage(rs,0,0,ls,cs),ss.globalCompositeOperation="destination-over",ss.filter="blur(".concat(this.blurAmount,"px)"),ss.drawImage(rs,0,0,as.width,as.height),ss.restore()}setBlurStrength(rs){this._blurStrength=rs,this.logger.info("blur strength set to ".concat(this._blurStrength)),this.setBlurPixels()}setBlurPixels(){this.blurAmount=BackgroundBlurStrength_1$2.BlurStrengthMapper.getBlurAmount(this._blurStrength,{height:this.sourceHeight}),this.logger.info("background blur amount set to ".concat(this.blurAmount))}addObserver(rs){this.delegate.addObserver(rs)}removeObserver(rs){this.delegate.removeObserver(rs)}static isSupported(){return __awaiter$10(this,void 0,void 0,function*(){const rs=document.createElement("canvas"),ns=rs.getContext("2d").filter!==void 0;return rs.remove(),ns})}setEventController(rs){this.eventController?this.eventController=rs:(this.eventController=rs,this.publishBackgroundFilterEvent())}publishBackgroundFilterEvent(){const rs={backgroundBlurEnabled:"true",backgroundBlurStrength:this._blurStrength,backgroundReplacementEnabled:"false",backgroundFilterVersion:1};this.eventController.publishEvent("backgroundFilterConfigSelected",rs)}}BackgroundBlurProcessorProvided$1.default=BackgroundBlurProcessorProvided;var __awaiter$$=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,rs,ns,os){function ss(as){return as instanceof ns?as:new ns(function(ls){ls(as)})}return new(ns||(ns=Promise))(function(as,ls){function cs(ps){try{ds(os.next(ps))}catch(fs){ls(fs)}}function us(ps){try{ds(os.throw(ps))}catch(fs){ls(fs)}}function ds(ps){ps.done?as(ps.value):ss(ps.value).then(cs,us)}ds((os=os.apply(ts,rs||[])).next())})},__importDefault$1B=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(BackgroundBlurProcessorBuiltIn$1,"__esModule",{value:!0});const BackgroundBlurProcessorProvided_1$1=__importDefault$1B(BackgroundBlurProcessorProvided$1),BackgroundBlurStrength_1$1=BackgroundBlurStrength;class BackgroundBlurProcessorBuiltIn extends BackgroundBlurProcessorProvided_1$1.default{constructor(rs,ns){super(rs,ns),this.blurCanvas=document.createElement("canvas"),this.blurCanvasCtx=this.blurCanvas.getContext("2d"),this.blurCanvas.width=this.spec.model.input.width,this.blurCanvas.height=this.spec.model.input.height,this.logger.info("BackgroundBlur processor using builtin blur")}drawImageWithMask(rs,ns){const os=this.blurredImage,{canvasCtx:ss,targetCanvas:as}=this,{width:ls,height:cs}=as;if(!ns||!os){ss.clearRect(0,0,ls,cs);return}this.scaledCanvas.getContext("2d").putImageData(ns,0,0),this.blurCanvasCtx.putImageData(this.blurredImage,0,0),ss.save(),ss.clearRect(0,0,ls,cs),ss.drawImage(this.scaledCanvas,0,0,ls,cs),ss.globalCompositeOperation="source-in",ss.drawImage(rs,0,0,ls,cs),ss.globalCompositeOperation="destination-over",ss.drawImage(this.blurCanvas,0,0,ls,cs),ss.restore()}setBlurStrength(rs){if(super.setBlurStrength(rs),this.worker){this.modelInitialized=!1,this.worker.postMessage({msg:"destroy"});const ns=this.spec.model;this.worker.postMessage({msg:"loadModel",payload:{modelUrl:ns.path,inputHeight:ns.input.height,inputWidth:ns.input.width,inputChannels:4,modelRangeMin:ns.input.range[0],modelRangeMax:ns.input.range[1],blurPixels:this.blurAmount}})}}setBlurPixels(){this.blurAmount=BackgroundBlurStrength_1$1.BlurStrengthMapper.getBlurAmount(this._blurStrength,{height:540}),this.logger.info("background blur amount set to ".concat(this.blurAmount))}handleInitialize(rs){if(this.logger.info("received initialize message: ".concat(this.stringify(rs))),!rs.payload){this.logger.error("failed to initialize module"),this.initWorkerPromise.reject(new Error("failed to initialize the module"));return}const ns=this.spec.model;this.worker.postMessage({msg:"loadModel",payload:{modelUrl:ns.path,inputHeight:ns.input.height,inputWidth:ns.input.width,inputChannels:4,modelRangeMin:ns.input.range[0],modelRangeMax:ns.input.range[1],blurPixels:this.blurAmount}}),this.initWorkerPromise.resolve({})}handlePredict(rs){this.blurredImage=rs.payload.blurOutput,super.handlePredict(rs)}destroy(){const rs=Object.create(null,{destroy:{get:()=>super.destroy}});var ns;return __awaiter$$(this,void 0,void 0,function*(){rs.destroy.call(this),(ns=this.blurCanvas)===null||ns===void 0||ns.remove(),this.blurCanvas=void 0})}}BackgroundBlurProcessorBuiltIn$1.default=BackgroundBlurProcessorBuiltIn;var __awaiter$_=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,rs,ns,os){function ss(as){return as instanceof ns?as:new ns(function(ls){ls(as)})}return new(ns||(ns=Promise))(function(as,ls){function cs(ps){try{ds(os.next(ps))}catch(fs){ls(fs)}}function us(ps){try{ds(os.throw(ps))}catch(fs){ls(fs)}}function ds(ps){ps.done?as(ps.value):ss(ps.value).then(cs,us)}ds((os=os.apply(ts,rs||[])).next())})},__importDefault$1A=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(BackgroundBlurVideoFrameProcessor$1,"__esModule",{value:!0});const BackgroundFilterVideoFrameProcessor_1$1=__importDefault$1A(BackgroundFilterVideoFrameProcessor$1),ConsoleLogger_1$1=__importDefault$1A(ConsoleLogger$1),LogLevel_1$6=__importDefault$1A(LogLevel),NoOpVideoFrameProcessor_1$1=__importDefault$1A(NoOpVideoFrameProcessor$1),BackgroundBlurProcessorBuiltIn_1=__importDefault$1A(BackgroundBlurProcessorBuiltIn$1),BackgroundBlurProcessorProvided_1=__importDefault$1A(BackgroundBlurProcessorProvided$1),BackgroundBlurStrength_1=__importDefault$1A(BackgroundBlurStrength);class NoOpBackgroundBlurProcessor extends NoOpVideoFrameProcessor_1$1.default{setBlurStrength(){}loadAssets(){return __awaiter$_(this,void 0,void 0,function*(){})}addObserver(){}removeObserver(){}}class BackgroundBlurVideoFrameProcessor extends BackgroundFilterVideoFrameProcessor_1$1.default{static create(rs,ns){return __awaiter$_(this,void 0,void 0,function*(){rs=BackgroundBlurVideoFrameProcessor.resolveSpec(rs),ns=BackgroundBlurVideoFrameProcessor.resolveOptions(ns);const{logger:os}=ns,ss=yield BackgroundBlurVideoFrameProcessor.isSupported(rs,ns);if(os.info("processor is ".concat(ss?"":"not"," supported")),!ss)return os.warn("Using no-op processor because background blur is not supported"),new NoOpBackgroundBlurProcessor;let as;return(yield BackgroundBlurProcessorProvided_1.default.isSupported())?(os.info("Using browser-provided background blur"),as=new BackgroundBlurProcessorProvided_1.default(rs,ns)):(os.info("Using built-in background blur"),as=new BackgroundBlurProcessorBuiltIn_1.default(rs,ns)),yield as.loadAssets(),as})}static resolveOptions(rs={}){let ns=Object.assign({},rs);return ns.blurStrength||(ns.blurStrength=BackgroundBlurStrength_1.default.MEDIUM),ns.logger||(ns.logger=new ConsoleLogger_1$1.default("BackgroundBlurProcessor",LogLevel_1$6.default.INFO)),ns=super.resolveOptions(ns),ns}static isSupported(rs,ns){return rs=BackgroundBlurVideoFrameProcessor.resolveSpec(rs),ns=BackgroundBlurVideoFrameProcessor.resolveOptions(ns),super.isSupported(rs,ns)}}BackgroundBlurVideoFrameProcessor$1.default=BackgroundBlurVideoFrameProcessor;var BackgroundReplacementVideoFrameProcessor$1={},BackgroundReplacementFilter$1={},BackgroundReplacementVideoFrameProcessorDelegate$1={},__importDefault$1z=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(BackgroundReplacementVideoFrameProcessorDelegate$1,"__esModule",{value:!0});const BackgroundFilterVideoFrameProcessorDelegate_1=__importDefault$1z(BackgroundFilterVideoFrameProcessorDelegate$1);class BackgroundReplacementVideoFrameProcessorDelegate extends BackgroundFilterVideoFrameProcessorDelegate_1.default{}BackgroundReplacementVideoFrameProcessorDelegate$1.default=BackgroundReplacementVideoFrameProcessorDelegate;var __awaiter$Z=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,rs,ns,os){function ss(as){return as instanceof ns?as:new ns(function(ls){ls(as)})}return new(ns||(ns=Promise))(function(as,ls){function cs(ps){try{ds(os.next(ps))}catch(fs){ls(fs)}}function us(ps){try{ds(os.throw(ps))}catch(fs){ls(fs)}}function ds(ps){ps.done?as(ps.value):ss(ps.value).then(cs,us)}ds((os=os.apply(ts,rs||[])).next())})},__importDefault$1y=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(BackgroundReplacementFilter$1,"__esModule",{value:!0});const BackgroundFilterProcessor_1=__importDefault$1y(BackgroundFilterProcessor$1),BackgroundReplacementVideoFrameProcessorDelegate_1=__importDefault$1y(BackgroundReplacementVideoFrameProcessorDelegate$1);class BackgroundReplacementFilter extends BackgroundFilterProcessor_1.default{constructor(rs,ns){super("background replacement",rs,ns,new BackgroundReplacementVideoFrameProcessorDelegate_1.default),this.replacementBlob=ns.imageBlob,this.logger.info("BackgroundReplacement processor successfully created"),this.logger.info("BackgroundReplacement spec: ".concat(this.stringify(this.spec))),this.logger.info("BackgroundReplacement options: ".concat(this.stringify(ns)))}setImageBlob(rs){return __awaiter$Z(this,void 0,void 0,function*(){this.replacementBlob=rs,this.replacementImage=yield BackgroundReplacementFilter.loadImage(this.createReplacementObjectUrl())})}initOnFirstExecution(){}drawImageWithMask(rs,ns){ns||(ns=new ImageData(this.spec.model.input.width,this.spec.model.input.height)),this.scaledCanvas.getContext("2d").putImageData(ns,0,0);const{canvasCtx:ss,targetCanvas:as}=this,{width:ls,height:cs}=as;ss.save(),ss.clearRect(0,0,ls,cs),ss.drawImage(this.scaledCanvas,0,0,ls,cs),ss.globalCompositeOperation="source-in",ss.drawImage(rs,0,0,ls,cs),ss.globalCompositeOperation="destination-over",ss.drawImage(this.replacementImage,0,0,as.width,as.height),ss.restore()}static loadImageExecutor(rs,ns,os){const ss=new Image;ss.crossOrigin="Anonymous",ss.addEventListener("load",()=>{rs(ss)},!1),ss.addEventListener("error",as=>{ns(new Error("Could not load replacement image ".concat(ss.src,": ").concat(as.message)))},!1),ss.src=os}static loadImage(rs){return __awaiter$Z(this,void 0,void 0,function*(){return new Promise((ns,os)=>this.loadImageExecutor(ns,os,rs))})}revokeReplacementObjectUrl(){this.replacementObjectUrl&&URL.revokeObjectURL(this.replacementObjectUrl)}createReplacementObjectUrl(){return this.revokeReplacementObjectUrl(),this.replacementObjectUrl=URL.createObjectURL(this.replacementBlob),this.replacementObjectUrl}loadAssets(){const rs=Object.create(null,{loadAssets:{get:()=>super.loadAssets}});return __awaiter$Z(this,void 0,void 0,function*(){this.replacementImage=yield BackgroundReplacementFilter.loadImage(this.createReplacementObjectUrl()),rs.loadAssets.call(this)})}addObserver(rs){this.delegate.addObserver(rs)}removeObserver(rs){this.delegate.removeObserver(rs)}destroy(){const rs=Object.create(null,{destroy:{get:()=>super.destroy}});return __awaiter$Z(this,void 0,void 0,function*(){rs.destroy.call(this),this.revokeReplacementObjectUrl()})}setEventController(rs){this.eventController?this.eventController=rs:(this.eventController=rs,this.publishBackgroundFilterEvent())}publishBackgroundFilterEvent(){const rs={backgroundBlurEnabled:"false",backgroundBlurStrength:"low",backgroundReplacementEnabled:"true",backgroundFilterVersion:1};this.eventController.publishEvent("backgroundFilterConfigSelected",rs)}}BackgroundReplacementFilter$1.default=BackgroundReplacementFilter;var __awaiter$Y=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,rs,ns,os){function ss(as){return as instanceof ns?as:new ns(function(ls){ls(as)})}return new(ns||(ns=Promise))(function(as,ls){function cs(ps){try{ds(os.next(ps))}catch(fs){ls(fs)}}function us(ps){try{ds(os.throw(ps))}catch(fs){ls(fs)}}function ds(ps){ps.done?as(ps.value):ss(ps.value).then(cs,us)}ds((os=os.apply(ts,rs||[])).next())})},__importDefault$1x=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(BackgroundReplacementVideoFrameProcessor$1,"__esModule",{value:!0});const BackgroundFilterVideoFrameProcessor_1=__importDefault$1x(BackgroundFilterVideoFrameProcessor$1),ConsoleLogger_1=__importDefault$1x(ConsoleLogger$1),LogLevel_1$5=__importDefault$1x(LogLevel),NoOpVideoFrameProcessor_1=__importDefault$1x(NoOpVideoFrameProcessor$1),BackgroundReplacementFilter_1=__importDefault$1x(BackgroundReplacementFilter$1);class NoOpBackgroundReplacementProcessor extends NoOpVideoFrameProcessor_1.default{loadAssets(){return __awaiter$Y(this,void 0,void 0,function*(){})}addObserver(){}removeObserver(){}setImageBlob(){return __awaiter$Y(this,void 0,void 0,function*(){})}}class BackgroundReplacementVideoFrameProcessor extends BackgroundFilterVideoFrameProcessor_1.default{static create(rs,ns){return __awaiter$Y(this,void 0,void 0,function*(){rs=this.resolveSpec(rs),ns=this.resolveOptions(ns),yield this.resolveOptionsAsync(ns);const{logger:os}=ns;if(!(yield BackgroundReplacementVideoFrameProcessor.isSupported(rs,ns)))return os.warn("Using no-op processor because background replacement is not supported"),new NoOpBackgroundReplacementProcessor;os.info("Using background replacement filter");const as=new BackgroundReplacementFilter_1.default(rs,ns);return yield as.loadAssets(),as})}static resolveOptions(rs={}){const ns=Object.assign({},rs);return ns.logger||(ns.logger=new ConsoleLogger_1.default("BackgroundReplacementProcessor",LogLevel_1$5.default.INFO)),super.resolveOptions(ns)}static resolveOptionsAsync(rs){return __awaiter$Y(this,void 0,void 0,function*(){if(!rs.imageBlob){const ns=document.createElement("canvas");ns.width=100,ns.height=100;const os=ns.getContext("2d");os.fillStyle="blue",os.fillRect(0,0,100,100);const ss=yield new Promise(as=>{ns.toBlob(as)});rs.imageBlob=ss}})}static isSupported(rs,ns){const os=Object.create(null,{isSupported:{get:()=>super.isSupported}});return __awaiter$Y(this,void 0,void 0,function*(){rs=this.resolveSpec(rs),ns=this.resolveOptions(ns),yield this.resolveOptionsAsync(ns);const ss=ns.imageBlob,as=URL.createObjectURL(ss);try{yield BackgroundReplacementFilter_1.default.loadImage(as)}catch(ls){return ns.logger.info("Failed to fetch load replacement image ".concat(ls.message)),!1}finally{URL.revokeObjectURL(as)}return os.isSupported.call(this,rs,ns)})}}BackgroundReplacementVideoFrameProcessor$1.default=BackgroundReplacementVideoFrameProcessor;var BaseConnectionHealthPolicy$1={};Object.defineProperty(BaseConnectionHealthPolicy$1,"__esModule",{value:!0});class BaseConnectionHealthPolicy{constructor(rs,ns,os){this.minHealth=rs.minHealth,this.maxHealth=rs.maxHealth,this.currentHealth=rs.initialHealth,this.currentData=ns.clone(),this.name=os}minimumHealth(){return this.minHealth}maximumHealth(){return this.maxHealth}health(){return this.maximumHealth()}update(rs){this.currentData=rs}getConnectionHealthData(){return this.currentData.clone()}healthy(){return this.health()>this.minimumHealth()}healthIfChanged(){const rs=this.health();return rs!==this.currentHealth?(this.currentHealth=rs,rs):null}}BaseConnectionHealthPolicy$1.default=BaseConnectionHealthPolicy;var BitrateParameters$1={};Object.defineProperty(BitrateParameters$1,"__esModule",{value:!0});class BitrateParameters{}BitrateParameters$1.default=BitrateParameters;var CSPMonitor$1={};Object.defineProperty(CSPMonitor$1,"__esModule",{value:!0});class CSPMonitor{static register(){!("document"in commonjsGlobal$1)||!document.addEventListener||CSPMonitor.shouldRegisterCSPMonitor&&(CSPMonitor.added||(document.addEventListener("securitypolicyviolation",CSPMonitor.listener),CSPMonitor.added=!0))}static unregister(){!("document"in commonjsGlobal$1)||!document.removeEventListener||(document.removeEventListener("securitypolicyviolation",CSPMonitor.listener),CSPMonitor.loggers=new Set,CSPMonitor.added=!1)}static disable(){CSPMonitor.shouldRegisterCSPMonitor=!1,CSPMonitor.unregister()}static addLogger(rs){rs&&CSPMonitor.loggers.add(rs)}static removeLogger(rs){rs&&CSPMonitor.loggers.delete(rs)}}CSPMonitor$1.default=CSPMonitor;CSPMonitor.loggers=new Set;CSPMonitor.shouldRegisterCSPMonitor=!0;CSPMonitor.added=!1;CSPMonitor.listener=ts=>{const rs="Security Policy Violation\n"+"Blocked URI: ".concat(ts.blockedURI,"\n")+"Violated Directive: ".concat(ts.violatedDirective,"\n")+"Original Policy: ".concat(ts.originalPolicy,"\n")+"Document URI: ".concat(ts.documentURI,"\n")+"Source File: ".concat(ts.sourceFile,"\n")+"Line No.: ".concat(ts.lineNumber,"\n");for(const ns of CSPMonitor.loggers)ns.error(rs);CSPMonitor.loggers.size===0&&console.error(rs)};var CheckAudioConnectivityFeedback={};(function(ts){Object.defineProperty(ts,"__esModule",{value:!0}),ts.CheckAudioConnectivityFeedback=void 0;var rs;(function(ns){ns[ns.Succeeded=0]="Succeeded",ns[ns.AudioInputRequestFailed=1]="AudioInputRequestFailed",ns[ns.AudioInputPermissionDenied=2]="AudioInputPermissionDenied",ns[ns.ConnectionFailed=3]="ConnectionFailed",ns[ns.AudioNotReceived=4]="AudioNotReceived"})(rs=ts.CheckAudioConnectivityFeedback||(ts.CheckAudioConnectivityFeedback={})),ts.default=rs})(CheckAudioConnectivityFeedback);var CheckAudioInputFeedback={};(function(ts){Object.defineProperty(ts,"__esModule",{value:!0}),ts.CheckAudioInputFeedback=void 0;var rs;(function(ns){ns[ns.Succeeded=0]="Succeeded",ns[ns.Failed=1]="Failed",ns[ns.PermissionDenied=2]="PermissionDenied"})(rs=ts.CheckAudioInputFeedback||(ts.CheckAudioInputFeedback={})),ts.default=rs})(CheckAudioInputFeedback);var CheckAudioOutputFeedback={};(function(ts){Object.defineProperty(ts,"__esModule",{value:!0}),ts.CheckAudioOutputFeedback=void 0;var rs;(function(ns){ns[ns.Succeeded=0]="Succeeded",ns[ns.Failed=1]="Failed"})(rs=ts.CheckAudioOutputFeedback||(ts.CheckAudioOutputFeedback={})),ts.default=rs})(CheckAudioOutputFeedback);var CheckCameraResolutionFeedback={};(function(ts){Object.defineProperty(ts,"__esModule",{value:!0}),ts.CheckCameraResolutionFeedback=void 0;var rs;(function(ns){ns[ns.Succeeded=0]="Succeeded",ns[ns.Failed=1]="Failed",ns[ns.ResolutionNotSupported=2]="ResolutionNotSupported",ns[ns.PermissionDenied=3]="PermissionDenied"})(rs=ts.CheckCameraResolutionFeedback||(ts.CheckCameraResolutionFeedback={})),ts.default=rs})(CheckCameraResolutionFeedback);var CheckContentShareConnectivityFeedback={};(function(ts){Object.defineProperty(ts,"__esModule",{value:!0}),ts.CheckContentShareConnectivityFeedback=void 0;var rs;(function(ns){ns[ns.Succeeded=0]="Succeeded",ns[ns.Failed=1]="Failed",ns[ns.PermissionDenied=2]="PermissionDenied",ns[ns.TimedOut=3]="TimedOut",ns[ns.ConnectionFailed=4]="ConnectionFailed"})(rs=ts.CheckContentShareConnectivityFeedback||(ts.CheckContentShareConnectivityFeedback={})),ts.default=rs})(CheckContentShareConnectivityFeedback);var CheckNetworkTCPConnectivityFeedback={};(function(ts){Object.defineProperty(ts,"__esModule",{value:!0}),ts.CheckNetworkTCPConnectivityFeedback=void 0;var rs;(function(ns){ns[ns.Succeeded=0]="Succeeded",ns[ns.MeetingSessionURLsNotInitialized=1]="MeetingSessionURLsNotInitialized",ns[ns.ConnectionFailed=2]="ConnectionFailed",ns[ns.ICENegotiationFailed=3]="ICENegotiationFailed"})(rs=ts.CheckNetworkTCPConnectivityFeedback||(ts.CheckNetworkTCPConnectivityFeedback={})),ts.default=rs})(CheckNetworkTCPConnectivityFeedback);var CheckNetworkUDPConnectivityFeedback={};(function(ts){Object.defineProperty(ts,"__esModule",{value:!0}),ts.CheckNetworkUDPConnectivityFeedback=void 0;var rs;(function(ns){ns[ns.Succeeded=0]="Succeeded",ns[ns.MeetingSessionURLsNotInitialized=1]="MeetingSessionURLsNotInitialized",ns[ns.ConnectionFailed=2]="ConnectionFailed",ns[ns.ICENegotiationFailed=3]="ICENegotiationFailed"})(rs=ts.CheckNetworkUDPConnectivityFeedback||(ts.CheckNetworkUDPConnectivityFeedback={})),ts.default=rs})(CheckNetworkUDPConnectivityFeedback);var CheckVideoConnectivityFeedback={};(function(ts){Object.defineProperty(ts,"__esModule",{value:!0}),ts.CheckVideoConnectivityFeedback=void 0;var rs;(function(ns){ns[ns.Succeeded=0]="Succeeded",ns[ns.VideoInputRequestFailed=1]="VideoInputRequestFailed",ns[ns.VideoInputPermissionDenied=2]="VideoInputPermissionDenied",ns[ns.ConnectionFailed=3]="ConnectionFailed",ns[ns.VideoNotSent=4]="VideoNotSent"})(rs=ts.CheckVideoConnectivityFeedback||(ts.CheckVideoConnectivityFeedback={})),ts.default=rs})(CheckVideoConnectivityFeedback);var CheckVideoInputFeedback={};(function(ts){Object.defineProperty(ts,"__esModule",{value:!0}),ts.CheckVideoInputFeedback=void 0;var rs;(function(ns){ns[ns.Succeeded=0]="Succeeded",ns[ns.Failed=1]="Failed",ns[ns.PermissionDenied=2]="PermissionDenied"})(rs=ts.CheckVideoInputFeedback||(ts.CheckVideoInputFeedback={})),ts.default=rs})(CheckVideoInputFeedback);var CleanRestartedSessionTask$1={},__awaiter$X=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,rs,ns,os){function ss(as){return as instanceof ns?as:new ns(function(ls){ls(as)})}return new(ns||(ns=Promise))(function(as,ls){function cs(ps){try{ds(os.next(ps))}catch(fs){ls(fs)}}function us(ps){try{ds(os.throw(ps))}catch(fs){ls(fs)}}function ds(ps){ps.done?as(ps.value):ss(ps.value).then(cs,us)}ds((os=os.apply(ts,rs||[])).next())})},__importDefault$1w=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(CleanRestartedSessionTask$1,"__esModule",{value:!0});const BaseTask_1$n=__importDefault$1w(BaseTask$1);class CleanRestartedSessionTask extends BaseTask_1$n.default{constructor(rs){super(rs.logger),this.context=rs,this.taskName="CleanRestartedSessionTask"}run(){return __awaiter$X(this,void 0,void 0,function*(){this.context.resetConnectionSpecificState()})}}CleanRestartedSessionTask$1.default=CleanRestartedSessionTask;var CleanStoppedSessionTask$1={},SignalingClientEventType={};(function(ts){Object.defineProperty(ts,"__esModule",{value:!0}),ts.SignalingClientEventType=void 0;var rs;(function(ns){ns[ns.WebSocketConnecting=0]="WebSocketConnecting",ns[ns.WebSocketOpen=1]="WebSocketOpen",ns[ns.WebSocketError=2]="WebSocketError",ns[ns.WebSocketClosing=3]="WebSocketClosing",ns[ns.WebSocketClosed=4]="WebSocketClosed",ns[ns.WebSocketFailed=5]="WebSocketFailed",ns[ns.WebSocketMessage=6]="WebSocketMessage",ns[ns.WebSocketSendMessageFailure=7]="WebSocketSendMessageFailure",ns[ns.WebSocketSentMessage=8]="WebSocketSentMessage",ns[ns.ProtocolDecodeFailure=9]="ProtocolDecodeFailure",ns[ns.ReceivedSignalFrame=10]="ReceivedSignalFrame",ns[ns.WebSocketSkippedMessage=11]="WebSocketSkippedMessage"})(rs=ts.SignalingClientEventType||(ts.SignalingClientEventType={})),ts.default=rs})(SignalingClientEventType);var __awaiter$W=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,rs,ns,os){function ss(as){return as instanceof ns?as:new ns(function(ls){ls(as)})}return new(ns||(ns=Promise))(function(as,ls){function cs(ps){try{ds(os.next(ps))}catch(fs){ls(fs)}}function us(ps){try{ds(os.throw(ps))}catch(fs){ls(fs)}}function ds(ps){ps.done?as(ps.value):ss(ps.value).then(cs,us)}ds((os=os.apply(ts,rs||[])).next())})},__importDefault$1v=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(CleanStoppedSessionTask$1,"__esModule",{value:!0});const SignalingClientEventType_1$c=__importDefault$1v(SignalingClientEventType),BaseTask_1$m=__importDefault$1v(BaseTask$1);class CleanStoppedSessionTask extends BaseTask_1$m.default{constructor(rs){super(rs.logger),this.context=rs,this.taskName="CleanStoppedSessionTask",this.taskCanceler=null}cancel(){this.taskCanceler&&(this.taskCanceler.cancel(),this.taskCanceler=null)}run(){return __awaiter$W(this,void 0,void 0,function*(){try{this.context.signalingClient.ready()&&(this.context.signalingClient.closeConnection(),yield this.receiveWebSocketClosedEvent())}catch(rs){throw rs}finally{for(const ns of this.context.removableObservers)ns.removeObserver();this.context.resetConnectionSpecificState(),this.context.statsCollector.stop(),this.context.statsCollector=null,this.context.connectionMonitor.stop(),this.context.connectionMonitor=null,this.context.videoUplinkBandwidthPolicy.setTransceiverController&&this.context.videoUplinkBandwidthPolicy.setTransceiverController(void 0),this.context.videoDownlinkBandwidthPolicy.bindToTileController&&this.context.videoDownlinkBandwidthPolicy.bindToTileController(void 0);const rs=this.context.videoTileController.getLocalVideoTile();rs&&rs.bindVideoStream("",!0,null,null,null,null),this.context.videoTileController.removeAllVideoTiles()}})}receiveWebSocketClosedEvent(){return new Promise((rs,ns)=>{class os{constructor(ls){this.signalingClient=ls}cancel(){this.signalingClient.removeObserver(this),ns(new Error("CleanStoppedSessionTask got canceled while waiting for the WebSocket closed event"))}handleSignalingClientEvent(ls){ls.type===SignalingClientEventType_1$c.default.WebSocketClosed&&(this.signalingClient.removeObserver(this),rs())}}const ss=new os(this.context.signalingClient);this.taskCanceler=ss,this.context.signalingClient.registerObserver(ss)})}}CleanStoppedSessionTask$1.default=CleanStoppedSessionTask;var ClientMetricReport$1={},indexMinimal={},minimal$1={},aspromise=asPromise;function asPromise(ts,rs){for(var ns=new Array(arguments.length-1),os=0,ss=2,as=!0;ss<arguments.length;)ns[os++]=arguments[ss++];return new Promise(function(cs,us){ns[os]=function(ps){if(as)if(as=!1,ps)us(ps);else{for(var fs=new Array(arguments.length-1),hs=0;hs<fs.length;)fs[hs++]=arguments[hs];cs.apply(null,fs)}};try{ts.apply(rs||null,ns)}catch(ds){as&&(as=!1,us(ds))}})}var base64$1={};(function(ts){var rs=ts;rs.length=function(cs){var us=cs.length;if(!us)return 0;for(var ds=0;--us%4>1&&cs.charAt(us)==="=";)++ds;return Math.ceil(cs.length*3)/4-ds};for(var ns=new Array(64),os=new Array(123),ss=0;ss<64;)os[ns[ss]=ss<26?ss+65:ss<52?ss+71:ss<62?ss-4:ss-59|43]=ss++;rs.encode=function(cs,us,ds){for(var ps=null,fs=[],hs=0,ms=0,gs;us<ds;){var vs=cs[us++];switch(ms){case 0:fs[hs++]=ns[vs>>2],gs=(vs&3)<<4,ms=1;break;case 1:fs[hs++]=ns[gs|vs>>4],gs=(vs&15)<<2,ms=2;break;case 2:fs[hs++]=ns[gs|vs>>6],fs[hs++]=ns[vs&63],ms=0;break}hs>8191&&((ps||(ps=[])).push(String.fromCharCode.apply(String,fs)),hs=0)}return ms&&(fs[hs++]=ns[gs],fs[hs++]=61,ms===1&&(fs[hs++]=61)),ps?(hs&&ps.push(String.fromCharCode.apply(String,fs.slice(0,hs))),ps.join("")):String.fromCharCode.apply(String,fs.slice(0,hs))};var as="invalid encoding";rs.decode=function(cs,us,ds){for(var ps=ds,fs=0,hs,ms=0;ms<cs.length;){var gs=cs.charCodeAt(ms++);if(gs===61&&fs>1)break;if((gs=os[gs])===void 0)throw Error(as);switch(fs){case 0:hs=gs,fs=1;break;case 1:us[ds++]=hs<<2|(gs&48)>>4,hs=gs,fs=2;break;case 2:us[ds++]=(hs&15)<<4|(gs&60)>>2,hs=gs,fs=3;break;case 3:us[ds++]=(hs&3)<<6|gs,fs=0;break}}if(fs===1)throw Error(as);return ds-ps},rs.test=function(cs){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(cs)}})(base64$1);var eventemitter=EventEmitter;function EventEmitter(){this._listeners={}}EventEmitter.prototype.on=function(rs,ns,os){return(this._listeners[rs]||(this._listeners[rs]=[])).push({fn:ns,ctx:os||this}),this};EventEmitter.prototype.off=function(rs,ns){if(rs===void 0)this._listeners={};else if(ns===void 0)this._listeners[rs]=[];else for(var os=this._listeners[rs],ss=0;ss<os.length;)os[ss].fn===ns?os.splice(ss,1):++ss;return this};EventEmitter.prototype.emit=function(rs){var ns=this._listeners[rs];if(ns){for(var os=[],ss=1;ss<arguments.length;)os.push(arguments[ss++]);for(ss=0;ss<ns.length;)ns[ss].fn.apply(ns[ss++].ctx,os)}return this};var float=factory(factory);function factory(ts){return typeof Float32Array<"u"?function(){var rs=new Float32Array([-0]),ns=new Uint8Array(rs.buffer),os=ns[3]===128;function ss(us,ds,ps){rs[0]=us,ds[ps]=ns[0],ds[ps+1]=ns[1],ds[ps+2]=ns[2],ds[ps+3]=ns[3]}function as(us,ds,ps){rs[0]=us,ds[ps]=ns[3],ds[ps+1]=ns[2],ds[ps+2]=ns[1],ds[ps+3]=ns[0]}ts.writeFloatLE=os?ss:as,ts.writeFloatBE=os?as:ss;function ls(us,ds){return ns[0]=us[ds],ns[1]=us[ds+1],ns[2]=us[ds+2],ns[3]=us[ds+3],rs[0]}function cs(us,ds){return ns[3]=us[ds],ns[2]=us[ds+1],ns[1]=us[ds+2],ns[0]=us[ds+3],rs[0]}ts.readFloatLE=os?ls:cs,ts.readFloatBE=os?cs:ls}():function(){function rs(os,ss,as,ls){var cs=ss<0?1:0;if(cs&&(ss=-ss),ss===0)os(1/ss>0?0:2147483648,as,ls);else if(isNaN(ss))os(2143289344,as,ls);else if(ss>34028234663852886e22)os((cs<<31|2139095040)>>>0,as,ls);else if(ss<11754943508222875e-54)os((cs<<31|Math.round(ss/1401298464324817e-60))>>>0,as,ls);else{var us=Math.floor(Math.log(ss)/Math.LN2),ds=Math.round(ss*Math.pow(2,-us)*8388608)&8388607;os((cs<<31|us+127<<23|ds)>>>0,as,ls)}}ts.writeFloatLE=rs.bind(null,writeUintLE),ts.writeFloatBE=rs.bind(null,writeUintBE);function ns(os,ss,as){var ls=os(ss,as),cs=(ls>>31)*2+1,us=ls>>>23&255,ds=ls&8388607;return us===255?ds?NaN:cs*(1/0):us===0?cs*1401298464324817e-60*ds:cs*Math.pow(2,us-150)*(ds+8388608)}ts.readFloatLE=ns.bind(null,readUintLE),ts.readFloatBE=ns.bind(null,readUintBE)}(),typeof Float64Array<"u"?function(){var rs=new Float64Array([-0]),ns=new Uint8Array(rs.buffer),os=ns[7]===128;function ss(us,ds,ps){rs[0]=us,ds[ps]=ns[0],ds[ps+1]=ns[1],ds[ps+2]=ns[2],ds[ps+3]=ns[3],ds[ps+4]=ns[4],ds[ps+5]=ns[5],ds[ps+6]=ns[6],ds[ps+7]=ns[7]}function as(us,ds,ps){rs[0]=us,ds[ps]=ns[7],ds[ps+1]=ns[6],ds[ps+2]=ns[5],ds[ps+3]=ns[4],ds[ps+4]=ns[3],ds[ps+5]=ns[2],ds[ps+6]=ns[1],ds[ps+7]=ns[0]}ts.writeDoubleLE=os?ss:as,ts.writeDoubleBE=os?as:ss;function ls(us,ds){return ns[0]=us[ds],ns[1]=us[ds+1],ns[2]=us[ds+2],ns[3]=us[ds+3],ns[4]=us[ds+4],ns[5]=us[ds+5],ns[6]=us[ds+6],ns[7]=us[ds+7],rs[0]}function cs(us,ds){return ns[7]=us[ds],ns[6]=us[ds+1],ns[5]=us[ds+2],ns[4]=us[ds+3],ns[3]=us[ds+4],ns[2]=us[ds+5],ns[1]=us[ds+6],ns[0]=us[ds+7],rs[0]}ts.readDoubleLE=os?ls:cs,ts.readDoubleBE=os?cs:ls}():function(){function rs(os,ss,as,ls,cs,us){var ds=ls<0?1:0;if(ds&&(ls=-ls),ls===0)os(0,cs,us+ss),os(1/ls>0?0:2147483648,cs,us+as);else if(isNaN(ls))os(0,cs,us+ss),os(2146959360,cs,us+as);else if(ls>17976931348623157e292)os(0,cs,us+ss),os((ds<<31|2146435072)>>>0,cs,us+as);else{var ps;if(ls<22250738585072014e-324)ps=ls/5e-324,os(ps>>>0,cs,us+ss),os((ds<<31|ps/4294967296)>>>0,cs,us+as);else{var fs=Math.floor(Math.log(ls)/Math.LN2);fs===1024&&(fs=1023),ps=ls*Math.pow(2,-fs),os(ps*4503599627370496>>>0,cs,us+ss),os((ds<<31|fs+1023<<20|ps*1048576&1048575)>>>0,cs,us+as)}}}ts.writeDoubleLE=rs.bind(null,writeUintLE,0,4),ts.writeDoubleBE=rs.bind(null,writeUintBE,4,0);function ns(os,ss,as,ls,cs){var us=os(ls,cs+ss),ds=os(ls,cs+as),ps=(ds>>31)*2+1,fs=ds>>>20&2047,hs=4294967296*(ds&1048575)+us;return fs===2047?hs?NaN:ps*(1/0):fs===0?ps*5e-324*hs:ps*Math.pow(2,fs-1075)*(hs+4503599627370496)}ts.readDoubleLE=ns.bind(null,readUintLE,0,4),ts.readDoubleBE=ns.bind(null,readUintBE,4,0)}(),ts}function writeUintLE(ts,rs,ns){rs[ns]=ts&255,rs[ns+1]=ts>>>8&255,rs[ns+2]=ts>>>16&255,rs[ns+3]=ts>>>24}function writeUintBE(ts,rs,ns){rs[ns]=ts>>>24,rs[ns+1]=ts>>>16&255,rs[ns+2]=ts>>>8&255,rs[ns+3]=ts&255}function readUintLE(ts,rs){return(ts[rs]|ts[rs+1]<<8|ts[rs+2]<<16|ts[rs+3]<<24)>>>0}function readUintBE(ts,rs){return(ts[rs]<<24|ts[rs+1]<<16|ts[rs+2]<<8|ts[rs+3])>>>0}var inquire_1=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(ts){}return null}var utf8$2={};(function(ts){var rs=ts;rs.length=function(os){for(var ss=0,as=0,ls=0;ls<os.length;++ls)as=os.charCodeAt(ls),as<128?ss+=1:as<2048?ss+=2:(as&64512)===55296&&(os.charCodeAt(ls+1)&64512)===56320?(++ls,ss+=4):ss+=3;return ss},rs.read=function(os,ss,as){var ls=as-ss;if(ls<1)return"";for(var cs=null,us=[],ds=0,ps;ss<as;)ps=os[ss++],ps<128?us[ds++]=ps:ps>191&&ps<224?us[ds++]=(ps&31)<<6|os[ss++]&63:ps>239&&ps<365?(ps=((ps&7)<<18|(os[ss++]&63)<<12|(os[ss++]&63)<<6|os[ss++]&63)-65536,us[ds++]=55296+(ps>>10),us[ds++]=56320+(ps&1023)):us[ds++]=(ps&15)<<12|(os[ss++]&63)<<6|os[ss++]&63,ds>8191&&((cs||(cs=[])).push(String.fromCharCode.apply(String,us)),ds=0);return cs?(ds&&cs.push(String.fromCharCode.apply(String,us.slice(0,ds))),cs.join("")):String.fromCharCode.apply(String,us.slice(0,ds))},rs.write=function(os,ss,as){for(var ls=as,cs,us,ds=0;ds<os.length;++ds)cs=os.charCodeAt(ds),cs<128?ss[as++]=cs:cs<2048?(ss[as++]=cs>>6|192,ss[as++]=cs&63|128):(cs&64512)===55296&&((us=os.charCodeAt(ds+1))&64512)===56320?(cs=65536+((cs&1023)<<10)+(us&1023),++ds,ss[as++]=cs>>18|240,ss[as++]=cs>>12&63|128,ss[as++]=cs>>6&63|128,ss[as++]=cs&63|128):(ss[as++]=cs>>12|224,ss[as++]=cs>>6&63|128,ss[as++]=cs&63|128);return as-ls}})(utf8$2);var pool_1=pool;function pool(ts,rs,ns){var os=ns||8192,ss=os>>>1,as=null,ls=os;return function(us){if(us<1||us>ss)return ts(us);ls+us>os&&(as=ts(os),ls=0);var ds=rs.call(as,ls,ls+=us);return ls&7&&(ls=(ls|7)+1),ds}}var longbits,hasRequiredLongbits;function requireLongbits(){if(hasRequiredLongbits)return longbits;hasRequiredLongbits=1,longbits=rs;var ts=requireMinimal();function rs(as,ls){this.lo=as>>>0,this.hi=ls>>>0}var ns=rs.zero=new rs(0,0);ns.toNumber=function(){return 0},ns.zzEncode=ns.zzDecode=function(){return this},ns.length=function(){return 1};var os=rs.zeroHash="\0\0\0\0\0\0\0\0";rs.fromNumber=function(ls){if(ls===0)return ns;var cs=ls<0;cs&&(ls=-ls);var us=ls>>>0,ds=(ls-us)/4294967296>>>0;return cs&&(ds=~ds>>>0,us=~us>>>0,++us>4294967295&&(us=0,++ds>4294967295&&(ds=0))),new rs(us,ds)},rs.from=function(ls){if(typeof ls=="number")return rs.fromNumber(ls);if(ts.isString(ls))if(ts.Long)ls=ts.Long.fromString(ls);else return rs.fromNumber(parseInt(ls,10));return ls.low||ls.high?new rs(ls.low>>>0,ls.high>>>0):ns},rs.prototype.toNumber=function(ls){if(!ls&&this.hi>>>31){var cs=~this.lo+1>>>0,us=~this.hi>>>0;return cs||(us=us+1>>>0),-(cs+us*4294967296)}return this.lo+this.hi*4294967296},rs.prototype.toLong=function(ls){return ts.Long?new ts.Long(this.lo|0,this.hi|0,!!ls):{low:this.lo|0,high:this.hi|0,unsigned:!!ls}};var ss=String.prototype.charCodeAt;return rs.fromHash=function(ls){return ls===os?ns:new rs((ss.call(ls,0)|ss.call(ls,1)<<8|ss.call(ls,2)<<16|ss.call(ls,3)<<24)>>>0,(ss.call(ls,4)|ss.call(ls,5)<<8|ss.call(ls,6)<<16|ss.call(ls,7)<<24)>>>0)},rs.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},rs.prototype.zzEncode=function(){var ls=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^ls)>>>0,this.lo=(this.lo<<1^ls)>>>0,this},rs.prototype.zzDecode=function(){var ls=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^ls)>>>0,this.hi=(this.hi>>>1^ls)>>>0,this},rs.prototype.length=function(){var ls=this.lo,cs=(this.lo>>>28|this.hi<<4)>>>0,us=this.hi>>>24;return us===0?cs===0?ls<16384?ls<128?1:2:ls<2097152?3:4:cs<16384?cs<128?5:6:cs<2097152?7:8:us<128?9:10},longbits}var hasRequiredMinimal;function requireMinimal(){return hasRequiredMinimal||(hasRequiredMinimal=1,function(ts){var rs=ts;rs.asPromise=aspromise,rs.base64=base64$1,rs.EventEmitter=eventemitter,rs.float=float,rs.inquire=inquire_1,rs.utf8=utf8$2,rs.pool=pool_1,rs.LongBits=requireLongbits(),rs.isNode=!!(typeof commonjsGlobal$1<"u"&&commonjsGlobal$1&&commonjsGlobal$1.process&&commonjsGlobal$1.process.versions&&commonjsGlobal$1.process.versions.node),rs.global=rs.isNode&&commonjsGlobal$1||typeof window<"u"&&window||typeof self<"u"&&self||commonjsGlobal$1,rs.emptyArray=Object.freeze?Object.freeze([]):[],rs.emptyObject=Object.freeze?Object.freeze({}):{},rs.isInteger=Number.isInteger||function(as){return typeof as=="number"&&isFinite(as)&&Math.floor(as)===as},rs.isString=function(as){return typeof as=="string"||as instanceof String},rs.isObject=function(as){return as&&typeof as=="object"},rs.isset=rs.isSet=function(as,ls){var cs=as[ls];return cs!=null&&as.hasOwnProperty(ls)?typeof cs!="object"||(Array.isArray(cs)?cs.length:Object.keys(cs).length)>0:!1},rs.Buffer=function(){try{var ss=rs.inquire("buffer").Buffer;return ss.prototype.utf8Write?ss:null}catch{return null}}(),rs._Buffer_from=null,rs._Buffer_allocUnsafe=null,rs.newBuffer=function(as){return typeof as=="number"?rs.Buffer?rs._Buffer_allocUnsafe(as):new rs.Array(as):rs.Buffer?rs._Buffer_from(as):typeof Uint8Array>"u"?as:new Uint8Array(as)},rs.Array=typeof Uint8Array<"u"?Uint8Array:Array,rs.Long=rs.global.dcodeIO&&rs.global.dcodeIO.Long||rs.global.Long||rs.inquire("long"),rs.key2Re=/^true|false|0|1$/,rs.key32Re=/^-?(?:0|[1-9][0-9]*)$/,rs.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,rs.longToHash=function(as){return as?rs.LongBits.from(as).toHash():rs.LongBits.zeroHash},rs.longFromHash=function(as,ls){var cs=rs.LongBits.fromHash(as);return rs.Long?rs.Long.fromBits(cs.lo,cs.hi,ls):cs.toNumber(!!ls)};function ns(ss,as,ls){for(var cs=Object.keys(as),us=0;us<cs.length;++us)(ss[cs[us]]===void 0||!ls)&&(ss[cs[us]]=as[cs[us]]);return ss}rs.merge=ns,rs.lcFirst=function(as){return as.charAt(0).toLowerCase()+as.substring(1)};function os(ss){function as(ls,cs){if(!(this instanceof as))return new as(ls,cs);Object.defineProperty(this,"message",{get:function(){return ls}}),Error.captureStackTrace?Error.captureStackTrace(this,as):Object.defineProperty(this,"stack",{value:new Error().stack||""}),cs&&ns(this,cs)}return as.prototype=Object.create(Error.prototype,{constructor:{value:as,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return ss},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),as}rs.newError=os,rs.ProtocolError=os("ProtocolError"),rs.oneOfGetter=function(as){for(var ls={},cs=0;cs<as.length;++cs)ls[as[cs]]=1;return function(){for(var us=Object.keys(this),ds=us.length-1;ds>-1;--ds)if(ls[us[ds]]===1&&this[us[ds]]!==void 0&&this[us[ds]]!==null)return us[ds]}},rs.oneOfSetter=function(as){return function(ls){for(var cs=0;cs<as.length;++cs)as[cs]!==ls&&delete this[as[cs]]}},rs.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},rs._configure=function(){var ss=rs.Buffer;if(!ss){rs._Buffer_from=rs._Buffer_allocUnsafe=null;return}rs._Buffer_from=ss.from!==Uint8Array.from&&ss.from||function(ls,cs){return new ss(ls,cs)},rs._Buffer_allocUnsafe=ss.allocUnsafe||function(ls){return new ss(ls)}}}(minimal$1)),minimal$1}var writer=Writer$1,util$4=requireMinimal(),BufferWriter$1,LongBits$1=util$4.LongBits,base64=util$4.base64,utf8$1=util$4.utf8;function Op(ts,rs,ns){this.fn=ts,this.len=rs,this.next=void 0,this.val=ns}function noop(){}function State(ts){this.head=ts.head,this.tail=ts.tail,this.len=ts.len,this.next=ts.states}function Writer$1(){this.len=0,this.head=new Op(noop,0,0),this.tail=this.head,this.states=null}var create$1=function ts(){return util$4.Buffer?function(){return(Writer$1.create=function(){return new BufferWriter$1})()}:function(){return new Writer$1}};Writer$1.create=create$1();Writer$1.alloc=function ts(rs){return new util$4.Array(rs)};util$4.Array!==Array&&(Writer$1.alloc=util$4.pool(Writer$1.alloc,util$4.Array.prototype.subarray));Writer$1.prototype._push=function ts(rs,ns,os){return this.tail=this.tail.next=new Op(rs,ns,os),this.len+=ns,this};function writeByte(ts,rs,ns){rs[ns]=ts&255}function writeVarint32(ts,rs,ns){for(;ts>127;)rs[ns++]=ts&127|128,ts>>>=7;rs[ns]=ts}function VarintOp(ts,rs){this.len=ts,this.next=void 0,this.val=rs}VarintOp.prototype=Object.create(Op.prototype);VarintOp.prototype.fn=writeVarint32;Writer$1.prototype.uint32=function ts(rs){return this.len+=(this.tail=this.tail.next=new VarintOp((rs=rs>>>0)<128?1:rs<16384?2:rs<2097152?3:rs<268435456?4:5,rs)).len,this};Writer$1.prototype.int32=function ts(rs){return rs<0?this._push(writeVarint64,10,LongBits$1.fromNumber(rs)):this.uint32(rs)};Writer$1.prototype.sint32=function ts(rs){return this.uint32((rs<<1^rs>>31)>>>0)};function writeVarint64(ts,rs,ns){for(;ts.hi;)rs[ns++]=ts.lo&127|128,ts.lo=(ts.lo>>>7|ts.hi<<25)>>>0,ts.hi>>>=7;for(;ts.lo>127;)rs[ns++]=ts.lo&127|128,ts.lo=ts.lo>>>7;rs[ns++]=ts.lo}Writer$1.prototype.uint64=function ts(rs){var ns=LongBits$1.from(rs);return this._push(writeVarint64,ns.length(),ns)};Writer$1.prototype.int64=Writer$1.prototype.uint64;Writer$1.prototype.sint64=function ts(rs){var ns=LongBits$1.from(rs).zzEncode();return this._push(writeVarint64,ns.length(),ns)};Writer$1.prototype.bool=function ts(rs){return this._push(writeByte,1,rs?1:0)};function writeFixed32(ts,rs,ns){rs[ns]=ts&255,rs[ns+1]=ts>>>8&255,rs[ns+2]=ts>>>16&255,rs[ns+3]=ts>>>24}Writer$1.prototype.fixed32=function ts(rs){return this._push(writeFixed32,4,rs>>>0)};Writer$1.prototype.sfixed32=Writer$1.prototype.fixed32;Writer$1.prototype.fixed64=function ts(rs){var ns=LongBits$1.from(rs);return this._push(writeFixed32,4,ns.lo)._push(writeFixed32,4,ns.hi)};Writer$1.prototype.sfixed64=Writer$1.prototype.fixed64;Writer$1.prototype.float=function ts(rs){return this._push(util$4.float.writeFloatLE,4,rs)};Writer$1.prototype.double=function ts(rs){return this._push(util$4.float.writeDoubleLE,8,rs)};var writeBytes=util$4.Array.prototype.set?function ts(rs,ns,os){ns.set(rs,os)}:function ts(rs,ns,os){for(var ss=0;ss<rs.length;++ss)ns[os+ss]=rs[ss]};Writer$1.prototype.bytes=function ts(rs){var ns=rs.length>>>0;if(!ns)return this._push(writeByte,1,0);if(util$4.isString(rs)){var os=Writer$1.alloc(ns=base64.length(rs));base64.decode(rs,os,0),rs=os}return this.uint32(ns)._push(writeBytes,ns,rs)};Writer$1.prototype.string=function ts(rs){var ns=utf8$1.length(rs);return ns?this.uint32(ns)._push(utf8$1.write,ns,rs):this._push(writeByte,1,0)};Writer$1.prototype.fork=function ts(){return this.states=new State(this),this.head=this.tail=new Op(noop,0,0),this.len=0,this};Writer$1.prototype.reset=function ts(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Op(noop,0,0),this.len=0),this};Writer$1.prototype.ldelim=function ts(){var rs=this.head,ns=this.tail,os=this.len;return this.reset().uint32(os),os&&(this.tail.next=rs.next,this.tail=ns,this.len+=os),this};Writer$1.prototype.finish=function ts(){for(var rs=this.head.next,ns=this.constructor.alloc(this.len),os=0;rs;)rs.fn(rs.val,ns,os),os+=rs.len,rs=rs.next;return ns};Writer$1._configure=function(ts){BufferWriter$1=ts,Writer$1.create=create$1(),BufferWriter$1._configure()};var writer_buffer=BufferWriter,Writer=writer;(BufferWriter.prototype=Object.create(Writer.prototype)).constructor=BufferWriter;var util$3=requireMinimal();function BufferWriter(){Writer.call(this)}BufferWriter._configure=function(){BufferWriter.alloc=util$3._Buffer_allocUnsafe,BufferWriter.writeBytesBuffer=util$3.Buffer&&util$3.Buffer.prototype instanceof Uint8Array&&util$3.Buffer.prototype.set.name==="set"?function(rs,ns,os){ns.set(rs,os)}:function(rs,ns,os){if(rs.copy)rs.copy(ns,os,0,rs.length);else for(var ss=0;ss<rs.length;)ns[os++]=rs[ss++]}};BufferWriter.prototype.bytes=function ts(rs){util$3.isString(rs)&&(rs=util$3._Buffer_from(rs,"base64"));var ns=rs.length>>>0;return this.uint32(ns),ns&&this._push(BufferWriter.writeBytesBuffer,ns,rs),this};function writeStringBuffer(ts,rs,ns){ts.length<40?util$3.utf8.write(ts,rs,ns):rs.utf8Write?rs.utf8Write(ts,ns):rs.write(ts,ns)}BufferWriter.prototype.string=function ts(rs){var ns=util$3.Buffer.byteLength(rs);return this.uint32(ns),ns&&this._push(writeStringBuffer,ns,rs),this};BufferWriter._configure();var reader=Reader$1,util$2=requireMinimal(),BufferReader$1,LongBits=util$2.LongBits,utf8=util$2.utf8;function indexOutOfRange(ts,rs){return RangeError("index out of range: "+ts.pos+" + "+(rs||1)+" > "+ts.len)}function Reader$1(ts){this.buf=ts,this.pos=0,this.len=ts.length}var create_array=typeof Uint8Array<"u"?function ts(rs){if(rs instanceof Uint8Array||Array.isArray(rs))return new Reader$1(rs);throw Error("illegal buffer")}:function ts(rs){if(Array.isArray(rs))return new Reader$1(rs);throw Error("illegal buffer")},create=function ts(){return util$2.Buffer?function(ns){return(Reader$1.create=function(ss){return util$2.Buffer.isBuffer(ss)?new BufferReader$1(ss):create_array(ss)})(ns)}:create_array};Reader$1.create=create();Reader$1.prototype._slice=util$2.Array.prototype.subarray||util$2.Array.prototype.slice;Reader$1.prototype.uint32=function ts(){var rs=4294967295;return function(){if(rs=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(rs=(rs|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(rs=(rs|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(rs=(rs|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(rs=(rs|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return rs;if((this.pos+=5)>this.len)throw this.pos=this.len,indexOutOfRange(this,10);return rs}}();Reader$1.prototype.int32=function ts(){return this.uint32()|0};Reader$1.prototype.sint32=function ts(){var rs=this.uint32();return rs>>>1^-(rs&1)|0};function readLongVarint(){var ts=new LongBits(0,0),rs=0;if(this.len-this.pos>4){for(;rs<4;++rs)if(ts.lo=(ts.lo|(this.buf[this.pos]&127)<<rs*7)>>>0,this.buf[this.pos++]<128)return ts;if(ts.lo=(ts.lo|(this.buf[this.pos]&127)<<28)>>>0,ts.hi=(ts.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return ts;rs=0}else{for(;rs<3;++rs){if(this.pos>=this.len)throw indexOutOfRange(this);if(ts.lo=(ts.lo|(this.buf[this.pos]&127)<<rs*7)>>>0,this.buf[this.pos++]<128)return ts}return ts.lo=(ts.lo|(this.buf[this.pos++]&127)<<rs*7)>>>0,ts}if(this.len-this.pos>4){for(;rs<5;++rs)if(ts.hi=(ts.hi|(this.buf[this.pos]&127)<<rs*7+3)>>>0,this.buf[this.pos++]<128)return ts}else for(;rs<5;++rs){if(this.pos>=this.len)throw indexOutOfRange(this);if(ts.hi=(ts.hi|(this.buf[this.pos]&127)<<rs*7+3)>>>0,this.buf[this.pos++]<128)return ts}throw Error("invalid varint encoding")}Reader$1.prototype.bool=function ts(){return this.uint32()!==0};function readFixed32_end(ts,rs){return(ts[rs-4]|ts[rs-3]<<8|ts[rs-2]<<16|ts[rs-1]<<24)>>>0}Reader$1.prototype.fixed32=function ts(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return readFixed32_end(this.buf,this.pos+=4)};Reader$1.prototype.sfixed32=function ts(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return readFixed32_end(this.buf,this.pos+=4)|0};function readFixed64(){if(this.pos+8>this.len)throw indexOutOfRange(this,8);return new LongBits(readFixed32_end(this.buf,this.pos+=4),readFixed32_end(this.buf,this.pos+=4))}Reader$1.prototype.float=function ts(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);var rs=util$2.float.readFloatLE(this.buf,this.pos);return this.pos+=4,rs};Reader$1.prototype.double=function ts(){if(this.pos+8>this.len)throw indexOutOfRange(this,4);var rs=util$2.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,rs};Reader$1.prototype.bytes=function ts(){var rs=this.uint32(),ns=this.pos,os=this.pos+rs;if(os>this.len)throw indexOutOfRange(this,rs);if(this.pos+=rs,Array.isArray(this.buf))return this.buf.slice(ns,os);if(ns===os){var ss=util$2.Buffer;return ss?ss.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,ns,os)};Reader$1.prototype.string=function ts(){var rs=this.bytes();return utf8.read(rs,0,rs.length)};Reader$1.prototype.skip=function ts(rs){if(typeof rs=="number"){if(this.pos+rs>this.len)throw indexOutOfRange(this,rs);this.pos+=rs}else do if(this.pos>=this.len)throw indexOutOfRange(this);while(this.buf[this.pos++]&128);return this};Reader$1.prototype.skipType=function(ts){switch(ts){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(ts=this.uint32()&7)!==4;)this.skipType(ts);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+ts+" at offset "+this.pos)}return this};Reader$1._configure=function(ts){BufferReader$1=ts,Reader$1.create=create(),BufferReader$1._configure();var rs=util$2.Long?"toLong":"toNumber";util$2.merge(Reader$1.prototype,{int64:function(){return readLongVarint.call(this)[rs](!1)},uint64:function(){return readLongVarint.call(this)[rs](!0)},sint64:function(){return readLongVarint.call(this).zzDecode()[rs](!1)},fixed64:function(){return readFixed64.call(this)[rs](!0)},sfixed64:function(){return readFixed64.call(this)[rs](!1)}})};var reader_buffer=BufferReader,Reader=reader;(BufferReader.prototype=Object.create(Reader.prototype)).constructor=BufferReader;var util$1=requireMinimal();function BufferReader(ts){Reader.call(this,ts)}BufferReader._configure=function(){util$1.Buffer&&(BufferReader.prototype._slice=util$1.Buffer.prototype.slice)};BufferReader.prototype.string=function ts(){var rs=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+rs,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+rs,this.len))};BufferReader._configure();var rpc={},service=Service,util=requireMinimal();(Service.prototype=Object.create(util.EventEmitter.prototype)).constructor=Service;function Service(ts,rs,ns){if(typeof ts!="function")throw TypeError("rpcImpl must be a function");util.EventEmitter.call(this),this.rpcImpl=ts,this.requestDelimited=!!rs,this.responseDelimited=!!ns}Service.prototype.rpcCall=function ts(rs,ns,os,ss,as){if(!ss)throw TypeError("request must be specified");var ls=this;if(!as)return util.asPromise(ts,ls,rs,ns,os,ss);if(!ls.rpcImpl){setTimeout(function(){as(Error("already ended"))},0);return}try{return ls.rpcImpl(rs,ns[ls.requestDelimited?"encodeDelimited":"encode"](ss).finish(),function(us,ds){if(us)return ls.emit("error",us,rs),as(us);if(ds===null){ls.end(!0);return}if(!(ds instanceof os))try{ds=os[ls.responseDelimited?"decodeDelimited":"decode"](ds)}catch(ps){return ls.emit("error",ps,rs),as(ps)}return ls.emit("data",ds,rs),as(null,ds)})}catch(cs){ls.emit("error",cs,rs),setTimeout(function(){as(cs)},0);return}};Service.prototype.end=function ts(rs){return this.rpcImpl&&(rs||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this};(function(ts){var rs=ts;rs.Service=service})(rpc);var roots={};(function(ts){var rs=ts;rs.build="minimal",rs.Writer=writer,rs.BufferWriter=writer_buffer,rs.Reader=reader,rs.BufferReader=reader_buffer,rs.util=requireMinimal(),rs.rpc=rpc,rs.roots=roots,rs.configure=ns;function ns(){rs.util._configure(),rs.Writer._configure(rs.BufferWriter),rs.Reader._configure(rs.BufferReader)}ns()})(indexMinimal);var minimal=indexMinimal,$protobuf=minimal,$Reader=$protobuf.Reader,$Writer=$protobuf.Writer,$util=$protobuf.util,$root=$protobuf.roots.default||($protobuf.roots.default={});$root.SdkSignalFrame=function(){function ts(rs){if(rs)for(var ns=Object.keys(rs),os=0;os<ns.length;++os)rs[ns[os]]!=null&&(this[ns[os]]=rs[ns[os]])}return ts.prototype.timestampMs=$util.Long?$util.Long.fromBits(0,0,!0):0,ts.prototype.type=1,ts.prototype.error=null,ts.prototype.join=null,ts.prototype.joinack=null,ts.prototype.sub=null,ts.prototype.suback=null,ts.prototype.index=null,ts.prototype.pause=null,ts.prototype.leave=null,ts.prototype.leaveAck=null,ts.prototype.bitrates=null,ts.prototype.audioControl=null,ts.prototype.audioMetadata=null,ts.prototype.audioStreamIdInfo=null,ts.prototype.pingPong=null,ts.prototype.audioStatus=null,ts.prototype.clientMetric=null,ts.prototype.dataMessage=null,ts.prototype.remoteVideoUpdate=null,ts.prototype.primaryMeetingJoin=null,ts.prototype.primaryMeetingJoinAck=null,ts.prototype.primaryMeetingLeave=null,ts.prototype.notification=null,ts.create=function(ns){return new ts(ns)},ts.encode=function(ns,os){return os||(os=$Writer.create()),os.uint32(8).uint64(ns.timestampMs),os.uint32(16).int32(ns.type),ns.error!=null&&Object.hasOwnProperty.call(ns,"error")&&$root.SdkErrorFrame.encode(ns.error,os.uint32(26).fork()).ldelim(),ns.join!=null&&Object.hasOwnProperty.call(ns,"join")&&$root.SdkJoinFrame.encode(ns.join,os.uint32(34).fork()).ldelim(),ns.joinack!=null&&Object.hasOwnProperty.call(ns,"joinack")&&$root.SdkJoinAckFrame.encode(ns.joinack,os.uint32(42).fork()).ldelim(),ns.sub!=null&&Object.hasOwnProperty.call(ns,"sub")&&$root.SdkSubscribeFrame.encode(ns.sub,os.uint32(50).fork()).ldelim(),ns.suback!=null&&Object.hasOwnProperty.call(ns,"suback")&&$root.SdkSubscribeAckFrame.encode(ns.suback,os.uint32(58).fork()).ldelim(),ns.index!=null&&Object.hasOwnProperty.call(ns,"index")&&$root.SdkIndexFrame.encode(ns.index,os.uint32(66).fork()).ldelim(),ns.pause!=null&&Object.hasOwnProperty.call(ns,"pause")&&$root.SdkPauseResumeFrame.encode(ns.pause,os.uint32(82).fork()).ldelim(),ns.leave!=null&&Object.hasOwnProperty.call(ns,"leave")&&$root.SdkLeaveFrame.encode(ns.leave,os.uint32(90).fork()).ldelim(),ns.leaveAck!=null&&Object.hasOwnProperty.call(ns,"leaveAck")&&$root.SdkLeaveAckFrame.encode(ns.leaveAck,os.uint32(98).fork()).ldelim(),ns.bitrates!=null&&Object.hasOwnProperty.call(ns,"bitrates")&&$root.SdkBitrateFrame.encode(ns.bitrates,os.uint32(114).fork()).ldelim(),ns.audioControl!=null&&Object.hasOwnProperty.call(ns,"audioControl")&&$root.SdkAudioControlFrame.encode(ns.audioControl,os.uint32(138).fork()).ldelim(),ns.audioMetadata!=null&&Object.hasOwnProperty.call(ns,"audioMetadata")&&$root.SdkAudioMetadataFrame.encode(ns.audioMetadata,os.uint32(146).fork()).ldelim(),ns.audioStreamIdInfo!=null&&Object.hasOwnProperty.call(ns,"audioStreamIdInfo")&&$root.SdkAudioStreamIdInfoFrame.encode(ns.audioStreamIdInfo,os.uint32(154).fork()).ldelim(),ns.pingPong!=null&&Object.hasOwnProperty.call(ns,"pingPong")&&$root.SdkPingPongFrame.encode(ns.pingPong,os.uint32(162).fork()).ldelim(),ns.audioStatus!=null&&Object.hasOwnProperty.call(ns,"audioStatus")&&$root.SdkAudioStatusFrame.encode(ns.audioStatus,os.uint32(170).fork()).ldelim(),ns.clientMetric!=null&&Object.hasOwnProperty.call(ns,"clientMetric")&&$root.SdkClientMetricFrame.encode(ns.clientMetric,os.uint32(178).fork()).ldelim(),ns.dataMessage!=null&&Object.hasOwnProperty.call(ns,"dataMessage")&&$root.SdkDataMessageFrame.encode(ns.dataMessage,os.uint32(186).fork()).ldelim(),ns.remoteVideoUpdate!=null&&Object.hasOwnProperty.call(ns,"remoteVideoUpdate")&&$root.SdkRemoteVideoUpdateFrame.encode(ns.remoteVideoUpdate,os.uint32(202).fork()).ldelim(),ns.primaryMeetingJoin!=null&&Object.hasOwnProperty.call(ns,"primaryMeetingJoin")&&$root.SdkPrimaryMeetingJoinFrame.encode(ns.primaryMeetingJoin,os.uint32(210).fork()).ldelim(),ns.primaryMeetingJoinAck!=null&&Object.hasOwnProperty.call(ns,"primaryMeetingJoinAck")&&$root.SdkPrimaryMeetingJoinAckFrame.encode(ns.primaryMeetingJoinAck,os.uint32(218).fork()).ldelim(),ns.primaryMeetingLeave!=null&&Object.hasOwnProperty.call(ns,"primaryMeetingLeave")&&$root.SdkPrimaryMeetingLeaveFrame.encode(ns.primaryMeetingLeave,os.uint32(226).fork()).ldelim(),ns.notification!=null&&Object.hasOwnProperty.call(ns,"notification")&&$root.SdkNotificationFrame.encode(ns.notification,os.uint32(282).fork()).ldelim(),os},ts.encodeDelimited=function(ns,os){return this.encode(ns,os).ldelim()},ts.decode=function(ns,os){ns instanceof $Reader||(ns=$Reader.create(ns));for(var ss=os===void 0?ns.len:ns.pos+os,as=new $root.SdkSignalFrame;ns.pos<ss;){var ls=ns.uint32();switch(ls>>>3){case 1:{as.timestampMs=ns.uint64();break}case 2:{as.type=ns.int32();break}case 3:{as.error=$root.SdkErrorFrame.decode(ns,ns.uint32());break}case 4:{as.join=$root.SdkJoinFrame.decode(ns,ns.uint32());break}case 5:{as.joinack=$root.SdkJoinAckFrame.decode(ns,ns.uint32());break}case 6:{as.sub=$root.SdkSubscribeFrame.decode(ns,ns.uint32());break}case 7:{as.suback=$root.SdkSubscribeAckFrame.decode(ns,ns.uint32());break}case 8:{as.index=$root.SdkIndexFrame.decode(ns,ns.uint32());break}case 10:{as.pause=$root.SdkPauseResumeFrame.decode(ns,ns.uint32());break}case 11:{as.leave=$root.SdkLeaveFrame.decode(ns,ns.uint32());break}case 12:{as.leaveAck=$root.SdkLeaveAckFrame.decode(ns,ns.uint32());break}case 14:{as.bitrates=$root.SdkBitrateFrame.decode(ns,ns.uint32());break}case 17:{as.audioControl=$root.SdkAudioControlFrame.decode(ns,ns.uint32());break}case 18:{as.audioMetadata=$root.SdkAudioMetadataFrame.decode(ns,ns.uint32());break}case 19:{as.audioStreamIdInfo=$root.SdkAudioStreamIdInfoFrame.decode(ns,ns.uint32());break}case 20:{as.pingPong=$root.SdkPingPongFrame.decode(ns,ns.uint32());break}case 21:{as.audioStatus=$root.SdkAudioStatusFrame.decode(ns,ns.uint32());break}case 22:{as.clientMetric=$root.SdkClientMetricFrame.decode(ns,ns.uint32());break}case 23:{as.dataMessage=$root.SdkDataMessageFrame.decode(ns,ns.uint32());break}case 25:{as.remoteVideoUpdate=$root.SdkRemoteVideoUpdateFrame.decode(ns,ns.uint32());break}case 26:{as.primaryMeetingJoin=$root.SdkPrimaryMeetingJoinFrame.decode(ns,ns.uint32());break}case 27:{as.primaryMeetingJoinAck=$root.SdkPrimaryMeetingJoinAckFrame.decode(ns,ns.uint32());break}case 28:{as.primaryMeetingLeave=$root.SdkPrimaryMeetingLeaveFrame.decode(ns,ns.uint32());break}case 35:{as.notification=$root.SdkNotificationFrame.decode(ns,ns.uint32());break}default:ns.skipType(ls&7);break}}if(!as.hasOwnProperty("timestampMs"))throw $util.ProtocolError("missing required 'timestampMs'",{instance:as});if(!as.hasOwnProperty("type"))throw $util.ProtocolError("missing required 'type'",{instance:as});return as},ts.decodeDelimited=function(ns){return ns instanceof $Reader||(ns=new $Reader(ns)),this.decode(ns,ns.uint32())},ts.verify=function(ns){if(typeof ns!="object"||ns===null)return"object expected";if(!$util.isInteger(ns.timestampMs)&&!(ns.timestampMs&&$util.isInteger(ns.timestampMs.low)&&$util.isInteger(ns.timestampMs.high)))return"timestampMs: integer|Long expected";switch(ns.type){default:return"type: enum value expected";case 1:case 2:case 3:case 4:case 5:case 7:case 8:case 9:case 10:case 13:case 16:case 17:case 18:case 19:case 20:case 21:case 22:case 24:case 25:case 26:case 27:case 34:break}if(ns.error!=null&&ns.hasOwnProperty("error")){var os=$root.SdkErrorFrame.verify(ns.error);if(os)return"error."+os}if(ns.join!=null&&ns.hasOwnProperty("join")){var os=$root.SdkJoinFrame.verify(ns.join);if(os)return"join."+os}if(ns.joinack!=null&&ns.hasOwnProperty("joinack")){var os=$root.SdkJoinAckFrame.verify(ns.joinack);if(os)return"joinack."+os}if(ns.sub!=null&&ns.hasOwnProperty("sub")){var os=$root.SdkSubscribeFrame.verify(ns.sub);if(os)return"sub."+os}if(ns.suback!=null&&ns.hasOwnProperty("suback")){var os=$root.SdkSubscribeAckFrame.verify(ns.suback);if(os)return"suback."+os}if(ns.index!=null&&ns.hasOwnProperty("index")){var os=$root.SdkIndexFrame.verify(ns.index);if(os)return"index."+os}if(ns.pause!=null&&ns.hasOwnProperty("pause")){var os=$root.SdkPauseResumeFrame.verify(ns.pause);if(os)return"pause."+os}if(ns.leave!=null&&ns.hasOwnProperty("leave")){var os=$root.SdkLeaveFrame.verify(ns.leave);if(os)return"leave."+os}if(ns.leaveAck!=null&&ns.hasOwnProperty("leaveAck")){var os=$root.SdkLeaveAckFrame.verify(ns.leaveAck);if(os)return"leaveAck."+os}if(ns.bitrates!=null&&ns.hasOwnProperty("bitrates")){var os=$root.SdkBitrateFrame.verify(ns.bitrates);if(os)return"bitrates."+os}if(ns.audioControl!=null&&ns.hasOwnProperty("audioControl")){var os=$root.SdkAudioControlFrame.verify(ns.audioControl);if(os)return"audioControl."+os}if(ns.audioMetadata!=null&&ns.hasOwnProperty("audioMetadata")){var os=$root.SdkAudioMetadataFrame.verify(ns.audioMetadata);if(os)return"audioMetadata."+os}if(ns.audioStreamIdInfo!=null&&ns.hasOwnProperty("audioStreamIdInfo")){var os=$root.SdkAudioStreamIdInfoFrame.verify(ns.audioStreamIdInfo);if(os)return"audioStreamIdInfo."+os}if(ns.pingPong!=null&&ns.hasOwnProperty("pingPong")){var os=$root.SdkPingPongFrame.verify(ns.pingPong);if(os)return"pingPong."+os}if(ns.audioStatus!=null&&ns.hasOwnProperty("audioStatus")){var os=$root.SdkAudioStatusFrame.verify(ns.audioStatus);if(os)return"audioStatus."+os}if(ns.clientMetric!=null&&ns.hasOwnProperty("clientMetric")){var os=$root.SdkClientMetricFrame.verify(ns.clientMetric);if(os)return"clientMetric."+os}if(ns.dataMessage!=null&&ns.hasOwnProperty("dataMessage")){var os=$root.SdkDataMessageFrame.verify(ns.dataMessage);if(os)return"dataMessage."+os}if(ns.remoteVideoUpdate!=null&&ns.hasOwnProperty("remoteVideoUpdate")){var os=$root.SdkRemoteVideoUpdateFrame.verify(ns.remoteVideoUpdate);if(os)return"remoteVideoUpdate."+os}if(ns.primaryMeetingJoin!=null&&ns.hasOwnProperty("primaryMeetingJoin")){var os=$root.SdkPrimaryMeetingJoinFrame.verify(ns.primaryMeetingJoin);if(os)return"primaryMeetingJoin."+os}if(ns.primaryMeetingJoinAck!=null&&ns.hasOwnProperty("primaryMeetingJoinAck")){var os=$root.SdkPrimaryMeetingJoinAckFrame.verify(ns.primaryMeetingJoinAck);if(os)return"primaryMeetingJoinAck."+os}if(ns.primaryMeetingLeave!=null&&ns.hasOwnProperty("primaryMeetingLeave")){var os=$root.SdkPrimaryMeetingLeaveFrame.verify(ns.primaryMeetingLeave);if(os)return"primaryMeetingLeave."+os}if(ns.notification!=null&&ns.hasOwnProperty("notification")){var os=$root.SdkNotificationFrame.verify(ns.notification);if(os)return"notification."+os}return null},ts.fromObject=function(ns){if(ns instanceof $root.SdkSignalFrame)return ns;var os=new $root.SdkSignalFrame;switch(ns.timestampMs!=null&&($util.Long?(os.timestampMs=$util.Long.fromValue(ns.timestampMs)).unsigned=!0:typeof ns.timestampMs=="string"?os.timestampMs=parseInt(ns.timestampMs,10):typeof ns.timestampMs=="number"?os.timestampMs=ns.timestampMs:typeof ns.timestampMs=="object"&&(os.timestampMs=new $util.LongBits(ns.timestampMs.low>>>0,ns.timestampMs.high>>>0).toNumber(!0))),ns.type){default:if(typeof ns.type=="number"){os.type=ns.type;break}break;case"JOIN":case 1:os.type=1;break;case"JOIN_ACK":case 2:os.type=2;break;case"SUBSCRIBE":case 3:os.type=3;break;case"SUBSCRIBE_ACK":case 4:os.type=4;break;case"INDEX":case 5:os.type=5;break;case"PAUSE":case 7:os.type=7;break;case"RESUME":case 8:os.type=8;break;case"LEAVE":case 9:os.type=9;break;case"LEAVE_ACK":case 10:os.type=10;break;case"BITRATES":case 13:os.type=13;break;case"AUDIO_CONTROL":case 16:os.type=16;break;case"AUDIO_METADATA":case 17:os.type=17;break;case"AUDIO_STREAM_ID_INFO":case 18:os.type=18;break;case"PING_PONG":case 19:os.type=19;break;case"AUDIO_STATUS":case 20:os.type=20;break;case"CLIENT_METRIC":case 21:os.type=21;break;case"DATA_MESSAGE":case 22:os.type=22;break;case"REMOTE_VIDEO_UPDATE":case 24:os.type=24;break;case"PRIMARY_MEETING_JOIN":case 25:os.type=25;break;case"PRIMARY_MEETING_JOIN_ACK":case 26:os.type=26;break;case"PRIMARY_MEETING_LEAVE":case 27:os.type=27;break;case"NOTIFICATION":case 34:os.type=34;break}if(ns.error!=null){if(typeof ns.error!="object")throw TypeError(".SdkSignalFrame.error: object expected");os.error=$root.SdkErrorFrame.fromObject(ns.error)}if(ns.join!=null){if(typeof ns.join!="object")throw TypeError(".SdkSignalFrame.join: object expected");os.join=$root.SdkJoinFrame.fromObject(ns.join)}if(ns.joinack!=null){if(typeof ns.joinack!="object")throw TypeError(".SdkSignalFrame.joinack: object expected");os.joinack=$root.SdkJoinAckFrame.fromObject(ns.joinack)}if(ns.sub!=null){if(typeof ns.sub!="object")throw TypeError(".SdkSignalFrame.sub: object expected");os.sub=$root.SdkSubscribeFrame.fromObject(ns.sub)}if(ns.suback!=null){if(typeof ns.suback!="object")throw TypeError(".SdkSignalFrame.suback: object expected");os.suback=$root.SdkSubscribeAckFrame.fromObject(ns.suback)}if(ns.index!=null){if(typeof ns.index!="object")throw TypeError(".SdkSignalFrame.index: object expected");os.index=$root.SdkIndexFrame.fromObject(ns.index)}if(ns.pause!=null){if(typeof ns.pause!="object")throw TypeError(".SdkSignalFrame.pause: object expected");os.pause=$root.SdkPauseResumeFrame.fromObject(ns.pause)}if(ns.leave!=null){if(typeof ns.leave!="object")throw TypeError(".SdkSignalFrame.leave: object expected");os.leave=$root.SdkLeaveFrame.fromObject(ns.leave)}if(ns.leaveAck!=null){if(typeof ns.leaveAck!="object")throw TypeError(".SdkSignalFrame.leaveAck: object expected");os.leaveAck=$root.SdkLeaveAckFrame.fromObject(ns.leaveAck)}if(ns.bitrates!=null){if(typeof ns.bitrates!="object")throw TypeError(".SdkSignalFrame.bitrates: object expected");os.bitrates=$root.SdkBitrateFrame.fromObject(ns.bitrates)}if(ns.audioControl!=null){if(typeof ns.audioControl!="object")throw TypeError(".SdkSignalFrame.audioControl: object expected");os.audioControl=$root.SdkAudioControlFrame.fromObject(ns.audioControl)}if(ns.audioMetadata!=null){if(typeof ns.audioMetadata!="object")throw TypeError(".SdkSignalFrame.audioMetadata: object expected");os.audioMetadata=$root.SdkAudioMetadataFrame.fromObject(ns.audioMetadata)}if(ns.audioStreamIdInfo!=null){if(typeof ns.audioStreamIdInfo!="object")throw TypeError(".SdkSignalFrame.audioStreamIdInfo: object expected");os.audioStreamIdInfo=$root.SdkAudioStreamIdInfoFrame.fromObject(ns.audioStreamIdInfo)}if(ns.pingPong!=null){if(typeof ns.pingPong!="object")throw TypeError(".SdkSignalFrame.pingPong: object expected");os.pingPong=$root.SdkPingPongFrame.fromObject(ns.pingPong)}if(ns.audioStatus!=null){if(typeof ns.audioStatus!="object")throw TypeError(".SdkSignalFrame.audioStatus: object expected");os.audioStatus=$root.SdkAudioStatusFrame.fromObject(ns.audioStatus)}if(ns.clientMetric!=null){if(typeof ns.clientMetric!="object")throw TypeError(".SdkSignalFrame.clientMetric: object expected");os.clientMetric=$root.SdkClientMetricFrame.fromObject(ns.clientMetric)}if(ns.dataMessage!=null){if(typeof ns.dataMessage!="object")throw TypeError(".SdkSignalFrame.dataMessage: object expected");os.dataMessage=$root.SdkDataMessageFrame.fromObject(ns.dataMessage)}if(ns.remoteVideoUpdate!=null){if(typeof ns.remoteVideoUpdate!="object")throw TypeError(".SdkSignalFrame.remoteVideoUpdate: object expected");os.remoteVideoUpdate=$root.SdkRemoteVideoUpdateFrame.fromObject(ns.remoteVideoUpdate)}if(ns.primaryMeetingJoin!=null){if(typeof ns.primaryMeetingJoin!="object")throw TypeError(".SdkSignalFrame.primaryMeetingJoin: object expected");os.primaryMeetingJoin=$root.SdkPrimaryMeetingJoinFrame.fromObject(ns.primaryMeetingJoin)}if(ns.primaryMeetingJoinAck!=null){if(typeof ns.primaryMeetingJoinAck!="object")throw TypeError(".SdkSignalFrame.primaryMeetingJoinAck: object expected");os.primaryMeetingJoinAck=$root.SdkPrimaryMeetingJoinAckFrame.fromObject(ns.primaryMeetingJoinAck)}if(ns.primaryMeetingLeave!=null){if(typeof ns.primaryMeetingLeave!="object")throw TypeError(".SdkSignalFrame.primaryMeetingLeave: object expected");os.primaryMeetingLeave=$root.SdkPrimaryMeetingLeaveFrame.fromObject(ns.primaryMeetingLeave)}if(ns.notification!=null){if(typeof ns.notification!="object")throw TypeError(".SdkSignalFrame.notification: object expected");os.notification=$root.SdkNotificationFrame.fromObject(ns.notification)}return os},ts.toObject=function(ns,os){os||(os={});var ss={};if(os.defaults){if($util.Long){var as=new $util.Long(0,0,!0);ss.timestampMs=os.longs===String?as.toString():os.longs===Number?as.toNumber():as}else ss.timestampMs=os.longs===String?"0":0;ss.type=os.enums===String?"JOIN":1,ss.error=null,ss.join=null,ss.joinack=null,ss.sub=null,ss.suback=null,ss.index=null,ss.pause=null,ss.leave=null,ss.leaveAck=null,ss.bitrates=null,ss.audioControl=null,ss.audioMetadata=null,ss.audioStreamIdInfo=null,ss.pingPong=null,ss.audioStatus=null,ss.clientMetric=null,ss.dataMessage=null,ss.remoteVideoUpdate=null,ss.primaryMeetingJoin=null,ss.primaryMeetingJoinAck=null,ss.primaryMeetingLeave=null,ss.notification=null}return ns.timestampMs!=null&&ns.hasOwnProperty("timestampMs")&&(typeof ns.timestampMs=="number"?ss.timestampMs=os.longs===String?String(ns.timestampMs):ns.timestampMs:ss.timestampMs=os.longs===String?$util.Long.prototype.toString.call(ns.timestampMs):os.longs===Number?new $util.LongBits(ns.timestampMs.low>>>0,ns.timestampMs.high>>>0).toNumber(!0):ns.timestampMs),ns.type!=null&&ns.hasOwnProperty("type")&&(ss.type=os.enums===String?$root.SdkSignalFrame.Type[ns.type]===void 0?ns.type:$root.SdkSignalFrame.Type[ns.type]:ns.type),ns.error!=null&&ns.hasOwnProperty("error")&&(ss.error=$root.SdkErrorFrame.toObject(ns.error,os)),ns.join!=null&&ns.hasOwnProperty("join")&&(ss.join=$root.SdkJoinFrame.toObject(ns.join,os)),ns.joinack!=null&&ns.hasOwnProperty("joinack")&&(ss.joinack=$root.SdkJoinAckFrame.toObject(ns.joinack,os)),ns.sub!=null&&ns.hasOwnProperty("sub")&&(ss.sub=$root.SdkSubscribeFrame.toObject(ns.sub,os)),ns.suback!=null&&ns.hasOwnProperty("suback")&&(ss.suback=$root.SdkSubscribeAckFrame.toObject(ns.suback,os)),ns.index!=null&&ns.hasOwnProperty("index")&&(ss.index=$root.SdkIndexFrame.toObject(ns.index,os)),ns.pause!=null&&ns.hasOwnProperty("pause")&&(ss.pause=$root.SdkPauseResumeFrame.toObject(ns.pause,os)),ns.leave!=null&&ns.hasOwnProperty("leave")&&(ss.leave=$root.SdkLeaveFrame.toObject(ns.leave,os)),ns.leaveAck!=null&&ns.hasOwnProperty("leaveAck")&&(ss.leaveAck=$root.SdkLeaveAckFrame.toObject(ns.leaveAck,os)),ns.bitrates!=null&&ns.hasOwnProperty("bitrates")&&(ss.bitrates=$root.SdkBitrateFrame.toObject(ns.bitrates,os)),ns.audioControl!=null&&ns.hasOwnProperty("audioControl")&&(ss.audioControl=$root.SdkAudioControlFrame.toObject(ns.audioControl,os)),ns.audioMetadata!=null&&ns.hasOwnProperty("audioMetadata")&&(ss.audioMetadata=$root.SdkAudioMetadataFrame.toObject(ns.audioMetadata,os)),ns.audioStreamIdInfo!=null&&ns.hasOwnProperty("audioStreamIdInfo")&&(ss.audioStreamIdInfo=$root.SdkAudioStreamIdInfoFrame.toObject(ns.audioStreamIdInfo,os)),ns.pingPong!=null&&ns.hasOwnProperty("pingPong")&&(ss.pingPong=$root.SdkPingPongFrame.toObject(ns.pingPong,os)),ns.audioStatus!=null&&ns.hasOwnProperty("audioStatus")&&(ss.audioStatus=$root.SdkAudioStatusFrame.toObject(ns.audioStatus,os)),ns.clientMetric!=null&&ns.hasOwnProperty("clientMetric")&&(ss.clientMetric=$root.SdkClientMetricFrame.toObject(ns.clientMetric,os)),ns.dataMessage!=null&&ns.hasOwnProperty("dataMessage")&&(ss.dataMessage=$root.SdkDataMessageFrame.toObject(ns.dataMessage,os)),ns.remoteVideoUpdate!=null&&ns.hasOwnProperty("remoteVideoUpdate")&&(ss.remoteVideoUpdate=$root.SdkRemoteVideoUpdateFrame.toObject(ns.remoteVideoUpdate,os)),ns.primaryMeetingJoin!=null&&ns.hasOwnProperty("primaryMeetingJoin")&&(ss.primaryMeetingJoin=$root.SdkPrimaryMeetingJoinFrame.toObject(ns.primaryMeetingJoin,os)),ns.primaryMeetingJoinAck!=null&&ns.hasOwnProperty("primaryMeetingJoinAck")&&(ss.primaryMeetingJoinAck=$root.SdkPrimaryMeetingJoinAckFrame.toObject(ns.primaryMeetingJoinAck,os)),ns.primaryMeetingLeave!=null&&ns.hasOwnProperty("primaryMeetingLeave")&&(ss.primaryMeetingLeave=$root.SdkPrimaryMeetingLeaveFrame.toObject(ns.primaryMeetingLeave,os)),ns.notification!=null&&ns.hasOwnProperty("notification")&&(ss.notification=$root.SdkNotificationFrame.toObject(ns.notification,os)),ss},ts.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},ts.getTypeUrl=function(ns){return ns===void 0&&(ns="type.googleapis.com"),ns+"/SdkSignalFrame"},ts.Type=function(){var rs={},ns=Object.create(rs);return ns[rs[1]="JOIN"]=1,ns[rs[2]="JOIN_ACK"]=2,ns[rs[3]="SUBSCRIBE"]=3,ns[rs[4]="SUBSCRIBE_ACK"]=4,ns[rs[5]="INDEX"]=5,ns[rs[7]="PAUSE"]=7,ns[rs[8]="RESUME"]=8,ns[rs[9]="LEAVE"]=9,ns[rs[10]="LEAVE_ACK"]=10,ns[rs[13]="BITRATES"]=13,ns[rs[16]="AUDIO_CONTROL"]=16,ns[rs[17]="AUDIO_METADATA"]=17,ns[rs[18]="AUDIO_STREAM_ID_INFO"]=18,ns[rs[19]="PING_PONG"]=19,ns[rs[20]="AUDIO_STATUS"]=20,ns[rs[21]="CLIENT_METRIC"]=21,ns[rs[22]="DATA_MESSAGE"]=22,ns[rs[24]="REMOTE_VIDEO_UPDATE"]=24,ns[rs[25]="PRIMARY_MEETING_JOIN"]=25,ns[rs[26]="PRIMARY_MEETING_JOIN_ACK"]=26,ns[rs[27]="PRIMARY_MEETING_LEAVE"]=27,ns[rs[34]="NOTIFICATION"]=34,ns}(),ts}();$root.SdkErrorFrame=function(){function ts(rs){if(rs)for(var ns=Object.keys(rs),os=0;os<ns.length;++os)rs[ns[os]]!=null&&(this[ns[os]]=rs[ns[os]])}return ts.prototype.status=0,ts.prototype.description="",ts.create=function(ns){return new ts(ns)},ts.encode=function(ns,os){return os||(os=$Writer.create()),ns.status!=null&&Object.hasOwnProperty.call(ns,"status")&&os.uint32(8).uint32(ns.status),ns.description!=null&&Object.hasOwnProperty.call(ns,"description")&&os.uint32(18).string(ns.description),os},ts.encodeDelimited=function(ns,os){return this.encode(ns,os).ldelim()},ts.decode=function(ns,os){ns instanceof $Reader||(ns=$Reader.create(ns));for(var ss=os===void 0?ns.len:ns.pos+os,as=new $root.SdkErrorFrame;ns.pos<ss;){var ls=ns.uint32();switch(ls>>>3){case 1:{as.status=ns.uint32();break}case 2:{as.description=ns.string();break}default:ns.skipType(ls&7);break}}return as},ts.decodeDelimited=function(ns){return ns instanceof $Reader||(ns=new $Reader(ns)),this.decode(ns,ns.uint32())},ts.verify=function(ns){return typeof ns!="object"||ns===null?"object expected":ns.status!=null&&ns.hasOwnProperty("status")&&!$util.isInteger(ns.status)?"status: integer expected":ns.description!=null&&ns.hasOwnProperty("description")&&!$util.isString(ns.description)?"description: string expected":null},ts.fromObject=function(ns){if(ns instanceof $root.SdkErrorFrame)return ns;var os=new $root.SdkErrorFrame;return ns.status!=null&&(os.status=ns.status>>>0),ns.description!=null&&(os.description=String(ns.description)),os},ts.toObject=function(ns,os){os||(os={});var ss={};return os.defaults&&(ss.status=0,ss.description=""),ns.status!=null&&ns.hasOwnProperty("status")&&(ss.status=ns.status),ns.description!=null&&ns.hasOwnProperty("description")&&(ss.description=ns.description),ss},ts.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},ts.getTypeUrl=function(ns){return ns===void 0&&(ns="type.googleapis.com"),ns+"/SdkErrorFrame"},ts}();$root.SdkJoinFlags=function(){var ts={},rs=Object.create(ts);return rs[ts[2]="HAS_STREAM_UPDATE"]=2,rs[ts[16]="COMPLETE_VIDEO_SOURCES_LIST"]=16,rs[ts[32]="EXCLUDE_SELF_CONTENT_IN_INDEX"]=32,rs}();$root.SdkClientDetails=function(){function ts(rs){if(rs)for(var ns=Object.keys(rs),os=0;os<ns.length;++os)rs[ns[os]]!=null&&(this[ns[os]]=rs[ns[os]])}return ts.prototype.appName="",ts.prototype.appVersion="",ts.prototype.deviceModel="",ts.prototype.deviceMake="",ts.prototype.platformName="",ts.prototype.platformVersion="",ts.prototype.clientSource="",ts.prototype.chimeSdkVersion="",ts.prototype.clientUtcOffset="",ts.create=function(ns){return new ts(ns)},ts.encode=function(ns,os){return os||(os=$Writer.create()),ns.appName!=null&&Object.hasOwnProperty.call(ns,"appName")&&os.uint32(10).string(ns.appName),ns.appVersion!=null&&Object.hasOwnProperty.call(ns,"appVersion")&&os.uint32(18).string(ns.appVersion),ns.deviceModel!=null&&Object.hasOwnProperty.call(ns,"deviceModel")&&os.uint32(26).string(ns.deviceModel),ns.deviceMake!=null&&Object.hasOwnProperty.call(ns,"deviceMake")&&os.uint32(34).string(ns.deviceMake),ns.platformName!=null&&Object.hasOwnProperty.call(ns,"platformName")&&os.uint32(42).string(ns.platformName),ns.platformVersion!=null&&Object.hasOwnProperty.call(ns,"platformVersion")&&os.uint32(50).string(ns.platformVersion),ns.clientSource!=null&&Object.hasOwnProperty.call(ns,"clientSource")&&os.uint32(58).string(ns.clientSource),ns.chimeSdkVersion!=null&&Object.hasOwnProperty.call(ns,"chimeSdkVersion")&&os.uint32(66).string(ns.chimeSdkVersion),ns.clientUtcOffset!=null&&Object.hasOwnProperty.call(ns,"clientUtcOffset")&&os.uint32(74).string(ns.clientUtcOffset),os},ts.encodeDelimited=function(ns,os){return this.encode(ns,os).ldelim()},ts.decode=function(ns,os){ns instanceof $Reader||(ns=$Reader.create(ns));for(var ss=os===void 0?ns.len:ns.pos+os,as=new $root.SdkClientDetails;ns.pos<ss;){var ls=ns.uint32();switch(ls>>>3){case 1:{as.appName=ns.string();break}case 2:{as.appVersion=ns.string();break}case 3:{as.deviceModel=ns.string();break}case 4:{as.deviceMake=ns.string();break}case 5:{as.platformName=ns.string();break}case 6:{as.platformVersion=ns.string();break}case 7:{as.clientSource=ns.string();break}case 8:{as.chimeSdkVersion=ns.string();break}case 9:{as.clientUtcOffset=ns.string();break}default:ns.skipType(ls&7);break}}return as},ts.decodeDelimited=function(ns){return ns instanceof $Reader||(ns=new $Reader(ns)),this.decode(ns,ns.uint32())},ts.verify=function(ns){return typeof ns!="object"||ns===null?"object expected":ns.appName!=null&&ns.hasOwnProperty("appName")&&!$util.isString(ns.appName)?"appName: string expected":ns.appVersion!=null&&ns.hasOwnProperty("appVersion")&&!$util.isString(ns.appVersion)?"appVersion: string expected":ns.deviceModel!=null&&ns.hasOwnProperty("deviceModel")&&!$util.isString(ns.deviceModel)?"deviceModel: string expected":ns.deviceMake!=null&&ns.hasOwnProperty("deviceMake")&&!$util.isString(ns.deviceMake)?"deviceMake: string expected":ns.platformName!=null&&ns.hasOwnProperty("platformName")&&!$util.isString(ns.platformName)?"platformName: string expected":ns.platformVersion!=null&&ns.hasOwnProperty("platformVersion")&&!$util.isString(ns.platformVersion)?"platformVersion: string expected":ns.clientSource!=null&&ns.hasOwnProperty("clientSource")&&!$util.isString(ns.clientSource)?"clientSource: string expected":ns.chimeSdkVersion!=null&&ns.hasOwnProperty("chimeSdkVersion")&&!$util.isString(ns.chimeSdkVersion)?"chimeSdkVersion: string expected":ns.clientUtcOffset!=null&&ns.hasOwnProperty("clientUtcOffset")&&!$util.isString(ns.clientUtcOffset)?"clientUtcOffset: string expected":null},ts.fromObject=function(ns){if(ns instanceof $root.SdkClientDetails)return ns;var os=new $root.SdkClientDetails;return ns.appName!=null&&(os.appName=String(ns.appName)),ns.appVersion!=null&&(os.appVersion=String(ns.appVersion)),ns.deviceModel!=null&&(os.deviceModel=String(ns.deviceModel)),ns.deviceMake!=null&&(os.deviceMake=String(ns.deviceMake)),ns.platformName!=null&&(os.platformName=String(ns.platformName)),ns.platformVersion!=null&&(os.platformVersion=String(ns.platformVersion)),ns.clientSource!=null&&(os.clientSource=String(ns.clientSource)),ns.chimeSdkVersion!=null&&(os.chimeSdkVersion=String(ns.chimeSdkVersion)),ns.clientUtcOffset!=null&&(os.clientUtcOffset=String(ns.clientUtcOffset)),os},ts.toObject=function(ns,os){os||(os={});var ss={};return os.defaults&&(ss.appName="",ss.appVersion="",ss.deviceModel="",ss.deviceMake="",ss.platformName="",ss.platformVersion="",ss.clientSource="",ss.chimeSdkVersion="",ss.clientUtcOffset=""),ns.appName!=null&&ns.hasOwnProperty("appName")&&(ss.appName=ns.appName),ns.appVersion!=null&&ns.hasOwnProperty("appVersion")&&(ss.appVersion=ns.appVersion),ns.deviceModel!=null&&ns.hasOwnProperty("deviceModel")&&(ss.deviceModel=ns.deviceModel),ns.deviceMake!=null&&ns.hasOwnProperty("deviceMake")&&(ss.deviceMake=ns.deviceMake),ns.platformName!=null&&ns.hasOwnProperty("platformName")&&(ss.platformName=ns.platformName),ns.platformVersion!=null&&ns.hasOwnProperty("platformVersion")&&(ss.platformVersion=ns.platformVersion),ns.clientSource!=null&&ns.hasOwnProperty("clientSource")&&(ss.clientSource=ns.clientSource),ns.chimeSdkVersion!=null&&ns.hasOwnProperty("chimeSdkVersion")&&(ss.chimeSdkVersion=ns.chimeSdkVersion),ns.clientUtcOffset!=null&&ns.hasOwnProperty("clientUtcOffset")&&(ss.clientUtcOffset=ns.clientUtcOffset),ss},ts.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},ts.getTypeUrl=function(ns){return ns===void 0&&(ns="type.googleapis.com"),ns+"/SdkClientDetails"},ts}();$root.SdkServerSideNetworkAdaption=function(){var ts={},rs=Object.create(ts);return rs[ts[1]="DEFAULT"]=1,rs[ts[2]="NONE"]=2,rs[ts[3]="BANDWIDTH_PROBING"]=3,rs[ts[4]="BANDWIDTH_PROBING_AND_VIDEO_QUALITY_ADAPTION"]=4,rs}();$root.SdkJoinFrame=function(){function ts(rs){if(this.supportedServerSideNetworkAdaptions=[],rs)for(var ns=Object.keys(rs),os=0;os<ns.length;++os)rs[ns[os]]!=null&&(this[ns[os]]=rs[ns[os]])}return ts.prototype.protocolVersion=2,ts.prototype.maxNumOfVideos=0,ts.prototype.flags=0,ts.prototype.clientDetails=null,ts.prototype.audioSessionId=$util.Long?$util.Long.fromBits(0,0,!0):0,ts.prototype.wantsCompressedSdp=!1,ts.prototype.serverSideNetworkAdaption=1,ts.prototype.supportedServerSideNetworkAdaptions=$util.emptyArray,ts.prototype.wantsAllTemporalLayersInIndex=!1,ts.prototype.disablePeriodicKeyframeRequestOnContentSender=!1,ts.create=function(ns){return new ts(ns)},ts.encode=function(ns,os){if(os||(os=$Writer.create()),ns.protocolVersion!=null&&Object.hasOwnProperty.call(ns,"protocolVersion")&&os.uint32(8).uint32(ns.protocolVersion),ns.maxNumOfVideos!=null&&Object.hasOwnProperty.call(ns,"maxNumOfVideos")&&os.uint32(16).uint32(ns.maxNumOfVideos),ns.flags!=null&&Object.hasOwnProperty.call(ns,"flags")&&os.uint32(24).uint32(ns.flags),ns.clientDetails!=null&&Object.hasOwnProperty.call(ns,"clientDetails")&&$root.SdkClientDetails.encode(ns.clientDetails,os.uint32(34).fork()).ldelim(),ns.audioSessionId!=null&&Object.hasOwnProperty.call(ns,"audioSessionId")&&os.uint32(48).uint64(ns.audioSessionId),ns.wantsCompressedSdp!=null&&Object.hasOwnProperty.call(ns,"wantsCompressedSdp")&&os.uint32(56).bool(ns.wantsCompressedSdp),ns.serverSideNetworkAdaption!=null&&Object.hasOwnProperty.call(ns,"serverSideNetworkAdaption")&&os.uint32(80).int32(ns.serverSideNetworkAdaption),ns.supportedServerSideNetworkAdaptions!=null&&ns.supportedServerSideNetworkAdaptions.length)for(var ss=0;ss<ns.supportedServerSideNetworkAdaptions.length;++ss)os.uint32(88).int32(ns.supportedServerSideNetworkAdaptions[ss]);return ns.wantsAllTemporalLayersInIndex!=null&&Object.hasOwnProperty.call(ns,"wantsAllTemporalLayersInIndex")&&os.uint32(96).bool(ns.wantsAllTemporalLayersInIndex),ns.disablePeriodicKeyframeRequestOnContentSender!=null&&Object.hasOwnProperty.call(ns,"disablePeriodicKeyframeRequestOnContentSender")&&os.uint32(104).bool(ns.disablePeriodicKeyframeRequestOnContentSender),os},ts.encodeDelimited=function(ns,os){return this.encode(ns,os).ldelim()},ts.decode=function(ns,os){ns instanceof $Reader||(ns=$Reader.create(ns));for(var ss=os===void 0?ns.len:ns.pos+os,as=new $root.SdkJoinFrame;ns.pos<ss;){var ls=ns.uint32();switch(ls>>>3){case 1:{as.protocolVersion=ns.uint32();break}case 2:{as.maxNumOfVideos=ns.uint32();break}case 3:{as.flags=ns.uint32();break}case 4:{as.clientDetails=$root.SdkClientDetails.decode(ns,ns.uint32());break}case 6:{as.audioSessionId=ns.uint64();break}case 7:{as.wantsCompressedSdp=ns.bool();break}case 10:{as.serverSideNetworkAdaption=ns.int32();break}case 11:{if(as.supportedServerSideNetworkAdaptions&&as.supportedServerSideNetworkAdaptions.length||(as.supportedServerSideNetworkAdaptions=[]),(ls&7)===2)for(var cs=ns.uint32()+ns.pos;ns.pos<cs;)as.supportedServerSideNetworkAdaptions.push(ns.int32());else as.supportedServerSideNetworkAdaptions.push(ns.int32());break}case 12:{as.wantsAllTemporalLayersInIndex=ns.bool();break}case 13:{as.disablePeriodicKeyframeRequestOnContentSender=ns.bool();break}default:ns.skipType(ls&7);break}}return as},ts.decodeDelimited=function(ns){return ns instanceof $Reader||(ns=new $Reader(ns)),this.decode(ns,ns.uint32())},ts.verify=function(ns){if(typeof ns!="object"||ns===null)return"object expected";if(ns.protocolVersion!=null&&ns.hasOwnProperty("protocolVersion")&&!$util.isInteger(ns.protocolVersion))return"protocolVersion: integer expected";if(ns.maxNumOfVideos!=null&&ns.hasOwnProperty("maxNumOfVideos")&&!$util.isInteger(ns.maxNumOfVideos))return"maxNumOfVideos: integer expected";if(ns.flags!=null&&ns.hasOwnProperty("flags")&&!$util.isInteger(ns.flags))return"flags: integer expected";if(ns.clientDetails!=null&&ns.hasOwnProperty("clientDetails")){var os=$root.SdkClientDetails.verify(ns.clientDetails);if(os)return"clientDetails."+os}if(ns.audioSessionId!=null&&ns.hasOwnProperty("audioSessionId")&&!$util.isInteger(ns.audioSessionId)&&!(ns.audioSessionId&&$util.isInteger(ns.audioSessionId.low)&&$util.isInteger(ns.audioSessionId.high)))return"audioSessionId: integer|Long expected";if(ns.wantsCompressedSdp!=null&&ns.hasOwnProperty("wantsCompressedSdp")&&typeof ns.wantsCompressedSdp!="boolean")return"wantsCompressedSdp: boolean expected";if(ns.serverSideNetworkAdaption!=null&&ns.hasOwnProperty("serverSideNetworkAdaption"))switch(ns.serverSideNetworkAdaption){default:return"serverSideNetworkAdaption: enum value expected";case 1:case 2:case 3:case 4:break}if(ns.supportedServerSideNetworkAdaptions!=null&&ns.hasOwnProperty("supportedServerSideNetworkAdaptions")){if(!Array.isArray(ns.supportedServerSideNetworkAdaptions))return"supportedServerSideNetworkAdaptions: array expected";for(var ss=0;ss<ns.supportedServerSideNetworkAdaptions.length;++ss)switch(ns.supportedServerSideNetworkAdaptions[ss]){default:return"supportedServerSideNetworkAdaptions: enum value[] expected";case 1:case 2:case 3:case 4:break}}return ns.wantsAllTemporalLayersInIndex!=null&&ns.hasOwnProperty("wantsAllTemporalLayersInIndex")&&typeof ns.wantsAllTemporalLayersInIndex!="boolean"?"wantsAllTemporalLayersInIndex: boolean expected":ns.disablePeriodicKeyframeRequestOnContentSender!=null&&ns.hasOwnProperty("disablePeriodicKeyframeRequestOnContentSender")&&typeof ns.disablePeriodicKeyframeRequestOnContentSender!="boolean"?"disablePeriodicKeyframeRequestOnContentSender: boolean expected":null},ts.fromObject=function(ns){if(ns instanceof $root.SdkJoinFrame)return ns;var os=new $root.SdkJoinFrame;if(ns.protocolVersion!=null&&(os.protocolVersion=ns.protocolVersion>>>0),ns.maxNumOfVideos!=null&&(os.maxNumOfVideos=ns.maxNumOfVideos>>>0),ns.flags!=null&&(os.flags=ns.flags>>>0),ns.clientDetails!=null){if(typeof ns.clientDetails!="object")throw TypeError(".SdkJoinFrame.clientDetails: object expected");os.clientDetails=$root.SdkClientDetails.fromObject(ns.clientDetails)}switch(ns.audioSessionId!=null&&($util.Long?(os.audioSessionId=$util.Long.fromValue(ns.audioSessionId)).unsigned=!0:typeof ns.audioSessionId=="string"?os.audioSessionId=parseInt(ns.audioSessionId,10):typeof ns.audioSessionId=="number"?os.audioSessionId=ns.audioSessionId:typeof ns.audioSessionId=="object"&&(os.audioSessionId=new $util.LongBits(ns.audioSessionId.low>>>0,ns.audioSessionId.high>>>0).toNumber(!0))),ns.wantsCompressedSdp!=null&&(os.wantsCompressedSdp=!!ns.wantsCompressedSdp),ns.serverSideNetworkAdaption){default:if(typeof ns.serverSideNetworkAdaption=="number"){os.serverSideNetworkAdaption=ns.serverSideNetworkAdaption;break}break;case"DEFAULT":case 1:os.serverSideNetworkAdaption=1;break;case"NONE":case 2:os.serverSideNetworkAdaption=2;break;case"BANDWIDTH_PROBING":case 3:os.serverSideNetworkAdaption=3;break;case"BANDWIDTH_PROBING_AND_VIDEO_QUALITY_ADAPTION":case 4:os.serverSideNetworkAdaption=4;break}if(ns.supportedServerSideNetworkAdaptions){if(!Array.isArray(ns.supportedServerSideNetworkAdaptions))throw TypeError(".SdkJoinFrame.supportedServerSideNetworkAdaptions: array expected");os.supportedServerSideNetworkAdaptions=[];for(var ss=0;ss<ns.supportedServerSideNetworkAdaptions.length;++ss)switch(ns.supportedServerSideNetworkAdaptions[ss]){default:if(typeof ns.supportedServerSideNetworkAdaptions[ss]=="number"){os.supportedServerSideNetworkAdaptions[ss]=ns.supportedServerSideNetworkAdaptions[ss];break}case"DEFAULT":case 1:os.supportedServerSideNetworkAdaptions[ss]=1;break;case"NONE":case 2:os.supportedServerSideNetworkAdaptions[ss]=2;break;case"BANDWIDTH_PROBING":case 3:os.supportedServerSideNetworkAdaptions[ss]=3;break;case"BANDWIDTH_PROBING_AND_VIDEO_QUALITY_ADAPTION":case 4:os.supportedServerSideNetworkAdaptions[ss]=4;break}}return ns.wantsAllTemporalLayersInIndex!=null&&(os.wantsAllTemporalLayersInIndex=!!ns.wantsAllTemporalLayersInIndex),ns.disablePeriodicKeyframeRequestOnContentSender!=null&&(os.disablePeriodicKeyframeRequestOnContentSender=!!ns.disablePeriodicKeyframeRequestOnContentSender),os},ts.toObject=function(ns,os){os||(os={});var ss={};if((os.arrays||os.defaults)&&(ss.supportedServerSideNetworkAdaptions=[]),os.defaults){if(ss.protocolVersion=2,ss.maxNumOfVideos=0,ss.flags=0,ss.clientDetails=null,$util.Long){var as=new $util.Long(0,0,!0);ss.audioSessionId=os.longs===String?as.toString():os.longs===Number?as.toNumber():as}else ss.audioSessionId=os.longs===String?"0":0;ss.wantsCompressedSdp=!1,ss.serverSideNetworkAdaption=os.enums===String?"DEFAULT":1,ss.wantsAllTemporalLayersInIndex=!1,ss.disablePeriodicKeyframeRequestOnContentSender=!1}if(ns.protocolVersion!=null&&ns.hasOwnProperty("protocolVersion")&&(ss.protocolVersion=ns.protocolVersion),ns.maxNumOfVideos!=null&&ns.hasOwnProperty("maxNumOfVideos")&&(ss.maxNumOfVideos=ns.maxNumOfVideos),ns.flags!=null&&ns.hasOwnProperty("flags")&&(ss.flags=ns.flags),ns.clientDetails!=null&&ns.hasOwnProperty("clientDetails")&&(ss.clientDetails=$root.SdkClientDetails.toObject(ns.clientDetails,os)),ns.audioSessionId!=null&&ns.hasOwnProperty("audioSessionId")&&(typeof ns.audioSessionId=="number"?ss.audioSessionId=os.longs===String?String(ns.audioSessionId):ns.audioSessionId:ss.audioSessionId=os.longs===String?$util.Long.prototype.toString.call(ns.audioSessionId):os.longs===Number?new $util.LongBits(ns.audioSessionId.low>>>0,ns.audioSessionId.high>>>0).toNumber(!0):ns.audioSessionId),ns.wantsCompressedSdp!=null&&ns.hasOwnProperty("wantsCompressedSdp")&&(ss.wantsCompressedSdp=ns.wantsCompressedSdp),ns.serverSideNetworkAdaption!=null&&ns.hasOwnProperty("serverSideNetworkAdaption")&&(ss.serverSideNetworkAdaption=os.enums===String?$root.SdkServerSideNetworkAdaption[ns.serverSideNetworkAdaption]===void 0?ns.serverSideNetworkAdaption:$root.SdkServerSideNetworkAdaption[ns.serverSideNetworkAdaption]:ns.serverSideNetworkAdaption),ns.supportedServerSideNetworkAdaptions&&ns.supportedServerSideNetworkAdaptions.length){ss.supportedServerSideNetworkAdaptions=[];for(var ls=0;ls<ns.supportedServerSideNetworkAdaptions.length;++ls)ss.supportedServerSideNetworkAdaptions[ls]=os.enums===String?$root.SdkServerSideNetworkAdaption[ns.supportedServerSideNetworkAdaptions[ls]]===void 0?ns.supportedServerSideNetworkAdaptions[ls]:$root.SdkServerSideNetworkAdaption[ns.supportedServerSideNetworkAdaptions[ls]]:ns.supportedServerSideNetworkAdaptions[ls]}return ns.wantsAllTemporalLayersInIndex!=null&&ns.hasOwnProperty("wantsAllTemporalLayersInIndex")&&(ss.wantsAllTemporalLayersInIndex=ns.wantsAllTemporalLayersInIndex),ns.disablePeriodicKeyframeRequestOnContentSender!=null&&ns.hasOwnProperty("disablePeriodicKeyframeRequestOnContentSender")&&(ss.disablePeriodicKeyframeRequestOnContentSender=ns.disablePeriodicKeyframeRequestOnContentSender),ss},ts.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},ts.getTypeUrl=function(ns){return ns===void 0&&(ns="type.googleapis.com"),ns+"/SdkJoinFrame"},ts}();$root.SdkJoinAckFrame=function(){function ts(rs){if(rs)for(var ns=Object.keys(rs),os=0;os<ns.length;++os)rs[ns[os]]!=null&&(this[ns[os]]=rs[ns[os]])}return ts.prototype.turnCredentials=null,ts.prototype.videoSubscriptionLimit=0,ts.prototype.wantsCompressedSdp=!1,ts.prototype.defaultServerSideNetworkAdaption=1,ts.create=function(ns){return new ts(ns)},ts.encode=function(ns,os){return os||(os=$Writer.create()),ns.turnCredentials!=null&&Object.hasOwnProperty.call(ns,"turnCredentials")&&$root.SdkTurnCredentials.encode(ns.turnCredentials,os.uint32(10).fork()).ldelim(),ns.videoSubscriptionLimit!=null&&Object.hasOwnProperty.call(ns,"videoSubscriptionLimit")&&os.uint32(16).uint32(ns.videoSubscriptionLimit),ns.wantsCompressedSdp!=null&&Object.hasOwnProperty.call(ns,"wantsCompressedSdp")&&os.uint32(24).bool(ns.wantsCompressedSdp),ns.defaultServerSideNetworkAdaption!=null&&Object.hasOwnProperty.call(ns,"defaultServerSideNetworkAdaption")&&os.uint32(32).int32(ns.defaultServerSideNetworkAdaption),os},ts.encodeDelimited=function(ns,os){return this.encode(ns,os).ldelim()},ts.decode=function(ns,os){ns instanceof $Reader||(ns=$Reader.create(ns));for(var ss=os===void 0?ns.len:ns.pos+os,as=new $root.SdkJoinAckFrame;ns.pos<ss;){var ls=ns.uint32();switch(ls>>>3){case 1:{as.turnCredentials=$root.SdkTurnCredentials.decode(ns,ns.uint32());break}case 2:{as.videoSubscriptionLimit=ns.uint32();break}case 3:{as.wantsCompressedSdp=ns.bool();break}case 4:{as.defaultServerSideNetworkAdaption=ns.int32();break}default:ns.skipType(ls&7);break}}return as},ts.decodeDelimited=function(ns){return ns instanceof $Reader||(ns=new $Reader(ns)),this.decode(ns,ns.uint32())},ts.verify=function(ns){if(typeof ns!="object"||ns===null)return"object expected";if(ns.turnCredentials!=null&&ns.hasOwnProperty("turnCredentials")){var os=$root.SdkTurnCredentials.verify(ns.turnCredentials);if(os)return"turnCredentials."+os}if(ns.videoSubscriptionLimit!=null&&ns.hasOwnProperty("videoSubscriptionLimit")&&!$util.isInteger(ns.videoSubscriptionLimit))return"videoSubscriptionLimit: integer expected";if(ns.wantsCompressedSdp!=null&&ns.hasOwnProperty("wantsCompressedSdp")&&typeof ns.wantsCompressedSdp!="boolean")return"wantsCompressedSdp: boolean expected";if(ns.defaultServerSideNetworkAdaption!=null&&ns.hasOwnProperty("defaultServerSideNetworkAdaption"))switch(ns.defaultServerSideNetworkAdaption){default:return"defaultServerSideNetworkAdaption: enum value expected";case 1:case 2:case 3:case 4:break}return null},ts.fromObject=function(ns){if(ns instanceof $root.SdkJoinAckFrame)return ns;var os=new $root.SdkJoinAckFrame;if(ns.turnCredentials!=null){if(typeof ns.turnCredentials!="object")throw TypeError(".SdkJoinAckFrame.turnCredentials: object expected");os.turnCredentials=$root.SdkTurnCredentials.fromObject(ns.turnCredentials)}switch(ns.videoSubscriptionLimit!=null&&(os.videoSubscriptionLimit=ns.videoSubscriptionLimit>>>0),ns.wantsCompressedSdp!=null&&(os.wantsCompressedSdp=!!ns.wantsCompressedSdp),ns.defaultServerSideNetworkAdaption){default:if(typeof ns.defaultServerSideNetworkAdaption=="number"){os.defaultServerSideNetworkAdaption=ns.defaultServerSideNetworkAdaption;break}break;case"DEFAULT":case 1:os.defaultServerSideNetworkAdaption=1;break;case"NONE":case 2:os.defaultServerSideNetworkAdaption=2;break;case"BANDWIDTH_PROBING":case 3:os.defaultServerSideNetworkAdaption=3;break;case"BANDWIDTH_PROBING_AND_VIDEO_QUALITY_ADAPTION":case 4:os.defaultServerSideNetworkAdaption=4;break}return os},ts.toObject=function(ns,os){os||(os={});var ss={};return os.defaults&&(ss.turnCredentials=null,ss.videoSubscriptionLimit=0,ss.wantsCompressedSdp=!1,ss.defaultServerSideNetworkAdaption=os.enums===String?"DEFAULT":1),ns.turnCredentials!=null&&ns.hasOwnProperty("turnCredentials")&&(ss.turnCredentials=$root.SdkTurnCredentials.toObject(ns.turnCredentials,os)),ns.videoSubscriptionLimit!=null&&ns.hasOwnProperty("videoSubscriptionLimit")&&(ss.videoSubscriptionLimit=ns.videoSubscriptionLimit),ns.wantsCompressedSdp!=null&&ns.hasOwnProperty("wantsCompressedSdp")&&(ss.wantsCompressedSdp=ns.wantsCompressedSdp),ns.defaultServerSideNetworkAdaption!=null&&ns.hasOwnProperty("defaultServerSideNetworkAdaption")&&(ss.defaultServerSideNetworkAdaption=os.enums===String?$root.SdkServerSideNetworkAdaption[ns.defaultServerSideNetworkAdaption]===void 0?ns.defaultServerSideNetworkAdaption:$root.SdkServerSideNetworkAdaption[ns.defaultServerSideNetworkAdaption]:ns.defaultServerSideNetworkAdaption),ss},ts.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},ts.getTypeUrl=function(ns){return ns===void 0&&(ns="type.googleapis.com"),ns+"/SdkJoinAckFrame"},ts}();$root.SdkLeaveFrame=function(){function ts(rs){if(rs)for(var ns=Object.keys(rs),os=0;os<ns.length;++os)rs[ns[os]]!=null&&(this[ns[os]]=rs[ns[os]])}return ts.create=function(ns){return new ts(ns)},ts.encode=function(ns,os){return os||(os=$Writer.create()),os},ts.encodeDelimited=function(ns,os){return this.encode(ns,os).ldelim()},ts.decode=function(ns,os){ns instanceof $Reader||(ns=$Reader.create(ns));for(var ss=os===void 0?ns.len:ns.pos+os,as=new $root.SdkLeaveFrame;ns.pos<ss;){var ls=ns.uint32();switch(ls>>>3){default:ns.skipType(ls&7);break}}return as},ts.decodeDelimited=function(ns){return ns instanceof $Reader||(ns=new $Reader(ns)),this.decode(ns,ns.uint32())},ts.verify=function(ns){return typeof ns!="object"||ns===null?"object expected":null},ts.fromObject=function(ns){return ns instanceof $root.SdkLeaveFrame?ns:new $root.SdkLeaveFrame},ts.toObject=function(){return{}},ts.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},ts.getTypeUrl=function(ns){return ns===void 0&&(ns="type.googleapis.com"),ns+"/SdkLeaveFrame"},ts}();$root.SdkLeaveAckFrame=function(){function ts(rs){if(rs)for(var ns=Object.keys(rs),os=0;os<ns.length;++os)rs[ns[os]]!=null&&(this[ns[os]]=rs[ns[os]])}return ts.create=function(ns){return new ts(ns)},ts.encode=function(ns,os){return os||(os=$Writer.create()),os},ts.encodeDelimited=function(ns,os){return this.encode(ns,os).ldelim()},ts.decode=function(ns,os){ns instanceof $Reader||(ns=$Reader.create(ns));for(var ss=os===void 0?ns.len:ns.pos+os,as=new $root.SdkLeaveAckFrame;ns.pos<ss;){var ls=ns.uint32();switch(ls>>>3){default:ns.skipType(ls&7);break}}return as},ts.decodeDelimited=function(ns){return ns instanceof $Reader||(ns=new $Reader(ns)),this.decode(ns,ns.uint32())},ts.verify=function(ns){return typeof ns!="object"||ns===null?"object expected":null},ts.fromObject=function(ns){return ns instanceof $root.SdkLeaveAckFrame?ns:new $root.SdkLeaveAckFrame},ts.toObject=function(){return{}},ts.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},ts.getTypeUrl=function(ns){return ns===void 0&&(ns="type.googleapis.com"),ns+"/SdkLeaveAckFrame"},ts}();$root.SdkStreamServiceType=function(){var ts={},rs=Object.create(ts);return rs[ts[1]="RX"]=1,rs[ts[2]="TX"]=2,rs[ts[3]="DUPLEX"]=3,rs}();$root.SdkStreamMediaType=function(){var ts={},rs=Object.create(ts);return rs[ts[1]="AUDIO"]=1,rs[ts[2]="VIDEO"]=2,rs}();$root.SdkSubscribeFrame=function(){function ts(rs){if(this.sendStreams=[],this.receiveStreamIds=[],this.videoSubscriptionConfiguration=[],rs)for(var ns=Object.keys(rs),os=0;os<ns.length;++os)rs[ns[os]]!=null&&(this[ns[os]]=rs[ns[os]])}return ts.prototype.duplex=1,ts.prototype.sendStreams=$util.emptyArray,ts.prototype.receiveStreamIds=$util.emptyArray,ts.prototype.sdpOffer="",ts.prototype.audioHost="",ts.prototype.audioCheckin=!1,ts.prototype.audioMuted=!1,ts.prototype.compressedSdpOffer=$util.newBuffer([]),ts.prototype.videoSubscriptionConfiguration=$util.emptyArray,ts.create=function(ns){return new ts(ns)},ts.encode=function(ns,os){if(os||(os=$Writer.create()),ns.duplex!=null&&Object.hasOwnProperty.call(ns,"duplex")&&os.uint32(8).int32(ns.duplex),ns.sendStreams!=null&&ns.sendStreams.length)for(var ss=0;ss<ns.sendStreams.length;++ss)$root.SdkStreamDescriptor.encode(ns.sendStreams[ss],os.uint32(18).fork()).ldelim();if(ns.receiveStreamIds!=null&&ns.receiveStreamIds.length)for(var ss=0;ss<ns.receiveStreamIds.length;++ss)os.uint32(24).uint32(ns.receiveStreamIds[ss]);if(ns.sdpOffer!=null&&Object.hasOwnProperty.call(ns,"sdpOffer")&&os.uint32(34).string(ns.sdpOffer),ns.audioHost!=null&&Object.hasOwnProperty.call(ns,"audioHost")&&os.uint32(42).string(ns.audioHost),ns.audioCheckin!=null&&Object.hasOwnProperty.call(ns,"audioCheckin")&&os.uint32(48).bool(ns.audioCheckin),ns.audioMuted!=null&&Object.hasOwnProperty.call(ns,"audioMuted")&&os.uint32(56).bool(ns.audioMuted),ns.compressedSdpOffer!=null&&Object.hasOwnProperty.call(ns,"compressedSdpOffer")&&os.uint32(66).bytes(ns.compressedSdpOffer),ns.videoSubscriptionConfiguration!=null&&ns.videoSubscriptionConfiguration.length)for(var ss=0;ss<ns.videoSubscriptionConfiguration.length;++ss)$root.SdkVideoSubscriptionConfiguration.encode(ns.videoSubscriptionConfiguration[ss],os.uint32(74).fork()).ldelim();return os},ts.encodeDelimited=function(ns,os){return this.encode(ns,os).ldelim()},ts.decode=function(ns,os){ns instanceof $Reader||(ns=$Reader.create(ns));for(var ss=os===void 0?ns.len:ns.pos+os,as=new $root.SdkSubscribeFrame;ns.pos<ss;){var ls=ns.uint32();switch(ls>>>3){case 1:{as.duplex=ns.int32();break}case 2:{as.sendStreams&&as.sendStreams.length||(as.sendStreams=[]),as.sendStreams.push($root.SdkStreamDescriptor.decode(ns,ns.uint32()));break}case 3:{if(as.receiveStreamIds&&as.receiveStreamIds.length||(as.receiveStreamIds=[]),(ls&7)===2)for(var cs=ns.uint32()+ns.pos;ns.pos<cs;)as.receiveStreamIds.push(ns.uint32());else as.receiveStreamIds.push(ns.uint32());break}case 4:{as.sdpOffer=ns.string();break}case 5:{as.audioHost=ns.string();break}case 6:{as.audioCheckin=ns.bool();break}case 7:{as.audioMuted=ns.bool();break}case 8:{as.compressedSdpOffer=ns.bytes();break}case 9:{as.videoSubscriptionConfiguration&&as.videoSubscriptionConfiguration.length||(as.videoSubscriptionConfiguration=[]),as.videoSubscriptionConfiguration.push($root.SdkVideoSubscriptionConfiguration.decode(ns,ns.uint32()));break}default:ns.skipType(ls&7);break}}return as},ts.decodeDelimited=function(ns){return ns instanceof $Reader||(ns=new $Reader(ns)),this.decode(ns,ns.uint32())},ts.verify=function(ns){if(typeof ns!="object"||ns===null)return"object expected";if(ns.duplex!=null&&ns.hasOwnProperty("duplex"))switch(ns.duplex){default:return"duplex: enum value expected";case 1:case 2:case 3:break}if(ns.sendStreams!=null&&ns.hasOwnProperty("sendStreams")){if(!Array.isArray(ns.sendStreams))return"sendStreams: array expected";for(var os=0;os<ns.sendStreams.length;++os){var ss=$root.SdkStreamDescriptor.verify(ns.sendStreams[os]);if(ss)return"sendStreams."+ss}}if(ns.receiveStreamIds!=null&&ns.hasOwnProperty("receiveStreamIds")){if(!Array.isArray(ns.receiveStreamIds))return"receiveStreamIds: array expected";for(var os=0;os<ns.receiveStreamIds.length;++os)if(!$util.isInteger(ns.receiveStreamIds[os]))return"receiveStreamIds: integer[] expected"}if(ns.sdpOffer!=null&&ns.hasOwnProperty("sdpOffer")&&!$util.isString(ns.sdpOffer))return"sdpOffer: string expected";if(ns.audioHost!=null&&ns.hasOwnProperty("audioHost")&&!$util.isString(ns.audioHost))return"audioHost: string expected";if(ns.audioCheckin!=null&&ns.hasOwnProperty("audioCheckin")&&typeof ns.audioCheckin!="boolean")return"audioCheckin: boolean expected";if(ns.audioMuted!=null&&ns.hasOwnProperty("audioMuted")&&typeof ns.audioMuted!="boolean")return"audioMuted: boolean expected";if(ns.compressedSdpOffer!=null&&ns.hasOwnProperty("compressedSdpOffer")&&!(ns.compressedSdpOffer&&typeof ns.compressedSdpOffer.length=="number"||$util.isString(ns.compressedSdpOffer)))return"compressedSdpOffer: buffer expected";if(ns.videoSubscriptionConfiguration!=null&&ns.hasOwnProperty("videoSubscriptionConfiguration")){if(!Array.isArray(ns.videoSubscriptionConfiguration))return"videoSubscriptionConfiguration: array expected";for(var os=0;os<ns.videoSubscriptionConfiguration.length;++os){var ss=$root.SdkVideoSubscriptionConfiguration.verify(ns.videoSubscriptionConfiguration[os]);if(ss)return"videoSubscriptionConfiguration."+ss}}return null},ts.fromObject=function(ns){if(ns instanceof $root.SdkSubscribeFrame)return ns;var os=new $root.SdkSubscribeFrame;switch(ns.duplex){default:if(typeof ns.duplex=="number"){os.duplex=ns.duplex;break}break;case"RX":case 1:os.duplex=1;break;case"TX":case 2:os.duplex=2;break;case"DUPLEX":case 3:os.duplex=3;break}if(ns.sendStreams){if(!Array.isArray(ns.sendStreams))throw TypeError(".SdkSubscribeFrame.sendStreams: array expected");os.sendStreams=[];for(var ss=0;ss<ns.sendStreams.length;++ss){if(typeof ns.sendStreams[ss]!="object")throw TypeError(".SdkSubscribeFrame.sendStreams: object expected");os.sendStreams[ss]=$root.SdkStreamDescriptor.fromObject(ns.sendStreams[ss])}}if(ns.receiveStreamIds){if(!Array.isArray(ns.receiveStreamIds))throw TypeError(".SdkSubscribeFrame.receiveStreamIds: array expected");os.receiveStreamIds=[];for(var ss=0;ss<ns.receiveStreamIds.length;++ss)os.receiveStreamIds[ss]=ns.receiveStreamIds[ss]>>>0}if(ns.sdpOffer!=null&&(os.sdpOffer=String(ns.sdpOffer)),ns.audioHost!=null&&(os.audioHost=String(ns.audioHost)),ns.audioCheckin!=null&&(os.audioCheckin=!!ns.audioCheckin),ns.audioMuted!=null&&(os.audioMuted=!!ns.audioMuted),ns.compressedSdpOffer!=null&&(typeof ns.compressedSdpOffer=="string"?$util.base64.decode(ns.compressedSdpOffer,os.compressedSdpOffer=$util.newBuffer($util.base64.length(ns.compressedSdpOffer)),0):ns.compressedSdpOffer.length>=0&&(os.compressedSdpOffer=ns.compressedSdpOffer)),ns.videoSubscriptionConfiguration){if(!Array.isArray(ns.videoSubscriptionConfiguration))throw TypeError(".SdkSubscribeFrame.videoSubscriptionConfiguration: array expected");os.videoSubscriptionConfiguration=[];for(var ss=0;ss<ns.videoSubscriptionConfiguration.length;++ss){if(typeof ns.videoSubscriptionConfiguration[ss]!="object")throw TypeError(".SdkSubscribeFrame.videoSubscriptionConfiguration: object expected");os.videoSubscriptionConfiguration[ss]=$root.SdkVideoSubscriptionConfiguration.fromObject(ns.videoSubscriptionConfiguration[ss])}}return os},ts.toObject=function(ns,os){os||(os={});var ss={};if((os.arrays||os.defaults)&&(ss.sendStreams=[],ss.receiveStreamIds=[],ss.videoSubscriptionConfiguration=[]),os.defaults&&(ss.duplex=os.enums===String?"RX":1,ss.sdpOffer="",ss.audioHost="",ss.audioCheckin=!1,ss.audioMuted=!1,os.bytes===String?ss.compressedSdpOffer="":(ss.compressedSdpOffer=[],os.bytes!==Array&&(ss.compressedSdpOffer=$util.newBuffer(ss.compressedSdpOffer)))),ns.duplex!=null&&ns.hasOwnProperty("duplex")&&(ss.duplex=os.enums===String?$root.SdkStreamServiceType[ns.duplex]===void 0?ns.duplex:$root.SdkStreamServiceType[ns.duplex]:ns.duplex),ns.sendStreams&&ns.sendStreams.length){ss.sendStreams=[];for(var as=0;as<ns.sendStreams.length;++as)ss.sendStreams[as]=$root.SdkStreamDescriptor.toObject(ns.sendStreams[as],os)}if(ns.receiveStreamIds&&ns.receiveStreamIds.length){ss.receiveStreamIds=[];for(var as=0;as<ns.receiveStreamIds.length;++as)ss.receiveStreamIds[as]=ns.receiveStreamIds[as]}if(ns.sdpOffer!=null&&ns.hasOwnProperty("sdpOffer")&&(ss.sdpOffer=ns.sdpOffer),ns.audioHost!=null&&ns.hasOwnProperty("audioHost")&&(ss.audioHost=ns.audioHost),ns.audioCheckin!=null&&ns.hasOwnProperty("audioCheckin")&&(ss.audioCheckin=ns.audioCheckin),ns.audioMuted!=null&&ns.hasOwnProperty("audioMuted")&&(ss.audioMuted=ns.audioMuted),ns.compressedSdpOffer!=null&&ns.hasOwnProperty("compressedSdpOffer")&&(ss.compressedSdpOffer=os.bytes===String?$util.base64.encode(ns.compressedSdpOffer,0,ns.compressedSdpOffer.length):os.bytes===Array?Array.prototype.slice.call(ns.compressedSdpOffer):ns.compressedSdpOffer),ns.videoSubscriptionConfiguration&&ns.videoSubscriptionConfiguration.length){ss.videoSubscriptionConfiguration=[];for(var as=0;as<ns.videoSubscriptionConfiguration.length;++as)ss.videoSubscriptionConfiguration[as]=$root.SdkVideoSubscriptionConfiguration.toObject(ns.videoSubscriptionConfiguration[as],os)}return ss},ts.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},ts.getTypeUrl=function(ns){return ns===void 0&&(ns="type.googleapis.com"),ns+"/SdkSubscribeFrame"},ts}();$root.SdkSubscribeAckFrame=function(){function ts(rs){if(this.allocations=[],this.tracks=[],rs)for(var ns=Object.keys(rs),os=0;os<ns.length;++os)rs[ns[os]]!=null&&(this[ns[os]]=rs[ns[os]])}return ts.prototype.duplex=1,ts.prototype.allocations=$util.emptyArray,ts.prototype.sdpAnswer="",ts.prototype.tracks=$util.emptyArray,ts.prototype.compressedSdpAnswer=$util.newBuffer([]),ts.create=function(ns){return new ts(ns)},ts.encode=function(ns,os){if(os||(os=$Writer.create()),ns.duplex!=null&&Object.hasOwnProperty.call(ns,"duplex")&&os.uint32(8).int32(ns.duplex),ns.allocations!=null&&ns.allocations.length)for(var ss=0;ss<ns.allocations.length;++ss)$root.SdkStreamAllocation.encode(ns.allocations[ss],os.uint32(18).fork()).ldelim();if(ns.sdpAnswer!=null&&Object.hasOwnProperty.call(ns,"sdpAnswer")&&os.uint32(26).string(ns.sdpAnswer),ns.tracks!=null&&ns.tracks.length)for(var ss=0;ss<ns.tracks.length;++ss)$root.SdkTrackMapping.encode(ns.tracks[ss],os.uint32(34).fork()).ldelim();return ns.compressedSdpAnswer!=null&&Object.hasOwnProperty.call(ns,"compressedSdpAnswer")&&os.uint32(42).bytes(ns.compressedSdpAnswer),os},ts.encodeDelimited=function(ns,os){return this.encode(ns,os).ldelim()},ts.decode=function(ns,os){ns instanceof $Reader||(ns=$Reader.create(ns));for(var ss=os===void 0?ns.len:ns.pos+os,as=new $root.SdkSubscribeAckFrame;ns.pos<ss;){var ls=ns.uint32();switch(ls>>>3){case 1:{as.duplex=ns.int32();break}case 2:{as.allocations&&as.allocations.length||(as.allocations=[]),as.allocations.push($root.SdkStreamAllocation.decode(ns,ns.uint32()));break}case 3:{as.sdpAnswer=ns.string();break}case 4:{as.tracks&&as.tracks.length||(as.tracks=[]),as.tracks.push($root.SdkTrackMapping.decode(ns,ns.uint32()));break}case 5:{as.compressedSdpAnswer=ns.bytes();break}default:ns.skipType(ls&7);break}}return as},ts.decodeDelimited=function(ns){return ns instanceof $Reader||(ns=new $Reader(ns)),this.decode(ns,ns.uint32())},ts.verify=function(ns){if(typeof ns!="object"||ns===null)return"object expected";if(ns.duplex!=null&&ns.hasOwnProperty("duplex"))switch(ns.duplex){default:return"duplex: enum value expected";case 1:case 2:case 3:break}if(ns.allocations!=null&&ns.hasOwnProperty("allocations")){if(!Array.isArray(ns.allocations))return"allocations: array expected";for(var os=0;os<ns.allocations.length;++os){var ss=$root.SdkStreamAllocation.verify(ns.allocations[os]);if(ss)return"allocations."+ss}}if(ns.sdpAnswer!=null&&ns.hasOwnProperty("sdpAnswer")&&!$util.isString(ns.sdpAnswer))return"sdpAnswer: string expected";if(ns.tracks!=null&&ns.hasOwnProperty("tracks")){if(!Array.isArray(ns.tracks))return"tracks: array expected";for(var os=0;os<ns.tracks.length;++os){var ss=$root.SdkTrackMapping.verify(ns.tracks[os]);if(ss)return"tracks."+ss}}return ns.compressedSdpAnswer!=null&&ns.hasOwnProperty("compressedSdpAnswer")&&!(ns.compressedSdpAnswer&&typeof ns.compressedSdpAnswer.length=="number"||$util.isString(ns.compressedSdpAnswer))?"compressedSdpAnswer: buffer expected":null},ts.fromObject=function(ns){if(ns instanceof $root.SdkSubscribeAckFrame)return ns;var os=new $root.SdkSubscribeAckFrame;switch(ns.duplex){default:if(typeof ns.duplex=="number"){os.duplex=ns.duplex;break}break;case"RX":case 1:os.duplex=1;break;case"TX":case 2:os.duplex=2;break;case"DUPLEX":case 3:os.duplex=3;break}if(ns.allocations){if(!Array.isArray(ns.allocations))throw TypeError(".SdkSubscribeAckFrame.allocations: array expected");os.allocations=[];for(var ss=0;ss<ns.allocations.length;++ss){if(typeof ns.allocations[ss]!="object")throw TypeError(".SdkSubscribeAckFrame.allocations: object expected");os.allocations[ss]=$root.SdkStreamAllocation.fromObject(ns.allocations[ss])}}if(ns.sdpAnswer!=null&&(os.sdpAnswer=String(ns.sdpAnswer)),ns.tracks){if(!Array.isArray(ns.tracks))throw TypeError(".SdkSubscribeAckFrame.tracks: array expected");os.tracks=[];for(var ss=0;ss<ns.tracks.length;++ss){if(typeof ns.tracks[ss]!="object")throw TypeError(".SdkSubscribeAckFrame.tracks: object expected");os.tracks[ss]=$root.SdkTrackMapping.fromObject(ns.tracks[ss])}}return ns.compressedSdpAnswer!=null&&(typeof ns.compressedSdpAnswer=="string"?$util.base64.decode(ns.compressedSdpAnswer,os.compressedSdpAnswer=$util.newBuffer($util.base64.length(ns.compressedSdpAnswer)),0):ns.compressedSdpAnswer.length>=0&&(os.compressedSdpAnswer=ns.compressedSdpAnswer)),os},ts.toObject=function(ns,os){os||(os={});var ss={};if((os.arrays||os.defaults)&&(ss.allocations=[],ss.tracks=[]),os.defaults&&(ss.duplex=os.enums===String?"RX":1,ss.sdpAnswer="",os.bytes===String?ss.compressedSdpAnswer="":(ss.compressedSdpAnswer=[],os.bytes!==Array&&(ss.compressedSdpAnswer=$util.newBuffer(ss.compressedSdpAnswer)))),ns.duplex!=null&&ns.hasOwnProperty("duplex")&&(ss.duplex=os.enums===String?$root.SdkStreamServiceType[ns.duplex]===void 0?ns.duplex:$root.SdkStreamServiceType[ns.duplex]:ns.duplex),ns.allocations&&ns.allocations.length){ss.allocations=[];for(var as=0;as<ns.allocations.length;++as)ss.allocations[as]=$root.SdkStreamAllocation.toObject(ns.allocations[as],os)}if(ns.sdpAnswer!=null&&ns.hasOwnProperty("sdpAnswer")&&(ss.sdpAnswer=ns.sdpAnswer),ns.tracks&&ns.tracks.length){ss.tracks=[];for(var as=0;as<ns.tracks.length;++as)ss.tracks[as]=$root.SdkTrackMapping.toObject(ns.tracks[as],os)}return ns.compressedSdpAnswer!=null&&ns.hasOwnProperty("compressedSdpAnswer")&&(ss.compressedSdpAnswer=os.bytes===String?$util.base64.encode(ns.compressedSdpAnswer,0,ns.compressedSdpAnswer.length):os.bytes===Array?Array.prototype.slice.call(ns.compressedSdpAnswer):ns.compressedSdpAnswer),ss},ts.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},ts.getTypeUrl=function(ns){return ns===void 0&&(ns="type.googleapis.com"),ns+"/SdkSubscribeAckFrame"},ts}();$root.SdkIndexFrame=function(){function ts(rs){if(this.sources=[],this.pausedAtSourceIds=[],this.supportedReceiveCodecIntersection=[],rs)for(var ns=Object.keys(rs),os=0;os<ns.length;++os)rs[ns[os]]!=null&&(this[ns[os]]=rs[ns[os]])}return ts.prototype.atCapacity=!1,ts.prototype.sources=$util.emptyArray,ts.prototype.pausedAtSourceIds=$util.emptyArray,ts.prototype.numParticipants=0,ts.prototype.supportedReceiveCodecIntersection=$util.emptyArray,ts.create=function(ns){return new ts(ns)},ts.encode=function(ns,os){if(os||(os=$Writer.create()),ns.atCapacity!=null&&Object.hasOwnProperty.call(ns,"atCapacity")&&os.uint32(8).bool(ns.atCapacity),ns.sources!=null&&ns.sources.length)for(var ss=0;ss<ns.sources.length;++ss)$root.SdkStreamDescriptor.encode(ns.sources[ss],os.uint32(18).fork()).ldelim();if(ns.pausedAtSourceIds!=null&&ns.pausedAtSourceIds.length)for(var ss=0;ss<ns.pausedAtSourceIds.length;++ss)os.uint32(24).uint32(ns.pausedAtSourceIds[ss]);if(ns.numParticipants!=null&&Object.hasOwnProperty.call(ns,"numParticipants")&&os.uint32(32).uint32(ns.numParticipants),ns.supportedReceiveCodecIntersection!=null&&ns.supportedReceiveCodecIntersection.length)for(var ss=0;ss<ns.supportedReceiveCodecIntersection.length;++ss)os.uint32(40).int32(ns.supportedReceiveCodecIntersection[ss]);return os},ts.encodeDelimited=function(ns,os){return this.encode(ns,os).ldelim()},ts.decode=function(ns,os){ns instanceof $Reader||(ns=$Reader.create(ns));for(var ss=os===void 0?ns.len:ns.pos+os,as=new $root.SdkIndexFrame;ns.pos<ss;){var ls=ns.uint32();switch(ls>>>3){case 1:{as.atCapacity=ns.bool();break}case 2:{as.sources&&as.sources.length||(as.sources=[]),as.sources.push($root.SdkStreamDescriptor.decode(ns,ns.uint32()));break}case 3:{if(as.pausedAtSourceIds&&as.pausedAtSourceIds.length||(as.pausedAtSourceIds=[]),(ls&7)===2)for(var cs=ns.uint32()+ns.pos;ns.pos<cs;)as.pausedAtSourceIds.push(ns.uint32());else as.pausedAtSourceIds.push(ns.uint32());break}case 4:{as.numParticipants=ns.uint32();break}case 5:{if(as.supportedReceiveCodecIntersection&&as.supportedReceiveCodecIntersection.length||(as.supportedReceiveCodecIntersection=[]),(ls&7)===2)for(var cs=ns.uint32()+ns.pos;ns.pos<cs;)as.supportedReceiveCodecIntersection.push(ns.int32());else as.supportedReceiveCodecIntersection.push(ns.int32());break}default:ns.skipType(ls&7);break}}return as},ts.decodeDelimited=function(ns){return ns instanceof $Reader||(ns=new $Reader(ns)),this.decode(ns,ns.uint32())},ts.verify=function(ns){if(typeof ns!="object"||ns===null)return"object expected";if(ns.atCapacity!=null&&ns.hasOwnProperty("atCapacity")&&typeof ns.atCapacity!="boolean")return"atCapacity: boolean expected";if(ns.sources!=null&&ns.hasOwnProperty("sources")){if(!Array.isArray(ns.sources))return"sources: array expected";for(var os=0;os<ns.sources.length;++os){var ss=$root.SdkStreamDescriptor.verify(ns.sources[os]);if(ss)return"sources."+ss}}if(ns.pausedAtSourceIds!=null&&ns.hasOwnProperty("pausedAtSourceIds")){if(!Array.isArray(ns.pausedAtSourceIds))return"pausedAtSourceIds: array expected";for(var os=0;os<ns.pausedAtSourceIds.length;++os)if(!$util.isInteger(ns.pausedAtSourceIds[os]))return"pausedAtSourceIds: integer[] expected"}if(ns.numParticipants!=null&&ns.hasOwnProperty("numParticipants")&&!$util.isInteger(ns.numParticipants))return"numParticipants: integer expected";if(ns.supportedReceiveCodecIntersection!=null&&ns.hasOwnProperty("supportedReceiveCodecIntersection")){if(!Array.isArray(ns.supportedReceiveCodecIntersection))return"supportedReceiveCodecIntersection: array expected";for(var os=0;os<ns.supportedReceiveCodecIntersection.length;++os)switch(ns.supportedReceiveCodecIntersection[os]){default:return"supportedReceiveCodecIntersection: enum value[] expected";case 1:case 2:case 3:case 4:case 5:case 6:case 8:case 11:break}}return null},ts.fromObject=function(ns){if(ns instanceof $root.SdkIndexFrame)return ns;var os=new $root.SdkIndexFrame;if(ns.atCapacity!=null&&(os.atCapacity=!!ns.atCapacity),ns.sources){if(!Array.isArray(ns.sources))throw TypeError(".SdkIndexFrame.sources: array expected");os.sources=[];for(var ss=0;ss<ns.sources.length;++ss){if(typeof ns.sources[ss]!="object")throw TypeError(".SdkIndexFrame.sources: object expected");os.sources[ss]=$root.SdkStreamDescriptor.fromObject(ns.sources[ss])}}if(ns.pausedAtSourceIds){if(!Array.isArray(ns.pausedAtSourceIds))throw TypeError(".SdkIndexFrame.pausedAtSourceIds: array expected");os.pausedAtSourceIds=[];for(var ss=0;ss<ns.pausedAtSourceIds.length;++ss)os.pausedAtSourceIds[ss]=ns.pausedAtSourceIds[ss]>>>0}if(ns.numParticipants!=null&&(os.numParticipants=ns.numParticipants>>>0),ns.supportedReceiveCodecIntersection){if(!Array.isArray(ns.supportedReceiveCodecIntersection))throw TypeError(".SdkIndexFrame.supportedReceiveCodecIntersection: array expected");os.supportedReceiveCodecIntersection=[];for(var ss=0;ss<ns.supportedReceiveCodecIntersection.length;++ss)switch(ns.supportedReceiveCodecIntersection[ss]){default:if(typeof ns.supportedReceiveCodecIntersection[ss]=="number"){os.supportedReceiveCodecIntersection[ss]=ns.supportedReceiveCodecIntersection[ss];break}case"VP8":case 1:os.supportedReceiveCodecIntersection[ss]=1;break;case"H264_BASELINE_PROFILE":case 2:os.supportedReceiveCodecIntersection[ss]=2;break;case"H264_CONSTRAINED_BASELINE_PROFILE":case 3:os.supportedReceiveCodecIntersection[ss]=3;break;case"H264_MAIN_PROFILE":case 4:os.supportedReceiveCodecIntersection[ss]=4;break;case"H264_HIGH_PROFILE":case 5:os.supportedReceiveCodecIntersection[ss]=5;break;case"H264_CONSTRAINED_HIGH_PROFILE":case 6:os.supportedReceiveCodecIntersection[ss]=6;break;case"VP9_PROFILE_0":case 8:os.supportedReceiveCodecIntersection[ss]=8;break;case"AV1_MAIN_PROFILE":case 11:os.supportedReceiveCodecIntersection[ss]=11;break}}return os},ts.toObject=function(ns,os){os||(os={});var ss={};if((os.arrays||os.defaults)&&(ss.sources=[],ss.pausedAtSourceIds=[],ss.supportedReceiveCodecIntersection=[]),os.defaults&&(ss.atCapacity=!1,ss.numParticipants=0),ns.atCapacity!=null&&ns.hasOwnProperty("atCapacity")&&(ss.atCapacity=ns.atCapacity),ns.sources&&ns.sources.length){ss.sources=[];for(var as=0;as<ns.sources.length;++as)ss.sources[as]=$root.SdkStreamDescriptor.toObject(ns.sources[as],os)}if(ns.pausedAtSourceIds&&ns.pausedAtSourceIds.length){ss.pausedAtSourceIds=[];for(var as=0;as<ns.pausedAtSourceIds.length;++as)ss.pausedAtSourceIds[as]=ns.pausedAtSourceIds[as]}if(ns.numParticipants!=null&&ns.hasOwnProperty("numParticipants")&&(ss.numParticipants=ns.numParticipants),ns.supportedReceiveCodecIntersection&&ns.supportedReceiveCodecIntersection.length){ss.supportedReceiveCodecIntersection=[];for(var as=0;as<ns.supportedReceiveCodecIntersection.length;++as)ss.supportedReceiveCodecIntersection[as]=os.enums===String?$root.SdkVideoCodecCapability[ns.supportedReceiveCodecIntersection[as]]===void 0?ns.supportedReceiveCodecIntersection[as]:$root.SdkVideoCodecCapability[ns.supportedReceiveCodecIntersection[as]]:ns.supportedReceiveCodecIntersection[as]}return ss},ts.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},ts.getTypeUrl=function(ns){return ns===void 0&&(ns="type.googleapis.com"),ns+"/SdkIndexFrame"},ts}();$root.SdkPauseResumeFrame=function(){function ts(rs){if(this.streamIds=[],this.groupIds=[],rs)for(var ns=Object.keys(rs),os=0;os<ns.length;++os)rs[ns[os]]!=null&&(this[ns[os]]=rs[ns[os]])}return ts.prototype.streamIds=$util.emptyArray,ts.prototype.groupIds=$util.emptyArray,ts.create=function(ns){return new ts(ns)},ts.encode=function(ns,os){if(os||(os=$Writer.create()),ns.streamIds!=null&&ns.streamIds.length)for(var ss=0;ss<ns.streamIds.length;++ss)os.uint32(8).uint32(ns.streamIds[ss]);if(ns.groupIds!=null&&ns.groupIds.length)for(var ss=0;ss<ns.groupIds.length;++ss)os.uint32(16).uint32(ns.groupIds[ss]);return os},ts.encodeDelimited=function(ns,os){return this.encode(ns,os).ldelim()},ts.decode=function(ns,os){ns instanceof $Reader||(ns=$Reader.create(ns));for(var ss=os===void 0?ns.len:ns.pos+os,as=new $root.SdkPauseResumeFrame;ns.pos<ss;){var ls=ns.uint32();switch(ls>>>3){case 1:{if(as.streamIds&&as.streamIds.length||(as.streamIds=[]),(ls&7)===2)for(var cs=ns.uint32()+ns.pos;ns.pos<cs;)as.streamIds.push(ns.uint32());else as.streamIds.push(ns.uint32());break}case 2:{if(as.groupIds&&as.groupIds.length||(as.groupIds=[]),(ls&7)===2)for(var cs=ns.uint32()+ns.pos;ns.pos<cs;)as.groupIds.push(ns.uint32());else as.groupIds.push(ns.uint32());break}default:ns.skipType(ls&7);break}}return as},ts.decodeDelimited=function(ns){return ns instanceof $Reader||(ns=new $Reader(ns)),this.decode(ns,ns.uint32())},ts.verify=function(ns){if(typeof ns!="object"||ns===null)return"object expected";if(ns.streamIds!=null&&ns.hasOwnProperty("streamIds")){if(!Array.isArray(ns.streamIds))return"streamIds: array expected";for(var os=0;os<ns.streamIds.length;++os)if(!$util.isInteger(ns.streamIds[os]))return"streamIds: integer[] expected"}if(ns.groupIds!=null&&ns.hasOwnProperty("groupIds")){if(!Array.isArray(ns.groupIds))return"groupIds: array expected";for(var os=0;os<ns.groupIds.length;++os)if(!$util.isInteger(ns.groupIds[os]))return"groupIds: integer[] expected"}return null},ts.fromObject=function(ns){if(ns instanceof $root.SdkPauseResumeFrame)return ns;var os=new $root.SdkPauseResumeFrame;if(ns.streamIds){if(!Array.isArray(ns.streamIds))throw TypeError(".SdkPauseResumeFrame.streamIds: array expected");os.streamIds=[];for(var ss=0;ss<ns.streamIds.length;++ss)os.streamIds[ss]=ns.streamIds[ss]>>>0}if(ns.groupIds){if(!Array.isArray(ns.groupIds))throw TypeError(".SdkPauseResumeFrame.groupIds: array expected");os.groupIds=[];for(var ss=0;ss<ns.groupIds.length;++ss)os.groupIds[ss]=ns.groupIds[ss]>>>0}return os},ts.toObject=function(ns,os){os||(os={});var ss={};if((os.arrays||os.defaults)&&(ss.streamIds=[],ss.groupIds=[]),ns.streamIds&&ns.streamIds.length){ss.streamIds=[];for(var as=0;as<ns.streamIds.length;++as)ss.streamIds[as]=ns.streamIds[as]}if(ns.groupIds&&ns.groupIds.length){ss.groupIds=[];for(var as=0;as<ns.groupIds.length;++as)ss.groupIds[as]=ns.groupIds[as]}return ss},ts.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},ts.getTypeUrl=function(ns){return ns===void 0&&(ns="type.googleapis.com"),ns+"/SdkPauseResumeFrame"},ts}();$root.SdkBitrateFrame=function(){function ts(rs){if(this.bitrates=[],rs)for(var ns=Object.keys(rs),os=0;os<ns.length;++os)rs[ns[os]]!=null&&(this[ns[os]]=rs[ns[os]])}return ts.prototype.bitrates=$util.emptyArray,ts.prototype.serverAvailableOutgoingBitrate=0,ts.create=function(ns){return new ts(ns)},ts.encode=function(ns,os){if(os||(os=$Writer.create()),ns.bitrates!=null&&ns.bitrates.length)for(var ss=0;ss<ns.bitrates.length;++ss)$root.SdkBitrate.encode(ns.bitrates[ss],os.uint32(10).fork()).ldelim();return ns.serverAvailableOutgoingBitrate!=null&&Object.hasOwnProperty.call(ns,"serverAvailableOutgoingBitrate")&&os.uint32(16).uint32(ns.serverAvailableOutgoingBitrate),os},ts.encodeDelimited=function(ns,os){return this.encode(ns,os).ldelim()},ts.decode=function(ns,os){ns instanceof $Reader||(ns=$Reader.create(ns));for(var ss=os===void 0?ns.len:ns.pos+os,as=new $root.SdkBitrateFrame;ns.pos<ss;){var ls=ns.uint32();switch(ls>>>3){case 1:{as.bitrates&&as.bitrates.length||(as.bitrates=[]),as.bitrates.push($root.SdkBitrate.decode(ns,ns.uint32()));break}case 2:{as.serverAvailableOutgoingBitrate=ns.uint32();break}default:ns.skipType(ls&7);break}}return as},ts.decodeDelimited=function(ns){return ns instanceof $Reader||(ns=new $Reader(ns)),this.decode(ns,ns.uint32())},ts.verify=function(ns){if(typeof ns!="object"||ns===null)return"object expected";if(ns.bitrates!=null&&ns.hasOwnProperty("bitrates")){if(!Array.isArray(ns.bitrates))return"bitrates: array expected";for(var os=0;os<ns.bitrates.length;++os){var ss=$root.SdkBitrate.verify(ns.bitrates[os]);if(ss)return"bitrates."+ss}}return ns.serverAvailableOutgoingBitrate!=null&&ns.hasOwnProperty("serverAvailableOutgoingBitrate")&&!$util.isInteger(ns.serverAvailableOutgoingBitrate)?"serverAvailableOutgoingBitrate: integer expected":null},ts.fromObject=function(ns){if(ns instanceof $root.SdkBitrateFrame)return ns;var os=new $root.SdkBitrateFrame;if(ns.bitrates){if(!Array.isArray(ns.bitrates))throw TypeError(".SdkBitrateFrame.bitrates: array expected");os.bitrates=[];for(var ss=0;ss<ns.bitrates.length;++ss){if(typeof ns.bitrates[ss]!="object")throw TypeError(".SdkBitrateFrame.bitrates: object expected");os.bitrates[ss]=$root.SdkBitrate.fromObject(ns.bitrates[ss])}}return ns.serverAvailableOutgoingBitrate!=null&&(os.serverAvailableOutgoingBitrate=ns.serverAvailableOutgoingBitrate>>>0),os},ts.toObject=function(ns,os){os||(os={});var ss={};if((os.arrays||os.defaults)&&(ss.bitrates=[]),os.defaults&&(ss.serverAvailableOutgoingBitrate=0),ns.bitrates&&ns.bitrates.length){ss.bitrates=[];for(var as=0;as<ns.bitrates.length;++as)ss.bitrates[as]=$root.SdkBitrate.toObject(ns.bitrates[as],os)}return ns.serverAvailableOutgoingBitrate!=null&&ns.hasOwnProperty("serverAvailableOutgoingBitrate")&&(ss.serverAvailableOutgoingBitrate=ns.serverAvailableOutgoingBitrate),ss},ts.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},ts.getTypeUrl=function(ns){return ns===void 0&&(ns="type.googleapis.com"),ns+"/SdkBitrateFrame"},ts}();$root.SdkStreamDescriptor=function(){function ts(rs){if(rs)for(var ns=Object.keys(rs),os=0;os<ns.length;++os)rs[ns[os]]!=null&&(this[ns[os]]=rs[ns[os]])}return ts.prototype.streamId=0,ts.prototype.framerate=0,ts.prototype.maxBitrateKbps=0,ts.prototype.trackLabel="",ts.prototype.groupId=0,ts.prototype.avgBitrateBps=0,ts.prototype.attendeeId="",ts.prototype.mediaType=1,ts.prototype.externalUserId="",ts.prototype.width=0,ts.prototype.height=0,ts.create=function(ns){return new ts(ns)},ts.encode=function(ns,os){return os||(os=$Writer.create()),ns.streamId!=null&&Object.hasOwnProperty.call(ns,"streamId")&&os.uint32(8).uint32(ns.streamId),ns.framerate!=null&&Object.hasOwnProperty.call(ns,"framerate")&&os.uint32(16).uint32(ns.framerate),ns.maxBitrateKbps!=null&&Object.hasOwnProperty.call(ns,"maxBitrateKbps")&&os.uint32(24).uint32(ns.maxBitrateKbps),ns.trackLabel!=null&&Object.hasOwnProperty.call(ns,"trackLabel")&&os.uint32(34).string(ns.trackLabel),ns.groupId!=null&&Object.hasOwnProperty.call(ns,"groupId")&&os.uint32(48).uint32(ns.groupId),ns.avgBitrateBps!=null&&Object.hasOwnProperty.call(ns,"avgBitrateBps")&&os.uint32(56).uint32(ns.avgBitrateBps),ns.attendeeId!=null&&Object.hasOwnProperty.call(ns,"attendeeId")&&os.uint32(66).string(ns.attendeeId),ns.mediaType!=null&&Object.hasOwnProperty.call(ns,"mediaType")&&os.uint32(72).int32(ns.mediaType),ns.externalUserId!=null&&Object.hasOwnProperty.call(ns,"externalUserId")&&os.uint32(82).string(ns.externalUserId),ns.width!=null&&Object.hasOwnProperty.call(ns,"width")&&os.uint32(88).uint32(ns.width),ns.height!=null&&Object.hasOwnProperty.call(ns,"height")&&os.uint32(96).uint32(ns.height),os},ts.encodeDelimited=function(ns,os){return this.encode(ns,os).ldelim()},ts.decode=function(ns,os){ns instanceof $Reader||(ns=$Reader.create(ns));for(var ss=os===void 0?ns.len:ns.pos+os,as=new $root.SdkStreamDescriptor;ns.pos<ss;){var ls=ns.uint32();switch(ls>>>3){case 1:{as.streamId=ns.uint32();break}case 2:{as.framerate=ns.uint32();break}case 3:{as.maxBitrateKbps=ns.uint32();break}case 4:{as.trackLabel=ns.string();break}case 6:{as.groupId=ns.uint32();break}case 7:{as.avgBitrateBps=ns.uint32();break}case 8:{as.attendeeId=ns.string();break}case 9:{as.mediaType=ns.int32();break}case 10:{as.externalUserId=ns.string();break}case 11:{as.width=ns.uint32();break}case 12:{as.height=ns.uint32();break}default:ns.skipType(ls&7);break}}return as},ts.decodeDelimited=function(ns){return ns instanceof $Reader||(ns=new $Reader(ns)),this.decode(ns,ns.uint32())},ts.verify=function(ns){if(typeof ns!="object"||ns===null)return"object expected";if(ns.streamId!=null&&ns.hasOwnProperty("streamId")&&!$util.isInteger(ns.streamId))return"streamId: integer expected";if(ns.framerate!=null&&ns.hasOwnProperty("framerate")&&!$util.isInteger(ns.framerate))return"framerate: integer expected";if(ns.maxBitrateKbps!=null&&ns.hasOwnProperty("maxBitrateKbps")&&!$util.isInteger(ns.maxBitrateKbps))return"maxBitrateKbps: integer expected";if(ns.trackLabel!=null&&ns.hasOwnProperty("trackLabel")&&!$util.isString(ns.trackLabel))return"trackLabel: string expected";if(ns.groupId!=null&&ns.hasOwnProperty("groupId")&&!$util.isInteger(ns.groupId))return"groupId: integer expected";if(ns.avgBitrateBps!=null&&ns.hasOwnProperty("avgBitrateBps")&&!$util.isInteger(ns.avgBitrateBps))return"avgBitrateBps: integer expected";if(ns.attendeeId!=null&&ns.hasOwnProperty("attendeeId")&&!$util.isString(ns.attendeeId))return"attendeeId: string expected";if(ns.mediaType!=null&&ns.hasOwnProperty("mediaType"))switch(ns.mediaType){default:return"mediaType: enum value expected";case 1:case 2:break}return ns.externalUserId!=null&&ns.hasOwnProperty("externalUserId")&&!$util.isString(ns.externalUserId)?"externalUserId: string expected":ns.width!=null&&ns.hasOwnProperty("width")&&!$util.isInteger(ns.width)?"width: integer expected":ns.height!=null&&ns.hasOwnProperty("height")&&!$util.isInteger(ns.height)?"height: integer expected":null},ts.fromObject=function(ns){if(ns instanceof $root.SdkStreamDescriptor)return ns;var os=new $root.SdkStreamDescriptor;switch(ns.streamId!=null&&(os.streamId=ns.streamId>>>0),ns.framerate!=null&&(os.framerate=ns.framerate>>>0),ns.maxBitrateKbps!=null&&(os.maxBitrateKbps=ns.maxBitrateKbps>>>0),ns.trackLabel!=null&&(os.trackLabel=String(ns.trackLabel)),ns.groupId!=null&&(os.groupId=ns.groupId>>>0),ns.avgBitrateBps!=null&&(os.avgBitrateBps=ns.avgBitrateBps>>>0),ns.attendeeId!=null&&(os.attendeeId=String(ns.attendeeId)),ns.mediaType){default:if(typeof ns.mediaType=="number"){os.mediaType=ns.mediaType;break}break;case"AUDIO":case 1:os.mediaType=1;break;case"VIDEO":case 2:os.mediaType=2;break}return ns.externalUserId!=null&&(os.externalUserId=String(ns.externalUserId)),ns.width!=null&&(os.width=ns.width>>>0),ns.height!=null&&(os.height=ns.height>>>0),os},ts.toObject=function(ns,os){os||(os={});var ss={};return os.defaults&&(ss.streamId=0,ss.framerate=0,ss.maxBitrateKbps=0,ss.trackLabel="",ss.groupId=0,ss.avgBitrateBps=0,ss.attendeeId="",ss.mediaType=os.enums===String?"AUDIO":1,ss.externalUserId="",ss.width=0,ss.height=0),ns.streamId!=null&&ns.hasOwnProperty("streamId")&&(ss.streamId=ns.streamId),ns.framerate!=null&&ns.hasOwnProperty("framerate")&&(ss.framerate=ns.framerate),ns.maxBitrateKbps!=null&&ns.hasOwnProperty("maxBitrateKbps")&&(ss.maxBitrateKbps=ns.maxBitrateKbps),ns.trackLabel!=null&&ns.hasOwnProperty("trackLabel")&&(ss.trackLabel=ns.trackLabel),ns.groupId!=null&&ns.hasOwnProperty("groupId")&&(ss.groupId=ns.groupId),ns.avgBitrateBps!=null&&ns.hasOwnProperty("avgBitrateBps")&&(ss.avgBitrateBps=ns.avgBitrateBps),ns.attendeeId!=null&&ns.hasOwnProperty("attendeeId")&&(ss.attendeeId=ns.attendeeId),ns.mediaType!=null&&ns.hasOwnProperty("mediaType")&&(ss.mediaType=os.enums===String?$root.SdkStreamMediaType[ns.mediaType]===void 0?ns.mediaType:$root.SdkStreamMediaType[ns.mediaType]:ns.mediaType),ns.externalUserId!=null&&ns.hasOwnProperty("externalUserId")&&(ss.externalUserId=ns.externalUserId),ns.width!=null&&ns.hasOwnProperty("width")&&(ss.width=ns.width),ns.height!=null&&ns.hasOwnProperty("height")&&(ss.height=ns.height),ss},ts.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},ts.getTypeUrl=function(ns){return ns===void 0&&(ns="type.googleapis.com"),ns+"/SdkStreamDescriptor"},ts}();$root.SdkStreamAllocation=function(){function ts(rs){if(rs)for(var ns=Object.keys(rs),os=0;os<ns.length;++os)rs[ns[os]]!=null&&(this[ns[os]]=rs[ns[os]])}return ts.prototype.trackLabel="",ts.prototype.streamId=0,ts.prototype.groupId=0,ts.create=function(ns){return new ts(ns)},ts.encode=function(ns,os){return os||(os=$Writer.create()),ns.trackLabel!=null&&Object.hasOwnProperty.call(ns,"trackLabel")&&os.uint32(10).string(ns.trackLabel),ns.streamId!=null&&Object.hasOwnProperty.call(ns,"streamId")&&os.uint32(16).uint32(ns.streamId),ns.groupId!=null&&Object.hasOwnProperty.call(ns,"groupId")&&os.uint32(24).uint32(ns.groupId),os},ts.encodeDelimited=function(ns,os){return this.encode(ns,os).ldelim()},ts.decode=function(ns,os){ns instanceof $Reader||(ns=$Reader.create(ns));for(var ss=os===void 0?ns.len:ns.pos+os,as=new $root.SdkStreamAllocation;ns.pos<ss;){var ls=ns.uint32();switch(ls>>>3){case 1:{as.trackLabel=ns.string();break}case 2:{as.streamId=ns.uint32();break}case 3:{as.groupId=ns.uint32();break}default:ns.skipType(ls&7);break}}return as},ts.decodeDelimited=function(ns){return ns instanceof $Reader||(ns=new $Reader(ns)),this.decode(ns,ns.uint32())},ts.verify=function(ns){return typeof ns!="object"||ns===null?"object expected":ns.trackLabel!=null&&ns.hasOwnProperty("trackLabel")&&!$util.isString(ns.trackLabel)?"trackLabel: string expected":ns.streamId!=null&&ns.hasOwnProperty("streamId")&&!$util.isInteger(ns.streamId)?"streamId: integer expected":ns.groupId!=null&&ns.hasOwnProperty("groupId")&&!$util.isInteger(ns.groupId)?"groupId: integer expected":null},ts.fromObject=function(ns){if(ns instanceof $root.SdkStreamAllocation)return ns;var os=new $root.SdkStreamAllocation;return ns.trackLabel!=null&&(os.trackLabel=String(ns.trackLabel)),ns.streamId!=null&&(os.streamId=ns.streamId>>>0),ns.groupId!=null&&(os.groupId=ns.groupId>>>0),os},ts.toObject=function(ns,os){os||(os={});var ss={};return os.defaults&&(ss.trackLabel="",ss.streamId=0,ss.groupId=0),ns.trackLabel!=null&&ns.hasOwnProperty("trackLabel")&&(ss.trackLabel=ns.trackLabel),ns.streamId!=null&&ns.hasOwnProperty("streamId")&&(ss.streamId=ns.streamId),ns.groupId!=null&&ns.hasOwnProperty("groupId")&&(ss.groupId=ns.groupId),ss},ts.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},ts.getTypeUrl=function(ns){return ns===void 0&&(ns="type.googleapis.com"),ns+"/SdkStreamAllocation"},ts}();$root.SdkTrackMapping=function(){function ts(rs){if(rs)for(var ns=Object.keys(rs),os=0;os<ns.length;++os)rs[ns[os]]!=null&&(this[ns[os]]=rs[ns[os]])}return ts.prototype.streamId=0,ts.prototype.ssrc=0,ts.prototype.trackLabel="",ts.create=function(ns){return new ts(ns)},ts.encode=function(ns,os){return os||(os=$Writer.create()),ns.streamId!=null&&Object.hasOwnProperty.call(ns,"streamId")&&os.uint32(8).uint32(ns.streamId),ns.ssrc!=null&&Object.hasOwnProperty.call(ns,"ssrc")&&os.uint32(16).uint32(ns.ssrc),ns.trackLabel!=null&&Object.hasOwnProperty.call(ns,"trackLabel")&&os.uint32(26).string(ns.trackLabel),os},ts.encodeDelimited=function(ns,os){return this.encode(ns,os).ldelim()},ts.decode=function(ns,os){ns instanceof $Reader||(ns=$Reader.create(ns));for(var ss=os===void 0?ns.len:ns.pos+os,as=new $root.SdkTrackMapping;ns.pos<ss;){var ls=ns.uint32();switch(ls>>>3){case 1:{as.streamId=ns.uint32();break}case 2:{as.ssrc=ns.uint32();break}case 3:{as.trackLabel=ns.string();break}default:ns.skipType(ls&7);break}}return as},ts.decodeDelimited=function(ns){return ns instanceof $Reader||(ns=new $Reader(ns)),this.decode(ns,ns.uint32())},ts.verify=function(ns){return typeof ns!="object"||ns===null?"object expected":ns.streamId!=null&&ns.hasOwnProperty("streamId")&&!$util.isInteger(ns.streamId)?"streamId: integer expected":ns.ssrc!=null&&ns.hasOwnProperty("ssrc")&&!$util.isInteger(ns.ssrc)?"ssrc: integer expected":ns.trackLabel!=null&&ns.hasOwnProperty("trackLabel")&&!$util.isString(ns.trackLabel)?"trackLabel: string expected":null},ts.fromObject=function(ns){if(ns instanceof $root.SdkTrackMapping)return ns;var os=new $root.SdkTrackMapping;return ns.streamId!=null&&(os.streamId=ns.streamId>>>0),ns.ssrc!=null&&(os.ssrc=ns.ssrc>>>0),ns.trackLabel!=null&&(os.trackLabel=String(ns.trackLabel)),os},ts.toObject=function(ns,os){os||(os={});var ss={};return os.defaults&&(ss.streamId=0,ss.ssrc=0,ss.trackLabel=""),ns.streamId!=null&&ns.hasOwnProperty("streamId")&&(ss.streamId=ns.streamId),ns.ssrc!=null&&ns.hasOwnProperty("ssrc")&&(ss.ssrc=ns.ssrc),ns.trackLabel!=null&&ns.hasOwnProperty("trackLabel")&&(ss.trackLabel=ns.trackLabel),ss},ts.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},ts.getTypeUrl=function(ns){return ns===void 0&&(ns="type.googleapis.com"),ns+"/SdkTrackMapping"},ts}();$root.SdkBitrate=function(){function ts(rs){if(rs)for(var ns=Object.keys(rs),os=0;os<ns.length;++os)rs[ns[os]]!=null&&(this[ns[os]]=rs[ns[os]])}return ts.prototype.sourceStreamId=0,ts.prototype.avgBitrateBps=0,ts.create=function(ns){return new ts(ns)},ts.encode=function(ns,os){return os||(os=$Writer.create()),ns.sourceStreamId!=null&&Object.hasOwnProperty.call(ns,"sourceStreamId")&&os.uint32(8).uint32(ns.sourceStreamId),ns.avgBitrateBps!=null&&Object.hasOwnProperty.call(ns,"avgBitrateBps")&&os.uint32(16).uint32(ns.avgBitrateBps),os},ts.encodeDelimited=function(ns,os){return this.encode(ns,os).ldelim()},ts.decode=function(ns,os){ns instanceof $Reader||(ns=$Reader.create(ns));for(var ss=os===void 0?ns.len:ns.pos+os,as=new $root.SdkBitrate;ns.pos<ss;){var ls=ns.uint32();switch(ls>>>3){case 1:{as.sourceStreamId=ns.uint32();break}case 2:{as.avgBitrateBps=ns.uint32();break}default:ns.skipType(ls&7);break}}return as},ts.decodeDelimited=function(ns){return ns instanceof $Reader||(ns=new $Reader(ns)),this.decode(ns,ns.uint32())},ts.verify=function(ns){return typeof ns!="object"||ns===null?"object expected":ns.sourceStreamId!=null&&ns.hasOwnProperty("sourceStreamId")&&!$util.isInteger(ns.sourceStreamId)?"sourceStreamId: integer expected":ns.avgBitrateBps!=null&&ns.hasOwnProperty("avgBitrateBps")&&!$util.isInteger(ns.avgBitrateBps)?"avgBitrateBps: integer expected":null},ts.fromObject=function(ns){if(ns instanceof $root.SdkBitrate)return ns;var os=new $root.SdkBitrate;return ns.sourceStreamId!=null&&(os.sourceStreamId=ns.sourceStreamId>>>0),ns.avgBitrateBps!=null&&(os.avgBitrateBps=ns.avgBitrateBps>>>0),os},ts.toObject=function(ns,os){os||(os={});var ss={};return os.defaults&&(ss.sourceStreamId=0,ss.avgBitrateBps=0),ns.sourceStreamId!=null&&ns.hasOwnProperty("sourceStreamId")&&(ss.sourceStreamId=ns.sourceStreamId),ns.avgBitrateBps!=null&&ns.hasOwnProperty("avgBitrateBps")&&(ss.avgBitrateBps=ns.avgBitrateBps),ss},ts.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},ts.getTypeUrl=function(ns){return ns===void 0&&(ns="type.googleapis.com"),ns+"/SdkBitrate"},ts}();$root.SdkAudioControlFrame=function(){function ts(rs){if(rs)for(var ns=Object.keys(rs),os=0;os<ns.length;++os)rs[ns[os]]!=null&&(this[ns[os]]=rs[ns[os]])}return ts.prototype.muted=!1,ts.create=function(ns){return new ts(ns)},ts.encode=function(ns,os){return os||(os=$Writer.create()),ns.muted!=null&&Object.hasOwnProperty.call(ns,"muted")&&os.uint32(8).bool(ns.muted),os},ts.encodeDelimited=function(ns,os){return this.encode(ns,os).ldelim()},ts.decode=function(ns,os){ns instanceof $Reader||(ns=$Reader.create(ns));for(var ss=os===void 0?ns.len:ns.pos+os,as=new $root.SdkAudioControlFrame;ns.pos<ss;){var ls=ns.uint32();switch(ls>>>3){case 1:{as.muted=ns.bool();break}default:ns.skipType(ls&7);break}}return as},ts.decodeDelimited=function(ns){return ns instanceof $Reader||(ns=new $Reader(ns)),this.decode(ns,ns.uint32())},ts.verify=function(ns){return typeof ns!="object"||ns===null?"object expected":ns.muted!=null&&ns.hasOwnProperty("muted")&&typeof ns.muted!="boolean"?"muted: boolean expected":null},ts.fromObject=function(ns){if(ns instanceof $root.SdkAudioControlFrame)return ns;var os=new $root.SdkAudioControlFrame;return ns.muted!=null&&(os.muted=!!ns.muted),os},ts.toObject=function(ns,os){os||(os={});var ss={};return os.defaults&&(ss.muted=!1),ns.muted!=null&&ns.hasOwnProperty("muted")&&(ss.muted=ns.muted),ss},ts.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},ts.getTypeUrl=function(ns){return ns===void 0&&(ns="type.googleapis.com"),ns+"/SdkAudioControlFrame"},ts}();$root.SdkAudioMetadataFrame=function(){function ts(rs){if(this.attendeeStates=[],rs)for(var ns=Object.keys(rs),os=0;os<ns.length;++os)rs[ns[os]]!=null&&(this[ns[os]]=rs[ns[os]])}return ts.prototype.attendeeStates=$util.emptyArray,ts.create=function(ns){return new ts(ns)},ts.encode=function(ns,os){if(os||(os=$Writer.create()),ns.attendeeStates!=null&&ns.attendeeStates.length)for(var ss=0;ss<ns.attendeeStates.length;++ss)$root.SdkAudioAttendeeState.encode(ns.attendeeStates[ss],os.uint32(10).fork()).ldelim();return os},ts.encodeDelimited=function(ns,os){return this.encode(ns,os).ldelim()},ts.decode=function(ns,os){ns instanceof $Reader||(ns=$Reader.create(ns));for(var ss=os===void 0?ns.len:ns.pos+os,as=new $root.SdkAudioMetadataFrame;ns.pos<ss;){var ls=ns.uint32();switch(ls>>>3){case 1:{as.attendeeStates&&as.attendeeStates.length||(as.attendeeStates=[]),as.attendeeStates.push($root.SdkAudioAttendeeState.decode(ns,ns.uint32()));break}default:ns.skipType(ls&7);break}}return as},ts.decodeDelimited=function(ns){return ns instanceof $Reader||(ns=new $Reader(ns)),this.decode(ns,ns.uint32())},ts.verify=function(ns){if(typeof ns!="object"||ns===null)return"object expected";if(ns.attendeeStates!=null&&ns.hasOwnProperty("attendeeStates")){if(!Array.isArray(ns.attendeeStates))return"attendeeStates: array expected";for(var os=0;os<ns.attendeeStates.length;++os){var ss=$root.SdkAudioAttendeeState.verify(ns.attendeeStates[os]);if(ss)return"attendeeStates."+ss}}return null},ts.fromObject=function(ns){if(ns instanceof $root.SdkAudioMetadataFrame)return ns;var os=new $root.SdkAudioMetadataFrame;if(ns.attendeeStates){if(!Array.isArray(ns.attendeeStates))throw TypeError(".SdkAudioMetadataFrame.attendeeStates: array expected");os.attendeeStates=[];for(var ss=0;ss<ns.attendeeStates.length;++ss){if(typeof ns.attendeeStates[ss]!="object")throw TypeError(".SdkAudioMetadataFrame.attendeeStates: object expected");os.attendeeStates[ss]=$root.SdkAudioAttendeeState.fromObject(ns.attendeeStates[ss])}}return os},ts.toObject=function(ns,os){os||(os={});var ss={};if((os.arrays||os.defaults)&&(ss.attendeeStates=[]),ns.attendeeStates&&ns.attendeeStates.length){ss.attendeeStates=[];for(var as=0;as<ns.attendeeStates.length;++as)ss.attendeeStates[as]=$root.SdkAudioAttendeeState.toObject(ns.attendeeStates[as],os)}return ss},ts.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},ts.getTypeUrl=function(ns){return ns===void 0&&(ns="type.googleapis.com"),ns+"/SdkAudioMetadataFrame"},ts}();$root.SdkAudioAttendeeState=function(){function ts(rs){if(rs)for(var ns=Object.keys(rs),os=0;os<ns.length;++os)rs[ns[os]]!=null&&(this[ns[os]]=rs[ns[os]])}return ts.prototype.audioStreamId=0,ts.prototype.volume=0,ts.prototype.muted=!1,ts.prototype.signalStrength=0,ts.create=function(ns){return new ts(ns)},ts.encode=function(ns,os){return os||(os=$Writer.create()),ns.audioStreamId!=null&&Object.hasOwnProperty.call(ns,"audioStreamId")&&os.uint32(8).uint32(ns.audioStreamId),ns.volume!=null&&Object.hasOwnProperty.call(ns,"volume")&&os.uint32(16).uint32(ns.volume),ns.muted!=null&&Object.hasOwnProperty.call(ns,"muted")&&os.uint32(24).bool(ns.muted),ns.signalStrength!=null&&Object.hasOwnProperty.call(ns,"signalStrength")&&os.uint32(32).uint32(ns.signalStrength),os},ts.encodeDelimited=function(ns,os){return this.encode(ns,os).ldelim()},ts.decode=function(ns,os){ns instanceof $Reader||(ns=$Reader.create(ns));for(var ss=os===void 0?ns.len:ns.pos+os,as=new $root.SdkAudioAttendeeState;ns.pos<ss;){var ls=ns.uint32();switch(ls>>>3){case 1:{as.audioStreamId=ns.uint32();break}case 2:{as.volume=ns.uint32();break}case 3:{as.muted=ns.bool();break}case 4:{as.signalStrength=ns.uint32();break}default:ns.skipType(ls&7);break}}return as},ts.decodeDelimited=function(ns){return ns instanceof $Reader||(ns=new $Reader(ns)),this.decode(ns,ns.uint32())},ts.verify=function(ns){return typeof ns!="object"||ns===null?"object expected":ns.audioStreamId!=null&&ns.hasOwnProperty("audioStreamId")&&!$util.isInteger(ns.audioStreamId)?"audioStreamId: integer expected":ns.volume!=null&&ns.hasOwnProperty("volume")&&!$util.isInteger(ns.volume)?"volume: integer expected":ns.muted!=null&&ns.hasOwnProperty("muted")&&typeof ns.muted!="boolean"?"muted: boolean expected":ns.signalStrength!=null&&ns.hasOwnProperty("signalStrength")&&!$util.isInteger(ns.signalStrength)?"signalStrength: integer expected":null},ts.fromObject=function(ns){if(ns instanceof $root.SdkAudioAttendeeState)return ns;var os=new $root.SdkAudioAttendeeState;return ns.audioStreamId!=null&&(os.audioStreamId=ns.audioStreamId>>>0),ns.volume!=null&&(os.volume=ns.volume>>>0),ns.muted!=null&&(os.muted=!!ns.muted),ns.signalStrength!=null&&(os.signalStrength=ns.signalStrength>>>0),os},ts.toObject=function(ns,os){os||(os={});var ss={};return os.defaults&&(ss.audioStreamId=0,ss.volume=0,ss.muted=!1,ss.signalStrength=0),ns.audioStreamId!=null&&ns.hasOwnProperty("audioStreamId")&&(ss.audioStreamId=ns.audioStreamId),ns.volume!=null&&ns.hasOwnProperty("volume")&&(ss.volume=ns.volume),ns.muted!=null&&ns.hasOwnProperty("muted")&&(ss.muted=ns.muted),ns.signalStrength!=null&&ns.hasOwnProperty("signalStrength")&&(ss.signalStrength=ns.signalStrength),ss},ts.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},ts.getTypeUrl=function(ns){return ns===void 0&&(ns="type.googleapis.com"),ns+"/SdkAudioAttendeeState"},ts}();$root.SdkAudioStreamIdInfoFrame=function(){function ts(rs){if(this.streams=[],rs)for(var ns=Object.keys(rs),os=0;os<ns.length;++os)rs[ns[os]]!=null&&(this[ns[os]]=rs[ns[os]])}return ts.prototype.streams=$util.emptyArray,ts.create=function(ns){return new ts(ns)},ts.encode=function(ns,os){if(os||(os=$Writer.create()),ns.streams!=null&&ns.streams.length)for(var ss=0;ss<ns.streams.length;++ss)$root.SdkAudioStreamIdInfo.encode(ns.streams[ss],os.uint32(10).fork()).ldelim();return os},ts.encodeDelimited=function(ns,os){return this.encode(ns,os).ldelim()},ts.decode=function(ns,os){ns instanceof $Reader||(ns=$Reader.create(ns));for(var ss=os===void 0?ns.len:ns.pos+os,as=new $root.SdkAudioStreamIdInfoFrame;ns.pos<ss;){var ls=ns.uint32();switch(ls>>>3){case 1:{as.streams&&as.streams.length||(as.streams=[]),as.streams.push($root.SdkAudioStreamIdInfo.decode(ns,ns.uint32()));break}default:ns.skipType(ls&7);break}}return as},ts.decodeDelimited=function(ns){return ns instanceof $Reader||(ns=new $Reader(ns)),this.decode(ns,ns.uint32())},ts.verify=function(ns){if(typeof ns!="object"||ns===null)return"object expected";if(ns.streams!=null&&ns.hasOwnProperty("streams")){if(!Array.isArray(ns.streams))return"streams: array expected";for(var os=0;os<ns.streams.length;++os){var ss=$root.SdkAudioStreamIdInfo.verify(ns.streams[os]);if(ss)return"streams."+ss}}return null},ts.fromObject=function(ns){if(ns instanceof $root.SdkAudioStreamIdInfoFrame)return ns;var os=new $root.SdkAudioStreamIdInfoFrame;if(ns.streams){if(!Array.isArray(ns.streams))throw TypeError(".SdkAudioStreamIdInfoFrame.streams: array expected");os.streams=[];for(var ss=0;ss<ns.streams.length;++ss){if(typeof ns.streams[ss]!="object")throw TypeError(".SdkAudioStreamIdInfoFrame.streams: object expected");os.streams[ss]=$root.SdkAudioStreamIdInfo.fromObject(ns.streams[ss])}}return os},ts.toObject=function(ns,os){os||(os={});var ss={};if((os.arrays||os.defaults)&&(ss.streams=[]),ns.streams&&ns.streams.length){ss.streams=[];for(var as=0;as<ns.streams.length;++as)ss.streams[as]=$root.SdkAudioStreamIdInfo.toObject(ns.streams[as],os)}return ss},ts.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},ts.getTypeUrl=function(ns){return ns===void 0&&(ns="type.googleapis.com"),ns+"/SdkAudioStreamIdInfoFrame"},ts}();$root.SdkAudioStreamIdInfo=function(){function ts(rs){if(rs)for(var ns=Object.keys(rs),os=0;os<ns.length;++os)rs[ns[os]]!=null&&(this[ns[os]]=rs[ns[os]])}return ts.prototype.audioStreamId=0,ts.prototype.attendeeId="",ts.prototype.muted=!1,ts.prototype.externalUserId="",ts.prototype.dropped=!1,ts.create=function(ns){return new ts(ns)},ts.encode=function(ns,os){return os||(os=$Writer.create()),ns.audioStreamId!=null&&Object.hasOwnProperty.call(ns,"audioStreamId")&&os.uint32(8).uint32(ns.audioStreamId),ns.attendeeId!=null&&Object.hasOwnProperty.call(ns,"attendeeId")&&os.uint32(18).string(ns.attendeeId),ns.muted!=null&&Object.hasOwnProperty.call(ns,"muted")&&os.uint32(24).bool(ns.muted),ns.externalUserId!=null&&Object.hasOwnProperty.call(ns,"externalUserId")&&os.uint32(34).string(ns.externalUserId),ns.dropped!=null&&Object.hasOwnProperty.call(ns,"dropped")&&os.uint32(40).bool(ns.dropped),os},ts.encodeDelimited=function(ns,os){return this.encode(ns,os).ldelim()},ts.decode=function(ns,os){ns instanceof $Reader||(ns=$Reader.create(ns));for(var ss=os===void 0?ns.len:ns.pos+os,as=new $root.SdkAudioStreamIdInfo;ns.pos<ss;){var ls=ns.uint32();switch(ls>>>3){case 1:{as.audioStreamId=ns.uint32();break}case 2:{as.attendeeId=ns.string();break}case 3:{as.muted=ns.bool();break}case 4:{as.externalUserId=ns.string();break}case 5:{as.dropped=ns.bool();break}default:ns.skipType(ls&7);break}}return as},ts.decodeDelimited=function(ns){return ns instanceof $Reader||(ns=new $Reader(ns)),this.decode(ns,ns.uint32())},ts.verify=function(ns){return typeof ns!="object"||ns===null?"object expected":ns.audioStreamId!=null&&ns.hasOwnProperty("audioStreamId")&&!$util.isInteger(ns.audioStreamId)?"audioStreamId: integer expected":ns.attendeeId!=null&&ns.hasOwnProperty("attendeeId")&&!$util.isString(ns.attendeeId)?"attendeeId: string expected":ns.muted!=null&&ns.hasOwnProperty("muted")&&typeof ns.muted!="boolean"?"muted: boolean expected":ns.externalUserId!=null&&ns.hasOwnProperty("externalUserId")&&!$util.isString(ns.externalUserId)?"externalUserId: string expected":ns.dropped!=null&&ns.hasOwnProperty("dropped")&&typeof ns.dropped!="boolean"?"dropped: boolean expected":null},ts.fromObject=function(ns){if(ns instanceof $root.SdkAudioStreamIdInfo)return ns;var os=new $root.SdkAudioStreamIdInfo;return ns.audioStreamId!=null&&(os.audioStreamId=ns.audioStreamId>>>0),ns.attendeeId!=null&&(os.attendeeId=String(ns.attendeeId)),ns.muted!=null&&(os.muted=!!ns.muted),ns.externalUserId!=null&&(os.externalUserId=String(ns.externalUserId)),ns.dropped!=null&&(os.dropped=!!ns.dropped),os},ts.toObject=function(ns,os){os||(os={});var ss={};return os.defaults&&(ss.audioStreamId=0,ss.attendeeId="",ss.muted=!1,ss.externalUserId="",ss.dropped=!1),ns.audioStreamId!=null&&ns.hasOwnProperty("audioStreamId")&&(ss.audioStreamId=ns.audioStreamId),ns.attendeeId!=null&&ns.hasOwnProperty("attendeeId")&&(ss.attendeeId=ns.attendeeId),ns.muted!=null&&ns.hasOwnProperty("muted")&&(ss.muted=ns.muted),ns.externalUserId!=null&&ns.hasOwnProperty("externalUserId")&&(ss.externalUserId=ns.externalUserId),ns.dropped!=null&&ns.hasOwnProperty("dropped")&&(ss.dropped=ns.dropped),ss},ts.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},ts.getTypeUrl=function(ns){return ns===void 0&&(ns="type.googleapis.com"),ns+"/SdkAudioStreamIdInfo"},ts}();$root.SdkPingPongType=function(){var ts={},rs=Object.create(ts);return rs[ts[1]="PING"]=1,rs[ts[2]="PONG"]=2,rs}();$root.SdkPingPongFrame=function(){function ts(rs){if(rs)for(var ns=Object.keys(rs),os=0;os<ns.length;++os)rs[ns[os]]!=null&&(this[ns[os]]=rs[ns[os]])}return ts.prototype.type=1,ts.prototype.pingId=0,ts.create=function(ns){return new ts(ns)},ts.encode=function(ns,os){return os||(os=$Writer.create()),os.uint32(8).int32(ns.type),os.uint32(16).uint32(ns.pingId),os},ts.encodeDelimited=function(ns,os){return this.encode(ns,os).ldelim()},ts.decode=function(ns,os){ns instanceof $Reader||(ns=$Reader.create(ns));for(var ss=os===void 0?ns.len:ns.pos+os,as=new $root.SdkPingPongFrame;ns.pos<ss;){var ls=ns.uint32();switch(ls>>>3){case 1:{as.type=ns.int32();break}case 2:{as.pingId=ns.uint32();break}default:ns.skipType(ls&7);break}}if(!as.hasOwnProperty("type"))throw $util.ProtocolError("missing required 'type'",{instance:as});if(!as.hasOwnProperty("pingId"))throw $util.ProtocolError("missing required 'pingId'",{instance:as});return as},ts.decodeDelimited=function(ns){return ns instanceof $Reader||(ns=new $Reader(ns)),this.decode(ns,ns.uint32())},ts.verify=function(ns){if(typeof ns!="object"||ns===null)return"object expected";switch(ns.type){default:return"type: enum value expected";case 1:case 2:break}return $util.isInteger(ns.pingId)?null:"pingId: integer expected"},ts.fromObject=function(ns){if(ns instanceof $root.SdkPingPongFrame)return ns;var os=new $root.SdkPingPongFrame;switch(ns.type){default:if(typeof ns.type=="number"){os.type=ns.type;break}break;case"PING":case 1:os.type=1;break;case"PONG":case 2:os.type=2;break}return ns.pingId!=null&&(os.pingId=ns.pingId>>>0),os},ts.toObject=function(ns,os){os||(os={});var ss={};return os.defaults&&(ss.type=os.enums===String?"PING":1,ss.pingId=0),ns.type!=null&&ns.hasOwnProperty("type")&&(ss.type=os.enums===String?$root.SdkPingPongType[ns.type]===void 0?ns.type:$root.SdkPingPongType[ns.type]:ns.type),ns.pingId!=null&&ns.hasOwnProperty("pingId")&&(ss.pingId=ns.pingId),ss},ts.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},ts.getTypeUrl=function(ns){return ns===void 0&&(ns="type.googleapis.com"),ns+"/SdkPingPongFrame"},ts}();$root.SdkAudioStatusFrame=function(){function ts(rs){if(rs)for(var ns=Object.keys(rs),os=0;os<ns.length;++os)rs[ns[os]]!=null&&(this[ns[os]]=rs[ns[os]])}return ts.prototype.audioStatus=0,ts.create=function(ns){return new ts(ns)},ts.encode=function(ns,os){return os||(os=$Writer.create()),ns.audioStatus!=null&&Object.hasOwnProperty.call(ns,"audioStatus")&&os.uint32(8).uint32(ns.audioStatus),os},ts.encodeDelimited=function(ns,os){return this.encode(ns,os).ldelim()},ts.decode=function(ns,os){ns instanceof $Reader||(ns=$Reader.create(ns));for(var ss=os===void 0?ns.len:ns.pos+os,as=new $root.SdkAudioStatusFrame;ns.pos<ss;){var ls=ns.uint32();switch(ls>>>3){case 1:{as.audioStatus=ns.uint32();break}default:ns.skipType(ls&7);break}}return as},ts.decodeDelimited=function(ns){return ns instanceof $Reader||(ns=new $Reader(ns)),this.decode(ns,ns.uint32())},ts.verify=function(ns){return typeof ns!="object"||ns===null?"object expected":ns.audioStatus!=null&&ns.hasOwnProperty("audioStatus")&&!$util.isInteger(ns.audioStatus)?"audioStatus: integer expected":null},ts.fromObject=function(ns){if(ns instanceof $root.SdkAudioStatusFrame)return ns;var os=new $root.SdkAudioStatusFrame;return ns.audioStatus!=null&&(os.audioStatus=ns.audioStatus>>>0),os},ts.toObject=function(ns,os){os||(os={});var ss={};return os.defaults&&(ss.audioStatus=0),ns.audioStatus!=null&&ns.hasOwnProperty("audioStatus")&&(ss.audioStatus=ns.audioStatus),ss},ts.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},ts.getTypeUrl=function(ns){return ns===void 0&&(ns="type.googleapis.com"),ns+"/SdkAudioStatusFrame"},ts}();$root.SdkMetric=function(){function ts(rs){if(rs)for(var ns=Object.keys(rs),os=0;os<ns.length;++os)rs[ns[os]]!=null&&(this[ns[os]]=rs[ns[os]])}return ts.prototype.type=1,ts.prototype.value=0,ts.create=function(ns){return new ts(ns)},ts.encode=function(ns,os){return os||(os=$Writer.create()),ns.type!=null&&Object.hasOwnProperty.call(ns,"type")&&os.uint32(8).int32(ns.type),ns.value!=null&&Object.hasOwnProperty.call(ns,"value")&&os.uint32(17).double(ns.value),os},ts.encodeDelimited=function(ns,os){return this.encode(ns,os).ldelim()},ts.decode=function(ns,os){ns instanceof $Reader||(ns=$Reader.create(ns));for(var ss=os===void 0?ns.len:ns.pos+os,as=new $root.SdkMetric;ns.pos<ss;){var ls=ns.uint32();switch(ls>>>3){case 1:{as.type=ns.int32();break}case 2:{as.value=ns.double();break}default:ns.skipType(ls&7);break}}return as},ts.decodeDelimited=function(ns){return ns instanceof $Reader||(ns=new $Reader(ns)),this.decode(ns,ns.uint32())},ts.verify=function(ns){if(typeof ns!="object"||ns===null)return"object expected";if(ns.type!=null&&ns.hasOwnProperty("type"))switch(ns.type){default:return"type: enum value expected";case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:case 19:case 20:case 21:case 22:case 23:case 24:case 25:case 26:case 27:case 28:case 29:case 30:case 31:case 32:case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 48:case 49:case 64:case 66:case 69:case 72:case 86:case 87:case 88:case 89:case 90:case 91:case 92:case 93:case 94:case 95:case 96:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:break}return ns.value!=null&&ns.hasOwnProperty("value")&&typeof ns.value!="number"?"value: number expected":null},ts.fromObject=function(ns){if(ns instanceof $root.SdkMetric)return ns;var os=new $root.SdkMetric;switch(ns.type){default:if(typeof ns.type=="number"){os.type=ns.type;break}break;case"VIDEO_ACTUAL_ENCODER_BITRATE":case 1:os.type=1;break;case"VIDEO_AVAILABLE_SEND_BANDWIDTH":case 2:os.type=2;break;case"VIDEO_RETRANSMIT_BITRATE":case 3:os.type=3;break;case"VIDEO_AVAILABLE_RECEIVE_BANDWIDTH":case 4:os.type=4;break;case"VIDEO_TARGET_ENCODER_BITRATE":case 5:os.type=5;break;case"VIDEO_BUCKET_DELAY_MS":case 6:os.type=6;break;case"STUN_RTT_MS":case 7:os.type=7;break;case"SOCKET_DISCARDED_PPS":case 8:os.type=8;break;case"RTC_MIC_JITTER_MS":case 9:os.type=9;break;case"RTC_MIC_PPS":case 10:os.type=10;break;case"RTC_MIC_FRACTION_PACKET_LOST_PERCENT":case 11:os.type=11;break;case"RTC_MIC_BITRATE":case 12:os.type=12;break;case"RTC_MIC_RTT_MS":case 13:os.type=13;break;case"RTC_SPK_PPS":case 14:os.type=14;break;case"RTC_SPK_FRACTION_PACKET_LOST_PERCENT":case 15:os.type=15;break;case"RTC_SPK_JITTER_MS":case 16:os.type=16;break;case"RTC_SPK_FRACTION_DECODER_LOSS_PERCENT":case 17:os.type=17;break;case"RTC_SPK_BITRATE":case 18:os.type=18;break;case"RTC_SPK_CURRENT_DELAY_MS":case 19:os.type=19;break;case"RTC_SPK_JITTER_BUFFER_MS":case 20:os.type=20;break;case"VIDEO_SENT_RTT_MS":case 21:os.type=21;break;case"VIDEO_ENCODE_USAGE_PERCENT":case 22:os.type=22;break;case"VIDEO_NACKS_RECEIVED":case 23:os.type=23;break;case"VIDEO_PLIS_RECEIVED":case 24:os.type=24;break;case"VIDEO_ENCODE_MS":case 25:os.type=25;break;case"VIDEO_INPUT_FPS":case 26:os.type=26;break;case"VIDEO_ENCODE_FPS":case 27:os.type=27;break;case"VIDEO_SENT_FPS":case 28:os.type=28;break;case"VIDEO_FIRS_RECEIVED":case 29:os.type=29;break;case"VIDEO_SENT_PPS":case 30:os.type=30;break;case"VIDEO_SENT_FRACTION_PACKET_LOST_PERCENT":case 31:os.type=31;break;case"VIDEO_SENT_BITRATE":case 32:os.type=32;break;case"VIDEO_DROPPED_FPS":case 33:os.type=33;break;case"VIDEO_TARGET_DELAY_MS":case 34:os.type=34;break;case"VIDEO_DECODE_MS":case 35:os.type=35;break;case"VIDEO_OUTPUT_FPS":case 36:os.type=36;break;case"VIDEO_RECEIVED_PPS":case 37:os.type=37;break;case"VIDEO_RECEIVED_FRACTION_PACKET_LOST_PERCENT":case 38:os.type=38;break;case"VIDEO_RENDER_DELAY_MS":case 39:os.type=39;break;case"VIDEO_RECEIVED_FPS":case 40:os.type=40;break;case"VIDEO_DECODE_FPS":case 41:os.type=41;break;case"VIDEO_NACKS_SENT":case 42:os.type=42;break;case"VIDEO_FIRS_SENT":case 43:os.type=43;break;case"VIDEO_RECEIVED_BITRATE":case 44:os.type=44;break;case"VIDEO_CURRENT_DELAY_MS":case 45:os.type=45;break;case"VIDEO_JITTER_BUFFER_MS":case 46:os.type=46;break;case"VIDEO_DISCARDED_PPS":case 47:os.type=47;break;case"VIDEO_PLIS_SENT":case 48:os.type=48;break;case"VIDEO_RECEIVED_JITTER_MS":case 49:os.type=49;break;case"VIDEO_ENCODE_HEIGHT":case 64:os.type=64;break;case"VIDEO_SENT_QP_SUM":case 66:os.type=66;break;case"VIDEO_DECODE_HEIGHT":case 69:os.type=69;break;case"VIDEO_RECEIVED_QP_SUM":case 72:os.type=72;break;case"VIDEO_ENCODE_WIDTH":case 86:os.type=86;break;case"VIDEO_DECODE_WIDTH":case 87:os.type=87;break;case"VIDEO_ENCODER_IS_HARDWARE":case 88:os.type=88;break;case"VIDEO_DECODER_IS_HARDWARE":case 89:os.type=89;break;case"VIDEO_FREEZE_COUNT":case 90:os.type=90;break;case"VIDEO_FREEZE_DURATION":case 91:os.type=91;break;case"VIDEO_PAUSE_COUNT":case 92:os.type=92;break;case"VIDEO_PAUSE_DURATION":case 93:os.type=93;break;case"VIDEO_QUALITY_REASON":case 94:os.type=94;break;case"VIDEO_PROCESSING_TIME":case 95:os.type=95;break;case"RTC_SPK_AUDIO_LEVEL":case 96:os.type=96;break;case"RTC_MIC_AUDIO_LEVEL":case 97:os.type=97;break;case"RTC_SPK_TOTAL_LOST":case 98:os.type=98;break;case"RTC_SPK_TOTAL_EXPECTED":case 99:os.type=99;break;case"RTC_SPK_TOTAL_RECOVERED_RED":case 100:os.type=100;break;case"RTC_SPK_TOTAL_RECOVERED_FEC":case 101:os.type=101;break;case"VIDEO_QUALITY_LIMITATION_DURATION_CPU":case 102:os.type=102;break;case"VIDEO_CODEC_DEGRADATION_HIGH_ENCODE_CPU":case 103:os.type=103;break;case"VIDEO_CODEC_DEGRADATION_ENCODE_FAILURE":case 104:os.type=104;break}return ns.value!=null&&(os.value=Number(ns.value)),os},ts.toObject=function(ns,os){os||(os={});var ss={};return os.defaults&&(ss.type=os.enums===String?"VIDEO_ACTUAL_ENCODER_BITRATE":1,ss.value=0),ns.type!=null&&ns.hasOwnProperty("type")&&(ss.type=os.enums===String?$root.SdkMetric.Type[ns.type]===void 0?ns.type:$root.SdkMetric.Type[ns.type]:ns.type),ns.value!=null&&ns.hasOwnProperty("value")&&(ss.value=os.json&&!isFinite(ns.value)?String(ns.value):ns.value),ss},ts.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},ts.getTypeUrl=function(ns){return ns===void 0&&(ns="type.googleapis.com"),ns+"/SdkMetric"},ts.Type=function(){var rs={},ns=Object.create(rs);return ns[rs[1]="VIDEO_ACTUAL_ENCODER_BITRATE"]=1,ns[rs[2]="VIDEO_AVAILABLE_SEND_BANDWIDTH"]=2,ns[rs[3]="VIDEO_RETRANSMIT_BITRATE"]=3,ns[rs[4]="VIDEO_AVAILABLE_RECEIVE_BANDWIDTH"]=4,ns[rs[5]="VIDEO_TARGET_ENCODER_BITRATE"]=5,ns[rs[6]="VIDEO_BUCKET_DELAY_MS"]=6,ns[rs[7]="STUN_RTT_MS"]=7,ns[rs[8]="SOCKET_DISCARDED_PPS"]=8,ns[rs[9]="RTC_MIC_JITTER_MS"]=9,ns[rs[10]="RTC_MIC_PPS"]=10,ns[rs[11]="RTC_MIC_FRACTION_PACKET_LOST_PERCENT"]=11,ns[rs[12]="RTC_MIC_BITRATE"]=12,ns[rs[13]="RTC_MIC_RTT_MS"]=13,ns[rs[14]="RTC_SPK_PPS"]=14,ns[rs[15]="RTC_SPK_FRACTION_PACKET_LOST_PERCENT"]=15,ns[rs[16]="RTC_SPK_JITTER_MS"]=16,ns[rs[17]="RTC_SPK_FRACTION_DECODER_LOSS_PERCENT"]=17,ns[rs[18]="RTC_SPK_BITRATE"]=18,ns[rs[19]="RTC_SPK_CURRENT_DELAY_MS"]=19,ns[rs[20]="RTC_SPK_JITTER_BUFFER_MS"]=20,ns[rs[21]="VIDEO_SENT_RTT_MS"]=21,ns[rs[22]="VIDEO_ENCODE_USAGE_PERCENT"]=22,ns[rs[23]="VIDEO_NACKS_RECEIVED"]=23,ns[rs[24]="VIDEO_PLIS_RECEIVED"]=24,ns[rs[25]="VIDEO_ENCODE_MS"]=25,ns[rs[26]="VIDEO_INPUT_FPS"]=26,ns[rs[27]="VIDEO_ENCODE_FPS"]=27,ns[rs[28]="VIDEO_SENT_FPS"]=28,ns[rs[29]="VIDEO_FIRS_RECEIVED"]=29,ns[rs[30]="VIDEO_SENT_PPS"]=30,ns[rs[31]="VIDEO_SENT_FRACTION_PACKET_LOST_PERCENT"]=31,ns[rs[32]="VIDEO_SENT_BITRATE"]=32,ns[rs[33]="VIDEO_DROPPED_FPS"]=33,ns[rs[34]="VIDEO_TARGET_DELAY_MS"]=34,ns[rs[35]="VIDEO_DECODE_MS"]=35,ns[rs[36]="VIDEO_OUTPUT_FPS"]=36,ns[rs[37]="VIDEO_RECEIVED_PPS"]=37,ns[rs[38]="VIDEO_RECEIVED_FRACTION_PACKET_LOST_PERCENT"]=38,ns[rs[39]="VIDEO_RENDER_DELAY_MS"]=39,ns[rs[40]="VIDEO_RECEIVED_FPS"]=40,ns[rs[41]="VIDEO_DECODE_FPS"]=41,ns[rs[42]="VIDEO_NACKS_SENT"]=42,ns[rs[43]="VIDEO_FIRS_SENT"]=43,ns[rs[44]="VIDEO_RECEIVED_BITRATE"]=44,ns[rs[45]="VIDEO_CURRENT_DELAY_MS"]=45,ns[rs[46]="VIDEO_JITTER_BUFFER_MS"]=46,ns[rs[47]="VIDEO_DISCARDED_PPS"]=47,ns[rs[48]="VIDEO_PLIS_SENT"]=48,ns[rs[49]="VIDEO_RECEIVED_JITTER_MS"]=49,ns[rs[64]="VIDEO_ENCODE_HEIGHT"]=64,ns[rs[66]="VIDEO_SENT_QP_SUM"]=66,ns[rs[69]="VIDEO_DECODE_HEIGHT"]=69,ns[rs[72]="VIDEO_RECEIVED_QP_SUM"]=72,ns[rs[86]="VIDEO_ENCODE_WIDTH"]=86,ns[rs[87]="VIDEO_DECODE_WIDTH"]=87,ns[rs[88]="VIDEO_ENCODER_IS_HARDWARE"]=88,ns[rs[89]="VIDEO_DECODER_IS_HARDWARE"]=89,ns[rs[90]="VIDEO_FREEZE_COUNT"]=90,ns[rs[91]="VIDEO_FREEZE_DURATION"]=91,ns[rs[92]="VIDEO_PAUSE_COUNT"]=92,ns[rs[93]="VIDEO_PAUSE_DURATION"]=93,ns[rs[94]="VIDEO_QUALITY_REASON"]=94,ns[rs[95]="VIDEO_PROCESSING_TIME"]=95,ns[rs[96]="RTC_SPK_AUDIO_LEVEL"]=96,ns[rs[97]="RTC_MIC_AUDIO_LEVEL"]=97,ns[rs[98]="RTC_SPK_TOTAL_LOST"]=98,ns[rs[99]="RTC_SPK_TOTAL_EXPECTED"]=99,ns[rs[100]="RTC_SPK_TOTAL_RECOVERED_RED"]=100,ns[rs[101]="RTC_SPK_TOTAL_RECOVERED_FEC"]=101,ns[rs[102]="VIDEO_QUALITY_LIMITATION_DURATION_CPU"]=102,ns[rs[103]="VIDEO_CODEC_DEGRADATION_HIGH_ENCODE_CPU"]=103,ns[rs[104]="VIDEO_CODEC_DEGRADATION_ENCODE_FAILURE"]=104,ns}(),ts}();$root.SdkStreamMetricFrame=function(){function ts(rs){if(this.metrics=[],this.dimensions=[],rs)for(var ns=Object.keys(rs),os=0;os<ns.length;++os)rs[ns[os]]!=null&&(this[ns[os]]=rs[ns[os]])}return ts.prototype.streamId=0,ts.prototype.groupId=0,ts.prototype.metrics=$util.emptyArray,ts.prototype.dimensions=$util.emptyArray,ts.create=function(ns){return new ts(ns)},ts.encode=function(ns,os){if(os||(os=$Writer.create()),ns.streamId!=null&&Object.hasOwnProperty.call(ns,"streamId")&&os.uint32(24).uint32(ns.streamId),ns.groupId!=null&&Object.hasOwnProperty.call(ns,"groupId")&&os.uint32(32).uint32(ns.groupId),ns.metrics!=null&&ns.metrics.length)for(var ss=0;ss<ns.metrics.length;++ss)$root.SdkMetric.encode(ns.metrics[ss],os.uint32(42).fork()).ldelim();if(ns.dimensions!=null&&ns.dimensions.length)for(var ss=0;ss<ns.dimensions.length;++ss)$root.SdkStreamDimension.encode(ns.dimensions[ss],os.uint32(50).fork()).ldelim();return os},ts.encodeDelimited=function(ns,os){return this.encode(ns,os).ldelim()},ts.decode=function(ns,os){ns instanceof $Reader||(ns=$Reader.create(ns));for(var ss=os===void 0?ns.len:ns.pos+os,as=new $root.SdkStreamMetricFrame;ns.pos<ss;){var ls=ns.uint32();switch(ls>>>3){case 3:{as.streamId=ns.uint32();break}case 4:{as.groupId=ns.uint32();break}case 5:{as.metrics&&as.metrics.length||(as.metrics=[]),as.metrics.push($root.SdkMetric.decode(ns,ns.uint32()));break}case 6:{as.dimensions&&as.dimensions.length||(as.dimensions=[]),as.dimensions.push($root.SdkStreamDimension.decode(ns,ns.uint32()));break}default:ns.skipType(ls&7);break}}return as},ts.decodeDelimited=function(ns){return ns instanceof $Reader||(ns=new $Reader(ns)),this.decode(ns,ns.uint32())},ts.verify=function(ns){if(typeof ns!="object"||ns===null)return"object expected";if(ns.streamId!=null&&ns.hasOwnProperty("streamId")&&!$util.isInteger(ns.streamId))return"streamId: integer expected";if(ns.groupId!=null&&ns.hasOwnProperty("groupId")&&!$util.isInteger(ns.groupId))return"groupId: integer expected";if(ns.metrics!=null&&ns.hasOwnProperty("metrics")){if(!Array.isArray(ns.metrics))return"metrics: array expected";for(var os=0;os<ns.metrics.length;++os){var ss=$root.SdkMetric.verify(ns.metrics[os]);if(ss)return"metrics."+ss}}if(ns.dimensions!=null&&ns.hasOwnProperty("dimensions")){if(!Array.isArray(ns.dimensions))return"dimensions: array expected";for(var os=0;os<ns.dimensions.length;++os){var ss=$root.SdkStreamDimension.verify(ns.dimensions[os]);if(ss)return"dimensions."+ss}}return null},ts.fromObject=function(ns){if(ns instanceof $root.SdkStreamMetricFrame)return ns;var os=new $root.SdkStreamMetricFrame;if(ns.streamId!=null&&(os.streamId=ns.streamId>>>0),ns.groupId!=null&&(os.groupId=ns.groupId>>>0),ns.metrics){if(!Array.isArray(ns.metrics))throw TypeError(".SdkStreamMetricFrame.metrics: array expected");os.metrics=[];for(var ss=0;ss<ns.metrics.length;++ss){if(typeof ns.metrics[ss]!="object")throw TypeError(".SdkStreamMetricFrame.metrics: object expected");os.metrics[ss]=$root.SdkMetric.fromObject(ns.metrics[ss])}}if(ns.dimensions){if(!Array.isArray(ns.dimensions))throw TypeError(".SdkStreamMetricFrame.dimensions: array expected");os.dimensions=[];for(var ss=0;ss<ns.dimensions.length;++ss){if(typeof ns.dimensions[ss]!="object")throw TypeError(".SdkStreamMetricFrame.dimensions: object expected");os.dimensions[ss]=$root.SdkStreamDimension.fromObject(ns.dimensions[ss])}}return os},ts.toObject=function(ns,os){os||(os={});var ss={};if((os.arrays||os.defaults)&&(ss.metrics=[],ss.dimensions=[]),os.defaults&&(ss.streamId=0,ss.groupId=0),ns.streamId!=null&&ns.hasOwnProperty("streamId")&&(ss.streamId=ns.streamId),ns.groupId!=null&&ns.hasOwnProperty("groupId")&&(ss.groupId=ns.groupId),ns.metrics&&ns.metrics.length){ss.metrics=[];for(var as=0;as<ns.metrics.length;++as)ss.metrics[as]=$root.SdkMetric.toObject(ns.metrics[as],os)}if(ns.dimensions&&ns.dimensions.length){ss.dimensions=[];for(var as=0;as<ns.dimensions.length;++as)ss.dimensions[as]=$root.SdkStreamDimension.toObject(ns.dimensions[as],os)}return ss},ts.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},ts.getTypeUrl=function(ns){return ns===void 0&&(ns="type.googleapis.com"),ns+"/SdkStreamMetricFrame"},ts}();$root.SdkClientMetricFrame=function(){function ts(rs){if(this.globalMetrics=[],this.streamMetricFrames=[],rs)for(var ns=Object.keys(rs),os=0;os<ns.length;++os)rs[ns[os]]!=null&&(this[ns[os]]=rs[ns[os]])}return ts.prototype.globalMetrics=$util.emptyArray,ts.prototype.streamMetricFrames=$util.emptyArray,ts.create=function(ns){return new ts(ns)},ts.encode=function(ns,os){if(os||(os=$Writer.create()),ns.globalMetrics!=null&&ns.globalMetrics.length)for(var ss=0;ss<ns.globalMetrics.length;++ss)$root.SdkMetric.encode(ns.globalMetrics[ss],os.uint32(10).fork()).ldelim();if(ns.streamMetricFrames!=null&&ns.streamMetricFrames.length)for(var ss=0;ss<ns.streamMetricFrames.length;++ss)$root.SdkStreamMetricFrame.encode(ns.streamMetricFrames[ss],os.uint32(18).fork()).ldelim();return os},ts.encodeDelimited=function(ns,os){return this.encode(ns,os).ldelim()},ts.decode=function(ns,os){ns instanceof $Reader||(ns=$Reader.create(ns));for(var ss=os===void 0?ns.len:ns.pos+os,as=new $root.SdkClientMetricFrame;ns.pos<ss;){var ls=ns.uint32();switch(ls>>>3){case 1:{as.globalMetrics&&as.globalMetrics.length||(as.globalMetrics=[]),as.globalMetrics.push($root.SdkMetric.decode(ns,ns.uint32()));break}case 2:{as.streamMetricFrames&&as.streamMetricFrames.length||(as.streamMetricFrames=[]),as.streamMetricFrames.push($root.SdkStreamMetricFrame.decode(ns,ns.uint32()));break}default:ns.skipType(ls&7);break}}return as},ts.decodeDelimited=function(ns){return ns instanceof $Reader||(ns=new $Reader(ns)),this.decode(ns,ns.uint32())},ts.verify=function(ns){if(typeof ns!="object"||ns===null)return"object expected";if(ns.globalMetrics!=null&&ns.hasOwnProperty("globalMetrics")){if(!Array.isArray(ns.globalMetrics))return"globalMetrics: array expected";for(var os=0;os<ns.globalMetrics.length;++os){var ss=$root.SdkMetric.verify(ns.globalMetrics[os]);if(ss)return"globalMetrics."+ss}}if(ns.streamMetricFrames!=null&&ns.hasOwnProperty("streamMetricFrames")){if(!Array.isArray(ns.streamMetricFrames))return"streamMetricFrames: array expected";for(var os=0;os<ns.streamMetricFrames.length;++os){var ss=$root.SdkStreamMetricFrame.verify(ns.streamMetricFrames[os]);if(ss)return"streamMetricFrames."+ss}}return null},ts.fromObject=function(ns){if(ns instanceof $root.SdkClientMetricFrame)return ns;var os=new $root.SdkClientMetricFrame;if(ns.globalMetrics){if(!Array.isArray(ns.globalMetrics))throw TypeError(".SdkClientMetricFrame.globalMetrics: array expected");os.globalMetrics=[];for(var ss=0;ss<ns.globalMetrics.length;++ss){if(typeof ns.globalMetrics[ss]!="object")throw TypeError(".SdkClientMetricFrame.globalMetrics: object expected");os.globalMetrics[ss]=$root.SdkMetric.fromObject(ns.globalMetrics[ss])}}if(ns.streamMetricFrames){if(!Array.isArray(ns.streamMetricFrames))throw TypeError(".SdkClientMetricFrame.streamMetricFrames: array expected");os.streamMetricFrames=[];for(var ss=0;ss<ns.streamMetricFrames.length;++ss){if(typeof ns.streamMetricFrames[ss]!="object")throw TypeError(".SdkClientMetricFrame.streamMetricFrames: object expected");os.streamMetricFrames[ss]=$root.SdkStreamMetricFrame.fromObject(ns.streamMetricFrames[ss])}}return os},ts.toObject=function(ns,os){os||(os={});var ss={};if((os.arrays||os.defaults)&&(ss.globalMetrics=[],ss.streamMetricFrames=[]),ns.globalMetrics&&ns.globalMetrics.length){ss.globalMetrics=[];for(var as=0;as<ns.globalMetrics.length;++as)ss.globalMetrics[as]=$root.SdkMetric.toObject(ns.globalMetrics[as],os)}if(ns.streamMetricFrames&&ns.streamMetricFrames.length){ss.streamMetricFrames=[];for(var as=0;as<ns.streamMetricFrames.length;++as)ss.streamMetricFrames[as]=$root.SdkStreamMetricFrame.toObject(ns.streamMetricFrames[as],os)}return ss},ts.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},ts.getTypeUrl=function(ns){return ns===void 0&&(ns="type.googleapis.com"),ns+"/SdkClientMetricFrame"},ts}();$root.SdkStreamDimension=function(){function ts(rs){if(rs)for(var ns=Object.keys(rs),os=0;os<ns.length;++os)rs[ns[os]]!=null&&(this[ns[os]]=rs[ns[os]])}return ts.prototype.type=1,ts.prototype.value=null,ts.create=function(ns){return new ts(ns)},ts.encode=function(ns,os){return os||(os=$Writer.create()),ns.type!=null&&Object.hasOwnProperty.call(ns,"type")&&os.uint32(8).int32(ns.type),ns.value!=null&&Object.hasOwnProperty.call(ns,"value")&&$root.SdkDimensionValue.encode(ns.value,os.uint32(18).fork()).ldelim(),os},ts.encodeDelimited=function(ns,os){return this.encode(ns,os).ldelim()},ts.decode=function(ns,os){ns instanceof $Reader||(ns=$Reader.create(ns));for(var ss=os===void 0?ns.len:ns.pos+os,as=new $root.SdkStreamDimension;ns.pos<ss;){var ls=ns.uint32();switch(ls>>>3){case 1:{as.type=ns.int32();break}case 2:{as.value=$root.SdkDimensionValue.decode(ns,ns.uint32());break}default:ns.skipType(ls&7);break}}return as},ts.decodeDelimited=function(ns){return ns instanceof $Reader||(ns=new $Reader(ns)),this.decode(ns,ns.uint32())},ts.verify=function(ns){if(typeof ns!="object"||ns===null)return"object expected";if(ns.type!=null&&ns.hasOwnProperty("type"))switch(ns.type){default:return"type: enum value expected";case 1:case 2:break}if(ns.value!=null&&ns.hasOwnProperty("value")){var os=$root.SdkDimensionValue.verify(ns.value);if(os)return"value."+os}return null},ts.fromObject=function(ns){if(ns instanceof $root.SdkStreamDimension)return ns;var os=new $root.SdkStreamDimension;switch(ns.type){default:if(typeof ns.type=="number"){os.type=ns.type;break}break;case"VIDEO_ENCODER_NAME":case 1:os.type=1;break;case"VIDEO_DECODER_NAME":case 2:os.type=2;break}if(ns.value!=null){if(typeof ns.value!="object")throw TypeError(".SdkStreamDimension.value: object expected");os.value=$root.SdkDimensionValue.fromObject(ns.value)}return os},ts.toObject=function(ns,os){os||(os={});var ss={};return os.defaults&&(ss.type=os.enums===String?"VIDEO_ENCODER_NAME":1,ss.value=null),ns.type!=null&&ns.hasOwnProperty("type")&&(ss.type=os.enums===String?$root.SdkStreamDimension.Type[ns.type]===void 0?ns.type:$root.SdkStreamDimension.Type[ns.type]:ns.type),ns.value!=null&&ns.hasOwnProperty("value")&&(ss.value=$root.SdkDimensionValue.toObject(ns.value,os)),ss},ts.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},ts.getTypeUrl=function(ns){return ns===void 0&&(ns="type.googleapis.com"),ns+"/SdkStreamDimension"},ts.Type=function(){var rs={},ns=Object.create(rs);return ns[rs[1]="VIDEO_ENCODER_NAME"]=1,ns[rs[2]="VIDEO_DECODER_NAME"]=2,ns}(),ts}();$root.SdkDimensionValue=function(){function ts(rs){if(rs)for(var ns=Object.keys(rs),os=0;os<ns.length;++os)rs[ns[os]]!=null&&(this[ns[os]]=rs[ns[os]])}return ts.prototype.stringValue="",ts.prototype.boolValue=!1,ts.prototype.uintValue=$util.Long?$util.Long.fromBits(0,0,!0):0,ts.create=function(ns){return new ts(ns)},ts.encode=function(ns,os){return os||(os=$Writer.create()),ns.stringValue!=null&&Object.hasOwnProperty.call(ns,"stringValue")&&os.uint32(10).string(ns.stringValue),ns.boolValue!=null&&Object.hasOwnProperty.call(ns,"boolValue")&&os.uint32(16).bool(ns.boolValue),ns.uintValue!=null&&Object.hasOwnProperty.call(ns,"uintValue")&&os.uint32(24).uint64(ns.uintValue),os},ts.encodeDelimited=function(ns,os){return this.encode(ns,os).ldelim()},ts.decode=function(ns,os){ns instanceof $Reader||(ns=$Reader.create(ns));for(var ss=os===void 0?ns.len:ns.pos+os,as=new $root.SdkDimensionValue;ns.pos<ss;){var ls=ns.uint32();switch(ls>>>3){case 1:{as.stringValue=ns.string();break}case 2:{as.boolValue=ns.bool();break}case 3:{as.uintValue=ns.uint64();break}default:ns.skipType(ls&7);break}}return as},ts.decodeDelimited=function(ns){return ns instanceof $Reader||(ns=new $Reader(ns)),this.decode(ns,ns.uint32())},ts.verify=function(ns){return typeof ns!="object"||ns===null?"object expected":ns.stringValue!=null&&ns.hasOwnProperty("stringValue")&&!$util.isString(ns.stringValue)?"stringValue: string expected":ns.boolValue!=null&&ns.hasOwnProperty("boolValue")&&typeof ns.boolValue!="boolean"?"boolValue: boolean expected":ns.uintValue!=null&&ns.hasOwnProperty("uintValue")&&!$util.isInteger(ns.uintValue)&&!(ns.uintValue&&$util.isInteger(ns.uintValue.low)&&$util.isInteger(ns.uintValue.high))?"uintValue: integer|Long expected":null},ts.fromObject=function(ns){if(ns instanceof $root.SdkDimensionValue)return ns;var os=new $root.SdkDimensionValue;return ns.stringValue!=null&&(os.stringValue=String(ns.stringValue)),ns.boolValue!=null&&(os.boolValue=!!ns.boolValue),ns.uintValue!=null&&($util.Long?(os.uintValue=$util.Long.fromValue(ns.uintValue)).unsigned=!0:typeof ns.uintValue=="string"?os.uintValue=parseInt(ns.uintValue,10):typeof ns.uintValue=="number"?os.uintValue=ns.uintValue:typeof ns.uintValue=="object"&&(os.uintValue=new $util.LongBits(ns.uintValue.low>>>0,ns.uintValue.high>>>0).toNumber(!0))),os},ts.toObject=function(ns,os){os||(os={});var ss={};if(os.defaults)if(ss.stringValue="",ss.boolValue=!1,$util.Long){var as=new $util.Long(0,0,!0);ss.uintValue=os.longs===String?as.toString():os.longs===Number?as.toNumber():as}else ss.uintValue=os.longs===String?"0":0;return ns.stringValue!=null&&ns.hasOwnProperty("stringValue")&&(ss.stringValue=ns.stringValue),ns.boolValue!=null&&ns.hasOwnProperty("boolValue")&&(ss.boolValue=ns.boolValue),ns.uintValue!=null&&ns.hasOwnProperty("uintValue")&&(typeof ns.uintValue=="number"?ss.uintValue=os.longs===String?String(ns.uintValue):ns.uintValue:ss.uintValue=os.longs===String?$util.Long.prototype.toString.call(ns.uintValue):os.longs===Number?new $util.LongBits(ns.uintValue.low>>>0,ns.uintValue.high>>>0).toNumber(!0):ns.uintValue),ss},ts.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},ts.getTypeUrl=function(ns){return ns===void 0&&(ns="type.googleapis.com"),ns+"/SdkDimensionValue"},ts}();$root.SdkDataMessageFrame=function(){function ts(rs){if(this.messages=[],rs)for(var ns=Object.keys(rs),os=0;os<ns.length;++os)rs[ns[os]]!=null&&(this[ns[os]]=rs[ns[os]])}return ts.prototype.messages=$util.emptyArray,ts.create=function(ns){return new ts(ns)},ts.encode=function(ns,os){if(os||(os=$Writer.create()),ns.messages!=null&&ns.messages.length)for(var ss=0;ss<ns.messages.length;++ss)$root.SdkDataMessagePayload.encode(ns.messages[ss],os.uint32(10).fork()).ldelim();return os},ts.encodeDelimited=function(ns,os){return this.encode(ns,os).ldelim()},ts.decode=function(ns,os){ns instanceof $Reader||(ns=$Reader.create(ns));for(var ss=os===void 0?ns.len:ns.pos+os,as=new $root.SdkDataMessageFrame;ns.pos<ss;){var ls=ns.uint32();switch(ls>>>3){case 1:{as.messages&&as.messages.length||(as.messages=[]),as.messages.push($root.SdkDataMessagePayload.decode(ns,ns.uint32()));break}default:ns.skipType(ls&7);break}}return as},ts.decodeDelimited=function(ns){return ns instanceof $Reader||(ns=new $Reader(ns)),this.decode(ns,ns.uint32())},ts.verify=function(ns){if(typeof ns!="object"||ns===null)return"object expected";if(ns.messages!=null&&ns.hasOwnProperty("messages")){if(!Array.isArray(ns.messages))return"messages: array expected";for(var os=0;os<ns.messages.length;++os){var ss=$root.SdkDataMessagePayload.verify(ns.messages[os]);if(ss)return"messages."+ss}}return null},ts.fromObject=function(ns){if(ns instanceof $root.SdkDataMessageFrame)return ns;var os=new $root.SdkDataMessageFrame;if(ns.messages){if(!Array.isArray(ns.messages))throw TypeError(".SdkDataMessageFrame.messages: array expected");os.messages=[];for(var ss=0;ss<ns.messages.length;++ss){if(typeof ns.messages[ss]!="object")throw TypeError(".SdkDataMessageFrame.messages: object expected");os.messages[ss]=$root.SdkDataMessagePayload.fromObject(ns.messages[ss])}}return os},ts.toObject=function(ns,os){os||(os={});var ss={};if((os.arrays||os.defaults)&&(ss.messages=[]),ns.messages&&ns.messages.length){ss.messages=[];for(var as=0;as<ns.messages.length;++as)ss.messages[as]=$root.SdkDataMessagePayload.toObject(ns.messages[as],os)}return ss},ts.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},ts.getTypeUrl=function(ns){return ns===void 0&&(ns="type.googleapis.com"),ns+"/SdkDataMessageFrame"},ts}();$root.SdkDataMessagePayload=function(){function ts(rs){if(rs)for(var ns=Object.keys(rs),os=0;os<ns.length;++os)rs[ns[os]]!=null&&(this[ns[os]]=rs[ns[os]])}return ts.prototype.topic="",ts.prototype.data=$util.newBuffer([]),ts.prototype.lifetimeMs=0,ts.prototype.senderAttendeeId="",ts.prototype.ingestTimeNs=$util.Long?$util.Long.fromBits(0,0,!1):0,ts.prototype.senderExternalUserId="",ts.create=function(ns){return new ts(ns)},ts.encode=function(ns,os){return os||(os=$Writer.create()),ns.topic!=null&&Object.hasOwnProperty.call(ns,"topic")&&os.uint32(10).string(ns.topic),ns.data!=null&&Object.hasOwnProperty.call(ns,"data")&&os.uint32(18).bytes(ns.data),ns.lifetimeMs!=null&&Object.hasOwnProperty.call(ns,"lifetimeMs")&&os.uint32(24).uint32(ns.lifetimeMs),ns.senderAttendeeId!=null&&Object.hasOwnProperty.call(ns,"senderAttendeeId")&&os.uint32(34).string(ns.senderAttendeeId),ns.ingestTimeNs!=null&&Object.hasOwnProperty.call(ns,"ingestTimeNs")&&os.uint32(40).int64(ns.ingestTimeNs),ns.senderExternalUserId!=null&&Object.hasOwnProperty.call(ns,"senderExternalUserId")&&os.uint32(50).string(ns.senderExternalUserId),os},ts.encodeDelimited=function(ns,os){return this.encode(ns,os).ldelim()},ts.decode=function(ns,os){ns instanceof $Reader||(ns=$Reader.create(ns));for(var ss=os===void 0?ns.len:ns.pos+os,as=new $root.SdkDataMessagePayload;ns.pos<ss;){var ls=ns.uint32();switch(ls>>>3){case 1:{as.topic=ns.string();break}case 2:{as.data=ns.bytes();break}case 3:{as.lifetimeMs=ns.uint32();break}case 4:{as.senderAttendeeId=ns.string();break}case 5:{as.ingestTimeNs=ns.int64();break}case 6:{as.senderExternalUserId=ns.string();break}default:ns.skipType(ls&7);break}}return as},ts.decodeDelimited=function(ns){return ns instanceof $Reader||(ns=new $Reader(ns)),this.decode(ns,ns.uint32())},ts.verify=function(ns){return typeof ns!="object"||ns===null?"object expected":ns.topic!=null&&ns.hasOwnProperty("topic")&&!$util.isString(ns.topic)?"topic: string expected":ns.data!=null&&ns.hasOwnProperty("data")&&!(ns.data&&typeof ns.data.length=="number"||$util.isString(ns.data))?"data: buffer expected":ns.lifetimeMs!=null&&ns.hasOwnProperty("lifetimeMs")&&!$util.isInteger(ns.lifetimeMs)?"lifetimeMs: integer expected":ns.senderAttendeeId!=null&&ns.hasOwnProperty("senderAttendeeId")&&!$util.isString(ns.senderAttendeeId)?"senderAttendeeId: string expected":ns.ingestTimeNs!=null&&ns.hasOwnProperty("ingestTimeNs")&&!$util.isInteger(ns.ingestTimeNs)&&!(ns.ingestTimeNs&&$util.isInteger(ns.ingestTimeNs.low)&&$util.isInteger(ns.ingestTimeNs.high))?"ingestTimeNs: integer|Long expected":ns.senderExternalUserId!=null&&ns.hasOwnProperty("senderExternalUserId")&&!$util.isString(ns.senderExternalUserId)?"senderExternalUserId: string expected":null},ts.fromObject=function(ns){if(ns instanceof $root.SdkDataMessagePayload)return ns;var os=new $root.SdkDataMessagePayload;return ns.topic!=null&&(os.topic=String(ns.topic)),ns.data!=null&&(typeof ns.data=="string"?$util.base64.decode(ns.data,os.data=$util.newBuffer($util.base64.length(ns.data)),0):ns.data.length>=0&&(os.data=ns.data)),ns.lifetimeMs!=null&&(os.lifetimeMs=ns.lifetimeMs>>>0),ns.senderAttendeeId!=null&&(os.senderAttendeeId=String(ns.senderAttendeeId)),ns.ingestTimeNs!=null&&($util.Long?(os.ingestTimeNs=$util.Long.fromValue(ns.ingestTimeNs)).unsigned=!1:typeof ns.ingestTimeNs=="string"?os.ingestTimeNs=parseInt(ns.ingestTimeNs,10):typeof ns.ingestTimeNs=="number"?os.ingestTimeNs=ns.ingestTimeNs:typeof ns.ingestTimeNs=="object"&&(os.ingestTimeNs=new $util.LongBits(ns.ingestTimeNs.low>>>0,ns.ingestTimeNs.high>>>0).toNumber())),ns.senderExternalUserId!=null&&(os.senderExternalUserId=String(ns.senderExternalUserId)),os},ts.toObject=function(ns,os){os||(os={});var ss={};if(os.defaults){if(ss.topic="",os.bytes===String?ss.data="":(ss.data=[],os.bytes!==Array&&(ss.data=$util.newBuffer(ss.data))),ss.lifetimeMs=0,ss.senderAttendeeId="",$util.Long){var as=new $util.Long(0,0,!1);ss.ingestTimeNs=os.longs===String?as.toString():os.longs===Number?as.toNumber():as}else ss.ingestTimeNs=os.longs===String?"0":0;ss.senderExternalUserId=""}return ns.topic!=null&&ns.hasOwnProperty("topic")&&(ss.topic=ns.topic),ns.data!=null&&ns.hasOwnProperty("data")&&(ss.data=os.bytes===String?$util.base64.encode(ns.data,0,ns.data.length):os.bytes===Array?Array.prototype.slice.call(ns.data):ns.data),ns.lifetimeMs!=null&&ns.hasOwnProperty("lifetimeMs")&&(ss.lifetimeMs=ns.lifetimeMs),ns.senderAttendeeId!=null&&ns.hasOwnProperty("senderAttendeeId")&&(ss.senderAttendeeId=ns.senderAttendeeId),ns.ingestTimeNs!=null&&ns.hasOwnProperty("ingestTimeNs")&&(typeof ns.ingestTimeNs=="number"?ss.ingestTimeNs=os.longs===String?String(ns.ingestTimeNs):ns.ingestTimeNs:ss.ingestTimeNs=os.longs===String?$util.Long.prototype.toString.call(ns.ingestTimeNs):os.longs===Number?new $util.LongBits(ns.ingestTimeNs.low>>>0,ns.ingestTimeNs.high>>>0).toNumber():ns.ingestTimeNs),ns.senderExternalUserId!=null&&ns.hasOwnProperty("senderExternalUserId")&&(ss.senderExternalUserId=ns.senderExternalUserId),ss},ts.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},ts.getTypeUrl=function(ns){return ns===void 0&&(ns="type.googleapis.com"),ns+"/SdkDataMessagePayload"},ts}();$root.SdkTurnCredentials=function(){function ts(rs){if(this.uris=[],rs)for(var ns=Object.keys(rs),os=0;os<ns.length;++os)rs[ns[os]]!=null&&(this[ns[os]]=rs[ns[os]])}return ts.prototype.username="",ts.prototype.password="",ts.prototype.ttl=0,ts.prototype.uris=$util.emptyArray,ts.create=function(ns){return new ts(ns)},ts.encode=function(ns,os){if(os||(os=$Writer.create()),ns.username!=null&&Object.hasOwnProperty.call(ns,"username")&&os.uint32(10).string(ns.username),ns.password!=null&&Object.hasOwnProperty.call(ns,"password")&&os.uint32(18).string(ns.password),ns.ttl!=null&&Object.hasOwnProperty.call(ns,"ttl")&&os.uint32(24).uint32(ns.ttl),ns.uris!=null&&ns.uris.length)for(var ss=0;ss<ns.uris.length;++ss)os.uint32(34).string(ns.uris[ss]);return os},ts.encodeDelimited=function(ns,os){return this.encode(ns,os).ldelim()},ts.decode=function(ns,os){ns instanceof $Reader||(ns=$Reader.create(ns));for(var ss=os===void 0?ns.len:ns.pos+os,as=new $root.SdkTurnCredentials;ns.pos<ss;){var ls=ns.uint32();switch(ls>>>3){case 1:{as.username=ns.string();break}case 2:{as.password=ns.string();break}case 3:{as.ttl=ns.uint32();break}case 4:{as.uris&&as.uris.length||(as.uris=[]),as.uris.push(ns.string());break}default:ns.skipType(ls&7);break}}return as},ts.decodeDelimited=function(ns){return ns instanceof $Reader||(ns=new $Reader(ns)),this.decode(ns,ns.uint32())},ts.verify=function(ns){if(typeof ns!="object"||ns===null)return"object expected";if(ns.username!=null&&ns.hasOwnProperty("username")&&!$util.isString(ns.username))return"username: string expected";if(ns.password!=null&&ns.hasOwnProperty("password")&&!$util.isString(ns.password))return"password: string expected";if(ns.ttl!=null&&ns.hasOwnProperty("ttl")&&!$util.isInteger(ns.ttl))return"ttl: integer expected";if(ns.uris!=null&&ns.hasOwnProperty("uris")){if(!Array.isArray(ns.uris))return"uris: array expected";for(var os=0;os<ns.uris.length;++os)if(!$util.isString(ns.uris[os]))return"uris: string[] expected"}return null},ts.fromObject=function(ns){if(ns instanceof $root.SdkTurnCredentials)return ns;var os=new $root.SdkTurnCredentials;if(ns.username!=null&&(os.username=String(ns.username)),ns.password!=null&&(os.password=String(ns.password)),ns.ttl!=null&&(os.ttl=ns.ttl>>>0),ns.uris){if(!Array.isArray(ns.uris))throw TypeError(".SdkTurnCredentials.uris: array expected");os.uris=[];for(var ss=0;ss<ns.uris.length;++ss)os.uris[ss]=String(ns.uris[ss])}return os},ts.toObject=function(ns,os){os||(os={});var ss={};if((os.arrays||os.defaults)&&(ss.uris=[]),os.defaults&&(ss.username="",ss.password="",ss.ttl=0),ns.username!=null&&ns.hasOwnProperty("username")&&(ss.username=ns.username),ns.password!=null&&ns.hasOwnProperty("password")&&(ss.password=ns.password),ns.ttl!=null&&ns.hasOwnProperty("ttl")&&(ss.ttl=ns.ttl),ns.uris&&ns.uris.length){ss.uris=[];for(var as=0;as<ns.uris.length;++as)ss.uris[as]=ns.uris[as]}return ss},ts.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},ts.getTypeUrl=function(ns){return ns===void 0&&(ns="type.googleapis.com"),ns+"/SdkTurnCredentials"},ts}();$root.SdkTranscriptItem=function(){function ts(rs){if(rs)for(var ns=Object.keys(rs),os=0;os<ns.length;++os)rs[ns[os]]!=null&&(this[ns[os]]=rs[ns[os]])}return ts.prototype.content="",ts.prototype.endTime=$util.Long?$util.Long.fromBits(0,0,!1):0,ts.prototype.speakerAttendeeId="",ts.prototype.speakerExternalUserId="",ts.prototype.startTime=$util.Long?$util.Long.fromBits(0,0,!1):0,ts.prototype.type=1,ts.prototype.vocabularyFilterMatch=!1,ts.prototype.confidence=0,ts.prototype.stable=!1,ts.create=function(ns){return new ts(ns)},ts.encode=function(ns,os){return os||(os=$Writer.create()),ns.content!=null&&Object.hasOwnProperty.call(ns,"content")&&os.uint32(10).string(ns.content),ns.endTime!=null&&Object.hasOwnProperty.call(ns,"endTime")&&os.uint32(16).int64(ns.endTime),ns.speakerAttendeeId!=null&&Object.hasOwnProperty.call(ns,"speakerAttendeeId")&&os.uint32(26).string(ns.speakerAttendeeId),ns.speakerExternalUserId!=null&&Object.hasOwnProperty.call(ns,"speakerExternalUserId")&&os.uint32(34).string(ns.speakerExternalUserId),ns.startTime!=null&&Object.hasOwnProperty.call(ns,"startTime")&&os.uint32(40).int64(ns.startTime),ns.type!=null&&Object.hasOwnProperty.call(ns,"type")&&os.uint32(48).int32(ns.type),ns.vocabularyFilterMatch!=null&&Object.hasOwnProperty.call(ns,"vocabularyFilterMatch")&&os.uint32(56).bool(ns.vocabularyFilterMatch),ns.confidence!=null&&Object.hasOwnProperty.call(ns,"confidence")&&os.uint32(65).double(ns.confidence),ns.stable!=null&&Object.hasOwnProperty.call(ns,"stable")&&os.uint32(72).bool(ns.stable),os},ts.encodeDelimited=function(ns,os){return this.encode(ns,os).ldelim()},ts.decode=function(ns,os){ns instanceof $Reader||(ns=$Reader.create(ns));for(var ss=os===void 0?ns.len:ns.pos+os,as=new $root.SdkTranscriptItem;ns.pos<ss;){var ls=ns.uint32();switch(ls>>>3){case 1:{as.content=ns.string();break}case 2:{as.endTime=ns.int64();break}case 3:{as.speakerAttendeeId=ns.string();break}case 4:{as.speakerExternalUserId=ns.string();break}case 5:{as.startTime=ns.int64();break}case 6:{as.type=ns.int32();break}case 7:{as.vocabularyFilterMatch=ns.bool();break}case 8:{as.confidence=ns.double();break}case 9:{as.stable=ns.bool();break}default:ns.skipType(ls&7);break}}return as},ts.decodeDelimited=function(ns){return ns instanceof $Reader||(ns=new $Reader(ns)),this.decode(ns,ns.uint32())},ts.verify=function(ns){if(typeof ns!="object"||ns===null)return"object expected";if(ns.content!=null&&ns.hasOwnProperty("content")&&!$util.isString(ns.content))return"content: string expected";if(ns.endTime!=null&&ns.hasOwnProperty("endTime")&&!$util.isInteger(ns.endTime)&&!(ns.endTime&&$util.isInteger(ns.endTime.low)&&$util.isInteger(ns.endTime.high)))return"endTime: integer|Long expected";if(ns.speakerAttendeeId!=null&&ns.hasOwnProperty("speakerAttendeeId")&&!$util.isString(ns.speakerAttendeeId))return"speakerAttendeeId: string expected";if(ns.speakerExternalUserId!=null&&ns.hasOwnProperty("speakerExternalUserId")&&!$util.isString(ns.speakerExternalUserId))return"speakerExternalUserId: string expected";if(ns.startTime!=null&&ns.hasOwnProperty("startTime")&&!$util.isInteger(ns.startTime)&&!(ns.startTime&&$util.isInteger(ns.startTime.low)&&$util.isInteger(ns.startTime.high)))return"startTime: integer|Long expected";if(ns.type!=null&&ns.hasOwnProperty("type"))switch(ns.type){default:return"type: enum value expected";case 1:case 2:break}return ns.vocabularyFilterMatch!=null&&ns.hasOwnProperty("vocabularyFilterMatch")&&typeof ns.vocabularyFilterMatch!="boolean"?"vocabularyFilterMatch: boolean expected":ns.confidence!=null&&ns.hasOwnProperty("confidence")&&typeof ns.confidence!="number"?"confidence: number expected":ns.stable!=null&&ns.hasOwnProperty("stable")&&typeof ns.stable!="boolean"?"stable: boolean expected":null},ts.fromObject=function(ns){if(ns instanceof $root.SdkTranscriptItem)return ns;var os=new $root.SdkTranscriptItem;switch(ns.content!=null&&(os.content=String(ns.content)),ns.endTime!=null&&($util.Long?(os.endTime=$util.Long.fromValue(ns.endTime)).unsigned=!1:typeof ns.endTime=="string"?os.endTime=parseInt(ns.endTime,10):typeof ns.endTime=="number"?os.endTime=ns.endTime:typeof ns.endTime=="object"&&(os.endTime=new $util.LongBits(ns.endTime.low>>>0,ns.endTime.high>>>0).toNumber())),ns.speakerAttendeeId!=null&&(os.speakerAttendeeId=String(ns.speakerAttendeeId)),ns.speakerExternalUserId!=null&&(os.speakerExternalUserId=String(ns.speakerExternalUserId)),ns.startTime!=null&&($util.Long?(os.startTime=$util.Long.fromValue(ns.startTime)).unsigned=!1:typeof ns.startTime=="string"?os.startTime=parseInt(ns.startTime,10):typeof ns.startTime=="number"?os.startTime=ns.startTime:typeof ns.startTime=="object"&&(os.startTime=new $util.LongBits(ns.startTime.low>>>0,ns.startTime.high>>>0).toNumber())),ns.type){default:if(typeof ns.type=="number"){os.type=ns.type;break}break;case"PRONUNCIATION":case 1:os.type=1;break;case"PUNCTUATION":case 2:os.type=2;break}return ns.vocabularyFilterMatch!=null&&(os.vocabularyFilterMatch=!!ns.vocabularyFilterMatch),ns.confidence!=null&&(os.confidence=Number(ns.confidence)),ns.stable!=null&&(os.stable=!!ns.stable),os},ts.toObject=function(ns,os){os||(os={});var ss={};if(os.defaults){if(ss.content="",$util.Long){var as=new $util.Long(0,0,!1);ss.endTime=os.longs===String?as.toString():os.longs===Number?as.toNumber():as}else ss.endTime=os.longs===String?"0":0;if(ss.speakerAttendeeId="",ss.speakerExternalUserId="",$util.Long){var as=new $util.Long(0,0,!1);ss.startTime=os.longs===String?as.toString():os.longs===Number?as.toNumber():as}else ss.startTime=os.longs===String?"0":0;ss.type=os.enums===String?"PRONUNCIATION":1,ss.vocabularyFilterMatch=!1,ss.confidence=0,ss.stable=!1}return ns.content!=null&&ns.hasOwnProperty("content")&&(ss.content=ns.content),ns.endTime!=null&&ns.hasOwnProperty("endTime")&&(typeof ns.endTime=="number"?ss.endTime=os.longs===String?String(ns.endTime):ns.endTime:ss.endTime=os.longs===String?$util.Long.prototype.toString.call(ns.endTime):os.longs===Number?new $util.LongBits(ns.endTime.low>>>0,ns.endTime.high>>>0).toNumber():ns.endTime),ns.speakerAttendeeId!=null&&ns.hasOwnProperty("speakerAttendeeId")&&(ss.speakerAttendeeId=ns.speakerAttendeeId),ns.speakerExternalUserId!=null&&ns.hasOwnProperty("speakerExternalUserId")&&(ss.speakerExternalUserId=ns.speakerExternalUserId),ns.startTime!=null&&ns.hasOwnProperty("startTime")&&(typeof ns.startTime=="number"?ss.startTime=os.longs===String?String(ns.startTime):ns.startTime:ss.startTime=os.longs===String?$util.Long.prototype.toString.call(ns.startTime):os.longs===Number?new $util.LongBits(ns.startTime.low>>>0,ns.startTime.high>>>0).toNumber():ns.startTime),ns.type!=null&&ns.hasOwnProperty("type")&&(ss.type=os.enums===String?$root.SdkTranscriptItem.Type[ns.type]===void 0?ns.type:$root.SdkTranscriptItem.Type[ns.type]:ns.type),ns.vocabularyFilterMatch!=null&&ns.hasOwnProperty("vocabularyFilterMatch")&&(ss.vocabularyFilterMatch=ns.vocabularyFilterMatch),ns.confidence!=null&&ns.hasOwnProperty("confidence")&&(ss.confidence=os.json&&!isFinite(ns.confidence)?String(ns.confidence):ns.confidence),ns.stable!=null&&ns.hasOwnProperty("stable")&&(ss.stable=ns.stable),ss},ts.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},ts.getTypeUrl=function(ns){return ns===void 0&&(ns="type.googleapis.com"),ns+"/SdkTranscriptItem"},ts.Type=function(){var rs={},ns=Object.create(rs);return ns[rs[1]="PRONUNCIATION"]=1,ns[rs[2]="PUNCTUATION"]=2,ns}(),ts}();$root.SdkTranscriptEntity=function(){function ts(rs){if(rs)for(var ns=Object.keys(rs),os=0;os<ns.length;++os)rs[ns[os]]!=null&&(this[ns[os]]=rs[ns[os]])}return ts.prototype.category="",ts.prototype.confidence=0,ts.prototype.content="",ts.prototype.endTime=$util.Long?$util.Long.fromBits(0,0,!1):0,ts.prototype.startTime=$util.Long?$util.Long.fromBits(0,0,!1):0,ts.prototype.type="",ts.create=function(ns){return new ts(ns)},ts.encode=function(ns,os){return os||(os=$Writer.create()),ns.category!=null&&Object.hasOwnProperty.call(ns,"category")&&os.uint32(10).string(ns.category),ns.confidence!=null&&Object.hasOwnProperty.call(ns,"confidence")&&os.uint32(17).double(ns.confidence),ns.content!=null&&Object.hasOwnProperty.call(ns,"content")&&os.uint32(26).string(ns.content),ns.endTime!=null&&Object.hasOwnProperty.call(ns,"endTime")&&os.uint32(32).int64(ns.endTime),ns.startTime!=null&&Object.hasOwnProperty.call(ns,"startTime")&&os.uint32(40).int64(ns.startTime),ns.type!=null&&Object.hasOwnProperty.call(ns,"type")&&os.uint32(50).string(ns.type),os},ts.encodeDelimited=function(ns,os){return this.encode(ns,os).ldelim()},ts.decode=function(ns,os){ns instanceof $Reader||(ns=$Reader.create(ns));for(var ss=os===void 0?ns.len:ns.pos+os,as=new $root.SdkTranscriptEntity;ns.pos<ss;){var ls=ns.uint32();switch(ls>>>3){case 1:{as.category=ns.string();break}case 2:{as.confidence=ns.double();break}case 3:{as.content=ns.string();break}case 4:{as.endTime=ns.int64();break}case 5:{as.startTime=ns.int64();break}case 6:{as.type=ns.string();break}default:ns.skipType(ls&7);break}}return as},ts.decodeDelimited=function(ns){return ns instanceof $Reader||(ns=new $Reader(ns)),this.decode(ns,ns.uint32())},ts.verify=function(ns){return typeof ns!="object"||ns===null?"object expected":ns.category!=null&&ns.hasOwnProperty("category")&&!$util.isString(ns.category)?"category: string expected":ns.confidence!=null&&ns.hasOwnProperty("confidence")&&typeof ns.confidence!="number"?"confidence: number expected":ns.content!=null&&ns.hasOwnProperty("content")&&!$util.isString(ns.content)?"content: string expected":ns.endTime!=null&&ns.hasOwnProperty("endTime")&&!$util.isInteger(ns.endTime)&&!(ns.endTime&&$util.isInteger(ns.endTime.low)&&$util.isInteger(ns.endTime.high))?"endTime: integer|Long expected":ns.startTime!=null&&ns.hasOwnProperty("startTime")&&!$util.isInteger(ns.startTime)&&!(ns.startTime&&$util.isInteger(ns.startTime.low)&&$util.isInteger(ns.startTime.high))?"startTime: integer|Long expected":ns.type!=null&&ns.hasOwnProperty("type")&&!$util.isString(ns.type)?"type: string expected":null},ts.fromObject=function(ns){if(ns instanceof $root.SdkTranscriptEntity)return ns;var os=new $root.SdkTranscriptEntity;return ns.category!=null&&(os.category=String(ns.category)),ns.confidence!=null&&(os.confidence=Number(ns.confidence)),ns.content!=null&&(os.content=String(ns.content)),ns.endTime!=null&&($util.Long?(os.endTime=$util.Long.fromValue(ns.endTime)).unsigned=!1:typeof ns.endTime=="string"?os.endTime=parseInt(ns.endTime,10):typeof ns.endTime=="number"?os.endTime=ns.endTime:typeof ns.endTime=="object"&&(os.endTime=new $util.LongBits(ns.endTime.low>>>0,ns.endTime.high>>>0).toNumber())),ns.startTime!=null&&($util.Long?(os.startTime=$util.Long.fromValue(ns.startTime)).unsigned=!1:typeof ns.startTime=="string"?os.startTime=parseInt(ns.startTime,10):typeof ns.startTime=="number"?os.startTime=ns.startTime:typeof ns.startTime=="object"&&(os.startTime=new $util.LongBits(ns.startTime.low>>>0,ns.startTime.high>>>0).toNumber())),ns.type!=null&&(os.type=String(ns.type)),os},ts.toObject=function(ns,os){os||(os={});var ss={};if(os.defaults){if(ss.category="",ss.confidence=0,ss.content="",$util.Long){var as=new $util.Long(0,0,!1);ss.endTime=os.longs===String?as.toString():os.longs===Number?as.toNumber():as}else ss.endTime=os.longs===String?"0":0;if($util.Long){var as=new $util.Long(0,0,!1);ss.startTime=os.longs===String?as.toString():os.longs===Number?as.toNumber():as}else ss.startTime=os.longs===String?"0":0;ss.type=""}return ns.category!=null&&ns.hasOwnProperty("category")&&(ss.category=ns.category),ns.confidence!=null&&ns.hasOwnProperty("confidence")&&(ss.confidence=os.json&&!isFinite(ns.confidence)?String(ns.confidence):ns.confidence),ns.content!=null&&ns.hasOwnProperty("content")&&(ss.content=ns.content),ns.endTime!=null&&ns.hasOwnProperty("endTime")&&(typeof ns.endTime=="number"?ss.endTime=os.longs===String?String(ns.endTime):ns.endTime:ss.endTime=os.longs===String?$util.Long.prototype.toString.call(ns.endTime):os.longs===Number?new $util.LongBits(ns.endTime.low>>>0,ns.endTime.high>>>0).toNumber():ns.endTime),ns.startTime!=null&&ns.hasOwnProperty("startTime")&&(typeof ns.startTime=="number"?ss.startTime=os.longs===String?String(ns.startTime):ns.startTime:ss.startTime=os.longs===String?$util.Long.prototype.toString.call(ns.startTime):os.longs===Number?new $util.LongBits(ns.startTime.low>>>0,ns.startTime.high>>>0).toNumber():ns.startTime),ns.type!=null&&ns.hasOwnProperty("type")&&(ss.type=ns.type),ss},ts.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},ts.getTypeUrl=function(ns){return ns===void 0&&(ns="type.googleapis.com"),ns+"/SdkTranscriptEntity"},ts}();$root.SdkTranscriptAlternative=function(){function ts(rs){if(this.items=[],this.entities=[],rs)for(var ns=Object.keys(rs),os=0;os<ns.length;++os)rs[ns[os]]!=null&&(this[ns[os]]=rs[ns[os]])}return ts.prototype.items=$util.emptyArray,ts.prototype.transcript="",ts.prototype.entities=$util.emptyArray,ts.create=function(ns){return new ts(ns)},ts.encode=function(ns,os){if(os||(os=$Writer.create()),ns.items!=null&&ns.items.length)for(var ss=0;ss<ns.items.length;++ss)$root.SdkTranscriptItem.encode(ns.items[ss],os.uint32(10).fork()).ldelim();if(ns.transcript!=null&&Object.hasOwnProperty.call(ns,"transcript")&&os.uint32(18).string(ns.transcript),ns.entities!=null&&ns.entities.length)for(var ss=0;ss<ns.entities.length;++ss)$root.SdkTranscriptEntity.encode(ns.entities[ss],os.uint32(26).fork()).ldelim();return os},ts.encodeDelimited=function(ns,os){return this.encode(ns,os).ldelim()},ts.decode=function(ns,os){ns instanceof $Reader||(ns=$Reader.create(ns));for(var ss=os===void 0?ns.len:ns.pos+os,as=new $root.SdkTranscriptAlternative;ns.pos<ss;){var ls=ns.uint32();switch(ls>>>3){case 1:{as.items&&as.items.length||(as.items=[]),as.items.push($root.SdkTranscriptItem.decode(ns,ns.uint32()));break}case 2:{as.transcript=ns.string();break}case 3:{as.entities&&as.entities.length||(as.entities=[]),as.entities.push($root.SdkTranscriptEntity.decode(ns,ns.uint32()));break}default:ns.skipType(ls&7);break}}return as},ts.decodeDelimited=function(ns){return ns instanceof $Reader||(ns=new $Reader(ns)),this.decode(ns,ns.uint32())},ts.verify=function(ns){if(typeof ns!="object"||ns===null)return"object expected";if(ns.items!=null&&ns.hasOwnProperty("items")){if(!Array.isArray(ns.items))return"items: array expected";for(var os=0;os<ns.items.length;++os){var ss=$root.SdkTranscriptItem.verify(ns.items[os]);if(ss)return"items."+ss}}if(ns.transcript!=null&&ns.hasOwnProperty("transcript")&&!$util.isString(ns.transcript))return"transcript: string expected";if(ns.entities!=null&&ns.hasOwnProperty("entities")){if(!Array.isArray(ns.entities))return"entities: array expected";for(var os=0;os<ns.entities.length;++os){var ss=$root.SdkTranscriptEntity.verify(ns.entities[os]);if(ss)return"entities."+ss}}return null},ts.fromObject=function(ns){if(ns instanceof $root.SdkTranscriptAlternative)return ns;var os=new $root.SdkTranscriptAlternative;if(ns.items){if(!Array.isArray(ns.items))throw TypeError(".SdkTranscriptAlternative.items: array expected");os.items=[];for(var ss=0;ss<ns.items.length;++ss){if(typeof ns.items[ss]!="object")throw TypeError(".SdkTranscriptAlternative.items: object expected");os.items[ss]=$root.SdkTranscriptItem.fromObject(ns.items[ss])}}if(ns.transcript!=null&&(os.transcript=String(ns.transcript)),ns.entities){if(!Array.isArray(ns.entities))throw TypeError(".SdkTranscriptAlternative.entities: array expected");os.entities=[];for(var ss=0;ss<ns.entities.length;++ss){if(typeof ns.entities[ss]!="object")throw TypeError(".SdkTranscriptAlternative.entities: object expected");os.entities[ss]=$root.SdkTranscriptEntity.fromObject(ns.entities[ss])}}return os},ts.toObject=function(ns,os){os||(os={});var ss={};if((os.arrays||os.defaults)&&(ss.items=[],ss.entities=[]),os.defaults&&(ss.transcript=""),ns.items&&ns.items.length){ss.items=[];for(var as=0;as<ns.items.length;++as)ss.items[as]=$root.SdkTranscriptItem.toObject(ns.items[as],os)}if(ns.transcript!=null&&ns.hasOwnProperty("transcript")&&(ss.transcript=ns.transcript),ns.entities&&ns.entities.length){ss.entities=[];for(var as=0;as<ns.entities.length;++as)ss.entities[as]=$root.SdkTranscriptEntity.toObject(ns.entities[as],os)}return ss},ts.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},ts.getTypeUrl=function(ns){return ns===void 0&&(ns="type.googleapis.com"),ns+"/SdkTranscriptAlternative"},ts}();$root.SdkTranscriptLanguageWithScore=function(){function ts(rs){if(rs)for(var ns=Object.keys(rs),os=0;os<ns.length;++os)rs[ns[os]]!=null&&(this[ns[os]]=rs[ns[os]])}return ts.prototype.languageCode="",ts.prototype.score=0,ts.create=function(ns){return new ts(ns)},ts.encode=function(ns,os){return os||(os=$Writer.create()),ns.languageCode!=null&&Object.hasOwnProperty.call(ns,"languageCode")&&os.uint32(10).string(ns.languageCode),ns.score!=null&&Object.hasOwnProperty.call(ns,"score")&&os.uint32(17).double(ns.score),os},ts.encodeDelimited=function(ns,os){return this.encode(ns,os).ldelim()},ts.decode=function(ns,os){ns instanceof $Reader||(ns=$Reader.create(ns));for(var ss=os===void 0?ns.len:ns.pos+os,as=new $root.SdkTranscriptLanguageWithScore;ns.pos<ss;){var ls=ns.uint32();switch(ls>>>3){case 1:{as.languageCode=ns.string();break}case 2:{as.score=ns.double();break}default:ns.skipType(ls&7);break}}return as},ts.decodeDelimited=function(ns){return ns instanceof $Reader||(ns=new $Reader(ns)),this.decode(ns,ns.uint32())},ts.verify=function(ns){return typeof ns!="object"||ns===null?"object expected":ns.languageCode!=null&&ns.hasOwnProperty("languageCode")&&!$util.isString(ns.languageCode)?"languageCode: string expected":ns.score!=null&&ns.hasOwnProperty("score")&&typeof ns.score!="number"?"score: number expected":null},ts.fromObject=function(ns){if(ns instanceof $root.SdkTranscriptLanguageWithScore)return ns;var os=new $root.SdkTranscriptLanguageWithScore;return ns.languageCode!=null&&(os.languageCode=String(ns.languageCode)),ns.score!=null&&(os.score=Number(ns.score)),os},ts.toObject=function(ns,os){os||(os={});var ss={};return os.defaults&&(ss.languageCode="",ss.score=0),ns.languageCode!=null&&ns.hasOwnProperty("languageCode")&&(ss.languageCode=ns.languageCode),ns.score!=null&&ns.hasOwnProperty("score")&&(ss.score=os.json&&!isFinite(ns.score)?String(ns.score):ns.score),ss},ts.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},ts.getTypeUrl=function(ns){return ns===void 0&&(ns="type.googleapis.com"),ns+"/SdkTranscriptLanguageWithScore"},ts}();$root.SdkTranscriptResult=function(){function ts(rs){if(this.alternatives=[],this.languageIdentification=[],rs)for(var ns=Object.keys(rs),os=0;os<ns.length;++os)rs[ns[os]]!=null&&(this[ns[os]]=rs[ns[os]])}return ts.prototype.alternatives=$util.emptyArray,ts.prototype.channelId="",ts.prototype.endTime=$util.Long?$util.Long.fromBits(0,0,!1):0,ts.prototype.isPartial=!1,ts.prototype.resultId="",ts.prototype.startTime=$util.Long?$util.Long.fromBits(0,0,!1):0,ts.prototype.languageCode="",ts.prototype.languageIdentification=$util.emptyArray,ts.create=function(ns){return new ts(ns)},ts.encode=function(ns,os){if(os||(os=$Writer.create()),ns.alternatives!=null&&ns.alternatives.length)for(var ss=0;ss<ns.alternatives.length;++ss)$root.SdkTranscriptAlternative.encode(ns.alternatives[ss],os.uint32(10).fork()).ldelim();if(ns.channelId!=null&&Object.hasOwnProperty.call(ns,"channelId")&&os.uint32(18).string(ns.channelId),ns.endTime!=null&&Object.hasOwnProperty.call(ns,"endTime")&&os.uint32(24).int64(ns.endTime),ns.isPartial!=null&&Object.hasOwnProperty.call(ns,"isPartial")&&os.uint32(32).bool(ns.isPartial),ns.resultId!=null&&Object.hasOwnProperty.call(ns,"resultId")&&os.uint32(42).string(ns.resultId),ns.startTime!=null&&Object.hasOwnProperty.call(ns,"startTime")&&os.uint32(48).int64(ns.startTime),ns.languageCode!=null&&Object.hasOwnProperty.call(ns,"languageCode")&&os.uint32(58).string(ns.languageCode),ns.languageIdentification!=null&&ns.languageIdentification.length)for(var ss=0;ss<ns.languageIdentification.length;++ss)$root.SdkTranscriptLanguageWithScore.encode(ns.languageIdentification[ss],os.uint32(66).fork()).ldelim();return os},ts.encodeDelimited=function(ns,os){return this.encode(ns,os).ldelim()},ts.decode=function(ns,os){ns instanceof $Reader||(ns=$Reader.create(ns));for(var ss=os===void 0?ns.len:ns.pos+os,as=new $root.SdkTranscriptResult;ns.pos<ss;){var ls=ns.uint32();switch(ls>>>3){case 1:{as.alternatives&&as.alternatives.length||(as.alternatives=[]),as.alternatives.push($root.SdkTranscriptAlternative.decode(ns,ns.uint32()));break}case 2:{as.channelId=ns.string();break}case 3:{as.endTime=ns.int64();break}case 4:{as.isPartial=ns.bool();break}case 5:{as.resultId=ns.string();break}case 6:{as.startTime=ns.int64();break}case 7:{as.languageCode=ns.string();break}case 8:{as.languageIdentification&&as.languageIdentification.length||(as.languageIdentification=[]),as.languageIdentification.push($root.SdkTranscriptLanguageWithScore.decode(ns,ns.uint32()));break}default:ns.skipType(ls&7);break}}return as},ts.decodeDelimited=function(ns){return ns instanceof $Reader||(ns=new $Reader(ns)),this.decode(ns,ns.uint32())},ts.verify=function(ns){if(typeof ns!="object"||ns===null)return"object expected";if(ns.alternatives!=null&&ns.hasOwnProperty("alternatives")){if(!Array.isArray(ns.alternatives))return"alternatives: array expected";for(var os=0;os<ns.alternatives.length;++os){var ss=$root.SdkTranscriptAlternative.verify(ns.alternatives[os]);if(ss)return"alternatives."+ss}}if(ns.channelId!=null&&ns.hasOwnProperty("channelId")&&!$util.isString(ns.channelId))return"channelId: string expected";if(ns.endTime!=null&&ns.hasOwnProperty("endTime")&&!$util.isInteger(ns.endTime)&&!(ns.endTime&&$util.isInteger(ns.endTime.low)&&$util.isInteger(ns.endTime.high)))return"endTime: integer|Long expected";if(ns.isPartial!=null&&ns.hasOwnProperty("isPartial")&&typeof ns.isPartial!="boolean")return"isPartial: boolean expected";if(ns.resultId!=null&&ns.hasOwnProperty("resultId")&&!$util.isString(ns.resultId))return"resultId: string expected";if(ns.startTime!=null&&ns.hasOwnProperty("startTime")&&!$util.isInteger(ns.startTime)&&!(ns.startTime&&$util.isInteger(ns.startTime.low)&&$util.isInteger(ns.startTime.high)))return"startTime: integer|Long expected";if(ns.languageCode!=null&&ns.hasOwnProperty("languageCode")&&!$util.isString(ns.languageCode))return"languageCode: string expected";if(ns.languageIdentification!=null&&ns.hasOwnProperty("languageIdentification")){if(!Array.isArray(ns.languageIdentification))return"languageIdentification: array expected";for(var os=0;os<ns.languageIdentification.length;++os){var ss=$root.SdkTranscriptLanguageWithScore.verify(ns.languageIdentification[os]);if(ss)return"languageIdentification."+ss}}return null},ts.fromObject=function(ns){if(ns instanceof $root.SdkTranscriptResult)return ns;var os=new $root.SdkTranscriptResult;if(ns.alternatives){if(!Array.isArray(ns.alternatives))throw TypeError(".SdkTranscriptResult.alternatives: array expected");os.alternatives=[];for(var ss=0;ss<ns.alternatives.length;++ss){if(typeof ns.alternatives[ss]!="object")throw TypeError(".SdkTranscriptResult.alternatives: object expected");os.alternatives[ss]=$root.SdkTranscriptAlternative.fromObject(ns.alternatives[ss])}}if(ns.channelId!=null&&(os.channelId=String(ns.channelId)),ns.endTime!=null&&($util.Long?(os.endTime=$util.Long.fromValue(ns.endTime)).unsigned=!1:typeof ns.endTime=="string"?os.endTime=parseInt(ns.endTime,10):typeof ns.endTime=="number"?os.endTime=ns.endTime:typeof ns.endTime=="object"&&(os.endTime=new $util.LongBits(ns.endTime.low>>>0,ns.endTime.high>>>0).toNumber())),ns.isPartial!=null&&(os.isPartial=!!ns.isPartial),ns.resultId!=null&&(os.resultId=String(ns.resultId)),ns.startTime!=null&&($util.Long?(os.startTime=$util.Long.fromValue(ns.startTime)).unsigned=!1:typeof ns.startTime=="string"?os.startTime=parseInt(ns.startTime,10):typeof ns.startTime=="number"?os.startTime=ns.startTime:typeof ns.startTime=="object"&&(os.startTime=new $util.LongBits(ns.startTime.low>>>0,ns.startTime.high>>>0).toNumber())),ns.languageCode!=null&&(os.languageCode=String(ns.languageCode)),ns.languageIdentification){if(!Array.isArray(ns.languageIdentification))throw TypeError(".SdkTranscriptResult.languageIdentification: array expected");os.languageIdentification=[];for(var ss=0;ss<ns.languageIdentification.length;++ss){if(typeof ns.languageIdentification[ss]!="object")throw TypeError(".SdkTranscriptResult.languageIdentification: object expected");os.languageIdentification[ss]=$root.SdkTranscriptLanguageWithScore.fromObject(ns.languageIdentification[ss])}}return os},ts.toObject=function(ns,os){os||(os={});var ss={};if((os.arrays||os.defaults)&&(ss.alternatives=[],ss.languageIdentification=[]),os.defaults){if(ss.channelId="",$util.Long){var as=new $util.Long(0,0,!1);ss.endTime=os.longs===String?as.toString():os.longs===Number?as.toNumber():as}else ss.endTime=os.longs===String?"0":0;if(ss.isPartial=!1,ss.resultId="",$util.Long){var as=new $util.Long(0,0,!1);ss.startTime=os.longs===String?as.toString():os.longs===Number?as.toNumber():as}else ss.startTime=os.longs===String?"0":0;ss.languageCode=""}if(ns.alternatives&&ns.alternatives.length){ss.alternatives=[];for(var ls=0;ls<ns.alternatives.length;++ls)ss.alternatives[ls]=$root.SdkTranscriptAlternative.toObject(ns.alternatives[ls],os)}if(ns.channelId!=null&&ns.hasOwnProperty("channelId")&&(ss.channelId=ns.channelId),ns.endTime!=null&&ns.hasOwnProperty("endTime")&&(typeof ns.endTime=="number"?ss.endTime=os.longs===String?String(ns.endTime):ns.endTime:ss.endTime=os.longs===String?$util.Long.prototype.toString.call(ns.endTime):os.longs===Number?new $util.LongBits(ns.endTime.low>>>0,ns.endTime.high>>>0).toNumber():ns.endTime),ns.isPartial!=null&&ns.hasOwnProperty("isPartial")&&(ss.isPartial=ns.isPartial),ns.resultId!=null&&ns.hasOwnProperty("resultId")&&(ss.resultId=ns.resultId),ns.startTime!=null&&ns.hasOwnProperty("startTime")&&(typeof ns.startTime=="number"?ss.startTime=os.longs===String?String(ns.startTime):ns.startTime:ss.startTime=os.longs===String?$util.Long.prototype.toString.call(ns.startTime):os.longs===Number?new $util.LongBits(ns.startTime.low>>>0,ns.startTime.high>>>0).toNumber():ns.startTime),ns.languageCode!=null&&ns.hasOwnProperty("languageCode")&&(ss.languageCode=ns.languageCode),ns.languageIdentification&&ns.languageIdentification.length){ss.languageIdentification=[];for(var ls=0;ls<ns.languageIdentification.length;++ls)ss.languageIdentification[ls]=$root.SdkTranscriptLanguageWithScore.toObject(ns.languageIdentification[ls],os)}return ss},ts.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},ts.getTypeUrl=function(ns){return ns===void 0&&(ns="type.googleapis.com"),ns+"/SdkTranscriptResult"},ts}();$root.SdkTranscript=function(){function ts(rs){if(this.results=[],rs)for(var ns=Object.keys(rs),os=0;os<ns.length;++os)rs[ns[os]]!=null&&(this[ns[os]]=rs[ns[os]])}return ts.prototype.results=$util.emptyArray,ts.create=function(ns){return new ts(ns)},ts.encode=function(ns,os){if(os||(os=$Writer.create()),ns.results!=null&&ns.results.length)for(var ss=0;ss<ns.results.length;++ss)$root.SdkTranscriptResult.encode(ns.results[ss],os.uint32(10).fork()).ldelim();return os},ts.encodeDelimited=function(ns,os){return this.encode(ns,os).ldelim()},ts.decode=function(ns,os){ns instanceof $Reader||(ns=$Reader.create(ns));for(var ss=os===void 0?ns.len:ns.pos+os,as=new $root.SdkTranscript;ns.pos<ss;){var ls=ns.uint32();switch(ls>>>3){case 1:{as.results&&as.results.length||(as.results=[]),as.results.push($root.SdkTranscriptResult.decode(ns,ns.uint32()));break}default:ns.skipType(ls&7);break}}return as},ts.decodeDelimited=function(ns){return ns instanceof $Reader||(ns=new $Reader(ns)),this.decode(ns,ns.uint32())},ts.verify=function(ns){if(typeof ns!="object"||ns===null)return"object expected";if(ns.results!=null&&ns.hasOwnProperty("results")){if(!Array.isArray(ns.results))return"results: array expected";for(var os=0;os<ns.results.length;++os){var ss=$root.SdkTranscriptResult.verify(ns.results[os]);if(ss)return"results."+ss}}return null},ts.fromObject=function(ns){if(ns instanceof $root.SdkTranscript)return ns;var os=new $root.SdkTranscript;if(ns.results){if(!Array.isArray(ns.results))throw TypeError(".SdkTranscript.results: array expected");os.results=[];for(var ss=0;ss<ns.results.length;++ss){if(typeof ns.results[ss]!="object")throw TypeError(".SdkTranscript.results: object expected");os.results[ss]=$root.SdkTranscriptResult.fromObject(ns.results[ss])}}return os},ts.toObject=function(ns,os){os||(os={});var ss={};if((os.arrays||os.defaults)&&(ss.results=[]),ns.results&&ns.results.length){ss.results=[];for(var as=0;as<ns.results.length;++as)ss.results[as]=$root.SdkTranscriptResult.toObject(ns.results[as],os)}return ss},ts.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},ts.getTypeUrl=function(ns){return ns===void 0&&(ns="type.googleapis.com"),ns+"/SdkTranscript"},ts}();$root.SdkTranscriptionStatus=function(){function ts(rs){if(rs)for(var ns=Object.keys(rs),os=0;os<ns.length;++os)rs[ns[os]]!=null&&(this[ns[os]]=rs[ns[os]])}return ts.prototype.type=1,ts.prototype.eventTime=$util.Long?$util.Long.fromBits(0,0,!1):0,ts.prototype.transcriptionRegion="",ts.prototype.transcriptionConfiguration="",ts.prototype.message="",ts.create=function(ns){return new ts(ns)},ts.encode=function(ns,os){return os||(os=$Writer.create()),ns.type!=null&&Object.hasOwnProperty.call(ns,"type")&&os.uint32(8).int32(ns.type),ns.eventTime!=null&&Object.hasOwnProperty.call(ns,"eventTime")&&os.uint32(16).int64(ns.eventTime),ns.transcriptionRegion!=null&&Object.hasOwnProperty.call(ns,"transcriptionRegion")&&os.uint32(26).string(ns.transcriptionRegion),ns.transcriptionConfiguration!=null&&Object.hasOwnProperty.call(ns,"transcriptionConfiguration")&&os.uint32(34).string(ns.transcriptionConfiguration),ns.message!=null&&Object.hasOwnProperty.call(ns,"message")&&os.uint32(42).string(ns.message),os},ts.encodeDelimited=function(ns,os){return this.encode(ns,os).ldelim()},ts.decode=function(ns,os){ns instanceof $Reader||(ns=$Reader.create(ns));for(var ss=os===void 0?ns.len:ns.pos+os,as=new $root.SdkTranscriptionStatus;ns.pos<ss;){var ls=ns.uint32();switch(ls>>>3){case 1:{as.type=ns.int32();break}case 2:{as.eventTime=ns.int64();break}case 3:{as.transcriptionRegion=ns.string();break}case 4:{as.transcriptionConfiguration=ns.string();break}case 5:{as.message=ns.string();break}default:ns.skipType(ls&7);break}}return as},ts.decodeDelimited=function(ns){return ns instanceof $Reader||(ns=new $Reader(ns)),this.decode(ns,ns.uint32())},ts.verify=function(ns){if(typeof ns!="object"||ns===null)return"object expected";if(ns.type!=null&&ns.hasOwnProperty("type"))switch(ns.type){default:return"type: enum value expected";case 1:case 2:case 3:case 4:case 5:break}return ns.eventTime!=null&&ns.hasOwnProperty("eventTime")&&!$util.isInteger(ns.eventTime)&&!(ns.eventTime&&$util.isInteger(ns.eventTime.low)&&$util.isInteger(ns.eventTime.high))?"eventTime: integer|Long expected":ns.transcriptionRegion!=null&&ns.hasOwnProperty("transcriptionRegion")&&!$util.isString(ns.transcriptionRegion)?"transcriptionRegion: string expected":ns.transcriptionConfiguration!=null&&ns.hasOwnProperty("transcriptionConfiguration")&&!$util.isString(ns.transcriptionConfiguration)?"transcriptionConfiguration: string expected":ns.message!=null&&ns.hasOwnProperty("message")&&!$util.isString(ns.message)?"message: string expected":null},ts.fromObject=function(ns){if(ns instanceof $root.SdkTranscriptionStatus)return ns;var os=new $root.SdkTranscriptionStatus;switch(ns.type){default:if(typeof ns.type=="number"){os.type=ns.type;break}break;case"STARTED":case 1:os.type=1;break;case"INTERRUPTED":case 2:os.type=2;break;case"RESUMED":case 3:os.type=3;break;case"STOPPED":case 4:os.type=4;break;case"FAILED":case 5:os.type=5;break}return ns.eventTime!=null&&($util.Long?(os.eventTime=$util.Long.fromValue(ns.eventTime)).unsigned=!1:typeof ns.eventTime=="string"?os.eventTime=parseInt(ns.eventTime,10):typeof ns.eventTime=="number"?os.eventTime=ns.eventTime:typeof ns.eventTime=="object"&&(os.eventTime=new $util.LongBits(ns.eventTime.low>>>0,ns.eventTime.high>>>0).toNumber())),ns.transcriptionRegion!=null&&(os.transcriptionRegion=String(ns.transcriptionRegion)),ns.transcriptionConfiguration!=null&&(os.transcriptionConfiguration=String(ns.transcriptionConfiguration)),ns.message!=null&&(os.message=String(ns.message)),os},ts.toObject=function(ns,os){os||(os={});var ss={};if(os.defaults){if(ss.type=os.enums===String?"STARTED":1,$util.Long){var as=new $util.Long(0,0,!1);ss.eventTime=os.longs===String?as.toString():os.longs===Number?as.toNumber():as}else ss.eventTime=os.longs===String?"0":0;ss.transcriptionRegion="",ss.transcriptionConfiguration="",ss.message=""}return ns.type!=null&&ns.hasOwnProperty("type")&&(ss.type=os.enums===String?$root.SdkTranscriptionStatus.Type[ns.type]===void 0?ns.type:$root.SdkTranscriptionStatus.Type[ns.type]:ns.type),ns.eventTime!=null&&ns.hasOwnProperty("eventTime")&&(typeof ns.eventTime=="number"?ss.eventTime=os.longs===String?String(ns.eventTime):ns.eventTime:ss.eventTime=os.longs===String?$util.Long.prototype.toString.call(ns.eventTime):os.longs===Number?new $util.LongBits(ns.eventTime.low>>>0,ns.eventTime.high>>>0).toNumber():ns.eventTime),ns.transcriptionRegion!=null&&ns.hasOwnProperty("transcriptionRegion")&&(ss.transcriptionRegion=ns.transcriptionRegion),ns.transcriptionConfiguration!=null&&ns.hasOwnProperty("transcriptionConfiguration")&&(ss.transcriptionConfiguration=ns.transcriptionConfiguration),ns.message!=null&&ns.hasOwnProperty("message")&&(ss.message=ns.message),ss},ts.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},ts.getTypeUrl=function(ns){return ns===void 0&&(ns="type.googleapis.com"),ns+"/SdkTranscriptionStatus"},ts.Type=function(){var rs={},ns=Object.create(rs);return ns[rs[1]="STARTED"]=1,ns[rs[2]="INTERRUPTED"]=2,ns[rs[3]="RESUMED"]=3,ns[rs[4]="STOPPED"]=4,ns[rs[5]="FAILED"]=5,ns}(),ts}();$root.SdkTranscriptEvent=function(){function ts(ns){if(ns)for(var os=Object.keys(ns),ss=0;ss<os.length;++ss)ns[os[ss]]!=null&&(this[os[ss]]=ns[os[ss]])}ts.prototype.status=null,ts.prototype.transcript=null;var rs;return Object.defineProperty(ts.prototype,"Event",{get:$util.oneOfGetter(rs=["status","transcript"]),set:$util.oneOfSetter(rs)}),ts.create=function(os){return new ts(os)},ts.encode=function(os,ss){return ss||(ss=$Writer.create()),os.status!=null&&Object.hasOwnProperty.call(os,"status")&&$root.SdkTranscriptionStatus.encode(os.status,ss.uint32(10).fork()).ldelim(),os.transcript!=null&&Object.hasOwnProperty.call(os,"transcript")&&$root.SdkTranscript.encode(os.transcript,ss.uint32(18).fork()).ldelim(),ss},ts.encodeDelimited=function(os,ss){return this.encode(os,ss).ldelim()},ts.decode=function(os,ss){os instanceof $Reader||(os=$Reader.create(os));for(var as=ss===void 0?os.len:os.pos+ss,ls=new $root.SdkTranscriptEvent;os.pos<as;){var cs=os.uint32();switch(cs>>>3){case 1:{ls.status=$root.SdkTranscriptionStatus.decode(os,os.uint32());break}case 2:{ls.transcript=$root.SdkTranscript.decode(os,os.uint32());break}default:os.skipType(cs&7);break}}return ls},ts.decodeDelimited=function(os){return os instanceof $Reader||(os=new $Reader(os)),this.decode(os,os.uint32())},ts.verify=function(os){if(typeof os!="object"||os===null)return"object expected";var ss={};if(os.status!=null&&os.hasOwnProperty("status")){ss.Event=1;{var as=$root.SdkTranscriptionStatus.verify(os.status);if(as)return"status."+as}}if(os.transcript!=null&&os.hasOwnProperty("transcript")){if(ss.Event===1)return"Event: multiple values";ss.Event=1;{var as=$root.SdkTranscript.verify(os.transcript);if(as)return"transcript."+as}}return null},ts.fromObject=function(os){if(os instanceof $root.SdkTranscriptEvent)return os;var ss=new $root.SdkTranscriptEvent;if(os.status!=null){if(typeof os.status!="object")throw TypeError(".SdkTranscriptEvent.status: object expected");ss.status=$root.SdkTranscriptionStatus.fromObject(os.status)}if(os.transcript!=null){if(typeof os.transcript!="object")throw TypeError(".SdkTranscriptEvent.transcript: object expected");ss.transcript=$root.SdkTranscript.fromObject(os.transcript)}return ss},ts.toObject=function(os,ss){ss||(ss={});var as={};return os.status!=null&&os.hasOwnProperty("status")&&(as.status=$root.SdkTranscriptionStatus.toObject(os.status,ss),ss.oneofs&&(as.Event="status")),os.transcript!=null&&os.hasOwnProperty("transcript")&&(as.transcript=$root.SdkTranscript.toObject(os.transcript,ss),ss.oneofs&&(as.Event="transcript")),as},ts.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},ts.getTypeUrl=function(os){return os===void 0&&(os="type.googleapis.com"),os+"/SdkTranscriptEvent"},ts}();$root.SdkTranscriptFrame=function(){function ts(rs){if(this.events=[],rs)for(var ns=Object.keys(rs),os=0;os<ns.length;++os)rs[ns[os]]!=null&&(this[ns[os]]=rs[ns[os]])}return ts.prototype.events=$util.emptyArray,ts.create=function(ns){return new ts(ns)},ts.encode=function(ns,os){if(os||(os=$Writer.create()),ns.events!=null&&ns.events.length)for(var ss=0;ss<ns.events.length;++ss)$root.SdkTranscriptEvent.encode(ns.events[ss],os.uint32(10).fork()).ldelim();return os},ts.encodeDelimited=function(ns,os){return this.encode(ns,os).ldelim()},ts.decode=function(ns,os){ns instanceof $Reader||(ns=$Reader.create(ns));for(var ss=os===void 0?ns.len:ns.pos+os,as=new $root.SdkTranscriptFrame;ns.pos<ss;){var ls=ns.uint32();switch(ls>>>3){case 1:{as.events&&as.events.length||(as.events=[]),as.events.push($root.SdkTranscriptEvent.decode(ns,ns.uint32()));break}default:ns.skipType(ls&7);break}}return as},ts.decodeDelimited=function(ns){return ns instanceof $Reader||(ns=new $Reader(ns)),this.decode(ns,ns.uint32())},ts.verify=function(ns){if(typeof ns!="object"||ns===null)return"object expected";if(ns.events!=null&&ns.hasOwnProperty("events")){if(!Array.isArray(ns.events))return"events: array expected";for(var os=0;os<ns.events.length;++os){var ss=$root.SdkTranscriptEvent.verify(ns.events[os]);if(ss)return"events."+ss}}return null},ts.fromObject=function(ns){if(ns instanceof $root.SdkTranscriptFrame)return ns;var os=new $root.SdkTranscriptFrame;if(ns.events){if(!Array.isArray(ns.events))throw TypeError(".SdkTranscriptFrame.events: array expected");os.events=[];for(var ss=0;ss<ns.events.length;++ss){if(typeof ns.events[ss]!="object")throw TypeError(".SdkTranscriptFrame.events: object expected");os.events[ss]=$root.SdkTranscriptEvent.fromObject(ns.events[ss])}}return os},ts.toObject=function(ns,os){os||(os={});var ss={};if((os.arrays||os.defaults)&&(ss.events=[]),ns.events&&ns.events.length){ss.events=[];for(var as=0;as<ns.events.length;++as)ss.events[as]=$root.SdkTranscriptEvent.toObject(ns.events[as],os)}return ss},ts.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},ts.getTypeUrl=function(ns){return ns===void 0&&(ns="type.googleapis.com"),ns+"/SdkTranscriptFrame"},ts}();$root.SdkRemoteVideoUpdateFrame=function(){function ts(rs){if(this.addedOrUpdatedVideoSubscriptions=[],this.removedVideoSubscriptionMids=[],rs)for(var ns=Object.keys(rs),os=0;os<ns.length;++os)rs[ns[os]]!=null&&(this[ns[os]]=rs[ns[os]])}return ts.prototype.addedOrUpdatedVideoSubscriptions=$util.emptyArray,ts.prototype.removedVideoSubscriptionMids=$util.emptyArray,ts.create=function(ns){return new ts(ns)},ts.encode=function(ns,os){if(os||(os=$Writer.create()),ns.addedOrUpdatedVideoSubscriptions!=null&&ns.addedOrUpdatedVideoSubscriptions.length)for(var ss=0;ss<ns.addedOrUpdatedVideoSubscriptions.length;++ss)$root.SdkVideoSubscriptionConfiguration.encode(ns.addedOrUpdatedVideoSubscriptions[ss],os.uint32(10).fork()).ldelim();if(ns.removedVideoSubscriptionMids!=null&&ns.removedVideoSubscriptionMids.length)for(var ss=0;ss<ns.removedVideoSubscriptionMids.length;++ss)os.uint32(18).string(ns.removedVideoSubscriptionMids[ss]);return os},ts.encodeDelimited=function(ns,os){return this.encode(ns,os).ldelim()},ts.decode=function(ns,os){ns instanceof $Reader||(ns=$Reader.create(ns));for(var ss=os===void 0?ns.len:ns.pos+os,as=new $root.SdkRemoteVideoUpdateFrame;ns.pos<ss;){var ls=ns.uint32();switch(ls>>>3){case 1:{as.addedOrUpdatedVideoSubscriptions&&as.addedOrUpdatedVideoSubscriptions.length||(as.addedOrUpdatedVideoSubscriptions=[]),as.addedOrUpdatedVideoSubscriptions.push($root.SdkVideoSubscriptionConfiguration.decode(ns,ns.uint32()));break}case 2:{as.removedVideoSubscriptionMids&&as.removedVideoSubscriptionMids.length||(as.removedVideoSubscriptionMids=[]),as.removedVideoSubscriptionMids.push(ns.string());break}default:ns.skipType(ls&7);break}}return as},ts.decodeDelimited=function(ns){return ns instanceof $Reader||(ns=new $Reader(ns)),this.decode(ns,ns.uint32())},ts.verify=function(ns){if(typeof ns!="object"||ns===null)return"object expected";if(ns.addedOrUpdatedVideoSubscriptions!=null&&ns.hasOwnProperty("addedOrUpdatedVideoSubscriptions")){if(!Array.isArray(ns.addedOrUpdatedVideoSubscriptions))return"addedOrUpdatedVideoSubscriptions: array expected";for(var os=0;os<ns.addedOrUpdatedVideoSubscriptions.length;++os){var ss=$root.SdkVideoSubscriptionConfiguration.verify(ns.addedOrUpdatedVideoSubscriptions[os]);if(ss)return"addedOrUpdatedVideoSubscriptions."+ss}}if(ns.removedVideoSubscriptionMids!=null&&ns.hasOwnProperty("removedVideoSubscriptionMids")){if(!Array.isArray(ns.removedVideoSubscriptionMids))return"removedVideoSubscriptionMids: array expected";for(var os=0;os<ns.removedVideoSubscriptionMids.length;++os)if(!$util.isString(ns.removedVideoSubscriptionMids[os]))return"removedVideoSubscriptionMids: string[] expected"}return null},ts.fromObject=function(ns){if(ns instanceof $root.SdkRemoteVideoUpdateFrame)return ns;var os=new $root.SdkRemoteVideoUpdateFrame;if(ns.addedOrUpdatedVideoSubscriptions){if(!Array.isArray(ns.addedOrUpdatedVideoSubscriptions))throw TypeError(".SdkRemoteVideoUpdateFrame.addedOrUpdatedVideoSubscriptions: array expected");os.addedOrUpdatedVideoSubscriptions=[];for(var ss=0;ss<ns.addedOrUpdatedVideoSubscriptions.length;++ss){if(typeof ns.addedOrUpdatedVideoSubscriptions[ss]!="object")throw TypeError(".SdkRemoteVideoUpdateFrame.addedOrUpdatedVideoSubscriptions: object expected");os.addedOrUpdatedVideoSubscriptions[ss]=$root.SdkVideoSubscriptionConfiguration.fromObject(ns.addedOrUpdatedVideoSubscriptions[ss])}}if(ns.removedVideoSubscriptionMids){if(!Array.isArray(ns.removedVideoSubscriptionMids))throw TypeError(".SdkRemoteVideoUpdateFrame.removedVideoSubscriptionMids: array expected");os.removedVideoSubscriptionMids=[];for(var ss=0;ss<ns.removedVideoSubscriptionMids.length;++ss)os.removedVideoSubscriptionMids[ss]=String(ns.removedVideoSubscriptionMids[ss])}return os},ts.toObject=function(ns,os){os||(os={});var ss={};if((os.arrays||os.defaults)&&(ss.addedOrUpdatedVideoSubscriptions=[],ss.removedVideoSubscriptionMids=[]),ns.addedOrUpdatedVideoSubscriptions&&ns.addedOrUpdatedVideoSubscriptions.length){ss.addedOrUpdatedVideoSubscriptions=[];for(var as=0;as<ns.addedOrUpdatedVideoSubscriptions.length;++as)ss.addedOrUpdatedVideoSubscriptions[as]=$root.SdkVideoSubscriptionConfiguration.toObject(ns.addedOrUpdatedVideoSubscriptions[as],os)}if(ns.removedVideoSubscriptionMids&&ns.removedVideoSubscriptionMids.length){ss.removedVideoSubscriptionMids=[];for(var as=0;as<ns.removedVideoSubscriptionMids.length;++as)ss.removedVideoSubscriptionMids[as]=ns.removedVideoSubscriptionMids[as]}return ss},ts.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},ts.getTypeUrl=function(ns){return ns===void 0&&(ns="type.googleapis.com"),ns+"/SdkRemoteVideoUpdateFrame"},ts}();$root.SdkVideoQualityAdaptationPreference=function(){var ts={},rs=Object.create(ts);return rs[ts[1]="BALANCED"]=1,rs[ts[2]="MAINTAIN_FRAMERATE"]=2,rs[ts[3]="MAINTAIN_RESOLUTION"]=3,rs}();$root.SdkVideoSubscriptionConfiguration=function(){function ts(rs){if(rs)for(var ns=Object.keys(rs),os=0;os<ns.length;++os)rs[ns[os]]!=null&&(this[ns[os]]=rs[ns[os]])}return ts.prototype.mid="",ts.prototype.attendeeId="",ts.prototype.streamId=0,ts.prototype.priority=0,ts.prototype.targetBitrateKbps=0,ts.prototype.groupId=0,ts.prototype.qualityAdaptationPreference=1,ts.create=function(ns){return new ts(ns)},ts.encode=function(ns,os){return os||(os=$Writer.create()),os.uint32(10).string(ns.mid),ns.attendeeId!=null&&Object.hasOwnProperty.call(ns,"attendeeId")&&os.uint32(18).string(ns.attendeeId),ns.streamId!=null&&Object.hasOwnProperty.call(ns,"streamId")&&os.uint32(24).uint32(ns.streamId),ns.priority!=null&&Object.hasOwnProperty.call(ns,"priority")&&os.uint32(32).uint32(ns.priority),ns.targetBitrateKbps!=null&&Object.hasOwnProperty.call(ns,"targetBitrateKbps")&&os.uint32(40).uint32(ns.targetBitrateKbps),ns.groupId!=null&&Object.hasOwnProperty.call(ns,"groupId")&&os.uint32(48).uint32(ns.groupId),ns.qualityAdaptationPreference!=null&&Object.hasOwnProperty.call(ns,"qualityAdaptationPreference")&&os.uint32(56).int32(ns.qualityAdaptationPreference),os},ts.encodeDelimited=function(ns,os){return this.encode(ns,os).ldelim()},ts.decode=function(ns,os){ns instanceof $Reader||(ns=$Reader.create(ns));for(var ss=os===void 0?ns.len:ns.pos+os,as=new $root.SdkVideoSubscriptionConfiguration;ns.pos<ss;){var ls=ns.uint32();switch(ls>>>3){case 1:{as.mid=ns.string();break}case 2:{as.attendeeId=ns.string();break}case 3:{as.streamId=ns.uint32();break}case 4:{as.priority=ns.uint32();break}case 5:{as.targetBitrateKbps=ns.uint32();break}case 6:{as.groupId=ns.uint32();break}case 7:{as.qualityAdaptationPreference=ns.int32();break}default:ns.skipType(ls&7);break}}if(!as.hasOwnProperty("mid"))throw $util.ProtocolError("missing required 'mid'",{instance:as});return as},ts.decodeDelimited=function(ns){return ns instanceof $Reader||(ns=new $Reader(ns)),this.decode(ns,ns.uint32())},ts.verify=function(ns){if(typeof ns!="object"||ns===null)return"object expected";if(!$util.isString(ns.mid))return"mid: string expected";if(ns.attendeeId!=null&&ns.hasOwnProperty("attendeeId")&&!$util.isString(ns.attendeeId))return"attendeeId: string expected";if(ns.streamId!=null&&ns.hasOwnProperty("streamId")&&!$util.isInteger(ns.streamId))return"streamId: integer expected";if(ns.priority!=null&&ns.hasOwnProperty("priority")&&!$util.isInteger(ns.priority))return"priority: integer expected";if(ns.targetBitrateKbps!=null&&ns.hasOwnProperty("targetBitrateKbps")&&!$util.isInteger(ns.targetBitrateKbps))return"targetBitrateKbps: integer expected";if(ns.groupId!=null&&ns.hasOwnProperty("groupId")&&!$util.isInteger(ns.groupId))return"groupId: integer expected";if(ns.qualityAdaptationPreference!=null&&ns.hasOwnProperty("qualityAdaptationPreference"))switch(ns.qualityAdaptationPreference){default:return"qualityAdaptationPreference: enum value expected";case 1:case 2:case 3:break}return null},ts.fromObject=function(ns){if(ns instanceof $root.SdkVideoSubscriptionConfiguration)return ns;var os=new $root.SdkVideoSubscriptionConfiguration;switch(ns.mid!=null&&(os.mid=String(ns.mid)),ns.attendeeId!=null&&(os.attendeeId=String(ns.attendeeId)),ns.streamId!=null&&(os.streamId=ns.streamId>>>0),ns.priority!=null&&(os.priority=ns.priority>>>0),ns.targetBitrateKbps!=null&&(os.targetBitrateKbps=ns.targetBitrateKbps>>>0),ns.groupId!=null&&(os.groupId=ns.groupId>>>0),ns.qualityAdaptationPreference){default:if(typeof ns.qualityAdaptationPreference=="number"){os.qualityAdaptationPreference=ns.qualityAdaptationPreference;break}break;case"BALANCED":case 1:os.qualityAdaptationPreference=1;break;case"MAINTAIN_FRAMERATE":case 2:os.qualityAdaptationPreference=2;break;case"MAINTAIN_RESOLUTION":case 3:os.qualityAdaptationPreference=3;break}return os},ts.toObject=function(ns,os){os||(os={});var ss={};return os.defaults&&(ss.mid="",ss.attendeeId="",ss.streamId=0,ss.priority=0,ss.targetBitrateKbps=0,ss.groupId=0,ss.qualityAdaptationPreference=os.enums===String?"BALANCED":1),ns.mid!=null&&ns.hasOwnProperty("mid")&&(ss.mid=ns.mid),ns.attendeeId!=null&&ns.hasOwnProperty("attendeeId")&&(ss.attendeeId=ns.attendeeId),ns.streamId!=null&&ns.hasOwnProperty("streamId")&&(ss.streamId=ns.streamId),ns.priority!=null&&ns.hasOwnProperty("priority")&&(ss.priority=ns.priority),ns.targetBitrateKbps!=null&&ns.hasOwnProperty("targetBitrateKbps")&&(ss.targetBitrateKbps=ns.targetBitrateKbps),ns.groupId!=null&&ns.hasOwnProperty("groupId")&&(ss.groupId=ns.groupId),ns.qualityAdaptationPreference!=null&&ns.hasOwnProperty("qualityAdaptationPreference")&&(ss.qualityAdaptationPreference=os.enums===String?$root.SdkVideoQualityAdaptationPreference[ns.qualityAdaptationPreference]===void 0?ns.qualityAdaptationPreference:$root.SdkVideoQualityAdaptationPreference[ns.qualityAdaptationPreference]:ns.qualityAdaptationPreference),ss},ts.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},ts.getTypeUrl=function(ns){return ns===void 0&&(ns="type.googleapis.com"),ns+"/SdkVideoSubscriptionConfiguration"},ts}();$root.SdkNotificationFrame=function(){function ts(rs){if(rs)for(var ns=Object.keys(rs),os=0;os<ns.length;++os)rs[ns[os]]!=null&&(this[ns[os]]=rs[ns[os]])}return ts.prototype.level=3,ts.prototype.message="",ts.create=function(ns){return new ts(ns)},ts.encode=function(ns,os){return os||(os=$Writer.create()),ns.level!=null&&Object.hasOwnProperty.call(ns,"level")&&os.uint32(8).int32(ns.level),ns.message!=null&&Object.hasOwnProperty.call(ns,"message")&&os.uint32(18).string(ns.message),os},ts.encodeDelimited=function(ns,os){return this.encode(ns,os).ldelim()},ts.decode=function(ns,os){ns instanceof $Reader||(ns=$Reader.create(ns));for(var ss=os===void 0?ns.len:ns.pos+os,as=new $root.SdkNotificationFrame;ns.pos<ss;){var ls=ns.uint32();switch(ls>>>3){case 1:{as.level=ns.int32();break}case 2:{as.message=ns.string();break}default:ns.skipType(ls&7);break}}return as},ts.decodeDelimited=function(ns){return ns instanceof $Reader||(ns=new $Reader(ns)),this.decode(ns,ns.uint32())},ts.verify=function(ns){if(typeof ns!="object"||ns===null)return"object expected";if(ns.level!=null&&ns.hasOwnProperty("level"))switch(ns.level){default:return"level: enum value expected";case 1:case 2:case 3:break}return ns.message!=null&&ns.hasOwnProperty("message")&&!$util.isString(ns.message)?"message: string expected":null},ts.fromObject=function(ns){if(ns instanceof $root.SdkNotificationFrame)return ns;var os=new $root.SdkNotificationFrame;switch(ns.level){case"INFO":case 1:os.level=1;break;case"WARNING":case 2:os.level=2;break;default:if(typeof ns.level=="number"){os.level=ns.level;break}break;case"ERROR":case 3:os.level=3;break}return ns.message!=null&&(os.message=String(ns.message)),os},ts.toObject=function(ns,os){os||(os={});var ss={};return os.defaults&&(ss.level=os.enums===String?"ERROR":3,ss.message=""),ns.level!=null&&ns.hasOwnProperty("level")&&(ss.level=os.enums===String?$root.SdkNotificationFrame.NotificationLevel[ns.level]===void 0?ns.level:$root.SdkNotificationFrame.NotificationLevel[ns.level]:ns.level),ns.message!=null&&ns.hasOwnProperty("message")&&(ss.message=ns.message),ss},ts.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},ts.getTypeUrl=function(ns){return ns===void 0&&(ns="type.googleapis.com"),ns+"/SdkNotificationFrame"},ts.NotificationLevel=function(){var rs={},ns=Object.create(rs);return ns[rs[1]="INFO"]=1,ns[rs[2]="WARNING"]=2,ns[rs[3]="ERROR"]=3,ns}(),ts}();$root.SdkPrimaryMeetingJoinFrame=function(){function ts(rs){if(rs)for(var ns=Object.keys(rs),os=0;os<ns.length;++os)rs[ns[os]]!=null&&(this[ns[os]]=rs[ns[os]])}return ts.prototype.credentials=null,ts.create=function(ns){return new ts(ns)},ts.encode=function(ns,os){return os||(os=$Writer.create()),ns.credentials!=null&&Object.hasOwnProperty.call(ns,"credentials")&&$root.SdkMeetingSessionCredentials.encode(ns.credentials,os.uint32(10).fork()).ldelim(),os},ts.encodeDelimited=function(ns,os){return this.encode(ns,os).ldelim()},ts.decode=function(ns,os){ns instanceof $Reader||(ns=$Reader.create(ns));for(var ss=os===void 0?ns.len:ns.pos+os,as=new $root.SdkPrimaryMeetingJoinFrame;ns.pos<ss;){var ls=ns.uint32();switch(ls>>>3){case 1:{as.credentials=$root.SdkMeetingSessionCredentials.decode(ns,ns.uint32());break}default:ns.skipType(ls&7);break}}return as},ts.decodeDelimited=function(ns){return ns instanceof $Reader||(ns=new $Reader(ns)),this.decode(ns,ns.uint32())},ts.verify=function(ns){if(typeof ns!="object"||ns===null)return"object expected";if(ns.credentials!=null&&ns.hasOwnProperty("credentials")){var os=$root.SdkMeetingSessionCredentials.verify(ns.credentials);if(os)return"credentials."+os}return null},ts.fromObject=function(ns){if(ns instanceof $root.SdkPrimaryMeetingJoinFrame)return ns;var os=new $root.SdkPrimaryMeetingJoinFrame;if(ns.credentials!=null){if(typeof ns.credentials!="object")throw TypeError(".SdkPrimaryMeetingJoinFrame.credentials: object expected");os.credentials=$root.SdkMeetingSessionCredentials.fromObject(ns.credentials)}return os},ts.toObject=function(ns,os){os||(os={});var ss={};return os.defaults&&(ss.credentials=null),ns.credentials!=null&&ns.hasOwnProperty("credentials")&&(ss.credentials=$root.SdkMeetingSessionCredentials.toObject(ns.credentials,os)),ss},ts.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},ts.getTypeUrl=function(ns){return ns===void 0&&(ns="type.googleapis.com"),ns+"/SdkPrimaryMeetingJoinFrame"},ts}();$root.SdkPrimaryMeetingJoinAckFrame=function(){function ts(rs){if(rs)for(var ns=Object.keys(rs),os=0;os<ns.length;++os)rs[ns[os]]!=null&&(this[ns[os]]=rs[ns[os]])}return ts.create=function(ns){return new ts(ns)},ts.encode=function(ns,os){return os||(os=$Writer.create()),os},ts.encodeDelimited=function(ns,os){return this.encode(ns,os).ldelim()},ts.decode=function(ns,os){ns instanceof $Reader||(ns=$Reader.create(ns));for(var ss=os===void 0?ns.len:ns.pos+os,as=new $root.SdkPrimaryMeetingJoinAckFrame;ns.pos<ss;){var ls=ns.uint32();switch(ls>>>3){default:ns.skipType(ls&7);break}}return as},ts.decodeDelimited=function(ns){return ns instanceof $Reader||(ns=new $Reader(ns)),this.decode(ns,ns.uint32())},ts.verify=function(ns){return typeof ns!="object"||ns===null?"object expected":null},ts.fromObject=function(ns){return ns instanceof $root.SdkPrimaryMeetingJoinAckFrame?ns:new $root.SdkPrimaryMeetingJoinAckFrame},ts.toObject=function(){return{}},ts.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},ts.getTypeUrl=function(ns){return ns===void 0&&(ns="type.googleapis.com"),ns+"/SdkPrimaryMeetingJoinAckFrame"},ts}();$root.SdkPrimaryMeetingLeaveFrame=function(){function ts(rs){if(rs)for(var ns=Object.keys(rs),os=0;os<ns.length;++os)rs[ns[os]]!=null&&(this[ns[os]]=rs[ns[os]])}return ts.create=function(ns){return new ts(ns)},ts.encode=function(ns,os){return os||(os=$Writer.create()),os},ts.encodeDelimited=function(ns,os){return this.encode(ns,os).ldelim()},ts.decode=function(ns,os){ns instanceof $Reader||(ns=$Reader.create(ns));for(var ss=os===void 0?ns.len:ns.pos+os,as=new $root.SdkPrimaryMeetingLeaveFrame;ns.pos<ss;){var ls=ns.uint32();switch(ls>>>3){default:ns.skipType(ls&7);break}}return as},ts.decodeDelimited=function(ns){return ns instanceof $Reader||(ns=new $Reader(ns)),this.decode(ns,ns.uint32())},ts.verify=function(ns){return typeof ns!="object"||ns===null?"object expected":null},ts.fromObject=function(ns){return ns instanceof $root.SdkPrimaryMeetingLeaveFrame?ns:new $root.SdkPrimaryMeetingLeaveFrame},ts.toObject=function(){return{}},ts.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},ts.getTypeUrl=function(ns){return ns===void 0&&(ns="type.googleapis.com"),ns+"/SdkPrimaryMeetingLeaveFrame"},ts}();$root.SdkMeetingSessionCredentials=function(){function ts(rs){if(rs)for(var ns=Object.keys(rs),os=0;os<ns.length;++os)rs[ns[os]]!=null&&(this[ns[os]]=rs[ns[os]])}return ts.prototype.attendeeId="",ts.prototype.externalUserId="",ts.prototype.joinToken="",ts.create=function(ns){return new ts(ns)},ts.encode=function(ns,os){return os||(os=$Writer.create()),ns.attendeeId!=null&&Object.hasOwnProperty.call(ns,"attendeeId")&&os.uint32(10).string(ns.attendeeId),ns.externalUserId!=null&&Object.hasOwnProperty.call(ns,"externalUserId")&&os.uint32(18).string(ns.externalUserId),ns.joinToken!=null&&Object.hasOwnProperty.call(ns,"joinToken")&&os.uint32(26).string(ns.joinToken),os},ts.encodeDelimited=function(ns,os){return this.encode(ns,os).ldelim()},ts.decode=function(ns,os){ns instanceof $Reader||(ns=$Reader.create(ns));for(var ss=os===void 0?ns.len:ns.pos+os,as=new $root.SdkMeetingSessionCredentials;ns.pos<ss;){var ls=ns.uint32();switch(ls>>>3){case 1:{as.attendeeId=ns.string();break}case 2:{as.externalUserId=ns.string();break}case 3:{as.joinToken=ns.string();break}default:ns.skipType(ls&7);break}}return as},ts.decodeDelimited=function(ns){return ns instanceof $Reader||(ns=new $Reader(ns)),this.decode(ns,ns.uint32())},ts.verify=function(ns){return typeof ns!="object"||ns===null?"object expected":ns.attendeeId!=null&&ns.hasOwnProperty("attendeeId")&&!$util.isString(ns.attendeeId)?"attendeeId: string expected":ns.externalUserId!=null&&ns.hasOwnProperty("externalUserId")&&!$util.isString(ns.externalUserId)?"externalUserId: string expected":ns.joinToken!=null&&ns.hasOwnProperty("joinToken")&&!$util.isString(ns.joinToken)?"joinToken: string expected":null},ts.fromObject=function(ns){if(ns instanceof $root.SdkMeetingSessionCredentials)return ns;var os=new $root.SdkMeetingSessionCredentials;return ns.attendeeId!=null&&(os.attendeeId=String(ns.attendeeId)),ns.externalUserId!=null&&(os.externalUserId=String(ns.externalUserId)),ns.joinToken!=null&&(os.joinToken=String(ns.joinToken)),os},ts.toObject=function(ns,os){os||(os={});var ss={};return os.defaults&&(ss.attendeeId="",ss.externalUserId="",ss.joinToken=""),ns.attendeeId!=null&&ns.hasOwnProperty("attendeeId")&&(ss.attendeeId=ns.attendeeId),ns.externalUserId!=null&&ns.hasOwnProperty("externalUserId")&&(ss.externalUserId=ns.externalUserId),ns.joinToken!=null&&ns.hasOwnProperty("joinToken")&&(ss.joinToken=ns.joinToken),ss},ts.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},ts.getTypeUrl=function(ns){return ns===void 0&&(ns="type.googleapis.com"),ns+"/SdkMeetingSessionCredentials"},ts}();$root.SdkVideoCodecCapability=function(){var ts={},rs=Object.create(ts);return rs[ts[1]="VP8"]=1,rs[ts[2]="H264_BASELINE_PROFILE"]=2,rs[ts[3]="H264_CONSTRAINED_BASELINE_PROFILE"]=3,rs[ts[4]="H264_MAIN_PROFILE"]=4,rs[ts[5]="H264_HIGH_PROFILE"]=5,rs[ts[6]="H264_CONSTRAINED_HIGH_PROFILE"]=6,rs[ts[8]="VP9_PROFILE_0"]=8,rs[ts[11]="AV1_MAIN_PROFILE"]=11,rs}();var SignalingProtocol=$root;$util.Long=void 0;$protobuf.configure();var ClientMetricReportDirection={};(function(ts){Object.defineProperty(ts,"__esModule",{value:!0}),ts.ClientMetricReportDirection=void 0;var rs;(function(ns){ns[ns.UPSTREAM=0]="UPSTREAM",ns[ns.DOWNSTREAM=1]="DOWNSTREAM"})(rs=ts.ClientMetricReportDirection||(ts.ClientMetricReportDirection={})),ts.default=rs})(ClientMetricReportDirection);var ClientMetricReportMediaType={};(function(ts){Object.defineProperty(ts,"__esModule",{value:!0}),ts.ClientMetricReportMediaType=void 0;var rs;(function(ns){ns[ns.AUDIO=0]="AUDIO",ns[ns.VIDEO=1]="VIDEO"})(rs=ts.ClientMetricReportMediaType||(ts.ClientMetricReportMediaType={})),ts.default=rs})(ClientMetricReportMediaType);var GlobalMetricReport$1={};Object.defineProperty(GlobalMetricReport$1,"__esModule",{value:!0});class GlobalMetricReport{constructor(){this.previousMetrics={},this.currentMetrics={},this.currentStringMetrics={},this.previousObjectMetrics={},this.currentObjectMetrics={}}}GlobalMetricReport$1.default=GlobalMetricReport;var __importDefault$1u=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(ClientMetricReport$1,"__esModule",{value:!0});const SignalingProtocol_js_1$f=SignalingProtocol,ClientMetricReportDirection_1$3=__importDefault$1u(ClientMetricReportDirection),ClientMetricReportMediaType_1$3=__importDefault$1u(ClientMetricReportMediaType),GlobalMetricReport_1=__importDefault$1u(GlobalMetricReport$1);class ClientMetricReport{constructor(rs,ns,os){this.logger=rs,this.videoStreamIndex=ns,this.selfAttendeeId=os,this.globalMetricReport=new GlobalMetricReport_1.default,this.streamMetricReports={},this.rtcStatsReport={},this.customStatsReports=[],this.currentTimestampMs=0,this.previousTimestampMs=0,this.currentSsrcs={},this.overriddenObservableMetrics=new Map,this.identityValue=(ss,as)=>{const ls=as?this.streamMetricReports[as]:this.globalMetricReport;return Number(ls.currentMetrics[ss])},this.decoderLossPercent=(ss,as)=>{const ls=this.streamMetricReports[as],cs=ls.currentMetrics.concealedSamples-(ls.previousMetrics.concealedSamples||0),us=ls.currentMetrics.totalSamplesReceived-(ls.previousMetrics.totalSamplesReceived||0);return us<=0||us-cs<=0?0:cs/us*100},this.packetLossPercent=(ss,as)=>{const ls=this.streamMetricReports[as],cs=ls.currentMetrics[ss]-(ls.previousMetrics[ss]||0),us=ls.currentMetrics.packetsLost-(ls.previousMetrics.packetsLost||0),ds=cs+us;return ds<=0||us<=0?0:us*100/ds},this.jitterBufferMs=(ss,as)=>{const ls=this.streamMetricReports[as],cs=ls.currentMetrics.jitterBufferDelay-(ls.previousMetrics.jitterBufferDelay||0),us=ls.currentMetrics.jitterBufferEmittedCount-(ls.previousMetrics.jitterBufferEmittedCount||0);return cs<=0||us<=0?0:cs/us*1e3},this.countPerSecond=(ss,as)=>{const ls=as?this.streamMetricReports[as]:this.globalMetricReport;let cs=(this.currentTimestampMs-this.previousTimestampMs)/1e3;if(cs<=0)return 0;this.previousTimestampMs<=0&&(cs=1);const us=ls.currentMetrics[ss]-(ls.previousMetrics[ss]||0);return us<=0?0:Math.trunc(us/cs)},this.bitsPerSecond=(ss,as)=>{const ls=as?this.streamMetricReports[as]:this.globalMetricReport;let cs=(this.currentTimestampMs-this.previousTimestampMs)/1e3;if(cs<=0)return 0;this.previousTimestampMs<=0&&(cs=1);const us=(ls.currentMetrics[ss]-(ls.previousMetrics[ss]||0))*8;return us<=0?0:Math.trunc(us/cs)},this.secondsToMilliseconds=(ss,as)=>{const ls=as?this.streamMetricReports[as]:this.globalMetricReport;return Number(ls.currentMetrics[ss]*1e3)},this.averageTimeSpentPerSecondInMilliseconds=(ss,as)=>{const ls=as?this.streamMetricReports[as]:this.globalMetricReport;let cs=(this.currentTimestampMs-this.previousTimestampMs)/1e3;if(cs<=0)return 0;this.previousTimestampMs<=0&&(cs=1);const us=ls.currentMetrics[ss]-(ls.previousMetrics[ss]||0);return us<=0?0:us*1e3/cs},this.averageCpuQualityLimitationDurationPerSecondInMilliseconds=(ss,as)=>{const ls=this.streamMetricReports[as];if(ls.previousObjectMetrics[ss]===void 0||ls.currentObjectMetrics[ss]===void 0)return NaN;let cs=(this.currentTimestampMs-this.previousTimestampMs)/1e3;if(cs<=0)return 0;this.previousTimestampMs<=0&&(cs=1);let us=0,ds=0;for(const[fs,hs]of Object.entries(ls.previousObjectMetrics[ss]))fs==="cpu"&&(us=hs);for(const[fs,hs]of Object.entries(ls.currentObjectMetrics[ss]))fs==="cpu"&&(ds=hs);const ps=ds-us;return ps<=0?0:ps*1e3/cs},this.isHardwareImplementation=(ss,as)=>{const ls=this.streamMetricReports[as];if(ls.currentStringMetrics[ss]===void 0)return NaN;const cs=String(ls.currentStringMetrics[ss]),us=cs.includes("ExternalDecoder")||cs.includes("ExternalEncoder")||cs.includes("EncodeAccelerator")||cs.includes("DecodeAccelerator"),ds=cs.includes("fallback from");return us&&!ds?1:0},this.globalMetricMap={retransmittedBytesSent:{transform:this.identityValue,type:SignalingProtocol_js_1$f.SdkMetric.Type.VIDEO_RETRANSMIT_BITRATE},totalEncodedBytesTarget:{transform:this.identityValue,type:SignalingProtocol_js_1$f.SdkMetric.Type.VIDEO_TARGET_ENCODER_BITRATE},totalPacketSendDelay:{transform:this.identityValue,type:SignalingProtocol_js_1$f.SdkMetric.Type.VIDEO_BUCKET_DELAY_MS},packetsDiscardedOnSend:{transform:this.countPerSecond,type:SignalingProtocol_js_1$f.SdkMetric.Type.SOCKET_DISCARDED_PPS},availableIncomingBitrate:{transform:this.identityValue,type:SignalingProtocol_js_1$f.SdkMetric.Type.VIDEO_AVAILABLE_RECEIVE_BANDWIDTH},availableOutgoingBitrate:{transform:this.identityValue,type:SignalingProtocol_js_1$f.SdkMetric.Type.VIDEO_AVAILABLE_SEND_BANDWIDTH},currentRoundTripTime:{transform:this.secondsToMilliseconds,type:SignalingProtocol_js_1$f.SdkMetric.Type.STUN_RTT_MS},audioLevel:{transform:this.identityValue,type:SignalingProtocol_js_1$f.SdkMetric.Type.RTC_MIC_AUDIO_LEVEL,source:"audioLevel"}},this.audioUpstreamMetricMap={jitter:{transform:this.secondsToMilliseconds,type:SignalingProtocol_js_1$f.SdkMetric.Type.RTC_MIC_JITTER_MS},packetsSent:{transform:this.countPerSecond,type:SignalingProtocol_js_1$f.SdkMetric.Type.RTC_MIC_PPS},bytesSent:{transform:this.bitsPerSecond,type:SignalingProtocol_js_1$f.SdkMetric.Type.RTC_MIC_BITRATE},roundTripTime:{transform:this.secondsToMilliseconds,type:SignalingProtocol_js_1$f.SdkMetric.Type.RTC_MIC_RTT_MS},packetsLost:{transform:this.packetLossPercent,type:SignalingProtocol_js_1$f.SdkMetric.Type.RTC_MIC_FRACTION_PACKET_LOST_PERCENT,source:"packetsSent"}},this.audioDownstreamMetricMap={concealedSamples:{transform:this.countPerSecond},totalSamplesReceived:{transform:this.countPerSecond},decoderLoss:{transform:this.decoderLossPercent,type:SignalingProtocol_js_1$f.SdkMetric.Type.RTC_SPK_FRACTION_DECODER_LOSS_PERCENT},packetsReceived:{transform:this.countPerSecond,type:SignalingProtocol_js_1$f.SdkMetric.Type.RTC_SPK_PPS},packetsLost:{transform:this.packetLossPercent,type:SignalingProtocol_js_1$f.SdkMetric.Type.RTC_SPK_FRACTION_PACKET_LOST_PERCENT,source:"packetsReceived"},jitter:{transform:this.secondsToMilliseconds,type:SignalingProtocol_js_1$f.SdkMetric.Type.RTC_SPK_JITTER_MS},jitterBufferDelay:{transform:this.countPerSecond},jitterBufferEmittedCount:{transform:this.countPerSecond},jitterBufferMs:{transform:this.jitterBufferMs,type:SignalingProtocol_js_1$f.SdkMetric.Type.RTC_SPK_JITTER_BUFFER_MS},bytesReceived:{transform:this.bitsPerSecond,type:SignalingProtocol_js_1$f.SdkMetric.Type.RTC_SPK_BITRATE},audioLevel:{transform:this.identityValue,type:SignalingProtocol_js_1$f.SdkMetric.Type.RTC_SPK_AUDIO_LEVEL},totalAudioPacketsLost:{transform:this.identityValue,type:SignalingProtocol_js_1$f.SdkMetric.Type.RTC_SPK_TOTAL_LOST},totalAudioPacketsExpected:{transform:this.identityValue,type:SignalingProtocol_js_1$f.SdkMetric.Type.RTC_SPK_TOTAL_EXPECTED},totalAudioPacketsRecoveredRed:{transform:this.identityValue,type:SignalingProtocol_js_1$f.SdkMetric.Type.RTC_SPK_TOTAL_RECOVERED_RED},totalAudioPacketsRecoveredFec:{transform:this.identityValue,type:SignalingProtocol_js_1$f.SdkMetric.Type.RTC_SPK_TOTAL_RECOVERED_FEC}},this.videoUpstreamMetricMap={roundTripTime:{transform:this.secondsToMilliseconds,type:SignalingProtocol_js_1$f.SdkMetric.Type.VIDEO_SENT_RTT_MS},nackCount:{transform:this.countPerSecond,type:SignalingProtocol_js_1$f.SdkMetric.Type.VIDEO_NACKS_RECEIVED},pliCount:{transform:this.countPerSecond,type:SignalingProtocol_js_1$f.SdkMetric.Type.VIDEO_PLIS_RECEIVED},firCount:{transform:this.countPerSecond,type:SignalingProtocol_js_1$f.SdkMetric.Type.VIDEO_FIRS_RECEIVED},framesPerSecond:{transform:this.identityValue,type:SignalingProtocol_js_1$f.SdkMetric.Type.VIDEO_INPUT_FPS},framesEncoded:{transform:this.countPerSecond,type:SignalingProtocol_js_1$f.SdkMetric.Type.VIDEO_ENCODE_FPS},packetsSent:{transform:this.countPerSecond,type:SignalingProtocol_js_1$f.SdkMetric.Type.VIDEO_SENT_PPS},packetsLost:{transform:this.packetLossPercent,type:SignalingProtocol_js_1$f.SdkMetric.Type.VIDEO_SENT_FRACTION_PACKET_LOST_PERCENT,source:"packetsSent"},bytesSent:{transform:this.bitsPerSecond,type:SignalingProtocol_js_1$f.SdkMetric.Type.VIDEO_SENT_BITRATE},qpSum:{transform:this.countPerSecond,type:SignalingProtocol_js_1$f.SdkMetric.Type.VIDEO_SENT_QP_SUM},frameHeight:{transform:this.identityValue,type:SignalingProtocol_js_1$f.SdkMetric.Type.VIDEO_ENCODE_HEIGHT},frameWidth:{transform:this.identityValue,type:SignalingProtocol_js_1$f.SdkMetric.Type.VIDEO_ENCODE_WIDTH},jitter:{transform:this.secondsToMilliseconds},totalEncodeTime:{transform:this.averageTimeSpentPerSecondInMilliseconds,type:SignalingProtocol_js_1$f.SdkMetric.Type.VIDEO_ENCODE_MS},encoderImplementation:{transform:this.isHardwareImplementation,type:SignalingProtocol_js_1$f.SdkMetric.Type.VIDEO_ENCODER_IS_HARDWARE},qualityLimitationDurations:{transform:this.averageCpuQualityLimitationDurationPerSecondInMilliseconds,type:SignalingProtocol_js_1$f.SdkMetric.Type.VIDEO_QUALITY_LIMITATION_DURATION_CPU},videoCodecDegradationHighEncodeCpu:{transform:this.identityValue,type:SignalingProtocol_js_1$f.SdkMetric.Type.VIDEO_CODEC_DEGRADATION_HIGH_ENCODE_CPU},videoCodecDegradationEncodeFailure:{transform:this.identityValue,type:SignalingProtocol_js_1$f.SdkMetric.Type.VIDEO_CODEC_DEGRADATION_ENCODE_FAILURE}},this.videoDownstreamMetricMap={packetsReceived:{transform:this.countPerSecond,type:SignalingProtocol_js_1$f.SdkMetric.Type.VIDEO_RECEIVED_PPS},packetsLost:{transform:this.packetLossPercent,type:SignalingProtocol_js_1$f.SdkMetric.Type.VIDEO_RECEIVED_FRACTION_PACKET_LOST_PERCENT,source:"packetsReceived"},framesReceived:{transform:this.identityValue,type:SignalingProtocol_js_1$f.SdkMetric.Type.VIDEO_RECEIVED_FPS},framesDecoded:{transform:this.countPerSecond,type:SignalingProtocol_js_1$f.SdkMetric.Type.VIDEO_DECODE_FPS},nackCount:{transform:this.countPerSecond,type:SignalingProtocol_js_1$f.SdkMetric.Type.VIDEO_NACKS_SENT},firCount:{transform:this.countPerSecond,type:SignalingProtocol_js_1$f.SdkMetric.Type.VIDEO_FIRS_SENT},pliCount:{transform:this.countPerSecond,type:SignalingProtocol_js_1$f.SdkMetric.Type.VIDEO_PLIS_SENT},bytesReceived:{transform:this.bitsPerSecond,type:SignalingProtocol_js_1$f.SdkMetric.Type.VIDEO_RECEIVED_BITRATE},jitter:{transform:this.secondsToMilliseconds,type:SignalingProtocol_js_1$f.SdkMetric.Type.VIDEO_RECEIVED_JITTER_MS},jitterBufferDelay:{transform:this.countPerSecond},jitterBufferEmittedCount:{transform:this.countPerSecond},jitterBufferMs:{transform:this.jitterBufferMs,type:SignalingProtocol_js_1$f.SdkMetric.Type.VIDEO_JITTER_BUFFER_MS},qpSum:{transform:this.countPerSecond,type:SignalingProtocol_js_1$f.SdkMetric.Type.VIDEO_RECEIVED_QP_SUM},frameHeight:{transform:this.identityValue,type:SignalingProtocol_js_1$f.SdkMetric.Type.VIDEO_DECODE_HEIGHT},frameWidth:{transform:this.identityValue,type:SignalingProtocol_js_1$f.SdkMetric.Type.VIDEO_DECODE_WIDTH},totalDecodeTime:{transform:this.averageTimeSpentPerSecondInMilliseconds,type:SignalingProtocol_js_1$f.SdkMetric.Type.VIDEO_DECODE_MS},decoderImplementation:{transform:this.isHardwareImplementation,type:SignalingProtocol_js_1$f.SdkMetric.Type.VIDEO_DECODER_IS_HARDWARE},totalFreezesDuration:{transform:this.averageTimeSpentPerSecondInMilliseconds,type:SignalingProtocol_js_1$f.SdkMetric.Type.VIDEO_FREEZE_DURATION},freezeCount:{transform:this.countPerSecond,type:SignalingProtocol_js_1$f.SdkMetric.Type.VIDEO_FREEZE_COUNT},totalPausesDuration:{transform:this.averageTimeSpentPerSecondInMilliseconds,type:SignalingProtocol_js_1$f.SdkMetric.Type.VIDEO_PAUSE_DURATION},pauseCount:{transform:this.countPerSecond,type:SignalingProtocol_js_1$f.SdkMetric.Type.VIDEO_PAUSE_COUNT},framesDropped:{transform:this.countPerSecond,type:SignalingProtocol_js_1$f.SdkMetric.Type.VIDEO_DROPPED_FPS}},this.streamDimensionMap={encoderImplementation:SignalingProtocol_js_1$f.SdkStreamDimension.Type.VIDEO_ENCODER_NAME,decoderImplementation:SignalingProtocol_js_1$f.SdkStreamDimension.Type.VIDEO_DECODER_NAME},this.observableVideoMetricSpec={videoUpstreamBitrate:{source:"bytesSent",media:ClientMetricReportMediaType_1$3.default.VIDEO,dir:ClientMetricReportDirection_1$3.default.UPSTREAM},videoUpstreamPacketsSent:{source:"packetsSent",media:ClientMetricReportMediaType_1$3.default.VIDEO,dir:ClientMetricReportDirection_1$3.default.UPSTREAM},videoUpstreamPacketLossPercent:{source:"packetsLost",media:ClientMetricReportMediaType_1$3.default.VIDEO,dir:ClientMetricReportDirection_1$3.default.UPSTREAM},videoUpstreamFramesEncodedPerSecond:{source:"framesEncoded",media:ClientMetricReportMediaType_1$3.default.VIDEO,dir:ClientMetricReportDirection_1$3.default.UPSTREAM},videoUpstreamFramesInputPerSecond:{source:"framesPerSecond",media:ClientMetricReportMediaType_1$3.default.VIDEO,dir:ClientMetricReportDirection_1$3.default.UPSTREAM},videoUpstreamFrameHeight:{source:"frameHeight",media:ClientMetricReportMediaType_1$3.default.VIDEO,dir:ClientMetricReportDirection_1$3.default.UPSTREAM},videoUpstreamFrameWidth:{source:"frameWidth",media:ClientMetricReportMediaType_1$3.default.VIDEO,dir:ClientMetricReportDirection_1$3.default.UPSTREAM},videoUpstreamJitterMs:{source:"jitter",media:ClientMetricReportMediaType_1$3.default.VIDEO,dir:ClientMetricReportDirection_1$3.default.UPSTREAM},videoUpstreamRoundTripTimeMs:{source:"roundTripTime",media:ClientMetricReportMediaType_1$3.default.VIDEO,dir:ClientMetricReportDirection_1$3.default.UPSTREAM},videoUpstreamEncoderImplementation:{source:"encoderImplementation",media:ClientMetricReportMediaType_1$3.default.VIDEO,dir:ClientMetricReportDirection_1$3.default.UPSTREAM},videoUpstreamTotalEncodeTimePerSecond:{source:"totalEncodeTime",media:ClientMetricReportMediaType_1$3.default.VIDEO,dir:ClientMetricReportDirection_1$3.default.UPSTREAM},videoUpstreamCpuQualityLimitationDurationPerSecond:{source:"qualityLimitationDurations",media:ClientMetricReportMediaType_1$3.default.VIDEO,dir:ClientMetricReportDirection_1$3.default.UPSTREAM},videoDownstreamBitrate:{source:"bytesReceived",media:ClientMetricReportMediaType_1$3.default.VIDEO,dir:ClientMetricReportDirection_1$3.default.DOWNSTREAM},videoDownstreamPacketLossPercent:{source:"packetsLost",media:ClientMetricReportMediaType_1$3.default.VIDEO,dir:ClientMetricReportDirection_1$3.default.DOWNSTREAM},videoDownstreamPacketsReceived:{source:"packetsReceived",media:ClientMetricReportMediaType_1$3.default.VIDEO,dir:ClientMetricReportDirection_1$3.default.DOWNSTREAM},videoDownstreamFramesDecodedPerSecond:{source:"framesDecoded",media:ClientMetricReportMediaType_1$3.default.VIDEO,dir:ClientMetricReportDirection_1$3.default.DOWNSTREAM},videoDownstreamFrameHeight:{source:"frameHeight",media:ClientMetricReportMediaType_1$3.default.VIDEO,dir:ClientMetricReportDirection_1$3.default.DOWNSTREAM},videoDownstreamFrameWidth:{source:"frameWidth",media:ClientMetricReportMediaType_1$3.default.VIDEO,dir:ClientMetricReportDirection_1$3.default.DOWNSTREAM},videoDownstreamJitterMs:{source:"jitter",media:ClientMetricReportMediaType_1$3.default.VIDEO,dir:ClientMetricReportDirection_1$3.default.DOWNSTREAM},videoDownstreamDelayMs:{source:"jitterBufferMs",media:ClientMetricReportMediaType_1$3.default.VIDEO,dir:ClientMetricReportDirection_1$3.default.DOWNSTREAM}},this.observableMetricSpec={audioPacketsReceived:{source:"packetsReceived",media:ClientMetricReportMediaType_1$3.default.AUDIO,dir:ClientMetricReportDirection_1$3.default.DOWNSTREAM},audioPacketsReceivedFractionLoss:{source:"packetsLost",media:ClientMetricReportMediaType_1$3.default.AUDIO,dir:ClientMetricReportDirection_1$3.default.DOWNSTREAM},audioDecoderLoss:{source:"decoderLoss",media:ClientMetricReportMediaType_1$3.default.AUDIO,dir:ClientMetricReportDirection_1$3.default.DOWNSTREAM},audioPacketsSent:{source:"packetsSent",media:ClientMetricReportMediaType_1$3.default.AUDIO,dir:ClientMetricReportDirection_1$3.default.UPSTREAM},audioPacketLossPercent:{source:"packetsLost",media:ClientMetricReportMediaType_1$3.default.AUDIO,dir:ClientMetricReportDirection_1$3.default.UPSTREAM},audioUpstreamRoundTripTimeMs:{source:"roundTripTime",media:ClientMetricReportMediaType_1$3.default.AUDIO,dir:ClientMetricReportDirection_1$3.default.UPSTREAM},videoUpstreamBitrate:{source:"bytesSent",media:ClientMetricReportMediaType_1$3.default.VIDEO,dir:ClientMetricReportDirection_1$3.default.UPSTREAM},videoPacketSentPerSecond:{source:"packetsSent",media:ClientMetricReportMediaType_1$3.default.VIDEO,dir:ClientMetricReportDirection_1$3.default.UPSTREAM},audioSpeakerDelayMs:{source:"jitterBufferMs",media:ClientMetricReportMediaType_1$3.default.AUDIO,dir:ClientMetricReportDirection_1$3.default.DOWNSTREAM},audioUpstreamJitterMs:{source:"jitter",media:ClientMetricReportMediaType_1$3.default.AUDIO,dir:ClientMetricReportDirection_1$3.default.UPSTREAM},audioDownstreamJitterMs:{source:"jitter",media:ClientMetricReportMediaType_1$3.default.AUDIO,dir:ClientMetricReportDirection_1$3.default.DOWNSTREAM},nackCountReceivedPerSecond:{source:"nackCount",media:ClientMetricReportMediaType_1$3.default.VIDEO,dir:ClientMetricReportDirection_1$3.default.UPSTREAM},availableOutgoingBitrate:{source:"availableOutgoingBitrate"},availableIncomingBitrate:{source:"availableIncomingBitrate"},currentRoundTripTimeMs:{source:"currentRoundTripTime"},audioDownstreamLevel:{source:"audioLevel",media:ClientMetricReportMediaType_1$3.default.AUDIO,dir:ClientMetricReportDirection_1$3.default.DOWNSTREAM},audioUpstreamLevel:{source:"audioLevel"}}}getMetricMap(rs,ns){switch(rs){case ClientMetricReportMediaType_1$3.default.AUDIO:switch(ns){case ClientMetricReportDirection_1$3.default.UPSTREAM:return this.audioUpstreamMetricMap;case ClientMetricReportDirection_1$3.default.DOWNSTREAM:return this.audioDownstreamMetricMap}case ClientMetricReportMediaType_1$3.default.VIDEO:switch(ns){case ClientMetricReportDirection_1$3.default.UPSTREAM:return this.videoUpstreamMetricMap;case ClientMetricReportDirection_1$3.default.DOWNSTREAM:return this.videoDownstreamMetricMap}default:return this.globalMetricMap}}getStreamDimensionMap(){return this.streamDimensionMap}getObservableMetricValue(rs){if(this.overriddenObservableMetrics.has(rs))return this.overriddenObservableMetrics.get(rs);const ns=this.observableMetricSpec[rs],ss=this.getMetricMap(ns.media,ns.dir)[ns.source],{transform:as,source:ls}=ss;if(ns.hasOwnProperty("media"))for(const cs in this.streamMetricReports){const us=this.streamMetricReports[cs];if(us.direction===ns.dir&&us.mediaType===ns.media)return as(ls||ns.source,Number(cs))}else return as(ls||ns.source);return 0}getObservableVideoMetricValue(rs,ns){const os=this.observableVideoMetricSpec[rs],as=this.getMetricMap(os.media,os.dir)[os.source],{transform:ls,source:cs}=as;return ls(cs||os.source,ns)}getVideoUpstreamSsrc(){for(const rs in this.streamMetricReports)if(this.streamMetricReports[rs].mediaType===ClientMetricReportMediaType_1$3.default.VIDEO&&this.streamMetricReports[rs].direction===ClientMetricReportDirection_1$3.default.UPSTREAM)return Number(rs);return null}getObservableMetrics(){const rs={};for(const ns in this.observableMetricSpec)rs[ns]=this.getObservableMetricValue(ns);return rs}getObservableVideoMetrics(){const rs={};if(!this.videoStreamIndex||!this.selfAttendeeId)return this.logger.error("Need to define VideoStreamIndex and selfAttendeeId if using getObservableVideoMetrics API"),rs;for(const ns in this.streamMetricReports)if(this.streamMetricReports[ns].mediaType===ClientMetricReportMediaType_1$3.default.VIDEO){const os={};for(const cs in this.observableVideoMetricSpec)if(this.observableVideoMetricSpec[cs].dir===this.streamMetricReports[ns].direction){const us=this.getObservableVideoMetricValue(cs,Number(ns));isNaN(us)||(os[cs]=us)}const ss=this.streamMetricReports[ns].groupId,as=this.streamMetricReports[ns].streamId;let ls="";this.videoStreamIndex.attendeeIdForGroupId!==void 0?ls=ss?this.videoStreamIndex.attendeeIdForGroupId(ss):this.selfAttendeeId:ls=as?this.videoStreamIndex.attendeeIdForStreamId(as):this.selfAttendeeId,rs[ls]=rs[ls]?rs[ls]:{},rs[ls][ns]=os}return rs}getRTCStatsReport(){return this.rtcStatsReport}clone(){const rs=new ClientMetricReport(this.logger,this.videoStreamIndex,this.selfAttendeeId);return rs.globalMetricReport=this.globalMetricReport,rs.streamMetricReports=this.streamMetricReports,rs.rtcStatsReport=this.rtcStatsReport,rs.customStatsReports=this.customStatsReports,rs.currentTimestampMs=this.currentTimestampMs,rs.previousTimestampMs=this.previousTimestampMs,rs.overriddenObservableMetrics=this.overriddenObservableMetrics,rs}print(){const rs={globalMetricReport:this.globalMetricReport,streamMetricReports:this.streamMetricReports,currentTimestampMs:this.currentTimestampMs,previousTimestampMs:this.previousTimestampMs};this.logger.debug(()=>"Client Metric Report: ".concat(JSON.stringify(rs)))}removeDestroyedSsrcs(){for(const rs in this.streamMetricReports)this.currentSsrcs[rs]||delete this.streamMetricReports[rs]}overrideObservableMetric(rs,ns){this.overriddenObservableMetrics.set(rs,ns)}}ClientMetricReport$1.default=ClientMetricReport;var ClientVideoStreamReceivingReport$1={};Object.defineProperty(ClientVideoStreamReceivingReport$1,"__esModule",{value:!0});class ClientVideoStreamReceivingReport{}ClientVideoStreamReceivingReport$1.default=ClientVideoStreamReceivingReport;var ConnectionHealthData$1={};Object.defineProperty(ConnectionHealthData$1,"__esModule",{value:!0});class ConnectionHealthData{constructor(){this.connectionStartTimestampMs=0,this.consecutiveStatsWithNoPackets=0,this.consecutiveStatsWithNoAudioPacketsSent=0,this.lastPacketLossInboundTimestampMs=0,this.lastGoodSignalTimestampMs=0,this.lastWeakSignalTimestampMs=0,this.lastNoSignalTimestampMs=0,this.consecutiveMissedPongs=0,this.packetsReceivedInLastMinute=[],this.fractionPacketsLostInboundInLastMinute=[],this.audioSpeakerDelayMs=0,this.isVideoEncoderHardware=!1,this.videoEncodingTimeInMs=0,this.cpuLimitationDuration=0,this.videoInputFps=0,this.videoEncodeFps=0,this.connectionStartTimestampMs=Date.now(),this.lastGoodSignalTimestampMs=Date.now()}static isTimestampRecent(rs,ns){return Date.now()<rs+ns}setConnectionStartTime(){this.connectionStartTimestampMs=Date.now(),this.lastGoodSignalTimestampMs=Date.now()}reset(){this.connectionStartTimestampMs=0,this.consecutiveStatsWithNoPackets=0,this.consecutiveStatsWithNoAudioPacketsSent=0,this.lastPacketLossInboundTimestampMs=0,this.lastGoodSignalTimestampMs=0,this.lastWeakSignalTimestampMs=0,this.lastNoSignalTimestampMs=0,this.consecutiveMissedPongs=0,this.packetsReceivedInLastMinute=[],this.fractionPacketsLostInboundInLastMinute=[],this.audioSpeakerDelayMs=0,this.connectionStartTimestampMs=Date.now(),this.lastGoodSignalTimestampMs=Date.now(),this.isVideoEncoderHardware=!1,this.videoEncodingTimeInMs=0,this.cpuLimitationDuration=0,this.videoInputFps=0,this.videoEncodeFps=0}isConnectionStartRecent(rs){return ConnectionHealthData.isTimestampRecent(this.connectionStartTimestampMs,rs)}isLastPacketLossRecent(rs){return ConnectionHealthData.isTimestampRecent(this.lastPacketLossInboundTimestampMs,rs)}isGoodSignalRecent(rs){return ConnectionHealthData.isTimestampRecent(this.lastGoodSignalTimestampMs,rs)}isWeakSignalRecent(rs){return ConnectionHealthData.isTimestampRecent(this.lastWeakSignalTimestampMs,rs)}isNoSignalRecent(rs){return ConnectionHealthData.isTimestampRecent(this.lastNoSignalTimestampMs,rs)}clone(){const rs=new ConnectionHealthData;return rs.connectionStartTimestampMs=this.connectionStartTimestampMs,rs.consecutiveStatsWithNoPackets=this.consecutiveStatsWithNoPackets,rs.consecutiveStatsWithNoAudioPacketsSent=this.consecutiveStatsWithNoAudioPacketsSent,rs.lastPacketLossInboundTimestampMs=this.lastPacketLossInboundTimestampMs,rs.lastGoodSignalTimestampMs=this.lastGoodSignalTimestampMs,rs.lastWeakSignalTimestampMs=this.lastWeakSignalTimestampMs,rs.lastNoSignalTimestampMs=this.lastNoSignalTimestampMs,rs.consecutiveMissedPongs=this.consecutiveMissedPongs,rs.packetsReceivedInLastMinute=this.packetsReceivedInLastMinute.slice(0),rs.fractionPacketsLostInboundInLastMinute=this.fractionPacketsLostInboundInLastMinute.slice(0),rs.audioSpeakerDelayMs=this.audioSpeakerDelayMs,rs.isVideoEncoderHardware=this.isVideoEncoderHardware,rs.videoEncodingTimeInMs=this.videoEncodingTimeInMs,rs.cpuLimitationDuration=this.cpuLimitationDuration,rs.videoInputFps=this.videoInputFps,rs.videoEncodeFps=this.videoEncodeFps,rs}setConsecutiveMissedPongs(rs){this.consecutiveMissedPongs=rs}setConsecutiveStatsWithNoPackets(rs){this.consecutiveStatsWithNoPackets=rs}setConsecutiveStatsWithNoAudioPacketsSent(rs){this.consecutiveStatsWithNoAudioPacketsSent=rs}setLastPacketLossInboundTimestampMs(rs){this.lastPacketLossInboundTimestampMs=rs}setLastNoSignalTimestampMs(rs){this.lastNoSignalTimestampMs=rs}setLastWeakSignalTimestampMs(rs){this.lastWeakSignalTimestampMs=rs}setLastGoodSignalTimestampMs(rs){this.lastGoodSignalTimestampMs=rs}setAudioSpeakerDelayMs(rs){this.audioSpeakerDelayMs=rs}setIsVideoEncoderHardware(rs){this.isVideoEncoderHardware=rs}setVideoEncodingTimeInMs(rs){this.videoEncodingTimeInMs=rs}setCpuLimitationDuration(rs){this.cpuLimitationDuration=rs}setVideoInputFps(rs){this.videoInputFps=rs}setVideoEncodeFps(rs){this.videoEncodeFps=rs}}ConnectionHealthData$1.default=ConnectionHealthData;var ConnectionHealthPolicyConfiguration$1={},VideoEncodingCpuConnectionHealthPolicy$1={},VideoEncodingConnectionHealthPolicyName={};(function(ts){Object.defineProperty(ts,"__esModule",{value:!0}),ts.VideoEncodingConnectionHealthPolicyName=void 0;var rs;(function(ns){ns.VideoEncodingCpuHealth="Video Encoding CPU Health",ns.VideoEncodingFramerateHealth="Video Encoding framerate Health"})(rs=ts.VideoEncodingConnectionHealthPolicyName||(ts.VideoEncodingConnectionHealthPolicyName={})),ts.default=rs})(VideoEncodingConnectionHealthPolicyName);var __importDefault$1t=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(VideoEncodingCpuConnectionHealthPolicy$1,"__esModule",{value:!0});const BaseConnectionHealthPolicy_1$4=__importDefault$1t(BaseConnectionHealthPolicy$1),VideoEncodingConnectionHealthPolicyName_1$2=__importDefault$1t(VideoEncodingConnectionHealthPolicyName);class VideoEncodingCpuConnectionHealthPolicy extends BaseConnectionHealthPolicy_1$4.default{constructor(rs,ns){super(rs,ns,VideoEncodingConnectionHealthPolicyName_1$2.default.VideoEncodingCpuHealth),this.consecutiveHighEncodeCpuCnt=0,this.consecutiveHighEncodeCpuThreshold=rs.consecutiveHighEncodeCpuThreshold,this.highEncodeCpuMsThreshold=rs.highEncodeCpuMsThreshold}health(){if(!this.currentData.isVideoEncoderHardware&&(this.currentData.videoEncodingTimeInMs>=this.highEncodeCpuMsThreshold||this.currentData.cpuLimitationDuration>0)){if(this.consecutiveHighEncodeCpuCnt++,this.consecutiveHighEncodeCpuCnt>this.consecutiveHighEncodeCpuThreshold)return this.consecutiveHighEncodeCpuCnt=0,this.minimumHealth()}else this.consecutiveHighEncodeCpuCnt=0;return this.maximumHealth()}}VideoEncodingCpuConnectionHealthPolicy$1.default=VideoEncodingCpuConnectionHealthPolicy;var VideoEncodingFramerateConnectionHealthPolicy$1={},__importDefault$1s=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(VideoEncodingFramerateConnectionHealthPolicy$1,"__esModule",{value:!0});const BaseConnectionHealthPolicy_1$3=__importDefault$1s(BaseConnectionHealthPolicy$1),VideoEncodingConnectionHealthPolicyName_1$1=__importDefault$1s(VideoEncodingConnectionHealthPolicyName);class VideoEncodingFramerateConnectionHealthPolicy extends BaseConnectionHealthPolicy_1$3.default{constructor(rs,ns){super(rs,ns,VideoEncodingConnectionHealthPolicyName_1$1.default.VideoEncodingFramerateHealth),this.consecutiveEncodeFailureCnt=0,this.consecutiveVideoEncodingFailureThreshold=rs.consecutiveVideoEncodingFailureThreshold}health(){if(this.currentData.videoEncodeFps===0&&this.currentData.videoInputFps>0){if(this.consecutiveEncodeFailureCnt++,this.consecutiveEncodeFailureCnt>this.consecutiveVideoEncodingFailureThreshold)return this.consecutiveEncodeFailureCnt=0,this.minimumHealth()}else this.consecutiveEncodeFailureCnt=0;return this.maximumHealth()}}VideoEncodingFramerateConnectionHealthPolicy$1.default=VideoEncodingFramerateConnectionHealthPolicy;var __importDefault$1r=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(ConnectionHealthPolicyConfiguration$1,"__esModule",{value:!0});const VideoEncodingCpuConnectionHealthPolicy_1=__importDefault$1r(VideoEncodingCpuConnectionHealthPolicy$1),VideoEncodingFramerateConnectionHealthPolicy_1=__importDefault$1r(VideoEncodingFramerateConnectionHealthPolicy$1);class ConnectionHealthPolicyConfiguration{constructor(){this.minHealth=0,this.maxHealth=1,this.initialHealth=1,this.connectionUnhealthyThreshold=25,this.noSignalThresholdTimeMs=1e4,this.connectionWaitTimeMs=1e4,this.zeroBarsNoSignalTimeMs=5e3,this.oneBarWeakSignalTimeMs=5e3,this.twoBarsTimeMs=5e3,this.threeBarsTimeMs=1e4,this.fourBarsTimeMs=2e4,this.fiveBarsTimeMs=6e4,this.cooldownTimeMs=6e4,this.pastSamplesToConsider=15,this.goodSignalTimeMs=15e3,this.fractionalLoss=.5,this.packetsExpected=50,this.maximumTimesToWarn=2,this.missedPongsLowerThreshold=1,this.missedPongsUpperThreshold=4,this.maximumAudioDelayMs=6e4,this.maximumAudioDelayDataPoints=10,this.sendingAudioFailureSamplesToConsider=2,this.sendingAudioFailureInitialWaitTimeMs=3e3,this.videoEncodingHealthPolicies=[VideoEncodingCpuConnectionHealthPolicy_1.default,VideoEncodingFramerateConnectionHealthPolicy_1.default],this.consecutiveHighEncodeCpuThreshold=10,this.highEncodeCpuMsThreshold=500,this.consecutiveVideoEncodingFailureThreshold=5}}ConnectionHealthPolicyConfiguration$1.default=ConnectionHealthPolicyConfiguration;var ContentShareConstants$1={};Object.defineProperty(ContentShareConstants$1,"__esModule",{value:!0});var ContentShareConstants;(function(ts){ts.Modality="#content"})(ContentShareConstants||(ContentShareConstants={}));ContentShareConstants$1.default=ContentShareConstants;var ContentShareMediaStreamBroker$1={},DefaultDeviceController$1={},DefaultMediaDeviceFactory$1={},MediaDeviceProxyHandler$1={},IntervalScheduler$1={};Object.defineProperty(IntervalScheduler$1,"__esModule",{value:!0});class IntervalScheduler{constructor(rs){this.intervalMs=rs}start(rs){this.stop(),this.timer=setInterval(rs,this.intervalMs)}stop(){this.timer!==void 0&&(clearInterval(this.timer),this.timer=void 0)}running(){return this.timer!==void 0}}IntervalScheduler$1.default=IntervalScheduler;var __awaiter$V=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,rs,ns,os){function ss(as){return as instanceof ns?as:new ns(function(ls){ls(as)})}return new(ns||(ns=Promise))(function(as,ls){function cs(ps){try{ds(os.next(ps))}catch(fs){ls(fs)}}function us(ps){try{ds(os.throw(ps))}catch(fs){ls(fs)}}function ds(ps){ps.done?as(ps.value):ss(ps.value).then(cs,us)}ds((os=os.apply(ts,rs||[])).next())})},__importDefault$1q=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(MediaDeviceProxyHandler$1,"__esModule",{value:!0});const AsyncScheduler_1$7=__importDefault$1q(AsyncScheduler$1),IntervalScheduler_1$5=__importDefault$1q(IntervalScheduler$1);class MediaDeviceProxyHandler{constructor(){this.scheduler=null,this.devices=null,this.deviceChangeListeners=new Set,this.get=(rs,ns,os)=>{if(!Reflect.has(rs,ns))return;if(!("ondevicechange"in navigator.mediaDevices)){if(ns==="addEventListener")return this.patchAddEventListener(rs,ns,os);if(ns==="removeEventListener")return this.patchRemoveEventListener(rs,ns,os)}const ss=Reflect.get(rs,ns,os);return typeof ss=="function"?ss.bind(rs):ss},this.patchAddEventListener=(rs,ns,os)=>{const ss=Reflect.get(rs,ns,os);return(as,ls,cs)=>{if(as==="devicechange")this.deviceChangeListeners.add(ls),this.scheduler||(this.scheduler=new IntervalScheduler_1$5.default(MediaDeviceProxyHandler.INTERVAL_MS),this.scheduler.start(this.pollDeviceLists));else return Reflect.apply(ss,rs,[as,ls,cs])}},this.patchRemoveEventListener=(rs,ns,os)=>{const ss=Reflect.get(rs,ns,os);return(as,ls,cs)=>{if(as==="devicechange")this.deviceChangeListeners.delete(ls),this.deviceChangeListeners.size===0&&this.scheduler&&(this.scheduler.stop(),this.scheduler=null);else return Reflect.apply(ss,rs,[as,ls,cs])}},this.pollDeviceLists=()=>__awaiter$V(this,void 0,void 0,function*(){const rs=yield this.sortedDeviceList();this.devices&&(rs.length!==this.devices.length||rs.some((os,ss)=>os.deviceId!==this.devices[ss].deviceId))&&this.handleDeviceChangeEvent(),this.devices=rs})}sortedDeviceList(){return __awaiter$V(this,void 0,void 0,function*(){return(yield navigator.mediaDevices.enumerateDevices()).sort((ns,os)=>ns.deviceId<os.deviceId?1:ns.deviceId>os.deviceId?-1:0)})}handleDeviceChangeEvent(){for(const rs of this.deviceChangeListeners)AsyncScheduler_1$7.default.nextTick(()=>{if(this.deviceChangeListeners.has(rs)){const ns=new Event("devicechange");typeof rs=="function"?rs(ns):rs.handleEvent(ns)}})}}MediaDeviceProxyHandler$1.default=MediaDeviceProxyHandler;MediaDeviceProxyHandler.INTERVAL_MS=1e3;var __importDefault$1p=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(DefaultMediaDeviceFactory$1,"__esModule",{value:!0});const MediaDeviceProxyHandler_1=__importDefault$1p(MediaDeviceProxyHandler$1);class DefaultMediaDeviceFactory{constructor(){this.isMediaDevicesSupported=typeof navigator<"u"&&!!navigator.mediaDevices}create(){if(this.isMediaDevicesSupported)return new Proxy(navigator.mediaDevices,new MediaDeviceProxyHandler_1.default);throw new Error("navigator.mediaDevices is not supported")}}DefaultMediaDeviceFactory$1.default=DefaultMediaDeviceFactory;var PromiseQueue$1={};Object.defineProperty(PromiseQueue$1,"__esModule",{value:!0});class PromiseQueue{constructor(){this.queue=Promise.resolve()}add(rs){return new Promise((ns,os)=>{this.queue=this.queue.then(rs).then(ns).catch(os)})}}PromiseQueue$1.default=PromiseQueue;var Types={};Object.defineProperty(Types,"__esModule",{value:!0});Types.None=Types.Some=Types.Maybe=void 0;class Maybe{static of(rs){return rs==null?None.of():Some.of(rs)}}Types.Maybe=Maybe;class Some{constructor(rs){this.value=rs,this.isSome=!0,this.isNone=!1}map(rs){return Maybe.of(rs(this.value))}flatMap(rs){return rs(this.value)}get(){return this.value}getOrElse(rs){return this.value}defaulting(rs){return Maybe.of(this.getOrElse(rs))}static of(rs){if(rs==null)throw new Error("value is ${value}");return new Some(rs)}}Types.Some=Some;class None{constructor(){this.isSome=!1,this.isNone=!0}get(){throw new Error("value is null")}getOrElse(rs){return rs}map(rs){return new None}flatMap(rs){return new None}defaulting(rs){return Maybe.of(this.getOrElse(rs))}static of(){return new None}}Types.None=None;var DefaultVideoTransformDevice$1={},DefaultVideoFrameProcessorPipeline$1={},DefaultVideoFrameProcessorTimer$1={},__awaiter$U=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,rs,ns,os){function ss(as){return as instanceof ns?as:new ns(function(ls){ls(as)})}return new(ns||(ns=Promise))(function(as,ls){function cs(ps){try{ds(os.next(ps))}catch(fs){ls(fs)}}function us(ps){try{ds(os.throw(ps))}catch(fs){ls(fs)}}function ds(ps){ps.done?as(ps.value):ss(ps.value).then(cs,us)}ds((os=os.apply(ts,rs||[])).next())})};Object.defineProperty(DefaultVideoFrameProcessorTimer$1,"__esModule",{value:!0});class DefaultVideoFrameProcessorTimer{constructor(){this.workerTimer=void 0,this.callback=void 0,this.workerTimer=this.createWorkerTimer()}createWorkerTimer(){try{const rs=new Blob(["self.onmessage = async function(e){ \n            var timerID = null;\n            const awaitTimeout = delay => new Promise( resolve => {\n              timerID = setTimeout(resolve, delay);\n            })\n            await awaitTimeout(e.data);\n            postMessage(timerID);\n          }"],{type:"application/javascript"});return new Worker(window.URL.createObjectURL(rs))}catch{}}start(rs,ns){return __awaiter$U(this,void 0,void 0,function*(){this.callback=ns,this.workerTimer?(this.workerTimer.onmessage=os=>{this.lastTimeout=os.data,this.callback()},this.workerTimer.postMessage(rs)):this.lastTimeout=setTimeout(()=>{this.callback()},rs)})}destroy(){return __awaiter$U(this,void 0,void 0,function*(){this.callback=void 0,this.lastTimeout&&(clearTimeout(this.lastTimeout),this.lastTimeout=void 0),this.workerTimer&&(this.workerTimer.terminate(),this.workerTimer=void 0)})}}DefaultVideoFrameProcessorTimer$1.default=DefaultVideoFrameProcessorTimer;var __awaiter$T=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,rs,ns,os){function ss(as){return as instanceof ns?as:new ns(function(ls){ls(as)})}return new(ns||(ns=Promise))(function(as,ls){function cs(ps){try{ds(os.next(ps))}catch(fs){ls(fs)}}function us(ps){try{ds(os.throw(ps))}catch(fs){ls(fs)}}function ds(ps){ps.done?as(ps.value):ss(ps.value).then(cs,us)}ds((os=os.apply(ts,rs||[])).next())})},__importDefault$1o=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(DefaultVideoFrameProcessorPipeline$1,"__esModule",{value:!0});const CanvasVideoFrameBuffer_1$1=__importDefault$1o(CanvasVideoFrameBuffer$1),DefaultVideoFrameProcessorTimer_1=__importDefault$1o(DefaultVideoFrameProcessorTimer$1),DEFAULT_FRAMERATE=15;class DefaultVideoFrameProcessorPipeline{constructor(rs,ns,os=new DefaultVideoFrameProcessorTimer_1.default){this.logger=rs,this.stages=ns,this.fr=DEFAULT_FRAMERATE,this.outputMediaStream=new MediaStream,this.videoInput=document.createElement("video"),this.canvasOutput=document.createElement("canvas"),this.outputCtx=this.canvasOutput.getContext("2d"),this.canvasInput=document.createElement("canvas"),this.inputCtx=this.canvasInput.getContext("2d"),this.inputVideoStream=null,this.sourceBuffers=[],this.destBuffers=[],this.observers=new Set,this.hasStarted=!1,this.process=ss=>__awaiter$T(this,void 0,void 0,function*(){if(!this.inputVideoStream)return;const as=performance.now();this.videoInput.videoWidth&&(this.canvasInput.width!==this.videoInput.videoWidth&&(this.canvasInput.width=this.videoInput.videoWidth,this.canvasInput.height=this.videoInput.videoHeight,this.sourceBuffers[0].height=this.canvasInput.height,this.sourceBuffers[0].width=this.canvasInput.width,this.sourceBuffers[0].framerate=this.framerate),this.inputCtx.drawImage(this.videoInput,0,0));let ls=[];ls.push(this.sourceBuffers[0]);try{for(const ms of this.processors)ls=yield ms.process(ls)}catch{this.forEachObserver(gs=>{gs.processingDidFailToStart&&gs.processingDidFailToStart()});return}this.destBuffers=ls;let cs;try{cs=yield this.destBuffers[0].asCanvasImageSource()}catch{this.inputVideoStream&&(this.logger.info("buffers are destroyed and pipeline could not start"),this.forEachObserver(gs=>{gs.processingDidFailToStart&&gs.processingDidFailToStart()}));return}const us=cs.width,ds=cs.height;us!==0&&ds!==0&&(this.canvasOutput.width!==us&&this.canvasOutput.height!==ds&&(this.canvasOutput.width=us,this.canvasOutput.height=ds),this.outputCtx.drawImage(cs,0,0,us,ds,0,0,us,ds),this.hasStarted||(this.hasStarted=!0,this.forEachObserver(ms=>{ms.processingDidStart&&ms.processingDidStart()})));const ps=performance.now()-as,fs=1e3*2/this.framerate-ps,hs=Math.max(0,1e3/this.framerate-ps);fs<=0&&this.forEachObserver(ms=>{ms.processingLatencyTooHigh&&ms.processingLatencyTooHigh(ps)}),yield this.timer.start(hs,this.process.bind(this))}),this.timer=os}destroy(){if(this.stop(),this.stages)for(const rs of this.stages)rs.destroy();this.timer.destroy()}get framerate(){return this.fr}set framerate(rs){this.fr=rs<0?DEFAULT_FRAMERATE:rs}stop(){if(this.videoInput.removeEventListener("loadedmetadata",this.process),this.videoInput.srcObject=null,this.destroyInputMediaStreamAndBuffers(),this.outputMediaStream)for(const rs of this.outputMediaStream.getVideoTracks())rs.stop();this.hasStarted&&(this.hasStarted=!1,this.forEachObserver(rs=>{rs.processingDidStop&&rs.processingDidStop()}))}addObserver(rs){this.observers.add(rs)}removeObserver(rs){this.observers.delete(rs)}getInputMediaStream(){return __awaiter$T(this,void 0,void 0,function*(){return this.inputVideoStream})}getActiveOutputMediaStream(){return this.isOutputMediaStreamActive()?this.outputMediaStream:(this.outputMediaStream=this.canvasOutput.captureStream(this.framerate),this.cloneInputAudioTracksToOutput(),this.outputMediaStream)}setInputMediaStream(rs){return __awaiter$T(this,void 0,void 0,function*(){if(!rs){this.stop();return}if(rs.getVideoTracks().length===0){this.logger.error("No video tracks in input media stream, ignoring");return}this.inputVideoStream=rs;const ns=this.inputVideoStream.getVideoTracks()[0].getSettings();this.logger.info("processing pipeline input stream settings ".concat(JSON.stringify(ns))),this.canvasOutput.width=ns.width,this.canvasOutput.height=ns.height,this.videoInput.addEventListener("loadedmetadata",this.process),this.videoInput.srcObject=this.inputVideoStream,this.videoInput.setAttribute("playsinline","true");const os=new CanvasVideoFrameBuffer_1$1.default(this.canvasInput);this.sourceBuffers.push(os),this.videoInput.load();try{yield this.videoInput.play()}catch{this.logger.warn("Video element play() overrided by another load().")}this.cloneInputAudioTracksToOutput()})}cloneInputAudioTracksToOutput(){if(!this.isOutputMediaStreamActive()||this.inputVideoStream===null){this.logger.info("Not cloning input audio tracks to output, do not have media streams ready");return}for(const rs of this.outputMediaStream.getAudioTracks())this.logger.info("Removing audio track ".concat(rs.id," from output stream")),this.outputMediaStream.removeTrack(rs);for(const rs of this.inputVideoStream.getAudioTracks())this.logger.info("Adding audio track ".concat(rs.id," to output stream")),this.outputMediaStream.addTrack(rs)}isOutputMediaStreamActive(){return this.outputMediaStream&&this.outputMediaStream.active}set processors(rs){this.stages=rs}get processors(){return this.stages}forEachObserver(rs){for(const ns of this.observers)setTimeout(()=>{rs(ns)},0)}destroyInputMediaStreamAndBuffers(){if(this.inputVideoStream)for(const rs of this.inputVideoStream.getTracks())rs.stop();this.inputVideoStream=null;for(const rs of this.sourceBuffers)rs.destroy();this.sourceBuffers=[]}}DefaultVideoFrameProcessorPipeline$1.default=DefaultVideoFrameProcessorPipeline;var __awaiter$S=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,rs,ns,os){function ss(as){return as instanceof ns?as:new ns(function(ls){ls(as)})}return new(ns||(ns=Promise))(function(as,ls){function cs(ps){try{ds(os.next(ps))}catch(fs){ls(fs)}}function us(ps){try{ds(os.throw(ps))}catch(fs){ls(fs)}}function ds(ps){ps.done?as(ps.value):ss(ps.value).then(cs,us)}ds((os=os.apply(ts,rs||[])).next())})},__importDefault$1n=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(DefaultVideoTransformDevice$1,"__esModule",{value:!0});const DefaultBrowserBehavior_1$9=__importDefault$1n(DefaultBrowserBehavior$1),DefaultVideoFrameProcessorPipeline_1=__importDefault$1n(DefaultVideoFrameProcessorPipeline$1);class DefaultVideoTransformDevice{constructor(rs,ns,os,ss=new DefaultBrowserBehavior_1$9.default){this.logger=rs,this.device=ns,this.processors=os,this.browserBehavior=ss,this.observers=new Set,this.pipe=new DefaultVideoFrameProcessorPipeline_1.default(this.logger,this.processors),this.pipe.addObserver(this)}get outputMediaStream(){return this.pipe.outputMediaStream}passEventControllerToProcessors(rs){if(this.pipe.processors)for(const ns of this.pipe.processors)typeof ns.setEventController=="function"&&ns.setEventController(rs)}chooseNewInnerDevice(rs){const ns=new DefaultVideoTransformDevice(this.logger,rs,this.processors,this.browserBehavior);return ns.pipe=this.pipe,ns}getInnerDevice(){return this.device}intrinsicDevice(){return __awaiter$S(this,void 0,void 0,function*(){return this.device})}transformStream(rs){return __awaiter$S(this,void 0,void 0,function*(){return yield this.pipe.setInputMediaStream(rs),this.inputMediaStream=rs,this.pipe.getActiveOutputMediaStream()})}onOutputStreamDisconnect(){this.logger.info("DefaultVideoTransformDevice: detach stopping input media stream");const rs=this.device&&this.device.id;if(this.pipe.stop(),!rs&&this.inputMediaStream)for(const ns of this.inputMediaStream.getVideoTracks())ns.stop()}stop(){return __awaiter$S(this,void 0,void 0,function*(){if(this.inputMediaStream)for(const rs of this.inputMediaStream.getVideoTracks())rs.stop();this.pipe.destroy(),this.inputMediaStream=null})}addObserver(rs){this.observers.add(rs)}removeObserver(rs){this.observers.delete(rs)}processingDidStart(){this.logger.info("video transform device processing started"),this.forEachObserver(rs=>{rs.processingDidStart&&rs.processingDidStart()})}processingLatencyTooHigh(rs){this.forEachObserver(ns=>{ns.processingLatencyTooHigh&&ns.processingLatencyTooHigh(rs)})}processingDidFailToStart(){this.logger.info("video transform device processing failed to start"),this.forEachObserver(rs=>{rs.processingDidFailToStart&&rs.processingDidFailToStart()})}processingDidStop(){this.logger.info("video transform device processing stopped"),this.forEachObserver(rs=>{rs.processingDidStop&&rs.processingDidStop()})}forEachObserver(rs){for(const ns of this.observers)setTimeout(()=>{rs(ns)},0)}}DefaultVideoTransformDevice$1.default=DefaultVideoTransformDevice;var DefaultVideoTile$1={},DefaultModality$1={},__importDefault$1m=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(DefaultModality$1,"__esModule",{value:!0});const ContentShareConstants_1$3=__importDefault$1m(ContentShareConstants$1);class DefaultModality{constructor(rs){this._id=rs}id(){return this._id}base(){return this._id?this._id.split(DefaultModality.MODALITY_SEPARATOR)[0]:""}modality(){if(!this._id)return"";const rs=this._id.split(DefaultModality.MODALITY_SEPARATOR);return rs.length===2?rs[1]:""}hasModality(rs){return rs!==""&&this.modality()===rs}withModality(rs){const ns=new DefaultModality(this.base()+DefaultModality.MODALITY_SEPARATOR+rs);return rs===""||this.base()===""||new DefaultModality(ns._id).modality()!==rs?new DefaultModality(this.base()):ns}}DefaultModality$1.default=DefaultModality;DefaultModality.MODALITY_SEPARATOR=ContentShareConstants_1$3.default.Modality[0];DefaultModality.MODALITY_CONTENT=ContentShareConstants_1$3.default.Modality.substr(1);var VideoTileState$1={};Object.defineProperty(VideoTileState$1,"__esModule",{value:!0});class VideoTileState{constructor(){this.tileId=null,this.localTile=!1,this.localTileStarted=!1,this.isContent=!1,this.active=!1,this.paused=!1,this.poorConnection=!1,this.boundAttendeeId=null,this.boundExternalUserId=null,this.boundVideoStream=null,this.boundVideoElement=null,this.nameplate=null,this.videoStreamContentWidth=null,this.videoStreamContentHeight=null,this.videoElementCSSWidthPixels=null,this.videoElementCSSHeightPixels=null,this.devicePixelRatio=0,this.videoElementPhysicalWidthPixels=null,this.videoElementPhysicalHeightPixels=null,this.streamId=null,this.groupId=null}clone(){const rs=new VideoTileState;return rs.tileId=this.tileId,rs.localTile=this.localTile,rs.isContent=this.isContent,rs.active=this.active,rs.paused=this.paused,rs.poorConnection=this.poorConnection,rs.boundAttendeeId=this.boundAttendeeId,rs.boundExternalUserId=this.boundExternalUserId,rs.boundVideoStream=this.boundVideoStream,rs.boundVideoElement=this.boundVideoElement,rs.nameplate=this.nameplate,rs.videoStreamContentWidth=this.videoStreamContentWidth,rs.videoStreamContentHeight=this.videoStreamContentHeight,rs.videoElementCSSWidthPixels=this.videoElementCSSWidthPixels,rs.videoElementCSSHeightPixels=this.videoElementCSSHeightPixels,rs.devicePixelRatio=this.devicePixelRatio,rs.videoElementPhysicalWidthPixels=this.videoElementPhysicalWidthPixels,rs.videoElementPhysicalHeightPixels=this.videoElementPhysicalHeightPixels,rs.streamId=this.streamId,rs.groupId=this.groupId,rs}}VideoTileState$1.default=VideoTileState;var __importDefault$1l=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(DefaultVideoTile$1,"__esModule",{value:!0});const DefaultBrowserBehavior_1$8=__importDefault$1l(DefaultBrowserBehavior$1),DefaultModality_1$5=__importDefault$1l(DefaultModality$1),VideoTileState_1=__importDefault$1l(VideoTileState$1);class DefaultVideoTile{constructor(rs,ns,os,ss){this.tileController=os,this.devicePixelRatioMonitor=ss,this.tileState=new VideoTileState_1.default,this.tileState.tileId=rs,this.tileState.localTile=ns,this.devicePixelRatioMonitor.registerObserver(this)}static connectVideoStreamToVideoElement(rs,ns,os){const ss=os&&rs.getVideoTracks()[0].getSettings().facingMode!=="environment"?"rotateY(180deg)":"";if(DefaultVideoTile.setVideoElementFlag(ns,"disablePictureInPicture",os),DefaultVideoTile.setVideoElementFlag(ns,"disableRemotePlayback",os),ns.style.transform!==ss&&(ns.style.transform=ss),ns.hasAttribute("controls")&&ns.removeAttribute("controls"),ns.hasAttribute("autoplay")||ns.setAttribute("autoplay","true"),ns.hasAttribute("playsinline")||ns.setAttribute("playsinline","true"),ns.hasAttribute("muted")||(ns.setAttribute("muted","true"),ns.muted=!0),ns.srcObject!==rs&&(ns.srcObject=rs,new DefaultBrowserBehavior_1$8.default().requiresVideoPlayWorkaround()&&ns.paused)){const as=ns.play();as!==void 0&&as.catch(ls=>{console.warn("Error playing video in Safari",ls)}).then(()=>{console.debug("Video played successfully in Safari")})}}static disconnectVideoStreamFromVideoElement(rs,ns,os=!1){if(rs)if(ns)os||(rs.srcObject=null,rs.style.transform="");else{if(!rs.srcObject)return;rs.pause(),rs.style.transform="",DefaultVideoTile.setVideoElementFlag(rs,"disablePictureInPicture",!1),DefaultVideoTile.setVideoElementFlag(rs,"disableRemotePlayback",!1),rs.srcObject=null}}destroy(){this.devicePixelRatioMonitor.removeObserver(this),this.tileState.boundVideoElement&&this.tileState.boundVideoElement.srcObject===this.tileState.boundVideoStream&&DefaultVideoTile.disconnectVideoStreamFromVideoElement(this.tileState.boundVideoElement,!1),this.tileState=new VideoTileState_1.default}devicePixelRatioChanged(rs){this.tileState.devicePixelRatio=rs,this.sendTileStateUpdate()}id(){return this.tileState.tileId}state(){return this.tileState.clone()}stateRef(){return this.tileState}bindVideoStream(rs,ns,os,ss,as,ls,cs,us){let ds=!1;this.tileState.boundAttendeeId!==rs&&(this.tileState.boundAttendeeId=rs,new DefaultModality_1$5.default(rs).hasModality(DefaultModality_1$5.default.MODALITY_CONTENT)&&(this.tileState.isContent=!0),ds=!0),this.tileState.boundExternalUserId!==cs&&(this.tileState.boundExternalUserId=cs,ds=!0),this.tileState.localTile!==ns&&(this.tileState.localTile=ns,ds=!0),this.tileState.boundVideoStream!==os&&(this.tileState.boundVideoStream=os,ds=!0),this.tileState.videoStreamContentWidth!==ss&&(this.tileState.videoStreamContentWidth=ss,ds=!0),this.tileState.videoStreamContentHeight!==as&&(this.tileState.videoStreamContentHeight=as,ds=!0),this.tileState.streamId!==ls&&(this.tileState.streamId=ls,ds=!0),this.tileState.groupId!==us&&(this.tileState.groupId=us,ds=!0),ds&&this.sendTileStateUpdate()}bindVideoElement(rs){let ns=!1;this.tileState.boundVideoElement!==rs&&(this.tileState.boundVideoElement=rs,ns=!0),this.tileState.boundVideoElement!==null?(this.tileState.videoElementCSSWidthPixels!==rs.clientWidth&&(this.tileState.videoElementCSSWidthPixels=rs.clientWidth,ns=!0),this.tileState.videoElementCSSHeightPixels!==rs.clientHeight&&(this.tileState.videoElementCSSHeightPixels=rs.clientHeight,ns=!0)):(this.tileState.videoElementCSSWidthPixels=null,this.tileState.videoElementCSSHeightPixels=null),ns&&this.sendTileStateUpdate()}pause(){this.tileState.paused||(this.tileState.paused=!0,this.sendTileStateUpdate())}unpause(){this.tileState.paused&&(this.tileState.paused=!1,this.sendTileStateUpdate())}markPoorConnection(){return this.tileState.poorConnection?!1:(this.tileState.poorConnection=!0,this.sendTileStateUpdate(),!0)}unmarkPoorConnection(){return this.tileState.poorConnection?(this.tileState.poorConnection=!1,this.sendTileStateUpdate(),!0):!1}capture(){if(!this.tileState.active)return null;const rs=document.createElement("canvas"),ns=this.tileState.boundVideoElement;rs.width=ns.videoWidth||ns.width,rs.height=ns.videoHeight||ns.height;const os=rs.getContext("2d");return os.drawImage(ns,0,0,rs.width,rs.height),os.getImageData(0,0,rs.width,rs.height)}setStreamId(rs){this.tileState.streamId=rs,this.tileController.sendTileStateUpdate(this.state())}sendTileStateUpdate(){this.updateActiveState(),this.updateVideoStreamOnVideoElement(),this.updateVideoElementPhysicalPixels(),this.tileController.sendTileStateUpdate(this.state())}updateActiveState(){this.tileState.active=!!(!this.tileState.paused&&!this.tileState.poorConnection&&this.tileState.boundAttendeeId&&this.tileState.boundVideoElement&&this.tileState.boundVideoStream)}updateVideoElementPhysicalPixels(){typeof this.tileState.videoElementCSSWidthPixels=="number"&&typeof this.tileState.videoElementCSSHeightPixels=="number"?(this.tileState.videoElementPhysicalWidthPixels=this.tileState.devicePixelRatio*this.tileState.videoElementCSSWidthPixels,this.tileState.videoElementPhysicalHeightPixels=this.tileState.devicePixelRatio*this.tileState.videoElementCSSHeightPixels):(this.tileState.videoElementPhysicalWidthPixels=null,this.tileState.videoElementPhysicalHeightPixels=null)}updateVideoStreamOnVideoElement(){this.tileState.active?DefaultVideoTile.connectVideoStreamToVideoElement(this.tileState.boundVideoStream,this.tileState.boundVideoElement,this.tileState.localTile):DefaultVideoTile.disconnectVideoStreamFromVideoElement(this.tileState.boundVideoElement,this.tileState.paused,this.tileController.keepLastFrameWhenPaused)}static setVideoElementFlag(rs,ns,os){ns in rs&&(rs[ns]=os)}}DefaultVideoTile$1.default=DefaultVideoTile;var AudioTransformDevice={};Object.defineProperty(AudioTransformDevice,"__esModule",{value:!0});AudioTransformDevice.isAudioTransformDevice=void 0;function isAudioTransformDevice(ts){return!!ts&&typeof ts=="object"&&"mute"in ts&&"stop"in ts&&"intrinsicDevice"in ts}AudioTransformDevice.isAudioTransformDevice=isAudioTransformDevice;var DeviceSelection$1={};Object.defineProperty(DeviceSelection$1,"__esModule",{value:!0});class DeviceSelection{constructor(){this.groupId=""}matchesConstraints(rs){return JSON.stringify(this.constraints)===JSON.stringify(rs)}}DeviceSelection$1.default=DeviceSelection;var GetUserMediaError$1={};Object.defineProperty(GetUserMediaError$1,"__esModule",{value:!0});class GetUserMediaError extends Error{constructor(rs,ns){super(ns||"Error fetching device."),this.cause=rs,this.name="GetUserMediaError"}}GetUserMediaError$1.default=GetUserMediaError;var NotFoundError$1={},__importDefault$1k=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(NotFoundError$1,"__esModule",{value:!0});const GetUserMediaError_1$5=__importDefault$1k(GetUserMediaError$1);class NotFoundError extends GetUserMediaError_1$5.default{constructor(rs){super(rs),this.name="NotFoundError"}}NotFoundError$1.default=NotFoundError;var NotReadableError$1={},__importDefault$1j=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(NotReadableError$1,"__esModule",{value:!0});const GetUserMediaError_1$4=__importDefault$1j(GetUserMediaError$1);class NotReadableError extends GetUserMediaError_1$4.default{constructor(rs){super(rs),this.name="NotReadableError"}}NotReadableError$1.default=NotReadableError;var OverconstrainedError$1={},__importDefault$1i=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(OverconstrainedError$1,"__esModule",{value:!0});const GetUserMediaError_1$3=__importDefault$1i(GetUserMediaError$1);class OverconstrainedError extends GetUserMediaError_1$3.default{constructor(rs,ns){super(rs),this.constraint=ns,this.name="OverconstrainedError"}}OverconstrainedError$1.default=OverconstrainedError;var PermissionDeniedError$1={},__importDefault$1h=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(PermissionDeniedError$1,"__esModule",{value:!0});const GetUserMediaError_1$2=__importDefault$1h(GetUserMediaError$1);class PermissionDeniedError extends GetUserMediaError_1$2.default{constructor(rs,ns){super(rs,ns),this.name="PermissionDeniedError"}}PermissionDeniedError$1.default=PermissionDeniedError;var _TypeError={},__importDefault$1g=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(_TypeError,"__esModule",{value:!0});const GetUserMediaError_1$1=__importDefault$1g(GetUserMediaError$1);let TypeError$1=class extends GetUserMediaError_1$1.default{constructor(rs){super(rs),this.name="TypeError"}};_TypeError.default=TypeError$1;var VideoQualitySettings$1={};Object.defineProperty(VideoQualitySettings$1,"__esModule",{value:!0});class VideoQualitySettings{constructor(rs,ns,os){this.videoWidth=rs,this.videoHeight=ns,this.videoFrameRate=os}equals(rs){return this.videoWidth===rs.videoWidth&&this.videoHeight===rs.videoHeight&&this.videoFrameRate===rs.videoFrameRate}}VideoQualitySettings$1.default=VideoQualitySettings;VideoQualitySettings.VideoDisabled=new VideoQualitySettings(0,0,0);VideoQualitySettings.VideoResolutionHD=new VideoQualitySettings(1280,720,30);VideoQualitySettings.VideoResolutionFHD=new VideoQualitySettings(1920,1080,30);VideoQualitySettings.VideoResolutionUHD=new VideoQualitySettings(3840,2160,30);var VideoTransformDevice={};Object.defineProperty(VideoTransformDevice,"__esModule",{value:!0});VideoTransformDevice.isVideoTransformDevice=void 0;function isVideoTransformDevice(ts){return!!ts&&typeof ts=="object"&&"transformStream"in ts&&"stop"in ts&&"intrinsicDevice"in ts}VideoTransformDevice.isVideoTransformDevice=isVideoTransformDevice;var __awaiter$R=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,rs,ns,os){function ss(as){return as instanceof ns?as:new ns(function(ls){ls(as)})}return new(ns||(ns=Promise))(function(as,ls){function cs(ps){try{ds(os.next(ps))}catch(fs){ls(fs)}}function us(ps){try{ds(os.throw(ps))}catch(fs){ls(fs)}}function ds(ps){ps.done?as(ps.value):ss(ps.value).then(cs,us)}ds((os=os.apply(ts,rs||[])).next())})},__importDefault$1f=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(DefaultDeviceController$1,"__esModule",{value:!0});const DefaultBrowserBehavior_1$7=__importDefault$1f(DefaultBrowserBehavior$1),DefaultMediaDeviceFactory_1=__importDefault$1f(DefaultMediaDeviceFactory$1),AsyncScheduler_1$6=__importDefault$1f(AsyncScheduler$1),PromiseQueue_1=__importDefault$1f(PromiseQueue$1),Types_1$8=Types,DefaultVideoTransformDevice_1=__importDefault$1f(DefaultVideoTransformDevice$1),DefaultVideoTile_1$2=__importDefault$1f(DefaultVideoTile$1),AudioTransformDevice_1=AudioTransformDevice,DeviceSelection_1=__importDefault$1f(DeviceSelection$1),GetUserMediaError_1=__importDefault$1f(GetUserMediaError$1),NotFoundError_1=__importDefault$1f(NotFoundError$1),NotReadableError_1=__importDefault$1f(NotReadableError$1),OverconstrainedError_1=__importDefault$1f(OverconstrainedError$1),PermissionDeniedError_1$1=__importDefault$1f(PermissionDeniedError$1),TypeError_1=__importDefault$1f(_TypeError),VideoQualitySettings_1$5=__importDefault$1f(VideoQualitySettings$1),VideoTransformDevice_1$1=VideoTransformDevice;class DefaultDeviceController{constructor(rs,ns,os=new DefaultBrowserBehavior_1$7.default,ss){this.logger=rs,this.browserBehavior=os,this.eventController=ss,this.deviceInfoCache=null,this.activeDevices={audio:null,video:null},this.chosenVideoTransformDevice=null,this.audioOutputDeviceId=void 0,this.deviceChangeObservers=new Set,this.mediaStreamBrokerObservers=new Set,this.deviceLabelTrigger=()=>navigator.mediaDevices.getUserMedia({audio:!0,video:!0}),this.audioInputDestinationNode=null,this.audioInputSourceNode=null,this.videoInputQualitySettings=null,this.useWebAudio=!1,this.useMediaConstraintsFallback=!0,this.audioInputTaskQueue=new PromiseQueue_1.default,this.videoInputTaskQueue=new PromiseQueue_1.default,this.muted=!1,this.mediaStreamMuteObserver=(us,ds)=>{for(const ps of this.deviceChangeObservers)AsyncScheduler_1$6.default.nextTick(()=>{this.deviceChangeObservers.has(ps)&&ps.audioInputMuteStateChanged&&ps.audioInputMuteStateChanged(us,ds)})},this.alreadyHandlingDeviceChange=!1;const{enableWebAudio:as=!1,useMediaConstraintsFallback:ls=!0}=ns||{};this.useWebAudio=as,this.useMediaConstraintsFallback=ls,this.videoInputQualitySettings=new VideoQualitySettings_1$5.default(DefaultDeviceController.defaultVideoWidth,DefaultDeviceController.defaultVideoHeight,DefaultDeviceController.defaultVideoFrameRate);const cs=this.browserBehavior.requiresResolutionAlignment(this.videoInputQualitySettings.videoWidth,this.videoInputQualitySettings.videoHeight);this.videoInputQualitySettings.videoWidth=cs[0],this.videoInputQualitySettings.videoHeight=cs[1],this.logger.info("DefaultDeviceController video dimension ".concat(this.videoInputQualitySettings.videoWidth," x ").concat(this.videoInputQualitySettings.videoHeight));try{this.mediaDeviceWrapper=new DefaultMediaDeviceFactory_1.default().create();const us=navigator.mediaDevices.getSupportedConstraints();this.logger.info("Supported Constraints in this browser ".concat(JSON.stringify(us)))}catch(us){rs.error(us.message)}}isWatchingForDeviceChanges(){return!!this.onDeviceChangeCallback}ensureWatchingDeviceChanges(){var rs;this.isWatchingForDeviceChanges()||(this.logger.info("Starting devicechange listener."),this.onDeviceChangeCallback=()=>{this.logger.info("Device change event callback is triggered"),this.handleDeviceChange()},(rs=this.mediaDeviceWrapper)===null||rs===void 0||rs.addEventListener("devicechange",this.onDeviceChangeCallback))}stopWatchingDeviceChanges(){var rs;this.isWatchingForDeviceChanges()&&(this.logger.info("Stopping devicechange listener."),(rs=this.mediaDeviceWrapper)===null||rs===void 0||rs.removeEventListener("devicechange",this.onDeviceChangeCallback),this.onDeviceChangeCallback=void 0)}shouldObserveDeviceChanges(){return this.deviceChangeObservers.size?!0:this.activeDevices.audio&&this.activeDevices.audio.constraints!==null||this.activeDevices.video&&this.activeDevices.video.constraints!==null||!!this.audioOutputDeviceId}watchForDeviceChangesIfNecessary(){this.shouldObserveDeviceChanges()?this.ensureWatchingDeviceChanges():this.stopWatchingDeviceChanges()}destroy(){return __awaiter$R(this,void 0,void 0,function*(){this.stopWatchingDeviceChanges(),yield this.stopAudioInput(),yield this.stopVideoInput()})}listAudioInputDevices(rs=!1){return __awaiter$R(this,void 0,void 0,function*(){const ns=yield this.listDevicesOfKind("audioinput",rs);return this.trace("listAudioInputDevices",rs,ns),ns})}listVideoInputDevices(rs=!1){return __awaiter$R(this,void 0,void 0,function*(){const ns=yield this.listDevicesOfKind("videoinput",rs);return this.trace("listVideoInputDevices",rs,ns),ns})}listAudioOutputDevices(rs=!1){return __awaiter$R(this,void 0,void 0,function*(){const ns=yield this.listDevicesOfKind("audiooutput",rs);return this.trace("listAudioOutputDevices",rs,ns),ns})}pushAudioMeetingStateForPermissions(rs){var ns;(ns=this.eventController)===null||ns===void 0||ns.publishEvent(rs===void 0?"audioInputUnselected":"audioInputSelected")}pushVideoMeetingStateForPermissions(rs){var ns;(ns=this.eventController)===null||ns===void 0||ns.publishEvent(rs===void 0?"videoInputUnselected":"videoInputSelected")}startAudioInput(rs){return __awaiter$R(this,void 0,void 0,function*(){return yield this.audioInputTaskQueue.add(()=>this.startAudioInputTask(rs))})}startAudioInputTask(rs){var ns;return __awaiter$R(this,void 0,void 0,function*(){if(rs===void 0){this.logger.error("Audio input device cannot be undefined");return}try{return AudioTransformDevice_1.isAudioTransformDevice(rs)?(this.logger.info("Choosing transform input device ".concat(rs)),yield this.chooseAudioTransformInputDevice(rs)):(this.logger.info("Choosing intrinsic audio input device ".concat(rs)),this.removeTransform(),yield this.chooseInputIntrinsicDevice("audio",rs)),this.trace("startAudioInputDevice",rs,"success"),this.useWebAudio?(this.attachAudioInputStreamToAudioContext(this.activeDevices.audio.stream),this.pushAudioMeetingStateForPermissions(this.getMediaStreamDestinationNode().stream),yield(ns=this.transform)===null||ns===void 0?void 0:ns.device.mute(this.muted),this.getMediaStreamDestinationNode().stream):(this.publishAudioInputDidChangeEvent(this.activeDevices.audio.stream),this.activeDevices.audio.stream)}catch(os){throw os}})}stopAudioInput(){return __awaiter$R(this,void 0,void 0,function*(){return this.audioInputTaskQueue.add(()=>this.stopAudioInputTask())})}stopAudioInputTask(){return __awaiter$R(this,void 0,void 0,function*(){try{if(this.useWebAudio){this.releaseAudioTransformStream();return}this.stopTracksAndRemoveCallbacks("audio")}finally{this.watchForDeviceChangesIfNecessary(),this.publishAudioInputDidChangeEvent(void 0)}})}chooseAudioTransformInputDevice(rs){var ns;return __awaiter$R(this,void 0,void 0,function*(){if(((ns=this.transform)===null||ns===void 0?void 0:ns.device)===rs)return;if(!this.useWebAudio)throw new Error("Cannot apply transform device without enabling Web Audio.");const os=DefaultDeviceController.getAudioContext();if(!(os instanceof OfflineAudioContext))switch(os.state){case"running":break;case"closed":throw new Error("Cannot choose a transform device with a closed audio context.");case"suspended":yield os.resume()}let ss;try{ss=yield rs.createAudioNode(os)}catch(ls){throw this.logger.error("Unable to create transform device node: ".concat(ls,".")),ls}const as=yield rs.intrinsicDevice();yield this.chooseInputIntrinsicDevice("audio",as),this.logger.debug("Got inner stream: ".concat(as,".")),this.setTransform(rs,ss)})}chooseVideoTransformInputDevice(rs){var ns;return __awaiter$R(this,void 0,void 0,function*(){if(this.eventController&&rs instanceof DefaultVideoTransformDevice_1.default&&rs.passEventControllerToProcessors(this.eventController),rs===this.chosenVideoTransformDevice){this.logger.info("Reselecting same VideoTransformDevice");return}const os=this.chosenVideoTransformDevice;os&&this.logger.info("Switched from previous VideoTransformDevice");const ss=!!os,as=yield rs.intrinsicDevice();if(!this.isMediaStreamReusableByDeviceId((ns=this.activeDevices.video)===null||ns===void 0?void 0:ns.stream,as)){this.logger.info("video transform device needs new intrinsic device"),ss&&os.onOutputStreamDisconnect(),this.chosenVideoTransformDevice=rs,this.activeDevices.video=null,yield this.chooseInputIntrinsicDevice("video",as),this.logger.info("apply processors to transform"),yield this.chosenVideoTransformDevice.transformStream(this.activeDevices.video.stream);return}this.chosenVideoTransformDevice=rs,this.logger.info("video transform device uses previous stream"),this.logger.info("apply processors to transform"),yield rs.transformStream(this.activeDevices.video.stream)})}startVideoInput(rs){return __awaiter$R(this,void 0,void 0,function*(){return yield this.videoInputTaskQueue.add(()=>this.startVideoInputTask(rs))})}startVideoInputTask(rs){return __awaiter$R(this,void 0,void 0,function*(){if(!rs){this.logger.error("Invalid video input device");return}try{return VideoTransformDevice_1$1.isVideoTransformDevice(rs)?(this.logger.info("Choosing video transform device ".concat(rs)),yield this.chooseVideoTransformInputDevice(rs),this.publishVideoInputDidChangeEvent(this.chosenVideoTransformDevice.outputMediaStream),this.chosenVideoTransformDevice.outputMediaStream):(this.chosenVideoInputIsTransformDevice()&&(this.chosenVideoTransformDevice.onOutputStreamDisconnect(),this.chosenVideoTransformDevice=null),yield this.chooseInputIntrinsicDevice("video",rs),this.trace("startVideoInputDevice",rs),this.publishVideoInputDidChangeEvent(this.activeDevices.video.stream),this.activeDevices.video.stream)}catch(ns){throw ns}})}stopVideoInput(){return __awaiter$R(this,void 0,void 0,function*(){return this.videoInputTaskQueue.add(()=>this.stopVideoInputTask())})}stopVideoInputTask(){return __awaiter$R(this,void 0,void 0,function*(){try{if(this.chosenVideoInputIsTransformDevice()){this.releaseVideoTransformStream();return}this.stopTracksAndRemoveCallbacks("video")}finally{this.watchForDeviceChangesIfNecessary(),this.publishVideoInputDidChangeEvent(void 0)}})}chooseAudioOutput(rs){return __awaiter$R(this,void 0,void 0,function*(){this.audioOutputDeviceId=rs,this.watchForDeviceChangesIfNecessary();const ns=this.deviceInfoFromDeviceId("audiooutput",this.audioOutputDeviceId);this.publishAudioOutputDidChangeEvent(ns),this.trace("chooseAudioOutput",rs,null)})}addDeviceChangeObserver(rs){this.logger.info("adding device change observer"),this.deviceChangeObservers.add(rs),this.watchForDeviceChangesIfNecessary(),this.trace("addDeviceChangeObserver")}removeDeviceChangeObserver(rs){this.logger.info("removing device change observer"),this.deviceChangeObservers.delete(rs),this.watchForDeviceChangesIfNecessary(),this.trace("removeDeviceChangeObserver")}createAnalyserNodeForAudioInput(){var rs,ns;if(!this.activeDevices.audio)return null;const os=(ns=(rs=this.transform)===null||rs===void 0?void 0:rs.nodes)===null||ns===void 0?void 0:ns.end;if(os){const ss=os.context.createAnalyser();return ss.removeOriginalInputs=()=>{try{os.disconnect(ss)}catch{}},os.connect(ss),ss}return this.createAnalyserNodeForRawAudioInput()}createAnalyserNodeForRawAudioInput(){return this.activeDevices.audio?this.createAnalyserNodeForStream(this.activeDevices.audio.stream):null}createAnalyserNodeForStream(rs){const ns=DefaultDeviceController.getAudioContext(),os=ns.createAnalyser(),ss=ns.createMediaStreamSource(rs);return ss.connect(os),this.trace("createAnalyserNodeForAudioInput"),os.removeOriginalInputs=()=>{try{ss.disconnect(os)}catch{}},os}startVideoPreviewForVideoInput(rs){if(!this.activeDevices.video){this.logger.warn("cannot bind video preview since video input device has not been chosen"),this.trace("startVideoPreviewForVideoInput",rs.id);return}DefaultVideoTile_1$2.default.connectVideoStreamToVideoElement(this.chosenVideoTransformDevice?this.chosenVideoTransformDevice.outputMediaStream:this.activeDevices.video.stream,rs,!0),this.trace("startVideoPreviewForVideoInput",rs.id)}stopVideoPreviewForVideoInput(rs){DefaultVideoTile_1$2.default.disconnectVideoStreamFromVideoElement(rs,!1),this.trace("stopVideoPreviewForVideoInput",rs.id)}setDeviceLabelTrigger(rs){if(this.deviceInfoCache){for(const ns of this.deviceInfoCache)if(!ns.label){this.deviceInfoCache=null;break}}this.deviceLabelTrigger=rs,this.trace("setDeviceLabelTrigger")}mixIntoAudioInput(rs){let ns=null;return this.useWebAudio?(ns=DefaultDeviceController.getAudioContext().createMediaStreamSource(rs),ns.connect(this.getMediaStreamOutputNode())):this.logger.warn("WebAudio is not enabled, mixIntoAudioInput will not work"),this.trace("mixIntoAudioInput",rs.id),ns}chooseVideoInputQuality(rs,ns,os){const ss=this.browserBehavior.requiresResolutionAlignment(rs,ns);this.videoInputQualitySettings=new VideoQualitySettings_1$5.default(ss[0],ss[1],os)}getVideoInputQualitySettings(){return this.videoInputQualitySettings}acquireAudioInputStream(){return __awaiter$R(this,void 0,void 0,function*(){return this.activeDevices.audio||(this.logger.info("No audio device chosen, creating empty audio device"),yield this.startAudioInput(null)),this.useWebAudio?this.getMediaStreamDestinationNode().stream:this.activeDevices.audio.stream})}acquireVideoInputStream(){return __awaiter$R(this,void 0,void 0,function*(){if(!this.activeDevices.video)throw new Error("No video device chosen");return this.chosenVideoInputIsTransformDevice()?this.chosenVideoTransformDevice.outputMediaStream:this.activeDevices.video.stream})}acquireDisplayInputStream(rs){return __awaiter$R(this,void 0,void 0,function*(){throw new Error("unsupported")})}releaseAudioTransformStream(){this.logger.info("Stopping audio track for Web Audio graph"),this.stopTracksAndRemoveCallbacks("audio"),this.logger.info("Removing audio transform, if there is one."),this.removeTransform(),this.audioInputSourceNode&&(this.audioInputSourceNode.disconnect(),this.audioInputSourceNode=void 0),this.audioInputDestinationNode&&(this.audioInputDestinationNode.disconnect(),this.audioInputDestinationNode=void 0)}releaseVideoTransformStream(){this.logger.info("Stopping video track for transform"),this.stopTracksAndRemoveCallbacks("video"),this.logger.info("Disconnecting video transform"),this.chosenVideoTransformDevice.onOutputStreamDisconnect(),this.chosenVideoTransformDevice=null}stopTracksAndRemoveCallbacks(rs){const ns=this.activeDevices[rs];if(!ns)return;const os=ns.endedCallback,ss=ns.trackMuteCallback,as=ns.trackUnmuteCallback;for(const ls of ns.stream.getTracks())ls.stop(),os&&ls.removeEventListener("ended",os),ss&&ls.removeEventListener("mute",ss),as&&ls.removeEventListener("unmute",as),delete ns.endedCallback,delete ns.trackMuteCallback,delete ns.trackUnmuteCallback,delete this.activeDevices[rs]}chosenVideoInputIsTransformDevice(){return!!this.chosenVideoTransformDevice}muteLocalAudioInputStream(){this.toggleLocalAudioInputStream(!1)}unmuteLocalAudioInputStream(){this.toggleLocalAudioInputStream(!0)}toggleLocalAudioInputStream(rs){var ns;let os=this.activeDevices.audio;if(this.useWebAudio&&(os=this.getMediaStreamDestinationNode()),!!os){for(const ss of os.stream.getTracks())ss.enabled!==rs&&(ss.enabled=rs);this.muted!==!rs&&(this.muted=!rs,(ns=this.transform)===null||ns===void 0||ns.device.mute(this.muted))}}static getIntrinsicDeviceId(rs){if(!rs)return;if(typeof rs=="string")return rs;if(rs.id)return rs.id;const os=rs.deviceId;if(!os)return;if(typeof os=="string"||Array.isArray(os))return os;const ss=os;if(typeof ss.exact=="string"||Array.isArray(ss.exact))return ss.exact}static createEmptyAudioDevice(){return DefaultDeviceController.synthesizeAudioDevice(0)}static synthesizeAudioDevice(rs){const ns=DefaultDeviceController.getAudioContext(),os=ns.createMediaStreamDestination();if(rs){const ss=ns.createGain();ss.gain.value=.1,ss.connect(os);const as=ns.createOscillator();as.frequency.value=rs,as.connect(ss),as.start()}else{const ss=ns.createBufferSource();try{ss.buffer=ns.createBuffer(1,ns.sampleRate*5,ns.sampleRate)}catch(as){if(as&&as.name==="NotSupportedError")ss.buffer=ns.createBuffer(1,DefaultDeviceController.defaultSampleRate*5,DefaultDeviceController.defaultSampleRate);else throw as}ss.buffer.getChannelData(0)[0]=3e-4,ss.loop=!0,ss.connect(os),ss.start()}return os.stream}listDevicesOfKind(rs,ns){return __awaiter$R(this,void 0,void 0,function*(){return(ns||this.deviceInfoCache===null||!this.isWatchingForDeviceChanges())&&(yield this.updateDeviceInfoCacheFromBrowser()),this.listCachedDevicesOfKind(rs)})}updateDeviceInfoCacheFromBrowser(){var rs;return __awaiter$R(this,void 0,void 0,function*(){if(typeof MediaDeviceInfo>"u"){this.deviceInfoCache=[];return}let os=yield navigator.mediaDevices.enumerateDevices(),ss=!0;for(const as of os)if(!as.label){ss=!1;break}if(!ss)try{this.logger.info("attempting to trigger media device labels since they are hidden");const as=yield this.deviceLabelTrigger();os=yield navigator.mediaDevices.enumerateDevices();for(const ls of as.getTracks())ls.stop()}catch(as){this.logger.info("unable to get media device labels"),(rs=this.eventController)===null||rs===void 0||rs.publishEvent("deviceLabelTriggerFailed",{deviceLabelTriggerErrorMessage:this.getErrorMessage(as)})}this.logger.debug("Update device info cache with devices: ".concat(JSON.stringify(os))),this.deviceInfoCache=os})}listCachedDevicesOfKind(rs){const ns=[];if(this.deviceInfoCache)for(const os of this.deviceInfoCache)os.kind===rs&&ns.push(os);return ns}handleDeviceChange(){return __awaiter$R(this,void 0,void 0,function*(){if(this.deviceInfoCache===null)return;if(this.alreadyHandlingDeviceChange){AsyncScheduler_1$6.default.nextTick(()=>{this.handleDeviceChange()});return}this.alreadyHandlingDeviceChange=!0;const rs=this.listCachedDevicesOfKind("audioinput"),ns=this.listCachedDevicesOfKind("videoinput"),os=this.listCachedDevicesOfKind("audiooutput");yield this.updateDeviceInfoCacheFromBrowser();const ss=this.listCachedDevicesOfKind("audioinput"),as=this.listCachedDevicesOfKind("videoinput"),ls=this.listCachedDevicesOfKind("audiooutput");this.forEachObserver(cs=>{this.areDeviceListsEqual(rs,ss)||Types_1$8.Maybe.of(cs.audioInputsChanged).map(us=>us.bind(cs)(ss)),this.areDeviceListsEqual(ns,as)||Types_1$8.Maybe.of(cs.videoInputsChanged).map(us=>us.bind(cs)(as)),this.areDeviceListsEqual(os,ls)||Types_1$8.Maybe.of(cs.audioOutputsChanged).map(us=>us.bind(cs)(ls))}),this.alreadyHandlingDeviceChange=!1})}handleDeviceStreamEnded(rs,ns){return __awaiter$R(this,void 0,void 0,function*(){try{rs==="audio"?(this.logger.warn("Audio input device which was active is no longer available, resetting to null device"),yield this.startAudioInput(null)):(this.logger.warn("Video input device which was active is no longer available, stopping video"),yield this.stopVideoInput())}catch{this.logger.error("Failed to choose null device after stream ended.")}rs==="audio"?this.forEachObserver(os=>{Types_1$8.Maybe.of(os.audioInputStreamEnded).map(ss=>ss.bind(os)(ns))}):this.forEachObserver(os=>{Types_1$8.Maybe.of(os.videoInputStreamEnded).map(ss=>ss.bind(os)(ns))})})}forEachObserver(rs){for(const ns of this.deviceChangeObservers)AsyncScheduler_1$6.default.nextTick(()=>{this.deviceChangeObservers.has(ns)&&rs(ns)})}forEachMediaStreamBrokerObserver(rs){for(const ns of this.mediaStreamBrokerObservers)AsyncScheduler_1$6.default.nextTick(()=>{this.mediaStreamBrokerObservers.has(ns)&&rs(ns)})}areDeviceListsEqual(rs,ns){return JSON.stringify(rs.map(os=>JSON.stringify(os)).sort())===JSON.stringify(ns.map(os=>JSON.stringify(os)).sort())}intrinsicDeviceAsMediaStream(rs){return rs&&rs.id?rs:null}hasSameMediaStreamId(rs,ns,os){var ss,as,ls,cs;let us;return rs==="audio"?(us=os==null?void 0:os.audio.streamId,!!us&&us===((as=(ss=ns.constraints)===null||ss===void 0?void 0:ss.audio)===null||as===void 0?void 0:as.streamId)):(us=os==null?void 0:os.video.streamId,!!us&&us===((cs=(ls=ns==null?void 0:ns.constraints)===null||ls===void 0?void 0:ls.video)===null||cs===void 0?void 0:cs.streamId))}hasSameGroupId(rs,ns,os){if(rs==="")return!0;const ss=DefaultDeviceController.getIntrinsicDeviceId(os);return this.logger.debug("Checking deviceIds ".concat(ss," of type ").concat(typeof ss," with groupId ").concat(rs)),typeof ss=="string"&&rs===this.getGroupIdFromDeviceId(ns,ss)}getGroupIdFromDeviceId(rs,ns){if(this.deviceInfoCache!==null){const os=this.listCachedDevicesOfKind("".concat(rs,"input")).find(ss=>ss.deviceId===ns);if(os&&os.groupId)return this.logger.debug("GroupId of deviceId ".concat(ns," found in cache is ").concat(os.groupId)),os.groupId}return this.logger.debug("GroupId of deviceId ".concat(ns," found in cache is empty")),""}handleGetUserMediaError(rs,ns){if(!rs)throw new GetUserMediaError_1.default(rs);switch(rs.name){case"NotReadableError":case"TrackStartError":throw new NotReadableError_1.default(rs);case"NotFoundError":case"DevicesNotFoundError":throw new NotFoundError_1.default(rs);case"NotAllowedError":case"PermissionDeniedError":case"SecurityError":throw ns&&ns<DefaultDeviceController.permissionDeniedOriginDetectionThresholdMs?new PermissionDeniedError_1$1.default(rs,"Permission denied by browser"):new PermissionDeniedError_1$1.default(rs,"Permission denied by user");case"OverconstrainedError":case"ConstraintNotSatisfiedError":throw new OverconstrainedError_1.default(rs);case"TypeError":throw new TypeError_1.default(rs);case"AbortError":default:throw new GetUserMediaError_1.default(rs)}}matchesDeviceSelection(rs,ns,os,ss){return os&&os.stream.active&&(this.hasSameMediaStreamId(rs,os,ss)||os.groupId!==null&&this.hasSameGroupId(os.groupId,rs,ns))?(this.logger.debug("Compare current device constraint ".concat(JSON.stringify(os.constraints)," to proposed constraints ").concat(JSON.stringify(ss))),os.matchesConstraints(ss)):!1}chooseInputIntrinsicDevice(rs,ns){var os,ss;return __awaiter$R(this,void 0,void 0,function*(){const as=this.getMediaStreamConstraints(rs,ns);if(this.matchesDeviceSelection(rs,ns,this.activeDevices[rs],as)){this.logger.info("reusing existing ".concat(rs," input device"));return}this.activeDevices[rs]&&this.activeDevices[rs].stream&&this.stopTracksAndRemoveCallbacks(rs);const ls=Date.now(),cs=new DeviceSelection_1.default;try{this.logger.info("requesting new ".concat(rs," device with constraint ").concat(JSON.stringify(as)));const us=this.intrinsicDeviceAsMediaStream(ns);rs==="audio"&&ns===null?(cs.stream=DefaultDeviceController.createEmptyAudioDevice(),cs.constraints=null):us?(this.logger.info("using media stream ".concat(us.id," for ").concat(rs," device")),cs.stream=us,cs.constraints=as):(cs.stream=yield navigator.mediaDevices.getUserMedia(as),cs.constraints=as),yield this.handleNewInputDevice(rs,cs)}catch(us){const ds=this.getErrorMessage(us);rs==="audio"?(os=this.eventController)===null||os===void 0||os.publishEvent("audioInputFailed",{audioInputErrorMessage:ds}):(ss=this.eventController)===null||ss===void 0||ss.publishEvent("videoInputFailed",{videoInputErrorMessage:ds}),this.logger.error("failed to get ".concat(rs," device for constraints ").concat(JSON.stringify(as),": ").concat(ds));let ps=!0;if(us&&"constraint"in us&&(this.logger.error("Over-constrained by constraint: ".concat(us.constraint)),this.useMediaConstraintsFallback)){const fs=this.getMediaStreamConstraints(rs,ns,!0),hs=JSON.stringify(fs);if(hs!==JSON.stringify(as)){this.logger.info("retry requesting new ".concat(rs," device with minimal constraint ").concat(hs));try{cs.stream=yield navigator.mediaDevices.getUserMedia(fs),cs.constraints=fs,yield this.handleNewInputDevice(rs,cs),ps=!1}catch(ms){this.logger.error("failed to get ".concat(rs," device for constraints ").concat(hs,": ").concat(this.getErrorMessage(ms)))}}}if(ps){if(rs==="audio"){this.logger.info("choosing null ".concat(rs," device instead"));try{cs.stream=DefaultDeviceController.createEmptyAudioDevice(),cs.constraints=null,yield this.handleNewInputDevice(rs,cs)}catch(fs){this.logger.error("failed to choose null ".concat(rs," device. ").concat(fs.name,": ").concat(fs.message))}}this.handleGetUserMediaError(us,Date.now()-ls)}}finally{this.watchForDeviceChangesIfNecessary()}})}getErrorMessage(rs){return rs?rs.name&&rs.message?"".concat(rs.name,": ").concat(rs.message):rs.name?rs.name:rs.message?rs.message:"UnknownError":"UnknownError"}handleNewInputDevice(rs,ns){var os;return __awaiter$R(this,void 0,void 0,function*(){this.logger.info("got ".concat(rs," device for constraints ").concat(JSON.stringify(ns.constraints)));const ss=(os=this.getMediaTrackSettings(ns.stream))===null||os===void 0?void 0:os.deviceId;ns.groupId=ss?this.getGroupIdFromDeviceId(rs,ss):"",this.activeDevices[rs]=ns,this.logger.debug("Set activeDevice to ".concat(JSON.stringify(ns))),this.watchForDeviceChangesIfNecessary();const as=ns.stream.getTracks()[0];if(as&&(ns.endedCallback=()=>{this.activeDevices[rs]&&this.activeDevices[rs].stream===ns.stream&&(this.handleDeviceStreamEnded(rs,ss),delete ns.endedCallback)},as.addEventListener("ended",ns.endedCallback,{once:!0})),rs==="audio"){const ls=ns.stream.getAudioTracks()[0];if(ls){const cs=ls.getSettings().deviceId||ns.stream;ns.trackMuteCallback=()=>{this.mediaStreamMuteObserver(cs,!0)},ns.trackUnmuteCallback=()=>{this.mediaStreamMuteObserver(cs,!1)},ls.addEventListener("mute",ns.trackMuteCallback,{once:!1}),ls.addEventListener("unmute",ns.trackUnmuteCallback,{once:!1}),this.logger.debug("Notifying mute state after selection"),ls.muted?ns.trackMuteCallback():ns.trackUnmuteCallback()}}})}calculateMediaStreamConstraints(rs,ns,os,ss){if(ss&&this.listCachedDevicesOfKind("".concat(rs,"input")).length===1)return!0;const as={};return this.browserBehavior.requiresNoExactMediaStreamConstraints()?as.deviceId=ns:as.deviceId={exact:ns},os&&(as.groupId=os),ss?as:rs==="video"?(as.width={ideal:this.videoInputQualitySettings.videoWidth},as.height={ideal:this.videoInputQualitySettings.videoHeight},as.frameRate={ideal:this.videoInputQualitySettings.videoFrameRate},as):(this.supportSampleRateConstraint()&&(as.sampleRate={ideal:DefaultDeviceController.defaultSampleRate}),this.supportSampleSizeConstraint()&&(as.sampleSize={ideal:DefaultDeviceController.defaultSampleSize}),this.supportChannelCountConstraint()&&(as.channelCount={ideal:DefaultDeviceController.defaultChannelCount}),Object.assign({echoCancellation:!0,googEchoCancellation:!0,googEchoCancellation2:!0,googAutoGainControl:!0,googAutoGainControl2:!0,googNoiseSuppression:!0,googNoiseSuppression2:!0,googHighpassFilter:!0},as))}getMediaStreamConstraintsFromTrackConstraints(rs,ns){return rs==="audio"?{audio:ns}:{video:ns}}getMediaStreamConstraints(rs,ns,os=!1){let ss={};if(!ns)return null;const as=this.intrinsicDeviceAsMediaStream(ns);if(as)return ss.streamId=as.id,this.getMediaStreamConstraintsFromTrackConstraints(rs,ss);if(typeof ns=="string"){let ls="";return this.browserBehavior.requiresGroupIdMediaStreamConstraints()&&(this.deviceInfoCache!==null?ls=this.getGroupIdFromDeviceId(rs,ns):this.logger.error("Device cache is not populated. Please make sure to call list devices first")),ss=this.calculateMediaStreamConstraints(rs,ns,ls,os),this.getMediaStreamConstraintsFromTrackConstraints(rs,ss)}return isMediaDeviceInfo(ns)?(ss=this.calculateMediaStreamConstraints(rs,ns.deviceId,ns.groupId,os),this.getMediaStreamConstraintsFromTrackConstraints(rs,ss)):(ss=ns,this.getMediaStreamConstraintsFromTrackConstraints(rs,ss))}deviceInfoFromDeviceId(rs,ns){if(this.deviceInfoCache===null)return null;for(const os of this.deviceInfoCache)if(os.kind===rs&&os.deviceId===ns)return os;return null}hasAppliedTransform(){return!!this.transform}isMediaStreamReusableByDeviceId(rs,ns){if(!rs||!rs.active||!ns)return!1;if(ns.id)return rs.id===ns.id;const os=this.getMediaTrackSettings(rs);if(!os.deviceId)return!1;const ss=DefaultDeviceController.getIntrinsicDeviceId(ns);return typeof ss=="string"?os.deviceId===ss:!1}getMediaTrackSettings(rs){var ns;return(ns=rs.getTracks()[0])===null||ns===void 0?void 0:ns.getSettings()}reconnectAudioInputs(){if(!this.audioInputSourceNode)return;this.audioInputSourceNode.disconnect();const rs=this.getMediaStreamOutputNode();this.audioInputSourceNode.connect(rs)}setTransform(rs,ns){var os,ss;(ss=(os=this.transform)===null||os===void 0?void 0:os.nodes)===null||ss===void 0||ss.end.disconnect(),this.transform={nodes:ns,device:rs};const as=ns==null?void 0:ns.end,ls=this.getMediaStreamDestinationNode();this.logger.debug("Connecting transform node ".concat(as," to destination ").concat(ls,".")),as==null||as.connect(ls),this.reconnectAudioInputs()}removeTransform(){var rs;const ns=this.transform;if(ns)return(rs=this.transform.nodes)===null||rs===void 0||rs.end.disconnect(),this.transform=void 0,this.reconnectAudioInputs(),ns}attachAudioInputStreamToAudioContext(rs){var ns;(ns=this.audioInputSourceNode)===null||ns===void 0||ns.disconnect(),this.audioInputSourceNode=DefaultDeviceController.getAudioContext().createMediaStreamSource(rs);const os=this.getMediaStreamOutputNode();this.audioInputSourceNode.connect(os)}getMediaStreamDestinationNode(){return this.audioInputDestinationNode||(this.audioInputDestinationNode=DefaultDeviceController.getAudioContext().createMediaStreamDestination()),this.audioInputDestinationNode}getMediaStreamOutputNode(){var rs,ns;return((ns=(rs=this.transform)===null||rs===void 0?void 0:rs.nodes)===null||ns===void 0?void 0:ns.start)||this.getMediaStreamDestinationNode()}static setDefaultLatencyHint(rs){DefaultDeviceController.defaultLatencyHint=rs}static getAudioContext(){if(!DefaultDeviceController.audioContext){const rs={};navigator.mediaDevices.getSupportedConstraints().sampleRate&&(rs.sampleRate=DefaultDeviceController.defaultSampleRate),new DefaultBrowserBehavior_1$7.default().requiresPlaybackLatencyHintForAudioContext()&&(rs.latencyHint="playback"),DefaultDeviceController.defaultLatencyHint&&(rs.latencyHint=DefaultDeviceController.defaultLatencyHint),DefaultDeviceController.audioContext=new(window.AudioContext||window.webkitAudioContext)(rs)}return DefaultDeviceController.audioContext}static suspendAudioContext(){return __awaiter$R(this,void 0,void 0,function*(){return DefaultDeviceController.audioContext?DefaultDeviceController.audioContext.suspend():Promise.resolve()})}static resumeAudioContext(){return __awaiter$R(this,void 0,void 0,function*(){return DefaultDeviceController.audioContext?DefaultDeviceController.audioContext.resume():Promise.resolve()})}static closeAudioContext(){if(DefaultDeviceController.audioContext)try{DefaultDeviceController.audioContext.close()}catch{}DefaultDeviceController.audioContext=null}addMediaStreamBrokerObserver(rs){this.mediaStreamBrokerObservers.add(rs)}removeMediaStreamBrokerObserver(rs){this.mediaStreamBrokerObservers.delete(rs)}publishVideoInputDidChangeEvent(rs){this.forEachMediaStreamBrokerObserver(ns=>{ns.videoInputDidChange&&ns.videoInputDidChange(rs)}),this.pushVideoMeetingStateForPermissions(rs)}publishAudioInputDidChangeEvent(rs){this.forEachMediaStreamBrokerObserver(ns=>{ns.audioInputDidChange&&ns.audioInputDidChange(rs)}),this.pushAudioMeetingStateForPermissions(rs)}publishAudioOutputDidChangeEvent(rs){this.forEachMediaStreamBrokerObserver(ns=>{ns.audioOutputDidChange&&ns.audioOutputDidChange(rs)})}supportSampleRateConstraint(){return this.useWebAudio&&!!navigator.mediaDevices.getSupportedConstraints().sampleRate}supportSampleSizeConstraint(){return this.useWebAudio&&!!navigator.mediaDevices.getSupportedConstraints().sampleSize}supportChannelCountConstraint(){return this.useWebAudio&&!!navigator.mediaDevices.getSupportedConstraints().channelCount}trace(rs,ns,os){let ss="API/DefaultDeviceController/".concat(rs);typeof ns<"u"&&(ss+=" ".concat(JSON.stringify(ns))),typeof os<"u"&&(ss+=" -> ".concat(JSON.stringify(os))),this.logger.info(ss)}}DefaultDeviceController$1.default=DefaultDeviceController;DefaultDeviceController.permissionDeniedOriginDetectionThresholdMs=500;DefaultDeviceController.defaultVideoWidth=960;DefaultDeviceController.defaultVideoHeight=540;DefaultDeviceController.defaultVideoFrameRate=15;DefaultDeviceController.defaultSampleRate=48e3;DefaultDeviceController.defaultSampleSize=16;DefaultDeviceController.defaultChannelCount=1;DefaultDeviceController.audioContext=null;function isMediaDeviceInfo(ts){return typeof ts=="object"&&"deviceId"in ts&&"groupId"in ts&&"kind"in ts&&"label"in ts}var __awaiter$Q=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,rs,ns,os){function ss(as){return as instanceof ns?as:new ns(function(ls){ls(as)})}return new(ns||(ns=Promise))(function(as,ls){function cs(ps){try{ds(os.next(ps))}catch(fs){ls(fs)}}function us(ps){try{ds(os.throw(ps))}catch(fs){ls(fs)}}function ds(ps){ps.done?as(ps.value):ss(ps.value).then(cs,us)}ds((os=os.apply(ts,rs||[])).next())})},__importDefault$1e=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(ContentShareMediaStreamBroker$1,"__esModule",{value:!0});const DefaultBrowserBehavior_1$6=__importDefault$1e(DefaultBrowserBehavior$1),DefaultDeviceController_1$1=__importDefault$1e(DefaultDeviceController$1);class ContentShareMediaStreamBroker{constructor(rs){this.logger=rs}get mediaStream(){return this._mediaStream}set mediaStream(rs){this._mediaStream=rs}acquireAudioInputStream(){return __awaiter$Q(this,void 0,void 0,function*(){return this._mediaStream.getAudioTracks().length===0?(this.logger.info("No audio stream available. Synthesizing an audio stream."),DefaultDeviceController_1$1.default.synthesizeAudioDevice(0)):this._mediaStream})}acquireVideoInputStream(){return __awaiter$Q(this,void 0,void 0,function*(){return this._mediaStream})}acquireDisplayInputStream(rs){return __awaiter$Q(this,void 0,void 0,function*(){return rs&&rs.video&&rs.video.mandatory&&rs.video.mandatory.chromeMediaSource&&rs.video.mandatory.chromeMediaSourceId?navigator.mediaDevices.getUserMedia(rs):navigator.mediaDevices.getDisplayMedia(rs)})}acquireScreenCaptureDisplayInputStream(rs,ns){return __awaiter$Q(this,void 0,void 0,function*(){return this.acquireDisplayInputStream(this.screenCaptureDisplayMediaConstraints(rs,ns))})}screenCaptureDisplayMediaConstraints(rs,ns){return{audio:!!(!rs&&new DefaultBrowserBehavior_1$6.default().getDisplayMediaAudioCaptureSupport()),video:Object.assign(Object.assign({},!rs&&{frameRate:{max:ns||ContentShareMediaStreamBroker.defaultFrameRate}}),rs&&{mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:rs,maxFrameRate:ns||ContentShareMediaStreamBroker.defaultFrameRate}})}}toggleMediaStream(rs){let ns=!1;if(this.mediaStream)for(let os=0;os<this.mediaStream.getTracks().length;os++)this.mediaStream.getTracks()[os].enabled!==rs&&(this.mediaStream.getTracks()[os].enabled=rs,ns=!0);return ns}cleanup(){if(this.mediaStream)for(let rs=0;rs<this.mediaStream.getTracks().length;rs++)this.mediaStream.getTracks()[rs].stop();this.mediaStream=null}muteLocalAudioInputStream(){throw new Error("unsupported")}unmuteLocalAudioInputStream(){throw new Error("unsupported")}addMediaStreamBrokerObserver(rs){}removeMediaStreamBrokerObserver(rs){}}ContentShareMediaStreamBroker$1.default=ContentShareMediaStreamBroker;ContentShareMediaStreamBroker.defaultFrameRate=15;var CreatePeerConnectionTask$1={},__awaiter$P=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,rs,ns,os){function ss(as){return as instanceof ns?as:new ns(function(ls){ls(as)})}return new(ns||(ns=Promise))(function(as,ls){function cs(ps){try{ds(os.next(ps))}catch(fs){ls(fs)}}function us(ps){try{ds(os.throw(ps))}catch(fs){ls(fs)}}function ds(ps){ps.done?as(ps.value):ss(ps.value).then(cs,us)}ds((os=os.apply(ts,rs||[])).next())})},__importDefault$1d=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(CreatePeerConnectionTask$1,"__esModule",{value:!0});const BaseTask_1$l=__importDefault$1d(BaseTask$1);class CreatePeerConnectionTask extends BaseTask_1$l.default{constructor(rs){super(rs.logger),this.context=rs,this.taskName="CreatePeerConnectionTask",this.removeTrackAddedEventListener=null,this.removeTrackRemovedEventListeners={},this.trackEvents=["ended","mute","unmute","isolationchange","overconstrained"],this.removeVideoTrackEventListeners={},this.trackAddedHandler=ns=>{const os=ns.track;if(this.context.logger.info("received track event: kind=".concat(os.kind," id=").concat(os.id," label=").concat(os.label)),ns.transceiver&&ns.transceiver.currentDirection==="inactive")return;if(ns.streams.length===0){this.context.logger.warn("Track event but no stream");return}const ss=ns.streams[0];os.kind==="audio"?this.context.audioMixController.bindAudioStream(ss):os.kind==="video"&&!this.trackIsVideoInput(os)&&this.addRemoteVideoTrack(os,ss)}}removeObserver(){this.removeTrackAddedEventListener&&this.removeTrackAddedEventListener();for(const rs in this.removeTrackRemovedEventListeners)this.removeTrackRemovedEventListeners[rs]()}addPeerConnectionEventLogger(){const rs=this.context.peer;rs.addEventListener("connectionstatechange",()=>{this.context.logger.info("peer connection state changed: ".concat(rs.connectionState))}),rs.addEventListener("negotiationneeded",()=>{this.context.logger.info("peer connection negotiation is needed")}),rs.addEventListener("icegatheringstatechange",()=>{this.context.logger.info("peer connection ice gathering state changed: ".concat(rs.iceGatheringState))}),rs.addEventListener("icecandidate",ns=>{this.context.logger.info("peer connection ice candidate: ".concat(ns.candidate?ns.candidate.candidate:"(null)"))}),rs.addEventListener("iceconnectionstatechange",()=>{this.context.logger.info("peer connection ice connection state changed: ".concat(rs.iceConnectionState))})}run(){return __awaiter$P(this,void 0,void 0,function*(){this.context.removableObservers.push(this);const ns=this.context.turnCredentials&&this.context.turnCredentials.uris.length>0?{iceServers:[{urls:this.context.turnCredentials.uris,username:this.context.turnCredentials.username,credential:this.context.turnCredentials.password,credentialType:"password"}],iceTransportPolicy:"relay"}:{};ns.bundlePolicy=this.context.browserBehavior.requiresBundlePolicy(),ns.sdpSemantics="unified-plan",ns.encodedInsertableStreams=this.context.audioProfile.hasRedundancyEnabled(),this.context.peer?this.context.logger.info("reusing peer connection"):(this.context.logger.info("creating new peer connection"),this.context.peer=new RTCPeerConnection(ns),this.addPeerConnectionEventLogger()),this.removeTrackAddedEventListener=()=>{this.context.peer&&this.context.peer.removeEventListener("track",this.trackAddedHandler),this.removeTrackAddedEventListener=null},this.context.peer.addEventListener("track",this.trackAddedHandler)})}trackIsVideoInput(rs){return this.context.transceiverController.useTransceivers()?(this.logger.debug(()=>"getting video track type"),this.context.transceiverController.trackIsVideoInput(rs)):!1}addRemoteVideoTrack(rs,ns){var os;const ss=ns.id,as=this.context.videoStreamIndex.attendeeIdForTrack(ss);let ls,cs;if(this.context.videoTileController.getVideoTileForAttendeeId?(cs=this.context.videoTileController.getVideoTileForAttendeeId(as),ls=!!(!((os=cs==null?void 0:cs.state())===null||os===void 0)&&os.boundVideoStream)):ls=this.context.videoTileController.haveVideoTileForAttendeeId(as),ls){this.context.logger.info("Not adding remote track. Already have tile for attendeeId:  ".concat(as));return}cs||(cs=this.context.videoTileController.addVideoTile(),this.logger.info("Created video tile ".concat(cs.id())));let us=this.context.videoStreamIndex.streamIdForTrack(ss);typeof us>"u"&&(this.logger.warn("stream not found for tile=".concat(cs.id()," track=").concat(ss)),us=null);let ds=this.context.videoStreamIndex.groupIdForStreamId(us);ds===void 0&&(ds=null);for(let bs=0;bs<this.trackEvents.length;bs++){const xs=this.trackEvents[bs],ys=ns.getVideoTracks();if(ys&&ys.length){const Ss=ys[0],Cs=()=>{this.context.logger.info("received the ".concat(xs," event for tile=").concat(cs.id()," id=").concat(rs.id," streamId=").concat(us)),xs==="ended"&&this.removeRemoteVideoTrack(rs,cs.state())};Ss.addEventListener(xs,Cs),this.removeVideoTrackEventListeners[rs.id]||(this.removeVideoTrackEventListeners[rs.id]=[]),this.removeVideoTrackEventListeners[rs.id].push(()=>{Ss.removeEventListener(xs,Cs)})}}let ps,fs;if(rs.getSettings){const bs=rs.getSettings();ps=bs.width,fs=bs.height}else{const bs=rs.getCapabilities();ps=bs.width,fs=bs.height}const hs=this.context.videoStreamIndex.externalUserIdForTrack(ss);cs.bindVideoStream(as,!1,ns,ps,fs,us,hs,ds),this.logger.info("video track added, use tile=".concat(cs.id()," track=").concat(ss," streamId=").concat(us," groupId=").concat(ds));const ms="removetrack",gs=ns,vs=()=>this.removeRemoteVideoTrack(rs,cs.state());this.removeTrackRemovedEventListeners[rs.id]=()=>{gs.removeEventListener(ms,vs),delete this.removeTrackRemovedEventListeners[rs.id]},gs.addEventListener(ms,vs)}removeRemoteVideoTrack(rs,ns){if(this.removeTrackRemovedEventListeners.hasOwnProperty(rs.id)){this.removeTrackRemovedEventListeners[rs.id]();for(const os of this.removeVideoTrackEventListeners[rs.id])os();delete this.removeVideoTrackEventListeners[rs.id]}this.logger.info("video track ended, removing tile=".concat(ns.tileId," id=").concat(rs.id," stream=").concat(ns.streamId)),ns.streamId?this.context.videosPaused.remove(ns.streamId):this.logger.warn("no stream found for tile=".concat(ns.tileId)),this.context.videoTileController.removeVideoTile(ns.tileId)}}CreatePeerConnectionTask$1.default=CreatePeerConnectionTask;CreatePeerConnectionTask.REMOVE_HANDLER_INTERVAL_MS=1e4;var CreateSDPTask$1={},MeetingSessionStatusCode={};(function(ts){Object.defineProperty(ts,"__esModule",{value:!0}),ts.MeetingSessionStatusCode=void 0;var rs;(function(ns){ns[ns.OK=0]="OK",ns[ns.Left=1]="Left",ns[ns.AudioJoinedFromAnotherDevice=2]="AudioJoinedFromAnotherDevice",ns[ns.AudioAuthenticationRejected=3]="AudioAuthenticationRejected",ns[ns.AudioCallAtCapacity=4]="AudioCallAtCapacity",ns[ns.MeetingEnded=5]="MeetingEnded",ns[ns.AudioInternalServerError=6]="AudioInternalServerError",ns[ns.AudioServiceUnavailable=7]="AudioServiceUnavailable",ns[ns.AudioDisconnected=8]="AudioDisconnected",ns[ns.VideoCallSwitchToViewOnly=9]="VideoCallSwitchToViewOnly",ns[ns.VideoCallAtSourceCapacity=10]="VideoCallAtSourceCapacity",ns[ns.SignalingBadRequest=11]="SignalingBadRequest",ns[ns.SignalingInternalServerError=12]="SignalingInternalServerError",ns[ns.SignalingRequestFailed=13]="SignalingRequestFailed",ns[ns.ICEGatheringTimeoutWorkaround=14]="ICEGatheringTimeoutWorkaround",ns[ns.ConnectionHealthReconnect=15]="ConnectionHealthReconnect",ns[ns.RealtimeApiFailed=16]="RealtimeApiFailed",ns[ns.TaskFailed=17]="TaskFailed",ns[ns.IncompatibleSDP=18]="IncompatibleSDP",ns[ns.TURNCredentialsForbidden=19]="TURNCredentialsForbidden",ns[ns.NoAttendeePresent=20]="NoAttendeePresent",ns[ns.AudioAttendeeRemoved=21]="AudioAttendeeRemoved",ns[ns.AudioVideoWasRemovedFromPrimaryMeeting=22]="AudioVideoWasRemovedFromPrimaryMeeting",ns[ns.AudioVideoDisconnectedWhilePromoted=23]="AudioVideoDisconnectedWhilePromoted",ns[ns.AudioDisconnectAudio=24]="AudioDisconnectAudio"})(rs=ts.MeetingSessionStatusCode||(ts.MeetingSessionStatusCode={})),ts.default=rs})(MeetingSessionStatusCode);var SDP$1={},SDPCandidateType={};(function(ts){Object.defineProperty(ts,"__esModule",{value:!0}),ts.SDPCandidateType=void 0;var rs;(function(ns){ns.Host="host",ns.ServerReflexive="srflx",ns.PeerReflexive="prflx",ns.Relay="relay"})(rs=ts.SDPCandidateType||(ts.SDPCandidateType={})),ts.default=rs})(SDPCandidateType);var SDPMediaSection$1={};Object.defineProperty(SDPMediaSection$1,"__esModule",{value:!0});class SDPMediaSection{}SDPMediaSection$1.default=SDPMediaSection;var VideoCodecCapability$1={};Object.defineProperty(VideoCodecCapability$1,"__esModule",{value:!0});const SignalingProtocol_1$2=SignalingProtocol;class VideoCodecCapability{constructor(rs,ns){this.codecName=rs,this.codecCapability=ns}equals(rs){return rs!==void 0&&this.codecName===rs.codecName&&this.codecCapability.mimeType===rs.codecCapability.mimeType&&this.codecCapability.clockRate===rs.codecCapability.clockRate&&this.codecCapability.sdpFmtpLine===rs.codecCapability.sdpFmtpLine}fmtpLineMatches(rs,ns){const os=this.codecCapability.sdpFmtpLine;if(!os)return!1;if(this.codecName==="H264"){const ss=/profile-level-id=([0-9a-f]{4})[0-9a-f]{2}/i,as=os.replace(ss,"profile-level-id=$1");return rs.replace(ss,"profile-level-id=$1").startsWith("a=fmtp:".concat(ns," ").concat(as))}return rs.startsWith("a=fmtp:".concat(ns," ").concat(os))}static vp8(){return new VideoCodecCapability("VP8",{clockRate:9e4,mimeType:"video/VP8"})}static h264BaselineProfile(){return new VideoCodecCapability("H264",{clockRate:9e4,mimeType:"video/H264",sdpFmtpLine:"level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42001f"})}static h264ConstrainedBaselineProfile(){return new VideoCodecCapability("H264",{clockRate:9e4,mimeType:"video/H264",sdpFmtpLine:"level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f"})}static h264MainProfile(){return new VideoCodecCapability("H264",{clockRate:9e4,mimeType:"video/H264",sdpFmtpLine:"level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=4d001f"})}static h264HighProfile(){return new VideoCodecCapability("H264",{clockRate:9e4,mimeType:"video/H264",sdpFmtpLine:"level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=64001f"})}static h264ConstrainedHighProfile(){return new VideoCodecCapability("H264",{clockRate:9e4,mimeType:"video/H264",sdpFmtpLine:"level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=640c1f"})}static h264(){return VideoCodecCapability.h264ConstrainedBaselineProfile()}static vp9Profile0(){return new VideoCodecCapability("VP9",{clockRate:9e4,mimeType:"video/VP9",sdpFmtpLine:"profile-id=0"})}static vp9(){return VideoCodecCapability.vp9Profile0()}static av1Main(){return new VideoCodecCapability("AV1",{clockRate:9e4,mimeType:"video/AV1"})}static av1(){return VideoCodecCapability.av1Main()}static fromSignaled(rs){switch(rs){case SignalingProtocol_1$2.SdkVideoCodecCapability.VP8:return VideoCodecCapability.vp8();case SignalingProtocol_1$2.SdkVideoCodecCapability.H264_BASELINE_PROFILE:return VideoCodecCapability.h264BaselineProfile();case SignalingProtocol_1$2.SdkVideoCodecCapability.H264_CONSTRAINED_BASELINE_PROFILE:return VideoCodecCapability.h264ConstrainedBaselineProfile();case SignalingProtocol_1$2.SdkVideoCodecCapability.H264_MAIN_PROFILE:return VideoCodecCapability.h264MainProfile();case SignalingProtocol_1$2.SdkVideoCodecCapability.H264_HIGH_PROFILE:return VideoCodecCapability.h264HighProfile();case SignalingProtocol_1$2.SdkVideoCodecCapability.H264_CONSTRAINED_HIGH_PROFILE:return VideoCodecCapability.h264ConstrainedHighProfile();case SignalingProtocol_1$2.SdkVideoCodecCapability.VP9_PROFILE_0:return VideoCodecCapability.vp9Profile0();case SignalingProtocol_1$2.SdkVideoCodecCapability.AV1_MAIN_PROFILE:return VideoCodecCapability.av1Main();default:return}}}VideoCodecCapability$1.default=VideoCodecCapability;var __importDefault$1c=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(SDP$1,"__esModule",{value:!0});const SDPCandidateType_1=__importDefault$1c(SDPCandidateType),SDPMediaSection_1=__importDefault$1c(SDPMediaSection$1),VideoCodecCapability_1$3=__importDefault$1c(VideoCodecCapability$1);class SDP{constructor(rs){this.sdp=rs}clone(){return new SDP(this.sdp)}static isRTPCandidate(rs){const ns=/candidate[:](\S+) (\d+)/g.exec(rs);return!(ns===null||ns[2]!=="1")}static linesToSDP(rs){return new SDP(rs.join(SDP.CRLF))}static candidateTypeFromString(rs){switch(rs){case SDPCandidateType_1.default.Host:return SDPCandidateType_1.default.Host;case SDPCandidateType_1.default.ServerReflexive:return SDPCandidateType_1.default.ServerReflexive;case SDPCandidateType_1.default.PeerReflexive:return SDPCandidateType_1.default.PeerReflexive;case SDPCandidateType_1.default.Relay:return SDPCandidateType_1.default.Relay}return null}static candidateType(rs){const ns=/a[=]candidate[:].* typ ([a-z]+) /g.exec(rs);return ns===null?null:SDP.candidateTypeFromString(ns[1])}static mediaType(rs){const ns=/m=(audio|video)/g.exec(rs);if(ns!==null)return ns[1]}static mid(rs){if(rs.includes("a=mid:"))return rs.replace(/^(a=mid:)/,"")}static direction(rs){const ns=/a=(sendrecv|sendonly|recvonly|inactive)/g.exec(rs);if(ns!==null)return ns[1]}static splitLines(rs){return rs.trim().split("\n").map(ns=>ns.trim())}static splitSections(rs){return rs.split("\nm=").map((os,ss)=>(ss>0?"m="+os:os).trim()+SDP.CRLF)}static findActiveCameraSection(rs){let ns=0,os=!1;for(const ss of rs){if(/^m=video/.test(ss)&&(ss.indexOf("sendrecv")>-1||ss.indexOf("sendonly")===-1&&ss.indexOf("recvonly")===-1&&ss.indexOf("inactive")===-1)){os=!0;break}ns++}return os===!1&&(ns=-1),ns}static extractSSRCsFromFIDGroupLine(rs){return/^a=ssrc-group:FID\s(.+)/.exec(rs)[1]}static matchPrefix(rs,ns){return SDP.splitLines(rs).filter(os=>os.indexOf(ns)===0)}lines(){return this.sdp.split(SDP.CRLF)}hasVideo(){return/^m=video/gm.exec(this.sdp)!==null}hasCandidates(){return/a[=]candidate[:]/g.exec(this.sdp)!==null}hasCandidatesForAllMLines(){return!(this.sdp.indexOf("c=IN IP4 0.0.0.0")>-1)}withoutCandidateType(rs){return SDP.linesToSDP(this.lines().filter(ns=>SDP.candidateType(ns)!==rs))}withoutServerReflexiveCandidates(){return this.withoutCandidateType(SDPCandidateType_1.default.ServerReflexive)}withAudioMaxAverageBitrate(rs){if(!rs)return this.clone();rs=Math.trunc(Math.min(Math.max(rs,SDP.rfc7587LowestBitrate),SDP.rfc7587HighestBitrate));const ns=this.lines(),os=SDP.findOpusFmtpAttributes(ns),ss=SDP.updateOpusFmtpAttributes(ns,os,["maxaveragebitrate=".concat(rs)]);return SDP.linesToSDP(ss)}withStereoAudio(){const rs=this.lines(),ns=SDP.findOpusFmtpAttributes(rs),os=SDP.updateOpusFmtpAttributes(rs,ns,["stereo=1","sprop-stereo=1"]);return SDP.linesToSDP(os)}static findOpusFmtpAttributes(rs){const ns=/^a=rtpmap:\s*(\d+)\s+opus\/48000/;let os=!1;const ss=[];for(const as of rs)if(as.startsWith("m=audio")&&(ss.push(null),os=!0),as.startsWith("m=video")&&(os=!1),os){const ls=ns.exec(as);ls!==null&&(ss[ss.length-1]="a=fmtp:".concat(ls[1]," "))}return ss}static updateOpusFmtpAttributes(rs,ns,os){const ss=[];let as=0,ls=null;for(const cs of rs)if(cs.startsWith("m=audio")&&(ls=ns[as],as++),cs.startsWith("m=video")&&(ls=null),ls&&cs.startsWith(ls)){const us=cs.slice(ls.length).split(";"),ds=[];for(const ps of us)os.findIndex(hs=>hs.startsWith(ps.split("=")[0]))<0&&ds.push(ps);for(const ps of os)ds.push(ps);ss.push(ls+ds.join(";"))}else ss.push(cs);return ss}withUnifiedPlanFormat(){let rs=this.sdp;return rs.includes("mozilla")?this.clone():(rs=rs.replace("o=-","o=mozilla-chrome"),new SDP(rs))}getUniqueRtpHeaderExtensionId(rs){const ns=[];for(const ss of rs)if(/^a=extmap:/.test(ss.trim())){const ls=+ss.split("a=extmap:")[1].split(" ")[0];ns.includes(ls)||ns.push(ls)}ns.sort((ss,as)=>ss-as);let os=0;for(const ss of ns){if(ss-os>1)return os+1;os=ss}return os===14?-1:os+1}withVideoLayersAllocationRtpHeaderExtension(rs){return this.withRtpHeaderExtension(rs,SDP.videoLayersAllocationRtpHeaderExtensionUrl)}withDependencyDescriptorRtpHeaderExtension(rs){return this.withRtpHeaderExtension(rs,SDP.dependencyDescriptorRtpHeaderExtensionUrl)}withoutDependencyDescriptorRtpHeaderExtension(){const rs=SDP.splitLines(this.sdp).filter(ns=>!ns.includes(SDP.dependencyDescriptorRtpHeaderExtensionUrl));return new SDP(rs.join(SDP.CRLF)+SDP.CRLF)}withRtpHeaderExtension(rs,ns){const os=rs?rs.getRtpHeaderExtensionId(ns):-1,ss=os===-1?this.getUniqueRtpHeaderExtensionId(SDP.splitLines(this.sdp)):os,as=SDP.splitSections(this.sdp),ls=[];for(let us of as){if(/^m=video/.test(us)&&SDP.getRtpHeaderExtensionIdInSection(us,ns)===-1){const ds=SDP.splitLines(us),ps=[];if(ss===-1||this.hasRtpHeaderExtensionId(ss)){ls.push(us);continue}for(const fs of ds)if(ps.push(fs),/^a=sendrecv/.test(fs.trim())){const hs="a=extmap:"+ss+" "+ns;ps.push(hs)}us=ps.join(SDP.CRLF)+SDP.CRLF}else if(os!==-1&&/^m=video/.test(us)&&SDP.getRtpHeaderExtensionIdInSection(us,ns)!==os){const ds=SDP.splitLines(us),ps=[];for(const fs of ds){if(/^a=extmap:/.test(fs.trim())&&fs.split("a=extmap:")[1].split(" ")[1]===ns){if(!this.hasRtpHeaderExtensionId(os)){const ms="a=extmap:"+os+" "+ns;ps.push(ms)}continue}ps.push(fs)}us=ps.join(SDP.CRLF)+SDP.CRLF}ls.push(us)}const cs=ls.join("");return new SDP(cs)}ssrcForVideoSendingSection(){const rs=this.sdp,ns=SDP.splitSections(rs);if(ns.length<2)return"";const os=SDP.findActiveCameraSection(ns);if(os===-1)return"";const ss=SDP.matchPrefix(ns[os],"a=ssrc-group:FID ");if(ss.length<1)return"";const as=SDP.extractSSRCsFromFIDGroupLine(ss[0]),[ls]=as.split(" ").map(cs=>parseInt(cs,10));return ls.toString()}videoSendSectionHasDifferentSSRC(rs){const ns=this.ssrcForVideoSendingSection(),os=rs.ssrcForVideoSendingSection();if(ns===""||os==="")return!1;const ss=parseInt(ns,10),as=parseInt(os,10);return ss!==as}removeH264SupportFromSendSection(){const rs=this.sdp,ns=SDP.splitSections(rs),os=SDP.findActiveCameraSection(ns);if(os===-1)return new SDP(this.sdp);const ss=ns[os],as=SDP.splitLines(ss),ls=[],cs=new Map;as.forEach(fs=>{if(/^a=rtpmap:/.test(fs)){const hs=/^a=rtpmap:([0-9]+)\s/.exec(fs);hs&&fs.toLowerCase().includes("h264")&&ls.push(parseInt(hs[1],10))}if(/^a=fmtp:/.test(fs)){const hs=/^a=fmtp:([0-9]+) apt=([0-9]+)/.exec(fs);if(hs&&hs.length===3){const ms=parseInt(hs[1],10),gs=parseInt(hs[2],10);cs.has(gs)?cs.get(gs).push(ms):cs.set(gs,[ms])}}});const us=new Set;for(const fs of ls){us.add(fs);const hs=cs.get(fs);if(hs)for(const ms of hs)us.add(ms)}if(ls.length>0){const fs=as[0].split(" ");as[0]=fs.filter(hs=>!us.has(parseInt(hs))).join(" ")}const ds=as.filter(fs=>{if(!fs.includes("rtpmap")&&!fs.includes("rtcp-fb")&&!fs.includes("fmtp"))return!0;for(const hs of us)if(fs.includes(hs.toString()))return!1;return!0});ns[os]=ds.join(SDP.CRLF)+SDP.CRLF;const ps=ns.join("");return new SDP(ps)}mediaSections(){const rs=SDP.splitSections(this.sdp);if(rs.length<2)return[];const ns=[];for(let os=1;os<rs.length;os++){const ss=new SDPMediaSection_1.default,as=SDP.splitLines(rs[os]);for(const ls of as){const cs=SDP.mediaType(ls);if(cs!==void 0){ss.mediaType=cs;continue}const us=SDP.direction(ls);if(us!==void 0){ss.direction=us;continue}const ds=SDP.mid(ls);if(ds!==void 0){ss.mid=ds;continue}}ns.push(ss)}return ns}static getRtpHeaderExtensionIdInSection(rs,ns){const os=SDP.splitLines(rs);for(const ss of os)if(/^a=extmap:/.test(ss.trim())){const as=ss.split("a=extmap:")[1].split(" "),ls=+as[0];if(as[1]===ns)return ls}return-1}getRtpHeaderExtensionId(rs){const ns=SDP.splitSections(this.sdp);for(const os of ns)if(/^m=video/.test(os)){const ss=SDP.getRtpHeaderExtensionIdInSection(os,rs);if(ss!==-1)return ss}return-1}hasRtpHeaderExtensionId(rs){const ns=SDP.splitLines(this.sdp);for(const os of ns)if(/^a=extmap:/.test(os.trim())&&+os.split("a=extmap:")[1].split(" ")[0]===rs)return!0;return!1}withVideoSendCodecPreferences(rs){const ns=this.sdp,os=SDP.splitSections(ns),ss=SDP.findActiveCameraSection(os);if(ss===-1)return new SDP(this.sdp);os[ss]=this.sectionWithCodecPreferences(os[ss],rs);const as=os.join("");return new SDP(as)}sectionWithCodecPreferences(rs,ns){const os=new Map,ss=SDP.splitLines(rs);ss.forEach(us=>{if(!us.startsWith("a=rtpmap:"))return;const ds=/^a=rtpmap:(\d+)\s/.exec(us);if(!ds)return;const ps=ds[1];for(const fs of ns){if(!us.includes("".concat(fs.codecName,"/").concat(fs.codecCapability.clockRate)))continue;let hs=!1;if(fs.codecCapability.sdpFmtpLine!==void 0){let ms=!1;for(const gs of ss){if(fs.fmtpLineMatches(gs,parseInt(ps))){hs=!0;break}ms||(ms=gs.startsWith("a=fmtp:".concat(ps," profile-id=")))}fs.equals(VideoCodecCapability_1$3.default.vp9Profile0())&&!ms&&(hs=!0)}else hs=!0;if(hs){os.set(ps,fs);break}}});const as=new Set(os.keys()),ls=ss[0].split(" ").filter(us=>!as.has(us)),cs=Array.from(os.entries()).sort(([us,ds],[ps,fs])=>{const hs=ns.indexOf(ds),ms=ns.indexOf(fs);return hs-ms}).map(([us,ds])=>us);return ls.splice(3,0,...cs),ss[0]=ls.join(" "),ss.join(SDP.CRLF)+SDP.CRLF}highestPriorityVideoSendCodec(){const rs=this.prioritizedSendVideoCodecCapabilities();return rs.length>0?rs[0]:void 0}prioritizedSendVideoCodecCapabilities(){const rs=this.sdp,ns=SDP.splitSections(rs),os=SDP.findActiveCameraSection(ns);if(os===-1)return[];const ss=SDP.splitLines(ns[os]),as=ss[0].split(" ");return as.length<4?[]:as.slice(3).map(us=>this.videoCodecCapabilityForPayloadType(ss,us)).filter(us=>us!==void 0&&["VP8","H264","VP9","AV1"].includes(us.codecName))}videoCodecCapabilityForPayloadType(rs,ns){let os,ss,as;for(const ls of rs){const cs=/^a=rtpmap:([0-9]+)\s/.exec(ls);if(cs&&cs[1]===ns){const ds=ls.split(" ")[1].split("/");ds.length>=2&&(os=ds[0],ss=ds[1])}ls.startsWith("a=fmtp:".concat(ns," "))&&(as=ls.split(" ")[1])}if(os!==void 0)return new VideoCodecCapability_1$3.default(os,{clockRate:parseInt(ss),mimeType:"video/".concat(os),sdpFmtpLine:as})}getAudioPayloadTypes(){const rs=new Map,ns=this.sdp,os=SDP.splitSections(ns);return rs.set("opus",SDP.findAudioPayloadType("opus",os)),rs.set("red",SDP.findAudioPayloadType("red",os)),rs}static findAudioPayloadType(rs,ns){const os="a=rtpmap:\\s*(\\d+)\\s+".concat(rs,"\\/48000"),ss=new RegExp(os);for(const as of ns)if(/^m=audio/.test(as)){const ls=ss.exec(as);if(ls!==null)return Number(ls[1])}return 0}withStartingVideoSendBitrate(rs){const ns=SDP.splitSections(this.sdp),os=SDP.findActiveCameraSection(ns);if(os===-1)return this;const ss=SDP.splitLines(ns[os]),as=[];for(const cs of ss)if(/^a=fmtp:\d*/.test(cs)){const us=cs+";x-google-start-bitrate=".concat(rs*1e3);as.push(us)}else as.push(cs);ns[os]=as.join(SDP.CRLF)+SDP.CRLF;const ls=ns.join("");return new SDP(ls)}}SDP$1.default=SDP;SDP.CRLF="\r\n";SDP.rfc7587LowestBitrate=6e3;SDP.rfc7587HighestBitrate=51e4;SDP.dependencyDescriptorRtpHeaderExtensionUrl="https://aomediacodec.github.io/av1-rtp-spec/#dependency-descriptor-rtp-header-extension";SDP.videoLayersAllocationRtpHeaderExtensionUrl="http://www.webrtc.org/experiments/rtp-hdrext/video-layers-allocation00";var __awaiter$O=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,rs,ns,os){function ss(as){return as instanceof ns?as:new ns(function(ls){ls(as)})}return new(ns||(ns=Promise))(function(as,ls){function cs(ps){try{ds(os.next(ps))}catch(fs){ls(fs)}}function us(ps){try{ds(os.throw(ps))}catch(fs){ls(fs)}}function ds(ps){ps.done?as(ps.value):ss(ps.value).then(cs,us)}ds((os=os.apply(ts,rs||[])).next())})},__importDefault$1b=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(CreateSDPTask$1,"__esModule",{value:!0});const MeetingSessionStatusCode_1$6=__importDefault$1b(MeetingSessionStatusCode),SDP_1$4=__importDefault$1b(SDP$1),BaseTask_1$k=__importDefault$1b(BaseTask$1);class CreateSDPTask extends BaseTask_1$k.default{constructor(rs){super(rs.logger),this.context=rs,this.taskName="CreateSDPTask"}cancel(){if(this.cancelPromise){const rs=new Error("canceling ".concat(this.name()));this.cancelPromise(rs),delete this.cancelPromise}}sessionUsesAudio(){var rs,ns;return!!(!((ns=(rs=this.context.meetingSessionConfiguration)===null||rs===void 0?void 0:rs.urls)===null||ns===void 0)&&ns.audioHostURL)}sessionUsesVideo(){let ns;this.context.transceiverController.useTransceivers()?ns=this.context.transceiverController.hasVideoInput():ns=this.context.videoTileController.hasStartedLocalVideoTile();const os=!!this.context.videosToReceive&&!this.context.videosToReceive.empty(),ss=ns||os;return this.context.logger.info("uses video: ".concat(ss," (enabled: ").concat(!0,", sending: ").concat(ns,", receiving: ").concat(os,")")),ss}run(){return __awaiter$O(this,void 0,void 0,function*(){const rs={offerToReceiveAudio:this.sessionUsesAudio(),offerToReceiveVideo:this.sessionUsesVideo()};this.logger.info("peer connection offerOptions: ".concat(JSON.stringify(rs))),yield new Promise((ns,os)=>__awaiter$O(this,void 0,void 0,function*(){this.cancelPromise=ss=>{os(ss)};try{if(this.context.sdpOfferInit=yield this.context.peer.createOffer(rs),this.context.logger.info("peer connection created offer"),this.context.previousSdpOffer&&new SDP_1$4.default(this.context.sdpOfferInit.sdp).videoSendSectionHasDifferentSSRC(this.context.previousSdpOffer)){const ss=new Error("canceling ".concat(this.name()," due to the meeting status code: ").concat(MeetingSessionStatusCode_1$6.default.IncompatibleSDP));this.context.previousSdpOffer=null,os(ss);return}ns()}catch(ss){os(ss)}finally{delete this.cancelPromise}}))})}}CreateSDPTask$1.default=CreateSDPTask;var DataMessage$1={};Object.defineProperty(DataMessage$1,"__esModule",{value:!0});class DataMessage{constructor(rs,ns,os,ss,as,ls){this.timestampMs=rs,this.topic=ns,this.data=os,this.senderAttendeeId=ss,this.senderExternalUserId=as,this.throttled=!!ls}text(){return new TextDecoder().decode(this.data)}json(){return JSON.parse(new TextDecoder().decode(this.data))}}DataMessage$1.default=DataMessage;var DefaultActiveSpeakerDetector$1={},__awaiter$N=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,rs,ns,os){function ss(as){return as instanceof ns?as:new ns(function(ls){ls(as)})}return new(ns||(ns=Promise))(function(as,ls){function cs(ps){try{ds(os.next(ps))}catch(fs){ls(fs)}}function us(ps){try{ds(os.throw(ps))}catch(fs){ls(fs)}}function ds(ps){ps.done?as(ps.value):ss(ps.value).then(cs,us)}ds((os=os.apply(ts,rs||[])).next())})},__importDefault$1a=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(DefaultActiveSpeakerDetector$1,"__esModule",{value:!0});const IntervalScheduler_1$4=__importDefault$1a(IntervalScheduler$1);class DefaultActiveSpeakerDetector{constructor(rs,ns,os,ss=1e3,as=200){this.realtimeController=rs,this.selfAttendeeId=ns,this.hasBandwidthPriorityCallback=os,this.waitIntervalMs=ss,this.updateIntervalMs=as,this.speakerScores={},this.speakerMuteState={},this.detectorCallbackToHandler=new Map,this.detectorCallbackToScoresTimer=new Map,this.detectorCallbackToActivityTimer=new Map,this.hasBandwidthPriority=!1,this.mostRecentUpdateTimestamp={}}needUpdate(rs){return this.activeSpeakers?this.speakerScores[rs]===0&&this.activeSpeakers.includes(rs)||this.speakerScores[rs]>0&&!this.activeSpeakers.includes(rs):!0}updateActiveSpeakers(rs,ns,os){if(!this.needUpdate(os))return;const ss=[],as=Object.keys(this.speakerScores);for(let ps=0;ps<as.length;ps++){const fs=as[ps];ss.push({attendeeId:fs,activeScore:this.speakerScores[fs]})}const ls=ss.sort((ps,fs)=>fs.activeScore-ps.activeScore).filter(function(ps){return ps.activeScore>0}).map(function(ps){return ps.attendeeId});this.activeSpeakers=ls,ns(ls);const us=ls.length>0&&ls[0]===this.selfAttendeeId&&rs.prioritizeVideoSendBandwidthForActiveSpeaker();this.hasBandwidthPriority!==us&&(this.hasBandwidthPriority=us,this.hasBandwidthPriorityCallback(us))}updateScore(rs,ns,os,ss,as){const ls=rs.calculateScore(os,ss,as);this.speakerScores[os]!==ls&&(this.speakerScores[os]=ls,this.mostRecentUpdateTimestamp[os]=Date.now(),this.updateActiveSpeakers(rs,ns,os))}subscribe(rs,ns,os,ss){const as=(cs,us)=>{if(!us){this.speakerScores[cs]=0,this.mostRecentUpdateTimestamp[cs]=Date.now(),this.updateActiveSpeakers(rs,ns,cs);return}this.realtimeController.realtimeSubscribeToVolumeIndicator(cs,(ds,ps,fs,hs)=>{this.mostRecentUpdateTimestamp[ds]=Date.now(),fs!==null&&(this.speakerMuteState[ds]=fs),this.updateScore(rs,ns,ds,ps,fs)})};this.detectorCallbackToHandler.set(ns,as);const ls=new IntervalScheduler_1$4.default(this.updateIntervalMs);if(ls.start(()=>{for(const cs in this.speakerScores)Date.now()-this.mostRecentUpdateTimestamp[cs]>this.waitIntervalMs&&this.updateScore(rs,ns,cs,0,this.speakerMuteState[cs])}),this.detectorCallbackToActivityTimer.set(ns,ls),os&&ss){const cs=new IntervalScheduler_1$4.default(ss);cs.start(()=>{os(this.speakerScores)}),this.detectorCallbackToScoresTimer.set(ns,cs)}this.realtimeController.realtimeSubscribeToAttendeeIdPresence(as)}unsubscribe(rs){const ns=this.detectorCallbackToHandler.get(rs);this.detectorCallbackToHandler.delete(rs),ns&&this.realtimeController.realtimeUnsubscribeToAttendeeIdPresence(ns);const os=this.detectorCallbackToActivityTimer.get(rs);os&&(os.stop(),this.detectorCallbackToActivityTimer.delete(rs));const ss=this.detectorCallbackToScoresTimer.get(rs);ss&&(ss.stop(),this.detectorCallbackToHandler.delete(rs))}destroy(){return __awaiter$N(this,void 0,void 0,function*(){for(const rs of this.detectorCallbackToHandler.values())this.realtimeController.realtimeUnsubscribeToAttendeeIdPresence(rs);for(const rs of this.detectorCallbackToActivityTimer.values())rs.stop();for(const rs of this.detectorCallbackToScoresTimer.values())rs.stop();this.detectorCallbackToHandler.clear(),this.detectorCallbackToActivityTimer.clear(),this.detectorCallbackToScoresTimer.clear()})}}DefaultActiveSpeakerDetector$1.default=DefaultActiveSpeakerDetector;var DefaultActiveSpeakerPolicy$1={};Object.defineProperty(DefaultActiveSpeakerPolicy$1,"__esModule",{value:!0});class DefaultActiveSpeakerPolicy{constructor(rs=.9,ns=.01,os=.2,ss=.2){this.speakerWeight=rs,this.cutoffThreshold=ns,this.silenceThreshold=os,this.takeoverRate=ss,this.volumes={}}calculateScore(rs,ns,os){(os||ns===null)&&(ns=0),this.volumes.hasOwnProperty(rs)||(this.volumes[rs]=0),ns>this.silenceThreshold?ns=1:ns=0;const ss=this.volumes[rs]*this.speakerWeight+ns*(1-this.speakerWeight);this.volumes[rs]=ss;for(const as in this.volumes)as!==rs&&(this.volumes[as]=Math.max(this.volumes[as]-this.takeoverRate*ns,0));return ss<this.cutoffThreshold?0:ss}prioritizeVideoSendBandwidthForActiveSpeaker(){return!0}}DefaultActiveSpeakerPolicy$1.default=DefaultActiveSpeakerPolicy;var DefaultAudioMixController$1={},__awaiter$M=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,rs,ns,os){function ss(as){return as instanceof ns?as:new ns(function(ls){ls(as)})}return new(ns||(ns=Promise))(function(as,ls){function cs(ps){try{ds(os.next(ps))}catch(fs){ls(fs)}}function us(ps){try{ds(os.throw(ps))}catch(fs){ls(fs)}}function ds(ps){ps.done?as(ps.value):ss(ps.value).then(cs,us)}ds((os=os.apply(ts,rs||[])).next())})},__importDefault$19=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(DefaultAudioMixController$1,"__esModule",{value:!0});const DefaultBrowserBehavior_1$5=__importDefault$19(DefaultBrowserBehavior$1),AsyncScheduler_1$5=__importDefault$19(AsyncScheduler$1);class DefaultAudioMixController{constructor(rs){this.logger=rs,this.audioDevice=null,this.audioElement=null,this.audioStream=null,this.browserBehavior=new DefaultBrowserBehavior_1$5.default,this.observers=new Set}bindAudioElement(rs){return __awaiter$M(this,void 0,void 0,function*(){if(!rs)throw new Error("Cannot bind audio element: ".concat(rs));return this.audioElement=rs,this.audioElement.autoplay=!0,this.bindAudioMix()})}unbindAudioElement(){this.audioElement&&(this.audioElement.srcObject=null,this.audioElement=null,this.forEachObserver(rs=>{this.audioStream&&rs.meetingAudioStreamBecameInactive(this.audioStream)}))}bindAudioStream(rs){return __awaiter$M(this,void 0,void 0,function*(){if(rs){this.audioStream=rs;try{yield this.bindAudioMix()}catch(ns){this.logger&&this.logger.warn("Failed to bind audio stream: ".concat(ns))}}})}bindAudioDevice(rs){return __awaiter$M(this,void 0,void 0,function*(){if(rs&&!this.browserBehavior.supportsSetSinkId())throw new Error("Cannot select audio output device. This browser does not support setSinkId.");return this.audioDevice=rs,this.bindAudioMix()})}forEachObserver(rs){for(const ns of this.observers)AsyncScheduler_1$5.default.nextTick(()=>{rs(ns)})}bindAudioMix(){var rs,ns;return __awaiter$M(this,void 0,void 0,function*(){if(!this.audioElement)return;const os=this.audioElement.srcObject;this.audioStream&&(this.audioElement.srcObject=this.audioStream),os!==this.audioStream&&this.forEachObserver(ds=>{os&&ds.meetingAudioStreamBecameInactive(os),this.audioStream&&ds.meetingAudioStreamBecameActive(this.audioStream)});const ss=((rs=this.audioDevice)===null||rs===void 0?void 0:rs.deviceId)!==this.audioElement.sinkId;if(ss&&typeof this.audioElement.sinkId>"u")throw new Error("Cannot select audio output device. This browser does not support setSinkId.");const as=this.audioDevice?this.audioDevice.deviceId:"",ls=this.audioElement.sinkId;if(as===ls)return;const cs=this.audioElement,us=this.audioStream;if(this.browserBehavior.hasChromiumWebRTC()&&(cs.srcObject=null),ss)try{yield cs.setSinkId(as)}catch(ds){throw(ns=this.logger)===null||ns===void 0||ns.error("Failed to set sinkId for audio element: ".concat(ds)),ds}this.browserBehavior.hasChromiumWebRTC()&&(cs.srcObject=us)})}getCurrentMeetingAudioStream(){return __awaiter$M(this,void 0,void 0,function*(){return this.audioStream})}addAudioMixObserver(rs){return __awaiter$M(this,void 0,void 0,function*(){this.observers.add(rs)})}removeAudioMixObserver(rs){return __awaiter$M(this,void 0,void 0,function*(){this.observers.delete(rs)})}audioOutputDidChange(rs){return __awaiter$M(this,void 0,void 0,function*(){return this.logger.info("Receive an audio output change event"),this.bindAudioDevice(rs)})}}DefaultAudioMixController$1.default=DefaultAudioMixController;var DefaultAudioVideoController={},SignalingAndMetricsConnectionMonitor$1={};Object.defineProperty(SignalingAndMetricsConnectionMonitor$1,"__esModule",{value:!0});const Types_1$7=Types;class SignalingAndMetricsConnectionMonitor{constructor(rs,ns,os,ss,as){this.audioVideoController=rs,this.realtimeController=ns,this.connectionHealthData=os,this.pingPong=ss,this.statsCollector=as,this.isActive=!1,this.hasSeenValidCandidatePairMetricsBefore=!1,this.lastTotalBytesReceived=0,this.realtimeController.realtimeSubscribeToLocalSignalStrengthChange(ls=>{this.isActive&&this.receiveSignalStrengthChange(ls)})}start(){this.isActive=!0,this.pingPong.addObserver(this),this.pingPong.start(),this.audioVideoController.addObserver(this)}stop(){this.isActive=!1,this.pingPong.removeObserver(this),this.pingPong.stop(),this.audioVideoController.removeObserver(this)}receiveSignalStrengthChange(rs){rs===0?this.connectionHealthData.setLastNoSignalTimestampMs(Date.now()):rs<=.5?this.connectionHealthData.setLastWeakSignalTimestampMs(Date.now()):this.connectionHealthData.setLastGoodSignalTimestampMs(Date.now()),this.updateConnectionHealth()}didReceivePong(rs,ns,os){this.connectionHealthData.setConsecutiveMissedPongs(0),this.statsCollector.logLatency("ping_pong",ns),this.statsCollector.logLatency("ping_pong_clock_skew",os),this.updateConnectionHealth()}didMissPongs(){this.connectionHealthData.setConsecutiveMissedPongs(this.connectionHealthData.consecutiveMissedPongs+1),this.updateConnectionHealth()}metricsDidReceive(rs){let ns=0,os=0;const ss=rs.getObservableMetrics(),as=ss.audioPacketsReceived,ls=ss.audioPacketsReceivedFractionLoss,cs=ss.audioSpeakerDelayMs;typeof cs=="number"&&!isNaN(cs)&&this.connectionHealthData.setAudioSpeakerDelayMs(cs);const us=rs.getRTCStatsReport();let ds=0;us.forEach(fs=>{fs.type==="candidate-pair"&&fs.bytesReceived&&(ds+=fs.bytesReceived)});const ps=ds-this.lastTotalBytesReceived;if(this.lastTotalBytesReceived=ds,typeof as=="number"&&typeof ls=="number"){if(ns=as,os=ls,ns<0||os<0||ps<0)return}else return;this.addToMinuteWindow(this.connectionHealthData.packetsReceivedInLastMinute,ns),this.addToMinuteWindow(this.connectionHealthData.fractionPacketsLostInboundInLastMinute,os),ps>0?(this.hasSeenValidCandidatePairMetricsBefore=!0,this.connectionHealthData.setConsecutiveStatsWithNoPackets(0)):this.hasSeenValidCandidatePairMetricsBefore&&this.connectionHealthData.setConsecutiveStatsWithNoPackets(this.connectionHealthData.consecutiveStatsWithNoPackets+1),(ns===0||os>0)&&this.connectionHealthData.setLastPacketLossInboundTimestampMs(Date.now()),typeof ss.audioPacketsSent=="number"&&this.updateAudioPacketsSentInConnectionHealth(ss.audioPacketsSent),this.updateVideoEncodingHealth(rs),this.updateConnectionHealth()}updateAudioPacketsSentInConnectionHealth(rs){rs>0?this.connectionHealthData.setConsecutiveStatsWithNoAudioPacketsSent(0):this.connectionHealthData.setConsecutiveStatsWithNoAudioPacketsSent(this.connectionHealthData.consecutiveStatsWithNoAudioPacketsSent+1)}updateVideoEncodingHealth(rs){const ns=this.audioVideoController.videoTileController.hasStartedLocalVideoTile(),os=rs.getVideoUpstreamSsrc();if(!ns||os===null){this.connectionHealthData.setIsVideoEncoderHardware(!1),this.connectionHealthData.setVideoEncodingTimeInMs(0),this.connectionHealthData.setCpuLimitationDuration(0),this.connectionHealthData.setVideoInputFps(0),this.connectionHealthData.setVideoEncodeFps(0);return}const ss=rs.getObservableVideoMetricValue("videoUpstreamEncoderImplementation",os),as=rs.getObservableVideoMetricValue("videoUpstreamTotalEncodeTimePerSecond",os),ls=rs.getObservableVideoMetricValue("videoUpstreamCpuQualityLimitationDurationPerSecond",os),cs=rs.getObservableVideoMetricValue("videoUpstreamFramesInputPerSecond",os),us=rs.getObservableVideoMetricValue("videoUpstreamFramesEncodedPerSecond",os);this.connectionHealthData.setIsVideoEncoderHardware(!!ss),this.connectionHealthData.setVideoEncodingTimeInMs(as),this.connectionHealthData.setCpuLimitationDuration(ls),this.connectionHealthData.setVideoInputFps(cs),this.connectionHealthData.setVideoEncodeFps(us)}addToMinuteWindow(rs,ns){rs.unshift(ns),rs.length>60&&rs.pop()}updateConnectionHealth(){this.audioVideoController.forEachObserver(rs=>{Types_1$7.Maybe.of(rs.connectionHealthDidChange).map(ns=>ns.bind(rs)(this.connectionHealthData.clone()))})}}SignalingAndMetricsConnectionMonitor$1.default=SignalingAndMetricsConnectionMonitor;var MeetingSessionStatus$1={},__importDefault$18=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(MeetingSessionStatus$1,"__esModule",{value:!0});const SignalingProtocol_js_1$e=SignalingProtocol,MeetingSessionStatusCode_1$5=__importDefault$18(MeetingSessionStatusCode);class MeetingSessionStatus{constructor(rs){this._statusCode=rs}statusCode(){return this._statusCode}isFailure(){switch(this._statusCode){case MeetingSessionStatusCode_1$5.default.AudioAuthenticationRejected:case MeetingSessionStatusCode_1$5.default.AudioCallAtCapacity:case MeetingSessionStatusCode_1$5.default.AudioInternalServerError:case MeetingSessionStatusCode_1$5.default.AudioServiceUnavailable:case MeetingSessionStatusCode_1$5.default.AudioDisconnected:case MeetingSessionStatusCode_1$5.default.VideoCallAtSourceCapacity:case MeetingSessionStatusCode_1$5.default.SignalingBadRequest:case MeetingSessionStatusCode_1$5.default.SignalingInternalServerError:case MeetingSessionStatusCode_1$5.default.SignalingRequestFailed:case MeetingSessionStatusCode_1$5.default.ICEGatheringTimeoutWorkaround:case MeetingSessionStatusCode_1$5.default.ConnectionHealthReconnect:case MeetingSessionStatusCode_1$5.default.RealtimeApiFailed:case MeetingSessionStatusCode_1$5.default.TaskFailed:case MeetingSessionStatusCode_1$5.default.NoAttendeePresent:return!0;default:return!1}}isTerminal(){switch(this._statusCode){case MeetingSessionStatusCode_1$5.default.Left:case MeetingSessionStatusCode_1$5.default.AudioJoinedFromAnotherDevice:case MeetingSessionStatusCode_1$5.default.AudioAuthenticationRejected:case MeetingSessionStatusCode_1$5.default.AudioCallAtCapacity:case MeetingSessionStatusCode_1$5.default.MeetingEnded:case MeetingSessionStatusCode_1$5.default.AudioDisconnected:case MeetingSessionStatusCode_1$5.default.TURNCredentialsForbidden:case MeetingSessionStatusCode_1$5.default.SignalingBadRequest:case MeetingSessionStatusCode_1$5.default.SignalingRequestFailed:case MeetingSessionStatusCode_1$5.default.VideoCallAtSourceCapacity:case MeetingSessionStatusCode_1$5.default.RealtimeApiFailed:case MeetingSessionStatusCode_1$5.default.AudioAttendeeRemoved:return!0;default:return!1}}isAudioConnectionFailure(){switch(this._statusCode){case MeetingSessionStatusCode_1$5.default.AudioAuthenticationRejected:case MeetingSessionStatusCode_1$5.default.AudioInternalServerError:case MeetingSessionStatusCode_1$5.default.AudioServiceUnavailable:case MeetingSessionStatusCode_1$5.default.ICEGatheringTimeoutWorkaround:case MeetingSessionStatusCode_1$5.default.SignalingBadRequest:case MeetingSessionStatusCode_1$5.default.SignalingInternalServerError:case MeetingSessionStatusCode_1$5.default.SignalingRequestFailed:case MeetingSessionStatusCode_1$5.default.RealtimeApiFailed:case MeetingSessionStatusCode_1$5.default.NoAttendeePresent:return!0;default:return!1}}toString(){switch(this._statusCode){case MeetingSessionStatusCode_1$5.default.OK:return"Everything is OK so far.";case MeetingSessionStatusCode_1$5.default.Left:return"The attendee left the meeting.";case MeetingSessionStatusCode_1$5.default.AudioJoinedFromAnotherDevice:return"The attendee joined from another device.";case MeetingSessionStatusCode_1$5.default.AudioAuthenticationRejected:return"The meeting rejected the attendee.";case MeetingSessionStatusCode_1$5.default.AudioCallAtCapacity:return"The attendee couldn't join because the meeting was at capacity.";case MeetingSessionStatusCode_1$5.default.MeetingEnded:return"The meeting ended.";case MeetingSessionStatusCode_1$5.default.AudioInternalServerError:case MeetingSessionStatusCode_1$5.default.AudioServiceUnavailable:case MeetingSessionStatusCode_1$5.default.AudioDisconnected:return"The audio connection failed.";case MeetingSessionStatusCode_1$5.default.VideoCallSwitchToViewOnly:return"The attendee couldn't start the local video because the maximum video capacity was reached.";case MeetingSessionStatusCode_1$5.default.VideoCallAtSourceCapacity:return"The connection failed due to an internal server error.";case MeetingSessionStatusCode_1$5.default.SignalingBadRequest:case MeetingSessionStatusCode_1$5.default.SignalingInternalServerError:case MeetingSessionStatusCode_1$5.default.SignalingRequestFailed:return"The signaling connection failed.";case MeetingSessionStatusCode_1$5.default.ICEGatheringTimeoutWorkaround:return"Gathering ICE candidates timed out. In Chrome, this might indicate that the browser is in a bad state after reconnecting to VPN.";case MeetingSessionStatusCode_1$5.default.ConnectionHealthReconnect:return"The meeting was reconnected.";case MeetingSessionStatusCode_1$5.default.RealtimeApiFailed:return"The real-time API failed. This status code might indicate that the callback you passed to the real-time API threw an exception.";case MeetingSessionStatusCode_1$5.default.TaskFailed:return"The connection failed. See the error message for more details.";case MeetingSessionStatusCode_1$5.default.IncompatibleSDP:return"The connection failed due to incompatible SDP.";case MeetingSessionStatusCode_1$5.default.TURNCredentialsForbidden:return"The meeting ended, or the attendee was removed.";case MeetingSessionStatusCode_1$5.default.NoAttendeePresent:return"The attendee was not present.";case MeetingSessionStatusCode_1$5.default.AudioAttendeeRemoved:return"The meeting ended because attendee removed.";case MeetingSessionStatusCode_1$5.default.AudioVideoWasRemovedFromPrimaryMeeting:return"The Primary meeting credentials provided are no longer valid. chime::DeleteAttendee may have been called on them.";case MeetingSessionStatusCode_1$5.default.AudioVideoDisconnectedWhilePromoted:return"The client disconnected while promoted, which will automatically demote. The attendee must promote again to participate.";case MeetingSessionStatusCode_1$5.default.AudioDisconnectAudio:return"The audio connection failed.";default:{const rs=this._statusCode;throw new Error("Unhandled case: ".concat(rs))}}}static fromSignalFrame(rs){return rs.error&&rs.error.status?this.fromSignalingStatus(rs.error.status):rs.type===SignalingProtocol_js_1$e.SdkSignalFrame.Type.AUDIO_STATUS?rs.audioStatus?this.fromAudioStatus(rs.audioStatus.audioStatus):new MeetingSessionStatus(MeetingSessionStatusCode_1$5.default.SignalingRequestFailed):rs.type===SignalingProtocol_js_1$e.SdkSignalFrame.Type.PRIMARY_MEETING_LEAVE?new MeetingSessionStatus(MeetingSessionStatusCode_1$5.default.AudioVideoWasRemovedFromPrimaryMeeting):new MeetingSessionStatus(MeetingSessionStatusCode_1$5.default.OK)}static fromAudioStatus(rs){switch(rs){case 200:return new MeetingSessionStatus(MeetingSessionStatusCode_1$5.default.OK);case 301:return new MeetingSessionStatus(MeetingSessionStatusCode_1$5.default.AudioJoinedFromAnotherDevice);case 302:return new MeetingSessionStatus(MeetingSessionStatusCode_1$5.default.AudioDisconnectAudio);case 403:return new MeetingSessionStatus(MeetingSessionStatusCode_1$5.default.AudioAuthenticationRejected);case 409:return new MeetingSessionStatus(MeetingSessionStatusCode_1$5.default.AudioCallAtCapacity);case 410:return new MeetingSessionStatus(MeetingSessionStatusCode_1$5.default.MeetingEnded);case 411:return new MeetingSessionStatus(MeetingSessionStatusCode_1$5.default.AudioAttendeeRemoved);case 500:return new MeetingSessionStatus(MeetingSessionStatusCode_1$5.default.AudioInternalServerError);case 503:return new MeetingSessionStatus(MeetingSessionStatusCode_1$5.default.AudioServiceUnavailable);default:switch(Math.floor(rs/100)){case 2:return new MeetingSessionStatus(MeetingSessionStatusCode_1$5.default.OK);default:return new MeetingSessionStatus(MeetingSessionStatusCode_1$5.default.AudioDisconnected)}}}static fromSignalingStatus(rs){switch(rs){case 206:return new MeetingSessionStatus(MeetingSessionStatusCode_1$5.default.VideoCallSwitchToViewOnly);case 509:return new MeetingSessionStatus(MeetingSessionStatusCode_1$5.default.VideoCallAtSourceCapacity);case 403:return new MeetingSessionStatus(MeetingSessionStatusCode_1$5.default.AudioAuthenticationRejected);case 409:return new MeetingSessionStatus(MeetingSessionStatusCode_1$5.default.AudioCallAtCapacity);default:switch(Math.floor(rs/100)){case 2:return new MeetingSessionStatus(MeetingSessionStatusCode_1$5.default.OK);case 4:return new MeetingSessionStatus(MeetingSessionStatusCode_1$5.default.SignalingBadRequest);case 5:return new MeetingSessionStatus(MeetingSessionStatusCode_1$5.default.SignalingInternalServerError);default:return new MeetingSessionStatus(MeetingSessionStatusCode_1$5.default.SignalingRequestFailed)}}}}MeetingSessionStatus$1.default=MeetingSessionStatus;var MeetingSessionVideoAvailability$1={};Object.defineProperty(MeetingSessionVideoAvailability$1,"__esModule",{value:!0});class MeetingSessionVideoAvailability{constructor(){this.remoteVideoAvailable=!1,this.canStartLocalVideo=!1}equal(rs){return this.remoteVideoAvailable===rs.remoteVideoAvailable&&this.canStartLocalVideo===rs.canStartLocalVideo}clone(){const rs=new MeetingSessionVideoAvailability;return rs.remoteVideoAvailable=this.remoteVideoAvailable,rs.canStartLocalVideo=this.canStartLocalVideo,rs}}MeetingSessionVideoAvailability$1.default=MeetingSessionVideoAvailability;var DefaultPingPong$1={},__importDefault$17=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(DefaultPingPong$1,"__esModule",{value:!0});const AsyncScheduler_1$4=__importDefault$17(AsyncScheduler$1),IntervalScheduler_1$3=__importDefault$17(IntervalScheduler$1),SignalingClientEventType_1$b=__importDefault$17(SignalingClientEventType),SignalingProtocol_js_1$d=SignalingProtocol,Types_1$6=Types;class DefaultPingPong{constructor(rs,ns,os){this.signalingClient=rs,this.intervalMs=ns,this.logger=os,this.observerQueue=new Set,this.consecutivePongsUnaccountedFor=0,this.intervalScheduler=new IntervalScheduler_1$3.default(this.intervalMs),this.pingId=0}addObserver(rs){this.logger.info("adding a ping-pong observer"),this.observerQueue.add(rs)}removeObserver(rs){this.logger.info("removing a ping-pong observer"),this.observerQueue.delete(rs)}forEachObserver(rs){for(const ns of this.observerQueue)AsyncScheduler_1$4.default.nextTick(()=>{this.observerQueue.has(ns)&&rs(ns)})}start(){this.stop(),this.signalingClient.registerObserver(this),this.signalingClient.ready()&&this.startPingInterval()}stop(){this.stopPingInterval(),this.signalingClient.removeObserver(this)}startPingInterval(){this.intervalScheduler.start(()=>{this.ping()}),this.ping()}stopPingInterval(){this.intervalScheduler.stop(),this.pingId=0,this.consecutivePongsUnaccountedFor=0}ping(){this.consecutivePongsUnaccountedFor>0&&(this.logger.warn("missed pong ".concat(this.consecutivePongsUnaccountedFor," time(s)")),this.forEachObserver(ns=>{Types_1$6.Maybe.of(ns.didMissPongs).map(os=>os.bind(ns)(this.consecutivePongsUnaccountedFor))})),this.consecutivePongsUnaccountedFor+=1,this.pingId=this.pingId+1&4294967295;const rs=SignalingProtocol_js_1$d.SdkPingPongFrame.create();rs.pingId=this.pingId,rs.type=SignalingProtocol_js_1$d.SdkPingPongType.PING,this.pingTimestampLocalMs=this.signalingClient.pingPong(rs),this.logger.debug(()=>"sent ping ".concat(this.pingId))}pong(rs){const ns=SignalingProtocol_js_1$d.SdkPingPongFrame.create();ns.pingId=rs,ns.type=SignalingProtocol_js_1$d.SdkPingPongType.PONG,this.signalingClient.pingPong(ns)}handleSignalingClientEvent(rs){switch(rs.type){case SignalingClientEventType_1$b.default.WebSocketOpen:this.startPingInterval();break;case SignalingClientEventType_1$b.default.WebSocketFailed:case SignalingClientEventType_1$b.default.WebSocketError:this.logger.warn("stopped pinging (".concat(SignalingClientEventType_1$b.default[rs.type],")")),this.stopPingInterval();break;case SignalingClientEventType_1$b.default.WebSocketClosing:case SignalingClientEventType_1$b.default.WebSocketClosed:this.logger.info("stopped pinging (".concat(SignalingClientEventType_1$b.default[rs.type],")")),this.stopPingInterval();break;case SignalingClientEventType_1$b.default.ReceivedSignalFrame:if(rs.message.type!==SignalingProtocol_js_1$d.SdkSignalFrame.Type.PING_PONG)break;if(rs.message.pingPong.type===SignalingProtocol_js_1$d.SdkPingPongType.PONG){const ns=rs.message.pingPong.pingId;if(ns!==this.pingId){this.logger.warn("unexpected ping id ".concat(ns," (expected ").concat(this.pingId,")"));break}this.consecutivePongsUnaccountedFor=0;let os;if(typeof rs.message.timestampMs=="number")os=rs.message.timestampMs;else break;this.logger.debug(()=>"received pong ".concat(ns," with timestamp ").concat(os));const as=rs.timestampMs-this.pingTimestampLocalMs,ls=Math.round(os-as/2),cs=this.pingTimestampLocalMs-ls;this.logger.info("local clock skew estimate=".concat(cs,"ms from ping-pong time=").concat(as,"ms")),this.forEachObserver(us=>{Types_1$6.Maybe.of(us.didReceivePong).map(ds=>ds.bind(us)(ns,cs,as))})}else this.pong(rs.message.pingPong.pingId);break}}}DefaultPingPong$1.default=DefaultPingPong;var DefaultRealtimeController$1={},DefaultTranscriptionController={},TranscriptEvent={},Transcript$1={};Object.defineProperty(Transcript$1,"__esModule",{value:!0});class Transcript{}Transcript$1.default=Transcript;var TranscriptionStatus$1={};Object.defineProperty(TranscriptionStatus$1,"__esModule",{value:!0});class TranscriptionStatus{}TranscriptionStatus$1.default=TranscriptionStatus;var TranscriptionStatusType$1={};Object.defineProperty(TranscriptionStatusType$1,"__esModule",{value:!0});var TranscriptionStatusType;(function(ts){ts.STARTED="started",ts.INTERRUPTED="interrupted",ts.RESUMED="resumed",ts.STOPPED="stopped",ts.FAILED="failed"})(TranscriptionStatusType||(TranscriptionStatusType={}));TranscriptionStatusType$1.default=TranscriptionStatusType;var TranscriptItemType$1={};Object.defineProperty(TranscriptItemType$1,"__esModule",{value:!0});var TranscriptItemType;(function(ts){ts.PRONUNCIATION="pronunciation",ts.PUNCTUATION="punctuation"})(TranscriptItemType||(TranscriptItemType={}));TranscriptItemType$1.default=TranscriptItemType;var __importDefault$16=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(TranscriptEvent,"__esModule",{value:!0});TranscriptEvent.TranscriptEventConverter=void 0;const SignalingProtocol_1$1=SignalingProtocol,Transcript_1=__importDefault$16(Transcript$1),TranscriptionStatus_1=__importDefault$16(TranscriptionStatus$1),TranscriptionStatusType_1=__importDefault$16(TranscriptionStatusType$1),TranscriptItemType_1=__importDefault$16(TranscriptItemType$1),TranscriptionStatusTypes={[SignalingProtocol_1$1.SdkTranscriptionStatus.Type.STARTED]:TranscriptionStatusType_1.default.STARTED,[SignalingProtocol_1$1.SdkTranscriptionStatus.Type.INTERRUPTED]:TranscriptionStatusType_1.default.INTERRUPTED,[SignalingProtocol_1$1.SdkTranscriptionStatus.Type.RESUMED]:TranscriptionStatusType_1.default.RESUMED,[SignalingProtocol_1$1.SdkTranscriptionStatus.Type.STOPPED]:TranscriptionStatusType_1.default.STOPPED,[SignalingProtocol_1$1.SdkTranscriptionStatus.Type.FAILED]:TranscriptionStatusType_1.default.FAILED};class TranscriptEventConverter{static from(rs){let ns;try{ns=SignalingProtocol_1$1.SdkTranscriptFrame.decode(rs.data)}catch(ss){throw new Error("Cannot decode transcript data message: "+ss)}const os=[];for(const ss of ns.events)if(ss.status){const as=TranscriptionStatusTypes[ss.status.type];if(!as)continue;const ls=new TranscriptionStatus_1.default;ls.type=as,ls.eventTimeMs=ss.status.eventTime,ls.transcriptionRegion=ss.status.transcriptionRegion,ls.transcriptionConfiguration=ss.status.transcriptionConfiguration,ss.status.message&&(ls.message=ss.status.message),os.push(ls)}else if(ss.transcript){const as=new Transcript_1.default;as.results=[];for(const ls of ss.transcript.results){const cs={channelId:ls.channelId,isPartial:ls.isPartial,resultId:ls.resultId,startTimeMs:ls.startTime,endTimeMs:ls.endTime,alternatives:[]};if(ls.languageCode&&(cs.languageCode=ls.languageCode),ls.languageIdentification&&ls.languageIdentification.length>0){cs.languageIdentification=[];for(const us of ls.languageIdentification){const ds={languageCode:us.languageCode,score:us.score};cs.languageIdentification.push(ds)}}for(const us of ls.alternatives){const ds={items:[],transcript:us.transcript};for(const ps of us.items){const fs={content:ps.content,attendee:{attendeeId:ps.speakerAttendeeId,externalUserId:ps.speakerExternalUserId},startTimeMs:ps.startTime,endTimeMs:ps.endTime,type:null};switch(ps.vocabularyFilterMatch&&(fs.vocabularyFilterMatch=ps.vocabularyFilterMatch),ps.hasOwnProperty("stable")&&(fs.stable=ps.stable),ps.hasOwnProperty("confidence")&&(fs.confidence=ps.confidence),ps.type){case SignalingProtocol_1$1.SdkTranscriptItem.Type.PRONUNCIATION:fs.type=TranscriptItemType_1.default.PRONUNCIATION;break;case SignalingProtocol_1$1.SdkTranscriptItem.Type.PUNCTUATION:fs.type=TranscriptItemType_1.default.PUNCTUATION;break}ds.items.push(fs)}for(const ps of us.entities){ds.entities||(ds.entities=[]);const fs={category:ps.category,confidence:ps.confidence,content:ps.content,startTimeMs:ps.startTime,endTimeMs:ps.endTime};ps.type&&(fs.type=ps.type),ds.entities.push(fs)}cs.alternatives.push(ds)}as.results.push(cs)}os.push(as)}return os}}TranscriptEvent.TranscriptEventConverter=TranscriptEventConverter;(function(ts){Object.defineProperty(ts,"__esModule",{value:!0}),ts.TRANSCRIPTION_DATA_MESSAGE_TOPIC=void 0;const rs=TranscriptEvent;ts.TRANSCRIPTION_DATA_MESSAGE_TOPIC="aws:chime:transcription";class ns{constructor(ss){this.realtimeController=ss,this.transcriptEventCallbacks=new Set}subscribeToTranscriptEvent(ss){this.transcriptEventCallbacks.size===0&&this.realtimeController.realtimeSubscribeToReceiveDataMessage(ts.TRANSCRIPTION_DATA_MESSAGE_TOPIC,as=>{for(const ls of rs.TranscriptEventConverter.from(as))for(const cs of this.transcriptEventCallbacks)cs(ls)}),this.transcriptEventCallbacks.add(ss)}unsubscribeFromTranscriptEvent(ss){this.transcriptEventCallbacks.delete(ss),this.transcriptEventCallbacks.size===0&&this.realtimeController.realtimeUnsubscribeFromReceiveDataMessage(ts.TRANSCRIPTION_DATA_MESSAGE_TOPIC)}}ts.default=ns})(DefaultTranscriptionController);var RealtimeState$1={};Object.defineProperty(RealtimeState$1,"__esModule",{value:!0});class RealtimeState{constructor(){this.localAttendeeId=null,this.localExternalUserId=null,this.attendeeIdChangesCallbacks=[],this.canUnmute=!0,this.setCanUnmuteLocalAudioCallbacks=[],this.muted=!1,this.muteAndUnmuteLocalAudioCallbacks=[],this.volumeIndicatorState={},this.attendeeIdToExternalUserId={},this.volumeIndicatorCallbacks={},this.localSignalStrengthChangeCallbacks=[],this.fatalErrorCallbacks=[],this.sendDataMessageCallbacks=[],this.receiveDataMessageCallbacks=new Map}}RealtimeState$1.default=RealtimeState;var RealtimeVolumeIndicator$1={};Object.defineProperty(RealtimeVolumeIndicator$1,"__esModule",{value:!0});class RealtimeVolumeIndicator{constructor(){this.volume=null,this.muted=null,this.signalStrength=null}}RealtimeVolumeIndicator$1.default=RealtimeVolumeIndicator;var __importDefault$15=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(DefaultRealtimeController$1,"__esModule",{value:!0});const DefaultTranscriptionController_1=__importDefault$15(DefaultTranscriptionController),RealtimeState_1=__importDefault$15(RealtimeState$1),RealtimeVolumeIndicator_1=__importDefault$15(RealtimeVolumeIndicator$1);class DefaultRealtimeController{constructor(rs,ns){this.mediaStreamBroker=rs,this.state=new RealtimeState_1.default,this._transcriptionController=ns||new DefaultTranscriptionController_1.default(this)}realtimeSetLocalAttendeeId(rs,ns){this.state.localAttendeeId=rs,this.state.localExternalUserId=ns}realtimeSetAttendeeIdPresence(rs,ns,os,ss,as){try{ns&&(this.state.attendeeIdToExternalUserId[rs]=os);for(const ls of this.state.attendeeIdChangesCallbacks)ls(rs,ns,os,ss,as)}catch(ls){this.onError(ls)}}realtimeSubscribeToAttendeeIdPresence(rs){try{this.state.attendeeIdChangesCallbacks.push(rs)}catch(ns){this.onError(ns)}}realtimeUnsubscribeToAttendeeIdPresence(rs){try{const ns=this.state.attendeeIdChangesCallbacks.indexOf(rs);ns!==-1&&this.state.attendeeIdChangesCallbacks.splice(ns,1)}catch(ns){this.onError(ns)}}realtimeSetCanUnmuteLocalAudio(rs){try{if(this.state.canUnmute===rs)return;this.state.canUnmute=rs;for(const ns of this.state.setCanUnmuteLocalAudioCallbacks)ns(rs)}catch(ns){this.onError(ns)}}realtimeSubscribeToSetCanUnmuteLocalAudio(rs){try{this.state.setCanUnmuteLocalAudioCallbacks.push(rs)}catch(ns){this.onError(ns)}}realtimeUnsubscribeToSetCanUnmuteLocalAudio(rs){try{const ns=this.state.setCanUnmuteLocalAudioCallbacks.indexOf(rs);ns!==-1&&this.state.setCanUnmuteLocalAudioCallbacks.splice(ns,1)}catch(ns){this.onError(ns)}}realtimeCanUnmuteLocalAudio(){return this.state.canUnmute}realtimeMuteLocalAudio(){if(!this.state.muted)try{this.setAudioInputEnabled(!1),this.state.muted=!0,this.realtimeUpdateVolumeIndicator(this.state.localAttendeeId,null,null,null,this.state.localExternalUserId);for(const rs of this.state.muteAndUnmuteLocalAudioCallbacks)rs(!0)}catch(rs){this.onError(rs)}}realtimeUnmuteLocalAudio(){if(!this.state.muted)return!0;if(!this.state.canUnmute)return!1;try{this.setAudioInputEnabled(!0),this.state.muted=!1,this.realtimeUpdateVolumeIndicator(this.state.localAttendeeId,null,null,null,this.state.localExternalUserId);for(const rs of this.state.muteAndUnmuteLocalAudioCallbacks)rs(!1);return!0}catch(rs){return this.onError(rs),!1}}realtimeSubscribeToMuteAndUnmuteLocalAudio(rs){try{this.state.muteAndUnmuteLocalAudioCallbacks.push(rs)}catch(ns){this.onError(ns)}}realtimeUnsubscribeToMuteAndUnmuteLocalAudio(rs){try{const ns=this.state.muteAndUnmuteLocalAudioCallbacks.indexOf(rs);ns!==-1&&this.state.muteAndUnmuteLocalAudioCallbacks.splice(ns,1)}catch(ns){this.onError(ns)}}realtimeIsLocalAudioMuted(){return this.state.muted}realtimeSubscribeToVolumeIndicator(rs,ns){try{this.state.volumeIndicatorCallbacks.hasOwnProperty(rs)||(this.state.volumeIndicatorCallbacks[rs]=[]),this.state.volumeIndicatorCallbacks[rs].push(ns),this.sendVolumeIndicatorChange(rs,!0,!0,!0,this.state.attendeeIdToExternalUserId[rs])}catch(os){this.onError(os)}}realtimeUnsubscribeFromVolumeIndicator(rs,ns){if(this.state.volumeIndicatorCallbacks[rs])if(ns){const ss=this.state.volumeIndicatorCallbacks[rs].indexOf(ns);ss>=0&&this.state.volumeIndicatorCallbacks[rs].splice(ss,1)}else delete this.state.volumeIndicatorCallbacks[rs]}realtimeUpdateVolumeIndicator(rs,ns,os,ss,as){try{os=this.applyLocalMuteOverride(rs,os);const ls=this.getVolumeIndicatorState(rs);let cs=!1,us=!1,ds=!1;os!==null&&ls.muted!==os&&(ls.muted=os,us=!0,ls.muted&&ls.volume!==0&&(ls.volume=0,cs=!0)),!ls.muted&&ns!==null&&(ls.volume!==ns&&(ls.volume=ns,cs=!0),ls.muted===null&&(ls.muted=!1,us=!0)),ss!==null&&ls.signalStrength!==ss&&(ls.signalStrength=ss,ds=!0),this.sendVolumeIndicatorChange(rs,cs,us,ds,as)}catch(ls){this.onError(ls)}}realtimeSubscribeToLocalSignalStrengthChange(rs){try{if(this.state.localSignalStrengthChangeCallbacks.push(rs),this.state.localAttendeeId===null)return;this.sendLocalSignalStrengthChange(this.state.localAttendeeId,!0)}catch(ns){this.onError(ns)}}realtimeUnsubscribeToLocalSignalStrengthChange(rs){try{const ns=this.state.localSignalStrengthChangeCallbacks.indexOf(rs);ns!==-1&&this.state.localSignalStrengthChangeCallbacks.splice(ns,1)}catch(ns){this.onError(ns)}}realtimeSubscribeToSendDataMessage(rs){try{this.state.sendDataMessageCallbacks.push(rs)}catch(ns){this.onError(ns)}}realtimeUnsubscribeFromSendDataMessage(rs){try{const ns=this.state.sendDataMessageCallbacks.indexOf(rs);ns!==-1&&this.state.sendDataMessageCallbacks.splice(ns,1)}catch(ns){this.onError(ns)}}realtimeSendDataMessage(rs,ns,os){try{for(const ss of this.state.sendDataMessageCallbacks)ss(rs,ns,os)}catch(ss){this.onError(ss)}}realtimeSubscribeToReceiveDataMessage(rs,ns){try{this.state.receiveDataMessageCallbacks.has(rs)?this.state.receiveDataMessageCallbacks.get(rs).push(ns):this.state.receiveDataMessageCallbacks.set(rs,[ns])}catch(os){this.onError(os)}}realtimeUnsubscribeFromReceiveDataMessage(rs){try{this.state.receiveDataMessageCallbacks.delete(rs)}catch(ns){this.onError(ns)}}realtimeReceiveDataMessage(rs){try{if(this.state.receiveDataMessageCallbacks.has(rs.topic))for(const ns of this.state.receiveDataMessageCallbacks.get(rs.topic))ns(rs)}catch(ns){this.onError(ns)}}realtimeSubscribeToFatalError(rs){try{this.state.fatalErrorCallbacks.push(rs)}catch(ns){this.onError(ns)}}realtimeUnsubscribeToFatalError(rs){try{const ns=this.state.fatalErrorCallbacks.indexOf(rs);ns!==-1&&this.state.fatalErrorCallbacks.splice(ns,1)}catch(ns){this.onError(ns)}}get transcriptionController(){return this._transcriptionController}setAudioInputEnabled(rs){rs?this.mediaStreamBroker.unmuteLocalAudioInputStream():this.mediaStreamBroker.muteLocalAudioInputStream()}applyLocalMuteOverride(rs,ns){const os=this.state.localAttendeeId,ss=this.state.muted;return rs!==os||!("activeDevices"in this.mediaStreamBroker&&this.mediaStreamBroker.activeDevices.audio)?ns:ss}sendVolumeIndicatorChange(rs,ns,os,ss,as){if(this.sendLocalSignalStrengthChange(rs,ss),!this.state.volumeIndicatorCallbacks.hasOwnProperty(rs))return;const ls=this.getVolumeIndicatorState(rs),cs=new RealtimeVolumeIndicator_1.default;if(ns&&(cs.volume=ls.volume),os&&(cs.muted=ls.muted),ss&&(cs.signalStrength=ls.signalStrength),!this.stateIsEmpty(cs))for(const us of this.state.volumeIndicatorCallbacks[rs])us(rs,cs.volume,cs.muted,cs.signalStrength,as)}sendLocalSignalStrengthChange(rs,ns){if(!ns||rs!==this.state.localAttendeeId)return;const ss=this.getVolumeIndicatorState(rs).signalStrength;if(ss!==null)for(const as of this.state.localSignalStrengthChangeCallbacks)as(ss)}getVolumeIndicatorState(rs){return this.state.volumeIndicatorState.hasOwnProperty(rs)||(this.state.volumeIndicatorState[rs]=new RealtimeVolumeIndicator_1.default),this.state.volumeIndicatorState[rs]}stateIsEmpty(rs){return rs.volume===null&&rs.muted===null&&rs.signalStrength===null}onError(rs){try{for(const ns of this.state.fatalErrorCallbacks)ns(rs)}catch(ns){try{console.error(rs),console.error(ns)}catch{}}}}DefaultRealtimeController$1.default=DefaultRealtimeController;var DefaultSessionStateController$1={},SessionStateControllerAction={};(function(ts){Object.defineProperty(ts,"__esModule",{value:!0}),ts.SessionStateControllerAction=void 0;var rs;(function(ns){ns[ns.Connect=0]="Connect",ns[ns.FinishConnecting=1]="FinishConnecting",ns[ns.Update=2]="Update",ns[ns.FinishUpdating=3]="FinishUpdating",ns[ns.Reconnect=4]="Reconnect",ns[ns.Disconnect=5]="Disconnect",ns[ns.Fail=6]="Fail",ns[ns.FinishDisconnecting=7]="FinishDisconnecting"})(rs=ts.SessionStateControllerAction||(ts.SessionStateControllerAction={})),ts.default=rs})(SessionStateControllerAction);var SessionStateControllerDeferPriority={};(function(ts){Object.defineProperty(ts,"__esModule",{value:!0}),ts.SessionStateControllerDeferPriority=void 0;var rs;(function(ns){ns[ns.DoNotDefer=0]="DoNotDefer",ns[ns.Low=1]="Low",ns[ns.Medium=2]="Medium",ns[ns.High=3]="High",ns[ns.VeryHigh=4]="VeryHigh"})(rs=ts.SessionStateControllerDeferPriority||(ts.SessionStateControllerDeferPriority={})),ts.default=rs})(SessionStateControllerDeferPriority);var SessionStateControllerState={};(function(ts){Object.defineProperty(ts,"__esModule",{value:!0}),ts.SessionStateControllerState=void 0;var rs;(function(ns){ns[ns.NotConnected=0]="NotConnected",ns[ns.Connecting=1]="Connecting",ns[ns.Connected=2]="Connected",ns[ns.Updating=3]="Updating",ns[ns.Disconnecting=4]="Disconnecting"})(rs=ts.SessionStateControllerState||(ts.SessionStateControllerState={})),ts.default=rs})(SessionStateControllerState);var SessionStateControllerTransitionResult={};(function(ts){Object.defineProperty(ts,"__esModule",{value:!0}),ts.SessionStateControllerTransitionResult=void 0;var rs;(function(ns){ns[ns.Transitioned=0]="Transitioned",ns[ns.NoTransitionAvailable=1]="NoTransitionAvailable",ns[ns.DeferredTransition=2]="DeferredTransition",ns[ns.TransitionFailed=3]="TransitionFailed"})(rs=ts.SessionStateControllerTransitionResult||(ts.SessionStateControllerTransitionResult={})),ts.default=rs})(SessionStateControllerTransitionResult);Object.defineProperty(DefaultSessionStateController$1,"__esModule",{value:!0});const SessionStateControllerAction_1=SessionStateControllerAction,SessionStateControllerDeferPriority_1=SessionStateControllerDeferPriority,SessionStateControllerState_1=SessionStateControllerState,SessionStateControllerTransitionResult_1=SessionStateControllerTransitionResult;class DefaultSessionStateController{constructor(rs){this.logger=rs,this.currentState=SessionStateControllerState_1.SessionStateControllerState.NotConnected,this.deferredAction=null,this.deferredWork=null}perform(rs,ns){const os=this.currentState;if(os===SessionStateControllerState_1.SessionStateControllerState.NotConnected&&rs===SessionStateControllerAction_1.SessionStateControllerAction.Connect)this.transition(SessionStateControllerState_1.SessionStateControllerState.Connecting,rs);else if(os===SessionStateControllerState_1.SessionStateControllerState.Connecting&&rs===SessionStateControllerAction_1.SessionStateControllerAction.Fail)this.transition(SessionStateControllerState_1.SessionStateControllerState.Disconnecting,rs);else if(os===SessionStateControllerState_1.SessionStateControllerState.Connecting&&rs===SessionStateControllerAction_1.SessionStateControllerAction.FinishConnecting)this.transition(SessionStateControllerState_1.SessionStateControllerState.Connected,rs);else if(os===SessionStateControllerState_1.SessionStateControllerState.Connected&&rs===SessionStateControllerAction_1.SessionStateControllerAction.Disconnect)this.transition(SessionStateControllerState_1.SessionStateControllerState.Disconnecting,rs);else if(os===SessionStateControllerState_1.SessionStateControllerState.Connected&&rs===SessionStateControllerAction_1.SessionStateControllerAction.Reconnect)this.transition(SessionStateControllerState_1.SessionStateControllerState.Connecting,rs);else if(os===SessionStateControllerState_1.SessionStateControllerState.Connected&&rs===SessionStateControllerAction_1.SessionStateControllerAction.Fail)this.transition(SessionStateControllerState_1.SessionStateControllerState.Disconnecting,rs);else if(os===SessionStateControllerState_1.SessionStateControllerState.Connected&&rs===SessionStateControllerAction_1.SessionStateControllerAction.Update)this.transition(SessionStateControllerState_1.SessionStateControllerState.Updating,rs);else if(os===SessionStateControllerState_1.SessionStateControllerState.Updating&&rs===SessionStateControllerAction_1.SessionStateControllerAction.Fail)this.transition(SessionStateControllerState_1.SessionStateControllerState.Disconnecting,rs);else if(os===SessionStateControllerState_1.SessionStateControllerState.Updating&&rs===SessionStateControllerAction_1.SessionStateControllerAction.FinishUpdating)this.transition(SessionStateControllerState_1.SessionStateControllerState.Connected,rs);else if(os===SessionStateControllerState_1.SessionStateControllerState.Disconnecting&&rs===SessionStateControllerAction_1.SessionStateControllerAction.FinishDisconnecting)this.transition(SessionStateControllerState_1.SessionStateControllerState.NotConnected,rs);else return this.canDefer(rs)?(this.logger.info("deferring transition from ".concat(SessionStateControllerState_1.SessionStateControllerState[this.currentState]," with ").concat(SessionStateControllerAction_1.SessionStateControllerAction[rs])),this.deferAction(rs,ns),SessionStateControllerTransitionResult_1.SessionStateControllerTransitionResult.DeferredTransition):(this.logger.warn("no transition found from ".concat(SessionStateControllerState_1.SessionStateControllerState[this.currentState]," with ").concat(SessionStateControllerAction_1.SessionStateControllerAction[rs])),SessionStateControllerTransitionResult_1.SessionStateControllerTransitionResult.NoTransitionAvailable);try{ns()}catch(ss){return this.logger.error("error during state ".concat(SessionStateControllerState_1.SessionStateControllerState[this.currentState]," with action ").concat(SessionStateControllerAction_1.SessionStateControllerAction[rs],": ").concat(ss)),this.logger.info("rolling back transition to ".concat(SessionStateControllerState_1.SessionStateControllerState[os])),this.currentState=os,SessionStateControllerTransitionResult_1.SessionStateControllerTransitionResult.TransitionFailed}return this.performDeferredAction(),SessionStateControllerTransitionResult_1.SessionStateControllerTransitionResult.Transitioned}state(){return this.currentState}transition(rs,ns){this.logger.info("transitioning from ".concat(SessionStateControllerState_1.SessionStateControllerState[this.currentState]," to ").concat(SessionStateControllerState_1.SessionStateControllerState[rs]," with ").concat(SessionStateControllerAction_1.SessionStateControllerAction[ns])),this.currentState=rs}deferPriority(rs){switch(rs){case SessionStateControllerAction_1.SessionStateControllerAction.Disconnect:return SessionStateControllerDeferPriority_1.SessionStateControllerDeferPriority.VeryHigh;case SessionStateControllerAction_1.SessionStateControllerAction.Fail:return SessionStateControllerDeferPriority_1.SessionStateControllerDeferPriority.High;case SessionStateControllerAction_1.SessionStateControllerAction.Reconnect:return SessionStateControllerDeferPriority_1.SessionStateControllerDeferPriority.Medium;case SessionStateControllerAction_1.SessionStateControllerAction.Update:return SessionStateControllerDeferPriority_1.SessionStateControllerDeferPriority.Low;default:return SessionStateControllerDeferPriority_1.SessionStateControllerDeferPriority.DoNotDefer}}deferAction(rs,ns){this.deferredAction!==null&&this.deferPriority(this.deferredAction)>this.deferPriority(rs)||(this.deferredAction=rs,this.deferredWork=ns)}canDefer(rs){return this.deferPriority(rs)!==SessionStateControllerDeferPriority_1.SessionStateControllerDeferPriority.DoNotDefer&&(this.currentState===SessionStateControllerState_1.SessionStateControllerState.Connecting||this.currentState===SessionStateControllerState_1.SessionStateControllerState.Updating)}performDeferredAction(){if(!this.deferredAction)return;const rs=this.deferredAction,ns=this.deferredWork;this.deferredAction=null,this.deferredWork=null,this.logger.info("performing deferred action ".concat(SessionStateControllerAction_1.SessionStateControllerAction[rs])),this.perform(rs,ns)!==SessionStateControllerTransitionResult_1.SessionStateControllerTransitionResult.Transitioned&&this.logger.info("unable to perform deferred action ".concat(SessionStateControllerAction_1.SessionStateControllerAction[rs]," in state ").concat(SessionStateControllerState_1.SessionStateControllerState[this.currentState]))}}DefaultSessionStateController$1.default=DefaultSessionStateController;var DefaultSignalingClient$1={},Utils$1={},__importDefault$14=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(Utils$1,"__esModule",{value:!0});Utils$1.getRandomValues=Utils$1.getFormattedOffset=Utils$1.getDefaultAssetSpec=Utils$1.toLowerCasePropertyNames=Utils$1.isIFramed=Utils$1.wait=void 0;const Versioning_1$7=__importDefault$14(Versioning$1);function wait(ts){return new Promise(rs=>setTimeout(rs,ts))}Utils$1.wait=wait;function isIFramed(){var ts;try{return((ts=window.frameElement)===null||ts===void 0?void 0:ts.nodeName)==="IFRAME"||parent!==top}catch{return!0}}Utils$1.isIFramed=isIFramed;function toLowerCasePropertyNames(ts){return ts===null?null:typeof ts!="object"?ts:Array.isArray(ts)?ts.map(toLowerCasePropertyNames):Object.keys(ts).reduce((rs,ns)=>{const os=ts[ns],ss=typeof os=="object"?toLowerCasePropertyNames(os):os;return rs[ns.toLowerCase()]=ss,rs},{})}Utils$1.toLowerCasePropertyNames=toLowerCasePropertyNames;function getDefaultAssetSpec(){const ts=Versioning_1$7.default.sdkVersionSemVer;return{assetGroup:"sdk-".concat(ts.major,".").concat(ts.minor)}}Utils$1.getDefaultAssetSpec=getDefaultAssetSpec;function getFormattedOffset(ts){const rs=Math.abs(ts),ns=ts<=0?"+":"-",os=Math.floor(rs/60).toString().padStart(2,"0"),ss=Math.floor(rs%60).toString().padStart(2,"0");return"".concat(ns).concat(os,":").concat(ss)}Utils$1.getFormattedOffset=getFormattedOffset;function getRandomValues$2(ts){try{window.crypto.getRandomValues(ts)}catch{new DataView(ts.buffer).setUint32(0,Math.trunc(Math.random()*Math.pow(2,32)),!0)}}Utils$1.getRandomValues=getRandomValues$2;var VideoQualityAdaptationPreference={};(function(ts){Object.defineProperty(ts,"__esModule",{value:!0}),ts.VideoQualityAdaptationPreference=void 0;var rs;(function(ns){ns[ns.Balanced=0]="Balanced",ns[ns.MaintainFramerate=1]="MaintainFramerate",ns[ns.MaintainResolution=2]="MaintainResolution"})(rs=ts.VideoQualityAdaptationPreference||(ts.VideoQualityAdaptationPreference={})),ts.default=rs})(VideoQualityAdaptationPreference);var WebSocketReadyState={};(function(ts){Object.defineProperty(ts,"__esModule",{value:!0}),ts.WebSocketReadyState=void 0;var rs;(function(ns){ns[ns.None=0]="None",ns[ns.Connecting=1]="Connecting",ns[ns.Open=2]="Open",ns[ns.Closing=3]="Closing",ns[ns.Closed=4]="Closed"})(rs=ts.WebSocketReadyState||(ts.WebSocketReadyState={})),ts.default=rs})(WebSocketReadyState);var ServerSideNetworkAdaption={};(function(ts){Object.defineProperty(ts,"__esModule",{value:!0}),ts.convertServerSideNetworkAdaptionEnumToSignaled=ts.convertServerSideNetworkAdaptionEnumFromSignaled=ts.serverSideNetworkAdaptionIsNoneOrDefault=ts.ServerSideNetworkAdaption=void 0;const rs=SignalingProtocol;var ns;(function(ls){ls[ls.Default=0]="Default",ls[ls.None=1]="None",ls[ls.BandwidthProbing=2]="BandwidthProbing",ls[ls.BandwidthProbingAndRemoteVideoQualityAdaption=3]="BandwidthProbingAndRemoteVideoQualityAdaption"})(ns=ts.ServerSideNetworkAdaption||(ts.ServerSideNetworkAdaption={})),ts.default=ns;function os(ls){return ls===ns.None||ls===ns.Default}ts.serverSideNetworkAdaptionIsNoneOrDefault=os;function ss(ls){switch(ls){case rs.SdkServerSideNetworkAdaption.DEFAULT:return ns.Default;case rs.SdkServerSideNetworkAdaption.NONE:return ns.None;case rs.SdkServerSideNetworkAdaption.BANDWIDTH_PROBING:return ns.BandwidthProbing;case rs.SdkServerSideNetworkAdaption.BANDWIDTH_PROBING_AND_VIDEO_QUALITY_ADAPTION:return ns.BandwidthProbingAndRemoteVideoQualityAdaption}}ts.convertServerSideNetworkAdaptionEnumFromSignaled=ss;function as(ls){switch(ls){case ns.Default:return rs.SdkServerSideNetworkAdaption.DEFAULT;case ns.None:return rs.SdkServerSideNetworkAdaption.NONE;case ns.BandwidthProbing:return rs.SdkServerSideNetworkAdaption.BANDWIDTH_PROBING;case ns.BandwidthProbingAndRemoteVideoQualityAdaption:return rs.SdkServerSideNetworkAdaption.BANDWIDTH_PROBING_AND_VIDEO_QUALITY_ADAPTION}}ts.convertServerSideNetworkAdaptionEnumToSignaled=as})(ServerSideNetworkAdaption);var SignalingClientEvent$1={},__importDefault$13=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(SignalingClientEvent$1,"__esModule",{value:!0});const SignalingClientEventType_1$a=__importDefault$13(SignalingClientEventType);class SignalingClientEvent{constructor(rs,ns,os,ss,as){this.client=rs,this.type=ns,this.message=os,this.closeCode=ss,this.closeReason=as,this.timestampMs=Date.now()}isConnectionTerminated(){switch(this.type){case SignalingClientEventType_1$a.default.WebSocketFailed:case SignalingClientEventType_1$a.default.WebSocketError:case SignalingClientEventType_1$a.default.WebSocketClosing:case SignalingClientEventType_1$a.default.WebSocketClosed:return!0;default:return!1}}}SignalingClientEvent$1.default=SignalingClientEvent;var __importDefault$12=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(DefaultSignalingClient$1,"__esModule",{value:!0});const DefaultBrowserBehavior_1$4=__importDefault$12(DefaultBrowserBehavior$1),TimeoutScheduler_1$2=__importDefault$12(TimeoutScheduler$1),SignalingProtocol_js_1$c=SignalingProtocol,Utils_1$5=Utils$1,Versioning_1$6=__importDefault$12(Versioning$1),VideoQualityAdaptationPreference_1$2=__importDefault$12(VideoQualityAdaptationPreference),WebSocketReadyState_1$2=__importDefault$12(WebSocketReadyState),ServerSideNetworkAdaption_1$6=ServerSideNetworkAdaption,SignalingClientEvent_1=__importDefault$12(SignalingClientEvent$1),SignalingClientEventType_1$9=__importDefault$12(SignalingClientEventType);class DefaultSignalingClient{constructor(rs,ns){this.webSocket=rs,this.logger=ns,this.unloadHandler=null,this.closeEventHandler=os=>{this.deactivatePageUnloadHandler(),this.resetConnection(),this.sendEvent(new SignalingClientEvent_1.default(this,SignalingClientEventType_1$9.default.WebSocketClosed,null,os.code,os.reason)),this.serviceConnectionRequestQueue()},this.observerQueue=new Set,this.connectionRequestQueue=[],this.resetConnection(),this.logger.debug(()=>"signaling client init"),this.audioSessionId=this.generateNewAudioSessionId()}registerObserver(rs){this.logger.debug(()=>"registering signaling client observer"),this.observerQueue.add(rs)}removeObserver(rs){this.logger.debug(()=>"removing signaling client observer"),this.observerQueue.delete(rs)}openConnection(rs){this.logger.info("adding connection request to queue: "+rs.url()),this.connectionRequestQueue.push(rs),this.closeConnection()}pingPong(rs){this.logger.debug(()=>"sending ping");const ns=SignalingProtocol_js_1$c.SdkSignalFrame.create();return ns.type=SignalingProtocol_js_1$c.SdkSignalFrame.Type.PING_PONG,ns.pingPong=rs,this.sendMessage(ns),ns.timestampMs}join(rs){this.logger.info("sending join");const ns=SignalingProtocol_js_1$c.SdkJoinFrame.create();ns.protocolVersion=2,ns.flags=SignalingProtocol_js_1$c.SdkJoinFlags.HAS_STREAM_UPDATE;const os=new DefaultBrowserBehavior_1$4.default,ss={platformName:os.name(),platformVersion:os.version(),clientSource:Versioning_1$6.default.sdkName,chimeSdkVersion:Versioning_1$6.default.sdkVersion,clientUtcOffset:Utils_1$5.getFormattedOffset(new Date().getTimezoneOffset())};if(rs.applicationMetadata){const{appName:ls,appVersion:cs}=rs.applicationMetadata;ss.appName=ls,ss.appVersion=cs}ns.clientDetails=SignalingProtocol_js_1$c.SdkClientDetails.create(ss),ns.audioSessionId=this.audioSessionId,ns.wantsCompressedSdp=DefaultSignalingClient.CLIENT_SUPPORTS_COMPRESSION,ns.disablePeriodicKeyframeRequestOnContentSender=rs.disablePeriodicKeyframeRequestOnContentSender,ns.serverSideNetworkAdaption=ServerSideNetworkAdaption_1$6.convertServerSideNetworkAdaptionEnumToSignaled(rs.serverSideNetworkAdaption),ns.supportedServerSideNetworkAdaptions=rs.supportedServerSideNetworkAdaptions.map(ServerSideNetworkAdaption_1$6.convertServerSideNetworkAdaptionEnumToSignaled),ns.wantsAllTemporalLayersInIndex=rs.wantsAllTemporalLayersInIndex;const as=SignalingProtocol_js_1$c.SdkSignalFrame.create();as.type=SignalingProtocol_js_1$c.SdkSignalFrame.Type.JOIN,as.join=ns,this.sendMessage(as)}subscribe(rs){const ns=SignalingProtocol_js_1$c.SdkSubscribeFrame.create();if(ns.sendStreams=[],ns.sdpOffer=rs.sdpOffer,rs.connectionTypeHasVideo&&(ns.receiveStreamIds=rs.receiveStreamIds),rs.audioHost&&(ns.audioCheckin=rs.audioCheckin,ns.audioHost=rs.audioHost,ns.audioMuted=rs.audioMuted,!rs.audioCheckin)){const ss=SignalingProtocol_js_1$c.SdkStreamDescriptor.create();ss.mediaType=SignalingProtocol_js_1$c.SdkStreamMediaType.AUDIO,ss.trackLabel="AmazonChimeExpressAudio",ss.attendeeId=rs.attendeeId,ss.streamId=1,ss.groupId=1,ss.framerate=15,ss.maxBitrateKbps=600,ss.avgBitrateBps=4e5,ns.sendStreams.push(ss)}if(ns.compressedSdpOffer=rs.compressedSdpOffer,ns.duplex=SignalingProtocol_js_1$c.SdkStreamServiceType.RX,rs.localVideoEnabled){ns.duplex=SignalingProtocol_js_1$c.SdkStreamServiceType.DUPLEX;for(let ss=0;ss<rs.videoStreamDescriptions.length;ss++){const as=rs.videoStreamDescriptions[ss].clone();as.attendeeId=rs.attendeeId,ns.sendStreams.push(as.toStreamDescriptor())}}rs.videoSubscriptionConfiguration.length>0&&(ns.videoSubscriptionConfiguration=rs.videoSubscriptionConfiguration.map(this.convertSignalingClientVideoSubscriptionConfiguration));const os=SignalingProtocol_js_1$c.SdkSignalFrame.create();os.type=SignalingProtocol_js_1$c.SdkSignalFrame.Type.SUBSCRIBE,os.sub=ns,this.sendMessage(os)}remoteVideoUpdate(rs,ns){const os=SignalingProtocol_js_1$c.SdkRemoteVideoUpdateFrame.create();os.addedOrUpdatedVideoSubscriptions=rs.map(this.convertSignalingClientVideoSubscriptionConfiguration),os.removedVideoSubscriptionMids=ns;const ss=SignalingProtocol_js_1$c.SdkSignalFrame.create();ss.type=SignalingProtocol_js_1$c.SdkSignalFrame.Type.REMOTE_VIDEO_UPDATE,ss.remoteVideoUpdate=os,this.sendMessage(ss)}convertSignalingClientVideoSubscriptionConfiguration(rs){const ns=new SignalingProtocol_js_1$c.SdkVideoSubscriptionConfiguration;switch(ns.mid=rs.mid,ns.attendeeId=rs.attendeeId,ns.streamId=rs.streamId,ns.groupId=rs.groupId,ns.priority=rs.priority,ns.targetBitrateKbps=rs.targetBitrateKbps,rs.qualityAdaptationPreference){case VideoQualityAdaptationPreference_1$2.default.Balanced:ns.qualityAdaptationPreference=SignalingProtocol_js_1$c.SdkVideoQualityAdaptationPreference.BALANCED;break;case VideoQualityAdaptationPreference_1$2.default.MaintainFramerate:ns.qualityAdaptationPreference=SignalingProtocol_js_1$c.SdkVideoQualityAdaptationPreference.MAINTAIN_FRAMERATE;break;case VideoQualityAdaptationPreference_1$2.default.MaintainResolution:ns.qualityAdaptationPreference=SignalingProtocol_js_1$c.SdkVideoQualityAdaptationPreference.MAINTAIN_RESOLUTION;break;default:ns.qualityAdaptationPreference=SignalingProtocol_js_1$c.SdkVideoQualityAdaptationPreference.BALANCED}return ns}leave(){const rs=SignalingProtocol_js_1$c.SdkSignalFrame.create();rs.type=SignalingProtocol_js_1$c.SdkSignalFrame.Type.LEAVE,rs.leave=SignalingProtocol_js_1$c.SdkLeaveFrame.create(),this.sendMessage(rs),this.logger.debug(()=>"sent leave")}sendClientMetrics(rs){const ns=SignalingProtocol_js_1$c.SdkSignalFrame.create();ns.type=SignalingProtocol_js_1$c.SdkSignalFrame.Type.CLIENT_METRIC,ns.clientMetric=rs,this.sendMessage(ns)}sendDataMessage(rs){const ns=SignalingProtocol_js_1$c.SdkSignalFrame.create();ns.type=SignalingProtocol_js_1$c.SdkSignalFrame.Type.DATA_MESSAGE,ns.dataMessage=rs,this.sendMessage(ns)}closeConnection(){var rs,ns;if(this.webSocket.readyState()!==WebSocketReadyState_1$2.default.None&&this.webSocket.readyState()!==WebSocketReadyState_1$2.default.Closed){this.isClosing=!0,this.sendEvent(new SignalingClientEvent_1.default(this,SignalingClientEventType_1$9.default.WebSocketClosing,null));const os=new TimeoutScheduler_1$2.default(DefaultSignalingClient.CLOSE_EVENT_TIMEOUT_MS),ss=as=>{var ls,cs;(cs=(ls=this.webSocket).removeEventListener)===null||cs===void 0||cs.call(ls,"close",ss),os.stop(),this.closeEventHandler(as)};(ns=(rs=this.webSocket).removeEventListener)===null||ns===void 0||ns.call(rs,"close",this.closeEventHandler),this.webSocket.addEventListener("close",ss),os.start(()=>{ss(new CloseEvent("close",{wasClean:!1,code:1006,reason:"",bubbles:!1}))}),this.webSocket.close(),this.deactivatePageUnloadHandler()}else this.logger.info("no existing signaling client connection needs closing"),this.serviceConnectionRequestQueue()}ready(){return this.webSocket.readyState()===WebSocketReadyState_1$2.default.Open&&!this.isClosing&&this.wasOpened}mute(rs){const ns=SignalingProtocol_js_1$c.SdkSignalFrame.create();ns.type=SignalingProtocol_js_1$c.SdkSignalFrame.Type.AUDIO_CONTROL;const os=SignalingProtocol_js_1$c.SdkAudioControlFrame.create();os.muted=rs,ns.audioControl=os,this.sendMessage(ns)}pause(rs){const ns=SignalingProtocol_js_1$c.SdkSignalFrame.create();ns.type=SignalingProtocol_js_1$c.SdkSignalFrame.Type.PAUSE,ns.pause=SignalingProtocol_js_1$c.SdkPauseResumeFrame.create(),ns.pause.streamIds=rs,this.sendMessage(ns)}resume(rs){const ns=SignalingProtocol_js_1$c.SdkSignalFrame.create();ns.type=SignalingProtocol_js_1$c.SdkSignalFrame.Type.RESUME,ns.pause=SignalingProtocol_js_1$c.SdkPauseResumeFrame.create(),ns.pause.streamIds=rs,this.sendMessage(ns)}resetConnection(){this.webSocket.destroy(),this.wasOpened=!1}sendMessage(rs){rs.timestampMs=Date.now(),this.logger.debug(()=>"sending: ".concat(JSON.stringify(rs)));const ns=this.prependWithFrameTypeRTC(SignalingProtocol_js_1$c.SdkSignalFrame.encode(rs).finish());if(this.ready()){if(!this.webSocket.send(ns)){this.sendEvent(new SignalingClientEvent_1.default(this,SignalingClientEventType_1$9.default.WebSocketSendMessageFailure,null));return}this.sendEvent(new SignalingClientEvent_1.default(this,SignalingClientEventType_1$9.default.WebSocketSentMessage,null))}else this.sendEvent(new SignalingClientEvent_1.default(this,SignalingClientEventType_1$9.default.WebSocketSkippedMessage,null))}receiveMessage(rs){let ns;try{ns=SignalingProtocol_js_1$c.SdkSignalFrame.decode(rs)}catch{this.logger.info("failed to decode: ".concat(rs)),this.sendEvent(new SignalingClientEvent_1.default(this,SignalingClientEventType_1$9.default.ProtocolDecodeFailure,null));return}this.logger.debug(()=>"received: ".concat(JSON.stringify(ns))),this.webSocket.readyState()===WebSocketReadyState_1$2.default.Open?this.sendEvent(new SignalingClientEvent_1.default(this,SignalingClientEventType_1$9.default.ReceivedSignalFrame,ns)):this.logger.info("skipping notification of message since WebSocket is not open: ".concat(JSON.stringify(ns)))}stripFrameTypeRTC(rs){const ns=rs[0];return ns!==DefaultSignalingClient.FRAME_TYPE_RTC&&ns!==2&&this.logger.warn("expected FrameTypeRTC for message but got ".concat(ns)),rs.slice(1)}prependWithFrameTypeRTC(rs){const ns=new Uint8Array(rs.length+1);return ns[0]=DefaultSignalingClient.FRAME_TYPE_RTC,ns.set(rs,1),ns}serviceConnectionRequestQueue(){if(this.connectionRequestQueue.length===0){this.logger.info("no connection requests to service");return}const rs=this.connectionRequestQueue.shift();this.logger.info("opening connection to ".concat(rs.url())),this.isClosing=!1,this.webSocket.create(rs.url(),rs.protocols()),this.setUpEventListeners(),this.sendEvent(new SignalingClientEvent_1.default(this,SignalingClientEventType_1$9.default.WebSocketConnecting,null))}sendEvent(rs){switch(rs.type){case SignalingClientEventType_1$9.default.WebSocketMessage:case SignalingClientEventType_1$9.default.ReceivedSignalFrame:case SignalingClientEventType_1$9.default.WebSocketSentMessage:this.logger.debug(()=>"notifying event: ".concat(SignalingClientEventType_1$9.default[rs.type]));break;case SignalingClientEventType_1$9.default.WebSocketSkippedMessage:this.logger.debug(()=>"notifying event: ".concat(SignalingClientEventType_1$9.default[rs.type],", websocket state=").concat(WebSocketReadyState_1$2.default[this.webSocket.readyState()]));break;default:this.logger.info("notifying event: ".concat(SignalingClientEventType_1$9.default[rs.type]));break}for(const ns of this.observerQueue)ns.handleSignalingClientEvent(rs)}setUpEventListeners(){this.webSocket.addEventListener("open",()=>{this.activatePageUnloadHandler(),this.wasOpened=!0,this.sendEvent(new SignalingClientEvent_1.default(this,SignalingClientEventType_1$9.default.WebSocketOpen,null))}),this.webSocket.addEventListener("message",rs=>{this.sendEvent(new SignalingClientEvent_1.default(this,SignalingClientEventType_1$9.default.WebSocketMessage,null)),this.receiveMessage(this.stripFrameTypeRTC(new Uint8Array(rs.data)))}),this.webSocket.addEventListener("close",this.closeEventHandler),this.webSocket.addEventListener("error",()=>{if(this.isClosing&&!this.wasOpened){this.logger.info("ignoring error closing signaling while connecting");return}this.wasOpened?(this.logger.error("received error while connected"),this.sendEvent(new SignalingClientEvent_1.default(this,SignalingClientEventType_1$9.default.WebSocketError,null))):(this.logger.error("failed to connect"),this.sendEvent(new SignalingClientEvent_1.default(this,SignalingClientEventType_1$9.default.WebSocketFailed,null)))})}activatePageUnloadHandler(){this.unloadHandler=()=>{this.leave()};const rs=commonjsGlobal$1;rs.window&&rs.window.addEventListener&&window.addEventListener("unload",this.unloadHandler)}deactivatePageUnloadHandler(){const rs=commonjsGlobal$1;rs.window&&rs.window.removeEventListener&&window.removeEventListener("unload",this.unloadHandler),this.unloadHandler=null}generateNewAudioSessionId(){const rs=new Uint32Array(1);return Utils_1$5.getRandomValues(rs),rs[0]}promoteToPrimaryMeeting(rs){const ns=SignalingProtocol_js_1$c.SdkMeetingSessionCredentials.create();ns.attendeeId=rs.attendeeId,ns.externalUserId=rs.externalUserId,ns.joinToken=rs.joinToken;const os=SignalingProtocol_js_1$c.SdkPrimaryMeetingJoinFrame.create();os.credentials=ns;const ss=SignalingProtocol_js_1$c.SdkSignalFrame.create();ss.type=SignalingProtocol_js_1$c.SdkSignalFrame.Type.PRIMARY_MEETING_JOIN,ss.primaryMeetingJoin=os,this.sendMessage(ss)}demoteFromPrimaryMeeting(){const rs=SignalingProtocol_js_1$c.SdkPrimaryMeetingLeaveFrame.create(),ns=SignalingProtocol_js_1$c.SdkSignalFrame.create();ns.type=SignalingProtocol_js_1$c.SdkSignalFrame.Type.PRIMARY_MEETING_LEAVE,ns.primaryMeetingLeave=rs,this.sendMessage(ns)}}DefaultSignalingClient$1.default=DefaultSignalingClient;DefaultSignalingClient.FRAME_TYPE_RTC=5;DefaultSignalingClient.CLOSE_EVENT_TIMEOUT_MS=2e3;DefaultSignalingClient.CLIENT_SUPPORTS_COMPRESSION=!0;var SignalingClientVideoSubscriptionConfiguration$1={};Object.defineProperty(SignalingClientVideoSubscriptionConfiguration$1,"__esModule",{value:!0});class SignalingClientVideoSubscriptionConfiguration{equals(rs){return rs!==void 0&&this.mid===rs.mid&&this.attendeeId===rs.attendeeId&&this.streamId===rs.streamId&&this.groupId===rs.groupId&&this.priority===rs.priority&&this.targetBitrateKbps===rs.targetBitrateKbps&&this.qualityAdaptationPreference===rs.qualityAdaptationPreference}}SignalingClientVideoSubscriptionConfiguration$1.default=SignalingClientVideoSubscriptionConfiguration;var StatsCollector$1={},RedundantAudioRecoveryMetricReport$1={};Object.defineProperty(RedundantAudioRecoveryMetricReport$1,"__esModule",{value:!0});class RedundantAudioRecoveryMetricReport{constructor(){this.currentTimestampMs=0,this.ssrc=0,this.totalAudioPacketsLost=0,this.totalAudioPacketsExpected=0,this.totalAudioPacketsRecoveredRed=0,this.totalAudioPacketsRecoveredFec=0}}RedundantAudioRecoveryMetricReport$1.default=RedundantAudioRecoveryMetricReport;var StreamMetricReport$1={};Object.defineProperty(StreamMetricReport$1,"__esModule",{value:!0});class StreamMetricReport{constructor(){this.previousMetrics={},this.currentMetrics={},this.currentStringMetrics={},this.previousObjectMetrics={},this.currentObjectMetrics={}}}StreamMetricReport$1.default=StreamMetricReport;var MeetingSessionLifecycleEvent={};(function(ts){Object.defineProperty(ts,"__esModule",{value:!0}),ts.MeetingSessionLifecycleEvent=void 0;var rs;(function(ns){ns[ns.Connecting=0]="Connecting",ns[ns.Started=1]="Started",ns[ns.Stopped=2]="Stopped"})(rs=ts.MeetingSessionLifecycleEvent||(ts.MeetingSessionLifecycleEvent={})),ts.default=rs})(MeetingSessionLifecycleEvent);var MeetingSessionLifecycleEventCondition={};(function(ts){Object.defineProperty(ts,"__esModule",{value:!0}),ts.MeetingSessionLifecycleEventCondition=void 0;var rs;(function(ns){ns[ns.ConnectingNew=0]="ConnectingNew",ns[ns.ReconnectingExisting=1]="ReconnectingExisting",ns[ns.StartedNew=2]="StartedNew",ns[ns.StartedExisting=3]="StartedExisting",ns[ns.StartedAfterReconnect=4]="StartedAfterReconnect",ns[ns.StoppedCleanly=5]="StoppedCleanly",ns[ns.StoppedWithFailure=6]="StoppedWithFailure"})(rs=ts.MeetingSessionLifecycleEventCondition||(ts.MeetingSessionLifecycleEventCondition={})),ts.default=rs})(MeetingSessionLifecycleEventCondition);var __awaiter$L=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,rs,ns,os){function ss(as){return as instanceof ns?as:new ns(function(ls){ls(as)})}return new(ns||(ns=Promise))(function(as,ls){function cs(ps){try{ds(os.next(ps))}catch(fs){ls(fs)}}function us(ps){try{ds(os.throw(ps))}catch(fs){ls(fs)}}function ds(ps){ps.done?as(ps.value):ss(ps.value).then(cs,us)}ds((os=os.apply(ts,rs||[])).next())})},__importDefault$11=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(StatsCollector$1,"__esModule",{value:!0});const ClientMetricReport_1=__importDefault$11(ClientMetricReport$1),ClientMetricReportDirection_1$2=__importDefault$11(ClientMetricReportDirection),ClientMetricReportMediaType_1$2=__importDefault$11(ClientMetricReportMediaType),RedundantAudioRecoveryMetricReport_1$1=__importDefault$11(RedundantAudioRecoveryMetricReport$1),StreamMetricReport_1=__importDefault$11(StreamMetricReport$1),MeetingSessionLifecycleEvent_1=__importDefault$11(MeetingSessionLifecycleEvent),MeetingSessionLifecycleEventCondition_1=__importDefault$11(MeetingSessionLifecycleEventCondition),IntervalScheduler_1$2=__importDefault$11(IntervalScheduler$1),SignalingProtocol_js_1$b=SignalingProtocol,Types_1$5=Types,AudioLogEvent_1$1=__importDefault$11(AudioLogEvent),VideoLogEvent_1=__importDefault$11(VideoLogEvent);class StatsCollector{constructor(rs,ns,os=StatsCollector.INTERVAL_MS){this.audioVideoController=rs,this.logger=ns,this.interval=os,this.intervalScheduler=null,this.redRecoveryMetricReport=new RedundantAudioRecoveryMetricReport_1$1.default,this.lastRedRecoveryMetricReportConsumedTimestampMs=0,this.videoCodecDegradationHighEncodeCpuCount=0,this.videoCodecDegradationEncodeFailureCount=0,this.metricsAddTime=(ss,as,ls)=>{},this.metricsLogEvent=(ss,as)=>{}}toAttribute(rs){return this.toSuffix(rs).substring(1)}toSuffix(rs){return rs.toLowerCase()===rs?"_".concat(rs):rs.toUpperCase()===rs?"_".concat(rs.toLowerCase()):rs.replace(/([A-Z][a-z]+)/g,function(ns){return"_".concat(ns)}).replace(/([A-Z][A-Z]+)/g,function(ns){return"_".concat(ns)}).toLowerCase()}logLatency(rs,ns,os){const ss=this.toSuffix(rs);this.logEventTime("meeting"+ss,ns,os)}logStateTimeout(rs,ns){const os=this.toSuffix(rs);this.logEvent("meeting_session_state_timeout",Object.assign(Object.assign({},ns),{state:"state".concat(os)}))}logAudioEvent(rs,ns){const os="audio"+this.toSuffix(AudioLogEvent_1$1.default[rs]);this.logEvent(os,ns)}logVideoEvent(rs,ns){const os="video"+this.toSuffix(VideoLogEvent_1.default[rs]);this.logEvent(os,ns)}logEventTime(rs,ns,os={}){const ss=Object.assign(Object.assign({},os),{call_id:this.audioVideoController.configuration.meetingId,client_type:StatsCollector.CLIENT_TYPE,metric_type:"latency"});this.logger.debug(()=>"[StatsCollector] ".concat(rs,": ").concat(JSON.stringify(ss))),this.metricsAddTime(rs,ns,ss)}logMeetingSessionStatus(rs){const ns="".concat(rs.statusCode());this.logEvent(ns);const os={status:ns,status_code:"".concat(rs.statusCode())};this.logEvent("meeting_session_status",os),rs.isTerminal()&&this.logEvent("meeting_session_stopped",os),rs.isAudioConnectionFailure()&&this.logEvent("meeting_session_audio_failed",os),rs.isFailure()&&this.logEvent("meeting_session_failed",os)}logLifecycleEvent(rs,ns){const os={lifecycle_event:"lifecycle".concat(this.toSuffix(MeetingSessionLifecycleEvent_1.default[rs])),lifecycle_event_code:"".concat(rs),lifecycle_event_condition:"condition".concat(this.toSuffix(MeetingSessionLifecycleEventCondition_1.default[ns])),lifecycle_event_condition_code:"".concat(ns)};this.logEvent("meeting_session_lifecycle",os)}logEvent(rs,ns={}){const os=Object.assign(Object.assign({},ns),{call_id:this.audioVideoController.configuration.meetingId,client_type:StatsCollector.CLIENT_TYPE});this.logger.debug(()=>"[StatsCollector] ".concat(rs,": ").concat(JSON.stringify(os))),this.metricsLogEvent(rs,os)}start(rs,ns){return this.intervalScheduler?!1:(this.logger.info("Starting StatsCollector"),this.signalingClient=rs,this.videoStreamIndex=ns,this.clientMetricReport=new ClientMetricReport_1.default(this.logger,this.videoStreamIndex,this.audioVideoController.configuration.credentials.attendeeId),this.intervalScheduler=new IntervalScheduler_1$2.default(this.interval),this.intervalScheduler.start(()=>__awaiter$L(this,void 0,void 0,function*(){yield this.getStatsWrapper()})),!0)}stop(){this.logger.info("Stopping StatsCollector"),this.intervalScheduler&&this.intervalScheduler.stop(),this.intervalScheduler=null}updateMetricValues(rs,ns){const os=ns?this.clientMetricReport.streamMetricReports[Number(rs.ssrc)]:this.clientMetricReport.globalMetricReport;let ss;ns?ss=this.clientMetricReport.getMetricMap(os.mediaType,os.direction):ss=this.clientMetricReport.getMetricMap();for(const as in rs)as in ss&&(typeof rs[as]=="number"?(os.previousMetrics[as]=os.currentMetrics[as],os.currentMetrics[as]=rs[as]):typeof rs[as]=="string"?os.currentStringMetrics[as]=rs[as]:typeof rs[as]=="object"?(os.previousObjectMetrics[as]=os.currentObjectMetrics[as]===void 0?rs[as]:os.currentObjectMetrics[as],os.currentObjectMetrics[as]=rs[as]):this.logger.error("Unknown metric value type ".concat(typeof rs[as]," for metric ").concat(as)))}processRawMetricReports(rs){this.clientMetricReport.currentSsrcs={};const ns=Date.now();for(const os of rs){const ss=this.isStreamRawMetricReport(os.type);if(ss){const as=this.clientMetricReport.streamMetricReports[Number(os.ssrc)];if(as)as.mediaType===ClientMetricReportMediaType_1$2.default.VIDEO&&as.direction===ClientMetricReportDirection_1$2.default.UPSTREAM?as.streamId=this.videoStreamIndex.sendVideoStreamIdFromRid(os.rid):as.streamId=this.videoStreamIndex.streamIdForSSRC(Number(os.ssrc));else{const ls=new StreamMetricReport_1.default;ls.mediaType=this.getMediaType(os),ls.direction=this.getDirectionType(os),ls.mediaType===ClientMetricReportMediaType_1$2.default.VIDEO&&ls.direction===ClientMetricReportDirection_1$2.default.UPSTREAM?ls.streamId=this.videoStreamIndex.sendVideoStreamIdFromRid(os.rid):this.videoStreamIndex.allStreams().empty()||(ls.streamId=this.videoStreamIndex.streamIdForSSRC(Number(os.ssrc)),this.videoStreamIndex.groupIdForSSRC!==void 0&&(ls.groupId=this.videoStreamIndex.groupIdForSSRC(Number(os.ssrc)))),this.clientMetricReport.streamMetricReports[Number(os.ssrc)]=ls}this.clientMetricReport.currentSsrcs[Number(os.ssrc)]=1}this.updateMetricValues(os,ss)}this.clientMetricReport.removeDestroyedSsrcs(),this.clientMetricReport.previousTimestampMs=this.clientMetricReport.currentTimestampMs,this.clientMetricReport.currentTimestampMs=ns,this.clientMetricReport.print()}addStreamMetricDimensionFrames(rs,ns){const os=this.clientMetricReport.getStreamDimensionMap();for(const ss in ns.currentStringMetrics)if(ss in os){const as=SignalingProtocol_js_1$b.SdkStreamDimension.create();as.type=os[ss];const ls=SignalingProtocol_js_1$b.SdkDimensionValue.create();ls.stringValue=ns.currentStringMetrics[ss],as.value=ls,rs.dimensions.push(as)}}addMetricFrame(rs,ns,os,ss){const as=os.type,ls=os.transform,cs=os.source,us=ns.streamMetricFrames.length,ds=ns.streamMetricFrames[us-1];if(as){const ps=SignalingProtocol_js_1$b.SdkMetric.create();ps.type=as,ps.value=ls(cs||rs,ss),ss?ds.metrics.push(ps):ns.globalMetrics.push(ps)}}addGlobalMetricsToProtobuf(rs){const ns=this.clientMetricReport.getMetricMap();for(const os in this.clientMetricReport.globalMetricReport.currentMetrics)this.addMetricFrame(os,rs,ns[os])}addStreamMetricsToProtobuf(rs){for(const ns in this.clientMetricReport.streamMetricReports){const os=this.clientMetricReport.streamMetricReports[ns],ss=SignalingProtocol_js_1$b.SdkStreamMetricFrame.create();ss.streamId=os.streamId,ss.metrics=[],this.addStreamMetricDimensionFrames(ss,os),rs.streamMetricFrames.push(ss);const as=this.clientMetricReport.getMetricMap(os.mediaType,os.direction);for(const ls in os.currentMetrics)this.addMetricFrame(ls,rs,as[ls],Number(ns));for(const ls in os.currentStringMetrics)this.addMetricFrame(ls,rs,as[ls],Number(ns));for(const ls in os.currentObjectMetrics)this.addMetricFrame(ls,rs,as[ls],Number(ns))}}makeClientMetricProtobuf(){const rs=SignalingProtocol_js_1$b.SdkClientMetricFrame.create();return rs.globalMetrics=[],rs.streamMetricFrames=[],this.addGlobalMetricsToProtobuf(rs),this.addStreamMetricsToProtobuf(rs),rs}sendClientMetricProtobuf(rs){this.signalingClient.sendClientMetrics(rs)}isStreamRawMetricReport(rs){return["inbound-rtp","inbound-rtp-red","outbound-rtp","remote-inbound-rtp","remote-outbound-rtp"].includes(rs)}getMediaType(rs){return rs.kind==="audio"?ClientMetricReportMediaType_1$2.default.AUDIO:ClientMetricReportMediaType_1$2.default.VIDEO}getDirectionType(rs){const{type:ns}=rs;return ns==="inbound-rtp"||ns==="remote-outbound-rtp"||ns==="inbound-rtp-red"?ClientMetricReportDirection_1$2.default.DOWNSTREAM:ClientMetricReportDirection_1$2.default.UPSTREAM}isValidStandardRawMetric(rs){return rs.type==="inbound-rtp"||rs.type==="inbound-rtp-red"||rs.type==="outbound-rtp"||rs.type==="remote-inbound-rtp"||rs.type==="remote-outbound-rtp"||rs.type==="candidate-pair"&&rs.state==="succeeded"||rs.type==="media-source"&&rs.kind==="audio"}isValidSsrc(rs){let ns=!0;return this.isStreamRawMetricReport(rs.type)&&this.getDirectionType(rs)===ClientMetricReportDirection_1$2.default.DOWNSTREAM&&this.getMediaType(rs)===ClientMetricReportMediaType_1$2.default.VIDEO&&(ns=this.videoStreamIndex.streamIdForSSRC(Number(rs.ssrc))>0),ns}isValidRawMetricReport(rs){return this.isValidStandardRawMetric(rs)&&this.isValidSsrc(rs)}filterRawMetricReports(rs){const ns=[];for(const os of rs)this.isValidRawMetricReport(os)&&ns.push(os);return ns}handleRawMetricReports(rs){const ns=this.filterRawMetricReports(rs);this.logger.debug(()=>"Filtered raw metrics : ".concat(JSON.stringify(ns)));const os=[];this.maybeAddRedRecoveryMetrics(os),this.addVideoCodecDegradationMetrics(os),this.clientMetricReport.customStatsReports=os,ns.push(...os),this.processRawMetricReports(ns);const ss=this.makeClientMetricProtobuf();this.sendClientMetricProtobuf(ss),this.audioVideoController.forEachObserver(as=>{Types_1$5.Maybe.of(as.metricsDidReceive).map(ls=>ls.bind(as)(this.clientMetricReport.clone()))})}getStatsWrapper(){return __awaiter$L(this,void 0,void 0,function*(){if(!this.audioVideoController.rtcPeerConnection)return;const rs=[];try{const ns=yield this.audioVideoController.rtcPeerConnection.getStats();this.clientMetricReport.rtcStatsReport=ns,ns.forEach(os=>{rs.push(os)}),this.handleRawMetricReports(rs)}catch(ns){this.logger.error(ns.message)}})}overrideObservableMetric(rs,ns){this.clientMetricReport.overrideObservableMetric(rs,ns)}recoveryMetricsDidReceive(rs){this.redRecoveryMetricReport=rs}maybeAddRedRecoveryMetrics(rs){this.redRecoveryMetricReport.currentTimestampMs!==this.lastRedRecoveryMetricReportConsumedTimestampMs&&(rs.push({kind:"audio",type:"inbound-rtp-red",ssrc:this.redRecoveryMetricReport.ssrc,timestamp:this.redRecoveryMetricReport.currentTimestampMs,totalAudioPacketsLost:this.redRecoveryMetricReport.totalAudioPacketsLost,totalAudioPacketsExpected:this.redRecoveryMetricReport.totalAudioPacketsExpected,totalAudioPacketsRecoveredRed:this.redRecoveryMetricReport.totalAudioPacketsRecoveredRed,totalAudioPacketsRecoveredFec:this.redRecoveryMetricReport.totalAudioPacketsRecoveredFec}),this.lastRedRecoveryMetricReportConsumedTimestampMs=this.redRecoveryMetricReport.currentTimestampMs)}videoCodecDegradationHighEncodeCpuDidReceive(){this.videoCodecDegradationHighEncodeCpuCount+=1}videoCodecDegradationEncodeFailureDidReceive(){this.videoCodecDegradationEncodeFailureCount+=1}addVideoCodecDegradationMetrics(rs){const ns=this.clientMetricReport.getVideoUpstreamSsrc();ns!==null&&rs.push({kind:"video",type:"outbound-rtp",ssrc:ns,timestamp:Date.now(),videoCodecDegradationHighEncodeCpu:this.videoCodecDegradationHighEncodeCpuCount,videoCodecDegradationEncodeFailure:this.videoCodecDegradationEncodeFailureCount}),this.videoCodecDegradationHighEncodeCpuCount=0,this.videoCodecDegradationEncodeFailureCount=0}}StatsCollector$1.default=StatsCollector;StatsCollector.INTERVAL_MS=1e3;StatsCollector.CLIENT_TYPE="amazon-chime-sdk-js";var FinishGatheringICECandidatesTask$1={},__awaiter$K=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,rs,ns,os){function ss(as){return as instanceof ns?as:new ns(function(ls){ls(as)})}return new(ns||(ns=Promise))(function(as,ls){function cs(ps){try{ds(os.next(ps))}catch(fs){ls(fs)}}function us(ps){try{ds(os.throw(ps))}catch(fs){ls(fs)}}function ds(ps){ps.done?as(ps.value):ss(ps.value).then(cs,us)}ds((os=os.apply(ts,rs||[])).next())})},__importDefault$10=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(FinishGatheringICECandidatesTask$1,"__esModule",{value:!0});const MeetingSessionStatusCode_1$4=__importDefault$10(MeetingSessionStatusCode),SDP_1$3=__importDefault$10(SDP$1),BaseTask_1$j=__importDefault$10(BaseTask$1);class FinishGatheringICECandidatesTask extends BaseTask_1$j.default{constructor(rs,ns=FinishGatheringICECandidatesTask.CHROME_VPN_TIMEOUT_MS){super(rs.logger),this.context=rs,this.chromeVpnTimeoutMs=ns,this.taskName="FinishGatheringICECandidatesTask"}removeEventListener(){this.context.peer&&(this.context.peer.removeEventListener("icecandidate",this.context.iceCandidateHandler),this.context.turnCredentials||this.context.peer.removeEventListener("icegatheringstatechange",this.context.iceGatheringStateEventHandler))}cancel(){let rs;this.context.browserBehavior.requiresIceCandidateGatheringTimeoutWorkaround()&&this.chromeVpnTimeoutMs<this.context.meetingSessionConfiguration.connectionTimeoutMs&&Date.now()-this.startTimestampMs>this.chromeVpnTimeoutMs&&(rs=new Error("canceling ".concat(this.name()," due to the meeting status code: ").concat(MeetingSessionStatusCode_1$4.default.ICEGatheringTimeoutWorkaround))),this.cancelPromise&&(rs=rs||new Error("canceling ".concat(this.name())),this.cancelPromise(rs),delete this.cancelPromise)}run(){return __awaiter$K(this,void 0,void 0,function*(){if(this.context.peer||this.logAndThrow("session does not have peer connection; bypass ice gathering"),this.context.browserBehavior.requiresCheckForSdpConnectionAttributes()){if(new SDP_1$3.default(this.context.peer.localDescription.sdp).hasCandidatesForAllMLines()){this.context.logger.info("ice gathering already complete; bypass gathering, current local description ".concat(this.context.peer.localDescription.sdp));return}}else this.context.logger.info("iOS device does not require checking for connection attributes in SDP, current local description ".concat(this.context.peer.localDescription.sdp));if((this.context.browserBehavior.hasFirefoxWebRTC()||this.context.peer.iceGatheringState==="complete")&&new SDP_1$3.default(this.context.peer.localDescription.sdp).hasCandidates()){this.context.logger.info("ice gathering state is complete and candidates are in SDP; bypass gathering");return}try{yield new Promise((rs,ns)=>{this.cancelPromise=os=>{this.removeEventListener(),ns(os)},this.context.turnCredentials||(this.context.iceGatheringStateEventHandler=()=>{if(this.context.peer.iceGatheringState==="complete"){this.removeEventListener(),rs(),delete this.cancelPromise;return}},this.context.peer.addEventListener("icegatheringstatechange",this.context.iceGatheringStateEventHandler)),this.context.iceCandidateHandler=os=>{if(this.context.logger.info("ice candidate: ".concat(os.candidate?os.candidate.candidate:"(null)"," state: ").concat(this.context.peer.iceGatheringState)),os.candidate&&(SDP_1$3.default.isRTPCandidate(os.candidate.candidate)&&this.context.iceCandidates.push(os.candidate),this.context.turnCredentials&&this.context.iceCandidates.length>=1)){this.context.logger.info("gathered at least one relay candidate"),this.removeEventListener(),rs(),delete this.cancelPromise;return}this.context.peer.iceGatheringState==="complete"&&(this.context.logger.info("done gathering ice candidates"),this.removeEventListener(),!new SDP_1$3.default(this.context.peer.localDescription.sdp).hasCandidates()||this.context.iceCandidates.length===0?(ns(new Error("no ice candidates were gathered")),delete this.cancelPromise):(rs(),delete this.cancelPromise))},this.context.peer.addEventListener("icecandidate",this.context.iceCandidateHandler),this.startTimestampMs=Date.now()})}catch(rs){throw rs}finally{this.startTimestampMs&&(this.context.iceGatheringDurationMs=Math.round(Date.now()-this.startTimestampMs))}})}}FinishGatheringICECandidatesTask$1.default=FinishGatheringICECandidatesTask;FinishGatheringICECandidatesTask.CHROME_VPN_TIMEOUT_MS=5e3;var JoinAndReceiveIndexTask$1={},MeetingSessionTURNCredentials$1={};Object.defineProperty(MeetingSessionTURNCredentials$1,"__esModule",{value:!0});class MeetingSessionTURNCredentials{constructor(){this.username=null,this.password=null,this.ttl=null,this.uris=null}}MeetingSessionTURNCredentials$1.default=MeetingSessionTURNCredentials;var SignalingClientJoin$1={},__importDefault$$=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(SignalingClientJoin$1,"__esModule",{value:!0});const ServerSideNetworkAdaption_1$5=__importDefault$$(ServerSideNetworkAdaption);class SignalingClientJoin{constructor(rs){this.applicationMetadata=rs,this.serverSideNetworkAdaption=ServerSideNetworkAdaption_1$5.default.Default,this.supportedServerSideNetworkAdaptions=[],this.wantsAllTemporalLayersInIndex=!1,this.disablePeriodicKeyframeRequestOnContentSender=!1}}SignalingClientJoin$1.default=SignalingClientJoin;var __createBinding$2=commonjsGlobal$1&&commonjsGlobal$1.__createBinding||(Object.create?function(ts,rs,ns,os){os===void 0&&(os=ns),Object.defineProperty(ts,os,{enumerable:!0,get:function(){return rs[ns]}})}:function(ts,rs,ns,os){os===void 0&&(os=ns),ts[os]=rs[ns]}),__setModuleDefault$1=commonjsGlobal$1&&commonjsGlobal$1.__setModuleDefault||(Object.create?function(ts,rs){Object.defineProperty(ts,"default",{enumerable:!0,value:rs})}:function(ts,rs){ts.default=rs}),__importStar$2=commonjsGlobal$1&&commonjsGlobal$1.__importStar||function(ts){if(ts&&ts.__esModule)return ts;var rs={};if(ts!=null)for(var ns in ts)ns!=="default"&&Object.prototype.hasOwnProperty.call(ts,ns)&&__createBinding$2(rs,ts,ns);return __setModuleDefault$1(rs,ts),rs},__awaiter$J=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,rs,ns,os){function ss(as){return as instanceof ns?as:new ns(function(ls){ls(as)})}return new(ns||(ns=Promise))(function(as,ls){function cs(ps){try{ds(os.next(ps))}catch(fs){ls(fs)}}function us(ps){try{ds(os.throw(ps))}catch(fs){ls(fs)}}function ds(ps){ps.done?as(ps.value):ss(ps.value).then(cs,us)}ds((os=os.apply(ts,rs||[])).next())})},__importDefault$_=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(JoinAndReceiveIndexTask$1,"__esModule",{value:!0});const MeetingSessionStatus_1$2=__importDefault$_(MeetingSessionStatus$1),MeetingSessionStatusCode_1$3=__importDefault$_(MeetingSessionStatusCode),MeetingSessionTURNCredentials_1=__importDefault$_(MeetingSessionTURNCredentials$1),ServerSideNetworkAdaption_1$4=__importStar$2(ServerSideNetworkAdaption),SignalingClientEventType_1$8=__importDefault$_(SignalingClientEventType),SignalingClientJoin_1=__importDefault$_(SignalingClientJoin$1),SignalingProtocol_js_1$a=SignalingProtocol,BaseTask_1$i=__importDefault$_(BaseTask$1);class JoinAndReceiveIndexTask extends BaseTask_1$i.default{constructor(rs){super(rs.logger),this.context=rs,this.taskName="JoinAndReceiveIndexTask",this.taskCanceler=null}cancel(){this.taskCanceler&&(this.taskCanceler.cancel(),this.taskCanceler=null)}run(){return __awaiter$J(this,void 0,void 0,function*(){const rs=yield new Promise((ns,os)=>{const ss=this.context;ss.turnCredentials=null;class as{constructor(ds){this.signalingClient=ds}cancel(){this.signalingClient.removeObserver(this),os(new Error("JoinAndReceiveIndexTask got canceled while waiting for SdkIndexFrame"))}handleSignalingClientEvent(ds){if(ds.type===SignalingClientEventType_1$8.default.WebSocketClosed){let fs="The signaling connection was closed with code ".concat(ds.closeCode," and reason: ").concat(ds.closeReason);ss.logger.warn(fs);let hs=MeetingSessionStatusCode_1$3.default.SignalingBadRequest;ds.closeCode===4410?(fs="The meeting already ended.",ss.logger.warn(fs),hs=MeetingSessionStatusCode_1$3.default.MeetingEnded):ds.closeCode>=4500&&ds.closeCode<4600&&(hs=MeetingSessionStatusCode_1$3.default.SignalingInternalServerError),ss.audioVideoController.handleMeetingSessionStatus(new MeetingSessionStatus_1$2.default(hs),new Error(fs));return}if(ds.type!==SignalingClientEventType_1$8.default.ReceivedSignalFrame)return;if(ds.message.type===SignalingProtocol_js_1$a.SdkSignalFrame.Type.JOIN_ACK){const fs=ds.message.joinack;if(!fs){ss.audioVideoController.handleMeetingSessionStatus(new MeetingSessionStatus_1$2.default(MeetingSessionStatusCode_1$3.default.SignalingRequestFailed),new Error("Join ACK message did not include expected frame"));return}if(fs.videoSubscriptionLimit&&(ss.videoSubscriptionLimit=fs.videoSubscriptionLimit),ss.serverSupportsCompression=fs.wantsCompressedSdp,fs.defaultServerSideNetworkAdaption!==void 0&&fs.defaultServerSideNetworkAdaption!==ServerSideNetworkAdaption_1$4.default.Default&&ss.videoDownlinkBandwidthPolicy.setServerSideNetworkAdaption!==void 0){const hs=fs.defaultServerSideNetworkAdaption;ss.logger.info("Overriding server side network adaption value to ".concat(hs)),ss.videoDownlinkBandwidthPolicy.setServerSideNetworkAdaption(ServerSideNetworkAdaption_1$4.convertServerSideNetworkAdaptionEnumFromSignaled(hs))}fs&&fs.turnCredentials?(ss.turnCredentials=new MeetingSessionTURNCredentials_1.default,ss.turnCredentials.username=fs.turnCredentials.username,ss.turnCredentials.password=fs.turnCredentials.password,ss.turnCredentials.ttl=fs.turnCredentials.ttl,ss.turnCredentials.uris=fs.turnCredentials.uris.map(hs=>ss.meetingSessionConfiguration.urls.urlRewriter(hs)).filter(hs=>!!hs)):ss.logger.error("missing TURN credentials in JoinAckFrame");return}if(ds.message.type!==SignalingProtocol_js_1$a.SdkSignalFrame.Type.INDEX)return;this.signalingClient.removeObserver(this);const ps=ds.message.index;ns(ps)}}const ls=new as(this.context.signalingClient);this.context.signalingClient.registerObserver(ls),this.taskCanceler=ls,this.context.previousSdpAnswerAsString="",this.context.previousSdpOffer=null,this.context.serverSupportsCompression=!1;const cs=new SignalingClientJoin_1.default(this.context.meetingSessionConfiguration.applicationMetadata);this.context.videoDownlinkBandwidthPolicy.getServerSideNetworkAdaption!==void 0&&this.context.videoDownlinkBandwidthPolicy.supportedServerSideNetworkAdaptions!==void 0&&(cs.serverSideNetworkAdaption=this.context.videoDownlinkBandwidthPolicy.getServerSideNetworkAdaption(),cs.supportedServerSideNetworkAdaptions=this.context.videoDownlinkBandwidthPolicy.supportedServerSideNetworkAdaptions()),this.context.videoDownlinkBandwidthPolicy.wantsAllTemporalLayersInIndex!==void 0&&(cs.wantsAllTemporalLayersInIndex=this.context.videoDownlinkBandwidthPolicy.wantsAllTemporalLayersInIndex()),cs.disablePeriodicKeyframeRequestOnContentSender=this.context.meetingSessionConfiguration.disablePeriodicKeyframeRequestOnContentSender,this.context.signalingClient.join(cs)});this.context.logger.info("received first index ".concat(JSON.stringify(rs))),this.context.indexFrame=rs})}}JoinAndReceiveIndexTask$1.default=JoinAndReceiveIndexTask;var LeaveAndReceiveLeaveAckTask$1={},__awaiter$I=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,rs,ns,os){function ss(as){return as instanceof ns?as:new ns(function(ls){ls(as)})}return new(ns||(ns=Promise))(function(as,ls){function cs(ps){try{ds(os.next(ps))}catch(fs){ls(fs)}}function us(ps){try{ds(os.throw(ps))}catch(fs){ls(fs)}}function ds(ps){ps.done?as(ps.value):ss(ps.value).then(cs,us)}ds((os=os.apply(ts,rs||[])).next())})},__importDefault$Z=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(LeaveAndReceiveLeaveAckTask$1,"__esModule",{value:!0});const SignalingClientEventType_1$7=__importDefault$Z(SignalingClientEventType),SignalingProtocol_js_1$9=SignalingProtocol,BaseTask_1$h=__importDefault$Z(BaseTask$1);class LeaveAndReceiveLeaveAckTask extends BaseTask_1$h.default{constructor(rs){super(rs.logger),this.context=rs,this.taskName="LeaveAndReceiveLeaveAckTask",this.taskCanceler=null}cancel(){this.taskCanceler&&(this.taskCanceler.cancel(),this.taskCanceler=null)}run(){return __awaiter$I(this,void 0,void 0,function*(){this.context.signalingClient.ready()&&(this.context.signalingClient.leave(),this.context.logger.info("sent leave"),yield this.receiveLeaveAck())})}receiveLeaveAck(){return new Promise((rs,ns)=>{class os{constructor(ls,cs){this.signalingClient=ls,this.logger=cs}cancel(){this.signalingClient.removeObserver(this),ns(new Error("LeaveAndReceiveLeaveAckTask got canceled while waiting for IndexFrame"))}handleSignalingClientEvent(ls){if(ls.isConnectionTerminated()){this.signalingClient.removeObserver(this),this.logger.info("LeaveAndReceiveLeaveAckTask connection terminated"),rs();return}ls.type===SignalingClientEventType_1$7.default.ReceivedSignalFrame&&ls.message.type===SignalingProtocol_js_1$9.SdkSignalFrame.Type.LEAVE_ACK&&(this.signalingClient.removeObserver(this),this.logger.info("got leave ack"),rs())}}const ss=new os(this.context.signalingClient,this.context.logger);this.taskCanceler=ss,this.context.signalingClient.registerObserver(ss)})}}LeaveAndReceiveLeaveAckTask$1.default=LeaveAndReceiveLeaveAckTask;var ListenForVolumeIndicatorsTask$1={},__awaiter$H=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,rs,ns,os){function ss(as){return as instanceof ns?as:new ns(function(ls){ls(as)})}return new(ns||(ns=Promise))(function(as,ls){function cs(ps){try{ds(os.next(ps))}catch(fs){ls(fs)}}function us(ps){try{ds(os.throw(ps))}catch(fs){ls(fs)}}function ds(ps){ps.done?as(ps.value):ss(ps.value).then(cs,us)}ds((os=os.apply(ts,rs||[])).next())})},__importDefault$Y=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(ListenForVolumeIndicatorsTask$1,"__esModule",{value:!0});const SignalingClientEventType_1$6=__importDefault$Y(SignalingClientEventType),SignalingProtocol_js_1$8=SignalingProtocol,BaseTask_1$g=__importDefault$Y(BaseTask$1);class ListenForVolumeIndicatorsTask extends BaseTask_1$g.default{constructor(rs){super(rs.logger),this.context=rs,this.taskName="ListenForVolumeIndicatorsTask",this.realtimeMuteAndUnmuteHandler=ns=>{this.context.signalingClient.mute(ns)}}run(){return __awaiter$H(this,void 0,void 0,function*(){this.context.removableObservers.push(this),this.context.signalingClient.registerObserver(this),this.context.realtimeController.realtimeSubscribeToMuteAndUnmuteLocalAudio(this.realtimeMuteAndUnmuteHandler)})}removeObserver(){this.context.realtimeController.realtimeUnsubscribeToMuteAndUnmuteLocalAudio(this.realtimeMuteAndUnmuteHandler),this.context.signalingClient.removeObserver(this)}handleSignalingClientEvent(rs){if(rs.type===SignalingClientEventType_1$6.default.ReceivedSignalFrame){if(rs.message.type===SignalingProtocol_js_1$8.SdkSignalFrame.Type.AUDIO_STREAM_ID_INFO){const ns=rs.message.audioStreamIdInfo;this.context.volumeIndicatorAdapter.sendRealtimeUpdatesForAudioStreamIdInfo(ns)}else if(rs.message.type===SignalingProtocol_js_1$8.SdkSignalFrame.Type.AUDIO_METADATA){const ns=rs.message.audioMetadata;this.context.volumeIndicatorAdapter.sendRealtimeUpdatesForAudioMetadata(ns)}}}}ListenForVolumeIndicatorsTask$1.default=ListenForVolumeIndicatorsTask;var MonitorTask$1={},ReconnectionHealthPolicy$1={},__importDefault$X=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(ReconnectionHealthPolicy$1,"__esModule",{value:!0});const BaseConnectionHealthPolicy_1$2=__importDefault$X(BaseConnectionHealthPolicy$1);class ReconnectionHealthPolicy extends BaseConnectionHealthPolicy_1$2.default{constructor(rs,ns,os){super(ns,os,"Reconnection Health"),this.logger=rs,this.audioDelayPointsOverMaximum=0,ReconnectionHealthPolicy.CONNECTION_UNHEALTHY_THRESHOLD=ns.connectionUnhealthyThreshold,ReconnectionHealthPolicy.CONNECTION_WAIT_TIME_MS=ns.connectionWaitTimeMs,ReconnectionHealthPolicy.MISSED_PONGS_THRESHOLD=ns.missedPongsUpperThreshold,ReconnectionHealthPolicy.MAXIMUM_AUDIO_DELAY_MS=ns.maximumAudioDelayMs,ReconnectionHealthPolicy.MAXIMUM_AUDIO_DELAY_DATA_POINTS=ns.maximumAudioDelayDataPoints}health(){if(this.currentData.isConnectionStartRecent(ReconnectionHealthPolicy.CONNECTION_WAIT_TIME_MS))return 1;const ns=this.currentData.consecutiveStatsWithNoPackets>=ReconnectionHealthPolicy.CONNECTION_UNHEALTHY_THRESHOLD,os=this.currentData.consecutiveMissedPongs>=ReconnectionHealthPolicy.MISSED_PONGS_THRESHOLD;this.currentData.audioSpeakerDelayMs>ReconnectionHealthPolicy.MAXIMUM_AUDIO_DELAY_MS?this.audioDelayPointsOverMaximum+=1:this.audioDelayPointsOverMaximum=0;const ss=this.audioDelayPointsOverMaximum>ReconnectionHealthPolicy.MAXIMUM_AUDIO_DELAY_DATA_POINTS;return ss&&(this.audioDelayPointsOverMaximum=0),ns||os||ss?(this.logger.warn("reconnection recommended due to: no packets received: ".concat(ns,", missed pongs: ").concat(os,", bad audio delay: ").concat(ss)),0):1}}ReconnectionHealthPolicy$1.default=ReconnectionHealthPolicy;var SendingAudioFailureConnectionHealthPolicy$1={},__importDefault$W=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(SendingAudioFailureConnectionHealthPolicy$1,"__esModule",{value:!0});const BaseConnectionHealthPolicy_1$1=__importDefault$W(BaseConnectionHealthPolicy$1);class SendingAudioFailureConnectionHealthPolicy extends BaseConnectionHealthPolicy_1$1.default{constructor(rs,ns,os){super(ns,os,"Sending Audio Health"),this.logger=rs,this.sendingAudioFailureSamplesToConsider=ns.sendingAudioFailureSamplesToConsider>0?ns.sendingAudioFailureSamplesToConsider:1,this.sendingAudioFailureInitialWaitTimeMs=ns.sendingAudioFailureInitialWaitTimeMs,this.maximumTimesToWarn=ns.maximumTimesToWarn,this.coolDownTimeMs=ns.cooldownTimeMs,this.lastWarnTimestampMs=0,this.warnCount=0}isSendingAudioUnhealthy(){const rs=!this.currentData.isConnectionStartRecent(this.sendingAudioFailureInitialWaitTimeMs),ns=this.currentData.consecutiveStatsWithNoAudioPacketsSent>=this.sendingAudioFailureSamplesToConsider;return rs&&ns}health(){if(this.isSendingAudioUnhealthy()){const rs=Date.now()-this.lastWarnTimestampMs<this.coolDownTimeMs;return this.currentHealth>this.minimumHealth()&&!rs?(this.logger.warn("Sending Audio is unhealthy for ".concat(this.sendingAudioFailureSamplesToConsider," seconds consecutively.")),this.warnCount++,this.warnCount>this.maximumTimesToWarn?(this.logger.warn("SendingAudioFailure health policy maximum warnings breached. Falling back to reporting healthy."),this.maximumHealth()):(this.lastWarnTimestampMs=Date.now(),this.minimumHealth())):this.currentHealth}return this.maximumHealth()}}SendingAudioFailureConnectionHealthPolicy$1.default=SendingAudioFailureConnectionHealthPolicy;var UnusableAudioWarningConnectionHealthPolicy$1={},__importDefault$V=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(UnusableAudioWarningConnectionHealthPolicy$1,"__esModule",{value:!0});const BaseConnectionHealthPolicy_1=__importDefault$V(BaseConnectionHealthPolicy$1);class UnusableAudioWarningConnectionHealthPolicy extends BaseConnectionHealthPolicy_1.default{constructor(rs,ns){super(rs,ns,"Unusable Audio Warning"),this.coolDownTimeMs=rs.cooldownTimeMs,this.pastSamplesToConsider=rs.pastSamplesToConsider,this.fractionalLoss=rs.fractionalLoss,this.packetsExpected=rs.packetsExpected,this.maximumTimesToWarn=rs.maximumTimesToWarn,this.lastWarnTimestampMs=0,this.warnCount=0}calculateFractionalLoss(){if(this.currentData.packetsReceivedInLastMinute.length<this.pastSamplesToConsider)return 0;const rs=this.pastSamplesToConsider,ns=rs*this.packetsExpected;let os=0;for(let ss=0;ss<rs;ss++)os+=this.currentData.packetsReceivedInLastMinute[ss];return Math.min(Math.max(1-os/ns,0),1)}health(){return Date.now()-this.lastWarnTimestampMs<this.coolDownTimeMs?this.currentHealth:this.calculateFractionalLoss()>=this.fractionalLoss?this.currentHealth!==0&&(this.lastWarnTimestampMs=Date.now(),this.warnCount++,this.warnCount>this.maximumTimesToWarn)?1:0:1}}UnusableAudioWarningConnectionHealthPolicy$1.default=UnusableAudioWarningConnectionHealthPolicy;var __awaiter$G=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,rs,ns,os){function ss(as){return as instanceof ns?as:new ns(function(ls){ls(as)})}return new(ns||(ns=Promise))(function(as,ls){function cs(ps){try{ds(os.next(ps))}catch(fs){ls(fs)}}function us(ps){try{ds(os.throw(ps))}catch(fs){ls(fs)}}function ds(ps){ps.done?as(ps.value):ss(ps.value).then(cs,us)}ds((os=os.apply(ts,rs||[])).next())})},__importDefault$U=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(MonitorTask$1,"__esModule",{value:!0});const ClientMetricReportDirection_1$1=__importDefault$U(ClientMetricReportDirection),ClientMetricReportMediaType_1$1=__importDefault$U(ClientMetricReportMediaType),ReconnectionHealthPolicy_1=__importDefault$U(ReconnectionHealthPolicy$1),SendingAudioFailureConnectionHealthPolicy_1=__importDefault$U(SendingAudioFailureConnectionHealthPolicy$1),UnusableAudioWarningConnectionHealthPolicy_1=__importDefault$U(UnusableAudioWarningConnectionHealthPolicy$1),VideoEncodingConnectionHealthPolicyName_1=__importDefault$U(VideoEncodingConnectionHealthPolicyName),MeetingSessionStatus_1$1=__importDefault$U(MeetingSessionStatus$1),MeetingSessionStatusCode_1$2=__importDefault$U(MeetingSessionStatusCode),VideoCodecCapability_1$2=__importDefault$U(VideoCodecCapability$1),SignalingClientEventType_1$5=__importDefault$U(SignalingClientEventType),SignalingProtocol_1=SignalingProtocol,AudioLogEvent_1=__importDefault$U(AudioLogEvent),Types_1$4=Types,BaseTask_1$f=__importDefault$U(BaseTask$1);class MonitorTask extends BaseTask_1$f.default{constructor(rs,ns,os){super(rs.logger),this.context=rs,this.initialConnectionHealthData=os,this.taskName="MonitorTask",this.prevSignalStrength=1,this.currentAvailableStreamAvgBitrates=null,this.hasSignalingError=!1,this.presenceHandlerCalled=!1,this.isResubscribeCheckPaused=!1,this.pendingMetricsReport=void 0,this.isMeetingConnected=!1,this.videoEncodingHealthPolicies=[],this.checkAndSendWeakSignalEvent=ss=>{const as=ss<1,ls=this.prevSignalStrength<1,cs=as?ls?null:AudioLogEvent_1.default.RedmicStartLoss:ls?AudioLogEvent_1.default.RedmicEndLoss:null;cs&&this.context.statsCollector.logAudioEvent(cs),this.prevSignalStrength=ss},this.realtimeFatalErrorCallback=ss=>{this.logger.error("realtime error: ".concat(ss,": ").concat(ss.stack)),this.context.audioVideoController.handleMeetingSessionStatus(new MeetingSessionStatus_1$1.default(MeetingSessionStatusCode_1$2.default.RealtimeApiFailed),ss)},this.realtimeAttendeeIdPresenceHandler=(ss,as)=>{var ls;const cs=this.context.meetingSessionConfiguration.credentials.attendeeId;this.logger.info("attendeePresenceReceived: ".concat(cs)),cs===ss&&as&&!this.presenceHandlerCalled&&(this.presenceHandlerCalled=!0,this.context.attendeePresenceDurationMs=Date.now()-this.context.startAudioVideoTimestamp,(ls=this.context.eventController)===null||ls===void 0||ls.publishEvent("attendeePresenceReceived",{attendeePresenceDurationMs:this.context.attendeePresenceDurationMs}))},this.generateBaseAudioVideoEventAttributes=()=>{const{signalingOpenDurationMs:ss,startTimeMs:as,iceGatheringDurationMs:ls,attendeePresenceDurationMs:cs,meetingStartDurationMs:us}=this.context;return{meetingDurationMs:as===null?0:Math.round(Date.now()-as),signalingOpenDurationMs:ss,iceGatheringDurationMs:ls,attendeePresenceDurationMs:cs,meetingStartDurationMs:us}},this.generateAudioVideoEventAttributesForReceivingAudioDropped=()=>{const ss=this.generateBaseAudioVideoEventAttributes();return Object.assign(Object.assign({},ss),{maxVideoTileCount:this.context.maxVideoTileCount,poorConnectionCount:this.context.poorConnectionCount})},this.reconnectionHealthPolicy=new ReconnectionHealthPolicy_1.default(rs.logger,Object.assign({},ns),this.initialConnectionHealthData.clone()),this.unusableAudioWarningHealthPolicy=new UnusableAudioWarningConnectionHealthPolicy_1.default(Object.assign({},ns),this.initialConnectionHealthData.clone()),this.sendingAudioFailureHealthPolicy=new SendingAudioFailureConnectionHealthPolicy_1.default(rs.logger,Object.assign({},ns),this.initialConnectionHealthData.clone());for(const ss of ns.videoEncodingHealthPolicies)this.videoEncodingHealthPolicies.push(new ss(Object.assign({},ns),this.initialConnectionHealthData.clone()))}removeObserver(){this.context.audioVideoController.removeObserver(this),this.context.realtimeController.realtimeUnsubscribeToFatalError(this.realtimeFatalErrorCallback),this.context.realtimeController.realtimeUnsubscribeToLocalSignalStrengthChange(this.checkAndSendWeakSignalEvent),this.context.realtimeController.realtimeUnsubscribeToAttendeeIdPresence(this.realtimeAttendeeIdPresenceHandler),this.context.signalingClient.removeObserver(this)}run(){return __awaiter$G(this,void 0,void 0,function*(){this.context.removableObservers.push(this),this.context.audioVideoController.addObserver(this),this.context.realtimeController.realtimeSubscribeToFatalError(this.realtimeFatalErrorCallback),this.context.realtimeController.realtimeSubscribeToLocalSignalStrengthChange(this.checkAndSendWeakSignalEvent),this.context.realtimeController.realtimeSubscribeToAttendeeIdPresence(this.realtimeAttendeeIdPresenceHandler),this.context.connectionMonitor.start(),this.context.statsCollector.start(this.context.signalingClient,this.context.videoStreamIndex),this.context.signalingClient.registerObserver(this)})}pauseResubscribeCheck(){this.isResubscribeCheckPaused=!0}resumeResubscribeCheck(){this.isResubscribeCheckPaused&&(this.isResubscribeCheckPaused=!1,this.pendingMetricsReport&&(this.context.logger.info("Resuming resubscribe check with pending metrics report"),this.checkResubscribe(this.pendingMetricsReport)&&this.context.audioVideoController.update({needsRenegotiation:!1})))}videoTileDidUpdate(rs){this.context.maxVideoTileCount=Math.max(this.context.maxVideoTileCount,this.context.videoTileController.getAllVideoTiles().length)}checkResubscribe(rs){if(this.isResubscribeCheckPaused){this.context.logger.info("Resubscribe check is paused, setting incoming client metric report as pending"),this.pendingMetricsReport=rs;return}else this.pendingMetricsReport=void 0;const ns=rs.getObservableMetrics(),os=ns.availableOutgoingBitrate,ss=ns.nackCountReceivedPerSecond;let as=!1;this.context.videoDownlinkBandwidthPolicy.updateMetrics(rs);const ls=this.context.videoDownlinkBandwidthPolicy.wantsResubscribe();if(as=as||ls,ls){const cs=this.context.videoDownlinkBandwidthPolicy.chooseSubscriptions();this.context.videosToReceive=cs.truncate(this.context.videoSubscriptionLimit),cs.size()>this.context.videosToReceive.size()&&this.logger.warn("Video receive limit exceeded. Limiting the videos to ".concat(this.context.videosToReceive.size(),". Please consider using AllHighestVideoBandwidthPolicy or VideoPriorityBasedPolicy along with chooseRemoteVideoSources api to select the video sources to be displayed.")),this.logger.info("trigger resubscribe for down=".concat(ls,"; videosToReceive=[").concat(this.context.videosToReceive.array(),"]"))}if(this.context.videoTileController.hasStartedLocalVideoTile()){this.context.videoUplinkBandwidthPolicy.updateConnectionMetric({uplinkKbps:os/1e3,nackCountPerSecond:ss});const cs=this.context.videoUplinkBandwidthPolicy.wantsResubscribe();as=as||cs,cs&&(this.logger.info("trigger resubscribe for up=".concat(cs,"; videosToReceive=[").concat(this.context.videosToReceive.array(),"]")),this.context.videoUplinkBandwidthPolicy.chooseEncodingParameters())}return as}metricsDidReceive(rs){if(this.checkResubscribe(rs)&&this.context.audioVideoController.update({needsRenegotiation:!1}),!this.currentAvailableStreamAvgBitrates)return;const ns=rs.streamMetricReports,os=new Map;for(const ss in ns)ns[ss].mediaType===ClientMetricReportMediaType_1$1.default.VIDEO&&ns[ss].direction===ClientMetricReportDirection_1$1.default.DOWNSTREAM&&os.set(ns[ss].streamId,ns[ss])}connectionHealthDidChange(rs){rs.consecutiveMissedPongs===0&&this.context.reconnectController&&this.context.reconnectController.setLastActiveTimestampMs(Date.now()),this.applyHealthPolicy(this.reconnectionHealthPolicy,rs,()=>{this.context.audioVideoController.handleMeetingSessionStatus(new MeetingSessionStatus_1$1.default(MeetingSessionStatusCode_1$2.default.ConnectionHealthReconnect),null)}),this.applyHealthPolicy(this.unusableAudioWarningHealthPolicy,rs,()=>{var ns;this.context.poorConnectionCount+=1;const os=this.generateAudioVideoEventAttributesForReceivingAudioDropped();(ns=this.context.eventController)===null||ns===void 0||ns.publishEvent("receivingAudioDropped",os),this.context.videoTileController.haveVideoTilesWithStreams()?this.context.audioVideoController.forEachObserver(ss=>{Types_1$4.Maybe.of(ss.connectionDidSuggestStopVideo).map(as=>as.bind(ss)())}):this.context.audioVideoController.forEachObserver(ss=>{Types_1$4.Maybe.of(ss.connectionDidBecomePoor).map(as=>as.bind(ss)())})},()=>{this.context.audioVideoController.forEachObserver(ns=>{Types_1$4.Maybe.of(ns.connectionDidBecomeGood).map(os=>os.bind(ns)())})});for(const ns of this.videoEncodingHealthPolicies)this.applyHealthPolicy(ns,rs,()=>{switch(this.degradeVideoCodec(ns.name),ns.name){case VideoEncodingConnectionHealthPolicyName_1.default.VideoEncodingCpuHealth:this.context.statsCollector.videoCodecDegradationHighEncodeCpuDidReceive();break;case VideoEncodingConnectionHealthPolicyName_1.default.VideoEncodingFramerateHealth:this.context.statsCollector.videoCodecDegradationEncodeFailureDidReceive();break}});this.isMeetingConnected&&this.applyHealthPolicy(this.sendingAudioFailureHealthPolicy,rs,()=>{var ns;const os=this.generateBaseAudioVideoEventAttributes();(ns=this.context.eventController)===null||ns===void 0||ns.publishEvent("sendingAudioFailed",os)},()=>{var ns;const os=this.generateBaseAudioVideoEventAttributes();(ns=this.context.eventController)===null||ns===void 0||ns.publishEvent("sendingAudioRecovered",os)})}audioVideoDidStart(){this.isMeetingConnected=!0}audioVideoDidStartConnecting(rs){this.isMeetingConnected=!1}audioVideoDidStop(rs){this.isMeetingConnected=!1}applyHealthPolicy(rs,ns,os,ss){rs.update(ns);const as=rs.healthIfChanged();as!==null&&(this.logger.info("".concat(rs.name," value is now ").concat(as)),as<=rs.minimumHealth()?Types_1$4.Maybe.of(os).map(ls=>ls.bind(this)()):Types_1$4.Maybe.of(ss).map(ls=>ls.bind(this)()))}handleBitrateFrame(rs){this.currentAvailableStreamAvgBitrates=rs,rs.serverAvailableOutgoingBitrate>0&&(this.logger.info("Received server side estimation of available incoming bitrate ".concat(rs.serverAvailableOutgoingBitrate,"kbps")),this.context.statsCollector.overrideObservableMetric("availableIncomingBitrate",rs.serverAvailableOutgoingBitrate*1e3))}handleSignalingClientEvent(rs){var ns;if(rs.type===SignalingClientEventType_1$5.default.WebSocketClosed&&(rs.closeCode===4410||rs.closeCode>=4500&&rs.closeCode<4600)||rs.type===SignalingClientEventType_1$5.default.WebSocketError||rs.type===SignalingClientEventType_1$5.default.WebSocketFailed){if(!this.hasSignalingError){const os=this.generateAudioVideoEventAttributesForReceivingAudioDropped();(ns=this.context.eventController)===null||ns===void 0||ns.publishEvent("signalingDropped",os),this.hasSignalingError=!0}}else rs.type===SignalingClientEventType_1$5.default.WebSocketOpen&&(this.hasSignalingError=!1);if(rs.type===SignalingClientEventType_1$5.default.ReceivedSignalFrame){if(rs.message.type===SignalingProtocol_1.SdkSignalFrame.Type.NOTIFICATION){switch(rs.message.notification.level){case SignalingProtocol_1.SdkNotificationFrame.NotificationLevel.INFO:this.logger.info("Received notification from server: ".concat(rs.message.notification.message));break;case SignalingProtocol_1.SdkNotificationFrame.NotificationLevel.WARNING:this.logger.warn("Received warning from server: ".concat(rs.message.notification.message));break;case SignalingProtocol_1.SdkNotificationFrame.NotificationLevel.ERROR:this.logger.error("Received error from server: ".concat(rs.message.notification.message));break;default:this.logger.error("Received notification from server with unknown level ".concat(rs.message.notification.level,": ").concat(rs.message.notification.message));break}return}if(rs.message.bitrates){const ss=rs.message.bitrates;this.context.videoStreamIndex.integrateBitratesFrame(ss),this.context.videoDownlinkBandwidthPolicy.updateIndex(this.context.videoStreamIndex),this.handleBitrateFrame(rs.message.bitrates)}const os=MeetingSessionStatus_1$1.default.fromSignalFrame(rs.message);rs.message.type!==SignalingProtocol_1.SdkSignalFrame.Type.PRIMARY_MEETING_JOIN_ACK&&os.statusCode()!==MeetingSessionStatusCode_1$2.default.OK&&this.context.audioVideoController.handleMeetingSessionStatus(os,null)}}degradeVideoCodec(rs){if(this.context.meetingSupportedVideoSendCodecPreferences!==void 0&&this.context.meetingSupportedVideoSendCodecPreferences.length>1&&!(this.context.meetingSupportedVideoSendCodecPreferences[0].equals(VideoCodecCapability_1$2.default.h264ConstrainedBaselineProfile())||this.context.meetingSupportedVideoSendCodecPreferences[0].equals(VideoCodecCapability_1$2.default.vp8()))){const ns=[];for(const os of this.context.videoSendCodecPreferences)os.equals(this.context.meetingSupportedVideoSendCodecPreferences[0])||ns.push(os);ns.length>0?(this.context.logger.info("Downgrading codec from ".concat(this.context.meetingSupportedVideoSendCodecPreferences[0].codecName," to ").concat(ns[0].codecName," due to ").concat(rs)),this.context.degradedVideoSendCodecs.push(this.context.meetingSupportedVideoSendCodecPreferences[0]),this.context.meetingSupportedVideoSendCodecPreferences=ns,this.context.audioVideoController.update({needsRenegotiation:!0})):this.context.logger.warn("Degrading video codec failed since there is no alternative codec to select. Currently degraded codecs: ".concat(this.context.degradedVideoSendCodecs.map(os=>os.codecName).join(",")))}}}MonitorTask$1.default=MonitorTask;var OpenSignalingConnectionTask$1={},SignalingClientConnectionRequest$1={};Object.defineProperty(SignalingClientConnectionRequest$1,"__esModule",{value:!0});class SignalingClientConnectionRequest{constructor(rs,ns){this.signalingURL=rs,this.joinToken=ns}url(){return this.signalingURL+"?X-Chime-Control-Protocol-Version=3&X-Amzn-Chime-Send-Close-On-Error=1"}protocols(){return["_aws_wt_session",this.joinToken]}}SignalingClientConnectionRequest$1.default=SignalingClientConnectionRequest;var __awaiter$F=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,rs,ns,os){function ss(as){return as instanceof ns?as:new ns(function(ls){ls(as)})}return new(ns||(ns=Promise))(function(as,ls){function cs(ps){try{ds(os.next(ps))}catch(fs){ls(fs)}}function us(ps){try{ds(os.throw(ps))}catch(fs){ls(fs)}}function ds(ps){ps.done?as(ps.value):ss(ps.value).then(cs,us)}ds((os=os.apply(ts,rs||[])).next())})},__importDefault$T=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(OpenSignalingConnectionTask$1,"__esModule",{value:!0});const SignalingClientConnectionRequest_1=__importDefault$T(SignalingClientConnectionRequest$1),SignalingClientEventType_1$4=__importDefault$T(SignalingClientEventType),BaseTask_1$e=__importDefault$T(BaseTask$1);class OpenSignalingConnectionTask extends BaseTask_1$e.default{constructor(rs){super(rs.logger),this.context=rs,this.taskName="OpenSignalingConnectionTask",this.taskCanceler=null}cancel(){this.taskCanceler&&(this.taskCanceler.cancel(),this.taskCanceler=null)}run(){return __awaiter$F(this,void 0,void 0,function*(){const rs=this.context.meetingSessionConfiguration;this.context.signalingClient.openConnection(new SignalingClientConnectionRequest_1.default(rs.urls.signalingURL,rs.credentials.joinToken));const ns=Date.now();try{yield new Promise((os,ss)=>{class as{constructor(us){this.signalingClient=us}cancel(){this.signalingClient.removeObserver(this),ss(new Error("OpenSignalingConnectionTask got canceled while waiting to open signaling connection"))}handleSignalingClientEvent(us){switch(us.type){case SignalingClientEventType_1$4.default.WebSocketOpen:this.signalingClient.removeObserver(this),os();break;case SignalingClientEventType_1$4.default.WebSocketFailed:this.signalingClient.removeObserver(this),ss(new Error("WebSocket connection failed"));break}}}const ls=new as(this.context.signalingClient);this.context.signalingClient.registerObserver(ls),this.taskCanceler=ls})}catch(os){throw os}finally{this.context.signalingOpenDurationMs=Math.round(Date.now()-ns),this.logger.info("Opening signaling connection took ".concat(this.context.signalingOpenDurationMs," ms"))}})}}OpenSignalingConnectionTask$1.default=OpenSignalingConnectionTask;var ParallelGroupTask$1={},__awaiter$E=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,rs,ns,os){function ss(as){return as instanceof ns?as:new ns(function(ls){ls(as)})}return new(ns||(ns=Promise))(function(as,ls){function cs(ps){try{ds(os.next(ps))}catch(fs){ls(fs)}}function us(ps){try{ds(os.throw(ps))}catch(fs){ls(fs)}}function ds(ps){ps.done?as(ps.value):ss(ps.value).then(cs,us)}ds((os=os.apply(ts,rs||[])).next())})},__importDefault$S=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(ParallelGroupTask$1,"__esModule",{value:!0});const BaseTask_1$d=__importDefault$S(BaseTask$1);class ParallelGroupTask extends BaseTask_1$d.default{constructor(rs,ns,os){super(rs),this.taskName=ns,this.tasksToRunParallel=os;for(const ss of os)ss.setParent(this)}cancel(){for(const rs of this.tasksToRunParallel)this.logger.info("canceling parallel group task ".concat(this.name()," subtask ").concat(rs.name())),rs.cancel()}run(){return __awaiter$E(this,void 0,void 0,function*(){const rs=[];for(const os of this.tasksToRunParallel)this.logger.info("parallel group task ".concat(this.name()," running subtask ").concat(os.name())),rs.push(os.run());const ns=[];for(let os=0;os<rs.length;os++){try{yield rs[os]}catch(ss){ns.push("task ".concat(this.tasksToRunParallel[os].name()," failed: ").concat(ss.message))}this.logger.info("parallel group task ".concat(this.name()," completed subtask ").concat(this.tasksToRunParallel[os].name()))}if(ns.length>0){const os=ns.join(", ");this.logAndThrow("parallel group task ".concat(this.name()," failed for tasks: ").concat(os))}this.logger.info("parallel group task ".concat(this.name()," completed"))})}}ParallelGroupTask$1.default=ParallelGroupTask;var PromoteToPrimaryMeetingTask={},hasRequiredPromoteToPrimaryMeetingTask;function requirePromoteToPrimaryMeetingTask(){if(hasRequiredPromoteToPrimaryMeetingTask)return PromoteToPrimaryMeetingTask;hasRequiredPromoteToPrimaryMeetingTask=1;var ts=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(cs,us,ds,ps){function fs(hs){return hs instanceof ds?hs:new ds(function(ms){ms(hs)})}return new(ds||(ds=Promise))(function(hs,ms){function gs(xs){try{bs(ps.next(xs))}catch(ys){ms(ys)}}function vs(xs){try{bs(ps.throw(xs))}catch(ys){ms(ys)}}function bs(xs){xs.done?hs(xs.value):fs(xs.value).then(gs,vs)}bs((ps=ps.apply(cs,us||[])).next())})},rs=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(cs){return cs&&cs.__esModule?cs:{default:cs}};Object.defineProperty(PromoteToPrimaryMeetingTask,"__esModule",{value:!0});const ns=requireBuild(),os=rs(SignalingClientEventType),ss=SignalingProtocol,as=rs(BaseTask$1);let ls=class extends as.default{constructor(us,ds,ps){super(us.logger),this.context=us,this.credentials=ds,this.completionCallback=ps,this.taskName="PromoteToPrimaryMeetingTask",this.taskCanceler=null}cancel(){this.taskCanceler&&(this.taskCanceler.cancel(),this.taskCanceler=null)}run(){return ts(this,void 0,void 0,function*(){this.context.signalingClient.ready()?(this.context.signalingClient.promoteToPrimaryMeeting(this.credentials),this.context.logger.info("Sent request to join primary meeting"),yield this.receivePrimaryMeetingJoinAck()):this.completionCallback(new ns.MeetingSessionStatus(ns.MeetingSessionStatusCode.SignalingRequestFailed))})}receivePrimaryMeetingJoinAck(){return new Promise((us,ds)=>{class ps{constructor(ms,gs,vs){this.signalingClient=ms,this.completionCallback=gs,this.logger=vs}cancel(){this.signalingClient.removeObserver(this),this.completionCallback(new ns.MeetingSessionStatus(ns.MeetingSessionStatusCode.SignalingRequestFailed)),us()}handleSignalingClientEvent(ms){ms.isConnectionTerminated()&&(this.signalingClient.removeObserver(this),this.logger.info("PromoteToPrimaryMeetingTask connection terminated"),this.completionCallback(new ns.MeetingSessionStatus(ns.MeetingSessionStatusCode.SignalingRequestFailed)),us()),ms.type===os.default.ReceivedSignalFrame&&ms.message.type===ss.SdkSignalFrame.Type.PRIMARY_MEETING_JOIN_ACK&&(this.signalingClient.removeObserver(this),this.logger.info("Got a primary meeting join ACK"),this.completionCallback(ns.MeetingSessionStatus.fromSignalFrame(ms.message)),us())}}const fs=new ps(this.context.signalingClient,this.completionCallback,this.context.logger);this.taskCanceler=fs,this.context.signalingClient.registerObserver(fs)})}};return PromoteToPrimaryMeetingTask.default=ls,PromoteToPrimaryMeetingTask}var ReceiveAudioInputTask$1={},__awaiter$D=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,rs,ns,os){function ss(as){return as instanceof ns?as:new ns(function(ls){ls(as)})}return new(ns||(ns=Promise))(function(as,ls){function cs(ps){try{ds(os.next(ps))}catch(fs){ls(fs)}}function us(ps){try{ds(os.throw(ps))}catch(fs){ls(fs)}}function ds(ps){ps.done?as(ps.value):ss(ps.value).then(cs,us)}ds((os=os.apply(ts,rs||[])).next())})},__importDefault$R=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(ReceiveAudioInputTask$1,"__esModule",{value:!0});const BaseTask_1$c=__importDefault$R(BaseTask$1);class ReceiveAudioInputTask extends BaseTask_1$c.default{constructor(rs){super(rs.logger),this.context=rs,this.taskName="ReceiveAudioInputTask"}run(){var rs,ns;return __awaiter$D(this,void 0,void 0,function*(){if(!(!((ns=(rs=this.context.meetingSessionConfiguration)===null||rs===void 0?void 0:rs.urls)===null||ns===void 0)&&ns.audioHostURL)){this.context.logger.info("No audio connection: not acquiring audio input");return}if(this.context.activeAudioInput){this.context.logger.info("an active audio input exists");return}let os;try{os=yield this.context.mediaStreamBroker.acquireAudioInputStream()}catch{this.context.logger.warn("could not acquire audio input from current device")}os?this.context.activeAudioInput=os:this.context.logger.warn("an audio input is not available")})}}ReceiveAudioInputTask$1.default=ReceiveAudioInputTask;var ReceiveRemoteVideoPauseResumeTask={},__awaiter$C=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,rs,ns,os){function ss(as){return as instanceof ns?as:new ns(function(ls){ls(as)})}return new(ns||(ns=Promise))(function(as,ls){function cs(ps){try{ds(os.next(ps))}catch(fs){ls(fs)}}function us(ps){try{ds(os.throw(ps))}catch(fs){ls(fs)}}function ds(ps){ps.done?as(ps.value):ss(ps.value).then(cs,us)}ds((os=os.apply(ts,rs||[])).next())})},__importDefault$Q=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(ReceiveRemoteVideoPauseResumeTask,"__esModule",{value:!0});const SignalingClientEventType_1$3=__importDefault$Q(SignalingClientEventType),SignalingProtocol_js_1$7=SignalingProtocol,BaseTask_1$b=__importDefault$Q(BaseTask$1);class ReceiveRemoteVideoPauseResume extends BaseTask_1$b.default{constructor(rs){super(rs.logger),this.context=rs,this.taskName="ReceiveRemoteVideoPauseResume",this.serverPausedVideoTileIds=new Set}removeObserver(){this.context.signalingClient.removeObserver(this)}run(){return __awaiter$C(this,void 0,void 0,function*(){this.context.signalingClient.registerObserver(this),this.context.removableObservers.push(this)})}updateSubscribedGroupdIds(rs){const ns=new Set;for(const os of rs){const ss=this.context.videoStreamIndex.attendeeIdForGroupId(os);if(ss.length===0){this.logger.warn("Could not find attendee ID for newly subscribed group ID ".concat(os));continue}let as=this.context.videoTileController.getVideoTileForAttendeeId(ss);as===void 0&&(this.logger.info("No existing video tile for attendee ID ".concat(ss," with new group ID ").concat(os,". Creating new one.")),as=this.context.videoTileController.addVideoTile(),as.bindVideoStream(ss,!1,null,0,0,0,null)),ns.add(as.id())}this.serverPausedVideoTileIds.forEach(os=>{ns.has(os)||this.serverPausedVideoTileIds.delete(os)})}handleSignalingClientEvent(rs){if(rs.type!==SignalingClientEventType_1$3.default.ReceivedSignalFrame||rs.message.type!==SignalingProtocol_js_1$7.SdkSignalFrame.Type.PAUSE&&rs.message.type!==SignalingProtocol_js_1$7.SdkSignalFrame.Type.RESUME)return;const ns=rs.message.pause,os=rs.message.type;if(this.logger.info("Received new ".concat(os===SignalingProtocol_js_1$7.SdkSignalFrame.Type.PAUSE?"pause":"resume"," frame: ").concat(JSON.stringify(ns))),!ns||this.context.videoTileController.getVideoTileForAttendeeId===void 0||this.context.videoDownlinkBandwidthPolicy.forEachObserver===void 0||this.context.videoStreamIndex.attendeeIdForGroupId===void 0)return;const ss=ns.groupIds.map(as=>{const ls=this.context.videoStreamIndex.attendeeIdForGroupId(as);if(ls.length===0){this.logger.warn("Could not find attendee ID for paused group ID ".concat(as));return}return this.context.videoTileController.getVideoTileForAttendeeId(ls)});for(const as of ss)as!==void 0&&(os===SignalingProtocol_js_1$7.SdkSignalFrame.Type.PAUSE?as.state().paused||(this.serverPausedVideoTileIds.add(as.id()),this.context.videoDownlinkBandwidthPolicy.forEachObserver(ls=>{ls.tileWillBePausedByDownlinkPolicy(as.id())}),as.pause()):as.state().paused&&this.serverPausedVideoTileIds.has(as.id())&&(this.serverPausedVideoTileIds.delete(as.id()),this.context.videoDownlinkBandwidthPolicy.forEachObserver(ls=>{ls.tileWillBeUnpausedByDownlinkPolicy(as.id())}),as.unpause()))}}ReceiveRemoteVideoPauseResumeTask.default=ReceiveRemoteVideoPauseResume;var ReceiveVideoInputTask$1={},__awaiter$B=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,rs,ns,os){function ss(as){return as instanceof ns?as:new ns(function(ls){ls(as)})}return new(ns||(ns=Promise))(function(as,ls){function cs(ps){try{ds(os.next(ps))}catch(fs){ls(fs)}}function us(ps){try{ds(os.throw(ps))}catch(fs){ls(fs)}}function ds(ps){ps.done?as(ps.value):ss(ps.value).then(cs,us)}ds((os=os.apply(ts,rs||[])).next())})},__importDefault$P=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(ReceiveVideoInputTask$1,"__esModule",{value:!0});const DefaultModality_1$4=__importDefault$P(DefaultModality$1),SignalingProtocol_js_1$6=SignalingProtocol,BaseTask_1$a=__importDefault$P(BaseTask$1);class ReceiveVideoInputTask extends BaseTask_1$a.default{constructor(rs){super(rs.logger),this.context=rs,this.taskName="ReceiveVideoInputTask"}checkAndApplyVideoConstraint(rs,ns,os,ss,as){return __awaiter$B(this,void 0,void 0,function*(){const ls=ns.getSettings();let cs;if(rs?cs=this.context.meetingSessionConfiguration.meetingFeatures.contentMaxResolution:cs=this.context.meetingSessionConfiguration.meetingFeatures.videoMaxResolution,os>cs.videoWidth||ss>cs.videoHeight||as>cs.videoFrameRate){const us={width:{ideal:cs.videoWidth},height:{ideal:cs.videoHeight},frameRate:{ideal:cs.videoFrameRate}};this.context.logger.warn("Video track (content = ".concat(rs,") will be constrained to: ").concat(JSON.stringify(us)," to remain below configured video quality settings, trackSettings: ").concat(JSON.stringify(ls)));try{yield ns.applyConstraints(us)}catch{this.context.logger.info("Could not apply constraint for video track (content = ".concat(rs,")"))}}})}run(){return __awaiter$B(this,void 0,void 0,function*(){const rs=this.context.videoDuplexMode===SignalingProtocol_js_1$6.SdkStreamServiceType.RX||this.context.videoDuplexMode===SignalingProtocol_js_1$6.SdkStreamServiceType.DUPLEX;if(this.context.videoTileController.hasStartedLocalVideoTile()?this.context.videoDuplexMode=rs?SignalingProtocol_js_1$6.SdkStreamServiceType.DUPLEX:SignalingProtocol_js_1$6.SdkStreamServiceType.TX:this.context.videoDuplexMode=rs?SignalingProtocol_js_1$6.SdkStreamServiceType.RX:0,this.context.videoCaptureAndEncodeParameter=this.context.videoUplinkBandwidthPolicy.chooseCaptureAndEncodeParameters(),!this.context.videoTileController.hasStartedLocalVideoTile()){this.context.logger.info("has not started local video tile"),this.context.activeVideoInput&&(this.context.activeVideoInput=void 0,this.context.videoStreamIndex.integrateUplinkPolicyDecision([]));return}const ns=this.context.videoTileController.getLocalVideoTile();let os;try{os=yield this.context.mediaStreamBroker.acquireVideoInputStream()}catch{this.context.logger.warn("could not acquire video input from current device"),this.context.videoTileController.stopLocalVideoTile()}if(this.context.enableSimulcast){const ss=this.context.videoUplinkBandwidthPolicy.chooseEncodingParameters();this.context.videoStreamIndex.integrateUplinkPolicyDecision(Array.from(ss.values()))}if(this.context.activeVideoInput=os,os){const ss=os.getVideoTracks();if(!ss||ss.length===0)return;const as=this.context.meetingSessionConfiguration.credentials.attendeeId,ls=new DefaultModality_1$4.default(as).hasModality(DefaultModality_1$4.default.MODALITY_CONTENT),cs=ss[0].getSettings();this.checkAndApplyVideoConstraint(ls,ss[0],cs.width,cs.height,cs.frameRate);const us=this.context.audioVideoController.configuration.credentials.externalUserId;ns.bindVideoStream(as,!0,os,cs.width,cs.height,null,us);for(const ds of ss)this.logger.info("Using video device label=".concat(ds.label," id=").concat(ds.id)),this.context.videoDeviceInformation.current_camera_name=ds.label,this.context.videoDeviceInformation.current_camera_id=ds.id}})}}ReceiveVideoInputTask$1.default=ReceiveVideoInputTask;var ReceiveVideoStreamIndexTask$1={},__awaiter$A=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,rs,ns,os){function ss(as){return as instanceof ns?as:new ns(function(ls){ls(as)})}return new(ns||(ns=Promise))(function(as,ls){function cs(ps){try{ds(os.next(ps))}catch(fs){ls(fs)}}function us(ps){try{ds(os.throw(ps))}catch(fs){ls(fs)}}function ds(ps){ps.done?as(ps.value):ss(ps.value).then(cs,us)}ds((os=os.apply(ts,rs||[])).next())})},__importDefault$O=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(ReceiveVideoStreamIndexTask$1,"__esModule",{value:!0});const MeetingSessionVideoAvailability_1=__importDefault$O(MeetingSessionVideoAvailability$1),DefaultModality_1$3=__importDefault$O(DefaultModality$1),VideoCodecCapability_1$1=__importDefault$O(VideoCodecCapability$1),SignalingClientEventType_1$2=__importDefault$O(SignalingClientEventType),SignalingProtocol_js_1$5=SignalingProtocol,Types_1$3=Types,BaseTask_1$9=__importDefault$O(BaseTask$1);class ReceiveVideoStreamIndexTask extends BaseTask_1$9.default{constructor(rs){super(rs.logger),this.context=rs,this.taskName="ReceiveVideoStreamIndexTask",this.isIngestionPaused=!1,this.pendingIndex=null}removeObserver(){this.context.signalingClient.removeObserver(this)}run(){return __awaiter$A(this,void 0,void 0,function*(){this.handleIndexFrame(this.context.indexFrame),this.context.signalingClient.registerObserver(this),this.context.removableObservers.push(this)})}handleSignalingClientEvent(rs){if(rs.type!==SignalingClientEventType_1$2.default.ReceivedSignalFrame||rs.message.type!==SignalingProtocol_js_1$5.SdkSignalFrame.Type.INDEX)return;const ns=rs.message.index;this.context.logger.info("received new index ".concat(JSON.stringify(ns))),this.handleIndexFrame(ns)}pauseIngestion(){this.isIngestionPaused=!0}resumeIngestion(){this.isIngestionPaused&&(this.isIngestionPaused=!1,this.pendingIndex&&(this.context.logger.info("Resuming index ingestion with pending index"),this.handleIndexFrame(this.pendingIndex)))}handleIndexFrame(rs){if(!rs)return;if(this.isIngestionPaused){this.context.logger.info("Index ingestion is paused, setting most recent index as pending"),this.pendingIndex=rs;return}else this.pendingIndex=null;const ns=this.context.audioVideoController.configuration.credentials.attendeeId;rs.sources=rs.sources.filter(us=>{const ds=new DefaultModality_1$3.default(us.attendeeId);return!(ds.base()===ns&&ds.hasModality(DefaultModality_1$3.default.MODALITY_CONTENT))});const{videoStreamIndex:os,videoDownlinkBandwidthPolicy:ss,videoUplinkBandwidthPolicy:as}=this.context,ls=os.allVideoSendingSourcesExcludingSelf(ns);os.integrateIndexFrame(rs),ss.updateIndex(os),as.updateIndex(os),this.resubscribe(ss,as),this.updateVideoAvailability(rs),this.handleIndexVideosPausedAtSource(),rs.supportedReceiveCodecIntersection.length>0&&this.handleSupportedVideoReceiveCodecIntersection(rs);const cs=os.allVideoSendingSourcesExcludingSelf(ns);this.areVideoSourcesEqual(ls,cs)||this.context.audioVideoController.forEachObserver(us=>{Types_1$3.Maybe.of(us.remoteVideoSourcesDidChange).map(ds=>ds.bind(us)(cs))})}areVideoSourcesEqual(rs,ns){if(rs.length!==ns.length)return!1;const os=(ls,cs)=>ls.attendee.attendeeId.localeCompare(cs.attendee.attendeeId),ss=[...rs].sort(os),as=[...ns].sort(os);for(let ls=0;ls<ss.length;ls++)if(ss[ls].attendee.attendeeId!==as[ls].attendee.attendeeId)return!1;return!0}resubscribe(rs,ns){const os=rs.wantsResubscribe(),ss=(this.context.videoDuplexMode===SignalingProtocol_js_1$5.SdkStreamServiceType.TX||this.context.videoDuplexMode===SignalingProtocol_js_1$5.SdkStreamServiceType.DUPLEX)&&ns.wantsResubscribe(),as=os||ss;if(this.logger.info("should resubscribe: ".concat(as," (downlink: ").concat(os," uplink: ").concat(ss,")")),!as)return;const ls=rs.chooseSubscriptions();this.context.videosToReceive=ls.truncate(this.context.videoSubscriptionLimit),ls.size()>this.context.videosToReceive.size()&&this.logger.warn("Video receive limit exceeded. Limiting the videos to ".concat(this.context.videosToReceive.size(),". Please consider using AllHighestVideoBandwidthPolicy or VideoPriorityBasedPolicy along with chooseRemoteVideoSources api to select the video sources to be displayed.")),this.context.videoCaptureAndEncodeParameter=ns.chooseCaptureAndEncodeParameters(),this.logger.info("trigger resubscribe for up=".concat(ss," down=").concat(os,"; videosToReceive=[").concat(this.context.videosToReceive.array(),"] captureParams=").concat(JSON.stringify(this.context.videoCaptureAndEncodeParameter))),this.context.audioVideoController.update({needsRenegotiation:!1})}updateVideoAvailability(rs){if(!this.context.videosToReceive){this.logger.error("videosToReceive must be set in the meeting context.");return}const ns=new MeetingSessionVideoAvailability_1.default;ns.remoteVideoAvailable=!this.context.videosToReceive.empty(),ns.canStartLocalVideo=!rs.atCapacity,(!this.context.lastKnownVideoAvailability||!this.context.lastKnownVideoAvailability.equal(ns))&&(this.context.lastKnownVideoAvailability=ns.clone(),this.context.audioVideoController.forEachObserver(os=>{Types_1$3.Maybe.of(os.videoAvailabilityDidChange).map(ss=>ss.bind(os)(ns.clone()))}))}handleSupportedVideoReceiveCodecIntersection(rs){if(this.context.videoSendCodecPreferences===void 0)return;const ns=[];let os=!1;for(const ss of this.context.videoSendCodecPreferences){if(this.context.degradedVideoSendCodecs.some(as=>ss.equals(as))){this.logger.info("Skipping ".concat(ss.codecName," since the codec has been identfied as degraded"));continue}for(const as of rs.supportedReceiveCodecIntersection)if(ss.equals(VideoCodecCapability_1$1.default.fromSignaled(as))){ns.push(ss);break}}if(ns.length>0){const ss=ns.find(as=>this.context.prioritizedSendVideoCodecCapabilities.some(ls=>as.equals(ls)));this.context.currentVideoSendCodec!==void 0&&(ss===void 0||!this.context.currentVideoSendCodec.equals(ss))&&(os=!0),this.context.meetingSupportedVideoSendCodecPreferences=ns}else this.logger.warn("Interesection of meeting receive codec support and send codec preferences has no overlap, falling back to just values provided in `setVideoCodecSendPreferences`"),this.context.meetingSupportedVideoSendCodecPreferences=void 0;this.context.videoUplinkBandwidthPolicy.setMeetingSupportedVideoSendCodecs&&this.context.videoUplinkBandwidthPolicy.setMeetingSupportedVideoSendCodecs(this.context.meetingSupportedVideoSendCodecPreferences,this.context.videoSendCodecPreferences),os&&this.context.audioVideoController.update({needsRenegotiation:!0})}handleIndexVideosPausedAtSource(){const rs=this.context.videoStreamIndex.streamsPausedAtSource();for(const ns of this.context.videoTileController.getAllVideoTiles()){const os=ns.state();rs.contain(os.streamId)?ns.markPoorConnection()&&this.logger.info("marks the tile ".concat(os.tileId," as having a poor connection")):ns.unmarkPoorConnection()&&this.logger.info("unmarks the tile ".concat(os.tileId," as having a poor connection"))}}}ReceiveVideoStreamIndexTask$1.default=ReceiveVideoStreamIndexTask;var SendAndReceiveDataMessagesTask$1={},__awaiter$z=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,rs,ns,os){function ss(as){return as instanceof ns?as:new ns(function(ls){ls(as)})}return new(ns||(ns=Promise))(function(as,ls){function cs(ps){try{ds(os.next(ps))}catch(fs){ls(fs)}}function us(ps){try{ds(os.throw(ps))}catch(fs){ls(fs)}}function ds(ps){ps.done?as(ps.value):ss(ps.value).then(cs,us)}ds((os=os.apply(ts,rs||[])).next())})},__importDefault$N=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(SendAndReceiveDataMessagesTask$1,"__esModule",{value:!0});const DataMessage_1=__importDefault$N(DataMessage$1),SignalingClientEventType_1$1=__importDefault$N(SignalingClientEventType),SignalingProtocol_js_1$4=SignalingProtocol,BaseTask_1$8=__importDefault$N(BaseTask$1);class SendAndReceiveDataMessagesTask extends BaseTask_1$8.default{constructor(rs){super(rs.logger),this.context=rs,this.taskName="SendAndReceiveDataMessagesTask",this.sendDataMessageHandler=(ns,os,ss)=>{if(this.context.signalingClient.ready()){let as;os instanceof Uint8Array?as=os:typeof os=="string"?as=new TextEncoder().encode(os):as=new TextEncoder().encode(JSON.stringify(os)),this.validateDataMessage(ns,as,ss);const ls=SignalingProtocol_js_1$4.SdkDataMessagePayload.create();ls.topic=ns,ls.lifetimeMs=ss,ls.data=as;const cs=SignalingProtocol_js_1$4.SdkDataMessageFrame.create();cs.messages=[ls],this.context.signalingClient.sendDataMessage(cs)}else this.context.logger.error("Signaling client is not ready")}}run(){return __awaiter$z(this,void 0,void 0,function*(){this.context.removableObservers.push(this),this.context.signalingClient.registerObserver(this),this.context.realtimeController.realtimeSubscribeToSendDataMessage(this.sendDataMessageHandler)})}removeObserver(){this.context.realtimeController.realtimeUnsubscribeFromSendDataMessage(this.sendDataMessageHandler),this.context.signalingClient.removeObserver(this)}handleSignalingClientEvent(rs){if(rs.type===SignalingClientEventType_1$1.default.ReceivedSignalFrame&&rs.message.type===SignalingProtocol_js_1$4.SdkSignalFrame.Type.DATA_MESSAGE)for(const ns of rs.message.dataMessage.messages){const os=new DataMessage_1.default(ns.ingestTimeNs/1e6,ns.topic,ns.data,ns.senderAttendeeId,ns.senderExternalUserId,ns.ingestTimeNs===0);this.context.realtimeController.realtimeReceiveDataMessage(os)}}validateDataMessage(rs,ns,os){if(!SendAndReceiveDataMessagesTask.TOPIC_REGEX.test(rs))throw new Error("Invalid topic");if(ns.length>SendAndReceiveDataMessagesTask.DATA_SIZE)throw new Error("Data size has to be less than 2048 bytes");if(os&&os<0)throw new Error("The life time of the message has to be non negative")}}SendAndReceiveDataMessagesTask$1.default=SendAndReceiveDataMessagesTask;SendAndReceiveDataMessagesTask.TOPIC_REGEX=new RegExp(/^[a-zA-Z0-9_-]{1,36}$/);SendAndReceiveDataMessagesTask.DATA_SIZE=2048;var SerialGroupTask$1={},__awaiter$y=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,rs,ns,os){function ss(as){return as instanceof ns?as:new ns(function(ls){ls(as)})}return new(ns||(ns=Promise))(function(as,ls){function cs(ps){try{ds(os.next(ps))}catch(fs){ls(fs)}}function us(ps){try{ds(os.throw(ps))}catch(fs){ls(fs)}}function ds(ps){ps.done?as(ps.value):ss(ps.value).then(cs,us)}ds((os=os.apply(ts,rs||[])).next())})},__importDefault$M=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(SerialGroupTask$1,"__esModule",{value:!0});const BaseTask_1$7=__importDefault$M(BaseTask$1),TaskStatus_1=__importDefault$M(TaskStatus$1);class SerialGroupTask extends BaseTask_1$7.default{constructor(rs,ns,os){super(rs),this.taskName=ns,this.tasksToRunSerially=os,this.currentTask=null;for(const ss of os)ss.setParent(this)}cancel(){this.currentTask&&(this.logger.info("canceling serial group task ".concat(this.name()," subtask ").concat(this.currentTask.name())),this.currentTask.cancel())}run(){return __awaiter$y(this,void 0,void 0,function*(){for(const rs of this.tasksToRunSerially){this.getStatus()===TaskStatus_1.default.CANCELED&&this.logAndThrow("serial group task ".concat(this.name()," was canceled"));try{this.logger.info("serial group task ".concat(this.name()," running subtask ").concat(rs.name())),this.currentTask=rs,yield rs.run(),this.logger.info("serial group task ".concat(this.name()," completed subtask ").concat(rs.name()))}catch(ns){this.logAndThrow("serial group task ".concat(this.name()," was canceled due to subtask ")+"".concat(this.currentTask.name()," error: ").concat(ns.message))}finally{this.currentTask=null}}this.logger.info("serial group task ".concat(this.name()," completed"))})}}SerialGroupTask$1.default=SerialGroupTask;var SetLocalDescriptionTask$1={},__awaiter$x=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,rs,ns,os){function ss(as){return as instanceof ns?as:new ns(function(ls){ls(as)})}return new(ns||(ns=Promise))(function(as,ls){function cs(ps){try{ds(os.next(ps))}catch(fs){ls(fs)}}function us(ps){try{ds(os.throw(ps))}catch(fs){ls(fs)}}function ds(ps){ps.done?as(ps.value):ss(ps.value).then(cs,us)}ds((os=os.apply(ts,rs||[])).next())})},__importDefault$L=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(SetLocalDescriptionTask$1,"__esModule",{value:!0});const DefaultBrowserBehavior_1$3=__importDefault$L(DefaultBrowserBehavior$1),DefaultModality_1$2=__importDefault$L(DefaultModality$1),SDP_1$2=__importDefault$L(SDP$1),BaseTask_1$6=__importDefault$L(BaseTask$1);class SetLocalDescriptionTask extends BaseTask_1$6.default{constructor(rs){super(rs.logger),this.context=rs,this.taskName="SetLocalDescriptionTask"}cancel(){if(this.cancelPromise){const rs=new Error("canceling ".concat(this.name()));this.cancelPromise(rs),delete this.cancelPromise}}run(){return __awaiter$x(this,void 0,void 0,function*(){const rs=this.context.peer;let os=this.context.sdpOfferInit.sdp;this.context.browserBehavior.supportsVideoLayersAllocationRtpHeaderExtension()&&(os=new SDP_1$2.default(os).withVideoLayersAllocationRtpHeaderExtension(this.context.previousSdpOffer).sdp),this.context.browserBehavior.supportsDependencyDescriptorRtpHeaderExtension()&&this.context.videoUplinkBandwidthPolicy.wantsVideoDependencyDescriptorRtpHeaderExtension!==void 0&&this.context.videoUplinkBandwidthPolicy.wantsVideoDependencyDescriptorRtpHeaderExtension()&&(os=new SDP_1$2.default(os).withDependencyDescriptorRtpHeaderExtension(this.context.previousSdpOffer).sdp),new DefaultBrowserBehavior_1$3.default().requiresDisablingH264Encoding()&&(os=new SDP_1$2.default(os).removeH264SupportFromSendSection().sdp);const ss=this.context.audioVideoController.configuration.credentials.attendeeId;if(new DefaultModality_1$2.default(ss).hasModality(DefaultModality_1$2.default.MODALITY_CONTENT)&&this.context.audioVideoController.configuration.enableSVC&&(os=new SDP_1$2.default(os).withStartingVideoSendBitrate(100).sdp),this.context.videoSendCodecPreferences!==void 0&&this.context.videoSendCodecPreferences.length>0&&(os=new SDP_1$2.default(os).withVideoSendCodecPreferences(this.context.meetingSupportedVideoSendCodecPreferences!==void 0?this.context.meetingSupportedVideoSendCodecPreferences:this.context.videoSendCodecPreferences).sdp),this.context.audioProfile&&(os=new SDP_1$2.default(os).withAudioMaxAverageBitrate(this.context.audioProfile.audioBitrateBps).sdp,this.context.audioProfile.isStereo()&&(os=new SDP_1$2.default(os).withStereoAudio().sdp),this.context.audioProfile.hasRedundancyEnabled())){const cs=new SDP_1$2.default(os).getAudioPayloadTypes();this.context.transceiverController&&this.context.transceiverController.setAudioPayloadTypes&&this.context.transceiverController.setAudioPayloadTypes(cs)}this.logger.debug(()=>"local description is >>>".concat(os,"<<<"));const ls={type:"offer",sdp:os,toJSON:null};yield new Promise((cs,us)=>__awaiter$x(this,void 0,void 0,function*(){this.cancelPromise=ds=>{us(ds)};try{yield rs.setLocalDescription(ls),cs()}catch(ds){us(ds)}finally{delete this.cancelPromise}})),this.context.logger.info("set local description")})}}SetLocalDescriptionTask$1.default=SetLocalDescriptionTask;var SetRemoteDescriptionTask$1={},__awaiter$w=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,rs,ns,os){function ss(as){return as instanceof ns?as:new ns(function(ls){ls(as)})}return new(ns||(ns=Promise))(function(as,ls){function cs(ps){try{ds(os.next(ps))}catch(fs){ls(fs)}}function us(ps){try{ds(os.throw(ps))}catch(fs){ls(fs)}}function ds(ps){ps.done?as(ps.value):ss(ps.value).then(cs,us)}ds((os=os.apply(ts,rs||[])).next())})},__importDefault$K=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(SetRemoteDescriptionTask$1,"__esModule",{value:!0});const DefaultModality_1$1=__importDefault$K(DefaultModality$1),SDP_1$1=__importDefault$K(SDP$1),VideoCodecCapability_1=__importDefault$K(VideoCodecCapability$1),BaseTask_1$5=__importDefault$K(BaseTask$1);class SetRemoteDescriptionTask extends BaseTask_1$5.default{constructor(rs){super(rs.logger),this.context=rs,this.taskName="SetRemoteDescriptionTask"}cancel(){this.cancelICEPromise&&this.cancelICEPromise()}run(){var rs;return __awaiter$w(this,void 0,void 0,function*(){this.context.peer||this.logAndThrow("session does not have peer connection; bypass set remote description");let os=this.context.sdpAnswer;os=new SDP_1$1.default(os).withoutServerReflexiveCandidates().sdp,this.context.audioProfile&&(os=new SDP_1$1.default(os).withAudioMaxAverageBitrate(this.context.audioProfile.audioBitrateBps).sdp,this.context.audioProfile.isStereo()&&(os=new SDP_1$1.default(os).withStereoAudio().sdp)),this.context.videoSendCodecPreferences!==void 0&&this.context.videoSendCodecPreferences.length>0&&(os=new SDP_1$1.default(os).withVideoSendCodecPreferences(this.context.meetingSupportedVideoSendCodecPreferences!==void 0?this.context.meetingSupportedVideoSendCodecPreferences:this.context.videoSendCodecPreferences).sdp),this.context.prioritizedSendVideoCodecCapabilities=new SDP_1$1.default(os).prioritizedSendVideoCodecCapabilities(),this.context.currentVideoSendCodec=this.context.prioritizedSendVideoCodecCapabilities.length>0?this.context.prioritizedSendVideoCodecCapabilities[0]:void 0;const ss=this.context.activeVideoInput;if(ss!==void 0){const ls=this.context.audioVideoController.configuration.credentials.attendeeId,cs=new DefaultModality_1$1.default(ls).hasModality(DefaultModality_1$1.default.MODALITY_CONTENT),us=ss.getVideoTracks()[0];cs&&(((rs=this.context.currentVideoSendCodec)===null||rs===void 0?void 0:rs.codecName)===VideoCodecCapability_1.default.av1Main().codecName?(us.contentHint="text",this.logger.info("Setting content hint to text for AV1, attendee: ".concat(ls))):this.context.audioVideoController.configuration.enableSVC&&(us.contentHint="motion",this.logger.info("Setting content hint to motion to enable SVC, attendee: ".concat(ls))))}this.logger.info("processed remote description is >>>".concat(os,"<<<"));const as={type:"answer",sdp:os,toJSON:null};try{yield this.createICEConnectionCompletedPromise(as)}catch(ls){throw ls}})}createICEConnectionCompletedPromise(rs){return new Promise((ns,os)=>__awaiter$w(this,void 0,void 0,function*(){const ss=()=>{(this.context.peer.iceConnectionState==="connected"||this.context.peer.iceConnectionState==="completed")&&(this.context.peer.removeEventListener("iceconnectionstatechange",ss),ns())};this.cancelICEPromise=()=>{this.context.peer&&this.context.peer.removeEventListener("iceconnectionstatechange",ss),os(new Error("".concat(this.name()," got canceled while waiting for the ICE connection state")))},this.context.peer.addEventListener("iceconnectionstatechange",ss);try{yield this.context.peer.setRemoteDescription(rs),this.logger.info("set remote description, waiting for ICE connection"),ss()}catch(as){os(as)}}))}}SetRemoteDescriptionTask$1.default=SetRemoteDescriptionTask;var SubscribeAndReceiveSubscribeAckTask$1={},ZLIBTextCompressor$1={},pako$1={},deflate$4={},deflate$3={},trees={};const Z_FIXED$1=4,Z_BINARY=0,Z_TEXT=1,Z_UNKNOWN$1=2;function zero$1(ts){let rs=ts.length;for(;--rs>=0;)ts[rs]=0}const STORED_BLOCK=0,STATIC_TREES=1,DYN_TREES=2,MIN_MATCH$1=3,MAX_MATCH$1=258,LENGTH_CODES$1=29,LITERALS$1=256,L_CODES$1=LITERALS$1+1+LENGTH_CODES$1,D_CODES$1=30,BL_CODES$1=19,HEAP_SIZE$1=2*L_CODES$1+1,MAX_BITS$1=15,Buf_size=16,MAX_BL_BITS=7,END_BLOCK=256,REP_3_6=16,REPZ_3_10=17,REPZ_11_138=18,extra_lbits=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),extra_dbits=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),extra_blbits=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),bl_order=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),DIST_CODE_LEN=512,static_ltree=new Array((L_CODES$1+2)*2);zero$1(static_ltree);const static_dtree=new Array(D_CODES$1*2);zero$1(static_dtree);const _dist_code=new Array(DIST_CODE_LEN);zero$1(_dist_code);const _length_code=new Array(MAX_MATCH$1-MIN_MATCH$1+1);zero$1(_length_code);const base_length=new Array(LENGTH_CODES$1);zero$1(base_length);const base_dist=new Array(D_CODES$1);zero$1(base_dist);function StaticTreeDesc(ts,rs,ns,os,ss){this.static_tree=ts,this.extra_bits=rs,this.extra_base=ns,this.elems=os,this.max_length=ss,this.has_stree=ts&&ts.length}let static_l_desc,static_d_desc,static_bl_desc;function TreeDesc(ts,rs){this.dyn_tree=ts,this.max_code=0,this.stat_desc=rs}const d_code=ts=>ts<256?_dist_code[ts]:_dist_code[256+(ts>>>7)],put_short=(ts,rs)=>{ts.pending_buf[ts.pending++]=rs&255,ts.pending_buf[ts.pending++]=rs>>>8&255},send_bits=(ts,rs,ns)=>{ts.bi_valid>Buf_size-ns?(ts.bi_buf|=rs<<ts.bi_valid&65535,put_short(ts,ts.bi_buf),ts.bi_buf=rs>>Buf_size-ts.bi_valid,ts.bi_valid+=ns-Buf_size):(ts.bi_buf|=rs<<ts.bi_valid&65535,ts.bi_valid+=ns)},send_code=(ts,rs,ns)=>{send_bits(ts,ns[rs*2],ns[rs*2+1])},bi_reverse=(ts,rs)=>{let ns=0;do ns|=ts&1,ts>>>=1,ns<<=1;while(--rs>0);return ns>>>1},bi_flush=ts=>{ts.bi_valid===16?(put_short(ts,ts.bi_buf),ts.bi_buf=0,ts.bi_valid=0):ts.bi_valid>=8&&(ts.pending_buf[ts.pending++]=ts.bi_buf&255,ts.bi_buf>>=8,ts.bi_valid-=8)},gen_bitlen=(ts,rs)=>{const ns=rs.dyn_tree,os=rs.max_code,ss=rs.stat_desc.static_tree,as=rs.stat_desc.has_stree,ls=rs.stat_desc.extra_bits,cs=rs.stat_desc.extra_base,us=rs.stat_desc.max_length;let ds,ps,fs,hs,ms,gs,vs=0;for(hs=0;hs<=MAX_BITS$1;hs++)ts.bl_count[hs]=0;for(ns[ts.heap[ts.heap_max]*2+1]=0,ds=ts.heap_max+1;ds<HEAP_SIZE$1;ds++)ps=ts.heap[ds],hs=ns[ns[ps*2+1]*2+1]+1,hs>us&&(hs=us,vs++),ns[ps*2+1]=hs,!(ps>os)&&(ts.bl_count[hs]++,ms=0,ps>=cs&&(ms=ls[ps-cs]),gs=ns[ps*2],ts.opt_len+=gs*(hs+ms),as&&(ts.static_len+=gs*(ss[ps*2+1]+ms)));if(vs!==0){do{for(hs=us-1;ts.bl_count[hs]===0;)hs--;ts.bl_count[hs]--,ts.bl_count[hs+1]+=2,ts.bl_count[us]--,vs-=2}while(vs>0);for(hs=us;hs!==0;hs--)for(ps=ts.bl_count[hs];ps!==0;)fs=ts.heap[--ds],!(fs>os)&&(ns[fs*2+1]!==hs&&(ts.opt_len+=(hs-ns[fs*2+1])*ns[fs*2],ns[fs*2+1]=hs),ps--)}},gen_codes=(ts,rs,ns)=>{const os=new Array(MAX_BITS$1+1);let ss=0,as,ls;for(as=1;as<=MAX_BITS$1;as++)ss=ss+ns[as-1]<<1,os[as]=ss;for(ls=0;ls<=rs;ls++){let cs=ts[ls*2+1];cs!==0&&(ts[ls*2]=bi_reverse(os[cs]++,cs))}},tr_static_init=()=>{let ts,rs,ns,os,ss;const as=new Array(MAX_BITS$1+1);for(ns=0,os=0;os<LENGTH_CODES$1-1;os++)for(base_length[os]=ns,ts=0;ts<1<<extra_lbits[os];ts++)_length_code[ns++]=os;for(_length_code[ns-1]=os,ss=0,os=0;os<16;os++)for(base_dist[os]=ss,ts=0;ts<1<<extra_dbits[os];ts++)_dist_code[ss++]=os;for(ss>>=7;os<D_CODES$1;os++)for(base_dist[os]=ss<<7,ts=0;ts<1<<extra_dbits[os]-7;ts++)_dist_code[256+ss++]=os;for(rs=0;rs<=MAX_BITS$1;rs++)as[rs]=0;for(ts=0;ts<=143;)static_ltree[ts*2+1]=8,ts++,as[8]++;for(;ts<=255;)static_ltree[ts*2+1]=9,ts++,as[9]++;for(;ts<=279;)static_ltree[ts*2+1]=7,ts++,as[7]++;for(;ts<=287;)static_ltree[ts*2+1]=8,ts++,as[8]++;for(gen_codes(static_ltree,L_CODES$1+1,as),ts=0;ts<D_CODES$1;ts++)static_dtree[ts*2+1]=5,static_dtree[ts*2]=bi_reverse(ts,5);static_l_desc=new StaticTreeDesc(static_ltree,extra_lbits,LITERALS$1+1,L_CODES$1,MAX_BITS$1),static_d_desc=new StaticTreeDesc(static_dtree,extra_dbits,0,D_CODES$1,MAX_BITS$1),static_bl_desc=new StaticTreeDesc(new Array(0),extra_blbits,0,BL_CODES$1,MAX_BL_BITS)},init_block=ts=>{let rs;for(rs=0;rs<L_CODES$1;rs++)ts.dyn_ltree[rs*2]=0;for(rs=0;rs<D_CODES$1;rs++)ts.dyn_dtree[rs*2]=0;for(rs=0;rs<BL_CODES$1;rs++)ts.bl_tree[rs*2]=0;ts.dyn_ltree[END_BLOCK*2]=1,ts.opt_len=ts.static_len=0,ts.sym_next=ts.matches=0},bi_windup=ts=>{ts.bi_valid>8?put_short(ts,ts.bi_buf):ts.bi_valid>0&&(ts.pending_buf[ts.pending++]=ts.bi_buf),ts.bi_buf=0,ts.bi_valid=0},smaller=(ts,rs,ns,os)=>{const ss=rs*2,as=ns*2;return ts[ss]<ts[as]||ts[ss]===ts[as]&&os[rs]<=os[ns]},pqdownheap=(ts,rs,ns)=>{const os=ts.heap[ns];let ss=ns<<1;for(;ss<=ts.heap_len&&(ss<ts.heap_len&&smaller(rs,ts.heap[ss+1],ts.heap[ss],ts.depth)&&ss++,!smaller(rs,os,ts.heap[ss],ts.depth));)ts.heap[ns]=ts.heap[ss],ns=ss,ss<<=1;ts.heap[ns]=os},compress_block=(ts,rs,ns)=>{let os,ss,as=0,ls,cs;if(ts.sym_next!==0)do os=ts.pending_buf[ts.sym_buf+as++]&255,os+=(ts.pending_buf[ts.sym_buf+as++]&255)<<8,ss=ts.pending_buf[ts.sym_buf+as++],os===0?send_code(ts,ss,rs):(ls=_length_code[ss],send_code(ts,ls+LITERALS$1+1,rs),cs=extra_lbits[ls],cs!==0&&(ss-=base_length[ls],send_bits(ts,ss,cs)),os--,ls=d_code(os),send_code(ts,ls,ns),cs=extra_dbits[ls],cs!==0&&(os-=base_dist[ls],send_bits(ts,os,cs)));while(as<ts.sym_next);send_code(ts,END_BLOCK,rs)},build_tree=(ts,rs)=>{const ns=rs.dyn_tree,os=rs.stat_desc.static_tree,ss=rs.stat_desc.has_stree,as=rs.stat_desc.elems;let ls,cs,us=-1,ds;for(ts.heap_len=0,ts.heap_max=HEAP_SIZE$1,ls=0;ls<as;ls++)ns[ls*2]!==0?(ts.heap[++ts.heap_len]=us=ls,ts.depth[ls]=0):ns[ls*2+1]=0;for(;ts.heap_len<2;)ds=ts.heap[++ts.heap_len]=us<2?++us:0,ns[ds*2]=1,ts.depth[ds]=0,ts.opt_len--,ss&&(ts.static_len-=os[ds*2+1]);for(rs.max_code=us,ls=ts.heap_len>>1;ls>=1;ls--)pqdownheap(ts,ns,ls);ds=as;do ls=ts.heap[1],ts.heap[1]=ts.heap[ts.heap_len--],pqdownheap(ts,ns,1),cs=ts.heap[1],ts.heap[--ts.heap_max]=ls,ts.heap[--ts.heap_max]=cs,ns[ds*2]=ns[ls*2]+ns[cs*2],ts.depth[ds]=(ts.depth[ls]>=ts.depth[cs]?ts.depth[ls]:ts.depth[cs])+1,ns[ls*2+1]=ns[cs*2+1]=ds,ts.heap[1]=ds++,pqdownheap(ts,ns,1);while(ts.heap_len>=2);ts.heap[--ts.heap_max]=ts.heap[1],gen_bitlen(ts,rs),gen_codes(ns,us,ts.bl_count)},scan_tree=(ts,rs,ns)=>{let os,ss=-1,as,ls=rs[0*2+1],cs=0,us=7,ds=4;for(ls===0&&(us=138,ds=3),rs[(ns+1)*2+1]=65535,os=0;os<=ns;os++)as=ls,ls=rs[(os+1)*2+1],!(++cs<us&&as===ls)&&(cs<ds?ts.bl_tree[as*2]+=cs:as!==0?(as!==ss&&ts.bl_tree[as*2]++,ts.bl_tree[REP_3_6*2]++):cs<=10?ts.bl_tree[REPZ_3_10*2]++:ts.bl_tree[REPZ_11_138*2]++,cs=0,ss=as,ls===0?(us=138,ds=3):as===ls?(us=6,ds=3):(us=7,ds=4))},send_tree=(ts,rs,ns)=>{let os,ss=-1,as,ls=rs[0*2+1],cs=0,us=7,ds=4;for(ls===0&&(us=138,ds=3),os=0;os<=ns;os++)if(as=ls,ls=rs[(os+1)*2+1],!(++cs<us&&as===ls)){if(cs<ds)do send_code(ts,as,ts.bl_tree);while(--cs!==0);else as!==0?(as!==ss&&(send_code(ts,as,ts.bl_tree),cs--),send_code(ts,REP_3_6,ts.bl_tree),send_bits(ts,cs-3,2)):cs<=10?(send_code(ts,REPZ_3_10,ts.bl_tree),send_bits(ts,cs-3,3)):(send_code(ts,REPZ_11_138,ts.bl_tree),send_bits(ts,cs-11,7));cs=0,ss=as,ls===0?(us=138,ds=3):as===ls?(us=6,ds=3):(us=7,ds=4)}},build_bl_tree=ts=>{let rs;for(scan_tree(ts,ts.dyn_ltree,ts.l_desc.max_code),scan_tree(ts,ts.dyn_dtree,ts.d_desc.max_code),build_tree(ts,ts.bl_desc),rs=BL_CODES$1-1;rs>=3&&ts.bl_tree[bl_order[rs]*2+1]===0;rs--);return ts.opt_len+=3*(rs+1)+5+5+4,rs},send_all_trees=(ts,rs,ns,os)=>{let ss;for(send_bits(ts,rs-257,5),send_bits(ts,ns-1,5),send_bits(ts,os-4,4),ss=0;ss<os;ss++)send_bits(ts,ts.bl_tree[bl_order[ss]*2+1],3);send_tree(ts,ts.dyn_ltree,rs-1),send_tree(ts,ts.dyn_dtree,ns-1)},detect_data_type=ts=>{let rs=4093624447,ns;for(ns=0;ns<=31;ns++,rs>>>=1)if(rs&1&&ts.dyn_ltree[ns*2]!==0)return Z_BINARY;if(ts.dyn_ltree[9*2]!==0||ts.dyn_ltree[10*2]!==0||ts.dyn_ltree[13*2]!==0)return Z_TEXT;for(ns=32;ns<LITERALS$1;ns++)if(ts.dyn_ltree[ns*2]!==0)return Z_TEXT;return Z_BINARY};let static_init_done=!1;const _tr_init$1=ts=>{static_init_done||(tr_static_init(),static_init_done=!0),ts.l_desc=new TreeDesc(ts.dyn_ltree,static_l_desc),ts.d_desc=new TreeDesc(ts.dyn_dtree,static_d_desc),ts.bl_desc=new TreeDesc(ts.bl_tree,static_bl_desc),ts.bi_buf=0,ts.bi_valid=0,init_block(ts)},_tr_stored_block$1=(ts,rs,ns,os)=>{send_bits(ts,(STORED_BLOCK<<1)+(os?1:0),3),bi_windup(ts),put_short(ts,ns),put_short(ts,~ns),ns&&ts.pending_buf.set(ts.window.subarray(rs,rs+ns),ts.pending),ts.pending+=ns},_tr_align$1=ts=>{send_bits(ts,STATIC_TREES<<1,3),send_code(ts,END_BLOCK,static_ltree),bi_flush(ts)},_tr_flush_block$1=(ts,rs,ns,os)=>{let ss,as,ls=0;ts.level>0?(ts.strm.data_type===Z_UNKNOWN$1&&(ts.strm.data_type=detect_data_type(ts)),build_tree(ts,ts.l_desc),build_tree(ts,ts.d_desc),ls=build_bl_tree(ts),ss=ts.opt_len+3+7>>>3,as=ts.static_len+3+7>>>3,as<=ss&&(ss=as)):ss=as=ns+5,ns+4<=ss&&rs!==-1?_tr_stored_block$1(ts,rs,ns,os):ts.strategy===Z_FIXED$1||as===ss?(send_bits(ts,(STATIC_TREES<<1)+(os?1:0),3),compress_block(ts,static_ltree,static_dtree)):(send_bits(ts,(DYN_TREES<<1)+(os?1:0),3),send_all_trees(ts,ts.l_desc.max_code+1,ts.d_desc.max_code+1,ls+1),compress_block(ts,ts.dyn_ltree,ts.dyn_dtree)),init_block(ts),os&&bi_windup(ts)},_tr_tally$1=(ts,rs,ns)=>(ts.pending_buf[ts.sym_buf+ts.sym_next++]=rs,ts.pending_buf[ts.sym_buf+ts.sym_next++]=rs>>8,ts.pending_buf[ts.sym_buf+ts.sym_next++]=ns,rs===0?ts.dyn_ltree[ns*2]++:(ts.matches++,rs--,ts.dyn_ltree[(_length_code[ns]+LITERALS$1+1)*2]++,ts.dyn_dtree[d_code(rs)*2]++),ts.sym_next===ts.sym_end);trees._tr_init=_tr_init$1;trees._tr_stored_block=_tr_stored_block$1;trees._tr_flush_block=_tr_flush_block$1;trees._tr_tally=_tr_tally$1;trees._tr_align=_tr_align$1;const adler32$2=(ts,rs,ns,os)=>{let ss=ts&65535|0,as=ts>>>16&65535|0,ls=0;for(;ns!==0;){ls=ns>2e3?2e3:ns,ns-=ls;do ss=ss+rs[os++]|0,as=as+ss|0;while(--ls);ss%=65521,as%=65521}return ss|as<<16|0};var adler32_1=adler32$2;const makeTable=()=>{let ts,rs=[];for(var ns=0;ns<256;ns++){ts=ns;for(var os=0;os<8;os++)ts=ts&1?3988292384^ts>>>1:ts>>>1;rs[ns]=ts}return rs},crcTable=new Uint32Array(makeTable()),crc32$2=(ts,rs,ns,os)=>{const ss=crcTable,as=os+ns;ts^=-1;for(let ls=os;ls<as;ls++)ts=ts>>>8^ss[(ts^rs[ls])&255];return ts^-1};var crc32_1=crc32$2,messages={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},constants$2={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init,_tr_stored_block,_tr_flush_block,_tr_tally,_tr_align}=trees,adler32$1=adler32_1,crc32$1=crc32_1,msg$2=messages,{Z_NO_FLUSH:Z_NO_FLUSH$2,Z_PARTIAL_FLUSH,Z_FULL_FLUSH:Z_FULL_FLUSH$1,Z_FINISH:Z_FINISH$3,Z_BLOCK:Z_BLOCK$1,Z_OK:Z_OK$3,Z_STREAM_END:Z_STREAM_END$3,Z_STREAM_ERROR:Z_STREAM_ERROR$2,Z_DATA_ERROR:Z_DATA_ERROR$2,Z_BUF_ERROR:Z_BUF_ERROR$1,Z_DEFAULT_COMPRESSION:Z_DEFAULT_COMPRESSION$1,Z_FILTERED,Z_HUFFMAN_ONLY,Z_RLE,Z_FIXED,Z_DEFAULT_STRATEGY:Z_DEFAULT_STRATEGY$1,Z_UNKNOWN,Z_DEFLATED:Z_DEFLATED$2}=constants$2,MAX_MEM_LEVEL=9,MAX_WBITS$1=15,DEF_MEM_LEVEL=8,LENGTH_CODES=29,LITERALS=256,L_CODES=LITERALS+1+LENGTH_CODES,D_CODES=30,BL_CODES=19,HEAP_SIZE=2*L_CODES+1,MAX_BITS=15,MIN_MATCH=3,MAX_MATCH=258,MIN_LOOKAHEAD=MAX_MATCH+MIN_MATCH+1,PRESET_DICT=32,INIT_STATE=42,GZIP_STATE=57,EXTRA_STATE=69,NAME_STATE=73,COMMENT_STATE=91,HCRC_STATE=103,BUSY_STATE=113,FINISH_STATE=666,BS_NEED_MORE=1,BS_BLOCK_DONE=2,BS_FINISH_STARTED=3,BS_FINISH_DONE=4,OS_CODE=3,err=(ts,rs)=>(ts.msg=msg$2[rs],rs),rank=ts=>ts*2-(ts>4?9:0),zero=ts=>{let rs=ts.length;for(;--rs>=0;)ts[rs]=0},slide_hash=ts=>{let rs,ns,os,ss=ts.w_size;rs=ts.hash_size,os=rs;do ns=ts.head[--os],ts.head[os]=ns>=ss?ns-ss:0;while(--rs);rs=ss,os=rs;do ns=ts.prev[--os],ts.prev[os]=ns>=ss?ns-ss:0;while(--rs)};let HASH_ZLIB=(ts,rs,ns)=>(rs<<ts.hash_shift^ns)&ts.hash_mask,HASH=HASH_ZLIB;const flush_pending=ts=>{const rs=ts.state;let ns=rs.pending;ns>ts.avail_out&&(ns=ts.avail_out),ns!==0&&(ts.output.set(rs.pending_buf.subarray(rs.pending_out,rs.pending_out+ns),ts.next_out),ts.next_out+=ns,rs.pending_out+=ns,ts.total_out+=ns,ts.avail_out-=ns,rs.pending-=ns,rs.pending===0&&(rs.pending_out=0))},flush_block_only=(ts,rs)=>{_tr_flush_block(ts,ts.block_start>=0?ts.block_start:-1,ts.strstart-ts.block_start,rs),ts.block_start=ts.strstart,flush_pending(ts.strm)},put_byte=(ts,rs)=>{ts.pending_buf[ts.pending++]=rs},putShortMSB=(ts,rs)=>{ts.pending_buf[ts.pending++]=rs>>>8&255,ts.pending_buf[ts.pending++]=rs&255},read_buf=(ts,rs,ns,os)=>{let ss=ts.avail_in;return ss>os&&(ss=os),ss===0?0:(ts.avail_in-=ss,rs.set(ts.input.subarray(ts.next_in,ts.next_in+ss),ns),ts.state.wrap===1?ts.adler=adler32$1(ts.adler,rs,ss,ns):ts.state.wrap===2&&(ts.adler=crc32$1(ts.adler,rs,ss,ns)),ts.next_in+=ss,ts.total_in+=ss,ss)},longest_match=(ts,rs)=>{let ns=ts.max_chain_length,os=ts.strstart,ss,as,ls=ts.prev_length,cs=ts.nice_match;const us=ts.strstart>ts.w_size-MIN_LOOKAHEAD?ts.strstart-(ts.w_size-MIN_LOOKAHEAD):0,ds=ts.window,ps=ts.w_mask,fs=ts.prev,hs=ts.strstart+MAX_MATCH;let ms=ds[os+ls-1],gs=ds[os+ls];ts.prev_length>=ts.good_match&&(ns>>=2),cs>ts.lookahead&&(cs=ts.lookahead);do if(ss=rs,!(ds[ss+ls]!==gs||ds[ss+ls-1]!==ms||ds[ss]!==ds[os]||ds[++ss]!==ds[os+1])){os+=2,ss++;do;while(ds[++os]===ds[++ss]&&ds[++os]===ds[++ss]&&ds[++os]===ds[++ss]&&ds[++os]===ds[++ss]&&ds[++os]===ds[++ss]&&ds[++os]===ds[++ss]&&ds[++os]===ds[++ss]&&ds[++os]===ds[++ss]&&os<hs);if(as=MAX_MATCH-(hs-os),os=hs-MAX_MATCH,as>ls){if(ts.match_start=rs,ls=as,as>=cs)break;ms=ds[os+ls-1],gs=ds[os+ls]}}while((rs=fs[rs&ps])>us&&--ns!==0);return ls<=ts.lookahead?ls:ts.lookahead},fill_window=ts=>{const rs=ts.w_size;let ns,os,ss;do{if(os=ts.window_size-ts.lookahead-ts.strstart,ts.strstart>=rs+(rs-MIN_LOOKAHEAD)&&(ts.window.set(ts.window.subarray(rs,rs+rs-os),0),ts.match_start-=rs,ts.strstart-=rs,ts.block_start-=rs,ts.insert>ts.strstart&&(ts.insert=ts.strstart),slide_hash(ts),os+=rs),ts.strm.avail_in===0)break;if(ns=read_buf(ts.strm,ts.window,ts.strstart+ts.lookahead,os),ts.lookahead+=ns,ts.lookahead+ts.insert>=MIN_MATCH)for(ss=ts.strstart-ts.insert,ts.ins_h=ts.window[ss],ts.ins_h=HASH(ts,ts.ins_h,ts.window[ss+1]);ts.insert&&(ts.ins_h=HASH(ts,ts.ins_h,ts.window[ss+MIN_MATCH-1]),ts.prev[ss&ts.w_mask]=ts.head[ts.ins_h],ts.head[ts.ins_h]=ss,ss++,ts.insert--,!(ts.lookahead+ts.insert<MIN_MATCH)););}while(ts.lookahead<MIN_LOOKAHEAD&&ts.strm.avail_in!==0)},deflate_stored=(ts,rs)=>{let ns=ts.pending_buf_size-5>ts.w_size?ts.w_size:ts.pending_buf_size-5,os,ss,as,ls=0,cs=ts.strm.avail_in;do{if(os=65535,as=ts.bi_valid+42>>3,ts.strm.avail_out<as||(as=ts.strm.avail_out-as,ss=ts.strstart-ts.block_start,os>ss+ts.strm.avail_in&&(os=ss+ts.strm.avail_in),os>as&&(os=as),os<ns&&(os===0&&rs!==Z_FINISH$3||rs===Z_NO_FLUSH$2||os!==ss+ts.strm.avail_in)))break;ls=rs===Z_FINISH$3&&os===ss+ts.strm.avail_in?1:0,_tr_stored_block(ts,0,0,ls),ts.pending_buf[ts.pending-4]=os,ts.pending_buf[ts.pending-3]=os>>8,ts.pending_buf[ts.pending-2]=~os,ts.pending_buf[ts.pending-1]=~os>>8,flush_pending(ts.strm),ss&&(ss>os&&(ss=os),ts.strm.output.set(ts.window.subarray(ts.block_start,ts.block_start+ss),ts.strm.next_out),ts.strm.next_out+=ss,ts.strm.avail_out-=ss,ts.strm.total_out+=ss,ts.block_start+=ss,os-=ss),os&&(read_buf(ts.strm,ts.strm.output,ts.strm.next_out,os),ts.strm.next_out+=os,ts.strm.avail_out-=os,ts.strm.total_out+=os)}while(ls===0);return cs-=ts.strm.avail_in,cs&&(cs>=ts.w_size?(ts.matches=2,ts.window.set(ts.strm.input.subarray(ts.strm.next_in-ts.w_size,ts.strm.next_in),0),ts.strstart=ts.w_size,ts.insert=ts.strstart):(ts.window_size-ts.strstart<=cs&&(ts.strstart-=ts.w_size,ts.window.set(ts.window.subarray(ts.w_size,ts.w_size+ts.strstart),0),ts.matches<2&&ts.matches++,ts.insert>ts.strstart&&(ts.insert=ts.strstart)),ts.window.set(ts.strm.input.subarray(ts.strm.next_in-cs,ts.strm.next_in),ts.strstart),ts.strstart+=cs,ts.insert+=cs>ts.w_size-ts.insert?ts.w_size-ts.insert:cs),ts.block_start=ts.strstart),ts.high_water<ts.strstart&&(ts.high_water=ts.strstart),ls?BS_FINISH_DONE:rs!==Z_NO_FLUSH$2&&rs!==Z_FINISH$3&&ts.strm.avail_in===0&&ts.strstart===ts.block_start?BS_BLOCK_DONE:(as=ts.window_size-ts.strstart,ts.strm.avail_in>as&&ts.block_start>=ts.w_size&&(ts.block_start-=ts.w_size,ts.strstart-=ts.w_size,ts.window.set(ts.window.subarray(ts.w_size,ts.w_size+ts.strstart),0),ts.matches<2&&ts.matches++,as+=ts.w_size,ts.insert>ts.strstart&&(ts.insert=ts.strstart)),as>ts.strm.avail_in&&(as=ts.strm.avail_in),as&&(read_buf(ts.strm,ts.window,ts.strstart,as),ts.strstart+=as,ts.insert+=as>ts.w_size-ts.insert?ts.w_size-ts.insert:as),ts.high_water<ts.strstart&&(ts.high_water=ts.strstart),as=ts.bi_valid+42>>3,as=ts.pending_buf_size-as>65535?65535:ts.pending_buf_size-as,ns=as>ts.w_size?ts.w_size:as,ss=ts.strstart-ts.block_start,(ss>=ns||(ss||rs===Z_FINISH$3)&&rs!==Z_NO_FLUSH$2&&ts.strm.avail_in===0&&ss<=as)&&(os=ss>as?as:ss,ls=rs===Z_FINISH$3&&ts.strm.avail_in===0&&os===ss?1:0,_tr_stored_block(ts,ts.block_start,os,ls),ts.block_start+=os,flush_pending(ts.strm)),ls?BS_FINISH_STARTED:BS_NEED_MORE)},deflate_fast=(ts,rs)=>{let ns,os;for(;;){if(ts.lookahead<MIN_LOOKAHEAD){if(fill_window(ts),ts.lookahead<MIN_LOOKAHEAD&&rs===Z_NO_FLUSH$2)return BS_NEED_MORE;if(ts.lookahead===0)break}if(ns=0,ts.lookahead>=MIN_MATCH&&(ts.ins_h=HASH(ts,ts.ins_h,ts.window[ts.strstart+MIN_MATCH-1]),ns=ts.prev[ts.strstart&ts.w_mask]=ts.head[ts.ins_h],ts.head[ts.ins_h]=ts.strstart),ns!==0&&ts.strstart-ns<=ts.w_size-MIN_LOOKAHEAD&&(ts.match_length=longest_match(ts,ns)),ts.match_length>=MIN_MATCH)if(os=_tr_tally(ts,ts.strstart-ts.match_start,ts.match_length-MIN_MATCH),ts.lookahead-=ts.match_length,ts.match_length<=ts.max_lazy_match&&ts.lookahead>=MIN_MATCH){ts.match_length--;do ts.strstart++,ts.ins_h=HASH(ts,ts.ins_h,ts.window[ts.strstart+MIN_MATCH-1]),ns=ts.prev[ts.strstart&ts.w_mask]=ts.head[ts.ins_h],ts.head[ts.ins_h]=ts.strstart;while(--ts.match_length!==0);ts.strstart++}else ts.strstart+=ts.match_length,ts.match_length=0,ts.ins_h=ts.window[ts.strstart],ts.ins_h=HASH(ts,ts.ins_h,ts.window[ts.strstart+1]);else os=_tr_tally(ts,0,ts.window[ts.strstart]),ts.lookahead--,ts.strstart++;if(os&&(flush_block_only(ts,!1),ts.strm.avail_out===0))return BS_NEED_MORE}return ts.insert=ts.strstart<MIN_MATCH-1?ts.strstart:MIN_MATCH-1,rs===Z_FINISH$3?(flush_block_only(ts,!0),ts.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):ts.sym_next&&(flush_block_only(ts,!1),ts.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_slow=(ts,rs)=>{let ns,os,ss;for(;;){if(ts.lookahead<MIN_LOOKAHEAD){if(fill_window(ts),ts.lookahead<MIN_LOOKAHEAD&&rs===Z_NO_FLUSH$2)return BS_NEED_MORE;if(ts.lookahead===0)break}if(ns=0,ts.lookahead>=MIN_MATCH&&(ts.ins_h=HASH(ts,ts.ins_h,ts.window[ts.strstart+MIN_MATCH-1]),ns=ts.prev[ts.strstart&ts.w_mask]=ts.head[ts.ins_h],ts.head[ts.ins_h]=ts.strstart),ts.prev_length=ts.match_length,ts.prev_match=ts.match_start,ts.match_length=MIN_MATCH-1,ns!==0&&ts.prev_length<ts.max_lazy_match&&ts.strstart-ns<=ts.w_size-MIN_LOOKAHEAD&&(ts.match_length=longest_match(ts,ns),ts.match_length<=5&&(ts.strategy===Z_FILTERED||ts.match_length===MIN_MATCH&&ts.strstart-ts.match_start>4096)&&(ts.match_length=MIN_MATCH-1)),ts.prev_length>=MIN_MATCH&&ts.match_length<=ts.prev_length){ss=ts.strstart+ts.lookahead-MIN_MATCH,os=_tr_tally(ts,ts.strstart-1-ts.prev_match,ts.prev_length-MIN_MATCH),ts.lookahead-=ts.prev_length-1,ts.prev_length-=2;do++ts.strstart<=ss&&(ts.ins_h=HASH(ts,ts.ins_h,ts.window[ts.strstart+MIN_MATCH-1]),ns=ts.prev[ts.strstart&ts.w_mask]=ts.head[ts.ins_h],ts.head[ts.ins_h]=ts.strstart);while(--ts.prev_length!==0);if(ts.match_available=0,ts.match_length=MIN_MATCH-1,ts.strstart++,os&&(flush_block_only(ts,!1),ts.strm.avail_out===0))return BS_NEED_MORE}else if(ts.match_available){if(os=_tr_tally(ts,0,ts.window[ts.strstart-1]),os&&flush_block_only(ts,!1),ts.strstart++,ts.lookahead--,ts.strm.avail_out===0)return BS_NEED_MORE}else ts.match_available=1,ts.strstart++,ts.lookahead--}return ts.match_available&&(os=_tr_tally(ts,0,ts.window[ts.strstart-1]),ts.match_available=0),ts.insert=ts.strstart<MIN_MATCH-1?ts.strstart:MIN_MATCH-1,rs===Z_FINISH$3?(flush_block_only(ts,!0),ts.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):ts.sym_next&&(flush_block_only(ts,!1),ts.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_rle=(ts,rs)=>{let ns,os,ss,as;const ls=ts.window;for(;;){if(ts.lookahead<=MAX_MATCH){if(fill_window(ts),ts.lookahead<=MAX_MATCH&&rs===Z_NO_FLUSH$2)return BS_NEED_MORE;if(ts.lookahead===0)break}if(ts.match_length=0,ts.lookahead>=MIN_MATCH&&ts.strstart>0&&(ss=ts.strstart-1,os=ls[ss],os===ls[++ss]&&os===ls[++ss]&&os===ls[++ss])){as=ts.strstart+MAX_MATCH;do;while(os===ls[++ss]&&os===ls[++ss]&&os===ls[++ss]&&os===ls[++ss]&&os===ls[++ss]&&os===ls[++ss]&&os===ls[++ss]&&os===ls[++ss]&&ss<as);ts.match_length=MAX_MATCH-(as-ss),ts.match_length>ts.lookahead&&(ts.match_length=ts.lookahead)}if(ts.match_length>=MIN_MATCH?(ns=_tr_tally(ts,1,ts.match_length-MIN_MATCH),ts.lookahead-=ts.match_length,ts.strstart+=ts.match_length,ts.match_length=0):(ns=_tr_tally(ts,0,ts.window[ts.strstart]),ts.lookahead--,ts.strstart++),ns&&(flush_block_only(ts,!1),ts.strm.avail_out===0))return BS_NEED_MORE}return ts.insert=0,rs===Z_FINISH$3?(flush_block_only(ts,!0),ts.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):ts.sym_next&&(flush_block_only(ts,!1),ts.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_huff=(ts,rs)=>{let ns;for(;;){if(ts.lookahead===0&&(fill_window(ts),ts.lookahead===0)){if(rs===Z_NO_FLUSH$2)return BS_NEED_MORE;break}if(ts.match_length=0,ns=_tr_tally(ts,0,ts.window[ts.strstart]),ts.lookahead--,ts.strstart++,ns&&(flush_block_only(ts,!1),ts.strm.avail_out===0))return BS_NEED_MORE}return ts.insert=0,rs===Z_FINISH$3?(flush_block_only(ts,!0),ts.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):ts.sym_next&&(flush_block_only(ts,!1),ts.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE};function Config(ts,rs,ns,os,ss){this.good_length=ts,this.max_lazy=rs,this.nice_length=ns,this.max_chain=os,this.func=ss}const configuration_table=[new Config(0,0,0,0,deflate_stored),new Config(4,4,8,4,deflate_fast),new Config(4,5,16,8,deflate_fast),new Config(4,6,32,32,deflate_fast),new Config(4,4,16,16,deflate_slow),new Config(8,16,32,32,deflate_slow),new Config(8,16,128,128,deflate_slow),new Config(8,32,128,256,deflate_slow),new Config(32,128,258,1024,deflate_slow),new Config(32,258,258,4096,deflate_slow)],lm_init=ts=>{ts.window_size=2*ts.w_size,zero(ts.head),ts.max_lazy_match=configuration_table[ts.level].max_lazy,ts.good_match=configuration_table[ts.level].good_length,ts.nice_match=configuration_table[ts.level].nice_length,ts.max_chain_length=configuration_table[ts.level].max_chain,ts.strstart=0,ts.block_start=0,ts.lookahead=0,ts.insert=0,ts.match_length=ts.prev_length=MIN_MATCH-1,ts.match_available=0,ts.ins_h=0};function DeflateState(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Z_DEFLATED$2,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(HEAP_SIZE*2),this.dyn_dtree=new Uint16Array((2*D_CODES+1)*2),this.bl_tree=new Uint16Array((2*BL_CODES+1)*2),zero(this.dyn_ltree),zero(this.dyn_dtree),zero(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(MAX_BITS+1),this.heap=new Uint16Array(2*L_CODES+1),zero(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*L_CODES+1),zero(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const deflateStateCheck=ts=>{if(!ts)return 1;const rs=ts.state;return!rs||rs.strm!==ts||rs.status!==INIT_STATE&&rs.status!==GZIP_STATE&&rs.status!==EXTRA_STATE&&rs.status!==NAME_STATE&&rs.status!==COMMENT_STATE&&rs.status!==HCRC_STATE&&rs.status!==BUSY_STATE&&rs.status!==FINISH_STATE?1:0},deflateResetKeep=ts=>{if(deflateStateCheck(ts))return err(ts,Z_STREAM_ERROR$2);ts.total_in=ts.total_out=0,ts.data_type=Z_UNKNOWN;const rs=ts.state;return rs.pending=0,rs.pending_out=0,rs.wrap<0&&(rs.wrap=-rs.wrap),rs.status=rs.wrap===2?GZIP_STATE:rs.wrap?INIT_STATE:BUSY_STATE,ts.adler=rs.wrap===2?0:1,rs.last_flush=-2,_tr_init(rs),Z_OK$3},deflateReset=ts=>{const rs=deflateResetKeep(ts);return rs===Z_OK$3&&lm_init(ts.state),rs},deflateSetHeader=(ts,rs)=>deflateStateCheck(ts)||ts.state.wrap!==2?Z_STREAM_ERROR$2:(ts.state.gzhead=rs,Z_OK$3),deflateInit2=(ts,rs,ns,os,ss,as)=>{if(!ts)return Z_STREAM_ERROR$2;let ls=1;if(rs===Z_DEFAULT_COMPRESSION$1&&(rs=6),os<0?(ls=0,os=-os):os>15&&(ls=2,os-=16),ss<1||ss>MAX_MEM_LEVEL||ns!==Z_DEFLATED$2||os<8||os>15||rs<0||rs>9||as<0||as>Z_FIXED||os===8&&ls!==1)return err(ts,Z_STREAM_ERROR$2);os===8&&(os=9);const cs=new DeflateState;return ts.state=cs,cs.strm=ts,cs.status=INIT_STATE,cs.wrap=ls,cs.gzhead=null,cs.w_bits=os,cs.w_size=1<<cs.w_bits,cs.w_mask=cs.w_size-1,cs.hash_bits=ss+7,cs.hash_size=1<<cs.hash_bits,cs.hash_mask=cs.hash_size-1,cs.hash_shift=~~((cs.hash_bits+MIN_MATCH-1)/MIN_MATCH),cs.window=new Uint8Array(cs.w_size*2),cs.head=new Uint16Array(cs.hash_size),cs.prev=new Uint16Array(cs.w_size),cs.lit_bufsize=1<<ss+6,cs.pending_buf_size=cs.lit_bufsize*4,cs.pending_buf=new Uint8Array(cs.pending_buf_size),cs.sym_buf=cs.lit_bufsize,cs.sym_end=(cs.lit_bufsize-1)*3,cs.level=rs,cs.strategy=as,cs.method=ns,deflateReset(ts)},deflateInit=(ts,rs)=>deflateInit2(ts,rs,Z_DEFLATED$2,MAX_WBITS$1,DEF_MEM_LEVEL,Z_DEFAULT_STRATEGY$1),deflate$2=(ts,rs)=>{if(deflateStateCheck(ts)||rs>Z_BLOCK$1||rs<0)return ts?err(ts,Z_STREAM_ERROR$2):Z_STREAM_ERROR$2;const ns=ts.state;if(!ts.output||ts.avail_in!==0&&!ts.input||ns.status===FINISH_STATE&&rs!==Z_FINISH$3)return err(ts,ts.avail_out===0?Z_BUF_ERROR$1:Z_STREAM_ERROR$2);const os=ns.last_flush;if(ns.last_flush=rs,ns.pending!==0){if(flush_pending(ts),ts.avail_out===0)return ns.last_flush=-1,Z_OK$3}else if(ts.avail_in===0&&rank(rs)<=rank(os)&&rs!==Z_FINISH$3)return err(ts,Z_BUF_ERROR$1);if(ns.status===FINISH_STATE&&ts.avail_in!==0)return err(ts,Z_BUF_ERROR$1);if(ns.status===INIT_STATE&&ns.wrap===0&&(ns.status=BUSY_STATE),ns.status===INIT_STATE){let ss=Z_DEFLATED$2+(ns.w_bits-8<<4)<<8,as=-1;if(ns.strategy>=Z_HUFFMAN_ONLY||ns.level<2?as=0:ns.level<6?as=1:ns.level===6?as=2:as=3,ss|=as<<6,ns.strstart!==0&&(ss|=PRESET_DICT),ss+=31-ss%31,putShortMSB(ns,ss),ns.strstart!==0&&(putShortMSB(ns,ts.adler>>>16),putShortMSB(ns,ts.adler&65535)),ts.adler=1,ns.status=BUSY_STATE,flush_pending(ts),ns.pending!==0)return ns.last_flush=-1,Z_OK$3}if(ns.status===GZIP_STATE){if(ts.adler=0,put_byte(ns,31),put_byte(ns,139),put_byte(ns,8),ns.gzhead)put_byte(ns,(ns.gzhead.text?1:0)+(ns.gzhead.hcrc?2:0)+(ns.gzhead.extra?4:0)+(ns.gzhead.name?8:0)+(ns.gzhead.comment?16:0)),put_byte(ns,ns.gzhead.time&255),put_byte(ns,ns.gzhead.time>>8&255),put_byte(ns,ns.gzhead.time>>16&255),put_byte(ns,ns.gzhead.time>>24&255),put_byte(ns,ns.level===9?2:ns.strategy>=Z_HUFFMAN_ONLY||ns.level<2?4:0),put_byte(ns,ns.gzhead.os&255),ns.gzhead.extra&&ns.gzhead.extra.length&&(put_byte(ns,ns.gzhead.extra.length&255),put_byte(ns,ns.gzhead.extra.length>>8&255)),ns.gzhead.hcrc&&(ts.adler=crc32$1(ts.adler,ns.pending_buf,ns.pending,0)),ns.gzindex=0,ns.status=EXTRA_STATE;else if(put_byte(ns,0),put_byte(ns,0),put_byte(ns,0),put_byte(ns,0),put_byte(ns,0),put_byte(ns,ns.level===9?2:ns.strategy>=Z_HUFFMAN_ONLY||ns.level<2?4:0),put_byte(ns,OS_CODE),ns.status=BUSY_STATE,flush_pending(ts),ns.pending!==0)return ns.last_flush=-1,Z_OK$3}if(ns.status===EXTRA_STATE){if(ns.gzhead.extra){let ss=ns.pending,as=(ns.gzhead.extra.length&65535)-ns.gzindex;for(;ns.pending+as>ns.pending_buf_size;){let cs=ns.pending_buf_size-ns.pending;if(ns.pending_buf.set(ns.gzhead.extra.subarray(ns.gzindex,ns.gzindex+cs),ns.pending),ns.pending=ns.pending_buf_size,ns.gzhead.hcrc&&ns.pending>ss&&(ts.adler=crc32$1(ts.adler,ns.pending_buf,ns.pending-ss,ss)),ns.gzindex+=cs,flush_pending(ts),ns.pending!==0)return ns.last_flush=-1,Z_OK$3;ss=0,as-=cs}let ls=new Uint8Array(ns.gzhead.extra);ns.pending_buf.set(ls.subarray(ns.gzindex,ns.gzindex+as),ns.pending),ns.pending+=as,ns.gzhead.hcrc&&ns.pending>ss&&(ts.adler=crc32$1(ts.adler,ns.pending_buf,ns.pending-ss,ss)),ns.gzindex=0}ns.status=NAME_STATE}if(ns.status===NAME_STATE){if(ns.gzhead.name){let ss=ns.pending,as;do{if(ns.pending===ns.pending_buf_size){if(ns.gzhead.hcrc&&ns.pending>ss&&(ts.adler=crc32$1(ts.adler,ns.pending_buf,ns.pending-ss,ss)),flush_pending(ts),ns.pending!==0)return ns.last_flush=-1,Z_OK$3;ss=0}ns.gzindex<ns.gzhead.name.length?as=ns.gzhead.name.charCodeAt(ns.gzindex++)&255:as=0,put_byte(ns,as)}while(as!==0);ns.gzhead.hcrc&&ns.pending>ss&&(ts.adler=crc32$1(ts.adler,ns.pending_buf,ns.pending-ss,ss)),ns.gzindex=0}ns.status=COMMENT_STATE}if(ns.status===COMMENT_STATE){if(ns.gzhead.comment){let ss=ns.pending,as;do{if(ns.pending===ns.pending_buf_size){if(ns.gzhead.hcrc&&ns.pending>ss&&(ts.adler=crc32$1(ts.adler,ns.pending_buf,ns.pending-ss,ss)),flush_pending(ts),ns.pending!==0)return ns.last_flush=-1,Z_OK$3;ss=0}ns.gzindex<ns.gzhead.comment.length?as=ns.gzhead.comment.charCodeAt(ns.gzindex++)&255:as=0,put_byte(ns,as)}while(as!==0);ns.gzhead.hcrc&&ns.pending>ss&&(ts.adler=crc32$1(ts.adler,ns.pending_buf,ns.pending-ss,ss))}ns.status=HCRC_STATE}if(ns.status===HCRC_STATE){if(ns.gzhead.hcrc){if(ns.pending+2>ns.pending_buf_size&&(flush_pending(ts),ns.pending!==0))return ns.last_flush=-1,Z_OK$3;put_byte(ns,ts.adler&255),put_byte(ns,ts.adler>>8&255),ts.adler=0}if(ns.status=BUSY_STATE,flush_pending(ts),ns.pending!==0)return ns.last_flush=-1,Z_OK$3}if(ts.avail_in!==0||ns.lookahead!==0||rs!==Z_NO_FLUSH$2&&ns.status!==FINISH_STATE){let ss=ns.level===0?deflate_stored(ns,rs):ns.strategy===Z_HUFFMAN_ONLY?deflate_huff(ns,rs):ns.strategy===Z_RLE?deflate_rle(ns,rs):configuration_table[ns.level].func(ns,rs);if((ss===BS_FINISH_STARTED||ss===BS_FINISH_DONE)&&(ns.status=FINISH_STATE),ss===BS_NEED_MORE||ss===BS_FINISH_STARTED)return ts.avail_out===0&&(ns.last_flush=-1),Z_OK$3;if(ss===BS_BLOCK_DONE&&(rs===Z_PARTIAL_FLUSH?_tr_align(ns):rs!==Z_BLOCK$1&&(_tr_stored_block(ns,0,0,!1),rs===Z_FULL_FLUSH$1&&(zero(ns.head),ns.lookahead===0&&(ns.strstart=0,ns.block_start=0,ns.insert=0))),flush_pending(ts),ts.avail_out===0))return ns.last_flush=-1,Z_OK$3}return rs!==Z_FINISH$3?Z_OK$3:ns.wrap<=0?Z_STREAM_END$3:(ns.wrap===2?(put_byte(ns,ts.adler&255),put_byte(ns,ts.adler>>8&255),put_byte(ns,ts.adler>>16&255),put_byte(ns,ts.adler>>24&255),put_byte(ns,ts.total_in&255),put_byte(ns,ts.total_in>>8&255),put_byte(ns,ts.total_in>>16&255),put_byte(ns,ts.total_in>>24&255)):(putShortMSB(ns,ts.adler>>>16),putShortMSB(ns,ts.adler&65535)),flush_pending(ts),ns.wrap>0&&(ns.wrap=-ns.wrap),ns.pending!==0?Z_OK$3:Z_STREAM_END$3)},deflateEnd=ts=>{if(deflateStateCheck(ts))return Z_STREAM_ERROR$2;const rs=ts.state.status;return ts.state=null,rs===BUSY_STATE?err(ts,Z_DATA_ERROR$2):Z_OK$3},deflateSetDictionary=(ts,rs)=>{let ns=rs.length;if(deflateStateCheck(ts))return Z_STREAM_ERROR$2;const os=ts.state,ss=os.wrap;if(ss===2||ss===1&&os.status!==INIT_STATE||os.lookahead)return Z_STREAM_ERROR$2;if(ss===1&&(ts.adler=adler32$1(ts.adler,rs,ns,0)),os.wrap=0,ns>=os.w_size){ss===0&&(zero(os.head),os.strstart=0,os.block_start=0,os.insert=0);let us=new Uint8Array(os.w_size);us.set(rs.subarray(ns-os.w_size,ns),0),rs=us,ns=os.w_size}const as=ts.avail_in,ls=ts.next_in,cs=ts.input;for(ts.avail_in=ns,ts.next_in=0,ts.input=rs,fill_window(os);os.lookahead>=MIN_MATCH;){let us=os.strstart,ds=os.lookahead-(MIN_MATCH-1);do os.ins_h=HASH(os,os.ins_h,os.window[us+MIN_MATCH-1]),os.prev[us&os.w_mask]=os.head[os.ins_h],os.head[os.ins_h]=us,us++;while(--ds);os.strstart=us,os.lookahead=MIN_MATCH-1,fill_window(os)}return os.strstart+=os.lookahead,os.block_start=os.strstart,os.insert=os.lookahead,os.lookahead=0,os.match_length=os.prev_length=MIN_MATCH-1,os.match_available=0,ts.next_in=ls,ts.input=cs,ts.avail_in=as,os.wrap=ss,Z_OK$3};deflate$3.deflateInit=deflateInit;deflate$3.deflateInit2=deflateInit2;deflate$3.deflateReset=deflateReset;deflate$3.deflateResetKeep=deflateResetKeep;deflate$3.deflateSetHeader=deflateSetHeader;deflate$3.deflate=deflate$2;deflate$3.deflateEnd=deflateEnd;deflate$3.deflateSetDictionary=deflateSetDictionary;deflate$3.deflateInfo="pako deflate (from Nodeca project)";var common={};const _has=(ts,rs)=>Object.prototype.hasOwnProperty.call(ts,rs);common.assign=function(ts){const rs=Array.prototype.slice.call(arguments,1);for(;rs.length;){const ns=rs.shift();if(ns){if(typeof ns!="object")throw new TypeError(ns+"must be non-object");for(const os in ns)_has(ns,os)&&(ts[os]=ns[os])}}return ts};common.flattenChunks=ts=>{let rs=0;for(let os=0,ss=ts.length;os<ss;os++)rs+=ts[os].length;const ns=new Uint8Array(rs);for(let os=0,ss=0,as=ts.length;os<as;os++){let ls=ts[os];ns.set(ls,ss),ss+=ls.length}return ns};var strings$2={};let STR_APPLY_UIA_OK=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(ts){STR_APPLY_UIA_OK=!1}const _utf8len=new Uint8Array(256);for(let ts=0;ts<256;ts++)_utf8len[ts]=ts>=252?6:ts>=248?5:ts>=240?4:ts>=224?3:ts>=192?2:1;_utf8len[254]=_utf8len[254]=1;strings$2.string2buf=ts=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(ts);let rs,ns,os,ss,as,ls=ts.length,cs=0;for(ss=0;ss<ls;ss++)ns=ts.charCodeAt(ss),(ns&64512)===55296&&ss+1<ls&&(os=ts.charCodeAt(ss+1),(os&64512)===56320&&(ns=65536+(ns-55296<<10)+(os-56320),ss++)),cs+=ns<128?1:ns<2048?2:ns<65536?3:4;for(rs=new Uint8Array(cs),as=0,ss=0;as<cs;ss++)ns=ts.charCodeAt(ss),(ns&64512)===55296&&ss+1<ls&&(os=ts.charCodeAt(ss+1),(os&64512)===56320&&(ns=65536+(ns-55296<<10)+(os-56320),ss++)),ns<128?rs[as++]=ns:ns<2048?(rs[as++]=192|ns>>>6,rs[as++]=128|ns&63):ns<65536?(rs[as++]=224|ns>>>12,rs[as++]=128|ns>>>6&63,rs[as++]=128|ns&63):(rs[as++]=240|ns>>>18,rs[as++]=128|ns>>>12&63,rs[as++]=128|ns>>>6&63,rs[as++]=128|ns&63);return rs};const buf2binstring=(ts,rs)=>{if(rs<65534&&ts.subarray&&STR_APPLY_UIA_OK)return String.fromCharCode.apply(null,ts.length===rs?ts:ts.subarray(0,rs));let ns="";for(let os=0;os<rs;os++)ns+=String.fromCharCode(ts[os]);return ns};strings$2.buf2string=(ts,rs)=>{const ns=rs||ts.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(ts.subarray(0,rs));let os,ss;const as=new Array(ns*2);for(ss=0,os=0;os<ns;){let ls=ts[os++];if(ls<128){as[ss++]=ls;continue}let cs=_utf8len[ls];if(cs>4){as[ss++]=65533,os+=cs-1;continue}for(ls&=cs===2?31:cs===3?15:7;cs>1&&os<ns;)ls=ls<<6|ts[os++]&63,cs--;if(cs>1){as[ss++]=65533;continue}ls<65536?as[ss++]=ls:(ls-=65536,as[ss++]=55296|ls>>10&1023,as[ss++]=56320|ls&1023)}return buf2binstring(as,ss)};strings$2.utf8border=(ts,rs)=>{rs=rs||ts.length,rs>ts.length&&(rs=ts.length);let ns=rs-1;for(;ns>=0&&(ts[ns]&192)===128;)ns--;return ns<0||ns===0?rs:ns+_utf8len[ts[ns]]>rs?ns:rs};function ZStream$2(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var zstream=ZStream$2;const zlib_deflate=deflate$3,utils$1=common,strings$1=strings$2,msg$1=messages,ZStream$1=zstream,toString$1=Object.prototype.toString,{Z_NO_FLUSH:Z_NO_FLUSH$1,Z_SYNC_FLUSH,Z_FULL_FLUSH,Z_FINISH:Z_FINISH$2,Z_OK:Z_OK$2,Z_STREAM_END:Z_STREAM_END$2,Z_DEFAULT_COMPRESSION,Z_DEFAULT_STRATEGY,Z_DEFLATED:Z_DEFLATED$1}=constants$2;function Deflate$1(ts){this.options=utils$1.assign({level:Z_DEFAULT_COMPRESSION,method:Z_DEFLATED$1,chunkSize:16384,windowBits:15,memLevel:8,strategy:Z_DEFAULT_STRATEGY},ts||{});let rs=this.options;rs.raw&&rs.windowBits>0?rs.windowBits=-rs.windowBits:rs.gzip&&rs.windowBits>0&&rs.windowBits<16&&(rs.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ZStream$1,this.strm.avail_out=0;let ns=zlib_deflate.deflateInit2(this.strm,rs.level,rs.method,rs.windowBits,rs.memLevel,rs.strategy);if(ns!==Z_OK$2)throw new Error(msg$1[ns]);if(rs.header&&zlib_deflate.deflateSetHeader(this.strm,rs.header),rs.dictionary){let os;if(typeof rs.dictionary=="string"?os=strings$1.string2buf(rs.dictionary):toString$1.call(rs.dictionary)==="[object ArrayBuffer]"?os=new Uint8Array(rs.dictionary):os=rs.dictionary,ns=zlib_deflate.deflateSetDictionary(this.strm,os),ns!==Z_OK$2)throw new Error(msg$1[ns]);this._dict_set=!0}}Deflate$1.prototype.push=function(ts,rs){const ns=this.strm,os=this.options.chunkSize;let ss,as;if(this.ended)return!1;for(rs===~~rs?as=rs:as=rs===!0?Z_FINISH$2:Z_NO_FLUSH$1,typeof ts=="string"?ns.input=strings$1.string2buf(ts):toString$1.call(ts)==="[object ArrayBuffer]"?ns.input=new Uint8Array(ts):ns.input=ts,ns.next_in=0,ns.avail_in=ns.input.length;;){if(ns.avail_out===0&&(ns.output=new Uint8Array(os),ns.next_out=0,ns.avail_out=os),(as===Z_SYNC_FLUSH||as===Z_FULL_FLUSH)&&ns.avail_out<=6){this.onData(ns.output.subarray(0,ns.next_out)),ns.avail_out=0;continue}if(ss=zlib_deflate.deflate(ns,as),ss===Z_STREAM_END$2)return ns.next_out>0&&this.onData(ns.output.subarray(0,ns.next_out)),ss=zlib_deflate.deflateEnd(this.strm),this.onEnd(ss),this.ended=!0,ss===Z_OK$2;if(ns.avail_out===0){this.onData(ns.output);continue}if(as>0&&ns.next_out>0){this.onData(ns.output.subarray(0,ns.next_out)),ns.avail_out=0;continue}if(ns.avail_in===0)break}return!0};Deflate$1.prototype.onData=function(ts){this.chunks.push(ts)};Deflate$1.prototype.onEnd=function(ts){ts===Z_OK$2&&(this.result=utils$1.flattenChunks(this.chunks)),this.chunks=[],this.err=ts,this.msg=this.strm.msg};function deflate$1(ts,rs){const ns=new Deflate$1(rs);if(ns.push(ts,!0),ns.err)throw ns.msg||msg$1[ns.err];return ns.result}function deflateRaw$1(ts,rs){return rs=rs||{},rs.raw=!0,deflate$1(ts,rs)}function gzip$1(ts,rs){return rs=rs||{},rs.gzip=!0,deflate$1(ts,rs)}deflate$4.Deflate=Deflate$1;deflate$4.deflate=deflate$1;deflate$4.deflateRaw=deflateRaw$1;deflate$4.gzip=gzip$1;deflate$4.constants=constants$2;var inflate$4={},inflate$3={};const BAD$1=16209,TYPE$1=16191;var inffast=function ts(rs,ns){let os,ss,as,ls,cs,us,ds,ps,fs,hs,ms,gs,vs,bs,xs,ys,Ss,Cs,$s,Es,ws,Ts,Is,Rs;const As=rs.state;os=rs.next_in,Is=rs.input,ss=os+(rs.avail_in-5),as=rs.next_out,Rs=rs.output,ls=as-(ns-rs.avail_out),cs=as+(rs.avail_out-257),us=As.dmax,ds=As.wsize,ps=As.whave,fs=As.wnext,hs=As.window,ms=As.hold,gs=As.bits,vs=As.lencode,bs=As.distcode,xs=(1<<As.lenbits)-1,ys=(1<<As.distbits)-1;e:do{gs<15&&(ms+=Is[os++]<<gs,gs+=8,ms+=Is[os++]<<gs,gs+=8),Ss=vs[ms&xs];t:for(;;){if(Cs=Ss>>>24,ms>>>=Cs,gs-=Cs,Cs=Ss>>>16&255,Cs===0)Rs[as++]=Ss&65535;else if(Cs&16){$s=Ss&65535,Cs&=15,Cs&&(gs<Cs&&(ms+=Is[os++]<<gs,gs+=8),$s+=ms&(1<<Cs)-1,ms>>>=Cs,gs-=Cs),gs<15&&(ms+=Is[os++]<<gs,gs+=8,ms+=Is[os++]<<gs,gs+=8),Ss=bs[ms&ys];r:for(;;){if(Cs=Ss>>>24,ms>>>=Cs,gs-=Cs,Cs=Ss>>>16&255,Cs&16){if(Es=Ss&65535,Cs&=15,gs<Cs&&(ms+=Is[os++]<<gs,gs+=8,gs<Cs&&(ms+=Is[os++]<<gs,gs+=8)),Es+=ms&(1<<Cs)-1,Es>us){rs.msg="invalid distance too far back",As.mode=BAD$1;break e}if(ms>>>=Cs,gs-=Cs,Cs=as-ls,Es>Cs){if(Cs=Es-Cs,Cs>ps&&As.sane){rs.msg="invalid distance too far back",As.mode=BAD$1;break e}if(ws=0,Ts=hs,fs===0){if(ws+=ds-Cs,Cs<$s){$s-=Cs;do Rs[as++]=hs[ws++];while(--Cs);ws=as-Es,Ts=Rs}}else if(fs<Cs){if(ws+=ds+fs-Cs,Cs-=fs,Cs<$s){$s-=Cs;do Rs[as++]=hs[ws++];while(--Cs);if(ws=0,fs<$s){Cs=fs,$s-=Cs;do Rs[as++]=hs[ws++];while(--Cs);ws=as-Es,Ts=Rs}}}else if(ws+=fs-Cs,Cs<$s){$s-=Cs;do Rs[as++]=hs[ws++];while(--Cs);ws=as-Es,Ts=Rs}for(;$s>2;)Rs[as++]=Ts[ws++],Rs[as++]=Ts[ws++],Rs[as++]=Ts[ws++],$s-=3;$s&&(Rs[as++]=Ts[ws++],$s>1&&(Rs[as++]=Ts[ws++]))}else{ws=as-Es;do Rs[as++]=Rs[ws++],Rs[as++]=Rs[ws++],Rs[as++]=Rs[ws++],$s-=3;while($s>2);$s&&(Rs[as++]=Rs[ws++],$s>1&&(Rs[as++]=Rs[ws++]))}}else if(Cs&64){rs.msg="invalid distance code",As.mode=BAD$1;break e}else{Ss=bs[(Ss&65535)+(ms&(1<<Cs)-1)];continue r}break}}else if(Cs&64)if(Cs&32){As.mode=TYPE$1;break e}else{rs.msg="invalid literal/length code",As.mode=BAD$1;break e}else{Ss=vs[(Ss&65535)+(ms&(1<<Cs)-1)];continue t}break}}while(os<ss&&as<cs);$s=gs>>3,os-=$s,gs-=$s<<3,ms&=(1<<gs)-1,rs.next_in=os,rs.next_out=as,rs.avail_in=os<ss?5+(ss-os):5-(os-ss),rs.avail_out=as<cs?257+(cs-as):257-(as-cs),As.hold=ms,As.bits=gs};const MAXBITS=15,ENOUGH_LENS$1=852,ENOUGH_DISTS$1=592,CODES$1=0,LENS$1=1,DISTS$1=2,lbase=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),lext=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),dbase=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),dext=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),inflate_table$1=(ts,rs,ns,os,ss,as,ls,cs)=>{const us=cs.bits;let ds=0,ps=0,fs=0,hs=0,ms=0,gs=0,vs=0,bs=0,xs=0,ys=0,Ss,Cs,$s,Es,ws,Ts=null,Is;const Rs=new Uint16Array(MAXBITS+1),As=new Uint16Array(MAXBITS+1);let ks=null,Ms,Os,Ds;for(ds=0;ds<=MAXBITS;ds++)Rs[ds]=0;for(ps=0;ps<os;ps++)Rs[rs[ns+ps]]++;for(ms=us,hs=MAXBITS;hs>=1&&Rs[hs]===0;hs--);if(ms>hs&&(ms=hs),hs===0)return ss[as++]=1<<24|64<<16|0,ss[as++]=1<<24|64<<16|0,cs.bits=1,0;for(fs=1;fs<hs&&Rs[fs]===0;fs++);for(ms<fs&&(ms=fs),bs=1,ds=1;ds<=MAXBITS;ds++)if(bs<<=1,bs-=Rs[ds],bs<0)return-1;if(bs>0&&(ts===CODES$1||hs!==1))return-1;for(As[1]=0,ds=1;ds<MAXBITS;ds++)As[ds+1]=As[ds]+Rs[ds];for(ps=0;ps<os;ps++)rs[ns+ps]!==0&&(ls[As[rs[ns+ps]]++]=ps);if(ts===CODES$1?(Ts=ks=ls,Is=20):ts===LENS$1?(Ts=lbase,ks=lext,Is=257):(Ts=dbase,ks=dext,Is=0),ys=0,ps=0,ds=fs,ws=as,gs=ms,vs=0,$s=-1,xs=1<<ms,Es=xs-1,ts===LENS$1&&xs>ENOUGH_LENS$1||ts===DISTS$1&&xs>ENOUGH_DISTS$1)return 1;for(;;){Ms=ds-vs,ls[ps]+1<Is?(Os=0,Ds=ls[ps]):ls[ps]>=Is?(Os=ks[ls[ps]-Is],Ds=Ts[ls[ps]-Is]):(Os=32+64,Ds=0),Ss=1<<ds-vs,Cs=1<<gs,fs=Cs;do Cs-=Ss,ss[ws+(ys>>vs)+Cs]=Ms<<24|Os<<16|Ds|0;while(Cs!==0);for(Ss=1<<ds-1;ys&Ss;)Ss>>=1;if(Ss!==0?(ys&=Ss-1,ys+=Ss):ys=0,ps++,--Rs[ds]===0){if(ds===hs)break;ds=rs[ns+ls[ps]]}if(ds>ms&&(ys&Es)!==$s){for(vs===0&&(vs=ms),ws+=fs,gs=ds-vs,bs=1<<gs;gs+vs<hs&&(bs-=Rs[gs+vs],!(bs<=0));)gs++,bs<<=1;if(xs+=1<<gs,ts===LENS$1&&xs>ENOUGH_LENS$1||ts===DISTS$1&&xs>ENOUGH_DISTS$1)return 1;$s=ys&Es,ss[$s]=ms<<24|gs<<16|ws-as|0}}return ys!==0&&(ss[ws+ys]=ds-vs<<24|64<<16|0),cs.bits=ms,0};var inftrees=inflate_table$1;const adler32=adler32_1,crc32=crc32_1,inflate_fast=inffast,inflate_table=inftrees,CODES=0,LENS=1,DISTS=2,{Z_FINISH:Z_FINISH$1,Z_BLOCK,Z_TREES,Z_OK:Z_OK$1,Z_STREAM_END:Z_STREAM_END$1,Z_NEED_DICT:Z_NEED_DICT$1,Z_STREAM_ERROR:Z_STREAM_ERROR$1,Z_DATA_ERROR:Z_DATA_ERROR$1,Z_MEM_ERROR:Z_MEM_ERROR$1,Z_BUF_ERROR,Z_DEFLATED}=constants$2,HEAD=16180,FLAGS=16181,TIME=16182,OS=16183,EXLEN=16184,EXTRA=16185,NAME=16186,COMMENT=16187,HCRC=16188,DICTID=16189,DICT=16190,TYPE=16191,TYPEDO=16192,STORED=16193,COPY_=16194,COPY=16195,TABLE=16196,LENLENS=16197,CODELENS=16198,LEN_=16199,LEN=16200,LENEXT=16201,DIST=16202,DISTEXT=16203,MATCH=16204,LIT=16205,CHECK=16206,LENGTH=16207,DONE=16208,BAD=16209,MEM=16210,SYNC=16211,ENOUGH_LENS=852,ENOUGH_DISTS=592,MAX_WBITS=15,DEF_WBITS=MAX_WBITS,zswap32=ts=>(ts>>>24&255)+(ts>>>8&65280)+((ts&65280)<<8)+((ts&255)<<24);function InflateState(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const inflateStateCheck=ts=>{if(!ts)return 1;const rs=ts.state;return!rs||rs.strm!==ts||rs.mode<HEAD||rs.mode>SYNC?1:0},inflateResetKeep=ts=>{if(inflateStateCheck(ts))return Z_STREAM_ERROR$1;const rs=ts.state;return ts.total_in=ts.total_out=rs.total=0,ts.msg="",rs.wrap&&(ts.adler=rs.wrap&1),rs.mode=HEAD,rs.last=0,rs.havedict=0,rs.flags=-1,rs.dmax=32768,rs.head=null,rs.hold=0,rs.bits=0,rs.lencode=rs.lendyn=new Int32Array(ENOUGH_LENS),rs.distcode=rs.distdyn=new Int32Array(ENOUGH_DISTS),rs.sane=1,rs.back=-1,Z_OK$1},inflateReset=ts=>{if(inflateStateCheck(ts))return Z_STREAM_ERROR$1;const rs=ts.state;return rs.wsize=0,rs.whave=0,rs.wnext=0,inflateResetKeep(ts)},inflateReset2=(ts,rs)=>{let ns;if(inflateStateCheck(ts))return Z_STREAM_ERROR$1;const os=ts.state;return rs<0?(ns=0,rs=-rs):(ns=(rs>>4)+5,rs<48&&(rs&=15)),rs&&(rs<8||rs>15)?Z_STREAM_ERROR$1:(os.window!==null&&os.wbits!==rs&&(os.window=null),os.wrap=ns,os.wbits=rs,inflateReset(ts))},inflateInit2=(ts,rs)=>{if(!ts)return Z_STREAM_ERROR$1;const ns=new InflateState;ts.state=ns,ns.strm=ts,ns.window=null,ns.mode=HEAD;const os=inflateReset2(ts,rs);return os!==Z_OK$1&&(ts.state=null),os},inflateInit=ts=>inflateInit2(ts,DEF_WBITS);let virgin=!0,lenfix,distfix;const fixedtables=ts=>{if(virgin){lenfix=new Int32Array(512),distfix=new Int32Array(32);let rs=0;for(;rs<144;)ts.lens[rs++]=8;for(;rs<256;)ts.lens[rs++]=9;for(;rs<280;)ts.lens[rs++]=7;for(;rs<288;)ts.lens[rs++]=8;for(inflate_table(LENS,ts.lens,0,288,lenfix,0,ts.work,{bits:9}),rs=0;rs<32;)ts.lens[rs++]=5;inflate_table(DISTS,ts.lens,0,32,distfix,0,ts.work,{bits:5}),virgin=!1}ts.lencode=lenfix,ts.lenbits=9,ts.distcode=distfix,ts.distbits=5},updatewindow=(ts,rs,ns,os)=>{let ss;const as=ts.state;return as.window===null&&(as.wsize=1<<as.wbits,as.wnext=0,as.whave=0,as.window=new Uint8Array(as.wsize)),os>=as.wsize?(as.window.set(rs.subarray(ns-as.wsize,ns),0),as.wnext=0,as.whave=as.wsize):(ss=as.wsize-as.wnext,ss>os&&(ss=os),as.window.set(rs.subarray(ns-os,ns-os+ss),as.wnext),os-=ss,os?(as.window.set(rs.subarray(ns-os,ns),0),as.wnext=os,as.whave=as.wsize):(as.wnext+=ss,as.wnext===as.wsize&&(as.wnext=0),as.whave<as.wsize&&(as.whave+=ss))),0},inflate$2=(ts,rs)=>{let ns,os,ss,as,ls,cs,us,ds,ps,fs,hs,ms,gs,vs,bs=0,xs,ys,Ss,Cs,$s,Es,ws,Ts;const Is=new Uint8Array(4);let Rs,As;const ks=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(inflateStateCheck(ts)||!ts.output||!ts.input&&ts.avail_in!==0)return Z_STREAM_ERROR$1;ns=ts.state,ns.mode===TYPE&&(ns.mode=TYPEDO),ls=ts.next_out,ss=ts.output,us=ts.avail_out,as=ts.next_in,os=ts.input,cs=ts.avail_in,ds=ns.hold,ps=ns.bits,fs=cs,hs=us,Ts=Z_OK$1;e:for(;;)switch(ns.mode){case HEAD:if(ns.wrap===0){ns.mode=TYPEDO;break}for(;ps<16;){if(cs===0)break e;cs--,ds+=os[as++]<<ps,ps+=8}if(ns.wrap&2&&ds===35615){ns.wbits===0&&(ns.wbits=15),ns.check=0,Is[0]=ds&255,Is[1]=ds>>>8&255,ns.check=crc32(ns.check,Is,2,0),ds=0,ps=0,ns.mode=FLAGS;break}if(ns.head&&(ns.head.done=!1),!(ns.wrap&1)||(((ds&255)<<8)+(ds>>8))%31){ts.msg="incorrect header check",ns.mode=BAD;break}if((ds&15)!==Z_DEFLATED){ts.msg="unknown compression method",ns.mode=BAD;break}if(ds>>>=4,ps-=4,ws=(ds&15)+8,ns.wbits===0&&(ns.wbits=ws),ws>15||ws>ns.wbits){ts.msg="invalid window size",ns.mode=BAD;break}ns.dmax=1<<ns.wbits,ns.flags=0,ts.adler=ns.check=1,ns.mode=ds&512?DICTID:TYPE,ds=0,ps=0;break;case FLAGS:for(;ps<16;){if(cs===0)break e;cs--,ds+=os[as++]<<ps,ps+=8}if(ns.flags=ds,(ns.flags&255)!==Z_DEFLATED){ts.msg="unknown compression method",ns.mode=BAD;break}if(ns.flags&57344){ts.msg="unknown header flags set",ns.mode=BAD;break}ns.head&&(ns.head.text=ds>>8&1),ns.flags&512&&ns.wrap&4&&(Is[0]=ds&255,Is[1]=ds>>>8&255,ns.check=crc32(ns.check,Is,2,0)),ds=0,ps=0,ns.mode=TIME;case TIME:for(;ps<32;){if(cs===0)break e;cs--,ds+=os[as++]<<ps,ps+=8}ns.head&&(ns.head.time=ds),ns.flags&512&&ns.wrap&4&&(Is[0]=ds&255,Is[1]=ds>>>8&255,Is[2]=ds>>>16&255,Is[3]=ds>>>24&255,ns.check=crc32(ns.check,Is,4,0)),ds=0,ps=0,ns.mode=OS;case OS:for(;ps<16;){if(cs===0)break e;cs--,ds+=os[as++]<<ps,ps+=8}ns.head&&(ns.head.xflags=ds&255,ns.head.os=ds>>8),ns.flags&512&&ns.wrap&4&&(Is[0]=ds&255,Is[1]=ds>>>8&255,ns.check=crc32(ns.check,Is,2,0)),ds=0,ps=0,ns.mode=EXLEN;case EXLEN:if(ns.flags&1024){for(;ps<16;){if(cs===0)break e;cs--,ds+=os[as++]<<ps,ps+=8}ns.length=ds,ns.head&&(ns.head.extra_len=ds),ns.flags&512&&ns.wrap&4&&(Is[0]=ds&255,Is[1]=ds>>>8&255,ns.check=crc32(ns.check,Is,2,0)),ds=0,ps=0}else ns.head&&(ns.head.extra=null);ns.mode=EXTRA;case EXTRA:if(ns.flags&1024&&(ms=ns.length,ms>cs&&(ms=cs),ms&&(ns.head&&(ws=ns.head.extra_len-ns.length,ns.head.extra||(ns.head.extra=new Uint8Array(ns.head.extra_len)),ns.head.extra.set(os.subarray(as,as+ms),ws)),ns.flags&512&&ns.wrap&4&&(ns.check=crc32(ns.check,os,ms,as)),cs-=ms,as+=ms,ns.length-=ms),ns.length))break e;ns.length=0,ns.mode=NAME;case NAME:if(ns.flags&2048){if(cs===0)break e;ms=0;do ws=os[as+ms++],ns.head&&ws&&ns.length<65536&&(ns.head.name+=String.fromCharCode(ws));while(ws&&ms<cs);if(ns.flags&512&&ns.wrap&4&&(ns.check=crc32(ns.check,os,ms,as)),cs-=ms,as+=ms,ws)break e}else ns.head&&(ns.head.name=null);ns.length=0,ns.mode=COMMENT;case COMMENT:if(ns.flags&4096){if(cs===0)break e;ms=0;do ws=os[as+ms++],ns.head&&ws&&ns.length<65536&&(ns.head.comment+=String.fromCharCode(ws));while(ws&&ms<cs);if(ns.flags&512&&ns.wrap&4&&(ns.check=crc32(ns.check,os,ms,as)),cs-=ms,as+=ms,ws)break e}else ns.head&&(ns.head.comment=null);ns.mode=HCRC;case HCRC:if(ns.flags&512){for(;ps<16;){if(cs===0)break e;cs--,ds+=os[as++]<<ps,ps+=8}if(ns.wrap&4&&ds!==(ns.check&65535)){ts.msg="header crc mismatch",ns.mode=BAD;break}ds=0,ps=0}ns.head&&(ns.head.hcrc=ns.flags>>9&1,ns.head.done=!0),ts.adler=ns.check=0,ns.mode=TYPE;break;case DICTID:for(;ps<32;){if(cs===0)break e;cs--,ds+=os[as++]<<ps,ps+=8}ts.adler=ns.check=zswap32(ds),ds=0,ps=0,ns.mode=DICT;case DICT:if(ns.havedict===0)return ts.next_out=ls,ts.avail_out=us,ts.next_in=as,ts.avail_in=cs,ns.hold=ds,ns.bits=ps,Z_NEED_DICT$1;ts.adler=ns.check=1,ns.mode=TYPE;case TYPE:if(rs===Z_BLOCK||rs===Z_TREES)break e;case TYPEDO:if(ns.last){ds>>>=ps&7,ps-=ps&7,ns.mode=CHECK;break}for(;ps<3;){if(cs===0)break e;cs--,ds+=os[as++]<<ps,ps+=8}switch(ns.last=ds&1,ds>>>=1,ps-=1,ds&3){case 0:ns.mode=STORED;break;case 1:if(fixedtables(ns),ns.mode=LEN_,rs===Z_TREES){ds>>>=2,ps-=2;break e}break;case 2:ns.mode=TABLE;break;case 3:ts.msg="invalid block type",ns.mode=BAD}ds>>>=2,ps-=2;break;case STORED:for(ds>>>=ps&7,ps-=ps&7;ps<32;){if(cs===0)break e;cs--,ds+=os[as++]<<ps,ps+=8}if((ds&65535)!==(ds>>>16^65535)){ts.msg="invalid stored block lengths",ns.mode=BAD;break}if(ns.length=ds&65535,ds=0,ps=0,ns.mode=COPY_,rs===Z_TREES)break e;case COPY_:ns.mode=COPY;case COPY:if(ms=ns.length,ms){if(ms>cs&&(ms=cs),ms>us&&(ms=us),ms===0)break e;ss.set(os.subarray(as,as+ms),ls),cs-=ms,as+=ms,us-=ms,ls+=ms,ns.length-=ms;break}ns.mode=TYPE;break;case TABLE:for(;ps<14;){if(cs===0)break e;cs--,ds+=os[as++]<<ps,ps+=8}if(ns.nlen=(ds&31)+257,ds>>>=5,ps-=5,ns.ndist=(ds&31)+1,ds>>>=5,ps-=5,ns.ncode=(ds&15)+4,ds>>>=4,ps-=4,ns.nlen>286||ns.ndist>30){ts.msg="too many length or distance symbols",ns.mode=BAD;break}ns.have=0,ns.mode=LENLENS;case LENLENS:for(;ns.have<ns.ncode;){for(;ps<3;){if(cs===0)break e;cs--,ds+=os[as++]<<ps,ps+=8}ns.lens[ks[ns.have++]]=ds&7,ds>>>=3,ps-=3}for(;ns.have<19;)ns.lens[ks[ns.have++]]=0;if(ns.lencode=ns.lendyn,ns.lenbits=7,Rs={bits:ns.lenbits},Ts=inflate_table(CODES,ns.lens,0,19,ns.lencode,0,ns.work,Rs),ns.lenbits=Rs.bits,Ts){ts.msg="invalid code lengths set",ns.mode=BAD;break}ns.have=0,ns.mode=CODELENS;case CODELENS:for(;ns.have<ns.nlen+ns.ndist;){for(;bs=ns.lencode[ds&(1<<ns.lenbits)-1],xs=bs>>>24,ys=bs>>>16&255,Ss=bs&65535,!(xs<=ps);){if(cs===0)break e;cs--,ds+=os[as++]<<ps,ps+=8}if(Ss<16)ds>>>=xs,ps-=xs,ns.lens[ns.have++]=Ss;else{if(Ss===16){for(As=xs+2;ps<As;){if(cs===0)break e;cs--,ds+=os[as++]<<ps,ps+=8}if(ds>>>=xs,ps-=xs,ns.have===0){ts.msg="invalid bit length repeat",ns.mode=BAD;break}ws=ns.lens[ns.have-1],ms=3+(ds&3),ds>>>=2,ps-=2}else if(Ss===17){for(As=xs+3;ps<As;){if(cs===0)break e;cs--,ds+=os[as++]<<ps,ps+=8}ds>>>=xs,ps-=xs,ws=0,ms=3+(ds&7),ds>>>=3,ps-=3}else{for(As=xs+7;ps<As;){if(cs===0)break e;cs--,ds+=os[as++]<<ps,ps+=8}ds>>>=xs,ps-=xs,ws=0,ms=11+(ds&127),ds>>>=7,ps-=7}if(ns.have+ms>ns.nlen+ns.ndist){ts.msg="invalid bit length repeat",ns.mode=BAD;break}for(;ms--;)ns.lens[ns.have++]=ws}}if(ns.mode===BAD)break;if(ns.lens[256]===0){ts.msg="invalid code -- missing end-of-block",ns.mode=BAD;break}if(ns.lenbits=9,Rs={bits:ns.lenbits},Ts=inflate_table(LENS,ns.lens,0,ns.nlen,ns.lencode,0,ns.work,Rs),ns.lenbits=Rs.bits,Ts){ts.msg="invalid literal/lengths set",ns.mode=BAD;break}if(ns.distbits=6,ns.distcode=ns.distdyn,Rs={bits:ns.distbits},Ts=inflate_table(DISTS,ns.lens,ns.nlen,ns.ndist,ns.distcode,0,ns.work,Rs),ns.distbits=Rs.bits,Ts){ts.msg="invalid distances set",ns.mode=BAD;break}if(ns.mode=LEN_,rs===Z_TREES)break e;case LEN_:ns.mode=LEN;case LEN:if(cs>=6&&us>=258){ts.next_out=ls,ts.avail_out=us,ts.next_in=as,ts.avail_in=cs,ns.hold=ds,ns.bits=ps,inflate_fast(ts,hs),ls=ts.next_out,ss=ts.output,us=ts.avail_out,as=ts.next_in,os=ts.input,cs=ts.avail_in,ds=ns.hold,ps=ns.bits,ns.mode===TYPE&&(ns.back=-1);break}for(ns.back=0;bs=ns.lencode[ds&(1<<ns.lenbits)-1],xs=bs>>>24,ys=bs>>>16&255,Ss=bs&65535,!(xs<=ps);){if(cs===0)break e;cs--,ds+=os[as++]<<ps,ps+=8}if(ys&&!(ys&240)){for(Cs=xs,$s=ys,Es=Ss;bs=ns.lencode[Es+((ds&(1<<Cs+$s)-1)>>Cs)],xs=bs>>>24,ys=bs>>>16&255,Ss=bs&65535,!(Cs+xs<=ps);){if(cs===0)break e;cs--,ds+=os[as++]<<ps,ps+=8}ds>>>=Cs,ps-=Cs,ns.back+=Cs}if(ds>>>=xs,ps-=xs,ns.back+=xs,ns.length=Ss,ys===0){ns.mode=LIT;break}if(ys&32){ns.back=-1,ns.mode=TYPE;break}if(ys&64){ts.msg="invalid literal/length code",ns.mode=BAD;break}ns.extra=ys&15,ns.mode=LENEXT;case LENEXT:if(ns.extra){for(As=ns.extra;ps<As;){if(cs===0)break e;cs--,ds+=os[as++]<<ps,ps+=8}ns.length+=ds&(1<<ns.extra)-1,ds>>>=ns.extra,ps-=ns.extra,ns.back+=ns.extra}ns.was=ns.length,ns.mode=DIST;case DIST:for(;bs=ns.distcode[ds&(1<<ns.distbits)-1],xs=bs>>>24,ys=bs>>>16&255,Ss=bs&65535,!(xs<=ps);){if(cs===0)break e;cs--,ds+=os[as++]<<ps,ps+=8}if(!(ys&240)){for(Cs=xs,$s=ys,Es=Ss;bs=ns.distcode[Es+((ds&(1<<Cs+$s)-1)>>Cs)],xs=bs>>>24,ys=bs>>>16&255,Ss=bs&65535,!(Cs+xs<=ps);){if(cs===0)break e;cs--,ds+=os[as++]<<ps,ps+=8}ds>>>=Cs,ps-=Cs,ns.back+=Cs}if(ds>>>=xs,ps-=xs,ns.back+=xs,ys&64){ts.msg="invalid distance code",ns.mode=BAD;break}ns.offset=Ss,ns.extra=ys&15,ns.mode=DISTEXT;case DISTEXT:if(ns.extra){for(As=ns.extra;ps<As;){if(cs===0)break e;cs--,ds+=os[as++]<<ps,ps+=8}ns.offset+=ds&(1<<ns.extra)-1,ds>>>=ns.extra,ps-=ns.extra,ns.back+=ns.extra}if(ns.offset>ns.dmax){ts.msg="invalid distance too far back",ns.mode=BAD;break}ns.mode=MATCH;case MATCH:if(us===0)break e;if(ms=hs-us,ns.offset>ms){if(ms=ns.offset-ms,ms>ns.whave&&ns.sane){ts.msg="invalid distance too far back",ns.mode=BAD;break}ms>ns.wnext?(ms-=ns.wnext,gs=ns.wsize-ms):gs=ns.wnext-ms,ms>ns.length&&(ms=ns.length),vs=ns.window}else vs=ss,gs=ls-ns.offset,ms=ns.length;ms>us&&(ms=us),us-=ms,ns.length-=ms;do ss[ls++]=vs[gs++];while(--ms);ns.length===0&&(ns.mode=LEN);break;case LIT:if(us===0)break e;ss[ls++]=ns.length,us--,ns.mode=LEN;break;case CHECK:if(ns.wrap){for(;ps<32;){if(cs===0)break e;cs--,ds|=os[as++]<<ps,ps+=8}if(hs-=us,ts.total_out+=hs,ns.total+=hs,ns.wrap&4&&hs&&(ts.adler=ns.check=ns.flags?crc32(ns.check,ss,hs,ls-hs):adler32(ns.check,ss,hs,ls-hs)),hs=us,ns.wrap&4&&(ns.flags?ds:zswap32(ds))!==ns.check){ts.msg="incorrect data check",ns.mode=BAD;break}ds=0,ps=0}ns.mode=LENGTH;case LENGTH:if(ns.wrap&&ns.flags){for(;ps<32;){if(cs===0)break e;cs--,ds+=os[as++]<<ps,ps+=8}if(ns.wrap&4&&ds!==(ns.total&4294967295)){ts.msg="incorrect length check",ns.mode=BAD;break}ds=0,ps=0}ns.mode=DONE;case DONE:Ts=Z_STREAM_END$1;break e;case BAD:Ts=Z_DATA_ERROR$1;break e;case MEM:return Z_MEM_ERROR$1;case SYNC:default:return Z_STREAM_ERROR$1}return ts.next_out=ls,ts.avail_out=us,ts.next_in=as,ts.avail_in=cs,ns.hold=ds,ns.bits=ps,(ns.wsize||hs!==ts.avail_out&&ns.mode<BAD&&(ns.mode<CHECK||rs!==Z_FINISH$1))&&updatewindow(ts,ts.output,ts.next_out,hs-ts.avail_out),fs-=ts.avail_in,hs-=ts.avail_out,ts.total_in+=fs,ts.total_out+=hs,ns.total+=hs,ns.wrap&4&&hs&&(ts.adler=ns.check=ns.flags?crc32(ns.check,ss,hs,ts.next_out-hs):adler32(ns.check,ss,hs,ts.next_out-hs)),ts.data_type=ns.bits+(ns.last?64:0)+(ns.mode===TYPE?128:0)+(ns.mode===LEN_||ns.mode===COPY_?256:0),(fs===0&&hs===0||rs===Z_FINISH$1)&&Ts===Z_OK$1&&(Ts=Z_BUF_ERROR),Ts},inflateEnd=ts=>{if(inflateStateCheck(ts))return Z_STREAM_ERROR$1;let rs=ts.state;return rs.window&&(rs.window=null),ts.state=null,Z_OK$1},inflateGetHeader=(ts,rs)=>{if(inflateStateCheck(ts))return Z_STREAM_ERROR$1;const ns=ts.state;return ns.wrap&2?(ns.head=rs,rs.done=!1,Z_OK$1):Z_STREAM_ERROR$1},inflateSetDictionary=(ts,rs)=>{const ns=rs.length;let os,ss,as;return inflateStateCheck(ts)||(os=ts.state,os.wrap!==0&&os.mode!==DICT)?Z_STREAM_ERROR$1:os.mode===DICT&&(ss=1,ss=adler32(ss,rs,ns,0),ss!==os.check)?Z_DATA_ERROR$1:(as=updatewindow(ts,rs,ns,ns),as?(os.mode=MEM,Z_MEM_ERROR$1):(os.havedict=1,Z_OK$1))};inflate$3.inflateReset=inflateReset;inflate$3.inflateReset2=inflateReset2;inflate$3.inflateResetKeep=inflateResetKeep;inflate$3.inflateInit=inflateInit;inflate$3.inflateInit2=inflateInit2;inflate$3.inflate=inflate$2;inflate$3.inflateEnd=inflateEnd;inflate$3.inflateGetHeader=inflateGetHeader;inflate$3.inflateSetDictionary=inflateSetDictionary;inflate$3.inflateInfo="pako inflate (from Nodeca project)";function GZheader$1(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var gzheader=GZheader$1;const zlib_inflate=inflate$3,utils=common,strings=strings$2,msg=messages,ZStream=zstream,GZheader=gzheader,toString=Object.prototype.toString,{Z_NO_FLUSH,Z_FINISH,Z_OK,Z_STREAM_END,Z_NEED_DICT,Z_STREAM_ERROR,Z_DATA_ERROR,Z_MEM_ERROR}=constants$2;function Inflate$1(ts){this.options=utils.assign({chunkSize:1024*64,windowBits:15,to:""},ts||{});const rs=this.options;rs.raw&&rs.windowBits>=0&&rs.windowBits<16&&(rs.windowBits=-rs.windowBits,rs.windowBits===0&&(rs.windowBits=-15)),rs.windowBits>=0&&rs.windowBits<16&&!(ts&&ts.windowBits)&&(rs.windowBits+=32),rs.windowBits>15&&rs.windowBits<48&&(rs.windowBits&15||(rs.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ZStream,this.strm.avail_out=0;let ns=zlib_inflate.inflateInit2(this.strm,rs.windowBits);if(ns!==Z_OK)throw new Error(msg[ns]);if(this.header=new GZheader,zlib_inflate.inflateGetHeader(this.strm,this.header),rs.dictionary&&(typeof rs.dictionary=="string"?rs.dictionary=strings.string2buf(rs.dictionary):toString.call(rs.dictionary)==="[object ArrayBuffer]"&&(rs.dictionary=new Uint8Array(rs.dictionary)),rs.raw&&(ns=zlib_inflate.inflateSetDictionary(this.strm,rs.dictionary),ns!==Z_OK)))throw new Error(msg[ns])}Inflate$1.prototype.push=function(ts,rs){const ns=this.strm,os=this.options.chunkSize,ss=this.options.dictionary;let as,ls,cs;if(this.ended)return!1;for(rs===~~rs?ls=rs:ls=rs===!0?Z_FINISH:Z_NO_FLUSH,toString.call(ts)==="[object ArrayBuffer]"?ns.input=new Uint8Array(ts):ns.input=ts,ns.next_in=0,ns.avail_in=ns.input.length;;){for(ns.avail_out===0&&(ns.output=new Uint8Array(os),ns.next_out=0,ns.avail_out=os),as=zlib_inflate.inflate(ns,ls),as===Z_NEED_DICT&&ss&&(as=zlib_inflate.inflateSetDictionary(ns,ss),as===Z_OK?as=zlib_inflate.inflate(ns,ls):as===Z_DATA_ERROR&&(as=Z_NEED_DICT));ns.avail_in>0&&as===Z_STREAM_END&&ns.state.wrap>0&&ts[ns.next_in]!==0;)zlib_inflate.inflateReset(ns),as=zlib_inflate.inflate(ns,ls);switch(as){case Z_STREAM_ERROR:case Z_DATA_ERROR:case Z_NEED_DICT:case Z_MEM_ERROR:return this.onEnd(as),this.ended=!0,!1}if(cs=ns.avail_out,ns.next_out&&(ns.avail_out===0||as===Z_STREAM_END))if(this.options.to==="string"){let us=strings.utf8border(ns.output,ns.next_out),ds=ns.next_out-us,ps=strings.buf2string(ns.output,us);ns.next_out=ds,ns.avail_out=os-ds,ds&&ns.output.set(ns.output.subarray(us,us+ds),0),this.onData(ps)}else this.onData(ns.output.length===ns.next_out?ns.output:ns.output.subarray(0,ns.next_out));if(!(as===Z_OK&&cs===0)){if(as===Z_STREAM_END)return as=zlib_inflate.inflateEnd(this.strm),this.onEnd(as),this.ended=!0,!0;if(ns.avail_in===0)break}}return!0};Inflate$1.prototype.onData=function(ts){this.chunks.push(ts)};Inflate$1.prototype.onEnd=function(ts){ts===Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=utils.flattenChunks(this.chunks)),this.chunks=[],this.err=ts,this.msg=this.strm.msg};function inflate$1(ts,rs){const ns=new Inflate$1(rs);if(ns.push(ts),ns.err)throw ns.msg||msg[ns.err];return ns.result}function inflateRaw$1(ts,rs){return rs=rs||{},rs.raw=!0,inflate$1(ts,rs)}inflate$4.Inflate=Inflate$1;inflate$4.inflate=inflate$1;inflate$4.inflateRaw=inflateRaw$1;inflate$4.ungzip=inflate$1;inflate$4.constants=constants$2;const{Deflate,deflate,deflateRaw,gzip}=deflate$4,{Inflate,inflate,inflateRaw,ungzip}=inflate$4,constants$1=constants$2;pako$1.Deflate=Deflate;pako$1.deflate=deflate;pako$1.deflateRaw=deflateRaw;pako$1.gzip=gzip;pako$1.Inflate=Inflate;pako$1.inflate=inflate;pako$1.inflateRaw=inflateRaw;pako$1.ungzip=ungzip;pako$1.constants=constants$1;Object.defineProperty(ZLIBTextCompressor$1,"__esModule",{value:!0});const pako=pako$1;class ZLIBTextCompressor{constructor(rs){this.logger=rs}compress(rs,ns){if(ns.length>0){const as=Math.min(ns.length,ZLIBTextCompressor.MAX_DICTIONARY_SIZE);ns=ns.slice(0,as)}const os={memLevel:ZLIBTextCompressor.Z_MEM_LEVEL,dictionary:ns};return pako.deflateRaw(rs,os)}decompress(rs,ns){if(ns.length>0){const as=Math.min(ns.length,ZLIBTextCompressor.MAX_DICTIONARY_SIZE);ns=ns.slice(0,as)}const os={to:"string",dictionary:ns,chunkSize:4096};let ss="";try{ss=pako.inflateRaw(rs,os)}catch(as){this.logger.error("failed to decompress the string with error: [".concat(as,"]"))}return ss}}ZLIBTextCompressor$1.default=ZLIBTextCompressor;ZLIBTextCompressor.Z_MEM_LEVEL=9;ZLIBTextCompressor.MAX_DICTIONARY_SIZE=31744;var SignalingClientSubscribe$1={};Object.defineProperty(SignalingClientSubscribe$1,"__esModule",{value:!0});class SignalingClientSubscribe{constructor(rs,ns,os,ss,as,ls,cs,us,ds,ps){this.attendeeId=rs,this.sdpOffer=ns,this.audioHost=os,this.audioMuted=ss,this.audioCheckin=as,this.receiveStreamIds=ls,this.localVideoEnabled=cs,this.videoStreamDescriptions=us,this.connectionTypeHasVideo=ds,this.compressedSdpOffer=ps,this.videoSubscriptionConfiguration=[]}}SignalingClientSubscribe$1.default=SignalingClientSubscribe;var VideoPreferences$1={},__importDefault$J=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(VideoPreferences$1,"__esModule",{value:!0});VideoPreferences$1.VideoPreferences=VideoPreferences$1.MutableVideoPreferences=VideoPreferences$1.convertVideoPreferencesToSignalingClientVideoSubscriptionConfiguration=void 0;const SignalingClientVideoSubscriptionConfiguration_1=__importDefault$J(SignalingClientVideoSubscriptionConfiguration$1);function convertVideoPreferencesToSignalingClientVideoSubscriptionConfiguration(ts,rs,ns){if(ts.transceiverController.getMidForGroupId===void 0||ts.videoStreamIndex.attendeeIdForGroupId===void 0||ns===void 0)return[];const os=new Array,ss=new Map,as=new Map;for(const ls of rs){const cs=ts.transceiverController.getMidForGroupId(ls);if(cs===void 0)continue;const us=ts.videoStreamIndex.attendeeIdForGroupId(ls);ss.set(us,cs),as.set(us,ls)}for(const ls of ns){const cs=new SignalingClientVideoSubscriptionConfiguration_1.default,us=ss.get(ls.attendeeId);us!==void 0&&(cs.mid=us,cs.attendeeId=ls.attendeeId,cs.groupId=as.get(ls.attendeeId),cs.priority=Number.MAX_SAFE_INTEGER-ls.priority,cs.targetBitrateKbps=ls.targetSizeToBitrateKbps(ls.targetSize),cs.qualityAdaptationPreference=ls.degradationPreference,os.push(cs))}return os}VideoPreferences$1.convertVideoPreferencesToSignalingClientVideoSubscriptionConfiguration=convertVideoPreferencesToSignalingClientVideoSubscriptionConfiguration;class ObjectSet{constructor(rs=[]){this.items=rs}static default(){return new ObjectSet([])}[Symbol.iterator](){let rs=0;const ns=this.items;return{next(){return rs<ns.length?{done:!1,value:ns[rs++]}:{done:!0,value:null}}}}first(){return this.items[0]}add(rs){this.items.push(rs)}replaceFirst(rs,ns){const os=this.items.findIndex(ns);os===-1?this.items.push(rs):this.has(rs)?this.items.splice(os,1):this.items[os]=rs}remove(rs){this.items=this.items.filter(ns=>!ns.equals(rs))}clear(){this.items=[]}isEmpty(){return this.items.length===0}equals(rs){if(rs===this)return!0;if(rs.items.length!==this.items.length)return!1;for(const ns of this.items)if(!rs.items.some(os=>os.equals(ns)))return!1;return!0}has(rs){return this.items.some(ns=>ns.equals(rs))}some(rs){return this.items.some(rs)}clone(){return new ObjectSet([...this.items])}sort(){this.items.sort((rs,ns)=>rs.partialCompare(ns))}modify(){return new SetBuilder(this)}}class SetBuilder{constructor(rs=new ObjectSet){this.items=rs,this.copied=!1}cow(){this.copied||(this.items=this.items.clone(),this.copied=!0)}add(rs){this.items.has(rs)||(this.cow(),this.items.add(rs))}replaceFirst(rs,ns){this.items.has(rs)&&!this.items.some(ns)||(this.cow(),this.items.replaceFirst(rs,ns))}remove(rs){this.items.has(rs)&&(this.cow(),this.items.remove(rs))}some(rs){return this.items.some(rs)}clear(){this.items.isEmpty()||(this.cow(),this.items.clear())}build(){return this.copied&&this.items.sort(),this.copied=!1,this.items}}class MutableVideoPreferences{constructor(rs){this.builder=rs}add(rs){this.builder.add(rs)}replaceFirst(rs,ns){this.builder.replaceFirst(rs,ns)}remove(rs){this.builder.remove(rs)}some(rs){return this.builder.some(rs)}clear(){this.builder.clear()}build(){return new VideoPreferences(this.builder.build())}}VideoPreferences$1.MutableVideoPreferences=MutableVideoPreferences;class VideoPreferences{constructor(rs){this.items=rs}static prepare(){return new MutableVideoPreferences(new SetBuilder)}static default(){return new VideoPreferences(ObjectSet.default())}[Symbol.iterator](){return this.items[Symbol.iterator]()}highestPriority(){var rs;return(rs=this.items.first())===null||rs===void 0?void 0:rs.priority}sorted(){return this.items[Symbol.iterator]()}equals(rs){return rs===this||this.items.equals(rs.items)}modify(){return new MutableVideoPreferences(this.items.modify())}some(rs){return this.items.some(rs)}isEmpty(){return this.items.isEmpty()}clone(){const rs=VideoPreferences.prepare();for(const ns of this.items)rs.add(ns.clone());return rs.build()}}VideoPreferences$1.VideoPreferences=VideoPreferences;VideoPreferences$1.default=VideoPreferences;var __awaiter$v=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,rs,ns,os){function ss(as){return as instanceof ns?as:new ns(function(ls){ls(as)})}return new(ns||(ns=Promise))(function(as,ls){function cs(ps){try{ds(os.next(ps))}catch(fs){ls(fs)}}function us(ps){try{ds(os.throw(ps))}catch(fs){ls(fs)}}function ds(ps){ps.done?as(ps.value):ss(ps.value).then(cs,us)}ds((os=os.apply(ts,rs||[])).next())})},__importDefault$I=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(SubscribeAndReceiveSubscribeAckTask$1,"__esModule",{value:!0});const MeetingSessionStatus_1=__importDefault$I(MeetingSessionStatus$1),MeetingSessionStatusCode_1$1=__importDefault$I(MeetingSessionStatusCode),SDP_1=__importDefault$I(SDP$1),ZLIBTextCompressor_1=__importDefault$I(ZLIBTextCompressor$1),ServerSideNetworkAdaption_1$3=ServerSideNetworkAdaption,SignalingClientEventType_1=__importDefault$I(SignalingClientEventType),SignalingClientSubscribe_1=__importDefault$I(SignalingClientSubscribe$1),SignalingProtocol_js_1$3=SignalingProtocol,VideoPreferences_1$2=VideoPreferences$1,BaseTask_1$4=__importDefault$I(BaseTask$1);class SubscribeAndReceiveSubscribeAckTask extends BaseTask_1$4.default{constructor(rs){super(rs.logger),this.context=rs,this.taskName="SubscribeAndReceiveSubscribeAckTask",this.taskCanceler=null,this.textCompressor=new ZLIBTextCompressor_1.default(rs.logger)}cancel(){this.taskCanceler&&(this.taskCanceler.cancel(),this.taskCanceler=null)}run(){return __awaiter$v(this,void 0,void 0,function*(){let rs="";if(this.context.peer&&this.context.peer.localDescription&&(rs=new SDP_1.default(this.context.peer.localDescription.sdp).withUnifiedPlanFormat().sdp),!this.context.enableSimulcast){let ds=0,ps=0;this.context.videoCaptureAndEncodeParameter&&(ds=this.context.videoCaptureAndEncodeParameter.captureFrameRate(),ps=this.context.videoCaptureAndEncodeParameter.encodeBitrates()[0]);const fs={rid:"hi",maxBitrate:ps*1e3,maxFramerate:ds,active:!0};this.context.videoStreamIndex.integrateUplinkPolicyDecision([fs])}const ns=this.fixUpSubscriptionOrder(rs,this.context.videoSubscriptions),os=this.context.videoDuplexMode===SignalingProtocol_js_1$3.SdkStreamServiceType.TX||this.context.videoDuplexMode===SignalingProtocol_js_1$3.SdkStreamServiceType.DUPLEX;let ss,as=rs;if((this.context.videoUplinkBandwidthPolicy.wantsVideoDependencyDescriptorRtpHeaderExtension===void 0||!this.context.videoUplinkBandwidthPolicy.wantsVideoDependencyDescriptorRtpHeaderExtension())&&(as=new SDP_1.default(as).withoutDependencyDescriptorRtpHeaderExtension().sdp),this.context.serverSupportsCompression){const ds=this.context.previousSdpOffer?this.context.previousSdpOffer.sdp:"";ss=this.textCompressor.compress(as,ds),this.context.logger.info("Compressed the SDP message from ".concat(as.length," to ").concat(ss.length," bytes.")),rs=""}this.context.previousSdpOffer=new SDP_1.default(rs);const ls=new SignalingClientSubscribe_1.default(this.context.meetingSessionConfiguration.credentials.attendeeId,rs,this.context.meetingSessionConfiguration.urls.audioHostURL,this.context.realtimeController.realtimeIsLocalAudioMuted(),!1,ns,os,this.context.videoStreamIndex.localStreamDescriptions(),!0,ss);this.context.videoDownlinkBandwidthPolicy.getServerSideNetworkAdaption!==void 0&&!ServerSideNetworkAdaption_1$3.serverSideNetworkAdaptionIsNoneOrDefault(this.context.videoDownlinkBandwidthPolicy.getServerSideNetworkAdaption())&&this.context.videoDownlinkBandwidthPolicy.getVideoPreferences!==void 0&&(ls.videoSubscriptionConfiguration=VideoPreferences_1$2.convertVideoPreferencesToSignalingClientVideoSubscriptionConfiguration(this.context,ns.map(ds=>ds===0?0:this.context.videoStreamIndex.groupIdForStreamId(ds)),this.context.videoDownlinkBandwidthPolicy.getVideoPreferences())),this.context.logger.info("sending subscribe: ".concat(JSON.stringify(ls))),this.context.signalingClient.subscribe(ls);const cs=yield this.receiveSubscribeAck();this.context.logger.info("got subscribe ack: ".concat(JSON.stringify(cs)));let us="";cs.compressedSdpAnswer&&cs.compressedSdpAnswer.length?(us=this.textCompressor.decompress(cs.compressedSdpAnswer,this.context.previousSdpAnswerAsString),us.length===0&&(this.context.sdpAnswer="",this.context.previousSdpAnswerAsString="",this.logAndThrow("Error occurred while trying to decompress the SDP answer.")),this.context.logger.info("Decompressed the SDP message from ".concat(cs.compressedSdpAnswer.length," to ").concat(us.length," bytes.")),this.context.sdpAnswer=us):this.context.sdpAnswer=cs.sdpAnswer,this.context.previousSdpAnswerAsString=this.context.sdpAnswer,this.context.videoStreamIndex.integrateSubscribeAckFrame(cs)})}fixUpSubscriptionOrder(rs,ns){if(this.context.transceiverController.getMidForStreamId===void 0)return ns;const os=new Map;for(const ls of ns){const cs=this.context.transceiverController.getMidForStreamId(ls);if(cs===void 0){ls!==0&&this.logger.warn("Could not find MID for stream ID: ".concat(ls));continue}os.set(cs,ls)}const ss=new SDP_1.default(rs).mediaSections(),as=[];for(const ls of ss)if(ls.mediaType==="video")if(ls.direction==="recvonly"){const cs=os.get(ls.mid);if(cs===void 0){this.logger.warn("Could not find stream ID for MID: ".concat(ls.mid));continue}as.push(cs)}else as.push(0);return this.logger.info("Fixed up ".concat(JSON.stringify(ns)," to ").concat(JSON.stringify(as)," (may be same))}")),as}receiveSubscribeAck(){return new Promise((rs,ns)=>{const os=this.context;class ss{constructor(cs){this.signalingClient=cs}cancel(){this.signalingClient.removeObserver(this),ns(new Error("SubscribeAndReceiveSubscribeAckTask got canceled while waiting for SdkSubscribeAckFrame"))}handleSignalingClientEvent(cs){if(cs.isConnectionTerminated()){const ds="SubscribeAndReceiveSubscribeAckTask connection was terminated with code ".concat(cs.closeCode," and reason: ").concat(cs.closeReason);os.logger.warn(ds);let ps=MeetingSessionStatusCode_1$1.default.TaskFailed;cs.closeCode>=4500&&cs.closeCode<4600&&(ps=MeetingSessionStatusCode_1$1.default.SignalingInternalServerError),os.audioVideoController.handleMeetingSessionStatus(new MeetingSessionStatus_1.default(ps),new Error(ds));return}if(cs.type!==SignalingClientEventType_1.default.ReceivedSignalFrame||cs.message.type!==SignalingProtocol_js_1$3.SdkSignalFrame.Type.SUBSCRIBE_ACK)return;this.signalingClient.removeObserver(this);const us=cs.message.suback;rs(us)}}const as=new ss(this.context.signalingClient);this.context.signalingClient.registerObserver(as),this.taskCanceler=as})}}SubscribeAndReceiveSubscribeAckTask$1.default=SubscribeAndReceiveSubscribeAckTask;var TimeoutTask$1={},__awaiter$u=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,rs,ns,os){function ss(as){return as instanceof ns?as:new ns(function(ls){ls(as)})}return new(ns||(ns=Promise))(function(as,ls){function cs(ps){try{ds(os.next(ps))}catch(fs){ls(fs)}}function us(ps){try{ds(os.throw(ps))}catch(fs){ls(fs)}}function ds(ps){ps.done?as(ps.value):ss(ps.value).then(cs,us)}ds((os=os.apply(ts,rs||[])).next())})},__importDefault$H=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(TimeoutTask$1,"__esModule",{value:!0});const TimeoutScheduler_1$1=__importDefault$H(TimeoutScheduler$1),BaseTask_1$3=__importDefault$H(BaseTask$1);class TimeoutTask extends BaseTask_1$3.default{constructor(rs,ns,os){super(rs),this.taskToRunBeforeTimeout=ns,this.timeoutMs=os,this.taskName="Timeout".concat(this.timeoutMs,"ms"),ns.setParent(this)}cancel(){this.logger.info("canceling timeout task ".concat(this.name()," subtask ").concat(this.taskToRunBeforeTimeout)),this.taskToRunBeforeTimeout.cancel()}run(){return __awaiter$u(this,void 0,void 0,function*(){const rs=new TimeoutScheduler_1$1.default(this.timeoutMs);rs.start(()=>{this.logger.info("timeout reached for task ".concat(this.name())),this.taskToRunBeforeTimeout.cancel()});try{yield this.taskToRunBeforeTimeout.run()}finally{rs.stop()}this.logger.info("timeout task ".concat(this.name()," completed"))})}}TimeoutTask$1.default=TimeoutTask;var WaitForAttendeePresenceTask$1={},__awaiter$t=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,rs,ns,os){function ss(as){return as instanceof ns?as:new ns(function(ls){ls(as)})}return new(ns||(ns=Promise))(function(as,ls){function cs(ps){try{ds(os.next(ps))}catch(fs){ls(fs)}}function us(ps){try{ds(os.throw(ps))}catch(fs){ls(fs)}}function ds(ps){ps.done?as(ps.value):ss(ps.value).then(cs,us)}ds((os=os.apply(ts,rs||[])).next())})},__importDefault$G=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(WaitForAttendeePresenceTask$1,"__esModule",{value:!0});const MeetingSessionStatusCode_1=__importDefault$G(MeetingSessionStatusCode),BaseTask_1$2=__importDefault$G(BaseTask$1);class WaitForAttendeePresenceTask extends BaseTask_1$2.default{constructor(rs){super(rs.logger),this.context=rs,this.taskName="WaitForAttendeePresenceTask"}cancel(){if(this.cancelPromise){const rs=new Error("canceling ".concat(this.name()," due to the meeting status code: ").concat(MeetingSessionStatusCode_1.default.NoAttendeePresent));this.cancelPromise(rs),delete this.cancelPromise}}run(){return __awaiter$t(this,void 0,void 0,function*(){const rs=this.context.meetingSessionConfiguration.credentials.attendeeId;return new Promise((ns,os)=>{const ss=(as,ls,cs,us,ds)=>{rs===as&&ls&&(this.context.realtimeController.realtimeUnsubscribeToAttendeeIdPresence(ss),ns(),delete this.cancelPromise)};this.cancelPromise=as=>{this.context.realtimeController.realtimeUnsubscribeToAttendeeIdPresence(ss),os(as)},this.context.realtimeController.realtimeSubscribeToAttendeeIdPresence(ss)})})}}WaitForAttendeePresenceTask$1.default=WaitForAttendeePresenceTask;var DefaultTransceiverController$1={},RedundantAudioEncoder$1={};Object.defineProperty(RedundantAudioEncoder$1,"__esModule",{value:!0});class RedundantAudioEncoder{constructor(){this.maxRedPacketSizeBytes=1024,this.maxAudioPayloadSizeBytes=1e3,this.maxRedTimestampOffset=16384,this.redHeaderSizeBytes=4,this.redLastHeaderSizeBytes=1,this.redPacketizationTime=960,this.redPacketDistance=2,this.maxRedEncodings=2,this.redMaxRecoveryDistance=this.redPacketDistance*this.maxRedEncodings+1,this.maxEncodingHistorySize=10,this.numRedundantEncodings=0,this.redundancyEnabled=!0,this.lossReportInterval=48e3*5,this.maxOutOfOrderPacketDistance=16,this.OPUS_BAD_ARG=-1,this.OPUS_INVALID_PACKET=-4,this.OPUS_MAX_OPUS_FRAMES=48,this.OPUS_MAX_FRAME_SIZE_BYTES=1275,this.encodingHistory=new Array,this.opusPayloadType=0,this.redPayloadType=0,this.initializePacketLogs()}static initializeWorker(){RedundantAudioEncoder.log("Initializing RedundantAudioEncoder");const rs=new RedundantAudioEncoder;self.RTCRtpScriptTransformer&&(self.onrtctransform=ns=>{ns.transformer.options.type==="SenderTransform"?rs.setupSenderTransform(ns.transformer.readable,ns.transformer.writable):ns.transformer.options.type==="ReceiverTransform"?rs.setupReceiverTransform(ns.transformer.readable,ns.transformer.writable):ns.transformer.options.type==="PassthroughTransform"&&rs.setupPassthroughTransform(ns.transformer.readable,ns.transformer.writable)}),self.onmessage=ns=>{ns.data.msgType==="StartRedWorker"?(rs.setupSenderTransform(ns.data.send.readable,ns.data.send.writable),rs.setupReceiverTransform(ns.data.receive.readable,ns.data.receive.writable)):ns.data.msgType==="PassthroughTransform"?(rs.setupPassthroughTransform(ns.data.send.readable,ns.data.send.writable),rs.setupPassthroughTransform(ns.data.receive.readable,ns.data.receive.writable)):ns.data.msgType==="RedPayloadType"?rs.setRedPayloadType(ns.data.payloadType):ns.data.msgType==="OpusPayloadType"?rs.setOpusPayloadType(ns.data.payloadType):ns.data.msgType==="UpdateNumRedundantEncodings"?rs.setNumRedundantEncodings(ns.data.numRedundantEncodings):ns.data.msgType==="Enable"?rs.setRedundancyEnabled(!0):ns.data.msgType==="Disable"&&rs.setRedundancyEnabled(!1)}}static log(rs){RedundantAudioEncoder.shouldLog&&self.postMessage({type:"REDWorkerLog",log:"[AudioRed] ".concat(rs)})}static getNumRedundantEncodingsForPacketLoss(rs){let ns=0,os=!1;return rs<=8?ns=0:rs<=18?ns=1:rs<=75?ns=2:(ns=0,os=!0),[ns,os]}setupPassthroughTransform(rs,ns){RedundantAudioEncoder.log("Setting up passthrough transform"),rs.pipeTo(ns)}setupSenderTransform(rs,ns){RedundantAudioEncoder.log("Setting up sender RED transform");const os=new TransformStream({transform:this.senderTransform.bind(this)});rs.pipeThrough(os).pipeTo(ns)}setupReceiverTransform(rs,ns){RedundantAudioEncoder.log("Setting up receiver RED transform");const os=new TransformStream({transform:this.receivePacketLogTransform.bind(this)});rs.pipeThrough(os).pipeTo(ns)}setRedPayloadType(rs){this.redPayloadType=rs,RedundantAudioEncoder.log("red payload type set to ".concat(this.redPayloadType))}setOpusPayloadType(rs){this.opusPayloadType=rs,RedundantAudioEncoder.log("opus payload type set to ".concat(this.opusPayloadType))}setNumRedundantEncodings(rs){this.numRedundantEncodings=rs,this.numRedundantEncodings>this.maxRedEncodings&&(this.numRedundantEncodings=this.maxRedEncodings),RedundantAudioEncoder.log("Updated numRedundantEncodings to ".concat(this.numRedundantEncodings))}setRedundancyEnabled(rs){this.redundancyEnabled=rs,RedundantAudioEncoder.log("redundancy ".concat(this.redundancyEnabled?"enabled":"disabled"))}enqueueAudioFrameIfPayloadSizeIsValid(rs,ns){rs.data.byteLength>this.maxAudioPayloadSizeBytes||ns.enqueue(rs)}senderTransform(rs,ns){if(rs.getMetadata().payloadType!==this.redPayloadType){this.enqueueAudioFrameIfPayloadSizeIsValid(rs,ns);return}const ss=this.getPrimaryPayload(rs.timestamp,rs.data);if(!ss){this.enqueueAudioFrameIfPayloadSizeIsValid(rs,ns);return}const as=this.encode(rs.timestamp,ss);if(!as){this.enqueueAudioFrameIfPayloadSizeIsValid(rs,ns);return}rs.data=as,this.enqueueAudioFrameIfPayloadSizeIsValid(rs,ns)}getPrimaryPayload(rs,ns){const os=this.splitEncodings(rs,ns);return!os||os.length<1?null:os[os.length-1].payload}splitEncodings(rs,ns,os=!1,ss=void 0){const as=new DataView(ns);let ls=as.byteLength,cs=0,us=0,ds=0,ps=0,fs=!1;const hs=new Array,ms=new Array,gs=new Array;for(;ls>0;)if(fs=(as.getUint8(ps)&128)===0,fs){if((as.getUint8(ps)&127)!==this.opusPayloadType||(cs+=this.redLastHeaderSizeBytes,us+=this.redLastHeaderSizeBytes,cs>=as.byteLength))return null;ds=as.byteLength-cs;break}else{if(ls<this.redHeaderSizeBytes)return null;const Cs=((as.getUint8(ps+2)&3)<<8)+as.getUint8(ps+3);ms.push(Cs);const $s=as.getUint16(ps+1)>>2,Es=rs-$s;gs.push(Es),cs+=Cs+this.redHeaderSizeBytes,us+=this.redHeaderSizeBytes,ps+=this.redHeaderSizeBytes,ls-=this.redHeaderSizeBytes}if(!fs)return null;let vs=us;for(let Cs=0;Cs<gs.length;Cs++){const $s=new ArrayBuffer(ms[Cs]);new Uint8Array($s).set(new Uint8Array(as.buffer,vs,ms[Cs]),0);const ws={timestamp:gs[Cs],payload:$s,isRedundant:!0};os&&(ws.hasFec=this.opusPacketHasFec(new DataView($s),$s.byteLength)),hs.push(ws),vs+=ms[Cs]}const bs=as.byteLength-ds,xs=new ArrayBuffer(ds);new Uint8Array(xs).set(new Uint8Array(as.buffer,bs,ds),0);const Ss={timestamp:rs,payload:xs,isRedundant:!1,seq:ss};return os&&(Ss.hasFec=this.opusPacketHasFec(new DataView(xs),xs.byteLength)),hs.push(Ss),hs}encode(rs,ns){const os=ns.byteLength;if(os===0||os>=this.maxRedPacketSizeBytes||os>=this.maxAudioPayloadSizeBytes)return null;const ss=this.numRedundantEncodings;let as=this.redLastHeaderSizeBytes,ls=os,cs=this.maxAudioPayloadSizeBytes-os-as;const us=new Array,ds=new Array;if(this.redundancyEnabled){let gs=this.uint32WrapAround(rs-this.redPacketizationTime*this.redPacketDistance);for(let vs=0;vs<ss&&!(this.uint32WrapAround(rs-gs)>=this.maxRedTimestampOffset);vs++){let bs=gs,xs=this.encodingHistory.find(ys=>ys.timestamp===bs);if(xs||(bs=this.uint32WrapAround(gs-this.redPacketizationTime),xs=this.encodingHistory.find(ys=>ys.timestamp===bs)),xs){const ys=xs.payload.byteLength;if(cs<this.redHeaderSizeBytes+ys)break;cs-=this.redHeaderSizeBytes+ys,as+=this.redHeaderSizeBytes,ls+=ys,us.unshift(xs.timestamp),ds.unshift(xs.payload)}gs-=this.redPacketizationTime*this.redPacketDistance,gs=this.uint32WrapAround(gs)}}const ps=new ArrayBuffer(as+ls),fs=new DataView(ps);let hs=0;for(let gs=0;gs<us.length;gs++){const vs=rs-us[gs];fs.setUint8(hs,this.opusPayloadType|128),fs.setUint16(hs+1,vs<<2|ds[gs].byteLength>>8),fs.setUint8(hs+3,ds[gs].byteLength&255),hs+=this.redHeaderSizeBytes}fs.setUint8(hs,this.opusPayloadType),hs+=this.redLastHeaderSizeBytes;const ms=new Uint8Array(ps);for(let gs=0;gs<ds.length;gs++)ms.set(new Uint8Array(ds[gs]),hs),hs+=ds[gs].byteLength;return ms.set(new Uint8Array(ns),hs),hs+=ns.byteLength,hs!==as+ls?null:(this.updateEncodingHistory(rs,ns),ps)}updateEncodingHistory(rs,ns){for(const ss of this.encodingHistory){const as=this.redPacketizationTime*this.redMaxRecoveryDistance;if(rs-ss.timestamp>=as)this.encodingHistory.shift();else break}const os=new DataView(ns);(this.opusPacketIsCeltOnly(os)||this.opusPacketHasVoiceActivity(os,os.byteLength)>0)&&(this.encodingHistory.length+1>this.maxEncodingHistorySize&&(this.encodingHistory.length=0),this.encodingHistory.push({timestamp:rs,payload:ns}))}initializePacketLogs(){const rs=this.maxOutOfOrderPacketDistance+this.redMaxRecoveryDistance;this.primaryPacketLog={window:new Array(rs),index:0,windowSize:rs},this.redRecoveryLog={window:new Array(rs),index:0,windowSize:rs},this.fecRecoveryLog={window:new Array(rs),index:0,windowSize:rs},this.totalAudioPacketsExpected=0,this.totalAudioPacketsLost=0,this.totalAudioPacketsRecoveredRed=0,this.totalAudioPacketsRecoveredFec=0}receivePacketLogTransform(rs,ns){const os=rs.getMetadata();if(os.payloadType!==this.redPayloadType){this.enqueueAudioFrameIfPayloadSizeIsValid(rs,ns);return}const ss=this.splitEncodings(rs.timestamp,rs.data,!0,os.sequenceNumber);if(!ss){this.enqueueAudioFrameIfPayloadSizeIsValid(rs,ns);return}for(let as=ss.length-1;as>=0;as--)this.updateLossStats(ss[as])&&(this.updateRedStats(ss[as]),this.updateFecStats(ss[as]));this.maybeReportLossStats(ss[ss.length-1].timestamp,os.synchronizationSource),this.enqueueAudioFrameIfPayloadSizeIsValid(rs,ns)}updateLossStats(rs){if(rs.isRedundant)return!0;const ns=rs.timestamp,os=rs.seq;if(this.totalAudioPacketsExpected===0)return this.totalAudioPacketsExpected=1,this.newestSequenceNumber=os,this.addTimestamp(this.primaryPacketLog,ns),!0;const ss=this.int16(os-this.newestSequenceNumber);return ss<-this.maxOutOfOrderPacketDistance?!1:(ss<0?this.hasTimestamp(this.primaryPacketLog,ns)||(this.totalAudioPacketsLost>0&&this.totalAudioPacketsLost--,this.addTimestamp(this.primaryPacketLog,ns),this.removeFromRecoveryWindows(ns)):ss>1&&(this.totalAudioPacketsLost+=ss-1),ss>0&&(this.totalAudioPacketsExpected+=ss,this.newestSequenceNumber=rs.seq,this.addTimestamp(this.primaryPacketLog,ns)),!0)}updateRedStats(rs){if(!rs.isRedundant||this.totalAudioPacketsLost===0)return;const ns=rs.timestamp;this.hasTimestamp(this.primaryPacketLog,ns)||(this.hasTimestamp(this.redRecoveryLog,ns)||(this.totalAudioPacketsRecoveredRed++,this.addTimestamp(this.redRecoveryLog,ns)),this.removeTimestamp(this.fecRecoveryLog,ns)&&this.totalAudioPacketsRecoveredFec>0&&this.totalAudioPacketsRecoveredFec--)}updateFecStats(rs){if(!rs.hasFec||this.totalAudioPacketsLost===0)return;const ns=rs.timestamp-this.redPacketizationTime;this.hasTimestamp(this.primaryPacketLog,ns)||this.hasTimestamp(this.redRecoveryLog,ns)||this.hasTimestamp(this.fecRecoveryLog,ns)||(this.totalAudioPacketsRecoveredFec++,this.addTimestamp(this.fecRecoveryLog,ns))}maybeReportLossStats(rs,ns){rs-this.lastLossReportTimestamp<this.lossReportInterval||(RedundantAudioEncoder.shouldReportStats&&self.postMessage({type:"RedundantAudioEncoderStats",ssrc:ns,totalAudioPacketsLost:this.totalAudioPacketsLost,totalAudioPacketsExpected:this.totalAudioPacketsExpected,totalAudioPacketsRecoveredRed:this.totalAudioPacketsRecoveredRed,totalAudioPacketsRecoveredFec:this.totalAudioPacketsRecoveredFec}),this.lastLossReportTimestamp=rs)}addTimestamp(rs,ns){rs.window[rs.index]=ns,rs.index=(rs.index+1)%rs.windowSize}hasTimestamp(rs,ns){return!!rs.window.find(ss=>ss===ns)}removeTimestamp(rs,ns){const os=rs.window.indexOf(ns);return os>=0?(rs.window[os]=void 0,!0):!1}removeFromRecoveryWindows(rs){let ns=this.removeTimestamp(this.redRecoveryLog,rs);ns&&this.totalAudioPacketsRecoveredRed>0&&this.totalAudioPacketsRecoveredRed--,ns=this.removeTimestamp(this.fecRecoveryLog,rs),ns&&this.totalAudioPacketsRecoveredFec>0&&this.totalAudioPacketsRecoveredFec--}uint32WrapAround(rs){let os=rs;return rs>=4294967296?os=rs-4294967296:rs<0&&(os=4294967296+rs),os}int16(rs){return rs<<16>>16}opusPacketIsCeltOnly(rs){return!!(rs.getUint8(0)&128)}opusPacketGetSamplesPerFrame(rs,ns){ns=Math.round(ns),ns=Math.min(Math.max(ns,-Math.pow(2,32)),Math.pow(2,32)-1);let os,ss;return this.opusPacketIsCeltOnly(rs)?(ss=rs.getUint8(0)>>3&3,os=(ns<<ss)/400):(rs.getUint8(0)&96)===96?os=rs.getUint8(0)&8?ns/50:ns/100:(ss=rs.getUint8(0)>>3&3,ss===3?os=ns*60/1e3:os=(ns<<ss)/100),os}opusNumSilkFrames(rs){let ns=this.opusPacketGetSamplesPerFrame(rs,48e3)/48;switch(ns<10&&(ns=10),ns){case 10:case 20:return 1;case 40:return 2;case 60:return 3;default:return 0}}opusPacketGetNumChannels(rs){return rs.getUint8(0)&4?2:1}opusParseSize(rs,ns,os,ss){return os<1?(ss[0]=-1,-1):rs.getUint8(ns)<252?(ss[0]=rs.getUint8(ns),1):os<2?(ss[0]=-1,-1):(ss[0]=4*rs.getUint8(ns+1)+rs.getUint8(ns),2)}opusPacketParseImpl(rs,ns,os,ss,as,ls,cs,us){if(!ls||ns<0)return this.OPUS_BAD_ARG;if(ns===0)return this.OPUS_INVALID_PACKET;let ds,ps,fs=0,hs=!1;const ms=rs.getUint8(0);ss&&(ss[0]=ms);let gs=ns-1,vs=1,bs=gs;switch(ms&3){case 0:ds=1;break;case 1:if(ds=2,hs=!0,!os){if(gs&1)return this.OPUS_INVALID_PACKET;bs=gs/2,ls[0][0]=bs}break;case 2:if(ds=2,ps=this.opusParseSize(rs,vs,gs,ls[0]),gs-=ps,ls[0][0]<0||ls[0][0]>gs)return this.OPUS_INVALID_PACKET;vs+=ps,bs=gs-ls[0][0];break;default:if(gs<1)return this.OPUS_INVALID_PACKET;const xs=rs.getUint8(vs++);if(--gs,ds=xs&63,ds<=0)return this.OPUS_INVALID_PACKET;if(this.opusPacketGetSamplesPerFrame(rs,48e3)*ds>5760)return this.OPUS_INVALID_PACKET;if(xs&64){let Ss,Cs;do{if(gs<=0)return this.OPUS_INVALID_PACKET;Ss=rs.getUint8(vs++),--gs,Cs=Ss===255?254:Ss,gs-=Cs,fs+=Cs}while(Ss===255)}if(gs<0)return this.OPUS_INVALID_PACKET;if(hs=!(xs&128),hs){if(!os){if(bs=Math.trunc(gs/ds),bs*ds!==gs)return this.OPUS_INVALID_PACKET;for(let Ss=0;Ss<ds-1;++Ss)ls[Ss][0]=bs}}else{bs=gs;for(let Ss=0;Ss<ds-1;++Ss){if(ps=this.opusParseSize(rs,vs,gs,ls[Ss]),gs-=ps,ls[Ss][0]<0||ls[Ss][0]>gs)return this.OPUS_INVALID_PACKET;vs+=ps,bs-=ps+ls[Ss][0]}if(bs<0)return this.OPUS_INVALID_PACKET}}if(os){if(ps=this.opusParseSize(rs,vs,gs,ls[ds-1]),gs-=ps,ls[ds-1][0]<0||ls[ds-1][0]>gs)return this.OPUS_INVALID_PACKET;if(vs+=ps,hs){if(ls[ds-1][0]*ds>gs)return this.OPUS_INVALID_PACKET;for(let xs=0;xs<ds-1;++xs)ls[xs][0]=ls[ds-1][0]}else if(!(ps+ls[ds-1][0]<=bs))return this.OPUS_INVALID_PACKET}else{if(bs>this.OPUS_MAX_FRAME_SIZE_BYTES)return this.OPUS_INVALID_PACKET;ls[ds-1][0]=bs}cs&&(cs[0]=vs);for(let xs=0;xs<ds;++xs)as&&(as[xs][0]=vs),vs+=ls[xs][0];return us&&(us[0]=vs+fs),ds}opusPacketParse(rs,ns,os,ss,as,ls){return this.opusPacketParseImpl(rs,ns,!1,os,ss,as,ls,null)}opusPacketHasVoiceActivity(rs,ns){if(!rs||ns<=0)return 0;if(this.opusPacketIsCeltOnly(rs))return-1;const os=this.opusNumSilkFrames(rs);if(os===0)return-1;const ss=new Array(this.OPUS_MAX_OPUS_FRAMES),as=new Array(this.OPUS_MAX_OPUS_FRAMES);for(let cs=0;cs<this.OPUS_MAX_OPUS_FRAMES;++cs)ss[cs]=[void 0],as[cs]=[void 0];const ls=this.opusPacketParse(rs,ns,null,ss,as,null);if(ls<0)return-1;for(let cs=0;cs<ls;++cs){if(as[cs][0]<1)continue;if(rs.getUint8(ss[cs][0])>>8-os||this.opusPacketGetNumChannels(rs)===2&&rs.getUint8(ss[cs][0])<<os+1>>8-os)return 1}return 0}opusPacketHasFec(rs,ns){if(!rs||ns<=0||this.opusPacketIsCeltOnly(rs))return!1;const os=new Array(this.OPUS_MAX_OPUS_FRAMES),ss=new Array(this.OPUS_MAX_OPUS_FRAMES);for(let us=0;us<this.OPUS_MAX_OPUS_FRAMES;++us)os[us]=[void 0],ss[us]=[void 0];if(this.opusPacketParse(rs,ns,null,os,ss,null)<0||ss[0][0]<=1)return!1;const ls=this.opusNumSilkFrames(rs);if(ls===0)return!1;const cs=this.opusPacketGetNumChannels(rs);if(cs!==1&&cs!==2)return!1;for(let us=0;us<cs;us++)if(rs.getUint8(os[0][0])&128>>(us+1)*(ls+1)-1)return!0;return!1}}RedundantAudioEncoder$1.default=RedundantAudioEncoder;RedundantAudioEncoder.shouldLog=!1;RedundantAudioEncoder.shouldReportStats=!1;var RedundantAudioEncoderWorkerCode$1={};Object.defineProperty(RedundantAudioEncoderWorkerCode$1,"__esModule",{value:!0});const RedundantAudioEncoderWorkerCode="class RedundantAudioEncoder {\n    constructor() {\n        // Each payload must be less than 1024 bytes to fit the 10 bit block length\n        this.maxRedPacketSizeBytes = 1 << 10;\n        // Limit payload to 1000 bytes to handle small MTU. 1000 is chosen because in Chromium-based browsers, writing audio\n        // payloads larger than 1000 bytes using the WebRTC Insertable Streams API (which is used to enable dynamic audio\n        // redundancy) will cause an error to be thrown and cause audio flow to permanently stop. See\n        // https://crbug.com/1248479.\n        this.maxAudioPayloadSizeBytes = 1000;\n        // Each payload can encode a timestamp delta of 14 bits\n        this.maxRedTimestampOffset = 1 << 14;\n        // 4 byte RED header\n        this.redHeaderSizeBytes = 4;\n        // reduced size for last RED header\n        this.redLastHeaderSizeBytes = 1;\n        // P-Time for Opus 20 msec packets\n        // We do not support other p-times or clock rates\n        this.redPacketizationTime = 960;\n        // distance between redundant payloads, Opus FEC handles a distance of 1\n        // TODO(https://issues.amazon.com/issues/ChimeSDKAudio-55):\n        // Consider making this dynamic\n        this.redPacketDistance = 2;\n        // maximum number of redundant payloads per RTP packet\n        this.maxRedEncodings = 2;\n        // Maximum number of encodings that can be recovered with a single RED packet, assuming the primary and redundant\n        // payloads have FEC.\n        this.redMaxRecoveryDistance = this.redPacketDistance * this.maxRedEncodings + 1;\n        // maximum history of prior payloads to keep\n        // generally we will expire old entries based on timestamp\n        // this limit is in place just to make sure the history does not\n        // grow too large in the case of erroneous timestamp inputs\n        this.maxEncodingHistorySize = 10;\n        // Current number of encodings we want to send\n        // to the remote end. This will be dynamically\n        // updated through the setNumEncodingsFromPacketloss API\n        this.numRedundantEncodings = 0;\n        // Used to enable or disable redundancy\n        // in response to very high packet loss events\n        this.redundancyEnabled = true;\n        // Loss stats are reported to the main thread every 5 seconds.\n        // Since timestamp differences between 2 consecutive packets\n        // give us the number of samples in each channel, 1 second\n        // is equivalent to 48000 samples:\n        // P-time * (1000ms/1s)\n        // = (960 samples/20ms) * (1000ms/1s)\n        // = 48000 samples/s\n        this.lossReportInterval = 48000 * 5;\n        // Maximum distance of a packet from the most recent packet timestamp\n        // that we will consider for recovery.\n        this.maxOutOfOrderPacketDistance = 16;\n        /**\n         * Below are Opus helper methods and constants.\n         */\n        this.OPUS_BAD_ARG = -1;\n        this.OPUS_INVALID_PACKET = -4;\n        // Max number of Opus frames in an Opus packet is 48 (https://www.rfc-editor.org/rfc/rfc6716#section-3.2.5).\n        this.OPUS_MAX_OPUS_FRAMES = 48;\n        // Max number of bytes that any individual Opus frame can have.\n        this.OPUS_MAX_FRAME_SIZE_BYTES = 1275;\n        this.encodingHistory = new Array();\n        this.opusPayloadType = 0;\n        this.redPayloadType = 0;\n        this.initializePacketLogs();\n    }\n    /**\n     * Creates an instance of RedundantAudioEncoder and sets up callbacks.\n     */\n    static initializeWorker() {\n        RedundantAudioEncoder.log('Initializing RedundantAudioEncoder');\n        const encoder = new RedundantAudioEncoder();\n        // RED encoding is done using WebRTC Encoded Transform\n        // https://github.com/w3c/webrtc-encoded-transform/blob/main/explainer.md\n        // Check the DedicatedWorkerGlobalScope for existence of\n        // RTCRtpScriptTransformer interface. If exists, then\n        // RTCRtpScriptTransform is supported by this browser.\n        // @ts-ignore\n        if (self.RTCRtpScriptTransformer) {\n            // @ts-ignore\n            self.onrtctransform = (event) => {\n                if (event.transformer.options.type === 'SenderTransform') {\n                    encoder.setupSenderTransform(event.transformer.readable, event.transformer.writable);\n                }\n                else if (event.transformer.options.type === 'ReceiverTransform') {\n                    encoder.setupReceiverTransform(event.transformer.readable, event.transformer.writable);\n                }\n                else if (event.transformer.options.type === 'PassthroughTransform') {\n                    encoder.setupPassthroughTransform(event.transformer.readable, event.transformer.writable);\n                }\n            };\n        }\n        self.onmessage = (event) => {\n            if (event.data.msgType === 'StartRedWorker') {\n                encoder.setupSenderTransform(event.data.send.readable, event.data.send.writable);\n                encoder.setupReceiverTransform(event.data.receive.readable, event.data.receive.writable);\n            }\n            else if (event.data.msgType === 'PassthroughTransform') {\n                encoder.setupPassthroughTransform(event.data.send.readable, event.data.send.writable);\n                encoder.setupPassthroughTransform(event.data.receive.readable, event.data.receive.writable);\n            }\n            else if (event.data.msgType === 'RedPayloadType') {\n                encoder.setRedPayloadType(event.data.payloadType);\n            }\n            else if (event.data.msgType === 'OpusPayloadType') {\n                encoder.setOpusPayloadType(event.data.payloadType);\n            }\n            else if (event.data.msgType === 'UpdateNumRedundantEncodings') {\n                encoder.setNumRedundantEncodings(event.data.numRedundantEncodings);\n            }\n            else if (event.data.msgType === 'Enable') {\n                encoder.setRedundancyEnabled(true);\n            }\n            else if (event.data.msgType === 'Disable') {\n                encoder.setRedundancyEnabled(false);\n            }\n        };\n    }\n    /**\n     * Post logs to the main thread\n     */\n    static log(msg) {\n        if (RedundantAudioEncoder.shouldLog) {\n            // @ts-ignore\n            self.postMessage({\n                type: 'REDWorkerLog',\n                log: `[AudioRed] ${msg}`,\n            });\n        }\n    }\n    /**\n     * Returns the number of encodings based on packetLoss value. This is used by `DefaultTransceiverController` to\n     * determine when to alert the encoder to update the number of encodings. It also determines if we need to\n     * turn off red in cases of very high packet loss to avoid congestion collapse.\n     */\n    static getNumRedundantEncodingsForPacketLoss(packetLoss) {\n        let recommendedRedundantEncodings = 0;\n        let shouldTurnOffRed = false;\n        if (packetLoss <= 8) {\n            recommendedRedundantEncodings = 0;\n        }\n        else if (packetLoss <= 18) {\n            recommendedRedundantEncodings = 1;\n        }\n        else if (packetLoss <= 75) {\n            recommendedRedundantEncodings = 2;\n        }\n        else {\n            recommendedRedundantEncodings = 0;\n            shouldTurnOffRed = true;\n        }\n        return [recommendedRedundantEncodings, shouldTurnOffRed];\n    }\n    /**\n     * Sets up a passthrough (no-op) transform for the given streams.\n     */\n    setupPassthroughTransform(readable, writable) {\n        RedundantAudioEncoder.log('Setting up passthrough transform');\n        readable.pipeTo(writable);\n    }\n    /**\n     * Sets up the transform stream and pipes the outgoing encoded audio frames through the transform function.\n     */\n    setupSenderTransform(readable, writable) {\n        RedundantAudioEncoder.log('Setting up sender RED transform');\n        const transformStream = new TransformStream({\n            transform: this.senderTransform.bind(this),\n        });\n        readable.pipeThrough(transformStream).pipeTo(writable);\n        return;\n    }\n    /**\n     * Sets up the transform stream and pipes the received encoded audio frames through the transform function.\n     */\n    setupReceiverTransform(readable, writable) {\n        RedundantAudioEncoder.log('Setting up receiver RED transform');\n        const transformStream = new TransformStream({\n            transform: this.receivePacketLogTransform.bind(this),\n        });\n        readable.pipeThrough(transformStream).pipeTo(writable);\n        return;\n    }\n    /**\n     * Set the RED payload type ideally obtained from local offer.\n     */\n    setRedPayloadType(payloadType) {\n        this.redPayloadType = payloadType;\n        RedundantAudioEncoder.log(`red payload type set to ${this.redPayloadType}`);\n    }\n    /**\n     * Set the opus payload type ideally obtained from local offer.\n     */\n    setOpusPayloadType(payloadType) {\n        this.opusPayloadType = payloadType;\n        RedundantAudioEncoder.log(`opus payload type set to ${this.opusPayloadType}`);\n    }\n    /**\n     * Set the number of redundant encodings\n     */\n    setNumRedundantEncodings(numRedundantEncodings) {\n        this.numRedundantEncodings = numRedundantEncodings;\n        if (this.numRedundantEncodings > this.maxRedEncodings) {\n            this.numRedundantEncodings = this.maxRedEncodings;\n        }\n        RedundantAudioEncoder.log(`Updated numRedundantEncodings to ${this.numRedundantEncodings}`);\n    }\n    /**\n     * Enable or disable redundancy in response to\n     * high packet loss event.\n     */\n    setRedundancyEnabled(enabled) {\n        this.redundancyEnabled = enabled;\n        RedundantAudioEncoder.log(`redundancy ${this.redundancyEnabled ? 'enabled' : 'disabled'}`);\n    }\n    /**\n     * Helper function to only enqueue audio frames if they do not exceed the audio payload byte limit imposed by\n     * Chromium-based browsers. Chromium will throw an error (https://crbug.com/1248479) if an audio payload larger than\n     * 1000 bytes is enqueued. Any controller that attempts to enqueue an audio payload larger than 1000 bytes will\n     * encounter this error and will permanently stop sending or receiving audio.\n     */\n    enqueueAudioFrameIfPayloadSizeIsValid(\n    // @ts-ignore\n    frame, controller) {\n        if (frame.data.byteLength > this.maxAudioPayloadSizeBytes)\n            return;\n        controller.enqueue(frame);\n    }\n    /**\n     * Receives encoded frames and modifies as needed before sending to transport.\n     */\n    senderTransform(\n    // @ts-ignore\n    frame, controller) {\n        const frameMetadata = frame.getMetadata();\n        // @ts-ignore\n        if (frameMetadata.payloadType !== this.redPayloadType) {\n            this.enqueueAudioFrameIfPayloadSizeIsValid(frame, controller);\n            return;\n        }\n        const primaryPayloadBuffer = this.getPrimaryPayload(frame.timestamp, frame.data);\n        if (!primaryPayloadBuffer) {\n            this.enqueueAudioFrameIfPayloadSizeIsValid(frame, controller);\n            return;\n        }\n        const encodedBuffer = this.encode(frame.timestamp, primaryPayloadBuffer);\n        /* istanbul ignore next */\n        if (!encodedBuffer) {\n            this.enqueueAudioFrameIfPayloadSizeIsValid(frame, controller);\n            return;\n        }\n        frame.data = encodedBuffer;\n        this.enqueueAudioFrameIfPayloadSizeIsValid(frame, controller);\n        return;\n    }\n    /**\n     * Get the primary payload from encoding\n     */\n    getPrimaryPayload(primaryTimestamp, frame) {\n        const encodings = this.splitEncodings(primaryTimestamp, frame);\n        if (!encodings || encodings.length < 1)\n            return null;\n        return encodings[encodings.length - 1].payload;\n    }\n    /**\n     * Split up the encoding received into primary and redundant encodings\n     * These will be ordered oldest to newest which is the same ordering\n     * in the RTP red payload.\n     */\n    splitEncodings(primaryTimestamp, frame, getFecInfo = false, primarySequenceNumber = undefined) {\n        // process RED headers (according to RFC 2198)\n        //   0                   1                   2                   3\n        //   0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n        //  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n        //  |F|   block PT  |  timestamp offset         |   block length    |\n        //  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n        //\n        // last header\n        //   0 1 2 3 4 5 6 7\n        //  +-+-+-+-+-+-+-+-+\n        //  |0|   Block PT  |\n        //  +-+-+-+-+-+-+-+-+\n        const payload = new DataView(frame);\n        let payloadSizeBytes = payload.byteLength;\n        let totalPayloadSizeBytes = 0;\n        let totalHeaderSizeBytes = 0;\n        let primaryPayloadSizeBytes = 0;\n        let payloadOffset = 0;\n        let gotLastBlock = false;\n        const encodings = new Array();\n        const redundantEncodingBlockLengths = new Array();\n        const redundantEncodingTimestamps = new Array();\n        while (payloadSizeBytes > 0) {\n            gotLastBlock = (payload.getUint8(payloadOffset) & 0x80) === 0;\n            if (gotLastBlock) {\n                // Bits 1 through 7 are payload type\n                const payloadType = payload.getUint8(payloadOffset) & 0x7f;\n                // Unexpected payload type. This is a bad packet.\n                if (payloadType !== this.opusPayloadType) {\n                    return null;\n                }\n                totalPayloadSizeBytes += this.redLastHeaderSizeBytes;\n                totalHeaderSizeBytes += this.redLastHeaderSizeBytes;\n                // Accumulated block lengths are equal to or larger than the buffer, which means there is no primary block. This\n                // is a bad packet.\n                if (totalPayloadSizeBytes >= payload.byteLength) {\n                    return null;\n                }\n                primaryPayloadSizeBytes = payload.byteLength - totalPayloadSizeBytes;\n                break;\n            }\n            else {\n                if (payloadSizeBytes < this.redHeaderSizeBytes) {\n                    return null;\n                }\n                // Bits 22 through 31 are payload length\n                const blockLength = ((payload.getUint8(payloadOffset + 2) & 0x03) << 8) + payload.getUint8(payloadOffset + 3);\n                redundantEncodingBlockLengths.push(blockLength);\n                const timestampOffset = payload.getUint16(payloadOffset + 1) >> 2;\n                const timestamp = primaryTimestamp - timestampOffset;\n                redundantEncodingTimestamps.push(timestamp);\n                totalPayloadSizeBytes += blockLength + this.redHeaderSizeBytes;\n                totalHeaderSizeBytes += this.redHeaderSizeBytes;\n                payloadOffset += this.redHeaderSizeBytes;\n                payloadSizeBytes -= this.redHeaderSizeBytes;\n            }\n        }\n        // The last block was never found. This is a bad packet.\n        if (!gotLastBlock) {\n            return null;\n        }\n        let redundantPayloadOffset = totalHeaderSizeBytes;\n        for (let i = 0; i < redundantEncodingTimestamps.length; i++) {\n            const redundantPayloadBuffer = new ArrayBuffer(redundantEncodingBlockLengths[i]);\n            const redundantPayloadArray = new Uint8Array(redundantPayloadBuffer);\n            redundantPayloadArray.set(new Uint8Array(payload.buffer, redundantPayloadOffset, redundantEncodingBlockLengths[i]), 0);\n            const encoding = {\n                timestamp: redundantEncodingTimestamps[i],\n                payload: redundantPayloadBuffer,\n                isRedundant: true,\n            };\n            if (getFecInfo) {\n                encoding.hasFec = this.opusPacketHasFec(new DataView(redundantPayloadBuffer), redundantPayloadBuffer.byteLength);\n            }\n            encodings.push(encoding);\n            redundantPayloadOffset += redundantEncodingBlockLengths[i];\n        }\n        const primaryPayloadOffset = payload.byteLength - primaryPayloadSizeBytes;\n        const primaryPayloadBuffer = new ArrayBuffer(primaryPayloadSizeBytes);\n        const primaryArray = new Uint8Array(primaryPayloadBuffer);\n        primaryArray.set(new Uint8Array(payload.buffer, primaryPayloadOffset, primaryPayloadSizeBytes), 0);\n        const encoding = {\n            timestamp: primaryTimestamp,\n            payload: primaryPayloadBuffer,\n            isRedundant: false,\n            seq: primarySequenceNumber,\n        };\n        if (getFecInfo) {\n            encoding.hasFec = this.opusPacketHasFec(new DataView(primaryPayloadBuffer), primaryPayloadBuffer.byteLength);\n        }\n        encodings.push(encoding);\n        return encodings;\n    }\n    /**\n     * Create a new encoding with current primary payload and the older payloads of choice.\n     */\n    encode(primaryTimestamp, primaryPayload) {\n        const primaryPayloadSize = primaryPayload.byteLength;\n        // Payload size needs to be valid.\n        if (primaryPayloadSize === 0 ||\n            primaryPayloadSize >= this.maxRedPacketSizeBytes ||\n            primaryPayloadSize >= this.maxAudioPayloadSizeBytes) {\n            return null;\n        }\n        const numRedundantEncodings = this.numRedundantEncodings;\n        let headerSizeBytes = this.redLastHeaderSizeBytes;\n        let payloadSizeBytes = primaryPayloadSize;\n        let bytesAvailable = this.maxAudioPayloadSizeBytes - primaryPayloadSize - headerSizeBytes;\n        const redundantEncodingTimestamps = new Array();\n        const redundantEncodingPayloads = new Array();\n        // If redundancy is disabled then only send the primary payload\n        if (this.redundancyEnabled) {\n            // Determine how much redundancy we can fit into our packet\n            let redundantTimestamp = this.uint32WrapAround(primaryTimestamp - this.redPacketizationTime * this.redPacketDistance);\n            for (let i = 0; i < numRedundantEncodings; i++) {\n                // Do not add redundant encodings that are beyond the maximum timestamp offset.\n                if (this.uint32WrapAround(primaryTimestamp - redundantTimestamp) >= this.maxRedTimestampOffset) {\n                    break;\n                }\n                let findTimestamp = redundantTimestamp;\n                let encoding = this.encodingHistory.find(e => e.timestamp === findTimestamp);\n                if (!encoding) {\n                    // If not found or not important then look for the previous packet.\n                    // The current packet may have included FEC for the previous, so just\n                    // use the previous packet instead provided that it has voice activity.\n                    findTimestamp = this.uint32WrapAround(redundantTimestamp - this.redPacketizationTime);\n                    encoding = this.encodingHistory.find(e => e.timestamp === findTimestamp);\n                }\n                if (encoding) {\n                    const redundantEncodingSizeBytes = encoding.payload.byteLength;\n                    // Only add redundancy if there are enough bytes available.\n                    if (bytesAvailable < this.redHeaderSizeBytes + redundantEncodingSizeBytes)\n                        break;\n                    bytesAvailable -= this.redHeaderSizeBytes + redundantEncodingSizeBytes;\n                    headerSizeBytes += this.redHeaderSizeBytes;\n                    payloadSizeBytes += redundantEncodingSizeBytes;\n                    redundantEncodingTimestamps.unshift(encoding.timestamp);\n                    redundantEncodingPayloads.unshift(encoding.payload);\n                }\n                redundantTimestamp -= this.redPacketizationTime * this.redPacketDistance;\n                redundantTimestamp = this.uint32WrapAround(redundantTimestamp);\n            }\n        }\n        const redPayloadBuffer = new ArrayBuffer(headerSizeBytes + payloadSizeBytes);\n        const redPayloadView = new DataView(redPayloadBuffer);\n        // Add redundant encoding header(s) to new buffer\n        let redPayloadOffset = 0;\n        for (let i = 0; i < redundantEncodingTimestamps.length; i++) {\n            const timestampDelta = primaryTimestamp - redundantEncodingTimestamps[i];\n            redPayloadView.setUint8(redPayloadOffset, this.opusPayloadType | 0x80);\n            redPayloadView.setUint16(redPayloadOffset + 1, (timestampDelta << 2) | (redundantEncodingPayloads[i].byteLength >> 8));\n            redPayloadView.setUint8(redPayloadOffset + 3, redundantEncodingPayloads[i].byteLength & 0xff);\n            redPayloadOffset += this.redHeaderSizeBytes;\n        }\n        // Add primary encoding header to new buffer\n        redPayloadView.setUint8(redPayloadOffset, this.opusPayloadType);\n        redPayloadOffset += this.redLastHeaderSizeBytes;\n        // Add redundant payload(s) to new buffer\n        const redPayloadArray = new Uint8Array(redPayloadBuffer);\n        for (let i = 0; i < redundantEncodingPayloads.length; i++) {\n            redPayloadArray.set(new Uint8Array(redundantEncodingPayloads[i]), redPayloadOffset);\n            redPayloadOffset += redundantEncodingPayloads[i].byteLength;\n        }\n        // Add primary payload to new buffer\n        redPayloadArray.set(new Uint8Array(primaryPayload), redPayloadOffset);\n        redPayloadOffset += primaryPayload.byteLength;\n        /* istanbul ignore next */\n        // Sanity check that we got the expected total payload size.\n        if (redPayloadOffset !== headerSizeBytes + payloadSizeBytes)\n            return null;\n        this.updateEncodingHistory(primaryTimestamp, primaryPayload);\n        return redPayloadBuffer;\n    }\n    /**\n     * Update the encoding history with the latest primary encoding\n     */\n    updateEncodingHistory(primaryTimestamp, primaryPayload) {\n        // Remove encodings from the history if they are too old.\n        for (const encoding of this.encodingHistory) {\n            const maxTimestampDelta = this.redPacketizationTime * this.redMaxRecoveryDistance;\n            if (primaryTimestamp - encoding.timestamp >= maxTimestampDelta) {\n                this.encodingHistory.shift();\n            }\n            else {\n                break;\n            }\n        }\n        // Only add an encoding to the history if the encoding is deemed to be important. An encoding is important if it is\n        // a CELT-only packet or contains voice activity.\n        const packet = new DataView(primaryPayload);\n        if (this.opusPacketIsCeltOnly(packet) ||\n            this.opusPacketHasVoiceActivity(packet, packet.byteLength) > 0) {\n            // Check if adding an encoding will cause the length of the encoding history to exceed the maximum history size.\n            // This is not expected to happen but could occur if we get incorrect timestamps. We want to make sure our memory\n            // usage is bounded. In this case, just clear the history and start over from empty.\n            if (this.encodingHistory.length + 1 > this.maxEncodingHistorySize)\n                this.encodingHistory.length = 0;\n            this.encodingHistory.push({ timestamp: primaryTimestamp, payload: primaryPayload });\n        }\n    }\n    /**\n     * Initialize packet logs and metric values.\n     */\n    initializePacketLogs() {\n        // The extra space from the max RED recovery distance is to ensure that we do not incorrectly count recovery for\n        // packets that have already been received but are outside of the max out-of-order distance.\n        const packetLogSize = this.maxOutOfOrderPacketDistance + this.redMaxRecoveryDistance;\n        this.primaryPacketLog = {\n            window: new Array(packetLogSize),\n            index: 0,\n            windowSize: packetLogSize,\n        };\n        this.redRecoveryLog = {\n            window: new Array(packetLogSize),\n            index: 0,\n            windowSize: packetLogSize,\n        };\n        this.fecRecoveryLog = {\n            window: new Array(packetLogSize),\n            index: 0,\n            windowSize: packetLogSize,\n        };\n        this.totalAudioPacketsExpected = 0;\n        this.totalAudioPacketsLost = 0;\n        this.totalAudioPacketsRecoveredRed = 0;\n        this.totalAudioPacketsRecoveredFec = 0;\n    }\n    /**\n     * Receives encoded frames from the server\n     * and adds the timestamps to a packet log\n     * to calculate an approximate recovery metric.\n     */\n    receivePacketLogTransform(\n    // @ts-ignore\n    frame, controller) {\n        const frameMetadata = frame.getMetadata();\n        // @ts-ignore\n        if (frameMetadata.payloadType !== this.redPayloadType) {\n            this.enqueueAudioFrameIfPayloadSizeIsValid(frame, controller);\n            return;\n        }\n        // @ts-ignore\n        const encodings = this.splitEncodings(frame.timestamp, frame.data, \n        /*getFecInfo*/ true, frameMetadata.sequenceNumber);\n        if (!encodings) {\n            this.enqueueAudioFrameIfPayloadSizeIsValid(frame, controller);\n            return;\n        }\n        for (let i = encodings.length - 1; i >= 0; i--) {\n            if (this.updateLossStats(encodings[i])) {\n                this.updateRedStats(encodings[i]);\n                this.updateFecStats(encodings[i]);\n            }\n        }\n        this.maybeReportLossStats(encodings[encodings.length - 1].timestamp, frameMetadata.synchronizationSource);\n        this.enqueueAudioFrameIfPayloadSizeIsValid(frame, controller);\n    }\n    /**\n     * Adds a timestamp to the primary packet log.\n     * This also updates totalAudioPacketsLost and totalAudioPacketsExpected by looking\n     * at the difference between timestamps.\n     *\n     * @param encoding : The encoding to be analyzed\n     * @returns false if sequence number was greater than max out of order distance\n     *          true otherwise\n     */\n    updateLossStats(encoding) {\n        if (encoding.isRedundant)\n            return true;\n        const timestamp = encoding.timestamp;\n        const seq = encoding.seq;\n        if (this.totalAudioPacketsExpected === 0) {\n            this.totalAudioPacketsExpected = 1;\n            this.newestSequenceNumber = seq;\n            this.addTimestamp(this.primaryPacketLog, timestamp);\n            return true;\n        }\n        const diff = this.int16(seq - this.newestSequenceNumber);\n        if (diff < -this.maxOutOfOrderPacketDistance)\n            return false;\n        if (diff < 0) {\n            if (!this.hasTimestamp(this.primaryPacketLog, timestamp)) {\n                if (this.totalAudioPacketsLost > 0)\n                    this.totalAudioPacketsLost--;\n                this.addTimestamp(this.primaryPacketLog, timestamp);\n                this.removeFromRecoveryWindows(timestamp);\n            }\n        }\n        else if (diff > 1) {\n            this.totalAudioPacketsLost += diff - 1;\n        }\n        if (diff > 0) {\n            this.totalAudioPacketsExpected += diff;\n            this.newestSequenceNumber = encoding.seq;\n            this.addTimestamp(this.primaryPacketLog, timestamp);\n        }\n        return true;\n    }\n    /**\n     * Adds a timestamp to the red recovery log if it is not present in\n     * the primary packet log and if it's not too old.\n     *\n     * @param encoding : The encoding to be analyzed\n     */\n    updateRedStats(encoding) {\n        if (!encoding.isRedundant || this.totalAudioPacketsLost === 0)\n            return;\n        const timestamp = encoding.timestamp;\n        if (!this.hasTimestamp(this.primaryPacketLog, timestamp)) {\n            if (!this.hasTimestamp(this.redRecoveryLog, timestamp)) {\n                this.totalAudioPacketsRecoveredRed++;\n                this.addTimestamp(this.redRecoveryLog, timestamp);\n            }\n            if (this.removeTimestamp(this.fecRecoveryLog, timestamp)) {\n                /* istanbul ignore else */\n                if (this.totalAudioPacketsRecoveredFec > 0)\n                    this.totalAudioPacketsRecoveredFec--;\n            }\n        }\n    }\n    /**\n     * Adds a timestamp to the fec recovery log if it is not present in\n     * the primary packet log and red recovery log and if it is not too old.\n     *\n     * @param encoding : The encoding to be analyzed\n     */\n    updateFecStats(encoding) {\n        if (!encoding.hasFec || this.totalAudioPacketsLost === 0)\n            return;\n        const fecTimestamp = encoding.timestamp - this.redPacketizationTime;\n        if (this.hasTimestamp(this.primaryPacketLog, fecTimestamp) ||\n            this.hasTimestamp(this.redRecoveryLog, fecTimestamp) ||\n            this.hasTimestamp(this.fecRecoveryLog, fecTimestamp)) {\n            return;\n        }\n        this.totalAudioPacketsRecoveredFec++;\n        this.addTimestamp(this.fecRecoveryLog, fecTimestamp);\n    }\n    /**\n     * Reports loss metrics to DefaultTransceiverController\n     *\n     * @param timestamp : Timestamp of most recent primary packet\n     */\n    maybeReportLossStats(timestamp, ssrc) {\n        if (timestamp - this.lastLossReportTimestamp < this.lossReportInterval)\n            return;\n        /* istanbul ignore next */\n        if (RedundantAudioEncoder.shouldReportStats) {\n            // @ts-ignore\n            self.postMessage({\n                type: 'RedundantAudioEncoderStats',\n                ssrc,\n                totalAudioPacketsLost: this.totalAudioPacketsLost,\n                totalAudioPacketsExpected: this.totalAudioPacketsExpected,\n                totalAudioPacketsRecoveredRed: this.totalAudioPacketsRecoveredRed,\n                totalAudioPacketsRecoveredFec: this.totalAudioPacketsRecoveredFec,\n            });\n        }\n        this.lastLossReportTimestamp = timestamp;\n    }\n    /**\n     * Adds a timestamp to a packet log\n     *\n     * @param packetLog : The packetlog to add the timestamp to\n     * @param timestamp : The timestamp that should be added\n     */\n    addTimestamp(packetLog, timestamp) {\n        packetLog.window[packetLog.index] = timestamp;\n        packetLog.index = (packetLog.index + 1) % packetLog.windowSize;\n    }\n    /**\n     * Checks if a timestamp is in a packetlog\n     *\n     * @param packetLog : The packetlog to search\n     * @param timestamp : The timestamp to search for\n     * @returns true if timestamp is present, false otherwise\n     */\n    hasTimestamp(packetLog, timestamp) {\n        const element = packetLog.window.find(t => t === timestamp);\n        return !!element;\n    }\n    /**\n     * Removes a timestamp from a packet log\n     *\n     * @param packetLog : The packetlog from which the timestamp should be removed\n     * @param timestamp : The timestamp to be removed\n     * @returns true if timestamp was present in the log and removed, false otherwise\n     */\n    removeTimestamp(packetLog, timestamp) {\n        const index = packetLog.window.indexOf(timestamp);\n        if (index >= 0) {\n            packetLog.window[index] = undefined;\n            return true;\n        }\n        return false;\n    }\n    /**\n     * Removes a timestamp from red and fec recovery windows.\n     *\n     * @param timestamp : The timestamp to be removed\n     */\n    removeFromRecoveryWindows(timestamp) {\n        let removed = this.removeTimestamp(this.redRecoveryLog, timestamp);\n        if (removed) {\n            if (this.totalAudioPacketsRecoveredRed > 0)\n                this.totalAudioPacketsRecoveredRed--;\n        }\n        removed = this.removeTimestamp(this.fecRecoveryLog, timestamp);\n        if (removed) {\n            if (this.totalAudioPacketsRecoveredFec > 0)\n                this.totalAudioPacketsRecoveredFec--;\n        }\n    }\n    /**\n     * Converts the supplied argument to 32-bit unsigned integer\n     */\n    uint32WrapAround(num) {\n        const mod = 4294967296; // 2^32\n        let res = num;\n        if (num >= mod) {\n            res = num - mod;\n        }\n        else if (num < 0) {\n            res = mod + num;\n        }\n        return res;\n    }\n    /**\n     * Converts the supplied argument to 16-bit signed integer\n     */\n    int16(num) {\n        return (num << 16) >> 16;\n    }\n    /**\n     * Determines if an Opus packet is in CELT-only mode.\n     *\n     * @param packet Opus packet.\n     * @returns `true` if the packet is in CELT-only mode.\n     */\n    opusPacketIsCeltOnly(packet) {\n        // TOC byte format (https://www.rfc-editor.org/rfc/rfc6716#section-3.1):\n        //  0\n        //  0 1 2 3 4 5 6 7\n        // +-+-+-+-+-+-+-+-+\n        // | config  |s| c |\n        // +-+-+-+-+-+-+-+-+\n        // Since CELT-only packets are represented using configurations 16 to 31, the highest 'config' bit will always be 1\n        // for CELT-only packets.\n        return !!(packet.getUint8(0) & 0x80);\n    }\n    /**\n     * Gets the number of samples per frame from an Opus packet.\n     *\n     * @param packet Opus packet. This must contain at least one byte of data.\n     * @param sampleRateHz 32-bit integer sampling rate in Hz. This must be a multiple of 400 or inaccurate results will\n     *                     be returned.\n     * @returns Number of samples per frame.\n     */\n    opusPacketGetSamplesPerFrame(packet, sampleRateHz) {\n        // Sample rate must be a 32-bit integer.\n        sampleRateHz = Math.round(sampleRateHz);\n        sampleRateHz = Math.min(Math.max(sampleRateHz, -(Math.pow(2, 32))), Math.pow(2, 32) - 1);\n        // TOC byte format (https://www.rfc-editor.org/rfc/rfc6716#section-3.1):\n        //  0\n        //  0 1 2 3 4 5 6 7\n        // +-+-+-+-+-+-+-+-+\n        // | config  |s| c |\n        // +-+-+-+-+-+-+-+-+\n        let numSamples;\n        let frameSizeOption;\n        // Case for CELT-only packet.\n        if (this.opusPacketIsCeltOnly(packet)) {\n            // The lower 3 'config' bits indicate the frame size option.\n            frameSizeOption = (packet.getUint8(0) >> 3) & 0x3;\n            // The frame size options 0, 1, 2, 3 correspond to frame sizes of 2.5, 5, 10, 20 ms. Notice that the frame sizes\n            // can be represented as (2.5 * 2^0), (2.5 * 2^1), (2.5 * 2^2), (2.5 * 2^3) ms. So, the number of samples can be\n            // calculated as follows:\n            // (sample/s) * (1s/1000ms) * (2.5ms) * 2^(frameSizeOption)\n            // = (sample/s) * (1s/400) * 2^(frameSizeOption)\n            // = (sample/s) * 2^(frameSizeOption) * (1s/400)\n            numSamples = (sampleRateHz << frameSizeOption) / 400;\n        }\n        // Case for Hybrid packet. Since Hybrid packets are represented using configurations 12 to 15, bits 1 and 2 in the\n        // above TOC byte diagram will both be 1.\n        else if ((packet.getUint8(0) & 0x60) === 0x60) {\n            // In the case of configuration 13 or 15, bit 4 in the above TOC byte diagram will be 1. Configurations 13 and 15\n            // correspond to a 20ms frame size, so the number of samples is calculated as follows:\n            // (sample/s) * (1s/1000ms) * (20ms)\n            // = (sample/s) * (1s/50)\n            //\n            // In the case of configuration 12 or 14, bit 4 in the above TOC byte diagram will be 0. Configurations 12 and 14\n            // correspond to a 10ms frame size, so the number of samples is calculated as follows:\n            // (sample/s) * (1s/1000ms) * (10ms)\n            // = (sample/s) * (1s/100)\n            numSamples = packet.getUint8(0) & 0x08 ? sampleRateHz / 50 : sampleRateHz / 100;\n        }\n        // Case for SILK-only packet.\n        else {\n            // The lower 3 'config' bits indicate the frame size option for SILK-only packets.\n            frameSizeOption = (packet.getUint8(0) >> 3) & 0x3;\n            if (frameSizeOption === 3) {\n                // Frame size option 3 corresponds to a frame size of 60ms, so the number of samples is calculated as follows:\n                // (sample/s) * (1s/1000ms) * (60ms)\n                // = (sample/s) * (60ms) * (1s/1000ms)\n                numSamples = (sampleRateHz * 60) / 1000;\n            }\n            else {\n                // The frame size options 0, 1, 2 correspond to frame sizes of 10, 20, 40 ms. Notice that the frame sizes can be\n                // represented as (10 * 2^0), (10 * 2^1), (10 * 2^2) ms. So, the number of samples can be calculated as follows:\n                // (sample/s) * (1s/1000ms) * (10ms) * 2^(frameSizeOption)\n                // = (sample/s) * (1s/100) * 2^(frameSizeOption)\n                // = (sample/s) * 2^(frameSizeOption) * (1s/100)\n                numSamples = (sampleRateHz << frameSizeOption) / 100;\n            }\n        }\n        return numSamples;\n    }\n    /**\n     * Gets the number of SILK frames per Opus frame.\n     *\n     * @param packet Opus packet.\n     * @returns Number of SILK frames per Opus frame.\n     */\n    opusNumSilkFrames(packet) {\n        // For computing the frame length in ms, the sample rate is not important since it cancels out. We use 48 kHz, but\n        // any valid sample rate would work.\n        //\n        // To calculate the length of a frame (with a 48kHz sample rate) in ms:\n        // (samples/frame) * (1s/48000 samples) * (1000ms/s)\n        // = (samples/frame) * (1000ms/48000 samples)\n        // = (samples/frame) * (1ms/48 samples)\n        let frameLengthMs = this.opusPacketGetSamplesPerFrame(packet, 48000) / 48;\n        if (frameLengthMs < 10)\n            frameLengthMs = 10;\n        // The number of SILK frames per Opus frame is described in https://www.rfc-editor.org/rfc/rfc6716#section-4.2.2.\n        switch (frameLengthMs) {\n            case 10:\n            case 20:\n                return 1;\n            case 40:\n                return 2;\n            case 60:\n                return 3;\n            // It is not possible to reach the default case since an Opus packet can only encode sizes of 2.5, 5, 10, 20, 40,\n            // or 60 ms, so we ignore the default case for test coverage.\n            /* istanbul ignore next */\n            default:\n                return 0;\n        }\n    }\n    /**\n     * Gets the number of channels from an Opus packet.\n     *\n     * @param packet Opus packet.\n     * @returns Number of channels.\n     */\n    opusPacketGetNumChannels(packet) {\n        // TOC byte format (https://www.rfc-editor.org/rfc/rfc6716#section-3.1):\n        //  0\n        //  0 1 2 3 4 5 6 7\n        // +-+-+-+-+-+-+-+-+\n        // | config  |s| c |\n        // +-+-+-+-+-+-+-+-+\n        // The 's' bit indicates mono or stereo audio, with 0 indicating mono and 1 indicating stereo.\n        return packet.getUint8(0) & 0x4 ? 2 : 1;\n    }\n    /**\n     * Determine the size (in bytes) of an Opus frame.\n     *\n     * @param packet Opus packet.\n     * @param byteOffset Offset (from the start of the packet) to the byte containing the size information.\n     * @param remainingBytes Remaining number of bytes to parse from the Opus packet.\n     * @param sizeBytes Variable to store the parsed frame size (in bytes).\n     * @returns Number of bytes that were parsed to determine the frame size.\n     */\n    opusParseSize(packet, byteOffset, remainingBytes, sizeBytes) {\n        // See https://www.rfc-editor.org/rfc/rfc6716#section-3.2.1 for an explanation of how frame size is represented.\n        // If there are no remaining bytes to parse the size from, then the size cannot be determined.\n        if (remainingBytes < 1) {\n            sizeBytes[0] = -1;\n            return -1;\n        }\n        // If the first byte is in the range 0...251, then this value is the size of the frame.\n        else if (packet.getUint8(byteOffset) < 252) {\n            sizeBytes[0] = packet.getUint8(byteOffset);\n            return 1;\n        }\n        // If the first byte is in the range 252...255, a second byte is needed. If there is no second byte, then the size\n        // cannot be determined.\n        else if (remainingBytes < 2) {\n            sizeBytes[0] = -1;\n            return -1;\n        }\n        // The total size of the frame given two size bytes is:\n        // (4 * secondSizeByte) + firstSizeByte\n        else {\n            sizeBytes[0] = 4 * packet.getUint8(byteOffset + 1) + packet.getUint8(byteOffset);\n            return 2;\n        }\n    }\n    /**\n     * Parse binary data containing an Opus packet into one or more Opus frames.\n     *\n     * @param data Binary data containing an Opus packet to be parsed. The data should begin with the first byte (i.e the\n     *             TOC byte) of an Opus packet. Note that the size of the data does not have to equal the size of the\n     *             contained Opus packet.\n     * @param lenBytes Size of the data (in bytes).\n     * @param selfDelimited Indicates if the Opus packet is self-delimiting\n     *                      (https://www.rfc-editor.org/rfc/rfc6716#appendix-B).\n     * @param tocByte Optional variable to store the TOC (table of contents) byte.\n     * @param frameOffsets Optional variable to store the offsets (from the start of the data) to the first bytes of each\n     *                     Opus frame.\n     * @param frameSizes Required variable to store the sizes (in bytes) of each Opus frame.\n     * @param payloadOffset Optional variable to store the offset (from the start of the data) to the first byte of the\n     *                      payload.\n     * @param packetLenBytes Optional variable to store the length of the Opus packet (in bytes).\n     * @returns Number of Opus frames.\n     */\n    opusPacketParseImpl(data, lenBytes, selfDelimited, tocByte, frameOffsets, frameSizes, payloadOffset, packetLenBytes) {\n        if (!frameSizes || lenBytes < 0)\n            return this.OPUS_BAD_ARG;\n        if (lenBytes === 0)\n            return this.OPUS_INVALID_PACKET;\n        // The number of Opus frames in the packet.\n        let numFrames;\n        // Intermediate storage for the number of bytes parsed to determine the size of a frame.\n        let numBytesParsed;\n        // The number of the padding bytes (excluding the padding count bytes) in the packet.\n        let paddingBytes = 0;\n        // Indicates whether CBR (constant bitrate) framing is used.\n        let cbr = false;\n        // The TOC (table of contents) byte (https://www.rfc-editor.org/rfc/rfc6716#section-3.1).\n        const toc = data.getUint8(0);\n        // Store the TOC byte.\n        if (tocByte)\n            tocByte[0] = toc;\n        // The remaining number of bytes to parse from the packet. Note that the TOC byte has already been parsed, hence the\n        // minus 1.\n        let remainingBytes = lenBytes - 1;\n        // This keeps track of where we are in the packet. This starts at 1 since the TOC byte has already been read.\n        let byteOffset = 1;\n        // The size of the last Opus frame in bytes.\n        let lastSizeBytes = remainingBytes;\n        // Read the `c` bits (i.e. code bits) from the TOC byte.\n        switch (toc & 0x3) {\n            // A code 0 packet (https://www.rfc-editor.org/rfc/rfc6716#section-3.2.2) has one frame.\n            case 0:\n                numFrames = 1;\n                break;\n            // A code 1 packet (https://www.rfc-editor.org/rfc/rfc6716#section-3.2.3) has two CBR (constant bitrate) frames.\n            case 1:\n                numFrames = 2;\n                cbr = true;\n                if (!selfDelimited) {\n                    // Undelimited code 1 packets must be an even number of data bytes, otherwise the packet is invalid.\n                    if (remainingBytes & 0x1)\n                        return this.OPUS_INVALID_PACKET;\n                    // The sizes of both frames are equal (i.e. half of the number of data bytes).\n                    lastSizeBytes = remainingBytes / 2;\n                    // If `lastSizeBytes` is too large, we will catch it later.\n                    frameSizes[0][0] = lastSizeBytes;\n                }\n                break;\n            // A code 2 packet (https://www.rfc-editor.org/rfc/rfc6716#section-3.2.4) has two VBR (variable bitrate) frames.\n            case 2:\n                numFrames = 2;\n                numBytesParsed = this.opusParseSize(data, byteOffset, remainingBytes, frameSizes[0]);\n                remainingBytes -= numBytesParsed;\n                // The parsed size of the first frame cannot be larger than the number of remaining bytes in the packet.\n                if (frameSizes[0][0] < 0 || frameSizes[0][0] > remainingBytes) {\n                    return this.OPUS_INVALID_PACKET;\n                }\n                byteOffset += numBytesParsed;\n                // The size of the second frame is the remaining number of bytes after the first frame.\n                lastSizeBytes = remainingBytes - frameSizes[0][0];\n                break;\n            // A code 3 packet (https://www.rfc-editor.org/rfc/rfc6716#section-3.2.5) has multiple CBR/VBR frames (from 0 to\n            // 120 ms).\n            default:\n                // Code 3 packets must have at least 2 bytes (i.e. at least 1 byte after the TOC byte).\n                if (remainingBytes < 1)\n                    return this.OPUS_INVALID_PACKET;\n                // Frame count byte format:\n                //  0\n                //  0 1 2 3 4 5 6 7\n                // +-+-+-+-+-+-+-+-+\n                // |v|p|     M     |\n                // +-+-+-+-+-+-+-+-+\n                //\n                // Read the frame count byte, which immediately follows the TOC byte.\n                const frameCountByte = data.getUint8(byteOffset++);\n                --remainingBytes;\n                // Read the 'M' bits of the frame count byte, which encode the number of frames.\n                numFrames = frameCountByte & 0x3f;\n                // The number of frames in a code 3 packet must not be 0.\n                if (numFrames <= 0)\n                    return this.OPUS_INVALID_PACKET;\n                const samplesPerFrame = this.opusPacketGetSamplesPerFrame(data, 48000);\n                // A single frame can have at most 2880 samples, which happens in the case where 60ms of 48kHz audio is encoded\n                // per frame. A code 3 packet cannot contain more than 120ms of audio, so the total number of samples cannot\n                // exceed 2880 * 2 = 5760.\n                if (samplesPerFrame * numFrames > 5760)\n                    return this.OPUS_INVALID_PACKET;\n                // Parse padding bytes if the 'p' bit is 1.\n                if (frameCountByte & 0x40) {\n                    let paddingCountByte;\n                    let numPaddingBytes;\n                    // Remove padding bytes (including padding count bytes) from the remaining byte count.\n                    do {\n                        // Sanity check that there are enough bytes to parse and remove the padding.\n                        if (remainingBytes <= 0)\n                            return this.OPUS_INVALID_PACKET;\n                        // Get the next padding count byte.\n                        paddingCountByte = data.getUint8(byteOffset++);\n                        --remainingBytes;\n                        // If the padding count byte has a value in the range 0...254, then the total size of the padding is the\n                        // value in the padding count byte.\n                        //\n                        // If the padding count byte has value 255, then the total size of the padding is 254 plus the value in the\n                        // next padding count byte. Therefore, keep reading padding count bytes while the value is 255.\n                        numPaddingBytes = paddingCountByte === 255 ? 254 : paddingCountByte;\n                        remainingBytes -= numPaddingBytes;\n                        paddingBytes += numPaddingBytes;\n                    } while (paddingCountByte === 255);\n                }\n                // Sanity check that the remaining number of bytes is not negative after removing the padding.\n                if (remainingBytes < 0)\n                    return this.OPUS_INVALID_PACKET;\n                // Read the 'v' bit (i.e. VBR bit).\n                cbr = !(frameCountByte & 0x80);\n                // VBR case\n                if (!cbr) {\n                    lastSizeBytes = remainingBytes;\n                    // Let M be the number of frames. There will be M - 1 frame length indicators (which can be 1 or 2 bytes)\n                    // corresponding to the lengths of frames 0 to M - 2. The size of the last frame (i.e. frame M - 1) is the\n                    // number of data bytes after the end of frame M - 2 and before the start of the padding bytes.\n                    for (let i = 0; i < numFrames - 1; ++i) {\n                        numBytesParsed = this.opusParseSize(data, byteOffset, remainingBytes, frameSizes[i]);\n                        remainingBytes -= numBytesParsed;\n                        // The remaining number of data bytes must be enough to contain each frame.\n                        if (frameSizes[i][0] < 0 || frameSizes[i][0] > remainingBytes) {\n                            return this.OPUS_INVALID_PACKET;\n                        }\n                        byteOffset += numBytesParsed;\n                        lastSizeBytes -= numBytesParsed + frameSizes[i][0];\n                    }\n                    // Sanity check that the size of the last frame is not negative.\n                    if (lastSizeBytes < 0)\n                        return this.OPUS_INVALID_PACKET;\n                }\n                // CBR case\n                else if (!selfDelimited) {\n                    // The size of each frame is the number of data bytes divided by the number of frames.\n                    lastSizeBytes = Math.trunc(remainingBytes / numFrames);\n                    // The number of data bytes must be a non-negative integer multiple of the number of frames.\n                    if (lastSizeBytes * numFrames !== remainingBytes)\n                        return this.OPUS_INVALID_PACKET;\n                    // All frames have equal size in the undelimited CBR case.\n                    for (let i = 0; i < numFrames - 1; ++i) {\n                        frameSizes[i][0] = lastSizeBytes;\n                    }\n                }\n        }\n        // Self-delimited framing uses an extra 1 or 2 bytes, immediately preceding the data bytes, to indicate either the\n        // size of the last frame (for code 0, code 2, and VBR code 3 packets) or the size of all the frames (for code 1 and\n        // CBR code 3 packets). See https://www.rfc-editor.org/rfc/rfc6716#appendix-B.\n        if (selfDelimited) {\n            // The extra frame size byte(s) will always indicate the size of the last frame.\n            numBytesParsed = this.opusParseSize(data, byteOffset, remainingBytes, frameSizes[numFrames - 1]);\n            remainingBytes -= numBytesParsed;\n            // There must be enough data bytes for the last frame.\n            if (frameSizes[numFrames - 1][0] < 0 || frameSizes[numFrames - 1][0] > remainingBytes) {\n                return this.OPUS_INVALID_PACKET;\n            }\n            byteOffset += numBytesParsed;\n            // For CBR packets, the sizes of all the frames are equal.\n            if (cbr) {\n                // There must be enough data bytes for all the frames.\n                if (frameSizes[numFrames - 1][0] * numFrames > remainingBytes) {\n                    return this.OPUS_INVALID_PACKET;\n                }\n                for (let i = 0; i < numFrames - 1; ++i) {\n                    frameSizes[i][0] = frameSizes[numFrames - 1][0];\n                }\n            }\n            // At this point, `lastSizeBytes` contains the size of the last frame plus the size of the extra frame size\n            // byte(s), so sanity check that `lastSizeBytes` is the upper bound for the size of the last frame.\n            else if (!(numBytesParsed + frameSizes[numFrames - 1][0] <= lastSizeBytes)) {\n                return this.OPUS_INVALID_PACKET;\n            }\n        }\n        // Undelimited case\n        else {\n            // Because the size of the last packet is not encoded explicitly, it is possible that the size of the last packet\n            // (or of all the packets, for the CBR case) is larger than maximum frame size.\n            if (lastSizeBytes > this.OPUS_MAX_FRAME_SIZE_BYTES)\n                return this.OPUS_INVALID_PACKET;\n            frameSizes[numFrames - 1][0] = lastSizeBytes;\n        }\n        // Store the offset to the start of the payload.\n        if (payloadOffset)\n            payloadOffset[0] = byteOffset;\n        // Store the offsets to the start of each frame.\n        for (let i = 0; i < numFrames; ++i) {\n            if (frameOffsets)\n                frameOffsets[i][0] = byteOffset;\n            byteOffset += frameSizes[i][0];\n        }\n        // Store the length of the Opus packet.\n        if (packetLenBytes)\n            packetLenBytes[0] = byteOffset + paddingBytes;\n        return numFrames;\n    }\n    /**\n     * Parse a single undelimited Opus packet into one or more Opus frames.\n     *\n     * @param packet Opus packet to be parsed.\n     * @param lenBytes Size of the packet (in bytes).\n     * @param tocByte Optional variable to store the TOC (table of contents) byte.\n     * @param frameOffsets Optional variable to store the offsets (from the start of the packet) to the first bytes of\n     *                     each Opus frame.\n     * @param frameSizes Required variable to store the sizes (in bytes) of each Opus frame.\n     * @param payloadOffset Optional variable to store the offset (from the start of the packet) to the first byte of the\n     *                      payload.\n     * @returns Number of Opus frames.\n     */\n    opusPacketParse(packet, lenBytes, tocByte, frameOffsets, frameSizes, payloadOffset) {\n        return this.opusPacketParseImpl(packet, lenBytes, \n        /* selfDelimited */ false, tocByte, frameOffsets, frameSizes, payloadOffset, null);\n    }\n    /**\n     * This function returns the SILK VAD (voice activity detection) information encoded in the Opus packet. For CELT-only\n     * packets that do not have VAD information, it returns -1.\n     *\n     * @param packet Opus packet.\n     * @param lenBytes Size of the packet (in bytes).\n     * @returns  0: no frame had the VAD flag set.\n     *           1: at least one frame had the VAD flag set.\n     *          -1: VAD status could not be determined.\n     */\n    opusPacketHasVoiceActivity(packet, lenBytes) {\n        if (!packet || lenBytes <= 0)\n            return 0;\n        // In CELT-only mode, we can not determine whether there is VAD.\n        if (this.opusPacketIsCeltOnly(packet))\n            return -1;\n        const numSilkFrames = this.opusNumSilkFrames(packet);\n        // It is not possible for `opusNumSilkFrames()` to return 0, so we ignore the next sanity check for test coverage.\n        /* istanbul ignore next */\n        if (numSilkFrames === 0)\n            return -1;\n        const opusFrameOffsets = new Array(this.OPUS_MAX_OPUS_FRAMES);\n        const opusFrameSizes = new Array(this.OPUS_MAX_OPUS_FRAMES);\n        for (let i = 0; i < this.OPUS_MAX_OPUS_FRAMES; ++i) {\n            opusFrameOffsets[i] = [undefined];\n            opusFrameSizes[i] = [undefined];\n        }\n        // Parse packet to get the Opus frames.\n        const numOpusFrames = this.opusPacketParse(packet, lenBytes, null, opusFrameOffsets, opusFrameSizes, null);\n        // VAD status cannot be determined for invalid packets.\n        if (numOpusFrames < 0)\n            return -1;\n        // Iterate over all Opus frames, which may contain multiple SILK frames, to determine the VAD status.\n        for (let i = 0; i < numOpusFrames; ++i) {\n            if (opusFrameSizes[i][0] < 1)\n                continue;\n            // LP layer header bits format (https://www.rfc-editor.org/rfc/rfc6716#section-4.2.3):\n            //\n            // Mono case:\n            // +-----------------+----------+\n            // | 1 to 3 VAD bits | LBRR bit |\n            // +-----------------+----------+\n            //\n            // Stereo case:\n            // +---------------------+--------------+----------------------+---------------+\n            // | 1 to 3 mid VAD bits | mid LBRR bit | 1 to 3 side VAD bits | side LBRR bit |\n            // +---------------------+--------------+----------------------+---------------+\n            // The upper 1 to 3 bits (dependent on the number of SILK frames) of the LP layer contain VAD bits. If any of\n            // these VAD bits are 1, then voice activity is present.\n            if (packet.getUint8(opusFrameOffsets[i][0]) >> (8 - numSilkFrames))\n                return 1;\n            // In the stereo case, there is a second set of 1 to 3 VAD bits, so also check these VAD bits.\n            const channels = this.opusPacketGetNumChannels(packet);\n            if (channels === 2 &&\n                (packet.getUint8(opusFrameOffsets[i][0]) << (numSilkFrames + 1)) >> (8 - numSilkFrames)) {\n                return 1;\n            }\n        }\n        // No voice activity was detected.\n        return 0;\n    }\n    /**\n     * This method is based on Definition of the Opus Audio Codec\n     * (https://tools.ietf.org/html/rfc6716). Basically, this method is based on\n     * parsing the LP layer of an Opus packet, particularly the LBRR flag.\n     *\n     * @param packet Opus packet.\n     * @param lenBytes Size of the packet (in bytes).\n     * @returns  true: packet has fec encoding about previous packet.\n     *           false: no fec encoding present.\n     */\n    opusPacketHasFec(packet, lenBytes) {\n        if (!packet || lenBytes <= 0)\n            return false;\n        // In CELT-only mode, packets should not have FEC.\n        if (this.opusPacketIsCeltOnly(packet))\n            return false;\n        const opusFrameOffsets = new Array(this.OPUS_MAX_OPUS_FRAMES);\n        const opusFrameSizes = new Array(this.OPUS_MAX_OPUS_FRAMES);\n        for (let i = 0; i < this.OPUS_MAX_OPUS_FRAMES; ++i) {\n            opusFrameOffsets[i] = [undefined];\n            opusFrameSizes[i] = [undefined];\n        }\n        // Parse packet to get the Opus frames.\n        const numOpusFrames = this.opusPacketParse(packet, lenBytes, null, opusFrameOffsets, opusFrameSizes, null);\n        if (numOpusFrames < 0)\n            return false;\n        /* istanbul ignore next */\n        if (opusFrameSizes[0][0] <= 1)\n            return false;\n        const numSilkFrames = this.opusNumSilkFrames(packet);\n        /* istanbul ignore next */\n        if (numSilkFrames === 0)\n            return false;\n        const channels = this.opusPacketGetNumChannels(packet);\n        /* istanbul ignore next */\n        if (channels !== 1 && channels !== 2)\n            return false;\n        // A frame starts with the LP layer. The LP layer begins with two to eight\n        // header bits.These consist of one VAD bit per SILK frame (up to 3),\n        // followed by a single flag indicating the presence of LBRR frames.\n        // For a stereo packet, these first flags correspond to the mid channel, and\n        // a second set of flags is included for the side channel. Because these are\n        // the first symbols decoded by the range coder and because they are coded\n        // as binary values with uniform probability, they can be extracted directly\n        // from the most significant bits of the first byte of compressed data.\n        for (let i = 0; i < channels; i++) {\n            if (packet.getUint8(opusFrameOffsets[0][0]) & (0x80 >> ((i + 1) * (numSilkFrames + 1) - 1)))\n                return true;\n        }\n        return false;\n    }\n}\nRedundantAudioEncoder.shouldLog = true;\nRedundantAudioEncoder.shouldReportStats = true;\nRedundantAudioEncoder.initializeWorker();\n";RedundantAudioEncoderWorkerCode$1.default=RedundantAudioEncoderWorkerCode;var __awaiter$s=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,rs,ns,os){function ss(as){return as instanceof ns?as:new ns(function(ls){ls(as)})}return new(ns||(ns=Promise))(function(as,ls){function cs(ps){try{ds(os.next(ps))}catch(fs){ls(fs)}}function us(ps){try{ds(os.throw(ps))}catch(fs){ls(fs)}}function ds(ps){ps.done?as(ps.value):ss(ps.value).then(cs,us)}ds((os=os.apply(ts,rs||[])).next())})},__importDefault$F=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(DefaultTransceiverController$1,"__esModule",{value:!0});const AudioProfile_1=__importDefault$F(AudioProfile$1),RedundantAudioRecoveryMetricReport_1=__importDefault$F(RedundantAudioRecoveryMetricReport$1),RedundantAudioEncoder_1=__importDefault$F(RedundantAudioEncoder$1),RedundantAudioEncoderWorkerCode_1=__importDefault$F(RedundantAudioEncoderWorkerCode$1),AsyncScheduler_1$3=__importDefault$F(AsyncScheduler$1);class DefaultTransceiverController{constructor(rs,ns,os){this.logger=rs,this.browserBehavior=ns,this.meetingSessionContext=os,this._localCameraTransceiver=null,this._localAudioTransceiver=null,this.videoSubscriptions=[],this.defaultMediaStream=null,this.peer=null,this.streamIdToTransceiver=new Map,this.groupIdToTransceiver=new Map,this.audioRedWorker=null,this.audioRedWorkerURL=null,this.audioMetricsHistory=new Array,this.redMetricsObservers=new Set,this.currentNumRedundantEncodings=0,this.lastRedHolddownTimerStartTimestampMs=0,this.lastHighPacketLossEventTimestampMs=0,this.lastAudioRedTurnOffTimestampMs=0,this.maxAudioMetricsHistory=20,this.audioRedPacketLossShortEvalPeriodMs=5*1e3,this.audioRedPacketLossLongEvalPeriodMs=15*1e3,this.audioRedHoldDownTimeMs=5*60*1e3,this.redRecoveryTimeMs=1*60*1e3}setEncodingParameters(rs){return __awaiter$s(this,void 0,void 0,function*(){if(!this._localCameraTransceiver||this._localCameraTransceiver.direction!=="sendrecv")return;const ns=this._localCameraTransceiver.sender;if(!rs||rs.size===0)return;const os=Array.from(rs.values()),ss=ns.getParameters();if(!ss.encodings||ss.encodings.length===0)ss.encodings=os;else for(const as of ss.encodings)for(const ls of os){if((as.rid||ls.rid)&&as.rid!==ls.rid)continue;let cs;for(cs in ls)cs==="rid"||cs==="codecPayloadType"||ls.hasOwnProperty(cs)&&(as[cs]=ls[cs])}yield ns.setParameters(ss)})}localAudioTransceiver(){return this._localAudioTransceiver}localVideoTransceiver(){return this._localCameraTransceiver}setVideoSendingBitrateKbps(rs){return __awaiter$s(this,void 0,void 0,function*(){if(!this._localCameraTransceiver||this._localCameraTransceiver.direction!=="sendrecv")return;const ns=this._localCameraTransceiver.sender;if(!ns||rs<=0)return;const os=ns.getParameters();os.encodings||(os.encodings=[{}]);for(const ss of os.encodings)ss.maxBitrate=rs*1e3;yield ns.setParameters(os)})}setPeer(rs){this.peer=rs}reset(){this.destroyAudioRedWorkerAndStates(),this._localCameraTransceiver=null,this._localAudioTransceiver=null,this.videoSubscriptions=[],this.defaultMediaStream=null,this.peer=null}useTransceivers(){return!!this.peer&&typeof this.peer.getTransceivers<"u"}hasVideoInput(){return!(!this._localCameraTransceiver||this._localCameraTransceiver.direction!=="sendrecv")}trackIsVideoInput(rs){return this._localCameraTransceiver?rs===this._localCameraTransceiver.sender.track||rs===this._localCameraTransceiver.receiver.track:!1}setupLocalTransceivers(){var rs,ns;this.useTransceivers()&&(!this.defaultMediaStream&&typeof MediaStream<"u"&&(this.defaultMediaStream=new MediaStream),this._localAudioTransceiver||(this._localAudioTransceiver=this.peer.addTransceiver("audio",{direction:"inactive",streams:[this.defaultMediaStream]}),!((ns=(rs=this.meetingSessionContext)===null||rs===void 0?void 0:rs.audioProfile)===null||ns===void 0)&&ns.hasRedundancyEnabled()&&this.setupAudioRedWorker()),this._localCameraTransceiver||(this._localCameraTransceiver=this.addTransceiver("video",{direction:"inactive",streams:[this.defaultMediaStream]})))}replaceAudioTrack(rs){return __awaiter$s(this,void 0,void 0,function*(){return!this._localAudioTransceiver||this._localAudioTransceiver.direction!=="sendrecv"?(this.logger.info("audio transceiver direction is not set up or not activated"),!1):(yield this._localAudioTransceiver.sender.replaceTrack(rs),!0)})}setAudioInput(rs){return __awaiter$s(this,void 0,void 0,function*(){yield this.setTransceiverInput(this._localAudioTransceiver,rs)})}setVideoInput(rs){return __awaiter$s(this,void 0,void 0,function*(){yield this.setTransceiverInput(this._localCameraTransceiver,rs)})}updateVideoTransceivers(rs,ns){if(!this.useTransceivers())return ns.array();const os=this.peer.getTransceivers();return this.videoSubscriptions=[0],ns=ns.clone(),this.updateTransceivers(os,rs,ns),this.logger.debug(()=>this.debugDumpTransceivers()),this.videoSubscriptions}updateTransceivers(rs,ns,os){const ss=os.array();rs.length!==0&&!rs[0].stop?(this.logger.info("Updating transceivers without `stop` function"),this.updateTransceiverWithoutStop(rs,ns,ss)):rs.length!==0&&this.updateTransceiverWithStop(rs,ns,ss);for(const as of ss){const ls=this.addTransceiver("video",{direction:"recvonly",streams:[new MediaStream]});this.streamIdToTransceiver.set(as,ls),this.groupIdToTransceiver.set(ns.groupIdForStreamId(as),ls),this.videoSubscriptions.push(as),this.logger.info("adding transceiver mid: ".concat(ls.mid," subscription: ").concat(as," direction: recvonly"))}}updateTransceiverWithStop(rs,ns,os){let ss=1;this.videoSubscriptions=[0];for(const as of rs){if(as===this._localCameraTransceiver||!this.transceiverIsVideo(as)||!as.mid)continue;let ls=!1;const cs=ns.streamIdForTrack("v_"+as.mid);if(as.direction!=="inactive"&&cs!==void 0){for(const[us,ds]of os.entries())if(ns.StreamIdsInSameGroup(cs,ds)){as.direction="recvonly",this.videoSubscriptions[ss]=ds,ls=!0,this.streamIdToTransceiver.delete(cs),this.streamIdToTransceiver.set(ds,as),os.splice(us,1);break}}if(!ls){this.videoSubscriptions[ss]=0,this.logger.info("Stopping MID: ".concat(as.mid,", direction: ").concat(as.direction,", current direction: ").concat(as.currentDirection)),as.stop();for(const[us,ds]of this.streamIdToTransceiver.entries())as.mid===ds.mid&&(this.streamIdToTransceiver.delete(us),this.groupIdToTransceiver.delete(ns.groupIdForStreamId(us)))}ss+=1}}updateTransceiverWithoutStop(rs,ns,os){let ss=1;for(const as of rs)if(!(as===this._localCameraTransceiver||!this.transceiverIsVideo(as))){if(this.videoSubscriptions[ss]=0,as.direction!=="inactive"){const ls=ns.streamIdForTrack("v_"+as.mid);if(ls!==void 0){for(const[cs,us]of os.entries())if(ns.StreamIdsInSameGroup(ls,us)){as.direction="recvonly",this.videoSubscriptions[ss]=us,this.streamIdToTransceiver.delete(ls),this.streamIdToTransceiver.set(us,as),os.splice(cs,1);break}}}ss+=1}ss=1;for(const as of rs)if(!(as===this._localCameraTransceiver||!this.transceiverIsVideo(as))){if(as.direction==="inactive"&&os.length>0){as.direction="recvonly";const ls=os.shift();this.videoSubscriptions[ss]=ls,this.streamIdToTransceiver.set(ls,as),this.groupIdToTransceiver.set(ns.groupIdForStreamId(ls),as)}else if(this.videoSubscriptions[ss]===0){as.direction="inactive";for(const[ls,cs]of this.streamIdToTransceiver.entries())as===cs&&(this.streamIdToTransceiver.delete(ls),this.groupIdToTransceiver.delete(ns.groupIdForStreamId(ls)))}ss+=1}}getMidForStreamId(rs){var ns;return(ns=this.streamIdToTransceiver.get(rs))===null||ns===void 0?void 0:ns.mid}setStreamIdForMid(rs,ns){for(const[os,ss]of this.streamIdToTransceiver.entries())if(ss.mid===rs){this.streamIdToTransceiver.delete(os),this.streamIdToTransceiver.set(ns,ss);return}}getMidForGroupId(rs){var ns,os;return(os=(ns=this.groupIdToTransceiver.get(rs))===null||ns===void 0?void 0:ns.mid)!==null&&os!==void 0?os:void 0}transceiverIsVideo(rs){return rs.receiver&&rs.receiver.track&&rs.receiver.track.kind==="video"||rs.sender&&rs.sender.track&&rs.sender.track.kind==="video"}debugDumpTransceivers(){let rs="",ns=0;for(const os of this.peer.getTransceivers())this.transceiverIsVideo(os)&&(rs+="transceiver index=".concat(ns," mid=").concat(os.mid," subscription=").concat(this.videoSubscriptions[ns]," direction=").concat(os.direction,"\n"),ns+=1);return rs}setTransceiverInput(rs,ns){return __awaiter$s(this,void 0,void 0,function*(){rs&&(ns?rs.direction="sendrecv":rs.direction="inactive",yield rs.sender.replaceTrack(ns))})}forEachRedMetricsObserver(rs){for(const ns of this.redMetricsObservers)AsyncScheduler_1$3.default.nextTick(()=>{this.redMetricsObservers.has(ns)&&ns.recoveryMetricsDidReceive(rs)})}disableAudioRedundancy(){this.meetingSessionContext.audioProfile=new AudioProfile_1.default(this.meetingSessionContext.audioProfile.audioBitrateBps,!1),this.meetingSessionContext.audioVideoController.setAudioProfile(this.meetingSessionContext.audioProfile)}setupAudioRedWorker(){var rs,ns;const os=!!window.RTCRtpScriptTransform,ss=!!RTCRtpSender.prototype.createEncodedStreams;if(os)this.logger.info("[AudioRed] Supports encoded insertable streams using RTCRtpScriptTransform");else if(ss)this.logger.info("[AudioRed] Supports encoded insertable streams using TransformStream");else throw this.disableAudioRedundancy(),new Error("[AudioRed] Encoded insertable streams not supported. Recreating peer connection with audio redundancy disabled.");try{this.audioRedWorkerURL=URL.createObjectURL(new Blob([RedundantAudioEncoderWorkerCode_1.default],{type:"application/javascript"})),this.logger.info("[AudioRed] Redundant audio worker URL ".concat(this.audioRedWorkerURL)),this.audioRedWorker=new Worker(this.audioRedWorkerURL)}catch(as){throw this.logger.error("[AudioRed] Unable to create audio red worker due to ".concat(as)),URL.revokeObjectURL(this.audioRedWorkerURL),this.audioRedWorkerURL=null,this.audioRedWorker=null,this.disableAudioRedundancy(),this.logger.info("[AudioRed] Recreating peer connection with audio redundancy disabled"),as}if(this.audioRedEnabled=!0,this.audioRedWorker.onmessage=as=>{if(as.data.type==="REDWorkerLog")this.logger.info(as.data.log);else if(as.data.type==="RedundantAudioEncoderStats"){const ls=new RedundantAudioRecoveryMetricReport_1.default;ls.currentTimestampMs=Date.now(),ls.ssrc=as.data.ssrc,ls.totalAudioPacketsLost=as.data.totalAudioPacketsLost,ls.totalAudioPacketsExpected=as.data.totalAudioPacketsExpected,ls.totalAudioPacketsRecoveredRed=as.data.totalAudioPacketsRecoveredRed,ls.totalAudioPacketsRecoveredFec=as.data.totalAudioPacketsRecoveredFec,this.forEachRedMetricsObserver(ls)}},os)this._localAudioTransceiver.sender.transform=new RTCRtpScriptTransform(this.audioRedWorker,{type:"SenderTransform"}),this._localAudioTransceiver.receiver.transform=new RTCRtpScriptTransform(this.audioRedWorker,{type:"ReceiverTransform"});else if(ss){const as=this._localAudioTransceiver.sender.createEncodedStreams(),ls=this._localAudioTransceiver.receiver.createEncodedStreams();this.audioRedWorker.postMessage({msgType:"StartRedWorker",send:as,receive:ls},[as.readable,as.writable,ls.readable,ls.writable])}(rs=this.meetingSessionContext)===null||rs===void 0||rs.audioVideoController.addObserver(this),this.addRedundantAudioRecoveryMetricsObserver((ns=this.meetingSessionContext)===null||ns===void 0?void 0:ns.statsCollector)}addTransceiver(rs,ns){var os;const ss=this.peer.addTransceiver(rs,ns);if(!(!((os=this.peer.getConfiguration())===null||os===void 0)&&os.encodedInsertableStreams)||!this.audioRedWorker)return ss;const as=!!window.RTCRtpScriptTransform,ls=!!RTCRtpSender.prototype.createEncodedStreams;if(as)ss.sender.transform=new RTCRtpScriptTransform(this.audioRedWorker,{type:"PassthroughTransform"}),ss.receiver.transform=new RTCRtpScriptTransform(this.audioRedWorker,{type:"PassthroughTransform"});else if(ls){const cs=ss.sender.createEncodedStreams(),us=ss.receiver.createEncodedStreams();this.audioRedWorker.postMessage({msgType:"PassthroughTransform",send:cs,receive:us},[cs.readable,cs.writable,us.readable,us.writable])}return ss}destroyAudioRedWorkerAndStates(){var rs,ns;this.audioRedWorker&&(URL.revokeObjectURL(this.audioRedWorkerURL),this.audioRedWorkerURL=null,this.audioRedWorker=null,this.currentNumRedundantEncodings=0,this.lastRedHolddownTimerStartTimestampMs=0,this.lastAudioRedTurnOffTimestampMs=0,this.lastHighPacketLossEventTimestampMs=0,this.audioRedEnabled=!0,(rs=this.meetingSessionContext)===null||rs===void 0||rs.audioVideoController.removeObserver(this),this.removeRedundantAudioRecoveryMetricsObserver((ns=this.meetingSessionContext)===null||ns===void 0?void 0:ns.statsCollector))}setAudioPayloadTypes(rs){this.audioRedWorker&&(this.audioRedWorker.postMessage({msgType:"RedPayloadType",payloadType:rs.get("red")}),this.audioRedWorker.postMessage({msgType:"OpusPayloadType",payloadType:rs.get("opus")}))}metricsDidReceive(rs){const{currentTimestampMs:ns}=rs,os=rs.getRTCStatsReport();let ss=0,as=0,ls=0;os.forEach(hs=>{hs.kind==="audio"&&(hs.type==="outbound-rtp"?as=hs.packetsSent:hs.type==="remote-inbound-rtp"&&(ss=hs.timestamp,ls=hs.packetsLost))}),(this.audioMetricsHistory.length===0||ss>this.audioMetricsHistory[this.audioMetricsHistory.length-1].timestampMs&&as>this.audioMetricsHistory[this.audioMetricsHistory.length-1].totalPacketsSent)&&this.audioMetricsHistory.push({timestampMs:ss,totalPacketsSent:as,totalPacketsLost:ls}),this.audioMetricsHistory.length>this.maxAudioMetricsHistory&&this.audioMetricsHistory.shift();const cs=this.lossPercent(this.audioRedPacketLossShortEvalPeriodMs),us=this.lossPercent(this.audioRedPacketLossLongEvalPeriodMs),ds=Math.max(cs,us),[ps,fs]=RedundantAudioEncoder_1.default.getNumRedundantEncodingsForPacketLoss(ds);if(fs){this.lastHighPacketLossEventTimestampMs=ns,this.audioRedEnabled&&(this.audioRedWorker&&this.audioRedWorker.postMessage({msgType:"Disable"}),this.audioRedEnabled=!1,this.lastAudioRedTurnOffTimestampMs=ns);return}else if(!this.audioRedEnabled){const hs=ns-this.lastAudioRedTurnOffTimestampMs,ms=ns-this.lastHighPacketLossEventTimestampMs;if(hs>=this.audioRedPacketLossLongEvalPeriodMs&&ms<this.redRecoveryTimeMs)return;this.audioRedWorker&&this.audioRedWorker.postMessage({msgType:"Enable"}),this.audioRedEnabled=!0,this.maybeResetHoldDownTimer(ns)}this.shouldUpdateAudioRedWorkerEncodings(ns,ps)&&this.audioRedWorker&&this.audioRedWorker.postMessage({msgType:"UpdateNumRedundantEncodings",numRedundantEncodings:ps})}maybeResetHoldDownTimer(rs){this.currentNumRedundantEncodings>0&&(this.lastRedHolddownTimerStartTimestampMs=rs)}lossPercent(rs){if(this.audioMetricsHistory.length<2)return 0;const ns=this.audioMetricsHistory[this.audioMetricsHistory.length-1].timestampMs,os=this.audioMetricsHistory[this.audioMetricsHistory.length-1].totalPacketsSent,ss=this.audioMetricsHistory[this.audioMetricsHistory.length-1].totalPacketsLost;for(let as=this.audioMetricsHistory.length-2;as>=0;as--)if(ns-this.audioMetricsHistory[as].timestampMs>=rs){const ls=ss-this.audioMetricsHistory[as].totalPacketsLost,cs=os-this.audioMetricsHistory[as].totalPacketsSent,us=100*(ls/cs);return Math.max(0,Math.min(us,100))}return 0}shouldUpdateAudioRedWorkerEncodings(rs,ns){return this.currentNumRedundantEncodings===ns?(this.maybeResetHoldDownTimer(rs),!1):ns<this.currentNumRedundantEncodings&&rs-this.lastRedHolddownTimerStartTimestampMs<this.audioRedHoldDownTimeMs?!1:(this.currentNumRedundantEncodings=ns,this.maybeResetHoldDownTimer(rs),!0)}addRedundantAudioRecoveryMetricsObserver(rs){this.redMetricsObservers.add(rs)}removeRedundantAudioRecoveryMetricsObserver(rs){this.redMetricsObservers.delete(rs)}}DefaultTransceiverController$1.default=DefaultTransceiverController;var SimulcastContentShareTransceiverController$1={},SimulcastTransceiverController$1={},__awaiter$r=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,rs,ns,os){function ss(as){return as instanceof ns?as:new ns(function(ls){ls(as)})}return new(ns||(ns=Promise))(function(as,ls){function cs(ps){try{ds(os.next(ps))}catch(fs){ls(fs)}}function us(ps){try{ds(os.throw(ps))}catch(fs){ls(fs)}}function ds(ps){ps.done?as(ps.value):ss(ps.value).then(cs,us)}ds((os=os.apply(ts,rs||[])).next())})},__importDefault$E=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(SimulcastTransceiverController$1,"__esModule",{value:!0});const DefaultTransceiverController_1$1=__importDefault$E(DefaultTransceiverController$1);class SimulcastTransceiverController extends DefaultTransceiverController_1$1.default{constructor(rs,ns,os){super(rs,ns,os),this.videoQualityControlParameterMap=new Map;let ss=4;for(let as=0;as<SimulcastTransceiverController.NAME_ARR_ASCENDING.length;as++){const ls=SimulcastTransceiverController.NAME_ARR_ASCENDING[as];this.videoQualityControlParameterMap.set(ls,{rid:ls,scaleResolutionDownBy:ss,maxBitrate:SimulcastTransceiverController.BITRATE_ARR_ASCENDING[as]*1e3}),ss=ss/2}}setEncodingParameters(rs){return __awaiter$r(this,void 0,void 0,function*(){if(!this._localCameraTransceiver||this._localCameraTransceiver.direction!=="sendrecv")return;const ns=this._localCameraTransceiver.sender,os=Array.from(rs.values());if(os.length<=0)return;const ss=ns.getParameters();if(!ss.encodings)ss.encodings=os;else for(const as of ss.encodings)as.rid===SimulcastTransceiverController.LOW_LEVEL_NAME&&this.copyEncodingParams(rs.get(SimulcastTransceiverController.LOW_LEVEL_NAME),as),as.rid===SimulcastTransceiverController.MID_LEVEL_NAME&&this.copyEncodingParams(rs.get(SimulcastTransceiverController.MID_LEVEL_NAME),as),as.rid===SimulcastTransceiverController.HIGH_LEVEL_NAME&&this.copyEncodingParams(rs.get(SimulcastTransceiverController.HIGH_LEVEL_NAME),as);yield ns.setParameters(ss),this.logVideoTransceiverParameters()})}setVideoSendingBitrateKbps(rs){return __awaiter$r(this,void 0,void 0,function*(){})}setupLocalTransceivers(){var rs,ns;if(this.useTransceivers()&&(!this.defaultMediaStream&&typeof MediaStream<"u"&&(this.defaultMediaStream=new MediaStream),this._localAudioTransceiver||(this._localAudioTransceiver=this.peer.addTransceiver("audio",{direction:"inactive",streams:[this.defaultMediaStream]}),!((ns=(rs=this.meetingSessionContext)===null||rs===void 0?void 0:rs.audioProfile)===null||ns===void 0)&&ns.hasRedundancyEnabled()&&this.setupAudioRedWorker()),!this._localCameraTransceiver)){const os=Array.from(this.videoQualityControlParameterMap.values());this._localCameraTransceiver=this.addTransceiver("video",{direction:"inactive",streams:[this.defaultMediaStream],sendEncodings:os})}}logVideoTransceiverParameters(){const ns=this._localCameraTransceiver.sender.getParameters().encodings;let os="simulcast: current encoding parameters \n";for(const ss of ns)os+="rid=".concat(ss.rid," maxBitrate=").concat(ss.maxBitrate," active=").concat(ss.active," scaleDownBy=").concat(ss.scaleResolutionDownBy," maxFrameRate = ").concat(ss.maxFramerate," \n");this.logger.info(os)}copyEncodingParams(rs,ns){ns.active=rs.active,ns.maxBitrate=rs.maxBitrate,ns.scaleResolutionDownBy=rs.scaleResolutionDownBy,ns.maxFramerate=rs.maxFramerate}}SimulcastTransceiverController$1.default=SimulcastTransceiverController;SimulcastTransceiverController.LOW_LEVEL_NAME="low";SimulcastTransceiverController.MID_LEVEL_NAME="mid";SimulcastTransceiverController.HIGH_LEVEL_NAME="hi";SimulcastTransceiverController.NAME_ARR_ASCENDING=["low","mid","hi"];SimulcastTransceiverController.BITRATE_ARR_ASCENDING=[200,400,1100];var __awaiter$q=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,rs,ns,os){function ss(as){return as instanceof ns?as:new ns(function(ls){ls(as)})}return new(ns||(ns=Promise))(function(as,ls){function cs(ps){try{ds(os.next(ps))}catch(fs){ls(fs)}}function us(ps){try{ds(os.throw(ps))}catch(fs){ls(fs)}}function ds(ps){ps.done?as(ps.value):ss(ps.value).then(cs,us)}ds((os=os.apply(ts,rs||[])).next())})},__importDefault$D=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(SimulcastContentShareTransceiverController$1,"__esModule",{value:!0});const SimulcastTransceiverController_1$1=__importDefault$D(SimulcastTransceiverController$1);class SimulcastContentShareTransceiverController extends SimulcastTransceiverController_1$1.default{constructor(rs,ns,os){super(rs,ns,os);let ss=2;this.videoQualityControlParameterMap=new Map;for(let as=0;as<SimulcastContentShareTransceiverController.NAME_ARR_ASCENDING.length;as++){const ls=SimulcastContentShareTransceiverController.NAME_ARR_ASCENDING[as];this.videoQualityControlParameterMap.set(ls,{rid:ls,scaleResolutionDownBy:ss,maxBitrate:SimulcastContentShareTransceiverController.BITRATE_ARR_ASCENDING[as]*1e3}),ss=ss/2}}setEncodingParameters(rs){return __awaiter$q(this,void 0,void 0,function*(){if(!this._localCameraTransceiver||this._localCameraTransceiver.direction!=="sendrecv")return;const ns=this._localCameraTransceiver.sender,os=Array.from(rs.values());if(os.length<=0)return;const ss=ns.getParameters();if(!ss.encodings)ss.encodings=os;else for(let as=0;as<ss.encodings.length;as++)ss.encodings[as].rid===SimulcastTransceiverController_1$1.default.LOW_LEVEL_NAME&&this.copyEncodingParams(rs.get(SimulcastTransceiverController_1$1.default.LOW_LEVEL_NAME),ss.encodings[as]),ss.encodings[as].rid===SimulcastTransceiverController_1$1.default.HIGH_LEVEL_NAME&&this.copyEncodingParams(rs.get(SimulcastTransceiverController_1$1.default.HIGH_LEVEL_NAME),ss.encodings[as]);yield ns.setParameters(ss),this.logVideoTransceiverParameters()})}}SimulcastContentShareTransceiverController$1.default=SimulcastContentShareTransceiverController;SimulcastContentShareTransceiverController.NAME_ARR_ASCENDING=["low","hi"];SimulcastContentShareTransceiverController.BITRATE_ARR_ASCENDING=[300,1200];var VideoOnlyTransceiverController$1={},__importDefault$C=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(VideoOnlyTransceiverController$1,"__esModule",{value:!0});const DefaultTransceiverController_1=__importDefault$C(DefaultTransceiverController$1);class VideoOnlyTransceiverController extends DefaultTransceiverController_1.default{constructor(rs,ns,os){super(rs,ns,os)}setupLocalTransceivers(){this.useTransceivers()&&(!this.defaultMediaStream&&typeof MediaStream<"u"&&(this.defaultMediaStream=new MediaStream),this._localCameraTransceiver||(this._localCameraTransceiver=this.peer.addTransceiver("video",{direction:"inactive",streams:[this.defaultMediaStream]})))}}VideoOnlyTransceiverController$1.default=VideoOnlyTransceiverController;var DefaultVideoCaptureAndEncodeParameter$1={};Object.defineProperty(DefaultVideoCaptureAndEncodeParameter$1,"__esModule",{value:!0});class DefaultVideoCaptureAndEncodeParameter{constructor(rs,ns,os,ss,as,ls=1,cs=!1){this.cameraWidth=rs,this.cameraHeight=ns,this.cameraFrameRate=os,this.maxEncodeBitrateKbps=ss,this.isSimulcast=as,this.scaleResolutionDownBy=ls,this.isSVC=cs}equal(rs){let ns=rs.captureWidth()===this.cameraWidth&&rs.captureHeight()===this.cameraHeight&&rs.captureFrameRate()===this.cameraFrameRate&&rs.encodeBitrates().length===this.encodeBitrates().length&&rs.encodeScaleResolutionDownBy().length===this.encodeScaleResolutionDownBy().length&&rs.encodeWidths().length===this.encodeWidths().length&&rs.encodeHeights().length===this.encodeHeights().length&&rs.isSVCEncoding()===this.isSVC;if(ns){for(let os=0;os<rs.encodeWidths().length;os++)if(rs.encodeWidths()[os]!==this.encodeWidths()[os]||rs.encodeHeights()[os]!==this.encodeHeights()[os]||rs.encodeBitrates()[os]!==this.encodeBitrates()[os]||rs.encodeScaleResolutionDownBy()[os]!==this.encodeScaleResolutionDownBy()[os])return ns=!1,ns}return ns}clone(){return new DefaultVideoCaptureAndEncodeParameter(this.cameraWidth,this.cameraHeight,this.cameraFrameRate,this.maxEncodeBitrateKbps,this.isSimulcast,this.scaleResolutionDownBy,this.isSVC)}captureWidth(){return this.cameraWidth}captureHeight(){return this.cameraHeight}captureFrameRate(){return this.cameraFrameRate}encodeBitrates(){return[this.maxEncodeBitrateKbps]}encodeScaleResolutionDownBy(){return[this.scaleResolutionDownBy]}encodeWidths(){return[this.cameraWidth]}encodeHeights(){return[this.cameraHeight]}isSVCEncoding(){return this.isSVC}}DefaultVideoCaptureAndEncodeParameter$1.default=DefaultVideoCaptureAndEncodeParameter;var VideoAdaptiveProbePolicy$1={},VideoPreference$1={},TargetDisplaySize={};(function(ts){Object.defineProperty(ts,"__esModule",{value:!0}),ts.TargetDisplaySize=void 0;var rs;(function(ns){ns[ns.Low=0]="Low",ns[ns.Medium=1]="Medium",ns[ns.High=2]="High",ns[ns.Maximum=3]="Maximum"})(rs=ts.TargetDisplaySize||(ts.TargetDisplaySize={})),ts.default=rs})(TargetDisplaySize);var __importDefault$B=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(VideoPreference$1,"__esModule",{value:!0});const TargetDisplaySize_1$1=__importDefault$B(TargetDisplaySize),VideoQualityAdaptationPreference_1$1=__importDefault$B(VideoQualityAdaptationPreference);class VideoPreference{constructor(rs,ns,os,ss){this.attendeeId=rs,this.priority=ns,this.targetSize=os!==void 0?os:TargetDisplaySize_1$1.default.Maximum,this.degradationPreference=ss!==void 0?ss:VideoQualityAdaptationPreference_1$1.default.Balanced}partialCompare(rs){return this.priority-rs.priority}equals(rs){return this.attendeeId===rs.attendeeId&&this.targetSize===rs.targetSize&&this.priority===rs.priority&&this.degradationPreference===rs.degradationPreference}clone(){return new VideoPreference(this.attendeeId,this.priority,this.targetSize,this.degradationPreference)}targetSizeToBitrateKbps(rs){switch(rs){case TargetDisplaySize_1$1.default.Maximum:return VideoPreference.MAXIMUM_BITRATE_KBPS;case TargetDisplaySize_1$1.default.High:return VideoPreference.HIGH_BITRATE_KBPS;case TargetDisplaySize_1$1.default.Medium:return VideoPreference.MID_BITRATE_KBPS;case TargetDisplaySize_1$1.default.Low:return VideoPreference.LOW_BITRATE_KBPS}}}VideoPreference$1.default=VideoPreference;VideoPreference.LOW_BITRATE_KBPS=300;VideoPreference.MID_BITRATE_KBPS=600;VideoPreference.HIGH_BITRATE_KBPS=1500;VideoPreference.MAXIMUM_BITRATE_KBPS=1e4;var VideoPriorityBasedPolicy$1={},VideoSource$1={};Object.defineProperty(VideoSource$1,"__esModule",{value:!0});class VideoSource{}VideoSource$1.default=VideoSource;var VideoPriorityBasedPolicyConfig$1={},__importDefault$A=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(VideoPriorityBasedPolicyConfig$1,"__esModule",{value:!0});const ServerSideNetworkAdaption_1$2=__importDefault$A(ServerSideNetworkAdaption);class VideoPriorityBasedPolicyConfig{constructor(rs=0,ns=0){this.networkIssueResponseDelayFactor=rs,this.networkIssueRecoveryDelayFactor=ns,this.currentNetworkEvent=0,this.bandwidthDecreaseTimestamp=0,this.referenceBitrate=0,this.serverSideNetworkAdaption=ServerSideNetworkAdaption_1$2.default.BandwidthProbingAndRemoteVideoQualityAdaption,rs<0?rs=0:rs>1&&(rs=1),this.networkIssueResponseDelayFactor=rs,ns<0?ns=0:ns>1&&(ns=1),this.networkIssueRecoveryDelayFactor=ns}allowSubscribe(rs,ns){let os=0;const ss=this.currentNetworkEvent;if(ns>this.referenceBitrate)return this.currentNetworkEvent=2,this.referenceBitrate=ns,!0;if(ns<this.referenceBitrate){if(this.currentNetworkEvent=1,os=this.getSubscribeDelay(this.currentNetworkEvent,rs),ss!==1)this.bandwidthDecreaseTimestamp=Date.now();else if(Date.now()-this.bandwidthDecreaseTimestamp>os)return this.referenceBitrate=ns,!0;return!1}else return this.currentNetworkEvent=0,!1}getSubscribeDelay(rs,ns){let os=VideoPriorityBasedPolicyConfig.MINIMUM_DELAY_MS;const ss=VideoPriorityBasedPolicyConfig.MAXIMUM_DELAY_MS-VideoPriorityBasedPolicyConfig.MINIMUM_DELAY_MS,as=this.networkIssueResponseDelayFactor;switch(rs){case 1:os+=ss*as*(1+ns/10),os=Math.min(VideoPriorityBasedPolicyConfig.MAXIMUM_DELAY_MS,os);break}return os}}VideoPriorityBasedPolicyConfig$1.default=VideoPriorityBasedPolicyConfig;VideoPriorityBasedPolicyConfig.MINIMUM_DELAY_MS=2e3;VideoPriorityBasedPolicyConfig.MAXIMUM_DELAY_MS=8e3;VideoPriorityBasedPolicyConfig.Default=new VideoPriorityBasedPolicyConfig(0,0);VideoPriorityBasedPolicyConfig.UnstableNetworkPreset=new VideoPriorityBasedPolicyConfig(0,1);VideoPriorityBasedPolicyConfig.StableNetworkPreset=new VideoPriorityBasedPolicyConfig(1,0);var __createBinding$1=commonjsGlobal$1&&commonjsGlobal$1.__createBinding||(Object.create?function(ts,rs,ns,os){os===void 0&&(os=ns),Object.defineProperty(ts,os,{enumerable:!0,get:function(){return rs[ns]}})}:function(ts,rs,ns,os){os===void 0&&(os=ns),ts[os]=rs[ns]}),__setModuleDefault=commonjsGlobal$1&&commonjsGlobal$1.__setModuleDefault||(Object.create?function(ts,rs){Object.defineProperty(ts,"default",{enumerable:!0,value:rs})}:function(ts,rs){ts.default=rs}),__importStar$1=commonjsGlobal$1&&commonjsGlobal$1.__importStar||function(ts){if(ts&&ts.__esModule)return ts;var rs={};if(ts!=null)for(var ns in ts)ns!=="default"&&Object.prototype.hasOwnProperty.call(ts,ns)&&__createBinding$1(rs,ts,ns);return __setModuleDefault(rs,ts),rs},__importDefault$z=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(VideoPriorityBasedPolicy$1,"__esModule",{value:!0});const Attendee_1=__importDefault$z(Attendee$1),ClientMetricReportDirection_1=__importDefault$z(ClientMetricReportDirection),ClientMetricReportMediaType_1=__importDefault$z(ClientMetricReportMediaType),ContentShareConstants_1$2=__importDefault$z(ContentShareConstants$1),LogLevel_1$4=LogLevel,ServerSideNetworkAdaption_1$1=__importStar$1(ServerSideNetworkAdaption),VideoSource_1=__importDefault$z(VideoSource$1),DefaultVideoStreamIdSet_1$2=__importDefault$z(DefaultVideoStreamIdSet$1),AllHighestVideoBandwidthPolicy_1=__importDefault$z(AllHighestVideoBandwidthPolicy$1),TargetDisplaySize_1=__importDefault$z(TargetDisplaySize),VideoPreference_1$1=__importDefault$z(VideoPreference$1),VideoPreferences_1$1=VideoPreferences$1,VideoPriorityBasedPolicyConfig_1$1=__importDefault$z(VideoPriorityBasedPolicyConfig$1),VideoQualityAdaptationPreference_1=__importDefault$z(VideoQualityAdaptationPreference);class LinkMediaStats{constructor(){this.bandwidthEstimateKbps=0,this.usedBandwidthKbps=0,this.packetsLost=0,this.nackCount=0,this.rttMs=0}}class VideoPriorityBasedPolicy{constructor(rs,ns=VideoPriorityBasedPolicyConfig_1$1.default.Default){this.logger=rs,this.videoPriorityBasedPolicyConfig=ns,this.shouldPauseTiles=!0,this.observerQueue=new Set,this.pausedBwAttendeeIds=new Set,this.wantsResubscribeObserver=void 0,this.videoPriorityBasedPolicyConfig.serverSideNetworkAdaption===ServerSideNetworkAdaption_1$1.default.Default&&(this.videoPriorityBasedPolicyConfig.serverSideNetworkAdaption=ServerSideNetworkAdaption_1$1.default.BandwidthProbingAndRemoteVideoQualityAdaption),this.reset()}reset(){this.allHighestPolicy=new AllHighestVideoBandwidthPolicy_1.default(""),this.optimalReceiveSet=new DefaultVideoStreamIdSet_1$2.default,this.optimalReceiveStreams=[],this.optimalNonPausedReceiveStreams=[],this.subscribedReceiveSet=new DefaultVideoStreamIdSet_1$2.default,this.subscribedReceiveStreams=[],this.videoPreferences=void 0,this.defaultVideoPreferences=void 0,this.shouldPauseTiles=!0,this.pausedStreamIds=new DefaultVideoStreamIdSet_1$2.default,this.pausedBwAttendeeIds=new Set,this.videoPreferencesUpdated=!1,this.logCount=0,this.startupPeriod=!0,this.usingPrevTargetRate=!1,this.rateProbeState="Not Probing",this.firstEstimateTimestamp=0,this.lastUpgradeRateKbps=0,this.timeBeforeAllowSubscribeMs=VideoPriorityBasedPolicy.MIN_TIME_BETWEEN_SUBSCRIBE_MS,this.lastProbeTimestamp=Date.now(),this.timeBeforeAllowProbeMs=VideoPriorityBasedPolicy.MIN_TIME_BETWEEN_PROBE_MS,this.downlinkStats=new LinkMediaStats,this.prevDownlinkStats=new LinkMediaStats,this.probeFailed=!1,this.serverSideNetworkAdaption=this.videoPriorityBasedPolicyConfig.serverSideNetworkAdaption,this.pendingActionAfterUpdatedPreferences=!1}bindToTileController(rs){this.tileController=rs,this.logger.info("tileController bound")}setWantsResubscribeObserver(rs){this.wantsResubscribeObserver=rs}chooseRemoteVideoSources(rs){var ns;if(!(!((ns=this.videoPreferences)===null||ns===void 0)&&ns.equals(rs))){if(this.videoPreferences=rs==null?void 0:rs.clone(),!ServerSideNetworkAdaption_1$1.serverSideNetworkAdaptionIsNoneOrDefault(this.serverSideNetworkAdaption)&&(this.pendingActionAfterUpdatedPreferences=!0,this.wantsResubscribeObserver!==void 0&&(this.wantsResubscribeObserver(),this.pendingActionAfterUpdatedPreferences=!1),this.serverSideNetworkAdaption===ServerSideNetworkAdaption_1$1.default.BandwidthProbingAndRemoteVideoQualityAdaption)){const os=new Array;for(const ss of this.videoPreferences){const as=new VideoSource_1.default;as.attendee=new Attendee_1.default,as.attendee.attendeeId=ss.attendeeId,os.push(as)}this.allHighestPolicy.chooseRemoteVideoSources(os);return}this.videoPreferencesUpdated=!0,this.logger.info("bwe: setVideoPreferences bwe: new preferences: ".concat(JSON.stringify(rs)))}}updateIndex(rs){this.videoIndex=rs,this.serverSideNetworkAdaption===ServerSideNetworkAdaption_1$1.default.BandwidthProbingAndRemoteVideoQualityAdaption&&this.allHighestPolicy.updateIndex(rs),this.videoPreferences||this.updateDefaultVideoPreferences()}updateDefaultVideoPreferences(){const rs=new Set;for(const as of this.videoIndex.remoteStreamDescriptions())rs.add(as.attendeeId);const ns=VideoPreferences_1$1.VideoPreferences.prepare(),os=rs.size;let ss=TargetDisplaySize_1.default.Maximum;os>8?ss=TargetDisplaySize_1.default.Low:os>4&&(ss=TargetDisplaySize_1.default.Medium);for(const as of rs)ns.add(new VideoPreference_1$1.default(as,1,ss));this.defaultVideoPreferences=ns.build()}updateMetrics(rs){if(!this.videoIndex||this.videoIndex.allStreams().empty())return;this.prevDownlinkStats=this.downlinkStats,this.downlinkStats=new LinkMediaStats;const ns=rs.getObservableMetrics();this.downlinkStats.bandwidthEstimateKbps=ns.availableIncomingBitrate/1e3;for(const os in rs.streamMetricReports){const ss=Number.parseInt(os,10),as=rs.streamMetricReports[ss];as.direction===ClientMetricReportDirection_1.default.DOWNSTREAM&&as.mediaType===ClientMetricReportMediaType_1.default.VIDEO&&(as.currentMetrics.hasOwnProperty("nackCount")&&(this.downlinkStats.nackCount+=rs.countPerSecond("nackCount",ss)),as.currentMetrics.hasOwnProperty("packetsLost")&&(this.downlinkStats.packetsLost+=rs.countPerSecond("packetsLost",ss)),as.currentMetrics.hasOwnProperty("bytesReceived")&&(this.downlinkStats.usedBandwidthKbps+=rs.bitsPerSecond("bytesReceived",ss)/1e3))}}wantsResubscribe(){let rs=!1;return!ServerSideNetworkAdaption_1$1.serverSideNetworkAdaptionIsNoneOrDefault(this.serverSideNetworkAdaption)&&(rs||(rs=this.pendingActionAfterUpdatedPreferences),this.serverSideNetworkAdaption===ServerSideNetworkAdaption_1$1.default.BandwidthProbingAndRemoteVideoQualityAdaption)?rs||this.allHighestPolicy.wantsResubscribe():(this.calculateOptimalReceiveSet(),rs||(rs=!this.subscribedReceiveSet.equal(this.optimalReceiveSet)),rs)}chooseSubscriptions(){return!ServerSideNetworkAdaption_1$1.serverSideNetworkAdaptionIsNoneOrDefault(this.serverSideNetworkAdaption)&&(this.pendingActionAfterUpdatedPreferences=!1,this.serverSideNetworkAdaption===ServerSideNetworkAdaption_1$1.default.BandwidthProbingAndRemoteVideoQualityAdaption)?this.allHighestPolicy.chooseSubscriptions():(this.subscribedReceiveSet.equal(this.optimalReceiveSet)||(this.lastSubscribeTimestamp=Date.now()),this.subscribedReceiveSet=this.optimalReceiveSet.clone(),this.subscribedReceiveStreams=this.optimalReceiveStreams.slice(),this.subscribedReceiveSet.clone())}addObserver(rs){this.observerQueue.add(rs)}removeObserver(rs){this.observerQueue.delete(rs)}forEachObserver(rs){for(const ns of this.observerQueue)rs(ns)}setVideoPriorityBasedPolicyConfigs(rs){this.videoPriorityBasedPolicyConfig=rs}calculateOptimalReceiveStreams(){var rs;const ns=[],os=this.videoIndex.remoteStreamDescriptions();if(os.length===0||!((rs=this.videoPreferences)===null||rs===void 0)&&rs.isEmpty()){this.optimalReceiveStreams=[];return}const ss=this.rateProbeState;this.cleanBwPausedTiles(os),this.handleAppPausedStreams(ns,os);const as=new Map;for(const Ss of this.getCurrentVideoPreferences())as.set(Ss.attendeeId,Ss);const ls=os.filter(Ss=>as.has(Ss.attendeeId)),cs=!this.streamsWithPreferenceDidChange(ls),us=!this.startupPeriod&&cs;if(us&&Date.now()-this.lastSubscribeTimestamp<this.timeBeforeAllowSubscribeMs)return;ls.sort((Ss,Cs)=>Ss.maxBitrateKbps===Cs.maxBitrateKbps?Ss.streamId-Cs.streamId:Ss.maxBitrateKbps-Cs.maxBitrateKbps);for(const Ss of ls)(Ss.avgBitrateKbps===0||Ss.avgBitrateKbps>Ss.maxBitrateKbps)&&(Ss.attendeeId.endsWith(ContentShareConstants_1$2.default.Modality)&&Ss.maxBitrateKbps<100?Ss.maxBitrateKbps=Ss.avgBitrateKbps:Ss.avgBitrateKbps=Ss.maxBitrateKbps);const ds=new Set;for(const Ss of this.getCurrentVideoPreferences()){const Cs=ls.filter(Ts=>Ts.attendeeId===Ss.attendeeId);if(Cs.length<3)continue;let $s=15,Es=320*480;Cs.forEach(Ts=>{$s=Math.max($s,Ts.maxFrameRate),Es=Math.max(Es,Ts.totalPixels())}),Cs.sort((Ts,Is)=>{if(Ss.degradationPreference===VideoQualityAdaptationPreference_1.default.MaintainResolution)return Math.abs(Ts.maxFrameRate-Is.maxFrameRate)<2?Ts.totalPixels()-Is.totalPixels():Ts.maxFrameRate-Is.maxFrameRate;if(Ss.degradationPreference===VideoQualityAdaptationPreference_1.default.MaintainFramerate)return Ts.totalPixels()===Is.totalPixels()?Ts.maxFrameRate-Is.maxFrameRate:Ts.totalPixels()-Is.totalPixels();{const ks=Ms=>Ms.avgBitrateKbps*Math.pow(2,5*Ms.maxFrameRate/$s*Math.pow(4,Ms.totalPixels()/Es));return ks(Ts)-ks(Is)}});let ws;for(const Ts of Cs){if(ws!==void 0&&(Ts.maxFrameRate<ws.maxFrameRate&&Math.abs(ws.maxFrameRate-Ts.maxFrameRate)>2||Ts.totalPixels()<ws.totalPixels())){ds.add(Ts.streamId);continue}ws=Ts}}const ps=ls.filter(Ss=>!ds.has(Ss.streamId));this.logger.info("Filtered to ".concat(JSON.stringify(ps)));const fs={targetDownlinkBitrate:0,chosenTotalBitrate:0,deltaToNextUpgrade:0};fs.targetDownlinkBitrate=this.determineTargetRate();const hs=this.subscribedReceiveSet.size(),ms=this.downlinkStats.bandwidthEstimateKbps,gs=!this.videoPriorityBasedPolicyConfig.allowSubscribe(hs,ms);if(this.probeFailed&&(this.probeFailed=!1,this.timeBeforeAllowSubscribeMs=VideoPriorityBasedPolicy.MIN_TIME_BETWEEN_SUBSCRIBE_MS,us&&gs))return;const vs=this.priorityPolicy(fs,ps,ns),bs=!ServerSideNetworkAdaption_1$1.serverSideNetworkAdaptionIsNoneOrDefault(this.serverSideNetworkAdaption);let xs=0;if(!bs&&!this.startupPeriod&&cs?this.rateProbeState==="Probing"?xs=this.handleProbe(ns,fs.targetDownlinkBitrate):fs.deltaToNextUpgrade!==0&&(xs=this.maybeOverrideOrProbe(ns,fs,vs)):(this.setProbeState("Not Probing"),this.lastUpgradeRateKbps=0),this.previousStreamsWithPreference=ls,this.videoPreferencesUpdated=!1,xs===1){this.logger.info("bwe: keepSameSubscriptions stats:".concat(JSON.stringify(this.downlinkStats))),this.prevTargetRateKbps=fs.targetDownlinkBitrate;return}if(xs===2){const Ss=this.calculateSubscribeRate(this.preProbeNonPausedReceiveStreams);this.optimalReceiveStreams=this.preProbeReceiveStreams.slice(),this.processBwPausedStreams(ls,this.preProbeNonPausedReceiveStreams),this.logger.info("bwe: Use Pre-Probe subscription subscribedRate:"+Ss);return}this.optimalNonPausedReceiveStreams=ns.slice();const ys=this.pausedBwAttendeeIds.size;this.processBwPausedStreams(ls,ns),this.logger.getLogLevel()<=LogLevel_1$4.LogLevel.INFO&&(this.logCount%15===0||this.rateProbeState!==ss||this.optimalReceiveStreams.length!==ns.length||ys!==this.pausedBwAttendeeIds.size)&&(this.logger.info(this.policyStateLogStr(os,fs.targetDownlinkBitrate)),this.logCount=0),this.logCount++,this.prevTargetRateKbps=fs.targetDownlinkBitrate,this.optimalReceiveStreams=ns.slice()}calculateOptimalReceiveSet(){const rs=new DefaultVideoStreamIdSet_1$2.default;this.calculateOptimalReceiveStreams();for(const ns of this.optimalReceiveStreams)rs.add(ns.streamId);if(!this.optimalReceiveSet.equal(rs)){const ns=this.calculateSubscribeRate(this.optimalReceiveStreams);this.logger.info("bwe: new streamSelection: ".concat(JSON.stringify(rs)," subscribedRate:").concat(ns))}this.optimalReceiveSet=rs}determineTargetRate(){let rs=0;const ns=Date.now();return this.downlinkStats.bandwidthEstimateKbps!==0?(this.firstEstimateTimestamp===0&&(this.firstEstimateTimestamp=ns),this.startupPeriod&&(this.downlinkStats.bandwidthEstimateKbps>VideoPriorityBasedPolicy.DEFAULT_BANDWIDTH_KBPS||this.downlinkStats.packetsLost>0||ns-this.firstEstimateTimestamp>VideoPriorityBasedPolicy.STARTUP_PERIOD_MS&&this.downlinkStats.bandwidthEstimateKbps<=this.prevDownlinkStats.bandwidthEstimateKbps)&&(this.startupPeriod=!1,this.prevTargetRateKbps=this.downlinkStats.bandwidthEstimateKbps),this.startupPeriod?rs=VideoPriorityBasedPolicy.DEFAULT_BANDWIDTH_KBPS:this.rateProbeState==="Probing"&&this.downlinkStats.usedBandwidthKbps>this.downlinkStats.bandwidthEstimateKbps&&this.downlinkStats.packetsLost<VideoPriorityBasedPolicy.SPURIOUS_PACKET_LOST_THRESHOLD?(this.logger.info("bwe: In probe state, overriding estimate ".concat(this.downlinkStats.bandwidthEstimateKbps," with actual receive bitrate ").concat(this.downlinkStats.usedBandwidthKbps)),rs=this.downlinkStats.usedBandwidthKbps+VideoPriorityBasedPolicy.USED_BANDWIDTH_OVERRIDE_BUFFER_KBPS):rs=this.downlinkStats.bandwidthEstimateKbps):this.firstEstimateTimestamp===0?rs=VideoPriorityBasedPolicy.DEFAULT_BANDWIDTH_KBPS:rs=this.prevTargetRateKbps,!this.startupPeriod&&(this.usingPrevTargetRate&&this.downlinkStats.bandwidthEstimateKbps<this.prevTargetRateKbps||this.downlinkStats.bandwidthEstimateKbps<this.prevTargetRateKbps*(100-VideoPriorityBasedPolicy.LARGE_RATE_CHANGE_TRIGGER_PERCENT)/100||this.downlinkStats.bandwidthEstimateKbps<this.downlinkStats.usedBandwidthKbps*VideoPriorityBasedPolicy.LARGE_RATE_CHANGE_TRIGGER_PERCENT/100)&&this.downlinkStats.packetsLost===0?(this.logger.debug(()=>"bwe: ValidateRate: Using Previous rate "+this.prevTargetRateKbps),this.usingPrevTargetRate=!0,rs=this.prevTargetRateKbps):this.usingPrevTargetRate=!1,rs>15e3&&this.logger.warn("bwe: "+rs+" exceeds maximum limit (15000). Limit TargetDisplaySize with VideoPreferences to avoid this."),Math.min(rs,15e3)}setProbeState(rs){if(this.rateProbeState===rs)return!1;const ns=Date.now();switch(rs){case"Not Probing":this.probePendingStartTimestamp=0;break;case"Probe Pending":if(this.lastProbeTimestamp===0||ns-this.lastProbeTimestamp>VideoPriorityBasedPolicy.MIN_TIME_BETWEEN_PROBE_MS)this.probePendingStartTimestamp=ns;else return!1;break;case"Probing":if(ns-this.probePendingStartTimestamp>this.timeBeforeAllowProbeMs)this.lastProbeTimestamp=ns,this.preProbeReceiveStreams=this.subscribedReceiveStreams.slice(),this.preProbeNonPausedReceiveStreams=this.optimalNonPausedReceiveStreams,this.timeBeforeAllowProbeMs=Math.min(this.timeBeforeAllowProbeMs*2,VideoPriorityBasedPolicy.MAX_HOLD_BEFORE_PROBE_MS);else return!1;break}return this.logger.info("bwe: setProbeState to "+rs+" from "+this.rateProbeState),this.rateProbeState=rs,!0}upgradeToStream(rs,ns){for(let os=0;os<rs.length;os++)if(rs[os].groupId===ns.groupId){const ss=ns.avgBitrateKbps-rs[os].avgBitrateKbps;return this.logger.info("bwe: upgradeStream from "+JSON.stringify(rs[os])+" to "+ns),this.lastUpgradeRateKbps=ss,rs[os]=ns,ss}return rs.push(ns),this.lastUpgradeRateKbps=ns.avgBitrateKbps,this.lastUpgradeRateKbps}handleProbe(rs,ns){if(Date.now()-this.lastProbeTimestamp>VideoPriorityBasedPolicy.MAX_ALLOWED_PROBE_TIME_MS)return this.logger.info("bwe: Canceling probe due to timeout"),this.setProbeState("Not Probing"),0;if(this.downlinkStats.packetsLost>0&&(this.logger.info("bwe: Probe encountering packets lost:".concat(this.downlinkStats.packetsLost)),this.downlinkStats.packetsLost>VideoPriorityBasedPolicy.SPURIOUS_PACKET_LOST_THRESHOLD))return this.setProbeState("Not Probing"),this.logger.info("bwe: Canceling probe due to packets lost:".concat(this.downlinkStats.packetsLost)),this.probeFailed=!0,this.timeBeforeAllowSubscribeMs=Math.max(VideoPriorityBasedPolicy.MIN_TIME_BETWEEN_SUBSCRIBE_MS,this.timeBeforeAllowSubscribeMs)*3,2;const os=this.calculateSubscribeRate(this.optimalReceiveStreams);return this.chosenStreamsSameAsLast(rs)||ns>os?(this.logger.info("bwe: Probe successful"),this.setProbeState("Not Probing"),this.timeBeforeAllowProbeMs=VideoPriorityBasedPolicy.MIN_TIME_BETWEEN_PROBE_MS,0):1}maybeOverrideOrProbe(rs,ns,os){const ss=this.chosenStreamsSameAsLast(rs);let as=0;const ls=ns.targetDownlinkBitrate>VideoPriorityBasedPolicy.LOW_BITRATE_THRESHOLD_KBPS?VideoPriorityBasedPolicy.TARGET_RATE_CHANGE_TRIGGER_PERCENT:VideoPriorityBasedPolicy.TARGET_RATE_CHANGE_TRIGGER_PERCENT*2,cs=ns.targetDownlinkBitrate*ls/100;if(this.targetRateBaselineForDeltaCheckKbps=this.targetRateBaselineForDeltaCheckKbps!==void 0?this.targetRateBaselineForDeltaCheckKbps:this.prevTargetRateKbps,!ss&&Math.abs(ns.targetDownlinkBitrate-this.targetRateBaselineForDeltaCheckKbps)<cs?(this.logger.info("bwe: MaybeOverrideOrProbe: Reuse last decision based on delta rate. {"+JSON.stringify(this.subscribedReceiveSet)+"}"),as=1):this.targetRateBaselineForDeltaCheckKbps=ns.targetDownlinkBitrate,this.downlinkStats.packetsLost>this.prevDownlinkStats.packetsLost)return this.setProbeState("Not Probing"),this.lastUpgradeRateKbps=0,as;if(ss||as===1)switch(this.rateProbeState){case"Not Probing":this.setProbeState("Probe Pending");break;case"Probe Pending":this.setProbeState("Probing")&&(this.upgradeToStream(rs,os),as=0);break}else this.setProbeState("Not Probing");return as}calculateSubscribeRate(rs){let ns=0;for(const os of rs)!this.pausedStreamIds.contain(os.streamId)&&!this.pausedBwAttendeeIds.has(os.attendeeId)&&(ns+=os.maxBitrateKbps);return ns}handleAppPausedStreams(rs,ns){if(!this.tileController){this.logger.warn("tileController not found!");return}this.pausedStreamIds=new DefaultVideoStreamIdSet_1$2.default;const os=this.tileController.getAllRemoteVideoTiles();for(const ss of os){const as=ss.state();if(as.paused&&!this.pausedBwAttendeeIds.has(as.boundAttendeeId)){let ls=ns.length;for(;ls--;)ns[ls].attendeeId===as.boundAttendeeId&&(this.logger.info("bwe: removed paused attendee "+as.boundAttendeeId+" streamId: "+ns[ls].streamId),this.pausedStreamIds.add(ns[ls].streamId),this.subscribedReceiveSet.contain(ns[ls].streamId)&&rs.push(ns[ls]),ns.splice(ls,1))}}}processBwPausedStreams(rs,ns){if(!this.tileController){this.logger.warn("tileController not found!");return}const os=this.getCurrentVideoPreferences();if(os&&this.shouldPauseTiles){const ss=this.tileController.getAllVideoTiles();for(const as of os){const ls=this.getVideoTileForAttendeeId(as.attendeeId,ss),cs=(ls==null?void 0:ls.state().paused)||!1;if(ns.some(us=>us.attendeeId===as.attendeeId))cs&&this.pausedBwAttendeeIds.has(as.attendeeId)&&(this.logger.info("bwe: unpausing attendee ".concat(as.attendeeId," due to bandwidth")),this.forEachObserver(us=>{us.tileWillBeUnpausedByDownlinkPolicy(ls.id())}),this.tileController.unpauseVideoTile(ls.id()),this.pausedBwAttendeeIds.delete(as.attendeeId));else{const us=rs.some(ds=>ds.attendeeId===as.attendeeId);if(ls&&us){const ds=this.optimalReceiveStreams.find(ps=>ps.attendeeId===as.attendeeId);ds!==void 0&&(cs||(this.logger.info("bwe: pausing streamId ".concat(ds.streamId," attendee ").concat(as.attendeeId," due to bandwidth")),this.forEachObserver(ps=>{ps.tileWillBePausedByDownlinkPolicy(ls.id())}),this.tileController.pauseVideoTile(ls.id())),ns.push(ds)),this.pausedBwAttendeeIds.add(as.attendeeId)}else if(us){const ds=this.tileController.addVideoTile();ds.bindVideoStream(as.attendeeId,!1,null,0,0,0,null),this.forEachObserver(ps=>{ps.tileWillBePausedByDownlinkPolicy(ds.id())}),ds.pause(),this.logger.info("bwe: Created video tile ".concat(ds.id()," for bw paused attendee ").concat(as.attendeeId)),this.pausedBwAttendeeIds.add(as.attendeeId)}}}}}cleanBwPausedTiles(rs){if(!this.tileController){this.logger.warn("tileController not found!");return}const ns=this.tileController.getAllRemoteVideoTiles(),os=this.getCurrentVideoPreferences();for(const ss of ns){const as=ss.state();as.boundVideoStream||(rs.some(ls=>ls.attendeeId===as.boundAttendeeId)?os!==void 0&&!os.some(ls=>ls.attendeeId===as.boundAttendeeId)&&this.tileController.removeVideoTile(as.tileId):(this.tileController.removeVideoTile(as.tileId),this.logger.info("bwe: Removed video tile ".concat(as.tileId," for bw paused attendee ").concat(as.boundAttendeeId))))}}priorityPolicy(rs,ns,os){let ss;const as=this.getCurrentVideoPreferences(),ls=as.highestPriority();let cs,us=ls;for(;us!==-1;){cs=-1;for(const ds of as)if(ds.priority===us)for(const ps of ns)ps.attendeeId===ds.attendeeId&&(os.some(fs=>fs.groupId===ps.groupId)||(rs.chosenTotalBitrate+ps.avgBitrateKbps<=rs.targetDownlinkBitrate?(os.push(ps),rs.chosenTotalBitrate+=ps.avgBitrateKbps):rs.deltaToNextUpgrade===0&&(rs.deltaToNextUpgrade=ps.avgBitrateKbps,ss=ps)));else if(ds.priority>us){cs=ds.priority;break}for(const ds of as)if(ds.priority===us){for(const ps of ns)if(ps.attendeeId===ds.attendeeId){const fs=os.findIndex(hs=>hs.groupId===ps.groupId&&hs.maxBitrateKbps<=ps.maxBitrateKbps&&hs.avgBitrateKbps<ps.avgBitrateKbps);if(fs!==-1){const hs=ps.avgBitrateKbps-os[fs].avgBitrateKbps;this.hasSimulcastStreams(ns,ps.attendeeId,ps.groupId)&&this.canUpgrade(ps.avgBitrateKbps,ds.targetSize,ds.targetSizeToBitrateKbps(ds.targetSize),ps.attendeeId.endsWith(ContentShareConstants_1$2.default.Modality))?(this.logger.info("bwe: attendee: ".concat(ps.attendeeId," group: ").concat(ps.groupId," has simulcast and can upgrade avgBitrate: ").concat(ps.avgBitrateKbps," target: ").concat(ds.targetSizeToBitrateKbps(ds.targetSize)," targetTotalBitrate: ").concat(rs.targetDownlinkBitrate)),rs.chosenTotalBitrate+hs<=rs.targetDownlinkBitrate?(rs.chosenTotalBitrate+=hs,os[fs]=ps):rs.deltaToNextUpgrade===0&&(rs.deltaToNextUpgrade=hs,ss=ps)):this.logger.info("bwe: cannot upgrade stream quality beyond target size")}}}else if(ds.priority>us)break;if(us===ls&&rs.deltaToNextUpgrade!==0)break;us=cs}return ss}getVideoTileForAttendeeId(rs,ns){for(const os of ns)if(os.state().boundAttendeeId===rs)return os;return null}canUpgrade(rs,ns,os,ss){let as=!1;return(ns===TargetDisplaySize_1.default.High||!ss&&rs<=os||ss&&ns===TargetDisplaySize_1.default.Medium&&rs<=os)&&(as=!0),as?(this.logger.info("bwe: canUpgrade: bitrateKbps: ".concat(rs," targetBitrateKbps: ").concat(os)),!0):(this.logger.info("bwe: cannot Upgrade: bitrateKbps: ".concat(rs," targetBitrateKbps: ").concat(os)),!1)}hasSimulcastStreams(rs,ns,os){let ss=0;for(const as of rs)as.attendeeId===ns&&as.groupId===os&&ss++;return this.logger.info("bwe: attendeeId: ".concat(ns," groupId: ").concat(os," hasSimulcastStreams: streamCount: ").concat(ss)),ss>1}streamsWithPreferenceDidChange(rs){if(this.previousStreamsWithPreference===void 0||rs.length!==this.previousStreamsWithPreference.length||this.videoPreferencesUpdated===!0)return!0;for(const ns of rs)if(this.previousStreamsWithPreference.find(ss=>ss.groupId===ns.groupId&&ss.streamId===ns.streamId&&ss.maxBitrateKbps===ns.maxBitrateKbps)===void 0)return!0;return!1}chosenStreamsSameAsLast(rs){if(this.optimalNonPausedReceiveStreams.length!==rs.length)return!1;for(const ns of this.optimalNonPausedReceiveStreams)if(!rs.some(os=>os.streamId===ns.streamId))return!1;return!0}policyStateLogStr(rs,ns){const os=this.calculateSubscribeRate(this.optimalReceiveStreams),ss={targetBitrate:ns,subscribedRate:os,probeState:this.rateProbeState,startupPeriod:this.startupPeriod};let as="remoteInfos: [";for(const cs of rs)as+="{grpId:".concat(cs.groupId," strId:").concat(cs.streamId," maxBr:").concat(cs.maxBitrateKbps," avgBr:").concat(cs.avgBitrateKbps,"}, ");as+="]";let ls="bwe: optimalReceiveSet ".concat(JSON.stringify(ss),"\n")+"bwe:   prev ".concat(JSON.stringify(this.prevDownlinkStats),"\n")+"bwe:   now  ".concat(JSON.stringify(this.downlinkStats),"\n")+"bwe:   ".concat(as,"\n");return(this.pausedStreamIds.size()>0||this.pausedBwAttendeeIds.size>0)&&(ls+="bwe:   paused: app stream ids ".concat(JSON.stringify(this.pausedStreamIds),"  bw attendees { ").concat(Array.from(this.pausedBwAttendeeIds).join(" ")," }\n")),this.videoPreferences?ls+="bwe:   preferences: ".concat(JSON.stringify(this.videoPreferences)):ls+="bwe:   default preferences: ".concat(JSON.stringify(this.defaultVideoPreferences)),ls}getCurrentVideoPreferences(){return this.videoPreferences||this.defaultVideoPreferences}getServerSideNetworkAdaption(){return this.serverSideNetworkAdaption}setServerSideNetworkAdaption(rs){this.serverSideNetworkAdaption=rs,this.setProbeState("Not Probing")}supportedServerSideNetworkAdaptions(){return[ServerSideNetworkAdaption_1$1.default.None,ServerSideNetworkAdaption_1$1.default.BandwidthProbing,ServerSideNetworkAdaption_1$1.default.BandwidthProbingAndRemoteVideoQualityAdaption]}getVideoPreferences(){let rs=this.getCurrentVideoPreferences();return rs||(rs=VideoPreferences_1$1.VideoPreferences.prepare().build()),rs}wantsAllTemporalLayersInIndex(){return!0}}VideoPriorityBasedPolicy$1.default=VideoPriorityBasedPolicy;VideoPriorityBasedPolicy.DEFAULT_BANDWIDTH_KBPS=2800;VideoPriorityBasedPolicy.STARTUP_PERIOD_MS=6e3;VideoPriorityBasedPolicy.LARGE_RATE_CHANGE_TRIGGER_PERCENT=20;VideoPriorityBasedPolicy.TARGET_RATE_CHANGE_TRIGGER_PERCENT=15;VideoPriorityBasedPolicy.LOW_BITRATE_THRESHOLD_KBPS=300;VideoPriorityBasedPolicy.MIN_TIME_BETWEEN_PROBE_MS=5e3;VideoPriorityBasedPolicy.MIN_TIME_BETWEEN_SUBSCRIBE_MS=2e3;VideoPriorityBasedPolicy.MAX_HOLD_BEFORE_PROBE_MS=3e4;VideoPriorityBasedPolicy.MAX_ALLOWED_PROBE_TIME_MS=6e4;VideoPriorityBasedPolicy.SPURIOUS_PACKET_LOST_THRESHOLD=2;VideoPriorityBasedPolicy.USED_BANDWIDTH_OVERRIDE_BUFFER_KBPS=100;var __importDefault$y=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(VideoAdaptiveProbePolicy$1,"__esModule",{value:!0});const ContentShareConstants_1$1=__importDefault$y(ContentShareConstants$1),ServerSideNetworkAdaption_1=__importDefault$y(ServerSideNetworkAdaption),VideoPreference_1=__importDefault$y(VideoPreference$1),VideoPreferences_1=VideoPreferences$1,VideoPriorityBasedPolicy_1=__importDefault$y(VideoPriorityBasedPolicy$1),VideoPriorityBasedPolicyConfig_1=__importDefault$y(VideoPriorityBasedPolicyConfig$1);class VideoAdaptiveProbePolicy extends VideoPriorityBasedPolicy_1.default{constructor(rs){super(rs,VideoAdaptiveProbePolicy.createConfig()),this.logger=rs,super.shouldPauseTiles=!1,this.videoPreferences=void 0}static createConfig(){const rs=new VideoPriorityBasedPolicyConfig_1.default;return rs.serverSideNetworkAdaption=ServerSideNetworkAdaption_1.default.None,rs}reset(){super.reset(),super.shouldPauseTiles=!1,this.videoPreferences=void 0}updateIndex(rs){super.updateIndex(rs);const ns=VideoPreferences_1.VideoPreferences.prepare();let os=!1;const ss=rs.remoteStreamDescriptions();for(const as of ss)ns.some(ls=>ls.attendeeId===as.attendeeId)||(as.attendeeId.endsWith(ContentShareConstants_1$1.default.Modality)?(ns.add(new VideoPreference_1.default(as.attendeeId,1)),os=!0):ns.add(new VideoPreference_1.default(as.attendeeId,2)));os?(this.videoPreferences=ns.build(),this.videoPreferencesUpdated=!0):this.videoPreferences=void 0}chooseRemoteVideoSources(rs){this.logger.error("chooseRemoteVideoSources should not be called by VideoAdaptiveProbePolicy")}}VideoAdaptiveProbePolicy$1.default=VideoAdaptiveProbePolicy;var DefaultVideoStreamIndex$1={},VideoStreamDescription$1={};Object.defineProperty(VideoStreamDescription$1,"__esModule",{value:!0});const SignalingProtocol_js_1$2=SignalingProtocol;class VideoStreamDescription{constructor(rs,ns,os,ss,as){this.attendeeId="",this.groupId=0,this.streamId=0,this.ssrc=0,this.trackLabel="",this.maxBitrateKbps=0,this.avgBitrateKbps=0,this.maxFrameRate=0,this.width=0,this.height=0,this.timeEnabled=0,this.disabledByWebRTC=!1,this.disabledByUplinkPolicy=!1,this.rid="",this.attendeeId=rs,this.groupId=ns,this.streamId=os,this.maxBitrateKbps=ss,this.avgBitrateKbps=as}clone(){const rs=new VideoStreamDescription;return rs.attendeeId=this.attendeeId,rs.groupId=this.groupId,rs.streamId=this.streamId,rs.ssrc=this.ssrc,rs.trackLabel=this.trackLabel,rs.maxBitrateKbps=this.maxBitrateKbps,rs.avgBitrateKbps=this.avgBitrateKbps,rs.maxFrameRate=this.maxFrameRate,rs.timeEnabled=this.timeEnabled,rs.disabledByUplinkPolicy=this.disabledByUplinkPolicy,rs.width=this.width,rs.height=this.height,rs}toStreamDescriptor(){const rs=SignalingProtocol_js_1$2.SdkStreamDescriptor.create();return rs.mediaType=SignalingProtocol_js_1$2.SdkStreamMediaType.VIDEO,rs.trackLabel=this.trackLabel,rs.attendeeId=this.attendeeId,rs.streamId=this.streamId,rs.groupId=this.groupId,rs.framerate=this.maxFrameRate,rs.maxBitrateKbps=this.disabledByUplinkPolicy?0:this.maxBitrateKbps,rs.avgBitrateBps=this.avgBitrateKbps,rs}totalPixels(){return this.width*this.height}}VideoStreamDescription$1.default=VideoStreamDescription;var __importDefault$x=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(DefaultVideoStreamIndex$1,"__esModule",{value:!0});const SignalingProtocol_js_1$1=SignalingProtocol,DefaultVideoStreamIdSet_1$1=__importDefault$x(DefaultVideoStreamIdSet$1),VideoStreamDescription_1$1=__importDefault$x(VideoStreamDescription$1);class DefaultVideoStreamIndex{constructor(rs){this.logger=rs,this.currentIndex=null,this.indexForSubscribe=null,this.indexForLastRemoteVideoUpdate=null,this.currentSubscribeAck=null,this.subscribeTrackToStreamMap=null,this.subscribeStreamToAttendeeMap=null,this.subscribeStreamToExternalUserIdMap=null,this.subscribeSsrcToStreamMap=null,this.subscribeSsrcToGroupMap=null,this.streamToAttendeeMap=null,this.groupIdToAttendeeMap=null,this.streamToExternalUserIdMap=null,this.videoStreamDescription=new VideoStreamDescription_1$1.default,this.sendVideoStreamId=0,this.videoStreamDescription.trackLabel="AmazonChimeExpressVideo",this.videoStreamDescription.streamId=2,this.videoStreamDescription.groupId=2}localStreamDescriptions(){return[this.videoStreamDescription.clone()]}convertBpsToKbps(rs){return rs>0&&rs<1e3?1:Math.trunc(rs/1e3)}remoteStreamDescriptions(){if(!this.currentIndex||!this.currentIndex.sources)return[];const rs=[];return this.currentIndex.sources.forEach(ns=>{const os=new VideoStreamDescription_1$1.default;os.attendeeId=ns.attendeeId,os.groupId=ns.groupId,os.streamId=ns.streamId,os.maxBitrateKbps=ns.maxBitrateKbps,os.avgBitrateKbps=this.convertBpsToKbps(ns.avgBitrateBps),os.width=ns.width,os.height=ns.height,os.maxFrameRate=ns.framerate,rs.push(os)}),rs}integrateUplinkPolicyDecision(rs){if(rs&&rs.length){const ns=rs[0];this.videoStreamDescription.maxBitrateKbps=ns.maxBitrate/1e3,this.videoStreamDescription.maxFrameRate=ns.maxFramerate}}integrateIndexFrame(rs){if(this.currentIndex=rs,!rs)return;const ns=new Map;let os=!1;for(const ss of rs.sources){if(!ns.has(ss.attendeeId)){ns.set(ss.attendeeId,ss.groupId);continue}const as=ns.get(ss.attendeeId);as<ss.groupId&&(this.logger.warn("Old group ID ".concat(as," found for attendee ID ").concat(ss.attendeeId,", replacing with newer group ID ").concat(ss.groupId)),ns.set(ss.attendeeId,ss.groupId)),os=!0}os&&(this.currentIndex.sources=this.currentIndex.sources.filter(ss=>ns.get(ss.attendeeId)===ss.groupId)),this.streamToAttendeeMap=null,this.groupIdToAttendeeMap=null,this.streamToExternalUserIdMap=null}subscribeFrameSent(){this.indexForSubscribe=this.currentIndex}remoteVideoUpdateSent(){this.indexForLastRemoteVideoUpdate=this.currentIndex}integrateSubscribeAckFrame(rs){this.currentSubscribeAck=rs,this.subscribeTrackToStreamMap=this.buildTrackToStreamMap(this.currentSubscribeAck),this.subscribeSsrcToStreamMap=this.buildSSRCToStreamMap(this.currentSubscribeAck),this.subscribeSsrcToGroupMap=this.buildSSRCToGroupMap(this.currentSubscribeAck),this.subscribeStreamToAttendeeMap=this.buildStreamToAttendeeMap(this.indexForSubscribe),this.subscribeStreamToExternalUserIdMap=this.buildStreamExternalUserIdMap(this.indexForSubscribe),this.sendVideoStreamId=0,rs.allocations&&rs.allocations!==void 0&&rs.allocations.length>0&&(this.sendVideoStreamId=rs.allocations[0].streamId)}integrateBitratesFrame(rs){if(this.currentIndex)for(const ns of rs.bitrates){const os=this.currentIndex.sources.find(ss=>ss.streamId===ns.sourceStreamId);os!==void 0&&(os.avgBitrateBps=ns.avgBitrateBps)}}allStreams(){const rs=new DefaultVideoStreamIdSet_1$1.default;if(this.currentIndex)for(const ns of this.currentIndex.sources)rs.add(ns.streamId);return rs}allVideoSendingSourcesExcludingSelf(rs){const ns=[],os=new Set;if(this.currentIndex&&this.currentIndex.sources&&this.currentIndex.sources.length)for(const ss of this.currentIndex.sources){const{attendeeId:as,externalUserId:ls,mediaType:cs}=ss;as!==rs&&cs===SignalingProtocol_js_1$1.SdkStreamMediaType.VIDEO&&(os.has(as)||(ns.push({attendee:{attendeeId:as,externalUserId:ls}}),os.add(as)))}return ns}streamSelectionUnderBandwidthConstraint(rs,ns,os,ss){const as=new Set;if(this.currentIndex)for(const ps of this.currentIndex.sources)ps.attendeeId===rs||ps.mediaType!==SignalingProtocol_js_1$1.SdkStreamMediaType.VIDEO||!ns.has(ps.attendeeId)&&!os.has(ps.attendeeId)&&as.add(ps.attendeeId);const ls=this.buildAttendeeToSortedStreamDescriptorMapExcludingSelf(rs),cs=new Map;let us=0;ls.forEach((ps,fs)=>{cs.set(fs,ps[0]),us+=ps[0].maxBitrateKbps}),us=this.trySelectHighBitrateForAttendees(ls,ns,us,ss,cs),this.trySelectHighBitrateForAttendees(ls,as,us,ss,cs);const ds=new DefaultVideoStreamIdSet_1$1.default;for(const ps of cs.values())ds.add(ps.streamId);return ds}highestQualityStreamFromEachGroupExcludingSelf(rs){const ns=new DefaultVideoStreamIdSet_1$1.default;if(this.currentIndex){const os=new Map;for(const ss of this.currentIndex.sources)ss.attendeeId===rs||ss.mediaType!==SignalingProtocol_js_1$1.SdkStreamMediaType.VIDEO||(!os.has(ss.groupId)||ss.maxBitrateKbps>os.get(ss.groupId).maxBitrateKbps)&&os.set(ss.groupId,ss);for(const ss of os.values())ns.add(ss.streamId)}return ns}numberOfVideoPublishingParticipantsExcludingSelf(rs){return this.highestQualityStreamFromEachGroupExcludingSelf(rs).array().length}numberOfParticipants(){return this.currentIndex.numParticipants?this.currentIndex.numParticipants:-1}attendeeIdForTrack(rs){const ns=this.streamIdForTrack(rs);if(ns===void 0||!this.subscribeStreamToAttendeeMap)return this.logger.warn("no attendee found for track ".concat(rs)),"";const os=this.subscribeStreamToAttendeeMap.get(ns);return os||(this.logger.info("track ".concat(rs," (stream ").concat(ns,") does not correspond to a known attendee")),"")}externalUserIdForTrack(rs){const ns=this.streamIdForTrack(rs);if(ns===void 0||!this.subscribeStreamToExternalUserIdMap)return this.logger.warn("no external user id found for track ".concat(rs)),"";const os=this.subscribeStreamToExternalUserIdMap.get(ns);return os||(this.logger.info("track ".concat(rs," (stream ").concat(ns,") does not correspond to a known externalUserId")),"")}attendeeIdForStreamId(rs){if(!this.streamToAttendeeMap)if(this.currentIndex)this.streamToAttendeeMap=this.buildStreamToAttendeeMap(this.currentIndex);else return"";const ns=this.streamToAttendeeMap.get(rs);return ns||(this.logger.info("stream ID ".concat(rs," does not correspond to a known attendee")),"")}attendeeIdForGroupId(rs){if(!this.groupIdToAttendeeMap)if(this.currentIndex)this.groupIdToAttendeeMap=this.buildGroupIdToAttendeeMap(this.currentIndex);else return"";const ns=this.groupIdToAttendeeMap.get(rs);return ns||(this.logger.info("group ID ".concat(rs," does not correspond to a known attendee")),"")}groupIdForStreamId(rs){if(!(!this.currentIndex||!this.currentIndex.sources)){for(const ns of this.currentIndex.sources)if(ns.streamId===rs)return ns.groupId;if(this.indexForSubscribe){for(const ns of this.indexForSubscribe.sources)if(ns.streamId===rs)return ns.groupId}if(this.indexForLastRemoteVideoUpdate){for(const ns of this.indexForLastRemoteVideoUpdate.sources)if(ns.streamId===rs)return ns.groupId}}}StreamIdsInSameGroup(rs,ns){return this.groupIdForStreamId(rs)===this.groupIdForStreamId(ns)}streamIdForTrack(rs){if(this.subscribeTrackToStreamMap)return this.subscribeTrackToStreamMap.get(rs)}streamIdForSSRC(rs){if(this.subscribeSsrcToStreamMap)return this.subscribeSsrcToStreamMap.get(rs)}overrideStreamIdMappings(rs,ns){if(this.subscribeTrackToStreamMap){for(const[os,ss]of this.subscribeTrackToStreamMap.entries())if(rs===ss){this.subscribeTrackToStreamMap.set(os,ns);break}}if(this.subscribeSsrcToStreamMap){for(const[os,ss]of this.subscribeSsrcToStreamMap.entries())if(rs===ss){this.subscribeSsrcToStreamMap.set(os,ns);break}}}groupIdForSSRC(rs){if(this.subscribeSsrcToGroupMap)return this.subscribeSsrcToGroupMap.get(rs)}streamsPausedAtSource(){const rs=new DefaultVideoStreamIdSet_1$1.default;if(this.currentIndex)for(const ns of this.currentIndex.pausedAtSourceIds)rs.add(ns);return rs}sendVideoStreamIdFromRid(rs){return this.sendVideoStreamId}buildTrackToStreamMap(rs){const ns=new Map;this.logger.debug(()=>"trackMap ".concat(JSON.stringify(rs.tracks)));for(const os of rs.tracks)os.trackLabel.length>0&&os.streamId>0&&ns.set(os.trackLabel,os.streamId);return ns}buildSSRCToStreamMap(rs){const ns=new Map;this.logger.debug(()=>"ssrcMap ".concat(JSON.stringify(rs.tracks)));for(const os of rs.tracks)os.trackLabel.length>0&&os.streamId>0&&ns.set(os.ssrc,os.streamId);return ns}buildSSRCToGroupMap(rs){const ns=new Map;for(const os of rs.tracks)os.trackLabel.length>0&&os.streamId>0&&ns.set(os.ssrc,this.groupIdForStreamId(os.streamId));return ns}buildStreamToAttendeeMap(rs){const ns=new Map;if(rs)for(const os of rs.sources)ns.set(os.streamId,os.attendeeId);return ns}buildGroupIdToAttendeeMap(rs){const ns=new Map;for(const os of rs.sources)ns.set(os.groupId,os.attendeeId);return ns}buildStreamExternalUserIdMap(rs){const ns=new Map;if(rs)for(const os of rs.sources)os.externalUserId&&ns.set(os.streamId,os.externalUserId);return ns}trySelectHighBitrateForAttendees(rs,ns,os,ss,as){for(const ls of ns){if(os>=ss)break;if(rs.has(ls)){const cs=rs.get(ls);for(const us of cs.reverse())if(os-as.get(ls).maxBitrateKbps+us.maxBitrateKbps<ss){os=os-as.get(ls).maxBitrateKbps+us.maxBitrateKbps,as.set(ls,us);break}}}return os}buildAttendeeToSortedStreamDescriptorMapExcludingSelf(rs){const ns=new Map;if(this.currentIndex)for(const os of this.currentIndex.sources)os.attendeeId===rs||os.mediaType!==SignalingProtocol_js_1$1.SdkStreamMediaType.VIDEO||(ns.has(os.attendeeId)?ns.get(os.attendeeId).push(os):ns.set(os.attendeeId,[os]));return ns.forEach((os,ss)=>{os.sort((as,ls)=>as.maxBitrateKbps>ls.maxBitrateKbps?1:as.maxBitrateKbps<ls.maxBitrateKbps?-1:0)}),ns}}DefaultVideoStreamIndex$1.default=DefaultVideoStreamIndex;var SimulcastVideoStreamIndex$1={},__importDefault$w=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(SimulcastVideoStreamIndex$1,"__esModule",{value:!0});const SignalingProtocol_js_1=SignalingProtocol,DefaultVideoStreamIndex_1=__importDefault$w(DefaultVideoStreamIndex$1),VideoStreamDescription_1=__importDefault$w(VideoStreamDescription$1);class SimulcastVideoStreamIndex extends DefaultVideoStreamIndex_1.default{constructor(){super(...arguments),this.streamIdToBitrateKbpsMap=new Map,this._localStreamInfos=[],this._sendRidToVideoStreamIdMap=new Map}localStreamDescriptions(){const rs=[];return this._localStreamInfos.forEach(ns=>{rs.push(ns.clone())}),rs}integrateUplinkPolicyDecision(rs){let ns=!0,os=0;for(let ss=0;ss<rs.length;ss++){const as=rs[ss].maxBitrate/1e3,ls=rs[ss].maxFramerate;if(!ns||ss===this._localStreamInfos.length){ns=!1;const cs=new VideoStreamDescription_1.default;cs.maxBitrateKbps=as,cs.maxFrameRate=ls,cs.disabledByUplinkPolicy=as===0,cs.rid=rs[ss].rid,as!==0&&(cs.timeEnabled=Date.now()),this._localStreamInfos.push(cs),os++;continue}this._localStreamInfos[os].maxBitrateKbps===0&&as>0&&(this._localStreamInfos[os].timeEnabled=Date.now()),this._localStreamInfos[os].maxBitrateKbps=as,this._localStreamInfos[os].maxFrameRate=ls,this._localStreamInfos[os].disabledByUplinkPolicy=as===0,os++}ns&&this._localStreamInfos.splice(os)}integrateBitratesFrame(rs){super.integrateBitratesFrame(rs);const ns=new Set,os=new Set(this.streamIdToBitrateKbpsMap.keys());for(const ss of rs.bitrates)ns.add(ss.sourceStreamId),this.streamIdToBitrateKbpsMap.set(ss.sourceStreamId,this.convertBpsToKbps(ss.avgBitrateBps));for(const ss of os)ns.has(ss)||(this.streamIdToBitrateKbpsMap.get(ss)===SimulcastVideoStreamIndex.UNSEEN_STREAM_BITRATE?this.streamIdToBitrateKbpsMap.set(ss,SimulcastVideoStreamIndex.RECENTLY_INACTIVE_STREAM_BITRATE):this.streamIdToBitrateKbpsMap.set(ss,SimulcastVideoStreamIndex.NOT_SENDING_STREAM_BITRATE));this.logLocalStreamDescriptions()}logLocalStreamDescriptions(){let rs="";for(const ns of this._localStreamInfos)rs+="streamId=".concat(ns.streamId," maxBitrate=").concat(ns.maxBitrateKbps," disabledByUplink=").concat(ns.disabledByUplinkPolicy,"\n");this.logger.debug(()=>rs)}integrateIndexFrame(rs){super.integrateIndexFrame(rs);const ns=new Set,os=new Set(this.streamIdToBitrateKbpsMap.keys());for(const ss of this.currentIndex.sources)ss.mediaType===SignalingProtocol_js_1.SdkStreamMediaType.VIDEO&&(ns.add(ss.streamId),this.streamIdToBitrateKbpsMap.has(ss.streamId)||this.streamIdToBitrateKbpsMap.set(ss.streamId,SimulcastVideoStreamIndex.UNSEEN_STREAM_BITRATE));for(const ss of os)ns.has(ss)||this.streamIdToBitrateKbpsMap.delete(ss)}integrateSubscribeAckFrame(rs){if(super.integrateSubscribeAckFrame(rs),!rs.allocations||rs.allocations===void 0)return;let ns=0;this._sendRidToVideoStreamIdMap.clear();for(const os of rs.allocations){if(this._localStreamInfos.length<ns+1){this.logger.info("simulcast: allocation has more than number of local streams");break}this._localStreamInfos[ns].groupId=os.groupId,this._localStreamInfos[ns].streamId=os.streamId,this.streamIdToBitrateKbpsMap.has(os.streamId)||this.streamIdToBitrateKbpsMap.set(os.streamId,SimulcastVideoStreamIndex.UNSEEN_STREAM_BITRATE),this._sendRidToVideoStreamIdMap.set(this._localStreamInfos[ns].rid,os.streamId),ns++}}sendVideoStreamIdFromRid(rs){let ns=0;return this._sendRidToVideoStreamIdMap.has(rs)&&(ns=this._sendRidToVideoStreamIdMap.get(rs)),ns}}SimulcastVideoStreamIndex$1.default=SimulcastVideoStreamIndex;SimulcastVideoStreamIndex.UNSEEN_STREAM_BITRATE=-2;SimulcastVideoStreamIndex.RECENTLY_INACTIVE_STREAM_BITRATE=-1;SimulcastVideoStreamIndex.NOT_SENDING_STREAM_BITRATE=0;SimulcastVideoStreamIndex.BitratesMsgFrequencyMs=4e3;var DefaultVideoTileController$1={},DefaultDevicePixelRatioMonitor$1={},__awaiter$p=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,rs,ns,os){function ss(as){return as instanceof ns?as:new ns(function(ls){ls(as)})}return new(ns||(ns=Promise))(function(as,ls){function cs(ps){try{ds(os.next(ps))}catch(fs){ls(fs)}}function us(ps){try{ds(os.throw(ps))}catch(fs){ls(fs)}}function ds(ps){ps.done?as(ps.value):ss(ps.value).then(cs,us)}ds((os=os.apply(ts,rs||[])).next())})};Object.defineProperty(DefaultDevicePixelRatioMonitor$1,"__esModule",{value:!0});class DefaultDevicePixelRatioMonitor{constructor(rs,ns){if(this.devicePixelRatioSource=rs,this.observerQueue=new Set,this.mediaQueryListener=()=>{this.observerQueue.forEach(ss=>{ss.devicePixelRatioChanged(this.devicePixelRatioSource.devicePixelRatio())})},typeof window>"u")return;const os=matchMedia("(resolution: ".concat(this.devicePixelRatioSource.devicePixelRatio(),"dppx)"));typeof os.addEventListener=="function"?(os.addEventListener("change",this.mediaQueryListener),this.mediaQueryList=os):typeof os.addListener=="function"?(os.addListener(this.mediaQueryListener),this.mediaQueryList=os):ns.warn("ignoring DefaultDevicePixelRatioMonitor")}destroy(){return __awaiter$p(this,void 0,void 0,function*(){this.mediaQueryList&&(typeof this.mediaQueryList.addEventListener=="function"?this.mediaQueryList.removeEventListener("change",this.mediaQueryListener):this.mediaQueryList.removeListener(this.mediaQueryListener)),delete this.mediaQueryListener,this.observerQueue.clear()})}registerObserver(rs){this.observerQueue.add(rs),rs.devicePixelRatioChanged(this.devicePixelRatioSource.devicePixelRatio())}removeObserver(rs){this.observerQueue.delete(rs)}}DefaultDevicePixelRatioMonitor$1.default=DefaultDevicePixelRatioMonitor;var DevicePixelRatioWindowSource$1={};Object.defineProperty(DevicePixelRatioWindowSource$1,"__esModule",{value:!0});class DevicePixelRatioWindowSource{devicePixelRatio(){return typeof window>"u"||!window||!window.devicePixelRatio?1:window.devicePixelRatio}}DevicePixelRatioWindowSource$1.default=DevicePixelRatioWindowSource;var __awaiter$o=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,rs,ns,os){function ss(as){return as instanceof ns?as:new ns(function(ls){ls(as)})}return new(ns||(ns=Promise))(function(as,ls){function cs(ps){try{ds(os.next(ps))}catch(fs){ls(fs)}}function us(ps){try{ds(os.throw(ps))}catch(fs){ls(fs)}}function ds(ps){ps.done?as(ps.value):ss(ps.value).then(cs,us)}ds((os=os.apply(ts,rs||[])).next())})},__importDefault$v=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(DefaultVideoTileController$1,"__esModule",{value:!0});const VideoQualitySettings_1$4=__importDefault$v(VideoQualitySettings$1),DefaultDevicePixelRatioMonitor_1=__importDefault$v(DefaultDevicePixelRatioMonitor$1),DevicePixelRatioWindowSource_1=__importDefault$v(DevicePixelRatioWindowSource$1),Types_1$2=Types,DefaultVideoTile_1$1=__importDefault$v(DefaultVideoTile$1);class DefaultVideoTileController{constructor(rs,ns,os){this.tileFactory=rs,this.audioVideoController=ns,this.logger=os,this.tileMap=new Map,this.nextTileId=1,this.currentLocalTile=null,this.currentPausedTilesByIds=new Set,this.keepLastFrameWhenPaused=!1,this.keepLastFrameWhenPaused=ns.configuration.keepLastFrameWhenPaused}createDevicePixelRatioMonitorIfNeeded(){this.devicePixelRatioMonitor||(this.devicePixelRatioMonitor=new DefaultDevicePixelRatioMonitor_1.default(new DevicePixelRatioWindowSource_1.default,this.logger))}discardDevicePixelRatioMonitorIfNotNeeded(){return __awaiter$o(this,void 0,void 0,function*(){if(this.tileMap.size||!this.devicePixelRatioMonitor)return;const rs=this.devicePixelRatioMonitor;return this.devicePixelRatioMonitor=void 0,rs.destroy()})}bindVideoElement(rs,ns){const os=this.getVideoTile(rs);if(os===null){this.logger.warn("Ignoring video element binding for unknown tile id ".concat(rs));return}os.bindVideoElement(ns)}unbindVideoElement(rs,ns=!0){const os=this.getVideoTile(rs);if(os===null){this.logger.warn("Ignoring video element unbinding for unknown tile id ".concat(rs));return}this.logger.info("Unbinding the video element");const ss=os.stateRef().boundVideoElement;os.bindVideoElement(null),ns&&(this.logger.info("Cleaning up the video element"),DefaultVideoTile_1$1.default.disconnectVideoStreamFromVideoElement(ss,!1))}startLocalVideoTile(){if(this.audioVideoController.configuration.meetingFeatures.videoMaxResolution===VideoQualitySettings_1$4.default.VideoDisabled)return this.logger.warn("Could not start camera video because max video resolution was set to None"),-1;const rs=this.findOrCreateLocalVideoTile();return this.currentLocalTile.stateRef().localTileStarted=!0,this.audioVideoController.update({needsRenegotiation:!0}),rs.id()}stopLocalVideoTile(){this.currentLocalTile&&(this.currentLocalTile.stateRef().localTileStarted=!1,this.currentLocalTile.bindVideoStream(this.audioVideoController.configuration.credentials.attendeeId,!0,null,null,null,null,this.audioVideoController.configuration.credentials.externalUserId),this.audioVideoController.update({needsRenegotiation:!0}))}hasStartedLocalVideoTile(){return!!(this.currentLocalTile&&this.currentLocalTile.stateRef().localTileStarted)}removeLocalVideoTile(){this.currentLocalTile&&this.removeVideoTile(this.currentLocalTile.id())}getLocalVideoTile(){return this.currentLocalTile}pauseVideoTile(rs){const ns=this.getVideoTile(rs);ns&&(this.currentPausedTilesByIds.has(rs)||(this.audioVideoController.pauseReceivingStream(ns.stateRef().streamId),this.currentPausedTilesByIds.add(rs)),ns.pause())}unpauseVideoTile(rs){const ns=this.getVideoTile(rs);ns&&(this.currentPausedTilesByIds.has(rs)&&(this.audioVideoController.resumeReceivingStream(ns.stateRef().streamId),this.currentPausedTilesByIds.delete(rs)),ns.unpause())}getVideoTile(rs){return this.tileMap.has(rs)?this.tileMap.get(rs):null}getVideoTileArea(rs){const ns=rs.state();let os=0,ss=0;return ns.boundVideoElement&&(os=ns.boundVideoElement.clientHeight*ns.devicePixelRatio,ss=ns.boundVideoElement.clientWidth*ns.devicePixelRatio),os*ss}getAllRemoteVideoTiles(){const rs=new Array;return this.tileMap.forEach((ns,os)=>{(!this.currentLocalTile||os!==this.currentLocalTile.id())&&rs.push(ns)}),rs}getAllVideoTiles(){return Array.from(this.tileMap.values())}addVideoTile(rs=!1){const ns=this.nextTileId;this.nextTileId+=1,this.createDevicePixelRatioMonitorIfNeeded();const os=this.tileFactory.makeTile(ns,rs,this,this.devicePixelRatioMonitor);return this.tileMap.set(ns,os),os}removeVideoTile(rs){if(!this.tileMap.has(rs))return;const ns=this.tileMap.get(rs);this.currentLocalTile===ns&&(this.currentLocalTile=null),ns.destroy(),this.tileMap.delete(rs),this.audioVideoController.forEachObserver(os=>{Types_1$2.Maybe.of(os.videoTileWasRemoved).map(ss=>ss.bind(os)(rs))}),this.discardDevicePixelRatioMonitorIfNotNeeded()}removeVideoTilesByAttendeeId(rs){const ns=[];for(const os of this.getAllVideoTiles()){const ss=os.state();ss.boundAttendeeId===rs&&(this.removeVideoTile(ss.tileId),ns.push(ss.tileId))}return ns}removeAllVideoTiles(){const rs=Array.from(this.tileMap.keys());for(const ns of rs)this.removeVideoTile(ns)}sendTileStateUpdate(rs){this.audioVideoController.forEachObserver(ns=>{Types_1$2.Maybe.of(ns.videoTileDidUpdate).map(os=>os.bind(ns)(rs))})}haveVideoTilesWithStreams(){for(const rs of this.getAllVideoTiles())if(rs.state().boundVideoStream)return!0;return!1}haveVideoTileForAttendeeId(rs){return!!this.getVideoTileForAttendeeId(rs)}getVideoTileForAttendeeId(rs){for(const ns of this.getAllVideoTiles())if(ns.state().boundAttendeeId===rs)return ns}captureVideoTile(rs){const ns=this.getVideoTile(rs);return ns?ns.capture():null}findOrCreateLocalVideoTile(){return this.currentLocalTile?this.currentLocalTile:(this.currentLocalTile=this.addVideoTile(!0),this.currentLocalTile.bindVideoStream(this.audioVideoController.configuration.credentials.attendeeId,!0,null,null,null,null,this.audioVideoController.configuration.credentials.externalUserId),this.currentLocalTile)}}DefaultVideoTileController$1.default=DefaultVideoTileController;var DefaultVideoTileFactory$1={},__importDefault$u=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(DefaultVideoTileFactory$1,"__esModule",{value:!0});const DefaultVideoTile_1=__importDefault$u(DefaultVideoTile$1);class DefaultVideoTileFactory{makeTile(rs,ns,os,ss){return new DefaultVideoTile_1.default(rs,ns,os,ss)}}DefaultVideoTileFactory$1.default=DefaultVideoTileFactory;var DefaultSimulcastUplinkPolicy$1={},SimulcastLayers={};(function(ts){Object.defineProperty(ts,"__esModule",{value:!0}),ts.SimulcastLayers=void 0;var rs;(function(ns){ns[ns.Low=0]="Low",ns[ns.LowAndMedium=1]="LowAndMedium",ns[ns.LowAndHigh=2]="LowAndHigh",ns[ns.Medium=3]="Medium",ns[ns.MediumAndHigh=4]="MediumAndHigh",ns[ns.High=5]="High"})(rs=ts.SimulcastLayers||(ts.SimulcastLayers={})),ts.default=rs})(SimulcastLayers);var __importDefault$t=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(DefaultSimulcastUplinkPolicy$1,"__esModule",{value:!0});const SimulcastLayers_1=__importDefault$t(SimulcastLayers),SimulcastTransceiverController_1=__importDefault$t(SimulcastTransceiverController$1),Types_1$1=Types,DefaultVideoCaptureAndEncodeParameter_1$2=__importDefault$t(DefaultVideoCaptureAndEncodeParameter$1),BitrateParameters_1=__importDefault$t(BitrateParameters$1);class DefaultSimulcastUplinkPolicy{constructor(rs,ns){this.selfAttendeeId=rs,this.logger=ns,this.numSenders=0,this.shouldDisableSimulcast=!1,this.newQualityMap=new Map,this.currentQualityMap=new Map,this.newActiveStreams=1,this.videoIndex=null,this.observerQueue=new Set,this.hiTargetBitrateKbps=DefaultSimulcastUplinkPolicy.kHiTargetBitrateKbpsHd,this.midTargetBitrateKbps=DefaultSimulcastUplinkPolicy.kMidTargetBitrateKbpsHd,this.lowTargetBitrateKbps=DefaultSimulcastUplinkPolicy.kLowTargetBitrateKbpsHd,this.enableFhdVideo=!1,this.optimalParameters=new DefaultVideoCaptureAndEncodeParameter_1$2.default(0,0,0,0,!0),this.parametersInEffect=new DefaultVideoCaptureAndEncodeParameter_1$2.default(0,0,0,0,!0),this.currentQualityMap=this.fillEncodingParamWithBitrates([this.lowTargetBitrateKbps,0,this.hiTargetBitrateKbps]),this.newQualityMap=this.fillEncodingParamWithBitrates([this.lowTargetBitrateKbps,0,this.hiTargetBitrateKbps])}updateConnectionMetric(rs){}calculateEncodingParameters(){const rs=[new BitrateParameters_1.default,new BitrateParameters_1.default,new BitrateParameters_1.default];this.shouldDisableSimulcast?(this.newActiveStreams=0,rs[0].maxBitrateKbps=0,rs[1].maxBitrateKbps=this.hiTargetBitrateKbps,rs[2].maxBitrateKbps=0):this.numSenders<=4?(this.newActiveStreams=1,rs[0].maxBitrateKbps=this.lowTargetBitrateKbps,rs[1].maxBitrateKbps=0,rs[2].maxBitrateKbps=this.hiTargetBitrateKbps):(this.newActiveStreams=2,rs[0].maxBitrateKbps=this.lowTargetBitrateKbps*2/3,rs[1].maxBitrateKbps=this.numSenders<=6?this.midTargetBitrateKbps:this.midTargetBitrateKbps*.6,rs[2].maxBitrateKbps=0);const ns=rs.map((os,ss,as)=>os.maxBitrateKbps);return this.newQualityMap=this.fillEncodingParamWithBitrates(ns),this.encodingParametersEqual()||this.logger.info("simulcast: policy:calculateEncodingParameters numSources:".concat(this.numSenders," shouldDisableSimulcast:").concat(this.shouldDisableSimulcast," newQualityMap: ").concat(this.getQualityMapString(this.newQualityMap))),this.newQualityMap}chooseMediaTrackConstraints(){}chooseEncodingParameters(){return this.currentQualityMap=this.newQualityMap,this.activeStreamsToPublish!==this.newActiveStreams&&(this.activeStreamsToPublish=this.newActiveStreams,this.publishEncodingSimulcastLayer()),this.currentQualityMap}updateIndex(rs){const ns=rs.numberOfVideoPublishingParticipantsExcludingSelf(this.selfAttendeeId)+1,os=ns!==this.numSenders,ss=rs.numberOfParticipants(),as=ss>=0&&ss<=2,ls=this.shouldDisableSimulcast!==as;this.numSenders=ns,this.shouldDisableSimulcast=as,this.optimalParameters=new DefaultVideoCaptureAndEncodeParameter_1$2.default(this.captureWidth(),this.captureHeight(),this.captureFrameRate(),this.maxBandwidthKbps(),!1),this.videoIndex=rs,(os||ls)&&(this.newQualityMap=this.calculateEncodingParameters())}wantsResubscribe(){return!this.encodingParametersEqual()}compareEncodingParameter(rs,ns){return JSON.stringify(rs)===JSON.stringify(ns)}encodingParametersEqual(){let rs=!1;for(const ns of SimulcastTransceiverController_1.default.NAME_ARR_ASCENDING)if(rs=rs||!this.compareEncodingParameter(this.newQualityMap.get(ns),this.currentQualityMap.get(ns)),rs)break;return!rs}chooseCaptureAndEncodeParameters(){return this.parametersInEffect=this.optimalParameters.clone(),this.parametersInEffect.clone()}captureWidth(){return this.enableFhdVideo?1920:1280}captureHeight(){return this.enableFhdVideo?1080:768}captureFrameRate(){return 15}maxBandwidthKbps(){return this.enableFhdVideo?2500:1400}setIdealMaxBandwidthKbps(rs){}setHasBandwidthPriority(rs){}setHighResolutionFeatureEnabled(rs){this.enableFhdVideo=rs,this.hiTargetBitrateKbps=rs?DefaultSimulcastUplinkPolicy.kHiTargetBitrateKbpsFhd:DefaultSimulcastUplinkPolicy.kHiTargetBitrateKbpsHd,this.midTargetBitrateKbps=rs?DefaultSimulcastUplinkPolicy.kMidTargetBitrateKbpsFhd:DefaultSimulcastUplinkPolicy.kMidTargetBitrateKbpsHd,this.lowTargetBitrateKbps=rs?DefaultSimulcastUplinkPolicy.kLowTargetBitrateKbpsFhd:DefaultSimulcastUplinkPolicy.kLowTargetBitrateKbpsHd}wantsVideoDependencyDescriptorRtpHeaderExtension(){return!0}fillEncodingParamWithBitrates(rs){const ns=new Map,os=1e3,ss=SimulcastTransceiverController_1.default.NAME_ARR_ASCENDING,as=rs;let ls=this.shouldDisableSimulcast?1:4;for(let cs=0;cs<ss.length;cs++){const us=ss[cs];ns.set(us,{rid:us,active:as[cs]>0,scaleResolutionDownBy:Math.max(ls,1),maxBitrate:as[cs]*os}),ls=ls/2}return ns}getQualityMapString(rs){let ns="";return this.videoIndex.localStreamDescriptions().length===3&&rs.forEach(ss=>{ns+="{ rid: ".concat(ss.rid," active:").concat(ss.active," maxBitrate:").concat(ss.maxBitrate,"}")}),ns}getEncodingSimulcastLayer(rs){switch(rs){case 0:return SimulcastLayers_1.default.High;case 1:return SimulcastLayers_1.default.LowAndHigh;case 2:return SimulcastLayers_1.default.LowAndMedium}}publishEncodingSimulcastLayer(){const rs=this.getEncodingSimulcastLayer(this.activeStreamsToPublish);this.forEachObserver(ns=>{Types_1$1.Maybe.of(ns.encodingSimulcastLayersDidChange).map(os=>os.bind(ns)(rs))})}addObserver(rs){this.logger.info("adding simulcast uplink observer"),this.observerQueue.add(rs)}removeObserver(rs){this.logger.info("removing simulcast uplink observer"),this.observerQueue.delete(rs)}forEachObserver(rs){for(const ns of this.observerQueue)rs(ns)}}DefaultSimulcastUplinkPolicy$1.default=DefaultSimulcastUplinkPolicy;DefaultSimulcastUplinkPolicy.kHiTargetBitrateKbpsHd=1200;DefaultSimulcastUplinkPolicy.kMidTargetBitrateKbpsHd=600;DefaultSimulcastUplinkPolicy.kLowTargetBitrateKbpsHd=300;DefaultSimulcastUplinkPolicy.kHiTargetBitrateKbpsFhd=2e3;DefaultSimulcastUplinkPolicy.kMidTargetBitrateKbpsFhd=1e3;DefaultSimulcastUplinkPolicy.kLowTargetBitrateKbpsFhd=500;var NScaleVideoUplinkBandwidthPolicy$1={},__awaiter$n=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,rs,ns,os){function ss(as){return as instanceof ns?as:new ns(function(ls){ls(as)})}return new(ns||(ns=Promise))(function(as,ls){function cs(ps){try{ds(os.next(ps))}catch(fs){ls(fs)}}function us(ps){try{ds(os.throw(ps))}catch(fs){ls(fs)}}function ds(ps){ps.done?as(ps.value):ss(ps.value).then(cs,us)}ds((os=os.apply(ts,rs||[])).next())})},__importDefault$s=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(NScaleVideoUplinkBandwidthPolicy$1,"__esModule",{value:!0});const DefaultVideoCaptureAndEncodeParameter_1$1=__importDefault$s(DefaultVideoCaptureAndEncodeParameter$1);class NScaleVideoUplinkBandwidthPolicy{constructor(rs,ns=!0,os=void 0,ss=void 0){this.selfAttendeeId=rs,this.scaleResolution=ns,this.logger=os,this.browserBehavior=ss,this.numberOfPublishedVideoSources=void 0,this.idealMaxBandwidthKbps=1500,this.hasBandwidthPriority=!1,this.encodingParamMap=new Map,this.enableHighResolutionFeature=!1,this.enableSVC=!1,this.isUsingSVCCodec=!0,this.numParticipants=0,this.reset()}reset(){this.numberOfPublishedVideoSources=void 0,this.optimalParameters=new DefaultVideoCaptureAndEncodeParameter_1$1.default(0,0,0,0,!1),this.parametersInEffect=new DefaultVideoCaptureAndEncodeParameter_1$1.default(0,0,0,0,!1),this.encodingParamMap.set(NScaleVideoUplinkBandwidthPolicy.encodingMapKey,{maxBitrate:0})}updateConnectionMetric(rs){}chooseMediaTrackConstraints(){return{}}chooseEncodingParameters(){return new Map}updateIndex(rs){var ns;let os=!0;this.transceiverController&&(os=this.transceiverController.hasVideoInput());const ss=rs.numberOfVideoPublishingParticipantsExcludingSelf(this.selfAttendeeId)+(os?1:0),as=rs.numberOfParticipants();if(this.numParticipants===as&&this.numberOfPublishedVideoSources===ss){(ns=this.logger)===null||ns===void 0||ns.debug("Skipping update index; Number of participants has not changed");return}this.numberOfPublishedVideoSources=ss,this.numParticipants=as,this.updateOptimalParameters()}wantsResubscribe(){return!this.parametersInEffect.equal(this.optimalParameters)}chooseCaptureAndEncodeParameters(){return this.parametersInEffect=this.optimalParameters.clone(),this.parametersInEffect.clone()}updateOptimalParameters(){let rs=1;if(this.transceiverController){const ns=this.getStreamCaptureSetting();ns&&(rs=this.calculateEncodingParameters(ns).scaleResolutionDownBy)}this.optimalParameters=new DefaultVideoCaptureAndEncodeParameter_1$1.default(this.captureWidth(),this.captureHeight(),this.captureFrameRate(),this.maxBandwidthKbps(),!1,rs,this.enableSVC&&this.numParticipants>2&&this.isUsingSVCCodec)}captureWidth(){let rs=640;return this.getNumberOfPublishedVideoSources()>4&&(rs=320),rs}captureHeight(){let rs=384;return this.getNumberOfPublishedVideoSources()>4&&(rs=192),rs}captureFrameRate(){return 15}maxBandwidthKbps(){if(this.hasBandwidthPriority)return Math.trunc(this.idealMaxBandwidthKbps);let rs=0;return this.getNumberOfPublishedVideoSources()<=2?rs=this.idealMaxBandwidthKbps:this.getNumberOfPublishedVideoSources()<=4?rs=this.idealMaxBandwidthKbps*2/3:rs=(544/11+14880/(11*this.getNumberOfPublishedVideoSources()))/600*this.idealMaxBandwidthKbps,Math.trunc(rs)}setIdealMaxBandwidthKbps(rs){this.idealMaxBandwidthKbps=rs}setHasBandwidthPriority(rs){this.hasBandwidthPriority=rs}setTransceiverController(rs){this.transceiverController=rs}setSVCEnabled(rs){var ns;this.enableSVC=rs,(ns=this.logger)===null||ns===void 0||ns.info("setSVCEnabled, enable: ".concat(rs,"}"))}setHighResolutionFeatureEnabled(rs){this.enableHighResolutionFeature=rs}updateTransceiverController(){return __awaiter$n(this,void 0,void 0,function*(){const rs=this.getStreamCaptureSetting();if(!rs)return;const ns=this.calculateEncodingParameters(rs);this.shouldUpdateEndcodingParameters(ns)&&(this.encodingParamMap.set(NScaleVideoUplinkBandwidthPolicy.encodingMapKey,ns),this.transceiverController.setEncodingParameters(this.encodingParamMap))})}shouldUpdateEndcodingParameters(rs){var ns,os;const ss=(os=(ns=this.transceiverController.localVideoTransceiver().sender.getParameters())===null||ns===void 0?void 0:ns.encodings)===null||os===void 0?void 0:os[0];return rs.maxBitrate!==(ss==null?void 0:ss.maxBitrate)||rs.scaleResolutionDownBy!==(ss==null?void 0:ss.scaleResolutionDownBy)||(rs==null?void 0:rs.scalabilityMode)!==(ss==null?void 0:ss.scalabilityMode)}calculateEncodingParameters(rs){var ns,os,ss;const as=this.maxBandwidthKbps()*1e3;let ls=1,cs=720;if(rs.height!==void 0&&rs.width!==void 0&&this.scaleResolution&&!this.hasBandwidthPriority&&this.getNumberOfPublishedVideoSources()>2&&(cs=NScaleVideoUplinkBandwidthPolicy.targetHeightArray[Math.min(this.getNumberOfPublishedVideoSources(),NScaleVideoUplinkBandwidthPolicy.targetHeightArray.length-1)][this.enableHighResolutionFeature?1:0],cs===480&&(!((ns=this.browserBehavior)===null||ns===void 0)&&ns.disable480pResolutionScaleDown())&&(cs=360),ls=Math.max(Math.min(rs.height,rs.width)/cs,1),(os=this.logger)===null||os===void 0||os.info("Resolution scale factor is ".concat(ls," for capture resolution ").concat(rs.width,"x").concat(rs.height,". New dimension is ").concat(rs.width/ls,"x").concat(rs.height/ls))),this.enableSVC){let us;return this.numParticipants>=0&&this.numParticipants<3||!this.isUsingSVCCodec?us="L1T1":us="L3T3",(ss=this.logger)===null||ss===void 0||ss.info("calculateEncodingParameters: SVC: ".concat(this.enableSVC,"    participants: ").concat(this.numParticipants,"     publishers: ").concat(this.getNumberOfPublishedVideoSources(),"     bitrate: ").concat(as,"  targetHeight: ").concat(cs,"  scalabilityMode: ").concat(us,"   isUsingSVCCodec: ").concat(this.isUsingSVCCodec)),{scaleResolutionDownBy:ls,maxBitrate:as,scalabilityMode:us}}else return{scaleResolutionDownBy:ls,maxBitrate:as}}getStreamCaptureSetting(){var rs,ns,os,ss;return(ss=(os=(ns=(rs=this.transceiverController)===null||rs===void 0?void 0:rs.localVideoTransceiver())===null||ns===void 0?void 0:ns.sender)===null||os===void 0?void 0:os.track)===null||ss===void 0?void 0:ss.getSettings()}getNumberOfPublishedVideoSources(){var rs;return(rs=this.numberOfPublishedVideoSources)!==null&&rs!==void 0?rs:0}wantsVideoDependencyDescriptorRtpHeaderExtension(){return this.enableSVC}setMeetingSupportedVideoSendCodecs(rs,ns){const os=rs!=null?rs:ns,ss=os.length>0&&NScaleVideoUplinkBandwidthPolicy.SVCCodecNames.includes(os[0].codecName);ss!==this.isUsingSVCCodec&&(this.isUsingSVCCodec=ss,this.updateOptimalParameters())}}NScaleVideoUplinkBandwidthPolicy$1.default=NScaleVideoUplinkBandwidthPolicy;NScaleVideoUplinkBandwidthPolicy.encodingMapKey="video";NScaleVideoUplinkBandwidthPolicy.targetHeightArray=[[0,0],[0,0],[0,0],[540,720],[540,720],[480,540],[480,540],[480,540],[480,540],[360,480],[360,480],[360,480],[360,480],[270,360],[270,360],[270,360],[270,360],[180,270],[180,270],[180,270],[180,270],[180,270],[180,270],[180,270],[180,270],[180,270]];NScaleVideoUplinkBandwidthPolicy.SVCCodecNames=["VP9"];var DefaultVolumeIndicatorAdapter$1={};Object.defineProperty(DefaultVolumeIndicatorAdapter$1,"__esModule",{value:!0});class DefaultVolumeIndicatorAdapter{constructor(rs,ns,os,ss,as){this.logger=rs,this.realtimeController=ns,this.minVolumeDecibels=os,this.maxVolumeDecibels=ss,this.selfAttendeeId=as,this.streamIdToAttendeeId={},this.streamIdToExternalUserId={},this.warnedAboutMissingStreamIdMapping={},this.attendeeIdToStreamId={},this.sessionReconnected=!1}onReconnect(){this.sessionReconnected=!0}sendRealtimeUpdatesForAudioStreamIdInfo(rs){let ns=0;for(const os of rs.streams){const ss=!!os.attendeeId,as=!!os.externalUserId,ls=os.hasOwnProperty("muted"),cs=!!os.dropped;if(ss){this.attendeeIdToStreamId[os.attendeeId]&&this.attendeeIdToStreamId[os.attendeeId]<os.audioStreamId&&delete this.attendeeIdToStreamId[os.attendeeId],this.streamIdToAttendeeId[os.audioStreamId]=os.attendeeId;const us=as?os.externalUserId:os.attendeeId;this.streamIdToExternalUserId[os.audioStreamId]=us,this.attendeeIdToStreamId[os.attendeeId]=os.audioStreamId,this.realtimeController.realtimeSetAttendeeIdPresence(os.attendeeId,!0,us,!1,{attendeeIndex:ns++,attendeesInFrame:rs.streams.length})}if(ls){const us=this.streamIdToAttendeeId[os.audioStreamId],ds=this.streamIdToExternalUserId[os.audioStreamId];this.realtimeController.realtimeUpdateVolumeIndicator(us,null,os.muted,null,ds)}if(!ss&&!ls){const us=this.streamIdToAttendeeId[os.audioStreamId];if(us){const ds=this.streamIdToExternalUserId[os.audioStreamId];delete this.streamIdToAttendeeId[os.audioStreamId],delete this.streamIdToExternalUserId[os.audioStreamId],delete this.warnedAboutMissingStreamIdMapping[os.audioStreamId],this.attendeeIdToStreamId[us]===os.audioStreamId&&delete this.attendeeIdToStreamId[us];let ps=!1;for(const fs of Object.keys(this.streamIdToAttendeeId)){const hs=parseInt(fs);if(hs>os.audioStreamId&&this.streamIdToAttendeeId[hs]===us){ps=!0;break}}ps||this.realtimeController.realtimeSetAttendeeIdPresence(us,!1,ds,cs,{attendeeIndex:ns++,attendeesInFrame:rs.streams.length})}}}this.sessionReconnected&&(this.cleanUpState(rs),this.sessionReconnected=!1)}cleanUpState(rs){const ns=Object.values(this.streamIdToAttendeeId),os=rs.streams.map(as=>as.attendeeId),ss=ns.filter(as=>!os.includes(as));for(const[as,ls]of ss.entries()){const cs=this.attendeeIdToStreamId[ls],us=this.streamIdToExternalUserId[cs];if(delete this.streamIdToAttendeeId[cs],delete this.streamIdToExternalUserId[cs],delete this.warnedAboutMissingStreamIdMapping[cs],delete this.attendeeIdToStreamId[ls],ls===this.selfAttendeeId){this.logger.warn("the volume indicator adapter cleans up the current attendee (presence = false) after reconnection");continue}this.realtimeController.realtimeSetAttendeeIdPresence(ls,!1,us,!1,{attendeeIndex:as,attendeesInFrame:ls.length})}}sendRealtimeUpdatesForAudioMetadata(rs){let ns=null,os=null;for(const ss of rs.attendeeStates){const as=this.attendeeIdForStreamId(ss.audioStreamId);ss.hasOwnProperty("volume")&&(ns===null&&(ns={}),as!==null&&(ns[as]=this.normalizedVolume(ss))),ss.hasOwnProperty("signalStrength")&&(os===null&&(os={}),as!==null&&(os[as]=this.normalizedSignalStrength(ss)))}this.applyRealtimeUpdatesForAudioMetadata(ns,os)}normalizedVolume(rs){const os=1-(-rs.volume-this.maxVolumeDecibels)/(this.minVolumeDecibels-this.maxVolumeDecibels);return Math.min(Math.max(os,0),1)}normalizedSignalStrength(rs){const ns=rs.signalStrength/DefaultVolumeIndicatorAdapter.MAX_SIGNAL_STRENGTH_LEVELS;return Math.min(Math.max(ns,0),1)}applyRealtimeUpdatesForAudioMetadata(rs,ns){for(const os in this.streamIdToAttendeeId){const ss=this.streamIdToAttendeeId[os],as=this.streamIdToExternalUserId[os];let ls=null,cs=null;rs!==null&&(rs.hasOwnProperty(ss)?ls=rs[ss]:ls=DefaultVolumeIndicatorAdapter.IMPLICIT_VOLUME),ns!==null&&(ns.hasOwnProperty(ss)?cs=ns[ss]:cs=DefaultVolumeIndicatorAdapter.IMPLICIT_SIGNAL_STRENGTH),(ls!==null||cs!==null)&&this.realtimeController.realtimeUpdateVolumeIndicator(ss,ls,null,cs,as)}}attendeeIdForStreamId(rs){if(rs===0)return null;const ns=this.streamIdToAttendeeId[rs];return ns||(this.warnedAboutMissingStreamIdMapping[rs]||(this.warnedAboutMissingStreamIdMapping[rs]=!0,this.logger.warn("volume indicator stream id ".concat(rs," seen before being defined"))),null)}}DefaultVolumeIndicatorAdapter$1.default=DefaultVolumeIndicatorAdapter;DefaultVolumeIndicatorAdapter.MAX_SIGNAL_STRENGTH_LEVELS=2;DefaultVolumeIndicatorAdapter.IMPLICIT_VOLUME=0;DefaultVolumeIndicatorAdapter.IMPLICIT_SIGNAL_STRENGTH=1;var hasRequiredDefaultAudioVideoController;function requireDefaultAudioVideoController(){if(hasRequiredDefaultAudioVideoController)return DefaultAudioVideoController;hasRequiredDefaultAudioVideoController=1;var ts=commonjsGlobal$1&&commonjsGlobal$1.__createBinding||(Object.create?function(Hl,Qs,Al,Nl){Nl===void 0&&(Nl=Al),Object.defineProperty(Hl,Nl,{enumerable:!0,get:function(){return Qs[Al]}})}:function(Hl,Qs,Al,Nl){Nl===void 0&&(Nl=Al),Hl[Nl]=Qs[Al]}),rs=commonjsGlobal$1&&commonjsGlobal$1.__setModuleDefault||(Object.create?function(Hl,Qs){Object.defineProperty(Hl,"default",{enumerable:!0,value:Qs})}:function(Hl,Qs){Hl.default=Qs}),ns=commonjsGlobal$1&&commonjsGlobal$1.__importStar||function(Hl){if(Hl&&Hl.__esModule)return Hl;var Qs={};if(Hl!=null)for(var Al in Hl)Al!=="default"&&Object.prototype.hasOwnProperty.call(Hl,Al)&&ts(Qs,Hl,Al);return rs(Qs,Hl),Qs},os=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(Hl,Qs,Al,Nl){function eu(Jl){return Jl instanceof Al?Jl:new Al(function(Zl){Zl(Jl)})}return new(Al||(Al=Promise))(function(Jl,Zl){function tu(lu){try{du(Nl.next(lu))}catch(fu){Zl(fu)}}function au(lu){try{du(Nl.throw(lu))}catch(fu){Zl(fu)}}function du(lu){lu.done?Jl(lu.value):eu(lu.value).then(tu,au)}du((Nl=Nl.apply(Hl,Qs||[])).next())})},ss=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(Hl){return Hl&&Hl.__esModule?Hl:{default:Hl}};Object.defineProperty(DefaultAudioVideoController,"__esModule",{value:!0});const as=ss(DefaultActiveSpeakerDetector$1),ls=ss(DefaultAudioMixController$1),cs=ss(AudioProfile$1),us=ss(DefaultBrowserBehavior$1),ds=ss(ConnectionHealthData$1),ps=ss(SignalingAndMetricsConnectionMonitor$1),fs=ss(VideoQualitySettings$1),hs=ss(MeetingSessionStatus$1),ms=ss(MeetingSessionStatusCode),gs=ss(MeetingSessionVideoAvailability$1),vs=ss(DefaultModality$1),bs=ss(DefaultPingPong$1),xs=ss(DefaultRealtimeController$1),ys=ss(AsyncScheduler$1),Ss=ss(DefaultSessionStateController$1),Cs=ss(SessionStateControllerAction),$s=ss(SessionStateControllerState),Es=ss(SessionStateControllerTransitionResult),ws=ss(DefaultSignalingClient$1),Ts=ns(ServerSideNetworkAdaption),Is=ss(SignalingClientEventType),Rs=ss(SignalingClientVideoSubscriptionConfiguration$1),As=SignalingProtocol,ks=ss(StatsCollector$1),Ms=ss(AttachMediaInputTask$1),Os=ss(CleanRestartedSessionTask$1),Ds=ss(CleanStoppedSessionTask$1),Fs=ss(CreatePeerConnectionTask$1),js=ss(CreateSDPTask$1),Ps=ss(FinishGatheringICECandidatesTask$1),Ls=ss(JoinAndReceiveIndexTask$1),Ns=ss(LeaveAndReceiveLeaveAckTask$1),Gs=ss(ListenForVolumeIndicatorsTask$1),Us=ss(MonitorTask$1),Hs=ss(OpenSignalingConnectionTask$1),zs=ss(ParallelGroupTask$1),qs=ss(requirePromoteToPrimaryMeetingTask()),Vs=ss(ReceiveAudioInputTask$1),Ks=ss(ReceiveRemoteVideoPauseResumeTask),Ws=ss(ReceiveVideoInputTask$1),Pl=ss(ReceiveVideoStreamIndexTask$1),Tl=ss(SendAndReceiveDataMessagesTask$1),El=ss(SerialGroupTask$1),$l=ss(SetLocalDescriptionTask$1),Sl=ss(SetRemoteDescriptionTask$1),Ml=ss(SubscribeAndReceiveSubscribeAckTask$1),wl=ss(TimeoutTask$1),Rl=ss(WaitForAttendeePresenceTask$1),yl=ss(DefaultTransceiverController$1),Bs=ss(SimulcastContentShareTransceiverController$1),Zs=ss(SimulcastTransceiverController$1),Ys=ss(VideoOnlyTransceiverController$1),_l=Types,Cl=ss(DefaultVideoCaptureAndEncodeParameter$1),Xs=ss(AllHighestVideoBandwidthPolicy$1),xl=ss(VideoAdaptiveProbePolicy$1),$a=VideoPreferences$1,Dl=ss(DefaultVideoStreamIdSet$1),Ol=ss(DefaultVideoStreamIndex$1),Ll=ss(SimulcastVideoStreamIndex$1),Vl=ss(DefaultVideoTileController$1),Xl=ss(DefaultVideoTileFactory$1),Ql=ss(DefaultSimulcastUplinkPolicy$1),Kl=ss(NScaleVideoUplinkBandwidthPolicy$1),Gl=ss(DefaultVolumeIndicatorAdapter$1),nu=ss(AudioVideoControllerState);let Bl=class up{constructor(Qs,Al,Nl,eu,Jl,Zl){this._audioProfile=new cs.default,this.connectionHealthData=new ds.default,this.observerQueue=new Set,this.meetingSessionContext=new nu.default,this.enableSimulcast=!1,this.enableSVC=!1,this.useUpdateTransceiverControllerForUplink=!1,this.totalRetryCount=0,this.startAudioVideoTimestamp=0,this.mayNeedRenegotiationForSimulcastLayerChange=!1,this.promotedToPrimaryMeeting=!1,this.hasGetRTCPeerConnectionStatsDeprecationMessageBeenSent=!1,this.receiveIndexTask=void 0,this.monitorTask=void 0,this.receiveRemotePauseResumeTask=void 0,this.destroyed=!1,this._logger=Al,this.sessionStateController=new Ss.default(this._logger),this._configuration=Qs,this._webSocketAdapter=Nl,this._realtimeController=new xs.default(eu),this._realtimeController.realtimeSetLocalAttendeeId(Qs.credentials.attendeeId,Qs.credentials.externalUserId),this._mediaStreamBroker=eu,this._reconnectController=Jl,this._videoTileController=new Vl.default(new Xl.default,this,this._logger),this._audioMixController=new ls.default(this._logger),this._mediaStreamBroker.addMediaStreamBrokerObserver(this._audioMixController),this.meetingSessionContext.logger=this._logger,this._eventController=Zl}destroy(){return os(this,void 0,void 0,function*(){this.observerQueue.clear(),this._mediaStreamBroker.removeMediaStreamBrokerObserver(this._audioMixController),this.destroyed=!0})}get configuration(){return this._configuration}get realtimeController(){return this._realtimeController}get activeSpeakerDetector(){return this._activeSpeakerDetector||(this._activeSpeakerDetector=new as.default(this._realtimeController,this._configuration.credentials.attendeeId,this.handleHasBandwidthPriority.bind(this))),this._activeSpeakerDetector}get videoTileController(){return this._videoTileController}get audioMixController(){return this._audioMixController}get logger(){return this._logger}get rtcPeerConnection(){return this.meetingSessionContext&&this.meetingSessionContext.peer||null}get mediaStreamBroker(){return this._mediaStreamBroker}get eventController(){return this._eventController}getRTCPeerConnectionStats(Qs){return this.hasGetRTCPeerConnectionStatsDeprecationMessageBeenSent||(this.logger.warn("The `getRTCPeerConnectionStats()` is on its way to be deprecated. It makes an additional call to the `getStats` API and therefore may cause slight performance degradation. Please use the new API `clientMetricReport.getRTCStatsReport()` returned by `metricsDidReceive(clientMetricReport)` callback instead."),this.hasGetRTCPeerConnectionStatsDeprecationMessageBeenSent=!0),this.rtcPeerConnection?this.rtcPeerConnection.getStats(Qs):null}setAudioProfile(Qs){this._audioProfile=Qs}addObserver(Qs){this.logger.info("adding meeting observer"),this.observerQueue.add(Qs)}removeObserver(Qs){this.logger.info("removing meeting observer"),this.observerQueue.delete(Qs)}forEachObserver(Qs){for(const Al of this.observerQueue)ys.default.nextTick(()=>{this.observerQueue.has(Al)&&Qs(Al)})}initSignalingClient(){this.connectionHealthData.reset(),!this.meetingSessionContext.signalingClient&&(this.meetingSessionContext=new nu.default,this.meetingSessionContext.logger=this.logger,this.meetingSessionContext.eventController=this.eventController,this.meetingSessionContext.browserBehavior=new us.default,this.meetingSessionContext.videoSendCodecPreferences=this.videoSendCodecPreferences,this.meetingSessionContext.audioProfile=this._audioProfile,this.meetingSessionContext.meetingSessionConfiguration=this.configuration,this.meetingSessionContext.signalingClient=new ws.default(this._webSocketAdapter,this.logger))}uninstallPreStartObserver(){this.meetingSessionContext.signalingClient.removeObserver(this.preStartObserver),this.preStartObserver=void 0}prestart(){return this.logger.info("Pre-connecting signaling connection."),this.createOrReuseSignalingTask().run().then(()=>{const Qs=()=>os(this,void 0,void 0,function*(){this.logger.info("Early connection closed; discarding signaling task."),this.signalingTask=void 0,this.uninstallPreStartObserver()});this.preStartObserver={handleSignalingClientEvent(Al){Al.type===Is.default.WebSocketClosed&&Qs()}},this.meetingSessionContext.signalingClient.registerObserver(this.preStartObserver)}).catch(Qs=>{this.logger.error("Signaling task pre-start failed: ".concat(Qs)),this.signalingTask=void 0})}start(Qs){this.startReturningPromise(Qs).then(()=>{this.logger.info("start completed")}).catch(Al=>{this.logger.error("start failed: ".concat(Al))})}startReturningPromise(Qs){return(Qs==null?void 0:Qs.signalingOnly)===!0?this.prestart():(this.activeSpeakerDetector,new Promise((Al,Nl)=>{this.sessionStateController.perform(Cs.default.Connect,()=>{this.actionConnect(!1).then(Al).catch(Nl)})}))}connectWithPromises(Qs){const Al=this.meetingSessionContext,Nl=($u,mu)=>new wl.default(this.logger,mu,$u);this.monitorTask=new Us.default(Al,this.configuration.connectionHealthPolicyConfiguration,this.connectionHealthData);const eu=this.monitorTask.once(),Jl=new Vs.default(Al).once();this.receiveIndexTask=new Pl.default(Al),this.monitorTask.pauseResubscribeCheck(),this.receiveIndexTask.pauseIngestion();const Zl=new El.default(this.logger,"Signaling",[this.createOrReuseSignalingTask(),new Gs.default(Al),new Tl.default(Al),new Ls.default(Al),this.receiveIndexTask]).once(),tu=new Fs.default(Al).once(Zl),au=new Ms.default(Al).once(tu,Jl),du=new js.default(Al).once(au),lu=new $l.default(Al).once(du),fu=new Ps.default(Al).once(lu),_u=new Ml.default(Al).once(fu);return this.receiveRemotePauseResumeTask=new Ks.default(Al),this.receiveRemotePauseResumeTask.once(_u),new El.default(this.logger,this.wrapTaskName("AudioVideoStart"),[eu,Nl(this.configuration.connectionTimeoutMs,new El.default(this.logger,"Peer",[_u,this.receiveRemotePauseResumeTask,Qs?new wl.default(this.logger,new zs.default(this.logger,"FinalizeConnection",[new Rl.default(Al),new Sl.default(Al)]),this.meetingSessionContext.meetingSessionConfiguration.attendeePresenceTimeoutMs):new Sl.default(Al)]))])}actionConnect(Qs){var Al;return os(this,void 0,void 0,function*(){this.initSignalingClient(),this.uninstallPreStartObserver(),this.meetingSessionContext.mediaStreamBroker=this._mediaStreamBroker,this.meetingSessionContext.realtimeController=this._realtimeController,this.meetingSessionContext.audioMixController=this._audioMixController,this.meetingSessionContext.audioVideoController=this,this.enableSimulcast=this.configuration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers&&new us.default().hasChromiumWebRTC(),this.enableSimulcast&&this.configuration.enableSVC&&this.logger.warn("SVC cannot be enabled at the same time as simulcast. Disabling SVC, using simulcast."),this.enableSVC=!this.enableSimulcast&&this.configuration.enableSVC&&new us.default().supportsScalableVideoCoding();const Nl=!!this.configuration.urls.audioHostURL;if(Nl?this.enableSimulcast?(this.logger.info("Using transceiver controller with simulcast support"),new vs.default(this.configuration.credentials.attendeeId).hasModality(vs.default.MODALITY_CONTENT)?this.meetingSessionContext.transceiverController=new Bs.default(this.logger,this.meetingSessionContext.browserBehavior,this.meetingSessionContext):this.meetingSessionContext.transceiverController=new Zs.default(this.logger,this.meetingSessionContext.browserBehavior,this.meetingSessionContext)):(this.logger.info("Using default transceiver controller"),this.meetingSessionContext.transceiverController=new yl.default(this.logger,this.meetingSessionContext.browserBehavior,this.meetingSessionContext)):(this.logger.info("Using video only transceiver controller"),this.meetingSessionContext.transceiverController=new Ys.default(this.logger,this.meetingSessionContext.browserBehavior,this.meetingSessionContext)),this.meetingSessionContext.volumeIndicatorAdapter=new Gl.default(this.logger,this._realtimeController,up.MIN_VOLUME_DECIBELS,up.MAX_VOLUME_DECIBELS,this.configuration.credentials.attendeeId),this.meetingSessionContext.videoTileController=this._videoTileController,this.meetingSessionContext.videoDownlinkBandwidthPolicy=this.configuration.videoDownlinkBandwidthPolicy,this.meetingSessionContext.videoUplinkBandwidthPolicy=this.configuration.videoUplinkBandwidthPolicy,this.meetingSessionContext.enableSimulcast=this.enableSimulcast,this.meetingSessionContext.enableSVC=this.enableSVC,this.enableSimulcast){let Zl=this.meetingSessionContext.videoUplinkBandwidthPolicy;Zl||(Zl=new Ql.default(this.configuration.credentials.attendeeId,this.meetingSessionContext.logger),this.meetingSessionContext.videoUplinkBandwidthPolicy=Zl),Zl.addObserver(this),this.meetingSessionContext.videoDownlinkBandwidthPolicy||(this.meetingSessionContext.videoDownlinkBandwidthPolicy=new xl.default(this.meetingSessionContext.logger)),this.meetingSessionContext.videoStreamIndex=new Ll.default(this.logger)}else this.meetingSessionContext.enableSimulcast=!1,this.meetingSessionContext.videoStreamIndex=new Ol.default(this.logger),this.meetingSessionContext.videoUplinkBandwidthPolicy||(this.meetingSessionContext.videoUplinkBandwidthPolicy=new Kl.default(this.configuration.credentials.attendeeId,!this.meetingSessionContext.browserBehavior.disableResolutionScaleDown(),this.meetingSessionContext.logger,this.meetingSessionContext.browserBehavior),this.meetingSessionContext.videoUplinkBandwidthPolicy.setSVCEnabled(this.enableSVC)),this.meetingSessionContext.videoDownlinkBandwidthPolicy||(this.meetingSessionContext.videoDownlinkBandwidthPolicy=new Xs.default(this.configuration.credentials.attendeeId)),this.meetingSessionContext.videoUplinkBandwidthPolicy.setTransceiverController&&this.meetingSessionContext.videoUplinkBandwidthPolicy.updateTransceiverController&&(this.useUpdateTransceiverControllerForUplink=!0,this.meetingSessionContext.videoUplinkBandwidthPolicy.setTransceiverController(this.meetingSessionContext.transceiverController)),this.meetingSessionContext.audioProfile=this._audioProfile;if(new vs.default(this.configuration.credentials.attendeeId).hasModality(vs.default.MODALITY_CONTENT)){const Zl=this.configuration.meetingFeatures.contentMaxResolution===fs.default.VideoResolutionUHD;Zl&&this.setVideoMaxBandwidthKbps(2500),this.meetingSessionContext.videoUplinkBandwidthPolicy.setHighResolutionFeatureEnabled(Zl)}else{const Zl=this.configuration.meetingFeatures.videoMaxResolution===fs.default.VideoResolutionFHD;this.meetingSessionContext.videoUplinkBandwidthPolicy.setHighResolutionFeatureEnabled(Zl)}this.meetingSessionContext.videoUplinkBandwidthPolicy&&this.maxUplinkBandwidthKbps&&this.meetingSessionContext.videoUplinkBandwidthPolicy.setIdealMaxBandwidthKbps(this.maxUplinkBandwidthKbps),this.meetingSessionContext.videoDownlinkBandwidthPolicy.bindToTileController&&this.meetingSessionContext.videoDownlinkBandwidthPolicy.bindToTileController(this._videoTileController),this.meetingSessionContext.videoDownlinkBandwidthPolicy.setWantsResubscribeObserver&&this.meetingSessionContext.videoDownlinkBandwidthPolicy.setWantsResubscribeObserver(()=>this.update({needsRenegotiation:!1})),this.meetingSessionContext.lastKnownVideoAvailability=new gs.default,this.meetingSessionContext.videoCaptureAndEncodeParameter=new Cl.default(0,0,0,0,!1),this.meetingSessionContext.videosToReceive=new Dl.default,this.meetingSessionContext.videosPaused=new Dl.default,this.meetingSessionContext.statsCollector=new ks.default(this,this.logger),this.meetingSessionContext.connectionMonitor=new ps.default(this,this._realtimeController,this.connectionHealthData,new bs.default(this.meetingSessionContext.signalingClient,up.PING_PONG_INTERVAL_MS,this.logger),this.meetingSessionContext.statsCollector),this.meetingSessionContext.reconnectController=this._reconnectController,this.meetingSessionContext.videoDeviceInformation={},Qs||(this.totalRetryCount=0,this._reconnectController.reset(),this.startAudioVideoTimestamp=Date.now(),this.forEachObserver(Zl=>{_l.Maybe.of(Zl.audioVideoDidStartConnecting).map(tu=>tu.bind(Zl)(!1))}),(Al=this.eventController)===null||Al===void 0||Al.publishEvent("meetingStartRequested")),this.meetingSessionContext.startAudioVideoTimestamp=this.startAudioVideoTimestamp,this._reconnectController.hasStartedConnectionAttempt()?this._reconnectController.startedConnectionAttempt(!1):this._reconnectController.startedConnectionAttempt(!0);const eu=Nl&&this.meetingSessionContext.meetingSessionConfiguration.attendeePresenceTimeoutMs>0;this.logger.info("Needs to wait for attendee presence? "+eu);const Jl=this.connectWithPromises(eu);try{yield Jl.run(),this.connectionHealthData.setConnectionStartTime(),this._mediaStreamBroker.addMediaStreamBrokerObserver(this),this.sessionStateController.perform(Cs.default.FinishConnecting,()=>{this.eventController&&(this.meetingSessionContext.meetingStartDurationMs=Date.now()-this.startAudioVideoTimestamp,this.eventController.publishEvent("meetingStartSucceeded",{maxVideoTileCount:this.meetingSessionContext.maxVideoTileCount,poorConnectionCount:this.meetingSessionContext.poorConnectionCount,retryCount:this.totalRetryCount,signalingOpenDurationMs:this.meetingSessionContext.signalingOpenDurationMs,iceGatheringDurationMs:this.meetingSessionContext.iceGatheringDurationMs,meetingStartDurationMs:this.meetingSessionContext.meetingStartDurationMs})),this.meetingSessionContext.startTimeMs=Date.now(),this.actionFinishConnecting()})}catch(Zl){this.signalingTask=void 0;const tu=new hs.default(this.getMeetingStatusCode(Zl)||ms.default.TaskFailed);if(this.logger.info("Start failed: ".concat(tu," due to error ").concat(Zl,".")),this.sessionStateController.state()===$s.default.NotConnected){this.logger.info("Start failed and not connected. Not cleaning up.");return}this.sessionStateController.perform(Cs.default.Fail,()=>os(this,void 0,void 0,function*(){yield this.actionDisconnect(tu,!0,Zl),this.handleMeetingSessionStatus(tu,Zl)||this.notifyStop(tu,Zl)}))}})}createOrReuseSignalingTask(){return this.signalingTask||(this.initSignalingClient(),this.signalingTask=new wl.default(this.logger,new Hs.default(this.meetingSessionContext),this.configuration.connectionTimeoutMs).once()),this.signalingTask}actionFinishConnecting(){this.signalingTask=void 0,this.meetingSessionContext.videoDuplexMode=As.SdkStreamServiceType.RX,this.meetingSessionContext.enableSimulcast||(this.useUpdateTransceiverControllerForUplink?this.meetingSessionContext.videoUplinkBandwidthPolicy.updateTransceiverController():this.enforceBandwidthLimitationForSender(this.meetingSessionContext.videoCaptureAndEncodeParameter.encodeBitrates()[0])),this.forEachObserver(Qs=>{_l.Maybe.of(Qs.audioVideoDidStart).map(Al=>Al.bind(Qs)())}),this._reconnectController.reset(),this.receiveIndexTask.resumeIngestion(),this.monitorTask.resumeResubscribeCheck()}stopReturningPromise(){var Qs;return this.sessionStateController.state()===$s.default.NotConnected?((Qs=this.meetingSessionContext.signalingClient)===null||Qs===void 0||Qs.closeConnection(),this.cleanUpMediaStreamsAfterStop(),Promise.resolve()):new Promise((Al,Nl)=>{this.sessionStateController.perform(Cs.default.Disconnect,()=>{this._reconnectController.disableReconnect(),this.logger.info("attendee left meeting, session will not be reconnected"),this.actionDisconnect(new hs.default(ms.default.Left),!1,null).then(Al).catch(Nl)})})}stop(){this.stopReturningPromise()}actionDisconnect(Qs,Al,Nl){return os(this,void 0,void 0,function*(){try{yield new El.default(this.logger,this.wrapTaskName("AudioVideoStop"),[new wl.default(this.logger,new Ns.default(this.meetingSessionContext),this.configuration.connectionTimeoutMs)]).run()}catch{this.logger.info("fail to stop")}try{const eu=[new wl.default(this.logger,new Ds.default(this.meetingSessionContext),this.configuration.connectionTimeoutMs)];this.cleanUpMediaStreamsAfterStop(),yield new El.default(this.logger,this.wrapTaskName("AudioVideoClean"),eu).run()}catch{this.logger.info("fail to clean")}this.sessionStateController.perform(Cs.default.FinishDisconnecting,()=>{Al||this.notifyStop(Qs,Nl)})})}update(Qs={needsRenegotiation:!0}){let Al=Qs.needsRenegotiation;if(Al||(Al=this.meetingSessionContext.peer===void 0),Al||(Al=!this.updateRemoteVideosFromPolicy()),Al||(Al=!this.updateLocalVideoFromPolicy()),this.meetingSessionContext.lastVideosToReceive=this.meetingSessionContext.videosToReceive,!Al)return this.logger.info("Update request does not require resubscribe"),this.actionFinishUpdating(),!0;this.logger.info("Update request requires resubscribe");const Nl=this.sessionStateController.perform(Cs.default.Update,()=>{this.actionUpdateWithRenegotiation(!0)});return Nl===Es.default.Transitioned||Nl===Es.default.DeferredTransition}updateRemoteVideosFromPolicy(){if(this.meetingSessionContext.videoDownlinkBandwidthPolicy&&this.meetingSessionContext.videoDownlinkBandwidthPolicy.getVideoPreferences!==void 0&&this.meetingSessionContext.videoDownlinkBandwidthPolicy.getServerSideNetworkAdaption!==void 0&&!Ts.serverSideNetworkAdaptionIsNoneOrDefault(this.meetingSessionContext.videoDownlinkBandwidthPolicy.getServerSideNetworkAdaption())){if(!this.sendRemoteVideoUpdate())return!1;if(this.meetingSessionContext.videoDownlinkBandwidthPolicy.getServerSideNetworkAdaption()===Ts.default.BandwidthProbingAndRemoteVideoQualityAdaption)return this.isNotAddingOrRemovingStreams()}return this.updateRemoteVideosIfNotAddingOrRemovingStreams()}updateRemoteVideosIfNotAddingOrRemovingStreams(){const Qs=this.detectChangesInVideosToReceive();if(Qs===void 0)return!1;const Al=Qs.added,Nl=Qs.simulcastStreamUpdates,eu=Qs.removed,Jl=this.meetingSessionContext,Zl=[];for(const[tu,au]of Nl.entries()){const du=new Rs.default;if(du.streamId=au,du.attendeeId=Jl.videoStreamIndex.attendeeIdForStreamId(au),du.mid=Jl.transceiverController.getMidForStreamId(tu),du.mid===void 0)return this.logger.info("No MID found for stream ID ".concat(tu,", cannot update stream without renegotiation")),!1;if(Zl.push(du),Jl.transceiverController.setStreamIdForMid(du.mid,au),Jl.videoStreamIndex.overrideStreamIdMappings(tu,au),Jl.videoTileController.haveVideoTileForAttendeeId(du.attendeeId)){const lu=Jl.videoTileController.getVideoTileForAttendeeId(du.attendeeId);if(!lu.setStreamId)return!1;lu.setStreamId(au)}}return Zl.length!==0&&Jl.signalingClient.remoteVideoUpdate(Zl,[]),Al.length!==0||eu.length!==0?!1:(Jl.videoStreamIndex.remoteVideoUpdateSent(),!0)}detectChangesInVideosToReceive(){const Qs=this.meetingSessionContext;if(Qs.videosToReceive===null||!Qs.transceiverController||!Qs.transceiverController.getMidForStreamId||!Qs.transceiverController.setStreamIdForMid||!Qs.videosToReceive.forEach||!Qs.signalingClient.remoteVideoUpdate||!Qs.videoStreamIndex.overrideStreamIdMappings)return;let Al=[];const Nl=new Map;let eu=[];if(Qs.lastVideosToReceive===null)Al=Qs.videosToReceive.array();else{const Jl=Qs.videoStreamIndex;Qs.videosToReceive.forEach(Zl=>{if(Qs.lastVideosToReceive.contain(Zl))return;let tu=!1;Qs.lastVideosToReceive.forEach(au=>{tu||Jl.StreamIdsInSameGroup(au,Zl)&&(Nl.set(au,Zl),tu=!0)}),tu||Al.push(Zl)}),eu=Qs.lastVideosToReceive.array().filter(Zl=>{const tu=Qs.videosToReceive.contain(Zl),au=Nl.has(Zl);return!tu&&!au})}return this.logger.info("Request to update remote videos with added: [".concat(Al,"], updated: [").concat(Array.from(Nl.entries()).map(([Jl,Zl])=>"".concat(Jl,"->").concat(Zl)).join(","),"], removed: [").concat(eu,"]")),{added:Al,removed:eu,simulcastStreamUpdates:Nl}}isNotAddingOrRemovingStreams(){const Qs=this.detectChangesInVideosToReceive();if(Qs===void 0)return!1;const Al=Qs.added,Nl=Qs.removed;return Al.length!==0||Nl.length!==0?!1:(this.meetingSessionContext.videoStreamIndex.remoteVideoUpdateSent(),!0)}sendRemoteVideoUpdate(){const Qs=this.meetingSessionContext;if(Qs.videosToReceive===null)return!1;const Al=Qs.videosToReceive.array().map(tu=>Qs.videoStreamIndex.groupIdForStreamId(tu));this.receiveRemotePauseResumeTask.updateSubscribedGroupdIds(new Set(Al));const Nl=$a.convertVideoPreferencesToSignalingClientVideoSubscriptionConfiguration(Qs,Al,Qs.videoDownlinkBandwidthPolicy.getVideoPreferences()),eu=new Map,Jl=[];for(const tu of Nl){let au=!1;if(!Qs.lastVideoSubscriptionConfiguration.has(tu.groupId))au=!0;else{const du=Qs.lastVideoSubscriptionConfiguration.get(tu.groupId);tu.equals(du)||(this.logger.debug("".concat(JSON.stringify(tu)," does not equal ").concat(JSON.stringify(du),", sending update")),au=!0)}eu.set(tu.groupId,tu),au&&Jl.push(tu)}Qs.lastVideoSubscriptionConfiguration=eu;const Zl=[];if(Qs.lastVideosToReceive!==null){const tu=new Set(Al);for(const au of Qs.lastVideosToReceive.array()){const du=Qs.videoStreamIndex.groupIdForStreamId(au);if(!tu.has(du)){const lu=Qs.transceiverController.getMidForGroupId(du);if(lu===void 0){Qs.logger.warn("Could not find MID for group ID to remove: ".concat(du));continue}Zl.push(lu)}}}return(Jl.length!==0||Zl.length!==0)&&Qs.signalingClient.remoteVideoUpdate(Jl,Zl),!0}updateLocalVideoFromPolicy(){if(this.meetingSessionContext.enableSimulcast){const Qs=this.meetingSessionContext.videoUplinkBandwidthPolicy.chooseEncodingParameters();if(this.mayNeedRenegotiationForSimulcastLayerChange&&this.meetingSessionContext.transceiverController.hasVideoInput()&&!this.negotiatedBitrateLayersAllocationRtpHeaderExtension())return this.logger.info("Needs regenotiation for local video simulcast layer change"),this.mayNeedRenegotiationForSimulcastLayerChange=!1,!1;this.meetingSessionContext.transceiverController.setEncodingParameters(Qs)}else this.meetingSessionContext.videoCaptureAndEncodeParameter=this.meetingSessionContext.videoUplinkBandwidthPolicy.chooseCaptureAndEncodeParameters();return this.logger.info("Updated local video from policy without renegotiation"),!0}negotiatedBitrateLayersAllocationRtpHeaderExtension(){if(!this.meetingSessionContext.transceiverController.localVideoTransceiver())return!1;const Qs=this.meetingSessionContext.transceiverController.localVideoTransceiver().sender.getParameters();return!Qs||!Qs.headerExtensions?!1:Qs.headerExtensions.some(Al=>Al.uri==="http://www.webrtc.org/experiments/rtp-hdrext/video-layers-allocation00")}restartLocalVideo(Qs){const Al=()=>os(this,void 0,void 0,function*(){this._videoTileController.hasStartedLocalVideoTile()&&(this.logger.info("stopping local video tile prior to local video restart"),this._videoTileController.stopLocalVideoTile(),this.logger.info("preparing local video restart update"),yield this.actionUpdateWithRenegotiation(!1),this.logger.info("starting local video tile for local video restart"),this._videoTileController.startLocalVideoTile()),this.logger.info("finalizing local video restart update"),yield this.actionUpdateWithRenegotiation(!0),Qs()}),Nl=this.sessionStateController.perform(Cs.default.Update,()=>{Al()});return Nl===Es.default.Transitioned||Nl===Es.default.DeferredTransition}replaceLocalVideo(Qs){return os(this,void 0,void 0,function*(){if(!Qs||Qs.getVideoTracks().length<1)throw new Error("could not acquire video track");if(!this.meetingSessionContext||!this.meetingSessionContext.peer)throw new Error("no active meeting and peer connection");const Al=this.meetingSessionContext.videoTileController.getLocalVideoTile();if(Al){const Nl=Al.state(),eu=Qs.getVideoTracks()[0].getSettings();Al.bindVideoStream(Nl.boundAttendeeId,!0,Qs,eu.width,eu.height,Nl.streamId,Nl.boundExternalUserId)}yield this.meetingSessionContext.transceiverController.setVideoInput(Qs.getVideoTracks()[0]),this.meetingSessionContext.activeVideoInput=Qs,this.logger.info("Local video input is updated")})}replaceLocalAudio(Qs){return os(this,void 0,void 0,function*(){if(!Qs||Qs.getAudioTracks().length<1)throw new Error("could not acquire audio track");if(!this.meetingSessionContext||!this.meetingSessionContext.peer)throw new Error("no active meeting and peer connection");if(this.connectionHealthData.reset(),this.connectionHealthData.setConnectionStartTime(),!(yield this.meetingSessionContext.transceiverController.replaceAudioTrack(Qs.getAudioTracks()[0])))throw new Error("Failed to replace audio track");this.meetingSessionContext.activeAudioInput=Qs,this.logger.info("Local audio input is updated")})}actionUpdateWithRenegotiation(Qs){return os(this,void 0,void 0,function*(){this.monitorTask.pauseResubscribeCheck(),this.receiveIndexTask.pauseIngestion();try{yield new El.default(this.logger,this.wrapTaskName("AudioVideoUpdate"),[new Ws.default(this.meetingSessionContext),new wl.default(this.logger,new El.default(this.logger,"UpdateSession",[new Ms.default(this.meetingSessionContext),new js.default(this.meetingSessionContext),new $l.default(this.meetingSessionContext),new Ps.default(this.meetingSessionContext),new Ml.default(this.meetingSessionContext),new Sl.default(this.meetingSessionContext)]),this.configuration.connectionTimeoutMs)]).run(),Qs&&this.sessionStateController.perform(Cs.default.FinishUpdating,()=>{this.actionFinishUpdating()})}catch(Al){this.sessionStateController.perform(Cs.default.FinishUpdating,()=>{const Nl=new hs.default(this.getMeetingStatusCode(Al)||ms.default.TaskFailed);Nl.statusCode()!==ms.default.IncompatibleSDP&&this.logger.info("failed to update audio-video session"),this.handleMeetingSessionStatus(Nl,Al)})}})}notifyStop(Qs,Al){var Nl;if(this.forEachObserver(eu=>{_l.Maybe.of(eu.audioVideoDidStop).map(Jl=>Jl.bind(eu)(Qs))}),this.eventController){const{signalingOpenDurationMs:eu,poorConnectionCount:Jl,startTimeMs:Zl,iceGatheringDurationMs:tu,attendeePresenceDurationMs:au,meetingStartDurationMs:du}=this.meetingSessionContext,lu={maxVideoTileCount:this.meetingSessionContext.maxVideoTileCount,meetingDurationMs:Zl===null?0:Math.round(Date.now()-Zl),meetingStatus:ms.default[Qs.statusCode()],signalingOpenDurationMs:eu,iceGatheringDurationMs:tu,attendeePresenceDurationMs:au,poorConnectionCount:Jl,meetingStartDurationMs:du,retryCount:this.totalRetryCount},fu=Al&&Al.message||((Nl=Qs.toString)===null||Nl===void 0?void 0:Nl.call(Qs))||"";lu.meetingDurationMs===0?(lu.meetingErrorMessage=fu,delete lu.meetingDurationMs,delete lu.attendeePresenceDurationMs,delete lu.meetingStartDurationMs,this.eventController.publishEvent("meetingStartFailed",lu)):Qs.isFailure()||Qs.isAudioConnectionFailure()?(lu.meetingErrorMessage=fu,this.eventController.publishEvent("meetingFailed",lu)):this.eventController.publishEvent("meetingEnded",lu)}}actionFinishUpdating(){if(!this.meetingSessionContext.enableSimulcast)if(this.useUpdateTransceiverControllerForUplink)this.meetingSessionContext.videoUplinkBandwidthPolicy.updateTransceiverController();else{const Qs=this.meetingSessionContext.videoCaptureAndEncodeParameter.encodeBitrates()[0];this.enforceBandwidthLimitationForSender(Qs)}this.monitorTask.resumeResubscribeCheck(),this.receiveIndexTask.resumeIngestion(),this.logger.info("updated audio-video session")}reconnect(Qs,Al){this.promotedToPrimaryMeeting&&(this.promotedToPrimaryMeeting=!1,this.forEachObserver(eu=>{_l.Maybe.of(eu.audioVideoWasDemotedFromPrimaryMeeting).map(Jl=>Jl.bind(eu)(new hs.default(ms.default.AudioVideoDisconnectedWhilePromoted)))}));const Nl=this._reconnectController.retryWithBackoff(()=>os(this,void 0,void 0,function*(){this.sessionStateController.state()===$s.default.NotConnected?this.sessionStateController.perform(Cs.default.Connect,()=>{this.actionConnect(!0)}):this.sessionStateController.perform(Cs.default.Reconnect,()=>{this.actionReconnect(Qs)}),this.totalRetryCount+=1}),()=>{this.logger.info("canceled retry")});return Nl||this.sessionStateController.perform(Cs.default.Fail,()=>{this.actionDisconnect(Qs,!1,Al)}),Nl}actionReconnect(Qs){return os(this,void 0,void 0,function*(){this._reconnectController.hasStartedConnectionAttempt()||(this._reconnectController.startedConnectionAttempt(!1),this.forEachObserver(Al=>{_l.Maybe.of(Al.audioVideoDidStartConnecting).map(Nl=>Nl.bind(Al)(!0))})),this.meetingSessionContext.volumeIndicatorAdapter.onReconnect(),this.connectionHealthData.reset(),this.receiveRemotePauseResumeTask=new Ks.default(this.meetingSessionContext);try{yield new El.default(this.logger,this.wrapTaskName("AudioVideoReconnect"),[new wl.default(this.logger,new El.default(this.logger,"Media",[new Os.default(this.meetingSessionContext),new El.default(this.logger,"Signaling",[new Hs.default(this.meetingSessionContext),new Ls.default(this.meetingSessionContext)]),new Fs.default(this.meetingSessionContext)]),this.configuration.connectionTimeoutMs),new Ws.default(this.meetingSessionContext),new wl.default(this.logger,new El.default(this.logger,"UpdateSession",[new Ms.default(this.meetingSessionContext),new js.default(this.meetingSessionContext),new $l.default(this.meetingSessionContext),new Ps.default(this.meetingSessionContext),new Ml.default(this.meetingSessionContext),new Sl.default(this.meetingSessionContext),this.receiveRemotePauseResumeTask]),this.configuration.connectionTimeoutMs)]).run(),this.sessionStateController.perform(Cs.default.FinishConnecting,()=>{if(this.eventController){const{signalingOpenDurationMs:Al,poorConnectionCount:Nl,startTimeMs:eu,iceGatheringDurationMs:Jl,attendeePresenceDurationMs:Zl,meetingStartDurationMs:tu}=this.meetingSessionContext,au={maxVideoTileCount:this.meetingSessionContext.maxVideoTileCount,meetingDurationMs:Math.round(Date.now()-eu),meetingStatus:ms.default[Qs.statusCode()],signalingOpenDurationMs:Al,iceGatheringDurationMs:Jl,attendeePresenceDurationMs:Zl,poorConnectionCount:Nl,meetingStartDurationMs:tu,retryCount:this.totalRetryCount};this.eventController.publishEvent("meetingReconnected",au)}this.actionFinishConnecting()})}catch(Al){this.sessionStateController.perform(Cs.default.FinishConnecting,()=>{this.logger.info("failed to reconnect audio-video session");const Nl=new hs.default(this.getMeetingStatusCode(Al)||ms.default.TaskFailed);this.handleMeetingSessionStatus(Nl,Al)})}this.connectionHealthData.setConnectionStartTime()})}wrapTaskName(Qs){return"".concat(Qs,"/").concat(this.configuration.meetingId,"/").concat(this.configuration.credentials.attendeeId)}cleanUpMediaStreamsAfterStop(){this._mediaStreamBroker.removeMediaStreamBrokerObserver(this),this.meetingSessionContext.activeAudioInput=void 0,this.meetingSessionContext.activeVideoInput=void 0}getMeetingStatusCode(Qs){const Al=/the meeting status code: (\d+)/.exec(Qs&&Qs.message);return Al&&Al.length>1?Number.parseInt(Al[1],10):null}enforceBandwidthLimitationForSender(Qs){return os(this,void 0,void 0,function*(){yield this.meetingSessionContext.transceiverController.setVideoSendingBitrateKbps(Qs)})}handleMeetingSessionStatus(Qs,Al){if(this.logger.info("handling status: ".concat(ms.default[Qs.statusCode()])),Qs.isTerminal()||this.meetingSessionContext.statsCollector&&this.meetingSessionContext.statsCollector.logMeetingSessionStatus(Qs),Qs.statusCode()===ms.default.IncompatibleSDP)return this.restartLocalVideo(()=>{this.logger.info("handled incompatible SDP by attempting to restart video")}),!0;if(Qs.statusCode()===ms.default.VideoCallSwitchToViewOnly)return this._videoTileController.removeLocalVideoTile(),this.forEachObserver(Nl=>{_l.Maybe.of(Nl.videoSendDidBecomeUnavailable).map(eu=>eu.bind(Nl)())}),!1;if(Qs.statusCode()===ms.default.AudioVideoWasRemovedFromPrimaryMeeting)return this.forEachObserver(Nl=>{_l.Maybe.of(Nl.audioVideoWasDemotedFromPrimaryMeeting).map(eu=>eu.bind(Nl)(Qs))}),!1;if(Qs.isTerminal()&&(this.logger.error("session will not be reconnected"),this.meetingSessionContext.reconnectController&&this.meetingSessionContext.reconnectController.disableReconnect()),(Qs.isFailure()||Qs.isTerminal())&&this.meetingSessionContext.reconnectController){const Nl=this.reconnect(Qs,Al);return Nl?this.logger.warn("will retry due to status code ".concat(ms.default[Qs.statusCode()]).concat(Al?" and error: ".concat(Al.message):"")):this.logger.error("failed with status code ".concat(ms.default[Qs.statusCode()]).concat(Al?" and error: ".concat(Al.message):"")),Nl}return!1}setVideoMaxBandwidthKbps(Qs){if(Qs<=0)throw new Error("Max bandwidth kbps has to be greater than 0");this.meetingSessionContext&&this.meetingSessionContext.videoUplinkBandwidthPolicy&&(this.logger.info("video send has ideal max bandwidth ".concat(Qs," kbps")),this.meetingSessionContext.videoUplinkBandwidthPolicy.setIdealMaxBandwidthKbps(Qs)),this.maxUplinkBandwidthKbps=Qs}handleHasBandwidthPriority(Qs){return os(this,void 0,void 0,function*(){if(this.meetingSessionContext&&this.meetingSessionContext.videoUplinkBandwidthPolicy&&!this.meetingSessionContext.enableSimulcast){if(this.useUpdateTransceiverControllerForUplink){this.meetingSessionContext.videoUplinkBandwidthPolicy.setHasBandwidthPriority(Qs),yield this.meetingSessionContext.videoUplinkBandwidthPolicy.updateTransceiverController();return}const Al=this.meetingSessionContext.videoUplinkBandwidthPolicy.maxBandwidthKbps();this.meetingSessionContext.videoUplinkBandwidthPolicy.setHasBandwidthPriority(Qs);const Nl=this.meetingSessionContext.videoUplinkBandwidthPolicy.maxBandwidthKbps();Al!==Nl&&(this.logger.info("video send bandwidth priority ".concat(Qs," max has changed from ").concat(Al," kbps to ").concat(Nl," kbps")),yield this.enforceBandwidthLimitationForSender(Nl))}})}pauseReceivingStream(Qs){this.meetingSessionContext&&this.meetingSessionContext.signalingClient&&this.meetingSessionContext.signalingClient.pause([Qs])}resumeReceivingStream(Qs){this.meetingSessionContext&&this.meetingSessionContext.signalingClient&&this.meetingSessionContext.signalingClient.resume([Qs])}setVideoCodecSendPreferences(Qs){this.videoSendCodecPreferences=Qs,this.meetingSessionContext.videoSendCodecPreferences=Qs,this.sessionStateController.state()!==$s.default.NotConnected&&this.update({needsRenegotiation:!0})}getRemoteVideoSources(){const{videoStreamIndex:Qs}=this.meetingSessionContext;if(!Qs)return this.logger.info("meeting has not started"),[];const Al=this.configuration.credentials.attendeeId;return Qs.allVideoSendingSourcesExcludingSelf(Al)}encodingSimulcastLayersDidChange(Qs){this.mayNeedRenegotiationForSimulcastLayerChange=!0,this.forEachObserver(Al=>{_l.Maybe.of(Al.encodingSimulcastLayersDidChange).map(Nl=>Nl.bind(Al)(Qs))})}promoteToPrimaryMeeting(Qs){return this.actionPromoteToPrimaryMeeting(Qs)}actionPromoteToPrimaryMeeting(Qs){return os(this,void 0,void 0,function*(){let Al=new hs.default(ms.default.SignalingRequestFailed);return yield new El.default(this.logger,this.wrapTaskName("PromoteToPrimaryMeeting"),[new wl.default(this.logger,new qs.default(this.meetingSessionContext,Qs,Nl=>{Al=Nl}),this.configuration.connectionTimeoutMs)]).run(),this.promotedToPrimaryMeeting=Al.statusCode()===ms.default.OK,Al})}demoteFromPrimaryMeeting(){this.meetingSessionContext.signalingClient.demoteFromPrimaryMeeting(),this.forEachObserver(Qs=>{_l.Maybe.of(Qs.audioVideoWasDemotedFromPrimaryMeeting).map(Al=>Al.bind(Qs)(new hs.default(ms.default.OK)))})}videoInputDidChange(Qs){return os(this,void 0,void 0,function*(){if(this.logger.info("Receive a video input change event"),!this.meetingSessionContext||!this.meetingSessionContext.peer){this.logger.info("Skip updating video input because there is no active meeting and peer connection");return}this._videoTileController.hasStartedLocalVideoTile()&&(Qs?yield this.replaceLocalVideo(Qs):this._videoTileController.stopLocalVideoTile())})}audioInputDidChange(Qs){return os(this,void 0,void 0,function*(){if(this.logger.info("Receive an audio input change event"),!this.meetingSessionContext||!this.meetingSessionContext.peer){this.logger.info("Skip updating audio input because there is no active meeting and peer connection");return}if(!Qs)try{Qs=yield this.mediaStreamBroker.acquireAudioInputStream()}catch{this.logger.error("Could not acquire audio track from mediaStreamBroker");return}yield this.replaceLocalAudio(Qs)})}};return DefaultAudioVideoController.default=Bl,Bl.MIN_VOLUME_DECIBELS=-42,Bl.MAX_VOLUME_DECIBELS=-14,Bl.PING_PONG_INTERVAL_MS=1e4,DefaultAudioVideoController}var DefaultAudioVideoFacade$1={},__awaiter$m=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,rs,ns,os){function ss(as){return as instanceof ns?as:new ns(function(ls){ls(as)})}return new(ns||(ns=Promise))(function(as,ls){function cs(ps){try{ds(os.next(ps))}catch(fs){ls(fs)}}function us(ps){try{ds(os.throw(ps))}catch(fs){ls(fs)}}function ds(ps){ps.done?as(ps.value):ss(ps.value).then(cs,us)}ds((os=os.apply(ts,rs||[])).next())})};Object.defineProperty(DefaultAudioVideoFacade$1,"__esModule",{value:!0});const VideoTransformDevice_1=VideoTransformDevice;class DefaultAudioVideoFacade{constructor(rs,ns,os,ss,as,ls){this.audioVideoController=rs,this.videoTileController=ns,this.realtimeController=os,this.audioMixController=ss,this.deviceController=as,this.contentShareController=ls}addObserver(rs){this.audioVideoController.addObserver(rs),this.trace("addObserver")}removeObserver(rs){this.audioVideoController.removeObserver(rs),this.trace("removeObserver")}setAudioProfile(rs){this.trace("setAudioProfile",rs),this.audioVideoController.setAudioProfile(rs)}start(rs){this.audioVideoController.start(rs),this.trace("start")}stop(){this.audioVideoController.stop(),this.trace("stop")}getRTCPeerConnectionStats(rs){return this.trace("getRTCPeerConnectionStats",rs?rs.id:null),this.audioVideoController.getRTCPeerConnectionStats(rs)}bindAudioElement(rs){const ns=this.audioMixController.bindAudioElement(rs);return this.trace("bindAudioElement",rs.id,ns),ns}unbindAudioElement(){this.audioMixController.unbindAudioElement(),this.trace("unbindAudioElement")}getCurrentMeetingAudioStream(){return this.trace("getCurrentConferenceStream"),this.audioMixController.getCurrentMeetingAudioStream()}addAudioMixObserver(rs){this.trace("addAudioMixObserver"),this.audioMixController.addAudioMixObserver(rs)}removeAudioMixObserver(rs){this.trace("removeAudioMixObserver"),this.audioMixController.removeAudioMixObserver(rs)}bindVideoElement(rs,ns){this.videoTileController.bindVideoElement(rs,ns),this.trace("bindVideoElement",{tileId:rs,videoElementId:ns.id})}unbindVideoElement(rs,ns=!0){this.videoTileController.unbindVideoElement(rs,ns),this.trace("unbindVideoElement",{tileId:rs,cleanUpVideoElement:ns})}startLocalVideoTile(){const rs=this.videoTileController.startLocalVideoTile();return this.trace("startLocalVideoTile",null,rs),rs}stopLocalVideoTile(){this.videoTileController.stopLocalVideoTile(),this.trace("stopLocalVideoTile")}hasStartedLocalVideoTile(){const rs=this.videoTileController.hasStartedLocalVideoTile();return this.trace("hasStartedLocalVideoTile",null,rs),rs}removeLocalVideoTile(){this.videoTileController.removeLocalVideoTile(),this.trace("removeLocalVideoTile")}getLocalVideoTile(){const rs=this.videoTileController.getLocalVideoTile();return this.trace("getLocalVideoTile"),rs}pauseVideoTile(rs){this.videoTileController.pauseVideoTile(rs),this.trace("pauseVideoTile",rs)}unpauseVideoTile(rs){this.videoTileController.unpauseVideoTile(rs),this.trace("unpauseVideoTile",rs)}getVideoTile(rs){const ns=this.videoTileController.getVideoTile(rs);return this.trace("getVideoTile",rs),ns}getAllRemoteVideoTiles(){const rs=this.videoTileController.getAllRemoteVideoTiles();return this.trace("getAllRemoteVideoTiles"),rs}getAllVideoTiles(){const rs=this.videoTileController.getAllVideoTiles();return this.trace("getAllVideoTiles"),rs}addVideoTile(){const rs=this.videoTileController.addVideoTile();return this.trace("addVideoTile",null,rs.state()),rs}removeVideoTile(rs){this.videoTileController.removeVideoTile(rs),this.trace("removeVideoTile",rs)}removeVideoTilesByAttendeeId(rs){const ns=this.videoTileController.removeVideoTilesByAttendeeId(rs);return this.trace("removeVideoTilesByAttendeeId",rs,ns),ns}removeAllVideoTiles(){this.videoTileController.removeAllVideoTiles(),this.trace("removeAllVideoTiles")}captureVideoTile(rs){const ns=this.videoTileController.captureVideoTile(rs);return this.trace("captureVideoTile",rs),ns}realtimeSubscribeToAttendeeIdPresence(rs){this.realtimeController.realtimeSubscribeToAttendeeIdPresence(rs),this.trace("realtimeSubscribeToAttendeeIdPresence")}realtimeUnsubscribeToAttendeeIdPresence(rs){this.realtimeController.realtimeUnsubscribeToAttendeeIdPresence(rs),this.trace("realtimeUnsubscribeToAttendeeIdPresence")}realtimeSetCanUnmuteLocalAudio(rs){this.realtimeController.realtimeSetCanUnmuteLocalAudio(rs),this.trace("realtimeSetCanUnmuteLocalAudio",rs)}realtimeSubscribeToSetCanUnmuteLocalAudio(rs){this.realtimeController.realtimeSubscribeToSetCanUnmuteLocalAudio(rs),this.trace("realtimeSubscribeToSetCanUnmuteLocalAudio")}realtimeUnsubscribeToSetCanUnmuteLocalAudio(rs){this.realtimeController.realtimeUnsubscribeToSetCanUnmuteLocalAudio(rs),this.trace("realtimeUnsubscribeToSetCanUnmuteLocalAudio")}realtimeCanUnmuteLocalAudio(){const rs=this.realtimeController.realtimeCanUnmuteLocalAudio();return this.trace("realtimeCanUnmuteLocalAudio",null,rs),rs}realtimeMuteLocalAudio(){this.realtimeController.realtimeMuteLocalAudio(),this.trace("realtimeMuteLocalAudio")}realtimeUnmuteLocalAudio(){const rs=this.realtimeController.realtimeUnmuteLocalAudio();return this.trace("realtimeUnmuteLocalAudio"),rs}realtimeSubscribeToMuteAndUnmuteLocalAudio(rs){this.realtimeController.realtimeSubscribeToMuteAndUnmuteLocalAudio(rs),this.trace("realtimeSubscribeToMuteAndUnmuteLocalAudio")}realtimeUnsubscribeToMuteAndUnmuteLocalAudio(rs){this.realtimeController.realtimeUnsubscribeToMuteAndUnmuteLocalAudio(rs),this.trace("realtimeUnsubscribeToMuteAndUnmuteLocalAudio")}realtimeIsLocalAudioMuted(){const rs=this.realtimeController.realtimeIsLocalAudioMuted();return this.trace("realtimeIsLocalAudioMuted"),rs}realtimeSubscribeToVolumeIndicator(rs,ns){this.realtimeController.realtimeSubscribeToVolumeIndicator(rs,ns),this.trace("realtimeSubscribeToVolumeIndicator",rs)}realtimeUnsubscribeFromVolumeIndicator(rs,ns){this.realtimeController.realtimeUnsubscribeFromVolumeIndicator(rs,ns),this.trace("realtimeUnsubscribeFromVolumeIndicator",rs,ns)}realtimeSubscribeToLocalSignalStrengthChange(rs){this.realtimeController.realtimeSubscribeToLocalSignalStrengthChange(rs),this.trace("realtimeSubscribeToLocalSignalStrengthChange")}realtimeUnsubscribeToLocalSignalStrengthChange(rs){this.realtimeController.realtimeUnsubscribeToLocalSignalStrengthChange(rs),this.trace("realtimeUnsubscribeToLocalSignalStrengthChange")}realtimeSendDataMessage(rs,ns,os){this.realtimeController.realtimeSendDataMessage(rs,ns,os),this.trace("realtimeSendDataMessage")}realtimeSubscribeToReceiveDataMessage(rs,ns){this.realtimeController.realtimeSubscribeToReceiveDataMessage(rs,ns),this.trace("realtimeSubscribeToReceiveDataMessage")}realtimeUnsubscribeFromReceiveDataMessage(rs){this.realtimeController.realtimeUnsubscribeFromReceiveDataMessage(rs),this.trace("realtimeUnsubscribeFromReceiveDataMessage")}realtimeSubscribeToFatalError(rs){this.realtimeController.realtimeSubscribeToFatalError(rs),this.trace("realtimeSubscribeToFatalError")}realtimeUnsubscribeToFatalError(rs){this.realtimeController.realtimeUnsubscribeToFatalError(rs),this.trace("realtimeUnsubscribeToFatalError")}subscribeToActiveSpeakerDetector(rs,ns,os,ss){this.audioVideoController.activeSpeakerDetector.subscribe(rs,ns,os,ss),this.trace("subscribeToActiveSpeakerDetector")}unsubscribeFromActiveSpeakerDetector(rs){this.audioVideoController.activeSpeakerDetector.unsubscribe(rs),this.trace("unsubscribeFromActiveSpeakerDetector")}listAudioInputDevices(rs=!1){return __awaiter$m(this,void 0,void 0,function*(){const ns=yield this.deviceController.listAudioInputDevices(rs);return this.trace("listAudioInputDevices",rs,ns),ns})}listVideoInputDevices(rs=!1){return __awaiter$m(this,void 0,void 0,function*(){const ns=yield this.deviceController.listVideoInputDevices(rs);return this.trace("listVideoInputDevices",rs,ns),ns})}listAudioOutputDevices(rs=!1){return __awaiter$m(this,void 0,void 0,function*(){const ns=yield this.deviceController.listAudioOutputDevices(rs);return this.trace("listAudioOutputDevices",rs,ns),ns})}startAudioInput(rs){return __awaiter$m(this,void 0,void 0,function*(){return this.trace("startAudioInput",rs),this.deviceController.startAudioInput(rs)})}stopAudioInput(){return __awaiter$m(this,void 0,void 0,function*(){return this.trace("stopAudioInput"),this.deviceController.stopAudioInput()})}startVideoInput(rs){return __awaiter$m(this,void 0,void 0,function*(){return VideoTransformDevice_1.isVideoTransformDevice(rs)?this.trace("startVideoInput with transform device"):this.trace("startVideoInput",rs),this.deviceController.startVideoInput(rs)})}stopVideoInput(){return __awaiter$m(this,void 0,void 0,function*(){return this.trace("stopVideoInput"),this.deviceController.stopVideoInput()})}chooseAudioOutput(rs){const ns=this.deviceController.chooseAudioOutput(rs);return this.trace("chooseAudioOutput",rs),ns}addDeviceChangeObserver(rs){this.deviceController.addDeviceChangeObserver(rs),this.trace("addDeviceChangeObserver")}removeDeviceChangeObserver(rs){this.deviceController.removeDeviceChangeObserver(rs),this.trace("removeDeviceChangeObserver")}createAnalyserNodeForAudioInput(){const rs=this.deviceController.createAnalyserNodeForAudioInput();return this.trace("createAnalyserNodeForAudioInput"),rs}startVideoPreviewForVideoInput(rs){this.deviceController.startVideoPreviewForVideoInput(rs),this.trace("startVideoPreviewForVideoInput",rs.id)}stopVideoPreviewForVideoInput(rs){this.deviceController.stopVideoPreviewForVideoInput(rs),this.trace("stopVideoPreviewForVideoInput",rs.id)}setDeviceLabelTrigger(rs){this.deviceController.setDeviceLabelTrigger(rs),this.trace("setDeviceLabelTrigger")}mixIntoAudioInput(rs){const ns=this.deviceController.mixIntoAudioInput(rs);return this.trace("mixIntoAudioInput",rs.id),ns}chooseVideoInputQuality(rs,ns,os){this.deviceController.chooseVideoInputQuality(rs,ns,os),this.trace("chooseVideoInputQuality",{width:rs,height:ns,frameRate:os})}setVideoMaxBandwidthKbps(rs){this.audioVideoController.setVideoMaxBandwidthKbps(rs),this.trace("setVideoMaxBandwidthKbps",rs)}setVideoCodecSendPreferences(rs){this.audioVideoController.setVideoCodecSendPreferences(rs),this.trace("setVideoCodecSendPreferences",rs)}getVideoInputQualitySettings(){const rs=this.deviceController.getVideoInputQualitySettings();return this.trace("getVideoInputQualitySettings"),rs}setContentAudioProfile(rs){this.trace("setContentAudioProfile",rs),this.contentShareController.setContentAudioProfile(rs)}enableSimulcastForContentShare(rs,ns){this.trace("enableSimulcastForContentShare"),this.contentShareController.enableSimulcastForContentShare(rs,ns)}enableSVCForContentShare(rs){this.trace("enableSVCForContentShare"),this.contentShareController.enableSVCForContentShare(rs)}startContentShare(rs){const ns=this.contentShareController.startContentShare(rs);return this.trace("startContentShare"),ns}startContentShareFromScreenCapture(rs,ns){const os=this.contentShareController.startContentShareFromScreenCapture(rs,ns);return this.trace("startContentShareFromScreenCapture"),os}pauseContentShare(){this.contentShareController.pauseContentShare(),this.trace("pauseContentShare")}unpauseContentShare(){this.contentShareController.unpauseContentShare(),this.trace("unpauseContentShare")}stopContentShare(){this.contentShareController.stopContentShare(),this.trace("stopContentShare")}addContentShareObserver(rs){this.contentShareController.addContentShareObserver(rs),this.trace("addContentShareObserver")}removeContentShareObserver(rs){this.contentShareController.removeContentShareObserver(rs),this.trace("removeContentShareObserver")}setContentShareVideoCodecPreferences(rs){this.contentShareController.setContentShareVideoCodecPreferences(rs),this.trace("setContentShareVideoCodecPreferences")}trace(rs,ns,os){const ss=this.audioVideoController.configuration.meetingId,as=this.audioVideoController.configuration.credentials.attendeeId;let ls="API/DefaultAudioVideoFacade/".concat(ss,"/").concat(as,"/").concat(rs);typeof ns<"u"&&(ls+=" ".concat(JSON.stringify(ns))),typeof os<"u"&&(ls+=" -> ".concat(JSON.stringify(os))),this.audioVideoController.logger.info(ls)}getRemoteVideoSources(){const rs=this.audioVideoController.getRemoteVideoSources();return this.trace("getRemoteVideoSources",null,rs),rs}get transcriptionController(){return this.realtimeController.transcriptionController}promoteToPrimaryMeeting(rs){this.audioVideoController.removeObserver(this),this.audioVideoController.addObserver(this);const ns=this.audioVideoController.promoteToPrimaryMeeting(rs);return this.trace("promoteToPrimaryMeeting",null,ns),ns}demoteFromPrimaryMeeting(){this.trace("demoteFromPrimaryMeeting"),this.audioVideoController.demoteFromPrimaryMeeting()}audioVideoWasDemotedFromPrimaryMeeting(rs){this.contentShareController.stopContentShare(),this.audioVideoController.removeObserver(this)}}DefaultAudioVideoFacade$1.default=DefaultAudioVideoFacade;var DefaultContentShareController$1={},MeetingSessionConfiguration$1={},MeetingFeatures$1={},__importDefault$r=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(MeetingFeatures$1,"__esModule",{value:!0});const VideoQualitySettings_1$3=__importDefault$r(VideoQualitySettings$1);class MeetingFeatures{constructor(rs=VideoQualitySettings_1$3.default.VideoResolutionHD,ns=VideoQualitySettings_1$3.default.VideoResolutionFHD){this.videoMaxResolution=rs,this.contentMaxResolution=ns}clone(){return new MeetingFeatures(this.videoMaxResolution,this.contentMaxResolution)}}MeetingFeatures$1.default=MeetingFeatures;var MeetingSessionCredentials$1={};Object.defineProperty(MeetingSessionCredentials$1,"__esModule",{value:!0});class MeetingSessionCredentials{constructor(){this.attendeeId=null,this.externalUserId=null,this.joinToken=null}toJSON(){return{attendeeId:this.attendeeId,joinToken:this.joinToken===null?null:"<redacted>"}}}MeetingSessionCredentials$1.default=MeetingSessionCredentials;var MeetingSessionURLs$1={};Object.defineProperty(MeetingSessionURLs$1,"__esModule",{value:!0});class MeetingSessionURLs{constructor(){this._audioHostURL=null,this._signalingURL=null,this._turnControlURL=null,this._eventIngestionURL=null,this.urlRewriter=rs=>rs}get audioHostURL(){return this.urlRewriter(this._audioHostURL)}set audioHostURL(rs){this._audioHostURL=rs}get signalingURL(){return this.urlRewriter(this._signalingURL)}set signalingURL(rs){this._signalingURL=rs}get turnControlURL(){return this.urlRewriter(this._turnControlURL)}set turnControlURL(rs){this._turnControlURL=rs}get eventIngestionURL(){return this.urlRewriter(this._eventIngestionURL)}set eventIngestionURL(rs){this._eventIngestionURL=rs}}MeetingSessionURLs$1.default=MeetingSessionURLs;var __importDefault$q=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(MeetingSessionConfiguration$1,"__esModule",{value:!0});const ConnectionHealthPolicyConfiguration_1=__importDefault$q(ConnectionHealthPolicyConfiguration$1),VideoQualitySettings_1$2=__importDefault$q(VideoQualitySettings$1),Utils_1$4=Utils$1,MeetingFeatures_1=__importDefault$q(MeetingFeatures$1),MeetingSessionCredentials_1$1=__importDefault$q(MeetingSessionCredentials$1),MeetingSessionURLs_1=__importDefault$q(MeetingSessionURLs$1);class MeetingSessionConfiguration{constructor(rs,ns){var os,ss;if(this.meetingId=null,this.externalMeetingId=null,this.credentials=null,this.urls=null,this.connectionTimeoutMs=15e3,this.attendeePresenceTimeoutMs=0,this.connectionHealthPolicyConfiguration=new ConnectionHealthPolicyConfiguration_1.default,this.reconnectTimeoutMs=120*1e3,this.reconnectFixedWaitMs=0,this.reconnectShortBackOffMs=1*1e3,this.reconnectLongBackOffMs=5*1e3,this.enableSimulcastForUnifiedPlanChromiumBasedBrowsers=!1,this.enableSVC=!1,this.videoDownlinkBandwidthPolicy=null,this.videoUplinkBandwidthPolicy=null,this.keepLastFrameWhenPaused=!1,this.disablePeriodicKeyframeRequestOnContentSender=!1,this.meetingFeatures=new MeetingFeatures_1.default,rs){rs=Utils_1$4.toLowerCasePropertyNames(rs),rs.meeting&&(rs=rs.meeting),this.meetingId=rs.meetingid,this.externalMeetingId=rs.externalmeetingid,this.urls=new MeetingSessionURLs_1.default,this.urls.audioHostURL=rs.mediaplacement.audiohosturl,this.urls.signalingURL=rs.mediaplacement.signalingurl,this.urls.turnControlURL=rs.mediaplacement.turncontrolurl,rs.mediaplacement.eventingestionurl&&(this.urls.eventIngestionURL=rs.mediaplacement.eventingestionurl);const as=(ls,cs)=>{switch(ls){case"None":return VideoQualitySettings_1$2.default.VideoDisabled;case"HD":return VideoQualitySettings_1$2.default.VideoResolutionHD;case"FHD":return VideoQualitySettings_1$2.default.VideoResolutionFHD;case"UHD":return VideoQualitySettings_1$2.default.VideoResolutionUHD;default:return cs}};if(((os=rs.meetingfeatures)===null||os===void 0?void 0:os.video)!==void 0||((ss=rs.meetingfeatures)===null||ss===void 0?void 0:ss.content)!==void 0){const ls=rs.meetingfeatures.video===void 0?"HD":rs.meetingfeatures.video.maxresolution,cs=rs.meetingfeatures.content===void 0?"FHD":rs.meetingfeatures.content.maxresolution;this.meetingFeatures=new MeetingFeatures_1.default(as(ls,VideoQualitySettings_1$2.default.VideoResolutionHD),as(cs,VideoQualitySettings_1$2.default.VideoResolutionFHD))}}ns&&(ns=Utils_1$4.toLowerCasePropertyNames(ns),ns.attendee&&(ns=ns.attendee),this.credentials=new MeetingSessionCredentials_1$1.default,this.credentials.attendeeId=ns.attendeeid,this.credentials.externalUserId=ns.externaluserid,this.credentials.joinToken=ns.jointoken)}}MeetingSessionConfiguration$1.default=MeetingSessionConfiguration;var NoVideoDownlinkBandwidthPolicy$1={},__importDefault$p=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(NoVideoDownlinkBandwidthPolicy$1,"__esModule",{value:!0});const DefaultVideoStreamIdSet_1=__importDefault$p(DefaultVideoStreamIdSet$1);class NoVideoDownlinkBandwidthPolicy{reset(){}updateIndex(rs){}updateMetrics(rs){}wantsResubscribe(){return!1}chooseSubscriptions(){return new DefaultVideoStreamIdSet_1.default}}NoVideoDownlinkBandwidthPolicy$1.default=NoVideoDownlinkBandwidthPolicy;var DefaultSimulcastUplinkPolicyForContentShare$1={},__importDefault$o=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(DefaultSimulcastUplinkPolicyForContentShare$1,"__esModule",{value:!0});const SimulcastContentShareTransceiverController_1=__importDefault$o(SimulcastContentShareTransceiverController$1);class DefaultSimulcastUplinkPolicyForContentShare{constructor(rs,ns){this.encodingParams=ns,this.enableUhdContent=!1,this.defaultHiTargetBitrateKbps=1200,this.defaultLowTargetBitrateKbps=300}updateConnectionMetric(rs){}chooseMediaTrackConstraints(){}chooseEncodingParameters(){var rs,ns,os,ss,as,ls,cs,us,ds,ps,fs,hs;const ms=new Map,gs=1e3,vs=SimulcastContentShareTransceiverController_1.default.NAME_ARR_ASCENDING;return ms.set(vs[0],{rid:vs[0],active:!0,scaleResolutionDownBy:((ns=(rs=this.encodingParams)===null||rs===void 0?void 0:rs.low)===null||ns===void 0?void 0:ns.scaleResolutionDownBy)||2,maxBitrate:(((ss=(os=this.encodingParams)===null||os===void 0?void 0:os.low)===null||ss===void 0?void 0:ss.maxBitrateKbps)||this.defaultLowTargetBitrateKbps)*gs,maxFramerate:((ls=(as=this.encodingParams)===null||as===void 0?void 0:as.low)===null||ls===void 0?void 0:ls.maxFramerate)||5}),ms.set(vs[1],{rid:vs[1],active:!0,scaleResolutionDownBy:((us=(cs=this.encodingParams)===null||cs===void 0?void 0:cs.high)===null||us===void 0?void 0:us.scaleResolutionDownBy)||1,maxBitrate:(((ps=(ds=this.encodingParams)===null||ds===void 0?void 0:ds.high)===null||ps===void 0?void 0:ps.maxBitrateKbps)||this.defaultHiTargetBitrateKbps)*gs,maxFramerate:(hs=(fs=this.encodingParams)===null||fs===void 0?void 0:fs.high)===null||hs===void 0?void 0:hs.maxFramerate}),ms}updateIndex(rs){}wantsResubscribe(){return!1}chooseCaptureAndEncodeParameters(){}maxBandwidthKbps(){return this.enableUhdContent?2e3:1200}setIdealMaxBandwidthKbps(rs){}setHasBandwidthPriority(rs){}setHighResolutionFeatureEnabled(rs){this.enableUhdContent=rs,this.defaultHiTargetBitrateKbps=rs?2e3:1200,this.defaultLowTargetBitrateKbps=rs?500:300}addObserver(rs){}removeObserver(rs){}forEachObserver(rs){}}DefaultSimulcastUplinkPolicyForContentShare$1.default=DefaultSimulcastUplinkPolicyForContentShare;var __awaiter$l=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,rs,ns,os){function ss(as){return as instanceof ns?as:new ns(function(ls){ls(as)})}return new(ns||(ns=Promise))(function(as,ls){function cs(ps){try{ds(os.next(ps))}catch(fs){ls(fs)}}function us(ps){try{ds(os.throw(ps))}catch(fs){ls(fs)}}function ds(ps){ps.done?as(ps.value):ss(ps.value).then(cs,us)}ds((os=os.apply(ts,rs||[])).next())})},__importDefault$n=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(DefaultContentShareController$1,"__esModule",{value:!0});const VideoQualitySettings_1$1=__importDefault$n(VideoQualitySettings$1),MeetingSessionConfiguration_1=__importDefault$n(MeetingSessionConfiguration$1),MeetingSessionCredentials_1=__importDefault$n(MeetingSessionCredentials$1),DefaultModality_1=__importDefault$n(DefaultModality$1),AsyncScheduler_1$2=__importDefault$n(AsyncScheduler$1),Types_1=Types,NoVideoDownlinkBandwidthPolicy_1=__importDefault$n(NoVideoDownlinkBandwidthPolicy$1),DefaultSimulcastUplinkPolicyForContentShare_1=__importDefault$n(DefaultSimulcastUplinkPolicyForContentShare$1),ContentShareConstants_1=__importDefault$n(ContentShareConstants$1);class DefaultContentShareController{constructor(rs,ns,os){this.mediaStreamBroker=rs,this.contentAudioVideo=ns,this.attendeeAudioVideo=os,this.observerQueue=new Set,this.destroyed=!1,this.contentAudioVideo.addObserver(this),this.setupContentShareEvents()}static createContentShareMeetingSessionConfigure(rs){const ns=new MeetingSessionConfiguration_1.default;return ns.meetingId=rs.meetingId,ns.externalMeetingId=rs.externalMeetingId,ns.urls=rs.urls,ns.disablePeriodicKeyframeRequestOnContentSender=rs.disablePeriodicKeyframeRequestOnContentSender,ns.credentials=new MeetingSessionCredentials_1.default,ns.credentials.attendeeId=rs.credentials.attendeeId+ContentShareConstants_1.default.Modality,ns.credentials.externalUserId=rs.credentials.externalUserId,ns.credentials.joinToken=rs.credentials.joinToken+ContentShareConstants_1.default.Modality,ns.meetingFeatures=rs.meetingFeatures.clone(),ns.videoDownlinkBandwidthPolicy=new NoVideoDownlinkBandwidthPolicy_1.default,ns}setContentAudioProfile(rs){this.contentAudioVideo.setAudioProfile(rs)}enableSimulcastForContentShare(rs,ns){rs?(this.contentAudioVideo.configuration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers=!0,this.contentAudioVideo.configuration.videoUplinkBandwidthPolicy=new DefaultSimulcastUplinkPolicyForContentShare_1.default(this.contentAudioVideo.logger,ns)):(this.contentAudioVideo.configuration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers=!1,this.contentAudioVideo.configuration.videoUplinkBandwidthPolicy=void 0)}enableSVCForContentShare(rs){rs?this.contentAudioVideo.configuration.enableSVC=!0:this.contentAudioVideo.configuration.enableSVC=!1}startContentShare(rs){return __awaiter$l(this,void 0,void 0,function*(){if(rs){if(this.contentAudioVideo.configuration.meetingFeatures.contentMaxResolution===VideoQualitySettings_1$1.default.VideoDisabled){this.contentAudioVideo.logger.info("Could not start content because max content resolution was set to None");return}this.mediaStreamBroker.mediaStream=rs;for(let ns=0;ns<this.mediaStreamBroker.mediaStream.getTracks().length;ns++)this.mediaStreamBroker.mediaStream.getTracks()[ns].addEventListener("ended",()=>{this.stopContentShare()});this.contentAudioVideo.start()}})}startContentShareFromScreenCapture(rs,ns){return __awaiter$l(this,void 0,void 0,function*(){const os=yield this.mediaStreamBroker.acquireScreenCaptureDisplayInputStream(rs,ns);return yield this.startContentShare(os),os})}pauseContentShare(){this.mediaStreamBroker.toggleMediaStream(!1)&&this.forEachContentShareObserver(rs=>{Types_1.Maybe.of(rs.contentShareDidPause).map(ns=>ns.call(rs))})}unpauseContentShare(){this.mediaStreamBroker.toggleMediaStream(!0)&&this.forEachContentShareObserver(rs=>{Types_1.Maybe.of(rs.contentShareDidUnpause).map(ns=>ns.call(rs))})}setContentShareVideoCodecPreferences(rs){this.contentAudioVideo.setVideoCodecSendPreferences(rs)}destroy(){return __awaiter$l(this,void 0,void 0,function*(){this.contentAudioVideo&&(this.destroyed=!0,this.contentAudioVideo.removeObserver(this),this.stopContentShare(),this.observerQueue.clear(),this.contentAudioVideo=void 0,this.attendeeAudioVideo=void 0,this.mediaStreamBroker=void 0)})}stopContentShare(){this.contentAudioVideo.stop(),this.mediaStreamBroker.cleanup()}addContentShareObserver(rs){this.observerQueue.add(rs)}removeContentShareObserver(rs){this.observerQueue.delete(rs)}forEachContentShareObserver(rs){for(const ns of this.observerQueue)AsyncScheduler_1$2.default.nextTick(()=>{this.observerQueue.has(ns)&&rs(ns)})}audioVideoDidStart(){var rs;((rs=this.mediaStreamBroker.mediaStream)===null||rs===void 0?void 0:rs.getVideoTracks().length)>0&&this.contentAudioVideo.videoTileController.startLocalVideoTile()}audioVideoDidStop(rs){this.mediaStreamBroker.cleanup(),this.contentShareTile&&(this.attendeeAudioVideo.videoTileController.removeVideoTile(this.contentShareTile.id()),this.contentShareTile=null),this.forEachContentShareObserver(ns=>{Types_1.Maybe.of(ns.contentShareDidStop).map(os=>os.call(ns))})}setupContentShareEvents(){this.attendeeAudioVideo.realtimeController.realtimeSubscribeToAttendeeIdPresence((rs,ns,os,ss)=>{const as=new DefaultModality_1.default(rs).hasModality(DefaultModality_1.default.MODALITY_CONTENT),ls=new DefaultModality_1.default(rs).base()===this.attendeeAudioVideo.configuration.credentials.attendeeId;if(!as||!ls||!ns||this.contentShareTile)return;const cs=this.mediaStreamBroker.mediaStream;if(cs!=null&&cs.getVideoTracks().length){this.contentShareTile=this.attendeeAudioVideo.videoTileController.addVideoTile();const us=cs.getVideoTracks()[0];let ds,ps;if(us.getSettings){const fs=us.getSettings();ds=fs.width,ps=fs.height}else{const fs=us.getCapabilities();ds=fs.width,ps=fs.height}this.contentShareTile.bindVideoStream(this.contentAudioVideo.configuration.credentials.attendeeId,!1,cs,ds,ps,null,this.contentAudioVideo.configuration.credentials.externalUserId)}this.forEachContentShareObserver(us=>{Types_1.Maybe.of(us.contentShareDidStart).map(ds=>ds.call(us))})})}}DefaultContentShareController$1.default=DefaultContentShareController;var DefaultEventController$1={},Destroyable={};Object.defineProperty(Destroyable,"__esModule",{value:!0});Destroyable.isDestroyable=void 0;function isDestroyable(ts){return ts&&"destroy"in ts}Destroyable.isDestroyable=isDestroyable;var EventIngestionConfiguration$1={},EventBufferConfiguration$1={};Object.defineProperty(EventBufferConfiguration$1,"__esModule",{value:!0});class EventBufferConfiguration{constructor(rs=5e3,ns=2,os=64,ss=100,as=15){this.flushIntervalMs=rs,this.flushSize=ns,this.maxBufferCapacityKb=os,this.totalBufferItems=ss,this.retryCountLimit=as}}EventBufferConfiguration$1.default=EventBufferConfiguration;var __importDefault$m=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(EventIngestionConfiguration$1,"__esModule",{value:!0});const EventBufferConfiguration_1=__importDefault$m(EventBufferConfiguration$1);class EventIngestionConfiguration{constructor(rs,ns,os=new EventBufferConfiguration_1.default){this.eventsClientConfiguration=rs,this.ingestionURL=ns,this.eventBufferConfiguration=os}}EventIngestionConfiguration$1.default=EventIngestionConfiguration;var DefaultMeetingEventReporter$1={},InMemoryJSONEventBuffer$1={},FullJitterBackoff$1={};Object.defineProperty(FullJitterBackoff$1,"__esModule",{value:!0});class FullJitterBackoff{constructor(rs,ns,os){this.fixedWaitMs=rs,this.shortBackoffMs=ns,this.longBackoffMs=os,this.currentRetry=0,this.fixedWaitMs<0&&(this.fixedWaitMs=0),this.shortBackoffMs<0&&(this.shortBackoffMs=0),this.longBackoffMs<0&&(this.longBackoffMs=0),this.reset()}reset(){this.currentRetry=0}nextBackoffAmountMs(){const rs=Math.random()*Math.min(this.longBackoffMs,this.shortBackoffMs*Math.pow(2,this.currentRetry))+this.fixedWaitMs;return this.currentRetry+=1,rs}}FullJitterBackoff$1.default=FullJitterBackoff;var DefaultUserAgentParser$1={},__importDefault$l=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(DefaultUserAgentParser$1,"__esModule",{value:!0});const ua_parser_js_1$1=uaParserExports,Versioning_1$5=__importDefault$l(Versioning$1);class DefaultUserAgentParser{constructor(rs){var ns,os,ss,as,ls,cs,us;try{this.parserResult=navigator&&navigator.userAgent?new ua_parser_js_1$1.UAParser(navigator.userAgent).getResult():void 0}catch(ds){rs.error(ds.message)}this.browserMajorVersion=((ss=(os=(ns=this.parserResult)===null||ns===void 0?void 0:ns.browser)===null||os===void 0?void 0:os.version)===null||ss===void 0?void 0:ss.split(".")[0])||DefaultUserAgentParser.UNAVAILABLE,this.browserName=((as=this.parserResult)===null||as===void 0?void 0:as.browser.name)||DefaultUserAgentParser.UNAVAILABLE,this.browserVersion=((ls=this.parserResult)===null||ls===void 0?void 0:ls.browser.version)||DefaultUserAgentParser.UNAVAILABLE,this.deviceName=[((cs=this.parserResult)===null||cs===void 0?void 0:cs.device.vendor)||"",((us=this.parserResult)===null||us===void 0?void 0:us.device.model)||""].join(" ").trim()||DefaultUserAgentParser.UNAVAILABLE}getParserResult(){var rs,ns;return{browserMajorVersion:this.browserMajorVersion,browserName:this.browserName,browserVersion:this.browserVersion,deviceName:this.deviceName,osName:((rs=this.parserResult)===null||rs===void 0?void 0:rs.os.name)||DefaultUserAgentParser.UNAVAILABLE,osVersion:((ns=this.parserResult)===null||ns===void 0?void 0:ns.os.version)||DefaultUserAgentParser.UNAVAILABLE,sdkVersion:Versioning_1$5.default.sdkVersion,sdkName:Versioning_1$5.default.sdkName}}}DefaultUserAgentParser$1.default=DefaultUserAgentParser;DefaultUserAgentParser.UNAVAILABLE="Unavailable";var __awaiter$k=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,rs,ns,os){function ss(as){return as instanceof ns?as:new ns(function(ls){ls(as)})}return new(ns||(ns=Promise))(function(as,ls){function cs(ps){try{ds(os.next(ps))}catch(fs){ls(fs)}}function us(ps){try{ds(os.throw(ps))}catch(fs){ls(fs)}}function ds(ps){ps.done?as(ps.value):ss(ps.value).then(cs,us)}ds((os=os.apply(ts,rs||[])).next())})},__rest$2=commonjsGlobal$1&&commonjsGlobal$1.__rest||function(ts,rs){var ns={};for(var os in ts)Object.prototype.hasOwnProperty.call(ts,os)&&rs.indexOf(os)<0&&(ns[os]=ts[os]);if(ts!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ss=0,os=Object.getOwnPropertySymbols(ts);ss<os.length;ss++)rs.indexOf(os[ss])<0&&Object.prototype.propertyIsEnumerable.call(ts,os[ss])&&(ns[os[ss]]=ts[os[ss]]);return ns},__importDefault$k=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(InMemoryJSONEventBuffer$1,"__esModule",{value:!0});const FullJitterBackoff_1$3=__importDefault$k(FullJitterBackoff$1),IntervalScheduler_1$1=__importDefault$k(IntervalScheduler$1),DefaultUserAgentParser_1=__importDefault$k(DefaultUserAgentParser$1),Utils_1$3=Utils$1;class InMemoryJSONEventBuffer{constructor(rs,ns,os,ss,as){this.buffer=[],this.bufferSize=0,this.maxBufferItemCapacityBytes=0,this.ingestionEventSize=0,this.flushIntervalMs=0,this.flushSize=0,this.failedIngestionEvents=[],this.retryCountLimit=15,this.lock=!1,this.cancellableEvents=new Map,this.attributesToFilter=["externalUserId","externalMeetingId","timestampMs"],this.deepCopyCurrentIngestionEvent=xs=>({type:xs.type,v:xs.v,payloads:[...xs.payloads]}),this.sendEvents=()=>__awaiter$k(this,void 0,void 0,function*(){if(this.lock)return;const xs=this.getItems(this.flushSize);if(xs.length===0)return;this.lock=!0;const ys=this.makeRequestBody(xs);let Ss=!1;const Cs=Date.now();this.metadata.browserName.toLowerCase()==="firefox"&&this.cancellableEvents.set(Cs,xs);try{this.logger.debug("Event Reporting - InMemoryJSONEventBuffer - sendEvents - sending body ".concat(ys));const $s=yield this.send(ys);if(this.cancellableEvents.delete(Cs),!$s.ok)this.logger.error("Event Reporting - InMemoryJSONEventBuffer - sendEvents - Failed to send events ".concat(ys," with response status ").concat($s.status)),Ss=!0;else try{const Es=yield $s.json();this.logger.debug("Event Reporting - InMemoryJSONEventBuffer - sendEvents - send successful events: ".concat(ys," message: ").concat(JSON.stringify(Es)))}catch(Es){this.logger.warn("Event Reporting - InMemoryJSONEventBuffer - sendEvents error reading OK response ".concat(Es," for events ").concat(ys))}}catch($s){Ss=!0,this.logger.warn("Event Reporting - InMemoryJSONEventBuffer - sendEvents - Error in sending events ".concat(ys," to the ingestion endpoint ").concat($s))}finally{this.lock=!1}Ss&&(this.cancellableEvents.delete(Cs),this.failedIngestionEvents.push(...xs))});const ls=new DefaultUserAgentParser_1.default(as).getParserResult(),cs=__rest$2(ls,["browserMajorVersion"]),us=ns.toJSON(),{type:ds,v:ps}=us,fs=__rest$2(us,["type","v"]);this.authenticationToken=ns.getAuthenticationToken(),this.metadata=Object.assign(Object.assign({},cs),fs),Object.keys(this.metadata).forEach(xs=>this.attributesToFilter.push(xs)),this.type=ds,this.v=ps,this.ingestionURL=os,this.logger=as,this.importantEvents=new Set(ss);const{maxBufferCapacityKb:hs,totalBufferItems:ms,flushSize:gs,flushIntervalMs:vs,retryCountLimit:bs}=rs;this.maxBufferCapacityBytes=hs*1024,this.totalBufferItems=ms,this.maxBufferItemCapacityBytes=Math.round(this.maxBufferCapacityBytes/ms),this.flushIntervalMs=vs,this.flushSize=gs,this.retryCountLimit=bs,this.currentIngestionEvent=this.initializeAndGetCurrentIngestionEvent(),this.beaconEventListener=xs=>this.beaconEventHandler(xs),this.addEventListeners()}addEventListeners(){!this.beaconEventListener||!("window"in commonjsGlobal$1)||!window.addEventListener||!("document"in commonjsGlobal$1)||!document.addEventListener||(this.logger.debug("Event Reporting - InMemoryJSONEventBuffer - addEventListeners - adding pagehide and visibility change event listeners"),window.addEventListener("pagehide",this.beaconEventListener),document.addEventListener("visibilitychange",this.beaconEventListener))}beaconEventHandler(rs){(rs.type==="visibilitychange"&&document.visibilityState==="hidden"||rs.type==="pagehide")&&(this.logger.debug("Event Reporting - InMemoryJSONEventBuffer - beaconEventHandler is triggered calling sendBeacon"),this.sendBeacon())}removeEventListeners(){!this.beaconEventListener||!("window"in commonjsGlobal$1)||!window.removeEventListener||!("document"in commonjsGlobal$1)||!document.removeEventListener||(window.removeEventListener("pagehide",this.beaconEventListener),document.removeEventListener("visibilitychange",this.beaconEventListener),this.logger.debug("Event Reporting - InMemoryJSONEventBuffer - removeEventListeners - removing pagehide and visibility change event listeners"))}start(){var rs;this.removeEventListeners(),this.addEventListeners(),(rs=this.intervalScheduler)===null||rs===void 0||rs.stop(),this.intervalScheduler=new IntervalScheduler_1$1.default(this.flushIntervalMs),this.intervalScheduler.start(()=>this.sendEvents())}stop(){var rs;(rs=this.intervalScheduler)===null||rs===void 0||rs.stop(),this.intervalScheduler=void 0,this.sendBeacon(),this.removeEventListeners()}addItem(rs){return __awaiter$k(this,void 0,void 0,function*(){this.logger.debug("Event Reporting - InMemoryJSONEventBuffer - addItem - received event ".concat(JSON.stringify(rs)));const{name:ns,ts:os,attributes:ss}=rs,as=ss&&this.filterAttributes(ss,this.attributesToFilter),ls=Object.assign({name:ns,ts:os},as);this.logger.debug("Event Reporting - InMemoryJSONEventBuffer - addItem - event after filtering attributes ".concat(JSON.stringify(ls)));const cs=this.getSize(ls);if(cs>InMemoryJSONEventBuffer.MAX_ITEM_SIZE_BYTES_ALLOWED)throw new Error("Event Reporting - Item to be added has size ".concat(cs," bytes. Item cannot exceed max item size allowed of ").concat(InMemoryJSONEventBuffer.MAX_ITEM_SIZE_BYTES_ALLOWED," bytes."));if(this.importantEvents.has(ns)){this.logger.debug("Event Reporting - InMemoryJSONEventBuffer - addItem - sending important event ".concat(JSON.stringify(ls))),this.sendEventImmediately({name:ns,ts:os,attributes:as});return}if(this.isFull())throw this.logger.warn("Event Reporting - Event buffer is full"),new Error("Buffer full");if(this.currentIngestionEvent.payloads.push(ls),this.ingestionEventSize+=cs,this.bufferItemThresholdReached(cs)){const us=this.deepCopyCurrentIngestionEvent(this.currentIngestionEvent);this.buffer.push(us),this.bufferSize+=this.ingestionEventSize,this.currentIngestionEvent=this.initializeAndGetCurrentIngestionEvent(),this.logger.debug("Event Reporting - InMemoryJSONEventBuffer - addItem - buffer item threshold reached updated buffer ".concat(JSON.stringify(this.buffer)))}})}filterAttributes(rs,ns){const os=new Set(ns);return Object.keys(rs).filter(as=>os.has(as)).forEach(as=>delete rs[as]),rs}initializeAndGetCurrentIngestionEvent(){const rs={type:this.type,v:this.v,payloads:[]};return this.ingestionEventSize=this.getSize(rs),rs}bufferItemThresholdReached(rs){return rs+this.ingestionEventSize>=this.maxBufferItemCapacityBytes||this.currentIngestionEvent.payloads.length===InMemoryJSONEventBuffer.MAX_PAYLOAD_ITEMS}getSize(rs){let ns=0;if(typeof rs=="object")for(const[os,ss]of Object.entries(rs))ns+=this.getPrimitiveSize(os),ns+=this.getSize(ss);else ns+=this.getPrimitiveSize(rs);return ns}getPrimitiveSize(rs){let ns=0;return typeof rs=="string"?ns+=rs.length*2:typeof rs=="number"&&(ns+=8),ns}isFull(){return this.bufferSize===this.maxBufferCapacityBytes||this.buffer.length===this.totalBufferItems}isEmpty(){return this.buffer.length===0||this.bufferSize===0}getItems(rs,ns=0){return this.isEmpty()?[]:(rs=Math.min(this.buffer.length,rs+1),this.buffer.splice(ns,rs))}makeBeaconRequestBody(rs){const ns={metadata:this.metadata,events:rs,authorization:this.authenticationToken};return JSON.stringify(ns)}makeRequestBody(rs){const ns={metadata:this.metadata,events:rs};return JSON.stringify(ns)}sendEventImmediately(rs){return __awaiter$k(this,void 0,void 0,function*(){this.logger.debug("Event Reporting - InMemoryJSONEventBuffer - sendEventImmediately - important event received ".concat(JSON.stringify(rs)));const{name:ns,ts:os,attributes:ss}=rs,as={type:this.type,v:this.v,payloads:[Object.assign({name:ns,ts:os},ss)]};let ls=!1,cs=null;const us=this.makeRequestBody([as]);try{if(cs=yield this.send(us),cs.ok){try{const ds=yield cs.json();this.logger.debug("Event Reporting - InMemoryJSONEventBuffer - sendEventImmediately - send successful event: ".concat(us,", message: ").concat(JSON.stringify(ds)))}catch(ds){this.logger.warn("Event Reporting - InMemoryJSONEventBuffer - sendEventImmediately - Error reading OK response ".concat(ds," for event ").concat(us))}return}else this.logger.error("Event Reporting - InMemoryJSONEventBuffer - sendEventImmediately - Failed to send an important event ".concat(us," with response status ").concat(cs.status)),ls=!0}catch(ds){this.logger.warn("Event Reporting - There may be a failure in sending an important event ".concat(us," to the ingestion endpoint ").concat(ds,".")),ls=!0;try{if(this.metadata.browserName.toLowerCase()==="firefox"){const ps=this.makeBeaconRequestBody([as]);this.logger.debug("Event Reporting - InMemoryJSONEventBuffer - sendEventImmediately - beaconing data out ".concat(ps)),navigator.sendBeacon("".concat(this.ingestionURL,"?beacon=1"),ps)?ls=!1:ls=!0}}catch{this.logger.warn("Event Reporting - Error sending beacon for an important event ".concat(us)),ls=!0}}ls&&(this.logger.debug("Event Reporting - InMemoryJSONEventBuffer - sendEventImmediately - pushing to failed events ".concat(us)),this.failedIngestionEvents.push(as))})}send(rs){return __awaiter$k(this,void 0,void 0,function*(){const ns=new FullJitterBackoff_1$3.default(InMemoryJSONEventBuffer.RETRY_FIXED_BACKOFF_WAIT_MS,InMemoryJSONEventBuffer.RETRY_SHORT_BACKOFF_MS,InMemoryJSONEventBuffer.RETRY_LONG_BACKOFF_MS);try{let os=0;for(;os<this.retryCountLimit;){const ss=yield fetch(this.ingestionURL,{method:"POST",headers:{Authorization:"Bearer ".concat(this.authenticationToken)},body:rs});if(ss.ok||!InMemoryJSONEventBuffer.SENDING_FAILURE_CODES.has(ss.status))return ss;if(this.logger.warn("Will retry sending failure for ".concat(rs," due to status code ").concat(ss.status,".")),os++,os<this.retryCountLimit){const as=ns.nextBackoffAmountMs();yield Utils_1$3.wait(as)}}if(os===this.retryCountLimit)throw new Error("Retry count limit reached for ".concat(rs))}catch(os){throw os}})}sendBeacon(){return __awaiter$k(this,void 0,void 0,function*(){const rs=this.buffer;if(this.logger.debug("Event Reporting - InMemoryJSONEventBuffer - sendBeacon - clearing out buffer events ".concat(JSON.stringify(rs))),this.buffer=[],this.currentIngestionEvent.payloads.length>0){const os=this.deepCopyCurrentIngestionEvent(this.currentIngestionEvent);rs.push(os),this.logger.debug("Event Reporting - InMemoryJSONEventBuffer - sendBeacon - clearing out current ingestion event ".concat(JSON.stringify(os))),this.currentIngestionEvent=this.initializeAndGetCurrentIngestionEvent()}if(this.failedIngestionEvents.length>0){const os=this.failedIngestionEvents.map(ss=>this.deepCopyCurrentIngestionEvent(ss));rs.push(...os),this.logger.debug("Event Reporting - InMemoryJSONEventBuffer - sendBeacon - clearing out any failed ingestion event ".concat(JSON.stringify(os))),this.failedIngestionEvents=[]}if(this.cancellableEvents.size>0&&(this.cancellableEvents.forEach(os=>{rs.push(...os),this.logger.debug("Event Reporting - InMemoryJSONEventBuffer - sendBeacon - clearing out each cancellable event ".concat(JSON.stringify(os)))}),this.cancellableEvents.clear()),rs.length===0)return;const ns=this.makeBeaconRequestBody(rs);this.logger.debug("Event Reporting - InMemoryJSONEventBuffer - sendBeacon - beacon data to send ".concat(ns));try{navigator.sendBeacon("".concat(this.ingestionURL,"?beacon=1"),ns)||this.logger.warn("Event Reporting - Browser failed to queue beacon data ".concat(ns))}catch(os){this.logger.warn("Event Reporting - Sending beacon data ".concat(ns," failed with error ").concat(os))}})}reset(){this.maxBufferCapacityBytes=0,this.totalBufferItems=0,this.buffer=[],this.bufferSize=0,this.maxBufferItemCapacityBytes=0,this.ingestionEventSize=0,this.flushIntervalMs=0,this.flushSize=0,this.failedIngestionEvents=[],this.lock=!1,this.beaconEventListener=void 0,this.cancellableEvents.clear()}destroy(){return __awaiter$k(this,void 0,void 0,function*(){this.stop(),this.reset()})}}InMemoryJSONEventBuffer$1.default=InMemoryJSONEventBuffer;InMemoryJSONEventBuffer.SENDING_FAILURE_CODES=new Set([408,429,500,502,503,504]);InMemoryJSONEventBuffer.RETRY_FIXED_BACKOFF_WAIT_MS=0;InMemoryJSONEventBuffer.RETRY_SHORT_BACKOFF_MS=1e3;InMemoryJSONEventBuffer.RETRY_LONG_BACKOFF_MS=15e3;InMemoryJSONEventBuffer.MAX_PAYLOAD_ITEMS=2;InMemoryJSONEventBuffer.MAX_ITEM_SIZE_BYTES_ALLOWED=3e3;var __awaiter$j=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,rs,ns,os){function ss(as){return as instanceof ns?as:new ns(function(ls){ls(as)})}return new(ns||(ns=Promise))(function(as,ls){function cs(ps){try{ds(os.next(ps))}catch(fs){ls(fs)}}function us(ps){try{ds(os.throw(ps))}catch(fs){ls(fs)}}function ds(ps){ps.done?as(ps.value):ss(ps.value).then(cs,us)}ds((os=os.apply(ts,rs||[])).next())})},__importDefault$j=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(DefaultMeetingEventReporter$1,"__esModule",{value:!0});const Destroyable_1$1=Destroyable,InMemoryJSONEventBuffer_1=__importDefault$j(InMemoryJSONEventBuffer$1);class DefaultMeetingEventReporter{constructor(rs,ns){this.reportingEvents=!1,this.importantEvents=["meetingEnded","meetingFailed","meetingStartFailed","audioInputFailed","videoInputFailed","meetingStartSucceeded","deviceLabelTriggerFailed"],this.destroyed=!1;const{eventsClientConfiguration:os,ingestionURL:ss,eventBufferConfiguration:as}=rs,{eventsToIgnore:ls}=os;this.eventBuffer=new InMemoryJSONEventBuffer_1.default(as,os,ss,this.importantEvents,ns),this.logger=ns,this.eventsToIgnore=ls,this.start()}start(){if(!this.reportingEvents)try{this.eventBuffer.start(),this.logger.info("Event reporting started"),this.reportingEvents=!0}catch(rs){this.logger.error("Event Reporting - Error starting the event buffer ".concat(rs))}}stop(){if(this.reportingEvents)try{this.eventBuffer.stop(),this.logger.info("Event reporting stopped"),this.reportingEvents=!1}catch(rs){this.logger.error("Event Reporting - Error stopping the event buffer ".concat(rs))}}reportEvent(rs,ns,os){return __awaiter$j(this,void 0,void 0,function*(){if(this.logger.debug("Event Reporting - DefaultMeetingEventReporter - event received in reportEvent ".concat(rs,", ").concat(ns,", ").concat(JSON.stringify(os))),this.eventsToIgnore.includes(ns)){this.logger.debug("Event Reporting - DefaultMeetingEventReporter - ".concat(ns," event will be ignored as it is in events to ignore"));return}try{this.logger.debug("Event Reporting - DefaultMeetingEventReporter - adding item to event buffer"),yield this.eventBuffer.addItem({ts:rs,name:ns,attributes:os})}catch(ss){this.logger.error("Event Reporting - Error adding event to buffer ".concat(ss))}})}destroy(){return __awaiter$j(this,void 0,void 0,function*(){this.destroyed=!0,this.stop(),Destroyable_1$1.isDestroyable(this.eventBuffer)&&this.eventBuffer.destroy(),this.eventBuffer=void 0})}}DefaultMeetingEventReporter$1.default=DefaultMeetingEventReporter;var MeetingEventsClientConfiguration$1={};Object.defineProperty(MeetingEventsClientConfiguration$1,"__esModule",{value:!0});class MeetingEventsClientConfiguration{constructor(rs,ns,os,ss=[]){this.type="Meet",this.v=1,this.meetingId=rs,this.attendeeId=ns,this.eventsToIgnore=ss,this.authenticationToken=os}getAuthenticationToken(){return this.authenticationToken}toJSON(){const rs={};return rs.type=this.type,rs.v=this.v,rs.meetingId=this.meetingId,rs.attendeeId=this.attendeeId,rs}}MeetingEventsClientConfiguration$1.default=MeetingEventsClientConfiguration;var flattenEventAttributes$1={};Object.defineProperty(flattenEventAttributes$1,"__esModule",{value:!0});const flattenEventAttributes=ts=>{const rs={};for(const[ns,os]of Object.entries(ts))if(!(os==null||os===""))if(typeof os=="number"||typeof os=="string")rs[ns]=os;else throw new TypeError("Unhandled type received while flattening attributes.");return rs};flattenEventAttributes$1.default=flattenEventAttributes;var __awaiter$i=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,rs,ns,os){function ss(as){return as instanceof ns?as:new ns(function(ls){ls(as)})}return new(ns||(ns=Promise))(function(as,ls){function cs(ps){try{ds(os.next(ps))}catch(fs){ls(fs)}}function us(ps){try{ds(os.throw(ps))}catch(fs){ls(fs)}}function ds(ps){ps.done?as(ps.value):ss(ps.value).then(cs,us)}ds((os=os.apply(ts,rs||[])).next())})},__importDefault$i=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(DefaultEventController$1,"__esModule",{value:!0});const ua_parser_js_1=uaParserExports,Destroyable_1=Destroyable,EventIngestionConfiguration_1=__importDefault$i(EventIngestionConfiguration$1),DefaultMeetingEventReporter_1=__importDefault$i(DefaultMeetingEventReporter$1),MeetingEventsClientConfiguration_1=__importDefault$i(MeetingEventsClientConfiguration$1),AsyncScheduler_1$1=__importDefault$i(AsyncScheduler$1),Versioning_1$4=__importDefault$i(Versioning$1),flattenEventAttributes_1=__importDefault$i(flattenEventAttributes$1);class DefaultEventController{constructor(rs,ns,os){var ss,as,ls,cs,us,ds,ps;this.meetingHistoryStates=[],this.observerSet=new Set,this.destroyed=!1,this.logger=ns,this.configuration=rs,this.setupEventReporter(rs,ns,os);try{this.parserResult=navigator&&navigator.userAgent?new ua_parser_js_1.UAParser(navigator.userAgent).getResult():null}catch(fs){this.logger.error(fs.message)}this.browserMajorVersion=((ls=(as=(ss=this.parserResult)===null||ss===void 0?void 0:ss.browser)===null||as===void 0?void 0:as.version)===null||ls===void 0?void 0:ls.split(".")[0])||DefaultEventController.UNAVAILABLE,this.browserName=((cs=this.parserResult)===null||cs===void 0?void 0:cs.browser.name)||DefaultEventController.UNAVAILABLE,this.browserVersion=((us=this.parserResult)===null||us===void 0?void 0:us.browser.version)||DefaultEventController.UNAVAILABLE,this.deviceName=[((ds=this.parserResult)===null||ds===void 0?void 0:ds.device.vendor)||"",((ps=this.parserResult)===null||ps===void 0?void 0:ps.device.model)||""].join(" ").trim()||DefaultEventController.UNAVAILABLE}addObserver(rs){this.observerSet.add(rs)}removeObserver(rs){this.observerSet.delete(rs)}forEachObserver(rs){for(const ns of this.observerSet)AsyncScheduler_1$1.default.nextTick(()=>{this.observerSet.has(ns)&&rs(ns)})}publishEvent(rs,ns){return __awaiter$i(this,void 0,void 0,function*(){const os=Date.now();this.meetingHistoryStates.push({name:rs,timestampMs:os});const ss=Object.freeze(Object.assign(this.getAttributes(os),ns));this.forEachObserver(as=>{as.eventDidReceive(rs,ss)}),this.reportEvent(rs,os,ns)})}reportEvent(rs,ns,os){var ss;return __awaiter$i(this,void 0,void 0,function*(){let as;try{os&&(as=flattenEventAttributes_1.default(os)),yield(ss=this.eventReporter)===null||ss===void 0?void 0:ss.reportEvent(ns,rs,as)}catch(ls){this.logger.error("Error reporting event ".concat(ls))}})}setupEventReporter(rs,ns,os){if(os)this._eventReporter=os;else if(rs.urls){const ss=rs.urls.eventIngestionURL;if(ss){this.logger.info("Event ingestion URL is present in the configuration");const{meetingId:as,credentials:{attendeeId:ls,joinToken:cs}}=rs,us=new MeetingEventsClientConfiguration_1.default(as,ls,cs),ds=new EventIngestionConfiguration_1.default(us,ss);this._eventReporter=new DefaultMeetingEventReporter_1.default(ds,ns)}}}getAttributes(rs){var ns,os;return{attendeeId:this.configuration.credentials.attendeeId,browserMajorVersion:this.browserMajorVersion,browserName:this.browserName,browserVersion:this.browserVersion,deviceName:this.deviceName,externalMeetingId:typeof this.configuration.externalMeetingId=="string"?this.configuration.externalMeetingId:"",externalUserId:this.configuration.credentials.externalUserId,meetingHistory:this.meetingHistoryStates,meetingId:this.configuration.meetingId,osName:((ns=this.parserResult)===null||ns===void 0?void 0:ns.os.name)||DefaultEventController.UNAVAILABLE,osVersion:((os=this.parserResult)===null||os===void 0?void 0:os.os.version)||DefaultEventController.UNAVAILABLE,sdkVersion:Versioning_1$4.default.sdkVersion,sdkName:Versioning_1$4.default.sdkName,timestampMs:rs}}get eventReporter(){return this._eventReporter}destroy(){return __awaiter$i(this,void 0,void 0,function*(){Destroyable_1.isDestroyable(this.eventReporter)&&(yield this.eventReporter.destroy()),this.logger=void 0,this.configuration=void 0,this._eventReporter=void 0,this.destroyed=!0})}}DefaultEventController$1.default=DefaultEventController;DefaultEventController.UNAVAILABLE="Unavailable";var DefaultMeetingReadinessChecker$1={},MeetingReadinessCheckerConfiguration$1={};Object.defineProperty(MeetingReadinessCheckerConfiguration$1,"__esModule",{value:!0});class MeetingReadinessCheckerConfiguration{constructor(){this.timeoutMs=1e4,this.waitDurationMs=3e3,this.audioOutputFrequency=440,this.audioOutputGain=.1}}MeetingReadinessCheckerConfiguration$1.default=MeetingReadinessCheckerConfiguration;var __awaiter$h=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,rs,ns,os){function ss(as){return as instanceof ns?as:new ns(function(ls){ls(as)})}return new(ns||(ns=Promise))(function(as,ls){function cs(ps){try{ds(os.next(ps))}catch(fs){ls(fs)}}function us(ps){try{ds(os.throw(ps))}catch(fs){ls(fs)}}function ds(ps){ps.done?as(ps.value):ss(ps.value).then(cs,us)}ds((os=os.apply(ts,rs||[])).next())})},__importDefault$h=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(DefaultMeetingReadinessChecker$1,"__esModule",{value:!0});const DefaultAudioMixController_1=__importDefault$h(DefaultAudioMixController$1),DefaultBrowserBehavior_1$2=__importDefault$h(DefaultBrowserBehavior$1),DefaultDeviceController_1=__importDefault$h(DefaultDeviceController$1),PermissionDeniedError_1=__importDefault$h(PermissionDeniedError$1),BaseTask_1$1=__importDefault$h(BaseTask$1),TimeoutTask_1=__importDefault$h(TimeoutTask$1),CheckAudioConnectivityFeedback_1=__importDefault$h(CheckAudioConnectivityFeedback),CheckAudioInputFeedback_1=__importDefault$h(CheckAudioInputFeedback),CheckAudioOutputFeedback_1=__importDefault$h(CheckAudioOutputFeedback),CheckCameraResolutionFeedback_1=__importDefault$h(CheckCameraResolutionFeedback),CheckContentShareConnectivityFeedback_1=__importDefault$h(CheckContentShareConnectivityFeedback),CheckNetworkTCPConnectivityFeedback_1=__importDefault$h(CheckNetworkTCPConnectivityFeedback),CheckNetworkUDPConnectivityFeedback_1=__importDefault$h(CheckNetworkUDPConnectivityFeedback),CheckVideoConnectivityFeedback_1=__importDefault$h(CheckVideoConnectivityFeedback),CheckVideoInputFeedback_1=__importDefault$h(CheckVideoInputFeedback),MeetingReadinessCheckerConfiguration_1=__importDefault$h(MeetingReadinessCheckerConfiguration$1);class DefaultMeetingReadinessChecker{constructor(rs,ns,os=new MeetingReadinessCheckerConfiguration_1.default){this.logger=rs,this.meetingSession=ns,this.configuration=os,this.browserBehavior=new DefaultBrowserBehavior_1$2.default}static delay(rs){return __awaiter$h(this,void 0,void 0,function*(){return new Promise(ns=>setTimeout(ns,rs))})}checkAudioInput(rs){return __awaiter$h(this,void 0,void 0,function*(){try{return yield this.meetingSession.audioVideo.startAudioInput(rs),yield this.meetingSession.audioVideo.stopAudioInput(),CheckAudioInputFeedback_1.default.Succeeded}catch(ns){return this.logger.error("MeetingReadinessChecker: Audio input check failed with error ".concat(ns)),ns instanceof PermissionDeniedError_1.default?CheckAudioInputFeedback_1.default.PermissionDenied:CheckAudioInputFeedback_1.default.Failed}})}checkAudioOutput(rs,ns,os=null){return __awaiter$h(this,void 0,void 0,function*(){try{const ss=rs?DefaultDeviceController_1.default.getIntrinsicDeviceId(rs):"";return yield this.playTone(ss,this.configuration.audioOutputFrequency,os),(yield ns())?CheckAudioOutputFeedback_1.default.Succeeded:CheckAudioOutputFeedback_1.default.Failed}catch(ss){return this.logger.error("MeetingReadinessChecker: Audio output check failed with error: ".concat(ss)),CheckAudioOutputFeedback_1.default.Failed}finally{this.stopTone()}})}playTone(rs,ns,os){return __awaiter$h(this,void 0,void 0,function*(){const as=this.configuration.audioOutputGain;this.oscillatorNode&&this.stopTone(),this.audioContext=DefaultDeviceController_1.default.getAudioContext(),this.gainNode=this.audioContext.createGain(),this.gainNode.gain.value=0,this.oscillatorNode=this.audioContext.createOscillator(),this.oscillatorNode.frequency.value=ns,this.oscillatorNode.connect(this.gainNode),this.destinationStream=this.audioContext.createMediaStreamDestination(),this.gainNode.connect(this.destinationStream);const cs=this.audioContext.currentTime+.1;this.gainNode.gain.linearRampToValueAtTime(0,cs),this.gainNode.gain.linearRampToValueAtTime(as,cs+.1),this.oscillatorNode.start();const us=new DefaultAudioMixController_1.default(this.logger);try{this.browserBehavior.supportsSetSinkId()&&(yield us.bindAudioDevice({deviceId:rs}))}catch(ds){this.logger.error("Failed to bind audio device: ".concat(ds))}try{yield us.bindAudioElement(os||new Audio)}catch(ds){this.logger.error("Failed to bind audio element: ".concat(ds))}yield us.bindAudioStream(this.destinationStream.stream)})}stopTone(){if(!this.audioContext||!this.gainNode||!this.oscillatorNode||!this.destinationStream)return;const rs=1,ns=.1,os=this.configuration.audioOutputGain,ss=this.audioContext.currentTime;this.gainNode.gain.linearRampToValueAtTime(os,ss+ns+rs),this.gainNode.gain.linearRampToValueAtTime(0,ss+ns*2+rs),this.oscillatorNode.stop(),this.oscillatorNode.disconnect(this.gainNode),this.gainNode.disconnect(this.destinationStream),this.oscillatorNode=null,this.gainNode=null,this.destinationStream=null}checkVideoInput(rs){return __awaiter$h(this,void 0,void 0,function*(){try{return yield this.meetingSession.audioVideo.startVideoInput(rs),yield this.meetingSession.audioVideo.stopVideoInput(),CheckVideoInputFeedback_1.default.Succeeded}catch(ns){return this.logger.error("MeetingReadinessChecker: Video check failed with error ".concat(ns)),ns instanceof PermissionDeniedError_1.default?CheckVideoInputFeedback_1.default.PermissionDenied:CheckVideoInputFeedback_1.default.Failed}})}checkCameraResolution(rs,ns,os){return __awaiter$h(this,void 0,void 0,function*(){let ss;try{const as=DefaultDeviceController_1.default.getIntrinsicDeviceId(rs),ls={video:this.calculateVideoConstraint(as,ns,os)};ss=yield navigator.mediaDevices.getUserMedia(ls)}catch(as){return this.logger.error("MeetingReadinessChecker: Camera resolution check with width: ".concat(ns," height ").concat(os," failed with error ").concat(as)),as&&as.name==="OverconstrainedError"?CheckCameraResolutionFeedback_1.default.ResolutionNotSupported:as&&as.name==="NotAllowedError"?CheckCameraResolutionFeedback_1.default.PermissionDenied:CheckCameraResolutionFeedback_1.default.Failed}finally{ss&&ss.getTracks().forEach(function(as){as.stop()})}return CheckCameraResolutionFeedback_1.default.Succeeded})}calculateVideoConstraint(rs,ns,os){const ss=this.browserBehavior.requiresResolutionAlignment(ns,os),as={};return this.browserBehavior.requiresNoExactMediaStreamConstraints()?(as.deviceId=rs,as.width=ns,as.height=os):(as.deviceId={exact:rs},as.width={exact:ss[0]},as.height={exact:ss[1]}),as}checkContentShareConnectivity(rs){return __awaiter$h(this,void 0,void 0,function*(){let ns=!1,os=!1;const ss={contentShareDidStart:()=>{ns=!0}},as={audioVideoDidStart:()=>{os=!0}};try{return this.meetingSession.audioVideo.addObserver(as),this.meetingSession.audioVideo.start(),this.meetingSession.audioVideo.addContentShareObserver(ss),yield this.meetingSession.audioVideo.startContentShareFromScreenCapture(rs),yield this.executeTimeoutTask(()=>__awaiter$h(this,void 0,void 0,function*(){return os&&ns})),os?(yield this.stopMeeting(),ns?CheckContentShareConnectivityFeedback_1.default.Succeeded:CheckContentShareConnectivityFeedback_1.default.TimedOut):CheckContentShareConnectivityFeedback_1.default.ConnectionFailed}catch(ls){return this.logger.error("MeetingReadinessChecker: Content share check failed with error ".concat(ls)),ls.name==="NotAllowedError"?CheckContentShareConnectivityFeedback_1.default.PermissionDenied:CheckContentShareConnectivityFeedback_1.default.Failed}finally{this.meetingSession.audioVideo.removeObserver(as),this.meetingSession.audioVideo.stopContentShare(),this.meetingSession.audioVideo.removeContentShareObserver(ss)}})}checkAudioConnectivity(rs){return __awaiter$h(this,void 0,void 0,function*(){let ns=!1;const os={packetsReceived:0},ss=this.meetingSession.audioVideo,as={metricsDidReceive(cs){cs.getRTCStatsReport().forEach(us=>{us.type==="inbound-rtp"&&(us.mediaType==="audio"||us.kind==="audio")&&(os.packetsReceived=us.packetsReceived)})}},ls=(cs,us,ds,ps)=>{cs===this.meetingSession.configuration.credentials.attendeeId&&us&&(ns=!0)};try{yield ss.startAudioInput(rs)}catch(cs){return this.logger.error("MeetingReadinessChecker: Failed to get audio input device with error ".concat(cs)),cs instanceof PermissionDeniedError_1.default?CheckAudioConnectivityFeedback_1.default.AudioInputPermissionDenied:CheckAudioConnectivityFeedback_1.default.AudioInputRequestFailed}return ss.realtimeSubscribeToAttendeeIdPresence(ls),ss.addObserver(as),(yield this.startMeeting())?(yield this.executeTimeoutTask(()=>__awaiter$h(this,void 0,void 0,function*(){return this.isAudioConnectionSuccessful(ns,os)})),ss.removeObserver(as),ss.realtimeUnsubscribeToAttendeeIdPresence(ls),yield this.stopMeeting(),yield this.meetingSession.audioVideo.stopAudioInput(),this.isAudioConnectionSuccessful(ns,os)?CheckAudioConnectivityFeedback_1.default.Succeeded:CheckAudioConnectivityFeedback_1.default.AudioNotReceived):(ss.removeObserver(as),ss.realtimeUnsubscribeToAttendeeIdPresence(ls),yield this.meetingSession.audioVideo.stopAudioInput(),CheckAudioConnectivityFeedback_1.default.ConnectionFailed)})}checkVideoConnectivity(rs){return __awaiter$h(this,void 0,void 0,function*(){const ns=this.meetingSession.audioVideo;let os=0;const ss={metricsDidReceive(as){as.getRTCStatsReport().forEach(cs=>{cs.type==="outbound-rtp"&&(cs.mediaType==="video"||cs.kind==="video")&&(os=cs.packetsSent)})}};try{yield ns.startVideoInput(rs)}catch(as){return this.logger.error("MeetingReadinessChecker: Failed to get video input device with error ".concat(as)),as instanceof PermissionDeniedError_1.default?CheckVideoConnectivityFeedback_1.default.VideoInputPermissionDenied:CheckVideoConnectivityFeedback_1.default.VideoInputRequestFailed}return ns.addObserver(ss),(yield this.startMeeting())?(ns.startLocalVideoTile(),yield this.executeTimeoutTask(()=>__awaiter$h(this,void 0,void 0,function*(){return os>0})),yield ns.stopVideoInput(),yield this.stopMeeting(),ns.removeObserver(ss),os<=0?CheckVideoConnectivityFeedback_1.default.VideoNotSent:CheckVideoConnectivityFeedback_1.default.Succeeded):CheckVideoConnectivityFeedback_1.default.ConnectionFailed})}checkNetworkUDPConnectivity(){return __awaiter$h(this,void 0,void 0,function*(){let rs=!1;const ns={metricsDidReceive(ss){ss.getRTCStatsReport().forEach(ls=>{ls.type==="candidate-pair"&&ls.state==="succeeded"&&(rs=!0)})}};try{this.originalURLRewriter=this.meetingSession.configuration.urls.urlRewriter}catch(ss){return this.logger.error("MeetingSessionConfiguration.urls doesn't exist. Error: ".concat(ss)),CheckNetworkUDPConnectivityFeedback_1.default.MeetingSessionURLsNotInitialized}this.meetingSession.configuration.urls.urlRewriter=ss=>{const as=this.originalURLRewriter(ss);return as.includes("transport=tcp")?"":as};const os=this.meetingSession.audioVideo;return os.addObserver(ns),(yield this.startMeeting())?(yield this.executeTimeoutTask(()=>__awaiter$h(this,void 0,void 0,function*(){return rs})),this.meetingSession.configuration.urls.urlRewriter=this.originalURLRewriter,yield this.stopMeeting(),os.removeObserver(ns),rs?CheckNetworkUDPConnectivityFeedback_1.default.Succeeded:CheckNetworkUDPConnectivityFeedback_1.default.ICENegotiationFailed):(this.meetingSession.configuration.urls.urlRewriter=this.originalURLRewriter,CheckNetworkUDPConnectivityFeedback_1.default.ConnectionFailed)})}checkNetworkTCPConnectivity(){return __awaiter$h(this,void 0,void 0,function*(){let rs=!1;const ns={metricsDidReceive(ss){ss.getRTCStatsReport().forEach(ls=>{ls.type==="candidate-pair"&&ls.state==="succeeded"&&(rs=!0)})}};try{this.originalURLRewriter=this.meetingSession.configuration.urls.urlRewriter}catch(ss){return this.logger.error("MeetingSessionConfiguration.urls doesn't exist. Error: ".concat(ss)),CheckNetworkTCPConnectivityFeedback_1.default.MeetingSessionURLsNotInitialized}this.meetingSession.configuration.urls.urlRewriter=ss=>{const as=this.originalURLRewriter(ss);return as.includes("transport=udp")?"":as};const os=this.meetingSession.audioVideo;return os.addObserver(ns),(yield this.startMeeting())?(yield this.executeTimeoutTask(()=>__awaiter$h(this,void 0,void 0,function*(){return rs})),this.meetingSession.configuration.urls.urlRewriter=this.originalURLRewriter,yield this.stopMeeting(),os.removeObserver(ns),rs?CheckNetworkTCPConnectivityFeedback_1.default.Succeeded:CheckNetworkTCPConnectivityFeedback_1.default.ICENegotiationFailed):(this.meetingSession.configuration.urls.urlRewriter=this.originalURLRewriter,CheckNetworkTCPConnectivityFeedback_1.default.ConnectionFailed)})}startMeeting(){return __awaiter$h(this,void 0,void 0,function*(){let rs=!1;const ns={audioVideoDidStart:()=>{rs=!0}};return this.meetingSession.audioVideo.addObserver(ns),this.meetingSession.audioVideo.start(),yield this.executeTimeoutTask(()=>__awaiter$h(this,void 0,void 0,function*(){return rs})),this.meetingSession.audioVideo.removeObserver(ns),rs})}stopMeeting(){return __awaiter$h(this,void 0,void 0,function*(){let rs=!1;const ns={audioVideoDidStop:os=>{rs=!0}};return this.meetingSession.audioVideo.addObserver(ns),this.meetingSession.audioVideo.stop(),yield this.executeTimeoutTask(()=>__awaiter$h(this,void 0,void 0,function*(){return rs})),this.meetingSession.audioVideo.removeObserver(ns),rs})}executeTimeoutTask(rs){return __awaiter$h(this,void 0,void 0,function*(){let ns=!1;class os extends BaseTask_1$1.default{constructor(ls,cs){super(ls),this.waitDurationMs=cs,this.isCancelled=!1}cancel(){this.isCancelled=!0}run(){return __awaiter$h(this,void 0,void 0,function*(){for(;!this.isCancelled;){if(yield rs()){ns=!0;break}yield DefaultMeetingReadinessChecker.delay(this.waitDurationMs)}})}}return yield new TimeoutTask_1.default(this.logger,new os(this.logger,this.configuration.waitDurationMs),this.configuration.timeoutMs).run(),ns})}isAudioConnectionSuccessful(rs,ns){return rs&&ns.packetsReceived>0}}DefaultMeetingReadinessChecker$1.default=DefaultMeetingReadinessChecker;var DefaultMeetingSession={},DefaultReconnectController$1={},__importDefault$g=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(DefaultReconnectController$1,"__esModule",{value:!0});const TimeoutScheduler_1=__importDefault$g(TimeoutScheduler$1);class DefaultReconnectController{constructor(rs,ns){this.reconnectTimeoutMs=rs,this.backoffPolicy=ns,this.shouldReconnect=!0,this.onlyRestartPeerConnection=!1,this.firstConnectionAttempted=!1,this.firstConnectionAttemptTimestampMs=0,this.lastActiveTimestampMs=1/0,this._isFirstConnection=!0,this.backoffTimer=null,this.backoffCancel=null,this.reset()}timeSpentReconnectingMs(){return this.firstConnectionAttempted?Date.now()-this.firstConnectionAttemptTimestampMs:0}hasPastReconnectDeadline(){return Date.now()-this.lastActiveTimestampMs>=this.reconnectTimeoutMs?!0:this.timeSpentReconnectingMs()>=this.reconnectTimeoutMs}reset(){this.cancel(),this.shouldReconnect=!0,this.onlyRestartPeerConnection=!1,this.firstConnectionAttempted=!1,this.firstConnectionAttemptTimestampMs=0,this.lastActiveTimestampMs=1/0,this.backoffPolicy.reset()}startedConnectionAttempt(rs){this._isFirstConnection=rs,this.firstConnectionAttempted||(this.firstConnectionAttempted=!0,this.firstConnectionAttemptTimestampMs=Date.now())}hasStartedConnectionAttempt(){return this.firstConnectionAttempted}isFirstConnection(){return this._isFirstConnection}disableReconnect(){this.shouldReconnect=!1}enableRestartPeerConnection(){this.onlyRestartPeerConnection=!0}cancel(){this.disableReconnect(),this.backoffTimer&&(this.backoffTimer.stop(),this.backoffCancel&&(this.backoffCancel(),this.backoffCancel=null))}retryWithBackoff(rs,ns){const os=this.shouldReconnect&&!this.hasPastReconnectDeadline();return os&&(this.backoffCancel=ns,this.backoffTimer=new TimeoutScheduler_1.default(this.backoffPolicy.nextBackoffAmountMs()),this.backoffTimer.start(()=>{this.backoffCancel=null,rs()})),os}shouldOnlyRestartPeerConnection(){return this.onlyRestartPeerConnection}clone(){return new DefaultReconnectController(this.reconnectTimeoutMs,this.backoffPolicy)}setLastActiveTimestampMs(rs){this.lastActiveTimestampMs=rs}}DefaultReconnectController$1.default=DefaultReconnectController;var DefaultWebSocketAdapter$1={},__importDefault$f=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(DefaultWebSocketAdapter$1,"__esModule",{value:!0});const Versioning_1$3=__importDefault$f(Versioning$1),WebSocketReadyState_1$1=__importDefault$f(WebSocketReadyState);class DefaultWebSocketAdapter{constructor(rs){this.logger=rs}create(rs,ns,os){this.connection=new WebSocket(os?rs:Versioning_1$3.default.urlWithVersion(rs),ns),this.connection.binaryType="arraybuffer"}send(rs){if(!this.connection)return this.logger.error("WebSocket not yet created or already destroyed."),!1;try{return rs instanceof Uint8Array?this.connection.send(rs.buffer):this.connection.send(rs),!0}catch(ns){return this.logger.debug(()=>"send error: ".concat(ns.message,", websocket state=").concat(WebSocketReadyState_1$1.default[this.readyState()])),!1}}close(rs,ns){var os;(os=this.connection)===null||os===void 0||os.close(rs,ns)}destroy(){this.connection=void 0}addEventListener(rs,ns){if(!this.connection){this.logger.warn("Cannot add event listener with no WebSocket connection.");return}this.connection.addEventListener(rs,ns)}removeEventListener(rs,ns){var os;(os=this.connection)===null||os===void 0||os.removeEventListener(rs,ns)}readyState(){if(!this.connection)return WebSocketReadyState_1$1.default.None;switch(this.connection.readyState){case WebSocket.CONNECTING:return WebSocketReadyState_1$1.default.Connecting;case WebSocket.OPEN:return WebSocketReadyState_1$1.default.Open;case WebSocket.CLOSING:return WebSocketReadyState_1$1.default.Closing;case WebSocket.CLOSED:return WebSocketReadyState_1$1.default.Closed}}}DefaultWebSocketAdapter$1.default=DefaultWebSocketAdapter;var hasRequiredDefaultMeetingSession;function requireDefaultMeetingSession(){if(hasRequiredDefaultMeetingSession)return DefaultMeetingSession;hasRequiredDefaultMeetingSession=1;var ts=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(gs,vs,bs,xs){function ys(Ss){return Ss instanceof bs?Ss:new bs(function(Cs){Cs(Ss)})}return new(bs||(bs=Promise))(function(Ss,Cs){function $s(Ts){try{ws(xs.next(Ts))}catch(Is){Cs(Is)}}function Es(Ts){try{ws(xs.throw(Ts))}catch(Is){Cs(Is)}}function ws(Ts){Ts.done?Ss(Ts.value):ys(Ts.value).then($s,Es)}ws((xs=xs.apply(gs,vs||[])).next())})},rs=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(gs){return gs&&gs.__esModule?gs:{default:gs}};Object.defineProperty(DefaultMeetingSession,"__esModule",{value:!0});const ns=rs(requireDefaultAudioVideoController()),os=rs(DefaultAudioVideoFacade$1),ss=rs(FullJitterBackoff$1),as=rs(DefaultBrowserBehavior$1),ls=rs(ContentShareMediaStreamBroker$1),cs=rs(DefaultContentShareController$1),us=rs(CSPMonitor$1),ds=Destroyable,ps=rs(DefaultEventController$1),fs=rs(DefaultReconnectController$1),hs=rs(DefaultWebSocketAdapter$1);let ms=class{constructor(vs,bs,xs,ys){this._eventController=ys,this._configuration=vs,this._logger=bs,this.checkBrowserSupportAndFeatureConfiguration(),us.default.addLogger(this._logger),us.default.register(),this._eventController||(this._eventController=new ps.default(vs,bs)),xs.eventController||(xs.eventController=this.eventController),this.audioVideoController=new ns.default(this._configuration,this._logger,new hs.default(this._logger),xs,new fs.default(this._configuration.reconnectTimeoutMs,new ss.default(this._configuration.reconnectFixedWaitMs,this._configuration.reconnectShortBackOffMs,this._configuration.reconnectLongBackOffMs)),this.eventController),this._deviceController=xs,this.logger.info("MeetingFeatures: ".concat(JSON.stringify(vs.meetingFeatures)));const Ss=new ls.default(this._logger);this.contentShareController=new cs.default(Ss,new ns.default(cs.default.createContentShareMeetingSessionConfigure(this._configuration),this._logger,new hs.default(this._logger),Ss,new fs.default(this._configuration.reconnectTimeoutMs,new ss.default(this._configuration.reconnectFixedWaitMs,this._configuration.reconnectShortBackOffMs,this._configuration.reconnectLongBackOffMs))),this.audioVideoController),this.audioVideoFacade=new os.default(this.audioVideoController,this.audioVideoController.videoTileController,this.audioVideoController.realtimeController,this.audioVideoController.audioMixController,this._deviceController,this.contentShareController)}get configuration(){return this._configuration}get logger(){return this._logger}get audioVideo(){return this.audioVideoFacade}get contentShare(){return this.contentShareController}get deviceController(){return this._deviceController}get eventController(){return this._eventController}destroy(){return ts(this,void 0,void 0,function*(){ds.isDestroyable(this.contentShareController)&&(yield this.contentShareController.destroy()),ds.isDestroyable(this.audioVideoController)&&(yield this.audioVideoController.destroy()),ds.isDestroyable(this.eventController)&&(yield this.eventController.destroy()),us.default.removeLogger(this._logger),this._logger=void 0,this._configuration=void 0,this._deviceController=void 0,this.audioVideoFacade=void 0,this.audioVideoController=void 0,this.contentShareController=void 0,this._eventController=void 0})}checkBrowserSupportAndFeatureConfiguration(){const vs=new as.default,bs="".concat(vs.name()," ").concat(vs.majorVersion()," (").concat(vs.version(),")");if(this.logger.info("browser is ".concat(bs)),vs.isSupported()||this.logger.warn("this browser is not currently supported. Stability may suffer. "+"Supported browsers are: ".concat(vs.supportString(),".")),this._configuration.videoUplinkBandwidthPolicy)if(this.isSimulcastUplinkPolicy(this._configuration.videoUplinkBandwidthPolicy)){if(!vs.hasChromiumWebRTC())throw new Error("Simulcast is only supported on Chromium-based browsers");this._configuration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers=!0}else this._configuration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers=!1;this._configuration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers&&(vs.hasChromiumWebRTC()?this.logger.info("Simulcast is enabled for ".concat(vs.name())):(this._configuration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers=!1,this.logger.info("Simulcast is only supported on Chromium-based browsers")),this._configuration.enableSVC&&(this._configuration.enableSVC=!1,this.logger.info("SVC is not successfully enabled since simulcast is enabled"))),this._configuration.enableSVC&&!vs.supportsScalableVideoCoding()&&(this._configuration.enableSVC=!1,this.logger.info("SVC is only supported on Chromium-based browsers with version 111 or above"))}isSimulcastUplinkPolicy(vs){return!!(vs&&vs.addObserver)}};return DefaultMeetingSession.default=ms,DefaultMeetingSession}var DefaultMessagingSession$1={};const getHttpHandlerExtensionConfiguration=ts=>{let rs=ts.httpHandler;return{setHttpHandler(ns){rs=ns},httpHandler(){return rs},updateHttpClientConfig(ns,os){rs.updateHttpClientConfig(ns,os)},httpHandlerConfigs(){return rs.httpHandlerConfigs()}}},resolveHttpHandlerRuntimeConfig=ts=>({httpHandler:ts.httpHandler()});var HttpAuthLocation;(function(ts){ts.HEADER="header",ts.QUERY="query"})(HttpAuthLocation||(HttpAuthLocation={}));var HttpApiKeyAuthLocation;(function(ts){ts.HEADER="header",ts.QUERY="query"})(HttpApiKeyAuthLocation||(HttpApiKeyAuthLocation={}));var EndpointURLScheme;(function(ts){ts.HTTP="http",ts.HTTPS="https"})(EndpointURLScheme||(EndpointURLScheme={}));var AlgorithmId;(function(ts){ts.MD5="md5",ts.CRC32="crc32",ts.CRC32C="crc32c",ts.SHA1="sha1",ts.SHA256="sha256"})(AlgorithmId||(AlgorithmId={}));var FieldPosition;(function(ts){ts[ts.HEADER=0]="HEADER",ts[ts.TRAILER=1]="TRAILER"})(FieldPosition||(FieldPosition={}));const SMITHY_CONTEXT_KEY="__smithy_context";var IniSectionType;(function(ts){ts.PROFILE="profile",ts.SSO_SESSION="sso-session",ts.SERVICES="services"})(IniSectionType||(IniSectionType={}));var RequestHandlerProtocol;(function(ts){ts.HTTP_0_9="http/0.9",ts.HTTP_1_0="http/1.0",ts.TDS_8_0="tds/8.0"})(RequestHandlerProtocol||(RequestHandlerProtocol={}));class HttpRequest{constructor(rs){this.method=rs.method||"GET",this.hostname=rs.hostname||"localhost",this.port=rs.port,this.query=rs.query||{},this.headers=rs.headers||{},this.body=rs.body,this.protocol=rs.protocol?rs.protocol.slice(-1)!==":"?"".concat(rs.protocol,":"):rs.protocol:"https:",this.path=rs.path?rs.path.charAt(0)!=="/"?"/".concat(rs.path):rs.path:"/",this.username=rs.username,this.password=rs.password,this.fragment=rs.fragment}static clone(rs){const ns=new HttpRequest({...rs,headers:{...rs.headers}});return ns.query&&(ns.query=cloneQuery(ns.query)),ns}static isInstance(rs){if(!rs)return!1;const ns=rs;return"method"in ns&&"protocol"in ns&&"hostname"in ns&&"path"in ns&&typeof ns.query=="object"&&typeof ns.headers=="object"}clone(){return HttpRequest.clone(this)}}function cloneQuery(ts){return Object.keys(ts).reduce((rs,ns)=>{const os=ts[ns];return{...rs,[ns]:Array.isArray(os)?[...os]:os}},{})}class HttpResponse{constructor(rs){this.statusCode=rs.statusCode,this.reason=rs.reason,this.headers=rs.headers||{},this.body=rs.body}static isInstance(rs){if(!rs)return!1;const ns=rs;return typeof ns.statusCode=="number"&&typeof ns.headers=="object"}}function resolveHostHeaderConfig(ts){return ts}const hostHeaderMiddleware=ts=>rs=>async ns=>{if(!HttpRequest.isInstance(ns.request))return rs(ns);const{request:os}=ns,{handlerProtocol:ss=""}=ts.requestHandler.metadata||{};if(ss.indexOf("h2")>=0&&!os.headers[":authority"])delete os.headers.host,os.headers[":authority"]=os.hostname+(os.port?":"+os.port:"");else if(!os.headers.host){let as=os.hostname;os.port!=null&&(as+=":".concat(os.port)),os.headers.host=as}return rs(ns)},hostHeaderMiddlewareOptions={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},getHostHeaderPlugin=ts=>({applyToStack:rs=>{rs.add(hostHeaderMiddleware(ts),hostHeaderMiddlewareOptions)}}),loggerMiddleware=()=>(ts,rs)=>async ns=>{var os,ss;try{const as=await ts(ns),{clientName:ls,commandName:cs,logger:us,dynamoDbDocumentClientOptions:ds={}}=rs,{overrideInputFilterSensitiveLog:ps,overrideOutputFilterSensitiveLog:fs}=ds,hs=ps!=null?ps:rs.inputFilterSensitiveLog,ms=fs!=null?fs:rs.outputFilterSensitiveLog,{$metadata:gs,...vs}=as.output;return(os=us==null?void 0:us.info)==null||os.call(us,{clientName:ls,commandName:cs,input:hs(ns.input),output:ms(vs),metadata:gs}),as}catch(as){const{clientName:ls,commandName:cs,logger:us,dynamoDbDocumentClientOptions:ds={}}=rs,{overrideInputFilterSensitiveLog:ps}=ds,fs=ps!=null?ps:rs.inputFilterSensitiveLog;throw(ss=us==null?void 0:us.error)==null||ss.call(us,{clientName:ls,commandName:cs,input:fs(ns.input),error:as,metadata:as.$metadata}),as}},loggerMiddlewareOptions={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},getLoggerPlugin=ts=>({applyToStack:rs=>{rs.add(loggerMiddleware(),loggerMiddlewareOptions)}}),TRACE_ID_HEADER_NAME="X-Amzn-Trace-Id",ENV_LAMBDA_FUNCTION_NAME="AWS_LAMBDA_FUNCTION_NAME",ENV_TRACE_ID="_X_AMZN_TRACE_ID",recursionDetectionMiddleware=ts=>rs=>async ns=>{const{request:os}=ns;if(!HttpRequest.isInstance(os)||ts.runtime!=="node"||os.headers.hasOwnProperty(TRACE_ID_HEADER_NAME))return rs(ns);const ss=process.env[ENV_LAMBDA_FUNCTION_NAME],as=process.env[ENV_TRACE_ID],ls=cs=>typeof cs=="string"&&cs.length>0;return ls(ss)&&ls(as)&&(os.headers[TRACE_ID_HEADER_NAME]=as),rs({...ns,request:os})},addRecursionDetectionMiddlewareOptions={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},getRecursionDetectionPlugin=ts=>({applyToStack:rs=>{rs.add(recursionDetectionMiddleware(ts),addRecursionDetectionMiddlewareOptions)}});function resolveUserAgentConfig(ts){return{...ts,customUserAgent:typeof ts.customUserAgent=="string"?[[ts.customUserAgent]]:ts.customUserAgent}}const IP_V4_REGEX=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),isIpAddress=ts=>IP_V4_REGEX.test(ts)||ts.startsWith("[")&&ts.endsWith("]"),VALID_HOST_LABEL_REGEX=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),isValidHostLabel=(ts,rs=!1)=>{if(!rs)return VALID_HOST_LABEL_REGEX.test(ts);const ns=ts.split(".");for(const os of ns)if(!isValidHostLabel(os))return!1;return!0},customEndpointFunctions={},debugId="endpoints";function toDebugString(ts){return typeof ts!="object"||ts==null?ts:"ref"in ts?"$".concat(toDebugString(ts.ref)):"fn"in ts?"".concat(ts.fn,"(").concat((ts.argv||[]).map(toDebugString).join(", "),")"):JSON.stringify(ts,null,2)}class EndpointError extends Error{constructor(rs){super(rs),this.name="EndpointError"}}const booleanEquals=(ts,rs)=>ts===rs,getAttrPathList=ts=>{const rs=ts.split("."),ns=[];for(const os of rs){const ss=os.indexOf("[");if(ss!==-1){if(os.indexOf("]")!==os.length-1)throw new EndpointError("Path: '".concat(ts,"' does not end with ']'"));const as=os.slice(ss+1,-1);if(Number.isNaN(parseInt(as)))throw new EndpointError("Invalid array index: '".concat(as,"' in path: '").concat(ts,"'"));ss!==0&&ns.push(os.slice(0,ss)),ns.push(as)}else ns.push(os)}return ns},getAttr=(ts,rs)=>getAttrPathList(rs).reduce((ns,os)=>{if(typeof ns!="object")throw new EndpointError("Index '".concat(os,"' in '").concat(rs,"' not found in '").concat(JSON.stringify(ts),"'"));return Array.isArray(ns)?ns[parseInt(os)]:ns[os]},ts),isSet=ts=>ts!=null,not=ts=>!ts,DEFAULT_PORTS={[EndpointURLScheme.HTTP]:80,[EndpointURLScheme.HTTPS]:443},parseURL=ts=>{const rs=(()=>{try{if(ts instanceof URL)return ts;if(typeof ts=="object"&&"hostname"in ts){const{hostname:hs,port:ms,protocol:gs="",path:vs="",query:bs={}}=ts,xs=new URL("".concat(gs,"//").concat(hs).concat(ms?":".concat(ms):"").concat(vs));return xs.search=Object.entries(bs).map(([ys,Ss])=>"".concat(ys,"=").concat(Ss)).join("&"),xs}return new URL(ts)}catch{return null}})();if(!rs)return console.error("Unable to parse ".concat(JSON.stringify(ts)," as a whatwg URL.")),null;const ns=rs.href,{host:os,hostname:ss,pathname:as,protocol:ls,search:cs}=rs;if(cs)return null;const us=ls.slice(0,-1);if(!Object.values(EndpointURLScheme).includes(us))return null;const ds=isIpAddress(ss),ps=ns.includes("".concat(os,":").concat(DEFAULT_PORTS[us]))||typeof ts=="string"&&ts.includes("".concat(os,":").concat(DEFAULT_PORTS[us])),fs="".concat(os).concat(ps?":".concat(DEFAULT_PORTS[us]):"");return{scheme:us,authority:fs,path:as,normalizedPath:as.endsWith("/")?as:"".concat(as,"/"),isIp:ds}},stringEquals=(ts,rs)=>ts===rs,substring=(ts,rs,ns,os)=>rs>=ns||ts.length<ns?null:os?ts.substring(ts.length-ns,ts.length-rs):ts.substring(rs,ns),uriEncode=ts=>encodeURIComponent(ts).replace(/[!*'()]/g,rs=>"%".concat(rs.charCodeAt(0).toString(16).toUpperCase())),endpointFunctions={booleanEquals,getAttr,isSet,isValidHostLabel,not,parseURL,stringEquals,substring,uriEncode},evaluateTemplate=(ts,rs)=>{const ns=[],os={...rs.endpointParams,...rs.referenceRecord};let ss=0;for(;ss<ts.length;){const as=ts.indexOf("{",ss);if(as===-1){ns.push(ts.slice(ss));break}ns.push(ts.slice(ss,as));const ls=ts.indexOf("}",as);if(ls===-1){ns.push(ts.slice(as));break}ts[as+1]==="{"&&ts[ls+1]==="}"&&(ns.push(ts.slice(as+1,ls)),ss=ls+2);const cs=ts.substring(as+1,ls);if(cs.includes("#")){const[us,ds]=cs.split("#");ns.push(getAttr(os[us],ds))}else ns.push(os[cs]);ss=ls+1}return ns.join("")},getReferenceValue=({ref:ts},rs)=>({...rs.endpointParams,...rs.referenceRecord})[ts],evaluateExpression=(ts,rs,ns)=>{if(typeof ts=="string")return evaluateTemplate(ts,ns);if(ts.fn)return callFunction(ts,ns);if(ts.ref)return getReferenceValue(ts,ns);throw new EndpointError("'".concat(rs,"': ").concat(String(ts)," is not a string, function or reference."))},callFunction=({fn:ts,argv:rs},ns)=>{const os=rs.map(as=>["boolean","number"].includes(typeof as)?as:evaluateExpression(as,"arg",ns)),ss=ts.split(".");return ss[0]in customEndpointFunctions&&ss[1]!=null?customEndpointFunctions[ss[0]][ss[1]](...os):endpointFunctions[ts](...os)},evaluateCondition=({assign:ts,...rs},ns)=>{var ss,as;if(ts&&ts in ns.referenceRecord)throw new EndpointError("'".concat(ts,"' is already defined in Reference Record."));const os=callFunction(rs,ns);return(as=(ss=ns.logger)==null?void 0:ss.debug)==null||as.call(ss,"".concat(debugId," evaluateCondition: ").concat(toDebugString(rs)," = ").concat(toDebugString(os))),{result:os===""?!0:!!os,...ts!=null&&{toAssign:{name:ts,value:os}}}},evaluateConditions=(ts=[],rs)=>{var os,ss;const ns={};for(const as of ts){const{result:ls,toAssign:cs}=evaluateCondition(as,{...rs,referenceRecord:{...rs.referenceRecord,...ns}});if(!ls)return{result:ls};cs&&(ns[cs.name]=cs.value,(ss=(os=rs.logger)==null?void 0:os.debug)==null||ss.call(os,"".concat(debugId," assign: ").concat(cs.name," := ").concat(toDebugString(cs.value))))}return{result:!0,referenceRecord:ns}},getEndpointHeaders=(ts,rs)=>Object.entries(ts).reduce((ns,[os,ss])=>({...ns,[os]:ss.map(as=>{const ls=evaluateExpression(as,"Header value entry",rs);if(typeof ls!="string")throw new EndpointError("Header '".concat(os,"' value '").concat(ls,"' is not a string"));return ls})}),{}),getEndpointProperty=(ts,rs)=>{if(Array.isArray(ts))return ts.map(ns=>getEndpointProperty(ns,rs));switch(typeof ts){case"string":return evaluateTemplate(ts,rs);case"object":if(ts===null)throw new EndpointError("Unexpected endpoint property: ".concat(ts));return getEndpointProperties(ts,rs);case"boolean":return ts;default:throw new EndpointError("Unexpected endpoint property type: ".concat(typeof ts))}},getEndpointProperties=(ts,rs)=>Object.entries(ts).reduce((ns,[os,ss])=>({...ns,[os]:getEndpointProperty(ss,rs)}),{}),getEndpointUrl=(ts,rs)=>{const ns=evaluateExpression(ts,"Endpoint URL",rs);if(typeof ns=="string")try{return new URL(ns)}catch(os){throw console.error("Failed to construct URL with ".concat(ns),os),os}throw new EndpointError("Endpoint URL must be a string, got ".concat(typeof ns))},evaluateEndpointRule=(ts,rs)=>{var ps,fs;const{conditions:ns,endpoint:os}=ts,{result:ss,referenceRecord:as}=evaluateConditions(ns,rs);if(!ss)return;const ls={...rs,referenceRecord:{...rs.referenceRecord,...as}},{url:cs,properties:us,headers:ds}=os;return(fs=(ps=rs.logger)==null?void 0:ps.debug)==null||fs.call(ps,"".concat(debugId," Resolving endpoint from template: ").concat(toDebugString(os))),{...ds!=null&&{headers:getEndpointHeaders(ds,ls)},...us!=null&&{properties:getEndpointProperties(us,ls)},url:getEndpointUrl(cs,ls)}},evaluateErrorRule=(ts,rs)=>{const{conditions:ns,error:os}=ts,{result:ss,referenceRecord:as}=evaluateConditions(ns,rs);if(ss)throw new EndpointError(evaluateExpression(os,"Error",{...rs,referenceRecord:{...rs.referenceRecord,...as}}))},evaluateTreeRule=(ts,rs)=>{const{conditions:ns,rules:os}=ts,{result:ss,referenceRecord:as}=evaluateConditions(ns,rs);if(ss)return evaluateRules(os,{...rs,referenceRecord:{...rs.referenceRecord,...as}})},evaluateRules=(ts,rs)=>{for(const ns of ts)if(ns.type==="endpoint"){const os=evaluateEndpointRule(ns,rs);if(os)return os}else if(ns.type==="error")evaluateErrorRule(ns,rs);else if(ns.type==="tree"){const os=evaluateTreeRule(ns,rs);if(os)return os}else throw new EndpointError("Unknown endpoint rule: ".concat(ns));throw new EndpointError("Rules evaluation failed")},resolveEndpoint=(ts,rs)=>{var ds,ps,fs,hs,ms,gs;const{endpointParams:ns,logger:os}=rs,{parameters:ss,rules:as}=ts;(ps=(ds=rs.logger)==null?void 0:ds.debug)==null||ps.call(ds,"".concat(debugId," Initial EndpointParams: ").concat(toDebugString(ns)));const ls=Object.entries(ss).filter(([,vs])=>vs.default!=null).map(([vs,bs])=>[vs,bs.default]);if(ls.length>0)for(const[vs,bs]of ls)ns[vs]=(fs=ns[vs])!=null?fs:bs;const cs=Object.entries(ss).filter(([,vs])=>vs.required).map(([vs])=>vs);for(const vs of cs)if(ns[vs]==null)throw new EndpointError("Missing required parameter: '".concat(vs,"'"));const us=evaluateRules(as,{endpointParams:ns,logger:os,referenceRecord:{}});if((hs=rs.endpointParams)!=null&&hs.Endpoint)try{const vs=new URL(rs.endpointParams.Endpoint),{protocol:bs,port:xs}=vs;us.url.protocol=bs,us.url.port=xs}catch{}return(gs=(ms=rs.logger)==null?void 0:ms.debug)==null||gs.call(ms,"".concat(debugId," Resolved endpoint: ").concat(toDebugString(us))),us},isVirtualHostableS3Bucket=(ts,rs=!1)=>{if(rs){for(const ns of ts.split("."))if(!isVirtualHostableS3Bucket(ns))return!1;return!0}return!(!isValidHostLabel(ts)||ts.length<3||ts.length>63||ts!==ts.toLowerCase()||isIpAddress(ts))},parseArn=ts=>{const rs=ts.split(":");if(rs.length<6)return null;const[ns,os,ss,as,ls,...cs]=rs;return ns!=="arn"||os===""||ss===""||cs[0]===""?null:{partition:os,service:ss,region:as,accountId:ls,resourceId:cs[0].includes("/")?cs[0].split("/"):cs}},partitions=[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"aws-global":{description:"AWS Standard global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"AWS China global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"AWS GovCloud (US) global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"c2s.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"AWS ISO (US) global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"sc2s.sgov.gov",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"AWS ISOB (US) global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"cloud.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"csp.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{}}],version$1="1.1",partitionsInfo={partitions,version:version$1};let selectedPartitionsInfo=partitionsInfo;const partition=ts=>{const{partitions:rs}=selectedPartitionsInfo;for(const os of rs){const{regions:ss,outputs:as}=os;for(const[ls,cs]of Object.entries(ss))if(ls===ts)return{...as,...cs}}for(const os of rs){const{regionRegex:ss,outputs:as}=os;if(new RegExp(ss).test(ts))return{...as}}const ns=rs.find(os=>os.id==="aws");if(!ns)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...ns.outputs}},awsEndpointFunctions={isVirtualHostableS3Bucket,parseArn,partition};customEndpointFunctions.aws=awsEndpointFunctions;const USER_AGENT="user-agent",X_AMZ_USER_AGENT="x-amz-user-agent",SPACE=" ",UA_NAME_SEPARATOR="/",UA_NAME_ESCAPE_REGEX=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,UA_VALUE_ESCAPE_REGEX=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,UA_ESCAPE_CHAR="-",userAgentMiddleware=ts=>(rs,ns)=>async os=>{var fs,hs;const{request:ss}=os;if(!HttpRequest.isInstance(ss))return rs(os);const{headers:as}=ss,ls=((fs=ns==null?void 0:ns.userAgent)==null?void 0:fs.map(escapeUserAgent))||[],cs=(await ts.defaultUserAgentProvider()).map(escapeUserAgent),us=((hs=ts==null?void 0:ts.customUserAgent)==null?void 0:hs.map(escapeUserAgent))||[],ds=[].concat([...cs,...ls,...us]).join(SPACE),ps=[...cs.filter(ms=>ms.startsWith("aws-sdk-")),...us].join(SPACE);return ts.runtime!=="browser"?(ps&&(as[X_AMZ_USER_AGENT]=as[X_AMZ_USER_AGENT]?"".concat(as[USER_AGENT]," ").concat(ps):ps),as[USER_AGENT]=ds):as[X_AMZ_USER_AGENT]=ds,rs({...os,request:ss})},escapeUserAgent=ts=>{var ls;const rs=ts[0].split(UA_NAME_SEPARATOR).map(cs=>cs.replace(UA_NAME_ESCAPE_REGEX,UA_ESCAPE_CHAR)).join(UA_NAME_SEPARATOR),ns=(ls=ts[1])==null?void 0:ls.replace(UA_VALUE_ESCAPE_REGEX,UA_ESCAPE_CHAR),os=rs.indexOf(UA_NAME_SEPARATOR),ss=rs.substring(0,os);let as=rs.substring(os+1);return ss==="api"&&(as=as.toLowerCase()),[ss,as,ns].filter(cs=>cs&&cs.length>0).reduce((cs,us,ds)=>{switch(ds){case 0:return us;case 1:return"".concat(cs,"/").concat(us);default:return"".concat(cs,"#").concat(us)}},"")},getUserAgentMiddlewareOptions={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},getUserAgentPlugin=ts=>({applyToStack:rs=>{rs.add(userAgentMiddleware(ts),getUserAgentMiddlewareOptions)}});var SelectorType;(function(ts){ts.ENV="env",ts.CONFIG="shared config entry"})(SelectorType||(SelectorType={}));const DEFAULT_USE_DUALSTACK_ENDPOINT=!1,DEFAULT_USE_FIPS_ENDPOINT=!1,getSmithyContext=ts=>ts[SMITHY_CONTEXT_KEY]||(ts[SMITHY_CONTEXT_KEY]={}),normalizeProvider$1=ts=>{if(typeof ts=="function")return ts;const rs=Promise.resolve(ts);return()=>rs},isFipsRegion=ts=>typeof ts=="string"&&(ts.startsWith("fips-")||ts.endsWith("-fips")),getRealRegion=ts=>isFipsRegion(ts)?["fips-aws-global","aws-fips"].includes(ts)?"us-east-1":ts.replace(/fips-(dkr-|prod-)?|-fips/,""):ts,resolveRegionConfig=ts=>{const{region:rs,useFipsEndpoint:ns}=ts;if(!rs)throw new Error("Region is missing");return{...ts,region:async()=>{if(typeof rs=="string")return getRealRegion(rs);const os=await rs();return getRealRegion(os)},useFipsEndpoint:async()=>{const os=typeof rs=="string"?rs:await rs();return isFipsRegion(os)?!0:typeof ns!="function"?Promise.resolve(!!ns):ns()}}};function convertHttpAuthSchemesToMap(ts){const rs=new Map;for(const ns of ts)rs.set(ns.schemeId,ns);return rs}const httpAuthSchemeMiddleware=(ts,rs)=>(ns,os)=>async ss=>{var ds;const as=ts.httpAuthSchemeProvider(await rs.httpAuthSchemeParametersProvider(ts,os,ss.input)),ls=convertHttpAuthSchemesToMap(ts.httpAuthSchemes),cs=getSmithyContext(os),us=[];for(const ps of as){const fs=ls.get(ps.schemeId);if(!fs){us.push("HttpAuthScheme `".concat(ps.schemeId,"` was not enabled for this service."));continue}const hs=fs.identityProvider(await rs.identityProviderConfigProvider(ts));if(!hs){us.push("HttpAuthScheme `".concat(ps.schemeId,"` did not have an IdentityProvider configured."));continue}const{identityProperties:ms={},signingProperties:gs={}}=((ds=ps.propertiesExtractor)==null?void 0:ds.call(ps,ts,os))||{};ps.identityProperties=Object.assign(ps.identityProperties||{},ms),ps.signingProperties=Object.assign(ps.signingProperties||{},gs),cs.selectedHttpAuthScheme={httpAuthOption:ps,identity:await hs(ps.identityProperties),signer:fs.signer};break}if(!cs.selectedHttpAuthScheme)throw new Error(us.join("\n"));return ns(ss)},resolveParamsForS3=async ts=>{const rs=(ts==null?void 0:ts.Bucket)||"";if(typeof ts.Bucket=="string"&&(ts.Bucket=rs.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),isArnBucketName(rs)){if(ts.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!isDnsCompatibleBucketName(rs)||rs.indexOf(".")!==-1&&!String(ts.Endpoint).startsWith("http:")||rs.toLowerCase()!==rs||rs.length<3)&&(ts.ForcePathStyle=!0);return ts.DisableMultiRegionAccessPoints&&(ts.disableMultiRegionAccessPoints=!0,ts.DisableMRAP=!0),ts},DOMAIN_PATTERN=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,IP_ADDRESS_PATTERN=/(\d+\.){3}\d+/,DOTS_PATTERN=/\.\./,isDnsCompatibleBucketName=ts=>DOMAIN_PATTERN.test(ts)&&!IP_ADDRESS_PATTERN.test(ts)&&!DOTS_PATTERN.test(ts),isArnBucketName=ts=>{const[rs,ns,os,,,ss]=ts.split(":"),as=rs==="arn"&&ts.split(":").length>=6,ls=!!(as&&ns&&os&&ss);if(as&&!ls)throw new Error("Invalid ARN: ".concat(ts," was an invalid ARN."));return ls},createConfigValueProvider=(ts,rs,ns)=>{const os=async()=>{var as;const ss=(as=ns[ts])!=null?as:ns[rs];return typeof ss=="function"?ss():ss};return ts==="credentialScope"||rs==="CredentialScope"?async()=>{var ls;const ss=typeof ns.credentials=="function"?await ns.credentials():ns.credentials;return(ls=ss==null?void 0:ss.credentialScope)!=null?ls:ss==null?void 0:ss.CredentialScope}:ts==="accountId"||rs==="AccountId"?async()=>{var ls;const ss=typeof ns.credentials=="function"?await ns.credentials():ns.credentials;return(ls=ss==null?void 0:ss.accountId)!=null?ls:ss==null?void 0:ss.AccountId}:ts==="endpoint"||rs==="endpoint"?async()=>{const ss=await os();if(ss&&typeof ss=="object"){if("url"in ss)return ss.url.href;if("hostname"in ss){const{protocol:as,hostname:ls,port:cs,path:us}=ss;return"".concat(as,"//").concat(ls).concat(cs?":"+cs:"").concat(us)}}return ss}:os},getEndpointFromConfig=async ts=>{};function parseQueryString(ts){const rs={};if(ts=ts.replace(/^\?/,""),ts)for(const ns of ts.split("&")){let[os,ss=null]=ns.split("=");os=decodeURIComponent(os),ss&&(ss=decodeURIComponent(ss)),os in rs?Array.isArray(rs[os])?rs[os].push(ss):rs[os]=[rs[os],ss]:rs[os]=ss}return rs}const parseUrl=ts=>{if(typeof ts=="string")return parseUrl(new URL(ts));const{hostname:rs,pathname:ns,port:os,protocol:ss,search:as}=ts;let ls;return as&&(ls=parseQueryString(as)),{hostname:rs,port:os?parseInt(os):void 0,protocol:ss,path:ns,query:ls}},toEndpointV1=ts=>typeof ts=="object"?"url"in ts?parseUrl(ts.url):ts:parseUrl(ts),getEndpointFromInstructions=async(ts,rs,ns,os)=>{if(!ns.endpoint){const ls=await getEndpointFromConfig(ns.serviceId||"");ls&&(ns.endpoint=()=>Promise.resolve(toEndpointV1(ls)))}const ss=await resolveParams(ts,rs,ns);if(typeof ns.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return ns.endpointProvider(ss,os)},resolveParams=async(ts,rs,ns)=>{var as;const os={},ss=((as=rs==null?void 0:rs.getEndpointParameterInstructions)==null?void 0:as.call(rs))||{};for(const[ls,cs]of Object.entries(ss))switch(cs.type){case"staticContextParams":os[ls]=cs.value;break;case"contextParams":os[ls]=ts[cs.name];break;case"clientContextParams":case"builtInParams":os[ls]=await createConfigValueProvider(cs.name,ls,ns)();break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(cs))}return Object.keys(ss).length===0&&Object.assign(os,ns),String(ns.serviceId).toLowerCase()==="s3"&&await resolveParamsForS3(os),os},endpointMiddleware=({config:ts,instructions:rs})=>(ns,os)=>async ss=>{var cs,us,ds;const as=await getEndpointFromInstructions(ss.input,{getEndpointParameterInstructions(){return rs}},{...ts},os);os.endpointV2=as,os.authSchemes=(cs=as.properties)==null?void 0:cs.authSchemes;const ls=(us=os.authSchemes)==null?void 0:us[0];if(ls){os.signing_region=ls.signingRegion,os.signing_service=ls.signingName;const ps=getSmithyContext(os),fs=(ds=ps==null?void 0:ps.selectedHttpAuthScheme)==null?void 0:ds.httpAuthOption;fs&&(fs.signingProperties=Object.assign(fs.signingProperties||{},{signing_region:ls.signingRegion,signingRegion:ls.signingRegion,signing_service:ls.signingName,signingName:ls.signingName,signingRegionSet:ls.signingRegionSet},ls.properties))}return ns({...ss})},deserializerMiddleware=(ts,rs)=>ns=>async os=>{const{response:ss}=await ns(os);try{const as=await rs(ss,ts);return{response:ss,output:as}}catch(as){if(Object.defineProperty(as,"$response",{value:ss}),!("$metadata"in as)){const ls="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";as.message+="\n  "+ls,typeof as.$responseBodyText<"u"&&as.$response&&(as.$response.body=as.$responseBodyText)}throw as}},serializerMiddleware=(ts,rs)=>(ns,os)=>async ss=>{var cs;const as=(cs=os.endpointV2)!=null&&cs.url&&ts.urlParser?async()=>ts.urlParser(os.endpointV2.url):ts.endpoint;if(!as)throw new Error("No valid endpoint provider available.");const ls=await rs(ss.input,{...ts,endpoint:as});return ns({...ss,request:ls})},deserializerMiddlewareOption={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},serializerMiddlewareOption={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function getSerdePlugin(ts,rs,ns){return{applyToStack:os=>{os.add(deserializerMiddleware(ts,ns),deserializerMiddlewareOption),os.add(serializerMiddleware(ts,rs),serializerMiddlewareOption)}}}const endpointMiddlewareOptions={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:serializerMiddlewareOption.name},getEndpointPlugin=(ts,rs)=>({applyToStack:ns=>{ns.addRelativeTo(endpointMiddleware({config:ts,instructions:rs}),endpointMiddlewareOptions)}}),resolveEndpointConfig=ts=>{var as,ls,cs;const rs=(as=ts.tls)!=null?as:!0,{endpoint:ns}=ts,os=ns!=null?async()=>toEndpointV1(await normalizeProvider$1(ns)()):void 0;return{...ts,endpoint:os,tls:rs,isCustomEndpoint:!!ns,useDualstackEndpoint:normalizeProvider$1((ls=ts.useDualstackEndpoint)!=null?ls:!1),useFipsEndpoint:normalizeProvider$1((cs=ts.useFipsEndpoint)!=null?cs:!1)}},httpAuthSchemeEndpointRuleSetMiddlewareOptions={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:endpointMiddlewareOptions.name},getHttpAuthSchemeEndpointRuleSetPlugin=(ts,{httpAuthSchemeParametersProvider:rs,identityProviderConfigProvider:ns})=>({applyToStack:os=>{os.addRelativeTo(httpAuthSchemeMiddleware(ts,{httpAuthSchemeParametersProvider:rs,identityProviderConfigProvider:ns}),httpAuthSchemeEndpointRuleSetMiddlewareOptions)}});serializerMiddlewareOption.name;const defaultErrorHandler=ts=>rs=>{throw rs},defaultSuccessHandler=(ts,rs)=>{},httpSigningMiddleware=ts=>(rs,ns)=>async os=>{if(!HttpRequest.isInstance(os.request))return rs(os);const as=getSmithyContext(ns).selectedHttpAuthScheme;if(!as)throw new Error("No HttpAuthScheme was selected: unable to sign request");const{httpAuthOption:{signingProperties:ls={}},identity:cs,signer:us}=as,ds=await rs({...os,request:await us.sign(os.request,cs,ls)}).catch((us.errorHandler||defaultErrorHandler)(ls));return(us.successHandler||defaultSuccessHandler)(ds.response,ls),ds};var RETRY_MODES;(function(ts){ts.STANDARD="standard",ts.ADAPTIVE="adaptive"})(RETRY_MODES||(RETRY_MODES={}));const DEFAULT_MAX_ATTEMPTS=3,DEFAULT_RETRY_MODE=RETRY_MODES.STANDARD,THROTTLING_ERROR_CODES=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],TRANSIENT_ERROR_CODES=["TimeoutError","RequestTimeout","RequestTimeoutException"],TRANSIENT_ERROR_STATUS_CODES=[500,502,503,504],NODEJS_TIMEOUT_ERROR_CODES=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],isClockSkewCorrectedError=ts=>{var rs;return(rs=ts.$metadata)==null?void 0:rs.clockSkewCorrected},isThrottlingError=ts=>{var rs,ns;return((rs=ts.$metadata)==null?void 0:rs.httpStatusCode)===429||THROTTLING_ERROR_CODES.includes(ts.name)||((ns=ts.$retryable)==null?void 0:ns.throttling)==!0},isTransientError=ts=>{var rs;return isClockSkewCorrectedError(ts)||TRANSIENT_ERROR_CODES.includes(ts.name)||NODEJS_TIMEOUT_ERROR_CODES.includes((ts==null?void 0:ts.code)||"")||TRANSIENT_ERROR_STATUS_CODES.includes(((rs=ts.$metadata)==null?void 0:rs.httpStatusCode)||0)},isServerError=ts=>{var rs;if(((rs=ts.$metadata)==null?void 0:rs.httpStatusCode)!==void 0){const ns=ts.$metadata.httpStatusCode;return 500<=ns&&ns<=599&&!isTransientError(ts)}return!1};class DefaultRateLimiter{constructor(rs){var os,ss,as,ls,cs;this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=(os=rs==null?void 0:rs.beta)!=null?os:.7,this.minCapacity=(ss=rs==null?void 0:rs.minCapacity)!=null?ss:1,this.minFillRate=(as=rs==null?void 0:rs.minFillRate)!=null?as:.5,this.scaleConstant=(ls=rs==null?void 0:rs.scaleConstant)!=null?ls:.4,this.smooth=(cs=rs==null?void 0:rs.smooth)!=null?cs:.8;const ns=this.getCurrentTimeInSeconds();this.lastThrottleTime=ns,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(rs){if(this.enabled){if(this.refillTokenBucket(),rs>this.currentCapacity){const ns=(rs-this.currentCapacity)/this.fillRate*1e3;await new Promise(os=>setTimeout(os,ns))}this.currentCapacity=this.currentCapacity-rs}}refillTokenBucket(){const rs=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=rs;return}const ns=(rs-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+ns),this.lastTimestamp=rs}updateClientSendingRate(rs){let ns;if(this.updateMeasuredRate(),isThrottlingError(rs)){const ss=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=ss,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),ns=this.cubicThrottle(ss),this.enableTokenBucket()}else this.calculateTimeWindow(),ns=this.cubicSuccess(this.getCurrentTimeInSeconds());const os=Math.min(ns,2*this.measuredTxRate);this.updateTokenBucketRate(os)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(rs){return this.getPrecise(rs*this.beta)}cubicSuccess(rs){return this.getPrecise(this.scaleConstant*Math.pow(rs-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(rs){this.refillTokenBucket(),this.fillRate=Math.max(rs,this.minFillRate),this.maxCapacity=Math.max(rs,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){const rs=this.getCurrentTimeInSeconds(),ns=Math.floor(rs*2)/2;if(this.requestCount++,ns>this.lastTxRateBucket){const os=this.requestCount/(ns-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(os*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=ns}}getPrecise(rs){return parseFloat(rs.toFixed(8))}}const DEFAULT_RETRY_DELAY_BASE=100,MAXIMUM_RETRY_DELAY=20*1e3,THROTTLING_RETRY_DELAY_BASE=500,INITIAL_RETRY_TOKENS=500,RETRY_COST=5,TIMEOUT_RETRY_COST=10,NO_RETRY_INCREMENT=1,INVOCATION_ID_HEADER="amz-sdk-invocation-id",REQUEST_HEADER="amz-sdk-request",getDefaultRetryBackoffStrategy=()=>{let ts=DEFAULT_RETRY_DELAY_BASE;return{computeNextBackoffDelay:os=>Math.floor(Math.min(MAXIMUM_RETRY_DELAY,Math.random()*2**os*ts)),setDelayBase:os=>{ts=os}}},createDefaultRetryToken=({retryDelay:ts,retryCount:rs,retryCost:ns})=>({getRetryCount:()=>rs,getRetryDelay:()=>Math.min(MAXIMUM_RETRY_DELAY,ts),getRetryCost:()=>ns});class StandardRetryStrategy{constructor(rs){this.maxAttempts=rs,this.mode=RETRY_MODES.STANDARD,this.capacity=INITIAL_RETRY_TOKENS,this.retryBackoffStrategy=getDefaultRetryBackoffStrategy(),this.maxAttemptsProvider=typeof rs=="function"?rs:async()=>rs}async acquireInitialRetryToken(rs){return createDefaultRetryToken({retryDelay:DEFAULT_RETRY_DELAY_BASE,retryCount:0})}async refreshRetryTokenForRetry(rs,ns){const os=await this.getMaxAttempts();if(this.shouldRetry(rs,ns,os)){const ss=ns.errorType;this.retryBackoffStrategy.setDelayBase(ss==="THROTTLING"?THROTTLING_RETRY_DELAY_BASE:DEFAULT_RETRY_DELAY_BASE);const as=this.retryBackoffStrategy.computeNextBackoffDelay(rs.getRetryCount()),ls=ns.retryAfterHint?Math.max(ns.retryAfterHint.getTime()-Date.now()||0,as):as,cs=this.getCapacityCost(ss);return this.capacity-=cs,createDefaultRetryToken({retryDelay:ls,retryCount:rs.getRetryCount()+1,retryCost:cs})}throw new Error("No retry token available")}recordSuccess(rs){var ns;this.capacity=Math.max(INITIAL_RETRY_TOKENS,this.capacity+((ns=rs.getRetryCost())!=null?ns:NO_RETRY_INCREMENT))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn("Max attempts provider could not resolve. Using default of ".concat(DEFAULT_MAX_ATTEMPTS)),DEFAULT_MAX_ATTEMPTS}}shouldRetry(rs,ns,os){return rs.getRetryCount()+1<os&&this.capacity>=this.getCapacityCost(ns.errorType)&&this.isRetryableError(ns.errorType)}getCapacityCost(rs){return rs==="TRANSIENT"?TIMEOUT_RETRY_COST:RETRY_COST}isRetryableError(rs){return rs==="THROTTLING"||rs==="TRANSIENT"}}class AdaptiveRetryStrategy{constructor(rs,ns){this.maxAttemptsProvider=rs,this.mode=RETRY_MODES.ADAPTIVE;const{rateLimiter:os}=ns!=null?ns:{};this.rateLimiter=os!=null?os:new DefaultRateLimiter,this.standardRetryStrategy=new StandardRetryStrategy(rs)}async acquireInitialRetryToken(rs){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(rs)}async refreshRetryTokenForRetry(rs,ns){return this.rateLimiter.updateClientSendingRate(ns),this.standardRetryStrategy.refreshRetryTokenForRetry(rs,ns)}recordSuccess(rs){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(rs)}}let getRandomValues$1;const rnds8$1=new Uint8Array(16);function rng$1(){if(!getRandomValues$1&&(getRandomValues$1=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!getRandomValues$1))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues$1(rnds8$1)}const byteToHex$1=[];for(let ts=0;ts<256;++ts)byteToHex$1.push((ts+256).toString(16).slice(1));function unsafeStringify(ts,rs=0){return byteToHex$1[ts[rs+0]]+byteToHex$1[ts[rs+1]]+byteToHex$1[ts[rs+2]]+byteToHex$1[ts[rs+3]]+"-"+byteToHex$1[ts[rs+4]]+byteToHex$1[ts[rs+5]]+"-"+byteToHex$1[ts[rs+6]]+byteToHex$1[ts[rs+7]]+"-"+byteToHex$1[ts[rs+8]]+byteToHex$1[ts[rs+9]]+"-"+byteToHex$1[ts[rs+10]]+byteToHex$1[ts[rs+11]]+byteToHex$1[ts[rs+12]]+byteToHex$1[ts[rs+13]]+byteToHex$1[ts[rs+14]]+byteToHex$1[ts[rs+15]]}const randomUUID=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),native={randomUUID};function v4$1(ts,rs,ns){if(native.randomUUID&&!rs&&!ts)return native.randomUUID();ts=ts||{};const os=ts.random||(ts.rng||rng$1)();if(os[6]=os[6]&15|64,os[8]=os[8]&63|128,rs){ns=ns||0;for(let ss=0;ss<16;++ss)rs[ns+ss]=os[ss];return rs}return unsafeStringify(os)}const asSdkError=ts=>ts instanceof Error?ts:ts instanceof Object?Object.assign(new Error,ts):typeof ts=="string"?new Error(ts):new Error("AWS SDK error wrapper for ".concat(ts)),resolveRetryConfig=ts=>{var os;const{retryStrategy:rs}=ts,ns=normalizeProvider$1((os=ts.maxAttempts)!=null?os:DEFAULT_MAX_ATTEMPTS);return{...ts,maxAttempts:ns,retryStrategy:async()=>rs||(await normalizeProvider$1(ts.retryMode)()===RETRY_MODES.ADAPTIVE?new AdaptiveRetryStrategy(ns):new StandardRetryStrategy(ns))}};let NoOpLogger$2=class{trace(){}debug(){}info(){}warn(){}error(){}};const getAllAliases=(ts,rs)=>{const ns=[];if(ts&&ns.push(ts),rs)for(const os of rs)ns.push(os);return ns},getMiddlewareNameWithAliases=(ts,rs)=>"".concat(ts||"anonymous").concat(rs&&rs.length>0?" (a.k.a. ".concat(rs.join(","),")"):""),constructStack=()=>{let ts=[],rs=[],ns=!1;const os=new Set,ss=fs=>fs.sort((hs,ms)=>stepWeights[ms.step]-stepWeights[hs.step]||priorityWeights[ms.priority||"normal"]-priorityWeights[hs.priority||"normal"]),as=fs=>{let hs=!1;const ms=gs=>{const vs=getAllAliases(gs.name,gs.aliases);if(vs.includes(fs)){hs=!0;for(const bs of vs)os.delete(bs);return!1}return!0};return ts=ts.filter(ms),rs=rs.filter(ms),hs},ls=fs=>{let hs=!1;const ms=gs=>{if(gs.middleware===fs){hs=!0;for(const vs of getAllAliases(gs.name,gs.aliases))os.delete(vs);return!1}return!0};return ts=ts.filter(ms),rs=rs.filter(ms),hs},cs=fs=>{var hs;return ts.forEach(ms=>{fs.add(ms.middleware,{...ms})}),rs.forEach(ms=>{fs.addRelativeTo(ms.middleware,{...ms})}),(hs=fs.identifyOnResolve)==null||hs.call(fs,ps.identifyOnResolve()),fs},us=fs=>{const hs=[];return fs.before.forEach(ms=>{ms.before.length===0&&ms.after.length===0?hs.push(ms):hs.push(...us(ms))}),hs.push(fs),fs.after.reverse().forEach(ms=>{ms.before.length===0&&ms.after.length===0?hs.push(ms):hs.push(...us(ms))}),hs},ds=(fs=!1)=>{const hs=[],ms=[],gs={};return ts.forEach(bs=>{const xs={...bs,before:[],after:[]};for(const ys of getAllAliases(xs.name,xs.aliases))gs[ys]=xs;hs.push(xs)}),rs.forEach(bs=>{const xs={...bs,before:[],after:[]};for(const ys of getAllAliases(xs.name,xs.aliases))gs[ys]=xs;ms.push(xs)}),ms.forEach(bs=>{if(bs.toMiddleware){const xs=gs[bs.toMiddleware];if(xs===void 0){if(fs)return;throw new Error("".concat(bs.toMiddleware," is not found when adding ")+"".concat(getMiddlewareNameWithAliases(bs.name,bs.aliases)," ")+"middleware ".concat(bs.relation," ").concat(bs.toMiddleware))}bs.relation==="after"&&xs.after.push(bs),bs.relation==="before"&&xs.before.push(bs)}}),ss(hs).map(us).reduce((bs,xs)=>(bs.push(...xs),bs),[])},ps={add:(fs,hs={})=>{const{name:ms,override:gs,aliases:vs}=hs,bs={step:"initialize",priority:"normal",middleware:fs,...hs},xs=getAllAliases(ms,vs);if(xs.length>0){if(xs.some(ys=>os.has(ys))){if(!gs)throw new Error("Duplicate middleware name '".concat(getMiddlewareNameWithAliases(ms,vs),"'"));for(const ys of xs){const Ss=ts.findIndex($s=>{var Es;return $s.name===ys||((Es=$s.aliases)==null?void 0:Es.some(ws=>ws===ys))});if(Ss===-1)continue;const Cs=ts[Ss];if(Cs.step!==bs.step||bs.priority!==Cs.priority)throw new Error('"'.concat(getMiddlewareNameWithAliases(Cs.name,Cs.aliases),'" middleware with ')+"".concat(Cs.priority," priority in ").concat(Cs.step," step cannot ")+'be overridden by "'.concat(getMiddlewareNameWithAliases(ms,vs),'" middleware with ')+"".concat(bs.priority," priority in ").concat(bs.step," step."));ts.splice(Ss,1)}}for(const ys of xs)os.add(ys)}ts.push(bs)},addRelativeTo:(fs,hs)=>{const{name:ms,override:gs,aliases:vs}=hs,bs={middleware:fs,...hs},xs=getAllAliases(ms,vs);if(xs.length>0){if(xs.some(ys=>os.has(ys))){if(!gs)throw new Error("Duplicate middleware name '".concat(getMiddlewareNameWithAliases(ms,vs),"'"));for(const ys of xs){const Ss=rs.findIndex($s=>{var Es;return $s.name===ys||((Es=$s.aliases)==null?void 0:Es.some(ws=>ws===ys))});if(Ss===-1)continue;const Cs=rs[Ss];if(Cs.toMiddleware!==bs.toMiddleware||Cs.relation!==bs.relation)throw new Error('"'.concat(getMiddlewareNameWithAliases(Cs.name,Cs.aliases),'" middleware ')+"".concat(Cs.relation,' "').concat(Cs.toMiddleware,'" middleware cannot be overridden ')+'by "'.concat(getMiddlewareNameWithAliases(ms,vs),'" middleware ').concat(bs.relation," ")+'"'.concat(bs.toMiddleware,'" middleware.'));rs.splice(Ss,1)}}for(const ys of xs)os.add(ys)}rs.push(bs)},clone:()=>cs(constructStack()),use:fs=>{fs.applyToStack(ps)},remove:fs=>typeof fs=="string"?as(fs):ls(fs),removeByTag:fs=>{let hs=!1;const ms=gs=>{const{tags:vs,name:bs,aliases:xs}=gs;if(vs&&vs.includes(fs)){const ys=getAllAliases(bs,xs);for(const Ss of ys)os.delete(Ss);return hs=!0,!1}return!0};return ts=ts.filter(ms),rs=rs.filter(ms),hs},concat:fs=>{var ms,gs;const hs=cs(constructStack());return hs.use(fs),hs.identifyOnResolve(ns||hs.identifyOnResolve()||((gs=(ms=fs.identifyOnResolve)==null?void 0:ms.call(fs))!=null?gs:!1)),hs},applyToStack:cs,identify:()=>ds(!0).map(fs=>{var ms;const hs=(ms=fs.step)!=null?ms:fs.relation+" "+fs.toMiddleware;return getMiddlewareNameWithAliases(fs.name,fs.aliases)+" - "+hs}),identifyOnResolve(fs){return typeof fs=="boolean"&&(ns=fs),ns},resolve:(fs,hs)=>{for(const ms of ds().map(gs=>gs.middleware).reverse())fs=ms(fs,hs);return ns&&console.log(ps.identify()),fs}};return ps},stepWeights={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},priorityWeights={high:3,normal:2,low:1};class Client{constructor(rs){this.middlewareStack=constructStack(),this.config=rs}send(rs,ns,os){const ss=typeof ns!="function"?ns:void 0,as=typeof ns=="function"?ns:os,ls=rs.resolveMiddleware(this.middlewareStack,this.config,ss);if(as)ls(rs).then(cs=>as(null,cs.output),cs=>as(cs)).catch(()=>{});else return ls(rs).then(cs=>cs.output)}destroy(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()}}const alphabetByEncoding={},alphabetByValue=new Array(64);for(let ts=0,rs="A".charCodeAt(0),ns="Z".charCodeAt(0);ts+rs<=ns;ts++){const os=String.fromCharCode(ts+rs);alphabetByEncoding[os]=ts,alphabetByValue[ts]=os}for(let ts=0,rs="a".charCodeAt(0),ns="z".charCodeAt(0);ts+rs<=ns;ts++){const os=String.fromCharCode(ts+rs),ss=ts+26;alphabetByEncoding[os]=ss,alphabetByValue[ss]=os}for(let ts=0;ts<10;ts++){alphabetByEncoding[ts.toString(10)]=ts+52;const rs=ts.toString(10),ns=ts+52;alphabetByEncoding[rs]=ns,alphabetByValue[ns]=rs}alphabetByEncoding["+"]=62;alphabetByValue[62]="+";alphabetByEncoding["/"]=63;alphabetByValue[63]="/";const bitsPerLetter=6,bitsPerByte=8,maxLetterValue=63,fromBase64=ts=>{let rs=ts.length/4*3;ts.slice(-2)==="=="?rs-=2:ts.slice(-1)==="="&&rs--;const ns=new ArrayBuffer(rs),os=new DataView(ns);for(let ss=0;ss<ts.length;ss+=4){let as=0,ls=0;for(let ds=ss,ps=ss+3;ds<=ps;ds++)if(ts[ds]!=="="){if(!(ts[ds]in alphabetByEncoding))throw new TypeError("Invalid character ".concat(ts[ds]," in base64 string."));as|=alphabetByEncoding[ts[ds]]<<(ps-ds)*bitsPerLetter,ls+=bitsPerLetter}else as>>=bitsPerLetter;const cs=ss/4*3;as>>=ls%bitsPerByte;const us=Math.floor(ls/bitsPerByte);for(let ds=0;ds<us;ds++){const ps=(us-ds-1)*bitsPerByte;os.setUint8(cs+ds,(as&255<<ps)>>ps)}}return new Uint8Array(ns)},fromUtf8$5=ts=>new TextEncoder().encode(ts),toUint8Array=ts=>typeof ts=="string"?fromUtf8$5(ts):ArrayBuffer.isView(ts)?new Uint8Array(ts.buffer,ts.byteOffset,ts.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(ts),toUtf8$3=ts=>{if(typeof ts=="string")return ts;if(typeof ts!="object"||typeof ts.byteOffset!="number"||typeof ts.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return new TextDecoder("utf-8").decode(ts)};function toBase64(ts){let rs;typeof ts=="string"?rs=fromUtf8$5(ts):rs=ts;const ns=typeof rs=="object"&&typeof rs.length=="number",os=typeof rs=="object"&&typeof rs.byteOffset=="number"&&typeof rs.byteLength=="number";if(!ns&&!os)throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");let ss="";for(let as=0;as<rs.length;as+=3){let ls=0,cs=0;for(let ds=as,ps=Math.min(as+3,rs.length);ds<ps;ds++)ls|=rs[ds]<<(ps-ds-1)*bitsPerByte,cs+=bitsPerByte;const us=Math.ceil(cs/bitsPerLetter);ls<<=us*bitsPerLetter-cs;for(let ds=1;ds<=us;ds++){const ps=(us-ds)*bitsPerLetter;ss+=alphabetByValue[(ls&maxLetterValue<<ps)>>ps]}ss+="==".slice(0,4-us)}return ss}function transformToString(ts,rs="utf-8"){return rs==="base64"?toBase64(ts):toUtf8$3(ts)}function transformFromString(ts,rs){return rs==="base64"?Uint8ArrayBlobAdapter.mutate(fromBase64(ts)):Uint8ArrayBlobAdapter.mutate(fromUtf8$5(ts))}class Uint8ArrayBlobAdapter extends Uint8Array{static fromString(rs,ns="utf-8"){switch(typeof rs){case"string":return transformFromString(rs,ns);default:throw new Error("Unsupported conversion from ".concat(typeof rs," to Uint8ArrayBlobAdapter."))}}static mutate(rs){return Object.setPrototypeOf(rs,Uint8ArrayBlobAdapter.prototype),rs}transformToString(rs="utf-8"){return transformToString(this,rs)}}const escapeUri=ts=>encodeURIComponent(ts).replace(/[!'()*]/g,hexEncode),hexEncode=ts=>"%".concat(ts.charCodeAt(0).toString(16).toUpperCase());function buildQueryString(ts){const rs=[];for(let ns of Object.keys(ts).sort()){const os=ts[ns];if(ns=escapeUri(ns),Array.isArray(os))for(let ss=0,as=os.length;ss<as;ss++)rs.push("".concat(ns,"=").concat(escapeUri(os[ss])));else{let ss=ns;(os||typeof os=="string")&&(ss+="=".concat(escapeUri(os))),rs.push(ss)}}return rs.join("&")}function requestTimeout(ts=0){return new Promise((rs,ns)=>{ts&&setTimeout(()=>{const os=new Error("Request did not complete within ".concat(ts," ms"));os.name="TimeoutError",ns(os)},ts)})}const keepAliveSupport={supported:void 0};class FetchHttpHandler{static create(rs){return typeof(rs==null?void 0:rs.handle)=="function"?rs:new FetchHttpHandler(rs)}constructor(rs){typeof rs=="function"?this.configProvider=rs().then(ns=>ns||{}):(this.config=rs!=null?rs:{},this.configProvider=Promise.resolve(this.config)),keepAliveSupport.supported===void 0&&(keepAliveSupport.supported=typeof Request<"u"&&"keepalive"in new Request("https://[::1]"))}destroy(){}async handle(rs,{abortSignal:ns}={}){var xs,ys;this.config||(this.config=await this.configProvider);const os=this.config.requestTimeout,ss=this.config.keepAlive===!0,as=this.config.credentials;if(ns!=null&&ns.aborted){const Ss=new Error("Request aborted");return Ss.name="AbortError",Promise.reject(Ss)}let ls=rs.path;const cs=buildQueryString(rs.query||{});cs&&(ls+="?".concat(cs)),rs.fragment&&(ls+="#".concat(rs.fragment));let us="";if(rs.username!=null||rs.password!=null){const Ss=(xs=rs.username)!=null?xs:"",Cs=(ys=rs.password)!=null?ys:"";us="".concat(Ss,":").concat(Cs,"@")}const{port:ds,method:ps}=rs,fs="".concat(rs.protocol,"//").concat(us).concat(rs.hostname).concat(ds?":".concat(ds):"").concat(ls),hs=ps==="GET"||ps==="HEAD"?void 0:rs.body,ms={body:hs,headers:new Headers(rs.headers),method:ps,credentials:as};hs&&(ms.duplex="half"),typeof AbortController<"u"&&(ms.signal=ns),keepAliveSupport.supported&&(ms.keepalive=ss);let gs=null;const vs=new Request(fs,ms),bs=[fetch(vs).then(Ss=>{const Cs=Ss.headers,$s={};for(const ws of Cs.entries())$s[ws[0]]=ws[1];return Ss.body!=null?{response:new HttpResponse({headers:$s,reason:Ss.statusText,statusCode:Ss.status,body:Ss.body})}:Ss.blob().then(ws=>({response:new HttpResponse({headers:$s,reason:Ss.statusText,statusCode:Ss.status,body:ws})}))}),requestTimeout(os)];return ns&&bs.push(new Promise((Ss,Cs)=>{const $s=()=>{const Es=new Error("Request aborted");Es.name="AbortError",Cs(Es)};if(typeof ns.addEventListener=="function"){const Es=ns;Es.addEventListener("abort",$s,{once:!0}),gs=()=>Es.removeEventListener("abort",$s)}else ns.onabort=$s})),Promise.race(bs).finally(gs)}updateHttpClientConfig(rs,ns){this.config=void 0,this.configProvider=this.configProvider.then(os=>(os[rs]=ns,os))}httpHandlerConfigs(){var rs;return(rs=this.config)!=null?rs:{}}}const streamCollector=ts=>typeof Blob=="function"&&ts instanceof Blob?collectBlob(ts):collectStream(ts);async function collectBlob(ts){const rs=await readToBase64(ts),ns=fromBase64(rs);return new Uint8Array(ns)}async function collectStream(ts){const rs=[],ns=ts.getReader();let os=!1,ss=0;for(;!os;){const{done:cs,value:us}=await ns.read();us&&(rs.push(us),ss+=us.length),os=cs}const as=new Uint8Array(ss);let ls=0;for(const cs of rs)as.set(cs,ls),ls+=cs.length;return as}function readToBase64(ts){return new Promise((rs,ns)=>{const os=new FileReader;os.onloadend=()=>{var cs;if(os.readyState!==2)return ns(new Error("Reader aborted too early"));const ss=(cs=os.result)!=null?cs:"",as=ss.indexOf(","),ls=as>-1?as+1:ss.length;rs(ss.substring(ls))},os.onabort=()=>ns(new Error("Read aborted")),os.onerror=()=>ns(os.error),os.readAsDataURL(ts)})}const SHORT_TO_HEX$1={},HEX_TO_SHORT$1={};for(let ts=0;ts<256;ts++){let rs=ts.toString(16).toLowerCase();rs.length===1&&(rs="0".concat(rs)),SHORT_TO_HEX$1[ts]=rs,HEX_TO_SHORT$1[rs]=ts}function fromHex$1(ts){if(ts.length%2!==0)throw new Error("Hex encoded strings must have an even number length");const rs=new Uint8Array(ts.length/2);for(let ns=0;ns<ts.length;ns+=2){const os=ts.slice(ns,ns+2).toLowerCase();if(os in HEX_TO_SHORT$1)rs[ns/2]=HEX_TO_SHORT$1[os];else throw new Error("Cannot decode unrecognized sequence ".concat(os," as hexadecimal"))}return rs}function toHex$1(ts){let rs="";for(let ns=0;ns<ts.byteLength;ns++)rs+=SHORT_TO_HEX$1[ts[ns]];return rs}const collectBody=async(ts=new Uint8Array,rs)=>{if(ts instanceof Uint8Array)return Uint8ArrayBlobAdapter.mutate(ts);if(!ts)return Uint8ArrayBlobAdapter.mutate(new Uint8Array);const ns=rs.streamCollector(ts);return Uint8ArrayBlobAdapter.mutate(await ns)};class Command{constructor(){this.middlewareStack=constructStack()}static classBuilder(){return new ClassBuilder}resolveMiddlewareWithContext(rs,ns,os,{middlewareFn:ss,clientName:as,commandName:ls,inputFilterSensitiveLog:cs,outputFilterSensitiveLog:us,smithyContext:ds,additionalContext:ps,CommandCtor:fs}){for(const bs of ss.bind(this)(fs,rs,ns,os))this.middlewareStack.use(bs);const hs=rs.concat(this.middlewareStack),{logger:ms}=ns,gs={logger:ms,clientName:as,commandName:ls,inputFilterSensitiveLog:cs,outputFilterSensitiveLog:us,[SMITHY_CONTEXT_KEY]:{...ds},...ps},{requestHandler:vs}=ns;return hs.resolve(bs=>vs.handle(bs.request,os||{}),gs)}}class ClassBuilder{constructor(){this._init=()=>{},this._ep={},this._middlewareFn=()=>[],this._commandName="",this._clientName="",this._additionalContext={},this._smithyContext={},this._inputFilterSensitiveLog=rs=>rs,this._outputFilterSensitiveLog=rs=>rs,this._serializer=null,this._deserializer=null}init(rs){this._init=rs}ep(rs){return this._ep=rs,this}m(rs){return this._middlewareFn=rs,this}s(rs,ns,os={}){return this._smithyContext={service:rs,operation:ns,...os},this}c(rs={}){return this._additionalContext=rs,this}n(rs,ns){return this._clientName=rs,this._commandName=ns,this}f(rs=os=>os,ns=os=>os){return this._inputFilterSensitiveLog=rs,this._outputFilterSensitiveLog=ns,this}ser(rs){return this._serializer=rs,this}de(rs){return this._deserializer=rs,this}build(){const rs=this;let ns;return ns=class extends Command{static getEndpointParameterInstructions(){return rs._ep}constructor(...[os]){super(),this.serialize=rs._serializer,this.deserialize=rs._deserializer,this.input=os!=null?os:{},rs._init(this)}resolveMiddleware(os,ss,as){return this.resolveMiddlewareWithContext(os,ss,as,{CommandCtor:ns,middlewareFn:rs._middlewareFn,clientName:rs._clientName,commandName:rs._commandName,inputFilterSensitiveLog:rs._inputFilterSensitiveLog,outputFilterSensitiveLog:rs._outputFilterSensitiveLog,smithyContext:rs._smithyContext,additionalContext:rs._additionalContext})}}}}const SENSITIVE_STRING="***SensitiveInformation***",createAggregatedClient=(ts,rs)=>{for(const ns of Object.keys(ts)){const os=ts[ns],ss=async function(ls,cs,us){const ds=new os(ls);if(typeof cs=="function")this.send(ds,cs);else if(typeof us=="function"){if(typeof cs!="object")throw new Error("Expected http options but got ".concat(typeof cs));this.send(ds,cs||{},us)}else return this.send(ds,cs)},as=(ns[0].toLowerCase()+ns.slice(1)).replace(/Command$/,"");rs.prototype[as]=ss}},expectBoolean=ts=>{if(ts!=null){if(typeof ts=="number"){if((ts===0||ts===1)&&logger.warn(stackTraceWarning("Expected boolean, got ".concat(typeof ts,": ").concat(ts))),ts===0)return!1;if(ts===1)return!0}if(typeof ts=="string"){const rs=ts.toLowerCase();if((rs==="false"||rs==="true")&&logger.warn(stackTraceWarning("Expected boolean, got ".concat(typeof ts,": ").concat(ts))),rs==="false")return!1;if(rs==="true")return!0}if(typeof ts=="boolean")return ts;throw new TypeError("Expected boolean, got ".concat(typeof ts,": ").concat(ts))}},expectNumber=ts=>{if(ts!=null){if(typeof ts=="string"){const rs=parseFloat(ts);if(!Number.isNaN(rs))return String(rs)!==String(ts)&&logger.warn(stackTraceWarning("Expected number but observed string: ".concat(ts))),rs}if(typeof ts=="number")return ts;throw new TypeError("Expected number, got ".concat(typeof ts,": ").concat(ts))}},expectNonNull=(ts,rs)=>{if(ts==null)throw rs?new TypeError("Expected a non-null value for ".concat(rs)):new TypeError("Expected a non-null value");return ts},expectObject=ts=>{if(ts==null)return;if(typeof ts=="object"&&!Array.isArray(ts))return ts;const rs=Array.isArray(ts)?"array":typeof ts;throw new TypeError("Expected object, got ".concat(rs,": ").concat(ts))},expectString=ts=>{if(ts!=null){if(typeof ts=="string")return ts;if(["boolean","number","bigint"].includes(typeof ts))return logger.warn(stackTraceWarning("Expected string, got ".concat(typeof ts,": ").concat(ts))),String(ts);throw new TypeError("Expected string, got ".concat(typeof ts,": ").concat(ts))}},strictParseDouble=ts=>expectNumber(typeof ts=="string"?parseNumber(ts):ts),NUMBER_REGEX=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,parseNumber=ts=>{const rs=ts.match(NUMBER_REGEX);if(rs===null||rs[0].length!==ts.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(ts)},stackTraceWarning=ts=>String(new TypeError(ts).stack||ts).split("\n").slice(0,5).filter(rs=>!rs.includes("stackTraceWarning")).join("\n"),logger={warn:console.warn},parseEpochTimestamp=ts=>{if(ts==null)return;let rs;if(typeof ts=="number")rs=ts;else if(typeof ts=="string")rs=strictParseDouble(ts);else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(rs)||rs===1/0||rs===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(rs*1e3))};class ServiceException extends Error{constructor(rs){super(rs.message),Object.setPrototypeOf(this,ServiceException.prototype),this.name=rs.name,this.$fault=rs.$fault,this.$metadata=rs.$metadata}}const decorateServiceException=(ts,rs={})=>{Object.entries(rs).filter(([,os])=>os!==void 0).forEach(([os,ss])=>{(ts[os]==null||ts[os]==="")&&(ts[os]=ss)});const ns=ts.message||ts.Message||"UnknownError";return ts.message=ns,delete ts.Message,ts},throwDefaultError$1=({output:ts,parsedBody:rs,exceptionCtor:ns,errorCode:os})=>{const ss=deserializeMetadata$1(ts),as=ss.httpStatusCode?ss.httpStatusCode+"":void 0,ls=new ns({name:(rs==null?void 0:rs.code)||(rs==null?void 0:rs.Code)||os||as||"UnknownError",$fault:"client",$metadata:ss});throw decorateServiceException(ls,rs)},withBaseException=ts=>({output:rs,parsedBody:ns,errorCode:os})=>{throwDefaultError$1({output:rs,parsedBody:ns,exceptionCtor:ts,errorCode:os})},deserializeMetadata$1=ts=>{var rs,ns;return{httpStatusCode:ts.statusCode,requestId:(ns=(rs=ts.headers["x-amzn-requestid"])!=null?rs:ts.headers["x-amzn-request-id"])!=null?ns:ts.headers["x-amz-request-id"],extendedRequestId:ts.headers["x-amz-id-2"],cfId:ts.headers["x-amz-cf-id"]}},loadConfigsForDefaultMode=ts=>{switch(ts){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},getChecksumConfiguration=ts=>{const rs=[];for(const ns in AlgorithmId){const os=AlgorithmId[ns];ts[os]!==void 0&&rs.push({algorithmId:()=>os,checksumConstructor:()=>ts[os]})}return{_checksumAlgorithms:rs,addChecksumAlgorithm(ns){this._checksumAlgorithms.push(ns)},checksumAlgorithms(){return this._checksumAlgorithms}}},resolveChecksumRuntimeConfig=ts=>{const rs={};return ts.checksumAlgorithms().forEach(ns=>{rs[ns.algorithmId()]=ns.checksumConstructor()}),rs},getRetryConfiguration=ts=>{let rs=ts.retryStrategy;return{setRetryStrategy(ns){rs=ns},retryStrategy(){return rs}}},resolveRetryRuntimeConfig=ts=>{const rs={};return rs.retryStrategy=ts.retryStrategy(),rs},getDefaultExtensionConfiguration=ts=>({...getChecksumConfiguration(ts),...getRetryConfiguration(ts)}),resolveDefaultRuntimeConfig=ts=>({...resolveChecksumRuntimeConfig(ts),...resolveRetryRuntimeConfig(ts)});function extendedEncodeURIComponent(ts){return encodeURIComponent(ts).replace(/[!'()*]/g,function(rs){return"%"+rs.charCodeAt(0).toString(16).toUpperCase()})}const StringWrapper=function(){const ts=Object.getPrototypeOf(this).constructor,rs=Function.bind.apply(String,[null,...arguments]),ns=new rs;return Object.setPrototypeOf(ns,ts.prototype),ns};StringWrapper.prototype=Object.create(String.prototype,{constructor:{value:StringWrapper,enumerable:!1,writable:!0,configurable:!0}});Object.setPrototypeOf(StringWrapper,String);function map(ts,rs,ns){let os,ss,as;if(typeof rs>"u"&&typeof ns>"u")os={},as=ts;else{if(os=ts,typeof rs=="function")return ss=rs,as=ns,mapWithFilter(os,ss,as);as=rs}for(const ls of Object.keys(as)){if(!Array.isArray(as[ls])){os[ls]=as[ls];continue}applyInstruction(os,null,as,ls)}return os}const take=(ts,rs)=>{const ns={};for(const os in rs)applyInstruction(ns,ts,rs,os);return ns},mapWithFilter=(ts,rs,ns)=>map(ts,Object.entries(ns).reduce((os,[ss,as])=>(Array.isArray(as)?os[ss]=as:typeof as=="function"?os[ss]=[rs,as()]:os[ss]=[rs,as],os),{})),applyInstruction=(ts,rs,ns,os)=>{if(rs!==null){let ls=ns[os];typeof ls=="function"&&(ls=[,ls]);const[cs=nonNullish,us=pass,ds=os]=ls;(typeof cs=="function"&&cs(rs[ds])||typeof cs!="function"&&cs)&&(ts[os]=us(rs[ds]));return}let[ss,as]=ns[os];if(typeof as=="function"){let ls;const cs=ss===void 0&&(ls=as())!=null,us=typeof ss=="function"&&!!ss(void 0)||typeof ss!="function"&&!!ss;cs?ts[os]=ls:us&&(ts[os]=as())}else{const ls=ss===void 0&&as!=null,cs=typeof ss=="function"&&!!ss(as)||typeof ss!="function"&&!!ss;(ls||cs)&&(ts[os]=as)}},nonNullish=ts=>ts!=null,pass=ts=>ts,resolvedPath=(ts,rs,ns,os,ss,as)=>{if(rs!=null&&rs[ns]!==void 0){const ls=os();if(ls.length<=0)throw new Error("Empty value provided for input HTTP label: "+ns+".");ts=ts.replace(ss,as?ls.split("/").map(cs=>extendedEncodeURIComponent(cs)).join("/"):extendedEncodeURIComponent(ls))}else throw new Error("No value provided for input HTTP label: "+ns+".");return ts},serializeDateTime=ts=>ts.toISOString().replace(".000Z","Z"),_json=ts=>{if(ts==null)return{};if(Array.isArray(ts))return ts.filter(rs=>rs!=null).map(_json);if(typeof ts=="object"){const rs={};for(const ns of Object.keys(ts))ts[ns]!=null&&(rs[ns]=_json(ts[ns]));return rs}return ts},isStreamingPayload=ts=>(ts==null?void 0:ts.body)instanceof ReadableStream,retryMiddleware=ts=>(rs,ns)=>async os=>{var ls;let ss=await ts.retryStrategy();const as=await ts.maxAttempts();if(isRetryStrategyV2(ss)){ss=ss;let cs=await ss.acquireInitialRetryToken(ns.partition_id),us=new Error,ds=0,ps=0;const{request:fs}=os,hs=HttpRequest.isInstance(fs);for(hs&&(fs.headers[INVOCATION_ID_HEADER]=v4$1());;)try{hs&&(fs.headers[REQUEST_HEADER]="attempt=".concat(ds+1,"; max=").concat(as));const{response:ms,output:gs}=await rs(os);return ss.recordSuccess(cs),gs.$metadata.attempts=ds+1,gs.$metadata.totalRetryDelay=ps,{response:ms,output:gs}}catch(ms){const gs=getRetryErrorInfo(ms);if(us=asSdkError(ms),hs&&isStreamingPayload(fs))throw(ls=ns.logger instanceof NoOpLogger$2?console:ns.logger)==null||ls.warn("An error was encountered in a non-retryable streaming request."),us;try{cs=await ss.refreshRetryTokenForRetry(cs,gs)}catch{throw us.$metadata||(us.$metadata={}),us.$metadata.attempts=ds+1,us.$metadata.totalRetryDelay=ps,us}ds=cs.getRetryCount();const vs=cs.getRetryDelay();ps+=vs,await new Promise(bs=>setTimeout(bs,vs))}}else return ss=ss,ss!=null&&ss.mode&&(ns.userAgent=[...ns.userAgent||[],["cfg/retry-mode",ss.mode]]),ss.retry(rs,os)},isRetryStrategyV2=ts=>typeof ts.acquireInitialRetryToken<"u"&&typeof ts.refreshRetryTokenForRetry<"u"&&typeof ts.recordSuccess<"u",getRetryErrorInfo=ts=>{const rs={error:ts,errorType:getRetryErrorType(ts)},ns=getRetryAfterHint(ts.$response);return ns&&(rs.retryAfterHint=ns),rs},getRetryErrorType=ts=>isThrottlingError(ts)?"THROTTLING":isTransientError(ts)?"TRANSIENT":isServerError(ts)?"SERVER_ERROR":"CLIENT_ERROR",retryMiddlewareOptions={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},getRetryPlugin=ts=>({applyToStack:rs=>{rs.add(retryMiddleware(ts),retryMiddlewareOptions)}}),getRetryAfterHint=ts=>{if(!HttpResponse.isInstance(ts))return;const rs=Object.keys(ts.headers).find(as=>as.toLowerCase()==="retry-after");if(!rs)return;const ns=ts.headers[rs],os=Number(ns);return Number.isNaN(os)?new Date(ns):new Date(os*1e3)},httpSigningMiddlewareOptions={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:retryMiddlewareOptions.name},getHttpSigningPlugin=ts=>({applyToStack:rs=>{rs.addRelativeTo(httpSigningMiddleware(),httpSigningMiddlewareOptions)}});class DefaultIdentityProviderConfig{constructor(rs){this.authSchemes=new Map;for(const[ns,os]of Object.entries(rs))os!==void 0&&this.authSchemes.set(ns,os)}getIdentityProvider(rs){return this.authSchemes.get(rs)}}const createIsIdentityExpiredFunction=ts=>rs=>doesIdentityRequireRefresh(rs)&&rs.expiration.getTime()-Date.now()<ts,EXPIRATION_MS=3e5,isIdentityExpired=createIsIdentityExpiredFunction(EXPIRATION_MS),doesIdentityRequireRefresh=ts=>ts.expiration!==void 0,memoizeIdentityProvider=(ts,rs,ns)=>{if(ts===void 0)return;const os=typeof ts!="function"?async()=>Promise.resolve(ts):ts;let ss,as,ls,cs=!1;const us=async ds=>{as||(as=os(ds));try{ss=await as,ls=!0,cs=!1}finally{as=void 0}return ss};return rs===void 0?async ds=>((!ls||ds!=null&&ds.forceRefresh)&&(ss=await us(ds)),ss):async ds=>((!ls||ds!=null&&ds.forceRefresh)&&(ss=await us(ds)),cs?ss:ns(ss)?(rs(ss)&&await us(ds),ss):(cs=!0,ss))},normalizeProvider=ts=>{if(typeof ts=="function")return ts;const rs=Promise.resolve(ts);return()=>rs};function requestBuilder(ts,rs){return new RequestBuilder(ts,rs)}class RequestBuilder{constructor(rs,ns){this.input=rs,this.context=ns,this.query={},this.method="",this.headers={},this.path="",this.body=null,this.hostname="",this.resolvePathStack=[]}async build(){const{hostname:rs,protocol:ns="https",port:os,path:ss}=await this.context.endpoint();this.path=ss;for(const as of this.resolvePathStack)as(this.path);return new HttpRequest({protocol:ns,hostname:this.hostname||rs,port:os,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(rs){return this.hostname=rs,this}bp(rs){return this.resolvePathStack.push(ns=>{this.path="".concat(ns!=null&&ns.endsWith("/")?ns.slice(0,-1):ns||"")+rs}),this}p(rs,ns,os,ss){return this.resolvePathStack.push(as=>{this.path=resolvedPath(as,this.input,rs,ns,os,ss)}),this}h(rs){return this.headers=rs,this}q(rs){return this.query=rs,this}b(rs){return this.body=rs,this}m(rs){return this.method=rs,this}}const makePagedClientRequest=async(ts,rs,ns,...os)=>await rs.send(new ts(ns),...os);function createPaginator(ts,rs,ns,os,ss){return async function*(ls,cs,...us){var hs;let ds=ls.startingToken||void 0,ps=!0,fs;for(;ps;){if(cs[ns]=ds,ss&&(cs[ss]=(hs=cs[ss])!=null?hs:ls.pageSize),ls.client instanceof ts)fs=await makePagedClientRequest(rs,ls.client,cs,...us);else throw new Error("Invalid client, expected instance of ".concat(ts.name));yield fs;const ms=ds;ds=get(fs,os),ps=!!(ds&&(!ls.stopOnSameToken||ds!==ms))}return void 0}}const get=(ts,rs)=>{let ns=ts;const os=rs.split(".");for(const ss of os){if(!ns||typeof ns!="object")return;ns=ns[ss]}return ns},CONTENT_LENGTH_HEADER="content-length";function contentLengthMiddleware(ts){return rs=>async ns=>{const os=ns.request;if(HttpRequest.isInstance(os)){const{body:ss,headers:as}=os;if(ss&&Object.keys(as).map(ls=>ls.toLowerCase()).indexOf(CONTENT_LENGTH_HEADER)===-1)try{const ls=ts(ss);os.headers={...os.headers,[CONTENT_LENGTH_HEADER]:String(ls)}}catch{}}return rs({...ns,request:os})}}const contentLengthMiddlewareOptions={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},getContentLengthPlugin=ts=>({applyToStack:rs=>{rs.add(contentLengthMiddleware(ts.bodyLengthChecker),contentLengthMiddlewareOptions)}}),getDateHeader=ts=>{var rs,ns,os;return HttpResponse.isInstance(ts)?(os=(rs=ts.headers)==null?void 0:rs.date)!=null?os:(ns=ts.headers)==null?void 0:ns.Date:void 0},getSkewCorrectedDate=ts=>new Date(Date.now()+ts),isClockSkewed=(ts,rs)=>Math.abs(getSkewCorrectedDate(rs).getTime()-ts)>=3e5,getUpdatedSystemClockOffset=(ts,rs)=>{const ns=Date.parse(ts);return isClockSkewed(ns,rs)?ns-Date.now():rs},throwSigningPropertyError=(ts,rs)=>{if(!rs)throw new Error("Property `".concat(ts,"` is not resolved for AWS SDK SigV4Auth"));return rs},validateSigningProperties=async ts=>{var us,ds,ps;const rs=throwSigningPropertyError("context",ts.context),ns=throwSigningPropertyError("config",ts.config),os=(ps=(ds=(us=rs.endpointV2)==null?void 0:us.properties)==null?void 0:ds.authSchemes)==null?void 0:ps[0],as=await throwSigningPropertyError("signer",ns.signer)(os),ls=ts==null?void 0:ts.signingRegion,cs=ts==null?void 0:ts.signingName;return{config:ns,signer:as,signingRegion:ls,signingName:cs}};class AwsSdkSigV4Signer{async sign(rs,ns,os){if(!HttpRequest.isInstance(rs))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");const{config:ss,signer:as,signingRegion:ls,signingName:cs}=await validateSigningProperties(os);return await as.sign(rs,{signingDate:getSkewCorrectedDate(ss.systemClockOffset),signingRegion:ls,signingService:cs})}errorHandler(rs){return ns=>{var ss;const os=(ss=ns.ServerTime)!=null?ss:getDateHeader(ns.$response);if(os){const as=throwSigningPropertyError("config",rs.config),ls=as.systemClockOffset;as.systemClockOffset=getUpdatedSystemClockOffset(os,as.systemClockOffset),as.systemClockOffset!==ls&&ns.$metadata&&(ns.$metadata.clockSkewCorrected=!0)}throw ns}}successHandler(rs,ns){const os=getDateHeader(rs);if(os){const ss=throwSigningPropertyError("config",ns.config);ss.systemClockOffset=getUpdatedSystemClockOffset(os,ss.systemClockOffset)}}}const ALGORITHM_QUERY_PARAM="X-Amz-Algorithm",CREDENTIAL_QUERY_PARAM="X-Amz-Credential",AMZ_DATE_QUERY_PARAM="X-Amz-Date",SIGNED_HEADERS_QUERY_PARAM="X-Amz-SignedHeaders",EXPIRES_QUERY_PARAM="X-Amz-Expires",SIGNATURE_QUERY_PARAM="X-Amz-Signature",TOKEN_QUERY_PARAM="X-Amz-Security-Token",AUTH_HEADER="authorization",AMZ_DATE_HEADER=AMZ_DATE_QUERY_PARAM.toLowerCase(),DATE_HEADER="date",GENERATED_HEADERS=[AUTH_HEADER,AMZ_DATE_HEADER,DATE_HEADER],SIGNATURE_HEADER=SIGNATURE_QUERY_PARAM.toLowerCase(),SHA256_HEADER="x-amz-content-sha256",TOKEN_HEADER=TOKEN_QUERY_PARAM.toLowerCase(),ALWAYS_UNSIGNABLE_HEADERS={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},PROXY_HEADER_PATTERN=/^proxy-/,SEC_HEADER_PATTERN=/^sec-/,ALGORITHM_IDENTIFIER="AWS4-HMAC-SHA256",EVENT_ALGORITHM_IDENTIFIER="AWS4-HMAC-SHA256-PAYLOAD",UNSIGNED_PAYLOAD="UNSIGNED-PAYLOAD",MAX_CACHE_SIZE=50,KEY_TYPE_IDENTIFIER="aws4_request",MAX_PRESIGNED_TTL=60*60*24*7,signingKeyCache={},cacheQueue=[],createScope=(ts,rs,ns)=>"".concat(ts,"/").concat(rs,"/").concat(ns,"/").concat(KEY_TYPE_IDENTIFIER),getSigningKey=async(ts,rs,ns,os,ss)=>{const as=await hmac(ts,rs.secretAccessKey,rs.accessKeyId),ls="".concat(ns,":").concat(os,":").concat(ss,":").concat(toHex$1(as),":").concat(rs.sessionToken);if(ls in signingKeyCache)return signingKeyCache[ls];for(cacheQueue.push(ls);cacheQueue.length>MAX_CACHE_SIZE;)delete signingKeyCache[cacheQueue.shift()];let cs="AWS4".concat(rs.secretAccessKey);for(const us of[ns,os,ss,KEY_TYPE_IDENTIFIER])cs=await hmac(ts,cs,us);return signingKeyCache[ls]=cs},hmac=(ts,rs,ns)=>{const os=new ts(rs);return os.update(toUint8Array(ns)),os.digest()},getCanonicalHeaders=({headers:ts},rs,ns)=>{const os={};for(const ss of Object.keys(ts).sort()){if(ts[ss]==null)continue;const as=ss.toLowerCase();(as in ALWAYS_UNSIGNABLE_HEADERS||rs!=null&&rs.has(as)||PROXY_HEADER_PATTERN.test(as)||SEC_HEADER_PATTERN.test(as))&&(!ns||ns&&!ns.has(as))||(os[as]=ts[ss].trim().replace(/\s+/g," "))}return os},getCanonicalQuery=({query:ts={}})=>{const rs=[],ns={};for(const os of Object.keys(ts).sort()){if(os.toLowerCase()===SIGNATURE_HEADER)continue;rs.push(os);const ss=ts[os];typeof ss=="string"?ns[os]="".concat(escapeUri(os),"=").concat(escapeUri(ss)):Array.isArray(ss)&&(ns[os]=ss.slice(0).reduce((as,ls)=>as.concat(["".concat(escapeUri(os),"=").concat(escapeUri(ls))]),[]).sort().join("&"))}return rs.map(os=>ns[os]).filter(os=>os).join("&")},isArrayBuffer=ts=>typeof ArrayBuffer=="function"&&ts instanceof ArrayBuffer||Object.prototype.toString.call(ts)==="[object ArrayBuffer]",getPayloadHash=async({headers:ts,body:rs},ns)=>{for(const os of Object.keys(ts))if(os.toLowerCase()===SHA256_HEADER)return ts[os];if(rs==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof rs=="string"||ArrayBuffer.isView(rs)||isArrayBuffer(rs)){const os=new ns;return os.update(toUint8Array(rs)),toHex$1(await os.digest())}return UNSIGNED_PAYLOAD};class HeaderFormatter{format(rs){const ns=[];for(const as of Object.keys(rs)){const ls=fromUtf8$5(as);ns.push(Uint8Array.from([ls.byteLength]),ls,this.formatHeaderValue(rs[as]))}const os=new Uint8Array(ns.reduce((as,ls)=>as+ls.byteLength,0));let ss=0;for(const as of ns)os.set(as,ss),ss+=as.byteLength;return os}formatHeaderValue(rs){switch(rs.type){case"boolean":return Uint8Array.from([rs.value?0:1]);case"byte":return Uint8Array.from([2,rs.value]);case"short":const ns=new DataView(new ArrayBuffer(3));return ns.setUint8(0,3),ns.setInt16(1,rs.value,!1),new Uint8Array(ns.buffer);case"integer":const os=new DataView(new ArrayBuffer(5));return os.setUint8(0,4),os.setInt32(1,rs.value,!1),new Uint8Array(os.buffer);case"long":const ss=new Uint8Array(9);return ss[0]=5,ss.set(rs.value.bytes,1),ss;case"binary":const as=new DataView(new ArrayBuffer(3+rs.value.byteLength));as.setUint8(0,6),as.setUint16(1,rs.value.byteLength,!1);const ls=new Uint8Array(as.buffer);return ls.set(rs.value,3),ls;case"string":const cs=fromUtf8$5(rs.value),us=new DataView(new ArrayBuffer(3+cs.byteLength));us.setUint8(0,7),us.setUint16(1,cs.byteLength,!1);const ds=new Uint8Array(us.buffer);return ds.set(cs,3),ds;case"timestamp":const ps=new Uint8Array(9);return ps[0]=8,ps.set(Int64.fromNumber(rs.value.valueOf()).bytes,1),ps;case"uuid":if(!UUID_PATTERN.test(rs.value))throw new Error("Invalid UUID received: ".concat(rs.value));const fs=new Uint8Array(17);return fs[0]=9,fs.set(fromHex$1(rs.value.replace(/\-/g,"")),1),fs}}}var HEADER_VALUE_TYPE;(function(ts){ts[ts.boolTrue=0]="boolTrue",ts[ts.boolFalse=1]="boolFalse",ts[ts.byte=2]="byte",ts[ts.short=3]="short",ts[ts.integer=4]="integer",ts[ts.long=5]="long",ts[ts.byteArray=6]="byteArray",ts[ts.string=7]="string",ts[ts.timestamp=8]="timestamp",ts[ts.uuid=9]="uuid"})(HEADER_VALUE_TYPE||(HEADER_VALUE_TYPE={}));const UUID_PATTERN=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/;class Int64{constructor(rs){if(this.bytes=rs,rs.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(rs){if(rs>9223372036854776e3||rs<-9223372036854776e3)throw new Error("".concat(rs," is too large (or, if negative, too small) to represent as an Int64"));const ns=new Uint8Array(8);for(let os=7,ss=Math.abs(Math.round(rs));os>-1&&ss>0;os--,ss/=256)ns[os]=ss;return rs<0&&negate(ns),new Int64(ns)}valueOf(){const rs=this.bytes.slice(0),ns=rs[0]&128;return ns&&negate(rs),parseInt(toHex$1(rs),16)*(ns?-1:1)}toString(){return String(this.valueOf())}}function negate(ts){for(let rs=0;rs<8;rs++)ts[rs]^=255;for(let rs=7;rs>-1&&(ts[rs]++,ts[rs]===0);rs--);}const hasHeader=(ts,rs)=>{ts=ts.toLowerCase();for(const ns of Object.keys(rs))if(ts===ns.toLowerCase())return!0;return!1},moveHeadersToQuery=(ts,rs={})=>{var ss;const{headers:ns,query:os={}}=HttpRequest.clone(ts);for(const as of Object.keys(ns)){const ls=as.toLowerCase();ls.slice(0,6)==="x-amz-"&&!((ss=rs.unhoistableHeaders)!=null&&ss.has(ls))&&(os[as]=ns[as],delete ns[as])}return{...ts,headers:ns,query:os}},prepareRequest=ts=>{ts=HttpRequest.clone(ts);for(const rs of Object.keys(ts.headers))GENERATED_HEADERS.indexOf(rs.toLowerCase())>-1&&delete ts.headers[rs];return ts},iso8601=ts=>toDate(ts).toISOString().replace(/\.\d{3}Z$/,"Z"),toDate=ts=>typeof ts=="number"?new Date(ts*1e3):typeof ts=="string"?Number(ts)?new Date(Number(ts)*1e3):new Date(ts):ts;class SignatureV4{constructor({applyChecksum:rs,credentials:ns,region:os,service:ss,sha256:as,uriEscapePath:ls=!0}){this.headerFormatter=new HeaderFormatter,this.service=ss,this.sha256=as,this.uriEscapePath=ls,this.applyChecksum=typeof rs=="boolean"?rs:!0,this.regionProvider=normalizeProvider$1(os),this.credentialProvider=normalizeProvider$1(ns)}async presign(rs,ns={}){const{signingDate:os=new Date,expiresIn:ss=3600,unsignableHeaders:as,unhoistableHeaders:ls,signableHeaders:cs,signingRegion:us,signingService:ds}=ns,ps=await this.credentialProvider();this.validateResolvedCredentials(ps);const fs=us!=null?us:await this.regionProvider(),{longDate:hs,shortDate:ms}=formatDate(os);if(ss>MAX_PRESIGNED_TTL)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");const gs=createScope(ms,fs,ds!=null?ds:this.service),vs=moveHeadersToQuery(prepareRequest(rs),{unhoistableHeaders:ls});ps.sessionToken&&(vs.query[TOKEN_QUERY_PARAM]=ps.sessionToken),vs.query[ALGORITHM_QUERY_PARAM]=ALGORITHM_IDENTIFIER,vs.query[CREDENTIAL_QUERY_PARAM]="".concat(ps.accessKeyId,"/").concat(gs),vs.query[AMZ_DATE_QUERY_PARAM]=hs,vs.query[EXPIRES_QUERY_PARAM]=ss.toString(10);const bs=getCanonicalHeaders(vs,as,cs);return vs.query[SIGNED_HEADERS_QUERY_PARAM]=getCanonicalHeaderList(bs),vs.query[SIGNATURE_QUERY_PARAM]=await this.getSignature(hs,gs,this.getSigningKey(ps,fs,ms,ds),this.createCanonicalRequest(vs,bs,await getPayloadHash(rs,this.sha256))),vs}async sign(rs,ns){return typeof rs=="string"?this.signString(rs,ns):rs.headers&&rs.payload?this.signEvent(rs,ns):rs.message?this.signMessage(rs,ns):this.signRequest(rs,ns)}async signEvent({headers:rs,payload:ns},{signingDate:os=new Date,priorSignature:ss,signingRegion:as,signingService:ls}){const cs=as!=null?as:await this.regionProvider(),{shortDate:us,longDate:ds}=formatDate(os),ps=createScope(us,cs,ls!=null?ls:this.service),fs=await getPayloadHash({headers:{},body:ns},this.sha256),hs=new this.sha256;hs.update(rs);const ms=toHex$1(await hs.digest()),gs=[EVENT_ALGORITHM_IDENTIFIER,ds,ps,ss,ms,fs].join("\n");return this.signString(gs,{signingDate:os,signingRegion:cs,signingService:ls})}async signMessage(rs,{signingDate:ns=new Date,signingRegion:os,signingService:ss}){return this.signEvent({headers:this.headerFormatter.format(rs.message.headers),payload:rs.message.body},{signingDate:ns,signingRegion:os,signingService:ss,priorSignature:rs.priorSignature}).then(ls=>({message:rs.message,signature:ls}))}async signString(rs,{signingDate:ns=new Date,signingRegion:os,signingService:ss}={}){const as=await this.credentialProvider();this.validateResolvedCredentials(as);const ls=os!=null?os:await this.regionProvider(),{shortDate:cs}=formatDate(ns),us=new this.sha256(await this.getSigningKey(as,ls,cs,ss));return us.update(toUint8Array(rs)),toHex$1(await us.digest())}async signRequest(rs,{signingDate:ns=new Date,signableHeaders:os,unsignableHeaders:ss,signingRegion:as,signingService:ls}={}){const cs=await this.credentialProvider();this.validateResolvedCredentials(cs);const us=as!=null?as:await this.regionProvider(),ds=prepareRequest(rs),{longDate:ps,shortDate:fs}=formatDate(ns),hs=createScope(fs,us,ls!=null?ls:this.service);ds.headers[AMZ_DATE_HEADER]=ps,cs.sessionToken&&(ds.headers[TOKEN_HEADER]=cs.sessionToken);const ms=await getPayloadHash(ds,this.sha256);!hasHeader(SHA256_HEADER,ds.headers)&&this.applyChecksum&&(ds.headers[SHA256_HEADER]=ms);const gs=getCanonicalHeaders(ds,ss,os),vs=await this.getSignature(ps,hs,this.getSigningKey(cs,us,fs,ls),this.createCanonicalRequest(ds,gs,ms));return ds.headers[AUTH_HEADER]="".concat(ALGORITHM_IDENTIFIER," ")+"Credential=".concat(cs.accessKeyId,"/").concat(hs,", ")+"SignedHeaders=".concat(getCanonicalHeaderList(gs),", ")+"Signature=".concat(vs),ds}createCanonicalRequest(rs,ns,os){const ss=Object.keys(ns).sort();return"".concat(rs.method,"\n").concat(this.getCanonicalPath(rs),"\n").concat(getCanonicalQuery(rs),"\n").concat(ss.map(as=>"".concat(as,":").concat(ns[as])).join("\n"),"\n\n").concat(ss.join(";"),"\n").concat(os)}async createStringToSign(rs,ns,os){const ss=new this.sha256;ss.update(toUint8Array(os));const as=await ss.digest();return"".concat(ALGORITHM_IDENTIFIER,"\n").concat(rs,"\n").concat(ns,"\n").concat(toHex$1(as))}getCanonicalPath({path:rs}){if(this.uriEscapePath){const ns=[];for(const as of rs.split("/"))(as==null?void 0:as.length)!==0&&as!=="."&&(as===".."?ns.pop():ns.push(as));const os="".concat(rs!=null&&rs.startsWith("/")?"/":"").concat(ns.join("/")).concat(ns.length>0&&(rs!=null&&rs.endsWith("/"))?"/":"");return escapeUri(os).replace(/%2F/g,"/")}return rs}async getSignature(rs,ns,os,ss){const as=await this.createStringToSign(rs,ns,ss),ls=new this.sha256(await os);return ls.update(toUint8Array(as)),toHex$1(await ls.digest())}getSigningKey(rs,ns,os,ss){return getSigningKey(this.sha256,rs,os,ns,ss||this.service)}validateResolvedCredentials(rs){if(typeof rs!="object"||typeof rs.accessKeyId!="string"||typeof rs.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}}const formatDate=ts=>{const rs=iso8601(ts).replace(/[\-:]/g,"");return{longDate:rs,shortDate:rs.slice(0,8)}},getCanonicalHeaderList=ts=>Object.keys(ts).sort().join(";"),resolveAwsSdkSigV4Config=ts=>{let rs;ts.credentials&&(rs=memoizeIdentityProvider(ts.credentials,isIdentityExpired,doesIdentityRequireRefresh)),rs||(ts.credentialDefaultProvider?rs=normalizeProvider(ts.credentialDefaultProvider(Object.assign({},ts,{parentClientConfig:ts}))):rs=async()=>{throw new Error("`credentials` is missing")});const{signingEscapePath:ns=!0,systemClockOffset:os=ts.systemClockOffset||0,sha256:ss}=ts;let as;return ts.signer?as=normalizeProvider(ts.signer):ts.regionInfoProvider?as=()=>normalizeProvider(ts.region)().then(async ls=>[await ts.regionInfoProvider(ls,{useFipsEndpoint:await ts.useFipsEndpoint(),useDualstackEndpoint:await ts.useDualstackEndpoint()})||{},ls]).then(([ls,cs])=>{const{signingRegion:us,signingService:ds}=ls;ts.signingRegion=ts.signingRegion||us||cs,ts.signingName=ts.signingName||ds||ts.serviceId;const ps={...ts,credentials:rs,region:ts.signingRegion,service:ts.signingName,sha256:ss,uriEscapePath:ns},fs=ts.signerConstructor||SignatureV4;return new fs(ps)}):as=async ls=>{ls=Object.assign({},{name:"sigv4",signingName:ts.signingName||ts.defaultSigningName,signingRegion:await normalizeProvider(ts.region)(),properties:{}},ls);const cs=ls.signingRegion,us=ls.signingName;ts.signingRegion=ts.signingRegion||cs,ts.signingName=ts.signingName||us||ts.serviceId;const ds={...ts,credentials:rs,region:ts.signingRegion,service:ts.signingName,sha256:ss,uriEscapePath:ns},ps=ts.signerConstructor||SignatureV4;return new ps(ds)},{...ts,systemClockOffset:os,signingEscapePath:ns,credentials:rs,signer:as}},collectBodyString=(ts,rs)=>collectBody(ts,rs).then(ns=>rs.utf8Encoder(ns)),parseJsonBody=(ts,rs)=>collectBodyString(ts,rs).then(ns=>{if(ns.length)try{return JSON.parse(ns)}catch(os){throw(os==null?void 0:os.name)==="SyntaxError"&&Object.defineProperty(os,"$responseBodyText",{value:ns}),os}return{}}),parseJsonErrorBody=async(ts,rs)=>{var os;const ns=await parseJsonBody(ts,rs);return ns.message=(os=ns.message)!=null?os:ns.Message,ns},loadRestJsonErrorCode=(ts,rs)=>{const ns=(as,ls)=>Object.keys(as).find(cs=>cs.toLowerCase()===ls.toLowerCase()),os=as=>{let ls=as;return typeof ls=="number"&&(ls=ls.toString()),ls.indexOf(",")>=0&&(ls=ls.split(",")[0]),ls.indexOf(":")>=0&&(ls=ls.split(":")[0]),ls.indexOf("#")>=0&&(ls=ls.split("#")[1]),ls},ss=ns(ts.headers,"x-amzn-errortype");if(ss!==void 0)return os(ts.headers[ss]);if(rs.code!==void 0)return os(rs.code);if(rs.__type!==void 0)return os(rs.__type)},defaultChimeSDKMessagingHttpAuthSchemeParametersProvider=async(ts,rs,ns)=>({operation:getSmithyContext(rs).operation,region:await normalizeProvider$1(ts.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});function createAwsAuthSigv4HttpAuthOption(ts){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"chime",region:ts.region},propertiesExtractor:(rs,ns)=>({signingProperties:{config:rs,context:ns}})}}const defaultChimeSDKMessagingHttpAuthSchemeProvider=ts=>{const rs=[];switch(ts.operation){default:rs.push(createAwsAuthSigv4HttpAuthOption(ts))}return rs},resolveHttpAuthSchemeConfig=ts=>({...resolveAwsSdkSigV4Config(ts)}),resolveClientEndpointParameters=ts=>{var rs,ns;return{...ts,useDualstackEndpoint:(rs=ts.useDualstackEndpoint)!=null?rs:!1,useFipsEndpoint:(ns=ts.useFipsEndpoint)!=null?ns:!1,defaultSigningName:"chime"}},commonParams={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},name="@aws-sdk/client-chime-sdk-messaging",description="AWS SDK for JavaScript Chime Sdk Messaging Client for Node.js, Browser and React Native",version="3.616.0",scripts={build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-chime-sdk-messaging","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo chime-sdk-messaging"},main$1="./dist-cjs/index.js",types$1="./dist-types/index.d.ts",module="./dist-es/index.js",sideEffects=!1,dependencies={"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/client-sso-oidc":"3.616.0","@aws-sdk/client-sts":"3.616.0","@aws-sdk/core":"3.616.0","@aws-sdk/credential-provider-node":"3.616.0","@aws-sdk/middleware-host-header":"3.616.0","@aws-sdk/middleware-logger":"3.609.0","@aws-sdk/middleware-recursion-detection":"3.616.0","@aws-sdk/middleware-user-agent":"3.616.0","@aws-sdk/region-config-resolver":"3.614.0","@aws-sdk/types":"3.609.0","@aws-sdk/util-endpoints":"3.614.0","@aws-sdk/util-user-agent-browser":"3.609.0","@aws-sdk/util-user-agent-node":"3.614.0","@smithy/config-resolver":"^3.0.5","@smithy/core":"^2.2.7","@smithy/fetch-http-handler":"^3.2.2","@smithy/hash-node":"^3.0.3","@smithy/invalid-dependency":"^3.0.3","@smithy/middleware-content-length":"^3.0.4","@smithy/middleware-endpoint":"^3.0.5","@smithy/middleware-retry":"^3.0.10","@smithy/middleware-serde":"^3.0.3","@smithy/middleware-stack":"^3.0.3","@smithy/node-config-provider":"^3.1.4","@smithy/node-http-handler":"^3.1.3","@smithy/protocol-http":"^4.0.4","@smithy/smithy-client":"^3.1.8","@smithy/types":"^3.3.0","@smithy/url-parser":"^3.0.3","@smithy/util-base64":"^3.0.0","@smithy/util-body-length-browser":"^3.0.0","@smithy/util-body-length-node":"^3.0.0","@smithy/util-defaults-mode-browser":"^3.0.10","@smithy/util-defaults-mode-node":"^3.0.10","@smithy/util-endpoints":"^2.0.5","@smithy/util-middleware":"^3.0.3","@smithy/util-retry":"^3.0.3","@smithy/util-utf8":"^3.0.0",tslib:"^2.6.2",uuid:"^9.0.1"},devDependencies={"@tsconfig/node16":"16.1.3","@types/node":"^16.18.96","@types/uuid":"^9.0.4",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~4.9.5"},engines={node:">=16.0.0"},typesVersions={"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files=["dist-*/**"],author={name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license="Apache-2.0",browser={"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},homepage="https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-chime-sdk-messaging",repository={type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-chime-sdk-messaging"},packageInfo={name,description,version,scripts,main:main$1,types:types$1,module,sideEffects,dependencies,devDependencies,engines,typesVersions,files,author,license,browser,"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage,repository},fromUtf8$4=ts=>new TextEncoder().encode(ts);var fromUtf8$3=typeof Buffer<"u"&&Buffer.from?function(ts){return Buffer.from(ts,"utf8")}:fromUtf8$4;function convertToBuffer$1(ts){return ts instanceof Uint8Array?ts:typeof ts=="string"?fromUtf8$3(ts):ArrayBuffer.isView(ts)?new Uint8Array(ts.buffer,ts.byteOffset,ts.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(ts)}function isEmptyData$1(ts){return typeof ts=="string"?ts.length===0:ts.byteLength===0}var SHA_256_HASH={name:"SHA-256"},SHA_256_HMAC_ALGO={name:"HMAC",hash:SHA_256_HASH},EMPTY_DATA_SHA_256=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85]);const fallbackWindow={};function locateWindow(){return typeof window<"u"?window:typeof self<"u"?self:fallbackWindow}var Sha256$2=function(){function ts(rs){this.toHash=new Uint8Array(0),this.secret=rs,this.reset()}return ts.prototype.update=function(rs){if(!isEmptyData$1(rs)){var ns=convertToBuffer$1(rs),os=new Uint8Array(this.toHash.byteLength+ns.byteLength);os.set(this.toHash,0),os.set(ns,this.toHash.byteLength),this.toHash=os}},ts.prototype.digest=function(){var rs=this;return this.key?this.key.then(function(ns){return locateWindow().crypto.subtle.sign(SHA_256_HMAC_ALGO,ns,rs.toHash).then(function(os){return new Uint8Array(os)})}):isEmptyData$1(this.toHash)?Promise.resolve(EMPTY_DATA_SHA_256):Promise.resolve().then(function(){return locateWindow().crypto.subtle.digest(SHA_256_HASH,rs.toHash)}).then(function(ns){return Promise.resolve(new Uint8Array(ns))})},ts.prototype.reset=function(){var rs=this;this.toHash=new Uint8Array(0),this.secret&&this.secret!==void 0&&(this.key=new Promise(function(ns,os){locateWindow().crypto.subtle.importKey("raw",convertToBuffer$1(rs.secret),SHA_256_HMAC_ALGO,!1,["sign"]).then(ns,os)}),this.key.catch(function(){}))},ts}();function __awaiter$g(ts,rs,ns,os){function ss(as){return as instanceof ns?as:new ns(function(ls){ls(as)})}return new(ns||(ns=Promise))(function(as,ls){function cs(ps){try{ds(os.next(ps))}catch(fs){ls(fs)}}function us(ps){try{ds(os.throw(ps))}catch(fs){ls(fs)}}function ds(ps){ps.done?as(ps.value):ss(ps.value).then(cs,us)}ds((os=os.apply(ts,rs||[])).next())})}function __generator$1(ts,rs){var ns={label:0,sent:function(){if(as[0]&1)throw as[1];return as[1]},trys:[],ops:[]},os,ss,as,ls;return ls={next:cs(0),throw:cs(1),return:cs(2)},typeof Symbol=="function"&&(ls[Symbol.iterator]=function(){return this}),ls;function cs(ds){return function(ps){return us([ds,ps])}}function us(ds){if(os)throw new TypeError("Generator is already executing.");for(;ls&&(ls=0,ds[0]&&(ns=0)),ns;)try{if(os=1,ss&&(as=ds[0]&2?ss.return:ds[0]?ss.throw||((as=ss.return)&&as.call(ss),0):ss.next)&&!(as=as.call(ss,ds[1])).done)return as;switch(ss=0,as&&(ds=[ds[0]&2,as.value]),ds[0]){case 0:case 1:as=ds;break;case 4:return ns.label++,{value:ds[1],done:!1};case 5:ns.label++,ss=ds[1],ds=[0];continue;case 7:ds=ns.ops.pop(),ns.trys.pop();continue;default:if(as=ns.trys,!(as=as.length>0&&as[as.length-1])&&(ds[0]===6||ds[0]===2)){ns=0;continue}if(ds[0]===3&&(!as||ds[1]>as[0]&&ds[1]<as[3])){ns.label=ds[1];break}if(ds[0]===6&&ns.label<as[1]){ns.label=as[1],as=ds;break}if(as&&ns.label<as[2]){ns.label=as[2],ns.ops.push(ds);break}as[2]&&ns.ops.pop(),ns.trys.pop();continue}ds=rs.call(ts,ns)}catch(ps){ds=[6,ps],ss=0}finally{os=as=0}if(ds[0]&5)throw ds[1];return{value:ds[0]?ds[1]:void 0,done:!0}}}typeof SuppressedError=="function"&&SuppressedError;var BLOCK_SIZE=64,DIGEST_LENGTH=32,KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],MAX_HASHABLE_LENGTH=Math.pow(2,53)-1,RawSha256$1=function(){function ts(){this.state=Int32Array.from(INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return ts.prototype.update=function(rs){if(this.finished)throw new Error("Attempted to update an already finished hash.");var ns=0,os=rs.byteLength;if(this.bytesHashed+=os,this.bytesHashed*8>MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;os>0;)this.buffer[this.bufferLength++]=rs[ns++],os--,this.bufferLength===BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},ts.prototype.digest=function(){if(!this.finished){var rs=this.bytesHashed*8,ns=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),os=this.bufferLength;if(ns.setUint8(this.bufferLength++,128),os%BLOCK_SIZE>=BLOCK_SIZE-8){for(var ss=this.bufferLength;ss<BLOCK_SIZE;ss++)ns.setUint8(ss,0);this.hashBuffer(),this.bufferLength=0}for(var ss=this.bufferLength;ss<BLOCK_SIZE-8;ss++)ns.setUint8(ss,0);ns.setUint32(BLOCK_SIZE-8,Math.floor(rs/4294967296),!0),ns.setUint32(BLOCK_SIZE-4,rs),this.hashBuffer(),this.finished=!0}for(var as=new Uint8Array(DIGEST_LENGTH),ss=0;ss<8;ss++)as[ss*4]=this.state[ss]>>>24&255,as[ss*4+1]=this.state[ss]>>>16&255,as[ss*4+2]=this.state[ss]>>>8&255,as[ss*4+3]=this.state[ss]>>>0&255;return as},ts.prototype.hashBuffer=function(){for(var rs=this,ns=rs.buffer,os=rs.state,ss=os[0],as=os[1],ls=os[2],cs=os[3],us=os[4],ds=os[5],ps=os[6],fs=os[7],hs=0;hs<BLOCK_SIZE;hs++){if(hs<16)this.temp[hs]=(ns[hs*4]&255)<<24|(ns[hs*4+1]&255)<<16|(ns[hs*4+2]&255)<<8|ns[hs*4+3]&255;else{var ms=this.temp[hs-2],gs=(ms>>>17|ms<<15)^(ms>>>19|ms<<13)^ms>>>10;ms=this.temp[hs-15];var vs=(ms>>>7|ms<<25)^(ms>>>18|ms<<14)^ms>>>3;this.temp[hs]=(gs+this.temp[hs-7]|0)+(vs+this.temp[hs-16]|0)}var bs=(((us>>>6|us<<26)^(us>>>11|us<<21)^(us>>>25|us<<7))+(us&ds^~us&ps)|0)+(fs+(KEY[hs]+this.temp[hs]|0)|0)|0,xs=((ss>>>2|ss<<30)^(ss>>>13|ss<<19)^(ss>>>22|ss<<10))+(ss&as^ss&ls^as&ls)|0;fs=ps,ps=ds,ds=us,us=cs+bs|0,cs=ls,ls=as,as=ss,ss=bs+xs|0}os[0]+=ss,os[1]+=as,os[2]+=ls,os[3]+=cs,os[4]+=us,os[5]+=ds,os[6]+=ps,os[7]+=fs},ts}(),Sha256$1=function(){function ts(rs){this.secret=rs,this.hash=new RawSha256$1,this.reset()}return ts.prototype.update=function(rs){if(!(isEmptyData$1(rs)||this.error))try{this.hash.update(convertToBuffer$1(rs))}catch(ns){this.error=ns}},ts.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},ts.prototype.digest=function(){return __awaiter$g(this,void 0,void 0,function(){return __generator$1(this,function(rs){return[2,this.digestSync()]})})},ts.prototype.reset=function(){if(this.hash=new RawSha256$1,this.secret){this.outer=new RawSha256$1;var rs=bufferFromSecret(this.secret),ns=new Uint8Array(BLOCK_SIZE);ns.set(rs);for(var os=0;os<BLOCK_SIZE;os++)rs[os]^=54,ns[os]^=92;this.hash.update(rs),this.outer.update(ns);for(var os=0;os<rs.byteLength;os++)rs[os]=0}},ts}();function bufferFromSecret(ts){var rs=convertToBuffer$1(ts);if(rs.byteLength>BLOCK_SIZE){var ns=new RawSha256$1;ns.update(rs),rs=ns.digest()}var os=new Uint8Array(BLOCK_SIZE);return os.set(rs),os}var subtleCryptoMethods=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function supportsWebCrypto(ts){if(supportsSecureRandom(ts)&&typeof ts.crypto.subtle=="object"){var rs=ts.crypto.subtle;return supportsSubtleCrypto(rs)}return!1}function supportsSecureRandom(ts){if(typeof ts=="object"&&typeof ts.crypto=="object"){var rs=ts.crypto.getRandomValues;return typeof rs=="function"}return!1}function supportsSubtleCrypto(ts){return ts&&subtleCryptoMethods.every(function(rs){return typeof ts[rs]=="function"})}var Sha256=function(){function ts(rs){supportsWebCrypto(locateWindow())?this.hash=new Sha256$2(rs):this.hash=new Sha256$1(rs)}return ts.prototype.update=function(rs,ns){this.hash.update(convertToBuffer$1(rs))},ts.prototype.digest=function(){return this.hash.digest()},ts.prototype.reset=function(){this.hash.reset()},ts}();const BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class Utils{static getFirstMatch(rs,ns){const os=ns.match(rs);return os&&os.length>0&&os[1]||""}static getSecondMatch(rs,ns){const os=ns.match(rs);return os&&os.length>1&&os[2]||""}static matchAndReturnConst(rs,ns,os){if(rs.test(ns))return os}static getWindowsVersionName(rs){switch(rs){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(rs){const ns=rs.split(".").splice(0,2).map(os=>parseInt(os,10)||0);if(ns.push(0),ns[0]===10)switch(ns[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(rs){const ns=rs.split(".").splice(0,2).map(os=>parseInt(os,10)||0);if(ns.push(0),!(ns[0]===1&&ns[1]<5)){if(ns[0]===1&&ns[1]<6)return"Cupcake";if(ns[0]===1&&ns[1]>=6)return"Donut";if(ns[0]===2&&ns[1]<2)return"Eclair";if(ns[0]===2&&ns[1]===2)return"Froyo";if(ns[0]===2&&ns[1]>2)return"Gingerbread";if(ns[0]===3)return"Honeycomb";if(ns[0]===4&&ns[1]<1)return"Ice Cream Sandwich";if(ns[0]===4&&ns[1]<4)return"Jelly Bean";if(ns[0]===4&&ns[1]>=4)return"KitKat";if(ns[0]===5)return"Lollipop";if(ns[0]===6)return"Marshmallow";if(ns[0]===7)return"Nougat";if(ns[0]===8)return"Oreo";if(ns[0]===9)return"Pie"}}static getVersionPrecision(rs){return rs.split(".").length}static compareVersions(rs,ns,os=!1){const ss=Utils.getVersionPrecision(rs),as=Utils.getVersionPrecision(ns);let ls=Math.max(ss,as),cs=0;const us=Utils.map([rs,ns],ds=>{const ps=ls-Utils.getVersionPrecision(ds),fs=ds+new Array(ps+1).join(".0");return Utils.map(fs.split("."),hs=>new Array(20-hs.length).join("0")+hs).reverse()});for(os&&(cs=ls-Math.min(ss,as)),ls-=1;ls>=cs;){if(us[0][ls]>us[1][ls])return 1;if(us[0][ls]===us[1][ls]){if(ls===cs)return 0;ls-=1}else if(us[0][ls]<us[1][ls])return-1}}static map(rs,ns){const os=[];let ss;if(Array.prototype.map)return Array.prototype.map.call(rs,ns);for(ss=0;ss<rs.length;ss+=1)os.push(ns(rs[ss]));return os}static find(rs,ns){let os,ss;if(Array.prototype.find)return Array.prototype.find.call(rs,ns);for(os=0,ss=rs.length;os<ss;os+=1){const as=rs[os];if(ns(as,os))return as}}static assign(rs,...ns){const os=rs;let ss,as;if(Object.assign)return Object.assign(rs,...ns);for(ss=0,as=ns.length;ss<as;ss+=1){const ls=ns[ss];typeof ls=="object"&&ls!==null&&Object.keys(ls).forEach(us=>{os[us]=ls[us]})}return rs}static getBrowserAlias(rs){return BROWSER_ALIASES_MAP[rs]}static getBrowserTypeByAlias(rs){return BROWSER_MAP[rs]||""}}const commonVersionIdentifier=/version\/(\d+(\.?_?\d+)+)/i,browsersList=[{test:[/googlebot/i],describe(ts){const rs={name:"Googlebot"},ns=Utils.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,ts)||Utils.getFirstMatch(commonVersionIdentifier,ts);return ns&&(rs.version=ns),rs}},{test:[/opera/i],describe(ts){const rs={name:"Opera"},ns=Utils.getFirstMatch(commonVersionIdentifier,ts)||Utils.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,ts);return ns&&(rs.version=ns),rs}},{test:[/opr\/|opios/i],describe(ts){const rs={name:"Opera"},ns=Utils.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,ts)||Utils.getFirstMatch(commonVersionIdentifier,ts);return ns&&(rs.version=ns),rs}},{test:[/SamsungBrowser/i],describe(ts){const rs={name:"Samsung Internet for Android"},ns=Utils.getFirstMatch(commonVersionIdentifier,ts)||Utils.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,ts);return ns&&(rs.version=ns),rs}},{test:[/Whale/i],describe(ts){const rs={name:"NAVER Whale Browser"},ns=Utils.getFirstMatch(commonVersionIdentifier,ts)||Utils.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,ts);return ns&&(rs.version=ns),rs}},{test:[/MZBrowser/i],describe(ts){const rs={name:"MZ Browser"},ns=Utils.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,ts)||Utils.getFirstMatch(commonVersionIdentifier,ts);return ns&&(rs.version=ns),rs}},{test:[/focus/i],describe(ts){const rs={name:"Focus"},ns=Utils.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,ts)||Utils.getFirstMatch(commonVersionIdentifier,ts);return ns&&(rs.version=ns),rs}},{test:[/swing/i],describe(ts){const rs={name:"Swing"},ns=Utils.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,ts)||Utils.getFirstMatch(commonVersionIdentifier,ts);return ns&&(rs.version=ns),rs}},{test:[/coast/i],describe(ts){const rs={name:"Opera Coast"},ns=Utils.getFirstMatch(commonVersionIdentifier,ts)||Utils.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,ts);return ns&&(rs.version=ns),rs}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(ts){const rs={name:"Opera Touch"},ns=Utils.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,ts)||Utils.getFirstMatch(commonVersionIdentifier,ts);return ns&&(rs.version=ns),rs}},{test:[/yabrowser/i],describe(ts){const rs={name:"Yandex Browser"},ns=Utils.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,ts)||Utils.getFirstMatch(commonVersionIdentifier,ts);return ns&&(rs.version=ns),rs}},{test:[/ucbrowser/i],describe(ts){const rs={name:"UC Browser"},ns=Utils.getFirstMatch(commonVersionIdentifier,ts)||Utils.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,ts);return ns&&(rs.version=ns),rs}},{test:[/Maxthon|mxios/i],describe(ts){const rs={name:"Maxthon"},ns=Utils.getFirstMatch(commonVersionIdentifier,ts)||Utils.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,ts);return ns&&(rs.version=ns),rs}},{test:[/epiphany/i],describe(ts){const rs={name:"Epiphany"},ns=Utils.getFirstMatch(commonVersionIdentifier,ts)||Utils.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,ts);return ns&&(rs.version=ns),rs}},{test:[/puffin/i],describe(ts){const rs={name:"Puffin"},ns=Utils.getFirstMatch(commonVersionIdentifier,ts)||Utils.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,ts);return ns&&(rs.version=ns),rs}},{test:[/sleipnir/i],describe(ts){const rs={name:"Sleipnir"},ns=Utils.getFirstMatch(commonVersionIdentifier,ts)||Utils.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,ts);return ns&&(rs.version=ns),rs}},{test:[/k-meleon/i],describe(ts){const rs={name:"K-Meleon"},ns=Utils.getFirstMatch(commonVersionIdentifier,ts)||Utils.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,ts);return ns&&(rs.version=ns),rs}},{test:[/micromessenger/i],describe(ts){const rs={name:"WeChat"},ns=Utils.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,ts)||Utils.getFirstMatch(commonVersionIdentifier,ts);return ns&&(rs.version=ns),rs}},{test:[/qqbrowser/i],describe(ts){const rs={name:/qqbrowserlite/i.test(ts)?"QQ Browser Lite":"QQ Browser"},ns=Utils.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,ts)||Utils.getFirstMatch(commonVersionIdentifier,ts);return ns&&(rs.version=ns),rs}},{test:[/msie|trident/i],describe(ts){const rs={name:"Internet Explorer"},ns=Utils.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,ts);return ns&&(rs.version=ns),rs}},{test:[/\sedg\//i],describe(ts){const rs={name:"Microsoft Edge"},ns=Utils.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,ts);return ns&&(rs.version=ns),rs}},{test:[/edg([ea]|ios)/i],describe(ts){const rs={name:"Microsoft Edge"},ns=Utils.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,ts);return ns&&(rs.version=ns),rs}},{test:[/vivaldi/i],describe(ts){const rs={name:"Vivaldi"},ns=Utils.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,ts);return ns&&(rs.version=ns),rs}},{test:[/seamonkey/i],describe(ts){const rs={name:"SeaMonkey"},ns=Utils.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,ts);return ns&&(rs.version=ns),rs}},{test:[/sailfish/i],describe(ts){const rs={name:"Sailfish"},ns=Utils.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,ts);return ns&&(rs.version=ns),rs}},{test:[/silk/i],describe(ts){const rs={name:"Amazon Silk"},ns=Utils.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,ts);return ns&&(rs.version=ns),rs}},{test:[/phantom/i],describe(ts){const rs={name:"PhantomJS"},ns=Utils.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,ts);return ns&&(rs.version=ns),rs}},{test:[/slimerjs/i],describe(ts){const rs={name:"SlimerJS"},ns=Utils.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,ts);return ns&&(rs.version=ns),rs}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(ts){const rs={name:"BlackBerry"},ns=Utils.getFirstMatch(commonVersionIdentifier,ts)||Utils.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,ts);return ns&&(rs.version=ns),rs}},{test:[/(web|hpw)[o0]s/i],describe(ts){const rs={name:"WebOS Browser"},ns=Utils.getFirstMatch(commonVersionIdentifier,ts)||Utils.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,ts);return ns&&(rs.version=ns),rs}},{test:[/bada/i],describe(ts){const rs={name:"Bada"},ns=Utils.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,ts);return ns&&(rs.version=ns),rs}},{test:[/tizen/i],describe(ts){const rs={name:"Tizen"},ns=Utils.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,ts)||Utils.getFirstMatch(commonVersionIdentifier,ts);return ns&&(rs.version=ns),rs}},{test:[/qupzilla/i],describe(ts){const rs={name:"QupZilla"},ns=Utils.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,ts)||Utils.getFirstMatch(commonVersionIdentifier,ts);return ns&&(rs.version=ns),rs}},{test:[/firefox|iceweasel|fxios/i],describe(ts){const rs={name:"Firefox"},ns=Utils.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,ts);return ns&&(rs.version=ns),rs}},{test:[/electron/i],describe(ts){const rs={name:"Electron"},ns=Utils.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,ts);return ns&&(rs.version=ns),rs}},{test:[/MiuiBrowser/i],describe(ts){const rs={name:"Miui"},ns=Utils.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,ts);return ns&&(rs.version=ns),rs}},{test:[/chromium/i],describe(ts){const rs={name:"Chromium"},ns=Utils.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,ts)||Utils.getFirstMatch(commonVersionIdentifier,ts);return ns&&(rs.version=ns),rs}},{test:[/chrome|crios|crmo/i],describe(ts){const rs={name:"Chrome"},ns=Utils.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,ts);return ns&&(rs.version=ns),rs}},{test:[/GSA/i],describe(ts){const rs={name:"Google Search"},ns=Utils.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,ts);return ns&&(rs.version=ns),rs}},{test(ts){const rs=!ts.test(/like android/i),ns=ts.test(/android/i);return rs&&ns},describe(ts){const rs={name:"Android Browser"},ns=Utils.getFirstMatch(commonVersionIdentifier,ts);return ns&&(rs.version=ns),rs}},{test:[/playstation 4/i],describe(ts){const rs={name:"PlayStation 4"},ns=Utils.getFirstMatch(commonVersionIdentifier,ts);return ns&&(rs.version=ns),rs}},{test:[/safari|applewebkit/i],describe(ts){const rs={name:"Safari"},ns=Utils.getFirstMatch(commonVersionIdentifier,ts);return ns&&(rs.version=ns),rs}},{test:[/.*/i],describe(ts){const rs=/^(.*)\/(.*) /,ns=/^(.*)\/(.*)[ \t]\((.*)/,ss=ts.search("\\(")!==-1?ns:rs;return{name:Utils.getFirstMatch(ss,ts),version:Utils.getSecondMatch(ss,ts)}}}],osParsersList=[{test:[/Roku\/DVP/],describe(ts){const rs=Utils.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,ts);return{name:OS_MAP.Roku,version:rs}}},{test:[/windows phone/i],describe(ts){const rs=Utils.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,ts);return{name:OS_MAP.WindowsPhone,version:rs}}},{test:[/windows /i],describe(ts){const rs=Utils.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,ts),ns=Utils.getWindowsVersionName(rs);return{name:OS_MAP.Windows,version:rs,versionName:ns}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(ts){const rs={name:OS_MAP.iOS},ns=Utils.getSecondMatch(/(Version\/)(\d[\d.]+)/,ts);return ns&&(rs.version=ns),rs}},{test:[/macintosh/i],describe(ts){const rs=Utils.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,ts).replace(/[_\s]/g,"."),ns=Utils.getMacOSVersionName(rs),os={name:OS_MAP.MacOS,version:rs};return ns&&(os.versionName=ns),os}},{test:[/(ipod|iphone|ipad)/i],describe(ts){const rs=Utils.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,ts).replace(/[_\s]/g,".");return{name:OS_MAP.iOS,version:rs}}},{test(ts){const rs=!ts.test(/like android/i),ns=ts.test(/android/i);return rs&&ns},describe(ts){const rs=Utils.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,ts),ns=Utils.getAndroidVersionName(rs),os={name:OS_MAP.Android,version:rs};return ns&&(os.versionName=ns),os}},{test:[/(web|hpw)[o0]s/i],describe(ts){const rs=Utils.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,ts),ns={name:OS_MAP.WebOS};return rs&&rs.length&&(ns.version=rs),ns}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(ts){const rs=Utils.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,ts)||Utils.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,ts)||Utils.getFirstMatch(/\bbb(\d+)/i,ts);return{name:OS_MAP.BlackBerry,version:rs}}},{test:[/bada/i],describe(ts){const rs=Utils.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,ts);return{name:OS_MAP.Bada,version:rs}}},{test:[/tizen/i],describe(ts){const rs=Utils.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,ts);return{name:OS_MAP.Tizen,version:rs}}},{test:[/linux/i],describe(){return{name:OS_MAP.Linux}}},{test:[/CrOS/],describe(){return{name:OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe(ts){const rs=Utils.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,ts);return{name:OS_MAP.PlayStation4,version:rs}}}],platformParsersList=[{test:[/googlebot/i],describe(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe(ts){const rs=Utils.getFirstMatch(/(can-l01)/i,ts)&&"Nova",ns={type:PLATFORMS_MAP.mobile,vendor:"Huawei"};return rs&&(ns.model=rs),ns}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe(){return{type:PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe(){return{type:PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(){return{type:PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe(){return{type:PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe(){return{type:PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe(){return{type:PLATFORMS_MAP.tablet}}},{test(ts){const rs=ts.test(/ipod|iphone/i),ns=ts.test(/like (ipod|iphone)/i);return rs&&!ns},describe(ts){const rs=Utils.getFirstMatch(/(ipod|iphone)/i,ts);return{type:PLATFORMS_MAP.mobile,vendor:"Apple",model:rs}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe(){return{type:PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe(){return{type:PLATFORMS_MAP.mobile}}},{test(ts){return ts.getBrowserName(!0)==="blackberry"},describe(){return{type:PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test(ts){return ts.getBrowserName(!0)==="bada"},describe(){return{type:PLATFORMS_MAP.mobile}}},{test(ts){return ts.getBrowserName()==="windows phone"},describe(){return{type:PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test(ts){const rs=Number(String(ts.getOSVersion()).split(".")[0]);return ts.getOSName(!0)==="android"&&rs>=3},describe(){return{type:PLATFORMS_MAP.tablet}}},{test(ts){return ts.getOSName(!0)==="android"},describe(){return{type:PLATFORMS_MAP.mobile}}},{test(ts){return ts.getOSName(!0)==="macos"},describe(){return{type:PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test(ts){return ts.getOSName(!0)==="windows"},describe(){return{type:PLATFORMS_MAP.desktop}}},{test(ts){return ts.getOSName(!0)==="linux"},describe(){return{type:PLATFORMS_MAP.desktop}}},{test(ts){return ts.getOSName(!0)==="playstation 4"},describe(){return{type:PLATFORMS_MAP.tv}}},{test(ts){return ts.getOSName(!0)==="roku"},describe(){return{type:PLATFORMS_MAP.tv}}}],enginesParsersList=[{test(ts){return ts.getBrowserName(!0)==="microsoft edge"},describe(ts){if(/\sedg\//i.test(ts))return{name:ENGINE_MAP.Blink};const ns=Utils.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,ts);return{name:ENGINE_MAP.EdgeHTML,version:ns}}},{test:[/trident/i],describe(ts){const rs={name:ENGINE_MAP.Trident},ns=Utils.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,ts);return ns&&(rs.version=ns),rs}},{test(ts){return ts.test(/presto/i)},describe(ts){const rs={name:ENGINE_MAP.Presto},ns=Utils.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,ts);return ns&&(rs.version=ns),rs}},{test(ts){const rs=ts.test(/gecko/i),ns=ts.test(/like gecko/i);return rs&&!ns},describe(ts){const rs={name:ENGINE_MAP.Gecko},ns=Utils.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,ts);return ns&&(rs.version=ns),rs}},{test:[/(apple)?webkit\/537\.36/i],describe(){return{name:ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe(ts){const rs={name:ENGINE_MAP.WebKit},ns=Utils.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,ts);return ns&&(rs.version=ns),rs}}];class Parser{constructor(rs,ns=!1){if(rs==null||rs==="")throw new Error("UserAgent parameter can't be empty");this._ua=rs,this.parsedResult={},ns!==!0&&this.parse()}getUA(){return this._ua}test(rs){return rs.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const rs=Utils.find(browsersList,ns=>{if(typeof ns.test=="function")return ns.test(this);if(ns.test instanceof Array)return ns.test.some(os=>this.test(os));throw new Error("Browser's test function is not valid")});return rs&&(this.parsedResult.browser=rs.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(rs){return rs?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const rs=Utils.find(osParsersList,ns=>{if(typeof ns.test=="function")return ns.test(this);if(ns.test instanceof Array)return ns.test.some(os=>this.test(os));throw new Error("Browser's test function is not valid")});return rs&&(this.parsedResult.os=rs.describe(this.getUA())),this.parsedResult.os}getOSName(rs){const{name:ns}=this.getOS();return rs?String(ns).toLowerCase()||"":ns||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(rs=!1){const{type:ns}=this.getPlatform();return rs?String(ns).toLowerCase()||"":ns||""}parsePlatform(){this.parsedResult.platform={};const rs=Utils.find(platformParsersList,ns=>{if(typeof ns.test=="function")return ns.test(this);if(ns.test instanceof Array)return ns.test.some(os=>this.test(os));throw new Error("Browser's test function is not valid")});return rs&&(this.parsedResult.platform=rs.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(rs){return rs?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const rs=Utils.find(enginesParsersList,ns=>{if(typeof ns.test=="function")return ns.test(this);if(ns.test instanceof Array)return ns.test.some(os=>this.test(os));throw new Error("Browser's test function is not valid")});return rs&&(this.parsedResult.engine=rs.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return Utils.assign({},this.parsedResult)}satisfies(rs){const ns={};let os=0;const ss={};let as=0;if(Object.keys(rs).forEach(cs=>{const us=rs[cs];typeof us=="string"?(ss[cs]=us,as+=1):typeof us=="object"&&(ns[cs]=us,os+=1)}),os>0){const cs=Object.keys(ns),us=Utils.find(cs,ps=>this.isOS(ps));if(us){const ps=this.satisfies(ns[us]);if(ps!==void 0)return ps}const ds=Utils.find(cs,ps=>this.isPlatform(ps));if(ds){const ps=this.satisfies(ns[ds]);if(ps!==void 0)return ps}}if(as>0){const cs=Object.keys(ss),us=Utils.find(cs,ds=>this.isBrowser(ds,!0));if(us!==void 0)return this.compareVersion(ss[us])}}isBrowser(rs,ns=!1){const os=this.getBrowserName().toLowerCase();let ss=rs.toLowerCase();const as=Utils.getBrowserTypeByAlias(ss);return ns&&as&&(ss=as.toLowerCase()),ss===os}compareVersion(rs){let ns=[0],os=rs,ss=!1;const as=this.getBrowserVersion();if(typeof as=="string")return rs[0]===">"||rs[0]==="<"?(os=rs.substr(1),rs[1]==="="?(ss=!0,os=rs.substr(2)):ns=[],rs[0]===">"?ns.push(1):ns.push(-1)):rs[0]==="="?os=rs.substr(1):rs[0]==="~"&&(ss=!0,os=rs.substr(1)),ns.indexOf(Utils.compareVersions(as,os,ss))>-1}isOS(rs){return this.getOSName(!0)===String(rs).toLowerCase()}isPlatform(rs){return this.getPlatformType(!0)===String(rs).toLowerCase()}isEngine(rs){return this.getEngineName(!0)===String(rs).toLowerCase()}is(rs,ns=!1){return this.isBrowser(rs,ns)||this.isOS(rs)||this.isPlatform(rs)}some(rs=[]){return rs.some(ns=>this.is(ns))}}/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */class Bowser{static getParser(rs,ns=!1){if(typeof rs!="string")throw new Error("UserAgent should be a string");return new Parser(rs,ns)}static parse(rs){return new Parser(rs).getResult()}static get BROWSER_MAP(){return BROWSER_MAP}static get ENGINE_MAP(){return ENGINE_MAP}static get OS_MAP(){return OS_MAP}static get PLATFORMS_MAP(){return PLATFORMS_MAP}}const defaultUserAgent=({serviceId:ts,clientVersion:rs})=>async()=>{var ss,as,ls,cs,us,ds,ps;const ns=typeof window<"u"&&((ss=window==null?void 0:window.navigator)!=null&&ss.userAgent)?Bowser.parse(window.navigator.userAgent):void 0,os=[["aws-sdk-js",rs],["ua","2.0"],["os/".concat(((as=ns==null?void 0:ns.os)==null?void 0:as.name)||"other"),(ls=ns==null?void 0:ns.os)==null?void 0:ls.version],["lang/js"],["md/browser","".concat((us=(cs=ns==null?void 0:ns.browser)==null?void 0:cs.name)!=null?us:"unknown","_").concat((ps=(ds=ns==null?void 0:ns.browser)==null?void 0:ds.version)!=null?ps:"unknown")]];return ts&&os.push(["api/".concat(ts),rs]),os},invalidProvider=ts=>()=>Promise.reject(ts),TEXT_ENCODER=typeof TextEncoder=="function"?new TextEncoder:null,calculateBodyLength=ts=>{if(typeof ts=="string"){if(TEXT_ENCODER)return TEXT_ENCODER.encode(ts).byteLength;let rs=ts.length;for(let ns=rs-1;ns>=0;ns--){const os=ts.charCodeAt(ns);os>127&&os<=2047?rs++:os>2047&&os<=65535&&(rs+=2),os>=56320&&os<=57343&&ns--}return rs}else{if(typeof ts.byteLength=="number")return ts.byteLength;if(typeof ts.size=="number")return ts.size}throw new Error("Body Length computation failed for ".concat(ts))},s="required",t="fn",u="argv",v="ref",a=!0,b="isSet",c="booleanEquals",d="error",e="endpoint",f="tree",g="PartitionResult",h={[s]:!1,type:"String"},i$1={[s]:!0,default:!1,type:"Boolean"},j={[v]:"Endpoint"},k={[t]:c,[u]:[{[v]:"UseFIPS"},!0]},l={[t]:c,[u]:[{[v]:"UseDualStack"},!0]},m={},n={[t]:"getAttr",[u]:[{[v]:g},"supportsFIPS"]},o={[t]:c,[u]:[!0,{[t]:"getAttr",[u]:[{[v]:g},"supportsDualStack"]}]},p=[k],q=[l],r=[{[v]:"Region"}],_data={version:"1.0",parameters:{Region:h,UseDualStack:i$1,UseFIPS:i$1,Endpoint:h},rules:[{conditions:[{[t]:b,[u]:[j]}],rules:[{conditions:p,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:d},{conditions:q,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:d},{endpoint:{url:j,properties:m,headers:m},type:e}],type:f},{conditions:[{[t]:b,[u]:r}],rules:[{conditions:[{[t]:"aws.partition",[u]:r,assign:g}],rules:[{conditions:[k,l],rules:[{conditions:[{[t]:c,[u]:[a,n]},o],rules:[{endpoint:{url:"https://messaging-chime-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:m,headers:m},type:e}],type:f},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:d}],type:f},{conditions:p,rules:[{conditions:[{[t]:c,[u]:[n,a]}],rules:[{endpoint:{url:"https://messaging-chime-fips.{Region}.{PartitionResult#dnsSuffix}",properties:m,headers:m},type:e}],type:f},{error:"FIPS is enabled but this partition does not support FIPS",type:d}],type:f},{conditions:q,rules:[{conditions:[o],rules:[{endpoint:{url:"https://messaging-chime.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:m,headers:m},type:e}],type:f},{error:"DualStack is enabled but this partition does not support DualStack",type:d}],type:f},{endpoint:{url:"https://messaging-chime.{Region}.{PartitionResult#dnsSuffix}",properties:m,headers:m},type:e}],type:f}],type:f},{error:"Invalid Configuration: Missing Region",type:d}]},ruleSet=_data,defaultEndpointResolver=(ts,rs={})=>resolveEndpoint(ruleSet,{endpointParams:ts,logger:rs.logger});customEndpointFunctions.aws=awsEndpointFunctions;const getRuntimeConfig$1=ts=>{var rs,ns,os,ss,as,ls,cs,us,ds,ps,fs,hs;return{apiVersion:"2021-05-15",base64Decoder:(rs=ts==null?void 0:ts.base64Decoder)!=null?rs:fromBase64,base64Encoder:(ns=ts==null?void 0:ts.base64Encoder)!=null?ns:toBase64,disableHostPrefix:(os=ts==null?void 0:ts.disableHostPrefix)!=null?os:!1,endpointProvider:(ss=ts==null?void 0:ts.endpointProvider)!=null?ss:defaultEndpointResolver,extensions:(as=ts==null?void 0:ts.extensions)!=null?as:[],httpAuthSchemeProvider:(ls=ts==null?void 0:ts.httpAuthSchemeProvider)!=null?ls:defaultChimeSDKMessagingHttpAuthSchemeProvider,httpAuthSchemes:(cs=ts==null?void 0:ts.httpAuthSchemes)!=null?cs:[{schemeId:"aws.auth#sigv4",identityProvider:ms=>ms.getIdentityProvider("aws.auth#sigv4"),signer:new AwsSdkSigV4Signer}],logger:(us=ts==null?void 0:ts.logger)!=null?us:new NoOpLogger$2,serviceId:(ds=ts==null?void 0:ts.serviceId)!=null?ds:"Chime SDK Messaging",urlParser:(ps=ts==null?void 0:ts.urlParser)!=null?ps:parseUrl,utf8Decoder:(fs=ts==null?void 0:ts.utf8Decoder)!=null?fs:fromUtf8$5,utf8Encoder:(hs=ts==null?void 0:ts.utf8Encoder)!=null?hs:toUtf8$3}},memoize$1=(ts,rs,ns)=>{let os,ss,as,ls=!1;const cs=async()=>{ss||(ss=ts());try{os=await ss,as=!0,ls=!1}finally{ss=void 0}return os};return rs===void 0?async us=>((!as||us!=null&&us.forceRefresh)&&(os=await cs()),os):async us=>((!as||us!=null&&us.forceRefresh)&&(os=await cs()),ls?os:ns&&!ns(os)?(ls=!0,os):(rs(os)&&await cs(),os))},DEFAULTS_MODE_OPTIONS=["in-region","cross-region","mobile","standard","legacy"],resolveDefaultsModeConfig=({defaultsMode:ts}={})=>memoize$1(async()=>{const rs=typeof ts=="function"?await ts():ts;switch(rs==null?void 0:rs.toLowerCase()){case"auto":return Promise.resolve(isMobileBrowser()?"mobile":"standard");case"mobile":case"in-region":case"cross-region":case"standard":case"legacy":return Promise.resolve(rs==null?void 0:rs.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error('Invalid parameter for "defaultsMode", expect '.concat(DEFAULTS_MODE_OPTIONS.join(", "),", got ").concat(rs))}}),isMobileBrowser=()=>{var ns,os;const ts=typeof window<"u"&&((ns=window==null?void 0:window.navigator)!=null&&ns.userAgent)?Bowser.parse(window.navigator.userAgent):void 0,rs=(os=ts==null?void 0:ts.platform)==null?void 0:os.type;return rs==="tablet"||rs==="mobile"},getRuntimeConfig=ts=>{var ss,as,ls,cs,us,ds,ps,fs,hs,ms,gs;const rs=resolveDefaultsModeConfig(ts),ns=()=>rs().then(loadConfigsForDefaultMode),os=getRuntimeConfig$1(ts);return{...os,...ts,runtime:"browser",defaultsMode:rs,bodyLengthChecker:(ss=ts==null?void 0:ts.bodyLengthChecker)!=null?ss:calculateBodyLength,credentialDefaultProvider:(as=ts==null?void 0:ts.credentialDefaultProvider)!=null?as:vs=>()=>Promise.reject(new Error("Credential is missing")),defaultUserAgentProvider:(ls=ts==null?void 0:ts.defaultUserAgentProvider)!=null?ls:defaultUserAgent({serviceId:os.serviceId,clientVersion:packageInfo.version}),maxAttempts:(cs=ts==null?void 0:ts.maxAttempts)!=null?cs:DEFAULT_MAX_ATTEMPTS,region:(us=ts==null?void 0:ts.region)!=null?us:invalidProvider("Region is missing"),requestHandler:FetchHttpHandler.create((ds=ts==null?void 0:ts.requestHandler)!=null?ds:ns),retryMode:(ps=ts==null?void 0:ts.retryMode)!=null?ps:async()=>(await ns()).retryMode||DEFAULT_RETRY_MODE,sha256:(fs=ts==null?void 0:ts.sha256)!=null?fs:Sha256,streamCollector:(hs=ts==null?void 0:ts.streamCollector)!=null?hs:streamCollector,useDualstackEndpoint:(ms=ts==null?void 0:ts.useDualstackEndpoint)!=null?ms:()=>Promise.resolve(DEFAULT_USE_DUALSTACK_ENDPOINT),useFipsEndpoint:(gs=ts==null?void 0:ts.useFipsEndpoint)!=null?gs:()=>Promise.resolve(DEFAULT_USE_FIPS_ENDPOINT)}},getAwsRegionExtensionConfiguration=ts=>{let rs=async()=>{if(ts.region===void 0)throw new Error("Region is missing from runtimeConfig");const ns=ts.region;return typeof ns=="string"?ns:ns()};return{setRegion(ns){rs=ns},region(){return rs}}},resolveAwsRegionExtensionConfiguration=ts=>({region:ts.region()}),getHttpAuthExtensionConfiguration=ts=>{const rs=ts.httpAuthSchemes;let ns=ts.httpAuthSchemeProvider,os=ts.credentials;return{setHttpAuthScheme(ss){const as=rs.findIndex(ls=>ls.schemeId===ss.schemeId);as===-1?rs.push(ss):rs.splice(as,1,ss)},httpAuthSchemes(){return rs},setHttpAuthSchemeProvider(ss){ns=ss},httpAuthSchemeProvider(){return ns},setCredentials(ss){os=ss},credentials(){return os}}},resolveHttpAuthRuntimeConfig=ts=>({httpAuthSchemes:ts.httpAuthSchemes(),httpAuthSchemeProvider:ts.httpAuthSchemeProvider(),credentials:ts.credentials()}),asPartial=ts=>ts,resolveRuntimeExtensions=(ts,rs)=>{const ns={...asPartial(getAwsRegionExtensionConfiguration(ts)),...asPartial(getDefaultExtensionConfiguration(ts)),...asPartial(getHttpHandlerExtensionConfiguration(ts)),...asPartial(getHttpAuthExtensionConfiguration(ts))};return rs.forEach(os=>os.configure(ns)),{...ts,...resolveAwsRegionExtensionConfiguration(ns),...resolveDefaultRuntimeConfig(ns),...resolveHttpHandlerRuntimeConfig(ns),...resolveHttpAuthRuntimeConfig(ns)}};class ChimeSDKMessagingClient extends Client{constructor(...[rs]){const ns=getRuntimeConfig(rs||{}),os=resolveClientEndpointParameters(ns),ss=resolveRegionConfig(os),as=resolveEndpointConfig(ss),ls=as,cs=resolveUserAgentConfig(ls),us=resolveRetryConfig(cs),ds=resolveHttpAuthSchemeConfig(us),ps=resolveRuntimeExtensions(ds,(rs==null?void 0:rs.extensions)||[]);super(ps),this.config=ps,this.middlewareStack.use(getHostHeaderPlugin(this.config)),this.middlewareStack.use(getLoggerPlugin(this.config)),this.middlewareStack.use(getRecursionDetectionPlugin(this.config)),this.middlewareStack.use(getUserAgentPlugin(this.config)),this.middlewareStack.use(getRetryPlugin(this.config)),this.middlewareStack.use(getContentLengthPlugin(this.config)),this.middlewareStack.use(getHttpAuthSchemeEndpointRuleSetPlugin(this.config,{httpAuthSchemeParametersProvider:this.getDefaultHttpAuthSchemeParametersProvider(),identityProviderConfigProvider:this.getIdentityProviderConfigProvider()})),this.middlewareStack.use(getHttpSigningPlugin(this.config))}destroy(){super.destroy()}getDefaultHttpAuthSchemeParametersProvider(){return defaultChimeSDKMessagingHttpAuthSchemeParametersProvider}getIdentityProviderConfigProvider(){return async rs=>new DefaultIdentityProviderConfig({"aws.auth#sigv4":rs.credentials})}}class ChimeSDKMessagingServiceException extends ServiceException{constructor(rs){super(rs),Object.setPrototypeOf(this,ChimeSDKMessagingServiceException.prototype)}}const AllowNotifications={ALL:"ALL",FILTERED:"FILTERED",NONE:"NONE"},ChannelMembershipType={DEFAULT:"DEFAULT",HIDDEN:"HIDDEN"},ErrorCode={AccessDenied:"AccessDenied",BadRequest:"BadRequest",Conflict:"Conflict",Forbidden:"Forbidden",NotFound:"NotFound",PhoneNumberAssociationsExist:"PhoneNumberAssociationsExist",PreconditionFailed:"PreconditionFailed",ResourceLimitExceeded:"ResourceLimitExceeded",ServiceFailure:"ServiceFailure",ServiceUnavailable:"ServiceUnavailable",Throttled:"Throttled",Throttling:"Throttling",Unauthorized:"Unauthorized",Unprocessable:"Unprocessable",VoiceConnectorGroupAssociationsExist:"VoiceConnectorGroupAssociationsExist"};class BadRequestException extends ChimeSDKMessagingServiceException{constructor(rs){super({name:"BadRequestException",$fault:"client",...rs}),this.name="BadRequestException",this.$fault="client",Object.setPrototypeOf(this,BadRequestException.prototype),this.Code=rs.Code,this.Message=rs.Message}}class ConflictException extends ChimeSDKMessagingServiceException{constructor(rs){super({name:"ConflictException",$fault:"client",...rs}),this.name="ConflictException",this.$fault="client",Object.setPrototypeOf(this,ConflictException.prototype),this.Code=rs.Code,this.Message=rs.Message}}class ForbiddenException extends ChimeSDKMessagingServiceException{constructor(rs){super({name:"ForbiddenException",$fault:"client",...rs}),this.name="ForbiddenException",this.$fault="client",Object.setPrototypeOf(this,ForbiddenException.prototype),this.Code=rs.Code,this.Message=rs.Message}}class NotFoundException extends ChimeSDKMessagingServiceException{constructor(rs){super({name:"NotFoundException",$fault:"client",...rs}),this.name="NotFoundException",this.$fault="client",Object.setPrototypeOf(this,NotFoundException.prototype),this.Code=rs.Code,this.Message=rs.Message}}class ServiceFailureException extends ChimeSDKMessagingServiceException{constructor(rs){super({name:"ServiceFailureException",$fault:"server",...rs}),this.name="ServiceFailureException",this.$fault="server",Object.setPrototypeOf(this,ServiceFailureException.prototype),this.Code=rs.Code,this.Message=rs.Message}}class ServiceUnavailableException extends ChimeSDKMessagingServiceException{constructor(rs){super({name:"ServiceUnavailableException",$fault:"server",...rs}),this.name="ServiceUnavailableException",this.$fault="server",Object.setPrototypeOf(this,ServiceUnavailableException.prototype),this.Code=rs.Code,this.Message=rs.Message}}class ThrottledClientException extends ChimeSDKMessagingServiceException{constructor(rs){super({name:"ThrottledClientException",$fault:"client",...rs}),this.name="ThrottledClientException",this.$fault="client",Object.setPrototypeOf(this,ThrottledClientException.prototype),this.Code=rs.Code,this.Message=rs.Message}}class UnauthorizedClientException extends ChimeSDKMessagingServiceException{constructor(rs){super({name:"UnauthorizedClientException",$fault:"client",...rs}),this.name="UnauthorizedClientException",this.$fault="client",Object.setPrototypeOf(this,UnauthorizedClientException.prototype),this.Code=rs.Code,this.Message=rs.Message}}class ResourceLimitExceededException extends ChimeSDKMessagingServiceException{constructor(rs){super({name:"ResourceLimitExceededException",$fault:"client",...rs}),this.name="ResourceLimitExceededException",this.$fault="client",Object.setPrototypeOf(this,ResourceLimitExceededException.prototype),this.Code=rs.Code,this.Message=rs.Message}}const ExpirationCriterion={CREATED_TIMESTAMP:"CREATED_TIMESTAMP",LAST_MESSAGE_TIMESTAMP:"LAST_MESSAGE_TIMESTAMP"},ChannelMode={RESTRICTED:"RESTRICTED",UNRESTRICTED:"UNRESTRICTED"},ChannelPrivacy={PRIVATE:"PRIVATE",PUBLIC:"PUBLIC"},InvocationType={ASYNC:"ASYNC"},FallbackAction={ABORT:"ABORT",CONTINUE:"CONTINUE"},PushNotificationType={DEFAULT:"DEFAULT",VOIP:"VOIP"},ChannelMessagePersistenceType={NON_PERSISTENT:"NON_PERSISTENT",PERSISTENT:"PERSISTENT"},ChannelMessageStatus={DENIED:"DENIED",FAILED:"FAILED",PENDING:"PENDING",SENT:"SENT"},ChannelMessageType={CONTROL:"CONTROL",STANDARD:"STANDARD"},MessagingDataType={Channel:"Channel",ChannelMessage:"ChannelMessage"},SortOrder={ASCENDING:"ASCENDING",DESCENDING:"DESCENDING"},SearchFieldKey={MEMBERS:"MEMBERS"},SearchFieldOperator={EQUALS:"EQUALS",INCLUDES:"INCLUDES"},IdentityFilterSensitiveLog=ts=>({...ts,...ts.Name&&{Name:SENSITIVE_STRING}}),BatchChannelMembershipsFilterSensitiveLog=ts=>({...ts,...ts.InvitedBy&&{InvitedBy:IdentityFilterSensitiveLog(ts.InvitedBy)},...ts.Members&&{Members:ts.Members.map(rs=>IdentityFilterSensitiveLog(rs))}}),BatchCreateChannelMembershipResponseFilterSensitiveLog=ts=>({...ts,...ts.BatchChannelMemberships&&{BatchChannelMemberships:BatchChannelMembershipsFilterSensitiveLog(ts.BatchChannelMemberships)}}),ChannelFilterSensitiveLog=ts=>({...ts,...ts.Name&&{Name:SENSITIVE_STRING},...ts.Metadata&&{Metadata:SENSITIVE_STRING},...ts.CreatedBy&&{CreatedBy:IdentityFilterSensitiveLog(ts.CreatedBy)}}),ChannelAssociatedWithFlowSummaryFilterSensitiveLog=ts=>({...ts,...ts.Name&&{Name:SENSITIVE_STRING},...ts.Metadata&&{Metadata:SENSITIVE_STRING}}),ChannelBanFilterSensitiveLog=ts=>({...ts,...ts.Member&&{Member:IdentityFilterSensitiveLog(ts.Member)},...ts.CreatedBy&&{CreatedBy:IdentityFilterSensitiveLog(ts.CreatedBy)}}),ChannelBanSummaryFilterSensitiveLog=ts=>({...ts,...ts.Member&&{Member:IdentityFilterSensitiveLog(ts.Member)}}),ProcessorFilterSensitiveLog=ts=>({...ts,...ts.Name&&{Name:SENSITIVE_STRING}}),ChannelFlowFilterSensitiveLog=ts=>({...ts,...ts.Processors&&{Processors:ts.Processors.map(rs=>ProcessorFilterSensitiveLog(rs))},...ts.Name&&{Name:SENSITIVE_STRING}}),MessageAttributeValueFilterSensitiveLog=ts=>({...ts,...ts.StringValues&&{StringValues:SENSITIVE_STRING}}),PushNotificationConfigurationFilterSensitiveLog=ts=>({...ts,...ts.Title&&{Title:SENSITIVE_STRING},...ts.Body&&{Body:SENSITIVE_STRING}}),ChannelMessageCallbackFilterSensitiveLog=ts=>({...ts,...ts.Content&&{Content:SENSITIVE_STRING},...ts.Metadata&&{Metadata:SENSITIVE_STRING},...ts.PushNotification&&{PushNotification:PushNotificationConfigurationFilterSensitiveLog(ts.PushNotification)},...ts.MessageAttributes&&{MessageAttributes:Object.entries(ts.MessageAttributes).reduce((rs,[ns,os])=>(rs[ns]=MessageAttributeValueFilterSensitiveLog(os),rs),{})},...ts.ContentType&&{ContentType:SENSITIVE_STRING}}),ChannelFlowCallbackRequestFilterSensitiveLog=ts=>({...ts,...ts.ChannelMessage&&{ChannelMessage:ChannelMessageCallbackFilterSensitiveLog(ts.ChannelMessage)}}),ChannelFlowSummaryFilterSensitiveLog=ts=>({...ts,...ts.Name&&{Name:SENSITIVE_STRING},...ts.Processors&&{Processors:ts.Processors.map(rs=>ProcessorFilterSensitiveLog(rs))}}),ChannelMembershipFilterSensitiveLog=ts=>({...ts,...ts.InvitedBy&&{InvitedBy:IdentityFilterSensitiveLog(ts.InvitedBy)},...ts.Member&&{Member:IdentityFilterSensitiveLog(ts.Member)}}),ChannelSummaryFilterSensitiveLog=ts=>({...ts,...ts.Name&&{Name:SENSITIVE_STRING},...ts.Metadata&&{Metadata:SENSITIVE_STRING}}),ChannelMembershipForAppInstanceUserSummaryFilterSensitiveLog=ts=>({...ts,...ts.ChannelSummary&&{ChannelSummary:ChannelSummaryFilterSensitiveLog(ts.ChannelSummary)}}),PushNotificationPreferencesFilterSensitiveLog=ts=>({...ts,...ts.FilterRule&&{FilterRule:SENSITIVE_STRING}}),ChannelMembershipPreferencesFilterSensitiveLog=ts=>({...ts,...ts.PushNotifications&&{PushNotifications:PushNotificationPreferencesFilterSensitiveLog(ts.PushNotifications)}}),ChannelMembershipSummaryFilterSensitiveLog=ts=>({...ts,...ts.Member&&{Member:IdentityFilterSensitiveLog(ts.Member)}}),ChannelMessageFilterSensitiveLog=ts=>({...ts,...ts.Content&&{Content:SENSITIVE_STRING},...ts.Metadata&&{Metadata:SENSITIVE_STRING},...ts.Sender&&{Sender:IdentityFilterSensitiveLog(ts.Sender)},...ts.MessageAttributes&&{MessageAttributes:Object.entries(ts.MessageAttributes).reduce((rs,[ns,os])=>(rs[ns]=MessageAttributeValueFilterSensitiveLog(os),rs),{})},...ts.ContentType&&{ContentType:SENSITIVE_STRING}}),ChannelMessageSummaryFilterSensitiveLog=ts=>({...ts,...ts.Content&&{Content:SENSITIVE_STRING},...ts.Metadata&&{Metadata:SENSITIVE_STRING},...ts.Sender&&{Sender:IdentityFilterSensitiveLog(ts.Sender)},...ts.MessageAttributes&&{MessageAttributes:Object.entries(ts.MessageAttributes).reduce((rs,[ns,os])=>(rs[ns]=MessageAttributeValueFilterSensitiveLog(os),rs),{})},...ts.ContentType&&{ContentType:SENSITIVE_STRING}}),ChannelModeratedByAppInstanceUserSummaryFilterSensitiveLog=ts=>({...ts,...ts.ChannelSummary&&{ChannelSummary:ChannelSummaryFilterSensitiveLog(ts.ChannelSummary)}}),ChannelModeratorFilterSensitiveLog=ts=>({...ts,...ts.Moderator&&{Moderator:IdentityFilterSensitiveLog(ts.Moderator)},...ts.CreatedBy&&{CreatedBy:IdentityFilterSensitiveLog(ts.CreatedBy)}}),ChannelModeratorSummaryFilterSensitiveLog=ts=>({...ts,...ts.Moderator&&{Moderator:IdentityFilterSensitiveLog(ts.Moderator)}}),TagFilterSensitiveLog=ts=>({...ts,...ts.Key&&{Key:SENSITIVE_STRING},...ts.Value&&{Value:SENSITIVE_STRING}}),CreateChannelRequestFilterSensitiveLog=ts=>({...ts,...ts.Name&&{Name:SENSITIVE_STRING},...ts.Metadata&&{Metadata:SENSITIVE_STRING},...ts.ClientRequestToken&&{ClientRequestToken:SENSITIVE_STRING},...ts.Tags&&{Tags:ts.Tags.map(rs=>TagFilterSensitiveLog(rs))},...ts.ChannelId&&{ChannelId:SENSITIVE_STRING}}),CreateChannelBanResponseFilterSensitiveLog=ts=>({...ts,...ts.Member&&{Member:IdentityFilterSensitiveLog(ts.Member)}}),CreateChannelFlowRequestFilterSensitiveLog=ts=>({...ts,...ts.Processors&&{Processors:ts.Processors.map(rs=>ProcessorFilterSensitiveLog(rs))},...ts.Name&&{Name:SENSITIVE_STRING},...ts.Tags&&{Tags:ts.Tags.map(rs=>TagFilterSensitiveLog(rs))},...ts.ClientRequestToken&&{ClientRequestToken:SENSITIVE_STRING}}),CreateChannelMembershipResponseFilterSensitiveLog=ts=>({...ts,...ts.Member&&{Member:IdentityFilterSensitiveLog(ts.Member)}}),CreateChannelModeratorResponseFilterSensitiveLog=ts=>({...ts,...ts.ChannelModerator&&{ChannelModerator:IdentityFilterSensitiveLog(ts.ChannelModerator)}}),DescribeChannelResponseFilterSensitiveLog=ts=>({...ts,...ts.Channel&&{Channel:ChannelFilterSensitiveLog(ts.Channel)}}),DescribeChannelBanResponseFilterSensitiveLog=ts=>({...ts,...ts.ChannelBan&&{ChannelBan:ChannelBanFilterSensitiveLog(ts.ChannelBan)}}),DescribeChannelFlowResponseFilterSensitiveLog=ts=>({...ts,...ts.ChannelFlow&&{ChannelFlow:ChannelFlowFilterSensitiveLog(ts.ChannelFlow)}}),DescribeChannelMembershipResponseFilterSensitiveLog=ts=>({...ts,...ts.ChannelMembership&&{ChannelMembership:ChannelMembershipFilterSensitiveLog(ts.ChannelMembership)}}),DescribeChannelMembershipForAppInstanceUserResponseFilterSensitiveLog=ts=>({...ts,...ts.ChannelMembership&&{ChannelMembership:ChannelMembershipForAppInstanceUserSummaryFilterSensitiveLog(ts.ChannelMembership)}}),DescribeChannelModeratedByAppInstanceUserResponseFilterSensitiveLog=ts=>({...ts,...ts.Channel&&{Channel:ChannelModeratedByAppInstanceUserSummaryFilterSensitiveLog(ts.Channel)}}),DescribeChannelModeratorResponseFilterSensitiveLog=ts=>({...ts,...ts.ChannelModerator&&{ChannelModerator:ChannelModeratorFilterSensitiveLog(ts.ChannelModerator)}}),GetChannelMembershipPreferencesResponseFilterSensitiveLog=ts=>({...ts,...ts.Member&&{Member:IdentityFilterSensitiveLog(ts.Member)},...ts.Preferences&&{Preferences:ChannelMembershipPreferencesFilterSensitiveLog(ts.Preferences)}}),GetChannelMessageResponseFilterSensitiveLog=ts=>({...ts,...ts.ChannelMessage&&{ChannelMessage:ChannelMessageFilterSensitiveLog(ts.ChannelMessage)}}),ListChannelBansRequestFilterSensitiveLog=ts=>({...ts,...ts.NextToken&&{NextToken:SENSITIVE_STRING}}),ListChannelBansResponseFilterSensitiveLog=ts=>({...ts,...ts.NextToken&&{NextToken:SENSITIVE_STRING},...ts.ChannelBans&&{ChannelBans:ts.ChannelBans.map(rs=>ChannelBanSummaryFilterSensitiveLog(rs))}}),ListChannelFlowsRequestFilterSensitiveLog=ts=>({...ts,...ts.NextToken&&{NextToken:SENSITIVE_STRING}}),ListChannelFlowsResponseFilterSensitiveLog=ts=>({...ts,...ts.ChannelFlows&&{ChannelFlows:ts.ChannelFlows.map(rs=>ChannelFlowSummaryFilterSensitiveLog(rs))},...ts.NextToken&&{NextToken:SENSITIVE_STRING}}),ListChannelMembershipsRequestFilterSensitiveLog=ts=>({...ts,...ts.NextToken&&{NextToken:SENSITIVE_STRING}}),ListChannelMembershipsResponseFilterSensitiveLog=ts=>({...ts,...ts.ChannelMemberships&&{ChannelMemberships:ts.ChannelMemberships.map(rs=>ChannelMembershipSummaryFilterSensitiveLog(rs))},...ts.NextToken&&{NextToken:SENSITIVE_STRING}}),ListChannelMembershipsForAppInstanceUserRequestFilterSensitiveLog=ts=>({...ts,...ts.NextToken&&{NextToken:SENSITIVE_STRING}}),ListChannelMembershipsForAppInstanceUserResponseFilterSensitiveLog=ts=>({...ts,...ts.ChannelMemberships&&{ChannelMemberships:ts.ChannelMemberships.map(rs=>ChannelMembershipForAppInstanceUserSummaryFilterSensitiveLog(rs))},...ts.NextToken&&{NextToken:SENSITIVE_STRING}}),ListChannelMessagesRequestFilterSensitiveLog=ts=>({...ts,...ts.NextToken&&{NextToken:SENSITIVE_STRING}}),ListChannelMessagesResponseFilterSensitiveLog=ts=>({...ts,...ts.NextToken&&{NextToken:SENSITIVE_STRING},...ts.ChannelMessages&&{ChannelMessages:ts.ChannelMessages.map(rs=>ChannelMessageSummaryFilterSensitiveLog(rs))}}),ListChannelModeratorsRequestFilterSensitiveLog=ts=>({...ts,...ts.NextToken&&{NextToken:SENSITIVE_STRING}}),ListChannelModeratorsResponseFilterSensitiveLog=ts=>({...ts,...ts.NextToken&&{NextToken:SENSITIVE_STRING},...ts.ChannelModerators&&{ChannelModerators:ts.ChannelModerators.map(rs=>ChannelModeratorSummaryFilterSensitiveLog(rs))}}),ListChannelsRequestFilterSensitiveLog=ts=>({...ts,...ts.NextToken&&{NextToken:SENSITIVE_STRING}}),ListChannelsResponseFilterSensitiveLog=ts=>({...ts,...ts.Channels&&{Channels:ts.Channels.map(rs=>ChannelSummaryFilterSensitiveLog(rs))},...ts.NextToken&&{NextToken:SENSITIVE_STRING}}),ListChannelsAssociatedWithChannelFlowRequestFilterSensitiveLog=ts=>({...ts,...ts.NextToken&&{NextToken:SENSITIVE_STRING}}),ListChannelsAssociatedWithChannelFlowResponseFilterSensitiveLog=ts=>({...ts,...ts.Channels&&{Channels:ts.Channels.map(rs=>ChannelAssociatedWithFlowSummaryFilterSensitiveLog(rs))},...ts.NextToken&&{NextToken:SENSITIVE_STRING}}),ListChannelsModeratedByAppInstanceUserRequestFilterSensitiveLog=ts=>({...ts,...ts.NextToken&&{NextToken:SENSITIVE_STRING}}),ListChannelsModeratedByAppInstanceUserResponseFilterSensitiveLog=ts=>({...ts,...ts.Channels&&{Channels:ts.Channels.map(rs=>ChannelModeratedByAppInstanceUserSummaryFilterSensitiveLog(rs))},...ts.NextToken&&{NextToken:SENSITIVE_STRING}}),ListSubChannelsRequestFilterSensitiveLog=ts=>({...ts,...ts.NextToken&&{NextToken:SENSITIVE_STRING}}),ListSubChannelsResponseFilterSensitiveLog=ts=>({...ts,...ts.NextToken&&{NextToken:SENSITIVE_STRING}}),ListTagsForResourceResponseFilterSensitiveLog=ts=>({...ts,...ts.Tags&&{Tags:ts.Tags.map(rs=>TagFilterSensitiveLog(rs))}}),PutChannelMembershipPreferencesRequestFilterSensitiveLog=ts=>({...ts,...ts.Preferences&&{Preferences:ChannelMembershipPreferencesFilterSensitiveLog(ts.Preferences)}}),PutChannelMembershipPreferencesResponseFilterSensitiveLog=ts=>({...ts,...ts.Member&&{Member:IdentityFilterSensitiveLog(ts.Member)},...ts.Preferences&&{Preferences:ChannelMembershipPreferencesFilterSensitiveLog(ts.Preferences)}}),SearchChannelsRequestFilterSensitiveLog=ts=>({...ts,...ts.NextToken&&{NextToken:SENSITIVE_STRING}}),SearchChannelsResponseFilterSensitiveLog=ts=>({...ts,...ts.Channels&&{Channels:ts.Channels.map(rs=>ChannelSummaryFilterSensitiveLog(rs))},...ts.NextToken&&{NextToken:SENSITIVE_STRING}}),SendChannelMessageRequestFilterSensitiveLog=ts=>({...ts,...ts.Content&&{Content:SENSITIVE_STRING},...ts.Metadata&&{Metadata:SENSITIVE_STRING},...ts.ClientRequestToken&&{ClientRequestToken:SENSITIVE_STRING},...ts.PushNotification&&{PushNotification:PushNotificationConfigurationFilterSensitiveLog(ts.PushNotification)},...ts.MessageAttributes&&{MessageAttributes:Object.entries(ts.MessageAttributes).reduce((rs,[ns,os])=>(rs[ns]=MessageAttributeValueFilterSensitiveLog(os),rs),{})},...ts.ContentType&&{ContentType:SENSITIVE_STRING}}),TagResourceRequestFilterSensitiveLog=ts=>({...ts,...ts.Tags&&{Tags:ts.Tags.map(rs=>TagFilterSensitiveLog(rs))}}),UntagResourceRequestFilterSensitiveLog=ts=>({...ts,...ts.TagKeys&&{TagKeys:SENSITIVE_STRING}}),UpdateChannelRequestFilterSensitiveLog=ts=>({...ts,...ts.Name&&{Name:SENSITIVE_STRING},...ts.Metadata&&{Metadata:SENSITIVE_STRING}}),UpdateChannelFlowRequestFilterSensitiveLog=ts=>({...ts,...ts.Processors&&{Processors:ts.Processors.map(rs=>ProcessorFilterSensitiveLog(rs))},...ts.Name&&{Name:SENSITIVE_STRING}}),UpdateChannelMessageRequestFilterSensitiveLog=ts=>({...ts,...ts.Content&&{Content:SENSITIVE_STRING},...ts.Metadata&&{Metadata:SENSITIVE_STRING},...ts.ContentType&&{ContentType:SENSITIVE_STRING}}),se_AssociateChannelFlowCommand=async(ts,rs)=>{const ns=requestBuilder(ts,rs),os=map({},isSerializableHeaderValue,{"content-type":"application/json",[_xacb]:ts[_CB]});ns.bp("/channels/{ChannelArn}/channel-flow"),ns.p("ChannelArn",()=>ts.ChannelArn,"{ChannelArn}",!1);let ss;return ss=JSON.stringify(take(ts,{ChannelFlowArn:[]})),ns.m("PUT").h(os).b(ss),ns.build()},se_BatchCreateChannelMembershipCommand=async(ts,rs)=>{const ns=requestBuilder(ts,rs),os=map({},isSerializableHeaderValue,{"content-type":"application/json",[_xacb]:ts[_CB]});ns.bp("/channels/{ChannelArn}/memberships"),ns.p("ChannelArn",()=>ts.ChannelArn,"{ChannelArn}",!1);const ss=map({[_o]:[,"batch-create"]});let as;return as=JSON.stringify(take(ts,{MemberArns:ls=>_json(ls),SubChannelId:[],Type:[]})),ns.m("POST").h(os).q(ss).b(as),ns.build()},se_ChannelFlowCallbackCommand=async(ts,rs)=>{const ns=requestBuilder(ts,rs),os={"content-type":"application/json"};ns.bp("/channels/{ChannelArn}"),ns.p("ChannelArn",()=>ts.ChannelArn,"{ChannelArn}",!1);const ss=map({[_o]:[,"channel-flow-callback"]});let as;return as=JSON.stringify(take(ts,{CallbackId:[!0,ls=>ls!=null?ls:v4$1()],ChannelMessage:ls=>_json(ls),DeleteResource:[]})),ns.m("POST").h(os).q(ss).b(as),ns.build()},se_CreateChannelCommand=async(ts,rs)=>{const ns=requestBuilder(ts,rs),os=map({},isSerializableHeaderValue,{"content-type":"application/json",[_xacb]:ts[_CB]});ns.bp("/channels");let ss;return ss=JSON.stringify(take(ts,{AppInstanceArn:[],ChannelId:[],ClientRequestToken:[!0,as=>as!=null?as:v4$1()],ElasticChannelConfiguration:as=>_json(as),ExpirationSettings:as=>_json(as),MemberArns:as=>_json(as),Metadata:[],Mode:[],ModeratorArns:as=>_json(as),Name:[],Privacy:[],Tags:as=>_json(as)})),ns.m("POST").h(os).b(ss),ns.build()},se_CreateChannelBanCommand=async(ts,rs)=>{const ns=requestBuilder(ts,rs),os=map({},isSerializableHeaderValue,{"content-type":"application/json",[_xacb]:ts[_CB]});ns.bp("/channels/{ChannelArn}/bans"),ns.p("ChannelArn",()=>ts.ChannelArn,"{ChannelArn}",!1);let ss;return ss=JSON.stringify(take(ts,{MemberArn:[]})),ns.m("POST").h(os).b(ss),ns.build()},se_CreateChannelFlowCommand=async(ts,rs)=>{const ns=requestBuilder(ts,rs),os={"content-type":"application/json"};ns.bp("/channel-flows");let ss;return ss=JSON.stringify(take(ts,{AppInstanceArn:[],ClientRequestToken:[!0,as=>as!=null?as:v4$1()],Name:[],Processors:as=>_json(as),Tags:as=>_json(as)})),ns.m("POST").h(os).b(ss),ns.build()},se_CreateChannelMembershipCommand=async(ts,rs)=>{const ns=requestBuilder(ts,rs),os=map({},isSerializableHeaderValue,{"content-type":"application/json",[_xacb]:ts[_CB]});ns.bp("/channels/{ChannelArn}/memberships"),ns.p("ChannelArn",()=>ts.ChannelArn,"{ChannelArn}",!1);let ss;return ss=JSON.stringify(take(ts,{MemberArn:[],SubChannelId:[],Type:[]})),ns.m("POST").h(os).b(ss),ns.build()},se_CreateChannelModeratorCommand=async(ts,rs)=>{const ns=requestBuilder(ts,rs),os=map({},isSerializableHeaderValue,{"content-type":"application/json",[_xacb]:ts[_CB]});ns.bp("/channels/{ChannelArn}/moderators"),ns.p("ChannelArn",()=>ts.ChannelArn,"{ChannelArn}",!1);let ss;return ss=JSON.stringify(take(ts,{ChannelModeratorArn:[]})),ns.m("POST").h(os).b(ss),ns.build()},se_DeleteChannelCommand=async(ts,rs)=>{const ns=requestBuilder(ts,rs),os=map({},isSerializableHeaderValue,{[_xacb]:ts[_CB]});ns.bp("/channels/{ChannelArn}"),ns.p("ChannelArn",()=>ts.ChannelArn,"{ChannelArn}",!1);let ss;return ns.m("DELETE").h(os).b(ss),ns.build()},se_DeleteChannelBanCommand=async(ts,rs)=>{const ns=requestBuilder(ts,rs),os=map({},isSerializableHeaderValue,{[_xacb]:ts[_CB]});ns.bp("/channels/{ChannelArn}/bans/{MemberArn}"),ns.p("ChannelArn",()=>ts.ChannelArn,"{ChannelArn}",!1),ns.p("MemberArn",()=>ts.MemberArn,"{MemberArn}",!1);let ss;return ns.m("DELETE").h(os).b(ss),ns.build()},se_DeleteChannelFlowCommand=async(ts,rs)=>{const ns=requestBuilder(ts,rs),os={};ns.bp("/channel-flows/{ChannelFlowArn}"),ns.p("ChannelFlowArn",()=>ts.ChannelFlowArn,"{ChannelFlowArn}",!1);let ss;return ns.m("DELETE").h(os).b(ss),ns.build()},se_DeleteChannelMembershipCommand=async(ts,rs)=>{const ns=requestBuilder(ts,rs),os=map({},isSerializableHeaderValue,{[_xacb]:ts[_CB]});ns.bp("/channels/{ChannelArn}/memberships/{MemberArn}"),ns.p("ChannelArn",()=>ts.ChannelArn,"{ChannelArn}",!1),ns.p("MemberArn",()=>ts.MemberArn,"{MemberArn}",!1);const ss=map({[_sci]:[,ts[_SCI]]});let as;return ns.m("DELETE").h(os).q(ss).b(as),ns.build()},se_DeleteChannelMessageCommand=async(ts,rs)=>{const ns=requestBuilder(ts,rs),os=map({},isSerializableHeaderValue,{[_xacb]:ts[_CB]});ns.bp("/channels/{ChannelArn}/messages/{MessageId}"),ns.p("ChannelArn",()=>ts.ChannelArn,"{ChannelArn}",!1),ns.p("MessageId",()=>ts.MessageId,"{MessageId}",!1);const ss=map({[_sci]:[,ts[_SCI]]});let as;return ns.m("DELETE").h(os).q(ss).b(as),ns.build()},se_DeleteChannelModeratorCommand=async(ts,rs)=>{const ns=requestBuilder(ts,rs),os=map({},isSerializableHeaderValue,{[_xacb]:ts[_CB]});ns.bp("/channels/{ChannelArn}/moderators/{ChannelModeratorArn}"),ns.p("ChannelArn",()=>ts.ChannelArn,"{ChannelArn}",!1),ns.p("ChannelModeratorArn",()=>ts.ChannelModeratorArn,"{ChannelModeratorArn}",!1);let ss;return ns.m("DELETE").h(os).b(ss),ns.build()},se_DeleteMessagingStreamingConfigurationsCommand=async(ts,rs)=>{const ns=requestBuilder(ts,rs),os={};ns.bp("/app-instances/{AppInstanceArn}/streaming-configurations"),ns.p("AppInstanceArn",()=>ts.AppInstanceArn,"{AppInstanceArn}",!1);let ss;return ns.m("DELETE").h(os).b(ss),ns.build()},se_DescribeChannelCommand=async(ts,rs)=>{const ns=requestBuilder(ts,rs),os=map({},isSerializableHeaderValue,{[_xacb]:ts[_CB]});ns.bp("/channels/{ChannelArn}"),ns.p("ChannelArn",()=>ts.ChannelArn,"{ChannelArn}",!1);let ss;return ns.m("GET").h(os).b(ss),ns.build()},se_DescribeChannelBanCommand=async(ts,rs)=>{const ns=requestBuilder(ts,rs),os=map({},isSerializableHeaderValue,{[_xacb]:ts[_CB]});ns.bp("/channels/{ChannelArn}/bans/{MemberArn}"),ns.p("ChannelArn",()=>ts.ChannelArn,"{ChannelArn}",!1),ns.p("MemberArn",()=>ts.MemberArn,"{MemberArn}",!1);let ss;return ns.m("GET").h(os).b(ss),ns.build()},se_DescribeChannelFlowCommand=async(ts,rs)=>{const ns=requestBuilder(ts,rs),os={};ns.bp("/channel-flows/{ChannelFlowArn}"),ns.p("ChannelFlowArn",()=>ts.ChannelFlowArn,"{ChannelFlowArn}",!1);let ss;return ns.m("GET").h(os).b(ss),ns.build()},se_DescribeChannelMembershipCommand=async(ts,rs)=>{const ns=requestBuilder(ts,rs),os=map({},isSerializableHeaderValue,{[_xacb]:ts[_CB]});ns.bp("/channels/{ChannelArn}/memberships/{MemberArn}"),ns.p("ChannelArn",()=>ts.ChannelArn,"{ChannelArn}",!1),ns.p("MemberArn",()=>ts.MemberArn,"{MemberArn}",!1);const ss=map({[_sci]:[,ts[_SCI]]});let as;return ns.m("GET").h(os).q(ss).b(as),ns.build()},se_DescribeChannelMembershipForAppInstanceUserCommand=async(ts,rs)=>{const ns=requestBuilder(ts,rs),os=map({},isSerializableHeaderValue,{[_xacb]:ts[_CB]});ns.bp("/channels/{ChannelArn}"),ns.p("ChannelArn",()=>ts.ChannelArn,"{ChannelArn}",!1);const ss=map({[_s]:[,"app-instance-user-membership"],[_aiua]:[,expectNonNull(ts[_AIUA],"AppInstanceUserArn")]});let as;return ns.m("GET").h(os).q(ss).b(as),ns.build()},se_DescribeChannelModeratedByAppInstanceUserCommand=async(ts,rs)=>{const ns=requestBuilder(ts,rs),os=map({},isSerializableHeaderValue,{[_xacb]:ts[_CB]});ns.bp("/channels/{ChannelArn}"),ns.p("ChannelArn",()=>ts.ChannelArn,"{ChannelArn}",!1);const ss=map({[_s]:[,"app-instance-user-moderated-channel"],[_aiua]:[,expectNonNull(ts[_AIUA],"AppInstanceUserArn")]});let as;return ns.m("GET").h(os).q(ss).b(as),ns.build()},se_DescribeChannelModeratorCommand=async(ts,rs)=>{const ns=requestBuilder(ts,rs),os=map({},isSerializableHeaderValue,{[_xacb]:ts[_CB]});ns.bp("/channels/{ChannelArn}/moderators/{ChannelModeratorArn}"),ns.p("ChannelArn",()=>ts.ChannelArn,"{ChannelArn}",!1),ns.p("ChannelModeratorArn",()=>ts.ChannelModeratorArn,"{ChannelModeratorArn}",!1);let ss;return ns.m("GET").h(os).b(ss),ns.build()},se_DisassociateChannelFlowCommand=async(ts,rs)=>{const ns=requestBuilder(ts,rs),os=map({},isSerializableHeaderValue,{[_xacb]:ts[_CB]});ns.bp("/channels/{ChannelArn}/channel-flow/{ChannelFlowArn}"),ns.p("ChannelArn",()=>ts.ChannelArn,"{ChannelArn}",!1),ns.p("ChannelFlowArn",()=>ts.ChannelFlowArn,"{ChannelFlowArn}",!1);let ss;return ns.m("DELETE").h(os).b(ss),ns.build()},se_GetChannelMembershipPreferencesCommand=async(ts,rs)=>{const ns=requestBuilder(ts,rs),os=map({},isSerializableHeaderValue,{[_xacb]:ts[_CB]});ns.bp("/channels/{ChannelArn}/memberships/{MemberArn}/preferences"),ns.p("ChannelArn",()=>ts.ChannelArn,"{ChannelArn}",!1),ns.p("MemberArn",()=>ts.MemberArn,"{MemberArn}",!1);let ss;return ns.m("GET").h(os).b(ss),ns.build()},se_GetChannelMessageCommand=async(ts,rs)=>{const ns=requestBuilder(ts,rs),os=map({},isSerializableHeaderValue,{[_xacb]:ts[_CB]});ns.bp("/channels/{ChannelArn}/messages/{MessageId}"),ns.p("ChannelArn",()=>ts.ChannelArn,"{ChannelArn}",!1),ns.p("MessageId",()=>ts.MessageId,"{MessageId}",!1);const ss=map({[_sci]:[,ts[_SCI]]});let as;return ns.m("GET").h(os).q(ss).b(as),ns.build()},se_GetChannelMessageStatusCommand=async(ts,rs)=>{const ns=requestBuilder(ts,rs),os=map({},isSerializableHeaderValue,{[_xacb]:ts[_CB]});ns.bp("/channels/{ChannelArn}/messages/{MessageId}"),ns.p("ChannelArn",()=>ts.ChannelArn,"{ChannelArn}",!1),ns.p("MessageId",()=>ts.MessageId,"{MessageId}",!1);const ss=map({[_s]:[,"message-status"],[_sci]:[,ts[_SCI]]});let as;return ns.m("GET").h(os).q(ss).b(as),ns.build()},se_GetMessagingSessionEndpointCommand=async(ts,rs)=>{const ns=requestBuilder(ts,rs),os={};ns.bp("/endpoints/messaging-session");let ss;return ns.m("GET").h(os).b(ss),ns.build()},se_GetMessagingStreamingConfigurationsCommand=async(ts,rs)=>{const ns=requestBuilder(ts,rs),os={};ns.bp("/app-instances/{AppInstanceArn}/streaming-configurations"),ns.p("AppInstanceArn",()=>ts.AppInstanceArn,"{AppInstanceArn}",!1);let ss;return ns.m("GET").h(os).b(ss),ns.build()},se_ListChannelBansCommand=async(ts,rs)=>{const ns=requestBuilder(ts,rs),os=map({},isSerializableHeaderValue,{[_xacb]:ts[_CB]});ns.bp("/channels/{ChannelArn}/bans"),ns.p("ChannelArn",()=>ts.ChannelArn,"{ChannelArn}",!1);const ss=map({[_mr]:[()=>ts.MaxResults!==void 0,()=>ts[_MR].toString()],[_nt]:[,ts[_NT]]});let as;return ns.m("GET").h(os).q(ss).b(as),ns.build()},se_ListChannelFlowsCommand=async(ts,rs)=>{const ns=requestBuilder(ts,rs),os={};ns.bp("/channel-flows");const ss=map({[_aia]:[,expectNonNull(ts[_AIA],"AppInstanceArn")],[_mr]:[()=>ts.MaxResults!==void 0,()=>ts[_MR].toString()],[_nt]:[,ts[_NT]]});let as;return ns.m("GET").h(os).q(ss).b(as),ns.build()},se_ListChannelMembershipsCommand=async(ts,rs)=>{const ns=requestBuilder(ts,rs),os=map({},isSerializableHeaderValue,{[_xacb]:ts[_CB]});ns.bp("/channels/{ChannelArn}/memberships"),ns.p("ChannelArn",()=>ts.ChannelArn,"{ChannelArn}",!1);const ss=map({[_t]:[,ts[_T]],[_mr]:[()=>ts.MaxResults!==void 0,()=>ts[_MR].toString()],[_nt]:[,ts[_NT]],[_sci]:[,ts[_SCI]]});let as;return ns.m("GET").h(os).q(ss).b(as),ns.build()},se_ListChannelMembershipsForAppInstanceUserCommand=async(ts,rs)=>{const ns=requestBuilder(ts,rs),os=map({},isSerializableHeaderValue,{[_xacb]:ts[_CB]});ns.bp("/channels");const ss=map({[_s]:[,"app-instance-user-memberships"],[_aiua]:[,ts[_AIUA]],[_mr]:[()=>ts.MaxResults!==void 0,()=>ts[_MR].toString()],[_nt]:[,ts[_NT]]});let as;return ns.m("GET").h(os).q(ss).b(as),ns.build()},se_ListChannelMessagesCommand=async(ts,rs)=>{const ns=requestBuilder(ts,rs),os=map({},isSerializableHeaderValue,{[_xacb]:ts[_CB]});ns.bp("/channels/{ChannelArn}/messages"),ns.p("ChannelArn",()=>ts.ChannelArn,"{ChannelArn}",!1);const ss=map({[_so]:[,ts[_SO]],[_nb]:[()=>ts.NotBefore!==void 0,()=>serializeDateTime(ts[_NB]).toString()],[_na]:[()=>ts.NotAfter!==void 0,()=>serializeDateTime(ts[_NA]).toString()],[_mr]:[()=>ts.MaxResults!==void 0,()=>ts[_MR].toString()],[_nt]:[,ts[_NT]],[_sci]:[,ts[_SCI]]});let as;return ns.m("GET").h(os).q(ss).b(as),ns.build()},se_ListChannelModeratorsCommand=async(ts,rs)=>{const ns=requestBuilder(ts,rs),os=map({},isSerializableHeaderValue,{[_xacb]:ts[_CB]});ns.bp("/channels/{ChannelArn}/moderators"),ns.p("ChannelArn",()=>ts.ChannelArn,"{ChannelArn}",!1);const ss=map({[_mr]:[()=>ts.MaxResults!==void 0,()=>ts[_MR].toString()],[_nt]:[,ts[_NT]]});let as;return ns.m("GET").h(os).q(ss).b(as),ns.build()},se_ListChannelsCommand=async(ts,rs)=>{const ns=requestBuilder(ts,rs),os=map({},isSerializableHeaderValue,{[_xacb]:ts[_CB]});ns.bp("/channels");const ss=map({[_aia]:[,expectNonNull(ts[_AIA],"AppInstanceArn")],[_p]:[,ts[_P]],[_mr]:[()=>ts.MaxResults!==void 0,()=>ts[_MR].toString()],[_nt]:[,ts[_NT]]});let as;return ns.m("GET").h(os).q(ss).b(as),ns.build()},se_ListChannelsAssociatedWithChannelFlowCommand=async(ts,rs)=>{const ns=requestBuilder(ts,rs),os={};ns.bp("/channels");const ss=map({[_s]:[,"channel-flow-associations"],[_cfa]:[,expectNonNull(ts[_CFA],"ChannelFlowArn")],[_mr]:[()=>ts.MaxResults!==void 0,()=>ts[_MR].toString()],[_nt]:[,ts[_NT]]});let as;return ns.m("GET").h(os).q(ss).b(as),ns.build()},se_ListChannelsModeratedByAppInstanceUserCommand=async(ts,rs)=>{const ns=requestBuilder(ts,rs),os=map({},isSerializableHeaderValue,{[_xacb]:ts[_CB]});ns.bp("/channels");const ss=map({[_s]:[,"app-instance-user-moderated-channels"],[_aiua]:[,ts[_AIUA]],[_mr]:[()=>ts.MaxResults!==void 0,()=>ts[_MR].toString()],[_nt]:[,ts[_NT]]});let as;return ns.m("GET").h(os).q(ss).b(as),ns.build()},se_ListSubChannelsCommand=async(ts,rs)=>{const ns=requestBuilder(ts,rs),os=map({},isSerializableHeaderValue,{[_xacb]:ts[_CB]});ns.bp("/channels/{ChannelArn}/subchannels"),ns.p("ChannelArn",()=>ts.ChannelArn,"{ChannelArn}",!1);const ss=map({[_mr]:[()=>ts.MaxResults!==void 0,()=>ts[_MR].toString()],[_nt]:[,ts[_NT]]});let as;return ns.m("GET").h(os).q(ss).b(as),ns.build()},se_ListTagsForResourceCommand=async(ts,rs)=>{const ns=requestBuilder(ts,rs),os={};ns.bp("/tags");const ss=map({[_a]:[,expectNonNull(ts[_RARN],"ResourceARN")]});let as;return ns.m("GET").h(os).q(ss).b(as),ns.build()},se_PutChannelExpirationSettingsCommand=async(ts,rs)=>{const ns=requestBuilder(ts,rs),os=map({},isSerializableHeaderValue,{"content-type":"application/json",[_xacb]:ts[_CB]});ns.bp("/channels/{ChannelArn}/expiration-settings"),ns.p("ChannelArn",()=>ts.ChannelArn,"{ChannelArn}",!1);let ss;return ss=JSON.stringify(take(ts,{ExpirationSettings:as=>_json(as)})),ns.m("PUT").h(os).b(ss),ns.build()},se_PutChannelMembershipPreferencesCommand=async(ts,rs)=>{const ns=requestBuilder(ts,rs),os=map({},isSerializableHeaderValue,{"content-type":"application/json",[_xacb]:ts[_CB]});ns.bp("/channels/{ChannelArn}/memberships/{MemberArn}/preferences"),ns.p("ChannelArn",()=>ts.ChannelArn,"{ChannelArn}",!1),ns.p("MemberArn",()=>ts.MemberArn,"{MemberArn}",!1);let ss;return ss=JSON.stringify(take(ts,{Preferences:as=>_json(as)})),ns.m("PUT").h(os).b(ss),ns.build()},se_PutMessagingStreamingConfigurationsCommand=async(ts,rs)=>{const ns=requestBuilder(ts,rs),os={"content-type":"application/json"};ns.bp("/app-instances/{AppInstanceArn}/streaming-configurations"),ns.p("AppInstanceArn",()=>ts.AppInstanceArn,"{AppInstanceArn}",!1);let ss;return ss=JSON.stringify(take(ts,{StreamingConfigurations:as=>_json(as)})),ns.m("PUT").h(os).b(ss),ns.build()},se_RedactChannelMessageCommand=async(ts,rs)=>{const ns=requestBuilder(ts,rs),os=map({},isSerializableHeaderValue,{"content-type":"application/json",[_xacb]:ts[_CB]});ns.bp("/channels/{ChannelArn}/messages/{MessageId}"),ns.p("ChannelArn",()=>ts.ChannelArn,"{ChannelArn}",!1),ns.p("MessageId",()=>ts.MessageId,"{MessageId}",!1);const ss=map({[_o]:[,"redact"]});let as;return as=JSON.stringify(take(ts,{SubChannelId:[]})),ns.m("POST").h(os).q(ss).b(as),ns.build()},se_SearchChannelsCommand=async(ts,rs)=>{const ns=requestBuilder(ts,rs),os=map({},isSerializableHeaderValue,{"content-type":"application/json",[_xacb]:ts[_CB]});ns.bp("/channels");const ss=map({[_o]:[,"search"],[_mr]:[()=>ts.MaxResults!==void 0,()=>ts[_MR].toString()],[_nt]:[,ts[_NT]]});let as;return as=JSON.stringify(take(ts,{Fields:ls=>_json(ls)})),ns.m("POST").h(os).q(ss).b(as),ns.build()},se_SendChannelMessageCommand=async(ts,rs)=>{const ns=requestBuilder(ts,rs),os=map({},isSerializableHeaderValue,{"content-type":"application/json",[_xacb]:ts[_CB]});ns.bp("/channels/{ChannelArn}/messages"),ns.p("ChannelArn",()=>ts.ChannelArn,"{ChannelArn}",!1);let ss;return ss=JSON.stringify(take(ts,{ClientRequestToken:[!0,as=>as!=null?as:v4$1()],Content:[],ContentType:[],MessageAttributes:as=>_json(as),Metadata:[],Persistence:[],PushNotification:as=>_json(as),SubChannelId:[],Target:as=>_json(as),Type:[]})),ns.m("POST").h(os).b(ss),ns.build()},se_TagResourceCommand=async(ts,rs)=>{const ns=requestBuilder(ts,rs),os={"content-type":"application/json"};ns.bp("/tags");const ss=map({[_o]:[,"tag-resource"]});let as;return as=JSON.stringify(take(ts,{ResourceARN:[],Tags:ls=>_json(ls)})),ns.m("POST").h(os).q(ss).b(as),ns.build()},se_UntagResourceCommand=async(ts,rs)=>{const ns=requestBuilder(ts,rs),os={"content-type":"application/json"};ns.bp("/tags");const ss=map({[_o]:[,"untag-resource"]});let as;return as=JSON.stringify(take(ts,{ResourceARN:[],TagKeys:ls=>_json(ls)})),ns.m("POST").h(os).q(ss).b(as),ns.build()},se_UpdateChannelCommand=async(ts,rs)=>{const ns=requestBuilder(ts,rs),os=map({},isSerializableHeaderValue,{"content-type":"application/json",[_xacb]:ts[_CB]});ns.bp("/channels/{ChannelArn}"),ns.p("ChannelArn",()=>ts.ChannelArn,"{ChannelArn}",!1);let ss;return ss=JSON.stringify(take(ts,{Metadata:[],Mode:[],Name:[]})),ns.m("PUT").h(os).b(ss),ns.build()},se_UpdateChannelFlowCommand=async(ts,rs)=>{const ns=requestBuilder(ts,rs),os={"content-type":"application/json"};ns.bp("/channel-flows/{ChannelFlowArn}"),ns.p("ChannelFlowArn",()=>ts.ChannelFlowArn,"{ChannelFlowArn}",!1);let ss;return ss=JSON.stringify(take(ts,{Name:[],Processors:as=>_json(as)})),ns.m("PUT").h(os).b(ss),ns.build()},se_UpdateChannelMessageCommand=async(ts,rs)=>{const ns=requestBuilder(ts,rs),os=map({},isSerializableHeaderValue,{"content-type":"application/json",[_xacb]:ts[_CB]});ns.bp("/channels/{ChannelArn}/messages/{MessageId}"),ns.p("ChannelArn",()=>ts.ChannelArn,"{ChannelArn}",!1),ns.p("MessageId",()=>ts.MessageId,"{MessageId}",!1);let ss;return ss=JSON.stringify(take(ts,{Content:[],ContentType:[],Metadata:[],SubChannelId:[]})),ns.m("PUT").h(os).b(ss),ns.build()},se_UpdateChannelReadMarkerCommand=async(ts,rs)=>{const ns=requestBuilder(ts,rs),os=map({},isSerializableHeaderValue,{[_xacb]:ts[_CB]});ns.bp("/channels/{ChannelArn}/readMarker"),ns.p("ChannelArn",()=>ts.ChannelArn,"{ChannelArn}",!1);let ss;return ns.m("PUT").h(os).b(ss),ns.build()},de_AssociateChannelFlowCommand=async(ts,rs)=>{if(ts.statusCode!==200&&ts.statusCode>=300)return de_CommandError(ts,rs);const ns=map({$metadata:deserializeMetadata(ts)});return await collectBody(ts.body,rs),ns},de_BatchCreateChannelMembershipCommand=async(ts,rs)=>{if(ts.statusCode!==200&&ts.statusCode>=300)return de_CommandError(ts,rs);const ns=map({$metadata:deserializeMetadata(ts)}),os=expectNonNull(expectObject(await parseJsonBody(ts.body,rs)),"body"),ss=take(os,{BatchChannelMemberships:_json,Errors:_json});return Object.assign(ns,ss),ns},de_ChannelFlowCallbackCommand=async(ts,rs)=>{if(ts.statusCode!==200&&ts.statusCode>=300)return de_CommandError(ts,rs);const ns=map({$metadata:deserializeMetadata(ts)}),os=expectNonNull(expectObject(await parseJsonBody(ts.body,rs)),"body"),ss=take(os,{CallbackId:expectString,ChannelArn:expectString});return Object.assign(ns,ss),ns},de_CreateChannelCommand=async(ts,rs)=>{if(ts.statusCode!==201&&ts.statusCode>=300)return de_CommandError(ts,rs);const ns=map({$metadata:deserializeMetadata(ts)}),os=expectNonNull(expectObject(await parseJsonBody(ts.body,rs)),"body"),ss=take(os,{ChannelArn:expectString});return Object.assign(ns,ss),ns},de_CreateChannelBanCommand=async(ts,rs)=>{if(ts.statusCode!==201&&ts.statusCode>=300)return de_CommandError(ts,rs);const ns=map({$metadata:deserializeMetadata(ts)}),os=expectNonNull(expectObject(await parseJsonBody(ts.body,rs)),"body"),ss=take(os,{ChannelArn:expectString,Member:_json});return Object.assign(ns,ss),ns},de_CreateChannelFlowCommand=async(ts,rs)=>{if(ts.statusCode!==201&&ts.statusCode>=300)return de_CommandError(ts,rs);const ns=map({$metadata:deserializeMetadata(ts)}),os=expectNonNull(expectObject(await parseJsonBody(ts.body,rs)),"body"),ss=take(os,{ChannelFlowArn:expectString});return Object.assign(ns,ss),ns},de_CreateChannelMembershipCommand=async(ts,rs)=>{if(ts.statusCode!==201&&ts.statusCode>=300)return de_CommandError(ts,rs);const ns=map({$metadata:deserializeMetadata(ts)}),os=expectNonNull(expectObject(await parseJsonBody(ts.body,rs)),"body"),ss=take(os,{ChannelArn:expectString,Member:_json,SubChannelId:expectString});return Object.assign(ns,ss),ns},de_CreateChannelModeratorCommand=async(ts,rs)=>{if(ts.statusCode!==201&&ts.statusCode>=300)return de_CommandError(ts,rs);const ns=map({$metadata:deserializeMetadata(ts)}),os=expectNonNull(expectObject(await parseJsonBody(ts.body,rs)),"body"),ss=take(os,{ChannelArn:expectString,ChannelModerator:_json});return Object.assign(ns,ss),ns},de_DeleteChannelCommand=async(ts,rs)=>{if(ts.statusCode!==204&&ts.statusCode>=300)return de_CommandError(ts,rs);const ns=map({$metadata:deserializeMetadata(ts)});return await collectBody(ts.body,rs),ns},de_DeleteChannelBanCommand=async(ts,rs)=>{if(ts.statusCode!==204&&ts.statusCode>=300)return de_CommandError(ts,rs);const ns=map({$metadata:deserializeMetadata(ts)});return await collectBody(ts.body,rs),ns},de_DeleteChannelFlowCommand=async(ts,rs)=>{if(ts.statusCode!==204&&ts.statusCode>=300)return de_CommandError(ts,rs);const ns=map({$metadata:deserializeMetadata(ts)});return await collectBody(ts.body,rs),ns},de_DeleteChannelMembershipCommand=async(ts,rs)=>{if(ts.statusCode!==204&&ts.statusCode>=300)return de_CommandError(ts,rs);const ns=map({$metadata:deserializeMetadata(ts)});return await collectBody(ts.body,rs),ns},de_DeleteChannelMessageCommand=async(ts,rs)=>{if(ts.statusCode!==204&&ts.statusCode>=300)return de_CommandError(ts,rs);const ns=map({$metadata:deserializeMetadata(ts)});return await collectBody(ts.body,rs),ns},de_DeleteChannelModeratorCommand=async(ts,rs)=>{if(ts.statusCode!==204&&ts.statusCode>=300)return de_CommandError(ts,rs);const ns=map({$metadata:deserializeMetadata(ts)});return await collectBody(ts.body,rs),ns},de_DeleteMessagingStreamingConfigurationsCommand=async(ts,rs)=>{if(ts.statusCode!==204&&ts.statusCode>=300)return de_CommandError(ts,rs);const ns=map({$metadata:deserializeMetadata(ts)});return await collectBody(ts.body,rs),ns},de_DescribeChannelCommand=async(ts,rs)=>{if(ts.statusCode!==200&&ts.statusCode>=300)return de_CommandError(ts,rs);const ns=map({$metadata:deserializeMetadata(ts)}),os=expectNonNull(expectObject(await parseJsonBody(ts.body,rs)),"body"),ss=take(os,{Channel:as=>de_Channel(as)});return Object.assign(ns,ss),ns},de_DescribeChannelBanCommand=async(ts,rs)=>{if(ts.statusCode!==200&&ts.statusCode>=300)return de_CommandError(ts,rs);const ns=map({$metadata:deserializeMetadata(ts)}),os=expectNonNull(expectObject(await parseJsonBody(ts.body,rs)),"body"),ss=take(os,{ChannelBan:as=>de_ChannelBan(as)});return Object.assign(ns,ss),ns},de_DescribeChannelFlowCommand=async(ts,rs)=>{if(ts.statusCode!==200&&ts.statusCode>=300)return de_CommandError(ts,rs);const ns=map({$metadata:deserializeMetadata(ts)}),os=expectNonNull(expectObject(await parseJsonBody(ts.body,rs)),"body"),ss=take(os,{ChannelFlow:as=>de_ChannelFlow(as)});return Object.assign(ns,ss),ns},de_DescribeChannelMembershipCommand=async(ts,rs)=>{if(ts.statusCode!==200&&ts.statusCode>=300)return de_CommandError(ts,rs);const ns=map({$metadata:deserializeMetadata(ts)}),os=expectNonNull(expectObject(await parseJsonBody(ts.body,rs)),"body"),ss=take(os,{ChannelMembership:as=>de_ChannelMembership(as)});return Object.assign(ns,ss),ns},de_DescribeChannelMembershipForAppInstanceUserCommand=async(ts,rs)=>{if(ts.statusCode!==200&&ts.statusCode>=300)return de_CommandError(ts,rs);const ns=map({$metadata:deserializeMetadata(ts)}),os=expectNonNull(expectObject(await parseJsonBody(ts.body,rs)),"body"),ss=take(os,{ChannelMembership:as=>de_ChannelMembershipForAppInstanceUserSummary(as)});return Object.assign(ns,ss),ns},de_DescribeChannelModeratedByAppInstanceUserCommand=async(ts,rs)=>{if(ts.statusCode!==200&&ts.statusCode>=300)return de_CommandError(ts,rs);const ns=map({$metadata:deserializeMetadata(ts)}),os=expectNonNull(expectObject(await parseJsonBody(ts.body,rs)),"body"),ss=take(os,{Channel:as=>de_ChannelModeratedByAppInstanceUserSummary(as)});return Object.assign(ns,ss),ns},de_DescribeChannelModeratorCommand=async(ts,rs)=>{if(ts.statusCode!==200&&ts.statusCode>=300)return de_CommandError(ts,rs);const ns=map({$metadata:deserializeMetadata(ts)}),os=expectNonNull(expectObject(await parseJsonBody(ts.body,rs)),"body"),ss=take(os,{ChannelModerator:as=>de_ChannelModerator(as)});return Object.assign(ns,ss),ns},de_DisassociateChannelFlowCommand=async(ts,rs)=>{if(ts.statusCode!==204&&ts.statusCode>=300)return de_CommandError(ts,rs);const ns=map({$metadata:deserializeMetadata(ts)});return await collectBody(ts.body,rs),ns},de_GetChannelMembershipPreferencesCommand=async(ts,rs)=>{if(ts.statusCode!==200&&ts.statusCode>=300)return de_CommandError(ts,rs);const ns=map({$metadata:deserializeMetadata(ts)}),os=expectNonNull(expectObject(await parseJsonBody(ts.body,rs)),"body"),ss=take(os,{ChannelArn:expectString,Member:_json,Preferences:_json});return Object.assign(ns,ss),ns},de_GetChannelMessageCommand=async(ts,rs)=>{if(ts.statusCode!==200&&ts.statusCode>=300)return de_CommandError(ts,rs);const ns=map({$metadata:deserializeMetadata(ts)}),os=expectNonNull(expectObject(await parseJsonBody(ts.body,rs)),"body"),ss=take(os,{ChannelMessage:as=>de_ChannelMessage(as)});return Object.assign(ns,ss),ns},de_GetChannelMessageStatusCommand=async(ts,rs)=>{if(ts.statusCode!==200&&ts.statusCode>=300)return de_CommandError(ts,rs);const ns=map({$metadata:deserializeMetadata(ts)}),os=expectNonNull(expectObject(await parseJsonBody(ts.body,rs)),"body"),ss=take(os,{Status:_json});return Object.assign(ns,ss),ns},de_GetMessagingSessionEndpointCommand=async(ts,rs)=>{if(ts.statusCode!==200&&ts.statusCode>=300)return de_CommandError(ts,rs);const ns=map({$metadata:deserializeMetadata(ts)}),os=expectNonNull(expectObject(await parseJsonBody(ts.body,rs)),"body"),ss=take(os,{Endpoint:_json});return Object.assign(ns,ss),ns},de_GetMessagingStreamingConfigurationsCommand=async(ts,rs)=>{if(ts.statusCode!==200&&ts.statusCode>=300)return de_CommandError(ts,rs);const ns=map({$metadata:deserializeMetadata(ts)}),os=expectNonNull(expectObject(await parseJsonBody(ts.body,rs)),"body"),ss=take(os,{StreamingConfigurations:_json});return Object.assign(ns,ss),ns},de_ListChannelBansCommand=async(ts,rs)=>{if(ts.statusCode!==200&&ts.statusCode>=300)return de_CommandError(ts,rs);const ns=map({$metadata:deserializeMetadata(ts)}),os=expectNonNull(expectObject(await parseJsonBody(ts.body,rs)),"body"),ss=take(os,{ChannelArn:expectString,ChannelBans:_json,NextToken:expectString});return Object.assign(ns,ss),ns},de_ListChannelFlowsCommand=async(ts,rs)=>{if(ts.statusCode!==200&&ts.statusCode>=300)return de_CommandError(ts,rs);const ns=map({$metadata:deserializeMetadata(ts)}),os=expectNonNull(expectObject(await parseJsonBody(ts.body,rs)),"body"),ss=take(os,{ChannelFlows:_json,NextToken:expectString});return Object.assign(ns,ss),ns},de_ListChannelMembershipsCommand=async(ts,rs)=>{if(ts.statusCode!==200&&ts.statusCode>=300)return de_CommandError(ts,rs);const ns=map({$metadata:deserializeMetadata(ts)}),os=expectNonNull(expectObject(await parseJsonBody(ts.body,rs)),"body"),ss=take(os,{ChannelArn:expectString,ChannelMemberships:_json,NextToken:expectString});return Object.assign(ns,ss),ns},de_ListChannelMembershipsForAppInstanceUserCommand=async(ts,rs)=>{if(ts.statusCode!==200&&ts.statusCode>=300)return de_CommandError(ts,rs);const ns=map({$metadata:deserializeMetadata(ts)}),os=expectNonNull(expectObject(await parseJsonBody(ts.body,rs)),"body"),ss=take(os,{ChannelMemberships:as=>de_ChannelMembershipForAppInstanceUserSummaryList(as),NextToken:expectString});return Object.assign(ns,ss),ns},de_ListChannelMessagesCommand=async(ts,rs)=>{if(ts.statusCode!==200&&ts.statusCode>=300)return de_CommandError(ts,rs);const ns=map({$metadata:deserializeMetadata(ts)}),os=expectNonNull(expectObject(await parseJsonBody(ts.body,rs)),"body"),ss=take(os,{ChannelArn:expectString,ChannelMessages:as=>de_ChannelMessageSummaryList(as),NextToken:expectString,SubChannelId:expectString});return Object.assign(ns,ss),ns},de_ListChannelModeratorsCommand=async(ts,rs)=>{if(ts.statusCode!==200&&ts.statusCode>=300)return de_CommandError(ts,rs);const ns=map({$metadata:deserializeMetadata(ts)}),os=expectNonNull(expectObject(await parseJsonBody(ts.body,rs)),"body"),ss=take(os,{ChannelArn:expectString,ChannelModerators:_json,NextToken:expectString});return Object.assign(ns,ss),ns},de_ListChannelsCommand=async(ts,rs)=>{if(ts.statusCode!==200&&ts.statusCode>=300)return de_CommandError(ts,rs);const ns=map({$metadata:deserializeMetadata(ts)}),os=expectNonNull(expectObject(await parseJsonBody(ts.body,rs)),"body"),ss=take(os,{Channels:as=>de_ChannelSummaryList(as),NextToken:expectString});return Object.assign(ns,ss),ns},de_ListChannelsAssociatedWithChannelFlowCommand=async(ts,rs)=>{if(ts.statusCode!==200&&ts.statusCode>=300)return de_CommandError(ts,rs);const ns=map({$metadata:deserializeMetadata(ts)}),os=expectNonNull(expectObject(await parseJsonBody(ts.body,rs)),"body"),ss=take(os,{Channels:_json,NextToken:expectString});return Object.assign(ns,ss),ns},de_ListChannelsModeratedByAppInstanceUserCommand=async(ts,rs)=>{if(ts.statusCode!==200&&ts.statusCode>=300)return de_CommandError(ts,rs);const ns=map({$metadata:deserializeMetadata(ts)}),os=expectNonNull(expectObject(await parseJsonBody(ts.body,rs)),"body"),ss=take(os,{Channels:as=>de_ChannelModeratedByAppInstanceUserSummaryList(as),NextToken:expectString});return Object.assign(ns,ss),ns},de_ListSubChannelsCommand=async(ts,rs)=>{if(ts.statusCode!==200&&ts.statusCode>=300)return de_CommandError(ts,rs);const ns=map({$metadata:deserializeMetadata(ts)}),os=expectNonNull(expectObject(await parseJsonBody(ts.body,rs)),"body"),ss=take(os,{ChannelArn:expectString,NextToken:expectString,SubChannels:_json});return Object.assign(ns,ss),ns},de_ListTagsForResourceCommand=async(ts,rs)=>{if(ts.statusCode!==200&&ts.statusCode>=300)return de_CommandError(ts,rs);const ns=map({$metadata:deserializeMetadata(ts)}),os=expectNonNull(expectObject(await parseJsonBody(ts.body,rs)),"body"),ss=take(os,{Tags:_json});return Object.assign(ns,ss),ns},de_PutChannelExpirationSettingsCommand=async(ts,rs)=>{if(ts.statusCode!==200&&ts.statusCode>=300)return de_CommandError(ts,rs);const ns=map({$metadata:deserializeMetadata(ts)}),os=expectNonNull(expectObject(await parseJsonBody(ts.body,rs)),"body"),ss=take(os,{ChannelArn:expectString,ExpirationSettings:_json});return Object.assign(ns,ss),ns},de_PutChannelMembershipPreferencesCommand=async(ts,rs)=>{if(ts.statusCode!==200&&ts.statusCode>=300)return de_CommandError(ts,rs);const ns=map({$metadata:deserializeMetadata(ts)}),os=expectNonNull(expectObject(await parseJsonBody(ts.body,rs)),"body"),ss=take(os,{ChannelArn:expectString,Member:_json,Preferences:_json});return Object.assign(ns,ss),ns},de_PutMessagingStreamingConfigurationsCommand=async(ts,rs)=>{if(ts.statusCode!==200&&ts.statusCode>=300)return de_CommandError(ts,rs);const ns=map({$metadata:deserializeMetadata(ts)}),os=expectNonNull(expectObject(await parseJsonBody(ts.body,rs)),"body"),ss=take(os,{StreamingConfigurations:_json});return Object.assign(ns,ss),ns},de_RedactChannelMessageCommand=async(ts,rs)=>{if(ts.statusCode!==200&&ts.statusCode>=300)return de_CommandError(ts,rs);const ns=map({$metadata:deserializeMetadata(ts)}),os=expectNonNull(expectObject(await parseJsonBody(ts.body,rs)),"body"),ss=take(os,{ChannelArn:expectString,MessageId:expectString,SubChannelId:expectString});return Object.assign(ns,ss),ns},de_SearchChannelsCommand=async(ts,rs)=>{if(ts.statusCode!==200&&ts.statusCode>=300)return de_CommandError(ts,rs);const ns=map({$metadata:deserializeMetadata(ts)}),os=expectNonNull(expectObject(await parseJsonBody(ts.body,rs)),"body"),ss=take(os,{Channels:as=>de_ChannelSummaryList(as),NextToken:expectString});return Object.assign(ns,ss),ns},de_SendChannelMessageCommand=async(ts,rs)=>{if(ts.statusCode!==201&&ts.statusCode>=300)return de_CommandError(ts,rs);const ns=map({$metadata:deserializeMetadata(ts)}),os=expectNonNull(expectObject(await parseJsonBody(ts.body,rs)),"body"),ss=take(os,{ChannelArn:expectString,MessageId:expectString,Status:_json,SubChannelId:expectString});return Object.assign(ns,ss),ns},de_TagResourceCommand=async(ts,rs)=>{if(ts.statusCode!==204&&ts.statusCode>=300)return de_CommandError(ts,rs);const ns=map({$metadata:deserializeMetadata(ts)});return await collectBody(ts.body,rs),ns},de_UntagResourceCommand=async(ts,rs)=>{if(ts.statusCode!==204&&ts.statusCode>=300)return de_CommandError(ts,rs);const ns=map({$metadata:deserializeMetadata(ts)});return await collectBody(ts.body,rs),ns},de_UpdateChannelCommand=async(ts,rs)=>{if(ts.statusCode!==200&&ts.statusCode>=300)return de_CommandError(ts,rs);const ns=map({$metadata:deserializeMetadata(ts)}),os=expectNonNull(expectObject(await parseJsonBody(ts.body,rs)),"body"),ss=take(os,{ChannelArn:expectString});return Object.assign(ns,ss),ns},de_UpdateChannelFlowCommand=async(ts,rs)=>{if(ts.statusCode!==200&&ts.statusCode>=300)return de_CommandError(ts,rs);const ns=map({$metadata:deserializeMetadata(ts)}),os=expectNonNull(expectObject(await parseJsonBody(ts.body,rs)),"body"),ss=take(os,{ChannelFlowArn:expectString});return Object.assign(ns,ss),ns},de_UpdateChannelMessageCommand=async(ts,rs)=>{if(ts.statusCode!==200&&ts.statusCode>=300)return de_CommandError(ts,rs);const ns=map({$metadata:deserializeMetadata(ts)}),os=expectNonNull(expectObject(await parseJsonBody(ts.body,rs)),"body"),ss=take(os,{ChannelArn:expectString,MessageId:expectString,Status:_json,SubChannelId:expectString});return Object.assign(ns,ss),ns},de_UpdateChannelReadMarkerCommand=async(ts,rs)=>{if(ts.statusCode!==200&&ts.statusCode>=300)return de_CommandError(ts,rs);const ns=map({$metadata:deserializeMetadata(ts)}),os=expectNonNull(expectObject(await parseJsonBody(ts.body,rs)),"body"),ss=take(os,{ChannelArn:expectString});return Object.assign(ns,ss),ns},de_CommandError=async(ts,rs)=>{const ns={...ts,body:await parseJsonErrorBody(ts.body,rs)},os=loadRestJsonErrorCode(ts,ns.body);switch(os){case"BadRequestException":case"com.amazonaws.chimesdkmessaging#BadRequestException":throw await de_BadRequestExceptionRes(ns);case"ConflictException":case"com.amazonaws.chimesdkmessaging#ConflictException":throw await de_ConflictExceptionRes(ns);case"ForbiddenException":case"com.amazonaws.chimesdkmessaging#ForbiddenException":throw await de_ForbiddenExceptionRes(ns);case"NotFoundException":case"com.amazonaws.chimesdkmessaging#NotFoundException":throw await de_NotFoundExceptionRes(ns);case"ServiceFailureException":case"com.amazonaws.chimesdkmessaging#ServiceFailureException":throw await de_ServiceFailureExceptionRes(ns);case"ServiceUnavailableException":case"com.amazonaws.chimesdkmessaging#ServiceUnavailableException":throw await de_ServiceUnavailableExceptionRes(ns);case"ThrottledClientException":case"com.amazonaws.chimesdkmessaging#ThrottledClientException":throw await de_ThrottledClientExceptionRes(ns);case"UnauthorizedClientException":case"com.amazonaws.chimesdkmessaging#UnauthorizedClientException":throw await de_UnauthorizedClientExceptionRes(ns);case"ResourceLimitExceededException":case"com.amazonaws.chimesdkmessaging#ResourceLimitExceededException":throw await de_ResourceLimitExceededExceptionRes(ns);default:const ss=ns.body;return throwDefaultError({output:ts,parsedBody:ss,errorCode:os})}},throwDefaultError=withBaseException(ChimeSDKMessagingServiceException),de_BadRequestExceptionRes=async(ts,rs)=>{const ns=map({}),os=ts.body,ss=take(os,{Code:expectString,Message:expectString});Object.assign(ns,ss);const as=new BadRequestException({$metadata:deserializeMetadata(ts),...ns});return decorateServiceException(as,ts.body)},de_ConflictExceptionRes=async(ts,rs)=>{const ns=map({}),os=ts.body,ss=take(os,{Code:expectString,Message:expectString});Object.assign(ns,ss);const as=new ConflictException({$metadata:deserializeMetadata(ts),...ns});return decorateServiceException(as,ts.body)},de_ForbiddenExceptionRes=async(ts,rs)=>{const ns=map({}),os=ts.body,ss=take(os,{Code:expectString,Message:expectString});Object.assign(ns,ss);const as=new ForbiddenException({$metadata:deserializeMetadata(ts),...ns});return decorateServiceException(as,ts.body)},de_NotFoundExceptionRes=async(ts,rs)=>{const ns=map({}),os=ts.body,ss=take(os,{Code:expectString,Message:expectString});Object.assign(ns,ss);const as=new NotFoundException({$metadata:deserializeMetadata(ts),...ns});return decorateServiceException(as,ts.body)},de_ResourceLimitExceededExceptionRes=async(ts,rs)=>{const ns=map({}),os=ts.body,ss=take(os,{Code:expectString,Message:expectString});Object.assign(ns,ss);const as=new ResourceLimitExceededException({$metadata:deserializeMetadata(ts),...ns});return decorateServiceException(as,ts.body)},de_ServiceFailureExceptionRes=async(ts,rs)=>{const ns=map({}),os=ts.body,ss=take(os,{Code:expectString,Message:expectString});Object.assign(ns,ss);const as=new ServiceFailureException({$metadata:deserializeMetadata(ts),...ns});return decorateServiceException(as,ts.body)},de_ServiceUnavailableExceptionRes=async(ts,rs)=>{const ns=map({}),os=ts.body,ss=take(os,{Code:expectString,Message:expectString});Object.assign(ns,ss);const as=new ServiceUnavailableException({$metadata:deserializeMetadata(ts),...ns});return decorateServiceException(as,ts.body)},de_ThrottledClientExceptionRes=async(ts,rs)=>{const ns=map({}),os=ts.body,ss=take(os,{Code:expectString,Message:expectString});Object.assign(ns,ss);const as=new ThrottledClientException({$metadata:deserializeMetadata(ts),...ns});return decorateServiceException(as,ts.body)},de_UnauthorizedClientExceptionRes=async(ts,rs)=>{const ns=map({}),os=ts.body,ss=take(os,{Code:expectString,Message:expectString});Object.assign(ns,ss);const as=new UnauthorizedClientException({$metadata:deserializeMetadata(ts),...ns});return decorateServiceException(as,ts.body)},de_AppInstanceUserMembershipSummary=(ts,rs)=>take(ts,{ReadMarkerTimestamp:ns=>expectNonNull(parseEpochTimestamp(expectNumber(ns))),SubChannelId:expectString,Type:expectString}),de_Channel=(ts,rs)=>take(ts,{ChannelArn:expectString,ChannelFlowArn:expectString,CreatedBy:_json,CreatedTimestamp:ns=>expectNonNull(parseEpochTimestamp(expectNumber(ns))),ElasticChannelConfiguration:_json,ExpirationSettings:_json,LastMessageTimestamp:ns=>expectNonNull(parseEpochTimestamp(expectNumber(ns))),LastUpdatedTimestamp:ns=>expectNonNull(parseEpochTimestamp(expectNumber(ns))),Metadata:expectString,Mode:expectString,Name:expectString,Privacy:expectString}),de_ChannelBan=(ts,rs)=>take(ts,{ChannelArn:expectString,CreatedBy:_json,CreatedTimestamp:ns=>expectNonNull(parseEpochTimestamp(expectNumber(ns))),Member:_json}),de_ChannelFlow=(ts,rs)=>take(ts,{ChannelFlowArn:expectString,CreatedTimestamp:ns=>expectNonNull(parseEpochTimestamp(expectNumber(ns))),LastUpdatedTimestamp:ns=>expectNonNull(parseEpochTimestamp(expectNumber(ns))),Name:expectString,Processors:_json}),de_ChannelMembership=(ts,rs)=>take(ts,{ChannelArn:expectString,CreatedTimestamp:ns=>expectNonNull(parseEpochTimestamp(expectNumber(ns))),InvitedBy:_json,LastUpdatedTimestamp:ns=>expectNonNull(parseEpochTimestamp(expectNumber(ns))),Member:_json,SubChannelId:expectString,Type:expectString}),de_ChannelMembershipForAppInstanceUserSummary=(ts,rs)=>take(ts,{AppInstanceUserMembershipSummary:ns=>de_AppInstanceUserMembershipSummary(ns),ChannelSummary:ns=>de_ChannelSummary(ns)}),de_ChannelMembershipForAppInstanceUserSummaryList=(ts,rs)=>(ts||[]).filter(os=>os!=null).map(os=>de_ChannelMembershipForAppInstanceUserSummary(os)),de_ChannelMessage=(ts,rs)=>take(ts,{ChannelArn:expectString,Content:expectString,ContentType:expectString,CreatedTimestamp:ns=>expectNonNull(parseEpochTimestamp(expectNumber(ns))),LastEditedTimestamp:ns=>expectNonNull(parseEpochTimestamp(expectNumber(ns))),LastUpdatedTimestamp:ns=>expectNonNull(parseEpochTimestamp(expectNumber(ns))),MessageAttributes:_json,MessageId:expectString,Metadata:expectString,Persistence:expectString,Redacted:expectBoolean,Sender:_json,Status:_json,SubChannelId:expectString,Target:_json,Type:expectString}),de_ChannelMessageSummary=(ts,rs)=>take(ts,{Content:expectString,ContentType:expectString,CreatedTimestamp:ns=>expectNonNull(parseEpochTimestamp(expectNumber(ns))),LastEditedTimestamp:ns=>expectNonNull(parseEpochTimestamp(expectNumber(ns))),LastUpdatedTimestamp:ns=>expectNonNull(parseEpochTimestamp(expectNumber(ns))),MessageAttributes:_json,MessageId:expectString,Metadata:expectString,Redacted:expectBoolean,Sender:_json,Status:_json,Target:_json,Type:expectString}),de_ChannelMessageSummaryList=(ts,rs)=>(ts||[]).filter(os=>os!=null).map(os=>de_ChannelMessageSummary(os)),de_ChannelModeratedByAppInstanceUserSummary=(ts,rs)=>take(ts,{ChannelSummary:ns=>de_ChannelSummary(ns)}),de_ChannelModeratedByAppInstanceUserSummaryList=(ts,rs)=>(ts||[]).filter(os=>os!=null).map(os=>de_ChannelModeratedByAppInstanceUserSummary(os)),de_ChannelModerator=(ts,rs)=>take(ts,{ChannelArn:expectString,CreatedBy:_json,CreatedTimestamp:ns=>expectNonNull(parseEpochTimestamp(expectNumber(ns))),Moderator:_json}),de_ChannelSummary=(ts,rs)=>take(ts,{ChannelArn:expectString,LastMessageTimestamp:ns=>expectNonNull(parseEpochTimestamp(expectNumber(ns))),Metadata:expectString,Mode:expectString,Name:expectString,Privacy:expectString}),de_ChannelSummaryList=(ts,rs)=>(ts||[]).filter(os=>os!=null).map(os=>de_ChannelSummary(os)),deserializeMetadata=ts=>{var rs,ns;return{httpStatusCode:ts.statusCode,requestId:(ns=(rs=ts.headers["x-amzn-requestid"])!=null?rs:ts.headers["x-amzn-request-id"])!=null?ns:ts.headers["x-amz-request-id"],extendedRequestId:ts.headers["x-amz-id-2"],cfId:ts.headers["x-amz-cf-id"]}},isSerializableHeaderValue=ts=>ts!=null&&ts!==""&&(!Object.getOwnPropertyNames(ts).includes("length")||ts.length!=0)&&(!Object.getOwnPropertyNames(ts).includes("size")||ts.size!=0),_AIA="AppInstanceArn",_AIUA="AppInstanceUserArn",_CB="ChimeBearer",_CFA="ChannelFlowArn",_MR="MaxResults",_NA="NotAfter",_NB="NotBefore",_NT="NextToken",_P="Privacy",_RARN="ResourceARN",_SCI="SubChannelId",_SO="SortOrder",_T="Type",_a="arn",_aia="app-instance-arn",_aiua="app-instance-user-arn",_cfa="channel-flow-arn",_mr="max-results",_na="not-after",_nb="not-before",_nt="next-token",_o="operation",_p="privacy",_s="scope",_sci="sub-channel-id",_so="sort-order",_t="type",_xacb="x-amz-chime-bearer";class AssociateChannelFlowCommand extends Command.classBuilder().ep({...commonParams}).m(function(rs,ns,os,ss){return[getSerdePlugin(os,this.serialize,this.deserialize),getEndpointPlugin(os,rs.getEndpointParameterInstructions())]}).s("ChimeMessagingService","AssociateChannelFlow",{}).n("ChimeSDKMessagingClient","AssociateChannelFlowCommand").f(void 0,void 0).ser(se_AssociateChannelFlowCommand).de(de_AssociateChannelFlowCommand).build(){}class BatchCreateChannelMembershipCommand extends Command.classBuilder().ep({...commonParams}).m(function(rs,ns,os,ss){return[getSerdePlugin(os,this.serialize,this.deserialize),getEndpointPlugin(os,rs.getEndpointParameterInstructions())]}).s("ChimeMessagingService","BatchCreateChannelMembership",{}).n("ChimeSDKMessagingClient","BatchCreateChannelMembershipCommand").f(void 0,BatchCreateChannelMembershipResponseFilterSensitiveLog).ser(se_BatchCreateChannelMembershipCommand).de(de_BatchCreateChannelMembershipCommand).build(){}class ChannelFlowCallbackCommand extends Command.classBuilder().ep({...commonParams}).m(function(rs,ns,os,ss){return[getSerdePlugin(os,this.serialize,this.deserialize),getEndpointPlugin(os,rs.getEndpointParameterInstructions())]}).s("ChimeMessagingService","ChannelFlowCallback",{}).n("ChimeSDKMessagingClient","ChannelFlowCallbackCommand").f(ChannelFlowCallbackRequestFilterSensitiveLog,void 0).ser(se_ChannelFlowCallbackCommand).de(de_ChannelFlowCallbackCommand).build(){}class CreateChannelBanCommand extends Command.classBuilder().ep({...commonParams}).m(function(rs,ns,os,ss){return[getSerdePlugin(os,this.serialize,this.deserialize),getEndpointPlugin(os,rs.getEndpointParameterInstructions())]}).s("ChimeMessagingService","CreateChannelBan",{}).n("ChimeSDKMessagingClient","CreateChannelBanCommand").f(void 0,CreateChannelBanResponseFilterSensitiveLog).ser(se_CreateChannelBanCommand).de(de_CreateChannelBanCommand).build(){}class CreateChannelCommand extends Command.classBuilder().ep({...commonParams}).m(function(rs,ns,os,ss){return[getSerdePlugin(os,this.serialize,this.deserialize),getEndpointPlugin(os,rs.getEndpointParameterInstructions())]}).s("ChimeMessagingService","CreateChannel",{}).n("ChimeSDKMessagingClient","CreateChannelCommand").f(CreateChannelRequestFilterSensitiveLog,void 0).ser(se_CreateChannelCommand).de(de_CreateChannelCommand).build(){}class CreateChannelFlowCommand extends Command.classBuilder().ep({...commonParams}).m(function(rs,ns,os,ss){return[getSerdePlugin(os,this.serialize,this.deserialize),getEndpointPlugin(os,rs.getEndpointParameterInstructions())]}).s("ChimeMessagingService","CreateChannelFlow",{}).n("ChimeSDKMessagingClient","CreateChannelFlowCommand").f(CreateChannelFlowRequestFilterSensitiveLog,void 0).ser(se_CreateChannelFlowCommand).de(de_CreateChannelFlowCommand).build(){}class CreateChannelMembershipCommand extends Command.classBuilder().ep({...commonParams}).m(function(rs,ns,os,ss){return[getSerdePlugin(os,this.serialize,this.deserialize),getEndpointPlugin(os,rs.getEndpointParameterInstructions())]}).s("ChimeMessagingService","CreateChannelMembership",{}).n("ChimeSDKMessagingClient","CreateChannelMembershipCommand").f(void 0,CreateChannelMembershipResponseFilterSensitiveLog).ser(se_CreateChannelMembershipCommand).de(de_CreateChannelMembershipCommand).build(){}class CreateChannelModeratorCommand extends Command.classBuilder().ep({...commonParams}).m(function(rs,ns,os,ss){return[getSerdePlugin(os,this.serialize,this.deserialize),getEndpointPlugin(os,rs.getEndpointParameterInstructions())]}).s("ChimeMessagingService","CreateChannelModerator",{}).n("ChimeSDKMessagingClient","CreateChannelModeratorCommand").f(void 0,CreateChannelModeratorResponseFilterSensitiveLog).ser(se_CreateChannelModeratorCommand).de(de_CreateChannelModeratorCommand).build(){}class DeleteChannelBanCommand extends Command.classBuilder().ep({...commonParams}).m(function(rs,ns,os,ss){return[getSerdePlugin(os,this.serialize,this.deserialize),getEndpointPlugin(os,rs.getEndpointParameterInstructions())]}).s("ChimeMessagingService","DeleteChannelBan",{}).n("ChimeSDKMessagingClient","DeleteChannelBanCommand").f(void 0,void 0).ser(se_DeleteChannelBanCommand).de(de_DeleteChannelBanCommand).build(){}class DeleteChannelCommand extends Command.classBuilder().ep({...commonParams}).m(function(rs,ns,os,ss){return[getSerdePlugin(os,this.serialize,this.deserialize),getEndpointPlugin(os,rs.getEndpointParameterInstructions())]}).s("ChimeMessagingService","DeleteChannel",{}).n("ChimeSDKMessagingClient","DeleteChannelCommand").f(void 0,void 0).ser(se_DeleteChannelCommand).de(de_DeleteChannelCommand).build(){}class DeleteChannelFlowCommand extends Command.classBuilder().ep({...commonParams}).m(function(rs,ns,os,ss){return[getSerdePlugin(os,this.serialize,this.deserialize),getEndpointPlugin(os,rs.getEndpointParameterInstructions())]}).s("ChimeMessagingService","DeleteChannelFlow",{}).n("ChimeSDKMessagingClient","DeleteChannelFlowCommand").f(void 0,void 0).ser(se_DeleteChannelFlowCommand).de(de_DeleteChannelFlowCommand).build(){}class DeleteChannelMembershipCommand extends Command.classBuilder().ep({...commonParams}).m(function(rs,ns,os,ss){return[getSerdePlugin(os,this.serialize,this.deserialize),getEndpointPlugin(os,rs.getEndpointParameterInstructions())]}).s("ChimeMessagingService","DeleteChannelMembership",{}).n("ChimeSDKMessagingClient","DeleteChannelMembershipCommand").f(void 0,void 0).ser(se_DeleteChannelMembershipCommand).de(de_DeleteChannelMembershipCommand).build(){}class DeleteChannelMessageCommand extends Command.classBuilder().ep({...commonParams}).m(function(rs,ns,os,ss){return[getSerdePlugin(os,this.serialize,this.deserialize),getEndpointPlugin(os,rs.getEndpointParameterInstructions())]}).s("ChimeMessagingService","DeleteChannelMessage",{}).n("ChimeSDKMessagingClient","DeleteChannelMessageCommand").f(void 0,void 0).ser(se_DeleteChannelMessageCommand).de(de_DeleteChannelMessageCommand).build(){}class DeleteChannelModeratorCommand extends Command.classBuilder().ep({...commonParams}).m(function(rs,ns,os,ss){return[getSerdePlugin(os,this.serialize,this.deserialize),getEndpointPlugin(os,rs.getEndpointParameterInstructions())]}).s("ChimeMessagingService","DeleteChannelModerator",{}).n("ChimeSDKMessagingClient","DeleteChannelModeratorCommand").f(void 0,void 0).ser(se_DeleteChannelModeratorCommand).de(de_DeleteChannelModeratorCommand).build(){}class DeleteMessagingStreamingConfigurationsCommand extends Command.classBuilder().ep({...commonParams}).m(function(rs,ns,os,ss){return[getSerdePlugin(os,this.serialize,this.deserialize),getEndpointPlugin(os,rs.getEndpointParameterInstructions())]}).s("ChimeMessagingService","DeleteMessagingStreamingConfigurations",{}).n("ChimeSDKMessagingClient","DeleteMessagingStreamingConfigurationsCommand").f(void 0,void 0).ser(se_DeleteMessagingStreamingConfigurationsCommand).de(de_DeleteMessagingStreamingConfigurationsCommand).build(){}class DescribeChannelBanCommand extends Command.classBuilder().ep({...commonParams}).m(function(rs,ns,os,ss){return[getSerdePlugin(os,this.serialize,this.deserialize),getEndpointPlugin(os,rs.getEndpointParameterInstructions())]}).s("ChimeMessagingService","DescribeChannelBan",{}).n("ChimeSDKMessagingClient","DescribeChannelBanCommand").f(void 0,DescribeChannelBanResponseFilterSensitiveLog).ser(se_DescribeChannelBanCommand).de(de_DescribeChannelBanCommand).build(){}class DescribeChannelCommand extends Command.classBuilder().ep({...commonParams}).m(function(rs,ns,os,ss){return[getSerdePlugin(os,this.serialize,this.deserialize),getEndpointPlugin(os,rs.getEndpointParameterInstructions())]}).s("ChimeMessagingService","DescribeChannel",{}).n("ChimeSDKMessagingClient","DescribeChannelCommand").f(void 0,DescribeChannelResponseFilterSensitiveLog).ser(se_DescribeChannelCommand).de(de_DescribeChannelCommand).build(){}class DescribeChannelFlowCommand extends Command.classBuilder().ep({...commonParams}).m(function(rs,ns,os,ss){return[getSerdePlugin(os,this.serialize,this.deserialize),getEndpointPlugin(os,rs.getEndpointParameterInstructions())]}).s("ChimeMessagingService","DescribeChannelFlow",{}).n("ChimeSDKMessagingClient","DescribeChannelFlowCommand").f(void 0,DescribeChannelFlowResponseFilterSensitiveLog).ser(se_DescribeChannelFlowCommand).de(de_DescribeChannelFlowCommand).build(){}class DescribeChannelMembershipCommand extends Command.classBuilder().ep({...commonParams}).m(function(rs,ns,os,ss){return[getSerdePlugin(os,this.serialize,this.deserialize),getEndpointPlugin(os,rs.getEndpointParameterInstructions())]}).s("ChimeMessagingService","DescribeChannelMembership",{}).n("ChimeSDKMessagingClient","DescribeChannelMembershipCommand").f(void 0,DescribeChannelMembershipResponseFilterSensitiveLog).ser(se_DescribeChannelMembershipCommand).de(de_DescribeChannelMembershipCommand).build(){}class DescribeChannelMembershipForAppInstanceUserCommand extends Command.classBuilder().ep({...commonParams}).m(function(rs,ns,os,ss){return[getSerdePlugin(os,this.serialize,this.deserialize),getEndpointPlugin(os,rs.getEndpointParameterInstructions())]}).s("ChimeMessagingService","DescribeChannelMembershipForAppInstanceUser",{}).n("ChimeSDKMessagingClient","DescribeChannelMembershipForAppInstanceUserCommand").f(void 0,DescribeChannelMembershipForAppInstanceUserResponseFilterSensitiveLog).ser(se_DescribeChannelMembershipForAppInstanceUserCommand).de(de_DescribeChannelMembershipForAppInstanceUserCommand).build(){}class DescribeChannelModeratedByAppInstanceUserCommand extends Command.classBuilder().ep({...commonParams}).m(function(rs,ns,os,ss){return[getSerdePlugin(os,this.serialize,this.deserialize),getEndpointPlugin(os,rs.getEndpointParameterInstructions())]}).s("ChimeMessagingService","DescribeChannelModeratedByAppInstanceUser",{}).n("ChimeSDKMessagingClient","DescribeChannelModeratedByAppInstanceUserCommand").f(void 0,DescribeChannelModeratedByAppInstanceUserResponseFilterSensitiveLog).ser(se_DescribeChannelModeratedByAppInstanceUserCommand).de(de_DescribeChannelModeratedByAppInstanceUserCommand).build(){}class DescribeChannelModeratorCommand extends Command.classBuilder().ep({...commonParams}).m(function(rs,ns,os,ss){return[getSerdePlugin(os,this.serialize,this.deserialize),getEndpointPlugin(os,rs.getEndpointParameterInstructions())]}).s("ChimeMessagingService","DescribeChannelModerator",{}).n("ChimeSDKMessagingClient","DescribeChannelModeratorCommand").f(void 0,DescribeChannelModeratorResponseFilterSensitiveLog).ser(se_DescribeChannelModeratorCommand).de(de_DescribeChannelModeratorCommand).build(){}class DisassociateChannelFlowCommand extends Command.classBuilder().ep({...commonParams}).m(function(rs,ns,os,ss){return[getSerdePlugin(os,this.serialize,this.deserialize),getEndpointPlugin(os,rs.getEndpointParameterInstructions())]}).s("ChimeMessagingService","DisassociateChannelFlow",{}).n("ChimeSDKMessagingClient","DisassociateChannelFlowCommand").f(void 0,void 0).ser(se_DisassociateChannelFlowCommand).de(de_DisassociateChannelFlowCommand).build(){}class GetChannelMembershipPreferencesCommand extends Command.classBuilder().ep({...commonParams}).m(function(rs,ns,os,ss){return[getSerdePlugin(os,this.serialize,this.deserialize),getEndpointPlugin(os,rs.getEndpointParameterInstructions())]}).s("ChimeMessagingService","GetChannelMembershipPreferences",{}).n("ChimeSDKMessagingClient","GetChannelMembershipPreferencesCommand").f(void 0,GetChannelMembershipPreferencesResponseFilterSensitiveLog).ser(se_GetChannelMembershipPreferencesCommand).de(de_GetChannelMembershipPreferencesCommand).build(){}class GetChannelMessageCommand extends Command.classBuilder().ep({...commonParams}).m(function(rs,ns,os,ss){return[getSerdePlugin(os,this.serialize,this.deserialize),getEndpointPlugin(os,rs.getEndpointParameterInstructions())]}).s("ChimeMessagingService","GetChannelMessage",{}).n("ChimeSDKMessagingClient","GetChannelMessageCommand").f(void 0,GetChannelMessageResponseFilterSensitiveLog).ser(se_GetChannelMessageCommand).de(de_GetChannelMessageCommand).build(){}class GetChannelMessageStatusCommand extends Command.classBuilder().ep({...commonParams}).m(function(rs,ns,os,ss){return[getSerdePlugin(os,this.serialize,this.deserialize),getEndpointPlugin(os,rs.getEndpointParameterInstructions())]}).s("ChimeMessagingService","GetChannelMessageStatus",{}).n("ChimeSDKMessagingClient","GetChannelMessageStatusCommand").f(void 0,void 0).ser(se_GetChannelMessageStatusCommand).de(de_GetChannelMessageStatusCommand).build(){}class GetMessagingSessionEndpointCommand extends Command.classBuilder().ep({...commonParams}).m(function(rs,ns,os,ss){return[getSerdePlugin(os,this.serialize,this.deserialize),getEndpointPlugin(os,rs.getEndpointParameterInstructions())]}).s("ChimeMessagingService","GetMessagingSessionEndpoint",{}).n("ChimeSDKMessagingClient","GetMessagingSessionEndpointCommand").f(void 0,void 0).ser(se_GetMessagingSessionEndpointCommand).de(de_GetMessagingSessionEndpointCommand).build(){}class GetMessagingStreamingConfigurationsCommand extends Command.classBuilder().ep({...commonParams}).m(function(rs,ns,os,ss){return[getSerdePlugin(os,this.serialize,this.deserialize),getEndpointPlugin(os,rs.getEndpointParameterInstructions())]}).s("ChimeMessagingService","GetMessagingStreamingConfigurations",{}).n("ChimeSDKMessagingClient","GetMessagingStreamingConfigurationsCommand").f(void 0,void 0).ser(se_GetMessagingStreamingConfigurationsCommand).de(de_GetMessagingStreamingConfigurationsCommand).build(){}class ListChannelBansCommand extends Command.classBuilder().ep({...commonParams}).m(function(rs,ns,os,ss){return[getSerdePlugin(os,this.serialize,this.deserialize),getEndpointPlugin(os,rs.getEndpointParameterInstructions())]}).s("ChimeMessagingService","ListChannelBans",{}).n("ChimeSDKMessagingClient","ListChannelBansCommand").f(ListChannelBansRequestFilterSensitiveLog,ListChannelBansResponseFilterSensitiveLog).ser(se_ListChannelBansCommand).de(de_ListChannelBansCommand).build(){}class ListChannelFlowsCommand extends Command.classBuilder().ep({...commonParams}).m(function(rs,ns,os,ss){return[getSerdePlugin(os,this.serialize,this.deserialize),getEndpointPlugin(os,rs.getEndpointParameterInstructions())]}).s("ChimeMessagingService","ListChannelFlows",{}).n("ChimeSDKMessagingClient","ListChannelFlowsCommand").f(ListChannelFlowsRequestFilterSensitiveLog,ListChannelFlowsResponseFilterSensitiveLog).ser(se_ListChannelFlowsCommand).de(de_ListChannelFlowsCommand).build(){}class ListChannelMembershipsCommand extends Command.classBuilder().ep({...commonParams}).m(function(rs,ns,os,ss){return[getSerdePlugin(os,this.serialize,this.deserialize),getEndpointPlugin(os,rs.getEndpointParameterInstructions())]}).s("ChimeMessagingService","ListChannelMemberships",{}).n("ChimeSDKMessagingClient","ListChannelMembershipsCommand").f(ListChannelMembershipsRequestFilterSensitiveLog,ListChannelMembershipsResponseFilterSensitiveLog).ser(se_ListChannelMembershipsCommand).de(de_ListChannelMembershipsCommand).build(){}class ListChannelMembershipsForAppInstanceUserCommand extends Command.classBuilder().ep({...commonParams}).m(function(rs,ns,os,ss){return[getSerdePlugin(os,this.serialize,this.deserialize),getEndpointPlugin(os,rs.getEndpointParameterInstructions())]}).s("ChimeMessagingService","ListChannelMembershipsForAppInstanceUser",{}).n("ChimeSDKMessagingClient","ListChannelMembershipsForAppInstanceUserCommand").f(ListChannelMembershipsForAppInstanceUserRequestFilterSensitiveLog,ListChannelMembershipsForAppInstanceUserResponseFilterSensitiveLog).ser(se_ListChannelMembershipsForAppInstanceUserCommand).de(de_ListChannelMembershipsForAppInstanceUserCommand).build(){}class ListChannelMessagesCommand extends Command.classBuilder().ep({...commonParams}).m(function(rs,ns,os,ss){return[getSerdePlugin(os,this.serialize,this.deserialize),getEndpointPlugin(os,rs.getEndpointParameterInstructions())]}).s("ChimeMessagingService","ListChannelMessages",{}).n("ChimeSDKMessagingClient","ListChannelMessagesCommand").f(ListChannelMessagesRequestFilterSensitiveLog,ListChannelMessagesResponseFilterSensitiveLog).ser(se_ListChannelMessagesCommand).de(de_ListChannelMessagesCommand).build(){}class ListChannelModeratorsCommand extends Command.classBuilder().ep({...commonParams}).m(function(rs,ns,os,ss){return[getSerdePlugin(os,this.serialize,this.deserialize),getEndpointPlugin(os,rs.getEndpointParameterInstructions())]}).s("ChimeMessagingService","ListChannelModerators",{}).n("ChimeSDKMessagingClient","ListChannelModeratorsCommand").f(ListChannelModeratorsRequestFilterSensitiveLog,ListChannelModeratorsResponseFilterSensitiveLog).ser(se_ListChannelModeratorsCommand).de(de_ListChannelModeratorsCommand).build(){}class ListChannelsAssociatedWithChannelFlowCommand extends Command.classBuilder().ep({...commonParams}).m(function(rs,ns,os,ss){return[getSerdePlugin(os,this.serialize,this.deserialize),getEndpointPlugin(os,rs.getEndpointParameterInstructions())]}).s("ChimeMessagingService","ListChannelsAssociatedWithChannelFlow",{}).n("ChimeSDKMessagingClient","ListChannelsAssociatedWithChannelFlowCommand").f(ListChannelsAssociatedWithChannelFlowRequestFilterSensitiveLog,ListChannelsAssociatedWithChannelFlowResponseFilterSensitiveLog).ser(se_ListChannelsAssociatedWithChannelFlowCommand).de(de_ListChannelsAssociatedWithChannelFlowCommand).build(){}class ListChannelsCommand extends Command.classBuilder().ep({...commonParams}).m(function(rs,ns,os,ss){return[getSerdePlugin(os,this.serialize,this.deserialize),getEndpointPlugin(os,rs.getEndpointParameterInstructions())]}).s("ChimeMessagingService","ListChannels",{}).n("ChimeSDKMessagingClient","ListChannelsCommand").f(ListChannelsRequestFilterSensitiveLog,ListChannelsResponseFilterSensitiveLog).ser(se_ListChannelsCommand).de(de_ListChannelsCommand).build(){}class ListChannelsModeratedByAppInstanceUserCommand extends Command.classBuilder().ep({...commonParams}).m(function(rs,ns,os,ss){return[getSerdePlugin(os,this.serialize,this.deserialize),getEndpointPlugin(os,rs.getEndpointParameterInstructions())]}).s("ChimeMessagingService","ListChannelsModeratedByAppInstanceUser",{}).n("ChimeSDKMessagingClient","ListChannelsModeratedByAppInstanceUserCommand").f(ListChannelsModeratedByAppInstanceUserRequestFilterSensitiveLog,ListChannelsModeratedByAppInstanceUserResponseFilterSensitiveLog).ser(se_ListChannelsModeratedByAppInstanceUserCommand).de(de_ListChannelsModeratedByAppInstanceUserCommand).build(){}class ListSubChannelsCommand extends Command.classBuilder().ep({...commonParams}).m(function(rs,ns,os,ss){return[getSerdePlugin(os,this.serialize,this.deserialize),getEndpointPlugin(os,rs.getEndpointParameterInstructions())]}).s("ChimeMessagingService","ListSubChannels",{}).n("ChimeSDKMessagingClient","ListSubChannelsCommand").f(ListSubChannelsRequestFilterSensitiveLog,ListSubChannelsResponseFilterSensitiveLog).ser(se_ListSubChannelsCommand).de(de_ListSubChannelsCommand).build(){}class ListTagsForResourceCommand extends Command.classBuilder().ep({...commonParams}).m(function(rs,ns,os,ss){return[getSerdePlugin(os,this.serialize,this.deserialize),getEndpointPlugin(os,rs.getEndpointParameterInstructions())]}).s("ChimeMessagingService","ListTagsForResource",{}).n("ChimeSDKMessagingClient","ListTagsForResourceCommand").f(void 0,ListTagsForResourceResponseFilterSensitiveLog).ser(se_ListTagsForResourceCommand).de(de_ListTagsForResourceCommand).build(){}class PutChannelExpirationSettingsCommand extends Command.classBuilder().ep({...commonParams}).m(function(rs,ns,os,ss){return[getSerdePlugin(os,this.serialize,this.deserialize),getEndpointPlugin(os,rs.getEndpointParameterInstructions())]}).s("ChimeMessagingService","PutChannelExpirationSettings",{}).n("ChimeSDKMessagingClient","PutChannelExpirationSettingsCommand").f(void 0,void 0).ser(se_PutChannelExpirationSettingsCommand).de(de_PutChannelExpirationSettingsCommand).build(){}class PutChannelMembershipPreferencesCommand extends Command.classBuilder().ep({...commonParams}).m(function(rs,ns,os,ss){return[getSerdePlugin(os,this.serialize,this.deserialize),getEndpointPlugin(os,rs.getEndpointParameterInstructions())]}).s("ChimeMessagingService","PutChannelMembershipPreferences",{}).n("ChimeSDKMessagingClient","PutChannelMembershipPreferencesCommand").f(PutChannelMembershipPreferencesRequestFilterSensitiveLog,PutChannelMembershipPreferencesResponseFilterSensitiveLog).ser(se_PutChannelMembershipPreferencesCommand).de(de_PutChannelMembershipPreferencesCommand).build(){}class PutMessagingStreamingConfigurationsCommand extends Command.classBuilder().ep({...commonParams}).m(function(rs,ns,os,ss){return[getSerdePlugin(os,this.serialize,this.deserialize),getEndpointPlugin(os,rs.getEndpointParameterInstructions())]}).s("ChimeMessagingService","PutMessagingStreamingConfigurations",{}).n("ChimeSDKMessagingClient","PutMessagingStreamingConfigurationsCommand").f(void 0,void 0).ser(se_PutMessagingStreamingConfigurationsCommand).de(de_PutMessagingStreamingConfigurationsCommand).build(){}class RedactChannelMessageCommand extends Command.classBuilder().ep({...commonParams}).m(function(rs,ns,os,ss){return[getSerdePlugin(os,this.serialize,this.deserialize),getEndpointPlugin(os,rs.getEndpointParameterInstructions())]}).s("ChimeMessagingService","RedactChannelMessage",{}).n("ChimeSDKMessagingClient","RedactChannelMessageCommand").f(void 0,void 0).ser(se_RedactChannelMessageCommand).de(de_RedactChannelMessageCommand).build(){}class SearchChannelsCommand extends Command.classBuilder().ep({...commonParams}).m(function(rs,ns,os,ss){return[getSerdePlugin(os,this.serialize,this.deserialize),getEndpointPlugin(os,rs.getEndpointParameterInstructions())]}).s("ChimeMessagingService","SearchChannels",{}).n("ChimeSDKMessagingClient","SearchChannelsCommand").f(SearchChannelsRequestFilterSensitiveLog,SearchChannelsResponseFilterSensitiveLog).ser(se_SearchChannelsCommand).de(de_SearchChannelsCommand).build(){}class SendChannelMessageCommand extends Command.classBuilder().ep({...commonParams}).m(function(rs,ns,os,ss){return[getSerdePlugin(os,this.serialize,this.deserialize),getEndpointPlugin(os,rs.getEndpointParameterInstructions())]}).s("ChimeMessagingService","SendChannelMessage",{}).n("ChimeSDKMessagingClient","SendChannelMessageCommand").f(SendChannelMessageRequestFilterSensitiveLog,void 0).ser(se_SendChannelMessageCommand).de(de_SendChannelMessageCommand).build(){}class TagResourceCommand extends Command.classBuilder().ep({...commonParams}).m(function(rs,ns,os,ss){return[getSerdePlugin(os,this.serialize,this.deserialize),getEndpointPlugin(os,rs.getEndpointParameterInstructions())]}).s("ChimeMessagingService","TagResource",{}).n("ChimeSDKMessagingClient","TagResourceCommand").f(TagResourceRequestFilterSensitiveLog,void 0).ser(se_TagResourceCommand).de(de_TagResourceCommand).build(){}class UntagResourceCommand extends Command.classBuilder().ep({...commonParams}).m(function(rs,ns,os,ss){return[getSerdePlugin(os,this.serialize,this.deserialize),getEndpointPlugin(os,rs.getEndpointParameterInstructions())]}).s("ChimeMessagingService","UntagResource",{}).n("ChimeSDKMessagingClient","UntagResourceCommand").f(UntagResourceRequestFilterSensitiveLog,void 0).ser(se_UntagResourceCommand).de(de_UntagResourceCommand).build(){}class UpdateChannelCommand extends Command.classBuilder().ep({...commonParams}).m(function(rs,ns,os,ss){return[getSerdePlugin(os,this.serialize,this.deserialize),getEndpointPlugin(os,rs.getEndpointParameterInstructions())]}).s("ChimeMessagingService","UpdateChannel",{}).n("ChimeSDKMessagingClient","UpdateChannelCommand").f(UpdateChannelRequestFilterSensitiveLog,void 0).ser(se_UpdateChannelCommand).de(de_UpdateChannelCommand).build(){}class UpdateChannelFlowCommand extends Command.classBuilder().ep({...commonParams}).m(function(rs,ns,os,ss){return[getSerdePlugin(os,this.serialize,this.deserialize),getEndpointPlugin(os,rs.getEndpointParameterInstructions())]}).s("ChimeMessagingService","UpdateChannelFlow",{}).n("ChimeSDKMessagingClient","UpdateChannelFlowCommand").f(UpdateChannelFlowRequestFilterSensitiveLog,void 0).ser(se_UpdateChannelFlowCommand).de(de_UpdateChannelFlowCommand).build(){}class UpdateChannelMessageCommand extends Command.classBuilder().ep({...commonParams}).m(function(rs,ns,os,ss){return[getSerdePlugin(os,this.serialize,this.deserialize),getEndpointPlugin(os,rs.getEndpointParameterInstructions())]}).s("ChimeMessagingService","UpdateChannelMessage",{}).n("ChimeSDKMessagingClient","UpdateChannelMessageCommand").f(UpdateChannelMessageRequestFilterSensitiveLog,void 0).ser(se_UpdateChannelMessageCommand).de(de_UpdateChannelMessageCommand).build(){}class UpdateChannelReadMarkerCommand extends Command.classBuilder().ep({...commonParams}).m(function(rs,ns,os,ss){return[getSerdePlugin(os,this.serialize,this.deserialize),getEndpointPlugin(os,rs.getEndpointParameterInstructions())]}).s("ChimeMessagingService","UpdateChannelReadMarker",{}).n("ChimeSDKMessagingClient","UpdateChannelReadMarkerCommand").f(void 0,void 0).ser(se_UpdateChannelReadMarkerCommand).de(de_UpdateChannelReadMarkerCommand).build(){}const commands={AssociateChannelFlowCommand,BatchCreateChannelMembershipCommand,ChannelFlowCallbackCommand,CreateChannelCommand,CreateChannelBanCommand,CreateChannelFlowCommand,CreateChannelMembershipCommand,CreateChannelModeratorCommand,DeleteChannelCommand,DeleteChannelBanCommand,DeleteChannelFlowCommand,DeleteChannelMembershipCommand,DeleteChannelMessageCommand,DeleteChannelModeratorCommand,DeleteMessagingStreamingConfigurationsCommand,DescribeChannelCommand,DescribeChannelBanCommand,DescribeChannelFlowCommand,DescribeChannelMembershipCommand,DescribeChannelMembershipForAppInstanceUserCommand,DescribeChannelModeratedByAppInstanceUserCommand,DescribeChannelModeratorCommand,DisassociateChannelFlowCommand,GetChannelMembershipPreferencesCommand,GetChannelMessageCommand,GetChannelMessageStatusCommand,GetMessagingSessionEndpointCommand,GetMessagingStreamingConfigurationsCommand,ListChannelBansCommand,ListChannelFlowsCommand,ListChannelMembershipsCommand,ListChannelMembershipsForAppInstanceUserCommand,ListChannelMessagesCommand,ListChannelModeratorsCommand,ListChannelsCommand,ListChannelsAssociatedWithChannelFlowCommand,ListChannelsModeratedByAppInstanceUserCommand,ListSubChannelsCommand,ListTagsForResourceCommand,PutChannelExpirationSettingsCommand,PutChannelMembershipPreferencesCommand,PutMessagingStreamingConfigurationsCommand,RedactChannelMessageCommand,SearchChannelsCommand,SendChannelMessageCommand,TagResourceCommand,UntagResourceCommand,UpdateChannelCommand,UpdateChannelFlowCommand,UpdateChannelMessageCommand,UpdateChannelReadMarkerCommand};class ChimeSDKMessaging extends ChimeSDKMessagingClient{}createAggregatedClient(commands,ChimeSDKMessaging);const paginateListChannelBans=createPaginator(ChimeSDKMessagingClient,ListChannelBansCommand,"NextToken","NextToken","MaxResults"),paginateListChannelFlows=createPaginator(ChimeSDKMessagingClient,ListChannelFlowsCommand,"NextToken","NextToken","MaxResults"),paginateListChannelMembershipsForAppInstanceUser=createPaginator(ChimeSDKMessagingClient,ListChannelMembershipsForAppInstanceUserCommand,"NextToken","NextToken","MaxResults"),paginateListChannelMemberships=createPaginator(ChimeSDKMessagingClient,ListChannelMembershipsCommand,"NextToken","NextToken","MaxResults"),paginateListChannelMessages=createPaginator(ChimeSDKMessagingClient,ListChannelMessagesCommand,"NextToken","NextToken","MaxResults"),paginateListChannelModerators=createPaginator(ChimeSDKMessagingClient,ListChannelModeratorsCommand,"NextToken","NextToken","MaxResults"),paginateListChannelsAssociatedWithChannelFlow=createPaginator(ChimeSDKMessagingClient,ListChannelsAssociatedWithChannelFlowCommand,"NextToken","NextToken","MaxResults"),paginateListChannelsModeratedByAppInstanceUser=createPaginator(ChimeSDKMessagingClient,ListChannelsModeratedByAppInstanceUserCommand,"NextToken","NextToken","MaxResults"),paginateListChannels=createPaginator(ChimeSDKMessagingClient,ListChannelsCommand,"NextToken","NextToken","MaxResults"),paginateListSubChannels=createPaginator(ChimeSDKMessagingClient,ListSubChannelsCommand,"NextToken","NextToken","MaxResults"),paginateSearchChannels=createPaginator(ChimeSDKMessagingClient,SearchChannelsCommand,"NextToken","NextToken","MaxResults"),distEs$2=Object.freeze(Object.defineProperty({__proto__:null,$Command:Command,AllowNotifications,AssociateChannelFlowCommand,BadRequestException,BatchChannelMembershipsFilterSensitiveLog,BatchCreateChannelMembershipCommand,BatchCreateChannelMembershipResponseFilterSensitiveLog,ChannelAssociatedWithFlowSummaryFilterSensitiveLog,ChannelBanFilterSensitiveLog,ChannelBanSummaryFilterSensitiveLog,ChannelFilterSensitiveLog,ChannelFlowCallbackCommand,ChannelFlowCallbackRequestFilterSensitiveLog,ChannelFlowFilterSensitiveLog,ChannelFlowSummaryFilterSensitiveLog,ChannelMembershipFilterSensitiveLog,ChannelMembershipForAppInstanceUserSummaryFilterSensitiveLog,ChannelMembershipPreferencesFilterSensitiveLog,ChannelMembershipSummaryFilterSensitiveLog,ChannelMembershipType,ChannelMessageCallbackFilterSensitiveLog,ChannelMessageFilterSensitiveLog,ChannelMessagePersistenceType,ChannelMessageStatus,ChannelMessageSummaryFilterSensitiveLog,ChannelMessageType,ChannelMode,ChannelModeratedByAppInstanceUserSummaryFilterSensitiveLog,ChannelModeratorFilterSensitiveLog,ChannelModeratorSummaryFilterSensitiveLog,ChannelPrivacy,ChannelSummaryFilterSensitiveLog,ChimeSDKMessaging,ChimeSDKMessagingClient,ChimeSDKMessagingServiceException,ConflictException,CreateChannelBanCommand,CreateChannelBanResponseFilterSensitiveLog,CreateChannelCommand,CreateChannelFlowCommand,CreateChannelFlowRequestFilterSensitiveLog,CreateChannelMembershipCommand,CreateChannelMembershipResponseFilterSensitiveLog,CreateChannelModeratorCommand,CreateChannelModeratorResponseFilterSensitiveLog,CreateChannelRequestFilterSensitiveLog,DeleteChannelBanCommand,DeleteChannelCommand,DeleteChannelFlowCommand,DeleteChannelMembershipCommand,DeleteChannelMessageCommand,DeleteChannelModeratorCommand,DeleteMessagingStreamingConfigurationsCommand,DescribeChannelBanCommand,DescribeChannelBanResponseFilterSensitiveLog,DescribeChannelCommand,DescribeChannelFlowCommand,DescribeChannelFlowResponseFilterSensitiveLog,DescribeChannelMembershipCommand,DescribeChannelMembershipForAppInstanceUserCommand,DescribeChannelMembershipForAppInstanceUserResponseFilterSensitiveLog,DescribeChannelMembershipResponseFilterSensitiveLog,DescribeChannelModeratedByAppInstanceUserCommand,DescribeChannelModeratedByAppInstanceUserResponseFilterSensitiveLog,DescribeChannelModeratorCommand,DescribeChannelModeratorResponseFilterSensitiveLog,DescribeChannelResponseFilterSensitiveLog,DisassociateChannelFlowCommand,ErrorCode,ExpirationCriterion,FallbackAction,ForbiddenException,GetChannelMembershipPreferencesCommand,GetChannelMembershipPreferencesResponseFilterSensitiveLog,GetChannelMessageCommand,GetChannelMessageResponseFilterSensitiveLog,GetChannelMessageStatusCommand,GetMessagingSessionEndpointCommand,GetMessagingStreamingConfigurationsCommand,IdentityFilterSensitiveLog,InvocationType,ListChannelBansCommand,ListChannelBansRequestFilterSensitiveLog,ListChannelBansResponseFilterSensitiveLog,ListChannelFlowsCommand,ListChannelFlowsRequestFilterSensitiveLog,ListChannelFlowsResponseFilterSensitiveLog,ListChannelMembershipsCommand,ListChannelMembershipsForAppInstanceUserCommand,ListChannelMembershipsForAppInstanceUserRequestFilterSensitiveLog,ListChannelMembershipsForAppInstanceUserResponseFilterSensitiveLog,ListChannelMembershipsRequestFilterSensitiveLog,ListChannelMembershipsResponseFilterSensitiveLog,ListChannelMessagesCommand,ListChannelMessagesRequestFilterSensitiveLog,ListChannelMessagesResponseFilterSensitiveLog,ListChannelModeratorsCommand,ListChannelModeratorsRequestFilterSensitiveLog,ListChannelModeratorsResponseFilterSensitiveLog,ListChannelsAssociatedWithChannelFlowCommand,ListChannelsAssociatedWithChannelFlowRequestFilterSensitiveLog,ListChannelsAssociatedWithChannelFlowResponseFilterSensitiveLog,ListChannelsCommand,ListChannelsModeratedByAppInstanceUserCommand,ListChannelsModeratedByAppInstanceUserRequestFilterSensitiveLog,ListChannelsModeratedByAppInstanceUserResponseFilterSensitiveLog,ListChannelsRequestFilterSensitiveLog,ListChannelsResponseFilterSensitiveLog,ListSubChannelsCommand,ListSubChannelsRequestFilterSensitiveLog,ListSubChannelsResponseFilterSensitiveLog,ListTagsForResourceCommand,ListTagsForResourceResponseFilterSensitiveLog,MessageAttributeValueFilterSensitiveLog,MessagingDataType,NotFoundException,ProcessorFilterSensitiveLog,PushNotificationConfigurationFilterSensitiveLog,PushNotificationPreferencesFilterSensitiveLog,PushNotificationType,PutChannelExpirationSettingsCommand,PutChannelMembershipPreferencesCommand,PutChannelMembershipPreferencesRequestFilterSensitiveLog,PutChannelMembershipPreferencesResponseFilterSensitiveLog,PutMessagingStreamingConfigurationsCommand,RedactChannelMessageCommand,ResourceLimitExceededException,SearchChannelsCommand,SearchChannelsRequestFilterSensitiveLog,SearchChannelsResponseFilterSensitiveLog,SearchFieldKey,SearchFieldOperator,SendChannelMessageCommand,SendChannelMessageRequestFilterSensitiveLog,ServiceFailureException,ServiceUnavailableException,SortOrder,TagFilterSensitiveLog,TagResourceCommand,TagResourceRequestFilterSensitiveLog,ThrottledClientException,UnauthorizedClientException,UntagResourceCommand,UntagResourceRequestFilterSensitiveLog,UpdateChannelCommand,UpdateChannelFlowCommand,UpdateChannelFlowRequestFilterSensitiveLog,UpdateChannelMessageCommand,UpdateChannelMessageRequestFilterSensitiveLog,UpdateChannelReadMarkerCommand,UpdateChannelRequestFilterSensitiveLog,__Client:Client,paginateListChannelBans,paginateListChannelFlows,paginateListChannelMemberships,paginateListChannelMembershipsForAppInstanceUser,paginateListChannelMessages,paginateListChannelModerators,paginateListChannels,paginateListChannelsAssociatedWithChannelFlow,paginateListChannelsModeratedByAppInstanceUser,paginateListSubChannels,paginateSearchChannels},Symbol.toStringTag,{value:"Module"})),require$$0$2=getAugmentedNamespace(distEs$2);var Message$1={};Object.defineProperty(Message$1,"__esModule",{value:!0});class Message{constructor(rs,ns,os){this.type=rs,this.headers=ns,this.payload=os}}Message$1.default=Message;var DefaultSigV4$1={},build$1={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics=function(ts,rs){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ns,os){ns.__proto__=os}||function(ns,os){for(var ss in os)os.hasOwnProperty(ss)&&(ns[ss]=os[ss])},extendStatics(ts,rs)};function __extends(ts,rs){extendStatics(ts,rs);function ns(){this.constructor=ts}ts.prototype=rs===null?Object.create(rs):(ns.prototype=rs.prototype,new ns)}var __assign=function(){return __assign=Object.assign||function(rs){for(var ns,os=1,ss=arguments.length;os<ss;os++){ns=arguments[os];for(var as in ns)Object.prototype.hasOwnProperty.call(ns,as)&&(rs[as]=ns[as])}return rs},__assign.apply(this,arguments)};function __rest$1(ts,rs){var ns={};for(var os in ts)Object.prototype.hasOwnProperty.call(ts,os)&&rs.indexOf(os)<0&&(ns[os]=ts[os]);if(ts!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ss=0,os=Object.getOwnPropertySymbols(ts);ss<os.length;ss++)rs.indexOf(os[ss])<0&&Object.prototype.propertyIsEnumerable.call(ts,os[ss])&&(ns[os[ss]]=ts[os[ss]]);return ns}function __decorate(ts,rs,ns,os){var ss=arguments.length,as=ss<3?rs:os===null?os=Object.getOwnPropertyDescriptor(rs,ns):os,ls;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")as=Reflect.decorate(ts,rs,ns,os);else for(var cs=ts.length-1;cs>=0;cs--)(ls=ts[cs])&&(as=(ss<3?ls(as):ss>3?ls(rs,ns,as):ls(rs,ns))||as);return ss>3&&as&&Object.defineProperty(rs,ns,as),as}function __param(ts,rs){return function(ns,os){rs(ns,os,ts)}}function __metadata(ts,rs){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(ts,rs)}function __awaiter$f(ts,rs,ns,os){function ss(as){return as instanceof ns?as:new ns(function(ls){ls(as)})}return new(ns||(ns=Promise))(function(as,ls){function cs(ps){try{ds(os.next(ps))}catch(fs){ls(fs)}}function us(ps){try{ds(os.throw(ps))}catch(fs){ls(fs)}}function ds(ps){ps.done?as(ps.value):ss(ps.value).then(cs,us)}ds((os=os.apply(ts,rs||[])).next())})}function __generator(ts,rs){var ns={label:0,sent:function(){if(as[0]&1)throw as[1];return as[1]},trys:[],ops:[]},os,ss,as,ls;return ls={next:cs(0),throw:cs(1),return:cs(2)},typeof Symbol=="function"&&(ls[Symbol.iterator]=function(){return this}),ls;function cs(ds){return function(ps){return us([ds,ps])}}function us(ds){if(os)throw new TypeError("Generator is already executing.");for(;ns;)try{if(os=1,ss&&(as=ds[0]&2?ss.return:ds[0]?ss.throw||((as=ss.return)&&as.call(ss),0):ss.next)&&!(as=as.call(ss,ds[1])).done)return as;switch(ss=0,as&&(ds=[ds[0]&2,as.value]),ds[0]){case 0:case 1:as=ds;break;case 4:return ns.label++,{value:ds[1],done:!1};case 5:ns.label++,ss=ds[1],ds=[0];continue;case 7:ds=ns.ops.pop(),ns.trys.pop();continue;default:if(as=ns.trys,!(as=as.length>0&&as[as.length-1])&&(ds[0]===6||ds[0]===2)){ns=0;continue}if(ds[0]===3&&(!as||ds[1]>as[0]&&ds[1]<as[3])){ns.label=ds[1];break}if(ds[0]===6&&ns.label<as[1]){ns.label=as[1],as=ds;break}if(as&&ns.label<as[2]){ns.label=as[2],ns.ops.push(ds);break}as[2]&&ns.ops.pop(),ns.trys.pop();continue}ds=rs.call(ts,ns)}catch(ps){ds=[6,ps],ss=0}finally{os=as=0}if(ds[0]&5)throw ds[1];return{value:ds[0]?ds[1]:void 0,done:!0}}}function __createBinding(ts,rs,ns,os){os===void 0&&(os=ns),ts[os]=rs[ns]}function __exportStar(ts,rs){for(var ns in ts)ns!=="default"&&!rs.hasOwnProperty(ns)&&(rs[ns]=ts[ns])}function __values(ts){var rs=typeof Symbol=="function"&&Symbol.iterator,ns=rs&&ts[rs],os=0;if(ns)return ns.call(ts);if(ts&&typeof ts.length=="number")return{next:function(){return ts&&os>=ts.length&&(ts=void 0),{value:ts&&ts[os++],done:!ts}}};throw new TypeError(rs?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(ts,rs){var ns=typeof Symbol=="function"&&ts[Symbol.iterator];if(!ns)return ts;var os=ns.call(ts),ss,as=[],ls;try{for(;(rs===void 0||rs-- >0)&&!(ss=os.next()).done;)as.push(ss.value)}catch(cs){ls={error:cs}}finally{try{ss&&!ss.done&&(ns=os.return)&&ns.call(os)}finally{if(ls)throw ls.error}}return as}function __spread(){for(var ts=[],rs=0;rs<arguments.length;rs++)ts=ts.concat(__read(arguments[rs]));return ts}function __spreadArrays(){for(var ts=0,rs=0,ns=arguments.length;rs<ns;rs++)ts+=arguments[rs].length;for(var os=Array(ts),ss=0,rs=0;rs<ns;rs++)for(var as=arguments[rs],ls=0,cs=as.length;ls<cs;ls++,ss++)os[ss]=as[ls];return os}function __await(ts){return this instanceof __await?(this.v=ts,this):new __await(ts)}function __asyncGenerator(ts,rs,ns){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var os=ns.apply(ts,rs||[]),ss,as=[];return ss={},ls("next"),ls("throw"),ls("return"),ss[Symbol.asyncIterator]=function(){return this},ss;function ls(hs){os[hs]&&(ss[hs]=function(ms){return new Promise(function(gs,vs){as.push([hs,ms,gs,vs])>1||cs(hs,ms)})})}function cs(hs,ms){try{us(os[hs](ms))}catch(gs){fs(as[0][3],gs)}}function us(hs){hs.value instanceof __await?Promise.resolve(hs.value.v).then(ds,ps):fs(as[0][2],hs)}function ds(hs){cs("next",hs)}function ps(hs){cs("throw",hs)}function fs(hs,ms){hs(ms),as.shift(),as.length&&cs(as[0][0],as[0][1])}}function __asyncDelegator(ts){var rs,ns;return rs={},os("next"),os("throw",function(ss){throw ss}),os("return"),rs[Symbol.iterator]=function(){return this},rs;function os(ss,as){rs[ss]=ts[ss]?function(ls){return(ns=!ns)?{value:__await(ts[ss](ls)),done:ss==="return"}:as?as(ls):ls}:as}}function __asyncValues(ts){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var rs=ts[Symbol.asyncIterator],ns;return rs?rs.call(ts):(ts=typeof __values=="function"?__values(ts):ts[Symbol.iterator](),ns={},os("next"),os("throw"),os("return"),ns[Symbol.asyncIterator]=function(){return this},ns);function os(as){ns[as]=ts[as]&&function(ls){return new Promise(function(cs,us){ls=ts[as](ls),ss(cs,us,ls.done,ls.value)})}}function ss(as,ls,cs,us){Promise.resolve(us).then(function(ds){as({value:ds,done:cs})},ls)}}function __makeTemplateObject(ts,rs){return Object.defineProperty?Object.defineProperty(ts,"raw",{value:rs}):ts.raw=rs,ts}function __importStar(ts){if(ts&&ts.__esModule)return ts;var rs={};if(ts!=null)for(var ns in ts)Object.hasOwnProperty.call(ts,ns)&&(rs[ns]=ts[ns]);return rs.default=ts,rs}function __importDefault$e(ts){return ts&&ts.__esModule?ts:{default:ts}}function __classPrivateFieldGet(ts,rs){if(!rs.has(ts))throw new TypeError("attempted to get private field on non-instance");return rs.get(ts)}function __classPrivateFieldSet(ts,rs,ns){if(!rs.has(ts))throw new TypeError("attempted to set private field on non-instance");return rs.set(ts,ns),ns}const tslib_es6=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return __assign},__asyncDelegator,__asyncGenerator,__asyncValues,__await,__awaiter:__awaiter$f,__classPrivateFieldGet,__classPrivateFieldSet,__createBinding,__decorate,__exportStar,__extends,__generator,__importDefault:__importDefault$e,__importStar,__makeTemplateObject,__metadata,__param,__read,__rest:__rest$1,__spread,__spreadArrays,__values},Symbol.toStringTag,{value:"Module"})),require$$0$1=getAugmentedNamespace(tslib_es6);var jsSha256={},constants={},hasRequiredConstants;function requireConstants(){return hasRequiredConstants||(hasRequiredConstants=1,Object.defineProperty(constants,"__esModule",{value:!0}),constants.MAX_HASHABLE_LENGTH=constants.INIT=constants.KEY=constants.DIGEST_LENGTH=constants.BLOCK_SIZE=void 0,constants.BLOCK_SIZE=64,constants.DIGEST_LENGTH=32,constants.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),constants.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],constants.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1),constants}var RawSha256={},hasRequiredRawSha256;function requireRawSha256(){if(hasRequiredRawSha256)return RawSha256;hasRequiredRawSha256=1,Object.defineProperty(RawSha256,"__esModule",{value:!0}),RawSha256.RawSha256=void 0;var ts=requireConstants(),rs=function(){function ns(){this.state=Int32Array.from(ts.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return ns.prototype.update=function(os){if(this.finished)throw new Error("Attempted to update an already finished hash.");var ss=0,as=os.byteLength;if(this.bytesHashed+=as,this.bytesHashed*8>ts.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;as>0;)this.buffer[this.bufferLength++]=os[ss++],as--,this.bufferLength===ts.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},ns.prototype.digest=function(){if(!this.finished){var os=this.bytesHashed*8,ss=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),as=this.bufferLength;if(ss.setUint8(this.bufferLength++,128),as%ts.BLOCK_SIZE>=ts.BLOCK_SIZE-8){for(var ls=this.bufferLength;ls<ts.BLOCK_SIZE;ls++)ss.setUint8(ls,0);this.hashBuffer(),this.bufferLength=0}for(var ls=this.bufferLength;ls<ts.BLOCK_SIZE-8;ls++)ss.setUint8(ls,0);ss.setUint32(ts.BLOCK_SIZE-8,Math.floor(os/4294967296),!0),ss.setUint32(ts.BLOCK_SIZE-4,os),this.hashBuffer(),this.finished=!0}for(var cs=new Uint8Array(ts.DIGEST_LENGTH),ls=0;ls<8;ls++)cs[ls*4]=this.state[ls]>>>24&255,cs[ls*4+1]=this.state[ls]>>>16&255,cs[ls*4+2]=this.state[ls]>>>8&255,cs[ls*4+3]=this.state[ls]>>>0&255;return cs},ns.prototype.hashBuffer=function(){for(var os=this,ss=os.buffer,as=os.state,ls=as[0],cs=as[1],us=as[2],ds=as[3],ps=as[4],fs=as[5],hs=as[6],ms=as[7],gs=0;gs<ts.BLOCK_SIZE;gs++){if(gs<16)this.temp[gs]=(ss[gs*4]&255)<<24|(ss[gs*4+1]&255)<<16|(ss[gs*4+2]&255)<<8|ss[gs*4+3]&255;else{var vs=this.temp[gs-2],bs=(vs>>>17|vs<<15)^(vs>>>19|vs<<13)^vs>>>10;vs=this.temp[gs-15];var xs=(vs>>>7|vs<<25)^(vs>>>18|vs<<14)^vs>>>3;this.temp[gs]=(bs+this.temp[gs-7]|0)+(xs+this.temp[gs-16]|0)}var ys=(((ps>>>6|ps<<26)^(ps>>>11|ps<<21)^(ps>>>25|ps<<7))+(ps&fs^~ps&hs)|0)+(ms+(ts.KEY[gs]+this.temp[gs]|0)|0)|0,Ss=((ls>>>2|ls<<30)^(ls>>>13|ls<<19)^(ls>>>22|ls<<10))+(ls&cs^ls&us^cs&us)|0;ms=hs,hs=fs,fs=ps,ps=ds+ys|0,ds=us,us=cs,cs=ls,ls=ys+Ss|0}as[0]+=ls,as[1]+=cs,as[2]+=us,as[3]+=ds,as[4]+=ps,as[5]+=fs,as[6]+=hs,as[7]+=ms},ns}();return RawSha256.RawSha256=rs,RawSha256}var build={},convertToBuffer={};const fromUtf8$2=ts=>{const rs=[];for(let ns=0,os=ts.length;ns<os;ns++){const ss=ts.charCodeAt(ns);if(ss<128)rs.push(ss);else if(ss<2048)rs.push(ss>>6|192,ss&63|128);else if(ns+1<ts.length&&(ss&64512)===55296&&(ts.charCodeAt(ns+1)&64512)===56320){const as=65536+((ss&1023)<<10)+(ts.charCodeAt(++ns)&1023);rs.push(as>>18|240,as>>12&63|128,as>>6&63|128,as&63|128)}else rs.push(ss>>12|224,ss>>6&63|128,ss&63|128)}return Uint8Array.from(rs)},toUtf8$2=ts=>{let rs="";for(let ns=0,os=ts.length;ns<os;ns++){const ss=ts[ns];if(ss<128)rs+=String.fromCharCode(ss);else if(192<=ss&&ss<224){const as=ts[++ns];rs+=String.fromCharCode((ss&31)<<6|as&63)}else if(240<=ss&&ss<365){const ls="%"+[ss,ts[++ns],ts[++ns],ts[++ns]].map(cs=>cs.toString(16)).join("%");rs+=decodeURIComponent(ls)}else rs+=String.fromCharCode((ss&15)<<12|(ts[++ns]&63)<<6|ts[++ns]&63)}return rs};function fromUtf8$1(ts){return new TextEncoder().encode(ts)}function toUtf8$1(ts){return new TextDecoder("utf-8").decode(ts)}const fromUtf8=ts=>typeof TextEncoder=="function"?fromUtf8$1(ts):fromUtf8$2(ts),toUtf8=ts=>typeof TextDecoder=="function"?toUtf8$1(ts):toUtf8$2(ts),distEs$1=Object.freeze(Object.defineProperty({__proto__:null,fromUtf8,toUtf8},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(distEs$1);var hasRequiredConvertToBuffer;function requireConvertToBuffer(){if(hasRequiredConvertToBuffer)return convertToBuffer;hasRequiredConvertToBuffer=1,Object.defineProperty(convertToBuffer,"__esModule",{value:!0}),convertToBuffer.convertToBuffer=void 0;var ts=require$$0,rs=typeof Buffer<"u"&&Buffer.from?function(os){return Buffer.from(os,"utf8")}:ts.fromUtf8;function ns(os){return os instanceof Uint8Array?os:typeof os=="string"?rs(os):ArrayBuffer.isView(os)?new Uint8Array(os.buffer,os.byteOffset,os.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(os)}return convertToBuffer.convertToBuffer=ns,convertToBuffer}var isEmptyData={},hasRequiredIsEmptyData;function requireIsEmptyData(){if(hasRequiredIsEmptyData)return isEmptyData;hasRequiredIsEmptyData=1,Object.defineProperty(isEmptyData,"__esModule",{value:!0}),isEmptyData.isEmptyData=void 0;function ts(rs){return typeof rs=="string"?rs.length===0:rs.byteLength===0}return isEmptyData.isEmptyData=ts,isEmptyData}var numToUint8={},hasRequiredNumToUint8;function requireNumToUint8(){if(hasRequiredNumToUint8)return numToUint8;hasRequiredNumToUint8=1,Object.defineProperty(numToUint8,"__esModule",{value:!0}),numToUint8.numToUint8=void 0;function ts(rs){return new Uint8Array([(rs&4278190080)>>24,(rs&16711680)>>16,(rs&65280)>>8,rs&255])}return numToUint8.numToUint8=ts,numToUint8}var uint32ArrayFrom={},hasRequiredUint32ArrayFrom;function requireUint32ArrayFrom(){if(hasRequiredUint32ArrayFrom)return uint32ArrayFrom;hasRequiredUint32ArrayFrom=1,Object.defineProperty(uint32ArrayFrom,"__esModule",{value:!0}),uint32ArrayFrom.uint32ArrayFrom=void 0;function ts(rs){if(!Uint32Array.from){for(var ns=new Uint32Array(rs.length),os=0;os<rs.length;)ns[os]=rs[os],os+=1;return ns}return Uint32Array.from(rs)}return uint32ArrayFrom.uint32ArrayFrom=ts,uint32ArrayFrom}var hasRequiredBuild$1;function requireBuild$1(){return hasRequiredBuild$1||(hasRequiredBuild$1=1,function(ts){Object.defineProperty(ts,"__esModule",{value:!0}),ts.uint32ArrayFrom=ts.numToUint8=ts.isEmptyData=ts.convertToBuffer=void 0;var rs=requireConvertToBuffer();Object.defineProperty(ts,"convertToBuffer",{enumerable:!0,get:function(){return rs.convertToBuffer}});var ns=requireIsEmptyData();Object.defineProperty(ts,"isEmptyData",{enumerable:!0,get:function(){return ns.isEmptyData}});var os=requireNumToUint8();Object.defineProperty(ts,"numToUint8",{enumerable:!0,get:function(){return os.numToUint8}});var ss=requireUint32ArrayFrom();Object.defineProperty(ts,"uint32ArrayFrom",{enumerable:!0,get:function(){return ss.uint32ArrayFrom}})}(build)),build}var hasRequiredJsSha256;function requireJsSha256(){if(hasRequiredJsSha256)return jsSha256;hasRequiredJsSha256=1,Object.defineProperty(jsSha256,"__esModule",{value:!0}),jsSha256.Sha256=void 0;var ts=require$$0$1,rs=requireConstants(),ns=requireRawSha256(),os=requireBuild$1(),ss=function(){function ls(cs){if(this.hash=new ns.RawSha256,cs){this.outer=new ns.RawSha256;var us=as(cs),ds=new Uint8Array(rs.BLOCK_SIZE);ds.set(us);for(var ps=0;ps<rs.BLOCK_SIZE;ps++)us[ps]^=54,ds[ps]^=92;this.hash.update(us),this.outer.update(ds);for(var ps=0;ps<us.byteLength;ps++)us[ps]=0}}return ls.prototype.update=function(cs){if(!((0,os.isEmptyData)(cs)||this.error))try{this.hash.update((0,os.convertToBuffer)(cs))}catch(us){this.error=us}},ls.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},ls.prototype.digest=function(){return ts.__awaiter(this,void 0,void 0,function(){return ts.__generator(this,function(cs){return[2,this.digestSync()]})})},ls}();jsSha256.Sha256=ss;function as(ls){var cs=(0,os.convertToBuffer)(ls);if(cs.byteLength>rs.BLOCK_SIZE){var us=new ns.RawSha256;us.update(cs),cs=us.digest()}var ds=new Uint8Array(rs.BLOCK_SIZE);return ds.set(cs),ds}return jsSha256}(function(ts){Object.defineProperty(ts,"__esModule",{value:!0});var rs=require$$0$1;rs.__exportStar(requireJsSha256(),ts)})(build$1);const SHORT_TO_HEX={},HEX_TO_SHORT={};for(let ts=0;ts<256;ts++){let rs=ts.toString(16).toLowerCase();rs.length===1&&(rs="0".concat(rs)),SHORT_TO_HEX[ts]=rs,HEX_TO_SHORT[rs]=ts}function fromHex(ts){if(ts.length%2!==0)throw new Error("Hex encoded strings must have an even number length");const rs=new Uint8Array(ts.length/2);for(let ns=0;ns<ts.length;ns+=2){const os=ts.slice(ns,ns+2).toLowerCase();if(os in HEX_TO_SHORT)rs[ns/2]=HEX_TO_SHORT[os];else throw new Error("Cannot decode unrecognized sequence ".concat(os," as hexadecimal"))}return rs}function toHex(ts){let rs="";for(let ns=0;ns<ts.byteLength;ns++)rs+=SHORT_TO_HEX[ts[ns]];return rs}const distEs=Object.freeze(Object.defineProperty({__proto__:null,fromHex,toHex},Symbol.toStringTag,{value:"Module"})),require$$1=getAugmentedNamespace(distEs);var __awaiter$e=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,rs,ns,os){function ss(as){return as instanceof ns?as:new ns(function(ls){ls(as)})}return new(ns||(ns=Promise))(function(as,ls){function cs(ps){try{ds(os.next(ps))}catch(fs){ls(fs)}}function us(ps){try{ds(os.throw(ps))}catch(fs){ls(fs)}}function ds(ps){ps.done?as(ps.value):ss(ps.value).then(cs,us)}ds((os=os.apply(ts,rs||[])).next())})},__importDefault$d=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(DefaultSigV4$1,"__esModule",{value:!0});const sha256_js_1=build$1,util_hex_encoding_1=require$$1,Versioning_1$2=__importDefault$d(Versioning$1);class DefaultSigV4{constructor(rs){this.chimeClient=rs}makeTwoDigits(rs){return rs>9?rs.toString():"0"+rs.toString()}hmac(rs,ns){const os=new sha256_js_1.Sha256(ns);return os.update(rs),os.digest()}getDateTimeString(){const rs=new Date;return rs.getUTCFullYear()+this.makeTwoDigits(rs.getUTCMonth()+1)+this.makeTwoDigits(rs.getUTCDate())+"T"+this.makeTwoDigits(rs.getUTCHours())+this.makeTwoDigits(rs.getUTCMinutes())+this.makeTwoDigits(rs.getUTCSeconds())+"Z"}getDateString(rs){return rs.substring(0,rs.indexOf("T"))}getSignatureKey(rs,ns,os,ss){return __awaiter$e(this,void 0,void 0,function*(){const as=yield this.hmac(ns,"AWS4"+rs),ls=yield this.hmac(os,as),cs=yield this.hmac(ss,ls);return yield this.hmac("aws4_request",cs)})}signURL(rs,ns,os,ss,as,ls,cs){return __awaiter$e(this,void 0,void 0,function*(){const us=this.getDateTimeString(),ds=this.getDateString(us),ps="AWS4-HMAC-SHA256";let fs="";this.chimeClient.config.region instanceof Function?fs=yield this.chimeClient.config.region():fs=this.chimeClient.config.region;const hs="host",ms="host:"+ss.toLowerCase()+"\n",gs=ds+"/"+fs+"/"+os+"/aws4_request";let vs;this.chimeClient.config.credentials instanceof Function?vs=yield this.chimeClient.config.credentials():vs=this.chimeClient.config.credentials;let bs=new Map;bs.set("X-Amz-Algorithm",[ps]),bs.set("X-Amz-Credential",[encodeURIComponent(vs.accessKeyId+"/"+gs)]),bs.set("X-Amz-Date",[us]),bs.set("X-Amz-Expires",["10"]),bs.set("X-Amz-SignedHeaders",["host"]),vs.sessionToken&&bs.set("X-Amz-Security-Token",[encodeURIComponent(vs.sessionToken)]),bs.set(Versioning_1$2.default.X_AMZN_VERSION,[encodeURIComponent(Versioning_1$2.default.sdkVersion)]),bs.set(Versioning_1$2.default.X_AMZN_USER_AGENT,[encodeURIComponent(Versioning_1$2.default.sdkUserAgentLowResolution)]),cs==null||cs.forEach((Ts,Is)=>{const Rs=encodeURIComponent(Is);Ts.sort().forEach(As=>{bs.has(Rs)||bs.set(Rs,[]),bs.get(Rs).push(encodeURIComponent(As))})});let xs="";bs=new Map([...bs.entries()].sort()),bs.forEach((Ts,Is)=>{Ts.forEach(Rs=>{xs.length&&(xs+="&"),xs+=Is+"="+Rs})});const ys=rs+"\n"+as+"\n"+xs+"\n"+ms+"\n"+hs+"\n"+util_hex_encoding_1.toHex(yield this.hmac(ls)),Ss=util_hex_encoding_1.toHex(yield this.hmac(ys)),Cs="AWS4-HMAC-SHA256\n"+us+"\n"+ds+"/"+fs+"/"+os+"/aws4_request\n"+Ss,$s=yield this.getSignatureKey(vs.secretAccessKey,ds,fs,os),Es=util_hex_encoding_1.toHex(yield this.hmac(Cs,$s)),ws=xs+"&X-Amz-Signature="+Es;return ns+"://"+ss+as+"?"+ws})}}DefaultSigV4$1.default=DefaultSigV4;var PrefetchOn$1={};Object.defineProperty(PrefetchOn$1,"__esModule",{value:!0});var PrefetchOn;(function(ts){ts.Connect="connect"})(PrefetchOn||(PrefetchOn={}));PrefetchOn$1.default=PrefetchOn;var __awaiter$d=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,rs,ns,os){function ss(as){return as instanceof ns?as:new ns(function(ls){ls(as)})}return new(ns||(ns=Promise))(function(as,ls){function cs(ps){try{ds(os.next(ps))}catch(fs){ls(fs)}}function us(ps){try{ds(os.throw(ps))}catch(fs){ls(fs)}}function ds(ps){ps.done?as(ps.value):ss(ps.value).then(cs,us)}ds((os=os.apply(ts,rs||[])).next())})},__importDefault$c=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(DefaultMessagingSession$1,"__esModule",{value:!0});const client_chime_sdk_messaging_1=require$$0$2,FullJitterBackoff_1$2=__importDefault$c(FullJitterBackoff$1),CSPMonitor_1=__importDefault$c(CSPMonitor$1),Message_1=__importDefault$c(Message$1),DefaultReconnectController_1=__importDefault$c(DefaultReconnectController$1),AsyncScheduler_1=__importDefault$c(AsyncScheduler$1),DefaultSigV4_1=__importDefault$c(DefaultSigV4$1),DefaultWebSocketAdapter_1=__importDefault$c(DefaultWebSocketAdapter$1),WebSocketReadyState_1=__importDefault$c(WebSocketReadyState),PrefetchOn_1=__importDefault$c(PrefetchOn$1);class DefaultMessagingSession{constructor(rs,ns,os,ss,as){this.configuration=rs,this.logger=ns,this.webSocket=os,this.reconnectController=ss,this.sigV4=as,this.observerQueue=new Set,this.webSocket||(this.webSocket=new DefaultWebSocketAdapter_1.default(this.logger)),this.reconnectController||(this.reconnectController=new DefaultReconnectController_1.default(rs.reconnectTimeoutMs,new FullJitterBackoff_1$2.default(rs.reconnectFixedWaitMs,rs.reconnectShortBackoffMs,rs.reconnectLongBackoffMs))),this.sigV4||(this.sigV4=new DefaultSigV4_1.default(this.configuration.chimeClient)),CSPMonitor_1.default.addLogger(this.logger),CSPMonitor_1.default.register(),this.preBootstrapMessages=[]}addObserver(rs){this.logger.info("adding messaging observer"),this.observerQueue.add(rs)}removeObserver(rs){this.logger.info("removing messaging observer"),this.observerQueue.delete(rs)}start(){return __awaiter$d(this,void 0,void 0,function*(){this.isClosed()?yield this.startConnecting(!1):this.logger.info("messaging session already started")})}stop(){this.isClosed()?this.logger.info("no existing messaging session needs closing"):(this.isClosing=!0,this.webSocket.close(),CSPMonitor_1.default.removeLogger(this.logger))}forEachObserver(rs){for(const ns of this.observerQueue)AsyncScheduler_1.default.nextTick(()=>{this.observerQueue.has(ns)&&rs(ns)})}setUpEventListeners(){this.webSocket.addEventListener("open",()=>{this.openEventHandler()}),this.webSocket.addEventListener("message",rs=>{this.receiveMessageHandler(rs.data)}),this.webSocket.addEventListener("close",rs=>{this.closeEventHandler(rs)}),this.webSocket.addEventListener("error",()=>{this.logger.error("WebSocket error")})}startConnecting(rs){return __awaiter$d(this,void 0,void 0,function*(){return yield this.startConnectingInternal(rs),yield new Promise((ns,os)=>{this.bootstrapResolved=ns,this.bootstrapRejected=os})})}startConnectingInternal(rs){var ns;return __awaiter$d(this,void 0,void 0,function*(){let os=this.configuration.endpointUrl;if(rs||this.reconnectController.reset(),this.reconnectController.hasStartedConnectionAttempt()?this.reconnectController.startedConnectionAttempt(!1):this.reconnectController.startedConnectionAttempt(!0),rs||os===void 0)try{if(this.configuration.chimeClient.getMessagingSessionEndpoint instanceof Function){const as=yield this.configuration.chimeClient.getMessagingSessionEndpoint();!((ns=as.Endpoint)===null||ns===void 0)&&ns.Url?os=as.Endpoint.Url:os=(yield this.configuration.chimeClient.getMessagingSessionEndpoint().promise()).Endpoint.Url}else os=(yield this.configuration.chimeClient.send(new client_chime_sdk_messaging_1.GetMessagingSessionEndpointCommand({}))).Endpoint.Url;this.logger.debug("Messaging endpoint resolved to: ".concat(os))}catch(as){this.logger.error("Messaging Session failed to resolve endpoint: ".concat(as));const ls=new CloseEvent("close",{wasClean:!1,code:4999,reason:"Failed to get messaging session endpoint URL",bubbles:!1});this.closeEventHandler(ls);return}const ss=yield this.prepareWebSocketUrl(os);this.logger.info("opening connection to ".concat(ss)),rs||this.reconnectController.reset(),this.reconnectController.hasStartedConnectionAttempt()?this.reconnectController.startedConnectionAttempt(!1):this.reconnectController.startedConnectionAttempt(!0),this.webSocket.create(ss,[],!0),this.forEachObserver(as=>{as.messagingSessionDidStartConnecting&&as.messagingSessionDidStartConnecting(rs)}),this.setUpEventListeners()})}prepareWebSocketUrl(rs){return __awaiter$d(this,void 0,void 0,function*(){const ns=new Map;return ns.set("userArn",[this.configuration.userArn]),ns.set("sessionId",[this.configuration.messagingSessionId]),this.configuration.prefetchOn===PrefetchOn_1.default.Connect&&ns.set("prefetch-on",[PrefetchOn_1.default.Connect]),this.configuration.prefetchSortBy&&ns.set("prefetch-sort-by",[this.configuration.prefetchSortBy]),yield this.sigV4.signURL("GET","wss","chime",rs,"/connect","",ns)})}isClosed(){return this.webSocket.readyState()===WebSocketReadyState_1.default.None||this.webSocket.readyState()===WebSocketReadyState_1.default.Closed}openEventHandler(){this.reconnectController.reset(),this.isSessionEstablished=!1}receiveMessageHandler(rs){try{const ns=JSON.parse(rs),os=ns.Headers["x-amz-chime-event-type"],ss=new Message_1.default(os,ns.Headers,ns.Payload||null);if(!this.isSessionEstablished&&os==="SESSION_ESTABLISHED"){this.forEachObserver(ls=>{ls.messagingSessionDidStart&&ls.messagingSessionDidStart()}),this.bootstrapResolved(),this.isSessionEstablished=!0;const as=this.preBootstrapMessages.length;for(let ls=0;ls<as;ls++){const cs=this.preBootstrapMessages.shift();this.forEachObserver(us=>{this.sendMessageToObserver(us,cs)})}}else if(!this.isSessionEstablished){this.preBootstrapMessages.push(ss);return}this.forEachObserver(as=>{this.sendMessageToObserver(as,ss)})}catch(ns){this.logger.error("Messaging parsing failed: ".concat(ns))}}sendMessageToObserver(rs,ns){rs.messagingSessionDidReceiveMessage&&rs.messagingSessionDidReceiveMessage(ns)}retryConnection(){return this.reconnectController.retryWithBackoff(()=>__awaiter$d(this,void 0,void 0,function*(){yield this.startConnecting(!0)}),null)}closeEventHandler(rs){this.logger.info("WebSocket close: ".concat(rs.code," ").concat(rs.reason)),rs.code!==4999&&this.webSocket.destroy(),!(!this.isClosing&&this.canReconnect(rs.code)&&this.retryConnection())&&(this.isClosing=!1,this.isSessionEstablished?this.forEachObserver(ns=>{ns.messagingSessionDidStop&&ns.messagingSessionDidStop(rs)}):this.bootstrapRejected(rs))}canReconnect(rs){return rs===1001||rs===1006||rs>=1011&&rs<=1014||rs>4e3&&rs!==4002&&rs!==4003&&rs!==4401}}DefaultMessagingSession$1.default=DefaultMessagingSession;var FullJitterBackoffFactory$1={},FullJitterLimitedBackoff$1={},__importDefault$b=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(FullJitterLimitedBackoff$1,"__esModule",{value:!0});const FullJitterBackoff_1$1=__importDefault$b(FullJitterBackoff$1);class FullJitterLimitedBackoff extends FullJitterBackoff_1$1.default{constructor(rs,ns,os,ss){super(rs,ns,os),this.limit=ss,this.attempts=0}nextBackoffAmountMs(){if(this.attempts++,this.attempts>this.limit)throw new Error("retry limit exceeded");return super.nextBackoffAmountMs()}}FullJitterLimitedBackoff$1.default=FullJitterLimitedBackoff;var __importDefault$a=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(FullJitterBackoffFactory$1,"__esModule",{value:!0});const FullJitterBackoff_1=__importDefault$a(FullJitterBackoff$1),FullJitterLimitedBackoff_1=__importDefault$a(FullJitterLimitedBackoff$1);class FullJitterBackoffFactory{constructor(rs,ns,os){this.fixedWaitMs=rs,this.shortBackoffMs=ns,this.longBackoffMs=os}create(){return new FullJitterBackoff_1.default(this.fixedWaitMs,this.shortBackoffMs,this.longBackoffMs)}createWithLimit(rs){return new FullJitterLimitedBackoff_1.default(this.fixedWaitMs,this.shortBackoffMs,this.longBackoffMs,rs)}}FullJitterBackoffFactory$1.default=FullJitterBackoffFactory;var Log$1={};Object.defineProperty(Log$1,"__esModule",{value:!0});class Log{constructor(rs,ns,os,ss){this.sequenceNumber=rs,this.message=ns,this.timestampMs=os,this.logLevel=ss}}Log$1.default=Log;var MessagingSessionConfiguration$1={};Object.defineProperty(MessagingSessionConfiguration$1,"__esModule",{value:!0});const Utils_1$2=Utils$1;class MessagingSessionConfiguration{constructor(rs,ns,os,ss){this.userArn=rs,this.messagingSessionId=ns,this.endpointUrl=os,this.chimeClient=ss,this.reconnectTimeoutMs=10*1e3,this.reconnectFixedWaitMs=0,this.reconnectShortBackoffMs=1*1e3,this.reconnectLongBackoffMs=5*1e3,this.prefetchOn=void 0,this.prefetchSortBy=void 0,this.messagingSessionId||(this.messagingSessionId=this.generateSessionId())}generateSessionId(){const rs=new Uint32Array(1);return Utils_1$2.getRandomValues(rs),rs[0].toString()}}MessagingSessionConfiguration$1.default=MessagingSessionConfiguration;var MultiLogger$1={},__importDefault$9=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(MultiLogger$1,"__esModule",{value:!0});const LogLevel_1$3=__importDefault$9(LogLevel);class MultiLogger{constructor(...rs){this._loggers=rs}info(rs){for(const ns of this._loggers)ns.info(rs)}warn(rs){for(const ns of this._loggers)ns.warn(rs)}error(rs){for(const ns of this._loggers)ns.error(rs)}debug(rs){let ns,os;typeof rs=="string"?os=rs:rs?os=()=>(ns||(ns=rs()),ns):os=""+rs;for(const ss of this._loggers)ss.debug(os)}setLogLevel(rs){for(const ns of this._loggers)ns.setLogLevel(rs)}getLogLevel(){for(const rs of this._loggers)return rs.getLogLevel();return LogLevel_1$3.default.OFF}}MultiLogger$1.default=MultiLogger;var NoOpAudioVideoController={},NoOpDebugLogger$1={},NoOpLogger$1={},__importDefault$8=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(NoOpLogger$1,"__esModule",{value:!0});const LogLevel_1$2=__importDefault$8(LogLevel);class NoOpLogger{constructor(rs=LogLevel_1$2.default.OFF){this.level=rs}info(rs){}warn(rs){}error(rs){}debug(rs){LogLevel_1$2.default.DEBUG<this.level||typeof rs!="string"&&rs()}setLogLevel(rs){this.level=rs}getLogLevel(){return this.level}}NoOpLogger$1.default=NoOpLogger;var __importDefault$7=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(NoOpDebugLogger$1,"__esModule",{value:!0});const LogLevel_1$1=__importDefault$7(LogLevel),NoOpLogger_1$1=__importDefault$7(NoOpLogger$1);class NoOpDebugLogger extends NoOpLogger_1$1.default{constructor(){super(LogLevel_1$1.default.DEBUG)}}NoOpDebugLogger$1.default=NoOpDebugLogger;var NoOpMediaStreamBroker$1={};Object.defineProperty(NoOpMediaStreamBroker$1,"__esModule",{value:!0});class NoOpMediaStreamBroker{acquireAudioInputStream(){return Promise.reject()}acquireVideoInputStream(){return Promise.reject()}acquireDisplayInputStream(rs){return Promise.reject()}muteLocalAudioInputStream(){}unmuteLocalAudioInputStream(){}addMediaStreamBrokerObserver(rs){}removeMediaStreamBrokerObserver(rs){}}NoOpMediaStreamBroker$1.default=NoOpMediaStreamBroker;var hasRequiredNoOpAudioVideoController;function requireNoOpAudioVideoController(){if(hasRequiredNoOpAudioVideoController)return NoOpAudioVideoController;hasRequiredNoOpAudioVideoController=1;var ts=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(gs){return gs&&gs.__esModule?gs:{default:gs}};Object.defineProperty(NoOpAudioVideoController,"__esModule",{value:!0});const rs=ts(FullJitterBackoff$1),ns=ts(DefaultEventController$1),os=ts(NoOpDebugLogger$1),ss=ts(NoOpMediaStreamBroker$1),as=ts(MeetingSessionConfiguration$1),ls=ts(MeetingSessionCredentials$1),cs=ts(MeetingSessionStatus$1),us=ts(MeetingSessionStatusCode),ds=ts(MeetingSessionURLs$1),ps=ts(DefaultReconnectController$1),fs=ts(DefaultWebSocketAdapter$1),hs=ts(requireDefaultAudioVideoController());let ms=class extends hs.default{constructor(vs){const bs=new as.default;bs.meetingId="",bs.externalMeetingId="",bs.credentials=new ls.default,bs.credentials.attendeeId="",bs.credentials.joinToken="",bs.urls=new ds.default,bs.urls.turnControlURL="",bs.urls.audioHostURL="",bs.urls.signalingURL="wss://localhost/";const xs=new os.default;super(vs||bs,xs,new fs.default(new os.default),new ss.default,new ps.default(0,new rs.default(0,0,0)),new ns.default(vs||bs,xs))}setAudioProfile(vs){}start(){}stop(){}promoteToPrimaryMeeting(vs){return Promise.resolve(new cs.default(us.default.OK))}demoteFromPrimaryMeeting(){}};return NoOpAudioVideoController.default=ms,NoOpAudioVideoController}var NoOpDeviceController$1={},__awaiter$c=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,rs,ns,os){function ss(as){return as instanceof ns?as:new ns(function(ls){ls(as)})}return new(ns||(ns=Promise))(function(as,ls){function cs(ps){try{ds(os.next(ps))}catch(fs){ls(fs)}}function us(ps){try{ds(os.throw(ps))}catch(fs){ls(fs)}}function ds(ps){ps.done?as(ps.value):ss(ps.value).then(cs,us)}ds((os=os.apply(ts,rs||[])).next())})},__importDefault$6=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(NoOpDeviceController$1,"__esModule",{value:!0});NoOpDeviceController$1.NoOpDeviceControllerWithEventController=void 0;const NoOpMediaStreamBroker_1=__importDefault$6(NoOpMediaStreamBroker$1),VideoQualitySettings_1=__importDefault$6(VideoQualitySettings$1);class NoOpDeviceController extends NoOpMediaStreamBroker_1.default{constructor(rs){super(),this.destroyed=!1}destroy(){return __awaiter$c(this,void 0,void 0,function*(){this.destroyed=!0})}listAudioInputDevices(){return Promise.resolve([])}listVideoInputDevices(){return Promise.resolve([])}listAudioOutputDevices(){return Promise.resolve([])}startAudioInput(rs){return Promise.reject()}stopAudioInput(){return Promise.resolve()}startVideoInput(rs){return Promise.reject()}stopVideoInput(){return Promise.resolve()}chooseAudioOutput(rs){return Promise.reject()}addDeviceChangeObserver(rs){}removeDeviceChangeObserver(rs){}createAnalyserNodeForAudioInput(){return null}startVideoPreviewForVideoInput(rs){}stopVideoPreviewForVideoInput(rs){}setDeviceLabelTrigger(rs){}mixIntoAudioInput(rs){return null}chooseVideoInputQuality(rs,ns,os){}getVideoInputQualitySettings(){return VideoQualitySettings_1.default.VideoDisabled}}NoOpDeviceController$1.default=NoOpDeviceController;class NoOpDeviceControllerWithEventController extends NoOpDeviceController{constructor(rs){super(),this.eventController=rs}}NoOpDeviceController$1.NoOpDeviceControllerWithEventController=NoOpDeviceControllerWithEventController;var NoOpEventReporter$1={};Object.defineProperty(NoOpEventReporter$1,"__esModule",{value:!0});class NoOpEventReporter{constructor(){}reportEvent(rs,ns,os){}start(){}stop(){}}NoOpEventReporter$1.default=NoOpEventReporter;var NoOpTask$1={};Object.defineProperty(NoOpTask$1,"__esModule",{value:!0});class NoOpTask{cancel(){}name(){return"NoOpTask"}run(){return Promise.resolve()}setParent(rs){}}NoOpTask$1.default=NoOpTask;var NoOpVideoElementFactory$1={};Object.defineProperty(NoOpVideoElementFactory$1,"__esModule",{value:!0});class NoOpVideoElementFactory{create(){const rs={clientWidth:400,clientHeight:300,width:400,height:300,videoWidth:400,videoHeight:300,style:{transform:""},hasAttribute:()=>!1,removeAttribute:()=>{},setAttribute:()=>{},srcObject:!1,paused:!0,pause:()=>{rs.paused=!0},play:()=>(rs.paused=!1,Promise.resolve())};return rs}}NoOpVideoElementFactory$1.default=NoOpVideoElementFactory;var NoVideoUplinkBandwidthPolicy$1={},__importDefault$5=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(NoVideoUplinkBandwidthPolicy$1,"__esModule",{value:!0});const DefaultVideoCaptureAndEncodeParameter_1=__importDefault$5(DefaultVideoCaptureAndEncodeParameter$1);class NoVideoUplinkBandwidthPolicy{constructor(){}updateConnectionMetric(rs){}chooseMediaTrackConstraints(){return{}}chooseEncodingParameters(){return new Map}updateIndex(rs){}wantsResubscribe(){return!1}chooseCaptureAndEncodeParameters(){return new DefaultVideoCaptureAndEncodeParameter_1.default(0,0,0,0,!1)}maxBandwidthKbps(){return 0}setIdealMaxBandwidthKbps(rs){}setHasBandwidthPriority(rs){}setHighResolutionFeatureEnabled(rs){}wantsVideoDependencyDescriptorRtpHeaderExtension(){return!1}}NoVideoUplinkBandwidthPolicy$1.default=NoVideoUplinkBandwidthPolicy;var POSTLogger$1={},__awaiter$b=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,rs,ns,os){function ss(as){return as instanceof ns?as:new ns(function(ls){ls(as)})}return new(ns||(ns=Promise))(function(as,ls){function cs(ps){try{ds(os.next(ps))}catch(fs){ls(fs)}}function us(ps){try{ds(os.throw(ps))}catch(fs){ls(fs)}}function ds(ps){ps.done?as(ps.value):ss(ps.value).then(cs,us)}ds((os=os.apply(ts,rs||[])).next())})},__importDefault$4=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(POSTLogger$1,"__esModule",{value:!0});const IntervalScheduler_1=__importDefault$4(IntervalScheduler$1),Log_1=__importDefault$4(Log$1),LogLevel_1=__importDefault$4(LogLevel);class POSTLogger{constructor(rs){this.logCapture=[],this.lock=!1,this.sequenceNumber=0;const{url:ns,batchSize:os=POSTLogger.BATCH_SIZE,intervalMs:ss=POSTLogger.INTERVAL_MS,logLevel:as=LogLevel_1.default.WARN,metadata:ls,headers:cs}=rs;this.url=ns,this.batchSize=os,this.intervalMs=ss,this.logLevel=as,this.metadata=ls,this.headers=cs,this.start(),this.eventListener=()=>{this.stop()},this.addEventListener()}addEventListener(){!this.eventListener||!("window"in commonjsGlobal$1)||!window.addEventListener||window.addEventListener("unload",this.eventListener)}removeEventListener(){!this.eventListener||!("window"in commonjsGlobal$1)||!window.removeEventListener||window.removeEventListener("unload",this.eventListener)}debug(rs){LogLevel_1.default.DEBUG<this.logLevel||(typeof rs=="string"?this.log(LogLevel_1.default.DEBUG,rs):rs?this.log(LogLevel_1.default.DEBUG,rs()):this.log(LogLevel_1.default.DEBUG,""+rs))}info(rs){this.log(LogLevel_1.default.INFO,rs)}warn(rs){this.log(LogLevel_1.default.WARN,rs)}error(rs){this.log(LogLevel_1.default.ERROR,rs)}setLogLevel(rs){this.logLevel=rs}getLogLevel(){return this.logLevel}getLogCaptureSize(){return this.logCapture.length}start(){this.addEventListener(),this.intervalScheduler=new IntervalScheduler_1.default(this.intervalMs),this.intervalScheduler.start(()=>__awaiter$b(this,void 0,void 0,function*(){if(this.lock===!0||this.getLogCaptureSize()===0)return;this.lock=!0;const rs=this.logCapture.slice(0,this.batchSize),ns=this.makeRequestBody(rs);try{(yield fetch(this.url,Object.assign({method:"POST",body:ns},this.headers?{headers:this.headers}:{}))).status===200&&(this.logCapture=this.logCapture.slice(rs.length))}catch(os){console.warn("[POSTLogger] "+os.message)}finally{this.lock=!1}}))}stop(){var rs;(rs=this.intervalScheduler)===null||rs===void 0||rs.stop(),this.intervalScheduler=void 0,this.removeEventListener();const ns=this.makeRequestBody(this.logCapture);navigator.sendBeacon(this.url,ns)}destroy(){return __awaiter$b(this,void 0,void 0,function*(){this.stop(),this.metadata=void 0,this.headers=void 0,this.logCapture=[],this.sequenceNumber=0,this.lock=!1,this.batchSize=0,this.intervalMs=0,this.url=void 0})}makeRequestBody(rs){return JSON.stringify(Object.assign(Object.assign({},this.metadata),{logs:rs}))}log(rs,ns){if(rs<this.logLevel)return;const os=Date.now();this.logCapture.push(new Log_1.default(this.sequenceNumber,ns,os,LogLevel_1.default[rs])),this.sequenceNumber+=1}}POSTLogger$1.default=POSTLogger;POSTLogger.BATCH_SIZE=85;POSTLogger.INTERVAL_MS=2e3;var PrefetchSortBy$1={};Object.defineProperty(PrefetchSortBy$1,"__esModule",{value:!0});var PrefetchSortBy;(function(ts){ts.Unread="unread",ts.LastMessageTimestamp="last-message-timestamp"})(PrefetchSortBy||(PrefetchSortBy={}));PrefetchSortBy$1.default=PrefetchSortBy;var RealtimeAttendeePositionInFrame$1={};Object.defineProperty(RealtimeAttendeePositionInFrame$1,"__esModule",{value:!0});class RealtimeAttendeePositionInFrame{constructor(){this.attendeeIndex=null,this.attendeesInFrame=null}}RealtimeAttendeePositionInFrame$1.default=RealtimeAttendeePositionInFrame;var RunnableTask$1={},__importDefault$3=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(RunnableTask$1,"__esModule",{value:!0});const BaseTask_1=__importDefault$3(BaseTask$1);class RunnableTask extends BaseTask_1.default{constructor(rs,ns,os="RunnableTask"){super(rs),this.fn=ns,this.taskName=os}run(){return this.fn().then(()=>{})}}RunnableTask$1.default=RunnableTask;var SingleNodeAudioTransformDevice$1={},__awaiter$a=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,rs,ns,os){function ss(as){return as instanceof ns?as:new ns(function(ls){ls(as)})}return new(ns||(ns=Promise))(function(as,ls){function cs(ps){try{ds(os.next(ps))}catch(fs){ls(fs)}}function us(ps){try{ds(os.throw(ps))}catch(fs){ls(fs)}}function ds(ps){ps.done?as(ps.value):ss(ps.value).then(cs,us)}ds((os=os.apply(ts,rs||[])).next())})};Object.defineProperty(SingleNodeAudioTransformDevice$1,"__esModule",{value:!0});class SingleNodeAudioTransformDevice{constructor(rs){this.inner=rs}mute(rs){return __awaiter$a(this,void 0,void 0,function*(){})}stop(){var rs;return __awaiter$a(this,void 0,void 0,function*(){(rs=this.node)===null||rs===void 0||rs.disconnect()})}intrinsicDevice(){return __awaiter$a(this,void 0,void 0,function*(){return this.inner})}createAudioNode(rs){var ns;return __awaiter$a(this,void 0,void 0,function*(){return(ns=this.node)===null||ns===void 0||ns.disconnect(),this.node=yield this.createSingleAudioNode(rs),{start:this.node,end:this.node}})}}SingleNodeAudioTransformDevice$1.default=SingleNodeAudioTransformDevice;var TranscriptAlternative$1={};Object.defineProperty(TranscriptAlternative$1,"__esModule",{value:!0});class TranscriptAlternative{}TranscriptAlternative$1.default=TranscriptAlternative;var TranscriptEntity$1={};Object.defineProperty(TranscriptEntity$1,"__esModule",{value:!0});class TranscriptEntity{}TranscriptEntity$1.default=TranscriptEntity;var TranscriptItem$1={};Object.defineProperty(TranscriptItem$1,"__esModule",{value:!0});class TranscriptItem{}TranscriptItem$1.default=TranscriptItem;var TranscriptLanguageWithScore$1={};Object.defineProperty(TranscriptLanguageWithScore$1,"__esModule",{value:!0});class TranscriptLanguageWithScore{}TranscriptLanguageWithScore$1.default=TranscriptLanguageWithScore;var TranscriptResult$1={};Object.defineProperty(TranscriptResult$1,"__esModule",{value:!0});class TranscriptResult{}TranscriptResult$1.default=TranscriptResult;var VideoFxProcessor$1={},DeferredPromise$1={};Object.defineProperty(DeferredPromise$1,"__esModule",{value:!0});DeferredPromise$1.DeferredPromise=void 0;class DeferredPromise{constructor(){this.promise=new Promise((rs,ns)=>{this.resolve=rs,this.reject=ns})}getPromise(){return this.promise}resolvePromise(rs){this.resolve(rs)}resolveAndReplacePromise(rs){this.resolve(rs),this.promise=new Promise((ns,os)=>{this.resolve=ns,this.reject=os})}rejectPromise(rs){this.reject(rs)}rejectAndReplacePromise(rs){this.reject(rs),this.promise=new Promise((ns,os)=>{this.resolve=ns,this.reject=os})}}DeferredPromise$1.DeferredPromise=DeferredPromise;var VideoFxCanvasOpsManager$1={},VideoFxConstants={};Object.defineProperty(VideoFxConstants,"__esModule",{value:!0});VideoFxConstants.FXLIB_PATH=VideoFxConstants.WORKER_PATH=VideoFxConstants.CDN_BASE_PATH=VideoFxConstants.RESOURCE_CONSTRAINTS=VideoFxConstants.SEGMENTATION_MODEL=VideoFxConstants.DEFAULT_STREAM_PARAMETERS=VideoFxConstants.WORKER_MSG=void 0;VideoFxConstants.WORKER_MSG={BUILD_ENGINE_REQUEST:"BuildEngineRequest",BUILD_ENGINE_RESPONSE:"BuildEngineResponse",PERFORM_SEGMENTATION_REQUEST:"PerformSegmentationRequest",PERFORM_SEGMENTATION_RESPONSE:"PerformSegmentationResponse",PERFORM_SEGMENTATION_SAB_REQUEST:"PerformSegmentationSABRequest",PERFORM_SEGMENTATION_SAB_RESPONSE:"PerformSegmentationSABResponse",DESTROY_ASSETS_REQUEST:"DestroyAssetsRequest",DESTROY_ASSETS_RESPONSE:"DestroyAssetsResponse",CLOSE_WORKER_REQUEST:"CloseWorkerRequest"};VideoFxConstants.DEFAULT_STREAM_PARAMETERS={FRAMES_PER_SECOND:15,WIDTH_IN_PIXEL:960,HEIGHT_IN_PIXEL:540,CHANNEL_COUNT:4};VideoFxConstants.SEGMENTATION_MODEL={LOAD_SUCCESS:2,WIDTH_IN_PIXELS:176,HEIGHT_IN_PIXELS:160};VideoFxConstants.RESOURCE_CONSTRAINTS={DEFAULT_PROCESSING_BUDGET_PER_FRAME:50,SEGMENTATION_DEFAULT_FRAMES_PER_SEGMENTATION:1,SEGMENTATION_SAMPLING_PERIOD_FRAME_COUNT:500,BLUR_DEFAULT_CYCLE_PERCENTAGE:10,BLUR_SAMPLING_PERIOD_FRAME_COUNT:1e3,MIN_PROCESSING_BUDGET:0,MAX_PROCESSING_BUDGET:100};VideoFxConstants.CDN_BASE_PATH="https://static.sdkassets.chime.aws";const MFX_ASSET_PATH="/ml_media_fx/otherassets";VideoFxConstants.WORKER_PATH="".concat(MFX_ASSET_PATH,"/worker.js");VideoFxConstants.FXLIB_PATH="".concat(MFX_ASSET_PATH,"/fxlib.js");var __awaiter$9=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,rs,ns,os){function ss(as){return as instanceof ns?as:new ns(function(ls){ls(as)})}return new(ns||(ns=Promise))(function(as,ls){function cs(ps){try{ds(os.next(ps))}catch(fs){ls(fs)}}function us(ps){try{ds(os.throw(ps))}catch(fs){ls(fs)}}function ds(ps){ps.done?as(ps.value):ss(ps.value).then(cs,us)}ds((os=os.apply(ts,rs||[])).next())})};Object.defineProperty(VideoFxCanvasOpsManager$1,"__esModule",{value:!0});VideoFxCanvasOpsManager$1.VideoFxCanvasOpsManager=void 0;const VideoFxConstants_1$2=VideoFxConstants;class VideoFxCanvasOpsManager{constructor(rs,ns){this.streamParameters=rs,this.outputCanvas=ns,this.configureCanvasPipeline()}getInferenceInputData(rs){return this.inferenceCtx.save(),this.inferenceCtx.scale(this.horizontalResizeScalar,this.verticalResizeScalar),this.inferenceCtx.drawImage(rs,0,0),this.inferenceCtx.restore(),this.inferenceCtx.getImageData(0,0,VideoFxConstants_1$2.SEGMENTATION_MODEL.WIDTH_IN_PIXELS,VideoFxConstants_1$2.SEGMENTATION_MODEL.HEIGHT_IN_PIXELS)}configureForStreamParameters(rs){return __awaiter$9(this,void 0,void 0,function*(){if(this.streamParameters=rs,this.outputCanvas.width=this.streamParameters.width,this.outputCanvas.height=this.streamParameters.height,this.backgroundReplacementCanvas){const ns=document.createElement("canvas");ns.width=this.streamParameters.width,ns.height=this.streamParameters.height,ns.getContext("2d").drawImage(this.backgroundReplacementCanvas,0,0,this.streamParameters.width,this.streamParameters.height),this.backgroundReplacementCanvas=ns}this.configureCanvasPipeline()})}configureCanvasPipeline(){this.inferenceCanvas=document.createElement("canvas"),this.inferenceCtx=this.inferenceCanvas.getContext("2d",{willReadFrequently:!0}),this.inferenceCanvas.width=VideoFxConstants_1$2.SEGMENTATION_MODEL.WIDTH_IN_PIXELS,this.inferenceCanvas.height=VideoFxConstants_1$2.SEGMENTATION_MODEL.HEIGHT_IN_PIXELS,this.horizontalResizeScalar=VideoFxConstants_1$2.SEGMENTATION_MODEL.WIDTH_IN_PIXELS/this.streamParameters.width,this.verticalResizeScalar=VideoFxConstants_1$2.SEGMENTATION_MODEL.HEIGHT_IN_PIXELS/this.streamParameters.height}getBackgroundReplacementCanvas(){return this.backgroundReplacementCanvas}loadReplacementBackground(rs){return __awaiter$9(this,void 0,void 0,function*(){const ns=rs.backgroundReplacement.backgroundImageURL,os=rs.backgroundReplacement.defaultColor;if(ns)try{const ss=yield this.loadImage(ns);this.backgroundReplacementImage=ss,this.resizeAndSetReplacementImage(this.backgroundReplacementImage)}catch(ss){throw this.logger.error(ss),new Error("Failed to set the replacement image.")}else this.resizeAndSetReplacementColor(os)})}resizeAndSetReplacementImage(rs){const ns=document.createElement("canvas"),os=ns.getContext("2d");ns.width=this.streamParameters.width,ns.height=this.streamParameters.height,os.drawImage(rs,0,0,this.streamParameters.width,this.streamParameters.height),this.backgroundReplacementCanvas=ns}resizeAndSetReplacementColor(rs){const ns=document.createElement("canvas"),os=ns.getContext("2d");ns.width=this.streamParameters.width,ns.height=this.streamParameters.height,os.fillStyle=rs,os.fillRect(0,0,this.streamParameters.width,this.streamParameters.height),this.backgroundReplacementCanvas=ns}loadImage(rs){return __awaiter$9(this,void 0,void 0,function*(){const os=yield(yield fetch(rs).catch(as=>{throw this.logger.error(as.toString()),new Error("Failed to fetch image.")})).blob(),ss=new Image;return ss.src=URL.createObjectURL(os),new Promise((as,ls)=>{ss.onload=()=>{as(ss)},ss.onerror=cs=>{ls(cs)}})})}}VideoFxCanvasOpsManager$1.VideoFxCanvasOpsManager=VideoFxCanvasOpsManager;var VideoFxSegmentationRateManager$1={};Object.defineProperty(VideoFxSegmentationRateManager$1,"__esModule",{value:!0});VideoFxSegmentationRateManager$1.VideoFxSegmentationRateManager=void 0;const VideoFxConstants_1$1=VideoFxConstants;class VideoFxSegmentationRateManager{constructor(rs,ns){this.logger=rs,this.targetSegmentationCyclePercentage=ns/100,this.frameCountOverSamplingPeriod=0,this.totalSegmentationDurationOverSamplingPeriod=0,this.samplingPeriodStartTime=performance.now(),this.framesPerSegmentation=VideoFxConstants_1$1.RESOURCE_CONSTRAINTS.SEGMENTATION_DEFAULT_FRAMES_PER_SEGMENTATION}submitFrame(){this.frameCountOverSamplingPeriod++}shouldApplySegmentation(){return this.frameCountOverSamplingPeriod%this.framesPerSegmentation===0}startSegmentation(){this.frameSegmentationStartTime=performance.now()}completeSegmentation(){this.totalSegmentationDurationOverSamplingPeriod+=performance.now()-this.frameSegmentationStartTime,this.frameCountOverSamplingPeriod>=VideoFxConstants_1$1.RESOURCE_CONSTRAINTS.SEGMENTATION_SAMPLING_PERIOD_FRAME_COUNT&&this.adjustFramesPerSegmentation(this.totalSegmentationDurationOverSamplingPeriod/(performance.now()-this.samplingPeriodStartTime))}adjustFramesPerSegmentation(rs){rs>this.targetSegmentationCyclePercentage?(this.framesPerSegmentation++,this.logger.info("Segmentation cycle percentage above the configured maximal value. Decreasing segmentation rate to 1 segmentation per "+"".concat(this.framesPerSegmentation," frames"))):this.framesPerSegmentation>1&&rs<this.targetSegmentationCyclePercentage&&(this.framesPerSegmentation--,this.logger.info("Segmentation cycle percentage below the configured maximal value. Increasing segmentation rate to 1 segmentation per "+"".concat(this.framesPerSegmentation," frames"))),this.totalSegmentationDurationOverSamplingPeriod=0,this.frameCountOverSamplingPeriod=0,this.samplingPeriodStartTime=performance.now()}}VideoFxSegmentationRateManager$1.VideoFxSegmentationRateManager=VideoFxSegmentationRateManager;var __awaiter$8=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,rs,ns,os){function ss(as){return as instanceof ns?as:new ns(function(ls){ls(as)})}return new(ns||(ns=Promise))(function(as,ls){function cs(ps){try{ds(os.next(ps))}catch(fs){ls(fs)}}function us(ps){try{ds(os.throw(ps))}catch(fs){ls(fs)}}function ds(ps){ps.done?as(ps.value):ss(ps.value).then(cs,us)}ds((os=os.apply(ts,rs||[])).next())})},__importDefault$2=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(VideoFxProcessor$1,"__esModule",{value:!0});const fetch_1=fetch$1,loader_1=loader,support_1=support,DefaultBrowserBehavior_1$1=__importDefault$2(DefaultBrowserBehavior$1),NoOpLogger_1=__importDefault$2(NoOpLogger$1),Utils_1$1=Utils$1,Versioning_1$1=__importDefault$2(Versioning$1),CanvasVideoFrameBuffer_1=__importDefault$2(CanvasVideoFrameBuffer$1),DeferredPromise_1=DeferredPromise$1,VideoFxCanvasOpsManager_1=VideoFxCanvasOpsManager$1,VideoFxConstants_1=VideoFxConstants,VideoFxSegmentationRateManager_1=VideoFxSegmentationRateManager$1;class VideoFxProcessor{constructor(rs,ns=VideoFxConstants_1.RESOURCE_CONSTRAINTS.DEFAULT_PROCESSING_BUDGET_PER_FRAME,os){this.logger=rs,this.outputCanvas=document.createElement("canvas"),this.canvasVideoFrameBuffer=new CanvasVideoFrameBuffer_1.default(this.outputCanvas);try{this.validateProcessingBudgetPerFrame(ns)}catch(ss){throw this.logger.error(ss),new Error("Cannot instantiate VideoFxProcessor due to invalid "+"processingBudgetPerFrame of ".concat(ns))}os&&(this.eventController=os),this.effectConfig={backgroundBlur:{isEnabled:!1,strength:"low"},backgroundReplacement:{isEnabled:!1,backgroundImageURL:null,defaultColor:"black"}},this.segmentationRequestPromise=new DeferredPromise_1.DeferredPromise,this.segmentationRateManager=new VideoFxSegmentationRateManager_1.VideoFxSegmentationRateManager(this.logger,ns),this.streamParameters={framerate:VideoFxConstants_1.DEFAULT_STREAM_PARAMETERS.FRAMES_PER_SECOND,width:VideoFxConstants_1.DEFAULT_STREAM_PARAMETERS.WIDTH_IN_PIXEL,height:VideoFxConstants_1.DEFAULT_STREAM_PARAMETERS.HEIGHT_IN_PIXEL,channels:VideoFxConstants_1.DEFAULT_STREAM_PARAMETERS.CHANNEL_COUNT},VideoFxProcessor.isSharedArrayBufferSupported&&(this.sharedImageBuffer=new SharedArrayBuffer(VideoFxConstants_1.SEGMENTATION_MODEL.WIDTH_IN_PIXELS*VideoFxConstants_1.SEGMENTATION_MODEL.HEIGHT_IN_PIXELS*this.streamParameters.channels),this.sharedImageData=new Uint8ClampedArray(this.sharedImageBuffer)),this.logger.info("VideoFx supports Shared Array Buffer: "+"".concat(VideoFxProcessor.isSharedArrayBufferSupported)),this.canvasOpsManager=new VideoFxCanvasOpsManager_1.VideoFxCanvasOpsManager(this.streamParameters,this.outputCanvas),this.outputCanvas.width=this.streamParameters.width,this.outputCanvas.height=this.streamParameters.height,this.segmentationMask=new ImageData(this.streamParameters.width,this.streamParameters.height),this.logger.info("VideoFxProcessor instantiated with a processingBudgetPerFrame of ".concat(ns))}process(rs){return __awaiter$8(this,void 0,void 0,function*(){return rs})}fxProcess(rs){return __awaiter$8(this,void 0,void 0,function*(){const ns=rs[0].asCanvasElement();this.didStreamParametersChange(ns)&&(yield this.adjustProcessorForNewStreamParameters(ns));try{yield this.manageSegmentationMask(ns)}catch(os){throw this.logger.error(os),new Error("Video stream could not be processed")}return yield this.renderer.render(ns,this.segmentationMask),rs[0]=this.canvasVideoFrameBuffer,rs})}noOpProcess(rs){return __awaiter$8(this,void 0,void 0,function*(){return rs})}didStreamParametersChange(rs){return rs.width!==this.streamParameters.width||rs.height!==this.streamParameters.height}adjustProcessorForNewStreamParameters(rs){return __awaiter$8(this,void 0,void 0,function*(){this.streamParameters.width=rs.width,this.streamParameters.height=rs.height,yield this.canvasOpsManager.configureForStreamParameters(this.streamParameters),yield this.renderer.configure(this.streamParameters.width,this.streamParameters.height,this.effectConfig)})}destroy(){return __awaiter$8(this,void 0,void 0,function*(){this.canvasVideoFrameBuffer.destroy(),this.fxLibScript&&this.fxLibScript.parentNode&&this.fxLibScript.parentNode.removeChild(this.fxLibScript),this.engineWorker&&(this.destroyedAssetsPromise=new DeferredPromise_1.DeferredPromise,this.engineWorker.postMessage({msg:VideoFxConstants_1.WORKER_MSG.DESTROY_ASSETS_REQUEST}),yield this.destroyedAssetsPromise.getPromise(),this.engineWorker.postMessage({msg:VideoFxConstants_1.WORKER_MSG.CLOSE_WORKER_REQUEST})),this.logger.info("VideoFxProcessor destroyed.")})}manageSegmentationMask(rs){return __awaiter$8(this,void 0,void 0,function*(){try{if(this.segmentationRateManager.submitFrame(),this.segmentationRateManager.shouldApplySegmentation()){this.segmentationRateManager.startSegmentation();const ns=this.canvasOpsManager.getInferenceInputData(rs);this.segmentationMask=yield this.generateSegmentationMask(ns),this.segmentationRateManager.completeSegmentation()}}catch(ns){throw this.logger.error(ns.toString()),new Error("Can not properly manage the returned segmentation mask")}})}generateSegmentationMask(rs){return __awaiter$8(this,void 0,void 0,function*(){VideoFxProcessor.isSharedArrayBufferSupported?(this.sharedImageData.set(rs.data),this.engineWorker.postMessage({msg:VideoFxConstants_1.WORKER_MSG.PERFORM_SEGMENTATION_SAB_REQUEST,payload:this.sharedImageBuffer})):this.engineWorker.postMessage({msg:VideoFxConstants_1.WORKER_MSG.PERFORM_SEGMENTATION_REQUEST,payload:rs},[rs.data.buffer]);try{return yield this.segmentationRequestPromise.getPromise()}catch(ns){throw this.logger.error(ns.toString()),new Error("Segmentation mask could not be generated")}})}cloneConfigFrom(rs){return{backgroundBlur:{isEnabled:rs.backgroundBlur.isEnabled,strength:rs.backgroundBlur.strength},backgroundReplacement:{isEnabled:rs.backgroundReplacement.isEnabled,backgroundImageURL:rs.backgroundReplacement.backgroundImageURL,defaultColor:rs.backgroundReplacement.defaultColor}}}setEffectConfig(rs){return __awaiter$8(this,void 0,void 0,function*(){if(this.sameVideoFxConfig(rs,this.effectConfig))return;const ns=this.cloneConfigFrom(rs);try{yield this.validateEffectConfig(ns)}catch(os){throw this.logger.error(os.toString()),new Error("Provided effect config is invalid, not updating VideoFxProcessor")}ns.backgroundReplacement.isEnabled&&(yield this.canvasOpsManager.loadReplacementBackground(ns),yield this.renderer.setBackgroundReplacementCanvas(this.canvasOpsManager.getBackgroundReplacementCanvas())),yield this.renderer.configure(this.streamParameters.width,this.streamParameters.height,ns),this.effectConfig=ns,!this.effectConfig.backgroundBlur.isEnabled&&!this.effectConfig.backgroundReplacement.isEnabled?this.process=this.noOpProcess:this.process=this.fxProcess,this.logger.info("VideoFxProcessor effect configuration updated to: ".concat(JSON.stringify(this.effectConfig))),this.eventController&&this.publishVideoFxConfigEvent()})}validateEffectConfig(rs){return __awaiter$8(this,void 0,void 0,function*(){if(rs.backgroundBlur.isEnabled&&rs.backgroundReplacement.isEnabled)throw new Error("Invalid VideoFx configuration: Background Blur and Background Replacement can not both be enabled");rs.backgroundReplacement.isEnabled&&(yield this.validateReplacementConfig(rs))})}validateReplacementConfig(rs){return __awaiter$8(this,void 0,void 0,function*(){if(rs.backgroundReplacement.backgroundImageURL&&rs.backgroundReplacement.defaultColor)throw new Error("Invalid VideoFx configuration: Background Replacement can not have both an image URL and default color");if(!rs.backgroundReplacement.backgroundImageURL&&!rs.backgroundReplacement.defaultColor)throw new Error("Invalid VideoFx configuration: Background Replacement image URL and default can not both be null/undefined");try{rs.backgroundReplacement.backgroundImageURL&&(yield this.canvasOpsManager.loadImage(rs.backgroundReplacement.backgroundImageURL))}catch(os){throw this.logger.error(os.toString()),new Error("Invalid VideoFx configuration: backgroundImageURL failed to load")}const ns=rs.backgroundReplacement.defaultColor;if(ns&&ns!=="black"&&ns!=="#000000"&&ns!=="#000"){if(ns.includes("#")&&!new RegExp(/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/).test(ns))throw new Error("Invalid hexadecimal color code for default replacement "+"background: ".concat(ns));const ss=document.createElement("canvas").getContext("2d"),as=ss.fillStyle;if(ss.fillStyle=ns,ss.fillStyle===as)throw new Error("Invalid color for default replacement background: ".concat(ns))}})}validateProcessingBudgetPerFrame(rs){if(rs<VideoFxConstants_1.RESOURCE_CONSTRAINTS.MIN_PROCESSING_BUDGET||rs>VideoFxConstants_1.RESOURCE_CONSTRAINTS.MAX_PROCESSING_BUDGET)throw new Error("Invalid resource constraint: cycle percentage must be within "+"range of ".concat(VideoFxConstants_1.RESOURCE_CONSTRAINTS.MIN_PROCESSING_BUDGET," and ")+"".concat(VideoFxConstants_1.RESOURCE_CONSTRAINTS.MAX_PROCESSING_BUDGET))}loadAssets(){return __awaiter$8(this,void 0,void 0,function*(){this.logger.info("Loading required assets for the VideoFxProcessor");try{const rs=this.getVideoFxAssetParams();yield this.loadEngineWorker(rs),yield this.buildEngine(rs),yield this.loadFxLib(rs),this.renderer=constructRenderer(VideoFxConstants_1.SEGMENTATION_MODEL.WIDTH_IN_PIXELS,VideoFxConstants_1.SEGMENTATION_MODEL.HEIGHT_IN_PIXELS,this.effectConfig,this.outputCanvas)}catch(rs){throw this.logger.error(rs.toString()),new Error("Failed to load necessary assets for the VideoFxProcessor")}this.logger.info("Finished loading of essential VideoFxProcessor assets.")})}getVideoFxAssetParams(){const rs=Utils_1$1.getDefaultAssetSpec();return{assetGroup:rs.assetGroup,revisionID:rs.revisionID,sdk:encodeURIComponent(Versioning_1$1.default.sdkVersion),ua:encodeURIComponent(Versioning_1$1.default.sdkUserAgentLowResolution)}}getPathFromVideoFxAssetParams(rs,ns){const os=new URL(rs);for(const[ss,as]of Object.entries(ns))if(as!==void 0){const ls=encodeURIComponent(ss),cs=encodeURIComponent(as);os.searchParams.set(ls,cs)}return os.toString()}loadEngineWorker(rs){return __awaiter$8(this,void 0,void 0,function*(){try{const ns=this.getPathFromVideoFxAssetParams(VideoFxConstants_1.CDN_BASE_PATH+VideoFxConstants_1.WORKER_PATH,rs);this.engineWorker=yield loader_1.loadWorker(ns,"VideoFxEngineWorker",{},null),this.logger.info("Successfully loaded the VideoFxProcessor's engine worker"),this.engineWorker.addEventListener("message",os=>this.engineWorkerReceiver(os))}catch(ns){throw this.logger.error(ns.toString()),new Error("Failed to load the VideoFxProcessor's engine worker")}})}buildEngine(rs){return __awaiter$8(this,void 0,void 0,function*(){this.buildEnginePromise=new DeferredPromise_1.DeferredPromise,this.engineWorker.postMessage({msg:VideoFxConstants_1.WORKER_MSG.BUILD_ENGINE_REQUEST,payload:{cdnBasePath:VideoFxConstants_1.CDN_BASE_PATH,sdkVersioningParams:rs}});try{yield this.buildEnginePromise.getPromise()}catch(ns){throw this.logger.error(ns.toString()),new Error("Failed to instantiate the VideoFxEngine")}})}loadFxLib(rs){return __awaiter$8(this,void 0,void 0,function*(){const ns=this.getPathFromVideoFxAssetParams(VideoFxConstants_1.CDN_BASE_PATH+VideoFxConstants_1.FXLIB_PATH,rs),os={method:"GET",mode:"cors",credentials:"omit",redirect:"follow",referrerPolicy:"no-referrer"};try{const ss=yield fetch_1.fetchWithBehavior(ns,os,{});if(!ss.ok)throw new Error("Fetch failed.");const as=window.URL.createObjectURL(yield ss.blob());yield new Promise((ls,cs)=>{this.fxLibScript=document.createElement("script"),this.fxLibScript.setAttribute("src",as),this.fxLibScript.setAttribute("type","module"),this.fxLibScript.setAttribute("async","false"),this.fxLibScript.addEventListener("load",ls),this.fxLibScript.addEventListener("error",cs),document.body.appendChild(this.fxLibScript)})}catch(ss){throw this.logger.error(ss.toString()),new Error("Failed to load the fxlib")}})}getEffectConfig(){return this.cloneConfigFrom(this.effectConfig)}engineWorkerReceiver(rs){const ns=rs.data;switch(ns.msg){case VideoFxConstants_1.WORKER_MSG.BUILD_ENGINE_RESPONSE:this.settleEngineBuildPromise(ns.payload);break;case VideoFxConstants_1.WORKER_MSG.PERFORM_SEGMENTATION_RESPONSE:this.settleSegmentationPromise(ns.payload.output);break;case VideoFxConstants_1.WORKER_MSG.PERFORM_SEGMENTATION_SAB_RESPONSE:this.settleSegmentationPromiseSAB();break;case VideoFxConstants_1.WORKER_MSG.DESTROY_ASSETS_RESPONSE:this.destroyedAssetsPromise.resolvePromise();break;default:this.logger.info("VideoFx worker received unknown event msg: ".concat(JSON.stringify(ns)));break}}settleEngineBuildPromise(rs){rs!==VideoFxConstants_1.SEGMENTATION_MODEL.LOAD_SUCCESS?this.buildEnginePromise.rejectPromise(new Error("Failed to build VideoFxProcessor's engine")):(this.logger.info("Successfully built the VideoFxEngine"),this.buildEnginePromise.resolvePromise())}settleSegmentationPromise(rs){rs?this.segmentationRequestPromise.resolveAndReplacePromise(rs):this.segmentationRequestPromise.rejectAndReplacePromise(new Error("Failed to perform a segmentation on the input image"))}settleSegmentationPromiseSAB(){try{const rs=new ImageData(new Uint8ClampedArray(this.sharedImageData),VideoFxConstants_1.SEGMENTATION_MODEL.WIDTH_IN_PIXELS,VideoFxConstants_1.SEGMENTATION_MODEL.HEIGHT_IN_PIXELS);this.segmentationRequestPromise.resolveAndReplacePromise(rs)}catch{this.segmentationRequestPromise.rejectAndReplacePromise(new Error("Failed to perform a segmentation with a shared array buffer on the input image"))}}setToNoOpProcess(){this.process=this.noOpProcess}static isSupported(rs=new NoOpLogger_1.default,ns=!0){return __awaiter$8(this,void 0,void 0,function*(){let os=!0;const ss=(cs,us)=>{cs&&(rs.info(us),os=!1)};ss(typeof globalThis>"u","Browser does not have globalThis."),ss(!support_1.supportsWorker(globalThis,rs),"Browser does not support web workers."),ss(!support_1.supportsWASM(globalThis,rs),"Browser does not support wasm."),ss(!document.createElement("canvas").getContext("webgl2"),"Browser does not support webgl.");const as=new DefaultBrowserBehavior_1$1.default;ss(!as.isVideoFxSupportedBrowser(),"Browser is unsupported for VideoFxProcessor");const ls=()=>__awaiter$8(this,void 0,void 0,function*(){if(ns)try{const cs=new VideoFxProcessor(rs);yield cs.loadAssets(),yield cs.destroy()}catch{return rs.info("Browser environment is unable to access the required external assets."),Promise.resolve(!1)}return Promise.resolve(!0)});return Promise.resolve(os?yield ls():!1)})}static create(rs,ns,os=VideoFxConstants_1.RESOURCE_CONSTRAINTS.DEFAULT_PROCESSING_BUDGET_PER_FRAME){return __awaiter$8(this,void 0,void 0,function*(){const ss=new VideoFxProcessor(rs,os);try{return yield ss.loadAssets(),yield ss.setEffectConfig(ns),ss}catch(as){throw rs.error(as.toString()),ss.setToNoOpProcess(),new Error("VideoFxProcessor built with support for only NoOp processing")}})}setEventController(rs){this.eventController?this.eventController=rs:(this.eventController=rs,this.publishVideoFxConfigEvent())}publishVideoFxConfigEvent(){const rs={backgroundBlurEnabled:this.effectConfig.backgroundBlur.isEnabled.toString(),backgroundBlurStrength:this.effectConfig.backgroundBlur.strength,backgroundReplacementEnabled:this.effectConfig.backgroundReplacement.isEnabled.toString(),backgroundFilterVersion:2};this.eventController.publishEvent("backgroundFilterConfigSelected",rs)}sameVideoFxConfig(rs,ns){return rs.backgroundBlur.isEnabled===ns.backgroundBlur.isEnabled&&rs.backgroundBlur.strength===ns.backgroundBlur.strength&&rs.backgroundReplacement.backgroundImageURL===ns.backgroundReplacement.backgroundImageURL&&rs.backgroundReplacement.defaultColor===ns.backgroundReplacement.defaultColor&&rs.backgroundReplacement.isEnabled===ns.backgroundReplacement.isEnabled}}VideoFxProcessor$1.default=VideoFxProcessor;VideoFxProcessor.isSharedArrayBufferSupported=typeof SharedArrayBuffer<"u";var VoiceFocusDeviceTransformer$1={},voicefocus={},decider={},__awaiter$7=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,rs,ns,os){function ss(as){return as instanceof ns?as:new ns(function(ls){ls(as)})}return new(ns||(ns=Promise))(function(as,ls){function cs(ps){try{ds(os.next(ps))}catch(fs){ls(fs)}}function us(ps){try{ds(os.throw(ps))}catch(fs){ls(fs)}}function ds(ps){ps.done?as(ps.value):ss(ps.value).then(cs,us)}ds((os=os.apply(ts,rs||[])).next())})};Object.defineProperty(decider,"__esModule",{value:!0});decider.decideModel=decider.measureAndDecideExecutionApproach=void 0;const loader_js_1$1=loader,support_js_1$4=support,DEFAULT_EXECUTION_QUANTA=3,SIMD_SCORE_FIXED_POINT=2.5,WASM_SCORE_FIXED_POINT=2.63,SINGLE_INLINE_SCORE_MULTIPLIER=.6,QUALITY_MULTIPLE_QUANTA_SCORE_MULTIPLIER=.65,INTERACTIVITY_MULTIPLE_QUANTA_SCORE_MULTIPLIER=.5,WORKER_SCORE_MULTIPLIER=.7,PERFORMANCE_THRESHOLDS={wasm:{noSupport:.07,inline:{c100:1,c50:.36,c20:.16,c10:.07},worker:{c100:.5,c50:.18,c20:.08,c10:.06}},simd:{noSupport:.1,inline:{c100:1,c50:.43,c20:.3,c10:.2},worker:{c100:.5,c50:.21,c20:.15,c10:.1}}};class Estimator{constructor(rs,ns){this.fetchConfig=rs,this.logger=ns;const os="".concat(rs.paths.workers,"estimator-v1.js");this.fetchBehavior={headers:rs.headers,escapedQueryString:rs.escapedQueryString},this.worker=loader_js_1$1.loadWorker(os,"VoiceFocusEstimator",this.fetchBehavior,ns)}roundtrip(rs,ns,os){return new Promise((ss,as)=>{this.worker.then(ls=>{let cs;cs=us=>{const{message:ds,key:ps}=us.data;ds===ns&&ps===os&&(ls.removeEventListener("message",cs),ss(us.data))},ls.addEventListener("message",cs),ls.postMessage(rs)}).catch(ls=>{var cs;(cs=this.logger)===null||cs===void 0||cs.error("Failed to load worker.",ls),as(ls)})})}supportsSIMD(rs){const ns="simd",os=rs||"".concat(this.fetchConfig.paths.wasm,"simd-v1.wasm"),ss={message:"supports-simd",fetchBehavior:this.fetchBehavior,path:os,key:ns};return this.roundtrip(ss,"simd-support",ns).then(as=>as.supports)}measure(rs,ns){const os="".concat(this.fetchConfig.paths.wasm,"bench-v1.wasm"),ss="".concat(this.fetchConfig.paths.wasm,"bench-v1_simd.wasm"),as=rs?ss:os,ls="bench:".concat(rs),cs={message:"measure",fetchBehavior:this.fetchBehavior,budget:ns,path:as,key:ls};return this.roundtrip(cs,"measurement",ls).then(us=>{if(us.measurement)return us.measurement;throw new Error("Failed to measure.")})}stop(){this.worker.then(rs=>{var ns;(ns=this.logger)===null||ns===void 0||ns.debug("Stopping estimator worker."),rs.terminate()}).catch(rs=>{})}}const inlineScoreMultiplier=(ts,rs)=>ts===1?SINGLE_INLINE_SCORE_MULTIPLIER:rs==="quality"?QUALITY_MULTIPLE_QUANTA_SCORE_MULTIPLIER*ts:INTERACTIVITY_MULTIPLE_QUANTA_SCORE_MULTIPLIER*ts,decideExecutionApproach=({supportsSIMD:ts,supportsSAB:rs,duration:ns,executionPreference:os="auto",simdPreference:ss,variantPreference:as="auto",namePreference:ls="default",usagePreference:cs,executionQuantaPreference:us=DEFAULT_EXECUTION_QUANTA},ds=PERFORMANCE_THRESHOLDS,ps)=>{const hs=ss==="force"||ss!=="disable"&&ts,ms=ns!==-1,gs=ms?(hs?SIMD_SCORE_FIXED_POINT:WASM_SCORE_FIXED_POINT)/ns:0,vs=hs?ds.simd:ds.wasm,bs=ms?inlineScoreMultiplier(us,cs)*gs:0,xs=ms?WORKER_SCORE_MULTIPLIER*gs:0,ys=ls,Ss=ws=>({supported:!1,reason:ws});if(ms){if(gs<vs.noSupport)return Ss("Performance score ".concat(gs," worse than threshold ").concat(vs.noSupport,"."))}else if(os==="auto"||as==="auto")return Ss("Missing explicit execution (".concat(os,") or variant (").concat(as,") preference, but no scoring performed."));ps==null||ps.debug("Bench duration ".concat(ns," yields inline score ").concat(bs," and worker score ").concat(xs,"."));const Cs=(ws,Ts,Is)=>({supported:!0,useSIMD:hs,processor:ws,executionApproach:Ts,variant:Is,executionQuanta:Ts==="inline"?us:void 0,name:ys}),$s=(ws,Ts,Is)=>Ts!=="auto"?!ms||ws>Is[Ts]?Ts:"failed":ws>Is.c100?"c100":ws>Is.c50?"c50":ws>Is.c20?"c20":ws>Is.c10?"c10":"failed",Es=ws=>{switch(ws||"auto"){case"auto":{let Ts=Es("inline"),Is=Es("worker");return ps==null||ps.debug("Reducing auto preference: ".concat(JSON.stringify(Ts)," vs ").concat(JSON.stringify(Is))),Ts.supported===!1||Is.supported===!1?Is:Ts.variant===Is.variant||Ts.variant==="c50"?Ts:Is}case"worker":return support_js_1$4.supportsSharedArrayBuffer(globalThis,window,ps)?Es("worker-sab"):Es("worker-postMessage");case"inline":{const Ts=$s(bs,as,vs.inline);return Ts==="failed"?Ss("Performance score ".concat(bs," not sufficient for inline use with variant preference ").concat(as,".")):Cs("voicefocus-inline-processor","inline",Ts)}case"worker-sab":{if(!rs){const Is="Requested worker-sab but no SharedArrayBuffer support.";return ps==null||ps.warn(Is),{supported:!1,reason:Is}}const Ts=$s(xs,as,vs.worker);return Ts==="failed"?Ss("Performance score ".concat(xs," not sufficient for worker use with variant preference ").concat(as,".")):Cs("voicefocus-worker-sab-processor","worker-sab",Ts)}case"worker-postMessage":{const Ts=$s(xs,as,vs.worker);if(Ts==="failed")return Ss("Performance score ".concat(xs," not sufficient for worker use."));if(ys==="ns_es"){const Is="Requested echo suppression but postMessage executor does not support it.";return ps==null||ps.warn(Is),{supported:!1,reason:Is}}return Cs("voicefocus-worker-postMessage-processor","worker-postMessage",Ts)}}};return Es(os)},featureCheck=(ts,rs,ns,os)=>__awaiter$7(void 0,void 0,void 0,function*(){const ss={supportsSIMD:ts,supportsSAB:support_js_1$4.supportsSharedArrayBuffer(globalThis,window,ns),duration:-1};if(ts)return ns==null||ns.info("Supports SIMD: true (force)"),ss;const as=!os,ls=os||new Estimator(rs,ns);try{const cs=!support_js_1$4.isOldChrome(window,ns)&&(yield ls.supportsSIMD());return ns==null||ns.info("Supports SIMD: ".concat(cs," (force: ").concat(ts,")")),ss.supportsSIMD=cs,ss}finally{as&&ls.stop()}}),estimateAndFeatureCheck=(ts,rs,ns,os)=>__awaiter$7(void 0,void 0,void 0,function*(){const ss=new Estimator(rs,os);try{const as=yield featureCheck(ts,rs,os,ss);if(as.supportsSIMD)try{return as.duration=yield ss.measure(!0,ns),os==null||os.info("SIMD timing:",as.duration),as}catch{os==null||os.warn("Failed SIMD estimation; falling back to non-SIMD."),as.supportsSIMD=!1}return as.duration=yield ss.measure(!1,ns),os==null||os.info("No-SIMD timing:",as.duration),as}catch(as){throw os==null||os.error("Could not feature check.",as),as}finally{ss.stop()}}),measureAndDecideExecutionApproach=(ts,rs,ns,os=PERFORMANCE_THRESHOLDS)=>__awaiter$7(void 0,void 0,void 0,function*(){let ss=ts.executionPreference;const{usagePreference:as,variantPreference:ls,namePreference:cs,simdPreference:us,estimatorBudget:ds,executionQuantaPreference:ps}=ts;as==="interactivity"&&ss!=="inline"&&(ns==null||ns.debug("Overriding execution preference ".concat(ss," to reflect interactivity preference.")),ss="inline");const fs=us==="force",hs=ls!=="auto",ms=ss!=="auto";let gs;try{hs&&ms?gs=yield featureCheck(fs,rs,ns):gs=yield estimateAndFeatureCheck(fs,rs,ds,ns)}catch(vs){throw ns==null||ns.error("Could not load estimator.",vs),new Error("Could not load Voice Focus estimator.")}return decideExecutionApproach(Object.assign(Object.assign({},gs),{simdPreference:us,executionPreference:ss,variantPreference:ls,namePreference:cs,usagePreference:as,executionQuantaPreference:ps}),os,ns)});decider.measureAndDecideExecutionApproach=measureAndDecideExecutionApproach;const decideModel=({category:ts,name:rs,variant:ns,simd:os,url:ss})=>"".concat(ts,"-").concat(rs,"-").concat(ns,"-v1").concat(os?"_simd":"");decider.decideModel=decideModel;var workletInlineNode={},types={};Object.defineProperty(types,"__esModule",{value:!0});types.VoiceFocusAudioWorkletNode=void 0;class VoiceFocusAudioWorkletNode extends(typeof globalThis<"u"&&globalThis.AudioWorkletNode||class{}){}types.VoiceFocusAudioWorkletNode=VoiceFocusAudioWorkletNode;var __awaiter$6=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,rs,ns,os){function ss(as){return as instanceof ns?as:new ns(function(ls){ls(as)})}return new(ns||(ns=Promise))(function(as,ls){function cs(ps){try{ds(os.next(ps))}catch(fs){ls(fs)}}function us(ps){try{ds(os.throw(ps))}catch(fs){ls(fs)}}function ds(ps){ps.done?as(ps.value):ss(ps.value).then(cs,us)}ds((os=os.apply(ts,rs||[])).next())})};Object.defineProperty(workletInlineNode,"__esModule",{value:!0});const support_js_1$3=support,types_js_1$2=types,CPU_WARNING_MAX_INTERVAL_MS=5*1e3;class VoiceFocusInlineNode extends types_js_1$2.VoiceFocusAudioWorkletNode{constructor(rs,ns){super(rs,ns.processor,ns),this.cpuWarningCount=0,this.channelCountMode="explicit",this.channelCount=1;const{modelURL:os,worker:ss,fetchBehavior:as,logger:ls,delegate:cs}=ns;this.logger=ls,this.port.onmessage=this.onProcessorMessage.bind(this),this.delegate=cs,ls&&ls.debug("VoiceFocusInlineNode:",os),this.worker=ss,this.worker.onmessage=this.onWorkerMessage.bind(this);const us=support_js_1$3.supportsWASMPostMessage(globalThis)?"get-module":"get-module-buffer";this.worker.postMessage({message:us,key:"model",fetchBehavior:as,path:os})}onModuleBufferLoaded(rs,ns){this.port.postMessage({message:"module-buffer",buffer:rs,key:ns})}onModuleLoaded(rs,ns){this.port.postMessage({message:"module",module:rs,key:ns})}enable(){return __awaiter$6(this,void 0,void 0,function*(){this.port.postMessage({message:"enable"})})}disable(){return __awaiter$6(this,void 0,void 0,function*(){this.port.postMessage({message:"disable"})})}stop(){var rs;return __awaiter$6(this,void 0,void 0,function*(){this.port.postMessage({message:"stop"});try{(rs=this.worker)===null||rs===void 0||rs.terminate()}catch(ns){console.error("failed to terminate worker:",ns)}this.disconnect()})}onProcessorMessage(rs){var ns,os,ss;const as=rs.data;switch(as.message){case"cpu":this.cpuWarningCount++;const ls=Date.now(),cs=this.cpuWarningLastTriggered||ls,us=Math.abs(ls-cs);(!this.cpuWarningLastTriggered||us>CPU_WARNING_MAX_INTERVAL_MS)&&((ns=this.logger)===null||ns===void 0||ns.warn("CPU warning (count: ".concat(this.cpuWarningCount,"):"),as.message),this.cpuWarningCount=0,this.cpuWarningLastTriggered=ls),(os=this.delegate)===null||os===void 0||os.onCPUWarning();break;default:(ss=this.logger)===null||ss===void 0||ss.debug("Ignoring processor message.")}}onWorkerMessage(rs){const ns=rs.data;switch(ns.message){case"module-buffer":if(!ns.buffer||!ns.key)return;this.onModuleBufferLoaded(ns.buffer,ns.key);break;case"module":if(!ns.module||!ns.key)return;this.onModuleLoaded(ns.module,ns.key);break;case"stopped":this.worker&&this.worker.terminate();break;default:return}}}workletInlineNode.default=VoiceFocusInlineNode;var workletWorkerSabNode={},__awaiter$5=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,rs,ns,os){function ss(as){return as instanceof ns?as:new ns(function(ls){ls(as)})}return new(ns||(ns=Promise))(function(as,ls){function cs(ps){try{ds(os.next(ps))}catch(fs){ls(fs)}}function us(ps){try{ds(os.throw(ps))}catch(fs){ls(fs)}}function ds(ps){ps.done?as(ps.value):ss(ps.value).then(cs,us)}ds((os=os.apply(ts,rs||[])).next())})};Object.defineProperty(workletWorkerSabNode,"__esModule",{value:!0});const support_js_1$2=support,types_js_1$1=types,INDICES={ready:0,enabled:1},STATES={disabled:0,enabled:1,stopped:2};class VoiceFocusWorkerBufferNode extends types_js_1$1.VoiceFocusAudioWorkletNode{constructor(rs,ns){super(rs,ns.processor,ns),this.channelCountMode="explicit",this.channelCount=1;const{modelURL:os,resamplerURL:ss,worker:as,fetchBehavior:ls,delegate:cs}=ns;this.delegate=cs,this.worker=as,this.worker.onmessage=this.onWorkerMessage.bind(this),this.port.onmessage=this.onProcessorMessage.bind(this);const{enabled:us,supportFarendStream:ds}=ns.processorOptions;this.worker.postMessage({message:"init",approach:"sab",frames:rs.sampleRate===16e3?160:480,enabled:us,model:os,supportFarendStream:ds});const ps=support_js_1$2.supportsWASMPostMessage(globalThis)?"get-module":"get-module-buffer";this.worker.postMessage({message:ps,key:"resampler",fetchBehavior:ls,path:ss})}enable(){return __awaiter$5(this,void 0,void 0,function*(){this.state?(Atomics.store(this.state,INDICES.enabled,STATES.enabled),Atomics.notify(this.state,INDICES.ready,1)):this.worker.postMessage({message:"enable"})})}disable(){return __awaiter$5(this,void 0,void 0,function*(){this.state?(Atomics.store(this.state,INDICES.enabled,STATES.disabled),Atomics.notify(this.state,INDICES.ready,1)):this.worker.postMessage({message:"disable"})})}stop(){return __awaiter$5(this,void 0,void 0,function*(){if(this.state)Atomics.store(this.state,INDICES.enabled,STATES.stopped),Atomics.notify(this.state,INDICES.ready,1);else try{this.worker.postMessage({message:"stop"})}catch{}this.disconnect()})}onWorkerMessage(rs){var ns;const os=rs.data;switch(os.message){case"ready":if(!os.shared)throw new Error("No shared state.");this.state=new Int32Array(os.shared.state),this.port.postMessage(os);break;case"stopped":this.worker.terminate();break;case"module-buffer":case"module":this.port.postMessage(os);break;case"cpu":(ns=this.delegate)===null||ns===void 0||ns.onCPUWarning();break;case"processing":this.port.postMessage(os);break;default:return}}onProcessorMessage(rs){var ns;const os=rs.data;switch(os.message){case"cpu":(ns=this.delegate)===null||ns===void 0||ns.onCPUWarning();break;case"prepare-for-frames":this.worker.postMessage(os);break}}}workletWorkerSabNode.default=VoiceFocusWorkerBufferNode;var workletWorkerPostMessageNode={},__awaiter$4=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,rs,ns,os){function ss(as){return as instanceof ns?as:new ns(function(ls){ls(as)})}return new(ns||(ns=Promise))(function(as,ls){function cs(ps){try{ds(os.next(ps))}catch(fs){ls(fs)}}function us(ps){try{ds(os.throw(ps))}catch(fs){ls(fs)}}function ds(ps){ps.done?as(ps.value):ss(ps.value).then(cs,us)}ds((os=os.apply(ts,rs||[])).next())})};Object.defineProperty(workletWorkerPostMessageNode,"__esModule",{value:!0});const support_js_1$1=support,types_js_1=types;class VoiceFocusWorkerPostMessageNode extends types_js_1.VoiceFocusAudioWorkletNode{constructor(rs,ns){super(rs,ns.processor,ns),this.channelCountMode="explicit",this.channelCount=1;const{modelURL:os,audioBufferURL:ss,worker:as,fetchBehavior:ls,delegate:cs}=ns;this.delegate=cs,this.worker=as,this.worker.onmessage=this.onWorkerMessage.bind(this),this.port.onmessage=this.onProcessorMessage.bind(this);const{enabled:us,agc:ds,supportFarendStream:ps}=ns.processorOptions;this.worker.postMessage({message:"init",approach:"postMessage",frames:rs.sampleRate===16e3?160:480,enabled:us,agc:ds,fetchBehavior:ls,model:os,supportFarendStream:ps});const fs=support_js_1$1.supportsWASMPostMessage(globalThis)?"get-module":"get-module-buffer";this.worker.postMessage({message:fs,key:"buffer",fetchBehavior:ls,path:ss})}enable(){return __awaiter$4(this,void 0,void 0,function*(){this.worker.postMessage({message:"enable"})})}disable(){return __awaiter$4(this,void 0,void 0,function*(){this.worker.postMessage({message:"disable"})})}stop(){return __awaiter$4(this,void 0,void 0,function*(){try{this.worker.postMessage({message:"stop"})}catch{}this.disconnect()})}onWorkerMessage(rs){var ns;const os=rs.data;switch(os.message){case"ready":this.port.postMessage({message:"ready",shared:os.shared},os.shared?Object.values(os.shared):[]);break;case"data":if(!os.buffer)return;this.port.postMessage({message:"data",buffer:os.buffer},[os.buffer]);break;case"stopped":this.worker.terminate();break;case"module-buffer":case"module":this.port.postMessage(os);break;case"cpu":(ns=this.delegate)===null||ns===void 0||ns.onCPUWarning();break;case"processing":this.port.postMessage(os);break;default:return}}onProcessorMessage(rs){var ns;const os=rs.data;switch(os.message){case"data":if(!os.buffer)return;this.worker.postMessage({message:"data",buffer:os.buffer},[os.buffer]);break;case"cpu":(ns=this.delegate)===null||ns===void 0||ns.onCPUWarning();break;case"prepare-for-frames":this.worker.postMessage(os);break;default:return}}}workletWorkerPostMessageNode.default=VoiceFocusWorkerPostMessageNode;var __awaiter$3=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,rs,ns,os){function ss(as){return as instanceof ns?as:new ns(function(ls){ls(as)})}return new(ns||(ns=Promise))(function(as,ls){function cs(ps){try{ds(os.next(ps))}catch(fs){ls(fs)}}function us(ps){try{ds(os.throw(ps))}catch(fs){ls(fs)}}function ds(ps){ps.done?as(ps.value):ss(ps.value).then(cs,us)}ds((os=os.apply(ts,rs||[])).next())})};Object.defineProperty(voicefocus,"__esModule",{value:!0});voicefocus.getAudioInput=voicefocus.createAudioContext=voicefocus.VoiceFocus=void 0;const decider_js_1=decider,fetch_js_1=fetch$1,loader_js_1=loader,support_js_1=support,worklet_inline_node_js_1=workletInlineNode,worklet_worker_sab_node_js_1=workletWorkerSabNode,worklet_worker_postMessage_node_js_1=workletWorkerPostMessageNode,DEFAULT_AGC_DISABLED_SETTING={useVoiceFocusAGC:!1,useBuiltInAGC:!0},DEFAULT_AGC_SETTING=DEFAULT_AGC_DISABLED_SETTING,DEFAULT_ASSET_GROUP="stable-v1",DEFAULT_CDN="https://static.sdkassets.chime.aws",DEFAULT_PATHS={processors:"".concat(DEFAULT_CDN,"/processors/"),workers:"".concat(DEFAULT_CDN,"/workers/"),wasm:"".concat(DEFAULT_CDN,"/wasm/"),models:"".concat(DEFAULT_CDN,"/wasm/")},DEFAULT_CONTEXT_HINT={latencyHint:0},BASE_AUDIO_CONSTRAINTS={channelCount:1,echoCancellation:!0,googEchoCancellation:!0,noiseSuppression:!1,googNoiseSuppression:!1,googHighpassFilter:!1,googTypingNoiseDetection:!1},DEFAULT_AUDIO_CONSTRAINTS_WITH_BUILTIN_AGC=Object.assign(Object.assign({},BASE_AUDIO_CONSTRAINTS),{autoGainControl:!0,googAutoGainControl:!0,googAutoGainControl2:!0}),DEFAULT_AUDIO_CONSTRAINTS_WITHOUT_BUILTIN_AGC=Object.assign(Object.assign({},BASE_AUDIO_CONSTRAINTS),{autoGainControl:!1,googAutoGainControl:!1,googAutoGainControl2:!1}),PROCESSORS={"voicefocus-worker-sab-processor":{file:"worklet-worker-sab-processor-v1.js",node:worklet_worker_sab_node_js_1.default},"voicefocus-worker-postMessage-processor":{file:"worklet-worker-postMessage-processor-v1.js",node:worklet_worker_postMessage_node_js_1.default},"voicefocus-inline-processor":{file:"worklet-inline-processor-v1.js",node:worklet_inline_node_js_1.default}},validateAssetSpec=(ts,rs)=>{if(ts!==void 0&&!fetch_js_1.isValidAssetGroup(ts))throw new Error("Invalid asset group ".concat(ts));if(rs!==void 0&&!fetch_js_1.isValidRevisionID(rs))throw new Error("Invalid revision ID ".concat(rs))},mungeConstraints=(ts,rs)=>{let ns;if(rs.useBuiltInAGC?ns=DEFAULT_AUDIO_CONSTRAINTS_WITH_BUILTIN_AGC:ns=DEFAULT_AUDIO_CONSTRAINTS_WITHOUT_BUILTIN_AGC,!ts)return{audio:ns};if(!ts.audio)return ts;if(ts.video)throw new Error("Not adding Voice Focus to multi-device getUserMedia call.");return Object.assign(Object.assign({},ts),{audio:ts.audio===!0?ns:Object.assign(Object.assign({},ts.audio),ns)})},urlForModel=(ts,rs)=>"".concat(rs.models).concat(decider_js_1.decideModel(ts),".wasm");class VoiceFocus{constructor(rs,ns,os,ss,as){this.processorURL=ns,this.nodeConstructor=os,this.nodeOptions=ss,this.executionQuanta=as,this.internal={worker:rs,nodeOptions:ss,isDestroyed:!1}}static isSupported(rs,ns){const{fetchBehavior:os,logger:ss}=ns||{};if(typeof globalThis>"u")return ss==null||ss.debug("Browser does not have globalThis."),Promise.resolve(!1);if(!support_js_1.supportsAudioWorklet(globalThis,ss))return ss==null||ss.debug("Browser does not support Audio Worklet."),Promise.resolve(!1);if(!support_js_1.supportsWASM(globalThis,ss))return ss==null||ss.debug("Browser does not support WASM."),Promise.resolve(!1);support_js_1.supportsWASMStreaming(globalThis,ss)||ss==null||ss.debug("Browser does not support streaming WASM compilation.");const{assetGroup:as=DEFAULT_ASSET_GROUP,revisionID:ls,paths:cs=DEFAULT_PATHS}=rs||{};validateAssetSpec(as,ls);const us=ls?{revisionID:ls}:{assetGroup:as},ds=fetch_js_1.addQueryParams(os,us),ps=Object.assign(Object.assign({},ds),{paths:cs});return support_js_1.supportsVoiceFocusWorker(globalThis,ps,ss)}static mungeExecutionPreference(rs,ns){const os=rs===void 0||rs==="auto";if(support_js_1.isSafari(globalThis)){if(os||rs==="inline")return"inline";if(!os)throw new Error("Unsupported execution preference ".concat(rs))}if(rs==="worker-sab"&&!support_js_1.supportsSharedArrayBuffer(globalThis,globalThis,ns))throw new Error("Unsupported execution preference ".concat(rs));return rs||"auto"}static configure(rs,ns){return __awaiter$3(this,void 0,void 0,function*(){const{fetchBehavior:os,preResolve:ss,logger:as}=ns||{},{category:ls="voicefocus",name:cs="default",variant:us="auto",assetGroup:ds=DEFAULT_ASSET_GROUP,revisionID:ps,simd:fs="detect",executionPreference:hs="auto",executionQuantaPreference:ms,usagePreference:gs="interactivity",estimatorBudget:vs=100,paths:bs=DEFAULT_PATHS,thresholds:xs}=rs||{};if(as==null||as.debug("Configuring Voice Focus with spec",rs),ls!==void 0&&ls!=="voicefocus")throw new Error("Unrecognized category ".concat(ls));if(cs!==void 0&&cs!=="default"&&cs!=="ns_es")throw new Error("Unrecognized feature name ".concat(cs));if(us!==void 0&&!["auto","c100","c50","c20","c10"].includes(us))throw new Error("Unrecognized feature variant ".concat(us));if(ms!==void 0&&![1,2,3].includes(ms))throw new Error("Unrecognized execution quanta preference ".concat(ms));if(validateAssetSpec(ds,ps),fs!==void 0&&!["detect","force","disable"].includes(fs))throw new Error("Unrecognized SIMD option ".concat(fs));if(hs!==void 0&&!["auto","inline","worker","worker-sab","worker-postMessage"].includes(hs))throw new Error("Unrecognized execution preference ".concat(hs));if(gs!==void 0&&!["quality","interactivity"].includes(gs))throw new Error("Unrecognized usage preference ".concat(gs));const ys={executionPreference:this.mungeExecutionPreference(hs,as),usagePreference:gs,executionQuantaPreference:ms,variantPreference:us,namePreference:cs,simdPreference:fs,estimatorBudget:vs},Ss=ps?{revisionID:ps}:{assetGroup:ds},Cs=fetch_js_1.addQueryParams(os,Ss),$s=Object.assign({paths:bs},Cs),Es=yield decider_js_1.measureAndDecideExecutionApproach(ys,$s,as,xs);if(Es.supported===!1)return{supported:!1,reason:Es.reason};as==null||as.info("Decided execution approach",Es);const{useSIMD:ws,processor:Ts,variant:Is,executionQuanta:Rs}=Es,As={category:ls||"voicefocus",name:cs||"default",variant:Is,simd:ws};if(ss){const ks=urlForModel(As,bs);As.url=yield fetch_js_1.resolveURL(ks,Cs)}return{fetchConfig:$s,model:As,processor:Ts,executionQuanta:Rs,supported:!0}})}static init(rs,{delegate:ns,preload:os=!0,logger:ss}){return __awaiter$3(this,void 0,void 0,function*(){if(rs.supported===!1)throw new Error("Voice Focus not supported. Reason: "+rs.reason);const{model:as,processor:ls,fetchConfig:cs,executionQuanta:us}=rs,{simd:ds,name:ps}=as,{paths:fs}=cs;if(ls!=="voicefocus-inline-processor"&&ls!=="voicefocus-worker-postMessage-processor"&&ls!=="voicefocus-worker-sab-processor")throw new Error("Unknown processor ".concat(ls));const hs=as.url||urlForModel(as,fs);ss==null||ss.debug("Using model URL ".concat(hs,"."));const ms="".concat(fs.wasm,"audio_buffer-v1").concat(ds?"_simd":"",".wasm"),gs="".concat(fs.wasm,"resampler-v1").concat(ds?"_simd":"",".wasm"),vs="".concat(fs.workers,"worker-v1.js"),{file:bs,node:xs}=PROCESSORS[ls],ys="".concat(fs.processors).concat(bs),Ss=yield loader_js_1.loadWorker(vs,"VoiceFocusWorker",cs,ss);if(os){ss==null||ss.debug("Preloading",hs);let ws=support_js_1.supportsWASMPostMessage(globalThis)?"get-module":"get-module-buffer";Ss.postMessage({message:ws,preload:!0,key:"model",fetchBehavior:cs,path:hs})}const $s={processor:ls,worker:Ss,audioBufferURL:ms,resamplerURL:gs,fetchBehavior:cs,modelURL:hs,delegate:ns,logger:ss,numberOfInputs:ps==="ns_es"?2:1},Es=new VoiceFocus(Ss,ys,xs,$s,us);return Promise.resolve(Es)})}createNode(rs,ns){var os;if(this.internal.isDestroyed)throw new Error("Unable to create node because VoiceFocus worker has been destroyed.");const{voiceFocusSampleRate:ss=rs.sampleRate===16e3?16e3:48e3,enabled:as=!0,agc:ls=DEFAULT_AGC_SETTING}=ns||{},cs=ns==null?void 0:ns.es,us={voiceFocusSampleRate:ss,enabled:as,sendBufferCount:10,prefill:6,agc:ls,executionQuanta:this.executionQuanta,supportFarendStream:cs},ds=fetch_js_1.withQueryString(this.processorURL,(os=this.nodeOptions)===null||os===void 0?void 0:os.fetchBehavior);return rs.audioWorklet.addModule(ds).then(()=>new this.nodeConstructor(rs,Object.assign(Object.assign({},this.nodeOptions),{processorOptions:us})))}applyToStream(rs,ns,os){return __awaiter$3(this,void 0,void 0,function*(){if(this.internal.isDestroyed)throw new Error("Unable to apply stream because VoiceFocus worker has been destroyed");const ss=ns.createMediaStreamSource(rs),as=yield this.applyToSourceNode(ss,ns,os),ls=ns.createMediaStreamDestination();return as.connect(ls),{node:as,source:ss,destination:ls,stream:ls.stream}})}applyToSourceNode(rs,ns,os){return __awaiter$3(this,void 0,void 0,function*(){const ss=yield this.createNode(ns,os);return rs.connect(ss),ss})}destroy(){this.internal.worker&&this.internal.worker.terminate(),this.internal.isDestroyed=!0}}voicefocus.VoiceFocus=VoiceFocus;const createAudioContext=(ts=DEFAULT_CONTEXT_HINT)=>new(window.AudioContext||window.webkitAudioContext)(ts);voicefocus.createAudioContext=createAudioContext;const getAudioInput=(ts,rs,ns)=>__awaiter$3(void 0,void 0,void 0,function*(){var os,ss;const{constraints:as,spec:ls,delegate:cs,preload:us=!0,options:ds}=rs,{logger:ps}=ns,fs=yield VoiceFocus.configure(ls,ns);if(!fs.supported)return(os=ns.logger)===null||os===void 0||os.warn("Voice Focus not supported; returning standard stream."),window.navigator.mediaDevices.getUserMedia(as);const hs=yield VoiceFocus.init(fs,{delegate:cs,preload:us,logger:ps}),ms=((ss=rs.options)===null||ss===void 0?void 0:ss.agc)||DEFAULT_AGC_SETTING,gs=yield window.navigator.mediaDevices.getUserMedia(mungeConstraints(as,ms));return hs.applyToStream(gs,ts,ds).then(vs=>vs.stream)});voicefocus.getAudioInput=getAudioInput;var LoggerAdapter$1={};Object.defineProperty(LoggerAdapter$1,"__esModule",{value:!0});function stringify$1(ts){return ts.map(rs=>typeof rs=="object"?JSON.stringify(rs):"".concat(rs)).join(" ")}class LoggerAdapter{constructor(rs){this.base=rs}debug(...rs){this.base.debug(stringify$1(rs))}info(...rs){this.base.info(stringify$1(rs))}warn(...rs){this.base.warn(stringify$1(rs))}error(...rs){this.base.error(stringify$1(rs))}}LoggerAdapter$1.default=LoggerAdapter;var VoiceFocusTransformDevice$1={},__awaiter$2=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,rs,ns,os){function ss(as){return as instanceof ns?as:new ns(function(ls){ls(as)})}return new(ns||(ns=Promise))(function(as,ls){function cs(ps){try{ds(os.next(ps))}catch(fs){ls(fs)}}function us(ps){try{ds(os.throw(ps))}catch(fs){ls(fs)}}function ds(ps){ps.done?as(ps.value):ss(ps.value).then(cs,us)}ds((os=os.apply(ts,rs||[])).next())})},__importDefault$1=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(VoiceFocusTransformDevice$1,"__esModule",{value:!0});const DefaultBrowserBehavior_1=__importDefault$1(DefaultBrowserBehavior$1);class VoiceFocusTransformDevice{constructor(rs,ns,os,ss,as=!1,ls=void 0,cs=new DefaultBrowserBehavior_1.default,us=new Map,ds=void 0,ps=void 0){this.device=rs,this.voiceFocus=ns,this.delegate=os,this.nodeOptions=ss,this.failed=as,this.node=ls,this.browserBehavior=cs,this.farEndStreamToAudioSourceNode=us,this.mixDestNode=ds,this.mixSourceNode=ps}getInnerDevice(){return this.device}mute(rs){return __awaiter$2(this,void 0,void 0,function*(){this.node&&(rs?yield this.node.disable():yield this.node.enable())})}stop(){return __awaiter$2(this,void 0,void 0,function*(){this.node&&(this.node.disconnect(),yield this.node.stop())})}chooseNewInnerDevice(rs){return __awaiter$2(this,void 0,void 0,function*(){return this.device===rs&&!isDefaultDevice(rs)?this:new VoiceFocusTransformDevice(rs,this.voiceFocus,this.delegate,this.nodeOptions,this.failed,this.node,this.browserBehavior,this.farEndStreamToAudioSourceNode,this.mixDestNode,this.mixSourceNode)})}intrinsicDevice(){return __awaiter$2(this,void 0,void 0,function*(){if(this.failed)return this.device;const rs=this.nodeOptions.es,ns={echoCancellation:!rs,googEchoCancellation:!rs,googEchoCancellation2:!rs,noiseSuppression:!1,googNoiseSuppression:!1,googHighpassFilter:!1,googNoiseSuppression2:!1};let os;return this.nodeOptions&&this.nodeOptions.agc!==void 0?os=this.nodeOptions.agc.useBuiltInAGC:os=!0,ns.autoGainControl=os,ns.googAutoGainControl=os,ns.googAutoGainControl2=os,this.device?typeof this.device=="string"?(this.browserBehavior.requiresNoExactMediaStreamConstraints()?ns.deviceId=this.device:ns.deviceId={exact:this.device},ns):this.device.id?this.device:Object.assign(Object.assign({},this.device),ns):ns})}createAudioNode(rs){var ns,os;return __awaiter$2(this,void 0,void 0,function*(){if(((ns=this.node)===null||ns===void 0?void 0:ns.context)===rs)return{start:this.node,end:this.node};const as=Object.assign({enabled:!0,agc:{useVoiceFocusAGC:!1}},this.nodeOptions);try{if((os=this.node)===null||os===void 0||os.disconnect(),this.node=yield this.voiceFocus.createNode(rs,as),this.nodeOptions.es){this.mixDestNode=new MediaStreamAudioDestinationNode(rs,{channelCount:1,channelCountMode:"explicit"});for(const us of this.farEndStreamToAudioSourceNode.keys())this.assignFarEndStreamToAudioSourceNode(us);this.createMixSourceNode()}const ls=this.node,cs=this.node;return{start:ls,end:cs}}catch(ls){throw this.failed=!0,this.delegate.onFallback(this,ls),ls}})}observeMeetingAudio(rs){return __awaiter$2(this,void 0,void 0,function*(){if(!this.nodeOptions.es)return;rs.addAudioMixObserver(this);const ns=yield rs.getCurrentMeetingAudioStream();ns&&this.addFarEndStream(ns)})}unObserveMeetingAudio(rs){return __awaiter$2(this,void 0,void 0,function*(){if(!this.nodeOptions.es)return;rs.removeAudioMixObserver(this);const ns=yield rs.getCurrentMeetingAudioStream();ns&&this.removeFarendStream(ns)})}addObserver(rs){this.delegate.addObserver(rs)}removeObserver(rs){this.delegate.removeObserver(rs)}addFarEndStream(rs){return __awaiter$2(this,void 0,void 0,function*(){!this.nodeOptions.es||!rs||this.farEndStreamToAudioSourceNode.has(rs)||(this.node?this.assignFarEndStreamToAudioSourceNode(rs):this.farEndStreamToAudioSourceNode.set(rs,null))})}removeFarendStream(rs){var ns;return __awaiter$2(this,void 0,void 0,function*(){(ns=this.farEndStreamToAudioSourceNode.get(rs))===null||ns===void 0||ns.disconnect(),this.farEndStreamToAudioSourceNode.delete(rs)})}meetingAudioStreamBecameActive(rs){return __awaiter$2(this,void 0,void 0,function*(){this.addFarEndStream(rs)})}meetingAudioStreamBecameInactive(rs){return __awaiter$2(this,void 0,void 0,function*(){this.removeFarendStream(rs)})}assignFarEndStreamToAudioSourceNode(rs){const ns=this.node.context.createMediaStreamSource(rs);ns.channelCount=1,ns.channelCountMode="explicit",this.farEndStreamToAudioSourceNode.set(rs,ns),ns.connect(this.mixDestNode,0)}createMixSourceNode(){this.mixSourceNode=this.node.context.createMediaStreamSource(this.mixDestNode.stream),this.mixSourceNode.channelCount=1,this.mixSourceNode.channelCountMode="explicit",this.mixSourceNode.connect(this.node,0,1)}}function isDefaultDevice(ts){return ts==="default"?!0:!ts||typeof ts!="object"?!1:"deviceId"in ts&&ts.deviceId==="default"||"id"in ts&&ts.id==="default"}VoiceFocusTransformDevice$1.default=VoiceFocusTransformDevice;var VoiceFocusTransformDeviceDelegate$1={};Object.defineProperty(VoiceFocusTransformDeviceDelegate$1,"__esModule",{value:!0});class VoiceFocusTransformDeviceDelegate{constructor(){this.observers=new Set}addObserver(rs){this.observers.add(rs)}removeObserver(rs){this.observers.delete(rs)}onFallback(rs,ns){var os;for(const ss of this.observers)(os=ss.voiceFocusFellBackToInnerStream)===null||os===void 0||os.call(ss,rs,ns)}onCPUWarning(){var rs;for(const ns of this.observers)(rs=ns.voiceFocusInsufficientResources)===null||rs===void 0||rs.call(ns)}}VoiceFocusTransformDeviceDelegate$1.default=VoiceFocusTransformDeviceDelegate;var __awaiter$1=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(ts,rs,ns,os){function ss(as){return as instanceof ns?as:new ns(function(ls){ls(as)})}return new(ns||(ns=Promise))(function(as,ls){function cs(ps){try{ds(os.next(ps))}catch(fs){ls(fs)}}function us(ps){try{ds(os.throw(ps))}catch(fs){ls(fs)}}function ds(ps){ps.done?as(ps.value):ss(ps.value).then(cs,us)}ds((os=os.apply(ts,rs||[])).next())})},__importDefault=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(ts){return ts&&ts.__esModule?ts:{default:ts}};Object.defineProperty(VoiceFocusDeviceTransformer$1,"__esModule",{value:!0});VoiceFocusDeviceTransformer$1.VoiceFocusDeviceTransformer=void 0;const voicefocus_1=voicefocus,Utils_1=Utils$1,Versioning_1=__importDefault(Versioning$1),LoggerAdapter_1=__importDefault(LoggerAdapter$1),VoiceFocusTransformDevice_1=__importDefault(VoiceFocusTransformDevice$1),VoiceFocusTransformDeviceDelegate_1=__importDefault(VoiceFocusTransformDeviceDelegate$1);class VoiceFocusDeviceTransformer{constructor(rs,{preload:ns=!0,logger:os,fetchBehavior:ss=VoiceFocusDeviceTransformer.defaultFetchBehavior()},as){this.spec=rs,this.supported=!0,this.logger=os,this.vfLogger=os?new LoggerAdapter_1.default(os):void 0,this.preload=ns,this.fetchBehavior=ss,this.spec=VoiceFocusDeviceTransformer.augmentSpec(this.spec),as&&(this.configuration=Promise.resolve(as))}static isSupported(rs,ns){var os,ss;const as=VoiceFocusDeviceTransformer.defaultFetchBehavior(),ls=ns!=null&&ns.logger?new LoggerAdapter_1.default(ns.logger):void 0,cs={fetchBehavior:as,logger:ls};if(Utils_1.isIFramed()){if((ns==null?void 0:ns.allowIFrame)===!1)return(os=ns==null?void 0:ns.logger)===null||os===void 0||os.error("Amazon Voice Focus support check inside iframe: not supported."),Promise.resolve(!1);(ss=ns==null?void 0:ns.logger)===null||ss===void 0||ss.warn("Amazon Voice Focus support check inside iframe: not recommended.")}return voicefocus_1.VoiceFocus.isSupported(VoiceFocusDeviceTransformer.augmentSpec(rs),cs)}static create(rs={},ns={},os,ss,as){var ls,cs,us;return __awaiter$1(this,void 0,void 0,function*(){ss&&ss.Meeting.Meeting&&(ss=ss.Meeting);const ds=((us=(cs=(ls=ss==null?void 0:ss.Meeting)===null||ls===void 0?void 0:ls.MeetingFeatures)===null||cs===void 0?void 0:cs.Audio)===null||us===void 0?void 0:us.EchoReduction)==="AVAILABLE",ps=os&&os.supported===!0&&os.model.name==="ns_es"&&!ds,fs=rs.name==="ns_es"&&!ds;if(ps||fs)throw new Error("Echo Reduction requested but not enabled.");const hs=new VoiceFocusDeviceTransformer(rs,ns,os);return yield hs.init(),hs})}static configure(rs={},ns={}){return __awaiter$1(this,void 0,void 0,function*(){return new VoiceFocusDeviceTransformer(rs,ns,void 0).configure(!0)})}getConfiguration(){return this.configuration}isSupported(){return this.supported}createTransformDevice(rs,ns){return __awaiter$1(this,void 0,void 0,function*(){if(this.supported)try{const[ss,as]=yield this.allocateVoiceFocus(!0),ls=Object.assign(Object.assign({},ns),{es:this.spec.name==="ns_es"});return new VoiceFocusTransformDevice_1.default(rs,ss,as,ls)}catch{return}})}static destroyVoiceFocus(rs){var ns;return __awaiter$1(this,void 0,void 0,function*(){(ns=rs==null?void 0:rs.vf)===null||ns===void 0||ns.destroy()})}static augmentSpec(rs){return!rs||!rs.assetGroup&&!rs.revisionID?Object.assign(Object.assign({},rs),{assetGroup:VoiceFocusDeviceTransformer.currentSDKAssetGroup()}):rs}configure(rs=!1){return __awaiter$1(this,void 0,void 0,function*(){const ns={fetchBehavior:this.fetchBehavior,preResolve:rs,logger:this.vfLogger};return voicefocus_1.VoiceFocus.configure(this.spec,ns)})}init(){var rs;return __awaiter$1(this,void 0,void 0,function*(){this.configuration||(this.configuration=this.configure());const ns=yield this.configuration;if(!ns.supported){this.supported=!1;return}this.pendingVoiceFocus=this.createVoiceFocus(ns,this.preload);try{yield this.pendingVoiceFocus}catch(os){(rs=this.logger)===null||rs===void 0||rs.error("Unable to initialize Amazon Voice Focus: ".concat(os)),this.supported=!1}})}createVoiceFocus(rs,ns){return __awaiter$1(this,void 0,void 0,function*(){const os=new VoiceFocusTransformDeviceDelegate_1.default;return this.vf=yield voicefocus_1.VoiceFocus.init(rs,{delegate:os,preload:ns,logger:this.vfLogger}),[this.vf,os]})}allocateVoiceFocus(rs){return __awaiter$1(this,void 0,void 0,function*(){if(!this.supported)throw new Error("Not supported.");if(this.pendingVoiceFocus){const ns=this.pendingVoiceFocus;return this.pendingVoiceFocus=void 0,ns}return this.createVoiceFocus(yield this.configuration,rs)})}static majorVersion(){return Versioning_1.default.sdkVersion.match(/^[1-9][0-9]*\.(?:0|[1-9][0-9]*)/)[0]}static majorMinorVersion(){return Versioning_1.default.sdkVersion.match(/^[1-9][0-9]*\.(?:0|(?:[1-9][0-9]*))\.(?:0|[1-9][0-9]*)/)[0]}static currentSDKAssetGroup(){const rs=this.majorVersion();return rs?"sdk-".concat(rs):"stable-v1"}static defaultFetchBehavior(){const rs=VoiceFocusDeviceTransformer.majorMinorVersion()||"unknown",ns=Versioning_1.default.sdkUserAgentLowResolution;return{escapedQueryString:"sdk=".concat(encodeURIComponent(rs),"&ua=").concat(encodeURIComponent(ns))}}}VoiceFocusDeviceTransformer$1.VoiceFocusDeviceTransformer=VoiceFocusDeviceTransformer;VoiceFocusDeviceTransformer$1.default=VoiceFocusDeviceTransformer;var hasRequiredBuild;function requireBuild(){return hasRequiredBuild||(hasRequiredBuild=1,function(ts){var rs=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(cp){return cp&&cp.__esModule?cp:{default:cp}};Object.defineProperty(ts,"__esModule",{value:!0}),ts.DefaultEventController=ts.DefaultDevicePixelRatioMonitor=ts.DefaultDeviceController=ts.DefaultContentShareController=ts.DefaultBrowserBehavior=ts.DefaultAudioVideoFacade=ts.DefaultAudioVideoController=ts.DefaultAudioMixController=ts.DefaultActiveSpeakerPolicy=ts.DefaultActiveSpeakerDetector=ts.DataMessage=ts.CreateSDPTask=ts.CreatePeerConnectionTask=ts.ContentShareMediaStreamBroker=ts.ContentShareConstants=ts.ConsoleLogger=ts.ConnectionHealthPolicyConfiguration=ts.ConnectionHealthData=ts.ClientVideoStreamReceivingReport=ts.ClientMetricReportMediaType=ts.ClientMetricReportDirection=ts.ClientMetricReport=ts.CleanStoppedSessionTask=ts.CleanRestartedSessionTask=ts.CheckVideoInputFeedback=ts.CheckVideoConnectivityFeedback=ts.CheckNetworkUDPConnectivityFeedback=ts.CheckNetworkTCPConnectivityFeedback=ts.CheckContentShareConnectivityFeedback=ts.CheckCameraResolutionFeedback=ts.CheckAudioOutputFeedback=ts.CheckAudioInputFeedback=ts.CheckAudioConnectivityFeedback=ts.CanvasVideoFrameBuffer=ts.CSPMonitor=ts.BitrateParameters=ts.BaseTask=ts.BaseConnectionHealthPolicy=ts.BackgroundReplacementVideoFrameProcessor=ts.BackgroundFilterVideoFrameProcessor=ts.BackgroundBlurVideoFrameProcessor=ts.BackgroundBlurStrength=ts.AudioVideoControllerState=ts.AudioProfile=ts.AudioLogEvent=ts.Attendee=ts.AttachMediaInputTask=ts.AsyncScheduler=ts.ApplicationMetadata=ts.AllHighestVideoBandwidthPolicy=void 0,ts.MeetingReadinessCheckerConfiguration=ts.MeetingFeatures=ts.MeetingEventsClientConfiguration=ts.MediaDeviceProxyHandler=ts.Maybe=ts.LogLevel=ts.Log=ts.ListenForVolumeIndicatorsTask=ts.LeaveAndReceiveLeaveAckTask=ts.JoinAndReceiveIndexTask=ts.IntervalScheduler=ts.InMemoryJSONEventBuffer=ts.GlobalMetricReport=ts.GetUserMediaError=ts.FullJitterLimitedBackoff=ts.FullJitterBackoffFactory=ts.FullJitterBackoff=ts.FinishGatheringICECandidatesTask=ts.EventIngestionConfiguration=ts.EventBufferConfiguration=ts.DeviceSelection=ts.DevicePixelRatioWindowSource=ts.DefaultWebSocketAdapter=ts.DefaultVolumeIndicatorAdapter=ts.DefaultVideoTransformDevice=ts.DefaultVideoTileFactory=ts.DefaultVideoTileController=ts.DefaultVideoTile=ts.DefaultVideoStreamIndex=ts.DefaultVideoStreamIdSet=ts.DefaultVideoFrameProcessorTimer=ts.DefaultVideoFrameProcessorPipeline=ts.DefaultVideoCaptureAndEncodeParameter=ts.DefaultUserAgentParser=ts.DefaultTranscriptionController=ts.DefaultTransceiverController=ts.DefaultSimulcastUplinkPolicyForContentShare=ts.DefaultSimulcastUplinkPolicy=ts.DefaultSignalingClient=ts.DefaultSigV4=ts.DefaultSessionStateController=ts.DefaultReconnectController=ts.DefaultRealtimeController=ts.DefaultPingPong=ts.DefaultModality=ts.DefaultMessagingSession=ts.DefaultMeetingSession=ts.DefaultMeetingReadinessChecker=ts.DefaultMeetingEventReporter=ts.DefaultMediaDeviceFactory=void 0,ts.RedundantAudioEncoderWorkerCode=ts.RedundantAudioEncoder=ts.ReconnectionHealthPolicy=ts.ReceiveVideoStreamIndexTask=ts.ReceiveVideoInputTask=ts.ReceiveRemoteVideoPauseResumeTask=ts.ReceiveAudioInputTask=ts.RealtimeVolumeIndicator=ts.RealtimeState=ts.RealtimeAttendeePositionInFrame=ts.PromoteToPrimaryMeetingTask=ts.PromiseQueue=ts.PrefetchSortBy=ts.PrefetchOn=ts.PermissionDeniedError=ts.ParallelGroupTask=ts.POSTLogger=ts.OverconstrainedError=ts.OpenSignalingConnectionTask=ts.OnceTask=ts.NotReadableError=ts.NotFoundError=ts.None=ts.NoVideoUplinkBandwidthPolicy=ts.NoVideoDownlinkBandwidthPolicy=ts.NoOpVideoFrameProcessor=ts.NoOpVideoElementFactory=ts.NoOpTask=ts.NoOpMediaStreamBroker=ts.NoOpLogger=ts.NoOpEventReporter=ts.NoOpDeviceController=ts.NoOpDebugLogger=ts.NoOpAudioVideoController=ts.NScaleVideoUplinkBandwidthPolicy=ts.MutableVideoPreferences=ts.MultiLogger=ts.MonitorTask=ts.ModelSpecBuilder=ts.MessagingSessionConfiguration=ts.Message=ts.MeetingSessionVideoAvailability=ts.MeetingSessionURLs=ts.MeetingSessionTURNCredentials=ts.MeetingSessionStatusCode=ts.MeetingSessionStatus=ts.MeetingSessionLifecycleEventCondition=ts.MeetingSessionLifecycleEvent=ts.MeetingSessionCredentials=ts.MeetingSessionConfiguration=void 0,ts.VideoEncodingCpuConnectionHealthPolicy=ts.VideoEncodingConnectionHealthPolicyName=ts.VideoCodecCapability=ts.VideoAdaptiveProbePolicy=ts.Versioning=ts.UnusableAudioWarningConnectionHealthPolicy=ts.TypeError=ts.TranscriptionStatusType=ts.TranscriptionStatus=ts.TranscriptResult=ts.TranscriptLanguageWithScore=ts.TranscriptItemType=ts.TranscriptItem=ts.TranscriptEntity=ts.TranscriptAlternative=ts.Transcript=ts.TimeoutTask=ts.TimeoutScheduler=ts.TaskStatus=ts.TargetDisplaySize=ts.SubscribeAndReceiveSubscribeAckTask=ts.StreamMetricReport=ts.Some=ts.SingleNodeAudioTransformDevice=ts.SimulcastVideoStreamIndex=ts.SimulcastTransceiverController=ts.SimulcastLayers=ts.SimulcastContentShareTransceiverController=ts.SignalingClientVideoSubscriptionConfiguration=ts.SignalingClientSubscribe=ts.SignalingClientJoin=ts.SignalingClientEventType=ts.SignalingClientEvent=ts.SignalingClientConnectionRequest=ts.SignalingAndMetricsConnectionMonitor=ts.SetRemoteDescriptionTask=ts.SetLocalDescriptionTask=ts.SessionStateControllerTransitionResult=ts.SessionStateControllerState=ts.SessionStateControllerDeferPriority=ts.SessionStateControllerAction=ts.ServerSideNetworkAdaption=ts.SerialGroupTask=ts.SendingAudioFailureConnectionHealthPolicy=ts.SendAndReceiveDataMessagesTask=ts.SDPMediaSection=ts.SDPCandidateType=ts.SDP=ts.RunnableTask=ts.RedundantAudioRecoveryMetricReport=void 0,ts.isVideoTransformDevice=ts.isDestroyable=ts.isAudioTransformDevice=ts.ZLIBTextCompressor=ts.WebSocketReadyState=ts.WaitForAttendeePresenceTask=ts.VoiceFocusTransformDevice=ts.VoiceFocusDeviceTransformer=ts.VideoTileState=ts.VideoStreamDescription=ts.VideoSource=ts.VideoQualitySettings=ts.VideoQualityAdaptationPreference=ts.VideoPriorityBasedPolicyConfig=ts.VideoPriorityBasedPolicy=ts.VideoPreferences=ts.VideoPreference=ts.VideoOnlyTransceiverController=ts.VideoLogEvent=ts.VideoFxProcessor=ts.VideoEncodingFramerateConnectionHealthPolicy=void 0;const ns=rs(AllHighestVideoBandwidthPolicy$1);ts.AllHighestVideoBandwidthPolicy=ns.default;const os=rs(ApplicationMetadata$1);ts.ApplicationMetadata=os.default;const ss=rs(AsyncScheduler$1);ts.AsyncScheduler=ss.default;const as=rs(AttachMediaInputTask$1);ts.AttachMediaInputTask=as.default;const ls=rs(Attendee$1);ts.Attendee=ls.default;const cs=rs(AudioLogEvent);ts.AudioLogEvent=cs.default;const us=rs(AudioProfile$1);ts.AudioProfile=us.default;const ds=rs(AudioVideoControllerState);ts.AudioVideoControllerState=ds.default;const ps=rs(BackgroundBlurStrength);ts.BackgroundBlurStrength=ps.default;const fs=rs(BackgroundBlurVideoFrameProcessor$1);ts.BackgroundBlurVideoFrameProcessor=fs.default;const hs=rs(BackgroundFilterVideoFrameProcessor$1);ts.BackgroundFilterVideoFrameProcessor=hs.default;const ms=rs(BackgroundReplacementVideoFrameProcessor$1);ts.BackgroundReplacementVideoFrameProcessor=ms.default;const gs=rs(BaseConnectionHealthPolicy$1);ts.BaseConnectionHealthPolicy=gs.default;const vs=rs(BaseTask$1);ts.BaseTask=vs.default;const bs=rs(BitrateParameters$1);ts.BitrateParameters=bs.default;const xs=rs(CSPMonitor$1);ts.CSPMonitor=xs.default;const ys=rs(CanvasVideoFrameBuffer$1);ts.CanvasVideoFrameBuffer=ys.default;const Ss=rs(CheckAudioConnectivityFeedback);ts.CheckAudioConnectivityFeedback=Ss.default;const Cs=rs(CheckAudioInputFeedback);ts.CheckAudioInputFeedback=Cs.default;const $s=rs(CheckAudioOutputFeedback);ts.CheckAudioOutputFeedback=$s.default;const Es=rs(CheckCameraResolutionFeedback);ts.CheckCameraResolutionFeedback=Es.default;const ws=rs(CheckContentShareConnectivityFeedback);ts.CheckContentShareConnectivityFeedback=ws.default;const Ts=rs(CheckNetworkTCPConnectivityFeedback);ts.CheckNetworkTCPConnectivityFeedback=Ts.default;const Is=rs(CheckNetworkUDPConnectivityFeedback);ts.CheckNetworkUDPConnectivityFeedback=Is.default;const Rs=rs(CheckVideoConnectivityFeedback);ts.CheckVideoConnectivityFeedback=Rs.default;const As=rs(CheckVideoInputFeedback);ts.CheckVideoInputFeedback=As.default;const ks=rs(CleanRestartedSessionTask$1);ts.CleanRestartedSessionTask=ks.default;const Ms=rs(CleanStoppedSessionTask$1);ts.CleanStoppedSessionTask=Ms.default;const Os=rs(ClientMetricReport$1);ts.ClientMetricReport=Os.default;const Ds=rs(ClientMetricReportDirection);ts.ClientMetricReportDirection=Ds.default;const Fs=rs(ClientMetricReportMediaType);ts.ClientMetricReportMediaType=Fs.default;const js=rs(ClientVideoStreamReceivingReport$1);ts.ClientVideoStreamReceivingReport=js.default;const Ps=rs(ConnectionHealthData$1);ts.ConnectionHealthData=Ps.default;const Ls=rs(ConnectionHealthPolicyConfiguration$1);ts.ConnectionHealthPolicyConfiguration=Ls.default;const Ns=rs(ConsoleLogger$1);ts.ConsoleLogger=Ns.default;const Gs=rs(ContentShareConstants$1);ts.ContentShareConstants=Gs.default;const Us=rs(ContentShareMediaStreamBroker$1);ts.ContentShareMediaStreamBroker=Us.default;const Hs=rs(CreatePeerConnectionTask$1);ts.CreatePeerConnectionTask=Hs.default;const zs=rs(CreateSDPTask$1);ts.CreateSDPTask=zs.default;const qs=rs(DataMessage$1);ts.DataMessage=qs.default;const Vs=rs(DefaultActiveSpeakerDetector$1);ts.DefaultActiveSpeakerDetector=Vs.default;const Ks=rs(DefaultActiveSpeakerPolicy$1);ts.DefaultActiveSpeakerPolicy=Ks.default;const Ws=rs(DefaultAudioMixController$1);ts.DefaultAudioMixController=Ws.default;const Pl=rs(requireDefaultAudioVideoController());ts.DefaultAudioVideoController=Pl.default;const Tl=rs(DefaultAudioVideoFacade$1);ts.DefaultAudioVideoFacade=Tl.default;const El=rs(DefaultBrowserBehavior$1);ts.DefaultBrowserBehavior=El.default;const $l=rs(DefaultContentShareController$1);ts.DefaultContentShareController=$l.default;const Sl=rs(DefaultDeviceController$1);ts.DefaultDeviceController=Sl.default;const Ml=rs(DefaultDevicePixelRatioMonitor$1);ts.DefaultDevicePixelRatioMonitor=Ml.default;const wl=rs(DefaultEventController$1);ts.DefaultEventController=wl.default;const Rl=rs(DefaultMediaDeviceFactory$1);ts.DefaultMediaDeviceFactory=Rl.default;const yl=rs(DefaultMeetingEventReporter$1);ts.DefaultMeetingEventReporter=yl.default;const Bs=rs(DefaultMeetingReadinessChecker$1);ts.DefaultMeetingReadinessChecker=Bs.default;const Zs=rs(requireDefaultMeetingSession());ts.DefaultMeetingSession=Zs.default;const Ys=rs(DefaultMessagingSession$1);ts.DefaultMessagingSession=Ys.default;const _l=rs(DefaultModality$1);ts.DefaultModality=_l.default;const Cl=rs(DefaultPingPong$1);ts.DefaultPingPong=Cl.default;const Xs=rs(DefaultRealtimeController$1);ts.DefaultRealtimeController=Xs.default;const xl=rs(DefaultReconnectController$1);ts.DefaultReconnectController=xl.default;const $a=rs(DefaultSessionStateController$1);ts.DefaultSessionStateController=$a.default;const Dl=rs(DefaultSigV4$1);ts.DefaultSigV4=Dl.default;const Ol=rs(DefaultSignalingClient$1);ts.DefaultSignalingClient=Ol.default;const Ll=rs(DefaultSimulcastUplinkPolicy$1);ts.DefaultSimulcastUplinkPolicy=Ll.default;const Vl=rs(DefaultSimulcastUplinkPolicyForContentShare$1);ts.DefaultSimulcastUplinkPolicyForContentShare=Vl.default;const Xl=rs(DefaultTransceiverController$1);ts.DefaultTransceiverController=Xl.default;const Ql=rs(DefaultTranscriptionController);ts.DefaultTranscriptionController=Ql.default;const Kl=rs(DefaultUserAgentParser$1);ts.DefaultUserAgentParser=Kl.default;const Gl=rs(DefaultVideoCaptureAndEncodeParameter$1);ts.DefaultVideoCaptureAndEncodeParameter=Gl.default;const nu=rs(DefaultVideoFrameProcessorPipeline$1);ts.DefaultVideoFrameProcessorPipeline=nu.default;const Bl=rs(DefaultVideoFrameProcessorTimer$1);ts.DefaultVideoFrameProcessorTimer=Bl.default;const Hl=rs(DefaultVideoStreamIdSet$1);ts.DefaultVideoStreamIdSet=Hl.default;const Qs=rs(DefaultVideoStreamIndex$1);ts.DefaultVideoStreamIndex=Qs.default;const Al=rs(DefaultVideoTile$1);ts.DefaultVideoTile=Al.default;const Nl=rs(DefaultVideoTileController$1);ts.DefaultVideoTileController=Nl.default;const eu=rs(DefaultVideoTileFactory$1);ts.DefaultVideoTileFactory=eu.default;const Jl=rs(DefaultVideoTransformDevice$1);ts.DefaultVideoTransformDevice=Jl.default;const Zl=rs(DefaultVolumeIndicatorAdapter$1);ts.DefaultVolumeIndicatorAdapter=Zl.default;const tu=rs(DefaultWebSocketAdapter$1);ts.DefaultWebSocketAdapter=tu.default;const au=rs(DevicePixelRatioWindowSource$1);ts.DevicePixelRatioWindowSource=au.default;const du=rs(DeviceSelection$1);ts.DeviceSelection=du.default;const lu=rs(EventBufferConfiguration$1);ts.EventBufferConfiguration=lu.default;const fu=rs(EventIngestionConfiguration$1);ts.EventIngestionConfiguration=fu.default;const _u=rs(FinishGatheringICECandidatesTask$1);ts.FinishGatheringICECandidatesTask=_u.default;const $u=rs(FullJitterBackoff$1);ts.FullJitterBackoff=$u.default;const mu=rs(FullJitterBackoffFactory$1);ts.FullJitterBackoffFactory=mu.default;const pu=rs(FullJitterLimitedBackoff$1);ts.FullJitterLimitedBackoff=pu.default;const vu=rs(GetUserMediaError$1);ts.GetUserMediaError=vu.default;const Su=rs(GlobalMetricReport$1);ts.GlobalMetricReport=Su.default;const Tu=rs(InMemoryJSONEventBuffer$1);ts.InMemoryJSONEventBuffer=Tu.default;const Ru=rs(IntervalScheduler$1);ts.IntervalScheduler=Ru.default;const yu=rs(JoinAndReceiveIndexTask$1);ts.JoinAndReceiveIndexTask=yu.default;const Ou=rs(LeaveAndReceiveLeaveAckTask$1);ts.LeaveAndReceiveLeaveAckTask=Ou.default;const ju=rs(ListenForVolumeIndicatorsTask$1);ts.ListenForVolumeIndicatorsTask=ju.default;const Pu=rs(Log$1);ts.Log=Pu.default;const Mu=rs(LogLevel);ts.LogLevel=Mu.default;const Ul=rs(MediaDeviceProxyHandler$1);ts.MediaDeviceProxyHandler=Ul.default;const Fl=rs(MeetingEventsClientConfiguration$1);ts.MeetingEventsClientConfiguration=Fl.default;const ru=rs(MeetingFeatures$1);ts.MeetingFeatures=ru.default;const Yl=rs(MeetingReadinessCheckerConfiguration$1);ts.MeetingReadinessCheckerConfiguration=Yl.default;const su=rs(MeetingSessionConfiguration$1);ts.MeetingSessionConfiguration=su.default;const ou=rs(MeetingSessionCredentials$1);ts.MeetingSessionCredentials=ou.default;const cu=rs(MeetingSessionLifecycleEvent);ts.MeetingSessionLifecycleEvent=cu.default;const bu=rs(MeetingSessionLifecycleEventCondition);ts.MeetingSessionLifecycleEventCondition=bu.default;const Gu=rs(MeetingSessionStatus$1);ts.MeetingSessionStatus=Gu.default;const dp=rs(MeetingSessionStatusCode);ts.MeetingSessionStatusCode=dp.default;const pp=rs(MeetingSessionTURNCredentials$1);ts.MeetingSessionTURNCredentials=pp.default;const fp=rs(MeetingSessionURLs$1);ts.MeetingSessionURLs=fp.default;const hp=rs(MeetingSessionVideoAvailability$1);ts.MeetingSessionVideoAvailability=hp.default;const Ku=rs(Message$1);ts.Message=Ku.default;const mp=rs(MessagingSessionConfiguration$1);ts.MessagingSessionConfiguration=mp.default;const gp=rs(ModelSpecBuilder$1);ts.ModelSpecBuilder=gp.default;const Lu=rs(MonitorTask$1);ts.MonitorTask=Lu.default;const xp=rs(MultiLogger$1);ts.MultiLogger=xp.default;const vp=rs(NScaleVideoUplinkBandwidthPolicy$1);ts.NScaleVideoUplinkBandwidthPolicy=vp.default;const yp=rs(requireNoOpAudioVideoController());ts.NoOpAudioVideoController=yp.default;const bp=rs(NoOpDebugLogger$1);ts.NoOpDebugLogger=bp.default;const Sp=rs(NoOpDeviceController$1);ts.NoOpDeviceController=Sp.default;const Cp=rs(NoOpEventReporter$1);ts.NoOpEventReporter=Cp.default;const qu=rs(NoOpLogger$1);ts.NoOpLogger=qu.default;const $p=rs(NoOpMediaStreamBroker$1);ts.NoOpMediaStreamBroker=$p.default;const zu=rs(NoOpTask$1);ts.NoOpTask=zu.default;const _d=rs(NoOpVideoElementFactory$1);ts.NoOpVideoElementFactory=_d.default;const ep=rs(NoOpVideoFrameProcessor$1);ts.NoOpVideoFrameProcessor=ep.default;const Ep=rs(NoVideoDownlinkBandwidthPolicy$1);ts.NoVideoDownlinkBandwidthPolicy=Ep.default;const wp=rs(NoVideoUplinkBandwidthPolicy$1);ts.NoVideoUplinkBandwidthPolicy=wp.default;const Tp=rs(NotFoundError$1);ts.NotFoundError=Tp.default;const Rp=rs(NotReadableError$1);ts.NotReadableError=Rp.default;const tp=rs(OnceTask$1);ts.OnceTask=tp.default;const Ip=rs(OpenSignalingConnectionTask$1);ts.OpenSignalingConnectionTask=Ip.default;const Pp=rs(OverconstrainedError$1);ts.OverconstrainedError=Pp.default;const rp=rs(POSTLogger$1);ts.POSTLogger=rp.default;const Zu=rs(ParallelGroupTask$1);ts.ParallelGroupTask=Zu.default;const Hu=rs(PermissionDeniedError$1);ts.PermissionDeniedError=Hu.default;const kp=rs(PrefetchOn$1);ts.PrefetchOn=kp.default;const Ap=rs(PrefetchSortBy$1);ts.PrefetchSortBy=Ap.default;const Nu=rs(PromiseQueue$1);ts.PromiseQueue=Nu.default;const Mp=rs(requirePromoteToPrimaryMeetingTask());ts.PromoteToPrimaryMeetingTask=Mp.default;const Dp=rs(RealtimeAttendeePositionInFrame$1);ts.RealtimeAttendeePositionInFrame=Dp.default;const jp=rs(RealtimeState$1);ts.RealtimeState=jp.default;const Fp=rs(RealtimeVolumeIndicator$1);ts.RealtimeVolumeIndicator=Fp.default;const Lp=rs(ReceiveAudioInputTask$1);ts.ReceiveAudioInputTask=Lp.default;const Vu=rs(ReceiveRemoteVideoPauseResumeTask);ts.ReceiveRemoteVideoPauseResumeTask=Vu.default;const np=rs(ReceiveVideoInputTask$1);ts.ReceiveVideoInputTask=np.default;const Np=rs(ReceiveVideoStreamIndexTask$1);ts.ReceiveVideoStreamIndexTask=Np.default;const Yu=rs(ReconnectionHealthPolicy$1);ts.ReconnectionHealthPolicy=Yu.default;const Bp=rs(RedundantAudioEncoder$1);ts.RedundantAudioEncoder=Bp.default;const Qu=rs(RedundantAudioEncoderWorkerCode$1);ts.RedundantAudioEncoderWorkerCode=Qu.default;const Vp=rs(RedundantAudioRecoveryMetricReport$1);ts.RedundantAudioRecoveryMetricReport=Vp.default;const op=rs(RunnableTask$1);ts.RunnableTask=op.default;const ip=rs(SDP$1);ts.SDP=ip.default;const sp=rs(SDPCandidateType);ts.SDPCandidateType=sp.default;const Wu=rs(SDPMediaSection$1);ts.SDPMediaSection=Wu.default;const ap=rs(SendAndReceiveDataMessagesTask$1);ts.SendAndReceiveDataMessagesTask=ap.default;const Up=rs(SendingAudioFailureConnectionHealthPolicy$1);ts.SendingAudioFailureConnectionHealthPolicy=Up.default;const Gp=rs(SerialGroupTask$1);ts.SerialGroupTask=Gp.default;const Hp=rs(ServerSideNetworkAdaption);ts.ServerSideNetworkAdaption=Hp.default;const Js=rs(SessionStateControllerAction);ts.SessionStateControllerAction=Js.default;const Il=rs(SessionStateControllerDeferPriority);ts.SessionStateControllerDeferPriority=Il.default;const Wl=rs(SessionStateControllerState);ts.SessionStateControllerState=Wl.default;const iu=rs(SessionStateControllerTransitionResult);ts.SessionStateControllerTransitionResult=iu.default;const hu=rs(SetLocalDescriptionTask$1);ts.SetLocalDescriptionTask=hu.default;const uu=rs(SetRemoteDescriptionTask$1);ts.SetRemoteDescriptionTask=uu.default;const xu=rs(SignalingAndMetricsConnectionMonitor$1);ts.SignalingAndMetricsConnectionMonitor=xu.default;const Cu=rs(SignalingClientConnectionRequest$1);ts.SignalingClientConnectionRequest=Cu.default;const Eu=rs(SignalingClientEvent$1);ts.SignalingClientEvent=Eu.default;const gu=rs(SignalingClientEventType);ts.SignalingClientEventType=gu.default;const Iu=rs(SignalingClientJoin$1);ts.SignalingClientJoin=Iu.default;const Du=rs(SignalingClientSubscribe$1);ts.SignalingClientSubscribe=Du.default;const wu=rs(SignalingClientVideoSubscriptionConfiguration$1);ts.SignalingClientVideoSubscriptionConfiguration=wu.default;const ku=rs(SimulcastContentShareTransceiverController$1);ts.SimulcastContentShareTransceiverController=ku.default;const Au=rs(SimulcastLayers);ts.SimulcastLayers=Au.default;const Bu=rs(SimulcastTransceiverController$1);ts.SimulcastTransceiverController=Bu.default;const Fu=rs(SimulcastVideoStreamIndex$1);ts.SimulcastVideoStreamIndex=Fu.default;const Uu=rs(SingleNodeAudioTransformDevice$1);ts.SingleNodeAudioTransformDevice=Uu.default;const lp=rs(StreamMetricReport$1);ts.StreamMetricReport=lp.default;const Ju=rs(SubscribeAndReceiveSubscribeAckTask$1);ts.SubscribeAndReceiveSubscribeAckTask=Ju.default;const Xu=rs(TargetDisplaySize);ts.TargetDisplaySize=Xu.default;const Yx=rs(TaskStatus$1);ts.TaskStatus=Yx.default;const Jx=rs(TimeoutScheduler$1);ts.TimeoutScheduler=Jx.default;const Xx=rs(TimeoutTask$1);ts.TimeoutTask=Xx.default;const Qx=rs(Transcript$1);ts.Transcript=Qx.default;const ev=rs(TranscriptAlternative$1);ts.TranscriptAlternative=ev.default;const tv=rs(TranscriptEntity$1);ts.TranscriptEntity=tv.default;const rv=rs(TranscriptItem$1);ts.TranscriptItem=rv.default;const nv=rs(TranscriptItemType$1);ts.TranscriptItemType=nv.default;const ov=rs(TranscriptLanguageWithScore$1);ts.TranscriptLanguageWithScore=ov.default;const iv=rs(TranscriptResult$1);ts.TranscriptResult=iv.default;const sv=rs(TranscriptionStatus$1);ts.TranscriptionStatus=sv.default;const av=rs(TranscriptionStatusType$1);ts.TranscriptionStatusType=av.default;const lv=rs(_TypeError);ts.TypeError=lv.default;const cv=rs(UnusableAudioWarningConnectionHealthPolicy$1);ts.UnusableAudioWarningConnectionHealthPolicy=cv.default;const uv=rs(Versioning$1);ts.Versioning=uv.default;const dv=rs(VideoAdaptiveProbePolicy$1);ts.VideoAdaptiveProbePolicy=dv.default;const pv=rs(VideoCodecCapability$1);ts.VideoCodecCapability=pv.default;const fv=rs(VideoEncodingConnectionHealthPolicyName);ts.VideoEncodingConnectionHealthPolicyName=fv.default;const hv=rs(VideoEncodingCpuConnectionHealthPolicy$1);ts.VideoEncodingCpuConnectionHealthPolicy=hv.default;const mv=rs(VideoEncodingFramerateConnectionHealthPolicy$1);ts.VideoEncodingFramerateConnectionHealthPolicy=mv.default;const gv=rs(VideoFxProcessor$1);ts.VideoFxProcessor=gv.default;const xv=rs(VideoLogEvent);ts.VideoLogEvent=xv.default;const vv=rs(VideoOnlyTransceiverController$1);ts.VideoOnlyTransceiverController=vv.default;const yv=rs(VideoPreference$1);ts.VideoPreference=yv.default;const bv=rs(VideoPreferences$1);ts.VideoPreferences=bv.default;const Sv=rs(VideoPriorityBasedPolicy$1);ts.VideoPriorityBasedPolicy=Sv.default;const Cv=rs(VideoPriorityBasedPolicyConfig$1);ts.VideoPriorityBasedPolicyConfig=Cv.default;const $v=rs(VideoQualityAdaptationPreference);ts.VideoQualityAdaptationPreference=$v.default;const Ev=rs(VideoQualitySettings$1);ts.VideoQualitySettings=Ev.default;const _v=rs(VideoSource$1);ts.VideoSource=_v.default;const wv=rs(VideoStreamDescription$1);ts.VideoStreamDescription=wv.default;const Tv=rs(VideoTileState$1);ts.VideoTileState=Tv.default;const Rv=rs(VoiceFocusDeviceTransformer$1);ts.VoiceFocusDeviceTransformer=Rv.default;const Iv=rs(VoiceFocusTransformDevice$1);ts.VoiceFocusTransformDevice=Iv.default;const Pv=rs(WaitForAttendeePresenceTask$1);ts.WaitForAttendeePresenceTask=Pv.default;const kv=rs(WebSocketReadyState);ts.WebSocketReadyState=kv.default;const Av=rs(ZLIBTextCompressor$1);ts.ZLIBTextCompressor=Av.default;const Mv=VideoPreferences$1;Object.defineProperty(ts,"MutableVideoPreferences",{enumerable:!0,get:function(){return Mv.MutableVideoPreferences}});const zp=Types;Object.defineProperty(ts,"Some",{enumerable:!0,get:function(){return zp.Some}}),Object.defineProperty(ts,"None",{enumerable:!0,get:function(){return zp.None}}),Object.defineProperty(ts,"Maybe",{enumerable:!0,get:function(){return zp.Maybe}});const Dv=AudioTransformDevice;Object.defineProperty(ts,"isAudioTransformDevice",{enumerable:!0,get:function(){return Dv.isAudioTransformDevice}});const Ov=Destroyable;Object.defineProperty(ts,"isDestroyable",{enumerable:!0,get:function(){return Ov.isDestroyable}});const jv=VideoTransformDevice;Object.defineProperty(ts,"isVideoTransformDevice",{enumerable:!0,get:function(){return jv.isVideoTransformDevice}})}(build$2)),build$2}var buildExports=requireBuild(),getRandomValues,rnds8=new Uint8Array(16);function rng(){if(!getRandomValues&&(getRandomValues=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!getRandomValues))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues(rnds8)}const REGEX=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function validate(ts){return typeof ts=="string"&&REGEX.test(ts)}var byteToHex=[];for(var i=0;i<256;++i)byteToHex.push((i+256).toString(16).substr(1));function stringify(ts){var rs=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,ns=(byteToHex[ts[rs+0]]+byteToHex[ts[rs+1]]+byteToHex[ts[rs+2]]+byteToHex[ts[rs+3]]+"-"+byteToHex[ts[rs+4]]+byteToHex[ts[rs+5]]+"-"+byteToHex[ts[rs+6]]+byteToHex[ts[rs+7]]+"-"+byteToHex[ts[rs+8]]+byteToHex[ts[rs+9]]+"-"+byteToHex[ts[rs+10]]+byteToHex[ts[rs+11]]+byteToHex[ts[rs+12]]+byteToHex[ts[rs+13]]+byteToHex[ts[rs+14]]+byteToHex[ts[rs+15]]).toLowerCase();if(!validate(ns))throw TypeError("Stringified UUID is invalid");return ns}function v4(ts,rs,ns){ts=ts||{};var os=ts.random||(ts.rng||rng)();if(os[6]=os[6]&15|64,os[8]=os[8]&63|128,rs){ns=ns||0;for(var ss=0;ss<16;++ss)rs[ns+ss]=os[ss];return rs}return stringify(os)}function __rest(ts,rs){var ns={};for(var os in ts)Object.prototype.hasOwnProperty.call(ts,os)&&rs.indexOf(os)<0&&(ns[os]=ts[os]);if(ts!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ss=0,os=Object.getOwnPropertySymbols(ts);ss<os.length;ss++)rs.indexOf(os[ss])<0&&Object.prototype.propertyIsEnumerable.call(ts,os[ss])&&(ns[os[ss]]=ts[os[ss]]);return ns}function __awaiter(ts,rs,ns,os){function ss(as){return as instanceof ns?as:new ns(function(ls){ls(as)})}return new(ns||(ns=Promise))(function(as,ls){function cs(ps){try{ds(os.next(ps))}catch(fs){ls(fs)}}function us(ps){try{ds(os.throw(ps))}catch(fs){ls(fs)}}function ds(ps){ps.done?as(ps.value):ss(ps.value).then(cs,us)}ds((os=os.apply(ts,rs||[])).next())})}typeof SuppressedError=="function"&&SuppressedError;const baseStyles=({css:ts})=>ts?"@media { ".concat(ts," };"):"",baseSpacing=ts=>space(ts);var nm;styled.span(nm||(nm=zl(["\n  ","\n  display: inline-block;\n  padding: ",";\n  border-radius: 0.5rem;\n  line-height: ",";\n  color: ",";\n  font-size: 0.65rem;\n  background-color: ",";\n\n  ",";\n  ","\n"])),ts=>{if(typeof ts.value=="object"){const rs=ts.value,ns=rs.props&&rs.props.width||"1rem";return"width: ".concat(ns,";")}return null},ts=>typeof ts.value=="object"?"0":"0.1rem 0.4rem 0.125rem",ts=>typeof ts.value=="object"?"1":"1.43",ts=>ts.theme.colors.greys.white,ts=>ts.status==="alert"?ts.theme.colors.error.primary:ts.theme.colors.greys.grey60,baseSpacing,baseStyles);var om;const visuallyHidden=Ae(om||(om=zl(["\n  clip: rect(1px, 1px, 1px, 1px);\n  height: 1px;\n  width: 1px;\n  overflow: hidden;\n  position: absolute !important;\n"])));var im;const ellipsis=Ae(im||(im=zl(["\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n"])));var sm;const absoluteCenter=Ae(sm||(sm=zl(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n"]))),isValidCSSHex=ts=>/^#[0-9A-F]{6}$/i.test(ts),hexTorgba=(ts,rs=1)=>{var ns;if(!isValidCSSHex(ts))return"";const[os,ss,as]=(ns=ts.match(/\w\w/g))===null||ns===void 0?void 0:ns.map(ls=>parseInt(ls,16));return"rgba(".concat(os,", ").concat(ss,", ").concat(as,", ").concat(rs||1,")")};var am;const StyledButton=styled.button(am||(am=zl(["\n  border-radius: ",";\n  font-size: ",";\n  padding: 0.5rem 1rem;\n  border-color: transparent;\n  transition: background-color 0.1s ease;\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n\n  &:hover {\n    cursor: pointer;\n  }\n\n  &:focus {\n    outline: none;\n  }\n\n  .ch-icon {\n    width: ",";\n    height: ",";\n    margin-right: 0.25rem;\n  }\n\n  /* variant styles */\n  ","\n  ","\n  ","\n\n  ","\n  ","\n"])),ts=>ts.theme.radii.default,ts=>ts.theme.fontSizes.text.fontSize,ts=>ts.theme.iconButtonSizes[ts.iconSize||"sm"],ts=>ts.theme.iconButtonSizes[ts.iconSize||"sm"],ts=>ts.variant==="primary"&&StyledPrimaryButton,ts=>ts.variant==="secondary"&&StyledSecondaryButton,ts=>ts.variant==="icon"&&StyledIconButton,baseSpacing,baseStyles);var lm;const StyledPrimaryButton=Ae(lm||(lm=zl(["\n  background-color: ",";\n  color: ",";\n  border: ",";\n  box-shadow: ",";\n\n  &:focus {\n    background-color: ",";\n    border: ",";\n    color: ",";\n    box-shadow: ",";\n  }\n\n  &:hover {\n    background-color: ",";\n    border: ",";\n    color: ",";\n    box-shadow: ",";\n  }\n\n  &:focus:hover {\n    box-shadow: ",";\n  }\n\n  &:active {\n    background-color: ",";\n    border: ",";\n    color: ",";\n    box-shadow: ",";\n  }\n\n  &:disabled {\n    background-color: ",";\n    border: ",";\n    color: ",";\n    cursor: not-allowed;\n  }\n"])),ts=>ts.selected?ts.theme.buttons.primary.selected.bgd:ts.theme.buttons.primary.static.bgd,ts=>ts.selected?ts.theme.buttons.primary.selected.text:ts.theme.buttons.primary.static.text,ts=>ts.selected?ts.theme.buttons.primary.selected.border:ts.theme.buttons.primary.static.border,ts=>ts.theme.buttons.primary.static.shadow,ts=>ts.theme.buttons.primary.focus.bgd,ts=>ts.theme.buttons.primary.focus.border,ts=>ts.theme.buttons.primary.focus.text,ts=>ts.theme.buttons.primary.focus.shadow,ts=>ts.theme.buttons.primary.hover.bgd,ts=>ts.theme.buttons.primary.hover.border,ts=>ts.theme.buttons.primary.hover.text,ts=>ts.theme.buttons.primary.hover.shadow,ts=>ts.theme.buttons.primary.focus.shadow,ts=>ts.theme.buttons.primary.active.bgd,ts=>ts.theme.buttons.primary.active.border,ts=>ts.theme.buttons.primary.active.text,ts=>ts.theme.buttons.primary.active.shadow,ts=>ts.theme.buttons.primary.disabled.bgd,ts=>ts.theme.buttons.primary.disabled.border,ts=>ts.theme.buttons.primary.disabled.text);var cm;const StyledSecondaryButton=Ae(cm||(cm=zl(["\n  background-color: ",";\n  color: ",";\n  border: ",";\n  box-shadow: ",";\n\n  &:focus {\n    background-color: ",";\n    border: ",";\n    color: ",";\n    box-shadow: ",";\n  }\n\n  &:hover {\n    background-color: ",";\n    border: ",";\n    color: ",";\n    box-shadow: ",";\n  }\n\n  &:focus:hover {\n    box-shadow: ",";\n  }\n\n  &:active {\n    background-color: ",";\n    border: ",";\n    color: ",";\n    box-shadow: ",";\n  }\n\n  &:disabled {\n    background-color: ",";\n    border: ",";\n    color: ",";\n    cursor: not-allowed;\n  }\n"])),ts=>ts.selected?ts.theme.buttons.secondary.selected.bgd:ts.theme.buttons.secondary.static.bgd,ts=>ts.selected?ts.theme.buttons.secondary.selected.text:ts.theme.buttons.secondary.static.text,ts=>ts.selected?ts.theme.buttons.secondary.selected.border:ts.theme.buttons.secondary.static.border,ts=>ts.theme.buttons.secondary.shadow,ts=>ts.theme.buttons.secondary.focus.bgd,ts=>ts.theme.buttons.secondary.focus.border,ts=>ts.theme.buttons.secondary.focus.text,ts=>ts.theme.buttons.secondary.focus.shadow,ts=>ts.theme.buttons.secondary.hover.bgd,ts=>ts.theme.buttons.secondary.hover.border,ts=>ts.theme.buttons.secondary.hover.text,ts=>ts.theme.buttons.secondary.hover.shadow,ts=>ts.theme.buttons.secondary.focus.shadow,ts=>ts.theme.buttons.secondary.active.bgd,ts=>ts.theme.buttons.secondary.active.border,ts=>ts.theme.buttons.secondary.active.text,ts=>ts.theme.buttons.secondary.focus.shadow,ts=>ts.theme.buttons.secondary.disabled.bgd,ts=>ts.theme.buttons.secondary.disabled.border,ts=>ts.theme.buttons.secondary.disabled.text);var um,dm,pm;const badgeLayout={sm:Ae(um||(um=zl(["\n    top: -15%;\n    left: 76%;\n  "]))),md:Ae(dm||(dm=zl(["\n    top: 4%;\n    left: 76%;\n  "]))),lg:Ae(pm||(pm=zl(["\n    top: 10%;\n    left: 76%;\n  "])))};var fm;const StyledIconButton=Ae(fm||(fm=zl(["\n  background-color: ",";\n  color: ",";\n  border: ",";\n  border-radius: ",";\n  padding: 0.1875rem;\n  position: relative;\n\n  > .ch-label {\n    ",";\n  }\n\n  > .ch-icon {\n    width: ",";\n    height: ",";\n    margin: 0;\n  }\n\n  &:focus {\n    background-color: ",";\n    border: ",";\n    color: ",";\n    color: ",";\n    box-shadow: ",";\n  }\n\n  &:hover {\n    background-color: ",";\n    border: ",";\n    color: ",";\n  }\n\n  &:active {\n    background-color: ",";\n    border: ",";\n    color: ",";\n  }\n\n  &:disabled {\n    background-color: ",";\n    border: ",";\n    color: ",";\n    cursor: not-allowed;\n  }\n\n  + * {\n    position: absolute;\n    font-size: 0.55rem;\n    z-index: 1;\n    ","\n  }\n"])),ts=>ts.selected?ts.theme.buttons.icon.selected.bgd:ts.theme.buttons.icon.static.bgd,ts=>ts.selected?ts.theme.buttons.icon.selected.text:ts.theme.buttons.icon.static.text,ts=>ts.selected?ts.theme.buttons.icon.selected.border:ts.theme.buttons.icon.static.border,ts=>ts.theme.radii.circle,visuallyHidden,ts=>ts.theme.iconButtonSizes[ts.iconSize||"sm"],ts=>ts.theme.iconButtonSizes[ts.iconSize||"sm"],({theme:ts,selected:rs})=>rs?ts.buttons.icon.selected.bgd:ts.buttons.icon.static.bgd,ts=>ts.theme.buttons.icon.focus.border,ts=>ts.theme.buttons.icon.focus.text,({theme:ts,selected:rs})=>rs?ts.buttons.icon.selected.text:ts.buttons.icon.static.text,ts=>ts.theme.buttons.icon.focus.shadow,ts=>ts.theme.buttons.icon.hover.bgd,ts=>ts.theme.buttons.icon.hover.border,ts=>ts.theme.buttons.icon.hover.text,ts=>ts.theme.buttons.icon.active.bgd,ts=>ts.theme.buttons.icon.active.border,ts=>ts.theme.buttons.icon.active.text,ts=>ts.theme.buttons.icon.disabled.bgd,ts=>ts.theme.buttons.icon.disabled.border,ts=>ts.theme.buttons.icon.disabled.text,({iconSize:ts})=>ts?badgeLayout[ts]:badgeLayout.sm);var hm;const StyledIconButtonWrapper=styled.span(hm||(hm=zl(["\n  display: inline-block;\n  position: relative;\n"]))),Button=reactExports.forwardRef((ts,rs)=>React$2.createElement(StyledButton,Object.assign({},ts,{className:ts.className||"",as:ts.tag,ref:rs,"aria-label":ts.label,"data-testid":"button",disabled:ts.disabled}),ts.icon&&React$2.createElement("span",{className:"ch-icon","data-testid":"button-icon"},ts.icon),React$2.createElement("span",{className:"ch-label","data-testid":"button-label"},ts.label)));reactExports.forwardRef((ts,rs)=>React$2.createElement(Button,Object.assign({variant:"primary"},ts)));const SecondaryButton=reactExports.forwardRef((ts,rs)=>React$2.createElement(Button,Object.assign({variant:"secondary"},ts))),IconButton=reactExports.forwardRef((ts,rs)=>React$2.createElement(StyledIconButtonWrapper,null,React$2.createElement(Button,Object.assign({ref:rs,variant:"icon"},ts)),ts.badge)),Svg=ts=>{var{className:rs,children:ns,viewBox:os="0 0 24 24",xmlns:ss="http://www.w3.org/2000/svg",width:as,height:ls,title:cs}=ts,us=__rest(ts,["className","children","viewBox","xmlns","width","height","title"]);const ds={width:as,height:ls};return React$2.createElement("svg",Object.assign({xmlns:ss,className:"Svg ".concat(rs||""),height:ls,style:ds,viewBox:os,width:as},us),cs&&React$2.createElement("title",null,cs),React$2.createElement("g",{fillRule:"evenodd",fill:"currentColor"},ns))},dirTransform$1={up:"0",right:"90",down:"180",left:"270"};var mm;styled(Svg)(mm||(mm=zl(["\n  transform: ",";\n"])),({direction:ts})=>"rotate(".concat(dirTransform$1[ts||"up"],"deg)"));const dirTransform={up:"0",right:"90",down:"180",left:"270"};var gm;styled(Svg)(gm||(gm=zl(["\n  transform: ",";\n"])),({direction:ts})=>"rotate(".concat(dirTransform[ts||"up"],"deg)"));var xm;const defaultStyle=Ae(xm||(xm=zl(["\n  .ch-caution-background {\n    fill: transparent;\n  }\n"])));var vm;const warningStyle=Ae(vm||(vm=zl(["\n  .ch-caution-background {\n    fill: ",";\n  }\n\n  .ch-caution-exclamation {\n    fill: ",";\n  }\n\n  .ch-caution-border {\n    fill: ",";\n  }\n"])),ts=>ts.theme.colors.warning.primary,ts=>ts.theme.colors.greys.white,ts=>ts.theme.colors.warning.primary);var ym;const errorStyle=Ae(ym||(ym=zl(["\n  .ch-caution-background {\n    fill: ",";\n  }\n\n  .ch-caution-exclamation {\n    fill: ",";\n  }\n\n  .ch-caution-border {\n    fill: ",";\n  }\n"])),ts=>ts.theme.colors.error.primary,ts=>ts.theme.colors.greys.white,ts=>ts.theme.colors.error.primary),variantMap={default:defaultStyle,"fill-warning":warningStyle,"fill-error":errorStyle};var bm;const StyledCaution=styled.g(bm||(bm=zl(["\n  ",";\n"])),ts=>variantMap[ts.variant||"default"]),Caution=ts=>React$2.createElement(Svg,Object.assign({},ts),React$2.createElement(StyledCaution,{fill:"currentColor",variant:ts.variant},React$2.createElement("path",{className:"ch-caution-background",d:"M18.728 15.186l-5.085-8.281C13.293 6.338 12.68 6 12 6c-.68 0-1.294.338-1.642.905l-5.085 8.281c-.351.571-.365 1.258-.04 1.841.336.6.98.972 1.68.972h10.17c.704 0 1.348-.372 1.683-.972.326-.583.312-1.27-.04-1.841"}),React$2.createElement("path",{className:"ch-caution-exclamation",d:"M12.572 14.609v1.219h-1.166v-1.219h1.166zm.023-5.388v1.83l-.288 2.727h-.597l-.305-2.727V9.22h1.19z"}),React$2.createElement("path",{className:"ch-caution-border",d:"M17.894 16.539c-.161.288-.463.46-.81.46H6.915c-.343 0-.645-.172-.806-.46-.15-.266-.143-.568.017-.829l5.085-8.281c.33-.536 1.25-.538 1.58 0l5.086 8.281c.16.261.167.563.018.829m.834-1.353l-5.085-8.281C13.293 6.338 12.68 6 12 6c-.68 0-1.294.338-1.642.905l-5.085 8.281c-.351.571-.365 1.258-.04 1.841.336.6.98.972 1.68.972h10.17c.704 0 1.348-.372 1.683-.972.326-.583.312-1.27-.04-1.841"})));Caution.displayName="Caution";const CheckRound=ts=>React$2.createElement(Svg,Object.assign({},ts),React$2.createElement("path",{d:"M12 4c4.411 0 8 3.589 8 8s-3.589 8-8 8-8-3.589-8-8 3.589-8 8-8zm0 1c-3.86 0-7 3.141-7 7s3.14 7 7 7 7-3.141 7-7-3.14-7-7-7zm3.493 4.873c.211-.179.526-.15.705.061.177.211.15.527-.061.705l-4.476 3.764-.003.002v.001c-.029.024-.061.035-.091.051-.02.011-.039.027-.061.035-.054.019-.11.028-.166.028-.072 0-.143-.015-.209-.045-.016-.007-.027-.023-.042-.032-.047-.028-.095-.056-.132-.1l-.001-.002-.003-.004-1.84-2.246c-.175-.213-.143-.529.07-.703.213-.177.529-.145.704.07l1.518 1.853z"}));CheckRound.displayName="CheckRound";const Clear=ts=>React$2.createElement(Svg,Object.assign({},ts,{title:"Clear"}),React$2.createElement("path",{d:"M12 5c3.866 0 7 3.134 7 7s-3.134 7-7 7-7-3.134-7-7 3.134-7 7-7zM9.172 9.17c-.196.196-.196.513 0 .708L11.293 12l-2.12 2.12c-.197.197-.197.513 0 .708.096.098.224.147.352.147.128 0 .256-.05.354-.147L12 12.707l2.121 2.12c.098.099.226.148.353.148.128 0 .256-.05.354-.147.195-.195.195-.511 0-.707L12.708 12l2.12-2.122c.195-.195.195-.512 0-.707-.195-.195-.512-.195-.707 0l-2.12 2.12-2.122-2.12c-.196-.195-.512-.195-.707 0z"}));Clear.displayName="Clear";const Clock=ts=>React$2.createElement(Svg,Object.assign({},ts),React$2.createElement("path",{d:"M12 4c4.411 0 8 3.589 8 8s-3.589 8-8 8-8-3.589-8-8 3.589-8 8-8zm0 1c-3.859 0-7 3.141-7 7s3.141 7 7 7 7-3.141 7-7-3.141-7-7-7zm0 2.559c.276 0 .5.223.5.5V11.5h3c.276 0 .5.224.5.5s-.224.5-.5.5H12c-.276 0-.5-.224-.5-.5V8.059c0-.277.224-.5.5-.5z"}));Clock.displayName="Clock";const Dots=ts=>React$2.createElement(Svg,Object.assign({},ts),React$2.createElement("path",{d:"M12 4c4.418 0 8 3.582 8 8s-3.582 8-8 8-8-3.582-8-8 3.582-8 8-8zm0 1c-3.86 0-7 3.14-7 7 0 3.859 3.14 7 7 7 3.859 0 7-3.141 7-7 0-3.86-3.141-7-7-7zm-3 6c.552 0 1 .448 1 1s-.448 1-1 1-1-.448-1-1 .448-1 1-1zm6 0c.553 0 1 .448 1 1s-.447 1-1 1c-.553 0-1-.448-1-1s.447-1 1-1zm-3 0c.552 0 1 .448 1 1s-.448 1-1 1-1-.448-1-1 .448-1 1-1z"}));Dots.displayName="Dots";var Sm;styled.circle(Sm||(Sm=zl(["\n  fill: ",";\n"])),ts=>ts.theme.colors.primary.main);const Information=ts=>React$2.createElement(Svg,Object.assign({},ts),React$2.createElement("path",{d:"M12 4c4.411 0 8 3.589 8 8s-3.589 8-8 8-8-3.589-8-8 3.589-8 8-8zm0 1c-3.859 0-7 3.141-7 7s3.141 7 7 7 7-3.141 7-7-3.141-7-7-7zm.016 6.476c.276 0 .5.224.5.5v2.498c0 .276-.224.5-.5.5s-.5-.224-.5-.5v-2.498c0-.276.224-.5.5-.5zM12 8.709c.414 0 .75.335.75.75 0 .414-.336.75-.75.75s-.75-.336-.75-.75c0-.415.336-.75.75-.75z"}));Information.displayName="Information";const SvgWithoutMicrophoneProps=ts=>{var rs=__rest(ts,["poorConnection","muted"]);return React$2.createElement(Svg,Object.assign({},rs))};var Cm;const StyledSvg=styled(SvgWithoutMicrophoneProps)(Cm||(Cm=zl(["\n  ","\n"])),ts=>ts.poorConnection?"color: ".concat(ts.theme.colors.error.light):"");function getPath(ts,rs){return ts?rs?"M4.146 4.146c.196-.195.513-.195.708 0L9.168 8.46h.018l.813.815v.018l5.854 5.854c.002-.005.005-.008.008-.01l.724.724-.008.01 3.276 3.275c.195.195.195.512 0 .707-.098.098-.226.147-.354.147-.127 0-.255-.049-.352-.146l-3.281-3.281C14.82 17.459 13.475 18 11.998 18c-3.308 0-6-2.691-6-6 0-.277.224-.5.5-.5.278 0 .5.223.5.5 0 2.757 2.244 5 5 5 1.2 0 2.29-.436 3.147-1.146l-1.439-1.438c-.14.105-.287.207-.445.285l-.447-.895c.062-.03.116-.073.174-.11l-2.99-2.989v.941H9v-1.063h.88L4.147 4.853c-.196-.194-.196-.511 0-.707zM14.5 19c.276 0 .5.224.5.5s-.224.5-.5.5h-5c-.276 0-.5-.224-.5-.5s.224-.5.5-.5zm3-7.5c.276 0 .5.224.5.5 0 1.106-.307 2.14-.83 3.031l-.748-.748c.357-.687.578-1.456.578-2.283 0-.276.224-.5.5-.5zm-6.293 2.317c.25.121.517.183.793.183l.016 1.001-.098-.008c-.359-.012-.76-.089-1.147-.275zm-1.085-1.278c.093.282.234.536.42.757l-.766.644c-.267-.319-.47-.685-.603-1.089zM15 11.618v.155c0 .325-.051.643-.139.95l-.867-.868c.001-.027.006-.055.006-.082v-.155h1zm0-2.126v1.062h-1V9.492h1zm0-2.125v1.062h-1V7.367h1zM9.155 6.201l.955.297c-.073.235-.11.48-.11.73v.17h-.463l-.512-.512c.024-.232.061-.463.13-.685zm5.079-1.128c.268.321.469.689.599 1.093l-.951.307c-.091-.283-.231-.537-.415-.759zm-3.514-.765l.453.891c-.246.126-.474.312-.656.535l-.776-.63c.274-.338.603-.604.979-.796zM12 4c.434 0 .853.098 1.245.29l-.44.897C12.553 5.064 12.282 5 12 5l-.031-1z":"M14.5 19c.276 0 .5.224.5.5s-.224.5-.5.5h-5c-.276 0-.5-.224-.5-.5s.224-.5.5-.5zM4.146 4.146c.196-.195.512-.195.708 0l15 15c.195.196.195.512 0 .708-.098.097-.226.146-.354.146-.128 0-.256-.049-.354-.146l-3.282-3.283C14.819 17.458 13.475 18 12 18c-3.309 0-6-2.691-6-6 0-.276.224-.5.5-.5s.5.224.5.5c0 2.757 2.243 5 5 5 1.199 0 2.288-.437 3.146-1.146l-1.452-1.453c-.483.366-1.058.599-1.694.599-1.654 0-3-1.448-3-3.228V9.707L4.146 4.854c-.195-.196-.195-.512 0-.708zM17.5 11.5c.276 0 .5.224.5.5 0 1.112-.31 2.152-.84 3.046l-.747-.746c.362-.693.587-1.467.587-2.3 0-.276.224-.5.5-.5zm-7.5-.793v1.065c0 1.229.897 2.228 2 2.228.362 0 .7-.111.992-.301L10 10.707zm2-6.708c1.654 0 3 1.45 3 3.228v4.546c0 .337-.062.655-.151.962l-.859-.858.01-.104V7.228C14 5.998 13.103 5 12 5s-2 .998-2 2.228v.658l-.971-.97C9.178 5.284 10.445 3.998 12 3.998z":rs?"M14.5 19c.276 0 .5.224.5.5s-.224.5-.5.5h-5c-.276 0-.5-.224-.5-.5s.224-.5.5-.5h5zm3-7.5c.276 0 .5.224.5.5 0 3.309-2.691 6-6 6s-6-2.691-6-6c0-.276.224-.5.5-.5s.5.224.5.5c0 2.757 2.243 5 5 5s5-2.243 5-5c0-.276.224-.5.5-.5zm-6.293 2.318c.25.12.517.183.793.183l.013.958v-.46l.085.492H12.014c-.486-.002-.876-.096-1.242-.274l.435-.9zm2.268-.543l.77.637c-.275.335-.606.6-.983.79l-.447-.896c.25-.125.473-.303.66-.53zm-3.353-.736c.093.283.235.537.42.757l-.765.645c-.268-.32-.472-.687-.604-1.09l.949-.312zM15 11.619v.155c0 .359-.053.71-.16 1.043l-.953-.305c.075-.233.113-.482.113-.738v-.155h1zm-5-1.033v1.063H9v-1.063h1zm5-1.093v1.063h-1V9.492h1zm-5-1.03v1.062H9V8.46h1zm5-1.095V8.43h-1V7.367h1zM9.156 6.2l.955.3c-.074.232-.111.478-.111.728v.17H9v-.17c0-.351.053-.696.156-1.027zm5.08-1.127c.267.32.468.688.598 1.093l-.951.306c-.091-.282-.23-.537-.415-.759l.768-.64zm-3.516-.766l.453.891c-.246.126-.473.311-.656.535l-.775-.63c.273-.337.602-.603.978-.795zM12 4c.433 0 .852.098 1.245.29l-.44.899C12.55 5.064 12.28 5 12 5l-.031-1h.03z":"M14.5 19c.276 0 .5.224.5.5s-.224.5-.5.5h-5c-.276 0-.5-.224-.5-.5s.224-.5.5-.5zm3-7.5c.276 0 .5.224.5.5 0 3.309-2.691 6-6 6s-6-2.691-6-6c0-.276.224-.5.5-.5s.5.224.5.5c0 2.757 2.243 5 5 5s5-2.243 5-5c0-.276.224-.5.5-.5zM12 4c1.654 0 3 1.448 3 3.227v4.546C15 13.552 13.654 15 12 15s-3-1.448-3-3.227V7.227C9 5.447 10.346 4 12 4zm0 1c-1.103 0-2 .999-2 2.227v4.546C10 13 10.897 14 12 14s2-1 2-2.227V7.227C14 5.999 13.103 5 12 5z"}const Microphone=ts=>{var{muted:rs=!1,poorConnection:ns=!1,mutedTitle:os="Muted microphone",unmutedTitle:ss="Microphone"}=ts,as=__rest(ts,["muted","poorConnection","mutedTitle","unmutedTitle"]);const ls=getPath(rs,ns);return React$2.createElement(StyledSvg,Object.assign({},as,{muted:rs,poorConnection:ns,title:rs?os:ss,"data-testid":ns?"poor-connection-mic":"good-connection-mic"}),React$2.createElement("path",{d:ls}))};Microphone.displayName="Microphone";const Search=ts=>React$2.createElement(Svg,Object.assign({},ts),React$2.createElement("path",{d:"M11 16c-2.757 0-5-2.243-5-5s2.243-5 5-5 5 2.243 5 5-2.243 5-5 5m7.852 2.145l-3.294-3.253C16.455 13.843 17 12.485 17 11c0-3.309-2.691-6-6-6s-6 2.691-6 6 2.691 6 6 6c1.464 0 2.807-.528 3.849-1.403l3.299 3.258c.098.097.225.145.352.145.129 0 .258-.05.355-.148.195-.197.193-.514-.003-.707"}));Search.displayName="Search";const UpAndDownCaret=ts=>React$2.createElement(Svg,Object.assign({},ts),React$2.createElement("path",{d:"M8.824 9.88c-.21.18-.526.154-.705-.056-.159-.187-.156-.457-.006-.64l.063-.065 3.523-3c.165-.14.397-.156.577-.05l.074.052 3.477 3c.209.18.232.497.052.706-.16.185-.428.224-.632.104l-.074-.052-3.151-2.72-3.198 2.722zM15.176 14.12c.21-.18.526-.154.705.056.159.187.157.457.006.64l-.063.065-3.523 3c-.165.14-.397.156-.577.05l-.074-.052-3.477-3c-.209-.18-.232-.497-.052-.706.16-.185.428-.224.632-.104l.074.052 3.151 2.72 3.198-2.722z"}));UpAndDownCaret.displayName="UpAndDownCaret";var $m;const HiddenCheckbox=styled.input($m||($m=zl(["\n  ",";\n\n  &[aria-invalid='true'] + .ch-checkbox {\n    border: ",";\n    box-shadow: ",";\n  }\n"])),visuallyHidden,ts=>ts.theme.inputs.error.border,ts=>ts.theme.inputs.error.shadow);var Em;styled.div(Em||(Em=zl(["\n  background-color: ",";\n  border: ",";\n  border-radius: ",";\n  box-shadow: ",";\n  color: ",";\n  display: inline-block;\n  height: 1rem;\n  position: relative;\n  width: 1rem;\n  transition: box-shadow 0.05s ease-in;\n\n  > svg {\n    left: -0.03125rem;\n    position: absolute;\n    transform: scale(1.5);\n  }\n\n  ",":checked ~ & {\n    background-color: ",";\n    border: ",";\n    box-shadow: ",";\n    color: ",";\n  }\n\n  ",":focus ~ & {\n    border: ",";\n    box-shadow: ",";\n  }\n"])),ts=>ts.theme.inputs.bgd,ts=>ts.theme.inputs.border,ts=>ts.theme.radii.default,ts=>ts.theme.inputs.shadow,ts=>ts.theme.inputs.fontColor,HiddenCheckbox,ts=>ts.theme.inputs.checked.bgd,ts=>ts.theme.inputs.checked.border,ts=>ts.theme.inputs.checked.shadow,ts=>ts.theme.inputs.checked.fontColor,HiddenCheckbox,ts=>ts.theme.inputs.focus.border,ts=>ts.theme.inputs.focus.shadow);reactExports.createContext({showLabels:!1,layout:"top"});const layoutMap$2={"undocked-vertical":"flex-direction: column;","undocked-horizontal":"flex-direction: row;",top:"flex-direction: row; width: 100%; top: 0; position: fixed;",bottom:"flex-direction: row; width: 100%; bottom: 0; position: fixed;",right:"flex-direction: column; height: 100%; right: 0; position: fixed;",left:"flex-direction: column; height: 100%; left: 0; position: fixed;"},gridTemplateColumnMap={popOver:"grid-template-columns: 2.5rem minmax(0.5rem, auto);","popOver&vertical":"grid-template-columns: 1.5rem 1.5rem 1.5rem"},isVertical=ts=>ts==="right"||ts==="left"||ts==="undocked-vertical",isUndocked=ts=>ts==="undocked-vertical"||ts==="undocked-horizontal",unsetPosition={top:"unset;",bottom:"unset;",right:"unset;",left:"unset;"};var _m;const responsiveStyles$1=ts=>Ae(_m||(_m=zl(["\n    "," {\n      ","\n      ",";\n      box-shadow: ",";\n      border: none;\n      height: ",";\n      width: ",";\n    }\n\n    "," {\n      justify-content: ",";\n      ","\n      ",";\n      box-shadow: ",";\n      border: none;\n    }\n  "])),({theme:rs})=>rs.mediaQueries.max.sm,unsetPosition,rs=>isVertical(rs.layout)?layoutMap$2.left:layoutMap$2.bottom,rs=>rs.theme.controlBar.shadow,rs=>isVertical(rs.layout)&&"100%",rs=>!isVertical(rs.layout)&&"100%",({theme:rs})=>rs.mediaQueries.max.xs,rs=>isVertical(rs.layout)?"center":"space-around",unsetPosition,rs=>isVertical(rs.layout)?layoutMap$2.left:layoutMap$2.bottom,({theme:rs})=>rs.controlBar.shadow);var wm;styled.div(wm||(wm=zl(["\n  display: inline-flex;\n  justify-content: center;\n  align-items: center;\n  border-radius: ",";\n  background-color: ",";\n  opacity: ",";\n  border: ",";\n  box-shadow: ",";\n  ",";\n\n  ","\n\n  width: ",";\n  height: ",";\n\n  ","\n  ","\n"])),({theme:ts,layout:rs})=>isUndocked(rs)?ts.radii.default:"0",ts=>ts.theme.controlBar.bgd,ts=>ts.theme.controlBar.opacity,({theme:ts,layout:rs})=>isUndocked(rs)?"none":ts.controlBar.border,({theme:ts,layout:rs})=>isUndocked(rs)?ts.controlBar.shadow:"none",({layout:ts})=>layoutMap$2["".concat(ts)],ts=>ts.responsive&&responsiveStyles$1(),({layout:ts})=>isVertical(ts)&&"5rem",({layout:ts})=>!isVertical(ts)&&"5rem",baseSpacing,baseStyles);var Tm;styled.div(Tm||(Tm=zl(["\n  margin: ",";\n  display: grid;\n  grid-template-rows: ",";\n  justify-items: center;\n  align-items: center;\n  ",";\n\n  > :first-child {\n    grid-column-start: ",";\n  }\n\n  .ch-control-bar-item-iconButton {\n    .ch-icon {\n      width: 1.5rem;\n      height: 1.5rem;\n      border-radius: 100%;\n    }\n  }\n\n  .ch-control-bar-item-caret {\n    width: 1.25rem;\n    height: 1.25rem;\n    padding: 0;\n\n    .ch-icon {\n      width: 100%;\n      height: 100%;\n    }\n\n    // setting this transform on the shape so we\n    // don't overwrite the rotate transform on the Caret\n    .Svg g {\n      transform: scale(1.333);\n      transform-origin: 50% 50%;\n    }\n  }\n\n  .ch-control-bar-popover {\n    background-color: inherit;\n    grid-column-start: ",";\n    color: ",";\n\n    .isOpen.ch-control-bar-item-caret {\n      color: ",";\n    }\n  }\n\n  .ch-control-bar-item-label {\n    color: ",";\n    grid-row-start: 2;\n    font-size: ","; /* TODO: get updated font size from design */\n    padding-top: 0.25rem;\n    justify-self: center;\n    grid-column: ",";\n  }\n\n  "," {\n    justify-content: space-around;\n    button ~ span {\n      display: none;\n    }\n  }\n\n  "," {\n    margin: ",";\n    button ~ span {\n      display: none;\n    }\n  }\n"])),({layout:ts})=>isVertical(ts)?"0.625rem 0":"0 0.625rem",({showLabels:ts})=>ts?"1.5rem 1rem":"1.5rem",({popOver:ts,layout:rs,children:ns})=>"\n    ".concat(!isVertical(rs)&&(ts||ns)&&gridTemplateColumnMap.popOver||"","\n    ").concat(isVertical(rs)&&(ts||ns)&&gridTemplateColumnMap["popOver&vertical"]||"","\n  "),({layout:ts,popOver:rs,children:ns})=>isVertical(ts)&&(rs||ns)?"2":"1",({layout:ts,popOver:rs,children:ns})=>isVertical(ts)&&(rs||ns)?"2":"1",({theme:ts})=>ts.controlBar.text,ts=>ts.theme.colors.primary.main,({theme:ts})=>ts.controlBar.text,ts=>ts.theme.fontSizes.footnote.fontSize,({layout:ts,popOver:rs,children:ns})=>isVertical(ts)&&(rs||ns)?"2":"1",({theme:ts})=>ts.mediaQueries.max.sm,({theme:ts})=>ts.mediaQueries.max.xs,({layout:ts})=>isVertical(ts)?"0.75rem 0":"0");var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function createCommonjsModule(ts,rs,ns){return ns={path:rs,exports:{},require:function(os,ss){return commonjsRequire(os,ss==null?ns.path:ss)}},ts(ns,ns.exports),ns.exports}function commonjsRequire(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var classnames=createCommonjsModule(function(ts){/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(){var rs={}.hasOwnProperty;function ns(){for(var as="",ls=0;ls<arguments.length;ls++){var cs=arguments[ls];cs&&(as=ss(as,os(cs)))}return as}function os(as){if(typeof as=="string"||typeof as=="number")return as;if(typeof as!="object")return"";if(Array.isArray(as))return ns.apply(null,as);if(as.toString!==Object.prototype.toString&&!as.toString.toString().includes("[native code]"))return as.toString();var ls="";for(var cs in as)rs.call(as,cs)&&as[cs]&&(ls=ss(ls,cs));return ls}function ss(as,ls){return ls?as?as+" "+ls:as+ls:as}ts.exports?(ns.default=ns,ts.exports=ns):window.classNames=ns})()}),ManagerReferenceNodeContext=reactExports.createContext(),ManagerReferenceNodeSetterContext=reactExports.createContext();function Manager(ts){var rs=ts.children,ns=reactExports.useState(null),os=ns[0],ss=ns[1],as=reactExports.useRef(!1);reactExports.useEffect(function(){return function(){as.current=!0}},[]);var ls=reactExports.useCallback(function(cs){as.current||ss(cs)},[]);return reactExports.createElement(ManagerReferenceNodeContext.Provider,{value:os},reactExports.createElement(ManagerReferenceNodeSetterContext.Provider,{value:ls},rs))}var unwrapArray=function ts(rs){return Array.isArray(rs)?rs[0]:rs},safeInvoke=function ts(rs){if(typeof rs=="function"){for(var ns=arguments.length,os=new Array(ns>1?ns-1:0),ss=1;ss<ns;ss++)os[ss-1]=arguments[ss];return rs.apply(void 0,os)}},setRef=function ts(rs,ns){if(typeof rs=="function")return safeInvoke(rs,ns);rs!=null&&(rs.current=ns)},fromEntries=function ts(rs){return rs.reduce(function(ns,os){var ss=os[0],as=os[1];return ns[ss]=as,ns},{})},useIsomorphicLayoutEffect=typeof window<"u"&&window.document&&window.document.createElement?reactExports.useLayoutEffect:reactExports.useEffect,top$1="top",bottom="bottom",right="right",left="left",auto="auto",basePlacements=[top$1,bottom,right,left],start="start",end="end",clippingParents="clippingParents",viewport="viewport",popper="popper",reference="reference",variationPlacements=basePlacements.reduce(function(ts,rs){return ts.concat([rs+"-"+start,rs+"-"+end])},[]),placements=[].concat(basePlacements,[auto]).reduce(function(ts,rs){return ts.concat([rs,rs+"-"+start,rs+"-"+end])},[]),beforeRead="beforeRead",read="read",afterRead="afterRead",beforeMain="beforeMain",main="main",afterMain="afterMain",beforeWrite="beforeWrite",write="write",afterWrite="afterWrite",modifierPhases=[beforeRead,read,afterRead,beforeMain,main,afterMain,beforeWrite,write,afterWrite];function getNodeName(ts){return ts?(ts.nodeName||"").toLowerCase():null}function getWindow(ts){if(ts==null)return window;if(ts.toString()!=="[object Window]"){var rs=ts.ownerDocument;return rs&&rs.defaultView||window}return ts}function isElement(ts){var rs=getWindow(ts).Element;return ts instanceof rs||ts instanceof Element}function isHTMLElement(ts){var rs=getWindow(ts).HTMLElement;return ts instanceof rs||ts instanceof HTMLElement}function isShadowRoot(ts){if(typeof ShadowRoot>"u")return!1;var rs=getWindow(ts).ShadowRoot;return ts instanceof rs||ts instanceof ShadowRoot}function applyStyles(ts){var rs=ts.state;Object.keys(rs.elements).forEach(function(ns){var os=rs.styles[ns]||{},ss=rs.attributes[ns]||{},as=rs.elements[ns];!isHTMLElement(as)||!getNodeName(as)||(Object.assign(as.style,os),Object.keys(ss).forEach(function(ls){var cs=ss[ls];cs===!1?as.removeAttribute(ls):as.setAttribute(ls,cs===!0?"":cs)}))})}function effect$2(ts){var rs=ts.state,ns={popper:{position:rs.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(rs.elements.popper.style,ns.popper),rs.styles=ns,rs.elements.arrow&&Object.assign(rs.elements.arrow.style,ns.arrow),function(){Object.keys(rs.elements).forEach(function(os){var ss=rs.elements[os],as=rs.attributes[os]||{},ls=Object.keys(rs.styles.hasOwnProperty(os)?rs.styles[os]:ns[os]),cs=ls.reduce(function(us,ds){return us[ds]="",us},{});!isHTMLElement(ss)||!getNodeName(ss)||(Object.assign(ss.style,cs),Object.keys(as).forEach(function(us){ss.removeAttribute(us)}))})}}var applyStyles$1={name:"applyStyles",enabled:!0,phase:"write",fn:applyStyles,effect:effect$2,requires:["computeStyles"]};function getBasePlacement(ts){return ts.split("-")[0]}var max=Math.max,min=Math.min,round=Math.round;function getUAString(){var ts=navigator.userAgentData;return ts!=null&&ts.brands&&Array.isArray(ts.brands)?ts.brands.map(function(rs){return rs.brand+"/"+rs.version}).join(" "):navigator.userAgent}function isLayoutViewport(){return!/^((?!chrome|android).)*safari/i.test(getUAString())}function getBoundingClientRect(ts,rs,ns){rs===void 0&&(rs=!1),ns===void 0&&(ns=!1);var os=ts.getBoundingClientRect(),ss=1,as=1;rs&&isHTMLElement(ts)&&(ss=ts.offsetWidth>0&&round(os.width)/ts.offsetWidth||1,as=ts.offsetHeight>0&&round(os.height)/ts.offsetHeight||1);var ls=isElement(ts)?getWindow(ts):window,cs=ls.visualViewport,us=!isLayoutViewport()&&ns,ds=(os.left+(us&&cs?cs.offsetLeft:0))/ss,ps=(os.top+(us&&cs?cs.offsetTop:0))/as,fs=os.width/ss,hs=os.height/as;return{width:fs,height:hs,top:ps,right:ds+fs,bottom:ps+hs,left:ds,x:ds,y:ps}}function getLayoutRect(ts){var rs=getBoundingClientRect(ts),ns=ts.offsetWidth,os=ts.offsetHeight;return Math.abs(rs.width-ns)<=1&&(ns=rs.width),Math.abs(rs.height-os)<=1&&(os=rs.height),{x:ts.offsetLeft,y:ts.offsetTop,width:ns,height:os}}function contains(ts,rs){var ns=rs.getRootNode&&rs.getRootNode();if(ts.contains(rs))return!0;if(ns&&isShadowRoot(ns)){var os=rs;do{if(os&&ts.isSameNode(os))return!0;os=os.parentNode||os.host}while(os)}return!1}function getComputedStyle(ts){return getWindow(ts).getComputedStyle(ts)}function isTableElement(ts){return["table","td","th"].indexOf(getNodeName(ts))>=0}function getDocumentElement(ts){return((isElement(ts)?ts.ownerDocument:ts.document)||window.document).documentElement}function getParentNode(ts){return getNodeName(ts)==="html"?ts:ts.assignedSlot||ts.parentNode||(isShadowRoot(ts)?ts.host:null)||getDocumentElement(ts)}function getTrueOffsetParent(ts){return!isHTMLElement(ts)||getComputedStyle(ts).position==="fixed"?null:ts.offsetParent}function getContainingBlock(ts){var rs=/firefox/i.test(getUAString()),ns=/Trident/i.test(getUAString());if(ns&&isHTMLElement(ts)){var os=getComputedStyle(ts);if(os.position==="fixed")return null}var ss=getParentNode(ts);for(isShadowRoot(ss)&&(ss=ss.host);isHTMLElement(ss)&&["html","body"].indexOf(getNodeName(ss))<0;){var as=getComputedStyle(ss);if(as.transform!=="none"||as.perspective!=="none"||as.contain==="paint"||["transform","perspective"].indexOf(as.willChange)!==-1||rs&&as.willChange==="filter"||rs&&as.filter&&as.filter!=="none")return ss;ss=ss.parentNode}return null}function getOffsetParent(ts){for(var rs=getWindow(ts),ns=getTrueOffsetParent(ts);ns&&isTableElement(ns)&&getComputedStyle(ns).position==="static";)ns=getTrueOffsetParent(ns);return ns&&(getNodeName(ns)==="html"||getNodeName(ns)==="body"&&getComputedStyle(ns).position==="static")?rs:ns||getContainingBlock(ts)||rs}function getMainAxisFromPlacement(ts){return["top","bottom"].indexOf(ts)>=0?"x":"y"}function within(ts,rs,ns){return max(ts,min(rs,ns))}function withinMaxClamp(ts,rs,ns){var os=within(ts,rs,ns);return os>ns?ns:os}function getFreshSideObject(){return{top:0,right:0,bottom:0,left:0}}function mergePaddingObject(ts){return Object.assign({},getFreshSideObject(),ts)}function expandToHashMap(ts,rs){return rs.reduce(function(ns,os){return ns[os]=ts,ns},{})}var toPaddingObject=function ts(rs,ns){return rs=typeof rs=="function"?rs(Object.assign({},ns.rects,{placement:ns.placement})):rs,mergePaddingObject(typeof rs!="number"?rs:expandToHashMap(rs,basePlacements))};function arrow(ts){var rs,ns=ts.state,os=ts.name,ss=ts.options,as=ns.elements.arrow,ls=ns.modifiersData.popperOffsets,cs=getBasePlacement(ns.placement),us=getMainAxisFromPlacement(cs),ds=[left,right].indexOf(cs)>=0,ps=ds?"height":"width";if(!(!as||!ls)){var fs=toPaddingObject(ss.padding,ns),hs=getLayoutRect(as),ms=us==="y"?top$1:left,gs=us==="y"?bottom:right,vs=ns.rects.reference[ps]+ns.rects.reference[us]-ls[us]-ns.rects.popper[ps],bs=ls[us]-ns.rects.reference[us],xs=getOffsetParent(as),ys=xs?us==="y"?xs.clientHeight||0:xs.clientWidth||0:0,Ss=vs/2-bs/2,Cs=fs[ms],$s=ys-hs[ps]-fs[gs],Es=ys/2-hs[ps]/2+Ss,ws=within(Cs,Es,$s),Ts=us;ns.modifiersData[os]=(rs={},rs[Ts]=ws,rs.centerOffset=ws-Es,rs)}}function effect$1(ts){var rs=ts.state,ns=ts.options,os=ns.element,ss=os===void 0?"[data-popper-arrow]":os;ss!=null&&(typeof ss=="string"&&(ss=rs.elements.popper.querySelector(ss),!ss)||contains(rs.elements.popper,ss)&&(rs.elements.arrow=ss))}var arrow$1={name:"arrow",enabled:!0,phase:"main",fn:arrow,effect:effect$1,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function getVariation(ts){return ts.split("-")[1]}var unsetSides={top:"auto",right:"auto",bottom:"auto",left:"auto"};function roundOffsetsByDPR(ts,rs){var ns=ts.x,os=ts.y,ss=rs.devicePixelRatio||1;return{x:round(ns*ss)/ss||0,y:round(os*ss)/ss||0}}function mapToStyles(ts){var rs,ns=ts.popper,os=ts.popperRect,ss=ts.placement,as=ts.variation,ls=ts.offsets,cs=ts.position,us=ts.gpuAcceleration,ds=ts.adaptive,ps=ts.roundOffsets,fs=ts.isFixed,hs=ls.x,ms=hs===void 0?0:hs,gs=ls.y,vs=gs===void 0?0:gs,bs=typeof ps=="function"?ps({x:ms,y:vs}):{x:ms,y:vs};ms=bs.x,vs=bs.y;var xs=ls.hasOwnProperty("x"),ys=ls.hasOwnProperty("y"),Ss=left,Cs=top$1,$s=window;if(ds){var Es=getOffsetParent(ns),ws="clientHeight",Ts="clientWidth";if(Es===getWindow(ns)&&(Es=getDocumentElement(ns),getComputedStyle(Es).position!=="static"&&cs==="absolute"&&(ws="scrollHeight",Ts="scrollWidth")),Es=Es,ss===top$1||(ss===left||ss===right)&&as===end){Cs=bottom;var Is=fs&&Es===$s&&$s.visualViewport?$s.visualViewport.height:Es[ws];vs-=Is-os.height,vs*=us?1:-1}if(ss===left||(ss===top$1||ss===bottom)&&as===end){Ss=right;var Rs=fs&&Es===$s&&$s.visualViewport?$s.visualViewport.width:Es[Ts];ms-=Rs-os.width,ms*=us?1:-1}}var As=Object.assign({position:cs},ds&&unsetSides),ks=ps===!0?roundOffsetsByDPR({x:ms,y:vs},getWindow(ns)):{x:ms,y:vs};if(ms=ks.x,vs=ks.y,us){var Ms;return Object.assign({},As,(Ms={},Ms[Cs]=ys?"0":"",Ms[Ss]=xs?"0":"",Ms.transform=($s.devicePixelRatio||1)<=1?"translate("+ms+"px, "+vs+"px)":"translate3d("+ms+"px, "+vs+"px, 0)",Ms))}return Object.assign({},As,(rs={},rs[Cs]=ys?vs+"px":"",rs[Ss]=xs?ms+"px":"",rs.transform="",rs))}function computeStyles(ts){var rs=ts.state,ns=ts.options,os=ns.gpuAcceleration,ss=os===void 0?!0:os,as=ns.adaptive,ls=as===void 0?!0:as,cs=ns.roundOffsets,us=cs===void 0?!0:cs,ds={placement:getBasePlacement(rs.placement),variation:getVariation(rs.placement),popper:rs.elements.popper,popperRect:rs.rects.popper,gpuAcceleration:ss,isFixed:rs.options.strategy==="fixed"};rs.modifiersData.popperOffsets!=null&&(rs.styles.popper=Object.assign({},rs.styles.popper,mapToStyles(Object.assign({},ds,{offsets:rs.modifiersData.popperOffsets,position:rs.options.strategy,adaptive:ls,roundOffsets:us})))),rs.modifiersData.arrow!=null&&(rs.styles.arrow=Object.assign({},rs.styles.arrow,mapToStyles(Object.assign({},ds,{offsets:rs.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:us})))),rs.attributes.popper=Object.assign({},rs.attributes.popper,{"data-popper-placement":rs.placement})}var computeStyles$1={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:computeStyles,data:{}},passive={passive:!0};function effect(ts){var rs=ts.state,ns=ts.instance,os=ts.options,ss=os.scroll,as=ss===void 0?!0:ss,ls=os.resize,cs=ls===void 0?!0:ls,us=getWindow(rs.elements.popper),ds=[].concat(rs.scrollParents.reference,rs.scrollParents.popper);return as&&ds.forEach(function(ps){ps.addEventListener("scroll",ns.update,passive)}),cs&&us.addEventListener("resize",ns.update,passive),function(){as&&ds.forEach(function(ps){ps.removeEventListener("scroll",ns.update,passive)}),cs&&us.removeEventListener("resize",ns.update,passive)}}var eventListeners={name:"eventListeners",enabled:!0,phase:"write",fn:function ts(){},effect,data:{}},hash$1={left:"right",right:"left",bottom:"top",top:"bottom"};function getOppositePlacement(ts){return ts.replace(/left|right|bottom|top/g,function(rs){return hash$1[rs]})}var hash={start:"end",end:"start"};function getOppositeVariationPlacement(ts){return ts.replace(/start|end/g,function(rs){return hash[rs]})}function getWindowScroll(ts){var rs=getWindow(ts),ns=rs.pageXOffset,os=rs.pageYOffset;return{scrollLeft:ns,scrollTop:os}}function getWindowScrollBarX(ts){return getBoundingClientRect(getDocumentElement(ts)).left+getWindowScroll(ts).scrollLeft}function getViewportRect(ts,rs){var ns=getWindow(ts),os=getDocumentElement(ts),ss=ns.visualViewport,as=os.clientWidth,ls=os.clientHeight,cs=0,us=0;if(ss){as=ss.width,ls=ss.height;var ds=isLayoutViewport();(ds||!ds&&rs==="fixed")&&(cs=ss.offsetLeft,us=ss.offsetTop)}return{width:as,height:ls,x:cs+getWindowScrollBarX(ts),y:us}}function getDocumentRect(ts){var rs,ns=getDocumentElement(ts),os=getWindowScroll(ts),ss=(rs=ts.ownerDocument)==null?void 0:rs.body,as=max(ns.scrollWidth,ns.clientWidth,ss?ss.scrollWidth:0,ss?ss.clientWidth:0),ls=max(ns.scrollHeight,ns.clientHeight,ss?ss.scrollHeight:0,ss?ss.clientHeight:0),cs=-os.scrollLeft+getWindowScrollBarX(ts),us=-os.scrollTop;return getComputedStyle(ss||ns).direction==="rtl"&&(cs+=max(ns.clientWidth,ss?ss.clientWidth:0)-as),{width:as,height:ls,x:cs,y:us}}function isScrollParent(ts){var rs=getComputedStyle(ts),ns=rs.overflow,os=rs.overflowX,ss=rs.overflowY;return/auto|scroll|overlay|hidden/.test(ns+ss+os)}function getScrollParent(ts){return["html","body","#document"].indexOf(getNodeName(ts))>=0?ts.ownerDocument.body:isHTMLElement(ts)&&isScrollParent(ts)?ts:getScrollParent(getParentNode(ts))}function listScrollParents(ts,rs){var ns;rs===void 0&&(rs=[]);var os=getScrollParent(ts),ss=os===((ns=ts.ownerDocument)==null?void 0:ns.body),as=getWindow(os),ls=ss?[as].concat(as.visualViewport||[],isScrollParent(os)?os:[]):os,cs=rs.concat(ls);return ss?cs:cs.concat(listScrollParents(getParentNode(ls)))}function rectToClientRect(ts){return Object.assign({},ts,{left:ts.x,top:ts.y,right:ts.x+ts.width,bottom:ts.y+ts.height})}function getInnerBoundingClientRect(ts,rs){var ns=getBoundingClientRect(ts,!1,rs==="fixed");return ns.top=ns.top+ts.clientTop,ns.left=ns.left+ts.clientLeft,ns.bottom=ns.top+ts.clientHeight,ns.right=ns.left+ts.clientWidth,ns.width=ts.clientWidth,ns.height=ts.clientHeight,ns.x=ns.left,ns.y=ns.top,ns}function getClientRectFromMixedType(ts,rs,ns){return rs===viewport?rectToClientRect(getViewportRect(ts,ns)):isElement(rs)?getInnerBoundingClientRect(rs,ns):rectToClientRect(getDocumentRect(getDocumentElement(ts)))}function getClippingParents(ts){var rs=listScrollParents(getParentNode(ts)),ns=["absolute","fixed"].indexOf(getComputedStyle(ts).position)>=0,os=ns&&isHTMLElement(ts)?getOffsetParent(ts):ts;return isElement(os)?rs.filter(function(ss){return isElement(ss)&&contains(ss,os)&&getNodeName(ss)!=="body"}):[]}function getClippingRect(ts,rs,ns,os){var ss=rs==="clippingParents"?getClippingParents(ts):[].concat(rs),as=[].concat(ss,[ns]),ls=as[0],cs=as.reduce(function(us,ds){var ps=getClientRectFromMixedType(ts,ds,os);return us.top=max(ps.top,us.top),us.right=min(ps.right,us.right),us.bottom=min(ps.bottom,us.bottom),us.left=max(ps.left,us.left),us},getClientRectFromMixedType(ts,ls,os));return cs.width=cs.right-cs.left,cs.height=cs.bottom-cs.top,cs.x=cs.left,cs.y=cs.top,cs}function computeOffsets(ts){var rs=ts.reference,ns=ts.element,os=ts.placement,ss=os?getBasePlacement(os):null,as=os?getVariation(os):null,ls=rs.x+rs.width/2-ns.width/2,cs=rs.y+rs.height/2-ns.height/2,us;switch(ss){case top$1:us={x:ls,y:rs.y-ns.height};break;case bottom:us={x:ls,y:rs.y+rs.height};break;case right:us={x:rs.x+rs.width,y:cs};break;case left:us={x:rs.x-ns.width,y:cs};break;default:us={x:rs.x,y:rs.y}}var ds=ss?getMainAxisFromPlacement(ss):null;if(ds!=null){var ps=ds==="y"?"height":"width";switch(as){case start:us[ds]=us[ds]-(rs[ps]/2-ns[ps]/2);break;case end:us[ds]=us[ds]+(rs[ps]/2-ns[ps]/2);break}}return us}function detectOverflow(ts,rs){rs===void 0&&(rs={});var ns=rs,os=ns.placement,ss=os===void 0?ts.placement:os,as=ns.strategy,ls=as===void 0?ts.strategy:as,cs=ns.boundary,us=cs===void 0?clippingParents:cs,ds=ns.rootBoundary,ps=ds===void 0?viewport:ds,fs=ns.elementContext,hs=fs===void 0?popper:fs,ms=ns.altBoundary,gs=ms===void 0?!1:ms,vs=ns.padding,bs=vs===void 0?0:vs,xs=mergePaddingObject(typeof bs!="number"?bs:expandToHashMap(bs,basePlacements)),ys=hs===popper?reference:popper,Ss=ts.rects.popper,Cs=ts.elements[gs?ys:hs],$s=getClippingRect(isElement(Cs)?Cs:Cs.contextElement||getDocumentElement(ts.elements.popper),us,ps,ls),Es=getBoundingClientRect(ts.elements.reference),ws=computeOffsets({reference:Es,element:Ss,strategy:"absolute",placement:ss}),Ts=rectToClientRect(Object.assign({},Ss,ws)),Is=hs===popper?Ts:Es,Rs={top:$s.top-Is.top+xs.top,bottom:Is.bottom-$s.bottom+xs.bottom,left:$s.left-Is.left+xs.left,right:Is.right-$s.right+xs.right},As=ts.modifiersData.offset;if(hs===popper&&As){var ks=As[ss];Object.keys(Rs).forEach(function(Ms){var Os=[right,bottom].indexOf(Ms)>=0?1:-1,Ds=[top$1,bottom].indexOf(Ms)>=0?"y":"x";Rs[Ms]+=ks[Ds]*Os})}return Rs}function computeAutoPlacement(ts,rs){rs===void 0&&(rs={});var ns=rs,os=ns.placement,ss=ns.boundary,as=ns.rootBoundary,ls=ns.padding,cs=ns.flipVariations,us=ns.allowedAutoPlacements,ds=us===void 0?placements:us,ps=getVariation(os),fs=ps?cs?variationPlacements:variationPlacements.filter(function(gs){return getVariation(gs)===ps}):basePlacements,hs=fs.filter(function(gs){return ds.indexOf(gs)>=0});hs.length===0&&(hs=fs);var ms=hs.reduce(function(gs,vs){return gs[vs]=detectOverflow(ts,{placement:vs,boundary:ss,rootBoundary:as,padding:ls})[getBasePlacement(vs)],gs},{});return Object.keys(ms).sort(function(gs,vs){return ms[gs]-ms[vs]})}function getExpandedFallbackPlacements(ts){if(getBasePlacement(ts)===auto)return[];var rs=getOppositePlacement(ts);return[getOppositeVariationPlacement(ts),rs,getOppositeVariationPlacement(rs)]}function flip(ts){var rs=ts.state,ns=ts.options,os=ts.name;if(!rs.modifiersData[os]._skip){for(var ss=ns.mainAxis,as=ss===void 0?!0:ss,ls=ns.altAxis,cs=ls===void 0?!0:ls,us=ns.fallbackPlacements,ds=ns.padding,ps=ns.boundary,fs=ns.rootBoundary,hs=ns.altBoundary,ms=ns.flipVariations,gs=ms===void 0?!0:ms,vs=ns.allowedAutoPlacements,bs=rs.options.placement,xs=getBasePlacement(bs),ys=xs===bs,Ss=us||(ys||!gs?[getOppositePlacement(bs)]:getExpandedFallbackPlacements(bs)),Cs=[bs].concat(Ss).reduce(function(zs,qs){return zs.concat(getBasePlacement(qs)===auto?computeAutoPlacement(rs,{placement:qs,boundary:ps,rootBoundary:fs,padding:ds,flipVariations:gs,allowedAutoPlacements:vs}):qs)},[]),$s=rs.rects.reference,Es=rs.rects.popper,ws=new Map,Ts=!0,Is=Cs[0],Rs=0;Rs<Cs.length;Rs++){var As=Cs[Rs],ks=getBasePlacement(As),Ms=getVariation(As)===start,Os=[top$1,bottom].indexOf(ks)>=0,Ds=Os?"width":"height",Fs=detectOverflow(rs,{placement:As,boundary:ps,rootBoundary:fs,altBoundary:hs,padding:ds}),js=Os?Ms?right:left:Ms?bottom:top$1;$s[Ds]>Es[Ds]&&(js=getOppositePlacement(js));var Ps=getOppositePlacement(js),Ls=[];if(as&&Ls.push(Fs[ks]<=0),cs&&Ls.push(Fs[js]<=0,Fs[Ps]<=0),Ls.every(function(zs){return zs})){Is=As,Ts=!1;break}ws.set(As,Ls)}if(Ts)for(var Ns=gs?3:1,Gs=function(qs){var Vs=Cs.find(function(Ks){var Ws=ws.get(Ks);if(Ws)return Ws.slice(0,qs).every(function(Pl){return Pl})});if(Vs)return Is=Vs,"break"},Us=Ns;Us>0;Us--){var Hs=Gs(Us);if(Hs==="break")break}rs.placement!==Is&&(rs.modifiersData[os]._skip=!0,rs.placement=Is,rs.reset=!0)}}var flip$1={name:"flip",enabled:!0,phase:"main",fn:flip,requiresIfExists:["offset"],data:{_skip:!1}};function getSideOffsets(ts,rs,ns){return ns===void 0&&(ns={x:0,y:0}),{top:ts.top-rs.height-ns.y,right:ts.right-rs.width+ns.x,bottom:ts.bottom-rs.height+ns.y,left:ts.left-rs.width-ns.x}}function isAnySideFullyClipped(ts){return[top$1,right,bottom,left].some(function(rs){return ts[rs]>=0})}function hide(ts){var rs=ts.state,ns=ts.name,os=rs.rects.reference,ss=rs.rects.popper,as=rs.modifiersData.preventOverflow,ls=detectOverflow(rs,{elementContext:"reference"}),cs=detectOverflow(rs,{altBoundary:!0}),us=getSideOffsets(ls,os),ds=getSideOffsets(cs,ss,as),ps=isAnySideFullyClipped(us),fs=isAnySideFullyClipped(ds);rs.modifiersData[ns]={referenceClippingOffsets:us,popperEscapeOffsets:ds,isReferenceHidden:ps,hasPopperEscaped:fs},rs.attributes.popper=Object.assign({},rs.attributes.popper,{"data-popper-reference-hidden":ps,"data-popper-escaped":fs})}var hide$1={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:hide};function distanceAndSkiddingToXY(ts,rs,ns){var os=getBasePlacement(ts),ss=[left,top$1].indexOf(os)>=0?-1:1,as=typeof ns=="function"?ns(Object.assign({},rs,{placement:ts})):ns,ls=as[0],cs=as[1];return ls=ls||0,cs=(cs||0)*ss,[left,right].indexOf(os)>=0?{x:cs,y:ls}:{x:ls,y:cs}}function offset(ts){var rs=ts.state,ns=ts.options,os=ts.name,ss=ns.offset,as=ss===void 0?[0,0]:ss,ls=placements.reduce(function(ps,fs){return ps[fs]=distanceAndSkiddingToXY(fs,rs.rects,as),ps},{}),cs=ls[rs.placement],us=cs.x,ds=cs.y;rs.modifiersData.popperOffsets!=null&&(rs.modifiersData.popperOffsets.x+=us,rs.modifiersData.popperOffsets.y+=ds),rs.modifiersData[os]=ls}var offset$1={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:offset};function popperOffsets(ts){var rs=ts.state,ns=ts.name;rs.modifiersData[ns]=computeOffsets({reference:rs.rects.reference,element:rs.rects.popper,strategy:"absolute",placement:rs.placement})}var popperOffsets$1={name:"popperOffsets",enabled:!0,phase:"read",fn:popperOffsets,data:{}};function getAltAxis(ts){return ts==="x"?"y":"x"}function preventOverflow(ts){var rs=ts.state,ns=ts.options,os=ts.name,ss=ns.mainAxis,as=ss===void 0?!0:ss,ls=ns.altAxis,cs=ls===void 0?!1:ls,us=ns.boundary,ds=ns.rootBoundary,ps=ns.altBoundary,fs=ns.padding,hs=ns.tether,ms=hs===void 0?!0:hs,gs=ns.tetherOffset,vs=gs===void 0?0:gs,bs=detectOverflow(rs,{boundary:us,rootBoundary:ds,padding:fs,altBoundary:ps}),xs=getBasePlacement(rs.placement),ys=getVariation(rs.placement),Ss=!ys,Cs=getMainAxisFromPlacement(xs),$s=getAltAxis(Cs),Es=rs.modifiersData.popperOffsets,ws=rs.rects.reference,Ts=rs.rects.popper,Is=typeof vs=="function"?vs(Object.assign({},rs.rects,{placement:rs.placement})):vs,Rs=typeof Is=="number"?{mainAxis:Is,altAxis:Is}:Object.assign({mainAxis:0,altAxis:0},Is),As=rs.modifiersData.offset?rs.modifiersData.offset[rs.placement]:null,ks={x:0,y:0};if(Es){if(as){var Ms,Os=Cs==="y"?top$1:left,Ds=Cs==="y"?bottom:right,Fs=Cs==="y"?"height":"width",js=Es[Cs],Ps=js+bs[Os],Ls=js-bs[Ds],Ns=ms?-Ts[Fs]/2:0,Gs=ys===start?ws[Fs]:Ts[Fs],Us=ys===start?-Ts[Fs]:-ws[Fs],Hs=rs.elements.arrow,zs=ms&&Hs?getLayoutRect(Hs):{width:0,height:0},qs=rs.modifiersData["arrow#persistent"]?rs.modifiersData["arrow#persistent"].padding:getFreshSideObject(),Vs=qs[Os],Ks=qs[Ds],Ws=within(0,ws[Fs],zs[Fs]),Pl=Ss?ws[Fs]/2-Ns-Ws-Vs-Rs.mainAxis:Gs-Ws-Vs-Rs.mainAxis,Tl=Ss?-ws[Fs]/2+Ns+Ws+Ks+Rs.mainAxis:Us+Ws+Ks+Rs.mainAxis,El=rs.elements.arrow&&getOffsetParent(rs.elements.arrow),$l=El?Cs==="y"?El.clientTop||0:El.clientLeft||0:0,Sl=(Ms=As==null?void 0:As[Cs])!=null?Ms:0,Ml=js+Pl-Sl-$l,wl=js+Tl-Sl,Rl=within(ms?min(Ps,Ml):Ps,js,ms?max(Ls,wl):Ls);Es[Cs]=Rl,ks[Cs]=Rl-js}if(cs){var yl,Bs=Cs==="x"?top$1:left,Zs=Cs==="x"?bottom:right,Ys=Es[$s],_l=$s==="y"?"height":"width",Cl=Ys+bs[Bs],Xs=Ys-bs[Zs],xl=[top$1,left].indexOf(xs)!==-1,$a=(yl=As==null?void 0:As[$s])!=null?yl:0,Dl=xl?Cl:Ys-ws[_l]-Ts[_l]-$a+Rs.altAxis,Ol=xl?Ys+ws[_l]+Ts[_l]-$a-Rs.altAxis:Xs,Ll=ms&&xl?withinMaxClamp(Dl,Ys,Ol):within(ms?Dl:Cl,Ys,ms?Ol:Xs);Es[$s]=Ll,ks[$s]=Ll-Ys}rs.modifiersData[os]=ks}}var preventOverflow$1={name:"preventOverflow",enabled:!0,phase:"main",fn:preventOverflow,requiresIfExists:["offset"]};function getHTMLElementScroll(ts){return{scrollLeft:ts.scrollLeft,scrollTop:ts.scrollTop}}function getNodeScroll(ts){return ts===getWindow(ts)||!isHTMLElement(ts)?getWindowScroll(ts):getHTMLElementScroll(ts)}function isElementScaled(ts){var rs=ts.getBoundingClientRect(),ns=round(rs.width)/ts.offsetWidth||1,os=round(rs.height)/ts.offsetHeight||1;return ns!==1||os!==1}function getCompositeRect(ts,rs,ns){ns===void 0&&(ns=!1);var os=isHTMLElement(rs),ss=isHTMLElement(rs)&&isElementScaled(rs),as=getDocumentElement(rs),ls=getBoundingClientRect(ts,ss,ns),cs={scrollLeft:0,scrollTop:0},us={x:0,y:0};return(os||!os&&!ns)&&((getNodeName(rs)!=="body"||isScrollParent(as))&&(cs=getNodeScroll(rs)),isHTMLElement(rs)?(us=getBoundingClientRect(rs,!0),us.x+=rs.clientLeft,us.y+=rs.clientTop):as&&(us.x=getWindowScrollBarX(as))),{x:ls.left+cs.scrollLeft-us.x,y:ls.top+cs.scrollTop-us.y,width:ls.width,height:ls.height}}function order(ts){var rs=new Map,ns=new Set,os=[];ts.forEach(function(as){rs.set(as.name,as)});function ss(as){ns.add(as.name);var ls=[].concat(as.requires||[],as.requiresIfExists||[]);ls.forEach(function(cs){if(!ns.has(cs)){var us=rs.get(cs);us&&ss(us)}}),os.push(as)}return ts.forEach(function(as){ns.has(as.name)||ss(as)}),os}function orderModifiers(ts){var rs=order(ts);return modifierPhases.reduce(function(ns,os){return ns.concat(rs.filter(function(ss){return ss.phase===os}))},[])}function debounce(ts){var rs;return function(){return rs||(rs=new Promise(function(ns){Promise.resolve().then(function(){rs=void 0,ns(ts())})})),rs}}function mergeByName(ts){var rs=ts.reduce(function(ns,os){var ss=ns[os.name];return ns[os.name]=ss?Object.assign({},ss,os,{options:Object.assign({},ss.options,os.options),data:Object.assign({},ss.data,os.data)}):os,ns},{});return Object.keys(rs).map(function(ns){return rs[ns]})}var DEFAULT_OPTIONS={placement:"bottom",modifiers:[],strategy:"absolute"};function areValidElements(){for(var ts=arguments.length,rs=new Array(ts),ns=0;ns<ts;ns++)rs[ns]=arguments[ns];return!rs.some(function(os){return!(os&&typeof os.getBoundingClientRect=="function")})}function popperGenerator(ts){ts===void 0&&(ts={});var rs=ts,ns=rs.defaultModifiers,os=ns===void 0?[]:ns,ss=rs.defaultOptions,as=ss===void 0?DEFAULT_OPTIONS:ss;return function(cs,us,ds){ds===void 0&&(ds=as);var ps={placement:"bottom",orderedModifiers:[],options:Object.assign({},DEFAULT_OPTIONS,as),modifiersData:{},elements:{reference:cs,popper:us},attributes:{},styles:{}},fs=[],hs=!1,ms={state:ps,setOptions:function(xs){var ys=typeof xs=="function"?xs(ps.options):xs;vs(),ps.options=Object.assign({},as,ps.options,ys),ps.scrollParents={reference:isElement(cs)?listScrollParents(cs):cs.contextElement?listScrollParents(cs.contextElement):[],popper:listScrollParents(us)};var Ss=orderModifiers(mergeByName([].concat(os,ps.options.modifiers)));return ps.orderedModifiers=Ss.filter(function(Cs){return Cs.enabled}),gs(),ms.update()},forceUpdate:function(){if(!hs){var xs=ps.elements,ys=xs.reference,Ss=xs.popper;if(areValidElements(ys,Ss)){ps.rects={reference:getCompositeRect(ys,getOffsetParent(Ss),ps.options.strategy==="fixed"),popper:getLayoutRect(Ss)},ps.reset=!1,ps.placement=ps.options.placement,ps.orderedModifiers.forEach(function(Rs){return ps.modifiersData[Rs.name]=Object.assign({},Rs.data)});for(var Cs=0;Cs<ps.orderedModifiers.length;Cs++){if(ps.reset===!0){ps.reset=!1,Cs=-1;continue}var $s=ps.orderedModifiers[Cs],Es=$s.fn,ws=$s.options,Ts=ws===void 0?{}:ws,Is=$s.name;typeof Es=="function"&&(ps=Es({state:ps,options:Ts,name:Is,instance:ms})||ps)}}}},update:debounce(function(){return new Promise(function(bs){ms.forceUpdate(),bs(ps)})}),destroy:function(){vs(),hs=!0}};if(!areValidElements(cs,us))return ms;ms.setOptions(ds).then(function(bs){!hs&&ds.onFirstUpdate&&ds.onFirstUpdate(bs)});function gs(){ps.orderedModifiers.forEach(function(bs){var xs=bs.name,ys=bs.options,Ss=ys===void 0?{}:ys,Cs=bs.effect;if(typeof Cs=="function"){var $s=Cs({state:ps,name:xs,instance:ms,options:Ss}),Es=function(){};fs.push($s||Es)}})}function vs(){fs.forEach(function(bs){return bs()}),fs=[]}return ms}}var defaultModifiers=[eventListeners,popperOffsets$1,computeStyles$1,applyStyles$1,offset$1,flip$1,preventOverflow$1,arrow$1,hide$1],createPopper=popperGenerator({defaultModifiers}),hasElementType=typeof Element<"u",hasMap=typeof Map=="function",hasSet=typeof Set=="function",hasArrayBuffer=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function equal(ts,rs){if(ts===rs)return!0;if(ts&&rs&&typeof ts=="object"&&typeof rs=="object"){if(ts.constructor!==rs.constructor)return!1;var ns,os,ss;if(Array.isArray(ts)){if(ns=ts.length,ns!=rs.length)return!1;for(os=ns;os--!==0;)if(!equal(ts[os],rs[os]))return!1;return!0}var as;if(hasMap&&ts instanceof Map&&rs instanceof Map){if(ts.size!==rs.size)return!1;for(as=ts.entries();!(os=as.next()).done;)if(!rs.has(os.value[0]))return!1;for(as=ts.entries();!(os=as.next()).done;)if(!equal(os.value[1],rs.get(os.value[0])))return!1;return!0}if(hasSet&&ts instanceof Set&&rs instanceof Set){if(ts.size!==rs.size)return!1;for(as=ts.entries();!(os=as.next()).done;)if(!rs.has(os.value[0]))return!1;return!0}if(hasArrayBuffer&&ArrayBuffer.isView(ts)&&ArrayBuffer.isView(rs)){if(ns=ts.length,ns!=rs.length)return!1;for(os=ns;os--!==0;)if(ts[os]!==rs[os])return!1;return!0}if(ts.constructor===RegExp)return ts.source===rs.source&&ts.flags===rs.flags;if(ts.valueOf!==Object.prototype.valueOf&&typeof ts.valueOf=="function"&&typeof rs.valueOf=="function")return ts.valueOf()===rs.valueOf();if(ts.toString!==Object.prototype.toString&&typeof ts.toString=="function"&&typeof rs.toString=="function")return ts.toString()===rs.toString();if(ss=Object.keys(ts),ns=ss.length,ns!==Object.keys(rs).length)return!1;for(os=ns;os--!==0;)if(!Object.prototype.hasOwnProperty.call(rs,ss[os]))return!1;if(hasElementType&&ts instanceof Element)return!1;for(os=ns;os--!==0;)if(!((ss[os]==="_owner"||ss[os]==="__v"||ss[os]==="__o")&&ts.$$typeof)&&!equal(ts[ss[os]],rs[ss[os]]))return!1;return!0}return ts!==ts&&rs!==rs}var reactFastCompare=function ts(rs,ns){try{return equal(rs,ns)}catch(os){if((os.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw os}},EMPTY_MODIFIERS$1=[],usePopper=function ts(rs,ns,os){os===void 0&&(os={});var ss=reactExports.useRef(null),as={onFirstUpdate:os.onFirstUpdate,placement:os.placement||"bottom",strategy:os.strategy||"absolute",modifiers:os.modifiers||EMPTY_MODIFIERS$1},ls=reactExports.useState({styles:{popper:{position:as.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),cs=ls[0],us=ls[1],ds=reactExports.useMemo(function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(ms){var gs=ms.state,vs=Object.keys(gs.elements);reactDomExports.flushSync(function(){us({styles:fromEntries(vs.map(function(bs){return[bs,gs.styles[bs]||{}]})),attributes:fromEntries(vs.map(function(bs){return[bs,gs.attributes[bs]]}))})})},requires:["computeStyles"]}},[]),ps=reactExports.useMemo(function(){var hs={onFirstUpdate:as.onFirstUpdate,placement:as.placement,strategy:as.strategy,modifiers:[].concat(as.modifiers,[ds,{name:"applyStyles",enabled:!1}])};return reactFastCompare(ss.current,hs)?ss.current||hs:(ss.current=hs,hs)},[as.onFirstUpdate,as.placement,as.strategy,as.modifiers,ds]),fs=reactExports.useRef();return useIsomorphicLayoutEffect(function(){fs.current&&fs.current.setOptions(ps)},[ps]),useIsomorphicLayoutEffect(function(){if(!(rs==null||ns==null)){var hs=os.createPopper||createPopper,ms=hs(rs,ns,ps);return fs.current=ms,function(){ms.destroy(),fs.current=null}}},[rs,ns,os.createPopper]),{state:fs.current?fs.current.state:null,styles:cs.styles,attributes:cs.attributes,update:fs.current?fs.current.update:null,forceUpdate:fs.current?fs.current.forceUpdate:null}},NOOP=function ts(){},NOOP_PROMISE=function ts(){return Promise.resolve(null)},EMPTY_MODIFIERS=[];function Popper(ts){var rs=ts.placement,ns=rs===void 0?"bottom":rs,os=ts.strategy,ss=os===void 0?"absolute":os,as=ts.modifiers,ls=as===void 0?EMPTY_MODIFIERS:as,cs=ts.referenceElement,us=ts.onFirstUpdate,ds=ts.innerRef,ps=ts.children,fs=reactExports.useContext(ManagerReferenceNodeContext),hs=reactExports.useState(null),ms=hs[0],gs=hs[1],vs=reactExports.useState(null),bs=vs[0],xs=vs[1];reactExports.useEffect(function(){setRef(ds,ms)},[ds,ms]);var ys=reactExports.useMemo(function(){return{placement:ns,strategy:ss,onFirstUpdate:us,modifiers:[].concat(ls,[{name:"arrow",enabled:bs!=null,options:{element:bs}}])}},[ns,ss,us,ls,bs]),Ss=usePopper(cs||fs,ms,ys),Cs=Ss.state,$s=Ss.styles,Es=Ss.forceUpdate,ws=Ss.update,Ts=reactExports.useMemo(function(){return{ref:gs,style:$s.popper,placement:Cs?Cs.placement:ns,hasPopperEscaped:Cs&&Cs.modifiersData.hide?Cs.modifiersData.hide.hasPopperEscaped:null,isReferenceHidden:Cs&&Cs.modifiersData.hide?Cs.modifiersData.hide.isReferenceHidden:null,arrowProps:{style:$s.arrow,ref:xs},forceUpdate:Es||NOOP,update:ws||NOOP_PROMISE}},[gs,xs,ns,Cs,$s,ws,Es]);return unwrapArray(ps)(Ts)}function Reference(ts){var rs=ts.children,ns=ts.innerRef,os=reactExports.useContext(ManagerReferenceNodeSetterContext),ss=reactExports.useCallback(function(as){setRef(ns,as),safeInvoke(os,as)},[ns,os]);return reactExports.useEffect(function(){return function(){return setRef(ns,null)}},[]),reactExports.useEffect(function(){},[os]),unwrapArray(rs)({ref:ss})}const KEY_CODES={TAB:9,ENTER:13,ESCAPE:27,ARROW_UP:38,ARROW_DOWN:40};function useClickOutside(ts,rs){const ns=ss=>!!ts.current&&!ts.current.contains(ss.target),os=ss=>{ns(ss)&&rs&&rs(ss)};reactExports.useEffect(()=>(document.addEventListener("mousedown",os),document.addEventListener("touchstart",os),()=>{document.removeEventListener("mousedown",os),document.removeEventListener("touchstart",os)}))}function useTabOutside(ts,rs){const ns=()=>!!ts.current&&!ts.current.contains(document.activeElement),os=ss=>{if(ss.keyCode===9&&ns())return rs(ss)};reactExports.useEffect(()=>(document.addEventListener("keyup",os),()=>{document.removeEventListener("keyup",os)}))}var Rm;const StyledPopOverMenu=styled.ul(Rm||(Rm=zl(["\n  width: fit-content;\n  max-width: 22rem;\n  background-color: ",";\n  border: ",";\n  margin: 0;\n  border-radius: 0.25rem;\n  backdrop-filter: blur(1rem);\n  list-style: none;\n  padding: 0.5rem 0;\n  box-shadow: ",";\n  z-index: ",";\n  display: table;\n  overflow: inherit;\n"])),ts=>ts.theme.popOver.menuBgd,ts=>ts.theme.popOver.menuBorder,ts=>ts.theme.popOver.shadow,ts=>ts.theme.zIndex.popOver);var Im;const StyledPopOverToggle=styled.button(Im||(Im=zl(["\n  background-color: transparent;\n  padding: 0;\n  border: none;\n  cursor: pointer;\n  &:focus {\n    outline: 0;\n  }\n"])));var Pm;const StyledPopOverItem=styled.li(Pm||(Pm=zl(["\n  height: 2rem;\n  position: relative;\n\n  button,\n  a {\n    width: 100%;\n    height: 100%;\n    display: flex;\n    align-items: center;\n    border: none;\n    cursor: pointer;\n    background-color: ",";\n    color: ",";\n    line-height: ",";\n    font-size: ",";\n    padding: 0 2.5rem;\n    text-decoration: none;\n    outline: 0;\n\n    &:hover,\n    &:focus {\n      background-color: ",";\n      color: ",";\n      outline: 0;\n    }\n\n    &:disabled {\n      color: ",";\n    }\n  }\n\n  a {\n    width: unset;\n  }\n\n  .ch-content > * {\n    ",";\n  }\n\n  .ch-check {\n    position: absolute;\n    left: 0.5rem;\n    width: 1.5rem;\n    height: 1.5rem;\n    top: 0.33rem;\n  }\n\n  &:hover .ch-check g,\n  &:focus .ch-check g {\n    fill: ",";\n  }\n"])),ts=>ts.theme.popOver.itemBgd,ts=>ts.theme.popOver.itemText,ts=>ts.theme.fontSizes.text.lineHeight,ts=>ts.theme.fontSizes.text.fontSize,ts=>ts.theme.popOver.active.itemBgd,ts=>ts.theme.popOver.active.itemText,ts=>ts.theme.popOver.disabled,ellipsis,ts=>ts.theme.popOver.active.itemText);var km;styled(StyledPopOverItem)(km||(km=zl(["\n  > span {\n    width: 100%;\n    height: 100%;\n    display: block;\n    height: 2rem;\n  }\n\n  > button {\n    position: relative;\n  }\n\n  .ch-caret {\n    position: absolute;\n    width: 1.5rem;\n    height: 1.5rem;\n    right: 0;\n    color: inherit;\n    fill: inherit;\n  }\n"])));var Am;styled.header(Am||(Am=zl(["\n  border-bottom: 0.0625rem solid ",";\n  margin-bottom: 0.75rem;\n  max-width: 22rem;\n\n  img {\n    width: 100%;\n    display: inline-block;\n    margin-top: -0.5rem;\n    border-radius: 0.25rem 0.25rem 0 0;\n  }\n\n  img + .ch-title {\n    margin-top: 0.75rem;\n  }\n\n  .ch-title {\n    ",";\n    padding: 0 2.5rem;\n    margin-top: 0.5rem;\n    margin-bottom: 0;\n    color: ",";\n    font-size: 1.18125rem;\n    line-height: ",";\n  }\n\n  .ch-subtitle {\n    ",";\n    padding: 0 2.5rem;\n    color: #616672;\n    font-size: ",";\n    line-height: ",";\n    line-height: 1.43;\n    margin: 0 0 1rem;\n  }\n"])),ts=>ts.theme.popOver.separator,ellipsis,ts=>ts.theme.popOver.titleText,ts=>ts.theme.fontSizes.text.lineHeight,ellipsis,ts=>ts.theme.fontSizes.text.fontSize,ts=>ts.theme.fontSizes.text.lineHeight);var Mm;styled.li(Mm||(Mm=zl(["\n  margin: 0;\n  border-width: 0.0625rem 0 0 0;\n  border-style: solid;\n  border-color: ",";\n  margin-bottom: 0.75rem;\n  opacity: 0.8;\n"])),ts=>ts.theme.popOver.separator);const getFocusableElements=ts=>ts.querySelectorAll("button, [href]"),PopOver=ts=>{var{renderButton:rs,renderButtonWrapper:ns,onPopOverClick:os,children:ss,isSubMenu:as=!1,placement:ls="bottom-start",a11yLabel:cs,className:us,closeOnClick:ds=!0}=ts,ps=__rest(ts,["renderButton","renderButtonWrapper","onPopOverClick","children","isSubMenu","placement","a11yLabel","className","closeOnClick"]);const fs=reactExports.createRef(),[hs,ms]=reactExports.useState(!1);reactExports.useEffect(()=>{if(hs&&fs.current){const ys=getFocusableElements(fs.current);ys&&ys[0].focus()}},[hs]);const gs=ys=>{const Ss=fs.current;if(!as&&Ss){const Cs=getFocusableElements(Ss),$s=document.activeElement;for(let Es=0;Es<Cs.length;Es++)if(Cs[Es]===$s){if(ys==="down"&&Es!==Cs.length-1)return Cs[Es+1].focus();if(ys==="up"&&Es>0)return Cs[Es-1].focus();break}}},vs=ys=>ds?ys.target.closest("[data-menu='submenu']")?!1:ms(!1):void 0,bs=ys=>{switch(ys.keyCode){case KEY_CODES.ESCAPE:return ms(!1);case KEY_CODES.ARROW_UP:return gs("up");case KEY_CODES.ARROW_DOWN:return gs("down")}},xs=()=>{ms(!hs),os&&os(hs)};return useClickOutside(fs,()=>ms(!1)),useTabOutside(fs,()=>ms(!1)),React$2.createElement("span",{ref:fs,onKeyDown:bs,"data-testid":"popover"},React$2.createElement(Manager,null,React$2.createElement(Reference,null,({ref:ys})=>{const Ss={ref:ys,className:classnames(us,"ch-popover-toggle"),onClick:xs,"data-menu":as?"submenu":null,"aria-label":cs,"aria-haspopup":!0,"aria-expanded":hs,"data-testid":"popover-toggle"};if(rs)return React$2.createElement(StyledPopOverToggle,Object.assign({},Ss),rs(hs));if(ns){const{ref:Cs}=Ss,$s=__rest(Ss,["ref"]);return React$2.createElement("span",{ref:Cs},ns(hs,$s))}return null}),hs&&React$2.createElement(Popper,Object.assign({placement:ls,modifiers:[{name:"offset",options:{offset:[-8,0]}}]},ps),({ref:ys,style:Ss,placement:Cs})=>React$2.createElement(StyledPopOverMenu,{"data-placement":Cs,onClick:$s=>vs($s),ref:ys,style:Ss,"data-testid":"menu",className:"ch-popover-menu"},ss))))},consoleLogger=new buildExports.ConsoleLogger("ChimeSDKReactComponent",buildExports.LogLevel.INFO),LoggerContext=React$2.createContext(consoleLogger),useLogger=()=>reactExports.useContext(LoggerContext),caretSpacing=.25,caretSize=.5,sidePadding=.5,verticalPadding=.75,fontSize=1;var Dm;const TopProps=Ae(Dm||(Dm=zl(["\n  top: calc(\n    ","px -\n      ","rem\n  );\n  left: ","px;\n  transform: translateX(-50%) translateY(-50%);\n\n  &::before {\n    transform: rotateZ(180deg);\n    top: 100%;\n    left: calc(50% - ","rem);\n  }\n"])),ts=>{var rs,ns;return(ns=(rs=ts.bounds)===null||rs===void 0?void 0:rs.top)!==null&&ns!==void 0?ns:0},caretSize+caretSpacing+fontSize,ts=>{var rs,ns,os,ss;return(((ns=(rs=ts.bounds)===null||rs===void 0?void 0:rs.left)!==null&&ns!==void 0?ns:0)+((ss=(os=ts.bounds)===null||os===void 0?void 0:os.right)!==null&&ss!==void 0?ss:0))/2},caretSize);var Om;const BottomProps=Ae(Om||(Om=zl(["\n  top: calc(\n    ","px +\n      ","rem\n  );\n  left: ","px;\n  transform: translateX(-50%) translateY(-50%);\n\n  &::before {\n    transform: rotateZ(0deg);\n    top: -","rem;\n    left: calc(50% - ","rem);\n  }\n"])),ts=>{var rs,ns;return(ns=(rs=ts.bounds)===null||rs===void 0?void 0:rs.bottom)!==null&&ns!==void 0?ns:0},caretSize+caretSpacing+fontSize,ts=>{var rs,ns,os,ss;return(((ns=(rs=ts.bounds)===null||rs===void 0?void 0:rs.left)!==null&&ns!==void 0?ns:0)+((ss=(os=ts.bounds)===null||os===void 0?void 0:os.right)!==null&&ss!==void 0?ss:0))/2},caretSize,caretSize);var jm;const LeftProps=Ae(jm||(jm=zl(["\n  top: ","px;\n  left: calc(\n    ","px - ","rem\n  );\n  transform: translateY(-50%) translateX(-100%);\n\n  &::before {\n    transform: rotateZ(90deg);\n    top: calc(50% - ","rem);\n    left: calc(100% - ","rem);\n  }\n"])),ts=>{var rs,ns,os,ss;return(((ns=(rs=ts.bounds)===null||rs===void 0?void 0:rs.top)!==null&&ns!==void 0?ns:0)+((ss=(os=ts.bounds)===null||os===void 0?void 0:os.bottom)!==null&&ss!==void 0?ss:0))/2},ts=>{var rs,ns;return(ns=(rs=ts.bounds)===null||rs===void 0?void 0:rs.left)!==null&&ns!==void 0?ns:0},caretSize+caretSpacing,caretSize/2,caretSpacing);var Fm;const RightProps=Ae(Fm||(Fm=zl(["\n  top: ","px;\n  left: calc(\n    ","px + ","rem\n  );\n  transform: translateY(-50%);\n\n  &::before {\n    transform: rotateZ(270deg);\n    top: calc(50% - ","rem);\n    left: -","rem;\n  }\n"])),ts=>{var rs,ns,os,ss;return(((ns=(rs=ts.bounds)===null||rs===void 0?void 0:rs.top)!==null&&ns!==void 0?ns:0)+((ss=(os=ts.bounds)===null||os===void 0?void 0:os.bottom)!==null&&ss!==void 0?ss:0))/2},ts=>{var rs,ns;return(ns=(rs=ts.bounds)===null||rs===void 0?void 0:rs.right)!==null&&ns!==void 0?ns:0},caretSize+caretSpacing,caretSize/2,caretSize+caretSpacing);var Lm;const StyledTooltip=styled.span(Lm||(Lm=zl(["\n  @keyframes fadeIn {\n    0% {\n      opacity: 0;\n    }\n\n    100% {\n      opacity: 1;\n    }\n  }\n\n  position: fixed;\n  z-index: 9999;\n  color: white;\n  white-space: nowrap;\n  pointer-events: none;\n  line-height: normal;\n  background-color: rgba(0, 0, 0, 0.8);\n  border-radius: ","rem;\n  font-size: ","rem;\n  font-weight: 300;\n  padding: ","rem ","rem;\n  white-space: nowrap;\n  animation: fadeIn 0.3s;\n\n  &::before {\n    border-bottom: ","rem solid rgba(0, 0, 0, 0.8);\n    border-left: ","rem solid transparent;\n    border-right: ","rem solid transparent;\n    content: '';\n    height: 0;\n    transform: translateX(-100%) translateY(-50%);\n    width: 0;\n    z-index: 1;\n    position: absolute;\n  }\n\n  ","\n  ","\n  ","\n  ","\n"])),fontSize/2,fontSize,sidePadding,verticalPadding,caretSize,caretSize,caretSize,ts=>ts.position==="top"&&TopProps,ts=>ts.position==="bottom"&&BottomProps,ts=>ts.position==="left"&&LeftProps,ts=>ts.position==="right"&&RightProps),initialState$3={show:!1,bounds:null},WithTooltip=(ts,rs)=>ns=>{var os;const ss=useLogger(),[{show:as,bounds:ls},cs]=reactExports.useState(initialState$3),[us,ds]=reactExports.useState(null),ps=(os=ns.tooltipPosition)!==null&&os!==void 0?os:"top",fs=reactExports.useCallback(ms=>{ms.preventDefault(),ms.stopPropagation();let gs=ms.target;for(;!gs.getAttribute("data-tooltip");)gs=gs.parentElement;const vs=gs.getBoundingClientRect();cs({show:!0,bounds:vs})},[]),hs=reactExports.useCallback(ms=>{ms.preventDefault(),ms.stopPropagation(),cs(initialState$3)},[]);return reactExports.useEffect(()=>(document.addEventListener("scroll",hs,!0),()=>document.removeEventListener("scroll",hs,!0)),[]),reactExports.useEffect(()=>{const ms=document.getElementById(rs||"Tooltip__container");if(!ms){ss.warn("Attempted to use 'WithTooltip' but could not find container element.Pass a valid element ID or add 'Tooltip__container' ID to existing element");return}ds(ms)},[rs]),React$2.createElement(React$2.Fragment,null,as&&ls&&us&&ReactDOM__default.createPortal(React$2.createElement(StyledTooltip,{position:ps,bounds:ls},ns.tooltipContent||ns.label),us),React$2.createElement(ts,Object.assign({},ns,{"data-tooltip":!0,"data-tooltip-position":ps,onClick:ms=>{var gs;as&&hs(ms),(gs=ns==null?void 0:ns.onClick)===null||gs===void 0||gs.call(ns,ms)},onFocus:ms=>{var gs;as||fs(ms),(gs=ns==null?void 0:ns.onFocus)===null||gs===void 0||gs.call(ns,ms)},onBlur:ms=>{var gs;as&&hs(ms),(gs=ns==null?void 0:ns.onBlur)===null||gs===void 0||gs.call(ns,ms)},onMouseEnter:ms=>{var gs;as||fs(ms),(gs=ns==null?void 0:ns.onMouseEnter)===null||gs===void 0||gs.call(ns,ms)},onMouseLeave:ms=>{var gs;as&&hs(ms),(gs=ns==null?void 0:ns.onMouseLeave)===null||gs===void 0||gs.call(ns,ms)}})))};var Nm;const fillSpace=Ae(Nm||(Nm=zl(["\n  display: flex;\n  width: 100%;\n  height: 100%;\n"])));var Bm;const fillSpaceCentered=Ae(Bm||(Bm=zl(["\n  ",";\n  align-items: center;\n  justify-content: center;\n"])),fillSpace);var Vm;const equalColumns=Ae(Vm||(Vm=zl(["\n  display: flex;\n  flex-direction: row;\n  height: 100%;\n  align-items: stretch;\n\n  > * {\n    flex-grow: 1;\n    flex-basis: 50%;\n  }\n"])));var Um;const stack$1=Ae(Um||(Um=zl(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n\n  > * {\n    width: 100%;\n  }\n"]))),layoutMap$1={"fill-space":fillSpace,"fill-space-centered":fillSpaceCentered,"equal-columns":equalColumns,stack:stack$1};var Gm;const StyledFlex=styled.div(Gm||(Gm=zl(["\n  align-items: ",";\n  display: ",";\n  flex: ",";\n  flex-basis: ",";\n  flex-direction: ",";\n  flex-grow: ",";\n  flex-shrink: ",";\n  flex-wrap: ",";\n  justify-content: ",";\n\n  // layout variants\n  ","\n\n  ","\n  ","\n"])),ts=>ts.alignItems,ts=>ts.container?"flex":"block",ts=>ts.flex||"",ts=>ts.flexBasis,ts=>ts.flexDirection,ts=>ts.flexGrow||"",ts=>ts.flexShrink,ts=>ts.flexWrap,ts=>ts.justifyContent,ts=>!!ts.layout&&layoutMap$1[ts.layout],baseSpacing,baseStyles),Flex=ts=>{var{children:rs,className:ns,tag:os,alignItems:ss="stretch",container:as=!1,flexBasis:ls="auto",flexDirection:cs="row",flexShrink:us=1,flexWrap:ds="nowrap",justifyContent:ps="flex-start"}=ts,fs=__rest(ts,["children","className","tag","alignItems","container","flexBasis","flexDirection","flexShrink","flexWrap","justifyContent"]);return React$2.createElement(StyledFlex,Object.assign({alignItems:ss,container:as,flexBasis:ls,flexDirection:cs,flexShrink:us,flexWrap:ds,justifyContent:ps,as:os,"data-testid":"flex",className:ns||""},fs),rs)};function useUniqueId(){const[ts]=reactExports.useState(()=>v4());return ts}var Hm;const StyledLabel=styled.label(Hm||(Hm=zl(["\n  color: ",";\n  font-size: ",";\n  line-height: ",";\n\n  ","\n  ","\n"])),ts=>ts.theme.inputs.fontColor,ts=>ts.theme.fontSizes.label.fontSize,ts=>ts.theme.fontSizes.label.lineHeight,baseSpacing,baseStyles),Label=reactExports.forwardRef((ts,rs)=>{const{className:ns,tag:os}=ts,ss=__rest(ts,["className","tag"]);return React$2.createElement(StyledLabel,Object.assign({as:os,"data-testid":"label",className:ns||""},ss),ts.children)});var zm;const stack=Ae(zm||(zm=zl(["\n  &.ch-form-field-input,\n  &.ch-form-field-select,\n  &.ch-form-field-textarea {\n    display: flex;\n    flex-direction: column;\n\n    label {\n      display: block;\n      margin-bottom: 0.5rem;\n    }\n\n    input,\n    select {\n      width: 100%;\n    }\n  }\n\n  &.ch-form-field-checkbox {\n    display: grid;\n    grid-template-columns: 1.5rem 1fr;\n    grid-template-rows: auto;\n    gap: 0px 0.5rem;\n\n    .ch-checkbox {\n      grid-column: 1;\n      grid-row: 1;\n    }\n\n    .ch-checkbox-label {\n      line-height: 1.3;\n      grid-column: 2;\n    }\n\n    .ch-help-text {\n      grid-row: 2;\n      grid-column: 1/3;\n    }\n  }\n\n  &.ch-form-field-radiogroup {\n    flex-direction: column;\n\n    .ch-radio-wrapper {\n      display: block;\n      margin-bottom: 0.5rem;\n      padding-left: 0.125rem;\n      display: grid;\n      grid-template-columns: 1.5rem 1fr;\n      grid-template-rows: auto;\n\n      align-items: center;\n    }\n\n    .ch-radio-label {\n      margin-left: 1rem;\n      position: relative;\n      bottom: -0.5px;\n    }\n  }\n"])));var Wm;const horizontal=Ae(Wm||(Wm=zl(["\n  @media (max-width: 599px) {\n    ",";\n  }\n\n  @media (min-width: 600px) {\n    &.ch-form-field-input,\n    &.ch-form-field-select,\n    &.ch-form-field-textarea,\n    &.ch-form-field-checkbox {\n      display: grid;\n      grid-template-columns: 30% 1fr;\n      grid-template-rows: auto;\n      gap: 0px 0.5rem;\n      align-items: center;\n\n      input {\n        width: 100%;\n      }\n\n      .ch-help-text {\n        grid-column: 2;\n      }\n    }\n\n    &.ch-form-field-radiogroup {\n      flex-wrap: wrap;\n\n      fieldset {\n        width: 100%;\n      }\n\n      .ch-radio-wrapper {\n        display: grid;\n        grid-template-columns: 30% 1fr;\n        grid-template-rows: auto;\n        gap: 0px 0.5rem;\n        align-items: center;\n        margin-bottom: 0.5rem;\n      }\n\n      .ch-radio {\n        grid-column: 2;\n        grid-row: 1;\n        margin-top: -4px;\n      }\n\n      .ch-radio-label {\n        grid-column: 1;\n        padding-right: 1rem;\n        margin-left: 0;\n      }\n\n      .ch-help-text {\n        width: 100%;\n      }\n    }\n  }\n"])),stack);var Km;const inputOnly=Ae(Km||(Km=zl(["\n  &.ch-form-field-input,\n  &.ch-form-field-select,\n  &.ch-form-field-textarea {\n    display: flex;\n    flex-direction: column;\n\n    input {\n      width: 100%;\n    }\n  }\n\n  &.ch-form-field-checkbox {\n    display: flex;\n    flex-wrap: wrap;\n    align-items: center;\n\n    .ch-checkbox {\n      order: 1;\n    }\n\n    .ch-checkbox-label {\n      order: 2;\n      padding-left: 1rem;\n    }\n\n    .ch-help-text {\n      width: 100%;\n      order: 3;\n    }\n  }\n\n  &.ch-form-field-radiogroup {\n    flex-direction: column;\n\n    .ch-radio-wrapper {\n      display: block;\n      margin-bottom: 0.5rem;\n    }\n\n    .ch-radio-label {\n      margin-left: 1rem;\n    }\n  }\n"]))),layoutMap={stack,horizontal,"input-only":inputOnly};var qm;const StyledFormField=styled.div(qm||(qm=zl(["\n  display: flex;\n  margin-bottom: 1rem;\n  position: relative;\n\n  fieldset {\n    margin: 0;\n    border: none;\n    padding: 0;\n  }\n\n  .ch-help-text {\n    font-size: ",";\n    margin-top: 0.5rem;\n    color: ",";\n  }\n\n  legend {\n    font-size: ",";\n    color: ",";\n    margin-bottom: 0.5rem;\n  }\n\n  ","\n\n  ","\n  ","\n"])),ts=>ts.theme.fontSizes.small.fontSize,ts=>ts.error?ts.theme.inputs.error.fontColor:ts.theme.inputs.fontColor,ts=>ts.theme.fontSizes.text.fontSize,ts=>ts.theme.inputs.fontColor,ts=>!!ts.layout&&layoutMap[ts.layout],baseSpacing,baseStyles);reactExports.forwardRef((ts,rs)=>{var ns;const{field:os,label:ss,layout:as="stack",errorText:ls,fieldProps:cs,infoText:us,error:ds,onChange:ps,value:fs,checked:hs,options:ms,className:gs}=ts,vs=__rest(ts,["field","label","layout","errorText","fieldProps","infoText","error","onChange","value","checked","options","className"]),bs=((ns=os.displayName)===null||ns===void 0?void 0:ns.toLowerCase())||"",xs=useUniqueId(),ys=useUniqueId(),Ss=ds&&ls||us,Cs=()=>as==="input-only"&&bs!=="checkbox"?null:bs!=="radiogroup"?React$2.createElement(Label,{htmlFor:xs,className:"ch-".concat(bs,"-label")},ss):!1;return React$2.createElement(StyledFormField,Object.assign({layout:as,error:ds,className:"ch-form-field-".concat(bs," ").concat(gs||""),"data-testid":"form-field"},vs),Cs(),bs==="radiogroup"?React$2.createElement("fieldset",{"aria-describedby":Ss&&ys,"aria-invalid":ds},ss&&React$2.createElement("legend",null,ss),React$2.createElement(os,Object.assign({options:ms,ref:rs,id:xs,onChange:ps,value:fs},cs))):React$2.createElement(os,Object.assign({options:ms,"aria-label":as==="input-only"&&ss||null,"aria-describedby":Ss&&ys,"aria-invalid":ds,ref:rs,id:xs,onChange:ps,value:fs,checked:hs},cs)),Ss&&React$2.createElement("span",{className:"ch-help-text",id:ys},Ss))});var Zm;const StyledHeading=styled.h1(Zm||(Zm=zl(["\n  display: block;\n  margin: 0;\n\n  font-size: ",";\n  font-weight: ",";\n  line-height: ",";\n\n  "," {\n    font-size: ",";\n    font-weight: ",";\n    line-height: ",";\n  }\n\n  ","\n  ","\n"])),ts=>ts.theme.fontSizes["h".concat(ts.level)].mobile.fontSize,ts=>ts.theme.fontSizes["h".concat(ts.level)].mobile.fontWeight,ts=>ts.theme.fontSizes["h".concat(ts.level)].mobile.lineHeight,({theme:ts})=>ts.mediaQueries.min.md,ts=>ts.theme.fontSizes["h".concat(ts.level)].fontSize,ts=>ts.theme.fontSizes["h".concat(ts.level)].fontWeight,ts=>ts.theme.fontSizes["h".concat(ts.level)].lineHeight,baseSpacing,baseStyles);reactExports.forwardRef((ts,rs)=>{const{tag:ns,children:os,className:ss,level:as}=ts,ls=__rest(ts,["tag","children","className","level"]);return React$2.createElement(StyledHeading,Object.assign({as:ns||"h".concat(as),className:ss||"",level:as,ref:rs,"data-testid":"heading"},ls),os)});const getPadding=ts=>{const{sizing:rs,leadingIcon:ns}=ts;return rs==="sm"?"0.125rem 1.75rem 0.125rem ".concat(ns?"1.3125rem":"0.5rem"):"0.34375rem 1.75rem 0.34375rem ".concat(ns?"1.3125rem":"0.5rem")};var Ym;const StyledInputWrapper=styled.span(Ym||(Ym=zl(["\n  position: relative;\n\n  > .ch-icon {\n    position: absolute;\n    width: 1rem;\n    left: 0.1875rem;\n    position: absolute;\n    top: 54%;\n    transform: translateY(-50%);\n  }\n\n  > input {\n    padding: ",";\n  }\n"])),ts=>getPadding(ts));var Jm;const StyledInput=styled.input(Jm||(Jm=zl(["\n  align-items: center;\n  display: flex;\n  letter-spacing: -0.005625rem;\n  transition: box-shadow 0.05s ease-in;\n  background-color: ",";\n  border: ",";\n  border-radius: ",";\n  box-shadow: ",";\n  color: ",";\n  font-size: ",";\n  line-height: ",";\n\n  &::placeholder {\n    color: ",";\n  }\n\n  &:focus,\n  &[aria-invalid='true']:focus {\n    border: ",";\n    box-shadow: ",";\n    outline: none;\n  }\n\n  &[aria-invalid='true'] {\n    border: ",";\n    box-shadow: ",";\n  }\n\n  // Hides native clear button\n  &::-webkit-search-decoration,\n  ::-webkit-search-cancel-button,\n  ::-webkit-search-results-button,\n  ::-webkit-search-results-decoration {\n    display: none;\n  }\n\n  &::-ms-clear,\n  &::-ms-reveal {\n    display: none;\n    width: 0;\n    height: 0;\n  }\n\n  ","\n  ","\n"])),ts=>ts.theme.inputs.bgd,ts=>ts.theme.inputs.border,ts=>ts.theme.inputs.borderRadius,ts=>ts.theme.inputs.shadow,ts=>ts.theme.inputs.fontColor,ts=>ts.theme.fontSizes.text.fontSize,ts=>ts.theme.fontSizes.text.lineHeight,ts=>ts.theme.inputs.placeholder,ts=>ts.theme.inputs.focus.border,ts=>ts.theme.inputs.focus.shadow,ts=>ts.theme.inputs.error.border,ts=>ts.theme.inputs.error.shadow,baseSpacing,baseStyles);var Xm;const StyledClear=styled.button(Xm||(Xm=zl(["\n  position: absolute;\n  top: 50%;\n  right: 0.125rem;\n  transform: translateY(-44%);\n  border: none;\n  background: none;\n  cursor: pointer;\n  display: ",";\n\n  path {\n    fill: ",";\n  }\n\n  &:active,\n  &:focus {\n    outline: none;\n  }\n"])),ts=>ts.active?"block":"none",ts=>ts.theme.inputs.clearBg),InputWrapper=reactExports.forwardRef((ts,rs)=>{const{leadingIcon:ns,children:os,sizing:ss}=ts,as=__rest(ts,["leadingIcon","children","sizing"]);return React$2.createElement(StyledInputWrapper,Object.assign({ref:rs,sizing:ss,leadingIcon:ns},as,{"data-testid":"input-wrapper"}),ns&&React$2.createElement("span",{className:"ch-icon"},ns),os)}),Input=reactExports.forwardRef((ts,rs)=>{const{type:ns,value:os,sizing:ss,onClear:as,onChange:ls,className:cs,leadingIcon:us,showClear:ds=!0}=ts,ps=__rest(ts,["type","value","sizing","onClear","onChange","className","leadingIcon","showClear"]),[fs,hs]=reactExports.useState(!1),ms=reactExports.useRef(!1),gs=reactExports.useRef(null),vs=rs||gs,bs=reactExports.useRef(null),xs=ts["aria-label"]?"clear ".concat(ts["aria-label"]):"clear",ys=()=>{var Ss;if(as){as();return}const Cs=vs.current,$s=(Ss=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value"))===null||Ss===void 0?void 0:Ss.set;$s&&Cs&&($s.call(Cs,""),Cs.dispatchEvent(new Event("input",{bubbles:!0}))),Cs.focus()};return reactExports.useEffect(()=>{let Ss=!1;const Cs=Es=>{if(ms.current){if(Es.target!==bs.current&&Es.target!==vs.current){ms.current=!1,hs(!1);return}Ss&&(Ss=!1)}},$s=()=>{ms.current&&(Ss=!0,setTimeout(()=>{Ss&&(ms.current=!1,hs(!1)),Ss=!1},10))};return document.addEventListener("focusin",Cs),document.addEventListener("focusout",$s),()=>{document.removeEventListener("focusin",Cs),document.removeEventListener("focusout",$s)}},[]),React$2.createElement(InputWrapper,{leadingIcon:us,sizing:ss,className:"ch-input-wrapper ".concat(cs||"")},React$2.createElement(StyledInput,Object.assign({},ps,{value:os,type:ns||"text",ref:vs,className:"ch-input",onChange:ls,"data-testid":"input",onFocus:()=>{ms.current=!0,hs(!0)}})),ds&&React$2.createElement(StyledClear,{type:"button",active:!!(as||fs&&os.length),tabIndex:-1,"aria-label":xs,onClick:ys,ref:bs},React$2.createElement(Clear,{width:"1.25rem"})))});Input.displayName="Input";reactExports.forwardRef((ts,rs)=>{const ns=Object.assign(Object.assign({},ts),{sizing:"sm",type:"search",leadingIcon:React$2.createElement(Search,{"data-testid":"search-icon"})});return React$2.createElement(Input,Object.assign({},ns,{ref:rs}))});reactExports.createContext({onClose(){},labelID:"",dismissible:!0});var Qm;const fadeAnimation=We(Qm||(Qm=zl(["\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n"])));var _g;const slideDownAndScaleUp=We(_g||(_g=zl(["\n  0% {\n    opacity: 0;\n    transform: translateY(4rem) scale(0.4);\n  }\n  100% {\n    opacity: 1;\n    transform: translateY(0) scale(1);\n  }\n"])));var ex;styled.div(ex||(ex=zl(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: ",";\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: ",";\n  overflow-x: hidden;\n  animation: "," 0.25s ease 0s forwards;\n  will-change: opacity;\n\n  > section {\n    position: relative;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    border-radius: ",";\n    color: ",";\n    background-color: ",";\n    width: ",";\n    box-shadow: ",";\n    max-width: ",";\n    height: ",";\n    max-height: ",";\n    will-change: transform, opacity;\n    animation: "," 0.15s ease 0s forwards;\n\n    @media only screen and (max-height: 25rem) {\n      position: absolute;\n      top: 2rem;\n      height: auto;\n      max-height: none;\n    }\n  }\n\n  ","\n  ","\n"])),ts=>ts.theme.modal.wrapperBgd,ts=>ts.theme.zIndex.modal,fadeAnimation,ts=>ts.theme.radii.default,ts=>ts.theme.modal.text,ts=>ts.theme.modal.bgd,ts=>ts.theme.modalSizes[ts.size||"md"].width,ts=>ts.theme.modal.shadow,ts=>ts.size==="fullscreen"?ts.theme.modalSizes[ts.size].width:"90vw",ts=>ts.size==="fullscreen"?ts.theme.modalSizes[ts.size].height:"auto",ts=>ts.theme.modalSizes[ts.size||"md"].height,slideDownAndScaleUp,baseSpacing,baseStyles);var tx;styled.header(tx||(tx=zl(["\n  padding: 1rem 1.5rem;\n\n  .ch-close-button {\n    position: absolute;\n    right: 1.55rem;\n    top: 1rem;\n  }\n\n  .ch-title {\n    padding-right: 2rem;\n    margin: 0;\n    font-size: ",";\n    font-weight: ",";\n  }\n\n  ","\n  ","\n"])),ts=>ts.theme.modal.titleSize,ts=>ts.theme.modal.titleWeight,baseSpacing,baseStyles);var rx;styled.div(rx||(rx=zl(["\n  font-size: ",";\n  line-height: ",";\n  padding: 0 1.5rem;\n  flex-grow: 1;\n  overflow-y: auto;\n\n  ","\n  ","\n"])),ts=>ts.theme.fontSizes.text.fontSize,ts=>ts.theme.fontSizes.text.lineHeight,baseSpacing,baseStyles);var nx;styled.footer(nx||(nx=zl(["\n  padding: 1.5rem;\n  border-top: 1px solid ",";\n  display: flex;\n  flex-direction: row-reverse;\n  justify-content: space-between;\n\n  div:first-child {\n    display: flex;\n    flex-direction: row-reverse;\n  }\n\n  button + button {\n    margin: 0 0.5rem 0 0.5rem;\n  }\n\n  @media (max-width: 35rem) {\n    flex-direction: column;\n\n    button {\n      width: 100%;\n    }\n\n    div:first-child {\n      display: flex;\n      flex-direction: column;\n    }\n\n    button + button,\n    div + div {\n      margin: 0.5rem 0 0;\n    }\n  }\n\n  ","\n  ","\n"])),ts=>ts.theme.modal.border,baseSpacing,baseStyles);var ox;const StyledHeader$1=styled.div(ox||(ox=zl(["\n  display: flex;\n  height: 3rem;\n  align-items: center;\n  border-bottom: ",";\n  padding: 1rem;\n\n  .ch-title {\n    flex: 1;\n  }\n\n  .ch-btn-close {\n    margin-left: auto;\n    margin-right: 1rem;\n  }\n\n  "," {\n    display: none;\n  }\n"])),({theme:ts})=>"0.03125rem solid ".concat(ts.navbar.headerBorder),({theme:ts})=>ts.mediaQueries.min.md);var ix;const StyledNavbarItem=styled.div(ix||(ix=zl(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 4.25rem;\n  min-height: 3rem;\n  flex-direction: column;\n  padding: 0 0.25rem;\n\n  .ch-navigation-bar-item-label {\n    text-align: center;\n    display: ",";\n    font-size: ",";\n    width: 100%;\n    padding: 0 0.25rem;\n    margin-bottom: 1.5rem;\n  }\n"])),({showLabel:ts})=>ts?"block":"none",({theme:ts})=>ts.fontSizes.footnote.fontSize);var ax;styled(Flex)(ax||(ax=zl(["\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  max-width: 100%;\n  color: ",";\n  background-color: ",";\n  width: 4.25rem;\n  padding-top: 1rem;\n\n  "," {\n    width: ",";\n    padding-top: ",";\n\n    "," {\n      display: ",";\n    }\n\n    "," {\n      ",";\n    }\n  }\n\n  ","\n  ","\n"])),ts=>ts.theme.navbar.text,({theme:ts})=>ts.navbar.bgd,({theme:ts,responsive:rs})=>ts.mediaQueries.max.md,ts=>ts.responsive?"20rem":"4.25rem;",ts=>ts.responsive?"0":"1rem",StyledHeader$1,ts=>ts.responsive?"flex":"none",StyledNavbarItem,ts=>ts.responsive&&" \n        width: auto;\n        flex-direction: row;\n\n        .ch-navigation-bar-item-label {\n          font-size: 1rem;\n          text-align: left;\n          margin-left: 1.5rem;\n          margin-bottom: 0;\n          display: block;\n        }",baseStyles,baseSpacing);var lx;const StyledCloseIconButton=styled(IconButton)(lx||(lx=zl([""])));var ux;const StyledNotificationButton=styled(SecondaryButton)(ux||(ux=zl([""])));var dx;styled.div(dx||(dx=zl(["\n  align-items: center;\n  position: relative;\n  display: inline-flex;\n  align-items: center;\n  color: ",";\n  background-color: ",";\n  padding: 0.75rem;\n  box-shadow: ",";\n  border-radius: 0.25rem;\n  margin: 0.75rem;\n  max-width: 45rem;\n  pointer-events: auto;\n\n  .ch-severity-icon {\n    width: 1.5rem;\n    flex-shrink: 0;\n  }\n\n  .ch-message {\n    display: flex;\n    flex-flow: column wrap;\n    font-size: ",";\n    line-height: ",";\n    letter-spacing: -0.005625rem;\n    margin: 0.5rem 0.75rem;\n\n    &:empty {\n      margin: 0;\n    }\n  }\n\n  "," {\n    margin-right: 1.6rem;\n    border-color: ",";\n  }\n\n  ",",\n  "," {\n    background-color: ",";\n    color: ","};\n  }\n\n  ",":hover, ",":focus, ",":hover, ",":focus {\n    background-color: ",";\n    color: ",";\n  }\n\n  ",":active, ",":active {\n    background-color: ",";\n    color: ",";\n  }\n\n  ","\n  ","\n"])),({theme:ts,severity:rs})=>ts.notification[rs].text,({theme:ts,severity:rs})=>ts.colors[rs].primary,({theme:ts})=>ts.notification.shadow,ts=>ts.theme.fontSizes.text.fontSize,ts=>ts.theme.fontSizes.text.lineHeight,StyledNotificationButton,({theme:ts,severity:rs})=>ts.notification[rs].text,StyledCloseIconButton,StyledNotificationButton,({theme:ts,severity:rs})=>ts.colors[rs].primary,({theme:ts,severity:rs})=>ts.notification[rs].closeButton.text,StyledCloseIconButton,StyledCloseIconButton,StyledNotificationButton,StyledNotificationButton,({theme:ts,severity:rs})=>ts.notification[rs].closeButton.hover.bgd,({theme:ts,severity:rs})=>ts.notification[rs].closeButton.hover.text,StyledCloseIconButton,StyledNotificationButton,({theme:ts,severity:rs})=>ts.notification[rs].closeButton.active.bgd,({theme:ts,severity:rs})=>ts.notification[rs].closeButton.active.text,baseSpacing,baseStyles);var Severity$1;(function(ts){ts.ERROR="error",ts.SUCCESS="success",ts.INFO="info",ts.WARNING="warning"})(Severity$1||(Severity$1={}));React$2.createElement(CheckRound,null),React$2.createElement(Clock,null),React$2.createElement(Caution,null),React$2.createElement(Information,null);var Severity;(function(ts){ts.ERROR="error",ts.SUCCESS="success",ts.INFO="info",ts.WARNING="warning"})(Severity||(Severity={}));var ActionType;(function(ts){ts[ts.ADD=0]="ADD",ts[ts.REMOVE=1]="REMOVE",ts[ts.REMOVE_ALL=2]="REMOVE_ALL"})(ActionType||(ActionType={}));const initialState$2={notifications:[]};React$2.createContext(initialState$2);React$2.createContext(()=>{});var px;styled.div(px||(px=zl(["\n  position: fixed;\n  top: 2rem;\n  left: 0;\n  right: 0;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  z-index: ",";\n  pointer-events: none;\n"])),ts=>ts.theme.zIndex.notificationGroup);var fx;const HiddenRadio=styled.input(fx||(fx=zl(["\n  ",";\n\n  &[aria-invalid='true'] + .ch-radio {\n    border: ",";\n    box-shadow: ",";\n  }\n"])),visuallyHidden,ts=>ts.theme.inputs.error.border,ts=>ts.theme.inputs.error.shadow);var hx;styled.span(hx||(hx=zl(["\n  > label {\n    margin-left: 0.5rem;\n  }\n"])));var mx;const StyledRadio=styled.div(mx||(mx=zl(["\n  background-color: ",";\n  border: ",";\n  border-radius: ",";\n  box-shadow: ",";\n  margin-bottom: -0.1875rem;\n  transition: box-shadow 0.05s ease-in;\n\n  ",":checked ~ & {\n    background-color: ",";\n    border: ",";\n    box-shadow: ",";\n  }\n\n  ",":focus ~ & {\n    border: ",";\n    box-shadow: ",";\n  }\n"])),ts=>ts.theme.inputs.bgd,ts=>ts.theme.inputs.border,ts=>ts.theme.radii.circle,ts=>ts.theme.inputs.shadow,HiddenRadio,ts=>ts.theme.inputs.checked.bgd,ts=>ts.theme.inputs.checked.border,ts=>ts.theme.inputs.checked.shadow,HiddenRadio,ts=>ts.theme.inputs.focus.border,ts=>ts.theme.inputs.focus.shadow);var gx;styled(StyledRadio)(gx||(gx=zl(["\n  display: inline-block;\n  height: 1rem;\n  position: relative;\n  width: 1rem;\n\n  &:after {\n    background-color: ",";\n    border-radius: ",";\n    content: '';\n    display: block;\n    height: 0.375rem;\n    padding: 0.03125rem;\n    width: 0.375rem;\n    ",";\n  }\n"])),ts=>ts.checked?ts.theme.inputs.checked.fontColor:ts.theme.inputs.bgd,ts=>ts.theme.radii.circle,absoluteCenter);var xx;styled(StyledRadio)(xx||(xx=zl(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 0.5rem;\n  border-color: ",";\n  box-shadow: none;\n  margin: 0.1rem;\n\n  ",":checked ~ & {\n    svg {\n      stroke: ",";\n    }\n  }\n"])),ts=>ts.theme.colors.greys.white,HiddenRadio,ts=>ts.theme.colors.greys.white);var vx;const StyledWrapper=styled.div(vx||(vx=zl(["\n  position: relative;\n\n  .ch-select-icon {\n    pointer-events: none;\n  }\n\n  ","\n  ","\n"])),baseSpacing,baseStyles);var yx;const StyledSelectInput=styled.select(yx||(yx=zl(["\n  background-color: ",";\n  border: ",";\n  border-radius: ",";\n  box-shadow: ",";\n  color: ",";\n  font-size: ",";\n  line-height: ",";\n  height: 2rem;\n  letter-spacing: -0.005625rem;\n  width: 100%;\n  padding: 0.375rem 1.5rem 0.375rem 0.5rem;\n  transition: box-shadow 0.05s ease-in;\n  display: inline-block;\n  appearance: none;\n\n  &:focus,\n  &[aria-invalid='true']:focus {\n    border: ",";\n    box-shadow: ",";\n    outline: none;\n  }\n\n  &[aria-invalid='true'] {\n    border: ",";\n    box-shadow: ",";\n  }\n\n  ","\n  ","\n"])),ts=>ts.theme.inputs.bgd,ts=>ts.theme.inputs.border,ts=>ts.theme.inputs.borderRadius,ts=>ts.theme.inputs.shadow,ts=>ts.theme.inputs.fontColor,ts=>ts.theme.fontSizes.text.fontSize,ts=>ts.theme.fontSizes.text.lineHeight,ts=>ts.theme.inputs.focus.border,ts=>ts.theme.inputs.focus.shadow,ts=>ts.theme.inputs.error.border,ts=>ts.theme.inputs.error.shadow,baseSpacing,baseStyles),renderOptions=ts=>ts.map(({value:rs,label:ns})=>React$2.createElement("option",{key:rs,value:rs},ns)),upAndDownCaretStyle={position:"absolute",top:"50%",transform:"translateY(-50%)",right:"0.2rem",width:"1.5rem",height:"1.5rem"},Select=reactExports.forwardRef((ts,rs)=>React$2.createElement(StyledWrapper,null,React$2.createElement(StyledSelectInput,Object.assign({className:"ch-select","data-testid":"select",ref:rs},ts),renderOptions(ts.options)),React$2.createElement(UpAndDownCaret,{style:upAndDownCaretStyle,className:"ch-select-icon","data-testid":"select-icon"})));Select.displayName="Select";var bx;const StyledTextarea=styled.textarea(bx||(bx=zl(["\n  background-color: ",";\n  border: ",";\n  border-radius: ",";\n  box-shadow: ",";\n  color: ",";\n  font-size: ",";\n  padding: 0.5rem;\n  position: relative;\n  min-height: 4rem;\n  transition: box-shadow 0.05s ease-in;\n  width: 100%;\n\n  &:focus,\n  &[aria-invalid='true']:focus {\n    border: ",";\n    box-shadow: ",";\n    outline: none;\n  }\n\n  &[aria-invalid='true'] {\n    border: ",";\n    box-shadow: ",";\n  }\n"])),ts=>ts.theme.inputs.bgd,ts=>ts.theme.inputs.border,ts=>ts.theme.inputs.borderRadius,ts=>ts.theme.inputs.shadow,ts=>ts.theme.inputs.fontColor,ts=>ts.theme.fontSizes.text.fontSize,ts=>ts.theme.inputs.focus.border,ts=>ts.theme.inputs.focus.shadow,ts=>ts.theme.inputs.error.border,ts=>ts.theme.inputs.error.shadow),Textarea=React$2.forwardRef((ts,rs)=>{var{label:ns}=ts,os=__rest(ts,["label"]);return React$2.createElement(StyledTextarea,Object.assign({"aria-label":ns,className:"ch-textarea","data-testid":"textarea",ref:rs},os))});Textarea.displayName="Textarea";var MapShim=function(){if(typeof Map<"u")return Map;function ts(rs,ns){var os=-1;return rs.some(function(ss,as){return ss[0]===ns?(os=as,!0):!1}),os}return function(){function rs(){this.__entries__=[]}return Object.defineProperty(rs.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),rs.prototype.get=function(ns){var os=ts(this.__entries__,ns),ss=this.__entries__[os];return ss&&ss[1]},rs.prototype.set=function(ns,os){var ss=ts(this.__entries__,ns);~ss?this.__entries__[ss][1]=os:this.__entries__.push([ns,os])},rs.prototype.delete=function(ns){var os=this.__entries__,ss=ts(os,ns);~ss&&os.splice(ss,1)},rs.prototype.has=function(ns){return!!~ts(this.__entries__,ns)},rs.prototype.clear=function(){this.__entries__.splice(0)},rs.prototype.forEach=function(ns,os){os===void 0&&(os=null);for(var ss=0,as=this.__entries__;ss<as.length;ss++){var ls=as[ss];ns.call(os,ls[1],ls[0])}},rs}()}(),isBrowser=typeof window<"u"&&typeof document<"u"&&window.document===document,global$1=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),requestAnimationFrame$1=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(global$1):function(ts){return setTimeout(function(){return ts(Date.now())},1e3/60)}}(),trailingTimeout=2;function throttle(ts,rs){var ns=!1,os=!1,ss=0;function as(){ns&&(ns=!1,ts()),os&&cs()}function ls(){requestAnimationFrame$1(as)}function cs(){var us=Date.now();if(ns){if(us-ss<trailingTimeout)return;os=!0}else ns=!0,os=!1,setTimeout(ls,rs);ss=us}return cs}var REFRESH_DELAY=20,transitionKeys=["top","right","bottom","left","width","height","size","weight"],mutationObserverSupported=typeof MutationObserver<"u",ResizeObserverController=function(){function ts(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=throttle(this.refresh.bind(this),REFRESH_DELAY)}return ts.prototype.addObserver=function(rs){~this.observers_.indexOf(rs)||this.observers_.push(rs),this.connected_||this.connect_()},ts.prototype.removeObserver=function(rs){var ns=this.observers_,os=ns.indexOf(rs);~os&&ns.splice(os,1),!ns.length&&this.connected_&&this.disconnect_()},ts.prototype.refresh=function(){var rs=this.updateObservers_();rs&&this.refresh()},ts.prototype.updateObservers_=function(){var rs=this.observers_.filter(function(ns){return ns.gatherActive(),ns.hasActive()});return rs.forEach(function(ns){return ns.broadcastActive()}),rs.length>0},ts.prototype.connect_=function(){!isBrowser||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),mutationObserverSupported?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},ts.prototype.disconnect_=function(){!isBrowser||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},ts.prototype.onTransitionEnd_=function(rs){var ns=rs.propertyName,os=ns===void 0?"":ns,ss=transitionKeys.some(function(as){return!!~os.indexOf(as)});ss&&this.refresh()},ts.getInstance=function(){return this.instance_||(this.instance_=new ts),this.instance_},ts.instance_=null,ts}(),defineConfigurable=function(ts,rs){for(var ns=0,os=Object.keys(rs);ns<os.length;ns++){var ss=os[ns];Object.defineProperty(ts,ss,{value:rs[ss],enumerable:!1,writable:!1,configurable:!0})}return ts},getWindowOf=function(ts){var rs=ts&&ts.ownerDocument&&ts.ownerDocument.defaultView;return rs||global$1},emptyRect=createRectInit(0,0,0,0);function toFloat(ts){return parseFloat(ts)||0}function getBordersSize(ts){for(var rs=[],ns=1;ns<arguments.length;ns++)rs[ns-1]=arguments[ns];return rs.reduce(function(os,ss){var as=ts["border-"+ss+"-width"];return os+toFloat(as)},0)}function getPaddings(ts){for(var rs=["top","right","bottom","left"],ns={},os=0,ss=rs;os<ss.length;os++){var as=ss[os],ls=ts["padding-"+as];ns[as]=toFloat(ls)}return ns}function getSVGContentRect(ts){var rs=ts.getBBox();return createRectInit(0,0,rs.width,rs.height)}function getHTMLElementContentRect(ts){var rs=ts.clientWidth,ns=ts.clientHeight;if(!rs&&!ns)return emptyRect;var os=getWindowOf(ts).getComputedStyle(ts),ss=getPaddings(os),as=ss.left+ss.right,ls=ss.top+ss.bottom,cs=toFloat(os.width),us=toFloat(os.height);if(os.boxSizing==="border-box"&&(Math.round(cs+as)!==rs&&(cs-=getBordersSize(os,"left","right")+as),Math.round(us+ls)!==ns&&(us-=getBordersSize(os,"top","bottom")+ls)),!isDocumentElement(ts)){var ds=Math.round(cs+as)-rs,ps=Math.round(us+ls)-ns;Math.abs(ds)!==1&&(cs-=ds),Math.abs(ps)!==1&&(us-=ps)}return createRectInit(ss.left,ss.top,cs,us)}var isSVGGraphicsElement=function(){return typeof SVGGraphicsElement<"u"?function(ts){return ts instanceof getWindowOf(ts).SVGGraphicsElement}:function(ts){return ts instanceof getWindowOf(ts).SVGElement&&typeof ts.getBBox=="function"}}();function isDocumentElement(ts){return ts===getWindowOf(ts).document.documentElement}function getContentRect(ts){return isBrowser?isSVGGraphicsElement(ts)?getSVGContentRect(ts):getHTMLElementContentRect(ts):emptyRect}function createReadOnlyRect(ts){var rs=ts.x,ns=ts.y,os=ts.width,ss=ts.height,as=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,ls=Object.create(as.prototype);return defineConfigurable(ls,{x:rs,y:ns,width:os,height:ss,top:ns,right:rs+os,bottom:ss+ns,left:rs}),ls}function createRectInit(ts,rs,ns,os){return{x:ts,y:rs,width:ns,height:os}}var ResizeObservation=function(){function ts(rs){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=createRectInit(0,0,0,0),this.target=rs}return ts.prototype.isActive=function(){var rs=getContentRect(this.target);return this.contentRect_=rs,rs.width!==this.broadcastWidth||rs.height!==this.broadcastHeight},ts.prototype.broadcastRect=function(){var rs=this.contentRect_;return this.broadcastWidth=rs.width,this.broadcastHeight=rs.height,rs},ts}(),ResizeObserverEntry=function(){function ts(rs,ns){var os=createReadOnlyRect(ns);defineConfigurable(this,{target:rs,contentRect:os})}return ts}(),ResizeObserverSPI=function(){function ts(rs,ns,os){if(this.activeObservations_=[],this.observations_=new MapShim,typeof rs!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=rs,this.controller_=ns,this.callbackCtx_=os}return ts.prototype.observe=function(rs){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(rs instanceof getWindowOf(rs).Element))throw new TypeError('parameter 1 is not of type "Element".');var ns=this.observations_;ns.has(rs)||(ns.set(rs,new ResizeObservation(rs)),this.controller_.addObserver(this),this.controller_.refresh())}},ts.prototype.unobserve=function(rs){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(rs instanceof getWindowOf(rs).Element))throw new TypeError('parameter 1 is not of type "Element".');var ns=this.observations_;ns.has(rs)&&(ns.delete(rs),ns.size||this.controller_.removeObserver(this))}},ts.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},ts.prototype.gatherActive=function(){var rs=this;this.clearActive(),this.observations_.forEach(function(ns){ns.isActive()&&rs.activeObservations_.push(ns)})},ts.prototype.broadcastActive=function(){if(this.hasActive()){var rs=this.callbackCtx_,ns=this.activeObservations_.map(function(os){return new ResizeObserverEntry(os.target,os.broadcastRect())});this.callback_.call(rs,ns,rs),this.clearActive()}},ts.prototype.clearActive=function(){this.activeObservations_.splice(0)},ts.prototype.hasActive=function(){return this.activeObservations_.length>0},ts}(),observers=typeof WeakMap<"u"?new WeakMap:new MapShim,ResizeObserver$1=function(){function ts(rs){if(!(this instanceof ts))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var ns=ResizeObserverController.getInstance(),os=new ResizeObserverSPI(rs,ns,this);observers.set(this,os)}return ts}();["observe","unobserve","disconnect"].forEach(function(ts){ResizeObserver$1.prototype[ts]=function(){var rs;return(rs=observers.get(this))[ts].apply(rs,arguments)}});(function(){return typeof global$1.ResizeObserver<"u"?global$1.ResizeObserver:ResizeObserver$1})();createCommonjsModule(function(ts,rs){(function(ns,os){os(rs)})(commonjsGlobal,function(ns){function os(as,ls,cs,us){var ds,ps=!1,fs=0;function hs(){ds&&clearTimeout(ds)}function ms(){hs(),ps=!0}typeof ls!="boolean"&&(us=cs,cs=ls,ls=void 0);function gs(){for(var vs=arguments.length,bs=new Array(vs),xs=0;xs<vs;xs++)bs[xs]=arguments[xs];var ys=this,Ss=Date.now()-fs;if(ps)return;function Cs(){fs=Date.now(),cs.apply(ys,bs)}function $s(){ds=void 0}us&&!ds&&Cs(),hs(),us===void 0&&Ss>as?Cs():ls!==!0&&(ds=setTimeout(us?$s:Cs,us===void 0?as-Ss:as))}return gs.cancel=ms,gs}function ss(as,ls,cs){return cs===void 0?os(as,ls,!1):os(as,cs,ls!==!1)}ns.debounce=ss,ns.throttle=os,Object.defineProperty(ns,"__esModule",{value:!0})})});const sortedRatios=["slim","r1by2","r2by3","r1by1","r4by3","r3by2","r16by9"],ratioStyles={1:"grid-template: 1fr / 1fr;","1.slim":"grid-template: repeat(2, 1fr) / 1fr;","1.r2by3":"grid-template: 1fr / 1fr;","1.featured":'grid-template: "ft" 1fr / 1fr;',2:"grid-template: 1fr / repeat(2,1fr);","2.slim":"grid-template: repeat(3,1fr) / 1fr;","2.r1by2":"grid-template: repeat(2,1fr) / 1fr;","2.r2by3":"grid-template: repeat(2,1fr) / 1fr;","2.r4by3":"grid-template: repeat(2,1fr) / repeat(2,1fr);","2.r16by9":"grid-template: 1fr / repeat(2,1fr);","2.featured":"grid-template: repeat(3,1fr) / repeat(2,1fr);\n  grid-template-areas: 'ft ft' 'ft ft';","2.r16by9.featured":"grid-template: repeat(2,1fr) / repeat(3,1fr);\n    grid-template-areas: 'ft ft v' 'ft ft v' 'ft ft v';",3:"grid-template: repeat(3,1fr) / 1fr;","3.r2by3":"grid-template: repeat(3,1fr) / repeat(1,1fr);","3.r1by1":"grid-template: repeat(2,1fr) / repeat(2,1fr);","3.featured":"grid-template: repeat(3,1fr) / repeat(2,1fr);\n    grid-template-areas: 'ft ft' 'ft ft';\n  ","3.r16by9.featured":"grid-template: repeat(2,1fr) / repeat(3,1fr);\n    grid-template-areas: 'ft ft v' 'ft ft v';",4:"grid-template: repeat(2,1fr) / repeat(2,1fr);","4.slim":"grid-template: repeat(4,1fr) / 1fr;","4.r2by3":"grid-template: repeat(2,1fr) / repeat(2,1fr);","4.featured":"grid-template: repeat(3,1fr) / repeat(3,1fr);\n    grid-template-areas: 'ft ft ft' 'ft ft ft';","4.r16by9.featured":"grid-template-areas: 'ft ft v' 'ft ft v' 'ft ft v';",5:"grid-template: repeat(2,1fr) / repeat(3,1fr);","5.slim":"grid-template: repeat(5,1fr) / 1fr;","5.r1by2":"grid-template: repeat(3,1fr) / repeat(2,1fr);","5.r2by3":"grid-template: repeat(3,1fr) / repeat(2,1fr);","5.r3by2":"grid-template: repeat(2,1fr) / repeat(3,1fr);","5.r16by9":"grid-template: repeat(2,1fr) / repeat(3,1fr);","5.featured":"grid-template: repeat(4,1fr) / repeat(2,1fr);\n    grid-template-areas: 'ft ft' 'ft ft';","5.r1by1.featured":"grid-template: repeat(3,1fr) / repeat(3,1fr);\n    grid-template-areas: 'ft ft v' 'ft ft v';",6:"grid-template: repeat(3,1fr) / repeat(3,1fr);","6.slim":"grid-template: repeat(4,1fr) / repeat(2,1fr);","6.r1by2":"grid-template: repeat(3,1fr) / repeat(2,1fr);","6.r1by1":"grid-template: repeat(3,1fr) / repeat(2,1fr);","6.r2by3":"grid-template: repeat(3,1fr) / repeat(2,1fr);","6.r3by2":"grid-template: repeat(2,1fr) / repeat(3,1fr);","6.r16by9":"grid-template: repeat(2,1fr) / repeat(3,1fr);","6.featured":"grid-template: repeat(4,1fr) / repeat(3,1fr);\n    grid-template-areas: 'ft ft ft' 'ft ft ft';","6.r1by1.featured":"grid-template: repeat(3,1fr) / repeat(3,1fr);\n    grid-template-areas: 'ft ft v' 'ft ft v';",7:"grid-template: repeat(3,1fr) / repeat(3,1fr);","7.slim":"grid-template: repeat(4,1fr) / repeat(2,1fr);","7.r4by3":"grid-template: repeat(3,1fr) / repeat(3,1fr);","7.r16by9":"grid-template: repeat(2,1fr) / repeat(4,1fr);","7.featured":"grid-template: repeat(4,1fr) / repeat(3,1fr);\n    grid-template-areas: 'ft ft ft' 'ft ft ft';","7.r1by1.featured":"grid-template: repeat(4,1fr) / repeat(4,1fr);\n    grid-template-areas: 'ft ft ft v' 'ft ft ft v' 'ft ft ft v';",8:"grid-template: repeat(3,1fr) / repeat(3,1fr);","8.slim":"grid-template: repeat(4,1fr) / repeat(2,1fr);","8.r4by3":"grid-template: repeat(3,1fr) / repeat(3,1fr);","8.r16by9":"grid-template: repeat(2,1fr) / repeat(4,1fr);","8.featured":"grid-template: repeat(5,1fr) / repeat(4,1fr);\n    grid-template-areas: 'ft ft ft ft ft' 'ft ft ft ft ft' 'ft ft ft ft ft';","8.r1by1.featured":"grid-template: repeat(4,1fr) / repeat(4,1fr);\n    grid-template-areas: 'ft ft ft v' 'ft ft ft v' 'ft ft ft x';","8.r16by9.featured":"grid-template-areas: 'ft ft ft v' 'ft ft ft v' 'ft ft ft x';",9:"grid-template: repeat(3,1fr) / repeat(3,1fr);","9.slim":"grid-template: repeat(5,1fr) / repeat(2,1fr);","9.r1by1":"grid-template: repeat(3,1fr) / repeat(3,1fr);","9.r16by9":"grid-template: repeat(3,1fr) / repeat(4,1fr);","9.featured":"grid-template: repeat(5,1fr) / repeat(4,1fr);\n    grid-template-areas: 'ft ft ft ft ft' 'ft ft ft ft ft' 'ft ft ft ft ft';","9.r1by1.featured":"grid-template: repeat(5,1fr) / repeat(5,1fr);\n    grid-template-areas: 'ft ft ft ft v' 'ft ft ft ft v' 'ft ft ft ft v' 'ft ft ft ft v';",10:"grid-template: repeat(4,1fr) / repeat(3,1fr);","10.slim":"grid-template: repeat(5,1fr) / repeat(2,1fr);","10.r1by1":"grid-template: repeat(4,1fr) / repeat(3,1fr);","10.r3by2":"grid-template: repeat(3,1fr) / repeat(4,1fr);","10.featured":"grid-template: repeat(5,1fr) / repeat(4,1fr);\n    grid-template-areas: 'ft ft ft ft ft' 'ft ft ft ft ft' 'ft ft ft ft ft';","10.r1by1.featured":"grid-template: repeat(5,1fr) / repeat(5,1fr);\n    grid-template-areas: 'ft ft ft ft v' 'ft ft ft ft v' 'ft ft ft ft v' 'ft ft ft ft v';",11:"grid-template: repeat(4,1fr) / repeat(3,1fr);","11.slim":"grid-template: repeat(6,1fr) / repeat(2,1fr);","11.r1by1":"grid-template: repeat(4,1fr) / repeat(3,1fr);","11.r3by2":"grid-template: repeat(3,1fr) / repeat(4,1fr);","11.r16by9":"grid-template: repeat(3,1fr) / repeat(4,1fr);","11.featured":"grid-template: repeat(6,1fr) / repeat(6,1fr);\n    grid-template-areas: 'ft ft ft ft ft ft' 'ft ft ft ft ft ft' 'ft ft ft ft ft ft' 'ft ft ft ft ft ft';","11.r1by1.featured":"grid-template-areas:\n      'ft ft ft ft ft v' 'ft ft ft ft ft v' 'ft ft ft ft ft v'\n      'ft ft ft ft ft v' 'ft ft ft ft ft x';",12:"grid-template: repeat(4,1fr) / repeat(3,1fr);","12.slim":"grid-template: repeat(6,1fr) / repeat(2,1fr);","12.r2by3":"grid-template: repeat(4,1fr) / repeat(3,1fr);","12.r3by2":"grid-template: repeat(3,1fr) / repeat(4,1fr);","12.featured":"grid-template: repeat(6,1fr) / repeat(6,1fr);\n    grid-template-areas:\n      'ft ft ft ft ft ft' 'ft ft ft ft ft ft' 'ft ft ft ft ft ft'\n      'ft ft ft ft ft ft';","12.r1by1.featured":"grid-template-areas:\n    'ft ft ft ft ft v' 'ft ft ft ft ft v' 'ft ft ft ft ft v'\n    'ft ft ft ft ft v' 'ft ft ft ft ft x';",13:"grid-template: repeat(4,1fr) / repeat(4,1fr);","13.slim":"grid-template: repeat(7,1fr) / repeat(2,1fr);","13.r2by3":"grid-template: repeat(5,1fr) / repeat(3,1fr);","13.r1by1":"grid-template: repeat(4,1fr) / repeat(4,1fr);","13.r3by2":"grid-template: repeat(4,1fr) / repeat(4,1fr);","13.r16by9":"grid-template: repeat(3,1fr) / repeat(5,1fr);","13.featured":"grid-template: repeat(7,1fr) / repeat(6,1fr);\n    grid-template-areas:\n      'ft ft ft ft ft ft' 'ft ft ft ft ft ft' 'ft ft ft ft ft ft' 'ft ft ft ft ft ft'\n      'ft ft ft ft ft ft';","13.r1by1.featured":"grid-template-areas:\n      'ft ft ft ft ft v' 'ft ft ft ft ft v' 'ft ft ft ft ft v' 'ft ft ft ft ft v'\n      'ft ft ft ft ft v' 'ft ft ft ft ft x';",14:"grid-template: repeat(4,1fr) / repeat(4,1fr);","14.slim":"grid-template: repeat(7,1fr) / repeat(2,1fr);","14.r2by3":"grid-template: repeat(5,1fr) / repeat(3,1fr);","14.r3by2":"grid-template: repeat(4,1fr) / repeat(4,1fr);","14.r16by9":"grid-template: repeat(3,1fr) / repeat(5,1fr);","14.featured":"grid-template: repeat(7,1fr) / repeat(7,1fr);\n    grid-template-areas:\n      'ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft'\n      'ft ft ft ft ft ft ft';","14.r1by1.featured":"grid-template-areas:\n      'ft ft ft ft ft ft v' 'ft ft ft ft ft ft v' 'ft ft ft ft ft ft v' 'ft ft ft ft ft ft v'\n      'ft ft ft ft ft ft v' 'ft ft ft ft ft ft x';",15:"grid-template: repeat(5,1fr) / repeat(3,1fr);","15.slim":"grid-template: repeat(8,1fr) / repeat(2,1fr);","15.r1by2":"grid-template: repeat(5,1fr) / repeat(3,1fr);","15.r3by2":"grid-template: repeat(4,1fr) / repeat(4,1fr);","15.r16by9":"grid-template: repeat(3,1fr) / repeat(5,1fr);","15.featured":"grid-template: repeat(8,1fr) / repeat(8,1fr);\n    grid-template-areas:\n     'ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft'\n     'ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft';","15.r1by1.featured":"grid-template-areas:\n     'ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft v'\n     'ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft x';",16:"grid-template: repeat(4,1fr) / repeat(4,1fr);","16.slim":"grid-template: repeat(8,1fr) / repeat(2,1fr);","16.r1by2":"grid-template: repeat(6,1fr) / repeat(3,1fr);","16.r1by1":"grid-template: repeat(4,1fr) / repeat(4,1fr);","16.featured":"grid-template: repeat(8,1fr) / repeat(8,1fr);\n    grid-template-areas:\n      'ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft'\n      'ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft';","16.r1by1.featured":"grid-template-areas:\n      'ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft v'\n      'ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft x';",17:"grid-template: repeat(5,1fr) / repeat(4,1fr);","17.slim":"grid-template: repeat(8,1fr) / repeat(3,1fr);","17.r1by2":"grid-template: repeat(6,1fr) / repeat(4,1fr);","17.r1by1":"grid-template: repeat(4,1fr) / repeat(5,1fr);","17.featured":"grid-template: repeat(8,1fr) / repeat(9,1fr);\n    grid-template-areas:\n      'ft ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft ft'\n      'ft ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft ft';","17.r1by1.featured":"grid-template-areas:\n      'ft ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft ft v'\n      'ft ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft ft x';",18:"grid-template: repeat(5,1fr) / repeat(4,1fr);","18.slim":"grid-template: repeat(8,1fr) / repeat(3,1fr);","18.r1by2":"grid-template: repeat(6,1fr) / repeat(4,1fr);","18.r1by1":"grid-template: repeat(4,1fr) / repeat(5,1fr);","18.featured":"grid-template: repeat(8,1fr) / repeat(9,1fr);\n    grid-template-areas:\n      'ft ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft ft'\n      'ft ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft ft';","18.r1by1.featured":"grid-template: repeat(9,1fr) / repeat(9,1fr);\n    grid-template-areas:\n      'ft ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft ft v'\n      'ft ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft ft x';",19:"grid-template: repeat(5,1fr) / repeat(4,1fr);","19.slim":"grid-template: repeat(8,1fr) / repeat(3,1fr);","19.r1by2":"grid-template: repeat(6,1fr) / repeat(4,1fr);","19.r1by1":"grid-template: repeat(4,1fr) / repeat(5,1fr);","19.featured":"grid-template: repeat(8,1fr) / repeat(9,1fr);\n    grid-template-areas:\n      'ft ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft ft'\n      'ft ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft ft';","19.r1by1.featured":"grid-template: repeat(9,1fr) / repeat(10,1fr);\n    grid-template-areas:\n      'ft ft ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft ft ft v' \n      'ft ft ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft ft ft v' \n      'ft ft ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft ft ft x';",20:"grid-template: repeat(5,1fr) / repeat(4,1fr);","20.slim":"grid-template: repeat(8,1fr) / repeat(3,1fr);","20.r1by2":"grid-template: repeat(6,1fr) / repeat(4,1fr);","20.r1by1":"grid-template: repeat(4,1fr) / repeat(5,1fr);","20.featured":"grid-template: repeat(11,1fr) / repeat(7,1fr);\n    grid-template-areas:\n      'ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft' \n      'ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft';","20.r1by1.featured":"grid-template: repeat(10,1fr) / repeat(10,1fr);\n    grid-template-areas:\n      'ft ft ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft ft ft v' \n      'ft ft ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft ft ft v' \n      'ft ft ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft ft ft x';",21:"grid-template: repeat(5,1fr) / repeat(5,1fr);","21.slim":"grid-template: repeat(8,1fr) / repeat(3,1fr);","21.r1by2":"grid-template: repeat(6,1fr) / repeat(4,1fr);","21.r1by1":"grid-template: repeat(5,1fr) / repeat(5,1fr);","21.featured":"grid-template: repeat(11,1fr) / repeat(7,1fr);\n    grid-template-areas:\n      'ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft' \n      'ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft';","21.r1by1.featured":"grid-template: repeat(8,1fr) / repeat(7,1fr);\n    grid-template-areas:\n      'ft ft ft ft ft ft v' 'ft ft ft ft ft ft v' 'ft ft ft ft ft ft v'  \n      'ft ft ft ft ft ft v' 'ft ft ft ft ft ft v' 'ft ft ft ft ft ft x';",22:"grid-template: repeat(5,1fr) / repeat(5,1fr);","22.slim":"grid-template: repeat(8,1fr) / repeat(3,1fr);","22.r1by2":"grid-template: repeat(6,1fr) / repeat(4,1fr);","22.r1by1":"grid-template: repeat(5,1fr) / repeat(5,1fr);","22.featured":"grid-template: repeat(11,1fr) / repeat(7,1fr);\n    grid-template-areas:\n      'ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft' \n      'ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft';","22.r1by1.featured":"grid-template: repeat(9,1fr) / repeat(7,1fr);\n    grid-template-areas:\n      'ft ft ft ft ft ft v' 'ft ft ft ft ft ft v' 'ft ft ft ft ft ft v' 'ft ft ft ft ft ft v' \n      'ft ft ft ft ft ft v' 'ft ft ft ft ft ft v' 'ft ft ft ft ft ft x';",23:"grid-template: repeat(5,1fr) / repeat(5,1fr);","23.slim":"grid-template: repeat(8,1fr) / repeat(3,1fr);","23.r1by2":"grid-template: repeat(6,1fr) / repeat(4,1fr);","23.r1by1":"grid-template: repeat(5,1fr) / repeat(5,1fr);","23.featured":"grid-template: repeat(11,1fr) / repeat(8,1fr);\n    grid-template-areas:\n      'ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft' \n      'ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft';","23.r1by1.featured":"grid-template: repeat(8,1fr) / repeat(8,1fr);\n    grid-template-areas:\n      'ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft v'  \n      'ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft x';",24:"grid-template: repeat(5,1fr) / repeat(5,1fr);","24.slim":"grid-template: repeat(8,1fr) / repeat(3,1fr);","24.r1by2":"grid-template: repeat(6,1fr) / repeat(4,1fr);","24.r1by1":"grid-template: repeat(5,1fr) / repeat(5,1fr);","24.featured":"grid-template: repeat(11,1fr) / repeat(8,1fr);\n    grid-template-areas:\n      'ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft' \n      'ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft';","24.r1by1.featured":"grid-template: repeat(9,1fr) / repeat(8,1fr);\n    grid-template-areas:\n      'ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft v' \n      'ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft x';",25:"grid-template: repeat(5,1fr) / repeat(5,1fr);","25.slim":"grid-template: repeat(9,1fr) / repeat(3,1fr);","25.r1by2":"grid-template: repeat(7,1fr) / repeat(4,1fr);","25.r1by1":"grid-template: repeat(5,1fr) / repeat(5,1fr);","25.featured":"grid-template: repeat(11,1fr) / repeat(8,1fr);\n    grid-template-areas:\n      'ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft' \n      'ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft';","25.r1by1.featured":"grid-template: repeat(10,1fr) / repeat(8,1fr);\n    grid-template-areas:\n      'ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft v' \n      'ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft x';",26:"grid-template: repeat(6,1fr) / repeat(5,1fr);","26.slim":"grid-template: repeat(9,1fr) / repeat(3,1fr);","26.r1by2":"grid-template: repeat(7,1fr) / repeat(4,1fr);","26.r1by1":"grid-template: repeat(6,1fr) / repeat(5,1fr);","26.featured":"grid-template: repeat(11,1fr) / repeat(9,1fr);\n    grid-template-areas:\n      'ft ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft ft'\n      'ft ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft ft' 'ft ft ft ft ft ft ft ft ft';","26.r1by1.featured":"grid-template: repeat(9,1fr) / repeat(9,1fr);\n    grid-template-areas:\n      'ft ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft ft v' \n      'ft ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft ft v' 'ft ft ft ft ft ft ft ft x';"},responsiveStyles={"2.featured":"\n    @media (max-width: 600px) {\n      grid-template-columns: 1fr;\n      grid-template-rows: calc(100% / 3);\n      grid-auto-rows: calc(100% / 3);\n    }\n  ","3.r16by9":"\n    @media (max-height: 600px) {\n      grid-template-rows: repeat(2,1fr);\n      grid-template-columns: 50%;\n      grid-auto-columns: 50%;\n      grid-auto-flow: column;\n    }\n  ","3.featured":"\n    @media (max-width: 600px) {\n      grid-template-areas: 'ft' 'ft';\n      grid-template-columns: 1fr;\n      grid-template-rows: 25%;\n      grid-auto-rows: 25%;\n    }\n  ","4.r16by9":"\n    @media (max-height: 600px) {\n      grid-template-rows: repeat(2,1fr);\n      grid-template-columns: 50%;\n      grid-auto-columns: 50%;\n      grid-auto-flow: column;\n    }\n  ","5.r16by9":"grid-template: repeat(2,1fr) / repeat(3,1fr);\n    @media (max-height: 600px) {\n      grid-template-rows: repeat(2,1fr);\n      grid-template-columns: calc(100% / 3);\n      grid-auto-columns: calc(100% / 3);\n      grid-auto-flow: column;\n    }\n  ","6.r16by9":"grid-template: repeat(2,1fr) / repeat(3,1fr);\n    @media (max-height: 600px) {\n      grid-template-rows: repeat(2,1fr);\n      grid-template-columns: calc(100% / 3);\n      grid-auto-columns: calc(100% / 3);\n      grid-auto-flow: column;\n    }\n  ","7.r16by9":"\n    @media (max-height: 600px) {\n      grid-template-rows: repeat(2,1fr);\n      grid-template-columns: 25%;\n      grid-auto-columns: 25%;\n      grid-auto-flow: column;\n    }\n  "},portraitStyles="\n  @media (max-width: 600px) {\n    grid-template-areas: 'ft ft' 'ft ft';\n    grid-template-columns: repeat(2,1fr);\n    grid-template-rows: 25%;\n    grid-auto-rows: 25%;\n  }\n",landscapeStyles="\n  @media (max-height: 600px) {\n    grid-template-areas: 'ft ft' 'ft ft';\n    grid-template-rows: repeat(2,1fr);\n    grid-template-columns: 25%;\n    grid-auto-columns: 25%;\n    grid-auto-flow: column;\n  }\n";var Sx;styled.div(Sx||(Sx=zl(["\n  position: relative;\n  display: grid;\n  height: 100%;\n  width: 100%;\n  overflow: auto;\n  background-color: ",";\n\n  ","\n  ",";\n"])),ts=>ts.theme.videoGrid.bgd,({size:ts,featured:rs})=>ratioStyles["".concat(ts).concat(rs?".featured":"")]||"",({size:ts,featured:rs,ratio:ns})=>{if(!ns)return;let os="";const ss=sortedRatios.indexOf(ns);for(let ls=0;ls<=ss;ls++){const cs=sortedRatios[ls],us=ratioStyles["".concat(ts,".").concat(cs).concat(rs?".featured":"")];os+=us||""}const as=responsiveStyles["".concat(ts,".").concat(ns).concat(rs?".featured":"")]||responsiveStyles["".concat(ts).concat(rs?".featured":"")];return as?os+=as:ns==="r16by9"&&(ts>7||rs)?os+=landscapeStyles:(ts>7||rs)&&(os+=portraitStyles),os});const GridContext=reactExports.createContext(null),useGridData=()=>reactExports.useContext(GridContext);var Cx;const StyledVideoTile=styled.div(Cx||(Cx=zl(["\n  height: 100%;\n  width: 100%;\n  position: relative;\n  background: ",";\n\n  video {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    width: 100%;\n    height: 100%;\n    object-fit: ","};\n  }\n\n  .ch-icon {\n    width: 1.5rem;\n    height: 1.5rem;\n    display: inline-block;\n    background-color: papayawhip; /* TODO: figure out what this is supposed to be */\n    margin-right: 0.5rem;\n    flex: 0 0 1.5rem;\n  }\n\n  .ch-nameplate {\n    backdrop-filter: blur(20px);\n    background-color: rgba(46, 47, 52, 0.85);\n    border-radius: 0.25rem;\n    bottom: 0.5rem;\n    color: ",";\n    left: 0.5rem;\n    max-width: calc(100% - 2rem);\n    padding: 0.5rem;\n    position: absolute;\n\n    div {\n      ",";\n      display: flex;\n      align-items: center;\n    }\n\n    .ch-text {\n      font-size: ",";\n      ",";\n      margin: 0;\n    }\n  }\n\n  ","\n  ","\n"])),ts=>ts.theme.colors.greys.grey100,ts=>ts.objectFit||"cover",ts=>ts.theme.colors.greys.white,ellipsis,ts=>ts.theme.fontSizes.text.fontSize,ellipsis,baseSpacing,baseStyles),VideoTile=reactExports.forwardRef((ts,rs)=>{const{tag:ns,className:os,nameplate:ss}=ts,as=__rest(ts,["tag","className","nameplate"]);return React$2.createElement(StyledVideoTile,Object.assign({as:ns,className:os||"","data-testid":"video-tile"},as),React$2.createElement("video",{ref:rs,className:"ch-video"}),ss&&React$2.createElement("header",{className:"ch-nameplate"},React$2.createElement("p",{className:"ch-text"},ss)))});var $x;styled.div($x||($x=zl(["\n  display: grid;\n  width: 100%;\n  height: 100%;\n\n  ","\n  ","\n  ","\n\n  ","\n\n  ","\n"])),grid,baseSpacing,baseStyles,({responsive:ts,theme:rs})=>ts?"\n    ".concat(rs.mediaQueries.max.md," {\n      grid-template-columns: 1fr 1fr;\n    }\n\n    ").concat(rs.mediaQueries.max.sm," {\n      grid-template-columns: 1fr;\n    }\n  "):"",ts=>ts.css||"");var Ex;styled.div(Ex||(Ex=zl(["\n  ","\n  ","\n\n  ","\n"])),baseSpacing,grid,ts=>ts.css||"");var _x;styled.aside(_x||(_x=zl(["\n  width: 100%;\n  height: 100%;\n  padding-bottom: 1rem;\n  overflow-y: auto;\n  background-color: ",";\n  box-shadow: 1rem 1rem 3.75rem 0 rgba(0, 0, 0, 0.1);\n  border-left: 0.0625rem solid ",";\n  border-right: 0.0625rem solid ",";\n\n  "," {\n    width: ",";\n  }\n\n  ","\n  ","\n"])),ts=>ts.theme.roster.bgd,ts=>ts.theme.roster.containerBorder,ts=>ts.theme.roster.containerBorder,({theme:ts})=>ts.mediaQueries.min.md,ts=>ts.theme.roster.maxWidth,baseSpacing,baseStyles);var wx;styled.span(wx||(wx=zl(["\n  display: inline-block;\n  margin: 0 0.625rem 0 0;\n  font-weight: 600;\n  font-size: 0.675rem;\n  color: ",";\n"])),ts=>ts.theme.roster.secondaryText);var Tx;styled.div(Tx||(Tx=zl(["\n  margin: 0 0.5rem;\n\n  & + & {\n    margin-top: 1rem;\n  }\n\n  ","\n  ","\n"])),baseSpacing,baseStyles);var Rx;styled.div(Rx||(Rx=zl(["\n  background-color: ",";\n  border-radius: ",";\n\n  ","\n  ","\n"])),ts=>ts.theme.roster.fgd,ts=>ts.theme.radii.default,baseSpacing,baseStyles);var Ix;styled.div(Ix||(Ix=zl(["\n  position: relative;\n  display: flex;\n  align-items: center;\n  padding: 0.75rem 1rem;\n  margin-bottom: 0.5rem;\n  border-bottom: 0.0625rem solid ",";\n\n  .ch-title {\n    font-size: 0.875rem;\n    color: ",";\n    ","\n    ",";\n  }\n\n  .ch-badge {\n    margin-left: 0.5rem;\n    ","\n  }\n\n  .ch-buttons {\n    margin-left: auto;\n    display: flex;\n\n    > * {\n      margin-left: 0.5rem;\n    }\n\n    ","\n  }\n\n  .ch-search-wrapper {\n    position: absolute !important;\n    bottom: 0.75rem;\n    left: 0.5rem;\n    right: 0.5rem;\n\n    .ch-search-input {\n      flex: 1;\n\n      input {\n        width: 100%;\n      }\n    }\n\n    .ch-search-close {\n      margin-left: 0.5rem;\n    }\n  }\n\n  .ch-navigation-icon {\n    margin-right: 0.5rem;\n    margin-left: -0.5rem;\n\n    "," {\n      display: none;\n    }\n  }\n\n  ","\n  ","\n"])),ts=>ts.theme.roster.headerBorder,ts=>ts.theme.roster.primaryText,ts=>ts.isSearching?"opacity: 0;":"",ellipsis,ts=>ts.isSearching?"opacity: 0;":"",ts=>ts.isSearching?"opacity: 0;":"",({theme:ts})=>ts.mediaQueries.min.md,baseSpacing,baseStyles);var Px;styled.div(Px||(Px=zl(["\n  flex-grow: 1;\n  min-width: 0;\n  line-height: 1.5;\n\n  .ch-name {\n    ",";\n    font-size: 0.875rem;\n    color: ",";\n  }\n\n  .ch-subtitle {\n    ",";\n    font-size: 0.65rem;\n    color: ",";\n  }\n"])),ellipsis,ts=>ts.theme.roster.primaryText,ellipsis,ts=>ts.theme.roster.secondaryText);var kx;styled.div(kx||(kx=zl(["\n  display: flex;\n  align-items: center;\n  padding: 0.625rem 1rem;\n\n  .ch-mic {\n    flex-shrink: 0;\n    width: 1.5rem;\n    line-height: 0;\n\n    ","\n  }\n\n  .ch-menu {\n    color: ",";\n\n    &:hover,\n    &:focus {\n      color: ",";\n    }\n  }\n\n  svg {\n    width: 1.5rem;\n    flex-shrink: 0;\n  }\n\n  > * {\n    margin-right: 0.5rem;\n  }\n\n  > :last-child {\n    margin-right: 0;\n  }\n\n  ","\n  ","\n"])),({micPosition:ts})=>ts==="leading"?"\n        order: -1;\n        margin-right: .75rem;\n      ":"",ts=>ts.theme.buttons.icon.hover.bgd,ts=>ts.theme.buttons.icon.hover.text,baseSpacing,baseStyles);var Ax;styled.div(Ax||(Ax=zl(["\n  display: flex;\n  align-items: center;\n  white-space: nowrap;\n  font-size: 0.65rem;\n  color: ",";\n\n  > svg {\n    margin-right: 0.25rem;\n    color: ",";\n  }\n"])),({theme:ts})=>ts.roster.secondaryText,({theme:ts})=>ts.roster.secondaryText);reactExports.createContext(null);var Mx;styled.div(Mx||(Mx=zl(["\n  z-index: ",";\n  visibility: ",";\n\n  &.ch-active {\n    animation: "," 0.25s ease 0s forwards;\n  }\n"])),ts=>ts.isActive?ts.theme.zIndex.controlBar:"-10",ts=>ts.isActive?"visible":"hidden",fadeAnimation);var Dx;styled.ul(Dx||(Dx=zl(["\n  display: flex;\n  flex-direction: column;\n  width: 20rem;\n\n  ","\n  ","\n"])),baseStyles,baseSpacing);var Ox;styled.li(Ox||(Ox=zl(["\n  position: relative;\n\n  ",";\n  ",";\n\n  & .ch-channel-button {\n    width: 100%;\n    height: 100%;\n    padding: 11px 0;\n    background-color: ",";\n    border: none;\n    border-radius: unset;\n    justify-content: left;\n    padding-left: 1rem;\n    color: ",";\n    border: ",";\n    font-family: ",";\n\n    &:hover {\n      background-color: ",";\n    }\n\n    &:active {\n      background-color: ",";\n      color: ",";\n    }\n\n    &:focus {\n      border: ",";\n    }\n  }\n\n  & .ch-label {\n    padding-left: 1.5rem;\n  }\n\n  & .ch-unread-badge {\n    display: ",";\n    position: absolute;\n    z-index: 2;\n    top: 12px;\n    left: 5px;\n    background-color: ",";\n  }\n\n  &.ch-unread .ch-channel-button {\n    font-weight: bold;\n  }\n\n  &.ch-selected .ch-channel-button {\n    background-color: ",";\n    color: ",";\n\n    &:focus {\n      border: ",";\n    }\n  }\n\n  & .ch-popover-toggle {\n    position: absolute;\n    right: 1rem;\n    margin: 0.5rem 0;\n    height: 1.5rem;\n    border-radius: 50%;\n\n    .ch-channel-actions {\n      border: 1px solid transparent;\n    }\n\n    & g {\n      fill: ",";\n    }\n\n    & button:focus .ch-channel-actions {\n      border: ",";\n      border-radius: 50%;\n    }\n\n    &:hover,\n    &:active {\n      background-color: ",";\n\n      & g {\n        fill: ",";\n      }\n    }\n  }\n\n  & .ch-detailed-channel {\n    display: grid;\n    grid-template-rows: 17px 1fr max-content;\n    grid-gap: 16px;\n    padding: 10px 20px;\n    background-color: ",";\n    color: ",";\n    border-bottom: 0.5px solid #d3d3d3;\n    font-family: ",";\n\n    &:hover {\n      background-color: ",";\n    }\n\n    &:active {\n      background-color: ",";\n      color: ",";\n    }\n\n    &:focus {\n      border: ",";\n    }\n  }\n\n  & .ch-detailed-channel-name {\n    font-weight: bold;\n    padding-left: 25px;\n    white-space: nowrap;\n    overflow-x: hidden;\n    text-overflow: ellipsis;\n    font-size: 14px;\n    max-width: 85%;\n  }\n\n  & .ch-detailed-channel-message {\n    grid-row: span 2;\n    padding-left: 25px;\n    white-space: nowrap;\n    overflow-x: hidden;\n    text-overflow: ellipsis;\n    font-size: 14px;\n    max-width: 90%;\n  }\n\n  & .ch-detailed-channel-message-time {\n    position: absolute;\n    top: 0.8rem;\n    right: 0.5rem;\n    font-size: 8px;\n    max-width: 15%;\n    text-align: right;\n  }\n\n  & .ch-unread-badge-detailed {\n    display: ",";\n    position: absolute;\n    z-index: 2;\n    top: 10px;\n    left: 5px;\n    background-color: ",";\n  }\n\n  &.ch-selected .ch-detailed-channel {\n    background-color: ",";\n    color: ",";\n\n    &:focus {\n      border: ",";\n    }\n  }\n\n  & .ch-popover-toggle-detailed {\n    position: absolute;\n    top: 1.75rem;\n    right: 1rem;\n    margin: 0.5rem 0;\n    height: 1.5rem;\n    border-radius: 50%;\n\n    .ch-channel-actions {\n      border: 1px solid transparent;\n    }\n\n    & g {\n      fill: ",";\n    }\n\n    & button:focus .ch-channel-actions {\n      border: ",";\n      border-radius: 50%;\n    }\n\n    &:hover,\n    &:active {\n      background-color: ",";\n\n      & g {\n        fill: ",";\n      }\n    }\n  }\n"])),baseStyles,baseSpacing,ts=>ts.theme.channelList.bgd,ts=>ts.theme.channelList.fontColor,ts=>ts.theme.channelList.border,ts=>ts.theme.fonts.body,ts=>ts.theme.channelList.hover.bgd,ts=>ts.theme.channelList.active.bgd,ts=>ts.theme.channelList.active.fontColor,ts=>ts.theme.channelList.focus.border,ts=>ts.unread?"inline":"none",ts=>ts.theme.colors.primary.light,ts=>ts.theme.colors.primary.light,ts=>ts.theme.channelList.selected.fontColor,ts=>ts.theme.channelList.focus.selectedBorder,ts=>ts.theme.channelList.active.fontColor,ts=>ts.theme.channelList.focus.selectedBorder,ts=>ts.theme.channelList.iconButton.activeBgd,ts=>ts.theme.colors.primary.light,ts=>ts.theme.channelList.bgd,ts=>ts.theme.channelList.fontColor,ts=>ts.theme.fonts.body,ts=>ts.theme.channelList.hover.bgd,ts=>ts.theme.channelList.active.bgd,ts=>ts.theme.channelList.active.fontColor,ts=>ts.theme.channelList.focus.border,ts=>ts.unread?"inline":"none",ts=>ts.theme.colors.primary.light,ts=>ts.theme.colors.primary.light,ts=>ts.theme.channelList.selected.fontColor,ts=>ts.theme.channelList.focus.selectedBorder,ts=>ts.theme.channelList.active.fontColor,ts=>ts.theme.channelList.focus.selectedBorder,ts=>ts.theme.channelList.iconButton.activeBgd,ts=>ts.theme.colors.primary.light);var jx;const StyledChatBubbleContainer=styled.div(jx||(jx=zl(["\n  display: flex;\n  flex-direction: row;\n  font-size: 0.65rem;\n  margin-left: 1rem;\n  align-items: center;\n  background-color: ",";\n  width: 100%;\n\n  .ch-timestamp {\n    padding-right: ",";\n  }\n\n  ","\n  ","\n"])),ts=>ts.theme.chatBubble.container.bgd,ts=>ts.actions?"1rem":"2.5rem",baseSpacing,baseStyles);var Fx;styled.div(Fx||(Fx=zl(["\n  background-color: ",";\n  padding: 0.625rem 1rem;\n  border-radius: 4px;\n  width: fit-content;\n  color: ",";\n  box-shadow: 0 1px 4px 0 rgba(0, 0, 0, 0.1);\n  line-height: 20px;\n  width: ",";\n  max-width: 70.6%;\n  font-size: 0.875rem;\n  position: relative;\n  margin-bottom: ",";\n  overflow-wrap: break-word;\n  word-break: break-word;\n  hyphens: auto;\n\n  & .ch-header {\n    display: flex;\n    flex-direction: row;\n    margin-bottom: 0.5rem;\n    align-items: baseline;\n  }\n\n  & .ch-sender-name {\n    font-weight: bold;\n    padding-right: 0.5rem;\n  }\n\n  & .ch-header-timestamp {\n    font-size: 0.65rem;\n  }\n\n  & svg {\n    position: absolute;\n    height: 19px;\n    width: 11px;\n    margin-top: -14px;\n    margin-left: -25px;\n\n    & .ch-chat-bubble-tail {\n      fill: ",";\n    }\n  }\n\n  .ch-input {\n    width: 100%;\n  }\n\n  .ch-edit-buttons {\n    position: absolute;\n    margin-top: 1rem;\n    display: flex;\n    flex-direction: row-reverse;\n    width: 10rem;\n    justify-content: space-between;\n  }\n\n  ",";\n  ",";\n"])),ts=>ts.theme.chatBubble[ts.variant].bgd,ts=>ts.theme.chatBubble[ts.variant].fontColor,ts=>ts.editable?"100%":"fit-content",ts=>ts.editable?"4rem":"unset",ts=>ts.theme.chatBubble[ts.variant].bgd,baseSpacing,baseStyles);var Lx;const StyledChatBubbleInfo=styled.div(Lx||(Lx=zl(["\n  display: flex;\n  margin-right: 0.5rem;\n  margin-left: auto;\n  color: ",";\n  align-items: center;\n\n  & .ch-message-actions {\n    border: 1px solid transparent;\n    border-radius: 50%;\n  }\n\n  & button:hover .ch-message-actions {\n    background-color: ",";\n\n    & g {\n      fill: ",";\n    }\n  }\n\n  & button:focus .ch-message-actions {\n    border: 1px solid ",";\n    border-radius: 50%;\n  }\n\n  & .ch-message-actions g {\n    fill: ",";\n  }\n\n  & .ch-message-actions.isOpen {\n    background-color: ",";\n    border-radius: 50%;\n\n    & g {\n      fill: ",";\n    }\n  }\n"])),ts=>ts.theme.chatBubble.container.fontColor,ts=>ts.theme.buttons.icon.hover.bgd,ts=>ts.theme.buttons.icon.hover.text,ts=>ts.theme.colors.primary.dark,ts=>ts.theme.chatBubble.container.fontColor,ts=>ts.theme.buttons.icon.active.bgd,ts=>ts.theme.buttons.icon.active.text);React$2.forwardRef((ts,rs)=>{const{timestamp:ns,actions:os,tooltipContainerId:ss,a11yLabel:as="Open channel options"}=ts,ls=__rest(ts,["timestamp","actions","tooltipContainerId","a11yLabel"]),cs=reactExports.useMemo(()=>WithTooltip(IconButton,ss),[ss]),us=ls["data-tooltip"]?cs:IconButton,ds=ls["data-tooltip-position"]?{tooltipPosition:ls["data-tooltip-position"]}:{};return React$2.createElement(StyledChatBubbleContainer,Object.assign({"data-testid":"chat-bubble-container",ref:rs,actions:os},ls),ts.children,React$2.createElement(StyledChatBubbleInfo,null,ns&&React$2.createElement("span",{className:"ch-timestamp","data-testid":"message-time"},ns),os&&React$2.createElement(PopOver,{a11yLabel:as,placement:"bottom-end",renderButtonWrapper:(ps,fs)=>React$2.createElement(us,Object.assign({},ds,{icon:React$2.createElement(Dots,{width:"1.5rem",height:"1.5rem"}),selected:ps},fs,{label:as})),children:os})))});var Nx;const rotate=We(Nx||(Nx=zl(["\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n"])));var Bx;styled.ul(Bx||(Bx=zl(["\n  background-color: ",";\n  overflow-y: scroll;\n  display: flex;\n  flex-direction: column;\n  list-style: none;\n  padding: 0;\n\n  /* disable scrolling while fetching */\n  &.ch-not-scrollable {\n    overflow-y: hidden;\n  }\n\n  ","\n  ","\n\n  .ch-spinner {\n    margin: 0 auto;\n  }\n\n  .ch-spinner svg {\n    width: 2rem;\n    height: 2rem;\n    animation: "," 2s linear infinite;\n    display: block;\n  }\n"])),ts=>ts.theme.chatBubble.container.bgd,baseSpacing,baseStyles,rotate);var Vx;styled.div(Vx||(Vx=zl(["\n  display: flex;\n  flex-direction: row;\n  padding: 10px;\n\n  & .ch-attachment-icon {\n    height: 2rem;\n    width: 2rem;\n    margin: auto;\n    background-color: ",";\n    border-radius: 25px;\n\n    & .ch-document-icon {\n      margin: auto 0;\n      color: ",";\n    }\n  }\n  & .ch-attachment-name {\n    margin-left: 1rem;\n\n    & a:link,\n    a:visited,\n    a:hover,\n    a:active {\n      color: ",";\n      text-decoration: none;\n    }\n  }\n  & .ch-attachment-size {\n    font-size: ",";\n    color: ",";\n    display: block;\n    padding-top: 3px;\n  }\n"])),ts=>ts.theme.messageAttachment.icon.bgd,ts=>ts.theme.messageAttachment.icon.color,ts=>ts.theme.messageAttachment.name.fontColor,ts=>ts.theme.messageAttachment.size.fontSize,ts=>ts.theme.messageAttachment.size.fontColor);var Ux;styled.div(Ux||(Ux=zl(["\n  color: ",";\n  display: flex;\n  flex-direction: column;\n  width: fit-content;\n  border-radius: 4px;\n  overflow: hidden;\n  box-shadow: 0 1px 4px 0 rgba(0, 0, 0, 0.1);\n  background-color: ",";\n  letter-spacing: ",";\n  font-size: ",";\n  line-height: ",";\n\n  & img {\n    ",";\n  }\n\n  ","\n  ","\n"])),ts=>ts.theme.messageAttachment.content.fontColor,ts=>ts.theme.messageAttachment.content.bgd,ts=>ts.theme.messageAttachment.content.letterSpacing,ts=>ts.theme.fontSizes.text.fontSize,ts=>ts.theme.fontSizes.text.lineHeight,ts=>ts.imgStyles,baseSpacing,baseStyles);function memoize(ts,rs){var ns=rs&&rs.cache?rs.cache:cacheDefault,os=rs&&rs.serializer?rs.serializer:serializerDefault,ss=rs&&rs.strategy?rs.strategy:strategyDefault;return ss(ts,{cache:ns,serializer:os})}function isPrimitive(ts){return ts==null||typeof ts=="number"||typeof ts=="boolean"}function monadic(ts,rs,ns,os){var ss=isPrimitive(os)?os:ns(os),as=rs.get(ss);return typeof as>"u"&&(as=ts.call(this,os),rs.set(ss,as)),as}function variadic(ts,rs,ns){var os=Array.prototype.slice.call(arguments,3),ss=ns(os),as=rs.get(ss);return typeof as>"u"&&(as=ts.apply(this,os),rs.set(ss,as)),as}function assemble(ts,rs,ns,os,ss){return ns.bind(rs,ts,os,ss)}function strategyDefault(ts,rs){var ns=ts.length===1?monadic:variadic;return assemble(ts,this,ns,rs.cache.create(),rs.serializer)}function strategyVariadic(ts,rs){var ns=variadic;return assemble(ts,this,ns,rs.cache.create(),rs.serializer)}function strategyMonadic(ts,rs){var ns=monadic;return assemble(ts,this,ns,rs.cache.create(),rs.serializer)}function serializerDefault(){return JSON.stringify(arguments)}function ObjectWithoutPrototypeCache(){this.cache=Object.create(null)}ObjectWithoutPrototypeCache.prototype.has=function(ts){return ts in this.cache};ObjectWithoutPrototypeCache.prototype.get=function(ts){return this.cache[ts]};ObjectWithoutPrototypeCache.prototype.set=function(ts,rs){this.cache[ts]=rs};var cacheDefault={create:function ts(){return new ObjectWithoutPrototypeCache}},src=memoize,strategies={variadic:strategyVariadic,monadic:strategyMonadic};src.strategies=strategies;const DEFAULT_DATE_OPTIONS={weekday:"long",year:"numeric",month:"long",day:"numeric"},formatDateUnmemoized=(ts,rs,ns,os,ss)=>{const as=ns||DEFAULT_DATE_OPTIONS,ls=new Date(ts).toLocaleDateString(rs,as),cs=new Date;cs.setDate(cs.getDate()-1);const us=cs.toLocaleDateString(rs,as);return ls===us?ss||"Yesterday":ls===new Date().toLocaleDateString(rs,as)?os||"Today":ls};src(formatDateUnmemoized);var MeetingStatus;(function(ts){ts[ts.Loading=0]="Loading",ts[ts.Succeeded=1]="Succeeded",ts[ts.Failed=2]="Failed",ts[ts.Ended=3]="Ended",ts[ts.JoinedFromAnotherDevice=4]="JoinedFromAnotherDevice",ts[ts.Left=5]="Left",ts[ts.TerminalFailure=6]="TerminalFailure",ts[ts.Reconnecting=7]="Reconnecting"})(MeetingStatus||(MeetingStatus={}));var DeviceLabelTriggerStatus;(function(ts){ts.UNTRIGGERED="UNTRIGGERED",ts.IN_PROGRESS="IN_PROGRESS",ts.GRANTED="GRANTED",ts.DENIED="DENIED"})(DeviceLabelTriggerStatus||(DeviceLabelTriggerStatus={}));var DeviceLabels;(function(ts){ts[ts.None=1]="None",ts[ts.Audio=2]="Audio",ts[ts.Video=3]="Video",ts[ts.AudioAndVideo=4]="AudioAndVideo"})(DeviceLabels||(DeviceLabels={}));var ContentActionType;(function(ts){ts[ts.STARTING=0]="STARTING",ts[ts.DID_STOP=1]="DID_STOP",ts[ts.UPDATE=2]="UPDATE",ts[ts.TOGGLE_PAUSE=3]="TOGGLE_PAUSE",ts[ts.REMOVE=4]="REMOVE",ts[ts.DENIED=5]="DENIED",ts[ts.RESET=6]="RESET"})(ContentActionType||(ContentActionType={}));const initialState$1={tileId:null,paused:!1,isLocalUserSharing:!1,isLocalShareLoading:!1,sharingAttendeeId:null};function reducer$1(ts,{type:rs,payload:ns}){switch(rs){case ContentActionType.STARTING:return Object.assign(Object.assign({},ts),{isLocalShareLoading:!0});case ContentActionType.UPDATE:{const{isLocalUser:os,tileState:ss}=ns,{tileId:as}=ts;return as===ss.tileId||as&&as>ss.tileId?ts:{paused:!1,tileId:ss.tileId,isLocalShareLoading:!1,isLocalUserSharing:os,sharingAttendeeId:ss.boundAttendeeId}}case ContentActionType.REMOVE:{const{tileId:os}=ts;return os!==ns?ts:initialState$1}case ContentActionType.DID_STOP:{const{isLocalUserSharing:os}=ts;return os?initialState$1:Object.assign(Object.assign({},ts),{isLocalShareLoading:!1,isLocalUserSharing:!1,paused:!1})}case ContentActionType.TOGGLE_PAUSE:return ts.isLocalUserSharing?Object.assign(Object.assign({},ts),{paused:!ts.paused}):ts;case ContentActionType.DENIED:return ts.isLocalShareLoading?Object.assign(Object.assign({},ts),{isLocalShareLoading:!1}):ts;case ContentActionType.RESET:return initialState$1;default:throw new Error("Incorrect type in VideoProvider")}}const ContentShareContext=reactExports.createContext(null),ContentShareControlContext=reactExports.createContext(null),ContentShareProvider=({children:ts})=>{const rs=useAudioVideo(),[ns,os]=reactExports.useReducer(reducer$1,initialState$1),{paused:ss,isLocalUserSharing:as,isLocalShareLoading:ls}=ns,cs=reactExports.useRef(null);reactExports.useEffect(()=>{if(!rs)return;const fs={videoTileDidUpdate:ms=>{if(!ms.boundAttendeeId||!ms.isContent||!ms.tileId)return;const{boundAttendeeId:gs}=ms,vs=new buildExports.DefaultModality(gs).base(),bs=rs.audioVideoController.realtimeController.state.localAttendeeId,xs=vs===bs;!xs&&cs.current&&cs.current<ms.tileId&&(rs.stopContentShare(),cs.current=null),xs&&(cs.current=ms.tileId),os({type:ContentActionType.UPDATE,payload:{tileState:ms,isLocalUser:xs}})},videoTileWasRemoved:ms=>{ms===cs.current&&(cs.current=null),os({type:ContentActionType.REMOVE,payload:ms})}},hs={contentShareDidStop:()=>{os({type:ContentActionType.DID_STOP})}};return rs.addObserver(fs),rs.addContentShareObserver(hs),()=>{rs.removeObserver(fs),rs.removeContentShareObserver(hs),os({type:ContentActionType.RESET})}},[rs]),reactExports.useEffect(()=>{if(!rs)return;const fs=hs=>{hs.reason.name==="NotAllowedError"&&os({type:ContentActionType.DENIED})};return window.addEventListener("unhandledrejection",fs),()=>window.removeEventListener("unhandledrejection",fs)},[ls]);const us=reactExports.useCallback(fs=>__awaiter(void 0,void 0,void 0,function*(){rs&&(as||ls?rs.stopContentShare():(fs&&typeof fs=="string"?yield rs.startContentShareFromScreenCapture(fs):fs&&fs instanceof MediaStream?yield rs.startContentShare(fs):yield rs.startContentShareFromScreenCapture(),os({type:ContentActionType.STARTING})))}),[rs,as,ls]),ds=reactExports.useCallback(()=>{!rs||!as||(ss?rs.unpauseContentShare():rs.pauseContentShare(),os({type:ContentActionType.TOGGLE_PAUSE}))},[rs,ss,as]),ps=reactExports.useMemo(()=>({paused:ss,isLocalUserSharing:as,isLocalShareLoading:ls,toggleContentShare:us,togglePauseContentShare:ds}),[ss,us,ds,as,ls]);return React$2.createElement(ContentShareContext.Provider,{value:ns},React$2.createElement(ContentShareControlContext.Provider,{value:ps},ts))},useContentShareState=()=>{const ts=reactExports.useContext(ContentShareContext);if(!ts)throw new Error("useContentShareState must be used within a ContentShareProvider");return ts};var VideoTileActionType;(function(ts){ts[ts.UPDATE=0]="UPDATE",ts[ts.REMOVE=1]="REMOVE",ts[ts.RESET=2]="RESET"})(VideoTileActionType||(VideoTileActionType={}));const initialState={tiles:[],tileIdToAttendeeId:{},attendeeIdToTileId:{},size:0},removeProperty=(ts,rs)=>{const ns=Object.assign({},ts);return delete ns[rs],ns};function reducer(ts,{type:rs,payload:ns}){const{tiles:os,tileIdToAttendeeId:ss,attendeeIdToTileId:as,size:ls}=ts;switch(rs){case VideoTileActionType.UPDATE:{const{tileId:cs,attendeeId:us=""}=ns,ds=cs.toString();if(ss[ds])return ts;const fs=[...os,cs],hs=Object.assign(Object.assign({},ss),{[ds]:us}),ms=Object.assign(Object.assign({},as),{[us]:cs});return{tiles:fs,tileIdToAttendeeId:hs,attendeeIdToTileId:ms,size:ls+1}}case VideoTileActionType.REMOVE:{const{tileId:cs}=ns,us=ss[cs],ds=cs.toString();if(!us)return ts;const ps=os.filter(ms=>cs!==ms),fs=removeProperty(ss,ds),hs=removeProperty(as,us);return{tiles:ps,tileIdToAttendeeId:fs,attendeeIdToTileId:hs,size:ls-1}}case VideoTileActionType.RESET:return initialState;default:throw new Error("Incorrect type in VideoProvider")}}const Context$4=reactExports.createContext(null),RemoteVideoTileProvider=({children:ts})=>{const rs=useAudioVideo(),[ns,os]=reactExports.useReducer(reducer,initialState);return reactExports.useEffect(()=>{if(!rs)return;const ss={videoTileDidUpdate:as=>{if(as!=null&&as.boundAttendeeId&&(as!=null&&as.tileId)&&!as.isContent&&!as.localTile){const{tileId:ls,boundAttendeeId:cs}=as;os({type:VideoTileActionType.UPDATE,payload:{tileId:ls,attendeeId:cs}})}},videoTileWasRemoved:as=>{os({type:VideoTileActionType.REMOVE,payload:{tileId:as}})}};return rs.addObserver(ss),()=>rs.removeObserver(ss)},[rs]),reactExports.useEffect(()=>{if(rs)return()=>os({type:VideoTileActionType.RESET})},[rs]),React$2.createElement(Context$4.Provider,{value:ns},ts)},useRemoteVideoTileState=()=>{const ts=reactExports.useContext(Context$4);if(!ts)throw new Error("useRemoteVideoTileState must be used within a RemoteVideoTileProvider");return ts},TILE_TRANSITION_DELAY=1500,FeaturedTileContext=reactExports.createContext(null),FeaturedVideoTileProvider=({children:ts})=>{const rs=useMeetingManager(),{attendeeIdToTileId:ns}=useRemoteVideoTileState(),os=reactExports.useRef(null),[ss,as]=reactExports.useState(null),ls=reactExports.useRef(null),cs=reactExports.useRef(null);reactExports.useEffect(()=>{const ds=ps=>{const fs=ps[0];if(fs===cs.current)return;if(cs.current=fs,ls.current&&clearTimeout(ls.current),!fs){os.current=null,as(null);return}const hs=ns[fs];if(!hs){os.current&&(ls.current=window.setTimeout(()=>{os.current=null,as(null)},TILE_TRANSITION_DELAY));return}hs!==os.current&&(os.current?ls.current=window.setTimeout(()=>{os.current=hs,as(hs)},TILE_TRANSITION_DELAY):(os.current=hs,as(hs)))};return rs.subscribeToActiveSpeaker(ds),()=>rs.unsubscribeFromActiveSpeaker(ds)},[ns]);const us=reactExports.useMemo(()=>({tileId:ss}),[ss]);return React$2.createElement(FeaturedTileContext.Provider,{value:us},ts)};function useFeaturedTileState(){const ts=reactExports.useContext(FeaturedTileContext);if(!ts)throw new Error("useFeaturedTileState must be used within an FeaturedVideoTileProvider");return ts}const Context$3=reactExports.createContext(null),LocalAudioOutputProvider=({children:ts})=>{const rs=useLogger(),ns=useAudioVideo(),[os,ss]=reactExports.useState(!0),as=reactExports.useRef(null);reactExports.useEffect(()=>{if(ns)return as.current&&(us=>__awaiter(void 0,void 0,void 0,function*(){try{yield ns.bindAudioElement(us)}catch(ds){rs.error("Failed to bind audio element. ".concat(ds))}}))(as.current),()=>{ns.unbindAudioElement(),ss(!0)}},[ns]);const ls=reactExports.useCallback(()=>{as.current&&(ss(!os),os?ns==null||ns.unbindAudioElement():(us=>__awaiter(void 0,void 0,void 0,function*(){try{yield ns==null?void 0:ns.bindAudioElement(us)}catch(ds){rs.error("Failed to bind audio element. ".concat(ds))}}))(as.current))},[as,ns,os]),cs=reactExports.useMemo(()=>({isAudioOn:os,toggleAudio:ls}),[os,ls]);return React$2.createElement(Context$3.Provider,{value:cs},ts,React$2.createElement("audio",{ref:as,style:{display:"none"}}))},Context$2=reactExports.createContext(null),LocalVideoProvider=({children:ts})=>{const rs=useLogger(),ns=useMeetingManager(),os=useAudioVideo(),{devices:ss,selectedDevice:as}=useVideoInputs(),[ls,cs]=reactExports.useState(!1),[us,ds]=reactExports.useState(!1),[ps,fs]=reactExports.useState(null);reactExports.useEffect(()=>{if(!os)return;os.hasStartedLocalVideoTile()&&cs(!0);const gs={videoAvailabilityDidChange:vs=>{vs.canStartLocalVideo?ds(!1):ds(!0),rs.info("video availability changed: canStartLocalVideo ".concat(vs.canStartLocalVideo))}};return os.addObserver(gs),()=>{cs(!1),os.removeObserver(gs)}},[os]),reactExports.useEffect(()=>{us&&rs.warn("Reach the number of maximum active videos")},[us]),reactExports.useEffect(()=>{os!=null&&os.hasStartedLocalVideoTile()||cs(!1)},[ss]);const hs=reactExports.useCallback(()=>__awaiter(void 0,void 0,void 0,function*(){try{ls||!as?(as||rs.warn("There is no input video device chosen!"),yield os==null?void 0:os.stopVideoInput(),cs(!1)):us?rs.error("Video limit is reached and can not turn on more videos!"):(yield ns.startVideoInputDevice(as),os==null||os.startLocalVideoTile(),cs(!0))}catch{rs.error("Failed to toggle video")}}),[os,ls,us,as]);reactExports.useEffect(()=>{if(!os)return;const gs={videoTileDidUpdate:vs=>{!vs.localTile||!vs.tileId||ps===vs.tileId||fs(vs.tileId)}};return os.addObserver(gs),()=>os.removeObserver(gs)},[os,ps]);const ms=reactExports.useMemo(()=>({tileId:ps,isVideoEnabled:ls,setIsVideoEnabled:cs,hasReachedVideoLimit:us,setHasReachedVideoLimit:ds,toggleVideo:hs}),[ps,ls,cs,us,ds,hs]);return React$2.createElement(Context$2.Provider,{value:ms},ts)},useLocalVideo=()=>{const ts=reactExports.useContext(Context$2);if(!ts)throw new Error("useLocalVideo must be used within LocalVideoProvider");return ts},MeetingEventProviderContext=reactExports.createContext(void 0),MeetingEventProvider=({children:ts})=>{const[rs,ns]=reactExports.useState(),os=useMeetingManager();return reactExports.useEffect(()=>{function ss(as,ls){ns({name:as,attributes:ls})}return os.subscribeToEventDidReceive(ss),()=>{os.unsubscribeFromEventDidReceive(ss)}},[]),React$2.createElement(MeetingEventProviderContext.Provider,{value:rs},ts)},RosterContext=React$2.createContext(null),RosterProvider=({children:ts})=>{const rs=useMeetingManager(),ns=useAudioVideo(),os=reactExports.useRef({}),[ss,as]=reactExports.useState({});reactExports.useEffect(()=>{if(!ns)return;const cs=(us,ds,ps)=>__awaiter(void 0,void 0,void 0,function*(){if(!ds){delete os.current[us],as(gs=>{const vs=gs,bs=us;vs[bs];const xs=__rest(vs,[typeof bs=="symbol"?bs:bs+""]);return Object.assign({},xs)});return}const fs=new buildExports.DefaultModality(us).base();if(fs!==us||os.current[us])return;let ms={chimeAttendeeId:us};if(ps&&(ms.externalUserId=ps),os.current[fs]=ms,as(gs=>Object.assign(Object.assign({},gs),{[fs]:ms})),rs.getAttendee){const gs=yield rs.getAttendee(fs,ps);if(!os.current[fs])return;ms=Object.assign(Object.assign({},ms),gs),as(vs=>Object.assign(Object.assign({},vs),{[fs]:ms}))}});return ns.realtimeSubscribeToAttendeeIdPresence(cs),()=>{as({}),os.current={},ns.realtimeUnsubscribeToAttendeeIdPresence(cs)}},[ns]);const ls=reactExports.useMemo(()=>({roster:ss}),[ss]);return React$2.createElement(RosterContext.Provider,{value:ls},ts)};function useRosterState(){const ts=reactExports.useContext(RosterContext);if(!ts)throw new Error("userRosterState must be used within RosterProvider");return ts}function noOpDeviceLabelHook(){return Promise.resolve(new MediaStream)}class MeetingManager{getDeviceLabels(){return this.deviceLabels}constructor(rs){this.meetingSession=null,this.meetingStatus=MeetingStatus.Loading,this.meetingStatusObservers=[],this.audioVideo=null,this.audioVideoObservers={},this.meetingId=null,this.selectedAudioOutputDeviceObservers=[],this.selectedAudioInputDeviceObservers=[],this.selectedVideoInputDeviceObservers=[],this.audioInputDevices=null,this.audioOutputDevices=null,this.videoInputDevices=null,this.deviceLabelTriggerStatus=DeviceLabelTriggerStatus.UNTRIGGERED,this.deviceLabelTriggerStatusObservers=[],this.deviceLabelTriggerObservers=[],this.activeSpeakerListener=null,this.activeSpeakerCallbacks=[],this.activeSpeakers=[],this.audioVideoCallbacks=[],this.devicesUpdatedCallbacks=[],this.meetingEventObserverSet=new Set,this.audioVideoDidStart=()=>{console.log("[MeetingManager audioVideoDidStart] Meeting started successfully"),this.meetingStatus=MeetingStatus.Succeeded,this.publishMeetingStatus()},this.audioVideoDidStartConnecting=ns=>{this.meetingStatus!==MeetingStatus.Reconnecting&&ns&&(this.meetingStatus=MeetingStatus.Reconnecting,this.publishMeetingStatus())},this.audioVideoDidStop=ns=>{var os;const ss=ns.statusCode();switch(ss){case buildExports.MeetingSessionStatusCode.MeetingEnded:console.log("[MeetingManager audioVideoDidStop] Meeting ended for all: ".concat(ss)),this.meetingStatus=MeetingStatus.Ended;break;case buildExports.MeetingSessionStatusCode.Left:console.log("[MeetingManager audioVideoDidStop] Left the meeting: ".concat(ss)),this.meetingStatus=MeetingStatus.Left;break;case buildExports.MeetingSessionStatusCode.AudioJoinedFromAnotherDevice:console.log("[MeetingManager audioVideoDidStop] Meeting joined from another device: ".concat(ss)),this.meetingStatus=MeetingStatus.JoinedFromAnotherDevice;break;default:ns.isFailure()&&!ns.isTerminal()?(console.log("[MeetingManager audioVideoDidStop] Non-Terminal failure occurred: ".concat(ss)),this.meetingStatus=MeetingStatus.Failed):ns.isTerminal()?(console.log("[MeetingManager audioVideoDidStop] Terminal failure occurred: ".concat(ss)),this.meetingStatus=MeetingStatus.TerminalFailure):console.log("[MeetingManager audioVideoDidStop] session stopped with code ".concat(ss))}this.publishMeetingStatus(),(os=this.audioVideo)===null||os===void 0||os.removeObserver(this.audioVideoObservers),this.leave()},this.startAudioInputDevice=ns=>__awaiter(this,void 0,void 0,function*(){var os;try{yield(os=this.audioVideo)===null||os===void 0?void 0:os.startAudioInput(ns),this.selectedAudioInputDevice=ns,this.publishSelectedAudioInputDevice()}catch(ss){const as=new Error("MeetingManager failed to select audio input device.");throw ss instanceof Error&&(as.name=ss.name,as.message+=" "+ss.message),console.error(as),as}}),this.startAudioOutputDevice=ns=>__awaiter(this,void 0,void 0,function*(){var os;try{yield(os=this.audioVideo)===null||os===void 0?void 0:os.chooseAudioOutput(ns),this.selectedAudioOutputDevice=ns,this.publishSelectedAudioOutputDevice()}catch(ss){throw console.error("MeetingManager failed to select audio output device",ss),new Error("MeetingManager failed to select audio output device")}}),this.startVideoInputDevice=ns=>__awaiter(this,void 0,void 0,function*(){var os;try{yield(os=this.audioVideo)===null||os===void 0?void 0:os.startVideoInput(ns),this.selectedVideoInputDevice=ns,this.publishSelectedVideoInputDevice()}catch(ss){const as=new Error("MeetingManager failed to select video input device.");throw ss instanceof Error&&(as.name=ss.name,as.message+=" "+ss.message),console.error(as),as}}),this.stopVideoInputDevice=()=>__awaiter(this,void 0,void 0,function*(){var ns;try{yield(ns=this.audioVideo)===null||ns===void 0?void 0:ns.stopVideoInput(),this.selectedVideoInputDevice=void 0,this.publishSelectedVideoInputDevice()}catch(os){throw console.error("MeetingManager failed to unselect video input device",os),new Error("MeetingManager failed to unselect video input device")}}),this.selectVideoInputDevice=ns=>{this.selectedVideoInputDevice=ns,this.publishSelectedVideoInputDevice()},this.invokeDeviceProvider=ns=>{this.setupDeviceLabelTrigger(ns),this.publishDeviceLabelTrigger()},this.subscribeToAudioVideo=ns=>{this.audioVideoCallbacks.push(ns)},this.unsubscribeFromAudioVideo=ns=>{this.audioVideoCallbacks=this.audioVideoCallbacks.filter(os=>os!==ns)},this.publishAudioVideo=()=>{this.audioVideoCallbacks.forEach(ns=>{ns(this.audioVideo)})},this.subscribeToActiveSpeaker=ns=>{this.activeSpeakerCallbacks.push(ns),ns(this.activeSpeakers)},this.unsubscribeFromActiveSpeaker=ns=>{this.activeSpeakerCallbacks=this.activeSpeakerCallbacks.filter(os=>os!==ns)},this.publishActiveSpeaker=()=>{this.activeSpeakerCallbacks.forEach(ns=>{ns(this.activeSpeakers)})},this.subscribeToSelectedVideoInputDevice=ns=>{this.selectedVideoInputDeviceObservers.push(ns)},this.unsubscribeFromSelectedVideoInputDevice=ns=>{this.selectedVideoInputDeviceObservers=this.selectedVideoInputDeviceObservers.filter(os=>os!==ns)},this.publishSelectedVideoInputDevice=()=>{for(const ns of this.selectedVideoInputDeviceObservers)ns(this.selectedVideoInputDevice)},this.subscribeToSelectedAudioInputDevice=ns=>{this.selectedAudioInputDeviceObservers.push(ns)},this.unsubscribeFromSelectedAudioInputDevice=ns=>{this.selectedAudioInputDeviceObservers=this.selectedAudioInputDeviceObservers.filter(os=>os!==ns)},this.publishSelectedAudioInputDevice=()=>{for(const ns of this.selectedAudioInputDeviceObservers)ns(this.selectedAudioInputDevice)},this.subscribeToSelectedAudioOutputDevice=ns=>{this.selectedAudioOutputDeviceObservers.push(ns)},this.unsubscribeFromSelectedAudioOutputDevice=ns=>{this.selectedAudioOutputDeviceObservers=this.selectedAudioOutputDeviceObservers.filter(os=>os!==ns)},this.publishSelectedAudioOutputDevice=()=>{for(const ns of this.selectedAudioOutputDeviceObservers)ns(this.selectedAudioOutputDevice)},this.subscribeToMeetingStatus=ns=>{this.meetingStatusObservers.push(ns),ns(this.meetingStatus)},this.unsubscribeFromMeetingStatus=ns=>{this.meetingStatusObservers=this.meetingStatusObservers.filter(os=>os!==ns)},this.publishMeetingStatus=()=>{this.meetingStatusObservers.forEach(ns=>{ns(this.meetingStatus)})},this.subscribeToDeviceLabelTrigger=ns=>{this.deviceLabelTriggerObservers.push(ns)},this.unsubscribeFromDeviceLabelTrigger=ns=>{this.deviceLabelTriggerObservers=this.deviceLabelTriggerObservers.filter(os=>os!==ns)},this.publishDeviceLabelTrigger=()=>{for(const ns of this.deviceLabelTriggerObservers)ns()},this.subscribeToDeviceLabelTriggerStatus=ns=>{this.deviceLabelTriggerStatusObservers.push(ns)},this.unsubscribeFromDeviceLabelTriggerStatus=ns=>{this.deviceLabelTriggerStatusObservers=this.deviceLabelTriggerStatusObservers.filter(os=>os!==ns)},this.publishDeviceLabelTriggerStatus=()=>{for(const ns of this.deviceLabelTriggerStatusObservers)ns(this.deviceLabelTriggerStatus)},this.subscribeToEventDidReceive=ns=>{this.meetingEventObserverSet.add(ns)},this.unsubscribeFromEventDidReceive=ns=>{this.meetingEventObserverSet.delete(ns)},this.publishEventDidReceiveUpdate=(ns,os)=>{this.meetingEventObserverSet.forEach(ss=>ss(ns,os))},this.logger=rs,this.eventDidReceiveRef={eventDidReceive:(ns,os)=>{this.publishEventDidReceiveUpdate(ns,os)}}}initializeMeetingManager(){this.meetingSession=null,this.audioVideo=null,this.meetingSessionConfiguration=void 0,this.meetingId=null,this.selectedAudioOutputDevice=null,this.selectedAudioInputDevice=void 0,this.selectedVideoInputDevice=void 0,this.audioInputDevices=[],this.audioOutputDevices=[],this.videoInputDevices=[],this.activeSpeakers=[],this.activeSpeakerListener=null,this.audioVideoObservers={}}join(rs,ns){return __awaiter(this,void 0,void 0,function*(){const{deviceLabels:os,eventController:ss,enableWebAudio:as,activeSpeakerPolicy:ls,skipDeviceSelection:cs}=this.parseJoinParams(ns);this.meetingSessionConfiguration=rs,this.meetingId=this.meetingSessionConfiguration.meetingId;const us=new buildExports.DefaultDeviceController(this.logger,{enableWebAudio:as});this.meetingSession=new buildExports.DefaultMeetingSession(rs,this.logger,us,ss),this.audioVideo=this.meetingSession.audioVideo,ss?ss.addObserver(this.eventDidReceiveRef):this.meetingSession.eventController.addObserver(this.eventDidReceiveRef),this.setupAudioVideoObservers(),this.setupDeviceLabelTrigger(os),cs||(this.logger.info("[MeetingManager.join] listing and selecting devices"),yield this.listAndSelectDevices(os)),this.publishAudioVideo(),this.setupActiveSpeakerDetection(ls),this.meetingStatus=MeetingStatus.Loading,this.publishMeetingStatus()})}parseJoinParams(rs){const ns=(rs==null?void 0:rs.deviceLabels)||DeviceLabels.AudioAndVideo,os=rs==null?void 0:rs.eventController,ss=(rs==null?void 0:rs.enableWebAudio)||!1,as=(rs==null?void 0:rs.activeSpeakerPolicy)||new buildExports.DefaultActiveSpeakerPolicy,ls=(rs==null?void 0:rs.skipDeviceSelection)||!1;return{deviceLabels:ns,eventController:os,enableWebAudio:ss,activeSpeakerPolicy:as,skipDeviceSelection:ls}}start(){var rs;return __awaiter(this,void 0,void 0,function*(){(rs=this.audioVideo)===null||rs===void 0||rs.start()})}leave(){var rs,ns;return __awaiter(this,void 0,void 0,function*(){if(this.audioVideo){this.audioVideo.stopContentShare(),this.audioVideo.stopLocalVideoTile(),this.audioVideo.unbindAudioElement();try{yield(rs=this.meetingSession)===null||rs===void 0?void 0:rs.deviceController.chooseAudioOutput(null),yield(ns=this.meetingSession)===null||ns===void 0?void 0:ns.deviceController.destroy()}catch{console.log("MeetingManager failed to clean up media resources on leave")}this.activeSpeakerListener&&this.audioVideo.unsubscribeFromActiveSpeakerDetector(this.activeSpeakerListener),this.audioVideo.stop()}this.initializeMeetingManager(),this.publishAudioVideo(),this.publishActiveSpeaker()})}setupAudioVideoObservers(){this.audioVideo&&(this.audioVideoObservers={audioVideoDidStart:this.audioVideoDidStart,audioVideoDidStartConnecting:this.audioVideoDidStartConnecting,audioVideoDidStop:this.audioVideoDidStop},this.audioVideo.addObserver(this.audioVideoObservers))}updateDeviceLists(){var rs,ns,os;return __awaiter(this,void 0,void 0,function*(){this.audioInputDevices=(yield(rs=this.audioVideo)===null||rs===void 0?void 0:rs.listAudioInputDevices())||[],this.videoInputDevices=(yield(ns=this.audioVideo)===null||ns===void 0?void 0:ns.listVideoInputDevices())||[],this.audioOutputDevices=(yield(os=this.audioVideo)===null||os===void 0?void 0:os.listAudioOutputDevices())||[]})}setupDeviceLabelTrigger(rs=DeviceLabels.AudioAndVideo){var ns;this.deviceLabels=rs;let os;if(typeof rs=="function")os=rs;else if(rs===DeviceLabels.None)os=noOpDeviceLabelHook;else{const ss={};switch(rs){case DeviceLabels.Audio:ss.audio=!0;break;case DeviceLabels.Video:ss.video=!0;break;case DeviceLabels.AudioAndVideo:ss.audio=!0,ss.video=!0;break}os=()=>__awaiter(this,void 0,void 0,function*(){this.deviceLabelTriggerStatus=DeviceLabelTriggerStatus.IN_PROGRESS,this.publishDeviceLabelTriggerStatus();try{const ls=(yield navigator.mediaDevices.enumerateDevices()).some(us=>us.kind==="videoinput"),cs=yield navigator.mediaDevices.getUserMedia({audio:ss.audio,video:ss.video&&ls});return this.deviceLabelTriggerStatus=DeviceLabelTriggerStatus.GRANTED,this.publishDeviceLabelTriggerStatus(),cs}catch(as){throw console.error("MeetingManager failed to get device permissions"),this.deviceLabelTriggerStatus=DeviceLabelTriggerStatus.DENIED,this.publishDeviceLabelTriggerStatus(),as}})}(ns=this.audioVideo)===null||ns===void 0||ns.setDeviceLabelTrigger(os)}setupActiveSpeakerDetection(rs){var ns;this.publishActiveSpeaker(),this.activeSpeakerListener=os=>{this.activeSpeakers=os,this.activeSpeakerCallbacks.forEach(ss=>ss(os))},(ns=this.audioVideo)===null||ns===void 0||ns.subscribeToActiveSpeakerDetector(rs||new buildExports.DefaultActiveSpeakerPolicy,this.activeSpeakerListener)}listAndSelectDevices(rs=DeviceLabels.AudioAndVideo){var ns,os;return __awaiter(this,void 0,void 0,function*(){if(yield this.updateDeviceLists(),typeof rs=="function")return;let ss=!1,as=!1;switch(rs){case DeviceLabels.None:break;case DeviceLabels.Audio:ss=!0;break;case DeviceLabels.Video:as=!0;break;case DeviceLabels.AudioAndVideo:ss=!0,as=!0;break}if(ss&&!this.selectedAudioInputDevice&&this.audioInputDevices&&this.audioInputDevices.length){this.selectedAudioInputDevice=this.audioInputDevices[0].deviceId;try{yield(ns=this.audioVideo)===null||ns===void 0?void 0:ns.startAudioInput(this.audioInputDevices[0].deviceId)}catch(ls){console.error("MeetingManager failed to select audio input device on join",ls)}this.publishSelectedAudioInputDevice()}if(ss&&!this.selectedAudioOutputDevice&&this.audioOutputDevices&&this.audioOutputDevices.length){if(this.selectedAudioOutputDevice=this.audioOutputDevices[0].deviceId,new buildExports.DefaultBrowserBehavior().supportsSetSinkId())try{yield(os=this.audioVideo)===null||os===void 0?void 0:os.chooseAudioOutput(this.audioOutputDevices[0].deviceId)}catch(ls){console.error("MeetingManager failed to select audio output device on join",ls)}this.publishSelectedAudioOutputDevice()}as&&!this.selectedVideoInputDevice&&this.videoInputDevices&&this.videoInputDevices.length&&(this.selectedVideoInputDevice=this.videoInputDevices[0].deviceId,this.publishSelectedVideoInputDevice())})}}const MeetingContext=reactExports.createContext(null),MeetingProvider=({onDeviceReplacement:ts,meetingManager:rs,children:ns})=>{const os=useLogger(),[ss]=reactExports.useState(()=>rs||new MeetingManager(os));return React$2.createElement(MeetingContext.Provider,{value:ss},React$2.createElement(MeetingEventProvider,null,React$2.createElement(AudioVideoProvider,null,React$2.createElement(DevicesProvider,{onDeviceReplacement:ts},React$2.createElement(RosterProvider,null,React$2.createElement(RemoteVideoTileProvider,null,React$2.createElement(LocalVideoProvider,null,React$2.createElement(LocalAudioOutputProvider,null,React$2.createElement(ContentShareProvider,null,React$2.createElement(FeaturedVideoTileProvider,null,ns))))))))))},useMeetingManager=()=>{const ts=reactExports.useContext(MeetingContext);if(!ts)throw new Error("useMeetingManager must be used within MeetingProvider");return ts},AudioVideoContext=reactExports.createContext(null),AudioVideoProvider=({children:ts})=>{const rs=useMeetingManager(),[ns,os]=reactExports.useState(null);return reactExports.useEffect(()=>{function ss(as){os(as)}return rs.subscribeToAudioVideo(ss),()=>rs.unsubscribeFromAudioVideo(ss)},[]),React$2.createElement(AudioVideoContext.Provider,{value:ns},ts)},useAudioVideo=()=>reactExports.useContext(AudioVideoContext),Context$1=reactExports.createContext(null),AudioInputProvider=({children:ts,onDeviceReplacement:rs})=>{const ns=useLogger(),os=useMeetingManager(),ss=useAudioVideo(),[as,ls]=reactExports.useState([]),[cs,us]=reactExports.useState(os.selectedAudioInputDevice),ds=reactExports.useRef(cs);ds.current=cs;const ps=hs=>__awaiter(void 0,void 0,void 0,function*(){return rs?rs(hs,os.selectedAudioInputDevice):hs});reactExports.useEffect(()=>(os.subscribeToSelectedAudioInputDevice(us),()=>{os.unsubscribeFromSelectedAudioInputDevice(us)}),[]),reactExports.useEffect(()=>{let hs=!0;const ms={audioInputsChanged:bs=>__awaiter(void 0,void 0,void 0,function*(){if(ns.info("AudioInputProvider - audio inputs updated"),os.getDeviceLabels()!==DeviceLabels.Audio&&os.getDeviceLabels()!==DeviceLabels.AudioAndVideo){ns.info("Device labels do not allow audio, skipping audio input selection on audioInputsChanged");return}const xs=bs.some(Cs=>Cs.deviceId===ds.current);let ys="default";ds.current&&!xs&&bs.length?(ns.info("Previously selected audio input lost. Selecting a default device."),ys=bs[0].deviceId):ds.current==="default"&&ns.info('Audio devices updated and "default" device is selected. Reselecting input.');const Ss=yield ps(ys);try{yield os.startAudioInputDevice(Ss)}catch(Cs){ns.error("Failed to select audio input device on audioInputsChanged: ".concat(Cs))}ls(bs)})};function gs(){return __awaiter(this,void 0,void 0,function*(){if(!ss)return;const bs=yield ss.listAudioInputDevices();hs&&(ls(bs),ss.addDeviceChangeObserver(ms))})}const vs=()=>{gs()};return os.subscribeToDeviceLabelTrigger(vs),gs(),()=>{hs=!1,ss==null||ss.removeDeviceChangeObserver(ms),os.unsubscribeFromDeviceLabelTrigger(vs)}},[ss,rs]);const fs=reactExports.useMemo(()=>({devices:as,selectedDevice:cs}),[as,cs]);return React$2.createElement(Context$1.Provider,{value:fs},ts)},AudioOutputContext=reactExports.createContext(null),AudioOutputProvider=({children:ts})=>{const rs=useLogger(),ns=useAudioVideo(),[os,ss]=reactExports.useState([]),as=useMeetingManager(),[ls,cs]=reactExports.useState(as.selectedAudioOutputDevice);reactExports.useEffect(()=>(as.subscribeToSelectedAudioOutputDevice(cs),()=>{as.unsubscribeFromSelectedAudioOutputDevice(cs)}),[]),reactExports.useEffect(()=>{let ds=!0;const ps={audioOutputsChanged:ms=>{rs.info("AudioOutputProvider - audio outputs updated"),ss(ms)}};function fs(){return __awaiter(this,void 0,void 0,function*(){if(!ns)return;const ms=yield ns.listAudioOutputDevices();ds&&(ss(ms),ns.addDeviceChangeObserver(ps))})}const hs=()=>{fs()};return as.subscribeToDeviceLabelTrigger(hs),fs(),()=>{ds=!1,ns==null||ns.removeDeviceChangeObserver(ps),as.unsubscribeFromDeviceLabelTrigger(hs)}},[ns]);const us=reactExports.useMemo(()=>({devices:os,selectedDevice:ls}),[os,ls]);return React$2.createElement(AudioOutputContext.Provider,{value:us},ts)},Context=reactExports.createContext(null),VideoInputProvider=({children:ts})=>{const rs=useLogger(),ns=useAudioVideo(),[os,ss]=reactExports.useState([]),as=useMeetingManager(),[ls,cs]=reactExports.useState(as.selectedVideoInputDevice);reactExports.useEffect(()=>(as.subscribeToSelectedVideoInputDevice(cs),()=>{as.unsubscribeFromSelectedVideoInputDevice(cs)}),[]),reactExports.useEffect(()=>{let ds=!0;const ps={videoInputsChanged:ms=>{rs.info("VideoInputProvider - video inputs updated"),ss(ms)}};function fs(){return __awaiter(this,void 0,void 0,function*(){if(!ns)return;const ms=yield ns.listVideoInputDevices();ds&&(ss(ms),ns.addDeviceChangeObserver(ps))})}const hs=()=>{fs()};return as.subscribeToDeviceLabelTrigger(hs),fs(),()=>{ds=!1,ns==null||ns.removeDeviceChangeObserver(ps),as.unsubscribeFromDeviceLabelTrigger(hs)}},[ns]);const us=reactExports.useMemo(()=>({devices:os,selectedDevice:ls}),[os,ls]);return React$2.createElement(Context.Provider,{value:us},ts)},useVideoInputs=()=>{const ts=reactExports.useContext(Context);if(!ts)throw new Error("useVideoInputs must be used within VideoInputProvider");return ts},DevicesProvider=({children:ts,onDeviceReplacement:rs})=>React$2.createElement(AudioInputProvider,{onDeviceReplacement:rs},React$2.createElement(AudioOutputProvider,null,React$2.createElement(VideoInputProvider,null,ts)));reactExports.createContext(void 0);function useToggleLocalMute(){const ts=useAudioVideo(),[rs,ns]=reactExports.useState(()=>(ts==null?void 0:ts.realtimeIsLocalAudioMuted())||!1);reactExports.useEffect(()=>{const ss=as=>{ns(as)};return ts==null||ts.realtimeSubscribeToMuteAndUnmuteLocalAudio(ss),ns((ts==null?void 0:ts.realtimeIsLocalAudioMuted())||!1),()=>{ts==null||ts.realtimeUnsubscribeToMuteAndUnmuteLocalAudio(ss)}},[ts]);const os=reactExports.useCallback(()=>{rs?ts==null||ts.realtimeUnmuteLocalAudio():ts==null||ts.realtimeMuteLocalAudio()},[rs,ts]);return{muted:rs,toggleMute:os}}createCommonjsModule(function(ts,rs){var ns=200,os="__lodash_hash_undefined__",ss=1,as=2,ls=9007199254740991,cs="[object Arguments]",us="[object Array]",ds="[object AsyncFunction]",ps="[object Boolean]",fs="[object Date]",hs="[object Error]",ms="[object Function]",gs="[object GeneratorFunction]",vs="[object Map]",bs="[object Number]",xs="[object Null]",ys="[object Object]",Ss="[object Promise]",Cs="[object Proxy]",$s="[object RegExp]",Es="[object Set]",ws="[object String]",Ts="[object Symbol]",Is="[object Undefined]",Rs="[object WeakMap]",As="[object ArrayBuffer]",ks="[object DataView]",Ms="[object Float32Array]",Os="[object Float64Array]",Ds="[object Int8Array]",Fs="[object Int16Array]",js="[object Int32Array]",Ps="[object Uint8Array]",Ls="[object Uint8ClampedArray]",Ns="[object Uint16Array]",Gs="[object Uint32Array]",Us=/[\\^$.*+?()[\]{}|]/g,Hs=/^\[object .+?Constructor\]$/,zs=/^(?:0|[1-9]\d*)$/,qs={};qs[Ms]=qs[Os]=qs[Ds]=qs[Fs]=qs[js]=qs[Ps]=qs[Ls]=qs[Ns]=qs[Gs]=!0,qs[cs]=qs[us]=qs[As]=qs[ps]=qs[ks]=qs[fs]=qs[hs]=qs[ms]=qs[vs]=qs[bs]=qs[ys]=qs[$s]=qs[Es]=qs[ws]=qs[Rs]=!1;var Vs=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,Ks=typeof self=="object"&&self&&self.Object===Object&&self,Ws=Vs||Ks||Function("return this")(),Pl=rs&&!rs.nodeType&&rs,Tl=Pl&&!0&&ts&&!ts.nodeType&&ts,El=Tl&&Tl.exports===Pl,$l=El&&Vs.process,Sl=function(){try{return $l&&$l.binding&&$l.binding("util")}catch{}}(),Ml=Sl&&Sl.isTypedArray;function wl(Js,Il){for(var Wl=-1,iu=Js==null?0:Js.length,hu=0,uu=[];++Wl<iu;){var xu=Js[Wl];Il(xu,Wl,Js)&&(uu[hu++]=xu)}return uu}function Rl(Js,Il){for(var Wl=-1,iu=Il.length,hu=Js.length;++Wl<iu;)Js[hu+Wl]=Il[Wl];return Js}function yl(Js,Il){for(var Wl=-1,iu=Js==null?0:Js.length;++Wl<iu;)if(Il(Js[Wl],Wl,Js))return!0;return!1}function Bs(Js,Il){for(var Wl=-1,iu=Array(Js);++Wl<Js;)iu[Wl]=Il(Wl);return iu}function Zs(Js){return function(Il){return Js(Il)}}function Ys(Js,Il){return Js.has(Il)}function _l(Js,Il){return Js==null?void 0:Js[Il]}function Cl(Js){var Il=-1,Wl=Array(Js.size);return Js.forEach(function(iu,hu){Wl[++Il]=[hu,iu]}),Wl}function Xs(Js,Il){return function(Wl){return Js(Il(Wl))}}function xl(Js){var Il=-1,Wl=Array(Js.size);return Js.forEach(function(iu){Wl[++Il]=iu}),Wl}var $a=Array.prototype,Dl=Function.prototype,Ol=Object.prototype,Ll=Ws["__core-js_shared__"],Vl=Dl.toString,Xl=Ol.hasOwnProperty,Ql=function(){var Js=/[^.]+$/.exec(Ll&&Ll.keys&&Ll.keys.IE_PROTO||"");return Js?"Symbol(src)_1."+Js:""}(),Kl=Ol.toString,Gl=RegExp("^"+Vl.call(Xl).replace(Us,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),nu=El?Ws.Buffer:void 0,Bl=Ws.Symbol,Hl=Ws.Uint8Array,Qs=Ol.propertyIsEnumerable,Al=$a.splice,Nl=Bl?Bl.toStringTag:void 0,eu=Object.getOwnPropertySymbols,Jl=nu?nu.isBuffer:void 0,Zl=Xs(Object.keys,Object),tu=Hu(Ws,"DataView"),au=Hu(Ws,"Map"),du=Hu(Ws,"Promise"),lu=Hu(Ws,"Set"),fu=Hu(Ws,"WeakMap"),_u=Hu(Object,"create"),$u=Vu(tu),mu=Vu(au),pu=Vu(du),vu=Vu(lu),Su=Vu(fu),Tu=Bl?Bl.prototype:void 0,Ru=Tu?Tu.valueOf:void 0;function yu(Js){var Il=-1,Wl=Js==null?0:Js.length;for(this.clear();++Il<Wl;){var iu=Js[Il];this.set(iu[0],iu[1])}}function Ou(){this.__data__=_u?_u(null):{},this.size=0}function ju(Js){var Il=this.has(Js)&&delete this.__data__[Js];return this.size-=Il?1:0,Il}function Pu(Js){var Il=this.__data__;if(_u){var Wl=Il[Js];return Wl===os?void 0:Wl}return Xl.call(Il,Js)?Il[Js]:void 0}function Mu(Js){var Il=this.__data__;return _u?Il[Js]!==void 0:Xl.call(Il,Js)}function Ul(Js,Il){var Wl=this.__data__;return this.size+=this.has(Js)?0:1,Wl[Js]=_u&&Il===void 0?os:Il,this}yu.prototype.clear=Ou,yu.prototype.delete=ju,yu.prototype.get=Pu,yu.prototype.has=Mu,yu.prototype.set=Ul;function Fl(Js){var Il=-1,Wl=Js==null?0:Js.length;for(this.clear();++Il<Wl;){var iu=Js[Il];this.set(iu[0],iu[1])}}function ru(){this.__data__=[],this.size=0}function Yl(Js){var Il=this.__data__,Wl=qu(Il,Js);if(Wl<0)return!1;var iu=Il.length-1;return Wl==iu?Il.pop():Al.call(Il,Wl,1),--this.size,!0}function su(Js){var Il=this.__data__,Wl=qu(Il,Js);return Wl<0?void 0:Il[Wl][1]}function ou(Js){return qu(this.__data__,Js)>-1}function cu(Js,Il){var Wl=this.__data__,iu=qu(Wl,Js);return iu<0?(++this.size,Wl.push([Js,Il])):Wl[iu][1]=Il,this}Fl.prototype.clear=ru,Fl.prototype.delete=Yl,Fl.prototype.get=su,Fl.prototype.has=ou,Fl.prototype.set=cu;function bu(Js){var Il=-1,Wl=Js==null?0:Js.length;for(this.clear();++Il<Wl;){var iu=Js[Il];this.set(iu[0],iu[1])}}function Gu(){this.size=0,this.__data__={hash:new yu,map:new(au||Fl),string:new yu}}function dp(Js){var Il=Zu(this,Js).delete(Js);return this.size-=Il?1:0,Il}function pp(Js){return Zu(this,Js).get(Js)}function fp(Js){return Zu(this,Js).has(Js)}function hp(Js,Il){var Wl=Zu(this,Js),iu=Wl.size;return Wl.set(Js,Il),this.size+=Wl.size==iu?0:1,this}bu.prototype.clear=Gu,bu.prototype.delete=dp,bu.prototype.get=pp,bu.prototype.has=fp,bu.prototype.set=hp;function Ku(Js){var Il=-1,Wl=Js==null?0:Js.length;for(this.__data__=new bu;++Il<Wl;)this.add(Js[Il])}function mp(Js){return this.__data__.set(Js,os),this}function gp(Js){return this.__data__.has(Js)}Ku.prototype.add=Ku.prototype.push=mp,Ku.prototype.has=gp;function Lu(Js){var Il=this.__data__=new Fl(Js);this.size=Il.size}function xp(){this.__data__=new Fl,this.size=0}function vp(Js){var Il=this.__data__,Wl=Il.delete(Js);return this.size=Il.size,Wl}function yp(Js){return this.__data__.get(Js)}function bp(Js){return this.__data__.has(Js)}function Sp(Js,Il){var Wl=this.__data__;if(Wl instanceof Fl){var iu=Wl.__data__;if(!au||iu.length<ns-1)return iu.push([Js,Il]),this.size=++Wl.size,this;Wl=this.__data__=new bu(iu)}return Wl.set(Js,Il),this.size=Wl.size,this}Lu.prototype.clear=xp,Lu.prototype.delete=vp,Lu.prototype.get=yp,Lu.prototype.has=bp,Lu.prototype.set=Sp;function Cp(Js,Il){var Wl=Yu(Js),iu=!Wl&&Np(Js),hu=!Wl&&!iu&&Qu(Js),uu=!Wl&&!iu&&!hu&&ap(Js),xu=Wl||iu||hu||uu,Cu=xu?Bs(Js.length,String):[],Eu=Cu.length;for(var gu in Js)(Il||Xl.call(Js,gu))&&!(xu&&(gu=="length"||hu&&(gu=="offset"||gu=="parent")||uu&&(gu=="buffer"||gu=="byteLength"||gu=="byteOffset")||Mp(gu,Eu)))&&Cu.push(gu);return Cu}function qu(Js,Il){for(var Wl=Js.length;Wl--;)if(np(Js[Wl][0],Il))return Wl;return-1}function $p(Js,Il,Wl){var iu=Il(Js);return Yu(Js)?iu:Rl(iu,Wl(Js))}function zu(Js){return Js==null?Js===void 0?Is:xs:Nl&&Nl in Object(Js)?kp(Js):Lp(Js)}function _d(Js){return Wu(Js)&&zu(Js)==cs}function ep(Js,Il,Wl,iu,hu){return Js===Il?!0:Js==null||Il==null||!Wu(Js)&&!Wu(Il)?Js!==Js&&Il!==Il:Ep(Js,Il,Wl,iu,ep,hu)}function Ep(Js,Il,Wl,iu,hu,uu){var xu=Yu(Js),Cu=Yu(Il),Eu=xu?us:Nu(Js),gu=Cu?us:Nu(Il);Eu=Eu==cs?ys:Eu,gu=gu==cs?ys:gu;var Iu=Eu==ys,Du=gu==ys,wu=Eu==gu;if(wu&&Qu(Js)){if(!Qu(Il))return!1;xu=!0,Iu=!1}if(wu&&!Iu)return uu||(uu=new Lu),xu||ap(Js)?tp(Js,Il,Wl,iu,hu,uu):Ip(Js,Il,Eu,Wl,iu,hu,uu);if(!(Wl&ss)){var ku=Iu&&Xl.call(Js,"__wrapped__"),Au=Du&&Xl.call(Il,"__wrapped__");if(ku||Au){var Bu=ku?Js.value():Js,Fu=Au?Il.value():Il;return uu||(uu=new Lu),hu(Bu,Fu,Wl,iu,uu)}}return wu?(uu||(uu=new Lu),Pp(Js,Il,Wl,iu,hu,uu)):!1}function wp(Js){if(!sp(Js)||jp(Js))return!1;var Il=op(Js)?Gl:Hs;return Il.test(Vu(Js))}function Tp(Js){return Wu(Js)&&ip(Js.length)&&!!qs[zu(Js)]}function Rp(Js){if(!Fp(Js))return Zl(Js);var Il=[];for(var Wl in Object(Js))Xl.call(Js,Wl)&&Wl!="constructor"&&Il.push(Wl);return Il}function tp(Js,Il,Wl,iu,hu,uu){var xu=Wl&ss,Cu=Js.length,Eu=Il.length;if(Cu!=Eu&&!(xu&&Eu>Cu))return!1;var gu=uu.get(Js);if(gu&&uu.get(Il))return gu==Il;var Iu=-1,Du=!0,wu=Wl&as?new Ku:void 0;for(uu.set(Js,Il),uu.set(Il,Js);++Iu<Cu;){var ku=Js[Iu],Au=Il[Iu];if(iu)var Bu=xu?iu(Au,ku,Iu,Il,Js,uu):iu(ku,Au,Iu,Js,Il,uu);if(Bu!==void 0){if(Bu)continue;Du=!1;break}if(wu){if(!yl(Il,function(Fu,Uu){if(!Ys(wu,Uu)&&(ku===Fu||hu(ku,Fu,Wl,iu,uu)))return wu.push(Uu)})){Du=!1;break}}else if(!(ku===Au||hu(ku,Au,Wl,iu,uu))){Du=!1;break}}return uu.delete(Js),uu.delete(Il),Du}function Ip(Js,Il,Wl,iu,hu,uu,xu){switch(Wl){case ks:if(Js.byteLength!=Il.byteLength||Js.byteOffset!=Il.byteOffset)return!1;Js=Js.buffer,Il=Il.buffer;case As:return!(Js.byteLength!=Il.byteLength||!uu(new Hl(Js),new Hl(Il)));case ps:case fs:case bs:return np(+Js,+Il);case hs:return Js.name==Il.name&&Js.message==Il.message;case $s:case ws:return Js==Il+"";case vs:var Cu=Cl;case Es:var Eu=iu&ss;if(Cu||(Cu=xl),Js.size!=Il.size&&!Eu)return!1;var gu=xu.get(Js);if(gu)return gu==Il;iu|=as,xu.set(Js,Il);var Iu=tp(Cu(Js),Cu(Il),iu,hu,uu,xu);return xu.delete(Js),Iu;case Ts:if(Ru)return Ru.call(Js)==Ru.call(Il)}return!1}function Pp(Js,Il,Wl,iu,hu,uu){var xu=Wl&ss,Cu=rp(Js),Eu=Cu.length,gu=rp(Il),Iu=gu.length;if(Eu!=Iu&&!xu)return!1;for(var Du=Eu;Du--;){var wu=Cu[Du];if(!(xu?wu in Il:Xl.call(Il,wu)))return!1}var ku=uu.get(Js);if(ku&&uu.get(Il))return ku==Il;var Au=!0;uu.set(Js,Il),uu.set(Il,Js);for(var Bu=xu;++Du<Eu;){wu=Cu[Du];var Fu=Js[wu],Uu=Il[wu];if(iu)var lp=xu?iu(Uu,Fu,wu,Il,Js,uu):iu(Fu,Uu,wu,Js,Il,uu);if(!(lp===void 0?Fu===Uu||hu(Fu,Uu,Wl,iu,uu):lp)){Au=!1;break}Bu||(Bu=wu=="constructor")}if(Au&&!Bu){var Ju=Js.constructor,Xu=Il.constructor;Ju!=Xu&&"constructor"in Js&&"constructor"in Il&&!(typeof Ju=="function"&&Ju instanceof Ju&&typeof Xu=="function"&&Xu instanceof Xu)&&(Au=!1)}return uu.delete(Js),uu.delete(Il),Au}function rp(Js){return $p(Js,Up,Ap)}function Zu(Js,Il){var Wl=Js.__data__;return Dp(Il)?Wl[typeof Il=="string"?"string":"hash"]:Wl.map}function Hu(Js,Il){var Wl=_l(Js,Il);return wp(Wl)?Wl:void 0}function kp(Js){var Il=Xl.call(Js,Nl),Wl=Js[Nl];try{Js[Nl]=void 0;var iu=!0}catch{}var hu=Kl.call(Js);return iu&&(Il?Js[Nl]=Wl:delete Js[Nl]),hu}var Ap=eu?function(Js){return Js==null?[]:(Js=Object(Js),wl(eu(Js),function(Il){return Qs.call(Js,Il)}))}:Gp,Nu=zu;(tu&&Nu(new tu(new ArrayBuffer(1)))!=ks||au&&Nu(new au)!=vs||du&&Nu(du.resolve())!=Ss||lu&&Nu(new lu)!=Es||fu&&Nu(new fu)!=Rs)&&(Nu=function(Js){var Il=zu(Js),Wl=Il==ys?Js.constructor:void 0,iu=Wl?Vu(Wl):"";if(iu)switch(iu){case $u:return ks;case mu:return vs;case pu:return Ss;case vu:return Es;case Su:return Rs}return Il});function Mp(Js,Il){return Il=Il==null?ls:Il,!!Il&&(typeof Js=="number"||zs.test(Js))&&Js>-1&&Js%1==0&&Js<Il}function Dp(Js){var Il=typeof Js;return Il=="string"||Il=="number"||Il=="symbol"||Il=="boolean"?Js!=="__proto__":Js===null}function jp(Js){return!!Ql&&Ql in Js}function Fp(Js){var Il=Js&&Js.constructor,Wl=typeof Il=="function"&&Il.prototype||Ol;return Js===Wl}function Lp(Js){return Kl.call(Js)}function Vu(Js){if(Js!=null){try{return Vl.call(Js)}catch{}try{return Js+""}catch{}}return""}function np(Js,Il){return Js===Il||Js!==Js&&Il!==Il}var Np=_d(function(){return arguments}())?_d:function(Js){return Wu(Js)&&Xl.call(Js,"callee")&&!Qs.call(Js,"callee")},Yu=Array.isArray;function Bp(Js){return Js!=null&&ip(Js.length)&&!op(Js)}var Qu=Jl||Hp;function Vp(Js,Il){return ep(Js,Il)}function op(Js){if(!sp(Js))return!1;var Il=zu(Js);return Il==ms||Il==gs||Il==ds||Il==Cs}function ip(Js){return typeof Js=="number"&&Js>-1&&Js%1==0&&Js<=ls}function sp(Js){var Il=typeof Js;return Js!=null&&(Il=="object"||Il=="function")}function Wu(Js){return Js!=null&&typeof Js=="object"}var ap=Ml?Zs(Ml):Tp;function Up(Js){return Bp(Js)?Cp(Js):Rp(Js)}function Gp(){return[]}function Hp(){return!1}ts.exports=Vp});reactExports.createContext(null);var Gx;styled(VideoTile)(Gx||(Gx=zl(["\n  background-color: ",";\n"])),({theme:ts})=>ts.colors.greys.grey80);function useApplyVideoObjectFit(ts){reactExports.useEffect(()=>{var rs;function ns(){if(!ts.current)return;const os=ts.current.videoHeight,ss=ts.current.videoWidth;ts.current.style.objectFit=os>ss?"contain":"cover"}return(rs=ts.current)===null||rs===void 0||rs.addEventListener("loadedmetadata",ns),()=>{var os;return(os=ts.current)===null||os===void 0?void 0:os.removeEventListener("loadedmetadata",ns)}},[ts])}var Hx;const StyledLocalVideo=styled(VideoTile)(Hx||(Hx=zl(["\n  ",";\n"])),ts=>ts.active?"":"display: none"),LocalVideo=ts=>{var{nameplate:rs}=ts,ns=__rest(ts,["nameplate"]);const{tileId:os,isVideoEnabled:ss}=useLocalVideo(),as=useAudioVideo(),ls=reactExports.useRef(null);return useApplyVideoObjectFit(ls),reactExports.useEffect(()=>{if(!(!as||!os||!ls.current||!ss))return as.bindVideoElement(os,ls.current),()=>{as.getVideoTile(os)&&as.unbindVideoElement(os)}},[as,os,ss]),React$2.createElement(StyledLocalVideo,Object.assign({active:ss,nameplate:rs,ref:ls},ns))};var zx;styled(VideoTile)(zx||(zx=zl(["\n  height: auto;\n  background: unset;\n\n  video {\n    position: static;\n  }\n"])));const RemoteVideo=ts=>{var{name:rs,className:ns,tileId:os}=ts,ss=__rest(ts,["name","className","tileId"]);const as=useAudioVideo(),ls=reactExports.useRef(null);return useApplyVideoObjectFit(ls),reactExports.useEffect(()=>{if(!(!as||!ls.current))return as.bindVideoElement(os,ls.current),()=>{as.getVideoTile(os)&&as.unbindVideoElement(os)}},[as,os]),React$2.createElement(VideoTile,Object.assign({},ss,{ref:ls,nameplate:rs,className:"ch-remote-video--".concat(os," ").concat(ns||"")}))},RemoteVideos=ts=>{const{roster:rs}=useRosterState(),{tiles:ns,tileIdToAttendeeId:os}=useRemoteVideoTileState();return React$2.createElement(React$2.Fragment,null,ns.map(ss=>{const as=rs[os[ss]]||{},{name:ls}=as;return React$2.createElement(RemoteVideo,Object.assign({},ts,{key:ss,tileId:ss,name:ls}))}))};reactExports.memo(RemoteVideos);const FeaturedRemoteVideos=ts=>{const rs=useGridData(),{roster:ns}=useRosterState(),{tileId:os}=useFeaturedTileState(),{tileId:ss}=useContentShareState(),{tiles:as,tileIdToAttendeeId:ls}=useRemoteVideoTileState();return React$2.createElement(React$2.Fragment,null,as.map(cs=>{const us=!ss&&os===cs,ds=rs&&us?"grid-area: ft;":"",ps="".concat(us?"ch-featured-tile":""," ").concat(ts.className||""),fs=ns[ls[cs]]||{},{name:hs}=fs;return React$2.createElement(RemoteVideo,Object.assign({tileId:cs,name:hs},ts,{className:ps,key:cs,css:ds}))}))};reactExports.memo(FeaturedRemoteVideos);var Wx;const StyledMicVolumeIndicator=styled.div(Wx||(Wx=zl(["\n  position: relative;\n  height: inherit;\n  line-height: 0;\n\n  .ch-mic-icon {\n    position: relative;\n    z-index: 2;\n    width: 100%;\n  }\n\n  .ch-bg-volume-wrapper {\n    position: absolute;\n    bottom: 41%;\n    left: 40%;\n    height: 38%;\n    width: 21%;\n    border-radius: 20%;\n    overflow: hidden;\n  }\n\n  .ch-bg-volume-fill {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    transform-origin: bottom;\n    will-change: transform;\n    background-color: ",";\n  }\n\n  ","\n  ","\n"])),ts=>ts.signalStrength&&ts.signalStrength<=.5?ts.theme.colors.error.light:ts.theme.colors.primary.light,baseSpacing,baseStyles);reactExports.forwardRef((ts,rs)=>{var{muted:ns=!1,signalStrength:os,className:ss}=ts,as=__rest(ts,["muted","signalStrength","className"]);const ls=os!==void 0&&os<=.5,cs=ss?"".concat(ss," ch-mic-volume-indicator"):"ch-mic-volume-indicator";return React$2.createElement(StyledMicVolumeIndicator,Object.assign({className:cs,signalStrength:os,muted:ns},as),React$2.createElement(Microphone,{muted:ns,className:"ch-mic-icon",poorConnection:ls}),React$2.createElement("div",{className:"ch-bg-volume-wrapper"},React$2.createElement("div",{ref:rs,className:"ch-bg-volume-fill","data-testid":"volume-fill"})))});reactExports.createContext(void 0);const fonts={body:"'Ember', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;",monospace:"Menlo, monospace"},radii={default:"0.25rem",circle:"50%"},zIndex={navigation:10,controlBar:15,modal:20,popOver:30,notificationGroup:40},breakpoints=["20rem","35.5rem","48rem","64rem","90rem"];breakpoints.xs=breakpoints[0];breakpoints.sm=breakpoints[1];breakpoints.md=breakpoints[2];breakpoints.lg=breakpoints[3];breakpoints.xl=breakpoints[4];const mediaQueries={min:{xs:"@media screen and (min-width: ".concat(breakpoints.xs,")"),sm:"@media screen and (min-width: ".concat(breakpoints.sm,")"),md:"@media screen and (min-width: ".concat(breakpoints.md,")"),lg:"@media screen and (min-width: ".concat(breakpoints.lg,")"),xl:"@media screen and (min-width: ".concat(breakpoints.xl,")")},max:{xs:"@media screen and (max-width: ".concat(breakpoints.xs,")"),sm:"@media screen and (max-width: ".concat(breakpoints.sm,")"),md:"@media screen and (max-width: ".concat(breakpoints.md,")"),lg:"@media screen and (max-width: ".concat(breakpoints.lg,")"),xl:"@media screen and (max-width: ".concat(breakpoints.xl,")")}},fontSizes={baseFontSize:"16px",fontWeight:"normal",h1:{fontSize:"5.3rem",fontWeight:"normal",lineHeight:"5.625rem",mobile:{fontSize:"3.8125rem",fontWeight:"normal",lineHeight:"5.625rem"}},h2:{fontSize:"3.925rem",fontWeight:"normal",lineHeight:"3.75rem",mobile:{fontSize:"3.05rem",fontWeight:"normal",lineHeight:"4.5rem"}},h3:{fontSize:"2.44125rem",fontWeight:"normal",lineHeight:"3.75rem",mobile:{fontSize:"2.90625rem",fontWeight:"normal",lineHeight:"3rem"}},h4:{fontSize:"1.953125rem",fontWeight:"normal",lineHeight:"3.75rem",mobile:{fontSize:"2.15rem",fontWeight:"normal",lineHeight:"3rem"}},h5:{fontSize:"1.5625rem",fontWeight:"normal",lineHeight:"3rem",mobile:{fontSize:"1.59375rem",fontWeight:"normal",lineHeight:"1.875rem"}},h6:{fontSize:"1.25rem",fontWeight:"normal",lineHeight:"1.875rem",mobile:{fontSize:"1.18125rem",fontWeight:"normal",lineHeight:"1.5rem"}},text:{fontSize:"0.875rem",lineHeight:"1.43"},label:{fontSize:"0.875rem",lineHeight:"1.43"},small:{fontSize:"0.75rem",lineHeight:"1.43"},footnote:{fontSize:"0.65rem",lineHeight:"1rem"}},modalSizes={md:{width:"35rem",height:"94vh"},lg:{width:"50rem",height:"94vh"},fullscreen:{width:"98vw",height:"96vh"}},iconButtonSizes={sm:"1.5rem",md:"2.5rem",lg:"4rem"},defaultTheme={breakpoints,mediaQueries,fonts,fontSizes,radii,zIndex,modalSizes,iconButtonSizes},colors$1={primary:{lightest:"#88b2ff",lighter:"#5d96ff",light:"#327aff",main:"#075fff",dark:"#004ddb",darker:"#0042bb",darkest:"#002f85"},secondary:{light:"#ff8e74",main:"#ff7654",dark:"#e86c4d"},error:{lightest:"#FCF7F6",lighter:"#F5DDD5",light:"#FF927C",primary:"#C52000",dark:"#9E3319",darker:"#89301A",darkest:"#791800"},success:{lightest:"#EBF1EA",lighter:"#CEE0C8",light:"#50CD49",primary:"#067000",dark:"#305D1D",darker:"#2C511D",darkest:"#184206"},info:{lightest:"#DADFE7",lighter:"#C4CCD9",light:"#418AFD",primary:"#2555A0",dark:"#264A82",darker:"#243F6B",darkest:"#123366"},warning:{lightest:"#FAF8EA",lighter:"#F7E79E",light:"#F9DC60",primary:"#F9CC09",dark:"#665A2A",darker:"#584E26",darkest:"#534201"},greys:{black:"#000000",grey100:"#1b1c20",grey90:"#2e2f34",grey80:"#3f4149",grey70:"#50545e",grey60:"#616672",grey50:"#7d818b",grey40:"#989da5",grey30:"#d4d5d8",grey20:"#e4e9f2",grey10:"#f0f1f2",white:"#ffffff"}},globalStyle$1={bgd:colors$1.greys.white,text:colors$1.greys.grey80,fontSize:defaultTheme.fontSizes.baseFontSize},shadows$1={none:"none",small:"0 0.09375rem 0.0625rem 0 ".concat(hexTorgba(colors$1.greys.grey100,.15)),medium:"0 0.5rem 0.85rem 0 ".concat(hexTorgba(colors$1.greys.black,.15)),large:"0 0.75rem 1.875rem 0 ".concat(hexTorgba(colors$1.greys.black,.15))},buttons$1={primary:{shadow:shadows$1.none,static:{bgd:colors$1.primary.light,border:"0.03125rem solid ".concat(colors$1.primary.darker),text:colors$1.greys.white,shadow:"none"},hover:{bgd:colors$1.primary.dark,border:"0.03125rem solid ".concat(colors$1.primary.darkest),text:colors$1.greys.white,shadow:"none"},focus:{bgd:colors$1.primary.dark,border:"0.03125rem solid ".concat(colors$1.primary.darker),text:colors$1.greys.white,shadow:"0 0 0 0.25rem ".concat(colors$1.primary.lightest)},active:{bgd:colors$1.primary.darker,border:"0.03125rem solid ".concat(colors$1.greys.black),text:colors$1.greys.white,shadow:"0 0 0 0.25rem ".concat(colors$1.primary.lightest)},selected:{bgd:colors$1.primary.light,border:"0.03125rem solid ".concat(colors$1.primary.dark),text:colors$1.greys.white,shadow:"none"},disabled:{bgd:colors$1.greys.white,border:"0.03125rem solid ".concat(colors$1.greys.grey10),text:colors$1.greys.grey40,shadow:"none"}},secondary:{shadow:shadows$1.none,static:{bgd:colors$1.greys.white,border:"0.03125rem solid ".concat(colors$1.greys.grey30),text:colors$1.greys.grey80,shadow:"none"},hover:{bgd:colors$1.greys.grey10,border:"0.03125rem solid ".concat(colors$1.greys.grey30),text:colors$1.greys.grey80,shadow:"none"},focus:{bgd:colors$1.greys.grey10,border:"0.03125rem solid ".concat(colors$1.primary.dark),text:colors$1.greys.grey80,shadow:"0 0 0 0.25rem ".concat(colors$1.primary.light)},active:{bgd:colors$1.greys.grey20,border:"0.03125rem solid ".concat(colors$1.greys.grey40),text:colors$1.greys.grey80,shadow:"0 0 0 0.25rem ".concat(colors$1.primary.dark)},selected:{bgd:colors$1.greys.grey10,border:"0.03125rem solid ".concat(colors$1.greys.grey30),text:colors$1.greys.grey80,shadow:"0 0 0 0.25rem ".concat(colors$1.primary.dark)},disabled:{bgd:colors$1.greys.white,border:"0.03125rem solid ".concat(colors$1.greys.grey10),text:colors$1.greys.grey40,shadow:"none"}},icon:{shadow:shadows$1.none,static:{bgd:"transparent",border:"0.03125rem  solid transparent",text:colors$1.greys.grey80,shadow:"none"},hover:{bgd:colors$1.primary.dark,border:"0.03125rem  solid transparent",text:colors$1.greys.white,shadow:"none"},focus:{bgd:"transparent",border:"0.03125rem  solid ".concat(colors$1.primary.darker),text:colors$1.greys.grey80,shadow:"0 0 0 0.25rem ".concat(colors$1.primary.lightest)},active:{bgd:colors$1.primary.darker,border:"0.03125rem  solid ".concat(colors$1.primary.darker),text:colors$1.greys.white,shadow:"0 0 0 0.25rem ".concat(colors$1.primary.lightest)},selected:{bgd:colors$1.primary.light,border:"0.03125rem  solid ".concat(colors$1.primary.darker),text:colors$1.greys.white,shadow:"none"},disabled:{bgd:"transparent",border:"none",text:colors$1.greys.grey40,shadow:"none"}}},inputs$1={bgd:colors$1.greys.white,border:"0.03125rem solid ".concat(colors$1.greys.grey30),borderRadius:defaultTheme.radii.default,fontColor:colors$1.greys.grey80,placeholder:colors$1.greys.grey40,shadow:"0 0.0625rem 0.0625rem 0 ".concat(hexTorgba(colors$1.greys.black,.1)),clearBg:colors$1.greys.grey50,focus:{bgd:colors$1.greys.white,border:"solid 0.03125rem ".concat(colors$1.primary.lighter),shadow:"0 0 0 0.125rem ".concat(colors$1.primary.lightest)},error:{border:"0.03125rem solid ".concat(colors$1.error.dark),fontColor:colors$1.error.primary,shadow:"0 0 0 0.125rem ".concat(colors$1.error.light)},checked:{bgd:colors$1.primary.main,border:"solid 0.03125rem ".concat(colors$1.primary.main),fontColor:colors$1.greys.white,shadow:"0 0.03125rem 0.03125rem 0 ".concat(hexTorgba(colors$1.primary.dark,.7))}},modal$1={bgd:colors$1.greys.white,text:colors$1.greys.grey80,wrapperBgd:hexTorgba(colors$1.greys.grey50,.9),titleSize:defaultTheme.fontSizes.h5.fontSize,titleWeight:"normal",shadow:shadows$1.large,border:colors$1.greys.grey30},popOver$1={menuBgd:"".concat(hexTorgba(colors$1.greys.grey10,.85)),menuBorder:"0.5px solid ".concat(colors$1.greys.grey20),shadow:shadows$1.large,itemBgd:"transparent",itemText:colors$1.greys.grey70,titleText:colors$1.greys.grey60,active:{itemBgd:colors$1.primary.dark,itemText:colors$1.greys.white},disabled:colors$1.greys.grey40,separator:"".concat(hexTorgba(colors$1.greys.grey40,.3))},notification$1={shadow:shadows$1.large,error:{text:colors$1.error.lightest,closeButton:{text:colors$1.error.lighter,hover:{bgd:colors$1.error.lighter,text:colors$1.error.dark},active:{bgd:colors$1.error.lightest,text:colors$1.error.darker}}},success:{text:colors$1.success.lightest,closeButton:{text:colors$1.success.lighter,hover:{bgd:colors$1.success.lighter,text:colors$1.success.dark},active:{bgd:colors$1.success.lightest,text:colors$1.success.darker}}},info:{text:colors$1.info.lightest,closeButton:{text:colors$1.info.lighter,hover:{bgd:colors$1.info.lighter,text:colors$1.info.dark},active:{bgd:colors$1.info.lightest,text:colors$1.info.darker}}},warning:{text:colors$1.warning.darker,closeButton:{text:colors$1.warning.dark,hover:{bgd:colors$1.warning.dark,text:colors$1.greys.white},active:{bgd:colors$1.warning.darker,text:colors$1.greys.white}}}},links$1={fontColor:colors$1.primary.main,fontColorHover:colors$1.primary.dark,fontColorActive:colors$1.primary.darker,fontColorVisited:colors$1.primary.darkest},controlBar$1={text:colors$1.greys.grey70,shadow:shadows$1.large,bgd:colors$1.greys.white,border:"0.03125rem solid ".concat(colors$1.greys.grey20),opacity:1,selected:{text:buttons$1.primary.selected.text,bgd:buttons$1.primary.selected.bgd}},roster$1={title:colors$1.greys.grey100,primaryText:colors$1.greys.grey80,secondaryText:colors$1.greys.grey50,headerBorder:colors$1.greys.grey40,containerBorder:colors$1.greys.grey30,bgd:colors$1.greys.grey10,fgd:colors$1.greys.white,shadow:shadows$1.large,maxWidth:"18.5rem"},navbar$1={text:colors$1.greys.grey80,bgd:colors$1.greys.grey10,headerBorder:colors$1.greys.grey40,wrapperBgd:hexTorgba(colors$1.greys.grey50,.9)},videoGrid$1={bgd:colors$1.greys.white},chatBubble$1={incoming:{bgd:colors$1.greys.white,fontColor:colors$1.greys.grey60,linkColor:colors$1.primary.main,linkColorHover:colors$1.primary.dark,linkColorActive:colors$1.primary.darker,linkColorVisited:colors$1.primary.darkest},outgoing:{bgd:colors$1.primary.main,fontColor:colors$1.greys.grey10,linkColor:colors$1.greys.white,linkColorHover:colors$1.greys.grey10,linkColorActive:colors$1.greys.grey20,linkColorVisited:colors$1.greys.grey30},container:{fontColor:colors$1.greys.grey70,bgd:colors$1.greys.grey10}},messageAttachment$1={size:{fontColor:colors$1.greys.grey40,bgd:colors$1.greys.white,letterSpacing:"-0.07px",lineHight:"16px",fontSize:"10.4px"},icon:{bgd:colors$1.greys.grey10,color:colors$1.greys.grey80},name:{fontColor:colors$1.greys.grey80},content:{letterSpacing:"-0.09px",bgd:colors$1.greys.white,fontColor:colors$1.greys.grey80}},channelList$1={bgd:colors$1.greys.white,fontColor:colors$1.greys.grey70,border:"1px solid transparent",active:{bgd:colors$1.primary.dark,fontColor:colors$1.greys.white},hover:{bgd:colors$1.greys.grey10},focus:{border:"1px solid ".concat(colors$1.primary.dark),selectedBorder:"1px solid ".concat(colors$1.greys.grey10)},selected:{bgd:colors$1.primary.light,fontColor:colors$1.greys.white},iconButton:{activeBgd:colors$1.greys.white}},chatDateHeader$1={bgd:colors$1.greys.grey60,fontColor:colors$1.greys.white},lightTheme=Object.assign({name:"Light Theme",buttons:buttons$1,colors:colors$1,globalStyle:globalStyle$1,links:links$1,shadows:shadows$1,inputs:inputs$1,modal:modal$1,popOver:popOver$1,notification:notification$1,controlBar:controlBar$1,roster:roster$1,navbar:navbar$1,videoGrid:videoGrid$1,chatBubble:chatBubble$1,channelList:channelList$1,chatDateHeader:chatDateHeader$1,messageAttachment:messageAttachment$1},defaultTheme),colors={primary:{lightest:"#9DEFFB",lighter:"#8AEBFA",light:"#62E5F9",main:"#4FE2F8",dark:"#29DCF8",darker:"#22B6CB",darkest:"#1FA1B5"},secondary:{light:"#FF8B70",main:"#FF9B83",dark:"#FFB4A1"},error:{lightest:"#FBC1C0",lighter:"#FDA8A6",light:"#FD9B99",primary:"#FF8B8A",dark:"#583A39",darker:"#452F2E",darkest:"#302020"},success:{lightest:"#F4FBF1",lighter:"#D2F1C5",light:"#BAF39E",primary:"#A3E881",dark:"#4F6444",darker:"#46573D",darkest:"#324129"},info:{lightest:"#F0F5FD",lighter:"#D8E6FB",light:"#C4DBFF",primary:"#BAD4FF",dark:"#555B69",darker:"#494F59",darkest:"#343C48"},warning:{lightest:"#FDFDF7",lighter:"#3F4149",light:"#FFEB96",primary:"#FBDF64",dark:"#6D653C",darker:"#5E5736",darkest:"#47422D"},greys:{black:"#000000",grey100:"#1b1c20",grey90:"#2e2f34",grey80:"#3f4149",grey70:"#50545e",grey60:"#616672",grey50:"#7d818b",grey40:"#989da5",grey30:"#d4d5d8",grey20:"#e4e9f2",grey10:"#f0f1f2",white:"#ffffff"}},globalStyle={bgd:colors.greys.grey80,text:colors.greys.white,fontSize:defaultTheme.fontSizes.baseFontSize},shadows={none:"none",small:"",medium:"",large:"0 0.75rem 1.875rem 0 ".concat(hexTorgba(colors.greys.black,.15))},buttons={primary:{shadow:shadows.none,static:{bgd:colors.primary.main,border:"0.03125rem solid ".concat(colors.greys.black),text:colors.greys.grey80,shadow:"none"},hover:{bgd:colors.primary.dark,border:"0.03125rem solid ".concat(colors.greys.black),text:colors.greys.grey80,shadow:"none"},focus:{bgd:colors.primary.dark,border:"0.03125rem solid ".concat(colors.greys.black),text:colors.greys.grey80,shadow:"0 0 0 0.25rem ".concat(colors.primary.darkest)},active:{bgd:colors.primary.darker,border:"0.03125rem solid ".concat(colors.greys.black),text:colors.greys.grey80,shadow:"none"},selected:{bgd:colors.primary.light,border:"0.03125rem solid ".concat(colors.greys.black),text:colors.greys.grey80,shadow:"none"},disabled:{bgd:colors.greys.grey80,border:"0.03125rem solid ".concat(hexTorgba(colors.greys.black,.4)),text:colors.greys.grey40,shadow:"none"}},secondary:{shadow:shadows.none,static:{bgd:colors.greys.grey50,border:"0.03125rem solid ".concat(colors.greys.black),text:colors.greys.white,shadow:"none"},hover:{bgd:colors.greys.grey60,border:"0.03125rem solid ".concat(colors.greys.black),text:colors.greys.white,shadow:"none"},focus:{bgd:colors.greys.grey60,border:"0.03125rem solid ".concat(colors.greys.black),text:colors.greys.white,shadow:"0 0 0 0.25rem ".concat(colors.primary.lighter)},active:{bgd:colors.greys.grey70,border:"0.03125rem solid ".concat(colors.greys.black),text:colors.greys.white,shadow:"none"},selected:{bgd:colors.greys.grey60,border:"0.03125rem solid ".concat(colors.greys.black),text:colors.greys.white,shadow:"none"},disabled:{bgd:colors.greys.grey80,border:"0.03125rem solid ".concat(hexTorgba(colors.greys.black,.6)),text:colors.greys.grey40,shadow:"none"}},icon:{shadow:shadows.none,static:{bgd:"transparent",border:"0.03125rem solid transparent",text:colors.greys.grey20,shadow:"none"},hover:{bgd:colors.primary.dark,border:"0.03125rem  solid ".concat(colors.greys.black),text:colors.greys.grey80,shadow:"none"},focus:{bgd:"transparent",border:"0.03125rem solid ".concat(colors.greys.black),text:colors.greys.grey80,shadow:"0 0 0 0.25rem ".concat(colors.primary.darker)},active:{bgd:colors.primary.darker,border:"0.03125rem solid ".concat(colors.greys.black),text:colors.greys.grey80,shadow:"none"},selected:{bgd:colors.primary.light,border:"0 solid ".concat(colors.greys.black),text:colors.greys.grey80,shadow:"none"},disabled:{bgd:"transparent",border:"none",text:colors.greys.grey40,shadow:"none"}}},inputs={bgd:colors.greys.grey80,border:"0.03125rem solid ".concat(colors.greys.black),borderRadius:defaultTheme.radii.default,fontColor:colors.greys.white,placeholder:colors.greys.grey50,shadow:"0 0.0625rem 0.0625rem 0 ".concat(hexTorgba(colors.greys.black,.1)),clearBg:colors.greys.white,focus:{bgd:colors.greys.white,border:"solid 0.03125rem ".concat(colors.primary.main),shadow:"0 0 0 0.125rem ".concat(colors.primary.lighter)},error:{border:"0.03125rem solid ".concat(colors.error.primary),fontColor:colors.error.primary,shadow:"0 0 0 0.125rem ".concat(colors.error.light)},checked:{bgd:colors.primary.main,border:"solid 0.03125rem ".concat(colors.primary.dark),fontColor:colors.greys.grey80,shadow:"inset 0 0.03125rem 0 0 ".concat(hexTorgba(colors.greys.white,.1))}},modal={bgd:colors.greys.grey80,text:colors.greys.white,wrapperBgd:hexTorgba(colors.greys.grey60,.9),titleSize:defaultTheme.fontSizes.h5.fontSize,titleWeight:"normal",shadow:"0 1rem 2rem 0 rgba(0, 0, 0, ".concat(hexTorgba(colors.greys.black,.15),")"),border:colors.greys.black},popOver={menuBgd:"".concat(hexTorgba(colors.greys.grey90,.85)),menuBorder:colors.greys.grey100,shadow:shadows.large,itemBgd:"transparent",itemText:colors.greys.white,titleText:colors.greys.white,active:{itemBgd:colors.primary.dark,itemText:colors.greys.grey80},disabled:colors.greys.grey40,separator:colors.greys.grey100},notification={shadow:shadows.large,error:{text:colors.error.darker,closeButton:{text:colors.error.dark,hover:{bgd:colors.error.dark,text:colors.greys.white},active:{bgd:colors.error.darker,text:colors.greys.white}}},success:{text:colors.success.darker,closeButton:{text:colors.success.dark,hover:{bgd:colors.success.dark,text:colors.greys.white},active:{bgd:colors.success.darker,text:colors.greys.white}}},info:{text:colors.info.darker,closeButton:{text:colors.info.dark,hover:{bgd:colors.info.dark,text:colors.greys.white},active:{bgd:colors.info.darker,text:colors.greys.white}}},warning:{text:colors.warning.darker,closeButton:{text:colors.warning.dark,hover:{bgd:colors.warning.dark,text:colors.greys.white},active:{bgd:colors.warning.darker,text:colors.greys.white}}}},links={fontColor:colors.primary.main,fontColorHover:colors.primary.dark,fontColorActive:colors.primary.darker,fontColorVisited:colors.primary.darkest},controlBar={text:colors.greys.grey20,shadow:shadows.large,bgd:colors.greys.grey100,border:"none",opacity:1,selected:{text:buttons.primary.selected.text,bgd:buttons.primary.selected.bgd}},roster={title:colors.greys.white,primaryText:colors.greys.white,secondaryText:colors.greys.grey20,headerBorder:colors.greys.black,containerBorder:colors.greys.black,bgd:colors.greys.grey100,fgd:colors.greys.grey60,shadow:shadows.large,maxWidth:"18.5rem"},navbar={text:colors.greys.white,bgd:colors.greys.grey100,headerBorder:colors.greys.black,wrapperBgd:hexTorgba(colors.greys.grey60,.9)},videoGrid={bgd:colors.greys.grey90},chatBubble={incoming:{bgd:colors.greys.grey80,fontColor:colors.greys.grey30,linkColor:colors.primary.main,linkColorHover:colors.primary.dark,linkColorActive:colors.primary.darker,linkColorVisited:colors.primary.darkest},outgoing:{bgd:colors.primary.dark,fontColor:colors.greys.grey70,linkColor:colors.greys.grey80,linkColorHover:colors.greys.grey70,linkColorActive:colors.greys.grey60,linkColorVisited:colors.greys.grey50},container:{fontColor:colors.greys.grey30,bgd:colors.greys.black}},messageAttachment={size:{fontColor:colors.greys.grey30,bgd:colors.greys.grey10,letterSpacing:"-0.07px",lineHight:"16px",fontSize:"10.4px"},icon:{bgd:colors.greys.grey40,color:colors.greys.grey10},name:{fontColor:colors.greys.white},content:{letterSpacing:"-0.09px",bgd:colors.greys.grey60,fontColor:colors.greys.white}},channelList={bgd:colors.greys.grey80,fontColor:colors.greys.grey10,border:"1px solid transparent",active:{bgd:colors.primary.dark,fontColor:colors.greys.grey70},hover:{bgd:colors.greys.grey70},focus:{border:"1px solid ".concat(colors.primary.dark),selectedBorder:"1px solid ".concat(colors.greys.grey70)},selected:{bgd:colors.primary.light,fontColor:colors.greys.grey70},iconButton:{activeBgd:colors.greys.grey80}},chatDateHeader={bgd:colors.greys.grey10,fontColor:colors.greys.grey80};Object.assign({name:"Dark Theme",buttons,colors,globalStyle,links,shadows,inputs,modal,popOver,notification,controlBar,roster,navbar,videoGrid,chatBubble,channelList,chatDateHeader,messageAttachment},defaultTheme);var Kx;const StyledReset=Ae(Kx||(Kx=zl(["\n  /* http://meyerweb.com/eric/tools/css/reset/\n    v2.0 | 20110126\n    License: none (public domain)\n  */\n\n  html,\n  body,\n  div,\n  span,\n  applet,\n  object,\n  iframe,\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6,\n  p,\n  blockquote,\n  pre,\n  a,\n  abbr,\n  acronym,\n  address,\n  big,\n  cite,\n  code,\n  del,\n  dfn,\n  em,\n  img,\n  ins,\n  kbd,\n  q,\n  s,\n  samp,\n  small,\n  strike,\n  strong,\n  sub,\n  sup,\n  tt,\n  var,\n  b,\n  u,\n  i,\n  center,\n  dl,\n  dt,\n  dd,\n  ol,\n  ul,\n  li,\n  fieldset,\n  form,\n  label,\n  legend,\n  table,\n  caption,\n  tbody,\n  tfoot,\n  thead,\n  tr,\n  th,\n  td,\n  article,\n  aside,\n  canvas,\n  details,\n  embed,\n  figure,\n  figcaption,\n  footer,\n  header,\n  hgroup,\n  menu,\n  nav,\n  output,\n  ruby,\n  section,\n  summary,\n  time,\n  mark,\n  audio,\n  video {\n    margin: 0;\n    padding: 0;\n    border: 0;\n    font-size: 100%;\n    font: inherit;\n    vertical-align: baseline;\n  }\n  /* HTML5 display-role reset for older browsers */\n  article,\n  aside,\n  details,\n  figcaption,\n  figure,\n  footer,\n  header,\n  hgroup,\n  menu,\n  nav,\n  section {\n    display: block;\n  }\n  body {\n    line-height: 1;\n  }\n  ol,\n  ul {\n    list-style: none;\n  }\n  blockquote,\n  q {\n    quotes: none;\n  }\n  blockquote:before,\n  blockquote:after,\n  q:before,\n  q:after {\n    content: '';\n    content: none;\n  }\n  table {\n    border-collapse: collapse;\n    border-spacing: 0;\n  }\n"])));var qx;const GlobalStyles=$e(qx||(qx=zl(["\n  ",";\n\n  *,\n  *::before,\n  *::after {\n    box-sizing: border-box;\n  }\n\n  html {\n    font-size: ",";\n    font-family: ",";;\n    background-color: ",";\n    color: ",";\n    min-height: 100%;\n  }\n"])),StyledReset,ts=>ts.theme.fontSizes.baseFontSize,ts=>ts.theme.fonts.body,ts=>ts.theme.globalStyle.bgd,ts=>ts.theme.globalStyle.text),buttonSx={fontWeight:"700",textTransform:"none",borderRadius:6,mb:2,ml:1},InviteParticipant=({modalOpen:ts,onClose:rs})=>{const{register:ns,handleSubmit:os,formState:ss}=useForm({mode:"onChange"}),[as,ls]=React$2.useState(!1),[cs,us]=React$2.useState(!1),{zambdaIntakeClient:ds}=useApiClients(),{id:ps}=useParams(),fs=async hs=>{if(ls(!0),us(!1),!ds)throw new Error("Zambda client not found");try{const ms=await inviteParticipant(ds,{appointmentId:ps||"",firstName:hs.firstName,lastName:hs.lastName,phoneNumber:hs.phone,emailAddress:hs.email});console.log("Participant invited successfully",ms),rs()}catch(ms){us(!0),console.error("Failed to invite participant",ms)}finally{ls(!1)}};return jsxRuntimeExports.jsx(Dialog$1,{open:ts,onClose:rs,fullWidth:!0,disableScrollLock:!0,sx:{".MuiPaper-root":{padding:1,width:"444px",maxWidth:"initial"}},children:jsxRuntimeExports.jsxs("form",{onSubmit:os(fs),children:[jsxRuntimeExports.jsx(DialogTitle$1,{variant:"h4",color:"primary.dark",sx:{width:"100%"},children:"Invite Participant"}),jsxRuntimeExports.jsxs(DialogContent$1,{children:[jsxRuntimeExports.jsx(FormControl$1,{fullWidth:!0,required:!0,sx:{mt:2},children:jsxRuntimeExports.jsx(TextField$1,{...ns("firstName",{required:!0}),id:"first-name",label:"First Name",variant:"outlined",fullWidth:!0,error:!!ss.errors.firstName,required:!0})}),jsxRuntimeExports.jsx(FormControl$1,{fullWidth:!0,required:!0,sx:{mt:2},children:jsxRuntimeExports.jsx(TextField$1,{...ns("lastName",{required:!0}),id:"last-name",label:"Last Name",variant:"outlined",fullWidth:!0,error:!!ss.errors.lastName,required:!0})}),jsxRuntimeExports.jsx(FormControl$1,{fullWidth:!0,required:!0,sx:{mt:2},children:jsxRuntimeExports.jsx(TextField$1,{...ns("phone",{required:!0}),id:"phone",label:"Phone",variant:"outlined",fullWidth:!0,error:!!ss.errors.phone,required:!0})}),jsxRuntimeExports.jsx(FormControl$1,{fullWidth:!0,required:!0,sx:{mt:2},children:jsxRuntimeExports.jsx(TextField$1,{...ns("email",{required:!0}),id:"email",label:"Email",variant:"outlined",fullWidth:!0,error:!!ss.errors.email,required:!0})})]}),jsxRuntimeExports.jsxs(DialogActions$1,{sx:{justifyContent:"flex-start",marginLeft:1},children:[jsxRuntimeExports.jsx(LoadingButton$1,{loading:as,type:"submit",variant:"contained",color:"primary",size:"medium",sx:buttonSx,disabled:!ss.isValid,children:"Send Invite"}),jsxRuntimeExports.jsx(Button$2,{onClick:rs,variant:"text",color:"primary",size:"medium",sx:buttonSx,children:"Cancel"})]}),cs&&jsxRuntimeExports.jsx(Typography$1,{color:"error",variant:"body2",my:1,mx:2,children:"There was an error inviting this participant, please try again."})]})})},AppointmentFooterButton=ts=>{const{setError:rs}=ts,{encounter:ns,appointment:os,isAppointmentLoading:ss}=getSelectors(useAppointmentStore,["encounter","appointment","isAppointmentLoading"]),as=useOttehrUser(),{getAccessTokenSilently:ls}=useAuth0(),cs=useNavigate(),us=useLocation(),ds=useTheme$1(),ps=useQueryClient(),fs=useZapEHRAPIClient(),hs=useChangeTelemedAppointmentStatusMutation(),ms=useInitTelemedSessionMutation(),gs=useGetMeetingData(ls,$s=>{useVideoCallStore.setState({meetingData:$s})},()=>{rs("Error trying to connect to a patient.")}),[vs,bs]=reactExports.useState(null),xs=useGetAppointmentAccessibility();reactExports.useEffect(()=>{xs.status!==ApptStatus.ready&&!xs.isStatusEditable?bs(null):xs.isAppointmentAvailable&&xs.status===ApptStatus.ready?bs("assignMe"):xs.isAppointmentAvailable&&xs.status===ApptStatus["pre-video"]?bs("connectUnassign"):xs.isAppointmentAvailable&&xs.status===ApptStatus["on-video"]&&bs("reconnect")},[xs]);const ys=async()=>{if(!fs||!(os!=null&&os.id))throw new Error("api client not defined or appointment id not provided");await hs.mutateAsync({apiClient:fs,appointmentId:os.id,newStatus:ApptStatus["pre-video"]},{}),await ps.invalidateQueries({queryKey:["telemed-appointment"]})},Ss=reactExports.useCallback(()=>{if(mapStatusToTelemed(ns.status,os==null?void 0:os.status)===ApptStatus["on-video"])gs.refetch({throwOnError:!0});else{if(!fs||!as||!(os!=null&&os.id))throw new Error("api client not defined or userId not provided");ms.mutate({apiClient:fs,appointmentId:os.id,userId:as==null?void 0:as.id},{onSuccess:async $s=>{useVideoCallStore.setState({meetingData:$s.meetingData}),useAppointmentStore.setState({encounter:{...ns,status:"in-progress"}})},onError:()=>{rs("Error trying to connect to a patient.")}})}},[fs,os==null?void 0:os.id,os==null?void 0:os.status,ns,gs,ms,rs,as]);reactExports.useEffect(()=>{var $s;xs.isAppointmentAvailable&&xs.status===ApptStatus["on-video"]&&($s=us.state)!=null&&$s.reconnect&&(cs(us.pathname,{}),Ss())},[xs.isAppointmentAvailable,xs.status,us,cs,Ss]);const Cs=async()=>{if(!fs||!(os!=null&&os.id))throw new Error("api client not defined or appointment id not provided");await hs.mutateAsync({apiClient:fs,appointmentId:os.id,newStatus:ApptStatus.ready},{}),cs("/telemed/appointments")};switch(vs){case"assignMe":return jsxRuntimeExports.jsx(ConfirmationDialog,{title:"Do you want to assign this appointment?",response:ys,actionButtons:{proceed:{text:"Assign to me"},back:{text:"Cancel"}},children:$s=>jsxRuntimeExports.jsx(LoadingButton$1,{loading:hs.isLoading||ss,onClick:$s,variant:"contained",sx:{textTransform:"none",fontSize:"15px",fontWeight:700,borderRadius:10,backgroundColor:ds.palette.primary.light,"&:hover":{backgroundColor:darken(ds.palette.primary.light,.125)}},children:"Assign to me"})});case"connectUnassign":return jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",gap:1},children:[jsxRuntimeExports.jsx(ConfirmationDialog,{title:"Do you want to connect to the patient?",description:"This action will start the video call.",response:Ss,actionButtons:{proceed:{text:"Connect to Patient"},back:{text:"Cancel"}},children:$s=>jsxRuntimeExports.jsx(LoadingButton$1,{loading:ms.isLoading||gs.isLoading,onClick:$s,variant:"contained",sx:{textTransform:"none",fontSize:"15px",fontWeight:700,borderRadius:10,backgroundColor:ds.palette.primary.light,"&:hover":{backgroundColor:darken(ds.palette.primary.light,.125)}},children:"Connect to Patient"})}),jsxRuntimeExports.jsx(ConfirmationDialog,{title:"Do you want to unassign this appointment?",response:Cs,actionButtons:{proceed:{text:"Unassign",color:"error"},back:{text:"Cancel"}},children:$s=>jsxRuntimeExports.jsx(LoadingButton$1,{loading:hs.isLoading,onClick:$s,variant:"contained",sx:{textTransform:"none",fontSize:"15px",fontWeight:700,borderRadius:10,backgroundColor:ds.palette.error.main,"&:hover":{backgroundColor:darken(ds.palette.error.main,.125)}},children:"Unassign"})})]});case"reconnect":return jsxRuntimeExports.jsx(LoadingButton$1,{loading:ms.isLoading||gs.isLoading,onClick:Ss,variant:"contained",sx:{textTransform:"none",fontSize:"15px",fontWeight:700,borderRadius:10,backgroundColor:ds.palette.primary.light,"&:hover":{backgroundColor:darken(ds.palette.primary.light,.125)}},children:"Reconnect"});default:return null}},AppointmentFooter=()=>{var vs,bs,xs,ys,Ss,Cs,$s,Es;const ts=useTheme$1(),[rs,ns]=reactExports.useState(),[os,ss]=reactExports.useState(!1),as=useGetAppointmentAccessibility(),{appointment:ls,encounter:cs,questionnaireResponse:us}=getSelectors(useAppointmentStore,["appointment","encounter","questionnaireResponse"]),{meetingData:ds}=getSelectors(useVideoCallStore,["meetingData"]),ps=cs.statusHistory&&(ls!=null&&ls.status)?mapEncounterStatusHistory(cs.statusHistory,ls.status):void 0,fs=getAppointmentWaitingTime(ps),hs=(bs=(vs=getQuestionnaireResponseByLinkId("preferred-language",us))==null?void 0:vs.answer)==null?void 0:bs[0].valueString,ms=(ys=(xs=getQuestionnaireResponseByLinkId("relay-phone",us))==null?void 0:xs.answer)==null?void 0:ys[0].valueString,gs=((Cs=(Ss=getQuestionnaireResponseByLinkId("patient-number",us))==null?void 0:Ss.answer)==null?void 0:Cs[0].valueString)||((Es=($s=getQuestionnaireResponseByLinkId("guardian-number",us))==null?void 0:$s.answer)==null?void 0:Es[0].valueString);return jsxRuntimeExports.jsxs(AppBar$1,{position:"sticky",sx:{top:"auto",bottom:0,backgroundColor:ts.palette.primary.dark},children:[os&&jsxRuntimeExports.jsx(InviteParticipant,{modalOpen:os,onClose:()=>ss(!1)}),jsxRuntimeExports.jsxs(Container$1,{maxWidth:"xl",sx:{p:3,display:"flex",flexDirection:"column",gap:2,color:"white",backgroundColor:ts.palette.primary.dark},children:[(as.status&&[ApptStatus.ready,ApptStatus["pre-video"]].includes(as.status)||as.isEncounterForPractitioner&&as.status&&as.status===ApptStatus["on-video"]&&!ds)&&jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[jsxRuntimeExports.jsxs(Box$1,{children:[jsxRuntimeExports.jsx(Typography$1,{variant:"h4",children:"Patient waiting"}),jsxRuntimeExports.jsxs(Typography$1,{variant:"body2",children:[fs," mins"]})]}),jsxRuntimeExports.jsx(AppointmentFooterButton,{setError:ns})]}),jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",gap:3},children:[jsxRuntimeExports.jsxs(Box$1,{children:[jsxRuntimeExports.jsx(Typography$1,{variant:"subtitle2",children:"Preferred Language"}),jsxRuntimeExports.jsx(Typography$1,{children:hs})]}),jsxRuntimeExports.jsx(Divider$1,{orientation:"vertical",variant:"fullWidth",flexItem:!0,sx:{borderColor:"#FFFFFF4D"}}),jsxRuntimeExports.jsxs(Box$1,{children:[jsxRuntimeExports.jsx(Typography$1,{variant:"subtitle2",children:"Hearing Impaired Relay Service? (711)"}),jsxRuntimeExports.jsx(Typography$1,{children:ms})]}),jsxRuntimeExports.jsx(Divider$1,{orientation:"vertical",variant:"fullWidth",flexItem:!0,sx:{borderColor:"#FFFFFF4D"}}),jsxRuntimeExports.jsxs(Box$1,{children:[jsxRuntimeExports.jsx(Typography$1,{variant:"subtitle2",children:"Patient number"}),jsxRuntimeExports.jsx(Typography$1,{children:gs})]})]}),as.isEncounterForPractitioner&&as.status&&[ApptStatus["pre-video"],ApptStatus["on-video"]].includes(as.status)&&jsxRuntimeExports.jsx(Button$2,{variant:"outlined",sx:{textTransform:"none",fontSize:"14px",fontWeight:700,borderRadius:10,color:"white",borderColor:ts.palette.primary.light,"&:hover":{borderColor:darken(ts.palette.primary.light,.125)}},onClick:()=>ss(!0),children:"Invite participant"})]})]}),jsxRuntimeExports.jsx(Snackbar$1,{open:!!rs,autoHideDuration:6e3,onClose:()=>ns(void 0),anchorOrigin:{vertical:"bottom",horizontal:"right"},children:jsxRuntimeExports.jsx(Alert$1,{onClose:()=>ns(void 0),severity:"error",variant:"filled",sx:{width:"100%"},children:rs})})]})};var AssignmentIndOutlined={},_interopRequireDefault$b=interopRequireDefaultExports;Object.defineProperty(AssignmentIndOutlined,"__esModule",{value:!0});var default_1$a=AssignmentIndOutlined.default=void 0,_createSvgIcon$a=_interopRequireDefault$b(requireCreateSvgIcon()),_jsxRuntime$a=jsxRuntimeExports;default_1$a=AssignmentIndOutlined.default=(0,_createSvgIcon$a.default)((0,_jsxRuntime$a.jsx)("path",{d:"M19 3h-4.18C14.4 1.84 13.3 1 12 1s-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-7-.25c.22 0 .41.1.55.25.12.13.2.31.2.5 0 .41-.34.75-.75.75s-.75-.34-.75-.75c0-.19.08-.37.2-.5.14-.15.33-.25.55-.25M19 19H5V5h14zM12 6c-1.65 0-3 1.35-3 3s1.35 3 3 3 3-1.35 3-3-1.35-3-3-3m0 4c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1m-6 6.47V18h12v-1.53c0-2.5-3.97-3.58-6-3.58s-6 1.07-6 3.58M8.31 16c.69-.56 2.38-1.12 3.69-1.12s3.01.56 3.69 1.12z"}),"AssignmentIndOutlined");const AppointmentTabsHeader=()=>{const{currentTab:ts}=getSelectors(useAppointmentStore,["currentTab"]),rs=(ns,os)=>{useAppointmentStore.setState({currentTab:os})};return jsxRuntimeExports.jsx(TabContext,{value:ts,children:jsxRuntimeExports.jsxs(TabList$1,{onChange:rs,children:[jsxRuntimeExports.jsx(Tab$1,{label:jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",alignItems:"center",gap:.75},children:[jsxRuntimeExports.jsx(default_1$a,{}),jsxRuntimeExports.jsx(Typography$1,{sx:{textTransform:"none",fontWeight:700,fontSize:"14px"},children:"HPI and Medical history"})]}),value:"hpi"}),jsxRuntimeExports.jsx(Tab$1,{label:jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",alignItems:"center",gap:.75},children:[jsxRuntimeExports.jsx(StethoscopeIcon,{}),jsxRuntimeExports.jsx(Typography$1,{sx:{textTransform:"none",fontWeight:700,fontSize:"14px"},children:"Exam"})]}),value:"exam"}),jsxRuntimeExports.jsx(Tab$1,{label:jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",alignItems:"center",gap:.75},children:[jsxRuntimeExports.jsx(DiagnosisIcon,{}),jsxRuntimeExports.jsx(Typography$1,{sx:{textTransform:"none",fontWeight:700,fontSize:"14px"},children:"eRX and Assessment"})]}),value:"erx"}),jsxRuntimeExports.jsx(Tab$1,{label:jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",alignItems:"center",gap:.75},children:[jsxRuntimeExports.jsx(PatientListIcon,{}),jsxRuntimeExports.jsx(Typography$1,{sx:{textTransform:"none",fontWeight:700,fontSize:"14px"},children:"Plan"})]}),value:"plan"}),jsxRuntimeExports.jsx(Tab$1,{label:jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",alignItems:"center",gap:.75},children:[jsxRuntimeExports.jsx(ContractEditIcon,{}),jsxRuntimeExports.jsx(Typography$1,{sx:{textTransform:"none",fontWeight:700,fontSize:"14px"},children:"Review and Sign"})]}),value:"sign"})]})})},MedicalHistoryDoubleCard=ts=>{const{collapsed:rs,onSwitch:ns,label:os,patientSide:ss,providerSide:as}=ts;return jsxRuntimeExports.jsx(AccordionCard,{label:os,collapsed:rs,onSwitch:ns,children:jsxRuntimeExports.jsx(DoubleColumnContainer,{divider:!0,padding:!0,leftColumn:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(UppercaseCaptionTypography,{sx:{pb:2},children:"Patient"}),ss]}),rightColumn:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(UppercaseCaptionTypography,{sx:{color:otherColors.orange700,pb:2},children:"Provider"}),as]})})})};var ArrowBackIos={},_interopRequireDefault$a=interopRequireDefaultExports;Object.defineProperty(ArrowBackIos,"__esModule",{value:!0});var default_1$9=ArrowBackIos.default=void 0,_createSvgIcon$9=_interopRequireDefault$a(requireCreateSvgIcon()),_jsxRuntime$9=jsxRuntimeExports;default_1$9=ArrowBackIos.default=(0,_createSvgIcon$9.default)((0,_jsxRuntime$9.jsx)("path",{d:"M11.67 3.87 9.9 2.1 0 12l9.9 9.9 1.77-1.77L3.54 12z"}),"ArrowBackIos");var ArrowForwardIos={},_interopRequireDefault$9=interopRequireDefaultExports;Object.defineProperty(ArrowForwardIos,"__esModule",{value:!0});var default_1$8=ArrowForwardIos.default=void 0,_createSvgIcon$8=_interopRequireDefault$9(requireCreateSvgIcon()),_jsxRuntime$8=jsxRuntimeExports;default_1$8=ArrowForwardIos.default=(0,_createSvgIcon$8.default)((0,_jsxRuntime$8.jsx)("path",{d:"M6.23 20.23 8 22l10-10L8 2 6.23 3.77 14.46 12z"}),"ArrowForwardIos");var Circle={},_interopRequireDefault$8=interopRequireDefaultExports;Object.defineProperty(Circle,"__esModule",{value:!0});var default_1$7=Circle.default=void 0,_createSvgIcon$7=_interopRequireDefault$8(requireCreateSvgIcon()),_jsxRuntime$7=jsxRuntimeExports;default_1$7=Circle.default=(0,_createSvgIcon$7.default)((0,_jsxRuntime$7.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2"}),"Circle");function ImageCarousel({imagesObj:ts,imageIndex:rs,setImageIndex:ns,open:os,setOpen:ss}){var ds,ps;const as=useTheme$1(),ls=()=>{rs!==0&&ns(rs-1)},cs=()=>{rs!==ts.length-1&&ns(rs+1)},us=fs=>{const hs=fs.key;hs==="ArrowLeft"?ls():hs==="ArrowRight"&&cs()};return jsxRuntimeExports.jsxs(Dialog$1,{open:os,onClose:()=>{ss(!1)},PaperProps:{style:{backgroundColor:"transparent",boxShadow:"none",maxWidth:"900px"}},onKeyDown:us,children:[jsxRuntimeExports.jsx(DialogTitle$1,{marginBottom:4,children:jsxRuntimeExports.jsx(IconButton$2,{onClick:()=>{ss(!1)},sx:{position:"absolute",right:0},children:jsxRuntimeExports.jsx(default_1$d,{style:{color:as.palette.background.paper}})})}),jsxRuntimeExports.jsx(Box$1,{sx:{width:900,height:600,overflow:"hidden",position:"relative","& img":{width:"100%",height:"100%",objectFit:"contain"}},children:jsxRuntimeExports.jsx("img",{src:(ds=ts[rs])==null?void 0:ds.url,alt:(ps=ts[rs])==null?void 0:ps.alt})}),jsxRuntimeExports.jsx(DialogContent$1,{style:{overflow:"hidden"},children:jsxRuntimeExports.jsxs(Box$1,{alignItems:"center",display:"flex",justifyContent:"center",children:[jsxRuntimeExports.jsx(IconButton$2,{onClick:ls,children:jsxRuntimeExports.jsx(default_1$9,{sx:{color:rs===0?"transparent":"white"}})}),ts.map((fs,hs)=>jsxRuntimeExports.jsx(default_1$7,{sx:{fontSize:hs===rs?10:6,color:"white",marginRight:1}},fs.alt)),jsxRuntimeExports.jsx(IconButton$2,{onClick:cs,children:jsxRuntimeExports.jsx(default_1$8,{style:{color:rs===ts.length-1?"transparent":"white"}})})]})})]})}const ChiefComplaintPatientColumn=()=>{var vs,bs;const ts=useTheme$1(),{isAppointmentLoading:rs,patientPhotoUrls:ns,questionnaireResponse:os}=getSelectors(useAppointmentStore,["isAppointmentLoading","questionnaireResponse","patientPhotoUrls"]),ss=(bs=(vs=getQuestionnaireResponseByLinkId("reason-for-visit",os))==null?void 0:vs.answer)==null?void 0:bs[0].valueString,[as,ls]=reactExports.useState([]),[cs,us]=reactExports.useState(!1),{getAccessTokenSilently:ds}=useAuth0(),ps=as.map((xs,ys)=>({url:xs,alt:"Patient condition photo #".concat(ys+1)})),[fs,hs]=reactExports.useState(!1),[ms,gs]=reactExports.useState(0);return reactExports.useEffect(()=>{async function xs(){try{us(!0);const ys=await ds(),Ss=[];ns.forEach($s=>{Ss.push(getPresignedFileUrl($s,ys))});const Cs=await Promise.all(Ss);ls(Cs.filter(Boolean))}catch{console.error("Error while trying to get patient photo presigned urls")}finally{us(!1)}}(ns==null?void 0:ns.length)>0&&xs()},[ds,ns]),jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",flexDirection:"column",gap:2},children:[jsxRuntimeExports.jsx(ImageCarousel,{imagesObj:ps,imageIndex:ms,setImageIndex:gs,open:fs,setOpen:hs}),jsxRuntimeExports.jsxs(Box$1,{children:[jsxRuntimeExports.jsx(Typography$1,{variant:"subtitle2",color:ts.palette.primary.dark,children:"Reason for visit selected by patient"}),rs?jsxRuntimeExports.jsx(Skeleton$1,{width:"100%",children:jsxRuntimeExports.jsx(Typography$1,{children:"."})}):jsxRuntimeExports.jsx(Typography$1,{children:ss})]}),(rs||cs||(ps==null?void 0:ps.length)>0)&&jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",flexDirection:"column",gap:1},children:[jsxRuntimeExports.jsx(Typography$1,{variant:"subtitle2",color:ts.palette.primary.dark,children:"Photo of patientâs condition"}),rs?jsxRuntimeExports.jsx(Box$1,{sx:{width:"100%",display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gridGap:16},children:[1,2].map(xs=>jsxRuntimeExports.jsx(Box$1,{sx:{aspectRatio:"1/1"},children:jsxRuntimeExports.jsx(Skeleton$1,{variant:"rounded",height:"100%"})},xs))}):jsxRuntimeExports.jsx(Box$1,{sx:{width:"100%",display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gridGap:16},children:ps.map((xs,ys)=>jsxRuntimeExports.jsx(Box$1,{display:"inline-block",sx:{cursor:"pointer"},children:jsxRuntimeExports.jsx("img",{onClick:()=>{hs(!0),gs(ys)},style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:8},src:xs.url,alt:xs.alt,loading:"lazy"})},xs.url))})]})]})},ChiefComplaintProviderColumn=()=>{var ps,fs,hs;const{chartData:ts}=getSelectors(useAppointmentStore,["chartData"]),rs=useForm({defaultValues:{chiefComplaint:((ps=ts==null?void 0:ts.chiefComplaint)==null?void 0:ps.text)||"",ros:((fs=ts==null?void 0:ts.ros)==null?void 0:fs.text)||""}}),{control:ns,setValue:os,getValues:ss}=rs,[as,ls]=reactExports.useState(!!((hs=ts==null?void 0:ts.ros)!=null&&hs.text)),{onValueChange:cs}=useDebounceNotesField("chiefComplaint"),{onValueChange:us}=useDebounceNotesField("ros"),ds=ms=>{ls(ms);const gs=ss("ros");!ms&&gs!==""&&(os("ros",""),us(""))};return jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",flexDirection:"column",gap:2},children:[jsxRuntimeExports.jsx(Controller,{name:"chiefComplaint",control:ns,render:({field:{value:ms,onChange:gs}})=>jsxRuntimeExports.jsx(TextField$1,{value:ms,onChange:vs=>{gs(vs),cs(vs.target.value)},label:"HPI provider notes",fullWidth:!0,multiline:!0,rows:3})}),jsxRuntimeExports.jsx(FormControlLabel$1,{control:jsxRuntimeExports.jsx(Switch$1,{checked:as,onChange:ms=>ds(ms.target.checked)}),label:"Add ROS"}),as&&jsxRuntimeExports.jsx(Controller,{name:"ros",control:ns,render:({field:{value:ms,onChange:gs}})=>jsxRuntimeExports.jsx(TextField$1,{value:ms,onChange:vs=>{gs(vs),us(vs.target.value)},label:"ROS provider notes",fullWidth:!0,multiline:!0,rows:3})})]})},ChiefComplaintProviderColumnReadOnly=()=>{var os,ss;const{chartData:ts}=getSelectors(useAppointmentStore,["chartData"]),rs=(os=ts==null?void 0:ts.chiefComplaint)==null?void 0:os.text,ns=(ss=ts==null?void 0:ts.ros)==null?void 0:ss.text;return jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",flexDirection:"column",gap:1},children:[rs&&jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",flexDirection:"column",gap:.5},children:[jsxRuntimeExports.jsx(Typography$1,{variant:"subtitle2",color:"primary.dark",children:"HPI provider notes"}),jsxRuntimeExports.jsx(Typography$1,{children:rs})]}),ns&&jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",flexDirection:"column",gap:.5},children:[jsxRuntimeExports.jsx(Typography$1,{variant:"subtitle2",color:"primary.dark",children:"ROS provider notes"}),jsxRuntimeExports.jsx(Typography$1,{children:ns})]})]})},ChiefComplaintProviderColumnSkeleton=()=>jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",flexDirection:"column",gap:2},children:[jsxRuntimeExports.jsx(Skeleton$1,{variant:"rounded",width:"100%",children:jsxRuntimeExports.jsx(TextField$1,{multiline:!0,rows:3})}),jsxRuntimeExports.jsx(Skeleton$1,{variant:"rounded",children:jsxRuntimeExports.jsx(FormControlLabel$1,{control:jsxRuntimeExports.jsx(Switch$1,{}),label:"Add ROS"})})]}),ChiefComplaintCard=()=>{const[ts,rs]=reactExports.useState(!1),{isChartDataLoading:ns,isReadOnly:os}=getSelectors(useAppointmentStore,["isChartDataLoading","isReadOnly"]);return jsxRuntimeExports.jsx(MedicalHistoryDoubleCard,{label:"Chief complaint & HPI",collapsed:ts,onSwitch:()=>rs(ss=>!ss),patientSide:jsxRuntimeExports.jsx(ChiefComplaintPatientColumn,{}),providerSide:ns?jsxRuntimeExports.jsx(ChiefComplaintProviderColumnSkeleton,{}):os?jsxRuntimeExports.jsx(ChiefComplaintProviderColumnReadOnly,{}):jsxRuntimeExports.jsx(ChiefComplaintProviderColumn,{})})},PatientSideListSkeleton=()=>jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:[1,2,3].map((ts,rs,ns)=>jsxRuntimeExports.jsxs(Box$1,{children:[jsxRuntimeExports.jsx(Skeleton$1,{width:"100%",children:jsxRuntimeExports.jsx(Typography$1,{children:ts})}),rs+1!==ns.length&&jsxRuntimeExports.jsx(Divider$1,{sx:{pt:1}})]},rs))}),CurrentMedicationsPatientColumn=()=>{var ss;const ts=useTheme$1(),{questionnaireResponse:rs,isAppointmentLoading:ns}=getSelectors(useAppointmentStore,["questionnaireResponse","isAppointmentLoading"]),os=(ss=getQuestionnaireResponseByLinkId("current-medications",rs))==null?void 0:ss.answer[0].valueArray;return jsxRuntimeExports.jsx(Box$1,{sx:{display:"flex",flexDirection:"column",gap:1},children:ns?jsxRuntimeExports.jsx(PatientSideListSkeleton,{}):os?os.map((as,ls,cs)=>jsxRuntimeExports.jsxs(Box$1,{children:[jsxRuntimeExports.jsx(Typography$1,{children:as["current-medications-form-medication"]}),ls+1!==cs.length&&jsxRuntimeExports.jsx(Divider$1,{sx:{pt:1}})]},ls)):jsxRuntimeExports.jsx(Typography$1,{color:ts.palette.text.secondary,children:"Patient has no current medications"})})},ProviderSideListSkeleton=()=>jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:[1,2,3].map((ts,rs,ns)=>jsxRuntimeExports.jsxs(Box$1,{children:[jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:2},children:[jsxRuntimeExports.jsx(Skeleton$1,{width:"100%",children:jsxRuntimeExports.jsx(Typography$1,{children:ts})}),jsxRuntimeExports.jsx(Skeleton$1,{variant:"circular",children:jsxRuntimeExports.jsx(DeleteIconButton,{})})]}),rs+1!==ns.length&&jsxRuntimeExports.jsx(Divider$1,{sx:{pt:1}})]},ts))}),CurrentMedicationsProviderColumn=()=>{const ts=useForm({values:{value:null}}),{isChartDataLoading:rs,isReadOnly:ns}=getSelectors(useAppointmentStore,["isChartDataLoading","isReadOnly"]),{control:os,handleSubmit:ss,reset:as}=ts,{isLoading:ls,onSubmit:cs,onRemove:us,values:ds}=useChartDataArrayValue("medications",as),[ps,fs]=reactExports.useState(""),{isFetching:hs,data:ms}=useGetMedicationsSearch(ps),gs=reactExports.useCallback(debounce$2(bs=>{console.log(bs),fs(bs)},800),[]),vs=bs=>{bs.value&&(cs({...bs.value}),as({value:null}))};return jsxRuntimeExports.jsxs(Box$1,{children:[jsxRuntimeExports.jsx(Box$1,{sx:{display:"flex",flexDirection:"column",gap:1,mb:(ds.length||rs)&&!ns?2:0},children:rs?jsxRuntimeExports.jsx(ProviderSideListSkeleton,{}):jsxRuntimeExports.jsx(ActionsList,{data:ds,getKey:bs=>bs.resourceId,renderItem:bs=>jsxRuntimeExports.jsx(Typography$1,{children:bs.name}),renderActions:ns?void 0:bs=>jsxRuntimeExports.jsx(DeleteIconButton,{disabled:ls,onClick:()=>us(bs.resourceId)}),divider:!0})}),ds.length===0&&ns&&!rs&&jsxRuntimeExports.jsx(Typography$1,{color:"secondary.light",children:"Missing. Patient input must be reconciled by provider"}),!ns&&jsxRuntimeExports.jsx("form",{onSubmit:ss(vs),children:jsxRuntimeExports.jsxs(Card$1,{elevation:0,sx:{p:3,backgroundColor:otherColors.formCardBg,borderRadius:2,display:"flex",flexDirection:"column",gap:2},children:[jsxRuntimeExports.jsx(Controller,{name:"value",control:os,rules:{required:!0},render:({field:{value:bs,onChange:xs},fieldState:{error:ys}})=>jsxRuntimeExports.jsx(Autocomplete$1,{value:bs,getOptionLabel:Ss=>typeof Ss=="string"?Ss:Ss.name,fullWidth:!0,isOptionEqualToValue:(Ss,Cs)=>Cs.id===Ss.id,loading:hs,size:"small",disablePortal:!0,disabled:ls||rs,noOptionsText:"No medications",options:(ms==null?void 0:ms.medications)||[],onChange:(Ss,Cs)=>xs(Cs),filterOptions:Ss=>Ss,renderInput:Ss=>jsxRuntimeExports.jsx(TextField$1,{...Ss,helperText:ys?ys.message:null,error:!!ys,onChange:Cs=>gs(Cs.target.value),label:"Medication",placeholder:"Search"})})}),jsxRuntimeExports.jsx(RoundedButton,{disabled:ls||rs,type:"submit",children:"Add to the medications"})]})})]})},CurrentMedicationsCard=()=>{const[ts,rs]=reactExports.useState(!1);return jsxRuntimeExports.jsx(MedicalHistoryDoubleCard,{label:"Current medications",collapsed:ts,onSwitch:()=>rs(ns=>!ns),patientSide:jsxRuntimeExports.jsx(CurrentMedicationsPatientColumn,{}),providerSide:jsxRuntimeExports.jsx(CurrentMedicationsProviderColumn,{})})},mapAnswerToType={Medications:"medication",Food:"food",Other:"other"},KnownAllergiesPatientColumn=()=>{var ss;const ts=useTheme$1(),{questionnaireResponse:rs,isAppointmentLoading:ns}=getSelectors(useAppointmentStore,["questionnaireResponse","isAppointmentLoading"]),os=(ss=getQuestionnaireResponseByLinkId("allergies",rs))==null?void 0:ss.answer[0].valueArray;return jsxRuntimeExports.jsx(Box$1,{sx:{display:"flex",flexDirection:"column",gap:1},children:ns?jsxRuntimeExports.jsx(PatientSideListSkeleton,{}):os?os.map((as,ls,cs)=>jsxRuntimeExports.jsxs(Box$1,{children:[jsxRuntimeExports.jsxs(Typography$1,{children:[as["allergies-form-agent-substance"]," (",mapAnswerToType[as["allergies-form-type"]],")"]}),ls+1!==cs.length&&jsxRuntimeExports.jsx(Divider$1,{sx:{pt:1}})]},ls)):jsxRuntimeExports.jsx(Typography$1,{color:ts.palette.text.secondary,children:"Patient has no known allergies"})})},KnownAllergiesProviderColumn=()=>{const ts=useForm({values:{value:null}}),{isChartDataLoading:rs,isReadOnly:ns}=getSelectors(useAppointmentStore,["isChartDataLoading","isReadOnly"]),{control:os,handleSubmit:ss,reset:as}=ts,{isLoading:ls,onSubmit:cs,onRemove:us,values:ds}=useChartDataArrayValue("allergies",as),[ps,fs]=reactExports.useState(""),{isFetching:hs,data:ms}=useGetAllergiesSearch(ps),gs=reactExports.useCallback(debounce$2(bs=>{console.log(bs),fs(bs)},800),[]),vs=bs=>{bs.value&&(cs({name:bs.value.name,id:bs.value.id}),as({value:null}))};return jsxRuntimeExports.jsxs(Box$1,{children:[jsxRuntimeExports.jsx(Box$1,{sx:{display:"flex",flexDirection:"column",gap:1,mb:(ds.length||rs)&&!ns?2:0},children:rs?jsxRuntimeExports.jsx(ProviderSideListSkeleton,{}):jsxRuntimeExports.jsx(ActionsList,{data:ds,getKey:bs=>bs.resourceId,renderItem:bs=>jsxRuntimeExports.jsx(Typography$1,{children:bs.name}),renderActions:ns?void 0:bs=>jsxRuntimeExports.jsx(DeleteIconButton,{disabled:ls,onClick:()=>us(bs.resourceId)}),divider:!0})}),ds.length===0&&ns&&!rs&&jsxRuntimeExports.jsx(Typography$1,{color:"secondary.light",children:"Missing. Patient input must be reconciled by provider"}),!ns&&jsxRuntimeExports.jsx("form",{onSubmit:ss(vs),children:jsxRuntimeExports.jsxs(Card$1,{elevation:0,sx:{p:3,backgroundColor:otherColors.formCardBg,borderRadius:2,display:"flex",flexDirection:"column",gap:2},children:[jsxRuntimeExports.jsx(Controller,{name:"value",control:os,rules:{required:!0},render:({field:{value:bs,onChange:xs},fieldState:{error:ys}})=>jsxRuntimeExports.jsx(Autocomplete$1,{value:bs||null,onChange:(Ss,Cs)=>xs(Cs||""),getOptionLabel:Ss=>typeof Ss=="string"?Ss:Ss.name,fullWidth:!0,size:"small",loading:hs,disablePortal:!0,disabled:ls||rs,options:(ms==null?void 0:ms.allergens)||[],noOptionsText:"No allergies",filterOptions:Ss=>Ss,renderInput:Ss=>jsxRuntimeExports.jsx(TextField$1,{...Ss,helperText:ys?ys.message:null,error:!!ys,onChange:Cs=>gs(Cs.target.value),label:"Agent/Substance",placeholder:"Search"})})}),jsxRuntimeExports.jsx(RoundedButton,{disabled:ls||rs,type:"submit",children:"Add to the known allergies"})]})})]})},KnownAllergiesCard=()=>{const[ts,rs]=reactExports.useState(!1);return jsxRuntimeExports.jsx(MedicalHistoryDoubleCard,{label:"Known allergies",collapsed:ts,onSwitch:()=>rs(ns=>!ns),patientSide:jsxRuntimeExports.jsx(KnownAllergiesPatientColumn,{}),providerSide:jsxRuntimeExports.jsx(KnownAllergiesProviderColumn,{})})},MedicalConditionsProviderColumn=()=>{const ts=useForm({values:{value:null}}),{isChartDataLoading:rs,isReadOnly:ns}=getSelectors(useAppointmentStore,["isChartDataLoading","isReadOnly"]),{control:os,handleSubmit:ss,reset:as}=ts,{isLoading:ls,onSubmit:cs,onRemove:us,values:ds}=useChartDataArrayValue("conditions",as),[ps,fs]=reactExports.useState(""),{isFetching:hs,data:ms}=useGetIcd10Search(ps),gs=(ms==null?void 0:ms.codes)||[],vs=reactExports.useCallback(debounce$2(xs=>{console.log(xs),fs(xs)},800),[]),bs=xs=>{xs.value&&(cs(xs.value),as({value:null}))};return jsxRuntimeExports.jsxs(Box$1,{children:[jsxRuntimeExports.jsx(Box$1,{sx:{display:"flex",flexDirection:"column",gap:1,mb:(ds.length||rs)&&!ns?2:0},children:rs?jsxRuntimeExports.jsx(ProviderSideListSkeleton,{}):jsxRuntimeExports.jsx(ActionsList,{data:ds,getKey:xs=>xs.resourceId,renderItem:xs=>jsxRuntimeExports.jsx(Typography$1,{children:"".concat(xs.code," ").concat(xs.display)}),renderActions:ns?void 0:xs=>jsxRuntimeExports.jsx(DeleteIconButton,{disabled:ls,onClick:()=>us(xs.resourceId)}),divider:!0})}),ds.length===0&&ns&&!rs&&jsxRuntimeExports.jsx(Typography$1,{color:"secondary.light",children:"Missing. Patient input must be reconciled by provider"}),!ns&&jsxRuntimeExports.jsx("form",{onSubmit:ss(bs),children:jsxRuntimeExports.jsxs(Card$1,{elevation:0,sx:{p:3,backgroundColor:otherColors.formCardBg,borderRadius:2,display:"flex",flexDirection:"column",gap:2},children:[jsxRuntimeExports.jsx(Controller,{name:"value",control:os,rules:{required:!0},render:({field:{value:xs,onChange:ys},fieldState:{error:Ss}})=>jsxRuntimeExports.jsx(Autocomplete$1,{value:xs,getOptionLabel:Cs=>typeof Cs=="string"?Cs:"".concat(Cs.code," ").concat(Cs.display),fullWidth:!0,isOptionEqualToValue:(Cs,$s)=>$s.code===Cs.code,loading:hs,size:"small",disablePortal:!0,disabled:ls||rs,noOptionsText:"No medical conditions",options:gs,onChange:(Cs,$s)=>ys($s),filterOptions:Cs=>Cs,renderInput:Cs=>jsxRuntimeExports.jsx(TextField$1,{...Cs,helperText:Ss?Ss.message:null,error:!!Ss,onChange:$s=>vs($s.target.value),label:"Medical condition",placeholder:"Start typing to see results"})})}),jsxRuntimeExports.jsx(RoundedButton,{disabled:ls||rs,type:"submit",children:"Add to the medical conditions"})]})})]})},MedicalConditionsPatientColumn=()=>{var ss;const ts=useTheme$1(),{questionnaireResponse:rs,isAppointmentLoading:ns}=getSelectors(useAppointmentStore,["questionnaireResponse","isAppointmentLoading"]),os=(ss=getQuestionnaireResponseByLinkId("medical-history",rs))==null?void 0:ss.answer[0].valueArray;return jsxRuntimeExports.jsx(Box$1,{sx:{display:"flex",flexDirection:"column",gap:1},children:ns?jsxRuntimeExports.jsx(PatientSideListSkeleton,{}):os?os.map((as,ls,cs)=>jsxRuntimeExports.jsxs(Box$1,{children:[jsxRuntimeExports.jsx(Typography$1,{children:as["medical-history-form-medical-condition"]}),ls+1!==cs.length&&jsxRuntimeExports.jsx(Divider$1,{sx:{pt:1}})]},ls)):jsxRuntimeExports.jsx(Typography$1,{color:ts.palette.text.secondary,children:"Patient has no medical conditions"})})},MedicalConditionsCard=()=>{const[ts,rs]=reactExports.useState(!1);return jsxRuntimeExports.jsx(MedicalHistoryDoubleCard,{label:"Medical conditions",collapsed:ts,onSwitch:()=>rs(ns=>!ns),patientSide:jsxRuntimeExports.jsx(MedicalConditionsPatientColumn,{}),providerSide:jsxRuntimeExports.jsx(MedicalConditionsProviderColumn,{})})},SurgicalHistoryPatientColumn=()=>{var ss;const ts=useTheme$1(),{questionnaireResponse:rs,isAppointmentLoading:ns}=getSelectors(useAppointmentStore,["questionnaireResponse","isAppointmentLoading"]),os=(ss=getQuestionnaireResponseByLinkId("surgical-history",rs))==null?void 0:ss.answer[0].valueArray;return jsxRuntimeExports.jsx(Box$1,{sx:{display:"flex",flexDirection:"column",gap:1},children:ns?jsxRuntimeExports.jsx(PatientSideListSkeleton,{}):os?os.map((as,ls,cs)=>jsxRuntimeExports.jsxs(Box$1,{children:[jsxRuntimeExports.jsxs(Typography$1,{children:[as["surgical-history-form-type"]," | ",as["surgical-history-form-date"]]}),ls+1!==cs.length&&jsxRuntimeExports.jsx(Divider$1,{sx:{pt:1}})]},ls)):jsxRuntimeExports.jsx(Typography$1,{color:ts.palette.text.secondary,children:"Patient has no surgical history"})})},SURGICAL_HISTORY_OPTIONS=["Adenoidectomy (Adenoid Removal)","Appendectomy","C-section (Cesarean delivery)","Circumcision","Cleft lip/palate repair","Cyst removed","Dental/ Oral Surgery","Ear tube placement (Myringotomy)","Elbow/ Hand/ Arm Surgery","Feeding tube (G-tube)","Foot/ Ankle Surgery","Frenotomy (Tongue Tie Repair)","Gallbladder removal","Heart/ Cardiac surgery","Hemangioma ","Hernia ","Hydrocele Repair","Hypospadias repair","Kidney surgery","Knee Surgery","Orchiectomy (Testicle Removal)","Other Eye surgery","Pyloromyotomy (Pyloric Stenosis Repair)","Sinus surgery","Splenectomy","Tear Duct Eye surgery","Tonsillectomy and adenoidectomy (Tonsil and Adenoid Removal)","Undescended Testicle Repair","Ventriculoperitoneal shunt placement","Wisdom teeth removal","Other"],ProceduresForm=()=>{const ts=useForm({defaultValues:{name:""}}),{isChartDataLoading:rs}=getSelectors(useAppointmentStore,["isChartDataLoading"]),{control:ns,handleSubmit:os,reset:ss}=ts,{isLoading:as,onSubmit:ls,onRemove:cs,values:us}=useChartDataArrayValue("procedures",ss);return jsxRuntimeExports.jsxs(Box$1,{children:[jsxRuntimeExports.jsx(Box$1,{sx:{display:"flex",flexDirection:"column",gap:1,mb:us.length||rs?2:0},children:rs?jsxRuntimeExports.jsx(ProviderSideListSkeleton,{}):jsxRuntimeExports.jsx(ActionsList,{data:us,getKey:ds=>ds.resourceId,renderItem:ds=>jsxRuntimeExports.jsx(Typography$1,{children:ds.name}),renderActions:ds=>jsxRuntimeExports.jsx(DeleteIconButton,{disabled:as,onClick:()=>cs(ds.resourceId)}),divider:!0})}),jsxRuntimeExports.jsx("form",{onSubmit:os(ls),children:jsxRuntimeExports.jsxs(Card$1,{elevation:0,sx:{p:3,backgroundColor:otherColors.formCardBg,borderRadius:2,display:"flex",flexDirection:"column",gap:2},children:[jsxRuntimeExports.jsx(Controller,{name:"name",control:ns,rules:{required:!0},render:({field:{value:ds,onChange:ps},fieldState:{error:fs}})=>jsxRuntimeExports.jsx(Autocomplete$1,{value:ds||null,onChange:(hs,ms)=>ps(ms||""),fullWidth:!0,size:"small",disablePortal:!0,disabled:as||rs,options:SURGICAL_HISTORY_OPTIONS,renderInput:hs=>jsxRuntimeExports.jsx(TextField$1,{...hs,helperText:fs?fs.message:null,error:!!fs,label:"Type of surgery",placeholder:"Search"})})}),jsxRuntimeExports.jsx(RoundedButton,{disabled:as||rs,type:"submit",children:"Add to the surgeries"})]})})]})},ProceduresNoteField=()=>{var ss;const{chartData:ts}=getSelectors(useAppointmentStore,["chartData"]),rs=useForm({defaultValues:{text:((ss=ts==null?void 0:ts.proceduresNote)==null?void 0:ss.text)||""}}),{control:ns}=rs,{onValueChange:os}=useDebounceNotesField("proceduresNote");return jsxRuntimeExports.jsx(Controller,{name:"text",control:ns,render:({field:{value:as,onChange:ls}})=>jsxRuntimeExports.jsx(TextField$1,{value:as,onChange:cs=>{ls(cs),os(cs.target.value)},label:"Provider notes",fullWidth:!0,multiline:!0,rows:3})})},ProceduresNoteFieldSkeleton=()=>jsxRuntimeExports.jsx(Skeleton$1,{variant:"rounded",width:"100%",children:jsxRuntimeExports.jsx(TextField$1,{multiline:!0,rows:3})}),SurgicalHistoryProviderColumn=()=>{const{isChartDataLoading:ts,isReadOnly:rs,chartData:ns}=getSelectors(useAppointmentStore,["isChartDataLoading","isReadOnly","chartData"]),os=(ns==null?void 0:ns.procedures)||[];return jsxRuntimeExports.jsx(Box$1,{sx:{display:"flex",flexDirection:"column",gap:2},children:rs?jsxRuntimeExports.jsx(ActionsList,{data:os,getKey:ss=>ss.resourceId,renderItem:ss=>jsxRuntimeExports.jsx(Typography$1,{children:ss.name}),divider:!0}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(ProceduresForm,{}),ts?jsxRuntimeExports.jsx(ProceduresNoteFieldSkeleton,{}):jsxRuntimeExports.jsx(ProceduresNoteField,{})]})})},SurgicalHistoryCard=()=>{const[ts,rs]=reactExports.useState(!1);return jsxRuntimeExports.jsx(MedicalHistoryDoubleCard,{label:"Surgical history",collapsed:ts,onSwitch:()=>rs(ns=>!ns),patientSide:jsxRuntimeExports.jsx(SurgicalHistoryPatientColumn,{}),providerSide:jsxRuntimeExports.jsx(SurgicalHistoryProviderColumn,{})})},AdditionalQuestionsPatientColumn=()=>{var ls,cs,us,ds;const{questionnaireResponse:ts,isAppointmentLoading:rs}=getSelectors(useAppointmentStore,["questionnaireResponse","isAppointmentLoading"]),ns=(ls=getQuestionnaireResponseByLinkId("flu-vaccine",ts))==null?void 0:ls.answer[0].valueString,os=(cs=getQuestionnaireResponseByLinkId("vaccines-up-to-date",ts))==null?void 0:cs.answer[0].valueString,ss=(us=getQuestionnaireResponseByLinkId("travel-usa",ts))==null?void 0:us.answer[0].valueString,as=(ds=getQuestionnaireResponseByLinkId("hospitalize",ts))==null?void 0:ds.answer[0].valueString;return jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",flexDirection:"column",gap:1},children:[jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",justifyContent:"space-between"},children:[jsxRuntimeExports.jsx(Typography$1,{children:"Have you or your child had your flu vaccine?"}),rs?jsxRuntimeExports.jsx(Skeleton$1,{children:jsxRuntimeExports.jsx(Typography$1,{children:"Yes"})}):jsxRuntimeExports.jsx(Typography$1,{children:ns})]}),jsxRuntimeExports.jsx(Divider$1,{}),jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",justifyContent:"space-between"},children:[jsxRuntimeExports.jsx(Typography$1,{children:"Are your or your child's vaccines up to date?"}),rs?jsxRuntimeExports.jsx(Skeleton$1,{children:jsxRuntimeExports.jsx(Typography$1,{children:"Yes"})}):jsxRuntimeExports.jsx(Typography$1,{children:os})]}),jsxRuntimeExports.jsx(Divider$1,{}),jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",justifyContent:"space-between"},children:[jsxRuntimeExports.jsx(Typography$1,{children:"Have you traveled out of the USA in the last 2 weeks?"}),rs?jsxRuntimeExports.jsx(Skeleton$1,{children:jsxRuntimeExports.jsx(Typography$1,{children:"Yes"})}):jsxRuntimeExports.jsx(Typography$1,{children:ss})]}),jsxRuntimeExports.jsx(Divider$1,{}),jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",justifyContent:"space-between"},children:[jsxRuntimeExports.jsx(Typography$1,{children:"Has the patient been hospitalized in the past 6 months?"}),rs?jsxRuntimeExports.jsx(Skeleton$1,{children:jsxRuntimeExports.jsx(Typography$1,{children:"Yes"})}):jsxRuntimeExports.jsx(Typography$1,{children:as})]})]})},AdditionalQuestionsProviderColumn=()=>{var as;const{chartData:ts,isReadOnly:rs}=getSelectors(useAppointmentStore,["chartData","isReadOnly"]),ns=useForm({defaultValues:{text:((as=ts==null?void 0:ts.observations)==null?void 0:as.text)||""}}),{control:os}=ns,{onValueChange:ss}=useDebounceNotesField("observations");return rs?null:jsxRuntimeExports.jsx(Controller,{name:"text",control:os,render:({field:{value:ls,onChange:cs}})=>jsxRuntimeExports.jsx(TextField$1,{value:ls,onChange:us=>{cs(us),ss(us.target.value)},label:"Provider notes",fullWidth:!0,multiline:!0,rows:3})})},AdditionalQuestionsProviderColumnSkeleton=()=>jsxRuntimeExports.jsx(Skeleton$1,{variant:"rounded",width:"100%",children:jsxRuntimeExports.jsx(TextField$1,{multiline:!0,rows:3})}),AdditionalQuestionsCard=()=>{const[ts,rs]=reactExports.useState(!1),{isChartDataLoading:ns}=getSelectors(useAppointmentStore,["isChartDataLoading"]);return jsxRuntimeExports.jsx(MedicalHistoryDoubleCard,{label:"Additional questions",collapsed:ts,onSwitch:()=>rs(os=>!os),patientSide:jsxRuntimeExports.jsx(AdditionalQuestionsPatientColumn,{}),providerSide:ns?jsxRuntimeExports.jsx(AdditionalQuestionsProviderColumnSkeleton,{}):jsxRuntimeExports.jsx(AdditionalQuestionsProviderColumn,{})})},MedicalHistoryTab=()=>jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",flexDirection:"column",gap:1},children:[jsxRuntimeExports.jsx(ChiefComplaintCard,{}),jsxRuntimeExports.jsx(CurrentMedicationsCard,{}),jsxRuntimeExports.jsx(KnownAllergiesCard,{}),jsxRuntimeExports.jsx(MedicalConditionsCard,{}),jsxRuntimeExports.jsx(SurgicalHistoryCard,{}),jsxRuntimeExports.jsx(AdditionalQuestionsCard,{})]}),EXAM_CARDS_INITIAL={vitals:!0,general:!1,head:!1,eyes:!1,nose:!0,ears:!0,mouth:!0,neck:!0,chest:!1,back:!0,skin:!1,abdomen:!0,musculoskeletal:!1,neurological:!1,psych:!0},useExamCardsStore=create$2()(()=>({...EXAM_CARDS_INITIAL})),useExamCardCollapsed=ts=>[useExamCardsStore(os=>os[ts]),()=>{useExamCardsStore.setState(os=>({[ts]:!os[ts]}))}],StatelessExamCheckbox=ts=>{const{label:rs,abnormal:ns,checked:os,onChange:ss,disabled:as}=ts,ls=useTheme$1();return jsxRuntimeExports.jsx(FormControlLabel$1,{sx:{m:0},control:jsxRuntimeExports.jsx(Checkbox$1,{size:"small",disabled:as,sx:{"&.Mui-checked":{color:as?void 0:ns?ls.palette.error.main:ls.palette.success.main},p:.5},checked:os,onChange:cs=>ss&&ss(cs.target.checked)}),label:rs?jsxRuntimeExports.jsx(Typography$1,{fontWeight:os&&ns?600:400,children:rs}):void 0})},arrayToObject=ts=>ts.reduce((rs,ns)=>(rs[ns.field]=ns,rs),{}),objectToArray=ts=>Object.values(ts);function useExamObservations(ts){const rs=useExamObservationsStore(),{mutate:ns,isLoading:os}=useSaveChartData(),ss=(as,ls)=>{as&&(useExamObservationsStore.setState(Array.isArray(as)?arrayToObject(as):Object.prototype.hasOwnProperty.call(as,"field")?{[as.field]:as}:as),!ls&&ns({examObservations:Array.isArray(as)?as:Object.prototype.hasOwnProperty.call(as,"field")?[as]:objectToArray(as)},{onSuccess:cs=>{cs.examObservations&&useExamObservationsStore.setState(arrayToObject(cs.examObservations))}}))};return{value:ts?typeof ts=="string"?rs[ts]:ts.map(as=>rs[as]):objectToArray(rs),update:ss,isLoading:os}}const ControlledExamCheckbox=ts=>{const{label:rs,name:ns,abnormal:os}=ts,{value:ss,update:as,isLoading:ls}=useExamObservations(ns),cs=us=>{as({...ss,value:us})};return jsxRuntimeExports.jsx(StatelessExamCheckbox,{label:rs,abnormal:os,checked:ss.value,onChange:cs,disabled:ls})},ControlledExamRadioGroup=ts=>{const{label:rs,name:ns,abnormal:os}=ts,{value:ss,update:as,isLoading:ls}=useExamObservations(ns),cs=useTheme$1(),us=ds=>{as({...ss,value:ds==="true"})};return jsxRuntimeExports.jsxs(FormControl$1,{sx:{display:"flex",flexDirection:"row",alignItems:"center"},children:[jsxRuntimeExports.jsx(Typography$1,{sx:{flex:1},children:rs}),jsxRuntimeExports.jsxs(RadioGroup$1,{row:!0,value:ss.value?"true":"false",onChange:ds=>us(ds.target.value),sx:{display:"flex",gap:1},children:[jsxRuntimeExports.jsx(FormControlLabel$1,{value:"true",control:jsxRuntimeExports.jsx(Radio$1,{size:"small",disabled:ls,sx:{p:.5,"&.Mui-checked":{color:ls?void 0:os?cs.palette.error.main:cs.palette.success.main}}}),label:"Yes",sx:{m:0}}),jsxRuntimeExports.jsx(FormControlLabel$1,{value:"false",control:jsxRuntimeExports.jsx(Radio$1,{size:"small",disabled:ls,sx:{p:.5,"&.Mui-checked":{color:ls?void 0:os?cs.palette.success.main:cs.palette.error.main}}}),label:"No",sx:{m:0}})]})]})},ControlledExamCheckboxDropdown=ts=>{const{checkboxLabel:rs,dropdownLabel:ns,abnormal:os,options:ss}=ts,{value:as,update:ls,isLoading:cs}=useExamObservations(ss.map(vs=>vs.name)),[us,ds]=reactExports.useState(as.filter(vs=>vs.value===!0).map(vs=>ss.find(bs=>bs.name===vs.field))[0]||null),[ps,fs]=reactExports.useState(!!us),hs=vs=>{ls(vs)},ms=vs=>{vs||(ds(null),us&&hs(as.map(bs=>({...bs,value:!1})))),fs(vs)},gs=vs=>{fs(!!vs),ds(vs),hs(as.map(bs=>({...bs,value:bs.field===(vs==null?void 0:vs.name)})))};return jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",gap:2},children:[jsxRuntimeExports.jsx(StatelessExamCheckbox,{label:rs,abnormal:os,checked:ps,onChange:ms,disabled:cs}),jsxRuntimeExports.jsx(Autocomplete$1,{disablePortal:!0,disabled:cs,options:ss,value:us,onChange:(vs,bs)=>gs(bs),fullWidth:!0,renderInput:vs=>jsxRuntimeExports.jsx(TextField$1,{...vs,size:"small",label:ns})})]})},ExamCardContainer=ts=>{const{collapsed:rs,onSwitch:ns,label:os,rightComponent:ss,grid:as}=ts,ls=()=>{const cs=[];for(const us of as){const ds=[];for(const ps in us){const fs=us[ps];ds.push(jsxRuntimeExports.jsx(ExamCell,{label:ps,children:fs},ps))}cs.push(ds.reduce((ps,fs,hs)=>[ps,jsxRuntimeExports.jsx(Divider$1,{orientation:"vertical",flexItem:!0},hs),fs]))}return cs.map((us,ds)=>jsxRuntimeExports.jsx(ExamRow,{children:us},ds)).reduce((us,ds,ps)=>[us,jsxRuntimeExports.jsx(Divider$1,{flexItem:!0},ps+100),ds])};return jsxRuntimeExports.jsx(AccordionCard,{label:os,collapsed:rs,onSwitch:ns,children:jsxRuntimeExports.jsxs(Box$1,{sx:{p:2,display:"flex",gap:4},children:[jsxRuntimeExports.jsx(Box$1,{sx:{flex:1,display:"flex",flexDirection:"column",gap:2},children:ls()}),ss&&jsxRuntimeExports.jsx(Box$1,{sx:{width:"260px"},children:ss})]})})},ExamRow=ts=>{const{children:rs}=ts;return jsxRuntimeExports.jsx(Box$1,{sx:{display:"flex",gap:2},children:rs})},ExamCell=ts=>{const{children:rs,label:ns}=ts,os=useTheme$1();return jsxRuntimeExports.jsxs(Box$1,{sx:{flex:1,display:"flex",flexDirection:"column"},children:[jsxRuntimeExports.jsx(Typography$1,{variant:"subtitle2",fontSize:16,color:os.palette.primary.dark,children:ns}),rs]})},NumberInput=styled$4(ts=>jsxRuntimeExports.jsx(TextField$1,{type:"number",size:"small",...ts}))(()=>({"& input::-webkit-outer-spin-button, & input::-webkit-inner-spin-button":{display:"none"},"& input[type=number]":{MozAppearance:"textfield"},"& .MuiFormHelperText-root.Mui-error":{position:"absolute",top:"100%",marginTop:0}})),options$2=examObservationFieldsDetailsArray.filter(ts=>ts.card==="general"&&ts.group==="dropdown").map(ts=>({label:ts.label,name:ts.field})),DistressDropdown=()=>jsxRuntimeExports.jsx(ControlledExamCheckboxDropdown,{abnormal:!0,checkboxLabel:"Distress",dropdownLabel:"Distress degree",options:options$2}),options$1=examObservationFieldsDetailsArray.filter(ts=>ts.card==="abdomen"&&ts.group==="dropdown").map(ts=>({label:ts.label,name:ts.field})),TenderDropdown=()=>jsxRuntimeExports.jsx(ControlledExamCheckboxDropdown,{abnormal:!0,checkboxLabel:"Tender",dropdownLabel:"Tender Location",options:options$1}),MusculoskeletalForm=()=>{const{value:ts,update:rs,isLoading:ns}=useExamObservations(musculoskeletalFields),os=ts.filter(bs=>bs.value),[ss,as]=reactExports.useState(os.length>0),[ls,cs]=reactExports.useState([]),us=useForm({defaultValues:{side:"left",bodyPart:null,finger:null,toe:null,abnormal:null}}),{control:ds,handleSubmit:ps,watch:fs,reset:hs}=us,ms=bs=>{const xs=[];switch(xs.push(bs.abnormal),xs.push(bs.side),xs.push(bs.bodyPart),bs.bodyPart){case"finger":xs.push(bs.finger);break;case"toe":xs.push(bs.toe);break}const ys=xs.join("-"),Ss=ts.find(Cs=>Cs.field===ys);rs({...Ss,value:!0}),hs()},gs=bs=>{const xs=ts.find(ys=>ys.field===bs);rs({...xs,value:!1})},vs=bs=>{as(bs),bs?ls.length>0&&rs(ls.map(xs=>({...xs,value:!0}))):(cs(os),os.length>0&&rs(os.map(xs=>({...xs,value:!1}))))};return jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",flexDirection:"column",gap:2},children:[jsxRuntimeExports.jsx(StatelessExamCheckbox,{abnormal:!0,label:"Abnormal",checked:ss,onChange:vs,disabled:ns}),os.length>0&&jsxRuntimeExports.jsx(Box$1,{sx:{width:"100%"},children:jsxRuntimeExports.jsx(ActionsList,{data:os,getKey:bs=>bs.field,renderItem:bs=>jsxRuntimeExports.jsx(Typography$1,{children:parseMusculoskeletalFieldToName(bs.field)}),renderActions:bs=>jsxRuntimeExports.jsx(DeleteIconButton,{disabled:ns,onClick:()=>gs(bs.field)}),divider:!0,gap:.5})}),ss&&jsxRuntimeExports.jsx(FormProvider,{...us,children:jsxRuntimeExports.jsxs(Box$1,{sx:{p:2,backgroundColor:otherColors.formCardBg,display:"flex",flexDirection:"column",gap:2,borderRadius:2},children:[jsxRuntimeExports.jsx(Controller,{name:"side",control:ds,rules:{required:!0},render:({field:{onChange:bs,value:xs}})=>jsxRuntimeExports.jsx(RadioGroup$1,{value:xs,onChange:bs,row:!0,children:musculoskeletalSideOptions.map(ys=>jsxRuntimeExports.jsx(FormControlLabel$1,{value:ys.value,label:ys.label,control:jsxRuntimeExports.jsx(Radio$1,{size:"small"})},ys.value))})}),jsxRuntimeExports.jsx(Controller,{name:"bodyPart",control:ds,rules:{required:!0},render:({field:{onChange:bs,value:xs},fieldState:{error:ys}})=>jsxRuntimeExports.jsx(Autocomplete$1,{options:Object.keys(musculoskeletalBodyPartOptions),getOptionLabel:Ss=>musculoskeletalBodyPartOptions[Ss],renderInput:Ss=>jsxRuntimeExports.jsx(TextField$1,{...Ss,helperText:ys?ys.message:null,error:!!ys,size:"small",label:"Body part"}),onChange:(Ss,Cs)=>bs(Cs),value:xs})}),fs("bodyPart")==="finger"&&jsxRuntimeExports.jsx(Controller,{name:"finger",control:ds,rules:{required:!0},render:({field:{onChange:bs,value:xs},fieldState:{error:ys}})=>jsxRuntimeExports.jsx(Autocomplete$1,{options:Object.keys(musculoskeletalFingerOptions),getOptionLabel:Ss=>musculoskeletalFingerOptions[Ss],renderInput:Ss=>jsxRuntimeExports.jsx(TextField$1,{...Ss,helperText:ys?ys.message:null,error:!!ys,size:"small",label:"Finger"}),onChange:(Ss,Cs)=>bs(Cs),value:xs})}),fs("bodyPart")==="toe"&&jsxRuntimeExports.jsx(Controller,{name:"toe",control:ds,rules:{required:!0},render:({field:{onChange:bs,value:xs},fieldState:{error:ys}})=>jsxRuntimeExports.jsx(Autocomplete$1,{options:Object.keys(musculoskeletalToeOptions),getOptionLabel:Ss=>musculoskeletalToeOptions[Ss],renderInput:Ss=>jsxRuntimeExports.jsx(TextField$1,{...Ss,helperText:ys?ys.message:null,error:!!ys,size:"small",label:"Toe"}),onChange:(Ss,Cs)=>bs(Cs),value:xs})}),jsxRuntimeExports.jsx(Controller,{name:"abnormal",control:ds,rules:{required:!0},render:({field:{onChange:bs,value:xs},fieldState:{error:ys}})=>jsxRuntimeExports.jsx(Autocomplete$1,{options:Object.keys(musculoskeletalAbnormalOptions),getOptionLabel:Ss=>musculoskeletalAbnormalOptions[Ss],renderInput:Ss=>jsxRuntimeExports.jsx(TextField$1,{...Ss,helperText:ys?ys.message:null,error:!!ys,size:"small",label:"Abnormal"}),onChange:(Ss,Cs)=>bs(Cs),value:xs})}),jsxRuntimeExports.jsx(RoundedButton,{onClick:ps(ms),disabled:ns,children:"Add"})]})})]})},RashesForm=()=>{const{value:ts,update:rs,isLoading:ns}=useExamObservations(rashesFields),os=ts.filter(vs=>vs.value),[ss,as]=reactExports.useState(os.length>0),[ls,cs]=reactExports.useState([]),us=useForm({defaultValues:{rashes:null,description:""}}),{control:ds,handleSubmit:ps,reset:fs}=us,hs=vs=>{const bs=ts.find(xs=>xs.field===vs.rashes);rs({...bs,value:!0,note:vs.description||void 0}),fs()},ms=vs=>{const bs=ts.find(xs=>xs.field===vs);rs({...bs,value:!1})},gs=vs=>{as(vs),vs?ls.length>0&&rs(ls.map(bs=>({...bs,value:!0}))):(cs(os),os.length>0&&rs(os.map(bs=>({...bs,value:!1,note:void 0}))))};return jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",flexDirection:"column",gap:2},children:[jsxRuntimeExports.jsx(StatelessExamCheckbox,{abnormal:!0,label:"Rashes",checked:ss,onChange:gs,disabled:ns}),os.length>0&&jsxRuntimeExports.jsx(Box$1,{sx:{width:"100%"},children:jsxRuntimeExports.jsx(ActionsList,{data:os,getKey:vs=>vs.field,renderItem:vs=>jsxRuntimeExports.jsx(Typography$1,{children:parseRashesFieldToName(vs.field,ts)}),renderActions:vs=>jsxRuntimeExports.jsx(DeleteIconButton,{disabled:ns,onClick:()=>ms(vs.field)}),divider:!0,gap:.5})}),ss&&jsxRuntimeExports.jsx(FormProvider,{...us,children:jsxRuntimeExports.jsxs(Box$1,{sx:{p:2,backgroundColor:otherColors.formCardBg,display:"flex",flexDirection:"column",gap:2,borderRadius:2},children:[jsxRuntimeExports.jsx(Controller,{name:"rashes",control:ds,rules:{required:!0},render:({field:{onChange:vs,value:bs},fieldState:{error:xs}})=>jsxRuntimeExports.jsx(Autocomplete$1,{options:Object.keys(rashesOptions),getOptionLabel:ys=>rashesOptions[ys],renderInput:ys=>jsxRuntimeExports.jsx(TextField$1,{...ys,helperText:xs?xs.message:null,error:!!xs,size:"small",label:"Rashes"}),onChange:(ys,Ss)=>vs(Ss),value:bs})}),jsxRuntimeExports.jsx(Controller,{name:"description",control:ds,rules:{required:!0},render:({field:{onChange:vs,value:bs},fieldState:{error:xs}})=>jsxRuntimeExports.jsx(TextField$1,{helperText:xs?xs.message:null,error:!!xs,size:"small",label:"Description",value:bs,onChange:vs,multiline:!0})}),jsxRuntimeExports.jsx(RoundedButton,{onClick:ps(hs),disabled:ns,children:"Add"})]})})]})},ExamCommentField=ts=>{const{name:rs}=ts,ns=useExamObservationsStore(hs=>hs[rs]),[os,ss]=reactExports.useState(ns.note||""),{mutate:as,isLoading:ls}=useSaveChartData(),{mutate:cs,isLoading:us}=useDeleteChartData(),ds=reactExports.useMemo(()=>ls||us,[ls,us]),{debounce:ps}=useDebounce(),fs=hs=>{ps(()=>{hs=hs.trim(),hs?as({examObservations:[{...ns,note:hs}]},{onSuccess:ms=>{var gs;(gs=ms.examObservations)==null||gs.forEach(vs=>useExamObservationsStore.setState({[vs.field]:vs}))}}):cs({examObservations:[{...ns,note:hs}]},{onSuccess:ms=>{useExamObservationsStore.setState({[rs]:EXAM_OBSERVATIONS_CARDS[rs]})}})})};return jsxRuntimeExports.jsx(TextField$1,{value:os,onChange:hs=>{ss(hs.target.value),fs(hs.target.value)},size:"small",label:"Provider comment",fullWidth:!0,InputProps:{endAdornment:ds&&jsxRuntimeExports.jsx(Box$1,{sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:jsxRuntimeExports.jsx(CircularProgress$1,{size:"20px"})})}})},VitalsTemperature=ts=>{var bs;const{validate:rs}=ts,{appointment:ns,questionnaireResponse:os}=getSelectors(useAppointmentStore,["appointment","questionnaireResponse"]),ss=(bs=getQuestionnaireResponseByLinkId("vitals-temperature",os))==null?void 0:bs.answer[0].valueString,{control:as,handleSubmit:ls,watch:cs,setValue:us,getValues:ds}=useForm({defaultValues:{"vitals-temperature":(ss==="N/A"?"":ss)||""}}),{mutate:ps}=useUpdatePaperwork(),{debounce:fs,clear:hs}=useDebounce(1e3),[ms,gs]=reactExports.useState(convertTemperature(ds("vitals-temperature"),"fahrenheit")),vs=reactExports.useCallback(xs=>{fs(()=>{ps({appointmentID:ns.id,paperwork:{"vitals-temperature":xs["vitals-temperature"]||"N/A"}},{onSuccess:()=>{updateQuestionnaireResponse(os,"vitals-temperature",xs["vitals-temperature"]||"N/A")}})})},[fs,ps,ns,os]);return reactExports.useEffect(()=>{const xs=cs(()=>ls(vs)());return()=>xs.unsubscribe()},[ls,cs,vs]),jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",alignItems:"center",gap:1,flex:1.5},children:[jsxRuntimeExports.jsx(Controller,{name:"vitals-temperature",control:as,rules:{validate:xs=>{const ys=rs(xs);if(ys)return hs(),ys}},render:({field:{value:xs,onChange:ys},fieldState:{error:Ss}})=>jsxRuntimeExports.jsx(NumberInput,{helperText:Ss?Ss.message:null,error:!!Ss,label:"Temp, C",value:xs,onChange:Cs=>{ys(Cs),gs(convertTemperature(Cs.target.value,"fahrenheit"))}})}),jsxRuntimeExports.jsx(Typography$1,{children:"/"}),jsxRuntimeExports.jsx(NumberInput,{label:"Temp, F",value:ms,onChange:xs=>{gs(xs.target.value),us("vitals-temperature",convertTemperature(xs.target.value,"celsius"))}})]})},VitalsComponent=ts=>{var gs;const{name:rs,label:ns,validate:os}=ts,{appointment:ss,questionnaireResponse:as}=getSelectors(useAppointmentStore,["appointment","questionnaireResponse"]),ls=(gs=getQuestionnaireResponseByLinkId(rs,as))==null?void 0:gs.answer[0].valueString,{control:cs,handleSubmit:us,watch:ds}=useForm({defaultValues:{[rs]:(ls==="N/A"?"":ls)||""}}),{mutate:ps}=useUpdatePaperwork(),{debounce:fs,clear:hs}=useDebounce(1e3),ms=reactExports.useCallback(vs=>{fs(()=>{ps({appointmentID:ss.id,paperwork:{[rs]:vs[rs]||"N/A"}},{onSuccess:()=>{updateQuestionnaireResponse(as,rs,vs[rs]||"N/A")}})})},[as,fs,ps,ss,rs]);return reactExports.useEffect(()=>{const vs=ds(()=>us(ms)());return()=>vs.unsubscribe()},[us,ds,ms]),jsxRuntimeExports.jsx(Controller,{name:rs,control:cs,rules:{validate:vs=>{const bs=os(vs);if(bs)return hs(),bs}},render:({field:{value:vs,onChange:bs},fieldState:{error:xs}})=>jsxRuntimeExports.jsx(NumberInput,{helperText:xs?xs.message:null,error:!!xs,label:ns,value:vs,onChange:bs,sx:{flex:1}})})},ExamFieldsFactory=ts=>{const{fields:rs,card:ns,group:os,radio:ss}=ts;let as;ns&&os?as=examObservationFieldsDetailsArray.filter(cs=>cs.group===os&&cs.card===ns):as=rs.map(cs=>ExamObservationFieldsDetails[cs]);const ls=as.map(cs=>ss?jsxRuntimeExports.jsx(ControlledExamRadioGroup,{name:cs.field,label:cs.label,abnormal:cs.abnormal},cs.field):jsxRuntimeExports.jsx(ControlledExamCheckbox,{name:cs.field,label:cs.label,abnormal:cs.abnormal},cs.field));return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:ls})},VitalsCard=()=>{const[ts,rs]=useExamCardCollapsed("vitals"),{patient:ns}=getSelectors(useAppointmentStore,["patient"]),os=getValidationValuesByDOB(ns.birthDate);return jsxRuntimeExports.jsx(AccordionCard,{label:"Vitals",collapsed:ts,onSwitch:rs,children:jsxRuntimeExports.jsxs(Box$1,{sx:{p:2,display:"flex",alignItems:"center",gap:3},children:[jsxRuntimeExports.jsx(Typography$1,{variant:"subtitle1",fontSize:16,sx:{whiteSpace:"nowrap"},children:"Patient provided:"}),jsxRuntimeExports.jsx(VitalsTemperature,{validate:ss=>{if(isEmptyValidation(ss))return;const as=isNumberValidation(ss);if(as)return as;if(+ss>os.temperature.high)return"Invalid temperature"}}),jsxRuntimeExports.jsx(VitalsComponent,{name:"vitals-pulse",label:"Pulse Ox",validate:ss=>{if(isEmptyValidation(ss))return;const as=isNumberValidation(ss);if(as)return as;if(+ss>os.pulse.high)return"Invalid pulse"}}),jsxRuntimeExports.jsx(VitalsComponent,{name:"vitals-hr",label:"HR",validate:ss=>{if(isEmptyValidation(ss))return;const as=isNumberValidation(ss);if(as)return as;if(+ss>os.hr.high)return"Invalid heart rate"}}),jsxRuntimeExports.jsx(VitalsComponent,{name:"vitals-rr",label:"RR",validate:ss=>{if(isEmptyValidation(ss))return;const as=isNumberValidation(ss);if(as)return as;if(+ss>os.rr.high)return"Invalid respiration rate"}}),jsxRuntimeExports.jsx(VitalsComponent,{name:"vitals-bp",label:"BP",validate:ss=>{if(isEmptyValidation(ss))return;const as=isNumberValidation(ss);if(as)return as}})]})})},GeneralCard=()=>{const[ts,rs]=useExamCardCollapsed("general");return jsxRuntimeExports.jsx(ExamCardContainer,{label:"General",collapsed:ts,onSwitch:rs,rightComponent:jsxRuntimeExports.jsx(ExamCommentField,{name:"general-comment"}),grid:[{Normal:jsxRuntimeExports.jsx(ExamFieldsFactory,{card:"general",group:"normal"}),Abnormal:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(ExamFieldsFactory,{card:"general",group:"abnormal"}),jsxRuntimeExports.jsx(DistressDropdown,{})]})}]})},HeadCard=()=>{const[ts,rs]=useExamCardCollapsed("head");return jsxRuntimeExports.jsx(ExamCardContainer,{label:"Head",collapsed:ts,onSwitch:rs,rightComponent:jsxRuntimeExports.jsx(ExamCommentField,{name:"head-comment"}),grid:[{Normal:jsxRuntimeExports.jsx(ExamFieldsFactory,{card:"head",group:"normal"})}]})},EyesCard=()=>{const[ts,rs]=useExamCardCollapsed("eyes");return jsxRuntimeExports.jsx(ExamCardContainer,{label:"Eyes",collapsed:ts,onSwitch:rs,rightComponent:jsxRuntimeExports.jsx(ExamCommentField,{name:"eyes-comment"}),grid:[{Normal:jsxRuntimeExports.jsx(ExamFieldsFactory,{card:"eyes",group:"normal"}),Abnormal:jsxRuntimeExports.jsx(ExamFieldsFactory,{card:"eyes",group:"abnormal"})},{"Right eye":jsxRuntimeExports.jsx(ExamFieldsFactory,{card:"eyes",group:"rightEye",radio:!0}),"Left eye":jsxRuntimeExports.jsx(ExamFieldsFactory,{card:"eyes",group:"leftEye",radio:!0})}]})},MouthCard=()=>{const[ts,rs]=useExamCardCollapsed("mouth");return jsxRuntimeExports.jsx(ExamCardContainer,{label:"Mouth",collapsed:ts,onSwitch:rs,rightComponent:jsxRuntimeExports.jsx(ExamCommentField,{name:"mouth-comment"}),grid:[{Normal:jsxRuntimeExports.jsx(ExamFieldsFactory,{card:"mouth",group:"normal"}),Abnormal:jsxRuntimeExports.jsx(ExamFieldsFactory,{card:"mouth",group:"abnormal"})}]})},NeckCard=()=>{const[ts,rs]=useExamCardCollapsed("neck");return jsxRuntimeExports.jsx(ExamCardContainer,{label:"Neck",collapsed:ts,onSwitch:rs,rightComponent:jsxRuntimeExports.jsx(ExamCommentField,{name:"neck-comment"}),grid:[{Normal:jsxRuntimeExports.jsx(ExamFieldsFactory,{card:"neck",group:"normal"})}]})},ChestCard=()=>{const[ts,rs]=useExamCardCollapsed("chest");return jsxRuntimeExports.jsx(ExamCardContainer,{label:"Chest",collapsed:ts,onSwitch:rs,rightComponent:jsxRuntimeExports.jsx(ExamCommentField,{name:"chest-comment"}),grid:[{Normal:jsxRuntimeExports.jsx(ExamFieldsFactory,{card:"chest",group:"normal"}),Abnormal:jsxRuntimeExports.jsx(ExamFieldsFactory,{card:"chest",group:"abnormal"})}]})},BackCard=()=>{const[ts,rs]=useExamCardCollapsed("back");return jsxRuntimeExports.jsx(ExamCardContainer,{label:"Back",collapsed:ts,onSwitch:rs,rightComponent:jsxRuntimeExports.jsx(ExamCommentField,{name:"back-comment"}),grid:[{Normal:jsxRuntimeExports.jsx(ExamFieldsFactory,{card:"back",group:"normal"}),Abnormal:jsxRuntimeExports.jsx(ExamFieldsFactory,{card:"back",group:"abnormal"})}]})},SkinCard=()=>{const[ts,rs]=useExamCardCollapsed("skin");return jsxRuntimeExports.jsx(ExamCardContainer,{label:"Skin",collapsed:ts,onSwitch:rs,rightComponent:jsxRuntimeExports.jsx(ExamCommentField,{name:"skin-comment"}),grid:[{Normal:jsxRuntimeExports.jsx(ExamFieldsFactory,{card:"skin",group:"normal"}),Abnormal:jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(RashesForm,{})})}]})},AbdomenCard=()=>{const[ts,rs]=useExamCardCollapsed("abdomen");return jsxRuntimeExports.jsx(ExamCardContainer,{label:"Abdomen",collapsed:ts,onSwitch:rs,rightComponent:jsxRuntimeExports.jsx(ExamCommentField,{name:"abdomen-comment"}),grid:[{Normal:jsxRuntimeExports.jsx(ExamFieldsFactory,{card:"abdomen",group:"normal"}),Abnormal:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(TenderDropdown,{}),jsxRuntimeExports.jsx(ExamFieldsFactory,{card:"abdomen",group:"abnormal"})]})}]})},MusculoskeletalCard=()=>{const[ts,rs]=useExamCardCollapsed("musculoskeletal");return jsxRuntimeExports.jsx(ExamCardContainer,{label:"Extremities/Musculoskeletal",collapsed:ts,onSwitch:rs,rightComponent:jsxRuntimeExports.jsx(ExamCommentField,{name:"extremities-musculoskeletal-comment"}),grid:[{Normal:jsxRuntimeExports.jsx(ExamFieldsFactory,{card:"musculoskeletal",group:"normal"}),Abnormal:jsxRuntimeExports.jsx(MusculoskeletalForm,{})}]})},NeurologicalCard=()=>{const[ts,rs]=useExamCardCollapsed("neurological");return jsxRuntimeExports.jsx(ExamCardContainer,{label:"Neurological",collapsed:ts,onSwitch:rs,rightComponent:jsxRuntimeExports.jsx(ExamCommentField,{name:"neurological-comment"}),grid:[{Normal:jsxRuntimeExports.jsx(ExamFieldsFactory,{card:"neurological",group:"normal"})}]})},PsychCard=()=>{const[ts,rs]=useExamCardCollapsed("psych");return jsxRuntimeExports.jsx(ExamCardContainer,{label:"Psych",collapsed:ts,onSwitch:rs,rightComponent:jsxRuntimeExports.jsx(ExamCommentField,{name:"psych-comment"}),grid:[{Normal:jsxRuntimeExports.jsx(ExamFieldsFactory,{card:"psych",group:"normal"}),Abnormal:jsxRuntimeExports.jsx(ExamFieldsFactory,{card:"psych",group:"abnormal"})}]})},NoseCard=()=>{const[ts,rs]=useExamCardCollapsed("nose");return jsxRuntimeExports.jsx(ExamCardContainer,{label:"Nose",collapsed:ts,onSwitch:rs,rightComponent:jsxRuntimeExports.jsx(ExamCommentField,{name:"nose-comment"}),grid:[{Normal:jsxRuntimeExports.jsx(ExamFieldsFactory,{card:"nose",group:"normal"}),Abnormal:jsxRuntimeExports.jsx(ExamFieldsFactory,{card:"nose",group:"abnormal"})}]})},EarsCard=()=>{const[ts,rs]=useExamCardCollapsed("ears");return jsxRuntimeExports.jsx(ExamCardContainer,{label:"Ears",collapsed:ts,onSwitch:rs,rightComponent:jsxRuntimeExports.jsx(ExamCommentField,{name:"ears-comment"}),grid:[{"Right ear":jsxRuntimeExports.jsx(ExamFieldsFactory,{card:"ears",group:"rightEar",radio:!0}),"Left ear":jsxRuntimeExports.jsx(ExamFieldsFactory,{card:"ears",group:"leftEar",radio:!0})}]})},MissingCard=()=>{var ss;const{chartData:ts}=getSelectors(useAppointmentStore,["chartData"]),rs=((ts==null?void 0:ts.diagnosis)||[]).find(as=>as.isPrimary),ns=(ss=ts==null?void 0:ts.medicalDecision)==null?void 0:ss.text,os=((ts==null?void 0:ts.cptCodes)||[])[0];return rs&&ns&&os?null:jsxRuntimeExports.jsx(AccordionCard,{label:"Missing",children:jsxRuntimeExports.jsxs(Box$1,{sx:{p:2,display:"flex",flexDirection:"column",gap:1,alignItems:"start"},children:[jsxRuntimeExports.jsx(Typography$1,{children:"This information is required to sign the chart. Please go to Assessment & MDM tab and complete it."}),jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",flexDirection:"column",gap:.5},children:[!rs&&jsxRuntimeExports.jsx(Link$2,{sx:{cursor:"pointer"},color:"error",onClick:()=>useAppointmentStore.setState({currentTab:"erx"}),children:"Primary diagnosis"}),!ns&&jsxRuntimeExports.jsx(Link$2,{sx:{cursor:"pointer"},color:"error",onClick:()=>useAppointmentStore.setState({currentTab:"erx"}),children:"Medical decision making"}),!os&&jsxRuntimeExports.jsx(Link$2,{sx:{cursor:"pointer"},color:"error",onClick:()=>useAppointmentStore.setState({currentTab:"erx"}),children:"CPT code"})]})]})})},AddendumCard=()=>{var cs;const{chartData:ts,isReadOnly:rs}=getSelectors(useAppointmentStore,["chartData","isReadOnly"]),ns=(cs=ts==null?void 0:ts.addendumNote)==null?void 0:cs.text,os=useForm({defaultValues:{addendumNote:ns||""}}),{control:ss}=os,{onValueChange:as,isLoading:ls}=useDebounceNotesField("addendumNote");return jsxRuntimeExports.jsx(AccordionCard,{label:"Addendum",children:jsxRuntimeExports.jsx(Box$1,{sx:{p:2,display:"flex",flexDirection:"column",gap:2,alignItems:"start"},children:rs?ns?jsxRuntimeExports.jsx(Typography$1,{children:ns}):jsxRuntimeExports.jsx(Typography$1,{color:"secondary.light",children:"Note not provided"}):jsxRuntimeExports.jsx(Controller,{name:"addendumNote",control:ss,render:({field:{value:us,onChange:ds}})=>jsxRuntimeExports.jsx(TextField$1,{value:us,onChange:ps=>{ds(ps),as(ps.target.value)},size:"small",label:"Note",fullWidth:!0,multiline:!0,InputProps:{endAdornment:ls&&jsxRuntimeExports.jsx(Box$1,{sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:jsxRuntimeExports.jsx(CircularProgress$1,{size:"20px"})})}})})})})},VisitNoteItem=ts=>{const{label:rs,value:ns}=ts;return jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",justifyContent:"space-between",maxWidth:"550px"},children:[jsxRuntimeExports.jsx(Typography$1,{color:"primary.dark",children:rs}),jsxRuntimeExports.jsx(Typography$1,{children:ns})]})},PatientInformationContainer=()=>{var as,ls;const{patient:ts,questionnaireResponse:rs}=getSelectors(useAppointmentStore,["patient","questionnaireResponse"]),ns=getPatientName(ts==null?void 0:ts.name).lastFirstName,os=(ts==null?void 0:ts.birthDate)&&DateTime.fromFormat(ts.birthDate,"yyyy-MM-dd").toFormat("MM/dd/yyyy"),ss=(ls=(as=getQuestionnaireResponseByLinkId("guardian-number",rs))==null?void 0:as.answer)==null?void 0:ls[0].valueString;return jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",flexDirection:"column",gap:1,width:"100%"},children:[jsxRuntimeExports.jsx(Typography$1,{variant:"h5",color:"primary.dark",children:"Patient information"}),jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",flexDirection:"column",gap:.5},children:[jsxRuntimeExports.jsx(VisitNoteItem,{label:"Patient name",value:ns}),jsxRuntimeExports.jsx(VisitNoteItem,{label:"Date of birth",value:os}),jsxRuntimeExports.jsx(VisitNoteItem,{label:"Person accompanying the minor patient"}),jsxRuntimeExports.jsx(VisitNoteItem,{label:"Phone",value:ss})]})]})},PatientInfoConfirmedCheckbox=()=>{var cs;const{chartData:ts,setPartialChartData:rs,isReadOnly:ns}=getSelectors(useAppointmentStore,["chartData","setPartialChartData","isReadOnly"]),{mutate:os,isLoading:ss}=useSaveChartData(),as=((cs=ts==null?void 0:ts.patientInfoConfirmed)==null?void 0:cs.value)||!1,ls=us=>{rs({patientInfoConfirmed:{value:us}}),os({patientInfoConfirmed:{value:us}},{onSuccess:ds=>{const ps=ds.patientInfoConfirmed;ps&&rs({patientInfoConfirmed:ps})}})};return jsxRuntimeExports.jsx(FormControlLabel$1,{control:jsxRuntimeExports.jsx(Checkbox$1,{disabled:ss||ns,checked:as,onChange:us=>ls(us.target.checked)}),label:"I confirmed patient's name, DOB, introduced myself and gave my licensure and credentials"})},VisitDetailsContainer=()=>{var hs,ms,gs,vs,bs,xs,ys,Ss,Cs;const{appointment:ts,location:rs,encounter:ns,questionnaireResponse:os}=getSelectors(useAppointmentStore,["appointment","location","encounter","questionnaireResponse"]),ss=useOttehrUser(),as=(ms=(hs=getQuestionnaireResponseByLinkId("reason-for-visit",os))==null?void 0:hs.answer)==null?void 0:ms[0].valueString,ls=(gs=rs==null?void 0:rs.address)==null?void 0:gs.state,cs=[ss!=null&&ss.userName?[ss.userName.split(" ").reverse().join(", ")]:[],...(xs=(bs=(vs=ss==null?void 0:ss.profileResource)==null?void 0:vs.name)==null?void 0:bs[0])!=null&&xs.suffix?[ss==null?void 0:ss.profileResource.name[0].suffix.join(" ")]:[]].join(" | "),us=(Ss=(ys=getQuestionnaireResponseByLinkId("patient-street-address",os))==null?void 0:ys.answer)==null?void 0:Ss[0].valueString,ds=ns.statusHistory&&(ts!=null&&ts.status)?mapEncounterStatusHistory(ns.statusHistory,ts.status):void 0,ps=(Cs=ds==null?void 0:ds.find($s=>$s.status==="on-video"))==null?void 0:Cs.start,fs=ps?"".concat(DateTime.fromISO(ps).setZone("America/New_York").toLocaleString(DateTime.DATETIME_SHORT,{locale:"en-US"})," (EDT)"):void 0;return jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",flexDirection:"column",gap:1,width:"100%"},children:[jsxRuntimeExports.jsx(Typography$1,{variant:"h5",color:"primary.dark",children:"Visit Details"}),jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",flexDirection:"column",gap:.5},children:[jsxRuntimeExports.jsx(VisitNoteItem,{label:"Date of Service",value:fs}),jsxRuntimeExports.jsx(VisitNoteItem,{label:"Reason for Visit",value:as}),jsxRuntimeExports.jsx(VisitNoteItem,{label:"Provider Signed On",value:cs}),jsxRuntimeExports.jsx(VisitNoteItem,{label:"VID",value:ts==null?void 0:ts.id}),jsxRuntimeExports.jsx(VisitNoteItem,{label:"Visit State",value:ls}),jsxRuntimeExports.jsx(VisitNoteItem,{label:"Insurance Company Subscriber ID"})]}),jsxRuntimeExports.jsx(PatientInfoConfirmedCheckbox,{}),jsxRuntimeExports.jsxs(Typography$1,{variant:"body2",children:["Address: ",us]})]})},ChiefComplaintContainer=()=>{var ns;const{chartData:ts}=getSelectors(useAppointmentStore,["chartData"]),rs=(ns=ts==null?void 0:ts.chiefComplaint)==null?void 0:ns.text;return jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",flexDirection:"column",gap:.5,width:"100%"},children:[jsxRuntimeExports.jsx(Typography$1,{variant:"h5",color:"primary.dark",children:"Chief complaint & History of Present Illness"}),rs?jsxRuntimeExports.jsx(Typography$1,{children:rs}):jsxRuntimeExports.jsx(Typography$1,{color:"secondary.light",children:"No chief complaint provided"}),jsxRuntimeExports.jsx(Typography$1,{variant:"body2",color:"secondary.light",children:"Provider spent XX minutes on real-time audio & video with this patient"})]})},ReviewOfSystemsContainer=()=>{var ns;const{chartData:ts}=getSelectors(useAppointmentStore,["chartData"]),rs=(ns=ts==null?void 0:ts.ros)==null?void 0:ns.text;return jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",flexDirection:"column",gap:.5,width:"100%"},children:[jsxRuntimeExports.jsx(Typography$1,{variant:"h5",color:"primary.dark",children:"Review of systems"}),rs?jsxRuntimeExports.jsx(Typography$1,{children:rs}):jsxRuntimeExports.jsx(Typography$1,{color:"secondary.light",children:"No review of systems provided"})]})},MedicationsContainer=()=>{const{chartData:ts}=getSelectors(useAppointmentStore,["chartData"]),rs=ts==null?void 0:ts.medications;return jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",flexDirection:"column",gap:.5,width:"100%"},children:[jsxRuntimeExports.jsx(Typography$1,{variant:"h5",color:"primary.dark",children:"Medications"}),rs&&rs.length>0?rs.map(ns=>jsxRuntimeExports.jsx(Typography$1,{children:ns.name},ns.resourceId)):jsxRuntimeExports.jsx(Typography$1,{color:"secondary.light",children:"Patient has no medications"})]})},AllergiesContainer=()=>{const{chartData:ts}=getSelectors(useAppointmentStore,["chartData"]),rs=ts==null?void 0:ts.allergies;return jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",flexDirection:"column",gap:.5,width:"100%"},children:[jsxRuntimeExports.jsx(Typography$1,{variant:"h5",color:"primary.dark",children:"Allergies"}),rs&&rs.length>0?rs.map(ns=>jsxRuntimeExports.jsx(Typography$1,{children:ns.name},ns.resourceId)):jsxRuntimeExports.jsx(Typography$1,{color:"secondary.light",children:"Patient has no allergies"})]})},MedicalConditionsContainer=()=>{const{chartData:ts}=getSelectors(useAppointmentStore,["chartData"]),rs=ts==null?void 0:ts.conditions;return jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",flexDirection:"column",gap:.5,width:"100%"},children:[jsxRuntimeExports.jsx(Typography$1,{variant:"h5",color:"primary.dark",children:"Medical conditions"}),rs&&rs.length>0?rs.map(ns=>jsxRuntimeExports.jsxs(Typography$1,{children:[ns.display," ",ns.code]},ns.resourceId)):jsxRuntimeExports.jsx(Typography$1,{color:"secondary.light",children:"Patient has no medical conditions"})]})},SurgicalHistoryContainer=()=>{const{chartData:ts}=getSelectors(useAppointmentStore,["chartData"]),rs=ts==null?void 0:ts.procedures;return jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",flexDirection:"column",gap:.5,width:"100%"},children:[jsxRuntimeExports.jsx(Typography$1,{variant:"h5",color:"primary.dark",children:"Surgical history"}),rs&&rs.length>0?rs.map(ns=>jsxRuntimeExports.jsx(Typography$1,{children:ns.name},ns.resourceId)):jsxRuntimeExports.jsx(Typography$1,{color:"secondary.light",children:"Patient has no surgical history"})]})},AdditionalQuestionsContainer=()=>{var as,ls,cs,us;const{questionnaireResponse:ts}=getSelectors(useAppointmentStore,["questionnaireResponse"]),rs=(as=getQuestionnaireResponseByLinkId("flu-vaccine",ts))==null?void 0:as.answer[0].valueString,ns=(ls=getQuestionnaireResponseByLinkId("vaccines-up-to-date",ts))==null?void 0:ls.answer[0].valueString,os=(cs=getQuestionnaireResponseByLinkId("travel-usa",ts))==null?void 0:cs.answer[0].valueString,ss=(us=getQuestionnaireResponseByLinkId("hospitalize",ts))==null?void 0:us.answer[0].valueString;return jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",flexDirection:"column",gap:.5,width:"100%"},children:[jsxRuntimeExports.jsx(Typography$1,{variant:"h5",color:"primary.dark",children:"Additional questions"}),jsxRuntimeExports.jsxs(Typography$1,{children:["Have you or your child had your flu vaccine? - ",rs||"Not provided"]}),jsxRuntimeExports.jsxs(Typography$1,{children:["Are your or your child's vaccines up to date? - ",ns||"Not provided"]}),jsxRuntimeExports.jsxs(Typography$1,{children:["Have you traveled out of the USA in the last 2 weeks? - ",os||"Not provided"]}),jsxRuntimeExports.jsxs(Typography$1,{children:["Has the patient been hospitalized in the past 6 months? - ",ss||"Not provided"]})]})},AssessmentTitle=styled$4(ts=>jsxRuntimeExports.jsx(Typography$1,{fontSize:16,fontWeight:700,...ts}))(({theme:ts})=>({color:ts.palette.primary.dark})),DiagnosesField=ts=>{const{onChange:rs,disabled:ns,disableForPrimary:os}=ts,[ss,as]=reactExports.useState(""),{isFetching:ls,data:cs}=useGetIcd10Search(ss),us=(cs==null?void 0:cs.codes)||[],{debounce:ds}=useDebounce(800),ps=hs=>{ds(()=>{as(hs)})},fs=(hs,ms)=>{ms&&rs(ms)};return jsxRuntimeExports.jsx(Autocomplete$1,{blurOnSelect:!0,disabled:ns,options:us,value:null,isOptionEqualToValue:(hs,ms)=>ms.code===hs.code,loading:ls,onChange:fs,getOptionLabel:hs=>typeof hs=="string"?hs:"".concat(hs.code," ").concat(hs.display),getOptionDisabled:hs=>os&&hs.code.startsWith("W"),renderInput:hs=>jsxRuntimeExports.jsx(TextField$1,{...hs,onChange:ms=>ps(ms.target.value),size:"small",label:"Search",placeholder:"Diagnoses"})})},CPTCodeField=()=>{const{chartData:ts,setPartialChartData:rs}=getSelectors(useAppointmentStore,["chartData","setPartialChartData"]),ns=((ts==null?void 0:ts.cptCodes)||[])[0],{mutate:os,isLoading:ss}=useSaveChartData(),{mutate:as,isLoading:ls}=useDeleteChartData(),cs=us=>{ns&&(as({cptCodes:[ns]}),rs({cptCodes:[]})),us&&(os({cptCodes:[us]},{onSuccess:ds=>{const ps=((ds==null?void 0:ds.cptCodes)||[])[0];ps&&rs({cptCodes:[ps]})}}),rs({cptCodes:[us]}))};return jsxRuntimeExports.jsx(Autocomplete$1,{disabled:ss||ls,options,isOptionEqualToValue:(us,ds)=>us.code===ds.code,value:ns?{display:ns.display,code:ns.code}:null,getOptionLabel:us=>us.display,onChange:(us,ds)=>cs(ds),renderInput:us=>jsxRuntimeExports.jsx(TextField$1,{...us,size:"small",label:"CPT code *",placeholder:"Search CPT code"})})},options=[{display:"99201 New Patient - E/M Level 1",code:"99201"},{display:"99202 New Patient - E/M Level 2",code:"99202"},{display:"99203 New Patient - E/M Level 3",code:"99203"},{display:"99204 New Patient - E/M Level 4",code:"99204"},{display:"99205 New Patient - E/M Level 5",code:"99205"},{display:"99212 Established Patient - E/M Level 2",code:"99212"},{display:"99213 Established Patient - E/M Level 3",code:"99213"},{display:"99214 Established Patient - E/M Level 4",code:"99214"},{display:"99215 Established Patient - E/M Level 5",code:"99215"}],DEFAULT_TEXT="Reviewed diagnosis, expected course, treatment plan, and reasons to seek urgent and/or emergent care.  Discharge instructions reviewed.  Caregiver expressed understanding.  All questions were answered, and caregiver is comfortable with discharge plan.",MedicalDecisionField=()=>{var ss;const{chartData:ts}=getSelectors(useAppointmentStore,["chartData"]),rs=useForm({defaultValues:{medicalDecision:((ss=ts==null?void 0:ts.medicalDecision)==null?void 0:ss.text)||DEFAULT_TEXT}}),{control:ns}=rs,{onValueChange:os}=useDebounceNotesField("medicalDecision");return reactExports.useEffect(()=>{ts!=null&&ts.medicalDecision||os(DEFAULT_TEXT)},[]),jsxRuntimeExports.jsx(Controller,{name:"medicalDecision",control:ns,render:({field:{value:as,onChange:ls}})=>jsxRuntimeExports.jsx(TextField$1,{value:as,onChange:cs=>{ls(cs),os(cs.target.value)},size:"small",label:"Medical Decision Making *",fullWidth:!0,multiline:!0})})},DiagnosesContainer=()=>{const{chartData:ts,setPartialChartData:rs,isReadOnly:ns}=getSelectors(useAppointmentStore,["chartData","setPartialChartData","isReadOnly"]),{mutate:os,isLoading:ss}=useSaveChartData(),{mutate:as,isLoading:ls}=useDeleteChartData(),cs=ss||ls,us=(ts==null?void 0:ts.diagnosis)||[],ds=us.find(gs=>gs.isPrimary),ps=us.filter(gs=>!gs.isPrimary),fs=gs=>{const vs={...gs,isPrimary:!ds};os({diagnosis:[vs]},{onSuccess:bs=>{const xs=(bs.diagnosis||[])[0];xs&&rs({diagnosis:[...us,xs]})}}),rs({diagnosis:[...us,vs]})},hs=gs=>{let vs=us;const bs=vs.find(xs=>xs.resourceId===gs);if(as({diagnosis:[bs]}),vs=vs.filter(xs=>xs.resourceId!==gs),bs.isPrimary&&ps.length>0){const xs=ps.find(ys=>!ys.code.startsWith("W"));if(xs){const ys={...xs,isPrimary:!0};os({diagnosis:[ys]}),vs=vs.map(Ss=>Ss.resourceId===ys.resourceId?ys:Ss)}}rs({diagnosis:vs})},ms=gs=>{const bs={...us.find(ys=>ys.resourceId===gs),isPrimary:!0},xs={...ds,isPrimary:!1};os({diagnosis:[bs,xs]}),rs({diagnosis:us.map(ys=>ys.isPrimary?{...ys,isPrimary:!1}:ys.resourceId===gs?{...ys,isPrimary:!0}:ys)})};return jsxRuntimeExports.jsxs(Box$1,{sx:{p:2,display:"flex",flexDirection:"column",gap:2},children:[jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",flexDirection:"column",gap:1},children:[jsxRuntimeExports.jsx(AssessmentTitle,{children:"Diagnoses"}),!ns&&jsxRuntimeExports.jsx(DiagnosesField,{onChange:fs,disabled:cs,disableForPrimary:!ds})]}),ns&&us.length===0&&jsxRuntimeExports.jsx(Typography$1,{color:"secondary.light",children:"Not provided"}),ds&&jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",flexDirection:"column",gap:1},children:[jsxRuntimeExports.jsx(AssessmentTitle,{children:"Primary *"}),jsxRuntimeExports.jsx(ActionsList,{data:[ds],getKey:(gs,vs)=>gs.resourceId||vs,renderItem:gs=>jsxRuntimeExports.jsxs(Typography$1,{children:[gs.display," ",gs.code]}),renderActions:ns?void 0:gs=>jsxRuntimeExports.jsx(DeleteIconButton,{disabled:cs||!gs.resourceId,onClick:()=>hs(gs.resourceId)})})]}),ps.length>0&&jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",flexDirection:"column",gap:1},children:[jsxRuntimeExports.jsx(AssessmentTitle,{children:"Secondary (optional)"}),jsxRuntimeExports.jsx(ActionsList,{data:ps,getKey:(gs,vs)=>gs.resourceId||vs,renderItem:gs=>jsxRuntimeExports.jsxs(Typography$1,{children:[gs.display," ",gs.code]}),renderActions:ns?void 0:gs=>jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",gap:1,alignItems:"center"},children:[!gs.code.startsWith("W")&&jsxRuntimeExports.jsx(Button$2,{disabled:cs||!gs.resourceId,onClick:()=>ms(gs.resourceId),size:"small",sx:{textTransform:"none",fontWeight:700},children:"Make Primary"}),jsxRuntimeExports.jsx(DeleteIconButton,{disabled:cs||!gs.resourceId,onClick:()=>hs(gs.resourceId)})]}),divider:!0})]})]})},AssessmentCard=()=>{var ss;const{chartData:ts,isReadOnly:rs}=getSelectors(useAppointmentStore,["isReadOnly","chartData"]),ns=(ss=ts==null?void 0:ts.medicalDecision)==null?void 0:ss.text,os=((ts==null?void 0:ts.cptCodes)||[])[0];return jsxRuntimeExports.jsx(AccordionCard,{label:"Assessment",children:jsxRuntimeExports.jsx(DoubleColumnContainer,{divider:!0,leftColumn:jsxRuntimeExports.jsx(DiagnosesContainer,{}),rightColumn:jsxRuntimeExports.jsxs(Box$1,{sx:{p:2,display:"flex",flexDirection:"column",gap:2},children:[jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",flexDirection:"column",gap:1},children:[jsxRuntimeExports.jsx(AssessmentTitle,{children:"Medical Decision Making"}),rs?ns?jsxRuntimeExports.jsx(Typography$1,{children:ns}):jsxRuntimeExports.jsx(Typography$1,{color:"secondary.light",children:"Not provided"}):jsxRuntimeExports.jsx(MedicalDecisionField,{})]}),jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",flexDirection:"column",gap:1},children:[jsxRuntimeExports.jsx(AssessmentTitle,{children:"CPT code"}),rs?os?jsxRuntimeExports.jsx(Typography$1,{children:os.display}):jsxRuntimeExports.jsx(Typography$1,{color:"secondary.light",children:"Not provided"}):jsxRuntimeExports.jsx(CPTCodeField,{})]})]})})})},ERxCard=()=>{const{isReadOnly:ts}=getSelectors(useAppointmentStore,["isReadOnly"]);return jsxRuntimeExports.jsx(AccordionCard,{label:"eRx",children:jsxRuntimeExports.jsx(Box$1,{sx:{p:2},children:jsxRuntimeExports.jsx(RoundedButton,{disabled:ts,variant:"contained",children:"Add eRx"})})})},AssessmentTab=()=>{const{isChartDataLoading:ts}=getSelectors(useAppointmentStore,["isChartDataLoading"]);return ts?jsxRuntimeExports.jsx(Box$1,{sx:{display:"flex",justifyContent:"center"},children:jsxRuntimeExports.jsx(CircularProgress$1,{})}):jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",flexDirection:"column",gap:1},children:[jsxRuntimeExports.jsx(AssessmentCard,{}),jsxRuntimeExports.jsx(ERxCard,{})]})},ExamReviewItem=ts=>{const{label:rs,abnormal:ns,radio:os,value:ss}=ts,as=useTheme$1();return os?jsxRuntimeExports.jsxs(Typography$1,{fontWeight:ns===ss?700:void 0,children:[rs," - ",ss?"Yes":"No"]}):jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",gap:1,alignItems:"center"},children:[jsxRuntimeExports.jsx(Box$1,{component:"span",sx:{width:"6px",height:"6px",borderRadius:"50%",backgroundColor:ns?as.palette.error.main:as.palette.success.main}}),jsxRuntimeExports.jsx(Typography$1,{fontWeight:ns?700:void 0,children:rs})]})},ExamReviewGroup=ts=>{const{label:rs,items:ns,extraItems:os,radio:ss=!1}=ts;return jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",gap:2},children:[jsxRuntimeExports.jsx(AssessmentTitle,{children:rs}),ns.length===0&&(!os||os.length===0)?jsxRuntimeExports.jsx(Typography$1,{color:"secondary.light",children:"No data"}):jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",columnGap:4,rowGap:.5,flexWrap:"wrap"},children:[ns.map(as=>jsxRuntimeExports.jsx(ExamReviewItem,{label:as.label,abnormal:as.abnormal,radio:ss,value:!!as.value},as.field)),os&&os.length>0&&os.map(as=>jsxRuntimeExports.jsx(ExamReviewItem,{label:as.label,abnormal:as.abnormal},as.label))]})]})},ExamReviewComment=ts=>{const{item:rs}=ts;return rs.note?jsxRuntimeExports.jsx(Typography$1,{fontWeight:700,children:rs.note}):null},ExaminationContainer=ts=>{var gs,vs,bs,xs,ys;const{noTitle:rs}=ts,{questionnaireResponse:ns}=getSelectors(useAppointmentStore,["questionnaireResponse"]),os=useExamObservationsStore(),{value:ss}=useExamObservations(rashesFields),as=examObservationFieldsDetailsArray.filter(Ss=>Ss.card==="skin"&&Ss.group==="form").filter(Ss=>os[Ss.field].value).map(Ss=>parseRashesFieldToName(Ss.field,ss)),ls=examObservationFieldsDetailsArray.filter(Ss=>Ss.card==="musculoskeletal"&&Ss.group==="form").filter(Ss=>os[Ss.field].value).map(Ss=>parseMusculoskeletalFieldToName(Ss.field)),cs=((gs=getQuestionnaireResponseByLinkId("vitals-temperature",ns))==null?void 0:gs.answer[0].valueString)||"N/A",us=convertTemperature(cs,"fahrenheit"),ds=cs==="N/A"?"N/A":"".concat(cs,"Â°C / ").concat(us,"Â°F"),ps=((vs=getQuestionnaireResponseByLinkId("vitals-pulse",ns))==null?void 0:vs.answer[0].valueString)||"N/A",fs=((bs=getQuestionnaireResponseByLinkId("vitals-hr",ns))==null?void 0:bs.answer[0].valueString)||"N/A",hs=((xs=getQuestionnaireResponseByLinkId("vitals-rr",ns))==null?void 0:xs.answer[0].valueString)||"N/A",ms=((ys=getQuestionnaireResponseByLinkId("vitals-bp",ns))==null?void 0:ys.answer[0].valueString)||"N/A";return jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",flexDirection:"column",gap:1,width:"100%"},children:[!rs&&jsxRuntimeExports.jsx(Typography$1,{variant:"h5",color:"primary.dark",children:"Examination"}),jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",flexDirection:"column",gap:2},children:[jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",gap:4},children:[jsxRuntimeExports.jsx(AssessmentTitle,{children:"Vitals (patient provided):"}),jsxRuntimeExports.jsxs(Typography$1,{children:[jsxRuntimeExports.jsx("b",{children:"Temp:"})," ",ds]}),jsxRuntimeExports.jsxs(Typography$1,{children:[jsxRuntimeExports.jsx("b",{children:"Pulse Ox:"})," ",ps]}),jsxRuntimeExports.jsxs(Typography$1,{children:[jsxRuntimeExports.jsx("b",{children:"HR:"})," ",fs]}),jsxRuntimeExports.jsxs(Typography$1,{children:[jsxRuntimeExports.jsx("b",{children:"RR:"})," ",hs]}),jsxRuntimeExports.jsxs(Typography$1,{children:[jsxRuntimeExports.jsx("b",{children:"BP:"})," ",ms]})]}),jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",flexDirection:"column",gap:1},children:[jsxRuntimeExports.jsx(ExamReviewGroup,{label:"General:",items:examObservationFieldsDetailsArray.filter(Ss=>Ss.card==="general"&&["normal","abnormal"].includes(Ss.group)).filter(Ss=>os[Ss.field].value),extraItems:examObservationFieldsDetailsArray.filter(Ss=>Ss.card==="general"&&Ss.group==="dropdown").filter(Ss=>os[Ss.field].value).map(Ss=>({label:"".concat(Ss.label," distress"),abnormal:Ss.abnormal}))}),jsxRuntimeExports.jsx(ExamReviewComment,{item:os["general-comment"]})]}),jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",flexDirection:"column",gap:1},children:[jsxRuntimeExports.jsx(ExamReviewGroup,{label:"Head:",items:examObservationFieldsDetailsArray.filter(Ss=>Ss.card==="head").filter(Ss=>os[Ss.field].value)}),jsxRuntimeExports.jsx(ExamReviewComment,{item:os["head-comment"]})]}),jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",flexDirection:"column",gap:1},children:[jsxRuntimeExports.jsx(ExamReviewGroup,{label:"Eyes:",items:examObservationFieldsDetailsArray.filter(Ss=>Ss.card==="eyes"&&["normal","abnormal"].includes(Ss.group)).filter(Ss=>os[Ss.field].value)}),jsxRuntimeExports.jsx(ExamReviewGroup,{label:"Right eye:",items:examObservationFieldsDetailsArray.filter(Ss=>Ss.group==="rightEye").map(Ss=>({...Ss,value:os[Ss.field].value})),radio:!0}),jsxRuntimeExports.jsx(ExamReviewGroup,{label:"Left eye:",items:examObservationFieldsDetailsArray.filter(Ss=>Ss.group==="leftEye").map(Ss=>({...Ss,value:os[Ss.field].value})),radio:!0}),jsxRuntimeExports.jsx(ExamReviewComment,{item:os["eyes-comment"]})]}),jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",flexDirection:"column",gap:1},children:[jsxRuntimeExports.jsx(ExamReviewGroup,{label:"Right ear:",items:examObservationFieldsDetailsArray.filter(Ss=>Ss.group==="rightEar").map(Ss=>({...Ss,value:os[Ss.field].value})),radio:!0}),jsxRuntimeExports.jsx(ExamReviewGroup,{label:"Left ear:",items:examObservationFieldsDetailsArray.filter(Ss=>Ss.group==="leftEar").map(Ss=>({...Ss,value:os[Ss.field].value})),radio:!0}),jsxRuntimeExports.jsx(ExamReviewComment,{item:os["ears-comment"]})]}),jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",flexDirection:"column",gap:1},children:[jsxRuntimeExports.jsx(ExamReviewGroup,{label:"Mouth:",items:examObservationFieldsDetailsArray.filter(Ss=>Ss.card==="mouth").filter(Ss=>os[Ss.field].value)}),jsxRuntimeExports.jsx(ExamReviewComment,{item:os["mouth-comment"]})]}),jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",flexDirection:"column",gap:1},children:[jsxRuntimeExports.jsx(ExamReviewGroup,{label:"Neck:",items:examObservationFieldsDetailsArray.filter(Ss=>Ss.card==="neck").filter(Ss=>os[Ss.field].value)}),jsxRuntimeExports.jsx(ExamReviewComment,{item:os["neck-comment"]})]}),jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",flexDirection:"column",gap:1},children:[jsxRuntimeExports.jsx(ExamReviewGroup,{label:"Chest:",items:examObservationFieldsDetailsArray.filter(Ss=>Ss.card==="chest").filter(Ss=>os[Ss.field].value)}),jsxRuntimeExports.jsx(ExamReviewComment,{item:os["chest-comment"]})]}),jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",flexDirection:"column",gap:1},children:[jsxRuntimeExports.jsx(ExamReviewGroup,{label:"Back:",items:examObservationFieldsDetailsArray.filter(Ss=>Ss.card==="back").filter(Ss=>os[Ss.field].value)}),jsxRuntimeExports.jsx(ExamReviewComment,{item:os["back-comment"]})]}),jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",flexDirection:"column",gap:1},children:[jsxRuntimeExports.jsx(ExamReviewGroup,{label:"Skin:",items:examObservationFieldsDetailsArray.filter(Ss=>Ss.card==="skin"&&["normal","abnormal"].includes(Ss.group)).filter(Ss=>os[Ss.field].value),extraItems:as.length>0?[{label:"Rashes",abnormal:!0}]:void 0}),as.length>0&&jsxRuntimeExports.jsx(Typography$1,{children:as.join(", ")})]}),jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",flexDirection:"column",gap:1},children:[jsxRuntimeExports.jsx(ExamReviewGroup,{label:"Abdomen:",items:examObservationFieldsDetailsArray.filter(Ss=>Ss.card==="abdomen").filter(Ss=>os[Ss.field].value)}),jsxRuntimeExports.jsx(ExamReviewComment,{item:os["chest-comment"]})]}),jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",flexDirection:"column",gap:1},children:[jsxRuntimeExports.jsx(ExamReviewGroup,{label:"Extremities/Musculoskeletal:",items:examObservationFieldsDetailsArray.filter(Ss=>Ss.card==="musculoskeletal"&&["normal","abnormal"].includes(Ss.group)).filter(Ss=>os[Ss.field].value),extraItems:ls.length>0?[{label:"Abnormal",abnormal:!0}]:void 0}),ls.length>0&&jsxRuntimeExports.jsx(Box$1,{sx:{maxWidth:"400px"},children:jsxRuntimeExports.jsx(ActionsList,{data:ls,getKey:Ss=>Ss,renderItem:Ss=>Ss,divider:!0,gap:.5})}),jsxRuntimeExports.jsx(ExamReviewComment,{item:os["extremities-musculoskeletal-comment"]})]}),jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",flexDirection:"column",gap:1},children:[jsxRuntimeExports.jsx(ExamReviewGroup,{label:"Neurological:",items:examObservationFieldsDetailsArray.filter(Ss=>Ss.card==="neurological").filter(Ss=>os[Ss.field].value)}),jsxRuntimeExports.jsx(ExamReviewComment,{item:os["neurological-comment"]})]}),jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",flexDirection:"column",gap:1},children:[jsxRuntimeExports.jsx(ExamReviewGroup,{label:"Psych:",items:examObservationFieldsDetailsArray.filter(Ss=>Ss.card==="psych").filter(Ss=>os[Ss.field].value)}),jsxRuntimeExports.jsx(ExamReviewComment,{item:os["psych-comment"]})]})]})]})},AssessmentContainer=()=>{const{chartData:ts}=getSelectors(useAppointmentStore,["chartData"]),rs=(ts==null?void 0:ts.diagnosis)||[],ns=rs.find(ss=>ss.isPrimary),os=rs.filter(ss=>!ss.isPrimary);return jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",flexDirection:"column",gap:1,width:"100%"},children:[jsxRuntimeExports.jsx(Typography$1,{variant:"h5",color:"primary.dark",children:"Assessment"}),rs&&rs.length>0?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[ns&&jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",flexDirection:"column",gap:.5},children:[jsxRuntimeExports.jsx(AssessmentTitle,{children:"Primary:"}),jsxRuntimeExports.jsx(Typography$1,{children:ns.display})]}),os&&os.length>0&&jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",flexDirection:"column",gap:.5},children:[jsxRuntimeExports.jsx(AssessmentTitle,{children:"Secondary:"}),os.map(ss=>jsxRuntimeExports.jsx(Typography$1,{children:ss.display},ss.resourceId))]})]}):jsxRuntimeExports.jsx(Typography$1,{color:"secondary.light",children:"No diagnoses provided"})]})},MedicalDecisionMakingContainer=()=>{var ns;const{chartData:ts}=getSelectors(useAppointmentStore,["chartData"]),rs=(ns=ts==null?void 0:ts.medicalDecision)==null?void 0:ns.text;return jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",flexDirection:"column",gap:.5,width:"100%"},children:[jsxRuntimeExports.jsx(Typography$1,{variant:"h5",color:"primary.dark",children:"Medical Decision Making"}),rs?jsxRuntimeExports.jsx(Typography$1,{children:rs}):jsxRuntimeExports.jsx(Typography$1,{color:"secondary.light",children:"No medical decision making provided"})]})},CptCodeContainer=()=>{const{chartData:ts}=getSelectors(useAppointmentStore,["chartData"]),rs=((ts==null?void 0:ts.cptCodes)||[])[0];return jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",flexDirection:"column",gap:.5,width:"100%"},children:[jsxRuntimeExports.jsx(Typography$1,{variant:"h5",color:"primary.dark",children:"CPT code"}),rs?jsxRuntimeExports.jsx(Typography$1,{children:rs.display}):jsxRuntimeExports.jsx(Typography$1,{color:"secondary.light",children:"No CPT code provided"})]})},PrescriptionsContainer=()=>jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",flexDirection:"column",gap:.5,width:"100%"},children:[jsxRuntimeExports.jsx(Typography$1,{variant:"h5",color:"primary.dark",children:"Prescriptions"}),jsxRuntimeExports.jsx(Typography$1,{children:"To be implemented"})]}),PatientInstructionsContainer=()=>{const{chartData:ts}=getSelectors(useAppointmentStore,["chartData"]),rs=ts==null?void 0:ts.instructions,ns=ts==null?void 0:ts.disposition,os=useExcusePresignedFiles(ts==null?void 0:ts.workSchoolNotes);return jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",flexDirection:"column",gap:1,width:"100%"},children:[jsxRuntimeExports.jsx(Typography$1,{variant:"h5",color:"primary.dark",children:"Patient instructions"}),jsxRuntimeExports.jsx(AssessmentTitle,{children:"Patient instructions"}),jsxRuntimeExports.jsx(Box$1,{sx:{display:"flex",flexDirection:"column",gap:.5},children:rs&&rs.length>0?rs.map(ss=>jsxRuntimeExports.jsx(Typography$1,{children:ss.text},ss.resourceId)):jsxRuntimeExports.jsx(Typography$1,{color:"secondary.light",children:"No patient instructions provided"})}),jsxRuntimeExports.jsx(Divider$1,{orientation:"horizontal",flexItem:!0}),jsxRuntimeExports.jsx(AssessmentTitle,{children:"General patient education documents "}),jsxRuntimeExports.jsx(Box$1,{sx:{display:"flex",flexDirection:"column",gap:.5},children:jsxRuntimeExports.jsx(Typography$1,{children:"To be implemented"})}),jsxRuntimeExports.jsx(Divider$1,{orientation:"horizontal",flexItem:!0}),jsxRuntimeExports.jsx(AssessmentTitle,{children:"Ottehr patient education materials "}),jsxRuntimeExports.jsx(Box$1,{sx:{display:"flex",flexDirection:"column",gap:.5},children:jsxRuntimeExports.jsx(Typography$1,{children:"To be implemented"})}),jsxRuntimeExports.jsx(Divider$1,{orientation:"horizontal",flexItem:!0}),jsxRuntimeExports.jsxs(AssessmentTitle,{children:["Discharge instructions - ",ns!=null&&ns.type?mapDispositionTypeToLabel[ns.type]:"Not provided"]}),jsxRuntimeExports.jsx(Box$1,{sx:{display:"flex",flexDirection:"column",gap:.5},children:ns!=null&&ns.note?jsxRuntimeExports.jsx(Typography$1,{children:ns.note}):jsxRuntimeExports.jsx(Typography$1,{color:"secondary.light",children:"No discharge instructions provided"})}),jsxRuntimeExports.jsx(Divider$1,{orientation:"horizontal",flexItem:!0}),jsxRuntimeExports.jsx(AssessmentTitle,{children:"Subspecialty follow-up"}),jsxRuntimeExports.jsx(Box$1,{sx:{display:"flex",flexDirection:"column",gap:.5},children:ns!=null&&ns.followUp&&ns.followUp.length>0?ns.followUp.map(ss=>{const as=dispositionCheckboxOptions.find(cs=>cs.name===ss.type).label;let ls="";return ss.type==="other"&&(ls=": ".concat(ss.note)),jsxRuntimeExports.jsx(Typography$1,{children:"".concat(as).concat(ls)},ss.type)}):jsxRuntimeExports.jsx(Typography$1,{color:"secondary.light",children:"No subspecialty follow-up provided"})}),jsxRuntimeExports.jsx(Divider$1,{orientation:"horizontal",flexItem:!0}),jsxRuntimeExports.jsx(AssessmentTitle,{children:"Work / School Excuse"}),jsxRuntimeExports.jsx(Box$1,{sx:{display:"flex",flexDirection:"column",gap:.5},children:os.length>0?os.map(ss=>jsxRuntimeExports.jsx(Link$2,{component:Link,to:ss.presignedUrl,target:"_blank",children:ss.name},ss.id)):jsxRuntimeExports.jsx(Typography$1,{color:"secondary.light",children:"No work/school excuses provided"})})]})},VisitNoteCard=()=>jsxRuntimeExports.jsx(AccordionCard,{label:"Visit note",children:jsxRuntimeExports.jsxs(Box$1,{sx:{p:2,display:"flex",flexDirection:"column",gap:1,alignItems:"start"},children:[jsxRuntimeExports.jsx(PatientInformationContainer,{}),jsxRuntimeExports.jsx(Divider$1,{orientation:"horizontal",flexItem:!0}),jsxRuntimeExports.jsx(VisitDetailsContainer,{}),jsxRuntimeExports.jsx(Divider$1,{orientation:"horizontal",flexItem:!0}),jsxRuntimeExports.jsx(ChiefComplaintContainer,{}),jsxRuntimeExports.jsx(Divider$1,{orientation:"horizontal",flexItem:!0}),jsxRuntimeExports.jsx(ReviewOfSystemsContainer,{}),jsxRuntimeExports.jsx(Divider$1,{orientation:"horizontal",flexItem:!0}),jsxRuntimeExports.jsx(MedicationsContainer,{}),jsxRuntimeExports.jsx(Divider$1,{orientation:"horizontal",flexItem:!0}),jsxRuntimeExports.jsx(AllergiesContainer,{}),jsxRuntimeExports.jsx(Divider$1,{orientation:"horizontal",flexItem:!0}),jsxRuntimeExports.jsx(MedicalConditionsContainer,{}),jsxRuntimeExports.jsx(Divider$1,{orientation:"horizontal",flexItem:!0}),jsxRuntimeExports.jsx(SurgicalHistoryContainer,{}),jsxRuntimeExports.jsx(Divider$1,{orientation:"horizontal",flexItem:!0}),jsxRuntimeExports.jsx(AdditionalQuestionsContainer,{}),jsxRuntimeExports.jsx(Divider$1,{orientation:"horizontal",flexItem:!0}),jsxRuntimeExports.jsx(ExaminationContainer,{}),jsxRuntimeExports.jsx(Divider$1,{orientation:"horizontal",flexItem:!0}),jsxRuntimeExports.jsx(AssessmentContainer,{}),jsxRuntimeExports.jsx(Divider$1,{orientation:"horizontal",flexItem:!0}),jsxRuntimeExports.jsx(MedicalDecisionMakingContainer,{}),jsxRuntimeExports.jsx(Divider$1,{orientation:"horizontal",flexItem:!0}),jsxRuntimeExports.jsx(CptCodeContainer,{}),jsxRuntimeExports.jsx(Divider$1,{orientation:"horizontal",flexItem:!0}),jsxRuntimeExports.jsx(PrescriptionsContainer,{}),jsxRuntimeExports.jsx(Divider$1,{orientation:"horizontal",flexItem:!0}),jsxRuntimeExports.jsx(PatientInstructionsContainer,{})]})}),ReviewAndSignButton=()=>{var Ss,Cs;const{patient:ts,appointment:rs,encounter:ns,chartData:os}=getSelectors(useAppointmentStore,["patient","appointment","encounter","chartData"]),ss=useZapEHRAPIClient(),{mutateAsync:as,isLoading:ls}=useChangeTelemedAppointmentStatusMutation(),[cs,us]=reactExports.useState(!1),ds=useGetAppointmentAccessibility(),ps=((os==null?void 0:os.diagnosis)||[]).find($s=>$s.isPrimary),fs=(Ss=os==null?void 0:os.medicalDecision)==null?void 0:Ss.text,hs=((os==null?void 0:os.cptCodes)||[])[0],ms=(Cs=os==null?void 0:os.patientInfoConfirmed)==null?void 0:Cs.value,gs=getPatientName(ts==null?void 0:ts.name).firstLastName,vs=reactExports.useMemo(()=>{const $s=[];return ds.status!==ApptStatus.unsigned&&$s.push("You need to finish a video call with the patient"),(!ps||!fs||!hs)&&$s.push("You need to fill in the missing data"),ms||$s.push("You need to confirm patient information"),$s},[ds.status,ps,fs,hs,ms]),bs=()=>{us(!1)},xs=()=>{us(!0)},ys=async()=>{if(!ss||!(rs!=null&&rs.id))throw new Error("api client not defined or appointmentId not provided");await as({apiClient:ss,appointmentId:rs.id,newStatus:ApptStatus.complete}),useAppointmentStore.setState({encounter:{...ns,status:"finished"},appointment:{...rs,status:"fulfilled"}})};return jsxRuntimeExports.jsx(Box$1,{sx:{display:"flex",justifyContent:"end"},children:jsxRuntimeExports.jsx(Tooltip$1,{placement:"top",open:cs&&vs.length>0,onClose:bs,onOpen:xs,title:vs.map($s=>jsxRuntimeExports.jsx(Typography$1,{children:$s},$s)),children:jsxRuntimeExports.jsx(Box$1,{children:jsxRuntimeExports.jsx(ConfirmationDialog,{title:"Review & Sign ".concat(gs),description:"Are you sure you have reviewed the patient chart, performed the examination, defined the diagnoses, medical decision making and CPT code and ready to sing this patient.",response:ys,actionButtons:{proceed:{text:"Sign"},back:{text:"Cancel"}},children:$s=>jsxRuntimeExports.jsx(RoundedButton,{disabled:vs.length>0||ls,variant:"contained",onClick:$s,children:"Review & Sign"})})})})})},ReviewTab=()=>{const{isChartDataLoading:ts,isReadOnly:rs}=getSelectors(useAppointmentStore,["isChartDataLoading","isReadOnly"]);return ts?jsxRuntimeExports.jsx(Box$1,{sx:{display:"flex",justifyContent:"center"},children:jsxRuntimeExports.jsx(CircularProgress$1,{})}):jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",flexDirection:"column",gap:1},children:[jsxRuntimeExports.jsx(MissingCard,{}),jsxRuntimeExports.jsx(VisitNoteCard,{}),jsxRuntimeExports.jsx(AddendumCard,{}),!rs&&jsxRuntimeExports.jsx(ReviewAndSignButton,{})]})},ReadOnlyCard=()=>jsxRuntimeExports.jsx(AccordionCard,{label:"Examination",children:jsxRuntimeExports.jsx(Box$1,{sx:{p:2},children:jsxRuntimeExports.jsx(ExaminationContainer,{noTitle:!0})})}),ExamTab=()=>{const{isExamObservationsLoading:ts,isReadOnly:rs}=getSelectors(useAppointmentStore,["isExamObservationsLoading","isReadOnly"]);return ts?jsxRuntimeExports.jsx(Box$1,{sx:{display:"flex",justifyContent:"center"},children:jsxRuntimeExports.jsx(CircularProgress$1,{})}):jsxRuntimeExports.jsx(Box$1,{sx:{display:"flex",flexDirection:"column",gap:1},children:rs?jsxRuntimeExports.jsx(ReadOnlyCard,{}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(VitalsCard,{}),jsxRuntimeExports.jsx(GeneralCard,{}),jsxRuntimeExports.jsx(HeadCard,{}),jsxRuntimeExports.jsx(EyesCard,{}),jsxRuntimeExports.jsx(NoseCard,{}),jsxRuntimeExports.jsx(EarsCard,{}),jsxRuntimeExports.jsx(MouthCard,{}),jsxRuntimeExports.jsx(NeckCard,{}),jsxRuntimeExports.jsx(ChestCard,{}),jsxRuntimeExports.jsx(BackCard,{}),jsxRuntimeExports.jsx(SkinCard,{}),jsxRuntimeExports.jsx(AbdomenCard,{}),jsxRuntimeExports.jsx(MusculoskeletalCard,{}),jsxRuntimeExports.jsx(NeurologicalCard,{}),jsxRuntimeExports.jsx(PsychCard,{})]})})};var Done={},_interopRequireDefault$7=interopRequireDefaultExports;Object.defineProperty(Done,"__esModule",{value:!0});var default_1$6=Done.default=void 0,_createSvgIcon$6=_interopRequireDefault$7(requireCreateSvgIcon()),_jsxRuntime$6=jsxRuntimeExports;default_1$6=Done.default=(0,_createSvgIcon$6.default)((0,_jsxRuntime$6.jsx)("path",{d:"M9 16.2 4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4z"}),"Done");const PatientInstructionsTemplatesDialog=ts=>{const{open:rs,onClose:ns,type:os,onSelect:ss}=ts,as=useTheme$1(),[ls,cs]=reactExports.useState([]),{isFetching:us}=useGetPatientInstructions({type:os},gs=>{cs(gs)}),ds=os==="provider",{mutate:ps,isLoading:fs}=useDeletePatientInstruction(),hs=useQueryClient(),ms=gs=>{ps({id:gs},{onSuccess:()=>{hs.invalidateQueries({queryKey:["telemed-get-patient-instructions"]})}}),cs(vs=>vs.filter(bs=>bs.resourceId!==gs))};return jsxRuntimeExports.jsxs(Dialog$1,{open:rs,onClose:ns,maxWidth:"md",fullWidth:!0,scroll:"paper",children:[jsxRuntimeExports.jsxs(DialogTitle$1,{component:"div",sx:{p:3,pb:2,display:"flex",alignItems:"flex-start"},children:[jsxRuntimeExports.jsx(Typography$1,{variant:"h4",color:as.palette.primary.dark,sx:{flex:1},children:ds?"My instruction templates":"Ottehr instruction templates "}),jsxRuntimeExports.jsx(IconButton$2,{size:"small",onClick:ns,children:jsxRuntimeExports.jsx(default_1$d,{fontSize:"small"})})]}),jsxRuntimeExports.jsx(Divider$1,{}),jsxRuntimeExports.jsx(DialogContent$1,{sx:{p:3},children:us&&ls.length===0?jsxRuntimeExports.jsx(Box$1,{sx:{display:"flex",justifyContent:"center"},children:jsxRuntimeExports.jsx(CircularProgress$1,{})}):ls.length===0?jsxRuntimeExports.jsx(Typography$1,{color:as.palette.text.secondary,children:"No instruction templates"}):jsxRuntimeExports.jsx(ActionsList,{data:ls,getKey:(gs,vs)=>gs.resourceId||vs,renderItem:gs=>jsxRuntimeExports.jsx(Typography$1,{children:gs.text}),renderActions:gs=>jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",gap:2,alignItems:"center"},children:[ds&&jsxRuntimeExports.jsx(DeleteIconButton,{disabled:fs,onClick:()=>ms(gs.resourceId)}),jsxRuntimeExports.jsx(RoundedButton,{onClick:()=>{ss(gs),ns()},variant:"contained",children:"Select"})]}),gap:2,divider:!0,alignItems:"flex-start"})})]})};var InsertDriveFileOutlined={},_interopRequireDefault$6=interopRequireDefaultExports;Object.defineProperty(InsertDriveFileOutlined,"__esModule",{value:!0});var default_1$5=InsertDriveFileOutlined.default=void 0,_createSvgIcon$5=_interopRequireDefault$6(requireCreateSvgIcon()),_jsxRuntime$5=jsxRuntimeExports;default_1$5=InsertDriveFileOutlined.default=(0,_createSvgIcon$5.default)((0,_jsxRuntime$5.jsx)("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8zM6 20V4h7v5h5v11z"}),"InsertDriveFileOutlined");const ExcuseLink=ts=>{const{label:rs,to:ns,onDelete:os,disabled:ss}=ts,as=useTheme$1();return jsxRuntimeExports.jsxs(Card$1,{elevation:0,sx:{py:1,px:2,backgroundColor:otherColors.apptHover,display:"flex",gap:1,alignItems:"center",color:as.palette.primary.main,width:"100%",textDecoration:"none"},component:Link,to:ns,target:"_blank",children:[jsxRuntimeExports.jsx(default_1$5,{fontSize:"small"}),jsxRuntimeExports.jsx(Typography$1,{sx:{flexGrow:1},fontWeight:700,children:rs}),os&&jsxRuntimeExports.jsx(DeleteIconButton,{onClick:ls=>{ls.preventDefault(),os()},disabled:ss})]})},ExcuseCard=ts=>{const{label:rs,excuse:ns,isLoading:os,onDelete:ss,onPublish:as,generateTemplateOpen:ls,generateFreeOpen:cs,disabled:us}=ts,[ds,ps]=reactExports.useState(null),fs=gs=>{ps(gs.currentTarget)},hs=()=>{ps(null)},ms=!!ds;return jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",flexDirection:"column",gap:2},children:[jsxRuntimeExports.jsx(UppercaseCaptionTypography,{children:rs}),ns&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(ExcuseLink,{label:ns.name,to:ns.presignedUrl,onDelete:us?void 0:()=>ss(ns.id),disabled:os}),jsxRuntimeExports.jsxs(Typography$1,{children:["Generated: ",DateTime.fromISO(ns.date).toLocaleString(DateTime.DATETIME_SHORT,{locale:"en-us"})]}),jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",gap:2,alignItems:"center",justifyContent:"end"},children:[jsxRuntimeExports.jsx(Box$1,{onMouseEnter:fs,onMouseLeave:hs,sx:{display:"flex",alignItems:"center"},children:jsxRuntimeExports.jsx(default_1$n,{color:"primary"})}),jsxRuntimeExports.jsx(RoundedButton,{variant:"contained",disabled:ns.published||os||us,onClick:()=>as(ns.id),children:ns.published?"Published":"Publish now"})]}),jsxRuntimeExports.jsx(Popover$1,{sx:{pointerEvents:"none"},open:ms,anchorEl:ds,anchorOrigin:{vertical:"top",horizontal:"center"},transformOrigin:{vertical:"bottom",horizontal:"center"},onClose:hs,disableRestoreFocus:!0,children:jsxRuntimeExports.jsx(Typography$1,{sx:{p:2,width:"300px"},children:"Optional - you can publish note now or it will publish automatically after you review and sign visit note"})})]}),!ns&&jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",gap:2},children:[jsxRuntimeExports.jsx(RoundedButton,{onClick:()=>ls(!0),disabled:os||us,children:"Generate to the template"}),jsxRuntimeExports.jsx(RoundedButton,{onClick:()=>cs(!0),disabled:os||us,children:"Free format note"})]})]})},GenerateExcuseDialogContainer=ts=>{const{open:rs,onClose:ns,onSubmit:os,label:ss,children:as}=ts,ls=useTheme$1();return jsxRuntimeExports.jsxs(Dialog$1,{open:rs,onClose:ns,maxWidth:"md",fullWidth:!0,scroll:"paper",children:[jsxRuntimeExports.jsxs(DialogTitle$1,{component:"div",sx:{p:3,pb:2,display:"flex",alignItems:"flex-start"},children:[jsxRuntimeExports.jsx(Typography$1,{variant:"h4",color:ls.palette.primary.dark,sx:{flex:1},children:ss}),jsxRuntimeExports.jsx(IconButton$2,{size:"small",onClick:ns,children:jsxRuntimeExports.jsx(default_1$d,{fontSize:"small"})})]}),jsxRuntimeExports.jsx(Divider$1,{}),jsxRuntimeExports.jsx(DialogContent$1,{sx:{p:3},children:as}),jsxRuntimeExports.jsx(Divider$1,{}),jsxRuntimeExports.jsxs(DialogActions$1,{sx:{py:2,px:3,display:"flex",justifyContent:"space-between"},children:[jsxRuntimeExports.jsx(RoundedButton,{onClick:ns,children:"Cancel"}),jsxRuntimeExports.jsx(RoundedButton,{onClick:os,variant:"contained",children:"Generate note"})]})]})},ControlledExcuseDatePicker=ts=>{const{name:rs,validate:ns}=ts,{control:os}=useFormContext();return jsxRuntimeExports.jsx(Controller,{name:rs,control:os,rules:{validate:ns},render:({field:{onChange:ss,value:as},fieldState:{error:ls}})=>jsxRuntimeExports.jsx(LocalizationProvider,{dateAdapter:LuxonUtils,children:jsxRuntimeExports.jsx(DatePicker,{value:as,onChange:ss,inputFormat:"MM/dd/yyyy",renderInput:cs=>jsxRuntimeExports.jsx(TextField$1,{size:"small",...cs,error:!!ls,helperText:ls==null?void 0:ls.message,inputProps:{...cs.inputProps,placeholder:"MM/DD/YYYY"}})})})})},ControlledExcuseCheckbox=ts=>{const{label:rs,name:ns,onChange:os}=ts,{control:ss}=useFormContext();return jsxRuntimeExports.jsx(FormControlLabel$1,{control:jsxRuntimeExports.jsx(Controller,{name:ns,control:ss,render:({field:{value:as,onChange:ls}})=>jsxRuntimeExports.jsx(Checkbox$1,{checked:as,onChange:cs=>{os&&os(cs.target.checked),ls(cs)}})}),label:rs})},ControlledExcuseTextField=ts=>{const{name:rs,validate:ns,placeholder:os,label:ss,fullWidth:as,multiline:ls,required:cs}=ts,{control:us}=useFormContext();return jsxRuntimeExports.jsx(Controller,{name:rs,control:us,rules:{validate:ns,required:cs},render:({field:{onChange:ds,value:ps},fieldState:{error:fs}})=>jsxRuntimeExports.jsx(TextField$1,{error:!!fs,helperText:fs==null?void 0:fs.message,placeholder:os,label:ss,size:"small",value:ps,onChange:ds,fullWidth:as,multiline:ls})})},GenerateExcuseDialog=ts=>{var xs,ys,Ss,Cs;const{open:rs,onClose:ns,type:os,generate:ss}=ts,as=mapExcuseTypeToFields[os],ls=["schoolTemplate","schoolFree"].includes(os),cs=["workTemplate","schoolTemplate"].includes(os),{patient:us,chartData:ds,setPartialChartData:ps}=getSelectors(useAppointmentStore,["patient","chartData","setPartialChartData"]),fs=useOttehrUser(),hs=useForm({defaultValues:getDefaultExcuseFormValues({isSchool:ls,isTemplate:cs,patientName:getPatientName(us==null?void 0:us.name).firstLastName,providerName:fs==null?void 0:fs.userName,suffix:(Cs=(Ss=(ys=(xs=fs==null?void 0:fs.profileResource)==null?void 0:xs.name)==null?void 0:ys[0])==null?void 0:Ss.suffix)==null?void 0:Cs.join(" "),phoneNumber:fs==null?void 0:fs.phoneNumber})}),{handleSubmit:ms,getValues:gs,setValue:vs}=hs,bs=$s=>{var ws,Ts,Is,Rs;const Es=mapValuesToExcuse($s,{type:os,isSchool:ls,isTemplate:cs,patientName:getPatientName(us==null?void 0:us.name).firstLastName,providerName:fs==null?void 0:fs.userName,suffix:(Rs=(Is=(Ts=(ws=fs==null?void 0:fs.profileResource)==null?void 0:ws.name)==null?void 0:Ts[0])==null?void 0:Is.suffix)==null?void 0:Rs.join(" ")});ss({newWorkSchoolNote:Es},{onSuccess:As=>{const ks=As==null?void 0:As.workSchoolNotes;ks&&ps({workSchoolNotes:[...(ds==null?void 0:ds.workSchoolNotes)||[],...ks]})}}),ns()};return jsxRuntimeExports.jsx(GenerateExcuseDialogContainer,{open:rs,onSubmit:ms(bs),onClose:ns,label:ls?"School Excuse":"Work excuse",children:jsxRuntimeExports.jsx(FormProvider,{...hs,children:jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",flexDirection:"column",gap:2},children:[as.includes("parentName")&&jsxRuntimeExports.jsx(ControlledExcuseTextField,{name:"parentName",label:"Parent/Guardian name",fullWidth:!0,required:!0}),as.includes("headerNote")&&jsxRuntimeExports.jsx(ControlledExcuseTextField,{name:"headerNote",label:"Note",fullWidth:!0,multiline:!0,required:!0}),cs&&jsxRuntimeExports.jsxs(FormControl$1,{children:[jsxRuntimeExports.jsx(FormLabel$1,{children:jsxRuntimeExports.jsx(Typography$1,{variant:"subtitle2",children:"Select whatever applies"})}),jsxRuntimeExports.jsxs(FormGroup$1,{children:[as.includes("workFields")&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(ControlledExcuseCheckbox,{name:"wereWithThePatientAtTheTimeOfTheVisit",label:mapExcuseFieldsToLabels.wereWithThePatientAtTheTimeOfTheVisit}),jsxRuntimeExports.jsx(ControlledExcuseCheckbox,{name:"areNeededAtHomeToCareForChildDuringThisIllness",label:mapExcuseFieldsToLabels.areNeededAtHomeToCareForChildDuringThisIllness})]}),as.includes("schoolFields")&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex"},children:[jsxRuntimeExports.jsx(ControlledExcuseCheckbox,{name:"excusedFromSchoolFromTo",label:mapExcuseFieldsToLabels.excusedFromSchoolFromTo}),jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",gap:2},children:[jsxRuntimeExports.jsx(ControlledExcuseDatePicker,{name:"excusedFromSchoolFromDate",validate:$s=>{if(gs("excusedFromSchoolFromTo")&&!$s)return"Field is required"}}),jsxRuntimeExports.jsx(ControlledExcuseDatePicker,{name:"excusedFromSchoolToDate",validate:$s=>{if(gs("excusedFromSchoolFromTo")&&!$s)return"Field is required"}})]})]}),jsxRuntimeExports.jsxs(Box$1,{children:[jsxRuntimeExports.jsx(ControlledExcuseCheckbox,{name:"excusedFromSchoolOn",label:mapExcuseFieldsToLabels.excusedFromSchoolOn}),jsxRuntimeExports.jsx(ControlledExcuseDatePicker,{name:"excusedFromSchoolOnDate",validate:$s=>{if(gs("excusedFromSchoolOn")&&!$s)return"Field is required"}})]}),jsxRuntimeExports.jsx(ControlledExcuseCheckbox,{name:"excusedFromSchoolUntilFeverFreeFor24Hours",label:mapExcuseFieldsToLabels.excusedFromSchoolUntilFeverFreeFor24Hours}),jsxRuntimeExports.jsx(ControlledExcuseCheckbox,{name:"excusedFromSchoolUntilOnAntibioticsFor24Hours",label:mapExcuseFieldsToLabels.excusedFromSchoolUntilOnAntibioticsFor24Hours}),jsxRuntimeExports.jsx(ControlledExcuseCheckbox,{name:"ableToReturnToSchoolWithoutRestriction",label:mapExcuseFieldsToLabels.ableToReturnToSchoolWithoutRestriction}),jsxRuntimeExports.jsx(ControlledExcuseCheckbox,{name:"ableToReturnToGymActivitiesWithoutRestriction",label:mapExcuseFieldsToLabels.ableToReturnToGymActivitiesWithoutRestriction}),jsxRuntimeExports.jsx(ControlledExcuseCheckbox,{name:"ableToReturnToSchoolWhenThereNoLongerIsAnyEyeDischarge",label:mapExcuseFieldsToLabels.ableToReturnToSchoolWhenThereNoLongerIsAnyEyeDischarge}),jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex"},children:[jsxRuntimeExports.jsx(ControlledExcuseCheckbox,{name:"excusedFromGymActivitiesFromTo",label:mapExcuseFieldsToLabels.excusedFromGymActivitiesFromTo}),jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",gap:2},children:[jsxRuntimeExports.jsx(ControlledExcuseDatePicker,{name:"excusedFromGymActivitiesFromDate",validate:$s=>{if(gs("excusedFromGymActivitiesFromTo")&&!$s)return"Field is required"}}),jsxRuntimeExports.jsx(ControlledExcuseDatePicker,{name:"excusedFromGymActivitiesToDate",validate:$s=>{if(gs("excusedFromGymActivitiesFromTo")&&!$s)return"Field is required"}})]})]}),jsxRuntimeExports.jsx(ControlledExcuseCheckbox,{name:"ableToReturnToSchoolWithTheFollowingRestrictions",label:mapExcuseFieldsToLabels.ableToReturnToSchoolWithTheFollowingRestrictions}),jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",flexDirection:"column",ml:5},children:[jsxRuntimeExports.jsx(ControlledExcuseCheckbox,{name:"dominantHandIsInjuredPleaseAllowAccommodations",label:mapExcuseFieldsToLabels.dominantHandIsInjuredPleaseAllowAccommodations,onChange:$s=>$s&&vs("ableToReturnToSchoolWithTheFollowingRestrictions",!0)}),jsxRuntimeExports.jsx(ControlledExcuseCheckbox,{name:"needsExtraTimeBetweenClassesAssistantOrBookBuddy",label:mapExcuseFieldsToLabels.needsExtraTimeBetweenClassesAssistantOrBookBuddy,onChange:$s=>$s&&vs("ableToReturnToSchoolWithTheFollowingRestrictions",!0)}),jsxRuntimeExports.jsxs(Box$1,{children:[jsxRuntimeExports.jsx(ControlledExcuseCheckbox,{name:"otherRestrictions",label:mapExcuseFieldsToLabels.otherRestrictions,onChange:$s=>$s&&vs("ableToReturnToSchoolWithTheFollowingRestrictions",!0)}),jsxRuntimeExports.jsx(ControlledExcuseTextField,{name:"otherRestrictionsNote",placeholder:"Please specify",validate:$s=>{if(gs("otherRestrictions")&&!$s)return"Field is required"}})]})]}),jsxRuntimeExports.jsx(ControlledExcuseCheckbox,{name:"allowedUseOfCrutchesAceWrapSplintAndElevatorAsNecessary",label:mapExcuseFieldsToLabels.allowedUseOfCrutchesAceWrapSplintAndElevatorAsNecessary}),jsxRuntimeExports.jsx(ControlledExcuseCheckbox,{name:"allowedUseOfElevatorAsNecessary",label:mapExcuseFieldsToLabels.allowedUseOfElevatorAsNecessary}),jsxRuntimeExports.jsx(ControlledExcuseCheckbox,{name:"unableToParticipateInGymActivitiesUntilClearedByAPhysician",label:mapExcuseFieldsToLabels.unableToParticipateInGymActivitiesUntilClearedByAPhysician})]}),(as.includes("workFields")||as.includes("schoolFields"))&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex"},children:[jsxRuntimeExports.jsx(ControlledExcuseCheckbox,{name:"excusedFromWorkFromTo",label:mapExcuseFieldsToLabels.excusedFromWorkFromTo}),jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",gap:2},children:[jsxRuntimeExports.jsx(ControlledExcuseDatePicker,{name:"excusedFromWorkFromDate",validate:$s=>{if(gs("excusedFromWorkFromTo")&&!$s)return"Field is required"}}),jsxRuntimeExports.jsx(ControlledExcuseDatePicker,{name:"excusedFromWorkToDate",validate:$s=>{if(gs("excusedFromWorkFromTo")&&!$s)return"Field is required"}})]})]}),jsxRuntimeExports.jsxs(Box$1,{children:[jsxRuntimeExports.jsx(ControlledExcuseCheckbox,{name:"excusedFromWorkOn",label:mapExcuseFieldsToLabels.excusedFromWorkOn}),jsxRuntimeExports.jsx(ControlledExcuseDatePicker,{name:"excusedFromWorkOnDate",validate:$s=>{if(gs("excusedFromWorkOn")&&!$s)return"Field is required"}})]})]}),as.includes("schoolFields")&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(Box$1,{children:[jsxRuntimeExports.jsx(ControlledExcuseCheckbox,{name:"ableToReturnToWorkWithTheFollowingRestrictions",label:mapExcuseFieldsToLabels.ableToReturnToWorkWithTheFollowingRestrictions}),jsxRuntimeExports.jsx(ControlledExcuseTextField,{name:"ableToReturnToWorkWithTheFollowingRestrictionsNote",placeholder:"Please specify",validate:$s=>{if(gs("ableToReturnToWorkWithTheFollowingRestrictions")&&!$s)return"Field is required"}})]}),jsxRuntimeExports.jsxs(Box$1,{children:[jsxRuntimeExports.jsx(ControlledExcuseCheckbox,{name:"other",label:mapExcuseFieldsToLabels.other}),jsxRuntimeExports.jsx(ControlledExcuseTextField,{name:"otherNote",placeholder:"Please specify",validate:$s=>{if(gs("other")&&!$s)return"Field is required"}})]})]})]})]}),as.includes("footerNote")&&jsxRuntimeExports.jsx(ControlledExcuseTextField,{name:"footerNote",label:"Note",fullWidth:!0,multiline:!0,required:!0})]})})})},PatientInstructionsCard=()=>{const[ts,rs]=reactExports.useState(!1),[ns,os]=reactExports.useState(!1),[ss,as]=reactExports.useState(!1),[ls,cs]=reactExports.useState(""),{mutate:us,isLoading:ds}=useSavePatientInstruction(),{mutate:ps,isLoading:fs}=useSaveChartData(),{mutate:hs}=useDeleteChartData(),ms=ds||fs,{chartData:gs,setPartialChartData:vs,isReadOnly:bs}=getSelectors(useAppointmentStore,["chartData","setPartialChartData","isReadOnly"]),xs=(gs==null?void 0:gs.instructions)||[],ys=()=>{us({text:ls}),Ss()},Ss=()=>{const $s=[...xs,{text:ls}];vs({instructions:$s}),ps({instructions:[{text:ls}]},{onSuccess:Es=>{const ws=((Es==null?void 0:Es.instructions)||[])[0];ws&&vs({instructions:$s.map(Ts=>Ts.resourceId?Ts:ws)})}}),cs("")},Cs=$s=>{vs({instructions:xs.filter(Es=>Es.resourceId!==$s.resourceId)}),hs({instructions:[$s]})};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(AccordionCard,{label:"Patient instructions",collapsed:ts,onSwitch:()=>rs($s=>!$s),children:jsxRuntimeExports.jsxs(Box$1,{sx:{p:2,display:"flex",flexDirection:"column",gap:2},children:[!bs&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",gap:2,alignItems:"flex-start"},children:[jsxRuntimeExports.jsx(TextField$1,{value:ls,onChange:$s=>cs($s.target.value),size:"small",label:"Instruction",placeholder:"Enter a new instruction of select from own saved or Ottehr template",multiline:!0,fullWidth:!0}),jsxRuntimeExports.jsx(RoundedButton,{onClick:Ss,disabled:!ls.trim()||ms,startIcon:jsxRuntimeExports.jsx(default_1$w,{}),children:"Add"}),jsxRuntimeExports.jsx(RoundedButton,{onClick:ys,disabled:!ls.trim()||ms,startIcon:jsxRuntimeExports.jsx(default_1$6,{}),children:"Add & Save"})]}),jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",gap:2,alignItems:"center"},children:[jsxRuntimeExports.jsx(RoundedButton,{onClick:()=>os(!0),children:"My templates"}),jsxRuntimeExports.jsx(RoundedButton,{onClick:()=>as(!0),children:"Ottehr templates"})]})]}),xs.length>0&&jsxRuntimeExports.jsx(ActionsList,{data:xs,getKey:($s,Es)=>$s.resourceId||Es,renderItem:$s=>jsxRuntimeExports.jsx(Typography$1,{children:$s.text}),renderActions:bs?void 0:$s=>jsxRuntimeExports.jsx(DeleteIconButton,{disabled:!$s.resourceId,onClick:()=>Cs($s)}),divider:!0,gap:1}),xs.length===0&&bs&&jsxRuntimeExports.jsx(Typography$1,{color:"secondary.light",children:"No patient instructions provided"})]})}),ns&&jsxRuntimeExports.jsx(PatientInstructionsTemplatesDialog,{open:ns,onClose:()=>os(!1),type:"provider",onSelect:$s=>cs($s.text)}),ss&&jsxRuntimeExports.jsx(PatientInstructionsTemplatesDialog,{open:ss,onClose:()=>as(!1),type:"organization",onSelect:$s=>cs($s.text)})]})},HealthwiseDocumentsCard=()=>{const[ts,rs]=reactExports.useState(!1),{isReadOnly:ns}=getSelectors(useAppointmentStore,["isReadOnly"]);return jsxRuntimeExports.jsx(AccordionCard,{label:"Healthwise education documents",collapsed:ts,onSwitch:()=>rs(os=>!os),children:jsxRuntimeExports.jsx(Box$1,{sx:{p:2,display:"flex",flexDirection:"column",gap:2,alignItems:"start"},children:jsxRuntimeExports.jsx(RoundedButton,{disabled:ns,children:"Find Healthwise education documents"})})})},DispositionCard=()=>{const{chartData:ts,setPartialChartData:rs,isReadOnly:ns}=getSelectors(useAppointmentStore,["chartData","setPartialChartData","isReadOnly"]),os=useForm({defaultValues:ts!=null&&ts.disposition?mapDispositionToForm(ts.disposition):DEFAULT_DISPOSITION_VALUES}),{debounce:ss}=useDebounce(1500),{mutate:as,isLoading:ls}=useSaveChartData(),{control:cs,handleSubmit:us,watch:ds,getValues:ps,setValue:fs}=os,[hs,ms]=reactExports.useState(ps("type")),gs=reactExports.useCallback(bs=>{ss(()=>{as({disposition:mapFormToDisposition(bs)},{onSuccess:xs=>{const ys=xs==null?void 0:xs.disposition;ys&&rs({disposition:ys})}})})},[ss,as,rs]);reactExports.useEffect(()=>{const bs=ds(()=>us(gs)());return()=>bs.unsubscribe()},[us,gs,ds]);const vs=dispositionFieldsPerType[hs];return jsxRuntimeExports.jsx(AccordionCard,{label:"Disposition",headerItem:ls?jsxRuntimeExports.jsx(CircularProgress$1,{size:"20px"}):void 0,children:jsxRuntimeExports.jsx(FormProvider,{...os,children:jsxRuntimeExports.jsxs(Box$1,{sx:{p:2,display:"flex",flexDirection:"column",gap:2},children:[jsxRuntimeExports.jsx(Controller,{name:"type",control:cs,render:({field:{value:bs,onChange:xs}})=>jsxRuntimeExports.jsxs(ToggleButtonGroup$1,{size:"small",fullWidth:!0,exclusive:!0,disabled:ns,value:bs,onChange:(ys,Ss)=>{Ss&&(ms(Ss),xs(Ss))},children:[jsxRuntimeExports.jsx(ContainedPrimaryToggleButton,{value:"pcp",children:mapDispositionTypeToLabel.pcp}),jsxRuntimeExports.jsx(ContainedPrimaryToggleButton,{value:"uc",children:mapDispositionTypeToLabel.uc}),jsxRuntimeExports.jsx(ContainedPrimaryToggleButton,{value:"uc-lab",children:mapDispositionTypeToLabel["uc-lab"]}),jsxRuntimeExports.jsx(ContainedPrimaryToggleButton,{value:"ed",children:mapDispositionTypeToLabel.ed}),jsxRuntimeExports.jsx(ContainedPrimaryToggleButton,{value:"uc-oth",children:mapDispositionTypeToLabel["uc-oth"]})]})}),vs.includes("labService")&&jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",gap:2},children:[jsxRuntimeExports.jsx(Controller,{name:"labService",control:cs,render:({field:{onChange:bs,value:xs}})=>jsxRuntimeExports.jsx(Autocomplete$1,{fullWidth:!0,disabled:ns,options:labServiceOptions.map(ys=>ys.label),renderInput:ys=>jsxRuntimeExports.jsx(TextField$1,{...ys,size:"small",label:"Lab service",placeholder:"Type or select"}),onChange:(ys,Ss)=>{bs(Ss);const Cs=labServiceOptions.find($s=>$s.label===Ss);Cs!=null&&Cs.note&&fs("note",Cs.note)},value:xs})}),jsxRuntimeExports.jsx(Controller,{name:"virusTest",control:cs,render:({field:{onChange:bs,value:xs}})=>jsxRuntimeExports.jsx(Autocomplete$1,{fullWidth:!0,disabled:ns,options:virusTestsOptions,renderInput:ys=>jsxRuntimeExports.jsx(TextField$1,{...ys,size:"small",label:"Virus tests",placeholder:"Type or select"}),onChange:(ys,Ss)=>bs(Ss),value:xs})})]}),vs.includes("followUpIn")&&jsxRuntimeExports.jsx(Controller,{name:"followUpIn",control:cs,render:({field:{onChange:bs,value:xs}})=>jsxRuntimeExports.jsxs(TextField$1,{select:!0,disabled:ns,label:"Follow up visit in",size:"small",sx:{minWidth:"200px",width:"fit-content"},value:xs,onChange:bs,children:[jsxRuntimeExports.jsx(MenuItem$1,{value:"",children:jsxRuntimeExports.jsx("em",{children:"None"})}),followUpInOptions.map(ys=>jsxRuntimeExports.jsx(MenuItem$1,{value:ys.value,children:ys.label},ys.value))]})}),ns?ps("note")?jsxRuntimeExports.jsx(Typography$1,{children:ps("note")}):jsxRuntimeExports.jsx(Typography$1,{color:"secondary.light",children:"Note not provided"}):jsxRuntimeExports.jsx(Controller,{name:"note",control:cs,render:({field:{value:bs,onChange:xs}})=>jsxRuntimeExports.jsx(TextField$1,{label:"Note",multiline:!0,fullWidth:!0,size:"small",value:bs,onChange:xs})}),vs.includes("bookVisit")&&jsxRuntimeExports.jsx(RoundedButton,{disabled:ns,to:"/visits/add",target:"_blank",variant:"contained",children:"Book a visit"}),vs.includes("followUpType")&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Divider$1,{}),jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",flexDirection:"column",gap:1},children:[jsxRuntimeExports.jsx(UppercaseCaptionTypography,{children:"Subspeciality Follow Up (optional)"}),jsxRuntimeExports.jsx(Box$1,{sx:{display:"flex",gap:3},children:dispositionCheckboxOptions.map(bs=>jsxRuntimeExports.jsxs(React$2.Fragment,{children:[jsxRuntimeExports.jsx(FormControlLabel$1,{control:jsxRuntimeExports.jsx(Controller,{name:bs.name,control:cs,render:({field:xs})=>jsxRuntimeExports.jsx(Checkbox$1,{...xs,disabled:ns,checked:xs.value,onChange:ys=>{const Ss=ys.target.checked;xs.onChange(Ss),bs.name==="other"&&!Ss&&fs("otherNote","")}})}),label:bs.label}),bs.name==="other"&&jsxRuntimeExports.jsx(Controller,{name:"otherNote",control:cs,render:({field:{value:xs,onChange:ys}})=>jsxRuntimeExports.jsx(TextField$1,{disabled:ns,label:"Please specify",size:"small",value:xs,onChange:ys})})]},bs.name))})]})]})]})})})},WorkSchoolExcuseCard=()=>{const[ts,rs]=reactExports.useState(!1),[ns,os]=reactExports.useState(!1),[ss,as]=reactExports.useState(!1),[ls,cs]=reactExports.useState(!1),[us,ds]=reactExports.useState(!1),{mutate:ps,isLoading:fs}=useSaveChartData(),{mutate:hs,isLoading:ms}=useDeleteChartData(),gs=fs||ms,{chartData:vs,setPartialChartData:bs,isReadOnly:xs}=getSelectors(useAppointmentStore,["chartData","setPartialChartData","isReadOnly"]),ys=useExcusePresignedFiles(vs==null?void 0:vs.workSchoolNotes),Ss=ys.find(ws=>ws.type==="work"),Cs=ys.find(ws=>ws.type==="school"),$s=ws=>{const Ts=(vs==null?void 0:vs.workSchoolNotes)||[],Is=Ts.find(Rs=>Rs.id===ws);hs({workSchoolNotes:[Is]}),bs({workSchoolNotes:Ts.filter(Rs=>Rs.id!==ws)})},Es=ws=>{const Ts=(vs==null?void 0:vs.workSchoolNotes)||[],Is=Ts.find(Rs=>Rs.id===ws);ps({workSchoolNotes:[{id:Is.id,published:!0}]},{onSuccess:()=>{bs({workSchoolNotes:Ts.map(Rs=>Rs.id===ws?{...Rs,published:!0}:Rs)})}})};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(AccordionCard,{label:"Work / School Excuse",collapsed:ts,onSwitch:()=>rs(ws=>!ws),children:[jsxRuntimeExports.jsxs(Box$1,{sx:{p:2,display:"flex",flexDirection:"column",gap:2},children:[jsxRuntimeExports.jsxs(Box$1,{children:[jsxRuntimeExports.jsx(Typography$1,{display:"inline",children:"Patient requested excuse from:"}),"Â ",jsxRuntimeExports.jsx(Typography$1,{display:"inline",fontWeight:700,children:"Work & School"})]}),jsxRuntimeExports.jsx(Typography$1,{children:"Attached templates:"}),jsxRuntimeExports.jsxs(Grid$1,{container:!0,columnSpacing:3,sx:{position:"relative"},children:[jsxRuntimeExports.jsx(Grid$1,{item:!0,xs:6,children:jsxRuntimeExports.jsx(ExcuseLink,{label:"Work excuse note - Pixel Inc.pdf",to:"#"})}),jsxRuntimeExports.jsx(Grid$1,{item:!0,xs:6,children:jsxRuntimeExports.jsx(ExcuseLink,{label:"Pasadena Elementary School - excuse note.docx",to:"#"})})]})]}),jsxRuntimeExports.jsx(Divider$1,{}),jsxRuntimeExports.jsx(DoubleColumnContainer,{leftColumn:jsxRuntimeExports.jsx(ExcuseCard,{label:"Work excuse",excuse:Ss,onDelete:$s,onPublish:Es,isLoading:gs,generateTemplateOpen:os,generateFreeOpen:as,disabled:xs}),rightColumn:jsxRuntimeExports.jsx(ExcuseCard,{label:"School excuse",excuse:Cs,onDelete:$s,onPublish:Es,isLoading:gs||xs,generateTemplateOpen:cs,generateFreeOpen:ds,disabled:xs}),divider:!0,padding:!0})]}),ns&&jsxRuntimeExports.jsx(GenerateExcuseDialog,{type:"workTemplate",open:ns,onClose:()=>os(!1),generate:ps}),ss&&jsxRuntimeExports.jsx(GenerateExcuseDialog,{type:"workFree",open:ss,onClose:()=>as(!1),generate:ps}),ls&&jsxRuntimeExports.jsx(GenerateExcuseDialog,{type:"schoolTemplate",open:ls,onClose:()=>cs(!1),generate:ps}),us&&jsxRuntimeExports.jsx(GenerateExcuseDialog,{type:"schoolFree",open:us,onClose:()=>ds(!1),generate:ps})]})},PlanTab=()=>{const{isChartDataLoading:ts}=getSelectors(useAppointmentStore,["isChartDataLoading"]);return ts?jsxRuntimeExports.jsx(Box$1,{sx:{display:"flex",justifyContent:"center"},children:jsxRuntimeExports.jsx(CircularProgress$1,{})}):jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",flexDirection:"column",gap:1},children:[jsxRuntimeExports.jsx(PatientInstructionsCard,{}),jsxRuntimeExports.jsx(HealthwiseDocumentsCard,{}),jsxRuntimeExports.jsx(DispositionCard,{}),jsxRuntimeExports.jsx(WorkSchoolExcuseCard,{})]})},AppointmentTabs=()=>{const ts=useZapEHRAPIClient(),{currentTab:rs,encounter:ns,chartData:os,isReadOnly:ss}=getSelectors(useAppointmentStore,["currentTab","encounter","chartData","isReadOnly"]),{update:as,isLoading:ls}=useExamObservations(),{isFetching:cs}=useGetChartData({apiClient:ts,encounterId:ns.id},us=>{useAppointmentStore.setState({chartData:us}),as(EXAM_OBSERVATIONS_FIELDS,us.examObservations&&us.examObservations.length>0||ss),as(us.examObservations,!0)});return reactExports.useEffect(()=>{useAppointmentStore.setState({isChartDataLoading:cs||!os})},[os,cs]),reactExports.useEffect(()=>{useAppointmentStore.setState({isExamObservationsLoading:cs||!os||ls})},[os,cs,ls]),jsxRuntimeExports.jsxs(TabContext,{value:rs,children:[jsxRuntimeExports.jsx(TabPanel$2,{value:"hpi",sx:{p:0},children:jsxRuntimeExports.jsx(MedicalHistoryTab,{})}),jsxRuntimeExports.jsx(TabPanel$2,{value:"exam",sx:{p:0},children:jsxRuntimeExports.jsx(ExamTab,{})}),jsxRuntimeExports.jsx(TabPanel$2,{value:"erx",sx:{p:0},children:jsxRuntimeExports.jsx(AssessmentTab,{})}),jsxRuntimeExports.jsx(TabPanel$2,{value:"plan",sx:{p:0},children:jsxRuntimeExports.jsx(PlanTab,{})}),jsxRuntimeExports.jsx(TabPanel$2,{value:"sign",sx:{p:0},children:jsxRuntimeExports.jsx(ReviewTab,{})})]})};var DateRangeOutlined={},_interopRequireDefault$5=interopRequireDefaultExports;Object.defineProperty(DateRangeOutlined,"__esModule",{value:!0});var default_1$4=DateRangeOutlined.default=void 0,_createSvgIcon$4=_interopRequireDefault$5(requireCreateSvgIcon()),_jsxRuntime$4=jsxRuntimeExports;default_1$4=DateRangeOutlined.default=(0,_createSvgIcon$4.default)((0,_jsxRuntime$4.jsx)("path",{d:"M7 11h2v2H7zm14-5v14c0 1.1-.9 2-2 2H5c-1.11 0-2-.9-2-2l.01-14c0-1.1.88-2 1.99-2h1V2h2v2h8V2h2v2h1c1.1 0 2 .9 2 2M5 8h14V6H5zm14 12V10H5v10zm-4-7h2v-2h-2zm-4 0h2v-2h-2z"}),"DateRangeOutlined");var DisabledByDefaultOutlined={},_interopRequireDefault$4=interopRequireDefaultExports;Object.defineProperty(DisabledByDefaultOutlined,"__esModule",{value:!0});var default_1$3=DisabledByDefaultOutlined.default=void 0,_createSvgIcon$3=_interopRequireDefault$4(requireCreateSvgIcon()),_jsxRuntime$3=jsxRuntimeExports;default_1$3=DisabledByDefaultOutlined.default=(0,_createSvgIcon$3.default)((0,_jsxRuntime$3.jsx)("path",{d:"M19 19H5V5h14zM3 3v18h18V3zm14 12.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12z"}),"DisabledByDefaultOutlined");var MedicationOutlined={},_interopRequireDefault$3=interopRequireDefaultExports;Object.defineProperty(MedicationOutlined,"__esModule",{value:!0});var default_1$2=MedicationOutlined.default=void 0,_createSvgIcon$2=_interopRequireDefault$3(requireCreateSvgIcon()),_jsxRuntime$2=jsxRuntimeExports;default_1$2=MedicationOutlined.default=(0,_createSvgIcon$2.default)((0,_jsxRuntime$2.jsx)("path",{d:"M10.5 15H8v-3h2.5V9.5h3V12H16v3h-2.5v2.5h-3zM19 8v11c0 1.1-.9 2-2 2H7c-1.1 0-2-.9-2-2V8c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2m-2 0H7v11h10zm1-5H6v2h12z"}),"MedicationOutlined");const CancelVisitDialog=({onClose:ts})=>{const[rs,ns]=reactExports.useState(""),[os,ss]=reactExports.useState(!1),[as,ls]=reactExports.useState(""),[cs,us]=reactExports.useState(!1),{zambdaIntakeClient:ds}=useApiClients(),{id:ps}=useParams(),fs=useNavigate(),hs=["Patient did not answer after multiple attempts","Wrong patient name on chart","Technical issues connecting and/ or with video","Other"],ms=xs=>{ns(xs.target.value),xs.target.value!=="Other"&&ls("")},gs=xs=>{ls(xs.target.value)},vs=async xs=>{if(xs.preventDefault(),ss(!1),!(!rs||rs==="Other"&&!as)){if(us(!0),!ds)throw new Error("Zambda client not found");try{const ys=await cancelTelemedAppointment(ds,{appointmentID:ps||"",cancellationReason:rs,cancellationReasonAdditional:as});console.log("Appointment cancelled successfully",ys)}catch(ys){ss(!0),console.error("Failed to cancel appointment",ys)}finally{us(!1),fs("/telemed/appointments"),ts()}}},bs={fontWeight:"700",textTransform:"none",borderRadius:6,mb:2,ml:1};return jsxRuntimeExports.jsx(Dialog$1,{open:!0,onClose:ts,fullWidth:!0,disableScrollLock:!0,sx:{".MuiPaper-root":{padding:1,width:"444px",maxWidth:"initial"}},children:jsxRuntimeExports.jsxs("form",{onSubmit:xs=>vs(xs),children:[jsxRuntimeExports.jsx(DialogTitle$1,{variant:"h4",color:"primary.dark",sx:{width:"100%"},children:"Cancellation reason"}),jsxRuntimeExports.jsxs(DialogContent$1,{children:[jsxRuntimeExports.jsxs(FormControl$1,{fullWidth:!0,required:!0,sx:{mt:2},children:[jsxRuntimeExports.jsx(InputLabel$1,{id:"cancellation-reason-label",children:"Cancellation Reason"}),jsxRuntimeExports.jsx(Select$2,{labelId:"cancellation-reason-label",id:"cancellation-reason",value:rs,label:"Cancellation Reason",onChange:ms,children:hs.map(xs=>jsxRuntimeExports.jsx(MenuItem$1,{value:xs,children:xs},xs))})]}),rs==="Other"&&jsxRuntimeExports.jsx(FormControl$1,{fullWidth:!0,required:!0,children:jsxRuntimeExports.jsx(TextField$1,{id:"other-reason",label:"Reason",variant:"outlined",fullWidth:!0,required:!0,margin:"normal",value:as,onChange:gs})})]}),jsxRuntimeExports.jsxs(DialogActions$1,{sx:{justifyContent:"flex-start",marginLeft:1},children:[jsxRuntimeExports.jsx(LoadingButton$1,{loading:cs,type:"submit",variant:"contained",color:"primary",size:"medium",sx:bs,children:"Cancel visit"}),jsxRuntimeExports.jsx(Button$2,{onClick:ts,variant:"text",color:"primary",size:"medium",sx:bs,children:"Keep"})]}),os&&jsxRuntimeExports.jsx(Typography$1,{color:"error",variant:"body2",my:1,mx:2,children:"There was an error cancelling this appointment, please try again."})]})})},ERXDialog=({onClose:ts,patientPhotonId:rs})=>jsxRuntimeExports.jsx(Dialog$1,{open:!0,onClose:ts,fullWidth:!0,disablePortal:!0,disableScrollLock:!0,sx:{".MuiPaper-root":{maxWidth:"500px"}},children:jsxRuntimeExports.jsx("photon-prescribe-workflow",{"patient-id":rs,"enable-order":"true"})});var EditOutlined={},_interopRequireDefault$2=interopRequireDefaultExports;Object.defineProperty(EditOutlined,"__esModule",{value:!0});var default_1$1=EditOutlined.default=void 0,_createSvgIcon$1=_interopRequireDefault$2(requireCreateSvgIcon()),_jsxRuntime$1=jsxRuntimeExports;default_1$1=EditOutlined.default=(0,_createSvgIcon$1.default)((0,_jsxRuntime$1.jsx)("path",{d:"m14.06 9.02.92.92L5.92 19H5v-.92zM17.66 3c-.25 0-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29m-3.6 3.19L3 17.25V21h3.75L17.81 9.94z"}),"EditOutlined");var CloseOutlined={},_interopRequireDefault$1=interopRequireDefaultExports;Object.defineProperty(CloseOutlined,"__esModule",{value:!0});var default_1=CloseOutlined.default=void 0,_createSvgIcon=_interopRequireDefault$1(requireCreateSvgIcon()),_jsxRuntime=jsxRuntimeExports;default_1=CloseOutlined.default=(0,_createSvgIcon.default)((0,_jsxRuntime.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"CloseOutlined");const EditPatientDialog=({modalOpen:ts,onClose:rs})=>{const{register:ns,handleSubmit:os,formState:ss,control:as,setError:ls,resetField:cs,setValue:us,getValues:ds}=useForm(),[ps,fs]=reactExports.useState(!1),{patient:hs}=getSelectors(useAppointmentStore,["patient"]);reactExports.useEffect(()=>{var vs,bs,xs,ys,Ss,Cs,$s,Es;us("dateOfBirth",hs!=null&&hs.birthDate?DateTime.fromISO(hs==null?void 0:hs.birthDate):null),us("firstName",(xs=(bs=(vs=hs==null?void 0:hs.name)==null?void 0:vs[0])==null?void 0:bs.given)==null?void 0:xs[0]),us("middleName",(Cs=(Ss=(ys=hs==null?void 0:hs.name)==null?void 0:ys[0])==null?void 0:Ss.given)==null?void 0:Cs[1]),us("lastName",(Es=($s=hs==null?void 0:hs.name)==null?void 0:$s[0])==null?void 0:Es.family)},[hs,us]);const ms=useEditPatientInformationMutation(),gs=async vs=>{var bs;try{if(!(hs!=null&&hs.id))throw new Error("Patient reference not provided");const xs={...hs,resourceType:"Patient",id:hs.id,name:[{use:"official",family:vs.lastName,given:[vs.firstName]}],birthDate:vs.dateOfBirth.toISODate()};vs.middleName&&((bs=xs.name[0].given)==null||bs.push(vs.middleName)),await ms.mutateAsync({patientData:xs},{onSuccess:()=>{useAppointmentStore.setState({patient:{...xs}}),rs()}})}catch(xs){fs(!0),console.error("Error while editing patient information: ",xs)}};return jsxRuntimeExports.jsx(Dialog$1,{open:ts,onClose:rs,fullWidth:!0,disableScrollLock:!0,sx:{".MuiPaper-root":{padding:1,width:"444px",maxWidth:"initial"}},children:jsxRuntimeExports.jsxs("form",{onSubmit:os(gs),children:[jsxRuntimeExports.jsxs(DialogTitle$1,{variant:"h4",color:"primary.dark",sx:{width:"100%",py:1,display:"flex",justifyContent:"space-between",alignItems:"center",mt:1},children:["Edit Patient Information",jsxRuntimeExports.jsx(IconButton$2,{onClick:rs,"aria-label":"close",sx:{mr:-3,mt:-3},children:jsxRuntimeExports.jsx(default_1,{})})]}),jsxRuntimeExports.jsxs(DialogContent$1,{children:[jsxRuntimeExports.jsx(FormControl$1,{fullWidth:!0,required:!0,sx:{mt:1},children:jsxRuntimeExports.jsx(TextField$1,{...ns("firstName",{required:!0}),id:"first-name",label:"First Name",variant:"outlined",fullWidth:!0,error:!!ss.errors.firstName,required:!0})}),jsxRuntimeExports.jsx(FormControl$1,{fullWidth:!0,sx:{mt:2},children:jsxRuntimeExports.jsx(TextField$1,{...ns("middleName"),id:"middle-name",label:"Middle Name",variant:"outlined",fullWidth:!0,error:!!ss.errors.middleName})}),jsxRuntimeExports.jsx(FormControl$1,{fullWidth:!0,required:!0,sx:{mt:2},children:jsxRuntimeExports.jsx(TextField$1,{...ns("lastName",{required:!0}),id:"last-name",label:"Last Name",variant:"outlined",fullWidth:!0,error:!!ss.errors.lastName,required:!0})}),jsxRuntimeExports.jsx(FormControl$1,{fullWidth:!0,required:!0,sx:{mt:2},children:jsxRuntimeExports.jsx(Controller,{name:"dateOfBirth",control:as,render:({field:{value:vs}})=>jsxRuntimeExports.jsx(DateSearch,{date:vs||null,setDate:bs=>us("dateOfBirth",bs),setIsValidDate:bs=>{if(bs){const xs=ds("dateOfBirth");cs("dateOfBirth"),us("dateOfBirth",xs)}else ls("dateOfBirth",{message:"Date of birth is not valid"})},defaultValue:null,label:"Date of birth",required:!0})})})]}),jsxRuntimeExports.jsx(DialogActions$1,{sx:{justifyContent:"flex-start",marginLeft:1},children:jsxRuntimeExports.jsx(LoadingButton$1,{loading:ms.isLoading,type:"submit",variant:"contained",color:"primary",size:"medium",sx:{fontWeight:"700",textTransform:"none",borderRadius:6,ml:1,mb:1,px:4},disabled:!ss.isValid,children:"Save"})}),ps&&jsxRuntimeExports.jsx(Typography$1,{color:"error",variant:"body2",my:1,mx:2,children:"There was an error editing this patient, please try again."})]})})};var Gender=(ts=>(ts.male="Male",ts.female="Female",ts.other="Other",ts.unknown="Unknown",ts))(Gender||{});const AppointmentHeader=()=>{var vs,bs,xs,ys,Ss;const ts=useTheme$1(),[rs,ns]=reactExports.useState(!1),[os,ss]=reactExports.useState(!1),[as,ls]=reactExports.useState(!1),{appointment:cs,encounter:us,patient:ds,location:ps,isReadOnly:fs,questionnaireResponse:hs}=getSelectors(useAppointmentStore,["appointment","patient","encounter","location","isReadOnly","questionnaireResponse"]),ms=(bs=(vs=ds==null?void 0:ds.identifier)==null?void 0:vs.find(Cs=>Cs.system===PHOTON_PATIENT_IDENTIFIER_SYSTEM))==null?void 0:bs.value,gs=(ys=(xs=getQuestionnaireResponseByLinkId("reason-for-visit",hs))==null?void 0:xs.answer)==null?void 0:ys[0].valueString;return jsxRuntimeExports.jsx(AppBar$1,{position:"sticky",color:"transparent",sx:{backgroundColor:ts.palette.background.paper},children:jsxRuntimeExports.jsxs(Container$1,{maxWidth:"xl",sx:{display:"flex",flexDirection:"column",mt:2,gap:1},children:[jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",flexDirection:"column",gap:.5},children:[jsxRuntimeExports.jsx(CustomBreadcrumbs,{chain:[{link:"/telemed/appointments",children:"Tracking Board"},{link:"#",children:(cs==null?void 0:cs.id)||jsxRuntimeExports.jsx(Skeleton$1,{width:150})}]}),ds?jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",gap:2,alignItems:"center"},children:[jsxRuntimeExports.jsxs(Typography$1,{variant:"h4",color:"primary.dark",children:[getPatientName(ds.name).lastFirstName,!fs&&jsxRuntimeExports.jsx(IconButton$2,{onClick:()=>ss(!0),children:jsxRuntimeExports.jsx(default_1$1,{sx:{color:ts.palette.primary.main}})})]}),getAppointmentStatusChip(mapStatusToTelemed(us.status,cs==null?void 0:cs.status))]}):jsxRuntimeExports.jsx(Skeleton$1,{"aria-busy":"true",width:200}),!ds||!ps||!cs?jsxRuntimeExports.jsx(Skeleton$1,{"aria-busy":"true",width:300}):jsxRuntimeExports.jsxs(Typography$1,{variant:"body2",color:"secondary.light",children:["New patient | ",Gender[ds.gender]," | Age:"," ",Math.floor(DateTime.now().diff(DateTime.fromFormat(ds.birthDate,"yyyy-MM-dd"),"years").years)," ","| DOB: ",DateTime.fromFormat(ds.birthDate,"yyyy-MM-dd").toFormat("MM.dd.yyyy")," | Wt: 41 kg (updated 11/19/2023) | Location: ",(Ss=ps.address)==null?void 0:Ss.state," | ",gs]})]}),jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",gap:2},children:[jsxRuntimeExports.jsx(IconButtonWithLabel,{SvgIcon:default_1$a,label:"Patient Record"}),jsxRuntimeExports.jsx(IconButtonWithLabel,{SvgIcon:default_1$q,label:"Chat"}),jsxRuntimeExports.jsx(IconButtonWithLabel,{SvgIcon:default_1$2,label:"Pharmacy",onClick:()=>ls(!0)}),jsxRuntimeExports.jsx(IconButtonWithLabel,{SvgIcon:default_1$4,label:"Book visit"}),jsxRuntimeExports.jsx(IconButtonWithLabel,{SvgIcon:default_1$3,label:"Cancel",variant:"error",onClick:()=>ns(!0)})]})]}),jsxRuntimeExports.jsx(AppointmentTabsHeader,{}),rs&&jsxRuntimeExports.jsx(CancelVisitDialog,{onClose:()=>ns(!1)}),as&&jsxRuntimeExports.jsx(ERXDialog,{patientPhotonId:ms,onClose:()=>ls(!1)}),os&&jsxRuntimeExports.jsx(EditPatientDialog,{modalOpen:os,onClose:()=>ss(!1)})]})})};var cjs={exports:{}},Draggable$2={};const require$$3=getAugmentedNamespace(clsx_m);var domFns={},shims={};Object.defineProperty(shims,"__esModule",{value:!0});shims.dontSetMe=dontSetMe;shims.findInArray=findInArray;shims.int=int;shims.isFunction=isFunction;shims.isNum=isNum;function findInArray(ts,rs){for(let ns=0,os=ts.length;ns<os;ns++)if(rs.apply(rs,[ts[ns],ns,ts]))return ts[ns]}function isFunction(ts){return typeof ts=="function"||Object.prototype.toString.call(ts)==="[object Function]"}function isNum(ts){return typeof ts=="number"&&!isNaN(ts)}function int(ts){return parseInt(ts,10)}function dontSetMe(ts,rs,ns){if(ts[rs])return new Error("Invalid prop ".concat(rs," passed to ").concat(ns," - do not set this, set it on the child."))}var getPrefix$1={};Object.defineProperty(getPrefix$1,"__esModule",{value:!0});getPrefix$1.browserPrefixToKey=browserPrefixToKey;getPrefix$1.browserPrefixToStyle=browserPrefixToStyle;getPrefix$1.default=void 0;getPrefix$1.getPrefix=getPrefix;const prefixes=["Moz","Webkit","O","ms"];function getPrefix(){var ts;let rs=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const ns=(ts=window.document)===null||ts===void 0||(ts=ts.documentElement)===null||ts===void 0?void 0:ts.style;if(!ns||rs in ns)return"";for(let os=0;os<prefixes.length;os++)if(browserPrefixToKey(rs,prefixes[os])in ns)return prefixes[os];return""}function browserPrefixToKey(ts,rs){return rs?"".concat(rs).concat(kebabToTitleCase(ts)):ts}function browserPrefixToStyle(ts,rs){return rs?"-".concat(rs.toLowerCase(),"-").concat(ts):ts}function kebabToTitleCase(ts){let rs="",ns=!0;for(let os=0;os<ts.length;os++)ns?(rs+=ts[os].toUpperCase(),ns=!1):ts[os]==="-"?ns=!0:rs+=ts[os];return rs}getPrefix$1.default=getPrefix();Object.defineProperty(domFns,"__esModule",{value:!0});domFns.addClassName=addClassName;domFns.addEvent=addEvent;domFns.addUserSelectStyles=addUserSelectStyles;domFns.createCSSTransform=createCSSTransform;domFns.createSVGTransform=createSVGTransform;domFns.getTouch=getTouch;domFns.getTouchIdentifier=getTouchIdentifier;domFns.getTranslation=getTranslation;domFns.innerHeight=innerHeight;domFns.innerWidth=innerWidth;domFns.matchesSelector=matchesSelector;domFns.matchesSelectorAndParentsTo=matchesSelectorAndParentsTo;domFns.offsetXYFromParent=offsetXYFromParent;domFns.outerHeight=outerHeight;domFns.outerWidth=outerWidth;domFns.removeClassName=removeClassName;domFns.removeEvent=removeEvent;domFns.removeUserSelectStyles=removeUserSelectStyles;var _shims$2=shims,_getPrefix=_interopRequireWildcard$1(getPrefix$1);function _getRequireWildcardCache$1(ts){if(typeof WeakMap!="function")return null;var rs=new WeakMap,ns=new WeakMap;return(_getRequireWildcardCache$1=function(os){return os?ns:rs})(ts)}function _interopRequireWildcard$1(ts,rs){if(!rs&&ts&&ts.__esModule)return ts;if(ts===null||typeof ts!="object"&&typeof ts!="function")return{default:ts};var ns=_getRequireWildcardCache$1(rs);if(ns&&ns.has(ts))return ns.get(ts);var os={},ss=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var as in ts)if(as!=="default"&&Object.prototype.hasOwnProperty.call(ts,as)){var ls=ss?Object.getOwnPropertyDescriptor(ts,as):null;ls&&(ls.get||ls.set)?Object.defineProperty(os,as,ls):os[as]=ts[as]}return os.default=ts,ns&&ns.set(ts,os),os}let matchesSelectorFunc="";function matchesSelector(ts,rs){return matchesSelectorFunc||(matchesSelectorFunc=(0,_shims$2.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(ns){return(0,_shims$2.isFunction)(ts[ns])})),(0,_shims$2.isFunction)(ts[matchesSelectorFunc])?ts[matchesSelectorFunc](rs):!1}function matchesSelectorAndParentsTo(ts,rs,ns){let os=ts;do{if(matchesSelector(os,rs))return!0;if(os===ns)return!1;os=os.parentNode}while(os);return!1}function addEvent(ts,rs,ns,os){if(!ts)return;const ss={capture:!0,...os};ts.addEventListener?ts.addEventListener(rs,ns,ss):ts.attachEvent?ts.attachEvent("on"+rs,ns):ts["on"+rs]=ns}function removeEvent(ts,rs,ns,os){if(!ts)return;const ss={capture:!0,...os};ts.removeEventListener?ts.removeEventListener(rs,ns,ss):ts.detachEvent?ts.detachEvent("on"+rs,ns):ts["on"+rs]=null}function outerHeight(ts){let rs=ts.clientHeight;const ns=ts.ownerDocument.defaultView.getComputedStyle(ts);return rs+=(0,_shims$2.int)(ns.borderTopWidth),rs+=(0,_shims$2.int)(ns.borderBottomWidth),rs}function outerWidth(ts){let rs=ts.clientWidth;const ns=ts.ownerDocument.defaultView.getComputedStyle(ts);return rs+=(0,_shims$2.int)(ns.borderLeftWidth),rs+=(0,_shims$2.int)(ns.borderRightWidth),rs}function innerHeight(ts){let rs=ts.clientHeight;const ns=ts.ownerDocument.defaultView.getComputedStyle(ts);return rs-=(0,_shims$2.int)(ns.paddingTop),rs-=(0,_shims$2.int)(ns.paddingBottom),rs}function innerWidth(ts){let rs=ts.clientWidth;const ns=ts.ownerDocument.defaultView.getComputedStyle(ts);return rs-=(0,_shims$2.int)(ns.paddingLeft),rs-=(0,_shims$2.int)(ns.paddingRight),rs}function offsetXYFromParent(ts,rs,ns){const ss=rs===rs.ownerDocument.body?{left:0,top:0}:rs.getBoundingClientRect(),as=(ts.clientX+rs.scrollLeft-ss.left)/ns,ls=(ts.clientY+rs.scrollTop-ss.top)/ns;return{x:as,y:ls}}function createCSSTransform(ts,rs){const ns=getTranslation(ts,rs,"px");return{[(0,_getPrefix.browserPrefixToKey)("transform",_getPrefix.default)]:ns}}function createSVGTransform(ts,rs){return getTranslation(ts,rs,"")}function getTranslation(ts,rs,ns){let{x:os,y:ss}=ts,as="translate(".concat(os).concat(ns,",").concat(ss).concat(ns,")");if(rs){const ls="".concat(typeof rs.x=="string"?rs.x:rs.x+ns),cs="".concat(typeof rs.y=="string"?rs.y:rs.y+ns);as="translate(".concat(ls,", ").concat(cs,")")+as}return as}function getTouch(ts,rs){return ts.targetTouches&&(0,_shims$2.findInArray)(ts.targetTouches,ns=>rs===ns.identifier)||ts.changedTouches&&(0,_shims$2.findInArray)(ts.changedTouches,ns=>rs===ns.identifier)}function getTouchIdentifier(ts){if(ts.targetTouches&&ts.targetTouches[0])return ts.targetTouches[0].identifier;if(ts.changedTouches&&ts.changedTouches[0])return ts.changedTouches[0].identifier}function addUserSelectStyles(ts){if(!ts)return;let rs=ts.getElementById("react-draggable-style-el");rs||(rs=ts.createElement("style"),rs.type="text/css",rs.id="react-draggable-style-el",rs.innerHTML=".react-draggable-transparent-selection *::-moz-selection {all: inherit;}\n",rs.innerHTML+=".react-draggable-transparent-selection *::selection {all: inherit;}\n",ts.getElementsByTagName("head")[0].appendChild(rs)),ts.body&&addClassName(ts.body,"react-draggable-transparent-selection")}function removeUserSelectStyles(ts){if(ts)try{if(ts.body&&removeClassName(ts.body,"react-draggable-transparent-selection"),ts.selection)ts.selection.empty();else{const rs=(ts.defaultView||window).getSelection();rs&&rs.type!=="Caret"&&rs.removeAllRanges()}}catch{}}function addClassName(ts,rs){ts.classList?ts.classList.add(rs):ts.className.match(new RegExp("(?:^|\\s)".concat(rs,"(?!\\S)")))||(ts.className+=" ".concat(rs))}function removeClassName(ts,rs){ts.classList?ts.classList.remove(rs):ts.className=ts.className.replace(new RegExp("(?:^|\\s)".concat(rs,"(?!\\S)"),"g"),"")}var positionFns={};Object.defineProperty(positionFns,"__esModule",{value:!0});positionFns.canDragX=canDragX;positionFns.canDragY=canDragY;positionFns.createCoreData=createCoreData;positionFns.createDraggableData=createDraggableData;positionFns.getBoundPosition=getBoundPosition;positionFns.getControlPosition=getControlPosition;positionFns.snapToGrid=snapToGrid;var _shims$1=shims,_domFns$1=domFns;function getBoundPosition(ts,rs,ns){if(!ts.props.bounds)return[rs,ns];let{bounds:os}=ts.props;os=typeof os=="string"?os:cloneBounds(os);const ss=findDOMNode(ts);if(typeof os=="string"){const{ownerDocument:as}=ss,ls=as.defaultView;let cs;if(os==="parent"?cs=ss.parentNode:cs=as.querySelector(os),!(cs instanceof ls.HTMLElement))throw new Error('Bounds selector "'+os+'" could not find an element.');const us=cs,ds=ls.getComputedStyle(ss),ps=ls.getComputedStyle(us);os={left:-ss.offsetLeft+(0,_shims$1.int)(ps.paddingLeft)+(0,_shims$1.int)(ds.marginLeft),top:-ss.offsetTop+(0,_shims$1.int)(ps.paddingTop)+(0,_shims$1.int)(ds.marginTop),right:(0,_domFns$1.innerWidth)(us)-(0,_domFns$1.outerWidth)(ss)-ss.offsetLeft+(0,_shims$1.int)(ps.paddingRight)-(0,_shims$1.int)(ds.marginRight),bottom:(0,_domFns$1.innerHeight)(us)-(0,_domFns$1.outerHeight)(ss)-ss.offsetTop+(0,_shims$1.int)(ps.paddingBottom)-(0,_shims$1.int)(ds.marginBottom)}}return(0,_shims$1.isNum)(os.right)&&(rs=Math.min(rs,os.right)),(0,_shims$1.isNum)(os.bottom)&&(ns=Math.min(ns,os.bottom)),(0,_shims$1.isNum)(os.left)&&(rs=Math.max(rs,os.left)),(0,_shims$1.isNum)(os.top)&&(ns=Math.max(ns,os.top)),[rs,ns]}function snapToGrid(ts,rs,ns){const os=Math.round(rs/ts[0])*ts[0],ss=Math.round(ns/ts[1])*ts[1];return[os,ss]}function canDragX(ts){return ts.props.axis==="both"||ts.props.axis==="x"}function canDragY(ts){return ts.props.axis==="both"||ts.props.axis==="y"}function getControlPosition(ts,rs,ns){const os=typeof rs=="number"?(0,_domFns$1.getTouch)(ts,rs):null;if(typeof rs=="number"&&!os)return null;const ss=findDOMNode(ns),as=ns.props.offsetParent||ss.offsetParent||ss.ownerDocument.body;return(0,_domFns$1.offsetXYFromParent)(os||ts,as,ns.props.scale)}function createCoreData(ts,rs,ns){const os=!(0,_shims$1.isNum)(ts.lastX),ss=findDOMNode(ts);return os?{node:ss,deltaX:0,deltaY:0,lastX:rs,lastY:ns,x:rs,y:ns}:{node:ss,deltaX:rs-ts.lastX,deltaY:ns-ts.lastY,lastX:ts.lastX,lastY:ts.lastY,x:rs,y:ns}}function createDraggableData(ts,rs){const ns=ts.props.scale;return{node:rs.node,x:ts.state.x+rs.deltaX/ns,y:ts.state.y+rs.deltaY/ns,deltaX:rs.deltaX/ns,deltaY:rs.deltaY/ns,lastX:ts.state.x,lastY:ts.state.y}}function cloneBounds(ts){return{left:ts.left,top:ts.top,right:ts.right,bottom:ts.bottom}}function findDOMNode(ts){const rs=ts.findDOMNode();if(!rs)throw new Error("<DraggableCore>: Unmounted during event!");return rs}var DraggableCore$2={},log$1={};Object.defineProperty(log$1,"__esModule",{value:!0});log$1.default=log;function log(){}Object.defineProperty(DraggableCore$2,"__esModule",{value:!0});DraggableCore$2.default=void 0;var React=_interopRequireWildcard(reactExports),_propTypes=_interopRequireDefault(propTypesExports),_reactDom=_interopRequireDefault(reactDomExports),_domFns=domFns,_positionFns=positionFns,_shims=shims,_log=_interopRequireDefault(log$1);function _interopRequireDefault(ts){return ts&&ts.__esModule?ts:{default:ts}}function _getRequireWildcardCache(ts){if(typeof WeakMap!="function")return null;var rs=new WeakMap,ns=new WeakMap;return(_getRequireWildcardCache=function(os){return os?ns:rs})(ts)}function _interopRequireWildcard(ts,rs){if(!rs&&ts&&ts.__esModule)return ts;if(ts===null||typeof ts!="object"&&typeof ts!="function")return{default:ts};var ns=_getRequireWildcardCache(rs);if(ns&&ns.has(ts))return ns.get(ts);var os={},ss=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var as in ts)if(as!=="default"&&Object.prototype.hasOwnProperty.call(ts,as)){var ls=ss?Object.getOwnPropertyDescriptor(ts,as):null;ls&&(ls.get||ls.set)?Object.defineProperty(os,as,ls):os[as]=ts[as]}return os.default=ts,ns&&ns.set(ts,os),os}function _defineProperty(ts,rs,ns){return rs=_toPropertyKey(rs),rs in ts?Object.defineProperty(ts,rs,{value:ns,enumerable:!0,configurable:!0,writable:!0}):ts[rs]=ns,ts}function _toPropertyKey(ts){var rs=_toPrimitive(ts,"string");return typeof rs=="symbol"?rs:String(rs)}function _toPrimitive(ts,rs){if(typeof ts!="object"||ts===null)return ts;var ns=ts[Symbol.toPrimitive];if(ns!==void 0){var os=ns.call(ts,rs||"default");if(typeof os!="object")return os;throw new TypeError("@@toPrimitive must return a primitive value.")}return(rs==="string"?String:Number)(ts)}const eventsFor={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let dragEventFor=eventsFor.mouse,DraggableCore$1=class extends React.Component{constructor(){super(...arguments),_defineProperty(this,"dragging",!1),_defineProperty(this,"lastX",NaN),_defineProperty(this,"lastY",NaN),_defineProperty(this,"touchIdentifier",null),_defineProperty(this,"mounted",!1),_defineProperty(this,"handleDragStart",rs=>{if(this.props.onMouseDown(rs),!this.props.allowAnyClick&&typeof rs.button=="number"&&rs.button!==0)return!1;const ns=this.findDOMNode();if(!ns||!ns.ownerDocument||!ns.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:os}=ns;if(this.props.disabled||!(rs.target instanceof os.defaultView.Node)||this.props.handle&&!(0,_domFns.matchesSelectorAndParentsTo)(rs.target,this.props.handle,ns)||this.props.cancel&&(0,_domFns.matchesSelectorAndParentsTo)(rs.target,this.props.cancel,ns))return;rs.type==="touchstart"&&rs.preventDefault();const ss=(0,_domFns.getTouchIdentifier)(rs);this.touchIdentifier=ss;const as=(0,_positionFns.getControlPosition)(rs,ss,this);if(as==null)return;const{x:ls,y:cs}=as,us=(0,_positionFns.createCoreData)(this,ls,cs);(0,_log.default)("DraggableCore: handleDragStart: %j",us),(0,_log.default)("calling",this.props.onStart),!(this.props.onStart(rs,us)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,_domFns.addUserSelectStyles)(os),this.dragging=!0,this.lastX=ls,this.lastY=cs,(0,_domFns.addEvent)(os,dragEventFor.move,this.handleDrag),(0,_domFns.addEvent)(os,dragEventFor.stop,this.handleDragStop))}),_defineProperty(this,"handleDrag",rs=>{const ns=(0,_positionFns.getControlPosition)(rs,this.touchIdentifier,this);if(ns==null)return;let{x:os,y:ss}=ns;if(Array.isArray(this.props.grid)){let cs=os-this.lastX,us=ss-this.lastY;if([cs,us]=(0,_positionFns.snapToGrid)(this.props.grid,cs,us),!cs&&!us)return;os=this.lastX+cs,ss=this.lastY+us}const as=(0,_positionFns.createCoreData)(this,os,ss);if((0,_log.default)("DraggableCore: handleDrag: %j",as),this.props.onDrag(rs,as)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const us=document.createEvent("MouseEvents");us.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(us)}return}this.lastX=os,this.lastY=ss}),_defineProperty(this,"handleDragStop",rs=>{if(!this.dragging)return;const ns=(0,_positionFns.getControlPosition)(rs,this.touchIdentifier,this);if(ns==null)return;let{x:os,y:ss}=ns;if(Array.isArray(this.props.grid)){let us=os-this.lastX||0,ds=ss-this.lastY||0;[us,ds]=(0,_positionFns.snapToGrid)(this.props.grid,us,ds),os=this.lastX+us,ss=this.lastY+ds}const as=(0,_positionFns.createCoreData)(this,os,ss);if(this.props.onStop(rs,as)===!1||this.mounted===!1)return!1;const cs=this.findDOMNode();cs&&this.props.enableUserSelectHack&&(0,_domFns.removeUserSelectStyles)(cs.ownerDocument),(0,_log.default)("DraggableCore: handleDragStop: %j",as),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,cs&&((0,_log.default)("DraggableCore: Removing handlers"),(0,_domFns.removeEvent)(cs.ownerDocument,dragEventFor.move,this.handleDrag),(0,_domFns.removeEvent)(cs.ownerDocument,dragEventFor.stop,this.handleDragStop))}),_defineProperty(this,"onMouseDown",rs=>(dragEventFor=eventsFor.mouse,this.handleDragStart(rs))),_defineProperty(this,"onMouseUp",rs=>(dragEventFor=eventsFor.mouse,this.handleDragStop(rs))),_defineProperty(this,"onTouchStart",rs=>(dragEventFor=eventsFor.touch,this.handleDragStart(rs))),_defineProperty(this,"onTouchEnd",rs=>(dragEventFor=eventsFor.touch,this.handleDragStop(rs)))}componentDidMount(){this.mounted=!0;const rs=this.findDOMNode();rs&&(0,_domFns.addEvent)(rs,eventsFor.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const rs=this.findDOMNode();if(rs){const{ownerDocument:ns}=rs;(0,_domFns.removeEvent)(ns,eventsFor.mouse.move,this.handleDrag),(0,_domFns.removeEvent)(ns,eventsFor.touch.move,this.handleDrag),(0,_domFns.removeEvent)(ns,eventsFor.mouse.stop,this.handleDragStop),(0,_domFns.removeEvent)(ns,eventsFor.touch.stop,this.handleDragStop),(0,_domFns.removeEvent)(rs,eventsFor.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,_domFns.removeUserSelectStyles)(ns)}}findDOMNode(){var rs,ns;return(rs=this.props)!==null&&rs!==void 0&&rs.nodeRef?(ns=this.props)===null||ns===void 0||(ns=ns.nodeRef)===null||ns===void 0?void 0:ns.current:_reactDom.default.findDOMNode(this)}render(){return React.cloneElement(React.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};DraggableCore$2.default=DraggableCore$1;_defineProperty(DraggableCore$1,"displayName","DraggableCore");_defineProperty(DraggableCore$1,"propTypes",{allowAnyClick:_propTypes.default.bool,children:_propTypes.default.node.isRequired,disabled:_propTypes.default.bool,enableUserSelectHack:_propTypes.default.bool,offsetParent:function(ts,rs){if(ts[rs]&&ts[rs].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:_propTypes.default.arrayOf(_propTypes.default.number),handle:_propTypes.default.string,cancel:_propTypes.default.string,nodeRef:_propTypes.default.object,onStart:_propTypes.default.func,onDrag:_propTypes.default.func,onStop:_propTypes.default.func,onMouseDown:_propTypes.default.func,scale:_propTypes.default.number,className:_shims.dontSetMe,style:_shims.dontSetMe,transform:_shims.dontSetMe});_defineProperty(DraggableCore$1,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(ts){Object.defineProperty(ts,"__esModule",{value:!0}),Object.defineProperty(ts,"DraggableCore",{enumerable:!0,get:function(){return us.default}}),ts.default=void 0;var rs=hs(reactExports),ns=ps(propTypesExports),os=ps(reactDomExports),ss=ps(require$$3),as=domFns,ls=positionFns,cs=shims,us=ps(DraggableCore$2),ds=ps(log$1);function ps(ys){return ys&&ys.__esModule?ys:{default:ys}}function fs(ys){if(typeof WeakMap!="function")return null;var Ss=new WeakMap,Cs=new WeakMap;return(fs=function($s){return $s?Cs:Ss})(ys)}function hs(ys,Ss){if(!Ss&&ys&&ys.__esModule)return ys;if(ys===null||typeof ys!="object"&&typeof ys!="function")return{default:ys};var Cs=fs(Ss);if(Cs&&Cs.has(ys))return Cs.get(ys);var $s={},Es=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var ws in ys)if(ws!=="default"&&Object.prototype.hasOwnProperty.call(ys,ws)){var Ts=Es?Object.getOwnPropertyDescriptor(ys,ws):null;Ts&&(Ts.get||Ts.set)?Object.defineProperty($s,ws,Ts):$s[ws]=ys[ws]}return $s.default=ys,Cs&&Cs.set(ys,$s),$s}function ms(){return ms=Object.assign?Object.assign.bind():function(ys){for(var Ss=1;Ss<arguments.length;Ss++){var Cs=arguments[Ss];for(var $s in Cs)Object.prototype.hasOwnProperty.call(Cs,$s)&&(ys[$s]=Cs[$s])}return ys},ms.apply(this,arguments)}function gs(ys,Ss,Cs){return Ss=vs(Ss),Ss in ys?Object.defineProperty(ys,Ss,{value:Cs,enumerable:!0,configurable:!0,writable:!0}):ys[Ss]=Cs,ys}function vs(ys){var Ss=bs(ys,"string");return typeof Ss=="symbol"?Ss:String(Ss)}function bs(ys,Ss){if(typeof ys!="object"||ys===null)return ys;var Cs=ys[Symbol.toPrimitive];if(Cs!==void 0){var $s=Cs.call(ys,Ss||"default");if(typeof $s!="object")return $s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Ss==="string"?String:Number)(ys)}class xs extends rs.Component{static getDerivedStateFromProps(Ss,Cs){let{position:$s}=Ss,{prevPropsPosition:Es}=Cs;return $s&&(!Es||$s.x!==Es.x||$s.y!==Es.y)?((0,ds.default)("Draggable: getDerivedStateFromProps %j",{position:$s,prevPropsPosition:Es}),{x:$s.x,y:$s.y,prevPropsPosition:{...$s}}):null}constructor(Ss){super(Ss),gs(this,"onDragStart",(Cs,$s)=>{if((0,ds.default)("Draggable: onDragStart: %j",$s),this.props.onStart(Cs,(0,ls.createDraggableData)(this,$s))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),gs(this,"onDrag",(Cs,$s)=>{if(!this.state.dragging)return!1;(0,ds.default)("Draggable: onDrag: %j",$s);const Es=(0,ls.createDraggableData)(this,$s),ws={x:Es.x,y:Es.y,slackX:0,slackY:0};if(this.props.bounds){const{x:Is,y:Rs}=ws;ws.x+=this.state.slackX,ws.y+=this.state.slackY;const[As,ks]=(0,ls.getBoundPosition)(this,ws.x,ws.y);ws.x=As,ws.y=ks,ws.slackX=this.state.slackX+(Is-ws.x),ws.slackY=this.state.slackY+(Rs-ws.y),Es.x=ws.x,Es.y=ws.y,Es.deltaX=ws.x-this.state.x,Es.deltaY=ws.y-this.state.y}if(this.props.onDrag(Cs,Es)===!1)return!1;this.setState(ws)}),gs(this,"onDragStop",(Cs,$s)=>{if(!this.state.dragging||this.props.onStop(Cs,(0,ls.createDraggableData)(this,$s))===!1)return!1;(0,ds.default)("Draggable: onDragStop: %j",$s);const ws={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:Is,y:Rs}=this.props.position;ws.x=Is,ws.y=Rs}this.setState(ws)}),this.state={dragging:!1,dragged:!1,x:Ss.position?Ss.position.x:Ss.defaultPosition.x,y:Ss.position?Ss.position.y:Ss.defaultPosition.y,prevPropsPosition:{...Ss.position},slackX:0,slackY:0,isElementSVG:!1},Ss.position&&!(Ss.onDrag||Ss.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var Ss,Cs;return(Ss=(Cs=this.props)===null||Cs===void 0||(Cs=Cs.nodeRef)===null||Cs===void 0?void 0:Cs.current)!==null&&Ss!==void 0?Ss:os.default.findDOMNode(this)}render(){const{axis:Ss,bounds:Cs,children:$s,defaultPosition:Es,defaultClassName:ws,defaultClassNameDragging:Ts,defaultClassNameDragged:Is,position:Rs,positionOffset:As,scale:ks,...Ms}=this.props;let Os={},Ds=null;const js=!!!Rs||this.state.dragging,Ps=Rs||Es,Ls={x:(0,ls.canDragX)(this)&&js?this.state.x:Ps.x,y:(0,ls.canDragY)(this)&&js?this.state.y:Ps.y};this.state.isElementSVG?Ds=(0,as.createSVGTransform)(Ls,As):Os=(0,as.createCSSTransform)(Ls,As);const Ns=(0,ss.default)($s.props.className||"",ws,{[Ts]:this.state.dragging,[Is]:this.state.dragged});return rs.createElement(us.default,ms({},Ms,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),rs.cloneElement(rs.Children.only($s),{className:Ns,style:{...$s.props.style,...Os},transform:Ds}))}}ts.default=xs,gs(xs,"displayName","Draggable"),gs(xs,"propTypes",{...us.default.propTypes,axis:ns.default.oneOf(["both","x","y","none"]),bounds:ns.default.oneOfType([ns.default.shape({left:ns.default.number,right:ns.default.number,top:ns.default.number,bottom:ns.default.number}),ns.default.string,ns.default.oneOf([!1])]),defaultClassName:ns.default.string,defaultClassNameDragging:ns.default.string,defaultClassNameDragged:ns.default.string,defaultPosition:ns.default.shape({x:ns.default.number,y:ns.default.number}),positionOffset:ns.default.shape({x:ns.default.oneOfType([ns.default.number,ns.default.string]),y:ns.default.oneOfType([ns.default.number,ns.default.string])}),position:ns.default.shape({x:ns.default.number,y:ns.default.number}),className:cs.dontSetMe,style:cs.dontSetMe,transform:cs.dontSetMe}),gs(xs,"defaultProps",{...us.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(Draggable$2);const{default:Draggable,DraggableCore}=Draggable$2;cjs.exports=Draggable;cjs.exports.default=Draggable;cjs.exports.DraggableCore=DraggableCore;var cjsExports=cjs.exports;const Draggable$1=getDefaultExportFromCjs(cjsExports);window.global||(window.global=window);const INSURANCE_SETTINGS_MAP={requiresSubscriberId:"Requires subscriber Id",requiresSubscriberName:"Requires subscriber name",requiresSubscriberDOB:"Requires subscriber date of birth",requiresRelationshipToSubscriber:"Requires relationship to subscriber",requiresInsuranceName:"Requires insurance name",requiresInsuranceCardImage:"Requires insurance card image"};function getInsurancePayor(ts,rs){var ns;if((ns=ts.ownedBy)!=null&&ns.reference)return rs.find(os=>{var ss,as;return os.id===((as=(ss=ts.ownedBy)==null?void 0:ss.reference)==null?void 0:as.replace("Organization/",""))})}function EditInsurance(){var ks,Ms,Os;const ts=useTheme$1(),rs=useNavigate(),{insurance:ns}=useParams(),os=ns==="new",ss=os?void 0:ns,[as,ls]=reactExports.useState(""),cs=reactExports.useRef(!1),{control:us,getValues:ds,reset:ps}=useForm({defaultValues:{payor:void 0,displayName:"",requiresSubscriberId:!1,requiresSubscriberName:!1,requiresSubscriberDOB:!1,requiresRelationshipToSubscriber:!1,requiresInsuranceName:!1,requiresInsuranceCardImage:!1}}),{data:fs,isFetching:hs,refetch:ms}=useInsurancesQuery(ss,ss!==void 0),gs=os||fs==null?void 0:fs[0],vs=(gs==null?void 0:gs.status)==="active",{isFetching:bs,data:xs}=useInsuranceOrganizationsQuery(),ys=(xs==null?void 0:xs.map(Ds=>({name:Ds.name,id:Ds.id})))||[{id:"",name:""}],Ss=hs||bs,Cs=ss&&gs&&ys?getInsurancePayor(gs,ys):void 0,[$s,Es]=reactExports.useState(""),ws=Object.fromEntries(Object.entries(INSURANCE_SETTINGS_MAP).map(([Ds,Fs])=>[Ds,!1]));(Os=(Ms=(ks=gs==null?void 0:gs.extension)==null?void 0:ks.find(Ds=>Ds.url==="".concat(PUBLIC_EXTENSION_BASE_URL,"/insurance-requirements")))==null?void 0:Ms.extension)==null||Os.forEach(Ds=>{ws[Ds.url]=Ds.valueBoolean||!1}),gs&&xs&&!cs.current&&(ps({payor:Cs,displayName:gs.name,...ws}),cs.current=!0);const{mutateAsync:Ts,isLoading:Is}=useInsuranceMutation(ss),Rs=async Ds=>{ls(""),Ds.preventDefault();const Fs=ds(),js={id:ss,status:(gs==null?void 0:gs.status)==="active"?"active":"retired",...Fs};try{await Ts(js),rs(INSURANCES_PATH)}catch{ls("Error trying to save insurance configuration. Please, try again")}},As=async Ds=>{try{await Ts({id:ss,payor:Cs,displayName:gs.name||"",...ws,status:Ds}),await ms()}catch{ls("Error trying to change insurance configuration status. Please, try again")}};return jsxRuntimeExports.jsx(PageContainer,{tabTitle:"Edit State",children:jsxRuntimeExports.jsx(Grid$1,{container:!0,direction:"row",alignItems:"center",justifyContent:"center",children:jsxRuntimeExports.jsxs(Grid$1,{item:!0,maxWidth:"584px",width:"100%",children:[jsxRuntimeExports.jsx(CustomBreadcrumbs,{chain:[{link:INSURANCES_PATH,children:"Insurance"},{link:"#",children:os?"New insurance":Ss?jsxRuntimeExports.jsx(Skeleton$1,{width:150}):(gs==null?void 0:gs.name)||""}]}),jsxRuntimeExports.jsx(Typography$1,{variant:"h3",color:"primary.dark",marginTop:2,marginBottom:2,sx:{display:"flex",flexDirection:"row",alignItems:"center",fontWeight:"600 !important"},children:Ss?jsxRuntimeExports.jsx(Skeleton$1,{width:250}):gs!=null&&gs.name||os?"New":""}),ss&&Ss?jsxRuntimeExports.jsx(Skeleton$1,{height:550,sx:{marginY:-5}}):jsxRuntimeExports.jsx(Paper$1,{sx:{padding:3},children:jsxRuntimeExports.jsxs("form",{onSubmit:Rs,children:[jsxRuntimeExports.jsx(FormLabel$1,{sx:{...ts.typography.h4,color:ts.palette.primary.main,mb:2,fontWeight:"600 !important",display:"block"},children:"Insurance settings"}),jsxRuntimeExports.jsx(Controller,{name:"payor",control:us,render:({field:{onChange:Ds,value:Fs,disabled:js}})=>jsxRuntimeExports.jsx(Autocomplete$1,{value:Fs,disabled:js||bs,getOptionLabel:Ps=>Ps.name||"",loading:bs,isOptionEqualToValue:(Ps,Ls)=>Ps.id===Ls.id,onChange:(Ps,Ls)=>{Ds(Ls)},inputValue:$s,onInputChange:(Ps,Ls)=>Es(Ls),options:ys,renderOption:(Ps,Ls)=>reactExports.createElement("li",{...Ps,key:Ls.id},Ls.name),fullWidth:!0,renderInput:Ps=>jsxRuntimeExports.jsx(TextField$1,{placeholder:"Select payer name",...Ps,label:"Payer name",required:!0})})}),jsxRuntimeExports.jsx(Controller,{name:"displayName",control:us,render:({field:{onChange:Ds,value:Fs}})=>jsxRuntimeExports.jsx(TextField$1,{id:"outlined-read-only-input",label:"Display name",value:Fs||"",onChange:Ds,sx:{marginTop:2,marginBottom:1,width:"100%"},margin:"dense"})}),Object.keys(INSURANCE_SETTINGS_MAP).map(Ds=>{const Fs=Ds;return jsxRuntimeExports.jsx(Controller,{name:Fs,control:us,render:({field:{onChange:js,value:Ps}})=>jsxRuntimeExports.jsx(FormControlLabel$1,{sx:{width:"100%"},value:Ps,checked:Ps,control:jsxRuntimeExports.jsx(Checkbox$1,{onChange:js}),label:INSURANCE_SETTINGS_MAP[Fs]})},Fs)}),as&&jsxRuntimeExports.jsx(Box$1,{color:"error.main",width:"100%",marginTop:2,children:as}),jsxRuntimeExports.jsx(LoadingButton$1,{variant:"contained",color:"secondary",loading:Is,sx:{textTransform:"none",borderRadius:28,marginTop:3,fontWeight:"bold",marginRight:1},type:"submit",disabled:!1,children:"Save changes"}),jsxRuntimeExports.jsx(Link,{to:INSURANCES_PATH,children:jsxRuntimeExports.jsx(Button$2,{variant:"text",color:"secondary",sx:{textTransform:"none",borderRadius:28,marginTop:3,fontWeight:"bold"},children:"Cancel"})})]})}),ss!=="new"&&(Ss?jsxRuntimeExports.jsx(Skeleton$1,{height:300,sx:{marginTop:-8}}):jsxRuntimeExports.jsxs(Paper$1,{sx:{padding:3,marginTop:3},children:[jsxRuntimeExports.jsx(Typography$1,{variant:"h4",color:"primary.dark",sx:{fontWeight:"600 !important"},children:vs?"Deactivate insurance":"Activate insurance"}),jsxRuntimeExports.jsx(Typography$1,{variant:"body1",marginTop:1,children:vs?"When you deactivate this insurance, patients will not be able to select it.":"Activate this license."}),jsxRuntimeExports.jsx(LoadingButton$1,{variant:"contained",color:vs?"error":"primary",sx:{textTransform:"none",borderRadius:28,marginTop:4,fontWeight:"bold",marginRight:1},loading:Is,onClick:()=>As(vs?"retired":"active"),children:vs?"Deactivate":"Activate"})]}))]})})})}const useStatesQuery=()=>{const{fhirClient:ts}=useApiClients();return useQuery(["state-locations",{fhirClient:ts}],async()=>(await ts.searchResources({resourceType:"Location",searchParams:[{name:"address-state:missing",value:"false"},{name:"name:contains",value:"virtual"}]})).filter(ns=>{var os,ss,as;return((as=(ss=(os=ns.extension)==null?void 0:os.find(ls=>ls.url==="https://extensions.fhir.zapehr.com/location-form-pre-release"))==null?void 0:ss.valueCoding)==null?void 0:as.code)==="vi"}),{enabled:!!ts})},useInsurancesQuery=(ts,rs)=>{const{fhirClient:ns}=useApiClients();return useQuery(["insurances",{fhirClient:ns,id:ts}],async()=>{const os=[];return ts&&os.push({name:"_id",value:ts}),await ns.searchResources({resourceType:"InsurancePlan",searchParams:os})},{enabled:(rs!==void 0?rs:!0)&&!!ns,cacheTime:0})},useInsuranceMutation=ts=>{const{fhirClient:rs}=useApiClients();return useMutation(["insurances",{fhirClient:rs,id:ts}],async ns=>{var ls;const os={resourceType:"InsurancePlan",status:ns.status,name:ns.displayName,ownedBy:{reference:"Organization/".concat((ls=ns.payor)==null?void 0:ls.id)},extension:[{url:"".concat(PUBLIC_EXTENSION_BASE_URL,"/insurance-requirements"),extension:Object.keys(INSURANCE_SETTINGS_MAP).map(cs=>({url:cs,valueBoolean:ns[cs]}))}]};if(!rs)throw new Error("FhirClient is not defined");let ss=rs.createResource;return ns.id&&(os.id=ts,ss=rs.updateResource),await ss.bind(rs)(os)})},useInsuranceOrganizationsQuery=()=>{const{fhirClient:ts}=useApiClients();return useQuery(["insurance-organizations",{fhirClient:ts}],async()=>await ts.searchResources({resourceType:"Organization",searchParams:[{name:"type",value:"http://terminology.hl7.org/CodeSystem/organization-type|pay"}]}),{enabled:!!ts})};function StatesPage(){const ts=useTheme$1(),[rs,ns]=React$2.useState(10),[os,ss]=React$2.useState(0),[as,ls]=React$2.useState(""),{data:cs,isFetching:us}=useStatesQuery(),ds=cs||[],ps=React$2.useMemo(()=>AllStates.filter(vs=>"".concat(vs.label," - ").concat(AllStatesToNames[vs.value]).toLowerCase().includes(as.toLowerCase())),[as]),fs=React$2.useMemo(()=>ps.slice(os*rs,(os+1)*rs),[os,ps,rs]),hs=(vs,bs)=>{ss(bs)},ms=vs=>{ns(parseInt(vs.target.value)),ss(0)},gs=vs=>ls(vs.target.value);return jsxRuntimeExports.jsx(Paper$1,{sx:{padding:2},children:jsxRuntimeExports.jsxs(TableContainer$1,{children:[jsxRuntimeExports.jsxs(Grid$1,{container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",children:[jsxRuntimeExports.jsx(Box$1,{sx:{display:"contents"},children:jsxRuntimeExports.jsx(Box$1,{children:jsxRuntimeExports.jsx(TextField$1,{id:"outlined-basic",label:"States",variant:"outlined",onChange:vs=>{os!==0&&ss(0),gs(vs)},InputProps:{endAdornment:jsxRuntimeExports.jsx(default_1$f,{})},sx:{marginBottom:2},margin:"dense"})})}),us&&jsxRuntimeExports.jsx(Loading,{})]}),jsxRuntimeExports.jsxs(Table$1,{sx:{minWidth:650},"aria-label":"locationsTable",children:[jsxRuntimeExports.jsx(TableHead$1,{children:jsxRuntimeExports.jsxs(TableRow$1,{children:[jsxRuntimeExports.jsx(TableCell$1,{sx:{fontWeight:"bold",width:"50%"},children:"State name"}),jsxRuntimeExports.jsx(TableCell$1,{sx:{fontWeight:"bold"},align:"left",children:"Operate in state"})]})}),jsxRuntimeExports.jsx(TableBody$1,{children:fs.map((vs,bs)=>{const xs=ds.find(Cs=>{var $s;return(($s=Cs.address)==null?void 0:$s.state)===vs.value}),ys=!!(xs&&xs.status==="active"),Ss=ys?"yes":"no";return jsxRuntimeExports.jsxs(TableRow$1,{children:[jsxRuntimeExports.jsx(TableCell$1,{children:jsxRuntimeExports.jsxs(Link,{to:"/telemed-admin/states/".concat(vs.value),style:{display:"contents",color:ts.palette.primary.main},children:[vs.label," - ",AllStatesToNames[vs.value]]})}),jsxRuntimeExports.jsx(TableCell$1,{align:"left",sx:{color:otherColors.tableRow},children:us?jsxRuntimeExports.jsx(Skeleton$1,{width:35,height:20}):jsxRuntimeExports.jsx(BooleanStateChip,{label:Ss,state:ys})})]},bs)})})]}),jsxRuntimeExports.jsx(TablePagination$1,{rowsPerPageOptions:[10,25,50,100],component:"div",count:ps.length,rowsPerPage:rs,page:os,onPageChange:hs,onRowsPerPageChange:ms})]})})}function Insurances(){const ts=useTheme$1(),[rs,ns]=React$2.useState(10),[os,ss]=React$2.useState(0),[as,ls]=React$2.useState(""),[cs,us]=React$2.useState(void 0),{data:ds,isFetching:ps}=useInsurancesQuery(),fs=React$2.useMemo(()=>(as?ds==null?void 0:ds.filter(ys=>{var Ss,Cs;(Cs=(Ss=ys.name)==null?void 0:Ss[0])!=null&&Cs.toLowerCase().includes(as.toLowerCase())&&insuranceStatusCheck(cs,ys)}):ds)||[],[ds,as,cs]),hs=React$2.useMemo(()=>fs.slice(os*rs,(os+1)*rs),[os,fs,rs]),ms=(ys,Ss)=>{ss(Ss)},gs=ys=>{ns(parseInt(ys.target.value)),ss(0)},vs=ys=>ls(ys.target.value),bs=ys=>{us(ys.target.value)},xs=ys=>jsxRuntimeExports.jsxs(TableRow$1,{children:[jsxRuntimeExports.jsx(TableCell$1,{children:jsxRuntimeExports.jsx(Skeleton$1,{width:100,height:"100%"})}),jsxRuntimeExports.jsx(TableCell$1,{children:jsxRuntimeExports.jsx(Skeleton$1,{width:35,height:20})})]},ys);return jsxRuntimeExports.jsx(Paper$1,{sx:{padding:2},children:jsxRuntimeExports.jsxs(TableContainer$1,{children:[jsxRuntimeExports.jsxs(Grid$1,{container:!0,spacing:2,display:"flex",alignItems:"center",children:[jsxRuntimeExports.jsx(Grid$1,{item:!0,xs:12,sm:5,marginTop:-.5,children:jsxRuntimeExports.jsx(TextField$1,{fullWidth:!0,id:"outlined-basic",label:"Insurance",onChange:ys=>{os!==0&&ss(0),vs(ys)},InputProps:{endAdornment:jsxRuntimeExports.jsx(default_1$f,{})},margin:"dense"})}),jsxRuntimeExports.jsx(Grid$1,{item:!0,xs:12,sm:5,children:jsxRuntimeExports.jsxs(FormControl$1,{fullWidth:!0,children:[jsxRuntimeExports.jsx(InputLabel$1,{id:"select-insurance-status-filter",children:"Status"}),jsxRuntimeExports.jsxs(Select$2,{labelId:"select-insurance-status-filter",margin:"dense",input:jsxRuntimeExports.jsx(OutlinedInput$1,{label:"Status"}),value:cs,onChange:bs,children:[jsxRuntimeExports.jsx(MenuItem$1,{value:void 0,children:"None"}),jsxRuntimeExports.jsx(MenuItem$1,{value:0,children:"Active"}),jsxRuntimeExports.jsx(MenuItem$1,{value:1,children:"Deactivated"})]})]})}),jsxRuntimeExports.jsx(Grid$1,{item:!0,xs:12,sm:2,display:"flex",children:jsxRuntimeExports.jsx(Link,{to:"/telemed-admin/insurances/new",style:{width:"100%"},children:jsxRuntimeExports.jsxs(Button$2,{sx:{borderRadius:100,textTransform:"none",width:"100%",fontWeight:600},variant:"contained",children:[jsxRuntimeExports.jsx(default_1$w,{}),jsxRuntimeExports.jsx(Typography$1,{fontWeight:"bold",children:"Add new"})]})})})]}),jsxRuntimeExports.jsxs(Table$1,{sx:{minWidth:650},"aria-label":"locationsTable",children:[jsxRuntimeExports.jsx(TableHead$1,{children:jsxRuntimeExports.jsxs(TableRow$1,{children:[jsxRuntimeExports.jsx(TableCell$1,{sx:{fontWeight:"bold",width:"50%"},children:"Display name"}),jsxRuntimeExports.jsx(TableCell$1,{sx:{fontWeight:"bold"},align:"left",children:"Status"})]})}),jsxRuntimeExports.jsxs(TableBody$1,{children:[ps&&[1,2,3].map(ys=>xs("skeleton-row-"+ys)),hs.map((ys,Ss)=>{const Cs=ys.name,$s=ys.status==="active",Es=$s?"ACTIVE":"DEACTIVATED";return jsxRuntimeExports.jsxs(TableRow$1,{children:[jsxRuntimeExports.jsx(TableCell$1,{children:jsxRuntimeExports.jsx(Link,{to:"/telemed-admin/insurances/".concat(ys.id),style:{display:"contents",color:ts.palette.primary.main},children:Cs})}),jsxRuntimeExports.jsx(TableCell$1,{align:"left",sx:{color:otherColors.tableRow},children:ps?jsxRuntimeExports.jsx(Skeleton$1,{width:35,height:20}):jsxRuntimeExports.jsx(BooleanStateChip,{label:Es,state:$s})})]},Ss)})]})]}),jsxRuntimeExports.jsx(TablePagination$1,{rowsPerPageOptions:[10,25,50,100],component:"div",count:fs.length,rowsPerPage:rs,page:os,onPageChange:ms,onRowsPerPageChange:gs})]})})}function insuranceStatusCheck(ts,rs){if(ts===void 0)return!0;const ns=ts===0?"active":"retired";return rs.status===ns}function TelemedAdminPage(){const[ts,rs]=reactExports.useState("insurances"),ns=useNavigate(),ss=useMatch("/telemed-admin/states")?"states":"insurances";reactExports.useEffect(()=>{rs(ss)},[ss]);const as=(ls,cs)=>{rs(cs)};return jsxRuntimeExports.jsx(PageContainer,{children:jsxRuntimeExports.jsx(Box$1,{sx:{width:"100%",marginTop:3},children:jsxRuntimeExports.jsxs(TabContext,{value:ts,children:[jsxRuntimeExports.jsx(Box$1,{sx:{borderBottom:1,borderColor:"divider"},children:jsxRuntimeExports.jsxs(TabList$1,{onChange:as,"aria-label":"".concat(ss," page"),children:[jsxRuntimeExports.jsx(Tab$1,{label:"Insurance",value:"insurances",sx:{textTransform:"none",fontWeight:700},onClick:()=>ns("/telemed-admin/insurances")}),jsxRuntimeExports.jsx(Tab$1,{label:"States",value:"states",sx:{textTransform:"none",fontWeight:700},onClick:()=>ns("/telemed-admin/states")})]})}),jsxRuntimeExports.jsx(Paper$1,{sx:{marginTop:5},children:jsxRuntimeExports.jsxs(TabPanel$2,{value:ts,sx:{padding:0},children:[ts==="insurances"&&jsxRuntimeExports.jsx(Insurances,{}),ts==="states"&&jsxRuntimeExports.jsx(StatesPage,{})]})})]})})})}function EditStatePage(){const{fhirClient:ts}=useApiClients(),rs=useTheme$1(),[ns,os]=reactExports.useState(!1),{state:ss}=useParams(),as="".concat(ss," - ").concat(AllStatesToNames[ss]);if(!ts||!ss)throw new Error("fhirClient or state is not initialized.");const{data:ls,isFetching:cs}=useQuery(["state-location-data"],()=>getStateLocation(ts,ss),{onSuccess:fs=>{os(!!(fs&&fs.status==="active"))}}),us=useMutation(({location:fs,newStatus:hs})=>updateStateLocationStatus(ts,fs,hs)),ds=fs=>{os(fs)},ps=async fs=>{fs.preventDefault();const hs=ns?"active":"suspended";if(!ls)throw new Error("Location was not loaded.");us.mutate({newStatus:hs,location:ls})};return jsxRuntimeExports.jsx(PageContainer,{tabTitle:"Edit State",children:jsxRuntimeExports.jsx("form",{onSubmit:ps,children:jsxRuntimeExports.jsx(Grid$1,{container:!0,direction:"row",alignItems:"center",justifyContent:"center",children:jsxRuntimeExports.jsxs(Grid$1,{item:!0,maxWidth:"584px",width:"100%",children:[jsxRuntimeExports.jsx(CustomBreadcrumbs,{chain:[{link:"/states",children:"States"},{link:"#",children:as||jsxRuntimeExports.jsx(Skeleton$1,{width:150})}]}),jsxRuntimeExports.jsx(Typography$1,{variant:"h3",color:"primary.main",marginTop:2,sx:{display:"flex",flexDirection:"row",alignItems:"center",fontWeight:"600 !important"},children:as||jsxRuntimeExports.jsx(Skeleton$1,{width:250})}),jsxRuntimeExports.jsxs(Paper$1,{sx:{padding:3},children:[jsxRuntimeExports.jsx(FormLabel$1,{sx:{...rs.typography.h4,color:rs.palette.primary.main,mb:1,fontWeight:"600 !important"},children:"State information"}),jsxRuntimeExports.jsx(Box$1,{sx:{marginTop:"10px"},children:jsxRuntimeExports.jsx(TextField$1,{id:"outlined-read-only-input",label:"State name",value:as,sx:{marginBottom:2},margin:"dense",InputProps:{readOnly:!0}})}),jsxRuntimeExports.jsx(Box$1,{children:cs?jsxRuntimeExports.jsx(Skeleton$1,{width:140,height:38}):jsxRuntimeExports.jsx(FormControlLabel$1,{control:jsxRuntimeExports.jsx(Switch$1,{checked:ns,onChange:fs=>ds(fs.target.checked)}),label:"Operate in state"})}),jsxRuntimeExports.jsxs(Grid$1,{children:[jsxRuntimeExports.jsx(LoadingButton$1,{variant:"contained",color:"primary",sx:{textTransform:"none",borderRadius:28,marginTop:3,fontWeight:"bold",marginRight:1},type:"submit",loading:cs||us.isLoading,disabled:!1,children:"Save changes"}),jsxRuntimeExports.jsx(Link,{to:"/telemed-admin/states",children:jsxRuntimeExports.jsx(Button$2,{variant:"text",color:"primary",sx:{textTransform:"none",borderRadius:28,marginTop:3,fontWeight:"bold"},children:"Cancel"})})]})]})]})})})})}async function getStateLocation(ts,rs){return(await ts.searchResources({resourceType:"Location",searchParams:[{name:"address-state",value:rs},{name:"name:contains",value:"virtual"}]})).find(os=>{var ss,as,ls;return((ls=(as=(ss=os.extension)==null?void 0:ss.find(cs=>cs.url==="https://extensions.fhir.zapehr.com/location-form-pre-release"))==null?void 0:as.valueCoding)==null?void 0:ls.code)==="vi"})}async function updateStateLocationStatus(ts,rs,ns){var ss;return await ts.patchResource({resourceType:"Location",resourceId:(ss=rs.id)!=null?ss:"",operations:[{op:rs.status?"replace":"add",path:"/status",value:ns}]})}const AppointmentPage=()=>{const{id:ts}=useParams();useIsReadOnly();const{isFetching:rs}=useGetAppointmentInformation({appointmentId:ts},ns=>{const os=ns==null?void 0:ns.find(ss=>ss.resourceType==="QuestionnaireResponse");useAppointmentStore.setState({appointment:ns==null?void 0:ns.find(ss=>ss.resourceType==="Appointment"),patient:ns==null?void 0:ns.find(ss=>ss.resourceType==="Patient"),location:ns==null?void 0:ns.find(ss=>ss.resourceType==="Location"),encounter:ns==null?void 0:ns.find(ss=>ss.resourceType==="Encounter"),questionnaireResponse:os,patientPhotoUrls:(ns==null?void 0:ns.filter(ss=>{var as,ls;return ss.resourceType==="DocumentReference"&&ss.status==="current"&&((ls=(as=ss.type)==null?void 0:as.coding)==null?void 0:ls[0].code)===PATIENT_PHOTO_CODE}).flatMap(ss=>ss.content.map(as=>as.attachment.url)).filter(Boolean))||[]})});return reactExports.useEffect(()=>{useAppointmentStore.setState({appointment:void 0,patient:void 0,location:void 0,encounter:{},questionnaireResponse:void 0,patientPhotoUrls:[],chartData:void 0,currentTab:"hpi"}),useExamObservationsStore.setState(EXAM_OBSERVATIONS_INITIAL),useExamCardsStore.setState(EXAM_CARDS_INITIAL)},[]),reactExports.useEffect(()=>{useAppointmentStore.setState({isAppointmentLoading:rs})},[rs]),jsxRuntimeExports.jsxs(Box$1,{sx:{display:"flex",flexDirection:"column",alignItems:"center",minHeight:"100vh"},children:[jsxRuntimeExports.jsx(AppointmentHeader,{}),jsxRuntimeExports.jsx(Container$1,{maxWidth:"xl",sx:{my:3},children:jsxRuntimeExports.jsx(AppointmentTabs,{})}),jsxRuntimeExports.jsx(AppointmentFooter,{})]})};function AddSchedulePage(){const{fhirClient:ts}=useApiClients(),rs=useNavigate(),ns=useParams()["schedule-type"];if(!ns)throw new Error("scheduleType is not defined");const[os,ss]=reactExports.useState(void 0),[as,ls]=reactExports.useState(void 0),[cs,us]=reactExports.useState(void 0),[ds,ps]=reactExports.useState(!1);async function fs(hs){if(hs.preventDefault(),!ts)return;ps(!0);const ms=await ts.createResource({resourceType:getResource(ns),name:ns==="provider"?[{given:[as],family:cs}]:os,...ns==="group"&&{extension:[{url:TIMEZONE_EXTENSION_URL,valueString:"America/New_York"}]}});rs("/schedule/".concat(ns,"/").concat(ms.id)),ps(!1)}return jsxRuntimeExports.jsx(PageContainer,{children:jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs(Box$1,{marginX:12,children:[jsxRuntimeExports.jsx(CustomBreadcrumbs,{chain:[{link:"/schedules",children:"Schedules"},{link:"#",children:"Add ".concat(ns)}]}),jsxRuntimeExports.jsxs(Paper$1,{sx:{padding:2},children:[jsxRuntimeExports.jsxs(Typography$1,{variant:"h3",color:"primary.dark",marginTop:1,children:["Add ",ns]}),jsxRuntimeExports.jsxs("form",{onSubmit:fs,children:[ns==="provider"?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(TextField$1,{label:"First name",required:!0,value:as,onChange:hs=>ls(hs.target.value)}),jsxRuntimeExports.jsx(TextField$1,{label:"Last name",required:!0,value:cs,onChange:hs=>us(hs.target.value)})]}):jsxRuntimeExports.jsx(TextField$1,{label:"Name",required:!0,value:os,onChange:hs=>ss(hs.target.value)}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx(LoadingButton$1,{type:"submit",loading:ds,variant:"contained",sx:{marginTop:2},children:"Save"})]})]})]})})})}const enablePhoton=!1,TelemedTrackingBoardPageLazy=reactExports.lazy(async()=>({default:(await __vitePreload(()=>import("./TrackingBoardPage-3d7ae72b.js"),[])).TrackingBoardPage})),TelemedAppointmentPageLazy=reactExports.lazy(async()=>({default:(await __vitePreload(()=>import("./AppointmentPage-f1d0de84.js"),[])).AppointmentPage})),INSURANCES_PATH="/telemed-admin/insurances",MUI_X_LICENSE_KEY="";LicenseInfo.setLicenseKey(MUI_X_LICENSE_KEY);function App(){useApiClients();const ts=useOttehrUser(),rs=useNavStore(os=>os.currentTab)||"In Person",ns=!ts||!ts.hasRole([RoleType.Administrator,RoleType.Staff,RoleType.Manager,RoleType.Provider]);return jsxRuntimeExports.jsxs(CustomThemeProvider,{children:[jsxRuntimeExports.jsx(CssBaseline,{}),jsxRuntimeExports.jsx(BrowserRouter,{children:jsxRuntimeExports.jsxs(TabContext,{value:rs,children:[jsxRuntimeExports.jsx(Navbar,{}),jsxRuntimeExports.jsx(Routes,{children:jsxRuntimeExports.jsxs(Route,{path:"/",element:jsxRuntimeExports.jsx(ProtectedRoute,{showWhenAuthenticated:jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:ts!=null&&ts.hasRole([RoleType.Provider])&&enablePhoton?jsxRuntimeExports.jsx("photon-client",{id:{}.VITE_APP_PHOTON_CLIENT_ID,org:{}.VITE_APP_PHOTON_ORG_ID,"dev-mode":"true","auto-login":"true","redirect-uri":window.location.origin,children:jsxRuntimeExports.jsx(Outlet,{})}):jsxRuntimeExports.jsx(Outlet,{})})}),children:[ns&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Route,{path:"/logout",element:jsxRuntimeExports.jsx(Logout,{})}),jsxRuntimeExports.jsx(Route,{path:"*",element:jsxRuntimeExports.jsx(LoadingScreen,{})})]}),(ts==null?void 0:ts.hasRole([RoleType.Administrator,RoleType.Manager]))&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Route,{path:"/",element:jsxRuntimeExports.jsx(Navigate,{to:"/visits"})}),jsxRuntimeExports.jsx(Route,{path:"/logout",element:jsxRuntimeExports.jsx(Logout,{})}),jsxRuntimeExports.jsx(Route,{path:"/visits",element:jsxRuntimeExports.jsx(Appointments,{})}),jsxRuntimeExports.jsx(Route,{path:"/visits/add",element:jsxRuntimeExports.jsx(AddPatient,{})}),jsxRuntimeExports.jsx(Route,{path:"/visit/:id",element:jsxRuntimeExports.jsx(AppointmentPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/schedules",element:jsxRuntimeExports.jsx(LocationsPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/schedule/:schedule-type/add",element:jsxRuntimeExports.jsx(AddSchedulePage,{})}),jsxRuntimeExports.jsx(Route,{path:"/schedule/:schedule-type/:id",element:jsxRuntimeExports.jsx(SchedulePage,{})}),jsxRuntimeExports.jsx(Route,{path:"/employees",element:jsxRuntimeExports.jsx(EmployeesPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/employee/:id",element:jsxRuntimeExports.jsx(EditEmployeePage,{})}),jsxRuntimeExports.jsx(Route,{path:"/patients",element:jsxRuntimeExports.jsx(PatientsPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/patient/:id",element:jsxRuntimeExports.jsx(PatientInformationPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/telemed-admin",element:jsxRuntimeExports.jsx(Navigate,{to:INSURANCES_PATH})}),jsxRuntimeExports.jsx(Route,{path:"/telemed-admin/states",element:jsxRuntimeExports.jsx(TelemedAdminPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/telemed-admin/states/:state",element:jsxRuntimeExports.jsx(EditStatePage,{})}),jsxRuntimeExports.jsx(Route,{path:INSURANCES_PATH,element:jsxRuntimeExports.jsx(TelemedAdminPage,{})}),jsxRuntimeExports.jsx(Route,{path:"".concat(INSURANCES_PATH,"/:insurance"),element:jsxRuntimeExports.jsx(EditInsurance,{})}),jsxRuntimeExports.jsx(Route,{path:"*",element:jsxRuntimeExports.jsx(Navigate,{to:"/"})})]}),(ts==null?void 0:ts.hasRole([RoleType.Administrator,RoleType.Provider]))&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Route,{path:"/",element:jsxRuntimeExports.jsx(Navigate,{to:"/visits"})}),jsxRuntimeExports.jsx(Route,{path:"/logout",element:jsxRuntimeExports.jsx(Logout,{})}),jsxRuntimeExports.jsx(Route,{path:"/visits",element:jsxRuntimeExports.jsx(Appointments,{})}),jsxRuntimeExports.jsx(Route,{path:"/visits/add",element:jsxRuntimeExports.jsx(AddPatient,{})}),jsxRuntimeExports.jsx(Route,{path:"/patient/:id",element:jsxRuntimeExports.jsx(PatientInformationPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/patients",element:jsxRuntimeExports.jsx(PatientsPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/telemed/appointments",element:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(LoadingScreen,{}),children:jsxRuntimeExports.jsx(TelemedTrackingBoardPageLazy,{})})}),jsxRuntimeExports.jsx(Route,{path:"/telemed/appointments/:id",element:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(LoadingScreen,{}),children:jsxRuntimeExports.jsx(TelemedAppointmentPageLazy,{})})}),jsxRuntimeExports.jsx(Route,{path:"*",element:jsxRuntimeExports.jsx(Navigate,{to:"/"})})]})]})})]})})]})}const root=client.createRoot(document.getElementById("root")),AUTH0_REDIRECT_URI={}.VITE_APP_ZAPEHR_APPLICATION_REDIRECT_URL_TELEMED&&location.href.includes({}.VITE_APP_ZAPEHR_APPLICATION_REDIRECT_URL_TELEMED)?{}.VITE_APP_ZAPEHR_APPLICATION_REDIRECT_URL_TELEMED:"http://localhost:4002",queryClient=new QueryClient({defaultOptions:{queries:{refetchOnWindowFocus:!1}}});root.render(jsxRuntimeExports.jsx(reactExports.StrictMode,{children:jsxRuntimeExports.jsx(QueryClientProvider,{client:queryClient,children:jsxRuntimeExports.jsx(Auth0Provider,{domain:"https://auth.zapehr.com",clientId:"7defPglpCYmHawRHh3sjXRweJG27rZBS",audience:"https://api.zapehr.com",redirectUri:AUTH0_REDIRECT_URI,connection:"",children:jsxRuntimeExports.jsx(App,{})})})}));export{TabPanel$2 as $,ApptStatusToPalette as A,Box$1 as B,Chip$1 as C,DateTime as D,default_1$q as E,ChatModal as F,alpha as G,filterAppointments as H,IconButton$2 as I,ApptTab as J,TrackingBoardFilters as K,LoadingButton$1 as L,TableContainer$1 as M,Table$1 as N,TableHead$1 as O,TableBody$1 as P,AllStatesToNames as Q,React$2 as R,Skeleton$1 as S,Typography$1 as T,useGetTelemedAppointments as U,ApptTabToStatus as V,TabContext as W,TabList$1 as X,Tab$1 as Y,Loading as Z,Paper$1 as _,ApptStatus as a,CreateDemoVisitsButton as a0,PageContainer as a1,Grid$1 as a2,ToggleButtonGroup$1 as a3,ContainedPrimaryToggleButton as a4,FormControl$1 as a5,InputLabel$1 as a6,Select$2 as a7,MenuItem$1 as a8,Button$2 as a9,DeviceLabels as aA,useIsReadOnly as aB,useGetAppointmentInformation as aC,useExamObservationsStore as aD,EXAM_OBSERVATIONS_INITIAL as aE,useExamCardsStore as aF,EXAM_CARDS_INITIAL as aG,AppointmentHeader as aH,Le as aI,lightTheme as aJ,GlobalStyles as aK,MeetingProvider as aL,AppointmentTabs as aM,PATIENT_PHOTO_CODE as aN,getQuestionnaireResponseByLinkId as aO,allLicensesForPractitioner as aa,Dialog$1 as ab,DialogTitle$1 as ac,DialogContent$1 as ad,DialogActions$1 as ae,requireCreateSvgIcon as af,interopRequireDefaultExports as ag,useMeetingManager as ah,useAudioVideo as ai,buildExports as aj,useAppointmentStore as ak,useParams as al,useLocalVideo as am,useToggleLocalMute as an,IconButtonContained as ao,CircularProgress$1 as ap,useVideoCallStore as aq,useRemoteVideoTileState as ar,useRosterState as as,RemoteVideo as at,LocalVideo as au,Draggable$1 as av,Card$1 as aw,Divider$1 as ax,AppointmentFooter as ay,Container$1 as az,ClickAwayListener as b,CustomTooltip as c,diffInMinutes as d,default_1$n as e,getSelectors as f,getAppointmentWaitingTime as g,useTrackingBoardStore as h,useOttehrUser as i,jsxRuntimeExports as j,checkIsEncounterForPractitioner as k,useZapEHRAPIClient as l,useChangeTelemedAppointmentStatusMutation as m,useNavigate as n,useQueryClient as o,ConfirmationDialog as p,formatDateUsingSlashes as q,reactExports as r,calculatePatientAge as s,TableRow$1 as t,useTheme$1 as u,otherColors as v,TableCell$1 as w,Tooltip$1 as x,Duration as y,Badge$1 as z};
